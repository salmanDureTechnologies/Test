function _createForOfIteratorHelper(S,e){var i;if(typeof Symbol>"u"||null==S[Symbol.iterator]){if(Array.isArray(S)||(i=_unsupportedIterableToArray(S))||e&&S&&"number"==typeof S.length){i&&(S=i);var s=0,c=function(){};return{s:c,n:function(){return s>=S.length?{done:!0}:{done:!1,value:S[s++]}},e:function(Y){throw Y},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j,T=!0,M=!1;return{s:function(){i=S[Symbol.iterator]()},n:function(){var Y=i.next();return T=Y.done,Y},e:function(Y){M=!0,j=Y},f:function(){try{!T&&null!=i.return&&i.return()}finally{if(M)throw j}}}}function _unsupportedIterableToArray(S,e){if(S){if("string"==typeof S)return _arrayLikeToArray(S,e);var i=Object.prototype.toString.call(S).slice(8,-1);if("Object"===i&&S.constructor&&(i=S.constructor.name),"Map"===i||"Set"===i)return Array.from(S);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(S,e)}}function _arrayLikeToArray(S,e){(null==e||e>S.length)&&(e=S.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=S[i];return s}function getFeather(){"use strict";var S;feather.replace(),function(){var c,S=document.querySelector(".sidebar"),e=document.querySelector(".cat-sub-menu"),i=document.querySelectorAll(".sidebar-toggle"),s=_createForOfIteratorHelper(i);try{for(s.s();!(c=s.n()).done;){var T=c.value;T&&e&&T&&T.addEventListener("click",function(){var j,M=_createForOfIteratorHelper(i);try{for(M.s();!(j=M.n()).done;)j.value.classList.toggle("rotated")}catch(Y){M.e(Y)}finally{M.f()}S.classList.toggle("hidden"),e.classList.remove("visible")})}}catch(M){s.e(M)}finally{s.f()}}(),(S=document.querySelectorAll(".show-cat-btn"))&&S.forEach(function(e){var i=e.nextElementSibling;e.addEventListener("click",function(s){s.preventDefault(),i.classList.toggle("visible"),document.querySelector(".category__btn").classList.toggle("rotated")})}),function(){var S=document.querySelector(".lang-switcher"),e=document.querySelector(".lang-menu"),i=document.querySelector(".layer");S&&(S.addEventListener("click",function(){e.classList.add("active"),i.classList.add("active")}),i&&i.addEventListener("click",function(s){e.classList.contains("active")&&(e.classList.remove("active"),i.classList.remove("active"))}))}(),function(){var S=document.querySelectorAll(".dropdown-btn"),e=document.querySelectorAll(".users-item-dropdown"),i=document.querySelector(".layer");if(e&&S){var c,s=_createForOfIteratorHelper(S);try{for(s.s();!(c=s.n()).done;)c.value.addEventListener("click",function(M){i.classList.add("active");var G,j=_createForOfIteratorHelper(e);try{for(j.s();!(G=j.n()).done;){var Y=G.value;M.currentTarget.nextElementSibling==Y?Y.classList.contains("active")?Y.classList.remove("active"):Y.classList.add("active"):Y.classList.remove("active")}}catch(z){j.e(z)}finally{j.f()}})}catch(M){s.e(M)}finally{s.f()}}i&&i.addEventListener("click",function(M){var G,j=_createForOfIteratorHelper(e);try{for(j.s();!(G=j.n()).done;){var Y=G.value;Y.classList.contains("active")&&(Y.classList.remove("active"),i.classList.remove("active"))}}catch(z){j.e(z)}finally{j.f()}})}()}function drawPie(){Highcharts.chart("chartPie",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{style:{color:"black",size:"20%"},text:""},credits:{enabled:!1},plotOptions:{pie:{slicedOffset:"0"}},tooltip:{useHTML:!0,headerFormat:'<span style="font-size:12px">{point.key}</span><table>',pointFormat:": <b>{point.y}</b>",shared:!0},accessibility:{point:{valueSuffix:""}},series:[{type:"pie",name:"",data:[{name:"High regular",y:9,color:"#AD5E59"},{name:"High epidemic",y:6,color:"#E7786F"},{name:"Medium",y:4,color:"#ECA877"},{name:"Low",y:4,color:"#F9E1A3"},{name:"No case",y:8,color:"#C4C9D1"}]}],legend:{layout:"vertical",align:"right",verticalAlign:"middle",symbolHeight:11,symbolWidth:11,symbolRadius:0},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{style:{fontSize:"13px"},distance:-50,format:"<b>{point.y}</b>",enabled:!0},showInLegend:!0}},exporting:{buttons:{contextButton:{text:"",symbol:"url(/sites/all/themes/fastrackcities/images/download-icon.png)",symbolStrokeWidth:1,symbolFill:"#bada55",symbolStroke:"#330033"}}}})}(function(S,e){"object"==typeof exports&&typeof module<"u"?module.exports=e():"function"==typeof define&&define.amd?define(e):(S=typeof globalThis<"u"?globalThis:S||self).bootstrap=e()})(this,function(){"use strict";const S="transitionend",e=Kt=>{let lt=Kt.getAttribute("data-bs-target");if(!lt||"#"===lt){let Et=Kt.getAttribute("href");if(!Et||!Et.includes("#")&&!Et.startsWith("."))return null;Et.includes("#")&&!Et.startsWith("#")&&(Et=`#${Et.split("#")[1]}`),lt=Et&&"#"!==Et?Et.trim():null}return lt},i=Kt=>{const lt=e(Kt);return lt&&document.querySelector(lt)?lt:null},s=Kt=>{const lt=e(Kt);return lt?document.querySelector(lt):null},c=Kt=>{Kt.dispatchEvent(new Event(S))},T=Kt=>!(!Kt||"object"!=typeof Kt)&&(void 0!==Kt.jquery&&(Kt=Kt[0]),void 0!==Kt.nodeType),M=Kt=>T(Kt)?Kt.jquery?Kt[0]:Kt:"string"==typeof Kt&&Kt.length>0?document.querySelector(Kt):null,j=Kt=>{if(!T(Kt)||0===Kt.getClientRects().length)return!1;const lt="visible"===getComputedStyle(Kt).getPropertyValue("visibility"),Et=Kt.closest("details:not([open])");if(!Et)return lt;if(Et!==Kt){const fe=Kt.closest("summary");if(fe&&fe.parentNode!==Et||null===fe)return!1}return lt},G=Kt=>!Kt||Kt.nodeType!==Node.ELEMENT_NODE||!!Kt.classList.contains("disabled")||(void 0!==Kt.disabled?Kt.disabled:Kt.hasAttribute("disabled")&&"false"!==Kt.getAttribute("disabled")),Y=Kt=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof Kt.getRootNode){const lt=Kt.getRootNode();return lt instanceof ShadowRoot?lt:null}return Kt instanceof ShadowRoot?Kt:Kt.parentNode?Y(Kt.parentNode):null},z=()=>{},N=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,a=[],p=()=>"rtl"===document.documentElement.dir,l=Kt=>{var lt;lt=()=>{const Et=N();if(Et){const fe=Kt.NAME,Ke=Et.fn[fe];Et.fn[fe]=Kt.jQueryInterface,Et.fn[fe].Constructor=Kt,Et.fn[fe].noConflict=()=>(Et.fn[fe]=Ke,Kt.jQueryInterface)}},"loading"===document.readyState?(a.length||document.addEventListener("DOMContentLoaded",()=>{for(const Et of a)Et()}),a.push(lt)):lt()},d=Kt=>{"function"==typeof Kt&&Kt()},_=(Kt,lt,Et=!0)=>{if(!Et)return void d(Kt);const fe=(si=>{if(!si)return 0;let{transitionDuration:Vi,transitionDelay:en}=window.getComputedStyle(si);const un=Number.parseFloat(Vi),Hi=Number.parseFloat(en);return un||Hi?(Vi=Vi.split(",")[0],en=en.split(",")[0],1e3*(Number.parseFloat(Vi)+Number.parseFloat(en))):0})(lt)+5;let Ke=!1;const Je=({target:si})=>{si===lt&&(Ke=!0,lt.removeEventListener(S,Je),d(Kt))};lt.addEventListener(S,Je),setTimeout(()=>{Ke||c(lt)},fe)},w=(Kt,lt,Et,fe)=>{const Ke=Kt.length;let Je=Kt.indexOf(lt);return-1===Je?!Et&&fe?Kt[Ke-1]:Kt[0]:(Je+=Et?1:-1,fe&&(Je=(Je+Ke)%Ke),Kt[Math.max(0,Math.min(Je,Ke-1))])},x=/[^.]*(?=\..*)\.|.*/,I=/\..*/,h=/::\d+$/,n={};let D=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},E=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function m(Kt,lt){return lt&&`${lt}::${D++}`||Kt.uidEvent||D++}function C(Kt){const lt=m(Kt);return Kt.uidEvent=lt,n[lt]=n[lt]||{},n[lt]}function A(Kt,lt,Et=null){return Object.values(Kt).find(fe=>fe.callable===lt&&fe.delegationSelector===Et)}function k(Kt,lt,Et){const fe="string"==typeof lt,Ke=fe?Et:lt||Et;let Je=U(Kt);return E.has(Je)||(Je=Kt),[fe,Ke,Je]}function f(Kt,lt,Et,fe,Ke){if("string"!=typeof lt||!Kt)return;let[Je,si,Vi]=k(lt,Et,fe);var ar;lt in P&&(ar=si,si=function(ur){if(!ur.relatedTarget||ur.relatedTarget!==ur.delegateTarget&&!ur.delegateTarget.contains(ur.relatedTarget))return ar.call(this,ur)});const en=C(Kt),un=en[Vi]||(en[Vi]={}),Hi=A(un,si,Je?Et:null);if(Hi)return void(Hi.oneOff=Hi.oneOff&&Ke);const nn=m(si,lt.replace(x,"")),er=Je?function(Jn,ar,ur){return function Sr(po){const so=Jn.querySelectorAll(ar);for(let{target:Ar}=po;Ar&&Ar!==this;Ar=Ar.parentNode)for(const Or of so)if(Or===Ar)return tt(po,{delegateTarget:Ar}),Sr.oneOff&&X.off(Jn,po.type,ar,ur),ur.apply(Ar,[po])}}(Kt,Et,si):function(Jn,ar){return function ur(Sr){return tt(Sr,{delegateTarget:Jn}),ur.oneOff&&X.off(Jn,Sr.type,ar),ar.apply(Jn,[Sr])}}(Kt,si);er.delegationSelector=Je?Et:null,er.callable=si,er.oneOff=Ke,er.uidEvent=nn,un[nn]=er,Kt.addEventListener(Vi,er,Je)}function o(Kt,lt,Et,fe,Ke){const Je=A(lt[Et],fe,Ke);Je&&(Kt.removeEventListener(Et,Je,Boolean(Ke)),delete lt[Et][Je.uidEvent])}function R(Kt,lt,Et,fe){const Ke=lt[Et]||{};for(const Je of Object.keys(Ke))if(Je.includes(fe)){const si=Ke[Je];o(Kt,lt,Et,si.callable,si.delegationSelector)}}function U(Kt){return Kt=Kt.replace(I,""),P[Kt]||Kt}const X={on(Kt,lt,Et,fe){f(Kt,lt,Et,fe,!1)},one(Kt,lt,Et,fe){f(Kt,lt,Et,fe,!0)},off(Kt,lt,Et,fe){if("string"!=typeof lt||!Kt)return;const[Ke,Je,si]=k(lt,Et,fe),Vi=si!==lt,en=C(Kt),un=en[si]||{},Hi=lt.startsWith(".");if(void 0===Je){if(Hi)for(const nn of Object.keys(en))R(Kt,en,nn,lt.slice(1));for(const nn of Object.keys(un)){const er=nn.replace(h,"");if(!Vi||lt.includes(er)){const Jn=un[nn];o(Kt,en,si,Jn.callable,Jn.delegationSelector)}}}else{if(!Object.keys(un).length)return;o(Kt,en,si,Je,Ke?Et:null)}},trigger(Kt,lt,Et){if("string"!=typeof lt||!Kt)return null;const fe=N();let Ke=null,Je=!0,si=!0,Vi=!1;lt!==U(lt)&&fe&&(Ke=fe.Event(lt,Et),fe(Kt).trigger(Ke),Je=!Ke.isPropagationStopped(),si=!Ke.isImmediatePropagationStopped(),Vi=Ke.isDefaultPrevented());let en=new Event(lt,{bubbles:Je,cancelable:!0});return en=tt(en,Et),Vi&&en.preventDefault(),si&&Kt.dispatchEvent(en),en.defaultPrevented&&Ke&&Ke.preventDefault(),en}};function tt(Kt,lt){for(const[Et,fe]of Object.entries(lt||{}))try{Kt[Et]=fe}catch{Object.defineProperty(Kt,Et,{configurable:!0,get:()=>fe})}return Kt}const pt=new Map,ot={set(Kt,lt,Et){pt.has(Kt)||pt.set(Kt,new Map);const fe=pt.get(Kt);fe.has(lt)||0===fe.size?fe.set(lt,Et):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(fe.keys())[0]}.`)},get:(Kt,lt)=>pt.has(Kt)&&pt.get(Kt).get(lt)||null,remove(Kt,lt){if(!pt.has(Kt))return;const Et=pt.get(Kt);Et.delete(lt),0===Et.size&&pt.delete(Kt)}};function W(Kt){if("true"===Kt)return!0;if("false"===Kt)return!1;if(Kt===Number(Kt).toString())return Number(Kt);if(""===Kt||"null"===Kt)return null;if("string"!=typeof Kt)return Kt;try{return JSON.parse(decodeURIComponent(Kt))}catch{return Kt}}function K(Kt){return Kt.replace(/[A-Z]/g,lt=>`-${lt.toLowerCase()}`)}const gt={setDataAttribute(Kt,lt,Et){Kt.setAttribute(`data-bs-${K(lt)}`,Et)},removeDataAttribute(Kt,lt){Kt.removeAttribute(`data-bs-${K(lt)}`)},getDataAttributes(Kt){if(!Kt)return{};const lt={},Et=Object.keys(Kt.dataset).filter(fe=>fe.startsWith("bs")&&!fe.startsWith("bsConfig"));for(const fe of Et){let Ke=fe.replace(/^bs/,"");Ke=Ke.charAt(0).toLowerCase()+Ke.slice(1,Ke.length),lt[Ke]=W(Kt.dataset[fe])}return lt},getDataAttribute:(Kt,lt)=>W(Kt.getAttribute(`data-bs-${K(lt)}`))};class yt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(lt){return lt=this._mergeConfigObj(lt),lt=this._configAfterMerge(lt),this._typeCheckConfig(lt),lt}_configAfterMerge(lt){return lt}_mergeConfigObj(lt,Et){const fe=T(Et)?gt.getDataAttribute(Et,"config"):{};return{...this.constructor.Default,..."object"==typeof fe?fe:{},...T(Et)?gt.getDataAttributes(Et):{},..."object"==typeof lt?lt:{}}}_typeCheckConfig(lt,Et=this.constructor.DefaultType){for(const Ke of Object.keys(Et)){const Je=Et[Ke],si=lt[Ke],Vi=T(si)?"element":null==(fe=si)?`${fe}`:Object.prototype.toString.call(fe).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Je).test(Vi))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Ke}" provided type "${Vi}" but expected type "${Je}".`)}var fe}}class _t extends yt{constructor(lt,Et){super(),(lt=M(lt))&&(this._element=lt,this._config=this._getConfig(Et),ot.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ot.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const lt of Object.getOwnPropertyNames(this))this[lt]=null}_queueCallback(lt,Et,fe=!0){_(lt,Et,fe)}_getConfig(lt){return lt=this._mergeConfigObj(lt,this._element),lt=this._configAfterMerge(lt),this._typeCheckConfig(lt),lt}static getInstance(lt){return ot.get(M(lt),this.DATA_KEY)}static getOrCreateInstance(lt,Et={}){return this.getInstance(lt)||new this(lt,"object"==typeof Et?Et:null)}static get VERSION(){return"5.2.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(lt){return`${lt}${this.EVENT_KEY}`}}const rt=(Kt,lt="hide")=>{const fe=Kt.NAME;X.on(document,`click.dismiss${Kt.EVENT_KEY}`,`[data-bs-dismiss="${fe}"]`,function(Ke){if(["A","AREA"].includes(this.tagName)&&Ke.preventDefault(),G(this))return;const Je=s(this)||this.closest(`.${fe}`);Kt.getOrCreateInstance(Je)[lt]()})};class ut extends _t{static get NAME(){return"alert"}close(){if(X.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const lt=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,lt)}_destroyElement(){this._element.remove(),X.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(lt){return this.each(function(){const Et=ut.getOrCreateInstance(this);if("string"==typeof lt){if(void 0===Et[lt]||lt.startsWith("_")||"constructor"===lt)throw new TypeError(`No method named "${lt}"`);Et[lt](this)}})}}rt(ut,"close"),l(ut);const at='[data-bs-toggle="button"]';class Ct extends _t{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(lt){return this.each(function(){const Et=Ct.getOrCreateInstance(this);"toggle"===lt&&Et[lt]()})}}X.on(document,"click.bs.button.data-api",at,Kt=>{Kt.preventDefault();const lt=Kt.target.closest(at);Ct.getOrCreateInstance(lt).toggle()}),l(Ct);const vt={find:(Kt,lt=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(lt,Kt)),findOne:(Kt,lt=document.documentElement)=>Element.prototype.querySelector.call(lt,Kt),children:(Kt,lt)=>[].concat(...Kt.children).filter(Et=>Et.matches(lt)),parents(Kt,lt){const Et=[];let fe=Kt.parentNode.closest(lt);for(;fe;)Et.push(fe),fe=fe.parentNode.closest(lt);return Et},prev(Kt,lt){let Et=Kt.previousElementSibling;for(;Et;){if(Et.matches(lt))return[Et];Et=Et.previousElementSibling}return[]},next(Kt,lt){let Et=Kt.nextElementSibling;for(;Et;){if(Et.matches(lt))return[Et];Et=Et.nextElementSibling}return[]},focusableChildren(Kt){const lt=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Et=>`${Et}:not([tabindex^="-"])`).join(",");return this.find(lt,Kt).filter(Et=>!G(Et)&&j(Et))}},ct={endCallback:null,leftCallback:null,rightCallback:null},Tt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class kt extends yt{constructor(lt,Et){super(),this._element=lt,lt&&kt.isSupported()&&(this._config=this._getConfig(Et),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ct}static get DefaultType(){return Tt}static get NAME(){return"swipe"}dispose(){X.off(this._element,".bs.swipe")}_start(lt){this._supportPointerEvents?this._eventIsPointerPenTouch(lt)&&(this._deltaX=lt.clientX):this._deltaX=lt.touches[0].clientX}_end(lt){this._eventIsPointerPenTouch(lt)&&(this._deltaX=lt.clientX-this._deltaX),this._handleSwipe(),d(this._config.endCallback)}_move(lt){this._deltaX=lt.touches&&lt.touches.length>1?0:lt.touches[0].clientX-this._deltaX}_handleSwipe(){const lt=Math.abs(this._deltaX);if(lt<=40)return;const Et=lt/this._deltaX;this._deltaX=0,Et&&d(Et>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,"pointerdown.bs.swipe",lt=>this._start(lt)),X.on(this._element,"pointerup.bs.swipe",lt=>this._end(lt)),this._element.classList.add("pointer-event")):(X.on(this._element,"touchstart.bs.swipe",lt=>this._start(lt)),X.on(this._element,"touchmove.bs.swipe",lt=>this._move(lt)),X.on(this._element,"touchend.bs.swipe",lt=>this._end(lt)))}_eventIsPointerPenTouch(lt){return this._supportPointerEvents&&("pen"===lt.pointerType||"touch"===lt.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ft="next",Ot="prev",jt="left",$t="right",Wt="slid.bs.carousel",ne="carousel",Jt="active",Nt={ArrowLeft:$t,ArrowRight:jt},Rt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ie={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class se extends _t{constructor(lt,Et){super(lt,Et),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=vt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ne&&this.cycle()}static get Default(){return Rt}static get DefaultType(){return ie}static get NAME(){return"carousel"}next(){this._slide(Ft)}nextWhenVisible(){!document.hidden&&j(this._element)&&this.next()}prev(){this._slide(Ot)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?X.one(this._element,Wt,()=>this.cycle()):this.cycle())}to(lt){const Et=this._getItems();if(lt>Et.length-1||lt<0)return;if(this._isSliding)return void X.one(this._element,Wt,()=>this.to(lt));const fe=this._getItemIndex(this._getActive());fe!==lt&&this._slide(lt>fe?Ft:Ot,Et[lt])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(lt){return lt.defaultInterval=lt.interval,lt}_addEventListeners(){this._config.keyboard&&X.on(this._element,"keydown.bs.carousel",lt=>this._keydown(lt)),"hover"===this._config.pause&&(X.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),X.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&kt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Et of vt.find(".carousel-item img",this._element))X.on(Et,"dragstart.bs.carousel",fe=>fe.preventDefault());this._swipeHelper=new kt(this._element,{leftCallback:()=>this._slide(this._directionToOrder(jt)),rightCallback:()=>this._slide(this._directionToOrder($t)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(lt){if(/input|textarea/i.test(lt.target.tagName))return;const Et=Nt[lt.key];Et&&(lt.preventDefault(),this._slide(this._directionToOrder(Et)))}_getItemIndex(lt){return this._getItems().indexOf(lt)}_setActiveIndicatorElement(lt){if(!this._indicatorsElement)return;const Et=vt.findOne(".active",this._indicatorsElement);Et.classList.remove(Jt),Et.removeAttribute("aria-current");const fe=vt.findOne(`[data-bs-slide-to="${lt}"]`,this._indicatorsElement);fe&&(fe.classList.add(Jt),fe.setAttribute("aria-current","true"))}_updateInterval(){const lt=this._activeElement||this._getActive();if(!lt)return;const Et=Number.parseInt(lt.getAttribute("data-bs-interval"),10);this._config.interval=Et||this._config.defaultInterval}_slide(lt,Et=null){if(this._isSliding)return;const fe=this._getActive(),Ke=lt===Ft,Je=Et||w(this._getItems(),fe,Ke,this._config.wrap);if(Je===fe)return;const si=this._getItemIndex(Je),Vi=nn=>X.trigger(this._element,nn,{relatedTarget:Je,direction:this._orderToDirection(lt),from:this._getItemIndex(fe),to:si});if(Vi("slide.bs.carousel").defaultPrevented||!fe||!Je)return;const en=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(si),this._activeElement=Je;const un=Ke?"carousel-item-start":"carousel-item-end",Hi=Ke?"carousel-item-next":"carousel-item-prev";Je.classList.add(Hi),fe.classList.add(un),Je.classList.add(un),this._queueCallback(()=>{Je.classList.remove(un,Hi),Je.classList.add(Jt),fe.classList.remove(Jt,Hi,un),this._isSliding=!1,Vi(Wt)},fe,this._isAnimated()),en&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return vt.findOne(".active.carousel-item",this._element)}_getItems(){return vt.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(lt){return p()?lt===jt?Ot:Ft:lt===jt?Ft:Ot}_orderToDirection(lt){return p()?lt===Ot?jt:$t:lt===Ot?$t:jt}static jQueryInterface(lt){return this.each(function(){const Et=se.getOrCreateInstance(this,lt);if("number"!=typeof lt){if("string"==typeof lt){if(void 0===Et[lt]||lt.startsWith("_")||"constructor"===lt)throw new TypeError(`No method named "${lt}"`);Et[lt]()}}else Et.to(lt)})}}X.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(Kt){const lt=s(this);if(!lt||!lt.classList.contains(ne))return;Kt.preventDefault();const Et=se.getOrCreateInstance(lt),fe=this.getAttribute("data-bs-slide-to");return fe?(Et.to(fe),void Et._maybeEnableCycle()):"next"===gt.getDataAttribute(this,"slide")?(Et.next(),void Et._maybeEnableCycle()):(Et.prev(),void Et._maybeEnableCycle())}),X.on(window,"load.bs.carousel.data-api",()=>{const Kt=vt.find('[data-bs-ride="carousel"]');for(const lt of Kt)se.getOrCreateInstance(lt)}),l(se);const ce="show",te="collapse",Ie="collapsing",Ve='[data-bs-toggle="collapse"]',Ai={parent:null,toggle:!0},gi={parent:"(null|element)",toggle:"boolean"};class pi extends _t{constructor(lt,Et){super(lt,Et),this._isTransitioning=!1,this._triggerArray=[];const fe=vt.find(Ve);for(const Ke of fe){const Je=i(Ke),si=vt.find(Je).filter(Vi=>Vi===this._element);null!==Je&&si.length&&this._triggerArray.push(Ke)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ai}static get DefaultType(){return gi}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let lt=[];if(this._config.parent&&(lt=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Ke=>Ke!==this._element).map(Ke=>pi.getOrCreateInstance(Ke,{toggle:!1}))),lt.length&&lt[0]._isTransitioning||X.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const Ke of lt)Ke.hide();const Et=this._getDimension();this._element.classList.remove(te),this._element.classList.add(Ie),this._element.style[Et]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const fe=`scroll${Et[0].toUpperCase()+Et.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ie),this._element.classList.add(te,ce),this._element.style[Et]="",X.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[Et]=`${this._element[fe]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const lt=this._getDimension();this._element.style[lt]=`${this._element.getBoundingClientRect()[lt]}px`,this._element.classList.add(Ie),this._element.classList.remove(te,ce);for(const Et of this._triggerArray){const fe=s(Et);fe&&!this._isShown(fe)&&this._addAriaAndCollapsedClass([Et],!1)}this._isTransitioning=!0,this._element.style[lt]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ie),this._element.classList.add(te),X.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(lt=this._element){return lt.classList.contains(ce)}_configAfterMerge(lt){return lt.toggle=Boolean(lt.toggle),lt.parent=M(lt.parent),lt}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const lt=this._getFirstLevelChildren(Ve);for(const Et of lt){const fe=s(Et);fe&&this._addAriaAndCollapsedClass([Et],this._isShown(fe))}}_getFirstLevelChildren(lt){const Et=vt.find(":scope .collapse .collapse",this._config.parent);return vt.find(lt,this._config.parent).filter(fe=>!Et.includes(fe))}_addAriaAndCollapsedClass(lt,Et){if(lt.length)for(const fe of lt)fe.classList.toggle("collapsed",!Et),fe.setAttribute("aria-expanded",Et)}static jQueryInterface(lt){const Et={};return"string"==typeof lt&&/show|hide/.test(lt)&&(Et.toggle=!1),this.each(function(){const fe=pi.getOrCreateInstance(this,Et);if("string"==typeof lt){if(void 0===fe[lt])throw new TypeError(`No method named "${lt}"`);fe[lt]()}})}}X.on(document,"click.bs.collapse.data-api",Ve,function(Kt){("A"===Kt.target.tagName||Kt.delegateTarget&&"A"===Kt.delegateTarget.tagName)&&Kt.preventDefault();const lt=i(this),Et=vt.find(lt);for(const fe of Et)pi.getOrCreateInstance(fe,{toggle:!1}).toggle()}),l(pi);var Ri="top",ti="bottom",Ti="right",xi="left",be="auto",ii=[Ri,ti,Ti,xi],nt="start",St="end",Gt="clippingParents",ee="viewport",ge="popper",Ae="reference",yi=ii.reduce(function(Kt,lt){return Kt.concat([lt+"-"+nt,lt+"-"+St])},[]),Fi=[].concat(ii,[be]).reduce(function(Kt,lt){return Kt.concat([lt,lt+"-"+nt,lt+"-"+St])},[]),Li="beforeRead",cn="afterRead",Fn="beforeMain",Yi="afterMain",ei="beforeWrite",li="afterWrite",Xi=[Li,"read",cn,Fn,"main",Yi,ei,"write",li];function tn(Kt){return Kt?(Kt.nodeName||"").toLowerCase():null}function Zi(Kt){if(null==Kt)return window;if("[object Window]"!==Kt.toString()){var lt=Kt.ownerDocument;return lt&&lt.defaultView||window}return Kt}function _n(Kt){return Kt instanceof Zi(Kt).Element||Kt instanceof Element}function ji(Kt){return Kt instanceof Zi(Kt).HTMLElement||Kt instanceof HTMLElement}function We(Kt){return typeof ShadowRoot<"u"&&(Kt instanceof Zi(Kt).ShadowRoot||Kt instanceof ShadowRoot)}const Z={name:"applyStyles",enabled:!0,phase:"write",fn:function(Kt){var lt=Kt.state;Object.keys(lt.elements).forEach(function(Et){var fe=lt.styles[Et]||{},Ke=lt.attributes[Et]||{},Je=lt.elements[Et];ji(Je)&&tn(Je)&&(Object.assign(Je.style,fe),Object.keys(Ke).forEach(function(si){var Vi=Ke[si];!1===Vi?Je.removeAttribute(si):Je.setAttribute(si,!0===Vi?"":Vi)}))})},effect:function(Kt){var lt=Kt.state,Et={popper:{position:lt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(lt.elements.popper.style,Et.popper),lt.styles=Et,lt.elements.arrow&&Object.assign(lt.elements.arrow.style,Et.arrow),function(){Object.keys(lt.elements).forEach(function(fe){var Ke=lt.elements[fe],Je=lt.attributes[fe]||{},si=Object.keys(lt.styles.hasOwnProperty(fe)?lt.styles[fe]:Et[fe]).reduce(function(Vi,en){return Vi[en]="",Vi},{});ji(Ke)&&tn(Ke)&&(Object.assign(Ke.style,si),Object.keys(Je).forEach(function(Vi){Ke.removeAttribute(Vi)}))})}},requires:["computeStyles"]};function Q(Kt){return Kt.split("-")[0]}var ht=Math.max,xt=Math.min,Lt=Math.round;function Ut(){var Kt=navigator.userAgentData;return null!=Kt&&Kt.brands?Kt.brands.map(function(lt){return lt.brand+"/"+lt.version}).join(" "):navigator.userAgent}function re(){return!/^((?!chrome|android).)*safari/i.test(Ut())}function Xt(Kt,lt,Et){void 0===lt&&(lt=!1),void 0===Et&&(Et=!1);var fe=Kt.getBoundingClientRect(),Ke=1,Je=1;lt&&ji(Kt)&&(Ke=Kt.offsetWidth>0&&Lt(fe.width)/Kt.offsetWidth||1,Je=Kt.offsetHeight>0&&Lt(fe.height)/Kt.offsetHeight||1);var si=(_n(Kt)?Zi(Kt):window).visualViewport,Vi=!re()&&Et,en=(fe.left+(Vi&&si?si.offsetLeft:0))/Ke,un=(fe.top+(Vi&&si?si.offsetTop:0))/Je,Hi=fe.width/Ke,nn=fe.height/Je;return{width:Hi,height:nn,top:un,right:en+Hi,bottom:un+nn,left:en,x:en,y:un}}function oe(Kt){var lt=Xt(Kt),Et=Kt.offsetWidth,fe=Kt.offsetHeight;return Math.abs(lt.width-Et)<=1&&(Et=lt.width),Math.abs(lt.height-fe)<=1&&(fe=lt.height),{x:Kt.offsetLeft,y:Kt.offsetTop,width:Et,height:fe}}function Le(Kt,lt){var Et=lt.getRootNode&&lt.getRootNode();if(Kt.contains(lt))return!0;if(Et&&We(Et)){var fe=lt;do{if(fe&&Kt.isSameNode(fe))return!0;fe=fe.parentNode||fe.host}while(fe)}return!1}function Oe(Kt){return Zi(Kt).getComputedStyle(Kt)}function Qe(Kt){return["table","td","th"].indexOf(tn(Kt))>=0}function ue(Kt){return((_n(Kt)?Kt.ownerDocument:Kt.document)||window.document).documentElement}function Ye(Kt){return"html"===tn(Kt)?Kt:Kt.assignedSlot||Kt.parentNode||(We(Kt)?Kt.host:null)||ue(Kt)}function De(Kt){return ji(Kt)&&"fixed"!==Oe(Kt).position?Kt.offsetParent:null}function di(Kt){for(var lt=Zi(Kt),Et=De(Kt);Et&&Qe(Et)&&"static"===Oe(Et).position;)Et=De(Et);return Et&&("html"===tn(Et)||"body"===tn(Et)&&"static"===Oe(Et).position)?lt:Et||function(fe){var Ke=/firefox/i.test(Ut());if(/Trident/i.test(Ut())&&ji(fe)&&"fixed"===Oe(fe).position)return null;var Je=Ye(fe);for(We(Je)&&(Je=Je.host);ji(Je)&&["html","body"].indexOf(tn(Je))<0;){var si=Oe(Je);if("none"!==si.transform||"none"!==si.perspective||"paint"===si.contain||-1!==["transform","perspective"].indexOf(si.willChange)||Ke&&"filter"===si.willChange||Ke&&si.filter&&"none"!==si.filter)return Je;Je=Je.parentNode}return null}(Kt)||lt}function Xe(Kt){return["top","bottom"].indexOf(Kt)>=0?"x":"y"}function Oi(Kt,lt,Et){return ht(Kt,xt(lt,Et))}function ki(Kt){return Object.assign({},{top:0,right:0,bottom:0,left:0},Kt)}function oi(Kt,lt){return lt.reduce(function(Et,fe){return Et[fe]=Kt,Et},{})}const an={name:"arrow",enabled:!0,phase:"main",fn:function(Kt){var lt,dr,Ji,Et=Kt.state,fe=Kt.name,Ke=Kt.options,Je=Et.elements.arrow,si=Et.modifiersData.popperOffsets,Vi=Q(Et.placement),en=Xe(Vi),un=[xi,Ti].indexOf(Vi)>=0?"height":"width";if(Je&&si){var Hi=(Ji=Et,ki("number"!=typeof(dr="function"==typeof(dr=Ke.padding)?dr(Object.assign({},Ji.rects,{placement:Ji.placement})):dr)?dr:oi(dr,ii))),nn=oe(Je),er="y"===en?Ri:xi,Jn="y"===en?ti:Ti,ar=Et.rects.reference[un]+Et.rects.reference[en]-si[en]-Et.rects.popper[un],ur=si[en]-Et.rects.reference[en],Sr=di(Je),po=Sr?"y"===en?Sr.clientHeight||0:Sr.clientWidth||0:0,Hn=po/2-nn[un]/2+(ar/2-ur/2),Ir=Oi(Hi[er],Hn,po-nn[un]-Hi[Jn]);Et.modifiersData[fe]=((lt={})[en]=Ir,lt.centerOffset=Ir-Hn,lt)}},effect:function(Kt){var lt=Kt.state,Et=Kt.options.element,fe=void 0===Et?"[data-popper-arrow]":Et;null!=fe&&("string"!=typeof fe||(fe=lt.elements.popper.querySelector(fe)))&&Le(lt.elements.popper,fe)&&(lt.elements.arrow=fe)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ii(Kt){return Kt.split("-")[1]}var Pn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yn(Kt){var lt,Et=Kt.popper,fe=Kt.popperRect,Ke=Kt.placement,Je=Kt.variation,si=Kt.offsets,Vi=Kt.position,en=Kt.gpuAcceleration,un=Kt.adaptive,Hi=Kt.roundOffsets,nn=Kt.isFixed,er=si.x,Jn=void 0===er?0:er,ar=si.y,ur=void 0===ar?0:ar,Sr="function"==typeof Hi?Hi({x:Jn,y:ur}):{x:Jn,y:ur};Jn=Sr.x,ur=Sr.y;var po=si.hasOwnProperty("x"),so=si.hasOwnProperty("y"),Ar=xi,Or=Ri,Hn=window;if(un){var Ir=di(Et),ao="clientHeight",dr="clientWidth";Ir===Zi(Et)&&"static"!==Oe(Ir=ue(Et)).position&&"absolute"===Vi&&(ao="scrollHeight",dr="scrollWidth"),(Ke===Ri||(Ke===xi||Ke===Ti)&&Je===St)&&(Or=ti,ur-=(nn&&Ir===Hn&&Hn.visualViewport?Hn.visualViewport.height:Ir[ao])-fe.height,ur*=en?1:-1),Ke!==xi&&(Ke!==Ri&&Ke!==ti||Je!==St)||(Ar=Ti,Jn-=(nn&&Ir===Hn&&Hn.visualViewport?Hn.visualViewport.width:Ir[dr])-fe.width,Jn*=en?1:-1)}var Ji,ms,_o,os,qr=Object.assign({position:Vi},un&&Pn),fs=!0===Hi?(_o=(ms={x:Jn,y:ur}).y,os=window.devicePixelRatio||1,{x:Lt(ms.x*os)/os||0,y:Lt(_o*os)/os||0}):{x:Jn,y:ur};return Jn=fs.x,ur=fs.y,Object.assign({},qr,en?((Ji={})[Or]=so?"0":"",Ji[Ar]=po?"0":"",Ji.transform=(Hn.devicePixelRatio||1)<=1?"translate("+Jn+"px, "+ur+"px)":"translate3d("+Jn+"px, "+ur+"px, 0)",Ji):((lt={})[Or]=so?ur+"px":"",lt[Ar]=po?Jn+"px":"",lt.transform="",lt))}const bn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Kt){var lt=Kt.state,Et=Kt.options,fe=Et.gpuAcceleration,Ke=void 0===fe||fe,Je=Et.adaptive,si=void 0===Je||Je,Vi=Et.roundOffsets,en=void 0===Vi||Vi,un={placement:Q(lt.placement),variation:Ii(lt.placement),popper:lt.elements.popper,popperRect:lt.rects.popper,gpuAcceleration:Ke,isFixed:"fixed"===lt.options.strategy};null!=lt.modifiersData.popperOffsets&&(lt.styles.popper=Object.assign({},lt.styles.popper,yn(Object.assign({},un,{offsets:lt.modifiersData.popperOffsets,position:lt.options.strategy,adaptive:si,roundOffsets:en})))),null!=lt.modifiersData.arrow&&(lt.styles.arrow=Object.assign({},lt.styles.arrow,yn(Object.assign({},un,{offsets:lt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:en})))),lt.attributes.popper=Object.assign({},lt.attributes.popper,{"data-popper-placement":lt.placement})},data:{}};var En={passive:!0};const kn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Kt){var lt=Kt.state,Et=Kt.instance,fe=Kt.options,Ke=fe.scroll,Je=void 0===Ke||Ke,si=fe.resize,Vi=void 0===si||si,en=Zi(lt.elements.popper),un=[].concat(lt.scrollParents.reference,lt.scrollParents.popper);return Je&&un.forEach(function(Hi){Hi.addEventListener("scroll",Et.update,En)}),Vi&&en.addEventListener("resize",Et.update,En),function(){Je&&un.forEach(function(Hi){Hi.removeEventListener("scroll",Et.update,En)}),Vi&&en.removeEventListener("resize",Et.update,En)}},data:{}};var Qn={left:"right",right:"left",bottom:"top",top:"bottom"};function wn(Kt){return Kt.replace(/left|right|bottom|top/g,function(lt){return Qn[lt]})}var Yn={start:"end",end:"start"};function In(Kt){return Kt.replace(/start|end/g,function(lt){return Yn[lt]})}function An(Kt){var lt=Zi(Kt);return{scrollLeft:lt.pageXOffset,scrollTop:lt.pageYOffset}}function zi(Kt){return Xt(ue(Kt)).left+An(Kt).scrollLeft}function Xn(Kt){var lt=Oe(Kt);return/auto|scroll|overlay|hidden/.test(lt.overflow+lt.overflowY+lt.overflowX)}function Lr(Kt){return["html","body","#document"].indexOf(tn(Kt))>=0?Kt.ownerDocument.body:ji(Kt)&&Xn(Kt)?Kt:Lr(Ye(Kt))}function qn(Kt,lt){var Et;void 0===lt&&(lt=[]);var fe=Lr(Kt),Ke=fe===(null==(Et=Kt.ownerDocument)?void 0:Et.body),Je=Zi(fe),si=Ke?[Je].concat(Je.visualViewport||[],Xn(fe)?fe:[]):fe,Vi=lt.concat(si);return Ke?Vi:Vi.concat(qn(Ye(si)))}function lr(Kt){return Object.assign({},Kt,{left:Kt.x,top:Kt.y,right:Kt.x+Kt.width,bottom:Kt.y+Kt.height})}function Xr(Kt,lt,Et){return lt===ee?lr(function(fe,Ke){var Je=Zi(fe),si=ue(fe),Vi=Je.visualViewport,en=si.clientWidth,un=si.clientHeight,Hi=0,nn=0;if(Vi){en=Vi.width,un=Vi.height;var er=re();(er||!er&&"fixed"===Ke)&&(Hi=Vi.offsetLeft,nn=Vi.offsetTop)}return{width:en,height:un,x:Hi+zi(fe),y:nn}}(Kt,Et)):_n(lt)?((Je=Xt(fe=lt,!1,"fixed"===Et)).top=Je.top+fe.clientTop,Je.left=Je.left+fe.clientLeft,Je.bottom=Je.top+fe.clientHeight,Je.right=Je.left+fe.clientWidth,Je.width=fe.clientWidth,Je.height=fe.clientHeight,Je.x=Je.left,Je.y=Je.top,Je):lr(function(fe){var Ke,Je=ue(fe),si=An(fe),Vi=null==(Ke=fe.ownerDocument)?void 0:Ke.body,en=ht(Je.scrollWidth,Je.clientWidth,Vi?Vi.scrollWidth:0,Vi?Vi.clientWidth:0),un=ht(Je.scrollHeight,Je.clientHeight,Vi?Vi.scrollHeight:0,Vi?Vi.clientHeight:0),Hi=-si.scrollLeft+zi(fe),nn=-si.scrollTop;return"rtl"===Oe(Vi||Je).direction&&(Hi+=ht(Je.clientWidth,Vi?Vi.clientWidth:0)-en),{width:en,height:un,x:Hi,y:nn}}(ue(Kt)));var fe,Je}function Kr(Kt){var lt,Et=Kt.reference,fe=Kt.element,Ke=Kt.placement,Je=Ke?Q(Ke):null,si=Ke?Ii(Ke):null,Vi=Et.x+Et.width/2-fe.width/2,en=Et.y+Et.height/2-fe.height/2;switch(Je){case Ri:lt={x:Vi,y:Et.y-fe.height};break;case ti:lt={x:Vi,y:Et.y+Et.height};break;case Ti:lt={x:Et.x+Et.width,y:en};break;case xi:lt={x:Et.x-fe.width,y:en};break;default:lt={x:Et.x,y:Et.y}}var un=Je?Xe(Je):null;if(null!=un){var Hi="y"===un?"height":"width";switch(si){case nt:lt[un]=lt[un]-(Et[Hi]/2-fe[Hi]/2);break;case St:lt[un]=lt[un]+(Et[Hi]/2-fe[Hi]/2)}}return lt}function nr(Kt,lt){void 0===lt&&(lt={});var vo,_o,os,$i,Er,Ko,vs,Bs,Ds,uo,fe=lt.placement,Ke=void 0===fe?Kt.placement:fe,Je=lt.strategy,si=void 0===Je?Kt.strategy:Je,Vi=lt.boundary,en=void 0===Vi?Gt:Vi,un=lt.rootBoundary,Hi=void 0===un?ee:un,nn=lt.elementContext,er=void 0===nn?ge:nn,Jn=lt.altBoundary,ar=void 0!==Jn&&Jn,ur=lt.padding,Sr=void 0===ur?0:ur,po=ki("number"!=typeof Sr?Sr:oi(Sr,ii)),Ar=Kt.rects.popper,Or=Kt.elements[ar?er===ge?Ae:ge:er],Hn=(vo=_n(Or)?Or:Or.contextElement||ue(Kt.elements.popper),os=Hi,$i=si,Bs="clippingParents"===(_o=en)?(Ko=qn(Ye(Er=vo)),_n(vs=["absolute","fixed"].indexOf(Oe(Er).position)>=0&&ji(Er)?di(Er):Er)?Ko.filter(function(Lo){return _n(Lo)&&Le(Lo,vs)&&"body"!==tn(Lo)}):[]):[].concat(_o),uo=(Ds=[].concat(Bs,[os])).reduce(function(Er,Ko){var vs=Xr(vo,Ko,$i);return Er.top=ht(vs.top,Er.top),Er.right=xt(vs.right,Er.right),Er.bottom=xt(vs.bottom,Er.bottom),Er.left=ht(vs.left,Er.left),Er},Xr(vo,Ds[0],$i)),uo.width=uo.right-uo.left,uo.height=uo.bottom-uo.top,uo.x=uo.left,uo.y=uo.top,uo),Ir=Xt(Kt.elements.reference),ao=Kr({reference:Ir,element:Ar,strategy:"absolute",placement:Ke}),dr=lr(Object.assign({},Ar,ao)),Ji=er===ge?dr:Ir,qr={top:Hn.top-Ji.top+po.top,bottom:Ji.bottom-Hn.bottom+po.bottom,left:Hn.left-Ji.left+po.left,right:Ji.right-Hn.right+po.right},fs=Kt.modifiersData.offset;if(er===ge&&fs){var ms=fs[Ke];Object.keys(qr).forEach(function(vo){var _o=[Ti,ti].indexOf(vo)>=0?1:-1,os=[Ri,ti].indexOf(vo)>=0?"y":"x";qr[vo]+=ms[os]*_o})}return qr}const kr={name:"flip",enabled:!0,phase:"main",fn:function(Kt){var lt=Kt.state,Et=Kt.options,fe=Kt.name;if(!lt.modifiersData[fe]._skip){for(var Ke=Et.mainAxis,Je=void 0===Ke||Ke,si=Et.altAxis,Vi=void 0===si||si,en=Et.fallbackPlacements,un=Et.padding,Hi=Et.boundary,nn=Et.rootBoundary,er=Et.altBoundary,Jn=Et.flipVariations,ar=void 0===Jn||Jn,ur=Et.allowedAutoPlacements,Sr=lt.options.placement,po=Q(Sr),so=en||(po!==Sr&&ar?function(Er){if(Q(Er)===be)return[];var Ko=wn(Er);return[In(Er),Ko,In(Ko)]}(Sr):[wn(Sr)]),Ar=[Sr].concat(so).reduce(function(Er,Ko){return Er.concat(Q(Ko)===be?function Rr(Kt,lt){void 0===lt&&(lt={});var Ke=lt.boundary,Je=lt.rootBoundary,si=lt.padding,Vi=lt.flipVariations,en=lt.allowedAutoPlacements,un=void 0===en?Fi:en,Hi=Ii(lt.placement),nn=Hi?Vi?yi:yi.filter(function(ar){return Ii(ar)===Hi}):ii,er=nn.filter(function(ar){return un.indexOf(ar)>=0});0===er.length&&(er=nn);var Jn=er.reduce(function(ar,ur){return ar[ur]=nr(Kt,{placement:ur,boundary:Ke,rootBoundary:Je,padding:si})[Q(ur)],ar},{});return Object.keys(Jn).sort(function(ar,ur){return Jn[ar]-Jn[ur]})}(lt,{placement:Ko,boundary:Hi,rootBoundary:nn,padding:un,flipVariations:ar,allowedAutoPlacements:ur}):Ko)},[]),Or=lt.rects.reference,Hn=lt.rects.popper,Ir=new Map,ao=!0,dr=Ar[0],Ji=0;Ji<Ar.length;Ji++){var qr=Ar[Ji],fs=Q(qr),ms=Ii(qr)===nt,vo=[Ri,ti].indexOf(fs)>=0,_o=vo?"width":"height",os=nr(lt,{placement:qr,boundary:Hi,rootBoundary:nn,altBoundary:er,padding:un}),$i=vo?ms?Ti:xi:ms?ti:Ri;Or[_o]>Hn[_o]&&($i=wn($i));var Bs=wn($i),Ds=[];if(Je&&Ds.push(os[fs]<=0),Vi&&Ds.push(os[$i]<=0,os[Bs]<=0),Ds.every(function(Er){return Er})){dr=qr,ao=!1;break}Ir.set(qr,Ds)}if(ao)for(var aa=function(Er){var Ko=Ar.find(function(vs){var Lo=Ir.get(vs);if(Lo)return Lo.slice(0,Er).every(function(zs){return zs})});if(Ko)return dr=Ko,"break"},uo=ar?3:1;uo>0&&"break"!==aa(uo);uo--);lt.placement!==dr&&(lt.modifiersData[fe]._skip=!0,lt.placement=dr,lt.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ur(Kt,lt,Et){return void 0===Et&&(Et={x:0,y:0}),{top:Kt.top-lt.height-Et.y,right:Kt.right-lt.width+Et.x,bottom:Kt.bottom-lt.height+Et.y,left:Kt.left-lt.width-Et.x}}function Br(Kt){return[Ri,Ti,ti,xi].some(function(lt){return Kt[lt]>=0})}const wr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Kt){var lt=Kt.state,Et=Kt.name,fe=lt.rects.reference,Ke=lt.rects.popper,Je=lt.modifiersData.preventOverflow,si=nr(lt,{elementContext:"reference"}),Vi=nr(lt,{altBoundary:!0}),en=Ur(si,fe),un=Ur(Vi,Ke,Je),Hi=Br(en),nn=Br(un);lt.modifiersData[Et]={referenceClippingOffsets:en,popperEscapeOffsets:un,isReferenceHidden:Hi,hasPopperEscaped:nn},lt.attributes.popper=Object.assign({},lt.attributes.popper,{"data-popper-reference-hidden":Hi,"data-popper-escaped":nn})}},io={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Kt){var lt=Kt.state,fe=Kt.name,Ke=Kt.options.offset,Je=void 0===Ke?[0,0]:Ke,si=Fi.reduce(function(Hi,nn){return Hi[nn]=(Jn=lt.rects,ar=Je,ur=Q(er=nn),Sr=[xi,Ri].indexOf(ur)>=0?-1:1,so=(so=(po="function"==typeof ar?ar(Object.assign({},Jn,{placement:er})):ar)[0])||0,Ar=((Ar=po[1])||0)*Sr,[xi,Ti].indexOf(ur)>=0?{x:Ar,y:so}:{x:so,y:Ar}),Hi;var er,Jn,ar,ur,Sr,po,so,Ar},{}),Vi=si[lt.placement],un=Vi.y;null!=lt.modifiersData.popperOffsets&&(lt.modifiersData.popperOffsets.x+=Vi.x,lt.modifiersData.popperOffsets.y+=un),lt.modifiersData[fe]=si}},no={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Kt){var lt=Kt.state;lt.modifiersData[Kt.name]=Kr({reference:lt.rects.reference,element:lt.rects.popper,strategy:"absolute",placement:lt.placement})},data:{}},Bo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Kt){var jr,jo,lt=Kt.state,Et=Kt.options,fe=Kt.name,Ke=Et.mainAxis,Je=void 0===Ke||Ke,si=Et.altAxis,Vi=void 0!==si&&si,er=Et.tether,Jn=void 0===er||er,ar=Et.tetherOffset,ur=void 0===ar?0:ar,Sr=nr(lt,{boundary:Et.boundary,rootBoundary:Et.rootBoundary,padding:Et.padding,altBoundary:Et.altBoundary}),po=Q(lt.placement),so=Ii(lt.placement),Ar=!so,Or=Xe(po),Hn="x"===Or?"y":"x",Ir=lt.modifiersData.popperOffsets,ao=lt.rects.reference,dr=lt.rects.popper,Ji="function"==typeof ur?ur(Object.assign({},lt.rects,{placement:lt.placement})):ur,qr="number"==typeof Ji?{mainAxis:Ji,altAxis:Ji}:Object.assign({mainAxis:0,altAxis:0},Ji),fs=lt.modifiersData.offset?lt.modifiersData.offset[lt.placement]:null,ms={x:0,y:0};if(Ir){if(Je){var vo,_o="y"===Or?Ri:xi,os="y"===Or?ti:Ti,$i="y"===Or?"height":"width",Bs=Ir[Or],Ds=Bs+Sr[_o],aa=Bs-Sr[os],uo=Jn?-dr[$i]/2:0,Er=so===nt?ao[$i]:dr[$i],Ko=so===nt?-dr[$i]:-ao[$i],vs=lt.elements.arrow,Lo=Jn&&vs?oe(vs):{width:0,height:0},zs=lt.modifiersData["arrow#persistent"]?lt.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},rl=zs[_o],wa=zs[os],Ta=Oi(0,ao[$i],Lo[$i]),ol=Ar?ao[$i]/2-uo-Ta-rl-qr.mainAxis:Er-Ta-rl-qr.mainAxis,Qs=Ar?-ao[$i]/2+uo+Ta+wa+qr.mainAxis:Ko+Ta+wa+qr.mainAxis,_s=lt.elements.arrow&&di(lt.elements.arrow),Ys=null!=(vo=fs?.[Or])?vo:0,Xs=Bs+Qs-Ys,Ho=Oi(Jn?xt(Ds,Bs+ol-Ys-(_s?"y"===Or?_s.clientTop||0:_s.clientLeft||0:0)):Ds,Bs,Jn?ht(aa,Xs):aa);Ir[Or]=Ho,ms[Or]=Ho-Bs}if(Vi){var la,Ao=Ir[Hn],ua="y"===Hn?"height":"width",Ln=Ao+Sr["x"===Or?Ri:xi],Sn=Ao-Sr["x"===Or?ti:Ti],Sa=-1!==[Ri,xi].indexOf(po),ss=null!=(la=fs?.[Hn])?la:0,Fs=Sa?Ln:Ao-ao[ua]-dr[ua]-ss+qr.altAxis,Wo=Sa?Ao+ao[ua]+dr[ua]-ss-qr.altAxis:Sn,qs=Jn&&Sa?(jo=Oi(Fs,Ao,jr=Wo))>jr?jr:jo:Oi(Jn?Fs:Ln,Ao,Jn?Wo:Sn);Ir[Hn]=qs,ms[Hn]=qs-Ao}lt.modifiersData[fe]=ms}},requiresIfExists:["offset"]};function Jr(Kt,lt,Et){void 0===Et&&(Et=!1);var fe,Ke,nn,er,Jn,ar,Je=ji(lt),si=ji(lt)&&(er=(nn=lt).getBoundingClientRect(),Jn=Lt(er.width)/nn.offsetWidth||1,ar=Lt(er.height)/nn.offsetHeight||1,1!==Jn||1!==ar),Vi=ue(lt),en=Xt(Kt,si,Et),un={scrollLeft:0,scrollTop:0},Hi={x:0,y:0};return(Je||!Je&&!Et)&&(("body"!==tn(lt)||Xn(Vi))&&(un=(fe=lt)!==Zi(fe)&&ji(fe)?{scrollLeft:(Ke=fe).scrollLeft,scrollTop:Ke.scrollTop}:An(fe)),ji(lt)?((Hi=Xt(lt,!0)).x+=lt.clientLeft,Hi.y+=lt.clientTop):Vi&&(Hi.x=zi(Vi))),{x:en.left+un.scrollLeft-Hi.x,y:en.top+un.scrollTop-Hi.y,width:en.width,height:en.height}}function Vo(Kt){var lt=new Map,Et=new Set,fe=[];function Ke(Je){Et.add(Je.name),[].concat(Je.requires||[],Je.requiresIfExists||[]).forEach(function(si){if(!Et.has(si)){var Vi=lt.get(si);Vi&&Ke(Vi)}}),fe.push(Je)}return Kt.forEach(function(Je){lt.set(Je.name,Je)}),Kt.forEach(function(Je){Et.has(Je.name)||Ke(Je)}),fe}var Zr={placement:"bottom",modifiers:[],strategy:"absolute"};function to(){for(var Kt=arguments.length,lt=new Array(Kt),Et=0;Et<Kt;Et++)lt[Et]=arguments[Et];return!lt.some(function(fe){return!(fe&&"function"==typeof fe.getBoundingClientRect)})}function fo(Kt){void 0===Kt&&(Kt={});var Et=Kt.defaultModifiers,fe=void 0===Et?[]:Et,Ke=Kt.defaultOptions,Je=void 0===Ke?Zr:Ke;return function(si,Vi,en){void 0===en&&(en=Je);var un,Hi,nn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zr,Je),modifiersData:{},elements:{reference:si,popper:Vi},attributes:{},styles:{}},er=[],Jn=!1,ar={state:nn,setOptions:function(Sr){var po="function"==typeof Sr?Sr(nn.options):Sr;ur(),nn.options=Object.assign({},Je,nn.options,po),nn.scrollParents={reference:_n(si)?qn(si):si.contextElement?qn(si.contextElement):[],popper:qn(Vi)};var so,Ar,Hn,Ir,Or=(so=[].concat(fe,nn.options.modifiers),Ar=so.reduce(function(Hn,Ir){var ao=Hn[Ir.name];return Hn[Ir.name]=ao?Object.assign({},ao,Ir,{options:Object.assign({},ao.options,Ir.options),data:Object.assign({},ao.data,Ir.data)}):Ir,Hn},{}),Hn=Object.keys(Ar).map(function(Hn){return Ar[Hn]}),Ir=Vo(Hn),Xi.reduce(function(ao,dr){return ao.concat(Ir.filter(function(Ji){return Ji.phase===dr}))},[]));return nn.orderedModifiers=Or.filter(function(Hn){return Hn.enabled}),nn.orderedModifiers.forEach(function(Hn){var ao=Hn.options,Ji=Hn.effect;if("function"==typeof Ji){var qr=Ji({state:nn,name:Hn.name,instance:ar,options:void 0===ao?{}:ao});er.push(qr||function(){})}}),ar.update()},forceUpdate:function(){if(!Jn){var Sr=nn.elements,po=Sr.reference,so=Sr.popper;if(to(po,so)){nn.rects={reference:Jr(po,di(so),"fixed"===nn.options.strategy),popper:oe(so)},nn.reset=!1,nn.placement=nn.options.placement,nn.orderedModifiers.forEach(function(Ji){return nn.modifiersData[Ji.name]=Object.assign({},Ji.data)});for(var Ar=0;Ar<nn.orderedModifiers.length;Ar++)if(!0!==nn.reset){var Or=nn.orderedModifiers[Ar],Hn=Or.fn,Ir=Or.options;"function"==typeof Hn&&(nn=Hn({state:nn,options:void 0===Ir?{}:Ir,name:Or.name,instance:ar})||nn)}else nn.reset=!1,Ar=-1}}},update:(un=function(){return new Promise(function(Sr){ar.forceUpdate(),Sr(nn)})},function(){return Hi||(Hi=new Promise(function(Sr){Promise.resolve().then(function(){Hi=void 0,Sr(un())})})),Hi}),destroy:function(){ur(),Jn=!0}};if(!to(si,Vi))return ar;function ur(){er.forEach(function(Sr){return Sr()}),er=[]}return ar.setOptions(en).then(function(Sr){!Jn&&en.onFirstUpdate&&en.onFirstUpdate(Sr)}),ar}}var $r=fo(),mo=fo({defaultModifiers:[kn,no,bn,Z]}),cs=fo({defaultModifiers:[kn,no,bn,Z,io,kr,Bo,an,wr]});const qo=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:fo,detectOverflow:nr,createPopperBase:$r,createPopper:cs,createPopperLite:mo,top:Ri,bottom:ti,right:Ti,left:xi,auto:be,basePlacements:ii,start:nt,end:St,clippingParents:Gt,viewport:ee,popper:ge,reference:Ae,variationPlacements:yi,placements:Fi,beforeRead:Li,read:"read",afterRead:cn,beforeMain:Fn,main:"main",afterMain:Yi,beforeWrite:ei,write:"write",afterWrite:li,modifierPhases:Xi,applyStyles:Z,arrow:an,computeStyles:bn,eventListeners:kn,flip:kr,hide:wr,offset:io,popperOffsets:no,preventOverflow:Bo},Symbol.toStringTag,{value:"Module"})),Eo="dropdown",ps="ArrowUp",es="ArrowDown",Ts="click.bs.dropdown.data-api",$="keydown.bs.dropdown.data-api",mt="show",At='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Dt=`${At}.show`,qt=".dropdown-menu",le=p()?"top-end":"top-start",ye=p()?"top-start":"top-end",je=p()?"bottom-end":"bottom-start",ze=p()?"bottom-start":"bottom-end",ni=p()?"left-start":"right-start",Si=p()?"right-start":"left-start",Ei={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},mi={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ci extends _t{constructor(lt,Et){super(lt,Et),this._popper=null,this._parent=this._element.parentNode,this._menu=vt.next(this._element,qt)[0]||vt.prev(this._element,qt)[0]||vt.findOne(qt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ei}static get DefaultType(){return mi}static get NAME(){return Eo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(G(this._element)||this._isShown())return;const lt={relatedTarget:this._element};if(!X.trigger(this._element,"show.bs.dropdown",lt).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const Et of[].concat(...document.body.children))X.on(Et,"mouseover",z);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(mt),this._element.classList.add(mt),X.trigger(this._element,"shown.bs.dropdown",lt)}}hide(){!G(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(lt){if(!X.trigger(this._element,"hide.bs.dropdown",lt).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Et of[].concat(...document.body.children))X.off(Et,"mouseover",z);this._popper&&this._popper.destroy(),this._menu.classList.remove(mt),this._element.classList.remove(mt),this._element.setAttribute("aria-expanded","false"),gt.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,"hidden.bs.dropdown",lt)}}_getConfig(lt){if("object"==typeof(lt=super._getConfig(lt)).reference&&!T(lt.reference)&&"function"!=typeof lt.reference.getBoundingClientRect)throw new TypeError(`${Eo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return lt}_createPopper(){if(void 0===qo)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let lt=this._element;"parent"===this._config.reference?lt=this._parent:T(this._config.reference)?lt=M(this._config.reference):"object"==typeof this._config.reference&&(lt=this._config.reference);const Et=this._getPopperConfig();this._popper=cs(lt,this._menu,Et)}_isShown(){return this._menu.classList.contains(mt)}_getPlacement(){const lt=this._parent;if(lt.classList.contains("dropend"))return ni;if(lt.classList.contains("dropstart"))return Si;if(lt.classList.contains("dropup-center"))return"top";if(lt.classList.contains("dropdown-center"))return"bottom";const Et="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return lt.classList.contains("dropup")?Et?ye:le:Et?ze:je}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:lt}=this._config;return"string"==typeof lt?lt.split(",").map(Et=>Number.parseInt(Et,10)):"function"==typeof lt?Et=>lt(Et,this._element):lt}_getPopperConfig(){const lt={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(gt.setDataAttribute(this._menu,"popper","static"),lt.modifiers=[{name:"applyStyles",enabled:!1}]),{...lt,..."function"==typeof this._config.popperConfig?this._config.popperConfig(lt):this._config.popperConfig}}_selectMenuItem({key:lt,target:Et}){const fe=vt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Ke=>j(Ke));fe.length&&w(fe,Et,lt===es,!fe.includes(Et)).focus()}static jQueryInterface(lt){return this.each(function(){const Et=ci.getOrCreateInstance(this,lt);if("string"==typeof lt){if(void 0===Et[lt])throw new TypeError(`No method named "${lt}"`);Et[lt]()}})}static clearMenus(lt){if(2===lt.button||"keyup"===lt.type&&"Tab"!==lt.key)return;const Et=vt.find(Dt);for(const fe of Et){const Ke=ci.getInstance(fe);if(!Ke||!1===Ke._config.autoClose)continue;const Je=lt.composedPath(),si=Je.includes(Ke._menu);if(Je.includes(Ke._element)||"inside"===Ke._config.autoClose&&!si||"outside"===Ke._config.autoClose&&si||Ke._menu.contains(lt.target)&&("keyup"===lt.type&&"Tab"===lt.key||/input|select|option|textarea|form/i.test(lt.target.tagName)))continue;const Vi={relatedTarget:Ke._element};"click"===lt.type&&(Vi.clickEvent=lt),Ke._completeHide(Vi)}}static dataApiKeydownHandler(lt){const Et=/input|textarea/i.test(lt.target.tagName),fe="Escape"===lt.key,Ke=[ps,es].includes(lt.key);if(!Ke&&!fe||Et&&!fe)return;lt.preventDefault();const Je=this.matches(At)?this:vt.prev(this,At)[0]||vt.next(this,At)[0]||vt.findOne(At,lt.delegateTarget.parentNode),si=ci.getOrCreateInstance(Je);if(Ke)return lt.stopPropagation(),si.show(),void si._selectMenuItem(lt);si._isShown()&&(lt.stopPropagation(),si.hide(),Je.focus())}}X.on(document,$,At,ci.dataApiKeydownHandler),X.on(document,$,qt,ci.dataApiKeydownHandler),X.on(document,Ts,ci.clearMenus),X.on(document,"keyup.bs.dropdown.data-api",ci.clearMenus),X.on(document,Ts,At,function(Kt){Kt.preventDefault(),ci.getOrCreateInstance(this).toggle()}),l(ci);const pn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fn=".sticky-top",wt="padding-right",Ht="margin-right";class me{constructor(){this._element=document.body}getWidth(){const lt=document.documentElement.clientWidth;return Math.abs(window.innerWidth-lt)}hide(){const lt=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,wt,Et=>Et+lt),this._setElementAttributes(pn,wt,Et=>Et+lt),this._setElementAttributes(fn,Ht,Et=>Et-lt)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,wt),this._resetElementAttributes(pn,wt),this._resetElementAttributes(fn,Ht)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(lt,Et,fe){const Ke=this.getWidth();this._applyManipulationCallback(lt,Je=>{if(Je!==this._element&&window.innerWidth>Je.clientWidth+Ke)return;this._saveInitialAttribute(Je,Et);const si=window.getComputedStyle(Je).getPropertyValue(Et);Je.style.setProperty(Et,`${fe(Number.parseFloat(si))}px`)})}_saveInitialAttribute(lt,Et){const fe=lt.style.getPropertyValue(Et);fe&&gt.setDataAttribute(lt,Et,fe)}_resetElementAttributes(lt,Et){this._applyManipulationCallback(lt,fe=>{const Ke=gt.getDataAttribute(fe,Et);null!==Ke?(gt.removeDataAttribute(fe,Et),fe.style.setProperty(Et,Ke)):fe.style.removeProperty(Et)})}_applyManipulationCallback(lt,Et){if(T(lt))Et(lt);else for(const fe of vt.find(lt,this._element))Et(fe)}}const Me="mousedown.bs.backdrop",Ee={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ze={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ne extends yt{constructor(lt){super(),this._config=this._getConfig(lt),this._isAppended=!1,this._element=null}static get Default(){return Ee}static get DefaultType(){return Ze}static get NAME(){return"backdrop"}show(lt){if(!this._config.isVisible)return void d(lt);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{d(lt)})}hide(lt){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),d(lt)})):d(lt)}dispose(){this._isAppended&&(X.off(this._element,Me),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const lt=document.createElement("div");lt.className=this._config.className,this._config.isAnimated&&lt.classList.add("fade"),this._element=lt}return this._element}_configAfterMerge(lt){return lt.rootElement=M(lt.rootElement),lt}_append(){if(this._isAppended)return;const lt=this._getElement();this._config.rootElement.append(lt),X.on(lt,Me,()=>{d(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(lt){_(lt,this._getElement(),this._config.isAnimated)}}const _i=".bs.focustrap",vi="backward",Ki={autofocus:!0,trapElement:null},ln={autofocus:"boolean",trapElement:"element"};class Mn extends yt{constructor(lt){super(),this._config=this._getConfig(lt),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ki}static get DefaultType(){return ln}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,_i),X.on(document,"focusin.bs.focustrap",lt=>this._handleFocusin(lt)),X.on(document,"keydown.tab.bs.focustrap",lt=>this._handleKeydown(lt)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,X.off(document,_i))}_handleFocusin(lt){const{trapElement:Et}=this._config;if(lt.target===document||lt.target===Et||Et.contains(lt.target))return;const fe=vt.focusableChildren(Et);0===fe.length?Et.focus():this._lastTabNavDirection===vi?fe[fe.length-1].focus():fe[0].focus()}_handleKeydown(lt){"Tab"===lt.key&&(this._lastTabNavDirection=lt.shiftKey?vi:"forward")}}const mr="hidden.bs.modal",Un="show.bs.modal",Dr="modal-open",_r="modal-static",Qr={backdrop:!0,focus:!0,keyboard:!0},hr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Wr extends _t{constructor(lt,Et){super(lt,Et),this._dialog=vt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new me,this._addEventListeners()}static get Default(){return Qr}static get DefaultType(){return hr}static get NAME(){return"modal"}toggle(lt){return this._isShown?this.hide():this.show(lt)}show(lt){this._isShown||this._isTransitioning||X.trigger(this._element,Un,{relatedTarget:lt}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Dr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(lt)))}hide(){this._isShown&&!this._isTransitioning&&(X.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const lt of[window,this._dialog])X.off(lt,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ne({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Mn({trapElement:this._element})}_showElement(lt){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Et=vt.findOne(".modal-body",this._dialog);Et&&(Et.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,"shown.bs.modal",{relatedTarget:lt})},this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,"keydown.dismiss.bs.modal",lt=>{if("Escape"===lt.key)return this._config.keyboard?(lt.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),X.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,"mousedown.dismiss.bs.modal",lt=>{X.one(this._element,"click.dismiss.bs.modal",Et=>{this._element===lt.target&&this._element===Et.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Dr),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,mr)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(X.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const lt=this._element.scrollHeight>document.documentElement.clientHeight,Et=this._element.style.overflowY;"hidden"===Et||this._element.classList.contains(_r)||(lt||(this._element.style.overflowY="hidden"),this._element.classList.add(_r),this._queueCallback(()=>{this._element.classList.remove(_r),this._queueCallback(()=>{this._element.style.overflowY=Et},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const lt=this._element.scrollHeight>document.documentElement.clientHeight,Et=this._scrollBar.getWidth(),fe=Et>0;if(fe&&!lt){const Ke=p()?"paddingLeft":"paddingRight";this._element.style[Ke]=`${Et}px`}if(!fe&&lt){const Ke=p()?"paddingRight":"paddingLeft";this._element.style[Ke]=`${Et}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(lt,Et){return this.each(function(){const fe=Wr.getOrCreateInstance(this,lt);if("string"==typeof lt){if(void 0===fe[lt])throw new TypeError(`No method named "${lt}"`);fe[lt](Et)}})}}X.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(Kt){const lt=s(this);["A","AREA"].includes(this.tagName)&&Kt.preventDefault(),X.one(lt,Un,fe=>{fe.defaultPrevented||X.one(lt,mr,()=>{j(this)&&this.focus()})});const Et=vt.findOne(".modal.show");Et&&Wr.getInstance(Et).hide(),Wr.getOrCreateInstance(lt).toggle(this)}),rt(Wr),l(Wr);const xr="showing",Co=".offcanvas.show",ro="hidePrevented.bs.offcanvas",cr="hidden.bs.offcanvas",Gs={backdrop:!0,keyboard:!0,scroll:!1},Go={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class is extends _t{constructor(lt,Et){super(lt,Et),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Gs}static get DefaultType(){return Go}static get NAME(){return"offcanvas"}toggle(lt){return this._isShown?this.hide():this.show(lt)}show(lt){this._isShown||X.trigger(this._element,"show.bs.offcanvas",{relatedTarget:lt}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new me).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xr),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(xr),X.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:lt})},this._element,!0))}hide(){this._isShown&&(X.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new me).reset(),X.trigger(this._element,cr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const lt=Boolean(this._config.backdrop);return new Ne({className:"offcanvas-backdrop",isVisible:lt,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:lt?()=>{"static"!==this._config.backdrop?this.hide():X.trigger(this._element,ro)}:null})}_initializeFocusTrap(){return new Mn({trapElement:this._element})}_addEventListeners(){X.on(this._element,"keydown.dismiss.bs.offcanvas",lt=>{"Escape"===lt.key&&(this._config.keyboard?this.hide():X.trigger(this._element,ro))})}static jQueryInterface(lt){return this.each(function(){const Et=is.getOrCreateInstance(this,lt);if("string"==typeof lt){if(void 0===Et[lt]||lt.startsWith("_")||"constructor"===lt)throw new TypeError(`No method named "${lt}"`);Et[lt](this)}})}}X.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(Kt){const lt=s(this);if(["A","AREA"].includes(this.tagName)&&Kt.preventDefault(),G(this))return;X.one(lt,cr,()=>{j(this)&&this.focus()});const Et=vt.findOne(Co);Et&&Et!==lt&&is.getInstance(Et).hide(),is.getOrCreateInstance(lt).toggle(this)}),X.on(window,"load.bs.offcanvas.data-api",()=>{for(const Kt of vt.find(Co))is.getOrCreateInstance(Kt).show()}),X.on(window,"resize.bs.offcanvas",()=>{for(const Kt of vt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(Kt).position&&is.getOrCreateInstance(Kt).hide()}),rt(is),l(is);const ks=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),oa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ns=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,gs=(Kt,lt)=>{const Et=Kt.nodeName.toLowerCase();return lt.includes(Et)?!ks.has(Et)||Boolean(oa.test(Kt.nodeValue)||Ns.test(Kt.nodeValue)):lt.filter(fe=>fe instanceof RegExp).some(fe=>fe.test(Et))},ns={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Hs={allowList:ns,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},y={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},V={entry:"(string|element|function|null)",selector:"(string|element)"};class it extends yt{constructor(lt){super(),this._config=this._getConfig(lt)}static get Default(){return Hs}static get DefaultType(){return y}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(lt=>this._resolvePossibleFunction(lt)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(lt){return this._checkContent(lt),this._config.content={...this._config.content,...lt},this}toHtml(){const lt=document.createElement("div");lt.innerHTML=this._maybeSanitize(this._config.template);for(const[Ke,Je]of Object.entries(this._config.content))this._setContent(lt,Je,Ke);const Et=lt.children[0],fe=this._resolvePossibleFunction(this._config.extraClass);return fe&&Et.classList.add(...fe.split(" ")),Et}_typeCheckConfig(lt){super._typeCheckConfig(lt),this._checkContent(lt.content)}_checkContent(lt){for(const[Et,fe]of Object.entries(lt))super._typeCheckConfig({selector:Et,entry:fe},V)}_setContent(lt,Et,fe){const Ke=vt.findOne(fe,lt);Ke&&((Et=this._resolvePossibleFunction(Et))?T(Et)?this._putElementInTemplate(M(Et),Ke):this._config.html?Ke.innerHTML=this._maybeSanitize(Et):Ke.textContent=Et:Ke.remove())}_maybeSanitize(lt){return this._config.sanitize?function(Et,fe,Ke){if(!Et.length)return Et;if(Ke&&"function"==typeof Ke)return Ke(Et);const Je=(new window.DOMParser).parseFromString(Et,"text/html"),si=[].concat(...Je.body.querySelectorAll("*"));for(const Vi of si){const en=Vi.nodeName.toLowerCase();if(!Object.keys(fe).includes(en)){Vi.remove();continue}const un=[].concat(...Vi.attributes),Hi=[].concat(fe["*"]||[],fe[en]||[]);for(const nn of un)gs(nn,Hi)||Vi.removeAttribute(nn.nodeName)}return Je.body.innerHTML}(lt,this._config.allowList,this._config.sanitizeFn):lt}_resolvePossibleFunction(lt){return"function"==typeof lt?lt(this):lt}_putElementInTemplate(lt,Et){if(this._config.html)return Et.innerHTML="",void Et.append(lt);Et.textContent=lt.textContent}}const bt=new Set(["sanitize","allowList","sanitizeFn"]),Bt="fade",pe="show",He="hide.bs.modal",Bi="hover",Dn={AUTO:"auto",TOP:"top",RIGHT:p()?"left":"right",BOTTOM:"bottom",LEFT:p()?"right":"left"},rr={allowList:ns,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Tr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ho extends _t{constructor(lt,Et){if(void 0===qo)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(lt,Et),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rr}static get DefaultType(){return Tr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(".modal"),He,this._hideModalHandler),this.tip&&this.tip.remove(),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const lt=X.trigger(this._element,this.constructor.eventName("show")),Et=(Y(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(lt.defaultPrevented||!Et)return;this.tip&&(this.tip.remove(),this.tip=null);const fe=this._getTipElement();this._element.setAttribute("aria-describedby",fe.getAttribute("id"));const{container:Ke}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Ke.append(fe),X.trigger(this._element,this.constructor.eventName("inserted"))),this._popper?this._popper.update():this._popper=this._createPopper(fe),fe.classList.add(pe),"ontouchstart"in document.documentElement)for(const Je of[].concat(...document.body.children))X.on(Je,"mouseover",z);this._queueCallback(()=>{X.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown()||X.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;const lt=this._getTipElement();if(lt.classList.remove(pe),"ontouchstart"in document.documentElement)for(const Et of[].concat(...document.body.children))X.off(Et,"mouseover",z);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||lt.remove(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName("hidden")),this._disposePopper())},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(lt){const Et=this._getTemplateFactory(lt).toHtml();if(!Et)return null;Et.classList.remove(Bt,pe),Et.classList.add(`bs-${this.constructor.NAME}-auto`);const fe=(Ke=>{do{Ke+=Math.floor(1e6*Math.random())}while(document.getElementById(Ke));return Ke})(this.constructor.NAME).toString();return Et.setAttribute("id",fe),this._isAnimated()&&Et.classList.add(Bt),Et}setContent(lt){this._newContent=lt,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(lt){return this._templateFactory?this._templateFactory.changeContent(lt):this._templateFactory=new it({...this._config,content:lt,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(lt){return this.constructor.getOrCreateInstance(lt.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Bt)}_isShown(){return this.tip&&this.tip.classList.contains(pe)}_createPopper(lt){const Et="function"==typeof this._config.placement?this._config.placement.call(this,lt,this._element):this._config.placement,fe=Dn[Et.toUpperCase()];return cs(this._element,lt,this._getPopperConfig(fe))}_getOffset(){const{offset:lt}=this._config;return"string"==typeof lt?lt.split(",").map(Et=>Number.parseInt(Et,10)):"function"==typeof lt?Et=>lt(Et,this._element):lt}_resolvePossibleFunction(lt){return"function"==typeof lt?lt.call(this._element):lt}_getPopperConfig(lt){const Et={placement:lt,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:fe=>{this._getTipElement().setAttribute("data-popper-placement",fe.state.placement)}}]};return{...Et,..."function"==typeof this._config.popperConfig?this._config.popperConfig(Et):this._config.popperConfig}}_setListeners(){const lt=this._config.trigger.split(" ");for(const Et of lt)if("click"===Et)X.on(this._element,this.constructor.eventName("click"),this._config.selector,fe=>{this._initializeOnDelegatedTarget(fe).toggle()});else if("manual"!==Et){const fe=this.constructor.eventName(Et===Bi?"mouseenter":"focusin"),Ke=this.constructor.eventName(Et===Bi?"mouseleave":"focusout");X.on(this._element,fe,this._config.selector,Je=>{const si=this._initializeOnDelegatedTarget(Je);si._activeTrigger["focusin"===Je.type?"focus":Bi]=!0,si._enter()}),X.on(this._element,Ke,this._config.selector,Je=>{const si=this._initializeOnDelegatedTarget(Je);si._activeTrigger["focusout"===Je.type?"focus":Bi]=si._element.contains(Je.relatedTarget),si._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(".modal"),He,this._hideModalHandler)}_fixTitle(){const lt=this._element.getAttribute("title");lt&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",lt),this._element.setAttribute("data-bs-original-title",lt),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(lt,Et){clearTimeout(this._timeout),this._timeout=setTimeout(lt,Et)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(lt){const Et=gt.getDataAttributes(this._element);for(const fe of Object.keys(Et))bt.has(fe)&&delete Et[fe];return lt={...Et,..."object"==typeof lt&&lt?lt:{}},lt=this._mergeConfigObj(lt),lt=this._configAfterMerge(lt),this._typeCheckConfig(lt),lt}_configAfterMerge(lt){return lt.container=!1===lt.container?document.body:M(lt.container),"number"==typeof lt.delay&&(lt.delay={show:lt.delay,hide:lt.delay}),"number"==typeof lt.title&&(lt.title=lt.title.toString()),"number"==typeof lt.content&&(lt.content=lt.content.toString()),lt}_getDelegateConfig(){const lt={};for(const Et in this._config)this.constructor.Default[Et]!==this._config[Et]&&(lt[Et]=this._config[Et]);return lt.selector=!1,lt.trigger="manual",lt}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(lt){return this.each(function(){const Et=ho.getOrCreateInstance(this,lt);if("string"==typeof lt){if(void 0===Et[lt])throw new TypeError(`No method named "${lt}"`);Et[lt]()}})}}l(ho);const ys={...ho.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},zo={...ho.DefaultType,content:"(null|string|element|function)"};class To extends ho{static get Default(){return ys}static get DefaultType(){return zo}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(lt){return this.each(function(){const Et=To.getOrCreateInstance(this,lt);if("string"==typeof lt){if(void 0===Et[lt])throw new TypeError(`No method named "${lt}"`);Et[lt]()}})}}l(To);const Rs="click.bs.scrollspy",Fo="active",oo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ds={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ss extends _t{constructor(lt,Et){super(lt,Et),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return oo}static get DefaultType(){return ds}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const lt of this._observableSections.values())this._observer.observe(lt)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(lt){return lt.target=M(lt.target)||document.body,lt.rootMargin=lt.offset?`${lt.offset}px 0px -30%`:lt.rootMargin,"string"==typeof lt.threshold&&(lt.threshold=lt.threshold.split(",").map(Et=>Number.parseFloat(Et))),lt}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(X.off(this._config.target,Rs),X.on(this._config.target,Rs,"[href]",lt=>{const Et=this._observableSections.get(lt.target.hash);if(Et){lt.preventDefault();const fe=this._rootElement||window,Ke=Et.offsetTop-this._element.offsetTop;if(fe.scrollTo)return void fe.scrollTo({top:Ke,behavior:"smooth"});fe.scrollTop=Ke}}))}_getNewObserver(){return new IntersectionObserver(Et=>this._observerCallback(Et),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(lt){const Et=si=>this._targetLinks.get(`#${si.target.id}`),fe=si=>{this._previousScrollData.visibleEntryTop=si.target.offsetTop,this._process(Et(si))},Ke=(this._rootElement||document.documentElement).scrollTop,Je=Ke>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ke;for(const si of lt){if(!si.isIntersecting){this._activeTarget=null,this._clearActiveClass(Et(si));continue}const Vi=si.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Je&&Vi){if(fe(si),!Ke)return}else Je||Vi||fe(si)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const lt=vt.find("[href]",this._config.target);for(const Et of lt){if(!Et.hash||G(Et))continue;const fe=vt.findOne(Et.hash,this._element);j(fe)&&(this._targetLinks.set(Et.hash,Et),this._observableSections.set(Et.hash,fe))}}_process(lt){this._activeTarget!==lt&&(this._clearActiveClass(this._config.target),this._activeTarget=lt,lt.classList.add(Fo),this._activateParents(lt),X.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:lt}))}_activateParents(lt){if(lt.classList.contains("dropdown-item"))vt.findOne(".dropdown-toggle",lt.closest(".dropdown")).classList.add(Fo);else for(const Et of vt.parents(lt,".nav, .list-group"))for(const fe of vt.prev(Et,".nav-link, .nav-item > .nav-link, .list-group-item"))fe.classList.add(Fo)}_clearActiveClass(lt){lt.classList.remove(Fo);const Et=vt.find("[href].active",lt);for(const fe of Et)fe.classList.remove(Fo)}static jQueryInterface(lt){return this.each(function(){const Et=Ss.getOrCreateInstance(this,lt);if("string"==typeof lt){if(void 0===Et[lt]||lt.startsWith("_")||"constructor"===lt)throw new TypeError(`No method named "${lt}"`);Et[lt]()}})}}X.on(window,"load.bs.scrollspy.data-api",()=>{for(const Kt of vt.find('[data-bs-spy="scroll"]'))Ss.getOrCreateInstance(Kt)}),l(Ss);const $s="ArrowLeft",rs="ArrowRight",ba="ArrowUp",ma="ArrowDown",_e="active",ri="show",Ui='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fi=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Ui}`;class Wi extends _t{constructor(lt){super(lt),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,"keydown.bs.tab",Et=>this._keydown(Et)))}static get NAME(){return"tab"}show(){const lt=this._element;if(this._elemIsActive(lt))return;const Et=this._getActiveElem(),fe=Et?X.trigger(Et,"hide.bs.tab",{relatedTarget:lt}):null;X.trigger(lt,"show.bs.tab",{relatedTarget:Et}).defaultPrevented||fe&&fe.defaultPrevented||(this._deactivate(Et,lt),this._activate(lt,Et))}_activate(lt,Et){lt&&(lt.classList.add(_e),this._activate(s(lt)),this._queueCallback(()=>{"tab"===lt.getAttribute("role")?(lt.removeAttribute("tabindex"),lt.setAttribute("aria-selected",!0),this._toggleDropDown(lt,!0),X.trigger(lt,"shown.bs.tab",{relatedTarget:Et})):lt.classList.add(ri)},lt,lt.classList.contains("fade")))}_deactivate(lt,Et){lt&&(lt.classList.remove(_e),lt.blur(),this._deactivate(s(lt)),this._queueCallback(()=>{"tab"===lt.getAttribute("role")?(lt.setAttribute("aria-selected",!1),lt.setAttribute("tabindex","-1"),this._toggleDropDown(lt,!1),X.trigger(lt,"hidden.bs.tab",{relatedTarget:Et})):lt.classList.remove(ri)},lt,lt.classList.contains("fade")))}_keydown(lt){if(![$s,rs,ba,ma].includes(lt.key))return;lt.stopPropagation(),lt.preventDefault();const Et=[rs,ma].includes(lt.key),fe=w(this._getChildren().filter(Ke=>!G(Ke)),lt.target,Et,!0);fe&&(fe.focus({preventScroll:!0}),Wi.getOrCreateInstance(fe).show())}_getChildren(){return vt.find(fi,this._parent)}_getActiveElem(){return this._getChildren().find(lt=>this._elemIsActive(lt))||null}_setInitialAttributes(lt,Et){this._setAttributeIfNotExists(lt,"role","tablist");for(const fe of Et)this._setInitialAttributesOnChild(fe)}_setInitialAttributesOnChild(lt){lt=this._getInnerElement(lt);const Et=this._elemIsActive(lt),fe=this._getOuterElement(lt);lt.setAttribute("aria-selected",Et),fe!==lt&&this._setAttributeIfNotExists(fe,"role","presentation"),Et||lt.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(lt,"role","tab"),this._setInitialAttributesOnTargetPanel(lt)}_setInitialAttributesOnTargetPanel(lt){const Et=s(lt);Et&&(this._setAttributeIfNotExists(Et,"role","tabpanel"),lt.id&&this._setAttributeIfNotExists(Et,"aria-labelledby",`#${lt.id}`))}_toggleDropDown(lt,Et){const fe=this._getOuterElement(lt);if(!fe.classList.contains("dropdown"))return;const Ke=(Je,si)=>{const Vi=vt.findOne(Je,fe);Vi&&Vi.classList.toggle(si,Et)};Ke(".dropdown-toggle",_e),Ke(".dropdown-menu",ri),fe.setAttribute("aria-expanded",Et)}_setAttributeIfNotExists(lt,Et,fe){lt.hasAttribute(Et)||lt.setAttribute(Et,fe)}_elemIsActive(lt){return lt.classList.contains(_e)}_getInnerElement(lt){return lt.matches(fi)?lt:vt.findOne(fi,lt)}_getOuterElement(lt){return lt.closest(".nav-item, .list-group-item")||lt}static jQueryInterface(lt){return this.each(function(){const Et=Wi.getOrCreateInstance(this);if("string"==typeof lt){if(void 0===Et[lt]||lt.startsWith("_")||"constructor"===lt)throw new TypeError(`No method named "${lt}"`);Et[lt]()}})}}X.on(document,"click.bs.tab",Ui,function(Kt){["A","AREA"].includes(this.tagName)&&Kt.preventDefault(),G(this)||Wi.getOrCreateInstance(this).show()}),X.on(window,"load.bs.tab",()=>{for(const Kt of vt.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Wi.getOrCreateInstance(Kt)}),l(Wi);const dn="show",Tn="showing",pr={animation:"boolean",autohide:"boolean",delay:"number"},sr={animation:!0,autohide:!0,delay:5e3};class Kn extends _t{constructor(lt,Et){super(lt,Et),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sr}static get DefaultType(){return pr}static get NAME(){return"toast"}show(){X.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(dn,Tn),this._queueCallback(()=>{this._element.classList.remove(Tn),X.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(X.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Tn),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Tn,dn),X.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(dn),super.dispose()}isShown(){return this._element.classList.contains(dn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(lt,Et){switch(lt.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Et;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Et}if(Et)return void this._clearTimeout();const fe=lt.relatedTarget;this._element===fe||this._element.contains(fe)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,"mouseover.bs.toast",lt=>this._onInteraction(lt,!0)),X.on(this._element,"mouseout.bs.toast",lt=>this._onInteraction(lt,!1)),X.on(this._element,"focusin.bs.toast",lt=>this._onInteraction(lt,!0)),X.on(this._element,"focusout.bs.toast",lt=>this._onInteraction(lt,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(lt){return this.each(function(){const Et=Kn.getOrCreateInstance(this,lt);if("string"==typeof lt){if(void 0===Et[lt])throw new TypeError(`No method named "${lt}"`);Et[lt](this)}})}}return rt(Kn),l(Kn),{Alert:ut,Button:Ct,Carousel:se,Collapse:pi,Dropdown:ci,Modal:Wr,Offcanvas:is,Popover:To,ScrollSpy:Ss,Tab:Wi,Toast:Kn,Tooltip:ho}}),function(S,e){"object"==typeof module&&module.exports?(e.default=e,module.exports=S.document?e(S):e):"function"==typeof define&&define.amd?define("highcharts/highcharts",function(){return e(S)}):(S.Highcharts&&S.Highcharts.error(16,!0),S.Highcharts=e(S))}(typeof window<"u"?window:this,function(S){function e(s,c,T,M){s.hasOwnProperty(c)||(s[c]=M.apply(null,T),"function"==typeof CustomEvent&&S.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:s[c]}})))}var i={};return e(i,"Core/Globals.js",[],function(){var s,c;return(c=s||(s={})).SVG_NS="http://www.w3.org/2000/svg",c.product="Highcharts",c.version="10.3.3",c.win=typeof S<"u"?S:{},c.doc=c.win.document,c.svg=c.doc&&c.doc.createElementNS&&!!c.doc.createElementNS(c.SVG_NS,"svg").createSVGRect,c.userAgent=c.win.navigator&&c.win.navigator.userAgent||"",c.isChrome=-1!==c.userAgent.indexOf("Chrome"),c.isFirefox=-1!==c.userAgent.indexOf("Firefox"),c.isMS=/(edge|msie|trident)/i.test(c.userAgent)&&!c.win.opera,c.isSafari=!c.isChrome&&-1!==c.userAgent.indexOf("Safari"),c.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(c.userAgent),c.isWebKit=-1!==c.userAgent.indexOf("AppleWebKit"),c.deg2rad=2*Math.PI/360,c.hasBidiBug=c.isFirefox&&4>parseInt(c.userAgent.split("Firefox/")[1],10),c.hasTouch=!!c.win.TouchEvent,c.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],c.noop=function(){},c.supportsPassiveEvents=function(){var T=!1;if(!c.isMS){var M=Object.defineProperty({},"passive",{get:function(){T=!0}});c.win.addEventListener&&c.win.removeEventListener&&(c.win.addEventListener("testPassive",c.noop,M),c.win.removeEventListener("testPassive",c.noop,M))}return T}(),c.charts=[],c.dateFormats={},c.seriesTypes={},c.symbolSizes={},c.chartCount=0,s}),e(i,"Core/Utilities.js",[i["Core/Globals.js"]],function(s){function c(f,o,R,U){var X=o?"Highcharts error":"Highcharts warning";32===f&&(f=X+": Deprecated member");var tt=N(f),pt=tt?X+" #"+f+": www.highcharts.com/errors/"+f+"/":f.toString();if(typeof U<"u"){var ot="";tt&&(pt+="?"),h(U,function(W,K){ot+="\n - ".concat(K,": ").concat(W),tt&&(pt+=encodeURI(K)+"="+encodeURI(W))}),pt+=ot}D(s,"displayError",{chart:R,code:f,message:pt,params:U},function(){if(o)throw Error(pt);m.console&&-1===c.messages.indexOf(pt)&&console.warn(pt)}),c.messages.push(pt)}function M(f,o){return parseInt(f,o||10)}function j(f){return"string"==typeof f}function G(f){return"[object Array]"===(f=Object.prototype.toString.call(f))||"[object Array Iterator]"===f}function Y(f,o){return!(!f||"object"!=typeof f||o&&G(f))}function z(f){return Y(f)&&"number"==typeof f.nodeType}function F(f){var o=f&&f.constructor;return!(!Y(f,!0)||z(f)||!o||!o.name||"Object"===o.name)}function N(f){return"number"==typeof f&&!isNaN(f)&&1/0>f&&-1/0<f}function a(f){return typeof f<"u"&&null!==f}function p(f,o,R){var X,U=j(o)&&!a(R),tt=function(pt,ot){a(pt)?f.setAttribute(ot,pt):U?(X=f.getAttribute(ot))||"class"!==ot||(X=f.getAttribute(ot+"Name")):f.removeAttribute(ot)};return j(o)?tt(R,o):h(o,tt),X}function l(f,o){var R;for(R in f||(f={}),o)f[R]=o[R];return f}function d(){for(var f=arguments,o=f.length,R=0;R<o;R++){var U=f[R];if(typeof U<"u"&&null!==U)return U}}function _(f,o){s.isMS&&!s.svg&&o&&a(o.opacity)&&(o.filter="alpha(opacity=".concat(100*o.opacity,")")),l(f.style,o)}function w(f){return Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function x(f,o){return 1e14<f?f:parseFloat(f.toPrecision(o||14))}function h(f,o,R){for(var U in f)Object.hasOwnProperty.call(f,U)&&o.call(R||f[U],f[U],U,f)}function n(f,o,R){function U(ot,W){var K=f.removeEventListener||s.removeEventListenerPolyfill;K&&K.call(f,ot,W,!1)}function X(ot){var W;if(f.nodeName){if(o){var K={};K[o]=!0}else K=ot;h(K,function(gt,yt){if(ot[yt])for(W=ot[yt].length;W--;)U(yt,ot[yt][W].fn)})}}var tt="function"==typeof f&&f.prototype||f;if(Object.hasOwnProperty.call(tt,"hcEvents")){var pt=tt.hcEvents;o?(tt=pt[o]||[],R?(pt[o]=tt.filter(function(ot){return R!==ot.fn}),U(o,R)):(X(pt),pt[o]=[])):(X(pt),delete tt.hcEvents)}}function D(f,o,R,U){if(R=R||{},E.createEvent&&(f.dispatchEvent||f.fireEvent&&f!==s)){var X=E.createEvent("Events");X.initEvent(o,!0,!0),R=l(X,R),f.dispatchEvent?f.dispatchEvent(R):f.fireEvent(o,R)}else if(f.hcEvents){R.target||l(R,{preventDefault:function(){R.defaultPrevented=!0},target:f,type:o}),X=[];for(var tt=f,pt=!1;tt.hcEvents;)Object.hasOwnProperty.call(tt,"hcEvents")&&tt.hcEvents[o]&&(X.length&&(pt=!0),X.unshift.apply(X,tt.hcEvents[o])),tt=Object.getPrototypeOf(tt);pt&&X.sort(function(ot,W){return ot.order-W.order}),X.forEach(function(ot){!1===ot.fn.call(f,R)&&R.preventDefault()})}U&&!R.defaultPrevented&&U.call(f,R)}var P=s.charts,E=s.doc,m=s.win;(c||(c={})).messages=[],Math.easeInOutSine=function(f){return-.5*(Math.cos(Math.PI*f)-1)};var C=Array.prototype.find?function(f,o){return f.find(o)}:function(f,o){var R,U=f.length;for(R=0;R<U;R++)if(o(f[R],R))return f[R]};h({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(f,o){s[o]=function(R){var U;return c(32,!1,void 0,((U={})["Highcharts.".concat(o)]="use Array.".concat(f),U)),Array.prototype[f].apply(R,[].slice.call(arguments,1))}});var A,f,o,k=(f=Math.random().toString(36).substring(2,9)+"-",o=0,function(){return"highcharts-"+(A?"":f)+o++});return m.jQuery&&(m.jQuery.fn.highcharts=function(){var f=[].slice.call(arguments);if(this[0])return f[0]?(new(s[j(f[0])?f.shift():"Chart"])(this[0],f[0],f[1]),this):P[p(this[0],"data-highcharts-chart")]}),C={addEvent:function(f,o,R,U){void 0===U&&(U={});var X="function"==typeof f&&f.prototype||f;Object.hasOwnProperty.call(X,"hcEvents")||(X.hcEvents={}),X=X.hcEvents,s.Point&&f instanceof s.Point&&f.series&&f.series.chart&&(f.series.chart.runTrackerClick=!0);var tt=f.addEventListener||s.addEventListenerPolyfill;return tt&&tt.call(f,o,R,!!s.supportsPassiveEvents&&{passive:void 0===U.passive?-1!==o.indexOf("touch"):U.passive,capture:!1}),X[o]||(X[o]=[]),X[o].push({fn:R,order:"number"==typeof U.order?U.order:1/0}),X[o].sort(function(pt,ot){return pt.order-ot.order}),function(){n(f,o,R)}},arrayMax:function(f){for(var o=f.length,R=f[0];o--;)f[o]>R&&(R=f[o]);return R},arrayMin:function(f){for(var o=f.length,R=f[0];o--;)f[o]<R&&(R=f[o]);return R},attr:p,clamp:function(f,o,R){return f>o?f<R?f:R:o},cleanRecursively:function T(f,o){var R={};return h(f,function(U,X){Y(f[X],!0)&&!f.nodeType&&o[X]?(U=T(f[X],o[X]),Object.keys(U).length&&(R[X]=U)):(Y(f[X])||f[X]!==o[X]||X in f&&!(X in o))&&(R[X]=f[X])}),R},clearTimeout:function(f){a(f)&&clearTimeout(f)},correctFloat:x,createElement:function(f,o,R,U,X){return f=E.createElement(f),o&&l(f,o),X&&_(f,{padding:"0",border:"none",margin:"0"}),R&&_(f,R),U&&U.appendChild(f),f},css:_,defined:a,destroyObjectProperties:function(f,o){h(f,function(R,U){R&&R!==o&&R.destroy&&R.destroy(),delete f[U]})},discardElement:function(f){f&&f.parentElement&&f.parentElement.removeChild(f)},erase:function(f,o){for(var R=f.length;R--;)if(f[R]===o){f.splice(R,1);break}},error:c,extend:l,extendClass:function(f,o){var R=function(){};return l(R.prototype=new f,o),R},find:C,fireEvent:D,getMagnitude:w,getNestedProperty:function(f,o){for(f=f.split(".");f.length&&a(o);){var R=f.shift();if(typeof R>"u"||"__proto__"===R||!a(o=o[R])||"function"==typeof o||"number"==typeof o.nodeType||o===m)return}return o},getStyle:function I(f,o,R){var U=s.getStyle||I;if("width"===o)return o=Math.min(f.offsetWidth,f.scrollWidth),(R=f.getBoundingClientRect&&f.getBoundingClientRect().width)<o&&R>=o-1&&(o=Math.floor(R)),Math.max(0,o-(U(f,"padding-left",!0)||0)-(U(f,"padding-right",!0)||0));if("height"===o)return Math.max(0,Math.min(f.offsetHeight,f.scrollHeight)-(U(f,"padding-top",!0)||0)-(U(f,"padding-bottom",!0)||0));if(m.getComputedStyle||c(27,!0),f=m.getComputedStyle(f,void 0)){var X=f.getPropertyValue(o);d(R,"opacity"!==o)&&(X=M(X))}return X},inArray:function(f,o,R){return c(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),o.indexOf(f,R)},isArray:G,isClass:F,isDOMElement:z,isFunction:function(f){return"function"==typeof f},isNumber:N,isObject:Y,isString:j,keys:function(f){return c(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(f)},merge:function(){var f,o=arguments,R={},U=function(tt,pt){return"object"!=typeof tt&&(tt={}),h(pt,function(ot,W){"__proto__"!==W&&"constructor"!==W&&(tt[W]=!Y(ot,!0)||F(ot)||z(ot)?pt[W]:U(tt[W]||{},ot))}),tt};!0===o[0]&&(R=o[1],o=Array.prototype.slice.call(o,2));var X=o.length;for(f=0;f<X;f++)R=U(R,o[f]);return R},normalizeTickInterval:function(f,o,R,U,X){var tt=f,pt=f/(R=d(R,w(f)));for(o||(o=X?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===U&&(1===R?o=o.filter(function(ot){return ot%1==0}):.1>=R&&(o=[1/R]))),U=0;U<o.length&&(tt=o[U],!(X&&tt*R>=f||!X&&pt<=(o[U]+(o[U+1]||o[U]))/2));U++);return x(tt*R,-Math.round(Math.log(.001)/Math.LN10))},objectEach:h,offset:function(f){var o=E.documentElement;return{top:(f=f.parentElement||f.parentNode?f.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(m.pageYOffset||o.scrollTop)-(o.clientTop||0),left:f.left+(m.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:f.width,height:f.height}},pad:function(f,o,R){return Array((o||2)+1-String(f).replace("-","").length).join(R||"0")+f},pick:d,pInt:M,relativeLength:function(f,o,R){return/%$/.test(f)?o*parseFloat(f)/100+(R||0):parseFloat(f)},removeEvent:n,splat:function(f){return G(f)?f:[f]},stableSort:function(f,o){var U,X,R=f.length;for(X=0;X<R;X++)f[X].safeI=X;for(f.sort(function(tt,pt){return 0===(U=o(tt,pt))?tt.safeI-pt.safeI:U}),X=0;X<R;X++)delete f[X].safeI},syncTimeout:function(f,o,R){return 0<o?setTimeout(f,o,R):(f.call(0,R),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:k,useSerialIds:function(f){return A=d(f,A)},wrap:function(f,o,R){var U=f[o];f[o]=function(){var X=arguments,tt=this;return R.apply(this,[function(){return U.apply(tt,arguments.length?arguments:X)}].concat([].slice.call(arguments)))}}},C}),e(i,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),e(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c){var T=c.isNumber,M=c.merge,j=c.pInt;return function(){function G(Y){this.rgba=[NaN,NaN,NaN,NaN],this.input=Y;var z=s.Color;return z&&z!==G?new z(Y):this instanceof G?void this.init(Y):new G(Y)}return G.parse=function(Y){return Y?new G(Y):G.None},G.prototype.init=function(Y){var z;if("object"==typeof Y&&typeof Y.stops<"u")this.stops=Y.stops.map(function(p){return new G(p[1])});else if("string"==typeof Y){if(this.input=Y=G.names[Y.toLowerCase()]||Y,"#"===Y.charAt(0)){var F=Y.length,N=parseInt(Y.substr(1),16);7===F?z=[(16711680&N)>>16,(65280&N)>>8,255&N,1]:4===F&&(z=[(3840&N)>>4|(3840&N)>>8,(240&N)>>4|240&N,(15&N)<<4|15&N,1])}if(!z)for(N=G.parsers.length;N--&&!z;){var a=G.parsers[N];(F=a.regex.exec(Y))&&(z=a.parse(F))}}z&&(this.rgba=z)},G.prototype.get=function(Y){var z=this.input,F=this.rgba;if("object"==typeof z&&typeof this.stops<"u"){var N=M(z);return N.stops=[].slice.call(N.stops),this.stops.forEach(function(a,p){N.stops[p]=[N.stops[p][0],a.get(Y)]}),N}return F&&T(F[0])?"rgb"===Y||!Y&&1===F[3]?"rgb("+F[0]+","+F[1]+","+F[2]+")":"a"===Y?"".concat(F[3]):"rgba("+F.join(",")+")":z},G.prototype.brighten=function(Y){var z=this.rgba;if(this.stops)this.stops.forEach(function(N){N.brighten(Y)});else if(T(Y)&&0!==Y)for(var F=0;3>F;F++)z[F]+=j(255*Y),0>z[F]&&(z[F]=0),255<z[F]&&(z[F]=255);return this},G.prototype.setOpacity=function(Y){return this.rgba[3]=Y,this},G.prototype.tweenTo=function(Y,z){var F=this.rgba,N=Y.rgba;return T(F[0])&&T(N[0])?((Y=1!==N[3]||1!==F[3])?"rgba(":"rgb(")+Math.round(N[0]+(F[0]-N[0])*(1-z))+","+Math.round(N[1]+(F[1]-N[1])*(1-z))+","+Math.round(N[2]+(F[2]-N[2])*(1-z))+(Y?","+(N[3]+(F[3]-N[3])*(1-z)):"")+")":Y.input||"none"},G.names={white:"#ffffff",black:"#000000"},G.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(Y){return[j(Y[1]),j(Y[2]),j(Y[3]),parseFloat(Y[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(Y){return[j(Y[1]),j(Y[2]),j(Y[3]),1]}}],G.None=new G(""),G}()}),e(i,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),e(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c){var T=s.win,M=c.defined,j=c.error,G=c.extend,Y=c.isObject,z=c.merge,F=c.objectEach,N=c.pad,a=c.pick,p=c.splat,l=c.timeUnits,d=s.isSafari&&T.Intl&&T.Intl.DateTimeFormat.prototype.formatRange,_=s.isSafari&&T.Intl&&!T.Intl.DateTimeFormat.prototype.formatRange;return c=function(){function w(x){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=T.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(x)}return w.prototype.get=function(x,I){if(this.variableTimezone||this.timezoneOffset){var h=I.getTime(),n=h-this.getTimezoneOffset(I);return I.setTime(n),x=I["getUTC"+x](),I.setTime(h),x}return this.useUTC?I["getUTC"+x]():I["get"+x]()},w.prototype.set=function(x,I,h){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===x||"Seconds"===x||"Minutes"===x&&this.getTimezoneOffset(I)%36e5==0)return I["setUTC"+x](h);var n=this.getTimezoneOffset(I);return n=I.getTime()-n,I.setTime(n),I["setUTC"+x](h),x=this.getTimezoneOffset(I),n=I.getTime()+x,I.setTime(n)}return this.useUTC||d&&"FullYear"===x?I["setUTC"+x](h):I["set"+x](h)},w.prototype.update=function(x){void 0===x&&(x={});var I=a(x.useUTC,!0);this.options=x=z(!0,this.options,x),this.Date=x.Date||T.Date||Date,this.timezoneOffset=(this.useUTC=I)&&x.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=I&&!(!x.getTimezoneOffset&&!x.timezone)},w.prototype.makeTime=function(x,I,h,n,D,P){if(this.useUTC){var E=this.Date.UTC.apply(0,arguments),m=this.getTimezoneOffset(E),C=this.getTimezoneOffset(E+=m);m!==C?E+=C-m:m-36e5!==this.getTimezoneOffset(E-36e5)||_||(E-=36e5)}else E=new this.Date(x,I,a(h,1),a(n,0),a(D,0),a(P,0)).getTime();return E},w.prototype.timezoneOffsetFunction=function(){var x=this,I=this.options,h=I.getTimezoneOffset,n=I.moment||T.moment;if(!this.useUTC)return function(D){return 6e4*new Date(D.toString()).getTimezoneOffset()};if(I.timezone){if(n)return function(D){return 6e4*-n.tz(D,I.timezone).utcOffset()};j(25)}return this.useUTC&&h?function(D){return 6e4*h(D.valueOf())}:function(){return 6e4*(x.timezoneOffset||0)}},w.prototype.dateFormat=function(x,I,h){if(!M(I)||isNaN(I))return s.defaultOptions.lang&&s.defaultOptions.lang.invalidDate||"";x=a(x,"%Y-%m-%d %H:%M:%S");var n=this,D=new this.Date(I),P=this.get("Hours",D),E=this.get("Day",D),m=this.get("Date",D),C=this.get("Month",D),A=this.get("FullYear",D),k=s.defaultOptions.lang,f=k&&k.weekdays,o=k&&k.shortWeekdays;return D=G({a:o?o[E]:f[E].substr(0,3),A:f[E],d:N(m),e:N(m,2," "),w:E,b:k.shortMonths[C],B:k.months[C],m:N(C+1),o:C+1,y:A.toString().substr(2,2),Y:A,H:N(P),k:P,I:N(P%12||12),l:P%12||12,M:N(this.get("Minutes",D)),p:12>P?"AM":"PM",P:12>P?"am":"pm",S:N(D.getSeconds()),L:N(Math.floor(I%1e3),3)},s.dateFormats),F(D,function(R,U){for(;-1!==x.indexOf("%"+U);)x=x.replace("%"+U,"function"==typeof R?R.call(n,I):R)}),h?x.substr(0,1).toUpperCase()+x.substr(1):x},w.prototype.resolveDTLFormat=function(x){return Y(x,!0)?x:{main:(x=p(x))[0],from:x[1],to:x[2]}},w.prototype.getTimeTicks=function(x,I,h,n){var k,D=this,P=[],E={},m=new D.Date(I),C=x.unitRange,A=x.count||1;if(n=a(n,1),M(I)){if(D.set("Milliseconds",m,C>=l.second?0:A*Math.floor(D.get("Milliseconds",m)/A)),C>=l.second&&D.set("Seconds",m,C>=l.minute?0:A*Math.floor(D.get("Seconds",m)/A)),C>=l.minute&&D.set("Minutes",m,C>=l.hour?0:A*Math.floor(D.get("Minutes",m)/A)),C>=l.hour&&D.set("Hours",m,C>=l.day?0:A*Math.floor(D.get("Hours",m)/A)),C>=l.day&&D.set("Date",m,C>=l.month?1:Math.max(1,A*Math.floor(D.get("Date",m)/A))),C>=l.month){D.set("Month",m,C>=l.year?0:A*Math.floor(D.get("Month",m)/A));var f=D.get("FullYear",m)}C>=l.year&&D.set("FullYear",m,f-f%A),C===l.week&&(f=D.get("Day",m),D.set("Date",m,D.get("Date",m)-f+n+(f<n?-7:0))),f=D.get("FullYear",m),n=D.get("Month",m);var o=D.get("Date",m),R=D.get("Hours",m);for(I=m.getTime(),!D.variableTimezone&&D.useUTC||!M(h)||(k=h-I>4*l.month||D.getTimezoneOffset(I)!==D.getTimezoneOffset(h)),I=m.getTime(),m=1;I<h;)P.push(I),I=C===l.year?D.makeTime(f+m*A,0):C===l.month?D.makeTime(f,n+m*A):!k||C!==l.day&&C!==l.week?k&&C===l.hour&&1<A?D.makeTime(f,n,o,R+m*A):I+C*A:D.makeTime(f,n,o+m*A*(C===l.day?1:7)),m++;P.push(I),C<=l.hour&&1e4>P.length&&P.forEach(function(U){U%18e5==0&&"000000000"===D.dateFormat("%H%M%S%L",U)&&(E[U]="day")})}return P.info=G(x,{higherRanks:E,totalRange:C*A}),P},w.prototype.getDateFormat=function(x,I,h,n){var D=this.dateFormat("%m-%d %H:%M:%S.%L",I),P={millisecond:15,second:12,minute:9,hour:6,day:3},E="millisecond";for(m in l){if(x===l.week&&+this.dateFormat("%w",I)===h&&"00:00:00.000"===D.substr(6)){var m="week";break}if(l[m]>x){m=E;break}if(P[m]&&D.substr(P[m])!=="01-01 00:00:00.000".substr(P[m]))break;"week"!==m&&(E=m)}return this.resolveDTLFormat(n[m]).main},w}(),c}),e(i,"Core/Defaults.js",[i["Core/Chart/ChartDefaults.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palettes.js"],i["Core/Time.js"],i["Core/Utilities.js"]],function(s,c,T,M,j,G){c=c.parse;var Y=G.merge,z={colors:M.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:s,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:T.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:T.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:c("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};z.chart.styledMode=!1;var F=new j(Y(z.global,z.time));return{defaultOptions:z,defaultTime:F,getOptions:function(){return z},setOptions:function(N){return Y(!0,z,N),(N.time||N.global)&&(T.time?T.time.update(Y(z.global,z.time,N.global,N.time)):T.time=F),z}}}),e(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c,T){var M=s.parse,j=c.win,G=T.isNumber,Y=T.objectEach;return function(){function z(F,N,a){this.pos=NaN,this.options=N,this.elem=F,this.prop=a}return z.prototype.dSetter=function(){var F=this.paths,N=F&&F[0];F=F&&F[1];var a=this.now||0,p=[];if(1!==a&&N&&F)if(N.length===F.length&&1>a)for(var l=0;l<F.length;l++){for(var d=N[l],_=F[l],w=[],x=0;x<_.length;x++){var I=d[x],h=_[x];w[x]=G(I)&&G(h)&&("A"!==_[0]||4!==x&&5!==x)?I+a*(h-I):h}p.push(w)}else p=F;else p=this.toD||[];this.elem.attr("d",p,void 0,!0)},z.prototype.update=function(){var F=this.elem,N=this.prop,a=this.now,p=this.options.step;this[N+"Setter"]?this[N+"Setter"]():F.attr?F.element&&F.attr(N,a,null,!0):F.style[N]=a+this.unit,p&&p.call(F,a,this)},z.prototype.run=function(F,N,a){var p=this,l=p.options,d=function(x){return!d.stopped&&p.step(x)},_=j.requestAnimationFrame||function(x){setTimeout(x,13)},w=function(){for(var x=0;x<z.timers.length;x++)z.timers[x]()||z.timers.splice(x--,1);z.timers.length&&_(w)};F!==N||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=F,this.end=N,this.unit=a,this.now=this.start,this.pos=0,d.elem=this.elem,d.prop=this.prop,d()&&1===z.timers.push(d)&&_(w)):(delete l.curAnim[this.prop],l.complete&&0===Object.keys(l.curAnim).length&&l.complete.call(this.elem))},z.prototype.step=function(F){var N=+new Date,a=this.options,p=this.elem,l=a.complete,d=a.duration,_=a.curAnim;if(p.attr&&!p.element)F=!1;else if(F||N>=d+this.startTime){this.now=this.end,this.pos=1,this.update();var w=_[this.prop]=!0;Y(_,function(x){!0!==x&&(w=!1)}),w&&l&&l.call(p),F=!1}else this.pos=a.easing((N-this.startTime)/d),this.now=this.start+(this.end-this.start)*this.pos,this.update(),F=!0;return F},z.prototype.initPath=function(F,N,a){function p(D,P){for(;D.length<n;){var E=D[0],m=P[n-D.length];m&&"M"===E[0]&&(D[0]="C"===m[0]?["C",E[1],E[2],E[1],E[2],E[1],E[2]]:["L",E[1],E[2]]),D.unshift(E),w&&(E=D.pop(),D.push(D[D.length-1],E))}}function l(D,P){for(;D.length<n;)if("C"===(P=D[Math.floor(D.length/x)-1].slice())[0]&&(P[1]=P[5],P[2]=P[6]),w){var E=D[Math.floor(D.length/x)].slice();D.splice(D.length/2,0,P,E)}else D.push(P)}var d=F.startX,_=F.endX;a=a.slice();var w=F.isArea,x=w?2:1;if(!(N=N&&N.slice()))return[a,a];if(d&&_&&_.length){for(F=0;F<d.length;F++){if(d[F]===_[0]){var I=F;break}if(d[0]===_[_.length-d.length+F]){I=F;var h=!0;break}if(d[d.length-1]===_[_.length-d.length+F]){I=d.length-F;break}}typeof I>"u"&&(N=[])}if(N.length&&G(I)){var n=a.length+I*x;h?(p(N,a),l(a,N)):(p(a,N),l(N,a))}return[N,a]},z.prototype.fillSetter=function(){z.prototype.strokeSetter.apply(this,arguments)},z.prototype.strokeSetter=function(){this.elem.attr(this.prop,M(this.start).tweenTo(M(this.end),this.pos),void 0,!0)},z.timers=[],z}()}),e(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],function(s,c){function T(l){return F(l)?N({duration:500,defer:0},l):{duration:l?500:0,defer:0}}function M(l,d){for(var _=s.timers.length;_--;)s.timers[_].elem!==l||d&&d!==s.timers[_].prop||(s.timers[_].stopped=!0)}var j=c.defined,G=c.getStyle,Y=c.isArray,z=c.isNumber,F=c.isObject,N=c.merge,a=c.objectEach,p=c.pick;return{animate:function(l,d,_){var w,I,h,x="";if(!F(_)){var n=arguments;_={duration:n[2],easing:n[3],complete:n[4]}}z(_.duration)||(_.duration=400),_.easing="function"==typeof _.easing?_.easing:Math[_.easing]||Math.easeInOutSine,_.curAnim=N(d),a(d,function(D,P){M(l,P),h=new s(l,_,P),I=void 0,"d"===P&&Y(d.d)?(h.paths=h.initPath(l,l.pathArray,d.d),h.toD=d.d,w=0,I=1):l.attr?w=l.attr(P):(w=parseFloat(G(l,P))||0,"opacity"!==P&&(x="px")),I||(I=D),"string"==typeof I&&I.match("px")&&(I=I.replace(/px/g,"")),h.run(w,I,x)})},animObject:T,getDeferredAnimation:function(l,d,_){var w=T(d),x=0,I=0;return(_?[_]:l.series).forEach(function(h){h=T(h.options.animation),x=d&&j(d.defer)?w.defer:Math.max(x,h.duration+h.defer),I=Math.min(w.duration,h.duration)}),l.renderer.forExport&&(x=0),{defer:Math.max(0,x-I),duration:Math.min(x,I)}},setAnimation:function(l,d){d.renderer.globalAnimation=p(l,d.options.chart.animation,!0)},stop:M}}),e(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c){var T=s.SVG_NS,M=c.attr,j=c.createElement,G=c.css,Y=c.error,z=c.isFunction,F=c.isString,N=c.objectEach,a=c.splat,p=(c=s.win.trustedTypes)&&z(c.createPolicy)&&c.createPolicy("highcharts",{createHTML:function(_){return _}}),l=p?p.createHTML(""):"";try{var d=!!(new DOMParser).parseFromString(l,"text/html")}catch{d=!1}return function(){function _(w){this.nodes="string"==typeof w?this.parseMarkup(w):w}return _.filterUserAttributes=function(w){return N(w,function(x,I){var h=!0;-1===_.allowedAttributes.indexOf(I)&&(h=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(I)&&(h=F(x)&&_.allowedReferences.some(function(n){return 0===x.indexOf(n)})),h||(Y(33,!1,void 0,{"Invalid attribute in config":"".concat(I)}),delete w[I]),F(x)&&w[I]&&(w[I]=x.replace(/</g,"&lt;"))}),w},_.parseStyle=function(w){return w.split(";").reduce(function(x,I){var h=(I=I.split(":").map(function(n){return n.trim()})).shift();return h&&I.length&&(x[h.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})]=I.join(":")),x},{})},_.setElementHTML=function(w,x){w.innerHTML=_.emptyHTML,x&&new _(x).addToDOM(w)},_.prototype.addToDOM=function(w){return function x(I,h){var n;return a(I).forEach(function(D){var P=D.tagName,E=D.textContent?s.doc.createTextNode(D.textContent):void 0,m=_.bypassHTMLFiltering;if(P)if("#text"===P)var C=E;else if(-1!==_.allowedTags.indexOf(P)||m){P=s.doc.createElementNS("svg"===P?T:h.namespaceURI||T,P);var A=D.attributes||{};N(D,function(k,f){"tagName"!==f&&"attributes"!==f&&"children"!==f&&"style"!==f&&"textContent"!==f&&(A[f]=k)}),M(P,m?A:_.filterUserAttributes(A)),D.style&&G(P,D.style),E&&P.appendChild(E),x(D.children||[],P),C=P}else Y(33,!1,void 0,{"Invalid tagName in config":P});C&&h.appendChild(C),n=C}),n}(this.nodes,w)},_.prototype.parseMarkup=function(w){var x=[];if(w=w.trim().replace(/ style=(["'])/g," data-style=$1"),d)w=(new DOMParser).parseFromString(p?p.createHTML(w):w,"text/html");else{var I=j("div");I.innerHTML=w,w={body:I}}var h=function(n,D){var P=n.nodeName.toLowerCase(),E={tagName:P};if("#text"===P&&(E.textContent=n.textContent||""),P=n.attributes){var m={};[].forEach.call(P,function(A){"data-style"===A.name?E.style=_.parseStyle(A.value):m[A.name]=A.value}),E.attributes=m}if(n.childNodes.length){var C=[];[].forEach.call(n.childNodes,function(A){h(A,C)}),C.length&&(E.children=C)}D.push(E)};return[].forEach.call(w.body.childNodes,function(n){return h(n,x)}),x},_.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),_.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),_.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),_.emptyHTML=l,_.bypassHTMLFiltering=!1,_}()}),e(i,"Core/FormatUtilities.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],function(s,c){function T(N,a,p,l){a=+a;var d=M.lang,_=((N=+N||0).toString().split(".")[1]||"").split("e")[0].length,w=N.toString().split("e"),x=a;if(-1===a)a=Math.min(_,20);else if(Y(a)){if(a&&w[1]&&0>w[1]){var I=a+ +w[1];0<=I?(w[0]=(+w[0]).toExponential(I).split("e")[0],a=I):(w[0]=w[0].split(".")[0]||0,N=20>a?(w[0]*Math.pow(10,w[1])).toFixed(a):0,w[1]=0)}}else a=2;I=(Math.abs(w[1]?w[0]:N)+Math.pow(10,-Math.max(a,_)-1)).toFixed(a);var h=3<(_=String(F(I))).length?_.length%3:0;return p=z(p,d.decimalPoint),l=z(l,d.thousandsSep),N=(0>N?"-":"")+(h?_.substr(0,h)+l:""),N=0>+w[1]&&!x?"0":N+_.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+l),a&&(N+=p+I.slice(-a)),w[1]&&0!=+N&&(N+="e"+w[1]),N}var M=s.defaultOptions,j=s.defaultTime,G=c.getNestedProperty,Y=c.isNumber,z=c.pick,F=c.pInt;return{dateFormat:function(N,a,p){return j.dateFormat(N,a,p)},format:function(N,a,p){var l="{",d=!1,_=/f$/,w=/\.([0-9])/,x=M.lang,I=p&&p.time||j;p=p&&p.numberFormatter||T;for(var h=[];N;){var n=N.indexOf(l);if(-1===n)break;var D=N.slice(0,n);if(d){if(D=D.split(":"),l=G(D.shift()||"",a),D.length&&"number"==typeof l)if(D=D.join(":"),_.test(D)){var P=parseInt((D.match(w)||["","-1"])[1],10);null!==l&&(l=p(l,P,x.decimalPoint,-1<D.indexOf(",")?x.thousandsSep:""))}else l=I.dateFormat(D,l);h.push(l)}else h.push(D);N=N.slice(n+1),l=(d=!d)?"}":"{"}return h.push(N),h.join("")},numberFormat:T}}),e(i,"Core/Renderer/RendererUtilities.js",[i["Core/Utilities.js"]],function(s){var j,c=s.clamp,T=s.pick,M=s.stableSort;return(j||(j={})).distribute=function Y(z,F,N){var _,a=z,p=a.reducedLen||F,l=function(h,n){return(n.rank||0)-(h.rank||0)},d=function(h,n){return h.target-n.target},w=!0,x=[],I=0;for(_=z.length;_--;)I+=z[_].size;if(I>p){for(M(z,l),I=_=0;I<=p;)I+=z[_].size,_++;x=z.splice(_-1,z.length)}for(M(z,d),z=z.map(function(h){return{size:h.size,targets:[h.target],align:T(h.align,.5)}});w;){for(_=z.length;_--;)p=z[_],l=(Math.min.apply(0,p.targets)+Math.max.apply(0,p.targets))/2,p.pos=c(l-p.size*p.align,0,F-p.size);for(_=z.length,w=!1;_--;)0<_&&z[_-1].pos+z[_-1].size>z[_].pos&&(z[_-1].size+=z[_].size,z[_-1].targets=z[_-1].targets.concat(z[_].targets),z[_-1].align=.5,z[_-1].pos+z[_-1].size>F&&(z[_-1].pos=F-z[_-1].size),z.splice(_,1),w=!0)}return a.push.apply(a,x),_=0,z.some(function(h){var n=0;return(h.targets||[]).some(function(){return a[_].pos=h.pos+n,typeof N<"u"&&Math.abs(a[_].pos-a[_].target)>N?(a.slice(0,_+1).forEach(function(D){return delete D.pos}),a.reducedLen=(a.reducedLen||F)-.1*F,a.reducedLen>.1*F&&Y(a,F,N),!0):(n+=a[_].size,_++,!1)})}),M(a,d),a},j}),e(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c,T,M){var j=s.animate,G=s.animObject,Y=s.stop,z=T.deg2rad,F=T.doc,N=T.svg,a=T.SVG_NS,p=T.win,l=M.addEvent,d=M.attr,_=M.createElement,w=M.css,x=M.defined,I=M.erase,h=M.extend,n=M.fireEvent,D=M.isArray,P=M.isFunction,E=M.isString,m=M.merge,C=M.objectEach,A=M.pick,k=M.pInt,f=M.syncTimeout,o=M.uniqueKey;return s=function(){function R(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=a,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return R.prototype._defaultGetter=function(U){return U=A(this[U+"Value"],this[U],this.element?this.element.getAttribute(U):null,0),/^[\-0-9\.]+$/.test(U)&&(U=parseFloat(U)),U},R.prototype._defaultSetter=function(U,X,tt){tt.setAttribute(X,U)},R.prototype.add=function(U){var X=this.renderer,tt=this.element;if(U&&(this.parentGroup=U),typeof this.textStr<"u"&&"text"===this.element.nodeName&&X.buildText(this),this.added=!0,!U||U.handleZ||this.zIndex)var pt=this.zIndexSetter();return pt||(U?U.element:X.box).appendChild(tt),this.onAdd&&this.onAdd(),this},R.prototype.addClass=function(U,X){var tt=X?"":this.attr("class")||"";return(U=(U||"").split(/ /g).reduce(function(pt,ot){return-1===tt.indexOf(ot)&&pt.push(ot),pt},tt?[tt]:[]).join(" "))!==tt&&this.attr("class",U),this},R.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},R.prototype.align=function(U,X,tt){var K,gt,yt,pt={},ot=this.renderer,W=ot.alignedObjects;U?(this.alignOptions=U,this.alignByTranslate=X,(!tt||E(tt))&&(this.alignTo=K=tt||"renderer",I(W,this),W.push(this),tt=void 0)):(U=this.alignOptions,X=this.alignByTranslate,K=this.alignTo),tt=A(tt,ot[K],"scrollablePlotBox"===K?ot.plotBox:void 0,ot);var _t=U.verticalAlign;return ot=(tt.x||0)+(U.x||0),W=(tt.y||0)+(U.y||0),"right"===(K=U.align)?gt=1:"center"===K&&(gt=2),gt&&(ot+=(tt.width-(U.width||0))/gt),pt[X?"translateX":"x"]=Math.round(ot),"bottom"===_t?yt=1:"middle"===_t&&(yt=2),yt&&(W+=(tt.height-(U.height||0))/yt),pt[X?"translateY":"y"]=Math.round(W),this[this.placed?"animate":"attr"](pt),this.placed=!0,this.alignAttr=pt,this},R.prototype.alignSetter=function(U){var X={left:"start",center:"middle",right:"end"};X[U]&&(this.alignValue=U,this.element.setAttribute("text-anchor",X[U]))},R.prototype.animate=function(U,X,tt){var pt=this,ot=G(A(X,this.renderer.globalAnimation,!0));return X=ot.defer,A(F.hidden,F.msHidden,F.webkitHidden,!1)&&(ot.duration=0),0!==ot.duration?(tt&&(ot.complete=tt),f(function(){pt.element&&j(pt,U,ot)},X)):(this.attr(U,void 0,tt||ot.complete),C(U,function(W,K){ot.step&&ot.step.call(this,W,{prop:K,pos:1,elem:this})},this)),this},R.prototype.applyTextOutline=function(U){var X=this.element;-1!==U.indexOf("contrast")&&(U=U.replace(/contrast/g,this.renderer.getContrast(X.style.fill)));var tt=U.split(" ");if(U=tt[tt.length-1],(tt=tt[0])&&"none"!==tt&&T.svg){this.fakeTS=!0,tt=tt.replace(/(^[\d\.]+)(.*?)$/g,function(W,K,gt){return 2*Number(K)+gt}),this.removeTextOutline();var pt=F.createElementNS(a,"tspan");d(pt,{class:"highcharts-text-outline",fill:U,stroke:U,"stroke-width":tt,"stroke-linejoin":"round"}),U=X.querySelector("textPath")||X,[].forEach.call(U.childNodes,function(W){var K=W.cloneNode(!0);K.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(gt){return K.removeAttribute(gt)}),pt.appendChild(K)});var ot=0;[].forEach.call(U.querySelectorAll("text tspan"),function(W){ot+=Number(W.getAttribute("dy"))}),(tt=F.createElementNS(a,"tspan")).textContent="\u200b",d(tt,{x:Number(X.getAttribute("x")),dy:-ot}),pt.appendChild(tt),U.insertBefore(pt,U.firstChild)}},R.prototype.attr=function(U,X,tt,pt){var K,yt,_t,ot=this.element,W=this.symbolCustomAttribs,gt=this;if("string"==typeof U&&typeof X<"u"){var rt=U;(U={})[rt]=X}return"string"==typeof U?gt=(this[U+"Getter"]||this._defaultGetter).call(this,U,ot):(C(U,function(ut,at){yt=!1,pt||Y(this,at),this.symbolName&&-1!==W.indexOf(at)&&(K||(this.symbolAttr(U),K=!0),yt=!0),!this.rotation||"x"!==at&&"y"!==at||(this.doTransform=!0),yt||((_t=this[at+"Setter"]||this._defaultSetter).call(this,ut,at,ot),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(at)&&this.updateShadows(at,ut,_t))},this),this.afterSetters()),tt&&tt.call(this),gt},R.prototype.clip=function(U){return this.attr("clip-path",U?"url("+this.renderer.url+"#"+U.id+")":"none")},R.prototype.crisp=function(U,X){X=X||U.strokeWidth||0;var tt=Math.round(X)%2/2;return U.x=Math.floor(U.x||this.x||0)+tt,U.y=Math.floor(U.y||this.y||0)+tt,U.width=Math.floor((U.width||this.width||0)-2*tt),U.height=Math.floor((U.height||this.height||0)-2*tt),x(U.strokeWidth)&&(U.strokeWidth=X),U},R.prototype.complexColor=function(U,X,tt){var ot,W,K,gt,yt,_t,rt,ut,at,Ct,ct,pt=this.renderer,vt=[];n(this.renderer,"complexColor",{args:arguments},function(){if(U.radialGradient?W="radialGradient":U.linearGradient&&(W="linearGradient"),W){if(yt=pt.gradients,_t=U.stops,at=tt.radialReference,D(K=U[W])&&(U[W]=K={x1:K[0],y1:K[1],x2:K[2],y2:K[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===W&&at&&!x(K.gradientUnits)&&(K=m(K,pt.getRadialAttr(at,gt=K),{gradientUnits:"userSpaceOnUse"})),C(K,function(kt,Ft){"id"!==Ft&&vt.push(Ft,kt)}),C(_t,function(kt){vt.push(kt)}),vt=vt.join(","),yt[vt])Ct=yt[vt].attr("id");else{K.id=Ct=o();var Tt=yt[vt]=pt.createElement(W).attr(K).add(pt.defs);Tt.radAttr=gt,Tt.stops=[],_t.forEach(function(kt){0===kt[1].indexOf("rgba")?(ot=c.parse(kt[1]),rt=ot.get("rgb"),ut=ot.get("a")):(rt=kt[1],ut=1),kt=pt.createElement("stop").attr({offset:kt[0],"stop-color":rt,"stop-opacity":ut}).add(Tt),Tt.stops.push(kt)})}tt.setAttribute(X,ct="url("+pt.url+"#"+Ct+")"),tt.gradient=vt,U.toString=function(){return ct}}})},R.prototype.css=function(U){var X=this.styles,tt={},pt=this.element,ot=!X;if(U.color&&(U.fill=U.color),X&&C(U,function(gt,yt){X&&X[yt]!==gt&&(tt[yt]=gt,ot=!0)}),ot){if(X&&(U=h(X,tt)),null===U.width||"auto"===U.width)delete this.textWidth;else if("text"===pt.nodeName.toLowerCase()&&U.width)var W=this.textWidth=k(U.width);this.styles=U,W&&!N&&this.renderer.forExport&&delete U.width;var K=m(U);pt.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(gt){return K&&delete K[gt]}),w(pt,K),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),U.textOutline&&this.applyTextOutline(U.textOutline))}return this},R.prototype.dashstyleSetter=function(U){var X=this["stroke-width"];if("inherit"===X&&(X=1),U=U&&U.toLowerCase()){var tt=U.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(U=tt.length;U--;)tt[U]=""+k(tt[U])*A(X,NaN);U=tt.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",U)}},R.prototype.destroy=function(){var U=this,X=U.element||{},tt=U.renderer,pt=X.ownerSVGElement,ot=tt.isSVG&&"SPAN"===X.nodeName&&U.parentGroup||void 0;if(X.onclick=X.onmouseout=X.onmouseover=X.onmousemove=X.point=null,Y(U),U.clipPath&&pt){var W=U.clipPath;[].forEach.call(pt.querySelectorAll("[clip-path],[CLIP-PATH]"),function(K){-1<K.getAttribute("clip-path").indexOf(W.element.id)&&K.removeAttribute("clip-path")}),U.clipPath=W.destroy()}if(U.stops){for(pt=0;pt<U.stops.length;pt++)U.stops[pt].destroy();U.stops.length=0,U.stops=void 0}for(U.safeRemoveChild(X),tt.styledMode||U.destroyShadows();ot&&ot.div&&0===ot.div.childNodes.length;)X=ot.parentGroup,U.safeRemoveChild(ot.div),delete ot.div,ot=X;U.alignTo&&I(tt.alignedObjects,U),C(U,function(K,gt){U[gt]&&U[gt].parentGroup===U&&U[gt].destroy&&U[gt].destroy(),delete U[gt]})},R.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(U){this.safeRemoveChild(U)},this),this.shadows=void 0},R.prototype.dSetter=function(U,X,tt){D(U)&&("string"==typeof U[0]&&(U=this.renderer.pathToSegments(U)),this.pathArray=U,U=U.reduce(function(pt,ot,W){return ot&&ot.join?(W?pt+" ":"")+ot.join(" "):(ot||"").toString()},"")),/(NaN| {2}|^$)/.test(U)&&(U="M 0 0"),this[X]!==U&&(tt.setAttribute(X,U),this[X]=U)},R.prototype.fadeOut=function(U){var X=this;X.animate({opacity:0},{duration:A(U,150),complete:function(){X.hide()}})},R.prototype.fillSetter=function(U,X,tt){"string"==typeof U?tt.setAttribute(X,U):U&&this.complexColor(U,X,tt)},R.prototype.getBBox=function(U,X){var tt=this.alignValue,pt=this.element,ot=this.renderer,W=this.styles,K=this.textStr,gt=ot.cache,yt=ot.cacheKeys,_t=pt.namespaceURI===this.SVG_NS;X=A(X,this.rotation,0);var ut,rt=ot.styledMode?pt&&R.prototype.getStyle.call(pt,"font-size"):W&&W.fontSize;if(x(K)){var at=K.toString();-1===at.indexOf("<")&&(at=at.replace(/[0-9]/g,"0")),at+=["",X,rt,this.textWidth,tt,W&&W.textOverflow,W&&W.fontWeight].join()}if(at&&!U&&(ut=gt[at]),!ut){if(_t||ot.forExport){try{var Ct=this.fakeTS&&function(ct){var Tt=pt.querySelector(".highcharts-text-outline");Tt&&w(Tt,{display:ct})};P(Ct)&&Ct("none"),ut=pt.getBBox?h({},pt.getBBox()):{width:pt.offsetWidth,height:pt.offsetHeight,x:0,y:0},P(Ct)&&Ct("")}catch{}(!ut||0>ut.width)&&(ut={x:0,y:0,width:0,height:0})}else ut=this.htmlGetBBox();if(ot.isSVG&&(ot=ut.width,U=ut.height,_t&&(ut.height=U={"11px,17":14,"13px,20":16}[""+(rt||"")+",".concat(Math.round(U))]||U),X)){_t=Number(pt.getAttribute("y")||0)-ut.y,tt={right:1,center:.5}[tt||0]||0,W=X*z,rt=(X-90)*z;var vt=ot*Math.cos(W);X=ot*Math.sin(W),Ct=Math.cos(rt),W=Math.sin(rt),vt=(Ct=(rt=(ot=ut.x+tt*(ot-vt)+_t*Ct)+vt)-U*Ct)-vt,X=(U=(tt=(_t=ut.y+_t-tt*X+_t*W)+X)-U*W)-X,ut.x=Math.min(ot,rt,Ct,vt),ut.y=Math.min(_t,tt,U,X),ut.width=Math.max(ot,rt,Ct,vt)-ut.x,ut.height=Math.max(_t,tt,U,X)-ut.y}if(at&&(""===K||0<ut.height)){for(;250<yt.length;)delete gt[yt.shift()];gt[at]||yt.push(at),gt[at]=ut}}return ut},R.prototype.getStyle=function(U){return p.getComputedStyle(this.element||this,"").getPropertyValue(U)},R.prototype.hasClass=function(U){return-1!==(""+this.attr("class")).split(" ").indexOf(U)},R.prototype.hide=function(){return this.attr({visibility:"hidden"})},R.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},R.prototype.init=function(U,X){this.element="span"===X?_(X):F.createElementNS(this.SVG_NS,X),this.renderer=U,n(this,"afterInit")},R.prototype.on=function(U,X){var tt=this.onEvents;return tt[U]&&tt[U](),tt[U]=l(this.element,U,X),this},R.prototype.opacitySetter=function(U,X,tt){this.opacity=U=Number(Number(U).toFixed(3)),tt.setAttribute(X,U)},R.prototype.removeClass=function(U){return this.attr("class",(""+this.attr("class")).replace(E(U)?new RegExp("(^| )".concat(U,"( |$)")):U," ").replace(/ +/g," ").trim())},R.prototype.removeTextOutline=function(){var U=this.element.querySelector("tspan.highcharts-text-outline");U&&this.safeRemoveChild(U)},R.prototype.safeRemoveChild=function(U){var X=U.parentNode;X&&X.removeChild(U)},R.prototype.setRadialReference=function(U){var X=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=U,X&&X.radAttr&&X.animate(this.renderer.getRadialAttr(U,X.radAttr)),this},R.prototype.setTextPath=function(U,X){var tt=this;X=m(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},X);var pt=this.renderer.url,ot=this.text||this,W=ot.textPath,K=X.attributes,gt=X.enabled;return U=U||W&&W.path,W&&W.undo(),U&&gt?(X=l(ot,"afterModifyTree",function(yt){if(U&&gt){var _t=U.attr("id");_t||U.attr("id",_t=o());var rt={x:0,y:0};x(K.dx)&&(rt.dx=K.dx,delete K.dx),x(K.dy)&&(rt.dy=K.dy,delete K.dy),ot.attr(rt),tt.attr({transform:""}),tt.box&&(tt.box=tt.box.destroy()),rt=yt.nodes.slice(0),yt.nodes.length=0,yt.nodes[0]={tagName:"textPath",attributes:h(K,{"text-anchor":K.textAnchor,href:""+pt+"#".concat(_t)}),children:rt}}}),ot.textPath={path:U,undo:X}):(ot.attr({dx:0,dy:0}),delete ot.textPath),this.added&&(ot.textCache="",this.renderer.buildText(ot)),this},R.prototype.shadow=function(U,X,tt){var pt=[],ot=this.element,W=this.oldShadowOptions,K=this.parentGroup,gt=K&&90===K.rotation;K={color:"#000000",offsetX:gt?-1:1,offsetY:gt?-1:1,opacity:.15,width:3};var _t,yt=!1;if(!0===U?_t=K:"object"==typeof U&&(_t=h(K,U)),_t&&(_t&&W&&C(_t,function(Ct,vt){Ct!==W[vt]&&(yt=!0)}),yt&&this.destroyShadows(),this.oldShadowOptions=_t),_t){if(!this.shadows){K=_t.opacity/_t.width;var rt=gt?"translate(".concat(_t.offsetY,", ").concat(_t.offsetX,")"):"translate(".concat(_t.offsetX,", ").concat(_t.offsetY,")");for(gt=1;gt<=_t.width;gt++){var ut=ot.cloneNode(!1),at=2*_t.width+1-2*gt;d(ut,{stroke:U.color||"#000000","stroke-opacity":K*gt,"stroke-width":at,transform:rt,fill:"none"}),ut.setAttribute("class",(ut.getAttribute("class")||"")+" highcharts-shadow"),tt&&(d(ut,"height",Math.max(d(ut,"height")-at,0)),ut.cutHeight=at),X?X.element.appendChild(ut):ot.parentNode&&ot.parentNode.insertBefore(ut,ot),pt.push(ut)}this.shadows=pt}}else this.destroyShadows();return this},R.prototype.show=function(U){return void 0===U&&(U=!0),this.attr({visibility:U?"inherit":"visible"})},R.prototype["stroke-widthSetter"]=function(U,X,tt){this[X]=U,tt.setAttribute(X,U)},R.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var U=this.getStyle("stroke-width"),X=0;if(U.indexOf("px")===U.length-2)X=k(U);else if(""!==U){var tt=F.createElementNS(a,"rect");d(tt,{width:U,"stroke-width":0}),this.element.parentNode.appendChild(tt),X=tt.getBBox().width,tt.parentNode.removeChild(tt)}return X},R.prototype.symbolAttr=function(U){var X=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(tt){X[tt]=A(U[tt],X[tt])}),X.attr({d:X.renderer.symbols[X.symbolName](X.x,X.y,X.width,X.height,X)})},R.prototype.textSetter=function(U){U!==this.textStr&&(delete this.textPxLength,this.textStr=U,this.added&&this.renderer.buildText(this))},R.prototype.titleSetter=function(U){var X=this.element,tt=X.getElementsByTagName("title")[0]||F.createElementNS(this.SVG_NS,"title");X.insertBefore?X.insertBefore(tt,X.firstChild):X.appendChild(tt),tt.textContent=String(A(U,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},R.prototype.toFront=function(){var U=this.element;return U.parentNode.appendChild(U),this},R.prototype.translate=function(U,X){return this.attr({translateX:U,translateY:X})},R.prototype.updateShadows=function(U,X,tt){var pt=this.shadows;if(pt)for(var ot=pt.length;ot--;)tt.call(pt[ot],"height"===U?Math.max(X-(pt[ot].cutHeight||0),0):"d"===U?this.d:X,U,pt[ot])},R.prototype.updateTransform=function(){var U=this.element,X=this.matrix,tt=this.rotation;tt=void 0===tt?0:tt;var pt=this.scaleX,ot=this.scaleY,W=this.translateX,K=this.translateY;W=["translate("+(void 0===W?0:W)+","+(void 0===K?0:K)+")"],x(X)&&W.push("matrix("+X.join(",")+")"),tt&&W.push("rotate("+tt+" "+A(this.rotationOriginX,U.getAttribute("x"),0)+" "+A(this.rotationOriginY,U.getAttribute("y")||0)+")"),(x(pt)||x(ot))&&W.push("scale("+A(pt,1)+" "+A(ot,1)+")"),W.length&&!(this.text||this).textPath&&U.setAttribute("transform",W.join(" "))},R.prototype.visibilitySetter=function(U,X,tt){"inherit"===U?tt.removeAttribute(X):this[X]!==U&&tt.setAttribute(X,U),this[X]=U},R.prototype.xGetter=function(U){return"circle"===this.element.nodeName&&("x"===U?U="cx":"y"===U&&(U="cy")),this._defaultGetter(U)},R.prototype.zIndexSetter=function(U,X){var tt=this.renderer,pt=this.parentGroup,ot=(pt||tt).element||tt.box,W=this.element;tt=ot===tt.box;var yt,K=!1,gt=this.added;if(x(U)?(W.setAttribute("data-z-index",U),this[X]===(U=+U)&&(gt=!1)):x(this[X])&&W.removeAttribute("data-z-index"),this[X]=U,gt){for((U=this.zIndex)&&pt&&(pt.handleZ=!0),yt=(X=ot.childNodes).length-1;0<=yt&&!K;yt--){gt=(pt=X[yt]).getAttribute("data-z-index");var _t=!x(gt);pt!==W&&(0>U&&_t&&!tt&&!yt?(ot.insertBefore(W,X[yt]),K=!0):(k(gt)<=U||_t&&(!x(U)||0<=U))&&(ot.insertBefore(W,X[yt+1]||null),K=!0))}K||(ot.insertBefore(W,X[tt?3:0]||null),K=!0)}return K},R}(),s.prototype.strokeSetter=s.prototype.fillSetter,s.prototype.yGetter=s.prototype.xGetter,s.prototype.matrixSetter=s.prototype.rotationOriginXSetter=s.prototype.rotationOriginYSetter=s.prototype.rotationSetter=s.prototype.scaleXSetter=s.prototype.scaleYSetter=s.prototype.translateXSetter=s.prototype.translateYSetter=s.prototype.verticalAlignSetter=function(R,U){this[U]=R,this.doTransform=!0},s}),e(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],function(s){var c,T,M;return(T=c||(c={})).rendererTypes={},T.getRendererType=function(j){return void 0===j&&(j=M),T.rendererTypes[j]||T.rendererTypes[M]},T.registerRendererType=function(j,G,Y){T.rendererTypes[j]=G,(!M||Y)&&(M=j,s.Renderer=G)},c}),e(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(s,c){var N,T=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),M=c.defined,j=c.extend,G=c.isNumber,Y=c.merge,z=c.pick,F=c.removeEvent;return function(N){function a(p,l,d,_,w,x,I,h,n,D){var E,P=N.call(this)||this;return P.paddingLeftSetter=P.paddingSetter,P.paddingRightSetter=P.paddingSetter,P.init(p,"g"),P.textStr=l,P.x=d,P.y=_,P.anchorX=x,P.anchorY=I,P.baseline=n,P.className=D,P.addClass("button"===D?"highcharts-no-tooltip":"highcharts-label"),D&&P.addClass("highcharts-"+D),P.text=p.text(void 0,0,0,h).attr({zIndex:1}),"string"==typeof w&&((E=/^url\((.*?)\)$/.test(w))||P.renderer.symbols[w])&&(P.symbolKey=w),P.bBox=a.emptyBBox,P.padding=3,P.baselineOffset=0,P.needsBox=p.styledMode||E,P.deferredAttr={},P.alignFactor=0,P}return T(a,N),a.prototype.alignSetter=function(p){(p={left:0,center:.5,right:1}[p])!==this.alignFactor&&(this.alignFactor=p,this.bBox&&G(this.xSetting)&&this.attr({x:this.xSetting}))},a.prototype.anchorXSetter=function(p,l){this.anchorX=p,this.boxAttr(l,Math.round(p)-this.getCrispAdjust()-this.xSetting)},a.prototype.anchorYSetter=function(p,l){this.anchorY=p,this.boxAttr(l,p-this.ySetting)},a.prototype.boxAttr=function(p,l){this.box?this.box.attr(p,l):this.deferredAttr[p]=l},a.prototype.css=function(p){if(p){var l={};p=Y(p),a.textProps.forEach(function(d){typeof p[d]<"u"&&(l[d]=p[d],delete p[d])}),this.text.css(l),"fontSize"in l||"fontWeight"in l?this.updateTextPadding():("width"in l||"textOverflow"in l)&&this.updateBoxSize()}return s.prototype.css.call(this,p)},a.prototype.destroy=function(){F(this.element,"mouseenter"),F(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),s.prototype.destroy.call(this)},a.prototype.fillSetter=function(p,l){p&&(this.needsBox=!0),this.fill=p,this.boxAttr(l,p)},a.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var p=this.padding,l=z(this.paddingLeft,p);return{width:this.width,height:this.height,x:this.bBox.x-l,y:this.bBox.y-p}},a.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},a.prototype.heightSetter=function(p){this.heightSetting=p},a.prototype.onAdd=function(){this.text.add(this),this.attr({text:z(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&M(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},a.prototype.paddingSetter=function(p,l){G(p)?p!==this[l]&&(this[l]=p,this.updateTextPadding()):this[l]=void 0},a.prototype.rSetter=function(p,l){this.boxAttr(l,p)},a.prototype.shadow=function(p){return p&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(p)),this},a.prototype.strokeSetter=function(p,l){this.stroke=p,this.boxAttr(l,p)},a.prototype["stroke-widthSetter"]=function(p,l){p&&(this.needsBox=!0),this["stroke-width"]=p,this.boxAttr(l,p)},a.prototype["text-alignSetter"]=function(p){this.textAlign=p},a.prototype.textSetter=function(p){typeof p<"u"&&this.text.attr({text:p}),this.updateTextPadding()},a.prototype.updateBoxSize=function(){var p=this.text,l=p.element.style,d={},_=this.padding,w=this.bBox=G(this.widthSetting)&&G(this.heightSetting)&&!this.textAlign||!M(p.textStr)?a.emptyBBox:p.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||w.height||0)+2*_,l=this.renderer.fontMetrics(l&&l.fontSize,p),this.baselineOffset=_+Math.min((this.text.firstLineMetrics||l).b,w.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-l.h)/2),this.needsBox&&!p.textPath&&(this.box||((p=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),p.add(this)),p=this.getCrispAdjust(),d.x=p,d.y=(this.baseline?-this.baselineOffset:0)+p,d.width=Math.round(this.width),d.height=Math.round(this.height),this.box.attr(j(d,this.deferredAttr)),this.deferredAttr={})},a.prototype.updateTextPadding=function(){var p=this.text;if(!p.textPath){this.updateBoxSize();var l=this.baseline?0:this.baselineOffset,d=z(this.paddingLeft,this.padding);M(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(d+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(d!==p.x||l!==p.y)&&(p.attr("x",d),p.hasBoxWidthChanged&&(this.bBox=p.getBBox(!0)),typeof l<"u"&&p.attr("y",l)),p.x=d,p.y=l}},a.prototype.widthSetter=function(p){this.widthSetting=G(p)?p:void 0},a.prototype.getPaddedWidth=function(){var p=this.padding,l=z(this.paddingLeft,p);return p=z(this.paddingRight,p),(this.widthSetting||this.bBox.width||0)+l+p},a.prototype.xSetter=function(p){this.x=p,this.alignFactor&&(p-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(p),this.attr("translateX",this.xSetting)},a.prototype.ySetter=function(p){this.ySetting=this.y=Math.round(p),this.attr("translateY",this.ySetting)},a.emptyBBox={width:0,height:0,x:0,y:0},a.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),a}(s)}),e(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],function(s){function c(z,F,N,a,p){var l=[];if(p){var d=p.start||0,_=Y(p.r,N);N=Y(p.r,a||N);var w=(p.end||0)-.001;a=p.innerR;var x=Y(p.open,.001>Math.abs((p.end||0)-d-2*Math.PI)),I=Math.cos(d),h=Math.sin(d),n=Math.cos(w),D=Math.sin(w);d=Y(p.longArc,.001>w-d-Math.PI?0:1),l.push(["M",z+_*I,F+N*h],["A",_,N,0,d,Y(p.clockwise,1),z+_*n,F+N*D]),j(a)&&l.push(x?["M",z+a*n,F+a*D]:["L",z+a*n,F+a*D],["A",a,a,0,d,j(p.clockwise)?1-p.clockwise:0,z+a*I,F+a*h]),x||l.push(["Z"])}return l}function T(z,F,N,a,p){return p&&p.r?M(z,F,N,a,p):[["M",z,F],["L",z+N,F],["L",z+N,F+a],["L",z,F+a],["Z"]]}function M(z,F,N,a,p){return[["M",z+(p=p&&p.r||0),F],["L",z+N-p,F],["C",z+N,F,z+N,F,z+N,F+p],["L",z+N,F+a-p],["C",z+N,F+a,z+N,F+a,z+N-p,F+a],["L",z+p,F+a],["C",z,F+a,z,F+a,z,F+a-p],["L",z,F+p],["C",z,F,z,F,z+p,F]]}var j=s.defined,G=s.isNumber,Y=s.pick;return{arc:c,callout:function(z,F,N,a,p){var l=Math.min(p&&p.r||0,N,a),d=l+6,_=p&&p.anchorX;p=p&&p.anchorY||0;var w=M(z,F,N,a,{r:l});return G(_)&&(z+_>=N?p>F+d&&p<F+a-d?w.splice(3,1,["L",z+N,p-6],["L",z+N+6,p],["L",z+N,p+6],["L",z+N,F+a-l]):w.splice(3,1,["L",z+N,a/2],["L",_,p],["L",z+N,a/2],["L",z+N,F+a-l]):0>=z+_?p>F+d&&p<F+a-d?w.splice(7,1,["L",z,p+6],["L",z-6,p],["L",z,p-6],["L",z,F+l]):w.splice(7,1,["L",z,a/2],["L",_,p],["L",z,a/2],["L",z,F+l]):p&&p>a&&_>z+d&&_<z+N-d?w.splice(5,1,["L",_+6,F+a],["L",_,F+a+6],["L",_-6,F+a],["L",z+l,F+a]):p&&0>p&&_>z+d&&_<z+N-d&&w.splice(1,1,["L",_-6,F],["L",_,F-6],["L",_+6,F],["L",N-l,F])),w},circle:function(z,F,N,a){return c(z+N/2,F+a/2,N/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(z,F,N,a){return[["M",z+N/2,F],["L",z+N,F+a/2],["L",z+N/2,F+a],["L",z,F+a/2],["Z"]]},rect:T,roundedRect:M,square:T,triangle:function(z,F,N,a){return[["M",z+N/2,F],["L",z+N,F+a],["L",z,F+a],["Z"]]},"triangle-down":function(z,F,N,a){return[["M",z,F],["L",z+N,F],["L",z+N/2,F+a],["Z"]]}}}),e(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c,T){var M=c.doc,j=c.SVG_NS,G=c.win,Y=T.attr,z=T.extend,F=T.fireEvent,N=T.isString,a=T.objectEach,p=T.pick;return function(){function l(d){var _=d.styles;this.renderer=d.renderer,this.svgElement=d,this.width=d.textWidth,this.textLineHeight=_&&_.lineHeight,this.textOutline=_&&_.textOutline,this.ellipsis=!(!_||"ellipsis"!==_.textOverflow),this.noWrap=!(!_||"nowrap"!==_.whiteSpace),this.fontSize=_&&_.fontSize}return l.prototype.buildSVG=function(){var d=this.svgElement,_=d.element,w=d.renderer,x=p(d.textStr,"").toString(),I=-1!==x.indexOf("<"),h=_.childNodes;w=this.width&&!d.added&&w.box;var D=[x,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(D!==d.textCache){for(d.textCache=D,delete d.actualWidth,D=h.length;D--;)_.removeChild(h[D]);I||this.ellipsis||this.width||d.textPath||-1!==x.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(x))?""!==x&&(w&&w.appendChild(_),x=new s(x),this.modifyTree(x.nodes),x.addToDOM(_),this.modifyDOM(),this.ellipsis&&-1!==(_.textContent||"").indexOf("\u2026")&&d.attr("title",this.unescapeEntities(d.textStr||"",["&lt;","&gt;"])),w&&w.removeChild(_)):_.appendChild(M.createTextNode(this.unescapeEntities(x))),N(this.textOutline)&&d.applyTextOutline&&d.applyTextOutline(this.textOutline)}},l.prototype.modifyDOM=function(){var x,d=this,_=this.svgElement,w=Y(_.element,"x");for(_.firstLineMetrics=void 0;(x=_.element.firstChild)&&/^[\s\u200B]*$/.test(x.textContent||" ");)_.element.removeChild(x);[].forEach.call(_.element.querySelectorAll("tspan.highcharts-br"),function(D,P){D.nextSibling&&D.previousSibling&&(0===P&&1===D.previousSibling.nodeType&&(_.firstLineMetrics=_.renderer.fontMetrics(void 0,D.previousSibling)),Y(D,{dy:d.getLineHeight(D.nextSibling),x:w}))});var I=this.width||0;if(I){var n=function(D){[].slice.call(D.childNodes).forEach(function(P){P.nodeType===G.Node.TEXT_NODE?function(D,P){var E=D.textContent||"",m=E.replace(/([^\^])-/g,"$1- ").split(" "),C=!d.noWrap&&(1<m.length||1<_.element.childNodes.length),A=d.getLineHeight(P),k=0,f=_.actualWidth;if(d.ellipsis)E&&d.truncate(D,E,void 0,0,Math.max(0,I-parseInt(d.fontSize||12,10)),function(o,R){return o.substring(0,R)+"\u2026"});else if(C){for(E=[],C=[];P.firstChild&&P.firstChild!==D;)C.push(P.firstChild),P.removeChild(P.firstChild);for(;m.length;)m.length&&!d.noWrap&&0<k&&(E.push(D.textContent||""),D.textContent=m.join(" ").replace(/- /g,"-")),d.truncate(D,void 0,m,0===k&&f||0,I,function(o,R){return m.slice(0,R).join(" ").replace(/- /g,"-")}),f=_.actualWidth,k++;C.forEach(function(o){P.insertBefore(o,D)}),E.forEach(function(o){P.insertBefore(M.createTextNode(o),D),(o=M.createElementNS(j,"tspan")).textContent="\u200b",Y(o,{dy:A,x:w}),P.insertBefore(o,D)})}}(P,D):(-1!==P.className.baseVal.indexOf("highcharts-br")&&(_.actualWidth=0),n(P))})};n(_.element)}},l.prototype.getLineHeight=function(d){var _;return d=d.nodeType===G.Node.TEXT_NODE?d.parentElement:d,this.renderer.styledMode||(_=d&&/(px|em)$/.test(d.style.fontSize)?d.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(_,d||this.svgElement.element).h},l.prototype.modifyTree=function(d){var _=this,w=function(x,I){var h=x.attributes;h=void 0===h?{}:h;var n=x.children,D=x.style;D=void 0===D?{}:D;var P=x.tagName,E=_.renderer.styledMode;"b"===P||"strong"===P?E?h.class="highcharts-strong":D.fontWeight="bold":("i"===P||"em"===P)&&(E?h.class="highcharts-emphasized":D.fontStyle="italic"),D&&D.color&&(D.fill=D.color),"br"===P?(h.class="highcharts-br",x.textContent="\u200b",(I=d[I+1])&&I.textContent&&(I.textContent=I.textContent.replace(/^ +/gm,""))):"a"===P&&n&&n.some(function(m){return"#text"===m.tagName})&&(x.children=[{children:n,tagName:"tspan"}]),"#text"!==P&&"a"!==P&&(x.tagName="tspan"),z(x,{attributes:h,style:D}),n&&n.filter(function(m){return"#text"!==m.tagName}).forEach(w)};d.forEach(w),F(this.svgElement,"afterModifyTree",{nodes:d})},l.prototype.truncate=function(d,_,w,x,I,h){var k,n=this.svgElement,D=n.renderer,P=n.rotation,E=[],m=w?1:0,C=(_||w||"").length,A=C,f=function(R,U){U=U||R;var X=d.parentNode;if(X&&typeof E[U]>"u")if(X.getSubStringLength)try{E[U]=x+X.getSubStringLength(0,w?U+1:U)}catch{}else D.getSpanWidth&&(d.textContent=h(_||w,R),E[U]=x+D.getSpanWidth(n,d));return E[U]};n.rotation=0;var o=f(d.textContent.length);if(x+o>I){for(;m<=C;)A=Math.ceil((m+C)/2),w&&(k=h(w,A)),o=f(A,k&&k.length-1),m===C?m=C+1:o>I?C=A-1:m=A;0===C?d.textContent="":_&&C===_.length-1||(d.textContent=k||h(_||w,A))}w&&w.splice(0,A),n.actualWidth=o,n.rotation=P},l.prototype.unescapeEntities=function(d,_){return a(this.renderer.escapes,function(w,x){_&&-1!==_.indexOf(w)||(d=d.toString().replace(new RegExp(w,"g"),x))}),d},l}()}),e(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],function(s,c,T,M,j,G,Y,z,F){var ot,N=T.charts,a=T.deg2rad,p=T.doc,l=T.isFirefox,d=T.isMS,_=T.isWebKit,w=T.noop,x=T.SVG_NS,I=T.symbolSizes,h=T.win,n=F.addEvent,D=F.attr,P=F.createElement,E=F.css,m=F.defined,C=F.destroyObjectProperties,A=F.extend,k=F.isArray,f=F.isNumber,o=F.isObject,R=F.isString,U=F.merge,X=F.pick,tt=F.pInt,pt=F.uniqueKey;return T=function(){function W(K,gt,yt,_t,rt,ut,at){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(K,gt,yt,_t,rt,ut,at)}return W.prototype.init=function(K,gt,yt,_t,rt,ut,at){var ct,Ct=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),vt=Ct.element;at||Ct.css(this.getStyle(_t)),K.appendChild(vt),D(K,"dir","ltr"),-1===K.innerHTML.indexOf("xmlns")&&D(vt,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=vt,this.boxWrapper=Ct,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 10.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=ut,this.forExport=rt,this.styledMode=at,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(gt,yt,!1),l&&K.getBoundingClientRect&&((gt=function(){E(K,{left:0,top:0}),ct=K.getBoundingClientRect(),E(K,{left:Math.ceil(ct.left)-ct.left+"px",top:Math.ceil(ct.top)-ct.top+"px"})})(),this.unSubPixelFix=n(h,"resize",gt))},W.prototype.definition=function(K){return new s([K]).addToDOM(this.defs.element)},W.prototype.getReferenceURL=function(){if((l||_)&&p.getElementsByTagName("base").length){if(!m(ot)){var K=pt();K=new s([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:K},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(K,")"),fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(p.body),E(K,{position:"fixed",top:0,left:0,zIndex:9e5});var gt=p.elementFromPoint(6,6);ot="hitme"===(gt&&gt.id),p.body.removeChild(K)}if(ot)return h.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},W.prototype.getStyle=function(K){return this.style=A({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},K)},W.prototype.setStyle=function(K){this.boxWrapper.css(this.getStyle(K))},W.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},W.prototype.destroy=function(){var K=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,K&&(this.defs=K.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},W.prototype.createElement=function(K){var gt=new this.Element;return gt.init(this,K),gt},W.prototype.getRadialAttr=function(K,gt){return{cx:K[0]-K[2]/2+(gt.cx||0)*K[2],cy:K[1]-K[2]/2+(gt.cy||0)*K[2],r:(gt.r||0)*K[2]}},W.prototype.buildText=function(K){new z(K).buildSVG()},W.prototype.getContrast=function(K){return 1.05/(.05+(K=.2126*(K=c.parse(K).rgba.map(function(gt){return.03928>=(gt/=255)?gt/12.92:Math.pow((gt+.055)/1.055,2.4)}))[0]+.7152*K[1]+.0722*K[2]))>(K+.05)/.05?"#FFFFFF":"#000000"},W.prototype.button=function(K,gt,yt,_t,rt,ut,at,Ct,vt,ct){void 0===rt&&(rt={});var Tt=this.label(K,gt,yt,vt,void 0,void 0,ct,void 0,"button"),kt=this.styledMode;K=rt.states||{};var Ft=0;delete(rt=U(rt)).states;var Ot=U({color:"#333333",cursor:"pointer",fontWeight:"normal"},rt.style);delete rt.style;var jt=s.filterUserAttributes(rt);if(Tt.attr(U({padding:8,r:2},jt)),!kt){jt=U({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},jt);var $t=(ut=U(jt,{fill:"#e6e6e6"},s.filterUserAttributes(ut||K.hover||{}))).style;delete ut.style;var Wt=(at=U(jt,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s.filterUserAttributes(at||K.select||{}))).style;delete at.style;var ne=(Ct=U(jt,{style:{color:"#cccccc"}},s.filterUserAttributes(Ct||K.disabled||{}))).style;delete Ct.style}return n(Tt.element,d?"mouseover":"mouseenter",function(){3!==Ft&&Tt.setState(1)}),n(Tt.element,d?"mouseout":"mouseleave",function(){3!==Ft&&Tt.setState(Ft)}),Tt.setState=function(Jt){1!==Jt&&(Tt.state=Ft=Jt),Tt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Jt||0]),kt||(Tt.attr([jt,ut,at,Ct][Jt||0]),o(Jt=[Ot,$t,Wt,ne][Jt||0])&&Tt.css(Jt))},kt||(Tt.attr(jt).css(A({cursor:"default"},Ot)),ct&&Tt.text.css({pointerEvents:"none"})),Tt.on("touchstart",function(Jt){return Jt.stopPropagation()}).on("click",function(Jt){3!==Ft&&_t.call(Tt,Jt)})},W.prototype.crispLine=function(K,gt,yt){void 0===yt&&(yt="round");var _t=K[0],rt=K[1];return m(_t[1])&&_t[1]===rt[1]&&(_t[1]=rt[1]=Math[yt](_t[1])-gt%2/2),m(_t[2])&&_t[2]===rt[2]&&(_t[2]=rt[2]=Math[yt](_t[2])+gt%2/2),K},W.prototype.path=function(K){var gt=this.styledMode?{}:{fill:"none"};return k(K)?gt.d=K:o(K)&&A(gt,K),this.createElement("path").attr(gt)},W.prototype.circle=function(K,gt,yt){return K=o(K)?K:typeof K>"u"?{}:{x:K,y:gt,r:yt},(gt=this.createElement("circle")).xSetter=gt.ySetter=function(_t,rt,ut){ut.setAttribute("c"+rt,_t)},gt.attr(K)},W.prototype.arc=function(K,gt,yt,_t,rt,ut){return o(K)?(gt=(_t=K).y,yt=_t.r,K=_t.x):_t={innerR:_t,start:rt,end:ut},(K=this.symbol("arc",K,gt,yt,yt,_t)).r=yt,K},W.prototype.rect=function(K,gt,yt,_t,rt,ut){rt=o(K)?K.r:rt;var at=this.createElement("rect");return K=o(K)?K:typeof K>"u"?{}:{x:K,y:gt,width:Math.max(yt,0),height:Math.max(_t,0)},this.styledMode||(typeof ut<"u"&&(K["stroke-width"]=ut,K=at.crisp(K)),K.fill="none"),rt&&(K.r=rt),at.rSetter=function(Ct,vt,ct){at.r=Ct,D(ct,{rx:Ct,ry:Ct})},at.rGetter=function(){return at.r||0},at.attr(K)},W.prototype.setSize=function(K,gt,yt){this.width=K,this.height=gt,this.boxWrapper.animate({width:K,height:gt},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:X(yt,!0)?void 0:0}),this.alignElements()},W.prototype.g=function(K){var gt=this.createElement("g");return K?gt.attr({class:"highcharts-"+K}):gt},W.prototype.image=function(K,gt,yt,_t,rt,ut){var at={preserveAspectRatio:"none"},Ct=function(ct,Tt){ct.setAttributeNS?ct.setAttributeNS("http://www.w3.org/1999/xlink","href",Tt):ct.setAttribute("hc-svg-href",Tt)};f(gt)&&(at.x=gt),f(yt)&&(at.y=yt),f(_t)&&(at.width=_t),f(rt)&&(at.height=rt);var vt=this.createElement("image").attr(at);return gt=function(ct){Ct(vt.element,K),ut.call(vt,ct)},ut?(Ct(vt.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),yt=new h.Image,n(yt,"load",gt),yt.src=K,yt.complete&&gt({})):Ct(vt.element,K),vt},W.prototype.symbol=function(K,gt,yt,_t,rt,ut){var kt,at=this,Ct=/^url\((.*?)\)$/,vt=Ct.test(K),ct=!vt&&(this.symbols[K]?K:"circle"),Tt=ct&&this.symbols[ct];if(Tt){"number"==typeof gt&&(kt=Tt.call(this.symbols,Math.round(gt||0),Math.round(yt||0),_t||0,rt||0,ut));var Ft=this.path(kt);at.styledMode||Ft.attr("fill","none"),A(Ft,{symbolName:ct||void 0,x:gt,y:yt,width:_t,height:rt}),ut&&A(Ft,ut)}else if(vt){var Ot=K.match(Ct)[1],jt=Ft=this.image(Ot);jt.imgwidth=X(I[Ot]&&I[Ot].width,ut&&ut.width),jt.imgheight=X(I[Ot]&&I[Ot].height,ut&&ut.height);var $t=function(Wt){return Wt.attr({width:Wt.width,height:Wt.height})};["width","height"].forEach(function(Wt){jt[Wt+"Setter"]=function(ne,Jt){this[Jt]=ne,ne=this.alignByTranslate;var Nt=this.element,Rt=this.width,ie=this.height,se=this.imgwidth,ce=this.imgheight,te=this["img"+Jt];if(m(te)){var Ie=1;ut&&"within"===ut.backgroundSize&&Rt&&ie?(Ie=Math.min(Rt/se,ie/ce),te=Math.round(te*Ie),D(Nt,{width:Math.round(se*Ie),height:Math.round(ce*Ie)})):Nt&&Nt.setAttribute(Jt,te),ne||this.translate(((Rt||0)-te*Ie)/2,((ie||0)-te*Ie)/2)}}}),m(gt)&&jt.attr({x:gt,y:yt}),jt.isImg=!0,m(jt.imgwidth)&&m(jt.imgheight)?$t(jt):(jt.attr({width:0,height:0}),P("img",{onload:function(){var Wt=N[at.chartIndex];0===this.width&&(E(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),I[Ot]={width:this.width,height:this.height},jt.imgwidth=this.width,jt.imgheight=this.height,jt.element&&$t(jt),this.parentNode&&this.parentNode.removeChild(this),at.imgCount--,!at.imgCount&&Wt&&!Wt.hasLoaded&&Wt.onload()},src:Ot}),this.imgCount++)}return Ft},W.prototype.clipRect=function(K,gt,yt,_t){var rt=pt()+"-",ut=this.createElement("clipPath").attr({id:rt}).add(this.defs);return(K=this.rect(K,gt,yt,_t,0).add(ut)).id=rt,K.clipPath=ut,K.count=0,K},W.prototype.text=function(K,gt,yt,_t){var rt={};return!_t||!this.allowHTML&&this.forExport?(rt.x=Math.round(gt||0),yt&&(rt.y=Math.round(yt)),m(K)&&(rt.text=K),K=this.createElement("text").attr(rt),(!_t||this.forExport&&!this.allowHTML)&&(K.xSetter=function(ut,at,Ct){for(var kt,vt=Ct.getElementsByTagName("tspan"),ct=Ct.getAttribute(at),Tt=0;Tt<vt.length;Tt++)(kt=vt[Tt]).getAttribute(at)===ct&&kt.setAttribute(at,ut);Ct.setAttribute(at,ut)}),K):this.html(K,gt,yt)},W.prototype.fontMetrics=function(K,gt){return K=!this.styledMode&&/px/.test(K)||!h.getComputedStyle?K||gt&&gt.style&&gt.style.fontSize||this.style&&this.style.fontSize:gt&&j.prototype.getStyle.call(gt,"font-size"),{h:gt=24>(K=/px/.test(K)?tt(K):12)?K+3:Math.round(1.2*K),b:Math.round(.8*gt),f:K}},W.prototype.rotCorr=function(K,gt,yt){var _t=K;return gt&&yt&&(_t=Math.max(_t*Math.cos(gt*a),4)),{x:-K/3*Math.sin(gt*a),y:_t}},W.prototype.pathToSegments=function(K){for(var gt=[],yt=[],_t={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},rt=0;rt<K.length;rt++)R(yt[0])&&f(K[rt])&&yt.length===_t[yt[0].toUpperCase()]&&K.splice(rt,0,yt[0].replace("M","L").replace("m","l")),"string"==typeof K[rt]&&(yt.length&&gt.push(yt.slice(0)),yt.length=0),yt.push(K[rt]);return gt.push(yt.slice(0)),gt},W.prototype.label=function(K,gt,yt,_t,rt,ut,at,Ct,vt){return new G(this,K,gt,yt,_t,rt,ut,at,Ct,vt)},W.prototype.alignElements=function(){this.alignedObjects.forEach(function(K){return K.align()})},W}(),A(T.prototype,{Element:j,SVG_NS:x,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Y,draw:w}),M.registerRendererType("svg",T,!0),T}),e(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(s,c,T){var d,M=this&&this.__extends||(d=function(_,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,I){x.__proto__=I}||function(x,I){for(var h in I)I.hasOwnProperty(h)&&(x[h]=I[h])})(_,w)},function(_,w){function x(){this.constructor=_}d(_,w),_.prototype=null===w?Object.create(w):(x.prototype=w.prototype,new x)}),j=s.isFirefox,G=s.isMS,Y=s.isWebKit,z=s.win,F=T.css,N=T.defined,a=T.extend,p=T.pick,l=T.pInt;return function(d){function _(){return null!==d&&d.apply(this,arguments)||this}return M(_,d),_.compose=function(w){if(-1===_.composedClasses.indexOf(w)){_.composedClasses.push(w);var x=_.prototype,I=w.prototype;I.getSpanCorrection=x.getSpanCorrection,I.htmlCss=x.htmlCss,I.htmlGetBBox=x.htmlGetBBox,I.htmlUpdateTransform=x.htmlUpdateTransform,I.setSpanRotation=x.setSpanRotation}return w},_.prototype.getSpanCorrection=function(w,x,I){this.xCorr=-w*I,this.yCorr=-x},_.prototype.htmlCss=function(w){var x="SPAN"===this.element.tagName&&w&&"width"in w,I=p(x&&w.width,void 0);if(x){delete w.width,this.textWidth=I;var h=!0}return w&&"ellipsis"===w.textOverflow&&(w.whiteSpace="nowrap",w.overflow="hidden"),this.styles=a(this.styles,w),F(this.element,w),h&&this.htmlUpdateTransform(),this},_.prototype.htmlGetBBox=function(){var w=this.element;return{x:w.offsetLeft,y:w.offsetTop,width:w.offsetWidth,height:w.offsetHeight}},_.prototype.htmlUpdateTransform=function(){if(this.added){var w=this.renderer,x=this.element,I=this.translateX||0,h=this.translateY||0,n=this.x||0,D=this.y||0,P=this.textAlign||"left",E={left:0,center:.5,right:1}[P],m=this.styles;if(m=m&&m.whiteSpace,F(x,{marginLeft:I,marginTop:h}),!w.styledMode&&this.shadows&&this.shadows.forEach(function(R){F(R,{marginLeft:I+1,marginTop:h+1})}),this.inverted&&[].forEach.call(x.childNodes,function(R){w.invertChild(R,x)}),"SPAN"===x.tagName){var C=this.rotation,A=this.textWidth&&l(this.textWidth),k=[C,P,x.innerHTML,this.textWidth,this.textAlign].join(),f=void 0;if(f=!1,A!==this.oldTextWidth){if(this.textPxLength)var o=this.textPxLength;else F(x,{width:"",whiteSpace:m||"nowrap"}),o=x.offsetWidth;(A>this.oldTextWidth||o>A)&&(/[ \-]/.test(x.textContent||x.innerText)||"ellipsis"===x.style.textOverflow)&&(F(x,{width:o>A||C?A+"px":"auto",display:"block",whiteSpace:m||"normal"}),this.oldTextWidth=A,f=!0)}this.hasBoxWidthChanged=f,k!==this.cTT&&(f=w.fontMetrics(x.style.fontSize,x).b,!N(C)||C===(this.oldRotation||0)&&P===this.oldAlign||this.setSpanRotation(C,E,f),this.getSpanCorrection(!N(C)&&this.textPxLength||x.offsetWidth,f,E,C,P)),F(x,{left:n+(this.xCorr||0)+"px",top:D+(this.yCorr||0)+"px"}),this.cTT=k,this.oldRotation=C,this.oldAlign=P}}else this.alignOnAdd=!0},_.prototype.setSpanRotation=function(w,x,I){var h={},n=G&&!/Edge/.test(z.navigator.userAgent)?"-ms-transform":Y?"-webkit-transform":j?"MozTransform":z.opera?"-o-transform":void 0;n&&(h[n]=h.transform="rotate("+w+"deg)",h[n+(j?"Origin":"-origin")]=h.transformOrigin=100*x+"% "+I+"px",F(this.element,h))},_.composedClasses=[],_}(c)}),e(i,"Core/Renderer/HTML/HTMLRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],function(s,c,T,M){var N,j=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),G=M.attr,Y=M.createElement,z=M.extend,F=M.pick;return function(N){function a(){return null!==N&&N.apply(this,arguments)||this}return j(a,N),a.compose=function(p){return-1===a.composedClasses.indexOf(p)&&(a.composedClasses.push(p),p.prototype.html=a.prototype.html),p},a.prototype.html=function(p,l,d){var _=this.createElement("span"),w=_.element,x=_.renderer,I=x.isSVG,h=function(n,D){["opacity","visibility"].forEach(function(P){n[P+"Setter"]=function(E,m,C){var A=n.div?n.div.style:D;c.prototype[P+"Setter"].call(this,E,m,C),A&&(A[m]=E)}}),n.addedSetters=!0};return _.textSetter=function(n){n!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,s.setElementHTML(this.element,F(n,"")),this.textStr=n,_.doTransform=!0)},I&&h(_,_.element.style),_.xSetter=_.ySetter=_.alignSetter=_.rotationSetter=function(n,D){"align"===D?_.alignValue=_.textAlign=n:_[D]=n,_.doTransform=!0},_.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},_.attr({text:p,x:Math.round(l),y:Math.round(d)}).css({position:"absolute"}),x.styledMode||_.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),w.style.whiteSpace="nowrap",_.css=_.htmlCss,I&&(_.add=function(n){var D=x.box.parentNode,P=[];if(this.parentGroup=n){var E=n.div;if(!E){for(;n;)P.push(n),n=n.parentGroup;P.reverse().forEach(function(m){function C(o,R){m[R]=o,"translateX"===R?f.left=o+"px":f.top=o+"px",m.doTransform=!0}var o,A=G(m.element,"class"),k=m.styles||{},f=(E=m.div=m.div||Y("div",A?{className:A}:void 0,{position:"absolute",left:(m.translateX||0)+"px",top:(m.translateY||0)+"px",display:m.display,opacity:m.opacity,cursor:k.cursor,pointerEvents:k.pointerEvents,visibility:m.visibility},E||D)).style;z(m,{classSetter:(o=E,function(R){this.element.setAttribute("class",R),o.className=R}),on:function(){return P[0].div&&_.on.apply({element:P[0].div,onEvents:m.onEvents},arguments),m},translateXSetter:C,translateYSetter:C}),m.addedSetters||h(m)})}}else E=D;return E.appendChild(w),_.added=!0,_.alignOnAdd&&_.htmlUpdateTransform(),_}),_},a.composedClasses=[],a}(T)}),e(i,"Core/Axis/AxisDefaults.js",[],function(){var s,c;return(c=s||(s={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},c.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total||0,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},c.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},c.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},c.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},c.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},s}),e(i,"Core/Foundation.js",[i["Core/Utilities.js"]],function(s){var G,c=s.addEvent,T=s.isFunction,M=s.objectEach,j=s.removeEvent;return(G||(G={})).registerEventOptions=function(z,F){z.eventOptions=z.eventOptions||{},M(F.events,function(N,a){z.eventOptions[a]!==N&&(z.eventOptions[a]&&(j(z,a,z.eventOptions[a]),delete z.eventOptions[a]),T(N)&&(z.eventOptions[a]=N,c(z,a,N)))})},G}),e(i,"Core/Axis/Tick.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c,T){var M=c.deg2rad,j=T.clamp,G=T.correctFloat,Y=T.defined,z=T.destroyObjectProperties,F=T.extend,N=T.fireEvent,a=T.isNumber,p=T.merge,l=T.objectEach,d=T.pick;return function(){function _(w,x,I,h,n){this.isNewLabel=this.isNew=!0,this.axis=w,this.pos=x,this.type=I||"",this.parameters=n||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,N(this,"init"),I||h||this.addLabel()}return _.prototype.addLabel=function(){var w=this,x=w.axis,I=x.options,h=x.chart,n=x.categories,D=x.logarithmic,P=x.names,E=w.pos,m=d(w.options&&w.options.labels,I.labels),C=x.tickPositions,A=E===C[0],k=E===C[C.length-1],f=(!m.step||1===m.step)&&1===x.tickInterval;C=C.info;var R,o=w.label;if(n=this.parameters.category||(n?d(n[E],P[E],E):E),D&&a(n)&&(n=G(D.lin2log(n))),x.dateTime)if(C)var U=h.time.resolveDTLFormat(I.dateTimeLabelFormats[!I.grid&&C.higherRanks[E]||C.unitName]),X=U.main;else a(n)&&(X=x.dateTime.getXDateFormat(n,I.dateTimeLabelFormats||{}));w.isFirst=A,w.isLast=k;var tt={axis:x,chart:h,dateTimeLabelFormat:X,isFirst:A,isLast:k,pos:E,tick:w,tickPositionInfo:C,value:n};N(this,"labelFormat",tt);var pt=function(W){return m.formatter?m.formatter.call(W,W):m.format?(W.text=x.defaultLabelFormatter.call(W,W),s.format(m.format,W,h)):x.defaultLabelFormatter.call(W,W)};I=pt.call(tt,tt);var ot=U&&U.list;w.shortenLabel=ot?function(){for(R=0;R<ot.length;R++)if(F(tt,{dateTimeLabelFormat:ot[R]}),o.attr({text:pt.call(tt,tt)}),o.getBBox().width<x.getSlotWidth(w)-2*m.padding)return;o.attr({text:""})}:void 0,f&&x._addedPlotLB&&w.moveLabel(I,m),Y(o)||w.movedLabel?o&&o.textStr!==I&&!f&&(!o.textWidth||m.style.width||o.styles.width||o.css({width:null}),o.attr({text:I}),o.textPxLength=o.getBBox().width):(w.label=o=w.createLabel({x:0,y:0},I,m),w.rotation=0)},_.prototype.createLabel=function(w,x,I){var h=this.axis,n=h.chart;return(w=Y(x)&&I.enabled?n.renderer.text(x,w.x,w.y,I.useHTML).add(h.labelGroup):null)&&(n.styledMode||w.css(p(I.style)),w.textPxLength=w.getBBox().width),w},_.prototype.destroy=function(){z(this,this.axis)},_.prototype.getPosition=function(w,x,I,h){var n=this.axis,D=n.chart,P=h&&D.oldChartHeight||D.chartHeight;return(w={x:w?G(n.translate(x+I,void 0,void 0,h)+n.transB):n.left+n.offset+(n.opposite?(h&&D.oldChartWidth||D.chartWidth)-n.right-n.left:0),y:w?P-n.bottom+n.offset-(n.opposite?n.height:0):G(P-n.translate(x+I,void 0,void 0,h)-n.transB)}).y=j(w.y,-1e5,1e5),N(this,"afterGetPosition",{pos:w}),w},_.prototype.getLabelPosition=function(w,x,I,h,n,D,P,E){var m=this.axis,C=m.transA,A=m.isLinked&&m.linkedParent?m.linkedParent.reversed:m.reversed,k=m.staggerLines,f=m.tickRotCorr||{x:0,y:0},o=h||m.reserveSpaceDefault?0:-m.labelOffset*("center"===m.labelAlign?.5:1),R={};return I=0===m.side?I.rotation?-8:-I.getBBox().height:2===m.side?f.y+8:Math.cos(I.rotation*M)*(f.y-I.getBBox(!1,0).height/2),Y(n.y)&&(I=0===m.side&&m.horiz?n.y+I:n.y),w=w+n.x+o+f.x-(D&&h?D*C*(A?-1:1):0),x=x+I-(D&&!h?D*C*(A?1:-1):0),k&&(h=P/(E||1)%k,m.opposite&&(h=k-h-1),x+=m.labelOffset/k*h),R.x=w,R.y=Math.round(x),N(this,"afterGetLabelPosition",{pos:R,tickmarkOffset:D,index:P}),R},_.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},_.prototype.getMarkPath=function(w,x,I,h,n,D){return D.crispLine([["M",w,x],["L",w+(n?0:-I),x+(n?I:0)]],h)},_.prototype.handleOverflow=function(w){var x=this.axis,I=x.options.labels,h=w.x,n=x.chart.chartWidth,D=x.chart.spacing,P=d(x.labelLeft,Math.min(x.pos,D[3]));D=d(x.labelRight,Math.max(x.isRadial?0:x.pos+x.len,n-D[1]));var U,E=this.label,m=this.rotation,C={left:0,center:.5,right:1}[x.labelAlign||E.attr("align")],A=E.getBBox().width,k=x.getSlotWidth(this),f={},o=k,R=1;m||"justify"!==I.overflow?0>m&&h-C*A<P?U=Math.round(h/Math.cos(m*M)-P):0<m&&h+C*A>D&&(U=Math.round((n-h)/Math.cos(m*M))):(n=h+(1-C)*A,h-C*A<P?o=w.x+o*(1-C)-P:n>D&&(o=D-w.x+o*C,R=-1),(o=Math.min(k,o))<k&&"center"===x.labelAlign&&(w.x+=R*(k-o-C*(k-Math.min(A,o)))),(A>o||x.autoRotation&&(E.styles||{}).width)&&(U=o)),U&&(this.shortenLabel?this.shortenLabel():(f.width=Math.floor(U)+"px",(I.style||{}).textOverflow||(f.textOverflow="ellipsis"),E.css(f)))},_.prototype.moveLabel=function(w,x){var I=this,h=I.label,n=I.axis,D=n.reversed,P=!1;if(h&&h.textStr===w?(I.movedLabel=h,P=!0,delete I.label):l(n.ticks,function(m){P||m.isNew||m===I||!m.label||m.label.textStr!==w||(I.movedLabel=m.label,P=!0,m.labelPos=I.movedLabel.xy,delete m.label)}),!P&&(I.labelPos||h)){var E=I.labelPos||h.xy;I.movedLabel=I.createLabel({x:h=n.horiz?D?0:n.width+n.left:E.x,y:n=n.horiz?E.y:D?n.width+n.left:0},w,x),I.movedLabel&&I.movedLabel.attr({opacity:0})}},_.prototype.render=function(w,x,I){var h=this.axis,n=h.horiz,D=this.pos,P=d(this.tickmarkOffset,h.tickmarkOffset);P=(D=this.getPosition(n,D,P,x)).x,h=n&&P===h.pos+h.len||!n&&D.y===h.pos?-1:1,n=d(I,this.label&&this.label.newOpacity,1),I=d(I,1),this.isActive=!0,this.renderGridLine(x,I,h),this.renderMark(D,I,h),this.renderLabel(D,x,n,w),this.isNew=!1,N(this,"afterRender")},_.prototype.renderGridLine=function(w,x,I){var h=this.axis,n=h.options,D={},P=this.pos,E=this.type,m=d(this.tickmarkOffset,h.tickmarkOffset),C=h.chart.renderer,A=this.gridLine,k=n.gridLineWidth,f=n.gridLineColor,o=n.gridLineDashStyle;"minor"===this.type&&(k=n.minorGridLineWidth,f=n.minorGridLineColor,o=n.minorGridLineDashStyle),A||(h.chart.styledMode||(D.stroke=f,D["stroke-width"]=k||0,D.dashstyle=o),E||(D.zIndex=1),w&&(x=0),this.gridLine=A=C.path().attr(D).addClass("highcharts-"+(E?E+"-":"")+"grid-line").add(h.gridGroup)),A&&(I=h.getPlotLinePath({value:P+m,lineWidth:A.strokeWidth()*I,force:"pass",old:w,acrossPanes:!1}))&&A[w||this.isNew?"attr":"animate"]({d:I,opacity:x})},_.prototype.renderMark=function(w,x,I){var h=this.axis,n=h.options,D=h.chart.renderer,P=this.type,E=h.tickSize(P?P+"Tick":"tick"),m=w.x;w=w.y;var C=d(n["minor"!==P?"tickWidth":"minorTickWidth"],!P&&h.isXAxis?1:0);n=n["minor"!==P?"tickColor":"minorTickColor"];var A=this.mark,k=!A;E&&(h.opposite&&(E[0]=-E[0]),A||(this.mark=A=D.path().addClass("highcharts-"+(P?P+"-":"")+"tick").add(h.axisGroup),h.chart.styledMode||A.attr({stroke:n,"stroke-width":C})),A[k?"attr":"animate"]({d:this.getMarkPath(m,w,E[0],A.strokeWidth()*I,h.horiz,D),opacity:x}))},_.prototype.renderLabel=function(w,x,I,h){var n=this.axis,D=n.horiz,P=n.options,E=this.label,m=P.labels,C=m.step;n=d(this.tickmarkOffset,n.tickmarkOffset);var A=w.x;w=w.y;var k=!0;E&&a(A)&&(E.xy=w=this.getLabelPosition(A,w,E,D,m,n,h,C),this.isFirst&&!this.isLast&&!P.showFirstLabel||this.isLast&&!this.isFirst&&!P.showLastLabel?k=!1:!D||m.step||m.rotation||x||0===I||this.handleOverflow(w),C&&h%C&&(k=!1),k&&a(w.y)?(w.opacity=I,E[this.isNewLabel?"attr":"animate"](w).show(!0),this.isNewLabel=!1):(E.hide(),this.isNewLabel=!0))},_.prototype.replaceMovedLabel=function(){var w=this.label,x=this.axis,I=x.reversed;w&&!this.isNew&&(w.animate({x:x.horiz?I?x.left:x.width+x.left:w.xy.x,y:I=x.horiz?w.xy.y:I?x.width+x.top:x.top,opacity:0},void 0,w.destroy),delete this.label),x.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},_}()}),e(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Color/Color.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Axis/Tick.js"],i["Core/Utilities.js"]],function(s,c,T,M,j,G,Y,z){var F=s.animObject,N=M.defaultOptions,a=j.registerEventOptions,p=G.deg2rad,l=z.arrayMax,d=z.arrayMin,_=z.clamp,w=z.correctFloat,x=z.defined,I=z.destroyObjectProperties,h=z.erase,n=z.error,D=z.extend,P=z.fireEvent,E=z.isArray,m=z.isNumber,C=z.isString,A=z.merge,k=z.normalizeTickInterval,f=z.objectEach,o=z.pick,R=z.relativeLength,U=z.removeEvent,X=z.splat,tt=z.syncTimeout,pt=function(ot,W){return k(W,void 0,void 0,o(ot.options.allowDecimals,.5>W||void 0!==ot.tickAmount),!!ot.tickAmount)};return function(){function ot(W,K){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(W,K)}return ot.prototype.init=function(W,K){var gt=K.isX;this.chart=W,this.horiz=W.inverted&&!this.isZAxis?!gt:gt,this.isXAxis=gt,this.coll=this.coll||(gt?"xAxis":"yAxis"),P(this,"init",{userOptions:K}),this.opposite=o(K.opposite,this.opposite),this.side=o(K.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(K);var yt=this.options,_t=yt.labels,rt=yt.type;this.userOptions=K,this.minPixelPadding=0,this.reversed=o(yt.reversed,this.reversed),this.visible=yt.visible,this.zoomEnabled=yt.zoomEnabled,this.hasNames="category"===rt||!0===yt.categories,this.categories=yt.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=x(yt.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=yt.minRange||yt.maxZoom,this.range=yt.range,this.offset=yt.offset||0,this.min=this.max=null,K=o(yt.crosshair,X(W.options.tooltip.crosshairs)[gt?0:1]),this.crosshair=!0===K?{}:K,-1===W.axes.indexOf(this)&&(gt?W.axes.splice(W.xAxis.length,0,this):W.axes.push(this),W[this.coll].push(this)),this.series=this.series||[],W.inverted&&!this.isZAxis&&gt&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=m(_t.rotation)?_t.rotation:void 0,a(this,yt),P(this,"afterInit")},ot.prototype.setOptions=function(W){this.options=A(c.defaultXAxisOptions,"yAxis"===this.coll&&c.defaultYAxisOptions,[c.defaultTopAxisOptions,c.defaultRightAxisOptions,c.defaultBottomAxisOptions,c.defaultLeftAxisOptions][this.side],A(N[this.coll],W)),P(this,"afterSetOptions",{userOptions:W})},ot.prototype.defaultLabelFormatter=function(W){var K=this.axis;W=this.chart.numberFormatter;var gt=m(this.value)?this.value:NaN,yt=K.chart.time,_t=this.dateTimeLabelFormat,rt=N.lang,ut=rt.numericSymbols;rt=rt.numericSymbolMagnitude||1e3;var at=K.logarithmic?Math.abs(gt):K.tickInterval,Ct=ut&&ut.length;if(K.categories)var vt="".concat(this.value);else if(_t)vt=yt.dateFormat(_t,gt);else if(Ct&&1e3<=at)for(;Ct--&&typeof vt>"u";)at>=(K=Math.pow(rt,Ct+1))&&10*gt%K==0&&null!==ut[Ct]&&0!==gt&&(vt=W(gt/K,-1)+ut[Ct]);return typeof vt>"u"&&(vt=1e4<=Math.abs(gt)?W(gt,-1):W(gt,-1,void 0,"")),vt},ot.prototype.getSeriesExtremes=function(){var gt,W=this,K=W.chart;P(this,"getSeriesExtremes",null,function(){W.hasVisibleSeries=!1,W.dataMin=W.dataMax=W.threshold=null,W.softThreshold=!W.isXAxis,W.series.forEach(function(yt){if(yt.visible||!K.options.chart.ignoreHiddenSeries){var _t=yt.options,rt=_t.threshold;if(W.hasVisibleSeries=!0,W.positiveValuesOnly&&0>=rt&&(rt=null),W.isXAxis){if((_t=yt.xData).length){_t=W.logarithmic?_t.filter(W.validatePositiveValue):_t;var ut=(gt=yt.getXExtremes(_t)).min,at=gt.max;m(ut)||ut instanceof Date||(_t=_t.filter(m),ut=(gt=yt.getXExtremes(_t)).min,at=gt.max),_t.length&&(W.dataMin=Math.min(o(W.dataMin,ut),ut),W.dataMax=Math.max(o(W.dataMax,at),at))}}else yt=yt.applyExtremes(),m(yt.dataMin)&&(ut=yt.dataMin,W.dataMin=Math.min(o(W.dataMin,ut),ut)),m(yt.dataMax)&&(at=yt.dataMax,W.dataMax=Math.max(o(W.dataMax,at),at)),x(rt)&&(W.threshold=rt),(!_t.softThreshold||W.positiveValuesOnly)&&(W.softThreshold=!1)}})}),P(this,"afterGetSeriesExtremes")},ot.prototype.translate=function(W,K,gt,yt,_t,rt){var ut=this.linkedParent||this,at=yt&&ut.old?ut.old.min:ut.min;if(!m(at))return NaN;var Ct=ut.minPixelPadding;_t=(ut.isOrdinal||ut.brokenAxis&&ut.brokenAxis.hasBreaks||ut.logarithmic&&_t)&&ut.lin2val;var vt=1,ct=0;return(yt=yt&&ut.old?ut.old.transA:ut.transA)||(yt=ut.transA),gt&&(vt*=-1,ct=ut.len),ut.reversed&&(ct-=(vt*=-1)*(ut.sector||ut.len)),K?(rt=(W*vt+ct-Ct)/yt+at,_t&&(rt=ut.lin2val(rt))):(_t&&(W=ut.val2lin(W)),W=vt*(W-at)*yt,rt=(ut.isRadial?W:w(W))+ct+vt*Ct+(m(rt)?yt*rt:0)),rt},ot.prototype.toPixels=function(W,K){return this.translate(W,!1,!this.horiz,void 0,!0)+(K?0:this.pos)},ot.prototype.toValue=function(W,K){return this.translate(W-(K?0:this.pos),!0,!this.horiz,void 0,!0)},ot.prototype.getPlotLinePath=function(W){function K(Jt,Nt,Rt){return"pass"!==Ft&&(Jt<Nt||Jt>Rt)&&(Ft?Jt=_(Jt,Nt,Rt):ne=!0),Jt}var Ot,jt,$t,Wt,ne,gt=this,yt=gt.chart,_t=gt.left,rt=gt.top,ut=W.old,at=W.value,Ct=W.lineWidth,vt=ut&&yt.oldChartHeight||yt.chartHeight,ct=ut&&yt.oldChartWidth||yt.chartWidth,Tt=gt.transB,kt=W.translatedValue,Ft=W.force;return P(this,"getPlotLinePath",W={value:at,lineWidth:Ct,old:ut,force:Ft,acrossPanes:W.acrossPanes,translatedValue:kt},function(Jt){kt=o(kt,gt.translate(at,void 0,void 0,ut)),kt=_(kt,-1e5,1e5),Ot=$t=Math.round(kt+Tt),jt=Wt=Math.round(vt-kt-Tt),m(kt)?gt.horiz?(jt=rt,Wt=vt-gt.bottom,Ot=$t=K(Ot,_t,_t+gt.width)):(Ot=_t,$t=ct-gt.right,jt=Wt=K(jt,rt,rt+gt.height)):(ne=!0,Ft=!1),Jt.path=ne&&!Ft?null:yt.renderer.crispLine([["M",Ot,jt],["L",$t,Wt]],Ct||1)}),W.path},ot.prototype.getLinearTickPositions=function(W,K,gt){var yt=w(Math.floor(K/W)*W);gt=w(Math.ceil(gt/W)*W);var rt,_t=[];if(w(yt+W)===yt&&(rt=20),this.single)return[K];for(K=yt;K<=gt&&(_t.push(K),(K=w(K+W,rt))!==ut);)var ut=K;return _t},ot.prototype.getMinorTickInterval=function(){var W=this.options;return!0===W.minorTicks?o(W.minorTickInterval,"auto"):!1===W.minorTicks?null:W.minorTickInterval},ot.prototype.getMinorTickPositions=function(){var W=this.options,K=this.tickPositions,gt=this.minorTickInterval,yt=this.pointRangePadding||0,_t=this.min-yt,rt=(yt=this.max+yt)-_t,ut=[];if(rt&&rt/gt<this.len/3){var at=this.logarithmic;if(at)this.paddedTicks.forEach(function(Ct,vt,ct){vt&&ut.push.apply(ut,at.getLogTickPositions(gt,ct[vt-1],ct[vt],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())ut=ut.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(gt),_t,yt,W.startOfWeek));else for(W=_t+(K[0]-_t)%gt;W<=yt&&W!==ut[0];W+=gt)ut.push(W)}return 0!==ut.length&&this.trimTicks(ut),ut},ot.prototype.adjustForMinRange=function(){var rt,ut,at,Ct,W=this.options,K=this.logarithmic,gt=this.min,yt=this.max,_t=0;if(this.isXAxis&&typeof this.minRange>"u"&&!K&&(x(W.min)||x(W.max)||x(W.floor)||x(W.ceiling)?this.minRange=null:(this.series.forEach(function(kt){if(at=kt.xData,Ct=kt.xIncrement?1:at.length-1,1<at.length)for(rt=Ct;0<rt;rt--)ut=at[rt]-at[rt-1],(!_t||ut<_t)&&(_t=ut)}),this.minRange=Math.min(5*_t,this.dataMax-this.dataMin))),yt-gt<this.minRange){var vt=this.dataMax-this.dataMin>=this.minRange,ct=this.minRange,Tt=(ct-yt+gt)/2;Tt=[gt-Tt,o(W.min,gt-Tt)],vt&&(Tt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),yt=[(gt=l(Tt))+ct,o(W.max,gt+ct)],vt&&(yt[2]=K?K.log2lin(this.dataMax):this.dataMax),(yt=d(yt))-gt<ct&&(Tt[0]=yt-ct,Tt[1]=o(W.min,yt-ct),gt=l(Tt))}this.min=gt,this.max=yt},ot.prototype.getClosest=function(){var W;return this.categories?W=1:this.series.forEach(function(K){var gt=K.closestPointRange,yt=K.visible||!K.chart.options.chart.ignoreHiddenSeries;!K.noSharedTooltip&&x(gt)&&yt&&(W=x(W)?Math.min(W,gt):gt)}),W},ot.prototype.nameToX=function(W){var K=E(this.options.categories),gt=K?this.categories:this.names,yt=W.options.x;if(W.series.requireSorting=!1,x(yt)||(yt=this.options.uniqueNames&&gt?K?gt.indexOf(W.name):o(gt.keys[W.name],-1):W.series.autoIncrement()),-1===yt){if(!K&&gt)var _t=gt.length}else _t=yt;return typeof _t<"u"?(this.names[_t]=W.name,this.names.keys[W.name]=_t):W.x&&(_t=W.x),_t},ot.prototype.updateNames=function(){var W=this,K=this.names;0<K.length&&(Object.keys(K.keys).forEach(function(gt){delete K.keys[gt]}),K.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(gt){gt.xIncrement=null,(!gt.points||gt.isDirtyData)&&(W.max=Math.max(W.max,gt.xData.length-1),gt.processData(),gt.generatePoints()),gt.data.forEach(function(yt,_t){if(yt&&yt.options&&typeof yt.name<"u"){var rt=W.nameToX(yt);typeof rt<"u"&&rt!==yt.x&&(yt.x=rt,gt.xData[_t]=rt)}})}))},ot.prototype.setAxisTranslation=function(){var Ct,W=this,K=W.max-W.min,gt=W.linkedParent,yt=!!W.categories,_t=W.isXAxis,rt=W.axisPointRange||0,ut=0,at=0;if(_t||yt||rt){var vt=W.getClosest();gt?(ut=gt.minPointOffset,at=gt.pointRangePadding):W.series.forEach(function(ct){var Tt=yt?1:_t?o(ct.options.pointRange,vt,0):W.axisPointRange||0,kt=ct.options.pointPlacement;rt=Math.max(rt,Tt),(!W.single||yt)&&(ct=ct.is("xrange")?!_t:_t,ut=Math.max(ut,ct&&C(kt)?0:Tt/2),at=Math.max(at,ct&&"on"===kt?0:Tt))}),W.minPointOffset=ut*=gt=W.ordinal&&W.ordinal.slope&&vt?W.ordinal.slope/vt:1,W.pointRangePadding=at*=gt,W.pointRange=Math.min(rt,W.single&&yt?1:K),_t&&(W.closestPointRange=vt)}W.translationSlope=W.transA=Ct=W.staticScale||W.len/(K+at||1),W.transB=W.horiz?W.left:W.bottom,W.minPixelPadding=Ct*ut,P(this,"afterSetAxisTranslation")},ot.prototype.minFromRange=function(){return this.max-this.range},ot.prototype.setTickInterval=function(W){var K=this.chart,gt=this.logarithmic,yt=this.options,_t=this.isXAxis,rt=this.isLinked,ut=yt.tickPixelInterval,at=this.categories,Ct=this.softThreshold,vt=yt.maxPadding,ct=yt.minPadding,Tt=m(yt.tickInterval)&&0<=yt.tickInterval?yt.tickInterval:void 0,kt=m(this.threshold)?this.threshold:null;this.dateTime||at||rt||this.getTickAmount();var Ft=o(this.userMin,yt.min),Ot=o(this.userMax,yt.max);if(rt){this.linkedParent=K[this.coll][yt.linkedTo];var jt=this.linkedParent.getExtremes();this.min=o(jt.min,jt.dataMin),this.max=o(jt.max,jt.dataMax),yt.type!==this.linkedParent.options.type&&n(11,1,K)}else{if(Ct&&x(kt))if(this.dataMin>=kt)jt=kt,ct=0;else if(this.dataMax<=kt){var $t=kt;vt=0}this.min=o(Ft,jt,this.dataMin),this.max=o(Ot,$t,this.dataMax)}if(gt&&(this.positiveValuesOnly&&!W&&0>=Math.min(this.min,o(this.dataMin,this.min))&&n(10,1,K),this.min=w(gt.log2lin(this.min),16),this.max=w(gt.log2lin(this.max),16)),this.range&&x(this.max)&&(this.userMin=this.min=Ft=Math.max(this.dataMin,this.minFromRange()),this.userMax=Ot=this.max,this.range=null),P(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(at||this.axisPointRange||this.stacking&&this.stacking.usePercentage||rt)&&x(this.min)&&x(this.max)&&(K=this.max-this.min)&&(!x(Ft)&&ct&&(this.min-=K*ct),!x(Ot)&&vt&&(this.max+=K*vt)),m(this.userMin)||(m(yt.softMin)&&yt.softMin<this.min&&(this.min=Ft=yt.softMin),m(yt.floor)&&(this.min=Math.max(this.min,yt.floor))),m(this.userMax)||(m(yt.softMax)&&yt.softMax>this.max&&(this.max=Ot=yt.softMax),m(yt.ceiling)&&(this.max=Math.min(this.max,yt.ceiling))),Ct&&x(this.dataMin)&&(kt=kt||0,!x(Ft)&&this.min<kt&&this.dataMin>=kt?this.min=this.options.minRange?Math.min(kt,this.max-this.minRange):kt:!x(Ot)&&this.max>kt&&this.dataMax<=kt&&(this.max=this.options.minRange?Math.max(kt,this.min+this.minRange):kt)),m(this.min)&&m(this.max)&&!this.chart.polar&&this.min>this.max&&(x(this.options.min)?this.max=this.min:x(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:rt&&this.linkedParent&&!Tt&&ut===this.linkedParent.options.tickPixelInterval?Tt=this.linkedParent.tickInterval:o(Tt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,at?1:(this.max-this.min)*ut/Math.max(this.len,ut)),_t&&!W){var Wt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ne){ne.forceCrop=ne.forceCropping&&ne.forceCropping(),ne.processData(Wt)}),P(this,"postProcessData",{hasExtremesChanged:Wt})}this.setAxisTranslation(),P(this,"initialAxisTranslation"),this.pointRange&&!Tt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),W=o(yt.minTickInterval,this.dateTime&&!this.series.some(function(ne){return ne.noSharedTooltip})?this.closestPointRange:0),!Tt&&this.tickInterval<W&&(this.tickInterval=W),this.dateTime||this.logarithmic||Tt||(this.tickInterval=pt(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},ot.prototype.setTickPositions=function(){var at,W=this.options,K=W.tickPositions,gt=W.tickPositioner,yt=this.getMinorTickInterval(),_t=this.hasVerticalPanning(),rt="colorAxis"===this.coll,ut=(rt||!_t)&&W.startOnTick;if(_t=(rt||!_t)&&W.endOnTick,rt=[],this.tickmarkOffset=this.categories&&"between"===W.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===yt&&this.tickInterval?this.tickInterval/5:yt,this.single=this.min===this.max&&x(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==W.allowDecimals),K)rt=K.slice();else if(m(this.min)&&m(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)rt=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,W.units),this.min,this.max,W.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)rt=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(yt=W=this.tickInterval;yt<=2*W&&(rt=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&rt.length>this.tickAmount);)this.tickInterval=pt(this,yt*=1.1);else rt=[this.min,this.max],n(19,!1,this.chart);rt.length>this.len&&(rt=[rt[0],rt[rt.length-1]])[0]===rt[1]&&(rt.length=1),gt&&(this.tickPositions=rt,(at=gt.apply(this,[this.min,this.max]))&&(rt=at))}this.tickPositions=rt,this.paddedTicks=rt.slice(0),this.trimTicks(rt,ut,_t),!this.isLinked&&m(this.min)&&m(this.max)&&(this.single&&2>rt.length&&!this.categories&&!this.series.some(function(Ct){return Ct.is("heatmap")&&"between"===Ct.options.pointPlacement})&&(this.min-=.5,this.max+=.5),K||at||this.adjustTickAmount()),P(this,"afterSetTickPositions")},ot.prototype.trimTicks=function(W,K,gt){var yt=W[0],_t=W[W.length-1],rt=!this.isOrdinal&&this.minPointOffset||0;if(P(this,"trimTicks"),!this.isLinked){if(K&&yt!==-1/0)this.min=yt;else for(;this.min-rt>W[0];)W.shift();if(gt)this.max=_t;else for(;this.max+rt<W[W.length-1];)W.pop();0===W.length&&x(yt)&&!this.options.tickPositions&&W.push((_t+yt)/2)}},ot.prototype.alignToOthers=function(){var rt,W=this,K=[this],gt=W.options,yt="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,_t=[];if(W.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&gt.alignTicks||yt)&&!1!==gt.startOnTick&&!1!==gt.endOnTick&&!W.logarithmic){var ut=function(vt){var ct=vt.options;return[vt.horiz?ct.left:ct.top,ct.width,ct.height,ct.pane].join()},at=ut(this);this.chart[this.coll].forEach(function(vt){var ct=vt.series;ct.length&&ct.some(function(Tt){return Tt.visible})&&vt!==W&&ut(vt)===at&&(rt=!0,K.push(vt))})}if(rt&&yt){K.forEach(function(vt){vt=vt.getThresholdAlignment(W),m(vt)&&_t.push(vt)});var Ct=1<_t.length?_t.reduce(function(vt,ct){return vt+ct},0)/_t.length:void 0;K.forEach(function(vt){vt.thresholdAlignment=Ct})}return rt},ot.prototype.getThresholdAlignment=function(W){if((!m(this.dataMin)||this!==W&&this.series.some(function(K){return K.isDirty||K.isDirtyData}))&&this.getSeriesExtremes(),m(this.threshold))return W=_((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(W=1-W),W},ot.prototype.getTickAmount=function(){var W=this.options,K=W.tickPixelInterval,gt=W.tickAmount;!x(W.tickInterval)&&!gt&&this.len<K&&!this.isRadial&&!this.logarithmic&&W.startOnTick&&W.endOnTick&&(gt=2),!gt&&this.alignToOthers()&&(gt=Math.ceil(this.len/K)+1),4>gt&&(this.finalTickAmt=gt,gt=5),this.tickAmount=gt},ot.prototype.adjustTickAmount=function(){var W=this,K=W.finalTickAmt,gt=W.max,yt=W.min,_t=W.options,rt=W.tickPositions,ut=W.tickAmount,at=W.thresholdAlignment,Ct=rt&&rt.length,vt=o(W.threshold,W.softThreshold?0:null),ct=W.tickInterval;if(m(at)){var Tt=.5>at?Math.ceil(at*(ut-1)):Math.floor(at*(ut-1));_t.reversed&&(Tt=ut-1-Tt)}if(W.hasData()&&m(yt)&&m(gt)){if(at=function(){W.transA*=(Ct-1)/(ut-1),W.min=_t.startOnTick?rt[0]:Math.min(yt,rt[0]),W.max=_t.endOnTick?rt[rt.length-1]:Math.max(gt,rt[rt.length-1])},m(Tt)&&m(W.threshold)){for(;rt[Tt]!==vt||rt.length!==ut||rt[0]>yt||rt[rt.length-1]<gt;){for(rt.length=0,rt.push(W.threshold);rt.length<ut;)void 0===rt[Tt]||rt[Tt]>W.threshold?rt.unshift(w(rt[0]-ct)):rt.push(w(rt[rt.length-1]+ct));if(ct>8*W.tickInterval)break;ct*=2}at()}else if(Ct<ut){for(;rt.length<ut;)rt.length%2||yt===vt?rt.push(w(rt[rt.length-1]+ct)):rt.unshift(w(rt[0]-ct));at()}if(x(K)){for(ct=vt=rt.length;ct--;)(3===K&&ct%2==1||2>=K&&0<ct&&ct<vt-1)&&rt.splice(ct,1);W.finalTickAmt=void 0}}},ot.prototype.setScale=function(){var W=!1,K=!1;this.series.forEach(function(yt){W=W||yt.isDirtyData||yt.isDirty,K=K||yt.xAxis&&yt.xAxis.isDirty||!1}),this.setAxisSize();var gt=this.len!==(this.old&&this.old.len);gt||W||K||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=gt||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),W&&this.panningState&&(this.panningState.isDirty=!0),P(this,"afterSetScale")},ot.prototype.setExtremes=function(W,K,gt,yt,_t){var rt=this,ut=rt.chart;gt=o(gt,!0),rt.series.forEach(function(at){delete at.kdTree}),_t=D(_t,{min:W,max:K}),P(rt,"setExtremes",_t,function(){rt.userMin=W,rt.userMax=K,rt.eventArgs=_t,gt&&ut.redraw(yt)})},ot.prototype.zoom=function(W,K){var gt=this,yt=this.dataMin,_t=this.dataMax,rt=this.options,ut=Math.min(yt,o(rt.min,yt)),at=Math.max(_t,o(rt.max,_t));return P(this,"zoom",W={newMin:W,newMax:K},function(Ct){var vt=Ct.newMin,ct=Ct.newMax;(vt!==gt.min||ct!==gt.max)&&(gt.allowZoomOutside||(x(yt)&&(vt<ut&&(vt=ut),vt>at&&(vt=at)),x(_t)&&(ct<ut&&(ct=ut),ct>at&&(ct=at))),gt.displayBtn=typeof vt<"u"||typeof ct<"u",gt.setExtremes(vt,ct,!1,void 0,{trigger:"zoom"})),Ct.zoomed=!0}),W.zoomed},ot.prototype.setAxisSize=function(){var W=this.chart,K=this.options,gt=K.offsets||[0,0,0,0],yt=this.horiz,_t=this.width=Math.round(R(o(K.width,W.plotWidth-gt[3]+gt[1]),W.plotWidth)),rt=this.height=Math.round(R(o(K.height,W.plotHeight-gt[0]+gt[2]),W.plotHeight)),ut=this.top=Math.round(R(o(K.top,W.plotTop+gt[0]),W.plotHeight,W.plotTop));K=this.left=Math.round(R(o(K.left,W.plotLeft+gt[3]),W.plotWidth,W.plotLeft)),this.bottom=W.chartHeight-rt-ut,this.right=W.chartWidth-_t-K,this.len=Math.max(yt?_t:rt,0),this.pos=yt?K:ut},ot.prototype.getExtremes=function(){var W=this.logarithmic;return{min:W?w(W.lin2log(this.min)):this.min,max:W?w(W.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},ot.prototype.getThreshold=function(W){var K=this.logarithmic,gt=K?K.lin2log(this.min):this.min;return K=K?K.lin2log(this.max):this.max,null===W||W===-1/0?W=gt:W===1/0?W=K:gt>W?W=gt:K<W&&(W=K),this.translate(W,0,1,0,1)},ot.prototype.autoLabelAlign=function(W){var K=(o(W,0)-90*this.side+720)%360;return P(this,"autoLabelAlign",W={align:"center"},function(gt){15<K&&165>K?gt.align="right":195<K&&345>K&&(gt.align="left")}),W.align},ot.prototype.tickSize=function(W){var K=this.options,gt=o(K["tick"===W?"tickWidth":"minorTickWidth"],"tick"===W&&this.isXAxis&&!this.categories?1:0),yt=K["tick"===W?"tickLength":"minorTickLength"];if(gt&&yt){"inside"===K[W+"Position"]&&(yt=-yt);var _t=[yt,gt]}return P(this,"afterTickSize",W={tickSize:_t}),W.tickSize},ot.prototype.labelMetrics=function(){var W=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[W]&&this.ticks[W].label)},ot.prototype.unsquish=function(){var W=this.options.labels,K=this.horiz,gt=this.tickInterval,yt=this.len/(((this.categories?1:0)+this.max-this.min)/gt),_t=W.rotation,rt=this.labelMetrics(),ut=Math.max(this.max-this.min,0),at=function($t){var Wt=$t/(yt||1);return(Wt=1<Wt?Math.ceil(Wt):1)*gt>ut&&$t!==1/0&&yt!==1/0&&ut&&(Wt=Math.ceil(ut/gt)),w(Wt*gt)},Ct=gt,vt=Number.MAX_VALUE;if(K){if(!W.staggerLines)if(m(_t))var ct=[_t];else yt<W.autoRotationLimit&&(ct=W.autoRotation);if(ct)for(var Tt=K=void 0,kt=0,Ft=ct;kt<Ft.length;kt++){var Ot=Ft[kt];if((Ot===_t||Ot&&-90<=Ot&&90>=Ot)&&(Tt=(K=at(Math.abs(rt.h/Math.sin(p*Ot))))+Math.abs(Ot/360))<vt){vt=Tt;var jt=Ot;Ct=K}}}else Ct=at(rt.h);return this.autoRotation=ct,this.labelRotation=o(jt,m(_t)?_t:0),W.step?gt:Ct},ot.prototype.getSlotWidth=function(W){var K=this.chart,gt=this.horiz,yt=this.options.labels,_t=Math.max(this.tickPositions.length-(this.categories?0:1),1),rt=K.margin[3];if(W&&m(W.slotWidth))return W.slotWidth;if(gt&&2>yt.step)return yt.rotation?0:(this.staggerLines||1)*this.len/_t;if(!gt){if(void 0!==(W=yt.style.width))return parseInt(String(W),10);if(rt)return rt-K.spacing[3]}return.33*K.chartWidth},ot.prototype.renderUnsquish=function(){var W=this.chart,K=W.renderer,gt=this.tickPositions,yt=this.ticks,_t=this.options.labels,rt=_t.style,ut=this.horiz,at=this.getSlotWidth(),Ct=Math.max(1,Math.round(at-2*_t.padding)),vt={},ct=this.labelMetrics(),Tt=rt.textOverflow,kt=0;if(C(_t.rotation)||(vt.rotation=_t.rotation||0),gt.forEach(function($t){($t=yt[$t]).movedLabel&&$t.replaceMovedLabel(),$t&&$t.label&&$t.label.textPxLength>kt&&(kt=$t.label.textPxLength)}),this.maxLabelLength=kt,this.autoRotation)kt>Ct&&kt>ct.h?vt.rotation=this.labelRotation:this.labelRotation=0;else if(at){var Ft=Ct;if(!Tt){var Ot="clip";for(Ct=gt.length;!ut&&Ct--;){var jt=gt[Ct];(jt=yt[jt].label)&&(jt.styles&&"ellipsis"===jt.styles.textOverflow?jt.css({textOverflow:"clip"}):jt.textPxLength>at&&jt.css({width:at+"px"}),jt.getBBox().height>this.len/gt.length-(ct.h-ct.f)&&(jt.specificTextOverflow="ellipsis"))}}}vt.rotation&&(Ft=kt>.5*W.chartHeight?.33*W.chartHeight:kt,Tt||(Ot="ellipsis")),(this.labelAlign=_t.align||this.autoLabelAlign(this.labelRotation))&&(vt.align=this.labelAlign),gt.forEach(function($t){var Wt=($t=yt[$t])&&$t.label,ne=rt.width,Jt={};Wt&&(Wt.attr(vt),$t.shortenLabel?$t.shortenLabel():Ft&&!ne&&"nowrap"!==rt.whiteSpace&&(Ft<Wt.textPxLength||"SPAN"===Wt.element.tagName)?(Jt.width=Ft+"px",Tt||(Jt.textOverflow=Wt.specificTextOverflow||Ot),Wt.css(Jt)):Wt.styles&&Wt.styles.width&&!Jt.width&&!ne&&Wt.css({width:null}),delete Wt.specificTextOverflow,$t.rotation=vt.rotation)},this),this.tickRotCorr=K.rotCorr(ct.b,this.labelRotation||0,0!==this.side)},ot.prototype.hasData=function(){return this.series.some(function(W){return W.hasData()})||this.options.showEmpty&&x(this.min)&&x(this.max)},ot.prototype.addTitle=function(W){var ut,yt=this.opposite,_t=this.options.title,rt=this.chart.styledMode;this.axisTitle||((ut=_t.textAlign)||(ut=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:yt?"right":"left",middle:"center",high:yt?"left":"right"})[_t.align]),this.axisTitle=this.chart.renderer.text(_t.text||"",0,0,_t.useHTML).attr({zIndex:7,rotation:_t.rotation,align:ut}).addClass("highcharts-axis-title"),rt||this.axisTitle.css(A(_t.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),rt||_t.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[W?"show":"hide"](W)},ot.prototype.generateTick=function(W){var K=this.ticks;K[W]?K[W].addLabel():K[W]=new Y(this,W)},ot.prototype.getOffset=function(){var W=this,K=this,gt=K.chart,yt=K.horiz,_t=K.options,rt=K.side,ut=K.ticks,at=K.tickPositions,Ct=K.coll,vt=K.axisParent,ct=gt.renderer,Tt=gt.inverted&&!K.isZAxis?[1,0,3,2][rt]:rt,kt=K.hasData(),Ft=_t.title,Ot=_t.labels,jt=gt.axisOffset;gt=gt.clipOffset;var ne,$t=[-1,1,1,-1][rt],Wt=_t.className,Jt=0,Nt=0,Rt=0;if(K.showAxis=ne=kt||_t.showEmpty,K.staggerLines=K.horiz&&Ot.staggerLines||void 0,!K.axisGroup){var ie=function(ce,te,Ie){return ct.g(ce).attr({zIndex:Ie}).addClass("highcharts-".concat(Ct.toLowerCase()).concat(te," ")+(W.isRadial?"highcharts-radial-axis".concat(te," "):"")+(Wt||"")).add(vt)};K.gridGroup=ie("grid","-grid",_t.gridZIndex),K.axisGroup=ie("axis","",_t.zIndex),K.labelGroup=ie("axis-labels","-labels",Ot.zIndex)}if(kt||K.isLinked?(at.forEach(function(ce){K.generateTick(ce)}),K.renderUnsquish(),K.reserveSpaceDefault=0===rt||2===rt||{1:"left",3:"right"}[rt]===K.labelAlign,o(Ot.reserveSpace,"center"===K.labelAlign||null,K.reserveSpaceDefault)&&at.forEach(function(ce){Rt=Math.max(ut[ce].getLabelSize(),Rt)}),K.staggerLines&&(Rt*=K.staggerLines),K.labelOffset=Rt*(K.opposite?-1:1)):f(ut,function(ce,te){ce.destroy(),delete ut[te]}),Ft&&Ft.text&&!1!==Ft.enabled&&(K.addTitle(ne),ne&&!1!==Ft.reserveSpace)){K.titleOffset=Jt=K.axisTitle.getBBox()[yt?"height":"width"];var se=Ft.offset;Nt=x(se)?0:o(Ft.margin,yt?5:10)}K.renderLine(),K.offset=$t*o(_t.offset,jt[rt]?jt[rt]+(_t.margin||0):0),K.tickRotCorr=K.tickRotCorr||{x:0,y:0},Ft=0===rt?-K.labelMetrics().h:2===rt?K.tickRotCorr.y:0,kt=Math.abs(Rt)+Nt,Rt&&(kt=kt-Ft+$t*(yt?o(Ot.y,K.tickRotCorr.y+8*$t):Ot.x)),K.axisTitleMargin=o(se,kt),K.getMaxLabelDimensions&&(K.maxLabelDimensions=K.getMaxLabelDimensions(ut,at)),"colorAxis"!==Ct&&(yt=this.tickSize("tick"),jt[rt]=Math.max(jt[rt],(K.axisTitleMargin||0)+Jt+$t*K.offset,kt,at&&at.length&&yt?yt[0]+$t*K.offset:0),_t=!K.axisLine||_t.offset?0:2*Math.floor(K.axisLine.strokeWidth()/2),gt[Tt]=Math.max(gt[Tt],_t)),P(this,"afterGetOffset")},ot.prototype.getLinePath=function(W){var K=this.chart,gt=this.opposite,yt=this.offset,_t=this.horiz,rt=this.left+(gt?this.width:0)+yt;return yt=K.chartHeight-this.bottom-(gt?this.height:0)+yt,gt&&(W*=-1),K.renderer.crispLine([["M",_t?this.left:rt,_t?yt:this.top],["L",_t?K.chartWidth-this.right:rt,_t?yt:K.chartHeight-this.bottom]],W)},ot.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},ot.prototype.getTitlePosition=function(){var W=this.horiz,K=this.left,gt=this.top,yt=this.len,_t=this.options.title,rt=W?K:gt,ut=this.opposite,at=this.offset,Ct=_t.x,vt=_t.y,ct=this.axisTitle,Tt=this.chart.renderer.fontMetrics(_t.style.fontSize,ct);return ct=ct?Math.max(ct.getBBox(!1,0).height-Tt.h-1,0):0,yt={low:rt+(W?0:yt),middle:rt+yt/2,high:rt+(W?yt:0)}[_t.align],K=(W?gt+this.height:K)+(W?1:-1)*(ut?-1:1)*(this.axisTitleMargin||0)+[-ct,ct,Tt.f,-ct][this.side],P(this,"afterGetTitlePosition",{titlePosition:W={x:W?yt+Ct:K+(ut?this.width:0)+at+Ct,y:W?K+vt-(ut?this.height:0)+at:yt+vt}}),W},ot.prototype.renderMinorTick=function(W,K){var gt=this.minorTicks;gt[W]||(gt[W]=new Y(this,W,"minor")),K&&gt[W].isNew&&gt[W].render(null,!0),gt[W].render(null,!1,1)},ot.prototype.renderTick=function(W,K,gt){var yt=this.ticks;(!this.isLinked||W>=this.min&&W<=this.max||this.grid&&this.grid.isColumn)&&(yt[W]||(yt[W]=new Y(this,W)),gt&&yt[W].isNew&&yt[W].render(K,!0,-1),yt[W].render(K))},ot.prototype.render=function(){var $t,Wt,W=this,K=W.chart,gt=W.logarithmic,yt=W.options,_t=W.isLinked,rt=W.tickPositions,ut=W.axisTitle,at=W.ticks,Ct=W.minorTicks,vt=W.alternateBands,ct=yt.stackLabels,Tt=yt.alternateGridColor,kt=W.tickmarkOffset,Ft=W.axisLine,Ot=W.showAxis,jt=F(K.renderer.globalAnimation);if(W.labelEdge.length=0,W.overlap=!1,[at,Ct,vt].forEach(function(Jt){f(Jt,function(Nt){Nt.isActive=!1})}),W.hasData()||_t){var ne=W.chart.hasRendered&&W.old&&m(W.old.min);W.minorTickInterval&&!W.categories&&W.getMinorTickPositions().forEach(function(Jt){W.renderMinorTick(Jt,ne)}),rt.length&&(rt.forEach(function(Jt,Nt){W.renderTick(Jt,Nt,ne)}),kt&&(0===W.min||W.single)&&(at[-1]||(at[-1]=new Y(W,-1,null,!0)),at[-1].render(-1))),Tt&&rt.forEach(function(Jt,Nt){Wt=typeof rt[Nt+1]<"u"?rt[Nt+1]+kt:W.max-kt,Nt%2==0&&Jt<W.max&&Wt<=W.max+(K.polar?-kt:kt)&&(vt[Jt]||(vt[Jt]=new G.PlotLineOrBand(W)),$t=Jt+kt,vt[Jt].options={from:gt?gt.lin2log($t):$t,to:gt?gt.lin2log(Wt):Wt,color:Tt,className:"highcharts-alternate-grid"},vt[Jt].render(),vt[Jt].isActive=!0)}),W._addedPlotLB||(W._addedPlotLB=!0,(yt.plotLines||[]).concat(yt.plotBands||[]).forEach(function(Jt){W.addPlotBandOrLine(Jt)}))}[at,Ct,vt].forEach(function(Jt){var Nt=[],Rt=jt.duration;f(Jt,function(ie,se){ie.isActive||(ie.render(se,!1,0),ie.isActive=!1,Nt.push(se))}),tt(function(){for(var ie=Nt.length;ie--;)Jt[Nt[ie]]&&!Jt[Nt[ie]].isActive&&(Jt[Nt[ie]].destroy(),delete Jt[Nt[ie]])},Jt!==vt&&K.hasRendered&&Rt?Rt:0)}),Ft&&(Ft[Ft.isPlaced?"animate":"attr"]({d:this.getLinePath(Ft.strokeWidth())}),Ft.isPlaced=!0,Ft[Ot?"show":"hide"](Ot)),ut&&Ot&&(yt=W.getTitlePosition(),ut[ut.isNew?"attr":"animate"](yt),ut.isNew=!1),ct&&ct.enabled&&W.stacking&&W.stacking.renderStackTotals(),W.old={len:W.len,max:W.max,min:W.min,transA:W.transA,userMax:W.userMax,userMin:W.userMin},W.isDirty=!1,P(this,"afterRender")},ot.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(W){W.render()})),this.series.forEach(function(W){W.isDirty=!0})},ot.prototype.getKeepProps=function(){return this.keepProps||ot.keepProps},ot.prototype.destroy=function(W){var K=this,gt=K.plotLinesAndBands,yt=this.eventOptions;if(P(this,"destroy",{keepEvents:W}),W||U(K),[K.ticks,K.minorTicks,K.alternateBands].forEach(function(rt){I(rt)}),gt)for(W=gt.length;W--;)gt[W].destroy();for(var _t in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(rt){K[rt]&&(K[rt]=K[rt].destroy())}),K.plotLinesAndBandsGroups)K.plotLinesAndBandsGroups[_t]=K.plotLinesAndBandsGroups[_t].destroy();f(K,function(rt,ut){-1===K.getKeepProps().indexOf(ut)&&delete K[ut]}),this.eventOptions=yt},ot.prototype.drawCrosshair=function(W,K){var rt,gt=this.crosshair,yt=o(gt&&gt.snap,!0),_t=this.chart,ut=this.cross;if(P(this,"drawCrosshair",{e:W,point:K}),W||(W=this.cross&&this.cross.e),gt&&!1!==(x(K)||!yt)){if(yt?x(K)&&(rt=o("colorAxis"!==this.coll?K.crosshairPos:null,this.isXAxis?K.plotX:this.len-K.plotY)):rt=W&&(this.horiz?W.chartX-this.pos:this.len-W.chartY+this.pos),x(rt)){var at={value:K&&(this.isXAxis?K.x:o(K.stackY,K.y)),translatedValue:rt};_t.polar&&D(at,{isCrosshair:!0,chartX:W&&W.chartX,chartY:W&&W.chartY,point:K}),at=this.getPlotLinePath(at)||null}if(!x(at))return void this.hideCrosshair();yt=this.categories&&!this.isRadial,ut||(this.cross=ut=_t.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(yt?"category ":"thin ")+(gt.className||"")).attr({zIndex:o(gt.zIndex,2)}).add(),_t.styledMode||(ut.attr({stroke:gt.color||(yt?T.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":o(gt.width,1)}).css({"pointer-events":"none"}),gt.dashStyle&&ut.attr({dashstyle:gt.dashStyle}))),ut.show().attr({d:at}),yt&&!gt.width&&ut.attr({"stroke-width":this.transA}),this.cross.e=W}else this.hideCrosshair();P(this,"afterDrawCrosshair",{e:W,point:K})},ot.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),P(this,"afterHideCrosshair")},ot.prototype.hasVerticalPanning=function(){var W=this.chart.options.chart.panning;return!!(W&&W.enabled&&/y/.test(W.type))},ot.prototype.validatePositiveValue=function(W){return m(W)&&0<W},ot.prototype.update=function(W,K){var gt=this.chart;W=A(this.userOptions,W),this.destroy(!0),this.init(gt,W),gt.isDirtyBox=!0,o(K,!0)&&gt.redraw()},ot.prototype.remove=function(W){for(var K=this.chart,gt=this.coll,yt=this.series,_t=yt.length;_t--;)yt[_t]&&yt[_t].remove(!1);h(K.axes,this),h(K[gt],this),K[gt].forEach(function(rt,ut){rt.options.index=rt.userOptions.index=ut}),this.destroy(),K.isDirtyBox=!0,o(W,!0)&&K.redraw()},ot.prototype.setTitle=function(W,K){this.update({title:W},K)},ot.prototype.setCategories=function(W,K){this.update({categories:W},K)},ot.defaultOptions=c.defaultXAxisOptions,ot.keepProps="extKey hcEvents names series userMax userMin".split(" "),ot}()}),e(i,"Core/Axis/DateTimeAxis.js",[i["Core/Utilities.js"]],function(s){var G,c=s.addEvent,T=s.getMagnitude,M=s.normalizeTickInterval,j=s.timeUnits;return function(Y){function z(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function F(p){"datetime"!==p.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new a(this))}var N=[];Y.compose=function(p){return-1===N.indexOf(p)&&(N.push(p),p.keepProps.push("dateTime"),p.prototype.getTimeTicks=z,c(p,"init",F)),p};var a=function(){function p(l){this.axis=l}return p.prototype.normalizeTimeTickInterval=function(l,d){var I,_=d||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],w=j[(d=_[_.length-1])[0]],x=d[1];for(I=0;I<_.length&&(w=j[(d=_[I])[0]],x=d[1],!(_[I+1]&&l<=(w*x[x.length-1]+j[_[I+1][0]])/2));I++);return w===j.year&&l<5*w&&(x=[1,2,5]),{unitRange:w,count:l=M(l/w,x,"year"===d[0]?Math.max(T(l/w),1):1),unitName:d[0]}},p.prototype.getXDateFormat=function(l,d){var _=this.axis,w=_.chart.time;return _.closestPointRange?w.getDateFormat(_.closestPointRange,l,_.options.startOfWeek,d)||w.resolveDTLFormat(d.year).main:w.resolveDTLFormat(d.day).main},p}();Y.Additions=a}(G||(G={})),G}),e(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Utilities.js"]],function(s){var j,c=s.addEvent,T=s.normalizeTickInterval,M=s.pick;return function(G){function Y(a){var p=this.logarithmic;"logarithmic"!==a.userOptions.type?this.logarithmic=void 0:p||(this.logarithmic=new N(this))}function z(){var a=this.logarithmic;a&&(this.lin2val=function(p){return a.lin2log(p)},this.val2lin=function(p){return a.log2lin(p)})}var F=[];G.compose=function(a){return-1===F.indexOf(a)&&(F.push(a),a.keepProps.push("logarithmic"),c(a,"init",Y),c(a,"afterInit",z)),a};var N=function(){function a(p){this.axis=p}return a.prototype.getLogTickPositions=function(p,l,d,_){var w=this.axis,x=w.len,I=w.options,h=[];if(_||(this.minorAutoInterval=void 0),.5<=p)p=Math.round(p),h=w.getLinearTickPositions(p,l,d);else if(.08<=p){var D,n=Math.floor(l),P=I=void 0;for(x=.3<p?[1,2,4]:.15<p?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n<d+1&&!P;n++){var E=x.length;for(D=0;D<E&&!P;D++){var m=this.log2lin(this.lin2log(n)*x[D]);m>l&&(!_||I<=d)&&typeof I<"u"&&h.push(I),I>d&&(P=!0),I=m}}}else l=this.lin2log(l),d=this.lin2log(d),p=_?w.getMinorTickInterval():I.tickInterval,p=M("auto"===p?null:p,this.minorAutoInterval,I.tickPixelInterval/(_?5:1)*(d-l)/((_?x/w.tickPositions.length:x)||1)),p=T(p),h=w.getLinearTickPositions(p,l,d).map(this.log2lin),_||(this.minorAutoInterval=p/5);return _||(w.tickInterval=p),h},a.prototype.lin2log=function(p){return Math.pow(10,p)},a.prototype.log2lin=function(p){return Math.log(p)/Math.LN10},a}();G.Additions=N}(j||(j={})),j}),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[i["Core/Utilities.js"]],function(s){var j,c=s.erase,T=s.extend,M=s.isNumber;return function(G){var z,Y=[];G.compose=function(N,a){return z||(z=N),-1===Y.indexOf(a)&&(Y.push(a),T(a.prototype,F.prototype)),a};var F=function(){function N(){}return N.prototype.getPlotBandPath=function(a,p,l){void 0===l&&(l=this.options);var d=this.getPlotLinePath({value:p,force:!0,acrossPanes:l.acrossPanes}),_=[],w=this.horiz;if(p=!M(this.min)||!M(this.max)||a<this.min&&p<this.min||a>this.max&&p>this.max,a=this.getPlotLinePath({value:a,force:!0,acrossPanes:l.acrossPanes}),l=1,a&&d){if(p){var x=a.toString()===d.toString();l=0}for(p=0;p<a.length;p+=2){var I=a[p],h=a[p+1],n=d[p],D=d[p+1];"M"!==I[0]&&"L"!==I[0]||"M"!==h[0]&&"L"!==h[0]||"M"!==n[0]&&"L"!==n[0]||"M"!==D[0]&&"L"!==D[0]||(w&&n[1]===I[1]?(n[1]+=l,D[1]+=l):w||n[2]!==I[2]||(n[2]+=l,D[2]+=l),_.push(["M",I[1],I[2]],["L",h[1],h[2]],["L",D[1],D[2]],["L",n[1],n[2]],["Z"])),_.isFlat=x}}return _},N.prototype.addPlotBand=function(a){return this.addPlotBandOrLine(a,"plotBands")},N.prototype.addPlotLine=function(a){return this.addPlotBandOrLine(a,"plotLines")},N.prototype.addPlotBandOrLine=function(a,p){var l=this,d=this.userOptions,_=new z(this,a);if(this.visible&&(_=_.render()),_){if(this._addedPlotLB||(this._addedPlotLB=!0,(d.plotLines||[]).concat(d.plotBands||[]).forEach(function(x){l.addPlotBandOrLine(x)})),p){var w=d[p]||[];w.push(a),d[p]=w}this.plotLinesAndBands.push(_)}return _},N.prototype.removePlotBandOrLine=function(a){var p=this.plotLinesAndBands,l=this.options,d=this.userOptions;if(p){for(var _=p.length;_--;)p[_].id===a&&p[_].destroy();[l.plotLines||[],d.plotLines||[],l.plotBands||[],d.plotBands||[]].forEach(function(w){for(_=w.length;_--;)(w[_]||{}).id===a&&c(w,w[_])})}},N.prototype.removePlotBand=function(a){this.removePlotBandOrLine(a)},N.prototype.removePlotLine=function(a){this.removePlotBandOrLine(a)},N}()}(j||(j={})),j}),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[i["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],i["Core/Utilities.js"]],function(s,c){var T=c.arrayMax,M=c.arrayMin,j=c.defined,G=c.destroyObjectProperties,Y=c.erase,z=c.fireEvent,F=c.merge,N=c.objectEach,a=c.pick;return function(){function p(l,d){this.axis=l,d&&(this.options=d,this.id=d.id)}return p.compose=function(l){return s.compose(p,l)},p.prototype.render=function(){z(this,"render");var l=this,d=l.axis,_=d.horiz,w=d.logarithmic,x=l.options,I=x.color,h=a(x.zIndex,0),n=x.events,D={},P=d.chart.renderer,E=x.label,m=l.label,C=x.to,A=x.from,k=x.value,f=l.svgElem,o=[],R=j(A)&&j(C);o=j(k);var U=!f,X={class:"highcharts-plot-"+(R?"band ":"line ")+(x.className||"")},tt=R?"bands":"lines";if(w&&(A=w.log2lin(A),C=w.log2lin(C),k=w.log2lin(k)),d.chart.styledMode||(o?(X.stroke=I||"#999999",X["stroke-width"]=a(x.width,1),x.dashStyle&&(X.dashstyle=x.dashStyle)):R&&(X.fill=I||"#e6ebf5",x.borderWidth&&(X.stroke=x.borderColor,X["stroke-width"]=x.borderWidth))),D.zIndex=h,(w=d.plotLinesAndBandsGroups[tt+="-"+h])||(d.plotLinesAndBandsGroups[tt]=w=P.g("plot-"+tt).attr(D).add()),U&&(l.svgElem=f=P.path().attr(X).add(w)),o)o=d.getPlotLinePath({value:k,lineWidth:f.strokeWidth(),acrossPanes:x.acrossPanes});else{if(!R)return;o=d.getPlotBandPath(A,C,x)}return!l.eventsAdded&&n&&(N(n,function(pt,ot){f.on(ot,function(W){n[ot].apply(l,[W])})}),l.eventsAdded=!0),(U||!f.d)&&o&&o.length?f.attr({d:o}):f&&(o?(f.show(),f.animate({d:o})):f.d&&(f.hide(),m&&(l.label=m=m.destroy()))),E&&(j(E.text)||j(E.formatter))&&o&&o.length&&0<d.width&&0<d.height&&!o.isFlat?(E=F({align:_&&R&&"center",x:_?!R&&4:10,verticalAlign:!_&&R&&"middle",y:_?R?16:10:R?6:-4,rotation:_&&!R&&90},E),this.renderLabel(E,o,R,h)):m&&m.hide(),l},p.prototype.renderLabel=function(l,d,_,w){var x=this.axis,I=x.chart.renderer,h=this.label;h||(this.label=h=I.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(l.className||""),zIndex:w}).add(),x.chart.styledMode||h.css(F({textOverflow:"ellipsis"},l.style))),w=d.xBounds||[d[0][1],d[1][1],_?d[2][1]:d[0][1]],d=d.yBounds||[d[0][2],d[1][2],_?d[2][2]:d[0][2]],_=M(w),I=M(d),h.align(l,!1,{x:_,y:I,width:T(w)-_,height:T(d)-I}),h.alignValue&&"left"!==h.alignValue||(l=l.clip?x.width:x.chart.chartWidth,h.css({width:(90===h.rotation?x.height-(h.alignAttr.y-x.top):l-(h.alignAttr.x-x.left))+"px"})),h.show(!0)},p.prototype.getLabelText=function(l){return j(l.formatter)?l.formatter.call(this):l.text},p.prototype.destroy=function(){Y(this.axis.plotLinesAndBands,this),delete this.axis,G(this)},p}()}),e(i,"Core/Tooltip.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(s,c,T,M,j){var G=s.format,Y=c.doc,z=T.distribute,F=j.clamp,N=j.css,a=j.discardElement,p=j.extend,l=j.fireEvent,d=j.isArray,_=j.isNumber,w=j.isString,x=j.merge,I=j.pick,h=j.splat,n=j.syncTimeout;return function(){function D(P,E){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=P,this.init(P,E)}return D.prototype.applyFilter=function(){var P=this.chart;P.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+P.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},D.prototype.bodyFormatter=function(P){return P.map(function(E){var m=E.series.tooltipOptions;return(m[(E.point.formatPrefix||"point")+"Formatter"]||E.point.tooltipFormatter).call(E.point,m[(E.point.formatPrefix||"point")+"Format"]||"")})},D.prototype.cleanSplit=function(P){this.chart.series.forEach(function(E){var m=E&&E.tt;m&&(!m.isActive||P?E.tt=m.destroy():m.isActive=!1)})},D.prototype.defaultFormatter=function(P){var E=this.points||h(this),m=[P.tooltipFooterHeaderFormatter(E[0])];return(m=m.concat(P.bodyFormatter(E))).push(P.tooltipFooterHeaderFormatter(E[0],!0)),m},D.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),a(this.container)),j.clearTimeout(this.hideTimer),j.clearTimeout(this.tooltipTimeout)},D.prototype.getAnchor=function(P,E){var m=this.chart,C=m.pointer,A=m.inverted,k=m.plotTop;if(m=m.plotLeft,(P=h(P))[0].series&&P[0].series.yAxis&&!P[0].series.yAxis.options.reversedStacks&&(P=P.slice().reverse()),this.followPointer&&E)typeof E.chartX>"u"&&(E=C.normalize(E)),P=[E.chartX-m,E.chartY-k];else if(P[0].tooltipPos)P=P[0].tooltipPos;else{var f=0,o=0;P.forEach(function(R){(R=R.pos(!0))&&(f+=R[0],o+=R[1])}),f/=P.length,o/=P.length,this.shared&&1<P.length&&E&&(A?f=E.chartX:o=E.chartY),P=[f-m,o-k]}return P.map(Math.round)},D.prototype.getClassName=function(P,E,m){var C=P.series,A=C.options;return[this.options.className,"highcharts-label",m&&"highcharts-tooltip-header",E?"highcharts-tooltip-box":"highcharts-tooltip",!m&&"highcharts-color-"+I(P.colorIndex,C.colorIndex),A&&A.className].filter(w).join(" ")},D.prototype.getLabel=function(){var k,P=this,E=this.chart.styledMode,m=this.options,C=this.split&&this.allowShared,A=m.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none"),f=this.chart.renderer;if(P.label){var o=!P.label.hasClass("highcharts-label");(C&&!o||!C&&o)&&P.destroy()}if(!this.label){if(this.outside){o=this.chart.options.chart.style;var R=M.getRendererType();this.container=k=c.doc.createElement("div"),k.className="highcharts-tooltip-container",N(k,{position:"absolute",top:"1px",pointerEvents:A,zIndex:Math.max(this.options.style.zIndex||0,(o&&o.zIndex||0)+3)}),c.doc.body.appendChild(k),this.renderer=f=new R(k,0,0,o,void 0,void 0,f.styledMode)}if(C?this.label=f.g("tooltip"):(this.label=f.label("",0,0,m.shape,void 0,void 0,m.useHTML,void 0,"tooltip").attr({padding:m.padding,r:m.borderRadius}),E||this.label.attr({fill:m.backgroundColor,"stroke-width":m.borderWidth}).css(m.style).css({pointerEvents:A}).shadow(m.shadow)),E&&m.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),P.outside&&!P.split){var U=this.label,X=U.xSetter,tt=U.ySetter;U.xSetter=function(pt){X.call(U,P.distance),k.style.left=pt+"px"},U.ySetter=function(pt){tt.call(U,P.distance),k.style.top=pt+"px"}}this.label.attr({zIndex:8}).add()}return this.label},D.prototype.getPosition=function(P,E,m){var W,C=this.chart,A=this.distance,k={},f=C.inverted&&m.h||0,o=this.outside,R=o?Y.documentElement.clientWidth-2*A:C.chartWidth,U=o?Math.max(Y.body.scrollHeight,Y.documentElement.scrollHeight,Y.body.offsetHeight,Y.documentElement.offsetHeight,Y.documentElement.clientHeight):C.chartHeight,X=C.pointer.getChartPosition(),tt=function(ut){var at="x"===ut;return[ut,at?R:U,at?P:E].concat(o?[at?P*X.scaleX:E*X.scaleY,at?X.left-A+(m.plotX+C.plotLeft)*X.scaleX:X.top-A+(m.plotY+C.plotTop)*X.scaleY,0,at?R:U]:[at?P:E,at?m.plotX+C.plotLeft:m.plotY+C.plotTop,at?C.plotLeft:C.plotTop,at?C.plotLeft+C.plotWidth:C.plotTop+C.plotHeight])},pt=tt("y"),ot=tt("x");tt=!!m.negative,!C.polar&&C.hoverSeries&&C.hoverSeries.yAxis&&C.hoverSeries.yAxis.reversed&&(tt=!tt);var K=!this.followPointer&&I(m.ttBelow,!C.inverted===tt),gt=function(ut,at,Ct,vt,ct,Tt,kt){var Ft=o?"y"===ut?A*X.scaleY:A*X.scaleX:A,Ot=(Ct-vt)/2,jt=vt<ct-A,$t=ct+A+vt<at,Wt=ct-Ft-Ct+Ot;if(ct=ct+Ft-Ot,K&&$t)k[ut]=ct;else if(!K&&jt)k[ut]=Wt;else if(jt)k[ut]=Math.min(kt-vt,0>Wt-f?Wt:Wt-f);else{if(!$t)return!1;k[ut]=Math.max(Tt,ct+f+Ct>at?ct:ct+f)}},yt=function(ut,at,Ct,vt,ct){var Tt;return ct<A||ct>at-A?Tt=!1:k[ut]=ct<Ct/2?1:ct>at-vt/2?at-vt-2:ct-Ct/2,Tt},_t=function(ut){var at=pt;pt=ot,ot=at,W=ut},rt=function(){!1!==gt.apply(0,pt)?!1!==yt.apply(0,ot)||W||(_t(!0),rt()):W?k.x=k.y=0:(_t(!0),rt())};return(C.inverted||1<this.len)&&_t(),rt(),k},D.prototype.hide=function(P){var E=this;j.clearTimeout(this.hideTimer),P=I(P,this.options.hideDelay),this.isHidden||(this.hideTimer=n(function(){E.getLabel().fadeOut(P&&void 0),E.isHidden=!0},P))},D.prototype.init=function(P,E){this.chart=P,this.options=E,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=E.split&&!P.inverted&&!P.polar,this.shared=E.shared||this.split,this.outside=I(E.outside,!(!P.scrollablePixelsX&&!P.scrollablePixelsY))},D.prototype.shouldStickOnContact=function(P){return!(this.followPointer||!this.options.stickOnContact||P&&!this.chart.pointer.inClass(P.target,"highcharts-tooltip"))},D.prototype.move=function(P,E,m,C){var A=this,k=A.now,f=!1!==A.options.animation&&!A.isHidden&&(1<Math.abs(P-k.x)||1<Math.abs(E-k.y)),o=A.followPointer||1<A.len;p(k,{x:f?(2*k.x+P)/3:P,y:f?(k.y+E)/2:E,anchorX:o?void 0:f?(2*k.anchorX+m)/3:m,anchorY:o?void 0:f?(k.anchorY+C)/2:C}),A.getLabel().attr(k),A.drawTracker(),f&&(j.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){A&&A.move(P,E,m,C)},32))},D.prototype.refresh=function(P,E){var m=this.chart,C=this.options,A=m.pointer,k=h(P),f=k[0],o=[],R=C.formatter||this.defaultFormatter,U=this.shared,X=m.styledMode,tt={};if(C.enabled&&f.series){j.clearTimeout(this.hideTimer),this.allowShared=!(!d(P)&&P.series&&P.series.noSharedTooltip),this.followPointer=!this.split&&f.series.tooltipOptions.followPointer;var pt=(P=this.getAnchor(P,E))[0],ot=P[1];if(U&&this.allowShared?(A.applyInactiveState(k),k.forEach(function(gt){gt.setState("hover"),o.push(gt.getLabelConfig())}),(tt={x:f.category,y:f.y}).points=o):tt=f.getLabelConfig(),this.len=o.length,R=R.call(tt,this),this.distance=I((U=f.series).tooltipOptions.distance,16),!1===R)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(R,k);else{var W=pt,K=ot;if(E&&A.isDirectTouch&&(W=E.chartX-m.plotLeft,K=E.chartY-m.plotTop),!m.polar&&!1!==U.options.clip&&!k.some(function(gt){return A.isDirectTouch||gt.series.shouldShowTooltip(W,K)}))return void this.hide();E=this.getLabel(),C.style.width&&!X||E.css({width:m.spacingBox.width+"px"}),E.attr({text:R&&R.join?R.join(""):R}),E.addClass(this.getClassName(f),!0),X||E.attr({stroke:C.borderColor||f.color||U.color||"#666666"}),this.updatePosition({plotX:pt,plotY:ot,negative:f.negative,ttBelow:f.ttBelow,h:P[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}l(this,"refresh")}},D.prototype.renderSplit=function(P,E){function m($t,Wt,ne,Jt,Nt){return void 0===Nt&&(Nt=!0),ne?(Wt=vt?0:Ft,$t=F($t-Jt/2,ut.left,ut.right-Jt-(C.outside?ct:0))):(Wt-=Tt,$t=F($t=Nt?$t-Jt-yt:$t+yt,Nt?$t:ut.left,ut.right)),{x:$t,y:Wt}}var C=this,A=C.chart,k=C.chart,f=k.chartWidth,o=k.chartHeight,R=k.plotHeight,U=k.plotLeft,X=k.plotTop,tt=k.pointer,pt=k.scrollablePixelsY;pt=void 0===pt?0:pt;var W=k.scrollingContainer,K=(W=void 0===W?{scrollLeft:0,scrollTop:0}:W).scrollLeft;W=W.scrollTop;var gt=k.styledMode,yt=C.distance,_t=C.options,rt=C.options.positioner,ut=C.outside&&"number"!=typeof k.scrollablePixelsX?Y.documentElement.getBoundingClientRect():{left:K,right:K+f,top:W,bottom:W+o},at=C.getLabel(),Ct=this.renderer||A.renderer,vt=!(!A.xAxis[0]||!A.xAxis[0].opposite),ct=(A=tt.getChartPosition()).left;A=A.top;var Tt=X+W,kt=0,Ft=R-pt;w(P)&&(P=[!1,P]),P=P.slice(0,E.length+1).reduce(function($t,Wt,ne){if(!1!==Wt&&""!==Wt){var Jt=(ne=E[ne-1]||{isHeader:!0,plotX:E[0].plotX,plotY:R,series:{}}).isHeader,Nt=Jt?C:ne.series;Wt=Wt.toString();var Rt=Nt.tt,ie=ne.isHeader,se=ne.series;Rt||(Rt={padding:_t.padding,r:_t.borderRadius},gt||(Rt.fill=_t.backgroundColor,Rt["stroke-width"]=_t.borderWidth),Rt=Ct.label("",0,0,_t[ie?"headerShape":"shape"],void 0,void 0,_t.useHTML).addClass(C.getClassName(ne,!0,ie)).attr(Rt).add(at)),Rt.isActive=!0,Rt.attr({text:Wt}),gt||Rt.css(_t.style).shadow(_t.shadow).attr({stroke:_t.borderColor||ne.color||se.color||"#333333"}),Wt=(ie=(Nt=Nt.tt=Rt).getBBox()).width+Nt.strokeWidth(),Jt&&(Ft+=kt=ie.height,vt&&(Tt-=kt)),se=void 0===(se=ne.plotX)?0:se,Rt=void 0===(Rt=ne.plotY)?0:Rt;var ce=ne.series;if(ne.isHeader){se=U+se;var te=X+R/2}else{var Ie=ce.xAxis,Ve=ce.yAxis;se=Ie.pos+F(se,-yt,Ie.len+yt),ce.shouldShowTooltip(0,Ve.pos-X+Rt,{ignoreX:!0})&&(te=Ve.pos+Rt)}se=F(se,ut.left-yt,ut.right+yt),"number"==typeof te?(ie=ie.height+1,Rt=rt?rt.call(C,Wt,ie,ne):m(se,te,Jt,Wt),$t.push({align:rt?0:void 0,anchorX:se,anchorY:te,boxWidth:Wt,point:ne,rank:I(Rt.rank,Jt?1:0),size:ie,target:Rt.y,tt:Nt,x:Rt.x})):Nt.isActive=!1}return $t},[]),!rt&&P.some(function($t){var Wt=(C.outside?ct:0)+$t.anchorX;return Wt<ut.left&&Wt+$t.boxWidth<ut.right||Wt<ct-ut.left+$t.boxWidth&&ut.right-Wt>Wt})&&(P=P.map(function($t){var Wt=m($t.anchorX,$t.anchorY,$t.point.isHeader,$t.boxWidth,!1);return p($t,{target:Wt.y,x:Wt.x})})),C.cleanSplit(),z(P,Ft);var Ot=ct,jt=ct;P.forEach(function($t){var Wt=$t.x,ne=$t.boxWidth;($t=$t.isHeader)||(C.outside&&ct+Wt<Ot&&(Ot=ct+Wt),!$t&&C.outside&&Ot+ne>jt&&(jt=ct+Wt))}),P.forEach(function($t){var Wt=$t.x,ne=$t.anchorX,Jt=$t.pos,Nt=$t.point.isHeader;if(Jt={visibility:typeof Jt>"u"?"hidden":"inherit",x:Wt,y:(Jt||0)+Tt,anchorX:ne,anchorY:$t.anchorY},C.outside&&Wt<ne){var Rt=ct-Ot;0<Rt&&(Nt||(Jt.x=Wt+Rt,Jt.anchorX=ne+Rt),Nt&&(Jt.x=(jt-Ot)/2,Jt.anchorX=ne+Rt))}$t.tt.attr(Jt)}),P=C.container,pt=C.renderer,C.outside&&P&&pt&&(k=at.getBBox(),pt.setSize(k.width+k.x,k.height+k.y,!1),P.style.left=Ot+"px",P.style.top=A+"px")},D.prototype.drawTracker=function(){if(this.shouldStickOnContact()){var P=this.chart,E=this.label,m=this.shared?P.hoverPoints:P.hoverPoint;if(E&&m){var C={x:0,y:0,width:0,height:0};m=this.getAnchor(m);var A=E.getBBox();m[0]+=P.plotLeft-E.translateX,m[1]+=P.plotTop-E.translateY,C.x=Math.min(0,m[0]),C.y=Math.min(0,m[1]),C.width=0>m[0]?Math.max(Math.abs(m[0]),A.width-m[0]):Math.max(Math.abs(m[0]),A.width),C.height=0>m[1]?Math.max(Math.abs(m[1]),A.height-Math.abs(m[1])):Math.max(Math.abs(m[1]),A.height),this.tracker?this.tracker.attr(C):(this.tracker=E.renderer.rect(C).addClass("highcharts-tracker").add(E),P.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&this.tracker.destroy()},D.prototype.styledModeFormat=function(P){return P.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')},D.prototype.tooltipFooterHeaderFormatter=function(P,E){var m=P.series,C=m.tooltipOptions,A=m.xAxis,k=A&&A.dateTime,f=C.xDateFormat,o=C[E?"footerFormat":"headerFormat"];return l(this,"headerFormatter",A={isFooter:E,labelConfig:P},function(R){k&&!f&&_(P.key)&&(f=k.getXDateFormat(P.key,C.dateTimeLabelFormats)),k&&f&&(P.point&&P.point.tooltipDateKeys||["key"]).forEach(function(U){o=o.replace("{point."+U+"}","{point."+U+":"+f+"}")}),m.chart.styledMode&&(o=this.styledModeFormat(o)),R.text=G(o,{point:P,series:m},this.chart)}),A.text},D.prototype.update=function(P){this.destroy(),x(!0,this.chart.options.tooltip.userOptions,P),this.init(this.chart,x(!0,this.options,P))},D.prototype.updatePosition=function(P){var E=this.chart,m=this.distance,C=this.options,A=E.pointer,k=this.getLabel(),f=A.getChartPosition();A=f.left;var o=f.top,R=f.scaleX;f=f.scaleY;var U=(C.positioner||this.getPosition).call(this,k.width,k.height,P),X=(P.plotX||0)+E.plotLeft;P=(P.plotY||0)+E.plotTop,this.outside&&(C.positioner&&(U.x+=A-m,U.y+=o-m),this.renderer.setSize(k.width+(m=C.borderWidth+2*m),k.height+m,!1),(1!==R||1!==f)&&(N(this.container,{transform:"scale(".concat(R,", ").concat(f,")")}),X*=R,P*=f),X+=A-U.x,P+=o-U.y),this.move(Math.round(U.x),Math.round(U.y||0),X,P)},D}()}),e(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],function(s,c,T,M,j){var G=c.animObject,Y=T.defaultOptions,z=M.format,F=j.addEvent,N=j.defined,a=j.erase,p=j.extend,l=j.fireEvent,d=j.getNestedProperty,_=j.isArray,w=j.isFunction,x=j.isNumber,I=j.isObject,h=j.merge,n=j.objectEach,D=j.pick,P=j.syncTimeout,E=j.removeEvent,m=j.uniqueKey;return function(){function C(){this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}return C.prototype.animateBeforeDestroy=function(){var A=this,k={x:A.startXPos,opacity:0},f=A.getGraphicalProps();f.singular.forEach(function(o){A[o]=A[o].animate("dataLabel"===o?{x:A[o].startXPos,y:A[o].startYPos,opacity:0}:k)}),f.plural.forEach(function(o){A[o].forEach(function(R){R.element&&R.animate(p({x:A.startXPos},R.startYPos?{x:R.startXPos,y:R.startYPos}:{}))})})},C.prototype.applyOptions=function(A,k){var f=this.series,o=f.options.pointValKey||f.pointValKey;return A=C.prototype.optionsToObject.call(this,A),p(this,A),this.options=this.options?p(this.options,A):A,A.group&&delete this.group,A.dataLabels&&delete this.dataLabels,o&&(this.y=C.prototype.getNestedProperty.call(this,o)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof k>"u"&&f.xAxis&&f.xAxis.hasNames&&(this.x=f.xAxis.nameToX(this)),typeof this.x>"u"&&f?this.x=typeof k>"u"?f.autoIncrement():k:x(A.x)&&f.options.relativeXValue&&(this.x=f.autoIncrement(A.x)),this},C.prototype.destroy=function(){function A(){for(X in(k.graphic||k.graphics||k.dataLabel||k.dataLabels)&&(E(k),k.destroyElements()),k)k[X]=null}var k=this,f=k.series,o=f.chart;f=f.options.dataSorting;var X,R=o.hoverPoints,U=G(k.series.chart.renderer.globalAnimation);k.legendItem&&o.legend.destroyItem(k),R&&(k.setState(),a(R,k),R.length||(o.hoverPoints=null)),k===o.hoverPoint&&k.onMouseOut(),f&&f.enabled?(this.animateBeforeDestroy(),P(A,U.duration)):A(),o.pointCount--},C.prototype.destroyElements=function(A){var k=this;(A=k.getGraphicalProps(A)).singular.forEach(function(f){k[f]=k[f].destroy()}),A.plural.forEach(function(f){k[f].forEach(function(o){o&&o.element&&o.destroy()}),delete k[f]})},C.prototype.firePointEvent=function(A,k,f){var o=this,R=this.series.options;(R.point.events[A]||o.options&&o.options.events&&o.options.events[A])&&o.importEvents(),"click"===A&&R.allowPointSelect&&(f=function(U){o.select&&o.select(null,U.ctrlKey||U.metaKey||U.shiftKey)}),l(o,A,k,f)},C.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},C.prototype.getGraphicalProps=function(A){var R,k=this,f=[],o={singular:[],plural:[]};for((A=A||{graphic:1,dataLabel:1}).graphic&&f.push("graphic","shadowGroup"),A.dataLabel&&f.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),R=f.length;R--;){var U=f[R];k[U]&&o.singular.push(U)}return["graphic","dataLabel","connector"].forEach(function(X){var tt=X+"s";A[X]&&k[tt]&&o.plural.push(tt)}),o},C.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},C.prototype.getNestedProperty=function(A){if(A)return 0===A.indexOf("custom.")?d(A,this.options):this[A]},C.prototype.getZone=function(){var A=this.series,k=A.zones;A=A.zoneAxis||"y";var f,o=0;for(f=k[o];this[A]>=f.value;)f=k[++o];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=f&&f.color&&!this.options.color?f.color:this.nonZonedColor,f},C.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},C.prototype.init=function(A,k,f){return this.series=A,this.applyOptions(k,f),this.id=N(this.id)?this.id:m(),this.resolveColor(),A.chart.pointCount++,l(this,"afterInit"),this},C.prototype.isValid=function(){return null!==this.x&&x(this.y)},C.prototype.optionsToObject=function(A){var k=this.series,f=k.options.keys,o=f||k.pointArrayMap||["y"],R=o.length,U={},X=0,tt=0;if(x(A)||null===A)U[o[0]]=A;else if(_(A))for(!f&&A.length>R&&("string"==(k=typeof A[0])?U.name=A[0]:"number"===k&&(U.x=A[0]),X++);tt<R;)f&&typeof A[X]>"u"||(0<o[tt].indexOf(".")?C.prototype.setNestedProperty(U,A[X],o[tt]):U[o[tt]]=A[X]),X++,tt++;else"object"==typeof A&&(U=A,A.dataLabels&&(k._hasPointLabels=!0),A.marker&&(k._hasPointMarkers=!0));return U},C.prototype.pos=function(A,k){void 0===k&&(k=this.plotY);var f=this.plotX,o=this.series,R=o.chart,U=o.xAxis;o=o.yAxis;var X=0,tt=0;if(x(f)&&x(k))return A&&(X=U?U.pos:R.plotLeft,tt=o?o.pos:R.plotTop),R.inverted&&U&&o?[o.len-k+tt,U.len-f+X]:[f+X,k+tt]},C.prototype.resolveColor=function(){var A=this.series,k=A.chart.styledMode,f=A.chart.options.chart.colorCount;if(delete this.nonZonedColor,A.options.colorByPoint){if(!k){var o=(f=A.options.colors||A.chart.options.colors)[A.colorCounter];f=f.length}k=A.colorCounter,A.colorCounter++,A.colorCounter===f&&(A.colorCounter=0)}else k||(o=A.color),k=A.colorIndex;this.colorIndex=D(this.options.colorIndex,k),this.color=D(this.options.color,o)},C.prototype.setNestedProperty=function(A,k,f){return f.split(".").reduce(function(o,R,U,X){return o[R]=X.length-1===U?k:I(o[R],!0)?o[R]:{},o[R]},A),A},C.prototype.shouldDraw=function(){return!this.isNull},C.prototype.tooltipFormatter=function(A){var k=this.series,f=k.tooltipOptions,o=D(f.valueDecimals,""),R=f.valuePrefix||"",U=f.valueSuffix||"";return k.chart.styledMode&&(A=k.chart.tooltip.styledModeFormat(A)),(k.pointArrayMap||["y"]).forEach(function(X){X="{point."+X,(R||U)&&(A=A.replace(RegExp(X+"}","g"),R+X+"}"+U)),A=A.replace(RegExp(X+"}","g"),X+":,."+o+"f}")}),z(A,{point:this,series:this.series},k.chart)},C.prototype.update=function(A,k,f,o){function R(){U.applyOptions(A);var K=tt&&U.hasMockGraphic;K=null===U.y?!K:K,tt&&K&&(U.graphic=tt.destroy(),delete U.hasMockGraphic),I(A,!0)&&(tt&&tt.element&&A&&A.marker&&typeof A.marker.symbol<"u"&&(U.graphic=tt.destroy()),A&&A.dataLabels&&U.dataLabel&&(U.dataLabel=U.dataLabel.destroy()),U.connector&&(U.connector=U.connector.destroy())),X.updateParallelArrays(U,W=U.index),ot.data[W]=I(ot.data[W],!0)||I(A,!0)?U.options:D(A,ot.data[W]),X.isDirty=X.isDirtyData=!0,!X.fixedBox&&X.hasCartesianSeries&&(pt.isDirtyBox=!0),"point"===ot.legendType&&(pt.isDirtyLegend=!0),k&&pt.redraw(f)}var W,U=this,X=U.series,tt=U.graphic,pt=X.chart,ot=X.options;k=D(k,!0),!1===o?R():U.firePointEvent("update",{options:A},R)},C.prototype.remove=function(A,k){this.series.removePoint(this.series.data.indexOf(this),A,k)},C.prototype.select=function(A,k){var f=this,o=f.series,R=o.chart;this.selectedStaging=A=D(A,!f.selected),f.firePointEvent(A?"select":"unselect",{accumulate:k},function(){f.selected=f.options.selected=A,o.options.data[o.data.indexOf(f)]=f.options,f.setState(A&&"select"),k||R.getSelectedPoints().forEach(function(U){var X=U.series;U.selected&&U!==f&&(U.selected=U.options.selected=!1,X.options.data[X.data.indexOf(U)]=U.options,U.setState(R.hoverPoints&&X.options.inactiveOtherPoints?"inactive":""),U.firePointEvent("unselect"))})}),delete this.selectedStaging},C.prototype.onMouseOver=function(A){var k=this.series.chart,f=k.pointer;A=A?f.normalize(A):f.getChartCoordinatesFromPoint(this,k.inverted),f.runPointActions(A,this)},C.prototype.onMouseOut=function(){var A=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(A.hoverPoints||[]).forEach(function(k){k.setState()}),A.hoverPoints=A.hoverPoint=null},C.prototype.importEvents=function(){if(!this.hasImportedEvents){var A=this,k=h(A.series.options.point,A.options).events;A.events=k,n(k,function(f,o){w(f)&&F(A,o,f)}),this.hasImportedEvents=!0}},C.prototype.setState=function(A,k){var yt,f=this.series,o=this.state,R=f.options.states[A||"normal"]||{},U=Y.plotOptions[f.type].marker&&f.options.marker,tt=U&&U.states&&U.states[A||"normal"]||{},ot=this.marker||{},W=f.chart,K=U&&f.markerAttribs,gt=f.halo,_t=f.stateMarkerGraphic;if(!((A=A||"")===this.state&&!k||this.selected&&"select"!==A||!1===R.enabled||A&&(!1===tt.enabled||U&&!1===U.enabled&&!1===tt.enabled)||A&&ot.states&&ot.states[A]&&!1===ot.states[A].enabled)){if(this.state=A,K&&(yt=f.markerAttribs(this,A)),this.graphic&&!this.hasMockGraphic){if(o&&this.graphic.removeClass("highcharts-point-"+o),A&&this.graphic.addClass("highcharts-point-"+A),!W.styledMode){o=f.pointAttribs(this,A);var rt=D(W.options.chart.animation,R.animation),ut=o.opacity;f.options.inactiveOtherPoints&&x(ut)&&((this.dataLabels||[]).forEach(function(at){at&&!at.hasClass("highcharts-data-label-hidden")&&at.animate({opacity:ut},rt)}),this.connector&&this.connector.animate({opacity:ut},rt)),this.graphic.animate(o,rt)}yt&&this.graphic.animate(yt,D(W.options.chart.animation,tt.animation,U.animation)),_t&&_t.hide()}else A&&tt&&(U=ot.symbol||f.symbol,_t&&_t.currentSymbol!==U&&(_t=_t.destroy()),yt&&(_t?_t[k?"animate":"attr"]({x:yt.x,y:yt.y}):U&&(f.stateMarkerGraphic=_t=W.renderer.symbol(U,yt.x,yt.y,yt.width,yt.height).add(f.markerGroup),_t.currentSymbol=U)),!W.styledMode&&_t&&"inactive"!==this.state&&_t.attr(f.pointAttribs(this,A))),_t&&(_t[A&&this.isInside?"show":"hide"](),_t.element.point=this,_t.addClass(this.getClassName(),!0));yt=(_t=this.graphic||_t)&&_t.visibility||"inherit",(R=R.halo)&&R.size&&_t&&"hidden"!==yt&&!this.isCluster?(gt||(f.halo=gt=W.renderer.path().add(_t.parentGroup)),gt.show()[k?"animate":"attr"]({d:this.haloPath(R.size)}),gt.attr({class:"highcharts-halo highcharts-color-"+D(this.colorIndex,f.colorIndex)+(this.className?" "+this.className:""),visibility:yt,zIndex:-1}),gt.point=this,W.styledMode||gt.attr(p({fill:this.color||f.color,"fill-opacity":R.opacity},s.filterUserAttributes(R.attributes||{})))):gt&&gt.point&&gt.point.haloPath&&gt.animate({d:gt.point.haloPath(0)},null,gt.hide),l(this,"afterSetState",{state:A})}},C.prototype.haloPath=function(A){var k=this.pos();return k?this.series.chart.renderer.symbols.circle(Math.floor(k[0])-A,k[1]-A,2*A,2*A):[]},C}()}),e(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Tooltip.js"],i["Core/Utilities.js"]],function(s,c,T,M){var j=s.parse,G=c.charts,Y=c.noop,z=M.addEvent,F=M.attr,N=M.css,a=M.defined,p=M.extend,l=M.find,d=M.fireEvent,_=M.isNumber,w=M.isObject,x=M.objectEach,I=M.offset,h=M.pick,n=M.splat;return function(){function D(P,E){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=P,this.hasDragged=!1,this.options=E,this.init(P,E)}return D.prototype.applyInactiveState=function(P){var m,E=[];(P||[]).forEach(function(C){E.push(m=C.series),m.linkedParent&&E.push(m.linkedParent),m.linkedSeries&&(E=E.concat(m.linkedSeries)),m.navigatorSeries&&E.push(m.navigatorSeries)}),this.chart.series.forEach(function(C){-1===E.indexOf(C)?C.setState("inactive",!0):C.options.inactiveOtherPoints&&C.setAllPointsToState("inactive")})},D.prototype.destroy=function(){var P=this;this.eventsToUnbind.forEach(function(E){return E()}),this.eventsToUnbind=[],c.chartCount||(D.unbindDocumentMouseUp&&(D.unbindDocumentMouseUp=D.unbindDocumentMouseUp()),D.unbindDocumentTouchEnd&&(D.unbindDocumentTouchEnd=D.unbindDocumentTouchEnd())),clearInterval(P.tooltipTimeout),x(P,function(E,m){P[m]=void 0})},D.prototype.getSelectionMarkerAttrs=function(P,E){var m=this,C={args:{chartX:P,chartY:E},attrs:{},shapeType:"rect"};return d(this,"getSelectionMarkerAttrs",C,function(A){var k=m.chart,f=m.mouseDownX;f=void 0===f?0:f;var o=m.mouseDownY;o=void 0===o?0:o;var R=m.zoomHor,U=m.zoomVert;(A=A.attrs).x=k.plotLeft,A.y=k.plotTop,A.width=R?1:k.plotWidth,A.height=U?1:k.plotHeight,R&&(k=P-f,A.width=Math.abs(k),A.x=(0<k?0:k)+f),U&&(k=E-o,A.height=Math.abs(k),A.y=(0<k?0:k)+o)}),C},D.prototype.drag=function(P){var E=this.chart,m=E.options.chart,C=E.plotLeft,A=E.plotTop,k=E.plotWidth,f=E.plotHeight,o=this.mouseDownX||0,R=this.mouseDownY||0,U=w(m.panning)?m.panning&&m.panning.enabled:m.panning,X=m.panKey&&P[m.panKey+"Key"],tt=P.chartX,pt=P.chartY,ot=this.selectionMarker;ot&&ot.touch||(tt<C?tt=C:tt>C+k&&(tt=C+k),pt<A?pt=A:pt>A+f&&(pt=A+f),this.hasDragged=Math.sqrt(Math.pow(o-tt,2)+Math.pow(R-pt,2)),10<this.hasDragged&&(C=E.isInsidePlot(o-C,R-A,{visiblePlotOnly:!0}),tt=(pt=this.getSelectionMarkerAttrs(tt,pt)).shapeType,pt=pt.attrs,!E.hasCartesianSeries&&!E.mapView||!this.zoomX&&!this.zoomY||!C||X||ot||(this.selectionMarker=ot=E.renderer[tt](),ot.attr({class:"highcharts-selection-marker",zIndex:7}).add(),E.styledMode||ot.attr({fill:m.selectionMarkerFill||j("#335cad").setOpacity(.25).get()})),ot&&ot.attr(pt),C&&!ot&&U&&E.pan(P,m.panning)))},D.prototype.dragStart=function(P){var E=this.chart;E.mouseIsDown=P.type,E.cancelClick=!1,E.mouseDownX=this.mouseDownX=P.chartX,E.mouseDownY=this.mouseDownY=P.chartY},D.prototype.getSelectionBox=function(P){var E={args:{marker:P},result:{}};return d(this,"getSelectionBox",E,function(m){m.result={x:P.attr?+P.attr("x"):P.x,y:P.attr?+P.attr("y"):P.y,width:P.attr?P.attr("width"):P.width,height:P.attr?P.attr("height"):P.height}}),E.result},D.prototype.drop=function(P){var E=this,m=this.chart,C=this.hasPinched;if(this.selectionMarker){var A=this.getSelectionBox(this.selectionMarker),k=A.x,f=A.y,o=A.width,R=A.height,U={originalEvent:P,xAxis:[],yAxis:[],x:k,y:f,width:o,height:R},X=!!m.mapView;(this.hasDragged||C)&&(m.axes.forEach(function(tt){if(tt.zoomEnabled&&a(tt.min)&&(C||E[{xAxis:"zoomX",yAxis:"zoomY"}[tt.coll]])&&_(k)&&_(f)&&_(o)&&_(R)){var pt=tt.horiz,ot="touchend"===P.type?tt.minPixelPadding:0,W=tt.toValue((pt?k:f)+ot);pt=tt.toValue((pt?k+o:f+R)-ot),U[tt.coll].push({axis:tt,min:Math.min(W,pt),max:Math.max(W,pt)}),X=!0}}),X&&d(m,"selection",U,function(tt){m.zoom(p(tt,C?{animation:!1}:null))})),_(m.index)&&(this.selectionMarker=this.selectionMarker.destroy()),C&&this.scaleGroups()}m&&_(m.index)&&(N(m.container,{cursor:m._cursor}),m.cancelClick=10<this.hasDragged,m.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},D.prototype.findNearestKDPoint=function(P,E,m){var C;return P.forEach(function(A){var k=!(A.noSharedTooltip&&E)&&0>A.options.findNearestPointBy.indexOf("y");if(A=A.searchPoint(m,k),(k=w(A,!0)&&A.series)&&!(k=!w(C,!0))){var f=C.dist-A.dist,o=(A.series.group&&A.series.group.zIndex)-(C.series.group&&C.series.group.zIndex);k=0<(0!=(k=C.distX-A.distX)&&E?k:0!==f?f:0!==o?o:C.series.index>A.series.index?-1:1)}k&&(C=A)}),C},D.prototype.getChartCoordinatesFromPoint=function(P,E){var m=P.series,C=m.xAxis;m=m.yAxis;var A=P.shapeArgs;if(C&&m){var k=h(P.clientX,P.plotX),f=P.plotY||0;return P.isNode&&A&&_(A.x)&&_(A.y)&&(k=A.x,f=A.y),E?{chartX:m.len+m.pos-f,chartY:C.len+C.pos-k}:{chartX:k+C.pos,chartY:f+m.pos}}if(A&&A.x&&A.y)return{chartX:A.x,chartY:A.y}},D.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var P=this.chart.container,E=I(P);this.chartPosition={left:E.left,top:E.top,scaleX:1,scaleY:1};var m=P.offsetWidth;return P=P.offsetHeight,2<m&&2<P&&(this.chartPosition.scaleX=E.width/m,this.chartPosition.scaleY=E.height/P),this.chartPosition},D.prototype.getCoordinates=function(P){var E={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(m){E[m.isXAxis?"xAxis":"yAxis"].push({axis:m,value:m.toValue(P[m.horiz?"chartX":"chartY"])})}),E},D.prototype.getHoverData=function(P,E,m,C,A,k){var f=[];C=!(!C||!P);var o=function(tt){return tt.visible&&!(!A&&tt.directTouch)&&h(tt.options.enableMouseTracking,!0)},R={chartX:k?k.chartX:void 0,chartY:k?k.chartY:void 0,shared:A};d(this,"beforeGetHoverData",R);var U=E&&!E.stickyTracking?[E]:m.filter(function(tt){return tt.stickyTracking&&(R.filter||o)(tt)}),X=C||!k?P:this.findNearestKDPoint(U,A,k);return E=X&&X.series,X&&(A&&!E.noSharedTooltip?(U=m.filter(function(tt){return R.filter?R.filter(tt):o(tt)&&!tt.noSharedTooltip})).forEach(function(tt){var pt=l(tt.points,function(ot){return ot.x===X.x&&!ot.isNull});w(pt)&&(tt.boosted&&tt.boost&&(pt=tt.boost.getPoint(pt)),f.push(pt))}):f.push(X)),d(this,"afterGetHoverData",R={hoverPoint:X}),{hoverPoint:R.hoverPoint,hoverSeries:E,hoverPoints:f}},D.prototype.getPointFromEvent=function(P){P=P.target;for(var E;P&&!E;)E=P.point,P=P.parentNode;return E},D.prototype.onTrackerMouseOut=function(P){P=P.relatedTarget||P.toElement;var E=this.chart.hoverSeries;this.isDirectTouch=!1,!E||!P||E.stickyTracking||this.inClass(P,"highcharts-tooltip")||this.inClass(P,"highcharts-series-"+E.index)&&this.inClass(P,"highcharts-tracker")||E.onMouseOut()},D.prototype.inClass=function(P,E){for(var m;P;){if(m=F(P,"class")){if(-1!==m.indexOf(E))return!0;if(-1!==m.indexOf("highcharts-container"))return!1}P=P.parentElement}},D.prototype.init=function(P,E){this.options=E,this.chart=P,this.runChartClick=!(!E.chart.events||!E.chart.events.click),this.pinchDown=[],this.lastValidTouch={},T&&(P.tooltip=new T(P,E.tooltip)),this.setDOMEvents()},D.prototype.normalize=function(P,E){var m=P.touches,C=m?m.length?m.item(0):h(m.changedTouches,P.changedTouches)[0]:P;return E||(E=this.getChartPosition()),m=C.pageX-E.left,C=C.pageY-E.top,m/=E.scaleX,C/=E.scaleY,p(P,{chartX:Math.round(m),chartY:Math.round(C)})},D.prototype.onContainerClick=function(P){var E=this.chart,m=E.hoverPoint;P=this.normalize(P);var C=E.plotLeft,A=E.plotTop;E.cancelClick||(m&&this.inClass(P.target,"highcharts-tracker")?(d(m.series,"click",p(P,{point:m})),E.hoverPoint&&m.firePointEvent("click",P)):(p(P,this.getCoordinates(P)),E.isInsidePlot(P.chartX-C,P.chartY-A,{visiblePlotOnly:!0})&&d(E,"click",P)))},D.prototype.onContainerMouseDown=function(P){var E=1==(1&(P.buttons||P.button));P=this.normalize(P),c.isFirefox&&0!==P.button&&this.onContainerMouseMove(P),(typeof P.button>"u"||E)&&(this.zoomOption(P),E&&P.preventDefault&&P.preventDefault(),this.dragStart(P))},D.prototype.onContainerMouseLeave=function(P){var E=G[h(D.hoverChartIndex,-1)],m=this.chart.tooltip;P=this.normalize(P),E&&(P.relatedTarget||P.toElement)&&(E.pointer.reset(),E.pointer.chartPosition=void 0),m&&!m.isHidden&&this.reset()},D.prototype.onContainerMouseEnter=function(P){delete this.chartPosition},D.prototype.onContainerMouseMove=function(P){var E=this.chart,m=E.tooltip;P=this.normalize(P),this.setHoverChartIndex(),P.preventDefault||(P.returnValue=!1),("mousedown"===E.mouseIsDown||this.touchSelect(P))&&this.drag(P),E.openMenu||!this.inClass(P.target,"highcharts-tracker")&&!E.isInsidePlot(P.chartX-E.plotLeft,P.chartY-E.plotTop,{visiblePlotOnly:!0})||m&&m.shouldStickOnContact(P)||(this.inClass(P.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(P))},D.prototype.onDocumentTouchEnd=function(P){var E=G[h(D.hoverChartIndex,-1)];E&&E.pointer.drop(P)},D.prototype.onContainerTouchMove=function(P){this.touchSelect(P)?this.onContainerMouseMove(P):this.touch(P)},D.prototype.onContainerTouchStart=function(P){this.touchSelect(P)?this.onContainerMouseDown(P):(this.zoomOption(P),this.touch(P,!0))},D.prototype.onDocumentMouseMove=function(P){var E=this.chart,m=E.tooltip,C=this.chartPosition;P=this.normalize(P,C),!C||E.isInsidePlot(P.chartX-E.plotLeft,P.chartY-E.plotTop,{visiblePlotOnly:!0})||m&&m.shouldStickOnContact(P)||this.inClass(P.target,"highcharts-tracker")||this.reset()},D.prototype.onDocumentMouseUp=function(P){var E=G[h(D.hoverChartIndex,-1)];E&&E.pointer.drop(P)},D.prototype.pinch=function(P){var E=this,m=E.chart,C=E.pinchDown,A=P.touches||[],k=A.length,f=E.lastValidTouch,o=E.hasZoom,R={},U=1===k&&(E.inClass(P.target,"highcharts-tracker")&&m.runTrackerClick||E.runChartClick),X={},tt=E.chart.tooltip;tt=1===k&&h(tt&&tt.options.followTouchMove,!0);var pt=E.selectionMarker;1<k?E.initiated=!0:tt&&(E.initiated=!1),o&&E.initiated&&!U&&!1!==P.cancelable&&P.preventDefault(),[].map.call(A,function(ot){return E.normalize(ot)}),"touchstart"===P.type?([].forEach.call(A,function(ot,W){C[W]={chartX:ot.chartX,chartY:ot.chartY}}),f.x=[C[0].chartX,C[1]&&C[1].chartX],f.y=[C[0].chartY,C[1]&&C[1].chartY],m.axes.forEach(function(ot){if(ot.zoomEnabled){var W=m.bounds[ot.horiz?"h":"v"],K=ot.minPixelPadding,gt=ot.toPixels(Math.min(h(ot.options.min,ot.dataMin),ot.dataMin)),yt=ot.toPixels(Math.max(h(ot.options.max,ot.dataMax),ot.dataMax)),_t=Math.max(gt,yt);W.min=Math.min(ot.pos,Math.min(gt,yt)-K),W.max=Math.max(ot.pos+ot.len,_t+K)}}),E.res=!0):tt?this.runPointActions(E.normalize(P)):C.length&&(d(m,"touchpan",{originalEvent:P},function(){pt||(E.selectionMarker=pt=p({destroy:Y,touch:!0},m.plotBox)),E.pinchTranslate(C,A,R,pt,X,f),E.hasPinched=o,E.scaleGroups(R,X)}),E.res&&(E.res=!1,this.reset(!1,0)))},D.prototype.pinchTranslate=function(P,E,m,C,A,k){this.zoomHor&&this.pinchTranslateDirection(!0,P,E,m,C,A,k),this.zoomVert&&this.pinchTranslateDirection(!1,P,E,m,C,A,k)},D.prototype.pinchTranslateDirection=function(P,E,m,C,A,k,f,o){var R=this.chart,U=P?"x":"y",X=P?"X":"Y",tt="chart"+X,pt=P?"width":"height",ot=R["plot"+(P?"Left":"Top")],W=R.inverted,K=R.bounds[P?"h":"v"],gt=1===E.length,yt=E[0][tt],_t=!gt&&E[1][tt];E=function(){"number"==typeof vt&&20<Math.abs(yt-_t)&&(at=o||Math.abs(Ct-vt)/Math.abs(yt-_t)),ut=(ot-Ct)/at+yt,rt=R["plot"+(P?"Width":"Height")]/at};var rt,ut,at=o||1,Ct=m[0][tt],vt=!gt&&m[1][tt];if(E(),(m=ut)<K.min){m=K.min;var ct=!0}else m+rt>K.max&&(m=K.max-rt,ct=!0);ct?(Ct-=.8*(Ct-f[U][0]),"number"==typeof vt&&(vt-=.8*(vt-f[U][1])),E()):f[U]=[Ct,vt],W||(k[U]=ut-ot,k[pt]=rt),k=W?1/at:at,A[pt]=rt,A[U]=m,C[W?P?"scaleY":"scaleX":"scale"+X]=at,C["translate"+X]=k*ot+(Ct-k*yt)},D.prototype.reset=function(P,E){var m=this.chart,C=m.hoverSeries,A=m.hoverPoint,k=m.hoverPoints,f=m.tooltip,o=f&&f.shared?k:A;P&&o&&n(o).forEach(function(R){R.series.isCartesian&&typeof R.plotX>"u"&&(P=!1)}),P?f&&o&&n(o).length&&(f.refresh(o),f.shared&&k?k.forEach(function(R){R.setState(R.state,!0),R.series.isCartesian&&(R.series.xAxis.crosshair&&R.series.xAxis.drawCrosshair(null,R),R.series.yAxis.crosshair&&R.series.yAxis.drawCrosshair(null,R))}):A&&(A.setState(A.state,!0),m.axes.forEach(function(R){R.crosshair&&A.series[R.coll]===R&&R.drawCrosshair(null,A)}))):(A&&A.onMouseOut(),k&&k.forEach(function(R){R.setState()}),C&&C.onMouseOut(),f&&f.hide(E),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),m.axes.forEach(function(R){R.hideCrosshair()}),this.hoverX=m.hoverPoints=m.hoverPoint=null)},D.prototype.runPointActions=function(P,E,m){var C=this.chart,A=C.tooltip&&C.tooltip.options.enabled?C.tooltip:void 0,k=!!A&&A.shared,f=E||C.hoverPoint,o=f&&f.series||C.hoverSeries;E=this.getHoverData(f,o,C.series,(!P||"touchmove"!==P.type)&&(!!E||o&&o.directTouch&&this.isDirectTouch),k,P),f=E.hoverPoint;var R=E.hoverPoints;E=(o=E.hoverSeries)&&o.tooltipOptions.followPointer&&!o.tooltipOptions.split;var U=k&&o&&!o.noSharedTooltip;if(f&&(m||f!==C.hoverPoint||A&&A.isHidden)){if((C.hoverPoints||[]).forEach(function(X){-1===R.indexOf(X)&&X.setState()}),C.hoverSeries!==o&&o.onMouseOver(),this.applyInactiveState(R),(R||[]).forEach(function(X){X.setState("hover")}),C.hoverPoint&&C.hoverPoint.firePointEvent("mouseOut"),!f.series)return;C.hoverPoints=R,C.hoverPoint=f,f.firePointEvent("mouseOver",void 0,function(){A&&f&&A.refresh(U?R:f,P)})}else E&&A&&!A.isHidden&&(m=A.getAnchor([{}],P),C.isInsidePlot(m[0],m[1],{visiblePlotOnly:!0})&&A.updatePosition({plotX:m[0],plotY:m[1]}));this.unDocMouseMove||(this.unDocMouseMove=z(C.container.ownerDocument,"mousemove",function(X){var tt=G[D.hoverChartIndex];tt&&tt.pointer.onDocumentMouseMove(X)}),this.eventsToUnbind.push(this.unDocMouseMove)),C.axes.forEach(function(X){var pt,tt=h((X.crosshair||{}).snap,!0);tt&&((pt=C.hoverPoint)&&pt.series[X.coll]===X||(pt=l(R,function(ot){return ot.series&&ot.series[X.coll]===X}))),pt||!tt?X.drawCrosshair(P,pt):X.hideCrosshair()})},D.prototype.scaleGroups=function(P,E){var m=this.chart;m.series.forEach(function(C){var A=P||C.getPlotBox();C.group&&(C.xAxis&&C.xAxis.zoomEnabled||m.mapView)&&(C.group.attr(A),C.markerGroup&&(C.markerGroup.attr(A),C.markerGroup.clip(E?m.clipRect:null)),C.dataLabelsGroup&&C.dataLabelsGroup.attr(A))}),m.clipRect.attr(E||m.clipBox)},D.prototype.setDOMEvents=function(){var P=this,E=this.chart.container,m=E.ownerDocument;E.onmousedown=this.onContainerMouseDown.bind(this),E.onmousemove=this.onContainerMouseMove.bind(this),E.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(z(E,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(z(E,"mouseleave",this.onContainerMouseLeave.bind(this))),D.unbindDocumentMouseUp||(D.unbindDocumentMouseUp=z(m,"mouseup",this.onDocumentMouseUp.bind(this)));for(var C=this.chart.renderTo.parentElement;C&&"BODY"!==C.tagName;)this.eventsToUnbind.push(z(C,"scroll",function(){delete P.chartPosition})),C=C.parentElement;c.hasTouch&&(this.eventsToUnbind.push(z(E,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(z(E,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),D.unbindDocumentTouchEnd||(D.unbindDocumentTouchEnd=z(m,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},D.prototype.setHoverChartIndex=function(){var P=this.chart,E=c.charts[h(D.hoverChartIndex,-1)];E&&E!==P&&E.pointer.onContainerMouseLeave({relatedTarget:P.container}),E&&E.mouseIsDown||(D.hoverChartIndex=P.index)},D.prototype.touch=function(P,E){var m=this.chart;if(this.setHoverChartIndex(),1===P.touches.length)if(P=this.normalize(P),m.isInsidePlot(P.chartX-m.plotLeft,P.chartY-m.plotTop,{visiblePlotOnly:!0})&&!m.openMenu){if(E&&this.runPointActions(P),"touchmove"===P.type)var A=!!(E=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(E[0].chartX-P.chartX,2)+Math.pow(E[0].chartY-P.chartY,2));h(A,!0)&&this.pinch(P)}else E&&this.reset();else 2===P.touches.length&&this.pinch(P)},D.prototype.touchSelect=function(P){return!(!this.chart.options.chart.zooming.singleTouch||!P.touches||1!==P.touches.length)},D.prototype.zoomOption=function(P){var E=this.chart,m=E.options.chart;E=E.inverted;var C=m.zooming.type||"";/touch/.test(P.type)&&(C=h(m.zooming.pinchType,C)),this.zoomX=P=/x/.test(C),this.zoomY=m=/y/.test(C),this.zoomHor=P&&!E||m&&E,this.zoomVert=m&&!E||P&&E,this.hasZoom=P||m},D}()}),e(i,"Core/MSPointer.js",[i["Core/Globals.js"],i["Core/Pointer.js"],i["Core/Utilities.js"]],function(s,c,T){function M(){var I=[];return I.item=function(h){return this[h]},l(w,function(h){I.push({pageX:h.pageX,pageY:h.pageY,target:h.target})}),I}function j(I,h,n,D){var P=Y[c.hoverChartIndex||NaN];"touch"!==I.pointerType&&I.pointerType!==I.MSPOINTER_TYPE_TOUCH||!P||(P=P.pointer,D(I),P[h]({type:n,target:I.currentTarget,preventDefault:F,touches:M()}))}var I,G=this&&this.__extends||(I=function(h,n){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var E in P)P.hasOwnProperty(E)&&(D[E]=P[E])})(h,n)},function(h,n){function D(){this.constructor=h}I(h,n),h.prototype=null===n?Object.create(n):(D.prototype=n.prototype,new D)}),Y=s.charts,z=s.doc,F=s.noop,N=s.win,a=T.addEvent,p=T.css,l=T.objectEach,d=T.pick,_=T.removeEvent,w={},x=!!N.PointerEvent;return function(I){function h(){return null!==I&&I.apply(this,arguments)||this}return G(h,I),h.isRequired=function(){return!(s.hasTouch||!N.PointerEvent&&!N.MSPointerEvent)},h.prototype.batchMSEvents=function(n){n(this.chart.container,x?"pointerdown":"MSPointerDown",this.onContainerPointerDown),n(this.chart.container,x?"pointermove":"MSPointerMove",this.onContainerPointerMove),n(z,x?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},h.prototype.destroy=function(){this.batchMSEvents(_),I.prototype.destroy.call(this)},h.prototype.init=function(n,D){I.prototype.init.call(this,n,D),this.hasZoom&&p(n.container,{"-ms-touch-action":"none","touch-action":"none"})},h.prototype.onContainerPointerDown=function(n){j(n,"onContainerTouchStart","touchstart",function(D){w[D.pointerId]={pageX:D.pageX,pageY:D.pageY,target:D.currentTarget}})},h.prototype.onContainerPointerMove=function(n){j(n,"onContainerTouchMove","touchmove",function(D){w[D.pointerId]={pageX:D.pageX,pageY:D.pageY},w[D.pointerId].target||(w[D.pointerId].target=D.currentTarget)})},h.prototype.onDocumentPointerUp=function(n){j(n,"onDocumentTouchEnd","touchend",function(D){delete w[D.pointerId]})},h.prototype.setDOMEvents=function(){var n=this.chart.tooltip;I.prototype.setDOMEvents.call(this),(this.hasZoom||d(n&&n.options.followTouchMove,!0))&&this.batchMSEvents(a)},h}(c)}),e(i,"Core/Legend/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Series/Point.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Utilities.js"]],function(s,c,T,M,j,G){var Y=s.animObject,z=s.setAnimation,F=c.format,N=T.marginNames,a=j.distribute,p=G.addEvent,l=G.createElement,d=G.css,_=G.defined,w=G.discardElement,x=G.find,I=G.fireEvent,h=G.isNumber,n=G.merge,D=G.pick,P=G.relativeLength,E=G.stableSort,m=G.syncTimeout;return function(){function C(A,k){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=A,this.init(A,k)}return C.prototype.init=function(A,k){this.chart=A,this.setOptions(k),k.enabled&&(this.render(),p(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=p(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},C.prototype.setOptions=function(A){var k=D(A.padding,8);this.options=A,this.chart.styledMode||(this.itemStyle=A.itemStyle,this.itemHiddenStyle=n(this.itemStyle,A.itemHiddenStyle)),this.itemMarginTop=A.itemMarginTop||0,this.itemMarginBottom=A.itemMarginBottom||0,this.padding=k,this.initialItemY=k-5,this.symbolWidth=D(A.symbolWidth,16),this.pages=[],this.proximate="proximate"===A.layout&&!this.chart.inverted,this.baseline=void 0},C.prototype.update=function(A,k){var f=this.chart;this.setOptions(n(!0,this.options,A)),this.destroy(),f.isDirtyLegend=f.isDirtyBox=!0,D(k,!0)&&f.redraw(),I(this,"afterUpdate")},C.prototype.colorizeItem=function(A,k){var f=A.legendItem||{},o=f.group,R=f.label,U=f.line;if(f=f.symbol,o&&o[k?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var X=this.options;o=this.itemHiddenStyle.color,X=k?X.itemStyle.color:o;var tt=k&&A.color||o,pt=A.options&&A.options.marker,ot={fill:tt};R&&R.css({fill:X,color:X}),U&&U.attr({stroke:tt}),f&&(pt&&f.isMarker&&(ot=A.pointAttribs(),k||(ot.stroke=ot.fill=o)),f.attr(ot))}I(this,"afterColorizeItem",{item:A,visible:k})},C.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},C.prototype.positionItem=function(A){var k=this,f=A.legendItem||{},o=f.group,R=f.x;R=void 0===R?0:R,f=void 0===(f=f.y)?0:f;var U=this.options,X=U.symbolPadding,tt=!U.rtl;U=A.checkbox,o&&o.element&&(X={translateX:tt?R:this.legendWidth-R-2*X-4,translateY:f},o[_(o.translateY)?"animate":"attr"](X,void 0,function(){I(k,"afterPositionItem",{item:A})})),U&&(U.x=R,U.y=f)},C.prototype.destroyItem=function(A){for(var k=A.checkbox,f=A.legendItem||{},o=0,R=["group","label","line","symbol"];o<R.length;o++){var U=R[o];f[U]&&(f[U]=f[U].destroy())}k&&w(k),A.legendItem=void 0},C.prototype.destroy=function(){for(var A=0,k=this.getAllItems();A<k.length;A++)this.destroyItem(k[A]);for(A=0,k="clipRect up down pager nav box title group".split(" ");A<k.length;A++){var f=k[A];this[f]&&(this[f]=this[f].destroy())}this.display=null},C.prototype.positionCheckboxes=function(){var A=this.group&&this.group.alignAttr,k=this.clipHeight||this.legendHeight,f=this.titleHeight;if(A){var o=A.translateY;this.allItems.forEach(function(R){var U=R.checkbox;if(U){var X=o+f+U.y+(this.scrollOffset||0)+3;d(U,{left:A.translateX+R.checkboxOffset+U.x-20+"px",top:X+"px",display:this.proximate||X>o-6&&X<o+k-6?"":"none"})}},this)}},C.prototype.renderTitle=function(){var A=this.options,k=this.padding,f=A.title,o=0;f.text&&(this.title||(this.title=this.chart.renderer.label(f.text,k-3,k-4,void 0,void 0,void 0,A.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(f.style),this.title.add(this.group)),f.width||this.title.css({width:this.maxLegendWidth+"px"}),o=(A=this.title.getBBox()).height,this.offsetWidth=A.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o},C.prototype.setText=function(A){var k=this.options;A.legendItem.label.attr({text:k.labelFormat?F(k.labelFormat,A,this.chart):k.labelFormatter.call(A)})},C.prototype.renderItem=function(A){var k=A.legendItem=A.legendItem||{},f=this.chart,o=f.renderer,R=this.options,U=this.symbolWidth,X=R.symbolPadding||0,tt=this.itemStyle,pt=this.itemHiddenStyle,ot="horizontal"===R.layout?D(R.itemDistance,20):0,W=!R.rtl,K=!A.series,gt=!K&&A.series.drawLegendSymbol?A.series:A,yt=gt.options,_t=this.createCheckboxForItem&&yt&&yt.showCheckbox,rt=R.useHTML,ut=A.options.className,at=k.label;yt=U+X+ot+(_t?20:0),at||(k.group=o.g("legend-item").addClass("highcharts-"+gt.type+"-series highcharts-color-"+A.colorIndex+(ut?" "+ut:"")+(K?" highcharts-series-"+A.index:"")).attr({zIndex:1}).add(this.scrollGroup),k.label=at=o.text("",W?U+X:-X,this.baseline||0,rt),f.styledMode||at.css(n(A.visible?tt:pt)),at.attr({align:W?"left":"right",zIndex:2}).add(k.group),this.baseline||(this.fontMetrics=o.fontMetrics(f.styledMode?12:tt.fontSize,at),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,at.attr("y",this.baseline),this.symbolHeight=R.symbolHeight||this.fontMetrics.f,R.squareSymbol&&(this.symbolWidth=D(R.symbolWidth,Math.max(this.symbolHeight,16)),yt=this.symbolWidth+X+ot+(_t?20:0),W&&at.attr("x",this.symbolWidth+X))),gt.drawLegendSymbol(this,A),this.setItemEvents&&this.setItemEvents(A,at,rt)),_t&&!A.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(A),this.colorizeItem(A,A.visible),!f.styledMode&&tt.width||at.css({width:(R.itemWidth||this.widthOption||f.spacingBox.width)-yt+"px"}),this.setText(A),f=at.getBBox(),o=this.fontMetrics&&this.fontMetrics.h||0,A.itemWidth=A.checkboxOffset=R.itemWidth||k.labelWidth||f.width+yt,this.maxItemWidth=Math.max(this.maxItemWidth,A.itemWidth),this.totalItemWidth+=A.itemWidth,this.itemHeight=A.itemHeight=Math.round(k.labelHeight||(f.height>1.5*o?f.height:o))},C.prototype.layoutItem=function(A){var k=this.options,f=this.padding,o="horizontal"===k.layout,R=A.itemHeight,U=this.itemMarginBottom,X=this.itemMarginTop,tt=o?D(k.itemDistance,20):0,pt=this.maxLegendWidth;k=k.alignColumns&&this.totalItemWidth>pt?this.maxItemWidth:A.itemWidth;var ot=A.legendItem||{};o&&this.itemX-f+k>pt&&(this.itemX=f,this.lastLineHeight&&(this.itemY+=X+this.lastLineHeight+U),this.lastLineHeight=0),this.lastItemY=X+this.itemY+U,this.lastLineHeight=Math.max(R,this.lastLineHeight),ot.x=this.itemX,ot.y=this.itemY,o?this.itemX+=k:(this.itemY+=X+R+U,this.lastLineHeight=R),this.offsetWidth=this.widthOption||Math.max((o?this.itemX-f-(A.checkbox?0:tt):k)+f,this.offsetWidth)},C.prototype.getAllItems=function(){var A=[];return this.chart.series.forEach(function(k){var f=k&&k.options;k&&D(f.showInLegend,!_(f.linkedTo)&&void 0,!0)&&(A=A.concat((k.legendItem||{}).labels||("point"===f.legendType?k.data:k)))}),I(this,"afterGetAllItems",{allItems:A}),A},C.prototype.getAlignment=function(){var A=this.options;return this.proximate?A.align.charAt(0)+"tv":A.floating?"":A.align.charAt(0)+A.verticalAlign.charAt(0)+A.layout.charAt(0)},C.prototype.adjustMargins=function(A,k){var f=this.chart,o=this.options,R=this.getAlignment();R&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(U,X){U.test(R)&&!_(A[X])&&(f[N[X]]=Math.max(f[N[X]],f.legend[(X+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][X]*o[X%2?"x":"y"]+D(o.margin,12)+k[X]+(f.titleOffset[X]||0)))})},C.prototype.proximatePositions=function(){var A=this.chart,k=[],f="left"===this.options.align;this.allItems.forEach(function(tt){var pt,ot=f;if(tt.yAxis){tt.xAxis.options.reversed&&(ot=!ot),tt.points&&(pt=x(ot?tt.points:tt.points.slice(0).reverse(),function(K){return h(K.plotY)})),ot=this.itemMarginTop+tt.legendItem.label.getBBox().height+this.itemMarginBottom;var W=tt.yAxis.top-A.plotTop;tt.visible?(pt=pt?pt.plotY:tt.yAxis.height,pt+=W-.3*ot):pt=W+tt.yAxis.height,k.push({target:pt,size:ot,item:tt})}},this);for(var o,R=0,U=a(k,A.plotHeight);R<U.length;R++){var X=U[R];o=X.item.legendItem||{},h(X.pos)&&(o.y=A.plotTop-A.spacing[0]+X.pos)}},C.prototype.render=function(){var A=this.chart,k=A.renderer,f=this.options,o=this.padding,R=this.getAllItems(),U=this.group,X=this.box;this.itemX=o,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=P(f.width,A.spacingBox.width-o);var tt=A.spacingBox.width-2*o-f.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(tt/=2),this.maxLegendWidth=this.widthOption||tt,U||(this.group=U=k.g("legend").addClass(f.className||"").attr({zIndex:7}).add(),this.contentGroup=k.g().attr({zIndex:1}).add(U),this.scrollGroup=k.g().add(this.contentGroup)),this.renderTitle(),E(R,function(ot,W){return(ot.options&&ot.options.legendIndex||0)-(W.options&&W.options.legendIndex||0)}),f.reversed&&R.reverse(),this.allItems=R,this.display=tt=!!R.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,R.forEach(this.renderItem,this),R.forEach(this.layoutItem,this),R=(this.widthOption||this.offsetWidth)+o;var pt=this.lastItemY+this.lastLineHeight+this.titleHeight;pt=this.handleOverflow(pt),pt+=o,X||(this.box=X=k.rect().addClass("highcharts-legend-box").attr({r:f.borderRadius}).add(U)),A.styledMode||X.attr({stroke:f.borderColor,"stroke-width":f.borderWidth||0,fill:f.backgroundColor||"none"}).shadow(f.shadow),0<R&&0<pt&&X[X.placed?"animate":"attr"](X.crisp.call({},{x:0,y:0,width:R,height:pt},X.strokeWidth())),U[tt?"show":"hide"](),A.styledMode&&"none"===U.getStyle("display")&&(R=pt=0),this.legendWidth=R,this.legendHeight=pt,tt&&this.align(),this.proximate||this.positionItems(),I(this,"afterRender")},C.prototype.align=function(A){void 0===A&&(A=this.chart.spacingBox);var k=this.chart,f=this.options,o=A.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<k.titleOffset[0]?o+=k.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<k.titleOffset[2]&&(o-=k.titleOffset[2]),o!==A.y&&(A=n(A,{y:o})),k.hasRendered||(this.group.placed=!1),this.group.align(n(f,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":f.verticalAlign}),!0,A)},C.prototype.handleOverflow=function(A){var ut,at,Ct,k=this,f=this.chart,o=f.renderer,R=this.options,U=R.y,X="top"===R.verticalAlign,tt=this.padding,pt=R.maxHeight,ot=R.navigation,W=D(ot.animation,!0),K=ot.arrowSize||12,gt=this.pages,yt=this.allItems,_t=function(Tt){"number"==typeof Tt?ct.attr({height:Tt}):ct&&(k.clipRect=ct.destroy(),k.contentGroup.clip()),k.contentGroup.div&&(k.contentGroup.div.style.clip=Tt?"rect("+tt+"px,9999px,"+(tt+Tt)+"px,0)":"auto")},rt=function(Tt){return k[Tt]=o.circle(0,0,1.3*K).translate(K/2,K/2).add(vt),f.styledMode||k[Tt].attr("fill","rgba(0,0,0,0.0001)"),k[Tt]};U=f.spacingBox.height+(X?-U:U)-tt;var vt=this.nav,ct=this.clipRect;return"horizontal"!==R.layout||"middle"===R.verticalAlign||R.floating||(U/=2),pt&&(U=Math.min(U,pt)),gt.length=0,A&&0<U&&A>U&&!1!==ot.enabled?(this.clipHeight=ut=Math.max(U-20-this.titleHeight-tt,0),this.currentPage=D(this.currentPage,1),this.fullHeight=A,yt.forEach(function(Tt,kt){Tt=(Ct=Tt.legendItem||{}).y||0;var Ft=Math.round(Ct.label.getBBox().height),Ot=gt.length;(!Ot||Tt-gt[Ot-1]>ut&&(at||Tt)!==gt[Ot-1])&&(gt.push(at||Tt),Ot++),Ct.pageIx=Ot-1,at&&((yt[kt-1].legendItem||{}).pageIx=Ot-1),kt===yt.length-1&&Tt+Ft-gt[Ot-1]>ut&&Ft<=ut&&(gt.push(Tt),Ct.pageIx=Ot),Tt!==at&&(at=Tt)}),ct||(ct=k.clipRect=o.clipRect(0,tt,9999,0),k.contentGroup.clip(ct)),_t(ut),vt||(this.nav=vt=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,K,K).add(vt),rt("upTracker").on("click",function(){k.scroll(-1,W)}),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),!f.styledMode&&ot.style&&this.pager.css(ot.style),this.pager.add(vt),this.down=o.symbol("triangle-down",0,0,K,K).add(vt),rt("downTracker").on("click",function(){k.scroll(1,W)})),k.scroll(0),A=U):vt&&(_t(),this.nav=vt.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),A},C.prototype.scroll=function(A,k){var f=this,o=this.chart,R=this.pages,U=R.length,X=this.clipHeight,tt=this.options.navigation,pt=this.pager,ot=this.padding,W=this.currentPage+A;W>U&&(W=U),0<W&&(typeof k<"u"&&z(k,o),this.nav.attr({translateX:ot,translateY:X+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(K){K.attr({class:1===W?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),pt.attr({text:W+"/"+U}),[this.down,this.downTracker].forEach(function(K){K.attr({x:18+this.pager.getBBox().width,class:W===U?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),o.styledMode||(this.up.attr({fill:1===W?tt.inactiveColor:tt.activeColor}),this.upTracker.css({cursor:1===W?"default":"pointer"}),this.down.attr({fill:W===U?tt.inactiveColor:tt.activeColor}),this.downTracker.css({cursor:W===U?"default":"pointer"})),this.scrollOffset=-R[W-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=W,this.positionCheckboxes(),A=Y(D(k,o.renderer.globalAnimation,!0)),m(function(){I(f,"afterScroll",{currentPage:W})},A.duration))},C.prototype.setItemEvents=function(A,k,f){var o=this,R=A.legendItem||{},U=o.chart.renderer.boxWrapper,X=A instanceof M,tt="highcharts-legend-"+(X?"point":"series")+"-active",pt=o.chart.styledMode,ot=function(K){o.allItems.forEach(function(gt){A!==gt&&[gt].concat(gt.linkedSeries||[]).forEach(function(yt){yt.setState(K,!X)})})},W=0;for(f=f?[k,R.symbol]:[R.group];W<f.length;W++)(R=f[W])&&R.on("mouseover",function(){A.visible&&ot("inactive"),A.setState("hover"),A.visible&&U.addClass(tt),pt||k.css(o.options.itemHoverStyle)}).on("mouseout",function(){o.chart.styledMode||k.css(n(A.visible?o.itemStyle:o.itemHiddenStyle)),ot(""),U.removeClass(tt),A.setState()}).on("click",function(K){var gt=function(){A.setVisible&&A.setVisible(),ot(A.visible?"inactive":"")};U.removeClass(tt),K={browserEvent:K},A.firePointEvent?A.firePointEvent("legendItemClick",K,gt):I(A,"legendItemClick",K,gt)})},C.prototype.createCheckboxForItem=function(A){A.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:A.selected,defaultChecked:A.selected},this.options.itemCheckboxStyle,this.chart.container),p(A.checkbox,"click",function(k){I(A.series||A,"checkboxClick",{checked:k.target.checked,item:A},function(){A.select()})})},C}()}),e(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/Defaults.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(s,c,T,M){var z,j=c.defaultOptions,G=M.extendClass,Y=M.merge;return function(F){function N(a,p){var l=j.plotOptions||{},d=p.defaultOptions,_=p.prototype;_.type=a,_.pointClass||(_.pointClass=T),d&&(l[a]=d),F.seriesTypes[a]=p}F.seriesTypes=s.seriesTypes,F.registerSeriesType=N,F.seriesType=function(a,p,l,d,_){var w=j.plotOptions||{};return w[a]=Y(w[p=p||""],l),N(a,G(F.seriesTypes[p]||function(){},d)),F.seriesTypes[a].prototype.type=a,_&&(F.seriesTypes[a].prototype.pointClass=G(T,_)),F.seriesTypes[a]}}(z||(z={})),z}),e(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/Legend.js"],i["Core/MSPointer.js"],i["Core/Pointer.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"]],function(s,c,T,M,j,G,Y,z,F,N,a,p,l,d,_){var w=s.animate,x=s.animObject,I=s.setAnimation,h=T.defaultOptions,n=T.defaultTime,D=M.numberFormat,P=j.registerEventOptions,E=G.charts,m=G.doc,C=G.marginNames,A=G.svg,k=G.win,f=a.seriesTypes,o=d.addEvent,R=d.attr,U=d.cleanRecursively,X=d.createElement,tt=d.css,pt=d.defined,ot=d.discardElement,W=d.erase,K=d.error,gt=d.extend,yt=d.find,_t=d.fireEvent,rt=d.getStyle,ut=d.isArray,at=d.isNumber,Ct=d.isObject,vt=d.isString,ct=d.merge,Tt=d.objectEach,kt=d.pick,Ft=d.pInt,Ot=d.relativeLength,jt=d.removeEvent,$t=d.splat,Wt=d.syncTimeout,ne=d.uniqueKey;return s=function(){function Jt(Nt,Rt,ie){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Nt,Rt,ie)}return Jt.chart=function(Nt,Rt,ie){return new Jt(Nt,Rt,ie)},Jt.prototype.getArgs=function(Nt,Rt,ie){vt(Nt)||Nt.nodeName?(this.renderTo=Nt,this.init(Rt,ie)):this.init(Nt,Rt)},Jt.prototype.init=function(Nt,Rt){var ie=Nt.plotOptions||{};_t(this,"init",{args:arguments},function(){var se=ct(h,Nt),ce=se.chart;Tt(se.plotOptions,function(Ie,Ve){Ct(Ie)&&(Ie.tooltip=ie[Ve]&&ct(ie[Ve].tooltip)||void 0)}),se.tooltip.userOptions=Nt.chart&&Nt.chart.forExport&&Nt.tooltip.userOptions||Nt.tooltip,this.userOptions=Nt,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Rt,this.isResizing=0;var te=ce.zooming=ce.zooming||{};Nt.chart&&!Nt.chart.zooming&&(te.resetButton=ce.resetZoomButton),te.key=kt(te.key,ce.zoomKey),te.pinchType=kt(te.pinchType,ce.pinchType),te.singleTouch=kt(te.singleTouch,ce.zoomBySingleTouch),te.type=kt(te.type,ce.zoomType),this.options=se,this.axes=[],this.series=[],this.time=Nt.time&&Object.keys(Nt.time).length?new l(Nt.time):G.time,this.numberFormatter=ce.numberFormatter||D,this.styledMode=ce.styledMode,this.hasCartesianSeries=ce.showAxes,this.index=E.length,E.push(this),G.chartCount++,P(this,ce),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,_t(this,"afterInit"),this.firstRender()})},Jt.prototype.initSeries=function(Nt){var Rt=this.options.chart,ie=f[Rt=Nt.type||Rt.type||Rt.defaultSeriesType];return ie||K(17,!0,this,{missingModuleFor:Rt}),"function"==typeof(Rt=new ie).init&&Rt.init(this,Nt),Rt},Jt.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(Nt){Nt.points||Nt.data||!Nt.enabledDataSorting||Nt.setData(Nt.options.data,!1)})},Jt.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(Nt,Rt){return Nt.linkedSeries.length||Rt.linkedSeries.length?Rt.linkedSeries.length-Nt.linkedSeries.length:0})},Jt.prototype.orderSeries=function(Nt){var Rt=this.series;Nt=Nt||0;for(var ie=Rt.length;Nt<ie;++Nt)Rt[Nt]&&(Rt[Nt].index=Nt,Rt[Nt].name=Rt[Nt].getName())},Jt.prototype.isInsidePlot=function(Nt,Rt,ie){void 0===ie&&(ie={});var se=this.inverted,ce=this.plotBox,te=this.plotLeft,Ie=this.plotTop,Ve=this.scrollablePlotBox,Ai=0,gi=0;ie.visiblePlotOnly&&this.scrollingContainer&&(Ai=(gi=this.scrollingContainer).scrollLeft,gi=gi.scrollTop);var pi=ie.series;if(ce=ie.visiblePlotOnly&&Ve||ce,Nt={x:Ve=ie.inverted?Rt:Nt,y:Rt=ie.inverted?Nt:Rt,isInsidePlot:!0,options:ie},!ie.ignoreX){var Ri=pi&&(se&&!this.polar?pi.yAxis:pi.xAxis)||{pos:te,len:1/0};(Ve=ie.paneCoordinates?Ri.pos+Ve:te+Ve)>=Math.max(Ai+te,Ri.pos)&&Ve<=Math.min(Ai+te+ce.width,Ri.pos+Ri.len)||(Nt.isInsidePlot=!1)}return!ie.ignoreY&&Nt.isInsidePlot&&(se=ie.axis&&!ie.axis.isXAxis&&ie.axis||pi&&(se?pi.xAxis:pi.yAxis)||{pos:Ie,len:1/0},(ie=ie.paneCoordinates?se.pos+Rt:Ie+Rt)>=Math.max(gi+Ie,se.pos)&&ie<=Math.min(gi+Ie+ce.height,se.pos+se.len)||(Nt.isInsidePlot=!1)),_t(this,"afterIsInsidePlot",Nt),Nt.isInsidePlot},Jt.prototype.redraw=function(Nt){_t(this,"beforeRedraw");var Rt=this.hasCartesianSeries?this.axes:this.colorAxis||[],ie=this.series,se=this.pointer,ce=this.legend,te=this.userOptions.legend,Ie=this.renderer,Ve=Ie.isHidden(),Ai=[],gi=this.isDirtyBox,pi=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),I(!!this.hasRendered&&Nt,this),Ve&&this.temporaryDisplay(),this.layOutTitles(),Nt=ie.length;Nt--;){var Ri=ie[Nt];if(Ri.options.stacking||Ri.options.centerInCategory){var ti=!0;if(Ri.isDirty){var Ti=!0;break}}}if(Ti)for(Nt=ie.length;Nt--;)(Ri=ie[Nt]).options.stacking&&(Ri.isDirty=!0);ie.forEach(function(xi){xi.isDirty&&("point"===xi.options.legendType?("function"==typeof xi.updateTotals&&xi.updateTotals(),pi=!0):te&&(te.labelFormatter||te.labelFormat)&&(pi=!0)),xi.isDirtyData&&_t(xi,"updatedData")}),pi&&ce&&ce.options.enabled&&(ce.render(),this.isDirtyLegend=!1),ti&&this.getStacks(),Rt.forEach(function(xi){xi.updateNames(),xi.setScale()}),this.getMargins(),Rt.forEach(function(xi){xi.isDirty&&(gi=!0)}),Rt.forEach(function(xi){var be=xi.min+","+xi.max;xi.extKey!==be&&(xi.extKey=be,Ai.push(function(){_t(xi,"afterSetExtremes",gt(xi.eventArgs,xi.getExtremes())),delete xi.eventArgs})),(gi||ti)&&xi.redraw()}),gi&&this.drawChartBox(),_t(this,"predraw"),ie.forEach(function(xi){(gi||xi.isDirty)&&xi.visible&&xi.redraw(),xi.isDirtyData=!1}),se&&se.reset(!0),Ie.draw(),_t(this,"redraw"),_t(this,"render"),Ve&&this.temporaryDisplay(!0),Ai.forEach(function(xi){xi.call()})},Jt.prototype.get=function(Nt){function Rt(te){return te.id===Nt||te.options&&te.options.id===Nt}for(var ie=this.series,se=yt(this.axes,Rt)||yt(this.series,Rt),ce=0;!se&&ce<ie.length;ce++)se=yt(ie[ce].points||[],Rt);return se},Jt.prototype.getAxes=function(){var Nt=this,Rt=this.options,ie=Rt.xAxis=$t(Rt.xAxis||{});Rt=Rt.yAxis=$t(Rt.yAxis||{}),_t(this,"getAxes"),ie.forEach(function(se,ce){se.index=ce,se.isX=!0}),Rt.forEach(function(se,ce){se.index=ce}),ie.concat(Rt).forEach(function(se){new c(Nt,se)}),_t(this,"afterGetAxes")},Jt.prototype.getSelectedPoints=function(){return this.series.reduce(function(Nt,Rt){return Rt.getPointsCollection().forEach(function(ie){kt(ie.selectedStaging,ie.selected)&&Nt.push(ie)}),Nt},[])},Jt.prototype.getSelectedSeries=function(){return this.series.filter(function(Nt){return Nt.selected})},Jt.prototype.setTitle=function(Nt,Rt,ie){this.applyDescription("title",Nt),this.applyDescription("subtitle",Rt),this.applyDescription("caption",void 0),this.layOutTitles(ie)},Jt.prototype.applyDescription=function(Nt,Rt){var ie=this,se="title"===Nt?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};se=this.options[Nt]=ct(!this.styledMode&&{style:se},this.options[Nt],Rt);var ce=this[Nt];ce&&Rt&&(this[Nt]=ce=ce.destroy()),se&&!ce&&((ce=this.renderer.text(se.text,0,0,se.useHTML).attr({align:se.align,class:"highcharts-"+Nt,zIndex:se.zIndex||4}).add()).update=function(te){ie[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Nt]](te)},this.styledMode||ce.css(se.style),this[Nt]=ce)},Jt.prototype.layOutTitles=function(Nt){var Rt=[0,0,0],ie=this.renderer,se=this.spacingBox;["title","subtitle","caption"].forEach(function(te){var gi,Ie=this[te],Ve=this.options[te],Ai=Ve.verticalAlign||"top";if(te="title"===te?"top"===Ai?-3:0:"top"===Ai?Rt[0]+2:0,Ie){this.styledMode||(gi=Ve.style&&Ve.style.fontSize),gi=ie.fontMetrics(gi,Ie).b,Ie.css({width:(Ve.width||se.width+(Ve.widthAdjust||0))+"px"});var pi=Math.round(Ie.getBBox(Ve.useHTML).height);Ie.align(gt({y:"bottom"===Ai?gi:te+gi,height:pi},Ve),!1,"spacingBox"),Ve.floating||("top"===Ai?Rt[0]=Math.ceil(Rt[0]+pi):"bottom"===Ai&&(Rt[2]=Math.ceil(Rt[2]+pi)))}},this),Rt[0]&&"top"===(this.options.title.verticalAlign||"top")&&(Rt[0]+=this.options.title.margin),Rt[2]&&"bottom"===this.options.caption.verticalAlign&&(Rt[2]+=this.options.caption.margin);var ce=!this.titleOffset||this.titleOffset.join(",")!==Rt.join(",");this.titleOffset=Rt,_t(this,"afterLayOutTitles"),!this.isDirtyBox&&ce&&(this.isDirtyBox=this.isDirtyLegend=ce,this.hasRendered&&kt(Nt,!0)&&this.isDirtyBox&&this.redraw())},Jt.prototype.getChartSize=function(){var Nt=this.options.chart,Rt=Nt.width;Nt=Nt.height;var ie=this.renderTo;pt(Rt)||(this.containerWidth=rt(ie,"width")),pt(Nt)||(this.containerHeight=rt(ie,"height")),this.chartWidth=Math.max(0,Rt||this.containerWidth||600),this.chartHeight=Math.max(0,Ot(Nt,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},Jt.prototype.temporaryDisplay=function(Nt){var Rt=this.renderTo;if(Nt)for(;Rt&&Rt.style;)Rt.hcOrigStyle&&(tt(Rt,Rt.hcOrigStyle),delete Rt.hcOrigStyle),Rt.hcOrigDetached&&(m.body.removeChild(Rt),Rt.hcOrigDetached=!1),Rt=Rt.parentNode;else for(;Rt&&Rt.style&&(m.body.contains(Rt)||Rt.parentNode||(Rt.hcOrigDetached=!0,m.body.appendChild(Rt)),("none"===rt(Rt,"display",!1)||Rt.hcOricDetached)&&(Rt.hcOrigStyle={display:Rt.style.display,height:Rt.style.height,overflow:Rt.style.overflow},Nt={display:"block",overflow:"hidden"},Rt!==this.renderTo&&(Nt.height=0),tt(Rt,Nt),Rt.offsetWidth||Rt.style.setProperty("display","block","important")),(Rt=Rt.parentNode)!==m.body););},Jt.prototype.setClassName=function(Nt){this.container.className="highcharts-container "+(Nt||"")},Jt.prototype.getContainer=function(){var se,Nt=this.options,Rt=Nt.chart,ie=ne(),ce=this.renderTo;ce||(this.renderTo=ce=Rt.renderTo),vt(ce)&&(this.renderTo=ce=m.getElementById(ce)),ce||K(13,!0,this);var te=Ft(R(ce,"data-highcharts-chart"));at(te)&&E[te]&&E[te].hasRendered&&E[te].destroy(),R(ce,"data-highcharts-chart",this.index),ce.innerHTML=_.emptyHTML,Rt.skipClone||ce.offsetWidth||this.temporaryDisplay(),this.getChartSize(),te=this.chartWidth;var Ie=this.chartHeight;if(tt(ce,{overflow:"hidden"}),this.styledMode||(se=gt({position:"relative",overflow:"hidden",width:te+"px",height:Ie+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Rt.style||{})),this.container=ie=X("div",{id:ie},se,ce),this._cursor=ie.style.cursor,this.renderer=new(Rt.renderer||!A?N.getRendererType(Rt.renderer):p)(ie,te,Ie,void 0,Rt.forExport,Nt.exporting&&Nt.exporting.allowHTML,this.styledMode),I(void 0,this),this.setClassName(Rt.className),this.styledMode)for(var Ve in Nt.defs)this.renderer.definition(Nt.defs[Ve]);else this.renderer.setStyle(Rt.style);this.renderer.chartIndex=this.index,_t(this,"afterGetContainer")},Jt.prototype.getMargins=function(Nt){var Rt=this.spacing,ie=this.margin,se=this.titleOffset;this.resetMargins(),se[0]&&!pt(ie[0])&&(this.plotTop=Math.max(this.plotTop,se[0]+Rt[0])),se[2]&&!pt(ie[2])&&(this.marginBottom=Math.max(this.marginBottom,se[2]+Rt[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ie,Rt),_t(this,"getMargins"),Nt||this.getAxisMargins()},Jt.prototype.getAxisMargins=function(){var Nt=this,Rt=Nt.axisOffset=[0,0,0,0],ie=Nt.colorAxis,se=Nt.margin,ce=function(te){te.forEach(function(Ie){Ie.visible&&Ie.getOffset()})};Nt.hasCartesianSeries?ce(Nt.axes):ie&&ie.length&&ce(ie),C.forEach(function(te,Ie){pt(se[Ie])||(Nt[te]+=Rt[Ie])}),Nt.setChartSize()},Jt.prototype.reflow=function(Nt){var Rt=this,ie=Rt.options.chart,se=Rt.renderTo,ce=pt(ie.width)&&pt(ie.height),te=ie.width||rt(se,"width");ie=ie.height||rt(se,"height"),se=Nt?Nt.target:k,delete Rt.pointer.chartPosition,!ce&&!Rt.isPrinting&&te&&ie&&(se===k||se===m)&&((te!==Rt.containerWidth||ie!==Rt.containerHeight)&&(d.clearTimeout(Rt.reflowTimeout),Rt.reflowTimeout=Wt(function(){Rt.container&&Rt.setSize(void 0,void 0,!1)},Nt?100:0)),Rt.containerWidth=te,Rt.containerHeight=ie)},Jt.prototype.setReflow=function(Nt){var Rt=this;!1===Nt||this.unbindReflow?!1===Nt&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=o(k,"resize",function(ie){Rt.options&&Rt.reflow(ie)}),o(this,"destroy",this.unbindReflow))},Jt.prototype.setSize=function(Nt,Rt,ie){var se=this,ce=se.renderer;se.isResizing+=1,I(ie,se),ie=ce.globalAnimation,se.oldChartHeight=se.chartHeight,se.oldChartWidth=se.chartWidth,typeof Nt<"u"&&(se.options.chart.width=Nt),typeof Rt<"u"&&(se.options.chart.height=Rt),se.getChartSize(),se.styledMode||(ie?w:tt)(se.container,{width:se.chartWidth+"px",height:se.chartHeight+"px"},ie),se.setChartSize(!0),ce.setSize(se.chartWidth,se.chartHeight,ie),se.axes.forEach(function(te){te.isDirty=!0,te.setScale()}),se.isDirtyLegend=!0,se.isDirtyBox=!0,se.layOutTitles(),se.getMargins(),se.redraw(ie),se.oldChartHeight=null,_t(se,"resize"),Wt(function(){se&&_t(se,"endResize",null,function(){--se.isResizing})},x(ie).duration)},Jt.prototype.setChartSize=function(Nt){var Ai,gi,pi,Ri,Rt=this.inverted,ie=this.renderer,se=this.chartWidth,ce=this.chartHeight,te=this.options.chart,Ie=this.spacing,Ve=this.clipOffset;this.plotLeft=Ai=Math.round(this.plotLeft),this.plotTop=gi=Math.round(this.plotTop),this.plotWidth=pi=Math.max(0,Math.round(se-Ai-this.marginRight)),this.plotHeight=Ri=Math.max(0,Math.round(ce-gi-this.marginBottom)),this.plotSizeX=Rt?Ri:pi,this.plotSizeY=Rt?pi:Ri,this.plotBorderWidth=te.plotBorderWidth||0,this.spacingBox=ie.spacingBox={x:Ie[3],y:Ie[0],width:se-Ie[3]-Ie[1],height:ce-Ie[0]-Ie[2]},this.plotBox=ie.plotBox={x:Ai,y:gi,width:pi,height:Ri},Rt=2*Math.floor(this.plotBorderWidth/2),se=Math.ceil(Math.max(Rt,Ve[3])/2),ce=Math.ceil(Math.max(Rt,Ve[0])/2),this.clipBox={x:se,y:ce,width:Math.floor(this.plotSizeX-Math.max(Rt,Ve[1])/2-se),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Rt,Ve[2])/2-ce))},Nt||(this.axes.forEach(function(ti){ti.setAxisSize(),ti.setAxisTranslation()}),ie.alignElements()),_t(this,"afterSetChartSize",{skipAxes:Nt})},Jt.prototype.resetMargins=function(){_t(this,"resetMargins");var Nt=this,Rt=Nt.options.chart;["margin","spacing"].forEach(function(ie){var se=Rt[ie],ce=Ct(se)?se:[se,se,se,se];["Top","Right","Bottom","Left"].forEach(function(te,Ie){Nt[ie][Ie]=kt(Rt[ie+te],ce[Ie])})}),C.forEach(function(ie,se){Nt[ie]=kt(Nt.margin[se],Nt.spacing[se])}),Nt.axisOffset=[0,0,0,0],Nt.clipOffset=[0,0,0,0]},Jt.prototype.drawChartBox=function(){var Gt,Nt=this.options.chart,Rt=this.renderer,ie=this.chartWidth,se=this.chartHeight,ce=this.styledMode,te=this.plotBGImage,Ie=Nt.backgroundColor,Ve=Nt.plotBackgroundColor,Ai=Nt.plotBackgroundImage,gi=this.plotLeft,pi=this.plotTop,Ri=this.plotWidth,ti=this.plotHeight,Ti=this.plotBox,xi=this.clipRect,be=this.clipBox,ii=this.chartBackground,nt=this.plotBackground,St=this.plotBorder,ee="animate";if(ii||(this.chartBackground=ii=Rt.rect().addClass("highcharts-background").add(),ee="attr"),ce)var ge=Gt=ii.strokeWidth();else Gt=(ge=Nt.borderWidth||0)+(Nt.shadow?8:0),Ie={fill:Ie||"none"},(ge||ii["stroke-width"])&&(Ie.stroke=Nt.borderColor,Ie["stroke-width"]=ge),ii.attr(Ie).shadow(Nt.shadow);ii[ee]({x:Gt/2,y:Gt/2,width:ie-Gt-ge%2,height:se-Gt-ge%2,r:Nt.borderRadius}),ee="animate",nt||(ee="attr",this.plotBackground=nt=Rt.rect().addClass("highcharts-plot-background").add()),nt[ee](Ti),ce||(nt.attr({fill:Ve||"none"}).shadow(Nt.plotShadow),Ai&&(te?(Ai!==te.attr("href")&&te.attr("href",Ai),te.animate(Ti)):this.plotBGImage=Rt.image(Ai,gi,pi,Ri,ti).add())),xi?xi.animate({width:be.width,height:be.height}):this.clipRect=Rt.clipRect(be),ee="animate",St||(ee="attr",this.plotBorder=St=Rt.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),ce||St.attr({stroke:Nt.plotBorderColor,"stroke-width":Nt.plotBorderWidth||0,fill:"none"}),St[ee](St.crisp({x:gi,y:pi,width:Ri,height:ti},-St.strokeWidth())),this.isDirtyBox=!1,_t(this,"afterDrawChartBox")},Jt.prototype.propFromSeries=function(){var se,ce,te,Nt=this,Rt=Nt.options.chart,ie=Nt.options.series;["inverted","angular","polar"].forEach(function(Ie){for(ce=f[Rt.type||Rt.defaultSeriesType],te=Rt[Ie]||ce&&ce.prototype[Ie],se=ie&&ie.length;!te&&se--;)(ce=f[ie[se].type])&&ce.prototype[Ie]&&(te=!0);Nt[Ie]=te})},Jt.prototype.linkSeries=function(){var Nt=this,Rt=Nt.series;Rt.forEach(function(ie){ie.linkedSeries.length=0}),Rt.forEach(function(ie){var se=ie.options.linkedTo;vt(se)&&(se=":previous"===se?Nt.series[ie.index-1]:Nt.get(se))&&se.linkedParent!==ie&&(se.linkedSeries.push(ie),ie.linkedParent=se,se.enabledDataSorting&&ie.setDataSortingOptions(),ie.visible=kt(ie.options.visible,se.options.visible,ie.visible))}),_t(this,"afterLinkSeries")},Jt.prototype.renderSeries=function(){this.series.forEach(function(Nt){Nt.translate(),Nt.render()})},Jt.prototype.renderLabels=function(){var Nt=this,Rt=Nt.options.labels;Rt.items&&Rt.items.forEach(function(ie){var se=gt(Rt.style,ie.style),ce=Ft(se.left)+Nt.plotLeft,te=Ft(se.top)+Nt.plotTop+12;delete se.left,delete se.top,Nt.renderer.text(ie.html,ce,te).attr({zIndex:2}).css(se).add()})},Jt.prototype.render=function(){var Nt=this.axes,Rt=this.colorAxis,ie=this.renderer,se=this.options,ce=function(gi){gi.forEach(function(pi){pi.visible&&pi.render()})},te=0;this.setTitle(),this.legend=new Y(this,se.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),se=this.plotWidth,Nt.some(function(gi){if(gi.horiz&&gi.visible&&gi.options.labels.enabled&&gi.series.length)return te=21,!0});var Ie=this.plotHeight=Math.max(this.plotHeight-te,0);Nt.forEach(function(gi){gi.setScale()}),this.getAxisMargins();var Ve=1.1<se/this.plotWidth,Ai=1.05<Ie/this.plotHeight;(Ve||Ai)&&(Nt.forEach(function(gi){(gi.horiz&&Ve||!gi.horiz&&Ai)&&gi.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?ce(Nt):Rt&&Rt.length&&ce(Rt),this.seriesGroup||(this.seriesGroup=ie.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},Jt.prototype.addCredits=function(Nt){var Rt=this,ie=ct(!0,this.options.credits,Nt);ie.enabled&&!this.credits&&(this.credits=this.renderer.text(ie.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ie.href&&(k.location.href=ie.href)}).attr({align:ie.position.align,zIndex:8}),Rt.styledMode||this.credits.css(ie.style),this.credits.add().align(ie.position),this.credits.update=function(se){Rt.credits=Rt.credits.destroy(),Rt.addCredits(se)})},Jt.prototype.destroy=function(){var te,Nt=this,Rt=Nt.axes,ie=Nt.series,se=Nt.container,ce=se&&se.parentNode;for(_t(Nt,"destroy"),Nt.renderer.forExport?W(E,Nt):E[Nt.index]=void 0,G.chartCount--,Nt.renderTo.removeAttribute("data-highcharts-chart"),jt(Nt),te=Rt.length;te--;)Rt[te]=Rt[te].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),te=ie.length;te--;)ie[te]=ie[te].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Ie){var Ve=Nt[Ie];Ve&&Ve.destroy&&(Nt[Ie]=Ve.destroy())}),se&&(se.innerHTML=_.emptyHTML,jt(se),ce&&ot(se)),Tt(Nt,function(Ie,Ve){delete Nt[Ve]})},Jt.prototype.firstRender=function(){var Nt=this,Rt=Nt.options;(!Nt.isReadyToRender||Nt.isReadyToRender())&&(Nt.getContainer(),Nt.resetMargins(),Nt.setChartSize(),Nt.propFromSeries(),Nt.getAxes(),(ut(Rt.series)?Rt.series:[]).forEach(function(ie){Nt.initSeries(ie)}),Nt.linkSeries(),Nt.setSeriesData(),_t(Nt,"beforeRender"),F&&(Nt.pointer=z.isRequired()?new z(Nt,Rt):new F(Nt,Rt)),Nt.render(),Nt.pointer.getChartPosition(),!Nt.renderer.imgCount&&!Nt.hasLoaded&&Nt.onload(),Nt.temporaryDisplay(!0))},Jt.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(Nt){Nt&&typeof this.index<"u"&&Nt.apply(this,[this])},this),_t(this,"load"),_t(this,"render"),pt(this.index)&&this.setReflow(this.options.chart.reflow),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0},Jt.prototype.warnIfA11yModuleNotLoaded=function(){var Nt=this.options,Rt=this.title;Nt&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Rt&&Rt.element.textContent||"").replace(/</g,"&lt;")}),Nt.accessibility&&!1===Nt.accessibility.enabled||K('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))},Jt.prototype.addSeries=function(Nt,Rt,ie){var ce,se=this;return Nt&&(Rt=kt(Rt,!0),_t(se,"addSeries",{options:Nt},function(){ce=se.initSeries(Nt),se.isDirtyLegend=!0,se.linkSeries(),ce.enabledDataSorting&&ce.setData(Nt.data,!1),_t(se,"afterAddSeries",{series:ce}),Rt&&se.redraw(ie)})),ce},Jt.prototype.addAxis=function(Nt,Rt,ie,se){return this.createAxis(Rt?"xAxis":"yAxis",{axis:Nt,redraw:ie,animation:se})},Jt.prototype.addColorAxis=function(Nt,Rt,ie){return this.createAxis("colorAxis",{axis:Nt,redraw:Rt,animation:ie})},Jt.prototype.createAxis=function(Nt,Rt){return Nt=new c(this,ct(Rt.axis,{index:this[Nt].length,isX:"xAxis"===Nt})),kt(Rt.redraw,!0)&&this.redraw(Rt.animation),Nt},Jt.prototype.showLoading=function(Nt){var Rt=this,ie=Rt.options,se=ie.loading,ce=function(){te&&tt(te,{left:Rt.plotLeft+"px",top:Rt.plotTop+"px",width:Rt.plotWidth+"px",height:Rt.plotHeight+"px"})},te=Rt.loadingDiv,Ie=Rt.loadingSpan;te||(Rt.loadingDiv=te=X("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Rt.container)),Ie||(Rt.loadingSpan=Ie=X("span",{className:"highcharts-loading-inner"},null,te),o(Rt,"redraw",ce)),te.className="highcharts-loading",_.setElementHTML(Ie,kt(Nt,ie.lang.loading,"")),Rt.styledMode||(tt(te,gt(se.style,{zIndex:10})),tt(Ie,se.labelStyle),Rt.loadingShown||(tt(te,{opacity:0,display:""}),w(te,{opacity:se.style.opacity||.5},{duration:se.showDuration||0}))),Rt.loadingShown=!0,ce()},Jt.prototype.hideLoading=function(){var Nt=this.options,Rt=this.loadingDiv;Rt&&(Rt.className="highcharts-loading highcharts-loading-hidden",this.styledMode||w(Rt,{opacity:0},{duration:Nt.loading.hideDuration||100,complete:function(){tt(Rt,{display:"none"})}})),this.loadingShown=!1},Jt.prototype.update=function(Nt,Rt,ie,se){var Ai,gi,ce=this,te={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Ie=Nt.isResponsiveOptions,Ve=[];_t(ce,"update",{options:Nt}),Ie||ce.setResponsive(!1,!0),Nt=U(Nt,ce.options),ce.userOptions=ct(ce.userOptions,Nt);var pi=Nt.chart;if(pi){if(ct(!0,ce.options.chart,pi),"className"in pi&&ce.setClassName(pi.className),"reflow"in pi&&ce.setReflow(pi.reflow),"inverted"in pi||"polar"in pi||"type"in pi){ce.propFromSeries();var Ri=!0}"alignTicks"in pi&&(Ri=!0),"events"in pi&&P(this,pi),Tt(pi,function(ti,Ti){-1!==ce.propsRequireUpdateSeries.indexOf("chart."+Ti)&&(Ai=!0),-1!==ce.propsRequireDirtyBox.indexOf(Ti)&&(ce.isDirtyBox=!0),-1!==ce.propsRequireReflow.indexOf(Ti)&&(Ie?ce.isDirtyBox=!0:gi=!0)}),!ce.styledMode&&pi.style&&ce.renderer.setStyle(ce.options.chart.style||{})}!ce.styledMode&&Nt.colors&&(this.options.colors=Nt.colors),Nt.time&&(this.time===n&&(this.time=new l(Nt.time)),ct(!0,ce.options.time,Nt.time)),Tt(Nt,function(ti,Ti){ce[Ti]&&"function"==typeof ce[Ti].update?ce[Ti].update(ti,!1):"function"==typeof ce[te[Ti]]?ce[te[Ti]](ti):"colors"!==Ti&&-1===ce.collectionsWithUpdate.indexOf(Ti)&&ct(!0,ce.options[Ti],Nt[Ti]),"chart"!==Ti&&-1!==ce.propsRequireUpdateSeries.indexOf(Ti)&&(Ai=!0)}),this.collectionsWithUpdate.forEach(function(ti){if(Nt[ti]){var Ti=[];ce[ti].forEach(function(xi,be){xi.options.isInternal||Ti.push(kt(xi.options.index,be))}),$t(Nt[ti]).forEach(function(xi,be){var nt,ii=pt(xi.id);ii&&(nt=ce.get(xi.id)),!nt&&ce[ti]&&(nt=ce[ti][Ti?Ti[be]:be])&&ii&&pt(nt.options.id)&&(nt=void 0),nt&&nt.coll===ti&&(nt.update(xi,!1),ie&&(nt.touched=!0)),!nt&&ie&&ce.collectionsWithInit[ti]&&(ce.collectionsWithInit[ti][0].apply(ce,[xi].concat(ce.collectionsWithInit[ti][1]||[]).concat([!1])).touched=!0)}),ie&&ce[ti].forEach(function(xi){xi.touched||xi.options.isInternal?delete xi.touched:Ve.push(xi)})}}),Ve.forEach(function(ti){ti.chart&&ti.remove&&ti.remove(!1)}),Ri&&ce.axes.forEach(function(ti){ti.update({},!1)}),Ai&&ce.getSeriesOrderByLinks().forEach(function(ti){ti.chart&&ti.update({},!1)},this),Ri=pi&&pi.width,pi=pi&&(vt(pi.height)?Ot(pi.height,Ri||ce.chartWidth):pi.height),gi||at(Ri)&&Ri!==ce.chartWidth||at(pi)&&pi!==ce.chartHeight?ce.setSize(Ri,pi,se):kt(Rt,!0)&&ce.redraw(se),_t(ce,"afterUpdate",{options:Nt,redraw:Rt,animation:se})},Jt.prototype.setSubtitle=function(Nt,Rt){this.applyDescription("subtitle",Nt),this.layOutTitles(Rt)},Jt.prototype.setCaption=function(Nt,Rt){this.applyDescription("caption",Nt),this.layOutTitles(Rt)},Jt.prototype.showResetZoom=function(){function Nt(){Rt.zoomOut()}var Rt=this,ie=h.lang,se=Rt.options.chart.zooming.resetButton,ce=se.theme,te="chart"===se.relativeTo||"spacingBox"===se.relativeTo?null:"scrollablePlotBox";_t(this,"beforeShowResetZoom",null,function(){Rt.resetZoomButton=Rt.renderer.button(ie.resetZoom,null,null,Nt,ce).attr({align:se.position.align,title:ie.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(se.position,!1,te)}),_t(this,"afterShowResetZoom")},Jt.prototype.zoomOut=function(){_t(this,"selection",{resetSelection:!0},this.zoom)},Jt.prototype.zoom=function(Nt){var ce,Rt=this,ie=Rt.pointer,se=!1;!Nt||Nt.resetSelection?(Rt.axes.forEach(function(Ie){ce=Ie.zoom()}),ie.initiated=!1):Nt.xAxis.concat(Nt.yAxis).forEach(function(Ie){var Ve=Ie.axis;(ie[Ve.isXAxis?"zoomX":"zoomY"]&&pt(ie.mouseDownX)&&pt(ie.mouseDownY)&&Rt.isInsidePlot(ie.mouseDownX-Rt.plotLeft,ie.mouseDownY-Rt.plotTop,{axis:Ve})||!pt(Rt.inverted?ie.mouseDownX:ie.mouseDownY))&&(ce=Ve.zoom(Ie.min,Ie.max),Ve.displayBtn&&(se=!0))});var te=Rt.resetZoomButton;se&&!te?Rt.showResetZoom():!se&&Ct(te)&&(Rt.resetZoomButton=te.destroy()),ce&&Rt.redraw(kt(Rt.options.chart.animation,Nt&&Nt.animation,100>Rt.pointCount))},Jt.prototype.pan=function(Nt,Rt){var ie=this,se=ie.hoverPoints;Rt="object"==typeof Rt?Rt:{enabled:Rt,type:"x"};var ce=ie.options.chart;ce&&ce.panning&&(ce.panning=Rt);var Ie,te=Rt.type;_t(this,"pan",{originalEvent:Nt},function(){se&&se.forEach(function(gi){gi.setState()});var Ve=ie.xAxis;"xy"===te?Ve=Ve.concat(ie.yAxis):"y"===te&&(Ve=ie.yAxis);var Ai={};Ve.forEach(function(gi){if(gi.options.panningEnabled&&!gi.options.isInternal){var pi=gi.horiz,Ri=Nt[pi?"chartX":"chartY"],ti=ie[pi=pi?"mouseDownX":"mouseDownY"],Ti=gi.minPointOffset||0,xi=gi.reversed&&!ie.inverted||!gi.reversed&&ie.inverted?-1:1,be=gi.getExtremes(),ii=gi.toValue(ti-Ri,!0)+Ti*xi,nt=gi.toValue(ti+gi.len-Ri,!0)-(Ti*xi||gi.isXAxis&&gi.pointRangePadding||0),St=nt<ii;xi=gi.hasVerticalPanning(),ti=St?nt:ii,ii=St?ii:nt;var Gt=gi.panningState;!xi||gi.isXAxis||Gt&&!Gt.isDirty||gi.series.forEach(function(ee){var ge=ee.getProcessedData(!0);ge=ee.getExtremes(ge.yData,!0),Gt||(Gt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),at(ge.dataMin)&&at(ge.dataMax)&&(Gt.startMin=Math.min(kt(ee.options.threshold,1/0),ge.dataMin,Gt.startMin),Gt.startMax=Math.max(kt(ee.options.threshold,-1/0),ge.dataMax,Gt.startMax))}),xi=Math.min(kt(Gt&&Gt.startMin,be.dataMin),Ti?be.min:gi.toValue(gi.toPixels(be.min)-gi.minPixelPadding)),nt=Math.max(kt(Gt&&Gt.startMax,be.dataMax),Ti?be.max:gi.toValue(gi.toPixels(be.max)+gi.minPixelPadding)),gi.panningState=Gt,gi.isOrdinal||(0<(Ti=xi-ti)&&(ii+=Ti,ti=xi),0<(Ti=ii-nt)&&(ii=nt,ti-=Ti),gi.series.length&&ti!==be.min&&ii!==be.max&&ti>=xi&&ii<=nt&&(gi.setExtremes(ti,ii,!1,!1,{trigger:"pan"}),!ie.resetZoomButton&&ti!==xi&&ii!==nt&&te.match("y")&&(ie.showResetZoom(),gi.displayBtn=!1),Ie=!0),Ai[pi]=Ri)}}),Tt(Ai,function(gi,pi){ie[pi]=gi}),Ie&&ie.redraw(!1),tt(ie.container,{cursor:"move"})})},Jt}(),gt(s.prototype,{callbacks:[],collectionsWithInit:{xAxis:[s.prototype.addAxis,[!0]],yAxis:[s.prototype.addAxis,[!1]],series:[s.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),s}),e(i,"Core/Legend/LegendSymbol.js",[i["Core/Utilities.js"]],function(s){var j,G,c=s.extend,T=s.merge,M=s.pick;return(G=j||(j={})).drawLineMarker=function(Y){var z=this.legendItem=this.legendItem||{},F=this.options,N=Y.symbolWidth,a=Y.symbolHeight,p=a/2,l=this.chart.renderer,d=z.group;Y=Y.baseline-Math.round(.3*Y.fontMetrics.b);var _={},w=F.marker,x=0;this.chart.styledMode||(_={"stroke-width":Math.min(F.lineWidth||0,24)},F.dashStyle?_.dashstyle=F.dashStyle:"square"!==F.linecap&&(_["stroke-linecap"]="round")),z.line=l.path().addClass("highcharts-graph").attr(_).add(d),_["stroke-linecap"]&&(x=Math.min(z.line.strokeWidth(),N)/2),z.line.attr({d:[["M",x,Y],["L",N-x,Y]]}),w&&!1!==w.enabled&&N&&(F=Math.min(M(w.radius,p),p),0===this.symbol.indexOf("url")&&(w=T(w,{width:a,height:a}),F=0),z.symbol=z=l.symbol(this.symbol,N/2-F,Y-F,2*F,2*F,c({context:"legend"},w)).addClass("highcharts-point").add(d),z.isMarker=!0)},G.drawRectangle=function(Y,z){var F=Y.symbolHeight,N=Y.options.squareSymbol;(z=z.legendItem||{}).symbol=this.chart.renderer.rect(N?(Y.symbolWidth-F)/2:0,Y.baseline-F+1,N?F:Y.symbolWidth,F,M(Y.options.symbolRadius,F/2)).addClass("highcharts-point").attr({zIndex:3}).add(z.group)},j}),e(i,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),e(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(s,c,T,M,j,G,Y,z,F,N){var a=s.animObject,p=s.setAnimation,l=c.defaultOptions,d=T.registerEventOptions,_=M.hasTouch,w=M.svg,x=M.win,I=z.seriesTypes,h=N.arrayMax,n=N.arrayMin,D=N.clamp,P=N.cleanRecursively,E=N.correctFloat,m=N.defined,C=N.erase,A=N.error,k=N.extend,f=N.find,o=N.fireEvent,R=N.getNestedProperty,U=N.isArray,X=N.isNumber,tt=N.isString,pt=N.merge,ot=N.objectEach,W=N.pick,K=N.removeEvent,gt=N.splat,yt=N.syncTimeout;return s=function(){function _t(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return _t.prototype.init=function(rt,ut){o(this,"init",{options:ut});var at=this,Ct=rt.series;this.eventsToUnbind=[],at.chart=rt,at.options=at.setOptions(ut),ut=at.options,at.linkedSeries=[],at.bindAxes(),k(at,{name:ut.name,state:"",visible:!1!==ut.visible,selected:!0===ut.selected}),d(this,ut);var ct,vt=ut.events;(vt&&vt.click||ut.point&&ut.point.events&&ut.point.events.click||ut.allowPointSelect)&&(rt.runTrackerClick=!0),at.getColor(),at.getSymbol(),at.parallelArrays.forEach(function(Tt){at[Tt+"Data"]||(at[Tt+"Data"]=[])}),at.isCartesian&&(rt.hasCartesianSeries=!0),Ct.length&&(ct=Ct[Ct.length-1]),at._i=W(ct&&ct._i,-1)+1,at.opacity=at.options.opacity,rt.orderSeries(this.insert(Ct)),ut.dataSorting&&ut.dataSorting.enabled?at.setDataSortingOptions():at.points||at.data||at.setData(ut.data,!1),o(this,"afterInit")},_t.prototype.is=function(rt){return I[rt]&&this instanceof I[rt]},_t.prototype.insert=function(rt){var at,ut=this.options.index;if(X(ut)){for(at=rt.length;at--;)if(ut>=W(rt[at].options.index,rt[at]._i)){rt.splice(at+1,0,this);break}-1===at&&rt.unshift(this),at+=1}else rt.push(this);return W(at,rt.length-1)},_t.prototype.bindAxes=function(){var Ct,rt=this,ut=rt.options,at=rt.chart;o(this,"bindAxes",null,function(){(rt.axisTypes||[]).forEach(function(vt){var ct=0;at[vt].forEach(function(Tt){Ct=Tt.options,(ut[vt]===ct&&!Ct.isInternal||typeof ut[vt]<"u"&&ut[vt]===Ct.id||typeof ut[vt]>"u"&&0===Ct.index)&&(rt.insert(Tt.series),rt[vt]=Tt,Tt.isDirty=!0),Ct.isInternal||ct++}),rt[vt]||rt.optionalAxis===vt||A(18,!0,at)})}),o(this,"afterBindAxes")},_t.prototype.updateParallelArrays=function(rt,ut){var at=rt.series,Ct=arguments,vt=X(ut)?function(ct){var Tt="y"===ct&&at.toYData?at.toYData(rt):rt[ct];at[ct+"Data"][ut]=Tt}:function(ct){Array.prototype[ut].apply(at[ct+"Data"],Array.prototype.slice.call(Ct,2))};at.parallelArrays.forEach(vt)},_t.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},_t.prototype.autoIncrement=function(rt){var Tt,ut=this.options,at=ut.pointIntervalUnit,Ct=ut.relativeXValue,vt=this.chart.time,ct=this.xIncrement;return ct=W(ct,ut.pointStart,0),this.pointInterval=Tt=W(this.pointInterval,ut.pointInterval,1),Ct&&X(rt)&&(Tt*=rt),at&&(ut=new vt.Date(ct),"day"===at?vt.set("Date",ut,vt.get("Date",ut)+Tt):"month"===at?vt.set("Month",ut,vt.get("Month",ut)+Tt):"year"===at&&vt.set("FullYear",ut,vt.get("FullYear",ut)+Tt),Tt=ut.getTime()-ct),Ct&&X(rt)?ct+Tt:(this.xIncrement=ct+Tt,ct)},_t.prototype.setDataSortingOptions=function(){var rt=this.options;k(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),m(rt.pointRange)||(rt.pointRange=1)},_t.prototype.setOptions=function(rt){var ut=this.chart,at=ut.options,Ct=at.plotOptions,vt=ut.userOptions||{};rt=pt(rt),ut=ut.styledMode;var ct={plotOptions:Ct,userOptions:rt};o(this,"setOptions",ct);var Tt=ct.plotOptions[this.type],kt=vt.plotOptions||{};return this.userOptions=ct.userOptions,vt=pt(Tt,Ct.series,vt.plotOptions&&vt.plotOptions[this.type],rt),this.tooltipOptions=pt(l.tooltip,l.plotOptions.series&&l.plotOptions.series.tooltip,l.plotOptions[this.type].tooltip,at.tooltip.userOptions,Ct.series&&Ct.series.tooltip,Ct[this.type].tooltip,rt.tooltip),this.stickyTracking=W(rt.stickyTracking,kt[this.type]&&kt[this.type].stickyTracking,kt.series&&kt.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||vt.stickyTracking),null===Tt.marker&&delete vt.marker,this.zoneAxis=vt.zoneAxis,Ct=this.zones=(vt.zones||[]).slice(),!vt.negativeColor&&!vt.negativeFillColor||vt.zones||(at={value:vt[this.zoneAxis+"Threshold"]||vt.threshold||0,className:"highcharts-negative"},ut||(at.color=vt.negativeColor,at.fillColor=vt.negativeFillColor),Ct.push(at)),Ct.length&&m(Ct[Ct.length-1].value)&&Ct.push(ut?{}:{color:this.color,fillColor:this.fillColor}),o(this,"afterSetOptions",{options:vt}),vt},_t.prototype.getName=function(){return W(this.options.name,"Series "+(this.index+1))},_t.prototype.getCyclic=function(rt,ut,at){var Ct=this.chart,vt=this.userOptions,ct=rt+"Index",Tt=rt+"Counter",kt=at?at.length:W(Ct.options.chart[rt+"Count"],Ct[rt+"Count"]);if(!ut){var Ft=W(vt[ct],vt["_"+ct]);m(Ft)||(Ct.series.length||(Ct[Tt]=0),vt["_"+ct]=Ft=Ct[Tt]%kt,Ct[Tt]+=1),at&&(ut=at[Ft])}typeof Ft<"u"&&(this[ct]=Ft),this[rt]=ut},_t.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||l.plotOptions[this.type].color,this.chart.options.colors)},_t.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},_t.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},_t.prototype.findPointIndex=function(rt,ut){var Tt,kt,at=rt.id,Ct=rt.x,vt=this.points,ct=this.options.dataSorting;if(at)(ct=this.chart.get(at))instanceof G&&(Tt=ct);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Tt=function(Ot){return!Ot.touched&&Ot.index===rt.index},ct&&ct.matchByName?Tt=function(Ot){return!Ot.touched&&Ot.name===rt.name}:this.options.relativeXValue&&(Tt=function(Ot){return!Ot.touched&&Ot.options.x===rt.x}),!(Tt=f(vt,Tt))))return;if(Tt){var Ft=Tt&&Tt.index;typeof Ft<"u"&&(kt=!0)}return typeof Ft>"u"&&X(Ct)&&(Ft=this.xData.indexOf(Ct,ut)),-1!==Ft&&typeof Ft<"u"&&this.cropped&&(Ft=Ft>=this.cropStart?Ft-this.cropStart:Ft),!kt&&X(Ft)&&vt[Ft]&&vt[Ft].touched&&(Ft=void 0),Ft},_t.prototype.updateData=function(rt,ut){var Ft,Ot,jt,at=this.options,Ct=at.dataSorting,vt=this.points,ct=[],Tt=this.requireSorting,kt=rt.length===vt.length,$t=!0;if(this.xIncrement=null,rt.forEach(function(Wt,ne){var Jt=m(Wt)&&this.pointClass.prototype.optionsToObject.call({series:this},Wt)||{};Jt.id||X(Jt.x)?(-1===(Jt=this.findPointIndex(Jt,jt))||typeof Jt>"u"?ct.push(Wt):vt[Jt]&&Wt!==at.data[Jt]?(vt[Jt].update(Wt,!1,null,!1),vt[Jt].touched=!0,Tt&&(jt=Jt+1)):vt[Jt]&&(vt[Jt].touched=!0),(!kt||ne!==Jt||Ct&&Ct.enabled||this.hasDerivedData)&&(Ft=!0)):ct.push(Wt)},this),Ft)for(rt=vt.length;rt--;)(Ot=vt[rt])&&!Ot.touched&&Ot.remove&&Ot.remove(!1,ut);else!kt||Ct&&Ct.enabled?$t=!1:(rt.forEach(function(Wt,ne){Wt!==vt[ne].y&&vt[ne].update&&vt[ne].update(Wt,!1,null,!1)}),ct.length=0);return vt.forEach(function(Wt){Wt&&(Wt.touched=!1)}),!!$t&&(ct.forEach(function(Wt){this.addPoint(Wt,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=h(this.xData),this.autoIncrement()),!0)},_t.prototype.setData=function(rt,ut,at,Ct){void 0===ut&&(ut=!0);var vt=this,ct=vt.points,Tt=ct&&ct.length||0,kt=vt.options,Ft=vt.chart,Ot=kt.dataSorting,jt=vt.xAxis,$t=kt.turboThreshold,Wt=this.xData,ne=this.yData,Jt=vt.pointArrayMap;Jt=Jt&&Jt.length;var Rt,Nt=kt.keys,ie=0,se=1,ce=null;if(!Ft.options.chart.allowMutatingData){kt.data&&delete vt.options.data,vt.userOptions.data&&delete vt.userOptions.data;var te=pt(!0,rt)}if(te=(rt=te||rt||[]).length,Ot&&Ot.enabled&&(rt=this.sortData(rt)),Ft.options.chart.allowMutatingData&&!1!==Ct&&te&&Tt&&!vt.cropped&&!vt.hasGroupedData&&vt.visible&&!vt.boosted&&(Rt=this.updateData(rt,at)),!Rt){if(vt.xIncrement=null,vt.colorCounter=0,this.parallelArrays.forEach(function(Ie){vt[Ie+"Data"].length=0}),$t&&te>$t)if(ce=vt.getFirstValidPoint(rt),X(ce))for(at=0;at<te;at++)Wt[at]=this.autoIncrement(),ne[at]=rt[at];else if(U(ce))if(Jt)if(ce.length===Jt)for(at=0;at<te;at++)Wt[at]=this.autoIncrement(),ne[at]=rt[at];else for(at=0;at<te;at++)Wt[at]=(Ct=rt[at])[0],ne[at]=Ct.slice(1,Jt+1);else if(Nt&&(ie=0<=(ie=Nt.indexOf("x"))?ie:0,se=0<=(se=Nt.indexOf("y"))?se:1),1===ce.length&&(se=0),ie===se)for(at=0;at<te;at++)Wt[at]=this.autoIncrement(),ne[at]=rt[at][se];else for(at=0;at<te;at++)Wt[at]=(Ct=rt[at])[ie],ne[at]=Ct[se];else A(12,!1,Ft);else for(at=0;at<te;at++)typeof rt[at]<"u"&&(vt.pointClass.prototype.applyOptions.apply(Ct={series:vt},[rt[at]]),vt.updateParallelArrays(Ct,at));for(ne&&tt(ne[0])&&A(14,!0,Ft),vt.data=[],vt.options.data=vt.userOptions.data=rt,at=Tt;at--;)ct[at]&&ct[at].destroy&&ct[at].destroy();jt&&(jt.minRange=jt.userMinRange),vt.isDirty=Ft.isDirtyBox=!0,vt.isDirtyData=!!ct,at=!1}"point"===kt.legendType&&(this.processData(),this.generatePoints()),ut&&Ft.redraw(at)},_t.prototype.sortData=function(rt){var ut=this,at=ut.options.dataSorting.sortKey||"y",Ct=function(vt,ct){return m(ct)&&vt.pointClass.prototype.optionsToObject.call({series:vt},ct)||{}};return rt.forEach(function(vt,ct){rt[ct]=Ct(ut,vt),rt[ct].index=ct},this),rt.concat().sort(function(vt,ct){return vt=R(at,vt),(ct=R(at,ct))<vt?-1:ct>vt?1:0}).forEach(function(vt,ct){vt.x=ct},this),ut.linkedSeries&&ut.linkedSeries.forEach(function(vt){var ct=vt.options,Tt=ct.data;ct.dataSorting&&ct.dataSorting.enabled||!Tt||(Tt.forEach(function(kt,Ft){Tt[Ft]=Ct(vt,kt),rt[Ft]&&(Tt[Ft].x=rt[Ft].x,Tt[Ft].index=Ft)}),vt.setData(Tt,!1))}),rt},_t.prototype.getProcessedData=function(rt){var ut=this.xAxis,at=this.options,Ct=at.cropThreshold,vt=rt||this.getExtremesFromAll||at.getExtremesFromAll,ct=this.isCartesian;rt=ut&&ut.val2lin,at=!(!ut||!ut.logarithmic);var Tt=0,kt=this.xData,Ft=this.yData,Ot=this.requireSorting,jt=!1,$t=kt.length;if(ut){var Wt=(jt=ut.getExtremes()).min,ne=jt.max;jt=!(!ut.categories||ut.names.length)}if(ct&&this.sorted&&!vt&&(!Ct||$t>Ct||this.forceCrop))if(kt[$t-1]<Wt||kt[0]>ne)kt=[],Ft=[];else if(this.yData&&(kt[0]<Wt||kt[$t-1]>ne)){var Jt=this.cropData(this.xData,this.yData,Wt,ne);kt=Jt.xData,Ft=Jt.yData,Tt=Jt.start,Jt=!0}for(Ct=kt.length||1;--Ct;)if(0<(ut=at?rt(kt[Ct])-rt(kt[Ct-1]):kt[Ct]-kt[Ct-1])&&(typeof Nt>"u"||ut<Nt))var Nt=ut;else 0>ut&&Ot&&!jt&&(A(15,!1,this.chart),Ot=!1);return{xData:kt,yData:Ft,cropped:Jt,cropStart:Tt,closestPointRange:Nt}},_t.prototype.processData=function(rt){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!rt)return!1;rt=this.getProcessedData(),this.cropped=rt.cropped,this.cropStart=rt.cropStart,this.processedXData=rt.xData,this.processedYData=rt.yData,this.closestPointRange=this.basePointRange=rt.closestPointRange,o(this,"afterProcessData")},_t.prototype.cropData=function(rt,ut,at,Ct,vt){var Tt,ct=rt.length,kt=0,Ft=ct;for(vt=W(vt,this.cropShoulder),Tt=0;Tt<ct;Tt++)if(rt[Tt]>=at){kt=Math.max(0,Tt-vt);break}for(at=Tt;at<ct;at++)if(rt[at]>Ct){Ft=at+vt;break}return{xData:rt.slice(kt,Ft),yData:ut.slice(kt,Ft),start:kt,end:Ft}},_t.prototype.generatePoints=function(){var rt=this.options,ut=this.processedData||rt.data,at=this.processedXData,Ct=this.processedYData,vt=this.pointClass,ct=at.length,Tt=this.cropStart||0,kt=this.hasGroupedData,Ft=rt.keys,Ot=[];rt=rt.dataGrouping&&rt.dataGrouping.groupAll?Tt:0;var jt,$t,Wt=this.data;if(!Wt&&!kt){var ne=[];ne.length=ut.length,Wt=this.data=ne}for(Ft&&kt&&(this.options.keys=!1),$t=0;$t<ct;$t++){if(ne=Tt+$t,kt){var Jt=(new vt).init(this,[at[$t]].concat(gt(Ct[$t])));Jt.dataGroup=this.groupMap[rt+$t],Jt.dataGroup.options&&(Jt.options=Jt.dataGroup.options,k(Jt,Jt.dataGroup.options),delete Jt.dataLabels)}else(Jt=Wt[ne])||typeof ut[ne]>"u"||(Wt[ne]=Jt=(new vt).init(this,ut[ne],at[$t]));Jt&&(Jt.index=kt?rt+$t:ne,Ot[$t]=Jt)}if(this.options.keys=Ft,Wt&&(ct!==(jt=Wt.length)||kt))for($t=0;$t<jt;$t++)$t!==Tt||kt||($t+=ct),Wt[$t]&&(Wt[$t].destroyElements(),Wt[$t].plotX=void 0);this.data=Wt,this.points=Ot,o(this,"afterGeneratePoints")},_t.prototype.getXExtremes=function(rt){return{min:n(rt),max:h(rt)}},_t.prototype.getExtremes=function(rt,ut){var at=this.xAxis,Ct=this.yAxis,vt=this.processedXData||this.xData,ct=[],Tt=this.requireSorting?this.cropShoulder:0;Ct=!!Ct&&Ct.positiveValuesOnly;var kt,Ft=0,Ot=0,jt=0,$t=(rt=rt||this.stackedYData||this.processedYData||[]).length;if(at){var Wt=at.getExtremes();Ft=Wt.min,Ot=Wt.max}for(kt=0;kt<$t;kt++){var ne=vt[kt],Jt=(X(Wt=rt[kt])||U(Wt))&&(Wt.length||0<Wt||!Ct);if(ne=ut||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!at||(vt[kt+Tt]||ne)>=Ft&&(vt[kt-Tt]||ne)<=Ot,Jt&&ne)if(Jt=Wt.length)for(;Jt--;)X(Wt[Jt])&&(ct[jt++]=Wt[Jt]);else ct[jt++]=Wt}return rt={activeYData:ct,dataMin:n(ct),dataMax:h(ct)},o(this,"afterGetExtremes",{dataExtremes:rt}),rt},_t.prototype.applyExtremes=function(){var rt=this.getExtremes();return this.dataMin=rt.dataMin,this.dataMax=rt.dataMax,rt},_t.prototype.getFirstValidPoint=function(rt){for(var ut=rt.length,at=0,Ct=null;null===Ct&&at<ut;)Ct=rt[at],at++;return Ct},_t.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ne,Jt,rt=this.options,ut=rt.stacking,at=this.xAxis,Ct=at.categories,vt=this.enabledDataSorting,ct=this.yAxis,Tt=this.points,kt=Tt.length,Ft=this.pointPlacementToXValue(),Ot=!!Ft,jt=rt.threshold,$t=rt.startFromThreshold?jt:0,Wt=this.zoneAxis||"y",Nt=Number.MAX_VALUE;for(ne=0;ne<kt;ne++){var Rt=Tt[ne],ie=Rt.x,se=void 0,ce=void 0,te=Rt.y,Ie=Rt.low,Ve=ut&&ct.stacking&&ct.stacking.stacks[(this.negStacks&&te<($t?0:jt)?"-":"")+this.stackKey];if((ct.positiveValuesOnly&&!ct.validatePositiveValue(te)||at.positiveValuesOnly&&!at.validatePositiveValue(ie))&&(Rt.isNull=!0),Rt.plotX=Jt=E(D(at.translate(ie,0,0,0,1,Ft,"flags"===this.type),-1e5,1e5)),ut&&this.visible&&Ve&&Ve[ie]){var Ai=this.getStackIndicator(Ai,ie,this.index);!Rt.isNull&&Ai.key&&(ce=(se=Ve[ie]).points[Ai.key]),se&&U(ce)&&(te=ce[1],(Ie=ce[0])===$t&&Ai.key===Ve[ie].base&&(Ie=W(X(jt)?jt:ct.min)),ct.positiveValuesOnly&&m(Ie)&&0>=Ie&&(Ie=void 0),Rt.total=Rt.stackTotal=W(se.total),Rt.percentage=m(Rt.y)&&se.total?Rt.y/se.total*100:void 0,Rt.stackY=te,this.irregularWidths||se.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))}if(Rt.yBottom=m(Ie)?D(ct.translate(Ie,0,1,0,1),-1e5,1e5):void 0,this.dataModify&&(te=this.dataModify.modifyValue(te,ne)),Rt.plotY=void 0,X(te)&&typeof(se=ct.translate(te,!1,!0,!1,!0))<"u"&&(Rt.plotY=D(se,-1e5,1e5)),Rt.isInside=this.isPointInside(Rt),Rt.clientX=Ot?E(at.translate(ie,0,0,0,1,Ft)):Jt,Rt.negative=Rt[Wt]<(rt[Wt+"Threshold"]||jt||0),Rt.category=W(Ct&&Ct[Rt.x],Rt.x),!Rt.isNull&&!1!==Rt.visible){typeof gi<"u"&&(Nt=Math.min(Nt,Math.abs(Jt-gi)));var gi=Jt}Rt.zone=this.zones.length?Rt.getZone():void 0,!Rt.graphic&&this.group&&vt&&(Rt.isNew=!0)}this.closestPointRangePx=Nt,o(this,"afterTranslate")},_t.prototype.getValidPoints=function(rt,ut,at){var Ct=this.chart;return(rt||this.points||[]).filter(function(vt){return!(ut&&!Ct.isInsidePlot(vt.plotX,vt.plotY,{inverted:Ct.inverted}))&&!1!==vt.visible&&(at||!vt.isNull)})},_t.prototype.getClipBox=function(){var rt=this.chart,ut=this.xAxis,at=this.yAxis,Ct=pt(rt.clipBox);return ut&&ut.len!==rt.plotSizeX&&(Ct.width=ut.len),at&&at.len!==rt.plotSizeY&&(Ct.height=at.len),Ct},_t.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},_t.prototype.setClip=function(){var rt=this.chart,ut=this.group,at=this.markerGroup,Ct=rt.sharedClips;rt=rt.renderer;var vt=this.getClipBox(),ct=this.getSharedClipKey(),Tt=Ct[ct];Tt?Tt.animate(vt):Ct[ct]=Tt=rt.clipRect(vt),ut&&ut.clip(!1===this.options.clip?void 0:Tt),at&&at.clip()},_t.prototype.animate=function(rt){var ut=this.chart,at=this.group,Ct=this.markerGroup,vt=ut.inverted,ct=a(this.options.animation),Tt=[this.getSharedClipKey(),ct.duration,ct.easing,ct.defer].join(),kt=ut.sharedClips[Tt],Ft=ut.sharedClips[Tt+"m"];if(rt&&at)ct=this.getClipBox(),kt?kt.attr("height",ct.height):(ct.width=0,vt&&(ct.x=ut.plotHeight),kt=ut.renderer.clipRect(ct),ut.sharedClips[Tt]=kt,Ft=ut.renderer.clipRect({x:-99,y:-99,width:vt?ut.plotWidth+199:99,height:vt?99:ut.plotHeight+199}),ut.sharedClips[Tt+"m"]=Ft),at.clip(kt),Ct&&Ct.clip(Ft);else if(kt&&!kt.hasClass("highcharts-animating")){ut=this.getClipBox();var Ot=ct.step;Ct&&Ct.element.childNodes.length&&(ct.step=function(jt,$t){Ot&&Ot.apply($t,arguments),"width"===$t.prop&&Ft&&Ft.element&&Ft.attr(vt?"height":"width",jt+99)}),kt.addClass("highcharts-animating").animate(ut,ct)}},_t.prototype.afterAnimate=function(){var rt=this;this.setClip(),ot(this.chart.sharedClips,function(ut,at,Ct){ut&&!rt.chart.container.querySelector('[clip-path="url(#'.concat(ut.id,')"]'))&&(ut.destroy(),delete Ct[at])}),this.finishedAnimating=!0,o(this,"afterAnimate")},_t.prototype.drawPoints=function(rt){void 0===rt&&(rt=this.points);var Ft,Ot,ut=this.chart,at=ut.styledMode,Ct=this.colorAxis,vt=this.options.marker,ct=this[this.specialGroup||"markerGroup"],Tt=this.xAxis,kt=W(vt.enabled,!(Tt&&!Tt.isRadial)||null,this.closestPointRangePx>=vt.enabledThreshold*vt.radius);if(!1!==vt.enabled||this._hasPointMarkers)for(Ft=0;Ft<rt.length;Ft++){var jt=rt[Ft],$t=(Ot=jt.graphic)?"animate":"attr",Wt=jt.marker||{},ne=!!jt.marker;if((kt&&typeof Wt.enabled>"u"||Wt.enabled)&&!jt.isNull&&!1!==jt.visible){var Jt=W(Wt.symbol,this.symbol,"rect"),Nt=this.markerAttribs(jt,jt.selected&&"select");this.enabledDataSorting&&(jt.startXPos=Tt.reversed?-(Nt.width||0):Tt.width);var Rt=!1!==jt.isInside;!Ot&&Rt&&(0<(Nt.width||0)||jt.hasImage)&&(jt.graphic=Ot=ut.renderer.symbol(Jt,Nt.x,Nt.y,Nt.width,Nt.height,ne?Wt:vt).add(ct),this.enabledDataSorting&&ut.hasRendered&&(Ot.attr({x:jt.startXPos}),$t="animate")),Ot&&"animate"===$t&&Ot[Rt?"show":"hide"](Rt).animate(Nt),Ot&&(Wt=this.pointAttribs(jt,at||!jt.selected?void 0:"select"),at?Ct&&Ot.css({fill:Wt.fill}):Ot[$t](Wt)),Ot&&Ot.addClass(jt.getClassName(),!0)}else Ot&&(jt.graphic=Ot.destroy())}},_t.prototype.markerAttribs=function(rt,ut){var at=this.options,Ct=at.marker,vt=rt.marker||{},ct=vt.symbol||Ct.symbol,Tt={},kt=W(vt.radius,Ct&&Ct.radius);return ut&&(Ct=Ct.states[ut],kt=W((ut=vt.states&&vt.states[ut])&&ut.radius,Ct&&Ct.radius,kt&&kt+(Ct&&Ct.radiusPlus||0))),rt.hasImage=ct&&0===ct.indexOf("url"),rt.hasImage&&(kt=0),rt=rt.pos(),X(kt)&&rt&&(Tt.x=rt[0]-kt,Tt.y=rt[1]-kt,at.crisp&&(Tt.x=Math.floor(Tt.x))),kt&&(Tt.width=Tt.height=2*kt),Tt},_t.prototype.pointAttribs=function(rt,ut){var at=this.options.marker,Ct=rt&&rt.options,vt=Ct&&Ct.marker||{},ct=Ct&&Ct.color,Tt=rt&&rt.color,kt=rt&&rt.zone&&rt.zone.color,Ft=this.color;return rt=W(vt.lineWidth,at.lineWidth),Ct=1,Ft=ct||kt||Tt||Ft,ct=vt.fillColor||at.fillColor||Ft,Tt=vt.lineColor||at.lineColor||Ft,at=at.states[ut=ut||"normal"]||{},rt=W((ut=vt.states&&vt.states[ut]||{}).lineWidth,at.lineWidth,rt+W(ut.lineWidthPlus,at.lineWidthPlus,0)),{stroke:Tt=ut.lineColor||at.lineColor||Tt,"stroke-width":rt,fill:ct=ut.fillColor||at.fillColor||ct,opacity:Ct=W(ut.opacity,at.opacity,Ct)}},_t.prototype.destroy=function(rt){var Tt,kt,Ft,ut=this,at=ut.chart,Ct=/AppleWebKit\/533/.test(x.navigator.userAgent),vt=ut.data||[];for(o(ut,"destroy",{keepEventsForUpdate:rt}),this.removeEvents(rt),(ut.axisTypes||[]).forEach(function(Ot){(Ft=ut[Ot])&&Ft.series&&(C(Ft.series,ut),Ft.isDirty=Ft.forceRedraw=!0)}),ut.legendItem&&ut.chart.legend.destroyItem(ut),Tt=vt.length;Tt--;)(kt=vt[Tt])&&kt.destroy&&kt.destroy();ut.clips&&ut.clips.forEach(function(Ot){return Ot.destroy()}),N.clearTimeout(ut.animationTimeout),ot(ut,function(Ot,jt){Ot instanceof F&&!Ot.survive&&Ot[Ct&&"group"===jt?"hide":"destroy"]()}),at.hoverSeries===ut&&(at.hoverSeries=void 0),C(at.series,ut),at.orderSeries(),ot(ut,function(Ot,jt){rt&&"hcEvents"===jt||delete ut[jt]})},_t.prototype.applyZones=function(){var jt,$t,Wt,ne,Jt,Nt,Rt,ie,rt=this,ut=this.chart,at=ut.renderer,Ct=this.zones,vt=this.clips||[],ct=this.graph,Tt=this.area,kt=Math.max(ut.plotWidth,ut.plotHeight),Ft=this[(this.zoneAxis||"y")+"Axis"],Ot=ut.inverted,se=!1;if(Ct.length&&(ct||Tt)&&Ft&&typeof Ft.min<"u"){var ce=Ft.reversed,te=Ft.horiz;ct&&!this.showLine&&ct.hide(),Tt&&Tt.hide();var Ie=Ft.getExtremes();Ct.forEach(function(Ve,Ai){jt=ce?te?ut.plotWidth:0:te?0:Ft.toPixels(Ie.min)||0,jt=D(W($t,jt),0,kt),$t=D(Math.round(Ft.toPixels(W(Ve.value,Ie.max),!0)||0),0,kt),se&&(jt=$t=Ft.toPixels(Ie.max)),ne=Math.abs(jt-$t),Jt=Math.min(jt,$t),Nt=Math.max(jt,$t),Ft.isXAxis?(Wt={x:Ot?Nt:Jt,y:0,width:ne,height:kt},te||(Wt.x=ut.plotHeight-Wt.x)):(Wt={x:0,y:Ot?Nt:Jt,width:kt,height:ne},te&&(Wt.y=ut.plotWidth-Wt.y)),Ot&&at.isVML&&(Wt=Ft.isXAxis?{x:0,y:ce?Jt:Nt,height:Wt.width,width:ut.chartWidth}:{x:Wt.y-ut.plotLeft-ut.spacingBox.x,y:0,width:Wt.height,height:ut.chartHeight}),vt[Ai]?vt[Ai].animate(Wt):vt[Ai]=at.clipRect(Wt),Rt=rt["zone-area-"+Ai],ie=rt["zone-graph-"+Ai],ct&&ie&&ie.clip(vt[Ai]),Tt&&Rt&&Rt.clip(vt[Ai]),se=Ve.value>Ie.max,rt.resetZones&&0===$t&&($t=void 0)}),this.clips=vt}else rt.visible&&(ct&&ct.show(),Tt&&Tt.show())},_t.prototype.plotGroup=function(rt,ut,at,Ct,vt){var ct=this[rt],Tt=!ct;return at={visibility:at,zIndex:Ct||.1},typeof this.opacity>"u"||this.chart.styledMode||"inactive"===this.state||(at.opacity=this.opacity),Tt&&(this[rt]=ct=this.chart.renderer.g().add(vt)),ct.addClass("highcharts-"+ut+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(m(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(ct.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),ct.attr(at)[Tt?"attr":"animate"](this.getPlotBox(ut)),ct},_t.prototype.getPlotBox=function(rt){var ut=this.xAxis,at=this.yAxis,Ct=this.chart;return rt=Ct.inverted&&!Ct.polar&&ut&&!1!==this.invertible&&"series"===rt,Ct.inverted&&(ut=at,at=this.xAxis),{translateX:ut?ut.left:Ct.plotLeft,translateY:at?at.top:Ct.plotTop,rotation:rt?90:0,rotationOriginX:rt?(ut.len-at.len)/2:0,rotationOriginY:rt?(ut.len+at.len)/2:0,scaleX:rt?-1:1,scaleY:1}},_t.prototype.removeEvents=function(rt){rt||K(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ut){ut()}),this.eventsToUnbind.length=0)},_t.prototype.render=function(){var rt=this,ut=rt.chart,at=rt.options,Ct=a(at.animation),vt=rt.visible?"inherit":"hidden",ct=at.zIndex,Tt=rt.hasRendered,kt=ut.seriesGroup;ut=!rt.finishedAnimating&&ut.renderer.isSVG?Ct.duration:0,o(this,"render"),rt.plotGroup("group","series",vt,ct,kt),rt.markerGroup=rt.plotGroup("markerGroup","markers",vt,ct,kt),!1!==at.clip&&rt.setClip(),rt.animate&&ut&&rt.animate(!0),rt.drawGraph&&(rt.drawGraph(),rt.applyZones()),rt.visible&&rt.drawPoints(),rt.drawDataLabels&&rt.drawDataLabels(),rt.redrawPoints&&rt.redrawPoints(),rt.drawTracker&&!1!==rt.options.enableMouseTracking&&rt.drawTracker(),rt.animate&&ut&&rt.animate(),Tt||(ut&&Ct.defer&&(ut+=Ct.defer),rt.animationTimeout=yt(function(){rt.afterAnimate()},ut||0)),rt.isDirty=!1,rt.hasRendered=!0,o(rt,"afterRender")},_t.prototype.redraw=function(){var rt=this.isDirty||this.isDirtyData;this.translate(),this.render(),rt&&delete this.kdTree},_t.prototype.searchPoint=function(rt,ut){var at=this.xAxis,Ct=this.yAxis,vt=this.chart.inverted;return this.searchKDTree({clientX:vt?at.len-rt.chartY+at.pos:rt.chartX-at.pos,plotY:vt?Ct.len-rt.chartX+Ct.pos:rt.chartY-Ct.pos},ut,rt)},_t.prototype.buildKDTree=function(rt){function ut(vt,ct,Tt){var kt=vt&&vt.length;if(kt){var Ft=at.kdAxisArray[ct%Tt];return vt.sort(function(Ot,jt){return Ot[Ft]-jt[Ft]}),{point:vt[kt=Math.floor(kt/2)],left:ut(vt.slice(0,kt),ct+1,Tt),right:ut(vt.slice(kt+1),ct+1,Tt)}}}this.buildingKdTree=!0;var at=this,Ct=-1<at.options.findNearestPointBy.indexOf("y")?2:1;delete at.kdTree,yt(function(){at.kdTree=ut(at.getValidPoints(null,!at.directTouch),Ct,Ct),at.buildingKdTree=!1},at.options.kdNow||rt&&"touchstart"===rt.type?0:1)},_t.prototype.searchKDTree=function(rt,ut,at){var vt=this,ct=this.kdAxisArray[0],Tt=this.kdAxisArray[1],kt=ut?"distX":"dist";if(ut=-1<vt.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(at),this.kdTree)return function Ct(Ft,Ot,jt,$t){var Wt=Ot.point,ne=vt.kdAxisArray[jt%$t],Jt=Wt,Nt=m(Ft[ct])&&m(Wt[ct])?Math.pow(Ft[ct]-Wt[ct],2):null,Rt=m(Ft[Tt])&&m(Wt[Tt])?Math.pow(Ft[Tt]-Wt[Tt],2):null;return Wt.dist=m(Rt=(Nt||0)+(Rt||0))?Math.sqrt(Rt):Number.MAX_VALUE,Wt.distX=m(Nt)?Math.sqrt(Nt):Number.MAX_VALUE,Nt=0>(ne=Ft[ne]-Wt[ne])?"right":"left",Ot[Rt=0>ne?"left":"right"]&&(Jt=(Rt=Ct(Ft,Ot[Rt],jt+1,$t))[kt]<Jt[kt]?Rt:Wt),Ot[Nt]&&Math.sqrt(ne*ne)<Jt[kt]&&(Jt=(Ft=Ct(Ft,Ot[Nt],jt+1,$t))[kt]<Jt[kt]?Ft:Jt),Jt}(rt,this.kdTree,ut,ut)},_t.prototype.pointPlacementToXValue=function(){var rt=this.options,ut=rt.pointRange,at=this.xAxis;return"between"===(rt=rt.pointPlacement)&&(rt=at.reversed?-.5:.5),X(rt)?rt*(ut||at.pointRange):0},_t.prototype.isPointInside=function(rt){var ut=this.chart,at=this.xAxis,Ct=this.yAxis;return typeof rt.plotY<"u"&&typeof rt.plotX<"u"&&0<=rt.plotY&&rt.plotY<=(Ct?Ct.len:ut.plotHeight)&&0<=rt.plotX&&rt.plotX<=(at?at.len:ut.plotWidth)},_t.prototype.drawTracker=function(){var rt=this,ut=rt.options,at=ut.trackByArea,Ct=[].concat(at?rt.areaPath:rt.graphPath),vt=rt.chart,ct=vt.pointer,Tt=vt.renderer,kt=vt.options.tooltip.snap,Ft=rt.tracker,Ot=function($t){vt.hoverSeries!==rt&&rt.onMouseOver()},jt="rgba(192,192,192,"+(w?1e-4:.002)+")";Ft?Ft.attr({d:Ct}):rt.graph&&(rt.tracker=Tt.path(Ct).attr({visibility:rt.visible?"inherit":"hidden",zIndex:2}).addClass(at?"highcharts-tracker-area":"highcharts-tracker-line").add(rt.group),vt.styledMode||rt.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:jt,fill:at?jt:"none","stroke-width":rt.graph.strokeWidth()+(at?0:2*kt)}),[rt.tracker,rt.markerGroup,rt.dataLabelsGroup].forEach(function($t){$t&&($t.addClass("highcharts-tracker").on("mouseover",Ot).on("mouseout",function(Wt){ct.onTrackerMouseOut(Wt)}),ut.cursor&&!vt.styledMode&&$t.css({cursor:ut.cursor}),_)&&$t.on("touchstart",Ot)})),o(this,"afterDrawTracker")},_t.prototype.addPoint=function(rt,ut,at,Ct,vt){var ct=this.options,Tt=this.data,kt=this.chart,Ft=this.xAxis;Ft=Ft&&Ft.hasNames&&Ft.names;var $t,Ot=ct.data,jt=this.xData;ut=W(ut,!0);var Wt={series:this};this.pointClass.prototype.applyOptions.apply(Wt,[rt]);var ne=Wt.x,Jt=jt.length;if(this.requireSorting&&ne<jt[Jt-1])for($t=!0;Jt&&jt[Jt-1]>ne;)Jt--;this.updateParallelArrays(Wt,"splice",Jt,0,0),this.updateParallelArrays(Wt,Jt),Ft&&Wt.name&&(Ft[ne]=Wt.name),Ot.splice(Jt,0,rt),($t||this.processedData)&&(this.data.splice(Jt,0,null),this.processData()),"point"===ct.legendType&&this.generatePoints(),at&&(Tt[0]&&Tt[0].remove?Tt[0].remove(!1):(Tt.shift(),this.updateParallelArrays(Wt,"shift"),Ot.shift())),!1!==vt&&o(this,"addPoint",{point:Wt}),this.isDirtyData=this.isDirty=!0,ut&&kt.redraw(Ct)},_t.prototype.removePoint=function(rt,ut,at){var Ct=this,vt=Ct.data,ct=vt[rt],Tt=Ct.points,kt=Ct.chart,Ft=function(){Tt&&Tt.length===vt.length&&Tt.splice(rt,1),vt.splice(rt,1),Ct.options.data.splice(rt,1),Ct.updateParallelArrays(ct||{series:Ct},"splice",rt,1),ct&&ct.destroy(),Ct.isDirty=!0,Ct.isDirtyData=!0,ut&&kt.redraw()};p(at,kt),ut=W(ut,!0),ct?ct.firePointEvent("remove",null,Ft):Ft()},_t.prototype.remove=function(rt,ut,at,Ct){function vt(){ct.destroy(Ct),Tt.isDirtyLegend=Tt.isDirtyBox=!0,Tt.linkSeries(),W(rt,!0)&&Tt.redraw(ut)}var ct=this,Tt=ct.chart;!1!==at?o(ct,"remove",null,vt):vt()},_t.prototype.update=function(rt,ut){rt=P(rt,this.userOptions),o(this,"update",{options:rt});var at=this,Ct=at.chart,vt=at.userOptions,ct=at.initialType||at.type,Tt=Ct.options.plotOptions,kt=I[ct].prototype,Ft=at.finishedAnimating&&{animation:!1},Ot={},jt=["eventOptions","navigatorSeries","baseSeries"],$t=rt.type||vt.type||Ct.options.chart.type,Wt=!(this.hasDerivedData||$t&&$t!==this.type||typeof rt.pointStart<"u"||typeof rt.pointInterval<"u"||typeof rt.relativeXValue<"u"||rt.joinBy||rt.mapData||at.hasOptionChanged("dataGrouping")||at.hasOptionChanged("pointStart")||at.hasOptionChanged("pointInterval")||at.hasOptionChanged("pointIntervalUnit")||at.hasOptionChanged("keys"));if($t=$t||ct,Wt&&(jt.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==rt.visible&&jt.push("area","graph"),at.parallelArrays.forEach(function(Jt){jt.push(Jt+"Data")}),rt.data&&(rt.dataSorting&&k(at.options.dataSorting,rt.dataSorting),this.setData(rt.data,!1))),rt=pt(vt,Ft,{index:typeof vt.index>"u"?at.index:vt.index,pointStart:W(Tt&&Tt.series&&Tt.series.pointStart,vt.pointStart,at.xData[0])},!Wt&&{data:at.options.data},rt),Wt&&rt.data&&(rt.data=at.options.data),(jt=["group","markerGroup","dataLabelsGroup","transformGroup","shadowGroup"].concat(jt)).forEach(function(Jt){jt[Jt]=at[Jt],delete at[Jt]}),Tt=!1,I[$t]){if(Tt=$t!==at.type,at.remove(!1,!1,!1,!0),Tt)if(Object.setPrototypeOf)Object.setPrototypeOf(at,I[$t].prototype);else{for(ne in Ft=Object.hasOwnProperty.call(at,"hcEvents")&&at.hcEvents,kt)at[ne]=void 0;k(at,I[$t].prototype),Ft?at.hcEvents=Ft:delete at.hcEvents}}else A(17,!0,Ct,{missingModuleFor:$t});if(jt.forEach(function(Jt){at[Jt]=jt[Jt]}),at.init(Ct,rt),Wt&&this.points){if(!1===(rt=at.options).visible)Ot.graphic=1,Ot.dataLabel=1;else if(!at._hasPointLabels){var ne=rt.dataLabels;vt=vt.marker||{},!(kt=rt.marker)||!1!==kt.enabled&&vt.symbol===kt.symbol&&vt.height===kt.height&&vt.width===kt.width||(Ot.graphic=1),ne&&!1===ne.enabled&&(Ot.dataLabel=1)}for(vt=0,kt=this.points;vt<kt.length;vt++)(ne=kt[vt])&&ne.series&&(ne.resolveColor(),Object.keys(Ot).length&&ne.destroyElements(Ot),!1===rt.showInLegend&&ne.legendItem&&Ct.legend.destroyItem(ne))}at.initialType=ct,Ct.linkSeries(),Tt&&at.linkedSeries.length&&(at.isDirtyData=!0),o(this,"afterUpdate"),W(ut,!0)&&Ct.redraw(!!Wt&&void 0)},_t.prototype.setName=function(rt){this.name=this.options.name=this.userOptions.name=rt,this.chart.isDirtyLegend=!0},_t.prototype.hasOptionChanged=function(rt){var ut=this.options[rt],at=this.chart.options.plotOptions,Ct=this.userOptions[rt];return Ct?ut!==Ct:ut!==W(at&&at[this.type]&&at[this.type][rt],at&&at.series&&at.series[rt],ut)},_t.prototype.onMouseOver=function(){var rt=this.chart,ut=rt.hoverSeries;rt.pointer.setHoverChartIndex(),ut&&ut!==this&&ut.onMouseOut(),this.options.events.mouseOver&&o(this,"mouseOver"),this.setState("hover"),rt.hoverSeries=this},_t.prototype.onMouseOut=function(){var rt=this.options,ut=this.chart,at=ut.tooltip,Ct=ut.hoverPoint;ut.hoverSeries=null,Ct&&Ct.onMouseOut(),this&&rt.events.mouseOut&&o(this,"mouseOut"),!at||this.stickyTracking||at.shared&&!this.noSharedTooltip||at.hide(),ut.series.forEach(function(vt){vt.setState("",!0)})},_t.prototype.setState=function(rt,ut){var at=this,Ct=at.options,vt=at.graph,ct=Ct.inactiveOtherPoints,Tt=Ct.states,kt=W(Tt[rt||"normal"]&&Tt[rt||"normal"].animation,at.chart.options.chart.animation),Ft=Ct.lineWidth,Ot=0,jt=Ct.opacity;if(at.state!==(rt=rt||"")&&([at.group,at.markerGroup,at.dataLabelsGroup].forEach(function($t){$t&&(at.state&&$t.removeClass("highcharts-series-"+at.state),rt&&$t.addClass("highcharts-series-"+rt))}),at.state=rt,!at.chart.styledMode)){if(Tt[rt]&&!1===Tt[rt].enabled)return;if(rt&&(Ft=Tt[rt].lineWidth||Ft+(Tt[rt].lineWidthPlus||0),jt=W(Tt[rt].opacity,jt)),vt&&!vt.dashstyle&&X(Ft))for(vt.animate(Ct={"stroke-width":Ft},kt);at["zone-graph-"+Ot];)at["zone-graph-"+Ot].animate(Ct,kt),Ot+=1;ct||[at.group,at.markerGroup,at.dataLabelsGroup,at.labelBySeries].forEach(function($t){$t&&$t.animate({opacity:jt},kt)})}ut&&ct&&at.points&&at.setAllPointsToState(rt||void 0)},_t.prototype.setAllPointsToState=function(rt){this.points.forEach(function(ut){ut.setState&&ut.setState(rt)})},_t.prototype.setVisible=function(rt,ut){var at=this,Ct=at.chart,vt=Ct.options.chart.ignoreHiddenSeries,Tt=(at.visible=rt=at.options.visible=at.userOptions.visible=typeof rt>"u"?!at.visible:rt)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(kt){at[kt]&&at[kt][Tt]()}),(Ct.hoverSeries===at||(Ct.hoverPoint&&Ct.hoverPoint.series)===at)&&at.onMouseOut(),at.legendItem&&Ct.legend.colorizeItem(at,rt),at.isDirty=!0,at.options.stacking&&Ct.series.forEach(function(kt){kt.options.stacking&&kt.visible&&(kt.isDirty=!0)}),at.linkedSeries.forEach(function(kt){kt.setVisible(rt,!1)}),vt&&(Ct.isDirtyBox=!0),o(at,Tt),!1!==ut&&Ct.redraw()},_t.prototype.show=function(){this.setVisible(!0)},_t.prototype.hide=function(){this.setVisible(!1)},_t.prototype.select=function(rt){this.selected=rt=this.options.selected=typeof rt>"u"?!this.selected:rt,this.checkbox&&(this.checkbox.checked=rt),o(this,rt?"select":"unselect")},_t.prototype.shouldShowTooltip=function(rt,ut,at){return void 0===at&&(at={}),at.series=this,at.visiblePlotOnly=!0,this.chart.isInsidePlot(rt,ut,at)},_t.defaultOptions=Y,_t.types=z.seriesTypes,_t.registerType=z.registerSeriesType,_t}(),k(s.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:j.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:G,requireSorting:!0,sorted:!0}),z.series=s,s}),e(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/Series.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(s,c,T,M,j,G){var Y=s.stop,z=G.addEvent,F=G.createElement,N=G.defined,a=G.merge,p=G.pick;z(T,"afterSetChartSize",function(l){var d=this.options.chart.scrollablePlotArea,_=d&&d.minWidth;if(d=d&&d.minHeight,!this.renderer.forExport){if(_){if(this.scrollablePixelsX=_=Math.max(0,_-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=a(this.plotBox),this.plotBox.width=this.plotWidth+=_,this.inverted?this.clipBox.height+=_:this.clipBox.width+=_;var w={1:{name:"right",value:_}}}}else d&&(this.scrollablePixelsY=_=Math.max(0,d-this.chartHeight),N(_)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=a(this.plotBox),this.plotBox.height=this.plotHeight+=_,this.inverted?this.clipBox.width+=_:this.clipBox.height+=_,w={2:{name:"bottom",value:_}}));w&&!l.skipAxes&&this.axes.forEach(function(x){w[x.side]?x.getPlotLinePath=function(){var I=w[x.side].name,h=this[I];this[I]=h-w[x.side].value;var n=c.prototype.getPlotLinePath.apply(this,arguments);return this[I]=h,n}:(x.setAxisSize(),x.setAxisTranslation())})}}),z(T,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),T.prototype.setUpScrolling=function(){var _,l=this,d={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(d.overflowX="auto"),this.scrollablePixelsY&&(d.overflowY="auto"),this.scrollingParent=F("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=F("div",{className:"highcharts-scrolling"},d,this.scrollingParent),z(this.scrollingContainer,"scroll",function(){l.pointer&&(delete l.pointer.chartPosition,l.hoverPoint&&(_=l.hoverPoint),l.pointer.runPointActions(void 0,_,!0))}),this.innerContainer=F("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},T.prototype.moveFixedElements=function(){var w,l=this.container,d=this.fixedRenderer,_=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?w=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?w=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(w=".highcharts-yaxis"),w&&_.push(w+":not(.highcharts-radial-axis)",w+"-labels:not(.highcharts-radial-axis-labels)"),_.forEach(function(x){[].forEach.call(l.querySelectorAll(x),function(I){(I.namespaceURI===d.SVG_NS?d.box:d.box.parentNode).appendChild(I),I.style.pointerEvents="auto"})})},T.prototype.applyFixed=function(){var l=!this.fixedDiv,d=this.options.chart,_=d.scrollablePlotArea,w=j.getRendererType();l?(this.fixedDiv=F("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(d.style&&d.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=d=new w(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=d.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":p(_.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),z(this,"afterShowResetZoom",this.moveFixedElements),z(this,"afterApplyDrilldown",this.moveFixedElements),z(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||l)&&(this.scrollableDirty=!1,this.moveFixedElements()),d=this.chartWidth+(this.scrollablePixelsX||0),w=this.chartHeight+(this.scrollablePixelsY||0),Y(this.container),this.container.style.width=d+"px",this.container.style.height=w+"px",this.renderer.boxWrapper.attr({width:d,height:w,viewBox:[0,0,d,w].join(" ")}),this.chartBackground.attr({width:d,height:w}),this.scrollingContainer.style.height=this.chartHeight+"px",l&&(_.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*_.scrollPositionX),_.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*_.scrollPositionY)),l=this.plotTop-(w=this.axisOffset)[0]-1,_=this.plotLeft-w[3]-1,d=this.plotTop+this.plotHeight+w[2]+1,w=this.plotLeft+this.plotWidth+w[1]+1;var x=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),I=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);l=this.scrollablePixelsX?[["M",0,l],["L",this.plotLeft-1,l],["L",this.plotLeft-1,d],["L",0,d],["Z"],["M",x,l],["L",this.chartWidth,l],["L",this.chartWidth,d],["L",x,d],["Z"]]:this.scrollablePixelsY?[["M",_,0],["L",_,this.plotTop-1],["L",w,this.plotTop-1],["L",w,0],["Z"],["M",_,I],["L",_,this.chartHeight],["L",w,this.chartHeight],["L",w,I],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:l})},z(c,"afterInit",function(){this.chart.scrollableDirty=!0}),z(M,"show",function(){this.chart.scrollableDirty=!0})}),e(i,"Core/Axis/Stacking/StackItem.js",[i["Core/FormatUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T){var M=s.format,j=c.series,G=T.destroyObjectProperties,Y=T.pick,z=T.isNumber;return function(){function F(N,a,p,l,d){var _=N.chart.inverted,w=N.reversed;this.axis=N,N=this.isNegative=!!p!=!!w,this.options=a=a||{},this.x=l,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=d,this.rightCliff=this.leftCliff=0,this.alignOptions={align:a.align||(_?N?"left":"right":"center"),verticalAlign:a.verticalAlign||(_?"middle":N?"bottom":"top"),y:a.y,x:a.x},this.textAlign=a.textAlign||(_?N?"right":"left":"center")}return F.prototype.destroy=function(){G(this,this.axis)},F.prototype.render=function(N){var a=this.axis.chart,p=this.options,l=p.format;l=l?M(l,this,a):p.formatter.call(this),this.label?this.label.attr({text:l,visibility:"hidden"}):(this.label=a.renderer.label(l,null,void 0,p.shape,void 0,void 0,p.useHTML,!1,"stack-labels"),l={r:p.borderRadius||0,text:l,padding:Y(p.padding,5),visibility:"hidden"},a.styledMode||(l.fill=p.backgroundColor,l.stroke=p.borderColor,l["stroke-width"]=p.borderWidth,this.label.css(p.style||{})),this.label.attr(l),this.label.added||this.label.add(N)),this.label.labelrank=a.plotSizeY},F.prototype.setOffset=function(N,a,p,l,d,_){var w=this.alignOptions,x=this.axis,I=this.label,h=this.options,n=this.textAlign,D=x.chart;N=this.getStackBox({xOffset:N,width:a,boxBottom:p,boxTop:l,defaultX:d,xAxis:_}),d=w.verticalAlign,I&&N&&(a=I.getBBox(),p=I.padding,l="justify"===Y(h.overflow,"justify"),w.x=h.x||0,w.y=h.y||0,n=(d=this.adjustStackPosition({labelBox:a,verticalAlign:d,textAlign:n})).x,d=d.y,N.x-=n,N.y-=d,I.align(w,!1,N),(n=D.isInsidePlot(I.alignAttr.x+w.x+n,I.alignAttr.y+w.y+d))||(l=!1),l&&j.prototype.justifyDataLabel.call(x,I,w,I.alignAttr,a,N),I.attr({x:I.alignAttr.x,y:I.alignAttr.y,rotation:h.rotation,rotationOriginX:a.width/2,rotationOriginY:a.height/2}),Y(!l&&h.crop,!0)&&(n=z(I.x)&&z(I.y)&&D.isInsidePlot(I.x-p+I.width,I.y)&&D.isInsidePlot(I.x+p,I.y)),I[n?"show":"hide"]())},F.prototype.adjustStackPosition=function(N){var a=N.labelBox,p={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:a.width/2+a.width/2*p[N.textAlign],y:a.height/2*p[N.verticalAlign]}},F.prototype.getStackBox=function(N){var a=this.axis,p=a.chart,l=N.boxTop,d=N.defaultX,_=N.xOffset,w=N.width,x=N.boxBottom;return l=a.stacking.usePercentage?100:Y(l,this.total,0),l=a.toPixels(l),N=Y(d,(N.xAxis||p.xAxis[0]).toPixels(this.x))+_,a=a.toPixels(x||0),a=Math.abs(l-a),x=this.isNegative,p.inverted?{x:(x?l:l-a)-p.plotLeft,y:N-p.plotTop,width:a,height:w}:{x:N-p.plotLeft,y:(x?l-a:l)-p.plotTop,width:w,height:a}},F}()}),e(i,"Core/Axis/Stacking/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(s,c,T,M,j){function G(){var k=this,f=k.inverted;k.yAxis.forEach(function(o){o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),k.series.forEach(function(o){var R=o.xAxis&&o.xAxis.options||{};!o.options.stacking||!0!==o.visible&&!1!==k.options.chart.ignoreHiddenSeries||(o.stackKey=[o.type,m(o.options.stack,""),f?R.top:R.left,f?R.height:R.width].join())})}function Y(){var k=this.stacking;if(k){var f=k.stacks;E(f,function(o,R){h(o),f[R]=null}),k&&k.stackTotalGroup&&k.stackTotalGroup.destroy()}}function z(){"yAxis"!==this.coll||this.stacking||(this.stacking=new C(this))}function F(k,f,o,R){return!I(k)||k.x!==f||R&&k.stackKey!==R?k={x:f,index:0,key:R,stackKey:R}:k.index++,k.key=[o,f,k.index].join(),k}function N(){var X,k=this,f=k.stackKey,o=k.yAxis.stacking.stacks,R=k.processedXData,U=k[k.options.stacking+"Stacker"];U&&[f,"-"+f].forEach(function(tt){for(var ot,W,pt=R.length;pt--;)X=k.getStackIndicator(X,ot=R[pt],k.index,tt),(W=(ot=o[tt]&&o[tt][ot])&&ot.points[X.key])&&U.call(k,W,ot,pt)})}function a(k,f,o){k[0]=x(k[0]*(f=f.total?100/f.total:0)),k[1]=x(k[1]*f),this.stackedYData[o]=k[1]}function p(){var k=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?_.setStackedPoints.call(this,"group"):k&&E(k.stacks,function(f,o){"group"===o.slice(-5)&&(E(f,function(R){return R.destroy()}),delete k.stacks[o])})}function l(k){var f=this.chart,o=k||this.options.stacking;if(o&&(!0===this.visible||!1===f.options.chart.ignoreHiddenSeries)){var R=this.processedXData,U=this.processedYData,X=[],tt=U.length,pt=this.options,ot=pt.threshold,W=m(pt.startFromThreshold&&ot,0);pt=pt.stack;var rt,ut,K="-"+(k=k?""+this.type+",".concat(o):this.stackKey),gt=this.negStacks,yt=(f="group"===o?f.yAxis[0]:this.yAxis).stacking.stacks,_t=f.stacking.oldStacks;for(f.stacking.stacksTouched+=1,ut=0;ut<tt;ut++){var at=R[ut],Ct=U[ut],vt=this.getStackIndicator(vt,at,this.index),ct=vt.key,Tt=(rt=gt&&Ct<(W?0:ot))?K:k;yt[Tt]||(yt[Tt]={}),yt[Tt][at]||(_t[Tt]&&_t[Tt][at]?(yt[Tt][at]=_t[Tt][at],yt[Tt][at].total=null):yt[Tt][at]=new M(f,f.options.stackLabels,!!rt,at,pt)),Tt=yt[Tt][at],null!==Ct?(Tt.points[ct]=Tt.points[this.index]=[m(Tt.cumulative,W)],I(Tt.cumulative)||(Tt.base=ct),Tt.touched=f.stacking.stacksTouched,0<vt.index&&!1===this.singleStacks&&(Tt.points[ct][0]=Tt.points[this.index+","+at+",0"][0])):Tt.points[ct]=Tt.points[this.index]=null,"percent"===o?(rt=rt?k:K,Tt.total=gt&&yt[rt]&&yt[rt][at]?(rt=yt[rt][at]).total=Math.max(rt.total,Tt.total)+Math.abs(Ct)||0:x(Tt.total+(Math.abs(Ct)||0))):"group"===o?(D(Ct)&&(Ct=Ct[0]),null!==Ct&&(Tt.total=(Tt.total||0)+1)):Tt.total=x(Tt.total+(Ct||0)),Tt.cumulative="group"===o?(Tt.total||1)-1:m(Tt.cumulative,W)+(Ct||0),null!==Ct&&(Tt.points[ct].push(Tt.cumulative),X[ut]=Tt.cumulative,Tt.hasValidPoints=!0)}"percent"===o&&(f.stacking.usePercentage=!0),"group"!==o&&(this.stackedYData=X),f.stacking.oldStacks={}}}var A,k,f,d=s.getDeferredAnimation,_=T.series.prototype,w=j.addEvent,x=j.correctFloat,I=j.defined,h=j.destroyObjectProperties,n=j.fireEvent,D=j.isArray,P=j.isNumber,E=j.objectEach,m=j.pick,C=function(){function k(f){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=f}return k.prototype.buildStacks=function(){var X,f=this.axis,o=f.series,R=f.options.reversedStacks,U=o.length;for(this.usePercentage=!1,X=U;X--;){var tt=o[R?X:U-X-1];tt.setStackedPoints(),tt.setGroupedPoints()}for(X=0;X<U;X++)o[X].modifyStacks();n(f,"afterBuildStacks")},k.prototype.cleanStacks=function(){if(this.oldStacks)var f=this.stacks=this.oldStacks;E(f,function(o){E(o,function(R){R.cumulative=R.total})})},k.prototype.resetStacks=function(){var f=this;E(this.stacks,function(o){E(o,function(R,U){P(R.touched)&&R.touched<f.stacksTouched?(R.destroy(),delete o[U]):(R.total=null,R.cumulative=null)})})},k.prototype.renderStackTotals=function(){var f=this.axis,o=f.chart,R=o.renderer,U=this.stacks;f=d(o,f.options.stackLabels&&f.options.stackLabels.animation||!1);var X=this.stackTotalGroup=this.stackTotalGroup||R.g("stack-labels").attr({zIndex:6,opacity:0}).add();X.translate(o.plotLeft,o.plotTop),E(U,function(tt){E(tt,function(pt){pt.render(X)})}),X.animate({opacity:1},f)},k}();return k=A||(A={}),f=[],k.compose=function(o,R,U){-1===f.indexOf(o)&&(f.push(o),w(o,"init",z),w(o,"destroy",Y)),-1===f.indexOf(R)&&(f.push(R),R.prototype.getStacks=G),-1===f.indexOf(U)&&(f.push(U),(o=U.prototype).getStackIndicator=F,o.modifyStacks=N,o.percentStacker=a,o.setGroupedPoints=p,o.setStackedPoints=l)},A}),e(i,"Series/Line/LineSeries.js",[i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T){var Y,M=this&&this.__extends||(Y=function(z,F){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,a){N.__proto__=a}||function(N,a){for(var p in a)a.hasOwnProperty(p)&&(N[p]=a[p])})(z,F)},function(z,F){function N(){this.constructor=z}Y(z,F),z.prototype=null===F?Object.create(F):(N.prototype=F.prototype,new N)}),j=T.defined,G=T.merge;return T=function(Y){function z(){var F=null!==Y&&Y.apply(this,arguments)||this;return F.data=void 0,F.options=void 0,F.points=void 0,F}return M(z,Y),z.prototype.drawGraph=function(){var F=this,N=this.options,a=(this.gappedPath||this.getGraphPath).call(this),p=this.chart.styledMode,l=[["graph","highcharts-graph"]];p||l[0].push(N.lineColor||this.color||"#cccccc",N.dashStyle),(l=F.getZonesGraphs(l)).forEach(function(d,_){var w=d[0],x=F[w],I=x?"animate":"attr";x?(x.endX=F.preventGraphAnimation?null:a.xMap,x.animate({d:a})):a.length&&(F[w]=x=F.chart.renderer.path(a).addClass(d[1]).attr({zIndex:1}).add(F.group)),x&&!p&&(w={stroke:d[2],"stroke-width":N.lineWidth||0,fill:F.fillGraph&&F.color||"none"},d[3]?w.dashstyle=d[3]:"square"!==N.linecap&&(w["stroke-linecap"]=w["stroke-linejoin"]="round"),x[I](w).shadow(2>_&&N.shadow)),x&&(x.startX=a.xMap,x.isArea=a.isArea)})},z.prototype.getGraphPath=function(F,N,a){var w,p=this,l=p.options,d=[],_=[],x=l.step,I=(F=F||p.points).reversed;return I&&F.reverse(),(x={right:1,center:2}[x]||x&&3)&&I&&(x=4-x),(F=this.getValidPoints(F,!1,!(l.connectNulls&&!N&&!a))).forEach(function(h,n){var D=h.plotX,P=h.plotY,E=F[n-1];(h.leftCliff||E&&E.rightCliff)&&!a&&(w=!0),h.isNull&&!j(N)&&0<n?w=!l.connectNulls:h.isNull&&!N?w=!0:(0===n||w?n=[["M",h.plotX,h.plotY]]:p.getPointSpline?n=[p.getPointSpline(F,h,n)]:x?(n=1===x?[["L",E.plotX,P]]:2===x?[["L",(E.plotX+D)/2,E.plotY],["L",(E.plotX+D)/2,P]]:[["L",D,E.plotY]]).push(["L",D,P]):n=[["L",D,P]],_.push(h.x),x&&(_.push(h.x),2===x&&_.push(h.x)),d.push.apply(d,n),w=!1)}),d.xMap=_,p.graphPath=d},z.prototype.getZonesGraphs=function(F){return this.zones.forEach(function(N,a){a=["zone-graph-"+a,"highcharts-graph highcharts-zone-graph-"+a+" "+(N.className||"")],this.chart.styledMode||a.push(N.color||this.color,N.dashStyle||this.options.dashStyle),F.push(a)},this),F},z.defaultOptions=G(s.defaultOptions,{}),z}(s),c.registerSeriesType("line",T),T}),e(i,"Series/Area/AreaSeries.js",[i["Core/Color/Color.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T,M){var a,j=this&&this.__extends||(a=function(p,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var w in _)_.hasOwnProperty(w)&&(d[w]=_[w])})(p,l)},function(p,l){function d(){this.constructor=p}a(p,l),p.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}),G=s.parse,Y=T.seriesTypes.line;s=M.extend;var z=M.merge,F=M.objectEach,N=M.pick;return M=function(a){function p(){var l=null!==a&&a.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return j(p,a),p.prototype.drawGraph=function(){this.areaPath=[],a.prototype.drawGraph.apply(this);var l=this,d=this.areaPath,_=this.options,w=[["area","highcharts-area",this.color,_.fillColor]];this.zones.forEach(function(x,I){w.push(["zone-area-"+I,"highcharts-area highcharts-zone-area-"+I+" "+x.className,x.color||l.color,x.fillColor||_.fillColor])}),w.forEach(function(x){var I=x[0],h={},n=l[I],D=n?"animate":"attr";n?(n.endX=l.preventGraphAnimation?null:d.xMap,n.animate({d})):(h.zIndex=0,(n=l[I]=l.chart.renderer.path(d).addClass(x[1]).add(l.group)).isArea=!0),l.chart.styledMode||(h.fill=N(x[3],G(x[2]).setOpacity(N(_.fillOpacity,.75)).get())),n[D](h),n.startX=d.xMap,n.shiftUnit=_.step?2:1})},p.prototype.getGraphPath=function(l){var d=Y.prototype.getGraphPath,_=this.options,w=_.stacking,x=this.yAxis,I=[],h=[],n=this.index,D=x.stacking.stacks[this.stackKey],P=_.threshold,E=Math.round(x.getThreshold(_.threshold));_=N(_.connectNulls,"percent"===w);var m=function(R,U,X){var tt=l[R];R=w&&D[tt.x].points[n];var pt=tt[X+"Null"]||0;if(X=tt[X+"Cliff"]||0,tt=!0,X||pt){var ot=(pt?R[0]:R[1])+X,W=R[0]+X;tt=!!pt}else!w&&l[U]&&l[U].isNull&&(ot=W=P);typeof ot<"u"&&(h.push({plotX:f,plotY:null===ot?E:x.getThreshold(ot),isNull:tt,isCliff:!0}),I.push({plotX:f,plotY:null===W?E:x.getThreshold(W),doCurve:!1}))};l=l||this.points,w&&(l=this.getStackPoints(l));for(var C=0,A=l.length;C<A;++C){w||(l[C].leftCliff=l[C].rightCliff=l[C].leftNull=l[C].rightNull=void 0);var k=l[C].isNull,f=N(l[C].rectPlotX,l[C].plotX),o=w?N(l[C].yBottom,E):E;(!k||_)&&(_||m(C,C-1,"left"),k&&!w&&_||(h.push(l[C]),I.push({x:C,plotX:f,plotY:o})),_||m(C,C+1,"right"))}return m=d.call(this,h,!0,!0),I.reversed=!0,(o=(k=d.call(this,I,!0,!0))[0])&&"M"===o[0]&&(k[0]=["L",o[1],o[2]]),(k=m.concat(k)).length&&k.push(["Z"]),d=d.call(this,h,!1,_),k.xMap=m.xMap,this.areaPath=k,d},p.prototype.getStackPoints=function(l){var d=this,_=[],w=[],x=this.xAxis,I=this.yAxis,h=I.stacking.stacks[this.stackKey],n={},D=I.series,P=D.length,E=I.options.reversedStacks?1:-1,m=D.indexOf(d);if(l=l||this.points,this.options.stacking){for(var C=0;C<l.length;C++)l[C].leftNull=l[C].rightNull=void 0,n[l[C].x]=l[C];F(h,function(k,f){null!==k.total&&w.push(f)}),w.sort(function(k,f){return k-f});var A=D.map(function(k){return k.visible});w.forEach(function(k,f){var R,U,o=0;if(n[k]&&!n[k].isNull)_.push(n[k]),[-1,1].forEach(function(tt){var pt=1===tt?"rightNull":"leftNull",ot=h[w[f+tt]],W=0;if(ot)for(var K=m;0<=K&&K<P;){var gt=D[K].index;(R=ot.points[gt])||(gt===d.index?n[k][pt]=!0:A[K]&&(U=h[k].points[gt])&&(W-=U[1]-U[0])),K+=E}n[k][1===tt?"rightCliff":"leftCliff"]=W});else{for(var X=m;0<=X&&X<P;){if(R=h[k].points[D[X].index]){o=R[1];break}X+=E}o=N(o,0),o=I.translate(o,0,1,0,1),_.push({isNull:!0,plotX:x.translate(k,0,0,0,1),x:k,plotY:o,yBottom:o})}})}return _},p.defaultOptions=z(Y.defaultOptions,{threshold:0}),p}(Y),s(M.prototype,{singleStacks:!1,drawLegendSymbol:c.drawRectangle}),T.registerSeriesType("area",M),M}),e(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c){var Y,T=this&&this.__extends||(Y=function(z,F){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,a){N.__proto__=a}||function(N,a){for(var p in a)a.hasOwnProperty(p)&&(N[p]=a[p])})(z,F)},function(z,F){function N(){this.constructor=z}Y(z,F),z.prototype=null===F?Object.create(F):(N.prototype=F.prototype,new N)}),M=s.seriesTypes.line,j=c.merge,G=c.pick;return c=function(Y){function z(){var F=null!==Y&&Y.apply(this,arguments)||this;return F.data=void 0,F.options=void 0,F.points=void 0,F}return T(z,Y),z.prototype.getPointSpline=function(F,N,a){var p=N.plotX||0,l=N.plotY||0,d=F[a-1];if(a=F[a+1],d&&!d.isNull&&!1!==d.doCurve&&!N.isCliff&&a&&!a.isNull&&!1!==a.doCurve&&!N.isCliff){var _=a.plotX||0,w=0,x=(1.5*p+(d.plotX||0))/2.5,I=(1.5*l+(F=d.plotY||0))/2.5,h=(1.5*l+(a=a.plotY||0))/2.5;(_=(1.5*p+_)/2.5)!==x&&(w=(h-I)*(_-p)/(_-x)+l-h),h+=w,(I+=w)>F&&I>l?h=2*l-(I=Math.max(F,l)):I<F&&I<l&&(h=2*l-(I=Math.min(F,l))),h>a&&h>l?I=2*l-(h=Math.max(a,l)):h<a&&h<l&&(I=2*l-(h=Math.min(a,l))),N.rightContX=_,N.rightContY=h}return N=["C",G(d.rightContX,d.plotX,0),G(d.rightContY,d.plotY,0),G(x,p,0),G(I,l,0),p,l],d.rightContX=d.rightContY=void 0,N},z.defaultOptions=j(M.defaultOptions),z}(M),s.registerSeriesType("spline",c),c}),e(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Spline/SplineSeries.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T,M){var N,j=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),G=T.seriesTypes,Y=G.area;G=G.area.prototype;var z=M.extend,F=M.merge;return M=function(N){function a(){var p=null!==N&&N.apply(this,arguments)||this;return p.data=void 0,p.points=void 0,p.options=void 0,p}return j(a,N),a.defaultOptions=F(s.defaultOptions,Y.defaultOptions),a}(s),z(M.prototype,{getGraphPath:G.getGraphPath,getStackPoints:G.getStackPoints,drawGraph:G.drawGraph,drawLegendSymbol:c.drawRectangle}),T.registerSeriesType("areaspline",M),M}),e(i,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),e(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Series/Column/ColumnSeriesDefaults.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T,M,j,G,Y,z){var P,F=this&&this.__extends||(P=function(E,m){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,A){C.__proto__=A}||function(C,A){for(var k in A)A.hasOwnProperty(k)&&(C[k]=A[k])})(E,m)},function(E,m){function C(){this.constructor=E}P(E,m),E.prototype=null===m?Object.create(m):(C.prototype=m.prototype,new C)}),N=s.animObject,a=c.parse,p=M.hasTouch;s=M.noop;var l=z.clamp,d=z.defined,_=z.extend,w=z.fireEvent,x=z.isArray,I=z.isNumber,h=z.merge,n=z.pick,D=z.objectEach;return z=function(P){function E(){var m=null!==P&&P.apply(this,arguments)||this;return m.borderWidth=void 0,m.data=void 0,m.group=void 0,m.options=void 0,m.points=void 0,m}return F(E,P),E.prototype.animate=function(m){var C=this,A=this.yAxis,k=C.options,f=this.chart.inverted,o={},R=f?"translateX":"translateY";if(m)o.scaleY=.001,m=l(A.toPixels(k.threshold),A.pos,A.pos+A.len),f?o.translateX=m-A.len:o.translateY=m,C.clipBox&&C.setClip(),C.group.attr(o);else{var U=Number(C.group.attr(R));C.group.animate({scaleY:1},_(N(C.options.animation),{step:function(X,tt){C.group&&(o[R]=U+tt.pos*(A.pos-U),C.group.attr(o))}}))}},E.prototype.init=function(m,C){P.prototype.init.apply(this,arguments);var A=this;(m=A.chart).hasRendered&&m.series.forEach(function(k){k.type===A.type&&(k.isDirty=!0)})},E.prototype.getColumnMetrics=function(){var m=this,C=m.options,A=m.xAxis,k=m.yAxis,f=A.options.reversedStacks;f=A.reversed&&!f||!A.reversed&&f;var R,o={},U=0;!1===C.grouping?U=1:m.chart.series.forEach(function(ot){var W=ot.yAxis,K=ot.options;if(ot.type===m.type&&(ot.visible||!m.chart.options.chart.ignoreHiddenSeries)&&k.len===W.len&&k.pos===W.pos){if(K.stacking&&"group"!==K.stacking){typeof o[R=ot.stackKey]>"u"&&(o[R]=U++);var gt=o[R]}else!1!==K.grouping&&(gt=U++);ot.columnIndex=gt}});var X=Math.min(Math.abs(A.transA)*(A.ordinal&&A.ordinal.slope||C.pointRange||A.closestPointRange||A.tickInterval||1),A.len),tt=X*C.groupPadding,pt=(X-2*tt)/(U||1);return C=Math.min(C.maxPointWidth||A.len,n(C.pointWidth,pt*(1-2*C.pointPadding))),m.columnMetrics={width:C,offset:(pt-C)/2+(tt+((m.columnIndex||0)+(f?1:0))*pt-X/2)*(f?-1:1),paddedWidth:pt,columnCount:U},m.columnMetrics},E.prototype.crispCol=function(m,C,A,k){var f=this.chart,o=this.borderWidth,R=-(o%2?.5:0);return o=o%2?.5:1,f.inverted&&f.renderer.isVML&&(o+=1),this.options.crisp&&(A=Math.round(m+A)+R,A-=m=Math.round(m)+R),k=Math.round(C+k)+o,R=.5>=Math.abs(C)&&.5<k,k-=C=Math.round(C)+o,R&&k&&(--C,k+=1),{x:m,y:C,width:A,height:k}},E.prototype.adjustForMissingColumns=function(m,C,A,k){var f=this,o=this.options.stacking;if(!A.isNull&&1<k.columnCount){var R=this.yAxis.options.reversedStacks,U=0,X=R?0:-k.columnCount;D(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(tt){if("number"==typeof A.x){var pt=tt[A.x.toString()];pt&&(tt=pt.points[f.index],o?(tt&&(U=X),pt.hasValidPoints&&(R?X++:X--)):x(tt)&&(tt=Object.keys(pt.points).filter(function(ot){return!ot.match(",")&&pt.points[ot]&&1<pt.points[ot].length}).map(parseFloat).sort(function(ot,W){return W-ot}),U=tt.indexOf(f.index),X=tt.length))}}),m=(A.plotX||0)+((X-1)*k.paddedWidth+C)/2-C-U*k.paddedWidth}return m},E.prototype.translate=function(){var m=this,C=m.chart,A=m.options,k=m.dense=2>m.closestPointRange*m.xAxis.transA;k=m.borderWidth=n(A.borderWidth,k?0:1);var f=m.xAxis,o=m.yAxis,R=A.threshold,U=m.translatedThreshold=o.getThreshold(R),X=n(A.minPointLength,5),tt=m.getColumnMetrics(),pt=tt.width,ot=m.pointXOffset=tt.offset,W=m.dataMin,K=m.dataMax,gt=m.barW=Math.max(pt,1+2*k);C.inverted&&(U-=.5),A.pointPadding&&(gt=Math.ceil(gt)),G.prototype.translate.apply(m),m.points.forEach(function(yt){var _t=n(yt.yBottom,U),rt=999+Math.abs(_t),ut=yt.plotX||0;rt=l(yt.plotY,-rt,o.len+rt);var at=Math.min(rt,_t),Ct=Math.max(rt,_t)-at,vt=pt,ct=ut+ot,Tt=gt;X&&Math.abs(Ct)<X&&(Ct=X,ut=!o.reversed&&!yt.negative||o.reversed&&yt.negative,I(R)&&I(K)&&yt.y===R&&K<=R&&(o.min||0)<R&&(W!==K||(o.max||0)<=R)&&(ut=!ut),at=Math.abs(at-U)>X?_t-X:U-(ut?X:0)),d(yt.options.pointWidth)&&(vt=Tt=Math.ceil(yt.options.pointWidth),ct-=Math.round((vt-pt)/2)),A.centerInCategory&&(ct=m.adjustForMissingColumns(ct,vt,yt,tt)),yt.barX=ct,yt.pointWidth=vt,yt.tooltipPos=C.inverted?[l(o.len+o.pos-C.plotLeft-rt,o.pos-C.plotLeft,o.len+o.pos-C.plotLeft),f.len+f.pos-C.plotTop-ct-Tt/2,Ct]:[f.left-C.plotLeft+ct+Tt/2,l(rt+o.pos-C.plotTop,o.pos-C.plotTop,o.len+o.pos-C.plotTop),Ct],yt.shapeType=m.pointClass.prototype.shapeType||"rect",yt.shapeArgs=m.crispCol.apply(m,yt.isNull?[ct,U,Tt,0]:[ct,at,Tt,Ct])})},E.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},E.prototype.pointAttribs=function(m,C){var A=this.options,k=this.pointAttrToOptions||{},f=k.stroke||"borderColor",o=k["stroke-width"]||"borderWidth",R=m&&m.color||this.color,U=m&&m[f]||A[f]||R;k=m&&m.options.dashStyle||A.dashStyle;var X=m&&m[o]||A[o]||this[o]||0,tt=n(m&&m.opacity,A.opacity,1);if(m&&this.zones.length){var pt=m.getZone();R=m.options.color||pt&&(pt.color||m.nonZonedColor)||this.color,pt&&(U=pt.borderColor||U,k=pt.dashStyle||k,X=pt.borderWidth||X)}return C&&m&&(C=(m=h(A.states[C],m.options.states&&m.options.states[C]||{})).brightness,R=m.color||typeof C<"u"&&a(R).brighten(m.brightness).get()||R,U=m[f]||U,X=m[o]||X,k=m.dashStyle||k,tt=n(m.opacity,tt)),f={fill:R,stroke:U,"stroke-width":X,opacity:tt},k&&(f.dashstyle=k),f},E.prototype.drawPoints=function(m){void 0===m&&(m=this.points);var R,C=this,A=this.chart,k=C.options,f=A.renderer,o=k.animationLimit||250;m.forEach(function(U){var X=U.graphic,tt=!!X,pt=X&&A.pointCount<o?"animate":"attr";I(U.plotY)&&null!==U.y?(R=U.shapeArgs,X&&U.hasNewShapeType()&&(X=X.destroy()),C.enabledDataSorting&&(U.startXPos=C.xAxis.reversed?-(R&&R.width||0):C.xAxis.width),X||(U.graphic=X=f[U.shapeType](R).add(U.group||C.group))&&C.enabledDataSorting&&A.hasRendered&&A.pointCount<o&&(X.attr({x:U.startXPos}),tt=!0,pt="animate"),X&&tt&&X[pt](h(R)),k.borderRadius&&X[pt]({r:k.borderRadius}),A.styledMode||X[pt](C.pointAttribs(U,U.selected&&"select")).shadow(!1!==U.allowShadow&&k.shadow,null,k.stacking&&!k.borderRadius),X&&(X.addClass(U.getClassName(),!0),X.attr({visibility:U.visible?"inherit":"hidden"}))):X&&(U.graphic=X.destroy())})},E.prototype.drawTracker=function(m){void 0===m&&(m=this.points);var o,C=this,A=C.chart,k=A.pointer,f=function(R){var U=k.getPointFromEvent(R);typeof U<"u"&&(k.isDirectTouch=!0,U.onMouseOver(R))};m.forEach(function(R){o=x(R.dataLabels)?R.dataLabels:R.dataLabel?[R.dataLabel]:[],R.graphic&&(R.graphic.element.point=R),o.forEach(function(U){U.div?U.div.point=R:U.element.point=R})}),C._hasTracking||(C.trackerGroups.forEach(function(R){C[R]&&(C[R].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(U){k.onTrackerMouseOut(U)}),p&&C[R].on("touchstart",f),!A.styledMode&&C.options.cursor&&C[R].css({cursor:C.options.cursor}))}),C._hasTracking=!0),w(this,"afterDrawTracker")},E.prototype.remove=function(){var m=this,C=m.chart;C.hasRendered&&C.series.forEach(function(A){A.type===m.type&&(A.isDirty=!0)}),G.prototype.remove.apply(m,arguments)},E.defaultOptions=h(G.defaultOptions,T),E}(G),_(z.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:j.drawRectangle,getSymbol:s,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Y.registerSeriesType("column",z),z}),e(i,"Core/Series/DataLabel.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],function(s,c,T){var _,M=s.getDeferredAnimation,j=c.format,G=T.defined,Y=T.extend,z=T.fireEvent,F=T.isArray,N=T.isString,a=T.merge,p=T.objectEach,l=T.pick,d=T.splat;return function(w){function x(m,C,A,k,f){var o=this,R=this.chart,U=this.isCartesian&&R.inverted,X=this.enabledDataSorting,tt=m.plotX,pt=m.plotY,ot=A.rotation,W=A.align,K=G(tt)&&G(pt)&&R.isInsidePlot(tt,Math.round(pt),{inverted:U,paneCoordinates:!0,series:o});pt=function(rt){X&&o.xAxis&&!gt&&o.setDataLabelStartPos(m,C,f,K,rt)};var gt="justify"===l(A.overflow,X?"none":"justify");if(tt=this.visible&&!1!==m.visible&&G(tt)&&(m.series.forceDL||X&&!gt||K||l(A.inside,!!this.options.stacking)&&k&&R.isInsidePlot(tt,U?k.x+1:k.y+k.height-1,{inverted:U,paneCoordinates:!0,series:o})),U=m.pos(),tt&&U){ot&&C.attr({align:W}),W=C.getBBox(!0);var yt=[0,0],_t=R.renderer.fontMetrics(R.styledMode?void 0:A.style.fontSize,C).b;k=Y({x:U[0],y:Math.round(U[1]),width:0,height:0},k),Y(A,{width:W.width,height:W.height}),ot?(gt=!1,yt=R.renderer.rotCorr(_t,ot),_t={x:k.x+(A.x||0)+k.width/2+yt.x,y:k.y+(A.y||0)+{top:0,middle:.5,bottom:1}[A.verticalAlign]*k.height},yt=[W.x-Number(C.attr("x")),W.y-Number(C.attr("y"))],pt(_t),C[f?"attr":"animate"](_t)):(pt(k),C.align(A,void 0,k),_t=C.alignAttr),gt&&0<=k.height?this.justifyDataLabel(C,A,_t,W,k,f):l(A.crop,!0)&&(k=_t.x,pt=_t.y,tt=R.isInsidePlot(k+=yt[0],pt+=yt[1],{paneCoordinates:!0,series:o})&&R.isInsidePlot(k+W.width,pt+W.height,{paneCoordinates:!0,series:o})),A.shape&&!ot&&C[f?"attr":"animate"]({anchorX:U[0],anchorY:U[1]})}f&&X&&(C.placed=!1),tt||X&&!gt?C.show():(C.hide(),C.placed=!1)}function h(m){void 0===m&&(m=this.points);var C=this,A=C.chart,k=C.options,f=C.hasRendered||0,o=A.renderer,R=A.options.chart,U=R.backgroundColor,X=o.getContrast(N(R=R.plotBackgroundColor)&&R||N(U)&&U||"#000000"),tt=k.dataLabels;if(U=tt.animation,U=tt.defer?M(A,U,C):{defer:0,duration:0},tt=D(D(A.options.plotOptions&&A.options.plotOptions.series&&A.options.plotOptions.series.dataLabels,A.options.plotOptions&&A.options.plotOptions[C.type]&&A.options.plotOptions[C.type].dataLabels),tt),z(this,"drawDataLabels"),F(tt)||tt.enabled||C._hasPointLabels){var ot=C.plotGroup("dataLabelsGroup","data-labels",f?"inherit":"hidden",tt.zIndex||6);ot.attr({opacity:+f}),!f&&(f=C.dataLabelsGroup)&&(C.visible&&ot.show(),f[k.animation?"animate":"attr"]({opacity:1},U)),m.forEach(function(W){d(D(tt,W.dlOptions||W.options&&W.options.dataLabels)).forEach(function(K,gt){var yt=K.enabled&&(!W.isNull||W.dataLabelOnNull)&&function I(m,C){var A=C.filter;return!A||(C=A.operator,m=m[A.property],A=A.value,">"===C&&m>A||"<"===C&&m<A||">="===C&&m>=A||"<="===C&&m<=A||"=="===C&&m==A||"==="===C&&m===A)}(W,K),_t=W.connectors?W.connectors[gt]:W.connector,rt=W.dataLabels?W.dataLabels[gt]:W.dataLabel,ut=!rt,at=l(K.distance,W.labelDistance);if(yt){var Ct=W.getLabelConfig(),vt=l(K[W.formatPrefix+"Format"],K.format);Ct=G(vt)?j(vt,Ct,A):(K[W.formatPrefix+"Formatter"]||K.formatter).call(Ct,K),vt=K.style;var ct=K.rotation;A.styledMode||(vt.color=l(K.color,vt.color,C.color,"#000000"),"contrast"===vt.color?(W.contrastColor=o.getContrast(W.color||C.color),vt.color=!G(at)&&K.inside||0>at||k.stacking?W.contrastColor:X):delete W.contrastColor,k.cursor&&(vt.cursor=k.cursor));var Tt={r:K.borderRadius||0,rotation:ct,padding:K.padding,zIndex:1};if(!A.styledMode){var kt=K.borderColor;Tt.fill="auto"===(at=K.backgroundColor)?W.color:at,Tt.stroke="auto"===kt?W.color:kt,Tt["stroke-width"]=K.borderWidth}p(Tt,function(Ft,Ot){typeof Ft>"u"&&delete Tt[Ot]})}!rt||yt&&G(Ct)&&!!rt.div==!!K.useHTML&&(rt.rotation&&K.rotation||rt.rotation===K.rotation)||(ut=!0,W.dataLabel=rt=W.dataLabel&&W.dataLabel.destroy(),W.dataLabels&&(1===W.dataLabels.length?delete W.dataLabels:delete W.dataLabels[gt]),gt||delete W.dataLabel,_t&&(W.connector=W.connector.destroy(),W.connectors&&(1===W.connectors.length?delete W.connectors:delete W.connectors[gt]))),yt&&G(Ct)?(rt?Tt.text=Ct:(W.dataLabels=W.dataLabels||[],rt=W.dataLabels[gt]=ct?o.text(Ct,0,0,K.useHTML).addClass("highcharts-data-label"):o.label(Ct,0,0,K.shape,null,null,K.useHTML,null,"data-label"),gt||(W.dataLabel=rt),rt.addClass(" highcharts-data-label-color-"+W.colorIndex+" "+(K.className||"")+(K.useHTML?" highcharts-tracker":""))),rt.options=K,rt.attr(Tt),A.styledMode||rt.css(vt).shadow(K.shadow),(gt=K[W.formatPrefix+"TextPath"]||K.textPath)&&!K.useHTML&&(rt.setTextPath(W.getDataLabelPath&&W.getDataLabelPath(rt)||W.graphic,gt),W.dataLabelPath&&!gt.enabled&&(W.dataLabelPath=W.dataLabelPath.destroy())),rt.added||rt.add(ot),C.alignDataLabel(W,rt,K,null,ut)):rt&&rt.hide()})})}z(this,"afterDrawDataLabels")}function n(m,C,A,k,f,o){var R=this.chart,U=C.align,X=C.verticalAlign,tt=m.box?0:m.padding||0,pt=C.x;pt=void 0===pt?0:pt;var ot=C.y;ot=void 0===ot?0:ot;var W=(A.x||0)+tt;if(0>W){"right"===U&&0<=pt?(C.align="left",C.inside=!0):pt-=W;var K=!0}return(W=(A.x||0)+k.width-tt)>R.plotWidth&&("left"===U&&0>=pt?(C.align="right",C.inside=!0):pt+=R.plotWidth-W,K=!0),0>(W=A.y+tt)&&("bottom"===X&&0<=ot?(C.verticalAlign="top",C.inside=!0):ot-=W,K=!0),(W=(A.y||0)+k.height-tt)>R.plotHeight&&("top"===X&&0>=ot?(C.verticalAlign="bottom",C.inside=!0):ot+=R.plotHeight-W,K=!0),K&&(C.x=pt,C.y=ot,m.placed=!o,m.align(C,void 0,f)),K}function D(m,C){var k,A=[];if(F(m)&&!F(C))A=m.map(function(f){return a(f,C)});else if(F(C)&&!F(m))A=C.map(function(f){return a(m,f)});else if(F(m)||F(C))for(k=Math.max(m.length,C.length);k--;)A[k]=a(m[k],C[k]);else A=a(m,C);return A}function P(m,C,A,k,f){var o=this.chart,R=o.inverted,U=this.xAxis,X=U.reversed,tt=R?C.height/2:C.width/2;m=(m=m.pointWidth)?m/2:0,C.startXPos=R?f.x:X?-tt-m:U.width-tt+m,C.startYPos=R?X?this.yAxis.height-tt+m:-tt-m:f.y,k?"hidden"===C.visibility&&(C.show(),C.attr({opacity:0}).animate({opacity:1})):C.attr({opacity:1}).animate({opacity:0},void 0,C.hide),o.hasRendered&&(A&&C.attr({x:C.startXPos,y:C.startYPos}),C.placed=!0)}var E=[];w.compose=function(m){if(-1===E.indexOf(m)){var C=m.prototype;E.push(m),C.alignDataLabel=x,C.drawDataLabels=h,C.justifyDataLabel=n,C.setDataLabelStartPos=P}}}(_||(_={})),_}),e(i,"Series/Column/ColumnDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T){var Y,M=c.series,j=T.merge,G=T.pick;return function(z){function F(a,p,l,d,_){var w=this.chart.inverted,x=a.series,I=(x.xAxis?x.xAxis.len:this.chart.plotSizeX)||0,h=a.dlBox||a.shapeArgs,n=G(a.below,a.plotY>G(this.translatedThreshold,x=(x.yAxis?x.yAxis.len:this.chart.plotSizeY)||0)),D=G(l.inside,!!this.options.stacking);h&&(0>(d=j(h)).y&&(d.height+=d.y,d.y=0),0<(h=d.y+d.height-x)&&h<d.height&&(d.height-=h),w&&(d={x:x-d.y-d.height,y:I-d.x-d.width,width:d.height,height:d.width}),D||(w?(d.x+=n?0:d.width,d.width=0):(d.y+=n?d.height:0,d.height=0))),l.align=G(l.align,!w||D?"center":n?"right":"left"),l.verticalAlign=G(l.verticalAlign,w||D?"middle":n?"top":"bottom"),M.prototype.alignDataLabel.call(this,a,p,l,d,_),l.inside&&a.contrastColor&&p.css({color:a.contrastColor})}var N=[];z.compose=function(a){s.compose(M),-1===N.indexOf(a)&&(N.push(a),a.prototype.alignDataLabel=F)}}(Y||(Y={})),Y}),e(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T){var Y,M=this&&this.__extends||(Y=function(z,F){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,a){N.__proto__=a}||function(N,a){for(var p in a)a.hasOwnProperty(p)&&(N[p]=a[p])})(z,F)},function(z,F){function N(){this.constructor=z}Y(z,F),z.prototype=null===F?Object.create(F):(N.prototype=F.prototype,new N)}),j=T.extend,G=T.merge;return T=function(Y){function z(){var F=null!==Y&&Y.apply(this,arguments)||this;return F.data=void 0,F.options=void 0,F.points=void 0,F}return M(z,Y),z.defaultOptions=G(s.defaultOptions,{}),z}(s),j(T.prototype,{inverted:!0}),c.registerSeriesType("bar",T),T}),e(i,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),e(i,"Series/Scatter/ScatterSeries.js",[i["Series/Scatter/ScatterSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T){var N,M=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),j=c.seriesTypes,G=j.column,Y=j.line;j=T.addEvent;var z=T.extend,F=T.merge;return T=function(N){function a(){var p=null!==N&&N.apply(this,arguments)||this;return p.data=void 0,p.options=void 0,p.points=void 0,p}return M(a,N),a.prototype.applyJitter=function(){var p=this,l=this.options.jitter,d=this.points.length;l&&this.points.forEach(function(_,w){["x","y"].forEach(function(x,I){var h="plot"+x.toUpperCase();if(l[x]&&!_.isNull){var n=p[x+"Axis"],D=l[x]*n.transA;if(n&&!n.isLog){var P=Math.max(0,_[h]-D);n=Math.min(n.len,_[h]+D),I=1e4*Math.sin(w+I*d),_[h]=P+(n-P)*(I-Math.floor(I)),"x"===x&&(_.clientX=_.plotX)}}})})},a.prototype.drawGraph=function(){this.options.lineWidth?N.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},a.defaultOptions=F(Y.defaultOptions,s),a}(Y),z(T.prototype,{drawTracker:G.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),j(T,"afterTranslate",function(){this.applyJitter()}),c.registerSeriesType("scatter",T),T}),e(i,"Series/CenteredUtilities.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],function(s,c,T){var F,N,M=s.deg2rad,j=T.fireEvent,G=T.isNumber,Y=T.pick,z=T.relativeLength;return(N=F||(F={})).getCenter=function(){var a=this.options,p=this.chart,l=2*(a.slicedOffset||0),d=p.plotWidth-2*l,_=p.plotHeight-2*l,w=a.center,x=Math.min(d,_),I=a.thickness,h=a.size,n=a.innerSize||0;for("string"==typeof h&&(h=parseFloat(h)),"string"==typeof n&&(n=parseFloat(n)),a=[Y(w[0],"50%"),Y(w[1],"50%"),Y(h&&0>h?void 0:a.size,"100%"),Y(n&&0>n?void 0:a.innerSize||0,"0%")],!p.angular||this instanceof c||(a[3]=0),w=0;4>w;++w)h=a[w],p=2>w||2===w&&/%$/.test(h),a[w]=z(h,[d,_,x,a[2]][w])+(p?l:0);return a[3]>a[2]&&(a[3]=a[2]),G(I)&&2*I<a[2]&&0<I&&(a[3]=a[2]-2*I),j(this,"afterGetCenter",{positions:a}),a},N.getStartAndEndRadians=function(a,p){return a=G(a)?a:0,p=G(p)&&p>a&&360>p-a?p:a+360,{start:M*(a+-90),end:M*(p+-90)}},F}),e(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(s,c,T){var a,M=this&&this.__extends||(a=function(p,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var w in _)_.hasOwnProperty(w)&&(d[w]=_[w])})(p,l)},function(p,l){function d(){this.constructor=p}a(p,l),p.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}),j=s.setAnimation,G=T.addEvent,Y=T.defined;s=T.extend;var z=T.isNumber,F=T.pick,N=T.relativeLength;return c=function(a){function p(){var l=null!==a&&a.apply(this,arguments)||this;return l.labelDistance=void 0,l.options=void 0,l.series=void 0,l}return M(p,a),p.prototype.getConnectorPath=function(){var l=this.labelPosition,d=this.series.options.dataLabels,_=this.connectorShapes,w=d.connectorShape;return _[w]&&(w=_[w]),w.call(this,{x:l.final.x,y:l.final.y,alignment:l.alignment},l.connectorPosition,d)},p.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},p.prototype.haloPath=function(l){var d=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(d.x,d.y,d.r+l,d.r+l,{innerR:d.r-1,start:d.start,end:d.end})},p.prototype.init=function(){var l=this;a.prototype.init.apply(this,arguments),this.name=F(this.name,"Slice");var d=function(_){l.slice("select"===_.type)};return G(this,"select",d),G(this,"unselect",d),this},p.prototype.isValid=function(){return z(this.y)&&0<=this.y},p.prototype.setVisible=function(l,d){var _=this,w=this.series,x=w.chart,I=w.options.ignoreHiddenPoint;d=F(d,I),l!==this.visible&&(this.visible=this.options.visible=l=typeof l>"u"?!this.visible:l,w.options.data[w.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(h){_[h]&&_[h][l?"show":"hide"](l)}),this.legendItem&&x.legend.colorizeItem(this,l),l||"hover"!==this.state||this.setState(""),I&&(w.isDirty=!0),d&&x.redraw())},p.prototype.slice=function(l,d,_){var w=this.series;j(_,w.chart),F(d,!0),this.sliced=this.options.sliced=Y(l)?l:!this.sliced,w.options.data[w.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},p}(c),s(c.prototype,{connectorShapes:{fixedOffset:function(a,p,l){var d=p.breakAt;return p=p.touchingSliceAt,[["M",a.x,a.y],l.softConnector?["C",a.x+("left"===a.alignment?-5:5),a.y,2*d.x-p.x,2*d.y-p.y,d.x,d.y]:["L",d.x,d.y],["L",p.x,p.y]]},straight:function(a,p){return[["M",a.x,a.y],["L",(p=p.touchingSliceAt).x,p.y]]},crookedLine:function(a,p,l){p=p.touchingSliceAt;var d=this.series,_=d.center[0],w=d.chart.plotWidth,x=d.chart.plotLeft;d=a.alignment;var I=this.shapeArgs.r;return l=N(l.crookDistance,1),l=["L",w="left"===d?_+I+(w+x-_-I)*(1-l):x+(_-I)*l,a.y],_=!0,("left"===d?w>a.x||w<p.x:w<a.x||w>p.x)&&(_=!1),a=[["M",a.x,a.y]],_&&a.push(l),a.push(["L",p.x,p.y]),a}}}),c}),e(i,"Series/Pie/PieSeriesDefaults.js",[],function(){return{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),e(i,"Series/Pie/PieSeries.js",[i["Series/CenteredUtilities.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Series/Pie/PiePoint.js"],i["Series/Pie/PieSeriesDefaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],function(s,c,T,M,j,G,Y,z,F,N){var h,a=this&&this.__extends||(h=function(n,D){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,E){P.__proto__=E}||function(P,E){for(var m in E)E.hasOwnProperty(m)&&(P[m]=E[m])})(n,D)},function(n,D){function P(){this.constructor=n}h(n,D),n.prototype=null===D?Object.create(D):(P.prototype=D.prototype,new P)}),p=s.getStartAndEndRadians;T=T.noop;var l=N.clamp,d=N.extend,_=N.fireEvent,w=N.merge,x=N.pick,I=N.relativeLength;return N=function(h){function n(){var D=null!==h&&h.apply(this,arguments)||this;return D.center=void 0,D.data=void 0,D.maxLabelDistance=void 0,D.options=void 0,D.points=void 0,D}return a(n,h),n.prototype.animate=function(D){var P=this,m=P.startAngleRad;D||P.points.forEach(function(C){var A=C.graphic,k=C.shapeArgs;A&&k&&(A.attr({r:x(C.startR,P.center&&P.center[3]/2),start:m,end:m}),A.animate({r:k.r,start:k.start,end:k.end},P.options.animation))})},n.prototype.drawEmpty=function(){var D=this.startAngleRad,P=this.endAngleRad,E=this.options;if(0===this.total&&this.center){var m=this.center[0],C=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(m,C,this.center[1]/2,0,D,P).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:F.arc(m,C,this.center[2]/2,0,{start:D,end:P,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":E.borderWidth,fill:E.fillColor||"none",stroke:E.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},n.prototype.drawPoints=function(){var D=this.chart.renderer;this.points.forEach(function(P){P.graphic&&P.hasNewShapeType()&&(P.graphic=P.graphic.destroy()),P.graphic||(P.graphic=D[P.shapeType](P.shapeArgs).add(P.series.group),P.delayedRendering=!0)})},n.prototype.generatePoints=function(){h.prototype.generatePoints.call(this),this.updateTotals()},n.prototype.getX=function(D,P,E){var m=this.center,C=this.radii?this.radii[E.index]||0:m[2]/2;return D=Math.asin(l((D-m[1])/(C+E.labelDistance),-1,1)),m[0]+(P?-1:1)*Math.cos(D)*(C+E.labelDistance)+(0<E.labelDistance?(P?-1:1)*this.options.dataLabels.padding:0)},n.prototype.hasData=function(){return!!this.processedXData.length},n.prototype.redrawPoints=function(){var C,A,k,f,D=this,P=D.chart,E=P.renderer,m=D.options.shadow;this.drawEmpty(),!m||D.shadowGroup||P.styledMode||(D.shadowGroup=E.g("shadow").attr({zIndex:-1}).add(D.group)),D.points.forEach(function(o){var R={};if(A=o.graphic,!o.isNull&&A){var U=void 0;f=o.shapeArgs,C=o.getTranslate(),P.styledMode||(U=o.shadowGroup,m&&!U&&(U=o.shadowGroup=E.g("shadow").add(D.shadowGroup)),U&&U.attr(C),k=D.pointAttribs(o,o.selected&&"select")),o.delayedRendering?(A.setRadialReference(D.center).attr(f).attr(C),P.styledMode||A.attr(k).attr({"stroke-linejoin":"round"}).shadow(m,U),o.delayedRendering=!1):(A.setRadialReference(D.center),P.styledMode||w(!0,R,k),w(!0,R,f,C),A.animate(R)),A.attr({visibility:o.visible?"inherit":"hidden"}),A.addClass(o.getClassName(),!0)}else A&&(o.graphic=A.destroy())})},n.prototype.sortByAngle=function(D,P){D.sort(function(E,m){return typeof E.angle<"u"&&(m.angle-E.angle)*P})},n.prototype.translate=function(D){_(this,"translate"),this.generatePoints();var P=this.options,E=P.slicedOffset,m=E+(P.borderWidth||0),C=p(P.startAngle,P.endAngle),A=this.startAngleRad=C.start;C=(this.endAngleRad=C.end)-A;var k=this.points,f=P.dataLabels.distance;P=P.ignoreHiddenPoint;var R,o=k.length,U=0;for(D||(this.center=D=this.getCenter()),R=0;R<o;R++){var X=k[R],tt=A+U*C;!X.isValid()||P&&!X.visible||(U+=X.percentage/100);var pt=A+U*C,ot={x:D[0],y:D[1],r:D[2]/2,innerR:D[3]/2,start:Math.round(1e3*tt)/1e3,end:Math.round(1e3*pt)/1e3};X.shapeType="arc",X.shapeArgs=ot,X.labelDistance=x(X.options.dataLabels&&X.options.dataLabels.distance,f),X.labelDistance=I(X.labelDistance,ot.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,X.labelDistance),(pt=(pt+tt)/2)>1.5*Math.PI?pt-=2*Math.PI:pt<-Math.PI/2&&(pt+=2*Math.PI),X.slicedTranslation={translateX:Math.round(Math.cos(pt)*E),translateY:Math.round(Math.sin(pt)*E)},ot=Math.cos(pt)*D[2]/2;var W=Math.sin(pt)*D[2]/2;X.tooltipPos=[D[0]+.7*ot,D[1]+.7*W],X.half=pt<-Math.PI/2||pt>Math.PI/2?1:0,X.angle=pt,tt=Math.min(m,X.labelDistance/5),X.labelPosition={natural:{x:D[0]+ot+Math.cos(pt)*X.labelDistance,y:D[1]+W+Math.sin(pt)*X.labelDistance},final:{},alignment:0>X.labelDistance?"center":X.half?"right":"left",connectorPosition:{breakAt:{x:D[0]+ot+Math.cos(pt)*tt,y:D[1]+W+Math.sin(pt)*tt},touchingSliceAt:{x:D[0]+ot,y:D[1]+W}}}}_(this,"afterTranslate")},n.prototype.updateTotals=function(){var m,D=this.points,P=D.length,E=this.options.ignoreHiddenPoint,C=0;for(m=0;m<P;m++){var A=D[m];!A.isValid()||E&&!A.visible||(C+=A.y)}for(this.total=C,m=0;m<P;m++)(A=D[m]).percentage=0<C&&(A.visible||!E)?A.y/C*100:0,A.total=C},n.defaultOptions=w(Y.defaultOptions,G),n}(Y),d(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:M.drawRectangle,drawTracker:c.prototype.drawTracker,getCenter:s.getCenter,getSymbol:T,isCartesian:!1,noSharedTooltip:!0,pointAttribs:c.prototype.pointAttribs,pointClass:j,requireSorting:!1,searchPoint:T,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("pie",N),N}),e(i,"Series/Pie/PieDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,T,M,j){var _,G=c.noop,Y=T.distribute,z=M.series,F=j.arrayMax,N=j.clamp,a=j.defined,p=j.merge,l=j.pick,d=j.relativeLength;return function(w){function x(){var K,gt,yt,_t,rt,ut,at,Ct,vt,ct,Tt,kt,P=this,E=P.data,m=P.chart,C=P.options.dataLabels||{},A=C.connectorPadding,k=m.plotWidth,f=m.plotHeight,o=m.plotLeft,R=Math.round(m.chartWidth/3),U=P.center,X=U[2]/2,tt=U[1],pt=[[],[]],ot=[0,0,0,0],W=P.dataLabelPositioners;P.visible&&(C.enabled||P._hasPointLabels)&&(E.forEach(function(Ft){Ft.dataLabel&&Ft.visible&&Ft.dataLabel.shortened&&(Ft.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Ft.dataLabel.shortened=!1)}),z.prototype.drawDataLabels.apply(P),E.forEach(function(Ft){Ft.dataLabel&&(Ft.visible?(pt[Ft.half].push(Ft),Ft.dataLabel._pos=null,!a(C.style.width)&&!a(Ft.options.dataLabels&&Ft.options.dataLabels.style&&Ft.options.dataLabels.style.width)&&Ft.dataLabel.getBBox().width>R&&(Ft.dataLabel.css({width:Math.round(.7*R)+"px"}),Ft.dataLabel.shortened=!0)):(Ft.dataLabel=Ft.dataLabel.destroy(),Ft.dataLabels&&1===Ft.dataLabels.length&&delete Ft.dataLabels))}),pt.forEach(function(Ft,Ot){var Wt,jt=Ft.length,$t=[];if(jt){if(P.sortByAngle(Ft,Ot-.5),0<P.maxLabelDistance){var ne=Math.max(0,tt-X-P.maxLabelDistance),Jt=Math.min(tt+X+P.maxLabelDistance,m.plotHeight);Ft.forEach(function(Nt){0<Nt.labelDistance&&Nt.dataLabel&&(Nt.top=Math.max(0,tt-X-Nt.labelDistance),Nt.bottom=Math.min(tt+X+Nt.labelDistance,m.plotHeight),Wt=Nt.dataLabel.getBBox().height||21,Nt.distributeBox={target:Nt.labelPosition.natural.y-Nt.top+Wt/2,size:Wt,rank:Nt.y},$t.push(Nt.distributeBox))}),Y($t,ne=Jt+Wt-ne,ne/5)}for(Tt=0;Tt<jt;Tt++){if(_t=(K=Ft[Tt]).dataLabel,ct=!1===K.visible?"hidden":"inherit",vt=ne=(ut=K.labelPosition).natural.y,$t&&a(K.distributeBox)&&(typeof K.distributeBox.pos>"u"?ct="hidden":(at=K.distributeBox.size,vt=W.radialDistributionY(K))),delete K.positionIndex,C.justify)Ct=W.justify(K,X,U);else switch(C.alignTo){case"connectors":Ct=W.alignToConnectors(Ft,Ot,k,o);break;case"plotEdges":Ct=W.alignToPlotEdges(_t,Ot,k,o);break;default:Ct=W.radialDistributionX(P,K,vt,ne)}_t._attr={visibility:ct,align:ut.alignment},_t._pos={x:Ct+l((kt=K.options.dataLabels||{}).x,C.x)+({left:A,right:-A}[ut.alignment]||0),y:vt+l(kt.y,C.y)-10},ut.final.x=Ct,ut.final.y=vt,l(C.crop,!0)&&(rt=_t.getBBox().width,ne=null,Ct-rt<A&&1===Ot?(ne=Math.round(rt-Ct+A),ot[3]=Math.max(ne,ot[3])):Ct+rt>k-A&&0===Ot&&(ne=Math.round(Ct+rt-k+A),ot[1]=Math.max(ne,ot[1])),0>vt-at/2?ot[0]=Math.max(Math.round(at/2-vt),ot[0]):vt+at/2>f&&(ot[2]=Math.max(Math.round(vt+at/2-f),ot[2])),_t.sideOverflow=ne)}}}),0===F(ot)||this.verifyDataLabelOverflow(ot))&&(this.placeDataLabels(),this.points.forEach(function(Ft){var Ot;kt=p(C,Ft.options.dataLabels),(gt=l(kt.connectorWidth,1))&&(yt=Ft.connector,(_t=Ft.dataLabel)&&_t._pos&&Ft.visible&&0<Ft.labelDistance?(ct=_t._attr.visibility,(Ot=!yt)&&(Ft.connector=yt=m.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ft.colorIndex+(Ft.className?" "+Ft.className:"")).add(P.dataLabelsGroup),m.styledMode||yt.attr({"stroke-width":gt,stroke:kt.connectorColor||Ft.color||"#666666"})),yt[Ot?"attr":"animate"]({d:Ft.getConnectorPath()}),yt.attr("visibility",ct)):yt&&(Ft.connector=yt.destroy()))}))}function I(){this.points.forEach(function(P){var m,E=P.dataLabel;E&&P.visible&&((m=E._pos)?(E.sideOverflow&&(E._attr.width=Math.max(E.getBBox().width-E.sideOverflow,0),E.css({width:E._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),E.shortened=!0),E.attr(E._attr),E[E.moved?"animate":"attr"](m),E.moved=!0):E&&E.attr({y:-9999})),delete P.distributeBox},this)}function h(P){var E=this.center,m=this.options,C=m.center,A=m.minSize||80,k=null!==m.size;if(!k){if(null!==C[0])var f=Math.max(E[2]-Math.max(P[1],P[3]),A);else f=Math.max(E[2]-P[1]-P[3],A),E[0]+=(P[3]-P[1])/2;null!==C[1]?f=N(f,A,E[2]-Math.max(P[0],P[2])):(f=N(f,A,E[2]-P[0]-P[2]),E[1]+=(P[0]-P[2])/2),f<E[2]?(E[2]=f,E[3]=Math.min(m.thickness?Math.max(0,f-2*m.thickness):Math.max(0,d(m.innerSize||0,f)),f),this.translate(E),this.drawDataLabels&&this.drawDataLabels()):k=!0}return k}var n=[],D={radialDistributionY:function(P){return P.top+P.distributeBox.pos},radialDistributionX:function(P,E,m,C){return P.getX(m<E.top+2||m>E.bottom-2?C:m,E.half,E)},justify:function(P,E,m){return m[0]+(P.half?-1:1)*(E+P.labelDistance)},alignToPlotEdges:function(P,E,m,C){return P=P.getBBox().width,E?P+C:m-P-C},alignToConnectors:function(P,E,m,C){var k,A=0;return P.forEach(function(f){(k=f.dataLabel.getBBox().width)>A&&(A=k)}),E?A+C:m-A-C}};w.compose=function(P){s.compose(z),-1===n.indexOf(P)&&(n.push(P),(P=P.prototype).dataLabelPositioners=D,P.alignDataLabel=G,P.drawDataLabels=x,P.placeDataLabels=I,P.verifyDataLabelOverflow=h)}}(_||(_={})),_}),e(i,"Extensions/OverlappingDataLabels.js",[i["Core/Chart/Chart.js"],i["Core/Utilities.js"]],function(s,c){function T(N,a){var p=!1;if(N){var l=N.newOpacity;N.oldOpacity!==l&&(N.alignAttr&&N.placed?(N[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),p=!0,N.alignAttr.opacity=l,N[N.isOld?"animate":"attr"](N.alignAttr,null,function(){a.styledMode||N.css({pointerEvents:l?"auto":"none"})}),j(a,"afterHideOverlappingLabel")):N.attr({opacity:l})),N.isOld=!0}return p}var j=c.fireEvent,G=c.isArray,Y=c.isNumber,z=c.objectEach,F=c.pick;(0,c.addEvent)(s,"render",function(){var N=this,a=[];(this.labelCollectors||[]).forEach(function(p){a=a.concat(p())}),(this.yAxis||[]).forEach(function(p){p.stacking&&p.options.stackLabels&&!p.options.stackLabels.allowOverlap&&z(p.stacking.stacks,function(l){z(l,function(d){d.label&&a.push(d.label)})})}),(this.series||[]).forEach(function(p){var l=p.options.dataLabels;p.visible&&(!1!==l.enabled||p._hasPointLabels)&&((l=function(d){return d.forEach(function(_){_.visible&&(G(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[]).forEach(function(w){var x=w.options;w.labelrank=F(x.labelrank,_.labelrank,_.shapeArgs&&_.shapeArgs.height),x.allowOverlap?(w.oldOpacity=w.opacity,w.newOpacity=1,T(w,N)):a.push(w)})})})(p.nodes||[]),l(p.points))}),this.hideOverlappingLabels(a)}),s.prototype.hideOverlappingLabels=function(N){var d,_,w,a=this,p=N.length,l=a.renderer,x=!1,I=function(D){var P,C,E=D.box?0:D.padding||0,m=P=0;if(D&&(!D.alignAttr||D.placed)){var A=D.alignAttr||{x:D.attr("x"),y:D.attr("y")},k=D.parentGroup;return D.width||(P=D.getBBox(),D.width=P.width,D.height=P.height,P=l.fontMetrics(null,D.element).h),(C={left:"0",center:"0.5",right:"1"}[D.alignValue])?m=+C*(D.width-2*E):Y(D.x)&&Math.round(D.x)!==D.translateX&&(m=D.x-D.translateX),{x:A.x+(k.translateX||0)+E-(m||0),y:A.y+(k.translateY||0)+E-P,width:D.width-2*E,height:D.height-2*E}}};for(_=0;_<p;_++)(d=N[_])&&(d.oldOpacity=d.opacity,d.newOpacity=1,d.absoluteBox=I(d));for(N.sort(function(D,P){return(P.labelrank||0)-(D.labelrank||0)}),_=0;_<p;_++){var h=(I=N[_])&&I.absoluteBox;for(d=_+1;d<p;++d){var n=(w=N[d])&&w.absoluteBox;!h||!n||I===w||0===I.newOpacity||0===w.newOpacity||"hidden"===I.visibility||"hidden"===w.visibility||n.x>=h.x+h.width||n.x+n.width<=h.x||n.y>=h.y+h.height||n.y+n.height<=h.y||((I.labelrank<w.labelrank?I:w).newOpacity=0)}}N.forEach(function(D){T(D,a)&&(x=!0)}),x&&j(a,"afterHideAllOverlappingLabels")}}),e(i,"Core/Responsive.js",[i["Core/Utilities.js"]],function(s){var a,c=s.extend,T=s.find,M=s.isArray,j=s.isObject,G=s.merge,Y=s.objectEach,z=s.pick,F=s.splat,N=s.uniqueKey;return function(p){var l=[];p.compose=function(_){return-1===l.indexOf(_)&&(l.push(_),c(_.prototype,d.prototype)),_};var d=function(){function _(){}return _.prototype.currentOptions=function(w){var I=this,h={};return function x(n,D,P,E){var m;Y(n,function(C,A){if(!E&&-1<I.collectionsWithUpdate.indexOf(A)&&D[A])for(C=F(C),P[A]=[],m=0;m<Math.max(C.length,D[A].length);m++)D[A][m]&&(void 0===C[m]?P[A][m]=D[A][m]:(P[A][m]={},x(C[m],D[A][m],P[A][m],E+1)));else j(C)?(P[A]=M(C)?[]:{},x(C,D[A]||{},P[A],E+1)):P[A]=typeof D[A]>"u"?null:D[A]})}(w,this.options,h,0),h},_.prototype.matchResponsiveRule=function(w,x){var I=w.condition;(I.callback||function(){return this.chartWidth<=z(I.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=z(I.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=z(I.minWidth,0)&&this.chartHeight>=z(I.minHeight,0)}).call(this)&&x.push(w._id)},_.prototype.setResponsive=function(w,x){var I=this,h=this.options.responsive,n=this.currentResponsive,D=[];!x&&h&&h.rules&&h.rules.forEach(function(P){typeof P._id>"u"&&(P._id=N()),I.matchResponsiveRule(P,D)},this),(x=G.apply(void 0,D.map(function(P){return T((h||{}).rules||[],function(E){return E._id===P})}).map(function(P){return P&&P.chartOptions}))).isResponsiveOptions=!0,(D=D.toString()||void 0)!==(n&&n.ruleIds)&&(n&&this.update(n.undoOptions,w,!0),D?((n=this.currentOptions(x)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:D,mergedOptions:x,undoOptions:n},this.update(x,w,!0)):this.currentResponsive=void 0)},_}()}(a||(a={})),a}),e(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Defaults.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/FormatUtilities.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Renderer/HTML/HTMLRenderer.js"],i["Core/Axis/Axis.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Axis/LogarithmicAxis.js"],i["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Tooltip.js"],i["Core/Series/Point.js"],i["Core/Pointer.js"],i["Core/MSPointer.js"],i["Core/Legend/Legend.js"],i["Core/Chart/Chart.js"],i["Core/Axis/Stacking/StackingAxis.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Column/ColumnSeries.js"],i["Series/Column/ColumnDataLabel.js"],i["Series/Pie/PieSeries.js"],i["Series/Pie/PieDataLabel.js"],i["Core/Series/DataLabel.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],function(s,c,T,M,j,G,Y,z,F,N,a,p,l,d,_,w,x,I,h,n,D,P,E,m,C,A,k,f,o,R,U,X,tt,pt,ot){return s.animate=j.animate,s.animObject=j.animObject,s.getDeferredAnimation=j.getDeferredAnimation,s.setAnimation=j.setAnimation,s.stop=j.stop,s.timers=M.timers,s.AST=G,s.Axis=l,s.Chart=E,s.chart=E.chart,s.Fx=M,s.Legend=P,s.PlotLineOrBand=w,s.Point=h,s.Pointer=D.isRequired()?D:n,s.Series=A,s.StackItem=C,s.SVGElement=F,s.SVGRenderer=N,s.Tick=x,s.Time=ot,s.Tooltip=I,s.Color=pt,s.color=pt.parse,p.compose(N),a.compose(F),s.defaultOptions=T.defaultOptions,s.getOptions=T.getOptions,s.time=T.defaultTime,s.setOptions=T.setOptions,s.dateFormat=Y.dateFormat,s.format=Y.format,s.numberFormat=Y.numberFormat,s.addEvent=c.addEvent,s.arrayMax=c.arrayMax,s.arrayMin=c.arrayMin,s.attr=c.attr,s.clearTimeout=c.clearTimeout,s.correctFloat=c.correctFloat,s.createElement=c.createElement,s.css=c.css,s.defined=c.defined,s.destroyObjectProperties=c.destroyObjectProperties,s.discardElement=c.discardElement,s.distribute=z.distribute,s.erase=c.erase,s.error=c.error,s.extend=c.extend,s.extendClass=c.extendClass,s.find=c.find,s.fireEvent=c.fireEvent,s.getMagnitude=c.getMagnitude,s.getStyle=c.getStyle,s.inArray=c.inArray,s.isArray=c.isArray,s.isClass=c.isClass,s.isDOMElement=c.isDOMElement,s.isFunction=c.isFunction,s.isNumber=c.isNumber,s.isObject=c.isObject,s.isString=c.isString,s.keys=c.keys,s.merge=c.merge,s.normalizeTickInterval=c.normalizeTickInterval,s.objectEach=c.objectEach,s.offset=c.offset,s.pad=c.pad,s.pick=c.pick,s.pInt=c.pInt,s.relativeLength=c.relativeLength,s.removeEvent=c.removeEvent,s.seriesType=k.seriesType,s.splat=c.splat,s.stableSort=c.stableSort,s.syncTimeout=c.syncTimeout,s.timeUnits=c.timeUnits,s.uniqueKey=c.uniqueKey,s.useSerialIds=c.useSerialIds,s.wrap=c.wrap,o.compose(f),X.compose(A),d.compose(l),_.compose(l),U.compose(R),w.compose(l),tt.compose(E),m.compose(l,E,A),s}),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]}),function(S){"object"==typeof module&&module.exports?(S.default=S,module.exports=S):"function"==typeof define&&define.amd?define("highcharts/highcharts-more",["highcharts"],function(e){return S(e),S.Highcharts=e,S}):S(typeof Highcharts<"u"?Highcharts:void 0)}(function(S){function e(i,s,c,T){i.hasOwnProperty(s)||(i[s]=T.apply(null,c),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}e(S=S?S._modules:{},"Extensions/Pane.js",[S["Core/Chart/Chart.js"],S["Series/CenteredUtilities.js"],S["Core/Globals.js"],S["Core/Pointer.js"],S["Core/Utilities.js"]],function(i,s,c,T,M){function j(l,d,_,w,x){var I=!0,h=_[0],n=_[1],D=Math.sqrt(Math.pow(l-h,2)+Math.pow(d-n,2));return z(w)&&z(x)&&(l=Math.atan2(Y(d-n,8),Y(l-h,8)),x!==w&&(I=w>x?l>=w&&l<=Math.PI||l<=x&&l>=-Math.PI:l>=w&&l<=Y(x,8))),D<=Math.ceil(_[2]/2)&&I}var G=M.addEvent,Y=M.correctFloat,z=M.defined,F=M.extend,N=M.merge,a=M.pick,p=M.splat;return i.prototype.collectionsWithUpdate.push("pane"),M=function(){function l(d,_){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(d,_)}return l.prototype.init=function(d,_){this.chart=_,this.background=[],_.pane.push(this),this.setOptions(d)},l.prototype.setOptions=function(d){this.options=N(this.defaultOptions,this.chart.angular?{background:{}}:void 0,d)},l.prototype.render=function(){var d=this.options,_=this.options.background,w=this.chart.renderer;if(this.group||(this.group=w.g("pane-group").attr({zIndex:d.zIndex||0}).add()),this.updateCenter(),_)for(_=p(_),d=Math.max(_.length,this.background.length||0),w=0;w<d;w++)_[w]&&this.axis?this.renderBackground(N(this.defaultBackgroundOptions,_[w]),w):this.background[w]&&(this.background[w]=this.background[w].destroy(),this.background.splice(w,1))},l.prototype.renderBackground=function(d,_){var w="animate",x={class:"highcharts-pane "+(d.className||"")};this.chart.styledMode||F(x,{fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth}),this.background[_]||(this.background[_]=this.chart.renderer.path().add(this.group),w="attr"),this.background[_][w]({d:this.axis.getPlotBandPath(d.from,d.to,d)}).attr(x)},l.prototype.updateCenter=function(d){this.center=(d||this.axis||{}).center=s.getCenter.call(this)},l.prototype.update=function(d,_){N(!0,this.options,d),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(w){w.pane===this&&(w.pane=null,w.update({},_))},this)},l}(),i.prototype.getHoverPane=function(l){var _,d=this;return l&&d.pane.forEach(function(w){j(l.chartX-d.plotLeft,l.chartY-d.plotTop,w.center)&&(_=w)}),_},G(i,"afterIsInsidePlot",function(l){if(this.polar){if(l.options.inverted){var d=[l.y,l.x];l.x=d[0],l.y=d[1]}l.isInsidePlot=this.pane.some(function(_){return j(l.x,l.y,_.center,_.axis&&_.axis.normalizedStartAngleRad,_.axis&&_.axis.normalizedEndAngleRad)})}}),G(T,"beforeGetHoverData",function(l){var d=this.chart;d.polar?(d.hoverPane=d.getHoverPane(l),l.filter=function(_){return _.visible&&!(!l.shared&&_.directTouch)&&a(_.options.enableMouseTracking,!0)&&(!d.hoverPane||_.xAxis.pane===d.hoverPane)}):d.hoverPane=void 0}),G(T,"afterGetHoverData",function(l){var d=this.chart;l.hoverPoint&&l.hoverPoint.plotX&&l.hoverPoint.plotY&&d.hoverPane&&!j(l.hoverPoint.plotX,l.hoverPoint.plotY,d.hoverPane.center)&&(l.hoverPoint=void 0)}),c.Pane=M,c.Pane}),e(S,"Series/AreaRange/AreaRangePoint.js",[S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s){var G,c=this&&this.__extends||(G=function(Y,z){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,N){F.__proto__=N}||function(F,N){for(var a in N)N.hasOwnProperty(a)&&(F[a]=N[a])})(Y,z)},function(Y,z){function F(){this.constructor=Y}G(Y,z),Y.prototype=null===z?Object.create(z):(F.prototype=z.prototype,new F)}),T=(i=i.seriesTypes.area.prototype).pointClass.prototype,M=s.defined,j=s.isNumber;return function(G){function Y(){var z=null!==G&&G.apply(this,arguments)||this;return z.high=void 0,z.low=void 0,z.options=void 0,z.plotX=void 0,z.series=void 0,z}return c(Y,G),Y.prototype.setState=function(){var z=this.state,F=this.series,N=F.chart.polar;M(this.plotHigh)||(this.plotHigh=F.yAxis.toPixels(this.high,!0)),M(this.plotLow)||(this.plotLow=this.plotY=F.yAxis.toPixels(this.low,!0)),F.stateMarkerGraphic&&(F.lowerStateMarkerGraphic=F.stateMarkerGraphic,F.stateMarkerGraphic=F.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,N&&j(this.plotHighX)&&(this.plotX=this.plotHighX),T.setState.apply(this,arguments),this.state=z,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],N&&j(this.plotLowX)&&(this.plotX=this.plotLowX),F.stateMarkerGraphic&&(F.upperStateMarkerGraphic=F.stateMarkerGraphic,F.stateMarkerGraphic=F.lowerStateMarkerGraphic,F.lowerStateMarkerGraphic=void 0),T.setState.apply(this,arguments)},Y.prototype.haloPath=function(){var z=this.series.chart.polar,F=[];return this.plotY=this.plotLow,z&&j(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(F=T.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,z&&j(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(F=F.concat(T.haloPath.apply(this,arguments))),F},Y.prototype.isValid=function(){return j(this.low)&&j(this.high)},Y}(i.pointClass)}),e(S,"Series/AreaRange/AreaRangeSeries.js",[S["Series/AreaRange/AreaRangePoint.js"],S["Core/Globals.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T){var w,M=this&&this.__extends||(w=function(x,I){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,n){h.__proto__=n}||function(h,n){for(var D in n)n.hasOwnProperty(D)&&(h[D]=n[D])})(x,I)},function(x,I){function h(){this.constructor=x}w(x,I),x.prototype=null===I?Object.create(I):(h.prototype=I.prototype,new h)});s=s.noop;var j=c.seriesTypes,G=j.area,Y=j.area.prototype,z=j.column.prototype;j=T.addEvent;var F=T.defined,N=T.extend,a=T.isArray,p=T.isNumber,l=T.pick,d=T.merge,_={lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}};return T=function(w){function x(){var I=null!==w&&w.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I.lowerStateMarkerGraphic=void 0,I.xAxis=void 0,I}return M(x,w),x.prototype.toYData=function(I){return[I.low,I.high]},x.prototype.highToXY=function(I){var h=this.chart,n=this.xAxis.postTranslate(I.rectPlotX||0,this.yAxis.len-(I.plotHigh||0));I.plotHighX=n.x-h.plotLeft,I.plotHigh=n.y-h.plotTop,I.plotLowX=I.plotX},x.prototype.getGraphPath=function(I){var A,h=[],n=[],D=Y.getGraphPath,P=this.options,E=this.chart.polar,m=E&&!1!==P.connectEnds,C=P.connectNulls,k=P.step;for(A=(I=I||this.points).length;A--;){var f=I[A],o=E?{plotX:f.rectPlotX,plotY:f.yBottom,doCurve:!1}:{plotX:f.plotX,plotY:f.plotY,doCurve:!1};f.isNull||m||C||I[A+1]&&!I[A+1].isNull||n.push(o);var R={polarPlotY:f.polarPlotY,rectPlotX:f.rectPlotX,yBottom:f.yBottom,plotX:l(f.plotHighX,f.plotX),plotY:f.plotHigh,isNull:f.isNull};n.push(R),h.push(R),f.isNull||m||C||I[A-1]&&!I[A-1].isNull||n.push(o)}return I=D.call(this,I),k&&(!0===k&&(k="left"),P.step={left:"right",center:"center",right:"left"}[k]),h=D.call(this,h),n=D.call(this,n),P.step=k,P=[].concat(I,h),!this.chart.polar&&n[0]&&"M"===n[0][0]&&(n[0]=["L",n[0][1],n[0][2]]),this.graphPath=P,this.areaPath=I.concat(n),P.isArea=!0,P.xMap=I.xMap,this.areaPath.xMap=I.xMap,P},x.prototype.drawDataLabels=function(){var E,m,I=this.points,h=I.length,n=[],D=this.options.dataLabels,P=this.chart.inverted;if(D){if(a(D))var C=D[0]||{enabled:!1},A=D[1]||{enabled:!1};else(C=N({},D)).x=D.xHigh,C.y=D.yHigh,(A=N({},D)).x=D.xLow,A.y=D.yLow;if(C.enabled||this._hasPointLabels){for(E=h;E--;)if(m=I[E]){var k=m.plotHigh;k=void 0===k?0:k;var f=m.plotLow;f=void 0===f?0:f,f=C.inside?k<f:k>f,m.y=m.high,m._plotY=m.plotY,m.plotY=k,n[E]=m.dataLabel,m.dataLabel=m.dataLabelUpper,m.below=f,P?C.align||(C.align=f?"right":"left"):C.verticalAlign||(C.verticalAlign=f?"top":"bottom")}for(this.options.dataLabels=C,Y.drawDataLabels&&Y.drawDataLabels.apply(this,arguments),E=h;E--;)(m=I[E])&&(m.dataLabelUpper=m.dataLabel,m.dataLabel=n[E],delete m.dataLabels,m.y=m.low,m.plotY=m._plotY)}if(A.enabled||this._hasPointLabels){for(E=h;E--;)(m=I[E])&&(k=void 0===(n=m.plotHigh)?0:n,f=void 0===(n=m.plotLow)?0:n,m.below=!(f=A.inside?k<f:k>f),P?A.align||(A.align=f?"left":"right"):A.verticalAlign||(A.verticalAlign=f?"bottom":"top"));this.options.dataLabels=A,Y.drawDataLabels&&Y.drawDataLabels.apply(this,arguments)}if(C.enabled)for(E=h;E--;)(m=I[E])&&(m.dataLabels=[m.dataLabelUpper,m.dataLabel].filter(function(o){return!!o}));this.options.dataLabels=D}},x.prototype.alignDataLabel=function(){z.alignDataLabel.apply(this,arguments)},x.prototype.drawPoints=function(){var h,I=this.points.length;for(Y.drawPoints.apply(this,arguments),h=0;h<I;){var n=this.points[h];n.graphics=n.graphics||[],n.origProps={plotY:n.plotY,plotX:n.plotX,isInside:n.isInside,negative:n.negative,zone:n.zone,y:n.y},(n.graphic||n.graphics[0])&&(n.graphics[0]=n.graphic),n.graphic=n.graphics[1],n.plotY=n.plotHigh,F(n.plotHighX)&&(n.plotX=n.plotHighX),n.y=l(n.high,n.origProps.y),n.negative=n.y<(this.options.threshold||0),this.zones.length&&(n.zone=n.getZone()),this.chart.polar||(n.isInside=n.isTopInside=typeof n.plotY<"u"&&0<=n.plotY&&n.plotY<=this.yAxis.len&&0<=n.plotX&&n.plotX<=this.xAxis.len),h++}for(Y.drawPoints.apply(this,arguments),h=0;h<I;)(n=this.points[h]).graphics=n.graphics||[],(n.graphic||n.graphics[1])&&(n.graphics[1]=n.graphic),n.graphic=n.graphics[0],n.origProps&&(N(n,n.origProps),delete n.origProps),h++},x.defaultOptions=d(G.defaultOptions,_),x}(G),j(T,"afterTranslate",function(){var w=this;"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(function(x){var I=x.high,h=x.plotY;x.isNull?x.plotY=void 0:(x.plotLow=h,x.plotHigh=p(I)?w.yAxis.translate(w.dataModify?w.dataModify.modifyValue(I):I,!1,!0,void 0,!0):void 0,w.dataModify&&(x.yBottom=x.plotHigh))})},{order:0}),j(T,"afterTranslate",function(){var w=this;this.points.forEach(function(x){if(w.chart.polar)w.highToXY(x),x.plotLow=x.plotY,x.tooltipPos=[((x.plotHighX||0)+(x.plotLowX||0))/2,((x.plotHigh||0)+(x.plotLow||0))/2];else{var I=x.pos(!1,x.plotLow),h=x.pos(!1,x.plotHigh);I&&h&&(I[0]=(I[0]+h[0])/2,I[1]=(I[1]+h[1])/2),x.tooltipPos=I}})},{order:3}),N(T.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:i,pointValKey:"low",setStackedPoints:s}),c.registerSeriesType("arearange",T),T}),e(S,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[S["Series/AreaRange/AreaRangeSeries.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c){var Y,T=this&&this.__extends||(Y=function(z,F){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,a){N.__proto__=a}||function(N,a){for(var p in a)a.hasOwnProperty(p)&&(N[p]=a[p])})(z,F)},function(z,F){function N(){this.constructor=z}Y(z,F),z.prototype=null===F?Object.create(F):(N.prototype=F.prototype,new N)}),M=s.seriesTypes.spline.prototype,j=c.merge;c=c.extend;var G=function(Y){function z(){var F=null!==Y&&Y.apply(this,arguments)||this;return F.options=void 0,F.data=void 0,F.points=void 0,F}return T(z,Y),z.defaultOptions=j(i.defaultOptions),z}(i);return c(G.prototype,{getPointSpline:M.getPointSpline}),s.registerSeriesType("areasplinerange",G),G}),e(S,"Series/BoxPlot/BoxPlotSeries.js",[S["Series/Column/ColumnSeries.js"],S["Core/Globals.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T){var z,M=this&&this.__extends||(z=function(F,N){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var l in p)p.hasOwnProperty(l)&&(a[l]=p[l])})(F,N)},function(F,N){function a(){this.constructor=F}z(F,N),F.prototype=null===N?Object.create(N):(a.prototype=N.prototype,new a)});s=s.noop;var j=T.extend,G=T.merge,Y=T.pick;return T=function(z){function F(){var N=null!==z&&z.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return M(F,z),F.prototype.pointAttribs=function(){return{}},F.prototype.translate=function(){var N=this.yAxis,a=this.pointArrayMap;z.prototype.translate.apply(this),this.points.forEach(function(p){a.forEach(function(l){null!==p[l]&&(p[l+"Plot"]=N.translate(p[l],0,1,0,1))}),p.plotHigh=p.highPlot})},F.prototype.drawPoints=function(){var d,_,w,x,I,h,D,P,E,m,A,N=this,a=N.options,p=N.chart,l=p.renderer,n=0,C=!1!==N.doQuartiles,k=N.options.whiskerLength;N.points.forEach(function(f){var o=f.graphic,R=o?"animate":"attr",U=f.shapeArgs,X={},tt={},pt={},ot={},W=f.color||N.color;typeof f.plotY<"u"&&(D=Math.round(U.width),P=Math.floor(U.x),E=P+D,m=Math.round(D/2),d=Math.floor(C?f.q1Plot:f.lowPlot),_=Math.floor(C?f.q3Plot:f.lowPlot),w=Math.floor(f.highPlot),x=Math.floor(f.lowPlot),o||(f.graphic=o=l.g("point").add(N.group),f.stem=l.path().addClass("highcharts-boxplot-stem").add(o),k&&(f.whiskers=l.path().addClass("highcharts-boxplot-whisker").add(o)),C&&(f.box=l.path(void 0).addClass("highcharts-boxplot-box").add(o)),f.medianShape=l.path(void 0).addClass("highcharts-boxplot-median").add(o)),p.styledMode||(tt.stroke=f.stemColor||a.stemColor||W,tt["stroke-width"]=Y(f.stemWidth,a.stemWidth,a.lineWidth),tt.dashstyle=f.stemDashStyle||a.stemDashStyle||a.dashStyle,f.stem.attr(tt),k&&(pt.stroke=f.whiskerColor||a.whiskerColor||W,pt["stroke-width"]=Y(f.whiskerWidth,a.whiskerWidth,a.lineWidth),pt.dashstyle=f.whiskerDashStyle||a.whiskerDashStyle||a.dashStyle,f.whiskers.attr(pt)),C&&(X.fill=f.fillColor||a.fillColor||W,X.stroke=a.lineColor||W,X["stroke-width"]=a.lineWidth||0,X.dashstyle=f.boxDashStyle||a.boxDashStyle||a.dashStyle,f.box.attr(X)),ot.stroke=f.medianColor||a.medianColor||W,ot["stroke-width"]=Y(f.medianWidth,a.medianWidth,a.lineWidth),ot.dashstyle=f.medianDashStyle||a.medianDashStyle||a.dashStyle,f.medianShape.attr(ot)),h=f.stem.strokeWidth()%2/2,f.stem[R]({d:o=[["M",n=P+m+h,_],["L",n,w],["M",n,d],["L",n,x]]}),C&&(h=f.box.strokeWidth()%2/2,d=Math.floor(d)+h,_=Math.floor(_)+h,f.box[R]({d:o=[["M",P+=h,_],["L",P,d],["L",E+=h,d],["L",E,_],["L",P,_],["Z"]]})),k&&(h=f.whiskers.strokeWidth()%2/2,w+=h,x+=h,A=/%$/.test(k)?m*parseFloat(k)/100:k/2,f.whiskers[R]({d:o=[["M",n-A,w],["L",n+A,w],["M",n-A,x],["L",n+A,x]]})),I=Math.round(f.medianPlot),h=f.medianShape.strokeWidth()%2/2,f.medianShape[R]({d:o=[["M",P,I+=h],["L",E,I]]}))})},F.prototype.toYData=function(N){return[N.low,N.q1,N.median,N.q3,N.high]},F.defaultOptions=G(i.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),F}(i),j(T.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:s,setStackedPoints:s}),c.registerSeriesType("boxplot",T),T}),e(S,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),e(S,"Series/Bubble/BubbleLegendItem.js",[S["Core/Color/Color.js"],S["Core/FormatUtilities.js"],S["Core/Globals.js"],S["Core/Utilities.js"]],function(i,s,c,T){var M=i.parse,j=c.noop,G=T.arrayMax,Y=T.arrayMin,z=T.isNumber,F=T.merge,N=T.pick,a=T.stableSort;return function(){function p(l,d){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.fontMetrics=this.chart=void 0,this.setState=j,this.init(l,d)}return p.prototype.init=function(l,d){this.options=l,this.visible=!0,this.chart=d.chart,this.legend=d},p.prototype.addToLegend=function(l){l.splice(this.options.legendIndex,0,this)},p.prototype.drawLegendSymbol=function(l){var d=this.chart,_=N(l.options.itemDistance,20),w=this.legendItem||{},x=this.options,I=x.ranges,h=x.connectorDistance;this.fontMetrics=d.renderer.fontMetrics(x.labels.style.fontSize),I&&I.length&&z(I[0].value)?(a(I,function(n,D){return D.value-n.value}),this.ranges=I,this.setOptions(),this.render(),l=this.getMaxLabelSize(),d=2*(I=this.ranges[0].radius),h=0<(h=h-I+l.width)?h:0,this.maxLabel=l,this.movementX="left"===x.labels.align?h:0,w.labelWidth=d+h+_,w.labelHeight=d+this.fontMetrics.h/2):l.options.bubbleLegend.autoRanges=!0},p.prototype.setOptions=function(){var l=this.ranges,d=this.options,_=this.chart.series[d.seriesIndex],w=this.legend.baseline,x={zIndex:d.zIndex,"stroke-width":d.borderWidth},I={zIndex:d.zIndex,"stroke-width":d.connectorWidth},h={align:this.legend.options.rtl||"left"===d.labels.align?"right":"left",zIndex:d.zIndex},n=_.options.marker.fillOpacity,D=this.chart.styledMode;l.forEach(function(P,E){D||(x.stroke=N(P.borderColor,d.borderColor,_.color),x.fill=N(P.color,d.color,1!==n?M(_.color).setOpacity(n).get("rgba"):_.color),I.stroke=N(P.connectorColor,d.connectorColor,_.color)),l[E].radius=this.getRangeRadius(P.value),l[E]=F(l[E],{center:l[0].radius-l[E].radius+w}),D||F(!0,l[E],{bubbleAttribs:F(x),connectorAttribs:F(I),labelAttribs:h})},this)},p.prototype.getRangeRadius=function(l){var d=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,d.ranges[d.ranges.length-1].value,d.ranges[0].value,d.minSize,d.maxSize,l)},p.prototype.render=function(){var l=this.legendItem||{},d=this.chart.renderer,_=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),l.symbol=d.g("bubble-legend"),l.label=d.g("bubble-legend-item"),l.symbol.translateX=0,d=l.symbol.translateY=0;for(var w=this.ranges;d<w.length;d++){var x=w[d];x.value>=_&&this.renderRange(x)}l.symbol.add(l.label),l.label.add(l.group),this.hideOverlappingLabels()},p.prototype.renderRange=function(l){var d=this.options,_=d.labels,w=this.chart,x=w.series[d.seriesIndex],I=w.renderer,h=this.symbols;w=h.labels;var n=l.center,D=Math.abs(l.radius),P=d.connectorDistance||0,E=_.align,m=d.connectorWidth,C=this.ranges[0].radius||0,A=n-D-d.borderWidth/2+m/2,k=this.fontMetrics;k=k.f/2-(k.h-k.f)/2;var f=I.styledMode;P=this.legend.options.rtl||"left"===E?-P:P,"center"===E&&(P=0,d.connectorDistance=0,l.labelAttribs.align="center"),E=A+d.labels.y;var o=C+P+d.labels.x;h.bubbleItems.push(I.circle(C,n+((A%1?1:.5)-(m%2?0:.5)),D).attr(f?{}:l.bubbleAttribs).addClass((f?"highcharts-color-"+x.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(d.className||"")).add(this.legendItem.symbol)),h.connectors.push(I.path(I.crispLine([["M",C,A],["L",C+P,A]],d.connectorWidth)).attr(f?{}:l.connectorAttribs).addClass((f?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(d.connectorClassName||"")).add(this.legendItem.symbol)),l=I.text(this.formatLabel(l),o,E+k).attr(f?{}:l.labelAttribs).css(f?{}:_.style).addClass("highcharts-bubble-legend-labels "+(d.labels.className||"")).add(this.legendItem.symbol),w.push(l),l.placed=!0,l.alignAttr={x:o,y:E+k}},p.prototype.getMaxLabelSize=function(){var l,d;return this.symbols.labels.forEach(function(_){d=_.getBBox(!0),l=l?d.width>l.width?d:l:d}),l||{}},p.prototype.formatLabel=function(l){var d=this.options,_=d.labels.formatter,w=this.chart.numberFormatter;return(d=d.labels.format)?s.format(d,l):_?_.call(l):w(l.value,1)},p.prototype.hideOverlappingLabels=function(){var d=this.symbols;!this.options.labels.allowOverlap&&d&&(this.chart.hideOverlappingLabels(d.labels),d.labels.forEach(function(_,w){_.newOpacity?_.newOpacity!==_.oldOpacity&&d.connectors[w].show():d.connectors[w].hide()}))},p.prototype.getRanges=function(){var _,l=this.legend.bubbleLegend,d=l.options.ranges,w=Number.MAX_VALUE,x=-Number.MAX_VALUE;l.chart.series.forEach(function(h){h.isBubble&&!h.ignoreSeries&&(_=h.zData.filter(z)).length&&(w=N(h.options.zMin,Math.min(w,Math.max(Y(_),!1===h.options.displayNegative?h.options.zThreshold:-Number.MAX_VALUE))),x=N(h.options.zMax,Math.max(x,G(_))))});var I=w===x?[{value:x}]:[{value:w},{value:(w+x)/2},{value:x,autoRanges:!0}];return d.length&&d[0].radius&&I.reverse(),I.forEach(function(h,n){d&&d[n]&&(I[n]=F(d[n],h))}),I},p.prototype.predictBubbleSizes=function(){var l=this.chart,d=this.fontMetrics,_=l.legend.options,w=_.floating,x=(_="horizontal"===_.layout)?l.legend.lastLineHeight:0,I=l.plotSizeX,h=l.plotSizeY,n=l.series[this.options.seriesIndex],D=n.getPxExtremes();l=Math.ceil(D.minPxSize),D=Math.ceil(D.maxPxSize);var P=Math.min(h,I);return n=n.options.maxSize,w||!/%$/.test(n)?d=D:(n=parseFloat(n),d=(P+x-d.h/2)*n/100/(n/100+1),(_&&h-d>=I||!_&&I-d>=h)&&(d=D)),[l,Math.ceil(d)]},p.prototype.updateRanges=function(l,d){var _=this.legend.options.bubbleLegend;_.minSize=l,_.maxSize=d,_.ranges=this.getRanges()},p.prototype.correctSizes=function(){var l=this.legend,d=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(d.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,d.maxPxSize),l.render())},p}()}),e(S,"Series/Bubble/BubbleLegendComposition.js",[S["Series/Bubble/BubbleLegendDefaults.js"],S["Series/Bubble/BubbleLegendItem.js"],S["Core/Defaults.js"],S["Core/Utilities.js"]],function(i,s,c,T){function M(_,w,x){var n,I=this.legend,h=0<=j(this);if(I&&I.options.enabled&&I.bubbleLegend&&I.options.bubbleLegend.autoRanges&&h){var D=I.bubbleLegend.options;h=I.bubbleLegend.predictBubbleSizes(),I.bubbleLegend.updateRanges(h[0],h[1]),D.placed||(I.group.placed=!1,I.allItems.forEach(function(P){(n=P.legendItem||{}).group&&(n.group.translateY=null)})),I.render(),this.getMargins(),this.axes.forEach(function(P){P.visible&&P.render(),D.placed||(P.setScale(),P.updateNames(),p(P.ticks,function(E){E.isNew=!0,E.isNewLabel=!0}))}),D.placed=!0,this.getMargins(),_.call(this,w,x),I.bubbleLegend.correctSizes(),F(I,G(I))}else _.call(this,w,x),I&&I.options.enabled&&I.bubbleLegend&&(I.render(),F(I,G(I)))}function j(_){_=_.series;for(var w=0;w<_.length;){if(_[w]&&_[w].isBubble&&_[w].visible&&_[w].zData.length)return w;w++}return-1}function G(_){var I,w=[],x=(_=_.allItems).length,h=0;for(I=0;I<x;I++){var n=_[I].legendItem||{},D=(_[I+1]||{}).legendItem||{};if(n.labelHeight&&(_[I].itemHeight=n.labelHeight),_[I]===_[x-1]||n.y!==D.y){for(w.push({height:0}),n=w[w.length-1];h<=I;h++)_[h].itemHeight>n.height&&(n.height=_[h].itemHeight);n.step=I}}return w}function Y(_){var w=this.bubbleLegend,x=this.options,I=x.bubbleLegend,h=j(this.chart);w&&w.ranges&&w.ranges.length&&(I.ranges.length&&(I.autoRanges=!!I.ranges[0].autoRanges),this.destroyItem(w)),0<=h&&x.enabled&&I.enabled&&(I.seriesIndex=h,this.bubbleLegend=new s(I,this),this.bubbleLegend.addToLegend(_.allItems))}function z(){var _=this.chart,w=this.visible,x=this.chart.legend;x&&x.bubbleLegend&&(this.visible=!w,this.ignoreSeries=w,_=0<=j(_),x.bubbleLegend.visible!==_&&(x.update({bubbleLegend:{enabled:_}}),x.bubbleLegend.visible=_),this.visible=w)}function F(_,w){var I,h,n,D,x=_.options.rtl,P=0;_.allItems.forEach(function(E,m){(D=E.legendItem||{}).group&&(I=D.group.translateX||0,h=D.y||0,((n=E.movementX)||x&&E.ranges)&&D.group.attr({translateX:n=x?I-E.options.maxSize/2:I+n}),m>w[P].step&&P++,D.group.attr({translateY:Math.round(h+w[P].height/2)}),D.y=h+w[P].height/2)})}var N=c.setOptions,a=T.addEvent,p=T.objectEach,l=T.wrap,d=[];return{compose:function(_,w,x){-1===d.indexOf(_)&&(d.push(_),N({legend:{bubbleLegend:i}}),l(_.prototype,"drawChartBox",M)),-1===d.indexOf(w)&&(d.push(w),a(w,"afterGetAllItems",Y)),-1===d.indexOf(x)&&(d.push(x),a(x,"legendItemClick",z))}}}),e(S,"Series/Bubble/BubblePoint.js",[S["Core/Series/Point.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c){var M,T=this&&this.__extends||(M=function(j,G){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,z){Y.__proto__=z}||function(Y,z){for(var F in z)z.hasOwnProperty(F)&&(Y[F]=z[F])})(j,G)},function(j,G){function Y(){this.constructor=j}M(j,G),j.prototype=null===G?Object.create(G):(Y.prototype=G.prototype,new Y)});return c=c.extend,s=function(M){function j(){var G=null!==M&&M.apply(this,arguments)||this;return G.options=void 0,G.series=void 0,G}return T(j,M),j.prototype.haloPath=function(G){return i.prototype.haloPath.call(this,0===G?0:(this.marker&&this.marker.radius||0)+G)},j}(s.seriesTypes.scatter.prototype.pointClass),c(s.prototype,{ttBelow:!1}),s}),e(S,"Series/Bubble/BubbleSeries.js",[S["Series/Bubble/BubbleLegendComposition.js"],S["Series/Bubble/BubblePoint.js"],S["Core/Color/Color.js"],S["Core/Globals.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T,M,j){function G(){var R,n=this,D=this.len,P=this.chart,E=this.isXAxis,m=E?"xData":"yData",C=this.min,A=this.max-C,k=0,f=D,o=D/A;this.series.forEach(function(U){if(U.bubblePadding&&(U.visible||!P.options.chart.ignoreHiddenSeries)){R=n.allowZoomOutside=!0;var X=U[m];if(E&&((U.onPoint||U).getRadii(0,0,U),U.onPoint&&(U.radii=U.onPoint.radii)),0<A)for(var tt=X.length;tt--;)if(w(X[tt])&&n.dataMin<=X[tt]&&X[tt]<=n.max){var pt=U.radii&&U.radii[tt]||0;k=Math.min((X[tt]-C)*o-pt,k),f=Math.max((X[tt]-C)*o+pt,f)}}}),R&&0<A&&!this.logarithmic&&(f-=D,o*=(D+Math.max(0,k)-Math.min(f,D))/D,[["min","userMin",k],["max","userMax",f]].forEach(function(U){typeof I(n.options[U[0]],n[U[1]])>"u"&&(n[U[0]]+=U[2]/o)}))}var n,Y=this&&this.__extends||(n=function(D,P){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,m){E.__proto__=m}||function(E,m){for(var C in m)m.hasOwnProperty(C)&&(E[C]=m[C])})(D,P)},function(D,P){function E(){this.constructor=D}n(D,P),D.prototype=null===P?Object.create(P):(E.prototype=P.prototype,new E)}),z=c.parse;c=T.noop;var F=M.series,N=M.seriesTypes;T=N.column.prototype;var a=N.scatter;N=j.addEvent;var p=j.arrayMax,l=j.arrayMin,d=j.clamp,_=j.extend,w=j.isNumber,x=j.merge,I=j.pick,h=[];return j=function(n){function D(){var P=null!==n&&n.apply(this,arguments)||this;return P.data=void 0,P.maxPxSize=void 0,P.minPxSize=void 0,P.options=void 0,P.points=void 0,P.radii=void 0,P.yData=void 0,P.zData=void 0,P}return Y(D,n),D.compose=function(P,E,m,C){i.compose(E,m,C),-1===h.indexOf(P)&&(h.push(P),P.prototype.beforePadding=G)},D.prototype.animate=function(P){!P&&this.points.length<this.options.animationLimit&&this.points.forEach(function(E){var m=E.graphic;m&&m.width&&(this.hasRendered||m.attr({x:E.plotX,y:E.plotY,width:1,height:1}),m.animate(this.markerAttribs(E),this.options.animation))},this)},D.prototype.getRadii=function(){var P=this,E=this.zData,m=this.yData,C=[],A=this.chart.bubbleZExtremes,k=this.getPxExtremes(),f=k.minPxSize,o=k.maxPxSize;if(!A){var X,R=Number.MAX_VALUE,U=-Number.MAX_VALUE;this.chart.series.forEach(function(ot){ot.bubblePadding&&(ot.visible||!P.chart.options.chart.ignoreHiddenSeries)&&(ot=(ot.onPoint||ot).getZExtremes())&&(R=Math.min(R||ot.zMin,ot.zMin),U=Math.max(U||ot.zMax,ot.zMax),X=!0)}),X?this.chart.bubbleZExtremes=A={zMin:R,zMax:U}:A={zMin:0,zMax:0}}var tt=0;for(k=E.length;tt<k;tt++)C.push(this.getRadius(A.zMin,A.zMax,f,o,E[tt],m&&m[tt]));this.radii=C},D.prototype.getRadius=function(P,E,m,C,A,k){var f=this.options,o="width"!==f.sizeBy,R=f.zThreshold,U=E-P,X=.5;if(null===k||null===A)return null;if(w(A)){if(f.sizeByAbsoluteValue&&(A=Math.abs(A-R),U=Math.max(E-R,Math.abs(P-R)),P=0),A<P)return m/2-1;0<U&&(X=(A-P)/U)}return o&&0<=X&&(X=Math.sqrt(X)),Math.ceil(m+X*(C-m))/2},D.prototype.hasData=function(){return!!this.processedXData.length},D.prototype.pointAttribs=function(P,E){var m=this.options.marker.fillOpacity;return P=F.prototype.pointAttribs.call(this,P,E),1!==m&&(P.fill=z(P.fill).setOpacity(m).get("rgba")),P},D.prototype.translate=function(){n.prototype.translate.call(this),this.getRadii(),this.translateBubble()},D.prototype.translateBubble=function(){for(var P=this.data,E=this.radii,m=this.getPxExtremes().minPxSize,C=P.length;C--;){var A=P[C],k=E?E[C]:0;w(k)&&k>=m/2?(A.marker=_(A.marker,{radius:k,width:2*k,height:2*k}),A.dlBox={x:A.plotX-k,y:A.plotY-k,width:2*k,height:2*k}):(A.shapeArgs=A.plotY=A.dlBox=void 0,A.isInside=!1)}},D.prototype.getPxExtremes=function(){var P=Math.min(this.chart.plotWidth,this.chart.plotHeight),E=function(C){if("string"==typeof C){var A=/%$/.test(C);C=parseInt(C,10)}return A?P*C/100:C},m=E(I(this.options.minSize,8));return{minPxSize:m,maxPxSize:E=Math.max(E(I(this.options.maxSize,"20%")),m)}},D.prototype.getZExtremes=function(){var P=this.options,E=(this.zData||[]).filter(w);if(E.length){var m=I(P.zMin,d(l(E),!1===P.displayNegative?P.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(P=I(P.zMax,p(E)),w(m)&&w(P))return{zMin:m,zMax:P}}},D.defaultOptions=x(a.defaultOptions,{dataLabels:{formatter:function(){var P=this.series.chart.numberFormatter,E=this.point.z;return w(E)?P(E,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),D}(a),_(j.prototype,{alignDataLabel:T.alignDataLabel,applyZones:c,bubblePadding:!0,buildKDTree:c,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:s,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),N(j,"updatedData",function(n){delete n.target.chart.bubbleZExtremes}),N(j,"remove",function(n){delete n.target.chart.bubbleZExtremes}),M.registerSeriesType("bubble",j),j}),e(S,"Series/ColumnRange/ColumnRangePoint.js",[S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s){var G,c=this&&this.__extends||(G=function(Y,z){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,N){F.__proto__=N}||function(F,N){for(var a in N)N.hasOwnProperty(a)&&(F[a]=N[a])})(Y,z)},function(Y,z){function F(){this.constructor=Y}G(Y,z),Y.prototype=null===z?Object.create(z):(F.prototype=z.prototype,new F)}),T=i.seriesTypes;i=T.column.prototype.pointClass.prototype;var M=s.extend,j=s.isNumber;return s=function(G){function Y(){var z=null!==G&&G.apply(this,arguments)||this;return z.options=void 0,z.series=void 0,z}return c(Y,G),Y.prototype.isValid=function(){return j(this.low)},Y}(T.arearange.prototype.pointClass),M(s.prototype,{setState:i.setState}),s}),e(S,"Series/ColumnRange/ColumnRangeSeries.js",[S["Series/ColumnRange/ColumnRangePoint.js"],S["Core/Globals.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T){var d,M=this&&this.__extends||(d=function(_,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,I){x.__proto__=I}||function(x,I){for(var h in I)I.hasOwnProperty(h)&&(x[h]=I[h])})(_,w)},function(_,w){function x(){this.constructor=_}d(_,w),_.prototype=null===w?Object.create(w):(x.prototype=w.prototype,new x)});s=s.noop;var j=c.seriesTypes,G=j.arearange,Y=j.column,z=j.column.prototype,F=T.clamp;j=T.extend;var N=T.isNumber,a=T.merge,p=T.pick,l={pointRange:null,marker:null,states:{hover:{halo:!1}}};return T=function(d){function _(){return null!==d&&d.apply(this,arguments)||this}return M(_,d),_.prototype.setOptions=function(){return a(!0,arguments[0],{stacking:void 0}),G.prototype.setOptions.apply(this,arguments)},_.prototype.translate=function(){var E,m,C,A,w=this,x=this.yAxis,I=this.xAxis,h=I.startAngleRad,n=this.chart,D=this.xAxis.isRadial,P=Math.max(n.chartWidth,n.chartHeight)+999;z.translate.apply(this),this.points.forEach(function(k){var f=k.shapeArgs||{},o=w.options.minPointLength,R=k.plotY,U=x.translate(k.high,0,1,0,1);N(U)&&N(R)&&(k.plotHigh=F(U,-P,P),k.plotLow=F(R,-P,P),A=k.plotHigh,E=p(k.rectPlotY,k.plotY)-k.plotHigh,Math.abs(E)<o?(E+=m=o-E,A-=m/2):0>E&&(A-=E*=-1),D&&w.polar?(C=k.barX+h,k.shapeType="arc",k.shapeArgs=w.polar.arc(A+E,A,C,C+k.pointWidth)):(f.height=E,f.y=A,o=void 0===(o=f.x)?0:o,f=void 0===(f=f.width)?0:f,k.tooltipPos=n.inverted?[x.len+x.pos-n.plotLeft-A-E/2,I.len+I.pos-n.plotTop-o-f/2,E]:[I.left-n.plotLeft+o+f/2,x.pos-n.plotTop+A+E/2,E]))})},_.prototype.pointAttribs=function(){return z.pointAttribs.apply(this,arguments)},_.prototype.translate3dPoints=function(){return z.translate3dPoints.apply(this,arguments)},_.prototype.translate3dShapes=function(){return z.translate3dShapes.apply(this,arguments)},_.defaultOptions=a(Y.defaultOptions,G.defaultOptions,l),_}(G),j(T.prototype,{directTouch:!0,pointClass:i,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:z.adjustForMissingColumns,animate:z.animate,crispCol:z.crispCol,drawGraph:s,drawPoints:z.drawPoints,getSymbol:s,drawTracker:z.drawTracker,getColumnMetrics:z.getColumnMetrics}),c.registerSeriesType("columnrange",T),T}),e(S,"Series/ColumnPyramid/ColumnPyramidSeries.js",[S["Series/Column/ColumnSeries.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c){var z,T=this&&this.__extends||(z=function(F,N){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var l in p)p.hasOwnProperty(l)&&(a[l]=p[l])})(F,N)},function(F,N){function a(){this.constructor=F}z(F,N),F.prototype=null===N?Object.create(N):(a.prototype=N.prototype,new a)}),M=i.prototype,j=c.clamp,G=c.merge,Y=c.pick;return c=function(z){function F(){var N=null!==z&&z.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return T(F,z),F.prototype.translate=function(){var N=this,a=N.chart,p=N.options,l=N.dense=2>N.closestPointRange*N.xAxis.transA;l=N.borderWidth=Y(p.borderWidth,l?0:1);var d=N.yAxis,_=p.threshold,w=N.translatedThreshold=d.getThreshold(_),x=Y(p.minPointLength,5),I=N.getColumnMetrics(),h=I.width,n=N.barW=Math.max(h,1+2*l),D=N.pointXOffset=I.offset;a.inverted&&(w-=.5),p.pointPadding&&(n=Math.ceil(n)),M.translate.apply(N),N.points.forEach(function(P){var E=Y(P.yBottom,w),m=999+Math.abs(E),C=j(P.plotY,-m,d.len+m);m=P.plotX+D;var f,A=n/2,k=Math.min(C,E);E=Math.max(C,E)-k,P.barX=m,P.pointWidth=h,P.tooltipPos=a.inverted?[d.len+d.pos-a.plotLeft-C,N.xAxis.len-m-A,E]:[m+A,C+d.pos-a.plotTop,E],C=_+(P.total||P.y),"percent"===p.stacking&&(C=_+(0>P.y)?-100:100),C=d.toPixels(C,!0);var o=(f=a.plotHeight-C-(a.plotHeight-w))?A*(k-C)/f:0,R=f?A*(k+E-C)/f:0;f=m-o+A,o=m+o+A;var U=m+R+A;R=m-R+A;var X=k-x,tt=k+E;0>P.y&&(X=k,tt=k+E+x),a.inverted&&(R=A*(C-((U=d.width-k)-E))/(f=C-(d.width-w)),o=(f=m+A+(o=A*(C-U)/f))-2*o,U=m-R+A,R=m+R+A,X=k,tt=k+E-x,0>P.y&&(tt=k+E+x)),P.shapeType="path",P.shapeArgs={x:f,y:X,width:o-f,height:E,d:[["M",f,X],["L",o,X],["L",U,tt],["L",R,tt],["Z"]]}})},F.defaultOptions=G(i.defaultOptions,{}),F}(i),s.registerSeriesType("columnpyramid",c),c}),e(S,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),e(S,"Series/ErrorBar/ErrorBarSeries.js",[S["Series/BoxPlot/BoxPlotSeries.js"],S["Series/Column/ColumnSeries.js"],S["Series/ErrorBar/ErrorBarSeriesDefaults.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T,M){var N,j=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),G=T.seriesTypes.arearange,Y=M.addEvent,z=M.merge;M=M.extend;var F=function(N){function a(){var p=null!==N&&N.apply(this,arguments)||this;return p.data=void 0,p.options=void 0,p.points=void 0,p}return j(a,N),a.prototype.getColumnMetrics=function(){return this.linkedParent&&this.linkedParent.columnMetrics||s.prototype.getColumnMetrics.call(this)},a.prototype.drawDataLabels=function(){var p=this.pointValKey;G&&(G.prototype.drawDataLabels.call(this),this.data.forEach(function(l){l.y=l[p]}))},a.prototype.toYData=function(p){return[p.low,p.high]},a.defaultOptions=z(i.defaultOptions,c),a}(i);return Y(F,"afterTranslate",function(){this.points.forEach(function(N){N.plotLow=N.plotY})},{order:0}),M(F.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),T.registerSeriesType("errorbar",F),F}),e(S,"Series/Gauge/GaugePoint.js",[S["Core/Series/SeriesRegistry.js"]],function(i){var c,s=this&&this.__extends||(c=function(T,M){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,G){j.__proto__=G}||function(j,G){for(var Y in G)G.hasOwnProperty(Y)&&(j[Y]=G[Y])})(T,M)},function(T,M){function j(){this.constructor=T}c(T,M),T.prototype=null===M?Object.create(M):(j.prototype=M.prototype,new j)});return function(c){function T(){var M=null!==c&&c.apply(this,arguments)||this;return M.options=void 0,M.series=void 0,M.shapeArgs=void 0,M}return s(T,c),T.prototype.setState=function(M){this.state=M},T}(i.series.prototype.pointClass)}),e(S,"Series/Gauge/GaugeSeries.js",[S["Series/Gauge/GaugePoint.js"],S["Core/Globals.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T){var l,M=this&&this.__extends||(l=function(d,_){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var I in x)x.hasOwnProperty(I)&&(w[I]=x[I])})(d,_)},function(d,_){function w(){this.constructor=d}l(d,_),d.prototype=null===_?Object.create(_):(w.prototype=_.prototype,new w)});s=s.noop;var j=c.series,G=c.seriesTypes.column,Y=T.clamp,z=T.isNumber,F=T.extend,N=T.merge,a=T.pick,p=T.pInt;return T=function(l){function d(){var _=null!==l&&l.apply(this,arguments)||this;return _.data=void 0,_.points=void 0,_.options=void 0,_.yAxis=void 0,_}return M(d,l),d.prototype.translate=function(){var _=this.yAxis,w=this.options,x=_.center;this.generatePoints(),this.points.forEach(function(I){var h=N(w.dial,I.dial),n=p(h.radius)*x[2]/200,D=p(h.baseLength)*n/100,P=p(h.rearLength)*n/100,E=h.baseWidth,m=h.topWidth,C=w.overshoot,A=_.startAngleRad+_.translate(I.y,void 0,void 0,void 0,!0);(z(C)||!1===w.wrap)&&(C=z(C)?C/180*Math.PI:0,A=Y(A,_.startAngleRad-C,_.endAngleRad+C)),A=180*A/Math.PI,I.shapeType="path",I.shapeArgs={d:h.path||[["M",-P,-E/2],["L",D,-E/2],["L",n,-m/2],["L",n,m/2],["L",D,E/2],["L",-P,E/2],["Z"]],translateX:x[0],translateY:x[1],rotation:A},I.plotX=x[0],I.plotY=x[1]})},d.prototype.drawPoints=function(){var _=this,w=_.chart,x=_.yAxis.center,I=_.pivot,h=_.options,n=h.pivot,D=w.renderer;_.points.forEach(function(P){var E=P.graphic,m=P.shapeArgs,C=m.d,A=N(h.dial,P.dial);E?(E.animate(m),m.d=C):P.graphic=D[P.shapeType](m).attr({rotation:m.rotation,zIndex:1}).addClass("highcharts-dial").add(_.group),w.styledMode||P.graphic[E?"animate":"attr"]({stroke:A.borderColor,"stroke-width":A.borderWidth,fill:A.backgroundColor})}),I?I.animate({translateX:x[0],translateY:x[1]}):n&&(_.pivot=D.circle(0,0,n.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(x[0],x[1]).add(_.group),w.styledMode||_.pivot.attr({fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth}))},d.prototype.animate=function(_){var w=this;_||w.points.forEach(function(x){var I=x.graphic;I&&(I.attr({rotation:180*w.yAxis.startAngleRad/Math.PI}),I.animate({rotation:x.shapeArgs.rotation},w.options.animation))})},d.prototype.render=function(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),j.prototype.render.call(this),this.group.clip(this.chart.clipRect)},d.prototype.setData=function(_,w){j.prototype.setData.call(this,_,!1),this.processData(),this.generatePoints(),a(w,!0)&&this.chart.redraw()},d.prototype.hasData=function(){return!!this.points.length},d.defaultOptions=N(j.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),d}(j),F(T.prototype,{angular:!0,directTouch:!0,drawGraph:s,drawTracker:G.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:i,trackerGroups:["group","dataLabelsGroup"]}),c.registerSeriesType("gauge",T),T}),e(S,"Series/DragNodesComposition.js",[S["Core/Utilities.js"]],function(i){function s(){var j,G,Y,M=this;M.container&&(j=c(M.container,"mousedown",function(z){var F=M.hoverPoint;F&&F.series&&F.series.hasDraggableNodes&&F.series.options.draggable&&(F.series.onMouseDown(F,z),G=c(M.container,"mousemove",function(N){return F&&F.series&&F.series.onMouseMove(F,N)}),Y=c(M.container.ownerDocument,"mouseup",function(N){return G(),Y(),F&&F.series&&F.series.onMouseUp(F,N)}))})),c(M,"destroy",function(){j()})}var c=i.addEvent,T=[];return{compose:function(M){-1===T.indexOf(M)&&(T.push(M),c(M,"load",s))},onMouseDown:function(M,j){j=this.chart.pointer.normalize(j),M.fixedPosition={chartX:j.chartX,chartY:j.chartY,plotX:M.plotX,plotY:M.plotY},M.inDragMode=!0},onMouseMove:function(M,j){if(M.fixedPosition&&M.inDragMode){var G=this.chart,Y=G.pointer.normalize(j);j=M.fixedPosition.chartX-Y.chartX,Y=M.fixedPosition.chartY-Y.chartY;var z=G.graphLayoutsLookup,F=void 0,N=void 0;(5<Math.abs(j)||5<Math.abs(Y))&&G.isInsidePlot(F=M.fixedPosition.plotX-j,N=M.fixedPosition.plotY-Y)&&(M.plotX=F,M.plotY=N,M.hasDragged=!0,this.redrawHalo(M),z.forEach(function(a){a.restartSimulation()}))}},onMouseUp:function(M,j){M.fixedPosition&&(M.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),M.inDragMode=M.hasDragged=!1,this.options.fixedDraggable||delete M.fixedPosition)},redrawHalo:function(M){M&&this.halo&&this.halo.attr({d:M.haloPath(this.options.states.hover.halo.size)})}}}),e(S,"Series/GraphLayoutComposition.js",[S["Core/Animation/AnimationUtilities.js"],S["Core/Utilities.js"]],function(i,s){function c(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(F){F.updateSimulation()}),this.redraw())}function T(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(F){F.updateSimulation(!1)}),this.redraw())}function M(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(F){F.stop()})}function j(){var F=!1,N=function(p){p.maxIterations--&&isFinite(p.temperature)&&!p.isStable()&&!p.enableSimulation&&(p.beforeStep&&p.beforeStep(),p.step(),a=!1,F=!0)};if(this.graphLayoutsLookup){for(G(!1,this),this.graphLayoutsLookup.forEach(function(p){return p.start()});!a;){var a=!0;this.graphLayoutsLookup.forEach(N)}F&&this.series.forEach(function(p){p&&p.layout&&p.render()})}}var G=i.setAnimation,Y=s.addEvent,z=[];return{compose:function(F){z.indexOf(F)&&(z.push(F),Y(F,"afterPrint",c),Y(F,"beforePrint",T),Y(F,"predraw",M),Y(F,"render",j))},integrations:{},layouts:{}}}),e(S,"Series/PackedBubble/PackedBubblePoint.js",[S["Core/Chart/Chart.js"],S["Core/Series/Point.js"],S["Core/Series/SeriesRegistry.js"]],function(i,s,c){var M,T=this&&this.__extends||(M=function(j,G){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,z){Y.__proto__=z}||function(Y,z){for(var F in z)z.hasOwnProperty(F)&&(Y[F]=z[F])})(j,G)},function(j,G){function Y(){this.constructor=j}M(j,G),j.prototype=null===G?Object.create(G):(Y.prototype=G.prototype,new Y)});return function(M){function j(){var G=null!==M&&M.apply(this,arguments)||this;return G.degree=NaN,G.mass=NaN,G.radius=NaN,G.options=void 0,G.series=void 0,G.value=null,G}return T(j,M),j.prototype.destroy=function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),s.prototype.destroy.apply(this,arguments)},j.prototype.firePointEvent=function(){var G=this.series.options;if(this.isParentNode&&G.parentNode){var Y=G.allowPointSelect;G.allowPointSelect=G.parentNode.allowPointSelect,s.prototype.firePointEvent.apply(this,arguments),G.allowPointSelect=Y}else s.prototype.firePointEvent.apply(this,arguments)},j.prototype.select=function(){var G=this.series.chart;this.isParentNode?(G.getSelectedPoints=G.getSelectedParentNodes,s.prototype.select.apply(this,arguments),G.getSelectedPoints=i.prototype.getSelectedPoints):s.prototype.select.apply(this,arguments)},j}(c.seriesTypes.bubble.prototype.pointClass)}),e(S,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[S["Core/Utilities.js"]],function(i){var s=i.isNumber;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){var c=this.series.chart.numberFormatter,T=this.point.value;return s(T)?c(T,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),e(S,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(i,s,c){var T=i.getMass(),M=-c.x*s*this.diffTemperature;s=-c.y*s*this.diffTemperature,i.fromNode.fixedPosition||(i.fromNode.plotX-=M*T.fromNode/i.fromNode.degree,i.fromNode.plotY-=s*T.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.plotX+=M*T.toNode/i.toNode.degree,i.toNode.plotY+=s*T.toNode/i.toNode.degree)},attractiveForceFunction:function(i,s){return(s-i)/i},barycenter:function(){var i=this.options.gravitationalConstant,s=this.barycenter.xFactor,c=this.barycenter.yFactor;s=(s-(this.box.left+this.box.width)/2)*i,c=(c-(this.box.top+this.box.height)/2)*i,this.nodes.forEach(function(T){T.fixedPosition||(T.plotX-=s/T.mass/T.degree,T.plotY-=c/T.mass/T.degree)})},getK:function(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.5)},integrate:function(i,s){var c=-i.options.friction,T=i.options.maxSpeed,M=(s.plotX+s.dispX-s.prevX)*c;c*=s.plotY+s.dispY-s.prevY;var j=Math.abs,G=j(M)/(M||1);j=j(c)/(c||1),M=G*Math.min(T,Math.abs(M)),c=j*Math.min(T,Math.abs(c)),s.prevX=s.plotX+s.dispX,s.prevY=s.plotY+s.dispY,s.plotX+=M,s.plotY+=c,s.temperature=i.vectorLength({x:M,y:c})},repulsive:function(i,s,c){s=s*this.diffTemperature/i.mass/i.degree,i.fixedPosition||(i.plotX+=c.x*s,i.plotY+=c.y*s)},repulsiveForceFunction:function(i,s){return(s-i)/i*(s>i?1:0)}}}),e(S,"Series/PackedBubble/PackedBubbleIntegration.js",[S["Core/Globals.js"],S["Series/Networkgraph/VerletIntegration.js"]],function(i,s){return{barycenter:function(){for(var j,G,c=this.options.gravitationalConstant,T=this.box,M=this.nodes,Y=0;Y<M.length;Y++){var z=M[Y];this.options.splitSeries&&!z.isParentNode?(j=z.series.parentNode.plotX,G=z.series.parentNode.plotY):(j=T.width/2,G=T.height/2),z.fixedPosition||(z.plotX-=(z.plotX-j)*c/(z.mass*Math.sqrt(M.length)),z.plotY-=(z.plotY-G)*c/(z.mass*Math.sqrt(M.length)))}},getK:i.noop,integrate:s.integrate,repulsive:function(c,T,M,j){var G=T*this.diffTemperature/c.mass/c.degree;T=M.x*G,M=M.y*G,c.fixedPosition||(c.plotX+=T,c.plotY+=M),j.fixedPosition||(j.plotX-=T,j.plotY-=M)},repulsiveForceFunction:function(c,T,M,j){return Math.min(c,(M.marker.radius+j.marker.radius)/2)}}}),e(S,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(i,s,c,T){var M=i.getMass(),j=c.x/T*s;s*=c.y/T,i.fromNode.fixedPosition||(i.fromNode.dispX-=j*M.fromNode/i.fromNode.degree,i.fromNode.dispY-=s*M.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.dispX+=j*M.toNode/i.toNode.degree,i.toNode.dispY+=s*M.toNode/i.toNode.degree)},attractiveForceFunction:function(i,s){return i*i/s},barycenter:function(){var i=this.options.gravitationalConstant,s=this.barycenter.xFactor,c=this.barycenter.yFactor;this.nodes.forEach(function(T){if(!T.fixedPosition){var M=T.getDegree();T.dispX+=(s-T.plotX)*i*(M*=1+M/2)/T.degree,T.dispY+=(c-T.plotY)*i*M/T.degree}})},getK:function(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.3)},integrate:function(i,s){s.dispX+=s.dispX*i.options.friction,s.dispY+=s.dispY*i.options.friction;var c=s.temperature=i.vectorLength({x:s.dispX,y:s.dispY});0!==c&&(s.plotX+=s.dispX/c*Math.min(Math.abs(s.dispX),i.temperature),s.plotY+=s.dispY/c*Math.min(Math.abs(s.dispY),i.temperature))},repulsive:function(i,s,c,T){i.dispX+=c.x/T*s/i.degree,i.dispY+=c.y/T*s/i.degree},repulsiveForceFunction:function(i,s){return s*s/i}}}),e(S,"Series/Networkgraph/QuadTreeNode.js",[],function(){return function(){function i(s){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=s,this.boxSize=Math.min(s.width,s.height)}return i.prototype.divideBox=function(){var s=this.box.width/2,c=this.box.height/2;this.nodes[0]=new i({left:this.box.left,top:this.box.top,width:s,height:c}),this.nodes[1]=new i({left:this.box.left+s,top:this.box.top,width:s,height:c}),this.nodes[2]=new i({left:this.box.left+s,top:this.box.top+c,width:s,height:c}),this.nodes[3]=new i({left:this.box.left,top:this.box.top+c,width:s,height:c})},i.prototype.getBoxPosition=function(s){var c=s.plotY<this.box.top+this.box.height/2;return s.plotX<this.box.left+this.box.width/2?c?0:3:c?1:2},i.prototype.insert=function(s,c){this.isInternal?this.nodes[this.getBoxPosition(s)].insert(s,c-1):(this.isEmpty=!1,this.body?c?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,c-1),this.body=!0),this.nodes[this.getBoxPosition(s)].insert(s,c-1)):((c=new i({top:s.plotX||NaN,left:s.plotY||NaN,width:.1,height:.1})).body=s,c.isInternal=!1,this.nodes.push(c)):(this.isInternal=!1,this.body=s))},i.prototype.updateMassAndCenter=function(){var s=0,c=0,T=0;if(this.isInternal){for(var M=0,j=this.nodes;M<j.length;M++){var G=j[M];G.isEmpty||(s+=G.mass,c+=G.plotX*G.mass,T+=G.plotY*G.mass)}c/=s,T/=s}else this.body&&(s=this.body.mass,c=this.body.plotX,T=this.body.plotY);this.mass=s,this.plotX=c,this.plotY=T},i}()}),e(S,"Series/Networkgraph/QuadTree.js",[S["Series/Networkgraph/QuadTreeNode.js"]],function(i){return function(){function s(c,T,M,j){this.box={left:c,top:T,width:M,height:j},this.maxDepth=25,this.root=new i(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}return s.prototype.calculateMassAndCenter=function(){this.visitNodeRecursive(null,null,function(c){c.updateMassAndCenter()})},s.prototype.insertNodes=function(c){for(var T=0;T<c.length;T++)this.root.insert(c[T],this.maxDepth)},s.prototype.visitNodeRecursive=function(c,T,M){var j;if(c||(c=this.root),c===this.root&&T&&(j=T(c)),!1!==j){for(var G=0,Y=c.nodes;G<Y.length;G++){var z=Y[G];if(z.isInternal){if(T&&(j=T(z)),!1===j)continue;this.visitNodeRecursive(z,T,M)}else z.body&&T&&T(z.body);M&&M(z)}c===this.root&&M&&M(c)}},s}()}),e(S,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[S["Series/Networkgraph/EulerIntegration.js"],S["Core/Globals.js"],S["Series/GraphLayoutComposition.js"],S["Series/Networkgraph/QuadTree.js"],S["Core/Utilities.js"],S["Series/Networkgraph/VerletIntegration.js"]],function(i,s,c,T,M,j){var G=s.win,Y=M.clamp,z=M.defined,F=M.isFunction,N=M.pick;return function(){function a(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}return a.compose=function(p){c.compose(p),c.integrations.euler=i,c.integrations.verlet=j,c.layouts["reingold-fruchterman"]=a},a.prototype.init=function(p){this.options=p,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=c.integrations[p.integration],this.enableSimulation=p.enableSimulation,this.attractiveForce=N(p.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=N(p.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=p.approximation},a.prototype.updateSimulation=function(p){this.enableSimulation=N(p,this.options.enableSimulation)},a.prototype.start=function(){var p=this.series,l=this.options;this.currentStep=0,this.forces=p[0]&&p[0].forces||[],this.chart=p[0]&&p[0].chart,this.initialRendering&&(this.initPositions(),p.forEach(function(d){d.finishedAnimating=!0,d.render()})),this.setK(),this.resetSimulation(l),this.enableSimulation&&this.step()},a.prototype.step=function(){var p=this,l=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(var d=0,_=this.forces||[];d<_.length;d++)this[_[d]+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(d=0;d<l.length;d++)(_=l[d]).chart&&_.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&G.cancelAnimationFrame(this.simulation),this.simulation=G.requestAnimationFrame(function(){return p.step()})):this.simulation=!1}},a.prototype.stop=function(){this.simulation&&G.cancelAnimationFrame(this.simulation)},a.prototype.setArea=function(p,l,d,_){this.box={left:p,top:l,width:d,height:_}},a.prototype.setK=function(){this.k=this.options.linkLength||this.integration.getK(this)},a.prototype.addElementsToCollection=function(p,l){for(var d=0;d<p.length;d++){var _=p[d];-1===l.indexOf(_)&&l.push(_)}},a.prototype.removeElementFromCollection=function(p,l){-1!==(p=l.indexOf(p))&&l.splice(p,1)},a.prototype.clear=function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},a.prototype.resetSimulation=function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},a.prototype.restartSimulation=function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},a.prototype.setMaxIterations=function(p){this.maxIterations=N(p,this.options.maxIterations)},a.prototype.setTemperature=function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},a.prototype.setDiffTemperature=function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},a.prototype.setInitialRendering=function(p){this.initialRendering=p},a.prototype.createQuadTree=function(){this.quadTree=new T(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},a.prototype.initPositions=function(){var p=this.options.initialPositions;if(F(p)){p.call(this),p=0;for(var l=this.nodes;p<l.length;p++){var d=l[p];z(d.prevX)||(d.prevX=d.plotX),z(d.prevY)||(d.prevY=d.plotY),d.dispX=0,d.dispY=0}}else"circle"===p?this.setCircularPositions():this.setRandomPositions()},a.prototype.setCircularPositions=function(){for(var p=this.box,l=this.nodes,d=2*Math.PI/(l.length+1),_=l.filter(function(P){return 0===P.linksTo.length}),w={},x=this.options.initialPositionRadius,I=function(P){var E=0;for(P=P.linksFrom||[];E<P.length;E++){var m=P[E];w[m.toNode.id]||(w[m.toNode.id]=!0,h.push(m.toNode),I(m.toNode))}},h=[],n=0;n<_.length;n++){var D=_[n];h.push(D),I(D)}if(h.length)for(_=0;_<l.length;_++)-1===h.indexOf(n=l[_])&&h.push(n);else h=l;for(_=0,n=h.length;_<n;++_)(l=h[_]).plotX=l.prevX=N(l.plotX,p.width/2+x*Math.cos(_*d)),l.plotY=l.prevY=N(l.plotY,p.height/2+x*Math.sin(_*d)),l.dispX=0,l.dispY=0},a.prototype.setRandomPositions=function(){for(var w,p=this.box,l=this.nodes,d=l.length+1,_=function(h){return(h=h*h/Math.PI)-Math.floor(h)},x=0,I=l.length;x<I;++x)(w=l[x]).plotX=w.prevX=N(w.plotX,p.width*_(x)),w.plotY=w.prevY=N(w.plotY,p.height*_(d+x)),w.dispX=0,w.dispY=0},a.prototype.force=function(p){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];this.integration[p].apply(this,l)},a.prototype.barycenterForces=function(){this.getBarycenter(),this.force("barycenter")},a.prototype.getBarycenter=function(){for(var p=0,l=0,d=0,_=0,w=this.nodes;_<w.length;_++){var x=w[_];l+=x.plotX*x.mass,d+=x.plotY*x.mass,p+=x.mass}return this.barycenter={x:l,y:d,xFactor:l/p,yFactor:d/p}},a.prototype.barnesHutApproximation=function(p,l){var d=this.getDistXY(p,l),_=this.vectorLength(d);if(p!==l&&0!==_)if(l.isInternal)if(l.boxSize/_<this.options.theta&&0!==_){var w=this.repulsiveForce(_,this.k);this.force("repulsive",p,w*l.mass,d,_);var x=!1}else x=!0;else w=this.repulsiveForce(_,this.k),this.force("repulsive",p,w*l.mass,d,_);return x},a.prototype.repulsiveForces=function(){var p=this;if("barnes-hut"===this.approximation)for(var l=function(E){d.quadTree.visitNodeRecursive(null,function(m){return p.barnesHutApproximation(E,m)})},d=this,_=0,w=this.nodes;_<w.length;_++){var x=w[_];l(x)}else{w=_=l=void 0;for(var I=0,h=this.nodes;I<h.length;I++){x=h[I];for(var n=0,D=this.nodes;n<D.length;n++){var P=D[n];x===P||x.fixedPosition||(w=this.getDistXY(x,P),0!==(_=this.vectorLength(w))&&(l=this.repulsiveForce(_,this.k),this.force("repulsive",x,l*P.mass,w,_)))}}}},a.prototype.attractiveForces=function(){for(var p,l,d,_=0,w=this.links;_<w.length;_++){var x=w[_];x.fromNode&&x.toNode&&(p=this.getDistXY(x.fromNode,x.toNode),0!==(l=this.vectorLength(p))&&(d=this.attractiveForce(l,this.k),this.force("attractive",x,d,p,l)))}},a.prototype.applyLimits=function(){for(var p=0,l=this.nodes;p<l.length;p++){var d=l[p];if(d.fixedPosition)break;this.integration.integrate(this,d),this.applyLimitBox(d,this.box),d.dispX=0,d.dispY=0}},a.prototype.applyLimitBox=function(p,l){var d=p.radius;p.plotX=Y(p.plotX,l.left+d,l.width-d),p.plotY=Y(p.plotY,l.top+d,l.height-d)},a.prototype.coolDown=function(p,l,d){return p-l*d},a.prototype.isStable=function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},a.prototype.getSystemTemperature=function(){for(var p=0,l=0,d=this.nodes;l<d.length;l++)p+=d[l].temperature;return p},a.prototype.vectorLength=function(p){return Math.sqrt(p.x*p.x+p.y*p.y)},a.prototype.getDistR=function(p,l){return p=this.getDistXY(p,l),this.vectorLength(p)},a.prototype.getDistXY=function(p,l){var d=p.plotX-l.plotX;return{x:d,y:p=p.plotY-l.plotY,absX:Math.abs(d),absY:Math.abs(p)}},a}()}),e(S,"Series/PackedBubble/PackedBubbleLayout.js",[S["Series/GraphLayoutComposition.js"],S["Series/PackedBubble/PackedBubbleIntegration.js"],S["Series/Networkgraph/ReingoldFruchtermanLayout.js"],S["Core/Utilities.js"]],function(i,s,c,T){function M(){var N=[];return this.series.forEach(function(a){a.parentNode&&a.parentNode.selected&&N.push(a.parentNode)}),N}function j(){this.allDataPoints&&delete this.allDataPoints}var N,G=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),Y=T.addEvent,z=T.pick,F=[];return T=function(N){function a(){var p=null!==N&&N.apply(this,arguments)||this;return p.index=NaN,p.nodes=[],p.options=void 0,p.series=[],p}return G(a,N),a.compose=function(p){c.compose(p),i.integrations.packedbubble=s,i.layouts.packedbubble=a,-1===F.indexOf(p)&&(F.push(p),Y(p,"beforeRedraw",j),p.prototype.getSelectedParentNodes=M)},a.prototype.beforeStep=function(){this.options.marker&&this.series.forEach(function(p){p&&p.calculateParentRadius()})},a.prototype.isStable=function(){var p=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>p||0>=this.temperature},a.prototype.setCircularPositions=function(){for(var w,x,p=this.box,l=this.nodes,d=2*Math.PI/(l.length+1),_=this.options.initialPositionRadius,I=0,h=0;h<l.length;h++){var n=l[h];this.options.splitSeries&&!n.isParentNode?(w=n.series.parentNode.plotX,x=n.series.parentNode.plotY):(w=p.width/2,x=p.height/2),n.plotX=n.prevX=z(n.plotX,w+_*Math.cos(n.index||I*d)),n.plotY=n.prevY=z(n.plotY,x+_*Math.sin(n.index||I*d)),n.dispX=0,n.dispY=0,I++}},a.prototype.repulsiveForces=function(){var d,_,w,p=this,l=p.options.bubblePadding;p.nodes.forEach(function(x){x.degree=x.mass,x.neighbours=0,p.nodes.forEach(function(I){d=0,x===I||x.fixedPosition||!p.options.seriesInteraction&&x.series!==I.series||(w=p.getDistXY(x,I),0>(_=p.vectorLength(w)-(x.marker.radius+I.marker.radius+l))&&(x.degree+=.01,x.neighbours++,d=p.repulsiveForce(-_/Math.sqrt(x.neighbours),p.k,x,I)),p.force("repulsive",x,d*I.mass,w,I,_))})})},a.prototype.applyLimitBox=function(p,l){if(this.options.splitSeries&&!p.isParentNode&&this.options.parentNodeLimit){var d=this.getDistXY(p,p.series.parentNode),_=p.series.parentNodeRadius-p.marker.radius-this.vectorLength(d);0>_&&_>-2*p.marker.radius&&(p.plotX-=.01*d.x,p.plotY-=.01*d.y)}N.prototype.applyLimitBox.call(this,p,l)},a}(c),i.layouts.packedbubble=T}),e(S,"Series/PackedBubble/PackedBubbleSeries.js",[S["Core/Color/Color.js"],S["Series/DragNodesComposition.js"],S["Series/GraphLayoutComposition.js"],S["Core/Globals.js"],S["Series/PackedBubble/PackedBubblePoint.js"],S["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],S["Series/PackedBubble/PackedBubbleLayout.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T,M,j,G,Y,z){var P,F=this&&this.__extends||(P=function(E,m){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,A){C.__proto__=A}||function(C,A){for(var k in A)A.hasOwnProperty(k)&&(C[k]=A[k])})(E,m)},function(E,m){function C(){this.constructor=E}P(E,m),E.prototype=null===m?Object.create(m):(C.prototype=m.prototype,new C)}),N=i.parse;i=T.noop;var a=Y.series.prototype,p=Y.seriesTypes.bubble,l=z.addEvent,d=z.clamp,_=z.defined,w=z.extend,x=z.fireEvent,I=z.isArray,h=z.isNumber,n=z.merge,D=z.pick;return z=function(P){function E(){var m=null!==P&&P.apply(this,arguments)||this;return m.chart=void 0,m.data=void 0,m.layout=void 0,m.options=void 0,m.parentNodeMass=0,m.points=void 0,m.xData=void 0,m}return F(E,P),E.compose=function(m,C,A,k){p.compose(m,C,A,k),s.compose(C),G.compose(C)},E.prototype.accumulateAllPoints=function(){for(var A,m=this.chart,C=[],k=0,f=m.series;k<f.length;k++){var o=f[k];if(o.is("packedbubble")&&o.visible||!m.options.chart.ignoreHiddenSeries){A=o.yData||[];for(var R=0;R<A.length;R++)C.push([null,null,A[R],o.index,R,{id:R,marker:{radius:0}}])}}return C},E.prototype.addLayout=function(){var m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},C=m.type||"packedbubble",A=this.chart.options.chart,k=this.chart.graphLayoutsStorage,f=this.chart.graphLayoutsLookup;k||(this.chart.graphLayoutsStorage=k={},this.chart.graphLayoutsLookup=f=[]);var o=k[C];o||(m.enableSimulation=_(A.forExport)?!A.forExport:m.enableSimulation,k[C]=o=new c.layouts[C],o.init(m),f.splice(o.index,0,o)),this.layout=o,this.points.forEach(function(R){R.mass=2,R.degree=1,R.collisionNmb=1}),o.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),o.addElementsToCollection([this],o.series),o.addElementsToCollection(this.points,o.nodes)},E.prototype.addSeriesLayout=function(){var m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},C=m.type||"packedbubble",A=this.chart.graphLayoutsStorage,k=this.chart.graphLayoutsLookup;m=n(m,m.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});var f=A[C+"-series"];f||(A[C+"-series"]=f=new c.layouts[C],f.init(m),k.splice(f.index,0,f)),this.parentNodeLayout=f,this.createParentNodes()},E.prototype.calculateParentRadius=function(){var m=this.seriesBox();this.parentNodeRadius=d(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,m?Math.max(Math.sqrt(Math.pow(m.width,2)+Math.pow(m.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)},E.prototype.calculateZExtremes=function(){var m=this.options.zMin,C=this.options.zMax,A=1/0,k=-1/0;return m&&C||(this.chart.series.forEach(function(f){f.yData.forEach(function(o){_(o)&&(o>k&&(k=o),o<A&&(A=o))})}),m=D(m,A),C=D(C,k)),[m,C]},E.prototype.checkOverlap=function(m,C){var A=m[0]-C[0],k=m[1]-C[1];return-.001>Math.sqrt(A*A+k*k)-Math.abs(m[2]+C[2])},E.prototype.createParentNodes=function(){var o,m=this,C=this.pointClass,A=this.chart,k=this.parentNodeLayout,f=this.layout.options,R=this.parentNode,U={radius:this.parentNodeRadius,lineColor:this.color,fillColor:N(this.color).brighten(.4).get()};f.parentNodeOptions&&(U=n(f.parentNodeOptions.marker||{},U)),this.parentNodeMass=0,this.points.forEach(function(X){m.parentNodeMass+=Math.PI*Math.pow(X.marker.radius,2)}),this.calculateParentRadius(),k.nodes.forEach(function(X){X.seriesIndex===m.index&&(o=!0)}),k.setArea(0,0,A.plotWidth,A.plotHeight),o||(R||(R=(new C).init(this,{mass:this.parentNodeRadius/2,marker:U,dataLabels:{inside:!1},states:{normal:{marker:U},hover:{marker:U}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(R.plotX=this.parentNode.plotX,R.plotY=this.parentNode.plotY),this.parentNode=R,k.addElementsToCollection([this],k.series),k.addElementsToCollection([R],k.nodes))},E.prototype.deferLayout=function(){var m=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),m.splitSeries&&this.addSeriesLayout())},E.prototype.destroy=function(){var m=this;this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(function(C){C.removeElementFromCollection(m,C.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),a.destroy.apply(this,arguments)},E.prototype.drawDataLabels=function(){a.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",a.drawDataLabels.call(this,[this.parentNode]))},E.prototype.drawGraph=function(){if(this.layout&&this.layout.options.splitSeries){var m=this.chart,C=this.layout.options.parentNodeOptions.marker;C={fill:C.fillColor||N(this.color).brighten(.4).get(),opacity:C.fillOpacity,stroke:C.lineColor||this.color,"stroke-width":D(C.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,m.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var A=n({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},C);this.parentNode.graphic||(this.graph=this.parentNode.graphic=m.renderer.symbol(C.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(A)}},E.prototype.drawTracker=function(){var m=this.parentNode;if(P.prototype.drawTracker.call(this),m){var C=I(m.dataLabels)?m.dataLabels:m.dataLabel?[m.dataLabel]:[];m.graphic&&(m.graphic.element.point=m),C.forEach(function(A){A.div?A.div.point=m:A.element.point=m})}},E.prototype.getPointRadius=function(){var tt,pt,ot,W,m=this,C=this.chart,A=this.options,k=A.useSimulation,f=Math.min(C.plotWidth,C.plotHeight),o={},R=[],U=C.allDataPoints||[],X=U.length;["minSize","maxSize"].forEach(function(gt){var yt=parseInt(A[gt],10),_t=/%$/.test(A[gt]);o[gt]=_t?f*yt/100:yt*Math.sqrt(X)}),C.minRadius=tt=o.minSize/Math.sqrt(X),C.maxRadius=pt=o.maxSize/Math.sqrt(X);var K=k?this.calculateZExtremes():[tt,pt];U.forEach(function(gt,yt){ot=k?d(gt[2],K[0],K[1]):gt[2],0===(W=m.getRadius(K[0],K[1],tt,pt,ot))&&(W=null),U[yt][2]=W,R.push(W)}),this.radii=R},E.prototype.init=function(){return a.init.apply(this,arguments),this.eventsToUnbind.push(l(this,"updatedData",function(){var m=this;this.chart.series.forEach(function(C){C.type===m.type&&(C.isDirty=!0)},this)})),this},E.prototype.onMouseUp=function(m){var C=m;if(C.fixedPosition&&!C.removed){var f,A=this.layout,k=this.parentNodeLayout;k&&A.options.dragBetweenSeries&&k.nodes.forEach(function(R){C&&C.marker&&R!==C.series.parentNode&&(f=A.getDistXY(C,R),0>A.vectorLength(f)-R.marker.radius-C.marker.radius&&(R.series.addPoint(n(C.options,{plotX:C.plotX,plotY:C.plotY}),!1),A.removeElementFromCollection(C,A.nodes),C.remove()))}),s.onMouseUp.apply(this,arguments)}},E.prototype.placeBubbles=function(m){var X,C=this.checkOverlap,A=this.positionBubble,k=[],f=1,o=0,R=0,U=[];if((m=m.sort(function(tt,pt){return pt[2]-tt[2]})).length){if(k.push([[0,0,m[0][2],m[0][3],m[0][4]]]),1<m.length)for(k.push([[0,0-m[1][2]-m[0][2],m[1][2],m[1][3],m[1][4]]]),X=2;X<m.length;X++)m[X][2]=m[X][2]||1,C(U=A(k[f][o],k[f-1][R],m[X]),k[f][0])?(k.push([]),R=0,k[f+1].push(A(k[f][o],k[f][0],m[X])),f++,o=0):1<f&&k[f-1][R+1]&&C(U,k[f-1][R+1])?(R++,k[f].push(A(k[f][o],k[f-1][R],m[X])),o++):(o++,k[f].push(U));this.chart.stages=k,this.chart.rawPositions=[].concat.apply([],k),this.resizeRadius(),U=this.chart.rawPositions}return U},E.prototype.pointAttribs=function(m,C){var A=this.options,k=A.marker;return m&&m.isParentNode&&A.layoutAlgorithm&&A.layoutAlgorithm.parentNodeOptions&&(k=A.layoutAlgorithm.parentNodeOptions.marker),A=k.fillOpacity,m=a.pointAttribs.call(this,m,C),1!==A&&(m["fill-opacity"]=A),m},E.prototype.positionBubble=function(m,C,A){var k=Math.sqrt,f=Math.asin,o=Math.acos,R=Math.pow,U=Math.abs;return k=k(R(m[0]-C[0],2)+R(m[1]-C[1],2)),o=o((R(k,2)+R(A[2]+C[2],2)-R(A[2]+m[2],2))/(2*(A[2]+C[2])*k)),f=f(U(m[0]-C[0])/k),m=(0>m[1]-C[1]?0:Math.PI)+o+f*(0>(m[0]-C[0])*(m[1]-C[1])?1:-1),[C[0]+(C[2]+A[2])*Math.sin(m),C[1]-(C[2]+A[2])*Math.cos(m),A[2],A[3],A[4]]},E.prototype.render=function(){var m=[];a.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(function(C){I(C.dataLabels)&&C.dataLabels.forEach(function(A){m.push(A)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(m))},E.prototype.resizeRadius=function(){for(var X,tt,m=this.chart,C=m.rawPositions,A=Math.min,k=Math.max,f=m.plotLeft,o=m.plotTop,R=m.plotHeight,U=m.plotWidth,pt=X=Number.POSITIVE_INFINITY,ot=tt=Number.NEGATIVE_INFINITY,W=0;W<C.length;W++){var K=C[W],gt=K[2];pt=A(pt,K[0]-gt),ot=k(ot,K[0]+gt),X=A(X,K[1]-gt),tt=k(tt,K[1]+gt)}if(A=A.apply([],[(U-f)/(K=[ot-pt,tt-X])[0],(R-o)/K[1]]),1e-10<Math.abs(A-1)){for(m=0;m<C.length;m++)(K=C[m])[2]*=A;this.placeBubbles(C)}else m.diffY=R/2+o-X-(tt-X)/2,m.diffX=U/2+f-pt-(ot-pt)/2},E.prototype.seriesBox=function(){var f,m=this.chart,C=Math.max,A=Math.min,k=[m.plotLeft,m.plotLeft+m.plotWidth,m.plotTop,m.plotTop+m.plotHeight];return this.data.forEach(function(o){_(o.plotX)&&_(o.plotY)&&o.marker.radius&&(k[0]=A(k[0],o.plotX-(f=o.marker.radius)),k[1]=C(k[1],o.plotX+f),k[2]=A(k[2],o.plotY-f),k[3]=C(k[3],o.plotY+f))}),h(k.width/k.height)?k:null},E.prototype.setVisible=function(){var m=this;a.setVisible.apply(m,arguments),m.parentNodeLayout&&m.graph?m.visible?(m.graph.show(),m.parentNode.dataLabel&&m.parentNode.dataLabel.show()):(m.graph.hide(),m.parentNodeLayout.removeElementFromCollection(m.parentNode,m.parentNodeLayout.nodes),m.parentNode.dataLabel&&m.parentNode.dataLabel.hide()):m.layout&&(m.visible?m.layout.addElementsToCollection(m.points,m.layout.nodes):m.points.forEach(function(C){m.layout.removeElementFromCollection(C,m.layout.nodes)}))},E.prototype.translate=function(){var m=this.chart,C=this.data,A=this.index,k=this.options.useSimulation;if(this.processedXData=this.xData,this.generatePoints(),_(m.allDataPoints)||(m.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),k)var f=m.allDataPoints;else f=this.placeBubbles(m.allDataPoints),this.options.draggable=!1;for(var o=0,R=f;o<R.length;o++){var U=R[o];if(U[3]===A){f=C[U[4]];var X=D(U[2],void 0);k||(f.plotX=U[0]-m.plotLeft+m.diffX,f.plotY=U[1]-m.plotTop+m.diffY),h(X)&&(f.marker=w(f.marker,{radius:X,width:2*X,height:2*X}),f.radius=X)}}k&&this.deferLayout(),x(this,"afterTranslate")},E.defaultOptions=n(p.defaultOptions,j),E}(p),w(z.prototype,{pointClass:M,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],alignDataLabel:a.alignDataLabel,indexateNodes:i,onMouseDown:s.onMouseDown,onMouseMove:s.onMouseMove,redrawHalo:s.redrawHalo,searchPoint:i}),Y.registerSeriesType("packedbubble",z),z}),e(S,"Series/Polygon/PolygonSeries.js",[S["Core/Globals.js"],S["Core/Legend/LegendSymbol.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T){var a,M=this&&this.__extends||(a=function(p,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var w in _)_.hasOwnProperty(w)&&(d[w]=_[w])})(p,l)},function(p,l){function d(){this.constructor=p}a(p,l),p.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)});i=i.noop;var j=c.series,G=c.seriesTypes,Y=G.area,z=G.line,F=G.scatter;G=T.extend;var N=T.merge;return T=function(a){function p(){var l=null!==a&&a.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return M(p,a),p.prototype.getGraphPath=function(){for(var l=z.prototype.getGraphPath.call(this),d=l.length+1;d--;)(d===l.length||"M"===l[d][0])&&0<d&&l.splice(d,0,["Z"]);return this.areaPath=l},p.prototype.drawGraph=function(){this.options.fillColor=this.color,Y.prototype.drawGraph.call(this)},p.defaultOptions=N(F.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),p}(F),G(T.prototype,{type:"polygon",drawLegendSymbol:s.drawRectangle,drawTracker:j.prototype.drawTracker,setStackedPoints:i}),c.registerSeriesType("polygon",T),T}),e(S,"Core/Axis/WaterfallAxis.js",[S["Core/Axis/Stacking/StackItem.js"],S["Core/Utilities.js"]],function(i,s){var M,c=s.addEvent,T=s.objectEach;return function(j){function G(){var a=this.waterfall.stacks;a&&(a.changed=!1,delete a.alreadyChanged)}function Y(){var a=this.options.stackLabels;a&&a.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function z(){for(var a=this.axes,p=this.series,l=p.length;l--;)p[l].options.stacking&&(a.forEach(function(d){d.isXAxis||(d.waterfall.stacks.changed=!0)}),l=0)}function F(){this.waterfall||(this.waterfall=new N(this))}var N=function(){function a(p){this.axis=p,this.stacks={changed:!1}}return a.prototype.renderStackTotals=function(){var p=this.axis,l=p.waterfall.stacks,d=p.stacking&&p.stacking.stackTotalGroup,_=new i(p,p.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=_,d&&T(l,function(w){T(w,function(x,I){_.total=x.stackTotal,_.x=+I,x.label&&(_.label=x.label),i.prototype.render.call(_,d),x.label=_.label,delete _.label})}),_.total=null},a}();j.Composition=N,j.compose=function(a,p){c(a,"init",F),c(a,"afterBuildStacks",G),c(a,"afterRender",Y),c(p,"beforeRedraw",z)}}(M||(M={})),M}),e(S,"Series/Waterfall/WaterfallPoint.js",[S["Series/Column/ColumnSeries.js"],S["Core/Series/Point.js"],S["Core/Utilities.js"]],function(i,s,c){var j,T=this&&this.__extends||(j=function(G,Y){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,F){z.__proto__=F}||function(z,F){for(var N in F)F.hasOwnProperty(N)&&(z[N]=F[N])})(G,Y)},function(G,Y){function z(){this.constructor=G}j(G,Y),G.prototype=null===Y?Object.create(Y):(z.prototype=Y.prototype,new z)}),M=c.isNumber;return function(j){function G(){var Y=null!==j&&j.apply(this,arguments)||this;return Y.options=void 0,Y.series=void 0,Y}return T(G,j),G.prototype.getClassName=function(){var Y=s.prototype.getClassName.call(this);return this.isSum?Y+=" highcharts-sum":this.isIntermediateSum&&(Y+=" highcharts-intermediate-sum"),Y},G.prototype.isValid=function(){return M(this.y)||this.isSum||!!this.isIntermediateSum},G}(i.prototype.pointClass)}),e(S,"Series/Waterfall/WaterfallSeries.js",[S["Core/Axis/Axis.js"],S["Core/Chart/Chart.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"],S["Core/Axis/WaterfallAxis.js"],S["Series/Waterfall/WaterfallPoint.js"]],function(i,s,c,T,M,j){var x,G=this&&this.__extends||(x=function(I,h){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,D){n.__proto__=D}||function(n,D){for(var P in D)D.hasOwnProperty(P)&&(n[P]=D[P])})(I,h)},function(I,h){function n(){this.constructor=I}x(I,h),I.prototype=null===h?Object.create(h):(n.prototype=h.prototype,new n)}),Y=c.seriesTypes,z=Y.column,F=Y.line,N=T.arrayMax,a=T.arrayMin,p=T.correctFloat;Y=T.extend;var l=T.isNumber,d=T.merge,_=T.objectEach,w=T.pick;return T=function(x){function I(){var h=null!==x&&x.apply(this,arguments)||this;return h.chart=void 0,h.data=void 0,h.options=void 0,h.points=void 0,h.stackedYNeg=void 0,h.stackedYPos=void 0,h.stackKey=void 0,h.xData=void 0,h.yAxis=void 0,h.yData=void 0,h}return G(I,x),I.prototype.generatePoints=function(){z.prototype.generatePoints.apply(this);for(var h=0,n=this.points.length;h<n;h++){var D=this.points[h],P=this.processedYData[h];l(P)&&(D.isIntermediateSum||D.isSum)&&(D.y=p(P))}},I.prototype.translate=function(){var h=this.options,n=this.yAxis,D=w(h.minPointLength,5),P=D/2,E=h.threshold||0;h=h.stacking;var m=n.waterfall.stacks[this.stackKey],C=E,A=E;z.prototype.translate.apply(this);for(var k=this.points,f=0;f<k.length;f++){var o=k[f],R=this.processedYData[f],U=o.shapeArgs;if(U&&l(R)){var X=[0,R],tt=o.y;if(h){if(m){if(X=m[f],"overlap"===h){var pt=X.stackState[X.stateIndex--];pt=0<=tt?pt:pt-tt,Object.hasOwnProperty.call(X,"absolutePos")&&delete X.absolutePos,Object.hasOwnProperty.call(X,"absoluteNeg")&&delete X.absoluteNeg}else 0<=tt?(pt=X.threshold+X.posTotal,X.posTotal-=tt):(pt=X.threshold+X.negTotal,X.negTotal-=tt,pt-=tt),!X.posTotal&&l(X.absolutePos)&&Object.hasOwnProperty.call(X,"absolutePos")&&(X.posTotal=X.absolutePos,delete X.absolutePos),!X.negTotal&&l(X.absoluteNeg)&&Object.hasOwnProperty.call(X,"absoluteNeg")&&(X.negTotal=X.absoluteNeg,delete X.absoluteNeg);o.isSum||(X.connectorThreshold=X.threshold+X.stackTotal),n.reversed?(R=0<=tt?pt-tt:pt+tt,tt=pt):(R=pt,tt=pt-tt),o.below=R<=E,U.y=n.translate(R,!1,!0,!1,!0),U.height=Math.abs(U.y-n.translate(tt,!1,!0,!1,!0)),(tt=n.waterfall.dummyStackItem)&&(tt.x=f,tt.label=m[f].label,tt.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[f],this.stackedYPos[f],void 0,this.xAxis))}}else pt=Math.max(A,A+tt)+X[0],U.y=n.translate(pt,!1,!0,!1,!0),o.isSum?(U.y=n.translate(X[1],!1,!0,!1,!0),U.height=Math.min(n.translate(X[0],!1,!0,!1,!0),n.len)-U.y,o.below=X[1]<=E):o.isIntermediateSum?(0<=tt?(R=X[1]+C,tt=C):(R=C,tt=X[1]+C),n.reversed&&(R^=tt,R^=tt^=R),U.y=n.translate(R,!1,!0,!1,!0),U.height=Math.abs(U.y-Math.min(n.translate(tt,!1,!0,!1,!0),n.len)),C+=X[1],o.below=R<=E):(U.height=0<R?n.translate(A,!1,!0,!1,!0)-U.y:n.translate(A,!1,!0,!1,!0)-n.translate(A-R,!1,!0,!1,!0),o.below=(A+=R)<E),0>U.height&&(U.y+=U.height,U.height*=-1);o.plotY=U.y=Math.round(U.y||0)-this.borderWidth%2/2,U.height=Math.max(Math.round(U.height||0),.001),o.yBottom=U.y+U.height,U.height<=D&&!o.isNull?(U.height=D,U.y-=P,o.plotY=U.y,o.minPointLengthOffset=0>o.y?-P:P):(o.isNull&&(U.width=0),o.minPointLengthOffset=0),tt=o.plotY+(o.negative?U.height:0),o.below&&(o.plotY+=U.height),o.tooltipPos&&(this.chart.inverted?o.tooltipPos[0]=n.len-tt:o.tooltipPos[1]=tt),o.isInside=this.isPointInside(o)}}},I.prototype.processData=function(h){var C,A,k,f,o,n=this.options,D=this.yData,P=n.data,E=D.length,m=n.threshold||0;for(o=A=C=k=f=0;o<E;o++){var R=D[o],U=P&&P[o]?P[o]:{};"sum"===R||U.isSum?D[o]=p(A):"intermediateSum"===R||U.isIntermediateSum?(D[o]=p(C),C=0):(A+=R,C+=R),k=Math.min(A,k),f=Math.max(A,f)}x.prototype.processData.call(this,h),n.stacking||(this.dataMin=k+m,this.dataMax=f)},I.prototype.toYData=function(h){return h.isSum?"sum":h.isIntermediateSum?"intermediateSum":h.y},I.prototype.updateParallelArrays=function(h,n){x.prototype.updateParallelArrays.call(this,h,n),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)},I.prototype.pointAttribs=function(h,n){var D=this.options.upColor;return D&&!h.options.color&&(h.color=0<h.y?D:void 0),delete(h=z.prototype.pointAttribs.call(this,h,n)).dashstyle,h},I.prototype.getGraphPath=function(){return[["M",0,0]]},I.prototype.getCrispPath=function(){var f,h=this.data,n=this.yAxis,D=h.length,P=Math.round(this.graph.strokeWidth())%2/2,E=Math.round(this.borderWidth)%2/2,m=this.xAxis.reversed,C=this.yAxis.reversed,A=this.options.stacking,k=[];for(f=1;f<D;f++){var o=h[f].shapeArgs,R=h[f-1],U=h[f-1].shapeArgs,X=n.waterfall.stacks[this.stackKey],tt=0<R.y?-U.height:0;X&&U&&o&&(X=X[f-1],A?(X=X.connectorThreshold,tt=Math.round(n.translate(X,!1,!0,!1,!0)+(C?tt:0))-P):tt=U.y+R.minPointLengthOffset+E-P,k.push(["M",(U.x||0)+(m?0:U.width||0),tt],["L",(o.x||0)+(m&&o.width||0),tt])),U&&k.length&&(!A&&0>R.y&&!C||0<R.y&&C)&&((R=k[k.length-2])&&"number"==typeof R[2]&&(R[2]+=U.height||0),(R=k[k.length-1])&&"number"==typeof R[2]&&(R[2]+=U.height||0))}return k},I.prototype.drawGraph=function(){F.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})},I.prototype.setStackedPoints=function(){function h(_t,rt,ut,at){if(ot){if(yt)for(;ut<yt;ut++)ot.stackState[ut]+=at;else ot.stackState[0]=_t,yt=ot.stackState.length;ot.stackState.push(ot.stackState[yt-1]+rt)}}var f,o,R,n=this.options,D=this.yAxis.waterfall.stacks,P=n.threshold||0,E=P,m=E,C=this.stackKey,A=this.xData,k=A.length;this.yAxis.stacking.usePercentage=!1;var U=f=o=E;if(this.visible||!this.chart.options.chart.ignoreHiddenSeries){var X=D.changed;if((R=D.alreadyChanged)&&0>R.indexOf(C)&&(X=!0),D[C]||(D[C]={}),R=D[C])for(var tt=0;tt<k;tt++){var pt=A[tt];(!R[pt]||X)&&(R[pt]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:X&&R[pt]?R[pt].label:void 0});var ot=R[pt],W=this.yData[tt];0<=W?ot.posTotal+=W:ot.negTotal+=W;var K=n.data[tt];pt=ot.absolutePos=ot.posTotal;var gt=ot.absoluteNeg=ot.negTotal;ot.stackTotal=pt+gt;var yt=ot.stackState.length;K&&K.isIntermediateSum?(h(o,f,0,o),o=f,f=P,E^=m,E^=m^=E):K&&K.isSum?(h(P,U,yt,0),E=P):(h(E,W,0,U),K&&(U+=W,f+=W)),ot.stateIndex++,ot.threshold=E,E+=ot.stackTotal}D.changed=!1,D.alreadyChanged||(D.alreadyChanged=[]),D.alreadyChanged.push(C)}},I.prototype.getExtremes=function(){var h=this.options.stacking;if(h){var n=this.yAxis;n=n.waterfall.stacks;var D=this.stackedYNeg=[],P=this.stackedYPos=[];return _(n[this.stackKey],"overlap"===h?function(E){D.push(a(E.stackState)),P.push(N(E.stackState))}:function(E){D.push(E.negTotal+E.threshold),P.push(E.posTotal+E.threshold)}),{dataMin:a(D),dataMax:N(P)}}return{dataMin:this.dataMin,dataMax:this.dataMax}},I.defaultOptions=d(z.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),I}(z),Y(T.prototype,{getZonesGraphs:F.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:j}),c.registerSeriesType("waterfall",T),M.compose(i,s),T}),e(S,"Core/Axis/RadialAxis.js",[S["Core/Axis/AxisDefaults.js"],S["Core/Defaults.js"],S["Core/Globals.js"],S["Core/Utilities.js"]],function(i,s,c,T){var _,M=s.defaultOptions,j=c.noop,G=T.addEvent,Y=T.correctFloat,z=T.defined,F=T.extend,N=T.fireEvent,a=T.merge,p=T.pick,l=T.relativeLength,d=T.wrap;return function(w){function x(){this.autoConnect=this.isCircular&&typeof p(this.userMax,this.options.max)>"u"&&Y(this.endAngleRad-this.startAngleRad)===Y(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function I(){var vt=this;return function(){if(vt.isRadial&&vt.tickPositions&&vt.options.labels&&!0!==vt.options.labels.allowOverlap)return vt.tickPositions.map(function(ct){return vt.ticks[ct]&&vt.ticks[ct].label}).filter(function(ct){return!!ct})}}function h(){return j}function n(vt,ct,Tt){var kt=this.pane.center,Ft=vt.value;if(this.isCircular){if(z(Ft))vt.point&&(Ot=vt.point.shapeArgs||{}).start&&(Ft=this.chart.inverted?this.translate(vt.point.rectPlotY,!0):vt.point.x);else{var Ot=vt.chartX||0,jt=vt.chartY||0;Ft=this.translate(Math.atan2(jt-Tt,Ot-ct)-this.startAngleRad,!0)}Ot=(vt=this.getPosition(Ft)).x,jt=vt.y}else z(Ft)||(Ot=vt.chartX,jt=vt.chartY),z(Ot)&&z(jt)&&(Tt=kt[1]+this.chart.plotTop,Ft=this.translate(Math.min(Math.sqrt(Math.pow(Ot-ct,2)+Math.pow(jt-Tt,2)),kt[2]/2)-kt[3]/2,!0));return[Ft,Ot||0,jt||0]}function D(vt,ct,Tt){var kt=this.chart,Ft=this.left||0,Ot=this.top||0,jt=p(ct,(vt=this.pane.center)[2]/2-this.offset);return typeof Tt>"u"&&(Tt=this.horiz?0:this.center&&-this.center[3]/2),Tt&&(jt+=Tt),this.isCircular||typeof ct<"u"?((ct=this.chart.renderer.symbols.arc(Ft+vt[0],Ot+vt[1],jt,jt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[Ft+vt[0]],ct.yBounds=[Ot+vt[1]-jt]):(ct=this.postTranslate(this.angleRad,jt),ct=[["M",this.center[0]+kt.plotLeft,this.center[1]+kt.plotTop],["L",ct.x,ct.y]]),ct}function P(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function E(vt,ct,Tt){var kt=this.chart,Ft=function(te){if("string"==typeof te){var Ie=parseInt(te,10);return Nt.test(te)&&(Ie=Ie*$t/100),Ie}return te},Ot=this.center,jt=this.startAngleRad,$t=Ot[2]/2,Wt=Math.min(this.offset,0),ne=this.left||0,Jt=this.top||0,Nt=/%$/,Rt=this.isCircular,ie=p(Ft(Tt.outerRadius),$t),se=Ft(Tt.innerRadius);if(Ft=p(Ft(Tt.thickness),10),"polygon"===this.options.gridLineInterpolation)Wt=this.getPlotLinePath({value:vt}).concat(this.getPlotLinePath({value:ct,reverse:!0}));else{if(vt=Math.max(vt,this.min),ct=Math.min(ct,this.max),vt=this.translate(vt),ct=this.translate(ct),Rt||(ie=vt||0,se=ct||0),"circle"!==Tt.shape&&Rt)Tt=jt+(vt||0),jt+=ct||0;else{Tt=-Math.PI/2,jt=1.5*Math.PI;var ce=!0}Wt=kt.renderer.symbols.arc(ne+Ot[0],Jt+Ot[1],ie-=Wt,ie,{start:Math.min(Tt,jt),end:Math.max(Tt,jt),innerR:p(se,ie-(Ft-Wt)),open:ce}),Rt&&(Rt=(jt+Tt)/2,ne=ne+Ot[0]+Ot[2]/2*Math.cos(Rt),Wt.xBounds=Rt>-Math.PI/2&&Rt<Math.PI/2?[ne,kt.plotWidth]:[0,ne],Wt.yBounds=[Jt+Ot[1]+Ot[2]/2*Math.sin(Rt)],Wt.yBounds[0]+=Rt>-Math.PI&&0>Rt||Rt>Math.PI?-10:10)}return Wt}function m(vt){var ct=this,Tt=this.pane.center,kt=this.chart,Ft=kt.inverted,Ot=vt.reverse,jt=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},$t=jt.innerRadius||"0%",Wt=jt.outerRadius||"100%",ne=Tt[0]+kt.plotLeft,Jt=Tt[1]+kt.plotTop,Nt=this.height,Rt=vt.isCrosshair;jt=Tt[3]/2;var se,ie=vt.value,ce=this.getPosition(ie),te=ce.x;if(ce=ce.y,Rt&&(ie=(ce=this.getCrosshairPosition(vt,ne,Jt))[0],te=ce[1],ce=ce[2]),this.isCircular)ie=Math.sqrt(Math.pow(te-ne,2)+Math.pow(ce-Jt,2)),Ot="string"==typeof $t?l($t,1):$t/ie,kt="string"==typeof Wt?l(Wt,1):Wt/ie,Tt&&jt&&(Ot<(jt/=ie)&&(Ot=jt),kt<jt&&(kt=jt)),Tt=[["M",ne+Ot*(te-ne),Jt-Ot*(Jt-ce)],["L",te-(1-kt)*(te-ne),ce+(1-kt)*(Jt-ce)]];else if((ie=this.translate(ie))&&(0>ie||ie>Nt)&&(ie=0),"circle"===this.options.gridLineInterpolation)Tt=this.getLinePath(0,ie,jt);else if(Tt=[],kt[Ft?"yAxis":"xAxis"].forEach(function(Ie){Ie.pane===ct.pane&&(se=Ie)}),se)for(ne=se.tickPositions,se.autoConnect&&(ne=ne.concat([ne[0]])),Ot&&(ne=ne.slice().reverse()),ie&&(ie+=jt),Jt=0;Jt<ne.length;Jt++)jt=se.getPosition(ne[Jt],ie),Tt.push(Jt?["L",jt.x,jt.y]:["M",jt.x,jt.y]);return Tt}function C(vt,ct){return vt=this.translate(vt),this.postTranslate(this.isCircular?vt:this.angleRad,p(this.isCircular?ct:0>vt?0:vt,this.center[2]/2)-this.offset)}function A(){var vt=this.center,ct=this.chart,Tt=this.options.title;return{x:ct.plotLeft+vt[0]+(Tt.x||0),y:ct.plotTop+vt[1]-{high:.5,middle:.25,low:0}[Tt.align]*vt[2]+(Tt.y||0)}}function k(vt){vt.beforeSetTickPositions=x,vt.createLabelCollector=I,vt.getCrosshairPosition=n,vt.getLinePath=D,vt.getOffset=P,vt.getPlotBandPath=E,vt.getPlotLinePath=m,vt.getPosition=C,vt.getTitlePosition=A,vt.postTranslate=ot,vt.setAxisSize=K,vt.setAxisTranslation=gt,vt.setOptions=yt}function f(){var vt=this.chart,ct=this.options,Tt=this.pane,kt=Tt&&Tt.options;vt.angular&&this.isXAxis||!Tt||!vt.angular&&!vt.polar||(vt=2*Math.PI,Tt=(p(kt.startAngle,0)-90)*Math.PI/180,kt=(p(kt.endAngle,p(kt.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(ct.angle||0)*Math.PI/180,this.startAngleRad=Tt,this.endAngleRad=kt,this.offset=ct.offset||0,kt=(kt%vt+vt)%vt,(ct=(Tt%vt+vt)%vt)>Math.PI&&(ct-=vt),kt>Math.PI&&(kt-=vt),this.normalizedStartAngleRad=ct,this.normalizedEndAngleRad=kt)}function o(vt){this.isRadial&&(vt.align=void 0,vt.preventDefault())}function R(){if(this.chart&&this.chart.labelCollectors){var vt=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=vt&&this.chart.labelCollectors.splice(vt,1)}}function U(vt){var Wt,ct=this.chart,Tt=ct.inverted,kt=ct.angular,Ft=ct.polar,Ot=this.isXAxis,jt=this.coll,$t=kt&&Ot;vt=vt.userOptions.pane||0,vt=this.pane=ct.pane&&ct.pane[vt],"colorAxis"===jt?this.isRadial=!1:(kt?($t?(this.isHidden=!0,this.createLabelCollector=h,this.getOffset=j,this.render=this.redraw=W,this.setTitle=this.setCategories=this.setScale=j):k(this),(Wt=!Ot)&&(this.defaultPolarOptions=at)):Ft&&(k(this),this.defaultPolarOptions=(Wt=this.horiz)?ut:a("xAxis"===jt?i.defaultXAxisOptions:i.defaultYAxisOptions,Ct),Tt&&"yAxis"===jt&&(this.defaultPolarOptions.stackLabels=i.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),kt||Ft?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&ct.labelCollectors.push(this.labelCollector)):this.isRadial=!1,vt&&Wt&&(vt.axis=this),this.isCircular=Wt)}function X(){this.isRadial&&this.beforeSetTickPositions()}function tt(vt){var ct=this.label;if(ct){var Tt=this.axis,kt=ct.getBBox(),Ft=Tt.options.labels,Ot=(Tt.translate(this.pos)+Tt.startAngleRad+Math.PI/2)/Math.PI*180%360,jt=Math.round(Ot),$t=z(Ft.y)?0:.3*-kt.height,Wt=Ft.y,ne=20,Jt=Ft.align,Nt="end",Rt=0>jt?jt+360:jt,ie=Rt,se=0,ce=0;if(Tt.isRadial){var te=Tt.getPosition(this.pos,Tt.center[2]/2+l(p(Ft.distance,-25),Tt.center[2]/2,-Tt.center[2]/2));"auto"===Ft.rotation?ct.attr({rotation:Ot}):z(Wt)||(Wt=Tt.chart.renderer.fontMetrics(ct.styles&&ct.styles.fontSize).b-kt.height/2),z(Jt)||(Tt.isCircular?(kt.width>Tt.len*Tt.tickInterval/(Tt.max-Tt.min)&&(ne=0),Jt=Ot>ne&&Ot<180-ne?"left":Ot>180+ne&&Ot<360-ne?"right":"center"):Jt="center",ct.attr({align:Jt})),"auto"===Jt&&2===Tt.tickPositions.length&&Tt.isCircular&&(90<Rt&&180>Rt?Rt=180-Rt:270<Rt&&360>=Rt&&(Rt=540-Rt),180<ie&&360>=ie&&(ie=360-ie),(Tt.pane.options.startAngle===jt||Tt.pane.options.startAngle===jt+360||Tt.pane.options.startAngle===jt-360)&&(Nt="start"),Jt=-90<=jt&&90>=jt||-360<=jt&&-270>=jt||270<=jt&&360>=jt?"start"===Nt?"right":"left":"start"===Nt?"left":"right",70<ie&&110>ie&&(Jt="center"),15>Rt||180<=Rt&&195>Rt?se=.3*kt.height:15<=Rt&&35>=Rt?se="start"===Nt?0:.75*kt.height:195<=Rt&&215>=Rt?se="start"===Nt?.75*kt.height:0:35<Rt&&90>=Rt?se="start"===Nt?.25*-kt.height:kt.height:215<Rt&&270>=Rt&&(se="start"===Nt?kt.height:.25*-kt.height),15>ie?ce="start"===Nt?.15*-kt.height:.15*kt.height:165<ie&&180>=ie&&(ce="start"===Nt?.15*kt.height:.15*-kt.height),ct.attr({align:Jt}),ct.translate(ce,se+$t)),vt.pos.x=te.x+(Ft.x||0),vt.pos.y=te.y+(Wt||0)}}}function pt(vt){this.axis.getPosition&&F(vt.pos,this.axis.getPosition(this.pos))}function ot(vt,ct){var Tt=this.chart,kt=this.center;return vt=this.startAngleRad+vt,{x:Tt.plotLeft+kt[0]+Math.cos(vt)*ct,y:Tt.plotTop+kt[1]+Math.sin(vt)*ct}}function W(){this.isDirty=!1}function K(){if(this.constructor.prototype.setAxisSize.call(this),this.isRadial){this.pane.updateCenter(this);var vt=this.center=this.pane.center.slice();if(this.isCircular)this.sector=this.endAngleRad-this.startAngleRad;else{var ct=this.postTranslate(this.angleRad,vt[3]/2);vt[0]=ct.x-this.chart.plotLeft,vt[1]=ct.y-this.chart.plotTop}this.len=this.width=this.height=(vt[2]-vt[3])*p(this.sector,1)/2}}function gt(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function yt(vt){(vt=this.options=a(this.constructor.defaultOptions,this.defaultPolarOptions,M[this.coll],vt)).plotBands||(vt.plotBands=[]),N(this,"afterSetOptions")}function _t(vt,ct,Tt,kt,Ft,Ot,jt){var $t=this.axis;return ct=$t.isRadial?["M",ct,Tt,"L",(vt=$t.getPosition(this.pos,$t.center[2]/2+kt)).x,vt.y]:vt.call(this,ct,Tt,kt,Ft,Ot,jt)}var rt=[],ut={gridLineWidth:1,labels:{align:void 0,distance:15,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},at={labels:{align:"center",x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},Ct={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};w.compose=function(vt,ct){return-1===rt.indexOf(vt)&&(rt.push(vt),G(vt,"afterInit",f),G(vt,"autoLabelAlign",o),G(vt,"destroy",R),G(vt,"init",U),G(vt,"initialAxisTranslation",X)),-1===rt.indexOf(ct)&&(rt.push(ct),G(ct,"afterGetLabelPosition",tt),G(ct,"afterGetPosition",pt),d(ct.prototype,"getMarkPath",_t)),vt}}(_||(_={})),_}),e(S,"Series/PolarComposition.js",[S["Core/Animation/AnimationUtilities.js"],S["Core/Globals.js"],S["Extensions/Pane.js"],S["Core/Axis/RadialAxis.js"],S["Core/Utilities.js"]],function(i,s,c,T,M){function j(ot,W,K,gt){var yt=gt?1:0,_t=0<=W&&W<=ot.length-1?W:0>W?ot.length-1+W:0,rt=ot[W=0>_t-1?ot.length-(1+yt):_t-1],ut=rt.plotY,at=(yt=ot[_t+1>ot.length-1?yt:_t+1]).plotX,Ct=yt.plotY;rt=(1.5*(yt=ot[_t].plotX)+rt.plotX)/2.5,ut=(1.5*(_t=ot[_t].plotY)+ut)/2.5,at=(1.5*yt+at)/2.5;var vt=(1.5*_t+Ct)/2.5;Ct=Math.sqrt(Math.pow(rt-yt,2)+Math.pow(ut-_t,2));var ct=Math.sqrt(Math.pow(at-yt,2)+Math.pow(vt-_t,2));return rt=Math.atan2(ut-_t,rt-yt),vt=Math.PI/2+(rt+Math.atan2(vt-_t,at-yt))/2,Math.abs(rt-vt)>Math.PI/2&&(vt-=Math.PI),rt=yt+Math.cos(vt)*Ct,ut=_t+Math.sin(vt)*Ct,yt={rightContX:at=yt+Math.cos(Math.PI+vt)*ct,rightContY:vt=_t+Math.sin(Math.PI+vt)*ct,leftContX:rt,leftContY:ut,plotX:yt,plotY:_t},K&&(yt.prevPointCont=j(ot,W,!1,gt)),yt}function G(){(this.pane||[]).forEach(function(ot){ot.render()})}function Y(ot){var W=ot.args[0].xAxis,K=ot.args[0].yAxis;ot=ot.args[0].chart,W&&K&&("polygon"===K.gridLineInterpolation?(W.startOnTick=!0,W.endOnTick=!0):"polygon"===W.gridLineInterpolation&&ot.inverted&&(K.startOnTick=!0,K.endOnTick=!0))}function z(){var ot=this;this.pane||(this.pane=[]),this.options.pane=R(this.options.pane),this.options.pane.forEach(function(W){new c(W,ot)},this)}function F(ot){var W=ot.args.marker,K=this.chart.xAxis[0],gt=this.chart.yAxis[0],yt=this.chart.inverted,_t=yt?gt:K;if(K=yt?K:gt,this.chart.polar){ot.preventDefault(),gt=(W.attr?W.attr("start"):W.start)-_t.startAngleRad,yt=W.attr?W.attr("r"):W.r;var rt=(W.attr?W.attr("end"):W.end)-_t.startAngleRad;W=W.attr?W.attr("innerR"):W.innerR,ot.result.x=gt+_t.pos,ot.result.width=rt-gt,ot.result.y=K.len+K.pos-W,ot.result.height=W-yt}}function N(ot){var W=this.chart;if(W.polar&&W.hoverPane&&W.hoverPane.axis){ot.preventDefault();var K=W.hoverPane.center,gt=this.mouseDownX||0,yt=this.mouseDownY||0,_t=ot.args.chartY,rt=ot.args.chartX,ut=2*Math.PI,at=W.hoverPane.axis.startAngleRad,Ct=W.hoverPane.axis.endAngleRad,vt=W.inverted?W.xAxis[0]:W.yAxis[0],ct={},Tt="arc";if(ct.x=K[0]+W.plotLeft,ct.y=K[1]+W.plotTop,this.zoomHor){var kt=0<at?Ct-at:Math.abs(at)+Math.abs(Ct),Ft=Math.atan2(yt-W.plotTop-K[1],gt-W.plotLeft-K[0])-at,Ot=Math.atan2(_t-W.plotTop-K[1],rt-W.plotLeft-K[0])-at;ct.r=K[2]/2,ct.innerR=K[3]/2,0>=Ft&&(Ft+=ut),0>=Ot&&(Ot+=ut),Ot<Ft&&(Ot=[Ft,Ft=Ot][0]),kt<ut&&at+Ot>Ct+(ut-kt)/2&&(Ot=Ft,Ft=0>=at?at:0),ut=ct.start=Math.max(Ft+at,at),Ft=ct.end=Math.min(Ot+at,Ct),"polygon"===vt.options.gridLineInterpolation&&(kt=ut-(Ot=W.hoverPane.axis).startAngleRad+Ot.pos,Ft-=ut,Tt=vt.getPlotLinePath({value:vt.max}),ut=Ot.toValue(kt),kt=Ot.toValue(kt+Ft),ut<Ot.getExtremes().min&&(ut=(Ft=Ot.getExtremes()).max-(Ft.min-ut)),kt<Ot.getExtremes().min&&(kt=(Ft=Ot.getExtremes()).max-(Ft.min-kt)),kt<ut&&(kt=[ut,ut=kt][0]),(Tt=d(Tt,ut,kt,Ot)).push(["L",K[0]+W.plotLeft,W.plotTop+K[1]]),ct.d=Tt,Tt="path")}this.zoomVert&&(Ot=W.inverted?W.xAxis[0]:W.yAxis[0],gt=Math.sqrt(Math.pow(gt-W.plotLeft-K[0],2)+Math.pow(yt-W.plotTop-K[1],2)),(_t=Math.sqrt(Math.pow(rt-W.plotLeft-K[0],2)+Math.pow(_t-W.plotTop-K[1],2)))<gt&&(gt=[_t,_t=gt][0]),_t>K[2]/2&&(_t=K[2]/2),gt<K[3]/2&&(gt=K[3]/2),this.zoomHor||(ct.start=at,ct.end=Ct),ct.r=_t,ct.innerR=gt,"polygon"===Ot.options.gridLineInterpolation&&(Ft=Ot.toValue(Ot.len+Ot.pos-gt),ut=Ot.toValue(Ot.len+Ot.pos-_t),Tt=Ot.getPlotLinePath({value:ut}).concat(Ot.getPlotLinePath({value:Ft,reverse:!0})),ct.d=Tt,Tt="path")),this.zoomHor&&this.zoomVert&&"polygon"===vt.options.gridLineInterpolation&&(Ft=ct.end||0,Ft-=ut=ct.start||0,ut=(Ot=W.hoverPane.axis).toValue(kt=ut-Ot.startAngleRad+Ot.pos),kt=Ot.toValue(kt+Ft),ct.d instanceof Array&&(K=ct.d.slice(0,ct.d.length/2),at=ct.d.slice(ct.d.length/2,ct.d.length),at=E([],at,!0).reverse(),K=d(K,ut,kt,W=W.hoverPane.axis),(at=d(at,ut,kt,W))&&(at[0][0]="L"),at=E([],at,!0).reverse(),ct.d=K.concat(at),Tt="path")),ot.attrs=ct,ot.shapeType=Tt}}function a(){var ot=this.chart;ot.polar&&(this.polar=new pt(this),ot.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function p(){if(this.chart.polar&&this.xAxis){var ot=this.chart;(this.kdByAngle=ot.tooltip&&ot.tooltip.shared)?this.searchPoint=l:this.options.findNearestPointBy="xy";for(var W=this.points,K=W.length;K--;)this.preventPostTranslate||this.polar.toXY(W[K]),ot.hasParallelCoordinates||this.yAxis.reversed||(o(W[K].y,Number.MIN_VALUE)<this.yAxis.min||W[K].x<this.xAxis.min||W[K].x>this.xAxis.max?(W[K].isNull=!0,W[K].plotY=NaN):W[K].isNull=W[K].isValid&&!W[K].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(C(this,"afterRender",function(){if(ot.polar){var gt=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:gt[0],y:gt[1],r:gt[2]/2,innerR:gt[3]/2});else{var yt=ot.renderer,_t=gt[0],rt=gt[1],ut=gt[2]/2,at=gt[3]/2;gt=U();var Ct=yt.createElement("clipPath").attr({id:gt}).add(yt.defs);(yt=at?yt.arc(_t,rt,ut,at,0,2*Math.PI).add(Ct):yt.circle(_t,rt,ut).add(Ct)).id=gt,yt.clipPath=Ct,this.clipCircle=yt}this.group.clip(this.clipCircle),this.setClip=s.noop}})))}}function l(ot){var W=this.chart,K=this.xAxis;return K=K.pane&&K.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(ot.chartX-(K&&K[0]||0)-W.plotLeft,ot.chartY-(K&&K[1]||0)-W.plotTop)})}function d(ot,W,K,gt){var yt=gt.tickInterval,_t=k(gt=gt.tickPositions,function(ut){return ut>=K}),rt=k(E([],gt,!0).reverse(),function(ut){return ut<=W});return A(_t)||(_t=gt[gt.length-1]),A(rt)||(rt=gt[0],_t+=yt,ot[0][0]="L",ot.unshift(ot[ot.length-3])),(ot=ot.slice(gt.indexOf(rt),gt.indexOf(_t)+1))[0][0]="M",ot}function _(ot,W){return k(this.pane||[],function(K){return K.options.id===W})||ot.call(this,W)}function w(ot,W,K,gt,yt,_t){var rt=this.chart,ut=o(gt.inside,!!this.options.stacking);rt.polar?(ot=W.rectPlotX/Math.PI*180,rt.inverted?(this.forceDL=rt.isInsidePlot(W.plotX,W.plotY),ut&&W.shapeArgs?yt={x:(yt=this.yAxis.postTranslate((((yt=W.shapeArgs).start||0)+(yt.end||0))/2-this.xAxis.startAngleRad,W.barX+W.pointWidth/2)).x-rt.plotLeft,y:yt.y-rt.plotTop}:W.tooltipPos&&(yt={x:W.tooltipPos[0],y:W.tooltipPos[1]}),gt.align=o(gt.align,"center"),gt.verticalAlign=o(gt.verticalAlign,"middle")):(null===gt.align&&(gt.align=20<ot&&160>ot?"left":200<ot&&340>ot?"right":"center"),null===gt.verticalAlign&&(gt.verticalAlign=45>ot||315<ot?"bottom":135<ot&&225>ot?"top":"middle")),Object.getPrototypeOf(Object.getPrototypeOf(this)).alignDataLabel.call(this,W,K,gt,yt,_t),this.isRadialBar&&W.shapeArgs&&W.shapeArgs.start===W.shapeArgs.end?K.hide():K.show()):ot.call(this,W,K,gt,yt,_t)}function x(ot){var W=this.options,K=W.stacking,gt=this.chart,yt=this.xAxis,_t=this.yAxis,rt=_t.reversed,ut=_t.center,at=yt.startAngleRad,Ct=yt.endAngleRad-at,vt=0,ct=0,Tt=0;if(this.preventPostTranslate=!0,ot.call(this),yt.isRadial){yt=(ot=this.points).length;var kt=_t.translate(_t.min),Ft=_t.translate(_t.max);for(W=W.threshold||0,gt.inverted&&f(W)&&(vt=_t.translate(W),A(vt)&&(0>vt?vt=0:vt>Ct&&(vt=Ct),this.translatedThreshold=vt+at));yt--;){var Ot=(W=ot[yt]).barX,jt=W.x,$t=W.y;W.shapeType="arc",gt.inverted?(W.plotY=_t.translate($t),K&&_t.stacking?($t=_t.stacking.stacks[(0>$t?"-":"")+this.stackKey],this.visible&&$t&&$t[jt]&&!W.isNull&&(Tt=$t[jt].points[this.getStackIndicator(void 0,jt,this.index).key],ct=_t.translate(Tt[0]),Tt=_t.translate(Tt[1]),A(ct)&&(ct=M.clamp(ct,0,Ct)))):(ct=vt,Tt=W.plotY),ct>Tt&&(Tt=[ct,ct=Tt][0]),rt?Tt>kt?Tt=kt:ct<Ft?ct=Ft:(ct>kt||Tt<Ft)&&(ct=Tt=Ct):ct<kt?ct=kt:Tt>Ft?Tt=Ft:(Tt<kt||ct>Ft)&&(ct=Tt=0),_t.min>_t.max&&(ct=Tt=rt?Ct:0),ct+=at,Tt+=at,ut&&(W.barX=Ot+=ut[3]/2),jt=Math.max(Ot,0),$t=Math.max(Ot+W.pointWidth,0),W.shapeArgs={x:ut&&ut[0],y:ut&&ut[1],r:$t,innerR:jt,start:ct,end:Tt},W.opacity=ct===Tt?0:void 0,W.plotY=(A(this.translatedThreshold)&&(ct<this.translatedThreshold?ct:Tt))-at):W.shapeArgs=this.polar.arc(W.yBottom,W.plotY,ct=Ot+at,ct+W.pointWidth),this.polar.toXY(W),gt.inverted?(Ot=_t.postTranslate(W.rectPlotY,Ot+W.pointWidth/2),W.tooltipPos=[Ot.x-gt.plotLeft,Ot.y-gt.plotTop]):W.tooltipPos=[W.plotX,W.plotY],ut&&(W.ttBelow=W.plotY>ut[1])}}}function I(ot,W){var K=this;if(this.chart.polar){W=W||this.points;for(var gt=0;gt<W.length;gt++)if(!W[gt].isNull){var yt=gt;break}if(!1!==this.options.connectEnds&&typeof yt<"u"){this.connectEnds=!0,W.splice(W.length,0,W[yt]);var _t=!0}W.forEach(function(rt){typeof rt.polarPlotY>"u"&&K.polar.toXY(rt)})}return yt=ot.apply(this,[].slice.call(arguments,1)),_t&&W.pop(),yt}function h(ot,W){var K=this.chart,gt={xAxis:[],yAxis:[]};return K.polar?K.axes.forEach(function(yt){if("colorAxis"!==yt.coll){var _t=yt.isXAxis,rt=yt.center,ut=W.chartX-rt[0]-K.plotLeft;rt=W.chartY-rt[1]-K.plotTop,gt[_t?"xAxis":"yAxis"].push({axis:yt,value:yt.translate(_t?Math.PI-Math.atan2(ut,rt):Math.sqrt(Math.pow(ut,2)+Math.pow(rt,2)),!0)})}}):gt=ot.call(this,W),gt}function n(ot,W){this.chart.polar||ot.call(this,W)}function D(ot,W){var vt,ct,Tt,kt,K=this,gt=this.chart,yt=this.group,_t=this.markerGroup,rt=this.xAxis&&this.xAxis.center,ut=gt.plotLeft,at=gt.plotTop,Ct=this.options.animation;if(gt.polar){if(K.isRadialBar)W||(K.startAngleRad=o(K.translatedThreshold,K.xAxis.startAngleRad),s.seriesTypes.pie.prototype.animate.call(K,W));else if(gt.renderer.isSVG)if(Ct=m(Ct),K.is("column")){if(!W){var Ft=rt[3]/2;K.points.forEach(function(Ot){Tt=(ct=Ot.shapeArgs)&&ct.r,kt=ct&&ct.innerR,(vt=Ot.graphic)&&ct&&(vt.attr({r:Ft,innerR:Ft}),vt.animate({r:Tt,innerR:kt},K.options.animation))})}}else W?(yt.attr(ot={translateX:rt[0]+ut,translateY:rt[1]+at,scaleX:.001,scaleY:.001}),_t&&_t.attr(ot)):(yt.animate(ot={translateX:ut,translateY:at,scaleX:1,scaleY:1},Ct),_t&&_t.animate(ot,Ct))}else ot.call(this,W)}function P(ot,W,K,gt){return this.chart.polar?gt?(K=(ot=j(W,gt,!0,this.connectEnds)).prevPointCont&&ot.prevPointCont.rightContY,ot=["C",f(W=ot.prevPointCont&&ot.prevPointCont.rightContX)?W:ot.plotX,f(K)?K:ot.plotY,f(ot.leftContX)?ot.leftContX:ot.plotX,f(ot.leftContY)?ot.leftContY:ot.plotY,ot.plotX,ot.plotY]):ot=["M",K.plotX,K.plotY]:ot=ot.call(this,W,K,gt),ot}var E=this&&this.__spreadArray||function(ot,W,K){if(K||2===arguments.length)for(var _t,gt=0,yt=W.length;gt<yt;gt++)!_t&&gt in W||(_t||(_t=Array.prototype.slice.call(W,0,gt)),_t[gt]=W[gt]);return ot.concat(_t||Array.prototype.slice.call(W))},m=i.animObject,C=M.addEvent,A=M.defined,k=M.find,f=M.isNumber,o=M.pick,R=M.splat,U=M.uniqueKey,X=M.wrap,tt=[],pt=function(){function ot(W){this.series=W}return ot.compose=function(W,K,gt,yt,_t,rt,ut,at,Ct){T.compose(W,_t),-1===tt.indexOf(K)&&(tt.push(K),C(K,"afterDrawChartBox",G),C(K,"getAxes",z),C(K,"init",Y),X(K.prototype,"get",_)),-1===tt.indexOf(gt)&&(tt.push(gt),X(W=gt.prototype,"getCoordinates",h),X(W,"pinch",n),C(gt,"getSelectionMarkerAttrs",N),C(gt,"getSelectionBox",F)),-1===tt.indexOf(yt)&&(tt.push(yt),C(yt,"afterInit",a),C(yt,"afterTranslate",p,{order:2}),X(yt.prototype,"animate",D)),ut&&-1===tt.indexOf(ut)&&(tt.push(ut),X(gt=ut.prototype,"alignDataLabel",w),X(gt,"animate",D),X(gt,"translate",x)),at&&-1===tt.indexOf(at)&&(tt.push(at),X(at.prototype,"getGraphPath",I)),Ct&&-1===tt.indexOf(Ct)&&(tt.push(Ct),X(at=Ct.prototype,"getPointSpline",P),rt&&-1===tt.indexOf(rt)&&(tt.push(rt),rt.prototype.getPointSpline=at.getPointSpline))},ot.prototype.arc=function(W,K,gt,yt){var _t=this.series,rt=_t.xAxis.center,ut=_t.yAxis.len,at=rt[3]/2;return K=ut-K+at,W=ut-o(W,ut)+at,_t.yAxis.reversed&&(0>K&&(K=at),0>W&&(W=at)),{x:rt[0],y:rt[1],r:K,innerR:W,start:gt,end:yt}},ot.prototype.toXY=function(W){var K=this.series,gt=K.chart,yt=K.xAxis,_t=K.yAxis,rt=W.plotX,ut=gt.inverted,at=W.y,Ct=W.plotY,vt=ut?rt:_t.len-Ct;ut&&K&&!K.isRadialBar&&(W.plotY=Ct=f(at)?_t.translate(at):0),W.rectPlotX=rt,W.rectPlotY=Ct,_t.center&&(vt+=_t.center[3]/2),f(Ct)&&(_t=ut?_t.postTranslate(Ct,vt):yt.postTranslate(rt,vt),W.plotX=W.polarPlotX=_t.x-gt.plotLeft,W.plotY=W.polarPlotY=_t.y-gt.plotTop),K.kdByAngle?(0>(K=(rt/Math.PI*180+yt.pane.options.startAngle)%360)&&(K+=360),W.clientX=K):W.clientX=W.plotX},ot}();return pt}),e(S,"masters/highcharts-more.src.js",[S["Core/Globals.js"],S["Core/Series/SeriesRegistry.js"],S["Series/Bubble/BubbleSeries.js"],S["Series/PackedBubble/PackedBubbleSeries.js"],S["Series/PolarComposition.js"]],function(i,s,c,T,M){c.compose(i.Axis,i.Chart,i.Legend,i.Series),T.compose(i.Axis,i.Chart,i.Legend,i.Series),M.compose(i.Axis,i.Chart,i.Pointer,i.Series,i.Tick,s.seriesTypes.areasplinerange,s.seriesTypes.column,s.seriesTypes.line,s.seriesTypes.spline)})}),function(S){"object"==typeof module&&module.exports?(S.default=S,module.exports=S):"function"==typeof define&&define.amd?define("highcharts/modules/exporting",["highcharts"],function(e){return S(e),S.Highcharts=e,S}):S(typeof Highcharts<"u"?Highcharts:void 0)}(function(S){function e(i,s,c,T){i.hasOwnProperty(s)||(i[s]=T.apply(null,c),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}e(S=S?S._modules:{},"Core/Chart/ChartNavigationComposition.js",[],function(){var i;return function(s){s.compose=function(T){return T.navigation||(T.navigation=new c(T)),T};var c=function(){function T(M){this.updates=[],this.chart=M}return T.prototype.addUpdate=function(M){this.chart.navigation.updates.push(M)},T.prototype.update=function(M,j){var G=this;this.updates.forEach(function(Y){Y.call(G.chart,M,j)})},T}();s.Additions=c}(i||(i={})),i}),e(S,"Extensions/Exporting/ExportingDefaults.js",[S["Core/Globals.js"]],function(i){return i=i.isTouchDevice,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid ".concat("#999999"),background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:i?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"}}}}),e(S,"Extensions/Exporting/ExportingSymbols.js",[],function(){var i;return function(s){function c(j,G,Y,z){return[["M",j,G+2.5],["L",j+Y,G+2.5],["M",j,G+z/2+.5],["L",j+Y,G+z/2+.5],["M",j,G+z-1.5],["L",j+Y,G+z-1.5]]}function T(j,G,Y,z){return j=z/3-2,(z=[]).concat(this.circle(Y-j,G,j,j),this.circle(Y-j,G+j+4,j,j),this.circle(Y-j,G+2*(j+4),j,j))}var M=[];s.compose=function(j){-1===M.indexOf(j)&&(M.push(j),(j=j.prototype.symbols).menu=c,j.menuball=T.bind(j))}}(i||(i={})),i}),e(S,"Extensions/Exporting/Fullscreen.js",[S["Core/Renderer/HTML/AST.js"],S["Core/Utilities.js"]],function(i,s){function c(){this.fullscreen=new G(this)}var T=s.addEvent,M=s.fireEvent,j=[],G=function(){function Y(z){this.chart=z,this.isOpen=!1,z=z.renderTo,this.browserProps||("function"==typeof z.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:z.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:z.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:z.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return Y.compose=function(z){-1===j.indexOf(z)&&(j.push(z),T(z,"beforeRender",c))},Y.prototype.close=function(){var z=this,F=z.chart,N=F.options.chart;M(F,"fullscreenClose",null,function(){z.isOpen&&z.browserProps&&F.container.ownerDocument instanceof Document&&F.container.ownerDocument[z.browserProps.exitFullscreen](),z.unbindFullscreenEvent&&(z.unbindFullscreenEvent=z.unbindFullscreenEvent()),F.setSize(z.origWidth,z.origHeight,!1),z.origWidth=void 0,z.origHeight=void 0,N.width=z.origWidthOption,N.height=z.origHeightOption,z.origWidthOption=void 0,z.origHeightOption=void 0,z.isOpen=!1,z.setButtonText()})},Y.prototype.open=function(){var z=this,F=z.chart,N=F.options.chart;M(F,"fullscreenOpen",null,function(){if(N&&(z.origWidthOption=N.width,z.origHeightOption=N.height),z.origWidth=F.chartWidth,z.origHeight=F.chartHeight,z.browserProps){var a=T(F.container.ownerDocument,z.browserProps.fullscreenChange,function(){z.isOpen?(z.isOpen=!1,z.close()):(F.setSize(null,null,!1),z.isOpen=!0,z.setButtonText())}),p=T(F,"destroy",a);z.unbindFullscreenEvent=function(){a(),p()};var l=F.renderTo[z.browserProps.requestFullscreen]();l&&l.catch(function(){alert("Full screen is not supported inside a frame.")})}})},Y.prototype.setButtonText=function(){var z=this.chart,F=z.exportDivElements,N=z.options.exporting,a=N&&N.buttons&&N.buttons.contextButton.menuItems;z=z.options.lang,N&&N.menuItemDefinitions&&z&&z.exitFullscreen&&z.viewFullscreen&&a&&F&&(F=F[a.indexOf("viewFullscreen")])&&i.setElementHTML(F,this.isOpen?z.exitFullscreen:N.menuItemDefinitions.viewFullscreen.text||z.viewFullscreen)},Y.prototype.toggle=function(){this.isOpen?this.close():this.open()},Y}();return G}),e(S,"Core/HttpUtilities.js",[S["Core/Globals.js"],S["Core/Utilities.js"]],function(i,s){var c=i.doc,T=s.createElement,M=s.discardElement,j=s.merge,G=s.objectEach,Y={ajax:function(z){var F={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},N=new XMLHttpRequest;if(!z.url)return!1;N.open((z.type||"get").toUpperCase(),z.url,!0),z.headers&&z.headers["Content-Type"]||N.setRequestHeader("Content-Type",F[z.dataType||"json"]||F.text),G(z.headers,function(a,p){N.setRequestHeader(p,a)}),z.responseType&&(N.responseType=z.responseType),N.onreadystatechange=function(){if(4===N.readyState){if(200===N.status){if("blob"!==z.responseType){var a=N.responseText;if("json"===z.dataType)try{a=JSON.parse(a)}catch(p){if(p instanceof Error)return void(z.error&&z.error(N,p))}}return z.success&&z.success(a,N)}z.error&&z.error(N,N.responseText)}},z.data&&"string"!=typeof z.data&&(z.data=JSON.stringify(z.data)),N.send(z.data)},getJSON:function(z,F){Y.ajax({url:z,success:F,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(z,F,N){var a=T("form",j({method:"post",action:z,enctype:"multipart/form-data"},N),{display:"none"},c.body);G(F,function(p,l){T("input",{type:"hidden",name:l,value:p},void 0,a)}),a.submit(),M(a)}};return Y}),e(S,"Extensions/Exporting/Exporting.js",[S["Core/Renderer/HTML/AST.js"],S["Core/Chart/Chart.js"],S["Core/Chart/ChartNavigationComposition.js"],S["Core/Defaults.js"],S["Extensions/Exporting/ExportingDefaults.js"],S["Extensions/Exporting/ExportingSymbols.js"],S["Extensions/Exporting/Fullscreen.js"],S["Core/Globals.js"],S["Core/HttpUtilities.js"],S["Core/Utilities.js"]],function(i,s,c,T,M,j,G,Y,z,F){var f,N=T.defaultOptions,a=T.setOptions,p=Y.doc,l=Y.SVG_NS,d=Y.win,_=F.addEvent,w=F.css,x=F.createElement,I=F.discardElement,h=F.extend,n=F.find,D=F.fireEvent,P=F.isObject,E=F.merge,m=F.objectEach,C=F.pick,A=F.removeEvent,k=F.uniqueKey;return function(o){function R(Wt){var ne=this,Jt=ne.renderer,Nt=E(ne.options.navigation.buttonOptions,Wt),Rt=Nt.onclick,ie=Nt.menuItems,se=Nt.symbolSize||12;if(ne.btnCount||(ne.btnCount=0),ne.exportDivElements||(ne.exportDivElements=[],ne.exportSVGElements=[]),!1!==Nt.enabled&&Nt.theme){var te,ce=Nt.theme;ne.styledMode||(ce.fill=C(ce.fill,"#ffffff"),ce.stroke=C(ce.stroke,"none")),Rt?te=function(Ai){Ai&&Ai.stopPropagation(),Rt.call(ne,Ai)}:ie&&(te=function(Ai){Ai&&Ai.stopPropagation(),ne.contextMenu(Ie.menuClassName,ie,Ie.translateX,Ie.translateY,Ie.width,Ie.height,Ie),Ie.setState(2)}),Nt.text&&Nt.symbol?ce.paddingLeft=C(ce.paddingLeft,30):Nt.text||h(ce,{width:Nt.width,height:Nt.height,padding:0}),ne.styledMode||(ce["stroke-linecap"]="round",ce.fill=C(ce.fill,"#ffffff"),ce.stroke=C(ce.stroke,"none"));var Ie=Jt.button(Nt.text,0,0,te,ce,void 0,void 0,void 0,void 0,Nt.useHTML).addClass(Wt.className).attr({title:C(ne.options.lang[Nt._titleKey||Nt.titleKey],"")});if(Ie.menuClassName=Wt.menuClassName||"highcharts-menu-"+ne.btnCount++,Nt.symbol){var Ve=Jt.symbol(Nt.symbol,Nt.symbolX-se/2,Nt.symbolY-se/2,se,se,{width:se,height:se}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Ie);ne.styledMode||Ve.attr({stroke:Nt.symbolStroke,fill:Nt.symbolFill,"stroke-width":Nt.symbolStrokeWidth||1})}Ie.add(ne.exportingGroup).align(h(Nt,{width:Ie.width,x:C(Nt.x,ne.buttonOffset)}),!0,"spacingBox"),ne.buttonOffset+=(Ie.width+Nt.buttonSpacing)*("right"===Nt.align?-1:1),ne.exportSVGElements.push(Ie,Ve)}}function U(){if(this.printReverseInfo){var Wt=this.printReverseInfo,ne=Wt.childNodes,Jt=Wt.origDisplay;Wt=Wt.resetParams,this.moveContainers(this.renderTo),[].forEach.call(ne,function(Nt,Rt){1===Nt.nodeType&&(Nt.style.display=Jt[Rt]||"")}),this.isPrinting=!1,Wt&&this.setSize.apply(this,Wt),delete this.printReverseInfo,$t=void 0,D(this,"afterPrint")}}function X(){var Wt=p.body,ne=this.options.exporting.printMaxWidth,Jt={childNodes:Wt.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),D(this,"beforePrint"),ne&&this.chartWidth>ne&&(Jt.resetParams=[this.options.chart.width,void 0,!1],this.setSize(ne,void 0,!1)),[].forEach.call(Jt.childNodes,function(Nt,Rt){1===Nt.nodeType&&(Jt.origDisplay[Rt]=Nt.style.display,Nt.style.display="none")}),this.moveContainers(Wt),this.printReverseInfo=Jt}function tt(Wt){Wt.renderExporting(),_(Wt,"redraw",Wt.renderExporting),_(Wt,"destroy",Wt.destroyExport)}function pt(Wt,ne,Jt,Nt,Rt,ie,se){var ce=this,te=ce.options.navigation,Ie=ce.chartWidth,Ve=ce.chartHeight,Ai="cache-"+Wt,gi=Math.max(Rt,ie),pi=ce[Ai];if(!pi){ce.exportContextMenu=ce[Ai]=pi=x("div",{className:Wt},{position:"absolute",zIndex:1e3,padding:gi+"px",pointerEvents:"auto"},ce.fixedDiv||ce.container);var Ri=x("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},pi);ce.styledMode||w(Ri,h({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},te.menuStyle)),pi.hideMenu=function(){w(pi,{display:"none"}),se&&se.setState(0),ce.openMenu=!1,w(ce.renderTo,{overflow:"hidden"}),w(ce.container,{overflow:"hidden"}),F.clearTimeout(pi.hideTimer),D(ce,"exportMenuHidden")},ce.exportEvents.push(_(pi,"mouseleave",function(){pi.hideTimer=d.setTimeout(pi.hideMenu,500)}),_(pi,"mouseenter",function(){F.clearTimeout(pi.hideTimer)}),_(p,"mouseup",function(ti){ce.pointer.inClass(ti.target,Wt)||pi.hideMenu()}),_(pi,"click",function(){ce.openMenu&&pi.hideMenu()})),ne.forEach(function(ti){if("string"==typeof ti&&(ti=ce.options.exporting.menuItemDefinitions[ti]),P(ti,!0)){var Ti=void 0;ti.separator?Ti=x("hr",void 0,void 0,Ri):("viewData"===ti.textKey&&ce.isDataTableVisible&&(ti.textKey="hideData"),Ti=x("li",{className:"highcharts-menu-item",onclick:function(xi){xi&&xi.stopPropagation(),pi.hideMenu(),ti.onclick&&ti.onclick.apply(ce,arguments)}},void 0,Ri),i.setElementHTML(Ti,ti.text||ce.options.lang[ti.textKey]),ce.styledMode||(Ti.onmouseover=function(){w(this,te.menuItemHoverStyle)},Ti.onmouseout=function(){w(this,te.menuItemStyle)},w(Ti,h({cursor:"pointer"},te.menuItemStyle||{})))),ce.exportDivElements.push(Ti)}}),ce.exportDivElements.push(Ri,pi),ce.exportMenuWidth=pi.offsetWidth,ce.exportMenuHeight=pi.offsetHeight}ne={display:"block"},Jt+ce.exportMenuWidth>Ie?ne.right=Ie-Jt-Rt-gi+"px":ne.left=Jt-gi+"px",Nt+ie+ce.exportMenuHeight>Ve&&"top"!==se.alignOptions.verticalAlign?ne.bottom=Ve-Nt-gi+"px":ne.top=Nt+ie-gi+"px",w(pi,ne),w(ce.renderTo,{overflow:""}),w(ce.container,{overflow:""}),ce.openMenu=!0,D(ce,"exportMenuShown")}function ot(Wt){var Rt,ne=Wt?Wt.target:this,Jt=ne.exportSVGElements,Nt=ne.exportDivElements;Wt=ne.exportEvents,Jt&&(Jt.forEach(function(ie,se){ie&&(ie.onclick=ie.ontouchstart=null,ne[Rt="cache-"+ie.menuClassName]&&delete ne[Rt],Jt[se]=ie.destroy())}),Jt.length=0),ne.exportingGroup&&(ne.exportingGroup.destroy(),delete ne.exportingGroup),Nt&&(Nt.forEach(function(ie,se){ie&&(F.clearTimeout(ie.hideTimer),A(ie,"mouseleave"),Nt[se]=ie.onmouseout=ie.onmouseover=ie.ontouchstart=ie.onclick=null,I(ie))}),Nt.length=0),Wt&&(Wt.forEach(function(ie){ie()}),Wt.length=0)}function W(Wt,ne){ne=this.getSVGForExport(Wt,ne),Wt=E(this.options.exporting,Wt),z.post(Wt.url,{filename:Wt.filename?Wt.filename.replace(/\//g,"-"):this.getFilename(),type:Wt.type,width:Wt.width||0,scale:Wt.scale,svg:ne},Wt.formAttributes)}function K(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function gt(){var Wt=this.userOptions.title&&this.userOptions.title.text,ne=this.options.exporting.filename;return ne?ne.replace(/\//g,"-"):("string"==typeof Wt&&(ne=Wt.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!ne||5>ne.length)&&(ne="chart"),ne)}function yt(Wt){var ne,Jt=E(this.options,Wt);Jt.plotOptions=E(this.userOptions.plotOptions,Wt&&Wt.plotOptions),Jt.time=E(this.userOptions.time,Wt&&Wt.time);var Nt=x("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},p.body),Rt=this.renderTo.style.width,ie=this.renderTo.style.height;Rt=Jt.exporting.sourceWidth||Jt.chart.width||/px$/.test(Rt)&&parseInt(Rt,10)||(Jt.isGantt?800:600),ie=Jt.exporting.sourceHeight||Jt.chart.height||/px$/.test(ie)&&parseInt(ie,10)||400,h(Jt.chart,{animation:!1,renderTo:Nt,forExport:!0,renderer:"SVGRenderer",width:Rt,height:ie}),Jt.exporting.enabled=!1,delete Jt.data,Jt.series=[],this.series.forEach(function(te){(ne=E(te.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:te.visible})).isInternal||Jt.series.push(ne)});var se={};this.axes.forEach(function(te){te.userOptions.internalKey||(te.userOptions.internalKey=k()),te.options.isInternal||(se[te.coll]||(se[te.coll]=!0,Jt[te.coll]=[]),Jt[te.coll].push(E(te.userOptions,{visible:te.visible})))});var ce=new this.constructor(Jt,this.callback);return Wt&&["xAxis","yAxis","series"].forEach(function(te){var Ie={};Wt[te]&&(Ie[te]=Wt[te],ce.update(Ie))}),this.axes.forEach(function(te){var Ie=n(ce.axes,function(gi){return gi.options.internalKey===te.userOptions.internalKey}),Ve=te.getExtremes(),Ai=Ve.userMin;Ve=Ve.userMax,Ie&&(typeof Ai<"u"&&Ai!==Ie.min||typeof Ve<"u"&&Ve!==Ie.max)&&Ie.setExtremes(Ai,Ve,!0,!1)}),ie=ce.getChartHTML(),D(this,"getSVG",{chartCopy:ce}),ie=this.sanitizeSVG(ie,Jt),Jt=null,ce.destroy(),I(Nt),ie}function _t(Wt,ne){var Jt=this.options.exporting;return this.getSVG(E({chart:{borderRadius:0}},Jt.chartOptions,ne,{exporting:{sourceWidth:Wt&&Wt.sourceWidth||Jt.sourceWidth,sourceHeight:Wt&&Wt.sourceHeight||Jt.sourceHeight}}))}function rt(Wt){return Wt.replace(/([A-Z])/g,function(ne,Jt){return"-"+Jt.toLowerCase()})}function ut(){var Rt,ne=Ft,Jt=o.inlineAllowlist,Nt={},ie=p.createElement("iframe");w(ie,{width:"1px",height:"1px",visibility:"hidden"}),p.body.appendChild(ie);var se=ie.contentWindow&&ie.contentWindow.document;se&&se.body.appendChild(se.createElementNS(l,"svg")),function Wt(ce){var te={};if(se&&1===ce.nodeType&&-1===jt.indexOf(ce.nodeName)){var Ie=d.getComputedStyle(ce,null),Ve="svg"===ce.nodeName?{}:d.getComputedStyle(ce.parentNode,null);if(!Nt[ce.nodeName]){Rt=se.getElementsByTagName("svg")[0];var Ai=se.createElementNS(ce.namespaceURI,ce.nodeName);Rt.appendChild(Ai);var gi=d.getComputedStyle(Ai,null),pi={};for(var Ri in gi)"string"!=typeof gi[Ri]||/^[0-9]+$/.test(Ri)||(pi[Ri]=gi[Ri]);Nt[ce.nodeName]=pi,"text"===ce.nodeName&&delete Nt.text.fill,Rt.removeChild(Ai)}for(var ti in Ie)if(Y.isFirefox||Y.isMS||Y.isSafari||Object.hasOwnProperty.call(Ie,ti)){Ri=Ie[ti];var Ti=ti;if(Ai=gi=!1,Jt.length){for(pi=Jt.length;pi--&&!gi;)gi=Jt[pi].test(Ti);Ai=!gi}for("transform"===Ti&&"none"===Ri&&(Ai=!0),pi=ne.length;pi--&&!Ai;)Ai=ne[pi].test(Ti)||"function"==typeof Ri;Ai||Ve[Ti]===Ri&&"svg"!==ce.nodeName||Nt[ce.nodeName][Ti]===Ri||(Ot&&-1===Ot.indexOf(Ti)?te[Ti]=Ri:Ri&&ce.setAttribute(rt(Ti),Ri))}w(ce,te),"svg"===ce.nodeName&&ce.setAttribute("stroke-width","1px"),"text"!==ce.nodeName&&[].forEach.call(ce.children||ce.childNodes,Wt)}}(this.container.querySelector("svg")),Rt.parentNode.removeChild(Rt),ie.parentNode.removeChild(ie)}function at(Wt){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(ne){Wt.appendChild(ne)})}function Ct(){var Wt=this;Wt.exporting={update:function(ne,Jt){Wt.isDirtyExporting=!0,E(!0,Wt.options.exporting,ne),C(Jt,!0)&&Wt.redraw()}},c.compose(Wt).navigation.addUpdate(function(ne,Jt){Wt.isDirtyExporting=!0,E(!0,Wt.options.navigation,ne),C(Jt,!0)&&Wt.redraw()})}function vt(){var Wt=this;Wt.isPrinting||($t=Wt,Y.isSafari||Wt.beforePrint(),setTimeout(function(){d.focus(),d.print(),Y.isSafari||setTimeout(function(){Wt.afterPrint()},1e3)},1))}function ct(){var Wt=this,ne=Wt.options.exporting,Jt=ne.buttons,Nt=Wt.isDirtyExporting||!Wt.exportSVGElements;Wt.buttonOffset=0,Wt.isDirtyExporting&&Wt.destroyExport(),Nt&&!1!==ne.enabled&&(Wt.exportEvents=[],Wt.exportingGroup=Wt.exportingGroup||Wt.renderer.g("exporting-group").attr({zIndex:3}).add(),m(Jt,function(Rt){Wt.addButton(Rt)}),Wt.isDirtyExporting=!1)}function Tt(Wt,ne){var Jt=Wt.indexOf("</svg>")+6,Nt=Wt.substr(Jt);return Wt=Wt.substr(0,Jt),ne&&ne.exporting&&ne.exporting.allowHTML&&Nt&&(Nt='<foreignObject x="0" y="0" width="'+ne.chart.width+'" height="'+ne.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Nt.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",Wt=Wt.replace("</svg>",Nt+"</svg>")),Wt=Wt.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&(Wt=this.ieSanitizeSVG(Wt)),Wt}var kt=[],Ft=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Ot="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");o.inlineAllowlist=[];var $t,jt=["clipPath","defs","desc"];o.compose=function(Wt,ne){j.compose(ne),G.compose(Wt),-1===kt.indexOf(Wt)&&(kt.push(Wt),(ne=Wt.prototype).afterPrint=U,ne.exportChart=W,ne.inlineStyles=ut,ne.print=vt,ne.sanitizeSVG=Tt,ne.getChartHTML=K,ne.getSVG=yt,ne.getSVGForExport=_t,ne.getFilename=gt,ne.moveContainers=at,ne.beforePrint=X,ne.contextMenu=pt,ne.addButton=R,ne.destroyExport=ot,ne.renderExporting=ct,ne.callbacks.push(tt),_(Wt,"init",Ct),Y.isSafari&&Y.win.matchMedia("print").addListener(function(Jt){$t&&(Jt.matches?$t.beforePrint():$t.afterPrint())})),-1===kt.indexOf(a)&&(kt.push(a),N.exporting=E(M.exporting,N.exporting),N.lang=E(M.lang,N.lang),N.navigation=E(M.navigation,N.navigation))}}(f||(f={})),f}),e(S,"masters/modules/exporting.src.js",[S["Core/Globals.js"],S["Extensions/Exporting/Exporting.js"],S["Core/HttpUtilities.js"]],function(i,s,c){i.HttpUtilities=c,i.ajax=c.ajax,i.getJSON=c.getJSON,i.post=c.post,s.compose(i.Chart,i.Renderer)})}),function(S,e){"object"==typeof exports&&typeof module<"u"?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((S=typeof globalThis<"u"?globalThis:S||self).leaflet={})}(this,function(S){"use strict";function e(y){for(var V,it,bt=1,Bt=arguments.length;bt<Bt;bt++)for(V in it=arguments[bt])y[V]=it[V];return y}var i=Object.create||function(y){return s.prototype=y,new s};function s(){}function c(y,V){var it,bt=Array.prototype.slice;return y.bind?y.bind.apply(y,bt.call(arguments,1)):(it=bt.call(arguments,2),function(){return y.apply(V,it.length?it.concat(bt.call(arguments)):arguments)})}var T=0;function M(y){return"_leaflet_id"in y||(y._leaflet_id=++T),y._leaflet_id}function j(y,V,it){var bt,Bt,pe=function(){bt=!1,Bt&&(qe.apply(it,Bt),Bt=!1)},qe=function(){bt?Bt=arguments:(y.apply(it,arguments),setTimeout(pe,V),bt=!0)};return qe}function G(y,Bt,it){var bt=Bt[1],pe=bt-(Bt=Bt[0]);return y===bt&&it?y:((y-Bt)%pe+pe)%pe+Bt}function Y(){return!1}function z(y,V){return!1===V?y:(V=Math.pow(10,void 0===V?6:V),Math.round(y*V)/V)}function F(y){return y.trim?y.trim():y.replace(/^\s+|\s+$/g,"")}function N(y){return F(y).split(/\s+/)}function a(y,V){for(var it in Object.prototype.hasOwnProperty.call(y,"options")||(y.options=y.options?i(y.options):{}),V)y.options[it]=V[it];return y.options}function p(y,V,it){var bt,Bt=[];for(bt in y)Bt.push(encodeURIComponent(it?bt.toUpperCase():bt)+"="+encodeURIComponent(y[bt]));return(V&&-1!==V.indexOf("?")?"&":"?")+Bt.join("&")}var l=/\{ *([\w_ -]+) *\}/g;function d(y,V){return y.replace(l,function(it,bt){if(void 0===(bt=V[bt]))throw new Error("No value provided for variable "+it);return"function"==typeof bt?bt(V):bt})}var _=Array.isArray||function(y){return"[object Array]"===Object.prototype.toString.call(y)};function w(y,V){for(var it=0;it<y.length;it++)if(y[it]===V)return it;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(y){return window["webkit"+y]||window["moz"+y]||window["ms"+y]}var h=0;function n(y){var V=+new Date,it=Math.max(0,16-(V-h));return h=V+it,window.setTimeout(y,it)}var D=window.requestAnimationFrame||I("RequestAnimationFrame")||n,P=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(y){window.clearTimeout(y)};function E(y,V,it){if(!it||D!==n)return D.call(window,c(y,V));y.call(V)}function m(y){y&&P.call(window,y)}var C={__proto__:null,extend:e,create:i,bind:c,get lastId(){return T},stamp:M,throttle:j,wrapNum:G,falseFn:Y,formatNum:z,trim:F,splitWords:N,setOptions:a,getParamString:p,template:d,isArray:_,indexOf:w,emptyImageUrl:x,requestFn:D,cancelFn:P,requestAnimFrame:E,cancelAnimFrame:m};function A(){}A.extend=function(y){function V(){a(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var it,bt=V.__super__=this.prototype,Bt=i(bt);for(it in(Bt.constructor=V).prototype=Bt,this)Object.prototype.hasOwnProperty.call(this,it)&&"prototype"!==it&&"__super__"!==it&&(V[it]=this[it]);if(y.statics&&e(V,y.statics),y.includes){var pe=y.includes;if(typeof L<"u"&&L&&L.Mixin){pe=_(pe)?pe:[pe];for(var qe=0;qe<pe.length;qe++)pe[qe]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}e.apply(null,[Bt].concat(y.includes))}return e(Bt,y),delete Bt.statics,delete Bt.includes,Bt.options&&(Bt.options=bt.options?i(bt.options):{},e(Bt.options,y.options)),Bt._initHooks=[],Bt.callInitHooks=function(){if(!this._initHooksCalled){bt.callInitHooks&&bt.callInitHooks.call(this),this._initHooksCalled=!0;for(var He=0,Bi=Bt._initHooks.length;He<Bi;He++)Bt._initHooks[He].call(this)}},V},A.include=function(y){var V=this.prototype.options;return e(this.prototype,y),y.options&&(this.prototype.options=V,this.mergeOptions(y.options)),this},A.mergeOptions=function(y){return e(this.prototype.options,y),this},A.addInitHook=function(y){var V=Array.prototype.slice.call(arguments,1),it="function"==typeof y?y:function(){this[y].apply(this,V)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(it),this};var k={on:function(y,V,it){if("object"==typeof y)for(var bt in y)this._on(bt,y[bt],V);else for(var Bt=0,pe=(y=N(y)).length;Bt<pe;Bt++)this._on(y[Bt],V,it);return this},off:function(y,V,it){if(arguments.length)if("object"==typeof y)for(var bt in y)this._off(bt,y[bt],V);else{y=N(y);for(var Bt=1===arguments.length,pe=0,qe=y.length;pe<qe;pe++)Bt?this._off(y[pe]):this._off(y[pe],V,it)}else delete this._events;return this},_on:function(y,V,it,bt){"function"!=typeof V?console.warn("wrong listener type: "+typeof V):!1===this._listens(y,V,it)&&(V={fn:V,ctx:it=it===this?void 0:it},bt&&(V.once=!0),this._events=this._events||{},this._events[y]=this._events[y]||[],this._events[y].push(V))},_off:function(y,V,it){var bt,Bt,pe;if(this._events&&(bt=this._events[y]))if(1===arguments.length){if(this._firingCount)for(Bt=0,pe=bt.length;Bt<pe;Bt++)bt[Bt].fn=Y;delete this._events[y]}else"function"!=typeof V?console.warn("wrong listener type: "+typeof V):!1!==(V=this._listens(y,V,it))&&(it=bt[V],this._firingCount&&(it.fn=Y,this._events[y]=bt=bt.slice()),bt.splice(V,1))},fire:function(y,V,it){if(this.listens(y,it)){var bt=e({},V,{type:y,target:this,sourceTarget:V&&V.sourceTarget||this});if(this._events){var Bt=this._events[y];if(Bt){this._firingCount=this._firingCount+1||1;for(var pe=0,qe=Bt.length;pe<qe;pe++){var He=Bt[pe],Bi=He.fn;He.once&&this.off(y,Bi,He.ctx),Bi.call(He.ctx||this,bt)}this._firingCount--}}it&&this._propagateEvent(bt)}return this},listens:function(y,V,it,bt){"string"!=typeof y&&console.warn('"string" type argument expected');var Bt=V,pe=("function"!=typeof V&&(bt=!!V,it=Bt=void 0),this._events&&this._events[y]);if(pe&&pe.length&&!1!==this._listens(y,Bt,it))return!0;if(bt)for(var qe in this._eventParents)if(this._eventParents[qe].listens(y,V,it,bt))return!0;return!1},_listens:function(y,V,it){if(this._events){var bt=this._events[y]||[];if(!V)return!!bt.length;it===this&&(it=void 0);for(var Bt=0,pe=bt.length;Bt<pe;Bt++)if(bt[Bt].fn===V&&bt[Bt].ctx===it)return Bt}return!1},once:function(y,V,it){if("object"==typeof y)for(var bt in y)this._on(bt,y[bt],V,!0);else for(var Bt=0,pe=(y=N(y)).length;Bt<pe;Bt++)this._on(y[Bt],V,it,!0);return this},addEventParent:function(y){return this._eventParents=this._eventParents||{},this._eventParents[M(y)]=y,this},removeEventParent:function(y){return this._eventParents&&delete this._eventParents[M(y)],this},_propagateEvent:function(y){for(var V in this._eventParents)this._eventParents[V].fire(y.type,e({layer:y.target,propagatedFrom:y.target},y),!0)}},f=(k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens,A.extend(k));function o(y,V,it){this.x=it?Math.round(y):y,this.y=it?Math.round(V):V}var R=Math.trunc||function(y){return 0<y?Math.floor(y):Math.ceil(y)};function U(y,V,it){return y instanceof o?y:_(y)?new o(y[0],y[1]):null==y?y:"object"==typeof y&&"x"in y&&"y"in y?new o(y.x,y.y):new o(y,V,it)}function X(y,V){if(y)for(var it=V?[y,V]:y,bt=0,Bt=it.length;bt<Bt;bt++)this.extend(it[bt])}function tt(y,V){return!y||y instanceof X?y:new X(y,V)}function pt(y,V){if(y)for(var it=V?[y,V]:y,bt=0,Bt=it.length;bt<Bt;bt++)this.extend(it[bt])}function ot(y,V){return y instanceof pt?y:new pt(y,V)}function W(y,V,it){if(isNaN(y)||isNaN(V))throw new Error("Invalid LatLng object: ("+y+", "+V+")");this.lat=+y,this.lng=+V,void 0!==it&&(this.alt=+it)}function K(y,V,it){return y instanceof W?y:_(y)&&"object"!=typeof y[0]?3===y.length?new W(y[0],y[1],y[2]):2===y.length?new W(y[0],y[1]):null:null==y?y:"object"==typeof y&&"lat"in y?new W(y.lat,"lng"in y?y.lng:y.lon,y.alt):void 0===V?null:new W(y,V,it)}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(y){return this.clone()._add(U(y))},_add:function(y){return this.x+=y.x,this.y+=y.y,this},subtract:function(y){return this.clone()._subtract(U(y))},_subtract:function(y){return this.x-=y.x,this.y-=y.y,this},divideBy:function(y){return this.clone()._divideBy(y)},_divideBy:function(y){return this.x/=y,this.y/=y,this},multiplyBy:function(y){return this.clone()._multiplyBy(y)},_multiplyBy:function(y){return this.x*=y,this.y*=y,this},scaleBy:function(y){return new o(this.x*y.x,this.y*y.y)},unscaleBy:function(y){return new o(this.x/y.x,this.y/y.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(it){var V=(it=U(it)).x-this.x;return it=it.y-this.y,Math.sqrt(V*V+it*it)},equals:function(y){return(y=U(y)).x===this.x&&y.y===this.y},contains:function(y){return y=U(y),Math.abs(y.x)<=Math.abs(this.x)&&Math.abs(y.y)<=Math.abs(this.y)},toString:function(){return"Point("+z(this.x)+", "+z(this.y)+")"}},X.prototype={extend:function(y){var V,it;if(y){if(y instanceof o||"number"==typeof y[0]||"x"in y)V=it=U(y);else if(V=(y=tt(y)).min,it=y.max,!V||!it)return this;this.min||this.max?(this.min.x=Math.min(V.x,this.min.x),this.max.x=Math.max(it.x,this.max.x),this.min.y=Math.min(V.y,this.min.y),this.max.y=Math.max(it.y,this.max.y)):(this.min=V.clone(),this.max=it.clone())}return this},getCenter:function(y){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,y)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(y){var V,it;return(y=("number"==typeof y[0]||y instanceof o?U:tt)(y))instanceof X?(V=y.min,it=y.max):V=it=y,V.x>=this.min.x&&it.x<=this.max.x&&V.y>=this.min.y&&it.y<=this.max.y},intersects:function(pe){pe=tt(pe);var V=this.min,it=this.max,bt=pe.min,Bt=(pe=pe.max).x>=V.x&&bt.x<=it.x;return pe=pe.y>=V.y&&bt.y<=it.y,Bt&&pe},overlaps:function(pe){pe=tt(pe);var V=this.min,it=this.max,bt=pe.min,Bt=(pe=pe.max).x>V.x&&bt.x<it.x;return pe=pe.y>V.y&&bt.y<it.y,Bt&&pe},isValid:function(){return!(!this.min||!this.max)},pad:function(Bt){var V=this.min,it=this.max,bt=Math.abs(V.x-it.x)*Bt;return Bt=Math.abs(V.y-it.y)*Bt,tt(U(V.x-bt,V.y-Bt),U(it.x+bt,it.y+Bt))},equals:function(y){return!!y&&(y=tt(y),this.min.equals(y.getTopLeft())&&this.max.equals(y.getBottomRight()))}},pt.prototype={extend:function(y){var V,it,bt=this._southWest,Bt=this._northEast;if(y instanceof W)it=V=y;else{if(!(y instanceof pt))return y?this.extend(K(y)||ot(y)):this;if(it=y._northEast,!(V=y._southWest)||!it)return this}return bt||Bt?(bt.lat=Math.min(V.lat,bt.lat),bt.lng=Math.min(V.lng,bt.lng),Bt.lat=Math.max(it.lat,Bt.lat),Bt.lng=Math.max(it.lng,Bt.lng)):(this._southWest=new W(V.lat,V.lng),this._northEast=new W(it.lat,it.lng)),this},pad:function(Bt){var V=this._southWest,it=this._northEast,bt=Math.abs(V.lat-it.lat)*Bt;return Bt=Math.abs(V.lng-it.lng)*Bt,new pt(new W(V.lat-bt,V.lng-Bt),new W(it.lat+bt,it.lng+Bt))},getCenter:function(){return new W((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new W(this.getNorth(),this.getWest())},getSouthEast:function(){return new W(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(y){y=("number"==typeof y[0]||y instanceof W||"lat"in y?K:ot)(y);var V,it,bt=this._southWest,Bt=this._northEast;return y instanceof pt?(V=y.getSouthWest(),it=y.getNorthEast()):V=it=y,V.lat>=bt.lat&&it.lat<=Bt.lat&&V.lng>=bt.lng&&it.lng<=Bt.lng},intersects:function(pe){pe=ot(pe);var V=this._southWest,it=this._northEast,bt=pe.getSouthWest(),Bt=(pe=pe.getNorthEast()).lat>=V.lat&&bt.lat<=it.lat;return pe=pe.lng>=V.lng&&bt.lng<=it.lng,Bt&&pe},overlaps:function(pe){pe=ot(pe);var V=this._southWest,it=this._northEast,bt=pe.getSouthWest(),Bt=(pe=pe.getNorthEast()).lat>V.lat&&bt.lat<it.lat;return pe=pe.lng>V.lng&&bt.lng<it.lng,Bt&&pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(y,V){return!!y&&(y=ot(y),this._southWest.equals(y.getSouthWest(),V)&&this._northEast.equals(y.getNorthEast(),V))},isValid:function(){return!(!this._southWest||!this._northEast)}};var gt={latLngToPoint:function(y,V){return y=this.projection.project(y),V=this.scale(V),this.transformation._transform(y,V)},pointToLatLng:function(y,V){return V=this.scale(V),y=this.transformation.untransform(y,V),this.projection.unproject(y)},project:function(y){return this.projection.project(y)},unproject:function(y){return this.projection.unproject(y)},scale:function(y){return 256*Math.pow(2,y)},zoom:function(y){return Math.log(y/256)/Math.LN2},getProjectedBounds:function(y){var V;return this.infinite?null:(V=this.projection.bounds,y=this.scale(y),new X(this.transformation.transform(V.min,y),this.transformation.transform(V.max,y)))},infinite:!(W.prototype={equals:function(y,V){return!!y&&(y=K(y),Math.max(Math.abs(this.lat-y.lat),Math.abs(this.lng-y.lng))<=(void 0===V?1e-9:V))},toString:function(y){return"LatLng("+z(this.lat,y)+", "+z(this.lng,y)+")"},distanceTo:function(y){return yt.distance(this,K(y))},wrap:function(){return yt.wrapLatLng(this)},toBounds:function(V){var it=(V=180*V/40075017)/Math.cos(Math.PI/180*this.lat);return ot([this.lat-V,this.lng-it],[this.lat+V,this.lng+it])},clone:function(){return new W(this.lat,this.lng,this.alt)}}),wrapLatLng:function(y){var V=this.wrapLng?G(y.lng,this.wrapLng,!0):y.lng;return new W(this.wrapLat?G(y.lat,this.wrapLat,!0):y.lat,V,y.alt)},wrapLatLngBounds:function(y){var bt=y.getCenter(),V=this.wrapLatLng(bt),it=bt.lat-V.lat;return bt=bt.lng-V.lng,0==it&&0==bt?y:(V=y.getSouthWest(),y=y.getNorthEast(),new pt(new W(V.lat-it,V.lng-bt),new W(y.lat-it,y.lng-bt)))}},yt=e({},gt,{wrapLng:[-180,180],R:6371e3,distance:function(qe,pe){var He=Math.PI/180,it=qe.lat*He,bt=pe.lat*He,Bt=Math.sin((pe.lat-qe.lat)*He/2);return pe=Math.sin((pe.lng-qe.lng)*He/2),qe=Bt*Bt+Math.cos(it)*Math.cos(bt)*pe*pe,He=2*Math.atan2(Math.sqrt(qe),Math.sqrt(1-qe)),this.R*He}}),_t={R:_t=6378137,MAX_LATITUDE:85.0511287798,project:function(y){var V=Math.PI/180,it=this.MAX_LATITUDE;return it=Math.max(Math.min(it,y.lat),-it),it=Math.sin(it*V),new o(this.R*y.lng*V,this.R*Math.log((1+it)/(1-it))/2)},unproject:function(y){var V=180/Math.PI;return new W((2*Math.atan(Math.exp(y.y/this.R))-Math.PI/2)*V,y.x*V/this.R)},bounds:new X([-(_t*=Math.PI),-_t],[_t,_t])};function rt(y,V,it,bt){_(y)?(this._a=y[0],this._b=y[1],this._c=y[2],this._d=y[3]):(this._a=y,this._b=V,this._c=it,this._d=bt)}function ut(y,V,it,bt){return new rt(y,V,it,bt)}rt.prototype={transform:function(y,V){return this._transform(y.clone(),V)},_transform:function(y,V){return y.x=(V=V||1)*(this._a*y.x+this._b),y.y=V*(this._c*y.y+this._d),y},untransform:function(y,V){return new o((y.x/(V=V||1)-this._b)/this._a,(y.y/V-this._d)/this._c)}};var at=e({},yt,{code:"EPSG:3857",projection:_t,transformation:ut(at=.5/(Math.PI*_t.R),.5,-at,.5)}),Ct=e({},at,{code:"EPSG:900913"});function vt(y){return document.createElementNS("http://www.w3.org/2000/svg",y)}function ct(y,V){for(var it,bt,Bt,pe,qe="",He=0,Bi=y.length;He<Bi;He++){for(it=0,bt=(Bt=y[He]).length;it<bt;it++)qe+=(it?"L":"M")+(pe=Bt[it]).x+" "+pe.y;qe+=V?te.svg?"z":"x":""}return qe||"M0 0"}var Go=document.documentElement.style,Tt="ActiveXObject"in window,In=Tt&&!document.addEventListener,Rr="msLaunchUri"in navigator&&!("documentMode"in document),kr=ce("webkit"),kt=ce("android"),cs=ce("android 2")||ce("android 3"),qo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Eo=(qo=kt&&ce("Google")&&qo<537&&!("AudioNode"in window),!!window.opera),ps=!Rr&&ce("chrome"),Ft=ce("gecko")&&!kr&&!Eo&&!Tt,es=!ps&&ce("safari"),$=ce("phantom"),mt="OTransition"in Go,Ot=0===navigator.platform.indexOf("Win"),Ne=Tt&&"transition"in Go,Vr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!cs,is=(Go="MozPerspective"in Go,!window.L_DISABLE_3D&&(Ne||Vr||Go)&&!mt&&!$),oa=(ks=typeof orientation<"u"||ce("mobile"))&&kr,Ns=ks&&Vr,gs=!window.PointerEvent&&window.MSPointerEvent,ns=!(!window.PointerEvent&&!gs),jt="ontouchstart"in window||!!window.TouchEvent,$t=!window.L_NO_TOUCH&&(jt||ns),Wt=ks&&Eo,ne=ks&&Ft,Jt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Nt=function(){var y=!1;try{var V=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("testPassiveEventSupport",Y,V),window.removeEventListener("testPassiveEventSupport",Y,V)}catch{}return y}(),Rt=!!document.createElement("canvas").getContext,ie=!(!document.createElementNS||!vt("svg").createSVGRect),se=!!ie&&((se=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(se.firstChild&&se.firstChild.namespaceURI));function ce(y){return 0<=navigator.userAgent.toLowerCase().indexOf(y)}var te={ie:Tt,ielt9:In,edge:Rr,webkit:kr,android:kt,android23:cs,androidStock:qo,opera:Eo,chrome:ps,gecko:Ft,safari:es,phantom:$,opera12:mt,win:Ot,ie3d:Ne,webkit3d:Vr,gecko3d:Go,any3d:is,mobile:ks,mobileWebkit:oa,mobileWebkit3d:Ns,msPointer:gs,pointer:ns,touch:$t,touchNative:jt,mobileOpera:Wt,mobileGecko:ne,retina:Jt,passiveEvents:Nt,canvas:Rt,svg:ie,vml:!ie&&function(){try{var y=document.createElement("div"),V=(y.innerHTML='<v:shape adj="1"/>',y.firstChild);return V.style.behavior="url(#default#VML)",V&&"object"==typeof V.adj}catch{return!1}}(),inlineSvg:se,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ie=te.msPointer?"MSPointerDown":"pointerdown",Ve=te.msPointer?"MSPointerMove":"pointermove",Ai=te.msPointer?"MSPointerUp":"pointerup",gi=te.msPointer?"MSPointerCancel":"pointercancel",pi={touchstart:Ie,touchmove:Ve,touchend:Ai,touchcancel:gi},Ri={touchstart:function(y,V){V.MSPOINTER_TYPE_TOUCH&&V.pointerType===V.MSPOINTER_TYPE_TOUCH&&yn(V),St(y,V)},touchmove:St,touchend:St,touchcancel:St},ti={},Ti=!1;function be(y){ti[y.pointerId]=y}function ii(y){ti[y.pointerId]&&(ti[y.pointerId]=y)}function nt(y){delete ti[y.pointerId]}function St(y,V){if(V.pointerType!==(V.MSPOINTER_TYPE_MOUSE||"mouse")){for(var it in V.touches=[],ti)V.touches.push(ti[it]);V.changedTouches=[V],y(V)}}var ge,Ae,yi,Fi,Li,qi,cn=xt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fn=xt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Gn="webkitTransition"===Fn||"OTransition"===Fn?Fn+"End":"transitionend";function Yi(y){return"string"==typeof y?document.getElementById(y):y}function ei(y,V){var it=y.style[V]||y.currentStyle&&y.currentStyle[V];return"auto"===(it=it&&"auto"!==it||!document.defaultView?it:(y=document.defaultView.getComputedStyle(y,null))?y[V]:null)?null:it}function ai(y,V,it){return(y=document.createElement(y)).className=V||"",it&&it.appendChild(y),y}function li(y){var V=y.parentNode;V&&V.removeChild(y)}function Xi(y){for(;y.firstChild;)y.removeChild(y.firstChild)}function tn(y){var V=y.parentNode;V&&V.lastChild!==y&&V.appendChild(y)}function Zi(y){var V=y.parentNode;V&&V.firstChild!==y&&V.insertBefore(y,V.firstChild)}function _n(y,V){return void 0!==y.classList?y.classList.contains(V):0<(y=Q(y)).length&&new RegExp("(^|\\s)"+V+"(\\s|$)").test(y)}function ji(y,V){var it;if(void 0!==y.classList)for(var bt=N(V),Bt=0,pe=bt.length;Bt<pe;Bt++)y.classList.add(bt[Bt]);else _n(y,V)||Z(y,((it=Q(y))?it+" ":"")+V)}function We(y,V){void 0!==y.classList?y.classList.remove(V):Z(y,F((" "+Q(y)+" ").replace(" "+V+" "," ")))}function Z(y,V){void 0===y.className.baseVal?y.className=V:y.className.baseVal=V}function Q(y){return void 0===(y=y.correspondingElement?y.correspondingElement:y).className.baseVal?y.className:y.className.baseVal}function ht(y,V){if("opacity"in y.style)y.style.opacity=V;else if("filter"in y.style){var it=!1,bt="DXImageTransform.Microsoft.Alpha";try{it=y.filters.item(bt)}catch{if(1===V)return}V=Math.round(100*V),it?(it.Enabled=100!==V,it.Opacity=V):y.style.filter+=" progid:"+bt+"(opacity="+V+")"}}function xt(y){for(var V=document.documentElement.style,it=0;it<y.length;it++)if(y[it]in V)return y[it];return!1}function Lt(y,V,it){V=V||new o(0,0),y.style[cn]=(te.ie3d?"translate("+V.x+"px,"+V.y+"px)":"translate3d("+V.x+"px,"+V.y+"px,0)")+(it?" scale("+it+")":"")}function Ut(y,V){y._leaflet_pos=V,te.any3d?Lt(y,V):(y.style.left=V.x+"px",y.style.top=V.y+"px")}function re(y){return y._leaflet_pos||new o(0,0)}function Xt(){Ye(window,"dragstart",yn)}function oe(){di(window,"dragstart",yn)}function Le(y){for(;-1===y.tabIndex;)y=y.parentNode;y.style&&(Oe(),qi=(Li=y).style.outline,y.style.outline="none",Ye(window,"keydown",Oe))}function Oe(){Li&&(Li.style.outline=qi,qi=Li=void 0,di(window,"keydown",Oe))}function Qe(y){for(;!((y=y.parentNode).offsetWidth&&y.offsetHeight||y===document.body););return y}function ue(y){var V=y.getBoundingClientRect();return{x:V.width/y.offsetWidth||1,y:V.height/y.offsetHeight||1,boundingClientRect:V}}function Ye(y,V,it,bt){if(V&&"object"==typeof V)for(var Bt in V)ki(y,Bt,V[Bt],it);else for(var pe=0,qe=(V=N(V)).length;pe<qe;pe++)ki(y,V[pe],it,bt);return this}Fi="onselectstart"in document?(yi=function(){Ye(window,"selectstart",yn)},function(){di(window,"selectstart",yn)}):(Ae=xt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),yi=function(){var y;Ae&&(y=document.documentElement.style,ge=y[Ae],y[Ae]="none")},function(){Ae&&(document.documentElement.style[Ae]=ge,ge=void 0)}),Tt={__proto__:null,TRANSFORM:cn,TRANSITION:Fn,TRANSITION_END:Gn,get:Yi,getStyle:ei,create:ai,remove:li,empty:Xi,toFront:tn,toBack:Zi,hasClass:_n,addClass:ji,removeClass:We,setClass:Z,getClass:Q,setOpacity:ht,testProp:xt,setTransform:Lt,setPosition:Ut,getPosition:re,get disableTextSelection(){return yi},get enableTextSelection(){return Fi},disableImageDrag:Xt,enableImageDrag:oe,preventOutline:Le,restoreOutline:Oe,getSizedParentNode:Qe,getScale:ue};var De="_leaflet_events";function di(y,V,it,bt){if(1===arguments.length)Xe(y),delete y[De];else if(V&&"object"==typeof V)for(var Bt in V)oi(y,Bt,V[Bt],it);else if(V=N(V),2===arguments.length)Xe(y,function(He){return-1!==w(V,He)});else for(var pe=0,qe=V.length;pe<qe;pe++)oi(y,V[pe],it,bt);return this}function Xe(y,V){for(var it in y[De]){var bt=it.split(/\d/)[0];V&&!V(bt)||oi(y,bt,null,null,it)}}var Oi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ki(y,V,it,bt){var Bt,pe,qe=V+M(it)+(bt?"_"+M(bt):"");y[De]&&y[De][qe]||(pe=Bt=function(He){return it.call(bt||y,He||window.event)},!te.touchNative&&te.pointer&&0===V.indexOf("touch")?Bt=function xi(y,V,it){return"touchstart"!==V||Ti||(document.addEventListener(Ie,be,!0),document.addEventListener(Ve,ii,!0),document.addEventListener(Ai,nt,!0),document.addEventListener(gi,nt,!0),Ti=!0),Ri[V]?(it=Ri[V].bind(this,it),y.addEventListener(pi[V],it,!1),it):(console.warn("wrong event specified:",V),Y)}(y,V,Bt):te.touch&&"dblclick"===V?Bt=function ee(y,V){y.addEventListener("dblclick",V);var it,bt=0;function Bt(pe){var qe;1!==pe.detail?it=pe.detail:"mouse"===pe.pointerType||pe.sourceCapabilities&&!pe.sourceCapabilities.firesTouchEvents||(qe=En(pe)).some(function(He){return He instanceof HTMLLabelElement&&He.attributes.for})&&!qe.some(function(He){return He instanceof HTMLInputElement||He instanceof HTMLSelectElement})||((qe=Date.now())-bt<=200?2==++it&&V(function(He){var Bi,Di,Dn={};for(Di in He)Dn[Di]=(Bi=He[Di])&&Bi.bind?Bi.bind(He):Bi;return(He=Dn).type="dblclick",Dn.detail=2,Dn.isTrusted=!1,Dn._simulated=!0,Dn}(pe)):it=1,bt=qe)}return y.addEventListener("click",Bt),{dblclick:V,simDblclick:Bt}}(y,Bt):"addEventListener"in y?"touchstart"===V||"touchmove"===V||"wheel"===V||"mousewheel"===V?y.addEventListener(Oi[V]||V,Bt,!!te.passiveEvents&&{passive:!1}):"mouseenter"===V||"mouseleave"===V?y.addEventListener(Oi[V],Bt=function(He){He=He||window.event,Yn(y,He)&&pe(He)},!1):y.addEventListener(V,pe,!1):y.attachEvent("on"+V,Bt),y[De]=y[De]||{},y[De][qe]=Bt)}function oi(y,V,He,bt,Bt){var pe,qe;Bt=Bt||V+M(He)+(bt?"_"+M(bt):""),(He=y[De]&&y[De][Bt])&&(!te.touchNative&&te.pointer&&0===V.indexOf("touch")?(bt=y,qe=He,pi[pe=V]?bt.removeEventListener(pi[pe],qe,!1):console.warn("wrong event specified:",pe)):te.touch&&"dblclick"===V?((qe=y).removeEventListener("dblclick",(bt=He).dblclick),qe.removeEventListener("click",bt.simDblclick)):"removeEventListener"in y?y.removeEventListener(Oi[V]||V,He,!1):y.detachEvent("on"+V,He),y[De][Bt]=null)}function an(y){return y.stopPropagation?y.stopPropagation():y.originalEvent?y.originalEvent._stopped=!0:y.cancelBubble=!0,this}function Ii(y){return ki(y,"wheel",an),this}function Pn(y){return Ye(y,"mousedown touchstart dblclick contextmenu",an),y._leaflet_disable_click=!0,this}function yn(y){return y.preventDefault?y.preventDefault():y.returnValue=!1,this}function bn(y){return yn(y),an(y),this}function En(y){if(y.composedPath)return y.composedPath();for(var V=[],it=y.target;it;)V.push(it),it=it.parentNode;return V}function kn(y,V){var it,bt;return V?(bt=(it=ue(V)).boundingClientRect,new o((y.clientX-bt.left)/it.x-V.clientLeft,(y.clientY-bt.top)/it.y-V.clientTop)):new o(y.clientX,y.clientY)}var Qn=te.linux&&te.chrome?window.devicePixelRatio:te.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function wn(y){return te.edge?y.wheelDeltaY/2:y.deltaY&&0===y.deltaMode?-y.deltaY/Qn:y.deltaY&&1===y.deltaMode?20*-y.deltaY:y.deltaY&&2===y.deltaMode?60*-y.deltaY:y.deltaX||y.deltaZ?0:y.wheelDelta?(y.wheelDeltaY||y.wheelDelta)/2:y.detail&&Math.abs(y.detail)<32765?20*-y.detail:y.detail?y.detail/-32765*60:0}function Yn(y,V){var it=V.relatedTarget;if(!it)return!0;try{for(;it&&it!==y;)it=it.parentNode}catch{return!1}return it!==y}In={__proto__:null,on:Ye,off:di,stopPropagation:an,disableScrollPropagation:Ii,disableClickPropagation:Pn,preventDefault:yn,stop:bn,getPropagationPath:En,getMousePosition:kn,getWheelDelta:wn,isExternalTarget:Yn,addListener:Ye,removeListener:di};var An=f.extend({run:function(y,V,it,bt){this.stop(),this._el=y,this._inProgress=!0,this._duration=it||.25,this._easeOutPower=1/Math.max(bt||.5,.2),this._startPos=re(y),this._offset=V.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(y){var V=+new Date-this._startTime,it=1e3*this._duration;V<it?this._runFrame(this._easeOut(V/it),y):(this._runFrame(1),this._complete())},_runFrame:function(y,V){y=this._startPos.add(this._offset.multiplyBy(y)),V&&y._round(),Ut(this._el,y),this.fire("step")},_complete:function(){m(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(y){return 1-Math.pow(1-y,this._easeOutPower)}}),zi=f.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(y,V){V=a(this,V),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(y),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),V.maxBounds&&this.setMaxBounds(V.maxBounds),void 0!==V.zoom&&(this._zoom=this._limitZoom(V.zoom)),V.center&&void 0!==V.zoom&&this.setView(K(V.center),V.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fn&&te.any3d&&!te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ye(this._proxy,Gn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(y,V,it){return V=void 0===V?this._zoom:this._limitZoom(V),y=this._limitCenter(K(y),V,this.options.maxBounds),it=it||{},this._stop(),this._loaded&&!it.reset&&!0!==it&&(void 0!==it.animate&&(it.zoom=e({animate:it.animate},it.zoom),it.pan=e({animate:it.animate,duration:it.duration},it.pan)),this._zoom!==V?this._tryAnimatedZoom&&this._tryAnimatedZoom(y,V,it.zoom):this._tryAnimatedPan(y,it.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(y,V,it.pan&&it.pan.noMoveStart),this)},setZoom:function(y,V){return this._loaded?this.setView(this.getCenter(),y,{zoom:V}):(this._zoom=y,this)},zoomIn:function(y,V){return this.setZoom(this._zoom+(y=y||(te.any3d?this.options.zoomDelta:1)),V)},zoomOut:function(y,V){return this.setZoom(this._zoom-(y=y||(te.any3d?this.options.zoomDelta:1)),V)},setZoomAround:function(Bt,V,it){var pe=this.getZoomScale(V),bt=this.getSize().divideBy(2);return Bt=(Bt instanceof o?Bt:this.latLngToContainerPoint(Bt)).subtract(bt).multiplyBy(1-1/pe),pe=this.containerPointToLatLng(bt.add(Bt)),this.setView(pe,V,{zoom:it})},_getBoundsCenterZoom:function(y,V){V=V||{},y=y.getBounds?y.getBounds():ot(y);var it=U(V.paddingTopLeft||V.padding||[0,0]),bt=U(V.paddingBottomRight||V.padding||[0,0]),Bt=this.getBoundsZoom(y,!1,it.add(bt));return(Bt="number"==typeof V.maxZoom?Math.min(V.maxZoom,Bt):Bt)===1/0?{center:y.getCenter(),zoom:Bt}:(V=bt.subtract(it).divideBy(2),bt=this.project(y.getSouthWest(),Bt),it=this.project(y.getNorthEast(),Bt),{center:this.unproject(bt.add(it).divideBy(2).add(V),Bt),zoom:Bt})},fitBounds:function(y,V){if((y=ot(y)).isValid())return y=this._getBoundsCenterZoom(y,V),this.setView(y.center,y.zoom,V);throw new Error("Bounds are not valid.")},fitWorld:function(y){return this.fitBounds([[-90,-180],[90,180]],y)},panTo:function(y,V){return this.setView(y,this._zoom,{pan:V})},panBy:function(y,V){var it;return V=V||{},(y=U(y).round()).x||y.y?(!0===V.animate||this.getSize().contains(y)?(this._panAnim||(this._panAnim=new An,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),V.noMoveStart||this.fire("movestart"),!1!==V.animate?(ji(this._mapPane,"leaflet-pan-anim"),it=this._getMapPanePos().subtract(y).round(),this._panAnim.run(this._mapPane,it,V.duration||.25,V.easeLinearity)):(this._rawPanBy(y),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(y)),this.getZoom()),this):this.fire("moveend")},flyTo:function(y,V,it){if(!1===(it=it||{}).animate||!te.any3d)return this.setView(y,V,it);this._stop();var bt=this.project(this.getCenter()),Bt=this.project(y),pe=this.getSize(),qe=this._zoom,He=(y=K(y),V=void 0===V?qe:V,Math.max(pe.x,pe.y)),Bi=He*this.getZoomScale(qe,V),Di=Bt.distanceTo(bt)||1,Dn=1.42,rr=Dn*Dn;function Tr(oo){return oo=(Bi*Bi-He*He+(oo?-1:1)*rr*rr*Di*Di)/(2*(oo?Bi:He)*rr*Di),(oo=Math.sqrt(oo*oo+1)-oo)<1e-9?-18:Math.log(oo)}function ho(oo){return(Math.exp(oo)-Math.exp(-oo))/2}function ys(oo){return(Math.exp(oo)+Math.exp(-oo))/2}var zo=Tr(0),Rs=Date.now(),Fo=(Tr(1)-zo)/Dn,Ws=it.duration?1e3*it.duration:1e3*Fo*.8;return this._moveStart(!0,it.noMoveStart),function oo(){var ds=(Date.now()-Rs)/Ws,Ss=(1-Math.pow(1-ds,1.5))*Fo;ds<=1?(this._flyToFrame=E(oo,this),this._move(this.unproject(bt.add(Bt.subtract(bt).multiplyBy(function To(oo){return He*(ys(zo)*(ho(oo=zo+Dn*oo)/ys(oo))-ho(zo))/rr}(Ss)/Di)),qe),this.getScaleZoom(He/(ds=Ss,He*(ys(zo)/ys(zo+Dn*ds))),qe),{flyTo:!0})):this._move(y,V)._moveEnd(!0)}.call(this),this},flyToBounds:function(y,V){return y=this._getBoundsCenterZoom(y,V),this.flyTo(y.center,y.zoom,V)},setMaxBounds:function(y){return y=ot(y),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),y.isValid()?(this.options.maxBounds=y,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(y){var V=this.options.minZoom;return this.options.minZoom=y,this._loaded&&V!==y&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(y):this},setMaxZoom:function(y){var V=this.options.maxZoom;return this.options.maxZoom=y,this._loaded&&V!==y&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(y):this},panInsideBounds:function(bt,V){this._enforcingBounds=!0;var it=this.getCenter();return bt=this._limitCenter(it,this._zoom,ot(bt)),it.equals(bt)||this.panTo(bt,V),this._enforcingBounds=!1,this},panInside:function(Bt,V){var pe=U((V=V||{}).paddingTopLeft||V.padding||[0,0]),it=U(V.paddingBottomRight||V.padding||[0,0]),bt=this.project(this.getCenter()),qe=(Bt=this.project(Bt),(pe=tt([(qe=this.getPixelBounds()).min.add(pe),qe.max.subtract(it)])).getSize());return pe.contains(Bt)||(this._enforcingBounds=!0,it=Bt.subtract(pe.getCenter()),pe=pe.extend(Bt).getSize().subtract(qe),bt.x+=it.x<0?-pe.x:pe.x,bt.y+=it.y<0?-pe.y:pe.y,this.panTo(this.unproject(bt),V),this._enforcingBounds=!1),this},invalidateSize:function(y){if(!this._loaded)return this;y=e({animate:!1,pan:!0},!0===y?{animate:!0}:y);var V=this.getSize(),it=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),Bt=V.divideBy(2).round(),bt=it.divideBy(2).round();return(Bt=Bt.subtract(bt)).x||Bt.y?(y.animate&&y.pan?this.panBy(Bt):(y.pan&&this._rawPanBy(Bt),this.fire("move"),y.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:V,newSize:it})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(y){var V,it;return y=this._locateOptions=e({timeout:1e4,watch:!1},y),"geolocation"in navigator?(V=c(this._handleGeolocationResponse,this),it=c(this._handleGeolocationError,this),y.watch?this._locationWatchId=navigator.geolocation.watchPosition(V,it,y):navigator.geolocation.getCurrentPosition(V,it,y)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(y){var V;this._container._leaflet_id&&(V=y.code,y=y.message||(1===V?"permission denied":2===V?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:V,message:"Geolocation error: "+y+"."}))},_handleGeolocationResponse:function(y){if(this._container._leaflet_id){var V,it,bt=new W(y.coords.latitude,y.coords.longitude),Bt=bt.toBounds(2*y.coords.accuracy),pe=this._locateOptions,qe=(pe.setView&&(V=this.getBoundsZoom(Bt),this.setView(bt,pe.maxZoom?Math.min(V,pe.maxZoom):V)),{latlng:bt,bounds:Bt,timestamp:y.timestamp});for(it in y.coords)"number"==typeof y.coords[it]&&(qe[it]=y.coords[it]);this.fire("locationfound",qe)}},addHandler:function(y,V){return V&&(V=this[y]=new V(this),this._handlers.push(V),this.options[y]&&V.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var y in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),li(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(m(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[y].remove();for(y in this._panes)li(this._panes[y]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(y,V){return V=ai("div","leaflet-pane"+(y?" leaflet-"+y.replace("Pane","")+"-pane":""),V||this._mapPane),y&&(this._panes[y]=V),V},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var y=this.getPixelBounds();return new pt(this.unproject(y.getBottomLeft()),this.unproject(y.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Bi,V,He){Bi=ot(Bi),He=U(He||[0,0]);var Di=this.getZoom()||0,bt=this.getMinZoom(),Bt=this.getMaxZoom(),pe=Bi.getNorthWest(),qe=(Bi=Bi.getSouthEast(),He=this.getSize().subtract(He),Bi=tt(this.project(Bi,Di),this.project(pe,Di)).getSize(),pe=te.any3d?this.options.zoomSnap:1,He.x/Bi.x);return He=He.y/Bi.y,Bi=V?Math.max(qe,He):Math.min(qe,He),Di=this.getScaleZoom(Bi,Di),pe&&(Di=Math.round(Di/(pe/100))*(pe/100),Di=V?Math.ceil(Di/pe)*pe:Math.floor(Di/pe)*pe),Math.max(bt,Math.min(Bt,Di))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new o(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(y,V){return new X(y=this._getTopLeftPoint(y,V),y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(y){return this.options.crs.getProjectedBounds(void 0===y?this.getZoom():y)},getPane:function(y){return"string"==typeof y?this._panes[y]:y},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(y,V){var it=this.options.crs;return V=void 0===V?this._zoom:V,it.scale(y)/it.scale(V)},getScaleZoom:function(bt,V){var it=this.options.crs;return bt=it.zoom(bt*it.scale(V=void 0===V?this._zoom:V)),isNaN(bt)?1/0:bt},project:function(y,V){return V=void 0===V?this._zoom:V,this.options.crs.latLngToPoint(K(y),V)},unproject:function(y,V){return V=void 0===V?this._zoom:V,this.options.crs.pointToLatLng(U(y),V)},layerPointToLatLng:function(y){return y=U(y).add(this.getPixelOrigin()),this.unproject(y)},latLngToLayerPoint:function(y){return this.project(K(y))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(y){return this.options.crs.wrapLatLng(K(y))},wrapLatLngBounds:function(y){return this.options.crs.wrapLatLngBounds(ot(y))},distance:function(y,V){return this.options.crs.distance(K(y),K(V))},containerPointToLayerPoint:function(y){return U(y).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(y){return U(y).add(this._getMapPanePos())},containerPointToLatLng:function(y){return y=this.containerPointToLayerPoint(U(y)),this.layerPointToLatLng(y)},latLngToContainerPoint:function(y){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(y)))},mouseEventToContainerPoint:function(y){return kn(y,this._container)},mouseEventToLayerPoint:function(y){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(y))},mouseEventToLatLng:function(y){return this.layerPointToLatLng(this.mouseEventToLayerPoint(y))},_initContainer:function(y){if(!(y=this._container=Yi(y)))throw new Error("Map container not found.");if(y._leaflet_id)throw new Error("Map container is already initialized.");Ye(y,"scroll",this._onScroll,this),this._containerId=M(y)},_initLayout:function(){var y=this._container,V=(this._fadeAnimated=this.options.fadeAnimation&&te.any3d,ji(y,"leaflet-container"+(te.touch?" leaflet-touch":"")+(te.retina?" leaflet-retina":"")+(te.ielt9?" leaflet-oldie":"")+(te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),ei(y,"position"));"absolute"!==V&&"relative"!==V&&"fixed"!==V&&"sticky"!==V&&(y.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var y=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new o(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ji(y.markerPane,"leaflet-zoom-hide"),ji(y.shadowPane,"leaflet-zoom-hide"))},_resetView:function(y,V,it){Ut(this._mapPane,new o(0,0));var bt=!this._loaded,Bt=(this._loaded=!0,V=this._limitZoom(V),this.fire("viewprereset"),this._zoom!==V);this._moveStart(Bt,it)._move(y,V)._moveEnd(Bt),this.fire("viewreset"),bt&&this.fire("load")},_moveStart:function(y,V){return y&&this.fire("zoomstart"),V||this.fire("movestart"),this},_move:function(y,V,it,bt){void 0===V&&(V=this._zoom);var Bt=this._zoom!==V;return this._zoom=V,this._lastCenter=y,this._pixelOrigin=this._getNewPixelOrigin(y),bt?it&&it.pinch&&this.fire("zoom",it):((Bt||it&&it.pinch)&&this.fire("zoom",it),this.fire("move",it)),this},_moveEnd:function(y){return y&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return m(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(y){Ut(this._mapPane,this._getMapPanePos().subtract(y))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(y){this._targets={};var V=y?di:Ye;V((this._targets[M(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&V(window,"resize",this._onResize,this),te.any3d&&this.options.transform3DLimit&&(y?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){m(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var y=this._getMapPanePos();Math.max(Math.abs(y.x),Math.abs(y.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(y,V){for(var it,bt=[],Bt="mouseout"===V||"mouseover"===V,pe=y.target||y.srcElement,qe=!1;pe;){if((it=this._targets[M(pe)])&&("click"===V||"preclick"===V)&&this._draggableMoved(it)){qe=!0;break}if(it&&it.listens(V,!0)&&(Bt&&!Yn(pe,y)||(bt.push(it),Bt))||pe===this._container)break;pe=pe.parentNode}return bt.length||qe||Bt||!this.listens(V,!0)?bt:[this]},_isClickDisabled:function(y){for(;y&&y!==this._container;){if(y._leaflet_disable_click)return!0;y=y.parentNode}},_handleDOMEvent:function(y){var V,it=y.target||y.srcElement;!this._loaded||it._leaflet_disable_events||"click"===y.type&&this._isClickDisabled(it)||("mousedown"===(V=y.type)&&Le(it),this._fireDOMEvent(y,V))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(y,V,it){"click"===y.type&&((He=e({},y)).type="preclick",this._fireDOMEvent(He,He.type,it));var bt=this._findEventTargets(y,V);if(it){for(var Bt=[],pe=0;pe<it.length;pe++)it[pe].listens(V,!0)&&Bt.push(it[pe]);bt=Bt.concat(bt)}if(bt.length){"contextmenu"===V&&yn(y);var qe,He=bt[0],Bi={originalEvent:y};for("keypress"!==y.type&&"keydown"!==y.type&&"keyup"!==y.type&&(Bi.containerPoint=(qe=He.getLatLng&&(!He._radius||He._radius<=10))?this.latLngToContainerPoint(He.getLatLng()):this.mouseEventToContainerPoint(y),Bi.layerPoint=this.containerPointToLayerPoint(Bi.containerPoint),Bi.latlng=qe?He.getLatLng():this.layerPointToLatLng(Bi.layerPoint)),pe=0;pe<bt.length;pe++)if(bt[pe].fire(V,Bi,!0),Bi.originalEvent._stopped||!1===bt[pe].options.bubblingMouseEvents&&-1!==w(this._mouseEvents,V))return}},_draggableMoved:function(y){return(y=y.dragging&&y.dragging.enabled()?y:this).dragging&&y.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var y=0,V=this._handlers.length;y<V;y++)this._handlers[y].disable()},whenReady:function(y,V){return this._loaded?y.call(V||this,{target:this}):this.on("load",y,V),this},_getMapPanePos:function(){return re(this._mapPane)||new o(0,0)},_moved:function(){var y=this._getMapPanePos();return y&&!y.equals([0,0])},_getTopLeftPoint:function(y,V){return(y&&void 0!==V?this._getNewPixelOrigin(y,V):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(y,V){var it=this.getSize()._divideBy(2);return this.project(y,V)._subtract(it)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(y,V,it){return it=this._getNewPixelOrigin(it,V),this.project(y,V)._subtract(it)},_latLngBoundsToNewLayerBounds:function(y,V,it){return it=this._getNewPixelOrigin(it,V),tt([this.project(y.getSouthWest(),V)._subtract(it),this.project(y.getNorthWest(),V)._subtract(it),this.project(y.getSouthEast(),V)._subtract(it),this.project(y.getNorthEast(),V)._subtract(it)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(y){return this.latLngToLayerPoint(y).subtract(this._getCenterLayerPoint())},_limitCenter:function(y,V,it){var bt,Bt;return!it||(bt=this.project(y,V),Bt=this.getSize().divideBy(2),Bt=new X(bt.subtract(Bt),bt.add(Bt)),Bt=this._getBoundsOffset(Bt,it,V),Math.abs(Bt.x)<=1&&Math.abs(Bt.y)<=1)?y:this.unproject(bt.add(Bt),V)},_limitOffset:function(y,V){var it;return V?(it=new X((it=this.getPixelBounds()).min.add(y),it.max.add(y)),y.add(this._getBoundsOffset(it,V))):y},_getBoundsOffset:function(y,V,it){return it=(V=tt(this.project(V.getNorthEast(),it),this.project(V.getSouthWest(),it))).min.subtract(y.min),V=V.max.subtract(y.max),new o(this._rebound(it.x,-V.x),this._rebound(it.y,-V.y))},_rebound:function(y,V){return 0<y+V?Math.round(y-V)/2:Math.max(0,Math.ceil(y))-Math.max(0,Math.floor(V))},_limitZoom:function(y){var V=this.getMinZoom(),it=this.getMaxZoom(),bt=te.any3d?this.options.zoomSnap:1;return bt&&(y=Math.round(y/bt)*bt),Math.max(V,Math.min(it,y))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){We(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(y,V){return y=this._getCenterOffset(y)._trunc(),!(!0!==(V&&V.animate)&&!this.getSize().contains(y)||(this.panBy(y,V),0))},_createAnimProxy:function(){var y=this._proxy=ai("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(y),this.on("zoomanim",function(V){var it=cn,bt=this._proxy.style[it];Lt(this._proxy,this.project(V.center,V.zoom),this.getZoomScale(V.zoom,1)),bt===this._proxy.style[it]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){li(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var y=this.getCenter(),V=this.getZoom();Lt(this._proxy,this.project(y,V),this.getZoomScale(V,1))},_catchTransitionEnd:function(y){this._animatingZoom&&0<=y.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(y,V,it){if(!this._animatingZoom){if(it=it||{},!this._zoomAnimated||!1===it.animate||this._nothingToAnimate()||Math.abs(V-this._zoom)>this.options.zoomAnimationThreshold)return!1;var bt=this.getZoomScale(V);if(bt=this._getCenterOffset(y)._divideBy(1-1/bt),!0!==it.animate&&!this.getSize().contains(bt))return!1;E(function(){this._moveStart(!0,!1)._animateZoom(y,V,!0)},this)}return!0},_animateZoom:function(y,V,it,bt){this._mapPane&&(it&&(this._animatingZoom=!0,this._animateToCenter=y,this._animateToZoom=V,ji(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:y,zoom:V,noUpdate:bt}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&We(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xn(y){return new qn(y)}var Lr,qn=A.extend({options:{position:"topright"},initialize:function(y){a(this,y)},getPosition:function(){return this.options.position},setPosition:function(y){var V=this._map;return V&&V.removeControl(this),this.options.position=y,V&&V.addControl(this),this},getContainer:function(){return this._container},addTo:function(bt){this.remove(),this._map=bt;var V=this._container=this.onAdd(bt),it=this.getPosition();return bt=bt._controlCorners[it],ji(V,"leaflet-control"),-1!==it.indexOf("bottom")?bt.insertBefore(V,bt.firstChild):bt.appendChild(V),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(li(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(y){this._map&&y&&0<y.screenX&&0<y.screenY&&this._map.getContainer().focus()}}),lr=(zi.include({addControl:function(y){return y.addTo(this),this},removeControl:function(y){return y.remove(),this},_initControlPos:function(){var y=this._controlCorners={},V="leaflet-",it=this._controlContainer=ai("div",V+"control-container",this._container);function bt(Bt,pe){y[Bt+pe]=ai("div",V+Bt+" "+V+pe,it)}bt("top","left"),bt("top","right"),bt("bottom","left"),bt("bottom","right")},_clearControlPos:function(){for(var y in this._controlCorners)li(this._controlCorners[y]);li(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(y,V,it,bt){return it<bt?-1:bt<it?1:0}},initialize:function(y,V,it){for(var bt in a(this,it),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,y)this._addLayer(y[bt],bt);for(bt in V)this._addLayer(V[bt],bt,!0)},onAdd:function(y){this._initLayout(),this._update(),(this._map=y).on("zoomend",this._checkDisabledLayers,this);for(var V=0;V<this._layers.length;V++)this._layers[V].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(y){return qn.prototype.addTo.call(this,y),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(y,V){return this._addLayer(y,V),this._map?this._update():this},addOverlay:function(y,V){return this._addLayer(y,V,!0),this._map?this._update():this},removeLayer:function(y){return y.off("add remove",this._onLayerChange,this),(y=this._getLayer(M(y)))&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){ji(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var y=this._map.getSize().y-(this._container.offsetTop+50);return y<this._section.clientHeight?(ji(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=y+"px"):We(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return We(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var y="leaflet-control-layers",V=this._container=ai("div",y),it=this.options.collapsed,bt=(V.setAttribute("aria-haspopup",!0),Pn(V),Ii(V),this._section=ai("section",y+"-list")),Bt=(it&&(this._map.on("click",this.collapse,this),Ye(V,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=ai("a",y+"-toggle",V));Bt.href="#",Bt.title="Layers",Bt.setAttribute("role","button"),Ye(Bt,{keydown:function(pe){13===pe.keyCode&&this._expandSafely()},click:function(pe){yn(pe),this._expandSafely()}},this),it||this.expand(),this._baseLayersList=ai("div",y+"-base",bt),this._separator=ai("div",y+"-separator",bt),this._overlaysList=ai("div",y+"-overlays",bt),V.appendChild(bt)},_getLayer:function(y){for(var V=0;V<this._layers.length;V++)if(this._layers[V]&&M(this._layers[V].layer)===y)return this._layers[V]},_addLayer:function(y,V,it){this._map&&y.on("add remove",this._onLayerChange,this),this._layers.push({layer:y,name:V,overlay:it}),this.options.sortLayers&&this._layers.sort(c(function(bt,Bt){return this.options.sortFunction(bt.layer,Bt.layer,bt.name,Bt.name)},this)),this.options.autoZIndex&&y.setZIndex&&(this._lastZIndex++,y.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){Xi(this._baseLayersList),Xi(this._overlaysList),this._layerControlInputs=[];for(var y,V,it,bt=0,Bt=0;Bt<this._layers.length;Bt++)this._addItem(it=this._layers[Bt]),V=V||it.overlay,y=y||!it.overlay,bt+=it.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(y=y&&1<bt)?"":"none"),this._separator.style.display=V&&y?"":"none"}return this},_onLayerChange:function(it){this._handlingClick||this._update();var V=this._getLayer(M(it.target));(it=V.overlay?"add"===it.type?"overlayadd":"overlayremove":"add"===it.type?"baselayerchange":null)&&this._map.fire(it,V)},_createRadioElement:function(y,V){return y='<input type="radio" class="leaflet-control-layers-selector" name="'+y+'"'+(V?' checked="checked"':"")+"/>",(V=document.createElement("div")).innerHTML=y,V.firstChild},_addItem:function(y){var V,it=document.createElement("label"),bt=this._map.hasLayer(y.layer),Bt=((y.overlay?((V=document.createElement("input")).type="checkbox",V.className="leaflet-control-layers-selector",V.defaultChecked=bt):V=this._createRadioElement("leaflet-base-layers_"+M(this),bt),this._layerControlInputs.push(V),V.layerId=M(y.layer),Ye(V,"click",this._onInputClick,this),bt=document.createElement("span")).innerHTML=" "+y.name,document.createElement("span"));return it.appendChild(Bt),Bt.appendChild(V),Bt.appendChild(bt),(y.overlay?this._overlaysList:this._baseLayersList).appendChild(it),this._checkDisabledLayers(),it},_onInputClick:function(){var y,V,it=this._layerControlInputs,bt=[],Bt=[];this._handlingClick=!0;for(var pe=it.length-1;0<=pe;pe--)V=this._getLayer((y=it[pe]).layerId).layer,y.checked?bt.push(V):y.checked||Bt.push(V);for(pe=0;pe<Bt.length;pe++)this._map.hasLayer(Bt[pe])&&this._map.removeLayer(Bt[pe]);for(pe=0;pe<bt.length;pe++)this._map.hasLayer(bt[pe])||this._map.addLayer(bt[pe]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var y,V,it=this._layerControlInputs,bt=this._map.getZoom(),Bt=it.length-1;0<=Bt;Bt--)V=this._getLayer((y=it[Bt]).layerId).layer,y.disabled=void 0!==V.options.minZoom&&bt<V.options.minZoom||void 0!==V.options.maxZoom&&bt>V.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var y=this._section;Ye(y,"click",yn),this.expand(),setTimeout(function(){di(y,"click",yn)})}})),Xr=qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(y){var V="leaflet-control-zoom",it=ai("div",V+" leaflet-bar"),bt=this.options;return this._zoomInButton=this._createButton(bt.zoomInText,bt.zoomInTitle,V+"-in",it,this._zoomIn),this._zoomOutButton=this._createButton(bt.zoomOutText,bt.zoomOutTitle,V+"-out",it,this._zoomOut),this._updateDisabled(),y.on("zoomend zoomlevelschange",this._updateDisabled,this),it},onRemove:function(y){y.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(y){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(y.shiftKey?3:1))},_zoomOut:function(y){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(y.shiftKey?3:1))},_createButton:function(y,V,it,bt,Bt){return(it=ai("a",it,bt)).innerHTML=y,it.href="#",it.title=V,it.setAttribute("role","button"),it.setAttribute("aria-label",V),Pn(it),Ye(it,"click",bn),Ye(it,"click",Bt,this),Ye(it,"click",this._refocusOnMap,this),it},_updateDisabled:function(){var y=this._map,V="leaflet-disabled";We(this._zoomInButton,V),We(this._zoomOutButton,V),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&y._zoom!==y.getMinZoom()||(ji(this._zoomOutButton,V),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&y._zoom!==y.getMaxZoom()||(ji(this._zoomInButton,V),this._zoomInButton.setAttribute("aria-disabled","true"))}}),Kr=(zi.mergeOptions({zoomControl:!0}),zi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xr,this.addControl(this.zoomControl))}),qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(y){var V="leaflet-control-scale",it=ai("div",V),bt=this.options;return this._addScales(bt,V+"-line",it),y.on(bt.updateWhenIdle?"moveend":"move",this._update,this),y.whenReady(this._update,this),it},onRemove:function(y){y.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(y,V,it){y.metric&&(this._mScale=ai("div",V,it)),y.imperial&&(this._iScale=ai("div",V,it))},_update:function(){var y=(V=this._map).getSize().y/2,V=V.distance(V.containerPointToLatLng([0,y]),V.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(V)},_updateScales:function(y){this.options.metric&&y&&this._updateMetric(y),this.options.imperial&&y&&this._updateImperial(y)},_updateMetric:function(y){var V=this._getRoundNum(y);this._updateScale(this._mScale,V<1e3?V+" m":V/1e3+" km",V/y)},_updateImperial:function(bt){var V,it;5280<(bt*=3.2808399)?(it=this._getRoundNum(V=bt/5280),this._updateScale(this._iScale,it+" mi",it/V)):(it=this._getRoundNum(bt),this._updateScale(this._iScale,it+" ft",it/bt))},_updateScale:function(y,V,it){y.style.width=Math.round(this.options.maxWidth*it)+"px",y.innerHTML=V},_getRoundNum:function(it){var V=Math.pow(10,(Math.floor(it)+"").length-1);return V*(10<=(it/=V)?10:5<=it?5:3<=it?3:2<=it?2:1)}})),nr=qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(te.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(y){a(this,y),this._attributions={}},onAdd:function(y){for(var V in(y.attributionControl=this)._container=ai("div","leaflet-control-attribution"),Pn(this._container),y._layers)y._layers[V].getAttribution&&this.addAttribution(y._layers[V].getAttribution());return this._update(),y.on("layeradd",this._addAttribution,this),this._container},onRemove:function(y){y.off("layeradd",this._addAttribution,this)},_addAttribution:function(y){y.layer.getAttribution&&(this.addAttribution(y.layer.getAttribution()),y.layer.once("remove",function(){this.removeAttribution(y.layer.getAttribution())},this))},setPrefix:function(y){return this.options.prefix=y,this._update(),this},addAttribution:function(y){return y&&(this._attributions[y]||(this._attributions[y]=0),this._attributions[y]++,this._update()),this},removeAttribution:function(y){return y&&this._attributions[y]&&(this._attributions[y]--,this._update()),this},_update:function(){if(this._map){var y,V=[];for(y in this._attributions)this._attributions[y]&&V.push(y);var it=[];this.options.prefix&&it.push(this.options.prefix),V.length&&it.push(V.join(", ")),this._container.innerHTML=it.join(' <span aria-hidden="true">|</span> ')}}}),Ur=((zi.mergeOptions({attributionControl:!0}),zi.addInitHook(function(){this.options.attributionControl&&(new nr).addTo(this)}),qn.Layers=lr,qn.Zoom=Xr,qn.Scale=Kr,qn.Attribution=nr,Xn.layers=function(y,V,it){return new lr(y,V,it)},Xn.zoom=function(y){return new Xr(y)},Xn.scale=function(y){return new Kr(y)},Xn.attribution=function(y){return new nr(y)},Rr=A.extend({initialize:function(y){this._map=y},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(y,V){return y.addHandler(V,this),this},kr={Events:k},te.touch?"touchstart mousedown":"mousedown"),Br=f.extend({options:{clickTolerance:3},initialize:function(y,V,it,bt){a(this,bt),this._element=y,this._dragStartTarget=V||y,this._preventOutline=it},enable:function(){this._enabled||(Ye(this._dragStartTarget,Ur,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Br._dragging===this&&this.finishDrag(!0),di(this._dragStartTarget,Ur,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(y){var V,it;this._enabled&&(this._moved=!1,_n(this._element,"leaflet-zoom-anim")||(y.touches&&1!==y.touches.length?Br._dragging===this&&this.finishDrag():Br._dragging||y.shiftKey||1!==y.which&&1!==y.button&&!y.touches||((Br._dragging=this)._preventOutline&&Le(this._element),Xt(),yi(),this._moving||(this.fire("down"),it=y.touches?y.touches[0]:y,V=Qe(this._element),this._startPoint=new o(it.clientX,it.clientY),this._startPos=re(this._element),this._parentScale=ue(V),it="mousedown"===y.type,Ye(document,it?"mousemove":"touchmove",this._onMove,this),Ye(document,it?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(y){var V;this._enabled&&(y.touches&&1<y.touches.length?this._moved=!0:!(V=new o((V=y.touches&&1===y.touches.length?y.touches[0]:y).clientX,V.clientY)._subtract(this._startPoint)).x&&!V.y||Math.abs(V.x)+Math.abs(V.y)<this.options.clickTolerance||(V.x/=this._parentScale.x,V.y/=this._parentScale.y,yn(y),this._moved||(this.fire("dragstart"),this._moved=!0,ji(document.body,"leaflet-dragging"),this._lastTarget=y.target||y.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ji(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(V),this._moving=!0,this._lastEvent=y,this._updatePosition()))},_updatePosition:function(){var y={originalEvent:this._lastEvent};this.fire("predrag",y),Ut(this._element,this._newPos),this.fire("drag",y)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(y){We(document.body,"leaflet-dragging"),this._lastTarget&&(We(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),di(document,"mousemove touchmove",this._onMove,this),di(document,"mouseup touchend touchcancel",this._onUp,this),oe(),Fi(),this._moved&&this._moving&&this.fire("dragend",{noInertia:y,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Br._dragging=!1}});function wr(y,V){if(V&&y.length){var it=y=function(He,Bi){for(var Di=[He[0]],Dn=1,rr=0,Tr=He.length;Dn<Tr;Dn++)void 0,(zo=(To=He[rr]).x-(ho=He[Dn]).x)*zo+(To=To.y-ho.y)*To>Bi&&(Di.push(He[Dn]),rr=Dn);var ho,To,zo;return rr<Tr-1&&Di.push(He[Tr-1]),Di}(y,V*=V),bt=it.length,Bt=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(bt);Bt[0]=Bt[bt-1]=1,function He(Bi,Di,Dn,rr,Tr){var ho,ys,zo,To=0;for(ys=rr+1;ys<=Tr-1;ys++)To<(zo=Vo(Bi[ys],Bi[rr],Bi[Tr],!0))&&(ho=ys,To=zo);Dn<To&&(Di[ho]=1,He(Bi,Di,Dn,rr,ho),He(Bi,Di,Dn,ho,Tr))}(it,Bt,V,0,bt-1);var pe,qe=[];for(pe=0;pe<bt;pe++)Bt[pe]&&qe.push(it[pe]);return qe}return y.slice()}function io(y,V,it){return Math.sqrt(Vo(y,V,it,!0))}function no(y,V,it,bt,Bt){var pe,qe,He,Bi=bt?Lr:Jr(y,it),Di=Jr(V,it);for(Lr=Di;;){if(!(Bi|Di))return[y,V];if(Bi&Di)return!1;He=Jr(qe=Bo(y,V,pe=Bi||Di,it,Bt),it),pe===Bi?(y=qe,Bi=He):(V=qe,Di=He)}}function Bo(y,Bi,it,Dn,Bt){var pe,qe,He=Bi.x-y.x,Di=(Bi=Bi.y-y.y,Dn.min);return Dn=Dn.max,8&it?(pe=y.x+He*(Dn.y-y.y)/Bi,qe=Dn.y):4&it?(pe=y.x+He*(Di.y-y.y)/Bi,qe=Di.y):2&it?(pe=Dn.x,qe=y.y+Bi*(Dn.x-y.x)/He):1&it&&(pe=Di.x,qe=y.y+Bi*(Di.x-y.x)/He),new o(pe,qe,Bt)}function Jr(y,V){var it=0;return y.x<V.min.x?it|=1:y.x>V.max.x&&(it|=2),y.y<V.min.y?it|=4:y.y>V.max.y&&(it|=8),it}function Vo(y,pe,it,bt){var Bt=pe.x,qe=it.x-Bt,He=it.y-(pe=pe.y),Bi=qe*qe+He*He;return 0<Bi&&(1<(Bi=((y.x-Bt)*qe+(y.y-pe)*He)/Bi)?(Bt=it.x,pe=it.y):0<Bi&&(Bt+=qe*Bi,pe+=He*Bi)),qe=y.x-Bt,He=y.y-pe,bt?qe*qe+He*He:new o(Bt,pe)}function Zr(y){return!_(y[0])||"object"!=typeof y[0][0]&&void 0!==y[0][0]}function to(y){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zr(y)}function fo(y,V){var it,bt,Bt,pe,qe;if(!y||0===y.length)throw new Error("latlngs not passed");Zr(y)||(console.warn("latlngs are not flat! Only the first ring will be used"),y=y[0]);var He,Bi=[];for(He in y)Bi.push(V.project(K(y[He])));for(var Di=Bi.length,Dn=0,rr=0;Dn<Di-1;Dn++)rr+=Bi[Dn].distanceTo(Bi[Dn+1])/2;if(0===rr)qe=Bi[0];else for(it=Dn=0;Dn<Di-1;Dn++)if(rr<(it+=pe=(bt=Bi[Dn]).distanceTo(Bt=Bi[Dn+1]))){qe=[Bt.x-(pe=(it-rr)/pe)*(Bt.x-bt.x),Bt.y-pe*(Bt.y-bt.y)];break}return V.unproject(U(qe))}function $r(y,V,it){for(var bt,Bt,pe,qe,He,Bi,Di,Dn=[1,4,2,8],rr=0,Tr=y.length;rr<Tr;rr++)y[rr]._code=Jr(y[rr],V);for(pe=0;pe<4;pe++){for(Bi=Dn[pe],bt=[],rr=0,Bt=(Tr=y.length)-1;rr<Tr;Bt=rr++)He=y[Bt],(qe=y[rr])._code&Bi?He._code&Bi||((Di=Bo(He,qe,Bi,V,it))._code=Jr(Di,V),bt.push(Di)):(He._code&Bi&&((Di=Bo(He,qe,Bi,V,it))._code=Jr(Di,V),bt.push(Di)),bt.push(qe));y=bt}return y}function mo(y,V){var it,bt,Bt,pe,qe;if(!y||0===y.length)throw new Error("latlngs not passed");Zr(y)||(console.warn("latlngs are not flat! Only the first ring will be used"),y=y[0]);var Bi,Di=[];for(Bi in y)Di.push(V.project(K(y[Bi])));for(var Dn=Di.length,rr=pe=qe=0,Tr=0,ho=Dn-1;Tr<Dn;ho=Tr++)pe+=((it=Di[Tr]).x+(bt=Di[ho]).x)*(Bt=it.y*bt.x-bt.y*it.x),qe+=(it.y+bt.y)*Bt,rr+=3*Bt;return V.unproject(U(0===rr?Di[0]:[pe/rr,qe/rr]))}kt={__proto__:null,simplify:wr,pointToSegmentDistance:io,closestPointOnSegment:function(y,V,it){return Vo(y,V,it)},clipSegment:no,_getEdgeIntersection:Bo,_getBitCode:Jr,_sqClosestPointOnSegment:Vo,isFlat:Zr,_flat:to,polylineCenter:fo},cs={__proto__:null,clipPolygon:$r,polygonCenter:mo},ps={__proto__:null,LonLat:qo={project:function(y){return new o(y.lng,y.lat)},unproject:function(y){return new W(y.y,y.x)},bounds:new X([-180,-90],[180,90])},Mercator:Eo={R:6378137,R_MINOR:6356752.314245179,bounds:new X([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(y){var V=Math.PI/180,it=this.R,pe=y.lat*V,bt=this.R_MINOR/it,Bt=(bt=Math.sqrt(1-bt*bt))*Math.sin(pe);return Bt=Math.tan(Math.PI/4-pe/2)/Math.pow((1-Bt)/(1+Bt),bt/2),pe=-it*Math.log(Math.max(Bt,1e-10)),new o(y.lng*V*it,pe)},unproject:function(y){for(var V,it=180/Math.PI,bt=this.R,Bt=this.R_MINOR/bt,pe=Math.sqrt(1-Bt*Bt),qe=Math.exp(-y.y/bt),He=Math.PI/2-2*Math.atan(qe),Bi=0,Di=.1;Bi<15&&1e-7<Math.abs(Di);Bi++)V=pe*Math.sin(He),V=Math.pow((1-V)/(1+V),pe/2),He+=Di=Math.PI/2-2*Math.atan(qe*V)-He;return new W(He*it,y.x*it/bt)}},SphericalMercator:_t},es=e({},yt,{code:"EPSG:3395",projection:Eo,transformation:ut(Ft=.5/(Math.PI*Eo.R),.5,-Ft,.5)});var Ts=e({},yt,{code:"EPSG:4326",projection:qo,transformation:ut(1/180,1,-1/180,.5)}),At=($=e({},gt,{projection:qo,transformation:ut(1,0,-1,0),scale:function(y){return Math.pow(2,y)},zoom:function(y){return Math.log(y)/Math.LN2},distance:function(y,bt){var it=bt.lng-y.lng;return bt=bt.lat-y.lat,Math.sqrt(it*it+bt*bt)},infinite:!0}),gt.Earth=yt,gt.EPSG3395=es,gt.EPSG3857=at,gt.EPSG900913=Ct,gt.EPSG4326=Ts,gt.Simple=$,mt=f.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(y){return y.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(y){return y&&y.removeLayer(this),this},getPane:function(y){return this._map.getPane(y?this.options[y]||y:this.options.pane)},addInteractiveTarget:function(y){return this._map._targets[M(y)]=this},removeInteractiveTarget:function(y){return delete this._map._targets[M(y)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(y){var V,it=y.target;it.hasLayer(this)&&(this._map=it,this._zoomAnimated=it._zoomAnimated,this.getEvents&&(V=this.getEvents(),it.on(V,this),this.once("remove",function(){it.off(V,this)},this)),this.onAdd(it),this.fire("add"),it.fire("layeradd",{layer:this}))}}),zi.include({addLayer:function(y){var V;if(y._layerAdd)return V=M(y),this._layers[V]||((this._layers[V]=y)._mapToAdd=this,y.beforeAdd&&y.beforeAdd(this),this.whenReady(y._layerAdd,y)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(y){var V=M(y);return this._layers[V]&&(this._loaded&&y.onRemove(this),delete this._layers[V],this._loaded&&(this.fire("layerremove",{layer:y}),y.fire("remove")),y._map=y._mapToAdd=null),this},hasLayer:function(y){return M(y)in this._layers},eachLayer:function(y,V){for(var it in this._layers)y.call(V,this._layers[it]);return this},_addLayers:function(y){for(var V=0,it=(y=y?_(y)?y:[y]:[]).length;V<it;V++)this.addLayer(y[V])},_addZoomLimit:function(y){isNaN(y.options.maxZoom)&&isNaN(y.options.minZoom)||(this._zoomBoundLayers[M(y)]=y,this._updateZoomLevels())},_removeZoomLimit:function(y){y=M(y),this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var y,V=1/0,it=-1/0,bt=this._getZoomSpan();for(y in this._zoomBoundLayers){var Bt=this._zoomBoundLayers[y].options;V=void 0===Bt.minZoom?V:Math.min(V,Bt.minZoom),it=void 0===Bt.maxZoom?it:Math.max(it,Bt.maxZoom)}this._layersMaxZoom=it===-1/0?void 0:it,this._layersMinZoom=V===1/0?void 0:V,bt!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),mt.extend({initialize:function(y,V){var it,bt;if(a(this,V),this._layers={},y)for(it=0,bt=y.length;it<bt;it++)this.addLayer(y[it])},addLayer:function(y){var V=this.getLayerId(y);return this._layers[V]=y,this._map&&this._map.addLayer(y),this},removeLayer:function(y){return y=y in this._layers?y:this.getLayerId(y),this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(y){return("number"==typeof y?y:this.getLayerId(y))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(y){var V,it,bt=Array.prototype.slice.call(arguments,1);for(V in this._layers)(it=this._layers[V])[y]&&it[y].apply(it,bt);return this},onAdd:function(y){this.eachLayer(y.addLayer,y)},onRemove:function(y){this.eachLayer(y.removeLayer,y)},eachLayer:function(y,V){for(var it in this._layers)y.call(V,this._layers[it]);return this},getLayer:function(y){return this._layers[y]},getLayers:function(){var y=[];return this.eachLayer(y.push,y),y},setZIndex:function(y){return this.invoke("setZIndex",y)},getLayerId:M})),Dt=At.extend({addLayer:function(y){return this.hasLayer(y)?this:(y.addEventParent(this),At.prototype.addLayer.call(this,y),this.fire("layeradd",{layer:y}))},removeLayer:function(y){return this.hasLayer(y)?((y=y in this._layers?this._layers[y]:y).removeEventParent(this),At.prototype.removeLayer.call(this,y),this.fire("layerremove",{layer:y})):this},setStyle:function(y){return this.invoke("setStyle",y)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var y,V=new pt;for(y in this._layers){var it=this._layers[y];V.extend(it.getBounds?it.getBounds():it.getLatLng())}return V}}),qt=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(y){a(this,y)},createIcon:function(y){return this._createIcon("icon",y)},createShadow:function(y){return this._createIcon("shadow",y)},_createIcon:function(y,V){var it=this._getIconUrl(y);if(it)return it=this._createImg(it,V&&"IMG"===V.tagName?V:null),this._setIconStyles(it,y),!this.options.crossOrigin&&""!==this.options.crossOrigin||(it.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),it;if("icon"===y)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(y,V){var it=this.options,bt=U(bt="number"==typeof(bt=it[V+"Size"])?[bt,bt]:bt),Bt=U("shadow"===V&&it.shadowAnchor||it.iconAnchor||bt&&bt.divideBy(2,!0));y.className="leaflet-marker-"+V+" "+(it.className||""),Bt&&(y.style.marginLeft=-Bt.x+"px",y.style.marginTop=-Bt.y+"px"),bt&&(y.style.width=bt.x+"px",y.style.height=bt.y+"px")},_createImg:function(y,V){return(V=V||document.createElement("img")).src=y,V},_getIconUrl:function(y){return te.retina&&this.options[y+"RetinaUrl"]||this.options[y+"Url"]}}),le=qt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(y){return"string"!=typeof le.imagePath&&(le.imagePath=this._detectIconPath()),(this.options.imagePath||le.imagePath)+qt.prototype._getIconUrl.call(this,y)},_stripUrl:function(y){function V(it,bt,Bt){return(bt=bt.exec(it))&&bt[Bt]}return(y=V(y,/^url\((['"])?(.+)\1\)$/,2))&&V(y,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var y=ai("div","leaflet-default-icon-path",document.body),V=ei(y,"background-image")||ei(y,"backgroundImage");return document.body.removeChild(y),(V=this._stripUrl(V))?V:(y=document.querySelector('link[href$="leaflet.css"]'))?y.href.substring(0,y.href.length-11-1):""}}),ye=Rr.extend({initialize:function(y){this._marker=y},addHooks:function(){var y=this._marker._icon;this._draggable||(this._draggable=new Br(y,y,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ji(y,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&We(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(y){var V=this._marker,it=V._map,bt=this._marker.options.autoPanSpeed,Bt=this._marker.options.autoPanPadding,pe=re(V._icon),qe=it.getPixelBounds(),He=it.getPixelOrigin();(He=tt(qe.min._subtract(He).add(Bt),qe.max._subtract(He).subtract(Bt))).contains(pe)||(Bt=U((Math.max(He.max.x,pe.x)-He.max.x)/(qe.max.x-He.max.x)-(Math.min(He.min.x,pe.x)-He.min.x)/(qe.min.x-He.min.x),(Math.max(He.max.y,pe.y)-He.max.y)/(qe.max.y-He.max.y)-(Math.min(He.min.y,pe.y)-He.min.y)/(qe.min.y-He.min.y)).multiplyBy(bt),it.panBy(Bt,{animate:!1}),this._draggable._newPos._add(Bt),this._draggable._startPos._add(Bt),Ut(V._icon,this._draggable._newPos),this._onDrag(y),this._panRequest=E(this._adjustPan.bind(this,y)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(y){this._marker.options.autoPan&&(m(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,y)))},_onDrag:function(y){var V=this._marker,it=V._shadow,bt=re(V._icon),Bt=V._map.layerPointToLatLng(bt);it&&Ut(it,bt),V._latlng=Bt,y.latlng=Bt,y.oldLatLng=this._oldLatLng,V.fire("move",y).fire("drag",y)},_onDragEnd:function(y){m(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",y)}}),je=mt.extend({options:{icon:new le,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(y,V){a(this,V),this._latlng=K(y)},onAdd:function(y){this._zoomAnimated=this._zoomAnimated&&y.options.markerZoomAnimation,this._zoomAnimated&&y.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(y){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&y.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(y){var V=this._latlng;return this._latlng=K(y),this.update(),this.fire("move",{oldLatLng:V,latlng:this._latlng})},setZIndexOffset:function(y){return this.options.zIndexOffset=y,this.update()},getIcon:function(){return this.options.icon},setIcon:function(y){return this.options.icon=y,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var y;return this._icon&&this._map&&(y=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(y)),this},_initIcon:function(){var bt,y=this.options,V="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),it=!1,Bt=!1;(bt=y.icon.createIcon(this._icon))!==this._icon&&(this._icon&&this._removeIcon(),it=!0,y.title&&(bt.title=y.title),"IMG"===bt.tagName&&(bt.alt=y.alt||"")),ji(bt,V),y.keyboard&&(bt.tabIndex="0",bt.setAttribute("role","button")),this._icon=bt,y.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ye(bt,"focus",this._panOnFocus,this),(bt=y.icon.createShadow(this._shadow))!==this._shadow&&(this._removeShadow(),Bt=!0),bt&&(ji(bt,V),bt.alt=""),this._shadow=bt,y.opacity<1&&this._updateOpacity(),it&&this.getPane().appendChild(this._icon),this._initInteraction(),bt&&Bt&&this.getPane(y.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&di(this._icon,"focus",this._panOnFocus,this),li(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&li(this._shadow),this._shadow=null},_setPos:function(y){this._icon&&Ut(this._icon,y),this._shadow&&Ut(this._shadow,y),this._zIndex=y.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(y){this._icon&&(this._icon.style.zIndex=this._zIndex+y)},_animateZoom:function(y){y=this._map._latLngToNewLayerPoint(this._latlng,y.zoom,y.center).round(),this._setPos(y)},_initInteraction:function(){var y;this.options.interactive&&(ji(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ye&&(y=this.options.draggable,this.dragging&&(y=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ye(this),y&&this.dragging.enable()))},setOpacity:function(y){return this.options.opacity=y,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var y=this.options.opacity;this._icon&&ht(this._icon,y),this._shadow&&ht(this._shadow,y)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var y,V,it=this._map;it&&(y=(V=this.options.icon.options).iconSize?U(V.iconSize):U(0,0),V=V.iconAnchor?U(V.iconAnchor):U(0,0),it.panInside(this._latlng,{paddingTopLeft:V,paddingBottomRight:y.subtract(V)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),ze=mt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(y){this._renderer=y.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(y){return a(this,y),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&y&&Object.prototype.hasOwnProperty.call(y,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ni=ze.extend({options:{fill:!0,radius:10},initialize:function(y,V){a(this,V),this._latlng=K(y),this._radius=this.options.radius},setLatLng:function(y){var V=this._latlng;return this._latlng=K(y),this.redraw(),this.fire("move",{oldLatLng:V,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(y){return this.options.radius=this._radius=y,this.redraw()},getRadius:function(){return this._radius},setStyle:function(y){var V=y&&y.radius||this._radius;return ze.prototype.setStyle.call(this,y),this.setRadius(V),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var it=this._radius,y=this._radiusY||it,V=this._clickTolerance();this._pxBounds=new X(this._point.subtract(it=[it+V,y+V]),this._point.add(it))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(y){return y.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Si=ni.extend({initialize:function(y,V,it){if(a(this,V="number"==typeof V?e({},it,{radius:V}):V),this._latlng=K(y),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(y){return this._mRadius=y,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var y=[this._radius,this._radiusY||this._radius];return new pt(this._map.layerPointToLatLng(this._point.subtract(y)),this._map.layerPointToLatLng(this._point.add(y)))},setStyle:ze.prototype.setStyle,_project:function(){var y,V,it,bt,Bt,pe=this._latlng.lng,qe=this._latlng.lat,He=this._map,Bi=He.options.crs;Bi.distance===yt.distance?(bt=Math.PI/180,y=He.project([qe+(Bt=this._mRadius/yt.R/bt),pe]),V=He.project([qe-Bt,pe]),V=y.add(V).divideBy(2),it=He.unproject(V).lat,bt=Math.acos((Math.cos(Bt*bt)-Math.sin(qe*bt)*Math.sin(it*bt))/(Math.cos(qe*bt)*Math.cos(it*bt)))/bt,!isNaN(bt)&&0!==bt||(bt=Bt/Math.cos(Math.PI/180*qe)),this._point=V.subtract(He.getPixelOrigin()),this._radius=isNaN(bt)?0:V.x-He.project([it,pe-bt]).x,this._radiusY=V.y-y.y):(Bt=Bi.unproject(Bi.project(this._latlng).subtract([this._mRadius,0])),this._point=He.latLngToLayerPoint(this._latlng),this._radius=this._point.x-He.latLngToLayerPoint(Bt).x),this._updateBounds()}}),Ei=ze.extend({options:{smoothFactor:1,noClip:!1},initialize:function(y,V){a(this,V),this._setLatLngs(y)},getLatLngs:function(){return this._latlngs},setLatLngs:function(y){return this._setLatLngs(y),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(y){for(var V=1/0,it=null,bt=Vo,Bt=0,pe=this._parts.length;Bt<pe;Bt++)for(var qe=this._parts[Bt],He=1,Bi=qe.length;He<Bi;He++){var Di,Dn,rr=bt(y,Di=qe[He-1],Dn=qe[He],!0);rr<V&&(V=rr,it=bt(y,Di,Dn))}return it&&(it.distance=Math.sqrt(V)),it},getCenter:function(){if(this._map)return fo(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(y,V){return V=V||this._defaultShape(),y=K(y),V.push(y),this._bounds.extend(y),this.redraw()},_setLatLngs:function(y){this._bounds=new pt,this._latlngs=this._convertLatLngs(y)},_defaultShape:function(){return Zr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(y){for(var V=[],it=Zr(y),bt=0,Bt=y.length;bt<Bt;bt++)it?(V[bt]=K(y[bt]),this._bounds.extend(V[bt])):V[bt]=this._convertLatLngs(y[bt]);return V},_project:function(){var y=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,y),this._bounds.isValid()&&y.isValid()&&(this._rawPxBounds=y,this._updateBounds())},_updateBounds:function(){var y=new o(y=this._clickTolerance(),y);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(y,V,it){var bt,Bt,qe=y.length;if(y[0]instanceof W){for(Bt=[],bt=0;bt<qe;bt++)Bt[bt]=this._map.latLngToLayerPoint(y[bt]),it.extend(Bt[bt]);V.push(Bt)}else for(bt=0;bt<qe;bt++)this._projectLatlngs(y[bt],V,it)},_clipPoints:function(){var y=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(y))if(this.options.noClip)this._parts=this._rings;else for(var V,it,bt,Bt,pe=this._parts,qe=0,He=0,Bi=this._rings.length;qe<Bi;qe++)for(V=0,it=(Bt=this._rings[qe]).length;V<it-1;V++)(bt=no(Bt[V],Bt[V+1],y,V,!0))&&(pe[He]=pe[He]||[],pe[He].push(bt[0]),bt[1]===Bt[V+1]&&V!==it-2||(pe[He].push(bt[1]),He++))},_simplifyPoints:function(){for(var y=this._parts,V=this.options.smoothFactor,it=0,bt=y.length;it<bt;it++)y[it]=wr(y[it],V)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(y,V){var it,bt,Bt,pe,qe,He,Bi=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(y))for(it=0,pe=this._parts.length;it<pe;it++)for(bt=0,Bt=(qe=(He=this._parts[it]).length)-1;bt<qe;Bt=bt++)if((V||0!==bt)&&io(y,He[Bt],He[bt])<=Bi)return!0;return!1}});Ei._flat=to;var mi=Ei.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return mo(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(V){var it=(V=Ei.prototype._convertLatLngs.call(this,V)).length;return 2<=it&&V[0]instanceof W&&V[0].equals(V[it-1])&&V.pop(),V},_setLatLngs:function(y){Ei.prototype._setLatLngs.call(this,y),Zr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(Zr(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var V=this._renderer._bounds,y=new o(y=this.options.weight,y);if(V=new X(V.min.subtract(y),V.max.add(y)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(V))if(this.options.noClip)this._parts=this._rings;else for(var it,bt=0,Bt=this._rings.length;bt<Bt;bt++)(it=$r(this._rings[bt],V,!0)).length&&this._parts.push(it)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(y){var V,it,bt,Bt,pe,qe,He,Bi,Di=!1;if(!this._pxBounds||!this._pxBounds.contains(y))return!1;for(Bt=0,He=this._parts.length;Bt<He;Bt++)for(pe=0,qe=(Bi=(V=this._parts[Bt]).length)-1;pe<Bi;qe=pe++)(it=V[pe]).y>y.y!=(bt=V[qe]).y>y.y&&y.x<(bt.x-it.x)*(y.y-it.y)/(bt.y-it.y)+it.x&&(Di=!Di);return Di||Ei.prototype._containsPoint.call(this,y,!0)}}),ci=Dt.extend({initialize:function(y,V){a(this,V),this._layers={},y&&this.addData(y)},addData:function(y){var V,it,bt,Bt=_(y)?y:y.features;if(Bt){for(V=0,it=Bt.length;V<it;V++)((bt=Bt[V]).geometries||bt.geometry||bt.features||bt.coordinates)&&this.addData(bt);return this}var pe,qe=this.options;return qe.filter&&!qe.filter(y)||!(pe=pn(y,qe))?this:(pe.feature=Ee(y),pe.defaultOptions=pe.options,this.resetStyle(pe),qe.onEachFeature&&qe.onEachFeature(y,pe),this.addLayer(pe))},resetStyle:function(y){return void 0===y?this.eachLayer(this.resetStyle,this):(y.options=e({},y.defaultOptions),this._setLayerStyle(y,this.options.style),this)},setStyle:function(y){return this.eachLayer(function(V){this._setLayerStyle(V,y)},this)},_setLayerStyle:function(y,V){y.setStyle&&("function"==typeof V&&(V=V(y.feature)),y.setStyle(V))}});function pn(y,V){var it,bt,Bt,pe,qe="Feature"===y.type?y.geometry:y,He=qe?qe.coordinates:null,Bi=[],Di=V&&V.pointToLayer,Dn=V&&V.coordsToLatLng||wt;if(!He&&!qe)return null;switch(qe.type){case"Point":return fn(Di,y,it=Dn(He),V);case"MultiPoint":for(Bt=0,pe=He.length;Bt<pe;Bt++)it=Dn(He[Bt]),Bi.push(fn(Di,y,it,V));return new Dt(Bi);case"LineString":case"MultiLineString":return bt=Ht(He,"LineString"===qe.type?0:1,Dn),new Ei(bt,V);case"Polygon":case"MultiPolygon":return bt=Ht(He,"Polygon"===qe.type?1:2,Dn),new mi(bt,V);case"GeometryCollection":for(Bt=0,pe=qe.geometries.length;Bt<pe;Bt++){var rr=pn({geometry:qe.geometries[Bt],type:"Feature",properties:y.properties},V);rr&&Bi.push(rr)}return new Dt(Bi);case"FeatureCollection":for(Bt=0,pe=qe.features.length;Bt<pe;Bt++){var Tr=pn(qe.features[Bt],V);Tr&&Bi.push(Tr)}return new Dt(Bi);default:throw new Error("Invalid GeoJSON object.")}}function fn(y,V,it,bt){return y?y(V,it):new je(it,bt&&bt.markersInheritOptions&&bt)}function wt(y){return new W(y[1],y[0],y[2])}function Ht(y,V,it){for(var bt,Bt=[],pe=0,qe=y.length;pe<qe;pe++)bt=V?Ht(y[pe],V-1,it):(it||wt)(y[pe]),Bt.push(bt);return Bt}function me(y,V){return void 0!==(y=K(y)).alt?[z(y.lng,V),z(y.lat,V),z(y.alt,V)]:[z(y.lng,V),z(y.lat,V)]}function xe(y,V,it,bt){for(var Bt=[],pe=0,qe=y.length;pe<qe;pe++)Bt.push(V?xe(y[pe],Zr(y[pe])?0:V-1,it,bt):me(y[pe],bt));return!V&&it&&Bt.push(Bt[0].slice()),Bt}function Me(y,V){return y.feature?e({},y.feature,{geometry:V}):Ee(V)}function Ee(y){return"Feature"===y.type||"FeatureCollection"===y.type?y:{type:"Feature",properties:{},geometry:y}}function Ze(y,V){return new ci(y,V)}je.include(Ot={toGeoJSON:function(y){return Me(this,{type:"Point",coordinates:me(this.getLatLng(),y)})}}),Si.include(Ot),ni.include(Ot),Ei.include({toGeoJSON:function(y){var V=!Zr(this._latlngs);return Me(this,{type:(V?"Multi":"")+"LineString",coordinates:xe(this._latlngs,V?1:0,!1,y)})}}),mi.include({toGeoJSON:function(bt){var V=!Zr(this._latlngs),it=V&&!Zr(this._latlngs[0]);return bt=xe(this._latlngs,it?2:V?1:0,!0,bt),Me(this,{type:(it?"Multi":"")+"Polygon",coordinates:bt=V?bt:[bt]})}}),At.include({toMultiPoint:function(y){var V=[];return this.eachLayer(function(it){V.push(it.toGeoJSON(y).geometry.coordinates)}),Me(this,{type:"MultiPoint",coordinates:V})},toGeoJSON:function(y){var V,it,bt=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===bt?this.toMultiPoint(y):(V="GeometryCollection"===bt,it=[],this.eachLayer(function(Bt){Bt.toGeoJSON&&(Bt=Bt.toGeoJSON(y),V?it.push(Bt.geometry):"FeatureCollection"===(Bt=Ee(Bt)).type?it.push.apply(it,Bt.features):it.push(Bt))}),V?Me(this,{geometries:it,type:"GeometryCollection"}):{type:"FeatureCollection",features:it})}}),Ne=Ze;var _i=mt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(y,V,it){this._url=y,this._bounds=ot(V),a(this,it)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ji(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){li(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(y){return this.options.opacity=y,this._image&&this._updateOpacity(),this},setStyle:function(y){return y.opacity&&this.setOpacity(y.opacity),this},bringToFront:function(){return this._map&&tn(this._image),this},bringToBack:function(){return this._map&&Zi(this._image),this},setUrl:function(y){return this._url=y,this._image&&(this._image.src=y),this},setBounds:function(y){return this._bounds=ot(y),this._map&&this._reset(),this},getEvents:function(){var y={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(y.zoomanim=this._animateZoom),y},setZIndex:function(y){return this.options.zIndex=y,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var y="IMG"===this._url.tagName,V=this._image=y?this._url:ai("img");ji(V,"leaflet-image-layer"),this._zoomAnimated&&ji(V,"leaflet-zoom-animated"),this.options.className&&ji(V,this.options.className),V.onselectstart=Y,V.onmousemove=Y,V.onload=c(this.fire,this,"load"),V.onerror=c(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(V.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),y?this._url=V.src:(V.src=this._url,V.alt=this.options.alt)},_animateZoom:function(it){var V=this._map.getZoomScale(it.zoom);it=this._map._latLngBoundsToNewLayerBounds(this._bounds,it.zoom,it.center).min,Lt(this._image,it,V)},_reset:function(){var y=this._image,V=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),it=V.getSize();Ut(y,V.min),y.style.width=it.x+"px",y.style.height=it.y+"px"},_updateOpacity:function(){ht(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var y=this.options.errorOverlayUrl;y&&this._url!==y&&(this._url=y,this._image.src=y)},getCenter:function(){return this._bounds.getCenter()}}),vi=_i.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var y="VIDEO"===this._url.tagName,V=this._image=y?this._url:ai("video");if(ji(V,"leaflet-image-layer"),this._zoomAnimated&&ji(V,"leaflet-zoom-animated"),this.options.className&&ji(V,this.options.className),V.onselectstart=Y,V.onmousemove=Y,V.onloadeddata=c(this.fire,this,"load"),y){for(var it=V.getElementsByTagName("source"),bt=[],Bt=0;Bt<it.length;Bt++)bt.push(it[Bt].src);this._url=0<it.length?bt:[V.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(V.style,"objectFit")&&(V.style.objectFit="fill"),V.autoplay=!!this.options.autoplay,V.loop=!!this.options.loop,V.muted=!!this.options.muted,V.playsInline=!!this.options.playsInline;for(var pe=0;pe<this._url.length;pe++){var qe=ai("source");qe.src=this._url[pe],V.appendChild(qe)}}}}),Ki=_i.extend({_initImage:function(){var y=this._image=this._url;ji(y,"leaflet-image-layer"),this._zoomAnimated&&ji(y,"leaflet-zoom-animated"),this.options.className&&ji(y,this.options.className),y.onselectstart=Y,y.onmousemove=Y}}),ln=mt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(y,V){y&&(y instanceof W||_(y))?(this._latlng=K(y),a(this,V)):(a(this,y),this._source=V),this.options.content&&(this._content=this.options.content)},openOn:function(y){return(y=arguments.length?y:this._source._map).hasLayer(this)||y.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(y){return this._map?this.close():(arguments.length?this._source=y:y=this._source,this._prepareOpen(),this.openOn(y._map)),this},onAdd:function(y){this._zoomAnimated=y._zoomAnimated,this._container||this._initLayout(),y._fadeAnimated&&ht(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),y._fadeAnimated&&ht(this._container,1),this.bringToFront(),this.options.interactive&&(ji(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(y){y._fadeAnimated?(ht(this._container,0),this._removeTimeout=setTimeout(c(li,void 0,this._container),200)):li(this._container),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(y){return this._latlng=K(y),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(y){return this._content=y,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var y={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(y.zoomanim=this._animateZoom),y},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&tn(this._container),this},bringToBack:function(){return this._map&&Zi(this._container),this},_prepareOpen:function(y){if(!(it=this._source)._map)return!1;if(it instanceof Dt){var V,it=null,bt=this._source._layers;for(V in bt)if(bt[V]._map){it=bt[V];break}if(!it)return!1;this._source=it}if(!y)if(it.getCenter)y=it.getCenter();else if(it.getLatLng)y=it.getLatLng();else{if(!it.getBounds)throw new Error("Unable to get source layer LatLng.");y=it.getBounds().getCenter()}return this.setLatLng(y),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var y=this._contentNode,V="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof V)y.innerHTML=V;else{for(;y.hasChildNodes();)y.removeChild(y.firstChild);y.appendChild(V)}this.fire("contentupdate")}},_updatePosition:function(){var y,V,it;this._map&&(V=this._map.latLngToLayerPoint(this._latlng),y=U(this.options.offset),it=this._getAnchor(),this._zoomAnimated?Ut(this._container,V.add(it)):y=y.add(V).add(it),V=this._containerBottom=-y.y,it=this._containerLeft=-Math.round(this._containerWidth/2)+y.x,this._container.style.bottom=V+"px",this._container.style.left=it+"px")},_getAnchor:function(){return[0,0]}}),Mn=(zi.include({_initOverlay:function(y,V,it,bt){var Bt=V;return Bt instanceof y||(Bt=new y(bt).setContent(V)),it&&Bt.setLatLng(it),Bt}}),mt.include({_initOverlay:function(y,V,it,bt){var Bt=it;return Bt instanceof y?(a(Bt,bt),Bt._source=this):(Bt=V&&!bt?V:new y(bt,this)).setContent(it),Bt}}),ln.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(y){return!(y=arguments.length?y:this._source._map).hasLayer(this)&&y._popup&&y._popup.options.autoClose&&y.removeLayer(y._popup),y._popup=this,ln.prototype.openOn.call(this,y)},onAdd:function(y){ln.prototype.onAdd.call(this,y),y.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ze||this._source.on("preclick",an))},onRemove:function(y){ln.prototype.onRemove.call(this,y),y.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ze||this._source.off("preclick",an))},getEvents:function(){var y=ln.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(y.preclick=this.close),this.options.keepInView&&(y.moveend=this._adjustPan),y},_initLayout:function(){var y="leaflet-popup",V=this._container=ai("div",y+" "+(this.options.className||"")+" leaflet-zoom-animated"),it=this._wrapper=ai("div",y+"-content-wrapper",V);this._contentNode=ai("div",y+"-content",it),Pn(V),Ii(this._contentNode),Ye(V,"contextmenu",an),this._tipContainer=ai("div",y+"-tip-container",V),this._tip=ai("div",y+"-tip",this._tipContainer),this.options.closeButton&&((it=this._closeButton=ai("a",y+"-close-button",V)).setAttribute("role","button"),it.setAttribute("aria-label","Close popup"),it.href="#close",it.innerHTML='<span aria-hidden="true">&#215;</span>',Ye(it,"click",function(bt){yn(bt),this.close()},this))},_updateLayout:function(){var y=this._contentNode,V=y.style,it=(V.width="",V.whiteSpace="nowrap",y.offsetWidth),bt=(it=Math.min(it,this.options.maxWidth),it=Math.max(it,this.options.minWidth),V.width=it+1+"px",V.whiteSpace="",V.height="",it=y.offsetHeight,this.options.maxHeight);(bt&&bt<it?(V.height=bt+"px",ji):We)(y,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(V){V=this._map._latLngToNewLayerPoint(this._latlng,V.zoom,V.center);var it=this._getAnchor();Ut(this._container,V.add(it))},_adjustPan:function(){var y,V,it,bt,Bt,pe,qe,He;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(y=this._map,V=parseInt(ei(this._container,"marginBottom"),10)||0,He=this._containerWidth,(it=new o(this._containerLeft,-(V=this._container.offsetHeight+V)-this._containerBottom))._add(re(this._container)),it=y.layerPointToContainerPoint(it),Bt=U(this.options.autoPanPadding),bt=U(this.options.autoPanPaddingTopLeft||Bt),Bt=U(this.options.autoPanPaddingBottomRight||Bt),pe=y.getSize(),qe=0,it.x+He+Bt.x>pe.x&&(qe=it.x+He-pe.x+Bt.x),it.x-qe-bt.x<(He=0)&&(qe=it.x-bt.x),it.y+V+Bt.y>pe.y&&(He=it.y+V-pe.y+Bt.y),it.y-He-bt.y<0&&(He=it.y-bt.y),(qe||He)&&(this.options.keepInView&&(this._autopanning=!0),y.fire("autopanstart").panBy([qe,He]))))},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),mr=(zi.mergeOptions({closePopupOnClick:!0}),zi.include({openPopup:function(y,V,it){return this._initOverlay(Mn,y,V,it).openOn(this),this},closePopup:function(y){return(y=arguments.length?y:this._popup)&&y.close(),this}}),mt.include({bindPopup:function(y,V){return this._popup=this._initOverlay(Mn,this._popup,y,V),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(y){return this._popup&&(this instanceof Dt||(this._popup._source=this),this._popup._prepareOpen(y||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(y){return this._popup&&this._popup.setContent(y),this},getPopup:function(){return this._popup},_openPopup:function(y){var V;this._popup&&this._map&&(bn(y),this._popup._source!==(V=y.layer||y.target)||V instanceof ze?(this._popup._source=V,this.openPopup(y.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(y.latlng))},_movePopup:function(y){this._popup.setLatLng(y.latlng)},_onKeyPress:function(y){13===y.originalEvent.keyCode&&this._openPopup(y)}}),ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(y){ln.prototype.onAdd.call(this,y),this.setOpacity(this.options.opacity),y.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(y){ln.prototype.onRemove.call(this,y),y.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var y=ln.prototype.getEvents.call(this);return this.options.permanent||(y.preclick=this.close),y},_initLayout:function(){this._contentNode=this._container=ai("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+M(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(y){var V,it=this._container,bt=(Di=this._map).latLngToContainerPoint(Di.getCenter()),Di=Di.layerPointToContainerPoint(y),Bt=this.options.direction,pe=it.offsetWidth,qe=it.offsetHeight,He=U(this.options.offset),Bi=this._getAnchor();Di="top"===Bt?(V=pe/2,qe):"bottom"===Bt?(V=pe/2,0):(V="center"===Bt?pe/2:"right"===Bt?0:"left"===Bt?pe:Di.x<bt.x?(Bt="right",0):(Bt="left",pe+2*(He.x+Bi.x)),qe/2),y=y.subtract(U(V,Di,!0)).add(He).add(Bi),We(it,"leaflet-tooltip-right"),We(it,"leaflet-tooltip-left"),We(it,"leaflet-tooltip-top"),We(it,"leaflet-tooltip-bottom"),ji(it,"leaflet-tooltip-"+Bt),Ut(it,y)},_updatePosition:function(){var y=this._map.latLngToLayerPoint(this._latlng);this._setPosition(y)},setOpacity:function(y){this.options.opacity=y,this._container&&ht(this._container,y)},_animateZoom:function(y){y=this._map._latLngToNewLayerPoint(this._latlng,y.zoom,y.center),this._setPosition(y)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),Un=(zi.include({openTooltip:function(y,V,it){return this._initOverlay(mr,y,V,it).openOn(this),this},closeTooltip:function(y){return y.close(),this}}),mt.include({bindTooltip:function(y,V){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mr,this._tooltip,y,V),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(y){var V,it;!y&&this._tooltipHandlersAdded||(V=y?"off":"on",it={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?it.add=this._openTooltip:(it.mouseover=this._openTooltip,it.mouseout=this.closeTooltip,it.click=this._openTooltip,this._map?this._addFocusListeners():it.add=this._addFocusListeners),this._tooltip.options.sticky&&(it.mousemove=this._moveTooltip),this[V](it),this._tooltipHandlersAdded=!y)},openTooltip:function(y){return this._tooltip&&(this instanceof Dt||(this._tooltip._source=this),this._tooltip._prepareOpen(y)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(y){return this._tooltip&&this._tooltip.setContent(y),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(y){var V=y.getElement();V&&(Ye(V,"focus",function(){this._tooltip._source=y,this.openTooltip()},this),Ye(V,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(y){(y=y.getElement())&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(y){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=y.layer||y.target,this.openTooltip(this._tooltip.options.sticky?y.latlng:void 0))},_moveTooltip:function(y){var V=y.latlng;this._tooltip.options.sticky&&y.originalEvent&&(y=this._map.mouseEventToContainerPoint(y.originalEvent),y=this._map.containerPointToLayerPoint(y),V=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(V)}}),qt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(V){V=V&&"DIV"===V.tagName?V:document.createElement("div");var it=this.options;return it.html instanceof Element?(Xi(V),V.appendChild(it.html)):V.innerHTML=!1!==it.html?it.html:"",it.bgPos&&(it=U(it.bgPos),V.style.backgroundPosition=-it.x+"px "+-it.y+"px"),this._setIconStyles(V,"icon"),V},createShadow:function(){return null}}));qt.Default=le;var Dr=mt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(y){a(this,y)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(y){y._addZoomLimit(this)},onRemove:function(y){this._removeAllTiles(),li(this._container),y._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(tn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(y){return this.options.opacity=y,this._updateOpacity(),this},setZIndex:function(y){return this.options.zIndex=y,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var y;return this._map&&(this._removeAllTiles(),(y=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=y,this._updateLevels()),this._update()),this},getEvents:function(){var y={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=j(this._onMoveEnd,this.options.updateInterval,this)),y.move=this._onMove),this._zoomAnimated&&(y.zoomanim=this._animateZoom),y},createTile:function(){return document.createElement("div")},getTileSize:function(){var y=this.options.tileSize;return y instanceof o?y:new o(y,y)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(y){for(var V,it=this.getPane().children,bt=-y(-1/0,1/0),Bt=0,pe=it.length;Bt<pe;Bt++)V=it[Bt].style.zIndex,it[Bt]!==this._container&&V&&(bt=y(bt,+V));isFinite(bt)&&(this.options.zIndex=bt+y(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!te.ielt9){ht(this._container,this.options.opacity);var y,V=+new Date,it=!1,bt=!1;for(y in this._tiles){var Bt,pe=this._tiles[y];pe.current&&pe.loaded&&(Bt=Math.min(1,(V-pe.loaded)/200),ht(pe.el,Bt),Bt<1?it=!0:(pe.active?bt=!0:this._onOpaqueTile(pe),pe.active=!0))}bt&&!this._noPrune&&this._pruneTiles(),it&&(m(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:Y,_initContainer:function(){this._container||(this._container=ai("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var y=this._tileZoom,V=this.options.maxZoom;if(void 0!==y){for(var it in this._levels)it=Number(it),this._levels[it].el.children.length||it===y?(this._levels[it].el.style.zIndex=V-Math.abs(y-it),this._onUpdateLevel(it)):(li(this._levels[it].el),this._removeTilesAtZoom(it),this._onRemoveLevel(it),delete this._levels[it]);var bt=this._levels[y],Bt=this._map;return bt||((bt=this._levels[y]={}).el=ai("div","leaflet-tile-container leaflet-zoom-animated",this._container),bt.el.style.zIndex=V,bt.origin=Bt.project(Bt.unproject(Bt.getPixelOrigin()),y).round(),bt.zoom=y,this._setZoomTransform(bt,Bt.getCenter(),Bt.getZoom()),this._onCreateLevel(bt)),this._level=bt}},_onUpdateLevel:Y,_onRemoveLevel:Y,_onCreateLevel:Y,_pruneTiles:function(){if(this._map){var y,V,it,bt=this._map.getZoom();if(bt>this.options.maxZoom||bt<this.options.minZoom)this._removeAllTiles();else{for(y in this._tiles)(it=this._tiles[y]).retain=it.current;for(y in this._tiles)(it=this._tiles[y]).current&&!it.active&&(this._retainParent((V=it.coords).x,V.y,V.z,V.z-5)||this._retainChildren(V.x,V.y,V.z,V.z+2));for(y in this._tiles)this._tiles[y].retain||this._removeTile(y)}}},_removeTilesAtZoom:function(y){for(var V in this._tiles)this._tiles[V].coords.z===y&&this._removeTile(V)},_removeAllTiles:function(){for(var y in this._tiles)this._removeTile(y)},_invalidateAll:function(){for(var y in this._levels)li(this._levels[y].el),this._onRemoveLevel(Number(y)),delete this._levels[y];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(Bt,pe,qe,bt){qe-=1;var He=((He=new o(+(Bt=Math.floor(Bt/2)),+(pe=Math.floor(pe/2)))).z=qe,this._tileCoordsToKey(He));return(He=this._tiles[He])&&He.active?He.retain=!0:(He&&He.loaded&&(He.retain=!0),bt<qe&&this._retainParent(Bt,pe,qe,bt))},_retainChildren:function(y,V,it,bt){for(var Bt=2*y;Bt<2*y+2;Bt++)for(var pe=2*V;pe<2*V+2;pe++){var qe=((qe=new o(Bt,pe)).z=it+1,this._tileCoordsToKey(qe));(qe=this._tiles[qe])&&qe.active?qe.retain=!0:(qe&&qe.loaded&&(qe.retain=!0),it+1<bt&&this._retainChildren(Bt,pe,it+1,bt))}},_resetView:function(y){y=y&&(y.pinch||y.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(y){this._setView(y.center,y.zoom,!0,y.noUpdate)},_clampZoom:function(y){var V=this.options;return void 0!==V.minNativeZoom&&y<V.minNativeZoom?V.minNativeZoom:void 0!==V.maxNativeZoom&&V.maxNativeZoom<y?V.maxNativeZoom:y},_setView:function(y,V,it,bt){var Bt=Math.round(V);Bt=void 0!==this.options.maxZoom&&Bt>this.options.maxZoom||void 0!==this.options.minZoom&&Bt<this.options.minZoom?void 0:this._clampZoom(Bt),bt&&!(this.options.updateWhenZooming&&Bt!==this._tileZoom)||(this._tileZoom=Bt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Bt&&this._update(y),it||this._pruneTiles(),this._noPrune=!!it),this._setZoomTransforms(y,V)},_setZoomTransforms:function(y,V){for(var it in this._levels)this._setZoomTransform(this._levels[it],y,V)},_setZoomTransform:function(y,Bt,it){var bt=this._map.getZoomScale(it,y.zoom);Bt=y.origin.multiplyBy(bt).subtract(this._map._getNewPixelOrigin(Bt,it)).round(),te.any3d?Lt(y.el,Bt,bt):Ut(y.el,Bt)},_resetGrid:function(){var y=this._map,V=y.options.crs,it=this._tileSize=this.getTileSize(),bt=this._tileZoom,Bt=this._map.getPixelWorldBounds(this._tileZoom);Bt&&(this._globalTileRange=this._pxBoundsToTileRange(Bt)),this._wrapX=V.wrapLng&&!this.options.noWrap&&[Math.floor(y.project([0,V.wrapLng[0]],bt).x/it.x),Math.ceil(y.project([0,V.wrapLng[1]],bt).x/it.y)],this._wrapY=V.wrapLat&&!this.options.noWrap&&[Math.floor(y.project([V.wrapLat[0],0],bt).y/it.x),Math.ceil(y.project([V.wrapLat[1],0],bt).y/it.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(it){var V=(bt=this._map)._animatingZoom?Math.max(bt._animateToZoom,bt.getZoom()):bt.getZoom(),bt=(V=bt.getZoomScale(V,this._tileZoom),it=bt.project(it,this._tileZoom).floor(),bt.getSize().divideBy(2*V));return new X(it.subtract(bt),it.add(bt))},_update:function(y){if(V=this._map){var it=this._clampZoom(V.getZoom());if(void 0===y&&(y=V.getCenter()),void 0!==this._tileZoom){var bt,V=this._getTiledPixelBounds(y),Bt=this._pxBoundsToTileRange(V),pe=Bt.getCenter(),qe=[],He=(V=this.options.keepBuffer,new X(Bt.getBottomLeft().subtract([V,-V]),Bt.getTopRight().add([V,-V])));if(!(isFinite(Bt.min.x)&&isFinite(Bt.min.y)&&isFinite(Bt.max.x)&&isFinite(Bt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(bt in this._tiles){var Bi=this._tiles[bt].coords;Bi.z===this._tileZoom&&He.contains(new o(Bi.x,Bi.y))||(this._tiles[bt].current=!1)}if(1<Math.abs(it-this._tileZoom))this._setView(y,it);else{for(var Di=Bt.min.y;Di<=Bt.max.y;Di++)for(var Dn=Bt.min.x;Dn<=Bt.max.x;Dn++){var rr,Tr=new o(Dn,Di);Tr.z=this._tileZoom,this._isValidTile(Tr)&&((rr=this._tiles[this._tileCoordsToKey(Tr)])?rr.current=!0:qe.push(Tr))}if(qe.sort(function(zo,To){return zo.distanceTo(pe)-To.distanceTo(pe)}),0!==qe.length){this._loading||(this._loading=!0,this.fire("loading"));var ho=document.createDocumentFragment();for(Dn=0;Dn<qe.length;Dn++)this._addTile(qe[Dn],ho);this._level.el.appendChild(ho)}}}}},_isValidTile:function(y){var V=this._map.options.crs;if(!V.infinite){var it=this._globalTileRange;if(!V.wrapLng&&(y.x<it.min.x||y.x>it.max.x)||!V.wrapLat&&(y.y<it.min.y||y.y>it.max.y))return!1}return!this.options.bounds||(V=this._tileCoordsToBounds(y),ot(this.options.bounds).overlaps(V))},_keyToBounds:function(y){return this._tileCoordsToBounds(this._keyToTileCoords(y))},_tileCoordsToNwSe:function(y){var V=this._map,bt=this.getTileSize(),it=y.scaleBy(bt);return bt=it.add(bt),[V.unproject(it,y.z),V.unproject(bt,y.z)]},_tileCoordsToBounds:function(y){return y=new pt((y=this._tileCoordsToNwSe(y))[0],y[1]),this.options.noWrap?y:this._map.wrapLatLngBounds(y)},_tileCoordsToKey:function(y){return y.x+":"+y.y+":"+y.z},_keyToTileCoords:function(V){var it=new o(+(V=V.split(":"))[0],+V[1]);return it.z=+V[2],it},_removeTile:function(y){var V=this._tiles[y];V&&(li(V.el),delete this._tiles[y],this.fire("tileunload",{tile:V.el,coords:this._keyToTileCoords(y)}))},_initTile:function(y){ji(y,"leaflet-tile");var V=this.getTileSize();y.style.width=V.x+"px",y.style.height=V.y+"px",y.onselectstart=Y,y.onmousemove=Y,te.ielt9&&this.options.opacity<1&&ht(y,this.options.opacity)},_addTile:function(y,V){var it=this._getTilePos(y),bt=this._tileCoordsToKey(y),Bt=this.createTile(this._wrapCoords(y),c(this._tileReady,this,y));this._initTile(Bt),this.createTile.length<2&&E(c(this._tileReady,this,y,null,Bt)),Ut(Bt,it),this._tiles[bt]={el:Bt,coords:y,current:!0},V.appendChild(Bt),this.fire("tileloadstart",{tile:Bt,coords:y})},_tileReady:function(y,V,it){V&&this.fire("tileerror",{error:V,tile:it,coords:y});var bt=this._tileCoordsToKey(y);(it=this._tiles[bt])&&(it.loaded=+new Date,this._map._fadeAnimated?(ht(it.el,0),m(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(it.active=!0,this._pruneTiles()),V||(ji(it.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:it.el,coords:y})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),te.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(y){return y.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(y){var V=new o(this._wrapX?G(y.x,this._wrapX):y.x,this._wrapY?G(y.y,this._wrapY):y.y);return V.z=y.z,V},_pxBoundsToTileRange:function(y){var V=this.getTileSize();return new X(y.min.unscaleBy(V).floor(),y.max.unscaleBy(V).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var y in this._tiles)if(!this._tiles[y].loaded)return!1;return!0}}),vr=Dr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(y,V){this._url=y,(V=a(this,V)).detectRetina&&te.retina&&0<V.maxZoom?(V.tileSize=Math.floor(V.tileSize/2),V.zoomReverse?(V.zoomOffset--,V.minZoom=Math.min(V.maxZoom,V.minZoom+1)):(V.zoomOffset++,V.maxZoom=Math.max(V.minZoom,V.maxZoom-1)),V.minZoom=Math.max(0,V.minZoom)):V.zoomReverse?V.minZoom=Math.min(V.maxZoom,V.minZoom):V.maxZoom=Math.max(V.minZoom,V.maxZoom),"string"==typeof V.subdomains&&(V.subdomains=V.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(y,V){return this._url===y&&void 0===V&&(V=!0),this._url=y,V||this.redraw(),this},createTile:function(y,V){var it=document.createElement("img");return Ye(it,"load",c(this._tileOnLoad,this,V,it)),Ye(it,"error",c(this._tileOnError,this,V,it)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(it.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(it.referrerPolicy=this.options.referrerPolicy),it.alt="",it.src=this.getTileUrl(y),it},getTileUrl:function(y){var V={r:te.retina?"@2x":"",s:this._getSubdomain(y),x:y.x,y:y.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(y=this._globalTileRange.max.y-y.y,this.options.tms&&(V.y=y),V["-y"]=y),d(this._url,e(V,this.options))},_tileOnLoad:function(y,V){te.ielt9?setTimeout(c(y,this,null,V),0):y(null,V)},_tileOnError:function(y,V,it){var bt=this.options.errorTileUrl;bt&&V.getAttribute("src")!==bt&&(V.src=bt),y(it,V)},_onTileRemove:function(y){y.tile.onload=null},_getZoomForUrl:function(){var y=this._tileZoom;return(y=this.options.zoomReverse?this.options.maxZoom-y:y)+this.options.zoomOffset},_getSubdomain:function(y){return y=Math.abs(y.x+y.y)%this.options.subdomains.length,this.options.subdomains[y]},_abortLoading:function(){var y,V,it;for(y in this._tiles)this._tiles[y].coords.z!==this._tileZoom&&((it=this._tiles[y].el).onload=Y,it.onerror=Y,it.complete||(it.src=x,V=this._tiles[y].coords,li(it),delete this._tiles[y],this.fire("tileabort",{tile:it,coords:V})))},_removeTile:function(y){var V=this._tiles[y];if(V)return V.el.setAttribute("src",x),Dr.prototype._removeTile.call(this,y)},_tileReady:function(y,V,it){if(this._map&&(!it||it.getAttribute("src")!==x))return Dr.prototype._tileReady.call(this,y,V,it)}});function _r(y,V){return new vr(y,V)}var Qr=vr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(Bt,V){this._url=Bt;var it,bt=e({},this.defaultWmsParams);for(it in V)it in this.options||(bt[it]=V[it]);Bt=(V=a(this,V)).detectRetina&&te.retina?2:1;var pe=this.getTileSize();bt.width=pe.x*Bt,bt.height=pe.y*Bt,this.wmsParams=bt},onAdd:function(y){this._crs=this.options.crs||y.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code,vr.prototype.onAdd.call(this,y)},getTileUrl:function(y){var V=this._tileCoordsToNwSe(y),it=(V=(it=tt((it=this._crs).project(V[0]),it.project(V[1]))).min,it.max);return V=(1.3<=this._wmsVersion&&this._crs===Ts?[V.y,V.x,it.y,it.x]:[V.x,V.y,it.x,it.y]).join(","),(it=vr.prototype.getTileUrl.call(this,y))+p(this.wmsParams,it,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(y,V){return e(this.wmsParams,y),V||this.redraw(),this}});vr.WMS=Qr,_r.wms=function(y,V){return new Qr(y,V)};var hr=mt.extend({options:{padding:.1},initialize:function(y){a(this,y),M(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ji(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var y={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(y.zoomanim=this._onAnimZoom),y},_onAnimZoom:function(y){this._updateTransform(y.center,y.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(y,V){var it=this._map.getZoomScale(V,this._zoom),Bt=this._map.getSize().multiplyBy(.5+this.options.padding),bt=this._map.project(this._center,V);Bt=Bt.multiplyBy(-it).add(bt).subtract(this._map._getNewPixelOrigin(y,V)),te.any3d?Lt(this._container,Bt,it):Ut(this._container,Bt)},_reset:function(){for(var y in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[y]._reset()},_onZoomEnd:function(){for(var y in this._layers)this._layers[y]._project()},_updatePaths:function(){for(var y in this._layers)this._layers[y]._update()},_update:function(){var y=this.options.padding,V=this._map.getSize(),it=this._map.containerPointToLayerPoint(V.multiplyBy(-y)).round();this._bounds=new X(it,it.add(V.multiplyBy(1+2*y)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wr=hr.extend({options:{tolerance:0},getEvents:function(){var y=hr.prototype.getEvents.call(this);return y.viewprereset=this._onViewPreReset,y},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){hr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var y=this._container=document.createElement("canvas");Ye(y,"mousemove",this._onMouseMove,this),Ye(y,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ye(y,"mouseout",this._handleMouseOut,this),y._leaflet_disable_events=!0,this._ctx=y.getContext("2d")},_destroyContainer:function(){m(this._redrawRequest),delete this._ctx,li(this._container),di(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var y in this._redrawBounds=null,this._layers)this._layers[y]._update();this._redraw()}},_update:function(){var y,V,it,bt;this._map._animatingZoom&&this._bounds||(hr.prototype._update.call(this),V=this._container,it=(y=this._bounds).getSize(),bt=te.retina?2:1,Ut(V,y.min),V.width=bt*it.x,V.height=bt*it.y,V.style.width=it.x+"px",V.style.height=it.y+"px",te.retina&&this._ctx.scale(2,2),this._ctx.translate(-y.min.x,-y.min.y),this.fire("update"))},_reset:function(){hr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(y){this._updateDashArray(y),y=(this._layers[M(y)]=y)._order={layer:y,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(y){this._requestRedraw(y)},_removePath:function(y){var V=(it=y._order).next,it=it.prev;V?V.prev=it:this._drawLast=it,it?it.next=V:this._drawFirst=V,delete y._order,delete this._layers[M(y)],this._requestRedraw(y)},_updatePath:function(y){this._extendRedrawBounds(y),y._project(),y._update(),this._requestRedraw(y)},_updateStyle:function(y){this._updateDashArray(y),this._requestRedraw(y)},_updateDashArray:function(y){if("string"==typeof y.options.dashArray){for(var V,it=y.options.dashArray.split(/[, ]+/),bt=[],Bt=0;Bt<it.length;Bt++){if(V=Number(it[Bt]),isNaN(V))return;bt.push(V)}y.options._dashArray=bt}else y.options._dashArray=y.options.dashArray},_requestRedraw:function(y){this._map&&(this._extendRedrawBounds(y),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(y){var V;y._pxBounds&&(V=(y.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(y._pxBounds.min.subtract([V,V])),this._redrawBounds.extend(y._pxBounds.max.add([V,V])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var y,V=this._redrawBounds;V?(y=V.getSize(),this._ctx.clearRect(V.min.x,V.min.y,y.x,y.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var y,V,it=this._redrawBounds;this._ctx.save(),it&&(V=it.getSize(),this._ctx.beginPath(),this._ctx.rect(it.min.x,it.min.y,V.x,V.y),this._ctx.clip()),this._drawing=!0;for(var bt=this._drawFirst;bt;bt=bt.next)y=bt.layer,(!it||y._pxBounds&&y._pxBounds.intersects(it))&&y._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(y,V){if(this._drawing){var it,bt,Bt,pe,qe=y._parts,He=qe.length,Bi=this._ctx;if(He){for(Bi.beginPath(),it=0;it<He;it++){for(bt=0,Bt=qe[it].length;bt<Bt;bt++)Bi[bt?"lineTo":"moveTo"]((pe=qe[it][bt]).x,pe.y);V&&Bi.closePath()}this._fillStroke(Bi,y)}}},_updateCircle:function(y){var V,it,bt,Bt;this._drawing&&!y._empty()&&(V=y._point,it=this._ctx,bt=Math.max(Math.round(y._radius),1),1!=(Bt=(Math.max(Math.round(y._radiusY),1)||bt)/bt)&&(it.save(),it.scale(1,Bt)),it.beginPath(),it.arc(V.x,V.y/Bt,bt,0,2*Math.PI,!1),1!=Bt&&it.restore(),this._fillStroke(it,y))},_fillStroke:function(y,V){var it=V.options;it.fill&&(y.globalAlpha=it.fillOpacity,y.fillStyle=it.fillColor||it.color,y.fill(it.fillRule||"evenodd")),it.stroke&&0!==it.weight&&(y.setLineDash&&y.setLineDash(V.options&&V.options._dashArray||[]),y.globalAlpha=it.opacity,y.lineWidth=it.weight,y.strokeStyle=it.color,y.lineCap=it.lineCap,y.lineJoin=it.lineJoin,y.stroke())},_onClick:function(y){for(var V,it,bt=this._map.mouseEventToLayerPoint(y),Bt=this._drawFirst;Bt;Bt=Bt.next)(V=Bt.layer).options.interactive&&V._containsPoint(bt)&&(("click"===y.type||"preclick"===y.type)&&this._map._draggableMoved(V)||(it=V));this._fireEvent(!!it&&[it],y)},_onMouseMove:function(y){var V;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(V=this._map.mouseEventToLayerPoint(y),this._handleMouseHover(y,V))},_handleMouseOut:function(y){var V=this._hoveredLayer;V&&(We(this._container,"leaflet-interactive"),this._fireEvent([V],y,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(y,V){if(!this._mouseHoverThrottled){for(var it,bt,Bt=this._drawFirst;Bt;Bt=Bt.next)(it=Bt.layer).options.interactive&&it._containsPoint(V)&&(bt=it);bt!==this._hoveredLayer&&(this._handleMouseOut(y),bt&&(ji(this._container,"leaflet-interactive"),this._fireEvent([bt],y,"mouseover"),this._hoveredLayer=bt)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],y),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(y,V,it){this._map._fireDOMEvent(V,it||V.type,y)},_bringToFront:function(y){var V,it,bt=y._order;bt&&(it=bt.prev,(V=bt.next)&&((V.prev=it)?it.next=V:V&&(this._drawFirst=V),bt.prev=this._drawLast,(this._drawLast.next=bt).next=null,this._drawLast=bt,this._requestRedraw(y)))},_bringToBack:function(y){var V,it,bt=y._order;bt&&(V=bt.next,(it=bt.prev)&&((it.next=V)?V.prev=it:it&&(this._drawLast=it),bt.prev=null,bt.next=this._drawFirst,this._drawFirst.prev=bt,this._drawFirst=bt,this._requestRedraw(y)))}});function Vn(y){return te.canvas?new Wr(y):null}var xr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(y){return document.createElement("<lvml:"+y+' class="lvml">')}}catch{}return function(y){return document.createElement("<"+y+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Co=(Vr={_initContainer:function(){this._container=ai("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(hr.prototype._update.call(this),this.fire("update"))},_initPath:function(y){var V=y._container=xr("shape");ji(V,"leaflet-vml-shape "+(this.options.className||"")),V.coordsize="1 1",y._path=xr("path"),V.appendChild(y._path),this._updateStyle(y),this._layers[M(y)]=y},_addPath:function(y){var V=y._container;this._container.appendChild(V),y.options.interactive&&y.addInteractiveTarget(V)},_removePath:function(y){var V=y._container;li(V),y.removeInteractiveTarget(V),delete this._layers[M(y)]},_updateStyle:function(y){var V=y._stroke,it=y._fill,bt=y.options,Bt=y._container;Bt.stroked=!!bt.stroke,Bt.filled=!!bt.fill,bt.stroke?(V=V||(y._stroke=xr("stroke")),Bt.appendChild(V),V.weight=bt.weight+"px",V.color=bt.color,V.opacity=bt.opacity,V.dashStyle=bt.dashArray?_(bt.dashArray)?bt.dashArray.join(" "):bt.dashArray.replace(/( *, *)/g," "):"",V.endcap=bt.lineCap.replace("butt","flat"),V.joinstyle=bt.lineJoin):V&&(Bt.removeChild(V),y._stroke=null),bt.fill?(it=it||(y._fill=xr("fill")),Bt.appendChild(it),it.color=bt.fillColor||bt.color,it.opacity=bt.fillOpacity):it&&(Bt.removeChild(it),y._fill=null)},_updateCircle:function(y){var V=y._point.round(),it=Math.round(y._radius),bt=Math.round(y._radiusY||it);this._setPath(y,y._empty()?"M0 0":"AL "+V.x+","+V.y+" "+it+","+bt+" 0,23592600")},_setPath:function(y,V){y._path.v=V},_bringToFront:function(y){tn(y._container)},_bringToBack:function(y){Zi(y._container)}},te.vml?xr:vt),ro=hr.extend({_initContainer:function(){this._container=Co("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Co("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){li(this._container),di(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var y,V,it;this._map._animatingZoom&&this._bounds||(hr.prototype._update.call(this),V=(y=this._bounds).getSize(),it=this._container,this._svgSize&&this._svgSize.equals(V)||(this._svgSize=V,it.setAttribute("width",V.x),it.setAttribute("height",V.y)),Ut(it,y.min),it.setAttribute("viewBox",[y.min.x,y.min.y,V.x,V.y].join(" ")),this.fire("update"))},_initPath:function(y){var V=y._path=Co("path");y.options.className&&ji(V,y.options.className),y.options.interactive&&ji(V,"leaflet-interactive"),this._updateStyle(y),this._layers[M(y)]=y},_addPath:function(y){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(y._path),y.addInteractiveTarget(y._path)},_removePath:function(y){li(y._path),y.removeInteractiveTarget(y._path),delete this._layers[M(y)]},_updatePath:function(y){y._project(),y._update()},_updateStyle:function(it){var V=it._path;it=it.options,V&&(it.stroke?(V.setAttribute("stroke",it.color),V.setAttribute("stroke-opacity",it.opacity),V.setAttribute("stroke-width",it.weight),V.setAttribute("stroke-linecap",it.lineCap),V.setAttribute("stroke-linejoin",it.lineJoin),it.dashArray?V.setAttribute("stroke-dasharray",it.dashArray):V.removeAttribute("stroke-dasharray"),it.dashOffset?V.setAttribute("stroke-dashoffset",it.dashOffset):V.removeAttribute("stroke-dashoffset")):V.setAttribute("stroke","none"),it.fill?(V.setAttribute("fill",it.fillColor||it.color),V.setAttribute("fill-opacity",it.fillOpacity),V.setAttribute("fill-rule",it.fillRule||"evenodd")):V.setAttribute("fill","none"))},_updatePoly:function(y,V){this._setPath(y,ct(y._parts,V))},_updateCircle:function(y){var bt=y._point,V=Math.max(Math.round(y._radius),1),it="a"+V+","+(Math.max(Math.round(y._radiusY),1)||V)+" 0 1,0 ";bt=y._empty()?"M0 0":"M"+(bt.x-V)+","+bt.y+it+2*V+",0 "+it+2*-V+",0 ",this._setPath(y,bt)},_setPath:function(y,V){y._path.setAttribute("d",V)},_bringToFront:function(y){tn(y._path)},_bringToBack:function(y){Zi(y._path)}});function cr(y){return te.svg||te.vml?new ro(y):null}te.vml&&ro.include(Vr),zi.include({getRenderer:function(y){return y=(y=y.options.renderer||this._getPaneRenderer(y.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(y){var V;return"overlayPane"!==y&&void 0!==y&&(void 0===(V=this._paneRenderers[y])&&(V=this._createRenderer({pane:y}),this._paneRenderers[y]=V),V)},_createRenderer:function(y){return this.options.preferCanvas&&Vn(y)||cr(y)}});var Gs=mi.extend({initialize:function(y,V){mi.prototype.initialize.call(this,this._boundsToLatLngs(y),V)},setBounds:function(y){return this.setLatLngs(this._boundsToLatLngs(y))},_boundsToLatLngs:function(y){return[(y=ot(y)).getSouthWest(),y.getNorthWest(),y.getNorthEast(),y.getSouthEast()]}});ro.create=Co,ro.pointsToPath=ct,ci.geometryToLayer=pn,ci.coordsToLatLng=wt,ci.coordsToLatLngs=Ht,ci.latLngToCoords=me,ci.latLngsToCoords=xe,ci.getFeature=Me,ci.asFeature=Ee,zi.mergeOptions({boxZoom:!0}),Go=Rr.extend({initialize:function(y){this._map=y,this._container=y._container,this._pane=y._panes.overlayPane,this._resetStateTimeout=0,y.on("unload",this._destroy,this)},addHooks:function(){Ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){di(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){li(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(y){if(!y.shiftKey||1!==y.which&&1!==y.button)return!1;this._clearDeferredResetState(),this._resetState(),yi(),Xt(),this._startPoint=this._map.mouseEventToContainerPoint(y),Ye(document,{contextmenu:bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(V){this._moved||(this._moved=!0,this._box=ai("div","leaflet-zoom-box",this._container),ji(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(V);var it=(V=new X(this._point,this._startPoint)).getSize();Ut(this._box,V.min),this._box.style.width=it.x+"px",this._box.style.height=it.y+"px"},_finish:function(){this._moved&&(li(this._box),We(this._container,"leaflet-crosshair")),Fi(),oe(),di(document,{contextmenu:bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(y){1!==y.which&&1!==y.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0),y=new pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})))},_onKeyDown:function(y){27===y.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),zi.addInitHook("addHandler","boxZoom",Go),zi.mergeOptions({doubleClickZoom:!0}),is=Rr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(y){var V=this._map,bt=V.getZoom(),it=V.options.zoomDelta;bt=y.originalEvent.shiftKey?bt-it:bt+it,"center"===V.options.doubleClickZoom?V.setZoom(bt):V.setZoomAround(y.containerPoint,bt)}});var ks=(zi.addInitHook("addHandler","doubleClickZoom",is),zi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),Rr.extend({addHooks:function(){var y;this._draggable||(this._draggable=new Br((y=this._map)._mapPane,y._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),y.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),y.on("zoomend",this._onZoomEnd,this),y.whenReady(this._onZoomEnd,this))),ji(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){We(this._map._container,"leaflet-grab"),We(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var y,V=this._map;V._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(y=ot(this._map.options.maxBounds),this._offsetLimit=tt(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,V.fire("movestart").fire("dragstart"),V.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(y){var V,it;this._map.options.inertia&&(V=this._lastTime=+new Date,it=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(it),this._times.push(V),this._prunePositions(V)),this._map.fire("move",y).fire("drag",y)},_prunePositions:function(y){for(;1<this._positions.length&&50<y-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var y=this._map.getSize().divideBy(2),V=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=V.subtract(y).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(y,V){return y-(y-V)*this._viscosity},_onPreDragLimit:function(){var y,V;this._viscosity&&this._offsetLimit&&((y=this._draggable._newPos.subtract(this._draggable._startPos)).x<(V=this._offsetLimit).min.x&&(y.x=this._viscousLimit(y.x,V.min.x)),y.y<V.min.y&&(y.y=this._viscousLimit(y.y,V.min.y)),y.x>V.max.x&&(y.x=this._viscousLimit(y.x,V.max.x)),y.y>V.max.y&&(y.y=this._viscousLimit(y.y,V.max.y)),this._draggable._newPos=this._draggable._startPos.add(y))},_onPreDragWrap:function(){var Bt=this._worldWidth,y=Math.round(Bt/2),V=this._initialWorldOffset,it=((bt=this._draggable._newPos.x)-y+V)%Bt+y-V,bt=(bt+y+V)%Bt-y-V;Bt=Math.abs(it+V)<Math.abs(bt+V)?it:bt,this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Bt},_onDragEnd:function(y){var V,it,bt,Bt,pe=this._map,qe=pe.options,He=!qe.inertia||y.noInertia||this._times.length<2;pe.fire("dragend",y),!He&&(this._prunePositions(+new Date),He=(y=(y=this._lastPos.subtract(this._positions[0])).multiplyBy((V=qe.easeLinearity)/(He=(this._lastTime-this._times[0])/1e3))).distanceTo([0,0]),it=Math.min(qe.inertiaMaxSpeed,He),y=y.multiplyBy(it/He),(Bt=y.multiplyBy(-(bt=it/(qe.inertiaDeceleration*V))/2).round()).x||Bt.y)?(Bt=pe._limitOffset(Bt,pe.options.maxBounds),E(function(){pe.panBy(Bt,{duration:bt,easeLinearity:V,noMoveStart:!0,animate:!0})})):pe.fire("moveend")}})),Hs=(zi.addInitHook("addHandler","dragging",ks),zi.mergeOptions({keyboard:!0,keyboardPanDelta:80}),oa=Rr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(y){this._map=y,this._setPanDelta(y.options.keyboardPanDelta),this._setZoomDelta(y.options.zoomDelta)},addHooks:function(){var y=this._map._container;y.tabIndex<=0&&(y.tabIndex="0"),Ye(y,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),di(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var y,V,it;this._focused||(it=document.body,y=document.documentElement,V=it.scrollTop||y.scrollTop,it=it.scrollLeft||y.scrollLeft,this._map._container.focus(),window.scrollTo(it,V))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(y){for(var V=this._panKeys={},it=this.keyCodes,bt=0,Bt=it.left.length;bt<Bt;bt++)V[it.left[bt]]=[-1*y,0];for(bt=0,Bt=it.right.length;bt<Bt;bt++)V[it.right[bt]]=[y,0];for(bt=0,Bt=it.down.length;bt<Bt;bt++)V[it.down[bt]]=[0,y];for(bt=0,Bt=it.up.length;bt<Bt;bt++)V[it.up[bt]]=[0,-1*y]},_setZoomDelta:function(y){for(var V=this._zoomKeys={},it=this.keyCodes,bt=0,Bt=it.zoomIn.length;bt<Bt;bt++)V[it.zoomIn[bt]]=y;for(bt=0,Bt=it.zoomOut.length;bt<Bt;bt++)V[it.zoomOut[bt]]=-y},_addHooks:function(){Ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){di(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(y){if(!(y.altKey||y.ctrlKey||y.metaKey)){var V,it,bt=y.keyCode,Bt=this._map;if(bt in this._panKeys)Bt._panAnim&&Bt._panAnim._inProgress||(it=this._panKeys[bt],y.shiftKey&&(it=U(it).multiplyBy(3)),Bt.options.maxBounds&&(it=Bt._limitOffset(U(it),Bt.options.maxBounds)),Bt.options.worldCopyJump?(V=Bt.wrapLatLng(Bt.unproject(Bt.project(Bt.getCenter()).add(it))),Bt.panTo(V)):Bt.panBy(it));else if(bt in this._zoomKeys)Bt.setZoom(Bt.getZoom()+(y.shiftKey?3:1)*this._zoomKeys[bt]);else{if(27!==bt||!Bt._popup||!Bt._popup.options.closeOnEscapeKey)return;Bt.closePopup()}bn(y)}}}),zi.addInitHook("addHandler","keyboard",oa),zi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),Ns=Rr.extend({addHooks:function(){Ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){di(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(y){var it=wn(y),V=this._map.options.wheelDebounceTime;this._delta+=it,this._lastMousePos=this._map.mouseEventToContainerPoint(y),this._startTime||(this._startTime=+new Date),it=Math.max(V-(+new Date-this._startTime),0),clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),it),bn(y)},_performZoom:function(){var y=this._map,V=y.getZoom(),it=this._map.options.zoomSnap||0,bt=(y._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel));bt=4*Math.log(2/(1+Math.exp(-Math.abs(bt))))/Math.LN2,it=it?Math.ceil(bt/it)*it:bt,bt=y._limitZoom(V+(0<this._delta?it:-it))-V,this._delta=0,this._startTime=null,bt&&("center"===y.options.scrollWheelZoom?y.setZoom(V+bt):y.setZoomAround(this._lastMousePos,V+bt))}}),zi.addInitHook("addHandler","scrollWheelZoom",Ns),zi.mergeOptions({tapHold:te.touchNative&&te.safari&&te.mobile,tapTolerance:15}),gs=Rr.extend({addHooks:function(){Ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){di(this._map._container,"touchstart",this._onDown,this)},_onDown:function(y){var V;clearTimeout(this._holdTimeout),1===y.touches.length&&(this._startPos=this._newPos=new o((V=y.touches[0]).clientX,V.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ye(document,"touchend",yn),Ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",V))},this),600),Ye(document,"touchend touchcancel contextmenu",this._cancel,this),Ye(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function y(){di(document,"touchend",yn),di(document,"touchend touchcancel",y)},_cancel:function(){clearTimeout(this._holdTimeout),di(document,"touchend touchcancel contextmenu",this._cancel,this),di(document,"touchmove",this._onMove,this)},_onMove:function(y){this._newPos=new o((y=y.touches[0]).clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(y,V){(y=new MouseEvent(y,{bubbles:!0,cancelable:!0,view:window,screenX:V.screenX,screenY:V.screenY,clientX:V.clientX,clientY:V.clientY}))._simulated=!0,V.target.dispatchEvent(y)}}),zi.addInitHook("addHandler","tapHold",gs),zi.mergeOptions({touchZoom:te.touch,bounceAtZoomLimits:!0}),ns=Rr.extend({addHooks:function(){ji(this._map._container,"leaflet-touch-zoom"),Ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){We(this._map._container,"leaflet-touch-zoom"),di(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(y){var V,it,bt=this._map;!y.touches||2!==y.touches.length||bt._animatingZoom||this._zooming||(V=bt.mouseEventToContainerPoint(y.touches[0]),it=bt.mouseEventToContainerPoint(y.touches[1]),this._centerPoint=bt.getSize()._divideBy(2),this._startLatLng=bt.containerPointToLatLng(this._centerPoint),"center"!==bt.options.touchZoom&&(this._pinchStartLatLng=bt.containerPointToLatLng(V.add(it)._divideBy(2))),this._startDist=V.distanceTo(it),this._startZoom=bt.getZoom(),this._moved=!1,this._zooming=!0,bt._stop(),Ye(document,"touchmove",this._onTouchMove,this),Ye(document,"touchend touchcancel",this._onTouchEnd,this),yn(y))},_onTouchMove:function(y){if(y.touches&&2===y.touches.length&&this._zooming){var V=this._map,it=V.mouseEventToContainerPoint(y.touches[0]),bt=V.mouseEventToContainerPoint(y.touches[1]),Bt=it.distanceTo(bt)/this._startDist;if(this._zoom=V.getScaleZoom(Bt,this._startZoom),!V.options.bounceAtZoomLimits&&(this._zoom<V.getMinZoom()&&Bt<1||this._zoom>V.getMaxZoom()&&1<Bt)&&(this._zoom=V._limitZoom(this._zoom)),"center"===V.options.touchZoom){if(this._center=this._startLatLng,1==Bt)return}else{if(it=it._add(bt)._divideBy(2)._subtract(this._centerPoint),1==Bt&&0===it.x&&0===it.y)return;this._center=V.unproject(V.project(this._pinchStartLatLng,this._zoom).subtract(it),this._zoom)}this._moved||(V._moveStart(!0,!1),this._moved=!0),m(this._animRequest),bt=c(V._move,V,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=E(bt,this,!0),yn(y)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,m(this._animRequest),di(document,"touchmove",this._onTouchMove,this),di(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),zi.addInitHook("addHandler","touchZoom",ns),zi.BoxZoom=Go,zi.DoubleClickZoom=is,zi.Drag=ks,zi.Keyboard=oa,zi.ScrollWheelZoom=Ns,zi.TapHold=gs,zi.TouchZoom=ns,S.Bounds=X,S.Browser=te,S.CRS=gt,S.Canvas=Wr,S.Circle=Si,S.CircleMarker=ni,S.Class=A,S.Control=qn,S.DivIcon=Un,S.DivOverlay=ln,S.DomEvent=In,S.DomUtil=Tt,S.Draggable=Br,S.Evented=f,S.FeatureGroup=Dt,S.GeoJSON=ci,S.GridLayer=Dr,S.Handler=Rr,S.Icon=qt,S.ImageOverlay=_i,S.LatLng=W,S.LatLngBounds=pt,S.Layer=mt,S.LayerGroup=At,S.LineUtil=kt,S.Map=zi,S.Marker=je,S.Mixin=kr,S.Path=ze,S.Point=o,S.PolyUtil=cs,S.Polygon=mi,S.Polyline=Ei,S.Popup=Mn,S.PosAnimation=An,S.Projection=ps,S.Rectangle=Gs,S.Renderer=hr,S.SVG=ro,S.SVGOverlay=Ki,S.TileLayer=vr,S.Tooltip=mr,S.Transformation=rt,S.Util=C,S.VideoOverlay=vi,S.bind=c,S.bounds=tt,S.canvas=Vn,S.circle=function(y,V,it){return new Si(y,V,it)},S.circleMarker=function(y,V){return new ni(y,V)},S.control=Xn,S.divIcon=function(y){return new Un(y)},S.extend=e,S.featureGroup=function(y,V){return new Dt(y,V)},S.geoJSON=Ze,S.geoJson=Ne,S.gridLayer=function(y){return new Dr(y)},S.icon=function(y){return new qt(y)},S.imageOverlay=function(y,V,it){return new _i(y,V,it)},S.latLng=K,S.latLngBounds=ot,S.layerGroup=function(y,V){return new At(y,V)},S.map=function(y,V){return new zi(y,V)},S.marker=function(y,V){return new je(y,V)},S.point=U,S.polygon=function(y,V){return new mi(y,V)},S.polyline=function(y,V){return new Ei(y,V)},S.popup=function(y,V){return new Mn(y,V)},S.rectangle=function(y,V){return new Gs(y,V)},S.setOptions=a,S.stamp=M,S.svg=cr,S.svgOverlay=function(y,V,it){return new Ki(y,V,it)},S.tileLayer=_r,S.tooltip=function(y,V){return new mr(y,V)},S.transformation=ut,S.version="1.9.3",S.videoOverlay=function(y,V,it){return new vi(y,V,it)},window.L);S.noConflict=function(){return window.L=Hs,this},window.L=S}),function(S,e){"object"==typeof exports&&typeof module<"u"?e(exports,require("leaflet")):"function"==typeof define&&define.amd?define(["exports","leaflet"],e):e(((S=typeof globalThis<"u"?globalThis:S||self).L=S.L||{},S.L.esri={}),S.L)}(this,function(S,e){"use strict";var s=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,c=""===document.documentElement.style.pointerEvents,T={cors:s,pointerEvents:c},M={attributionWidthOffset:55},j=0;function G(nt){var St="";for(var Gt in nt.f=nt.f||"json",nt)if(Object.prototype.hasOwnProperty.call(nt,Gt)){var ee,ge=nt[Gt],Ae=Object.prototype.toString.call(ge);St.length&&(St+="&"),ee="[object Array]"===Ae?"[object Object]"===Object.prototype.toString.call(ge[0])?JSON.stringify(ge):ge.join(","):"[object Object]"===Ae?JSON.stringify(ge):"[object Date]"===Ae?ge.valueOf():ge,St+=encodeURIComponent(Gt)+"="+encodeURIComponent(ee)}return St}function Y(nt,St){var Gt=new window.XMLHttpRequest;return Gt.onerror=function(ee){Gt.onreadystatechange=e.Util.falseFn,nt.call(St,{error:{code:500,message:"XMLHttpRequest error"}},null)},Gt.onreadystatechange=function(){var ee,ge;if(4===Gt.readyState){try{ee=JSON.parse(Gt.responseText)}catch{ee=null,ge={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!ge&&ee.error&&(ge=ee.error,ee=null),Gt.onerror=e.Util.falseFn,nt.call(St,ge,ee)}},Gt.ontimeout=function(){this.onerror()},Gt}function z(nt,St,Gt,ee){var ge=Y(Gt,ee);return ge.open("POST",nt),null!=ee&&void 0!==ee.options&&(ge.timeout=ee.options.timeout),ge.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),ge.send(G(St)),ge}function F(nt,St,Gt,ee){var ge=Y(Gt,ee);return ge.open("GET",nt+"?"+G(St),!0),null!=ee&&void 0!==ee.options&&(ge.timeout=ee.options.timeout,ee.options.withCredentials&&(ge.withCredentials=!0)),ge.send(null),ge}function N(nt,St,Gt,ee){var ge=G(St),Ae=Y(Gt,ee),yi=(nt+"?"+ge).length;if(yi<=2e3&&T.cors?Ae.open("GET",nt+"?"+ge):yi>2e3&&T.cors&&(Ae.open("POST",nt),Ae.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),null!=ee&&void 0!==ee.options&&(Ae.timeout=ee.options.timeout,ee.options.withCredentials&&(Ae.withCredentials=!0)),yi<=2e3&&T.cors)Ae.send(null);else{if(!(yi>2e3&&T.cors))return yi<=2e3&&!T.cors?a(nt,St,Gt,ee):void l("a request to "+nt+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy https://developers.arcgis.com/esri-leaflet/api-reference/request/");Ae.send(ge)}return Ae}function a(nt,St,Gt,ee){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var ge="c"+j;St.callback="window._EsriLeafletCallbacks."+ge,window._EsriLeafletCallbacks[ge]=function(yi){if(!0!==window._EsriLeafletCallbacks[ge]){var Fi,Li=Object.prototype.toString.call(yi);"[object Object]"!==Li&&"[object Array]"!==Li&&(Fi={error:{code:500,message:"Expected array or object as JSONP response"}},yi=null),!Fi&&yi.error&&(Fi=yi,yi=null),Gt.call(ee,Fi,yi),window._EsriLeafletCallbacks[ge]=!0}};var Ae=e.DomUtil.create("script",null,document.body);return Ae.type="text/javascript",Ae.src=nt+"?"+G(St),Ae.id=ge,Ae.onerror=function(yi){yi&&!0!==window._EsriLeafletCallbacks[ge]&&(Gt.call(ee,{error:{code:500,message:"An unknown error occurred"}}),window._EsriLeafletCallbacks[ge]=!0)},e.DomUtil.addClass(Ae,"esri-leaflet-jsonp"),j++,{id:ge,url:Ae.src,abort:function(){window._EsriLeafletCallbacks._callback[ge]({code:0,message:"Request aborted."})}}}var p=T.cors?F:a;function l(){console&&console.warn&&console.warn.apply(console,arguments)}p.CORS=F,p.JSONP=a;var d={request:N,get:p,post:z},_=function(nt,St,Gt,ee){var yi=(ee[1]-Gt[1])*(St[0]-nt[0])-(ee[0]-Gt[0])*(St[1]-nt[1]);if(0!==yi){var Fi=((ee[0]-Gt[0])*(nt[1]-Gt[1])-(ee[1]-Gt[1])*(nt[0]-Gt[0]))/yi,Li=((St[0]-nt[0])*(nt[1]-Gt[1])-(St[1]-nt[1])*(nt[0]-Gt[0]))/yi;if(Fi>=0&&Fi<=1&&Li>=0&&Li<=1)return!0}return!1},w=function(nt,St){for(var Gt=0;Gt<nt.length-1;Gt++)for(var ee=0;ee<St.length-1;ee++)if(_(nt[Gt],nt[Gt+1],St[ee],St[ee+1]))return!0;return!1},x=function(nt){return function(St,Gt){for(var ee=0;ee<St.length;ee++)if(St[ee]!==Gt[ee])return!1;return!0}(nt[0],nt[nt.length-1])||nt.push(nt[0]),nt},I=function(nt){for(var St,Gt=0,ee=0,ge=nt.length,Ae=nt[ee];ee<ge-1;ee++)Gt+=((St=nt[ee+1])[0]-Ae[0])*(St[1]+Ae[1]),Ae=St;return Gt>=0},h=function(nt){var St={};for(var Gt in nt)nt.hasOwnProperty(Gt)&&(St[Gt]=nt[Gt]);return St},n=function(nt,St){var Gt=w(nt,St),ee=function(ge,Ae){for(var yi=!1,Fi=-1,Li=ge.length,qi=Li-1;++Fi<Li;qi=Fi)(ge[Fi][1]<=Ae[1]&&Ae[1]<ge[qi][1]||ge[qi][1]<=Ae[1]&&Ae[1]<ge[Fi][1])&&Ae[0]<(ge[qi][0]-ge[Fi][0])*(Ae[1]-ge[Fi][1])/(ge[qi][1]-ge[Fi][1])+ge[Fi][0]&&(yi=!yi);return yi}(nt,St[0]);return!(Gt||!ee)},D=function nt(St,Gt){var ee={};if(St.features){ee.type="FeatureCollection",ee.features=[];for(var ge=0;ge<St.features.length;ge++)ee.features.push(nt(St.features[ge],Gt))}if("number"==typeof St.x&&"number"==typeof St.y&&(ee.type="Point",ee.coordinates=[St.x,St.y],"number"==typeof St.z&&ee.coordinates.push(St.z)),St.points&&(ee.type="MultiPoint",ee.coordinates=St.points.slice(0)),St.paths&&(1===St.paths.length?(ee.type="LineString",ee.coordinates=St.paths[0].slice(0)):(ee.type="MultiLineString",ee.coordinates=St.paths.slice(0))),St.rings&&(ee=function(Ae){for(var yi,Li,qi=[],cn=[],Fn=0;Fn<Ae.length;Fn++){var Gn=x(Ae[Fn].slice(0));if(!(Gn.length<4))if(I(Gn)){var Yi=[Gn.slice().reverse()];qi.push(Yi)}else cn.push(Gn.slice().reverse())}for(var ei=[];cn.length;){Li=cn.pop();var ai=!1;for(yi=qi.length-1;yi>=0;yi--)if(n(qi[yi][0],Li)){qi[yi].push(Li),ai=!0;break}ai||ei.push(Li)}for(;ei.length;){Li=ei.pop();var li=!1;for(yi=qi.length-1;yi>=0;yi--)if(w(qi[yi][0],Li)){qi[yi].push(Li),li=!0;break}li||qi.push([Li.reverse()])}return 1===qi.length?{type:"Polygon",coordinates:qi[0]}:{type:"MultiPolygon",coordinates:qi}}(St.rings.slice(0))),"number"==typeof St.xmin&&"number"==typeof St.ymin&&"number"==typeof St.xmax&&"number"==typeof St.ymax&&(ee.type="Polygon",ee.coordinates=[[[St.xmax,St.ymax],[St.xmin,St.ymax],[St.xmin,St.ymin],[St.xmax,St.ymin],[St.xmax,St.ymax]]]),(St.geometry||St.attributes)&&(ee.type="Feature",ee.geometry=St.geometry?nt(St.geometry):null,ee.properties=St.attributes?h(St.attributes):null,St.attributes))try{ee.id=function(Ae,yi){for(var Fi=yi?[yi,"OBJECTID","FID"]:["OBJECTID","FID"],Li=0;Li<Fi.length;Li++){var qi=Fi[Li];if(qi in Ae&&("string"==typeof Ae[qi]||"number"==typeof Ae[qi]))return Ae[qi]}throw Error("No valid id attribute found")}(St.attributes,Gt)}catch{}return JSON.stringify(ee.geometry)===JSON.stringify({})&&(ee.geometry=null),St.spatialReference&&St.spatialReference.wkid&&4326!==St.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(St.spatialReference)),ee},P=function(nt){var St=[],Gt=nt.slice(0),ee=x(Gt.shift().slice(0));if(ee.length>=4){I(ee)||ee.reverse(),St.push(ee);for(var ge=0;ge<Gt.length;ge++){var Ae=x(Gt[ge].slice(0));Ae.length>=4&&(I(Ae)&&Ae.reverse(),St.push(Ae))}}return St},E=function nt(St,Gt){Gt=Gt||"OBJECTID";var ee,ge={wkid:4326},Ae={};switch(St.type){case"Point":Ae.x=St.coordinates[0],Ae.y=St.coordinates[1],St.coordinates[2]&&(Ae.z=St.coordinates[2]),Ae.spatialReference=ge;break;case"MultiPoint":Ae.points=St.coordinates.slice(0),St.coordinates[0][2]&&(Ae.hasZ=!0),Ae.spatialReference=ge;break;case"LineString":Ae.paths=[St.coordinates.slice(0)],St.coordinates[0][2]&&(Ae.hasZ=!0),Ae.spatialReference=ge;break;case"MultiLineString":Ae.paths=St.coordinates.slice(0),St.coordinates[0][0][2]&&(Ae.hasZ=!0),Ae.spatialReference=ge;break;case"Polygon":Ae.rings=P(St.coordinates.slice(0)),St.coordinates[0][0][2]&&(Ae.hasZ=!0),Ae.spatialReference=ge;break;case"MultiPolygon":Ae.rings=function(yi){for(var Fi=[],Li=0;Li<yi.length;Li++)for(var qi=P(yi[Li]),cn=qi.length-1;cn>=0;cn--){var Fn=qi[cn].slice(0);Fi.push(Fn)}return Fi}(St.coordinates.slice(0)),St.coordinates[0][0][0][2]&&(Ae.hasZ=!0),Ae.spatialReference=ge;break;case"Feature":St.geometry&&(Ae.geometry=nt(St.geometry,Gt)),Ae.attributes=St.properties?h(St.properties):{},St.id&&(Ae.attributes[Gt]=St.id);break;case"FeatureCollection":for(Ae=[],ee=0;ee<St.features.length;ee++)Ae.push(nt(St.features[ee],Gt));break;case"GeometryCollection":for(Ae=[],ee=0;ee<St.geometries.length;ee++)Ae.push(nt(St.geometries[ee],Gt))}return Ae},m='<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>';function C(nt,St){return E(nt,St)}function A(nt,St){return D(nt,St)}function k(nt){if("NaN"!==nt.xmin&&"NaN"!==nt.ymin&&"NaN"!==nt.xmax&&"NaN"!==nt.ymax){var St=e.latLng(nt.ymin,nt.xmin),Gt=e.latLng(nt.ymax,nt.xmax);return e.latLngBounds(St,Gt)}return null}function f(nt){return{xmin:(nt=e.latLngBounds(nt)).getSouthWest().lng,ymin:nt.getSouthWest().lat,xmax:nt.getNorthEast().lng,ymax:nt.getNorthEast().lat,spatialReference:{wkid:4326}}}var o=/^(OBJECTID|FID|OID|ID)$/i;function R(nt){var St;if(nt.objectIdFieldName)St=nt.objectIdFieldName;else if(nt.fields){for(var Gt=0;Gt<=nt.fields.length-1;Gt++)if("esriFieldTypeOID"===nt.fields[Gt].type){St=nt.fields[Gt].name;break}if(!St)for(Gt=0;Gt<=nt.fields.length-1;Gt++)if(nt.fields[Gt].name.match(o)){St=nt.fields[Gt].name;break}}return St}function U(nt){for(var St in nt.attributes)if(St.match(o))return St}function X(nt,St){var Gt,ee=nt.features||nt.results,ge=ee&&ee.length;Gt=St||R(nt);var Ae={type:"FeatureCollection",features:[]};if(ge)for(var yi=ee.length-1;yi>=0;yi--){var Fi=A(ee[yi],Gt||U(ee[yi]));Ae.features.push(Fi)}return Ae}function tt(nt){return"/"!==(nt=e.Util.trim(nt))[nt.length-1]&&(nt+="/"),nt}function pt(nt){if(-1!==nt.url.indexOf("?")){nt.requestParams=nt.requestParams||{};var St=nt.url.substring(nt.url.indexOf("?")+1);nt.url=nt.url.split("?")[0],nt.requestParams=JSON.parse('{"'+decodeURI(St).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return nt.url=tt(nt.url.split("?")[0]),nt}function ot(nt){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(nt)}function W(nt){var St;switch(nt){case"Point":St="esriGeometryPoint";break;case"MultiPoint":St="esriGeometryMultipoint";break;case"LineString":case"MultiLineString":St="esriGeometryPolyline";break;case"Polygon":case"MultiPolygon":St="esriGeometryPolygon"}return St}function K(nt){return nt.getSize().x-M.attributionWidthOffset+"px"}function gt(nt){if(nt.attributionControl){if(nt.attributionControl._esriAttributionLayerCount||(nt.attributionControl._esriAttributionLayerCount=0),0===nt.attributionControl._esriAttributionLayerCount){if(!nt.attributionControl._esriAttributionAddedOnce){var St=document.createElement("style");St.type="text/css",St.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(St);var Gt=document.createElement("style");Gt.type="text/css",Gt.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+K(nt)+";}",document.getElementsByTagName("head")[0].appendChild(Gt),nt.on("resize",function(ee){nt.attributionControl&&(nt.attributionControl._container.style.maxWidth=K(ee.target))}),nt.attributionControl._esriAttributionAddedOnce=!0}nt.attributionControl.setPrefix(m+' | Powered by <a href="https://www.esri.com">Esri</a>'),e.DomUtil.addClass(nt.attributionControl._container,"esri-truncated-attribution:hover"),e.DomUtil.addClass(nt.attributionControl._container,"esri-truncated-attribution")}nt.attributionControl._esriAttributionLayerCount=nt.attributionControl._esriAttributionLayerCount+1}}function yt(nt){nt.attributionControl&&(nt.attributionControl._esriAttributionLayerCount&&1===nt.attributionControl._esriAttributionLayerCount&&(nt.attributionControl.setPrefix(m),e.DomUtil.removeClass(nt.attributionControl._container,"esri-truncated-attribution:hover"),e.DomUtil.removeClass(nt.attributionControl._container,"esri-truncated-attribution")),nt.attributionControl._esriAttributionLayerCount=nt.attributionControl._esriAttributionLayerCount-1)}function _t(nt){var St={geometry:null,geometryType:null};return nt instanceof e.LatLngBounds?(St.geometry=f(nt),St.geometryType="esriGeometryEnvelope",St):(nt.getLatLng&&(nt=nt.getLatLng()),nt instanceof e.LatLng&&(nt={type:"Point",coordinates:[nt.lng,nt.lat]}),nt instanceof e.GeoJSON&&(nt=nt.getLayers()[0].feature.geometry,St.geometry=C(nt),St.geometryType=W(nt.type)),nt.toGeoJSON&&(nt=nt.toGeoJSON()),"Feature"===nt.type&&(nt=nt.geometry),"Point"===nt.type||"LineString"===nt.type||"Polygon"===nt.type||"MultiPolygon"===nt.type?(St.geometry=C(nt),St.geometryType=W(nt.type),St):void l("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"))}function rt(nt,St){T.cors&&N(nt,{},e.Util.bind(function(Gt,ee){if(!Gt){St._esriAttributions=[];for(var ge=0;ge<ee.contributors.length;ge++)for(var Ae=ee.contributors[ge],yi=0;yi<Ae.coverageAreas.length;yi++){var Fi=Ae.coverageAreas[yi],Li=e.latLng(Fi.bbox[0],Fi.bbox[1]),qi=e.latLng(Fi.bbox[2],Fi.bbox[3]);St._esriAttributions.push({attribution:Ae.attribution,score:Fi.score,bounds:e.latLngBounds(Li,qi),minZoom:Fi.zoomMin,maxZoom:Fi.zoomMax})}St._esriAttributions.sort(function(cn,Fn){return Fn.score-cn.score}),ut({target:St})}},this))}function ut(nt){var St=nt.target,Gt=St._esriAttributions;if(St&&St.attributionControl){var ee=St.attributionControl._container.querySelector(".esri-dynamic-attribution");if(ee&&Gt){for(var ge="",Ae=St.getBounds(),yi=e.latLngBounds(Ae.getSouthWest().wrap(),Ae.getNorthEast().wrap()),Fi=St.getZoom(),Li=0;Li<Gt.length;Li++){var qi=Gt[Li],cn=qi.attribution;!ge.match(cn)&&qi.bounds.intersects(yi)&&Fi>=qi.minZoom&&Fi<=qi.maxZoom&&(ge+=", "+cn)}ge=ge.substr(2),ee.innerHTML=ge,ee.style.maxWidth=K(St),St.fire("attributionupdated",{attribution:ge})}}}var at={warn:l,cleanUrl:tt,getUrlParams:pt,isArcgisOnline:ot,geojsonTypeToArcGIS:W,responseToFeatureCollection:X,geojsonToArcGIS:C,arcgisToGeoJSON:A,boundsToExtent:f,extentToBounds:k,calcAttributionWidth:K,setEsriAttribution:gt,_setGeometry:_t,_getAttributionData:rt,_updateMapAttribution:ut,_findIdAttributeFromFeature:U,_findIdAttributeFromResponse:R},Ct=e.Class.extend({options:{proxy:!1,useCors:s},generateSetter:function(nt,St){return e.Util.bind(function(Gt){return this.params[nt]=Gt,this},St)},initialize:function(nt){if(nt.request&&nt.options?(this._service=nt,e.Util.setOptions(this,nt.options)):(e.Util.setOptions(this,nt),this.options.url=tt(nt.url)),this.params=e.Util.extend({},this.params||{}),this.setters)for(var St in this.setters)this[St]=this.generateSetter(this.setters[St],this)},token:function(nt){return this._service?this._service.authenticate(nt):this.params.token=nt,this},apikey:function(nt){return this.token(nt)},format:function(nt){return this.params.returnUnformattedValues=!nt,this},request:function(nt,St){return this.options.requestParams&&e.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,nt,St):this._request("request",this.path,this.params,nt,St)},_request:function(nt,St,Gt,ee,ge){var Ae=this.options.proxy?this.options.proxy+"?"+this.options.url+St:this.options.url+St;return"get"!==nt&&"request"!==nt||this.options.useCors?d[nt](Ae,Gt,ee,ge):d.get.JSONP(Ae,Gt,ee,ge)}}),vt=Ct.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(nt){return this._setGeometryParams(nt),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(nt){return this._setGeometryParams(nt),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(nt){return this._setGeometryParams(nt),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(nt){return this._setGeometryParams(nt),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(nt){return this._setGeometryParams(nt),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(nt){return this._setGeometryParams(nt),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(nt){return this._setGeometryParams(nt),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(nt){return this._setGeometryParams(nt),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(nt,St){return nt=e.latLng(nt),this.params.geometry=[nt.lng,nt.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=St,this.params.inSR=4326,this},where:function(nt){return this.params.where=nt,this},between:function(nt,St){return this.params.time=[nt.valueOf(),St.valueOf()],this},simplify:function(nt,St){var Gt=Math.abs(nt.getBounds().getWest()-nt.getBounds().getEast());return this.params.maxAllowableOffset=Gt/nt.getSize().y*St,this},orderBy:function(nt,St){return St=St||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[nt,St].join(" "),this},run:function(nt,St){return this._cleanParams(),this.options.isModern||ot(this.options.url)&&void 0===this.options.isModern?(this.params.f="geojson",this.request(function(Gt,ee){this._trapSQLerrors(Gt),nt.call(St,Gt,ee,ee)},this)):this.request(function(Gt,ee){this._trapSQLerrors(Gt),nt.call(St,Gt,ee&&X(ee),ee)},this)},count:function(nt,St){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(Gt,ee){nt.call(this,Gt,ee&&ee.count,ee)},St)},ids:function(nt,St){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(Gt,ee){nt.call(this,Gt,ee&&ee.objectIds,ee)},St)},bounds:function(nt,St){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(Gt,ee){ee&&ee.extent&&k(ee.extent)?nt.call(St,Gt,k(ee.extent),ee):nt.call(St,Gt={message:"Invalid Bounds"},null,ee)},St)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(nt){var St=e.point(nt);return this.params.pixelSize=[St.x,St.y],this},layer:function(nt){return this.path=nt+"/query",this},_trapSQLerrors:function(nt){nt&&"400"===nt.code&&l("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(nt){this.params.inSR=4326;var St=_t(nt);this.params.geometry=St.geometry,this.params.geometryType=St.geometryType}});function ct(nt){return new vt(nt)}var Tt=Ct.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(nt,St){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[nt,St].join(":"),this},simplify:function(nt,St){var Gt=Math.abs(nt.getBounds().getWest()-nt.getBounds().getEast());return this.params.maxAllowableOffset=Gt/nt.getSize().y*St,this},run:function(nt,St){return this.request(function(Gt,ee){nt.call(St,Gt,ee&&X(ee),ee)},St)}});function kt(nt){return new Tt(nt)}var Ft=Ct.extend({path:"identify",between:function(nt,St){return this.params.time=[nt.valueOf(),St.valueOf()],this}}),Ot=Ft.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(nt){var St=f(nt.getBounds()),Gt=nt.getSize();return this.params.imageDisplay=[Gt.x,Gt.y,96],this.params.mapExtent=[St.xmin,St.ymin,St.xmax,St.ymax],this},at:function(nt){return 2===nt.length&&(nt=e.latLng(nt)),this._setGeometryParams(nt),this},layerDef:function(nt,St){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[nt,St].join(":"),this},simplify:function(nt,St){var Gt=Math.abs(nt.getBounds().getWest()-nt.getBounds().getEast());return this.params.maxAllowableOffset=Gt/nt.getSize().y*St,this},run:function(nt,St){return this.request(function(Gt,ee){if(Gt)nt.call(St,Gt,void 0,ee);else{var ge=X(ee);ee.results=ee.results.reverse();for(var Ae=0;Ae<ge.features.length;Ae++)ge.features[Ae].layerId=ee.results[Ae].layerId;nt.call(St,void 0,ge,ee)}})},_setGeometryParams:function(nt){var St=_t(nt);this.params.geometry=St.geometry,this.params.geometryType=St.geometryType}});function jt(nt){return new Ot(nt)}var $t=Ft.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(nt){return nt=e.latLng(nt),this.params.geometry=JSON.stringify({x:nt.lng,y:nt.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(nt,St){return this.request(function(Gt,ee){nt.call(St,Gt,ee&&this._responseToGeoJSON(ee),ee)},this)},_responseToGeoJSON:function(nt){var St=nt.location,Gt=nt.catalogItems,ee=nt.catalogItemVisibilities,ge={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[St.x,St.y]},crs:{type:"EPSG",properties:{code:St.spatialReference.wkid}},properties:{OBJECTID:nt.objectId,name:nt.name,value:nt.value},id:nt.objectId}};if(nt.properties&&nt.properties.Values&&(ge.pixel.properties.values=nt.properties.Values),Gt&&Gt.features&&(ge.catalogItems=X(Gt),ee&&ee.length===ge.catalogItems.features.length))for(var Ae=ee.length-1;Ae>=0;Ae--)ge.catalogItems.features[Ae].properties.catalogItemVisibility=ee[Ae];return ge}});function Wt(nt){return new $t(nt)}var ne=e.Evented.extend({options:{proxy:!1,useCors:s,timeout:0},initialize:function(nt){nt=nt||{},this._requestQueue=[],this._authenticating=!1,e.Util.setOptions(this,nt),this.options.url=tt(this.options.url)},get:function(nt,St,Gt,ee){return this._request("get",nt,St,Gt,ee)},post:function(nt,St,Gt,ee){return this._request("post",nt,St,Gt,ee)},request:function(nt,St,Gt,ee){return this._request("request",nt,St,Gt,ee)},metadata:function(nt,St){return this._request("get","",{},nt,St)},authenticate:function(nt){return this._authenticating=!1,this.options.token=nt,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(nt){this.options.timeout=nt},_request:function(nt,St,Gt,ee,ge){this.fire("requeststart",{url:this.options.url+St,params:Gt,method:nt},!0);var Ae=this._createServiceCallback(nt,St,Gt,ee,ge);if(this.options.token&&(Gt.token=this.options.token),this.options.requestParams&&e.Util.extend(Gt,this.options.requestParams),!this._authenticating){var yi=this.options.proxy?this.options.proxy+"?"+this.options.url+St:this.options.url+St;return"get"!==nt&&"request"!==nt||this.options.useCors?d[nt](yi,Gt,Ae,ge):d.get.JSONP(yi,Gt,Ae,ge)}this._requestQueue.push([nt,St,Gt,ee,ge])},_createServiceCallback:function(nt,St,Gt,ee,ge){return e.Util.bind(function(Ae,yi){!Ae||499!==Ae.code&&498!==Ae.code||(this._authenticating=!0,this._requestQueue.push([nt,St,Gt,ee,ge]),this.fire("authenticationrequired",{authenticate:e.Util.bind(this.authenticate,this)},!0),Ae.authenticate=e.Util.bind(this.authenticate,this)),ee.call(ge,Ae,yi),Ae?this.fire("requesterror",{url:this.options.url+St,params:Gt,message:Ae.message,code:Ae.code,method:nt},!0):this.fire("requestsuccess",{url:this.options.url+St,params:Gt,response:yi,method:nt},!0),this.fire("requestend",{url:this.options.url+St,params:Gt,method:nt},!0)},this)},_runQueue:function(){for(var nt=this._requestQueue.length-1;nt>=0;nt--){var St=this._requestQueue[nt];this[St.shift()].apply(this,St)}this._requestQueue=[]}}),Jt=ne.extend({identify:function(){return jt(this)},find:function(){return kt(this)},query:function(){return ct(this)}});function Nt(nt){return new Jt(nt)}var Rt=ne.extend({query:function(){return ct(this)},identify:function(){return Wt(this)}});function ie(nt){return new Rt(nt)}var se=ne.extend({options:{idAttribute:"OBJECTID"},query:function(){return ct(this)},addFeature:function(nt,St,Gt){this.addFeatures(nt,St,Gt)},addFeatures:function(nt,St,Gt){for(var ee=nt.features?nt.features:[nt],ge=ee.length-1;ge>=0;ge--)delete ee[ge].id;return nt=C(nt),this.post("addFeatures",{features:nt=ee.length>1?nt:[nt]},function(Ae,yi){St&&St.call(Gt,Ae||yi.addResults[0].error,yi&&yi.addResults?yi.addResults.length>1?yi.addResults:yi.addResults[0]:void 0)},Gt)},updateFeature:function(nt,St,Gt){this.updateFeatures(nt,St,Gt)},updateFeatures:function(nt,St,Gt){var ee=nt.features?nt.features:[nt];return nt=C(nt,this.options.idAttribute),this.post("updateFeatures",{features:nt=ee.length>1?nt:[nt]},function(ge,Ae){St&&St.call(Gt,ge||Ae.updateResults[0].error,Ae&&Ae.updateResults?Ae.updateResults.length>1?Ae.updateResults:Ae.updateResults[0]:void 0)},Gt)},deleteFeature:function(nt,St,Gt){this.deleteFeatures(nt,St,Gt)},deleteFeatures:function(nt,St,Gt){return this.post("deleteFeatures",{objectIds:nt},function(ee,ge){St&&St.call(Gt,ee||ge.deleteResults[0].error,ge&&ge.deleteResults?ge.deleteResults.length>1?ge.deleteResults:ge.deleteResults[0]:void 0)},Gt)}});function ce(nt){return new se(nt)}var te="https:"!==window.location.protocol?"http:":"https:",Ie=e.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:te+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:te+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:te+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:te+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:te+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:te+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(nt,St){var Gt;if("object"==typeof nt&&nt.urlTemplate&&nt.options)Gt=nt;else{if("string"!=typeof nt||!Ie.TILES[nt])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');Gt=Ie.TILES[nt]}var ee=e.Util.extend(Gt.options,St);e.Util.setOptions(this,ee),this.options.ignoreDeprecationWarning||console.warn("WARNING: L.esri.BasemapLayer uses data services that are in mature support and are not being updated. Please use L.esri.Vector.vectorBasemapLayer instead. More info: https://esriurl.com/esri-leaflet-basemap"),this.options.token&&-1===Gt.urlTemplate.indexOf("token=")&&(Gt.urlTemplate+="?token="+this.options.token),this.options.proxy&&(Gt.urlTemplate=this.options.proxy+"?"+Gt.urlTemplate),e.TileLayer.prototype.initialize.call(this,Gt.urlTemplate,ee)},onAdd:function(nt){gt(nt),"esri-labels"===this.options.pane&&this._initPane(),this.options.attributionUrl&&rt((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,nt),nt.on("moveend",ut),e.TileLayer.prototype.onAdd.call(this,nt)},onRemove:function(nt){yt(nt),nt.off("moveend",ut),e.TileLayer.prototype.onRemove.call(this,nt)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var nt=this._map.createPane(this.options.pane);nt.style.pointerEvents="none",nt.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var nt='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return nt}}),Ve=e.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(nt){nt=pt(nt=e.Util.setOptions(this,nt)),this.tileUrl=(nt.proxy?nt.proxy+"?":"")+nt.url+"tile/{z}/{y}/{x}"+(nt.requestParams&&Object.keys(nt.requestParams).length>0?e.Util.getParamString(nt.requestParams):""),-1!==nt.url.indexOf("{s}")&&nt.subdomains&&(nt.url=nt.url.replace("{s}",nt.subdomains[0])),this.service=Nt(nt),this.service.addEventParent(this),new RegExp(/tiles.arcgis(online)?\.com/g).test(nt.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),nt.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),e.TileLayer.prototype.initialize.call(this,this.tileUrl,nt)},getTileUrl:function(nt){var St=this._getZoomForUrl();return e.Util.template(this.tileUrl,e.Util.extend({s:this._getSubdomain(nt),x:nt.x,y:nt.y,z:this._lodMap&&this._lodMap[St]?this._lodMap[St]:St},this.options))},createTile:function(nt,St){var Gt=document.createElement("img");return e.DomEvent.on(Gt,"load",e.Util.bind(this._tileOnLoad,this,St,Gt)),e.DomEvent.on(Gt,"error",e.Util.bind(this._tileOnError,this,St,Gt)),this.options.crossOrigin&&(Gt.crossOrigin=""),Gt.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?Gt.src=this.getTileUrl(nt):this.once("lodmap",function(){Gt.src=this.getTileUrl(nt)},this),Gt},onAdd:function(nt){gt(nt),this._lodMap||this.metadata(function(St,Gt){if(!St&&Gt.spatialReference){var ee=Gt.spatialReference.latestWkid||Gt.spatialReference.wkid;if(!this.options.attribution&&nt.attributionControl&&Gt.copyrightText&&(this.options.attribution=Gt.copyrightText,nt.attributionControl.addAttribution(this.getAttribution())),nt.options.crs!==e.CRS.EPSG3857||102100!==ee&&3857!==ee)nt.options.crs&&nt.options.crs.code&&nt.options.crs.code.indexOf(ee)>-1||l("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/");else{this._lodMap={};for(var ge=Gt.tileInfo.lods,Ae=Ve.MercatorZoomLevels,yi=0;yi<ge.length;yi++){var Fi=ge[yi];for(var Li in Ae)if(this._withinPercentage(Fi.resolution,Ae[Li],this.options.zoomOffsetAllowance)){this._lodMap[Li]=Fi.level;break}}this.fire("lodmap")}}},this),e.TileLayer.prototype.onAdd.call(this,nt)},onRemove:function(nt){yt(nt),e.TileLayer.prototype.onRemove.call(this,nt)},metadata:function(nt,St){return this.service.metadata(nt,St),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(nt){var St="?token="+nt;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,St):this.tileUrl+St,this.options.token=nt,this.service.authenticate(nt),this},_withinPercentage:function(nt,St,Gt){return Math.abs(nt/St-1)<Gt}}),Ai=e.ImageOverlay.extend({onAdd:function(nt){this._topLeft=nt.getPixelBounds().min,e.ImageOverlay.prototype.onAdd.call(this,nt)},_reset:function(){this._map.options.crs===e.CRS.EPSG3857?e.ImageOverlay.prototype._reset.call(this):e.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),gi=e.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:s,attribution:null,interactive:!1,alt:""},onAdd:function(nt){gt(nt),this.options.zIndex&&(this.options.position=null),this._update=e.Util.throttle(this._update,this.options.updateInterval,this),nt.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?nt.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(St,Gt){!St&&!this.options.attribution&&nt.attributionControl&&Gt.copyrightText&&(this.options.attribution=Gt.copyrightText,nt.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(nt){yt(nt),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(nt,St){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=e.popup(St),this._popupFunction=nt,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(nt){return this.options.zIndex=nt,this._currentImage&&this._currentImage.setZIndex(nt),this},_setAutoZIndex:function(nt){if(this._currentImage){for(var St,Gt=this._currentImage.getPane().children,ee=-nt(-1/0,1/0),ge=0,Ae=Gt.length;ge<Ae;ge++)St=Gt[ge].style.zIndex,Gt[ge]!==this._currentImage._image&&St&&(ee=nt(ee,+St));isFinite(ee)&&(this.options.zIndex=ee+nt(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(nt){return this.options.opacity=nt,this._currentImage&&this._currentImage.setOpacity(nt),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(nt,St){return this.options.from=nt,this.options.to=St,this._update(),this},metadata:function(nt,St){return this.service.metadata(nt,St),this},authenticate:function(nt){return this.service.authenticate(nt),this},redraw:function(){this._update()},_renderImage:function(nt,St,Gt){if(this._map){if(Gt&&(nt="data:"+Gt+";base64,"+nt),!nt)return;var ee=new Ai(nt,St,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),ge=function(){this._map.removeLayer(ee),this.fire("error"),ee.off("load",Ae,this)},Ae=function(yi){if(ee.off("error",ge,this),this._map){var Fi=yi.target,Li=this._currentImage;Fi._bounds.equals(St)&&Fi._bounds.equals(this._map.getBounds())?(this._currentImage=Fi,"front"===this.options.position?this.bringToFront():"back"===this.options.position&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),Li&&this._map&&this._map.removeLayer(Li),Li&&Li._map&&Li._map.removeLayer(Li)):this._map.removeLayer(Fi)}this.fire("load",{bounds:St})};ee.once("error",ge,this),ee.once("load",Ae,this)}},_update:function(){if(this._map){var nt=this._map.getZoom(),St=this._map.getBounds();if(!(this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress))if(nt>this.options.maxZoom||nt<this.options.minZoom)this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var Gt=this._buildExportParams();e.Util.extend(Gt,this.options.requestParams),Gt?(this._requestExport(Gt,St),this.fire("loading",{bounds:St})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(nt,St,Gt,ee){if(nt=e.latLng(nt),this._shouldRenderPopup&&this._lastClick.equals(nt)){var ge=this._popupFunction(St,Gt,ee);ge&&this._popup.setLatLng(nt).setContent(ge).openOn(this._map)}},_resetPopupState:function(nt){this._shouldRenderPopup=!1,this._lastClick=nt.latlng},_calculateBbox:function(){var nt=this._map.getPixelBounds(),St=this._map.unproject(nt.getBottomLeft()),Gt=this._map.unproject(nt.getTopRight()),ee=this._map.options.crs.project(Gt),ge=this._map.options.crs.project(St),Ae=e.bounds(ee,ge);return[Ae.getBottomLeft().x,Ae.getBottomLeft().y,Ae.getTopRight().x,Ae.getTopRight().y].join(",")},_calculateImageSize:function(){var nt=this._map.getPixelBounds(),St=this._map.getSize(),Gt=this._map.unproject(nt.getBottomLeft()),ee=this._map.unproject(nt.getTopRight()),ge=this._map.latLngToLayerPoint(ee).y,Ae=this._map.latLngToLayerPoint(Gt).y;return(ge>0||Ae<St.y)&&(St.y=Ae-ge),St.x+","+St.y}}),pi=gi.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(nt){nt=pt(nt),this.service=ie(nt),this.service.addEventParent(this),e.Util.setOptions(this,nt)},setPixelType:function(nt){return this.options.pixelType=nt,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(nt){return this.options.bandIds=e.Util.isArray(nt)?nt.join(","):nt.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(nt,St){return this.options.noData=e.Util.isArray(nt)?nt.join(","):nt.toString(),St&&(this.options.noDataInterpretation=St),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(nt){this.options.renderingRule=nt,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(nt){this.options.mosaicRule=nt,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(nt){var St=e.Util.bind(function(ee,ge,Ae){ee||setTimeout(e.Util.bind(function(){this._renderPopup(nt.latlng,ee,ge,Ae)},this),300)},this),Gt=this.identify().at(nt.latlng);this.options.mosaicRule&&Gt.setMosaicRule(this.options.mosaicRule),Gt.run(St),this._shouldRenderPopup=!0,this._lastClick=nt.latlng},_buildExportParams:function(){var nt=parseInt(this._map.options.crs.code.split(":")[1],10),St={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:nt,imageSR:nt};return this.options.from&&this.options.to&&(St.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(St.pixelType=this.options.pixelType),this.options.interpolation&&(St.interpolation=this.options.interpolation),this.options.compressionQuality&&(St.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(St.bandIds=this.options.bandIds),(0===this.options.noData||this.options.noData)&&(St.noData=this.options.noData),this.options.noDataInterpretation&&(St.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(St.token=this.service.options.token),this.options.renderingRule&&(St.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(St.mosaicRule=JSON.stringify(this.options.mosaicRule)),St},_requestExport:function(nt,St){if("json"===this.options.f)this.service.request("exportImage",nt,function(ee,ge){ee||(this.options.token&&(ge.href+="?token="+this.options.token),this.options.proxy&&(ge.href=this.options.proxy+"?"+ge.href),this._renderImage(ge.href,St))},this);else{nt.f="image";var Gt=this.options.url+"exportImage"+e.Util.getParamString(nt);this.options.proxy&&(Gt=this.options.proxy+"?"+Gt),this._renderImage(Gt,St)}}}),Ri=gi.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(nt){nt=pt(nt),this.service=Nt(nt),this.service.addEventParent(this),e.Util.setOptions(this,nt)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(nt){return this.options.dynamicLayers=nt,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(nt){return this.options.layers=nt,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(nt){return this.options.layerDefs=nt,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(nt){return this.options.timeOptions=nt,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(nt){var St,Gt=e.Util.bind(function(ge,Ae,yi){ge||setTimeout(e.Util.bind(function(){this._renderPopup(nt.latlng,ge,Ae,yi)},this),300)},this);if((St=this.options.popup?this.options.popup.on(this._map).at(nt.latlng):this.identify().on(this._map).at(nt.latlng)).params.maxAllowableOffset||St.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||St.layers(this.options.layers?"visible:"+this.options.layers.join(","):"visible"),this.options.layerDefs&&"string"!=typeof this.options.layerDefs&&!St.params.layerDefs)for(var ee in this.options.layerDefs)Object.prototype.hasOwnProperty.call(this.options.layerDefs,ee)&&St.layerDef(ee,this.options.layerDefs[ee]);St.run(Gt),this._shouldRenderPopup=!0,this._lastClick=nt.latlng},_buildExportParams:function(){var nt=parseInt(this._map.options.crs.code.split(":")[1],10),St={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:nt,imageSR:nt};if(this.options.dynamicLayers&&(St.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(0===this.options.layers.length)return;St.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(St.layerDefs="string"==typeof this.options.layerDefs?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(St.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(St.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(St.token=this.service.options.token),this.options.proxy&&(St.proxy=this.options.proxy),this.options.disableCache&&(St._ts=Date.now()),St},_requestExport:function(nt,St){if("json"===this.options.f)this.service.request("export",nt,function(ee,ge){ee||(this.options.token&&ge.href&&(ge.href+="?token="+this.options.token),this.options.proxy&&ge.href&&(ge.href=this.options.proxy+"?"+ge.href),ge.href?this._renderImage(ge.href,St):this._renderImage(ge.imageData,St,ge.contentType))},this);else{nt.f="image";var Gt=this.options.url+"export"+e.Util.getParamString(nt);this.options.proxy&&(Gt=this.options.proxy+"?"+Gt),this._renderImage(Gt,St)}}}),ti=e.Layer.extend({options:{cellSize:512,updateWhenIdle:e.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(nt){e.Util.setOptions(this,nt)},onAdd:function(nt){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(nt){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var nt={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=e.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),nt.move=this._onMove),nt},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var nt=this.options.cellSize;return nt instanceof e.Point?nt:new e.Point(nt,nt)},_pruneCells:function(){if(this._map){var nt,St;for(nt in this._cells)(St=this._cells[nt]).retain=St.current;for(nt in this._cells)if((St=this._cells[nt]).current&&!St.active){var Gt=St.coords;this._retainParent(Gt.x,Gt.y,Gt.z,Gt.z-5)||this._retainChildren(Gt.x,Gt.y,Gt.z,Gt.z+2)}for(nt in this._cells)this._cells[nt].retain||this._removeCell(nt)}},_removeAllCells:function(){for(var nt in this._cells)this._removeCell(nt)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(nt,St,Gt,ee){var ge=Math.floor(nt/2),Ae=Math.floor(St/2),yi=Gt-1,Fi=new e.Point(+ge,+Ae);Fi.z=+yi;var Li=this._cellCoordsToKey(Fi),qi=this._cells[Li];return qi&&qi.active?(qi.retain=!0,!0):(qi&&qi.loaded&&(qi.retain=!0),yi>ee&&this._retainParent(ge,Ae,yi,ee))},_retainChildren:function(nt,St,Gt,ee){for(var ge=2*nt;ge<2*nt+2;ge++)for(var Ae=2*St;Ae<2*St+2;Ae++){var yi=new e.Point(ge,Ae);yi.z=Gt+1;var Fi=this._cellCoordsToKey(yi),Li=this._cells[Fi];Li&&Li.active?Li.retain=!0:(Li&&Li.loaded&&(Li.retain=!0),Gt+1<ee&&this._retainChildren(ge,Ae,Gt+1,ee))}},_resetView:function(nt){var St=nt&&(nt.pinch||nt.flyTo);St||this._setView(this._map.getCenter(),this._map.getZoom(),St,St)},_setView:function(nt,St,Gt,ee){var ge=Math.round(St);ee||(this._cellZoom=ge,this._abortLoading&&this._abortLoading(),this._resetGrid(),void 0!==ge&&this._update(nt),Gt||this._pruneCells(),this._noPrune=!!Gt)},_resetGrid:function(){var nt=this._map,St=nt.options.crs,Gt=this._cellSize=this.getCellSize(),ee=this._cellZoom,ge=this._map.getPixelWorldBounds(this._cellZoom);ge&&(this._globalCellRange=this._pxBoundsToCellRange(ge)),this._wrapX=St.wrapLng&&!this.options.noWrap&&[Math.floor(nt.project([0,St.wrapLng[0]],ee).x/Gt.x),Math.ceil(nt.project([0,St.wrapLng[1]],ee).x/Gt.y)],this._wrapY=St.wrapLat&&!this.options.noWrap&&[Math.floor(nt.project([St.wrapLat[0],0],ee).y/Gt.x),Math.ceil(nt.project([St.wrapLat[1],0],ee).y/Gt.y)]},_onMoveEnd:function(nt){nt&&(nt.pinch||nt.flyTo)||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(nt){var St=this._map,Gt=St._animatingZoom?Math.max(St._animateToZoom,St.getZoom()):St.getZoom(),ee=St.getZoomScale(Gt,this._cellZoom),ge=St.project(nt,this._cellZoom).floor(),Ae=St.getSize().divideBy(2*ee);return new e.Bounds(ge.subtract(Ae),ge.add(Ae))},_update:function(nt){var St=this._map;if(St){var Gt=Math.round(St.getZoom());void 0===nt&&(nt=St.getCenter());var ee=this._getCelldPixelBounds(nt),ge=this._pxBoundsToCellRange(ee),Ae=ge.getCenter(),yi=[],Fi=this.options.keepBuffer,Li=new e.Bounds(ge.getBottomLeft().subtract([Fi,-Fi]),ge.getTopRight().add([Fi,-Fi]));if(!(isFinite(ge.min.x)&&isFinite(ge.min.y)&&isFinite(ge.max.x)&&isFinite(ge.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var qi in this._cells){var cn=this._cells[qi].coords;cn.z===this._cellZoom&&Li.contains(new e.Point(cn.x,cn.y))||(this._cells[qi].current=!1)}if(Math.abs(Gt-this._cellZoom)>1)this._setView(nt,Gt);else{for(var Fn=ge.min.y;Fn<=ge.max.y;Fn++)for(var Gn=ge.min.x;Gn<=ge.max.x;Gn++){var Yi=new e.Point(Gn,Fn);if(Yi.z=this._cellZoom,this._isValidCell(Yi)){var ei=this._cells[this._cellCoordsToKey(Yi)];ei?ei.current=!0:yi.push(Yi)}}if(yi.sort(function(Xi,tn){return Xi.distanceTo(Ae)-tn.distanceTo(Ae)}),0!==yi.length)for(this._loading||(this._loading=!0),Gn=0;Gn<yi.length;Gn++){var ai=this._cellCoordsToKey(yi[Gn]),li=this._keyToCellCoords(ai);this._activeCells[li]?this._reuseCell(yi[Gn]):this._createCell(yi[Gn])}}}},_isValidCell:function(nt){var St=this._map.options.crs;if(!St.infinite){var Gt=this._globalCellRange;if(!St.wrapLng&&(nt.x<Gt.min.x||nt.x>Gt.max.x)||!St.wrapLat&&(nt.y<Gt.min.y||nt.y>Gt.max.y))return!1}if(!this.options.bounds)return!0;var ee=this._cellCoordsToBounds(nt);return e.toLatLngBounds(this.options.bounds).overlaps(ee)},_keyToBounds:function(nt){return this._cellCoordsToBounds(this._keyToCellCoords(nt))},_cellCoordsToNwSe:function(nt){var St=this._map,Gt=this.getCellSize(),ee=nt.scaleBy(Gt),ge=ee.add(Gt);return[St.unproject(ee,nt.z),St.unproject(ge,nt.z)]},_cellCoordsToBounds:function(nt){var St=this._cellCoordsToNwSe(nt),Gt=new e.LatLngBounds(St[0],St[1]);return this.options.noWrap||(Gt=this._map.wrapLatLngBounds(Gt)),Gt},_cellCoordsToKey:function(nt){return nt.x+":"+nt.y+":"+nt.z},_keyToCellCoords:function(nt){var St=nt.split(":"),Gt=new e.Point(+St[0],+St[1]);return Gt.z=+St[2],Gt},_removeCell:function(nt){var St=this._cells[nt];if(St){var Gt=this._keyToCellCoords(nt),ee=this._wrapCoords(Gt),ge=this._cellCoordsToBounds(this._wrapCoords(Gt));St.current=!1,delete this._cells[nt],this._activeCells[nt]=St,this.cellLeave(ge,ee,nt),this.fire("cellleave",{key:nt,coords:ee,bounds:ge})}},_reuseCell:function(nt){var St=this._cellCoordsToKey(nt);this._cells[St]=this._activeCells[St],this._cells[St].current=!0;var Gt=this._wrapCoords(nt),ee=this._cellCoordsToBounds(this._wrapCoords(nt));this.cellEnter(ee,Gt,St),this.fire("cellenter",{key:St,coords:Gt,bounds:ee})},_createCell:function(nt){var St=this._cellCoordsToKey(nt),Gt=this._wrapCoords(nt),ee=this._cellCoordsToBounds(this._wrapCoords(nt));this.createCell(ee,Gt,St),this.fire("cellcreate",{key:St,coords:Gt,bounds:ee}),this._cells[St]={coords:nt,current:!0},e.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(nt,St,Gt){var ee=this._cellCoordsToKey(nt);(Gt=this._cells[ee])&&(Gt.loaded=+new Date,Gt.active=!0)},_getCellPos:function(nt){return nt.scaleBy(this.getCellSize())},_wrapCoords:function(nt){var St=new e.Point(this._wrapX?e.Util.wrapNum(nt.x,this._wrapX):nt.x,this._wrapY?e.Util.wrapNum(nt.y,this._wrapY):nt.y);return St.z=nt.z,St},_pxBoundsToCellRange:function(nt){var St=this.getCellSize();return new e.Bounds(nt.min.unscaleBy(St).floor(),nt.max.unscaleBy(St).ceil().subtract([1,1]))}});function Ti(nt){this.values=[].concat(nt||[])}Ti.prototype.query=function(nt){var St=this.getIndex(nt);return this.values[St]},Ti.prototype.getIndex=function(nt){this.dirty&&this.sort();for(var St,Gt,ee=0,ge=this.values.length-1;ee<=ge;)if(St=(ee+ge)/2|0,+(Gt=this.values[Math.round(St)]).value<+nt)ee=St+1;else{if(!(+Gt.value>+nt))return St;ge=St-1}return Math.abs(~ge)},Ti.prototype.between=function(nt,St){var Gt=this.getIndex(nt),ee=this.getIndex(St);if(0===Gt&&0===ee)return[];for(;this.values[Gt-1]&&this.values[Gt-1].value===nt;)Gt--;for(;this.values[ee+1]&&this.values[ee+1].value===St;)ee++;return this.values[ee]&&this.values[ee].value===St&&this.values[ee+1]&&ee++,this.values.slice(Gt,ee)},Ti.prototype.insert=function(nt){return this.values.splice(this.getIndex(nt.value),0,nt),this},Ti.prototype.bulkAdd=function(nt,St){return this.values=this.values.concat([].concat(nt||[])),St?this.sort():this.dirty=!0,this},Ti.prototype.sort=function(){return this.values.sort(function(nt,St){return+St.value-+nt.value}).reverse(),this.dirty=!1,this};var xi=ti.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(nt){if(ti.prototype.initialize.call(this,nt),nt=pt(nt),nt=e.Util.setOptions(this,nt),this.service=ce(nt),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var St=!1,Gt=0;Gt<this.options.fields.length;Gt++)this.options.fields[Gt].match(/^(OBJECTID|FID|OID|ID)$/i)&&(St=!0);!1===St&&l("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Ti,this._endTimeIndex=new Ti):this.options.timeField&&(this._timeIndex=new Ti),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(nt){return gt(nt),this.service.metadata(function(St,Gt){if(!St){var ee=Gt.supportedQueryFormats,ge=!1;(!1===this.service.options.isModern||this.options.fetchAllFeatures)&&(ge=!0),!ge&&ee&&-1!==ee.indexOf("geoJSON")&&(this.service.options.isModern=!0),Gt.objectIdField&&(this.service.options.idAttribute=Gt.objectIdField),!this.options.attribution&&nt.attributionControl&&Gt.copyrightText&&(this.options.attribution=Gt.copyrightText,nt.attributionControl.addAttribution(this.getAttribution()))}},this),nt.on("zoomend",this._handleZoomChange,this),ti.prototype.onAdd.call(this,nt)},onRemove:function(nt){return yt(nt),nt.off("zoomend",this._handleZoomChange,this),ti.prototype.onRemove.call(this,nt)},getAttribution:function(){return this.options.attribution},createCell:function(nt,St){this._visibleZoom()&&this._requestFeatures(nt,St)},_requestFeatures:function(nt,St,Gt,ee){this._activeRequests++,ee=ee||0;var ge=this.options.where;return 1===this._activeRequests&&this.fire("loading",{bounds:nt},!0),this._buildQuery(nt,ee).run(function(Ae,yi,Fi){Fi&&Fi.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===ge&&(!Ae&&yi&&yi.features.length&&e.Util.requestAnimFrame(e.Util.bind(function(){this._addFeatures(yi.features,St),this._postProcessFeatures(nt)},this)),Ae||!yi||yi.features.length||this._postProcessFeatures(nt),Ae&&this._postProcessFeatures(nt),Gt&&Gt.call(this,Ae,yi),Fi&&(Fi.exceededTransferLimit||Fi.properties&&Fi.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(nt,St,Gt,ee+yi.features.length))},this)},_postProcessFeatures:function(nt){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:nt})},_cacheKey:function(nt){return nt.z+":"+nt.x+":"+nt.y},_addFeatures:function(nt,St){if(St){var Gt=this._cacheKey(St);this._cache[Gt]=this._cache[Gt]||[]}for(var ee=nt.length-1;ee>=0;ee--){var ge=nt[ee].id;-1===this._currentSnapshot.indexOf(ge)&&this._currentSnapshot.push(ge),void 0!==Gt&&-1===this._cache[Gt].indexOf(ge)&&this._cache[Gt].push(ge)}this.options.timeField&&this._buildTimeIndexes(nt),this.createLayers(nt)},_buildQuery:function(nt,St){var Gt=this.service.query().intersects(nt).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(St))&&(Gt=Gt.offset(St)),Gt.params.resultType="tile",this.options.requestParams&&e.Util.extend(Gt.params,this.options.requestParams),this.options.simplifyFactor&&Gt.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&Gt.between(this.options.from,this.options.to),Gt},setWhere:function(nt,St,Gt){this.options.where=nt&&nt.length?nt:"1=1";for(var ee=[],ge=[],Ae=0,yi=null,Fi=e.Util.bind(function(Gn,Yi){if(Gn&&(yi=Gn),Yi)for(var ei=Yi.features.length-1;ei>=0;ei--)ge.push(Yi.features[ei].id);--Ae<=0&&this._visibleZoom()&&nt===this.options.where&&(this._currentSnapshot=ge,e.Util.requestAnimFrame(e.Util.bind(function(){this.removeLayers(ee),this.addLayers(ge),St&&St.call(Gt,yi)},this)))},this),Li=this._currentSnapshot.length-1;Li>=0;Li--)ee.push(this._currentSnapshot[Li]);for(var qi in this._cache={},this._cells){Ae++;var cn=this._keyToCellCoords(qi),Fn=this._cellCoordsToBounds(cn);this._requestFeatures(Fn,cn,Fi)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(nt,St,Gt,ee){var ge=this.options.from,Ae=this.options.to,yi=0,Fi=null,Li=e.Util.bind(function(Gn){Gn&&(Fi=Gn),this._filterExistingFeatures(ge,Ae,nt,St),yi--,Gt&&yi<=0&&Gt.call(ee,Fi)},this);if(this.options.from=nt,this.options.to=St,this._filterExistingFeatures(ge,Ae,nt,St),"server"===this.options.timeFilterMode)for(var qi in this._cells){yi++;var cn=this._keyToCellCoords(qi),Fn=this._cellCoordsToBounds(cn);this._requestFeatures(Fn,cn,Li)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(nt,St,Gt,ee){var ge=nt&&St?this._getFeaturesInTimeRange(nt,St):this._currentSnapshot,Ae=this._getFeaturesInTimeRange(Gt,ee);if(Ae.indexOf)for(var yi=0;yi<Ae.length;yi++){var Fi=ge.indexOf(Ae[yi]);Fi>=0&&ge.splice(Fi,1)}e.Util.requestAnimFrame(e.Util.bind(function(){this.removeLayers(ge),this.addLayers(Ae)},this))},_getFeaturesInTimeRange:function(nt,St){var Gt,ee=[];if(this.options.timeField.start&&this.options.timeField.end){var ge=this._startTimeIndex.between(nt,St),Ae=this._endTimeIndex.between(nt,St);Gt=ge.concat(Ae)}else{if(!this._timeIndex)return l("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];Gt=this._timeIndex.between(nt,St)}for(var yi=Gt.length-1;yi>=0;yi--)ee.push(Gt[yi].id);return ee},_buildTimeIndexes:function(nt){var St,Gt;if(this.options.timeField.start&&this.options.timeField.end){var ee=[],ge=[];for(St=nt.length-1;St>=0;St--)ee.push({id:(Gt=nt[St]).id,value:new Date(Gt.properties[this.options.timeField.start])}),ge.push({id:Gt.id,value:new Date(Gt.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(ee),this._endTimeIndex.bulkAdd(ge)}else{var Ae=[];for(St=nt.length-1;St>=0;St--)Ae.push({id:(Gt=nt[St]).id,value:new Date(Gt.properties[this.options.timeField])});this._timeIndex.bulkAdd(Ae)}},_featureWithinTimeRange:function(nt){if(!this.options.from||!this.options.to)return!0;var St=+this.options.from.valueOf(),Gt=+this.options.to.valueOf();if("string"==typeof this.options.timeField){var ee=+nt.properties[this.options.timeField];return ee>=St&&ee<=Gt}if(this.options.timeField.start&&this.options.timeField.end){var ge=+nt.properties[this.options.timeField.start],Ae=+nt.properties[this.options.timeField.end];return ge>=St&&ge<=Gt||Ae>=St&&Ae<=Gt||ge<=St&&Ae>=Gt}},_visibleZoom:function(){if(!this._map)return!1;var nt=this._map.getZoom();return!(nt>this.options.maxZoom||nt<this.options.minZoom)},_handleZoomChange:function(){if(this._visibleZoom())for(var nt in this._cells){var Gt=this._cacheKey(this._cells[nt].coords);this._cache[Gt]&&this.addLayers(this._cache[Gt])}else this.removeLayers(this._currentSnapshot),this._currentSnapshot=[]},authenticate:function(nt){return this.service.authenticate(nt),this},metadata:function(nt,St){return this.service.metadata(nt,St),this},query:function(){return this.service.query()},_getMetadata:function(nt){this._metadata?nt(void 0,this._metadata):this.metadata(e.Util.bind(function(St,Gt){this._metadata=Gt,nt(St,this._metadata)},this))},addFeature:function(nt,St,Gt){this.addFeatures(nt,St,Gt)},addFeatures:function(nt,St,Gt){this._getMetadata(e.Util.bind(function(ee,ge){if(ee)St&&St.call(this,ee,null);else{var Ae=nt.features?nt.features:[nt];this.service.addFeatures(nt,e.Util.bind(function(yi,Fi){if(!yi){for(var Li=Ae.length-1;Li>=0;Li--)Ae[Li].properties[ge.objectIdField]=Ae.length>1?Fi[Li].objectId:Fi.objectId,Ae[Li].id=Ae.length>1?Fi[Li].objectId:Fi.objectId;this._addFeatures(Ae)}St&&St.call(Gt,yi,Fi)},this))}},this))},updateFeature:function(nt,St,Gt){this.updateFeatures(nt,St,Gt)},updateFeatures:function(nt,St,Gt){var ee=nt.features?nt.features:[nt];this.service.updateFeatures(nt,function(ge,Ae){if(!ge){for(var yi=ee.length-1;yi>=0;yi--)this.removeLayers([ee[yi].id],!0);this._addFeatures(ee)}St&&St.call(Gt,ge,Ae)},this)},deleteFeature:function(nt,St,Gt){this.deleteFeatures(nt,St,Gt)},deleteFeatures:function(nt,St,Gt){return this.service.deleteFeatures(nt,function(ee,ge){var Ae=ge.length?ge:[ge];if(!ee&&Ae.length>0)for(var yi=Ae.length-1;yi>=0;yi--)this.removeLayers([Ae[yi].objectId],!0);St&&St.call(Gt,ee,ge)},this)}}),be=xi.extend({options:{cacheLayers:!0},initialize:function(nt){nt.apikey&&(nt.token=nt.apikey),xi.prototype.initialize.call(this,nt),this._originalStyle=this.options.style,this._layers={}},onRemove:function(nt){for(var St in this._layers)nt.removeLayer(this._layers[St]),this.fire("removefeature",{feature:this._layers[St].feature,permanent:!1},!0);return xi.prototype.onRemove.call(this,nt)},createNewLayer:function(nt){var St=e.GeoJSON.geometryToLayer(nt,this.options);return St&&(St.defaultOptions=St.options),St},_updateLayer:function(nt,St){var Gt=[],ee=this.options.coordsToLatLng||e.GeoJSON.coordsToLatLng;switch(St.properties&&(nt.feature.properties=St.properties),St.geometry.type){case"Point":Gt=e.GeoJSON.coordsToLatLng(St.geometry.coordinates),nt.setLatLng(Gt);break;case"LineString":Gt=e.GeoJSON.coordsToLatLngs(St.geometry.coordinates,0,ee),nt.setLatLngs(Gt);break;case"MultiLineString":case"Polygon":Gt=e.GeoJSON.coordsToLatLngs(St.geometry.coordinates,1,ee),nt.setLatLngs(Gt);break;case"MultiPolygon":Gt=e.GeoJSON.coordsToLatLngs(St.geometry.coordinates,2,ee),nt.setLatLngs(Gt)}this.redraw(nt.feature.id)},createLayers:function(nt){for(var St=nt.length-1;St>=0;St--){var Gt,ee=nt[St],ge=this._layers[ee.id];!this._visibleZoom()||!ge||this._map.hasLayer(ge)||this.options.timeField&&!this._featureWithinTimeRange(ee)||(this._map.addLayer(ge),this.fire("addfeature",{feature:ge.feature},!0)),ge&&(ge.setLatLngs||ge.setLatLng)&&this._updateLayer(ge,ee),ge||((Gt=this.createNewLayer(ee))?(Gt.feature=ee,Gt.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(Gt.feature,Gt),this._layers[Gt.feature.id]=Gt,this.setFeatureStyle(Gt.feature.id,this.options.style),this.fire("createfeature",{feature:Gt.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(ee))&&this._map.addLayer(Gt)):l("invalid GeoJSON encountered"))}},addLayers:function(nt){for(var St=nt.length-1;St>=0;St--){var Gt=this._layers[nt[St]];!Gt||this.options.timeField&&!this._featureWithinTimeRange(Gt.feature)||(this._map.addLayer(Gt),this.fire("addfeature",{feature:Gt.feature},!0))}},removeLayers:function(nt,St){for(var Gt=nt.length-1;Gt>=0;Gt--){var ee=nt[Gt],ge=this._layers[ee];ge&&(this.fire("removefeature",{feature:ge.feature,permanent:St},!0),this._map.removeLayer(ge)),ge&&St&&delete this._layers[ee]}},cellEnter:function(nt,St){this._visibleZoom()&&!this._zooming&&this._map&&e.Util.requestAnimFrame(e.Util.bind(function(){var Gt=this._cacheKey(St),ee=this._cellCoordsToKey(St),ge=this._cache[Gt];this._activeCells[ee]&&ge&&this.addLayers(ge)},this))},cellLeave:function(nt,St){this._zooming||e.Util.requestAnimFrame(e.Util.bind(function(){if(this._map){var Gt=this._cacheKey(St),ee=this._cellCoordsToKey(St),ge=this._cache[Gt],Ae=this._map.getBounds();if(!this._activeCells[ee]&&ge){for(var yi=!0,Fi=0;Fi<ge.length;Fi++){var Li=this._layers[ge[Fi]];Li&&Li.getBounds&&Ae.intersects(Li.getBounds())&&(yi=!1)}yi&&this.removeLayers(ge,!this.options.cacheLayers),!this.options.cacheLayers&&yi&&(delete this._cache[Gt],delete this._cells[ee],delete this._activeCells[ee])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(nt){this.resetFeatureStyle(nt.feature.id)},this),this},setStyle:function(nt){return this.options.style=nt,this.eachFeature(function(St){this.setFeatureStyle(St.feature.id,nt)},this),this},resetFeatureStyle:function(nt){var St=this._layers[nt],Gt=this._originalStyle||e.Path.prototype.options;return St&&(e.Util.extend(St.options,St.defaultOptions),this.setFeatureStyle(nt,Gt)),this},setFeatureStyle:function(nt,St){var Gt=this._layers[nt];return"function"==typeof St&&(St=St(Gt.feature)),Gt.setStyle&&Gt.setStyle(St),this},eachActiveFeature:function(nt,St){if(this._map){var Gt=this._map.getBounds();for(var ee in this._layers)-1!==this._currentSnapshot.indexOf(this._layers[ee].feature.id)&&("function"==typeof this._layers[ee].getLatLng&&Gt.contains(this._layers[ee].getLatLng())||"function"==typeof this._layers[ee].getBounds&&Gt.intersects(this._layers[ee].getBounds()))&&nt.call(St,this._layers[ee])}return this},eachFeature:function(nt,St){for(var Gt in this._layers)nt.call(St,this._layers[Gt]);return this},getFeature:function(nt){return this._layers[nt]},bringToBack:function(){this.eachFeature(function(nt){nt.bringToBack&&nt.bringToBack()})},bringToFront:function(){this.eachFeature(function(nt){nt.bringToFront&&nt.bringToFront()})},redraw:function(nt){return nt&&this._redraw(nt),this},_redraw:function(nt){var St=this._layers[nt],Gt=St.feature;if(St&&St.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var ee=this.options.pointToLayer(Gt,e.latLng(Gt.geometry.coordinates[1],Gt.geometry.coordinates[0])).options.icon;St.setIcon(ee)}if(St&&St.setStyle&&this.options.pointToLayer){var ge=this.options.pointToLayer(Gt,e.latLng(Gt.geometry.coordinates[1],Gt.geometry.coordinates[0])).options;this.setFeatureStyle(Gt.id,ge)}St&&St.setStyle&&this.options.style&&this.resetFeatureStyle(Gt.id)}});S.BasemapLayer=Ie,S.DynamicMapLayer=Ri,S.FeatureLayer=be,S.FeatureLayerService=se,S.FeatureManager=xi,S.Find=Tt,S.Identify=Ft,S.IdentifyFeatures=Ot,S.IdentifyImage=$t,S.ImageMapLayer=pi,S.ImageService=Rt,S.MapService=Jt,S.Query=vt,S.RasterLayer=gi,S.Service=ne,S.Support=T,S.Task=Ct,S.TiledMapLayer=Ve,S.Util=at,S.VERSION="3.0.9",S.basemapLayer=function(nt,St){return new Ie(nt,St)},S.dynamicMapLayer=function(nt,St){return new Ri(nt,St)},S.featureLayer=function(nt){return new be(nt)},S.featureLayerService=ce,S.find=kt,S.get=p,S.identify=function(nt){return new Ft(nt)},S.identifyFeatures=jt,S.identifyImage=Wt,S.imageMapLayer=function(nt,St){return new pi(nt,St)},S.imageService=ie,S.mapService=Nt,S.options=M,S.post=z,S.query=ct,S.request=N,S.service=function(nt){return nt=pt(nt),new ne(nt)},S.task=function(nt){return nt=pt(nt),new Ct(nt)},S.tiledMapLayer=function(nt,St){return new Ve(nt,St)},Object.defineProperty(S,"__esModule",{value:!0})}),function(S,e){"object"==typeof exports&&typeof module<"u"?e(exports,require("leaflet"),require("esri-leaflet")):"function"==typeof define&&define.amd?define(["exports","leaflet","esri-leaflet"],e):e(((S=typeof globalThis<"u"?globalThis:S||self).L=S.L||{},S.L.esri=S.L.esri||{},S.L.esri.Vector={}),S.L,S.L.esri)}(this,function(S,e,i){"use strict";function c(d,_,w){i.request(d,_.token?{token:_.token}:{},w)}function M(d,_,w){c(d,_,function(x,I){x&&console.error(x);var h,n=d;"/"===d.charAt(d.length-1)&&(n=d.slice(0,d.length-1)),j(h="/"===I.defaultStyles.charAt(0)?n+I.defaultStyles+"/root.json":n+"/"+I.defaultStyles+"/root.json",_,function(D,P){D&&console.error(D),w(null,P,h,I,d)})})}function j(d,_,w){i.request(d,_.token?{token:_.token}:{},w)}function G(d,_){i.Support.cors&&i.request(d,{},function(w,x){if(!w){_._esriAttributions=_._esriAttributions||[];for(var I=0;I<x.contributors.length;I++)for(var h=x.contributors[I],n=0;n<h.coverageAreas.length;n++){var D=h.coverageAreas[n],P=e.latLng(D.bbox[0],D.bbox[1]),E=e.latLng(D.bbox[2],D.bbox[3]);_._esriAttributions.push({attribution:h.attribution,score:D.score,bounds:e.latLngBounds(P,E),minZoom:D.zoomMin,maxZoom:D.zoomMax})}_._esriAttributions.sort(function(C,A){return A.score-C.score}),i.Util._updateMapAttribution({target:_})}})}const Y=[3857,102100,102113];typeof globalThis<"u"||typeof window<"u"||typeof global<"u"&&global;var z={exports:{}};z.exports=function(){var w,x,I;function h(n,D){if(w)if(x){var P="var sharedChunk = {}; ("+w+")(sharedChunk); ("+x+")(sharedChunk);",E={};w(E),I=D(E),typeof window<"u"&&(I.workerUrl=window.URL.createObjectURL(new Blob([P],{type:"text/javascript"})))}else x=D;else w=D}return h(0,function(n){function D(t,r){return t(r={exports:{}},r.exports),r.exports}var P=E;function E(t,r,u,O){this.cx=3*t,this.bx=3*(u-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(O-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=O,this.p2x=u,this.p2y=O}E.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},E.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},E.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},E.prototype.solveCurveX=function(t,r){var u,O,H,q,et;for(void 0===r&&(r=1e-6),H=t,et=0;et<8;et++){if(q=this.sampleCurveX(H)-t,Math.abs(q)<r)return H;var ft=this.sampleCurveDerivativeX(H);if(Math.abs(ft)<1e-6)break;H-=q/ft}if((H=t)<(u=0))return u;if(H>(O=1))return O;for(;u<O;){if(q=this.sampleCurveX(H),Math.abs(q-t)<r)return H;t>q?u=H:O=H,H=.5*(O-u)+u}return H},E.prototype.solve=function(t,r){return this.sampleCurveY(this.solveCurveX(t,r))};var m=C;function C(t,r){this.x=t,this.y=r}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,u=t.y-this.y;return r*r+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var r=Math.cos(t),u=Math.sin(t),O=u*this.x+r*this.y;return this.x=r*this.x-u*this.y,this.y=O,this},_rotateAround:function(t,r){var u=Math.cos(t),O=Math.sin(t),H=r.y+O*(this.x-r.x)+u*(this.y-r.y);return this.x=r.x+u*(this.x-r.x)-O*(this.y-r.y),this.y=H,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(t){return t instanceof C?t:Array.isArray(t)?new C(t[0],t[1]):t};var A=typeof self<"u"?self:{},k=Math.pow(2,53)-1;function f(t,r,u,O){var H=new P(t,r,u,O);return function(q){return H.solve(q)}}var o=f(.25,.1,.25,1);function R(t,r,u){return Math.min(u,Math.max(r,t))}function U(t,r,u){var O=u-r,H=((t-r)%O+O)%O+r;return H===r?u:H}function X(t){for(var r=[],u=arguments.length-1;u-- >0;)r[u]=arguments[u+1];for(var O=0,H=r;O<H.length;O+=1){var q=H[O];for(var et in q)t[et]=q[et]}return t}var tt=1;function pt(){return tt++}function ot(){return function t(r){return r?(r^16*Math.random()>>r/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function W(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function K(t,r){t.forEach(function(u){r[u]&&(r[u]=r[u].bind(r))})}function gt(t,r){return-1!==t.indexOf(r,t.length-r.length)}function yt(t,r,u){var O={};for(var H in t)O[H]=r.call(u||this,t[H],H,t);return O}function _t(t,r,u){var O={};for(var H in t)r.call(u||this,t[H],H,t)&&(O[H]=t[H]);return O}function rt(t){return Array.isArray(t)?t.map(rt):"object"==typeof t&&t?yt(t,rt):t}var ut={};function at(t){ut[t]||(typeof console<"u"&&console.warn(t),ut[t]=!0)}function Ct(t,r,u){return(u.y-t.y)*(r.x-t.x)>(r.y-t.y)*(u.x-t.x)}function vt(t){for(var r=0,u=0,O=t.length,H=O-1,q=void 0,et=void 0;u<O;H=u++)r+=((et=t[H]).x-(q=t[u]).x)*(q.y+et.y);return r}function ct(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Tt(t){var r={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(O,H,q,et){var ft=q||et;return r[H]=!ft||ft.toLowerCase(),""}),r["max-age"]){var u=parseInt(r["max-age"],10);isNaN(u)?delete r["max-age"]:r["max-age"]=u}return r}var kt=null;function Ft(t){if(null==kt){var r=t.navigator?t.navigator.userAgent:null;kt=!!t.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return kt}function Ot(t){try{var r=A[t];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch{return!1}}var jt,$t,Wt,ne,Jt=A.performance&&A.performance.now?A.performance.now.bind(A.performance):Date.now.bind(Date),Nt=A.requestAnimationFrame||A.mozRequestAnimationFrame||A.webkitRequestAnimationFrame||A.msRequestAnimationFrame,Rt=A.cancelAnimationFrame||A.mozCancelAnimationFrame||A.webkitCancelAnimationFrame||A.msCancelAnimationFrame,ie={now:Jt,frame:function(t){var r=Nt(t);return{cancel:function(){return Rt(r)}}},getImageData:function(t,r){void 0===r&&(r=0);var u=A.document.createElement("canvas"),O=u.getContext("2d");if(!O)throw new Error("failed to create canvas 2d context");return u.width=t.width,u.height=t.height,O.drawImage(t,0,0,t.width,t.height),O.getImageData(-r,-r,t.width+2*r,t.height+2*r)},resolveURL:function(t){return jt||(jt=A.document.createElement("a")),jt.href=t,jt.href},hardwareConcurrency:A.navigator&&A.navigator.hardwareConcurrency||4,get devicePixelRatio(){return A.devicePixelRatio},get prefersReducedMotion(){return!!A.matchMedia&&(null==$t&&($t=A.matchMedia("(prefers-reduced-motion: reduce)")),$t.matches)}},se={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ce={supported:!1,testSupport:function(t){!te&&ne&&(Ie?Ve(t):Wt=t)}},te=!1,Ie=!1;function Ve(t){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,ne),t.isContextLost())return;ce.supported=!0}catch{}t.deleteTexture(r),te=!0}A.document&&((ne=A.document.createElement("img")).onload=function(){Wt&&Ve(Wt),Wt=null,Ie=!0},ne.onerror=function(){te=!0,Wt=null},ne.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Ai="01",gi=function(t,r){this._transformRequestFn=t,this._customAccessToken=r,this._createSkuToken()};function pi(t){return 0===t.indexOf("mapbox:")}gi.prototype._createSkuToken=function(){var t=function(){for(var r="",u=0;u<10;u++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ai,r].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},gi.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},gi.prototype.transformRequest=function(t,r){return this._transformRequestFn&&this._transformRequestFn(t,r)||{url:t}},gi.prototype.normalizeStyleURL=function(t,r){if(!pi(t))return t;var u=xi(t);return u.path="/styles/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||r)},gi.prototype.normalizeGlyphsURL=function(t,r){if(!pi(t))return t;var u=xi(t);return u.path="/fonts/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||r)},gi.prototype.normalizeSourceURL=function(t,r){if(!pi(t))return t;var u=xi(t);return u.path="/v4/"+u.authority+".json",u.params.push("secure"),this._makeAPIURL(u,this._customAccessToken||r)},gi.prototype.normalizeSpriteURL=function(t,r,u,O){var H=xi(t);return pi(t)?(H.path="/styles/v1"+H.path+"/sprite"+r+u,this._makeAPIURL(H,this._customAccessToken||O)):(H.path+=""+r+u,be(H))},gi.prototype.normalizeTileURL=function(t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!pi(t))return t;var u=xi(t);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,(ie.devicePixelRatio>=2||512===r?"@2x":"")+(ce.supported?".webp":"$1")),u.path=u.path.replace(/^.+\/v4\//,"/"),u.path="/v4"+u.path;var O=this._customAccessToken||function(H){for(var q=0,et=H;q<et.length;q+=1){var ft=et[q].match(/^access_token=(.*)$/);if(ft)return ft[1]}return null}(u.params)||se.ACCESS_TOKEN;return se.REQUIRE_ACCESS_TOKEN&&O&&this._skuToken&&u.params.push("sku="+this._skuToken),this._makeAPIURL(u,O)},gi.prototype.canonicalizeTileURL=function(t,r){var u=xi(t);if(!u.path.match(/(^\/v4\/)/)||!u.path.match(/\.[\w]+$/))return t;var O="mapbox://tiles/";O+=u.path.replace("/v4/","");var H=u.params;return r&&(H=H.filter(function(q){return!q.match(/^access_token=/)})),H.length&&(O+="?"+H.join("&")),O},gi.prototype.canonicalizeTileset=function(t,r){for(var u=!!r&&pi(r),O=[],H=0,q=t.tiles||[];H<q.length;H+=1){var et=q[H];ti(et)?O.push(this.canonicalizeTileURL(et,u)):O.push(et)}return O},gi.prototype._makeAPIURL=function(t,r){var u="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",O=xi(se.API_URL);if(t.protocol=O.protocol,t.authority=O.authority,"http"===t.protocol){var H=t.params.indexOf("secure");H>=0&&t.params.splice(H,1)}if("/"!==O.path&&(t.path=""+O.path+t.path),!se.REQUIRE_ACCESS_TOKEN)return be(t);if(!(r=r||se.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+u);if("s"===r[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+u);return t.params=t.params.filter(function(q){return-1===q.indexOf("access_token")}),t.params.push("access_token="+r),be(t)};var Ri=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function ti(t){return Ri.test(t)}var Ti=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function xi(t){var r=t.match(Ti);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function be(t){var r=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+r}function ii(t){if(!t)return null;var r=t.split(".");if(!r||3!==r.length)return null;try{return JSON.parse(decodeURIComponent(A.atob(r[1]).split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var nt=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};nt.prototype.getStorageKey=function(t){var r,u=ii(se.ACCESS_TOKEN);return r=u&&u.u?A.btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,function(O,H){return String.fromCharCode(Number("0x"+H))})):se.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+r:"mapbox.eventData:"+r},nt.prototype.fetchEventData=function(){var t=Ot("localStorage"),r=this.getStorageKey(),u=this.getStorageKey("uuid");if(t)try{var O=A.localStorage.getItem(r);O&&(this.eventData=JSON.parse(O));var H=A.localStorage.getItem(u);H&&(this.anonId=H)}catch{at("Unable to read from LocalStorage")}},nt.prototype.saveEventData=function(){var t=Ot("localStorage"),r=this.getStorageKey(),u=this.getStorageKey("uuid");if(t)try{A.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&A.localStorage.setItem(r,JSON.stringify(this.eventData))}catch{at("Unable to write to LocalStorage")}},nt.prototype.processRequests=function(t){},nt.prototype.postEvent=function(t,r,u,O){var H=this;if(se.EVENTS_URL){var q=xi(se.EVENTS_URL);q.params.push("access_token="+(O||se.ACCESS_TOKEN||""));var et={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.1",skuId:Ai,userId:this.anonId},ft=r?X(et,r):et,Mt={url:be(q),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ft])};this.pendingRequest=We(Mt,function(It){H.pendingRequest=null,u(It),H.saveEventData(),H.processRequests(O)})}},nt.prototype.queueRequest=function(t,r){this.queue.push(t),this.processRequests(r)};var St,Gt,ee=function(t){function r(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.postMapLoadEvent=function(u,O,H,q){this.skuToken=H,(se.EVENTS_URL&&q||se.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(et){return pi(et)||ti(et)}))&&this.queueRequest({id:O,timestamp:Date.now()},q)},r.prototype.processRequests=function(u){var O=this;if(!this.pendingRequest&&0!==this.queue.length){var H=this.queue.shift(),q=H.id,et=H.timestamp;q&&this.success[q]||(this.anonId||this.fetchEventData(),W(this.anonId)||(this.anonId=ot()),this.postEvent(et,{skuToken:this.skuToken},function(ft){ft||q&&(O.success[q]=!0)},u))}},r}(nt),ge=new(function(t){function r(u){t.call(this,"appUserTurnstile"),this._customAccessToken=u}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.postTurnstileEvent=function(u,O){se.EVENTS_URL&&se.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(H){return pi(H)||ti(H)})&&this.queueRequest(Date.now(),O)},r.prototype.processRequests=function(u){var O=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var H=ii(se.ACCESS_TOKEN),q=H?H.u:se.ACCESS_TOKEN,et=q!==this.eventData.tokenU;W(this.anonId)||(this.anonId=ot(),et=!0);var ft=this.queue.shift();if(this.eventData.lastSuccess){var Mt=new Date(this.eventData.lastSuccess),It=new Date(ft),Vt=(ft-this.eventData.lastSuccess)/864e5;et=et||Vt>=1||Vt<-1||Mt.getDate()!==It.getDate()}else et=!0;if(!et)return this.processRequests();this.postEvent(ft,{"enabled.telemetry":!1},function(Yt){Yt||(O.eventData.lastSuccess=ft,O.eventData.tokenU=q)},u)}},r}(nt)),Ae=ge.postTurnstileEvent.bind(ge),yi=new ee,Fi=yi.postMapLoadEvent.bind(yi),Li=500,qi=50;function cn(){A.caches&&!St&&(St=A.caches.open("mapbox-tiles"))}function Fn(t){var r=t.indexOf("?");return r<0?t:t.slice(0,r)}var Gn,Yi=1/0;function ei(){return null==Gn&&(Gn=A.OffscreenCanvas&&new A.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof A.createImageBitmap),Gn}var ai={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ai);var li,Xi,tn=function(t){function r(u,O,H){401===O&&ti(H)&&(u+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,u),this.status=O,this.url=H,this.name=this.constructor.name,this.message=u}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},r}(Error),Zi=ct()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===A.location.protocol?A.parent:A).location.href},_n=function(t,r){if(!(/^file:/.test(u=t.url)||/^file:/.test(Zi())&&!/^\w+:/.test(u))){if(A.fetch&&A.Request&&A.AbortController&&A.Request.prototype.hasOwnProperty("signal"))return function(O,H){var q,et=new A.AbortController,ft=new A.Request(O.url,{method:O.method||"GET",body:O.body,credentials:O.credentials,headers:O.headers,referrer:Zi(),signal:et.signal}),Mt=!1,It=!1,Vt=(q=ft.url).indexOf("sku=")>0&&ti(q);"json"===O.type&&ft.headers.set("Accept","application/json");var Yt=function(ae,Te,Se){if(!It){if(ae&&"SecurityError"!==ae.message&&at(ae),Te&&Se)return Qt(Te);var Fe=Date.now();A.fetch(ft).then(function(ke){if(ke.ok){var $e=Vt?ke.clone():null;return Qt(ke,$e,Fe)}return H(new tn(ke.statusText,ke.status,O.url))}).catch(function(ke){20!==ke.code&&H(new Error(ke.message))})}},Qt=function(ae,Te,Se){("arrayBuffer"===O.type?ae.arrayBuffer():"json"===O.type?ae.json():ae.text()).then(function(Fe){It||(Te&&Se&&function(ke,$e,ui){if(cn(),St){var bi={status:$e.status,statusText:$e.statusText,headers:new A.Headers};$e.headers.forEach(function(Ni,Qi){return bi.headers.set(Qi,Ni)});var Pi=Tt($e.headers.get("Cache-Control")||"");Pi["no-store"]||(Pi["max-age"]&&bi.headers.set("Expires",new Date(ui+1e3*Pi["max-age"]).toUTCString()),new Date(bi.headers.get("Expires")).getTime()-ui<42e4||function(Ni,Qi){if(void 0===Gt)try{new Response(new ReadableStream),Gt=!0}catch{Gt=!1}Gt?Qi(Ni.body):Ni.blob().then(Qi)}($e,function(Ni){var Qi=new A.Response(Ni,bi);cn(),St&&St.then(function(hn){return hn.put(Fn(ke.url),Qi)}).catch(function(hn){return at(hn.message)})}))}}(ft,Te,Se),Mt=!0,H(null,Fe,ae.headers.get("Cache-Control"),ae.headers.get("Expires")))}).catch(function(Fe){It||H(new Error(Fe.message))})};return Vt?function(ae,Te){if(cn(),!St)return Te(null);var Se=Fn(ae.url);St.then(function(Fe){Fe.match(Se).then(function(ke){var $e=function(ui){if(!ui)return!1;var bi=new Date(ui.headers.get("Expires")||0),Pi=Tt(ui.headers.get("Cache-Control")||"");return bi>Date.now()&&!Pi["no-cache"]}(ke);Fe.delete(Se),$e&&Fe.put(Se,ke.clone()),Te(null,ke,$e)}).catch(Te)}).catch(Te)}(ft,Yt):Yt(null,null),{cancel:function(){It=!0,Mt||et.abort()}}}(t,r);if(ct()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,r,void 0,!0)}var u;return function(O,H){var q=new A.XMLHttpRequest;for(var et in q.open(O.method||"GET",O.url,!0),"arrayBuffer"===O.type&&(q.responseType="arraybuffer"),O.headers)q.setRequestHeader(et,O.headers[et]);return"json"===O.type&&(q.responseType="text",q.setRequestHeader("Accept","application/json")),q.withCredentials="include"===O.credentials,q.onerror=function(){H(new Error(q.statusText))},q.onload=function(){if((q.status>=200&&q.status<300||0===q.status)&&null!==q.response){var ft=q.response;if("json"===O.type)try{ft=JSON.parse(q.response)}catch(Mt){return H(Mt)}H(null,ft,q.getResponseHeader("Cache-Control"),q.getResponseHeader("Expires"))}else H(new tn(q.statusText,q.status,O.url))},q.send(O.body),{cancel:function(){return q.abort()}}}(t,r)},ji=function(t,r){return _n(X(t,{type:"arrayBuffer"}),r)},We=function(t,r){return _n(X(t,{method:"POST"}),r)},Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";li=[],Xi=0;var Q=function(t,r){if(ce.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Xi>=se.MAX_PARALLEL_IMAGE_REQUESTS){var u={requestParameters:t,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return li.push(u),u}Xi++;var O=!1,H=function(){if(!O)for(O=!0,Xi--;li.length&&Xi<se.MAX_PARALLEL_IMAGE_REQUESTS;){var et=li.shift();et.cancelled||(et.cancel=Q(et.requestParameters,et.callback).cancel)}},q=ji(t,function(et,ft,Mt,It){var Yt,Qt;H(),et?r(et):ft&&(ei()?(Yt=r,Qt=new A.Blob([new Uint8Array(ft)],{type:"image/png"}),A.createImageBitmap(Qt).then(function(ae){Yt(null,ae)}).catch(function(ae){Yt(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(Vt,Yt,Qt,ae){var Te=new A.Image,Se=A.URL;Te.onload=function(){Yt(null,Te),Se.revokeObjectURL(Te.src),Te.onload=null,A.requestAnimationFrame(function(){Te.src=Z})},Te.onerror=function(){return Yt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Fe=new A.Blob([new Uint8Array(Vt)],{type:"image/png"});Te.cacheControl=Qt,Te.expires=ae,Te.src=Vt.byteLength?Se.createObjectURL(Fe):Z}(ft,r,Mt,It))});return{cancel:function(){q.cancel(),H()}}};function ht(t,r,u){u[t]&&-1!==u[t].indexOf(r)||(u[t]=u[t]||[],u[t].push(r))}function xt(t,r,u){if(u&&u[t]){var O=u[t].indexOf(r);-1!==O&&u[t].splice(O,1)}}var Lt=function(t,r){void 0===r&&(r={}),X(this,r),this.type=t},Ut=function(t){function r(u,O){void 0===O&&(O={}),t.call(this,"error",X({error:u},O))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(Lt),re=function(){};re.prototype.on=function(t,r){return this._listeners=this._listeners||{},ht(t,r,this._listeners),this},re.prototype.off=function(t,r){return xt(t,r,this._listeners),xt(t,r,this._oneTimeListeners),this},re.prototype.once=function(t,r){return this._oneTimeListeners=this._oneTimeListeners||{},ht(t,r,this._oneTimeListeners),this},re.prototype.fire=function(t,r){"string"==typeof t&&(t=new Lt(t,r||{}));var u=t.type;if(this.listens(u)){t.target=this;for(var O=0,H=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];O<H.length;O+=1)H[O].call(this,t);for(var q=0,et=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];q<et.length;q+=1){var ft=et[q];xt(u,ft,this._oneTimeListeners),ft.call(this,t)}var Mt=this._eventedParent;Mt&&(X(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),Mt.fire(t))}else t instanceof Ut&&console.error(t.error);return this},re.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},re.prototype.setEventedParent=function(t,r){return this._eventedParent=t,this._eventedParentData=r,this};var Xt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},oe=function(t,r,u,O){this.message=(t?t+": ":"")+u,O&&(this.identifier=O),null!=r&&r.__line__&&(this.line=r.__line__)};function Le(t){var r=t.value;return r?[new oe(t.key,r,"constants have been deprecated as of v8")]:[]}function Oe(t){for(var r=[],u=arguments.length-1;u-- >0;)r[u]=arguments[u+1];for(var O=0,H=r;O<H.length;O+=1){var q=H[O];for(var et in q)t[et]=q[et]}return t}function Qe(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function ue(t){if(Array.isArray(t))return t.map(ue);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var r={};for(var u in t)r[u]=ue(t[u]);return r}return Qe(t)}var Ye=function(t){function r(u,O){t.call(this,O),this.message=O,this.key=u}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(Error),De=function(t,r){void 0===r&&(r=[]),this.parent=t,this.bindings={};for(var u=0,O=r;u<O.length;u+=1){var H=O[u];this.bindings[H[0]]=H[1]}};De.prototype.concat=function(t){return new De(this,t)},De.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},De.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var di={kind:"null"},Xe={kind:"number"},Oi={kind:"string"},ki={kind:"boolean"},oi={kind:"color"},an={kind:"object"},Ii={kind:"value"},Pn={kind:"collator"},yn={kind:"formatted"},bn={kind:"resolvedImage"};function En(t,r){return{kind:"array",itemType:t,N:r}}function kn(t){if("array"===t.kind){var r=kn(t.itemType);return"number"==typeof t.N?"array<"+r+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+r+">"}return t.kind}var Qn=[di,Xe,Oi,ki,oi,yn,an,En(Ii),bn];function wn(t,r){if("error"===r.kind)return null;if("array"===t.kind){if("array"===r.kind&&(0===r.N&&"value"===r.itemType.kind||!wn(t.itemType,r.itemType))&&("number"!=typeof t.N||t.N===r.N))return null}else{if(t.kind===r.kind)return null;if("value"===t.kind)for(var u=0,O=Qn;u<O.length;u+=1)if(!wn(O[u],r))return null}return"Expected "+kn(t)+" but found "+kn(r)+" instead."}function Yn(t,r){return r.some(function(u){return u.kind===t.kind})}function In(t,r){return r.some(function(u){return"null"===u?null===t:"array"===u?Array.isArray(t):"object"===u?t&&!Array.isArray(t)&&"object"==typeof t:u===typeof t})}var An=D(function(t,r){var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function O(ft){return(ft=Math.round(ft))<0?0:ft>255?255:ft}function H(ft){return O("%"===ft[ft.length-1]?parseFloat(ft)/100*255:parseInt(ft))}function q(ft){return(Mt="%"===ft[ft.length-1]?parseFloat(ft)/100:parseFloat(ft))<0?0:Mt>1?1:Mt;var Mt}function et(ft,Mt,It){return It<0?It+=1:It>1&&(It-=1),6*It<1?ft+(Mt-ft)*It*6:2*It<1?Mt:3*It<2?ft+(Mt-ft)*(2/3-It)*6:ft}try{r.parseCSSColor=function(ft){var Mt,It=ft.replace(/ /g,"").toLowerCase();if(It in u)return u[It].slice();if("#"===It[0])return 4===It.length?(Mt=parseInt(It.substr(1),16))>=0&&Mt<=4095?[(3840&Mt)>>4|(3840&Mt)>>8,240&Mt|(240&Mt)>>4,15&Mt|(15&Mt)<<4,1]:null:7===It.length&&(Mt=parseInt(It.substr(1),16))>=0&&Mt<=16777215?[(16711680&Mt)>>16,(65280&Mt)>>8,255&Mt,1]:null;var Vt=It.indexOf("("),Yt=It.indexOf(")");if(-1!==Vt&&Yt+1===It.length){var Qt=It.substr(0,Vt),ae=It.substr(Vt+1,Yt-(Vt+1)).split(","),Te=1;switch(Qt){case"rgba":if(4!==ae.length)return null;Te=q(ae.pop());case"rgb":return 3!==ae.length?null:[H(ae[0]),H(ae[1]),H(ae[2]),Te];case"hsla":if(4!==ae.length)return null;Te=q(ae.pop());case"hsl":if(3!==ae.length)return null;var Se=(parseFloat(ae[0])%360+360)%360/360,Fe=q(ae[1]),ke=q(ae[2]),$e=ke<=.5?ke*(Fe+1):ke+Fe-ke*Fe,ui=2*ke-$e;return[O(255*et(ui,$e,Se+1/3)),O(255*et(ui,$e,Se)),O(255*et(ui,$e,Se-1/3)),Te];default:return null}}return null}}catch{}}).parseCSSColor,zi=function(t,r,u,O){void 0===O&&(O=1),this.r=t,this.g=r,this.b=u,this.a=O};zi.parse=function(t){if(t){if(t instanceof zi)return t;if("string"==typeof t){var r=An(t);if(r)return new zi(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3])}}},zi.prototype.toString=function(){var t=this.toArray(),r=t[1],u=t[2],O=t[3];return"rgba("+Math.round(t[0])+","+Math.round(r)+","+Math.round(u)+","+O+")"},zi.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},zi.black=new zi(0,0,0,1),zi.white=new zi(1,1,1,1),zi.transparent=new zi(0,0,0,0),zi.red=new zi(1,0,0,1);var Xn=function(t,r,u){this.sensitivity=t?r?"variant":"case":r?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Xn.prototype.compare=function(t,r){return this.collator.compare(t,r)},Xn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Lr=function(t,r,u,O,H){this.text=t,this.image=r,this.scale=u,this.fontStack=O,this.textColor=H},qn=function(t){this.sections=t};qn.fromString=function(t){return new qn([new Lr(t,null,null,null,null)])},qn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length})},qn.factory=function(t){return t instanceof qn?t:qn.fromString(t)},qn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(t){return t.text}).join("")},qn.prototype.serialize=function(){for(var t=["format"],r=0,u=this.sections;r<u.length;r+=1){var O=u[r];if(O.image)t.push(["image",O.image.name]);else{t.push(O.text);var H={};O.fontStack&&(H["text-font"]=["literal",O.fontStack.split(",")]),O.scale&&(H["font-scale"]=O.scale),O.textColor&&(H["text-color"]=["rgba"].concat(O.textColor.toArray())),t.push(H)}}return t};var lr=function(t){this.name=t.name,this.available=t.available};function Xr(t,r,u,O){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255&&"number"==typeof u&&u>=0&&u<=255?void 0===O||"number"==typeof O&&O>=0&&O<=1?null:"Invalid rgba value ["+[t,r,u,O].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof O?[t,r,u,O]:[t,r,u]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Kr(t){if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||t instanceof zi||t instanceof Xn||t instanceof qn||t instanceof lr)return!0;if(Array.isArray(t)){for(var r=0,u=t;r<u.length;r+=1)if(!Kr(u[r]))return!1;return!0}if("object"==typeof t){for(var O in t)if(!Kr(t[O]))return!1;return!0}return!1}function nr(t){if(null===t)return di;if("string"==typeof t)return Oi;if("boolean"==typeof t)return ki;if("number"==typeof t)return Xe;if(t instanceof zi)return oi;if(t instanceof Xn)return Pn;if(t instanceof qn)return yn;if(t instanceof lr)return bn;if(Array.isArray(t)){for(var r,u=t.length,O=0,H=t;O<H.length;O+=1){var q=nr(H[O]);if(r){if(r===q)continue;r=Ii;break}r=q}return En(r||Ii,u)}return an}function Rr(t){var r=typeof t;return null===t?"":"string"===r||"number"===r||"boolean"===r?String(t):t instanceof zi||t instanceof qn||t instanceof lr?t.toString():JSON.stringify(t)}lr.prototype.toString=function(){return this.name},lr.fromString=function(t){return t?new lr({name:t,available:!1}):null},lr.prototype.serialize=function(){return["image",this.name]};var kr=function(t,r){this.type=t,this.value=r};kr.parse=function(t,r){if(2!==t.length)return r.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!Kr(t[1]))return r.error("invalid value");var u=t[1],O=nr(u),H=r.expectedType;return"array"!==O.kind||0!==O.N||!H||"array"!==H.kind||"number"==typeof H.N&&0!==H.N||(O=H),new kr(O,u)},kr.prototype.evaluate=function(){return this.value},kr.prototype.eachChild=function(){},kr.prototype.outputDefined=function(){return!0},kr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof zi?["rgba"].concat(this.value.toArray()):this.value instanceof qn?this.value.serialize():this.value};var Ur=function(t){this.name="ExpressionEvaluationError",this.message=t};Ur.prototype.toJSON=function(){return this.message};var Br={string:Oi,number:Xe,boolean:ki,object:an},wr=function(t,r){this.type=t,this.args=r};wr.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var u,O=1,H=t[0];if("array"===H){var q,et;if(t.length>2){var ft=t[1];if("string"!=typeof ft||!(ft in Br)||"object"===ft)return r.error('The item type argument of "array" must be one of string, number, boolean',1);q=Br[ft],O++}else q=Ii;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return r.error('The length argument to "array" must be a positive integer literal',2);et=t[2],O++}u=En(q,et)}else u=Br[H];for(var Mt=[];O<t.length;O++){var It=r.parse(t[O],O,Ii);if(!It)return null;Mt.push(It)}return new wr(u,Mt)},wr.prototype.evaluate=function(t){for(var r=0;r<this.args.length;r++){var u=this.args[r].evaluate(t);if(!wn(this.type,nr(u)))return u;if(r===this.args.length-1)throw new Ur("Expected value to be of type "+kn(this.type)+", but found "+kn(nr(u))+" instead.")}return null},wr.prototype.eachChild=function(t){this.args.forEach(t)},wr.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},wr.prototype.serialize=function(){var t=this.type,r=[t.kind];if("array"===t.kind){var u=t.itemType;if("string"===u.kind||"number"===u.kind||"boolean"===u.kind){r.push(u.kind);var O=t.N;("number"==typeof O||this.args.length>1)&&r.push(O)}}return r.concat(this.args.map(function(H){return H.serialize()}))};var io=function(t){this.type=yn,this.sections=t};io.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var u=t[1];if(!Array.isArray(u)&&"object"==typeof u)return r.error("First argument must be an image or text section.");for(var O=[],H=!1,q=1;q<=t.length-1;++q){var et=t[q];if(H&&"object"==typeof et&&!Array.isArray(et)){H=!1;var ft=null;if(et["font-scale"]&&!(ft=r.parse(et["font-scale"],1,Xe)))return null;var Mt=null;if(et["text-font"]&&!(Mt=r.parse(et["text-font"],1,En(Oi))))return null;var It=null;if(et["text-color"]&&!(It=r.parse(et["text-color"],1,oi)))return null;var Vt=O[O.length-1];Vt.scale=ft,Vt.font=Mt,Vt.textColor=It}else{var Yt=r.parse(t[q],1,Ii);if(!Yt)return null;var Qt=Yt.type.kind;if("string"!==Qt&&"value"!==Qt&&"null"!==Qt&&"resolvedImage"!==Qt)return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");H=!0,O.push({content:Yt,scale:null,font:null,textColor:null})}}return new io(O)},io.prototype.evaluate=function(t){return new qn(this.sections.map(function(r){var u=r.content.evaluate(t);return nr(u)===bn?new Lr("",u,null,null,null):new Lr(Rr(u),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)}))},io.prototype.eachChild=function(t){for(var r=0,u=this.sections;r<u.length;r+=1){var O=u[r];t(O.content),O.scale&&t(O.scale),O.font&&t(O.font),O.textColor&&t(O.textColor)}},io.prototype.outputDefined=function(){return!1},io.prototype.serialize=function(){for(var t=["format"],r=0,u=this.sections;r<u.length;r+=1){var O=u[r];t.push(O.content.serialize());var H={};O.scale&&(H["font-scale"]=O.scale.serialize()),O.font&&(H["text-font"]=O.font.serialize()),O.textColor&&(H["text-color"]=O.textColor.serialize()),t.push(H)}return t};var no=function(t){this.type=bn,this.input=t};no.parse=function(t,r){if(2!==t.length)return r.error("Expected two arguments.");var u=r.parse(t[1],1,Oi);return u?new no(u):r.error("No image name provided.")},no.prototype.evaluate=function(t){var r=this.input.evaluate(t),u=lr.fromString(r);return u&&t.availableImages&&(u.available=t.availableImages.indexOf(r)>-1),u},no.prototype.eachChild=function(t){t(this.input)},no.prototype.outputDefined=function(){return!1},no.prototype.serialize=function(){return["image",this.input.serialize()]};var Bo={"to-boolean":ki,"to-color":oi,"to-number":Xe,"to-string":Oi},Jr=function(t,r){this.type=t,this.args=r};Jr.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var u=t[0];if(("to-boolean"===u||"to-string"===u)&&2!==t.length)return r.error("Expected one argument.");for(var O=Bo[u],H=[],q=1;q<t.length;q++){var et=r.parse(t[q],q,Ii);if(!et)return null;H.push(et)}return new Jr(O,H)},Jr.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var r,u,O=0,H=this.args;O<H.length;O+=1){if(u=null,(r=H[O].evaluate(t))instanceof zi)return r;if("string"==typeof r){var q=t.parseColor(r);if(q)return q}else if(Array.isArray(r)&&!(u=r.length<3||r.length>4?"Invalid rbga value "+JSON.stringify(r)+": expected an array containing either three or four numeric values.":Xr(r[0],r[1],r[2],r[3])))return new zi(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new Ur(u||"Could not parse color from value '"+("string"==typeof r?r:String(JSON.stringify(r)))+"'")}if("number"===this.type.kind){for(var et=null,ft=0,Mt=this.args;ft<Mt.length;ft+=1){if(null===(et=Mt[ft].evaluate(t)))return 0;var It=Number(et);if(!isNaN(It))return It}throw new Ur("Could not convert "+JSON.stringify(et)+" to number.")}return"formatted"===this.type.kind?qn.fromString(Rr(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?lr.fromString(Rr(this.args[0].evaluate(t))):Rr(this.args[0].evaluate(t))},Jr.prototype.eachChild=function(t){this.args.forEach(t)},Jr.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},Jr.prototype.serialize=function(){if("formatted"===this.type.kind)return new io([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new no(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(r){t.push(r.serialize())}),t};var Vo=["Unknown","Point","LineString","Polygon"],Zr=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Zr.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Zr.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Vo[this.feature.type]:this.feature.type:null},Zr.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Zr.prototype.canonicalID=function(){return this.canonical},Zr.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Zr.prototype.parseColor=function(t){var r=this._parseColorCache[t];return r||(r=this._parseColorCache[t]=zi.parse(t)),r};var to=function(t,r,u,O){this.name=t,this.type=r,this._evaluate=u,this.args=O};to.prototype.evaluate=function(t){return this._evaluate(t,this.args)},to.prototype.eachChild=function(t){this.args.forEach(t)},to.prototype.outputDefined=function(){return!1},to.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},to.parse=function(t,r){var u,O=t[0],H=to.definitions[O];if(!H)return r.error('Unknown expression "'+O+'". If you wanted a literal array, use ["literal", [...]].',0);for(var q=Array.isArray(H)?H[0]:H.type,et=Array.isArray(H)?[[H[1],H[2]]]:H.overloads,ft=et.filter(function(Rn){var gn=Rn[0];return!Array.isArray(gn)||gn.length===t.length-1}),Mt=null,It=0,Vt=ft;It<Vt.length;It+=1){var Yt=Vt[It],Qt=Yt[0],ae=Yt[1];Mt=new mi(r.registry,r.path,null,r.scope);for(var Te=[],Se=!1,Fe=1;Fe<t.length;Fe++){var ke=t[Fe],$e=Array.isArray(Qt)?Qt[Fe-1]:Qt.type,ui=Mt.parse(ke,1+Te.length,$e);if(!ui){Se=!0;break}Te.push(ui)}if(!Se)if(Array.isArray(Qt)&&Qt.length!==Te.length)Mt.error("Expected "+Qt.length+" arguments, but found "+Te.length+" instead.");else{for(var bi=0;bi<Te.length;bi++){var Pi=Array.isArray(Qt)?Qt[bi]:Qt.type,Ni=Te[bi];Mt.concat(bi+1).checkSubtype(Pi,Ni.type)}if(0===Mt.errors.length)return new to(O,q,ae,Te)}}if(1===ft.length)(u=r.errors).push.apply(u,Mt.errors);else{for(var Qi=(ft.length?ft:et).map(function(Rn){var gn;return gn=Rn[0],Array.isArray(gn)?"("+gn.map(kn).join(", ")+")":"("+kn(gn.type)+"...)"}).join(" | "),hn=[],On=1;On<t.length;On++){var mn=r.parse(t[On],1+hn.length);if(!mn)return null;hn.push(kn(mn.type))}r.error("Expected arguments of type "+Qi+", but found ("+hn.join(", ")+") instead.")}return null},to.register=function(t,r){for(var u in to.definitions=r,r)t[u]=to};var fo=function(t,r,u){this.type=Pn,this.locale=u,this.caseSensitive=t,this.diacriticSensitive=r};function $r(t,r){t[0]=Math.min(t[0],r[0]),t[1]=Math.min(t[1],r[1]),t[2]=Math.max(t[2],r[0]),t[3]=Math.max(t[3],r[1])}function mo(t,r){return!(t[0]<=r[0]||t[2]>=r[2]||t[1]<=r[1]||t[3]>=r[3])}function cs(t,r){var u=(180+t[0])/360,O=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,H=Math.pow(2,r.z);return[Math.round(u*H*8192),Math.round(O*H*8192)]}function qo(t,r,u){return r[1]>t[1]!=u[1]>t[1]&&t[0]<(u[0]-r[0])*(t[1]-r[1])/(u[1]-r[1])+r[0]}function Eo(t,r){for(var u,O,H,q,et,ft,Mt,It=!1,Vt=0,Yt=r.length;Vt<Yt;Vt++)for(var Qt=r[Vt],ae=0,Te=Qt.length;ae<Te-1;ae++){if((q=(u=t)[0]-(O=Qt[ae])[0])*(Mt=u[1]-(H=Qt[ae+1])[1])-(ft=u[0]-H[0])*(et=u[1]-O[1])==0&&q*ft<=0&&et*Mt<=0)return!1;qo(t,Qt[ae],Qt[ae+1])&&(It=!It)}return It}function ps(t,r){for(var u=0;u<r.length;u++)if(Eo(t,r[u]))return!0;return!1}function es(t,r,u,O){var H=O[0]-u[0],q=O[1]-u[1],et=(t[0]-u[0])*q-H*(t[1]-u[1]),ft=(r[0]-u[0])*q-H*(r[1]-u[1]);return et>0&&ft<0||et<0&&ft>0}function Ts(t,r,u){for(var O=0,H=u;O<H.length;O+=1)for(var q=H[O],et=0;et<q.length-1;++et)if((Yt=[(Vt=q[et+1])[0]-(It=q[et])[0],Vt[1]-It[1]])[0]*(Qt=[(Mt=r)[0]-(ft=t)[0],Mt[1]-ft[1]])[1]-Yt[1]*Qt[0]!=0&&es(ft,Mt,It,Vt)&&es(It,Vt,ft,Mt))return!0;var ft,Mt,It,Vt,Yt,Qt;return!1}function $(t,r){for(var u=0;u<t.length;++u)if(!Eo(t[u],r))return!1;for(var O=0;O<t.length-1;++O)if(Ts(t[O],t[O+1],r))return!1;return!0}function mt(t,r){for(var u=0;u<r.length;u++)if($(t,r[u]))return!0;return!1}function At(t,r,u){for(var O=[],H=0;H<t.length;H++){for(var q=[],et=0;et<t[H].length;et++){var ft=cs(t[H][et],u);$r(r,ft),q.push(ft)}O.push(q)}return O}function Dt(t,r,u){for(var O=[],H=0;H<t.length;H++){var q=At(t[H],r,u);O.push(q)}return O}function qt(t,r,u,O){if(t[0]<u[0]||t[0]>u[2]){var H=.5*O,q=t[0]-u[0]>H?-O:u[0]-t[0]>H?O:0;0===q&&(q=t[0]-u[2]>H?-O:u[2]-t[0]>H?O:0),t[0]+=q}$r(r,t)}function le(t,r,u,O){for(var H=8192*Math.pow(2,O.z),q=[8192*O.x,8192*O.y],et=[],ft=0,Mt=t;ft<Mt.length;ft+=1)for(var It=0,Vt=Mt[ft];It<Vt.length;It+=1){var Yt=Vt[It],Qt=[Yt.x+q[0],Yt.y+q[1]];qt(Qt,r,u,H),et.push(Qt)}return et}function ye(t,r,u,O){for(var H,q=8192*Math.pow(2,O.z),et=[8192*O.x,8192*O.y],ft=[],Mt=0,It=t;Mt<It.length;Mt+=1){for(var Vt=[],Yt=0,Qt=It[Mt];Yt<Qt.length;Yt+=1){var ae=Qt[Yt],Te=[ae.x+et[0],ae.y+et[1]];$r(r,Te),Vt.push(Te)}ft.push(Vt)}if(r[2]-r[0]<=q/2){(H=r)[0]=H[1]=1/0,H[2]=H[3]=-1/0;for(var Se=0,Fe=ft;Se<Fe.length;Se+=1)for(var ke=0,$e=Fe[Se];ke<$e.length;ke+=1)qt($e[ke],r,u,q)}return ft}fo.parse=function(t,r){if(2!==t.length)return r.error("Expected one argument.");var u=t[1];if("object"!=typeof u||Array.isArray(u))return r.error("Collator options argument must be an object.");var O=r.parse(void 0!==u["case-sensitive"]&&u["case-sensitive"],1,ki);if(!O)return null;var H=r.parse(void 0!==u["diacritic-sensitive"]&&u["diacritic-sensitive"],1,ki);if(!H)return null;var q=null;return u.locale&&!(q=r.parse(u.locale,1,Oi))?null:new fo(O,H,q)},fo.prototype.evaluate=function(t){return new Xn(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},fo.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var je=function(t,r){this.type=ki,this.geojson=t,this.geometries=r};function ze(t){if(t instanceof to&&("get"===t.name&&1===t.args.length||"feature-state"===t.name||"has"===t.name&&1===t.args.length||"properties"===t.name||"geometry-type"===t.name||"id"===t.name||/^filter-/.test(t.name))||t instanceof je)return!1;var r=!0;return t.eachChild(function(u){r&&!ze(u)&&(r=!1)}),r}function ni(t){if(t instanceof to&&"feature-state"===t.name)return!1;var r=!0;return t.eachChild(function(u){r&&!ni(u)&&(r=!1)}),r}function Si(t,r){if(t instanceof to&&r.indexOf(t.name)>=0)return!1;var u=!0;return t.eachChild(function(O){u&&!Si(O,r)&&(u=!1)}),u}je.parse=function(t,r){if(2!==t.length)return r.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(Kr(t[1])){var u=t[1];if("FeatureCollection"===u.type)for(var O=0;O<u.features.length;++O){var H=u.features[O].geometry.type;if("Polygon"===H||"MultiPolygon"===H)return new je(u,u.features[O].geometry)}else if("Feature"===u.type){var q=u.geometry.type;if("Polygon"===q||"MultiPolygon"===q)return new je(u,u.geometry)}else if("Polygon"===u.type||"MultiPolygon"===u.type)return new je(u,u)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")},je.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(r,u){var O=[1/0,1/0,-1/0,-1/0],H=[1/0,1/0,-1/0,-1/0],q=r.canonicalID();if("Polygon"===u.type){var et=At(u.coordinates,H,q),ft=le(r.geometry(),O,H,q);if(!mo(O,H))return!1;for(var Mt=0,It=ft;Mt<It.length;Mt+=1)if(!Eo(It[Mt],et))return!1}if("MultiPolygon"===u.type){var Vt=Dt(u.coordinates,H,q),Yt=le(r.geometry(),O,H,q);if(!mo(O,H))return!1;for(var Qt=0,ae=Yt;Qt<ae.length;Qt+=1)if(!ps(ae[Qt],Vt))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(r,u){var O=[1/0,1/0,-1/0,-1/0],H=[1/0,1/0,-1/0,-1/0],q=r.canonicalID();if("Polygon"===u.type){var et=At(u.coordinates,H,q),ft=ye(r.geometry(),O,H,q);if(!mo(O,H))return!1;for(var Mt=0,It=ft;Mt<It.length;Mt+=1)if(!$(It[Mt],et))return!1}if("MultiPolygon"===u.type){var Vt=Dt(u.coordinates,H,q),Yt=ye(r.geometry(),O,H,q);if(!mo(O,H))return!1;for(var Qt=0,ae=Yt;Qt<ae.length;Qt+=1)if(!mt(ae[Qt],Vt))return!1}return!0}(t,this.geometries)}return!1},je.prototype.eachChild=function(){},je.prototype.outputDefined=function(){return!0},je.prototype.serialize=function(){return["within",this.geojson]};var Ei=function(t,r){this.type=r.type,this.name=t,this.boundExpression=r};Ei.parse=function(t,r){if(2!==t.length||"string"!=typeof t[1])return r.error("'var' expression requires exactly one string literal argument.");var u=t[1];return r.scope.has(u)?new Ei(u,r.scope.get(u)):r.error('Unknown variable "'+u+'". Make sure "'+u+'" has been bound in an enclosing "let" expression before using it.',1)},Ei.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Ei.prototype.eachChild=function(){},Ei.prototype.outputDefined=function(){return!1},Ei.prototype.serialize=function(){return["var",this.name]};var mi=function(t,r,u,O,H){void 0===r&&(r=[]),void 0===O&&(O=new De),void 0===H&&(H=[]),this.registry=t,this.path=r,this.key=r.map(function(q){return"["+q+"]"}).join(""),this.scope=O,this.errors=H,this.expectedType=u};function ci(t,r){for(var u,O=t.length-1,H=0,q=O,et=0;H<=q;)if((u=t[et=Math.floor((H+q)/2)])<=r){if(et===O||r<t[et+1])return et;H=et+1}else{if(!(u>r))throw new Ur("Input is not a number.");q=et-1}return 0}mi.prototype.parse=function(t,r,u,O,H){return void 0===H&&(H={}),r?this.concat(r,u,O)._parse(t,H):this._parse(t,H)},mi.prototype._parse=function(t,r){function u(It,Vt,Yt){return"assert"===Yt?new wr(Vt,[It]):"coerce"===Yt?new Jr(Vt,[It]):It}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var O=t[0];if("string"!=typeof O)return this.error("Expression name must be a string, but found "+typeof O+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var H=this.registry[O];if(H){var q=H.parse(t,this);if(!q)return null;if(this.expectedType){var et=this.expectedType,ft=q.type;if("string"!==et.kind&&"number"!==et.kind&&"boolean"!==et.kind&&"object"!==et.kind&&"array"!==et.kind||"value"!==ft.kind)if("color"!==et.kind&&"formatted"!==et.kind&&"resolvedImage"!==et.kind||"value"!==ft.kind&&"string"!==ft.kind){if(this.checkSubtype(et,ft))return null}else q=u(q,et,r.typeAnnotation||"coerce");else q=u(q,et,r.typeAnnotation||"assert")}if(!(q instanceof kr)&&"resolvedImage"!==q.type.kind&&function It(Vt){if(Vt instanceof Ei)return It(Vt.boundExpression);if(Vt instanceof to&&"error"===Vt.name||Vt instanceof fo||Vt instanceof je)return!1;var Yt=Vt instanceof Jr||Vt instanceof wr,Qt=!0;return Vt.eachChild(function(ae){Qt=Yt?Qt&&It(ae):Qt&&ae instanceof kr}),!!Qt&&ze(Vt)&&Si(Vt,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(q)){var Mt=new Zr;try{q=new kr(q.type,q.evaluate(Mt))}catch(It){return this.error(It.message),null}}return q}return this.error('Unknown expression "'+O+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},mi.prototype.concat=function(t,r,u){var O="number"==typeof t?this.path.concat(t):this.path,H=u?this.scope.concat(u):this.scope;return new mi(this.registry,O,r||null,H,this.errors)},mi.prototype.error=function(t){for(var r=[],u=arguments.length-1;u-- >0;)r[u]=arguments[u+1];var O=""+this.key+r.map(function(H){return"["+H+"]"}).join("");this.errors.push(new Ye(O,t))},mi.prototype.checkSubtype=function(t,r){var u=wn(t,r);return u&&this.error(u),u};var pn=function(t,r,u){this.type=t,this.input=r,this.labels=[],this.outputs=[];for(var O=0,H=u;O<H.length;O+=1){var q=H[O],et=q[1];this.labels.push(q[0]),this.outputs.push(et)}};function fn(t,r,u){return t*(1-u)+r*u}pn.parse=function(t,r){if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");var u=r.parse(t[1],1,Xe);if(!u)return null;var O=[],H=null;r.expectedType&&"value"!==r.expectedType.kind&&(H=r.expectedType);for(var q=1;q<t.length;q+=2){var et=1===q?-1/0:t[q],ft=t[q+1],Mt=q,It=q+1;if("number"!=typeof et)return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Mt);if(O.length&&O[O.length-1][0]>=et)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Mt);var Vt=r.parse(ft,It,H);if(!Vt)return null;H=H||Vt.type,O.push([et,Vt])}return new pn(H,u,O)},pn.prototype.evaluate=function(t){var r=this.labels,u=this.outputs;if(1===r.length)return u[0].evaluate(t);var O=this.input.evaluate(t);if(O<=r[0])return u[0].evaluate(t);var H=r.length;return O>=r[H-1]?u[H-1].evaluate(t):u[ci(r,O)].evaluate(t)},pn.prototype.eachChild=function(t){t(this.input);for(var r=0,u=this.outputs;r<u.length;r+=1)t(u[r])},pn.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},pn.prototype.serialize=function(){for(var t=["step",this.input.serialize()],r=0;r<this.labels.length;r++)r>0&&t.push(this.labels[r]),t.push(this.outputs[r].serialize());return t};var wt=Object.freeze({__proto__:null,number:fn,color:function(t,r,u){return new zi(fn(t.r,r.r,u),fn(t.g,r.g,u),fn(t.b,r.b,u),fn(t.a,r.a,u))},array:function(t,r,u){return t.map(function(O,H){return fn(O,r[H],u)})}}),Ht=6/29*3*(6/29),me=Math.PI/180,xe=180/Math.PI;function Me(t){return t>.008856451679035631?Math.pow(t,1/3):t/Ht+4/29}function Ee(t){return t>6/29?t*t*t:Ht*(t-4/29)}function Ze(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ne(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _i(t){var r=Ne(t.r),u=Ne(t.g),O=Ne(t.b),H=Me((.4124564*r+.3575761*u+.1804375*O)/.95047),q=Me((.2126729*r+.7151522*u+.072175*O)/1);return{l:116*q-16,a:500*(H-q),b:200*(q-Me((.0193339*r+.119192*u+.9503041*O)/1.08883)),alpha:t.a}}function vi(t){var r=(t.l+16)/116,u=isNaN(t.a)?r:r+t.a/500,O=isNaN(t.b)?r:r-t.b/200;return r=1*Ee(r),u=.95047*Ee(u),O=1.08883*Ee(O),new zi(Ze(3.2404542*u-1.5371385*r-.4985314*O),Ze(-.969266*u+1.8760108*r+.041556*O),Ze(.0556434*u-.2040259*r+1.0572252*O),t.alpha)}function Ki(t,r,u){var O=r-t;return t+u*(O>180||O<-180?O-360*Math.round(O/360):O)}var ln={forward:_i,reverse:vi,interpolate:function(t,r,u){return{l:fn(t.l,r.l,u),a:fn(t.a,r.a,u),b:fn(t.b,r.b,u),alpha:fn(t.alpha,r.alpha,u)}}},Mn={forward:function(t){var r=_i(t),u=r.l,O=r.a,H=r.b,q=Math.atan2(H,O)*xe;return{h:q<0?q+360:q,c:Math.sqrt(O*O+H*H),l:u,alpha:t.a}},reverse:function(t){var r=t.h*me,u=t.c;return vi({l:t.l,a:Math.cos(r)*u,b:Math.sin(r)*u,alpha:t.alpha})},interpolate:function(t,r,u){return{h:Ki(t.h,r.h,u),c:fn(t.c,r.c,u),l:fn(t.l,r.l,u),alpha:fn(t.alpha,r.alpha,u)}}},mr=Object.freeze({__proto__:null,lab:ln,hcl:Mn}),Un=function(t,r,u,O,H){this.type=t,this.operator=r,this.interpolation=u,this.input=O,this.labels=[],this.outputs=[];for(var q=0,et=H;q<et.length;q+=1){var ft=et[q],Mt=ft[1];this.labels.push(ft[0]),this.outputs.push(Mt)}};function Dr(t,r,u,O){var H=O-u,q=t-u;return 0===H?0:1===r?q/H:(Math.pow(r,q)-1)/(Math.pow(r,H)-1)}Un.interpolationFactor=function(t,r,u,O){var H=0;if("exponential"===t.name)H=Dr(r,t.base,u,O);else if("linear"===t.name)H=Dr(r,1,u,O);else if("cubic-bezier"===t.name){var q=t.controlPoints;H=new P(q[0],q[1],q[2],q[3]).solve(Dr(r,1,u,O))}return H},Un.parse=function(t,r){var u=t[0],O=t[1],H=t[2],q=t.slice(3);if(!Array.isArray(O)||0===O.length)return r.error("Expected an interpolation type expression.",1);if("linear"===O[0])O={name:"linear"};else if("exponential"===O[0]){var et=O[1];if("number"!=typeof et)return r.error("Exponential interpolation requires a numeric base.",1,1);O={name:"exponential",base:et}}else{if("cubic-bezier"!==O[0])return r.error("Unknown interpolation type "+String(O[0]),1,0);var ft=O.slice(1);if(4!==ft.length||ft.some(function(Fe){return"number"!=typeof Fe||Fe<0||Fe>1}))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);O={name:"cubic-bezier",controlPoints:ft}}if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(!(H=r.parse(H,2,Xe)))return null;var Mt=[],It=null;"interpolate-hcl"===u||"interpolate-lab"===u?It=oi:r.expectedType&&"value"!==r.expectedType.kind&&(It=r.expectedType);for(var Vt=0;Vt<q.length;Vt+=2){var Yt=q[Vt],Qt=q[Vt+1],ae=Vt+3,Te=Vt+4;if("number"!=typeof Yt)return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ae);if(Mt.length&&Mt[Mt.length-1][0]>=Yt)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ae);var Se=r.parse(Qt,Te,It);if(!Se)return null;It=It||Se.type,Mt.push([Yt,Se])}return"number"===It.kind||"color"===It.kind||"array"===It.kind&&"number"===It.itemType.kind&&"number"==typeof It.N?new Un(It,u,O,H,Mt):r.error("Type "+kn(It)+" is not interpolatable.")},Un.prototype.evaluate=function(t){var r=this.labels,u=this.outputs;if(1===r.length)return u[0].evaluate(t);var O=this.input.evaluate(t);if(O<=r[0])return u[0].evaluate(t);var H=r.length;if(O>=r[H-1])return u[H-1].evaluate(t);var q=ci(r,O),et=Un.interpolationFactor(this.interpolation,O,r[q],r[q+1]),ft=u[q].evaluate(t),Mt=u[q+1].evaluate(t);return"interpolate"===this.operator?wt[this.type.kind.toLowerCase()](ft,Mt,et):"interpolate-hcl"===this.operator?Mn.reverse(Mn.interpolate(Mn.forward(ft),Mn.forward(Mt),et)):ln.reverse(ln.interpolate(ln.forward(ft),ln.forward(Mt),et))},Un.prototype.eachChild=function(t){t(this.input);for(var r=0,u=this.outputs;r<u.length;r+=1)t(u[r])},Un.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},Un.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var r=[this.operator,t,this.input.serialize()],u=0;u<this.labels.length;u++)r.push(this.labels[u],this.outputs[u].serialize());return r};var vr=function(t,r){this.type=t,this.args=r};vr.parse=function(t,r){if(t.length<2)return r.error("Expectected at least one argument.");var u=null,O=r.expectedType;O&&"value"!==O.kind&&(u=O);for(var H=[],q=0,et=t.slice(1);q<et.length;q+=1){var ft=r.parse(et[q],1+H.length,u,void 0,{typeAnnotation:"omit"});if(!ft)return null;u=u||ft.type,H.push(ft)}var Mt=O&&H.some(function(It){return wn(O,It.type)});return new vr(Mt?Ii:u,H)},vr.prototype.evaluate=function(t){for(var r,u=null,O=0,H=0,q=this.args;H<q.length&&(O++,(u=q[H].evaluate(t))&&u instanceof lr&&!u.available&&(r||(r=u.name),u=null,O===this.args.length&&(u=r)),null===u);H+=1);return u},vr.prototype.eachChild=function(t){this.args.forEach(t)},vr.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},vr.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(r){t.push(r.serialize())}),t};var _r=function(t,r){this.type=r.type,this.bindings=[].concat(t),this.result=r};_r.prototype.evaluate=function(t){return this.result.evaluate(t)},_r.prototype.eachChild=function(t){for(var r=0,u=this.bindings;r<u.length;r+=1)t(u[r][1]);t(this.result)},_r.parse=function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var u=[],O=1;O<t.length-1;O+=2){var H=t[O];if("string"!=typeof H)return r.error("Expected string, but found "+typeof H+" instead.",O);if(/[^a-zA-Z0-9_]/.test(H))return r.error("Variable names must contain only alphanumeric characters or '_'.",O);var q=r.parse(t[O+1],O+1);if(!q)return null;u.push([H,q])}var et=r.parse(t[t.length-1],t.length-1,r.expectedType,u);return et?new _r(u,et):null},_r.prototype.outputDefined=function(){return this.result.outputDefined()},_r.prototype.serialize=function(){for(var t=["let"],r=0,u=this.bindings;r<u.length;r+=1){var O=u[r];t.push(O[0],O[1].serialize())}return t.push(this.result.serialize()),t};var Qr=function(t,r,u){this.type=t,this.index=r,this.input=u};Qr.parse=function(t,r){if(3!==t.length)return r.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var u=r.parse(t[1],1,Xe),O=r.parse(t[2],2,En(r.expectedType||Ii));return u&&O?new Qr(O.type.itemType,u,O):null},Qr.prototype.evaluate=function(t){var r=this.index.evaluate(t),u=this.input.evaluate(t);if(r<0)throw new Ur("Array index out of bounds: "+r+" < 0.");if(r>=u.length)throw new Ur("Array index out of bounds: "+r+" > "+(u.length-1)+".");if(r!==Math.floor(r))throw new Ur("Array index must be an integer, but found "+r+" instead.");return u[r]},Qr.prototype.eachChild=function(t){t(this.index),t(this.input)},Qr.prototype.outputDefined=function(){return!1},Qr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var hr=function(t,r){this.type=ki,this.needle=t,this.haystack=r};hr.parse=function(t,r){if(3!==t.length)return r.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var u=r.parse(t[1],1,Ii),O=r.parse(t[2],2,Ii);return u&&O?Yn(u.type,[ki,Oi,Xe,di,Ii])?new hr(u,O):r.error("Expected first argument to be of type boolean, string, number or null, but found "+kn(u.type)+" instead"):null},hr.prototype.evaluate=function(t){var r=this.needle.evaluate(t),u=this.haystack.evaluate(t);if(!u)return!1;if(!In(r,["boolean","string","number","null"]))throw new Ur("Expected first argument to be of type boolean, string, number or null, but found "+kn(nr(r))+" instead.");if(!In(u,["string","array"]))throw new Ur("Expected second argument to be of type array or string, but found "+kn(nr(u))+" instead.");return u.indexOf(r)>=0},hr.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},hr.prototype.outputDefined=function(){return!0},hr.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Wr=function(t,r,u){this.type=Xe,this.needle=t,this.haystack=r,this.fromIndex=u};Wr.parse=function(t,r){if(t.length<=2||t.length>=5)return r.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var u=r.parse(t[1],1,Ii),O=r.parse(t[2],2,Ii);if(!u||!O)return null;if(!Yn(u.type,[ki,Oi,Xe,di,Ii]))return r.error("Expected first argument to be of type boolean, string, number or null, but found "+kn(u.type)+" instead");if(4===t.length){var H=r.parse(t[3],3,Xe);return H?new Wr(u,O,H):null}return new Wr(u,O)},Wr.prototype.evaluate=function(t){var r=this.needle.evaluate(t),u=this.haystack.evaluate(t);if(!In(r,["boolean","string","number","null"]))throw new Ur("Expected first argument to be of type boolean, string, number or null, but found "+kn(nr(r))+" instead.");if(!In(u,["string","array"]))throw new Ur("Expected second argument to be of type array or string, but found "+kn(nr(u))+" instead.");if(this.fromIndex){var O=this.fromIndex.evaluate(t);return u.indexOf(r,O)}return u.indexOf(r)},Wr.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},Wr.prototype.outputDefined=function(){return!1},Wr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Vn=function(t,r,u,O,H,q){this.inputType=t,this.type=r,this.input=u,this.cases=O,this.outputs=H,this.otherwise=q};Vn.parse=function(t,r){if(t.length<5)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return r.error("Expected an even number of arguments.");var u,O;r.expectedType&&"value"!==r.expectedType.kind&&(O=r.expectedType);for(var H={},q=[],et=2;et<t.length-1;et+=2){var ft=t[et],Mt=t[et+1];Array.isArray(ft)||(ft=[ft]);var It=r.concat(et);if(0===ft.length)return It.error("Expected at least one branch label.");for(var Vt=0,Yt=ft;Vt<Yt.length;Vt+=1){var Qt=Yt[Vt];if("number"!=typeof Qt&&"string"!=typeof Qt)return It.error("Branch labels must be numbers or strings.");if("number"==typeof Qt&&Math.abs(Qt)>Number.MAX_SAFE_INTEGER)return It.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Qt&&Math.floor(Qt)!==Qt)return It.error("Numeric branch labels must be integer values.");if(u){if(It.checkSubtype(u,nr(Qt)))return null}else u=nr(Qt);if(void 0!==H[String(Qt)])return It.error("Branch labels must be unique.");H[String(Qt)]=q.length}var ae=r.parse(Mt,et,O);if(!ae)return null;O=O||ae.type,q.push(ae)}var Te=r.parse(t[1],1,Ii);if(!Te)return null;var Se=r.parse(t[t.length-1],t.length-1,O);return Se?"value"!==Te.type.kind&&r.concat(1).checkSubtype(u,Te.type)?null:new Vn(u,O,Te,H,q,Se):null},Vn.prototype.evaluate=function(t){var r=this.input.evaluate(t);return(nr(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(t)},Vn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Vn.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})&&this.otherwise.outputDefined()},Vn.prototype.serialize=function(){for(var t=this,r=["match",this.input.serialize()],u=[],O={},H=0,q=Object.keys(this.cases).sort();H<q.length;H+=1){var et=q[H];void 0===(Yt=O[this.cases[et]])?(O[this.cases[et]]=u.length,u.push([this.cases[et],[et]])):u[Yt][1].push(et)}for(var ft=function(ae){return"number"===t.inputType.kind?Number(ae):ae},Mt=0,It=u;Mt<It.length;Mt+=1){var Vt=It[Mt],Yt=Vt[0],Qt=Vt[1];r.push(1===Qt.length?ft(Qt[0]):Qt.map(ft)),r.push(this.outputs[outputIndex$1].serialize())}return r.push(this.otherwise.serialize()),r};var xr=function(t,r,u){this.type=t,this.branches=r,this.otherwise=u};xr.parse=function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return r.error("Expected an odd number of arguments.");var u;r.expectedType&&"value"!==r.expectedType.kind&&(u=r.expectedType);for(var O=[],H=1;H<t.length-1;H+=2){var q=r.parse(t[H],H,ki);if(!q)return null;var et=r.parse(t[H+1],H+1,u);if(!et)return null;O.push([q,et]),u=u||et.type}var ft=r.parse(t[t.length-1],t.length-1,u);return ft?new xr(u,O,ft):null},xr.prototype.evaluate=function(t){for(var r=0,u=this.branches;r<u.length;r+=1){var O=u[r],H=O[1];if(O[0].evaluate(t))return H.evaluate(t)}return this.otherwise.evaluate(t)},xr.prototype.eachChild=function(t){for(var r=0,u=this.branches;r<u.length;r+=1){var O=u[r],H=O[1];t(O[0]),t(H)}t(this.otherwise)},xr.prototype.outputDefined=function(){return this.branches.every(function(t){return t[1].outputDefined()})&&this.otherwise.outputDefined()},xr.prototype.serialize=function(){var t=["case"];return this.eachChild(function(r){t.push(r.serialize())}),t};var Vr=function(t,r,u,O){this.type=t,this.input=r,this.beginIndex=u,this.endIndex=O};function Co(t,r){return"=="===t||"!="===t?"boolean"===r.kind||"string"===r.kind||"number"===r.kind||"null"===r.kind||"value"===r.kind:"string"===r.kind||"number"===r.kind||"value"===r.kind}function ro(t,r,u,O){return 0===O.compare(r,u)}function cr(t,r,u){var O="=="!==t&&"!="!==t;return function(){function H(q,et,ft){this.type=ki,this.lhs=q,this.rhs=et,this.collator=ft,this.hasUntypedArgument="value"===q.type.kind||"value"===et.type.kind}return H.parse=function(q,et){if(3!==q.length&&4!==q.length)return et.error("Expected two or three arguments.");var ft=q[0],Mt=et.parse(q[1],1,Ii);if(!Mt)return null;if(!Co(ft,Mt.type))return et.concat(1).error('"'+ft+"\" comparisons are not supported for type '"+kn(Mt.type)+"'.");var It=et.parse(q[2],2,Ii);if(!It)return null;if(!Co(ft,It.type))return et.concat(2).error('"'+ft+"\" comparisons are not supported for type '"+kn(It.type)+"'.");if(Mt.type.kind!==It.type.kind&&"value"!==Mt.type.kind&&"value"!==It.type.kind)return et.error("Cannot compare types '"+kn(Mt.type)+"' and '"+kn(It.type)+"'.");O&&("value"===Mt.type.kind&&"value"!==It.type.kind?Mt=new wr(It.type,[Mt]):"value"!==Mt.type.kind&&"value"===It.type.kind&&(It=new wr(Mt.type,[It])));var Vt=null;if(4===q.length){if("string"!==Mt.type.kind&&"string"!==It.type.kind&&"value"!==Mt.type.kind&&"value"!==It.type.kind)return et.error("Cannot use collator to compare non-string types.");if(!(Vt=et.parse(q[3],3,Pn)))return null}return new H(Mt,It,Vt)},H.prototype.evaluate=function(q){var et=this.lhs.evaluate(q),ft=this.rhs.evaluate(q);if(O&&this.hasUntypedArgument){var Mt=nr(et),It=nr(ft);if(Mt.kind!==It.kind||"string"!==Mt.kind&&"number"!==Mt.kind)throw new Ur('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+Mt.kind+", "+It.kind+") instead.")}if(this.collator&&!O&&this.hasUntypedArgument){var Vt=nr(et),Yt=nr(ft);if("string"!==Vt.kind||"string"!==Yt.kind)return r(q,et,ft)}return this.collator?u(q,et,ft,this.collator.evaluate(q)):r(q,et,ft)},H.prototype.eachChild=function(q){q(this.lhs),q(this.rhs),this.collator&&q(this.collator)},H.prototype.outputDefined=function(){return!0},H.prototype.serialize=function(){var q=[t];return this.eachChild(function(et){q.push(et.serialize())}),q},H}()}Vr.parse=function(t,r){if(t.length<=2||t.length>=5)return r.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var u=r.parse(t[1],1,Ii),O=r.parse(t[2],2,Xe);if(!u||!O)return null;if(!Yn(u.type,[En(Ii),Oi,Ii]))return r.error("Expected first argument to be of type array or string, but found "+kn(u.type)+" instead");if(4===t.length){var H=r.parse(t[3],3,Xe);return H?new Vr(u.type,u,O,H):null}return new Vr(u.type,u,O)},Vr.prototype.evaluate=function(t){var r=this.input.evaluate(t),u=this.beginIndex.evaluate(t);if(!In(r,["string","array"]))throw new Ur("Expected first argument to be of type array or string, but found "+kn(nr(r))+" instead.");if(this.endIndex){var O=this.endIndex.evaluate(t);return r.slice(u,O)}return r.slice(u)},Vr.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},Vr.prototype.outputDefined=function(){return!1},Vr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Gs=cr("==",function(t,r,u){return r===u},ro),Go=cr("!=",function(t,r,u){return r!==u},function(t,r,u,O){return!ro(0,r,u,O)}),is=cr("<",function(t,r,u){return r<u},function(t,r,u,O){return O.compare(r,u)<0}),ks=cr(">",function(t,r,u){return r>u},function(t,r,u,O){return O.compare(r,u)>0}),oa=cr("<=",function(t,r,u){return r<=u},function(t,r,u,O){return O.compare(r,u)<=0}),Ns=cr(">=",function(t,r,u){return r>=u},function(t,r,u,O){return O.compare(r,u)>=0}),gs=function(t,r,u,O,H){this.type=Oi,this.number=t,this.locale=r,this.currency=u,this.minFractionDigits=O,this.maxFractionDigits=H};gs.parse=function(t,r){if(3!==t.length)return r.error("Expected two arguments.");var u=r.parse(t[1],1,Xe);if(!u)return null;var O=t[2];if("object"!=typeof O||Array.isArray(O))return r.error("NumberFormat options argument must be an object.");var H=null;if(O.locale&&!(H=r.parse(O.locale,1,Oi)))return null;var q=null;if(O.currency&&!(q=r.parse(O.currency,1,Oi)))return null;var et=null;if(O["min-fraction-digits"]&&!(et=r.parse(O["min-fraction-digits"],1,Xe)))return null;var ft=null;return O["max-fraction-digits"]&&!(ft=r.parse(O["max-fraction-digits"],1,Xe))?null:new gs(u,H,q,et,ft)},gs.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},gs.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},gs.prototype.outputDefined=function(){return!1},gs.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var ns=function(t){this.type=Xe,this.input=t};ns.parse=function(t,r){if(2!==t.length)return r.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var u=r.parse(t[1],1);return u?"array"!==u.type.kind&&"string"!==u.type.kind&&"value"!==u.type.kind?r.error("Expected argument of type string or array, but found "+kn(u.type)+" instead."):new ns(u):null},ns.prototype.evaluate=function(t){var r=this.input.evaluate(t);if("string"==typeof r||Array.isArray(r))return r.length;throw new Ur("Expected value to be of type string or array, but found "+kn(nr(r))+" instead.")},ns.prototype.eachChild=function(t){t(this.input)},ns.prototype.outputDefined=function(){return!1},ns.prototype.serialize=function(){var t=["length"];return this.eachChild(function(r){t.push(r.serialize())}),t};var Hs={"==":Gs,"!=":Go,">":ks,"<":is,">=":Ns,"<=":oa,array:wr,at:Qr,boolean:wr,case:xr,coalesce:vr,collator:fo,format:io,image:no,in:hr,"index-of":Wr,interpolate:Un,"interpolate-hcl":Un,"interpolate-lab":Un,length:ns,let:_r,literal:kr,match:Vn,number:wr,"number-format":gs,object:wr,slice:Vr,step:pn,string:wr,"to-boolean":Jr,"to-color":Jr,"to-number":Jr,"to-string":Jr,var:Ei,within:je};function y(t,r){var u=r[0],O=r[1],H=r[2],q=r[3];u=u.evaluate(t),O=O.evaluate(t),H=H.evaluate(t);var et=q?q.evaluate(t):1,ft=Xr(u,O,H,et);if(ft)throw new Ur(ft);return new zi(u/255*et,O/255*et,H/255*et,et)}function V(t,r){return t in r}function it(t,r){var u=r[t];return void 0===u?null:u}function bt(t){return{type:t}}function Bt(t){return{result:"success",value:t}}function pe(t){return{result:"error",value:t}}function qe(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function He(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Bi(t){return!!t.expression&&t.expression.interpolated}function Di(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Dn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function rr(t){return t}function Tr(t,r,u){return void 0!==t?t:void 0!==r?r:void 0!==u?u:void 0}function ho(t,r,u,O,H){return Tr(typeof u===H?O[u]:void 0,t.default,r.default)}function ys(t,r,u){if("number"!==Di(u))return Tr(t.default,r.default);var O=t.stops.length;if(1===O||u<=t.stops[0][0])return t.stops[0][1];if(u>=t.stops[O-1][0])return t.stops[O-1][1];var H=ci(t.stops.map(function(q){return q[0]}),u);return t.stops[H][1]}function zo(t,r,u){var O=void 0!==t.base?t.base:1;if("number"!==Di(u))return Tr(t.default,r.default);var H=t.stops.length;if(1===H||u<=t.stops[0][0])return t.stops[0][1];if(u>=t.stops[H-1][0])return t.stops[H-1][1];var Qt,ae,Se,Fe,q=ci(t.stops.map(function(Yt){return Yt[0]}),u),et=(Qt=O,Fe=u-(ae=t.stops[q][0]),0==(Se=t.stops[q+1][0]-ae)?0:1===Qt?Fe/Se:(Math.pow(Qt,Fe)-1)/(Math.pow(Qt,Se)-1)),ft=t.stops[q][1],Mt=t.stops[q+1][1],It=wt[r.type]||rr;if(t.colorSpace&&"rgb"!==t.colorSpace){var Vt=mr[t.colorSpace];It=function(Yt,Qt){return Vt.reverse(Vt.interpolate(Vt.forward(Yt),Vt.forward(Qt),et))}}return"function"==typeof ft.evaluate?{evaluate:function(){for(var Yt=[],Qt=arguments.length;Qt--;)Yt[Qt]=arguments[Qt];var ae=ft.evaluate.apply(void 0,Yt),Te=Mt.evaluate.apply(void 0,Yt);if(void 0!==ae&&void 0!==Te)return It(ae,Te,et)}}:It(ft,Mt,et)}function To(t,r,u){return"color"===r.type?u=zi.parse(u):"formatted"===r.type?u=qn.fromString(u.toString()):"resolvedImage"===r.type?u=lr.fromString(u.toString()):Di(u)===r.type||"enum"===r.type&&r.values[u]||(u=void 0),Tr(u,t.default,r.default)}to.register(Hs,{error:[{kind:"error"},[Oi],function(t,r){throw new Ur(r[0].evaluate(t))}],typeof:[Oi,[Ii],function(t,r){return kn(nr(r[0].evaluate(t)))}],"to-rgba":[En(Xe,4),[oi],function(t,r){return r[0].evaluate(t).toArray()}],rgb:[oi,[Xe,Xe,Xe],y],rgba:[oi,[Xe,Xe,Xe,Xe],y],has:{type:ki,overloads:[[[Oi],function(t,r){return V(r[0].evaluate(t),t.properties())}],[[Oi,an],function(t,r){var u=r[1];return V(r[0].evaluate(t),u.evaluate(t))}]]},get:{type:Ii,overloads:[[[Oi],function(t,r){return it(r[0].evaluate(t),t.properties())}],[[Oi,an],function(t,r){var u=r[1];return it(r[0].evaluate(t),u.evaluate(t))}]]},"feature-state":[Ii,[Oi],function(t,r){return it(r[0].evaluate(t),t.featureState||{})}],properties:[an,[],function(t){return t.properties()}],"geometry-type":[Oi,[],function(t){return t.geometryType()}],id:[Ii,[],function(t){return t.id()}],zoom:[Xe,[],function(t){return t.globals.zoom}],"heatmap-density":[Xe,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Xe,[],function(t){return t.globals.lineProgress||0}],accumulated:[Ii,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Xe,bt(Xe),function(t,r){for(var u=0,O=0,H=r;O<H.length;O+=1)u+=H[O].evaluate(t);return u}],"*":[Xe,bt(Xe),function(t,r){for(var u=1,O=0,H=r;O<H.length;O+=1)u*=H[O].evaluate(t);return u}],"-":{type:Xe,overloads:[[[Xe,Xe],function(t,r){var u=r[1];return r[0].evaluate(t)-u.evaluate(t)}],[[Xe],function(t,r){return-r[0].evaluate(t)}]]},"/":[Xe,[Xe,Xe],function(t,r){var u=r[1];return r[0].evaluate(t)/u.evaluate(t)}],"%":[Xe,[Xe,Xe],function(t,r){var u=r[1];return r[0].evaluate(t)%u.evaluate(t)}],ln2:[Xe,[],function(){return Math.LN2}],pi:[Xe,[],function(){return Math.PI}],e:[Xe,[],function(){return Math.E}],"^":[Xe,[Xe,Xe],function(t,r){var u=r[1];return Math.pow(r[0].evaluate(t),u.evaluate(t))}],sqrt:[Xe,[Xe],function(t,r){return Math.sqrt(r[0].evaluate(t))}],log10:[Xe,[Xe],function(t,r){return Math.log(r[0].evaluate(t))/Math.LN10}],ln:[Xe,[Xe],function(t,r){return Math.log(r[0].evaluate(t))}],log2:[Xe,[Xe],function(t,r){return Math.log(r[0].evaluate(t))/Math.LN2}],sin:[Xe,[Xe],function(t,r){return Math.sin(r[0].evaluate(t))}],cos:[Xe,[Xe],function(t,r){return Math.cos(r[0].evaluate(t))}],tan:[Xe,[Xe],function(t,r){return Math.tan(r[0].evaluate(t))}],asin:[Xe,[Xe],function(t,r){return Math.asin(r[0].evaluate(t))}],acos:[Xe,[Xe],function(t,r){return Math.acos(r[0].evaluate(t))}],atan:[Xe,[Xe],function(t,r){return Math.atan(r[0].evaluate(t))}],min:[Xe,bt(Xe),function(t,r){return Math.min.apply(Math,r.map(function(u){return u.evaluate(t)}))}],max:[Xe,bt(Xe),function(t,r){return Math.max.apply(Math,r.map(function(u){return u.evaluate(t)}))}],abs:[Xe,[Xe],function(t,r){return Math.abs(r[0].evaluate(t))}],round:[Xe,[Xe],function(t,r){var u=r[0].evaluate(t);return u<0?-Math.round(-u):Math.round(u)}],floor:[Xe,[Xe],function(t,r){return Math.floor(r[0].evaluate(t))}],ceil:[Xe,[Xe],function(t,r){return Math.ceil(r[0].evaluate(t))}],"filter-==":[ki,[Oi,Ii],function(t,r){var u=r[0],O=r[1];return t.properties()[u.value]===O.value}],"filter-id-==":[ki,[Ii],function(t,r){var u=r[0];return t.id()===u.value}],"filter-type-==":[ki,[Oi],function(t,r){var u=r[0];return t.geometryType()===u.value}],"filter-<":[ki,[Oi,Ii],function(t,r){var u=r[0],O=r[1],H=t.properties()[u.value],q=O.value;return typeof H==typeof q&&H<q}],"filter-id-<":[ki,[Ii],function(t,r){var u=r[0],O=t.id(),H=u.value;return typeof O==typeof H&&O<H}],"filter->":[ki,[Oi,Ii],function(t,r){var u=r[0],O=r[1],H=t.properties()[u.value],q=O.value;return typeof H==typeof q&&H>q}],"filter-id->":[ki,[Ii],function(t,r){var u=r[0],O=t.id(),H=u.value;return typeof O==typeof H&&O>H}],"filter-<=":[ki,[Oi,Ii],function(t,r){var u=r[0],O=r[1],H=t.properties()[u.value],q=O.value;return typeof H==typeof q&&H<=q}],"filter-id-<=":[ki,[Ii],function(t,r){var u=r[0],O=t.id(),H=u.value;return typeof O==typeof H&&O<=H}],"filter->=":[ki,[Oi,Ii],function(t,r){var u=r[0],O=r[1],H=t.properties()[u.value],q=O.value;return typeof H==typeof q&&H>=q}],"filter-id->=":[ki,[Ii],function(t,r){var u=r[0],O=t.id(),H=u.value;return typeof O==typeof H&&O>=H}],"filter-has":[ki,[Ii],function(t,r){return r[0].value in t.properties()}],"filter-has-id":[ki,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[ki,[En(Oi)],function(t,r){return r[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[ki,[En(Ii)],function(t,r){return r[0].value.indexOf(t.id())>=0}],"filter-in-small":[ki,[Oi,En(Ii)],function(t,r){var u=r[0];return r[1].value.indexOf(t.properties()[u.value])>=0}],"filter-in-large":[ki,[Oi,En(Ii)],function(t,r){var u=r[0],O=r[1];return function(H,q,et,ft){for(;et<=ft;){var Mt=et+ft>>1;if(q[Mt]===H)return!0;q[Mt]>H?ft=Mt-1:et=Mt+1}return!1}(t.properties()[u.value],O.value,0,O.value.length-1)}],all:{type:ki,overloads:[[[ki,ki],function(t,r){var u=r[1];return r[0].evaluate(t)&&u.evaluate(t)}],[bt(ki),function(t,r){for(var u=0,O=r;u<O.length;u+=1)if(!O[u].evaluate(t))return!1;return!0}]]},any:{type:ki,overloads:[[[ki,ki],function(t,r){var u=r[1];return r[0].evaluate(t)||u.evaluate(t)}],[bt(ki),function(t,r){for(var u=0,O=r;u<O.length;u+=1)if(O[u].evaluate(t))return!0;return!1}]]},"!":[ki,[ki],function(t,r){return!r[0].evaluate(t)}],"is-supported-script":[ki,[Oi],function(t,r){var u=t.globals&&t.globals.isSupportedScript;return!u||u(r[0].evaluate(t))}],upcase:[Oi,[Oi],function(t,r){return r[0].evaluate(t).toUpperCase()}],downcase:[Oi,[Oi],function(t,r){return r[0].evaluate(t).toLowerCase()}],concat:[Oi,bt(Ii),function(t,r){return r.map(function(u){return Rr(u.evaluate(t))}).join("")}],"resolved-locale":[Oi,[Pn],function(t,r){return r[0].evaluate(t).resolvedLocale()}]});var Rs=function(t,r){var u;this.expression=t,this._warningHistory={},this._evaluator=new Zr,this._defaultValue=r?"color"===(u=r).type&&Dn(u.default)?new zi(0,0,0,0):"color"===u.type?zi.parse(u.default)||null:void 0===u.default?null:u.default:null,this._enumValues=r&&"enum"===r.type?r.values:null};function Fo(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Hs}function Ws(t,r){var H,q,u=new mi(Hs,[],r?(q={color:oi,string:Oi,number:Xe,enum:Oi,boolean:ki,formatted:yn,resolvedImage:bn},"array"===(H=r).type?En(q[H.value]||Ii,H.length):q[H.type]):void 0),O=u.parse(t,void 0,void 0,void 0,r&&"string"===r.type?{typeAnnotation:"coerce"}:void 0);return O?Bt(new Rs(O,r)):pe(u.errors)}Rs.prototype.evaluateWithoutErrorHandling=function(t,r,u,O,H,q){return this._evaluator.globals=t,this._evaluator.feature=r,this._evaluator.featureState=u,this._evaluator.canonical=O,this._evaluator.availableImages=H||null,this._evaluator.formattedSection=q,this.expression.evaluate(this._evaluator)},Rs.prototype.evaluate=function(t,r,u,O,H,q){this._evaluator.globals=t,this._evaluator.feature=r||null,this._evaluator.featureState=u||null,this._evaluator.canonical=O,this._evaluator.availableImages=H||null,this._evaluator.formattedSection=q||null;try{var et=this.expression.evaluate(this._evaluator);if(null==et||"number"==typeof et&&et!=et)return this._defaultValue;if(this._enumValues&&!(et in this._enumValues))throw new Ur("Expected value to be one of "+Object.keys(this._enumValues).map(function(ft){return JSON.stringify(ft)}).join(", ")+", but found "+JSON.stringify(et)+" instead.");return et}catch(ft){return this._warningHistory[ft.message]||(this._warningHistory[ft.message]=!0,typeof console<"u"&&console.warn(ft.message)),this._defaultValue}};var oo=function(t,r){this.kind=t,this._styleExpression=r,this.isStateDependent="constant"!==t&&!ni(r.expression)};oo.prototype.evaluateWithoutErrorHandling=function(t,r,u,O,H,q){return this._styleExpression.evaluateWithoutErrorHandling(t,r,u,O,H,q)},oo.prototype.evaluate=function(t,r,u,O,H,q){return this._styleExpression.evaluate(t,r,u,O,H,q)};var ds=function(t,r,u,O){this.kind=t,this.zoomStops=u,this._styleExpression=r,this.isStateDependent="camera"!==t&&!ni(r.expression),this.interpolationType=O};function Ss(t,r){if("error"===(t=Ws(t,r)).result)return t;var u=t.value.expression,O=ze(u);if(!O&&!qe(r))return pe([new Ye("","data expressions not supported")]);var H=Si(u,["zoom"]);if(!H&&!He(r))return pe([new Ye("","zoom expressions not supported")]);var q=function et(ft){var Mt=null;if(ft instanceof _r)Mt=et(ft.result);else if(ft instanceof vr)for(var It=0,Vt=ft.args;It<Vt.length&&!(Mt=et(Vt[It]));It+=1);else(ft instanceof pn||ft instanceof Un)&&ft.input instanceof to&&"zoom"===ft.input.name&&(Mt=ft);return Mt instanceof Ye||ft.eachChild(function(Yt){var Qt=et(Yt);Qt instanceof Ye?Mt=Qt:!Mt&&Qt?Mt=new Ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Mt&&Qt&&Mt!==Qt&&(Mt=new Ye("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),Mt}(u);return q||H?q instanceof Ye?pe([q]):q instanceof Un&&!Bi(r)?pe([new Ye("",'"interpolate" expressions cannot be used with this property')]):Bt(q?new ds(O?"camera":"composite",t.value,q.labels,q instanceof Un?q.interpolation:void 0):new oo(O?"constant":"source",t.value)):pe([new Ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}ds.prototype.evaluateWithoutErrorHandling=function(t,r,u,O,H,q){return this._styleExpression.evaluateWithoutErrorHandling(t,r,u,O,H,q)},ds.prototype.evaluate=function(t,r,u,O,H,q){return this._styleExpression.evaluate(t,r,u,O,H,q)},ds.prototype.interpolationFactor=function(t,r,u){return this.interpolationType?Un.interpolationFactor(this.interpolationType,t,r,u):0};var $s=function(t,r){this._parameters=t,this._specification=r,Oe(this,function u(O,H){var q,et,ft,Mt="color"===H.type,It=O.stops&&"object"==typeof O.stops[0][0],Vt=It||!(It||void 0!==O.property),Yt=O.type||(Bi(H)?"exponential":"interval");if(Mt&&((O=Oe({},O)).stops&&(O.stops=O.stops.map(function(mn){return[mn[0],zi.parse(mn[1])]})),O.default=zi.parse(O.default?O.default:H.default)),O.colorSpace&&"rgb"!==O.colorSpace&&!mr[O.colorSpace])throw new Error("Unknown color space: "+O.colorSpace);if("exponential"===Yt)q=zo;else if("interval"===Yt)q=ys;else if("categorical"===Yt){q=ho,et=Object.create(null);for(var Qt=0,ae=O.stops;Qt<ae.length;Qt+=1){var Te=ae[Qt];et[Te[0]]=Te[1]}ft=typeof O.stops[0][0]}else{if("identity"!==Yt)throw new Error('Unknown function type "'+Yt+'"');q=To}if(It){for(var Se={},Fe=[],ke=0;ke<O.stops.length;ke++){var $e=O.stops[ke],ui=$e[0].zoom;void 0===Se[ui]&&(Se[ui]={zoom:ui,type:O.type,property:O.property,default:O.default,stops:[]},Fe.push(ui)),Se[ui].stops.push([$e[0].value,$e[1]])}for(var bi=[],Pi=0,Ni=Fe;Pi<Ni.length;Pi+=1){var Qi=Ni[Pi];bi.push([Se[Qi].zoom,u(Se[Qi],H)])}var hn={name:"linear"};return{kind:"composite",interpolationType:hn,interpolationFactor:Un.interpolationFactor.bind(void 0,hn),zoomStops:bi.map(function(mn){return mn[0]}),evaluate:function(mn,Rn){var gn=mn.zoom;return zo({stops:bi,base:O.base},H,gn).evaluate(gn,Rn)}}}if(Vt){var On="exponential"===Yt?{name:"exponential",base:void 0!==O.base?O.base:1}:null;return{kind:"camera",interpolationType:On,interpolationFactor:Un.interpolationFactor.bind(void 0,On),zoomStops:O.stops.map(function(mn){return mn[0]}),evaluate:function(mn){return q(O,H,mn.zoom,et,ft)}}}return{kind:"source",evaluate:function(mn,Rn){var gn=Rn&&Rn.properties?Rn.properties[O.property]:void 0;return void 0===gn?Tr(O.default,H.default):q(O,H,gn,et,ft)}}}(this._parameters,this._specification))};function rs(t){var r=t.key,u=t.value,O=t.valueSpec||{},H=t.objectElementValidators||{},q=t.style,et=t.styleSpec,ft=[],Mt=Di(u);if("object"!==Mt)return[new oe(r,u,"object expected, "+Mt+" found")];for(var It in u){var Vt=It.split(".")[0],Yt=O[Vt]||O["*"],Qt=void 0;if(H[Vt])Qt=H[Vt];else if(O[Vt])Qt=Hi;else if(H["*"])Qt=H["*"];else{if(!O["*"]){ft.push(new oe(r,u[It],'unknown property "'+It+'"'));continue}Qt=Hi}ft=ft.concat(Qt({key:(r&&r+".")+It,value:u[It],valueSpec:Yt,style:q,styleSpec:et,object:u,objectKey:It},u))}for(var ae in O)H[ae]||O[ae].required&&void 0===O[ae].default&&void 0===u[ae]&&ft.push(new oe(r,u,'missing required property "'+ae+'"'));return ft}function ba(t){var r=t.value,u=t.valueSpec,O=t.style,H=t.styleSpec,q=t.key,et=t.arrayElementValidator||Hi;if("array"!==Di(r))return[new oe(q,r,"array expected, "+Di(r)+" found")];if(u.length&&r.length!==u.length)return[new oe(q,r,"array length "+u.length+" expected, length "+r.length+" found")];if(u["min-length"]&&r.length<u["min-length"])return[new oe(q,r,"array length at least "+u["min-length"]+" expected, length "+r.length+" found")];var ft={type:u.value,values:u.values};H.$version<7&&(ft.function=u.function),"object"===Di(u.value)&&(ft=u.value);for(var Mt=[],It=0;It<r.length;It++)Mt=Mt.concat(et({array:r,arrayIndex:It,value:r[It],valueSpec:ft,style:O,styleSpec:H,key:q+"["+It+"]"}));return Mt}function ma(t){var r=t.key,u=t.value,O=t.valueSpec,H=Di(u);return"number"===H&&u!=u&&(H="NaN"),"number"!==H?[new oe(r,u,"number expected, "+H+" found")]:"minimum"in O&&u<O.minimum?[new oe(r,u,u+" is less than the minimum value "+O.minimum)]:"maximum"in O&&u>O.maximum?[new oe(r,u,u+" is greater than the maximum value "+O.maximum)]:[]}function _e(t){var r,u,O,H=t.valueSpec,q=Qe(t.value.type),et={},ft="categorical"!==q&&void 0===t.value.property,Mt=!ft,It="array"===Di(t.value.stops)&&"array"===Di(t.value.stops[0])&&"object"===Di(t.value.stops[0][0]),Vt=rs({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(ae){if("identity"===q)return[new oe(ae.key,ae.value,'identity function may not have a "stops" property')];var Te=[],Se=ae.value;return Te=Te.concat(ba({key:ae.key,value:Se,valueSpec:ae.valueSpec,style:ae.style,styleSpec:ae.styleSpec,arrayElementValidator:Yt})),"array"===Di(Se)&&0===Se.length&&Te.push(new oe(ae.key,Se,"array must have at least one stop")),Te},default:function(ae){return Hi({key:ae.key,value:ae.value,valueSpec:H,style:ae.style,styleSpec:ae.styleSpec})}}});return"identity"===q&&ft&&Vt.push(new oe(t.key,t.value,'missing required property "property"')),"identity"===q||t.value.stops||Vt.push(new oe(t.key,t.value,'missing required property "stops"')),"exponential"===q&&t.valueSpec.expression&&!Bi(t.valueSpec)&&Vt.push(new oe(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(Mt&&!qe(t.valueSpec)?Vt.push(new oe(t.key,t.value,"property functions not supported")):ft&&!He(t.valueSpec)&&Vt.push(new oe(t.key,t.value,"zoom functions not supported"))),"categorical"!==q&&!It||void 0!==t.value.property||Vt.push(new oe(t.key,t.value,'"property" property is required')),Vt;function Yt(ae){var Te=[],Se=ae.value,Fe=ae.key;if("array"!==Di(Se))return[new oe(Fe,Se,"array expected, "+Di(Se)+" found")];if(2!==Se.length)return[new oe(Fe,Se,"array length 2 expected, length "+Se.length+" found")];if(It){if("object"!==Di(Se[0]))return[new oe(Fe,Se,"object expected, "+Di(Se[0])+" found")];if(void 0===Se[0].zoom)return[new oe(Fe,Se,"object stop key must have zoom")];if(void 0===Se[0].value)return[new oe(Fe,Se,"object stop key must have value")];if(O&&O>Qe(Se[0].zoom))return[new oe(Fe,Se[0].zoom,"stop zoom values must appear in ascending order")];Qe(Se[0].zoom)!==O&&(O=Qe(Se[0].zoom),u=void 0,et={}),Te=Te.concat(rs({key:Fe+"[0]",value:Se[0],valueSpec:{zoom:{}},style:ae.style,styleSpec:ae.styleSpec,objectElementValidators:{zoom:ma,value:Qt}}))}else Te=Te.concat(Qt({key:Fe+"[0]",value:Se[0],valueSpec:{},style:ae.style,styleSpec:ae.styleSpec},Se));return Fo(ue(Se[1]))?Te.concat([new oe(Fe+"[1]",Se[1],"expressions are not allowed in function stops.")]):Te.concat(Hi({key:Fe+"[1]",value:Se[1],valueSpec:H,style:ae.style,styleSpec:ae.styleSpec}))}function Qt(ae,Te){var Se=Di(ae.value),Fe=Qe(ae.value),ke=null!==ae.value?ae.value:Te;if(r){if(Se!==r)return[new oe(ae.key,ke,Se+" stop domain type must match previous stop domain type "+r)]}else r=Se;if("number"!==Se&&"string"!==Se&&"boolean"!==Se)return[new oe(ae.key,ke,"stop domain value must be a number, string, or boolean")];if("number"!==Se&&"categorical"!==q){var $e="number expected, "+Se+" found";return qe(H)&&void 0===q&&($e+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new oe(ae.key,ke,$e)]}return"categorical"!==q||"number"!==Se||isFinite(Fe)&&Math.floor(Fe)===Fe?"categorical"!==q&&"number"===Se&&void 0!==u&&Fe<u?[new oe(ae.key,ke,"stop domain values must appear in ascending order")]:(u=Fe,"categorical"===q&&Fe in et?[new oe(ae.key,ke,"stop domain values must be unique")]:(et[Fe]=!0,[])):[new oe(ae.key,ke,"integer expected, found "+Fe)]}}function Ue(t){var r=("property"===t.expressionContext?Ss:Ws)(ue(t.value),t.valueSpec);if("error"===r.result)return r.value.map(function(O){return new oe(""+t.key+O.key,t.value,O.message)});var u=r.value.expression||r.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!u.outputDefined())return[new oe(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!ni(u))return[new oe(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!ni(u))return[new oe(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Si(u,["zoom","feature-state"]))return[new oe(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!ze(u))return[new oe(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ri(t){var r=t.key,u=t.value,O=t.valueSpec,H=[];return Array.isArray(O.values)?-1===O.values.indexOf(Qe(u))&&H.push(new oe(r,u,"expected one of ["+O.values.join(", ")+"], "+JSON.stringify(u)+" found")):-1===Object.keys(O.values).indexOf(Qe(u))&&H.push(new oe(r,u,"expected one of ["+Object.keys(O.values).join(", ")+"], "+JSON.stringify(u)+" found")),H}function Ui(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var r=0,u=t.slice(1);r<u.length;r+=1){var O=u[r];if(!Ui(O)&&"boolean"!=typeof O)return!1}return!0;default:return!0}}$s.deserialize=function(t){return new $s(t._parameters,t._specification)},$s.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var fi={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Wi(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};Ui(t)||(t=dn(t));var r=Ws(t,fi);if("error"===r.result)throw new Error(r.value.map(function(u){return u.key+": "+u.message}).join(", "));return{filter:function(u,O,H){return r.value.evaluate(u,O,{},H)},needGeometry:function u(O){if(!Array.isArray(O))return!1;if("within"===O[0])return!0;for(var H=1;H<O.length;H++)if(u(O[H]))return!0;return!1}(t)}}function sn(t,r){return t<r?-1:t>r?1:0}function dn(t){if(!t)return!0;var r,u=t[0];return t.length<=1?"any"!==u:"=="===u?Tn(t[1],t[2],"=="):"!="===u?Kn(Tn(t[1],t[2],"==")):"<"===u||">"===u||"<="===u||">="===u?Tn(t[1],t[2],u):"any"===u?(r=t.slice(1),["any"].concat(r.map(dn))):"all"===u?["all"].concat(t.slice(1).map(dn)):"none"===u?["all"].concat(t.slice(1).map(dn).map(Kn)):"in"===u?pr(t[1],t.slice(2)):"!in"===u?Kn(pr(t[1],t.slice(2))):"has"===u?sr(t[1]):"!has"===u?Kn(sr(t[1])):"within"!==u||t}function Tn(t,r,u){switch(t){case"$type":return["filter-type-"+u,r];case"$id":return["filter-id-"+u,r];default:return["filter-"+u,t,r]}}function pr(t,r){if(0===r.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(function(u){return typeof u!=typeof r[0]})?["filter-in-large",t,["literal",r.sort(sn)]]:["filter-in-small",t,["literal",r]]}}function sr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Kn(t){return["!",t]}function Kt(t){return Ui(ue(t.value))?Ue(Oe({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function r(u){var O=u.value,H=u.key;if("array"!==Di(O))return[new oe(H,O,"array expected, "+Di(O)+" found")];var q,et=u.styleSpec,ft=[];if(O.length<1)return[new oe(H,O,"filter array must have at least 1 element")];switch(ft=ft.concat(ri({key:H+"[0]",value:O[0],valueSpec:et.filter_operator,style:u.style,styleSpec:u.styleSpec})),Qe(O[0])){case"<":case"<=":case">":case">=":O.length>=2&&"$type"===Qe(O[1])&&ft.push(new oe(H,O,'"$type" cannot be use with operator "'+O[0]+'"'));case"==":case"!=":3!==O.length&&ft.push(new oe(H,O,'filter array for operator "'+O[0]+'" must have 3 elements'));case"in":case"!in":O.length>=2&&"string"!==(q=Di(O[1]))&&ft.push(new oe(H+"[1]",O[1],"string expected, "+q+" found"));for(var Mt=2;Mt<O.length;Mt++)q=Di(O[Mt]),"$type"===Qe(O[1])?ft=ft.concat(ri({key:H+"["+Mt+"]",value:O[Mt],valueSpec:et.geometry_type,style:u.style,styleSpec:u.styleSpec})):"string"!==q&&"number"!==q&&"boolean"!==q&&ft.push(new oe(H+"["+Mt+"]",O[Mt],"string, number, or boolean expected, "+q+" found"));break;case"any":case"all":case"none":for(var It=1;It<O.length;It++)ft=ft.concat(r({key:H+"["+It+"]",value:O[It],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":q=Di(O[1]),2!==O.length?ft.push(new oe(H,O,'filter array for "'+O[0]+'" operator must have 2 elements')):"string"!==q&&ft.push(new oe(H+"[1]",O[1],"string expected, "+q+" found"));break;case"within":q=Di(O[1]),2!==O.length?ft.push(new oe(H,O,'filter array for "'+O[0]+'" operator must have 2 elements')):"object"!==q&&ft.push(new oe(H+"[1]",O[1],"object expected, "+q+" found"))}return ft}(t)}function lt(t,r){var u=t.key,O=t.style,H=t.styleSpec,q=t.value,et=t.objectKey,ft=H[r+"_"+t.layerType];if(!ft)return[];var Mt=et.match(/^(.*)-transition$/);if("paint"===r&&Mt&&ft[Mt[1]]&&ft[Mt[1]].transition)return Hi({key:u,value:q,valueSpec:H.transition,style:O,styleSpec:H});var It,Vt=t.valueSpec||ft[et];if(!Vt)return[new oe(u,q,'unknown property "'+et+'"')];if("string"===Di(q)&&qe(Vt)&&!Vt.tokens&&(It=/^{([^}]+)}$/.exec(q)))return[new oe(u,q,'"'+et+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(It[1])+" }`.")];var Yt=[];return"symbol"===t.layerType&&("text-field"===et&&O&&!O.glyphs&&Yt.push(new oe(u,q,'use of "text-field" requires a style "glyphs" property')),"text-font"===et&&Dn(ue(q))&&"identity"===Qe(q.type)&&Yt.push(new oe(u,q,'"text-font" does not support identity functions'))),Yt.concat(Hi({key:t.key,value:q,valueSpec:Vt,style:O,styleSpec:H,expressionContext:"property",propertyType:r,propertyKey:et}))}function Et(t){return lt(t,"paint")}function fe(t){return lt(t,"layout")}function Ke(t){var r=[],u=t.value,O=t.key,H=t.style,q=t.styleSpec;u.type||u.ref||r.push(new oe(O,u,'either "type" or "ref" is required'));var et,ft=Qe(u.type),Mt=Qe(u.ref);if(u.id)for(var It=Qe(u.id),Vt=0;Vt<t.arrayIndex;Vt++){var Yt=H.layers[Vt];Qe(Yt.id)===It&&r.push(new oe(O,u.id,'duplicate layer id "'+u.id+'", previously used at line '+Yt.id.__line__))}if("ref"in u)["type","source","source-layer","filter","layout"].forEach(function(Te){Te in u&&r.push(new oe(O,u[Te],'"'+Te+'" is prohibited for ref layers'))}),H.layers.forEach(function(Te){Qe(Te.id)===Mt&&(et=Te)}),et?et.ref?r.push(new oe(O,u.ref,"ref cannot reference another ref layer")):ft=Qe(et.type):r.push(new oe(O,u.ref,'ref layer "'+Mt+'" not found'));else if("background"!==ft)if(u.source){var Qt=H.sources&&H.sources[u.source],ae=Qt&&Qe(Qt.type);Qt?"vector"===ae&&"raster"===ft?r.push(new oe(O,u.source,'layer "'+u.id+'" requires a raster source')):"raster"===ae&&"raster"!==ft?r.push(new oe(O,u.source,'layer "'+u.id+'" requires a vector source')):"vector"!==ae||u["source-layer"]?"raster-dem"===ae&&"hillshade"!==ft?r.push(new oe(O,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==ft||!u.paint||!u.paint["line-gradient"]||"geojson"===ae&&Qt.lineMetrics||r.push(new oe(O,u,'layer "'+u.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):r.push(new oe(O,u,'layer "'+u.id+'" must specify a "source-layer"')):r.push(new oe(O,u.source,'source "'+u.source+'" not found'))}else r.push(new oe(O,u,'missing required property "source"'));return r=r.concat(rs({key:O,value:u,valueSpec:q.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Hi({key:O+".type",value:u.type,valueSpec:q.layer.type,style:t.style,styleSpec:t.styleSpec,object:u,objectKey:"type"})},filter:Kt,layout:function(Te){return rs({layer:u,key:Te.key,value:Te.value,style:Te.style,styleSpec:Te.styleSpec,objectElementValidators:{"*":function(Se){return fe(Oe({layerType:ft},Se))}}})},paint:function(Te){return rs({layer:u,key:Te.key,value:Te.value,style:Te.style,styleSpec:Te.styleSpec,objectElementValidators:{"*":function(Se){return Et(Oe({layerType:ft},Se))}}})}}}))}function Je(t){var r=t.value,u=t.key,O=Di(r);return"string"!==O?[new oe(u,r,"string expected, "+O+" found")]:[]}var si={promoteId:function(t){var r=t.key,u=t.value;if("string"===Di(u))return Je({key:r,value:u});var O=[];for(var H in u)O.push.apply(O,Je({key:r+"."+H,value:u[H]}));return O}};function Vi(t){var r=t.value,u=t.key,O=t.styleSpec,H=t.style;if(!r.type)return[new oe(u,r,'"type" is required')];var q,et=Qe(r.type);switch(et){case"vector":case"raster":case"raster-dem":return rs({key:u,value:r,valueSpec:O["source_"+et.replace("-","_")],style:t.style,styleSpec:O,objectElementValidators:si});case"geojson":if(q=rs({key:u,value:r,valueSpec:O.source_geojson,style:H,styleSpec:O,objectElementValidators:si}),r.cluster)for(var ft in r.clusterProperties){var Mt=r.clusterProperties[ft],It=Mt[0],Vt="string"==typeof It?[It,["accumulated"],["get",ft]]:It;q.push.apply(q,Ue({key:u+"."+ft+".map",value:Mt[1],expressionContext:"cluster-map"})),q.push.apply(q,Ue({key:u+"."+ft+".reduce",value:Vt,expressionContext:"cluster-reduce"}))}return q;case"video":return rs({key:u,value:r,valueSpec:O.source_video,style:H,styleSpec:O});case"image":return rs({key:u,value:r,valueSpec:O.source_image,style:H,styleSpec:O});case"canvas":return[new oe(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ri({key:u+".type",value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:H,styleSpec:O})}}function en(t){var r=t.value,u=t.styleSpec,O=u.light,H=t.style,q=[],et=Di(r);if(void 0===r)return q;if("object"!==et)return q.concat([new oe("light",r,"object expected, "+et+" found")]);for(var ft in r){var Mt=ft.match(/^(.*)-transition$/);q=q.concat(Mt&&O[Mt[1]]&&O[Mt[1]].transition?Hi({key:ft,value:r[ft],valueSpec:u.transition,style:H,styleSpec:u}):O[ft]?Hi({key:ft,value:r[ft],valueSpec:O[ft],style:H,styleSpec:u}):[new oe(ft,r[ft],'unknown property "'+ft+'"')])}return q}var un={"*":function(){return[]},array:ba,boolean:function(t){var r=t.value,u=t.key,O=Di(r);return"boolean"!==O?[new oe(u,r,"boolean expected, "+O+" found")]:[]},number:ma,color:function(t){var r=t.key,u=t.value,O=Di(u);return"string"!==O?[new oe(r,u,"color expected, "+O+" found")]:null===An(u)?[new oe(r,u,'color expected, "'+u+'" found')]:[]},constants:Le,enum:ri,filter:Kt,function:_e,layer:Ke,object:rs,source:Vi,light:en,string:Je,formatted:function(t){return 0===Je(t).length?[]:Ue(t)},resolvedImage:function(t){return 0===Je(t).length?[]:Ue(t)}};function Hi(t){var r=t.value,u=t.valueSpec,O=t.styleSpec;return u.expression&&Dn(Qe(r))?_e(t):u.expression&&Fo(ue(r))?Ue(t):u.type&&un[u.type]?un[u.type](t):rs(Oe({},t,{valueSpec:u.type?O[u.type]:u}))}function nn(t){var r=t.value,u=t.key,O=Je(t);return O.length||(-1===r.indexOf("{fontstack}")&&O.push(new oe(u,r,'"glyphs" url must include a "{fontstack}" token')),-1===r.indexOf("{range}")&&O.push(new oe(u,r,'"glyphs" url must include a "{range}" token'))),O}function er(t,r){void 0===r&&(r=Xt);var u=[];return u=u.concat(Hi({key:"",value:t,valueSpec:r.$root,styleSpec:r,style:t,objectElementValidators:{glyphs:nn,"*":function(){return[]}}})),t.constants&&(u=u.concat(Le({key:"constants",value:t.constants,style:t,styleSpec:r}))),Jn(u)}function Jn(t){return[].concat(t).sort(function(r,u){return r.line-u.line})}function ar(t){return function(){for(var r=[],u=arguments.length;u--;)r[u]=arguments[u];return Jn(t.apply(this,r))}}er.source=ar(Vi),er.light=ar(en),er.layer=ar(Ke),er.filter=ar(Kt),er.paintProperty=ar(Et),er.layoutProperty=ar(fe);var ur=er,Sr=ur.light,po=ur.paintProperty,so=ur.layoutProperty;function Ar(t,r){var u=!1;if(r&&r.length)for(var O=0,H=r;O<H.length;O+=1)t.fire(new Ut(new Error(H[O].message))),u=!0;return u}var Or=Hn;function Hn(t,r,u){var O=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var H=new Int32Array(this.arrayBuffer);t=H[0],this.d=(r=H[1])+2*(u=H[2]);for(var q=0;q<this.d*this.d;q++){var et=H[3+q],ft=H[3+q+1];O.push(et===ft?null:H.subarray(et,ft))}var Mt=H[3+O.length+1];this.keys=H.subarray(H[3+O.length],Mt),this.bboxes=H.subarray(Mt),this.insert=this._insertReadonly}else{this.d=r+2*u;for(var It=0;It<this.d*this.d;It++)O.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=t,this.padding=u,this.scale=r/t,this.uid=0;var Vt=u/r*t;this.min=-Vt,this.max=t+Vt}Hn.prototype.insert=function(t,r,u,O,H){this._forEachCell(r,u,O,H,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(r),this.bboxes.push(u),this.bboxes.push(O),this.bboxes.push(H)},Hn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Hn.prototype._insertCell=function(t,r,u,O,H,q){this.cells[H].push(q)},Hn.prototype.query=function(t,r,u,O,H){var q=this.min,et=this.max;if(t<=q&&r<=q&&et<=u&&et<=O&&!H)return Array.prototype.slice.call(this.keys);var ft=[];return this._forEachCell(t,r,u,O,this._queryCell,ft,{},H),ft},Hn.prototype._queryCell=function(t,r,u,O,H,q,et,ft){var Mt=this.cells[H];if(null!==Mt)for(var It=this.keys,Vt=this.bboxes,Yt=0;Yt<Mt.length;Yt++){var Qt=Mt[Yt];if(void 0===et[Qt]){var ae=4*Qt;(ft?ft(Vt[ae+0],Vt[ae+1],Vt[ae+2],Vt[ae+3]):t<=Vt[ae+2]&&r<=Vt[ae+3]&&u>=Vt[ae+0]&&O>=Vt[ae+1])?(et[Qt]=!0,q.push(It[Qt])):et[Qt]=!1}}},Hn.prototype._forEachCell=function(t,r,u,O,H,q,et,ft){for(var Mt=this._convertToCellCoord(t),It=this._convertToCellCoord(r),Vt=this._convertToCellCoord(u),Yt=this._convertToCellCoord(O),Qt=Mt;Qt<=Vt;Qt++)for(var ae=It;ae<=Yt;ae++){var Te=this.d*ae+Qt;if((!ft||ft(this._convertFromCellCoord(Qt),this._convertFromCellCoord(ae),this._convertFromCellCoord(Qt+1),this._convertFromCellCoord(ae+1)))&&H.call(this,t,r,u,O,Te,q,et,ft))return}},Hn.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Hn.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Hn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,r=3+this.cells.length+1+1,u=0,O=0;O<this.cells.length;O++)u+=this.cells[O].length;var H=new Int32Array(r+u+this.keys.length+this.bboxes.length);H[0]=this.extent,H[1]=this.n,H[2]=this.padding;for(var q=r,et=0;et<t.length;et++){var ft=t[et];H[3+et]=q,H.set(ft,q),q+=ft.length}return H[3+t.length]=q,H.set(this.keys,q),H[3+t.length+1]=q+=this.keys.length,H.set(this.bboxes,q),q+=this.bboxes.length,H.buffer};var Ir=A.ImageData,ao=A.ImageBitmap,dr={};function Ji(t,r,u){void 0===u&&(u={}),Object.defineProperty(r,"_classRegistryKey",{value:t,writeable:!1}),dr[t]={klass:r,omit:u.omit||[],shallow:u.shallow||[]}}for(var qr in Ji("Object",Object),Or.serialize=function(t,r){var u=t.toArrayBuffer();return r&&r.push(u),{buffer:u}},Or.deserialize=function(t){return new Or(t.buffer)},Ji("Grid",Or),Ji("Color",zi),Ji("Error",Error),Ji("ResolvedImage",lr),Ji("StylePropertyFunction",$s),Ji("StyleExpression",Rs,{omit:["_evaluator"]}),Ji("ZoomDependentExpression",ds),Ji("ZoomConstantExpression",oo),Ji("CompoundExpression",to,{omit:["_evaluate"]}),Hs)Hs[qr]._classRegistryKey||Ji("Expression_"+qr,Hs[qr]);function fs(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function ms(t){return ao&&t instanceof ao}function vo(t,r){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(fs(t)||ms(t))return r&&r.push(t),t;if(ArrayBuffer.isView(t)){var u=t;return r&&r.push(u.buffer),u}if(t instanceof Ir)return r&&r.push(t.data.buffer),t;if(Array.isArray(t)){for(var O=[],H=0,q=t;H<q.length;H+=1)O.push(vo(q[H],r));return O}if("object"==typeof t){var et=t.constructor,ft=et._classRegistryKey;if(!ft)throw new Error("can't serialize object of unregistered class");var Mt=et.serialize?et.serialize(t,r):{};if(!et.serialize){for(var It in t)if(t.hasOwnProperty(It)&&!(dr[ft].omit.indexOf(It)>=0)){var Vt=t[It];Mt[It]=dr[ft].shallow.indexOf(It)>=0?Vt:vo(Vt,r)}t instanceof Error&&(Mt.message=t.message)}if(Mt.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==ft&&(Mt.$name=ft),Mt}throw new Error("can't serialize object of type "+typeof t)}function _o(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||fs(t)||ms(t)||ArrayBuffer.isView(t)||t instanceof Ir)return t;if(Array.isArray(t))return t.map(_o);if("object"==typeof t){var r=t.$name||"Object",u=dr[r].klass;if(!u)throw new Error("can't deserialize unregistered class "+r);if(u.deserialize)return u.deserialize(t);for(var O=Object.create(u.prototype),H=0,q=Object.keys(t);H<q.length;H+=1){var et=q[H];if("$name"!==et){var ft=t[et];O[et]=dr[r].shallow.indexOf(et)>=0?ft:_o(ft)}}return O}throw new Error("can't deserialize object of type "+typeof t)}var os=function(){this.first=!0};os.prototype.update=function(t,r){var u=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=u,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=u,!0):(this.lastFloorZoom>u?(this.lastIntegerZoom=u+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<u&&(this.lastIntegerZoom=u,this.lastIntegerZoomTime=r),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=u,!0))};var $i={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Bs(t){for(var r=0,u=t;r<u.length;r+=1)if(Ds(u[r].charCodeAt(0)))return!0;return!1}function Ds(t){return!(746!==t&&747!==t&&(t<4352||!($i["Bopomofo Extended"](t)||$i.Bopomofo(t)||$i["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||$i["CJK Compatibility Ideographs"](t)||$i["CJK Compatibility"](t)||$i["CJK Radicals Supplement"](t)||$i["CJK Strokes"](t)||!(!$i["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||$i["CJK Unified Ideographs Extension A"](t)||$i["CJK Unified Ideographs"](t)||$i["Enclosed CJK Letters and Months"](t)||$i["Hangul Compatibility Jamo"](t)||$i["Hangul Jamo Extended-A"](t)||$i["Hangul Jamo Extended-B"](t)||$i["Hangul Jamo"](t)||$i["Hangul Syllables"](t)||$i.Hiragana(t)||$i["Ideographic Description Characters"](t)||$i.Kanbun(t)||$i["Kangxi Radicals"](t)||$i["Katakana Phonetic Extensions"](t)||$i.Katakana(t)&&12540!==t||!(!$i["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!$i["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||$i["Unified Canadian Aboriginal Syllabics"](t)||$i["Unified Canadian Aboriginal Syllabics Extended"](t)||$i["Vertical Forms"](t)||$i["Yijing Hexagram Symbols"](t)||$i["Yi Syllables"](t)||$i["Yi Radicals"](t))))}function aa(t){return!(Ds(t)||(r=t,$i["Latin-1 Supplement"](r)&&(167===r||169===r||174===r||177===r||188===r||189===r||190===r||215===r||247===r)||$i["General Punctuation"](r)&&(8214===r||8224===r||8225===r||8240===r||8241===r||8251===r||8252===r||8258===r||8263===r||8264===r||8265===r||8273===r)||$i["Letterlike Symbols"](r)||$i["Number Forms"](r)||$i["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||9003===r||r>=9085&&r<=9114||r>=9150&&r<=9165||9167===r||r>=9169&&r<=9179||r>=9186&&r<=9215)||$i["Control Pictures"](r)&&9251!==r||$i["Optical Character Recognition"](r)||$i["Enclosed Alphanumerics"](r)||$i["Geometric Shapes"](r)||$i["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||$i["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||$i["CJK Symbols and Punctuation"](r)||$i.Katakana(r)||$i["Private Use Area"](r)||$i["CJK Compatibility Forms"](r)||$i["Small Form Variants"](r)||$i["Halfwidth and Fullwidth Forms"](r)||8734===r||8756===r||8757===r||r>=9984&&r<=10087||r>=10102&&r<=10131||65532===r||65533===r));var r}function uo(t){return t>=1424&&t<=2303||$i["Arabic Presentation Forms-A"](t)||$i["Arabic Presentation Forms-B"](t)}function Er(t,r){return!(!r&&uo(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||$i.Khmer(t))}function Ko(t){for(var r=0,u=t;r<u.length;r+=1)if(uo(u[r].charCodeAt(0)))return!0;return!1}var vs=null,Lo="unavailable",zs=null,rl=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(Lo="error"),vs&&vs(t)};function wa(){Ta.fire(new Lt("pluginStateChange",{pluginStatus:Lo,pluginURL:zs}))}var Ta=new re,ol=function(){return Lo},Qs=function(){if("deferred"!==Lo||!zs)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Lo="loading",wa(),zs&&ji({url:zs},function(t){t?rl(t):(Lo="loaded",wa())})},_s={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Lo||null!=_s.applyArabicShaping},isLoading:function(){return"loading"===Lo},setState:function(t){Lo=t.pluginStatus,zs=t.pluginURL},isParsed:function(){return null!=_s.applyArabicShaping&&null!=_s.processBidirectionalText&&null!=_s.processStyledBidirectionalText},getPluginURL:function(){return zs}},Pr=function(t,r){this.zoom=t,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new os,this.transition={})};Pr.prototype.isSupportedScript=function(t){return function(r,u){for(var O=0,H=r;O<H.length;O+=1)if(!Er(H[O].charCodeAt(0),u))return!1;return!0}(t,_s.isLoaded())},Pr.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Pr.prototype.getCrossfadeParameters=function(){var t=this.zoom,r=t-Math.floor(t),u=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*u}:{fromScale:.5,toScale:1,t:1-(1-u)*r}};var Ys=function(t,r){this.property=t,this.value=r,this.expression=function(u,O){if(Dn(u))return new $s(u,O);if(Fo(u)){var H=Ss(u,O);if("error"===H.result)throw new Error(H.value.map(function(et){return et.key+": "+et.message}).join(", "));return H.value}var q=u;return"string"==typeof u&&"color"===O.type&&(q=zi.parse(u)),{kind:"constant",evaluate:function(){return q}}}(void 0===r?t.specification.default:r,t.specification)};Ys.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Ys.prototype.possiblyEvaluate=function(t,r,u){return this.property.possiblyEvaluate(this,t,r,u)};var Xs=function(t){this.property=t,this.value=new Ys(t,void 0)};Xs.prototype.transitioned=function(t,r){return new la(this.property,this.value,r,X({},t.transition,this.transition),t.now)},Xs.prototype.untransitioned=function(){return new la(this.property,this.value,null,{},0)};var Ho=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Ho.prototype.getValue=function(t){return rt(this._values[t].value.value)},Ho.prototype.setValue=function(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new Xs(this._values[t].property)),this._values[t].value=new Ys(this._values[t].property,null===r?void 0:rt(r))},Ho.prototype.getTransition=function(t){return rt(this._values[t].transition)},Ho.prototype.setTransition=function(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new Xs(this._values[t].property)),this._values[t].transition=rt(r)||void 0},Ho.prototype.serialize=function(){for(var t={},r=0,u=Object.keys(this._values);r<u.length;r+=1){var O=u[r],H=this.getValue(O);void 0!==H&&(t[O]=H);var q=this.getTransition(O);void 0!==q&&(t[O+"-transition"]=q)}return t},Ho.prototype.transitioned=function(t,r){for(var u=new ha(this._properties),O=0,H=Object.keys(this._values);O<H.length;O+=1){var q=H[O];u._values[q]=this._values[q].transitioned(t,r._values[q])}return u},Ho.prototype.untransitioned=function(){for(var t=new ha(this._properties),r=0,u=Object.keys(this._values);r<u.length;r+=1){var O=u[r];t._values[O]=this._values[O].untransitioned()}return t};var la=function(t,r,u,O,H){this.property=t,this.value=r,this.begin=H+O.delay||0,this.end=this.begin+O.duration||0,t.specification.transition&&(O.delay||O.duration)&&(this.prior=u)};la.prototype.possiblyEvaluate=function(t,r,u){var O=t.now||0,H=this.value.possiblyEvaluate(t,r,u),q=this.prior;if(q){if(O>this.end)return this.prior=null,H;if(this.value.isDataDriven())return this.prior=null,H;if(O<this.begin)return q.possiblyEvaluate(t,r,u);var et=(O-this.begin)/(this.end-this.begin);return this.property.interpolate(q.possiblyEvaluate(t,r,u),H,function(ft){if(ft<=0)return 0;if(ft>=1)return 1;var Mt=ft*ft,It=Mt*ft;return 4*(ft<.5?It:3*(ft-Mt)+It-.75)}(et))}return H};var ha=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};ha.prototype.possiblyEvaluate=function(t,r,u){for(var O=new ua(this._properties),H=0,q=Object.keys(this._values);H<q.length;H+=1){var et=q[H];O._values[et]=this._values[et].possiblyEvaluate(t,r,u)}return O},ha.prototype.hasTransition=function(){for(var t=0,r=Object.keys(this._values);t<r.length;t+=1)if(this._values[r[t]].prior)return!0;return!1};var Zs=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};Zs.prototype.getValue=function(t){return rt(this._values[t].value)},Zs.prototype.setValue=function(t,r){this._values[t]=new Ys(this._values[t].property,null===r?void 0:rt(r))},Zs.prototype.serialize=function(){for(var t={},r=0,u=Object.keys(this._values);r<u.length;r+=1){var O=u[r],H=this.getValue(O);void 0!==H&&(t[O]=H)}return t},Zs.prototype.possiblyEvaluate=function(t,r,u){for(var O=new ua(this._properties),H=0,q=Object.keys(this._values);H<q.length;H+=1){var et=q[H];O._values[et]=this._values[et].possiblyEvaluate(t,r,u)}return O};var Ao=function(t,r,u){this.property=t,this.value=r,this.parameters=u};Ao.prototype.isConstant=function(){return"constant"===this.value.kind},Ao.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},Ao.prototype.evaluate=function(t,r,u,O){return this.property.evaluate(this.value,this.parameters,t,r,u,O)};var ua=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};ua.prototype.get=function(t){return this._values[t]};var Ln=function(t){this.specification=t};Ln.prototype.possiblyEvaluate=function(t,r){return t.expression.evaluate(r)},Ln.prototype.interpolate=function(t,r,u){var O=wt[this.specification.type];return O?O(t,r,u):t};var Sn=function(t,r){this.specification=t,this.overrides=r};Sn.prototype.possiblyEvaluate=function(t,r,u,O){return new Ao(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(r,null,{},u,O)}:t.expression,r)},Sn.prototype.interpolate=function(t,r,u){if("constant"!==t.value.kind||"constant"!==r.value.kind)return t;if(void 0===t.value.value||void 0===r.value.value)return new Ao(this,{kind:"constant",value:void 0},t.parameters);var O=wt[this.specification.type];return O?new Ao(this,{kind:"constant",value:O(t.value.value,r.value.value,u)},t.parameters):t},Sn.prototype.evaluate=function(t,r,u,O,H,q){return"constant"===t.kind?t.value:t.evaluate(r,u,O,H,q)};var Sa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.possiblyEvaluate=function(u,O,H,q){if(void 0===u.value)return new Ao(this,{kind:"constant",value:void 0},O);if("constant"===u.expression.kind){var et=u.expression.evaluate(O,null,{},H,q),ft="resolvedImage"===u.property.specification.type&&"string"!=typeof et?et.name:et,Mt=this._calculate(ft,ft,ft,O);return new Ao(this,{kind:"constant",value:Mt},O)}if("camera"===u.expression.kind){var It=this._calculate(u.expression.evaluate({zoom:O.zoom-1}),u.expression.evaluate({zoom:O.zoom}),u.expression.evaluate({zoom:O.zoom+1}),O);return new Ao(this,{kind:"constant",value:It},O)}return new Ao(this,u.expression,O)},r.prototype.evaluate=function(u,O,H,q,et,ft){if("source"===u.kind){var Mt=u.evaluate(O,H,q,et,ft);return this._calculate(Mt,Mt,Mt,O)}return"composite"===u.kind?this._calculate(u.evaluate({zoom:Math.floor(O.zoom)-1},H,q),u.evaluate({zoom:Math.floor(O.zoom)},H,q),u.evaluate({zoom:Math.floor(O.zoom)+1},H,q),O):u.value},r.prototype._calculate=function(u,O,H,q){return q.zoom>q.zoomHistory.lastIntegerZoom?{from:u,to:O}:{from:H,to:O}},r.prototype.interpolate=function(u){return u},r}(Sn),ss=function(t){this.specification=t};ss.prototype.possiblyEvaluate=function(t,r,u,O){if(void 0!==t.value){if("constant"===t.expression.kind){var H=t.expression.evaluate(r,null,{},u,O);return this._calculate(H,H,H,r)}return this._calculate(t.expression.evaluate(new Pr(Math.floor(r.zoom-1),r)),t.expression.evaluate(new Pr(Math.floor(r.zoom),r)),t.expression.evaluate(new Pr(Math.floor(r.zoom+1),r)),r)}},ss.prototype._calculate=function(t,r,u,O){return O.zoom>O.zoomHistory.lastIntegerZoom?{from:t,to:r}:{from:u,to:r}},ss.prototype.interpolate=function(t){return t};var Fs=function(t){this.specification=t};Fs.prototype.possiblyEvaluate=function(t,r,u,O){return!!t.expression.evaluate(r,null,{},u,O)},Fs.prototype.interpolate=function(){return!1};var Wo=function(t){for(var r in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var u=t[r];u.specification.overridable&&this.overridableProperties.push(r);var O=this.defaultPropertyValues[r]=new Ys(u,void 0),H=this.defaultTransitionablePropertyValues[r]=new Xs(u);this.defaultTransitioningPropertyValues[r]=H.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=O.possiblyEvaluate({})}};Ji("DataDrivenProperty",Sn),Ji("DataConstantProperty",Ln),Ji("CrossFadedDataDrivenProperty",Sa),Ji("CrossFadedProperty",ss),Ji("ColorRampProperty",Fs);var qs=function(t){function r(u,O){if(t.call(this),this.id=u.id,this.type=u.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==u.type&&(this.metadata=u.metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,"background"!==u.type&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),O.layout&&(this._unevaluatedLayout=new Zs(O.layout)),O.paint)){for(var H in this._transitionablePaint=new Ho(O.paint),u.paint)this.setPaintProperty(H,u.paint[H],{validate:!1});for(var q in u.layout)this.setLayoutProperty(q,u.layout[q],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ua(O.paint)}}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},r.prototype.getLayoutProperty=function(u){return"visibility"===u?this.visibility:this._unevaluatedLayout.getValue(u)},r.prototype.setLayoutProperty=function(u,O,H){void 0===H&&(H={}),null!=O&&this._validate(so,"layers."+this.id+".layout."+u,u,O,H)||("visibility"!==u?this._unevaluatedLayout.setValue(u,O):this.visibility=O)},r.prototype.getPaintProperty=function(u){return gt(u,"-transition")?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)},r.prototype.setPaintProperty=function(u,O,H){if(void 0===H&&(H={}),null!=O&&this._validate(po,"layers."+this.id+".paint."+u,u,O,H))return!1;if(gt(u,"-transition"))return this._transitionablePaint.setTransition(u.slice(0,-11),O||void 0),!1;var q=this._transitionablePaint._values[u],et="cross-faded-data-driven"===q.property.specification["property-type"],ft=q.value.isDataDriven(),Mt=q.value;this._transitionablePaint.setValue(u,O),this._handleSpecialPaintPropertyUpdate(u);var It=this._transitionablePaint._values[u].value;return It.isDataDriven()||ft||et||this._handleOverridablePaintPropertyUpdate(u,Mt,It)},r.prototype._handleSpecialPaintPropertyUpdate=function(u){},r.prototype._handleOverridablePaintPropertyUpdate=function(u,O,H){return!1},r.prototype.isHidden=function(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||"none"===this.visibility},r.prototype.updateTransitions=function(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)},r.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},r.prototype.recalculate=function(u,O){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,O)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,O)},r.prototype.serialize=function(){var u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),_t(u,function(O,H){return!(void 0===O||"layout"===H&&!Object.keys(O).length||"paint"===H&&!Object.keys(O).length)})},r.prototype._validate=function(u,O,H,q,et){return void 0===et&&(et={}),(!et||!1!==et.validate)&&Ar(this,u.call(ur,{key:O,layerType:this.type,objectKey:H,value:q,styleSpec:Xt,style:{glyphs:!0,sprite:!0}}))},r.prototype.is3D=function(){return!1},r.prototype.isTileClipped=function(){return!1},r.prototype.hasOffscreenPass=function(){return!1},r.prototype.resize=function(){},r.prototype.isStateDependent=function(){for(var u in this.paint._values){var O=this.paint.get(u);if(O instanceof Ao&&qe(O.property.specification)&&("source"===O.value.kind||"composite"===O.value.kind)&&O.value.isStateDependent)return!0}return!1},r}(re),sl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Xa=function(t,r){this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},jr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function jo(t,r){void 0===r&&(r=1);var u=0,O=0;return{members:t.map(function(H){var q=sl[H.type].BYTES_PER_ELEMENT,et=u=Ah(u,Math.max(r,q)),ft=H.components||1;return O=Math.max(O,q),u+=q*ft,{name:H.name,type:H.type,components:ft,offset:et}}),size:Ah(u,Math.max(O,r)),alignment:r}}function Ah(t,r){return Math.ceil(t/r)*r}jr.serialize=function(t,r){return t._trim(),r&&(t.isTransferred=!0,r.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},jr.deserialize=function(t){var r=Object.create(this.prototype);return r.arrayBuffer=t.arrayBuffer,r.length=t.length,r.capacity=t.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r},jr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},jr.prototype.clear=function(){this.length=0},jr.prototype.resize=function(t){this.reserve(t),this.length=t},jr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}},jr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ba=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O){var H=this.length;return this.resize(H+1),this.emplace(H,u,O)},r.prototype.emplace=function(u,O,H){var q=2*u;return this.int16[q+0]=O,this.int16[q+1]=H,u},r}(jr);Ba.prototype.bytesPerElement=4,Ji("StructArrayLayout2i4",Ba);var Jl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q){var et=this.length;return this.resize(et+1),this.emplace(et,u,O,H,q)},r.prototype.emplace=function(u,O,H,q,et){var ft=4*u;return this.int16[ft+0]=O,this.int16[ft+1]=H,this.int16[ft+2]=q,this.int16[ft+3]=et,u},r}(jr);Jl.prototype.bytesPerElement=8,Ji("StructArrayLayout4i8",Jl);var ga=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et,ft){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,u,O,H,q,et,ft)},r.prototype.emplace=function(u,O,H,q,et,ft,Mt){var It=6*u;return this.int16[It+0]=O,this.int16[It+1]=H,this.int16[It+2]=q,this.int16[It+3]=et,this.int16[It+4]=ft,this.int16[It+5]=Mt,u},r}(jr);ga.prototype.bytesPerElement=12,Ji("StructArrayLayout2i4i12",ga);var js=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et,ft){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,u,O,H,q,et,ft)},r.prototype.emplace=function(u,O,H,q,et,ft,Mt){var It=4*u,Vt=8*u;return this.int16[It+0]=O,this.int16[It+1]=H,this.uint8[Vt+4]=q,this.uint8[Vt+5]=et,this.uint8[Vt+6]=ft,this.uint8[Vt+7]=Mt,u},r}(jr);js.prototype.bytesPerElement=8,Ji("StructArrayLayout2i4ub8",js);var Za=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O){var H=this.length;return this.resize(H+1),this.emplace(H,u,O)},r.prototype.emplace=function(u,O,H){var q=2*u;return this.float32[q+0]=O,this.float32[q+1]=H,u},r}(jr);Za.prototype.bytesPerElement=8,Ji("StructArrayLayout2f8",Za);var ca=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et,ft,Mt,It,Vt,Yt){var Qt=this.length;return this.resize(Qt+1),this.emplace(Qt,u,O,H,q,et,ft,Mt,It,Vt,Yt)},r.prototype.emplace=function(u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt){var ae=10*u;return this.uint16[ae+0]=O,this.uint16[ae+1]=H,this.uint16[ae+2]=q,this.uint16[ae+3]=et,this.uint16[ae+4]=ft,this.uint16[ae+5]=Mt,this.uint16[ae+6]=It,this.uint16[ae+7]=Vt,this.uint16[ae+8]=Yt,this.uint16[ae+9]=Qt,u},r}(jr);ca.prototype.bytesPerElement=20,Ji("StructArrayLayout10ui20",ca);var xl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae){var Te=this.length;return this.resize(Te+1),this.emplace(Te,u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae)},r.prototype.emplace=function(u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te){var Se=12*u;return this.int16[Se+0]=O,this.int16[Se+1]=H,this.int16[Se+2]=q,this.int16[Se+3]=et,this.uint16[Se+4]=ft,this.uint16[Se+5]=Mt,this.uint16[Se+6]=It,this.uint16[Se+7]=Vt,this.int16[Se+8]=Yt,this.int16[Se+9]=Qt,this.int16[Se+10]=ae,this.int16[Se+11]=Te,u},r}(jr);xl.prototype.bytesPerElement=24,Ji("StructArrayLayout4i4ui4i24",xl);var qa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H){var q=this.length;return this.resize(q+1),this.emplace(q,u,O,H)},r.prototype.emplace=function(u,O,H,q){var et=3*u;return this.float32[et+0]=O,this.float32[et+1]=H,this.float32[et+2]=q,u},r}(jr);qa.prototype.bytesPerElement=12,Ji("StructArrayLayout3f12",qa);var al=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u){var O=this.length;return this.resize(O+1),this.emplace(O,u)},r.prototype.emplace=function(u,O){return this.uint32[1*u+0]=O,u},r}(jr);al.prototype.bytesPerElement=4,Ji("StructArrayLayout1ul4",al);var $l=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et,ft,Mt,It,Vt){var Yt=this.length;return this.resize(Yt+1),this.emplace(Yt,u,O,H,q,et,ft,Mt,It,Vt)},r.prototype.emplace=function(u,O,H,q,et,ft,Mt,It,Vt,Yt){var Qt=10*u,ae=5*u;return this.int16[Qt+0]=O,this.int16[Qt+1]=H,this.int16[Qt+2]=q,this.int16[Qt+3]=et,this.int16[Qt+4]=ft,this.int16[Qt+5]=Mt,this.uint32[ae+3]=It,this.uint16[Qt+8]=Vt,this.uint16[Qt+9]=Yt,u},r}(jr);$l.prototype.bytesPerElement=20,Ji("StructArrayLayout6i1ul2ui20",$l);var Ka=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et,ft){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,u,O,H,q,et,ft)},r.prototype.emplace=function(u,O,H,q,et,ft,Mt){var It=6*u;return this.int16[It+0]=O,this.int16[It+1]=H,this.int16[It+2]=q,this.int16[It+3]=et,this.int16[It+4]=ft,this.int16[It+5]=Mt,u},r}(jr);Ka.prototype.bytesPerElement=12,Ji("StructArrayLayout2i2i2i12",Ka);var za=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et){var ft=this.length;return this.resize(ft+1),this.emplace(ft,u,O,H,q,et)},r.prototype.emplace=function(u,O,H,q,et,ft){var Mt=4*u,It=8*u;return this.float32[Mt+0]=O,this.float32[Mt+1]=H,this.float32[Mt+2]=q,this.int16[It+6]=et,this.int16[It+7]=ft,u},r}(jr);za.prototype.bytesPerElement=16,Ji("StructArrayLayout2f1f2i16",za);var Ql=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q){var et=this.length;return this.resize(et+1),this.emplace(et,u,O,H,q)},r.prototype.emplace=function(u,O,H,q,et){var ft=12*u,Mt=3*u;return this.uint8[ft+0]=O,this.uint8[ft+1]=H,this.float32[Mt+1]=q,this.float32[Mt+2]=et,u},r}(jr);Ql.prototype.bytesPerElement=12,Ji("StructArrayLayout2ub2f12",Ql);var Pa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H){var q=this.length;return this.resize(q+1),this.emplace(q,u,O,H)},r.prototype.emplace=function(u,O,H,q){var et=3*u;return this.uint16[et+0]=O,this.uint16[et+1]=H,this.uint16[et+2]=q,u},r}(jr);Pa.prototype.bytesPerElement=6,Ji("StructArrayLayout3ui6",Pa);var Ca=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te,Se,Fe,ke,$e){var ui=this.length;return this.resize(ui+1),this.emplace(ui,u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te,Se,Fe,ke,$e)},r.prototype.emplace=function(u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te,Se,Fe,ke,$e,ui){var bi=24*u,Pi=12*u,Ni=48*u;return this.int16[bi+0]=O,this.int16[bi+1]=H,this.uint16[bi+2]=q,this.uint16[bi+3]=et,this.uint32[Pi+2]=ft,this.uint32[Pi+3]=Mt,this.uint32[Pi+4]=It,this.uint16[bi+10]=Vt,this.uint16[bi+11]=Yt,this.uint16[bi+12]=Qt,this.float32[Pi+7]=ae,this.float32[Pi+8]=Te,this.uint8[Ni+36]=Se,this.uint8[Ni+37]=Fe,this.uint8[Ni+38]=ke,this.uint32[Pi+10]=$e,this.int16[bi+22]=ui,u},r}(jr);Ca.prototype.bytesPerElement=48,Ji("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ca);var bl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te,Se,Fe,ke,$e,ui,bi,Pi,Ni,Qi,hn,On,mn,Rn,gn,br){var Zn=this.length;return this.resize(Zn+1),this.emplace(Zn,u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te,Se,Fe,ke,$e,ui,bi,Pi,Ni,Qi,hn,On,mn,Rn,gn,br)},r.prototype.emplace=function(u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te,Se,Fe,ke,$e,ui,bi,Pi,Ni,Qi,hn,On,mn,Rn,gn,br,Zn){var Cn=34*u,Cr=17*u;return this.int16[Cn+0]=O,this.int16[Cn+1]=H,this.int16[Cn+2]=q,this.int16[Cn+3]=et,this.int16[Cn+4]=ft,this.int16[Cn+5]=Mt,this.int16[Cn+6]=It,this.int16[Cn+7]=Vt,this.uint16[Cn+8]=Yt,this.uint16[Cn+9]=Qt,this.uint16[Cn+10]=ae,this.uint16[Cn+11]=Te,this.uint16[Cn+12]=Se,this.uint16[Cn+13]=Fe,this.uint16[Cn+14]=ke,this.uint16[Cn+15]=$e,this.uint16[Cn+16]=ui,this.uint16[Cn+17]=bi,this.uint16[Cn+18]=Pi,this.uint16[Cn+19]=Ni,this.uint16[Cn+20]=Qi,this.uint16[Cn+21]=hn,this.uint16[Cn+22]=On,this.uint32[Cr+12]=mn,this.float32[Cr+13]=Rn,this.float32[Cr+14]=gn,this.float32[Cr+15]=br,this.float32[Cr+16]=Zn,u},r}(jr);bl.prototype.bytesPerElement=68,Ji("StructArrayLayout8i15ui1ul4f68",bl);var Aa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u){var O=this.length;return this.resize(O+1),this.emplace(O,u)},r.prototype.emplace=function(u,O){return this.float32[1*u+0]=O,u},r}(jr);Aa.prototype.bytesPerElement=4,Ji("StructArrayLayout1f4",Aa);var ta=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H){var q=this.length;return this.resize(q+1),this.emplace(q,u,O,H)},r.prototype.emplace=function(u,O,H,q){var et=3*u;return this.int16[et+0]=O,this.int16[et+1]=H,this.int16[et+2]=q,u},r}(jr);ta.prototype.bytesPerElement=6,Ji("StructArrayLayout3i6",ta);var th=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H){var q=this.length;return this.resize(q+1),this.emplace(q,u,O,H)},r.prototype.emplace=function(u,O,H,q){var et=4*u;return this.uint32[2*u+0]=O,this.uint16[et+2]=H,this.uint16[et+3]=q,u},r}(jr);th.prototype.bytesPerElement=8,Ji("StructArrayLayout1ul2ui8",th);var ll=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O){var H=this.length;return this.resize(H+1),this.emplace(H,u,O)},r.prototype.emplace=function(u,O,H){var q=2*u;return this.uint16[q+0]=O,this.uint16[q+1]=H,u},r}(jr);ll.prototype.bytesPerElement=4,Ji("StructArrayLayout2ui4",ll);var eh=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u){var O=this.length;return this.resize(O+1),this.emplace(O,u)},r.prototype.emplace=function(u,O){return this.uint16[1*u+0]=O,u},r}(jr);eh.prototype.bytesPerElement=2,Ji("StructArrayLayout1ui2",eh);var wl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(u,O,H,q){var et=this.length;return this.resize(et+1),this.emplace(et,u,O,H,q)},r.prototype.emplace=function(u,O,H,q,et){var ft=4*u;return this.float32[ft+0]=O,this.float32[ft+1]=H,this.float32[ft+2]=q,this.float32[ft+3]=et,u},r}(jr);wl.prototype.bytesPerElement=16,Ji("StructArrayLayout4f16",wl);var g=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var u={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return u.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},u.x1.get=function(){return this._structArray.int16[this._pos2+2]},u.y1.get=function(){return this._structArray.int16[this._pos2+3]},u.x2.get=function(){return this._structArray.int16[this._pos2+4]},u.y2.get=function(){return this._structArray.int16[this._pos2+5]},u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.anchorPoint.get=function(){return new m(this.anchorPointX,this.anchorPointY)},Object.defineProperties(r.prototype,u),r}(Xa);g.prototype.size=20;var b=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(u){return new g(this,u)},r}($l);Ji("CollisionBoxArray",b);var v=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},u.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},u.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},u.segment.get=function(){return this._structArray.uint16[this._pos2+10]},u.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},u.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},u.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},u.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},u.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},u.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},u.placedOrientation.set=function(O){this._structArray.uint8[this._pos1+37]=O},u.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},u.hidden.set=function(O){this._structArray.uint8[this._pos1+38]=O},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},u.crossTileID.set=function(O){this._structArray.uint32[this._pos4+10]=O},u.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(r.prototype,u),r}(Xa);v.prototype.size=48;var B=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(u){return new v(this,u)},r}(Ca);Ji("PlacedSymbolArray",B);var J=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},u.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},u.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},u.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},u.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},u.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},u.key.get=function(){return this._structArray.uint16[this._pos2+8]},u.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},u.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},u.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},u.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},u.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},u.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},u.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},u.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},u.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},u.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},u.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},u.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},u.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},u.crossTileID.set=function(O){this._structArray.uint32[this._pos4+12]=O},u.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},u.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},u.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},u.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(r.prototype,u),r}(Xa);J.prototype.size=68;var st=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(u){return new J(this,u)},r}(bl);Ji("SymbolInstanceArray",st);var dt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getoffsetX=function(u){return this.float32[1*u+0]},r}(Aa);Ji("GlyphOffsetArray",dt);var Pt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getx=function(u){return this.int16[3*u+0]},r.prototype.gety=function(u){return this.int16[3*u+1]},r.prototype.gettileUnitDistanceFromAnchor=function(u){return this.int16[3*u+2]},r}(ta);Ji("SymbolLineVertexArray",Pt);var zt=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var u={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(r.prototype,u),r}(Xa);zt.prototype.size=8;var Zt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(u){return new zt(this,u)},r}(th);Ji("FeatureIndexArray",Zt);var he=jo([{name:"a_pos",components:2,type:"Int16"}],4).members,de=function(t){void 0===t&&(t=[]),this.segments=t};function ve(t,r){return 256*(t=R(Math.floor(t),0,255))+R(Math.floor(r),0,255)}de.prototype.prepareSegment=function(t,r,u,O){var H=this.segments[this.segments.length-1];return t>de.MAX_VERTEX_ARRAY_LENGTH&&at("Max vertices per segment is "+de.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!H||H.vertexLength+t>de.MAX_VERTEX_ARRAY_LENGTH||H.sortKey!==O)&&(H={vertexOffset:r.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},void 0!==O&&(H.sortKey=O),this.segments.push(H)),H},de.prototype.get=function(){return this.segments},de.prototype.destroy=function(){for(var t=0,r=this.segments;t<r.length;t+=1){var u=r[t];for(var O in u.vaos)u.vaos[O].destroy()}},de.simpleSegment=function(t,r,u,O){return new de([{vertexOffset:t,primitiveOffset:r,vertexLength:u,primitiveLength:O,vaos:{},sortKey:0}])},de.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ji("SegmentVector",de);var Ce=jo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Pe=D(function(t){t.exports=function(r,u){var O,H,q,et,ft,Mt,It,Vt;for(H=r.length-(O=3&r.length),q=u,ft=3432918353,Mt=461845907,Vt=0;Vt<H;)It=255&r.charCodeAt(Vt)|(255&r.charCodeAt(++Vt))<<8|(255&r.charCodeAt(++Vt))<<16|(255&r.charCodeAt(++Vt))<<24,++Vt,q=27492+(65535&(et=5*(65535&(q=(q^=It=(65535&(It=(It=(65535&It)*ft+(((It>>>16)*ft&65535)<<16)&4294967295)<<15|It>>>17))*Mt+(((It>>>16)*Mt&65535)<<16)&4294967295)<<13|q>>>19))+((5*(q>>>16)&65535)<<16)&4294967295))+((58964+(et>>>16)&65535)<<16);switch(It=0,O){case 3:It^=(255&r.charCodeAt(Vt+2))<<16;case 2:It^=(255&r.charCodeAt(Vt+1))<<8;case 1:q^=It=(65535&(It=(It=(65535&(It^=255&r.charCodeAt(Vt)))*ft+(((It>>>16)*ft&65535)<<16)&4294967295)<<15|It>>>17))*Mt+(((It>>>16)*Mt&65535)<<16)&4294967295}return q^=r.length,q=2246822507*(65535&(q^=q>>>16))+((2246822507*(q>>>16)&65535)<<16)&4294967295,q=3266489909*(65535&(q^=q>>>13))+((3266489909*(q>>>16)&65535)<<16)&4294967295,(q^=q>>>16)>>>0}}),Be=D(function(t){t.exports=function(r,u){for(var O,H=r.length,q=u^H,et=0;H>=4;)O=1540483477*(65535&(O=255&r.charCodeAt(et)|(255&r.charCodeAt(++et))<<8|(255&r.charCodeAt(++et))<<16|(255&r.charCodeAt(++et))<<24))+((1540483477*(O>>>16)&65535)<<16),q=1540483477*(65535&q)+((1540483477*(q>>>16)&65535)<<16)^(O=1540483477*(65535&(O^=O>>>24))+((1540483477*(O>>>16)&65535)<<16)),H-=4,++et;switch(H){case 3:q^=(255&r.charCodeAt(et+2))<<16;case 2:q^=(255&r.charCodeAt(et+1))<<8;case 1:q=1540483477*(65535&(q^=255&r.charCodeAt(et)))+((1540483477*(q>>>16)&65535)<<16)}return q=1540483477*(65535&(q^=q>>>13))+((1540483477*(q>>>16)&65535)<<16),(q^=q>>>15)>>>0}}),we=Pe,Re=Be;we.murmur3=Pe,we.murmur2=Re;var Ge=function(){this.ids=[],this.positions=[],this.indexed=!1};Ge.prototype.add=function(t,r,u,O){this.ids.push(Ci(t)),this.positions.push(r,u,O)},Ge.prototype.getPositions=function(t){for(var r=Ci(t),u=0,O=this.ids.length-1;u<O;){var H=u+O>>1;this.ids[H]>=r?O=H:u=H+1}for(var q=[];this.ids[u]===r;)q.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return q},Ge.serialize=function(t,r){var u=new Float64Array(t.ids),O=new Uint32Array(t.positions);return function H(q,et,ft,Mt){for(;ft<Mt;){for(var It=q[ft+Mt>>1],Vt=ft-1,Yt=Mt+1;;){do{Vt++}while(q[Vt]<It);do{Yt--}while(q[Yt]>It);if(Vt>=Yt)break;wi(q,Vt,Yt),wi(et,3*Vt,3*Yt),wi(et,3*Vt+1,3*Yt+1),wi(et,3*Vt+2,3*Yt+2)}Yt-ft<Mt-Yt?(H(q,et,ft,Yt),ft=Yt+1):(H(q,et,Yt+1,Mt),Mt=Yt)}}(u,O,0,u.length-1),r&&r.push(u.buffer,O.buffer),{ids:u,positions:O}},Ge.deserialize=function(t){var r=new Ge;return r.ids=t.ids,r.positions=t.positions,r.indexed=!0,r};var hi=Math.pow(2,53)-1;function Ci(t){var r=+t;return!isNaN(r)&&r<=hi?r:we(String(t))}function wi(t,r,u){var O=t[r];t[r]=t[u],t[u]=O}Ji("FeaturePositionMap",Ge);var Mi=function(t,r){this.gl=t.gl,this.location=r},Gi=function(t){function r(u,O){t.call(this,u,O),this.current=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))},r}(Mi),on=function(t){function r(u,O){t.call(this,u,O),this.current=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))},r}(Mi),rn=function(t){function r(u,O){t.call(this,u,O),this.current=[0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))},r}(Mi),vn=function(t){function r(u,O){t.call(this,u,O),this.current=[0,0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))},r}(Mi),Nn=function(t){function r(u,O){t.call(this,u,O),this.current=[0,0,0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))},r}(Mi),jn=function(t){function r(u,O){t.call(this,u,O),this.current=zi.transparent}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))},r}(Mi),zn=new Float32Array(16),zr=function(t){function r(u,O){t.call(this,u,O),this.current=zn}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(var O=1;O<16;O++)if(u[O]!==this.current[O]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}},r}(Mi);function xn(t){return[ve(255*t.r,255*t.g),ve(255*t.b,255*t.a)]}var or=function(t,r,u){this.value=t,this.uniformNames=r.map(function(O){return"u_"+O}),this.type=u};or.prototype.setUniform=function(t,r,u){t.set(u.constantOr(this.value))},or.prototype.getBinding=function(t,r,u){return"color"===this.type?new jn(t,r):new on(t,r)};var yr=function(t,r){this.uniformNames=r.map(function(u){return"u_"+u}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};yr.prototype.setConstantPatternPositions=function(t,r){this.pixelRatioFrom=r.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=r.tlbr,this.patternTo=t.tlbr},yr.prototype.setUniform=function(t,r,u,O){var H="u_pattern_to"===O?this.patternTo:"u_pattern_from"===O?this.patternFrom:"u_pixel_ratio_to"===O?this.pixelRatioTo:"u_pixel_ratio_from"===O?this.pixelRatioFrom:null;H&&t.set(H)},yr.prototype.getBinding=function(t,r,u){return"u_pattern"===u.substr(0,9)?new Nn(t,r):new on(t,r)};var ir=function(t,r,u,O){this.expression=t,this.type=u,this.maxValue=0,this.paintVertexAttributes=r.map(function(H){return{name:"a_"+H,type:"Float32",components:"color"===u?2:1,offset:0}}),this.paintVertexArray=new O};ir.prototype.populatePaintArray=function(t,r,u,O,H){var q=this.paintVertexArray.length,et=this.expression.evaluate(new Pr(0),r,{},O,[],H);this.paintVertexArray.resize(t),this._setPaintValue(q,t,et)},ir.prototype.updatePaintArray=function(t,r,u,O){var H=this.expression.evaluate({zoom:0},u,O);this._setPaintValue(t,r,H)},ir.prototype._setPaintValue=function(t,r,u){if("color"===this.type)for(var O=xn(u),H=t;H<r;H++)this.paintVertexArray.emplace(H,O[0],O[1]);else{for(var q=t;q<r;q++)this.paintVertexArray.emplace(q,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}},ir.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ir.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var tr=function(t,r,u,O,H,q){this.expression=t,this.uniformNames=r.map(function(et){return"u_"+et+"_t"}),this.type=u,this.useIntegerZoom=O,this.zoom=H,this.maxValue=0,this.paintVertexAttributes=r.map(function(et){return{name:"a_"+et,type:"Float32",components:"color"===u?4:2,offset:0}}),this.paintVertexArray=new q};tr.prototype.populatePaintArray=function(t,r,u,O,H){var q=this.expression.evaluate(new Pr(this.zoom),r,{},O,[],H),et=this.expression.evaluate(new Pr(this.zoom+1),r,{},O,[],H),ft=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(ft,t,q,et)},tr.prototype.updatePaintArray=function(t,r,u,O){var H=this.expression.evaluate({zoom:this.zoom},u,O),q=this.expression.evaluate({zoom:this.zoom+1},u,O);this._setPaintValue(t,r,H,q)},tr.prototype._setPaintValue=function(t,r,u,O){if("color"===this.type)for(var H=xn(u),q=xn(O),et=t;et<r;et++)this.paintVertexArray.emplace(et,H[0],H[1],q[0],q[1]);else{for(var ft=t;ft<r;ft++)this.paintVertexArray.emplace(ft,u,O);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(O))}},tr.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},tr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},tr.prototype.setUniform=function(t,r){var u=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,O=R(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);t.set(O)},tr.prototype.getBinding=function(t,r,u){return new on(t,r)};var gr=function(t,r,u,O,H,q){this.expression=t,this.type=r,this.useIntegerZoom=u,this.zoom=O,this.layerId=q,this.zoomInPaintVertexArray=new H,this.zoomOutPaintVertexArray=new H};gr.prototype.populatePaintArray=function(t,r,u){var O=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(O,t,r.patterns&&r.patterns[this.layerId],u)},gr.prototype.updatePaintArray=function(t,r,u,O,H){this._setPaintValues(t,r,u.patterns&&u.patterns[this.layerId],H)},gr.prototype._setPaintValues=function(t,r,u,O){if(O&&u){var H=O[u.min],q=O[u.mid],et=O[u.max];if(H&&q&&et)for(var ft=t;ft<r;ft++)this.zoomInPaintVertexArray.emplace(ft,q.tl[0],q.tl[1],q.br[0],q.br[1],H.tl[0],H.tl[1],H.br[0],H.br[1],q.pixelRatio,H.pixelRatio),this.zoomOutPaintVertexArray.emplace(ft,q.tl[0],q.tl[1],q.br[0],q.br[1],et.tl[0],et.tl[1],et.br[0],et.br[1],q.pixelRatio,et.pixelRatio)}},gr.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,Ce.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,Ce.members,this.expression.isStateDependent))},gr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var $n=function(t,r,u){this.binders={},this._buffers=[];var O=[];for(var H in t.paint._values)if(u(H)){var q=t.paint.get(H);if(q instanceof Ao&&qe(q.property.specification)){var et=Jo(H,t.type),ft=q.value,Mt=q.property.specification.type,It=q.property.useIntegerZoom,Vt=q.property.specification["property-type"],Yt="cross-faded"===Vt||"cross-faded-data-driven"===Vt;if("constant"===ft.kind)this.binders[H]=Yt?new yr(ft.value,et):new or(ft.value,et,Mt),O.push("/u_"+H);else if("source"===ft.kind||Yt){var Qt=Mo(H,Mt,"source");this.binders[H]=Yt?new gr(ft,Mt,It,r,Qt,t.id):new ir(ft,et,Mt,Qt),O.push("/a_"+H)}else{var ae=Mo(H,Mt,"composite");this.binders[H]=new tr(ft,et,Mt,It,r,ae),O.push("/z_"+H)}}}this.cacheKey=O.sort().join("")};$n.prototype.getMaxValue=function(t){var r=this.binders[t];return r instanceof ir||r instanceof tr?r.maxValue:0},$n.prototype.populatePaintArrays=function(t,r,u,O,H){for(var q in this.binders){var et=this.binders[q];(et instanceof ir||et instanceof tr||et instanceof gr)&&et.populatePaintArray(t,r,u,O,H)}},$n.prototype.setConstantPatternPositions=function(t,r){for(var u in this.binders){var O=this.binders[u];O instanceof yr&&O.setConstantPatternPositions(t,r)}},$n.prototype.updatePaintArrays=function(t,r,u,O,H){var q=!1;for(var et in t)for(var ft=0,Mt=r.getPositions(et);ft<Mt.length;ft+=1){var It=Mt[ft],Vt=u.feature(It.index);for(var Yt in this.binders){var Qt=this.binders[Yt];if((Qt instanceof ir||Qt instanceof tr||Qt instanceof gr)&&!0===Qt.expression.isStateDependent){var ae=O.paint.get(Yt);Qt.expression=ae.value,Qt.updatePaintArray(It.start,It.end,Vt,t[et],H),q=!0}}}return q},$n.prototype.defines=function(){var t=[];for(var r in this.binders){var u=this.binders[r];(u instanceof or||u instanceof yr)&&t.push.apply(t,u.uniformNames.map(function(O){return"#define HAS_UNIFORM_"+O}))}return t},$n.prototype.getBinderAttributes=function(){var t=[];for(var r in this.binders){var u=this.binders[r];if(u instanceof ir||u instanceof tr)for(var O=0;O<u.paintVertexAttributes.length;O++)t.push(u.paintVertexAttributes[O].name);else if(u instanceof gr)for(var H=0;H<Ce.members.length;H++)t.push(Ce.members[H].name)}return t},$n.prototype.getBinderUniforms=function(){var t=[];for(var r in this.binders){var u=this.binders[r];if(u instanceof or||u instanceof yr||u instanceof tr)for(var O=0,H=u.uniformNames;O<H.length;O+=1)t.push(H[O])}return t},$n.prototype.getPaintVertexBuffers=function(){return this._buffers},$n.prototype.getUniforms=function(t,r){var u=[];for(var O in this.binders){var H=this.binders[O];if(H instanceof or||H instanceof yr||H instanceof tr)for(var q=0,et=H.uniformNames;q<et.length;q+=1){var ft=et[q];if(r[ft]){var Mt=H.getBinding(t,r[ft],ft);u.push({name:ft,property:O,binding:Mt})}}}return u},$n.prototype.setUniforms=function(t,r,u,O){for(var H=0,q=r;H<q.length;H+=1){var et=q[H],ft=et.name,Mt=et.property;this.binders[Mt].setUniform(et.binding,O,u.get(Mt),ft)}},$n.prototype.updatePaintBuffers=function(t){for(var r in this._buffers=[],this.binders){var u=this.binders[r];if(t&&u instanceof gr){var O=2===t.fromScale?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;O&&this._buffers.push(O)}else(u instanceof ir||u instanceof tr)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}},$n.prototype.upload=function(t){for(var r in this.binders){var u=this.binders[r];(u instanceof ir||u instanceof tr||u instanceof gr)&&u.upload(t)}this.updatePaintBuffers()},$n.prototype.destroy=function(){for(var t in this.binders){var r=this.binders[t];(r instanceof ir||r instanceof tr||r instanceof gr)&&r.destroy()}};var Wn=function(t,r,u){void 0===u&&(u=function(){return!0}),this.programConfigurations={};for(var O=0,H=t;O<H.length;O+=1){var q=H[O];this.programConfigurations[q.id]=new $n(q,r,u)}this.needsUpload=!1,this._featureMap=new Ge,this._bufferOffset=0};function Jo(t,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(r+"-","").replace(/-/g,"_")]}function Mo(t,r,u){var H={"line-pattern":{source:ca,composite:ca},"fill-pattern":{source:ca,composite:ca},"fill-extrusion-pattern":{source:ca,composite:ca}}[t];return H&&H[u]||{color:{source:Za,composite:wl},number:{source:Aa,composite:Za}}[r][u]}Wn.prototype.populatePaintArrays=function(t,r,u,O,H,q){for(var et in this.programConfigurations)this.programConfigurations[et].populatePaintArrays(t,r,O,H,q);void 0!==r.id&&this._featureMap.add(r.id,u,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Wn.prototype.updatePaintArrays=function(t,r,u,O){for(var H=0,q=u;H<q.length;H+=1){var et=q[H];this.needsUpload=this.programConfigurations[et.id].updatePaintArrays(t,this._featureMap,r,et,O)||this.needsUpload}},Wn.prototype.get=function(t){return this.programConfigurations[t]},Wn.prototype.upload=function(t){if(this.needsUpload){for(var r in this.programConfigurations)this.programConfigurations[r].upload(t);this.needsUpload=!1}},Wn.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Ji("ConstantBinder",or),Ji("CrossFadedConstantBinder",yr),Ji("SourceExpressionBinder",ir),Ji("CrossFadedCompositeBinder",gr),Ji("CompositeExpressionBinder",tr),Ji("ProgramConfiguration",$n,{omit:["_buffers"]}),Ji("ProgramConfigurationSet",Wn);var xs=Math.pow(2,14)-1,as=-xs-1;function So(t){for(var r=8192/t.extent,u=t.loadGeometry(),O=0;O<u.length;O++)for(var H=u[O],q=0;q<H.length;q++){var et=H[q],ft=Math.round(et.x*r),Mt=Math.round(et.y*r);et.x=R(ft,as,xs),et.y=R(Mt,as,xs),(ft<et.x||ft>et.x+1||Mt<et.y||Mt>et.y+1)&&at("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return u}function Oo(t,r){return{type:t.type,id:t.id,properties:t.properties,geometry:r?So(t):[]}}function Us(t,r,u,O,H){t.emplaceBack(2*r+(O+1)/2,2*u+(H+1)/2)}var Ps=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ba,this.indexArray=new Pa,this.segments=new de,this.programConfigurations=new Wn(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function Ma(t,r){for(var u=0;u<t.length;u++)if(pa(r,t[u]))return!0;for(var O=0;O<r.length;O++)if(pa(t,r[O]))return!0;return!!hl(t,r)}function Es(t,r,u){return!!pa(t,r)||!!ka(r,t,u)}function sa(t,r){if(1===t.length)return ul(r,t[0]);for(var u=0;u<r.length;u++)for(var O=r[u],H=0;H<O.length;H++)if(pa(t,O[H]))return!0;for(var q=0;q<t.length;q++)if(ul(r,t[q]))return!0;for(var et=0;et<r.length;et++)if(hl(t,r[et]))return!0;return!1}function ea(t,r,u){if(t.length>1){if(hl(t,r))return!0;for(var O=0;O<r.length;O++)if(ka(r[O],t,u))return!0}for(var H=0;H<t.length;H++)if(ka(t[H],r,u))return!0;return!1}function hl(t,r){if(0===t.length||0===r.length)return!1;for(var u=0;u<t.length-1;u++)for(var O=t[u],H=t[u+1],q=0;q<r.length-1;q++)if(Ja(O,H,r[q],r[q+1]))return!0;return!1}function Ja(t,r,u,O){return Ct(t,u,O)!==Ct(r,u,O)&&Ct(t,r,u)!==Ct(t,r,O)}function ka(t,r,u){var O=u*u;if(1===r.length)return t.distSqr(r[0])<O;for(var H=1;H<r.length;H++)if($a(t,r[H-1],r[H])<O)return!0;return!1}function $a(t,r,u){var O=r.distSqr(u);if(0===O)return t.distSqr(r);var H=((t.x-r.x)*(u.x-r.x)+(t.y-r.y)*(u.y-r.y))/O;return t.distSqr(H<0?r:H>1?u:u.sub(r)._mult(H)._add(r))}function ul(t,r){for(var u,O,H,q=!1,et=0;et<t.length;et++)for(var ft=0,Mt=(u=t[et]).length-1;ft<u.length;Mt=ft++)(O=u[ft]).y>r.y!=(H=u[Mt]).y>r.y&&r.x<(H.x-O.x)*(r.y-O.y)/(H.y-O.y)+O.x&&(q=!q);return q}function pa(t,r){for(var u=!1,O=0,H=t.length-1;O<t.length;H=O++){var q=t[O],et=t[H];q.y>r.y!=et.y>r.y&&r.x<(et.x-q.x)*(r.y-q.y)/(et.y-q.y)+q.x&&(u=!u)}return u}function cl(t,r,u){var O=u[0],H=u[2];if(t.x<O.x&&r.x<O.x||t.x>H.x&&r.x>H.x||t.y<O.y&&r.y<O.y||t.y>H.y&&r.y>H.y)return!1;var q=Ct(t,r,u[0]);return q!==Ct(t,r,u[1])||q!==Ct(t,r,u[2])||q!==Ct(t,r,u[3])}function da(t,r,u){var O=r.paint.get(t).value;return"constant"===O.kind?O.value:u.programConfigurations.get(r.id).getMaxValue(t)}function $o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ya(t,r,u,O,H){if(!r[0]&&!r[1])return t;var q=m.convert(r)._mult(H);"viewport"===u&&q._rotate(-O);for(var et=[],ft=0;ft<t.length;ft++)et.push(t[ft].sub(q));return et}Ps.prototype.populate=function(t,r,u){var O=this.layers[0],H=[],q=null;"circle"===O.type&&(q=O.layout.get("circle-sort-key"));for(var et=0,ft=t;et<ft.length;et+=1){var Mt=ft[et],It=Mt.feature,Vt=Mt.id,Yt=Mt.index,Qt=Mt.sourceLayerIndex,ae=this.layers[0]._featureFilter.needGeometry,Te=Oo(It,ae);if(this.layers[0]._featureFilter.filter(new Pr(this.zoom),Te,u)){var Se=q?q.evaluate(Te,{},u):void 0,Fe={id:Vt,properties:It.properties,type:It.type,sourceLayerIndex:Qt,index:Yt,geometry:ae?Te.geometry:So(It),patterns:{},sortKey:Se};H.push(Fe)}}q&&H.sort(function(hn,On){return hn.sortKey-On.sortKey});for(var ke=0,$e=H;ke<$e.length;ke+=1){var ui=$e[ke],bi=ui.geometry,Pi=ui.index,Ni=ui.sourceLayerIndex,Qi=t[Pi].feature;this.addFeature(ui,bi,Pi,u),r.featureIndex.insert(Qi,bi,Pi,Ni,this.index)}},Ps.prototype.update=function(t,r,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,u)},Ps.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ps.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ps.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,he),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ps.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ps.prototype.addFeature=function(t,r,u,O){for(var H=0,q=r;H<q.length;H+=1)for(var et=0,ft=q[H];et<ft.length;et+=1){var Mt=ft[et],It=Mt.x,Vt=Mt.y;if(!(It<0||It>=8192||Vt<0||Vt>=8192)){var Yt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),Qt=Yt.vertexLength;Us(this.layoutVertexArray,It,Vt,-1,-1),Us(this.layoutVertexArray,It,Vt,1,-1),Us(this.layoutVertexArray,It,Vt,1,1),Us(this.layoutVertexArray,It,Vt,-1,1),this.indexArray.emplaceBack(Qt,Qt+1,Qt+2),this.indexArray.emplaceBack(Qt,Qt+3,Qt+2),Yt.vertexLength+=4,Yt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,{},O)},Ji("CircleBucket",Ps,{omit:["layers"]});var Da=new Wo({"circle-sort-key":new Sn(Xt.layout_circle["circle-sort-key"])}),Fa={paint:new Wo({"circle-radius":new Sn(Xt.paint_circle["circle-radius"]),"circle-color":new Sn(Xt.paint_circle["circle-color"]),"circle-blur":new Sn(Xt.paint_circle["circle-blur"]),"circle-opacity":new Sn(Xt.paint_circle["circle-opacity"]),"circle-translate":new Ln(Xt.paint_circle["circle-translate"]),"circle-translate-anchor":new Ln(Xt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ln(Xt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ln(Xt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Sn(Xt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Sn(Xt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Sn(Xt.paint_circle["circle-stroke-opacity"])}),layout:Da},Yr=typeof Float32Array<"u"?Float32Array:Array;function Ks(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ls(t,r,u){var O=r[0],H=r[1],q=r[2],et=r[3],ft=r[4],Mt=r[5],It=r[6],Vt=r[7],Yt=r[8],Qt=r[9],ae=r[10],Te=r[11],Se=r[12],Fe=r[13],ke=r[14],$e=r[15],ui=u[0],bi=u[1],Pi=u[2],Ni=u[3];return t[0]=ui*O+bi*ft+Pi*Yt+Ni*Se,t[1]=ui*H+bi*Mt+Pi*Qt+Ni*Fe,t[2]=ui*q+bi*It+Pi*ae+Ni*ke,t[3]=ui*et+bi*Vt+Pi*Te+Ni*$e,t[4]=(ui=u[4])*O+(bi=u[5])*ft+(Pi=u[6])*Yt+(Ni=u[7])*Se,t[5]=ui*H+bi*Mt+Pi*Qt+Ni*Fe,t[6]=ui*q+bi*It+Pi*ae+Ni*ke,t[7]=ui*et+bi*Vt+Pi*Te+Ni*$e,t[8]=(ui=u[8])*O+(bi=u[9])*ft+(Pi=u[10])*Yt+(Ni=u[11])*Se,t[9]=ui*H+bi*Mt+Pi*Qt+Ni*Fe,t[10]=ui*q+bi*It+Pi*ae+Ni*ke,t[11]=ui*et+bi*Vt+Pi*Te+Ni*$e,t[12]=(ui=u[12])*O+(bi=u[13])*ft+(Pi=u[14])*Yt+(Ni=u[15])*Se,t[13]=ui*H+bi*Mt+Pi*Qt+Ni*Fe,t[14]=ui*q+bi*It+Pi*ae+Ni*ke,t[15]=ui*et+bi*Vt+Pi*Te+Ni*$e,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,r=0,u=arguments.length;u--;)r+=t[u]*t[u];return Math.sqrt(r)});var ja,t,au=Ls;function Tl(t,r,u){var O=r[0],H=r[1],q=r[2],et=r[3];return t[0]=u[0]*O+u[4]*H+u[8]*q+u[12]*et,t[1]=u[1]*O+u[5]*H+u[9]*q+u[13]*et,t[2]=u[2]*O+u[6]*H+u[10]*q+u[14]*et,t[3]=u[3]*O+u[7]*H+u[11]*q+u[15]*et,t}ja=new Yr(3),Yr!=Float32Array&&(ja[0]=0,ja[1]=0,ja[2]=0),t=new Yr(4),Yr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0);var lu=(function(){var t=new Yr(2);Yr!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function r(u){t.call(this,u,Fa)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(u){return new Ps(u)},r.prototype.queryRadius=function(u){var O=u;return da("circle-radius",this,O)+da("circle-stroke-width",this,O)+$o(this.paint.get("circle-translate"))},r.prototype.queryIntersectsFeature=function(u,O,H,q,et,ft,Mt,It){for(var Vt=ya(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ft.angle,Mt),Yt=this.paint.get("circle-radius").evaluate(O,H)+this.paint.get("circle-stroke-width").evaluate(O,H),Qt="map"===this.paint.get("circle-pitch-alignment"),ae=Qt?Vt:function(Qi,hn){return Qi.map(function(On){return pl(On,hn)})}(Vt,It),Te=Qt?Yt*Mt:Yt,Se=0,Fe=q;Se<Fe.length;Se+=1)for(var ke=0,$e=Fe[Se];ke<$e.length;ke+=1){var ui=$e[ke],bi=Qt?ui:pl(ui,It),Pi=Te,Ni=Tl([],[ui.x,ui.y,0,1],It);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Pi*=Ni[3]/ft.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Pi*=ft.cameraToCenterDistance/Ni[3]),Es(ae,bi,Pi))return!0}return!1},r}(qs));function pl(t,r){var u=Tl([],[t.x,t.y,0,1],r);return new m(u[0]/u[3],u[1]/u[3])}var Mh=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(Ps);function Qa(t,r,u,O){var H=r.width,q=r.height;if(O){if(O instanceof Uint8ClampedArray)O=new Uint8Array(O.buffer);else if(O.length!==H*q*u)throw new RangeError("mismatched image size")}else O=new Uint8Array(H*q*u);return t.width=H,t.height=q,t.data=O,t}function Sl(t,r,u){var O=r.width,H=r.height;if(O!==t.width||H!==t.height){var q=Qa({},{width:O,height:H},u);hu(t,q,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,O),height:Math.min(t.height,H)},u),t.width=O,t.height=H,t.data=q.data}}function hu(t,r,u,O,H,q){if(0===H.width||0===H.height)return r;if(H.width>t.width||H.height>t.height||u.x>t.width-H.width||u.y>t.height-H.height)throw new RangeError("out of range source coordinates for image copy");if(H.width>r.width||H.height>r.height||O.x>r.width-H.width||O.y>r.height-H.height)throw new RangeError("out of range destination coordinates for image copy");for(var et=t.data,ft=r.data,Mt=0;Mt<H.height;Mt++)for(var It=((u.y+Mt)*t.width+u.x)*q,Vt=((O.y+Mt)*r.width+O.x)*q,Yt=0;Yt<H.width*q;Yt++)ft[Vt+Yt]=et[It+Yt];return r}Ji("HeatmapBucket",Mh,{omit:["layers"]});var dl=function(t,r){Qa(this,t,1,r)};dl.prototype.resize=function(t){Sl(this,t,1)},dl.prototype.clone=function(){return new dl({width:this.width,height:this.height},new Uint8Array(this.data))},dl.copy=function(t,r,u,O,H){hu(t,r,u,O,H,1)};var Vs=function(t,r){Qa(this,t,4,r)};Vs.prototype.resize=function(t){Sl(this,t,4)},Vs.prototype.replace=function(t,r){r?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},Vs.prototype.clone=function(){return new Vs({width:this.width,height:this.height},new Uint8Array(this.data))},Vs.copy=function(t,r,u,O,H){hu(t,r,u,O,H,4)},Ji("AlphaImage",dl),Ji("RGBAImage",Vs);var op={paint:new Wo({"heatmap-radius":new Sn(Xt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Sn(Xt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ln(Xt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Fs(Xt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ln(Xt.paint_heatmap["heatmap-opacity"])})};function Fu(t){var r={},u=t.resolution||256,O=t.clips?t.clips.length:1,H=t.image||new Vs({width:u,height:O}),q=function(Te,Se,Fe){r[t.evaluationKey]=Fe;var ke=t.expression.evaluate(r);H.data[Te+Se+0]=Math.floor(255*ke.r/ke.a),H.data[Te+Se+1]=Math.floor(255*ke.g/ke.a),H.data[Te+Se+2]=Math.floor(255*ke.b/ke.a),H.data[Te+Se+3]=Math.floor(255*ke.a)};if(t.clips)for(var et=0,ft=0;et<O;++et,ft+=4*u)for(var Mt=0,It=0;Mt<u;Mt++,It+=4){var Vt=Mt/(u-1),Yt=t.clips[et];q(ft,It,Yt.start*(1-Vt)+Yt.end*Vt)}else for(var Qt=0,ae=0;Qt<u;Qt++,ae+=4)q(0,ae,Qt/(u-1));return H}var sp=function(t){function r(u){t.call(this,u,op),this._updateColorRamp()}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(u){return new Mh(u)},r.prototype._handleSpecialPaintPropertyUpdate=function(u){"heatmap-color"===u&&this._updateColorRamp()},r.prototype._updateColorRamp=function(){this.colorRamp=Fu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},r.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},r}(qs),ap={paint:new Wo({"hillshade-illumination-direction":new Ln(Xt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ln(Xt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ln(Xt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ln(Xt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ln(Xt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ln(Xt.paint_hillshade["hillshade-accent-color"])})},lp=function(t){function r(u){t.call(this,u,ap)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},r}(qs),hp=jo([{name:"a_pos",components:2,type:"Int16"}],4).members,uu=kh,up=kh;function kh(t,r,u){u=u||2;var O,H,q,et,ft,Mt,It,Vt=r&&r.length,Yt=Vt?r[0]*u:t.length,Qt=ju(t,0,Yt,u,!0),ae=[];if(!Qt||Qt.next===Qt.prev)return ae;if(Vt&&(Qt=function(Se,Fe,ke,$e){var ui,bi,Pi,Ni=[];for(ui=0,bi=Fe.length;ui<bi;ui++)(Pi=ju(Se,Fe[ui]*$e,ui<bi-1?Fe[ui+1]*$e:Se.length,$e,!1))===Pi.next&&(Pi.steiner=!0),Ni.push(vp(Pi));for(Ni.sort(mp),ui=0;ui<Ni.length;ui++)gp(Ni[ui],ke),ke=tl(ke,ke.next);return ke}(t,r,Qt,u)),t.length>80*u){O=q=t[0],H=et=t[1];for(var Te=u;Te<Yt;Te+=u)(ft=t[Te])<O&&(O=ft),(Mt=t[Te+1])<H&&(H=Mt),ft>q&&(q=ft),Mt>et&&(et=Mt);It=0!==(It=Math.max(q-O,et-H))?1/It:0}return ih(Qt,ae,u,O,H,It),ae}function ju(t,r,u,O,H){var q,et;if(H===du(t,r,u,O)>0)for(q=r;q<u;q+=O)et=Gu(q,t[q],t[q+1],et);else for(q=u-O;q>=r;q-=O)et=Gu(q,t[q],t[q+1],et);return et&&Dh(et,et.next)&&(rh(et),et=et.next),et}function tl(t,r){if(!t)return t;r||(r=t);var u,O=t;do{if(u=!1,O.steiner||!Dh(O,O.next)&&0!==Yo(O.prev,O,O.next))O=O.next;else{if(rh(O),(O=r=O.prev)===O.next)break;u=!0}}while(u||O!==r);return r}function ih(t,r,u,O,H,q,et){if(t){!et&&q&&function(Vt,Yt,Qt,ae){var Te=Vt;do{null===Te.z&&(Te.z=cu(Te.x,Te.y,Yt,Qt,ae)),Te.prevZ=Te.prev,Te.nextZ=Te.next,Te=Te.next}while(Te!==Vt);Te.prevZ.nextZ=null,Te.prevZ=null,function(Se){var Fe,ke,$e,ui,bi,Pi,Ni,Qi,hn=1;do{for(ke=Se,Se=null,bi=null,Pi=0;ke;){for(Pi++,$e=ke,Ni=0,Fe=0;Fe<hn&&(Ni++,$e=$e.nextZ);Fe++);for(Qi=hn;Ni>0||Qi>0&&$e;)0!==Ni&&(0===Qi||!$e||ke.z<=$e.z)?(ui=ke,ke=ke.nextZ,Ni--):(ui=$e,$e=$e.nextZ,Qi--),bi?bi.nextZ=ui:Se=ui,ui.prevZ=bi,bi=ui;ke=$e}bi.nextZ=null,hn*=2}while(Pi>1)}(Te)}(t,O,H,q);for(var ft,Mt,It=t;t.prev!==t.next;)if(ft=t.prev,Mt=t.next,q?pp(t,O,H,q):cp(t))r.push(ft.i/u),r.push(t.i/u),r.push(Mt.i/u),rh(t),t=Mt.next,It=Mt.next;else if((t=Mt)===It){et?1===et?ih(t=dp(tl(t),r,u),r,u,O,H,q,2):2===et&&fp(t,r,u,O,H,q):ih(tl(t),r,u,O,H,q,1);break}}}function cp(t){var r=t.prev,u=t,O=t.next;if(Yo(r,u,O)>=0)return!1;for(var H=t.next.next;H!==t.prev;){if(Pl(r.x,r.y,u.x,u.y,O.x,O.y,H.x,H.y)&&Yo(H.prev,H,H.next)>=0)return!1;H=H.next}return!0}function pp(t,r,u,O){var H=t.prev,q=t,et=t.next;if(Yo(H,q,et)>=0)return!1;for(var ft=H.x>q.x?H.x>et.x?H.x:et.x:q.x>et.x?q.x:et.x,Mt=H.y>q.y?H.y>et.y?H.y:et.y:q.y>et.y?q.y:et.y,It=cu(H.x<q.x?H.x<et.x?H.x:et.x:q.x<et.x?q.x:et.x,H.y<q.y?H.y<et.y?H.y:et.y:q.y<et.y?q.y:et.y,r,u,O),Vt=cu(ft,Mt,r,u,O),Yt=t.prevZ,Qt=t.nextZ;Yt&&Yt.z>=It&&Qt&&Qt.z<=Vt;){if(Yt!==t.prev&&Yt!==t.next&&Pl(H.x,H.y,q.x,q.y,et.x,et.y,Yt.x,Yt.y)&&Yo(Yt.prev,Yt,Yt.next)>=0||(Yt=Yt.prevZ,Qt!==t.prev&&Qt!==t.next&&Pl(H.x,H.y,q.x,q.y,et.x,et.y,Qt.x,Qt.y)&&Yo(Qt.prev,Qt,Qt.next)>=0))return!1;Qt=Qt.nextZ}for(;Yt&&Yt.z>=It;){if(Yt!==t.prev&&Yt!==t.next&&Pl(H.x,H.y,q.x,q.y,et.x,et.y,Yt.x,Yt.y)&&Yo(Yt.prev,Yt,Yt.next)>=0)return!1;Yt=Yt.prevZ}for(;Qt&&Qt.z<=Vt;){if(Qt!==t.prev&&Qt!==t.next&&Pl(H.x,H.y,q.x,q.y,et.x,et.y,Qt.x,Qt.y)&&Yo(Qt.prev,Qt,Qt.next)>=0)return!1;Qt=Qt.nextZ}return!0}function dp(t,r,u){var O=t;do{var H=O.prev,q=O.next.next;!Dh(H,q)&&Uu(H,O,O.next,q)&&nh(H,q)&&nh(q,H)&&(r.push(H.i/u),r.push(O.i/u),r.push(q.i/u),rh(O),rh(O.next),O=t=q),O=O.next}while(O!==t);return tl(O)}function fp(t,r,u,O,H,q){var et=t;do{for(var ft=et.next.next;ft!==et.prev;){if(et.i!==ft.i&&_p(et,ft)){var Mt=Vu(et,ft);return et=tl(et,et.next),Mt=tl(Mt,Mt.next),ih(et,r,u,O,H,q),void ih(Mt,r,u,O,H,q)}ft=ft.next}et=et.next}while(et!==t)}function mp(t,r){return t.x-r.x}function gp(t,r){if(r=function(O,H){var q,et=H,ft=O.x,Mt=O.y,It=-1/0;do{if(Mt<=et.y&&Mt>=et.next.y&&et.next.y!==et.y){var Vt=et.x+(Mt-et.y)*(et.next.x-et.x)/(et.next.y-et.y);if(Vt<=ft&&Vt>It){if(It=Vt,Vt===ft){if(Mt===et.y)return et;if(Mt===et.next.y)return et.next}q=et.x<et.next.x?et:et.next}}et=et.next}while(et!==H);if(!q)return null;if(ft===It)return q;var Yt,Qt=q,ae=q.x,Te=q.y,Se=1/0;et=q;do{ft>=et.x&&et.x>=ae&&ft!==et.x&&Pl(Mt<Te?ft:It,Mt,ae,Te,Mt<Te?It:ft,Mt,et.x,et.y)&&(Yt=Math.abs(Mt-et.y)/(ft-et.x),nh(et,O)&&(Yt<Se||Yt===Se&&(et.x>q.x||et.x===q.x&&yp(q,et)))&&(q=et,Se=Yt)),et=et.next}while(et!==Qt);return q}(t,r)){var u=Vu(r,t);tl(r,r.next),tl(u,u.next)}}function yp(t,r){return Yo(t.prev,t,r.prev)<0&&Yo(r.next,t,t.next)<0}function cu(t,r,u,O,H){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-u)*H)|t<<8))|t<<4))|t<<2))|t<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-O)*H)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function vp(t){var r=t,u=t;do{(r.x<u.x||r.x===u.x&&r.y<u.y)&&(u=r),r=r.next}while(r!==t);return u}function Pl(t,r,u,O,H,q,et,ft){return(H-et)*(r-ft)-(t-et)*(q-ft)>=0&&(t-et)*(O-ft)-(u-et)*(r-ft)>=0&&(u-et)*(q-ft)-(H-et)*(O-ft)>=0}function _p(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!function(u,O){var H=u;do{if(H.i!==u.i&&H.next.i!==u.i&&H.i!==O.i&&H.next.i!==O.i&&Uu(H,H.next,u,O))return!0;H=H.next}while(H!==u);return!1}(t,r)&&(nh(t,r)&&nh(r,t)&&function(u,O){var H=u,q=!1,et=(u.x+O.x)/2,ft=(u.y+O.y)/2;do{H.y>ft!=H.next.y>ft&&H.next.y!==H.y&&et<(H.next.x-H.x)*(ft-H.y)/(H.next.y-H.y)+H.x&&(q=!q),H=H.next}while(H!==u);return q}(t,r)&&(Yo(t.prev,t,r.prev)||Yo(t,r.prev,r))||Dh(t,r)&&Yo(t.prev,t,t.next)>0&&Yo(r.prev,r,r.next)>0)}function Yo(t,r,u){return(r.y-t.y)*(u.x-r.x)-(r.x-t.x)*(u.y-r.y)}function Dh(t,r){return t.x===r.x&&t.y===r.y}function Uu(t,r,u,O){var H=Lh(Yo(t,r,u)),q=Lh(Yo(t,r,O)),et=Lh(Yo(u,O,t)),ft=Lh(Yo(u,O,r));return H!==q&&et!==ft||!(0!==H||!Eh(t,u,r))||!(0!==q||!Eh(t,O,r))||!(0!==et||!Eh(u,t,O))||!(0!==ft||!Eh(u,r,O))}function Eh(t,r,u){return r.x<=Math.max(t.x,u.x)&&r.x>=Math.min(t.x,u.x)&&r.y<=Math.max(t.y,u.y)&&r.y>=Math.min(t.y,u.y)}function Lh(t){return t>0?1:t<0?-1:0}function nh(t,r){return Yo(t.prev,t,t.next)<0?Yo(t,r,t.next)>=0&&Yo(t,t.prev,r)>=0:Yo(t,r,t.prev)<0||Yo(t,t.next,r)<0}function Vu(t,r){var u=new pu(t.i,t.x,t.y),O=new pu(r.i,r.x,r.y),H=t.next,q=r.prev;return t.next=r,r.prev=t,u.next=H,H.prev=u,O.next=u,u.prev=O,q.next=O,O.prev=q,O}function Gu(t,r,u,O){var H=new pu(t,r,u);return O?(H.next=O.next,H.prev=O,O.next.prev=H,O.next=H):(H.prev=H,H.next=H),H}function rh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function pu(t,r,u){this.i=t,this.x=r,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function du(t,r,u,O){for(var H=0,q=r,et=u-O;q<u;q+=O)H+=(t[et]-t[q])*(t[q+1]+t[et+1]),et=q;return H}function xp(t,r,u,O,H){!function q(et,ft,Mt,It,Vt){for(;It>Mt;){if(It-Mt>600){var Yt=It-Mt+1,Qt=ft-Mt+1,ae=Math.log(Yt),Te=.5*Math.exp(2*ae/3),Se=.5*Math.sqrt(ae*Te*(Yt-Te)/Yt)*(Qt-Yt/2<0?-1:1);q(et,ft,Math.max(Mt,Math.floor(ft-Qt*Te/Yt+Se)),Math.min(It,Math.floor(ft+(Yt-Qt)*Te/Yt+Se)),Vt)}var Fe=et[ft],ke=Mt,$e=It;for(oh(et,Mt,ft),Vt(et[It],Fe)>0&&oh(et,Mt,It);ke<$e;){for(oh(et,ke,$e),ke++,$e--;Vt(et[ke],Fe)<0;)ke++;for(;Vt(et[$e],Fe)>0;)$e--}0===Vt(et[Mt],Fe)?oh(et,Mt,$e):oh(et,++$e,It),$e<=ft&&(Mt=$e+1),ft<=$e&&(It=$e-1)}}(t,r,u||0,O||t.length-1,H||bp)}function oh(t,r,u){var O=t[r];t[r]=t[u],t[u]=O}function bp(t,r){return t<r?-1:t>r?1:0}function fu(t,r){var u=t.length;if(u<=1)return[t];for(var O,H,q=[],et=0;et<u;et++){var ft=vt(t[et]);0!==ft&&(t[et].area=Math.abs(ft),void 0===H&&(H=ft<0),H===ft<0?(O&&q.push(O),O=[t[et]]):O.push(t[et]))}if(O&&q.push(O),r>1)for(var Mt=0;Mt<q.length;Mt++)q[Mt].length<=r||(xp(q[Mt],r,1,q[Mt].length-1,wp),q[Mt]=q[Mt].slice(0,r));return q}function wp(t,r){return r.area-t.area}function mu(t,r,u){for(var O=u.patternDependencies,H=!1,q=0,et=r;q<et.length;q+=1){var ft=et[q].paint.get(t+"-pattern");ft.isConstant()||(H=!0);var Mt=ft.constantOr(null);Mt&&(H=!0,O[Mt.to]=!0,O[Mt.from]=!0)}return H}function gu(t,r,u,O,H){for(var q=H.patternDependencies,et=0,ft=r;et<ft.length;et+=1){var Mt=ft[et],It=Mt.paint.get(t+"-pattern").value;if("constant"!==It.kind){var Vt=It.evaluate({zoom:O-1},u,{},H.availableImages),Yt=It.evaluate({zoom:O},u,{},H.availableImages),Qt=It.evaluate({zoom:O+1},u,{},H.availableImages);Yt=Yt&&Yt.name?Yt.name:Yt,Qt=Qt&&Qt.name?Qt.name:Qt,q[Vt=Vt&&Vt.name?Vt.name:Vt]=!0,q[Yt]=!0,q[Qt]=!0,u.patterns[Mt.id]={min:Vt,mid:Yt,max:Qt}}}return u}kh.deviation=function(t,r,u,O){var H=r&&r.length,q=Math.abs(du(t,0,H?r[0]*u:t.length,u));if(H)for(var et=0,ft=r.length;et<ft;et++)q-=Math.abs(du(t,r[et]*u,et<ft-1?r[et+1]*u:t.length,u));var Mt=0;for(et=0;et<O.length;et+=3){var It=O[et]*u,Vt=O[et+1]*u,Yt=O[et+2]*u;Mt+=Math.abs((t[It]-t[Yt])*(t[Vt+1]-t[It+1])-(t[It]-t[Vt])*(t[Yt+1]-t[It+1]))}return 0===q&&0===Mt?0:Math.abs((Mt-q)/q)},kh.flatten=function(t){for(var r=t[0][0].length,u={vertices:[],holes:[],dimensions:r},O=0,H=0;H<t.length;H++){for(var q=0;q<t[H].length;q++)for(var et=0;et<r;et++)u.vertices.push(t[H][q][et]);H>0&&u.holes.push(O+=t[H-1].length)}return u},uu.default=up;var va=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ba,this.indexArray=new Pa,this.indexArray2=new ll,this.programConfigurations=new Wn(t.layers,t.zoom),this.segments=new de,this.segments2=new de,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};va.prototype.populate=function(t,r,u){this.hasPattern=mu("fill",this.layers,r);for(var O=this.layers[0].layout.get("fill-sort-key"),H=[],q=0,et=t;q<et.length;q+=1){var ft=et[q],Mt=ft.feature,It=ft.id,Vt=ft.index,Yt=ft.sourceLayerIndex,Qt=this.layers[0]._featureFilter.needGeometry,ae=Oo(Mt,Qt);if(this.layers[0]._featureFilter.filter(new Pr(this.zoom),ae,u)){var Te=O?O.evaluate(ae,{},u,r.availableImages):void 0,Se={id:It,properties:Mt.properties,type:Mt.type,sourceLayerIndex:Yt,index:Vt,geometry:Qt?ae.geometry:So(Mt),patterns:{},sortKey:Te};H.push(Se)}}O&&H.sort(function(Qi,hn){return Qi.sortKey-hn.sortKey});for(var Fe=0,ke=H;Fe<ke.length;Fe+=1){var $e=ke[Fe],ui=$e.geometry,bi=$e.index,Pi=$e.sourceLayerIndex;if(this.hasPattern){var Ni=gu("fill",this.layers,$e,this.zoom,r);this.patternFeatures.push(Ni)}else this.addFeature($e,ui,bi,u,{});r.featureIndex.insert(t[bi].feature,ui,bi,Pi,this.index)}},va.prototype.update=function(t,r,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,u)},va.prototype.addFeatures=function(t,r,u){for(var O=0,H=this.patternFeatures;O<H.length;O+=1){var q=H[O];this.addFeature(q,q.geometry,q.index,r,u)}},va.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},va.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},va.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,hp),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},va.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},va.prototype.addFeature=function(t,r,u,O,H){for(var q=0,et=fu(r,500);q<et.length;q+=1){for(var ft=et[q],Mt=0,It=0,Vt=ft;It<Vt.length;It+=1)Mt+=Vt[It].length;for(var Yt=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray),Qt=Yt.vertexLength,ae=[],Te=[],Se=0,Fe=ft;Se<Fe.length;Se+=1){var ke=Fe[Se];if(0!==ke.length){ke!==ft[0]&&Te.push(ae.length/2);var $e=this.segments2.prepareSegment(ke.length,this.layoutVertexArray,this.indexArray2),ui=$e.vertexLength;this.layoutVertexArray.emplaceBack(ke[0].x,ke[0].y),this.indexArray2.emplaceBack(ui+ke.length-1,ui),ae.push(ke[0].x),ae.push(ke[0].y);for(var bi=1;bi<ke.length;bi++)this.layoutVertexArray.emplaceBack(ke[bi].x,ke[bi].y),this.indexArray2.emplaceBack(ui+bi-1,ui+bi),ae.push(ke[bi].x),ae.push(ke[bi].y);$e.vertexLength+=ke.length,$e.primitiveLength+=ke.length}}for(var Pi=uu(ae,Te),Ni=0;Ni<Pi.length;Ni+=3)this.indexArray.emplaceBack(Qt+Pi[Ni],Qt+Pi[Ni+1],Qt+Pi[Ni+2]);Yt.vertexLength+=Mt,Yt.primitiveLength+=Pi.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,H,O)},Ji("FillBucket",va,{omit:["layers","patternFeatures"]});var Tp=new Wo({"fill-sort-key":new Sn(Xt.layout_fill["fill-sort-key"])}),Sp={paint:new Wo({"fill-antialias":new Ln(Xt.paint_fill["fill-antialias"]),"fill-opacity":new Sn(Xt.paint_fill["fill-opacity"]),"fill-color":new Sn(Xt.paint_fill["fill-color"]),"fill-outline-color":new Sn(Xt.paint_fill["fill-outline-color"]),"fill-translate":new Ln(Xt.paint_fill["fill-translate"]),"fill-translate-anchor":new Ln(Xt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Sa(Xt.paint_fill["fill-pattern"])}),layout:Tp},Pp=function(t){function r(u){t.call(this,u,Sp)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.recalculate=function(u,O){t.prototype.recalculate.call(this,u,O);var H=this.paint._values["fill-outline-color"];"constant"===H.value.kind&&void 0===H.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},r.prototype.createBucket=function(u){return new va(u)},r.prototype.queryRadius=function(){return $o(this.paint.get("fill-translate"))},r.prototype.queryIntersectsFeature=function(u,O,H,q,et,ft,Mt){return sa(ya(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ft.angle,Mt),q)},r.prototype.isTileClipped=function(){return!0},r}(qs),Cp=jo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Hu=Cl;function Cl(t,r,u,O,H){this.properties={},this.extent=u,this.type=0,this._pbf=t,this._geometry=-1,this._keys=O,this._values=H,t.readFields(Ap,this,r)}function Ap(t,r,u){1==t?r.id=u.readVarint():2==t?function(O,H){for(var q=O.readVarint()+O.pos;O.pos<q;){var et=H._keys[O.readVarint()],ft=H._values[O.readVarint()];H.properties[et]=ft}}(u,r):3==t?r.type=u.readVarint():4==t&&(r._geometry=u.pos)}function Mp(t){for(var r,u,O=0,H=0,q=t.length,et=q-1;H<q;et=H++)O+=((u=t[et]).x-(r=t[H]).x)*(r.y+u.y);return O}Cl.types=["Unknown","Point","LineString","Polygon"],Cl.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var r,u=t.readVarint()+t.pos,O=1,H=0,q=0,et=0,ft=[];t.pos<u;){if(H<=0){var Mt=t.readVarint();O=7&Mt,H=Mt>>3}if(H--,1===O||2===O)q+=t.readSVarint(),et+=t.readSVarint(),1===O&&(r&&ft.push(r),r=[]),r.push(new m(q,et));else{if(7!==O)throw new Error("unknown command "+O);r&&r.push(r[0].clone())}}return r&&ft.push(r),ft},Cl.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var r=t.readVarint()+t.pos,u=1,O=0,H=0,q=0,et=1/0,ft=-1/0,Mt=1/0,It=-1/0;t.pos<r;){if(O<=0){var Vt=t.readVarint();u=7&Vt,O=Vt>>3}if(O--,1===u||2===u)(H+=t.readSVarint())<et&&(et=H),H>ft&&(ft=H),(q+=t.readSVarint())<Mt&&(Mt=q),q>It&&(It=q);else if(7!==u)throw new Error("unknown command "+u)}return[et,Mt,ft,It]},Cl.prototype.toGeoJSON=function(t,r,u){var O,H,q=this.extent*Math.pow(2,u),et=this.extent*t,ft=this.extent*r,Mt=this.loadGeometry(),It=Cl.types[this.type];function Vt(ae){for(var Te=0;Te<ae.length;Te++){var Se=ae[Te];ae[Te]=[360*(Se.x+et)/q-180,360/Math.PI*Math.atan(Math.exp((180-360*(Se.y+ft)/q)*Math.PI/180))-90]}}switch(this.type){case 1:var Yt=[];for(O=0;O<Mt.length;O++)Yt[O]=Mt[O][0];Vt(Mt=Yt);break;case 2:for(O=0;O<Mt.length;O++)Vt(Mt[O]);break;case 3:for(Mt=function(ae){var Te=ae.length;if(Te<=1)return[ae];for(var Se,Fe,ke=[],$e=0;$e<Te;$e++){var ui=Mp(ae[$e]);0!==ui&&(void 0===Fe&&(Fe=ui<0),Fe===ui<0?(Se&&ke.push(Se),Se=[ae[$e]]):Se.push(ae[$e]))}return Se&&ke.push(Se),ke}(Mt),O=0;O<Mt.length;O++)for(H=0;H<Mt[O].length;H++)Vt(Mt[O][H])}1===Mt.length?Mt=Mt[0]:It="Multi"+It;var Qt={type:"Feature",geometry:{type:It,coordinates:Mt},properties:this.properties};return"id"in this&&(Qt.id=this.id),Qt};var Wu=Yu;function Yu(t,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(kp,this,r),this.length=this._features.length}function kp(t,r,u){15===t?r.version=u.readVarint():1===t?r.name=u.readString():5===t?r.extent=u.readVarint():2===t?r._features.push(u.pos):3===t?r._keys.push(u.readString()):4===t&&r._values.push(function(O){for(var H=null,q=O.readVarint()+O.pos;O.pos<q;){var et=O.readVarint()>>3;H=1===et?O.readString():2===et?O.readFloat():3===et?O.readDouble():4===et?O.readVarint64():5===et?O.readVarint():6===et?O.readSVarint():7===et?O.readBoolean():null}return H}(u))}function Dp(t,r,u){if(3===t){var O=new Wu(u,u.readVarint()+u.pos);O.length&&(r[O.name]=O)}}Yu.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var r=this._pbf.readVarint()+this._pbf.pos;return new Hu(this._pbf,r,this.extent,this._keys,this._values)};var Al={VectorTile:function(t,r){this.layers=t.readFields(Dp,{},r)},VectorTileFeature:Hu,VectorTileLayer:Wu},Ep=Al.VectorTileFeature.types,yu=Math.pow(2,13);function sh(t,r,u,O,H,q,et,ft){t.emplaceBack(r,u,2*Math.floor(O*yu)+et,H*yu*2,q*yu*2,Math.round(ft))}var _a=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ga,this.indexArray=new Pa,this.programConfigurations=new Wn(t.layers,t.zoom),this.segments=new de,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function Lp(t,r){return t.x===r.x&&(t.x<0||t.x>8192)||t.y===r.y&&(t.y<0||t.y>8192)}_a.prototype.populate=function(t,r,u){this.features=[],this.hasPattern=mu("fill-extrusion",this.layers,r);for(var O=0,H=t;O<H.length;O+=1){var q=H[O],et=q.feature,ft=q.id,Mt=q.index,It=q.sourceLayerIndex,Vt=this.layers[0]._featureFilter.needGeometry,Yt=Oo(et,Vt);if(this.layers[0]._featureFilter.filter(new Pr(this.zoom),Yt,u)){var Qt={id:ft,sourceLayerIndex:It,index:Mt,geometry:Vt?Yt.geometry:So(et),properties:et.properties,type:et.type,patterns:{}};this.hasPattern?this.features.push(gu("fill-extrusion",this.layers,Qt,this.zoom,r)):this.addFeature(Qt,Qt.geometry,Mt,u,{}),r.featureIndex.insert(et,Qt.geometry,Mt,It,this.index,!0)}}},_a.prototype.addFeatures=function(t,r,u){for(var O=0,H=this.features;O<H.length;O+=1){var q=H[O];this.addFeature(q,q.geometry,q.index,r,u)}},_a.prototype.update=function(t,r,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,u)},_a.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},_a.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},_a.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Cp),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},_a.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},_a.prototype.addFeature=function(t,r,u,O,H){for(var q=0,et=fu(r,500);q<et.length;q+=1){for(var ft=et[q],Mt=0,It=0,Vt=ft;It<Vt.length;It+=1)Mt+=Vt[It].length;for(var Yt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Qt=0,ae=ft;Qt<ae.length;Qt+=1){var Te=ae[Qt];if(0!==Te.length&&!((Cr=Te).every(function(fr){return fr.x<0})||Cr.every(function(fr){return fr.x>8192})||Cr.every(function(fr){return fr.y<0})||Cr.every(function(fr){return fr.y>8192})))for(var Se=0,Fe=0;Fe<Te.length;Fe++){var ke=Te[Fe];if(Fe>=1){var $e=Te[Fe-1];if(!Lp(ke,$e)){Yt.vertexLength+4>de.MAX_VERTEX_ARRAY_LENGTH&&(Yt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var ui=ke.sub($e)._perp()._unit(),bi=$e.dist(ke);Se+bi>32768&&(Se=0),sh(this.layoutVertexArray,ke.x,ke.y,ui.x,ui.y,0,0,Se),sh(this.layoutVertexArray,ke.x,ke.y,ui.x,ui.y,0,1,Se),sh(this.layoutVertexArray,$e.x,$e.y,ui.x,ui.y,0,0,Se+=bi),sh(this.layoutVertexArray,$e.x,$e.y,ui.x,ui.y,0,1,Se);var Pi=Yt.vertexLength;this.indexArray.emplaceBack(Pi,Pi+2,Pi+1),this.indexArray.emplaceBack(Pi+1,Pi+2,Pi+3),Yt.vertexLength+=4,Yt.primitiveLength+=2}}}}if(Yt.vertexLength+Mt>de.MAX_VERTEX_ARRAY_LENGTH&&(Yt=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray)),"Polygon"===Ep[t.type]){for(var Ni=[],Qi=[],hn=Yt.vertexLength,On=0,mn=ft;On<mn.length;On+=1){var Rn=mn[On];if(0!==Rn.length){Rn!==ft[0]&&Qi.push(Ni.length/2);for(var gn=0;gn<Rn.length;gn++){var br=Rn[gn];sh(this.layoutVertexArray,br.x,br.y,0,0,1,1,0),Ni.push(br.x),Ni.push(br.y)}}}for(var Zn=uu(Ni,Qi),Cn=0;Cn<Zn.length;Cn+=3)this.indexArray.emplaceBack(hn+Zn[Cn],hn+Zn[Cn+2],hn+Zn[Cn+1]);Yt.primitiveLength+=Zn.length/3,Yt.vertexLength+=Mt}}var Cr;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,H,O)},Ji("FillExtrusionBucket",_a,{omit:["layers","features"]});var Op={paint:new Wo({"fill-extrusion-opacity":new Ln(Xt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Sn(Xt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ln(Xt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ln(Xt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Sa(Xt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Sn(Xt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Sn(Xt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ln(Xt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ip=function(t){function r(u){t.call(this,u,Op)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(u){return new _a(u)},r.prototype.queryRadius=function(){return $o(this.paint.get("fill-extrusion-translate"))},r.prototype.is3D=function(){return!0},r.prototype.queryIntersectsFeature=function(u,O,H,q,et,ft,Mt,It){var Vt=ya(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ft.angle,Mt),Yt=this.paint.get("fill-extrusion-height").evaluate(O,H),Qt=this.paint.get("fill-extrusion-base").evaluate(O,H),ae=function(Se,Fe,ke,$e){for(var ui=[],bi=0,Pi=Se;bi<Pi.length;bi+=1){var Ni=Pi[bi],Qi=[Ni.x,Ni.y,0,1];Tl(Qi,Qi,Fe),ui.push(new m(Qi[0]/Qi[3],Qi[1]/Qi[3]))}return ui}(Vt,It),Te=function(Se,Fe,ke,$e){for(var ui=[],bi=[],Pi=$e[8]*Fe,Ni=$e[9]*Fe,Qi=$e[10]*Fe,hn=$e[11]*Fe,On=$e[8]*ke,mn=$e[9]*ke,Rn=$e[10]*ke,gn=$e[11]*ke,br=0,Zn=Se;br<Zn.length;br+=1){for(var Cn=[],Cr=[],fr=0,Nr=Zn[br];fr<Nr.length;fr+=1){var Bn=Nr[fr],Gr=Bn.x,bo=Bn.y,ko=$e[0]*Gr+$e[4]*bo+$e[12],Po=$e[1]*Gr+$e[5]*bo+$e[13],wo=$e[2]*Gr+$e[6]*bo+$e[14],Do=$e[3]*Gr+$e[7]*bo+$e[15],Qo=wo+Qi,ts=Do+hn,As=ko+On,hs=Po+mn,Ms=wo+Rn,Io=Do+gn,us=new m((ko+Pi)/ts,(Po+Ni)/ts);us.z=Qo/ts,Cn.push(us);var Mr=new m(As/Io,hs/Io);Mr.z=Ms/Io,Cr.push(Mr)}ui.push(Cn),bi.push(Cr)}return[ui,bi]}(q,Qt,Yt,It);return function(Se,Fe,ke){var $e=1/0;sa(ke,Fe)&&($e=Xu(ke,Fe[0]));for(var ui=0;ui<Fe.length;ui++)for(var bi=Fe[ui],Pi=Se[ui],Ni=0;Ni<bi.length-1;Ni++){var Qi=bi[Ni],hn=[Qi,bi[Ni+1],Pi[Ni+1],Pi[Ni],Qi];Ma(ke,hn)&&($e=Math.min($e,Xu(ke,hn)))}return $e!==1/0&&$e}(Te[0],Te[1],ae)},r}(qs);function ah(t,r){return t.x*r.x+t.y*r.y}function Xu(t,r){if(1===t.length){for(var u,O=0,H=r[O++];!u||H.equals(u);)if(!(u=r[O++]))return 1/0;for(;O<r.length;O++){var q=r[O],et=t[0],ft=u.sub(H),Mt=q.sub(H),It=et.sub(H),Vt=ah(ft,ft),Yt=ah(ft,Mt),Qt=ah(Mt,Mt),ae=ah(It,ft),Te=ah(It,Mt),Se=Vt*Qt-Yt*Yt,Fe=(Qt*ae-Yt*Te)/Se,ke=(Vt*Te-Yt*ae)/Se,$e=H.z*(1-Fe-ke)+u.z*Fe+q.z*ke;if(isFinite($e))return $e}return 1/0}for(var ui=1/0,bi=0,Pi=r;bi<Pi.length;bi+=1)ui=Math.min(ui,Pi[bi].z);return ui}var Np=jo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Rp=jo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Bp=Al.VectorTileFeature.types,zp=Math.cos(Math.PI/180*37.5),Zu=Math.pow(2,14)/.5,Os=function(t){var r=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(u){r.gradients[u.id]={}}),this.layoutVertexArray=new js,this.layoutVertexArray2=new Za,this.indexArray=new Pa,this.programConfigurations=new Wn(t.layers,t.zoom),this.segments=new de,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};Os.prototype.populate=function(t,r,u){this.hasPattern=mu("line",this.layers,r);for(var O=this.layers[0].layout.get("line-sort-key"),H=[],q=0,et=t;q<et.length;q+=1){var ft=et[q],Mt=ft.feature,It=ft.id,Vt=ft.index,Yt=ft.sourceLayerIndex,Qt=this.layers[0]._featureFilter.needGeometry,ae=Oo(Mt,Qt);if(this.layers[0]._featureFilter.filter(new Pr(this.zoom),ae,u)){var Te=O?O.evaluate(ae,{},u):void 0,Se={id:It,properties:Mt.properties,type:Mt.type,sourceLayerIndex:Yt,index:Vt,geometry:Qt?ae.geometry:So(Mt),patterns:{},sortKey:Te};H.push(Se)}}O&&H.sort(function(Qi,hn){return Qi.sortKey-hn.sortKey});for(var Fe=0,ke=H;Fe<ke.length;Fe+=1){var $e=ke[Fe],ui=$e.geometry,bi=$e.index,Pi=$e.sourceLayerIndex;if(this.hasPattern){var Ni=gu("line",this.layers,$e,this.zoom,r);this.patternFeatures.push(Ni)}else this.addFeature($e,ui,bi,u,{});r.featureIndex.insert(t[bi].feature,ui,bi,Pi,this.index)}},Os.prototype.update=function(t,r,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,u)},Os.prototype.addFeatures=function(t,r,u){for(var O=0,H=this.patternFeatures;O<H.length;O+=1){var q=H[O];this.addFeature(q,q.geometry,q.index,r,u)}},Os.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Os.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Os.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Rp)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Np),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Os.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Os.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},Os.prototype.addFeature=function(t,r,u,O,H){var q=this.layers[0].layout,et=q.get("line-join").evaluate(t,{}),ft=q.get("line-cap"),Mt=q.get("line-miter-limit"),It=q.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var Vt=0,Yt=r;Vt<Yt.length;Vt+=1)this.addLine(Yt[Vt],t,et,ft,Mt,It);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,H,O)},Os.prototype.addLine=function(t,r,u,O,H,q){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var et=0;et<t.length-1;et++)this.totalDistance+=t[et].dist(t[et+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var ft="Polygon"===Bp[r.type],Mt=t.length;Mt>=2&&t[Mt-1].equals(t[Mt-2]);)Mt--;for(var It=0;It<Mt-1&&t[It].equals(t[It+1]);)It++;if(!(Mt<(ft?3:2))){"bevel"===u&&(H=1.05);var Vt,Yt=this.overscaling<=16?122880/(512*this.overscaling):0,Qt=this.segments.prepareSegment(10*Mt,this.layoutVertexArray,this.indexArray),ae=void 0,Te=void 0,Se=void 0,Fe=void 0;this.e1=this.e2=-1,ft&&(Fe=t[It].sub(Vt=t[Mt-2])._unit()._perp());for(var ke=It;ke<Mt;ke++)if(!(Te=ke===Mt-1?ft?t[It+1]:void 0:t[ke+1])||!t[ke].equals(Te)){Fe&&(Se=Fe),Vt&&(ae=Vt),Vt=t[ke],Fe=Te?Te.sub(Vt)._unit()._perp():Se;var $e=(Se=Se||Fe).add(Fe);0===$e.x&&0===$e.y||$e._unit();var ui=Se.x*Fe.x+Se.y*Fe.y,bi=$e.x*Fe.x+$e.y*Fe.y,Pi=0!==bi?1/bi:1/0,Ni=2*Math.sqrt(2-2*bi),Qi=bi<zp&&ae&&Te,hn=Se.x*Fe.y-Se.y*Fe.x>0;if(Qi&&ke>It){var On=Vt.dist(ae);if(On>2*Yt){var mn=Vt.sub(Vt.sub(ae)._mult(Yt/On)._round());this.updateDistance(ae,mn),this.addCurrentVertex(mn,Se,0,0,Qt),ae=mn}}var Rn=ae&&Te,gn=Rn?u:ft?"butt":O;if(Rn&&"round"===gn&&(Pi<q?gn="miter":Pi<=2&&(gn="fakeround")),"miter"===gn&&Pi>H&&(gn="bevel"),"bevel"===gn&&(Pi>2&&(gn="flipbevel"),Pi<H&&(gn="miter")),ae&&this.updateDistance(ae,Vt),"miter"===gn)$e._mult(Pi),this.addCurrentVertex(Vt,$e,0,0,Qt);else if("flipbevel"===gn){if(Pi>100)$e=Fe.mult(-1);else{var br=Pi*Se.add(Fe).mag()/Se.sub(Fe).mag();$e._perp()._mult(br*(hn?-1:1))}this.addCurrentVertex(Vt,$e,0,0,Qt),this.addCurrentVertex(Vt,$e.mult(-1),0,0,Qt)}else if("bevel"===gn||"fakeround"===gn){var Zn=-Math.sqrt(Pi*Pi-1),Cn=hn?Zn:0,Cr=hn?0:Zn;if(ae&&this.addCurrentVertex(Vt,Se,Cn,Cr,Qt),"fakeround"===gn)for(var fr=Math.round(180*Ni/Math.PI/20),Nr=1;Nr<fr;Nr++){var Bn=Nr/fr;if(.5!==Bn){var Gr=Bn-.5;Bn+=Bn*Gr*(Bn-1)*((1.0904+ui*(ui*(3.55645-1.43519*ui)-3.2452))*Gr*Gr+(.848013+ui*(.215638*ui-1.06021)))}var bo=Fe.sub(Se)._mult(Bn)._add(Se)._unit()._mult(hn?-1:1);this.addHalfVertex(Vt,bo.x,bo.y,!1,hn,0,Qt)}Te&&this.addCurrentVertex(Vt,Fe,-Cn,-Cr,Qt)}else if("butt"===gn)this.addCurrentVertex(Vt,$e,0,0,Qt);else if("square"===gn){var ko=ae?1:-1;this.addCurrentVertex(Vt,$e,ko,ko,Qt)}else"round"===gn&&(ae&&(this.addCurrentVertex(Vt,Se,0,0,Qt),this.addCurrentVertex(Vt,Se,1,1,Qt,!0)),Te&&(this.addCurrentVertex(Vt,Fe,-1,-1,Qt,!0),this.addCurrentVertex(Vt,Fe,0,0,Qt)));if(Qi&&ke<Mt-1){var Po=Vt.dist(Te);if(Po>2*Yt){var wo=Vt.add(Te.sub(Vt)._mult(Yt/Po)._round());this.updateDistance(Vt,wo),this.addCurrentVertex(wo,Fe,0,0,Qt),Vt=wo}}}}},Os.prototype.addCurrentVertex=function(t,r,u,O,H,q){void 0===q&&(q=!1);var et=r.y*O-r.x,ft=-r.y-r.x*O;this.addHalfVertex(t,r.x+r.y*u,r.y-r.x*u,q,!1,u,H),this.addHalfVertex(t,et,ft,q,!0,-O,H),this.distance>Zu/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,r,u,O,H,q))},Os.prototype.addHalfVertex=function(t,r,u,O,H,q,et){var ft=.5*(this.lineClips?this.scaledDistance*(Zu-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(O?1:0),(t.y<<1)+(H?1:0),Math.round(63*r)+128,Math.round(63*u)+128,1+(0===q?0:q<0?-1:1)|(63&ft)<<2,ft>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var Mt=et.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Mt),et.primitiveLength++),H?this.e2=Mt:this.e1=Mt},Os.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Os.prototype.updateDistance=function(t,r){this.distance+=t.dist(r),this.updateScaledDistance()},Ji("LineBucket",Os,{omit:["layers","patternFeatures"]});var Fp=new Wo({"line-cap":new Ln(Xt.layout_line["line-cap"]),"line-join":new Sn(Xt.layout_line["line-join"]),"line-miter-limit":new Ln(Xt.layout_line["line-miter-limit"]),"line-round-limit":new Ln(Xt.layout_line["line-round-limit"]),"line-sort-key":new Sn(Xt.layout_line["line-sort-key"])}),qu={paint:new Wo({"line-opacity":new Sn(Xt.paint_line["line-opacity"]),"line-color":new Sn(Xt.paint_line["line-color"]),"line-translate":new Ln(Xt.paint_line["line-translate"]),"line-translate-anchor":new Ln(Xt.paint_line["line-translate-anchor"]),"line-width":new Sn(Xt.paint_line["line-width"]),"line-gap-width":new Sn(Xt.paint_line["line-gap-width"]),"line-offset":new Sn(Xt.paint_line["line-offset"]),"line-blur":new Sn(Xt.paint_line["line-blur"]),"line-dasharray":new ss(Xt.paint_line["line-dasharray"]),"line-pattern":new Sa(Xt.paint_line["line-pattern"]),"line-gradient":new Fs(Xt.paint_line["line-gradient"])}),layout:Fp},Ku=new(function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.possiblyEvaluate=function(u,O){return O=new Pr(Math.floor(O.zoom),{now:O.now,fadeDuration:O.fadeDuration,zoomHistory:O.zoomHistory,transition:O.transition}),t.prototype.possiblyEvaluate.call(this,u,O)},r.prototype.evaluate=function(u,O,H,q){return O=X({},O,{zoom:Math.floor(O.zoom)}),t.prototype.evaluate.call(this,u,O,H,q)},r}(Sn))(qu.paint.properties["line-width"].specification);Ku.useIntegerZoom=!0;var jp=function(t){function r(u){t.call(this,u,qu),this.gradientVersion=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._handleSpecialPaintPropertyUpdate=function(u){"line-gradient"===u&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof pn,this.gradientVersion=(this.gradientVersion+1)%k)},r.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},r.prototype.recalculate=function(u,O){t.prototype.recalculate.call(this,u,O),this.paint._values["line-floorwidth"]=Ku.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)},r.prototype.createBucket=function(u){return new Os(u)},r.prototype.queryRadius=function(u){var O=u,H=Ju(da("line-width",this,O),da("line-gap-width",this,O)),q=da("line-offset",this,O);return H/2+Math.abs(q)+$o(this.paint.get("line-translate"))},r.prototype.queryIntersectsFeature=function(u,O,H,q,et,ft,Mt){var It=ya(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ft.angle,Mt),Vt=Mt/2*Ju(this.paint.get("line-width").evaluate(O,H),this.paint.get("line-gap-width").evaluate(O,H)),Yt=this.paint.get("line-offset").evaluate(O,H);return Yt&&(q=function(Qt,ae){for(var Te=[],Se=new m(0,0),Fe=0;Fe<Qt.length;Fe++){for(var ke=Qt[Fe],$e=[],ui=0;ui<ke.length;ui++){var bi=ke[ui],Pi=ke[ui+1],Ni=0===ui?Se:bi.sub(ke[ui-1])._unit()._perp(),Qi=ui===ke.length-1?Se:Pi.sub(bi)._unit()._perp(),hn=Ni._add(Qi)._unit();hn._mult(1/(hn.x*Qi.x+hn.y*Qi.y)),$e.push(hn._mult(ae)._add(bi))}Te.push($e)}return Te}(q,Yt*Mt)),function(Qt,ae,Te){for(var Se=0;Se<ae.length;Se++){var Fe=ae[Se];if(Qt.length>=3)for(var ke=0;ke<Fe.length;ke++)if(pa(Qt,Fe[ke]))return!0;if(ea(Qt,Fe,Te))return!0}return!1}(It,q,Vt)},r.prototype.isTileClipped=function(){return!0},r}(qs);function Ju(t,r){return r>0?r+2*t:t}var Up=jo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vp=jo([{name:"a_projected_pos",components:3,type:"Float32"}],4),Gp=(jo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),jo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),$u=(jo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),jo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Hp=jo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Wp(t,r,u){return t.sections.forEach(function(O){var H,et,ft;O.text=(H=O.text,et=u,"uppercase"===(ft=r.layout.get("text-transform").evaluate(et,{}))?H=H.toLocaleUpperCase():"lowercase"===ft&&(H=H.toLocaleLowerCase()),_s.applyArabicShaping&&(H=_s.applyArabicShaping(H)),H)}),t}jo([{name:"triangle",components:3,type:"Uint16"}]),jo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),jo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),jo([{type:"Float32",name:"offsetX"}]),jo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var lh={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Qu=function(t,r,u,O,H){var q,et,ft=8*H-O-1,Mt=(1<<ft)-1,It=Mt>>1,Vt=-7,Yt=u?H-1:0,Qt=u?-1:1,ae=t[r+Yt];for(Yt+=Qt,q=ae&(1<<-Vt)-1,ae>>=-Vt,Vt+=ft;Vt>0;q=256*q+t[r+Yt],Yt+=Qt,Vt-=8);for(et=q&(1<<-Vt)-1,q>>=-Vt,Vt+=O;Vt>0;et=256*et+t[r+Yt],Yt+=Qt,Vt-=8);if(0===q)q=1-It;else{if(q===Mt)return et?NaN:1/0*(ae?-1:1);et+=Math.pow(2,O),q-=It}return(ae?-1:1)*et*Math.pow(2,q-O)},tc=function(t,r,u,O,H,q){var et,ft,Mt,It=8*q-H-1,Vt=(1<<It)-1,Yt=Vt>>1,Qt=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,ae=O?0:q-1,Te=O?1:-1,Se=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(ft=isNaN(r)?1:0,et=Vt):(et=Math.floor(Math.log(r)/Math.LN2),r*(Mt=Math.pow(2,-et))<1&&(et--,Mt*=2),(r+=et+Yt>=1?Qt/Mt:Qt*Math.pow(2,1-Yt))*Mt>=2&&(et++,Mt/=2),et+Yt>=Vt?(ft=0,et=Vt):et+Yt>=1?(ft=(r*Mt-1)*Math.pow(2,H),et+=Yt):(ft=r*Math.pow(2,Yt-1)*Math.pow(2,H),et=0));H>=8;t[u+ae]=255&ft,ae+=Te,ft/=256,H-=8);for(et=et<<H|ft,It+=H;It>0;t[u+ae]=255&et,ae+=Te,et/=256,It-=8);t[u+ae-Te]|=128*Se},Oh=go;function go(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}go.Varint=0,go.Fixed64=1,go.Bytes=2,go.Fixed32=5;var ec=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ua(t){return t.type===go.Bytes?t.readVarint()+t.pos:t.pos+1}function ic(t,r,u){var O=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));u.realloc(O);for(var H=u.pos-1;H>=t;H--)u.buf[H+O]=u.buf[H]}function Yp(t,r){for(var u=0;u<t.length;u++)r.writeVarint(t[u])}function Xp(t,r){for(var u=0;u<t.length;u++)r.writeSVarint(t[u])}function Zp(t,r){for(var u=0;u<t.length;u++)r.writeFloat(t[u])}function qp(t,r){for(var u=0;u<t.length;u++)r.writeDouble(t[u])}function Kp(t,r){for(var u=0;u<t.length;u++)r.writeBoolean(t[u])}function Jp(t,r){for(var u=0;u<t.length;u++)r.writeFixed32(t[u])}function $p(t,r){for(var u=0;u<t.length;u++)r.writeSFixed32(t[u])}function Qp(t,r){for(var u=0;u<t.length;u++)r.writeFixed64(t[u])}function td(t,r){for(var u=0;u<t.length;u++)r.writeSFixed64(t[u])}function Ih(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+16777216*t[r+3]}function kl(t,r,u){t[u]=r,t[u+1]=r>>>8,t[u+2]=r>>>16,t[u+3]=r>>>24}function nc(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+(t[r+3]<<24)}function ed(t,r,u){1===t&&u.readMessage(id,r)}function id(t,r,u){if(3===t){var O=u.readMessage(nd,{}),H=O.width,q=O.height,et=O.left,ft=O.top,Mt=O.advance;r.push({id:O.id,bitmap:new dl({width:H+6,height:q+6},O.bitmap),metrics:{width:H,height:q,left:et,top:ft,advance:Mt}})}}function nd(t,r,u){1===t?r.id=u.readVarint():2===t?r.bitmap=u.readBytes():3===t?r.width=u.readVarint():4===t?r.height=u.readVarint():5===t?r.left=u.readSVarint():6===t?r.top=u.readSVarint():7===t&&(r.advance=u.readVarint())}function rc(t){for(var r=0,u=0,O=0,H=t;O<H.length;O+=1){var q=H[O];r+=q.w*q.h,u=Math.max(u,q.w)}t.sort(function(Se,Fe){return Fe.h-Se.h});for(var et=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),u),h:1/0}],ft=0,Mt=0,It=0,Vt=t;It<Vt.length;It+=1)for(var Yt=Vt[It],Qt=et.length-1;Qt>=0;Qt--){var ae=et[Qt];if(!(Yt.w>ae.w||Yt.h>ae.h)){if(Yt.x=ae.x,Yt.y=ae.y,Mt=Math.max(Mt,Yt.y+Yt.h),ft=Math.max(ft,Yt.x+Yt.w),Yt.w===ae.w&&Yt.h===ae.h){var Te=et.pop();Qt<et.length&&(et[Qt]=Te)}else Yt.h===ae.h?(ae.x+=Yt.w,ae.w-=Yt.w):Yt.w===ae.w?(ae.y+=Yt.h,ae.h-=Yt.h):(et.push({x:ae.x+Yt.w,y:ae.y,w:ae.w-Yt.w,h:Yt.h}),ae.y+=Yt.h,ae.h-=Yt.h);break}}return{w:ft,h:Mt,fill:r/(ft*Mt)||0}}go.prototype={destroy:function(){this.buf=null},readFields:function(t,r,u){for(u=u||this.length;this.pos<u;){var O=this.readVarint(),H=O>>3,q=this.pos;this.type=7&O,t(H,r,this),this.pos===q&&this.skip(O)}return r},readMessage:function(t,r){return this.readFields(t,r,this.readVarint()+this.pos)},readFixed32:function(){var t=Ih(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=nc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Ih(this.buf,this.pos)+4294967296*Ih(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Ih(this.buf,this.pos)+4294967296*nc(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Qu(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Qu(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var r,u,O=this.buf;return r=127&(u=O[this.pos++]),u<128?r:(r|=(127&(u=O[this.pos++]))<<7,u<128?r:(r|=(127&(u=O[this.pos++]))<<14,u<128?r:(r|=(127&(u=O[this.pos++]))<<21,u<128?r:function(H,q,et){var ft,Mt,It=et.buf;if(ft=(112&(Mt=It[et.pos++]))>>4,Mt<128||(ft|=(127&(Mt=It[et.pos++]))<<3,Mt<128)||(ft|=(127&(Mt=It[et.pos++]))<<10,Mt<128)||(ft|=(127&(Mt=It[et.pos++]))<<17,Mt<128)||(ft|=(127&(Mt=It[et.pos++]))<<24,Mt<128)||(ft|=(1&(Mt=It[et.pos++]))<<31,Mt<128))return function Ml(t,r,u){return u?4294967296*r+(t>>>0):4294967296*(r>>>0)+(t>>>0)}(H,ft,q);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(u=O[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,r=this.pos;return this.pos=t,t-r>=12&&ec?ec.decode(this.buf.subarray(r,t)):function(u,O,H){for(var q="",et=O;et<H;){var ft,Mt,It,Vt=u[et],Yt=null,Qt=Vt>239?4:Vt>223?3:Vt>191?2:1;if(et+Qt>H)break;1===Qt?Vt<128&&(Yt=Vt):2===Qt?128==(192&(ft=u[et+1]))&&(Yt=(31&Vt)<<6|63&ft)<=127&&(Yt=null):3===Qt?(Mt=u[et+2],128==(192&(ft=u[et+1]))&&128==(192&Mt)&&((Yt=(15&Vt)<<12|(63&ft)<<6|63&Mt)<=2047||Yt>=55296&&Yt<=57343)&&(Yt=null)):4===Qt&&(Mt=u[et+2],It=u[et+3],128==(192&(ft=u[et+1]))&&128==(192&Mt)&&128==(192&It)&&((Yt=(15&Vt)<<18|(63&ft)<<12|(63&Mt)<<6|63&It)<=65535||Yt>=1114112)&&(Yt=null)),null===Yt?(Yt=65533,Qt=1):Yt>65535&&(Yt-=65536,q+=String.fromCharCode(Yt>>>10&1023|55296),Yt=56320|1023&Yt),q+=String.fromCharCode(Yt),et+=Qt}return q}(this.buf,r,t)},readBytes:function(){var t=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,t);return this.pos=t,r},readPackedVarint:function(t,r){if(this.type!==go.Bytes)return t.push(this.readVarint(r));var u=Ua(this);for(t=t||[];this.pos<u;)t.push(this.readVarint(r));return t},readPackedSVarint:function(t){if(this.type!==go.Bytes)return t.push(this.readSVarint());var r=Ua(this);for(t=t||[];this.pos<r;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==go.Bytes)return t.push(this.readBoolean());var r=Ua(this);for(t=t||[];this.pos<r;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==go.Bytes)return t.push(this.readFloat());var r=Ua(this);for(t=t||[];this.pos<r;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==go.Bytes)return t.push(this.readDouble());var r=Ua(this);for(t=t||[];this.pos<r;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==go.Bytes)return t.push(this.readFixed32());var r=Ua(this);for(t=t||[];this.pos<r;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==go.Bytes)return t.push(this.readSFixed32());var r=Ua(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==go.Bytes)return t.push(this.readFixed64());var r=Ua(this);for(t=t||[];this.pos<r;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==go.Bytes)return t.push(this.readSFixed64());var r=Ua(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed64());return t},skip:function(t){var r=7&t;if(r===go.Varint)for(;this.buf[this.pos++]>127;);else if(r===go.Bytes)this.pos=this.readVarint()+this.pos;else if(r===go.Fixed32)this.pos+=4;else{if(r!==go.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(t,r){this.writeVarint(t<<3|r)},realloc:function(t){for(var r=this.length||16;r<this.pos+t;)r*=2;if(r!==this.length){var u=new Uint8Array(r);u.set(this.buf),this.buf=u,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),kl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),kl(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),kl(this.buf,-1&t,this.pos),kl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),kl(this.buf,-1&t,this.pos),kl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(r,u){var O,H,q,ft;if(r>=0?(O=r%4294967296|0,H=r/4294967296|0):(H=~(-r/4294967296),4294967295^(O=~(-r%4294967296))?O=O+1|0:(O=0,H=H+1|0)),r>=0x10000000000000000||r<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),q=O,(ft=u).buf[ft.pos++]=127&q|128,q>>>=7,ft.buf[ft.pos++]=127&q|128,q>>>=7,ft.buf[ft.pos++]=127&q|128,q>>>=7,ft.buf[ft.pos++]=127&q|128,ft.buf[ft.pos]=127&(q>>>=7),function(q,et){var ft=(7&q)<<4;et.buf[et.pos++]|=ft|((q>>>=3)?128:0),q&&(et.buf[et.pos++]=127&q|((q>>>=7)?128:0),q&&(et.buf[et.pos++]=127&q|((q>>>=7)?128:0),q&&(et.buf[et.pos++]=127&q|((q>>>=7)?128:0),q&&(et.buf[et.pos++]=127&q|((q>>>=7)?128:0),q&&(et.buf[et.pos++]=127&q)))))}(H,u)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var r=this.pos;this.pos=function(O,H,q){for(var et,ft,Mt=0;Mt<H.length;Mt++){if((et=H.charCodeAt(Mt))>55295&&et<57344){if(!ft){et>56319||Mt+1===H.length?(O[q++]=239,O[q++]=191,O[q++]=189):ft=et;continue}if(et<56320){O[q++]=239,O[q++]=191,O[q++]=189,ft=et;continue}et=ft-55296<<10|et-56320|65536,ft=null}else ft&&(O[q++]=239,O[q++]=191,O[q++]=189,ft=null);et<128?O[q++]=et:(et<2048?O[q++]=et>>6|192:(et<65536?O[q++]=et>>12|224:(O[q++]=et>>18|240,O[q++]=et>>12&63|128),O[q++]=et>>6&63|128),O[q++]=63&et|128)}return q}(this.buf,t,this.pos);var u=this.pos-r;u>=128&&ic(r,u,this),this.pos=r-1,this.writeVarint(u),this.pos+=u},writeFloat:function(t){this.realloc(4),tc(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),tc(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var r=t.length;this.writeVarint(r),this.realloc(r);for(var u=0;u<r;u++)this.buf[this.pos++]=t[u]},writeRawMessage:function(t,r){this.pos++;var u=this.pos;t(r,this);var O=this.pos-u;O>=128&&ic(u,O,this),this.pos=u-1,this.writeVarint(O),this.pos+=O},writeMessage:function(t,r,u){this.writeTag(t,go.Bytes),this.writeRawMessage(r,u)},writePackedVarint:function(t,r){r.length&&this.writeMessage(t,Yp,r)},writePackedSVarint:function(t,r){r.length&&this.writeMessage(t,Xp,r)},writePackedBoolean:function(t,r){r.length&&this.writeMessage(t,Kp,r)},writePackedFloat:function(t,r){r.length&&this.writeMessage(t,Zp,r)},writePackedDouble:function(t,r){r.length&&this.writeMessage(t,qp,r)},writePackedFixed32:function(t,r){r.length&&this.writeMessage(t,Jp,r)},writePackedSFixed32:function(t,r){r.length&&this.writeMessage(t,$p,r)},writePackedFixed64:function(t,r){r.length&&this.writeMessage(t,Qp,r)},writePackedSFixed64:function(t,r){r.length&&this.writeMessage(t,td,r)},writeBytesField:function(t,r){this.writeTag(t,go.Bytes),this.writeBytes(r)},writeFixed32Field:function(t,r){this.writeTag(t,go.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(t,r){this.writeTag(t,go.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(t,r){this.writeTag(t,go.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(t,r){this.writeTag(t,go.Fixed64),this.writeSFixed64(r)},writeVarintField:function(t,r){this.writeTag(t,go.Varint),this.writeVarint(r)},writeSVarintField:function(t,r){this.writeTag(t,go.Varint),this.writeSVarint(r)},writeStringField:function(t,r){this.writeTag(t,go.Bytes),this.writeString(r)},writeFloatField:function(t,r){this.writeTag(t,go.Fixed32),this.writeFloat(r)},writeDoubleField:function(t,r){this.writeTag(t,go.Fixed64),this.writeDouble(r)},writeBooleanField:function(t,r){this.writeVarintField(t,Boolean(r))}};var Nh=function(t,r){var u=r.pixelRatio,O=r.version,H=r.stretchX,q=r.stretchY,et=r.content;this.paddedRect=t,this.pixelRatio=u,this.stretchX=H,this.stretchY=q,this.content=et,this.version=O},hh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};hh.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},hh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},hh.tlbr.get=function(){return this.tl.concat(this.br)},hh.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Nh.prototype,hh);var uh=function(t,r){var u={},O={};this.haveRenderCallbacks=[];var H=[];this.addImages(t,u,H),this.addImages(r,O,H);var q=rc(H),et=new Vs({width:q.w||1,height:q.h||1});for(var ft in t){var Mt=t[ft],It=u[ft].paddedRect;Vs.copy(Mt.data,et,{x:0,y:0},{x:It.x+1,y:It.y+1},Mt.data)}for(var Vt in r){var Yt=r[Vt],Qt=O[Vt].paddedRect,ae=Qt.x+1,Te=Qt.y+1,Se=Yt.data.width,Fe=Yt.data.height;Vs.copy(Yt.data,et,{x:0,y:0},{x:ae,y:Te},Yt.data),Vs.copy(Yt.data,et,{x:0,y:Fe-1},{x:ae,y:Te-1},{width:Se,height:1}),Vs.copy(Yt.data,et,{x:0,y:0},{x:ae,y:Te+Fe},{width:Se,height:1}),Vs.copy(Yt.data,et,{x:Se-1,y:0},{x:ae-1,y:Te},{width:1,height:Fe}),Vs.copy(Yt.data,et,{x:0,y:0},{x:ae+Se,y:Te},{width:1,height:Fe})}this.image=et,this.iconPositions=u,this.patternPositions=O};uh.prototype.addImages=function(t,r,u){for(var O in t){var H=t[O],q={x:0,y:0,w:H.data.width+2,h:H.data.height+2};u.push(q),r[O]=new Nh(q,H),H.hasRenderCallback&&this.haveRenderCallbacks.push(O)}},uh.prototype.patchUpdatedImages=function(t,r){for(var u in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[u],t.getImage(u),r),this.patchUpdatedImage(this.patternPositions[u],t.getImage(u),r)},uh.prototype.patchUpdatedImage=function(t,r,u){if(t&&r&&t.version!==r.version){t.version=r.version;var O=t.tl;u.update(r.data,void 0,{x:O[0],y:O[1]})}},Ji("ImagePosition",Nh),Ji("ImageAtlas",uh);var ia={horizontal:1,vertical:2,horizontalOnly:3},Dl=function(){this.scale=1,this.fontStack="",this.imageName=null};Dl.forText=function(t,r){var u=new Dl;return u.scale=t||1,u.fontStack=r,u},Dl.forImage=function(t){var r=new Dl;return r.imageName=t,r};var Cs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Rh(t,r,u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te,Se){var Fe,ke=Cs.fromFeature(t,H);Yt===ia.vertical&&ke.verticalizePunctuation();var $e=_s.processBidirectionalText,ui=_s.processStyledBidirectionalText;if($e&&1===ke.sections.length){Fe=[];for(var bi=0,Pi=$e(ke.toString(),vu(ke,It,q,r,O,ae,Te));bi<Pi.length;bi+=1){var Ni=Pi[bi],Qi=new Cs;Qi.text=Ni,Qi.sections=ke.sections;for(var hn=0;hn<Ni.length;hn++)Qi.sectionIndex.push(0);Fe.push(Qi)}}else if(ui){Fe=[];for(var On=0,mn=ui(ke.text,ke.sectionIndex,vu(ke,It,q,r,O,ae,Te));On<mn.length;On+=1){var Rn=mn[On],gn=new Cs;gn.text=Rn[0],gn.sectionIndex=Rn[1],gn.sections=ke.sections,Fe.push(gn)}}else Fe=function(Cn,Cr){for(var fr=[],Nr=Cn.text,Bn=0,Gr=0,bo=Cr;Gr<bo.length;Gr+=1){var ko=bo[Gr];fr.push(Cn.substring(Bn,ko)),Bn=ko}return Bn<Nr.length&&fr.push(Cn.substring(Bn,Nr.length)),fr}(ke,vu(ke,It,q,r,O,ae,Te));var br=[],Zn={positionedLines:br,text:ke.toString(),top:Vt[1],bottom:Vt[1],left:Vt[0],right:Vt[0],writingMode:Yt,iconsInText:!1,verticalizable:!1};return function(Cn,Cr,fr,Nr,Bn,Gr,bo,ko,Po,wo,Do,Qo){for(var ts=0,As=-17,hs=0,Ms=0,Io="right"===ko?1:"left"===ko?0:.5,us=0,Mr=0,co=Bn;Mr<co.length;Mr+=1){var eo=co[Mr];eo.trim();var Fr=eo.getMaxScale(),Is=24*(Fr-1),bs={positionedGlyphs:[],lineOffset:0};Cn.positionedLines[us]=bs;var yo=bs.positionedGlyphs,Uo=0;if(eo.length()){for(var ws=0;ws<eo.length();ws++){var Hr=eo.getSection(ws),Ea=eo.getSectionIndex(ws),na=eo.getCharCode(ws),La=0,No=null,Oa=null,fa=null,zl=24,yl=!(Po===ia.horizontal||!Do&&!Ds(na)||Do&&(Bh[na]||(Wa=na,$i.Arabic(Wa)||$i["Arabic Supplement"](Wa)||$i["Arabic Extended-A"](Wa)||$i["Arabic Presentation Forms-A"](Wa)||$i["Arabic Presentation Forms-B"](Wa))));if(Hr.imageName){var Fl=Nr[Hr.imageName];if(!Fl)continue;fa=Hr.imageName,Cn.iconsInText=Cn.iconsInText||!0,Oa=Fl.paddedRect;var Ha=Fl.displaySize;Hr.scale=24*Hr.scale/Qo,La=Is+(24-Ha[1]*Hr.scale),zl=(No={width:Ha[0],height:Ha[1],left:1,top:-3,advance:yl?Ha[1]:Ha[0]}).advance;var jl=yl?Ha[0]*Hr.scale-24*Fr:Ha[1]*Hr.scale-24*Fr;jl>0&&jl>Uo&&(Uo=jl)}else{var Yh=fr[Hr.fontStack],Ul=Yh&&Yh[na];if(Ul&&Ul.rect)Oa=Ul.rect,No=Ul.metrics;else{var dh=Cr[Hr.fontStack],Xh=dh&&dh[na];if(!Xh)continue;No=Xh.metrics}La=24*(Fr-Hr.scale)}yl?(Cn.verticalizable=!0,yo.push({glyph:na,imageName:fa,x:ts,y:As+La,vertical:yl,scale:Hr.scale,fontStack:Hr.fontStack,sectionIndex:Ea,metrics:No,rect:Oa}),ts+=zl*Hr.scale+wo):(yo.push({glyph:na,imageName:fa,x:ts,y:As+La,vertical:yl,scale:Hr.scale,fontStack:Hr.fontStack,sectionIndex:Ea,metrics:No,rect:Oa}),ts+=No.advance*Hr.scale+wo)}0!==yo.length&&(hs=Math.max(ts-wo,hs),od(yo,0,yo.length-1,Io,Uo)),ts=0;var Zh=Gr*Fr+Uo;bs.lineOffset=Math.max(Uo,Is),As+=Zh,Ms=Math.max(Zh,Ms),++us}else As+=Gr,++us}var Wa,fh=As- -17,Vl=_u(bo),il=Vl.horizontalAlign,Gl=Vl.verticalAlign;(function(qh,Kh,mh,gh,Jh,yh,vh,_h,$h){var Hl,Qh=(Kh-mh)*Jh;Hl=yh!==vh?-_h*gh- -17:(-gh*$h+.5)*vh;for(var Wl=0,xh=qh;Wl<xh.length;Wl+=1)for(var vl=0,bh=xh[Wl].positionedGlyphs;vl<bh.length;vl+=1){var Yl=bh[vl];Yl.x+=Qh,Yl.y+=Hl}})(Cn.positionedLines,Io,il,Gl,hs,Ms,Gr,fh,Bn.length),Cn.top+=-Gl*fh,Cn.bottom=Cn.top+fh,Cn.left+=-il*hs,Cn.right=Cn.left+hs}(Zn,r,u,O,Fe,et,ft,Mt,Yt,It,Qt,Se),!function(Cn){for(var Cr=0,fr=Cn;Cr<fr.length;Cr+=1)if(0!==fr[Cr].positionedGlyphs.length)return!1;return!0}(br)&&Zn}Cs.fromFeature=function(t,r){for(var u=new Cs,O=0;O<t.sections.length;O++){var H=t.sections[O];H.image?u.addImageSection(H):u.addTextSection(H,r)}return u},Cs.prototype.length=function(){return this.text.length},Cs.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Cs.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Cs.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Cs.prototype.verticalizePunctuation=function(){this.text=function(t){for(var r="",u=0;u<t.length;u++){var O=t.charCodeAt(u+1)||null,H=t.charCodeAt(u-1)||null;r+=O&&aa(O)&&!lh[t[u+1]]||H&&aa(H)&&!lh[t[u-1]]||!lh[t[u]]?t[u]:lh[t[u]]}return r}(this.text)},Cs.prototype.trim=function(){for(var t=0,r=0;r<this.text.length&&Bh[this.text.charCodeAt(r)];r++)t++;for(var u=this.text.length,O=this.text.length-1;O>=0&&O>=t&&Bh[this.text.charCodeAt(O)];O--)u--;this.text=this.text.substring(t,u),this.sectionIndex=this.sectionIndex.slice(t,u)},Cs.prototype.substring=function(t,r){var u=new Cs;return u.text=this.text.substring(t,r),u.sectionIndex=this.sectionIndex.slice(t,r),u.sections=this.sections,u},Cs.prototype.toString=function(){return this.text},Cs.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(r,u){return Math.max(r,t.sections[u].scale)},0)},Cs.prototype.addTextSection=function(t,r){this.text+=t.text,this.sections.push(Dl.forText(t.scale,t.fontStack||r));for(var u=this.sections.length-1,O=0;O<t.text.length;++O)this.sectionIndex.push(u)},Cs.prototype.addImageSection=function(t){var r=t.image?t.image.name:"";if(0!==r.length){var u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(Dl.forImage(r)),this.sectionIndex.push(this.sections.length-1)):at("Reached maximum number of images 6401")}else at("Can't add FormattedSection with an empty image.")},Cs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Bh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Js={};function oc(t,r,u,O,H,q){if(r.imageName){var et=O[r.imageName];return et?et.displaySize[0]*r.scale*24/q+H:0}var ft=u[r.fontStack],Mt=ft&&ft[t];return Mt?Mt.metrics.advance*r.scale+H:0}function sc(t,r,u,O){var H=Math.pow(t-r,2);return O?t<r?H/2:2*H:H+Math.abs(u)*u}function rd(t,r,u){var O=0;return 10===t&&(O-=1e4),u&&(O+=150),40!==t&&65288!==t||(O+=50),41!==r&&65289!==r||(O+=50),O}function ac(t,r,u,O,H,q){for(var et=null,ft=sc(r,u,H,q),Mt=0,It=O;Mt<It.length;Mt+=1){var Vt=It[Mt],Yt=sc(r-Vt.x,u,H,q)+Vt.badness;Yt<=ft&&(et=Vt,ft=Yt)}return{index:t,x:r,priorBreak:et,badness:ft}}function vu(t,r,u,O,H,q,et){if("point"!==q)return[];if(!t)return[];for(var ft,Mt=[],It=function(Fe,ke,$e,ui,bi,Pi){for(var Ni=0,Qi=0;Qi<Fe.length();Qi++){var hn=Fe.getSection(Qi);Ni+=oc(Fe.getCharCode(Qi),hn,ui,bi,ke,Pi)}return Ni/Math.max(1,Math.ceil(Ni/$e))}(t,r,u,O,H,et),Vt=t.text.indexOf("\u200b")>=0,Yt=0,Qt=0;Qt<t.length();Qt++){var ae=t.getSection(Qt),Te=t.getCharCode(Qt);if(Bh[Te]||(Yt+=oc(Te,ae,O,H,r,et)),Qt<t.length()-1){var Se=!((ft=Te)<11904||!($i["Bopomofo Extended"](ft)||$i.Bopomofo(ft)||$i["CJK Compatibility Forms"](ft)||$i["CJK Compatibility Ideographs"](ft)||$i["CJK Compatibility"](ft)||$i["CJK Radicals Supplement"](ft)||$i["CJK Strokes"](ft)||$i["CJK Symbols and Punctuation"](ft)||$i["CJK Unified Ideographs Extension A"](ft)||$i["CJK Unified Ideographs"](ft)||$i["Enclosed CJK Letters and Months"](ft)||$i["Halfwidth and Fullwidth Forms"](ft)||$i.Hiragana(ft)||$i["Ideographic Description Characters"](ft)||$i["Kangxi Radicals"](ft)||$i["Katakana Phonetic Extensions"](ft)||$i.Katakana(ft)||$i["Vertical Forms"](ft)||$i["Yi Radicals"](ft)||$i["Yi Syllables"](ft)));(Js[Te]||Se||ae.imageName)&&Mt.push(ac(Qt+1,Yt,It,Mt,rd(Te,t.getCharCode(Qt+1),Se&&Vt),!1))}}return function Fe(ke){return ke?Fe(ke.priorBreak).concat(ke.index):[]}(ac(t.length(),Yt,It,Mt,0,!0))}function _u(t){var r=.5,u=.5;switch(t){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:r,verticalAlign:u}}function od(t,r,u,O,H){if(O||H)for(var q=t[u],et=(t[u].x+q.metrics.advance*q.scale)*O,ft=r;ft<=u;ft++)t[ft].x-=et,t[ft].y+=H}function lc(t,r,u,O,H,q){var et,ft=t.image;if(ft.content){var Mt=ft.content,It=ft.pixelRatio||1;et=[Mt[0]/It,Mt[1]/It,ft.displaySize[0]-Mt[2]/It,ft.displaySize[1]-Mt[3]/It]}var Vt,Yt,Qt,ae,Te=r.left*q,Se=r.right*q;"width"===u||"both"===u?(ae=H[0]+Te-O[3],Yt=H[0]+Se+O[1]):Yt=(ae=H[0]+(Te+Se-ft.displaySize[0])/2)+ft.displaySize[0];var Fe=r.top*q,ke=r.bottom*q;return"height"===u||"both"===u?(Vt=H[1]+Fe-O[0],Qt=H[1]+ke+O[2]):Qt=(Vt=H[1]+(Fe+ke-ft.displaySize[1])/2)+ft.displaySize[1],{image:ft,top:Vt,right:Yt,bottom:Qt,left:ae,collisionPadding:et}}Js[10]=!0,Js[32]=!0,Js[38]=!0,Js[40]=!0,Js[41]=!0,Js[43]=!0,Js[45]=!0,Js[47]=!0,Js[173]=!0,Js[183]=!0,Js[8203]=!0,Js[8208]=!0,Js[8211]=!0,Js[8231]=!0;var El=function(t){function r(u,O,H,q){t.call(this,u,O),this.angle=H,void 0!==q&&(this.segment=q)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.clone=function(){return new r(this.x,this.y,this.angle,this.segment)},r}(m);function xu(t,r){var u=r.expression;if("constant"===u.kind)return{kind:"constant",layoutSize:u.evaluate(new Pr(t+1))};if("source"===u.kind)return{kind:"source"};for(var O=u.zoomStops,H=u.interpolationType,q=0;q<O.length&&O[q]<=t;)q++;for(var et=q=Math.max(0,q-1);et<O.length&&O[et]<t+1;)et++;et=Math.min(O.length-1,et);var ft=O[q],Mt=O[et];return"composite"===u.kind?{kind:"composite",minZoom:ft,maxZoom:Mt,interpolationType:H}:{kind:"camera",minZoom:ft,maxZoom:Mt,minSize:u.evaluate(new Pr(ft)),maxSize:u.evaluate(new Pr(Mt)),interpolationType:H}}function hc(t,r,u){var O=r.uSize,H=u.lowerSize;return"source"===t.kind?H/128:"composite"===t.kind?fn(H/128,u.upperSize/128,r.uSizeT):O}function uc(t,r){var u=0,O=0;if("constant"===t.kind)O=t.layoutSize;else if("source"!==t.kind){var H=t.interpolationType,q=H?R(Un.interpolationFactor(H,r,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?O=fn(t.minSize,t.maxSize,q):u=q}return{uSizeT:u,uSize:O}}Ji("Anchor",El);var sd=Object.freeze({__proto__:null,getSizeData:xu,evaluateSizeForFeature:hc,evaluateSizeForZoom:uc,SIZE_PACK_FACTOR:128});function cc(t,r,u,O,H){if(void 0===r.segment)return!0;for(var q=r,et=r.segment+1,ft=0;ft>-u/2;){if(--et<0)return!1;ft-=t[et].dist(q),q=t[et]}ft+=t[et].dist(t[et+1]),et++;for(var Mt=[],It=0;ft<u/2;){var Vt=t[et],Yt=t[et+1];if(!Yt)return!1;var Qt=t[et-1].angleTo(Vt)-Vt.angleTo(Yt);for(Qt=Math.abs((Qt+3*Math.PI)%(2*Math.PI)-Math.PI),Mt.push({distance:ft,angleDelta:Qt}),It+=Qt;ft-Mt[0].distance>O;)It-=Mt.shift().angleDelta;if(It>H)return!1;et++,ft+=Vt.dist(Yt)}return!0}function pc(t){for(var r=0,u=0;u<t.length-1;u++)r+=t[u].dist(t[u+1]);return r}function dc(t,r,u){return t?.6*r*u:0}function fc(t,r){return Math.max(t?t.right-t.left:0,r?r.right-r.left:0)}function ad(t,r,u,O,H,q){for(var et=dc(u,H,q),ft=fc(u,O)*q,Mt=0,It=pc(t)/2,Vt=0;Vt<t.length-1;Vt++){var Yt=t[Vt],Qt=t[Vt+1],ae=Yt.dist(Qt);if(Mt+ae>It){var Te=(It-Mt)/ae,Se=fn(Yt.x,Qt.x,Te),Fe=fn(Yt.y,Qt.y,Te),ke=new El(Se,Fe,Qt.angleTo(Yt),Vt);return ke._round(),!et||cc(t,ke,ft,et,r)?ke:void 0}Mt+=ae}}function ld(t,r,u,O,H,q,et,ft,Mt){var It=dc(O,q,et),Vt=fc(O,H),Yt=Vt*et,Qt=0===t[0].x||t[0].x===Mt||0===t[0].y||t[0].y===Mt;return r-Yt<r/4&&(r=Yt+r/4),function ae(Te,Se,Fe,ke,$e,ui,bi,Pi,Ni){for(var Qi=ui/2,hn=pc(Te),On=0,mn=Se-Fe,Rn=[],gn=0;gn<Te.length-1;gn++){for(var br=Te[gn],Zn=Te[gn+1],Cn=br.dist(Zn),Cr=Zn.angleTo(br);mn+Fe<On+Cn;){var fr=((mn+=Fe)-On)/Cn,Nr=fn(br.x,Zn.x,fr),Bn=fn(br.y,Zn.y,fr);if(Nr>=0&&Nr<Ni&&Bn>=0&&Bn<Ni&&mn-Qi>=0&&mn+Qi<=hn){var Gr=new El(Nr,Bn,Cr,gn);Gr._round(),ke&&!cc(Te,Gr,ui,ke,$e)||Rn.push(Gr)}}On+=Cn}return Pi||Rn.length||bi||(Rn=ae(Te,On/2,Fe,ke,$e,ui,bi,!0,Ni)),Rn}(t,Qt?r/2*ft%r:(Vt/2+2*q)*et*ft%r,r,It,u,Yt,Qt,!1,Mt)}function mc(t,r,u,O,H){for(var q=[],et=0;et<t.length;et++)for(var ft=t[et],Mt=void 0,It=0;It<ft.length-1;It++){var Vt=ft[It],Yt=ft[It+1];Vt.x<r&&Yt.x<r||(Vt.x<r?Vt=new m(r,Vt.y+(r-Vt.x)/(Yt.x-Vt.x)*(Yt.y-Vt.y))._round():Yt.x<r&&(Yt=new m(r,Vt.y+(r-Vt.x)/(Yt.x-Vt.x)*(Yt.y-Vt.y))._round()),Vt.y<u&&Yt.y<u||(Vt.y<u?Vt=new m(Vt.x+(u-Vt.y)/(Yt.y-Vt.y)*(Yt.x-Vt.x),u)._round():Yt.y<u&&(Yt=new m(Vt.x+(u-Vt.y)/(Yt.y-Vt.y)*(Yt.x-Vt.x),u)._round()),Vt.x>=O&&Yt.x>=O||(Vt.x>=O?Vt=new m(O,Vt.y+(O-Vt.x)/(Yt.x-Vt.x)*(Yt.y-Vt.y))._round():Yt.x>=O&&(Yt=new m(O,Vt.y+(O-Vt.x)/(Yt.x-Vt.x)*(Yt.y-Vt.y))._round()),Vt.y>=H&&Yt.y>=H||(Vt.y>=H?Vt=new m(Vt.x+(H-Vt.y)/(Yt.y-Vt.y)*(Yt.x-Vt.x),H)._round():Yt.y>=H&&(Yt=new m(Vt.x+(H-Vt.y)/(Yt.y-Vt.y)*(Yt.x-Vt.x),H)._round()),Mt&&Vt.equals(Mt[Mt.length-1])||q.push(Mt=[Vt]),Mt.push(Yt)))))}return q}function gc(t,r,u,O){var H=[],q=t.image,et=q.pixelRatio,ft=q.paddedRect.w-2,Mt=q.paddedRect.h-2,It=t.right-t.left,Vt=t.bottom-t.top,Yt=q.stretchX||[[0,ft]],Qt=q.stretchY||[[0,Mt]],ae=function(Nr,Bn){return Nr+Bn[1]-Bn[0]},Te=Yt.reduce(ae,0),Se=Qt.reduce(ae,0),Fe=ft-Te,ke=Mt-Se,$e=0,ui=Te,bi=0,Pi=Se,Ni=0,Qi=Fe,hn=0,On=ke;if(q.content&&O){var mn=q.content;$e=zh(Yt,0,mn[0]),bi=zh(Qt,0,mn[1]),ui=zh(Yt,mn[0],mn[2]),Pi=zh(Qt,mn[1],mn[3]),Ni=mn[0]-$e,hn=mn[1]-bi,Qi=mn[2]-mn[0]-ui,On=mn[3]-mn[1]-Pi}var Rn=function(Nr,Bn,Gr,bo){var ko=Fh(Nr.stretch-$e,ui,It,t.left),Po=jh(Nr.fixed-Ni,Qi,Nr.stretch,Te),wo=Fh(Bn.stretch-bi,Pi,Vt,t.top),Do=jh(Bn.fixed-hn,On,Bn.stretch,Se),Qo=Fh(Gr.stretch-$e,ui,It,t.left),ts=jh(Gr.fixed-Ni,Qi,Gr.stretch,Te),As=Fh(bo.stretch-bi,Pi,Vt,t.top),hs=jh(bo.fixed-hn,On,bo.stretch,Se),Ms=new m(ko,wo),Io=new m(Qo,wo),us=new m(Qo,As),Mr=new m(ko,As),co=new m(Po/et,Do/et),eo=new m(ts/et,hs/et),Fr=r*Math.PI/180;if(Fr){var Is=Math.sin(Fr),bs=Math.cos(Fr),yo=[bs,-Is,Is,bs];Ms._matMult(yo),Io._matMult(yo),Mr._matMult(yo),us._matMult(yo)}var Uo=Nr.stretch+Nr.fixed,ws=Bn.stretch+Bn.fixed;return{tl:Ms,tr:Io,bl:Mr,br:us,tex:{x:q.paddedRect.x+1+Uo,y:q.paddedRect.y+1+ws,w:Gr.stretch+Gr.fixed-Uo,h:bo.stretch+bo.fixed-ws},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:co,pixelOffsetBR:eo,minFontScaleX:Qi/et/It,minFontScaleY:On/et/Vt,isSDF:u}};if(O&&(q.stretchX||q.stretchY))for(var gn=yc(Yt,Fe,Te),br=yc(Qt,ke,Se),Zn=0;Zn<gn.length-1;Zn++)for(var Cn=gn[Zn],Cr=gn[Zn+1],fr=0;fr<br.length-1;fr++)H.push(Rn(Cn,br[fr],Cr,br[fr+1]));else H.push(Rn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:ft+1},{fixed:0,stretch:Mt+1}));return H}function zh(t,r,u){for(var O=0,H=0,q=t;H<q.length;H+=1){var et=q[H];O+=Math.max(r,Math.min(u,et[1]))-Math.max(r,Math.min(u,et[0]))}return O}function yc(t,r,u){for(var O=[{fixed:-1,stretch:0}],H=0,q=t;H<q.length;H+=1){var et=q[H],ft=et[0],Mt=et[1],It=O[O.length-1];O.push({fixed:ft-It.stretch,stretch:It.stretch}),O.push({fixed:ft-It.stretch,stretch:It.stretch+(Mt-ft)})}return O.push({fixed:r+1,stretch:u}),O}function Fh(t,r,u,O){return t/r*u+O}function jh(t,r,u,O){return t-r*u/O}var Uh=function(t,r,u,O,H,q,et,ft,Mt,It){if(this.boxStartIndex=t.length,Mt){var Vt=q.top,Yt=q.bottom,Qt=q.collisionPadding;Qt&&(Vt-=Qt[1],Yt+=Qt[3]);var ae=Yt-Vt;ae>0&&(ae=Math.max(10,ae),this.circleDiameter=ae)}else{var Te=q.top*et-ft,Se=q.bottom*et+ft,Fe=q.left*et-ft,ke=q.right*et+ft,$e=q.collisionPadding;if($e&&(Fe-=$e[0]*et,Te-=$e[1]*et,ke+=$e[2]*et,Se+=$e[3]*et),It){var ui=new m(Fe,Te),bi=new m(ke,Te),Pi=new m(Fe,Se),Ni=new m(ke,Se),Qi=It*Math.PI/180;ui._rotate(Qi),bi._rotate(Qi),Pi._rotate(Qi),Ni._rotate(Qi),Fe=Math.min(ui.x,bi.x,Pi.x,Ni.x),ke=Math.max(ui.x,bi.x,Pi.x,Ni.x),Te=Math.min(ui.y,bi.y,Pi.y,Ni.y),Se=Math.max(ui.y,bi.y,Pi.y,Ni.y)}t.emplaceBack(r.x,r.y,Fe,Te,ke,Se,u,O,H)}this.boxEndIndex=t.length},Ll=function(t,r){if(void 0===t&&(t=[]),void 0===r&&(r=hd),this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(var u=(this.length>>1)-1;u>=0;u--)this._down(u)};function hd(t,r){return t<r?-1:t>r?1:0}function ud(t,r,u){void 0===r&&(r=1),void 0===u&&(u=!1);for(var O=1/0,H=1/0,q=-1/0,et=-1/0,ft=t[0],Mt=0;Mt<ft.length;Mt++){var It=ft[Mt];(!Mt||It.x<O)&&(O=It.x),(!Mt||It.y<H)&&(H=It.y),(!Mt||It.x>q)&&(q=It.x),(!Mt||It.y>et)&&(et=It.y)}var Vt=Math.min(q-O,et-H),Yt=Vt/2,Qt=new Ll([],cd);if(0===Vt)return new m(O,H);for(var ae=O;ae<q;ae+=Vt)for(var Te=H;Te<et;Te+=Vt)Qt.push(new Ol(ae+Yt,Te+Yt,Yt,t));for(var Se=function($e){for(var ui=0,bi=0,Pi=0,Ni=$e[0],Qi=0,hn=Ni.length,On=hn-1;Qi<hn;On=Qi++){var mn=Ni[Qi],Rn=Ni[On],gn=mn.x*Rn.y-Rn.x*mn.y;bi+=(mn.x+Rn.x)*gn,Pi+=(mn.y+Rn.y)*gn,ui+=3*gn}return new Ol(bi/ui,Pi/ui,0,$e)}(t),Fe=Qt.length;Qt.length;){var ke=Qt.pop();(ke.d>Se.d||!Se.d)&&(Se=ke,u&&console.log("found best %d after %d probes",Math.round(1e4*ke.d)/1e4,Fe)),ke.max-Se.d<=r||(Qt.push(new Ol(ke.p.x-(Yt=ke.h/2),ke.p.y-Yt,Yt,t)),Qt.push(new Ol(ke.p.x+Yt,ke.p.y-Yt,Yt,t)),Qt.push(new Ol(ke.p.x-Yt,ke.p.y+Yt,Yt,t)),Qt.push(new Ol(ke.p.x+Yt,ke.p.y+Yt,Yt,t)),Fe+=4)}return u&&(console.log("num probes: "+Fe),console.log("best distance: "+Se.d)),Se.p}function cd(t,r){return r.max-t.max}function Ol(t,r,u,O){this.p=new m(t,r),this.h=u,this.d=function(H,q){for(var et=!1,ft=1/0,Mt=0;Mt<q.length;Mt++)for(var It=q[Mt],Vt=0,Yt=It.length,Qt=Yt-1;Vt<Yt;Qt=Vt++){var ae=It[Vt],Te=It[Qt];ae.y>H.y!=Te.y>H.y&&H.x<(Te.x-ae.x)*(H.y-ae.y)/(Te.y-ae.y)+ae.x&&(et=!et),ft=Math.min(ft,$a(H,ae,Te))}return(et?1:-1)*Math.sqrt(ft)}(this.p,O),this.max=this.d+this.h*Math.SQRT2}Ll.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Ll.prototype.pop=function(){if(0!==this.length){var t=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),t}},Ll.prototype.peek=function(){return this.data[0]},Ll.prototype._up=function(t){for(var r=this.data,u=this.compare,O=r[t];t>0;){var H=t-1>>1,q=r[H];if(u(O,q)>=0)break;r[t]=q,t=H}r[t]=O},Ll.prototype._down=function(t){for(var r=this.data,u=this.compare,O=this.length>>1,H=r[t];t<O;){var q=1+(t<<1),et=r[q],ft=q+1;if(ft<this.length&&u(r[ft],et)<0&&(q=ft,et=r[ft]),u(et,H)>=0)break;r[t]=et,t=q}r[t]=H};var bu=Number.POSITIVE_INFINITY;function vc(t,r){return r[1]!==bu?function(u,O,H){var q=0,et=0;switch(O=Math.abs(O),H=Math.abs(H),u){case"top-right":case"top-left":case"top":et=H-7;break;case"bottom-right":case"bottom-left":case"bottom":et=7-H}switch(u){case"top-right":case"bottom-right":case"right":q=-O;break;case"top-left":case"bottom-left":case"left":q=O}return[q,et]}(t,r[0],r[1]):function(u,O){var H=0,q=0;O<0&&(O=0);var et=O/Math.sqrt(2);switch(u){case"top-right":case"top-left":q=et-7;break;case"bottom-right":case"bottom-left":q=7-et;break;case"bottom":q=7-O;break;case"top":q=O-7}switch(u){case"top-right":case"bottom-right":H=-et;break;case"top-left":case"bottom-left":H=et;break;case"left":H=O;break;case"right":H=-O}return[H,q]}(t,r[0])}function wu(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function _c(t,r,u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te){var Se=function(bi,Pi,Ni,Qi,hn,On,mn,Rn){for(var gn=Qi.layout.get("text-rotate").evaluate(On,{})*Math.PI/180,br=[],Zn=0,Cn=Pi.positionedLines;Zn<Cn.length;Zn+=1)for(var Cr=Cn[Zn],fr=0,Nr=Cr.positionedGlyphs;fr<Nr.length;fr+=1){var Bn=Nr[fr];if(Bn.rect){var Gr=Bn.rect||{},bo=4,ko=!0,Po=1,wo=0,Do=(hn||Rn)&&Bn.vertical,Qo=Bn.metrics.advance*Bn.scale/2;if(Rn&&Pi.verticalizable&&(wo=Cr.lineOffset/2-(Bn.imageName?-(24-Bn.metrics.width*Bn.scale)/2:24*(Bn.scale-1))),Bn.imageName){var ts=mn[Bn.imageName];ko=ts.sdf,bo=1/(Po=ts.pixelRatio)}var As=hn?[Bn.x+Qo,Bn.y]:[0,0],hs=hn?[0,0]:[Bn.x+Qo+Ni[0],Bn.y+Ni[1]-wo],Ms=[0,0];Do&&(Ms=hs,hs=[0,0]);var Io=(Bn.metrics.left-bo)*Bn.scale-Qo+hs[0],us=(-Bn.metrics.top-bo)*Bn.scale+hs[1],Mr=Io+Gr.w*Bn.scale/Po,co=us+Gr.h*Bn.scale/Po,eo=new m(Io,us),Fr=new m(Mr,us),Is=new m(Io,co),bs=new m(Mr,co);if(Do){var yo=new m(-Qo,Qo- -17),Uo=-Math.PI/2,ws=12-Qo,Hr=new m(22-ws,-(Bn.imageName?ws:0)),Ea=new(Function.prototype.bind.apply(m,[null].concat(Ms)));eo._rotateAround(Uo,yo)._add(Hr)._add(Ea),Fr._rotateAround(Uo,yo)._add(Hr)._add(Ea),Is._rotateAround(Uo,yo)._add(Hr)._add(Ea),bs._rotateAround(Uo,yo)._add(Hr)._add(Ea)}if(gn){var na=Math.sin(gn),La=Math.cos(gn),No=[La,-na,na,La];eo._matMult(No),Fr._matMult(No),Is._matMult(No),bs._matMult(No)}var Oa=new m(0,0),fa=new m(0,0);br.push({tl:eo,tr:Fr,bl:Is,br:bs,tex:Gr,writingMode:Pi.writingMode,glyphOffset:As,sectionIndex:Bn.sectionIndex,isSDF:ko,pixelOffsetTL:Oa,pixelOffsetBR:fa,minFontScaleX:0,minFontScaleY:0})}}return br}(0,u,ft,H,q,et,O,t.allowVerticalPlacement),Fe=t.textSizeData,ke=null;"source"===Fe.kind?(ke=[128*H.layout.get("text-size").evaluate(et,{})])[0]>32640&&at(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Fe.kind&&((ke=[128*ae.compositeTextSizes[0].evaluate(et,{},Te),128*ae.compositeTextSizes[1].evaluate(et,{},Te)])[0]>32640||ke[1]>32640)&&at(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,Se,ke,ft,q,et,It,r,Mt.lineStartIndex,Mt.lineLength,Qt,Te);for(var $e=0,ui=Vt;$e<ui.length;$e+=1)Yt[ui[$e]]=t.text.placedSymbolArray.length-1;return 4*Se.length}function xc(t){for(var r in t)return t[r];return null}function pd(t,r,u,O){var H=t.compareText;if(r in H){for(var q=H[r],et=q.length-1;et>=0;et--)if(O.dist(q[et])<u)return!0}else H[r]=[];return H[r].push(O),!1}var dd=Al.VectorTileFeature.types,fd=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vh(t,r,u,O,H,q,et,ft,Mt,It,Vt,Yt,Qt){var ae=ft?Math.min(32640,Math.round(ft[0])):0,Te=ft?Math.min(32640,Math.round(ft[1])):0;t.emplaceBack(r,u,Math.round(32*O),Math.round(32*H),q,et,(ae<<1)+(Mt?1:0),Te,16*It,16*Vt,256*Yt,256*Qt)}function Tu(t,r,u){t.emplaceBack(r.x,r.y,u),t.emplaceBack(r.x,r.y,u),t.emplaceBack(r.x,r.y,u),t.emplaceBack(r.x,r.y,u)}function md(t){for(var r=0,u=t.sections;r<u.length;r+=1)if(Ko(u[r].text))return!0;return!1}var Il=function(t){this.layoutVertexArray=new xl,this.indexArray=new Pa,this.programConfigurations=t,this.segments=new de,this.dynamicLayoutVertexArray=new qa,this.opacityVertexArray=new al,this.placedSymbolArray=new B};Il.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Il.prototype.upload=function(t,r,u,O){this.isEmpty()||(u&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Up.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Vp.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,fd,!0),this.opacityVertexBuffer.itemSize=1),(u||O)&&this.programConfigurations.upload(t))},Il.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ji("SymbolBuffers",Il);var ch=function(t,r,u){this.layoutVertexArray=new t,this.layoutAttributes=r,this.indexArray=new u,this.segments=new de,this.collisionVertexArray=new Ql};ch.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Gp.members,!0)},ch.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ji("CollisionBuffers",ch);var lo=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(q){return q.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ks([]),this.placementViewportMatrix=Ks([]);var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=xu(this.zoom,r["text-size"]),this.iconSizeData=xu(this.zoom,r["icon-size"]);var u=this.layers[0].layout,O=u.get("symbol-sort-key"),H=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==H&&void 0!==O.constantOr(1),this.sortFeaturesByY=("viewport-y"===H||"auto"===H&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===u.get("symbol-placement")&&(this.writingModes=u.get("text-writing-mode").map(function(q){return ia[q]})),this.stateDependentLayerIds=this.layers.filter(function(q){return q.isStateDependent()}).map(function(q){return q.id}),this.sourceID=t.sourceID};lo.prototype.createArrays=function(){this.text=new Il(new Wn(this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new Il(new Wn(this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.glyphOffsetArray=new dt,this.lineVertexArray=new Pt,this.symbolInstances=new st},lo.prototype.calculateGlyphDependencies=function(t,r,u,O,H){for(var q=0;q<t.length;q++)if(r[t.charCodeAt(q)]=!0,(u||O)&&H){var et=lh[t.charAt(q)];et&&(r[et.charCodeAt(0)]=!0)}},lo.prototype.populate=function(t,r,u){var O=this.layers[0],H=O.layout,q=H.get("text-font"),et=H.get("text-field"),ft=H.get("icon-image"),Mt=("constant"!==et.value.kind||et.value.value instanceof qn&&!et.value.value.isEmpty()||et.value.value.toString().length>0)&&("constant"!==q.value.kind||q.value.value.length>0),It="constant"!==ft.value.kind||!!ft.value.value||Object.keys(ft.parameters).length>0,Vt=H.get("symbol-sort-key");if(this.features=[],Mt||It){for(var Yt=r.iconDependencies,Qt=r.glyphDependencies,ae=r.availableImages,Te=new Pr(this.zoom),Se=0,Fe=t;Se<Fe.length;Se+=1){var ke=Fe[Se],$e=ke.feature,ui=ke.id,bi=ke.index,Pi=ke.sourceLayerIndex,Ni=O._featureFilter.needGeometry,Qi=Oo($e,Ni);if(O._featureFilter.filter(Te,Qi,u)){Ni||(Qi.geometry=So($e));var hn=void 0;if(Mt){var On=O.getValueAndResolveTokens("text-field",Qi,u,ae),mn=qn.factory(On);md(mn)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ol()||this.hasRTLText&&_s.isParsed())&&(hn=Wp(mn,O,Qi))}var Rn=void 0;if(It){var gn=O.getValueAndResolveTokens("icon-image",Qi,u,ae);Rn=gn instanceof lr?gn:lr.fromString(gn)}if(hn||Rn){var br=this.sortFeaturesByKey?Vt.evaluate(Qi,{},u):void 0;if(this.features.push({id:ui,text:hn,icon:Rn,index:bi,sourceLayerIndex:Pi,geometry:Qi.geometry,properties:$e.properties,type:dd[$e.type],sortKey:br}),Rn&&(Yt[Rn.name]=!0),hn){var Zn=q.evaluate(Qi,{},u).join(","),Cn="map"===H.get("text-rotation-alignment")&&"point"!==H.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ia.vertical)>=0;for(var Cr=0,fr=hn.sections;Cr<fr.length;Cr+=1){var Nr=fr[Cr];if(Nr.image)Yt[Nr.image.name]=!0;else{var Bn=Bs(hn.toString()),Gr=Nr.fontStack||Zn,bo=Qt[Gr]=Qt[Gr]||{};this.calculateGlyphDependencies(Nr.text,bo,Cn,this.allowVerticalPlacement,Bn)}}}}}}"line"===H.get("symbol-placement")&&(this.features=function(ko){var Po={},wo={},Do=[],Qo=0;function ts(yo){Do.push(ko[yo]),Qo++}function As(yo,Uo,ws){var Hr=wo[yo];return delete wo[yo],wo[Uo]=Hr,Do[Hr].geometry[0].pop(),Do[Hr].geometry[0]=Do[Hr].geometry[0].concat(ws[0]),Hr}function hs(yo,Uo,ws){var Hr=Po[Uo];return delete Po[Uo],Po[yo]=Hr,Do[Hr].geometry[0].shift(),Do[Hr].geometry[0]=ws[0].concat(Do[Hr].geometry[0]),Hr}function Ms(yo,Uo,ws){var Hr=ws?Uo[0][Uo[0].length-1]:Uo[0][0];return yo+":"+Hr.x+":"+Hr.y}for(var Io=0;Io<ko.length;Io++){var us=ko[Io],Mr=us.geometry,co=us.text?us.text.toString():null;if(co){var eo=Ms(co,Mr),Fr=Ms(co,Mr,!0);if(eo in wo&&Fr in Po&&wo[eo]!==Po[Fr]){var Is=hs(eo,Fr,Mr),bs=As(eo,Fr,Do[Is].geometry);delete Po[eo],delete wo[Fr],wo[Ms(co,Do[bs].geometry,!0)]=bs,Do[Is].geometry=null}else eo in wo?As(eo,Fr,Mr):Fr in Po?hs(eo,Fr,Mr):(ts(Io),Po[eo]=Qo-1,wo[Fr]=Qo-1)}else ts(Io)}return Do.filter(function(yo){return yo.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(ko,Po){return ko.sortKey-Po.sortKey})}},lo.prototype.update=function(t,r,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,r,this.layers,u),this.icon.programConfigurations.updatePaintArrays(t,r,this.layers,u))},lo.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},lo.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},lo.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},lo.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},lo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},lo.prototype.addToLineVertexArray=function(t,r){var u=this.lineVertexArray.length;if(void 0!==t.segment){for(var O=t.dist(r[t.segment+1]),H=t.dist(r[t.segment]),q={},et=t.segment+1;et<r.length;et++)q[et]={x:r[et].x,y:r[et].y,tileUnitDistanceFromAnchor:O},et<r.length-1&&(O+=r[et+1].dist(r[et]));for(var ft=t.segment||0;ft>=0;ft--)q[ft]={x:r[ft].x,y:r[ft].y,tileUnitDistanceFromAnchor:H},ft>0&&(H+=r[ft-1].dist(r[ft]));for(var Mt=0;Mt<r.length;Mt++){var It=q[Mt];this.lineVertexArray.emplaceBack(It.x,It.y,It.tileUnitDistanceFromAnchor)}}return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}},lo.prototype.addSymbols=function(t,r,u,O,H,q,et,ft,Mt,It,Vt,Yt){for(var Qt=t.indexArray,ae=t.layoutVertexArray,Te=t.segments.prepareSegment(4*r.length,ae,Qt,this.canOverlap?q.sortKey:void 0),Se=this.glyphOffsetArray.length,Fe=Te.vertexLength,ke=this.allowVerticalPlacement&&et===ia.vertical?Math.PI/2:0,$e=q.text&&q.text.sections,ui=0;ui<r.length;ui++){var bi=r[ui],Pi=bi.tl,Ni=bi.tr,Qi=bi.bl,hn=bi.br,On=bi.tex,mn=bi.pixelOffsetTL,Rn=bi.pixelOffsetBR,gn=bi.minFontScaleX,br=bi.minFontScaleY,Zn=bi.glyphOffset,Cn=bi.isSDF,Cr=bi.sectionIndex,fr=Te.vertexLength,Nr=Zn[1];Vh(ae,ft.x,ft.y,Pi.x,Nr+Pi.y,On.x,On.y,u,Cn,mn.x,mn.y,gn,br),Vh(ae,ft.x,ft.y,Ni.x,Nr+Ni.y,On.x+On.w,On.y,u,Cn,Rn.x,mn.y,gn,br),Vh(ae,ft.x,ft.y,Qi.x,Nr+Qi.y,On.x,On.y+On.h,u,Cn,mn.x,Rn.y,gn,br),Vh(ae,ft.x,ft.y,hn.x,Nr+hn.y,On.x+On.w,On.y+On.h,u,Cn,Rn.x,Rn.y,gn,br),Tu(t.dynamicLayoutVertexArray,ft,ke),Qt.emplaceBack(fr,fr+1,fr+2),Qt.emplaceBack(fr+1,fr+2,fr+3),Te.vertexLength+=4,Te.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Zn[0]),ui!==r.length-1&&Cr===r[ui+1].sectionIndex||t.programConfigurations.populatePaintArrays(ae.length,q,q.index,{},Yt,$e&&$e[Cr])}t.placedSymbolArray.emplaceBack(ft.x,ft.y,Se,this.glyphOffsetArray.length-Se,Fe,Mt,It,ft.segment,u?u[0]:0,u?u[1]:0,O[0],O[1],et,0,!1,0,Vt)},lo.prototype._addCollisionDebugVertex=function(t,r,u,O,H,q){return r.emplaceBack(0,0),t.emplaceBack(u.x,u.y,O,H,Math.round(q.x),Math.round(q.y))},lo.prototype.addCollisionDebugVertices=function(t,r,u,O,H,q,et){var ft=H.segments.prepareSegment(4,H.layoutVertexArray,H.indexArray),Mt=ft.vertexLength,It=H.layoutVertexArray,Vt=H.collisionVertexArray,Yt=et.anchorX,Qt=et.anchorY;this._addCollisionDebugVertex(It,Vt,q,Yt,Qt,new m(t,r)),this._addCollisionDebugVertex(It,Vt,q,Yt,Qt,new m(u,r)),this._addCollisionDebugVertex(It,Vt,q,Yt,Qt,new m(u,O)),this._addCollisionDebugVertex(It,Vt,q,Yt,Qt,new m(t,O)),ft.vertexLength+=4;var ae=H.indexArray;ae.emplaceBack(Mt,Mt+1),ae.emplaceBack(Mt+1,Mt+2),ae.emplaceBack(Mt+2,Mt+3),ae.emplaceBack(Mt+3,Mt),ft.primitiveLength+=4},lo.prototype.addDebugCollisionBoxes=function(t,r,u,O){for(var H=t;H<r;H++){var q=this.collisionBoxArray.get(H);this.addCollisionDebugVertices(q.x1,q.y1,q.x2,q.y2,O?this.textCollisionBox:this.iconCollisionBox,q.anchorPoint,u)}},lo.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ch(Ka,$u.members,ll),this.iconCollisionBox=new ch(Ka,$u.members,ll);for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}},lo.prototype._deserializeCollisionBoxesForSymbol=function(t,r,u,O,H,q,et,ft,Mt){for(var It={},Vt=r;Vt<u;Vt++){var Yt=t.get(Vt);It.textBox={x1:Yt.x1,y1:Yt.y1,x2:Yt.x2,y2:Yt.y2,anchorPointX:Yt.anchorPointX,anchorPointY:Yt.anchorPointY},It.textFeatureIndex=Yt.featureIndex;break}for(var Qt=O;Qt<H;Qt++){var ae=t.get(Qt);It.verticalTextBox={x1:ae.x1,y1:ae.y1,x2:ae.x2,y2:ae.y2,anchorPointX:ae.anchorPointX,anchorPointY:ae.anchorPointY},It.verticalTextFeatureIndex=ae.featureIndex;break}for(var Te=q;Te<et;Te++){var Se=t.get(Te);It.iconBox={x1:Se.x1,y1:Se.y1,x2:Se.x2,y2:Se.y2,anchorPointX:Se.anchorPointX,anchorPointY:Se.anchorPointY},It.iconFeatureIndex=Se.featureIndex;break}for(var Fe=ft;Fe<Mt;Fe++){var ke=t.get(Fe);It.verticalIconBox={x1:ke.x1,y1:ke.y1,x2:ke.x2,y2:ke.y2,anchorPointX:ke.anchorPointX,anchorPointY:ke.anchorPointY},It.verticalIconFeatureIndex=ke.featureIndex;break}return It},lo.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var r=0;r<this.symbolInstances.length;r++){var u=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}},lo.prototype.hasTextData=function(){return this.text.segments.get().length>0},lo.prototype.hasIconData=function(){return this.icon.segments.get().length>0},lo.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},lo.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},lo.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},lo.prototype.addIndicesForPlacedSymbol=function(t,r){for(var u=t.placedSymbolArray.get(r),O=u.vertexStartIndex+4*u.numGlyphs,H=u.vertexStartIndex;H<O;H+=4)t.indexArray.emplaceBack(H,H+1,H+2),t.indexArray.emplaceBack(H+1,H+2,H+3)},lo.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var r=Math.sin(t),u=Math.cos(t),O=[],H=[],q=[],et=0;et<this.symbolInstances.length;++et){q.push(et);var ft=this.symbolInstances.get(et);O.push(0|Math.round(r*ft.anchorX+u*ft.anchorY)),H.push(ft.featureIndex)}return q.sort(function(Mt,It){return O[Mt]-O[It]||H[It]-H[Mt]}),q},lo.prototype.addToSortKeyRanges=function(t,r){var u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===r?u.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:t,symbolInstanceEnd:t+1})},lo.prototype.sortFeatures=function(t){var r=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,O=this.symbolInstanceIndexes;u<O.length;u+=1){var H=this.symbolInstances.get(O[u]);this.featureSortOrder.push(H.featureIndex),[H.rightJustifiedTextSymbolIndex,H.centerJustifiedTextSymbolIndex,H.leftJustifiedTextSymbolIndex].forEach(function(q,et,ft){q>=0&&ft.indexOf(q)===et&&r.addIndicesForPlacedSymbol(r.text,q)}),H.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,H.verticalPlacedTextSymbolIndex),H.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,H.placedIconSymbolIndex),H.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,H.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ji("SymbolBucket",lo,{omit:["layers","collisionBoxArray","features","compareText"]}),lo.MAX_GLYPHS=65535,lo.addDynamicAttributes=Tu;var gd=new Wo({"symbol-placement":new Ln(Xt.layout_symbol["symbol-placement"]),"symbol-spacing":new Ln(Xt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ln(Xt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Sn(Xt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ln(Xt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ln(Xt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ln(Xt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ln(Xt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ln(Xt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Sn(Xt.layout_symbol["icon-size"]),"icon-text-fit":new Ln(Xt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ln(Xt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Sn(Xt.layout_symbol["icon-image"]),"icon-rotate":new Sn(Xt.layout_symbol["icon-rotate"]),"icon-padding":new Ln(Xt.layout_symbol["icon-padding"]),"icon-keep-upright":new Ln(Xt.layout_symbol["icon-keep-upright"]),"icon-offset":new Sn(Xt.layout_symbol["icon-offset"]),"icon-anchor":new Sn(Xt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ln(Xt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ln(Xt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ln(Xt.layout_symbol["text-rotation-alignment"]),"text-field":new Sn(Xt.layout_symbol["text-field"]),"text-font":new Sn(Xt.layout_symbol["text-font"]),"text-size":new Sn(Xt.layout_symbol["text-size"]),"text-max-width":new Sn(Xt.layout_symbol["text-max-width"]),"text-line-height":new Ln(Xt.layout_symbol["text-line-height"]),"text-letter-spacing":new Sn(Xt.layout_symbol["text-letter-spacing"]),"text-justify":new Sn(Xt.layout_symbol["text-justify"]),"text-radial-offset":new Sn(Xt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ln(Xt.layout_symbol["text-variable-anchor"]),"text-anchor":new Sn(Xt.layout_symbol["text-anchor"]),"text-max-angle":new Ln(Xt.layout_symbol["text-max-angle"]),"text-writing-mode":new Ln(Xt.layout_symbol["text-writing-mode"]),"text-rotate":new Sn(Xt.layout_symbol["text-rotate"]),"text-padding":new Ln(Xt.layout_symbol["text-padding"]),"text-keep-upright":new Ln(Xt.layout_symbol["text-keep-upright"]),"text-transform":new Sn(Xt.layout_symbol["text-transform"]),"text-offset":new Sn(Xt.layout_symbol["text-offset"]),"text-allow-overlap":new Ln(Xt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ln(Xt.layout_symbol["text-ignore-placement"]),"text-optional":new Ln(Xt.layout_symbol["text-optional"])}),Su={paint:new Wo({"icon-opacity":new Sn(Xt.paint_symbol["icon-opacity"]),"icon-color":new Sn(Xt.paint_symbol["icon-color"]),"icon-halo-color":new Sn(Xt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Sn(Xt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Sn(Xt.paint_symbol["icon-halo-blur"]),"icon-translate":new Ln(Xt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ln(Xt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Sn(Xt.paint_symbol["text-opacity"]),"text-color":new Sn(Xt.paint_symbol["text-color"],{runtimeType:oi,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Sn(Xt.paint_symbol["text-halo-color"]),"text-halo-width":new Sn(Xt.paint_symbol["text-halo-width"]),"text-halo-blur":new Sn(Xt.paint_symbol["text-halo-blur"]),"text-translate":new Ln(Xt.paint_symbol["text-translate"]),"text-translate-anchor":new Ln(Xt.paint_symbol["text-translate-anchor"])}),layout:gd},Nl=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:di,this.defaultValue=t};Nl.prototype.evaluate=function(t){if(t.formattedSection){var r=this.defaultValue.property.overrides;if(r&&r.hasOverride(t.formattedSection))return r.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},Nl.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},Nl.prototype.outputDefined=function(){return!1},Nl.prototype.serialize=function(){return null},Ji("FormatSectionOverride",Nl,{omit:["defaultValue"]});var yd=function(t){function r(u){t.call(this,u,Su)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.recalculate=function(u,O){if(t.prototype.recalculate.call(this,u,O),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var H=this.layout.get("text-writing-mode");if(H){for(var q=[],et=0,ft=H;et<ft.length;et+=1){var Mt=ft[et];q.indexOf(Mt)<0&&q.push(Mt)}this.layout._values["text-writing-mode"]=q}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},r.prototype.getValueAndResolveTokens=function(u,O,H,q){var Mt,et=this.layout.get(u).evaluate(O,{},H,q),ft=this._unevaluatedLayout._values[u];return ft.isDataDriven()||Fo(ft.value)||!et?et:(Mt=O.properties,et.replace(/{([^{}]+)}/g,function(Vt,Yt){return Yt in Mt?String(Mt[Yt]):""}))},r.prototype.createBucket=function(u){return new lo(u)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype._setPaintOverrides=function(){for(var u=0,O=Su.paint.overridableProperties;u<O.length;u+=1){var H=O[u];if(r.hasPaintOverride(this.layout,H)){var q,et=this.paint.get(H),ft=new Nl(et),Mt=new Rs(ft,et.property.specification);q="constant"===et.value.kind||"source"===et.value.kind?new oo("source",Mt):new ds("composite",Mt,et.value.zoomStops,et.value._interpolationType),this.paint._values[H]=new Ao(et.property,q,et.parameters)}}},r.prototype._handleOverridablePaintPropertyUpdate=function(u,O,H){return!(!this.layout||O.isDataDriven()||H.isDataDriven())&&r.hasPaintOverride(this.layout,u)},r.hasPaintOverride=function(u,O){var H=u.get("text-field"),q=Su.paint.properties[O],et=!1,ft=function(Vt){for(var Yt=0,Qt=Vt;Yt<Qt.length;Yt+=1)if(q.overrides&&q.overrides.hasOverride(Qt[Yt]))return void(et=!0)};if("constant"===H.value.kind&&H.value.value instanceof qn)ft(H.value.value.sections);else if("source"===H.value.kind){var Mt=function(Vt){et||(Vt instanceof kr&&nr(Vt.value)===yn?ft(Vt.value.sections):Vt instanceof io?ft(Vt.sections):Vt.eachChild(Mt))},It=H.value;It._styleExpression&&Mt(It._styleExpression.expression)}return et},r}(qs),vd={paint:new Wo({"background-color":new Ln(Xt.paint_background["background-color"]),"background-pattern":new ss(Xt.paint_background["background-pattern"]),"background-opacity":new Ln(Xt.paint_background["background-opacity"])})},_d=function(t){function r(u){t.call(this,u,vd)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(qs),xd={paint:new Wo({"raster-opacity":new Ln(Xt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ln(Xt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ln(Xt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ln(Xt.paint_raster["raster-brightness-max"]),"raster-saturation":new Ln(Xt.paint_raster["raster-saturation"]),"raster-contrast":new Ln(Xt.paint_raster["raster-contrast"]),"raster-resampling":new Ln(Xt.paint_raster["raster-resampling"]),"raster-fade-duration":new Ln(Xt.paint_raster["raster-fade-duration"])})},bd=function(t){function r(u){t.call(this,u,xd)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(qs),wd=function(t){function r(u){t.call(this,u,{}),this.implementation=u}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},r.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},r.prototype.recalculate=function(){},r.prototype.updateTransitions=function(){},r.prototype.hasTransition=function(){},r.prototype.serialize=function(){},r.prototype.onAdd=function(u){this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},r.prototype.onRemove=function(u){this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},r}(qs),Td={circle:lu,heatmap:sp,hillshade:lp,fill:Pp,"fill-extrusion":Ip,line:jp,symbol:yd,background:_d,raster:bd},bc=A.HTMLImageElement,wc=A.HTMLCanvasElement,Tc=A.HTMLVideoElement,Sc=A.ImageData,Gh=A.ImageBitmap,fl=function(t,r,u,O){this.context=t,this.format=u,this.texture=t.gl.createTexture(),this.update(r,O)};fl.prototype.update=function(t,r,u){var O=t.width,H=t.height,q=!(this.size&&this.size[0]===O&&this.size[1]===H||u),et=this.context,ft=et.gl;if(this.useMipmap=Boolean(r&&r.useMipmap),ft.bindTexture(ft.TEXTURE_2D,this.texture),et.pixelStoreUnpackFlipY.set(!1),et.pixelStoreUnpack.set(1),et.pixelStoreUnpackPremultiplyAlpha.set(this.format===ft.RGBA&&(!r||!1!==r.premultiply)),q)this.size=[O,H],t instanceof bc||t instanceof wc||t instanceof Tc||t instanceof Sc||Gh&&t instanceof Gh?ft.texImage2D(ft.TEXTURE_2D,0,this.format,this.format,ft.UNSIGNED_BYTE,t):ft.texImage2D(ft.TEXTURE_2D,0,this.format,O,H,0,this.format,ft.UNSIGNED_BYTE,t.data);else{var Mt=u||{x:0,y:0},It=Mt.x,Vt=Mt.y;t instanceof bc||t instanceof wc||t instanceof Tc||t instanceof Sc||Gh&&t instanceof Gh?ft.texSubImage2D(ft.TEXTURE_2D,0,It,Vt,ft.RGBA,ft.UNSIGNED_BYTE,t):ft.texSubImage2D(ft.TEXTURE_2D,0,It,Vt,O,H,ft.RGBA,ft.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ft.generateMipmap(ft.TEXTURE_2D)},fl.prototype.bind=function(t,r,u){var O=this.context.gl;O.bindTexture(O.TEXTURE_2D,this.texture),u!==O.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=O.LINEAR),t!==this.filter&&(O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,t),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,u||t),this.filter=t),r!==this.wrap&&(O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,r),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,r),this.wrap=r)},fl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},fl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Pu=function(t){var r=this;this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){r._triggered=!1,r._callback()})};Pu.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){t._triggered=!1,t._callback()},0))},Pu.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Rl=function(t,r,u){this.target=t,this.parent=r,this.mapId=u,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},K(["receive","process"],this),this.invoker=new Pu(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=ct()?t:A};function Pc(t,r,u){var O=2*Math.PI*6378137/256/Math.pow(2,u);return[t*O-2*Math.PI*6378137/2,r*O-2*Math.PI*6378137/2]}Rl.prototype.send=function(t,r,u,O,H){var q=this;void 0===H&&(H=!1);var et=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(this.callbacks[et]=u);var ft=Ft(this.globalScope)?void 0:[];return this.target.postMessage({id:et,type:t,hasCallback:!!u,targetMapId:O,mustQueue:H,sourceMapId:this.mapId,data:vo(r,ft)},ft),{cancel:function(){u&&delete q.callbacks[et],q.target.postMessage({id:et,type:"<cancel>",targetMapId:O,sourceMapId:q.mapId})}}},Rl.prototype.receive=function(t){var r=t.data,u=r.id;if(u&&(!r.targetMapId||this.mapId===r.targetMapId))if("<cancel>"===r.type){delete this.tasks[u];var O=this.cancelCallbacks[u];delete this.cancelCallbacks[u],O&&O()}else ct()||r.mustQueue?(this.tasks[u]=r,this.taskQueue.push(u),this.invoker.trigger()):this.processTask(u,r)},Rl.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),r=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),r&&this.processTask(t,r)}},Rl.prototype.processTask=function(t,r){var u=this;if("<response>"===r.type){var O=this.callbacks[t];delete this.callbacks[t],O&&(r.error?O(_o(r.error)):O(null,_o(r.data)))}else{var H=!1,q=Ft(this.globalScope)?void 0:[],et=r.hasCallback?function(Vt,Yt){H=!0,delete u.cancelCallbacks[t],u.target.postMessage({id:t,type:"<response>",sourceMapId:u.mapId,error:Vt?vo(Vt):null,data:vo(Yt,q)},q)}:function(Vt){H=!0},ft=null,Mt=_o(r.data);if(this.parent[r.type])ft=this.parent[r.type](r.sourceMapId,Mt,et);else if(this.parent.getWorkerSource){var It=r.type.split(".");ft=this.parent.getWorkerSource(r.sourceMapId,It[0],Mt.source)[It[1]](Mt,et)}else et(new Error("Could not find function "+r.type));!H&&ft&&ft.cancel&&(this.cancelCallbacks[t]=ft.cancel)}},Rl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Xo=function(t,r){t&&(r?this.setSouthWest(t).setNorthEast(r):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Xo.prototype.setNorthEast=function(t){return this._ne=t instanceof xo?new xo(t.lng,t.lat):xo.convert(t),this},Xo.prototype.setSouthWest=function(t){return this._sw=t instanceof xo?new xo(t.lng,t.lat):xo.convert(t),this},Xo.prototype.extend=function(t){var r,u,O=this._sw,H=this._ne;if(t instanceof xo)r=t,u=t;else{if(!(t instanceof Xo))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Xo.convert(t)):this.extend(xo.convert(t)):this;if(u=t._ne,!(r=t._sw)||!u)return this}return O||H?(O.lng=Math.min(r.lng,O.lng),O.lat=Math.min(r.lat,O.lat),H.lng=Math.max(u.lng,H.lng),H.lat=Math.max(u.lat,H.lat)):(this._sw=new xo(r.lng,r.lat),this._ne=new xo(u.lng,u.lat)),this},Xo.prototype.getCenter=function(){return new xo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Xo.prototype.getSouthWest=function(){return this._sw},Xo.prototype.getNorthEast=function(){return this._ne},Xo.prototype.getNorthWest=function(){return new xo(this.getWest(),this.getNorth())},Xo.prototype.getSouthEast=function(){return new xo(this.getEast(),this.getSouth())},Xo.prototype.getWest=function(){return this._sw.lng},Xo.prototype.getSouth=function(){return this._sw.lat},Xo.prototype.getEast=function(){return this._ne.lng},Xo.prototype.getNorth=function(){return this._ne.lat},Xo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Xo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Xo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Xo.prototype.contains=function(t){var r=xo.convert(t),u=r.lng,O=r.lat,H=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(H=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=O&&O<=this._ne.lat&&H},Xo.convert=function(t){return!t||t instanceof Xo?t:new Xo(t)};var xo=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid LngLat object: ("+t+", "+r+")");if(this.lng=+t,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};xo.prototype.wrap=function(){return new xo(U(this.lng,-180,180),this.lat)},xo.prototype.toArray=function(){return[this.lng,this.lat]},xo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},xo.prototype.distanceTo=function(t){var r=Math.PI/180,u=this.lat*r,O=t.lat*r,H=Math.sin(u)*Math.sin(O)+Math.cos(u)*Math.cos(O)*Math.cos((t.lng-this.lng)*r);return 6371008.8*Math.acos(Math.min(H,1))},xo.prototype.toBounds=function(t){void 0===t&&(t=0);var r=360*t/40075017,u=r/Math.cos(Math.PI/180*this.lat);return new Xo(new xo(this.lng-u,this.lat-r),new xo(this.lng+u,this.lat+r))},xo.convert=function(t){if(t instanceof xo)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new xo(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new xo(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Cc=2*Math.PI*6371008.8;function Ac(t){return Cc*Math.cos(t*Math.PI/180)}function Mc(t){return(180+t)/360}function kc(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Dc(t,r){return t/Ac(r)}function Cu(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var ml=function(t,r,u){void 0===u&&(u=0),this.x=+t,this.y=+r,this.z=+u};ml.fromLngLat=function(t,r){void 0===r&&(r=0);var u=xo.convert(t);return new ml(Mc(u.lng),kc(u.lat),Dc(r,u.lat))},ml.prototype.toLngLat=function(){return new xo(360*this.x-180,Cu(this.y))},ml.prototype.toAltitude=function(){return this.z*Ac(Cu(this.y))},ml.prototype.meterInMercatorCoordinateUnits=function(){return 1/Cc*(t=Cu(this.y),1/Math.cos(t*Math.PI/180));var t};var gl=function(t,r,u){this.z=t,this.x=r,this.y=u,this.key=ph(0,t,t,r,u)};gl.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},gl.prototype.url=function(t,r){var u,O,H,q,et,ft=(O=this.y,H=this.z,q=Pc(256*(u=this.x),256*(O=Math.pow(2,H)-O-1),H),et=Pc(256*(u+1),256*(O+1),H),q[0]+","+q[1]+","+et[0]+","+et[1]),Mt=function(It,Vt,Yt){for(var Qt,ae="",Te=It;Te>0;Te--)ae+=(Vt&(Qt=1<<Te-1)?1:0)+(Yt&Qt?2:0);return ae}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===r?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",Mt).replace("{bbox-epsg-3857}",ft)},gl.prototype.getTilePoint=function(t){var r=Math.pow(2,this.z);return new m(8192*(t.x*r-this.x),8192*(t.y*r-this.y))},gl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Ec=function(t,r){this.wrap=t,this.canonical=r,this.key=ph(t,r.z,r.z,r.x,r.y)},Zo=function(t,r,u,O,H){this.overscaledZ=t,this.wrap=r,this.canonical=new gl(u,+O,+H),this.key=ph(r,t,u,O,H)};function ph(t,r,u,O,H){(t*=2)<0&&(t=-1*t-1);var q=1<<u;return(q*q*t+q*H+O).toString(36)+u.toString(36)+r.toString(36)}Zo.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Zo.prototype.scaledTo=function(t){var r=this.canonical.z-t;return t>this.canonical.z?new Zo(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Zo(t,this.wrap,t,this.canonical.x>>r,this.canonical.y>>r)},Zo.prototype.calculateScaledKey=function(t,r){var u=this.canonical.z-t;return t>this.canonical.z?ph(this.wrap*+r,t,this.canonical.z,this.canonical.x,this.canonical.y):ph(this.wrap*+r,t,t,this.canonical.x>>u,this.canonical.y>>u)},Zo.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var r=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>r&&t.canonical.y===this.canonical.y>>r},Zo.prototype.children=function(t){if(this.overscaledZ>=t)return[new Zo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var r=this.canonical.z+1,u=2*this.canonical.x,O=2*this.canonical.y;return[new Zo(r,this.wrap,r,u,O),new Zo(r,this.wrap,r,u+1,O),new Zo(r,this.wrap,r,u,O+1),new Zo(r,this.wrap,r,u+1,O+1)]},Zo.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Zo.prototype.wrapped=function(){return new Zo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Zo.prototype.unwrapTo=function(t){return new Zo(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Zo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Zo.prototype.toUnwrapped=function(){return new Ec(this.wrap,this.canonical)},Zo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Zo.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new ml(t.x-this.wrap,t.y))},Ji("CanonicalTileID",gl),Ji("OverscaledTileID",Zo,{omit:["posMatrix"]});var Va=function(t,r,u){if(this.uid=t,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(u&&"mapbox"!==u&&"terrarium"!==u)return at('"'+u+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=r.height;var O=this.dim=r.height-2;this.data=new Uint32Array(r.data.buffer),this.encoding=u||"mapbox";for(var H=0;H<O;H++)this.data[this._idx(-1,H)]=this.data[this._idx(0,H)],this.data[this._idx(O,H)]=this.data[this._idx(O-1,H)],this.data[this._idx(H,-1)]=this.data[this._idx(H,0)],this.data[this._idx(H,O)]=this.data[this._idx(H,O-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(O,-1)]=this.data[this._idx(O-1,0)],this.data[this._idx(-1,O)]=this.data[this._idx(0,O-1)],this.data[this._idx(O,O)]=this.data[this._idx(O-1,O-1)]};Va.prototype.get=function(t,r){var u=new Uint8Array(this.data.buffer),O=4*this._idx(t,r);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(u[O],u[O+1],u[O+2])},Va.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Va.prototype._idx=function(t,r){if(t<-1||t>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(t+1)},Va.prototype._unpackMapbox=function(t,r,u){return(256*t*256+256*r+u)/10-1e4},Va.prototype._unpackTerrarium=function(t,r,u){return 256*t+r+u/256-32768},Va.prototype.getPixels=function(){return new Vs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Va.prototype.backfillBorder=function(t,r,u){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var O=r*this.dim,H=r*this.dim+this.dim,q=u*this.dim,et=u*this.dim+this.dim;switch(r){case-1:O=H-1;break;case 1:H=O+1}switch(u){case-1:q=et-1;break;case 1:et=q+1}for(var ft=-r*this.dim,Mt=-u*this.dim,It=q;It<et;It++)for(var Vt=O;Vt<H;Vt++)this.data[this._idx(Vt,It)]=t.data[this._idx(Vt+ft,It+Mt)]},Ji("DEMData",Va);var Hh=function(t){this._stringToNumber={},this._numberToString=[];for(var r=0;r<t.length;r++){var u=t[r];this._stringToNumber[u]=r,this._numberToString[r]=u}};Hh.prototype.encode=function(t){return this._stringToNumber[t]},Hh.prototype.decode=function(t){return this._numberToString[t]};var Wh=function(t,r,u,O,H){this.type="Feature",this._vectorTileFeature=t,t._z=r,t._x=u,t._y=O,this.properties=t.properties,this.id=H},Au={geometry:{configurable:!0}};Au.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Au.geometry.set=function(t){this._geometry=t},Wh.prototype.toJSON=function(){var t={geometry:this.geometry};for(var r in this)"_geometry"!==r&&"_vectorTileFeature"!==r&&(t[r]=this[r]);return t},Object.defineProperties(Wh.prototype,Au);var Bl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Bl.prototype.updateState=function(t,r,u){var O=String(r);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][O]=this.stateChanges[t][O]||{},X(this.stateChanges[t][O],u),null===this.deletedStates[t])for(var H in this.deletedStates[t]={},this.state[t])H!==O&&(this.deletedStates[t][H]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][O])for(var q in this.deletedStates[t][O]={},this.state[t][O])u[q]||(this.deletedStates[t][O][q]=null);else for(var et in u)this.deletedStates[t]&&this.deletedStates[t][O]&&null===this.deletedStates[t][O][et]&&delete this.deletedStates[t][O][et]},Bl.prototype.removeFeatureState=function(t,r,u){if(null!==this.deletedStates[t]){var O=String(r);if(this.deletedStates[t]=this.deletedStates[t]||{},u&&void 0!==r)null!==this.deletedStates[t][O]&&(this.deletedStates[t][O]=this.deletedStates[t][O]||{},this.deletedStates[t][O][u]=null);else if(void 0!==r)if(this.stateChanges[t]&&this.stateChanges[t][O])for(u in this.deletedStates[t][O]={},this.stateChanges[t][O])this.deletedStates[t][O][u]=null;else this.deletedStates[t][O]=null;else this.deletedStates[t]=null}},Bl.prototype.getState=function(t,r){var u=String(r),O=X({},(this.state[t]||{})[u],(this.stateChanges[t]||{})[u]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var H=this.deletedStates[t][r];if(null===H)return{};for(var q in H)delete O[q]}return O},Bl.prototype.initializeTileState=function(t,r){t.setFeatureState(this.state,r)},Bl.prototype.coalesceChanges=function(t,r){var u={};for(var O in this.stateChanges){this.state[O]=this.state[O]||{};var H={};for(var q in this.stateChanges[O])this.state[O][q]||(this.state[O][q]={}),X(this.state[O][q],this.stateChanges[O][q]),H[q]=this.state[O][q];u[O]=H}for(var et in this.deletedStates){this.state[et]=this.state[et]||{};var ft={};if(null===this.deletedStates[et])for(var Mt in this.state[et])ft[Mt]={},this.state[et][Mt]={};else for(var It in this.deletedStates[et]){if(null===this.deletedStates[et][It])this.state[et][It]={};else for(var Vt=0,Yt=Object.keys(this.deletedStates[et][It]);Vt<Yt.length;Vt+=1)delete this.state[et][It][Yt[Vt]];ft[It]=this.state[et][It]}u[et]=u[et]||{},X(u[et],ft)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(u).length)for(var Qt in t)t[Qt].setFeatureState(u,r)};var Ga=function(t,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Or(8192,16,0),this.grid3D=new Or(8192,16,0),this.featureIndexArray=new Zt,this.promoteId=r};function Lc(t,r,u,O,H){return yt(t,function(q,et){var ft=r instanceof ua?r.get(et):null;return ft&&ft.evaluate?ft.evaluate(u,O,H):ft})}function Oc(t){for(var r=1/0,u=1/0,O=-1/0,H=-1/0,q=0,et=t;q<et.length;q+=1){var ft=et[q];r=Math.min(r,ft.x),u=Math.min(u,ft.y),O=Math.max(O,ft.x),H=Math.max(H,ft.y)}return{minX:r,minY:u,maxX:O,maxY:H}}function Sd(t,r){return r-t}Ga.prototype.insert=function(t,r,u,O,H,q){var et=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,O,H);for(var ft=q?this.grid3D:this.grid,Mt=0;Mt<r.length;Mt++){for(var It=r[Mt],Vt=[1/0,1/0,-1/0,-1/0],Yt=0;Yt<It.length;Yt++){var Qt=It[Yt];Vt[0]=Math.min(Vt[0],Qt.x),Vt[1]=Math.min(Vt[1],Qt.y),Vt[2]=Math.max(Vt[2],Qt.x),Vt[3]=Math.max(Vt[3],Qt.y)}Vt[0]<8192&&Vt[1]<8192&&Vt[2]>=0&&Vt[3]>=0&&ft.insert(et,Vt[0],Vt[1],Vt[2],Vt[3])}},Ga.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Al.VectorTile(new Oh(this.rawTileData)).layers,this.sourceLayerCoder=new Hh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ga.prototype.query=function(t,r,u,O){var H=this;this.loadVTLayers();for(var q=t.params||{},et=8192/t.tileSize/t.scale,ft=Wi(q.filter),Mt=t.queryGeometry,It=t.queryPadding*et,Vt=Oc(Mt),Yt=this.grid.query(Vt.minX-It,Vt.minY-It,Vt.maxX+It,Vt.maxY+It),Qt=Oc(t.cameraQueryGeometry),Te=0,Se=this.grid3D.query(Qt.minX-It,Qt.minY-It,Qt.maxX+It,Qt.maxY+It,function(bi,Pi,Ni,Qi){return function(hn,On,mn,Rn,gn){for(var br=0,Zn=hn;br<Zn.length;br+=1){var Cn=Zn[br];if(On<=Cn.x&&mn<=Cn.y&&Rn>=Cn.x&&gn>=Cn.y)return!0}var Cr=[new m(On,mn),new m(On,gn),new m(Rn,gn),new m(Rn,mn)];if(hn.length>2)for(var fr=0,Nr=Cr;fr<Nr.length;fr+=1)if(pa(hn,Nr[fr]))return!0;for(var Bn=0;Bn<hn.length-1;Bn++)if(cl(hn[Bn],hn[Bn+1],Cr))return!0;return!1}(t.cameraQueryGeometry,bi-It,Pi-It,Ni+It,Qi+It)});Te<Se.length;Te+=1)Yt.push(Se[Te]);Yt.sort(Sd);for(var Fe,ke={},$e=function(bi){var Pi=Yt[bi];if(Pi!==Fe){Fe=Pi;var Ni=H.featureIndexArray.get(Pi),Qi=null;H.loadMatchingFeature(ke,Ni.bucketIndex,Ni.sourceLayerIndex,Ni.featureIndex,ft,q.layers,q.availableImages,r,u,O,function(hn,On,mn){return Qi||(Qi=So(hn)),On.queryIntersectsFeature(Mt,hn,mn,Qi,H.z,t.transform,et,t.pixelPosMatrix)})}},ui=0;ui<Yt.length;ui++)$e(ui);return ke},Ga.prototype.loadMatchingFeature=function(t,r,u,O,H,q,et,ft,Mt,It,Vt){var Yt=this.bucketLayerIDs[r];if(!q||function(hn,On){for(var mn=0;mn<hn.length;mn++)if(On.indexOf(hn[mn])>=0)return!0;return!1}(q,Yt)){var Qt=this.sourceLayerCoder.decode(u),ae=this.vtLayers[Qt].feature(O);if(H.needGeometry){var Te=Oo(ae,!0);if(!H.filter(new Pr(this.tileID.overscaledZ),Te,this.tileID.canonical))return}else if(!H.filter(new Pr(this.tileID.overscaledZ),ae))return;for(var Se=this.getId(ae,Qt),Fe=0;Fe<Yt.length;Fe++){var ke=Yt[Fe];if(!(q&&q.indexOf(ke)<0)){var $e=ft[ke];if($e){var ui={};void 0!==Se&&It&&(ui=It.getState($e.sourceLayer||"_geojsonTileLayer",Se));var bi=X({},Mt[ke]);bi.paint=Lc(bi.paint,$e.paint,ae,ui,et),bi.layout=Lc(bi.layout,$e.layout,ae,ui,et);var Pi=!Vt||Vt(ae,$e,ui);if(Pi){var Ni=new Wh(ae,this.z,this.x,this.y,Se);Ni.layer=bi;var Qi=t[ke];void 0===Qi&&(Qi=t[ke]=[]),Qi.push({featureIndex:O,feature:Ni,intersectionZ:Pi})}}}}}},Ga.prototype.lookupSymbolFeatures=function(t,r,u,O,H,q,et,ft){var Mt={};this.loadVTLayers();for(var It=Wi(H),Vt=0,Yt=t;Vt<Yt.length;Vt+=1)this.loadMatchingFeature(Mt,u,O,Yt[Vt],It,q,et,ft,r);return Mt},Ga.prototype.hasLayer=function(t){for(var r=0,u=this.bucketLayerIDs;r<u.length;r+=1)for(var O=0,H=u[r];O<H.length;O+=1)if(t===H[O])return!0;return!1},Ga.prototype.getId=function(t,r){var u=t.id;return this.promoteId&&"boolean"==typeof(u=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[r]])&&(u=Number(u)),u},Ji("FeatureIndex",Ga,{omit:["rawTileData","sourceLayerCoder"]});var ls=function(t,r){this.tileID=t,this.uid=pt(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ls.prototype.registerFadeDuration=function(t){var r=t+this.timeAdded;r<ie.now()||this.fadeEndTime&&r<this.fadeEndTime||(this.fadeEndTime=r)},ls.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ls.prototype.loadVectorData=function(t,r,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var O in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(It,Vt){var Yt={};if(!Vt)return Yt;for(var Qt=function(){var Se=Te[ae],Fe=Se.layerIds.map(function(ui){return Vt.getLayer(ui)}).filter(Boolean);if(0!==Fe.length){Se.layers=Fe,Se.stateDependentLayerIds&&(Se.stateDependentLayers=Se.stateDependentLayerIds.map(function(ui){return Fe.filter(function(bi){return bi.id===ui})[0]}));for(var ke=0,$e=Fe;ke<$e.length;ke+=1)Yt[$e[ke].id]=Se}},ae=0,Te=It;ae<Te.length;ae+=1)Qt();return Yt}(t.buckets,r.style),this.hasSymbolBuckets=!1,this.buckets){var H=this.buckets[O];if(H instanceof lo){if(this.hasSymbolBuckets=!0,!u)break;H.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var q in this.buckets){var et=this.buckets[q];if(et instanceof lo&&et.hasRTLText){this.hasRTLText=!0,_s.isLoading()||_s.isLoaded()||"deferred"!==ol()||Qs();break}}for(var ft in this.queryPadding=0,this.buckets){var Mt=this.buckets[ft];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(ft).queryRadius(Mt))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new b},ls.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ls.prototype.getBucket=function(t){return this.buckets[t.id]},ls.prototype.upload=function(t){for(var r in this.buckets){var u=this.buckets[r];u.uploadPending()&&u.upload(t)}var O=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new fl(t,this.imageAtlas.image,O.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new fl(t,this.glyphAtlasImage,O.ALPHA),this.glyphAtlasImage=null)},ls.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},ls.prototype.queryRenderedFeatures=function(t,r,u,O,H,q,et,ft,Mt,It){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:O,cameraQueryGeometry:H,scale:q,tileSize:this.tileSize,pixelPosMatrix:It,transform:ft,params:et,queryPadding:this.queryPadding*Mt},t,r,u):{}},ls.prototype.querySourceFeatures=function(t,r){var u=this.latestFeatureIndex;if(u&&u.rawTileData){var O=u.loadVTLayers(),H=r?r.sourceLayer:"",q=O._geojsonTileLayer||O[H];if(q)for(var et=Wi(r&&r.filter),ft=this.tileID.canonical,Mt=ft.z,It=ft.x,Vt=ft.y,Yt={z:Mt,x:It,y:Vt},Qt=0;Qt<q.length;Qt++){var ae=q.feature(Qt);if(et.needGeometry){var Te=Oo(ae,!0);if(!et.filter(new Pr(this.tileID.overscaledZ),Te,this.tileID.canonical))continue}else if(!et.filter(new Pr(this.tileID.overscaledZ),ae))continue;var Se=u.getId(ae,H),Fe=new Wh(ae,Mt,It,Vt,Se);Fe.tile=Yt,t.push(Fe)}}},ls.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ls.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ls.prototype.setExpiryData=function(t){var r=this.expirationTime;if(t.cacheControl){var u=Tt(t.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var O=Date.now(),H=!1;if(this.expirationTime>O)H=!1;else if(r)if(this.expirationTime<r)H=!0;else{var q=this.expirationTime-r;q?this.expirationTime=O+Math.max(q,3e4):H=!0}else H=!0;H?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ls.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ls.prototype.setFeatureState=function(t,r){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var u=this.latestFeatureIndex.loadVTLayers();for(var O in this.buckets)if(r.style.hasLayer(O)){var H=this.buckets[O],q=H.layers[0].sourceLayer||"_geojsonTileLayer",et=u[q],ft=t[q];if(et&&ft&&0!==Object.keys(ft).length){H.update(ft,et,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Mt=r&&r.style&&r.style.getLayer(O);Mt&&(this.queryPadding=Math.max(this.queryPadding,Mt.queryRadius(H)))}}}},ls.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ls.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ie.now()},ls.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ls.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=ie.now()+t},ls.prototype.setDependencies=function(t,r){for(var u={},O=0,H=r;O<H.length;O+=1)u[H[O]]=!0;this.dependencies[t]=u},ls.prototype.hasDependency=function(t,r){for(var u=0,O=t;u<O.length;u+=1){var H=this.dependencies[O[u]];if(H)for(var q=0,et=r;q<et.length;q+=1)if(H[et[q]])return!0}return!1};var el=A.performance,Ic=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},el.mark(this._marks.start)};Ic.prototype.finish=function(){el.mark(this._marks.end);var t=el.getEntriesByName(this._marks.measure);return 0===t.length&&(el.measure(this._marks.measure,this._marks.start,this._marks.end),t=el.getEntriesByName(this._marks.measure),el.clearMarks(this._marks.start),el.clearMarks(this._marks.end),el.clearMeasures(this._marks.measure)),t},n.Actor=Rl,n.AlphaImage=dl,n.CanonicalTileID=gl,n.CollisionBoxArray=b,n.Color=zi,n.DEMData=Va,n.DataConstantProperty=Ln,n.DictionaryCoder=Hh,n.EXTENT=8192,n.ErrorEvent=Ut,n.EvaluationParameters=Pr,n.Event=Lt,n.Evented=re,n.FeatureIndex=Ga,n.FillBucket=va,n.FillExtrusionBucket=_a,n.ImageAtlas=uh,n.ImagePosition=Nh,n.LineBucket=Os,n.LngLat=xo,n.LngLatBounds=Xo,n.MercatorCoordinate=ml,n.ONE_EM=24,n.OverscaledTileID=Zo,n.Point=m,n.Point$1=m,n.Properties=Wo,n.Protobuf=Oh,n.RGBAImage=Vs,n.RequestManager=gi,n.RequestPerformance=Ic,n.ResourceType=ai,n.SegmentVector=de,n.SourceFeatureState=Bl,n.StructArrayLayout1ui2=eh,n.StructArrayLayout2f1f2i16=za,n.StructArrayLayout2i4=Ba,n.StructArrayLayout3ui6=Pa,n.StructArrayLayout4i8=Jl,n.SymbolBucket=lo,n.Texture=fl,n.Tile=ls,n.Transitionable=Ho,n.Uniform1f=on,n.Uniform1i=Gi,n.Uniform2f=rn,n.Uniform3f=vn,n.Uniform4f=Nn,n.UniformColor=jn,n.UniformMatrix4f=zr,n.UnwrappedTileID=Ec,n.ValidationError=oe,n.WritingMode=ia,n.ZoomHistory=os,n.add=function(t,r,u){return t[0]=r[0]+u[0],t[1]=r[1]+u[1],t[2]=r[2]+u[2],t},n.addDynamicAttributes=Tu,n.asyncAll=function(t,r,u){if(!t.length)return u(null,[]);var O=t.length,H=new Array(t.length),q=null;t.forEach(function(et,ft){r(et,function(Mt,It){Mt&&(q=Mt),H[ft]=It,0==--O&&u(q,H)})})},n.bezier=f,n.bindAll=K,n.browser=ie,n.cacheEntryPossiblyAdded=function(t){++Yi>qi&&(t.getActor().send("enforceCacheSizeLimit",Li),Yi=0)},n.clamp=R,n.clearTileCache=function(t){var r=A.caches.delete("mapbox-tiles");t&&r.catch(t).then(function(){return t()})},n.clipLine=mc,n.clone=function(t){var r=new Yr(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},n.clone$1=rt,n.clone$2=function(t){var r=new Yr(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},n.collisionCircleLayout=Hp,n.config=se,n.create=function(){var t=new Yr(16);return Yr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},n.create$1=function(){var t=new Yr(9);return Yr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},n.create$2=function(){var t=new Yr(4);return Yr!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},n.createCommonjsModule=D,n.createExpression=Ws,n.createLayout=jo,n.createStyleLayer=function(t){return"custom"===t.type?new wd(t):new Td[t.type](t)},n.cross=function(t,r,u){var O=r[0],H=r[1],q=r[2],et=u[0],ft=u[1],Mt=u[2];return t[0]=H*Mt-q*ft,t[1]=q*et-O*Mt,t[2]=O*ft-H*et,t},n.deepEqual=function t(r,u){if(Array.isArray(r)){if(!Array.isArray(u)||r.length!==u.length)return!1;for(var O=0;O<r.length;O++)if(!t(r[O],u[O]))return!1;return!0}if("object"==typeof r&&null!==r&&null!==u){if("object"!=typeof u||Object.keys(r).length!==Object.keys(u).length)return!1;for(var H in r)if(!t(r[H],u[H]))return!1;return!0}return r===u},n.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},n.dot$1=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},n.ease=o,n.emitValidationErrors=Ar,n.endsWith=gt,n.enforceCacheSizeLimit=function(t){cn(),St&&St.then(function(r){r.keys().then(function(u){for(var O=0;O<u.length-t;O++)r.delete(u[O])})})},n.evaluateSizeForFeature=hc,n.evaluateSizeForZoom=uc,n.evaluateVariableOffset=vc,n.evented=Ta,n.extend=X,n.featureFilter=Wi,n.filterObject=_t,n.fromRotation=function(t,r){var u=Math.sin(r),O=Math.cos(r);return t[0]=O,t[1]=u,t[2]=0,t[3]=-u,t[4]=O,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.getAnchorAlignment=_u,n.getAnchorJustification=wu,n.getArrayBuffer=ji,n.getImage=Q,n.getJSON=function(t,r){return _n(X(t,{type:"json"}),r)},n.getRTLTextPluginStatus=ol,n.getReferrer=Zi,n.getVideo=function(t,r){var u,O,H=A.document.createElement("video");H.muted=!0,H.onloadstart=function(){r(null,H)};for(var q=0;q<t.length;q++){var et=A.document.createElement("source");u=t[q],O=void 0,(O=A.document.createElement("a")).href=u,(O.protocol!==A.document.location.protocol||O.host!==A.document.location.host)&&(H.crossOrigin="Anonymous"),et.src=t[q],H.appendChild(et)}return{cancel:function(){}}},n.identity=Ks,n.invert=function(t,r){var u=r[0],O=r[1],H=r[2],q=r[3],et=r[4],ft=r[5],Mt=r[6],It=r[7],Vt=r[8],Yt=r[9],Qt=r[10],ae=r[11],Te=r[12],Se=r[13],Fe=r[14],ke=r[15],$e=u*ft-O*et,ui=u*Mt-H*et,bi=u*It-q*et,Pi=O*Mt-H*ft,Ni=O*It-q*ft,Qi=H*It-q*Mt,hn=Vt*Se-Yt*Te,On=Vt*Fe-Qt*Te,mn=Vt*ke-ae*Te,Rn=Yt*Fe-Qt*Se,gn=Yt*ke-ae*Se,br=Qt*ke-ae*Fe,Zn=$e*br-ui*gn+bi*Rn+Pi*mn-Ni*On+Qi*hn;return Zn?(t[0]=(ft*br-Mt*gn+It*Rn)*(Zn=1/Zn),t[1]=(H*gn-O*br-q*Rn)*Zn,t[2]=(Se*Qi-Fe*Ni+ke*Pi)*Zn,t[3]=(Qt*Ni-Yt*Qi-ae*Pi)*Zn,t[4]=(Mt*mn-et*br-It*On)*Zn,t[5]=(u*br-H*mn+q*On)*Zn,t[6]=(Fe*bi-Te*Qi-ke*ui)*Zn,t[7]=(Vt*Qi-Qt*bi+ae*ui)*Zn,t[8]=(et*gn-ft*mn+It*hn)*Zn,t[9]=(O*mn-u*gn-q*hn)*Zn,t[10]=(Te*Ni-Se*bi+ke*$e)*Zn,t[11]=(Yt*bi-Vt*Ni-ae*$e)*Zn,t[12]=(ft*On-et*Rn-Mt*hn)*Zn,t[13]=(u*Rn-O*On+H*hn)*Zn,t[14]=(Se*ui-Te*Pi-Fe*$e)*Zn,t[15]=(Vt*Pi-Yt*ui+Qt*$e)*Zn,t):null},n.isChar=$i,n.isMapboxURL=pi,n.keysDifference=function(t,r){var u=[];for(var O in t)O in r||u.push(O);return u},n.makeRequest=_n,n.mapObject=yt,n.mercatorXfromLng=Mc,n.mercatorYfromLat=kc,n.mercatorZfromAltitude=Dc,n.mul=au,n.multiply=Ls,n.mvt=Al,n.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},n.normalize=function(t,r){var u=r[0],O=r[1],H=r[2],q=u*u+O*O+H*H;return q>0&&(q=1/Math.sqrt(q)),t[0]=r[0]*q,t[1]=r[1]*q,t[2]=r[2]*q,t},n.number=fn,n.offscreenCanvasSupported=ei,n.ortho=function(t,r,u,O,H,q,et){var ft=1/(r-u),Mt=1/(O-H),It=1/(q-et);return t[0]=-2*ft,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*Mt,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*It,t[11]=0,t[12]=(r+u)*ft,t[13]=(H+O)*Mt,t[14]=(et+q)*It,t[15]=1,t},n.parseGlyphPBF=function(t){return new Oh(t).readFields(ed,[])},n.pbf=Oh,n.performSymbolLayout=function(t,r,u,O,H,q,et){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var ft=t.layers[0].layout,Mt=t.layers[0]._unevaluatedLayout._values,It={};if("composite"===t.textSizeData.kind){var Vt=t.textSizeData,Yt=Vt.maxZoom;It.compositeTextSizes=[Mt["text-size"].possiblyEvaluate(new Pr(Vt.minZoom),et),Mt["text-size"].possiblyEvaluate(new Pr(Yt),et)]}if("composite"===t.iconSizeData.kind){var Qt=t.iconSizeData,ae=Qt.maxZoom;It.compositeIconSizes=[Mt["icon-size"].possiblyEvaluate(new Pr(Qt.minZoom),et),Mt["icon-size"].possiblyEvaluate(new Pr(ae),et)]}It.layoutTextSize=Mt["text-size"].possiblyEvaluate(new Pr(t.zoom+1),et),It.layoutIconSize=Mt["icon-size"].possiblyEvaluate(new Pr(t.zoom+1),et),It.textMaxSize=Mt["text-size"].possiblyEvaluate(new Pr(18));for(var Te=24*ft.get("text-line-height"),Se="map"===ft.get("text-rotation-alignment")&&"point"!==ft.get("symbol-placement"),Fe=ft.get("text-keep-upright"),ke=ft.get("text-size"),$e=function(){var Pi=bi[ui],Ni=ft.get("text-font").evaluate(Pi,{},et).join(","),Qi=ke.evaluate(Pi,{},et),hn=It.layoutTextSize.evaluate(Pi,{},et),On=It.layoutIconSize.evaluate(Pi,{},et),mn={horizontal:{},vertical:void 0},Rn=Pi.text,gn=[0,0];if(Rn){var br=Rn.toString(),Zn=24*ft.get("text-letter-spacing").evaluate(Pi,{},et),Cn=function(Mr){for(var co=0,eo=Mr;co<eo.length;co+=1)if(Fr=eo[co].charCodeAt(0),$i.Arabic(Fr)||$i["Arabic Supplement"](Fr)||$i["Arabic Extended-A"](Fr)||$i["Arabic Presentation Forms-A"](Fr)||$i["Arabic Presentation Forms-B"](Fr))return!1;var Fr;return!0}(br)?Zn:0,Cr=ft.get("text-anchor").evaluate(Pi,{},et),fr=ft.get("text-variable-anchor");if(!fr){var Nr=ft.get("text-radial-offset").evaluate(Pi,{},et);gn=Nr?vc(Cr,[24*Nr,bu]):ft.get("text-offset").evaluate(Pi,{},et).map(function(Mr){return 24*Mr})}var Bn=Se?"center":ft.get("text-justify").evaluate(Pi,{},et),Gr=ft.get("symbol-placement"),bo="point"===Gr?24*ft.get("text-max-width").evaluate(Pi,{},et):0,ko=function(){t.allowVerticalPlacement&&Bs(br)&&(mn.vertical=Rh(Rn,r,u,H,Ni,bo,Te,Cr,"left",Cn,gn,ia.vertical,!0,Gr,hn,Qi))};if(!Se&&fr){for(var Po="auto"===Bn?fr.map(function(Mr){return wu(Mr)}):[Bn],wo=!1,Do=0;Do<Po.length;Do++){var Qo=Po[Do];if(!mn.horizontal[Qo])if(wo)mn.horizontal[Qo]=mn.horizontal[0];else{var ts=Rh(Rn,r,u,H,Ni,bo,Te,"center",Qo,Cn,gn,ia.horizontal,!1,Gr,hn,Qi);ts&&(mn.horizontal[Qo]=ts,wo=1===ts.positionedLines.length)}}ko()}else{"auto"===Bn&&(Bn=wu(Cr));var As=Rh(Rn,r,u,H,Ni,bo,Te,Cr,Bn,Cn,gn,ia.horizontal,!1,Gr,hn,Qi);As&&(mn.horizontal[Bn]=As),ko(),Bs(br)&&Se&&Fe&&(mn.vertical=Rh(Rn,r,u,H,Ni,bo,Te,Cr,Bn,Cn,gn,ia.vertical,!1,Gr,hn,Qi))}}var Mr,co,Fr,Is,bs,hs=void 0,Ms=!1;if(Pi.icon&&Pi.icon.name){var Io=O[Pi.icon.name];Io&&(Mr=H[Pi.icon.name],co=ft.get("icon-offset").evaluate(Pi,{},et),Fr=_u(ft.get("icon-anchor").evaluate(Pi,{},et)),hs={image:Mr,top:bs=co[1]-Mr.displaySize[1]*Fr.verticalAlign,bottom:bs+Mr.displaySize[1],left:Is=co[0]-Mr.displaySize[0]*Fr.horizontalAlign,right:Is+Mr.displaySize[0]},Ms=Io.sdf,void 0===t.sdfIcons?t.sdfIcons=Io.sdf:t.sdfIcons!==Io.sdf&&at("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Io.pixelRatio!==t.pixelRatio||0!==ft.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var us=xc(mn.horizontal)||mn.vertical;t.iconsInText=!!us&&us.iconsInText,(us||hs)&&function(Mr,co,eo,Fr,Is,bs,yo,Uo,ws,Hr,Ea){var na=bs.textMaxSize.evaluate(co,{});void 0===na&&(na=yo);var La,No=Mr.layers[0].layout,Oa=No.get("icon-offset").evaluate(co,{},Ea),fa=xc(eo.horizontal),zl=yo/24,yl=Mr.tilePixelRatio*zl,Fl=Mr.tilePixelRatio*na/24,Ha=Mr.tilePixelRatio*Uo,jl=Mr.tilePixelRatio*No.get("symbol-spacing"),Yh=No.get("text-padding")*Mr.tilePixelRatio,Ul=No.get("icon-padding")*Mr.tilePixelRatio,dh=No.get("text-max-angle")/180*Math.PI,Xh="map"===No.get("text-rotation-alignment")&&"point"!==No.get("symbol-placement"),Zh="map"===No.get("icon-rotation-alignment")&&"point"!==No.get("symbol-placement"),Wa=No.get("symbol-placement"),fh=jl/2,Vl=No.get("icon-text-fit");Fr&&"none"!==Vl&&(Mr.allowVerticalPlacement&&eo.vertical&&(La=lc(Fr,eo.vertical,Vl,No.get("icon-text-fit-padding"),Oa,zl)),fa&&(Fr=lc(Fr,fa,Vl,No.get("icon-text-fit-padding"),Oa,zl)));var il=function(Pd,wh){wh.x<0||wh.x>=8192||wh.y<0||wh.y>=8192||function(Ro,xa,Cd,nl,Eu,Bc,tu,Ia,eu,Th,iu,nu,Lu,zc,Sh,Fc,jc,Uc,Vc,Gc,ra,ru,Hc,Na,Ad){var Wc,_l,Xl,Zl,ql,Kl=Ro.addToLineVertexArray(xa,Cd),Yc=0,Xc=0,Zc=0,qc=0,Ou=-1,Iu=-1,Ya={},Kc=we(""),Nu=0,Ru=0;if(void 0===Ia._unevaluatedLayout.getValue("text-radial-offset")?(Nu=(Wc=Ia.layout.get("text-offset").evaluate(ra,{},Na).map(function(Ch){return 24*Ch}))[0],Ru=Wc[1]):(Nu=24*Ia.layout.get("text-radial-offset").evaluate(ra,{},Na),Ru=bu),Ro.allowVerticalPlacement&&nl.vertical){var Jc=Ia.layout.get("text-rotate").evaluate(ra,{},Na)+90;Zl=new Uh(eu,xa,Th,iu,nu,nl.vertical,Lu,zc,Sh,Jc),tu&&(ql=new Uh(eu,xa,Th,iu,nu,tu,jc,Uc,Sh,Jc))}if(Eu){var Bu=Ia.layout.get("icon-rotate").evaluate(ra,{}),$c="none"!==Ia.layout.get("icon-text-fit"),Qc=gc(Eu,Bu,Hc,$c),zu=tu?gc(tu,Bu,Hc,$c):void 0;Xl=new Uh(eu,xa,Th,iu,nu,Eu,jc,Uc,!1,Bu),Yc=4*Qc.length;var tp=Ro.iconSizeData,Ph=null;"source"===tp.kind?(Ph=[128*Ia.layout.get("icon-size").evaluate(ra,{})])[0]>32640&&at(Ro.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===tp.kind&&((Ph=[128*ru.compositeIconSizes[0].evaluate(ra,{},Na),128*ru.compositeIconSizes[1].evaluate(ra,{},Na)])[0]>32640||Ph[1]>32640)&&at(Ro.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Ro.addSymbols(Ro.icon,Qc,Ph,Gc,Vc,ra,!1,xa,Kl.lineStartIndex,Kl.lineLength,-1,Na),Ou=Ro.icon.placedSymbolArray.length-1,zu&&(Xc=4*zu.length,Ro.addSymbols(Ro.icon,zu,Ph,Gc,Vc,ra,ia.vertical,xa,Kl.lineStartIndex,Kl.lineLength,-1,Na),Iu=Ro.icon.placedSymbolArray.length-1)}for(var ep in nl.horizontal){var ou=nl.horizontal[ep];if(!_l){Kc=we(ou.text);var Md=Ia.layout.get("text-rotate").evaluate(ra,{},Na);_l=new Uh(eu,xa,Th,iu,nu,ou,Lu,zc,Sh,Md)}var ip=1===ou.positionedLines.length;if(Zc+=_c(Ro,xa,ou,Bc,Ia,Sh,ra,Fc,Kl,nl.vertical?ia.horizontal:ia.horizontalOnly,ip?Object.keys(nl.horizontal):[ep],Ya,Ou,ru,Na),ip)break}nl.vertical&&(qc+=_c(Ro,xa,nl.vertical,Bc,Ia,Sh,ra,Fc,Kl,ia.vertical,["vertical"],Ya,Iu,ru,Na));var kd=_l?_l.boxStartIndex:Ro.collisionBoxArray.length,Dd=_l?_l.boxEndIndex:Ro.collisionBoxArray.length,Ed=Zl?Zl.boxStartIndex:Ro.collisionBoxArray.length,Ld=Zl?Zl.boxEndIndex:Ro.collisionBoxArray.length,Od=Xl?Xl.boxStartIndex:Ro.collisionBoxArray.length,Id=Xl?Xl.boxEndIndex:Ro.collisionBoxArray.length,Nd=ql?ql.boxStartIndex:Ro.collisionBoxArray.length,Rd=ql?ql.boxEndIndex:Ro.collisionBoxArray.length,Ra=-1,su=function(Ch,rp){return Ch&&Ch.circleDiameter?Math.max(Ch.circleDiameter,rp):rp};Ra=su(_l,Ra),Ra=su(Zl,Ra),Ra=su(Xl,Ra);var np=(Ra=su(ql,Ra))>-1?1:0;np&&(Ra*=Ad/24),Ro.glyphOffsetArray.length>=lo.MAX_GLYPHS&&at("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==ra.sortKey&&Ro.addToSortKeyRanges(Ro.symbolInstances.length,ra.sortKey),Ro.symbolInstances.emplaceBack(xa.x,xa.y,Ya.right>=0?Ya.right:-1,Ya.center>=0?Ya.center:-1,Ya.left>=0?Ya.left:-1,Ya.vertical||-1,Ou,Iu,Kc,kd,Dd,Ed,Ld,Od,Id,Nd,Rd,Th,Zc,qc,Yc,Xc,np,0,Lu,Nu,Ru,Ra)}(Mr,wh,Pd,eo,Fr,Is,La,Mr.layers[0],Mr.collisionBoxArray,co.index,co.sourceLayerIndex,Mr.index,yl,Yh,Xh,ws,Ha,Ul,Zh,Oa,co,bs,Hr,Ea,yo)};if("line"===Wa)for(var Gl=0,qh=mc(co.geometry,0,0,8192,8192);Gl<qh.length;Gl+=1)for(var Kh=qh[Gl],mh=0,gh=ld(Kh,jl,dh,eo.vertical||fa,Fr,24,Fl,Mr.overscaling,8192);mh<gh.length;mh+=1){var Jh=gh[mh];fa&&pd(Mr,fa.text,fh,Jh)||il(Kh,Jh)}else if("line-center"===Wa)for(var yh=0,vh=co.geometry;yh<vh.length;yh+=1){var _h=vh[yh];if(_h.length>1){var $h=ad(_h,dh,eo.vertical||fa,Fr,24,Fl);$h&&il(_h,$h)}}else if("Polygon"===co.type)for(var Hl=0,Qh=fu(co.geometry,0);Hl<Qh.length;Hl+=1){var Wl=Qh[Hl],xh=ud(Wl,16);il(Wl[0],new El(xh.x,xh.y,0))}else if("LineString"===co.type)for(var vl=0,bh=co.geometry;vl<bh.length;vl+=1){var Yl=bh[vl];il(Yl,new El(Yl[0].x,Yl[0].y,0))}else if("Point"===co.type)for(var Mu=0,Nc=co.geometry;Mu<Nc.length;Mu+=1)for(var ku=0,Rc=Nc[Mu];ku<Rc.length;ku+=1){var Du=Rc[ku];il([Du],new El(Du.x,Du.y,0))}}(t,Pi,mn,hs,O,It,hn,On,gn,Ms,et)},ui=0,bi=t.features;ui<bi.length;ui+=1)$e();q&&t.generateCollisionDebugBuffers()},n.perspective=function(t,r,u,O,H){var q,et=1/Math.tan(r/2);return t[0]=et/u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=et,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=H&&H!==1/0?(t[10]=(H+O)*(q=1/(O-H)),t[14]=2*H*O*q):(t[10]=-1,t[14]=-2*O),t},n.pick=function(t,r){for(var u={},O=0;O<r.length;O++){var H=r[O];H in t&&(u[H]=t[H])}return u},n.plugin=_s,n.polygonIntersectsPolygon=Ma,n.postMapLoadEvent=Fi,n.postTurnstileEvent=Ae,n.potpack=rc,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.register=Ji,n.registerForPluginStateChange=function(t){return t({pluginStatus:Lo,pluginURL:zs}),Ta.on("pluginStateChange",t),t},n.renderColorRamp=Fu,n.rotate=function(t,r,u){var O=r[0],H=r[1],q=r[2],et=r[3],ft=Math.sin(u),Mt=Math.cos(u);return t[0]=O*Mt+q*ft,t[1]=H*Mt+et*ft,t[2]=O*-ft+q*Mt,t[3]=H*-ft+et*Mt,t},n.rotateX=function(t,r,u){var O=Math.sin(u),H=Math.cos(u),q=r[4],et=r[5],ft=r[6],Mt=r[7],It=r[8],Vt=r[9],Yt=r[10],Qt=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=q*H+It*O,t[5]=et*H+Vt*O,t[6]=ft*H+Yt*O,t[7]=Mt*H+Qt*O,t[8]=It*H-q*O,t[9]=Vt*H-et*O,t[10]=Yt*H-ft*O,t[11]=Qt*H-Mt*O,t},n.rotateZ=function(t,r,u){var O=Math.sin(u),H=Math.cos(u),q=r[0],et=r[1],ft=r[2],Mt=r[3],It=r[4],Vt=r[5],Yt=r[6],Qt=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=q*H+It*O,t[1]=et*H+Vt*O,t[2]=ft*H+Yt*O,t[3]=Mt*H+Qt*O,t[4]=It*H-q*O,t[5]=Vt*H-et*O,t[6]=Yt*H-ft*O,t[7]=Qt*H-Mt*O,t},n.scale=function(t,r,u){var O=u[0],H=u[1],q=u[2];return t[0]=r[0]*O,t[1]=r[1]*O,t[2]=r[2]*O,t[3]=r[3]*O,t[4]=r[4]*H,t[5]=r[5]*H,t[6]=r[6]*H,t[7]=r[7]*H,t[8]=r[8]*q,t[9]=r[9]*q,t[10]=r[10]*q,t[11]=r[11]*q,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},n.scale$1=function(t,r,u){return t[0]=r[0]*u,t[1]=r[1]*u,t[2]=r[2]*u,t[3]=r[3]*u,t},n.scale$2=function(t,r,u){return t[0]=r[0]*u,t[1]=r[1]*u,t[2]=r[2]*u,t},n.setCacheLimits=function(t,r){Li=t,qi=r},n.setRTLTextPlugin=function(t,r,u){if(void 0===u&&(u=!1),"deferred"===Lo||"loading"===Lo||"loaded"===Lo)throw new Error("setRTLTextPlugin cannot be called multiple times.");zs=ie.resolveURL(t),Lo="deferred",vs=r,wa(),u||Qs()},n.sphericalToCartesian=function(t){var r=t[0],u=t[1],O=t[2];return u+=90,u*=Math.PI/180,O*=Math.PI/180,{x:r*Math.cos(u)*Math.sin(O),y:r*Math.sin(u)*Math.sin(O),z:r*Math.cos(O)}},n.sqrLen=function(t){var r=t[0],u=t[1];return r*r+u*u},n.styleSpec=Xt,n.sub=function(t,r,u){return t[0]=r[0]-u[0],t[1]=r[1]-u[1],t[2]=r[2]-u[2],t},n.symbolSize=sd,n.transformMat3=function(t,r,u){var O=r[0],H=r[1],q=r[2];return t[0]=O*u[0]+H*u[3]+q*u[6],t[1]=O*u[1]+H*u[4]+q*u[7],t[2]=O*u[2]+H*u[5]+q*u[8],t},n.transformMat4=Tl,n.translate=function(t,r,u){var O,H,q,et,ft,Mt,It,Vt,Yt,Qt,ae,Te,Se=u[0],Fe=u[1],ke=u[2];return r===t?(t[12]=r[0]*Se+r[4]*Fe+r[8]*ke+r[12],t[13]=r[1]*Se+r[5]*Fe+r[9]*ke+r[13],t[14]=r[2]*Se+r[6]*Fe+r[10]*ke+r[14],t[15]=r[3]*Se+r[7]*Fe+r[11]*ke+r[15]):(H=r[1],q=r[2],et=r[3],ft=r[4],Mt=r[5],It=r[6],Vt=r[7],Yt=r[8],Qt=r[9],ae=r[10],Te=r[11],t[0]=O=r[0],t[1]=H,t[2]=q,t[3]=et,t[4]=ft,t[5]=Mt,t[6]=It,t[7]=Vt,t[8]=Yt,t[9]=Qt,t[10]=ae,t[11]=Te,t[12]=O*Se+ft*Fe+Yt*ke+r[12],t[13]=H*Se+Mt*Fe+Qt*ke+r[13],t[14]=q*Se+It*Fe+ae*ke+r[14],t[15]=et*Se+Vt*Fe+Te*ke+r[15]),t},n.triggerPluginCompletionEvent=rl,n.uniqueId=pt,n.validateCustomStyleLayer=function(t){var r=[],u=t.id;return void 0===u&&r.push({message:"layers."+u+': missing required property "id"'}),void 0===t.render&&r.push({message:"layers."+u+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&r.push({message:"layers."+u+': property "renderingMode" must be either "2d" or "3d"'}),r},n.validateLight=Sr,n.validateStyle=ur,n.values=function(t){var r=[];for(var u in t)r.push(t[u]);return r},n.vectorTile=Al,n.version="1.13.1",n.warnOnce=at,n.webpSupported=ce,n.window=A,n.wrap=U}),h(0,function(n){function D(Z){var Q=typeof Z;if("number"===Q||"boolean"===Q||"string"===Q||null==Z)return JSON.stringify(Z);if(Array.isArray(Z)){for(var ht="[",xt=0,Lt=Z;xt<Lt.length;xt+=1)ht+=D(Lt[xt])+",";return ht+"]"}for(var Ut=Object.keys(Z).sort(),re="{",Xt=0;Xt<Ut.length;Xt++)re+=JSON.stringify(Ut[Xt])+":"+D(Z[Ut[Xt]])+",";return re+"}"}function P(Z){for(var Q="",ht=0,xt=n.refProperties;ht<xt.length;ht+=1)Q+="/"+D(Z[xt[ht]]);return Q}var E=function(Z){this.keyCache={},Z&&this.replace(Z)};E.prototype.replace=function(Z){this._layerConfigs={},this._layers={},this.update(Z,[])},E.prototype.update=function(Z,Q){for(var ht=this,xt=0,Lt=Z;xt<Lt.length;xt+=1){var Ut=Lt[xt];this._layerConfigs[Ut.id]=Ut;var re=this._layers[Ut.id]=n.createStyleLayer(Ut);re._featureFilter=n.featureFilter(re.filter),this.keyCache[Ut.id]&&delete this.keyCache[Ut.id]}for(var Xt=0,oe=Q;Xt<oe.length;Xt+=1){var Le=oe[Xt];delete this.keyCache[Le],delete this._layerConfigs[Le],delete this._layers[Le]}this.familiesBySource={};for(var Oe=0,Qe=function(ki,oi){for(var an={},Ii=0;Ii<ki.length;Ii++){var Pn=oi&&oi[ki[Ii].id]||P(ki[Ii]);oi&&(oi[ki[Ii].id]=Pn);var yn=an[Pn];yn||(yn=an[Pn]=[]),yn.push(ki[Ii])}var bn=[];for(var En in an)bn.push(an[En]);return bn}(n.values(this._layerConfigs),this.keyCache);Oe<Qe.length;Oe+=1){var ue=Qe[Oe].map(function(ki){return ht._layers[ki.id]}),Ye=ue[0];if("none"!==Ye.visibility){var De=Ye.source||"",di=this.familiesBySource[De];di||(di=this.familiesBySource[De]={});var Xe=Ye.sourceLayer||"_geojsonTileLayer",Oi=di[Xe];Oi||(Oi=di[Xe]=[]),Oi.push(ue)}}};var m=function(Z){var Q={},ht=[];for(var xt in Z){var Lt=Z[xt],Ut=Q[xt]={};for(var re in Lt){var Xt=Lt[+re];if(Xt&&0!==Xt.bitmap.width&&0!==Xt.bitmap.height){var oe={x:0,y:0,w:Xt.bitmap.width+2,h:Xt.bitmap.height+2};ht.push(oe),Ut[re]={rect:oe,metrics:Xt.metrics}}}}var Le=n.potpack(ht),Oe=new n.AlphaImage({width:Le.w||1,height:Le.h||1});for(var Qe in Z){var ue=Z[Qe];for(var Ye in ue){var De=ue[+Ye];if(De&&0!==De.bitmap.width&&0!==De.bitmap.height){var di=Q[Qe][Ye].rect;n.AlphaImage.copy(De.bitmap,Oe,{x:0,y:0},{x:di.x+1,y:di.y+1},De.bitmap)}}}this.image=Oe,this.positions=Q};n.register("GlyphAtlas",m);var C=function(Z){this.tileID=new n.OverscaledTileID(Z.tileID.overscaledZ,Z.tileID.wrap,Z.tileID.canonical.z,Z.tileID.canonical.x,Z.tileID.canonical.y),this.uid=Z.uid,this.zoom=Z.zoom,this.pixelRatio=Z.pixelRatio,this.tileSize=Z.tileSize,this.source=Z.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Z.showCollisionBoxes,this.collectResourceTiming=!!Z.collectResourceTiming,this.returnDependencies=!!Z.returnDependencies,this.promoteId=Z.promoteId};function A(Z,Q,ht){for(var xt=new n.EvaluationParameters(Q),Lt=0,Ut=Z;Lt<Ut.length;Lt+=1)Ut[Lt].recalculate(xt,ht)}function k(Z,Q){var ht=n.getArrayBuffer(Z.request,function(xt,Lt,Ut,re){xt?Q(xt):Lt&&Q(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(Lt)),rawData:Lt,cacheControl:Ut,expires:re})});return function(){ht.cancel(),Q()}}C.prototype.parse=function(Z,Q,ht,xt,Lt){var Ut=this;this.status="parsing",this.data=Z,this.collisionBoxArray=new n.CollisionBoxArray;var re=new n.DictionaryCoder(Object.keys(Z.layers).sort()),Xt=new n.FeatureIndex(this.tileID,this.promoteId);Xt.bucketLayerIDs=[];var oe,Le,Oe,Qe,ue={},Ye={featureIndex:Xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ht},De=Q.familiesBySource[this.source];for(var di in De){var Xe=Z.layers[di];if(Xe){1===Xe.version&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+di+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Oi=re.encode(di),ki=[],oi=0;oi<Xe.length;oi++){var an=Xe.feature(oi),Ii=Xt.getId(an,di);ki.push({feature:an,id:Ii,index:oi,sourceLayerIndex:Oi})}for(var Pn=0,yn=De[di];Pn<yn.length;Pn+=1){var bn=yn[Pn],En=bn[0];En.minzoom&&this.zoom<Math.floor(En.minzoom)||En.maxzoom&&this.zoom>=En.maxzoom||"none"!==En.visibility&&(A(bn,this.zoom,ht),(ue[En.id]=En.createBucket({index:Xt.bucketLayerIDs.length,layers:bn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Oi,sourceID:this.source})).populate(ki,Ye,this.tileID.canonical),Xt.bucketLayerIDs.push(bn.map(function(In){return In.id})))}}}var kn=n.mapObject(Ye.glyphDependencies,function(In){return Object.keys(In).map(Number)});Object.keys(kn).length?xt.send("getGlyphs",{uid:this.uid,stacks:kn},function(In,An){oe||(oe=In,Le=An,Yn.call(Ut))}):Le={};var Qn=Object.keys(Ye.iconDependencies);Qn.length?xt.send("getImages",{icons:Qn,source:this.source,tileID:this.tileID,type:"icons"},function(In,An){oe||(oe=In,Oe=An,Yn.call(Ut))}):Oe={};var wn=Object.keys(Ye.patternDependencies);function Yn(){if(oe)return Lt(oe);if(Le&&Oe&&Qe){var In=new m(Le),An=new n.ImageAtlas(Oe,Qe);for(var zi in ue){var Xn=ue[zi];Xn instanceof n.SymbolBucket?(A(Xn.layers,this.zoom,ht),n.performSymbolLayout(Xn,Le,In.positions,Oe,An.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Xn.hasPattern&&(Xn instanceof n.LineBucket||Xn instanceof n.FillBucket||Xn instanceof n.FillExtrusionBucket)&&(A(Xn.layers,this.zoom,ht),Xn.addFeatures(Ye,this.tileID.canonical,An.patternPositions))}this.status="done",Lt(null,{buckets:n.values(ue).filter(function(Lr){return!Lr.isEmpty()}),featureIndex:Xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:In.image,imageAtlas:An,glyphMap:this.returnDependencies?Le:null,iconMap:this.returnDependencies?Oe:null,glyphPositions:this.returnDependencies?In.positions:null})}}wn.length?xt.send("getImages",{icons:wn,source:this.source,tileID:this.tileID,type:"patterns"},function(In,An){oe||(oe=In,Qe=An,Yn.call(Ut))}):Qe={},Yn.call(this)};var f=function(Z,Q,ht,xt){this.actor=Z,this.layerIndex=Q,this.availableImages=ht,this.loadVectorData=xt||k,this.loading={},this.loaded={}};f.prototype.loadTile=function(Z,Q){var ht=this,xt=Z.uid;this.loading||(this.loading={});var Lt=!!(Z&&Z.request&&Z.request.collectResourceTiming)&&new n.RequestPerformance(Z.request),Ut=this.loading[xt]=new C(Z);Ut.abort=this.loadVectorData(Z,function(re,Xt){if(delete ht.loading[xt],re||!Xt)return Ut.status="done",ht.loaded[xt]=Ut,Q(re);var oe=Xt.rawData,Le={};Xt.expires&&(Le.expires=Xt.expires),Xt.cacheControl&&(Le.cacheControl=Xt.cacheControl);var Oe={};if(Lt){var Qe=Lt.finish();Qe&&(Oe.resourceTiming=JSON.parse(JSON.stringify(Qe)))}Ut.vectorTile=Xt.vectorTile,Ut.parse(Xt.vectorTile,ht.layerIndex,ht.availableImages,ht.actor,function(ue,Ye){if(ue||!Ye)return Q(ue);Q(null,n.extend({rawTileData:oe.slice(0)},Ye,Le,Oe))}),ht.loaded=ht.loaded||{},ht.loaded[xt]=Ut})},f.prototype.reloadTile=function(Z,Q){var ht=this,xt=this.loaded,Lt=Z.uid,Ut=this;if(xt&&xt[Lt]){var re=xt[Lt];re.showCollisionBoxes=Z.showCollisionBoxes;var Xt=function(oe,Le){var Oe=re.reloadCallback;Oe&&(delete re.reloadCallback,re.parse(re.vectorTile,Ut.layerIndex,ht.availableImages,Ut.actor,Oe)),Q(oe,Le)};"parsing"===re.status?re.reloadCallback=Xt:"done"===re.status&&(re.vectorTile?re.parse(re.vectorTile,this.layerIndex,this.availableImages,this.actor,Xt):Xt())}},f.prototype.abortTile=function(Z,Q){var ht=this.loading,xt=Z.uid;ht&&ht[xt]&&ht[xt].abort&&(ht[xt].abort(),delete ht[xt]),Q()},f.prototype.removeTile=function(Z,Q){var ht=this.loaded,xt=Z.uid;ht&&ht[xt]&&delete ht[xt],Q()};var o=n.window.ImageBitmap,R=function(){this.loaded={}};function U(Z,Q){if(0!==Z.length){X(Z[0],Q);for(var ht=1;ht<Z.length;ht++)X(Z[ht],!Q)}}function X(Z,Q){for(var ht=0,xt=0,Lt=Z.length,Ut=Lt-1;xt<Lt;Ut=xt++)ht+=(Z[xt][0]-Z[Ut][0])*(Z[Ut][1]+Z[xt][1]);ht>=0!=!!Q&&Z.reverse()}R.prototype.loadTile=function(Z,Q){var ht=Z.uid,xt=Z.encoding,Lt=Z.rawImageData,Ut=o&&Lt instanceof o?this.getImageData(Lt):Lt,re=new n.DEMData(ht,Ut,xt);this.loaded=this.loaded||{},this.loaded[ht]=re,Q(null,re)},R.prototype.getImageData=function(Z){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Z.width,Z.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Z.width,this.offscreenCanvas.height=Z.height,this.offscreenCanvasContext.drawImage(Z,0,0,Z.width,Z.height);var Q=this.offscreenCanvasContext.getImageData(-1,-1,Z.width+2,Z.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:Q.width,height:Q.height},Q.data)},R.prototype.removeTile=function(Z){var Q=this.loaded,ht=Z.uid;Q&&Q[ht]&&delete Q[ht]};var tt=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,pt=function(Z){this._feature=Z,this.extent=n.EXTENT,this.type=Z.type,this.properties=Z.tags,"id"in Z&&!isNaN(Z.id)&&(this.id=parseInt(Z.id,10))};pt.prototype.loadGeometry=function(){if(1===this._feature.type){for(var Z=[],Q=0,ht=this._feature.geometry;Q<ht.length;Q+=1){var xt=ht[Q];Z.push([new n.Point$1(xt[0],xt[1])])}return Z}for(var Lt=[],Ut=0,re=this._feature.geometry;Ut<re.length;Ut+=1){for(var Xt=[],oe=0,Le=re[Ut];oe<Le.length;oe+=1){var Oe=Le[oe];Xt.push(new n.Point$1(Oe[0],Oe[1]))}Lt.push(Xt)}return Lt},pt.prototype.toGeoJSON=function(Z,Q,ht){return tt.call(this,Z,Q,ht)};var ot=function(Z){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=Z.length,this._features=Z};ot.prototype.feature=function(Z){return new pt(this._features[Z])};var W=n.vectorTile.VectorTileFeature,K=gt;function gt(Z,Q){this.options=Q||{},this.features=Z,this.length=Z.length}function yt(Z,Q){this.id="number"==typeof Z.id?Z.id:void 0,this.type=Z.type,this.rawGeometry=1===Z.type?[Z.geometry]:Z.geometry,this.properties=Z.tags,this.extent=Q||4096}gt.prototype.feature=function(Z){return new yt(this.features[Z],this.options.extent)},yt.prototype.loadGeometry=function(){var Z=this.rawGeometry;this.geometry=[];for(var Q=0;Q<Z.length;Q++){for(var ht=Z[Q],xt=[],Lt=0;Lt<ht.length;Lt++)xt.push(new n.Point$1(ht[Lt][0],ht[Lt][1]));this.geometry.push(xt)}return this.geometry},yt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Z=this.geometry,Q=1/0,ht=-1/0,xt=1/0,Lt=-1/0,Ut=0;Ut<Z.length;Ut++)for(var re=Z[Ut],Xt=0;Xt<re.length;Xt++){var oe=re[Xt];Q=Math.min(Q,oe.x),ht=Math.max(ht,oe.x),xt=Math.min(xt,oe.y),Lt=Math.max(Lt,oe.y)}return[Q,xt,ht,Lt]},yt.prototype.toGeoJSON=W.prototype.toGeoJSON;var _t=ut,rt=K;function ut(Z){var Q=new n.pbf;return function(ht,xt){for(var Lt in ht.layers)xt.writeMessage(3,at,ht.layers[Lt])}(Z,Q),Q.finish()}function at(Z,Q){var ht;Q.writeVarintField(15,Z.version||1),Q.writeStringField(1,Z.name||""),Q.writeVarintField(5,Z.extent||4096);var xt={keys:[],values:[],keycache:{},valuecache:{}};for(ht=0;ht<Z.length;ht++)xt.feature=Z.feature(ht),Q.writeMessage(2,Ct,xt);var Lt=xt.keys;for(ht=0;ht<Lt.length;ht++)Q.writeStringField(3,Lt[ht]);var Ut=xt.values;for(ht=0;ht<Ut.length;ht++)Q.writeMessage(4,Ft,Ut[ht])}function Ct(Z,Q){var ht=Z.feature;void 0!==ht.id&&Q.writeVarintField(1,ht.id),Q.writeMessage(2,vt,Z),Q.writeVarintField(3,ht.type),Q.writeMessage(4,kt,ht)}function vt(Z,Q){var ht=Z.feature,xt=Z.keys,Lt=Z.values,Ut=Z.keycache,re=Z.valuecache;for(var Xt in ht.properties){var oe=Ut[Xt];void 0===oe&&(xt.push(Xt),Ut[Xt]=oe=xt.length-1),Q.writeVarint(oe);var Le=ht.properties[Xt],Oe=typeof Le;"string"!==Oe&&"boolean"!==Oe&&"number"!==Oe&&(Le=JSON.stringify(Le));var Qe=Oe+":"+Le,ue=re[Qe];void 0===ue&&(Lt.push(Le),re[Qe]=ue=Lt.length-1),Q.writeVarint(ue)}}function ct(Z,Q){return(Q<<3)+(7&Z)}function Tt(Z){return Z<<1^Z>>31}function kt(Z,Q){for(var ht=Z.loadGeometry(),xt=Z.type,Lt=0,Ut=0,re=ht.length,Xt=0;Xt<re;Xt++){var oe=ht[Xt],Le=1;1===xt&&(Le=oe.length),Q.writeVarint(ct(1,Le));for(var Oe=3===xt?oe.length-1:oe.length,Qe=0;Qe<Oe;Qe++){1===Qe&&1!==xt&&Q.writeVarint(ct(2,Oe-1));var ue=oe[Qe].x-Lt,Ye=oe[Qe].y-Ut;Q.writeVarint(Tt(ue)),Q.writeVarint(Tt(Ye)),Lt+=ue,Ut+=Ye}3===xt&&Q.writeVarint(ct(7,1))}}function Ft(Z,Q){var ht=typeof Z;"string"===ht?Q.writeStringField(1,Z):"boolean"===ht?Q.writeBooleanField(7,Z):"number"===ht&&(Z%1!=0?Q.writeDoubleField(3,Z):Z<0?Q.writeSVarintField(6,Z):Q.writeVarintField(5,Z))}function Ot(Z,Q,ht,xt){jt(Z,ht,xt),jt(Q,2*ht,2*xt),jt(Q,2*ht+1,2*xt+1)}function jt(Z,Q,ht){var xt=Z[Q];Z[Q]=Z[ht],Z[ht]=xt}function $t(Z,Q,ht,xt){var Lt=Z-ht,Ut=Q-xt;return Lt*Lt+Ut*Ut}_t.fromVectorTileJs=ut,_t.fromGeojsonVt=function(Z,Q){Q=Q||{};var ht={};for(var xt in Z)ht[xt]=new K(Z[xt].features,Q),ht[xt].name=xt,ht[xt].version=Q.version,ht[xt].extent=Q.extent;return ut({layers:ht})},_t.GeoJSONWrapper=rt;var Wt=function(Z){return Z[0]},ne=function(Z){return Z[1]},Jt=function(Z,Q,ht,xt,Lt){void 0===Q&&(Q=Wt),void 0===ht&&(ht=ne),void 0===xt&&(xt=64),void 0===Lt&&(Lt=Float64Array),this.nodeSize=xt,this.points=Z;for(var Ut=Z.length<65536?Uint16Array:Uint32Array,re=this.ids=new Ut(Z.length),Xt=this.coords=new Lt(2*Z.length),oe=0;oe<Z.length;oe++)re[oe]=oe,Xt[2*oe]=Q(Z[oe]),Xt[2*oe+1]=ht(Z[oe]);!function Le(Oe,Qe,ue,Ye,De,di){if(!(De-Ye<=ue)){var Xe=Ye+De>>1;(function Oi(ki,oi,an,Ii,Pn,yn){for(;Pn>Ii;){if(Pn-Ii>600){var bn=Pn-Ii+1,En=an-Ii+1,kn=Math.log(bn),Qn=.5*Math.exp(2*kn/3),wn=.5*Math.sqrt(kn*Qn*(bn-Qn)/bn)*(En-bn/2<0?-1:1);Oi(ki,oi,an,Math.max(Ii,Math.floor(an-En*Qn/bn+wn)),Math.min(Pn,Math.floor(an+(bn-En)*Qn/bn+wn)),yn)}var Yn=oi[2*an+yn],In=Ii,An=Pn;for(Ot(ki,oi,Ii,an),oi[2*Pn+yn]>Yn&&Ot(ki,oi,Ii,Pn);In<An;){for(Ot(ki,oi,In,An),In++,An--;oi[2*In+yn]<Yn;)In++;for(;oi[2*An+yn]>Yn;)An--}oi[2*Ii+yn]===Yn?Ot(ki,oi,Ii,An):Ot(ki,oi,++An,Pn),An<=an&&(Ii=An+1),an<=An&&(Pn=An-1)}})(Oe,Qe,Xe,Ye,De,di%2),Le(Oe,Qe,ue,Ye,Xe-1,di+1),Le(Oe,Qe,ue,Xe+1,De,di+1)}}(re,Xt,xt,0,re.length-1,0)};Jt.prototype.range=function(Z,Q,ht,xt){return function(Lt,Ut,re,Xt,oe,Le,Oe){for(var Qe,ue,Ye=[0,Lt.length-1,0],De=[];Ye.length;){var di=Ye.pop(),Xe=Ye.pop(),Oi=Ye.pop();if(Xe-Oi<=Oe)for(var ki=Oi;ki<=Xe;ki++)ue=Ut[2*ki+1],(Qe=Ut[2*ki])>=re&&Qe<=oe&&ue>=Xt&&ue<=Le&&De.push(Lt[ki]);else{var oi=Math.floor((Oi+Xe)/2);ue=Ut[2*oi+1],(Qe=Ut[2*oi])>=re&&Qe<=oe&&ue>=Xt&&ue<=Le&&De.push(Lt[oi]);var an=(di+1)%2;(0===di?re<=Qe:Xt<=ue)&&(Ye.push(Oi),Ye.push(oi-1),Ye.push(an)),(0===di?oe>=Qe:Le>=ue)&&(Ye.push(oi+1),Ye.push(Xe),Ye.push(an))}}return De}(this.ids,this.coords,Z,Q,ht,xt,this.nodeSize)},Jt.prototype.within=function(Z,Q,ht){return function(xt,Lt,Ut,re,Xt,oe){for(var Le=[0,xt.length-1,0],Oe=[],Qe=Xt*Xt;Le.length;){var ue=Le.pop(),Ye=Le.pop(),De=Le.pop();if(Ye-De<=oe)for(var di=De;di<=Ye;di++)$t(Lt[2*di],Lt[2*di+1],Ut,re)<=Qe&&Oe.push(xt[di]);else{var Xe=Math.floor((De+Ye)/2),Oi=Lt[2*Xe],ki=Lt[2*Xe+1];$t(Oi,ki,Ut,re)<=Qe&&Oe.push(xt[Xe]);var oi=(ue+1)%2;(0===ue?Ut-Xt<=Oi:re-Xt<=ki)&&(Le.push(De),Le.push(Xe-1),Le.push(oi)),(0===ue?Ut+Xt>=Oi:re+Xt>=ki)&&(Le.push(Xe+1),Le.push(Ye),Le.push(oi))}}return Oe}(this.ids,this.coords,Z,Q,ht,this.nodeSize)};var Nt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Z){return Z}},Rt=function(Z){this.options=Ai(Object.create(Nt),Z),this.trees=new Array(this.options.maxZoom+1)};function ie(Z,Q,ht,xt,Lt){return{x:Z,y:Q,zoom:1/0,id:ht,parentId:-1,numPoints:xt,properties:Lt}}function se(Z,Q){var ht=Z.geometry.coordinates,xt=ht[1];return{x:Ie(ht[0]),y:Ve(xt),zoom:1/0,index:Q,parentId:-1}}function ce(Z){return{type:"Feature",id:Z.id,properties:te(Z),geometry:{type:"Point",coordinates:[(xt=Z.x,360*(xt-.5)),(Q=Z.y,ht=(180-360*Q)*Math.PI/180,360*Math.atan(Math.exp(ht))/Math.PI-90)]}};var Q,ht,xt}function te(Z){var Q=Z.numPoints,ht=Q>=1e4?Math.round(Q/1e3)+"k":Q>=1e3?Math.round(Q/100)/10+"k":Q;return Ai(Ai({},Z.properties),{cluster:!0,cluster_id:Z.id,point_count:Q,point_count_abbreviated:ht})}function Ie(Z){return Z/360+.5}function Ve(Z){var Q=Math.sin(Z*Math.PI/180),ht=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI;return ht<0?0:ht>1?1:ht}function Ai(Z,Q){for(var ht in Q)Z[ht]=Q[ht];return Z}function gi(Z){return Z.x}function pi(Z){return Z.y}function Ri(Z,Q,ht,xt,Lt,Ut){var re=Lt-ht,Xt=Ut-xt;if(0!==re||0!==Xt){var oe=((Z-ht)*re+(Q-xt)*Xt)/(re*re+Xt*Xt);oe>1?(ht=Lt,xt=Ut):oe>0&&(ht+=re*oe,xt+=Xt*oe)}return(re=Z-ht)*re+(Xt=Q-xt)*Xt}function ti(Z,Q,ht,xt){var Lt={id:void 0===Z?null:Z,type:Q,geometry:ht,tags:xt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ut){var re=Ut.geometry,Xt=Ut.type;if("Point"===Xt||"MultiPoint"===Xt||"LineString"===Xt)Ti(Ut,re);else if("Polygon"===Xt||"MultiLineString"===Xt)for(var oe=0;oe<re.length;oe++)Ti(Ut,re[oe]);else if("MultiPolygon"===Xt)for(oe=0;oe<re.length;oe++)for(var Le=0;Le<re[oe].length;Le++)Ti(Ut,re[oe][Le])}(Lt),Lt}function Ti(Z,Q){for(var ht=0;ht<Q.length;ht+=3)Z.minX=Math.min(Z.minX,Q[ht]),Z.minY=Math.min(Z.minY,Q[ht+1]),Z.maxX=Math.max(Z.maxX,Q[ht]),Z.maxY=Math.max(Z.maxY,Q[ht+1])}function xi(Z,Q,ht,xt){if(Q.geometry){var Lt=Q.geometry.coordinates,Ut=Q.geometry.type,re=Math.pow(ht.tolerance/((1<<ht.maxZoom)*ht.extent),2),Xt=[],oe=Q.id;if(ht.promoteId?oe=Q.properties[ht.promoteId]:ht.generateId&&(oe=xt||0),"Point"===Ut)be(Lt,Xt);else if("MultiPoint"===Ut)for(var Le=0;Le<Lt.length;Le++)be(Lt[Le],Xt);else if("LineString"===Ut)ii(Lt,Xt,re,!1);else if("MultiLineString"===Ut){if(ht.lineMetrics){for(Le=0;Le<Lt.length;Le++)ii(Lt[Le],Xt=[],re,!1),Z.push(ti(oe,"LineString",Xt,Q.properties));return}nt(Lt,Xt,re,!1)}else if("Polygon"===Ut)nt(Lt,Xt,re,!0);else{if("MultiPolygon"!==Ut){if("GeometryCollection"===Ut){for(Le=0;Le<Q.geometry.geometries.length;Le++)xi(Z,{id:oe,geometry:Q.geometry.geometries[Le],properties:Q.properties},ht,xt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Le=0;Le<Lt.length;Le++){var Oe=[];nt(Lt[Le],Oe,re,!0),Xt.push(Oe)}}Z.push(ti(oe,Ut,Xt,Q.properties))}}function be(Z,Q){Q.push(St(Z[0])),Q.push(Gt(Z[1])),Q.push(0)}function ii(Z,Q,ht,xt){for(var Lt,Ut,re=0,Xt=0;Xt<Z.length;Xt++){var oe=St(Z[Xt][0]),Le=Gt(Z[Xt][1]);Q.push(oe),Q.push(Le),Q.push(0),Xt>0&&(re+=xt?(Lt*Le-oe*Ut)/2:Math.sqrt(Math.pow(oe-Lt,2)+Math.pow(Le-Ut,2))),Lt=oe,Ut=Le}var Oe=Q.length-3;Q[2]=1,function Qe(ue,Ye,De,di){for(var Xe,Oi=di,ki=De-Ye>>1,oi=De-Ye,an=ue[Ye],Ii=ue[Ye+1],Pn=ue[De],yn=ue[De+1],bn=Ye+3;bn<De;bn+=3){var En=Ri(ue[bn],ue[bn+1],an,Ii,Pn,yn);if(En>Oi)Xe=bn,Oi=En;else if(En===Oi){var kn=Math.abs(bn-ki);kn<oi&&(Xe=bn,oi=kn)}}Oi>di&&(Xe-Ye>3&&Qe(ue,Ye,Xe,di),ue[Xe+2]=Oi,De-Xe>3&&Qe(ue,Xe,De,di))}(Q,0,Oe,ht),Q[Oe+2]=1,Q.size=Math.abs(re),Q.start=0,Q.end=Q.size}function nt(Z,Q,ht,xt){for(var Lt=0;Lt<Z.length;Lt++){var Ut=[];ii(Z[Lt],Ut,ht,xt),Q.push(Ut)}}function St(Z){return Z/360+.5}function Gt(Z){var Q=Math.sin(Z*Math.PI/180),ht=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI;return ht<0?0:ht>1?1:ht}function ee(Z,Q,ht,xt,Lt,Ut,re,Xt){if(xt/=Q,Ut>=(ht/=Q)&&re<xt)return Z;if(re<ht||Ut>=xt)return null;for(var oe=[],Le=0;Le<Z.length;Le++){var Oe=Z[Le],Qe=Oe.geometry,ue=Oe.type,Ye=0===Lt?Oe.minX:Oe.minY,De=0===Lt?Oe.maxX:Oe.maxY;if(Ye>=ht&&De<xt)oe.push(Oe);else if(!(De<ht||Ye>=xt)){var di=[];if("Point"===ue||"MultiPoint"===ue)ge(Qe,di,ht,xt,Lt);else if("LineString"===ue)Ae(Qe,di,ht,xt,Lt,!1,Xt.lineMetrics);else if("MultiLineString"===ue)Fi(Qe,di,ht,xt,Lt,!1);else if("Polygon"===ue)Fi(Qe,di,ht,xt,Lt,!0);else if("MultiPolygon"===ue)for(var Xe=0;Xe<Qe.length;Xe++){var Oi=[];Fi(Qe[Xe],Oi,ht,xt,Lt,!0),Oi.length&&di.push(Oi)}if(di.length){if(Xt.lineMetrics&&"LineString"===ue){for(Xe=0;Xe<di.length;Xe++)oe.push(ti(Oe.id,ue,di[Xe],Oe.tags));continue}"LineString"!==ue&&"MultiLineString"!==ue||(1===di.length?(ue="LineString",di=di[0]):ue="MultiLineString"),"Point"!==ue&&"MultiPoint"!==ue||(ue=3===di.length?"Point":"MultiPoint"),oe.push(ti(Oe.id,ue,di,Oe.tags))}}}return oe.length?oe:null}function ge(Z,Q,ht,xt,Lt){for(var Ut=0;Ut<Z.length;Ut+=3){var re=Z[Ut+Lt];re>=ht&&re<=xt&&(Q.push(Z[Ut]),Q.push(Z[Ut+1]),Q.push(Z[Ut+2]))}}function Ae(Z,Q,ht,xt,Lt,Ut,re){for(var Xt,oe,Le=yi(Z),Oe=0===Lt?qi:cn,Qe=Z.start,ue=0;ue<Z.length-3;ue+=3){var Ye=Z[ue],De=Z[ue+1],di=Z[ue+2],Xe=Z[ue+3],Oi=Z[ue+4],ki=0===Lt?Ye:De,oi=0===Lt?Xe:Oi,an=!1;re&&(Xt=Math.sqrt(Math.pow(Ye-Xe,2)+Math.pow(De-Oi,2))),ki<ht?oi>ht&&(oe=Oe(Le,Ye,De,Xe,Oi,ht),re&&(Le.start=Qe+Xt*oe)):ki>xt?oi<xt&&(oe=Oe(Le,Ye,De,Xe,Oi,xt),re&&(Le.start=Qe+Xt*oe)):Li(Le,Ye,De,di),oi<ht&&ki>=ht&&(oe=Oe(Le,Ye,De,Xe,Oi,ht),an=!0),oi>xt&&ki<=xt&&(oe=Oe(Le,Ye,De,Xe,Oi,xt),an=!0),!Ut&&an&&(re&&(Le.end=Qe+Xt*oe),Q.push(Le),Le=yi(Z)),re&&(Qe+=Xt)}var Ii=Z.length-3;Ye=Z[Ii],De=Z[Ii+1],di=Z[Ii+2],(ki=0===Lt?Ye:De)>=ht&&ki<=xt&&Li(Le,Ye,De,di),Ii=Le.length-3,Ut&&Ii>=3&&(Le[Ii]!==Le[0]||Le[Ii+1]!==Le[1])&&Li(Le,Le[0],Le[1],Le[2]),Le.length&&Q.push(Le)}function yi(Z){var Q=[];return Q.size=Z.size,Q.start=Z.start,Q.end=Z.end,Q}function Fi(Z,Q,ht,xt,Lt,Ut){for(var re=0;re<Z.length;re++)Ae(Z[re],Q,ht,xt,Lt,Ut,!1)}function Li(Z,Q,ht,xt){Z.push(Q),Z.push(ht),Z.push(xt)}function qi(Z,Q,ht,xt,Lt,Ut){var re=(Ut-Q)/(xt-Q);return Z.push(Ut),Z.push(ht+(Lt-ht)*re),Z.push(1),re}function cn(Z,Q,ht,xt,Lt,Ut){var re=(Ut-ht)/(Lt-ht);return Z.push(Q+(xt-Q)*re),Z.push(Ut),Z.push(1),re}function Fn(Z,Q){for(var ht=[],xt=0;xt<Z.length;xt++){var Lt,Ut=Z[xt],re=Ut.type;if("Point"===re||"MultiPoint"===re||"LineString"===re)Lt=Gn(Ut.geometry,Q);else if("MultiLineString"===re||"Polygon"===re){Lt=[];for(var Xt=0;Xt<Ut.geometry.length;Xt++)Lt.push(Gn(Ut.geometry[Xt],Q))}else if("MultiPolygon"===re)for(Lt=[],Xt=0;Xt<Ut.geometry.length;Xt++){for(var oe=[],Le=0;Le<Ut.geometry[Xt].length;Le++)oe.push(Gn(Ut.geometry[Xt][Le],Q));Lt.push(oe)}ht.push(ti(Ut.id,re,Lt,Ut.tags))}return ht}function Gn(Z,Q){var ht=[];ht.size=Z.size,void 0!==Z.start&&(ht.start=Z.start,ht.end=Z.end);for(var xt=0;xt<Z.length;xt+=3)ht.push(Z[xt]+Q,Z[xt+1],Z[xt+2]);return ht}function Yi(Z,Q){if(Z.transformed)return Z;var ht,xt,Lt,Ut=1<<Z.z,re=Z.x,Xt=Z.y;for(ht=0;ht<Z.features.length;ht++){var oe=Z.features[ht],Le=oe.geometry,Oe=oe.type;if(oe.geometry=[],1===Oe)for(xt=0;xt<Le.length;xt+=2)oe.geometry.push(ei(Le[xt],Le[xt+1],Q,Ut,re,Xt));else for(xt=0;xt<Le.length;xt++){var Qe=[];for(Lt=0;Lt<Le[xt].length;Lt+=2)Qe.push(ei(Le[xt][Lt],Le[xt][Lt+1],Q,Ut,re,Xt));oe.geometry.push(Qe)}}return Z.transformed=!0,Z}function ei(Z,Q,ht,xt,Lt,Ut){return[Math.round(ht*(Z*xt-Lt)),Math.round(ht*(Q*xt-Ut))]}function ai(Z,Q,ht,xt,Lt){for(var Ut=Q===Lt.maxZoom?0:Lt.tolerance/((1<<Q)*Lt.extent),re={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ht,y:xt,z:Q,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Xt=0;Xt<Z.length;Xt++){re.numFeatures++,li(re,Z[Xt],Ut,Lt);var oe=Z[Xt].minX,Le=Z[Xt].minY,Oe=Z[Xt].maxX,Qe=Z[Xt].maxY;oe<re.minX&&(re.minX=oe),Le<re.minY&&(re.minY=Le),Oe>re.maxX&&(re.maxX=Oe),Qe>re.maxY&&(re.maxY=Qe)}return re}function li(Z,Q,ht,xt){var Lt=Q.geometry,Ut=Q.type,re=[];if("Point"===Ut||"MultiPoint"===Ut)for(var Xt=0;Xt<Lt.length;Xt+=3)re.push(Lt[Xt]),re.push(Lt[Xt+1]),Z.numPoints++,Z.numSimplified++;else if("LineString"===Ut)Xi(re,Lt,Z,ht,!1,!1);else if("MultiLineString"===Ut||"Polygon"===Ut)for(Xt=0;Xt<Lt.length;Xt++)Xi(re,Lt[Xt],Z,ht,"Polygon"===Ut,0===Xt);else if("MultiPolygon"===Ut)for(var oe=0;oe<Lt.length;oe++){var Le=Lt[oe];for(Xt=0;Xt<Le.length;Xt++)Xi(re,Le[Xt],Z,ht,!0,0===Xt)}if(re.length){var Oe=Q.tags||null;if("LineString"===Ut&&xt.lineMetrics){for(var Qe in Oe={},Q.tags)Oe[Qe]=Q.tags[Qe];Oe.mapbox_clip_start=Lt.start/Lt.size,Oe.mapbox_clip_end=Lt.end/Lt.size}var ue={geometry:re,type:"Polygon"===Ut||"MultiPolygon"===Ut?3:"LineString"===Ut||"MultiLineString"===Ut?2:1,tags:Oe};null!==Q.id&&(ue.id=Q.id),Z.features.push(ue)}}function Xi(Z,Q,ht,xt,Lt,Ut){var re=xt*xt;if(xt>0&&Q.size<(Lt?re:xt))ht.numPoints+=Q.length/3;else{for(var Xt=[],oe=0;oe<Q.length;oe+=3)(0===xt||Q[oe+2]>re)&&(ht.numSimplified++,Xt.push(Q[oe]),Xt.push(Q[oe+1])),ht.numPoints++;Lt&&function(Le,Oe){for(var Qe=0,ue=0,Ye=Le.length,De=Ye-2;ue<Ye;De=ue,ue+=2)Qe+=(Le[ue]-Le[De])*(Le[ue+1]+Le[De+1]);if(Qe>0===Oe)for(ue=0,Ye=Le.length;ue<Ye/2;ue+=2){var di=Le[ue],Xe=Le[ue+1];Le[ue]=Le[Ye-2-ue],Le[ue+1]=Le[Ye-1-ue],Le[Ye-2-ue]=di,Le[Ye-1-ue]=Xe}}(Xt,Ut),Z.push(Xt)}}function tn(Z,Q){var ht=(Q=this.options=function(Lt,Ut){for(var re in Ut)Lt[re]=Ut[re];return Lt}(Object.create(this.options),Q)).debug;if(ht&&console.time("preprocess data"),Q.maxZoom<0||Q.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Q.promoteId&&Q.generateId)throw new Error("promoteId and generateId cannot be used together.");var Lt,Ut,re,Xt,oe,Le,xt=function(Lt,Ut){var re=[];if("FeatureCollection"===Lt.type)for(var Xt=0;Xt<Lt.features.length;Xt++)xi(re,Lt.features[Xt],Ut,Xt);else xi(re,"Feature"===Lt.type?Lt:{geometry:Lt},Ut);return re}(Z,Q);this.tiles={},this.tileCoords=[],ht&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Q.indexMaxZoom,Q.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Lt=xt,Ut=Q,re=Ut.buffer/Ut.extent,Xt=Lt,oe=ee(Lt,1,-1-re,re,0,-1,2,Ut),Le=ee(Lt,1,1-re,2+re,0,-1,2,Ut),(oe||Le)&&(Xt=ee(Lt,1,-re,1+re,0,-1,2,Ut)||[],oe&&(Xt=Fn(oe,1).concat(Xt)),Le&&(Xt=Xt.concat(Fn(Le,-1)))),xt=Xt).length&&this.splitTile(xt,0,0,0),ht&&(xt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Zi(Z,Q,ht){return 32*((1<<Z)*ht+Q)+Z}function _n(Z,Q){var ht=Z.tileID.canonical;if(!this._geoJSONIndex)return Q(null,null);var xt=this._geoJSONIndex.getTile(ht.z,ht.x,ht.y);if(!xt)return Q(null,null);var Lt=new ot(xt.features),Ut=_t(Lt);0===Ut.byteOffset&&Ut.byteLength===Ut.buffer.byteLength||(Ut=new Uint8Array(Ut)),Q(null,{vectorTile:Lt,rawData:Ut.buffer})}Rt.prototype.load=function(Z){var Q=this.options,ht=Q.log,xt=Q.minZoom,Lt=Q.maxZoom,Ut=Q.nodeSize;ht&&console.time("total time");var re="prepare "+Z.length+" points";ht&&console.time(re),this.points=Z;for(var Xt=[],oe=0;oe<Z.length;oe++)Z[oe].geometry&&Xt.push(se(Z[oe],oe));this.trees[Lt+1]=new Jt(Xt,gi,pi,Ut,Float32Array),ht&&console.timeEnd(re);for(var Le=Lt;Le>=xt;Le--){var Oe=+Date.now();Xt=this._cluster(Xt,Le),this.trees[Le]=new Jt(Xt,gi,pi,Ut,Float32Array),ht&&console.log("z%d: %d clusters in %dms",Le,Xt.length,+Date.now()-Oe)}return ht&&console.timeEnd("total time"),this},Rt.prototype.getClusters=function(Z,Q){var ht=((Z[0]+180)%360+360)%360-180,xt=Math.max(-90,Math.min(90,Z[1])),Lt=180===Z[2]?180:((Z[2]+180)%360+360)%360-180,Ut=Math.max(-90,Math.min(90,Z[3]));if(Z[2]-Z[0]>=360)ht=-180,Lt=180;else if(ht>Lt){var re=this.getClusters([ht,xt,180,Ut],Q),Xt=this.getClusters([-180,xt,Lt,Ut],Q);return re.concat(Xt)}for(var oe=this.trees[this._limitZoom(Q)],Le=[],Oe=0,Qe=oe.range(Ie(ht),Ve(Ut),Ie(Lt),Ve(xt));Oe<Qe.length;Oe+=1){var ue=oe.points[Qe[Oe]];Le.push(ue.numPoints?ce(ue):this.points[ue.index])}return Le},Rt.prototype.getChildren=function(Z){var Q=this._getOriginId(Z),ht=this._getOriginZoom(Z),xt="No cluster with the specified id.",Lt=this.trees[ht];if(!Lt)throw new Error(xt);var Ut=Lt.points[Q];if(!Ut)throw new Error(xt);for(var re=this.options.radius/(this.options.extent*Math.pow(2,ht-1)),Xt=[],oe=0,Le=Lt.within(Ut.x,Ut.y,re);oe<Le.length;oe+=1){var Oe=Lt.points[Le[oe]];Oe.parentId===Z&&Xt.push(Oe.numPoints?ce(Oe):this.points[Oe.index])}if(0===Xt.length)throw new Error(xt);return Xt},Rt.prototype.getLeaves=function(Z,Q,ht){var xt=[];return this._appendLeaves(xt,Z,Q=Q||10,ht=ht||0,0),xt},Rt.prototype.getTile=function(Z,Q,ht){var xt=this.trees[this._limitZoom(Z)],Lt=Math.pow(2,Z),Ut=this.options,re=Ut.radius/Ut.extent,Xt=(ht-re)/Lt,oe=(ht+1+re)/Lt,Le={features:[]};return this._addTileFeatures(xt.range((Q-re)/Lt,Xt,(Q+1+re)/Lt,oe),xt.points,Q,ht,Lt,Le),0===Q&&this._addTileFeatures(xt.range(1-re/Lt,Xt,1,oe),xt.points,Lt,ht,Lt,Le),Q===Lt-1&&this._addTileFeatures(xt.range(0,Xt,re/Lt,oe),xt.points,-1,ht,Lt,Le),Le.features.length?Le:null},Rt.prototype.getClusterExpansionZoom=function(Z){for(var Q=this._getOriginZoom(Z)-1;Q<=this.options.maxZoom;){var ht=this.getChildren(Z);if(Q++,1!==ht.length)break;Z=ht[0].properties.cluster_id}return Q},Rt.prototype._appendLeaves=function(Z,Q,ht,xt,Lt){for(var Ut=0,re=this.getChildren(Q);Ut<re.length;Ut+=1){var Xt=re[Ut],oe=Xt.properties;if(oe&&oe.cluster?Lt+oe.point_count<=xt?Lt+=oe.point_count:Lt=this._appendLeaves(Z,oe.cluster_id,ht,xt,Lt):Lt<xt?Lt++:Z.push(Xt),Z.length===ht)break}return Lt},Rt.prototype._addTileFeatures=function(Z,Q,ht,xt,Lt,Ut){for(var re=0,Xt=Z;re<Xt.length;re+=1){var oe=Q[Xt[re]],Le=oe.numPoints,Oe={type:1,geometry:[[Math.round(this.options.extent*(oe.x*Lt-ht)),Math.round(this.options.extent*(oe.y*Lt-xt))]],tags:Le?te(oe):this.points[oe.index].properties},Qe=void 0;Le?Qe=oe.id:this.options.generateId?Qe=oe.index:this.points[oe.index].id&&(Qe=this.points[oe.index].id),void 0!==Qe&&(Oe.id=Qe),Ut.features.push(Oe)}},Rt.prototype._limitZoom=function(Z){return Math.max(this.options.minZoom,Math.min(+Z,this.options.maxZoom+1))},Rt.prototype._cluster=function(Z,Q){for(var ht=[],xt=this.options,Lt=xt.reduce,Ut=xt.minPoints,re=xt.radius/(xt.extent*Math.pow(2,Q)),Xt=0;Xt<Z.length;Xt++){var oe=Z[Xt];if(!(oe.zoom<=Q)){oe.zoom=Q;for(var Le=this.trees[Q+1],Oe=Le.within(oe.x,oe.y,re),Qe=oe.numPoints||1,ue=Qe,Ye=0,De=Oe;Ye<De.length;Ye+=1){var di=Le.points[De[Ye]];di.zoom>Q&&(ue+=di.numPoints||1)}if(ue>=Ut){for(var Xe=oe.x*Qe,Oi=oe.y*Qe,ki=Lt&&Qe>1?this._map(oe,!0):null,oi=(Xt<<5)+(Q+1)+this.points.length,an=0,Ii=Oe;an<Ii.length;an+=1){var Pn=Le.points[Ii[an]];if(!(Pn.zoom<=Q)){Pn.zoom=Q;var yn=Pn.numPoints||1;Xe+=Pn.x*yn,Oi+=Pn.y*yn,Pn.parentId=oi,Lt&&(ki||(ki=this._map(oe,!0)),Lt(ki,this._map(Pn)))}}oe.parentId=oi,ht.push(ie(Xe/ue,Oi/ue,oi,ue,ki))}else if(ht.push(oe),ue>1)for(var bn=0,En=Oe;bn<En.length;bn+=1){var kn=Le.points[En[bn]];kn.zoom<=Q||(kn.zoom=Q,ht.push(kn))}}}return ht},Rt.prototype._getOriginId=function(Z){return Z-this.points.length>>5},Rt.prototype._getOriginZoom=function(Z){return(Z-this.points.length)%32},Rt.prototype._map=function(Z,Q){if(Z.numPoints)return Q?Ai({},Z.properties):Z.properties;var ht=this.points[Z.index].properties,xt=this.options.map(ht);return Q&&xt===ht?Ai({},xt):xt},tn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},tn.prototype.splitTile=function(Z,Q,ht,xt,Lt,Ut,re){for(var Xt=[Z,Q,ht,xt],oe=this.options,Le=oe.debug;Xt.length;){xt=Xt.pop(),ht=Xt.pop(),Q=Xt.pop(),Z=Xt.pop();var Oe=1<<Q,Qe=Zi(Q,ht,xt),ue=this.tiles[Qe];if(!ue&&(Le>1&&console.time("creation"),ue=this.tiles[Qe]=ai(Z,Q,ht,xt,oe),this.tileCoords.push({z:Q,x:ht,y:xt}),Le)){Le>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Q,ht,xt,ue.numFeatures,ue.numPoints,ue.numSimplified),console.timeEnd("creation"));var Ye="z"+Q;this.stats[Ye]=(this.stats[Ye]||0)+1,this.total++}if(ue.source=Z,Lt){if(Q===oe.maxZoom||Q===Lt)continue;var De=1<<Lt-Q;if(ht!==Math.floor(Ut/De)||xt!==Math.floor(re/De))continue}else if(Q===oe.indexMaxZoom||ue.numPoints<=oe.indexMaxPoints)continue;if(ue.source=null,0!==Z.length){Le>1&&console.time("clipping");var di,Xe,Oi,ki,oi,an,Ii=.5*oe.buffer/oe.extent,Pn=.5-Ii,yn=.5+Ii,bn=1+Ii;di=Xe=Oi=ki=null,oi=ee(Z,Oe,ht-Ii,ht+yn,0,ue.minX,ue.maxX,oe),an=ee(Z,Oe,ht+Pn,ht+bn,0,ue.minX,ue.maxX,oe),Z=null,oi&&(di=ee(oi,Oe,xt-Ii,xt+yn,1,ue.minY,ue.maxY,oe),Xe=ee(oi,Oe,xt+Pn,xt+bn,1,ue.minY,ue.maxY,oe),oi=null),an&&(Oi=ee(an,Oe,xt-Ii,xt+yn,1,ue.minY,ue.maxY,oe),ki=ee(an,Oe,xt+Pn,xt+bn,1,ue.minY,ue.maxY,oe),an=null),Le>1&&console.timeEnd("clipping"),Xt.push(di||[],Q+1,2*ht,2*xt),Xt.push(Xe||[],Q+1,2*ht,2*xt+1),Xt.push(Oi||[],Q+1,2*ht+1,2*xt),Xt.push(ki||[],Q+1,2*ht+1,2*xt+1)}}},tn.prototype.getTile=function(Z,Q,ht){var xt=this.options,Lt=xt.extent,Ut=xt.debug;if(Z<0||Z>24)return null;var re=1<<Z,Xt=Zi(Z,Q=(Q%re+re)%re,ht);if(this.tiles[Xt])return Yi(this.tiles[Xt],Lt);Ut>1&&console.log("drilling down to z%d-%d-%d",Z,Q,ht);for(var oe,Le=Z,Oe=Q,Qe=ht;!oe&&Le>0;)Le--,Oe=Math.floor(Oe/2),Qe=Math.floor(Qe/2),oe=this.tiles[Zi(Le,Oe,Qe)];return oe&&oe.source?(Ut>1&&console.log("found parent tile z%d-%d-%d",Le,Oe,Qe),Ut>1&&console.time("drilling down"),this.splitTile(oe.source,Le,Oe,Qe,Z,Q,ht),Ut>1&&console.timeEnd("drilling down"),this.tiles[Xt]?Yi(this.tiles[Xt],Lt):null):null};var ji=function(Z){function Q(ht,xt,Lt,Ut){Z.call(this,ht,xt,Lt,_n),Ut&&(this.loadGeoJSON=Ut)}return Z&&(Q.__proto__=Z),(Q.prototype=Object.create(Z&&Z.prototype)).constructor=Q,Q.prototype.loadData=function(ht,xt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=xt,this._pendingLoadDataParams=ht,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Q.prototype._loadData=function(){var ht=this;if(this._pendingCallback&&this._pendingLoadDataParams){var xt=this._pendingCallback,Lt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ut=!!(Lt&&Lt.request&&Lt.request.collectResourceTiming)&&new n.RequestPerformance(Lt.request);this.loadGeoJSON(Lt,function(re,Xt){if(re||!Xt)return xt(re);if("object"!=typeof Xt)return xt(new Error("Input data given to '"+Lt.source+"' is not a valid GeoJSON object."));!function ue(Ye,De){var di,Xe=Ye&&Ye.type;if("FeatureCollection"===Xe)for(di=0;di<Ye.features.length;di++)ue(Ye.features[di],De);else if("GeometryCollection"===Xe)for(di=0;di<Ye.geometries.length;di++)ue(Ye.geometries[di],De);else if("Feature"===Xe)ue(Ye.geometry,De);else if("Polygon"===Xe)U(Ye.coordinates,De);else if("MultiPolygon"===Xe)for(di=0;di<Ye.coordinates.length;di++)U(Ye.coordinates[di],De);return Ye}(Xt,!0);try{if(Lt.filter){var oe=n.createExpression(Lt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===oe.result)throw new Error(oe.value.map(function(ue){return ue.key+": "+ue.message}).join(", "));var Le=Xt.features.filter(function(ue){return oe.value.evaluate({zoom:0},ue)});Xt={type:"FeatureCollection",features:Le}}ht._geoJSONIndex=Lt.cluster?new Rt(function(ue){var Ye=ue.superclusterOptions,De=ue.clusterProperties;if(!De||!Ye)return Ye;for(var di={},Xe={},Oi={accumulated:null,zoom:0},ki={properties:null},oi=Object.keys(De),an=0,Ii=oi;an<Ii.length;an+=1){var Pn=Ii[an],yn=De[Pn],bn=yn[0],En=n.createExpression(yn[1]),kn=n.createExpression("string"==typeof bn?[bn,["accumulated"],["get",Pn]]:bn);di[Pn]=En.value,Xe[Pn]=kn.value}return Ye.map=function(Qn){ki.properties=Qn;for(var wn={},Yn=0,In=oi;Yn<In.length;Yn+=1){var An=In[Yn];wn[An]=di[An].evaluate(Oi,ki)}return wn},Ye.reduce=function(Qn,wn){ki.properties=wn;for(var Yn=0,In=oi;Yn<In.length;Yn+=1){var An=In[Yn];Oi.accumulated=Qn[An],Qn[An]=Xe[An].evaluate(Oi,ki)}},Ye}(Lt)).load(Xt.features):new tn(ue=Xt,Lt.geojsonVtOptions)}catch(ue){return xt(ue)}var ue;ht.loaded={};var Oe={};if(Ut){var Qe=Ut.finish();Qe&&(Oe.resourceTiming={},Oe.resourceTiming[Lt.source]=JSON.parse(JSON.stringify(Qe)))}xt(null,Oe)})}},Q.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},Q.prototype.reloadTile=function(ht,xt){var Lt=this.loaded;return Lt&&Lt[ht.uid]?Z.prototype.reloadTile.call(this,ht,xt):this.loadTile(ht,xt)},Q.prototype.loadGeoJSON=function(ht,xt){if(ht.request)n.getJSON(ht.request,xt);else{if("string"!=typeof ht.data)return xt(new Error("Input data given to '"+ht.source+"' is not a valid GeoJSON object."));try{return xt(null,JSON.parse(ht.data))}catch{return xt(new Error("Input data given to '"+ht.source+"' is not a valid GeoJSON object."))}}},Q.prototype.removeSource=function(ht,xt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),xt()},Q.prototype.getClusterExpansionZoom=function(ht,xt){try{xt(null,this._geoJSONIndex.getClusterExpansionZoom(ht.clusterId))}catch(Lt){xt(Lt)}},Q.prototype.getClusterChildren=function(ht,xt){try{xt(null,this._geoJSONIndex.getChildren(ht.clusterId))}catch(Lt){xt(Lt)}},Q.prototype.getClusterLeaves=function(ht,xt){try{xt(null,this._geoJSONIndex.getLeaves(ht.clusterId,ht.limit,ht.offset))}catch(Lt){xt(Lt)}},Q}(f),We=function(Z){var Q=this;this.self=Z,this.actor=new n.Actor(Z,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:ji},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(ht,xt){if(Q.workerSourceTypes[ht])throw new Error('Worker source with name "'+ht+'" already registered.');Q.workerSourceTypes[ht]=xt},this.self.registerRTLTextPlugin=function(ht){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=ht.applyArabicShaping,n.plugin.processBidirectionalText=ht.processBidirectionalText,n.plugin.processStyledBidirectionalText=ht.processStyledBidirectionalText}};return We.prototype.setReferrer=function(Z,Q){this.referrer=Q},We.prototype.setImages=function(Z,Q,ht){for(var xt in this.availableImages[Z]=Q,this.workerSources[Z]){var Lt=this.workerSources[Z][xt];for(var Ut in Lt)Lt[Ut].availableImages=Q}ht()},We.prototype.setLayers=function(Z,Q,ht){this.getLayerIndex(Z).replace(Q),ht()},We.prototype.updateLayers=function(Z,Q,ht){this.getLayerIndex(Z).update(Q.layers,Q.removedIds),ht()},We.prototype.loadTile=function(Z,Q,ht){this.getWorkerSource(Z,Q.type,Q.source).loadTile(Q,ht)},We.prototype.loadDEMTile=function(Z,Q,ht){this.getDEMWorkerSource(Z,Q.source).loadTile(Q,ht)},We.prototype.reloadTile=function(Z,Q,ht){this.getWorkerSource(Z,Q.type,Q.source).reloadTile(Q,ht)},We.prototype.abortTile=function(Z,Q,ht){this.getWorkerSource(Z,Q.type,Q.source).abortTile(Q,ht)},We.prototype.removeTile=function(Z,Q,ht){this.getWorkerSource(Z,Q.type,Q.source).removeTile(Q,ht)},We.prototype.removeDEMTile=function(Z,Q){this.getDEMWorkerSource(Z,Q.source).removeTile(Q)},We.prototype.removeSource=function(Z,Q,ht){if(this.workerSources[Z]&&this.workerSources[Z][Q.type]&&this.workerSources[Z][Q.type][Q.source]){var xt=this.workerSources[Z][Q.type][Q.source];delete this.workerSources[Z][Q.type][Q.source],void 0!==xt.removeSource?xt.removeSource(Q,ht):ht()}},We.prototype.loadWorkerSource=function(Z,Q,ht){try{this.self.importScripts(Q.url),ht()}catch(xt){ht(xt.toString())}},We.prototype.syncRTLPluginState=function(Z,Q,ht){try{n.plugin.setState(Q);var xt=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&null!=xt){this.self.importScripts(xt);var Lt=n.plugin.isParsed();ht(Lt?void 0:new Error("RTL Text Plugin failed to import scripts from "+xt),Lt)}}catch(Ut){ht(Ut.toString())}},We.prototype.getAvailableImages=function(Z){var Q=this.availableImages[Z];return Q||(Q=[]),Q},We.prototype.getLayerIndex=function(Z){var Q=this.layerIndexes[Z];return Q||(Q=this.layerIndexes[Z]=new E),Q},We.prototype.getWorkerSource=function(Z,Q,ht){var xt=this;return this.workerSources[Z]||(this.workerSources[Z]={}),this.workerSources[Z][Q]||(this.workerSources[Z][Q]={}),this.workerSources[Z][Q][ht]||(this.workerSources[Z][Q][ht]=new this.workerSourceTypes[Q]({send:function(Lt,Ut,re){xt.actor.send(Lt,Ut,re,Z)}},this.getLayerIndex(Z),this.getAvailableImages(Z))),this.workerSources[Z][Q][ht]},We.prototype.getDEMWorkerSource=function(Z,Q){return this.demWorkerSources[Z]||(this.demWorkerSources[Z]={}),this.demWorkerSources[Z][Q]||(this.demWorkerSources[Z][Q]=new R),this.demWorkerSources[Z][Q]},We.prototype.enforceCacheSizeLimit=function(Z,Q){n.enforceCacheSizeLimit(Q)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new We(self)),We}),h(0,function(n){var D=n.createCommonjsModule(function(g){function b(J){return!v(J)}function v(J){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var dt,Pt,zt=new Blob([""],{type:"text/javascript"}),Zt=URL.createObjectURL(zt);try{Pt=new Worker(Zt),dt=!0}catch{dt=!1}return Pt&&Pt.terminate(),URL.revokeObjectURL(Zt),dt}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var dt=document.createElement("canvas");dt.width=dt.height=1;var Pt=dt.getContext("2d");if(!Pt)return!1;var zt=Pt.getImageData(0,0,1,1);return zt&&zt.width===dt.width}()?(void 0===B[st=J&&J.failIfMajorPerformanceCaveat]&&(B[st]=function(dt){var Zt,he,de,Pt=(Zt=dt,he=document.createElement("canvas"),(de=Object.create(b.webGLContextAttributes)).failIfMajorPerformanceCaveat=Zt,he.probablySupportsContext?he.probablySupportsContext("webgl",de)||he.probablySupportsContext("experimental-webgl",de):he.supportsContext?he.supportsContext("webgl",de)||he.supportsContext("experimental-webgl",de):he.getContext("webgl",de)||he.getContext("experimental-webgl",de));if(!Pt)return!1;var zt=Pt.createShader(Pt.VERTEX_SHADER);return!(!zt||Pt.isContextLost())&&(Pt.shaderSource(zt,"void main() {}"),Pt.compileShader(zt),!0===Pt.getShaderParameter(zt,Pt.COMPILE_STATUS))}(st)),B[st]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var st}g.exports?g.exports=b:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=b,window.mapboxgl.notSupportedReason=v);var B={};b.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),P={create:function(g,b,v){var B=n.window.document.createElement(g);return void 0!==b&&(B.className=b),v&&v.appendChild(B),B},createNS:function(g,b){return n.window.document.createElementNS(g,b)}},E=n.window.document&&n.window.document.documentElement.style;function m(g){if(!E)return g[0];for(var b=0;b<g.length;b++)if(g[b]in E)return g[b];return g[0]}var C,A=m(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);P.disableDrag=function(){E&&A&&(C=E[A],E[A]="none")},P.enableDrag=function(){E&&A&&(E[A]=C)};var k=m(["transform","WebkitTransform"]);P.setTransform=function(g,b){g.style[k]=b};var f=!1;try{var o=Object.defineProperty({},"passive",{get:function(){f=!0}});n.window.addEventListener("test",o,o),n.window.removeEventListener("test",o,o)}catch{f=!1}P.addEventListener=function(g,b,v,B){void 0===B&&(B={}),g.addEventListener(b,v,"passive"in B&&f?B:B.capture)},P.removeEventListener=function(g,b,v,B){void 0===B&&(B={}),g.removeEventListener(b,v,"passive"in B&&f?B:B.capture)};var R=function(g){g.preventDefault(),g.stopPropagation(),n.window.removeEventListener("click",R,!0)};function U(g){var b=g.userImage;return!!(b&&b.render&&b.render())&&(g.data.replace(new Uint8Array(b.data.buffer)),!0)}P.suppressClick=function(){n.window.addEventListener("click",R,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",R,!0)},0)},P.mousePos=function(g,b){var v=g.getBoundingClientRect();return new n.Point(b.clientX-v.left-g.clientLeft,b.clientY-v.top-g.clientTop)},P.touchPos=function(g,b){for(var v=g.getBoundingClientRect(),B=[],J=0;J<b.length;J++)B.push(new n.Point(b[J].clientX-v.left-g.clientLeft,b[J].clientY-v.top-g.clientTop));return B},P.mouseButton=function(g){return void 0!==n.window.InstallTrigger&&2===g.button&&g.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:g.button},P.remove=function(g){g.parentNode&&g.parentNode.removeChild(g)};var X=function(g){function b(){g.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.isLoaded=function(){return this.loaded},b.prototype.setLoaded=function(v){if(this.loaded!==v&&(this.loaded=v,v)){for(var B=0,J=this.requestors;B<J.length;B+=1){var st=J[B];this._notify(st.ids,st.callback)}this.requestors=[]}},b.prototype.getImage=function(v){return this.images[v]},b.prototype.addImage=function(v,B){this._validate(v,B)&&(this.images[v]=B)},b.prototype._validate=function(v,B){var J=!0;return this._validateStretch(B.stretchX,B.data&&B.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+v+'" has invalid "stretchX" value'))),J=!1),this._validateStretch(B.stretchY,B.data&&B.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+v+'" has invalid "stretchY" value'))),J=!1),this._validateContent(B.content,B)||(this.fire(new n.ErrorEvent(new Error('Image "'+v+'" has invalid "content" value'))),J=!1),J},b.prototype._validateStretch=function(v,B){if(!v)return!0;for(var J=0,st=0,dt=v;st<dt.length;st+=1){var Pt=dt[st];if(Pt[0]<J||Pt[1]<Pt[0]||B<Pt[1])return!1;J=Pt[1]}return!0},b.prototype._validateContent=function(v,B){return!(v&&(4!==v.length||v[0]<0||B.data.width<v[0]||v[1]<0||B.data.height<v[1]||v[2]<0||B.data.width<v[2]||v[3]<0||B.data.height<v[3]||v[2]<v[0]||v[3]<v[1]))},b.prototype.updateImage=function(v,B){B.version=this.images[v].version+1,this.images[v]=B,this.updatedImages[v]=!0},b.prototype.removeImage=function(v){var B=this.images[v];delete this.images[v],delete this.patterns[v],B.userImage&&B.userImage.onRemove&&B.userImage.onRemove()},b.prototype.listImages=function(){return Object.keys(this.images)},b.prototype.getImages=function(v,B){var J=!0;if(!this.isLoaded())for(var st=0,dt=v;st<dt.length;st+=1)this.images[dt[st]]||(J=!1);this.isLoaded()||J?this._notify(v,B):this.requestors.push({ids:v,callback:B})},b.prototype._notify=function(v,B){for(var J={},st=0,dt=v;st<dt.length;st+=1){var Pt=dt[st];this.images[Pt]||this.fire(new n.Event("styleimagemissing",{id:Pt}));var zt=this.images[Pt];zt?J[Pt]={data:zt.data.clone(),pixelRatio:zt.pixelRatio,sdf:zt.sdf,version:zt.version,stretchX:zt.stretchX,stretchY:zt.stretchY,content:zt.content,hasRenderCallback:Boolean(zt.userImage&&zt.userImage.render)}:n.warnOnce('Image "'+Pt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}B(null,J)},b.prototype.getPixelSize=function(){var v=this.atlasImage;return{width:v.width,height:v.height}},b.prototype.getPattern=function(v){var B=this.patterns[v],J=this.getImage(v);if(!J)return null;if(B&&B.position.version===J.version)return B.position;if(B)B.position.version=J.version;else{var st={w:J.data.width+2,h:J.data.height+2,x:0,y:0},dt=new n.ImagePosition(st,J);this.patterns[v]={bin:st,position:dt}}return this._updatePatternAtlas(),this.patterns[v].position},b.prototype.bind=function(v){var B=v.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(v,this.atlasImage,B.RGBA),this.atlasTexture.bind(B.LINEAR,B.CLAMP_TO_EDGE)},b.prototype._updatePatternAtlas=function(){var v=[];for(var B in this.patterns)v.push(this.patterns[B].bin);var J=n.potpack(v),st=J.w,dt=J.h,Pt=this.atlasImage;for(var zt in Pt.resize({width:st||1,height:dt||1}),this.patterns){var Zt=this.patterns[zt].bin,he=Zt.x+1,de=Zt.y+1,ve=this.images[zt].data,Ce=ve.width,Pe=ve.height;n.RGBAImage.copy(ve,Pt,{x:0,y:0},{x:he,y:de},{width:Ce,height:Pe}),n.RGBAImage.copy(ve,Pt,{x:0,y:Pe-1},{x:he,y:de-1},{width:Ce,height:1}),n.RGBAImage.copy(ve,Pt,{x:0,y:0},{x:he,y:de+Pe},{width:Ce,height:1}),n.RGBAImage.copy(ve,Pt,{x:Ce-1,y:0},{x:he-1,y:de},{width:1,height:Pe}),n.RGBAImage.copy(ve,Pt,{x:0,y:0},{x:he+Ce,y:de},{width:1,height:Pe})}this.dirty=!0},b.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},b.prototype.dispatchRenderCallbacks=function(v){for(var B=0,J=v;B<J.length;B+=1){var st=J[B];if(!this.callbackDispatchedThisFrame[st]){this.callbackDispatchedThisFrame[st]=!0;var dt=this.images[st];U(dt)&&this.updateImage(st,dt)}}},b}(n.Evented),tt=W,pt=W,ot=1e20;function W(g,b,v,B,J,st){this.fontSize=g||24,this.buffer=void 0===b?3:b,this.cutoff=B||.25,this.fontFamily=J||"sans-serif",this.fontWeight=st||"normal",this.radius=v||8;var dt=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=dt,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(dt*dt),this.gridInner=new Float64Array(dt*dt),this.f=new Float64Array(dt),this.d=new Float64Array(dt),this.z=new Float64Array(dt+1),this.v=new Int16Array(dt),this.middle=Math.round(dt/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function K(g,b,v,B,J,st,dt){for(var Pt=0;Pt<b;Pt++){for(var zt=0;zt<v;zt++)B[zt]=g[zt*b+Pt];for(gt(B,J,st,dt,v),zt=0;zt<v;zt++)g[zt*b+Pt]=J[zt]}for(zt=0;zt<v;zt++){for(Pt=0;Pt<b;Pt++)B[Pt]=g[zt*b+Pt];for(gt(B,J,st,dt,b),Pt=0;Pt<b;Pt++)g[zt*b+Pt]=Math.sqrt(J[Pt])}}function gt(g,b,v,B,J){v[0]=0,B[0]=-ot,B[1]=+ot;for(var st=1,dt=0;st<J;st++){for(var Pt=(g[st]+st*st-(g[v[dt]]+v[dt]*v[dt]))/(2*st-2*v[dt]);Pt<=B[dt];)dt--,Pt=(g[st]+st*st-(g[v[dt]]+v[dt]*v[dt]))/(2*st-2*v[dt]);v[++dt]=st,B[dt]=Pt,B[dt+1]=+ot}for(st=0,dt=0;st<J;st++){for(;B[dt+1]<st;)dt++;b[st]=(st-v[dt])*(st-v[dt])+g[v[dt]]}}W.prototype.draw=function(g){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(g,this.buffer,this.middle);for(var b=this.ctx.getImageData(0,0,this.size,this.size),v=new Uint8ClampedArray(this.size*this.size),B=0;B<this.size*this.size;B++){var J=b.data[4*B+3]/255;this.gridOuter[B]=1===J?0:0===J?ot:Math.pow(Math.max(0,.5-J),2),this.gridInner[B]=1===J?ot:0===J?0:Math.pow(Math.max(0,J-.5),2)}for(K(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),K(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),B=0;B<this.size*this.size;B++)v[B]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[B]-this.gridInner[B])/this.radius+this.cutoff))));return v},tt.default=pt;var yt=function(g,b){this.requestManager=g,this.localIdeographFontFamily=b,this.entries={}};yt.prototype.setURL=function(g){this.url=g},yt.prototype.getGlyphs=function(g,b){var v=this,B=[];for(var J in g)for(var st=0,dt=g[J];st<dt.length;st+=1)B.push({stack:J,id:dt[st]});n.asyncAll(B,function(Pt,zt){var Zt=Pt.stack,he=Pt.id,de=v.entries[Zt];de||(de=v.entries[Zt]={glyphs:{},requests:{},ranges:{}});var ve=de.glyphs[he];if(void 0===ve){if(ve=v._tinySDF(de,Zt,he))return de.glyphs[he]=ve,void zt(null,{stack:Zt,id:he,glyph:ve});var Ce=Math.floor(he/256);if(256*Ce>65535)zt(new Error("glyphs > 65535 not supported"));else if(de.ranges[Ce])zt(null,{stack:Zt,id:he,glyph:ve});else{var Pe=de.requests[Ce];Pe||(Pe=de.requests[Ce]=[],yt.loadGlyphRange(Zt,Ce,v.url,v.requestManager,function(Be,we){if(we){for(var Re in we)v._doesCharSupportLocalGlyph(+Re)||(de.glyphs[+Re]=we[+Re]);de.ranges[Ce]=!0}for(var Ge=0,hi=Pe;Ge<hi.length;Ge+=1)(0,hi[Ge])(Be,we);delete de.requests[Ce]})),Pe.push(function(Be,we){Be?zt(Be):we&&zt(null,{stack:Zt,id:he,glyph:we[he]||null})})}}else zt(null,{stack:Zt,id:he,glyph:ve})},function(Pt,zt){if(Pt)b(Pt);else if(zt){for(var Zt={},he=0,de=zt;he<de.length;he+=1){var ve=de[he],Ce=ve.stack,Pe=ve.id,Be=ve.glyph;(Zt[Ce]||(Zt[Ce]={}))[Pe]=Be&&{id:Be.id,bitmap:Be.bitmap.clone(),metrics:Be.metrics}}b(null,Zt)}})},yt.prototype._doesCharSupportLocalGlyph=function(g){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](g)||n.isChar["Hangul Syllables"](g)||n.isChar.Hiragana(g)||n.isChar.Katakana(g))},yt.prototype._tinySDF=function(g,b,v){var B=this.localIdeographFontFamily;if(B&&this._doesCharSupportLocalGlyph(v)){var J=g.tinySDF;if(!J){var st="400";/bold/i.test(b)?st="900":/medium/i.test(b)?st="500":/light/i.test(b)&&(st="200"),J=g.tinySDF=new yt.TinySDF(24,3,8,.25,B,st)}return{id:v,bitmap:new n.AlphaImage({width:30,height:30},J.draw(String.fromCharCode(v))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},yt.loadGlyphRange=function(g,b,v,B,J){var st=256*b,dt=st+255,Pt=B.transformRequest(B.normalizeGlyphsURL(v).replace("{fontstack}",g).replace("{range}",st+"-"+dt),n.ResourceType.Glyphs);n.getArrayBuffer(Pt,function(zt,Zt){if(zt)J(zt);else if(Zt){for(var he={},de=0,ve=n.parseGlyphPBF(Zt);de<ve.length;de+=1){var Ce=ve[de];he[Ce.id]=Ce}J(null,he)}})},yt.TinySDF=tt;var _t=function(){this.specification=n.styleSpec.light.position};_t.prototype.possiblyEvaluate=function(g,b){return n.sphericalToCartesian(g.expression.evaluate(b))},_t.prototype.interpolate=function(g,b,v){return{x:n.number(g.x,b.x,v),y:n.number(g.y,b.y,v),z:n.number(g.z,b.z,v)}};var rt=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new _t,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),ut=function(g){function b(v){g.call(this),this._transitionable=new n.Transitionable(rt),this.setLight(v),this._transitioning=this._transitionable.untransitioned()}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getLight=function(){return this._transitionable.serialize()},b.prototype.setLight=function(v,B){if(void 0===B&&(B={}),!this._validate(n.validateLight,v,B))for(var J in v){var st=v[J];n.endsWith(J,"-transition")?this._transitionable.setTransition(J.slice(0,-11),st):this._transitionable.setValue(J,st)}},b.prototype.updateTransitions=function(v){this._transitioning=this._transitionable.transitioned(v,this._transitioning)},b.prototype.hasTransition=function(){return this._transitioning.hasTransition()},b.prototype.recalculate=function(v){this.properties=this._transitioning.possiblyEvaluate(v)},b.prototype._validate=function(v,B,J){return(!J||!1!==J.validate)&&n.emitValidationErrors(this,v.call(n.validateStyle,n.extend({value:B,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},b}(n.Evented),at=function(g,b){this.width=g,this.height=b,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};at.prototype.getDash=function(g,b){var v=g.join(",")+String(b);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(g,b)),this.dashEntry[v]},at.prototype.getDashRanges=function(g,b,v){var B=[],J=g.length%2==1?-g[g.length-1]*v:0,st=g[0]*v,dt=!0;B.push({left:J,right:st,isDash:dt,zeroLength:0===g[0]});for(var Pt=g[0],zt=1;zt<g.length;zt++){var Zt=g[zt];B.push({left:J=Pt*v,right:st=(Pt+=Zt)*v,isDash:dt=!dt,zeroLength:0===Zt})}return B},at.prototype.addRoundDash=function(g,b,v){for(var B=b/2,J=-v;J<=v;J++)for(var st=this.width*(this.nextRow+v+J),dt=0,Pt=g[dt],zt=0;zt<this.width;zt++){zt/Pt.right>1&&(Pt=g[++dt]);var Zt=Math.abs(zt-Pt.left),he=Math.abs(zt-Pt.right),de=Math.min(Zt,he),ve=void 0,Ce=J/v*(B+1);if(Pt.isDash){var Pe=B-Math.abs(Ce);ve=Math.sqrt(de*de+Pe*Pe)}else ve=B-Math.sqrt(de*de+Ce*Ce);this.data[st+zt]=Math.max(0,Math.min(255,ve+128))}},at.prototype.addRegularDash=function(g){for(var b=g.length-1;b>=0;--b){var v=g[b],B=g[b+1];v.zeroLength?g.splice(b,1):B&&B.isDash===v.isDash&&(B.left=v.left,g.splice(b,1))}var J=g[0],st=g[g.length-1];J.isDash===st.isDash&&(J.left=st.left-this.width,st.right=J.right+this.width);for(var dt=this.width*this.nextRow,Pt=0,zt=g[Pt],Zt=0;Zt<this.width;Zt++){Zt/zt.right>1&&(zt=g[++Pt]);var he=Math.abs(Zt-zt.left),de=Math.abs(Zt-zt.right),ve=Math.min(he,de);this.data[dt+Zt]=Math.max(0,Math.min(255,(zt.isDash?ve:-ve)+128))}},at.prototype.addDash=function(g,b){var v=b?7:0,B=2*v+1;if(this.nextRow+B>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var J=0,st=0;st<g.length;st++)J+=g[st];if(0!==J){var dt=this.width/J,Pt=this.getDashRanges(g,this.width,dt);b?this.addRoundDash(Pt,dt,v):this.addRegularDash(Pt)}var zt={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:J};return this.nextRow+=B,this.dirty=!0,zt},at.prototype.bind=function(g){var b=g.gl;this.texture?(b.bindTexture(b.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,b.texSubImage2D(b.TEXTURE_2D,0,0,0,this.width,this.height,b.ALPHA,b.UNSIGNED_BYTE,this.data))):(this.texture=b.createTexture(),b.bindTexture(b.TEXTURE_2D,this.texture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texImage2D(b.TEXTURE_2D,0,b.ALPHA,this.width,this.height,0,b.ALPHA,b.UNSIGNED_BYTE,this.data))};var Ct=function g(b,v){this.workerPool=b,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var B=this.workerPool.acquire(this.id),J=0;J<B.length;J++){var st=new g.Actor(B[J],v,this.id);st.name="Worker "+J,this.actors.push(st)}};function vt(g,b,v){var B=function(J,st){if(J)return v(J);if(st){var dt=n.pick(n.extend(st,g),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);st.vector_layers&&(dt.vectorLayers=st.vector_layers,dt.vectorLayerIds=dt.vectorLayers.map(function(Pt){return Pt.id})),dt.tiles=b.canonicalizeTileset(dt,g.url),v(null,dt)}};return g.url?n.getJSON(b.transformRequest(b.normalizeSourceURL(g.url),n.ResourceType.Source),B):n.browser.frame(function(){return B(null,g)})}Ct.prototype.broadcast=function(g,b,v){n.asyncAll(this.actors,function(B,J){B.send(g,b,J)},v=v||function(){})},Ct.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Ct.prototype.remove=function(){this.actors.forEach(function(g){g.remove()}),this.actors=[],this.workerPool.release(this.id)},Ct.Actor=n.Actor;var ct=function(g,b,v){this.bounds=n.LngLatBounds.convert(this.validateBounds(g)),this.minzoom=b||0,this.maxzoom=v||24};ct.prototype.validateBounds=function(g){return Array.isArray(g)&&4===g.length?[Math.max(-180,g[0]),Math.max(-90,g[1]),Math.min(180,g[2]),Math.min(90,g[3])]:[-180,-90,180,90]},ct.prototype.contains=function(g){var b=Math.pow(2,g.z),v=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*b),B=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*b),J=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*b),st=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*b);return g.x>=v&&g.x<J&&g.y>=B&&g.y<st};var Tt=function(g){function b(v,B,J,st){if(g.call(this),this.id=v,this.dispatcher=J,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(B,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},B),this._collectResourceTiming=B.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(st)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.load=function(){var v=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=vt(this._options,this.map._requestManager,function(B,J){v._tileJSONRequest=null,v._loaded=!0,B?v.fire(new n.ErrorEvent(B)):J&&(n.extend(v,J),J.bounds&&(v.tileBounds=new ct(J.bounds,v.minzoom,v.maxzoom)),n.postTurnstileEvent(J.tiles,v.map._requestManager._customAccessToken),n.postMapLoadEvent(J.tiles,v.map._getMapId(),v.map._requestManager._skuToken,v.map._requestManager._customAccessToken),v.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),v.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},b.prototype.loaded=function(){return this._loaded},b.prototype.hasTile=function(v){return!this.tileBounds||this.tileBounds.contains(v.canonical)},b.prototype.onAdd=function(v){this.map=v,this.load()},b.prototype.setSourceProperty=function(v){this._tileJSONRequest&&this._tileJSONRequest.cancel(),v(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},b.prototype.setTiles=function(v){var B=this;return this.setSourceProperty(function(){B._options.tiles=v}),this},b.prototype.setUrl=function(v){var B=this;return this.setSourceProperty(function(){B.url=v,B._options.url=v}),this},b.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},b.prototype.serialize=function(){return n.extend({},this._options)},b.prototype.loadTile=function(v,B){var J=this.map._requestManager.normalizeTileURL(v.tileID.canonical.url(this.tiles,this.scheme)),st={request:this.map._requestManager.transformRequest(J,n.ResourceType.Tile),uid:v.uid,tileID:v.tileID,zoom:v.tileID.overscaledZ,tileSize:this.tileSize*v.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function dt(Pt,zt){return delete v.request,v.aborted?B(null):Pt&&404!==Pt.status?B(Pt):(zt&&zt.resourceTiming&&(v.resourceTiming=zt.resourceTiming),this.map._refreshExpiredTiles&&zt&&v.setExpiryData(zt),v.loadVectorData(zt,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),B(null),void(v.reloadCallback&&(this.loadTile(v,v.reloadCallback),v.reloadCallback=null)))}st.request.collectResourceTiming=this._collectResourceTiming,v.actor&&"expired"!==v.state?"loading"===v.state?v.reloadCallback=B:v.request=v.actor.send("reloadTile",st,dt.bind(this)):(v.actor=this.dispatcher.getActor(),v.request=v.actor.send("loadTile",st,dt.bind(this)))},b.prototype.abortTile=function(v){v.request&&(v.request.cancel(),delete v.request),v.actor&&v.actor.send("abortTile",{uid:v.uid,type:this.type,source:this.id},void 0)},b.prototype.unloadTile=function(v){v.unloadVectorData(),v.actor&&v.actor.send("removeTile",{uid:v.uid,type:this.type,source:this.id},void 0)},b.prototype.hasTransition=function(){return!1},b}(n.Evented),kt=function(g){function b(v,B,J,st){g.call(this),this.id=v,this.dispatcher=J,this.setEventedParent(st),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},B),n.extend(this,n.pick(B,["url","scheme","tileSize"]))}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.load=function(){var v=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=vt(this._options,this.map._requestManager,function(B,J){v._tileJSONRequest=null,v._loaded=!0,B?v.fire(new n.ErrorEvent(B)):J&&(n.extend(v,J),J.bounds&&(v.tileBounds=new ct(J.bounds,v.minzoom,v.maxzoom)),n.postTurnstileEvent(J.tiles),n.postMapLoadEvent(J.tiles,v.map._getMapId(),v.map._requestManager._skuToken),v.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),v.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},b.prototype.loaded=function(){return this._loaded},b.prototype.onAdd=function(v){this.map=v,this.load()},b.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},b.prototype.serialize=function(){return n.extend({},this._options)},b.prototype.hasTile=function(v){return!this.tileBounds||this.tileBounds.contains(v.canonical)},b.prototype.loadTile=function(v,B){var J=this,st=this.map._requestManager.normalizeTileURL(v.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);v.request=n.getImage(this.map._requestManager.transformRequest(st,n.ResourceType.Tile),function(dt,Pt){if(delete v.request,v.aborted)v.state="unloaded",B(null);else if(dt)v.state="errored",B(dt);else if(Pt){J.map._refreshExpiredTiles&&v.setExpiryData(Pt),delete Pt.cacheControl,delete Pt.expires;var zt=J.map.painter.context,Zt=zt.gl;v.texture=J.map.painter.getTileTexture(Pt.width),v.texture?v.texture.update(Pt,{useMipmap:!0}):(v.texture=new n.Texture(zt,Pt,Zt.RGBA,{useMipmap:!0}),v.texture.bind(Zt.LINEAR,Zt.CLAMP_TO_EDGE,Zt.LINEAR_MIPMAP_NEAREST),zt.extTextureFilterAnisotropic&&Zt.texParameterf(Zt.TEXTURE_2D,zt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,zt.extTextureFilterAnisotropicMax)),v.state="loaded",n.cacheEntryPossiblyAdded(J.dispatcher),B(null)}})},b.prototype.abortTile=function(v,B){v.request&&(v.request.cancel(),delete v.request),B()},b.prototype.unloadTile=function(v,B){v.texture&&this.map.painter.saveTileTexture(v.texture),B()},b.prototype.hasTransition=function(){return!1},b}(n.Evented),Ft=function(g){function b(v,B,J,st){g.call(this,v,B,J,st),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},B),this.encoding=B.encoding||"mapbox"}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},b.prototype.loadTile=function(v,B){var J=this.map._requestManager.normalizeTileURL(v.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function st(dt,Pt){dt&&(v.state="errored",B(dt)),Pt&&(v.dem=Pt,v.needsHillshadePrepare=!0,v.state="loaded",B(null))}v.request=n.getImage(this.map._requestManager.transformRequest(J,n.ResourceType.Tile),function(dt,Pt){if(delete v.request,v.aborted)v.state="unloaded",B(null);else if(dt)v.state="errored",B(dt);else if(Pt){this.map._refreshExpiredTiles&&v.setExpiryData(Pt),delete Pt.cacheControl,delete Pt.expires;var zt=n.window.ImageBitmap&&Pt instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported()?Pt:n.browser.getImageData(Pt,1),Zt={uid:v.uid,coord:v.tileID,source:this.id,rawImageData:zt,encoding:this.encoding};v.actor&&"expired"!==v.state||(v.actor=this.dispatcher.getActor(),v.actor.send("loadDEMTile",Zt,st.bind(this)))}}.bind(this)),v.neighboringTiles=this._getNeighboringTiles(v.tileID)},b.prototype._getNeighboringTiles=function(v){var B=v.canonical,J=Math.pow(2,B.z),st=(B.x-1+J)%J,dt=0===B.x?v.wrap-1:v.wrap,Pt=(B.x+1+J)%J,zt=B.x+1===J?v.wrap+1:v.wrap,Zt={};return Zt[new n.OverscaledTileID(v.overscaledZ,dt,B.z,st,B.y).key]={backfilled:!1},Zt[new n.OverscaledTileID(v.overscaledZ,zt,B.z,Pt,B.y).key]={backfilled:!1},B.y>0&&(Zt[new n.OverscaledTileID(v.overscaledZ,dt,B.z,st,B.y-1).key]={backfilled:!1},Zt[new n.OverscaledTileID(v.overscaledZ,v.wrap,B.z,B.x,B.y-1).key]={backfilled:!1},Zt[new n.OverscaledTileID(v.overscaledZ,zt,B.z,Pt,B.y-1).key]={backfilled:!1}),B.y+1<J&&(Zt[new n.OverscaledTileID(v.overscaledZ,dt,B.z,st,B.y+1).key]={backfilled:!1},Zt[new n.OverscaledTileID(v.overscaledZ,v.wrap,B.z,B.x,B.y+1).key]={backfilled:!1},Zt[new n.OverscaledTileID(v.overscaledZ,zt,B.z,Pt,B.y+1).key]={backfilled:!1}),Zt},b.prototype.unloadTile=function(v){v.demTexture&&this.map.painter.saveTileTexture(v.demTexture),v.fbo&&(v.fbo.destroy(),delete v.fbo),v.dem&&delete v.dem,delete v.neighboringTiles,v.state="unloaded",v.actor&&v.actor.send("removeDEMTile",{uid:v.uid,source:this.id})},b}(kt),Ot=function(g){function b(v,B,J,st){g.call(this),this.id=v,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=J.getActor(),this.setEventedParent(st),this._data=B.data,this._options=n.extend({},B),this._collectResourceTiming=B.collectResourceTiming,this._resourceTiming=[],void 0!==B.maxzoom&&(this.maxzoom=B.maxzoom),B.type&&(this.type=B.type),B.attribution&&(this.attribution=B.attribution),this.promoteId=B.promoteId;var dt=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:B.cluster||!1,geojsonVtOptions:{buffer:(void 0!==B.buffer?B.buffer:128)*dt,tolerance:(void 0!==B.tolerance?B.tolerance:.375)*dt,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:B.lineMetrics||!1,generateId:B.generateId||!1},superclusterOptions:{maxZoom:void 0!==B.clusterMaxZoom?Math.min(B.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,B.clusterMinPoints||2),extent:n.EXTENT,radius:(B.clusterRadius||50)*dt,log:!1,generateId:B.generateId||!1},clusterProperties:B.clusterProperties,filter:B.filter},B.workerOptions)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.load=function(){var v=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(B){if(B)v.fire(new n.ErrorEvent(B));else{var J={dataType:"source",sourceDataType:"metadata"};v._collectResourceTiming&&v._resourceTiming&&v._resourceTiming.length>0&&(J.resourceTiming=v._resourceTiming,v._resourceTiming=[]),v.fire(new n.Event("data",J))}})},b.prototype.onAdd=function(v){this.map=v,this.load()},b.prototype.setData=function(v){var B=this;return this._data=v,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(J){if(J)B.fire(new n.ErrorEvent(J));else{var st={dataType:"source",sourceDataType:"content"};B._collectResourceTiming&&B._resourceTiming&&B._resourceTiming.length>0&&(st.resourceTiming=B._resourceTiming,B._resourceTiming=[]),B.fire(new n.Event("data",st))}}),this},b.prototype.getClusterExpansionZoom=function(v,B){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:v,source:this.id},B),this},b.prototype.getClusterChildren=function(v,B){return this.actor.send("geojson.getClusterChildren",{clusterId:v,source:this.id},B),this},b.prototype.getClusterLeaves=function(v,B,J,st){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:v,limit:B,offset:J},st),this},b.prototype._updateWorkerData=function(v){var B=this;this._loaded=!1;var J=n.extend({},this.workerOptions),st=this._data;"string"==typeof st?(J.request=this.map._requestManager.transformRequest(n.browser.resolveURL(st),n.ResourceType.Source),J.request.collectResourceTiming=this._collectResourceTiming):J.data=JSON.stringify(st),this.actor.send(this.type+".loadData",J,function(dt,Pt){B._removed||Pt&&Pt.abandoned||(B._loaded=!0,Pt&&Pt.resourceTiming&&Pt.resourceTiming[B.id]&&(B._resourceTiming=Pt.resourceTiming[B.id].slice(0)),B.actor.send(B.type+".coalesce",{source:J.source},null),v(dt))})},b.prototype.loaded=function(){return this._loaded},b.prototype.loadTile=function(v,B){var J=this,st=v.actor?"reloadTile":"loadTile";v.actor=this.actor,v.request=this.actor.send(st,{type:this.type,uid:v.uid,tileID:v.tileID,zoom:v.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(dt,Pt){return delete v.request,v.unloadVectorData(),v.aborted?B(null):dt?B(dt):(v.loadVectorData(Pt,J.map.painter,"reloadTile"===st),B(null))})},b.prototype.abortTile=function(v){v.request&&(v.request.cancel(),delete v.request),v.aborted=!0},b.prototype.unloadTile=function(v){v.unloadVectorData(),this.actor.send("removeTile",{uid:v.uid,type:this.type,source:this.id})},b.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},b.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},b.prototype.hasTransition=function(){return!1},b}(n.Evented),jt=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),$t=function(g){function b(v,B,J,st){g.call(this),this.id=v,this.dispatcher=J,this.coordinates=B.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(st),this.options=B}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.load=function(v,B){var J=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(st,dt){J._loaded=!0,st?J.fire(new n.ErrorEvent(st)):dt&&(J.image=dt,v&&(J.coordinates=v),B&&B(),J._finishLoading())})},b.prototype.loaded=function(){return this._loaded},b.prototype.updateImage=function(v){var B=this;return this.image&&v.url?(this.options.url=v.url,this.load(v.coordinates,function(){B.texture=null}),this):this},b.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},b.prototype.onAdd=function(v){this.map=v,this.load()},b.prototype.setCoordinates=function(v){var B=this;this.coordinates=v;var J=v.map(n.MercatorCoordinate.fromLngLat);this.tileID=function(dt){for(var Pt=1/0,zt=1/0,Zt=-1/0,he=-1/0,de=0,ve=dt;de<ve.length;de+=1){var Ce=ve[de];Pt=Math.min(Pt,Ce.x),zt=Math.min(zt,Ce.y),Zt=Math.max(Zt,Ce.x),he=Math.max(he,Ce.y)}var Pe=Math.max(Zt-Pt,he-zt),Be=Math.max(0,Math.floor(-Math.log(Pe)/Math.LN2)),we=Math.pow(2,Be);return new n.CanonicalTileID(Be,Math.floor((Pt+Zt)/2*we),Math.floor((zt+he)/2*we))}(J),this.minzoom=this.maxzoom=this.tileID.z;var st=J.map(function(dt){return B.tileID.getTilePoint(dt)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(st[0].x,st[0].y,0,0),this._boundsArray.emplaceBack(st[1].x,st[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(st[3].x,st[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(st[2].x,st[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},b.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var v=this.map.painter.context,B=v.gl;for(var J in this.boundsBuffer||(this.boundsBuffer=v.createVertexBuffer(this._boundsArray,jt.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(v,this.image,B.RGBA),this.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE)),this.tiles){var st=this.tiles[J];"loaded"!==st.state&&(st.state="loaded",st.texture=this.texture)}}},b.prototype.loadTile=function(v,B){this.tileID&&this.tileID.equals(v.tileID.canonical)?(this.tiles[String(v.tileID.wrap)]=v,v.buckets={},B(null)):(v.state="errored",B(null))},b.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},b.prototype.hasTransition=function(){return!1},b}(n.Evented),Wt=function(g){function b(v,B,J,st){g.call(this,v,B,J,st),this.roundZoom=!0,this.type="video",this.options=B}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.load=function(){var v=this;this._loaded=!1;var B=this.options;this.urls=[];for(var J=0,st=B.urls;J<st.length;J+=1)this.urls.push(this.map._requestManager.transformRequest(st[J],n.ResourceType.Source).url);n.getVideo(this.urls,function(dt,Pt){v._loaded=!0,dt?v.fire(new n.ErrorEvent(dt)):Pt&&(v.video=Pt,v.video.loop=!0,v.video.addEventListener("playing",function(){v.map.triggerRepaint()}),v.map&&v.video.play(),v._finishLoading())})},b.prototype.pause=function(){this.video&&this.video.pause()},b.prototype.play=function(){this.video&&this.video.play()},b.prototype.seek=function(v){if(this.video){var B=this.video.seekable;v<B.start(0)||v>B.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+B.start(0)+" and "+B.end(0)+"-second mark."))):this.video.currentTime=v}},b.prototype.getVideo=function(){return this.video},b.prototype.onAdd=function(v){this.map||(this.map=v,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},b.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var v=this.map.painter.context,B=v.gl;for(var J in this.boundsBuffer||(this.boundsBuffer=v.createVertexBuffer(this._boundsArray,jt.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE),B.texSubImage2D(B.TEXTURE_2D,0,0,0,B.RGBA,B.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(v,this.video,B.RGBA),this.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE)),this.tiles){var st=this.tiles[J];"loaded"!==st.state&&(st.state="loaded",st.texture=this.texture)}}},b.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},b.prototype.hasTransition=function(){return this.video&&!this.video.paused},b}($t),ne=function(g){function b(v,B,J,st){g.call(this,v,B,J,st),B.coordinates?Array.isArray(B.coordinates)&&4===B.coordinates.length&&!B.coordinates.some(function(dt){return!Array.isArray(dt)||2!==dt.length||dt.some(function(Pt){return"number"!=typeof Pt})})||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+v,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+v,null,'missing required property "coordinates"'))),B.animate&&"boolean"!=typeof B.animate&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+v,null,'optional "animate" property must be a boolean value'))),B.canvas?"string"==typeof B.canvas||B.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+v,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+v,null,'missing required property "canvas"'))),this.options=B,this.animate=void 0===B.animate||B.animate}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},b.prototype.getCanvas=function(){return this.canvas},b.prototype.onAdd=function(v){this.map=v,this.load(),this.canvas&&this.animate&&this.play()},b.prototype.onRemove=function(){this.pause()},b.prototype.prepare=function(){var v=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,v=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,v=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var B=this.map.painter.context,J=B.gl;for(var st in this.boundsBuffer||(this.boundsBuffer=B.createVertexBuffer(this._boundsArray,jt.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(v||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(B,this.canvas,J.RGBA,{premultiply:!0}),this.tiles){var dt=this.tiles[st];"loaded"!==dt.state&&(dt.state="loaded",dt.texture=this.texture)}}},b.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},b.prototype.hasTransition=function(){return this._playing},b.prototype._hasInvalidDimensions=function(){for(var v=0,B=[this.canvas.width,this.canvas.height];v<B.length;v+=1){var J=B[v];if(isNaN(J)||J<=0)return!0}return!1},b}($t),Jt={vector:Tt,raster:kt,"raster-dem":Ft,geojson:Ot,video:Wt,image:$t,canvas:ne};function Nt(g,b){var v=n.identity([]);return n.translate(v,v,[1,1,0]),n.scale(v,v,[.5*g.width,.5*g.height,1]),n.multiply(v,v,g.calculatePosMatrix(b.toUnwrapped()))}function Rt(g,b,v,B,J,st){var dt=function(Be,we,Re){if(Be)for(var Ge=0,hi=Be;Ge<hi.length;Ge+=1){var Ci=we[hi[Ge]];if(Ci&&Ci.source===Re&&"fill-extrusion"===Ci.type)return!0}else for(var wi in we){var Mi=we[wi];if(Mi.source===Re&&"fill-extrusion"===Mi.type)return!0}return!1}(J&&J.layers,b,g.id),Pt=st.maxPitchScaleFactor(),zt=g.tilesIn(B,Pt,dt);zt.sort(ie);for(var Zt=[],he=0,de=zt;he<de.length;he+=1){var ve=de[he];Zt.push({wrappedTileID:ve.tileID.wrapped().key,queryResults:ve.tile.queryRenderedFeatures(b,v,g._state,ve.queryGeometry,ve.cameraQueryGeometry,ve.scale,J,st,Pt,Nt(g.transform,ve.tileID))})}var Ce=function(Be){for(var we={},Re={},Ge=0,hi=Be;Ge<hi.length;Ge+=1){var Ci=hi[Ge],wi=Ci.queryResults,Mi=Ci.wrappedTileID,Gi=Re[Mi]=Re[Mi]||{};for(var on in wi)for(var rn=wi[on],vn=Gi[on]=Gi[on]||{},Nn=we[on]=we[on]||[],jn=0,zn=rn;jn<zn.length;jn+=1){var zr=zn[jn];vn[zr.featureIndex]||(vn[zr.featureIndex]=!0,Nn.push(zr))}}return we}(Zt);for(var Pe in Ce)Ce[Pe].forEach(function(Be){var we=Be.feature,Re=g.getFeatureState(we.layer["source-layer"],we.id);we.source=we.layer.source,we.layer["source-layer"]&&(we.sourceLayer=we.layer["source-layer"]),we.state=Re});return Ce}function ie(g,b){var v=g.tileID,B=b.tileID;return v.overscaledZ-B.overscaledZ||v.canonical.y-B.canonical.y||v.wrap-B.wrap||v.canonical.x-B.canonical.x}var se=function(g,b){this.max=g,this.onRemove=b,this.reset()};se.prototype.reset=function(){for(var g in this.data)for(var b=0,v=this.data[g];b<v.length;b+=1){var B=v[b];B.timeout&&clearTimeout(B.timeout),this.onRemove(B.value)}return this.data={},this.order=[],this},se.prototype.add=function(g,b,v){var B=this,J=g.wrapped().key;void 0===this.data[J]&&(this.data[J]=[]);var st={value:b,timeout:void 0};if(void 0!==v&&(st.timeout=setTimeout(function(){B.remove(g,st)},v)),this.data[J].push(st),this.order.push(J),this.order.length>this.max){var dt=this._getAndRemoveByKey(this.order[0]);dt&&this.onRemove(dt)}return this},se.prototype.has=function(g){return g.wrapped().key in this.data},se.prototype.getAndRemove=function(g){return this.has(g)?this._getAndRemoveByKey(g.wrapped().key):null},se.prototype._getAndRemoveByKey=function(g){var b=this.data[g].shift();return b.timeout&&clearTimeout(b.timeout),0===this.data[g].length&&delete this.data[g],this.order.splice(this.order.indexOf(g),1),b.value},se.prototype.getByKey=function(g){var b=this.data[g];return b?b[0].value:null},se.prototype.get=function(g){return this.has(g)?this.data[g.wrapped().key][0].value:null},se.prototype.remove=function(g,b){if(!this.has(g))return this;var v=g.wrapped().key,B=void 0===b?0:this.data[v].indexOf(b),J=this.data[v][B];return this.data[v].splice(B,1),J.timeout&&clearTimeout(J.timeout),0===this.data[v].length&&delete this.data[v],this.onRemove(J.value),this.order.splice(this.order.indexOf(v),1),this},se.prototype.setMaxSize=function(g){for(this.max=g;this.order.length>this.max;){var b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this},se.prototype.filter=function(g){var b=[];for(var v in this.data)for(var B=0,J=this.data[v];B<J.length;B+=1){var st=J[B];g(st.value)||b.push(st)}for(var dt=0,Pt=b;dt<Pt.length;dt+=1){var zt=Pt[dt];this.remove(zt.value.tileID,zt)}};var ce=function(g,b,v){this.context=g;var B=g.gl;this.buffer=B.createBuffer(),this.dynamicDraw=Boolean(v),this.context.unbindVAO(),g.bindElementBuffer.set(this.buffer),B.bufferData(B.ELEMENT_ARRAY_BUFFER,b.arrayBuffer,this.dynamicDraw?B.DYNAMIC_DRAW:B.STATIC_DRAW),this.dynamicDraw||delete b.arrayBuffer};ce.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ce.prototype.updateData=function(g){var b=this.context.gl;this.context.unbindVAO(),this.bind(),b.bufferSubData(b.ELEMENT_ARRAY_BUFFER,0,g.arrayBuffer)},ce.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ie=function(g,b,v,B){this.length=b.length,this.attributes=v,this.itemSize=b.bytesPerElement,this.dynamicDraw=B,this.context=g;var J=g.gl;this.buffer=J.createBuffer(),g.bindVertexBuffer.set(this.buffer),J.bufferData(J.ARRAY_BUFFER,b.arrayBuffer,this.dynamicDraw?J.DYNAMIC_DRAW:J.STATIC_DRAW),this.dynamicDraw||delete b.arrayBuffer};Ie.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ie.prototype.updateData=function(g){var b=this.context.gl;this.bind(),b.bufferSubData(b.ARRAY_BUFFER,0,g.arrayBuffer)},Ie.prototype.enableAttributes=function(g,b){for(var v=0;v<this.attributes.length;v++){var B=b.attributes[this.attributes[v].name];void 0!==B&&g.enableVertexAttribArray(B)}},Ie.prototype.setVertexAttribPointers=function(g,b,v){for(var B=0;B<this.attributes.length;B++){var J=this.attributes[B],st=b.attributes[J.name];void 0!==st&&g.vertexAttribPointer(st,J.components,g[te[J.type]],!1,this.itemSize,J.offset+this.itemSize*(v||0))}},Ie.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Ve=function(g){this.gl=g.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ve.prototype.get=function(){return this.current},Ve.prototype.set=function(g){},Ve.prototype.getDefault=function(){return this.default},Ve.prototype.setDefault=function(){this.set(this.default)};var Ai=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return n.Color.transparent},b.prototype.set=function(v){var B=this.current;(v.r!==B.r||v.g!==B.g||v.b!==B.b||v.a!==B.a||this.dirty)&&(this.gl.clearColor(v.r,v.g,v.b,v.a),this.current=v,this.dirty=!1)},b}(Ve),gi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return 1},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.clearDepth(v),this.current=v,this.dirty=!1)},b}(Ve),pi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return 0},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.clearStencil(v),this.current=v,this.dirty=!1)},b}(Ve),Ri=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return[!0,!0,!0,!0]},b.prototype.set=function(v){var B=this.current;(v[0]!==B[0]||v[1]!==B[1]||v[2]!==B[2]||v[3]!==B[3]||this.dirty)&&(this.gl.colorMask(v[0],v[1],v[2],v[3]),this.current=v,this.dirty=!1)},b}(Ve),ti=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return!0},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.depthMask(v),this.current=v,this.dirty=!1)},b}(Ve),Ti=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return 255},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.stencilMask(v),this.current=v,this.dirty=!1)},b}(Ve),xi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},b.prototype.set=function(v){var B=this.current;(v.func!==B.func||v.ref!==B.ref||v.mask!==B.mask||this.dirty)&&(this.gl.stencilFunc(v.func,v.ref,v.mask),this.current=v,this.dirty=!1)},b}(Ve),be=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){var v=this.gl;return[v.KEEP,v.KEEP,v.KEEP]},b.prototype.set=function(v){var B=this.current;(v[0]!==B[0]||v[1]!==B[1]||v[2]!==B[2]||this.dirty)&&(this.gl.stencilOp(v[0],v[1],v[2]),this.current=v,this.dirty=!1)},b}(Ve),ii=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;v?B.enable(B.STENCIL_TEST):B.disable(B.STENCIL_TEST),this.current=v,this.dirty=!1}},b}(Ve),nt=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return[0,1]},b.prototype.set=function(v){var B=this.current;(v[0]!==B[0]||v[1]!==B[1]||this.dirty)&&(this.gl.depthRange(v[0],v[1]),this.current=v,this.dirty=!1)},b}(Ve),St=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;v?B.enable(B.DEPTH_TEST):B.disable(B.DEPTH_TEST),this.current=v,this.dirty=!1}},b}(Ve),Gt=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.LESS},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.depthFunc(v),this.current=v,this.dirty=!1)},b}(Ve),ee=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;v?B.enable(B.BLEND):B.disable(B.BLEND),this.current=v,this.dirty=!1}},b}(Ve),ge=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){var v=this.gl;return[v.ONE,v.ZERO]},b.prototype.set=function(v){var B=this.current;(v[0]!==B[0]||v[1]!==B[1]||this.dirty)&&(this.gl.blendFunc(v[0],v[1]),this.current=v,this.dirty=!1)},b}(Ve),Ae=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return n.Color.transparent},b.prototype.set=function(v){var B=this.current;(v.r!==B.r||v.g!==B.g||v.b!==B.b||v.a!==B.a||this.dirty)&&(this.gl.blendColor(v.r,v.g,v.b,v.a),this.current=v,this.dirty=!1)},b}(Ve),yi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.FUNC_ADD},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.blendEquation(v),this.current=v,this.dirty=!1)},b}(Ve),Fi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;v?B.enable(B.CULL_FACE):B.disable(B.CULL_FACE),this.current=v,this.dirty=!1}},b}(Ve),Li=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.BACK},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.cullFace(v),this.current=v,this.dirty=!1)},b}(Ve),qi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.CCW},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.frontFace(v),this.current=v,this.dirty=!1)},b}(Ve),cn=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.useProgram(v),this.current=v,this.dirty=!1)},b}(Ve),Fn=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.TEXTURE0},b.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.activeTexture(v),this.current=v,this.dirty=!1)},b}(Ve),Gn=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){var v=this.gl;return[0,0,v.drawingBufferWidth,v.drawingBufferHeight]},b.prototype.set=function(v){var B=this.current;(v[0]!==B[0]||v[1]!==B[1]||v[2]!==B[2]||v[3]!==B[3]||this.dirty)&&(this.gl.viewport(v[0],v[1],v[2],v[3]),this.current=v,this.dirty=!1)},b}(Ve),Yi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;B.bindFramebuffer(B.FRAMEBUFFER,v),this.current=v,this.dirty=!1}},b}(Ve),ei=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;B.bindRenderbuffer(B.RENDERBUFFER,v),this.current=v,this.dirty=!1}},b}(Ve),ai=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;B.bindTexture(B.TEXTURE_2D,v),this.current=v,this.dirty=!1}},b}(Ve),li=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;B.bindBuffer(B.ARRAY_BUFFER,v),this.current=v,this.dirty=!1}},b}(Ve),Xi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(v){var B=this.gl;B.bindBuffer(B.ELEMENT_ARRAY_BUFFER,v),this.current=v,this.dirty=!1},b}(Ve),tn=function(g){function b(v){g.call(this,v),this.vao=v.extVertexArrayObject}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(v){this.vao&&(v!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(v),this.current=v,this.dirty=!1)},b}(Ve),Zi=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return 4},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;B.pixelStorei(B.UNPACK_ALIGNMENT,v),this.current=v,this.dirty=!1}},b}(Ve),_n=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,v),this.current=v,this.dirty=!1}},b}(Ve),ji=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(v){if(v!==this.current||this.dirty){var B=this.gl;B.pixelStorei(B.UNPACK_FLIP_Y_WEBGL,v),this.current=v,this.dirty=!1}},b}(Ve),We=function(g){function b(v,B){g.call(this,v),this.context=v,this.parent=B}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b}(Ve),Z=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.setDirty=function(){this.dirty=!0},b.prototype.set=function(v){if(v!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var B=this.gl;B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,v,0),this.current=v,this.dirty=!1}},b}(We),Q=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.set=function(v){if(v!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var B=this.gl;B.framebufferRenderbuffer(B.FRAMEBUFFER,B.DEPTH_ATTACHMENT,B.RENDERBUFFER,v),this.current=v,this.dirty=!1}},b}(We),ht=function(g,b,v,B){this.context=g,this.width=b,this.height=v;var J=this.framebuffer=g.gl.createFramebuffer();this.colorAttachment=new Z(g,J),B&&(this.depthAttachment=new Q(g,J))};ht.prototype.destroy=function(){var g=this.context.gl,b=this.colorAttachment.get();if(b&&g.deleteTexture(b),this.depthAttachment){var v=this.depthAttachment.get();v&&g.deleteRenderbuffer(v)}g.deleteFramebuffer(this.framebuffer)};var xt=function(g,b,v){this.func=g,this.mask=b,this.range=v};xt.ReadOnly=!1,xt.ReadWrite=!0,xt.disabled=new xt(519,xt.ReadOnly,[0,1]);var Lt=function(g,b,v,B,J,st){this.test=g,this.ref=b,this.mask=v,this.fail=B,this.depthFail=J,this.pass=st};Lt.disabled=new Lt({func:519,mask:0},0,0,7680,7680,7680);var Ut=function(g,b,v){this.blendFunction=g,this.blendColor=b,this.mask=v};Ut.disabled=new Ut(Ut.Replace=[1,0],n.Color.transparent,[!1,!1,!1,!1]),Ut.unblended=new Ut(Ut.Replace,n.Color.transparent,[!0,!0,!0,!0]),Ut.alphaBlended=new Ut([1,771],n.Color.transparent,[!0,!0,!0,!0]);var re=function(g,b,v){this.enable=g,this.mode=b,this.frontFace=v};re.disabled=new re(!1,1029,2305),re.backCCW=new re(!0,1029,2305);var Xt=function(g){this.gl=g,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ai(this),this.clearDepth=new gi(this),this.clearStencil=new pi(this),this.colorMask=new Ri(this),this.depthMask=new ti(this),this.stencilMask=new Ti(this),this.stencilFunc=new xi(this),this.stencilOp=new be(this),this.stencilTest=new ii(this),this.depthRange=new nt(this),this.depthTest=new St(this),this.depthFunc=new Gt(this),this.blend=new ee(this),this.blendFunc=new ge(this),this.blendColor=new Ae(this),this.blendEquation=new yi(this),this.cullFace=new Fi(this),this.cullFaceSide=new Li(this),this.frontFace=new qi(this),this.program=new cn(this),this.activeTexture=new Fn(this),this.viewport=new Gn(this),this.bindFramebuffer=new Yi(this),this.bindRenderbuffer=new ei(this),this.bindTexture=new ai(this),this.bindVertexBuffer=new li(this),this.bindElementBuffer=new Xi(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new tn(this),this.pixelStoreUnpack=new Zi(this),this.pixelStoreUnpackPremultiplyAlpha=new _n(this),this.pixelStoreUnpackFlipY=new ji(this),this.extTextureFilterAnisotropic=g.getExtension("EXT_texture_filter_anisotropic")||g.getExtension("MOZ_EXT_texture_filter_anisotropic")||g.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=g.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=g.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(g.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=g.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=g.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=g.getParameter(g.MAX_TEXTURE_SIZE)};Xt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Xt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Xt.prototype.createIndexBuffer=function(g,b){return new ce(this,g,b)},Xt.prototype.createVertexBuffer=function(g,b,v){return new Ie(this,g,b,v)},Xt.prototype.createRenderbuffer=function(g,b,v){var B=this.gl,J=B.createRenderbuffer();return this.bindRenderbuffer.set(J),B.renderbufferStorage(B.RENDERBUFFER,g,b,v),this.bindRenderbuffer.set(null),J},Xt.prototype.createFramebuffer=function(g,b,v){return new ht(this,g,b,v)},Xt.prototype.clear=function(g){var b=g.color,v=g.depth,B=this.gl,J=0;b&&(J|=B.COLOR_BUFFER_BIT,this.clearColor.set(b),this.colorMask.set([!0,!0,!0,!0])),void 0!==v&&(J|=B.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(v),this.depthMask.set(!0)),B.clear(J)},Xt.prototype.setCullFace=function(g){!1===g.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(g.mode),this.frontFace.set(g.frontFace))},Xt.prototype.setDepthMode=function(g){g.func!==this.gl.ALWAYS||g.mask?(this.depthTest.set(!0),this.depthFunc.set(g.func),this.depthMask.set(g.mask),this.depthRange.set(g.range)):this.depthTest.set(!1)},Xt.prototype.setStencilMode=function(g){g.test.func!==this.gl.ALWAYS||g.mask?(this.stencilTest.set(!0),this.stencilMask.set(g.mask),this.stencilOp.set([g.fail,g.depthFail,g.pass]),this.stencilFunc.set({func:g.test.func,ref:g.ref,mask:g.test.mask})):this.stencilTest.set(!1)},Xt.prototype.setColorMode=function(g){n.deepEqual(g.blendFunction,Ut.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(g.blendFunction),this.blendColor.set(g.blendColor)),this.colorMask.set(g.mask)},Xt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var oe=function(g){function b(v,B,J){var st=this;g.call(this),this.id=v,this.dispatcher=J,this.on("data",function(dt){"source"===dt.dataType&&"metadata"===dt.sourceDataType&&(st._sourceLoaded=!0),st._sourceLoaded&&!st._paused&&"source"===dt.dataType&&"content"===dt.sourceDataType&&(st.reload(),st.transform&&st.update(st.transform))}),this.on("error",function(){st._sourceErrored=!0}),this._source=function(dt,Pt,zt,Zt){var he=new Jt[Pt.type](dt,Pt,zt,Zt);if(he.id!==dt)throw new Error("Expected Source id to be "+dt+" instead of "+he.id);return n.bindAll(["load","abort","unload","serialize","prepare"],he),he}(v,B,J,this),this._tiles={},this._cache=new se(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.onAdd=function(v){this.map=v,this._maxTileCacheSize=v?v._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(v)},b.prototype.onRemove=function(v){this._source&&this._source.onRemove&&this._source.onRemove(v)},b.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var v in this._tiles){var B=this._tiles[v];if("loaded"!==B.state&&"errored"!==B.state)return!1}return!0},b.prototype.getSource=function(){return this._source},b.prototype.pause=function(){this._paused=!0},b.prototype.resume=function(){if(this._paused){var v=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,v&&this.reload(),this.transform&&this.update(this.transform)}},b.prototype._loadTile=function(v,B){return this._source.loadTile(v,B)},b.prototype._unloadTile=function(v){if(this._source.unloadTile)return this._source.unloadTile(v,function(){})},b.prototype._abortTile=function(v){if(this._source.abortTile)return this._source.abortTile(v,function(){})},b.prototype.serialize=function(){return this._source.serialize()},b.prototype.prepare=function(v){for(var B in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var J=this._tiles[B];J.upload(v),J.prepare(this.map.style.imageManager)}},b.prototype.getIds=function(){return n.values(this._tiles).map(function(v){return v.tileID}).sort(Le).map(function(v){return v.key})},b.prototype.getRenderableIds=function(v){var B=this,J=[];for(var st in this._tiles)this._isIdRenderable(st,v)&&J.push(this._tiles[st]);return v?J.sort(function(dt,Pt){var zt=dt.tileID,Zt=Pt.tileID,he=new n.Point(zt.canonical.x,zt.canonical.y)._rotate(B.transform.angle),de=new n.Point(Zt.canonical.x,Zt.canonical.y)._rotate(B.transform.angle);return zt.overscaledZ-Zt.overscaledZ||de.y-he.y||de.x-he.x}).map(function(dt){return dt.tileID.key}):J.map(function(dt){return dt.tileID}).sort(Le).map(function(dt){return dt.key})},b.prototype.hasRenderableParent=function(v){var B=this.findLoadedParent(v,0);return!!B&&this._isIdRenderable(B.tileID.key)},b.prototype._isIdRenderable=function(v,B){return this._tiles[v]&&this._tiles[v].hasData()&&!this._coveredTiles[v]&&(B||!this._tiles[v].holdingForFade())},b.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var v in this._cache.reset(),this._tiles)"errored"!==this._tiles[v].state&&this._reloadTile(v,"reloading")},b.prototype._reloadTile=function(v,B){var J=this._tiles[v];J&&("loading"!==J.state&&(J.state=B),this._loadTile(J,this._tileLoaded.bind(this,J,v,B)))},b.prototype._tileLoaded=function(v,B,J,st){if(st)return v.state="errored",void(404!==st.status?this._source.fire(new n.ErrorEvent(st,{tile:v})):this.update(this.transform));v.timeAdded=n.browser.now(),"expired"===J&&(v.refreshedUponExpiration=!0),this._setTileReloadTimer(B,v),"raster-dem"===this.getSource().type&&v.dem&&this._backfillDEM(v),this._state.initializeTileState(v,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:v,coord:v.tileID}))},b.prototype._backfillDEM=function(v){for(var B=this.getRenderableIds(),J=0;J<B.length;J++){var st=B[J];if(v.neighboringTiles&&v.neighboringTiles[st]){var dt=this.getTileByID(st);Pt(v,dt),Pt(dt,v)}}function Pt(zt,Zt){zt.needsHillshadePrepare=!0;var he=Zt.tileID.canonical.x-zt.tileID.canonical.x,de=Zt.tileID.canonical.y-zt.tileID.canonical.y,ve=Math.pow(2,zt.tileID.canonical.z),Ce=Zt.tileID.key;0===he&&0===de||Math.abs(de)>1||(Math.abs(he)>1&&(1===Math.abs(he+ve)?he+=ve:1===Math.abs(he-ve)&&(he-=ve)),Zt.dem&&zt.dem&&(zt.dem.backfillBorder(Zt.dem,he,de),zt.neighboringTiles&&zt.neighboringTiles[Ce]&&(zt.neighboringTiles[Ce].backfilled=!0)))}},b.prototype.getTile=function(v){return this.getTileByID(v.key)},b.prototype.getTileByID=function(v){return this._tiles[v]},b.prototype._retainLoadedChildren=function(v,B,J,st){for(var dt in this._tiles){var Pt=this._tiles[dt];if(!(st[dt]||!Pt.hasData()||Pt.tileID.overscaledZ<=B||Pt.tileID.overscaledZ>J)){for(var zt=Pt.tileID;Pt&&Pt.tileID.overscaledZ>B+1;){var Zt=Pt.tileID.scaledTo(Pt.tileID.overscaledZ-1);(Pt=this._tiles[Zt.key])&&Pt.hasData()&&(zt=Zt)}for(var he=zt;he.overscaledZ>B;)if(v[(he=he.scaledTo(he.overscaledZ-1)).key]){st[zt.key]=zt;break}}}},b.prototype.findLoadedParent=function(v,B){if(v.key in this._loadedParentTiles){var J=this._loadedParentTiles[v.key];return J&&J.tileID.overscaledZ>=B?J:null}for(var st=v.overscaledZ-1;st>=B;st--){var dt=v.scaledTo(st),Pt=this._getLoadedTile(dt);if(Pt)return Pt}},b.prototype._getLoadedTile=function(v){var B=this._tiles[v.key];return B&&B.hasData()?B:this._cache.getByKey(v.wrapped().key)},b.prototype.updateCacheSize=function(v){var B=Math.ceil(v.width/this._source.tileSize)+1,J=Math.ceil(v.height/this._source.tileSize)+1,st=Math.floor(B*J*5),dt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,st):st;this._cache.setMaxSize(dt)},b.prototype.handleWrapJump=function(v){var B=Math.round((v-(void 0===this._prevLng?v:this._prevLng))/360);if(this._prevLng=v,B){var J={};for(var st in this._tiles){var dt=this._tiles[st];dt.tileID=dt.tileID.unwrapTo(dt.tileID.wrap+B),J[dt.tileID.key]=dt}for(var Pt in this._tiles=J,this._timers)clearTimeout(this._timers[Pt]),delete this._timers[Pt];for(var zt in this._tiles)this._setTileReloadTimer(zt,this._tiles[zt])}},b.prototype.update=function(v){var B=this;if(this.transform=v,this._sourceLoaded&&!this._paused){var J;this.updateCacheSize(v),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?J=v.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Gi){return new n.OverscaledTileID(Gi.canonical.z,Gi.wrap,Gi.canonical.z,Gi.canonical.x,Gi.canonical.y)}):(J=v.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(J=J.filter(function(Gi){return B._source.hasTile(Gi)}))):J=[];var st=v.coveringZoomLevel(this._source),dt=Math.max(st-b.maxOverzooming,this._source.minzoom),Pt=Math.max(st+b.maxUnderzooming,this._source.minzoom),zt=this._updateRetainedTiles(J,st);if(Oe(this._source.type)){for(var Zt={},he={},de=0,ve=Object.keys(zt);de<ve.length;de+=1){var Ce=ve[de],Pe=zt[Ce],Be=this._tiles[Ce];if(Be&&!(Be.fadeEndTime&&Be.fadeEndTime<=n.browser.now())){var we=this.findLoadedParent(Pe,dt);we&&(this._addTile(we.tileID),Zt[we.tileID.key]=we.tileID),he[Ce]=Pe}}for(var Re in this._retainLoadedChildren(he,st,Pt,zt),Zt)zt[Re]||(this._coveredTiles[Re]=!0,zt[Re]=Zt[Re])}for(var Ge in zt)this._tiles[Ge].clearFadeHold();for(var hi=0,Ci=n.keysDifference(this._tiles,zt);hi<Ci.length;hi+=1){var wi=Ci[hi],Mi=this._tiles[wi];Mi.hasSymbolBuckets&&!Mi.holdingForFade()?Mi.setHoldDuration(this.map._fadeDuration):Mi.hasSymbolBuckets&&!Mi.symbolFadeFinished()||this._removeTile(wi)}this._updateLoadedParentTileCache()}},b.prototype.releaseSymbolFadeTiles=function(){for(var v in this._tiles)this._tiles[v].holdingForFade()&&this._removeTile(v)},b.prototype._updateRetainedTiles=function(v,B){for(var J={},st={},dt=Math.max(B-b.maxOverzooming,this._source.minzoom),Pt=Math.max(B+b.maxUnderzooming,this._source.minzoom),zt={},Zt=0,he=v;Zt<he.length;Zt+=1){var de=he[Zt],ve=this._addTile(de);J[de.key]=de,ve.hasData()||B<this._source.maxzoom&&(zt[de.key]=de)}this._retainLoadedChildren(zt,B,Pt,J);for(var Ce=0,Pe=v;Ce<Pe.length;Ce+=1){var Be=Pe[Ce],we=this._tiles[Be.key];if(!we.hasData()){if(B+1>this._source.maxzoom){var Re=Be.children(this._source.maxzoom)[0],Ge=this.getTile(Re);if(Ge&&Ge.hasData()){J[Re.key]=Re;continue}}else{var hi=Be.children(this._source.maxzoom);if(J[hi[0].key]&&J[hi[1].key]&&J[hi[2].key]&&J[hi[3].key])continue}for(var Ci=we.wasRequested(),wi=Be.overscaledZ-1;wi>=dt;--wi){var Mi=Be.scaledTo(wi);if(st[Mi.key]||(st[Mi.key]=!0,!(we=this.getTile(Mi))&&Ci&&(we=this._addTile(Mi)),we&&(J[Mi.key]=Mi,Ci=we.wasRequested(),we.hasData())))break}}}return J},b.prototype._updateLoadedParentTileCache=function(){for(var v in this._loadedParentTiles={},this._tiles){for(var B=[],J=void 0,st=this._tiles[v].tileID;st.overscaledZ>0;){if(st.key in this._loadedParentTiles){J=this._loadedParentTiles[st.key];break}B.push(st.key);var dt=st.scaledTo(st.overscaledZ-1);if(J=this._getLoadedTile(dt))break;st=dt}for(var Pt=0,zt=B;Pt<zt.length;Pt+=1)this._loadedParentTiles[zt[Pt]]=J}},b.prototype._addTile=function(v){var B=this._tiles[v.key];if(B)return B;(B=this._cache.getAndRemove(v))&&(this._setTileReloadTimer(v.key,B),B.tileID=v,this._state.initializeTileState(B,this.map?this.map.painter:null),this._cacheTimers[v.key]&&(clearTimeout(this._cacheTimers[v.key]),delete this._cacheTimers[v.key],this._setTileReloadTimer(v.key,B)));var J=Boolean(B);return J||(B=new n.Tile(v,this._source.tileSize*v.overscaleFactor()),this._loadTile(B,this._tileLoaded.bind(this,B,v.key,B.state))),B?(B.uses++,this._tiles[v.key]=B,J||this._source.fire(new n.Event("dataloading",{tile:B,coord:B.tileID,dataType:"source"})),B):null},b.prototype._setTileReloadTimer=function(v,B){var J=this;v in this._timers&&(clearTimeout(this._timers[v]),delete this._timers[v]);var st=B.getExpiryTimeout();st&&(this._timers[v]=setTimeout(function(){J._reloadTile(v,"expired"),delete J._timers[v]},st))},b.prototype._removeTile=function(v){var B=this._tiles[v];B&&(B.uses--,delete this._tiles[v],this._timers[v]&&(clearTimeout(this._timers[v]),delete this._timers[v]),B.uses>0||(B.hasData()&&"reloading"!==B.state?this._cache.add(B.tileID,B,B.getExpiryTimeout()):(B.aborted=!0,this._abortTile(B),this._unloadTile(B))))},b.prototype.clearTiles=function(){for(var v in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(v);this._cache.reset()},b.prototype.tilesIn=function(v,B,J){var st=this,dt=[],Pt=this.transform;if(!Pt)return dt;for(var zt=J?Pt.getCameraQueryGeometry(v):v,Zt=v.map(function(wi){return Pt.pointCoordinate(wi)}),he=zt.map(function(wi){return Pt.pointCoordinate(wi)}),de=this.getIds(),ve=1/0,Ce=1/0,Pe=-1/0,Be=-1/0,we=0,Re=he;we<Re.length;we+=1){var Ge=Re[we];ve=Math.min(ve,Ge.x),Ce=Math.min(Ce,Ge.y),Pe=Math.max(Pe,Ge.x),Be=Math.max(Be,Ge.y)}for(var hi=function(wi){var Mi=st._tiles[de[wi]];if(!Mi.holdingForFade()){var Gi=Mi.tileID,on=Math.pow(2,Pt.zoom-Mi.tileID.overscaledZ),rn=B*Mi.queryPadding*n.EXTENT/Mi.tileSize/on,vn=[Gi.getTilePoint(new n.MercatorCoordinate(ve,Ce)),Gi.getTilePoint(new n.MercatorCoordinate(Pe,Be))];if(vn[0].x-rn<n.EXTENT&&vn[0].y-rn<n.EXTENT&&vn[1].x+rn>=0&&vn[1].y+rn>=0){var Nn=Zt.map(function(zn){return Gi.getTilePoint(zn)}),jn=he.map(function(zn){return Gi.getTilePoint(zn)});dt.push({tile:Mi,tileID:Gi,queryGeometry:Nn,cameraQueryGeometry:jn,scale:on})}}},Ci=0;Ci<de.length;Ci++)hi(Ci);return dt},b.prototype.getVisibleCoordinates=function(v){for(var B=this,J=this.getRenderableIds(v).map(function(zt){return B._tiles[zt].tileID}),st=0,dt=J;st<dt.length;st+=1){var Pt=dt[st];Pt.posMatrix=this.transform.calculatePosMatrix(Pt.toUnwrapped())}return J},b.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Oe(this._source.type))for(var v in this._tiles){var B=this._tiles[v];if(void 0!==B.fadeEndTime&&B.fadeEndTime>=n.browser.now())return!0}return!1},b.prototype.setFeatureState=function(v,B,J){this._state.updateState(v=v||"_geojsonTileLayer",B,J)},b.prototype.removeFeatureState=function(v,B,J){this._state.removeFeatureState(v=v||"_geojsonTileLayer",B,J)},b.prototype.getFeatureState=function(v,B){return this._state.getState(v=v||"_geojsonTileLayer",B)},b.prototype.setDependencies=function(v,B,J){var st=this._tiles[v];st&&st.setDependencies(B,J)},b.prototype.reloadTilesForDependencies=function(v,B){for(var J in this._tiles)this._tiles[J].hasDependency(v,B)&&this._reloadTile(J,"reloading");this._cache.filter(function(st){return!st.hasDependency(v,B)})},b}(n.Evented);function Le(g,b){var v=Math.abs(2*g.wrap)-+(g.wrap<0),B=Math.abs(2*b.wrap)-+(b.wrap<0);return g.overscaledZ-b.overscaledZ||B-v||b.canonical.y-g.canonical.y||b.canonical.x-g.canonical.x}function Oe(g){return"raster"===g||"image"===g||"video"===g}function Qe(){return new n.window.Worker(wl.workerUrl)}oe.maxOverzooming=10,oe.maxUnderzooming=3;var ue="mapboxgl_preloaded_worker_pool",Ye=function(){this.active={}};Ye.prototype.acquire=function(g){if(!this.workers)for(this.workers=[];this.workers.length<Ye.workerCount;)this.workers.push(new Qe);return this.active[g]=!0,this.workers.slice()},Ye.prototype.release=function(g){delete this.active[g],0===this.numActive()&&(this.workers.forEach(function(b){b.terminate()}),this.workers=null)},Ye.prototype.isPreloaded=function(){return!!this.active[ue]},Ye.prototype.numActive=function(){return Object.keys(this.active).length};var De,di=Math.floor(n.browser.hardwareConcurrency/2);function Xe(){return De||(De=new Ye),De}function Oi(g,b){var v={};for(var B in g)"ref"!==B&&(v[B]=g[B]);return n.refProperties.forEach(function(J){J in b&&(v[J]=b[J])}),v}function ki(g){g=g.slice();for(var b=Object.create(null),v=0;v<g.length;v++)b[g[v].id]=g[v];for(var B=0;B<g.length;B++)"ref"in g[B]&&(g[B]=Oi(g[B],b[g[B].ref]));return g}Ye.workerCount=Math.max(Math.min(di,6),1);var oi={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function an(g,b,v){v.push({command:oi.addSource,args:[g,b[g]]})}function Ii(g,b,v){b.push({command:oi.removeSource,args:[g]}),v[g]=!0}function Pn(g,b,v,B){Ii(g,v,B),an(g,b,v)}function yn(g,b,v){var B;for(B in g[v])if(g[v].hasOwnProperty(B)&&"data"!==B&&!n.deepEqual(g[v][B],b[v][B]))return!1;for(B in b[v])if(b[v].hasOwnProperty(B)&&"data"!==B&&!n.deepEqual(g[v][B],b[v][B]))return!1;return!0}function bn(g,b,v,B,J,st){var dt;for(dt in b=b||{},g=g||{})g.hasOwnProperty(dt)&&(n.deepEqual(g[dt],b[dt])||v.push({command:st,args:[B,dt,b[dt],J]}));for(dt in b)b.hasOwnProperty(dt)&&!g.hasOwnProperty(dt)&&(n.deepEqual(g[dt],b[dt])||v.push({command:st,args:[B,dt,b[dt],J]}))}function En(g){return g.id}function kn(g,b){return g[b.id]=b,g}var Qn=function(g,b){this.reset(g,b)};Qn.prototype.reset=function(g,b){this.points=g||[],this._distances=[0];for(var v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(b||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Qn.prototype.lerp=function(g){if(1===this.points.length)return this.points[0];g=n.clamp(g,0,1);for(var b=1,v=this._distances[b],B=g*this.paddedLength+this.padding;v<B&&b<this._distances.length;)v=this._distances[++b];var J=b-1,st=this._distances[J],dt=v-st,Pt=dt>0?(B-st)/dt:0;return this.points[J].mult(1-Pt).add(this.points[b].mult(Pt))};var wn=function(g,b,v){var B=this.boxCells=[],J=this.circleCells=[];this.xCellCount=Math.ceil(g/v),this.yCellCount=Math.ceil(b/v);for(var st=0;st<this.xCellCount*this.yCellCount;st++)B.push([]),J.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=g,this.height=b,this.xScale=this.xCellCount/g,this.yScale=this.yCellCount/b,this.boxUid=0,this.circleUid=0};function Yn(g,b,v,B,J){var st=n.create();return b?(n.scale(st,st,[1/J,1/J,1]),v||n.rotateZ(st,st,B.angle)):n.multiply(st,B.labelPlaneMatrix,g),st}function In(g,b,v,B,J){if(b){var st=n.clone(g);return n.scale(st,st,[J,J,1]),v||n.rotateZ(st,st,-B.angle),st}return B.glCoordMatrix}function An(g,b){var v=[g.x,g.y,0,1];Ur(v,v,b);var B=v[3];return{point:new n.Point(v[0]/B,v[1]/B),signedDistanceFromCamera:B}}function zi(g,b){return.5+g/b*.5}function Xn(g,b){var v=g[0]/g[3],B=g[1]/g[3];return v>=-b[0]&&v<=b[0]&&B>=-b[1]&&B<=b[1]}function Lr(g,b,v,B,J,st,dt,Pt){var zt=B?g.textSizeData:g.iconSizeData,Zt=n.evaluateSizeForZoom(zt,v.transform.zoom),he=[256/v.width*2+1,256/v.height*2+1],de=B?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;de.clear();for(var ve=g.lineVertexArray,Ce=B?g.text.placedSymbolArray:g.icon.placedSymbolArray,Pe=v.transform.width/v.transform.height,Be=!1,we=0;we<Ce.length;we++){var Re=Ce.get(we);if(Re.hidden||Re.writingMode===n.WritingMode.vertical&&!Be)kr(Re.numGlyphs,de);else{Be=!1;var Ge=[Re.anchorX,Re.anchorY,0,1];if(n.transformMat4(Ge,Ge,b),Xn(Ge,he)){var hi=zi(v.transform.cameraToCenterDistance,Ge[3]),Ci=n.evaluateSizeForFeature(zt,Zt,Re),wi=dt?Ci/hi:Ci*hi,Mi=new n.Point(Re.anchorX,Re.anchorY),Gi=An(Mi,J).point,on={},rn=Xr(Re,wi,!1,Pt,b,J,st,g.glyphOffsetArray,ve,de,Gi,Mi,on,Pe);Be=rn.useVertical,(rn.notEnoughRoom||Be||rn.needsFlipping&&Xr(Re,wi,!0,Pt,b,J,st,g.glyphOffsetArray,ve,de,Gi,Mi,on,Pe).notEnoughRoom)&&kr(Re.numGlyphs,de)}else kr(Re.numGlyphs,de)}}B?g.text.dynamicLayoutVertexBuffer.updateData(de):g.icon.dynamicLayoutVertexBuffer.updateData(de)}function qn(g,b,v,B,J,st,dt,Pt,zt,Zt,he){var de=Pt.glyphStartIndex+Pt.numGlyphs,ve=Pt.lineStartIndex,Ce=Pt.lineStartIndex+Pt.lineLength,Pe=b.getoffsetX(Pt.glyphStartIndex),Be=b.getoffsetX(de-1),we=nr(g*Pe,v,B,J,st,dt,Pt.segment,ve,Ce,zt,Zt,he);if(!we)return null;var Re=nr(g*Be,v,B,J,st,dt,Pt.segment,ve,Ce,zt,Zt,he);return Re?{first:we,last:Re}:null}function lr(g,b,v,B){return g===n.WritingMode.horizontal&&Math.abs(v.y-b.y)>Math.abs(v.x-b.x)*B?{useVertical:!0}:(g===n.WritingMode.vertical?b.y<v.y:b.x>v.x)?{needsFlipping:!0}:null}function Xr(g,b,v,B,J,st,dt,Pt,zt,Zt,he,de,ve,Ce){var Pe,Be=b/24,we=g.lineOffsetX*Be,Re=g.lineOffsetY*Be;if(g.numGlyphs>1){var Ge=g.glyphStartIndex+g.numGlyphs,hi=g.lineStartIndex,Ci=g.lineStartIndex+g.lineLength,wi=qn(Be,Pt,we,Re,v,he,de,g,zt,st,ve);if(!wi)return{notEnoughRoom:!0};var Mi=An(wi.first.point,dt).point,Gi=An(wi.last.point,dt).point;if(B&&!v){var on=lr(g.writingMode,Mi,Gi,Ce);if(on)return on}Pe=[wi.first];for(var rn=g.glyphStartIndex+1;rn<Ge-1;rn++)Pe.push(nr(Be*Pt.getoffsetX(rn),we,Re,v,he,de,g.segment,hi,Ci,zt,st,ve));Pe.push(wi.last)}else{if(B&&!v){var vn=An(de,J).point,Nn=g.lineStartIndex+g.segment+1,jn=new n.Point(zt.getx(Nn),zt.gety(Nn)),zn=An(jn,J),zr=zn.signedDistanceFromCamera>0?zn.point:Kr(de,jn,vn,1,J),xn=lr(g.writingMode,vn,zr,Ce);if(xn)return xn}var or=nr(Be*Pt.getoffsetX(g.glyphStartIndex),we,Re,v,he,de,g.segment,g.lineStartIndex,g.lineStartIndex+g.lineLength,zt,st,ve);if(!or)return{notEnoughRoom:!0};Pe=[or]}for(var yr=0,ir=Pe;yr<ir.length;yr+=1){var tr=ir[yr];n.addDynamicAttributes(Zt,tr.point,tr.angle)}return{}}function Kr(g,b,v,B,J){var st=An(g.add(g.sub(b)._unit()),J).point,dt=v.sub(st);return v.add(dt._mult(B/dt.mag()))}function nr(g,b,v,B,J,st,dt,Pt,zt,Zt,he,de){var ve=B?g-b:g+b,Ce=ve>0?1:-1,Pe=0;B&&(Ce*=-1,Pe=Math.PI),Ce<0&&(Pe+=Math.PI);for(var Be=Ce>0?Pt+dt:Pt+dt+1,we=J,Re=J,Ge=0,hi=0,Ci=Math.abs(ve),wi=[];Ge+hi<=Ci;){if((Be+=Ce)<Pt||Be>=zt)return null;if(Re=we,wi.push(we),void 0===(we=de[Be])){var Mi=new n.Point(Zt.getx(Be),Zt.gety(Be)),Gi=An(Mi,he);if(Gi.signedDistanceFromCamera>0)we=de[Be]=Gi.point;else{var on=Be-Ce;we=Kr(0===Ge?st:new n.Point(Zt.getx(on),Zt.gety(on)),Mi,Re,Ci-Ge+1,he)}}Ge+=hi,hi=Re.dist(we)}var rn=(Ci-Ge)/hi,vn=we.sub(Re),Nn=vn.mult(rn)._add(Re);Nn._add(vn._unit()._perp()._mult(v*Ce));var jn=Pe+Math.atan2(we.y-Re.y,we.x-Re.x);return wi.push(Nn),{point:Nn,angle:jn,path:wi}}wn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},wn.prototype.insert=function(g,b,v,B,J){this._forEachCell(b,v,B,J,this._insertBoxCell,this.boxUid++),this.boxKeys.push(g),this.bboxes.push(b),this.bboxes.push(v),this.bboxes.push(B),this.bboxes.push(J)},wn.prototype.insertCircle=function(g,b,v,B){this._forEachCell(b-B,v-B,b+B,v+B,this._insertCircleCell,this.circleUid++),this.circleKeys.push(g),this.circles.push(b),this.circles.push(v),this.circles.push(B)},wn.prototype._insertBoxCell=function(g,b,v,B,J,st){this.boxCells[J].push(st)},wn.prototype._insertCircleCell=function(g,b,v,B,J,st){this.circleCells[J].push(st)},wn.prototype._query=function(g,b,v,B,J,st){if(v<0||g>this.width||B<0||b>this.height)return!J&&[];var dt=[];if(g<=0&&b<=0&&this.width<=v&&this.height<=B){if(J)return!0;for(var Pt=0;Pt<this.boxKeys.length;Pt++)dt.push({key:this.boxKeys[Pt],x1:this.bboxes[4*Pt],y1:this.bboxes[4*Pt+1],x2:this.bboxes[4*Pt+2],y2:this.bboxes[4*Pt+3]});for(var zt=0;zt<this.circleKeys.length;zt++){var Zt=this.circles[3*zt],he=this.circles[3*zt+1],de=this.circles[3*zt+2];dt.push({key:this.circleKeys[zt],x1:Zt-de,y1:he-de,x2:Zt+de,y2:he+de})}return st?dt.filter(st):dt}return this._forEachCell(g,b,v,B,this._queryCell,dt,{hitTest:J,seenUids:{box:{},circle:{}}},st),J?dt.length>0:dt},wn.prototype._queryCircle=function(g,b,v,B,J){var st=g-v,dt=g+v,Pt=b-v,zt=b+v;if(dt<0||st>this.width||zt<0||Pt>this.height)return!B&&[];var Zt=[];return this._forEachCell(st,Pt,dt,zt,this._queryCellCircle,Zt,{hitTest:B,circle:{x:g,y:b,radius:v},seenUids:{box:{},circle:{}}},J),B?Zt.length>0:Zt},wn.prototype.query=function(g,b,v,B,J){return this._query(g,b,v,B,!1,J)},wn.prototype.hitTest=function(g,b,v,B,J){return this._query(g,b,v,B,!0,J)},wn.prototype.hitTestCircle=function(g,b,v,B){return this._queryCircle(g,b,v,!0,B)},wn.prototype._queryCell=function(g,b,v,B,J,st,dt,Pt){var zt=dt.seenUids,Zt=this.boxCells[J];if(null!==Zt)for(var he=this.bboxes,de=0,ve=Zt;de<ve.length;de+=1){var Ce=ve[de];if(!zt.box[Ce]){zt.box[Ce]=!0;var Pe=4*Ce;if(g<=he[Pe+2]&&b<=he[Pe+3]&&v>=he[Pe+0]&&B>=he[Pe+1]&&(!Pt||Pt(this.boxKeys[Ce]))){if(dt.hitTest)return st.push(!0),!0;st.push({key:this.boxKeys[Ce],x1:he[Pe],y1:he[Pe+1],x2:he[Pe+2],y2:he[Pe+3]})}}}var Be=this.circleCells[J];if(null!==Be)for(var we=this.circles,Re=0,Ge=Be;Re<Ge.length;Re+=1){var hi=Ge[Re];if(!zt.circle[hi]){zt.circle[hi]=!0;var Ci=3*hi;if(this._circleAndRectCollide(we[Ci],we[Ci+1],we[Ci+2],g,b,v,B)&&(!Pt||Pt(this.circleKeys[hi]))){if(dt.hitTest)return st.push(!0),!0;var wi=we[Ci],Mi=we[Ci+1],Gi=we[Ci+2];st.push({key:this.circleKeys[hi],x1:wi-Gi,y1:Mi-Gi,x2:wi+Gi,y2:Mi+Gi})}}}},wn.prototype._queryCellCircle=function(g,b,v,B,J,st,dt,Pt){var zt=dt.circle,Zt=dt.seenUids,he=this.boxCells[J];if(null!==he)for(var de=this.bboxes,ve=0,Ce=he;ve<Ce.length;ve+=1){var Pe=Ce[ve];if(!Zt.box[Pe]){Zt.box[Pe]=!0;var Be=4*Pe;if(this._circleAndRectCollide(zt.x,zt.y,zt.radius,de[Be+0],de[Be+1],de[Be+2],de[Be+3])&&(!Pt||Pt(this.boxKeys[Pe])))return st.push(!0),!0}}var we=this.circleCells[J];if(null!==we)for(var Re=this.circles,Ge=0,hi=we;Ge<hi.length;Ge+=1){var Ci=hi[Ge];if(!Zt.circle[Ci]){Zt.circle[Ci]=!0;var wi=3*Ci;if(this._circlesCollide(Re[wi],Re[wi+1],Re[wi+2],zt.x,zt.y,zt.radius)&&(!Pt||Pt(this.circleKeys[Ci])))return st.push(!0),!0}}},wn.prototype._forEachCell=function(g,b,v,B,J,st,dt,Pt){for(var zt=this._convertToXCellCoord(g),Zt=this._convertToYCellCoord(b),he=this._convertToXCellCoord(v),de=this._convertToYCellCoord(B),ve=zt;ve<=he;ve++)for(var Ce=Zt;Ce<=de;Ce++)if(J.call(this,g,b,v,B,this.xCellCount*Ce+ve,st,dt,Pt))return},wn.prototype._convertToXCellCoord=function(g){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(g*this.xScale)))},wn.prototype._convertToYCellCoord=function(g){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(g*this.yScale)))},wn.prototype._circlesCollide=function(g,b,v,B,J,st){var dt=B-g,Pt=J-b,zt=v+st;return zt*zt>dt*dt+Pt*Pt},wn.prototype._circleAndRectCollide=function(g,b,v,B,J,st,dt){var Pt=(st-B)/2,zt=Math.abs(g-(B+Pt));if(zt>Pt+v)return!1;var Zt=(dt-J)/2,he=Math.abs(b-(J+Zt));if(he>Zt+v)return!1;if(zt<=Pt||he<=Zt)return!0;var de=zt-Pt,ve=he-Zt;return de*de+ve*ve<=v*v};var Rr=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function kr(g,b){for(var v=0;v<g;v++){var B=b.length;b.resize(B+4),b.float32.set(Rr,3*B)}}function Ur(g,b,v){var B=b[0],J=b[1];return g[0]=v[0]*B+v[4]*J+v[12],g[1]=v[1]*B+v[5]*J+v[13],g[3]=v[3]*B+v[7]*J+v[15],g}var Br=function(g,b,v){void 0===b&&(b=new wn(g.width+200,g.height+200,25)),void 0===v&&(v=new wn(g.width+200,g.height+200,25)),this.transform=g,this.grid=b,this.ignoredGrid=v,this.pitchfactor=Math.cos(g._pitch)*g.cameraToCenterDistance,this.screenRightBoundary=g.width+100,this.screenBottomBoundary=g.height+100,this.gridRightBoundary=g.width+200,this.gridBottomBoundary=g.height+200};function wr(g,b,v){return b*(n.EXTENT/(g.tileSize*Math.pow(2,v-g.tileID.overscaledZ)))}Br.prototype.placeCollisionBox=function(g,b,v,B,J){var st=this.projectAndGetPerspectiveRatio(B,g.anchorPointX,g.anchorPointY),dt=v*st.perspectiveRatio,Pt=g.x1*dt+st.point.x,zt=g.y1*dt+st.point.y,Zt=g.x2*dt+st.point.x,he=g.y2*dt+st.point.y;return!this.isInsideGrid(Pt,zt,Zt,he)||!b&&this.grid.hitTest(Pt,zt,Zt,he,J)?{box:[],offscreen:!1}:{box:[Pt,zt,Zt,he],offscreen:this.isOffscreen(Pt,zt,Zt,he)}},Br.prototype.placeCollisionCircles=function(g,b,v,B,J,st,dt,Pt,zt,Zt,he,de,ve){var Ce=[],Pe=new n.Point(b.anchorX,b.anchorY),Be=An(Pe,st),we=zi(this.transform.cameraToCenterDistance,Be.signedDistanceFromCamera),Re=(Zt?J/we:J*we)/n.ONE_EM,Ge=An(Pe,dt).point,hi=qn(Re,B,b.lineOffsetX*Re,b.lineOffsetY*Re,!1,Ge,Pe,b,v,dt,{}),Ci=!1,wi=!1,Mi=!0;if(hi){for(var Gi=.5*de*we+ve,on=new n.Point(-100,-100),rn=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),vn=new Qn,Nn=hi.first,jn=hi.last,zn=[],zr=Nn.path.length-1;zr>=1;zr--)zn.push(Nn.path[zr]);for(var xn=1;xn<jn.path.length;xn++)zn.push(jn.path[xn]);var or=2.5*Gi;if(Pt){var yr=zn.map(function(ea){return An(ea,Pt)});zn=yr.some(function(ea){return ea.signedDistanceFromCamera<=0})?[]:yr.map(function(ea){return ea.point})}var ir=[];if(zn.length>0){for(var tr=zn[0].clone(),gr=zn[0].clone(),$n=1;$n<zn.length;$n++)tr.x=Math.min(tr.x,zn[$n].x),tr.y=Math.min(tr.y,zn[$n].y),gr.x=Math.max(gr.x,zn[$n].x),gr.y=Math.max(gr.y,zn[$n].y);ir=tr.x>=on.x&&gr.x<=rn.x&&tr.y>=on.y&&gr.y<=rn.y?[zn]:gr.x<on.x||tr.x>rn.x||gr.y<on.y||tr.y>rn.y?[]:n.clipLine([zn],on.x,on.y,rn.x,rn.y)}for(var Wn=0,Jo=ir;Wn<Jo.length;Wn+=1){var Mo;vn.reset(Jo[Wn],.25*Gi),Mo=vn.length<=.5*Gi?1:Math.ceil(vn.paddedLength/or)+1;for(var xs=0;xs<Mo;xs++){var as=xs/Math.max(Mo-1,1),So=vn.lerp(as),Oo=So.x+100,Us=So.y+100;Ce.push(Oo,Us,Gi,0);var Ps=Oo-Gi,Ma=Us-Gi,Es=Oo+Gi,sa=Us+Gi;if(Mi=Mi&&this.isOffscreen(Ps,Ma,Es,sa),wi=wi||this.isInsideGrid(Ps,Ma,Es,sa),!g&&this.grid.hitTestCircle(Oo,Us,Gi,he)&&(Ci=!0,!zt))return{circles:[],offscreen:!1,collisionDetected:Ci}}}}return{circles:!zt&&Ci||!wi?[]:Ce,offscreen:Mi,collisionDetected:Ci}},Br.prototype.queryRenderedSymbols=function(g){if(0===g.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var b=[],v=1/0,B=1/0,J=-1/0,st=-1/0,dt=0,Pt=g;dt<Pt.length;dt+=1){var zt=Pt[dt],Zt=new n.Point(zt.x+100,zt.y+100);v=Math.min(v,Zt.x),B=Math.min(B,Zt.y),J=Math.max(J,Zt.x),st=Math.max(st,Zt.y),b.push(Zt)}for(var he={},de={},ve=0,Ce=this.grid.query(v,B,J,st).concat(this.ignoredGrid.query(v,B,J,st));ve<Ce.length;ve+=1){var Pe=Ce[ve],Be=Pe.key;if(void 0===he[Be.bucketInstanceId]&&(he[Be.bucketInstanceId]={}),!he[Be.bucketInstanceId][Be.featureIndex]){var we=[new n.Point(Pe.x1,Pe.y1),new n.Point(Pe.x2,Pe.y1),new n.Point(Pe.x2,Pe.y2),new n.Point(Pe.x1,Pe.y2)];n.polygonIntersectsPolygon(b,we)&&(he[Be.bucketInstanceId][Be.featureIndex]=!0,void 0===de[Be.bucketInstanceId]&&(de[Be.bucketInstanceId]=[]),de[Be.bucketInstanceId].push(Be.featureIndex))}}return de},Br.prototype.insertCollisionBox=function(g,b,v,B,J){(b?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:B,collisionGroupID:J},g[0],g[1],g[2],g[3])},Br.prototype.insertCollisionCircles=function(g,b,v,B,J){for(var st=b?this.ignoredGrid:this.grid,dt={bucketInstanceId:v,featureIndex:B,collisionGroupID:J},Pt=0;Pt<g.length;Pt+=4)st.insertCircle(dt,g[Pt],g[Pt+1],g[Pt+2])},Br.prototype.projectAndGetPerspectiveRatio=function(g,b,v){var B=[b,v,0,1];return Ur(B,B,g),{point:new n.Point((B[0]/B[3]+1)/2*this.transform.width+100,(-B[1]/B[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/B[3]*.5}},Br.prototype.isOffscreen=function(g,b,v,B){return v<100||g>=this.screenRightBoundary||B<100||b>this.screenBottomBoundary},Br.prototype.isInsideGrid=function(g,b,v,B){return v>=0&&g<this.gridRightBoundary&&B>=0&&b<this.gridBottomBoundary},Br.prototype.getViewportMatrix=function(){var g=n.identity([]);return n.translate(g,g,[-100,-100,0]),g};var io=function(g,b,v,B){this.opacity=g?Math.max(0,Math.min(1,g.opacity+(g.placed?b:-b))):B&&v?1:0,this.placed=v};io.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var no=function(g,b,v,B,J){this.text=new io(g?g.text:null,b,v,J),this.icon=new io(g?g.icon:null,b,B,J)};no.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Bo=function(g,b,v){this.text=g,this.icon=b,this.skipFade=v},Jr=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},Vo=function(g,b,v,B,J){this.bucketInstanceId=g,this.featureIndex=b,this.sourceLayerIndex=v,this.bucketIndex=B,this.tileID=J},Zr=function(g){this.crossSourceCollisions=g,this.maxGroupID=0,this.collisionGroups={}};function to(g,b,v,B,J){var st=n.getAnchorAlignment(g),dt=-(st.horizontalAlign-.5)*b,Pt=-(st.verticalAlign-.5)*v,zt=n.evaluateVariableOffset(g,B);return new n.Point(dt+zt[0]*J,Pt+zt[1]*J)}function fo(g,b,v,B,J,st){var dt=g.x1,Pt=g.x2,zt=g.y1,Zt=g.y2,he=g.anchorPointX,de=g.anchorPointY,ve=new n.Point(b,v);return B&&ve._rotate(J?st:-st),{x1:dt+ve.x,y1:zt+ve.y,x2:Pt+ve.x,y2:Zt+ve.y,anchorPointX:he,anchorPointY:de}}Zr.prototype.get=function(g){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[g]){var b=++this.maxGroupID;this.collisionGroups[g]={ID:b,predicate:function(v){return v.collisionGroupID===b}}}return this.collisionGroups[g]};var $r=function(g,b,v,B){this.transform=g.clone(),this.collisionIndex=new Br(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=b,this.retainedQueryData={},this.collisionGroups=new Zr(v),this.collisionCircleArrays={},this.prevPlacement=B,B&&(B.prevPlacement=void 0),this.placedOrientations={}};function mo(g,b,v,B,J){g.emplaceBack(b?1:0,v?1:0,B||0,J||0),g.emplaceBack(b?1:0,v?1:0,B||0,J||0),g.emplaceBack(b?1:0,v?1:0,B||0,J||0),g.emplaceBack(b?1:0,v?1:0,B||0,J||0)}$r.prototype.getBucketParts=function(g,b,v,B){var J=v.getBucket(b),st=v.latestFeatureIndex;if(J&&st&&b.id===J.layerIds[0]){var dt=v.collisionBoxArray,Pt=J.layers[0].layout,zt=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),Zt=v.tileSize/n.EXTENT,he=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),de="map"===Pt.get("text-pitch-alignment"),ve="map"===Pt.get("text-rotation-alignment"),Ce=wr(v,1,this.transform.zoom),Pe=Yn(he,de,ve,this.transform,Ce),Be=null;if(de){var we=In(he,de,ve,this.transform,Ce);Be=n.multiply([],this.transform.labelPlaneMatrix,we)}this.retainedQueryData[J.bucketInstanceId]=new Vo(J.bucketInstanceId,st,J.sourceLayerIndex,J.index,v.tileID);var Re={bucket:J,layout:Pt,posMatrix:he,textLabelPlaneMatrix:Pe,labelToScreenMatrix:Be,scale:zt,textPixelRatio:Zt,holdingForFade:v.holdingForFade(),collisionBoxArray:dt,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(J.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(J.sourceID)};if(B)for(var Ge=0,hi=J.sortKeyRanges;Ge<hi.length;Ge+=1){var Ci=hi[Ge];g.push({sortKey:Ci.sortKey,symbolInstanceStart:Ci.symbolInstanceStart,symbolInstanceEnd:Ci.symbolInstanceEnd,parameters:Re})}else g.push({symbolInstanceStart:0,symbolInstanceEnd:J.symbolInstances.length,parameters:Re})}},$r.prototype.attemptAnchorPlacement=function(g,b,v,B,J,st,dt,Pt,zt,Zt,he,de,ve,Ce,Pe){var Be,we=[de.textOffset0,de.textOffset1],Re=to(g,v,B,we,J),Ge=this.collisionIndex.placeCollisionBox(fo(b,Re.x,Re.y,st,dt,this.transform.angle),he,Pt,zt,Zt.predicate);if(!Pe||0!==this.collisionIndex.placeCollisionBox(fo(Pe,Re.x,Re.y,st,dt,this.transform.angle),he,Pt,zt,Zt.predicate).box.length)return Ge.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[de.crossTileID]&&this.prevPlacement.placements[de.crossTileID]&&this.prevPlacement.placements[de.crossTileID].text&&(Be=this.prevPlacement.variableOffsets[de.crossTileID].anchor),this.variableOffsets[de.crossTileID]={textOffset:we,width:v,height:B,anchor:g,textBoxScale:J,prevAnchor:Be},this.markUsedJustification(ve,g,de,Ce),ve.allowVerticalPlacement&&(this.markUsedOrientation(ve,Ce,de),this.placedOrientations[de.crossTileID]=Ce),{shift:Re,placedGlyphBoxes:Ge}):void 0},$r.prototype.placeLayerBucketPart=function(g,b,v){var B=this,J=g.parameters,st=J.bucket,dt=J.layout,Pt=J.posMatrix,zt=J.textLabelPlaneMatrix,Zt=J.labelToScreenMatrix,he=J.textPixelRatio,de=J.holdingForFade,ve=J.collisionBoxArray,Ce=J.partiallyEvaluatedTextSize,Pe=J.collisionGroup,Be=dt.get("text-optional"),we=dt.get("icon-optional"),Re=dt.get("text-allow-overlap"),Ge=dt.get("icon-allow-overlap"),hi="map"===dt.get("text-rotation-alignment"),Ci="map"===dt.get("text-pitch-alignment"),wi="none"!==dt.get("icon-text-fit"),Mi="viewport-y"===dt.get("symbol-z-order"),Gi=Re&&(Ge||!st.hasIconData()||we),on=Ge&&(Re||!st.hasTextData()||Be);!st.collisionArrays&&ve&&st.deserializeCollisionBoxes(ve);var rn=function(xn,or){if(!b[xn.crossTileID])if(de)B.placements[xn.crossTileID]=new Bo(!1,!1,!1);else{var yr,ir=!1,tr=!1,gr=!0,$n=null,Wn={box:null,offscreen:null},Jo={box:null,offscreen:null},Mo=null,xs=null,as=0,So=0,Oo=0;or.textFeatureIndex?as=or.textFeatureIndex:xn.useRuntimeCollisionCircles&&(as=xn.featureIndex),or.verticalTextFeatureIndex&&(So=or.verticalTextFeatureIndex);var Us=or.textBox;if(Us){var Ps=function(Yr){var Ks=n.WritingMode.horizontal;if(st.allowVerticalPlacement&&!Yr&&B.prevPlacement){var Ls=B.prevPlacement.placedOrientations[xn.crossTileID];Ls&&(B.placedOrientations[xn.crossTileID]=Ls,B.markUsedOrientation(st,Ks=Ls,xn))}return Ks},Ma=function(Yr,Ks){if(st.allowVerticalPlacement&&xn.numVerticalGlyphVertices>0&&or.verticalTextBox)for(var Ls=0,ja=st.writingModes;Ls<ja.length&&(ja[Ls]===n.WritingMode.vertical?(Wn=Ks(),Jo=Wn):Wn=Yr(),!(Wn&&Wn.box&&Wn.box.length));Ls+=1);else Wn=Yr()};if(dt.get("text-variable-anchor")){var Es=dt.get("text-variable-anchor");if(B.prevPlacement&&B.prevPlacement.variableOffsets[xn.crossTileID]){var sa=B.prevPlacement.variableOffsets[xn.crossTileID];Es.indexOf(sa.anchor)>0&&(Es=Es.filter(function(Yr){return Yr!==sa.anchor})).unshift(sa.anchor)}var ea=function(Yr,Ks,Ls){for(var ja=Yr.x2-Yr.x1,au=Yr.y2-Yr.y1,Tl=xn.textBoxScale,lu=wi&&!Ge?Ks:null,pl={box:[],offscreen:!1},Mh=Re?2*Es.length:Es.length,Qa=0;Qa<Mh;++Qa){var Sl=B.attemptAnchorPlacement(Es[Qa%Es.length],Yr,ja,au,Tl,hi,Ci,he,Pt,Pe,Qa>=Es.length,xn,st,Ls,lu);if(Sl&&(pl=Sl.placedGlyphBoxes)&&pl.box&&pl.box.length){ir=!0,$n=Sl.shift;break}}return pl};Ma(function(){return ea(Us,or.iconBox,n.WritingMode.horizontal)},function(){var Yr=or.verticalTextBox;return st.allowVerticalPlacement&&!(Wn&&Wn.box&&Wn.box.length)&&xn.numVerticalGlyphVertices>0&&Yr?ea(Yr,or.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}}),Wn&&(ir=Wn.box,gr=Wn.offscreen);var hl=Ps(Wn&&Wn.box);if(!ir&&B.prevPlacement){var Ja=B.prevPlacement.variableOffsets[xn.crossTileID];Ja&&(B.variableOffsets[xn.crossTileID]=Ja,B.markUsedJustification(st,Ja.anchor,xn,hl))}}else{var ka=function(Yr,Ks){var Ls=B.collisionIndex.placeCollisionBox(Yr,Re,he,Pt,Pe.predicate);return Ls&&Ls.box&&Ls.box.length&&(B.markUsedOrientation(st,Ks,xn),B.placedOrientations[xn.crossTileID]=Ks),Ls};Ma(function(){return ka(Us,n.WritingMode.horizontal)},function(){var Yr=or.verticalTextBox;return st.allowVerticalPlacement&&xn.numVerticalGlyphVertices>0&&Yr?ka(Yr,n.WritingMode.vertical):{box:null,offscreen:null}}),Ps(Wn&&Wn.box&&Wn.box.length)}}if(ir=(yr=Wn)&&yr.box&&yr.box.length>0,gr=yr&&yr.offscreen,xn.useRuntimeCollisionCircles){var $a=st.text.placedSymbolArray.get(xn.centerJustifiedTextSymbolIndex),ul=n.evaluateSizeForFeature(st.textSizeData,Ce,$a),pa=dt.get("text-padding");Mo=B.collisionIndex.placeCollisionCircles(Re,$a,st.lineVertexArray,st.glyphOffsetArray,ul,Pt,zt,Zt,v,Ci,Pe.predicate,xn.collisionCircleDiameter,pa),ir=Re||Mo.circles.length>0&&!Mo.collisionDetected,gr=gr&&Mo.offscreen}if(or.iconFeatureIndex&&(Oo=or.iconFeatureIndex),or.iconBox){var cl=function(Yr){var Ks=wi&&$n?fo(Yr,$n.x,$n.y,hi,Ci,B.transform.angle):Yr;return B.collisionIndex.placeCollisionBox(Ks,Ge,he,Pt,Pe.predicate)};tr=Jo&&Jo.box&&Jo.box.length&&or.verticalIconBox?(xs=cl(or.verticalIconBox)).box.length>0:(xs=cl(or.iconBox)).box.length>0,gr=gr&&xs.offscreen}var da=Be||0===xn.numHorizontalGlyphVertices&&0===xn.numVerticalGlyphVertices,$o=we||0===xn.numIconVertices;if(da||$o?$o?da||(tr=tr&&ir):ir=tr&&ir:tr=ir=tr&&ir,ir&&yr&&yr.box&&B.collisionIndex.insertCollisionBox(yr.box,dt.get("text-ignore-placement"),st.bucketInstanceId,Jo&&Jo.box&&So?So:as,Pe.ID),tr&&xs&&B.collisionIndex.insertCollisionBox(xs.box,dt.get("icon-ignore-placement"),st.bucketInstanceId,Oo,Pe.ID),Mo&&(ir&&B.collisionIndex.insertCollisionCircles(Mo.circles,dt.get("text-ignore-placement"),st.bucketInstanceId,as,Pe.ID),v)){var ya=st.bucketInstanceId,Da=B.collisionCircleArrays[ya];void 0===Da&&(Da=B.collisionCircleArrays[ya]=new Jr);for(var Fa=0;Fa<Mo.circles.length;Fa+=4)Da.circles.push(Mo.circles[Fa+0]),Da.circles.push(Mo.circles[Fa+1]),Da.circles.push(Mo.circles[Fa+2]),Da.circles.push(Mo.collisionDetected?1:0)}B.placements[xn.crossTileID]=new Bo(ir||Gi,tr||on,gr||st.justReloaded),b[xn.crossTileID]=!0}};if(Mi)for(var vn=st.getSortedSymbolIndexes(this.transform.angle),Nn=vn.length-1;Nn>=0;--Nn){var jn=vn[Nn];rn(st.symbolInstances.get(jn),st.collisionArrays[jn])}else for(var zn=g.symbolInstanceStart;zn<g.symbolInstanceEnd;zn++)rn(st.symbolInstances.get(zn),st.collisionArrays[zn]);if(v&&st.bucketInstanceId in this.collisionCircleArrays){var zr=this.collisionCircleArrays[st.bucketInstanceId];n.invert(zr.invProjMatrix,Pt),zr.viewportMatrix=this.collisionIndex.getViewportMatrix()}st.justReloaded=!1},$r.prototype.markUsedJustification=function(g,b,v,B){var J;J=B===n.WritingMode.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[n.getAnchorJustification(b)];for(var st=0,dt=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];st<dt.length;st+=1){var Pt=dt[st];Pt>=0&&(g.text.placedSymbolArray.get(Pt).crossTileID=J>=0&&Pt!==J?0:v.crossTileID)}},$r.prototype.markUsedOrientation=function(g,b,v){for(var B=b===n.WritingMode.horizontal||b===n.WritingMode.horizontalOnly?b:0,J=b===n.WritingMode.vertical?b:0,st=0,dt=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];st<dt.length;st+=1)g.text.placedSymbolArray.get(dt[st]).placedOrientation=B;v.verticalPlacedTextSymbolIndex&&(g.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=J)},$r.prototype.commit=function(g){this.commitTime=g,this.zoomAtLastRecencyCheck=this.transform.zoom;var b=this.prevPlacement,v=!1;this.prevZoomAdjustment=b?b.zoomAdjustment(this.transform.zoom):0;var B=b?b.symbolFadeChange(g):1,J=b?b.opacities:{},st=b?b.variableOffsets:{},dt=b?b.placedOrientations:{};for(var Pt in this.placements){var zt=this.placements[Pt],Zt=J[Pt];Zt?(this.opacities[Pt]=new no(Zt,B,zt.text,zt.icon),v=v||zt.text!==Zt.text.placed||zt.icon!==Zt.icon.placed):(this.opacities[Pt]=new no(null,B,zt.text,zt.icon,zt.skipFade),v=v||zt.text||zt.icon)}for(var he in J){var de=J[he];if(!this.opacities[he]){var ve=new no(de,B,!1,!1);ve.isHidden()||(this.opacities[he]=ve,v=v||de.text.placed||de.icon.placed)}}for(var Ce in st)this.variableOffsets[Ce]||!this.opacities[Ce]||this.opacities[Ce].isHidden()||(this.variableOffsets[Ce]=st[Ce]);for(var Pe in dt)this.placedOrientations[Pe]||!this.opacities[Pe]||this.opacities[Pe].isHidden()||(this.placedOrientations[Pe]=dt[Pe]);v?this.lastPlacementChangeTime=g:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=b?b.lastPlacementChangeTime:g)},$r.prototype.updateLayerOpacities=function(g,b){for(var v={},B=0,J=b;B<J.length;B+=1){var st=J[B],dt=st.getBucket(g);dt&&st.latestFeatureIndex&&g.id===dt.layerIds[0]&&this.updateBucketOpacities(dt,v,st.collisionBoxArray)}},$r.prototype.updateBucketOpacities=function(g,b,v){var B=this;g.hasTextData()&&g.text.opacityVertexArray.clear(),g.hasIconData()&&g.icon.opacityVertexArray.clear(),g.hasIconCollisionBoxData()&&g.iconCollisionBox.collisionVertexArray.clear(),g.hasTextCollisionBoxData()&&g.textCollisionBox.collisionVertexArray.clear();var J=g.layers[0].layout,st=new no(null,0,!1,!1,!0),dt=J.get("text-allow-overlap"),Pt=J.get("icon-allow-overlap"),zt=J.get("text-variable-anchor"),Zt="map"===J.get("text-rotation-alignment"),he="map"===J.get("text-pitch-alignment"),de="none"!==J.get("icon-text-fit"),ve=new no(null,0,dt&&(Pt||!g.hasIconData()||J.get("icon-optional")),Pt&&(dt||!g.hasTextData()||J.get("text-optional")),!0);!g.collisionArrays&&v&&(g.hasIconCollisionBoxData()||g.hasTextCollisionBoxData())&&g.deserializeCollisionBoxes(v);for(var Ce=function(Re,Ge,hi){for(var Ci=0;Ci<Ge/4;Ci++)Re.opacityVertexArray.emplaceBack(hi)},Pe=function(Re){var Ge=g.symbolInstances.get(Re),hi=Ge.numHorizontalGlyphVertices,Ci=Ge.numVerticalGlyphVertices,wi=Ge.crossTileID,Mi=B.opacities[wi];b[wi]?Mi=st:Mi||(B.opacities[wi]=Mi=ve),b[wi]=!0;var Gi=Ge.numIconVertices>0,on=B.placedOrientations[Ge.crossTileID],rn=on===n.WritingMode.vertical,vn=on===n.WritingMode.horizontal||on===n.WritingMode.horizontalOnly;if(hi>0||Ci>0){var Nn=mt(Mi.text);Ce(g.text,hi,rn?At:Nn),Ce(g.text,Ci,vn?At:Nn);var jn=Mi.text.isHidden();[Ge.rightJustifiedTextSymbolIndex,Ge.centerJustifiedTextSymbolIndex,Ge.leftJustifiedTextSymbolIndex].forEach(function(Wn){Wn>=0&&(g.text.placedSymbolArray.get(Wn).hidden=jn||rn?1:0)}),Ge.verticalPlacedTextSymbolIndex>=0&&(g.text.placedSymbolArray.get(Ge.verticalPlacedTextSymbolIndex).hidden=jn||vn?1:0);var zn=B.variableOffsets[Ge.crossTileID];zn&&B.markUsedJustification(g,zn.anchor,Ge,on);var zr=B.placedOrientations[Ge.crossTileID];zr&&(B.markUsedJustification(g,"left",Ge,zr),B.markUsedOrientation(g,zr,Ge))}if(Gi){var xn=mt(Mi.icon),or=!(de&&Ge.verticalPlacedIconSymbolIndex&&rn);Ge.placedIconSymbolIndex>=0&&(Ce(g.icon,Ge.numIconVertices,or?xn:At),g.icon.placedSymbolArray.get(Ge.placedIconSymbolIndex).hidden=Mi.icon.isHidden()),Ge.verticalPlacedIconSymbolIndex>=0&&(Ce(g.icon,Ge.numVerticalIconVertices,or?At:xn),g.icon.placedSymbolArray.get(Ge.verticalPlacedIconSymbolIndex).hidden=Mi.icon.isHidden())}if(g.hasIconCollisionBoxData()||g.hasTextCollisionBoxData()){var yr=g.collisionArrays[Re];if(yr){var ir=new n.Point(0,0);if(yr.textBox||yr.verticalTextBox){var tr=!0;if(zt){var gr=B.variableOffsets[wi];gr?(ir=to(gr.anchor,gr.width,gr.height,gr.textOffset,gr.textBoxScale),Zt&&ir._rotate(he?B.transform.angle:-B.transform.angle)):tr=!1}yr.textBox&&mo(g.textCollisionBox.collisionVertexArray,Mi.text.placed,!tr||rn,ir.x,ir.y),yr.verticalTextBox&&mo(g.textCollisionBox.collisionVertexArray,Mi.text.placed,!tr||vn,ir.x,ir.y)}var $n=Boolean(!vn&&yr.verticalIconBox);yr.iconBox&&mo(g.iconCollisionBox.collisionVertexArray,Mi.icon.placed,$n,de?ir.x:0,de?ir.y:0),yr.verticalIconBox&&mo(g.iconCollisionBox.collisionVertexArray,Mi.icon.placed,!$n,de?ir.x:0,de?ir.y:0)}}},Be=0;Be<g.symbolInstances.length;Be++)Pe(Be);if(g.sortFeatures(this.transform.angle),this.retainedQueryData[g.bucketInstanceId]&&(this.retainedQueryData[g.bucketInstanceId].featureSortOrder=g.featureSortOrder),g.hasTextData()&&g.text.opacityVertexBuffer&&g.text.opacityVertexBuffer.updateData(g.text.opacityVertexArray),g.hasIconData()&&g.icon.opacityVertexBuffer&&g.icon.opacityVertexBuffer.updateData(g.icon.opacityVertexArray),g.hasIconCollisionBoxData()&&g.iconCollisionBox.collisionVertexBuffer&&g.iconCollisionBox.collisionVertexBuffer.updateData(g.iconCollisionBox.collisionVertexArray),g.hasTextCollisionBoxData()&&g.textCollisionBox.collisionVertexBuffer&&g.textCollisionBox.collisionVertexBuffer.updateData(g.textCollisionBox.collisionVertexArray),g.bucketInstanceId in this.collisionCircleArrays){var we=this.collisionCircleArrays[g.bucketInstanceId];g.placementInvProjMatrix=we.invProjMatrix,g.placementViewportMatrix=we.viewportMatrix,g.collisionCircleArray=we.circles,delete this.collisionCircleArrays[g.bucketInstanceId]}},$r.prototype.symbolFadeChange=function(g){return 0===this.fadeDuration?1:(g-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},$r.prototype.zoomAdjustment=function(g){return Math.max(0,(this.transform.zoom-g)/1.5)},$r.prototype.hasTransitions=function(g){return this.stale||g-this.lastPlacementChangeTime<this.fadeDuration},$r.prototype.stillRecent=function(g,b){var v=this.zoomAtLastRecencyCheck===b?1-this.zoomAdjustment(b):1;return this.zoomAtLastRecencyCheck=b,this.commitTime+this.fadeDuration*v>g},$r.prototype.setStale=function(){this.stale=!0};var cs=Math.pow(2,25),qo=Math.pow(2,24),Eo=Math.pow(2,17),ps=Math.pow(2,16),es=Math.pow(2,9),Ts=Math.pow(2,8),$=Math.pow(2,1);function mt(g){if(0===g.opacity&&!g.placed)return 0;if(1===g.opacity&&g.placed)return 4294967295;var b=g.placed?1:0,v=Math.floor(127*g.opacity);return v*cs+b*qo+v*Eo+b*ps+v*es+b*Ts+v*$+b}var At=0,Dt=function(g){this._sortAcrossTiles="viewport-y"!==g.layout.get("symbol-z-order")&&void 0!==g.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Dt.prototype.continuePlacement=function(g,b,v,B,J){for(var st=this._bucketParts;this._currentTileIndex<g.length;)if(b.getBucketParts(st,B,g[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,J())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,st.sort(function(dt,Pt){return dt.sortKey-Pt.sortKey}));this._currentPartIndex<st.length;)if(b.placeLayerBucketPart(st[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,J())return!0;return!1};var qt=function(g,b,v,B,J,st,dt){this.placement=new $r(g,J,st,dt),this._currentPlacementIndex=b.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=B,this._done=!1};qt.prototype.isDone=function(){return this._done},qt.prototype.continuePlacement=function(g,b,v){for(var B=this,J=n.browser.now(),st=function(){var zt=n.browser.now()-J;return!B._forceFullPlacement&&zt>2};this._currentPlacementIndex>=0;){var dt=b[g[this._currentPlacementIndex]],Pt=this.placement.collisionIndex.transform.zoom;if("symbol"===dt.type&&(!dt.minzoom||dt.minzoom<=Pt)&&(!dt.maxzoom||dt.maxzoom>Pt)){if(this._inProgressLayer||(this._inProgressLayer=new Dt(dt)),this._inProgressLayer.continuePlacement(v[dt.source],this.placement,this._showCollisionBoxes,dt,st))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},qt.prototype.commit=function(g){return this.placement.commit(g),this.placement};var le=512/n.EXTENT/2,ye=function(g,b,v){this.tileID=g,this.indexedSymbolInstances={},this.bucketInstanceId=v;for(var B=0;B<b.length;B++){var J=b.get(B),st=J.key;this.indexedSymbolInstances[st]||(this.indexedSymbolInstances[st]=[]),this.indexedSymbolInstances[st].push({crossTileID:J.crossTileID,coord:this.getScaledCoordinates(J,g)})}};ye.prototype.getScaledCoordinates=function(g,b){var v=le/Math.pow(2,b.canonical.z-this.tileID.canonical.z);return{x:Math.floor((b.canonical.x*n.EXTENT+g.anchorX)*v),y:Math.floor((b.canonical.y*n.EXTENT+g.anchorY)*v)}},ye.prototype.findMatches=function(g,b,v){for(var B=this.tileID.canonical.z<b.canonical.z?1:Math.pow(2,this.tileID.canonical.z-b.canonical.z),J=0;J<g.length;J++){var st=g.get(J);if(!st.crossTileID){var dt=this.indexedSymbolInstances[st.key];if(dt)for(var Pt=this.getScaledCoordinates(st,b),zt=0,Zt=dt;zt<Zt.length;zt+=1){var he=Zt[zt];if(Math.abs(he.coord.x-Pt.x)<=B&&Math.abs(he.coord.y-Pt.y)<=B&&!v[he.crossTileID]){v[he.crossTileID]=!0,st.crossTileID=he.crossTileID;break}}}}};var je=function(){this.maxCrossTileID=0};je.prototype.generate=function(){return++this.maxCrossTileID};var ze=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ze.prototype.handleWrapJump=function(g){var b=Math.round((g-this.lng)/360);if(0!==b)for(var v in this.indexes){var B=this.indexes[v],J={};for(var st in B){var dt=B[st];dt.tileID=dt.tileID.unwrapTo(dt.tileID.wrap+b),J[dt.tileID.key]=dt}this.indexes[v]=J}this.lng=g},ze.prototype.addBucket=function(g,b,v){if(this.indexes[g.overscaledZ]&&this.indexes[g.overscaledZ][g.key]){if(this.indexes[g.overscaledZ][g.key].bucketInstanceId===b.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(g.overscaledZ,this.indexes[g.overscaledZ][g.key])}for(var B=0;B<b.symbolInstances.length;B++)b.symbolInstances.get(B).crossTileID=0;this.usedCrossTileIDs[g.overscaledZ]||(this.usedCrossTileIDs[g.overscaledZ]={});var J=this.usedCrossTileIDs[g.overscaledZ];for(var st in this.indexes){var dt=this.indexes[st];if(Number(st)>g.overscaledZ)for(var Pt in dt){var zt=dt[Pt];zt.tileID.isChildOf(g)&&zt.findMatches(b.symbolInstances,g,J)}else{var Zt=dt[g.scaledTo(Number(st)).key];Zt&&Zt.findMatches(b.symbolInstances,g,J)}}for(var he=0;he<b.symbolInstances.length;he++){var de=b.symbolInstances.get(he);de.crossTileID||(de.crossTileID=v.generate(),J[de.crossTileID]=!0)}return void 0===this.indexes[g.overscaledZ]&&(this.indexes[g.overscaledZ]={}),this.indexes[g.overscaledZ][g.key]=new ye(g,b.symbolInstances,b.bucketInstanceId),!0},ze.prototype.removeBucketCrossTileIDs=function(g,b){for(var v in b.indexedSymbolInstances)for(var B=0,J=b.indexedSymbolInstances[v];B<J.length;B+=1)delete this.usedCrossTileIDs[g][J[B].crossTileID]},ze.prototype.removeStaleBuckets=function(g){var b=!1;for(var v in this.indexes){var B=this.indexes[v];for(var J in B)g[B[J].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,B[J]),delete B[J],b=!0)}return b};var ni=function(){this.layerIndexes={},this.crossTileIDs=new je,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ni.prototype.addLayer=function(g,b,v){var B=this.layerIndexes[g.id];void 0===B&&(B=this.layerIndexes[g.id]=new ze);var J=!1,st={};B.handleWrapJump(v);for(var dt=0,Pt=b;dt<Pt.length;dt+=1){var zt=Pt[dt],Zt=zt.getBucket(g);Zt&&g.id===Zt.layerIds[0]&&(Zt.bucketInstanceId||(Zt.bucketInstanceId=++this.maxBucketInstanceId),B.addBucket(zt.tileID,Zt,this.crossTileIDs)&&(J=!0),st[Zt.bucketInstanceId]=!0)}return B.removeStaleBuckets(st)&&(J=!0),J},ni.prototype.pruneUnusedLayers=function(g){var b={};for(var v in g.forEach(function(B){b[B]=!0}),this.layerIndexes)b[v]||delete this.layerIndexes[v]};var Si=function(g,b){return n.emitValidationErrors(g,b&&b.filter(function(v){return"source.canvas"!==v.identifier}))},Ei=n.pick(oi,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),mi=n.pick(oi,["setCenter","setZoom","setBearing","setPitch"]),ci=function(){var g={},b=n.styleSpec.$version;for(var v in n.styleSpec.$root){var B,J=n.styleSpec.$root[v];J.required&&null!=(B="version"===v?b:"array"===J.type?[]:{})&&(g[v]=B)}return g}(),pn=function(g){function b(v,B){var J=this;void 0===B&&(B={}),g.call(this),this.map=v,this.dispatcher=new Ct(Xe(),this),this.imageManager=new X,this.imageManager.setEventedParent(this),this.glyphManager=new yt(v._requestManager,B.localIdeographFontFamily),this.lineAtlas=new at(256,512),this.crossTileSymbolIndex=new ni,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var st=this;this._rtlTextPluginCallback=b.registerForPluginStateChange(function(dt){st.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:dt.pluginStatus,pluginURL:dt.pluginURL},function(Pt,zt){if(n.triggerPluginCompletionEvent(Pt),zt&&zt.every(function(he){return he}))for(var Zt in st.sourceCaches)st.sourceCaches[Zt].reload()})}),this.on("data",function(dt){if("source"===dt.dataType&&"metadata"===dt.sourceDataType){var Pt=J.sourceCaches[dt.sourceId];if(Pt){var zt=Pt.getSource();if(zt&&zt.vectorLayerIds)for(var Zt in J._layers){var he=J._layers[Zt];he.source===zt.id&&J._validateLayer(he)}}}})}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.loadURL=function(v,B){var J=this;void 0===B&&(B={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var st="boolean"==typeof B.validate?B.validate:!n.isMapboxURL(v);v=this.map._requestManager.normalizeStyleURL(v,B.accessToken);var dt=this.map._requestManager.transformRequest(v,n.ResourceType.Style);this._request=n.getJSON(dt,function(Pt,zt){J._request=null,Pt?J.fire(new n.ErrorEvent(Pt)):zt&&J._load(zt,st)})},b.prototype.loadJSON=function(v,B){var J=this;void 0===B&&(B={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){J._request=null,J._load(v,!1!==B.validate)})},b.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(ci,!1)},b.prototype._load=function(v,B){if(!B||!Si(this,n.validateStyle(v))){for(var J in this._loaded=!0,this.stylesheet=v,v.sources)this.addSource(J,v.sources[J],{validate:!1});v.sprite?this._loadSprite(v.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(v.glyphs);var st=ki(this.stylesheet.layers);this._order=st.map(function(Zt){return Zt.id}),this._layers={},this._serializedLayers={};for(var dt=0,Pt=st;dt<Pt.length;dt+=1){var zt=Pt[dt];(zt=n.createStyleLayer(zt)).setEventedParent(this,{layer:{id:zt.id}}),this._layers[zt.id]=zt,this._serializedLayers[zt.id]=zt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ut(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},b.prototype._loadSprite=function(v){var B=this;this._spriteRequest=function(J,st,dt){var Pt,zt,Zt,he=n.browser.devicePixelRatio>1?"@2x":"",de=n.getJSON(st.transformRequest(st.normalizeSpriteURL(J,he,".json"),n.ResourceType.SpriteJSON),function(Pe,Be){de=null,Zt||(Zt=Pe,Pt=Be,Ce())}),ve=n.getImage(st.transformRequest(st.normalizeSpriteURL(J,he,".png"),n.ResourceType.SpriteImage),function(Pe,Be){ve=null,Zt||(Zt=Pe,zt=Be,Ce())});function Ce(){if(Zt)dt(Zt);else if(Pt&&zt){var Pe=n.browser.getImageData(zt),Be={};for(var we in Pt){var Re=Pt[we],Ge=Re.width,hi=Re.height,Ci=Re.x,wi=Re.y,Mi=Re.sdf,Gi=Re.pixelRatio,on=Re.stretchX,rn=Re.stretchY,vn=Re.content,Nn=new n.RGBAImage({width:Ge,height:hi});n.RGBAImage.copy(Pe,Nn,{x:Ci,y:wi},{x:0,y:0},{width:Ge,height:hi}),Be[we]={data:Nn,pixelRatio:Gi,sdf:Mi,stretchX:on,stretchY:rn,content:vn}}dt(null,Be)}}return{cancel:function(){de&&(de.cancel(),de=null),ve&&(ve.cancel(),ve=null)}}}(v,this.map._requestManager,function(J,st){if(B._spriteRequest=null,J)B.fire(new n.ErrorEvent(J));else if(st)for(var dt in st)B.imageManager.addImage(dt,st[dt]);B.imageManager.setLoaded(!0),B._availableImages=B.imageManager.listImages(),B.dispatcher.broadcast("setImages",B._availableImages),B.fire(new n.Event("data",{dataType:"style"}))})},b.prototype._validateLayer=function(v){var B=this.sourceCaches[v.source];if(B){var J=v.sourceLayer;if(J){var st=B.getSource();("geojson"===st.type||st.vectorLayerIds&&-1===st.vectorLayerIds.indexOf(J))&&this.fire(new n.ErrorEvent(new Error('Source layer "'+J+'" does not exist on source "'+st.id+'" as specified by style layer "'+v.id+'"')))}}},b.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var v in this.sourceCaches)if(!this.sourceCaches[v].loaded())return!1;return!!this.imageManager.isLoaded()},b.prototype._serializeLayers=function(v){for(var B=[],J=0,st=v;J<st.length;J+=1){var dt=this._layers[st[J]];"custom"!==dt.type&&B.push(dt.serialize())}return B},b.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var v in this.sourceCaches)if(this.sourceCaches[v].hasTransition())return!0;for(var B in this._layers)if(this._layers[B].hasTransition())return!0;return!1},b.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},b.prototype.update=function(v){if(this._loaded){var B=this._changed;if(this._changed){var J=Object.keys(this._updatedLayers),st=Object.keys(this._removedLayers);for(var dt in(J.length||st.length)&&this._updateWorkerLayers(J,st),this._updatedSources){var Pt=this._updatedSources[dt];"reload"===Pt?this._reloadSource(dt):"clear"===Pt&&this._clearSource(dt)}for(var zt in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[zt].updateTransitions(v);this.light.updateTransitions(v),this._resetUpdates()}var Zt={};for(var he in this.sourceCaches){var de=this.sourceCaches[he];Zt[he]=de.used,de.used=!1}for(var ve=0,Ce=this._order;ve<Ce.length;ve+=1){var Pe=this._layers[Ce[ve]];Pe.recalculate(v,this._availableImages),!Pe.isHidden(v.zoom)&&Pe.source&&(this.sourceCaches[Pe.source].used=!0)}for(var Be in Zt){var we=this.sourceCaches[Be];Zt[Be]!==we.used&&we.fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Be}))}this.light.recalculate(v),this.z=v.zoom,B&&this.fire(new n.Event("data",{dataType:"style"}))}},b.prototype._updateTilesForChangedImages=function(){var v=Object.keys(this._changedImages);if(v.length){for(var B in this.sourceCaches)this.sourceCaches[B].reloadTilesForDependencies(["icons","patterns"],v);this._changedImages={}}},b.prototype._updateWorkerLayers=function(v,B){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(v),removedIds:B})},b.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},b.prototype.setState=function(v){var B=this;if(this._checkLoaded(),Si(this,n.validateStyle(v)))return!1;(v=n.clone$1(v)).layers=ki(v.layers);var J=function(dt,Pt){if(!dt)return[{command:oi.setStyle,args:[Pt]}];var zt=[];try{if(!n.deepEqual(dt.version,Pt.version))return[{command:oi.setStyle,args:[Pt]}];n.deepEqual(dt.center,Pt.center)||zt.push({command:oi.setCenter,args:[Pt.center]}),n.deepEqual(dt.zoom,Pt.zoom)||zt.push({command:oi.setZoom,args:[Pt.zoom]}),n.deepEqual(dt.bearing,Pt.bearing)||zt.push({command:oi.setBearing,args:[Pt.bearing]}),n.deepEqual(dt.pitch,Pt.pitch)||zt.push({command:oi.setPitch,args:[Pt.pitch]}),n.deepEqual(dt.sprite,Pt.sprite)||zt.push({command:oi.setSprite,args:[Pt.sprite]}),n.deepEqual(dt.glyphs,Pt.glyphs)||zt.push({command:oi.setGlyphs,args:[Pt.glyphs]}),n.deepEqual(dt.transition,Pt.transition)||zt.push({command:oi.setTransition,args:[Pt.transition]}),n.deepEqual(dt.light,Pt.light)||zt.push({command:oi.setLight,args:[Pt.light]});var Zt={},he=[];!function(ve,Ce,Pe,Be){var we;for(we in Ce=Ce||{},ve=ve||{})ve.hasOwnProperty(we)&&(Ce.hasOwnProperty(we)||Ii(we,Pe,Be));for(we in Ce)Ce.hasOwnProperty(we)&&(ve.hasOwnProperty(we)?n.deepEqual(ve[we],Ce[we])||("geojson"===ve[we].type&&"geojson"===Ce[we].type&&yn(ve,Ce,we)?Pe.push({command:oi.setGeoJSONSourceData,args:[we,Ce[we].data]}):Pn(we,Ce,Pe,Be)):an(we,Ce,Pe))}(dt.sources,Pt.sources,he,Zt);var de=[];dt.layers&&dt.layers.forEach(function(ve){Zt[ve.source]?zt.push({command:oi.removeLayer,args:[ve.id]}):de.push(ve)}),zt=zt.concat(he),function(ve,Ce,Pe){Ce=Ce||[];var Be,we,Re,Ge,hi,Ci,wi,Mi=(ve=ve||[]).map(En),Gi=Ce.map(En),on=ve.reduce(kn,{}),rn=Ce.reduce(kn,{}),vn=Mi.slice(),Nn=Object.create(null);for(Be=0,we=0;Be<Mi.length;Be++)rn.hasOwnProperty(Re=Mi[Be])?we++:(Pe.push({command:oi.removeLayer,args:[Re]}),vn.splice(vn.indexOf(Re,we),1));for(Be=0,we=0;Be<Gi.length;Be++)vn[vn.length-1-Be]!==(Re=Gi[Gi.length-1-Be])&&(on.hasOwnProperty(Re)?(Pe.push({command:oi.removeLayer,args:[Re]}),vn.splice(vn.lastIndexOf(Re,vn.length-we),1)):we++,Pe.push({command:oi.addLayer,args:[rn[Re],Ci=vn[vn.length-Be]]}),vn.splice(vn.length-Be,0,Re),Nn[Re]=!0);for(Be=0;Be<Gi.length;Be++)if(Ge=on[Re=Gi[Be]],hi=rn[Re],!Nn[Re]&&!n.deepEqual(Ge,hi))if(n.deepEqual(Ge.source,hi.source)&&n.deepEqual(Ge["source-layer"],hi["source-layer"])&&n.deepEqual(Ge.type,hi.type)){for(wi in bn(Ge.layout,hi.layout,Pe,Re,null,oi.setLayoutProperty),bn(Ge.paint,hi.paint,Pe,Re,null,oi.setPaintProperty),n.deepEqual(Ge.filter,hi.filter)||Pe.push({command:oi.setFilter,args:[Re,hi.filter]}),n.deepEqual(Ge.minzoom,hi.minzoom)&&n.deepEqual(Ge.maxzoom,hi.maxzoom)||Pe.push({command:oi.setLayerZoomRange,args:[Re,hi.minzoom,hi.maxzoom]}),Ge)Ge.hasOwnProperty(wi)&&"layout"!==wi&&"paint"!==wi&&"filter"!==wi&&"metadata"!==wi&&"minzoom"!==wi&&"maxzoom"!==wi&&(0===wi.indexOf("paint.")?bn(Ge[wi],hi[wi],Pe,Re,wi.slice(6),oi.setPaintProperty):n.deepEqual(Ge[wi],hi[wi])||Pe.push({command:oi.setLayerProperty,args:[Re,wi,hi[wi]]}));for(wi in hi)hi.hasOwnProperty(wi)&&!Ge.hasOwnProperty(wi)&&"layout"!==wi&&"paint"!==wi&&"filter"!==wi&&"metadata"!==wi&&"minzoom"!==wi&&"maxzoom"!==wi&&(0===wi.indexOf("paint.")?bn(Ge[wi],hi[wi],Pe,Re,wi.slice(6),oi.setPaintProperty):n.deepEqual(Ge[wi],hi[wi])||Pe.push({command:oi.setLayerProperty,args:[Re,wi,hi[wi]]}))}else Pe.push({command:oi.removeLayer,args:[Re]}),Ci=vn[vn.lastIndexOf(Re)+1],Pe.push({command:oi.addLayer,args:[hi,Ci]})}(de,Pt.layers,zt)}catch(ve){console.warn("Unable to compute style diff:",ve),zt=[{command:oi.setStyle,args:[Pt]}]}return zt}(this.serialize(),v).filter(function(dt){return!(dt.command in mi)});if(0===J.length)return!1;var st=J.filter(function(dt){return!(dt.command in Ei)});if(st.length>0)throw new Error("Unimplemented: "+st.map(function(dt){return dt.command}).join(", ")+".");return J.forEach(function(dt){"setTransition"!==dt.command&&B[dt.command].apply(B,dt.args)}),this.stylesheet=v,!0},b.prototype.addImage=function(v,B){if(this.getImage(v))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(v,B),this._afterImageUpdated(v)},b.prototype.updateImage=function(v,B){this.imageManager.updateImage(v,B)},b.prototype.getImage=function(v){return this.imageManager.getImage(v)},b.prototype.removeImage=function(v){if(!this.getImage(v))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(v),this._afterImageUpdated(v)},b.prototype._afterImageUpdated=function(v){this._availableImages=this.imageManager.listImages(),this._changedImages[v]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))},b.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},b.prototype.addSource=function(v,B,J){var st=this;if(void 0===J&&(J={}),this._checkLoaded(),void 0!==this.sourceCaches[v])throw new Error("There is already a source with this ID");if(!B.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(B).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(B.type)>=0&&this._validate(n.validateStyle.source,"sources."+v,B,null,J))){this.map&&this.map._collectResourceTiming&&(B.collectResourceTiming=!0);var dt=this.sourceCaches[v]=new oe(v,B,this.dispatcher);dt.style=this,dt.setEventedParent(this,function(){return{isSourceLoaded:st.loaded(),source:dt.serialize(),sourceId:v}}),dt.onAdd(this.map),this._changed=!0}},b.prototype.removeSource=function(v){if(this._checkLoaded(),void 0===this.sourceCaches[v])throw new Error("There is no source with this ID");for(var B in this._layers)if(this._layers[B].source===v)return this.fire(new n.ErrorEvent(new Error('Source "'+v+'" cannot be removed while layer "'+B+'" is using it.')));var J=this.sourceCaches[v];delete this.sourceCaches[v],delete this._updatedSources[v],J.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:v})),J.setEventedParent(null),J.clearTiles(),J.onRemove&&J.onRemove(this.map),this._changed=!0},b.prototype.setGeoJSONSourceData=function(v,B){this._checkLoaded(),this.sourceCaches[v].getSource().setData(B),this._changed=!0},b.prototype.getSource=function(v){return this.sourceCaches[v]&&this.sourceCaches[v].getSource()},b.prototype.addLayer=function(v,B,J){void 0===J&&(J={}),this._checkLoaded();var st=v.id;if(this.getLayer(st))this.fire(new n.ErrorEvent(new Error('Layer with id "'+st+'" already exists on this map')));else{var dt;if("custom"===v.type){if(Si(this,n.validateCustomStyleLayer(v)))return;dt=n.createStyleLayer(v)}else{if("object"==typeof v.source&&(this.addSource(st,v.source),v=n.clone$1(v),v=n.extend(v,{source:st})),this._validate(n.validateStyle.layer,"layers."+st,v,{arrayIndex:-1},J))return;dt=n.createStyleLayer(v),this._validateLayer(dt),dt.setEventedParent(this,{layer:{id:st}}),this._serializedLayers[dt.id]=dt.serialize()}var Pt=B?this._order.indexOf(B):this._order.length;if(B&&-1===Pt)this.fire(new n.ErrorEvent(new Error('Layer with id "'+B+'" does not exist on this map.')));else{if(this._order.splice(Pt,0,st),this._layerOrderChanged=!0,this._layers[st]=dt,this._removedLayers[st]&&dt.source&&"custom"!==dt.type){var zt=this._removedLayers[st];delete this._removedLayers[st],zt.type!==dt.type?this._updatedSources[dt.source]="clear":(this._updatedSources[dt.source]="reload",this.sourceCaches[dt.source].pause())}this._updateLayer(dt),dt.onAdd&&dt.onAdd(this.map)}}},b.prototype.moveLayer=function(v,B){if(this._checkLoaded(),this._changed=!0,this._layers[v]){if(v!==B){var J=this._order.indexOf(v);this._order.splice(J,1);var st=B?this._order.indexOf(B):this._order.length;B&&-1===st?this.fire(new n.ErrorEvent(new Error('Layer with id "'+B+'" does not exist on this map.'))):(this._order.splice(st,0,v),this._layerOrderChanged=!0)}}else this.fire(new n.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be moved.")))},b.prototype.removeLayer=function(v){this._checkLoaded();var B=this._layers[v];if(B){B.setEventedParent(null);var J=this._order.indexOf(v);this._order.splice(J,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[v]=B,delete this._layers[v],delete this._serializedLayers[v],delete this._updatedLayers[v],delete this._updatedPaintProps[v],B.onRemove&&B.onRemove(this.map)}else this.fire(new n.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be removed.")))},b.prototype.getLayer=function(v){return this._layers[v]},b.prototype.hasLayer=function(v){return v in this._layers},b.prototype.setLayerZoomRange=function(v,B,J){this._checkLoaded();var st=this.getLayer(v);st?st.minzoom===B&&st.maxzoom===J||(null!=B&&(st.minzoom=B),null!=J&&(st.maxzoom=J),this._updateLayer(st)):this.fire(new n.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot have zoom extent.")))},b.prototype.setFilter=function(v,B,J){void 0===J&&(J={}),this._checkLoaded();var st=this.getLayer(v);if(st){if(!n.deepEqual(st.filter,B))return null==B?(st.filter=void 0,void this._updateLayer(st)):void(this._validate(n.validateStyle.filter,"layers."+st.id+".filter",B,null,J)||(st.filter=n.clone$1(B),this._updateLayer(st)))}else this.fire(new n.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be filtered.")))},b.prototype.getFilter=function(v){return n.clone$1(this.getLayer(v).filter)},b.prototype.setLayoutProperty=function(v,B,J,st){void 0===st&&(st={}),this._checkLoaded();var dt=this.getLayer(v);dt?n.deepEqual(dt.getLayoutProperty(B),J)||(dt.setLayoutProperty(B,J,st),this._updateLayer(dt)):this.fire(new n.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be styled.")))},b.prototype.getLayoutProperty=function(v,B){var J=this.getLayer(v);if(J)return J.getLayoutProperty(B);this.fire(new n.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style.")))},b.prototype.setPaintProperty=function(v,B,J,st){void 0===st&&(st={}),this._checkLoaded();var dt=this.getLayer(v);dt?n.deepEqual(dt.getPaintProperty(B),J)||(dt.setPaintProperty(B,J,st)&&this._updateLayer(dt),this._changed=!0,this._updatedPaintProps[v]=!0):this.fire(new n.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be styled.")))},b.prototype.getPaintProperty=function(v,B){return this.getLayer(v).getPaintProperty(B)},b.prototype.setFeatureState=function(v,B){this._checkLoaded();var J=v.source,st=v.sourceLayer,dt=this.sourceCaches[J];if(void 0!==dt){var Pt=dt.getSource().type;"geojson"===Pt&&st?this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==Pt||st?(void 0===v.id&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),dt.setFeatureState(st,v.id,B)):this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+J+"' does not exist in the map's style.")))},b.prototype.removeFeatureState=function(v,B){this._checkLoaded();var J=v.source,st=this.sourceCaches[J];if(void 0!==st){var dt=st.getSource().type,Pt="vector"===dt?v.sourceLayer:void 0;"vector"!==dt||Pt?B&&"string"!=typeof v.id&&"number"!=typeof v.id?this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):st.removeFeatureState(Pt,v.id,B):this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+J+"' does not exist in the map's style.")))},b.prototype.getFeatureState=function(v){this._checkLoaded();var B=v.source,J=v.sourceLayer,st=this.sourceCaches[B];if(void 0!==st){if("vector"!==st.getSource().type||J)return void 0===v.id&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),st.getFeatureState(J,v.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+B+"' does not exist in the map's style.")))},b.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},b.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(v){return v.serialize()}),layers:this._serializeLayers(this._order)},function(v){return void 0!==v})},b.prototype._updateLayer=function(v){this._updatedLayers[v.id]=!0,v.source&&!this._updatedSources[v.source]&&"raster"!==this.sourceCaches[v.source].getSource().type&&(this._updatedSources[v.source]="reload",this.sourceCaches[v.source].pause()),this._changed=!0},b.prototype._flattenAndSortRenderedFeatures=function(v){for(var B=this,J=function(on){return"fill-extrusion"===B._layers[on].type},st={},dt=[],Pt=this._order.length-1;Pt>=0;Pt--){var zt=this._order[Pt];if(J(zt)){st[zt]=Pt;for(var Zt=0,he=v;Zt<he.length;Zt+=1){var de=he[Zt][zt];if(de)for(var ve=0,Ce=de;ve<Ce.length;ve+=1)dt.push(Ce[ve])}}}dt.sort(function(on,rn){return rn.intersectionZ-on.intersectionZ});for(var Pe=[],Be=this._order.length-1;Be>=0;Be--){var we=this._order[Be];if(J(we))for(var Re=dt.length-1;Re>=0;Re--){var Ge=dt[Re].feature;if(st[Ge.layer.id]<Be)break;Pe.push(Ge),dt.pop()}else for(var hi=0,Ci=v;hi<Ci.length;hi+=1){var wi=Ci[hi][we];if(wi)for(var Mi=0,Gi=wi;Mi<Gi.length;Mi+=1)Pe.push(Gi[Mi].feature)}}return Pe},b.prototype.queryRenderedFeatures=function(v,B,J){B&&B.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",B.filter,null,B);var st={};if(B&&B.layers){if(!Array.isArray(B.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var dt=0,Pt=B.layers;dt<Pt.length;dt+=1){var zt=Pt[dt],Zt=this._layers[zt];if(!Zt)return this.fire(new n.ErrorEvent(new Error("The layer '"+zt+"' does not exist in the map's style and cannot be queried for features."))),[];st[Zt.source]=!0}}var he=[];for(var de in B.availableImages=this._availableImages,this.sourceCaches)B.layers&&!st[de]||he.push(Rt(this.sourceCaches[de],this._layers,this._serializedLayers,v,B,J));return this.placement&&he.push(function(ve,Ce,Pe,Be,we,Re,Ge){for(var hi={},Ci=Re.queryRenderedSymbols(Be),wi=[],Mi=0,Gi=Object.keys(Ci).map(Number);Mi<Gi.length;Mi+=1)wi.push(Ge[Gi[Mi]]);wi.sort(ie);for(var on=function(){var zn=vn[rn],zr=zn.featureIndex.lookupSymbolFeatures(Ci[zn.bucketInstanceId],Ce,zn.bucketIndex,zn.sourceLayerIndex,we.filter,we.layers,we.availableImages,ve);for(var xn in zr){var or=hi[xn]=hi[xn]||[],yr=zr[xn];yr.sort(function(gr,$n){var Wn=zn.featureSortOrder;if(Wn){var Jo=Wn.indexOf(gr.featureIndex);return Wn.indexOf($n.featureIndex)-Jo}return $n.featureIndex-gr.featureIndex});for(var ir=0,tr=yr;ir<tr.length;ir+=1)or.push(tr[ir])}},rn=0,vn=wi;rn<vn.length;rn+=1)on();var Nn=function(zn){hi[zn].forEach(function(zr){var xn=zr.feature,or=Pe[ve[zn].source].getFeatureState(xn.layer["source-layer"],xn.id);xn.source=xn.layer.source,xn.layer["source-layer"]&&(xn.sourceLayer=xn.layer["source-layer"]),xn.state=or})};for(var jn in hi)Nn(jn);return hi}(this._layers,this._serializedLayers,this.sourceCaches,v,B,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(he)},b.prototype.querySourceFeatures=function(v,B){B&&B.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",B.filter,null,B);var J=this.sourceCaches[v];return J?function(st,dt){for(var Pt=st.getRenderableIds().map(function(Ce){return st.getTileByID(Ce)}),zt=[],Zt={},he=0;he<Pt.length;he++){var de=Pt[he],ve=de.tileID.canonical.key;Zt[ve]||(Zt[ve]=!0,de.querySourceFeatures(zt,dt))}return zt}(J,B):[]},b.prototype.addSourceType=function(v,B,J){return b.getSourceType(v)?J(new Error('A source type called "'+v+'" already exists.')):(b.setSourceType(v,B),B.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:v,url:B.workerSourceURL},J):J(null,null))},b.prototype.getLight=function(){return this.light.getLight()},b.prototype.setLight=function(v,B){void 0===B&&(B={}),this._checkLoaded();var J=this.light.getLight(),st=!1;for(var dt in v)if(!n.deepEqual(v[dt],J[dt])){st=!0;break}if(st){var Pt={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(v,B),this.light.updateTransitions(Pt)}},b.prototype._validate=function(v,B,J,st,dt){return void 0===dt&&(dt={}),(!dt||!1!==dt.validate)&&Si(this,v.call(n.validateStyle,n.extend({key:B,style:this.serialize(),value:J,styleSpec:n.styleSpec},st)))},b.prototype._remove=function(){for(var v in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[v].setEventedParent(null);for(var B in this.sourceCaches)this.sourceCaches[B].clearTiles(),this.sourceCaches[B].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},b.prototype._clearSource=function(v){this.sourceCaches[v].clearTiles()},b.prototype._reloadSource=function(v){this.sourceCaches[v].resume(),this.sourceCaches[v].reload()},b.prototype._updateSources=function(v){for(var B in this.sourceCaches)this.sourceCaches[B].update(v)},b.prototype._generateCollisionBoxes=function(){for(var v in this.sourceCaches)this._reloadSource(v)},b.prototype._updatePlacement=function(v,B,J,st,dt){void 0===dt&&(dt=!1);for(var Pt=!1,zt=!1,Zt={},he=0,de=this._order;he<de.length;he+=1){var ve=this._layers[de[he]];if("symbol"===ve.type){if(!Zt[ve.source]){var Ce=this.sourceCaches[ve.source];Zt[ve.source]=Ce.getRenderableIds(!0).map(function(Ge){return Ce.getTileByID(Ge)}).sort(function(Ge,hi){return hi.tileID.overscaledZ-Ge.tileID.overscaledZ||(Ge.tileID.isLessThan(hi.tileID)?-1:1)})}var Pe=this.crossTileSymbolIndex.addLayer(ve,Zt[ve.source],v.center.lng);Pt=Pt||Pe}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((dt=dt||this._layerOrderChanged||0===J)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),v.zoom))&&(this.pauseablePlacement=new qt(v,this._order,dt,B,J,st,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Zt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),zt=!0),Pt&&this.pauseablePlacement.placement.setStale()),zt||Pt)for(var Be=0,we=this._order;Be<we.length;Be+=1){var Re=this._layers[we[Be]];"symbol"===Re.type&&this.placement.updateLayerOpacities(Re,Zt[Re.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now())},b.prototype._releaseSymbolFadeTiles=function(){for(var v in this.sourceCaches)this.sourceCaches[v].releaseSymbolFadeTiles()},b.prototype.getImages=function(v,B,J){this.imageManager.getImages(B.icons,J),this._updateTilesForChangedImages();var st=this.sourceCaches[B.source];st&&st.setDependencies(B.tileID.key,B.type,B.icons)},b.prototype.getGlyphs=function(v,B,J){this.glyphManager.getGlyphs(B.stacks,J)},b.prototype.getResource=function(v,B,J){return n.makeRequest(B,J)},b}(n.Evented);pn.getSourceType=function(g){return Jt[g]},pn.setSourceType=function(g,b){Jt[g]=b},pn.registerForPluginStateChange=n.registerForPluginStateChange;var fn=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),wt=cr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ht=cr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),me=cr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),xe=cr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Me=cr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ee=cr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Ze=cr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ne=cr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),_i=cr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),vi=cr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Ki=cr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),ln=cr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Mn=cr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),mr=cr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Un=cr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Dr=cr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),vr=cr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),_r=cr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Qr=cr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hr=cr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Wr=cr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Vn=cr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),xr=cr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Vr=cr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Co=cr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),ro=cr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function cr(g,b){var v=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,B=b.match(/attribute ([\w]+) ([\w]+)/g),J=g.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),st=b.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),dt=st?st.concat(J):J,Pt={};return{fragmentSource:g=g.replace(v,function(zt,Zt,he,de,ve){return Pt[ve]=!0,"define"===Zt?"\n#ifndef HAS_UNIFORM_u_"+ve+"\nvarying "+he+" "+de+" "+ve+";\n#else\nuniform "+he+" "+de+" u_"+ve+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+ve+"\n    "+he+" "+de+" "+ve+" = u_"+ve+";\n#endif\n"}),vertexSource:b=b.replace(v,function(zt,Zt,he,de,ve){var Ce="float"===de?"vec2":"vec4",Pe=ve.match(/color/)?"color":Ce;return Pt[ve]?"define"===Zt?"\n#ifndef HAS_UNIFORM_u_"+ve+"\nuniform lowp float u_"+ve+"_t;\nattribute "+he+" "+Ce+" a_"+ve+";\nvarying "+he+" "+de+" "+ve+";\n#else\nuniform "+he+" "+de+" u_"+ve+";\n#endif\n":"vec4"===Pe?"\n#ifndef HAS_UNIFORM_u_"+ve+"\n    "+ve+" = a_"+ve+";\n#else\n    "+he+" "+de+" "+ve+" = u_"+ve+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ve+"\n    "+ve+" = unpack_mix_"+Pe+"(a_"+ve+", u_"+ve+"_t);\n#else\n    "+he+" "+de+" "+ve+" = u_"+ve+";\n#endif\n":"define"===Zt?"\n#ifndef HAS_UNIFORM_u_"+ve+"\nuniform lowp float u_"+ve+"_t;\nattribute "+he+" "+Ce+" a_"+ve+";\n#else\nuniform "+he+" "+de+" u_"+ve+";\n#endif\n":"vec4"===Pe?"\n#ifndef HAS_UNIFORM_u_"+ve+"\n    "+he+" "+de+" "+ve+" = a_"+ve+";\n#else\n    "+he+" "+de+" "+ve+" = u_"+ve+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ve+"\n    "+he+" "+de+" "+ve+" = unpack_mix_"+Pe+"(a_"+ve+", u_"+ve+"_t);\n#else\n    "+he+" "+de+" "+ve+" = u_"+ve+";\n#endif\n"}),staticAttributes:B,staticUniforms:dt}}var Gs=Object.freeze({__proto__:null,prelude:wt,background:Ht,backgroundPattern:me,circle:xe,clippingMask:Me,heatmap:Ee,heatmapTexture:Ze,collisionBox:Ne,collisionCircle:_i,debug:vi,fill:Ki,fillOutline:ln,fillOutlinePattern:Mn,fillPattern:mr,fillExtrusion:Un,fillExtrusionPattern:Dr,hillshadePrepare:vr,hillshade:_r,line:Qr,lineGradient:hr,linePattern:Wr,lineSDF:Vn,raster:xr,symbolIcon:Vr,symbolSDF:Co,symbolTextAndIcon:ro}),Go=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function is(g){for(var b=[],v=0;v<g.length;v++)if(null!==g[v]){var B=g[v].split(" ");b.push(B.pop())}return b}Go.prototype.bind=function(g,b,v,B,J,st,dt,Pt){this.context=g;for(var zt=this.boundPaintVertexBuffers.length!==B.length,Zt=0;!zt&&Zt<B.length;Zt++)this.boundPaintVertexBuffers[Zt]!==B[Zt]&&(zt=!0);g.extVertexArrayObject&&this.vao&&this.boundProgram===b&&this.boundLayoutVertexBuffer===v&&!zt&&this.boundIndexBuffer===J&&this.boundVertexOffset===st&&this.boundDynamicVertexBuffer===dt&&this.boundDynamicVertexBuffer2===Pt?(g.bindVertexArrayOES.set(this.vao),dt&&dt.bind(),J&&J.dynamicDraw&&J.bind(),Pt&&Pt.bind()):this.freshBind(b,v,B,J,st,dt,Pt)},Go.prototype.freshBind=function(g,b,v,B,J,st,dt){var Pt,zt=g.numAttributes,Zt=this.context,he=Zt.gl;if(Zt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Zt.extVertexArrayObject.createVertexArrayOES(),Zt.bindVertexArrayOES.set(this.vao),Pt=0,this.boundProgram=g,this.boundLayoutVertexBuffer=b,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=B,this.boundVertexOffset=J,this.boundDynamicVertexBuffer=st,this.boundDynamicVertexBuffer2=dt;else{Pt=Zt.currentNumAttributes||0;for(var de=zt;de<Pt;de++)he.disableVertexAttribArray(de)}b.enableAttributes(he,g);for(var ve=0,Ce=v;ve<Ce.length;ve+=1)Ce[ve].enableAttributes(he,g);st&&st.enableAttributes(he,g),dt&&dt.enableAttributes(he,g),b.bind(),b.setVertexAttribPointers(he,g,J);for(var Pe=0,Be=v;Pe<Be.length;Pe+=1){var we=Be[Pe];we.bind(),we.setVertexAttribPointers(he,g,J)}st&&(st.bind(),st.setVertexAttribPointers(he,g,J)),B&&B.bind(),dt&&(dt.bind(),dt.setVertexAttribPointers(he,g,J)),Zt.currentNumAttributes=zt},Go.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ks=function(g,b,v,B,J,st){var dt=g.gl;this.program=dt.createProgram();for(var Pt=is(v.staticAttributes),zt=B?B.getBinderAttributes():[],Zt=Pt.concat(zt),he=v.staticUniforms?is(v.staticUniforms):[],de=B?B.getBinderUniforms():[],ve=[],Ce=0,Pe=he.concat(de);Ce<Pe.length;Ce+=1){var Be=Pe[Ce];ve.indexOf(Be)<0&&ve.push(Be)}var we=B?B.defines():[];st&&we.push("#define OVERDRAW_INSPECTOR;");var Re=we.concat(wt.fragmentSource,v.fragmentSource).join("\n"),Ge=we.concat(wt.vertexSource,v.vertexSource).join("\n"),hi=dt.createShader(dt.FRAGMENT_SHADER);if(dt.isContextLost())this.failedToCreate=!0;else{dt.shaderSource(hi,Re),dt.compileShader(hi),dt.attachShader(this.program,hi);var Ci=dt.createShader(dt.VERTEX_SHADER);if(dt.isContextLost())this.failedToCreate=!0;else{dt.shaderSource(Ci,Ge),dt.compileShader(Ci),dt.attachShader(this.program,Ci),this.attributes={};var wi={};this.numAttributes=Zt.length;for(var Mi=0;Mi<this.numAttributes;Mi++)Zt[Mi]&&(dt.bindAttribLocation(this.program,Mi,Zt[Mi]),this.attributes[Zt[Mi]]=Mi);dt.linkProgram(this.program),dt.deleteShader(Ci),dt.deleteShader(hi);for(var Gi=0;Gi<ve.length;Gi++){var on=ve[Gi];if(on&&!wi[on]){var rn=dt.getUniformLocation(this.program,on);rn&&(wi[on]=rn)}}this.fixedUniforms=J(g,wi),this.binderUniforms=B?B.getUniforms(g,wi):[]}}};function oa(g,b,v){var B=1/wr(v,1,b.transform.tileZoom),J=Math.pow(2,v.tileID.overscaledZ),st=v.tileSize*Math.pow(2,b.transform.tileZoom)/J,dt=st*(v.tileID.canonical.x+v.tileID.wrap*J),Pt=st*v.tileID.canonical.y;return{u_image:0,u_texsize:v.imageAtlasTexture.size,u_scale:[B,g.fromScale,g.toScale],u_fade:g.t,u_pixel_coord_upper:[dt>>16,Pt>>16],u_pixel_coord_lower:[65535&dt,65535&Pt]}}ks.prototype.draw=function(g,b,v,B,J,st,dt,Pt,zt,Zt,he,de,ve,Ce,Pe,Be){var we,Re=g.gl;if(!this.failedToCreate){for(var Ge in g.program.set(this.program),g.setDepthMode(v),g.setStencilMode(B),g.setColorMode(J),g.setCullFace(st),this.fixedUniforms)this.fixedUniforms[Ge].set(dt[Ge]);Ce&&Ce.setUniforms(g,this.binderUniforms,de,{zoom:ve});for(var hi=(we={},we[Re.LINES]=2,we[Re.TRIANGLES]=3,we[Re.LINE_STRIP]=1,we)[b],Ci=0,wi=he.get();Ci<wi.length;Ci+=1){var Mi=wi[Ci],Gi=Mi.vaos||(Mi.vaos={});(Gi[Pt]||(Gi[Pt]=new Go)).bind(g,this,zt,Ce?Ce.getPaintVertexBuffers():[],Zt,Mi.vertexOffset,Pe,Be),Re.drawElements(b,Mi.primitiveLength*hi,Re.UNSIGNED_SHORT,Mi.primitiveOffset*hi*2)}}};var Ns=function(g,b,v,B){var J=b.style.light,st=J.properties.get("position"),dt=[st.x,st.y,st.z],Pt=n.create$1();"viewport"===J.properties.get("anchor")&&n.fromRotation(Pt,-b.transform.angle),n.transformMat3(dt,dt,Pt);var zt=J.properties.get("color");return{u_matrix:g,u_lightpos:dt,u_lightintensity:J.properties.get("intensity"),u_lightcolor:[zt.r,zt.g,zt.b],u_vertical_gradient:+v,u_opacity:B}},gs=function(g,b,v,B,J,st,dt){return n.extend(Ns(g,b,v,B),oa(st,b,dt),{u_height_factor:-Math.pow(2,J.overscaledZ)/dt.tileSize/8})},ns=function(g){return{u_matrix:g}},Hs=function(g,b,v,B){return n.extend(ns(g),oa(v,b,B))},y=function(g,b){return{u_matrix:g,u_world:b}},V=function(g,b,v,B,J){return n.extend(Hs(g,b,v,B),{u_world:J})},it=function(g,b,v,B){var J,st,dt=g.transform;if("map"===B.paint.get("circle-pitch-alignment")){var Pt=wr(v,1,dt.zoom);J=!0,st=[Pt,Pt]}else J=!1,st=dt.pixelsToGLUnits;return{u_camera_to_center_distance:dt.cameraToCenterDistance,u_scale_with_map:+("map"===B.paint.get("circle-pitch-scale")),u_matrix:g.translatePosMatrix(b.posMatrix,v,B.paint.get("circle-translate"),B.paint.get("circle-translate-anchor")),u_pitch_with_map:+J,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:st}},bt=function(g,b,v){var B=wr(v,1,b.zoom),J=Math.pow(2,b.zoom-v.tileID.overscaledZ),st=v.tileID.overscaleFactor();return{u_matrix:g,u_camera_to_center_distance:b.cameraToCenterDistance,u_pixels_to_tile_units:B,u_extrude_scale:[b.pixelsToGLUnits[0]/(B*J),b.pixelsToGLUnits[1]/(B*J)],u_overscale_factor:st}},Bt=function(g,b,v){return{u_matrix:g,u_inv_matrix:b,u_camera_to_center_distance:v.cameraToCenterDistance,u_viewport_size:[v.width,v.height]}},pe=function(g,b,v){return void 0===v&&(v=1),{u_matrix:g,u_color:b,u_overlay:0,u_overlay_scale:v}},qe=function(g){return{u_matrix:g}},He=function(g,b,v,B){return{u_matrix:g,u_extrude_scale:wr(b,1,v),u_intensity:B}},Bi=function(g,b,v){var B=g.transform;return{u_matrix:ho(g,b,v),u_ratio:1/wr(b,1,B.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/B.pixelsToGLUnits[0],1/B.pixelsToGLUnits[1]]}},Di=function(g,b,v,B){return n.extend(Bi(g,b,v),{u_image:0,u_image_height:B})},Dn=function(g,b,v,B){var J=g.transform,st=Tr(b,J);return{u_matrix:ho(g,b,v),u_texsize:b.imageAtlasTexture.size,u_ratio:1/wr(b,1,J.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[st,B.fromScale,B.toScale],u_fade:B.t,u_units_to_pixels:[1/J.pixelsToGLUnits[0],1/J.pixelsToGLUnits[1]]}},rr=function(g,b,v,B,J){var st=g.lineAtlas,dt=Tr(b,g.transform),Pt="round"===v.layout.get("line-cap"),zt=st.getDash(B.from,Pt),Zt=st.getDash(B.to,Pt),he=zt.width*J.fromScale,de=Zt.width*J.toScale;return n.extend(Bi(g,b,v),{u_patternscale_a:[dt/he,-zt.height/2],u_patternscale_b:[dt/de,-Zt.height/2],u_sdfgamma:st.width/(256*Math.min(he,de)*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:zt.y,u_tex_y_b:Zt.y,u_mix:J.t})};function Tr(g,b){return 1/wr(g,1,b.tileZoom)}function ho(g,b,v){return g.translatePosMatrix(b.tileID.posMatrix,b,v.paint.get("line-translate"),v.paint.get("line-translate-anchor"))}var ys=function(g,b,v,B,J){return{u_matrix:g,u_tl_parent:b,u_scale_parent:v,u_buffer_scale:1,u_fade_t:B.mix,u_opacity:B.opacity*J.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:J.paint.get("raster-brightness-min"),u_brightness_high:J.paint.get("raster-brightness-max"),u_saturation_factor:(dt=J.paint.get("raster-saturation"),dt>0?1-1/(1.001-dt):-dt),u_contrast_factor:(st=J.paint.get("raster-contrast"),st>0?1/(1-st):1+st),u_spin_weights:zo(J.paint.get("raster-hue-rotate"))};var st,dt};function zo(g){g*=Math.PI/180;var b=Math.sin(g),v=Math.cos(g);return[(2*v+1)/3,(-Math.sqrt(3)*b-v+1)/3,(Math.sqrt(3)*b-v+1)/3]}var To,Rs=function(g,b,v,B,J,st,dt,Pt,zt,Zt){var he=J.transform;return{u_is_size_zoom_constant:+("constant"===g||"source"===g),u_is_size_feature_constant:+("constant"===g||"camera"===g),u_size_t:b?b.uSizeT:0,u_size:b?b.uSize:0,u_camera_to_center_distance:he.cameraToCenterDistance,u_pitch:he.pitch/360*2*Math.PI,u_rotate_symbol:+v,u_aspect_ratio:he.width/he.height,u_fade_change:J.options.fadeDuration?J.symbolFadeChange:1,u_matrix:st,u_label_plane_matrix:dt,u_coord_matrix:Pt,u_is_text:+zt,u_pitch_with_map:+B,u_texsize:Zt,u_texture:0}},Fo=function(g,b,v,B,J,st,dt,Pt,zt,Zt,he){var de=J.transform;return n.extend(Rs(g,b,v,B,J,st,dt,Pt,zt,Zt),{u_gamma_scale:B?Math.cos(de._pitch)*de.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+he})},Ws=function(g,b,v,B,J,st,dt,Pt,zt,Zt){return n.extend(Fo(g,b,v,B,J,st,dt,Pt,!0,zt,!0),{u_texsize_icon:Zt,u_texture_icon:1})},oo=function(g,b,v){return{u_matrix:g,u_opacity:b,u_color:v}},ds=function(g,b,v,B,J,st){return n.extend((Pt=st,Zt=J,he=(zt=v).imageManager.getPattern((dt=B).from.toString()),de=zt.imageManager.getPattern(dt.to.toString()),Ce=(ve=zt.imageManager.getPixelSize()).width,Pe=ve.height,Be=Math.pow(2,Zt.tileID.overscaledZ),Re=(we=Zt.tileSize*Math.pow(2,zt.transform.tileZoom)/Be)*(Zt.tileID.canonical.x+Zt.tileID.wrap*Be),Ge=we*Zt.tileID.canonical.y,{u_image:0,u_pattern_tl_a:he.tl,u_pattern_br_a:he.br,u_pattern_tl_b:de.tl,u_pattern_br_b:de.br,u_texsize:[Ce,Pe],u_mix:Pt.t,u_pattern_size_a:he.displaySize,u_pattern_size_b:de.displaySize,u_scale_a:Pt.fromScale,u_scale_b:Pt.toScale,u_tile_units_to_pixels:1/wr(Zt,1,zt.transform.tileZoom),u_pixel_coord_upper:[Re>>16,Ge>>16],u_pixel_coord_lower:[65535&Re,65535&Ge]}),{u_matrix:g,u_opacity:b});var dt,Pt,zt,Zt,he,de,ve,Ce,Pe,Be,we,Re,Ge},Ss={fillExtrusion:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_lightpos:new n.Uniform3f(g,b.u_lightpos),u_lightintensity:new n.Uniform1f(g,b.u_lightintensity),u_lightcolor:new n.Uniform3f(g,b.u_lightcolor),u_vertical_gradient:new n.Uniform1f(g,b.u_vertical_gradient),u_opacity:new n.Uniform1f(g,b.u_opacity)}},fillExtrusionPattern:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_lightpos:new n.Uniform3f(g,b.u_lightpos),u_lightintensity:new n.Uniform1f(g,b.u_lightintensity),u_lightcolor:new n.Uniform3f(g,b.u_lightcolor),u_vertical_gradient:new n.Uniform1f(g,b.u_vertical_gradient),u_height_factor:new n.Uniform1f(g,b.u_height_factor),u_image:new n.Uniform1i(g,b.u_image),u_texsize:new n.Uniform2f(g,b.u_texsize),u_pixel_coord_upper:new n.Uniform2f(g,b.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(g,b.u_pixel_coord_lower),u_scale:new n.Uniform3f(g,b.u_scale),u_fade:new n.Uniform1f(g,b.u_fade),u_opacity:new n.Uniform1f(g,b.u_opacity)}},fill:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix)}},fillPattern:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_image:new n.Uniform1i(g,b.u_image),u_texsize:new n.Uniform2f(g,b.u_texsize),u_pixel_coord_upper:new n.Uniform2f(g,b.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(g,b.u_pixel_coord_lower),u_scale:new n.Uniform3f(g,b.u_scale),u_fade:new n.Uniform1f(g,b.u_fade)}},fillOutline:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_world:new n.Uniform2f(g,b.u_world)}},fillOutlinePattern:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_world:new n.Uniform2f(g,b.u_world),u_image:new n.Uniform1i(g,b.u_image),u_texsize:new n.Uniform2f(g,b.u_texsize),u_pixel_coord_upper:new n.Uniform2f(g,b.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(g,b.u_pixel_coord_lower),u_scale:new n.Uniform3f(g,b.u_scale),u_fade:new n.Uniform1f(g,b.u_fade)}},circle:function(g,b){return{u_camera_to_center_distance:new n.Uniform1f(g,b.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(g,b.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(g,b.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(g,b.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(g,b.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(g,b.u_matrix)}},collisionBox:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_camera_to_center_distance:new n.Uniform1f(g,b.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(g,b.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(g,b.u_extrude_scale),u_overscale_factor:new n.Uniform1f(g,b.u_overscale_factor)}},collisionCircle:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_inv_matrix:new n.UniformMatrix4f(g,b.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(g,b.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(g,b.u_viewport_size)}},debug:function(g,b){return{u_color:new n.UniformColor(g,b.u_color),u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_overlay:new n.Uniform1i(g,b.u_overlay),u_overlay_scale:new n.Uniform1f(g,b.u_overlay_scale)}},clippingMask:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix)}},heatmap:function(g,b){return{u_extrude_scale:new n.Uniform1f(g,b.u_extrude_scale),u_intensity:new n.Uniform1f(g,b.u_intensity),u_matrix:new n.UniformMatrix4f(g,b.u_matrix)}},heatmapTexture:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_world:new n.Uniform2f(g,b.u_world),u_image:new n.Uniform1i(g,b.u_image),u_color_ramp:new n.Uniform1i(g,b.u_color_ramp),u_opacity:new n.Uniform1f(g,b.u_opacity)}},hillshade:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_image:new n.Uniform1i(g,b.u_image),u_latrange:new n.Uniform2f(g,b.u_latrange),u_light:new n.Uniform2f(g,b.u_light),u_shadow:new n.UniformColor(g,b.u_shadow),u_highlight:new n.UniformColor(g,b.u_highlight),u_accent:new n.UniformColor(g,b.u_accent)}},hillshadePrepare:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_image:new n.Uniform1i(g,b.u_image),u_dimension:new n.Uniform2f(g,b.u_dimension),u_zoom:new n.Uniform1f(g,b.u_zoom),u_unpack:new n.Uniform4f(g,b.u_unpack)}},line:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_ratio:new n.Uniform1f(g,b.u_ratio),u_device_pixel_ratio:new n.Uniform1f(g,b.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(g,b.u_units_to_pixels)}},lineGradient:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_ratio:new n.Uniform1f(g,b.u_ratio),u_device_pixel_ratio:new n.Uniform1f(g,b.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(g,b.u_units_to_pixels),u_image:new n.Uniform1i(g,b.u_image),u_image_height:new n.Uniform1f(g,b.u_image_height)}},linePattern:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_texsize:new n.Uniform2f(g,b.u_texsize),u_ratio:new n.Uniform1f(g,b.u_ratio),u_device_pixel_ratio:new n.Uniform1f(g,b.u_device_pixel_ratio),u_image:new n.Uniform1i(g,b.u_image),u_units_to_pixels:new n.Uniform2f(g,b.u_units_to_pixels),u_scale:new n.Uniform3f(g,b.u_scale),u_fade:new n.Uniform1f(g,b.u_fade)}},lineSDF:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_ratio:new n.Uniform1f(g,b.u_ratio),u_device_pixel_ratio:new n.Uniform1f(g,b.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(g,b.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(g,b.u_patternscale_a),u_patternscale_b:new n.Uniform2f(g,b.u_patternscale_b),u_sdfgamma:new n.Uniform1f(g,b.u_sdfgamma),u_image:new n.Uniform1i(g,b.u_image),u_tex_y_a:new n.Uniform1f(g,b.u_tex_y_a),u_tex_y_b:new n.Uniform1f(g,b.u_tex_y_b),u_mix:new n.Uniform1f(g,b.u_mix)}},raster:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_tl_parent:new n.Uniform2f(g,b.u_tl_parent),u_scale_parent:new n.Uniform1f(g,b.u_scale_parent),u_buffer_scale:new n.Uniform1f(g,b.u_buffer_scale),u_fade_t:new n.Uniform1f(g,b.u_fade_t),u_opacity:new n.Uniform1f(g,b.u_opacity),u_image0:new n.Uniform1i(g,b.u_image0),u_image1:new n.Uniform1i(g,b.u_image1),u_brightness_low:new n.Uniform1f(g,b.u_brightness_low),u_brightness_high:new n.Uniform1f(g,b.u_brightness_high),u_saturation_factor:new n.Uniform1f(g,b.u_saturation_factor),u_contrast_factor:new n.Uniform1f(g,b.u_contrast_factor),u_spin_weights:new n.Uniform3f(g,b.u_spin_weights)}},symbolIcon:function(g,b){return{u_is_size_zoom_constant:new n.Uniform1i(g,b.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(g,b.u_is_size_feature_constant),u_size_t:new n.Uniform1f(g,b.u_size_t),u_size:new n.Uniform1f(g,b.u_size),u_camera_to_center_distance:new n.Uniform1f(g,b.u_camera_to_center_distance),u_pitch:new n.Uniform1f(g,b.u_pitch),u_rotate_symbol:new n.Uniform1i(g,b.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(g,b.u_aspect_ratio),u_fade_change:new n.Uniform1f(g,b.u_fade_change),u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(g,b.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(g,b.u_coord_matrix),u_is_text:new n.Uniform1i(g,b.u_is_text),u_pitch_with_map:new n.Uniform1i(g,b.u_pitch_with_map),u_texsize:new n.Uniform2f(g,b.u_texsize),u_texture:new n.Uniform1i(g,b.u_texture)}},symbolSDF:function(g,b){return{u_is_size_zoom_constant:new n.Uniform1i(g,b.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(g,b.u_is_size_feature_constant),u_size_t:new n.Uniform1f(g,b.u_size_t),u_size:new n.Uniform1f(g,b.u_size),u_camera_to_center_distance:new n.Uniform1f(g,b.u_camera_to_center_distance),u_pitch:new n.Uniform1f(g,b.u_pitch),u_rotate_symbol:new n.Uniform1i(g,b.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(g,b.u_aspect_ratio),u_fade_change:new n.Uniform1f(g,b.u_fade_change),u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(g,b.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(g,b.u_coord_matrix),u_is_text:new n.Uniform1i(g,b.u_is_text),u_pitch_with_map:new n.Uniform1i(g,b.u_pitch_with_map),u_texsize:new n.Uniform2f(g,b.u_texsize),u_texture:new n.Uniform1i(g,b.u_texture),u_gamma_scale:new n.Uniform1f(g,b.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(g,b.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(g,b.u_is_halo)}},symbolTextAndIcon:function(g,b){return{u_is_size_zoom_constant:new n.Uniform1i(g,b.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(g,b.u_is_size_feature_constant),u_size_t:new n.Uniform1f(g,b.u_size_t),u_size:new n.Uniform1f(g,b.u_size),u_camera_to_center_distance:new n.Uniform1f(g,b.u_camera_to_center_distance),u_pitch:new n.Uniform1f(g,b.u_pitch),u_rotate_symbol:new n.Uniform1i(g,b.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(g,b.u_aspect_ratio),u_fade_change:new n.Uniform1f(g,b.u_fade_change),u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(g,b.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(g,b.u_coord_matrix),u_is_text:new n.Uniform1i(g,b.u_is_text),u_pitch_with_map:new n.Uniform1i(g,b.u_pitch_with_map),u_texsize:new n.Uniform2f(g,b.u_texsize),u_texsize_icon:new n.Uniform2f(g,b.u_texsize_icon),u_texture:new n.Uniform1i(g,b.u_texture),u_texture_icon:new n.Uniform1i(g,b.u_texture_icon),u_gamma_scale:new n.Uniform1f(g,b.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(g,b.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(g,b.u_is_halo)}},background:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_opacity:new n.Uniform1f(g,b.u_opacity),u_color:new n.UniformColor(g,b.u_color)}},backgroundPattern:function(g,b){return{u_matrix:new n.UniformMatrix4f(g,b.u_matrix),u_opacity:new n.Uniform1f(g,b.u_opacity),u_image:new n.Uniform1i(g,b.u_image),u_pattern_tl_a:new n.Uniform2f(g,b.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(g,b.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(g,b.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(g,b.u_pattern_br_b),u_texsize:new n.Uniform2f(g,b.u_texsize),u_mix:new n.Uniform1f(g,b.u_mix),u_pattern_size_a:new n.Uniform2f(g,b.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(g,b.u_pattern_size_b),u_scale_a:new n.Uniform1f(g,b.u_scale_a),u_scale_b:new n.Uniform1f(g,b.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(g,b.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(g,b.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(g,b.u_tile_units_to_pixels)}}};function $s(g,b,v,B,J,st,dt){for(var Pt=g.context,zt=Pt.gl,Zt=g.useProgram("collisionBox"),he=[],de=0,ve=0,Ce=0;Ce<B.length;Ce++){var Pe=B[Ce],Be=b.getTile(Pe),we=Be.getBucket(v);if(we){var Re=Pe.posMatrix;0===J[0]&&0===J[1]||(Re=g.translatePosMatrix(Pe.posMatrix,Be,J,st));var Ge=dt?we.textCollisionBox:we.iconCollisionBox,hi=we.collisionCircleArray;if(hi.length>0){var Ci=n.create(),wi=Re;n.mul(Ci,we.placementInvProjMatrix,g.transform.glCoordMatrix),n.mul(Ci,Ci,we.placementViewportMatrix),he.push({circleArray:hi,circleOffset:ve,transform:wi,invTransform:Ci}),ve=de+=hi.length/4}Ge&&Zt.draw(Pt,zt.LINES,xt.disabled,Lt.disabled,g.colorModeForRenderPass(),re.disabled,bt(Re,g.transform,Be),v.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,null,g.transform.zoom,null,null,Ge.collisionVertexBuffer)}}if(dt&&he.length){var Mi=g.useProgram("collisionCircle"),Gi=new n.StructArrayLayout2f1f2i16;Gi.resize(4*de),Gi._trim();for(var on=0,rn=0,vn=he;rn<vn.length;rn+=1)for(var Nn=vn[rn],jn=0;jn<Nn.circleArray.length/4;jn++){var zn=4*jn,zr=Nn.circleArray[zn+0],xn=Nn.circleArray[zn+1],or=Nn.circleArray[zn+2],yr=Nn.circleArray[zn+3];Gi.emplace(on++,zr,xn,or,yr,0),Gi.emplace(on++,zr,xn,or,yr,1),Gi.emplace(on++,zr,xn,or,yr,2),Gi.emplace(on++,zr,xn,or,yr,3)}(!To||To.length<2*de)&&(To=function(Mo){var xs=2*Mo,as=new n.StructArrayLayout3ui6;as.resize(xs),as._trim();for(var So=0;So<xs;So++){var Oo=6*So;as.uint16[Oo+0]=4*So+0,as.uint16[Oo+1]=4*So+1,as.uint16[Oo+2]=4*So+2,as.uint16[Oo+3]=4*So+2,as.uint16[Oo+4]=4*So+3,as.uint16[Oo+5]=4*So+0}return as}(de));for(var ir=Pt.createIndexBuffer(To,!0),tr=Pt.createVertexBuffer(Gi,n.collisionCircleLayout.members,!0),gr=0,$n=he;gr<$n.length;gr+=1){var Wn=$n[gr],Jo=Bt(Wn.transform,Wn.invTransform,g.transform);Mi.draw(Pt,zt.TRIANGLES,xt.disabled,Lt.disabled,g.colorModeForRenderPass(),re.disabled,Jo,v.id,tr,ir,n.SegmentVector.simpleSegment(0,2*Wn.circleOffset,Wn.circleArray.length,Wn.circleArray.length/2),null,g.transform.zoom,null,null,null)}tr.destroy(),ir.destroy()}}var rs=n.identity(new Float32Array(16));function ba(g,b,v,B,J,st){var dt=n.getAnchorAlignment(g),Pt=-(dt.horizontalAlign-.5)*b,zt=-(dt.verticalAlign-.5)*v,Zt=n.evaluateVariableOffset(g,B);return new n.Point((Pt/J+Zt[0])*st,(zt/J+Zt[1])*st)}function ma(g,b,v,B,J,st,dt,Pt,zt,Zt,he){var de=g.text.placedSymbolArray,ve=g.text.dynamicLayoutVertexArray,Ce=g.icon.dynamicLayoutVertexArray,Pe={};ve.clear();for(var Be=0;Be<de.length;Be++){var we=de.get(Be),Re=we.hidden||!we.crossTileID||g.allowVerticalPlacement&&!we.placedOrientation?null:B[we.crossTileID];if(Re){var Ge=new n.Point(we.anchorX,we.anchorY),hi=An(Ge,v?Pt:dt),Ci=zi(st.cameraToCenterDistance,hi.signedDistanceFromCamera),wi=J.evaluateSizeForFeature(g.textSizeData,Zt,we)*Ci/n.ONE_EM;v&&(wi*=g.tilePixelRatio/zt);for(var Mi=ba(Re.anchor,Re.width,Re.height,Re.textOffset,Re.textBoxScale,wi),Gi=v?An(Ge.add(Mi),dt).point:hi.point.add(b?Mi.rotate(-st.angle):Mi),on=g.allowVerticalPlacement&&we.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,rn=0;rn<we.numGlyphs;rn++)n.addDynamicAttributes(ve,Gi,on);he&&we.associatedIconIndex>=0&&(Pe[we.associatedIconIndex]={shiftedAnchor:Gi,angle:on})}else kr(we.numGlyphs,ve)}if(he){Ce.clear();for(var vn=g.icon.placedSymbolArray,Nn=0;Nn<vn.length;Nn++){var jn=vn.get(Nn);if(jn.hidden)kr(jn.numGlyphs,Ce);else{var zn=Pe[Nn];if(zn)for(var zr=0;zr<jn.numGlyphs;zr++)n.addDynamicAttributes(Ce,zn.shiftedAnchor,zn.angle);else kr(jn.numGlyphs,Ce)}}g.icon.dynamicLayoutVertexBuffer.updateData(Ce)}g.text.dynamicLayoutVertexBuffer.updateData(ve)}function _e(g,b,v){return v.iconsInText&&b?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function Ue(g,b,v,B,J,st,dt,Pt,zt,Zt,he,de){for(var ve=g.context,Ce=ve.gl,Pe=g.transform,Be="map"===Pt,we="map"===zt,Re=Be&&"point"!==v.layout.get("symbol-placement"),Ge=Be&&!we&&!Re,hi=void 0!==v.layout.get("symbol-sort-key").constantOr(1),Ci=!1,wi=g.depthModeForSublayer(0,xt.ReadOnly),Mi=v.layout.get("text-variable-anchor"),Gi=[],on=0,rn=B;on<rn.length;on+=1){var vn=rn[on],Nn=b.getTile(vn),jn=Nn.getBucket(v);if(jn){var zn=J?jn.text:jn.icon;if(zn&&zn.segments.get().length){var zr=zn.programConfigurations.get(v.id),xn=J||jn.sdfIcons,or=J?jn.textSizeData:jn.iconSizeData,yr=we||0!==Pe.pitch,ir=g.useProgram(_e(xn,J,jn),zr),tr=n.evaluateSizeForZoom(or,Pe.zoom),gr=void 0,$n=[0,0],Wn=void 0,Jo=void 0,Mo=null,xs=void 0;if(J)Wn=Nn.glyphAtlasTexture,Jo=Ce.LINEAR,gr=Nn.glyphAtlasTexture.size,jn.iconsInText&&($n=Nn.imageAtlasTexture.size,Mo=Nn.imageAtlasTexture,xs=yr||g.options.rotating||g.options.zooming||"composite"===or.kind||"camera"===or.kind?Ce.LINEAR:Ce.NEAREST);else{var as=1!==v.layout.get("icon-size").constantOr(0)||jn.iconsNeedLinear;Wn=Nn.imageAtlasTexture,Jo=xn||g.options.rotating||g.options.zooming||as||yr?Ce.LINEAR:Ce.NEAREST,gr=Nn.imageAtlasTexture.size}var So=wr(Nn,1,g.transform.zoom),Oo=Yn(vn.posMatrix,we,Be,g.transform,So),Us=In(vn.posMatrix,we,Be,g.transform,So),Ps=Mi&&jn.hasTextData(),Ma="none"!==v.layout.get("icon-text-fit")&&Ps&&jn.hasIconData();Re&&Lr(jn,vn.posMatrix,g,J,Oo,Us,we,Zt);var Es=g.translatePosMatrix(vn.posMatrix,Nn,st,dt),sa=Re||J&&Mi||Ma?rs:Oo,ea=g.translatePosMatrix(Us,Nn,st,dt,!0),hl=xn&&0!==v.paint.get(J?"text-halo-width":"icon-halo-width").constantOr(1),Ja={program:ir,buffers:zn,uniformValues:xn?jn.iconsInText?Ws(or.kind,tr,Ge,we,g,Es,sa,ea,gr,$n):Fo(or.kind,tr,Ge,we,g,Es,sa,ea,J,gr,!0):Rs(or.kind,tr,Ge,we,g,Es,sa,ea,J,gr),atlasTexture:Wn,atlasTextureIcon:Mo,atlasInterpolation:Jo,atlasInterpolationIcon:xs,isSDF:xn,hasHalo:hl};if(hi&&jn.canOverlap){Ci=!0;for(var ka=0,$a=zn.segments.get();ka<$a.length;ka+=1){var ul=$a[ka];Gi.push({segments:new n.SegmentVector([ul]),sortKey:ul.sortKey,state:Ja})}}else Gi.push({segments:zn.segments,sortKey:0,state:Ja})}}}Ci&&Gi.sort(function(Da,Fa){return Da.sortKey-Fa.sortKey});for(var pa=0,cl=Gi;pa<cl.length;pa+=1){var da=cl[pa],$o=da.state;if(ve.activeTexture.set(Ce.TEXTURE0),$o.atlasTexture.bind($o.atlasInterpolation,Ce.CLAMP_TO_EDGE),$o.atlasTextureIcon&&(ve.activeTexture.set(Ce.TEXTURE1),$o.atlasTextureIcon&&$o.atlasTextureIcon.bind($o.atlasInterpolationIcon,Ce.CLAMP_TO_EDGE)),$o.isSDF){var ya=$o.uniformValues;$o.hasHalo&&(ya.u_is_halo=1,ri($o.buffers,da.segments,v,g,$o.program,wi,he,de,ya)),ya.u_is_halo=0}ri($o.buffers,da.segments,v,g,$o.program,wi,he,de,$o.uniformValues)}}function ri(g,b,v,B,J,st,dt,Pt,zt){var Zt=B.context;J.draw(Zt,Zt.gl.TRIANGLES,st,dt,Pt,re.disabled,zt,v.id,g.layoutVertexBuffer,g.indexBuffer,b,v.paint,B.transform.zoom,g.programConfigurations.get(v.id),g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer)}function Ui(g,b,v,B,J,st,dt){var Pt,zt,Zt,he,de,ve=g.context.gl,Ce=v.paint.get("fill-pattern"),Pe=Ce&&Ce.constantOr(1),Be=v.getCrossfadeParameters();dt?(zt=Pe&&!v.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Pt=ve.LINES):(zt=Pe?"fillPattern":"fill",Pt=ve.TRIANGLES);for(var we=0,Re=B;we<Re.length;we+=1){var Ge=Re[we],hi=b.getTile(Ge);if(!Pe||hi.patternsLoaded()){var Ci=hi.getBucket(v);if(Ci){var wi=Ci.programConfigurations.get(v.id),Mi=g.useProgram(zt,wi);Pe&&(g.context.activeTexture.set(ve.TEXTURE0),hi.imageAtlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),wi.updatePaintBuffers(Be));var Gi=Ce.constantOr(null);if(Gi&&hi.imageAtlas){var on=hi.imageAtlas,rn=on.patternPositions[Gi.to.toString()],vn=on.patternPositions[Gi.from.toString()];rn&&vn&&wi.setConstantPatternPositions(rn,vn)}var Nn=g.translatePosMatrix(Ge.posMatrix,hi,v.paint.get("fill-translate"),v.paint.get("fill-translate-anchor"));if(dt){he=Ci.indexBuffer2,de=Ci.segments2;var jn=[ve.drawingBufferWidth,ve.drawingBufferHeight];Zt="fillOutlinePattern"===zt&&Pe?V(Nn,g,Be,hi,jn):y(Nn,jn)}else he=Ci.indexBuffer,de=Ci.segments,Zt=Pe?Hs(Nn,g,Be,hi):ns(Nn);Mi.draw(g.context,Pt,J,g.stencilModeForClipping(Ge),st,re.disabled,Zt,v.id,Ci.layoutVertexBuffer,he,de,v.paint,g.transform.zoom,wi)}}}}function fi(g,b,v,B,J,st,dt){for(var Pt=g.context,zt=Pt.gl,Zt=v.paint.get("fill-extrusion-pattern"),he=Zt.constantOr(1),de=v.getCrossfadeParameters(),ve=v.paint.get("fill-extrusion-opacity"),Ce=0,Pe=B;Ce<Pe.length;Ce+=1){var Be=Pe[Ce],we=b.getTile(Be),Re=we.getBucket(v);if(Re){var Ge=Re.programConfigurations.get(v.id),hi=g.useProgram(he?"fillExtrusionPattern":"fillExtrusion",Ge);he&&(g.context.activeTexture.set(zt.TEXTURE0),we.imageAtlasTexture.bind(zt.LINEAR,zt.CLAMP_TO_EDGE),Ge.updatePaintBuffers(de));var Ci=Zt.constantOr(null);if(Ci&&we.imageAtlas){var wi=we.imageAtlas,Mi=wi.patternPositions[Ci.to.toString()],Gi=wi.patternPositions[Ci.from.toString()];Mi&&Gi&&Ge.setConstantPatternPositions(Mi,Gi)}var on=g.translatePosMatrix(Be.posMatrix,we,v.paint.get("fill-extrusion-translate"),v.paint.get("fill-extrusion-translate-anchor")),rn=v.paint.get("fill-extrusion-vertical-gradient"),vn=he?gs(on,g,rn,ve,Be,de,we):Ns(on,g,rn,ve);hi.draw(Pt,Pt.gl.TRIANGLES,J,st,dt,re.backCCW,vn,v.id,Re.layoutVertexBuffer,Re.indexBuffer,Re.segments,v.paint,g.transform.zoom,Ge)}}}function Wi(g,b,v,B,J,st){var dt=g.context,Pt=dt.gl,zt=b.fbo;if(zt){var Zt=g.useProgram("hillshade");dt.activeTexture.set(Pt.TEXTURE0),Pt.bindTexture(Pt.TEXTURE_2D,zt.colorAttachment.get());var he=function(de,ve,Ce){var Pe=Ce.paint.get("hillshade-shadow-color"),Be=Ce.paint.get("hillshade-highlight-color"),we=Ce.paint.get("hillshade-accent-color"),Re=Ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Ce.paint.get("hillshade-illumination-anchor")&&(Re-=de.transform.angle);var Ge,hi,Ci,wi=!de.options.moving;return{u_matrix:de.transform.calculatePosMatrix(ve.tileID.toUnwrapped(),wi),u_image:0,u_latrange:(Ge=ve.tileID,hi=Math.pow(2,Ge.canonical.z),Ci=Ge.canonical.y,[new n.MercatorCoordinate(0,Ci/hi).toLngLat().lat,new n.MercatorCoordinate(0,(Ci+1)/hi).toLngLat().lat]),u_light:[Ce.paint.get("hillshade-exaggeration"),Re],u_shadow:Pe,u_highlight:Be,u_accent:we}}(g,b,v);Zt.draw(dt,Pt.TRIANGLES,B,J,st,re.disabled,he,v.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}}function sn(g,b,v,B,J,st){var Be,we,Re,Ge,dt=g.context,Pt=dt.gl,zt=b.dem;if(zt&&zt.data){var Zt=zt.dim,he=zt.stride,de=zt.getPixels();if(dt.activeTexture.set(Pt.TEXTURE1),dt.pixelStoreUnpackPremultiplyAlpha.set(!1),b.demTexture=b.demTexture||g.getTileTexture(he),b.demTexture){var ve=b.demTexture;ve.update(de,{premultiply:!1}),ve.bind(Pt.NEAREST,Pt.CLAMP_TO_EDGE)}else b.demTexture=new n.Texture(dt,de,Pt.RGBA,{premultiply:!1}),b.demTexture.bind(Pt.NEAREST,Pt.CLAMP_TO_EDGE);dt.activeTexture.set(Pt.TEXTURE0);var Ce=b.fbo;if(!Ce){var Pe=new n.Texture(dt,{width:Zt,height:Zt,data:null},Pt.RGBA);Pe.bind(Pt.LINEAR,Pt.CLAMP_TO_EDGE),(Ce=b.fbo=dt.createFramebuffer(Zt,Zt,!0)).colorAttachment.set(Pe.texture)}dt.bindFramebuffer.set(Ce.framebuffer),dt.viewport.set([0,0,Zt,Zt]),g.useProgram("hillshadePrepare").draw(dt,Pt.TRIANGLES,B,J,st,re.disabled,(Be=b.tileID,Re=(we=zt).stride,Ge=n.create(),n.ortho(Ge,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(Ge,Ge,[0,-n.EXTENT,0]),{u_matrix:Ge,u_image:1,u_dimension:[Re,Re],u_zoom:Be.overscaledZ,u_unpack:we.getUnpackVector()}),v.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments),b.needsHillshadePrepare=!1}}function dn(g,b,v,B,J){var st=B.paint.get("raster-fade-duration");if(st>0){var dt=n.browser.now(),Pt=(dt-g.timeAdded)/st,zt=b?(dt-b.timeAdded)/st:-1,Zt=v.getSource(),he=J.coveringZoomLevel({tileSize:Zt.tileSize,roundZoom:Zt.roundZoom}),de=!b||Math.abs(b.tileID.overscaledZ-he)>Math.abs(g.tileID.overscaledZ-he),ve=de&&g.refreshedUponExpiration?1:n.clamp(de?Pt:1-zt,0,1);return g.refreshedUponExpiration&&Pt>=1&&(g.refreshedUponExpiration=!1),b?{opacity:1,mix:1-ve}:{opacity:ve,mix:0}}return{opacity:1,mix:0}}var Tn=new n.Color(1,0,0,1),pr=new n.Color(0,1,0,1),sr=new n.Color(0,0,1,1),Kn=new n.Color(1,0,1,1),Kt=new n.Color(0,1,1,1);function lt(g,b,v,B){fe(g,0,b+v/2,g.transform.width,v,B)}function Et(g,b,v,B){fe(g,b-v/2,0,v,g.transform.height,B)}function fe(g,b,v,B,J,st){var dt=g.context,Pt=dt.gl;Pt.enable(Pt.SCISSOR_TEST),Pt.scissor(b*n.browser.devicePixelRatio,v*n.browser.devicePixelRatio,B*n.browser.devicePixelRatio,J*n.browser.devicePixelRatio),dt.clear({color:st}),Pt.disable(Pt.SCISSOR_TEST)}function Ke(g,b,v){var B=g.context,J=B.gl,st=v.posMatrix,dt=g.useProgram("debug"),Pt=xt.disabled,zt=Lt.disabled,Zt=g.colorModeForRenderPass();B.activeTexture.set(J.TEXTURE0),g.emptyTexture.bind(J.LINEAR,J.CLAMP_TO_EDGE),dt.draw(B,J.LINE_STRIP,Pt,zt,Zt,re.disabled,pe(st,n.Color.red),"$debug",g.debugBuffer,g.tileBorderIndexBuffer,g.debugSegments);var he=b.getTileByID(v.key).latestRawTileData,de=Math.floor((he&&he.byteLength||0)/1024),ve=b.getTile(v).tileSize,Ce=512/Math.min(ve,512)*(v.overscaledZ/g.transform.zoom)*.5,Pe=v.canonical.toString();v.overscaledZ!==v.canonical.z&&(Pe+=" => "+v.overscaledZ),function(Be,we){Be.initDebugOverlayCanvas();var Re=Be.debugOverlayCanvas,Ge=Be.context.gl,hi=Be.debugOverlayCanvas.getContext("2d");hi.clearRect(0,0,Re.width,Re.height),hi.shadowColor="white",hi.shadowBlur=2,hi.lineWidth=1.5,hi.strokeStyle="white",hi.textBaseline="top",hi.font="bold 36px Open Sans, sans-serif",hi.fillText(we,5,5),hi.strokeText(we,5,5),Be.debugOverlayTexture.update(Re),Be.debugOverlayTexture.bind(Ge.LINEAR,Ge.CLAMP_TO_EDGE)}(g,Pe+" "+de+"kb"),dt.draw(B,J.TRIANGLES,Pt,zt,Ut.alphaBlended,re.disabled,pe(st,n.Color.transparent,Ce),"$debug",g.debugBuffer,g.quadTriangleIndexBuffer,g.debugSegments)}var Je={symbol:function(g,b,v,B,J){if("translucent"===g.renderPass){var st=Lt.disabled,dt=g.colorModeForRenderPass();v.layout.get("text-variable-anchor")&&function(Pt,zt,Zt,he,de,ve,Ce){for(var Pe=zt.transform,Be="map"===de,we="map"===ve,Re=0,Ge=Pt;Re<Ge.length;Re+=1){var hi=Ge[Re],Ci=he.getTile(hi),wi=Ci.getBucket(Zt);if(wi&&wi.text&&wi.text.segments.get().length){var Mi=n.evaluateSizeForZoom(wi.textSizeData,Pe.zoom),Gi=wr(Ci,1,zt.transform.zoom),on=Yn(hi.posMatrix,we,Be,zt.transform,Gi),rn="none"!==Zt.layout.get("icon-text-fit")&&wi.hasIconData();if(Mi){var vn=Math.pow(2,Pe.zoom-Ci.tileID.overscaledZ);ma(wi,Be,we,Ce,n.symbolSize,Pe,on,hi.posMatrix,vn,Mi,rn)}}}}(B,g,v,b,v.layout.get("text-rotation-alignment"),v.layout.get("text-pitch-alignment"),J),0!==v.paint.get("icon-opacity").constantOr(1)&&Ue(g,b,v,B,!1,v.paint.get("icon-translate"),v.paint.get("icon-translate-anchor"),v.layout.get("icon-rotation-alignment"),v.layout.get("icon-pitch-alignment"),v.layout.get("icon-keep-upright"),st,dt),0!==v.paint.get("text-opacity").constantOr(1)&&Ue(g,b,v,B,!0,v.paint.get("text-translate"),v.paint.get("text-translate-anchor"),v.layout.get("text-rotation-alignment"),v.layout.get("text-pitch-alignment"),v.layout.get("text-keep-upright"),st,dt),b.map.showCollisionBoxes&&($s(g,b,v,B,v.paint.get("text-translate"),v.paint.get("text-translate-anchor"),!0),$s(g,b,v,B,v.paint.get("icon-translate"),v.paint.get("icon-translate-anchor"),!1))}},circle:function(g,b,v,B){if("translucent"===g.renderPass){var J=v.paint.get("circle-opacity"),st=v.paint.get("circle-stroke-width"),dt=v.paint.get("circle-stroke-opacity"),Pt=void 0!==v.layout.get("circle-sort-key").constantOr(1);if(0!==J.constantOr(1)||0!==st.constantOr(1)&&0!==dt.constantOr(1)){for(var zt=g.context,Zt=zt.gl,he=g.depthModeForSublayer(0,xt.ReadOnly),de=Lt.disabled,ve=g.colorModeForRenderPass(),Ce=[],Pe=0;Pe<B.length;Pe++){var Be=B[Pe],we=b.getTile(Be),Re=we.getBucket(v);if(Re){var Ge=Re.programConfigurations.get(v.id),hi={programConfiguration:Ge,program:g.useProgram("circle",Ge),layoutVertexBuffer:Re.layoutVertexBuffer,indexBuffer:Re.indexBuffer,uniformValues:it(g,Be,we,v)};if(Pt)for(var Ci=0,wi=Re.segments.get();Ci<wi.length;Ci+=1){var Mi=wi[Ci];Ce.push({segments:new n.SegmentVector([Mi]),sortKey:Mi.sortKey,state:hi})}else Ce.push({segments:Re.segments,sortKey:0,state:hi})}}Pt&&Ce.sort(function(Nn,jn){return Nn.sortKey-jn.sortKey});for(var Gi=0,on=Ce;Gi<on.length;Gi+=1){var rn=on[Gi],vn=rn.state;vn.program.draw(zt,Zt.TRIANGLES,he,de,ve,re.disabled,vn.uniformValues,v.id,vn.layoutVertexBuffer,vn.indexBuffer,rn.segments,v.paint,g.transform.zoom,vn.programConfiguration)}}}},heatmap:function(g,b,v,B){if(0!==v.paint.get("heatmap-opacity"))if("offscreen"===g.renderPass){var J=g.context,st=J.gl,dt=Lt.disabled,Pt=new Ut([st.ONE,st.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(Ce,Pe,Be){var we=Ce.gl;Ce.activeTexture.set(we.TEXTURE1),Ce.viewport.set([0,0,Pe.width/4,Pe.height/4]);var hi,Ci,wi,Mi,Gi,Re=Be.heatmapFbo;if(Re)we.bindTexture(we.TEXTURE_2D,Re.colorAttachment.get()),Ce.bindFramebuffer.set(Re.framebuffer);else{var Ge=we.createTexture();we.bindTexture(we.TEXTURE_2D,Ge),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_WRAP_S,we.CLAMP_TO_EDGE),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_WRAP_T,we.CLAMP_TO_EDGE),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_MIN_FILTER,we.LINEAR),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_MAG_FILTER,we.LINEAR),wi=Ge,Mi=Re=Be.heatmapFbo=Ce.createFramebuffer(Pe.width/4,Pe.height/4,!1),(Gi=(hi=Ce).gl).texImage2D(Gi.TEXTURE_2D,0,Gi.RGBA,(Ci=Pe).width/4,Ci.height/4,0,Gi.RGBA,hi.extRenderToTextureHalfFloat?hi.extTextureHalfFloat.HALF_FLOAT_OES:Gi.UNSIGNED_BYTE,null),Mi.colorAttachment.set(wi)}})(J,g,v),J.clear({color:n.Color.transparent});for(var zt=0;zt<B.length;zt++){var Zt=B[zt];if(!b.hasRenderableParent(Zt)){var he=b.getTile(Zt),de=he.getBucket(v);if(de){var ve=de.programConfigurations.get(v.id);g.useProgram("heatmap",ve).draw(J,st.TRIANGLES,xt.disabled,dt,Pt,re.disabled,He(Zt.posMatrix,he,g.transform.zoom,v.paint.get("heatmap-intensity")),v.id,de.layoutVertexBuffer,de.indexBuffer,de.segments,v.paint,g.transform.zoom,ve)}}}J.viewport.set([0,0,g.width,g.height])}else"translucent"===g.renderPass&&(g.context.setColorMode(g.colorModeForRenderPass()),function(Ce,Pe){var Be=Ce.context,we=Be.gl,Re=Pe.heatmapFbo;if(Re){Be.activeTexture.set(we.TEXTURE0),we.bindTexture(we.TEXTURE_2D,Re.colorAttachment.get()),Be.activeTexture.set(we.TEXTURE1);var Ge=Pe.colorRampTexture;Ge||(Ge=Pe.colorRampTexture=new n.Texture(Be,Pe.colorRamp,we.RGBA)),Ge.bind(we.LINEAR,we.CLAMP_TO_EDGE),Ce.useProgram("heatmapTexture").draw(Be,we.TRIANGLES,xt.disabled,Lt.disabled,Ce.colorModeForRenderPass(),re.disabled,function(hi,Ci,wi,Mi){var Gi=n.create();n.ortho(Gi,0,hi.width,hi.height,0,0,1);var on=hi.context.gl;return{u_matrix:Gi,u_world:[on.drawingBufferWidth,on.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Ci.paint.get("heatmap-opacity")}}(Ce,Pe),Pe.id,Ce.viewportBuffer,Ce.quadTriangleIndexBuffer,Ce.viewportSegments,Pe.paint,Ce.transform.zoom)}}(g,v))},line:function(g,b,v,B){if("translucent"===g.renderPass){var J=v.paint.get("line-opacity"),st=v.paint.get("line-width");if(0!==J.constantOr(1)&&0!==st.constantOr(1))for(var dt=g.depthModeForSublayer(0,xt.ReadOnly),Pt=g.colorModeForRenderPass(),zt=v.paint.get("line-dasharray"),Zt=v.paint.get("line-pattern"),he=Zt.constantOr(1),de=v.paint.get("line-gradient"),ve=v.getCrossfadeParameters(),Ce=he?"linePattern":zt?"lineSDF":de?"lineGradient":"line",Pe=g.context,Be=Pe.gl,we=!0,Re=0,Ge=B;Re<Ge.length;Re+=1){var hi=Ge[Re],Ci=b.getTile(hi);if(!he||Ci.patternsLoaded()){var wi=Ci.getBucket(v);if(wi){var Mi=wi.programConfigurations.get(v.id),Gi=g.context.program.get(),on=g.useProgram(Ce,Mi),rn=we||on.program!==Gi,vn=Zt.constantOr(null);if(vn&&Ci.imageAtlas){var Nn=Ci.imageAtlas,jn=Nn.patternPositions[vn.to.toString()],zn=Nn.patternPositions[vn.from.toString()];jn&&zn&&Mi.setConstantPatternPositions(jn,zn)}var zr=he?Dn(g,Ci,v,ve):zt?rr(g,Ci,v,zt,ve):de?Di(g,Ci,v,wi.lineClipsArray.length):Bi(g,Ci,v);if(he)Pe.activeTexture.set(Be.TEXTURE0),Ci.imageAtlasTexture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE),Mi.updatePaintBuffers(ve);else if(zt&&(rn||g.lineAtlas.dirty))Pe.activeTexture.set(Be.TEXTURE0),g.lineAtlas.bind(Pe);else if(de){var xn=wi.gradients[v.id],or=xn.texture;if(v.gradientVersion!==xn.version){var yr=256;if(v.stepInterpolant){var ir=b.getSource().maxzoom,tr=hi.canonical.z===ir?Math.ceil(1<<g.transform.maxZoom-hi.canonical.z):1;yr=n.clamp(n.nextPowerOfTwo(wi.maxLineLength/n.EXTENT*1024*tr),256,Pe.maxTextureSize)}xn.gradient=n.renderColorRamp({expression:v.gradientExpression(),evaluationKey:"lineProgress",resolution:yr,image:xn.gradient||void 0,clips:wi.lineClipsArray}),xn.texture?xn.texture.update(xn.gradient):xn.texture=new n.Texture(Pe,xn.gradient,Be.RGBA),xn.version=v.gradientVersion,or=xn.texture}Pe.activeTexture.set(Be.TEXTURE0),or.bind(v.stepInterpolant?Be.NEAREST:Be.LINEAR,Be.CLAMP_TO_EDGE)}on.draw(Pe,Be.TRIANGLES,dt,g.stencilModeForClipping(hi),Pt,re.disabled,zr,v.id,wi.layoutVertexBuffer,wi.indexBuffer,wi.segments,v.paint,g.transform.zoom,Mi,wi.layoutVertexBuffer2),we=!1}}}}},fill:function(g,b,v,B){var J=v.paint.get("fill-color"),st=v.paint.get("fill-opacity");if(0!==st.constantOr(1)){var dt=g.colorModeForRenderPass(),Pt=v.paint.get("fill-pattern"),zt=g.opaquePassEnabledForLayer()&&!Pt.constantOr(1)&&1===J.constantOr(n.Color.transparent).a&&1===st.constantOr(0)?"opaque":"translucent";if(g.renderPass===zt){var Zt=g.depthModeForSublayer(1,"opaque"===g.renderPass?xt.ReadWrite:xt.ReadOnly);Ui(g,b,v,B,Zt,dt,!1)}if("translucent"===g.renderPass&&v.paint.get("fill-antialias")){var he=g.depthModeForSublayer(v.getPaintProperty("fill-outline-color")?2:0,xt.ReadOnly);Ui(g,b,v,B,he,dt,!0)}}},"fill-extrusion":function(g,b,v,B){var J=v.paint.get("fill-extrusion-opacity");if(0!==J&&"translucent"===g.renderPass){var st=new xt(g.context.gl.LEQUAL,xt.ReadWrite,g.depthRangeFor3D);if(1!==J||v.paint.get("fill-extrusion-pattern").constantOr(1))fi(g,b,v,B,st,Lt.disabled,Ut.disabled),fi(g,b,v,B,st,g.stencilModeFor3D(),g.colorModeForRenderPass());else{var dt=g.colorModeForRenderPass();fi(g,b,v,B,st,Lt.disabled,dt)}}},hillshade:function(g,b,v,B){if("offscreen"===g.renderPass||"translucent"===g.renderPass){for(var J=g.context,st=g.depthModeForSublayer(0,xt.ReadOnly),dt=g.colorModeForRenderPass(),Pt="translucent"===g.renderPass?g.stencilConfigForOverlap(B):[{},B],zt=Pt[0],Zt=0,he=Pt[1];Zt<he.length;Zt+=1){var de=he[Zt],ve=b.getTile(de);ve.needsHillshadePrepare&&"offscreen"===g.renderPass?sn(g,ve,v,st,Lt.disabled,dt):"translucent"===g.renderPass&&Wi(g,ve,v,st,zt[de.overscaledZ],dt)}J.viewport.set([0,0,g.width,g.height])}},raster:function(g,b,v,B){if("translucent"===g.renderPass&&0!==v.paint.get("raster-opacity")&&B.length)for(var J=g.context,st=J.gl,dt=b.getSource(),Pt=g.useProgram("raster"),zt=g.colorModeForRenderPass(),Zt=dt instanceof $t?[{},B]:g.stencilConfigForOverlap(B),he=Zt[0],de=Zt[1],ve=de[de.length-1].overscaledZ,Ce=!g.options.moving,Pe=0,Be=de;Pe<Be.length;Pe+=1){var we=Be[Pe],Re=g.depthModeForSublayer(we.overscaledZ-ve,1===v.paint.get("raster-opacity")?xt.ReadWrite:xt.ReadOnly,st.LESS),Ge=b.getTile(we),hi=g.transform.calculatePosMatrix(we.toUnwrapped(),Ce);Ge.registerFadeDuration(v.paint.get("raster-fade-duration"));var Ci=b.findLoadedParent(we,0),wi=dn(Ge,Ci,b,v,g.transform),Mi=void 0,Gi=void 0,on="nearest"===v.paint.get("raster-resampling")?st.NEAREST:st.LINEAR;J.activeTexture.set(st.TEXTURE0),Ge.texture.bind(on,st.CLAMP_TO_EDGE,st.LINEAR_MIPMAP_NEAREST),J.activeTexture.set(st.TEXTURE1),Ci?(Ci.texture.bind(on,st.CLAMP_TO_EDGE,st.LINEAR_MIPMAP_NEAREST),Mi=Math.pow(2,Ci.tileID.overscaledZ-Ge.tileID.overscaledZ),Gi=[Ge.tileID.canonical.x*Mi%1,Ge.tileID.canonical.y*Mi%1]):Ge.texture.bind(on,st.CLAMP_TO_EDGE,st.LINEAR_MIPMAP_NEAREST);var rn=ys(hi,Gi||[0,0],Mi||1,wi,v);dt instanceof $t?Pt.draw(J,st.TRIANGLES,Re,Lt.disabled,zt,re.disabled,rn,v.id,dt.boundsBuffer,g.quadTriangleIndexBuffer,dt.boundsSegments):Pt.draw(J,st.TRIANGLES,Re,he[we.overscaledZ],zt,re.disabled,rn,v.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}},background:function(g,b,v){var B=v.paint.get("background-color"),J=v.paint.get("background-opacity");if(0!==J){var st=g.context,dt=st.gl,Pt=g.transform,zt=Pt.tileSize,Zt=v.paint.get("background-pattern");if(!g.isPatternMissing(Zt)){var he=!Zt&&1===B.a&&1===J&&g.opaquePassEnabledForLayer()?"opaque":"translucent";if(g.renderPass===he){var de=Lt.disabled,ve=g.depthModeForSublayer(0,"opaque"===he?xt.ReadWrite:xt.ReadOnly),Ce=g.colorModeForRenderPass(),Pe=g.useProgram(Zt?"backgroundPattern":"background"),Be=Pt.coveringTiles({tileSize:zt});Zt&&(st.activeTexture.set(dt.TEXTURE0),g.imageManager.bind(g.context));for(var we=v.getCrossfadeParameters(),Re=0,Ge=Be;Re<Ge.length;Re+=1){var hi=Ge[Re],Ci=g.transform.calculatePosMatrix(hi.toUnwrapped()),wi=Zt?ds(Ci,J,g,Zt,{tileID:hi,tileSize:zt},we):oo(Ci,J,B);Pe.draw(st,dt.TRIANGLES,ve,de,Ce,re.disabled,wi,v.id,g.tileExtentBuffer,g.quadTriangleIndexBuffer,g.tileExtentSegments)}}}}},debug:function(g,b,v){for(var B=0;B<v.length;B++)Ke(g,b,v[B])},custom:function(g,b,v){var B=g.context,J=v.implementation;if("offscreen"===g.renderPass){var st=J.prerender;st&&(g.setCustomLayerDefaults(),B.setColorMode(g.colorModeForRenderPass()),st.call(J,B.gl,g.transform.customLayerMatrix()),B.setDirty(),g.setBaseState())}else if("translucent"===g.renderPass){g.setCustomLayerDefaults(),B.setColorMode(g.colorModeForRenderPass()),B.setStencilMode(Lt.disabled);var dt="3d"===J.renderingMode?new xt(g.context.gl.LEQUAL,xt.ReadWrite,g.depthRangeFor3D):g.depthModeForSublayer(0,xt.ReadOnly);B.setDepthMode(dt),J.render(B.gl,g.transform.customLayerMatrix()),B.setDirty(),g.setBaseState(),B.bindFramebuffer.set(null)}}},si=function(g,b){this.context=new Xt(g),this.transform=b,this._tileTextures={},this.setup(),this.numSublayers=oe.maxUnderzooming+oe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ni,this.gpuTimers={}};si.prototype.resize=function(g,b){if(this.width=g*n.browser.devicePixelRatio,this.height=b*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var v=0,B=this.style._order;v<B.length;v+=1)this.style._layers[B[v]].resize()},si.prototype.setup=function(){var g=this.context,b=new n.StructArrayLayout2i4;b.emplaceBack(0,0),b.emplaceBack(n.EXTENT,0),b.emplaceBack(0,n.EXTENT),b.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=g.createVertexBuffer(b,fn.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var v=new n.StructArrayLayout2i4;v.emplaceBack(0,0),v.emplaceBack(n.EXTENT,0),v.emplaceBack(0,n.EXTENT),v.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=g.createVertexBuffer(v,fn.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var B=new n.StructArrayLayout4i8;B.emplaceBack(0,0,0,0),B.emplaceBack(n.EXTENT,0,n.EXTENT,0),B.emplaceBack(0,n.EXTENT,0,n.EXTENT),B.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=g.createVertexBuffer(B,jt.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var J=new n.StructArrayLayout2i4;J.emplaceBack(0,0),J.emplaceBack(1,0),J.emplaceBack(0,1),J.emplaceBack(1,1),this.viewportBuffer=g.createVertexBuffer(J,fn.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var st=new n.StructArrayLayout1ui2;st.emplaceBack(0),st.emplaceBack(1),st.emplaceBack(3),st.emplaceBack(2),st.emplaceBack(0),this.tileBorderIndexBuffer=g.createIndexBuffer(st);var dt=new n.StructArrayLayout3ui6;dt.emplaceBack(0,1,2),dt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=g.createIndexBuffer(dt),this.emptyTexture=new n.Texture(g,{width:1,height:1,data:new Uint8Array([0,0,0,0])},g.gl.RGBA);var Pt=this.context.gl;this.stencilClearMode=new Lt({func:Pt.ALWAYS,mask:0},0,255,Pt.ZERO,Pt.ZERO,Pt.ZERO)},si.prototype.clearStencil=function(){var g=this.context,b=g.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var v=n.create();n.ortho(v,0,this.width,this.height,0,0,1),n.scale(v,v,[b.drawingBufferWidth,b.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(g,b.TRIANGLES,xt.disabled,this.stencilClearMode,Ut.disabled,re.disabled,qe(v),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},si.prototype._renderTileClippingMasks=function(g,b){if(this.currentStencilSource!==g.source&&g.isTileClipped()&&b&&b.length){this.currentStencilSource=g.source;var v=this.context,B=v.gl;this.nextStencilID+b.length>256&&this.clearStencil(),v.setColorMode(Ut.disabled),v.setDepthMode(xt.disabled);var J=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var st=0,dt=b;st<dt.length;st+=1){var Pt=dt[st],zt=this._tileClippingMaskIDs[Pt.key]=this.nextStencilID++;J.draw(v,B.TRIANGLES,xt.disabled,new Lt({func:B.ALWAYS,mask:0},zt,255,B.KEEP,B.KEEP,B.REPLACE),Ut.disabled,re.disabled,qe(Pt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},si.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var g=this.nextStencilID++,b=this.context.gl;return new Lt({func:b.NOTEQUAL,mask:255},g,255,b.KEEP,b.KEEP,b.REPLACE)},si.prototype.stencilModeForClipping=function(g){var b=this.context.gl;return new Lt({func:b.EQUAL,mask:255},this._tileClippingMaskIDs[g.key],0,b.KEEP,b.KEEP,b.REPLACE)},si.prototype.stencilConfigForOverlap=function(g){var b,v=this.context.gl,B=g.sort(function(zt,Zt){return Zt.overscaledZ-zt.overscaledZ}),J=B[B.length-1].overscaledZ,st=B[0].overscaledZ-J+1;if(st>1){this.currentStencilSource=void 0,this.nextStencilID+st>256&&this.clearStencil();for(var dt={},Pt=0;Pt<st;Pt++)dt[Pt+J]=new Lt({func:v.GEQUAL,mask:255},Pt+this.nextStencilID,255,v.KEEP,v.KEEP,v.REPLACE);return this.nextStencilID+=st,[dt,B]}return[(b={},b[J]=Lt.disabled,b),B]},si.prototype.colorModeForRenderPass=function(){var g=this.context.gl;return this._showOverdrawInspector?new Ut([g.CONSTANT_COLOR,g.ONE],new n.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ut.unblended:Ut.alphaBlended},si.prototype.depthModeForSublayer=function(g,b,v){if(!this.opaquePassEnabledForLayer())return xt.disabled;var B=1-((1+this.currentLayer)*this.numSublayers+g)*this.depthEpsilon;return new xt(v||this.context.gl.LEQUAL,b,[B,B])},si.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},si.prototype.render=function(g,b){var v=this;this.style=g,this.options=b,this.lineAtlas=g.lineAtlas,this.imageManager=g.imageManager,this.glyphManager=g.glyphManager,this.symbolFadeChange=g.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var B=this.style._order,J=this.style.sourceCaches;for(var st in J){var dt=J[st];dt.used&&dt.prepare(this.context)}var Pt,zt,Zt={},he={},de={};for(var ve in J){var Ce=J[ve];Zt[ve]=Ce.getVisibleCoordinates(),he[ve]=Zt[ve].slice().reverse(),de[ve]=Ce.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Pe=0;Pe<B.length;Pe++)if(this.style._layers[B[Pe]].is3D()){this.opaquePassCutoff=Pe;break}this.renderPass="offscreen";for(var Be=0,we=B;Be<we.length;Be+=1){var Re=this.style._layers[we[Be]];if(Re.hasOffscreenPass()&&!Re.isHidden(this.transform.zoom)){var Ge=he[Re.source];("custom"===Re.type||Ge.length)&&this.renderLayer(this,J[Re.source],Re,Ge)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:b.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=b.showOverdrawInspector,this.depthRangeFor3D=[0,1-(g._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=B.length-1;this.currentLayer>=0;this.currentLayer--){var hi=this.style._layers[B[this.currentLayer]],Ci=J[hi.source],wi=Zt[hi.source];this._renderTileClippingMasks(hi,wi),this.renderLayer(this,Ci,hi,wi)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<B.length;this.currentLayer++){var Mi=this.style._layers[B[this.currentLayer]],Gi=J[Mi.source],on=("symbol"===Mi.type?de:he)[Mi.source];this._renderTileClippingMasks(Mi,Zt[Mi.source]),this.renderLayer(this,Gi,Mi,on)}this.options.showTileBoundaries&&(n.values(this.style._layers).forEach(function(rn){rn.source&&!rn.isHidden(v.transform.zoom)&&(rn.source!==(zt&&zt.id)&&(zt=v.style.sourceCaches[rn.source]),(!Pt||Pt.getSource().maxzoom<zt.getSource().maxzoom)&&(Pt=zt))}),Pt&&Je.debug(this,Pt,Pt.getVisibleCoordinates())),this.options.showPadding&&function(rn){var vn=rn.transform.padding;lt(rn,rn.transform.height-(vn.top||0),3,Tn),lt(rn,vn.bottom||0,3,pr),Et(rn,vn.left||0,3,sr),Et(rn,rn.transform.width-(vn.right||0),3,Kn);var jn,zn,zr,xn,Nn=rn.transform.centerPoint;fe(jn=rn,(zn=Nn.x)-1,(zr=rn.transform.height-Nn.y)-10,2,20,xn=Kt),fe(jn,zn-10,zr-1,20,2,xn)}(this),this.context.setDefault()},si.prototype.renderLayer=function(g,b,v,B){v.isHidden(this.transform.zoom)||("background"===v.type||"custom"===v.type||B.length)&&(this.id=v.id,this.gpuTimingStart(v),Je[v.type](g,b,v,B,this.style.placement.variableOffsets),this.gpuTimingEnd())},si.prototype.gpuTimingStart=function(g){if(this.options.gpuTiming){var b=this.context.extTimerQuery,v=this.gpuTimers[g.id];v||(v=this.gpuTimers[g.id]={calls:0,cpuTime:0,query:b.createQueryEXT()}),v.calls++,b.beginQueryEXT(b.TIME_ELAPSED_EXT,v.query)}},si.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var g=this.context.extTimerQuery;g.endQueryEXT(g.TIME_ELAPSED_EXT)}},si.prototype.collectGpuTimers=function(){var g=this.gpuTimers;return this.gpuTimers={},g},si.prototype.queryGpuTimers=function(g){var b={};for(var v in g){var B=g[v],J=this.context.extTimerQuery,st=J.getQueryObjectEXT(B.query,J.QUERY_RESULT_EXT)/1e6;J.deleteQueryEXT(B.query),b[v]=st}return b},si.prototype.translatePosMatrix=function(g,b,v,B,J){if(!v[0]&&!v[1])return g;var st=J?"map"===B?this.transform.angle:0:"viewport"===B?-this.transform.angle:0;if(st){var dt=Math.sin(st),Pt=Math.cos(st);v=[v[0]*Pt-v[1]*dt,v[0]*dt+v[1]*Pt]}var zt=[J?v[0]:wr(b,v[0],this.transform.zoom),J?v[1]:wr(b,v[1],this.transform.zoom),0],Zt=new Float32Array(16);return n.translate(Zt,g,zt),Zt},si.prototype.saveTileTexture=function(g){var b=this._tileTextures[g.size[0]];b?b.push(g):this._tileTextures[g.size[0]]=[g]},si.prototype.getTileTexture=function(g){var b=this._tileTextures[g];return b&&b.length>0?b.pop():null},si.prototype.isPatternMissing=function(g){if(!g)return!1;if(!g.from||!g.to)return!0;var b=this.imageManager.getPattern(g.from.toString()),v=this.imageManager.getPattern(g.to.toString());return!b||!v},si.prototype.useProgram=function(g,b){this.cache=this.cache||{};var v=""+g+(b?b.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[v]||(this.cache[v]=new ks(this.context,g,Gs[g],b,Ss[g],this._showOverdrawInspector)),this.cache[v]},si.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},si.prototype.setBaseState=function(){var g=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(g.FUNC_ADD)},si.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},si.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Vi=function(g,b){this.points=g,this.planes=b};Vi.fromInvProjectionMatrix=function(g,b,v){var B=Math.pow(2,v),J=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(dt){return n.transformMat4([],dt,g)}).map(function(dt){return n.scale$1([],dt,1/dt[3]/b*B)}),st=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(dt){var Pt=n.sub([],J[dt[0]],J[dt[1]]),zt=n.sub([],J[dt[2]],J[dt[1]]),Zt=n.normalize([],n.cross([],Pt,zt)),he=-n.dot(Zt,J[dt[1]]);return Zt.concat(he)});return new Vi(J,st)};var en=function(g,b){this.min=g,this.max=b,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};en.prototype.quadrant=function(g){for(var b=[g%2==0,g<2],v=n.clone$2(this.min),B=n.clone$2(this.max),J=0;J<b.length;J++)v[J]=b[J]?this.min[J]:this.center[J],B[J]=b[J]?this.center[J]:this.max[J];return B[2]=this.max[2],new en(v,B)},en.prototype.distanceX=function(g){return Math.max(Math.min(this.max[0],g[0]),this.min[0])-g[0]},en.prototype.distanceY=function(g){return Math.max(Math.min(this.max[1],g[1]),this.min[1])-g[1]},en.prototype.intersects=function(g){for(var b=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],v=!0,B=0;B<g.planes.length;B++){for(var J=g.planes[B],st=0,dt=0;dt<b.length;dt++)st+=n.dot$1(J,b[dt])>=0;if(0===st)return 0;st!==b.length&&(v=!1)}if(v)return 2;for(var Pt=0;Pt<3;Pt++){for(var zt=Number.MAX_VALUE,Zt=-Number.MAX_VALUE,he=0;he<g.points.length;he++){var de=g.points[he][Pt]-this.min[Pt];zt=Math.min(zt,de),Zt=Math.max(Zt,de)}if(Zt<0||zt>this.max[Pt]-this.min[Pt])return 0}return 1};var un=function(g,b,v,B){if(void 0===g&&(g=0),void 0===b&&(b=0),void 0===v&&(v=0),void 0===B&&(B=0),isNaN(g)||g<0||isNaN(b)||b<0||isNaN(v)||v<0||isNaN(B)||B<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=g,this.bottom=b,this.left=v,this.right=B};un.prototype.interpolate=function(g,b,v){return null!=b.top&&null!=g.top&&(this.top=n.number(g.top,b.top,v)),null!=b.bottom&&null!=g.bottom&&(this.bottom=n.number(g.bottom,b.bottom,v)),null!=b.left&&null!=g.left&&(this.left=n.number(g.left,b.left,v)),null!=b.right&&null!=g.right&&(this.right=n.number(g.right,b.right,v)),this},un.prototype.getCenter=function(g,b){var v=n.clamp((this.left+g-this.right)/2,0,g),B=n.clamp((this.top+b-this.bottom)/2,0,b);return new n.Point(v,B)},un.prototype.equals=function(g){return this.top===g.top&&this.bottom===g.bottom&&this.left===g.left&&this.right===g.right},un.prototype.clone=function(){return new un(this.top,this.bottom,this.left,this.right)},un.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Hi=function(g,b,v,B,J){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===J||J,this._minZoom=g||0,this._maxZoom=b||22,this._minPitch=v??0,this._maxPitch=B??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new un,this._posMatrixCache={},this._alignedPosMatrixCache={}},nn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Hi.prototype.clone=function(){var g=new Hi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return g.tileSize=this.tileSize,g.latRange=this.latRange,g.width=this.width,g.height=this.height,g._center=this._center,g.zoom=this.zoom,g.angle=this.angle,g._fov=this._fov,g._pitch=this._pitch,g._unmodified=this._unmodified,g._edgeInsets=this._edgeInsets.clone(),g._calcMatrices(),g},nn.minZoom.get=function(){return this._minZoom},nn.minZoom.set=function(g){this._minZoom!==g&&(this._minZoom=g,this.zoom=Math.max(this.zoom,g))},nn.maxZoom.get=function(){return this._maxZoom},nn.maxZoom.set=function(g){this._maxZoom!==g&&(this._maxZoom=g,this.zoom=Math.min(this.zoom,g))},nn.minPitch.get=function(){return this._minPitch},nn.minPitch.set=function(g){this._minPitch!==g&&(this._minPitch=g,this.pitch=Math.max(this.pitch,g))},nn.maxPitch.get=function(){return this._maxPitch},nn.maxPitch.set=function(g){this._maxPitch!==g&&(this._maxPitch=g,this.pitch=Math.min(this.pitch,g))},nn.renderWorldCopies.get=function(){return this._renderWorldCopies},nn.renderWorldCopies.set=function(g){void 0===g?g=!0:null===g&&(g=!1),this._renderWorldCopies=g},nn.worldSize.get=function(){return this.tileSize*this.scale},nn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},nn.size.get=function(){return new n.Point(this.width,this.height)},nn.bearing.get=function(){return-this.angle/Math.PI*180},nn.bearing.set=function(g){var b=-n.wrap(g,-180,180)*Math.PI/180;this.angle!==b&&(this._unmodified=!1,this.angle=b,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},nn.pitch.get=function(){return this._pitch/Math.PI*180},nn.pitch.set=function(g){var b=n.clamp(g,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==b&&(this._unmodified=!1,this._pitch=b,this._calcMatrices())},nn.fov.get=function(){return this._fov/Math.PI*180},nn.fov.set=function(g){g=Math.max(.01,Math.min(60,g)),this._fov!==g&&(this._unmodified=!1,this._fov=g/180*Math.PI,this._calcMatrices())},nn.zoom.get=function(){return this._zoom},nn.zoom.set=function(g){var b=Math.min(Math.max(g,this.minZoom),this.maxZoom);this._zoom!==b&&(this._unmodified=!1,this._zoom=b,this.scale=this.zoomScale(b),this.tileZoom=Math.floor(b),this.zoomFraction=b-this.tileZoom,this._constrain(),this._calcMatrices())},nn.center.get=function(){return this._center},nn.center.set=function(g){g.lat===this._center.lat&&g.lng===this._center.lng||(this._unmodified=!1,this._center=g,this._constrain(),this._calcMatrices())},nn.padding.get=function(){return this._edgeInsets.toJSON()},nn.padding.set=function(g){this._edgeInsets.equals(g)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,g,1),this._calcMatrices())},nn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Hi.prototype.isPaddingEqual=function(g){return this._edgeInsets.equals(g)},Hi.prototype.interpolatePadding=function(g,b,v){this._unmodified=!1,this._edgeInsets.interpolate(g,b,v),this._constrain(),this._calcMatrices()},Hi.prototype.coveringZoomLevel=function(g){var b=(g.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/g.tileSize));return Math.max(0,b)},Hi.prototype.getVisibleUnwrappedCoordinates=function(g){var b=[new n.UnwrappedTileID(0,g)];if(this._renderWorldCopies)for(var v=this.pointCoordinate(new n.Point(0,0)),B=this.pointCoordinate(new n.Point(this.width,0)),J=this.pointCoordinate(new n.Point(this.width,this.height)),st=this.pointCoordinate(new n.Point(0,this.height)),dt=Math.floor(Math.min(v.x,B.x,J.x,st.x)),Pt=Math.floor(Math.max(v.x,B.x,J.x,st.x)),zt=dt-1;zt<=Pt+1;zt++)0!==zt&&b.push(new n.UnwrappedTileID(zt,g));return b},Hi.prototype.coveringTiles=function(g){var b=this.coveringZoomLevel(g),v=b;if(void 0!==g.minzoom&&b<g.minzoom)return[];void 0!==g.maxzoom&&b>g.maxzoom&&(b=g.maxzoom);var B=n.MercatorCoordinate.fromLngLat(this.center),J=Math.pow(2,b),st=[J*B.x,J*B.y,0],dt=Vi.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,b),Pt=g.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Pt=b);var zt=function(rn){return{aabb:new en([rn*J,0,0],[(rn+1)*J,J,0]),zoom:0,x:0,y:0,wrap:rn,fullyVisible:!1}},Zt=[],he=[],de=b,ve=g.reparseOverscaled?v:b;if(this._renderWorldCopies)for(var Ce=1;Ce<=3;Ce++)Zt.push(zt(-Ce)),Zt.push(zt(Ce));for(Zt.push(zt(0));Zt.length>0;){var Pe=Zt.pop(),Be=Pe.x,we=Pe.y,Re=Pe.fullyVisible;if(!Re){var Ge=Pe.aabb.intersects(dt);if(0===Ge)continue;Re=2===Ge}var hi=Pe.aabb.distanceX(st),Ci=Pe.aabb.distanceY(st),wi=Math.max(Math.abs(hi),Math.abs(Ci));if(Pe.zoom===de||wi>3+(1<<de-Pe.zoom)-2&&Pe.zoom>=Pt)he.push({tileID:new n.OverscaledTileID(Pe.zoom===de?ve:Pe.zoom,Pe.wrap,Pe.zoom,Be,we),distanceSq:n.sqrLen([st[0]-.5-Be,st[1]-.5-we])});else for(var Mi=0;Mi<4;Mi++){var Gi=(Be<<1)+Mi%2,on=(we<<1)+(Mi>>1);Zt.push({aabb:Pe.aabb.quadrant(Mi),zoom:Pe.zoom+1,x:Gi,y:on,wrap:Pe.wrap,fullyVisible:Re})}}return he.sort(function(rn,vn){return rn.distanceSq-vn.distanceSq}).map(function(rn){return rn.tileID})},Hi.prototype.resize=function(g,b){this.width=g,this.height=b,this.pixelsToGLUnits=[2/g,-2/b],this._constrain(),this._calcMatrices()},nn.unmodified.get=function(){return this._unmodified},Hi.prototype.zoomScale=function(g){return Math.pow(2,g)},Hi.prototype.scaleZoom=function(g){return Math.log(g)/Math.LN2},Hi.prototype.project=function(g){var b=n.clamp(g.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(g.lng)*this.worldSize,n.mercatorYfromLat(b)*this.worldSize)},Hi.prototype.unproject=function(g){return new n.MercatorCoordinate(g.x/this.worldSize,g.y/this.worldSize).toLngLat()},nn.point.get=function(){return this.project(this.center)},Hi.prototype.setLocationAtPoint=function(g,b){var v=this.pointCoordinate(b),B=this.pointCoordinate(this.centerPoint),J=this.locationCoordinate(g),st=new n.MercatorCoordinate(J.x-(v.x-B.x),J.y-(v.y-B.y));this.center=this.coordinateLocation(st),this._renderWorldCopies&&(this.center=this.center.wrap())},Hi.prototype.locationPoint=function(g){return this.coordinatePoint(this.locationCoordinate(g))},Hi.prototype.pointLocation=function(g){return this.coordinateLocation(this.pointCoordinate(g))},Hi.prototype.locationCoordinate=function(g){return n.MercatorCoordinate.fromLngLat(g)},Hi.prototype.coordinateLocation=function(g){return g.toLngLat()},Hi.prototype.pointCoordinate=function(g){var b=[g.x,g.y,0,1],v=[g.x,g.y,1,1];n.transformMat4(b,b,this.pixelMatrixInverse),n.transformMat4(v,v,this.pixelMatrixInverse);var B=b[3],J=v[3],st=b[1]/B,dt=v[1]/J,Pt=b[2]/B,zt=v[2]/J,Zt=Pt===zt?0:(0-Pt)/(zt-Pt);return new n.MercatorCoordinate(n.number(b[0]/B,v[0]/J,Zt)/this.worldSize,n.number(st,dt,Zt)/this.worldSize)},Hi.prototype.coordinatePoint=function(g){var b=[g.x*this.worldSize,g.y*this.worldSize,0,1];return n.transformMat4(b,b,this.pixelMatrix),new n.Point(b[0]/b[3],b[1]/b[3])},Hi.prototype.getBounds=function(){return(new n.LngLatBounds).extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},Hi.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Hi.prototype.setMaxBounds=function(g){g?(this.lngRange=[g.getWest(),g.getEast()],this.latRange=[g.getSouth(),g.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Hi.prototype.calculatePosMatrix=function(g,b){void 0===b&&(b=!1);var v=g.key,B=b?this._alignedPosMatrixCache:this._posMatrixCache;if(B[v])return B[v];var J=g.canonical,st=this.worldSize/this.zoomScale(J.z),dt=J.x+Math.pow(2,J.z)*g.wrap,Pt=n.identity(new Float64Array(16));return n.translate(Pt,Pt,[dt*st,J.y*st,0]),n.scale(Pt,Pt,[st/n.EXTENT,st/n.EXTENT,1]),n.multiply(Pt,b?this.alignedProjMatrix:this.projMatrix,Pt),B[v]=new Float32Array(Pt),B[v]},Hi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Hi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var g,b,v,B,J=-90,st=90,dt=-180,Pt=180,zt=this.size,Zt=this._unmodified;if(this.latRange){var he=this.latRange;J=n.mercatorYfromLat(he[1])*this.worldSize,g=(st=n.mercatorYfromLat(he[0])*this.worldSize)-J<zt.y?zt.y/(st-J):0}if(this.lngRange){var de=this.lngRange;dt=n.mercatorXfromLng(de[0])*this.worldSize,b=(Pt=n.mercatorXfromLng(de[1])*this.worldSize)-dt<zt.x?zt.x/(Pt-dt):0}var ve=this.point,Ce=Math.max(b||0,g||0);if(Ce)return this.center=this.unproject(new n.Point(b?(Pt+dt)/2:ve.x,g?(st+J)/2:ve.y)),this.zoom+=this.scaleZoom(Ce),this._unmodified=Zt,void(this._constraining=!1);if(this.latRange){var Pe=ve.y,Be=zt.y/2;Pe-Be<J&&(B=J+Be),Pe+Be>st&&(B=st-Be)}if(this.lngRange){var we=ve.x,Re=zt.x/2;we-Re<dt&&(v=dt+Re),we+Re>Pt&&(v=Pt-Re)}void 0===v&&void 0===B||(this.center=this.unproject(new n.Point(void 0!==v?v:ve.x,void 0!==B?B:ve.y))),this._unmodified=Zt,this._constraining=!1}},Hi.prototype._calcMatrices=function(){if(this.height){var g=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var b=Math.PI/2+this._pitch,v=this._fov*(.5+g.y/this.height),B=Math.sin(v)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-b-v,.01,Math.PI-.01)),J=this.point,st=J.x,dt=J.y,Pt=1.01*(Math.cos(Math.PI/2-this._pitch)*B+this.cameraToCenterDistance),zt=this.height/50,Zt=new Float64Array(16);n.perspective(Zt,this._fov,this.width/this.height,zt,Pt),Zt[8]=2*-g.x/this.width,Zt[9]=2*g.y/this.height,n.scale(Zt,Zt,[1,-1,1]),n.translate(Zt,Zt,[0,0,-this.cameraToCenterDistance]),n.rotateX(Zt,Zt,this._pitch),n.rotateZ(Zt,Zt,this.angle),n.translate(Zt,Zt,[-st,-dt,0]),this.mercatorMatrix=n.scale([],Zt,[this.worldSize,this.worldSize,this.worldSize]),n.scale(Zt,Zt,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Zt,this.invProjMatrix=n.invert([],this.projMatrix);var he=this.width%2/2,de=this.height%2/2,ve=Math.cos(this.angle),Ce=Math.sin(this.angle),Pe=st-Math.round(st)+ve*he+Ce*de,Be=dt-Math.round(dt)+ve*de+Ce*he,we=new Float64Array(Zt);if(n.translate(we,we,[Pe>.5?Pe-1:Pe,Be>.5?Be-1:Be,0]),this.alignedProjMatrix=we,Zt=n.create(),n.scale(Zt,Zt,[this.width/2,-this.height/2,1]),n.translate(Zt,Zt,[1,-1,0]),this.labelPlaneMatrix=Zt,Zt=n.create(),n.scale(Zt,Zt,[1,-1,1]),n.translate(Zt,Zt,[-1,-1,0]),n.scale(Zt,Zt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Zt,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Zt=n.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Zt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Hi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var g=this.pointCoordinate(new n.Point(0,0)),b=[g.x*this.worldSize,g.y*this.worldSize,0,1];return n.transformMat4(b,b,this.pixelMatrix)[3]/this.cameraToCenterDistance},Hi.prototype.getCameraPoint=function(){var g=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,g))},Hi.prototype.getCameraQueryGeometry=function(g){var b=this.getCameraPoint();if(1===g.length)return[g[0],b];for(var v=b.x,B=b.y,J=b.x,st=b.y,dt=0,Pt=g;dt<Pt.length;dt+=1){var zt=Pt[dt];v=Math.min(v,zt.x),B=Math.min(B,zt.y),J=Math.max(J,zt.x),st=Math.max(st,zt.y)}return[new n.Point(v,B),new n.Point(J,B),new n.Point(J,st),new n.Point(v,st),new n.Point(v,B)]},Object.defineProperties(Hi.prototype,nn);var er=function(g){var b,v,B,J;this._hashName=g&&encodeURIComponent(g),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(b=this._updateHashUnthrottled.bind(this),v=!1,B=null,J=function(){B=null,v&&(b(),B=setTimeout(J,300),v=!1)},function(){return v=!0,B||J(),B})};er.prototype.addTo=function(g){return this._map=g,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},er.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},er.prototype.getHashString=function(g){var b=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,B=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),J=Math.pow(10,B),st=Math.round(b.lng*J)/J,dt=Math.round(b.lat*J)/J,Pt=this._map.getBearing(),zt=this._map.getPitch(),Zt="";if(Zt+=g?"/"+st+"/"+dt+"/"+v:v+"/"+dt+"/"+st,(Pt||zt)&&(Zt+="/"+Math.round(10*Pt)/10),zt&&(Zt+="/"+Math.round(zt)),this._hashName){var he=this._hashName,de=!1,ve=n.window.location.hash.slice(1).split("&").map(function(Ce){var Pe=Ce.split("=")[0];return Pe===he?(de=!0,Pe+"="+Zt):Ce}).filter(function(Ce){return Ce});return de||ve.push(he+"="+Zt),"#"+ve.join("&")}return"#"+Zt},er.prototype._getCurrentHash=function(){var g,b=this,v=n.window.location.hash.replace("#","");return this._hashName?(v.split("&").map(function(B){return B.split("=")}).forEach(function(B){B[0]===b._hashName&&(g=B)}),(g&&g[1]||"").split("/")):v.split("/")},er.prototype._onHashChange=function(){var g=this._getCurrentHash();if(g.length>=3&&!g.some(function(v){return isNaN(v)})){var b=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(g[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+g[2],+g[1]],zoom:+g[0],bearing:b,pitch:+(g[4]||0)}),!0}return!1},er.prototype._updateHashUnthrottled=function(){var g=n.window.location.href.replace(/(#.+)?$/,this.getHashString());try{n.window.history.replaceState(n.window.history.state,null,g)}catch{}};var Jn={linearity:.3,easing:n.bezier(0,0,.3,1)},ar=n.extend({deceleration:2500,maxSpeed:1400},Jn),ur=n.extend({deceleration:20,maxSpeed:1400},Jn),Sr=n.extend({deceleration:1e3,maxSpeed:360},Jn),po=n.extend({deceleration:1e3,maxSpeed:90},Jn),so=function(g){this._map=g,this.clear()};function Ar(g,b){(!g.duration||g.duration<b.duration)&&(g.duration=b.duration,g.easing=b.easing)}function Or(g,b,v){var B=v.maxSpeed,J=v.linearity,st=v.deceleration,dt=n.clamp(g*J/(b/1e3),-B,B),Pt=Math.abs(dt)/(st*J);return{easing:v.easing,duration:1e3*Pt,amount:dt*(Pt/2)}}so.prototype.clear=function(){this._inertiaBuffer=[]},so.prototype.record=function(g){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:g})},so.prototype._drainInertiaBuffer=function(){for(var g=this._inertiaBuffer,b=n.browser.now();g.length>0&&b-g[0].time>160;)g.shift()},so.prototype._onMoveEnd=function(g){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var b={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},v=0,B=this._inertiaBuffer;v<B.length;v+=1){var J=B[v].settings;b.zoom+=J.zoomDelta||0,b.bearing+=J.bearingDelta||0,b.pitch+=J.pitchDelta||0,J.panDelta&&b.pan._add(J.panDelta),J.around&&(b.around=J.around),J.pinchAround&&(b.pinchAround=J.pinchAround)}var st=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,dt={};if(b.pan.mag()){var Pt=Or(b.pan.mag(),st,n.extend({},ar,g||{}));dt.offset=b.pan.mult(Pt.amount/b.pan.mag()),dt.center=this._map.transform.center,Ar(dt,Pt)}if(b.zoom){var zt=Or(b.zoom,st,ur);dt.zoom=this._map.transform.zoom+zt.amount,Ar(dt,zt)}if(b.bearing){var Zt=Or(b.bearing,st,Sr);dt.bearing=this._map.transform.bearing+n.clamp(Zt.amount,-179,179),Ar(dt,Zt)}if(b.pitch){var he=Or(b.pitch,st,po);dt.pitch=this._map.transform.pitch+he.amount,Ar(dt,he)}if(dt.zoom||dt.bearing){var de=void 0===b.pinchAround?b.around:b.pinchAround;dt.around=de?this._map.unproject(de):this._map.getCenter()}return this.clear(),n.extend(dt,{noMoveStart:!0})}};var Hn=function(g){function b(B,J,st,dt){void 0===dt&&(dt={});var Pt=P.mousePos(J.getCanvasContainer(),st),zt=J.unproject(Pt);g.call(this,B,n.extend({point:Pt,lngLat:zt,originalEvent:st},dt)),this._defaultPrevented=!1,this.target=J}g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b;var v={defaultPrevented:{configurable:!0}};return b.prototype.preventDefault=function(){this._defaultPrevented=!0},v.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(b.prototype,v),b}(n.Event),Ir=function(g){function b(B,J,st){var dt="touchend"===B?st.changedTouches:st.touches,Pt=P.touchPos(J.getCanvasContainer(),dt),zt=Pt.map(function(de){return J.unproject(de)}),Zt=Pt.reduce(function(de,ve,Ce,Pe){return de.add(ve.div(Pe.length))},new n.Point(0,0)),he=J.unproject(Zt);g.call(this,B,{points:Pt,point:Zt,lngLats:zt,lngLat:he,originalEvent:st}),this._defaultPrevented=!1}g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b;var v={defaultPrevented:{configurable:!0}};return b.prototype.preventDefault=function(){this._defaultPrevented=!0},v.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(b.prototype,v),b}(n.Event),ao=function(g){function b(B,J,st){g.call(this,B,{originalEvent:st}),this._defaultPrevented=!1}g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b;var v={defaultPrevented:{configurable:!0}};return b.prototype.preventDefault=function(){this._defaultPrevented=!0},v.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(b.prototype,v),b}(n.Event),dr=function(g,b){this._map=g,this._clickTolerance=b.clickTolerance};dr.prototype.reset=function(){delete this._mousedownPos},dr.prototype.wheel=function(g){return this._firePreventable(new ao(g.type,this._map,g))},dr.prototype.mousedown=function(g,b){return this._mousedownPos=b,this._firePreventable(new Hn(g.type,this._map,g))},dr.prototype.mouseup=function(g){this._map.fire(new Hn(g.type,this._map,g))},dr.prototype.click=function(g,b){this._mousedownPos&&this._mousedownPos.dist(b)>=this._clickTolerance||this._map.fire(new Hn(g.type,this._map,g))},dr.prototype.dblclick=function(g){return this._firePreventable(new Hn(g.type,this._map,g))},dr.prototype.mouseover=function(g){this._map.fire(new Hn(g.type,this._map,g))},dr.prototype.mouseout=function(g){this._map.fire(new Hn(g.type,this._map,g))},dr.prototype.touchstart=function(g){return this._firePreventable(new Ir(g.type,this._map,g))},dr.prototype.touchmove=function(g){this._map.fire(new Ir(g.type,this._map,g))},dr.prototype.touchend=function(g){this._map.fire(new Ir(g.type,this._map,g))},dr.prototype.touchcancel=function(g){this._map.fire(new Ir(g.type,this._map,g))},dr.prototype._firePreventable=function(g){if(this._map.fire(g),g.defaultPrevented)return{}},dr.prototype.isEnabled=function(){return!0},dr.prototype.isActive=function(){return!1},dr.prototype.enable=function(){},dr.prototype.disable=function(){};var Ji=function(g){this._map=g};Ji.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ji.prototype.mousemove=function(g){this._map.fire(new Hn(g.type,this._map,g))},Ji.prototype.mousedown=function(){this._delayContextMenu=!0},Ji.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Hn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ji.prototype.contextmenu=function(g){this._delayContextMenu?this._contextMenuEvent=g:this._map.fire(new Hn(g.type,this._map,g)),this._map.listens("contextmenu")&&g.preventDefault()},Ji.prototype.isEnabled=function(){return!0},Ji.prototype.isActive=function(){return!1},Ji.prototype.enable=function(){},Ji.prototype.disable=function(){};var qr=function(g,b){this._map=g,this._el=g.getCanvasContainer(),this._container=g.getContainer(),this._clickTolerance=b.clickTolerance||1};function fs(g,b){for(var v={},B=0;B<g.length;B++)v[g[B].identifier]=b[B];return v}qr.prototype.isEnabled=function(){return!!this._enabled},qr.prototype.isActive=function(){return!!this._active},qr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},qr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},qr.prototype.mousedown=function(g,b){this.isEnabled()&&g.shiftKey&&0===g.button&&(P.disableDrag(),this._startPos=this._lastPos=b,this._active=!0)},qr.prototype.mousemoveWindow=function(g,b){if(this._active){var v=b;if(!(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)){var B=this._startPos;this._lastPos=v,this._box||(this._box=P.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",g));var J=Math.min(B.x,v.x),st=Math.max(B.x,v.x),dt=Math.min(B.y,v.y),Pt=Math.max(B.y,v.y);P.setTransform(this._box,"translate("+J+"px,"+dt+"px)"),this._box.style.width=st-J+"px",this._box.style.height=Pt-dt+"px"}}},qr.prototype.mouseupWindow=function(g,b){var v=this;if(this._active&&0===g.button){var B=this._startPos,J=b;if(this.reset(),P.suppressClick(),B.x!==J.x||B.y!==J.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:g})),{cameraAnimation:function(st){return st.fitScreenCoordinates(B,J,v._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",g)}},qr.prototype.keydown=function(g){this._active&&27===g.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",g))},qr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(P.remove(this._box),this._box=null),P.enableDrag(),delete this._startPos,delete this._lastPos},qr.prototype._fireEvent=function(g,b){return this._map.fire(new n.Event(g,{originalEvent:b}))};var ms=function(g){this.reset(),this.numTouches=g.numTouches};ms.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ms.prototype.touchstart=function(g,b,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=g.timeStamp),v.length===this.numTouches&&(this.centroid=function(B){for(var J=new n.Point(0,0),st=0,dt=B;st<dt.length;st+=1)J._add(dt[st]);return J.div(B.length)}(b),this.touches=fs(v,b)))},ms.prototype.touchmove=function(g,b,v){if(!this.aborted&&this.centroid){var B=fs(v,b);for(var J in this.touches){var st=B[J];(!st||st.dist(this.touches[J])>30)&&(this.aborted=!0)}}},ms.prototype.touchend=function(g,b,v){if((!this.centroid||g.timeStamp-this.startTime>500)&&(this.aborted=!0),0===v.length){var B=!this.aborted&&this.centroid;if(this.reset(),B)return B}};var vo=function(g){this.singleTap=new ms(g),this.numTaps=g.numTaps,this.reset()};vo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},vo.prototype.touchstart=function(g,b,v){this.singleTap.touchstart(g,b,v)},vo.prototype.touchmove=function(g,b,v){this.singleTap.touchmove(g,b,v)},vo.prototype.touchend=function(g,b,v){var B=this.singleTap.touchend(g,b,v);if(B){var J=g.timeStamp-this.lastTime<500,st=!this.lastTap||this.lastTap.dist(B)<30;if(J&&st||this.reset(),this.count++,this.lastTime=g.timeStamp,this.lastTap=B,this.count===this.numTaps)return this.reset(),B}};var _o=function(){this._zoomIn=new vo({numTouches:1,numTaps:2}),this._zoomOut=new vo({numTouches:2,numTaps:1}),this.reset()};_o.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},_o.prototype.touchstart=function(g,b,v){this._zoomIn.touchstart(g,b,v),this._zoomOut.touchstart(g,b,v)},_o.prototype.touchmove=function(g,b,v){this._zoomIn.touchmove(g,b,v),this._zoomOut.touchmove(g,b,v)},_o.prototype.touchend=function(g,b,v){var B=this,J=this._zoomIn.touchend(g,b,v),st=this._zoomOut.touchend(g,b,v);return J?(this._active=!0,g.preventDefault(),setTimeout(function(){return B.reset()},0),{cameraAnimation:function(dt){return dt.easeTo({duration:300,zoom:dt.getZoom()+1,around:dt.unproject(J)},{originalEvent:g})}}):st?(this._active=!0,g.preventDefault(),setTimeout(function(){return B.reset()},0),{cameraAnimation:function(dt){return dt.easeTo({duration:300,zoom:dt.getZoom()-1,around:dt.unproject(st)},{originalEvent:g})}}):void 0},_o.prototype.touchcancel=function(){this.reset()},_o.prototype.enable=function(){this._enabled=!0},_o.prototype.disable=function(){this._enabled=!1,this.reset()},_o.prototype.isEnabled=function(){return this._enabled},_o.prototype.isActive=function(){return this._active};var os={0:1,2:2},$i=function(g){this.reset(),this._clickTolerance=g.clickTolerance||1};$i.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},$i.prototype._correctButton=function(g,b){return!1},$i.prototype._move=function(g,b){return{}},$i.prototype.mousedown=function(g,b){if(!this._lastPoint){var v=P.mouseButton(g);this._correctButton(g,v)&&(this._lastPoint=b,this._eventButton=v)}},$i.prototype.mousemoveWindow=function(g,b){var B,st,v=this._lastPoint;if(v)if(g.preventDefault(),st=os[this._eventButton],void 0===(B=g).buttons||(B.buttons&st)!==st)this.reset();else if(this._moved||!(b.dist(v)<this._clickTolerance))return this._moved=!0,this._lastPoint=b,this._move(v,b)},$i.prototype.mouseupWindow=function(g){this._lastPoint&&P.mouseButton(g)===this._eventButton&&(this._moved&&P.suppressClick(),this.reset())},$i.prototype.enable=function(){this._enabled=!0},$i.prototype.disable=function(){this._enabled=!1,this.reset()},$i.prototype.isEnabled=function(){return this._enabled},$i.prototype.isActive=function(){return this._active};var Bs=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.mousedown=function(v,B){g.prototype.mousedown.call(this,v,B),this._lastPoint&&(this._active=!0)},b.prototype._correctButton=function(v,B){return 0===B&&!v.ctrlKey},b.prototype._move=function(v,B){return{around:B,panDelta:B.sub(v)}},b}($i),Ds=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype._correctButton=function(v,B){return 0===B&&v.ctrlKey||2===B},b.prototype._move=function(v,B){var J=.8*(B.x-v.x);if(J)return this._active=!0,{bearingDelta:J}},b.prototype.contextmenu=function(v){v.preventDefault()},b}($i),aa=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype._correctButton=function(v,B){return 0===B&&v.ctrlKey||2===B},b.prototype._move=function(v,B){var J=-.5*(B.y-v.y);if(J)return this._active=!0,{pitchDelta:J}},b.prototype.contextmenu=function(v){v.preventDefault()},b}($i),uo=function(g){this._minTouches=1,this._clickTolerance=g.clickTolerance||1,this.reset()};uo.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},uo.prototype.touchstart=function(g,b,v){return this._calculateTransform(g,b,v)},uo.prototype.touchmove=function(g,b,v){if(this._active&&!(v.length<this._minTouches))return g.preventDefault(),this._calculateTransform(g,b,v)},uo.prototype.touchend=function(g,b,v){this._calculateTransform(g,b,v),this._active&&v.length<this._minTouches&&this.reset()},uo.prototype.touchcancel=function(){this.reset()},uo.prototype._calculateTransform=function(g,b,v){v.length>0&&(this._active=!0);var B=fs(v,b),J=new n.Point(0,0),st=new n.Point(0,0),dt=0;for(var Pt in B){var zt=B[Pt],Zt=this._touches[Pt];Zt&&(J._add(zt),st._add(zt.sub(Zt)),dt++,B[Pt]=zt)}if(this._touches=B,!(dt<this._minTouches)&&st.mag()){var he=st.div(dt);if(this._sum._add(he),!(this._sum.mag()<this._clickTolerance))return{around:J.div(dt),panDelta:he}}},uo.prototype.enable=function(){this._enabled=!0},uo.prototype.disable=function(){this._enabled=!1,this.reset()},uo.prototype.isEnabled=function(){return this._enabled},uo.prototype.isActive=function(){return this._active};var Er=function(){this.reset()};function Ko(g,b,v){for(var B=0;B<g.length;B++)if(g[B].identifier===v)return b[B]}function vs(g,b){return Math.log(g/b)/Math.LN2}Er.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Er.prototype._start=function(g){},Er.prototype._move=function(g,b,v){return{}},Er.prototype.touchstart=function(g,b,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([b[0],b[1]]))},Er.prototype.touchmove=function(g,b,v){if(this._firstTwoTouches){g.preventDefault();var B=this._firstTwoTouches,J=B[1],st=Ko(v,b,B[0]),dt=Ko(v,b,J);if(st&&dt){var Pt=this._aroundCenter?null:st.add(dt).div(2);return this._move([st,dt],Pt,g)}}},Er.prototype.touchend=function(g,b,v){if(this._firstTwoTouches){var B=this._firstTwoTouches,J=B[1],st=Ko(v,b,B[0]),dt=Ko(v,b,J);st&&dt||(this._active&&P.suppressClick(),this.reset())}},Er.prototype.touchcancel=function(){this.reset()},Er.prototype.enable=function(g){this._enabled=!0,this._aroundCenter=!!g&&"center"===g.around},Er.prototype.disable=function(){this._enabled=!1,this.reset()},Er.prototype.isEnabled=function(){return this._enabled},Er.prototype.isActive=function(){return this._active};var Lo=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.reset=function(){g.prototype.reset.call(this),delete this._distance,delete this._startDistance},b.prototype._start=function(v){this._startDistance=this._distance=v[0].dist(v[1])},b.prototype._move=function(v,B){var J=this._distance;if(this._distance=v[0].dist(v[1]),this._active||!(Math.abs(vs(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:vs(this._distance,J),pinchAround:B}},b}(Er);function zs(g,b){return 180*g.angleWith(b)/Math.PI}var rl=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.reset=function(){g.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},b.prototype._start=function(v){this._startVector=this._vector=v[0].sub(v[1]),this._minDiameter=v[0].dist(v[1])},b.prototype._move=function(v,B){var J=this._vector;if(this._vector=v[0].sub(v[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:zs(this._vector,J),pinchAround:B}},b.prototype._isBelowThreshold=function(v){this._minDiameter=Math.min(this._minDiameter,v.mag());var B=25/(Math.PI*this._minDiameter)*360,J=zs(v,this._startVector);return Math.abs(J)<B},b}(Er);function wa(g){return Math.abs(g.y)>Math.abs(g.x)}var Ta=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.reset=function(){g.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},b.prototype._start=function(v){this._lastPoints=v,wa(v[0].sub(v[1]))&&(this._valid=!1)},b.prototype._move=function(v,B,J){var st=v[0].sub(this._lastPoints[0]),dt=v[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(st,dt,J.timeStamp),this._valid)return this._lastPoints=v,this._active=!0,{pitchDelta:(st.y+dt.y)/2*-.5}},b.prototype.gestureBeginsVertically=function(v,B,J){if(void 0!==this._valid)return this._valid;var st=v.mag()>=2,dt=B.mag()>=2;if(st||dt){if(!st||!dt)return void 0===this._firstMove&&(this._firstMove=J),J-this._firstMove<100&&void 0;var Pt=v.y>0==B.y>0;return wa(v)&&wa(B)&&Pt}},b}(Er),ol={panStep:100,bearingStep:15,pitchStep:10},Qs=function(){var g=ol;this._panStep=g.panStep,this._bearingStep=g.bearingStep,this._pitchStep=g.pitchStep,this._rotationDisabled=!1};function _s(g){return g*(2-g)}Qs.prototype.reset=function(){this._active=!1},Qs.prototype.keydown=function(g){var b=this;if(!(g.altKey||g.ctrlKey||g.metaKey)){var v=0,B=0,J=0,st=0,dt=0;switch(g.keyCode){case 61:case 107:case 171:case 187:v=1;break;case 189:case 109:case 173:v=-1;break;case 37:g.shiftKey?B=-1:(g.preventDefault(),st=-1);break;case 39:g.shiftKey?B=1:(g.preventDefault(),st=1);break;case 38:g.shiftKey?J=1:(g.preventDefault(),dt=-1);break;case 40:g.shiftKey?J=-1:(g.preventDefault(),dt=1);break;default:return}return this._rotationDisabled&&(B=0,J=0),{cameraAnimation:function(Pt){var zt=Pt.getZoom();Pt.easeTo({duration:300,easeId:"keyboardHandler",easing:_s,zoom:v?Math.round(zt)+v*(g.shiftKey?2:1):zt,bearing:Pt.getBearing()+B*b._bearingStep,pitch:Pt.getPitch()+J*b._pitchStep,offset:[-st*b._panStep,-dt*b._panStep],center:Pt.getCenter()},{originalEvent:g})}}}},Qs.prototype.enable=function(){this._enabled=!0},Qs.prototype.disable=function(){this._enabled=!1,this.reset()},Qs.prototype.isEnabled=function(){return this._enabled},Qs.prototype.isActive=function(){return this._active},Qs.prototype.disableRotation=function(){this._rotationDisabled=!0},Qs.prototype.enableRotation=function(){this._rotationDisabled=!1};var Pr=function(g,b){this._map=g,this._el=g.getCanvasContainer(),this._handler=b,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,n.bindAll(["_onTimeout"],this)};Pr.prototype.setZoomRate=function(g){this._defaultZoomRate=g},Pr.prototype.setWheelZoomRate=function(g){this._wheelZoomRate=g},Pr.prototype.isEnabled=function(){return!!this._enabled},Pr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Pr.prototype.isZooming=function(){return!!this._zooming},Pr.prototype.enable=function(g){this.isEnabled()||(this._enabled=!0,this._aroundCenter=g&&"center"===g.around)},Pr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Pr.prototype.wheel=function(g){if(this.isEnabled()){var b=g.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*g.deltaY:g.deltaY,v=n.browser.now(),B=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,0!==b&&b%4.000244140625==0?this._type="wheel":0!==b&&Math.abs(b)<4?this._type="trackpad":B>400?(this._type=null,this._lastValue=b,this._timeout=setTimeout(this._onTimeout,40,g)):this._type||(this._type=Math.abs(B*b)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,b+=this._lastValue)),g.shiftKey&&b&&(b/=4),this._type&&(this._lastWheelEvent=g,this._delta-=b,this._active||this._start(g)),g.preventDefault()}},Pr.prototype._onTimeout=function(g){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(g)},Pr.prototype._start=function(g){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var b=P.mousePos(this._el,g);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(b)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Pr.prototype.renderFrame=function(){var g=this;if(this._frameId&&(this._frameId=null,this.isActive())){var b=this._map.transform;if(0!==this._delta){var v="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,B=2/(1+Math.exp(-Math.abs(this._delta*v)));this._delta<0&&0!==B&&(B=1/B);var J="number"==typeof this._targetZoom?b.zoomScale(this._targetZoom):b.scale;this._targetZoom=Math.min(b.maxZoom,Math.max(b.minZoom,b.scaleZoom(J*B))),"wheel"===this._type&&(this._startZoom=b.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var st,dt="number"==typeof this._targetZoom?this._targetZoom:b.zoom,Pt=this._startZoom,zt=this._easing,Zt=!1;if("wheel"===this._type&&Pt&&zt){var he=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),de=zt(he);st=n.number(Pt,dt,de),he<1?this._frameId||(this._frameId=!0):Zt=!0}else st=dt,Zt=!0;return this._active=!0,Zt&&(this._active=!1,this._finishTimeout=setTimeout(function(){g._zooming=!1,g._handler._triggerRenderFrame(),delete g._targetZoom,delete g._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Zt,zoomDelta:st-b.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Pr.prototype._smoothOutEasing=function(g){var b=n.ease;if(this._prevEase){var v=this._prevEase,B=(n.browser.now()-v.start)/v.duration,J=v.easing(B+.01)-v.easing(B),st=.27/Math.sqrt(J*J+1e-4)*.01,dt=Math.sqrt(.0729-st*st);b=n.bezier(st,dt,.25,1)}return this._prevEase={start:n.browser.now(),duration:g,easing:b},b},Pr.prototype.reset=function(){this._active=!1};var Ys=function(g,b){this._clickZoom=g,this._tapZoom=b};Ys.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ys.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ys.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ys.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Xs=function(){this.reset()};Xs.prototype.reset=function(){this._active=!1},Xs.prototype.dblclick=function(g,b){return g.preventDefault(),{cameraAnimation:function(v){v.easeTo({duration:300,zoom:v.getZoom()+(g.shiftKey?-1:1),around:v.unproject(b)},{originalEvent:g})}}},Xs.prototype.enable=function(){this._enabled=!0},Xs.prototype.disable=function(){this._enabled=!1,this.reset()},Xs.prototype.isEnabled=function(){return this._enabled},Xs.prototype.isActive=function(){return this._active};var Ho=function(){this._tap=new vo({numTouches:1,numTaps:1}),this.reset()};Ho.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ho.prototype.touchstart=function(g,b,v){this._swipePoint||(this._tapTime&&g.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?v.length>0&&(this._swipePoint=b[0],this._swipeTouch=v[0].identifier):this._tap.touchstart(g,b,v))},Ho.prototype.touchmove=function(g,b,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;var B=b[0],J=B.y-this._swipePoint.y;return this._swipePoint=B,g.preventDefault(),this._active=!0,{zoomDelta:J/128}}}else this._tap.touchmove(g,b,v)},Ho.prototype.touchend=function(g,b,v){this._tapTime?this._swipePoint&&0===v.length&&this.reset():this._tap.touchend(g,b,v)&&(this._tapTime=g.timeStamp)},Ho.prototype.touchcancel=function(){this.reset()},Ho.prototype.enable=function(){this._enabled=!0},Ho.prototype.disable=function(){this._enabled=!1,this.reset()},Ho.prototype.isEnabled=function(){return this._enabled},Ho.prototype.isActive=function(){return this._active};var la=function(g,b,v){this._el=g,this._mousePan=b,this._touchPan=v};la.prototype.enable=function(g){this._inertiaOptions=g||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},la.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},la.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},la.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ha=function(g,b,v){this._pitchWithRotate=g.pitchWithRotate,this._mouseRotate=b,this._mousePitch=v};ha.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ha.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ha.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ha.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Zs=function(g,b,v,B){this._el=g,this._touchZoom=b,this._touchRotate=v,this._tapDragZoom=B,this._rotationDisabled=!1,this._enabled=!0};Zs.prototype.enable=function(g){this._touchZoom.enable(g),this._rotationDisabled||this._touchRotate.enable(g),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Zs.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Zs.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Zs.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Zs.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Zs.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ao=function(g){return g.zoom||g.drag||g.pitch||g.rotate},ua=function(g){function b(){g.apply(this,arguments)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b}(n.Event);function Ln(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}var Sn=function(g,b){this._map=g,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new so(g),this._bearingSnap=b.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(b),n.bindAll(["handleEvent","handleWindowEvent"],this);var v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[n.window,"blur",void 0]];for(var B=0,J=this._listeners;B<J.length;B+=1){var st=J[B],dt=st[0];P.addEventListener(dt,st[1],dt===n.window.document?this.handleWindowEvent:this.handleEvent,st[2])}};Sn.prototype.destroy=function(){for(var g=0,b=this._listeners;g<b.length;g+=1){var v=b[g],B=v[0];P.removeEventListener(B,v[1],B===n.window.document?this.handleWindowEvent:this.handleEvent,v[2])}},Sn.prototype._addDefaultHandlers=function(g){var b=this._map,v=b.getCanvasContainer();this._add("mapEvent",new dr(b,g));var B=b.boxZoom=new qr(b,g);this._add("boxZoom",B);var J=new _o,st=new Xs;b.doubleClickZoom=new Ys(st,J),this._add("tapZoom",J),this._add("clickZoom",st);var dt=new Ho;this._add("tapDragZoom",dt);var Pt=b.touchPitch=new Ta;this._add("touchPitch",Pt);var zt=new Ds(g),Zt=new aa(g);b.dragRotate=new ha(g,zt,Zt),this._add("mouseRotate",zt,["mousePitch"]),this._add("mousePitch",Zt,["mouseRotate"]);var he=new Bs(g),de=new uo(g);b.dragPan=new la(v,he,de),this._add("mousePan",he),this._add("touchPan",de,["touchZoom","touchRotate"]);var ve=new rl,Ce=new Lo;b.touchZoomRotate=new Zs(v,Ce,ve,dt),this._add("touchRotate",ve,["touchPan","touchZoom"]),this._add("touchZoom",Ce,["touchPan","touchRotate"]);var Pe=b.scrollZoom=new Pr(b,this);this._add("scrollZoom",Pe,["mousePan"]);var Be=b.keyboard=new Qs;this._add("keyboard",Be),this._add("blockableMapEvent",new Ji(b));for(var we=0,Re=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];we<Re.length;we+=1){var Ge=Re[we];g.interactive&&g[Ge]&&b[Ge].enable(g[Ge])}},Sn.prototype._add=function(g,b,v){this._handlers.push({handlerName:g,handler:b,allowed:v}),this._handlersById[g]=b},Sn.prototype.stop=function(g){if(!this._updatingCamera){for(var b=0,v=this._handlers;b<v.length;b+=1)v[b].handler.reset();this._inertia.clear(),this._fireEvents({},{},g),this._changes=[]}},Sn.prototype.isActive=function(){for(var g=0,b=this._handlers;g<b.length;g+=1)if(b[g].handler.isActive())return!0;return!1},Sn.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Sn.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Sn.prototype.isMoving=function(){return Boolean(Ao(this._eventsInProgress))||this.isZooming()},Sn.prototype._blockedByActive=function(g,b,v){for(var B in g)if(B!==v&&(!b||b.indexOf(B)<0))return!0;return!1},Sn.prototype.handleWindowEvent=function(g){this.handleEvent(g,g.type+"Window")},Sn.prototype._getMapTouches=function(g){for(var b=[],v=0,B=g;v<B.length;v+=1){var J=B[v];this._el.contains(J.target)&&b.push(J)}return b},Sn.prototype.handleEvent=function(g,b){if("blur"!==g.type){this._updatingCamera=!0;for(var v="renderFrame"===g.type?void 0:g,B={needsRenderFrame:!1},J={},st={},dt=g.touches?this._getMapTouches(g.touches):void 0,Pt=dt?P.touchPos(this._el,dt):P.mousePos(this._el,g),zt=0,Zt=this._handlers;zt<Zt.length;zt+=1){var he=Zt[zt],de=he.handlerName,ve=he.handler,Ce=he.allowed;if(ve.isEnabled()){var Pe=void 0;this._blockedByActive(st,Ce,de)?ve.reset():ve[b||g.type]&&(Pe=ve[b||g.type](g,Pt,dt),this.mergeHandlerResult(B,J,Pe,de,v),Pe&&Pe.needsRenderFrame&&this._triggerRenderFrame()),(Pe||ve.isActive())&&(st[de]=ve)}}var Be={};for(var we in this._previousActiveHandlers)st[we]||(Be[we]=v);this._previousActiveHandlers=st,(Object.keys(Be).length||Ln(B))&&(this._changes.push([B,J,Be]),this._triggerRenderFrame()),(Object.keys(st).length||Ln(B))&&this._map._stop(!0),this._updatingCamera=!1;var Re=B.cameraAnimation;Re&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Re(this._map))}else this.stop(!0)},Sn.prototype.mergeHandlerResult=function(g,b,v,B,J){if(v){n.extend(g,v);var st={handlerName:B,originalEvent:v.originalEvent||J};void 0!==v.zoomDelta&&(b.zoom=st),void 0!==v.panDelta&&(b.drag=st),void 0!==v.pitchDelta&&(b.pitch=st),void 0!==v.bearingDelta&&(b.rotate=st)}},Sn.prototype._applyChanges=function(){for(var g={},b={},v={},B=0,J=this._changes;B<J.length;B+=1){var st=J[B],dt=st[0],Pt=st[1],zt=st[2];dt.panDelta&&(g.panDelta=(g.panDelta||new n.Point(0,0))._add(dt.panDelta)),dt.zoomDelta&&(g.zoomDelta=(g.zoomDelta||0)+dt.zoomDelta),dt.bearingDelta&&(g.bearingDelta=(g.bearingDelta||0)+dt.bearingDelta),dt.pitchDelta&&(g.pitchDelta=(g.pitchDelta||0)+dt.pitchDelta),void 0!==dt.around&&(g.around=dt.around),void 0!==dt.pinchAround&&(g.pinchAround=dt.pinchAround),dt.noInertia&&(g.noInertia=dt.noInertia),n.extend(b,Pt),n.extend(v,zt)}this._updateMapTransform(g,b,v),this._changes=[]},Sn.prototype._updateMapTransform=function(g,b,v){var B=this._map,J=B.transform;if(!Ln(g))return this._fireEvents(b,v,!0);var st=g.panDelta,dt=g.zoomDelta,Pt=g.bearingDelta,zt=g.pitchDelta,Zt=g.around,he=g.pinchAround;void 0!==he&&(Zt=he),B._stop(!0),Zt=Zt||B.transform.centerPoint;var de=J.pointLocation(st?Zt.sub(st):Zt);Pt&&(J.bearing+=Pt),zt&&(J.pitch+=zt),dt&&(J.zoom+=dt),J.setLocationAtPoint(de,Zt),this._map._update(),g.noInertia||this._inertia.record(g),this._fireEvents(b,v,!0)},Sn.prototype._fireEvents=function(g,b,v){var B=this,J=Ao(this._eventsInProgress),st=Ao(g),dt={};for(var Pt in g)this._eventsInProgress[Pt]||(dt[Pt+"start"]=g[Pt].originalEvent),this._eventsInProgress[Pt]=g[Pt];for(var zt in!J&&st&&this._fireEvent("movestart",st.originalEvent),dt)this._fireEvent(zt,dt[zt]);for(var Zt in st&&this._fireEvent("move",st.originalEvent),g)this._fireEvent(Zt,g[Zt].originalEvent);var he,de={};for(var ve in this._eventsInProgress){var Ce=this._eventsInProgress[ve],Pe=Ce.handlerName,Be=Ce.originalEvent;this._handlersById[Pe].isActive()||(delete this._eventsInProgress[ve],de[ve+"end"]=he=b[Pe]||Be)}for(var we in de)this._fireEvent(we,de[we]);var Re=Ao(this._eventsInProgress);if(v&&(J||st)&&!Re){this._updatingCamera=!0;var Ge=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),hi=function(Ci){return 0!==Ci&&-B._bearingSnap<Ci&&Ci<B._bearingSnap};Ge?(hi(Ge.bearing||this._map.getBearing())&&(Ge.bearing=0),this._map.easeTo(Ge,{originalEvent:he})):(this._map.fire(new n.Event("moveend",{originalEvent:he})),hi(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Sn.prototype._fireEvent=function(g,b){this._map.fire(new n.Event(g,b?{originalEvent:b}:{}))},Sn.prototype._requestFrame=function(){var g=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(b){delete g._frameId,g.handleEvent(new ua("renderFrame",{timeStamp:b})),g._applyChanges()})},Sn.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var Sa=function(g){function b(v,B){g.call(this),this._moving=!1,this._zooming=!1,this.transform=v,this._bearingSnap=B.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},b.prototype.setCenter=function(v,B){return this.jumpTo({center:v},B)},b.prototype.panBy=function(v,B,J){return v=n.Point.convert(v).mult(-1),this.panTo(this.transform.center,n.extend({offset:v},B),J)},b.prototype.panTo=function(v,B,J){return this.easeTo(n.extend({center:v},B),J)},b.prototype.getZoom=function(){return this.transform.zoom},b.prototype.setZoom=function(v,B){return this.jumpTo({zoom:v},B),this},b.prototype.zoomTo=function(v,B,J){return this.easeTo(n.extend({zoom:v},B),J)},b.prototype.zoomIn=function(v,B){return this.zoomTo(this.getZoom()+1,v,B),this},b.prototype.zoomOut=function(v,B){return this.zoomTo(this.getZoom()-1,v,B),this},b.prototype.getBearing=function(){return this.transform.bearing},b.prototype.setBearing=function(v,B){return this.jumpTo({bearing:v},B),this},b.prototype.getPadding=function(){return this.transform.padding},b.prototype.setPadding=function(v,B){return this.jumpTo({padding:v},B),this},b.prototype.rotateTo=function(v,B,J){return this.easeTo(n.extend({bearing:v},B),J)},b.prototype.resetNorth=function(v,B){return this.rotateTo(0,n.extend({duration:1e3},v),B),this},b.prototype.resetNorthPitch=function(v,B){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},v),B),this},b.prototype.snapToNorth=function(v,B){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(v,B):this},b.prototype.getPitch=function(){return this.transform.pitch},b.prototype.setPitch=function(v,B){return this.jumpTo({pitch:v},B),this},b.prototype.cameraForBounds=function(v,B){v=n.LngLatBounds.convert(v);var J=B&&B.bearing||0;return this._cameraForBoxAndBearing(v.getNorthWest(),v.getSouthEast(),J,B)},b.prototype._cameraForBoxAndBearing=function(v,B,J,st){var dt={top:0,bottom:0,right:0,left:0};if("number"==typeof(st=n.extend({padding:dt,offset:[0,0],maxZoom:this.transform.maxZoom},st)).padding){var Pt=st.padding;st.padding={top:Pt,bottom:Pt,right:Pt,left:Pt}}st.padding=n.extend(dt,st.padding);var zt=this.transform,Zt=zt.padding,he=zt.project(n.LngLat.convert(v)),de=zt.project(n.LngLat.convert(B)),ve=he.rotate(-J*Math.PI/180),Ce=de.rotate(-J*Math.PI/180),Pe=new n.Point(Math.max(ve.x,Ce.x),Math.max(ve.y,Ce.y)),Be=new n.Point(Math.min(ve.x,Ce.x),Math.min(ve.y,Ce.y)),we=Pe.sub(Be),Re=(zt.width-(Zt.left+Zt.right+st.padding.left+st.padding.right))/we.x,Ge=(zt.height-(Zt.top+Zt.bottom+st.padding.top+st.padding.bottom))/we.y;if(!(Ge<0||Re<0)){var hi=Math.min(zt.scaleZoom(zt.scale*Math.min(Re,Ge)),st.maxZoom),Ci="number"==typeof st.offset.x?new n.Point(st.offset.x,st.offset.y):n.Point.convert(st.offset),wi=new n.Point((st.padding.left-st.padding.right)/2,(st.padding.top-st.padding.bottom)/2).rotate(J*Math.PI/180),Mi=Ci.add(wi).mult(zt.scale/zt.zoomScale(hi));return{center:zt.unproject(he.add(de).div(2).sub(Mi)),zoom:hi,bearing:J}}n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},b.prototype.fitBounds=function(v,B,J){return this._fitInternal(this.cameraForBounds(v,B),B,J)},b.prototype.fitScreenCoordinates=function(v,B,J,st,dt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(v)),this.transform.pointLocation(n.Point.convert(B)),J,st),st,dt)},b.prototype._fitInternal=function(v,B,J){return v?(delete(B=n.extend(v,B)).padding,B.linear?this.easeTo(B,J):this.flyTo(B,J)):this},b.prototype.jumpTo=function(v,B){this.stop();var J=this.transform,st=!1,dt=!1,Pt=!1;return"zoom"in v&&J.zoom!==+v.zoom&&(st=!0,J.zoom=+v.zoom),void 0!==v.center&&(J.center=n.LngLat.convert(v.center)),"bearing"in v&&J.bearing!==+v.bearing&&(dt=!0,J.bearing=+v.bearing),"pitch"in v&&J.pitch!==+v.pitch&&(Pt=!0,J.pitch=+v.pitch),null==v.padding||J.isPaddingEqual(v.padding)||(J.padding=v.padding),this.fire(new n.Event("movestart",B)).fire(new n.Event("move",B)),st&&this.fire(new n.Event("zoomstart",B)).fire(new n.Event("zoom",B)).fire(new n.Event("zoomend",B)),dt&&this.fire(new n.Event("rotatestart",B)).fire(new n.Event("rotate",B)).fire(new n.Event("rotateend",B)),Pt&&this.fire(new n.Event("pitchstart",B)).fire(new n.Event("pitch",B)).fire(new n.Event("pitchend",B)),this.fire(new n.Event("moveend",B))},b.prototype.easeTo=function(v,B){var J=this;this._stop(!1,v.easeId),(!1===(v=n.extend({offset:[0,0],duration:500,easing:n.ease},v)).animate||!v.essential&&n.browser.prefersReducedMotion)&&(v.duration=0);var st=this.transform,dt=this.getZoom(),Pt=this.getBearing(),zt=this.getPitch(),Zt=this.getPadding(),he="zoom"in v?+v.zoom:dt,de="bearing"in v?this._normalizeBearing(v.bearing,Pt):Pt,ve="pitch"in v?+v.pitch:zt,Ce="padding"in v?v.padding:st.padding,Pe=n.Point.convert(v.offset),Be=st.centerPoint.add(Pe),we=st.pointLocation(Be),Re=n.LngLat.convert(v.center||we);this._normalizeCenter(Re);var Ge,hi,Ci=st.project(we),wi=st.project(Re).sub(Ci),Mi=st.zoomScale(he-dt);v.around&&(Ge=n.LngLat.convert(v.around),hi=st.locationPoint(Ge));var Gi={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||he!==dt,this._rotating=this._rotating||Pt!==de,this._pitching=this._pitching||ve!==zt,this._padding=!st.isPaddingEqual(Ce),this._easeId=v.easeId,this._prepareEase(B,v.noMoveStart,Gi),this._ease(function(on){if(J._zooming&&(st.zoom=n.number(dt,he,on)),J._rotating&&(st.bearing=n.number(Pt,de,on)),J._pitching&&(st.pitch=n.number(zt,ve,on)),J._padding&&(st.interpolatePadding(Zt,Ce,on),Be=st.centerPoint.add(Pe)),Ge)st.setLocationAtPoint(Ge,hi);else{var rn=st.zoomScale(st.zoom-dt),vn=he>dt?Math.min(2,Mi):Math.max(.5,Mi),Nn=Math.pow(vn,1-on),jn=st.unproject(Ci.add(wi.mult(on*Nn)).mult(rn));st.setLocationAtPoint(st.renderWorldCopies?jn.wrap():jn,Be)}J._fireMoveEvents(B)},function(on){J._afterEase(B,on)},v),this},b.prototype._prepareEase=function(v,B,J){void 0===J&&(J={}),this._moving=!0,B||J.moving||this.fire(new n.Event("movestart",v)),this._zooming&&!J.zooming&&this.fire(new n.Event("zoomstart",v)),this._rotating&&!J.rotating&&this.fire(new n.Event("rotatestart",v)),this._pitching&&!J.pitching&&this.fire(new n.Event("pitchstart",v))},b.prototype._fireMoveEvents=function(v){this.fire(new n.Event("move",v)),this._zooming&&this.fire(new n.Event("zoom",v)),this._rotating&&this.fire(new n.Event("rotate",v)),this._pitching&&this.fire(new n.Event("pitch",v))},b.prototype._afterEase=function(v,B){if(!this._easeId||!B||this._easeId!==B){delete this._easeId;var J=this._zooming,st=this._rotating,dt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,J&&this.fire(new n.Event("zoomend",v)),st&&this.fire(new n.Event("rotateend",v)),dt&&this.fire(new n.Event("pitchend",v)),this.fire(new n.Event("moveend",v))}},b.prototype.flyTo=function(v,B){var J=this;if(!v.essential&&n.browser.prefersReducedMotion){var st=n.pick(v,["center","zoom","bearing","pitch","around"]);return this.jumpTo(st,B)}this.stop(),v=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},v);var dt=this.transform,Pt=this.getZoom(),zt=this.getBearing(),Zt=this.getPitch(),he=this.getPadding(),de="zoom"in v?n.clamp(+v.zoom,dt.minZoom,dt.maxZoom):Pt,ve="bearing"in v?this._normalizeBearing(v.bearing,zt):zt,Ce="pitch"in v?+v.pitch:Zt,Pe="padding"in v?v.padding:dt.padding,Be=dt.zoomScale(de-Pt),we=n.Point.convert(v.offset),Re=dt.centerPoint.add(we),Ge=dt.pointLocation(Re),hi=n.LngLat.convert(v.center||Ge);this._normalizeCenter(hi);var Ci=dt.project(Ge),wi=dt.project(hi).sub(Ci),Mi=v.curve,Gi=Math.max(dt.width,dt.height),on=Gi/Be,rn=wi.mag();if("minZoom"in v){var vn=n.clamp(Math.min(v.minZoom,Pt,de),dt.minZoom,dt.maxZoom),Nn=Gi/dt.zoomScale(vn-Pt);Mi=Math.sqrt(Nn/rn*2)}var jn=Mi*Mi;function zn($n){var Wn=(on*on-Gi*Gi+($n?-1:1)*jn*jn*rn*rn)/(2*($n?on:Gi)*jn*rn);return Math.log(Math.sqrt(Wn*Wn+1)-Wn)}function zr($n){return(Math.exp($n)-Math.exp(-$n))/2}function xn($n){return(Math.exp($n)+Math.exp(-$n))/2}var or=zn(0),yr=function($n){return xn(or)/xn(or+Mi*$n)},ir=function($n){return Gi*((xn(or)*(zr(Wn=or+Mi*$n)/xn(Wn))-zr(or))/jn)/rn;var Wn},tr=(zn(1)-or)/Mi;if(Math.abs(rn)<1e-6||!isFinite(tr)){if(Math.abs(Gi-on)<1e-6)return this.easeTo(v,B);var gr=on<Gi?-1:1;tr=Math.abs(Math.log(on/Gi))/Mi,ir=function(){return 0},yr=function($n){return Math.exp(gr*Mi*$n)}}return v.duration="duration"in v?+v.duration:1e3*tr/("screenSpeed"in v?+v.screenSpeed/Mi:+v.speed),v.maxDuration&&v.duration>v.maxDuration&&(v.duration=0),this._zooming=!0,this._rotating=zt!==ve,this._pitching=Ce!==Zt,this._padding=!dt.isPaddingEqual(Pe),this._prepareEase(B,!1),this._ease(function($n){var Wn=$n*tr,Jo=1/yr(Wn);dt.zoom=1===$n?de:Pt+dt.scaleZoom(Jo),J._rotating&&(dt.bearing=n.number(zt,ve,$n)),J._pitching&&(dt.pitch=n.number(Zt,Ce,$n)),J._padding&&(dt.interpolatePadding(he,Pe,$n),Re=dt.centerPoint.add(we));var Mo=1===$n?hi:dt.unproject(Ci.add(wi.mult(ir(Wn))).mult(Jo));dt.setLocationAtPoint(dt.renderWorldCopies?Mo.wrap():Mo,Re),J._fireMoveEvents(B)},function(){return J._afterEase(B)},v),this},b.prototype.isEasing=function(){return!!this._easeFrameId},b.prototype.stop=function(){return this._stop()},b.prototype._stop=function(v,B){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var J=this._onEaseEnd;delete this._onEaseEnd,J.call(this,B)}if(!v){var st=this.handlers;st&&st.stop(!1)}return this},b.prototype._ease=function(v,B,J){!1===J.animate||0===J.duration?(v(1),B()):(this._easeStart=n.browser.now(),this._easeOptions=J,this._onEaseFrame=v,this._onEaseEnd=B,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},b.prototype._renderFrameCallback=function(){var v=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},b.prototype._normalizeBearing=function(v,B){v=n.wrap(v,-180,180);var J=Math.abs(v-B);return Math.abs(v-360-B)<J&&(v-=360),Math.abs(v+360-B)<J&&(v+=360),v},b.prototype._normalizeCenter=function(v){var B=this.transform;if(B.renderWorldCopies&&!B.lngRange){var J=v.lng-B.center.lng;v.lng+=J>180?-360:J<-180?360:0}},b}(n.Evented),ss=function(g){void 0===g&&(g={}),this.options=g,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};ss.prototype.getDefaultPosition=function(){return"bottom-right"},ss.prototype.onAdd=function(g){var b=this.options&&this.options.compact;return this._map=g,this._container=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=P.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=P.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),b&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===b&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ss.prototype.onRemove=function(){P.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ss.prototype._setElementTitle=function(g,b){var v=this._map._getUIString("AttributionControl."+b);g.title=v,g.setAttribute("aria-label",v)},ss.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},ss.prototype._updateEditLink=function(){var g=this._editLink;g||(g=this._editLink=this._container.querySelector(".mapbox-improve-map"));var b=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(g){var v=b.reduce(function(B,J,st){return J.value&&(B+=J.key+"="+J.value+(st<b.length-1?"&":"")),B},"?");g.href=n.config.FEEDBACK_URL+"/"+v+(this._map._hash?this._map._hash.getHashString(!0):""),g.rel="noopener nofollow",this._setElementTitle(g,"MapFeedback")}},ss.prototype._updateData=function(g){!g||"metadata"!==g.sourceDataType&&"visibility"!==g.sourceDataType&&"style"!==g.dataType||(this._updateAttributions(),this._updateEditLink())},ss.prototype._updateAttributions=function(){if(this._map.style){var g=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?g=g.concat(this.options.customAttribution.map(function(Pt){return"string"!=typeof Pt?"":Pt})):"string"==typeof this.options.customAttribution&&g.push(this.options.customAttribution)),this._map.style.stylesheet){var b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}var v=this._map.style.sourceCaches;for(var B in v){var J=v[B];if(J.used){var st=J.getSource();st.attribution&&g.indexOf(st.attribution)<0&&g.push(st.attribution)}}g.sort(function(Pt,zt){return Pt.length-zt.length});var dt=(g=g.filter(function(Pt,zt){for(var Zt=zt+1;Zt<g.length;Zt++)if(g[Zt].indexOf(Pt)>=0)return!1;return!0})).join(" | ");dt!==this._attribHTML&&(this._attribHTML=dt,g.length?(this._innerContainer.innerHTML=dt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ss.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Fs=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};Fs.prototype.onAdd=function(g){this._map=g,this._container=P.create("div","mapboxgl-ctrl");var b=P.create("a","mapboxgl-ctrl-logo");return b.target="_blank",b.rel="noopener nofollow",b.href="https://www.mapbox.com/",b.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),b.setAttribute("rel","noopener nofollow"),this._container.appendChild(b),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Fs.prototype.onRemove=function(){P.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Fs.prototype.getDefaultPosition=function(){return"bottom-left"},Fs.prototype._updateLogo=function(g){g&&"metadata"!==g.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Fs.prototype._logoRequired=function(){if(this._map.style){var g=this._map.style.sourceCaches;for(var b in g)if(g[b].getSource().mapbox_logo)return!0;return!1}},Fs.prototype._updateCompact=function(){var g=this._container.children;if(g.length){var b=g[0];this._map.getCanvasContainer().offsetWidth<250?b.classList.add("mapboxgl-compact"):b.classList.remove("mapboxgl-compact")}};var Wo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Wo.prototype.add=function(g){var b=++this._id;return this._queue.push({callback:g,id:b,cancelled:!1}),b},Wo.prototype.remove=function(g){for(var b=this._currentlyRunning,v=0,B=b?this._queue.concat(b):this._queue;v<B.length;v+=1){var J=B[v];if(J.id===g)return void(J.cancelled=!0)}},Wo.prototype.run=function(g){void 0===g&&(g=0);var b=this._currentlyRunning=this._queue;this._queue=[];for(var v=0,B=b;v<B.length;v+=1){var J=B[v];if(!J.cancelled&&(J.callback(g),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Wo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var qs={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},sl=n.window.HTMLImageElement,Xa=n.window.HTMLElement,jr=n.window.ImageBitmap,jo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ah=function(g){function b(B){var J=this;if(null!=(B=n.extend({},jo,B)).minZoom&&null!=B.maxZoom&&B.minZoom>B.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=B.minPitch&&null!=B.maxPitch&&B.minPitch>B.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=B.minPitch&&B.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=B.maxPitch&&B.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var st=new Hi(B.minZoom,B.maxZoom,B.minPitch,B.maxPitch,B.renderWorldCopies);if(g.call(this,st,B),this._interactive=B.interactive,this._maxTileCacheSize=B.maxTileCacheSize,this._failIfMajorPerformanceCaveat=B.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=B.preserveDrawingBuffer,this._antialias=B.antialias,this._trackResize=B.trackResize,this._bearingSnap=B.bearingSnap,this._refreshExpiredTiles=B.refreshExpiredTiles,this._fadeDuration=B.fadeDuration,this._crossSourceCollisions=B.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=B.collectResourceTiming,this._renderTaskQueue=new Wo,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},qs,B.locale),this._clickTolerance=B.clickTolerance,this._requestManager=new n.RequestManager(B.transformRequest,B.accessToken),"string"==typeof B.container){if(this._container=n.window.document.getElementById(B.container),!this._container)throw new Error("Container '"+B.container+"' not found.")}else{if(!(B.container instanceof Xa))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=B.container}if(B.maxBounds&&this.setMaxBounds(B.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return J._update(!1)}),this.on("moveend",function(){return J._update(!1)}),this.on("zoom",function(){return J._update(!0)}),void 0!==n.window&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Sn(this,B),this._hash=B.hash&&new er("string"==typeof B.hash&&B.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:B.center,zoom:B.zoom,bearing:B.bearing,pitch:B.pitch}),B.bounds&&(this.resize(),this.fitBounds(B.bounds,n.extend({},B.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=B.localIdeographFontFamily,B.style&&this.setStyle(B.style,{localIdeographFontFamily:B.localIdeographFontFamily}),B.attributionControl&&this.addControl(new ss({customAttribution:B.customAttribution})),this.addControl(new Fs,B.logoPosition),this.on("style.load",function(){J.transform.unmodified&&J.jumpTo(J.style.stylesheet)}),this.on("data",function(dt){J._update("style"===dt.dataType),J.fire(new n.Event(dt.dataType+"data",dt))}),this.on("dataloading",function(dt){J.fire(new n.Event(dt.dataType+"dataloading",dt))})}g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b;var v={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return b.prototype._getMapId=function(){return this._mapId},b.prototype.addControl=function(B,J){if(void 0===J&&(J=B.getDefaultPosition?B.getDefaultPosition():"top-right"),!B||!B.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var st=B.onAdd(this);this._controls.push(B);var dt=this._controlPositions[J];return-1!==J.indexOf("bottom")?dt.insertBefore(st,dt.firstChild):dt.appendChild(st),this},b.prototype.removeControl=function(B){if(!B||!B.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var J=this._controls.indexOf(B);return J>-1&&this._controls.splice(J,1),B.onRemove(this),this},b.prototype.hasControl=function(B){return this._controls.indexOf(B)>-1},b.prototype.resize=function(B){var J=this._containerDimensions(),st=J[0],dt=J[1];this._resizeCanvas(st,dt),this.transform.resize(st,dt),this.painter.resize(st,dt);var Pt=!this._moving;return Pt&&(this.stop(),this.fire(new n.Event("movestart",B)).fire(new n.Event("move",B))),this.fire(new n.Event("resize",B)),Pt&&this.fire(new n.Event("moveend",B)),this},b.prototype.getBounds=function(){return this.transform.getBounds()},b.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},b.prototype.setMaxBounds=function(B){return this.transform.setMaxBounds(n.LngLatBounds.convert(B)),this._update()},b.prototype.setMinZoom=function(B){if((B=B??-2)>=-2&&B<=this.transform.maxZoom)return this.transform.minZoom=B,this._update(),this.getZoom()<B&&this.setZoom(B),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},b.prototype.getMinZoom=function(){return this.transform.minZoom},b.prototype.setMaxZoom=function(B){if((B=B??22)>=this.transform.minZoom)return this.transform.maxZoom=B,this._update(),this.getZoom()>B&&this.setZoom(B),this;throw new Error("maxZoom must be greater than the current minZoom")},b.prototype.getMaxZoom=function(){return this.transform.maxZoom},b.prototype.setMinPitch=function(B){if((B=B??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(B>=0&&B<=this.transform.maxPitch)return this.transform.minPitch=B,this._update(),this.getPitch()<B&&this.setPitch(B),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},b.prototype.getMinPitch=function(){return this.transform.minPitch},b.prototype.setMaxPitch=function(B){if((B=B??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(B>=this.transform.minPitch)return this.transform.maxPitch=B,this._update(),this.getPitch()>B&&this.setPitch(B),this;throw new Error("maxPitch must be greater than the current minPitch")},b.prototype.getMaxPitch=function(){return this.transform.maxPitch},b.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},b.prototype.setRenderWorldCopies=function(B){return this.transform.renderWorldCopies=B,this._update()},b.prototype.project=function(B){return this.transform.locationPoint(n.LngLat.convert(B))},b.prototype.unproject=function(B){return this.transform.pointLocation(n.Point.convert(B))},b.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},b.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},b.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},b.prototype._createDelegatedListener=function(B,J,st){var dt,Pt=this;if("mouseenter"===B||"mouseover"===B){var zt=!1;return{layer:J,listener:st,delegates:{mousemove:function(he){var de=Pt.getLayer(J)?Pt.queryRenderedFeatures(he.point,{layers:[J]}):[];de.length?zt||(zt=!0,st.call(Pt,new Hn(B,Pt,he.originalEvent,{features:de}))):zt=!1},mouseout:function(){zt=!1}}}}if("mouseleave"===B||"mouseout"===B){var Zt=!1;return{layer:J,listener:st,delegates:{mousemove:function(he){(Pt.getLayer(J)?Pt.queryRenderedFeatures(he.point,{layers:[J]}):[]).length?Zt=!0:Zt&&(Zt=!1,st.call(Pt,new Hn(B,Pt,he.originalEvent)))},mouseout:function(he){Zt&&(Zt=!1,st.call(Pt,new Hn(B,Pt,he.originalEvent)))}}}}return{layer:J,listener:st,delegates:(dt={},dt[B]=function(he){var de=Pt.getLayer(J)?Pt.queryRenderedFeatures(he.point,{layers:[J]}):[];de.length&&(he.features=de,st.call(Pt,he),delete he.features)},dt)}},b.prototype.on=function(B,J,st){if(void 0===st)return g.prototype.on.call(this,B,J);var dt=this._createDelegatedListener(B,J,st);for(var Pt in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[B]=this._delegatedListeners[B]||[],this._delegatedListeners[B].push(dt),dt.delegates)this.on(Pt,dt.delegates[Pt]);return this},b.prototype.once=function(B,J,st){if(void 0===st)return g.prototype.once.call(this,B,J);var dt=this._createDelegatedListener(B,J,st);for(var Pt in dt.delegates)this.once(Pt,dt.delegates[Pt]);return this},b.prototype.off=function(B,J,st){var dt=this;return void 0===st?g.prototype.off.call(this,B,J):(this._delegatedListeners&&this._delegatedListeners[B]&&function(Pt){for(var zt=Pt[B],Zt=0;Zt<zt.length;Zt++){var he=zt[Zt];if(he.layer===J&&he.listener===st){for(var de in he.delegates)dt.off(de,he.delegates[de]);return zt.splice(Zt,1),dt}}}(this._delegatedListeners),this)},b.prototype.queryRenderedFeatures=function(B,J){if(!this.style)return[];var st;if(void 0!==J||void 0===B||B instanceof n.Point||Array.isArray(B)||(J=B,B=void 0),J=J||{},(B=B||[[0,0],[this.transform.width,this.transform.height]])instanceof n.Point||"number"==typeof B[0])st=[n.Point.convert(B)];else{var dt=n.Point.convert(B[0]),Pt=n.Point.convert(B[1]);st=[dt,new n.Point(Pt.x,dt.y),Pt,new n.Point(dt.x,Pt.y),dt]}return this.style.queryRenderedFeatures(st,J,this.transform)},b.prototype.querySourceFeatures=function(B,J){return this.style.querySourceFeatures(B,J)},b.prototype.setStyle=function(B,J){return!1!==(J=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},J)).diff&&J.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&B?(this._diffStyle(B,J),this):(this._localIdeographFontFamily=J.localIdeographFontFamily,this._updateStyle(B,J))},b.prototype._getUIString=function(B){var J=this._locale[B];if(null==J)throw new Error("Missing UI string '"+B+"'");return J},b.prototype._updateStyle=function(B,J){return this.style&&(this.style.setEventedParent(null),this.style._remove()),B?(this.style=new pn(this,J||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof B?this.style.loadURL(B):this.style.loadJSON(B),this):(delete this.style,this)},b.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new pn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},b.prototype._diffStyle=function(B,J){var st=this;if("string"==typeof B){var dt=this._requestManager.normalizeStyleURL(B),Pt=this._requestManager.transformRequest(dt,n.ResourceType.Style);n.getJSON(Pt,function(zt,Zt){zt?st.fire(new n.ErrorEvent(zt)):Zt&&st._updateDiff(Zt,J)})}else"object"==typeof B&&this._updateDiff(B,J)},b.prototype._updateDiff=function(B,J){try{this.style.setState(B)&&this._update(!0)}catch(st){n.warnOnce("Unable to perform style diff: "+(st.message||st.error||st)+".  Rebuilding the style from scratch."),this._updateStyle(B,J)}},b.prototype.getStyle=function(){if(this.style)return this.style.serialize()},b.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},b.prototype.addSource=function(B,J){return this._lazyInitEmptyStyle(),this.style.addSource(B,J),this._update(!0)},b.prototype.isSourceLoaded=function(B){var J=this.style&&this.style.sourceCaches[B];if(void 0!==J)return J.loaded();this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+B+"'")))},b.prototype.areTilesLoaded=function(){var B=this.style&&this.style.sourceCaches;for(var J in B){var st=B[J]._tiles;for(var dt in st){var Pt=st[dt];if("loaded"!==Pt.state&&"errored"!==Pt.state)return!1}}return!0},b.prototype.addSourceType=function(B,J,st){return this._lazyInitEmptyStyle(),this.style.addSourceType(B,J,st)},b.prototype.removeSource=function(B){return this.style.removeSource(B),this._update(!0)},b.prototype.getSource=function(B){return this.style.getSource(B)},b.prototype.addImage=function(B,J,st){void 0===st&&(st={});var dt=st.pixelRatio;void 0===dt&&(dt=1);var Pt=st.sdf;void 0===Pt&&(Pt=!1);var zt=st.stretchX,Zt=st.stretchY,he=st.content;if(this._lazyInitEmptyStyle(),J instanceof sl||jr&&J instanceof jr){var de=n.browser.getImageData(J);this.style.addImage(B,{data:new n.RGBAImage({width:de.width,height:de.height},de.data),pixelRatio:dt,stretchX:zt,stretchY:Zt,content:he,sdf:Pt,version:0})}else{if(void 0===J.width||void 0===J.height)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ve=J;this.style.addImage(B,{data:new n.RGBAImage({width:J.width,height:J.height},new Uint8Array(J.data)),pixelRatio:dt,stretchX:zt,stretchY:Zt,content:he,sdf:Pt,version:0,userImage:ve}),ve.onAdd&&ve.onAdd(this,B)}},b.prototype.updateImage=function(B,J){var st=this.style.getImage(B);if(!st)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var dt=J instanceof sl||jr&&J instanceof jr?n.browser.getImageData(J):J,Pt=dt.width,zt=dt.height,Zt=dt.data;return void 0===Pt||void 0===zt?this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):Pt!==st.data.width||zt!==st.data.height?this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(st.data.replace(Zt,!(J instanceof sl||jr&&J instanceof jr)),void this.style.updateImage(B,st))},b.prototype.hasImage=function(B){return B?!!this.style.getImage(B):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},b.prototype.removeImage=function(B){this.style.removeImage(B)},b.prototype.loadImage=function(B,J){n.getImage(this._requestManager.transformRequest(B,n.ResourceType.Image),J)},b.prototype.listImages=function(){return this.style.listImages()},b.prototype.addLayer=function(B,J){return this._lazyInitEmptyStyle(),this.style.addLayer(B,J),this._update(!0)},b.prototype.moveLayer=function(B,J){return this.style.moveLayer(B,J),this._update(!0)},b.prototype.removeLayer=function(B){return this.style.removeLayer(B),this._update(!0)},b.prototype.getLayer=function(B){return this.style.getLayer(B)},b.prototype.setLayerZoomRange=function(B,J,st){return this.style.setLayerZoomRange(B,J,st),this._update(!0)},b.prototype.setFilter=function(B,J,st){return void 0===st&&(st={}),this.style.setFilter(B,J,st),this._update(!0)},b.prototype.getFilter=function(B){return this.style.getFilter(B)},b.prototype.setPaintProperty=function(B,J,st,dt){return void 0===dt&&(dt={}),this.style.setPaintProperty(B,J,st,dt),this._update(!0)},b.prototype.getPaintProperty=function(B,J){return this.style.getPaintProperty(B,J)},b.prototype.setLayoutProperty=function(B,J,st,dt){return void 0===dt&&(dt={}),this.style.setLayoutProperty(B,J,st,dt),this._update(!0)},b.prototype.getLayoutProperty=function(B,J){return this.style.getLayoutProperty(B,J)},b.prototype.setLight=function(B,J){return void 0===J&&(J={}),this._lazyInitEmptyStyle(),this.style.setLight(B,J),this._update(!0)},b.prototype.getLight=function(){return this.style.getLight()},b.prototype.setFeatureState=function(B,J){return this.style.setFeatureState(B,J),this._update()},b.prototype.removeFeatureState=function(B,J){return this.style.removeFeatureState(B,J),this._update()},b.prototype.getFeatureState=function(B){return this.style.getFeatureState(B)},b.prototype.getContainer=function(){return this._container},b.prototype.getCanvasContainer=function(){return this._canvasContainer},b.prototype.getCanvas=function(){return this._canvas},b.prototype._containerDimensions=function(){var B=0,J=0;return this._container&&(B=this._container.clientWidth||400,J=this._container.clientHeight||300),[B,J]},b.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},b.prototype._setupContainer=function(){var B=this._container;B.classList.add("mapboxgl-map"),(this._missingCSSCanary=P.create("div","mapboxgl-canary",B)).style.visibility="hidden",this._detectMissingCSS();var J=this._canvasContainer=P.create("div","mapboxgl-canvas-container",B);this._interactive&&J.classList.add("mapboxgl-interactive"),this._canvas=P.create("canvas","mapboxgl-canvas",J),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var st=this._containerDimensions();this._resizeCanvas(st[0],st[1]);var dt=this._controlContainer=P.create("div","mapboxgl-control-container",B),Pt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(zt){Pt[zt]=P.create("div","mapboxgl-ctrl-"+zt,dt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},b.prototype._resizeCanvas=function(B,J){var st=n.browser.devicePixelRatio||1;this._canvas.width=st*B,this._canvas.height=st*J,this._canvas.style.width=B+"px",this._canvas.style.height=J+"px"},b.prototype._setupPainter=function(){var B=n.extend({},D.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),J=this._canvas.getContext("webgl",B)||this._canvas.getContext("experimental-webgl",B);J?(this.painter=new si(J,this.transform),n.webpSupported.testSupport(J)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))},b.prototype._contextLost=function(B){B.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:B}))},b.prototype._contextRestored=function(B){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:B}))},b.prototype._onMapScroll=function(B){if(B.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},b.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},b.prototype._update=function(B){return this.style?(this._styleDirty=this._styleDirty||B,this._sourcesDirty=!0,this.triggerRepaint(),this):this},b.prototype._requestRenderFrame=function(B){return this._update(),this._renderTaskQueue.add(B)},b.prototype._cancelRenderFrame=function(B){this._renderTaskQueue.remove(B)},b.prototype._render=function(B){var J,st=this,dt=0,Pt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(J=Pt.createQueryEXT(),Pt.beginQueryEXT(Pt.TIME_ELAPSED_EXT,J),dt=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(B),!this._removed){var zt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Zt=this.transform.zoom,he=n.browser.now();this.style.zoomHistory.update(Zt,he);var de=new n.EvaluationParameters(Zt,{now:he,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ve=de.crossFadingFactor();1===ve&&ve===this._crossFadingFactor||(zt=!0,this._crossFadingFactor=ve),this.style.update(de)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||zt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Ce=n.browser.now()-dt;Pt.endQueryEXT(Pt.TIME_ELAPSED_EXT,J),setTimeout(function(){var we=Pt.getQueryObjectEXT(J,Pt.QUERY_RESULT_EXT)/1e6;Pt.deleteQueryEXT(J),st.fire(new n.Event("gpu-timing-frame",{cpuTime:Ce,gpuTime:we}))},50)}if(this.listens("gpu-timing-layer")){var Pe=this.painter.collectGpuTimers();setTimeout(function(){var we=st.painter.queryGpuTimers(Pe);st.fire(new n.Event("gpu-timing-layer",{layerTimes:we}))},50)}var Be=this._sourcesDirty||this._styleDirty||this._placementDirty;return Be||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new n.Event("idle")),!this._loaded||this._fullyLoaded||Be||(this._fullyLoaded=!0),this}},b.prototype.remove=function(){this._hash&&this._hash.remove();for(var B=0,J=this._controls;B<J.length;B+=1)J[B].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==n.window&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var st=this.painter.context.gl.getExtension("WEBGL_lose_context");st&&st.loseContext(),Ba(this._canvasContainer),Ba(this._controlContainer),Ba(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},b.prototype.triggerRepaint=function(){var B=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(J){B._frame=null,B._render(J)}))},b.prototype._onWindowOnline=function(){this._update()},b.prototype._onWindowResize=function(B){this._trackResize&&this.resize({originalEvent:B})._update()},v.showTileBoundaries.get=function(){return!!this._showTileBoundaries},v.showTileBoundaries.set=function(B){this._showTileBoundaries!==B&&(this._showTileBoundaries=B,this._update())},v.showPadding.get=function(){return!!this._showPadding},v.showPadding.set=function(B){this._showPadding!==B&&(this._showPadding=B,this._update())},v.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},v.showCollisionBoxes.set=function(B){this._showCollisionBoxes!==B&&(this._showCollisionBoxes=B,B?this.style._generateCollisionBoxes():this._update())},v.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},v.showOverdrawInspector.set=function(B){this._showOverdrawInspector!==B&&(this._showOverdrawInspector=B,this._update())},v.repaint.get=function(){return!!this._repaint},v.repaint.set=function(B){this._repaint!==B&&(this._repaint=B,this.triggerRepaint())},v.vertices.get=function(){return!!this._vertices},v.vertices.set=function(B){this._vertices=B,this._update()},b.prototype._setCacheLimits=function(B,J){n.setCacheLimits(B,J)},v.version.get=function(){return n.version},Object.defineProperties(b.prototype,v),b}(Sa);function Ba(g){g.parentNode&&g.parentNode.removeChild(g)}var Jl={showCompass:!0,showZoom:!0,visualizePitch:!1},ga=function(g){var b=this;this.options=n.extend({},Jl,g),this._container=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(v){return v.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(v){return b._map.zoomIn({},{originalEvent:v})}),P.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(v){return b._map.zoomOut({},{originalEvent:v})}),P.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(v){b.options.visualizePitch?b._map.resetNorthPitch({},{originalEvent:v}):b._map.resetNorth({},{originalEvent:v})}),this._compassIcon=P.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ga.prototype._updateZoomButtons=function(){var g=this._map.getZoom(),b=g===this._map.getMaxZoom(),v=g===this._map.getMinZoom();this._zoomInButton.disabled=b,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",b.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},ga.prototype._rotateCompassArrow=function(){var g=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=g},ga.prototype.onAdd=function(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new js(this._map,this._compass,this.options.visualizePitch)),this._container},ga.prototype.onRemove=function(){P.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ga.prototype._createButton=function(g,b){var v=P.create("button",g,this._container);return v.type="button",v.addEventListener("click",b),v},ga.prototype._setButtonTitle=function(g,b){var v=this._map._getUIString("NavigationControl."+b);g.title=v,g.setAttribute("aria-label",v)};var js=function(g,b,v){void 0===v&&(v=!1),this._clickTolerance=10,this.element=b,this.mouseRotate=new Ds({clickTolerance:g.dragRotate._mouseRotate._clickTolerance}),this.map=g,v&&(this.mousePitch=new aa({clickTolerance:g.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),P.addEventListener(b,"mousedown",this.mousedown),P.addEventListener(b,"touchstart",this.touchstart,{passive:!1}),P.addEventListener(b,"touchmove",this.touchmove),P.addEventListener(b,"touchend",this.touchend),P.addEventListener(b,"touchcancel",this.reset)};function Za(g,b,v){if(g=new n.LngLat(g.lng,g.lat),b){var B=new n.LngLat(g.lng-360,g.lat),J=new n.LngLat(g.lng+360,g.lat),st=v.locationPoint(g).distSqr(b);v.locationPoint(B).distSqr(b)<st?g=B:v.locationPoint(J).distSqr(b)<st&&(g=J)}for(;Math.abs(g.lng-v.center.lng)>180;){var dt=v.locationPoint(g);if(dt.x>=0&&dt.y>=0&&dt.x<=v.width&&dt.y<=v.height)break;g.lng>v.center.lng?g.lng-=360:g.lng+=360}return g}js.prototype.down=function(g,b){this.mouseRotate.mousedown(g,b),this.mousePitch&&this.mousePitch.mousedown(g,b),P.disableDrag()},js.prototype.move=function(g,b){var v=this.map,B=this.mouseRotate.mousemoveWindow(g,b);if(B&&B.bearingDelta&&v.setBearing(v.getBearing()+B.bearingDelta),this.mousePitch){var J=this.mousePitch.mousemoveWindow(g,b);J&&J.pitchDelta&&v.setPitch(v.getPitch()+J.pitchDelta)}},js.prototype.off=function(){var g=this.element;P.removeEventListener(g,"mousedown",this.mousedown),P.removeEventListener(g,"touchstart",this.touchstart,{passive:!1}),P.removeEventListener(g,"touchmove",this.touchmove),P.removeEventListener(g,"touchend",this.touchend),P.removeEventListener(g,"touchcancel",this.reset),this.offTemp()},js.prototype.offTemp=function(){P.enableDrag(),P.removeEventListener(n.window,"mousemove",this.mousemove),P.removeEventListener(n.window,"mouseup",this.mouseup)},js.prototype.mousedown=function(g){this.down(n.extend({},g,{ctrlKey:!0,preventDefault:function(){return g.preventDefault()}}),P.mousePos(this.element,g)),P.addEventListener(n.window,"mousemove",this.mousemove),P.addEventListener(n.window,"mouseup",this.mouseup)},js.prototype.mousemove=function(g){this.move(g,P.mousePos(this.element,g))},js.prototype.mouseup=function(g){this.mouseRotate.mouseupWindow(g),this.mousePitch&&this.mousePitch.mouseupWindow(g),this.offTemp()},js.prototype.touchstart=function(g){1!==g.targetTouches.length?this.reset():(this._startPos=this._lastPos=P.touchPos(this.element,g.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return g.preventDefault()}},this._startPos))},js.prototype.touchmove=function(g){1!==g.targetTouches.length?this.reset():(this._lastPos=P.touchPos(this.element,g.targetTouches)[0],this.move({preventDefault:function(){return g.preventDefault()}},this._lastPos))},js.prototype.touchend=function(g){0===g.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},js.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var ca={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function xl(g,b,v){var B=g.classList;for(var J in ca)B.remove("mapboxgl-"+v+"-anchor-"+J);B.add("mapboxgl-"+v+"-anchor-"+b)}var qa,al=function(g){function b(v,B){if(g.call(this),(v instanceof n.window.HTMLElement||B)&&(v=n.extend({element:v},B)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=v&&v.anchor||"center",this._color=v&&v.color||"#3FB1CE",this._scale=v&&v.scale||1,this._draggable=v&&v.draggable||!1,this._clickTolerance=v&&v.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=v&&v.rotation||0,this._rotationAlignment=v&&v.rotationAlignment||"auto",this._pitchAlignment=v&&v.pitchAlignment&&"auto"!==v.pitchAlignment?v.pitchAlignment:this._rotationAlignment,v&&v.element)this._element=v.element,this._offset=n.Point.convert(v&&v.offset||[0,0]);else{this._defaultMarker=!0,this._element=P.create("div"),this._element.setAttribute("aria-label","Map marker");var J=P.createNS("http://www.w3.org/2000/svg","svg");J.setAttributeNS(null,"display","block"),J.setAttributeNS(null,"height","41px"),J.setAttributeNS(null,"width","27px"),J.setAttributeNS(null,"viewBox","0 0 27 41");var st=P.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"stroke","none"),st.setAttributeNS(null,"stroke-width","1"),st.setAttributeNS(null,"fill","none"),st.setAttributeNS(null,"fill-rule","evenodd");var dt=P.createNS("http://www.w3.org/2000/svg","g");dt.setAttributeNS(null,"fill-rule","nonzero");var Pt=P.createNS("http://www.w3.org/2000/svg","g");Pt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Pt.setAttributeNS(null,"fill","#000000");for(var zt=0,Zt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];zt<Zt.length;zt+=1){var he=Zt[zt],de=P.createNS("http://www.w3.org/2000/svg","ellipse");de.setAttributeNS(null,"opacity","0.04"),de.setAttributeNS(null,"cx","10.5"),de.setAttributeNS(null,"cy","5.80029008"),de.setAttributeNS(null,"rx",he.rx),de.setAttributeNS(null,"ry",he.ry),Pt.appendChild(de)}var ve=P.createNS("http://www.w3.org/2000/svg","g");ve.setAttributeNS(null,"fill",this._color);var Ce=P.createNS("http://www.w3.org/2000/svg","path");Ce.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ve.appendChild(Ce);var Pe=P.createNS("http://www.w3.org/2000/svg","g");Pe.setAttributeNS(null,"opacity","0.25"),Pe.setAttributeNS(null,"fill","#000000");var Be=P.createNS("http://www.w3.org/2000/svg","path");Be.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Pe.appendChild(Be);var we=P.createNS("http://www.w3.org/2000/svg","g");we.setAttributeNS(null,"transform","translate(6.0, 7.0)"),we.setAttributeNS(null,"fill","#FFFFFF");var Re=P.createNS("http://www.w3.org/2000/svg","g");Re.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Ge=P.createNS("http://www.w3.org/2000/svg","circle");Ge.setAttributeNS(null,"fill","#000000"),Ge.setAttributeNS(null,"opacity","0.25"),Ge.setAttributeNS(null,"cx","5.5"),Ge.setAttributeNS(null,"cy","5.5"),Ge.setAttributeNS(null,"r","5.4999962");var hi=P.createNS("http://www.w3.org/2000/svg","circle");hi.setAttributeNS(null,"fill","#FFFFFF"),hi.setAttributeNS(null,"cx","5.5"),hi.setAttributeNS(null,"cy","5.5"),hi.setAttributeNS(null,"r","5.4999962"),Re.appendChild(Ge),Re.appendChild(hi),dt.appendChild(Pt),dt.appendChild(ve),dt.appendChild(Pe),dt.appendChild(we),dt.appendChild(Re),J.appendChild(dt),J.setAttributeNS(null,"height",41*this._scale+"px"),J.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(J),this._offset=n.Point.convert(v&&v.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Ci){Ci.preventDefault()}),this._element.addEventListener("mousedown",function(Ci){Ci.preventDefault()}),xl(this._element,this._anchor,"marker"),this._popup=null}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.addTo=function(v){return this.remove(),this._map=v,v.getCanvasContainer().appendChild(this._element),v.on("move",this._update),v.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},b.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),P.remove(this._element),this._popup&&this._popup.remove(),this},b.prototype.getLngLat=function(){return this._lngLat},b.prototype.setLngLat=function(v){return this._lngLat=n.LngLat.convert(v),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},b.prototype.getElement=function(){return this._element},b.prototype.setPopup=function(v){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),v){if(!("offset"in v.options)){var B=Math.sqrt(Math.pow(13.5,2)/2);v.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[B,-1*(24.6+B)],"bottom-right":[-B,-1*(24.6+B)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=v,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},b.prototype._onKeyPress=function(v){var B=v.code,J=v.charCode||v.keyCode;"Space"!==B&&"Enter"!==B&&32!==J&&13!==J||this.togglePopup()},b.prototype._onMapClick=function(v){var B=v.originalEvent.target,J=this._element;this._popup&&(B===J||J.contains(B))&&this.togglePopup()},b.prototype.getPopup=function(){return this._popup},b.prototype.togglePopup=function(){var v=this._popup;return v?(v.isOpen()?v.remove():v.addTo(this._map),this):this},b.prototype._update=function(v){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Za(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var B="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?B="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(B="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var J="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?J="rotateX(0deg)":"map"===this._pitchAlignment&&(J="rotateX("+this._map.getPitch()+"deg)"),v&&"moveend"!==v.type||(this._pos=this._pos.round()),P.setTransform(this._element,ca[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+J+" "+B)}},b.prototype.getOffset=function(){return this._offset},b.prototype.setOffset=function(v){return this._offset=n.Point.convert(v),this._update(),this},b.prototype._onMove=function(v){if(!this._isDragging){var B=this._clickTolerance||this._map._clickTolerance;this._isDragging=v.point.dist(this._pointerdownPos)>=B}this._isDragging&&(this._pos=v.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))},b.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new n.Event("dragend")),this._state="inactive"},b.prototype._addDragHandler=function(v){this._element.contains(v.originalEvent.target)&&(v.preventDefault(),this._positionDelta=v.point.sub(this._pos).add(this._offset),this._pointerdownPos=v.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},b.prototype.setDraggable=function(v){return this._draggable=!!v,this._map&&(v?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},b.prototype.isDraggable=function(){return this._draggable},b.prototype.setRotation=function(v){return this._rotation=v||0,this._update(),this},b.prototype.getRotation=function(){return this._rotation},b.prototype.setRotationAlignment=function(v){return this._rotationAlignment=v||"auto",this._update(),this},b.prototype.getRotationAlignment=function(){return this._rotationAlignment},b.prototype.setPitchAlignment=function(v){return this._pitchAlignment=v&&"auto"!==v?v:this._rotationAlignment,this._update(),this},b.prototype.getPitchAlignment=function(){return this._pitchAlignment},b}(n.Evented),$l={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ka=0,za=!1,Ql=function(g){function b(v){g.call(this),this.options=n.extend({},$l,v),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.onAdd=function(v){var B;return this._map=v,this._container=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),B=this._setupUI,void 0!==qa?B(qa):void 0!==n.window.navigator.permissions?n.window.navigator.permissions.query({name:"geolocation"}).then(function(J){B(qa="denied"!==J.state)}):B(qa=!!n.window.navigator.geolocation),this._container},b.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),P.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ka=0,za=!1},b.prototype._isOutOfMapMaxBounds=function(v){var B=this._map.getMaxBounds(),J=v.coords;return B&&(J.longitude<B.getWest()||J.longitude>B.getEast()||J.latitude<B.getSouth()||J.latitude>B.getNorth())},b.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},b.prototype._onSuccess=function(v){if(this._map){if(this._isOutOfMapMaxBounds(v))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",v)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=v,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(v),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(v),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",v)),this._finish()}},b.prototype._updateCamera=function(v){var B=new n.LngLat(v.coords.longitude,v.coords.latitude),J=v.coords.accuracy,st=this._map.getBearing(),dt=n.extend({bearing:st},this.options.fitBoundsOptions);this._map.fitBounds(B.toBounds(J),dt,{geolocateSource:!0})},b.prototype._updateMarker=function(v){if(v){var B=new n.LngLat(v.coords.longitude,v.coords.latitude);this._accuracyCircleMarker.setLngLat(B).addTo(this._map),this._userLocationDotMarker.setLngLat(B).addTo(this._map),this._accuracy=v.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},b.prototype._updateCircleRadius=function(){var v=this._map._container.clientHeight/2,B=this._map.unproject([0,v]),J=this._map.unproject([1,v]),st=B.distanceTo(J),dt=Math.ceil(2*this._accuracy/st);this._circleElement.style.width=dt+"px",this._circleElement.style.height=dt+"px"},b.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},b.prototype._onError=function(v){if(this._map){if(this.options.trackUserLocation)if(1===v.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var B=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=B,this._geolocateButton.setAttribute("aria-label",B),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===v.code&&za)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",v)),this._finish()}},b.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},b.prototype._setupUI=function(v){var B=this;if(this._container.addEventListener("contextmenu",function(dt){return dt.preventDefault()}),this._geolocateButton=P.create("button","mapboxgl-ctrl-geolocate",this._container),P.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===v){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var J=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=J,this._geolocateButton.setAttribute("aria-label",J)}else{var st=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=st,this._geolocateButton.setAttribute("aria-label",st)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=P.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new al(this._dotElement),this._circleElement=P.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new al({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(dt){dt.geolocateSource||"ACTIVE_LOCK"!==B._watchState||dt.originalEvent&&"resize"===dt.originalEvent.type||(B._watchState="BACKGROUND",B._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),B._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),B.fire(new n.Event("trackuserlocationend")))})},b.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ka--,za=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var v;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ka>1?(v={maximumAge:6e5,timeout:0},za=!0):(v=this.options.positionOptions,za=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,v)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},b.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},b}(n.Evented),Pa={maxWidth:100,unit:"metric"},Ca=function(g){this.options=n.extend({},Pa,g),n.bindAll(["_onMove","setUnit"],this)};function bl(g,b,v){var B=v&&v.maxWidth||100,J=g._container.clientHeight/2,st=g.unproject([0,J]),dt=g.unproject([B,J]),Pt=st.distanceTo(dt);if(v&&"imperial"===v.unit){var zt=3.2808*Pt;zt>5280?Aa(b,B,zt/5280,g._getUIString("ScaleControl.Miles")):Aa(b,B,zt,g._getUIString("ScaleControl.Feet"))}else v&&"nautical"===v.unit?Aa(b,B,Pt/1852,g._getUIString("ScaleControl.NauticalMiles")):Pt>=1e3?Aa(b,B,Pt/1e3,g._getUIString("ScaleControl.Kilometers")):Aa(b,B,Pt,g._getUIString("ScaleControl.Meters"))}function Aa(g,b,v,B){var J,st,dt,zt,Zt,Pt=(J=v,(st=Math.pow(10,(""+Math.floor(J)).length-1))*(dt=(dt=J/st)>=10?10:dt>=5?5:dt>=3?3:dt>=2?2:dt>=1?1:(zt=dt,Zt=Math.pow(10,Math.ceil(-Math.log(zt)/Math.LN10)),Math.round(zt*Zt)/Zt)));g.style.width=b*(Pt/v)+"px",g.innerHTML=Pt+"&nbsp;"+B}Ca.prototype.getDefaultPosition=function(){return"bottom-left"},Ca.prototype._onMove=function(){bl(this._map,this._container,this.options)},Ca.prototype.onAdd=function(g){return this._map=g,this._container=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",g.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ca.prototype.onRemove=function(){P.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ca.prototype.setUnit=function(g){this.options.unit=g,bl(this._map,this._container,this.options)};var ta=function(g){this._fullscreen=!1,g&&g.container&&(g.container instanceof n.window.HTMLElement?this._container=g.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};ta.prototype.onAdd=function(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ta.prototype.onRemove=function(){P.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ta.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},ta.prototype._setupUI=function(){var g=this._fullscreenButton=P.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);P.create("span","mapboxgl-ctrl-icon",g).setAttribute("aria-hidden",!0),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ta.prototype._updateTitle=function(){var g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.title=g},ta.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ta.prototype._isFullscreen=function(){return this._fullscreen},ta.prototype._changeIcon=function(){(n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ta.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var th={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ll=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),eh=function(g){function b(v){g.call(this),this.options=n.extend(Object.create(th),v),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return g&&(b.__proto__=g),(b.prototype=Object.create(g&&g.prototype)).constructor=b,b.prototype.addTo=function(v){return this._map&&this.remove(),this._map=v,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},b.prototype.isOpen=function(){return!!this._map},b.prototype.remove=function(){return this._content&&P.remove(this._content),this._container&&(P.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},b.prototype.getLngLat=function(){return this._lngLat},b.prototype.setLngLat=function(v){return this._lngLat=n.LngLat.convert(v),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},b.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},b.prototype.getElement=function(){return this._container},b.prototype.setText=function(v){return this.setDOMContent(n.window.document.createTextNode(v))},b.prototype.setHTML=function(v){var B,J=n.window.document.createDocumentFragment(),st=n.window.document.createElement("body");for(st.innerHTML=v;B=st.firstChild;)J.appendChild(B);return this.setDOMContent(J)},b.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},b.prototype.setMaxWidth=function(v){return this.options.maxWidth=v,this._update(),this},b.prototype.setDOMContent=function(v){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=P.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(v),this._createCloseButton(),this._update(),this._focusFirstElement(),this},b.prototype.addClassName=function(v){this._container&&this._container.classList.add(v)},b.prototype.removeClassName=function(v){this._container&&this._container.classList.remove(v)},b.prototype.setOffset=function(v){return this.options.offset=v,this._update(),this},b.prototype.toggleClassName=function(v){if(this._container)return this._container.classList.toggle(v)},b.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=P.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},b.prototype._onMouseUp=function(v){this._update(v.point)},b.prototype._onMouseMove=function(v){this._update(v.point)},b.prototype._onDrag=function(v){this._update(v.point)},b.prototype._update=function(v){var B=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=P.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=P.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(de){return B._container.classList.add(de)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Za(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||v)){var J=this._pos=this._trackPointer&&v?v:this._map.project(this._lngLat),st=this.options.anchor,dt=function de(ve){if(ve){if("number"==typeof ve){var Ce=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new n.Point(0,0),top:new n.Point(0,ve),"top-left":new n.Point(Ce,Ce),"top-right":new n.Point(-Ce,Ce),bottom:new n.Point(0,-ve),"bottom-left":new n.Point(Ce,-Ce),"bottom-right":new n.Point(-Ce,-Ce),left:new n.Point(ve,0),right:new n.Point(-ve,0)}}if(ve instanceof n.Point||Array.isArray(ve)){var Pe=n.Point.convert(ve);return{center:Pe,top:Pe,"top-left":Pe,"top-right":Pe,bottom:Pe,"bottom-left":Pe,"bottom-right":Pe,left:Pe,right:Pe}}return{center:n.Point.convert(ve.center||[0,0]),top:n.Point.convert(ve.top||[0,0]),"top-left":n.Point.convert(ve["top-left"]||[0,0]),"top-right":n.Point.convert(ve["top-right"]||[0,0]),bottom:n.Point.convert(ve.bottom||[0,0]),"bottom-left":n.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(ve["bottom-right"]||[0,0]),left:n.Point.convert(ve.left||[0,0]),right:n.Point.convert(ve.right||[0,0])}}return de(new n.Point(0,0))}(this.options.offset);if(!st){var Pt,zt=this._container.offsetWidth,Zt=this._container.offsetHeight;Pt=J.y+dt.bottom.y<Zt?["top"]:J.y>this._map.transform.height-Zt?["bottom"]:[],J.x<zt/2?Pt.push("left"):J.x>this._map.transform.width-zt/2&&Pt.push("right"),st=0===Pt.length?"bottom":Pt.join("-")}var he=J.add(dt[st]).round();P.setTransform(this._container,ca[st]+" translate("+he.x+"px,"+he.y+"px)"),xl(this._container,st,"popup")}},b.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var v=this._container.querySelector(ll);v&&v.focus()}},b.prototype._onClose=function(){this.remove()},b}(n.Evented),wl={version:n.version,supported:D,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:Ah,NavigationControl:ga,GeolocateControl:Ql,AttributionControl:ss,ScaleControl:Ca,FullscreenControl:ta,Popup:eh,Marker:al,Style:pn,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:function(){Xe().acquire(ue)},clearPrewarmedResources:function(){var g=De;g&&(g.isPreloaded()&&1===g.numActive()?(g.release(ue),De=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(g){n.config.ACCESS_TOKEN=g},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(g){n.config.API_URL=g},get workerCount(){return Ye.workerCount},set workerCount(g){Ye.workerCount=g},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(g){n.config.MAX_PARALLEL_IMAGE_REQUESTS=g},clearStorage:function(g){n.clearTileCache(g)},workerUrl:""};return wl}),I}();var F=z.exports,N=e.Layer.extend({options:{updateInterval:32,padding:.1,interactive:!1,opacity:1},initialize:function(d){e.setOptions(this,d),this._throttledUpdate=e.Util.throttle(this._update,this.options.updateInterval,this)},onAdd:function(d){this._container||this._initContainer(),this.getPane().appendChild(this._container),this._initGL(),this._offset=this._map.containerPointToLayerPoint([0,0]),d.options.zoomAnimation&&e.DomEvent.on(d._proxy,e.DomUtil.TRANSITION_END,this._transitionEnd,this)},onRemove:function(d){this._map._proxy&&this._map.options.zoomAnimation&&e.DomEvent.off(this._map._proxy,e.DomUtil.TRANSITION_END,this._transitionEnd,this),this.getPane().removeChild(this._container),this._glMap.remove(),this._glMap=null},getEvents:function(){return{move:this._throttledUpdate,zoomanim:this._animateZoom,zoom:this._pinchZoom,zoomstart:this._zoomStart,zoomend:this._zoomEnd}},getMapboxMap:function(){return this._glMap},getCanvas:function(){return this._glMap.getCanvas()},getSize:function(){return this._map.getSize().multiplyBy(1+2*this.options.padding)},getOpacity:function(){return this.options.opacity},setOpacity:function(d){this.options.opacity=d,this._container.style.opacity=d},getBounds:function(){var d=this.getSize().multiplyBy(.5),_=this._map.latLngToContainerPoint(this._map.getCenter());return e.latLngBounds(this._map.containerPointToLatLng(_.subtract(d)),this._map.containerPointToLatLng(_.add(d)))},getContainer:function(){return this._container},_initContainer:function(){var d=this._container=e.DomUtil.create("div","leaflet-gl-layer"),_=this.getSize(),w=this._map.getSize().multiplyBy(this.options.padding);d.style.width=_.x+"px",d.style.height=_.y+"px",d.style.position="absolute",d.style.opacity=this.options.opacity;var x=this._map.containerPointToLayerPoint([0,0]).subtract(w);e.DomUtil.setPosition(d,x)},_initGL:function(){var d=this._map.getCenter(),_=e.extend({},this.options,{container:this._container,center:[d.lng,d.lat],zoom:this._map.getZoom()-1,attributionControl:!1});this._glMap=new F.Map(_),this._glMap.once("styledata",function(x){this.fire("styleLoaded")}.bind(this)),this._glMap.transform.latRange=null,this._glMap.transform.maxValidLatitude=1/0,this._transformGL(this._glMap),this._glMap._actualCanvas=this._glMap._canvas.canvas?this._glMap._canvas.canvas:this._glMap._canvas;var w=this._glMap._actualCanvas;e.DomUtil.addClass(w,"leaflet-image-layer"),e.DomUtil.addClass(w,"leaflet-zoom-animated"),this.options.interactive&&e.DomUtil.addClass(w,"leaflet-interactive"),this.options.className&&e.DomUtil.addClass(w,this.options.className)},_update:function(d){if(this._offset=this._map.containerPointToLayerPoint([0,0]),!this._zooming){var _=this.getSize(),w=this._container,x=this._glMap,I=this._map.getSize().multiplyBy(this.options.padding),h=this._map.containerPointToLayerPoint([0,0]).subtract(I);e.DomUtil.setPosition(w,h),this._transformGL(x),x.transform.width!==_.x||x.transform.height!==_.y?(w.style.width=_.x+"px",w.style.height=_.y+"px",null!=x._resize?x._resize():x.resize()):null!=x._update?x._update():x.update()}},_transformGL:function(d){var _=this._map.getCenter(),w=d.transform;w.center=F.LngLat.convert([_.lng,_.lat]),w.zoom=this._map.getZoom()-1},_pinchZoom:function(d){this._glMap.jumpTo({zoom:this._map.getZoom()-1,center:this._map.getCenter()})},_animateZoom:function(d){var _=this._map.getZoomScale(d.zoom),w=this._map.getSize().multiplyBy(this.options.padding*_),x=this.getSize()._divideBy(2),I=this._map.project(d.center,d.zoom)._subtract(x)._add(this._map._getMapPanePos().add(w))._round(),h=this._map.project(this._map.getBounds().getNorthWest(),d.zoom)._subtract(I);e.DomUtil.setTransform(this._glMap._actualCanvas,h.subtract(this._offset),_)},_zoomStart:function(d){this._zooming=!0},_zoomEnd:function(){var d=this._map.getZoomScale(this._map.getZoom());e.DomUtil.setTransform(this._glMap._actualCanvas,null,d),this._zooming=!1,this._update()},_transitionEnd:function(d){e.Util.requestAnimFrame(function(){var _=this._map.getZoom(),w=this._map.getCenter(),x=this._map.latLngToContainerPoint(this._map.getBounds().getNorthWest());e.DomUtil.setTransform(this._glMap._actualCanvas,x,1),this._glMap.once("moveend",e.Util.bind(function(){this._zoomEnd()},this)),this._glMap.jumpTo({center:w,zoom:_-1})},this)}});function a(d){return new N(d)}var p=e.Layer.extend({options:{key:"ArcGIS:Streets"},initialize:function(d,_){if(_&&e.setOptions(this,_),this.options.apiKey&&(this.options.apikey=this.options.apiKey),this.options.token&&(this.options.apikey=this.options.token),!this.options.apikey&&!this.options.token)throw new Error("API Key or token is required for vectorBasemapLayer.");d&&(this.options.key=d),this._createLayer()},_createLayer:function(){var _,w,x=(w="https://basemaps-api.arcgis.com/arcgis/rest/services/styles/"+this.options.key+"?type=style",(_=this.options.apikey)&&(w=w+"&apiKey="+_),w);this._mapboxGL=a({style:x,pane:this.options.pane,opacity:this.options.opacity}),this._ready=!0,this.fire("ready",{},!0),this._mapboxGL.on("styleLoaded",function(I){this._setupAttribution()}.bind(this))},_setupAttribution:function(){var d=this._map;if(i.Util.setEsriAttribution(d),32===this.options.key.length){var _=this._mapboxGL.getMapboxMap().style.stylesheet.sources,w=[];Object.keys(_).forEach(function(x){w.push(_[x].attribution),_[x].copyrightText&&_[x].copyrightText&&""!==_[x].copyrightText&&_[x].attribution!==_[x].copyrightText&&w.push(_[x].copyrightText)}),d.attributionControl.addAttribution('<span class="">'+w.join(", ")+"</span>")}else if(this.options.attributionUrls||(this.options.attributionUrls=this._getAttributionUrls(this.options.key)),this._map&&this.options.attributionUrls){if(this._map.attributionControl){for(let x=0;x<this.options.attributionUrls.length;x++)G(this.options.attributionUrls[x],d);d.attributionControl.addAttribution('<span class="esri-dynamic-attribution"></span>')}i.Util._updateMapAttribution({target:this._map})}},_getAttributionUrls:function(d){return 0===d.indexOf("OSM:")?["https://static.arcgis.com/attribution/Vector/OpenStreetMap_v2"]:0===d.indexOf("ArcGIS:Imagery")?["https://static.arcgis.com/attribution/World_Imagery","https://static.arcgis.com/attribution/Vector/World_Basemap_v2"]:["https://static.arcgis.com/attribution/Vector/World_Basemap_v2"]},onAdd:function(d){this._map=d,this._initPane(),this._ready?this._asyncAdd():this.once("ready",function(){this._asyncAdd()},this)},_initPane:function(){if(this.options.pane||(this.options.pane=this.options.key.indexOf(":Labels")>-1?"esri-labels":"tilePane"),!this._map.getPane(this.options.pane)){var d=this._map.createPane(this.options.pane);d.style.pointerEvents="none",d.style.zIndex="esri-labels"===this.options.pane?550:500}},onRemove:function(d){if(d.off("moveend",i.Util._updateMapAttribution),d.removeLayer(this._mapboxGL),d.attributionControl){var _=document.getElementsByClassName("esri-dynamic-attribution");_&&_.length>0&&d.attributionControl.removeAttribution(_[0].outerHTML)}},_asyncAdd:function(){var d=this._map;d.on("moveend",i.Util._updateMapAttribution),this._mapboxGL.addTo(d,this)}}),l=e.Layer.extend({options:{pane:"overlayPane",portalUrl:"https://www.arcgis.com"},initialize:function(d,_){if(_&&e.setOptions(this,_),this.options.apiKey&&(this.options.apikey=this.options.apiKey),this.options.apikey&&(this.options.token=this.options.apikey),!d)throw new Error("An ITEM ID or SERVICE URL is required for vectorTileLayer.");d&&(this.options.key=d),this._createLayer()},_createLayer:function(){!function s(d,_,w){var x,I,h,n;/^https?:\/\//.test(d)&&/\/VectorTileServer\/?$/.test(d)?M(d,_,w):(h=w,j(n=(I=_).portalUrl+"/sharing/rest/content/items/"+(x=d)+"/resources/styles/root.json",I,function(D,P){!function T(d,_,w){i.request(_.portalUrl+"/sharing/rest/content/items/"+d,_.token?{token:_.token}:{},w)}(x,I,D?function(E,m){E&&console.error(E),M(m.url,I,h)}:function(E,m){E&&console.error(E),c(m.url,I,function(C,A){h(C,P,n,A,m.url)})})}))}(this.options.key,this.options,function(d,_,w,x){if(d)throw new Error(d);if(Y.indexOf(x.tileInfo.spatialReference.wkid)>=0||console.warn('This layer is not guaranteed to display properly because its service does not use the Web Mercator projection. The "tileInfo.spatialReference" property is:',x.tileInfo.spatialReference,"\nMore information is available at https://docs.mapbox.com/help/glossary/projection/ and https://github.com/Esri/esri-leaflet-vector/issues/94."),_=function(n,D,P,E){for(var m=Object.keys(n.sources),C=0;C<m.length;C++){var A=n.sources[m[C]];-1===A.url.indexOf("http")&&(A.url=D.replace("/resources/styles/root.json","")),"/"===A.url.charAt(A.url.length-1)&&(A.url=A.url.slice(0,A.url.length-1)),A.tiles||(P.tiles&&"/"!==P.tiles[0].charAt(0)&&(P.tiles[0]="/"+P.tiles[0]),A.tiles=[A.url+P.tiles[0]]),A.url+="?f=json",A.url+=E?"&token="+E:"",A.tiles[0]+=E?"?token="+E:"",A.minzoom=P.tileInfo.lods[0].level,A.maxzoom=P.tileInfo.lods[P.tileInfo.lods.length-1].level}var k=n.sources[m[m.length-1]];k.attribution=P.copyrightText||"",k.copyrightText=P.copyrightText||"";for(var f=0;f<n.layers.length;f++){var o=n.layers[f];o.layout&&o.layout["text-font"]&&o.layout["text-font"].length>1&&(o.layout["text-font"]=[o.layout["text-font"][0]])}return n.sprite&&-1===n.sprite.indexOf("http")&&(n.sprite=D.replace("styles/root.json",n.sprite.replace("../","")),n.sprite+=E?"?token="+E:""),n.glyphs&&-1===n.glyphs.indexOf("http")&&(n.glyphs=D.replace("styles/root.json",n.glyphs.replace("../","")),n.glyphs+=E?"?token="+E:""),n}(_,w,x,this.options.token),!this.getAttribution()){var h=Object.keys(_.sources);this.options.attribution=_.sources[h[h.length-1]].attribution,this._map&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution())}this.options.style&&"function"==typeof this.options.style&&(_=this.options.style(_)),this._mapboxGL=a({style:_,pane:this.options.pane,opacity:this.options.opacity}),this._ready=!0,this.fire("ready",{},!0)}.bind(this))},onAdd:function(d){this._map=d,this._ready?this._asyncAdd():this.once("ready",function(){this._asyncAdd()},this)},onRemove:function(d){d.removeLayer(this._mapboxGL)},_asyncAdd:function(){this._mapboxGL.addTo(this._map,this)}});S.VERSION="3.1.5",S.VectorBasemapLayer=p,S.VectorTileLayer=l,S.vectorBasemapLayer=function(d,_){return new p(d,_)},S.vectorTileLayer=function(d,_){return new l(d,_)},Object.defineProperty(S,"__esModule",{value:!0})}),function(S,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=S.document?e(S,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}:e(S)}(typeof window<"u"?window:this,function(S,e){"use strict";var i=[],s=Object.getPrototypeOf,c=i.slice,T=i.flat?function($){return i.flat.call($)}:function($){return i.concat.apply([],$)},M=i.push,j=i.indexOf,G={},Y=G.toString,z=G.hasOwnProperty,F=z.toString,N=F.call(Object),a={},p=function($){return"function"==typeof $&&"number"!=typeof $.nodeType&&"function"!=typeof $.item},l=function($){return null!=$&&$===$.window},d=S.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function w($,mt,At){var Dt,qt,le=(At=At||d).createElement("script");if(le.text=$,mt)for(Dt in _)(qt=mt[Dt]||mt.getAttribute&&mt.getAttribute(Dt))&&le.setAttribute(Dt,qt);At.head.appendChild(le).parentNode.removeChild(le)}function x($){return null==$?$+"":"object"==typeof $||"function"==typeof $?G[Y.call($)]||"object":typeof $}var I="3.6.1",h=function($,mt){return new h.fn.init($,mt)};function n($){var mt=!!$&&"length"in $&&$.length,At=x($);return!p($)&&!l($)&&("array"===At||0===mt||"number"==typeof mt&&0<mt&&mt-1 in $)}h.fn=h.prototype={jquery:I,constructor:h,length:0,toArray:function(){return c.call(this)},get:function($){return null==$?c.call(this):$<0?this[$+this.length]:this[$]},pushStack:function($){var mt=h.merge(this.constructor(),$);return mt.prevObject=this,mt},each:function($){return h.each(this,$)},map:function($){return this.pushStack(h.map(this,function(mt,At){return $.call(mt,At,mt)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(h.grep(this,function($,mt){return(mt+1)%2}))},odd:function(){return this.pushStack(h.grep(this,function($,mt){return mt%2}))},eq:function($){var mt=this.length,At=+$+($<0?mt:0);return this.pushStack(0<=At&&At<mt?[this[At]]:[])},end:function(){return this.prevObject||this.constructor()},push:M,sort:i.sort,splice:i.splice},h.extend=h.fn.extend=function(){var $,mt,At,Dt,qt,le,ye=arguments[0]||{},je=1,ze=arguments.length,ni=!1;for("boolean"==typeof ye&&(ni=ye,ye=arguments[je]||{},je++),"object"==typeof ye||p(ye)||(ye={}),je===ze&&(ye=this,je--);je<ze;je++)if(null!=($=arguments[je]))for(mt in $)Dt=$[mt],"__proto__"!==mt&&ye!==Dt&&(ni&&Dt&&(h.isPlainObject(Dt)||(qt=Array.isArray(Dt)))?(At=ye[mt],le=qt&&!Array.isArray(At)?[]:qt||h.isPlainObject(At)?At:{},qt=!1,ye[mt]=h.extend(ni,le,Dt)):void 0!==Dt&&(ye[mt]=Dt));return ye},h.extend({expando:"jQuery"+(I+Math.random()).replace(/\D/g,""),isReady:!0,error:function($){throw new Error($)},noop:function(){},isPlainObject:function($){var mt,At;return!(!$||"[object Object]"!==Y.call($)||(mt=s($))&&("function"!=typeof(At=z.call(mt,"constructor")&&mt.constructor)||F.call(At)!==N))},isEmptyObject:function($){var mt;for(mt in $)return!1;return!0},globalEval:function($,mt,At){w($,{nonce:mt&&mt.nonce},At)},each:function($,mt){var At,Dt=0;if(n($))for(At=$.length;Dt<At&&!1!==mt.call($[Dt],Dt,$[Dt]);Dt++);else for(Dt in $)if(!1===mt.call($[Dt],Dt,$[Dt]))break;return $},makeArray:function($,mt){var At=mt||[];return null!=$&&(n(Object($))?h.merge(At,"string"==typeof $?[$]:$):M.call(At,$)),At},inArray:function($,mt,At){return null==mt?-1:j.call(mt,$,At)},merge:function($,mt){for(var At=+mt.length,Dt=0,qt=$.length;Dt<At;Dt++)$[qt++]=mt[Dt];return $.length=qt,$},grep:function($,mt,At){for(var Dt=[],qt=0,le=$.length,ye=!At;qt<le;qt++)!mt($[qt],qt)!==ye&&Dt.push($[qt]);return Dt},map:function($,mt,At){var Dt,qt,le=0,ye=[];if(n($))for(Dt=$.length;le<Dt;le++)null!=(qt=mt($[le],le,At))&&ye.push(qt);else for(le in $)null!=(qt=mt($[le],le,At))&&ye.push(qt);return T(ye)},guid:1,support:a}),"function"==typeof Symbol&&(h.fn[Symbol.iterator]=i[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function($,mt){G["[object "+mt+"]"]=mt.toLowerCase()});var D=function($){var mt,At,Dt,qt,le,ye,je,ze,ni,Si,Ei,mi,ci,pn,fn,wt,Ht,me,xe,Me="sizzle"+1*new Date,Ee=$.document,Ze=0,Ne=0,_i=Dn(),vi=Dn(),Ki=Dn(),ln=Dn(),Mn=function(_e,Ue){return _e===Ue&&(Ei=!0),0},mr={}.hasOwnProperty,Un=[],Dr=Un.pop,vr=Un.push,_r=Un.push,Qr=Un.slice,hr=function(_e,Ue){for(var ri=0,Ui=_e.length;ri<Ui;ri++)if(_e[ri]===Ue)return ri;return-1},Wr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Vn="[\\x20\\t\\r\\n\\f]",xr="(?:\\\\[\\da-fA-F]{1,6}"+Vn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Vr="\\["+Vn+"*("+xr+")(?:"+Vn+"*([*^$|!~]?=)"+Vn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+xr+"))|)"+Vn+"*\\]",Co=":("+xr+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Vr+")*)|.*)\\)|)",ro=new RegExp(Vn+"+","g"),cr=new RegExp("^"+Vn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Vn+"+$","g"),Gs=new RegExp("^"+Vn+"*,"+Vn+"*"),Go=new RegExp("^"+Vn+"*([>+~]|"+Vn+")"+Vn+"*"),is=new RegExp(Vn+"|>"),ks=new RegExp(Co),oa=new RegExp("^"+xr+"$"),Ns={ID:new RegExp("^#("+xr+")"),CLASS:new RegExp("^\\.("+xr+")"),TAG:new RegExp("^("+xr+"|[*])"),ATTR:new RegExp("^"+Vr),PSEUDO:new RegExp("^"+Co),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Vn+"*(even|odd|(([+-]|)(\\d*)n|)"+Vn+"*(?:([+-]|)"+Vn+"*(\\d+)|))"+Vn+"*\\)|)","i"),bool:new RegExp("^(?:"+Wr+")$","i"),needsContext:new RegExp("^"+Vn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Vn+"*((?:-\\d)?\\d*)"+Vn+"*\\)|)(?=[^-]|$)","i")},gs=/HTML$/i,ns=/^(?:input|select|textarea|button)$/i,Hs=/^h\d$/i,y=/^[^{]+\{\s*\[native \w/,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,it=/[+~]/,bt=new RegExp("\\\\[\\da-fA-F]{1,6}"+Vn+"?|\\\\([^\\r\\n\\f])","g"),Bt=function(_e,Ue){var ri="0x"+_e.slice(1)-65536;return Ue||(ri<0?String.fromCharCode(ri+65536):String.fromCharCode(ri>>10|55296,1023&ri|56320))},pe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,qe=function(_e,Ue){return Ue?"\0"===_e?"\ufffd":_e.slice(0,-1)+"\\"+_e.charCodeAt(_e.length-1).toString(16)+" ":"\\"+_e},He=function(){mi()},Bi=Ss(function(_e){return!0===_e.disabled&&"fieldset"===_e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{_r.apply(Un=Qr.call(Ee.childNodes),Ee.childNodes)}catch{_r={apply:Un.length?function(Ue,ri){vr.apply(Ue,Qr.call(ri))}:function(Ue,ri){for(var Ui=Ue.length,fi=0;Ue[Ui++]=ri[fi++];);Ue.length=Ui-1}}}function Di(_e,Ue,ri,Ui){var fi,Wi,sn,dn,Tn,pr,sr,Kn=Ue&&Ue.ownerDocument,Kt=Ue?Ue.nodeType:9;if(ri=ri||[],"string"!=typeof _e||!_e||1!==Kt&&9!==Kt&&11!==Kt)return ri;if(!Ui&&(mi(Ue),Ue=Ue||ci,fn)){if(11!==Kt&&(Tn=V.exec(_e)))if(fi=Tn[1]){if(9===Kt){if(!(sn=Ue.getElementById(fi)))return ri;if(sn.id===fi)return ri.push(sn),ri}else if(Kn&&(sn=Kn.getElementById(fi))&&xe(Ue,sn)&&sn.id===fi)return ri.push(sn),ri}else{if(Tn[2])return _r.apply(ri,Ue.getElementsByTagName(_e)),ri;if((fi=Tn[3])&&At.getElementsByClassName&&Ue.getElementsByClassName)return _r.apply(ri,Ue.getElementsByClassName(fi)),ri}if(At.qsa&&!ln[_e+" "]&&(!wt||!wt.test(_e))&&(1!==Kt||"object"!==Ue.nodeName.toLowerCase())){if(sr=_e,Kn=Ue,1===Kt&&(is.test(_e)||Go.test(_e))){for((Kn=it.test(_e)&&Ws(Ue.parentNode)||Ue)===Ue&&At.scope||((dn=Ue.getAttribute("id"))?dn=dn.replace(pe,qe):Ue.setAttribute("id",dn=Me)),Wi=(pr=ye(_e)).length;Wi--;)pr[Wi]=(dn?"#"+dn:":scope")+" "+ds(pr[Wi]);sr=pr.join(",")}try{return _r.apply(ri,Kn.querySelectorAll(sr)),ri}catch{ln(_e,!0)}finally{dn===Me&&Ue.removeAttribute("id")}}}return ze(_e.replace(cr,"$1"),Ue,ri,Ui)}function Dn(){var _e=[];return function Ue(ri,Ui){return _e.push(ri+" ")>Dt.cacheLength&&delete Ue[_e.shift()],Ue[ri+" "]=Ui}}function rr(_e){return _e[Me]=!0,_e}function Tr(_e){var Ue=ci.createElement("fieldset");try{return!!_e(Ue)}catch{return!1}finally{Ue.parentNode&&Ue.parentNode.removeChild(Ue),Ue=null}}function ho(_e,Ue){for(var ri=_e.split("|"),Ui=ri.length;Ui--;)Dt.attrHandle[ri[Ui]]=Ue}function ys(_e,Ue){var ri=Ue&&_e,Ui=ri&&1===_e.nodeType&&1===Ue.nodeType&&_e.sourceIndex-Ue.sourceIndex;if(Ui)return Ui;if(ri)for(;ri=ri.nextSibling;)if(ri===Ue)return-1;return _e?1:-1}function zo(_e){return function(Ue){return"input"===Ue.nodeName.toLowerCase()&&Ue.type===_e}}function To(_e){return function(Ue){var ri=Ue.nodeName.toLowerCase();return("input"===ri||"button"===ri)&&Ue.type===_e}}function Rs(_e){return function(Ue){return"form"in Ue?Ue.parentNode&&!1===Ue.disabled?"label"in Ue?"label"in Ue.parentNode?Ue.parentNode.disabled===_e:Ue.disabled===_e:Ue.isDisabled===_e||Ue.isDisabled!==!_e&&Bi(Ue)===_e:Ue.disabled===_e:"label"in Ue&&Ue.disabled===_e}}function Fo(_e){return rr(function(Ue){return Ue=+Ue,rr(function(ri,Ui){for(var fi,Wi=_e([],ri.length,Ue),sn=Wi.length;sn--;)ri[fi=Wi[sn]]&&(ri[fi]=!(Ui[fi]=ri[fi]))})})}function Ws(_e){return _e&&typeof _e.getElementsByTagName<"u"&&_e}for(mt in At=Di.support={},le=Di.isXML=function(_e){var ri=_e&&(_e.ownerDocument||_e).documentElement;return!gs.test(_e&&_e.namespaceURI||ri&&ri.nodeName||"HTML")},mi=Di.setDocument=function(_e){var Ue,ri,Ui=_e?_e.ownerDocument||_e:Ee;return Ui!=ci&&9===Ui.nodeType&&Ui.documentElement&&(pn=(ci=Ui).documentElement,fn=!le(ci),Ee!=ci&&(ri=ci.defaultView)&&ri.top!==ri&&(ri.addEventListener?ri.addEventListener("unload",He,!1):ri.attachEvent&&ri.attachEvent("onunload",He)),At.scope=Tr(function(fi){return pn.appendChild(fi).appendChild(ci.createElement("div")),typeof fi.querySelectorAll<"u"&&!fi.querySelectorAll(":scope fieldset div").length}),At.attributes=Tr(function(fi){return fi.className="i",!fi.getAttribute("className")}),At.getElementsByTagName=Tr(function(fi){return fi.appendChild(ci.createComment("")),!fi.getElementsByTagName("*").length}),At.getElementsByClassName=y.test(ci.getElementsByClassName),At.getById=Tr(function(fi){return pn.appendChild(fi).id=Me,!ci.getElementsByName||!ci.getElementsByName(Me).length}),At.getById?(Dt.filter.ID=function(fi){var Wi=fi.replace(bt,Bt);return function(sn){return sn.getAttribute("id")===Wi}},Dt.find.ID=function(fi,Wi){if(typeof Wi.getElementById<"u"&&fn){var sn=Wi.getElementById(fi);return sn?[sn]:[]}}):(Dt.filter.ID=function(fi){var Wi=fi.replace(bt,Bt);return function(sn){var dn=typeof sn.getAttributeNode<"u"&&sn.getAttributeNode("id");return dn&&dn.value===Wi}},Dt.find.ID=function(fi,Wi){if(typeof Wi.getElementById<"u"&&fn){var sn,dn,Tn,pr=Wi.getElementById(fi);if(pr){if((sn=pr.getAttributeNode("id"))&&sn.value===fi)return[pr];for(Tn=Wi.getElementsByName(fi),dn=0;pr=Tn[dn++];)if((sn=pr.getAttributeNode("id"))&&sn.value===fi)return[pr]}return[]}}),Dt.find.TAG=At.getElementsByTagName?function(fi,Wi){return typeof Wi.getElementsByTagName<"u"?Wi.getElementsByTagName(fi):At.qsa?Wi.querySelectorAll(fi):void 0}:function(fi,Wi){var sn,dn=[],Tn=0,pr=Wi.getElementsByTagName(fi);if("*"===fi){for(;sn=pr[Tn++];)1===sn.nodeType&&dn.push(sn);return dn}return pr},Dt.find.CLASS=At.getElementsByClassName&&function(fi,Wi){if(typeof Wi.getElementsByClassName<"u"&&fn)return Wi.getElementsByClassName(fi)},Ht=[],wt=[],(At.qsa=y.test(ci.querySelectorAll))&&(Tr(function(fi){var Wi;pn.appendChild(fi).innerHTML="<a id='"+Me+"'></a><select id='"+Me+"-\r\\' msallowcapture=''><option selected=''></option></select>",fi.querySelectorAll("[msallowcapture^='']").length&&wt.push("[*^$]="+Vn+"*(?:''|\"\")"),fi.querySelectorAll("[selected]").length||wt.push("\\["+Vn+"*(?:value|"+Wr+")"),fi.querySelectorAll("[id~="+Me+"-]").length||wt.push("~="),(Wi=ci.createElement("input")).setAttribute("name",""),fi.appendChild(Wi),fi.querySelectorAll("[name='']").length||wt.push("\\["+Vn+"*name"+Vn+"*="+Vn+"*(?:''|\"\")"),fi.querySelectorAll(":checked").length||wt.push(":checked"),fi.querySelectorAll("a#"+Me+"+*").length||wt.push(".#.+[+~]"),fi.querySelectorAll("\\\f"),wt.push("[\\r\\n\\f]")}),Tr(function(fi){fi.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Wi=ci.createElement("input");Wi.setAttribute("type","hidden"),fi.appendChild(Wi).setAttribute("name","D"),fi.querySelectorAll("[name=d]").length&&wt.push("name"+Vn+"*[*^$|!~]?="),2!==fi.querySelectorAll(":enabled").length&&wt.push(":enabled",":disabled"),pn.appendChild(fi).disabled=!0,2!==fi.querySelectorAll(":disabled").length&&wt.push(":enabled",":disabled"),fi.querySelectorAll("*,:x"),wt.push(",.*:")})),(At.matchesSelector=y.test(me=pn.matches||pn.webkitMatchesSelector||pn.mozMatchesSelector||pn.oMatchesSelector||pn.msMatchesSelector))&&Tr(function(fi){At.disconnectedMatch=me.call(fi,"*"),me.call(fi,"[s!='']:x"),Ht.push("!=",Co)}),wt=wt.length&&new RegExp(wt.join("|")),Ht=Ht.length&&new RegExp(Ht.join("|")),Ue=y.test(pn.compareDocumentPosition),xe=Ue||y.test(pn.contains)?function(fi,Wi){var sn=9===fi.nodeType?fi.documentElement:fi,dn=Wi&&Wi.parentNode;return fi===dn||!(!dn||1!==dn.nodeType||!(sn.contains?sn.contains(dn):fi.compareDocumentPosition&&16&fi.compareDocumentPosition(dn)))}:function(fi,Wi){if(Wi)for(;Wi=Wi.parentNode;)if(Wi===fi)return!0;return!1},Mn=Ue?function(fi,Wi){if(fi===Wi)return Ei=!0,0;var sn=!fi.compareDocumentPosition-!Wi.compareDocumentPosition;return sn||(1&(sn=(fi.ownerDocument||fi)==(Wi.ownerDocument||Wi)?fi.compareDocumentPosition(Wi):1)||!At.sortDetached&&Wi.compareDocumentPosition(fi)===sn?fi==ci||fi.ownerDocument==Ee&&xe(Ee,fi)?-1:Wi==ci||Wi.ownerDocument==Ee&&xe(Ee,Wi)?1:Si?hr(Si,fi)-hr(Si,Wi):0:4&sn?-1:1)}:function(fi,Wi){if(fi===Wi)return Ei=!0,0;var sn,dn=0,Tn=fi.parentNode,pr=Wi.parentNode,sr=[fi],Kn=[Wi];if(!Tn||!pr)return fi==ci?-1:Wi==ci?1:Tn?-1:pr?1:Si?hr(Si,fi)-hr(Si,Wi):0;if(Tn===pr)return ys(fi,Wi);for(sn=fi;sn=sn.parentNode;)sr.unshift(sn);for(sn=Wi;sn=sn.parentNode;)Kn.unshift(sn);for(;sr[dn]===Kn[dn];)dn++;return dn?ys(sr[dn],Kn[dn]):sr[dn]==Ee?-1:Kn[dn]==Ee?1:0}),ci},Di.matches=function(_e,Ue){return Di(_e,null,null,Ue)},Di.matchesSelector=function(_e,Ue){if(mi(_e),At.matchesSelector&&fn&&!ln[Ue+" "]&&(!Ht||!Ht.test(Ue))&&(!wt||!wt.test(Ue)))try{var ri=me.call(_e,Ue);if(ri||At.disconnectedMatch||_e.document&&11!==_e.document.nodeType)return ri}catch{ln(Ue,!0)}return 0<Di(Ue,ci,null,[_e]).length},Di.contains=function(_e,Ue){return(_e.ownerDocument||_e)!=ci&&mi(_e),xe(_e,Ue)},Di.attr=function(_e,Ue){(_e.ownerDocument||_e)!=ci&&mi(_e);var ri=Dt.attrHandle[Ue.toLowerCase()],Ui=ri&&mr.call(Dt.attrHandle,Ue.toLowerCase())?ri(_e,Ue,!fn):void 0;return void 0!==Ui?Ui:At.attributes||!fn?_e.getAttribute(Ue):(Ui=_e.getAttributeNode(Ue))&&Ui.specified?Ui.value:null},Di.escape=function(_e){return(_e+"").replace(pe,qe)},Di.error=function(_e){throw new Error("Syntax error, unrecognized expression: "+_e)},Di.uniqueSort=function(_e){var Ue,ri=[],Ui=0,fi=0;if(Ei=!At.detectDuplicates,Si=!At.sortStable&&_e.slice(0),_e.sort(Mn),Ei){for(;Ue=_e[fi++];)Ue===_e[fi]&&(Ui=ri.push(fi));for(;Ui--;)_e.splice(ri[Ui],1)}return Si=null,_e},qt=Di.getText=function(_e){var Ue,ri="",Ui=0,fi=_e.nodeType;if(fi){if(1===fi||9===fi||11===fi){if("string"==typeof _e.textContent)return _e.textContent;for(_e=_e.firstChild;_e;_e=_e.nextSibling)ri+=qt(_e)}else if(3===fi||4===fi)return _e.nodeValue}else for(;Ue=_e[Ui++];)ri+=qt(Ue);return ri},(Dt=Di.selectors={cacheLength:50,createPseudo:rr,match:Ns,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_e){return _e[1]=_e[1].replace(bt,Bt),_e[3]=(_e[3]||_e[4]||_e[5]||"").replace(bt,Bt),"~="===_e[2]&&(_e[3]=" "+_e[3]+" "),_e.slice(0,4)},CHILD:function(_e){return _e[1]=_e[1].toLowerCase(),"nth"===_e[1].slice(0,3)?(_e[3]||Di.error(_e[0]),_e[4]=+(_e[4]?_e[5]+(_e[6]||1):2*("even"===_e[3]||"odd"===_e[3])),_e[5]=+(_e[7]+_e[8]||"odd"===_e[3])):_e[3]&&Di.error(_e[0]),_e},PSEUDO:function(_e){var Ue,ri=!_e[6]&&_e[2];return Ns.CHILD.test(_e[0])?null:(_e[3]?_e[2]=_e[4]||_e[5]||"":ri&&ks.test(ri)&&(Ue=ye(ri,!0))&&(Ue=ri.indexOf(")",ri.length-Ue)-ri.length)&&(_e[0]=_e[0].slice(0,Ue),_e[2]=ri.slice(0,Ue)),_e.slice(0,3))}},filter:{TAG:function(_e){var Ue=_e.replace(bt,Bt).toLowerCase();return"*"===_e?function(){return!0}:function(ri){return ri.nodeName&&ri.nodeName.toLowerCase()===Ue}},CLASS:function(_e){var Ue=_i[_e+" "];return Ue||(Ue=new RegExp("(^|"+Vn+")"+_e+"("+Vn+"|$)"))&&_i(_e,function(ri){return Ue.test("string"==typeof ri.className&&ri.className||typeof ri.getAttribute<"u"&&ri.getAttribute("class")||"")})},ATTR:function(_e,Ue,ri){return function(Ui){var fi=Di.attr(Ui,_e);return null==fi?"!="===Ue:!Ue||(fi+="","="===Ue?fi===ri:"!="===Ue?fi!==ri:"^="===Ue?ri&&0===fi.indexOf(ri):"*="===Ue?ri&&-1<fi.indexOf(ri):"$="===Ue?ri&&fi.slice(-ri.length)===ri:"~="===Ue?-1<(" "+fi.replace(ro," ")+" ").indexOf(ri):"|="===Ue&&(fi===ri||fi.slice(0,ri.length+1)===ri+"-"))}},CHILD:function(_e,Ue,ri,Ui,fi){var Wi="nth"!==_e.slice(0,3),sn="last"!==_e.slice(-4),dn="of-type"===Ue;return 1===Ui&&0===fi?function(Tn){return!!Tn.parentNode}:function(Tn,pr,sr){var Kn,Kt,lt,Et,fe,Ke,Je=Wi!==sn?"nextSibling":"previousSibling",si=Tn.parentNode,Vi=dn&&Tn.nodeName.toLowerCase(),en=!sr&&!dn,un=!1;if(si){if(Wi){for(;Je;){for(Et=Tn;Et=Et[Je];)if(dn?Et.nodeName.toLowerCase()===Vi:1===Et.nodeType)return!1;Ke=Je="only"===_e&&!Ke&&"nextSibling"}return!0}if(Ke=[sn?si.firstChild:si.lastChild],sn&&en){for(un=(fe=(Kn=(Kt=(lt=(Et=si)[Me]||(Et[Me]={}))[Et.uniqueID]||(lt[Et.uniqueID]={}))[_e]||[])[0]===Ze&&Kn[1])&&Kn[2],Et=fe&&si.childNodes[fe];Et=++fe&&Et&&Et[Je]||(un=fe=0)||Ke.pop();)if(1===Et.nodeType&&++un&&Et===Tn){Kt[_e]=[Ze,fe,un];break}}else if(en&&(un=fe=(Kn=(Kt=(lt=(Et=Tn)[Me]||(Et[Me]={}))[Et.uniqueID]||(lt[Et.uniqueID]={}))[_e]||[])[0]===Ze&&Kn[1]),!1===un)for(;(Et=++fe&&Et&&Et[Je]||(un=fe=0)||Ke.pop())&&((dn?Et.nodeName.toLowerCase()!==Vi:1!==Et.nodeType)||!++un||(en&&((Kt=(lt=Et[Me]||(Et[Me]={}))[Et.uniqueID]||(lt[Et.uniqueID]={}))[_e]=[Ze,un]),Et!==Tn)););return(un-=fi)===Ui||un%Ui==0&&0<=un/Ui}}},PSEUDO:function(_e,Ue){var ri,Ui=Dt.pseudos[_e]||Dt.setFilters[_e.toLowerCase()]||Di.error("unsupported pseudo: "+_e);return Ui[Me]?Ui(Ue):1<Ui.length?(ri=[_e,_e,"",Ue],Dt.setFilters.hasOwnProperty(_e.toLowerCase())?rr(function(fi,Wi){for(var sn,dn=Ui(fi,Ue),Tn=dn.length;Tn--;)fi[sn=hr(fi,dn[Tn])]=!(Wi[sn]=dn[Tn])}):function(fi){return Ui(fi,0,ri)}):Ui}},pseudos:{not:rr(function(_e){var Ue=[],ri=[],Ui=je(_e.replace(cr,"$1"));return Ui[Me]?rr(function(fi,Wi,sn,dn){for(var Tn,pr=Ui(fi,null,dn,[]),sr=fi.length;sr--;)(Tn=pr[sr])&&(fi[sr]=!(Wi[sr]=Tn))}):function(fi,Wi,sn){return Ue[0]=fi,Ui(Ue,null,sn,ri),Ue[0]=null,!ri.pop()}}),has:rr(function(_e){return function(Ue){return 0<Di(_e,Ue).length}}),contains:rr(function(_e){return _e=_e.replace(bt,Bt),function(Ue){return-1<(Ue.textContent||qt(Ue)).indexOf(_e)}}),lang:rr(function(_e){return oa.test(_e||"")||Di.error("unsupported lang: "+_e),_e=_e.replace(bt,Bt).toLowerCase(),function(Ue){var ri;do{if(ri=fn?Ue.lang:Ue.getAttribute("xml:lang")||Ue.getAttribute("lang"))return(ri=ri.toLowerCase())===_e||0===ri.indexOf(_e+"-")}while((Ue=Ue.parentNode)&&1===Ue.nodeType);return!1}}),target:function(_e){var Ue=$.location&&$.location.hash;return Ue&&Ue.slice(1)===_e.id},root:function(_e){return _e===pn},focus:function(_e){return _e===ci.activeElement&&(!ci.hasFocus||ci.hasFocus())&&!!(_e.type||_e.href||~_e.tabIndex)},enabled:Rs(!1),disabled:Rs(!0),checked:function(_e){var Ue=_e.nodeName.toLowerCase();return"input"===Ue&&!!_e.checked||"option"===Ue&&!!_e.selected},selected:function(_e){return!0===_e.selected},empty:function(_e){for(_e=_e.firstChild;_e;_e=_e.nextSibling)if(_e.nodeType<6)return!1;return!0},parent:function(_e){return!Dt.pseudos.empty(_e)},header:function(_e){return Hs.test(_e.nodeName)},input:function(_e){return ns.test(_e.nodeName)},button:function(_e){var Ue=_e.nodeName.toLowerCase();return"input"===Ue&&"button"===_e.type||"button"===Ue},text:function(_e){var Ue;return"input"===_e.nodeName.toLowerCase()&&"text"===_e.type&&(null==(Ue=_e.getAttribute("type"))||"text"===Ue.toLowerCase())},first:Fo(function(){return[0]}),last:Fo(function(_e,Ue){return[Ue-1]}),eq:Fo(function(_e,Ue,ri){return[ri<0?ri+Ue:ri]}),even:Fo(function(_e,Ue){for(var ri=0;ri<Ue;ri+=2)_e.push(ri);return _e}),odd:Fo(function(_e,Ue){for(var ri=1;ri<Ue;ri+=2)_e.push(ri);return _e}),lt:Fo(function(_e,Ue,ri){for(var Ui=ri<0?ri+Ue:Ue<ri?Ue:ri;0<=--Ui;)_e.push(Ui);return _e}),gt:Fo(function(_e,Ue,ri){for(var Ui=ri<0?ri+Ue:ri;++Ui<Ue;)_e.push(Ui);return _e})}}).pseudos.nth=Dt.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Dt.pseudos[mt]=zo(mt);for(mt in{submit:!0,reset:!0})Dt.pseudos[mt]=To(mt);function oo(){}function ds(_e){for(var Ue=0,ri=_e.length,Ui="";Ue<ri;Ue++)Ui+=_e[Ue].value;return Ui}function Ss(_e,Ue,ri){var Ui=Ue.dir,fi=Ue.next,Wi=fi||Ui,sn=ri&&"parentNode"===Wi,dn=Ne++;return Ue.first?function(Tn,pr,sr){for(;Tn=Tn[Ui];)if(1===Tn.nodeType||sn)return _e(Tn,pr,sr);return!1}:function(Tn,pr,sr){var Kn,Kt,lt,Et=[Ze,dn];if(sr){for(;Tn=Tn[Ui];)if((1===Tn.nodeType||sn)&&_e(Tn,pr,sr))return!0}else for(;Tn=Tn[Ui];)if(1===Tn.nodeType||sn)if(Kt=(lt=Tn[Me]||(Tn[Me]={}))[Tn.uniqueID]||(lt[Tn.uniqueID]={}),fi&&fi===Tn.nodeName.toLowerCase())Tn=Tn[Ui]||Tn;else{if((Kn=Kt[Wi])&&Kn[0]===Ze&&Kn[1]===dn)return Et[2]=Kn[2];if((Kt[Wi]=Et)[2]=_e(Tn,pr,sr))return!0}return!1}}function $s(_e){return 1<_e.length?function(Ue,ri,Ui){for(var fi=_e.length;fi--;)if(!_e[fi](Ue,ri,Ui))return!1;return!0}:_e[0]}function rs(_e,Ue,ri,Ui,fi){for(var Wi,sn=[],dn=0,Tn=_e.length,pr=null!=Ue;dn<Tn;dn++)(Wi=_e[dn])&&(ri&&!ri(Wi,Ui,fi)||(sn.push(Wi),pr&&Ue.push(dn)));return sn}function ba(_e,Ue,ri,Ui,fi,Wi){return Ui&&!Ui[Me]&&(Ui=ba(Ui)),fi&&!fi[Me]&&(fi=ba(fi,Wi)),rr(function(sn,dn,Tn,pr){var sr,Kn,Kt,lt=[],Et=[],fe=dn.length,Ke=sn||function(Vi,en,un){for(var Hi=0,nn=en.length;Hi<nn;Hi++)Di(Vi,en[Hi],un);return un}(Ue||"*",Tn.nodeType?[Tn]:Tn,[]),Je=!_e||!sn&&Ue?Ke:rs(Ke,lt,_e,Tn,pr),si=ri?fi||(sn?_e:fe||Ui)?[]:dn:Je;if(ri&&ri(Je,si,Tn,pr),Ui)for(sr=rs(si,Et),Ui(sr,[],Tn,pr),Kn=sr.length;Kn--;)(Kt=sr[Kn])&&(si[Et[Kn]]=!(Je[Et[Kn]]=Kt));if(sn){if(fi||_e){if(fi){for(sr=[],Kn=si.length;Kn--;)(Kt=si[Kn])&&sr.push(Je[Kn]=Kt);fi(null,si=[],sr,pr)}for(Kn=si.length;Kn--;)(Kt=si[Kn])&&-1<(sr=fi?hr(sn,Kt):lt[Kn])&&(sn[sr]=!(dn[sr]=Kt))}}else si=rs(si===dn?si.splice(fe,si.length):si),fi?fi(null,dn,si,pr):_r.apply(dn,si)})}function ma(_e){for(var Ue,ri,Ui,fi=_e.length,Wi=Dt.relative[_e[0].type],sn=Wi||Dt.relative[" "],dn=Wi?1:0,Tn=Ss(function(Kn){return Kn===Ue},sn,!0),pr=Ss(function(Kn){return-1<hr(Ue,Kn)},sn,!0),sr=[function(Kn,Kt,lt){var Et=!Wi&&(lt||Kt!==ni)||((Ue=Kt).nodeType?Tn(Kn,Kt,lt):pr(Kn,Kt,lt));return Ue=null,Et}];dn<fi;dn++)if(ri=Dt.relative[_e[dn].type])sr=[Ss($s(sr),ri)];else{if((ri=Dt.filter[_e[dn].type].apply(null,_e[dn].matches))[Me]){for(Ui=++dn;Ui<fi&&!Dt.relative[_e[Ui].type];Ui++);return ba(1<dn&&$s(sr),1<dn&&ds(_e.slice(0,dn-1).concat({value:" "===_e[dn-2].type?"*":""})).replace(cr,"$1"),ri,dn<Ui&&ma(_e.slice(dn,Ui)),Ui<fi&&ma(_e=_e.slice(Ui)),Ui<fi&&ds(_e))}sr.push(ri)}return $s(sr)}return oo.prototype=Dt.filters=Dt.pseudos,Dt.setFilters=new oo,ye=Di.tokenize=function(_e,Ue){var ri,Ui,fi,Wi,sn,dn,Tn,pr=vi[_e+" "];if(pr)return Ue?0:pr.slice(0);for(sn=_e,dn=[],Tn=Dt.preFilter;sn;){for(Wi in ri&&!(Ui=Gs.exec(sn))||(Ui&&(sn=sn.slice(Ui[0].length)||sn),dn.push(fi=[])),ri=!1,(Ui=Go.exec(sn))&&(ri=Ui.shift(),fi.push({value:ri,type:Ui[0].replace(cr," ")}),sn=sn.slice(ri.length)),Dt.filter)!(Ui=Ns[Wi].exec(sn))||Tn[Wi]&&!(Ui=Tn[Wi](Ui))||(ri=Ui.shift(),fi.push({value:ri,type:Wi,matches:Ui}),sn=sn.slice(ri.length));if(!ri)break}return Ue?sn.length:sn?Di.error(_e):vi(_e,dn).slice(0)},je=Di.compile=function(_e,Ue){var ri,Ui,fi,Wi,sn,dn,Tn=[],pr=[],sr=Ki[_e+" "];if(!sr){for(Ue||(Ue=ye(_e)),ri=Ue.length;ri--;)(sr=ma(Ue[ri]))[Me]?Tn.push(sr):pr.push(sr);(sr=Ki(_e,(Ui=pr,Wi=0<(fi=Tn).length,sn=0<Ui.length,dn=function(Kn,Kt,lt,Et,fe){var Ke,Je,si,Vi=0,en="0",un=Kn&&[],Hi=[],nn=ni,er=Kn||sn&&Dt.find.TAG("*",fe),Jn=Ze+=null==nn?1:Math.random()||.1,ar=er.length;for(fe&&(ni=Kt==ci||Kt||fe);en!==ar&&null!=(Ke=er[en]);en++){if(sn&&Ke){for(Je=0,Kt||Ke.ownerDocument==ci||(mi(Ke),lt=!fn);si=Ui[Je++];)if(si(Ke,Kt||ci,lt)){Et.push(Ke);break}fe&&(Ze=Jn)}Wi&&((Ke=!si&&Ke)&&Vi--,Kn&&un.push(Ke))}if(Vi+=en,Wi&&en!==Vi){for(Je=0;si=fi[Je++];)si(un,Hi,Kt,lt);if(Kn){if(0<Vi)for(;en--;)un[en]||Hi[en]||(Hi[en]=Dr.call(Et));Hi=rs(Hi)}_r.apply(Et,Hi),fe&&!Kn&&0<Hi.length&&1<Vi+fi.length&&Di.uniqueSort(Et)}return fe&&(Ze=Jn,ni=nn),un},Wi?rr(dn):dn))).selector=_e}return sr},ze=Di.select=function(_e,Ue,ri,Ui){var fi,Wi,sn,dn,Tn,pr="function"==typeof _e&&_e,sr=!Ui&&ye(_e=pr.selector||_e);if(ri=ri||[],1===sr.length){if(2<(Wi=sr[0]=sr[0].slice(0)).length&&"ID"===(sn=Wi[0]).type&&9===Ue.nodeType&&fn&&Dt.relative[Wi[1].type]){if(!(Ue=(Dt.find.ID(sn.matches[0].replace(bt,Bt),Ue)||[])[0]))return ri;pr&&(Ue=Ue.parentNode),_e=_e.slice(Wi.shift().value.length)}for(fi=Ns.needsContext.test(_e)?0:Wi.length;fi--&&!Dt.relative[dn=(sn=Wi[fi]).type];)if((Tn=Dt.find[dn])&&(Ui=Tn(sn.matches[0].replace(bt,Bt),it.test(Wi[0].type)&&Ws(Ue.parentNode)||Ue))){if(Wi.splice(fi,1),!(_e=Ui.length&&ds(Wi)))return _r.apply(ri,Ui),ri;break}}return(pr||je(_e,sr))(Ui,Ue,!fn,ri,!Ue||it.test(_e)&&Ws(Ue.parentNode)||Ue),ri},At.sortStable=Me.split("").sort(Mn).join("")===Me,At.detectDuplicates=!!Ei,mi(),At.sortDetached=Tr(function(_e){return 1&_e.compareDocumentPosition(ci.createElement("fieldset"))}),Tr(function(_e){return _e.innerHTML="<a href='#'></a>","#"===_e.firstChild.getAttribute("href")})||ho("type|href|height|width",function(_e,Ue,ri){if(!ri)return _e.getAttribute(Ue,"type"===Ue.toLowerCase()?1:2)}),At.attributes&&Tr(function(_e){return _e.innerHTML="<input/>",_e.firstChild.setAttribute("value",""),""===_e.firstChild.getAttribute("value")})||ho("value",function(_e,Ue,ri){if(!ri&&"input"===_e.nodeName.toLowerCase())return _e.defaultValue}),Tr(function(_e){return null==_e.getAttribute("disabled")})||ho(Wr,function(_e,Ue,ri){var Ui;if(!ri)return!0===_e[Ue]?Ue.toLowerCase():(Ui=_e.getAttributeNode(Ue))&&Ui.specified?Ui.value:null}),Di}(S);h.find=D,h.expr=D.selectors,h.expr[":"]=h.expr.pseudos,h.uniqueSort=h.unique=D.uniqueSort,h.text=D.getText,h.isXMLDoc=D.isXML,h.contains=D.contains,h.escapeSelector=D.escape;var P=function($,mt,At){for(var Dt=[],qt=void 0!==At;($=$[mt])&&9!==$.nodeType;)if(1===$.nodeType){if(qt&&h($).is(At))break;Dt.push($)}return Dt},E=function($,mt){for(var At=[];$;$=$.nextSibling)1===$.nodeType&&$!==mt&&At.push($);return At},m=h.expr.match.needsContext;function C($,mt){return $.nodeName&&$.nodeName.toLowerCase()===mt.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k($,mt,At){return p(mt)?h.grep($,function(Dt,qt){return!!mt.call(Dt,qt,Dt)!==At}):mt.nodeType?h.grep($,function(Dt){return Dt===mt!==At}):"string"!=typeof mt?h.grep($,function(Dt){return-1<j.call(mt,Dt)!==At}):h.filter(mt,$,At)}h.filter=function($,mt,At){var Dt=mt[0];return At&&($=":not("+$+")"),1===mt.length&&1===Dt.nodeType?h.find.matchesSelector(Dt,$)?[Dt]:[]:h.find.matches($,h.grep(mt,function(qt){return 1===qt.nodeType}))},h.fn.extend({find:function($){var mt,At,Dt=this.length,qt=this;if("string"!=typeof $)return this.pushStack(h($).filter(function(){for(mt=0;mt<Dt;mt++)if(h.contains(qt[mt],this))return!0}));for(At=this.pushStack([]),mt=0;mt<Dt;mt++)h.find($,qt[mt],At);return 1<Dt?h.uniqueSort(At):At},filter:function($){return this.pushStack(k(this,$||[],!1))},not:function($){return this.pushStack(k(this,$||[],!0))},is:function($){return!!k(this,"string"==typeof $&&m.test($)?h($):$||[],!1).length}});var f,o=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(h.fn.init=function($,mt,At){var Dt,qt;if(!$)return this;if(At=At||f,"string"==typeof $){if(!(Dt="<"===$[0]&&">"===$[$.length-1]&&3<=$.length?[null,$,null]:o.exec($))||!Dt[1]&&mt)return!mt||mt.jquery?(mt||At).find($):this.constructor(mt).find($);if(Dt[1]){if(h.merge(this,h.parseHTML(Dt[1],(mt=mt instanceof h?mt[0]:mt)&&mt.nodeType?mt.ownerDocument||mt:d,!0)),A.test(Dt[1])&&h.isPlainObject(mt))for(Dt in mt)p(this[Dt])?this[Dt](mt[Dt]):this.attr(Dt,mt[Dt]);return this}return(qt=d.getElementById(Dt[2]))&&(this[0]=qt,this.length=1),this}return $.nodeType?(this[0]=$,this.length=1,this):p($)?void 0!==At.ready?At.ready($):$(h):h.makeArray($,this)}).prototype=h.fn,f=h(d);var R=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};function X($,mt){for(;($=$[mt])&&1!==$.nodeType;);return $}h.fn.extend({has:function($){var mt=h($,this),At=mt.length;return this.filter(function(){for(var Dt=0;Dt<At;Dt++)if(h.contains(this,mt[Dt]))return!0})},closest:function($,mt){var At,Dt=0,qt=this.length,le=[],ye="string"!=typeof $&&h($);if(!m.test($))for(;Dt<qt;Dt++)for(At=this[Dt];At&&At!==mt;At=At.parentNode)if(At.nodeType<11&&(ye?-1<ye.index(At):1===At.nodeType&&h.find.matchesSelector(At,$))){le.push(At);break}return this.pushStack(1<le.length?h.uniqueSort(le):le)},index:function($){return $?"string"==typeof $?j.call(h($),this[0]):j.call(this,$.jquery?$[0]:$):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function($,mt){return this.pushStack(h.uniqueSort(h.merge(this.get(),h($,mt))))},addBack:function($){return this.add(null==$?this.prevObject:this.prevObject.filter($))}}),h.each({parent:function($){var mt=$.parentNode;return mt&&11!==mt.nodeType?mt:null},parents:function($){return P($,"parentNode")},parentsUntil:function($,mt,At){return P($,"parentNode",At)},next:function($){return X($,"nextSibling")},prev:function($){return X($,"previousSibling")},nextAll:function($){return P($,"nextSibling")},prevAll:function($){return P($,"previousSibling")},nextUntil:function($,mt,At){return P($,"nextSibling",At)},prevUntil:function($,mt,At){return P($,"previousSibling",At)},siblings:function($){return E(($.parentNode||{}).firstChild,$)},children:function($){return E($.firstChild)},contents:function($){return null!=$.contentDocument&&s($.contentDocument)?$.contentDocument:(C($,"template")&&($=$.content||$),h.merge([],$.childNodes))}},function($,mt){h.fn[$]=function(At,Dt){var qt=h.map(this,mt,At);return"Until"!==$.slice(-5)&&(Dt=At),Dt&&"string"==typeof Dt&&(qt=h.filter(Dt,qt)),1<this.length&&(U[$]||h.uniqueSort(qt),R.test($)&&qt.reverse()),this.pushStack(qt)}});var tt=/[^\x20\t\r\n\f]+/g;function pt($){return $}function ot($){throw $}function W($,mt,At,Dt){var qt;try{$&&p(qt=$.promise)?qt.call($).done(mt).fail(At):$&&p(qt=$.then)?qt.call($,mt,At):mt.apply(void 0,[$].slice(Dt))}catch(le){At.apply(void 0,[le])}}h.Callbacks=function($){var At;$="string"==typeof $?(At={},h.each($.match(tt)||[],function(mi,ci){At[ci]=!0}),At):h.extend({},$);var Dt,qt,le,ye,je=[],ze=[],ni=-1,Si=function(){for(ye=ye||$.once,le=Dt=!0;ze.length;ni=-1)for(qt=ze.shift();++ni<je.length;)!1===je[ni].apply(qt[0],qt[1])&&$.stopOnFalse&&(ni=je.length,qt=!1);$.memory||(qt=!1),Dt=!1,ye&&(je=qt?[]:"")},Ei={add:function(){return je&&(qt&&!Dt&&(ni=je.length-1,ze.push(qt)),function mi(ci){h.each(ci,function(pn,fn){p(fn)?$.unique&&Ei.has(fn)||je.push(fn):fn&&fn.length&&"string"!==x(fn)&&mi(fn)})}(arguments),qt&&!Dt&&Si()),this},remove:function(){return h.each(arguments,function(mi,ci){for(var pn;-1<(pn=h.inArray(ci,je,pn));)je.splice(pn,1),pn<=ni&&ni--}),this},has:function(mi){return mi?-1<h.inArray(mi,je):0<je.length},empty:function(){return je&&(je=[]),this},disable:function(){return ye=ze=[],je=qt="",this},disabled:function(){return!je},lock:function(){return ye=ze=[],qt||Dt||(je=qt=""),this},locked:function(){return!!ye},fireWith:function(mi,ci){return ye||(ci=[mi,(ci=ci||[]).slice?ci.slice():ci],ze.push(ci),Dt||Si()),this},fire:function(){return Ei.fireWith(this,arguments),this},fired:function(){return!!le}};return Ei},h.extend({Deferred:function($){var mt=[["notify","progress",h.Callbacks("memory"),h.Callbacks("memory"),2],["resolve","done",h.Callbacks("once memory"),h.Callbacks("once memory"),0,"resolved"],["reject","fail",h.Callbacks("once memory"),h.Callbacks("once memory"),1,"rejected"]],At="pending",Dt={state:function(){return At},always:function(){return qt.done(arguments).fail(arguments),this},catch:function(le){return Dt.then(null,le)},pipe:function(){var le=arguments;return h.Deferred(function(ye){h.each(mt,function(je,ze){var ni=p(le[ze[4]])&&le[ze[4]];qt[ze[1]](function(){var Si=ni&&ni.apply(this,arguments);Si&&p(Si.promise)?Si.promise().progress(ye.notify).done(ye.resolve).fail(ye.reject):ye[ze[0]+"With"](this,ni?[Si]:arguments)})}),le=null}).promise()},then:function(le,ye,je){var ze=0;function ni(Si,Ei,mi,ci){return function(){var pn=this,fn=arguments,wt=function(){var me,xe;if(!(Si<ze)){if((me=mi.apply(pn,fn))===Ei.promise())throw new TypeError("Thenable self-resolution");p(xe=me&&("object"==typeof me||"function"==typeof me)&&me.then)?ci?xe.call(me,ni(ze,Ei,pt,ci),ni(ze,Ei,ot,ci)):(ze++,xe.call(me,ni(ze,Ei,pt,ci),ni(ze,Ei,ot,ci),ni(ze,Ei,pt,Ei.notifyWith))):(mi!==pt&&(pn=void 0,fn=[me]),(ci||Ei.resolveWith)(pn,fn))}},Ht=ci?wt:function(){try{wt()}catch(me){h.Deferred.exceptionHook&&h.Deferred.exceptionHook(me,Ht.stackTrace),ze<=Si+1&&(mi!==ot&&(pn=void 0,fn=[me]),Ei.rejectWith(pn,fn))}};Si?Ht():(h.Deferred.getStackHook&&(Ht.stackTrace=h.Deferred.getStackHook()),S.setTimeout(Ht))}}return h.Deferred(function(Si){mt[0][3].add(ni(0,Si,p(je)?je:pt,Si.notifyWith)),mt[1][3].add(ni(0,Si,p(le)?le:pt)),mt[2][3].add(ni(0,Si,p(ye)?ye:ot))}).promise()},promise:function(le){return null!=le?h.extend(le,Dt):Dt}},qt={};return h.each(mt,function(le,ye){var je=ye[2],ze=ye[5];Dt[ye[1]]=je.add,ze&&je.add(function(){At=ze},mt[3-le][2].disable,mt[3-le][3].disable,mt[0][2].lock,mt[0][3].lock),je.add(ye[3].fire),qt[ye[0]]=function(){return qt[ye[0]+"With"](this===qt?void 0:this,arguments),this},qt[ye[0]+"With"]=je.fireWith}),Dt.promise(qt),$&&$.call(qt,qt),qt},when:function($){var mt=arguments.length,At=mt,Dt=Array(At),qt=c.call(arguments),le=h.Deferred(),ye=function(je){return function(ze){Dt[je]=this,qt[je]=1<arguments.length?c.call(arguments):ze,--mt||le.resolveWith(Dt,qt)}};if(mt<=1&&(W($,le.done(ye(At)).resolve,le.reject,!mt),"pending"===le.state()||p(qt[At]&&qt[At].then)))return le.then();for(;At--;)W(qt[At],ye(At),le.reject);return le.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;h.Deferred.exceptionHook=function($,mt){S.console&&S.console.warn&&$&&K.test($.name)&&S.console.warn("jQuery.Deferred exception: "+$.message,$.stack,mt)},h.readyException=function($){S.setTimeout(function(){throw $})};var gt=h.Deferred();function yt(){d.removeEventListener("DOMContentLoaded",yt),S.removeEventListener("load",yt),h.ready()}h.fn.ready=function($){return gt.then($).catch(function(mt){h.readyException(mt)}),this},h.extend({isReady:!1,readyWait:1,ready:function($){(!0===$?--h.readyWait:h.isReady)||(h.isReady=!0)!==$&&0<--h.readyWait||gt.resolveWith(d,[h])}}),h.ready.then=gt.then,"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?S.setTimeout(h.ready):(d.addEventListener("DOMContentLoaded",yt),S.addEventListener("load",yt));var _t=function($,mt,At,Dt,qt,le,ye){var je=0,ze=$.length,ni=null==At;if("object"===x(At))for(je in qt=!0,At)_t($,mt,je,At[je],!0,le,ye);else if(void 0!==Dt&&(qt=!0,p(Dt)||(ye=!0),ni&&(ye?(mt.call($,Dt),mt=null):(ni=mt,mt=function(Si,Ei,mi){return ni.call(h(Si),mi)})),mt))for(;je<ze;je++)mt($[je],At,ye?Dt:Dt.call($[je],je,mt($[je],At)));return qt?$:ni?mt.call($):ze?mt($[0],At):le},rt=/^-ms-/,ut=/-([a-z])/g;function at($,mt){return mt.toUpperCase()}function Ct($){return $.replace(rt,"ms-").replace(ut,at)}var vt=function($){return 1===$.nodeType||9===$.nodeType||!+$.nodeType};function ct(){this.expando=h.expando+ct.uid++}ct.uid=1,ct.prototype={cache:function($){var mt=$[this.expando];return mt||(mt={},vt($)&&($.nodeType?$[this.expando]=mt:Object.defineProperty($,this.expando,{value:mt,configurable:!0}))),mt},set:function($,mt,At){var Dt,qt=this.cache($);if("string"==typeof mt)qt[Ct(mt)]=At;else for(Dt in mt)qt[Ct(Dt)]=mt[Dt];return qt},get:function($,mt){return void 0===mt?this.cache($):$[this.expando]&&$[this.expando][Ct(mt)]},access:function($,mt,At){return void 0===mt||mt&&"string"==typeof mt&&void 0===At?this.get($,mt):(this.set($,mt,At),void 0!==At?At:mt)},remove:function($,mt){var At,Dt=$[this.expando];if(void 0!==Dt){if(void 0!==mt)for((At=(mt=Array.isArray(mt)?mt.map(Ct):(mt=Ct(mt))in Dt?[mt]:mt.match(tt)||[]).length);At--;)delete Dt[mt[At]];(void 0===mt||h.isEmptyObject(Dt))&&($.nodeType?$[this.expando]=void 0:delete $[this.expando])}},hasData:function($){var mt=$[this.expando];return void 0!==mt&&!h.isEmptyObject(mt)}};var Tt=new ct,kt=new ct,Ft=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/[A-Z]/g;function jt($,mt,At){var Dt,qt;if(void 0===At&&1===$.nodeType)if(Dt="data-"+mt.replace(Ot,"-$&").toLowerCase(),"string"==typeof(At=$.getAttribute(Dt))){try{At="true"===(qt=At)||"false"!==qt&&("null"===qt?null:qt===+qt+""?+qt:Ft.test(qt)?JSON.parse(qt):qt)}catch{}kt.set($,mt,At)}else At=void 0;return At}h.extend({hasData:function($){return kt.hasData($)||Tt.hasData($)},data:function($,mt,At){return kt.access($,mt,At)},removeData:function($,mt){kt.remove($,mt)},_data:function($,mt,At){return Tt.access($,mt,At)},_removeData:function($,mt){Tt.remove($,mt)}}),h.fn.extend({data:function($,mt){var At,Dt,qt,le=this[0],ye=le&&le.attributes;if(void 0===$){if(this.length&&(qt=kt.get(le),1===le.nodeType&&!Tt.get(le,"hasDataAttrs"))){for(At=ye.length;At--;)ye[At]&&0===(Dt=ye[At].name).indexOf("data-")&&(Dt=Ct(Dt.slice(5)),jt(le,Dt,qt[Dt]));Tt.set(le,"hasDataAttrs",!0)}return qt}return"object"==typeof $?this.each(function(){kt.set(this,$)}):_t(this,function(je){var ze;if(le&&void 0===je)return void 0!==(ze=kt.get(le,$))||void 0!==(ze=jt(le,$))?ze:void 0;this.each(function(){kt.set(this,$,je)})},null,mt,1<arguments.length,null,!0)},removeData:function($){return this.each(function(){kt.remove(this,$)})}}),h.extend({queue:function($,mt,At){var Dt;if($)return Dt=Tt.get($,mt=(mt||"fx")+"queue"),At&&(!Dt||Array.isArray(At)?Dt=Tt.access($,mt,h.makeArray(At)):Dt.push(At)),Dt||[]},dequeue:function($,mt){var At=h.queue($,mt=mt||"fx"),Dt=At.length,qt=At.shift(),le=h._queueHooks($,mt);"inprogress"===qt&&(qt=At.shift(),Dt--),qt&&("fx"===mt&&At.unshift("inprogress"),delete le.stop,qt.call($,function(){h.dequeue($,mt)},le)),!Dt&&le&&le.empty.fire()},_queueHooks:function($,mt){var At=mt+"queueHooks";return Tt.get($,At)||Tt.access($,At,{empty:h.Callbacks("once memory").add(function(){Tt.remove($,[mt+"queue",At])})})}}),h.fn.extend({queue:function($,mt){var At=2;return"string"!=typeof $&&(mt=$,$="fx",At--),arguments.length<At?h.queue(this[0],$):void 0===mt?this:this.each(function(){var Dt=h.queue(this,$,mt);h._queueHooks(this,$),"fx"===$&&"inprogress"!==Dt[0]&&h.dequeue(this,$)})},dequeue:function($){return this.each(function(){h.dequeue(this,$)})},clearQueue:function($){return this.queue($||"fx",[])},promise:function($,mt){var At,Dt=1,qt=h.Deferred(),le=this,ye=this.length,je=function(){--Dt||qt.resolveWith(le,[le])};for("string"!=typeof $&&(mt=$,$=void 0),$=$||"fx";ye--;)(At=Tt.get(le[ye],$+"queueHooks"))&&At.empty&&(Dt++,At.empty.add(je));return je(),qt.promise(mt)}});var $t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wt=new RegExp("^(?:([+-])=|)("+$t+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],Jt=d.documentElement,Nt=function($){return h.contains($.ownerDocument,$)},Rt={composed:!0};Jt.getRootNode&&(Nt=function($){return h.contains($.ownerDocument,$)||$.getRootNode(Rt)===$.ownerDocument});var ie=function($,mt){return"none"===($=mt||$).style.display||""===$.style.display&&Nt($)&&"none"===h.css($,"display")};function se($,mt,At,Dt){var qt,le,ye=20,je=Dt?function(){return Dt.cur()}:function(){return h.css($,mt,"")},ze=je(),ni=At&&At[3]||(h.cssNumber[mt]?"":"px"),Si=$.nodeType&&(h.cssNumber[mt]||"px"!==ni&&+ze)&&Wt.exec(h.css($,mt));if(Si&&Si[3]!==ni){for(ni=ni||Si[3],Si=+(ze/=2)||1;ye--;)h.style($,mt,Si+ni),(1-le)*(1-(le=je()/ze||.5))<=0&&(ye=0),Si/=le;h.style($,mt,(Si*=2)+ni),At=At||[]}return At&&(Si=+Si||+ze||0,qt=At[1]?Si+(At[1]+1)*At[2]:+At[2],Dt&&(Dt.unit=ni,Dt.start=Si,Dt.end=qt)),qt}var ce={};function te($,mt){for(var At,Dt,qt,le,ye,je,ze,ni=[],Si=0,Ei=$.length;Si<Ei;Si++)(Dt=$[Si]).style&&(At=Dt.style.display,mt?("none"===At&&(ni[Si]=Tt.get(Dt,"display")||null,ni[Si]||(Dt.style.display="")),""===Dt.style.display&&ie(Dt)&&(ni[Si]=(ze=ye=le=void 0,ye=(qt=Dt).ownerDocument,(ze=ce[je=qt.nodeName])||(le=ye.body.appendChild(ye.createElement(je)),ze=h.css(le,"display"),le.parentNode.removeChild(le),"none"===ze&&(ze="block"),ce[je]=ze)))):"none"!==At&&(ni[Si]="none",Tt.set(Dt,"display",At)));for(Si=0;Si<Ei;Si++)null!=ni[Si]&&($[Si].style.display=ni[Si]);return $}h.fn.extend({show:function(){return te(this,!0)},hide:function(){return te(this)},toggle:function($){return"boolean"==typeof $?$?this.show():this.hide():this.each(function(){ie(this)?h(this).show():h(this).hide()})}});var Ie,Ve,Ai=/^(?:checkbox|radio)$/i,gi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pi=/^$|^module$|\/(?:java|ecma)script/i;Ie=d.createDocumentFragment().appendChild(d.createElement("div")),(Ve=d.createElement("input")).setAttribute("type","radio"),Ve.setAttribute("checked","checked"),Ve.setAttribute("name","t"),Ie.appendChild(Ve),a.checkClone=Ie.cloneNode(!0).cloneNode(!0).lastChild.checked,Ie.innerHTML="<textarea>x</textarea>",a.noCloneChecked=!!Ie.cloneNode(!0).lastChild.defaultValue,Ie.innerHTML="<option></option>",a.option=!!Ie.lastChild;var Ri={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ti($,mt){var At;return At=typeof $.getElementsByTagName<"u"?$.getElementsByTagName(mt||"*"):typeof $.querySelectorAll<"u"?$.querySelectorAll(mt||"*"):[],void 0===mt||mt&&C($,mt)?h.merge([$],At):At}function Ti($,mt){for(var At=0,Dt=$.length;At<Dt;At++)Tt.set($[At],"globalEval",!mt||Tt.get(mt[At],"globalEval"))}Ri.tbody=Ri.tfoot=Ri.colgroup=Ri.caption=Ri.thead,Ri.th=Ri.td,a.option||(Ri.optgroup=Ri.option=[1,"<select multiple='multiple'>","</select>"]);var xi=/<|&#?\w+;/;function be($,mt,At,Dt,qt){for(var le,ye,je,ze,ni,Si,Ei=mt.createDocumentFragment(),mi=[],ci=0,pn=$.length;ci<pn;ci++)if((le=$[ci])||0===le)if("object"===x(le))h.merge(mi,le.nodeType?[le]:le);else if(xi.test(le)){for(ye=ye||Ei.appendChild(mt.createElement("div")),je=(gi.exec(le)||["",""])[1].toLowerCase(),ye.innerHTML=(ze=Ri[je]||Ri._default)[1]+h.htmlPrefilter(le)+ze[2],Si=ze[0];Si--;)ye=ye.lastChild;h.merge(mi,ye.childNodes),(ye=Ei.firstChild).textContent=""}else mi.push(mt.createTextNode(le));for(Ei.textContent="",ci=0;le=mi[ci++];)if(Dt&&-1<h.inArray(le,Dt))qt&&qt.push(le);else if(ni=Nt(le),ye=ti(Ei.appendChild(le),"script"),ni&&Ti(ye),At)for(Si=0;le=ye[Si++];)pi.test(le.type||"")&&At.push(le);return Ei}var ii=/^([^.]*)(?:\.(.+)|)/;function nt(){return!0}function St(){return!1}function Gt($,mt){return $===function(){try{return d.activeElement}catch{}}()==("focus"===mt)}function ee($,mt,At,Dt,qt,le){var ye,je;if("object"==typeof mt){for(je in"string"!=typeof At&&(Dt=Dt||At,At=void 0),mt)ee($,je,At,Dt,mt[je],le);return $}if(null==Dt&&null==qt?(qt=At,Dt=At=void 0):null==qt&&("string"==typeof At?(qt=Dt,Dt=void 0):(qt=Dt,Dt=At,At=void 0)),!1===qt)qt=St;else if(!qt)return $;return 1===le&&(ye=qt,(qt=function(ze){return h().off(ze),ye.apply(this,arguments)}).guid=ye.guid||(ye.guid=h.guid++)),$.each(function(){h.event.add(this,mt,qt,Dt,At)})}function ge($,mt,At){At?(Tt.set($,mt,!1),h.event.add($,mt,{namespace:!1,handler:function(Dt){var qt,le,ye=Tt.get(this,mt);if(1&Dt.isTrigger&&this[mt]){if(ye.length)(h.event.special[mt]||{}).delegateType&&Dt.stopPropagation();else if(ye=c.call(arguments),Tt.set(this,mt,ye),qt=At(this,mt),this[mt](),ye!==(le=Tt.get(this,mt))||qt?Tt.set(this,mt,!1):le={},ye!==le)return Dt.stopImmediatePropagation(),Dt.preventDefault(),le&&le.value}else ye.length&&(Tt.set(this,mt,{value:h.event.trigger(h.extend(ye[0],h.Event.prototype),ye.slice(1),this)}),Dt.stopImmediatePropagation())}})):void 0===Tt.get($,mt)&&h.event.add($,mt,nt)}h.event={global:{},add:function($,mt,At,Dt,qt){var le,ye,je,ze,ni,Si,Ei,mi,ci,pn,fn,wt=Tt.get($);if(vt($))for(At.handler&&(At=(le=At).handler,qt=le.selector),qt&&h.find.matchesSelector(Jt,qt),At.guid||(At.guid=h.guid++),(ze=wt.events)||(ze=wt.events=Object.create(null)),(ye=wt.handle)||(ye=wt.handle=function(Ht){return typeof h<"u"&&h.event.triggered!==Ht.type?h.event.dispatch.apply($,arguments):void 0}),ni=(mt=(mt||"").match(tt)||[""]).length;ni--;)ci=fn=(je=ii.exec(mt[ni])||[])[1],pn=(je[2]||"").split(".").sort(),ci&&(Ei=h.event.special[ci]||{},Ei=h.event.special[ci=(qt?Ei.delegateType:Ei.bindType)||ci]||{},Si=h.extend({type:ci,origType:fn,data:Dt,handler:At,guid:At.guid,selector:qt,needsContext:qt&&h.expr.match.needsContext.test(qt),namespace:pn.join(".")},le),(mi=ze[ci])||((mi=ze[ci]=[]).delegateCount=0,Ei.setup&&!1!==Ei.setup.call($,Dt,pn,ye)||$.addEventListener&&$.addEventListener(ci,ye)),Ei.add&&(Ei.add.call($,Si),Si.handler.guid||(Si.handler.guid=At.guid)),qt?mi.splice(mi.delegateCount++,0,Si):mi.push(Si),h.event.global[ci]=!0)},remove:function($,mt,At,Dt,qt){var le,ye,je,ze,ni,Si,Ei,mi,ci,pn,fn,wt=Tt.hasData($)&&Tt.get($);if(wt&&(ze=wt.events)){for(ni=(mt=(mt||"").match(tt)||[""]).length;ni--;)if(ci=fn=(je=ii.exec(mt[ni])||[])[1],pn=(je[2]||"").split(".").sort(),ci){for(Ei=h.event.special[ci]||{},mi=ze[ci=(Dt?Ei.delegateType:Ei.bindType)||ci]||[],je=je[2]&&new RegExp("(^|\\.)"+pn.join("\\.(?:.*\\.|)")+"(\\.|$)"),ye=le=mi.length;le--;)Si=mi[le],!qt&&fn!==Si.origType||At&&At.guid!==Si.guid||je&&!je.test(Si.namespace)||Dt&&Dt!==Si.selector&&("**"!==Dt||!Si.selector)||(mi.splice(le,1),Si.selector&&mi.delegateCount--,Ei.remove&&Ei.remove.call($,Si));ye&&!mi.length&&(Ei.teardown&&!1!==Ei.teardown.call($,pn,wt.handle)||h.removeEvent($,ci,wt.handle),delete ze[ci])}else for(ci in ze)h.event.remove($,ci+mt[ni],At,Dt,!0);h.isEmptyObject(ze)&&Tt.remove($,"handle events")}},dispatch:function($){var mt,At,Dt,qt,le,ye,je=new Array(arguments.length),ze=h.event.fix($),ni=(Tt.get(this,"events")||Object.create(null))[ze.type]||[],Si=h.event.special[ze.type]||{};for(je[0]=ze,mt=1;mt<arguments.length;mt++)je[mt]=arguments[mt];if(ze.delegateTarget=this,!Si.preDispatch||!1!==Si.preDispatch.call(this,ze)){for(ye=h.event.handlers.call(this,ze,ni),mt=0;(qt=ye[mt++])&&!ze.isPropagationStopped();)for(ze.currentTarget=qt.elem,At=0;(le=qt.handlers[At++])&&!ze.isImmediatePropagationStopped();)ze.rnamespace&&!1!==le.namespace&&!ze.rnamespace.test(le.namespace)||(ze.handleObj=le,ze.data=le.data,void 0!==(Dt=((h.event.special[le.origType]||{}).handle||le.handler).apply(qt.elem,je))&&!1===(ze.result=Dt)&&(ze.preventDefault(),ze.stopPropagation()));return Si.postDispatch&&Si.postDispatch.call(this,ze),ze.result}},handlers:function($,mt){var At,Dt,qt,le,ye,je=[],ze=mt.delegateCount,ni=$.target;if(ze&&ni.nodeType&&!("click"===$.type&&1<=$.button))for(;ni!==this;ni=ni.parentNode||this)if(1===ni.nodeType&&("click"!==$.type||!0!==ni.disabled)){for(le=[],ye={},At=0;At<ze;At++)void 0===ye[qt=(Dt=mt[At]).selector+" "]&&(ye[qt]=Dt.needsContext?-1<h(qt,this).index(ni):h.find(qt,this,null,[ni]).length),ye[qt]&&le.push(Dt);le.length&&je.push({elem:ni,handlers:le})}return ni=this,ze<mt.length&&je.push({elem:ni,handlers:mt.slice(ze)}),je},addProp:function($,mt){Object.defineProperty(h.Event.prototype,$,{enumerable:!0,configurable:!0,get:p(mt)?function(){if(this.originalEvent)return mt(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[$]},set:function(At){Object.defineProperty(this,$,{enumerable:!0,configurable:!0,writable:!0,value:At})}})},fix:function($){return $[h.expando]?$:new h.Event($)},special:{load:{noBubble:!0},click:{setup:function($){var mt=this||$;return Ai.test(mt.type)&&mt.click&&C(mt,"input")&&ge(mt,"click",nt),!1},trigger:function($){var mt=this||$;return Ai.test(mt.type)&&mt.click&&C(mt,"input")&&ge(mt,"click"),!0},_default:function($){var mt=$.target;return Ai.test(mt.type)&&mt.click&&C(mt,"input")&&Tt.get(mt,"click")||C(mt,"a")}},beforeunload:{postDispatch:function($){void 0!==$.result&&$.originalEvent&&($.originalEvent.returnValue=$.result)}}}},h.removeEvent=function($,mt,At){$.removeEventListener&&$.removeEventListener(mt,At)},h.Event=function($,mt){if(!(this instanceof h.Event))return new h.Event($,mt);$&&$.type?(this.originalEvent=$,this.type=$.type,this.isDefaultPrevented=$.defaultPrevented||void 0===$.defaultPrevented&&!1===$.returnValue?nt:St,this.target=$.target&&3===$.target.nodeType?$.target.parentNode:$.target,this.currentTarget=$.currentTarget,this.relatedTarget=$.relatedTarget):this.type=$,mt&&h.extend(this,mt),this.timeStamp=$&&$.timeStamp||Date.now(),this[h.expando]=!0},h.Event.prototype={constructor:h.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var $=this.originalEvent;this.isDefaultPrevented=nt,$&&!this.isSimulated&&$.preventDefault()},stopPropagation:function(){var $=this.originalEvent;this.isPropagationStopped=nt,$&&!this.isSimulated&&$.stopPropagation()},stopImmediatePropagation:function(){var $=this.originalEvent;this.isImmediatePropagationStopped=nt,$&&!this.isSimulated&&$.stopImmediatePropagation(),this.stopPropagation()}},h.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},h.event.addProp),h.each({focus:"focusin",blur:"focusout"},function($,mt){h.event.special[$]={setup:function(){return ge(this,$,Gt),!1},trigger:function(){return ge(this,$),!0},_default:function(At){return Tt.get(At.target,$)},delegateType:mt}}),h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function($,mt){h.event.special[$]={delegateType:mt,bindType:mt,handle:function(At){var Dt,qt=At.relatedTarget,le=At.handleObj;return qt&&(qt===this||h.contains(this,qt))||(At.type=le.origType,Dt=le.handler.apply(this,arguments),At.type=mt),Dt}}}),h.fn.extend({on:function($,mt,At,Dt){return ee(this,$,mt,At,Dt)},one:function($,mt,At,Dt){return ee(this,$,mt,At,Dt,1)},off:function($,mt,At){var Dt,qt;if($&&$.preventDefault&&$.handleObj)return Dt=$.handleObj,h($.delegateTarget).off(Dt.namespace?Dt.origType+"."+Dt.namespace:Dt.origType,Dt.selector,Dt.handler),this;if("object"==typeof $){for(qt in $)this.off(qt,mt,$[qt]);return this}return!1!==mt&&"function"!=typeof mt||(At=mt,mt=void 0),!1===At&&(At=St),this.each(function(){h.event.remove(this,$,At,mt)})}});var Ae=/<script|<style|<link/i,yi=/checked\s*(?:[^=]|=\s*.checked.)/i,Fi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Li($,mt){return C($,"table")&&C(11!==mt.nodeType?mt:mt.firstChild,"tr")&&h($).children("tbody")[0]||$}function qi($){return $.type=(null!==$.getAttribute("type"))+"/"+$.type,$}function cn($){return"true/"===($.type||"").slice(0,5)?$.type=$.type.slice(5):$.removeAttribute("type"),$}function Fn($,mt){var At,Dt,qt,le,ye,je;if(1===mt.nodeType){if(Tt.hasData($)&&(je=Tt.get($).events))for(qt in Tt.remove(mt,"handle events"),je)for(At=0,Dt=je[qt].length;At<Dt;At++)h.event.add(mt,qt,je[qt][At]);kt.hasData($)&&(le=kt.access($),ye=h.extend({},le),kt.set(mt,ye))}}function Gn($,mt,At,Dt){mt=T(mt);var qt,le,ye,je,ze,ni,Si=0,Ei=$.length,mi=Ei-1,ci=mt[0],pn=p(ci);if(pn||1<Ei&&"string"==typeof ci&&!a.checkClone&&yi.test(ci))return $.each(function(fn){var wt=$.eq(fn);pn&&(mt[0]=ci.call(this,fn,wt.html())),Gn(wt,mt,At,Dt)});if(Ei&&(le=(qt=be(mt,$[0].ownerDocument,!1,$,Dt)).firstChild,1===qt.childNodes.length&&(qt=le),le||Dt)){for(je=(ye=h.map(ti(qt,"script"),qi)).length;Si<Ei;Si++)ze=qt,Si!==mi&&(ze=h.clone(ze,!0,!0),je&&h.merge(ye,ti(ze,"script"))),At.call($[Si],ze,Si);if(je)for(ni=ye[ye.length-1].ownerDocument,h.map(ye,cn),Si=0;Si<je;Si++)pi.test((ze=ye[Si]).type||"")&&!Tt.access(ze,"globalEval")&&h.contains(ni,ze)&&(ze.src&&"module"!==(ze.type||"").toLowerCase()?h._evalUrl&&!ze.noModule&&h._evalUrl(ze.src,{nonce:ze.nonce||ze.getAttribute("nonce")},ni):w(ze.textContent.replace(Fi,""),ze,ni))}return $}function Yi($,mt,At){for(var Dt,qt=mt?h.filter(mt,$):$,le=0;null!=(Dt=qt[le]);le++)At||1!==Dt.nodeType||h.cleanData(ti(Dt)),Dt.parentNode&&(At&&Nt(Dt)&&Ti(ti(Dt,"script")),Dt.parentNode.removeChild(Dt));return $}h.extend({htmlPrefilter:function($){return $},clone:function($,mt,At){var Dt,qt,le,ye,je,ze,ni,Si=$.cloneNode(!0),Ei=Nt($);if(!(a.noCloneChecked||1!==$.nodeType&&11!==$.nodeType||h.isXMLDoc($)))for(ye=ti(Si),Dt=0,qt=(le=ti($)).length;Dt<qt;Dt++)je=le[Dt],"input"===(ni=(ze=ye[Dt]).nodeName.toLowerCase())&&Ai.test(je.type)?ze.checked=je.checked:"input"!==ni&&"textarea"!==ni||(ze.defaultValue=je.defaultValue);if(mt)if(At)for(le=le||ti($),ye=ye||ti(Si),Dt=0,qt=le.length;Dt<qt;Dt++)Fn(le[Dt],ye[Dt]);else Fn($,Si);return 0<(ye=ti(Si,"script")).length&&Ti(ye,!Ei&&ti($,"script")),Si},cleanData:function($){for(var mt,At,Dt,qt=h.event.special,le=0;void 0!==(At=$[le]);le++)if(vt(At)){if(mt=At[Tt.expando]){if(mt.events)for(Dt in mt.events)qt[Dt]?h.event.remove(At,Dt):h.removeEvent(At,Dt,mt.handle);At[Tt.expando]=void 0}At[kt.expando]&&(At[kt.expando]=void 0)}}}),h.fn.extend({detach:function($){return Yi(this,$,!0)},remove:function($){return Yi(this,$)},text:function($){return _t(this,function(mt){return void 0===mt?h.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=mt)})},null,$,arguments.length)},append:function(){return Gn(this,arguments,function($){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Li(this,$).appendChild($)})},prepend:function(){return Gn(this,arguments,function($){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var mt=Li(this,$);mt.insertBefore($,mt.firstChild)}})},before:function(){return Gn(this,arguments,function($){this.parentNode&&this.parentNode.insertBefore($,this)})},after:function(){return Gn(this,arguments,function($){this.parentNode&&this.parentNode.insertBefore($,this.nextSibling)})},empty:function(){for(var $,mt=0;null!=($=this[mt]);mt++)1===$.nodeType&&(h.cleanData(ti($,!1)),$.textContent="");return this},clone:function($,mt){return $=null!=$&&$,mt=mt??$,this.map(function(){return h.clone(this,$,mt)})},html:function($){return _t(this,function(mt){var At=this[0]||{},Dt=0,qt=this.length;if(void 0===mt&&1===At.nodeType)return At.innerHTML;if("string"==typeof mt&&!Ae.test(mt)&&!Ri[(gi.exec(mt)||["",""])[1].toLowerCase()]){mt=h.htmlPrefilter(mt);try{for(;Dt<qt;Dt++)1===(At=this[Dt]||{}).nodeType&&(h.cleanData(ti(At,!1)),At.innerHTML=mt);At=0}catch{}}At&&this.empty().append(mt)},null,$,arguments.length)},replaceWith:function(){var $=[];return Gn(this,arguments,function(mt){var At=this.parentNode;h.inArray(this,$)<0&&(h.cleanData(ti(this)),At&&At.replaceChild(mt,this))},$)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function($,mt){h.fn[$]=function(At){for(var Dt,qt=[],le=h(At),ye=le.length-1,je=0;je<=ye;je++)Dt=je===ye?this:this.clone(!0),h(le[je])[mt](Dt),M.apply(qt,Dt.get());return this.pushStack(qt)}});var ei=new RegExp("^("+$t+")(?!px)[a-z%]+$","i"),ai=/^--/,li=function($){var mt=$.ownerDocument.defaultView;return mt&&mt.opener||(mt=S),mt.getComputedStyle($)},Xi=function($,mt,At){var Dt,qt,le={};for(qt in mt)le[qt]=$.style[qt],$.style[qt]=mt[qt];for(qt in Dt=At.call($),mt)$.style[qt]=le[qt];return Dt},tn=new RegExp(ne.join("|"),"i"),Zi="[\\x20\\t\\r\\n\\f]",_n=new RegExp("^"+Zi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Zi+"+$","g");function ji($,mt,At){var Dt,qt,le,ye,je=ai.test(mt),ze=$.style;return(At=At||li($))&&(ye=At.getPropertyValue(mt)||At[mt],je&&(ye=ye.replace(_n,"$1")),""!==ye||Nt($)||(ye=h.style($,mt)),!a.pixelBoxStyles()&&ei.test(ye)&&tn.test(mt)&&(Dt=ze.width,qt=ze.minWidth,le=ze.maxWidth,ze.minWidth=ze.maxWidth=ze.width=ye,ye=At.width,ze.width=Dt,ze.minWidth=qt,ze.maxWidth=le)),void 0!==ye?ye+"":ye}function We($,mt){return{get:function(){if(!$())return(this.get=mt).apply(this,arguments);delete this.get}}}!function(){function $(){if(ni){ze.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ni.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Jt.appendChild(ze).appendChild(ni);var Si=S.getComputedStyle(ni);At="1%"!==Si.top,je=12===mt(Si.marginLeft),ni.style.right="60%",le=36===mt(Si.right),Dt=36===mt(Si.width),ni.style.position="absolute",qt=12===mt(ni.offsetWidth/3),Jt.removeChild(ze),ni=null}}function mt(Si){return Math.round(parseFloat(Si))}var At,Dt,qt,le,ye,je,ze=d.createElement("div"),ni=d.createElement("div");ni.style&&(ni.style.backgroundClip="content-box",ni.cloneNode(!0).style.backgroundClip="",a.clearCloneStyle="content-box"===ni.style.backgroundClip,h.extend(a,{boxSizingReliable:function(){return $(),Dt},pixelBoxStyles:function(){return $(),le},pixelPosition:function(){return $(),At},reliableMarginLeft:function(){return $(),je},scrollboxSize:function(){return $(),qt},reliableTrDimensions:function(){var Si,Ei,mi,ci;return null==ye&&(Si=d.createElement("table"),Ei=d.createElement("tr"),mi=d.createElement("div"),Si.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ei.style.cssText="border:1px solid",Ei.style.height="1px",mi.style.height="9px",mi.style.display="block",Jt.appendChild(Si).appendChild(Ei).appendChild(mi),ci=S.getComputedStyle(Ei),ye=parseInt(ci.height,10)+parseInt(ci.borderTopWidth,10)+parseInt(ci.borderBottomWidth,10)===Ei.offsetHeight,Jt.removeChild(Si)),ye}}))}();var Z=["Webkit","Moz","ms"],Q=d.createElement("div").style,ht={};function xt($){return h.cssProps[$]||ht[$]||($ in Q?$:ht[$]=function(At){for(var Dt=At[0].toUpperCase()+At.slice(1),qt=Z.length;qt--;)if((At=Z[qt]+Dt)in Q)return At}($)||$)}var Lt=/^(none|table(?!-c[ea]).+)/,Ut={position:"absolute",visibility:"hidden",display:"block"},re={letterSpacing:"0",fontWeight:"400"};function Xt($,mt,At){var Dt=Wt.exec(mt);return Dt?Math.max(0,Dt[2]-(At||0))+(Dt[3]||"px"):mt}function oe($,mt,At,Dt,qt,le){var ye="width"===mt?1:0,je=0,ze=0;if(At===(Dt?"border":"content"))return 0;for(;ye<4;ye+=2)"margin"===At&&(ze+=h.css($,At+ne[ye],!0,qt)),Dt?("content"===At&&(ze-=h.css($,"padding"+ne[ye],!0,qt)),"margin"!==At&&(ze-=h.css($,"border"+ne[ye]+"Width",!0,qt))):(ze+=h.css($,"padding"+ne[ye],!0,qt),"padding"!==At?ze+=h.css($,"border"+ne[ye]+"Width",!0,qt):je+=h.css($,"border"+ne[ye]+"Width",!0,qt));return!Dt&&0<=le&&(ze+=Math.max(0,Math.ceil($["offset"+mt[0].toUpperCase()+mt.slice(1)]-le-ze-je-.5))||0),ze}function Le($,mt,At){var Dt=li($),qt=(!a.boxSizingReliable()||At)&&"border-box"===h.css($,"boxSizing",!1,Dt),le=qt,ye=ji($,mt,Dt),je="offset"+mt[0].toUpperCase()+mt.slice(1);if(ei.test(ye)){if(!At)return ye;ye="auto"}return(!a.boxSizingReliable()&&qt||!a.reliableTrDimensions()&&C($,"tr")||"auto"===ye||!parseFloat(ye)&&"inline"===h.css($,"display",!1,Dt))&&$.getClientRects().length&&(qt="border-box"===h.css($,"boxSizing",!1,Dt),(le=je in $)&&(ye=$[je])),(ye=parseFloat(ye)||0)+oe($,mt,At||(qt?"border":"content"),le,Dt,ye)+"px"}function Oe($,mt,At,Dt,qt){return new Oe.prototype.init($,mt,At,Dt,qt)}h.extend({cssHooks:{opacity:{get:function($,mt){if(mt){var At=ji($,"opacity");return""===At?"1":At}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function($,mt,At,Dt){if($&&3!==$.nodeType&&8!==$.nodeType&&$.style){var qt,le,ye,je=Ct(mt),ze=ai.test(mt),ni=$.style;if(ze||(mt=xt(je)),ye=h.cssHooks[mt]||h.cssHooks[je],void 0===At)return ye&&"get"in ye&&void 0!==(qt=ye.get($,!1,Dt))?qt:ni[mt];"string"==(le=typeof At)&&(qt=Wt.exec(At))&&qt[1]&&(At=se($,mt,qt),le="number"),null!=At&&At==At&&("number"!==le||ze||(At+=qt&&qt[3]||(h.cssNumber[je]?"":"px")),a.clearCloneStyle||""!==At||0!==mt.indexOf("background")||(ni[mt]="inherit"),ye&&"set"in ye&&void 0===(At=ye.set($,At,Dt))||(ze?ni.setProperty(mt,At):ni[mt]=At))}},css:function($,mt,At,Dt){var qt,le,ye,je=Ct(mt);return ai.test(mt)||(mt=xt(je)),(ye=h.cssHooks[mt]||h.cssHooks[je])&&"get"in ye&&(qt=ye.get($,!0,At)),void 0===qt&&(qt=ji($,mt,Dt)),"normal"===qt&&mt in re&&(qt=re[mt]),""===At||At?(le=parseFloat(qt),!0===At||isFinite(le)?le||0:qt):qt}}),h.each(["height","width"],function($,mt){h.cssHooks[mt]={get:function(At,Dt,qt){if(Dt)return!Lt.test(h.css(At,"display"))||At.getClientRects().length&&At.getBoundingClientRect().width?Le(At,mt,qt):Xi(At,Ut,function(){return Le(At,mt,qt)})},set:function(At,Dt,qt){var le,ye=li(At),je=!a.scrollboxSize()&&"absolute"===ye.position,ze=(je||qt)&&"border-box"===h.css(At,"boxSizing",!1,ye),ni=qt?oe(At,mt,qt,ze,ye):0;return ze&&je&&(ni-=Math.ceil(At["offset"+mt[0].toUpperCase()+mt.slice(1)]-parseFloat(ye[mt])-oe(At,mt,"border",!1,ye)-.5)),ni&&(le=Wt.exec(Dt))&&"px"!==(le[3]||"px")&&(At.style[mt]=Dt,Dt=h.css(At,mt)),Xt(0,Dt,ni)}}}),h.cssHooks.marginLeft=We(a.reliableMarginLeft,function($,mt){if(mt)return(parseFloat(ji($,"marginLeft"))||$.getBoundingClientRect().left-Xi($,{marginLeft:0},function(){return $.getBoundingClientRect().left}))+"px"}),h.each({margin:"",padding:"",border:"Width"},function($,mt){h.cssHooks[$+mt]={expand:function(At){for(var Dt=0,qt={},le="string"==typeof At?At.split(" "):[At];Dt<4;Dt++)qt[$+ne[Dt]+mt]=le[Dt]||le[Dt-2]||le[0];return qt}},"margin"!==$&&(h.cssHooks[$+mt].set=Xt)}),h.fn.extend({css:function($,mt){return _t(this,function(At,Dt,qt){var le,ye,je={},ze=0;if(Array.isArray(Dt)){for(le=li(At),ye=Dt.length;ze<ye;ze++)je[Dt[ze]]=h.css(At,Dt[ze],!1,le);return je}return void 0!==qt?h.style(At,Dt,qt):h.css(At,Dt)},$,mt,1<arguments.length)}}),((h.Tween=Oe).prototype={constructor:Oe,init:function($,mt,At,Dt,qt,le){this.elem=$,this.prop=At,this.easing=qt||h.easing._default,this.options=mt,this.start=this.now=this.cur(),this.end=Dt,this.unit=le||(h.cssNumber[At]?"":"px")},cur:function(){var $=Oe.propHooks[this.prop];return $&&$.get?$.get(this):Oe.propHooks._default.get(this)},run:function($){var mt,At=Oe.propHooks[this.prop];return this.pos=mt=this.options.duration?h.easing[this.easing]($,this.options.duration*$,0,1,this.options.duration):$,this.now=(this.end-this.start)*mt+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),At&&At.set?At.set(this):Oe.propHooks._default.set(this),this}}).init.prototype=Oe.prototype,(Oe.propHooks={_default:{get:function($){var mt;return 1!==$.elem.nodeType||null!=$.elem[$.prop]&&null==$.elem.style[$.prop]?$.elem[$.prop]:(mt=h.css($.elem,$.prop,""))&&"auto"!==mt?mt:0},set:function($){h.fx.step[$.prop]?h.fx.step[$.prop]($):1!==$.elem.nodeType||!h.cssHooks[$.prop]&&null==$.elem.style[xt($.prop)]?$.elem[$.prop]=$.now:h.style($.elem,$.prop,$.now+$.unit)}}}).scrollTop=Oe.propHooks.scrollLeft={set:function($){$.elem.nodeType&&$.elem.parentNode&&($.elem[$.prop]=$.now)}},h.easing={linear:function($){return $},swing:function($){return.5-Math.cos($*Math.PI)/2},_default:"swing"},h.fx=Oe.prototype.init,h.fx.step={};var Qe,ue,Ye,De,di=/^(?:toggle|show|hide)$/,Xe=/queueHooks$/;function Oi(){ue&&(!1===d.hidden&&S.requestAnimationFrame?S.requestAnimationFrame(Oi):S.setTimeout(Oi,h.fx.interval),h.fx.tick())}function ki(){return S.setTimeout(function(){Qe=void 0}),Qe=Date.now()}function oi($,mt){var At,Dt=0,qt={height:$};for(mt=mt?1:0;Dt<4;Dt+=2-mt)qt["margin"+(At=ne[Dt])]=qt["padding"+At]=$;return mt&&(qt.opacity=qt.width=$),qt}function an($,mt,At){for(var Dt,qt=(Ii.tweeners[mt]||[]).concat(Ii.tweeners["*"]),le=0,ye=qt.length;le<ye;le++)if(Dt=qt[le].call(At,mt,$))return Dt}function Ii($,mt,At){var Dt,qt,le=0,ye=Ii.prefilters.length,je=h.Deferred().always(function(){delete ze.elem}),ze=function(){if(qt)return!1;for(var Ei=Qe||ki(),mi=Math.max(0,ni.startTime+ni.duration-Ei),ci=1-(mi/ni.duration||0),pn=0,fn=ni.tweens.length;pn<fn;pn++)ni.tweens[pn].run(ci);return je.notifyWith($,[ni,ci,mi]),ci<1&&fn?mi:(fn||je.notifyWith($,[ni,1,0]),je.resolveWith($,[ni]),!1)},ni=je.promise({elem:$,props:h.extend({},mt),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},At),originalProperties:mt,originalOptions:At,startTime:Qe||ki(),duration:At.duration,tweens:[],createTween:function(Ei,mi){var ci=h.Tween($,ni.opts,Ei,mi,ni.opts.specialEasing[Ei]||ni.opts.easing);return ni.tweens.push(ci),ci},stop:function(Ei){var mi=0,ci=Ei?ni.tweens.length:0;if(qt)return this;for(qt=!0;mi<ci;mi++)ni.tweens[mi].run(1);return Ei?(je.notifyWith($,[ni,1,0]),je.resolveWith($,[ni,Ei])):je.rejectWith($,[ni,Ei]),this}}),Si=ni.props;for(function(Ei,mi){var ci,pn,fn,wt,Ht;for(ci in Ei)if(fn=mi[pn=Ct(ci)],wt=Ei[ci],Array.isArray(wt)&&(fn=wt[1],wt=Ei[ci]=wt[0]),ci!==pn&&(Ei[pn]=wt,delete Ei[ci]),(Ht=h.cssHooks[pn])&&"expand"in Ht)for(ci in wt=Ht.expand(wt),delete Ei[pn],wt)ci in Ei||(Ei[ci]=wt[ci],mi[ci]=fn);else mi[pn]=fn}(Si,ni.opts.specialEasing);le<ye;le++)if(Dt=Ii.prefilters[le].call(ni,$,Si,ni.opts))return p(Dt.stop)&&(h._queueHooks(ni.elem,ni.opts.queue).stop=Dt.stop.bind(Dt)),Dt;return h.map(Si,an,ni),p(ni.opts.start)&&ni.opts.start.call($,ni),ni.progress(ni.opts.progress).done(ni.opts.done,ni.opts.complete).fail(ni.opts.fail).always(ni.opts.always),h.fx.timer(h.extend(ze,{elem:$,anim:ni,queue:ni.opts.queue})),ni}h.Animation=h.extend(Ii,{tweeners:{"*":[function($,mt){var At=this.createTween($,mt);return se(At.elem,$,Wt.exec(mt),At),At}]},tweener:function($,mt){p($)?(mt=$,$=["*"]):$=$.match(tt);for(var At,Dt=0,qt=$.length;Dt<qt;Dt++)(Ii.tweeners[At=$[Dt]]=Ii.tweeners[At]||[]).unshift(mt)},prefilters:[function($,mt,At){var Dt,qt,le,ye,je,ze,ni,Si,Ei="width"in mt||"height"in mt,mi=this,ci={},pn=$.style,fn=$.nodeType&&ie($),wt=Tt.get($,"fxshow");for(Dt in At.queue||(null==(ye=h._queueHooks($,"fx")).unqueued&&(ye.unqueued=0,je=ye.empty.fire,ye.empty.fire=function(){ye.unqueued||je()}),ye.unqueued++,mi.always(function(){mi.always(function(){ye.unqueued--,h.queue($,"fx").length||ye.empty.fire()})})),mt)if(di.test(qt=mt[Dt])){if(delete mt[Dt],le=le||"toggle"===qt,qt===(fn?"hide":"show")){if("show"!==qt||!wt||void 0===wt[Dt])continue;fn=!0}ci[Dt]=wt&&wt[Dt]||h.style($,Dt)}if((ze=!h.isEmptyObject(mt))||!h.isEmptyObject(ci))for(Dt in Ei&&1===$.nodeType&&(At.overflow=[pn.overflow,pn.overflowX,pn.overflowY],null==(ni=wt&&wt.display)&&(ni=Tt.get($,"display")),"none"===(Si=h.css($,"display"))&&(ni?Si=ni:(te([$],!0),ni=$.style.display||ni,Si=h.css($,"display"),te([$]))),("inline"===Si||"inline-block"===Si&&null!=ni)&&"none"===h.css($,"float")&&(ze||(mi.done(function(){pn.display=ni}),null==ni&&(ni="none"===(Si=pn.display)?"":Si)),pn.display="inline-block")),At.overflow&&(pn.overflow="hidden",mi.always(function(){pn.overflow=At.overflow[0],pn.overflowX=At.overflow[1],pn.overflowY=At.overflow[2]})),ze=!1,ci)ze||(wt?"hidden"in wt&&(fn=wt.hidden):wt=Tt.access($,"fxshow",{display:ni}),le&&(wt.hidden=!fn),fn&&te([$],!0),mi.done(function(){for(Dt in fn||te([$]),Tt.remove($,"fxshow"),ci)h.style($,Dt,ci[Dt])})),ze=an(fn?wt[Dt]:0,Dt,mi),Dt in wt||(wt[Dt]=ze.start,fn&&(ze.end=ze.start,ze.start=0))}],prefilter:function($,mt){mt?Ii.prefilters.unshift($):Ii.prefilters.push($)}}),h.speed=function($,mt,At){var Dt=$&&"object"==typeof $?h.extend({},$):{complete:At||!At&&mt||p($)&&$,duration:$,easing:At&&mt||mt&&!p(mt)&&mt};return h.fx.off?Dt.duration=0:"number"!=typeof Dt.duration&&(Dt.duration=Dt.duration in h.fx.speeds?h.fx.speeds[Dt.duration]:h.fx.speeds._default),null!=Dt.queue&&!0!==Dt.queue||(Dt.queue="fx"),Dt.old=Dt.complete,Dt.complete=function(){p(Dt.old)&&Dt.old.call(this),Dt.queue&&h.dequeue(this,Dt.queue)},Dt},h.fn.extend({fadeTo:function($,mt,At,Dt){return this.filter(ie).css("opacity",0).show().end().animate({opacity:mt},$,At,Dt)},animate:function($,mt,At,Dt){var qt=h.isEmptyObject($),le=h.speed(mt,At,Dt),ye=function(){var je=Ii(this,h.extend({},$),le);(qt||Tt.get(this,"finish"))&&je.stop(!0)};return ye.finish=ye,qt||!1===le.queue?this.each(ye):this.queue(le.queue,ye)},stop:function($,mt,At){var Dt=function(qt){var le=qt.stop;delete qt.stop,le(At)};return"string"!=typeof $&&(At=mt,mt=$,$=void 0),mt&&this.queue($||"fx",[]),this.each(function(){var qt=!0,le=null!=$&&$+"queueHooks",ye=h.timers,je=Tt.get(this);if(le)je[le]&&je[le].stop&&Dt(je[le]);else for(le in je)je[le]&&je[le].stop&&Xe.test(le)&&Dt(je[le]);for(le=ye.length;le--;)ye[le].elem!==this||null!=$&&ye[le].queue!==$||(ye[le].anim.stop(At),qt=!1,ye.splice(le,1));!qt&&At||h.dequeue(this,$)})},finish:function($){return!1!==$&&($=$||"fx"),this.each(function(){var mt,At=Tt.get(this),Dt=At[$+"queue"],qt=At[$+"queueHooks"],le=h.timers,ye=Dt?Dt.length:0;for(At.finish=!0,h.queue(this,$,[]),qt&&qt.stop&&qt.stop.call(this,!0),mt=le.length;mt--;)le[mt].elem===this&&le[mt].queue===$&&(le[mt].anim.stop(!0),le.splice(mt,1));for(mt=0;mt<ye;mt++)Dt[mt]&&Dt[mt].finish&&Dt[mt].finish.call(this);delete At.finish})}}),h.each(["toggle","show","hide"],function($,mt){var At=h.fn[mt];h.fn[mt]=function(Dt,qt,le){return null==Dt||"boolean"==typeof Dt?At.apply(this,arguments):this.animate(oi(mt,!0),Dt,qt,le)}}),h.each({slideDown:oi("show"),slideUp:oi("hide"),slideToggle:oi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function($,mt){h.fn[$]=function(At,Dt,qt){return this.animate(mt,At,Dt,qt)}}),h.timers=[],h.fx.tick=function(){var $,mt=0,At=h.timers;for(Qe=Date.now();mt<At.length;mt++)($=At[mt])()||At[mt]!==$||At.splice(mt--,1);At.length||h.fx.stop(),Qe=void 0},h.fx.timer=function($){h.timers.push($),h.fx.start()},h.fx.interval=13,h.fx.start=function(){ue||(ue=!0,Oi())},h.fx.stop=function(){ue=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function($,mt){return $=h.fx&&h.fx.speeds[$]||$,this.queue(mt=mt||"fx",function(At,Dt){var qt=S.setTimeout(At,$);Dt.stop=function(){S.clearTimeout(qt)}})},Ye=d.createElement("input"),De=d.createElement("select").appendChild(d.createElement("option")),Ye.type="checkbox",a.checkOn=""!==Ye.value,a.optSelected=De.selected,(Ye=d.createElement("input")).value="t",Ye.type="radio",a.radioValue="t"===Ye.value;var Pn,yn=h.expr.attrHandle;h.fn.extend({attr:function($,mt){return _t(this,h.attr,$,mt,1<arguments.length)},removeAttr:function($){return this.each(function(){h.removeAttr(this,$)})}}),h.extend({attr:function($,mt,At){var Dt,qt,le=$.nodeType;if(3!==le&&8!==le&&2!==le)return typeof $.getAttribute>"u"?h.prop($,mt,At):(1===le&&h.isXMLDoc($)||(qt=h.attrHooks[mt.toLowerCase()]||(h.expr.match.bool.test(mt)?Pn:void 0)),void 0!==At?null===At?void h.removeAttr($,mt):qt&&"set"in qt&&void 0!==(Dt=qt.set($,At,mt))?Dt:($.setAttribute(mt,At+""),At):qt&&"get"in qt&&null!==(Dt=qt.get($,mt))?Dt:null==(Dt=h.find.attr($,mt))?void 0:Dt)},attrHooks:{type:{set:function($,mt){if(!a.radioValue&&"radio"===mt&&C($,"input")){var At=$.value;return $.setAttribute("type",mt),At&&($.value=At),mt}}}},removeAttr:function($,mt){var At,Dt=0,qt=mt&&mt.match(tt);if(qt&&1===$.nodeType)for(;At=qt[Dt++];)$.removeAttribute(At)}}),Pn={set:function($,mt,At){return!1===mt?h.removeAttr($,At):$.setAttribute(At,At),At}},h.each(h.expr.match.bool.source.match(/\w+/g),function($,mt){var At=yn[mt]||h.find.attr;yn[mt]=function(Dt,qt,le){var ye,je,ze=qt.toLowerCase();return le||(je=yn[ze],yn[ze]=ye,ye=null!=At(Dt,qt,le)?ze:null,yn[ze]=je),ye}});var bn=/^(?:input|select|textarea|button)$/i,En=/^(?:a|area)$/i;function kn($){return($.match(tt)||[]).join(" ")}function Qn($){return $.getAttribute&&$.getAttribute("class")||""}function wn($){return Array.isArray($)?$:"string"==typeof $&&$.match(tt)||[]}h.fn.extend({prop:function($,mt){return _t(this,h.prop,$,mt,1<arguments.length)},removeProp:function($){return this.each(function(){delete this[h.propFix[$]||$]})}}),h.extend({prop:function($,mt,At){var Dt,qt,le=$.nodeType;if(3!==le&&8!==le&&2!==le)return 1===le&&h.isXMLDoc($)||(qt=h.propHooks[mt=h.propFix[mt]||mt]),void 0!==At?qt&&"set"in qt&&void 0!==(Dt=qt.set($,At,mt))?Dt:$[mt]=At:qt&&"get"in qt&&null!==(Dt=qt.get($,mt))?Dt:$[mt]},propHooks:{tabIndex:{get:function($){var mt=h.find.attr($,"tabindex");return mt?parseInt(mt,10):bn.test($.nodeName)||En.test($.nodeName)&&$.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),a.optSelected||(h.propHooks.selected={get:function($){return null},set:function($){}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),h.fn.extend({addClass:function($){var mt,At,Dt,qt,le,ye;return p($)?this.each(function(je){h(this).addClass($.call(this,je,Qn(this)))}):(mt=wn($)).length?this.each(function(){if(Dt=Qn(this),At=1===this.nodeType&&" "+kn(Dt)+" "){for(le=0;le<mt.length;le++)At.indexOf(" "+(qt=mt[le])+" ")<0&&(At+=qt+" ");ye=kn(At),Dt!==ye&&this.setAttribute("class",ye)}}):this},removeClass:function($){var mt,At,Dt,qt,le,ye;return p($)?this.each(function(je){h(this).removeClass($.call(this,je,Qn(this)))}):arguments.length?(mt=wn($)).length?this.each(function(){if(Dt=Qn(this),At=1===this.nodeType&&" "+kn(Dt)+" "){for(le=0;le<mt.length;le++)for(qt=mt[le];-1<At.indexOf(" "+qt+" ");)At=At.replace(" "+qt+" "," ");ye=kn(At),Dt!==ye&&this.setAttribute("class",ye)}}):this:this.attr("class","")},toggleClass:function($,mt){var At,Dt,qt,le,ye=typeof $,je="string"===ye||Array.isArray($);return p($)?this.each(function(ze){h(this).toggleClass($.call(this,ze,Qn(this),mt),mt)}):"boolean"==typeof mt&&je?mt?this.addClass($):this.removeClass($):(At=wn($),this.each(function(){if(je)for(le=h(this),qt=0;qt<At.length;qt++)le.hasClass(Dt=At[qt])?le.removeClass(Dt):le.addClass(Dt);else void 0!==$&&"boolean"!==ye||((Dt=Qn(this))&&Tt.set(this,"__className__",Dt),this.setAttribute&&this.setAttribute("class",Dt||!1===$?"":Tt.get(this,"__className__")||""))}))},hasClass:function($){var mt,At,Dt=0;for(mt=" "+$+" ";At=this[Dt++];)if(1===At.nodeType&&-1<(" "+kn(Qn(At))+" ").indexOf(mt))return!0;return!1}});var Yn=/\r/g;h.fn.extend({val:function($){var mt,At,Dt,qt=this[0];return arguments.length?(Dt=p($),this.each(function(le){var ye;1===this.nodeType&&(null==(ye=Dt?$.call(this,le,h(this).val()):$)?ye="":"number"==typeof ye?ye+="":Array.isArray(ye)&&(ye=h.map(ye,function(je){return null==je?"":je+""})),(mt=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in mt&&void 0!==mt.set(this,ye,"value")||(this.value=ye))})):qt?(mt=h.valHooks[qt.type]||h.valHooks[qt.nodeName.toLowerCase()])&&"get"in mt&&void 0!==(At=mt.get(qt,"value"))?At:"string"==typeof(At=qt.value)?At.replace(Yn,""):At??"":void 0}}),h.extend({valHooks:{option:{get:function($){return h.find.attr($,"value")??kn(h.text($))}},select:{get:function($){var mt,At,Dt,qt=$.options,le=$.selectedIndex,ye="select-one"===$.type,je=ye?null:[],ze=ye?le+1:qt.length;for(Dt=le<0?ze:ye?le:0;Dt<ze;Dt++)if(((At=qt[Dt]).selected||Dt===le)&&!At.disabled&&(!At.parentNode.disabled||!C(At.parentNode,"optgroup"))){if(mt=h(At).val(),ye)return mt;je.push(mt)}return je},set:function($,mt){for(var At,Dt,qt=$.options,le=h.makeArray(mt),ye=qt.length;ye--;)((Dt=qt[ye]).selected=-1<h.inArray(h.valHooks.option.get(Dt),le))&&(At=!0);return At||($.selectedIndex=-1),le}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function($,mt){if(Array.isArray(mt))return $.checked=-1<h.inArray(h($).val(),mt)}},a.checkOn||(h.valHooks[this].get=function($){return null===$.getAttribute("value")?"on":$.value})}),a.focusin="onfocusin"in S;var In=/^(?:focusinfocus|focusoutblur)$/,An=function($){$.stopPropagation()};h.extend(h.event,{trigger:function($,mt,At,Dt){var qt,le,ye,je,ze,ni,Si,Ei,mi=[At||d],ci=z.call($,"type")?$.type:$,pn=z.call($,"namespace")?$.namespace.split("."):[];if(le=Ei=ye=At=At||d,3!==At.nodeType&&8!==At.nodeType&&!In.test(ci+h.event.triggered)&&(-1<ci.indexOf(".")&&(ci=(pn=ci.split(".")).shift(),pn.sort()),ze=ci.indexOf(":")<0&&"on"+ci,($=$[h.expando]?$:new h.Event(ci,"object"==typeof $&&$)).isTrigger=Dt?2:3,$.namespace=pn.join("."),$.rnamespace=$.namespace?new RegExp("(^|\\.)"+pn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,$.result=void 0,$.target||($.target=At),mt=null==mt?[$]:h.makeArray(mt,[$]),Si=h.event.special[ci]||{},Dt||!Si.trigger||!1!==Si.trigger.apply(At,mt))){if(!Dt&&!Si.noBubble&&!l(At)){for(In.test((je=Si.delegateType||ci)+ci)||(le=le.parentNode);le;le=le.parentNode)mi.push(le),ye=le;ye===(At.ownerDocument||d)&&mi.push(ye.defaultView||ye.parentWindow||S)}for(qt=0;(le=mi[qt++])&&!$.isPropagationStopped();)Ei=le,$.type=1<qt?je:Si.bindType||ci,(ni=(Tt.get(le,"events")||Object.create(null))[$.type]&&Tt.get(le,"handle"))&&ni.apply(le,mt),(ni=ze&&le[ze])&&ni.apply&&vt(le)&&($.result=ni.apply(le,mt),!1===$.result&&$.preventDefault());return $.type=ci,Dt||$.isDefaultPrevented()||Si._default&&!1!==Si._default.apply(mi.pop(),mt)||!vt(At)||ze&&p(At[ci])&&!l(At)&&((ye=At[ze])&&(At[ze]=null),h.event.triggered=ci,$.isPropagationStopped()&&Ei.addEventListener(ci,An),At[ci](),$.isPropagationStopped()&&Ei.removeEventListener(ci,An),h.event.triggered=void 0,ye&&(At[ze]=ye)),$.result}},simulate:function($,mt,At){var Dt=h.extend(new h.Event,At,{type:$,isSimulated:!0});h.event.trigger(Dt,null,mt)}}),h.fn.extend({trigger:function($,mt){return this.each(function(){h.event.trigger($,mt,this)})},triggerHandler:function($,mt){var At=this[0];if(At)return h.event.trigger($,mt,At,!0)}}),a.focusin||h.each({focus:"focusin",blur:"focusout"},function($,mt){var At=function(Dt){h.event.simulate(mt,Dt.target,h.event.fix(Dt))};h.event.special[mt]={setup:function(){var Dt=this.ownerDocument||this.document||this,qt=Tt.access(Dt,mt);qt||Dt.addEventListener($,At,!0),Tt.access(Dt,mt,(qt||0)+1)},teardown:function(){var Dt=this.ownerDocument||this.document||this,qt=Tt.access(Dt,mt)-1;qt?Tt.access(Dt,mt,qt):(Dt.removeEventListener($,At,!0),Tt.remove(Dt,mt))}}});var zi=S.location,Xn={guid:Date.now()},Lr=/\?/;h.parseXML=function($){var mt,At;if(!$||"string"!=typeof $)return null;try{mt=(new S.DOMParser).parseFromString($,"text/xml")}catch{}return At=mt&&mt.getElementsByTagName("parsererror")[0],mt&&!At||h.error("Invalid XML: "+(At?h.map(At.childNodes,function(Dt){return Dt.textContent}).join("\n"):$)),mt};var qn=/\[\]$/,lr=/\r?\n/g,Xr=/^(?:submit|button|image|reset|file)$/i,Kr=/^(?:input|select|textarea|keygen)/i;function nr($,mt,At,Dt){var qt;if(Array.isArray(mt))h.each(mt,function(le,ye){At||qn.test($)?Dt($,ye):nr($+"["+("object"==typeof ye&&null!=ye?le:"")+"]",ye,At,Dt)});else if(At||"object"!==x(mt))Dt($,mt);else for(qt in mt)nr($+"["+qt+"]",mt[qt],At,Dt)}h.param=function($,mt){var At,Dt=[],qt=function(le,ye){var je=p(ye)?ye():ye;Dt[Dt.length]=encodeURIComponent(le)+"="+encodeURIComponent(je??"")};if(null==$)return"";if(Array.isArray($)||$.jquery&&!h.isPlainObject($))h.each($,function(){qt(this.name,this.value)});else for(At in $)nr(At,$[At],mt,qt);return Dt.join("&")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var $=h.prop(this,"elements");return $?h.makeArray($):this}).filter(function(){var $=this.type;return this.name&&!h(this).is(":disabled")&&Kr.test(this.nodeName)&&!Xr.test($)&&(this.checked||!Ai.test($))}).map(function($,mt){var At=h(this).val();return null==At?null:Array.isArray(At)?h.map(At,function(Dt){return{name:mt.name,value:Dt.replace(lr,"\r\n")}}):{name:mt.name,value:At.replace(lr,"\r\n")}}).get()}});var Rr=/%20/g,kr=/#.*$/,Ur=/([?&])_=[^&]*/,Br=/^(.*?):[ \t]*([^\r\n]*)$/gm,wr=/^(?:GET|HEAD)$/,io=/^\/\//,no={},Bo={},Jr="*/".concat("*"),Vo=d.createElement("a");function Zr($){return function(mt,At){"string"!=typeof mt&&(At=mt,mt="*");var Dt,qt=0,le=mt.toLowerCase().match(tt)||[];if(p(At))for(;Dt=le[qt++];)"+"===Dt[0]?(Dt=Dt.slice(1)||"*",($[Dt]=$[Dt]||[]).unshift(At)):($[Dt]=$[Dt]||[]).push(At)}}function to($,mt,At,Dt){var qt={},le=$===Bo;function ye(je){var ze;return qt[je]=!0,h.each($[je]||[],function(ni,Si){var Ei=Si(mt,At,Dt);return"string"!=typeof Ei||le||qt[Ei]?le?!(ze=Ei):void 0:(mt.dataTypes.unshift(Ei),ye(Ei),!1)}),ze}return ye(mt.dataTypes[0])||!qt["*"]&&ye("*")}function fo($,mt){var At,Dt,qt=h.ajaxSettings.flatOptions||{};for(At in mt)void 0!==mt[At]&&((qt[At]?$:Dt||(Dt={}))[At]=mt[At]);return Dt&&h.extend(!0,$,Dt),$}Vo.href=zi.href,h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zi.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(zi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function($,mt){return mt?fo(fo($,h.ajaxSettings),mt):fo(h.ajaxSettings,$)},ajaxPrefilter:Zr(no),ajaxTransport:Zr(Bo),ajax:function($,mt){"object"==typeof $&&(mt=$,$=void 0);var At,Dt,qt,le,ye,je,ze,ni,Si,Ei,mi=h.ajaxSetup({},mt=mt||{}),ci=mi.context||mi,pn=mi.context&&(ci.nodeType||ci.jquery)?h(ci):h.event,fn=h.Deferred(),wt=h.Callbacks("once memory"),Ht=mi.statusCode||{},me={},xe={},Me="canceled",Ee={readyState:0,getResponseHeader:function(Ne){var _i;if(ze){if(!le)for(le={};_i=Br.exec(qt);)le[_i[1].toLowerCase()+" "]=(le[_i[1].toLowerCase()+" "]||[]).concat(_i[2]);_i=le[Ne.toLowerCase()+" "]}return null==_i?null:_i.join(", ")},getAllResponseHeaders:function(){return ze?qt:null},setRequestHeader:function(Ne,_i){return null==ze&&(Ne=xe[Ne.toLowerCase()]=xe[Ne.toLowerCase()]||Ne,me[Ne]=_i),this},overrideMimeType:function(Ne){return null==ze&&(mi.mimeType=Ne),this},statusCode:function(Ne){var _i;if(Ne)if(ze)Ee.always(Ne[Ee.status]);else for(_i in Ne)Ht[_i]=[Ht[_i],Ne[_i]];return this},abort:function(Ne){var _i=Ne||Me;return At&&At.abort(_i),Ze(0,_i),this}};if(fn.promise(Ee),mi.url=(($||mi.url||zi.href)+"").replace(io,zi.protocol+"//"),mi.type=mt.method||mt.type||mi.method||mi.type,mi.dataTypes=(mi.dataType||"*").toLowerCase().match(tt)||[""],null==mi.crossDomain){je=d.createElement("a");try{je.href=mi.url,je.href=je.href,mi.crossDomain=Vo.protocol+"//"+Vo.host!=je.protocol+"//"+je.host}catch{mi.crossDomain=!0}}if(mi.data&&mi.processData&&"string"!=typeof mi.data&&(mi.data=h.param(mi.data,mi.traditional)),to(no,mi,mt,Ee),ze)return Ee;for(Si in(ni=h.event&&mi.global)&&0==h.active++&&h.event.trigger("ajaxStart"),mi.type=mi.type.toUpperCase(),mi.hasContent=!wr.test(mi.type),Dt=mi.url.replace(kr,""),mi.hasContent?mi.data&&mi.processData&&0===(mi.contentType||"").indexOf("application/x-www-form-urlencoded")&&(mi.data=mi.data.replace(Rr,"+")):(Ei=mi.url.slice(Dt.length),mi.data&&(mi.processData||"string"==typeof mi.data)&&(Dt+=(Lr.test(Dt)?"&":"?")+mi.data,delete mi.data),!1===mi.cache&&(Dt=Dt.replace(Ur,"$1"),Ei=(Lr.test(Dt)?"&":"?")+"_="+Xn.guid+++Ei),mi.url=Dt+Ei),mi.ifModified&&(h.lastModified[Dt]&&Ee.setRequestHeader("If-Modified-Since",h.lastModified[Dt]),h.etag[Dt]&&Ee.setRequestHeader("If-None-Match",h.etag[Dt])),(mi.data&&mi.hasContent&&!1!==mi.contentType||mt.contentType)&&Ee.setRequestHeader("Content-Type",mi.contentType),Ee.setRequestHeader("Accept",mi.dataTypes[0]&&mi.accepts[mi.dataTypes[0]]?mi.accepts[mi.dataTypes[0]]+("*"!==mi.dataTypes[0]?", "+Jr+"; q=0.01":""):mi.accepts["*"]),mi.headers)Ee.setRequestHeader(Si,mi.headers[Si]);if(mi.beforeSend&&(!1===mi.beforeSend.call(ci,Ee,mi)||ze))return Ee.abort();if(Me="abort",wt.add(mi.complete),Ee.done(mi.success),Ee.fail(mi.error),At=to(Bo,mi,mt,Ee)){if(Ee.readyState=1,ni&&pn.trigger("ajaxSend",[Ee,mi]),ze)return Ee;mi.async&&0<mi.timeout&&(ye=S.setTimeout(function(){Ee.abort("timeout")},mi.timeout));try{ze=!1,At.send(me,Ze)}catch(Ne){if(ze)throw Ne;Ze(-1,Ne)}}else Ze(-1,"No Transport");function Ze(Ne,_i,vi,Ki){var ln,Mn,mr,Un,Dr,vr=_i;ze||(ze=!0,ye&&S.clearTimeout(ye),At=void 0,qt=Ki||"",Ee.readyState=0<Ne?4:0,ln=200<=Ne&&Ne<300||304===Ne,vi&&(Un=function(_r,Qr,hr){for(var Wr,Vn,xr,Vr,Co=_r.contents,ro=_r.dataTypes;"*"===ro[0];)ro.shift(),void 0===Wr&&(Wr=_r.mimeType||Qr.getResponseHeader("Content-Type"));if(Wr)for(Vn in Co)if(Co[Vn]&&Co[Vn].test(Wr)){ro.unshift(Vn);break}if(ro[0]in hr)xr=ro[0];else{for(Vn in hr){if(!ro[0]||_r.converters[Vn+" "+ro[0]]){xr=Vn;break}Vr||(Vr=Vn)}xr=xr||Vr}if(xr)return xr!==ro[0]&&ro.unshift(xr),hr[xr]}(mi,Ee,vi)),!ln&&-1<h.inArray("script",mi.dataTypes)&&h.inArray("json",mi.dataTypes)<0&&(mi.converters["text script"]=function(){}),Un=function(_r,Qr,hr,Wr){var Vn,xr,Vr,Co,ro,cr={},Gs=_r.dataTypes.slice();if(Gs[1])for(Vr in _r.converters)cr[Vr.toLowerCase()]=_r.converters[Vr];for(xr=Gs.shift();xr;)if(_r.responseFields[xr]&&(hr[_r.responseFields[xr]]=Qr),!ro&&Wr&&_r.dataFilter&&(Qr=_r.dataFilter(Qr,_r.dataType)),ro=xr,xr=Gs.shift())if("*"===xr)xr=ro;else if("*"!==ro&&ro!==xr){if(!(Vr=cr[ro+" "+xr]||cr["* "+xr]))for(Vn in cr)if((Co=Vn.split(" "))[1]===xr&&(Vr=cr[ro+" "+Co[0]]||cr["* "+Co[0]])){!0===Vr?Vr=cr[Vn]:!0!==cr[Vn]&&(xr=Co[0],Gs.unshift(Co[1]));break}if(!0!==Vr)if(Vr&&_r.throws)Qr=Vr(Qr);else try{Qr=Vr(Qr)}catch(Go){return{state:"parsererror",error:Vr?Go:"No conversion from "+ro+" to "+xr}}}return{state:"success",data:Qr}}(mi,Un,Ee,ln),ln?(mi.ifModified&&((Dr=Ee.getResponseHeader("Last-Modified"))&&(h.lastModified[Dt]=Dr),(Dr=Ee.getResponseHeader("etag"))&&(h.etag[Dt]=Dr)),204===Ne||"HEAD"===mi.type?vr="nocontent":304===Ne?vr="notmodified":(vr=Un.state,Mn=Un.data,ln=!(mr=Un.error))):(mr=vr,!Ne&&vr||(vr="error",Ne<0&&(Ne=0))),Ee.status=Ne,Ee.statusText=(_i||vr)+"",ln?fn.resolveWith(ci,[Mn,vr,Ee]):fn.rejectWith(ci,[Ee,vr,mr]),Ee.statusCode(Ht),Ht=void 0,ni&&pn.trigger(ln?"ajaxSuccess":"ajaxError",[Ee,mi,ln?Mn:mr]),wt.fireWith(ci,[Ee,vr]),ni&&(pn.trigger("ajaxComplete",[Ee,mi]),--h.active||h.event.trigger("ajaxStop")))}return Ee},getJSON:function($,mt,At){return h.get($,mt,At,"json")},getScript:function($,mt){return h.get($,void 0,mt,"script")}}),h.each(["get","post"],function($,mt){h[mt]=function(At,Dt,qt,le){return p(Dt)&&(le=le||qt,qt=Dt,Dt=void 0),h.ajax(h.extend({url:At,type:mt,dataType:le,data:Dt,success:qt},h.isPlainObject(At)&&At))}}),h.ajaxPrefilter(function($){var mt;for(mt in $.headers)"content-type"===mt.toLowerCase()&&($.contentType=$.headers[mt]||"")}),h._evalUrl=function($,mt,At){return h.ajax({url:$,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Dt){h.globalEval(Dt,mt,At)}})},h.fn.extend({wrapAll:function($){var mt;return this[0]&&(p($)&&($=$.call(this[0])),mt=h($,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&mt.insertBefore(this[0]),mt.map(function(){for(var At=this;At.firstElementChild;)At=At.firstElementChild;return At}).append(this)),this},wrapInner:function($){return p($)?this.each(function(mt){h(this).wrapInner($.call(this,mt))}):this.each(function(){var mt=h(this),At=mt.contents();At.length?At.wrapAll($):mt.append($)})},wrap:function($){var mt=p($);return this.each(function(At){h(this).wrapAll(mt?$.call(this,At):$)})},unwrap:function($){return this.parent($).not("body").each(function(){h(this).replaceWith(this.childNodes)}),this}}),h.expr.pseudos.hidden=function($){return!h.expr.pseudos.visible($)},h.expr.pseudos.visible=function($){return!!($.offsetWidth||$.offsetHeight||$.getClientRects().length)},h.ajaxSettings.xhr=function(){try{return new S.XMLHttpRequest}catch{}};var $r={0:200,1223:204},mo=h.ajaxSettings.xhr();a.cors=!!mo&&"withCredentials"in mo,a.ajax=mo=!!mo,h.ajaxTransport(function($){var mt,At;if(a.cors||mo&&!$.crossDomain)return{send:function(Dt,qt){var le,ye=$.xhr();if(ye.open($.type,$.url,$.async,$.username,$.password),$.xhrFields)for(le in $.xhrFields)ye[le]=$.xhrFields[le];for(le in $.mimeType&&ye.overrideMimeType&&ye.overrideMimeType($.mimeType),$.crossDomain||Dt["X-Requested-With"]||(Dt["X-Requested-With"]="XMLHttpRequest"),Dt)ye.setRequestHeader(le,Dt[le]);mt=function(je){return function(){mt&&(mt=At=ye.onload=ye.onerror=ye.onabort=ye.ontimeout=ye.onreadystatechange=null,"abort"===je?ye.abort():"error"===je?"number"!=typeof ye.status?qt(0,"error"):qt(ye.status,ye.statusText):qt($r[ye.status]||ye.status,ye.statusText,"text"!==(ye.responseType||"text")||"string"!=typeof ye.responseText?{binary:ye.response}:{text:ye.responseText},ye.getAllResponseHeaders()))}},ye.onload=mt(),At=ye.onerror=ye.ontimeout=mt("error"),void 0!==ye.onabort?ye.onabort=At:ye.onreadystatechange=function(){4===ye.readyState&&S.setTimeout(function(){mt&&At()})},mt=mt("abort");try{ye.send($.hasContent&&$.data||null)}catch(je){if(mt)throw je}},abort:function(){mt&&mt()}}}),h.ajaxPrefilter(function($){$.crossDomain&&($.contents.script=!1)}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function($){return h.globalEval($),$}}}),h.ajaxPrefilter("script",function($){void 0===$.cache&&($.cache=!1),$.crossDomain&&($.type="GET")}),h.ajaxTransport("script",function($){var mt,At;if($.crossDomain||$.scriptAttrs)return{send:function(Dt,qt){mt=h("<script>").attr($.scriptAttrs||{}).prop({charset:$.scriptCharset,src:$.url}).on("load error",At=function(le){mt.remove(),At=null,le&&qt("error"===le.type?404:200,le.type)}),d.head.appendChild(mt[0])},abort:function(){At&&At()}}});var cs,qo=[],Eo=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var $=qo.pop()||h.expando+"_"+Xn.guid++;return this[$]=!0,$}}),h.ajaxPrefilter("json jsonp",function($,mt,At){var Dt,qt,le,ye=!1!==$.jsonp&&(Eo.test($.url)?"url":"string"==typeof $.data&&0===($.contentType||"").indexOf("application/x-www-form-urlencoded")&&Eo.test($.data)&&"data");if(ye||"jsonp"===$.dataTypes[0])return Dt=$.jsonpCallback=p($.jsonpCallback)?$.jsonpCallback():$.jsonpCallback,ye?$[ye]=$[ye].replace(Eo,"$1"+Dt):!1!==$.jsonp&&($.url+=(Lr.test($.url)?"&":"?")+$.jsonp+"="+Dt),$.converters["script json"]=function(){return le||h.error(Dt+" was not called"),le[0]},$.dataTypes[0]="json",qt=S[Dt],S[Dt]=function(){le=arguments},At.always(function(){void 0===qt?h(S).removeProp(Dt):S[Dt]=qt,$[Dt]&&($.jsonpCallback=mt.jsonpCallback,qo.push(Dt)),le&&p(qt)&&qt(le[0]),le=qt=void 0}),"script"}),a.createHTMLDocument=((cs=d.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===cs.childNodes.length),h.parseHTML=function($,mt,At){return"string"!=typeof $?[]:("boolean"==typeof mt&&(At=mt,mt=!1),mt||(a.createHTMLDocument?((Dt=(mt=d.implementation.createHTMLDocument("")).createElement("base")).href=d.location.href,mt.head.appendChild(Dt)):mt=d),le=!At&&[],(qt=A.exec($))?[mt.createElement(qt[1])]:(qt=be([$],mt,le),le&&le.length&&h(le).remove(),h.merge([],qt.childNodes)));var Dt,qt,le},h.fn.load=function($,mt,At){var Dt,qt,le,ye=this,je=$.indexOf(" ");return-1<je&&(Dt=kn($.slice(je)),$=$.slice(0,je)),p(mt)?(At=mt,mt=void 0):mt&&"object"==typeof mt&&(qt="POST"),0<ye.length&&h.ajax({url:$,type:qt||"GET",dataType:"html",data:mt}).done(function(ze){le=arguments,ye.html(Dt?h("<div>").append(h.parseHTML(ze)).find(Dt):ze)}).always(At&&function(ze,ni){ye.each(function(){At.apply(this,le||[ze.responseText,ni,ze])})}),this},h.expr.pseudos.animated=function($){return h.grep(h.timers,function(mt){return $===mt.elem}).length},h.offset={setOffset:function($,mt,At){var Dt,qt,le,ye,je,ze,ni=h.css($,"position"),Si=h($),Ei={};"static"===ni&&($.style.position="relative"),je=Si.offset(),le=h.css($,"top"),ze=h.css($,"left"),("absolute"===ni||"fixed"===ni)&&-1<(le+ze).indexOf("auto")?(ye=(Dt=Si.position()).top,qt=Dt.left):(ye=parseFloat(le)||0,qt=parseFloat(ze)||0),p(mt)&&(mt=mt.call($,At,h.extend({},je))),null!=mt.top&&(Ei.top=mt.top-je.top+ye),null!=mt.left&&(Ei.left=mt.left-je.left+qt),"using"in mt?mt.using.call($,Ei):Si.css(Ei)}},h.fn.extend({offset:function($){if(arguments.length)return void 0===$?this:this.each(function(qt){h.offset.setOffset(this,$,qt)});var mt,At,Dt=this[0];return Dt?Dt.getClientRects().length?{top:(mt=Dt.getBoundingClientRect()).top+(At=Dt.ownerDocument.defaultView).pageYOffset,left:mt.left+At.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var $,mt,At,Dt=this[0],qt={top:0,left:0};if("fixed"===h.css(Dt,"position"))mt=Dt.getBoundingClientRect();else{for(mt=this.offset(),At=Dt.ownerDocument,$=Dt.offsetParent||At.documentElement;$&&($===At.body||$===At.documentElement)&&"static"===h.css($,"position");)$=$.parentNode;$&&$!==Dt&&1===$.nodeType&&((qt=h($).offset()).top+=h.css($,"borderTopWidth",!0),qt.left+=h.css($,"borderLeftWidth",!0))}return{top:mt.top-qt.top-h.css(Dt,"marginTop",!0),left:mt.left-qt.left-h.css(Dt,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var $=this.offsetParent;$&&"static"===h.css($,"position");)$=$.offsetParent;return $||Jt})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function($,mt){var At="pageYOffset"===mt;h.fn[$]=function(Dt){return _t(this,function(qt,le,ye){var je;if(l(qt)?je=qt:9===qt.nodeType&&(je=qt.defaultView),void 0===ye)return je?je[mt]:qt[le];je?je.scrollTo(At?je.pageXOffset:ye,At?ye:je.pageYOffset):qt[le]=ye},$,Dt,arguments.length)}}),h.each(["top","left"],function($,mt){h.cssHooks[mt]=We(a.pixelPosition,function(At,Dt){if(Dt)return Dt=ji(At,mt),ei.test(Dt)?h(At).position()[mt]+"px":Dt})}),h.each({Height:"height",Width:"width"},function($,mt){h.each({padding:"inner"+$,content:mt,"":"outer"+$},function(At,Dt){h.fn[Dt]=function(qt,le){var ye=arguments.length&&(At||"boolean"!=typeof qt),je=At||(!0===qt||!0===le?"margin":"border");return _t(this,function(ze,ni,Si){var Ei;return l(ze)?0===Dt.indexOf("outer")?ze["inner"+$]:ze.document.documentElement["client"+$]:9===ze.nodeType?(Ei=ze.documentElement,Math.max(ze.body["scroll"+$],Ei["scroll"+$],ze.body["offset"+$],Ei["offset"+$],Ei["client"+$])):void 0===Si?h.css(ze,ni,je):h.style(ze,ni,Si,je)},mt,ye?qt:void 0,ye)}})}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function($,mt){h.fn[mt]=function(At){return this.on(mt,At)}}),h.fn.extend({bind:function($,mt,At){return this.on($,null,mt,At)},unbind:function($,mt){return this.off($,null,mt)},delegate:function($,mt,At,Dt){return this.on(mt,$,At,Dt)},undelegate:function($,mt,At){return 1===arguments.length?this.off($,"**"):this.off(mt,$||"**",At)},hover:function($,mt){return this.mouseenter($).mouseleave(mt||$)}}),h.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function($,mt){h.fn[mt]=function(At,Dt){return 0<arguments.length?this.on(mt,null,At,Dt):this.trigger(mt)}});var ps=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;h.proxy=function($,mt){var At,Dt,qt;if("string"==typeof mt&&(At=$[mt],mt=$,$=At),p($))return Dt=c.call(arguments,2),(qt=function(){return $.apply(mt||this,Dt.concat(c.call(arguments)))}).guid=$.guid=$.guid||h.guid++,qt},h.holdReady=function($){$?h.readyWait++:h.ready(!0)},h.isArray=Array.isArray,h.parseJSON=JSON.parse,h.nodeName=C,h.isFunction=p,h.isWindow=l,h.camelCase=Ct,h.type=x,h.now=Date.now,h.isNumeric=function($){var mt=h.type($);return("number"===mt||"string"===mt)&&!isNaN($-parseFloat($))},h.trim=function($){return null==$?"":($+"").replace(ps,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var es=S.jQuery,Ts=S.$;return h.noConflict=function($){return S.$===h&&(S.$=Ts),$&&S.jQuery===h&&(S.jQuery=es),h},typeof e>"u"&&(S.jQuery=S.$=h),h}),function(S,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.feather=e():S.feather=e()}(typeof self<"u"?self:this,function(){return function(S){var e={};function i(s){if(e[s])return e[s].exports;var c=e[s]={i:s,l:!1,exports:{}};return S[s].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=S,i.c=e,i.d=function(s,c,T){i.o(s,c)||Object.defineProperty(s,c,{configurable:!1,enumerable:!0,get:T})},i.r=function(s){Object.defineProperty(s,"__esModule",{value:!0})},i.n=function(s){var c=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(c,"a",c),c},i.o=function(s,c){return Object.prototype.hasOwnProperty.call(s,c)},i.p="",i(i.s=80)}([function(S,e,i){(function(s){var c="object",T=function(M){return M&&M.Math==Math&&M};S.exports=T(typeof globalThis==c&&globalThis)||T(typeof window==c&&window)||T(typeof self==c&&self)||T(typeof s==c&&s)||Function("return this")()}).call(this,i(75))},function(S,e){var i={}.hasOwnProperty;S.exports=function(s,c){return i.call(s,c)}},function(S,e,i){var s=i(0),c=i(11),T=i(33),M=i(62),j=s.Symbol,G=c("wks");S.exports=function(Y){return G[Y]||(G[Y]=M&&j[Y]||(M?j:T)("Symbol."+Y))}},function(S,e,i){var s=i(6);S.exports=function(c){if(!s(c))throw TypeError(String(c)+" is not an object");return c}},function(S,e){S.exports=function(i){try{return!!i()}catch{return!0}}},function(S,e,i){var s=i(8),c=i(7),T=i(10);S.exports=s?function(M,j,G){return c.f(M,j,T(1,G))}:function(M,j,G){return M[j]=G,M}},function(S,e){S.exports=function(i){return"object"==typeof i?null!==i:"function"==typeof i}},function(S,e,i){var s=i(8),c=i(35),T=i(3),M=i(18),j=Object.defineProperty;e.f=s?j:function(G,Y,z){if(T(G),Y=M(Y,!0),T(z),c)try{return j(G,Y,z)}catch{}if("get"in z||"set"in z)throw TypeError("Accessors not supported");return"value"in z&&(G[Y]=z.value),G}},function(S,e,i){var s=i(4);S.exports=!s(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(S,e){S.exports={}},function(S,e){S.exports=function(i,s){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:s}}},function(S,e,i){var s=i(0),c=i(19),T=i(17),M=s["__core-js_shared__"]||c("__core-js_shared__",{});(S.exports=function(j,G){return M[j]||(M[j]=void 0!==G?G:{})})("versions",[]).push({version:"3.1.3",mode:T?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(S,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=M(i(43)),c=M(i(41)),T=M(i(40));function M(j){return j&&j.__esModule?j:{default:j}}e.default=Object.keys(c.default).map(function(j){return new s.default(j,c.default[j],T.default[j])}).reduce(function(j,G){return j[G.name]=G,j},{})},function(S,e){S.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(S,e,i){var s=i(72),c=i(20);S.exports=function(T){return s(c(T))}},function(S,e){S.exports={}},function(S,e,i){var s=i(11),c=i(33),T=s("keys");S.exports=function(M){return T[M]||(T[M]=c(M))}},function(S,e){S.exports=!1},function(S,e,i){var s=i(6);S.exports=function(c,T){if(!s(c))return c;var M,j;if(T&&"function"==typeof(M=c.toString)&&!s(j=M.call(c))||"function"==typeof(M=c.valueOf)&&!s(j=M.call(c))||!T&&"function"==typeof(M=c.toString)&&!s(j=M.call(c)))return j;throw TypeError("Can't convert object to primitive value")}},function(S,e,i){var s=i(0),c=i(5);S.exports=function(T,M){try{c(s,T,M)}catch{s[T]=M}return M}},function(S,e){S.exports=function(i){if(null==i)throw TypeError("Can't call method on "+i);return i}},function(S,e){var i=Math.ceil,s=Math.floor;S.exports=function(c){return isNaN(c=+c)?0:(c>0?s:i)(c)}},function(S,e,i){var s;!function(){"use strict";var c=function(){function T(){}function M(z,F){for(var N=F.length,a=0;a<N;++a)Y(z,F[a])}T.prototype=Object.create(null);var j={}.hasOwnProperty,G=/\s+/;function Y(z,F){if(F){var N=typeof F;"string"===N?function(a,p){for(var l=p.split(G),d=l.length,_=0;_<d;++_)a[l[_]]=!0}(z,F):Array.isArray(F)?M(z,F):"object"===N?function(a,p){for(var l in p)j.call(p,l)&&(a[l]=!!p[l])}(z,F):"number"===N&&(z[F]=!0)}}return function(){for(var z=arguments.length,F=Array(z),N=0;N<z;N++)F[N]=arguments[N];var a=new T;M(a,F);var p=[];for(var l in a)a[l]&&p.push(l);return p.join(" ")}}();void 0!==S&&S.exports?S.exports=c:void 0===(s=function(){return c}.apply(e,[]))||(S.exports=s)}()},function(S,e,i){var s=i(7).f,c=i(1),T=i(2)("toStringTag");S.exports=function(M,j,G){M&&!c(M=G?M:M.prototype,T)&&s(M,T,{configurable:!0,value:j})}},function(S,e,i){var s=i(20);S.exports=function(c){return Object(s(c))}},function(S,e,i){var s=i(1),c=i(24),T=i(16),M=i(63),j=T("IE_PROTO"),G=Object.prototype;S.exports=M?Object.getPrototypeOf:function(Y){return Y=c(Y),s(Y,j)?Y[j]:"function"==typeof Y.constructor&&Y instanceof Y.constructor?Y.constructor.prototype:Y instanceof Object?G:null}},function(S,e,i){"use strict";var s,c,T,M=i(25),j=i(5),G=i(1),Y=i(2),z=i(17),F=Y("iterator"),N=!1;[].keys&&("next"in(T=[].keys())?(c=M(M(T)))!==Object.prototype&&(s=c):N=!0),null==s&&(s={}),z||G(s,F)||j(s,F,function(){return this}),S.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:N}},function(S,e,i){var s=i(21),c=Math.min;S.exports=function(T){return T>0?c(s(T),9007199254740991):0}},function(S,e,i){var s=i(1),c=i(14),T=i(68),M=i(15),j=T(!1);S.exports=function(G,Y){var z,F=c(G),N=0,a=[];for(z in F)!s(M,z)&&s(F,z)&&a.push(z);for(;Y.length>N;)s(F,z=Y[N++])&&(~j(a,z)||a.push(z));return a}},function(S,e,i){var s=i(0),c=i(11),T=i(5),M=i(1),j=i(19),G=i(36),Y=i(37),z=Y.get,F=Y.enforce,N=String(G).split("toString");c("inspectSource",function(a){return G.call(a)}),(S.exports=function(a,p,l,d){var _=!!d&&!!d.unsafe,w=!!d&&!!d.enumerable,x=!!d&&!!d.noTargetGet;"function"==typeof l&&("string"!=typeof p||M(l,"name")||T(l,"name",p),F(l).source=N.join("string"==typeof p?p:"")),a!==s?(_?!x&&a[p]&&(w=!0):delete a[p],w?a[p]=l:T(a,p,l)):w?a[p]=l:j(p,l)})(Function.prototype,"toString",function(){return"function"==typeof this&&z(this).source||G.call(this)})},function(S,e){var i={}.toString;S.exports=function(s){return i.call(s).slice(8,-1)}},function(S,e,i){var s=i(8),c=i(73),T=i(10),M=i(14),j=i(18),G=i(1),Y=i(35),z=Object.getOwnPropertyDescriptor;e.f=s?z:function(F,N){if(F=M(F),N=j(N,!0),Y)try{return z(F,N)}catch{}if(G(F,N))return T(!c.f.call(F,N),F[N])}},function(S,e,i){var s=i(0),c=i(31).f,T=i(5),M=i(29),j=i(19),G=i(71),Y=i(65);S.exports=function(z,F){var N,a,p,l,d,_=z.target,w=z.global,x=z.stat;if(N=w?s:x?s[_]||j(_,{}):(s[_]||{}).prototype)for(a in F){if(l=F[a],p=z.noTargetGet?(d=c(N,a))&&d.value:N[a],!Y(w?a:_+(x?".":"#")+a,z.forced)&&void 0!==p){if(typeof l==typeof p)continue;G(l,p)}(z.sham||p&&p.sham)&&T(l,"sham",!0),M(N,a,l,z)}}},function(S,e){var i=0,s=Math.random();S.exports=function(c){return"Symbol(".concat(void 0===c?"":c,")_",(++i+s).toString(36))}},function(S,e,i){var s=i(0),c=i(6),T=s.document,M=c(T)&&c(T.createElement);S.exports=function(j){return M?T.createElement(j):{}}},function(S,e,i){var s=i(8),c=i(4),T=i(34);S.exports=!s&&!c(function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a})},function(S,e,i){var s=i(11);S.exports=s("native-function-to-string",Function.toString)},function(S,e,i){var s,c,T,M=i(76),j=i(0),G=i(6),Y=i(5),z=i(1),F=i(16),N=i(15);if(M){var p=new(0,j.WeakMap),l=p.get,d=p.has,_=p.set;s=function(x,I){return _.call(p,x,I),I},c=function(x){return l.call(p,x)||{}},T=function(x){return d.call(p,x)}}else{var w=F("state");N[w]=!0,s=function(x,I){return Y(x,w,I),I},c=function(x){return z(x,w)?x[w]:{}},T=function(x){return z(x,w)}}S.exports={set:s,get:c,has:T,enforce:function(x){return T(x)?c(x):s(x,{})},getterFor:function(x){return function(I){var h;if(!G(I)||(h=c(I)).type!==x)throw TypeError("Incompatible receiver, "+x+" required");return h}}}},function(S,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(j){for(var G=1;G<arguments.length;G++){var Y=arguments[G];for(var z in Y)Object.prototype.hasOwnProperty.call(Y,z)&&(j[z]=Y[z])}return j},c=M(i(22)),T=M(i(12));function M(j){return j&&j.__esModule?j:{default:j}}e.default=function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var G=document.querySelectorAll("[data-feather]");Array.from(G).forEach(function(Y){return function(z){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=Array.from(z.attributes).reduce(function(_,w){return _[w.name]=w.value,_},{}),a=N["data-feather"];delete N["data-feather"];var p=T.default[a].toSvg(s({},F,N,{class:(0,c.default)(F.class,N.class)})),l=(new DOMParser).parseFromString(p,"image/svg+xml").querySelector("svg");z.parentNode.replaceChild(l,z)}(Y,j)})}},function(S,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,T=(s=i(12))&&s.__esModule?s:{default:s};e.default=function(M){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!M)throw new Error("The required `key` (icon name) parameter is missing.");if(!T.default[M])throw new Error("No icon matching '"+M+"'. See the complete list of icons at https://feathericons.com");return T.default[M].toSvg(j)}},function(S){S.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-bouy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},function(S){S.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},function(S){S.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},function(S,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(Y){for(var z=1;z<arguments.length;z++){var F=arguments[z];for(var N in F)Object.prototype.hasOwnProperty.call(F,N)&&(Y[N]=F[N])}return Y},c=function(){function Y(z,F){for(var N=0;N<F.length;N++){var a=F[N];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(z,a.key,a)}}return function(z,F,N){return F&&Y(z.prototype,F),N&&Y(z,N),z}}(),T=j(i(22)),M=j(i(42));function j(Y){return Y&&Y.__esModule?Y:{default:Y}}var G=function(){function Y(z,F){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(function(a,p){if(!(a instanceof p))throw new TypeError("Cannot call a class as a function")})(this,Y),this.name=z,this.contents=F,this.tags=N,this.attrs=s({},M.default,{class:"feather feather-"+z})}return c(Y,[{key:"toSvg",value:function(){var F,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"<svg "+(F=s({},this.attrs,z,{class:(0,T.default)(this.attrs.class,z.class)}),Object.keys(F).map(function(N){return N+'="'+F[N]+'"'}).join(" ")+">")+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),Y}();e.default=G},function(S,e,i){"use strict";var s=M(i(12)),c=M(i(39)),T=M(i(38));function M(j){return j&&j.__esModule?j:{default:j}}S.exports={icons:s.default,toSvg:c.default,replace:T.default}},function(S,e,i){S.exports=i(0)},function(S,e,i){var s=i(2)("iterator"),c=!1;try{var T=0,M={next:function(){return{done:!!T++}},return:function(){c=!0}};M[s]=function(){return this},Array.from(M,function(){throw 2})}catch{}S.exports=function(j,G){if(!G&&!c)return!1;var Y=!1;try{var z={};z[s]=function(){return{next:function(){return{done:Y=!0}}}},j(z)}catch{}return Y}},function(S,e,i){var s=i(30),c=i(2)("toStringTag"),T="Arguments"==s(function(){return arguments}());S.exports=function(M){var j,G,Y;return void 0===M?"Undefined":null===M?"Null":"string"==typeof(G=function(z,F){try{return z[F]}catch{}}(j=Object(M),c))?G:T?s(j):"Object"==(Y=s(j))&&"function"==typeof j.callee?"Arguments":Y}},function(S,e,i){var s=i(47),c=i(9),T=i(2)("iterator");S.exports=function(M){if(null!=M)return M[T]||M["@@iterator"]||c[s(M)]}},function(S,e,i){"use strict";var s=i(18),c=i(7),T=i(10);S.exports=function(M,j,G){var Y=s(j);Y in M?c.f(M,Y,T(0,G)):M[Y]=G}},function(S,e,i){var s=i(2),c=i(9),T=s("iterator"),M=Array.prototype;S.exports=function(j){return void 0!==j&&(c.Array===j||M[T]===j)}},function(S,e,i){var s=i(3);S.exports=function(c,T,M,j){try{return j?T(s(M)[0],M[1]):T(M)}catch(Y){var G=c.return;throw void 0!==G&&s(G.call(c)),Y}}},function(S,e){S.exports=function(i){if("function"!=typeof i)throw TypeError(String(i)+" is not a function");return i}},function(S,e,i){var s=i(52);S.exports=function(c,T,M){if(s(c),void 0===T)return c;switch(M){case 0:return function(){return c.call(T)};case 1:return function(j){return c.call(T,j)};case 2:return function(j,G){return c.call(T,j,G)};case 3:return function(j,G,Y){return c.call(T,j,G,Y)}}return function(){return c.apply(T,arguments)}}},function(S,e,i){"use strict";var s=i(53),c=i(24),T=i(51),M=i(50),j=i(27),G=i(49),Y=i(48);S.exports=function(z){var F,N,a,p,l=c(z),d="function"==typeof this?this:Array,_=arguments.length,w=_>1?arguments[1]:void 0,x=void 0!==w,I=0,h=Y(l);if(x&&(w=s(w,_>2?arguments[2]:void 0,2)),null==h||d==Array&&M(h))for(N=new d(F=j(l.length));F>I;I++)G(N,I,x?w(l[I],I):l[I]);else for(p=h.call(l),N=new d;!(a=p.next()).done;I++)G(N,I,x?T(p,w,[a.value,I],!0):a.value);return N.length=I,N}},function(S,e,i){var s=i(32),c=i(54);s({target:"Array",stat:!0,forced:!i(46)(function(T){Array.from(T)})},{from:c})},function(S,e,i){var s=i(6),c=i(3);S.exports=function(T,M){if(c(T),!s(M)&&null!==M)throw TypeError("Can't set "+String(M)+" as a prototype")}},function(S,e,i){var s=i(56);S.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,T=!1,M={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(M,[]),T=M instanceof Array}catch{}return function(j,G){return s(j,G),T?c.call(j,G):j.__proto__=G,j}}():void 0)},function(S,e,i){var s=i(0).document;S.exports=s&&s.documentElement},function(S,e,i){var s=i(28),c=i(13);S.exports=Object.keys||function(T){return s(T,c)}},function(S,e,i){var s=i(8),c=i(7),T=i(3),M=i(59);S.exports=s?Object.defineProperties:function(j,G){T(j);for(var Y,z=M(G),F=z.length,N=0;F>N;)c.f(j,Y=z[N++],G[Y]);return j}},function(S,e,i){var s=i(3),c=i(60),T=i(13),M=i(15),j=i(58),G=i(34),Y=i(16)("IE_PROTO"),z=function(){},F=function(){var N,a=G("iframe"),p=T.length;for(a.style.display="none",j.appendChild(a),a.src=String("javascript:"),(N=a.contentWindow.document).open(),N.write("<script>document.F=Object<\/script>"),N.close(),F=N.F;p--;)delete F.prototype[T[p]];return F()};S.exports=Object.create||function(N,a){var p;return null!==N?(z.prototype=s(N),p=new z,z.prototype=null,p[Y]=N):p=F(),void 0===a?p:c(p,a)},M[Y]=!0},function(S,e,i){var s=i(4);S.exports=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())})},function(S,e,i){var s=i(4);S.exports=!s(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},function(S,e,i){"use strict";var s=i(26).IteratorPrototype,c=i(61),T=i(10),M=i(23),j=i(9),G=function(){return this};S.exports=function(Y,z,F){var N=z+" Iterator";return Y.prototype=c(s,{next:T(1,F)}),M(Y,N,!1,!0),j[N]=G,Y}},function(S,e,i){var s=i(4),c=/#|\.prototype\./,T=function(z,F){var N=j[M(z)];return N==Y||N!=G&&("function"==typeof F?s(F):!!F)},M=T.normalize=function(z){return String(z).replace(c,".").toLowerCase()},j=T.data={},G=T.NATIVE="N",Y=T.POLYFILL="P";S.exports=T},function(S,e){e.f=Object.getOwnPropertySymbols},function(S,e,i){var s=i(21),c=Math.max,T=Math.min;S.exports=function(M,j){var G=s(M);return G<0?c(G+j,0):T(G,j)}},function(S,e,i){var s=i(14),c=i(27),T=i(67);S.exports=function(M){return function(j,G,Y){var z,F=s(j),N=c(F.length),a=T(Y,N);if(M&&G!=G){for(;N>a;)if((z=F[a++])!=z)return!0}else for(;N>a;a++)if((M||a in F)&&F[a]===G)return M||a||0;return!M&&-1}}},function(S,e,i){var s=i(28),c=i(13).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(T){return s(T,c)}},function(S,e,i){var s=i(0),c=i(69),T=i(66),M=i(3),j=s.Reflect;S.exports=j&&j.ownKeys||function(G){var Y=c.f(M(G)),z=T.f;return z?Y.concat(z(G)):Y}},function(S,e,i){var s=i(1),c=i(70),T=i(31),M=i(7);S.exports=function(j,G){for(var Y=c(G),z=M.f,F=T.f,N=0;N<Y.length;N++){var a=Y[N];s(j,a)||z(j,a,F(G,a))}}},function(S,e,i){var s=i(4),c=i(30),T="".split;S.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(M){return"String"==c(M)?T.call(M,""):Object(M)}:Object},function(S,e,i){"use strict";var s={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,T=c&&!s.call({1:2},1);e.f=T?function(M){var j=c(this,M);return!!j&&j.enumerable}:s},function(S,e,i){"use strict";var s=i(32),c=i(64),T=i(25),M=i(57),j=i(23),G=i(5),Y=i(29),z=i(2),F=i(17),N=i(9),a=i(26),p=a.IteratorPrototype,l=a.BUGGY_SAFARI_ITERATORS,d=z("iterator"),_=function(){return this};S.exports=function(w,x,I,h,n,D,P){c(I,x,h);var E,m,C,A=function(tt){if(tt===n&&U)return U;if(!l&&tt in o)return o[tt];switch(tt){case"keys":case"values":case"entries":return function(){return new I(this,tt)}}return function(){return new I(this)}},k=x+" Iterator",f=!1,o=w.prototype,R=o[d]||o["@@iterator"]||n&&o[n],U=!l&&R||A(n),X="Array"==x&&o.entries||R;if(X&&(E=T(X.call(new w)),p!==Object.prototype&&E.next&&(F||T(E)===p||(M?M(E,p):"function"!=typeof E[d]&&G(E,d,_)),j(E,k,!0,!0),F&&(N[k]=_))),"values"==n&&R&&"values"!==R.name&&(f=!0,U=function(){return R.call(this)}),F&&!P||o[d]===U||G(o,d,U),N[x]=U,n)if(m={values:A("values"),keys:D?U:A("keys"),entries:A("entries")},P)for(C in m)!l&&!f&&C in o||Y(o,C,m[C]);else s({target:x,proto:!0,forced:l||f},m);return m}},function(S,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{"object"==typeof window&&(i=window)}S.exports=i},function(S,e,i){var s=i(0),c=i(36),T=s.WeakMap;S.exports="function"==typeof T&&/native code/.test(c.call(T))},function(S,e,i){var s=i(21),c=i(20);S.exports=function(T,M,j){var G,Y,z=String(c(T)),F=s(M),N=z.length;return F<0||F>=N?j?"":void 0:(G=z.charCodeAt(F))<55296||G>56319||F+1===N||(Y=z.charCodeAt(F+1))<56320||Y>57343?j?z.charAt(F):G:j?z.slice(F,F+2):Y-56320+(G-55296<<10)+65536}},function(S,e,i){"use strict";var s=i(77),c=i(37),T=i(74),M=c.set,j=c.getterFor("String Iterator");T(String,"String",function(G){M(this,{type:"String Iterator",string:String(G),index:0})},function(){var G,Y=j(this),z=Y.string,F=Y.index;return F>=z.length?{value:void 0,done:!0}:(G=s(z,F,!0),Y.index+=G.length,{value:G,done:!1})})},function(S,e,i){i(78),i(55);var s=i(45);S.exports=s.Array.from},function(S,e,i){i(79),S.exports=i(44)}])}),function(S){"object"==typeof module&&module.exports?(S.default=S,module.exports=S):"function"==typeof define&&define.amd?define("highcharts/modules/export-data",["highcharts","highcharts/modules/exporting"],function(e){return S(e),S.Highcharts=e,S}):S(typeof Highcharts<"u"?Highcharts:void 0)}(function(S){function e(i,s,c,T){i.hasOwnProperty(s)||(i[s]=T.apply(null,c),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}e(S=S?S._modules:{},"Extensions/ExportData/ExportDataDefaults.js",[],function(){return{exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table"}}}),e(S,"Extensions/DownloadURL.js",[S["Core/Globals.js"]],function(i){var s=i.isSafari,c=i.win,T=c.document,M=c.URL||c.webkitURL||c,j=i.dataURLtoBlob=function(G){if((G=G.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<G.length&&c.atob&&c.ArrayBuffer&&c.Uint8Array&&c.Blob&&M.createObjectURL){var Y=c.atob(G[3]),z=new c.ArrayBuffer(Y.length);z=new c.Uint8Array(z);for(var F=0;F<z.length;++F)z[F]=Y.charCodeAt(F);return G=new c.Blob([z],{type:G[1]}),M.createObjectURL(G)}};return i=i.downloadURL=function(G,Y){var z=c.navigator,F=T.createElement("a");if("string"==typeof G||G instanceof String||!z.msSaveOrOpenBlob){if(G="".concat(G),z=/Edge\/\d+/.test(z.userAgent),(s&&"string"==typeof G&&0===G.indexOf("data:application/pdf")||z||2e6<G.length)&&!(G=j(G)||""))throw Error("Failed to convert to blob");if(typeof F.download<"u")F.href=G,F.download=Y,T.body.appendChild(F),F.click(),T.body.removeChild(F);else try{var N=c.open(G,"chart");if(typeof N>"u"||null===N)throw Error("Failed to open window")}catch{c.location.href=G}}else z.msSaveOrOpenBlob(G,Y)},{dataURLtoBlob:j,downloadURL:i}}),e(S,"Extensions/ExportData/ExportData.js",[S["Core/Renderer/HTML/AST.js"],S["Extensions/ExportData/ExportDataDefaults.js"],S["Core/Globals.js"],S["Core/Defaults.js"],S["Extensions/DownloadURL.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(i,s,c,T,M,j,G){function Y(){var yt=this.getCSV(!0);m(w(yt,"text/csv")||"data:text/csv,\ufeff"+encodeURIComponent(yt),this.getFilename()+".csv")}function z(){var yt='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";m(w(yt,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+D.btoa(unescape(encodeURIComponent(yt))),this.getFilename()+".xls")}function F(yt){var _t="",rt=this.getDataRows(),ut=this.options.exporting.csv,at=K(ut.decimalPoint,","!==ut.itemDelimiter&&yt?1.1.toLocaleString()[1]:"."),Ct=K(ut.itemDelimiter,","===at?";":","),vt=ut.lineDelimiter;return rt.forEach(function(ct,Tt){for(var kt,Ft=ct.length;Ft--;)"string"==typeof(kt=ct[Ft])&&(kt='"'+kt+'"'),"number"==typeof kt&&"."!==at&&(kt=kt.toString().replace(".",at)),ct[Ft]=kt;ct.length=rt.length?rt[0].length:0,_t+=ct.join(Ct),Tt<rt.length-1&&(_t+=vt)}),_t}function N(yt){var Jt,_t=this.hasParallelCoordinates,rt=this.time,ut=this.options.exporting&&this.options.exporting.csv||{},at=this.xAxis,Ct={},vt=[],ct=[],Tt=[],kt=this.options.lang.exportData,Ft=kt.categoryHeader,Ot=kt.categoryDatetimeHeader,jt=function(te,Ie,Ve){if(ut.columnHeaderFormatter){var Ai=ut.columnHeaderFormatter(te,Ie,Ve);if(!1!==Ai)return Ai}return te?te instanceof C?yt?{columnTitle:1<Ve?Ie:te.name,topLevelColumnTitle:te.name}:te.name+(1<Ve?" ("+Ie+")":""):te.options.title&&te.options.title.text||(te.dateTime?Ot:Ft):Ft},$t=function(te,Ie,Ve){var Ai={},gi={};return Ie.forEach(function(pi){var Ri=(te.keyToAxis&&te.keyToAxis[pi]||pi)+"Axis";Ri=W(Ve)?te.chart[Ri][Ve]:te[Ri],Ai[pi]=Ri&&Ri.categories||[],gi[pi]=Ri&&Ri.dateTime}),{categoryMap:Ai,dateTimeValueAxisMap:gi}},ne=[],Nt=0;for(ce in this.series.forEach(function(te){var ti,Ie=te.xAxis,Ve=te.options.keys||function(te,Ie){return te.data.filter(function(Ve){return typeof Ve.y<"u"&&Ve.name}).length&&Ie&&!Ie.categories&&!te.keyToAxis?te.pointArrayMap&&te.pointArrayMap.filter(function(Ve){return"x"===Ve}).length?(te.pointArrayMap.unshift("x"),te.pointArrayMap):["x","y"]:te.pointArrayMap||["y"]}(te,Ie),Ai=Ve.length,gi=!te.requireSorting&&{},pi=at.indexOf(Ie),Ri=$t(te,Ve);if(!1!==te.options.includeInDataExport&&!te.options.isInternal&&!1!==te.visible){for(pt(ne,function(xi){return xi[0]===pi})||ne.push([pi,Nt]),ti=0;ti<Ai;)Jt=jt(te,Ve[ti],Ve.length),Tt.push(Jt.columnTitle||Jt),yt&&ct.push(Jt.topLevelColumnTitle||Jt),ti++;var Ti={chart:te.chart,autoIncrement:te.autoIncrement,options:te.options,pointArrayMap:te.pointArrayMap,index:te.index};te.options.data.forEach(function(xi,be){var ii={series:Ti};_t&&(Ri=$t(te,Ve,be)),te.pointClass.prototype.applyOptions.apply(ii,[xi]);var nt=ii.x;for(X(Ct[nt])&&Ct[nt].seriesIndices.includes(Ti.index)&&(xi=Object.keys(Ct).filter(function(St){return Ct[St].seriesIndices.includes(Ti.index)&&nt}).filter(function(St){return 0===St.indexOf(String(nt))}),nt=nt.toString()+","+xi.length),xi=te.data[be]&&te.data[be].name,ti=0,(!Ie||"name"===te.exportKey||!_t&&Ie&&Ie.hasNames&&xi)&&(nt=xi),gi&&(gi[nt]&&(nt+="|"+be),gi[nt]=!0),Ct[nt]||(Ct[nt]=[],Ct[nt].xValues=[]),Ct[nt].x=ii.x,Ct[nt].name=xi,Ct[nt].xValues[pi]=ii.x,X(Ct[nt].seriesIndices)||(Ct[nt].seriesIndices=[]),Ct[nt].seriesIndices=h(h([],Ct[nt].seriesIndices,!0),[Ti.index],!1);ti<Ai;)Ct[nt][Nt+ti]=K(Ri.categoryMap[be=Ve[ti]][xi=ii[be]],Ri.dateTimeValueAxisMap[be]?rt.dateFormat(ut.dateFormat,xi):null,xi),ti++}),Nt+=ti}}),Ct)Object.hasOwnProperty.call(Ct,ce)&&vt.push(Ct[ce]);for(kt=yt?[ct,Tt]:[Tt],Nt=ne.length;Nt--;){var Rt=ne[Nt][0],ie=ne[Nt][1],se=at[Rt];vt.sort(function(te,Ie){return te.xValues[Rt]-Ie.xValues[Rt]});var ce=jt(se);kt[0].splice(ie,0,ce),yt&&kt[1]&&kt[1].splice(ie,0,ce),vt.forEach(function(te){var Ie=te.name;se&&!X(Ie)&&(se.dateTime?(te.x instanceof Date&&(te.x=te.x.getTime()),Ie=rt.dateFormat(ut.dateFormat,te.x)):Ie=se.categories?K(se.names[te.x],se.categories[te.x],te.x):te.x),te.splice(ie,0,Ie)})}return kt=kt.concat(vt),ot(this,"exportData",{dataRows:kt}),kt}function a(yt){var _t=function(rt){if(!rt.tagName||"#text"===rt.tagName)return rt.textContent||"";var ut=rt.attributes,at="<".concat(rt.tagName);return ut&&Object.keys(ut).forEach(function(Ct){var vt=ut[Ct];at+=" ".concat(Ct,'="').concat(vt,'"')}),at+=">",at+=rt.textContent||"",(rt.children||[]).forEach(function(Ct){at+=_t(Ct)}),at+="</".concat(rt.tagName,">")};return yt=this.getTableAST(yt),_t(yt)}function p(yt){var _t=0,rt=[],ut=this.options,at=yt?1.1.toLocaleString()[1]:".",Ct=K(ut.exporting.useMultiLevelHeaders,!0);yt=this.getDataRows(Ct);var vt=Ct?yt.shift():null,ct=yt.shift(),Tt=function(jt,$t,Wt,ne){var Jt=K(ne,"");return $t="highcharts-text"+($t?" "+$t:""),"number"==typeof Jt?(Jt=Jt.toString(),","===at&&(Jt=Jt.replace(".",at)),$t="highcharts-number"):ne||($t="highcharts-empty"),{tagName:jt,attributes:Wt=tt({class:$t},Wt),textContent:Jt}};!1!==ut.exporting.tableCaption&&rt.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:K(ut.exporting.tableCaption,ut.title.text?ut.title.text:"Chart")});for(var kt=0,Ft=yt.length;kt<Ft;++kt)yt[kt].length>_t&&(_t=yt[kt].length);rt.push(function(jt,$t,Wt){var ne=[],Jt=0;Wt=Wt||$t&&$t.length;var Rt,Nt=0;if(Rt=Ct&&jt&&$t){t:if(Rt=jt.length,$t.length===Rt){for(;Rt--;)if(jt[Rt]!==$t[Rt]){Rt=!1;break t}Rt=!0}else Rt=!1;Rt=!Rt}if(Rt){for(Rt=[];Jt<Wt;++Jt){var ie=jt[Jt],se=jt[Jt+1];ie===se?++Nt:Nt?(Rt.push(Tt("th","highcharts-table-topheading",{scope:"col",colspan:Nt+1},ie)),Nt=0):(ie===$t[Jt]?ut.exporting.useRowspanHeaders?(se=2,delete $t[Jt]):(se=1,$t[Jt]=""):se=1,ie=Tt("th","highcharts-table-topheading",{scope:"col"},ie),1<se&&ie.attributes&&(ie.attributes.valign="top",ie.attributes.rowspan=se),Rt.push(ie))}ne.push({tagName:"tr",children:Rt})}if($t){for(Rt=[],Jt=0,Wt=$t.length;Jt<Wt;++Jt)typeof $t[Jt]<"u"&&Rt.push(Tt("th",null,{scope:"col"},$t[Jt]));ne.push({tagName:"tr",children:Rt})}return{tagName:"thead",children:ne}}(vt,ct,Math.max(_t,ct.length)));var Ot=[];return yt.forEach(function(jt){for(var $t=[],Wt=0;Wt<_t;Wt++)$t.push(Tt(Wt?"td":"th",null,Wt?{}:{scope:"row"},jt[Wt]));Ot.push({tagName:"tr",children:$t})}),rt.push({tagName:"tbody",children:Ot}),rt={tree:{tagName:"table",id:"highcharts-data-table-".concat(this.index),children:rt}},ot(this,"aftergetTableAST",rt),rt.tree}function l(){this.toggleDataTable(!1)}function d(yt){var _t=(yt=K(yt,!this.isDataTableVisible))&&!this.dataTableDiv;if(_t&&(this.dataTableDiv=n.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv){var rt=this.dataTableDiv.style,ut=rt.display;rt.display=yt?"block":"none",yt&&(this.dataTableDiv.innerHTML=i.emptyHTML,new i([this.getTableAST()]).addToDOM(this.dataTableDiv),ot(this,"afterViewData",{element:this.dataTableDiv,wasHidden:_t||ut!==rt.display}))}this.isDataTableVisible=yt,_t=this.exportDivElements,ut=(rt=this.options.exporting)&&rt.buttons&&rt.buttons.contextButton.menuItems,yt=this.options.lang,rt&&rt.menuItemDefinitions&&yt&&yt.viewData&&yt.hideData&&ut&&_t&&(_t=_t[ut.indexOf("viewData")])&&i.setElementHTML(_t,this.isDataTableVisible?yt.hideData:yt.viewData)}function _(){this.toggleDataTable(!0)}function w(yt,_t){var rt=D.navigator,ut=-1<rt.userAgent.indexOf("WebKit")&&0>rt.userAgent.indexOf("Chrome"),at=D.URL||D.webkitURL||D;try{if(rt.msSaveOrOpenBlob&&D.MSBlobBuilder){var Ct=new D.MSBlobBuilder;return Ct.append(yt),Ct.getBlob("image/svg+xml")}if(!ut)return at.createObjectURL(new D.Blob(["\ufeff"+yt],{type:_t}))}catch{}}function x(){var yt=this,_t=yt.dataTableDiv,rt=document.querySelectorAll("thead")[0].querySelectorAll("tr")[0];_t&&rt.childNodes.forEach(function(at){var Ct=at.closest("table");at.addEventListener("click",function(){var vt=h([],_t.querySelectorAll("tr:not(thead tr)"),!0),ct=h([],at.parentNode.children,!0);vt.sort(function(at,Ct){return function(vt,ct){var Tt=(Ct?vt:ct).children[at].textContent;return vt=(Ct?ct:vt).children[at].textContent,""===Tt||""===vt||isNaN(Tt)||isNaN(vt)?Tt.toString().localeCompare(vt):Tt-vt}}(ct.indexOf(at),yt.ascendingOrderInTable=!yt.ascendingOrderInTable)).forEach(function(Tt){Ct.appendChild(Tt)}),ct.forEach(function(Tt){["highcharts-sort-ascending","highcharts-sort-descending"].forEach(function(kt){Tt.classList.contains(kt)&&Tt.classList.remove(kt)})}),at.classList.add(yt.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending")})})}function I(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&this.viewData()}var h=this&&this.__spreadArray||function(yt,_t,rt){if(rt||2===arguments.length)for(var Ct,ut=0,at=_t.length;ut<at;ut++)!Ct&&ut in _t||(Ct||(Ct=Array.prototype.slice.call(_t,0,ut)),Ct[ut]=_t[ut]);return yt.concat(Ct||Array.prototype.slice.call(_t))},n=c.doc,D=c.win,P=T.getOptions,E=T.setOptions,m=M.downloadURL,C=j.series,A=(c=j.seriesTypes).arearange,k=c.gantt,f=c.map,o=c.mapbubble,R=c.treemap,U=G.addEvent,X=G.defined,tt=G.extend,pt=G.find,ot=G.fireEvent,W=G.isNumber,K=G.pick,gt=[];return{compose:function(yt){-1===gt.indexOf(yt)&&(gt.push(yt),U(yt,"afterViewData",x),U(yt,"render",I),(yt=yt.prototype).downloadCSV=Y,yt.downloadXLS=z,yt.getCSV=F,yt.getDataRows=N,yt.getTable=a,yt.getTableAST=p,yt.hideData=l,yt.toggleDataTable=d,yt.viewData=_),-1===gt.indexOf(E)&&(gt.push(E),(yt=P().exporting)&&(tt(yt.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.toggleDataTable()}}}),yt.buttons&&yt.buttons.contextButton.menuItems&&yt.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),E(s)),A&&-1===gt.indexOf(A)&&(gt.push(A),A.prototype.keyToAxis={low:"y",high:"y"}),k&&-1===gt.indexOf(k)&&(gt.push(k),k.prototype.keyToAxis={start:"x",end:"x"}),f&&-1===gt.indexOf(f)&&(gt.push(f),f.prototype.exportKey="name"),o&&-1===gt.indexOf(o)&&(gt.push(o),o.prototype.exportKey="name"),R&&-1===gt.indexOf(R)&&(gt.push(R),R.prototype.exportKey="name")}}}),e(S,"masters/modules/export-data.src.js",[S["Core/Globals.js"],S["Extensions/ExportData/ExportData.js"]],function(i,s){s.compose(i.Chart)})}),function(){var S;window.AmCharts?S=window.AmCharts:(S={},window.AmCharts=S,S.themes={},S.maps={},S.inheriting={},S.charts=[],S.onReadyArray=[],S.useUTC=!1,S.updateRate=60,S.uid=0,S.lang={},S.translations={},S.mapTranslations={},S.windows={},S.initHandlers=[],S.amString="am",S.pmString="pm"),S.Class=function(e){var i=function(){arguments[0]!==S.inheriting&&(this.events={},this.construct.apply(this,arguments))};for(var s in e.inherits?(i.prototype=new e.inherits(S.inheriting),i.base=e.inherits.prototype,delete e.inherits):(i.prototype.createEvents=function(){for(var c=0;c<arguments.length;c++)this.events[arguments[c]]=[]},i.prototype.listenTo=function(c,T,M){this.removeListener(c,T,M),c.events[T].push({handler:M,scope:this})},i.prototype.addListener=function(c,T,M){this.removeListener(this,c,T),c&&this.events[c]&&this.events[c].push({handler:T,scope:M})},i.prototype.removeListener=function(c,T,M){if(c&&c.events&&(c=c.events[T]))for(T=c.length-1;0<=T;T--)c[T].handler===M&&c.splice(T,1)},i.prototype.fire=function(c){for(var T=this.events[c.type],M=0;M<T.length;M++){var j=T[M];j.handler.call(j.scope,c)}}),e)i.prototype[s]=e[s];return i},S.addChart=function(e){window.requestAnimationFrame?S.animationRequested||(S.animationRequested=!0,window.requestAnimationFrame(S.update)):S.updateInt||(S.updateInt=setInterval(function(){S.update()},Math.round(1e3/S.updateRate))),S.charts.push(e)},S.removeChart=function(e){for(var i=S.charts,s=i.length-1;0<=s;s--)i[s]==e&&i.splice(s,1);0===i.length&&(S.requestAnimation&&(window.cancelAnimationFrame(S.requestAnimation),S.animationRequested=!1),S.updateInt&&(clearInterval(S.updateInt),S.updateInt=NaN))},S.isModern=!0,S.getIEVersion=function(){var i,e=0;return"Microsoft Internet Explorer"==navigator.appName&&(i=navigator.userAgent,null!==/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(i)&&(e=parseFloat(RegExp.$1))),e},S.applyLang=function(e,i){var s=S.translations;i.dayNames=S.extend({},S.dayNames),i.shortDayNames=S.extend({},S.shortDayNames),i.monthNames=S.extend({},S.monthNames),i.shortMonthNames=S.extend({},S.shortMonthNames),i.amString="am",i.pmString="pm",s&&(s=s[e])&&(S.lang=s,i.langObj=s,s.monthNames&&(i.dayNames=S.extend({},s.dayNames),i.shortDayNames=S.extend({},s.shortDayNames),i.monthNames=S.extend({},s.monthNames),i.shortMonthNames=S.extend({},s.shortMonthNames)),s.am&&(i.amString=s.am),s.pm&&(i.pmString=s.pm)),S.amString=i.amString,S.pmString=i.pmString},S.IEversion=S.getIEVersion(),9>S.IEversion&&0<S.IEversion&&(S.isModern=!1,S.isIE=!0),S.dx=0,S.dy=0,(document.addEventListener||window.opera)&&(S.isNN=!0,S.isIE=!1,S.dx=.5,S.dy=.5),document.attachEvent&&(S.isNN=!1,S.isIE=!0,S.isModern||(S.dx=0,S.dy=0)),window.chrome&&(S.chrome=!0),S.handleMouseUp=function(e){for(var i=S.charts,s=0;s<i.length;s++){var c=i[s];c&&c.handleReleaseOutside&&c.handleReleaseOutside(e)}},S.handleMouseMove=function(e){for(var i=S.charts,s=0;s<i.length;s++){var c=i[s];c&&c.handleMouseMove&&c.handleMouseMove(e)}},S.handleKeyUp=function(e){for(var i=S.charts,s=0;s<i.length;s++){var c=i[s];c&&c.handleKeyUp&&c.handleKeyUp(e)}},S.handleWheel=function(e){for(var i=S.charts,s=0;s<i.length;s++){var c=i[s];if(c&&c.mouseIsOver){(c.mouseWheelScrollEnabled||c.mouseWheelZoomEnabled)&&c.handleWheel&&(c.handleMouseMove(e),c.handleWheel(e));break}}},S.resetMouseOver=function(){for(var e=S.charts,i=0;i<e.length;i++){var s=e[i];s&&(s.mouseIsOver=!1)}},S.ready=function(e){S.onReadyArray.push(e)},S.handleLoad=function(){S.isReady=!0;for(var e=S.onReadyArray,i=0;i<e.length;i++){var s=e[i];isNaN(S.processDelay)?s():setTimeout(s,S.processDelay*i)}S.onReadyArray=[]},S.addInitHandler=function(e,i){S.initHandlers.push({method:e,types:i})},S.callInitHandler=function(e){var i=S.initHandlers;if(S.initHandlers)for(var s=0;s<i.length;s++){var c=i[s];c.types?S.isInArray(c.types,e.type)&&c.method(e):c.method(e)}},S.getUniqueId=function(){return S.uid++,"AmChartsEl-"+S.uid},S.addGlobalListeners=function(){S.globalListenersAdded||(S.globalListenersAdded=!0,S.isNN&&(document.addEventListener("mousemove",S.handleMouseMove),document.addEventListener("keyup",S.handleKeyUp),document.addEventListener("mouseup",S.handleMouseUp,!0),window.addEventListener("load",S.handleLoad,!0)),S.isIE&&(document.attachEvent("onmousemove",S.handleMouseMove),document.attachEvent("onmouseup",S.handleMouseUp),window.attachEvent("onload",S.handleLoad)))},S.addGlobalListeners(),S.addWheelListeners=function(){S.wheelIsListened||(S.isNN&&(window.addEventListener("DOMMouseScroll",S.handleWheel,{passive:!1,useCapture:!0}),document.addEventListener("mousewheel",S.handleWheel,{passive:!1,useCapture:!0})),S.isIE&&document.attachEvent("onmousewheel",S.handleWheel)),S.wheelIsListened=!0},S.clear=function(){var e=S.charts;if(e)for(var i=e.length-1;0<=i;i--)e[i].clear();S.updateInt&&clearInterval(S.updateInt),S.requestAnimation&&window.cancelAnimationFrame(S.requestAnimation),S.charts=[],S.isNN&&(document.removeEventListener("mousemove",S.handleMouseMove,!0),document.removeEventListener("keyup",S.handleKeyUp,!0),document.removeEventListener("mouseup",S.handleMouseUp,!0),window.removeEventListener("load",S.handleLoad,!0),window.removeEventListener("DOMMouseScroll",S.handleWheel,!0),document.removeEventListener("mousewheel",S.handleWheel,!0)),S.isIE&&(document.detachEvent("onmousemove",S.handleMouseMove),document.detachEvent("onmouseup",S.handleMouseUp),window.detachEvent("onload",S.handleLoad)),S.globalListenersAdded=!1,S.wheelIsListened=!1},S.makeChart=function(e,i,s){var M,c=i.type,T=i.theme;switch(S.addGlobalListeners(),S.isString(T)&&(i.theme=T=S.themes[T]),c){case"serial":M=new S.AmSerialChart(T);break;case"xy":M=new S.AmXYChart(T);break;case"pie":M=new S.AmPieChart(T);break;case"radar":M=new S.AmRadarChart(T);break;case"gauge":M=new S.AmAngularGauge(T);break;case"funnel":M=new S.AmFunnelChart(T);break;case"map":M=new S.AmMap(T);break;case"stock":M=new S.AmStockChart(T);break;case"gantt":M=new S.AmGanttChart(T)}return S.extend(M,i),S.isReady?isNaN(s)?M.write(e):setTimeout(function(){S.realWrite(M,e)},s):S.ready(function(){isNaN(s)?M.write(e):setTimeout(function(){S.realWrite(M,e)},s)}),M},S.realWrite=function(e,i){e.write(i)},S.updateCount=0,S.validateAt=Math.round(S.updateRate/10),S.update=function(){var e=S.charts;S.updateCount++;var i=!1;if(S.updateCount==S.validateAt&&(i=!0,S.updateCount=0),e)for(var s=e.length-1;0<=s;s--)e[s].update&&e[s].update(),i&&(e[s].autoResize?e[s].validateSize&&e[s].validateSize():e[s].premeasure&&e[s].premeasure());window.requestAnimationFrame&&(S.requestAnimation=window.requestAnimationFrame(S.update))},"complete"==document.readyState&&S.handleLoad()}(),function(){var S=window.AmCharts;S.toBoolean=function(e,i){if(void 0===e)return i;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!e}},S.removeFromArray=function(e,i){var s;if(void 0!==i&&void 0!==e)for(s=e.length-1;0<=s;s--)e[s]==i&&e.splice(s,1)},S.getPath=function(){var e=document.getElementsByTagName("script");if(e)for(var i=0;i<e.length;i++){var s=e[i].src;if(-1!==s.search(/\/(amcharts|ammap)\.js/))return s.replace(/\/(amcharts|ammap)\.js.*/,"/")}},S.normalizeUrl=function(e){return""!==e&&-1===e.search(/\/$/)?e+"/":e},S.isAbsolute=function(e){return 0===e.search(/^http[s]?:|^\//)},S.isInArray=function(e,i){for(var s=0;s<e.length;s++)if(e[s]==i)return!0;return!1},S.getDecimals=function(e){var i=0;return isNaN(e)||(-1!=(e=String(e)).indexOf("e-")?i=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(i=e.split(".")[1].length)),i},S.wordwrap=function(e,i,s,c){var T,M,j,G;if(e+="",1>i)return e;for(T=-1,e=(G=e.split(/\r\n|\n|\r/)).length;++T<e;G[T]+=j){for(j=G[T],G[T]="";j.length>i;G[T]+=S.trim(j.slice(0,M))+((j=j.slice(M)).length?s:""))M=2==c||(M=j.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:M.input.length-M[0].length||1==c&&i||M.input.length+(M=j.slice(i).match(/^\S*/))[0].length;j=S.trim(j)}return G.join(s)},S.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},S.wrappedText=function(e,i,s,c,T,M,j,G){var Y=S.text(e,i,s,c,T,M,j);if(Y){var z=Y.getBBox();if(z.width>G){var F="\n";S.isModern||(F="<br>"),2<(G=Math.floor(G/(z.width/i.length)))&&(G-=2),i=S.wordwrap(i,G,F,!0),Y.remove(),Y=S.text(e,i,s,c,T,M,j)}}return Y},S.getStyle=function(e,i){var s="";if(document.defaultView&&document.defaultView.getComputedStyle)try{s=document.defaultView.getComputedStyle(e,"").getPropertyValue(i)}catch{}else e.currentStyle&&(i=i.replace(/\-(\w)/g,function(c,T){return T.toUpperCase()}),s=e.currentStyle[i]);return s},S.removePx=function(e){if(void 0!==e)return Number(e.substring(0,e.length-2))},S.getURL=function(e,i){if(e)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=e;else if("_parent"==i&&window.parent)window.parent.location.href=e;else if("_blank"==i)window.open(e);else{var s=document.getElementsByName(i)[0];s?s.src=e:(s=S.windows[i])&&s.opener&&!s.opener.closed?s.location.href=e:S.windows[i]=window.open(e)}else window.location.href=e},S.ifArray=function(e){return!!(e&&"object"==typeof e&&0<e.length)},S.callMethod=function(e,i){var s;for(s=0;s<i.length;s++){var c=i[s];if(c){c[e]&&c[e]();var M,T=c.length;if(0<T)for(M=0;M<T;M++){var j=c[M];j&&j[e]&&j[e]()}}}},S.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))},S.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){var i;for(e=e.split(","),i=0;i<e.length;i++){var s=e[i].substring(e[i].length-6,e[i].length);e[i]="#"+s}}else e="#"+(e=e.substring(e.length-6,e.length));return e},S.toCoordinate=function(e,i,s){var c;return void 0!==e&&(e=String(e),s&&s<i&&(i=s),c=Number(e),-1!=e.indexOf("!")&&(c=i-Number(e.substr(1))),-1!=e.indexOf("%")&&(c=i*Number(e.substr(0,e.length-1))/100)),c},S.fitToBounds=function(e,i,s){return e<i&&(e=i),e>s&&(e=s),e},S.isDefined=function(e){return void 0!==e},S.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")},S.roundTo=function(e,i){if(0>i)return e;var s=Math.pow(10,i);return Math.round(e*s)/s},S.toFixed=function(e,i){var s=!1;0>e&&(s=!0,e=Math.abs(e));var c=String(Math.round(e*Math.pow(10,i)));if(0<i){var M,T=c.length;if(T<i)for(M=0;M<i-T;M++)c="0"+c;return""===(T=c.substring(0,c.length-i))&&(T=0),c=T+"."+c.substring(c.length-i,c.length),s?"-"+c:c}return String(c)},S.formatDuration=function(e,i,s,c,T,M){var j=S.intervals,G=M.decimalSeparator;if(e>=j[i].contains){var Y=e-Math.floor(e/j[i].contains)*j[i].contains;return"ss"==i?1==(Y=S.formatNumber(Y,M)).split(G)[0].length&&(Y="0"+Y):Y=S.roundTo(Y,M.precision),("mm"==i||"hh"==i)&&10>Y&&(Y="0"+Y),s=Y+""+c[i]+s,e=Math.floor(e/j[i].contains),S.formatDuration(e,i=j[i].nextInterval,s,c,T,M)}if("ss"==i&&1==(e=S.formatNumber(e,M)).split(G)[0].length&&(e="0"+e),"mm"==i&&(e=S.roundTo(e,M.precision)),("mm"==i||"hh"==i)&&10>e&&(e="0"+e),s=e+""+c[i]+s,j[T].count>j[i].count)for(e=j[i].count;e<j[T].count;e++)"ss"==(i=j[i].nextInterval)||"mm"==i||"hh"==i?s="00"+c[i]+s:"DD"==i&&(s="0"+c[i]+s);return":"==s.charAt(s.length-1)&&(s=s.substring(0,s.length-1)),s},S.formatNumber=function(e,i,s,c,T){e=S.roundTo(e,i.precision),isNaN(s)&&(s=i.precision);var j,M=i.decimalSeparator;null==M&&(M=","),null==(i=i.thousandsSeparator)&&(i=" "),j=0>e?"-":"",e=Math.abs(e);var Y=!1;-1!=(G=String(e)).indexOf("e")&&(Y=!0),0<=s&&!Y&&(G=S.toFixed(e,s));var z="";if(Y)z=G;else{var F,G=G.split(".");for(F=(Y=String(G[0])).length;0<=F;F-=3)z=F!=Y.length?0!==F?Y.substring(F-3,F)+i+z:Y.substring(F-3,F)+z:Y.substring(F-3,F);void 0!==G[1]&&(z=z+M+G[1]),void 0!==s&&0<s&&"0"!=z&&(z=S.addZeroes(z,M,s))}return z=j+z,""===j&&!0===c&&0!==e&&(z="+"+z),!0===T&&(z+="%"),z},S.addZeroes=function(e,i,s){return void 0===(e=e.split(i))[1]&&0<s&&(e[1]="0"),e[1].length<s?(e[1]+="0",S.addZeroes(e[0]+i+e[1],i,s)):void 0!==e[1]?e[0]+i+e[1]:e[0]},S.scientificToNormal=function(e){var i,s;if("-"==(e=String(e).split("e"))[1].substr(0,1)){for(i="0.",s=0;s<Math.abs(Number(e[1]))-1;s++)i+="0";i+=e[0].split(".").join("")}else{var c=0;for((i=e[0].split("."))[1]&&(c=i[1].length),i=e[0].split(".").join(""),s=0;s<Math.abs(Number(e[1]))-c;s++)i+="0"}return i},S.toScientific=function(e,i){if(0===e)return"0";var s=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),c=String(c).split(".").join(i);return String(c)+"e"+s},S.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},S.hitTest=function(e,i,s){var c=!1,T=e.x,M=e.x+e.width,j=e.y,G=e.y+e.height,Y=S.isInRectangle;return c||(c=Y(T,j,i)),c||(c=Y(T,G,i)),c||(c=Y(M,j,i)),c||(c=Y(M,G,i)),c||!0===s||(c=S.hitTest(i,e,!0)),c},S.isInRectangle=function(e,i,s){return e>=s.x-5&&e<=s.x+s.width+5&&i>=s.y-5&&i<=s.y+s.height+5},S.isPercents=function(e){if(-1!=String(e).indexOf("%"))return!0},S.formatValue=function(e,i,s,c,T,M,j,G){var Y;if(i)for(void 0===T&&(T=""),Y=0;Y<s.length;Y++){var z=s[Y],F=i[z];void 0!==F&&(F=M?S.addPrefix(F,G,j,c):S.formatNumber(F,c),e=e.replace(new RegExp("\\[\\["+T+z+"\\]\\]","g"),F))}return e},S.formatDataContextValue=function(e,i){if(e){var c,s=e.match(/\[\[.*?\]\]/g);for(c=0;c<s.length;c++){var T;void 0!==i[T=(T=s[c]).substr(2,T.length-4)]&&(e=e.replace(new RegExp("\\[\\["+T+"\\]\\]","g"),i[T]))}}return e},S.massReplace=function(e,i){for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];void 0===c&&(c=""),e=e.replace(s,c)}return e},S.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")},S.addPrefix=function(e,i,s,c,T){var G,Y,z,M=S.formatNumber(e,c),j="";if(0===e)return"0";if(0>e&&(j="-"),1<(e=Math.abs(e))){for(G=i.length-1;-1<G;G--)if(e>=i[G].number&&(Y=e/i[G].number,1>(z=Number(c.precision))&&(z=1),s=S.roundTo(Y,z),z=S.formatNumber(s,{precision:-1,decimalSeparator:c.decimalSeparator,thousandsSeparator:c.thousandsSeparator}),!T||Y==s)){M=j+""+z+i[G].prefix;break}}else for(G=0;G<s.length;G++)if(e<=s[G].number){Y=e/s[G].number,z=Math.abs(Math.floor(Math.log(Y)*Math.LOG10E)),M=j+""+(Y=S.roundTo(Y,z))+s[G].prefix;break}return M},S.remove=function(e){e&&e.remove()},S.getEffect=function(e){return">"==e&&(e="easeOutSine"),"<"==e&&(e="easeInSine"),"elastic"==e&&(e="easeOutElastic"),e},S.getObjById=function(e,i){var s,c;for(c=0;c<e.length;c++){var T=e[c];if(T.id==i){s=T;break}}return s},S.applyTheme=function(e,i,s){i||(i=S.theme);try{i=JSON.parse(JSON.stringify(i))}catch{}i&&i[s]&&S.extend(e,i[s])},S.isString=function(e){return"string"==typeof e},S.extend=function(e,i,s){var c;for(c in e||(e={}),i)s&&e.hasOwnProperty(c)||(e[c]=i[c]);return e},S.copyProperties=function(e,i){for(var s in e)e.hasOwnProperty(s)&&"events"!=s&&void 0!==e[s]&&"function"!=typeof e[s]&&"cname"!=s&&(i[s]=e[s])},S.processObject=function(e,i,s,c){if(!(e instanceof i)&&(e=c?S.extend(new i(s),e):S.extend(e,new i(s),!0)).listeners)for(var T in e.listeners)e.addListener((i=e.listeners[T]).event,i.method);return e},S.fixNewLines=function(e){var i=RegExp("\\n","g");return e&&(e=e.replace(i,"<br />")),e},S.fixBrakes=function(e){if(S.isModern){var i=RegExp("<br>","g");e&&(e=e.replace(i,"\n"))}else e=S.fixNewLines(e);return e},S.deleteObject=function(e,i){if(e&&(null==i&&(i=20),0!==i))if("[object Array]"===Object.prototype.toString.call(e))for(var s=0;s<e.length;s++)S.deleteObject(e[s],i-1),e[s]=null;else if(e&&!e.tagName)try{for(s in e.theme=null,e)e[s]&&("object"==typeof e[s]&&S.deleteObject(e[s],i-1),"function"!=typeof e[s]&&(e[s]=null))}catch{}},S.bounce=function(e,i,s,c,T){return(i/=T)<1/2.75?7.5625*c*i*i+s:i<2/2.75?c*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?c*(7.5625*(i-=2.25/2.75)*i+.9375)+s:c*(7.5625*(i-=2.625/2.75)*i+.984375)+s},S.easeInOutQuad=function(e,i,s,c,T){return 1>(i/=T/2)?c/2*i*i+s:-c/2*(--i*(i-2)-1)+s},S.easeInSine=function(e,i,s,c,T){return-c*Math.cos(i/T*(Math.PI/2))+c+s},S.easeOutSine=function(e,i,s,c,T){return c*Math.sin(i/T*(Math.PI/2))+s},S.easeOutElastic=function(e,i,s,c,T){e=1.70158;var M=0,j=c;return 0===i?s:1==(i/=T)?s+c:(M||(M=.3*T),j<Math.abs(c)?(j=c,e=M/4):e=M/(2*Math.PI)*Math.asin(c/j),j*Math.pow(2,-10*i)*Math.sin(2*(i*T-e)*Math.PI/M)+c+s)},S.fixStepE=function(e){e=e.toExponential(0).split("e");var i=Number(e[1]);return 9==Number(e[0])&&i++,S.generateNumber(1,i)},S.generateNumber=function(e,i){var c,T,s="";for(c=0>i?Math.abs(i)-1:Math.abs(i),T=0;T<c;T++)s+="0";return Number(0>i?"0."+s+String(e):String(e)+s)},S.setCN=function(e,i,s,c){if(e.addClassNames&&i&&(i=i.node)&&s){var T=i.getAttribute("class");e=e.classNamePrefix+"-",c&&(e=""),i.setAttribute("class",T?T+" "+e+s:e+s)}},S.removeCN=function(e,i,s){i&&(i=i.node)&&s&&(i=i.classList)&&i.remove(e.classNamePrefix+"-"+s)},S.parseDefs=function(e,i){for(var s in e){var c=typeof e[s];if(0<e[s].length&&"object"==c)for(var T=0;T<e[s].length;T++)c=document.createElementNS(S.SVG_NS,s),i.appendChild(c),S.parseDefs(e[s][T],c);else"object"==c?(c=document.createElementNS(S.SVG_NS,s),i.appendChild(c),S.parseDefs(e[s],c)):i.setAttribute(s,e[s])}}}(),function(){var S=window.AmCharts;S.AxisBase=S.Class({construct:function(e){this.createEvents("clickItem","rollOverItem","rollOutItem","rollOverGuide","rollOutGuide","clickGuide"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.titleWidth=0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},S.applyTheme(this,e,"AxisBase")},zoom:function(e,i){this.start=e,this.end=i,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var e=this.position;"H"==this.orientation?("left"==e&&(e="bottom"),"right"==e&&(e="top")):("bottom"==e&&(e="left"),"top"==e&&(e="right")),this.position=e},init:function(){this.createBalloon()},draw:function(){var e=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var i=e.container,s=i.set();e.gridSet.push(s),this.set=s,i=i.set(),e.axesLabelsSet.push(i),this.labelsSet=i,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?3>(e=this.height/this.minVerticalGap)&&(e=3):e=this.width/this.minHorizontalGap,this.gridCountR=Math.max(e,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(e){this.orientation=e?"H":"V"},addTitle:function(){var e=this.title;if(this.titleLabel=null,e){var i=this.chart,s=this.titleColor;void 0===s&&(s=i.color);var c=this.titleFontSize;isNaN(c)&&(c=i.fontSize+1),e=S.text(i.container,e,s,i.fontFamily,c,this.titleAlign,this.titleBold),S.setCN(i,e,this.bcn+"title"),this.titleLabel=e}},positionTitle:function(){var e=this.titleLabel;if(e){var i,s,j={};0<(c=this.labelsSet).length()?j=c.getBBox():(j.x=0,j.y=0,j.width=this.width,j.height=this.height,S.VML&&(j.y+=this.y,j.x+=this.x)),c.push(e);var c=j.x,T=j.y;S.VML&&(T-=this.y,c-=this.x);var M=j.width,G=(j=j.height,this.width),Y=this.height,z=0,F=e.getBBox().height/2,N=this.inside,a=this.titleAlign;switch(this.position){case"top":i="left"==a?-1:"right"==a?G:G/2,s=T-10-F;break;case"bottom":i="left"==a?-1:"right"==a?G:G/2,s=T+j+10+F;break;case"left":i=c-10-F,N&&(i-=5),z=-90,s=("left"==a?Y+1:"right"==a?-1:Y/2)+this.titleDY,this.titleWidth=F+10;break;case"right":i=c+M+10+F,N&&(i+=7),s=("left"==a?Y+2:"right"==a?-2:Y/2)+this.titleDY,this.titleWidth=F+10,z=-90}this.marginsChanged?(e.translate(i,s),this.tx=i,this.ty=s):e.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(z=this.titleRotation),0!==z&&e.rotate(z)}},pushAxisItem:function(e,i){var s=this,c=e.graphics();0<c.length()&&(i?s.labelsSet.push(c):s.set.push(c)),(c=e.getLabel())&&(s.labelsSet.push(c),c.click(function(T){s.handleMouse(T,e,"clickItem")}).touchend(function(T){s.handleMouse(T,e,"clickItem")}).mouseover(function(T){s.handleMouse(T,e,"rollOverItem")}).mouseout(function(T){s.handleMouse(T,e,"rollOutItem")}))},handleMouse:function(e,i,s){this.fire({type:s,value:i.value,serialDataItem:i.serialDataItem,axis:this,target:i.label,chart:this.chart,event:e})},addGuide:function(e){for(var i=this.guides,s=!1,c=i.length,T=0;T<i.length;T++)i[T]==e&&(s=!0,c=T);(e=S.processObject(e,S.Guide,this.theme)).id||(e.id="guideAuto"+c+"_"+(new Date).getTime()),s||i.push(e)},removeGuide:function(e){var s,i=this.guides;for(s=0;s<i.length;s++)i[s]==e&&i.splice(s,1)},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var s={x:0,y:0,width:0,height:0};e.graphics&&(s=e.graphics.getBBox());var c=e.fillColor;void 0===c&&(c=e.lineColor),this.chart.showBalloon(e.balloonText,c,!0,this.x+s.x+s.width/2,s=this.y+s.y+s.height/2),this.fire({type:"rollOverGuide",guide:e,chart:this.chart})},handleGuideOut:function(e){this.chart.hideBalloon(),this.fire({type:"rollOutGuide",guide:e,chart:this.chart})},handleGuideClick:function(e){this.chart.hideBalloon(),this.fire({type:"clickGuide",guide:e,chart:this.chart})},addEventListeners:function(e,i){var s=this;e.mouseover(function(){s.handleGuideOver(i)}),e.mouseup(function(){s.handleGuideClick(i)}),e.touchstart(function(){s.handleGuideOver(i)}),e.mouseout(function(){s.handleGuideOut(i)})},getBBox:function(){var e;return this.labelsSet&&(e=this.labelsSet.getBBox()),e?S.VML||(e={x:e.x+this.x,y:e.y+this.y,width:e.width,height:e.height}):e={x:0,y:0,width:0,height:0},e},destroy:function(){S.remove(this.set),S.remove(this.labelsSet);var e=this.axisLine;e&&S.remove(e.axisSet),S.remove(this.grid0)},chooseMinorFrequency:function(e){for(var i=10;0<i;i--)if(e/i==Math.round(e/i))return e/i},parseDatesDraw:function(){var e,T,Y,z,F,N,a,i=this.chart,s=this.showFirstLabel,c=this.showLastLabel,M="",j=S.extractPeriod(this.minPeriod),G=S.getPeriodDuration(j.period,j.count),p=this.firstDayOfWeek,l=this.boldPeriodBeginning;e=this.minorGridEnabled;var d,w,I,_=this.gridAlpha,x=(I=this.choosePeriod(0)).period,h=S.getPeriodDuration(x,I=I.count);h<G&&(x=j.period,I=j.count,h=G),"WW"==(j=x)&&(j="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var n=Math.ceil(this.timeDifference/h)+5,D=Y=S.resetDateToMin(new Date(this.startTime-h),x,I,p).getTime();(j==x&&1==I&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(F=h*this.stepWidth,this.autoWrap&&!this.centerLabels&&(F=-F)),this.cellWidth=G*this.stepWidth,G=-1,(N=Math.round(Y/h))/2==Math.round(N/2)&&(G=-2,Y-=h),N=this.firstTime;var P=0,E=0;if(e&&1<I&&(d=this.chooseMinorFrequency(I),w=S.getPeriodDuration(x,d),"DD"==x&&(w+=S.getPeriodDuration("hh")),"fff"==x&&(w=1)),0<this.gridCountR)for(n-5-G>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),e=G;e<=n;e++){if(a=N+h*(e+Math.floor((D-N)/h))-P,"DD"==x&&(a+=36e5),a=S.resetDateToMin(new Date(a),x,I,p).getTime(),"MM"==x&&(T=(a-Y)/h,1.5<=(a-Y)/h&&(a=a-(T-1)*h+S.getPeriodDuration("DD",3),a=S.resetDateToMin(new Date(a),x,1).getTime(),P+=h)),T=(a-this.startTime)*this.stepWidth,"radar"==i.type){if(0>(T=this.axisWidth-T)||T>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(E=-h*this.stepWidth/2):"date"==this.type&&(T=this.axisWidth-T);if(M=!1,this.nextPeriod[j]&&(M=this.checkPeriodChange(this.nextPeriod[j],1,a,Y,j)),Y=!1,M&&this.markPeriodChange?(M=this.dateFormatsObject[this.nextPeriod[j]],this.twoLineMode&&(M=S.fixBrakes(M=this.dateFormatsObject[j]+"\n"+M)),Y=!0):M=this.dateFormatsObject[j],l||(Y=!1),this.currentDateFormat=M,M=S.formatDate(new Date(a),M,i),(e==G&&!s||e==n&&!c)&&(M=" "),this.labelFunction&&(M=this.labelFunction(M,new Date(a),this,x,I,z).toString()),this.boldLabels&&(Y=!0),z=new this.axisItemRenderer(this,T,M,!1,F,E,!1,Y),this.pushAxisItem(z),z=Y=a,!isNaN(d))for(T=1;T<I;T+=d)this.gridAlpha=this.minorGridAlpha,M=a+w*T,M=S.resetDateToMin(new Date(M),x,d,p).getTime(),M=new this.axisItemRenderer(this,(M-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(M);this.gridAlpha=_}},choosePeriod:function(e){var i=S.getPeriodDuration(this.periods[e].period,this.periods[e].count),s=this.periods;return this.timeDifference<i&&0<e?s[e-1]:Math.ceil(this.timeDifference/i)<=this.gridCountR?s[e]:e+1<s.length?this.choosePeriod(e+1):s[e]},getStepWidth:function(e){var i;return this.startOnAxis?(i=this.axisWidth/(e-1),1==e&&(i=this.axisWidth)):i=this.axisWidth/e,i},timeZoom:function(e,i){this.startTime=e,this.endTime=i},minDuration:function(){var e=S.extractPeriod(this.minPeriod);return S.getPeriodDuration(e.period,e.count)},checkPeriodChange:function(e,i,s,c,T){s=new Date(s);var M=new Date(c),j=this.firstDayOfWeek;return c=i,"DD"==e&&(i=1),s=S.resetDateToMin(s,e,i,j).getTime(),i=S.resetDateToMin(M,e,i,j).getTime(),!("DD"==e&&"hh"!=T&&s-i<S.getPeriodDuration(e,c)-S.getPeriodDuration("hh",1))&&s!=i},generateDFObject:function(){var e;for(this.dateFormatsObject={},e=0;e<this.dateFormats.length;e++){var i=this.dateFormats[e];this.dateFormatsObject[i.period]=i.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(e){return e},showBalloon:function(e,i,s,c){var M,T=this.offset;switch(this.position){case"bottom":i=this.height+T;break;case"top":i=-T;break;case"left":e=-T;break;case"right":e=this.width+T}if(s||(s=this.currentDateFormat),"V"==this.orientation){if(0>i||i>this.height)return;if(isNaN(i))return void this.hideBalloon();i=this.adjustBalloonCoordinate(i,c),c=this.coordinateToValue(i)}else{if(0>e||e>this.width)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,c),c=this.coordinateToValue(e)}(T=this.chart.chartCursor)&&(M=T.index),this.balloon&&void 0!==c&&this.balloon.enabled&&(this.balloonTextFunction?(("date"==this.type||!0===this.parseDates)&&(c=new Date(c)),c=this.balloonTextFunction(c)):this.balloonText?c=this.formatBalloonText(this.balloonText,M,s):isNaN(c)||(c=this.formatValue(c,s)),(e!=this.prevBX||i!=this.prevBY)&&(this.balloon.setPosition(e,i),this.prevBX=e,this.prevBY=i,c&&this.balloon.showBalloon(c)))},adjustBalloonCoordinate:function(e){return e},createBalloon:function(){var e=this.chart,i=e.chartCursor;i&&("mouse"!=(i=i.cursorPosition)&&(this.stickBalloonToCategory=!0),"start"==i&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),S.extend(this.balloon,e.balloon,!0))},setBalloonBounds:function(){var e=this.balloon;if(e){var i=this.chart;e.cornerRadius=0,e.shadowAlpha=0,e.borderThickness=1,e.borderAlpha=1,e.adjustBorderColor=!1,e.showBullet=!1,this.balloon=e,e.chart=i,e.mainSet=i.plotBalloonsSet,e.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(e.pointerWidth=0),e.className=this.id,i="V","V"==this.orientation&&(i="H"),this.stickBalloonToCategory||(e.animationDuration=0);var s,c,T,M,j=this.inside,G=this.width,Y=this.height;switch(this.position){case"bottom":s=0,c=G,j?(T=0,M=Y):(T=Y,M=Y+1e3);break;case"top":s=0,c=G,j?(T=0,M=Y):(T=-1e3,M=0);break;case"left":T=0,M=Y,j?(s=0,c=G):(s=-1e3,c=0);break;case"right":T=0,M=Y,j?(s=0,c=G):(s=G,c=G+1e3)}e.drop||(e.pointerOrientation=i),e.setBounds(s,T,c,M)}}})}(),function(){var S=window.AmCharts;S.ValueAxis=S.Class({inherits:S.AxisBase,construct:function(e){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),S.ValueAxis.base.construct.call(this,e),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,S.applyTheme(this,e,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var e=this.chart;"xy"!=e.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(S.isString(this.synchronizeWith)&&(this.synchronizeWith=e.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),(0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)||isNaN(this.fullMin)&&isNaN(this.fullMax))&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){S.ValueAxis.base.draw.call(this);var e=this.chart,i=this.set;this.labelRotationR=this.labelRotation,S.setCN(e,this.set,"value-axis value-axis-"+this.id),S.setCN(e,this.labelsSet,"value-axis value-axis-"+this.id),S.setCN(e,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var s=this.type;if("duration"==s&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==s&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var G=this.treatZeroAs,Y=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<Y&&(Y=this.minimum),this.logMin=Y,this.minReal<Y&&(this.minReal=Y),isNaN(this.minReal)&&(this.minReal=Y),0<G&&0===Y&&(this.minReal=Y=G),0>=Y||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:e})}this.grid0=null;var c,T,M=e.dx,j=e.dy;if(G=!1,Y=this.logarithmic,isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||this.min==1/0||this.max==-1/0)G=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var _,z=this.labelFrequency,F=this.showFirstLabel,N=this.showLastLabel,a=1,p=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){T=this.fullMin;var d=this.fullMax;isNaN(this.minimum)||(T=this.minimum),isNaN(this.maximum)||(d=this.maximum),d=Math.log(d)*Math.LOG10E-Math.log(T)*Math.LOG10E;var l=Math.log(this.max)/Math.LN10-Math.log(T)*Math.LOG10E;this.relativeStart=S.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(T)*Math.LOG10E)/d,5),this.relativeEnd=S.roundTo(l/d,5)}else this.relativeStart=S.roundTo(S.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=S.roundTo(S.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5);d=Math.round((this.maxCalc-this.minCalc)/this.step)+1,!0===Y?(_=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/_,_>this.logGridLimit&&(d=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,p=Math.round(Math.log(this.minReal)*Math.LOG10E),d>this.gridCountR&&(a=Math.ceil(d/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var w,I,x=0;for(1>this.step&&-1<this.step&&(x=S.getDecimals(this.step)),this.integersOnly&&(x=0),x>this.maxDecCount&&(x=this.maxDecCount),l=this.precision,isNaN(l)||(x=l),isNaN(this.maxZoom)&&(this.max=S.roundTo(this.max,this.maxDecCount),this.min=S.roundTo(this.min,this.maxDecCount)),(T={}).precision=x,T.decimalSeparator=e.nf.decimalSeparator,T.thousandsSeparator=e.nf.thousandsSeparator,this.numberFormatter=T,this.exponential=!1,T=p;T<d;T+=a){var h=S.roundTo(this.step*T+this.min,x);-1!=String(h).indexOf("e")&&(this.exponential=!0)}if(this.duration&&(this.maxInterval=S.getMaxInterval(this.max,this.duration)),x=this.step,h=this.minorGridAlpha,this.minorGridEnabled&&(I=this.getMinorGridStep(x,this.stepWidth*x)),this.autoGridCount||0!==this.gridCount)if("date"==s)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(d>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),s=this.minCalc,Y&&(d++,s=this.maxCalc-d*x),this.gridCountReal=d,T=this.startCount=p;T<d;T+=a)if(p=S.roundTo(p=x*T+s,this.maxDecCount+1),(!this.integersOnly||Math.round(p)==p)&&(isNaN(l)||Number(S.toFixed(p,l))==p)){if(!0===Y)if(_>this.logGridLimit){if((p=Math.pow(10,T))>this.max)continue}else if(0>=p&&0>=(p=s+x*T+x/2))continue;var n;if(w=this.formatValue(p,!1,T),Math.round(T/z)!=T/z&&(w=void 0),(0===T&&!F||T==d-1&&!N)&&(w=" "),c=this.getCoordinate(p),this.rotate&&this.autoWrap&&(n=this.stepWidth*x-10),w=new this.axisItemRenderer(this,c,w,void 0,n,void 0,void 0,this.boldLabels),this.pushAxisItem(w),p==this.baseValue&&"radar"!=e.type){var D,P,E=this.width,m=this.height;"H"==this.orientation?0<=c&&c<=E+1&&(D=[c,c,c+M],P=[m,0,j]):0<=c&&c<=m+1&&(D=[0,E,E+M],P=[c,c,c+j]),D&&(c=S.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(c=this.zeroGridAlpha),(c=S.line(e.container,D,P,this.gridColor,c,1,this.dashLength)).translate(this.x,this.y),this.grid0=c,e.axesSet.push(c),c.toBack(),S.setCN(e,c,this.bcn+"zero-grid-"+this.id),S.setCN(e,c,this.bcn+"zero-grid"))}if(!isNaN(I)&&0<h&&T<d-1){for(c=x/I,Y&&(I=S.roundTo(I=x*(T+a)+this.minCalc,this.maxDecCount+1),_>this.logGridLimit&&(I=Math.pow(10,T+a)),I=(I-p)/(c=9)),E=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,m=1;m<c;m++){var C=this.getCoordinate(p+I*m);C=new this.axisItemRenderer(this,C,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(C)}this.gridAlpha=E}}if(0<(n=(_=this.guides).length)){for(D=this.fillAlpha,T=this.fillAlpha=0;T<n;T++)M=NaN,I=(P=_[T]).above,isNaN(P.toValue)||(M=this.getCoordinate(P.toValue),w=new this.axisItemRenderer(this,M,"",!0,NaN,NaN,P),this.pushAxisItem(w,I)),j=NaN,isNaN(P.value)||(j=this.getCoordinate(P.value),w=new this.axisItemRenderer(this,j,P.label,!0,NaN,(M-j)/2,P),this.pushAxisItem(w,I)),isNaN(M)&&(M=3+(j-=3)),w&&(z=w.label)&&this.addEventListeners(z,P),isNaN(M-j)||0>j&&0>M||(M=new this.guideFillRenderer(this,j,M,P),this.pushAxisItem(M,I),I=M.graphics(),P.graphics=I,this.addEventListeners(I,P));this.fillAlpha=D}w=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(w=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(w=this.max),Y&&w<this.minReal&&(w=this.minReal),this.baseCoord=this.getCoordinate(w,!0),(w={type:"axisChanged",target:this,chart:e}).min=Y?this.minReal:this.min,w.max=this.max,this.fire(w),this.axisCreated=!0}Y=this.axisLine.set,w=this.labelsSet,i.translate(this.x,this.y),w.translate(this.x,this.y),this.positionTitle(),"radar"!=e.type&&Y.toFront(),!this.visible||G?(i.hide(),Y.hide(),w.hide()):(i.show(),Y.show(),w.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=S.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=S.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(e,i,s){var c=this.exponential,T=this.logarithmic,M=this.numberFormatter,j=this.chart;if(M)return!0===this.logarithmic&&(c=-1!=String(e).indexOf("e")),this.useScientificNotation&&(c=!0),this.usePrefixes&&(c=!1),c?(c=(s=-1==String(e).indexOf("e")?e.toExponential(15):String(e)).split("e"),s=Number(c[0]),c=Number(c[1]),s=S.roundTo(s,14),i||isNaN(this.precision)||(s=S.roundTo(s,this.precision)),10==s&&(s=1,c+=1),s=s+"e"+c,0===e&&(s="0"),1==e&&(s="1")):(T&&((c=String(e).split("."))[1]?(M.precision=c[1].length,0>s&&(M.precision=Math.abs(s)),i&&1<e&&(M.precision=0),i||isNaN(this.precision)||(M.precision=this.precision)):M.precision=-1),s=this.usePrefixes?S.addPrefix(e,j.prefixesOfBigNumbers,j.prefixesOfSmallNumbers,M,!i):S.formatNumber(e,M,M.precision)),this.duration&&(i&&(M.precision=0),s=S.formatDuration(e,this.duration,"",this.durationUnits,this.maxInterval,M)),"date"==this.type&&(s=S.formatDate(new Date(e),this.currentDateFormat,j)),this.recalculateToPercents?s+="%":(i=this.unit)&&(s="left"==this.unitPosition?i+s:s+i),this.labelFunction&&(s="date"==this.type?this.labelFunction(s,new Date(e),this).toString():this.labelFunction(e,s,this).toString()),s},getMinorGridStep:function(e,i){var s=[5,4,2];60>i&&s.shift();for(var c=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),T=0;T<s.length;T++){var M=e/s[T],j=Math.floor(Math.log(Math.abs(M))*Math.LOG10E);if(!(1<Math.abs(c-j)))if(1>e){if((j=Math.pow(10,-j)*M)==Math.round(j))return M}else if(M==Math.round(M))return M}return 1},stackGraphs:function(e){var i=this.stackType;"stacked"==i&&(i="regular"),"line"==i&&(i="none"),"100% stacked"==i&&(i="100%"),this.stackType=i;var j,Y,z,F,N,a,s=[],c=[],T=[],M=[],G=this.chart.graphs,p=this.baseValue,l=!1;if(("line"==e||"step"==e||"smoothedLine"==e)&&(l=!0),l&&("regular"==i||"100%"==i))for(N=0;N<G.length;N++)(F=G[N]).stackGraph=null,F.hidden||(z=F.type,F.chart==this.chart&&F.valueAxis==this&&e==z&&F.stackable&&(Y&&(F.stackGraph=Y),Y=F));for(Y=this.end+10,F=S.fitToBounds(F=this.start-10,0,N=this.data.length-1),Y=S.fitToBounds(Y,0,N),a=F;a<=Y;a++){var d=0;for(N=0;N<G.length;N++)if((F=G[N]).hidden)F.newStack&&(T[a]=NaN,c[a]=NaN);else if(z=F.type,F.chart==this.chart&&F.valueAxis==this&&e==z&&F.stackable)if(j=(z=this.data[a].axes[this.id].graphs[F.id]).values.value,isNaN(j))F.newStack&&(T[a]=NaN,c[a]=NaN);else{var _=S.getDecimals(j);d<_&&(d=_),isNaN(M[a])?M[a]=Math.abs(j):M[a]+=Math.abs(j),M[a]=S.roundTo(M[a],d),_=F.fillToGraph,l&&_&&(_=this.data[a].axes[this.id].graphs[_.id])&&(z.values.open=_.values.value),"regular"==i&&(l&&(isNaN(s[a])?(s[a]=j,z.values.close=j,z.values.open=this.baseValue):(z.values.close=isNaN(j)?s[a]:j+s[a],z.values.open=s[a],s[a]=z.values.close)),"column"==e&&(F.newStack&&(T[a]=NaN,c[a]=NaN),z.values.close=j,0>j?(z.values.close=j,isNaN(c[a])?z.values.open=p:(z.values.close+=c[a],z.values.open=c[a]),c[a]=z.values.close):(z.values.close=j,isNaN(T[a])?z.values.open=p:(z.values.close+=T[a],z.values.open=T[a]),T[a]=z.values.close)))}}for(a=this.start;a<=this.end;a++)for(N=0;N<G.length;N++)(F=G[N]).hidden?F.newStack&&(T[a]=NaN,c[a]=NaN):(z=F.type,F.chart==this.chart&&F.valueAxis==this&&e==z&&F.stackable&&(j=(z=this.data[a].axes[this.id].graphs[F.id]).values.value,isNaN(j)||(z.values.percents=s=j/M[a]*100,z.values.total=M[a],F.newStack&&(T[a]=NaN,c[a]=NaN),"100%"==i&&(isNaN(c[a])&&(c[a]=0),isNaN(T[a])&&(T[a]=0),0>s?(z.values.close=S.fitToBounds(s+c[a],-100,100),z.values.open=c[a],c[a]=z.values.close):(z.values.close=S.fitToBounds(s+T[a],-100,100),z.values.open=T[a],T[a]=z.values.close)))))},recalculate:function(){var s,e=this.chart,i=e.graphs;for(s=0;s<i.length;s++){var c=i[s];if(c.valueAxis==this){var T="value";("candlestick"==c.type||"ohlc"==c.type)&&(T="open");var M,j,z,G=this.end+2;if(G=S.fitToBounds(this.end+1,0,this.data.length-1),0<(Y=this.start)&&Y--,j=this.start,c.compareFromStart&&(j=0),!isNaN(e.startTime)&&(z=e.categoryAxis)){var F=z.minDuration(),N=(F=new Date(e.startTime+F/2),S.resetDateToMin(new Date(e.startTime),z.minPeriod).getTime());S.resetDateToMin(new Date(F),z.minPeriod).getTime()>N&&j++}for((z=e.recalculateFromDate)&&(z=S.getDate(z,e.dataDateFormat,"fff"),j=e.getClosestIndex(e.chartData,"time",z.getTime(),!0,0,e.chartData.length),G=e.chartData.length-1),z=j;z<=G&&(M=(j=this.data[z].axes[this.id].graphs[c.id]).values[T],c.recalculateValue&&(M=j.dataContext[c.valueField+c.recalculateValue]),isNaN(M));z++);for(this.recBaseValue=M,T=Y;T<=G;T++){(j=this.data[T].axes[this.id].graphs[c.id]).percents={};var a,Y=j.values;for(a in Y)j.percents[a]="percents"!=a?Y[a]/M*100-100:Y[a]}}}},getMinMax:function(){var c,e=!1,i=this.chart,s=i.graphs;for(c=0;c<s.length;c++){var T=s[c].type;("line"==T||"step"==T||"smoothedLine"==T)&&this.expandMinMax&&(e=!0)}if(e&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==i.type&&(!0!==i.categoryAxis.parseDates||e||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),e=this.minMaxMultiplier,i=this.getExtremes(this.start,this.end),this.min=i.min,this.max=i.max,this.minRR=this.min,this.maxRR=this.max,this.min-=e=(this.max-this.min)*(e-1),this.max+=e,e=this.guides.length,this.includeGuidesInMinMax&&0<e)for(i=0;i<e;i++)(s=this.guides[i]).toValue<this.min&&(this.min=s.toValue),s.value<this.min&&(this.min=s.value),s.toValue>this.max&&(this.max=s.toValue),s.value>this.max&&(this.max=s.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(e=this.max,this.max=this.min,this.min=e),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),e=this.min,i=this.max,c=0==(s=this.max-this.min)?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/c)*c+c),isNaN(this.minimum)&&(this.min=Math.floor(this.min/c)*c-c),0>this.min&&0<=e&&(this.min=0),0<this.max&&0>=i&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),s=this.max-this.min,c=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E))/10,this.step=Math.ceil(s/this.gridCountR/c)*c,s=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),s=S.fixStepE(s),5<(c=Math.ceil(this.step/s))&&(c=10),5>=c&&2<c&&(c=5),this.step=Math.ceil(this.step/(s*c))*s*c,isNaN(this.setStep)||(this.step=this.setStep),1>s?(this.maxDecCount=Math.abs(Math.log(Math.abs(s))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=S.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=e&&(this.min=0),0<this.max&&0>=i&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),s=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=s),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E))):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<e&&(this.minReal=this.min=10*e)))},getExtremes:function(e,i){var s,c,T;for(T=e;T<=i;T++){var j,M=this.data[T].axes[this.id].graphs;for(j in M)if(M.hasOwnProperty(j)){var Y,G=this.chart.graphsById[j];if(G.includeInMinMax&&(!G.hidden||this.includeHidden))if(isNaN(s)&&(s=1/0),isNaN(c)&&(c=-1/0),this.foundGraphs=!0,G=M[j].values,this.recalculateToPercents&&(G=M[j].percents),this.minMaxField)(Y=G[this.minMaxField])<s&&(s=Y),Y>c&&(c=Y);else for(var z in G)G.hasOwnProperty(z)&&"percents"!=z&&"total"!=z&&"error"!=z&&((Y=G[z])<s&&(s=Y),Y>c&&(c=Y))}}return{min:s,max:c}},zoomOut:function(e){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,e)},zoomToRelativeValues:function(e,i,s){if(this.reversed){var T=e;e=1-i,i=1-T}var c=this.fullMax,M=(T=this.fullMin)+(c-T)*e,j=T+(c-T)*i;return 0<=this.minimum&&0>M&&(M=0),this.logarithmic&&(isNaN(this.minimum)||(T=this.minimum),isNaN(this.maximum)||(c=this.maximum),c=Math.log(c)*Math.LOG10E-Math.log(T)*Math.LOG10E,M=Math.pow(10,c*e+Math.log(T)*Math.LOG10E),j=Math.pow(10,c*i+Math.log(T)*Math.LOG10E)),this.zoomToValues(M,j,s)},zoomToValues:function(e,i,s){if(i<e){var T=i;i=e,e=T}if(this.relativeStart=S.roundTo((e-(T=this.fullMin))/((c=this.fullMax)-T),9),this.relativeEnd=S.roundTo((i-T)/(c-T),9),this.logarithmic){isNaN(this.minimum)||(T=this.minimum),isNaN(this.maximum)||(c=this.maximum);var c=Math.log(c)*Math.LOG10E-Math.log(T)*Math.LOG10E,M=Math.log(i)/Math.LN10-Math.log(T)*Math.LOG10E;this.relativeStart=S.roundTo((Math.log(e)/Math.LN10-Math.log(T)*Math.LOG10E)/c,9),this.relativeEnd=S.roundTo(M/c,9)}if(this.minZoom!=e||this.maxZoom!=i)return this.minZoom=e,this.maxZoom=i,(T={type:"axisZoomed"}).chart=this.chart,T.valueAxis=this,T.startValue=e,T.endValue=i,T.relativeStart=this.relativeStart,T.relativeEnd=this.relativeEnd,this.prevStartValue==e&&this.prevEndValue==i||this.fire(T),this.prevStartValue=e,this.prevEndValue=i,s||(S.copyProperties(T,e={}),e.type="axisIntZoomed",this.fire(e)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(e){if(isNaN(e))return NaN;var i=this.axisWidth,s=this.stepWidth,c=this.reversed,T=this.rotate,M=this.min;return!0===this.logarithmic?Math.pow(10,(T?!0===c?(i-e)/s:e/s:!0===c?e/s:(i-e)/s)+Math.log(this.minReal)*Math.LOG10E):!0===c?T?M-(e-i)/s:e/s+M:T?e/s+M:M-(e-i)/s},getCoordinate:function(e,i){if(isNaN(e))return NaN;var s=this.rotate,c=this.reversed,T=this.axisWidth,M=this.stepWidth,j=this.min,G=this.minReal;return!0===this.logarithmic?(0===e&&(e=this.treatZeroAs),j=Math.log(e)*Math.LOG10E-Math.log(G)*Math.LOG10E,s=s?!0===c?T-M*j:M*j:!0===c?M*j:T-M*j):s=!0===c?s?T-M*(e-j):M*(e-j):s?M*(e-j):T-M*(e-j),1e7<Math.abs(s)&&(s=s/Math.abs(s)*1e7),i||(s=Math.round(s)),s},synchronizeWithAxis:function(e){this.synchronizeWith=e,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){S.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var e=(s=this.synchronizeWith).min,i=s.max,s=s.step,c=this.synchronizationMultiplier;c&&(this.min=e*c,this.max=i*c,this.step=s*c,e=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=e=Math.round(e),this.draw())}}})}(),function(){var S=window.AmCharts;S.RecAxis=S.Class({construct:function(e){var i=e.chart,s=e.axisThickness,c=e.axisColor,T=e.axisAlpha,M=e.offset,j=e.dx,G=e.dy,Y=e.x,z=e.y,F=e.height,N=e.width,a=i.container;"H"==e.orientation?(c=S.line(a,[0,N],[0,0],c,T,s),this.axisWidth=e.width,"bottom"==e.position?(G=s/2+M+F+z-1,s=Y):(G=-s/2-M+z+G,s=j+Y)):(this.axisWidth=e.height,"right"==e.position?(c=S.line(a,[0,0,-j],[0,F,F-G],c,T,s),G=z+G,s=s/2+M+j+N+Y-1):(c=S.line(a,[0,0],[0,F],c,T,s),G=z,s=-s/2-M+Y)),c.translate(s,G),(s=i.container.set()).push(c),i.axesSet.push(s),S.setCN(i,c,e.bcn+"line"),this.axisSet=s,this.set=c}})}(),function(){var S=window.AmCharts;S.RecItem=S.Class({construct:function(e,i,s,c,T,M,j,G,Y,z,F,N){i=Math.round(i);var a=e.chart;this.value=s,null==s&&(s=""),Y||(Y=0),null==c&&(c=!0);var p=a.fontFamily,l=e.fontSize;null==l&&(l=a.fontSize);var d=e.color;null==d&&(d=a.color),void 0!==F&&(d=F);var _=e.chart.container,w=_.set();this.set=w;var x=e.axisThickness,I=e.axisColor,h=e.axisAlpha,n=e.tickLength,D=e.gridAlpha,P=e.gridThickness,E=e.gridColor,m=e.dashLength,C=e.fillColor,A=e.fillAlpha,k=e.labelsEnabled;F=e.labelRotationR;var yt,_t,f=e.counter,o=e.inside,R=e.labelOffset,U=e.dx,X=e.dy,tt=e.orientation,pt=e.position,ot=e.previousCoord,W=e.height,K=e.width,gt=e.offset;j?(void 0!==j.id&&(N=a.classNamePrefix+"-guide-"+j.id),k=!0,isNaN(j.tickLength)||(n=j.tickLength),null!=j.lineColor&&(E=j.lineColor),null!=j.color&&(d=j.color),isNaN(j.lineAlpha)||(D=j.lineAlpha),isNaN(j.dashLength)||(m=j.dashLength),isNaN(j.lineThickness)||(P=j.lineThickness),!0===j.inside&&(o=!0,0<gt&&(gt=0)),isNaN(j.labelRotation)||(F=j.labelRotation),isNaN(j.fontSize)||(l=j.fontSize),j.position&&(pt=j.position),void 0!==j.boldLabel&&(G=j.boldLabel),isNaN(j.labelOffset)||(R=j.labelOffset)):""===s&&(n=0),z&&!isNaN(e.minorTickLength)&&(n=e.minorTickLength);var rt="start";0<T&&(rt="middle"),e.centerLabels&&(rt="middle");var at,Ct,Ot,ut=F*Math.PI/180,vt=0,ct=0,Tt=0,kt=at=0,Ft=0;"V"==tt&&(F=0),k&&""!==s&&(kt=(rt=(Ot=e.autoWrap&&0===F?S.wrappedText(_,s,d,p,l,rt,G,Math.abs(T),0):S.text(_,s,d,p,l,rt,G)).getBBox()).width,Ft=rt.height),"H"==tt?(0<=i&&i<=K+1&&(0<n&&0<h&&i+Y<=K+1&&(yt=S.line(_,[i+Y,i+Y],[0,n],I,h,P),w.push(yt)),0<D&&(_t=S.line(_,[i,i+U,i+U],[W,W+X,X],E,D,P,m),w.push(_t))),ct=0,vt=i,j&&90==F&&o&&(vt-=l),!1===c?(rt="start",ct="bottom"==pt?o?ct+n:ct-n:o?ct-n:ct+n,vt+=3,0<T&&(vt+=T/2-3,rt="middle"),0<F&&(rt="middle")):rt="middle",1==f&&0<A&&!j&&!z&&ot<K&&0<(at=(c=S.fitToBounds(i,0,K))-(ot=S.fitToBounds(ot,0,K)))&&((Ct=S.rect(_,at,e.height,C,A)).translate(c-at+U,X),w.push(Ct)),"bottom"==pt?(ct+=W+l/2+gt,o?(0<F?(ct=W-kt/2*Math.sin(ut)-n-3,e.centerRotatedLabels||(vt+=kt/2*Math.cos(ut)-4+2)):0>F?(ct=W+kt*Math.sin(ut)-n-3+2,vt+=-kt*Math.cos(ut)-Ft*Math.sin(ut)-4):ct-=n+l+3+3,ct-=R):(0<F?(ct=W+kt/2*Math.sin(ut)+n+3,e.centerRotatedLabels||(vt-=kt/2*Math.cos(ut))):0>F?(ct=W+n+3-kt/2*Math.sin(ut)+2,vt+=kt/2*Math.cos(ut)):ct+=n+x+3+3,ct+=R)):(ct+=X+l/2-gt,vt+=U,o?(0<F?(ct=kt/2*Math.sin(ut)+n+3,e.centerRotatedLabels||(vt-=kt/2*Math.cos(ut))):ct+=n+3,ct+=R):(0<F?(ct=-kt/2*Math.sin(ut)-n-6,e.centerRotatedLabels||(vt+=kt/2*Math.cos(ut))):ct-=n+l+3+x+3,ct-=R)),"bottom"==pt?at=(o?W-n-1:W+x-1)+gt:(Tt=U,at=(o?X:X-n-x+1)-gt),M&&(vt+=M),l=vt,0<F&&(l+=kt/2*Math.cos(ut)),Ot&&(M=0,o&&(M=kt/2*Math.cos(ut)),l+M>K+2||0>l)&&(Ot.remove(),Ot=null)):(0<=i&&i<=W+1&&(0<n&&0<h&&i+Y<=W+1&&(yt=S.line(_,[0,n+1],[i+Y,i+Y],I,h,P),w.push(yt)),0<D&&(_t=S.line(_,[0,U,K+U],[i,i+X,i+X],E,D,P,m),w.push(_t))),rt="end",(!0===o&&"left"==pt||!1===o&&"right"==pt)&&(rt="start"),ct=i-Ft/2+2,1==f&&0<A&&!j&&!z&&(c=S.fitToBounds(i,0,W),ot=S.fitToBounds(ot,0,W),(Ct=S.polygon(_,[0,e.width,e.width,0],[0,0,ut=c-ot,ut],C,A)).translate(U,c-ut+X),w.push(Ct)),ct+=l/2,"right"==pt?(vt+=U+K+gt,ct+=X,o?(M||(ct-=l/2+3),vt=vt-(n+4)-R):(vt+=n+4+x,ct-=2,vt+=R)):o?(vt+=n+4-gt,M||(ct-=l/2+3),j&&(vt+=U,ct+=X),vt+=R):(vt+=-n-x-4-2-gt,ct-=2,vt-=R),yt&&("right"==pt?(Tt+=U+gt+K-1,at+=X,Tt=o?Tt-x:Tt+x):(Tt-=gt,o||(Tt-=n+x))),M&&(ct+=M),o=-3,"right"==pt&&(o+=X),Ot&&(ct>W+1||ct<o-l/10)&&(Ot.remove(),Ot=null)),yt&&(yt.translate(Tt,at),S.setCN(a,yt,e.bcn+"tick"),S.setCN(a,yt,N,!0),j&&S.setCN(a,yt,"guide")),!1===e.visible&&(yt&&yt.remove(),Ot&&(Ot.remove(),Ot=null)),Ot&&(Ot.attr({"text-anchor":rt}),Ot.translate(vt,ct,NaN,!0),0!==F&&Ot.rotate(-F,e.chart.backgroundColor),e.allLabels.push(Ot),this.label=Ot,S.setCN(a,Ot,e.bcn+"label"),S.setCN(a,Ot,N,!0),j&&S.setCN(a,Ot,"guide")),_t&&(S.setCN(a,_t,e.bcn+"grid"),S.setCN(a,_t,N,!0),j&&S.setCN(a,_t,"guide")),Ct&&(S.setCN(a,Ct,e.bcn+"fill"),S.setCN(a,Ct,N,!0)),z?_t&&S.setCN(a,_t,e.bcn+"grid-minor"):(e.counter=0===f?1:0,e.previousCoord=i),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var S=window.AmCharts;S.RecFill=S.Class({construct:function(e,i,s,c){var T=e.dx,M=e.dy,j=e.orientation,G=0;if(s<i){var z=i;i=s,s=z}var Y=c.fillAlpha;isNaN(Y)&&(Y=0),z=e.chart.container;var F=c.fillColor;"V"==j?(i=S.fitToBounds(i,0,e.height),s=S.fitToBounds(s,0,e.height)):(i=S.fitToBounds(i,0,e.width),s=S.fitToBounds(s,0,e.width)),s-=i,isNaN(s)&&(s=4,G=2,Y=0),0>s&&"object"==typeof F&&(F=F.join(",").split(",").reverse()),"V"==j?(j=S.rect(z,e.width,s,F,Y)).translate(T,i-G+M):(j=S.rect(z,s,e.height,F,Y)).translate(i-G+T,M),S.setCN(e.chart,j,"guide-fill"),c.id&&S.setCN(e.chart,j,"guide-fill-"+c.id),this.set=z.set([j])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var S=window.AmCharts;S.AmChart=S.Class({construct:function(e){this.svgIcons=this.tapToActivate=!0,this.theme=e,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.21.15",S.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var i=document.createElement("div"),s=i.style;s.overflow="hidden",s.position="relative",s.textAlign="left",this.chartDiv=i,(s=(i=document.createElement("div")).style).overflow="hidden",s.position="relative",s.textAlign="left",this.legendDiv=i,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"\u03bc"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new S.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},S.applyTheme(this,e,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(e,i,s){this.accessible&&e&&(s&&e.setAttr("role",s),e.setAttr("aria-label",i))},drawBackground:function(){S.remove(this.background);var e=this.container,i=this.backgroundColor,s=this.backgroundAlpha,c=this.set;S.isModern||0!==s||(s=.001);var T=this.updateWidth();this.realWidth=T;var M=this.updateHeight();this.realHeight=M,i=S.polygon(e,[0,T-1,T-1,0],[0,0,M-1,M-1],i,s,1,this.borderColor,this.borderAlpha),S.setCN(this,i,"bg"),this.background=i,c.push(i),(i=this.backgroundImage)&&(e=e.image(i,0,0,T,M),S.setCN(this,i,"bg-image"),this.bgImg=e,c.push(e))},drawTitles:function(e){var i=this.titles;if(this.titleHeight=0,S.ifArray(i)){var c,s=20;for(c=0;c<i.length;c++){var T;if(!1!==(T=S.processObject(T=i[c],S.Title,this.theme)).enabled){var M=T.color;void 0===M&&(M=this.color);var j=T.size;isNaN(j)&&(j=this.fontSize+2),isNaN(T.alpha);var G=this.marginLeft,Y=!0;void 0!==T.bold&&(Y=T.bold),(M=S.wrappedText(this.container,T.text,M,this.fontFamily,j,"middle",Y,this.realWidth-35-this.marginRight-G)).translate(G+(this.realWidth-this.marginRight-G)/2,s),M.node.style.pointerEvents="none",T.sprite=M,void 0!==T.tabIndex&&M.setAttr("tabindex",T.tabIndex),S.setCN(this,M,"title"),T.id&&S.setCN(this,M,"title-"+T.id),M.attr({opacity:T.alpha}),s+=M.getBBox().height+5,e?M.remove():this.freeLabelsSet.push(M)}}this.titleHeight=s-10}},write:function(e){var i=this;if(i.listeners)for(var s=0;s<i.listeners.length;s++){var c=i.listeners[s];i.addListener(c.event,c.method)}i.fire({type:"buildStarted",chart:i}),i.afterWriteTO&&clearTimeout(i.afterWriteTO),0<i.processTimeout?i.afterWriteTO=setTimeout(function(){i.afterWrite.call(i,e)},i.processTimeout):i.afterWrite(e)},afterWrite:function(e){var i;if(i="object"!=typeof e?document.getElementById(e):e){for(;i.firstChild;)i.removeChild(i.firstChild);this.div=i,i.style.overflow="hidden",i.style.textAlign="left";var s=this.legendDiv,c=this.legend,T=s.style,M=(e=this.chartDiv).style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var j,G=document.createElement("div");if((j=G.style).position="relative",this.containerDiv=G,G.className=this.classNamePrefix+"-main-div",e.className=this.classNamePrefix+"-chart-div",i.appendChild(G),(i=this.exportConfig)&&S.AmExport&&!this.AmExport&&(this.AmExport=new S.AmExport(this,i)),this.amExport&&S.AmExport&&(this.AmExport=S.extend(this.amExport,new S.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),c){if((c=this.addLegend(c,c.divId)).enabled)switch(T.left=null,T.top=null,T.right=null,M.left=null,M.right=null,M.top=null,T.position="relative",M.position="relative",j.width="100%",j.height="100%",c.position){case"bottom":G.appendChild(e),G.appendChild(s);break;case"top":G.appendChild(s),G.appendChild(e);break;case"absolute":T.position="absolute",M.position="absolute",void 0!==c.left&&(T.left=c.left+"px"),void 0!==c.right&&(T.right=c.right+"px"),void 0!==c.top&&(T.top=c.top+"px"),void 0!==c.bottom&&(T.bottom=c.bottom+"px"),c.marginLeft=0,c.marginRight=0,G.appendChild(e),G.appendChild(s);break;case"right":T.position="relative",M.position="absolute",G.appendChild(e),G.appendChild(s);break;case"left":T.position="absolute",M.position="relative",G.appendChild(e),G.appendChild(s);break;case"outside":G.appendChild(e)}else G.appendChild(e);this.prevLegendPosition=c.position}else G.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&S.addWheelListeners(),this.initChart()}},createLabelsSet:function(){S.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=S.processObject(this.balloon,S.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=S.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=S.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(S.callInitHandler(this),this.initHC=!0),S.applyLang(this.language,this);var e=this.numberFormatter;e&&(isNaN(e.precision)||(this.precision=e.precision),void 0!==e.thousandsSeparator&&(this.thousandsSeparator=e.thousandsSeparator),void 0!==e.decimalSeparator&&(this.decimalSeparator=e.decimalSeparator)),(e=this.percentFormatter)&&!isNaN(e.precision)&&(this.percentPrecision=e.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(e=this.container)?(e.container.innerHTML="",e.width=this.realWidth,e.height=this.realHeight,e.addDefs(this),this.chartDiv.appendChild(e.container)):e=new S.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=e,this.extension=".png",this.svgIcons&&S.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),e.chart=this,S.VML||S.SVG?(e.handDrawn=this.handDrawn,e.handDrawScatter=this.handDrawScatter,e.handDrawThickness=this.handDrawThickness,S.remove(this.set),this.set=e.set(),S.remove(this.gridSet),this.gridSet=e.set(),S.remove(this.cursorLineSet),this.cursorLineSet=e.set(),S.remove(this.graphsBehindSet),this.graphsBehindSet=e.set(),S.remove(this.bulletBehindSet),this.bulletBehindSet=e.set(),S.remove(this.columnSet),this.columnSet=e.set(),S.remove(this.graphsSet),this.graphsSet=e.set(),S.remove(this.trendLinesSet),this.trendLinesSet=e.set(),S.remove(this.axesSet),this.axesSet=e.set(),S.remove(this.cursorSet),this.cursorSet=e.set(),S.remove(this.scrollbarsSet),this.scrollbarsSet=e.set(),S.remove(this.bulletSet),this.bulletSet=e.set(),S.remove(this.freeLabelsSet),this.freeLabelsSet=e.set(),S.remove(this.axesLabelsSet),this.axesLabelsSet=e.set(),S.remove(this.balloonsSet),this.balloonsSet=e.set(),S.remove(this.plotBalloonsSet),this.plotBalloonsSet=e.set(),S.remove(this.zoomButtonSet),this.zoomButtonSet=e.set(),S.remove(this.zbSet),this.zbSet=null,S.remove(this.linkSet),this.linkSet=e.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var e=this.div;if(e){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch{}var i=e.offsetWidth,s=e.offsetHeight;e.clientHeight&&(i=e.clientWidth,s=e.clientHeight),(i!=this.mw||s!=this.mh)&&(this.mw=i,this.mh=s,this.measure())}},measure:function(){if(e=this.div){var i=this.chartDiv,T=e.offsetWidth,c=e.offsetHeight,s=this.container;e.clientHeight&&(T=e.clientWidth,c=e.clientHeight),c=Math.round(c),T=Math.round(T);var e=Math.round(S.toCoordinate(this.width,T)),M=Math.round(S.toCoordinate(this.height,c));(T!=this.previousWidth||c!=this.previousHeight)&&0<e&&0<M&&(i.style.width=e+"px",i.style.height=M+"px",i.style.padding=0,s&&s.setSize(e,M),this.balloon=S.processObject(this.balloon,S.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,M),this.updateWidth(),this.balloon.chart=this,this.realWidth=e,this.realHeight=M,this.divRealWidth=T,this.divRealHeight=c}},checkDisplay:function(){if(this.autoDisplay&&this.container){var e=S.rect(this.container,10,10),i=e.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),e.remove()}},checkTransform:function(e){if(this.autoTransform&&window.getComputedStyle&&e){if(e.style&&(i=window.getComputedStyle(e,null))&&(i=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform"))&&"none"!==i){var i=(s=i.split("(")[1].split(")")[0].split(","))[0],s=s[1];i=Math.sqrt(i*i+s*s),isNaN(i)||(this.cssScale*=i)}e.parentNode&&this.checkTransform(e.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy&&this.legend.destroy()},clearTimeOuts:function(){var i,e=this.timeOuts;if(e)for(i=0;i<e.length;i++)clearTimeout(e[i]);this.timeOuts=[]},clear:function(e){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch{}if(S.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),e||S.removeChart(this),e=this.div)for(;e.firstChild;)e.removeChild(e.firstChild);this.legend&&this.legend.destroy&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(e){"auto"==e&&S.isNN&&(e="default"),this.chartDiv.style.cursor=e,this.legendDiv.style.cursor=e},redrawLabels:function(){this.labels=[];var i,e=this.allLabels;for(this.createLabelsSet(),i=0;i<e.length;i++)this.drawLabel(e[i])},drawLabel:function(e){var i=this;if(i.container&&!1!==e.enabled){var F=(e=S.processObject(e,S.Label,i.theme)).y,s=e.text,c=e.align,T=e.size,M=e.color,j=e.rotation,G=e.alpha,Y=e.bold,z=S.toCoordinate(e.x,i.realWidth);z||(z=0),(F=S.toCoordinate(F,i.realHeight))||(F=0),void 0===M&&(M=i.color),isNaN(T)&&(T=i.fontSize),c||(c="start"),"left"==c&&(c="start"),"right"==c&&(c="end"),"center"==c&&(c="middle",j?F=i.realHeight-F+F/2:z=i.realWidth/2-z),void 0===G&&(G=1),void 0===j&&(j=0),F+=T/2,(s=S.text(i.container,s,M,i.fontFamily,T,c,Y,G)).translate(z,F),void 0!==e.tabIndex&&s.setAttr("tabindex",e.tabIndex),S.setCN(i,s,"label"),e.id&&S.setCN(i,s,"label-"+e.id),0!==j&&s.rotate(j),e.url?(s.setAttr("cursor","pointer"),s.click(function(){S.getURL(e.url,i.urlTarget)})):s.node.style.pointerEvents="none",i.labelsSet.push(s),i.labels.push(s)}},addLabel:function(e,i,s,c,T,M,j,G,Y,z){e={x:e,y:i,text:s,align:c,size:T,color:M,alpha:G,rotation:j,bold:Y,url:z,enabled:!0},this.container&&this.drawLabel(e),this.allLabels.push(e)},clearLabels:function(){var i,e=this.labels;for(i=e.length-1;0<=i;i--)e[i].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var i,e=this.divRealHeight;return(i=this.legend)&&("top"==(i=i.position)||"bottom"==i)&&((0>(e-=this.legendDiv.offsetHeight)||isNaN(e))&&(e=0),this.chartDiv.style.height=e+"px"),e},updateWidth:function(){var e=this.divRealWidth,i=this.divRealHeight,s=this.legend;if(s){var c=(M=this.legendDiv).offsetWidth;isNaN(s.width)||(c=s.width),s.ieW&&(c=s.ieW);var T=M.offsetHeight,M=M.style,j=this.chartDiv.style,G=s.position;("right"==G||"left"==G)&&void 0===s.divId&&((0>(e-=c)||isNaN(e))&&(e=0),j.width=e+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,this.realHeight),"left"==G?(j.left=c+"px",M.left="0px"):(j.left="0px",M.left=e+"px"),i>T&&(M.top=(i-T)/2+"px"))}return e},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(e,i,s,c,T){return isNaN(i)&&(i=this.fontSize+2),this.titles.push(e={text:e,size:i,color:s,alpha:c,bold:T,enabled:!0}),e},handleWheel:function(e){var i=0;e||(e=window.event),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&this.handleWheelReal(i,e.shiftKey),e.preventDefault&&e.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(e){var i=this,s=(new Date).getTime();if(e)if(e.touches)i.isTouchEvent=!0;else if(!i.isTouchEvent)return!0;if(s-i.touchStartTime>i.touchClickDuration)return!0;setTimeout(function(){i.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var e=this,i=e.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(i.addEventListener("touchstart",function(s){e.handleTouchStart.call(e,s)},!0),i.addEventListener("touchmove",function(s){e.handleMouseMove.call(e,s)},!0),i.addEventListener("touchend",function(s){e.handleTouchEnd.call(e,s)},!0),e.docfn1=function(s){e.handleDocTouchStart.call(e,s)},e.docfn2=function(s){e.handleDocTouchEnd.call(e,s)},document.addEventListener("touchstart",e.docfn1,!0),document.addEventListener("touchend",e.docfn2,!0)),i.addEventListener("mousedown",function(s){e.mouseIsOver=!0,e.handleMouseMove.call(e,s),e.handleMouseDown.call(e,s),e.handleDocTouchStart.call(e,s)},!0),i.addEventListener("mouseover",function(s){e.handleMouseOver.call(e,s)},!0),i.addEventListener("mouseout",function(s){e.handleMouseOut.call(e,s)},!0),i.addEventListener("mouseup",function(s){e.handleDocTouchEnd.call(e,s)},!0)):(i.attachEvent("onmousedown",function(s){e.handleMouseDown.call(e,s)}),i.attachEvent("onmouseover",function(s){e.handleMouseOver.call(e,s)}),i.attachEvent("onmouseout",function(s){e.handleMouseOut.call(e,s)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),!this.chartRendered&&0<this.divRealWidth&&0<this.divRealHeight&&(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var e=this;if(e.premeasure(),e.checkDisplay(),e.cssScale=1,e.cssAngle=0,e.checkTransform(e.div),e.divRealWidth!=e.previousWidth||e.divRealHeight!=e.previousHeight){var i=e.legend;if(0<e.realWidth&&0<e.realHeight){if(e.sizeChanged=!0,i){e.legendInitTO&&clearTimeout(e.legendInitTO);var s=setTimeout(function(){i.invalidateSize()},10);e.timeOuts.push(s),e.legendInitTO=s}e.marginsUpdated=!1,clearTimeout(e.initTO),s=setTimeout(function(){e.initChart()},10),e.timeOuts.push(s),e.initTO=s}e.renderFix(),i&&i.renderFix&&i.renderFix(),e.positionCred(),clearTimeout(e.resizedTO),e.resizedTO=setTimeout(function(){e.fire({type:"resized",chart:e})},10),e.previousHeight=e.divRealHeight,e.previousWidth=e.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1,clearTimeout(e.validateTO);var i=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(i),e.validateTO=i},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(e))},validateNow:function(e,i){this.initTO&&clearTimeout(this.initTO),e&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=i,this.chartRendered=!1;var s=this.legend;s&&s.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,s.invalidateSize&&(s.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(e){e.hidden=!1,this.initChart()},hideItem:function(e){e.hidden=!0,this.initChart()},hideBalloon:function(){var e=this;clearTimeout(e.hoverInt),clearTimeout(e.balloonTO),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide&&e.hide()},showBalloon:function(e,i,s,c,T){var M=this;clearTimeout(M.balloonTO),clearTimeout(M.hoverInt),M.balloonTO=setTimeout(function(){M.showBalloonReal.call(M,e,i,s,c,T)},1)},showBalloonReal:function(e,i,s,c,T){this.handleMouseMove();var M=this.balloon;M.enabled&&(M.followCursor(!1),M.changeColor(i),!s||M.fixedPosition?(M.setPosition(c,T),isNaN(c)||isNaN(T)?M.followCursor(!0):M.followCursor(!1)):M.followCursor(!0),e&&M.showBalloon(e))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),S.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var e=this;S.resetMouseOver(),e.outTO&&clearTimeout(e.outTO),e.outTO=setTimeout(function(){e.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(e){var i,s,c,T;if(e||(e=window.event),this.mouse2Y=this.mouse2X=NaN,e){if(e.touches){var M=e.touches.item(1);if(M&&this.panEventsEnabled&&this.boundingRect&&(c=M.clientX-this.boundingRect.left,T=M.clientY-this.boundingRect.top),!(e=e.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&e.clientX&&(i=e.clientX-this.boundingRect.left,s=e.clientY-this.boundingRect.top),isNaN(c)?this.mouseX=i:(this.mouseX=Math.min(i,c),this.mouse2X=Math.max(i,c)),isNaN(T)?this.mouseY=s:(this.mouseY=Math.min(s,T),this.mouse2Y=Math.max(s,T)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(e){this.hideBalloonReal(),e&&(e.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(e),this.handleMouseDown(e))},handleTouchEnd:function(e){this.wasTouched=!0,this.handleMouseMove(e),S.resetMouseOver(),this.handleReleaseOutside(e)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(e){S.resetMouseOver(),this.mouseIsOver=!0,e&&e.preventDefault&&(this.panEventsEnabled?e.preventDefault():e.touches||e.preventDefault())},handleKeyUp:function(e){},addLegend:function(e,i){var s;return(e=S.processObject(e,S.AmLegend,this.theme)).divId=i,e.ieW=0,s="object"!=typeof i&&i?document.getElementById(i):i,this.legend=e,e.chart=this,s?(e.div=s,e.position="outside",e.autoMargins=!1):e.div=this.legendDiv,e},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(S.isPercents(this.width)||S.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!S.VML){var e=this.container;e&&e.renderFix()}},getSVG:function(){if(S.hasSVG)return this.container},animate:function(e,i,s,c,T,M,j){return e["an_"+i]&&S.removeFromArray(this.animations,e["an_"+i]),e["an_"+i]=s={obj:e,frame:0,attribute:i,from:s,to:c,time:T,effect:M,suffix:j},this.animations.push(s),s},setLegendData:function(e){var i=this.legend;i&&i.setData(e)},stopAnim:function(e){S.removeFromArray(this.animations,e)},updateAnimations:function(){var e;if(this.container&&this.container.update(),this.animations)for(e=this.animations.length-1;0<=e;e--){var i=this.animations[e],c=i.frame+1,T=i.obj,M=i.attribute;if(c<=(s=S.updateRate*i.time)){i.frame++;var j=Number(i.from),G=Number(i.to)-j,s=S[i.effect](0,c,j,G,s);0===G?(this.animations.splice(e,1),T.node.style[M]=Number(i.to)+i.suffix):T.node.style[M]=s+i.suffix}else T.node.style[M]=Number(i.to)+i.suffix,T.animationFinished=!0,this.animations.splice(e,1)}},update:function(){this.updateAnimations();var e=this.animatable;if(0<e.length){for(var i=!0,s=e.length-1;0<=s;s--){var c=e[s];c&&(c.animationFinished?e.splice(s,1):i=!1)}i&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch{return!0}},brr:function(){if(!this.hideCredits){var s,e="amcharts.com";if(2<=(i=window.location.hostname.split(".")).length&&(s=i[i.length-2]+"."+i[i.length-1]),this.amLink&&(i=this.amLink.parentNode)&&i.removeChild(this.amLink),s!=e||!0===this.inIframe()){s=e="http://www."+e;var i="JavaScript charts",c="JS chart by amCharts";"ammap"==this.product&&(s=e+"/javascript-maps/",i="Interactive JavaScript maps",c="JS map by amCharts"),e=document.createElement("a"),c=document.createTextNode(c),e.setAttribute("href",s),e.setAttribute("title",i),this.urlTarget&&e.setAttribute("target",this.urlTarget),e.appendChild(c),this.chartDiv.appendChild(e),this.amLink=e,(e=e.style).position="absolute",e.textDecoration="none",e.color=this.color,e.fontFamily=this.fontFamily,e.fontSize="11px",e.opacity=.7,e.display="block",this.positionCred()}}},positionCred:function(){if(e=this.amLink){var i=this.creditsPosition,s=e.style,c=e.offsetWidth,e=e.offsetHeight,T=0,M=0,j=this.realWidth,G=this.realHeight;("serial"==(Y=this.type)||"xy"==Y||"gantt"==Y)&&(j=(T=this.marginLeftReal)+this.plotAreaWidth,G=(M=this.marginTopReal)+this.plotAreaHeight);var Y=5+T,z=M+5;"bottom-left"==i&&(Y=5+T,z=G-e-3),"bottom-right"==i&&(Y=j-c-5,z=G-e-3),"top-right"==i&&(Y=j-c-5,z=M+5),s.left=Y+"px",s.top=z+"px"}}}),S.Slice=S.Class({construct:function(){}}),S.SerialDataItem=S.Class({construct:function(){}}),S.GraphDataItem=S.Class({construct:function(){}}),S.Guide=S.Class({construct:function(e){this.cname="Guide",S.applyTheme(this,e,this.cname)}}),S.Title=S.Class({construct:function(e){this.cname="Title",S.applyTheme(this,e,this.cname)}}),S.Label=S.Class({construct:function(e){this.cname="Label",S.applyTheme(this,e,this.cname)}})}(),function(){var S=window.AmCharts;S.AmGraph=S.Class({construct:function(e){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.minDistance=.8,this.tcc=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,S.applyTheme(this,e,this.cname)},init:function(){this.createBalloon()},draw:function(){var e=this.chart;e.isRolledOverBullet=!1;var i=e.type;if(e.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator});var s=e.container;this.container=s,this.destroy();var c=s.set();this.set=c,c.translate(this.x,this.y);var T=s.set();this.bulletSet=T,T.translate(this.x,this.y),this.behindColumns?(e.graphsBehindSet.push(c),e.bulletBehindSet.push(T)):(e.graphsSet.push(c),e.bulletSet.push(T));var M=this.bulletAxis;S.isString(M)&&(this.bulletAxis=e.getValueAxisById(M)),s=s.set(),S.remove(this.columnsSet),this.columnsSet=s,S.setCN(e,c,"graph-"+this.type),S.setCN(e,c,"graph-"+this.id),S.setCN(e,T,"graph-"+this.type),S.setCN(e,T,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],(T=this.labelPosition)||(M=this.valueAxis.stackType,T="top","column"==this.type&&(e.rotate&&(T="right"),"100%"==M||"regular"==M)&&(T="middle"),this.labelPosition=T),S.ifArray(this.data)&&(e=!1,"xy"==i?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph()),c.push(s)}},createGraph:function(){var e=this,i=e.chart;e.startAlpha=i.startAlpha,e.seqAn=i.sequencedAnimation,e.baseCoord=e.valueAxis.baseCoord,void 0===e.fillAlphas&&(e.fillAlphas=0),e.bulletColorR=e.bulletColor,void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor),void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha),("step"==s||S.VML)&&(e.noRounding=!1);var s=i.type;if("gantt"==s&&(s="serial"),clearTimeout(e.playedTO),!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(s){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph()}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var T,e=[],i=[],s=this.xAxis,c=this.yAxis;for(this.pmh=c.height,this.pmw=s.width,this.pmy=this.pmx=0,T=this.start;T<=this.end;T++){var M=this.data[T].axes[s.id].graphs[this.id],j=(Y=M.values).x,G=Y.y,Y=s.getCoordinate(j,this.noRounding),z=c.getCoordinate(G,this.noRounding);if(!isNaN(j)&&!isNaN(G)&&(e.push(Y),i.push(z),M.x=Y,M.y=z,j=this.createBullet(M,Y,z,T),G=this.labelText)){G=this.createLabel(M,G);var F=0;j&&(F=j.size),this.positionLabel(M,Y,z,G,F)}}this.drawLineGraph(e,i),this.launchAnimation()},createRadarGraph:function(){var M,j,G,Y,z,e=this.valueAxis.stackType,i=[],s=[],c=[],T=[];for(z=this.start;z<=this.end;z++){var N,a,F=this.data[z].axes[this.valueAxis.id].graphs[this.id];if("none"==e||"3d"==e?N=F.values.value:(N=F.values.close,a=F.values.open),isNaN(N))this.connect||(this.drawLineGraph(i,s,c,T),i=[],s=[],c=[],T=[]);else{var p=this.valueAxis.getCoordinate(N,this.noRounding)-this.height,l=-360/(this.end-this.start+1)*z;if("middle"==this.valueAxis.pointPosition&&(l-=180/(this.end-this.start+1)),N=(p*=this.valueAxis.rMultiplier)*Math.sin(l/180*Math.PI),p*=Math.cos(l/180*Math.PI),i.push(N),s.push(p),!isNaN(a)){var d,_=(d=(d=this.valueAxis.getCoordinate(a,this.noRounding)-this.height)*this.valueAxis.rMultiplier)*Math.sin(l/180*Math.PI);l=d*Math.cos(l/180*Math.PI),c.push(_),T.push(l),isNaN(G)&&(G=_),isNaN(Y)&&(Y=l)}l=this.createBullet(F,N,p,z),F.x=N,F.y=p,(_=this.labelText)&&(_=this.createLabel(F,_),d=0,l&&(d=l.size),this.positionLabel(F,N,p,_,d)),isNaN(M)&&(M=N),isNaN(j)&&(j=p)}}i.push(M),s.push(j),isNaN(G)||(c.push(G),T.push(Y)),this.drawLineGraph(i,s,c,T),this.launchAnimation()},positionLabel:function(e,i,s,c,T){if(c){var M=this.chart,j=this.valueAxis,G="middle",Y=!1,z=this.labelPosition,F=c.getBBox(),N=this.chart.rotate,a=e.isNegative;switch(void 0===(p=this.fontSize)&&(p=this.chart.fontSize),s-=F.height/2-p/2-1,void 0!==e.labelIsNegative&&(a=e.labelIsNegative),z){case"right":z=N&&a?"left":"right";break;case"top":z=N?"top":a?"bottom":"top";break;case"bottom":z=N?"bottom":a?"top":"bottom";break;case"left":z=N&&a?"right":"left"}var p,l=0,d=0;(p=e.columnGraphics)&&(l=p.x,d=p.y);var _=this.labelOffset;switch(z){case"right":G="start",i+=T/2+_;break;case"top":s=j.reversed?s+(T/2+F.height/2+_):s-(T/2+F.height/2+_);break;case"bottom":s=j.reversed?s-(T/2+F.height/2+_):s+(T/2+F.height/2+_);break;case"left":G="end",i-=T/2+_;break;case"inside":"column"==this.type&&(Y=!0,N?a?(G="end",i=l-3-_):(G="start",i=l+3+_):s=a?d+7+_:d-10-_);break;case"middle":"column"==this.type&&(Y=!0,N?i-=(i-l)/2+_-3:s-=(s-d)/2+_-3)}return"auto"!=this.labelAnchor&&(G=this.labelAnchor),c.attr({"text-anchor":G}),this.labelRotation&&c.rotate(this.labelRotation),c.translate(i,s),!this.showAllValueLabels&&p&&Y&&((F=c.getBBox()).height>e.columnHeight||F.width>e.columnWidth)&&(c.remove(),c=null),c&&"radar"!=M.type&&(N?((0>s||s>this.height)&&(c.remove(),c=null),!this.showAllValueLabels&&c&&(0>i||i>this.width)&&(c.remove(),c=null)):((0>i||i>this.width)&&(c.remove(),c=null),!this.showAllValueLabels&&c&&(0>s||s>this.height)&&(c.remove(),c=null))),c&&this.allBullets.push(c),c}},getGradRotation:function(){var e=270;return"horizontal"==this.gradientOrientation&&(e=0),this.gradientRotation=e},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var e=this.chart,i=this.id,s=this.index,c=this.data,T=this.chart.container,M=this.valueAxis,j=this.type,G=this.columnWidthReal,Y=this.showBulletsAt;isNaN(this.columnWidth)||(G=this.columnWidth),isNaN(G)&&(G=.8);var I,h,n,D,E,z=this.useNegativeColorIfDown,F=this.width,N=this.height,a=this.y,p=this.rotate,l=this.columnCount,d=S.toCoordinate(this.cornerRadiusTop,G/2),_=this.connect,w=[],x=[],P=this.chart.graphs.length,m=this.dx/this.tcc,C=this.dy/this.tcc,A=M.stackType,k=this.start,f=this.end,o=this.scrollbar,R="graph-column-";o&&(R="scrollbar-graph-column-");var _t,U=this.categoryAxis,X=this.baseCoord,tt=this.negativeBase,pt=this.columnIndex,ot=this.lineThickness,W=this.lineAlpha,K=this.lineColorR,gt=this.dashLength,yt=this.set,rt=this.getGradRotation(),ut=this.chart.columnSpacing,at=U.cellWidth,Ct=(at*G-l)/l;ut>Ct&&(ut=Ct);var vt,ct,Tt,kt=N,Ft=F,Ot=0,jt=0,$t=0,Wt=0,ne=0,Jt=0,Nt=this.fillColorsR,Rt=this.negativeFillColors,ie=this.negativeLineColor,se=this.fillAlphas,ce=this.negativeFillAlphas;"object"==typeof se&&(se=se[0]),"object"==typeof ce&&(ce=ce[0]);var te=this.noRounding;"step"==j&&(te=!1);var Ie=M.getCoordinate(M.min);if(M.logarithmic&&(Ie=M.getCoordinate(M.minReal)),this.minCoord=Ie,this.resetBullet&&(this.bullet="none"),!(o||"line"!=j&&"smoothedLine"!=j&&"step"!=j||(1==c.length&&"step"!=j&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!Rt&&null==ie||z))){var Ve=tt;Ve>M.max&&(Ve=M.max),Ve<M.min&&(Ve=M.min),M.logarithmic&&(Ve=M.minReal);var Ai=M.getCoordinate(Ve)+.5,gi=M.getCoordinate(M.max);p?(kt=N,Ft=Math.abs(gi-Ai),$t=N,Wt=Math.abs(Ie-Ai),Jt=jt=0,M.reversed?(Ot=0,ne=Ai):(Ot=Ai,ne=0)):(Ft=F,kt=Math.abs(gi-Ai),Wt=F,$t=Math.abs(Ie-Ai),ne=Ot=0,M.reversed?(Jt=a,jt=Ai):Jt=Ai)}var pi=Math.round;this.pmx=pi(Ot),this.pmy=pi(jt),this.pmh=pi(kt),this.pmw=pi(Ft),this.nmx=pi(ne),this.nmy=pi(Jt),this.nmh=pi($t),this.nmw=pi(Wt),S.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(l=1),1>(G="column"==j?(at*G-ut*(l-1))/l:at*G)&&(G=1);var ti,Ri=this.fixedColumnWidth;if(isNaN(Ri)||(G=Ri),"line"==j||"step"==j||"smoothedLine"==j){if(0<k){for(ti=k-1;-1<ti;ti--)if(Tt=(ct=(vt=c[ti]).axes[M.id].graphs[i]).values.value,!isNaN(Tt)){k=ti;break}if(this.lineColorField)for(ti=k;-1<ti;ti--)if((ct=(vt=c[ti]).axes[M.id].graphs[i]).lineColor){this.lineColorSwitched=ct.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(ti=k;-1<ti;ti--)if((ct=(vt=c[ti]).axes[M.id].graphs[i]).fillColors){this.fillColorsSwitched=ct.fillColors;break}if(this.dashLengthField)for(ti=k;-1<ti;ti--)if(ct=(vt=c[ti]).axes[M.id].graphs[i],!isNaN(ct.dashLength)){this.dashLengthSwitched=ct.dashLength;break}}if(f<c.length-1)for(ti=f+1;ti<c.length;ti++)if(Tt=(ct=(vt=c[ti]).axes[M.id].graphs[i]).values.value,!isNaN(Tt)){f=ti;break}}f<c.length-1&&f++;var Ti=[],xi=[],be=!1;("line"==j||"step"==j||"smoothedLine"==j)&&(this.stackable&&"regular"==A||"100%"==A||this.fillToGraph)&&(be=!0);var ii=this.noStepRisers,nt=-1e3,St=-1e3,Gt=this.minDistance,ee=!0,ge=!1;for(ti=k;ti<=f;ti++){(ct=(vt=c[ti]).axes[M.id].graphs[i]).index=ti;var Ae,yi=NaN;if(z&&null==this.openField)for(var Fi=ti+1;Fi<c.length&&(!c[Fi]||!(Ae=c[ti+1].axes[M.id].graphs[i])||!Ae.values||(yi=Ae.values.value,isNaN(yi)));Fi++);var Li,qi,cn,Fn,Oe,Qe,Gn=NaN,Yi=NaN,ei=NaN,ai=NaN,li=NaN,Xi=NaN,tn=NaN,Zi=NaN,_n=NaN,ji=NaN,We=NaN,Z=NaN,Q=NaN,ht=NaN,xt=NaN,Lt=NaN,Ut=NaN,re=void 0,Xt=Nt,oe=se,Le=K,ue=this.proCandlesticks,Ye=this.topRadius,De=N-1,di=F-1,Xe=this.pattern;null!=ct.pattern&&(Xe=ct.pattern),isNaN(ct.alpha)||(oe=ct.alpha),isNaN(ct.dashLength)||(gt=ct.dashLength);var Oi=ct.values;if(M.recalculateToPercents&&(Oi=ct.percents),"none"==A&&(pt=isNaN(ct.columnIndex)?this.columnIndex:ct.columnIndex),Oi){if(ht=this.stackable&&"none"!=A&&"3d"!=A?Oi.close:Oi.value,("candlestick"==j||"ohlc"==j)&&(ht=Oi.close,tn=M.getCoordinate(Lt=Oi.low),_n=M.getCoordinate(xt=Oi.high)),Ut=Oi.open,ei=M.getCoordinate(ht,te),isNaN(Ut)||(li=M.getCoordinate(Ut,te),z&&"regular"!=A&&"100%"!=A&&(yi=Ut,Ut=li=NaN)),z&&(null==this.openField?Ae&&(Ae.isNegative=yi<ht,isNaN(yi)&&(ct.isNegative=!ee)):ct.isNegative=yi>ht),!o)switch(this.showBalloonAt){case"close":ct.y=ei;break;case"open":ct.y=li;break;case"high":ct.y=_n;break;case"low":ct.y=tn}Gn=vt.x[U.id];var ki=this.periodSpan-1;"step"!=j||isNaN(vt.cellWidth)||(at=vt.cellWidth);var oi=Math.floor(at/2)+Math.floor(ki*at/2),an=oi;if("left"==this.stepDirection&&(Gn-=(2*at+ki*at)/2),"center"==this.stepDirection&&(Gn-=at/2),"start"==this.pointPosition&&(Gn-=at/2+Math.floor(ki*at/2),oi=0,an=Math.floor(at)+Math.floor(ki*at)),"end"==this.pointPosition&&(Gn+=at/2+Math.floor(ki*at/2),oi=Math.floor(at)+Math.floor(ki*at),an=0),ii){var Pn=this.columnWidth;isNaN(Pn)||(oi*=Pn,an*=Pn)}o||(ct.x=Gn),-1e5>Gn&&(Gn=-1e5),Gn>F+1e5&&(Gn=F+1e5),p?(Yi=ei,ai=li,li=ei=Gn,isNaN(Ut)&&!this.fillToGraph&&(ai=X),Xi=tn,Zi=_n):(ai=Yi=Gn,isNaN(Ut)&&!this.fillToGraph&&(li=X)),(!ue&&ht<Ut||ue&&ht<_t)&&(ct.isNegative=!0,Rt&&(Xt=Rt),ce&&(oe=ce),null!=ie&&(Le=ie)),ge=!1,isNaN(ht)||(z?ht>yi?(ee&&(ge=!0),ee=!1):(ee||(ge=!0),ee=!0):ct.isNegative=ht<tt,_t=ht);var yn=!1;switch(o&&e.chartScrollbar.ignoreCustomColors&&(yn=!0),yn||(null!=ct.color&&(Xt=ct.color),ct.fillColors&&(Xt=ct.fillColors)),ei=S.fitToBounds(ei,-3e4,3e4),j){case"line":isNaN(ht)?_||(this.drawLineGraph(w,x,Ti,xi),w=[],x=[],Ti=[],xi=[]):((Math.abs(Yi-nt)>=Gt||Math.abs(ei-St)>=Gt)&&(w.push(Yi),x.push(ei),nt=Yi,St=ei),ji=Yi,We=ei,Z=Yi,Q=ei,!be||isNaN(li)||isNaN(ai)||(Ti.push(ai),xi.push(li)),(ge||null!=ct.lineColor&&ct.lineColor!=this.lineColorSwitched||null!=ct.fillColors&&ct.fillColors!=this.fillColorsSwitched||!isNaN(ct.dashLength))&&(this.drawLineGraph(w,x,Ti,xi),w=[Yi],x=[ei],Ti=[],xi=[],!be||isNaN(li)||isNaN(ai)||(Ti.push(ai),xi.push(li)),z?(ee?(this.lineColorSwitched=K,this.fillColorsSwitched=Nt):(this.lineColorSwitched=ie,this.fillColorsSwitched=Rt),void 0===this.bulletColor&&(this.bulletColorSwitched=K)):(this.lineColorSwitched=ct.lineColor,this.fillColorsSwitched=ct.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=ct.dashLength),ct.gap&&(this.drawLineGraph(w,x,Ti,xi),w=[],x=[],Ti=[],xi=[],St=nt=-1e3));break;case"smoothedLine":isNaN(ht)?_||(this.drawSmoothedGraph(w,x,Ti,xi),w=[],x=[],Ti=[],xi=[]):((Math.abs(Yi-nt)>=Gt||Math.abs(ei-St)>=Gt)&&(w.push(Yi),x.push(ei),nt=Yi,St=ei),ji=Yi,We=ei,Z=Yi,Q=ei,!be||isNaN(li)||isNaN(ai)||(Ti.push(ai),xi.push(li)),(ge||null!=ct.lineColor&&ct.lineColor!=this.lineColorSwitched||null!=ct.fillColors&&ct.fillColors!=this.fillColorsSwitched||!isNaN(ct.dashLength))&&(this.drawSmoothedGraph(w,x,Ti,xi),w=[Yi],x=[ei],Ti=[],xi=[],!be||isNaN(li)||isNaN(ai)||(Ti.push(ai),xi.push(li)),this.lineColorSwitched=ct.lineColor,this.fillColorsSwitched=ct.fillColors,this.dashLengthSwitched=ct.dashLength),ct.gap&&(this.drawSmoothedGraph(w,x,Ti,xi),w=[],x=[],Ti=[],xi=[]));break;case"step":if(isNaN(ht))_||((1>=this.periodSpan||1<this.periodSpan&&Yi-I>oi+an)&&(I=h=NaN),this.drawLineGraph(w,x,Ti,xi),w=[],x=[],Ti=[],xi=[]);else{if(p?(isNaN(I)||(w.push(I),x.push(ei-oi)),x.push(ei-oi),w.push(Yi),x.push(ei+an),w.push(Yi),!be||isNaN(li)||isNaN(ai)||(isNaN(n)||(Ti.push(n),xi.push(li-oi)),Ti.push(ai),xi.push(li-oi),Ti.push(ai),xi.push(li+an))):(isNaN(h)||(x.push(h),w.push(Yi-oi)),w.push(Yi-oi),x.push(ei),w.push(Yi+an),x.push(ei),!be||isNaN(li)||isNaN(ai)||(isNaN(D)||(Ti.push(ai-oi),xi.push(D)),Ti.push(ai-oi),xi.push(li),Ti.push(ai+an),xi.push(li))),I=Yi,h=ei,n=ai,D=li,ji=Yi,We=ei,Z=Yi,Q=ei,ge||null!=ct.lineColor||null!=ct.fillColors||!isNaN(ct.dashLength)){var bn=w[w.length-2],En=x[x.length-2];w.pop(),x.pop(),Ti.pop(),xi.pop(),this.drawLineGraph(w,x,Ti,xi),w=[bn],x=[En],Ti=[],xi=[],be&&(Ti=[bn,bn+oi+an],xi=[D,D]),p?(x.push(ei+an),w.push(Yi)):(w.push(Yi+an),x.push(ei)),this.lineColorSwitched=ct.lineColor,this.fillColorsSwitched=ct.fillColors,this.dashLengthSwitched=ct.dashLength,z&&(ee?(this.lineColorSwitched=K,this.fillColorsSwitched=Nt):(this.lineColorSwitched=ie,this.fillColorsSwitched=Rt))}(ii||ct.gap)&&(I=h=NaN,ct.gap&&2>=w.length||this.drawLineGraph(w,x,Ti,xi),w=[],x=[],Ti=[],xi=[])}break;case"column":if(Oe=Le,null!=ct.lineColor&&(Oe=ct.lineColor),!isNaN(ht)){z||(ct.isNegative=ht<tt),ct.isNegative&&(Rt&&(Xt=Rt),null!=ie&&(Oe=ie));var Yn,kn=M.min,Qn=M.max,wn=Ut;if(isNaN(wn)&&(wn=tt),!(ht<kn&&wn<kn||ht>Qn&&wn>Qn))if(p){"3d"==A?(qi=ei-(l/2-this.depthCount+1)*(G+ut)+ut/2+C*pt,Li=ai+m*pt,Yn=pt):(qi=Math.floor(ei-(l/2-pt)*(G+ut)+ut/2),Li=ai,Yn=0),ji=Yi,We=qi+G/2,Z=Yi,Q=qi+G/2,qi+(cn=G)>N+Yn*C&&(cn=N-qi+Yn*C),qi<Yn*C&&(cn+=qi,qi=Yn*C),Fn=Yi-ai;var In=Li;Li=S.fitToBounds(Li,0,F),Fn=S.fitToBounds(Fn+=In-Li,-Li,F-Li+m*pt),ct.labelIsNegative=0>Fn,0===Fn&&1/ht==-1/0&&(ct.labelIsNegative=!0),isNaN(vt.percentWidthValue)||(We=(qi=Gn-(cn=this.height*vt.percentWidthValue/100)/2)+cn/2),cn=S.roundTo(cn,2),Fn=S.roundTo(Fn,2),qi<N&&0<cn&&(re=new S.Cuboid(T,Fn,cn,m-e.d3x,C-e.d3y,Xt,oe,ot,Oe,W,rt,d,p,gt,Xe,Ye,R),ct.columnWidth=Math.abs(Fn),ct.columnHeight=Math.abs(cn))}else{"3d"==A?(Li=Yi-(l/2-this.depthCount+1)*(G+ut)+ut/2+m*pt,qi=li+C*pt,Yn=pt):(Li=Yi-(l/2-pt)*(G+ut)+ut/2,qi=li,Yn=0),ji=Li+G/2,We=ei,Z=Li+G/2,Q=ei,Li+(cn=G)>F+Yn*m&&(cn=F-Li+Yn*m),Li<Yn*m&&(cn+=Li-Yn*m,Li=Yn*m),ct.labelIsNegative=0<(Fn=ei-li),0===Fn&&1/ht!=1/Math.abs(ht)&&(ct.labelIsNegative=!0);var An=qi;qi=S.fitToBounds(qi,this.dy,N),Fn=S.fitToBounds(Fn+=An-qi,C*Yn-qi,N-qi),isNaN(vt.percentWidthValue)||(ji=(Li=Gn-(cn=this.width*vt.percentWidthValue/100)/2)+cn/2),cn=S.roundTo(cn,2),Fn=S.roundTo(Fn,2),Li<F+pt*m&&0<cn&&(this.showOnAxis&&(qi-=C/2),re=new S.Cuboid(T,cn,Fn,m-e.d3x,C-e.d3y,Xt,oe,ot,Oe,this.lineAlpha,rt,d,p,gt,Xe,Ye,R),ct.columnHeight=Math.abs(Fn),ct.columnWidth=Math.abs(cn))}re&&(Qe=re.set,S.setCN(e,re.set,"graph-"+this.type),S.setCN(e,re.set,"graph-"+this.id),ct.className&&S.setCN(e,re.set,ct.className,!0),ct.columnGraphics=Qe,Li=S.roundTo(Li,2),qi=S.roundTo(qi,2),Qe.translate(Li,qi),(ct.url||this.showHandOnHover)&&Qe.setAttr("cursor","pointer"),o||("none"==A&&(E=p?(this.end+1-ti)*P-s:P*ti+s),"3d"==A&&(p?(E=(this.end+1-ti)*P-s-1e3*this.depthCount,ji+=m*pt,Z+=m*pt,ct.y+=m*pt):(E=(P-s)*(ti+1)+1e3*this.depthCount,We+=C*pt,Q+=C*pt,ct.y+=C*pt)),("regular"==A||"100%"==A)&&(E=p?0<Oi.value?(this.end+1-ti)*P+s+1e3*this.depthCount:(this.end+1-ti)*P-s+1e3*this.depthCount:0<Oi.value?P*ti+s:P*ti-s),this.columnsArray.push({column:re,depth:E}),ct.x=p?qi+cn/2:Li+cn/2,this.ownColumns.push(re),this.animateColumns(re,ti,Yi,ai,ei,li),this.addListeners(Qe,ct),void 0!==this.tabIndex&&Qe.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(Qe))}break;case"candlestick":if(!isNaN(Ut)&&!isNaN(ht)){var zi,Xn;if(Oe=Le,null!=ct.lineColor&&(Oe=ct.lineColor),ji=Yi,Q=We=ei,Z=Yi,p){if("open"==Y&&(Z=ai),"high"==Y&&(Z=Zi),"low"==Y&&(Z=Xi),Yi=S.fitToBounds(Yi,0,di),ai=S.fitToBounds(ai,0,di),Xi=S.fitToBounds(Xi,0,di),Zi=S.fitToBounds(Zi,0,di),0===Yi&&0===ai&&0===Xi&&0===Zi||Yi==di&&ai==di&&Xi==di&&Zi==di)continue;var Lr,qn;Li=ai,(qi=ei-G/2)+(cn=G)>N&&(cn=N-qi),0>qi&&(cn+=qi,qi=0),qi<N&&0<cn&&(ht>Ut?(Lr=[Yi,Zi],qn=[ai,Xi]):(Lr=[ai,Zi],qn=[Yi,Xi]),!isNaN(Zi)&&!isNaN(Xi)&&ei<N&&0<ei&&(zi=S.line(T,Lr,[ei,ei],Oe,W,ot),Xn=S.line(T,qn,[ei,ei],Oe,W,ot)),re=new S.Cuboid(T,Fn=Yi-ai,cn,m,C,Xt,se,ot,Oe,W,rt,d,p,gt,Xe,Ye,R))}else{if("open"==Y&&(Q=li),"high"==Y&&(Q=_n),"low"==Y&&(Q=tn),ei=S.fitToBounds(ei,0,De),li=S.fitToBounds(li,0,De),tn=S.fitToBounds(tn,0,De),_n=S.fitToBounds(_n,0,De),0===ei&&0===li&&0===tn&&0===_n||ei==De&&li==De&&tn==De&&_n==De)continue;var lr,Xr;if(qi=li+ot/2,(Li=Yi-G/2)+(cn=G)>F&&(cn=F-Li),0>Li&&(cn+=Li,Li=0),Fn=ei-li,Li<F&&0<cn)ue&&ht>=Ut&&(oe=0),re=new S.Cuboid(T,cn,Fn,m,C,Xt,oe,ot,Oe,W,rt,d,p,gt,Xe,Ye,R),ht>Ut?(lr=[ei,_n],Xr=[li,tn]):(lr=[li,_n],Xr=[ei,tn]),!isNaN(_n)&&!isNaN(tn)&&Yi<F&&0<Yi&&(zi=S.line(T,[Yi,Yi],lr,Oe,W,ot),Xn=S.line(T,[Yi,Yi],Xr,Oe,W,ot),S.setCN(e,zi,this.bcn+"line-high"),ct.className&&S.setCN(e,zi,ct.className,!0),S.setCN(e,Xn,this.bcn+"line-low"),ct.className&&S.setCN(e,Xn,ct.className,!0))}re&&(ct.columnGraphics=Qe=re.set,yt.push(Qe),Qe.translate(Li,qi-ot/2),(ct.url||this.showHandOnHover)&&Qe.setAttr("cursor","pointer"),zi&&(yt.push(zi),yt.push(Xn)),o||(ct.x=p?qi+cn/2:Li+cn/2,this.animateColumns(re,ti,Yi,ai,ei,li),this.addListeners(Qe,ct),void 0!==this.tabIndex&&Qe.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Ut)||isNaN(xt)||isNaN(Lt)||isNaN(ht))){var nr,Rr,kr,Kr=T.set();if(yt.push(Kr),ht<Ut&&(ct.isNegative=!0,null!=ie&&(Le=ie)),null!=ct.lineColor&&(Le=ct.lineColor),p){if(Q=ei,Z=Yi,"open"==Y&&(Z=ai),"high"==Y&&(Z=Zi),"low"==Y&&(Z=Xi),Xi=S.fitToBounds(Xi,0,di),Zi=S.fitToBounds(Zi,0,di),0===Yi&&0===ai&&0===Xi&&0===Zi||Yi==di&&ai==di&&Xi==di&&Zi==di)continue;var Ur=S.fitToBounds(Ur=ei-G/2,0,N),Br=S.fitToBounds(ei,0,N),wr=S.fitToBounds(wr=ei+G/2,0,N);0<=ai&&ai<=di&&(Rr=S.line(T,[ai,ai],[Ur,Br],Le,W,ot,gt)),0<ei&&ei<N&&(nr=S.line(T,[Xi,Zi],[ei,ei],Le,W,ot,gt)),0<=Yi&&Yi<=di&&(kr=S.line(T,[Yi,Yi],[Br,wr],Le,W,ot,gt))}else{Q=ei,"open"==Y&&(Q=li),"high"==Y&&(Q=_n),"low"==Y&&(Q=tn),Z=Yi,tn=S.fitToBounds(tn,0,De),_n=S.fitToBounds(_n,0,De);var io=S.fitToBounds(io=Yi-G/2,0,F),no=S.fitToBounds(Yi,0,F),Bo=S.fitToBounds(Bo=Yi+G/2,0,F);0<=li&&li<=De&&(Rr=S.line(T,[io,no],[li,li],Le,W,ot,gt)),0<Yi&&Yi<F&&(nr=S.line(T,[Yi,Yi],[tn,_n],Le,W,ot,gt)),0<=ei&&ei<=De&&(kr=S.line(T,[no,Bo],[ei,ei],Le,W,ot,gt))}yt.push(Rr),yt.push(nr),yt.push(kr),S.setCN(e,Rr,this.bcn+"stroke-open"),S.setCN(e,kr,this.bcn+"stroke-close"),S.setCN(e,nr,this.bcn+"stroke"),ct.className&&S.setCN(e,Kr,ct.className,!0),nr&&this.addListeners(nr,ct),kr&&this.addListeners(kr,ct),Rr&&this.addListeners(Rr,ct),ji=Yi,We=ei}}if(!o&&!isNaN(ht)){var Jr=this.hideBulletsCount;if(this.end-this.start<=Jr||0===Jr){var Vo=this.createBullet(ct,Z,Q,ti),Zr=this.labelText;if(Zr&&!isNaN(ji)&&!isNaN(ji)){var to=this.createLabel(ct,Zr),fo=0;Vo&&(fo=Vo.size),this.positionLabel(ct,ji,We,to,fo)}if("regular"==A||"100%"==A){var $r=M.totalText;if($r){var mo=this.createLabel(ct,$r,M.totalTextColor);if(S.setCN(e,mo,this.bcn+"label-total"),this.allBullets.push(mo),mo){var ps,es,cs=mo.getBBox(),qo=cs.width,Eo=cs.height,Ts=M.totalTextOffset,$=M.totals[ti];$&&$.remove();var mt=0;"column"!=j&&(mt=this.bulletSize),p?(es=We,ps=0>ht?Yi-qo/2-2-mt-Ts:Yi+qo/2+3+mt+Ts):(ps=ji,es=0>ht?ei+Eo/2+mt+Ts:ei-Eo/2-3-mt-Ts),mo.translate(ps,es),M.totals[ti]=mo,p?(0>es||es>N)&&mo.remove():(0>ps||ps>F)&&mo.remove()}}}}}}}this.lastDataItem=ct,("line"==j||"step"==j||"smoothedLine"==j)&&("smoothedLine"==j?this.drawSmoothedGraph(w,x,Ti,xi):this.drawLineGraph(w,x,Ti,xi),o||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,i){var s=this,c=s.chart.startDuration;0<c&&!s.animationPlayed&&(s.seqAn?(e.set.hide(),s.animationArray.push(e),c=setTimeout(function(){s.animate.call(s)},c/(s.end-s.start+1)*(i-s.start)*1e3),s.timeOuts.push(c)):s.animate(e),s.chart.animatable.push(e))},createLabel:function(e,i,s){var c=this.chart,T=e.labelColor;T||(T=this.color),T||(T=c.color),s&&(T=s),void 0===(s=this.fontSize)&&(this.fontSize=s=c.fontSize);var M=this.labelFunction;if(i=c.formatString(i,e),i=S.cleanFromEmpty(i),M&&(i=M(e,i)),void 0!==i&&""!==i)return(e=S.text(this.container,i,T,c.fontFamily,s)).node.style.pointerEvents="none",S.setCN(c,e,this.bcn+"label"),this.bulletSet.push(e),e},positiveClip:function(e){e.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(e){e.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(e,i,s,c){var T=this;if(1<e.length){var M=T.noRounding,a=T.set,j=T.chart,G=T.container,Y=G.set(),z=G.set();a.push(z),a.push(Y);var F=T.lineAlpha,N=T.lineThickness,p=(a=T.fillAlphas,T.lineColorR),l=T.negativeLineAlpha;isNaN(l)&&(l=F),(d=T.lineColorSwitched)&&(p=d);var d=T.fillColorsR;(w=T.fillColorsSwitched)&&(d=w);var _=T.dashLength;(w=T.dashLengthSwitched)&&(_=w);var w=T.negativeLineColor,x=T.negativeFillColors,I=T.negativeFillAlphas,h=T.baseCoord;0!==T.negativeBase&&((h=T.valueAxis.getCoordinate(T.negativeBase,M))>T.height&&(h=T.height),0>h&&(h=0)),(F=S.line(G,e,i,p,F,N,_,!1,!1,M)).node.setAttribute("stroke-linejoin","round"),S.setCN(j,F,T.bcn+"stroke"),Y.push(F),Y.click(function(n){T.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){T.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){T.handleGraphEvent(n,"rollOutGraph")}).touchmove(function(n){T.chart.handleMouseMove(n)}).touchend(function(n){T.chart.handleTouchEnd(n)}),void 0===w||T.useNegativeColorIfDown||((N=S.line(G,e,i,w,l,N,_,!1,!1,M)).node.setAttribute("stroke-linejoin","round"),S.setCN(j,N,T.bcn+"stroke"),S.setCN(j,N,T.bcn+"stroke-negative"),z.push(N)),(0<a||0<I)&&(N=e.join(";").split(";"),l=i.join(";").split(";"),"serial"==(F=j.type)||"radar"==F?0<s.length?(s.reverse(),c.reverse(),N=e.concat(s),l=i.concat(c)):"radar"==F?(l.push(0),N.push(0)):T.rotate?(l.push(l[l.length-1]),N.push(h),l.push(l[0]),N.push(h),l.push(l[0]),N.push(N[0])):(N.push(N[N.length-1]),l.push(h),N.push(N[0]),l.push(h),N.push(e[0]),l.push(l[0])):"xy"==F&&(i=T.fillToAxis)&&(S.isString(i)&&(i=j.getValueAxisById(i)),"H"==i.orientation?(h="top"==i.position?0:i.height,N.push(N[N.length-1]),l.push(h),N.push(N[0]),l.push(h),N.push(e[0]),l.push(l[0])):(h="left"==i.position?0:i.width,l.push(l[l.length-1]),N.push(h),l.push(l[0]),N.push(h),l.push(l[0]),N.push(N[0]))),e=T.gradientRotation,0<a&&((i=S.polygon(G,N,l,d,a,1,"#000",0,e,M)).pattern(T.pattern,NaN,j.path),S.setCN(j,i,T.bcn+"fill"),Y.push(i),i.toBack()),(x||void 0!==w)&&(isNaN(I)&&(I=a),x||(x=w),M=S.polygon(G,N,l,x,I,1,"#000",0,e,M),S.setCN(j,M,T.bcn+"fill"),S.setCN(j,M,T.bcn+"fill-negative"),M.pattern(T.pattern,NaN,j.path),z.push(M),M.toBack(),z.click(function(n){T.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){T.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){T.handleGraphEvent(n,"rollOutGraph")}).touchmove(function(n){T.chart.handleMouseMove(n)}).touchend(function(n){T.chart.handleTouchEnd(n)}))),T.applyMask(z,Y)}},applyMask:function(e,i){var s=e.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(i),0<s&&this.negativeClip(e))},drawSmoothedGraph:function(e,i,s,c){if(1<e.length){var F=this.set,T=this.chart,M=this.container,j=M.set(),G=M.set();F.push(G),F.push(j);var Y=this.lineAlpha,z=this.lineThickness,N=(F=this.dashLength,this.fillAlphas),a=this.lineColorR,p=this.fillColorsR,l=this.negativeLineColor,d=this.negativeFillColors,_=this.negativeFillAlphas,w=this.baseCoord,x=this.lineColorSwitched;x&&(a=x),(x=this.fillColorsSwitched)&&(p=x);var I=this.negativeLineAlpha;isNaN(I)&&(I=Y),x=this.getGradRotation(),Y=new S.Bezier(M,e,i,a,Y,z,p,0,F,void 0,x),S.setCN(T,Y,this.bcn+"stroke"),j.push(Y.path),void 0!==l&&(z=new S.Bezier(M,e,i,l,I,z,p,0,F,void 0,x),S.setCN(T,z,this.bcn+"stroke"),S.setCN(T,z,this.bcn+"stroke-negative"),G.push(z.path)),0<N&&(z=e.join(";").split(";"),Y=i.join(";").split(";"),a="",0<s.length?(s.push("M"),c.push("M"),s.reverse(),c.reverse(),z=e.concat(s),Y=i.concat(c)):(this.rotate?(a+=" L"+w+","+i[i.length-1],a+=" L"+w+","+i[0]):(a+=" L"+e[e.length-1]+","+w,a+=" L"+e[0]+","+w),a+=" L"+e[0]+","+i[0]),e=new S.Bezier(M,z,Y,NaN,0,0,p,N,F,a,x),S.setCN(T,e,this.bcn+"fill"),e.path.pattern(this.pattern,NaN,T.path),j.push(e.path),d||void 0!==l)&&(_||(_=N),d||(d=l),(M=new S.Bezier(M,z,Y,NaN,0,0,d,_,F,a,x)).path.pattern(this.pattern,NaN,T.path),S.setCN(T,M,this.bcn+"fill"),S.setCN(T,M,this.bcn+"fill-negative"),G.push(M.path)),this.applyMask(G,j)}},launchAnimation:function(){var e=this,i=e.chart.startDuration;if(0<i&&!e.animationPlayed){var s=e.set,c=e.bulletSet;S.VML||(s.attr({opacity:e.startAlpha}),c.attr({opacity:e.startAlpha})),s.hide(),c.hide(),e.seqAn?(i=setTimeout(function(){e.animateGraphs.call(e)},e.index*i*1e3),e.timeOuts.push(i)):e.animateGraphs()}},animateGraphs:function(){var e=this.chart,i=this.set,s=this.bulletSet,c=this.x,T=this.y;i.show(),s.show();var M=e.startDuration,j=e.startEffect;i&&(this.rotate?(i.translate(-1e3,T),s.translate(-1e3,T)):(i.translate(c,-1e3),s.translate(c,-1e3)),i.animate({opacity:1,translate:c+","+T},M,j),s.animate({opacity:1,translate:c+","+T},M,j),e.animatable.push(i))},animate:function(e){var i=this.chart,s=this.animationArray;!e&&0<s.length&&(e=s[0],s.shift()),s=S[S.getEffect(i.startEffect)],i=i.startDuration,e&&(this.rotate?e.animateWidth(i,s):e.animateHeight(i,s),e.set.show())},legendKeyColor:function(){var e=this.legendColor,i=this.lineAlpha;return void 0===e&&(e=this.lineColorR,0===i&&(i=this.fillColorsR)&&(e="object"==typeof i?i[0]:i)),e},legendKeyAlpha:function(){var e=this.legendAlpha;return void 0===e&&(this.fillAlphas>(e=this.lineAlpha)&&(e=this.fillAlphas),0===e&&(e=this.bulletAlpha),0===e&&(e=1)),e},createBullet:function(e,i,s){if(!isNaN(i)&&!isNaN(s)&&("none"!=this.bullet||this.customBullet||e.bullet||e.customBullet)){var c=this.chart,T=this.container,M=this.bulletOffset,j=this.bulletSize;isNaN(e.bulletSize)||(j=e.bulletSize);var z,F=e.values.value,G=this.maxValue,N=this.minValue,a=this.maxBulletSize,Y=this.minBulletSize;isNaN(G)||(isNaN(F)||(j=(F-N)/(G-N)*(a-Y)+Y),N==G&&(j=a)),G=j,this.bulletAxis&&(j=e.values.error,isNaN(j)||(F=j),j=this.bulletAxis.stepWidth*F),j<this.minBulletSize&&(j=this.minBulletSize),this.rotate?i=e.isNegative?i-M:i+M:s=e.isNegative?s+M:s-M,Y=this.bulletColorR,e.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=e.lineColor),this.bulletColorSwitched&&(Y=this.bulletColorSwitched),e.isNegative&&void 0!==this.bulletColorNegative&&(Y=this.bulletColorNegative),void 0!==e.color&&(Y=e.color),"xy"==c.type&&this.valueField&&(z=this.pattern,e.pattern&&(z=e.pattern)),M=this.bullet,e.bullet&&(M=e.bullet),F=this.bulletBorderThickness,a=this.bulletBorderAlpha;var p=this.bulletAlpha;(N=this.bulletBorderColorR)||(N=Y),this.useLineColorForBulletBorder&&(N=this.lineColorR,e.isNegative&&this.negativeLineColor&&(N=this.negativeLineColor),this.lineColorSwitched&&(N=this.lineColorSwitched));var l=e.alpha;return isNaN(l)||(p=l),z=S.bullet(T,M,j,Y,p,F,N,a,G,0,z,c.path),G=this.customBullet,e.customBullet&&(G=e.customBullet),G&&(z&&z.remove(),"function"==typeof G?((G=new G).chart=c,e.bulletConfig&&(G.availableSpace=s,G.graph=this,G.graphDataItem=e,G.bulletY=s,e.bulletConfig.minCoord=this.minCoord-s,G.bulletConfig=e.bulletConfig),G.write(T),z&&G.showBullet&&G.set.push(z),e.customBulletGraphics=G.cset,z=G.set):(z=T.set(),G=T.image(G,0,0,j,j),z.push(G),this.centerCustomBullets&&G.translate(-j/2,-j/2))),z&&((e.url||this.showHandOnHover)&&z.setAttr("cursor","pointer"),("serial"==c.type||"gantt"==c.type)&&(-.5>i||i>this.width||s<-j/2||s>this.height)&&(z.remove(),z=null),z&&(this.bulletSet.push(z),z.translate(i,s),this.addListeners(z,e),this.allBullets.push(z)),e.bx=i,e.by=s,S.setCN(c,z,this.bcn+"bullet"),e.className&&S.setCN(c,z,e.className,!0)),z?(z.size=j||0,(c=this.bulletHitAreaSize)&&((T=S.circle(T,c,"#FFFFFF",.001,0)).translate(i,s),e.hitBullet=T,this.bulletSet.push(T),this.addListeners(T,e)),e.bulletGraphics=z,void 0!==this.tabIndex&&z.setAttr("tabindex",this.tabIndex)):z={size:0},z.graphDataItem=e,z}},showBullets:function(){var i,e=this.allBullets;for(this.bulletsHidden=!1,i=0;i<e.length;i++)e[i].show()},hideBullets:function(){var i,e=this.allBullets;for(this.bulletsHidden=!0,i=0;i<e.length;i++)e[i].hide()},showCustomBullets:function(){var i,e=this.allBullets;for(this.customBulletsHidden=!1,i=0;i<e.length;i++){var s=e[i].graphDataItem;s&&s.customBulletGraphics&&s.customBulletGraphics.show()}},hideCustomBullets:function(){var i,e=this.allBullets;for(this.customBulletsHidden=!0,i=0;i<e.length;i++){var s=e[i].graphDataItem;s&&s.customBulletGraphics&&s.customBulletGraphics.hide()}},addListeners:function(e,i){var s=this;e.mouseover(function(M){s.handleRollOver(i,M)}).mouseout(function(M){s.handleRollOut(i,M)}).touchend(function(M){s.handleRollOver(i,M),s.chart.panEventsEnabled&&s.handleClick(i,M)}).touchstart(function(M){s.handleRollOver(i,M)}).click(function(M){s.handleClick(i,M)}).dblclick(function(M){s.handleDoubleClick(i,M)}).contextmenu(function(M){s.handleRightClick(i,M)});var c=s.chart;if(c.accessible&&s.accessibleLabel){var T=c.formatString(s.accessibleLabel,i);c.makeAccessible(e,T)}},handleRollOver:function(e,i){if(this.handleGraphEvent(i,"rollOverGraph"),e){var s=this.chart;e.bulletConfig&&(s.isRolledOverBullet=!0);var c={type:"rollOverGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(c),s.fire(c),clearTimeout(s.hoverInt),(s=s.chartCursor)&&s.valueBalloonsEnabled||this.showGraphBalloon(e,"V",!0)}},handleRollOut:function(e,i){var s=this.chart;if(e){var c={type:"rollOutGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(c),s.fire(c),s.isRolledOverBullet=!1}this.handleGraphEvent(i,"rollOutGraph"),(s=s.chartCursor)&&s.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(e,i){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(i)){if(e){var s={type:"clickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(s),this.chart.fire(s),S.getURL(e.url,this.urlTarget)}this.handleGraphEvent(i,"clickGraph")}},handleGraphEvent:function(e,i){var s={type:i,graph:this,target:this,chart:this.chart,event:e};this.fire(s),this.chart.fire(s)},handleRightClick:function(e,i){if(e){var s={type:"rightClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(s),this.chart.fire(s)}},handleDoubleClick:function(e,i){if(e){var s={type:"doubleClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(s),this.chart.fire(s)}},zoom:function(e,i){this.start=e,this.end=i,this.draw()},changeOpacity:function(e){var s,i=this.set;if(i&&i.setAttr("opacity",e),i=this.ownColumns)for(s=0;s<i.length;s++){var c=i[s].set;c&&c.setAttr("opacity",e)}(i=this.bulletSet)&&i.setAttr("opacity",e)},destroy:function(){S.remove(this.set),S.remove(this.bulletSet);var i,e=this.timeOuts;if(e)for(i=0;i<e.length;i++)clearTimeout(e[i]);this.timeOuts=[]},createBalloon:function(){var e=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var i=this.balloon;S.extend(i,e.balloon,!0),i.chart=e,i.mainSet=e.plotBalloonsSet,i.className=this.id},hideBalloon:function(){var e=this,i=e.chart;i.chartCursor&&i.chartCursor.valueBalloonsEnabled||i.hideBalloon(),clearTimeout(e.hoverInt),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},i.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(S.isModern){var e=this.resizedDItem;if(e){var i=e.bulletGraphics;if(i&&!i.doNotScale){i.translate(e.bx,e.by,1);var s=this.bulletAlpha;isNaN(e.alpha)||(s=e.alpha),i.setAttr("fill-opacity",s),i.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(e,i,s,c,T){if(e){var M=this.chart,j=this.balloon,G=0,Y=0,F=!0;if((z=M.chartCursor)&&z.valueBalloonsEnabled||(j=M.balloon,G=this.x,Y=this.y,F=!1),clearTimeout(this.hoverInt),M.chartCursor&&(this.currentDataItem=e,"serial"==M.type&&M.isRolledOverBullet&&M.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(e,c,T),j&&j.enabled&&this.showBalloon&&!this.hidden){var z=M.formatString(this.balloonText,e,!0),N=this.balloonFunction;N&&(z=N(e,e.graph)),z&&(z=S.cleanFromEmpty(z)),z&&""!==z?(c=M.getBalloonColor(this,e),j.drop||(j.pointerOrientation=i),i=e.x,T=e.y,M.rotate&&(i=e.y,T=e.x),i+=G,T+=Y,isNaN(i)||isNaN(T)?this.hideBalloonReal():(e=this.width,N=this.height,F&&j.setBounds(G,Y,e+G,N+Y),j.changeColor(c),j.setPosition(i,T),j.fixPrevious(),j.fixedPosition&&(s=!1),!s&&"radar"!=M.type&&(i<G-.5||i>e+G||T<Y-.5||T>N+Y)?(j.showBalloon(z),j.hide(0)):(j.followCursor(s),j.showBalloon(z)))):(this.hideBalloonReal(),j.hide(),this.resizeBullet(e,c,T))}else this.hideBalloonReal()}},resizeBullet:function(e,i,s){if(this.fixBulletSize(),e&&S.isModern&&(1!=i||!isNaN(s))){var c=e.bulletGraphics;c&&!c.doNotScale&&(c.translate(e.bx,e.by,i),isNaN(s)||(c.setAttr("fill-opacity",s),c.setAttr("stroke-opacity",s)),this.resizedDItem=e)}}})}(),function(){var S=window.AmCharts;S.ChartCursor=S.Class({construct:function(e){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,S.applyTheme(this,e,this.cname)},draw:function(){this.destroy();var e=this.chart;e.panRequired=!0;var i=e.container;this.rotate=e.rotate,this.container=i,this.prevLineHeight=this.prevLineWidth=NaN,(i=i.set()).translate(this.x,this.y),this.set=i,e.cursorSet.push(i),this.createElements(),S.isString(this.limitToGraph)&&(this.limitToGraph=S.getObjById(e.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=e.valueAxes[0])},createElements:function(){var j,G,e=this,i=e.chart,s=i.dx,c=i.dy,T=e.width,M=e.height,Y=e.cursorAlpha,z=e.valueLineAlpha;e.rotate?(j=z,G=Y):(G=z,j=Y),"xy"==i.type&&(G=Y,void 0!==z&&(G=z),j=Y),e.vvLine=S.line(e.container,[s,0,0],[c,0,M],e.cursorColor,j,1),S.setCN(i,e.vvLine,"cursor-line"),S.setCN(i,e.vvLine,"cursor-line-vertical"),e.hhLine=S.line(e.container,[0,T,T+s],[0,0,c],e.cursorColor,G,1),S.setCN(i,e.hhLine,"cursor-line"),S.setCN(i,e.hhLine,"cursor-line-horizontal"),e.vLine=e.rotate?e.vvLine:e.hhLine,e.set.push(e.vvLine),e.set.push(e.hhLine),e.set.node.style.pointerEvents="none",e.fullLines=e.container.set(),(i=i.cursorLineSet).push(e.fullLines),i.translate(e.x,e.y),i.clipRect(-1,-1,T+2,M+2),void 0!==e.tabIndex&&(i.setAttr("tabindex",e.tabIndex),i.keyup(function(F){e.handleKeys(F)}).focus(function(F){e.showCursor()}).blur(function(F){e.hideCursor()})),e.set.clipRect(0,0,T,M)},handleKeys:function(e){var i=this.prevIndex,s=this.chart;if(s){var c=s.chartData;c&&(isNaN(i)&&(i=c.length-1),37!=e.keyCode&&40!=e.keyCode||i--,39!=e.keyCode&&38!=e.keyCode||i++,i=S.fitToBounds(i,s.startIndex,s.endIndex),(e=this.chart.chartData[i])&&this.setPosition(e.x.categoryAxis),this.prevIndex=i)}},update:function(){var e=this.chart;if(e){var c,i=e.mouseX-this.x,s=e.mouseY-this.y;if(this.mouseX=i,this.mouseY=s,this.mouse2X=e.mouse2X-this.x,this.mouse2Y=e.mouse2Y-this.y,e.chartData&&0<e.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=c=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(e.rotate||!this.limitToGraph)&&this.vvLine.translate(i,0),!this.hhLine||!isNaN(this.fy)||e.rotate&&this.limitToGraph||this.hhLine.translate(0,s),isNaN(this.mouse2X)?this.dispatchMovedEvent(i,s):c=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}c&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(S.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var i,e=(i=this.chart).marginTop;this.drawingLine=S.line(this.container,[this.drawStartX+(i=i.marginLeft),this.mouseX+i],[this.drawStartY+e,this.mouseY+e],this.cursorColor,1,1)}},fixWidth:function(e){if(this.fullWidth&&this.prevLineWidth!=e){var i=this.vvLine,s=0;i&&(i.remove(),s=i.x),(i=this.container.set()).translate(s,0),s=S.rect(this.container,e,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),S.setCN(this.chart,s,"cursor-fill"),s.translate(-e/2-1,0),i.push(s),this.vvLine=i,this.fullLines.push(i),this.prevLineWidth=e}},fixHeight:function(e){if(this.fullWidth&&this.prevLineHeight!=e){var i=this.hhLine,s=0;i&&(i.remove(),s=i.y),(i=this.container.set()).translate(0,s),(s=S.rect(this.container,this.width,e,this.cursorColor,this.cursorAlpha)).translate(0,-e/2),i.push(s),this.fullLines.push(i),this.hhLine=i,this.prevLineHeight=e}},fixVLine:function(e,i){if(!isNaN(e)&&this.vvLine){if(isNaN(this.prevLineX)){var s=0,c=this.mouseX;if(this.limitToGraph){var T=this.chart.categoryAxis;T&&(this.chart.rotate||(s="bottom"==T.position?this.height:-this.height),c=e)}this.vvLine.translate(c,s)}else this.prevLineX!=e&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=e,this.prevLineX!=e&&(s=this.animationDuration,this.zooming&&(s=0),this.vvLine.stop(),this.vvLine.animate({translate:e+","+i},s,"easeOutSine"),this.prevLineX=e,this.prevLineY=i)}},fixHLine:function(e,i){if(!isNaN(e)&&this.hhLine){if(isNaN(this.prevLineY)){var s=0,c=this.mouseY;if(this.limitToGraph){var T=this.chart.categoryAxis;T&&(this.chart.rotate&&(s="right"==T.position?this.width:-this.width),c=e)}this.hhLine.translate(s,c)}else this.prevLineY!=e&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=e,this.prevLineY!=e&&(s=this.animationDuration,this.zooming&&(s=0),this.hhLine.stop(),this.hhLine.animate({translate:i+","+e},s,"easeOutSine"),this.prevLineY=e,this.prevLineX=i)}},hideCursor:function(e){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),e?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(e){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),e||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var T=this.mouseX,M=this.mouseY;isNaN(this.fx)||(T=this.fx),isNaN(this.fy)||(M=this.fy),this.clearSelection();var j,e=this.mouseX0,i=this.mouseY0,s=this.width,c=this.height;(T=S.fitToBounds(T,0,s))<e&&(j=T,T=e,e=j),(M=S.fitToBounds(M,0,c))<i&&(j=M,M=i,i=j),this.hZoomEnabled?s=T-e:e=0,this.vZoomEnabled?c=M-i:i=0,isNaN(this.mouse2X)&&0<Math.abs(s)&&0<Math.abs(c)&&(T=this.chart,M=S.rect(this.container,s,c,this.cursorColor,this.selectionAlpha),S.setCN(T,M,"cursor-selection"),M.width=s,M.height=c,M.translate(e,i),this.set.push(M),this.selection=M),this.updateFullLine()}},mouseIsOver:function(){var e=this.mouseX,i=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||this.chart.mouseIsOver&&0<e&&e<this.width&&0<i&&i<this.height||(this.handleMouseOut(),!1)},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var e={chart:this.chart,target:this,type:"zoomStarted"};e.x=this.mouseX/this.width,e.y=this.mouseY/this.height,this.index0=e.index=this.index,this.timestamp0=this.timestamp,this.fire(e)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,S.remove(this.drawingLine);var e=this.drawStartX,i=this.drawStartY,s=this.mouseX,c=this.mouseY,T=this.chart;(2<Math.abs(e-s)||2<Math.abs(i-c))&&this.fire({type:"draw",target:this,chart:T,initialX:e,initialY:i,finalX:s,finalY:c})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(e){if(!this.pan&&(i=this.selection)&&3<Math.abs(i.width)&&3<Math.abs(i.height)){var s=Math.min(this.index,this.index0),c=Math.max(this.index,this.index0),T=s,M=c,j=this.chart,G=j.chartData,Y=j.categoryAxis;Y&&Y.parseDates&&!Y.equalSpacing&&(T=G[s]?G[s].time:Math.min(this.timestamp0,this.timestamp),M=G[c]?j.getEndTime(G[c].time):Math.max(this.timestamp0,this.timestamp));var z,i={type:e,chart:this.chart,target:this,end:M,start:T,startIndex:s,endIndex:c,selectionHeight:i.height,selectionWidth:i.width,selectionY:i.y,selectionX:i.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(i.startX=this.mouseX0/this.width,i.endX=this.mouseX/this.width,z=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(i.startY=1-this.mouseY0/this.height,i.endY=1-this.mouseY/this.height,z=!0),z&&(this.prevY=this.prevX=NaN,this.fire(i),"selected"!=e&&this.clearSelection()),this.hideCursor()}},dispatchMovedEvent:function(e,i,s,c){if(e=Math.round(e),i=Math.round(i),!this.isHidden&&(e!=this.prevX||i!=this.prevY||"changed"==s)){s||(s="moved");var T=this.fx,M=this.fy;isNaN(T)&&(T=e),isNaN(M)&&(M=i);var j=!1;this.zooming&&this.pan&&(j=!0),j={hidden:this.isHidden,type:s,chart:this.chart,target:this,x:e,y:i,finalX:T,finalY:M,zooming:this.zooming,panning:j,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:c,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(j.position=i,j.finalPosition=M):(j.position=e,j.finalPosition=T),this.prevX=e,this.prevY=i,c?this.chart.handleCursorMove(j):(this.fire(j),"changed"==s&&this.chart.fire(j))}},dispatchPanEvent:function(){if(this.mouseIsDown){var e=S.roundTo((this.mouseX-this.mouseX0)/this.width,3),i=S.roundTo((this.mouseY-this.mouseY0)/this.height,3),s=S.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),c=S.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),T=!1;0!==Math.abs(e)&&0!==Math.abs(i)&&(T=!0),(this.prevDeltaX==e||this.prevDeltaY==i)&&(T=!1),isNaN(s)||isNaN(c)||(0!==Math.abs(s)&&0!==Math.abs(c)&&(T=!0),this.prevDelta2X!=s&&this.prevDelta2Y!=c)||(T=!1),T&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:e,deltaY:i,delta2X:s,delta2Y:c,index:this.index}),this.prevDeltaX=e,this.prevDeltaY=i,this.prevDelta2X=s,this.prevDelta2Y=c)}},clearSelection:function(){var e=this.selection;e&&(e.width=0,e.height=0,e.remove())},destroy:function(){this.clear(),S.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),S.remove(this.set)},clear:function(){},setTimestamp:function(e){this.timestamp=e},setIndex:function(e,i){e!=this.index&&(this.index=e,i||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(e){var i=this.chart.categoryAxis;i&&this.setPosition(i.categoryToCoordinate(e),e)},setPosition:function(e,i){var T,M,s=this.chart,c=s.categoryAxis;c&&(void 0===i&&(i=c.coordinateToValue(e)),c.showBalloonAt(i,e),this.forceShow=!0,c.stickBalloonToCategory?s.rotate?this.fixHLine(e,0):this.fixVLine(e,0):(this.showCursor(),s.rotate?this.hhLine.translate(0,e):this.vvLine.translate(e,0)),s.rotate?T=e:M=e,s.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(M,T,"moved",!0))},enableDrawing:function(e){this.enabled=!e,this.hideCursor(),this.drawing=e},syncWithCursor:function(e,i){clearTimeout(this.syncTO),e&&(e.isHidden?this.hideCursor(!0):this.syncWithCursorReal(e,i))},isZooming:function(e){this.zooming=e},syncWithCursorReal:function(e,i){var s=e.vvLine,c=e.hhLine;this.index=e.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=i,this.justReleased=e.justReleased,this.zooming=e.zooming,this.index0=e.index0,this.mouseX0=e.mouseX0,this.mouseY0=e.mouseY0,this.mouse2X0=e.mouse2X0,this.mouse2Y0=e.mouse2Y0,this.timestamp0=e.timestamp0,this.prevDeltaX=e.prevDeltaX,this.prevDeltaY=e.prevDeltaY,this.prevDelta2X=e.prevDelta2X,this.prevDelta2Y=e.prevDelta2Y,this.fx=e.fx,this.fy=e.fy,e.zooming&&this.updateSelection();var T=e.mouseX,M=e.mouseY;this.rotate?(T=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&c&&(isNaN(e.fy)?this.hhLine.translate(0,e.mouseY):this.fixHLine(e.fy,0))):(M=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&s&&(isNaN(e.fx)?this.vvLine.translate(e.mouseX,0):this.fixVLine(e.fx,0))),this.dispatchMovedEvent(T,M,"moved",!0)}})}(),function(){var S=window.AmCharts;S.SimpleChartScrollbar=S.Class({construct:function(e){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,S.applyTheme(this,e,"SimpleChartScrollbar")},getPercents:function(){var e=(c=this.getDBox()).x,i=c.y,s=c.width,c=c.height;this.rotate?(e=1-i/this.height,i=1-(i+c)/this.height):(i=e/this.width,e=(e+s)/this.width),this.percentStart=i,this.percentEnd=e},draw:function(){var e=this;if(e.destroy(),e.enabled){var i=e.chart.container,s=e.rotate,c=e.chart;c.panRequired=!0;var M,j,T=i.set();if(e.set=T,S.setCN(c,T,s?"scrollbar-vertical":"scrollbar-horizontal"),c.scrollbarsSet.push(T),s?(M=e.scrollbarHeight,j=c.plotAreaHeight):(j=e.scrollbarHeight,M=c.plotAreaWidth),e.width=M,(e.height=j)&&M){var G,Y=S.rect(i,M,j,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);S.setCN(c,Y,"scrollbar-bg"),e.bg=Y,T.push(Y),Y=S.rect(i,M,j,"#000",.005),T.push(Y),e.invisibleBg=Y,Y.click(function(){e.handleBgClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}).touchend(function(){e.handleBgClick()}),Y=S.rect(i,M,j,e.selectedBackgroundColor,e.selectedBackgroundAlpha),S.setCN(c,Y,"scrollbar-bg-selected"),e.selectedBG=Y,T.push(Y),M=S.rect(i,M,j,"#000",.005),e.dragger=M,T.push(M),M.mousedown(function(p){e.handleDragStart(p)}).mouseup(function(){e.handleDragStop()}).mouseover(function(){e.handleDraggerOver()}).mouseout(function(){e.handleMouseOut()}).touchstart(function(p){e.handleDragStart(p)}).touchend(function(){e.handleDragStop()}),j=c.pathToImages,Y=e.dragIcon.replace(/\.[a-z]*$/i,""),S.isAbsolute(Y)&&(j=""),s?(G=j+Y+"H"+c.extension,j=e.dragIconWidth,s=e.dragIconHeight):(G=j+Y+c.extension,s=e.dragIconWidth,j=e.dragIconHeight),Y=i.image(G,0,0,s,j),S.setCN(c,Y,"scrollbar-grip-left"),G=i.image(G,0,0,s,j),S.setCN(c,G,"scrollbar-grip-right");var z=10,F=20;c.panEventsEnabled&&(z=25,F=e.scrollbarHeight);var N=S.rect(i,z,F,"#000",.005),a=S.rect(i,z,F,"#000",.005);a.translate(-(z-s)/2,-(F-j)/2),N.translate(-(z-s)/2,-(F-j)/2),s=i.set([Y,a]),i=i.set([G,N]),e.iconLeft=s,T.push(e.iconLeft),e.iconRight=i,T.push(i),e.updateGripCursor(!1),c.makeAccessible(s,e.accessibleLabel),c.makeAccessible(i,e.accessibleLabel),c.makeAccessible(M,e.accessibleLabel),s.setAttr("role","menuitem"),i.setAttr("role","menuitem"),M.setAttr("role","menuitem"),void 0!==e.tabIndex&&(s.setAttr("tabindex",e.tabIndex),s.keyup(function(p){e.handleKeys(p,1,0)})),void 0!==e.tabIndex&&(M.setAttr("tabindex",e.tabIndex),M.keyup(function(p){e.handleKeys(p,1,1)})),void 0!==e.tabIndex&&(i.setAttr("tabindex",e.tabIndex),i.keyup(function(p){e.handleKeys(p,0,1)})),s.mousedown(function(){e.leftDragStart()}).mouseup(function(){e.leftDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.leftDragStart()}).touchend(function(){e.leftDragStop()}),i.mousedown(function(){e.rightDragStart()}).mouseup(function(){e.rightDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.rightDragStart()}).touchend(function(){e.rightDragStop()}),S.ifArray(c.chartData)?T.show():T.hide(),e.hideDragIcons(),e.clipDragger(!1)}T.translate(e.x,e.y),T.node.style.msTouchAction="none",T.node.style.touchAction="none"}},handleKeys:function(e,i,s){this.getPercents();var M=this.percentStart,T=this.percentEnd;if(this.rotate){var c=T;T=M,M=c}(37==e.keyCode||40==e.keyCode)&&(M-=.02*i,T-=.02*s),(39==e.keyCode||38==e.keyCode)&&(M+=.02*i,T+=.02*s),this.rotate&&(e=T,T=M,M=e),isNaN(T)||isNaN(M)||this.percentZoom(M,T,!0)},updateScrollbarSize:function(e,i){if(!isNaN(e)&&!isNaN(i)){e=Math.round(e),i=Math.round(i);var c,T,M,j,G,s=this.dragger;this.rotate?(c=0,T=e,M=this.width+1,j=i-e,s.setAttr("height",i-e),s.setAttr("y",T)):(T=0,M=i-e,j=this.height+1,G=i-e,s.setAttr("x",c=e),s.setAttr("width",G)),this.clipAndUpdate(c,T,M,j)}},update:function(){var e,s,c,i=!1,T=this.x,M=this.y,j=this.dragger;if(G=this.getDBox()){s=G.x+T,c=G.y+M;var Y=G.width,G=G.height,z=this.rotate,F=this.width,N=this.height,a=(p=this.chart).mouseX,p=p.mouseY;if(e=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var l=this.initialCoord;z?(0>(e=l+(p-e))&&(e=0),e>(l=N-G)&&(e=l),j.setAttr("y",e)):(0>(e=l+(a-e))&&(e=0),(e>(l=F-Y)||isNaN(e))&&(e=l),j.setAttr("x",e)),this.clipDragger(!0)}this.resizingRight&&(z?(e=p-c,!isNaN(this.maxHeight)&&e>this.maxHeight&&(e=this.maxHeight),e+c>N+M&&(e=N-c+M),0>e?(this.resizingRight=!1,i=this.resizingLeft=!0):((0===e||isNaN(e))&&(e=.1),j.setAttr("height",e))):(e=a-s,!isNaN(this.maxWidth)&&e>this.maxWidth&&(e=this.maxWidth),e+s>F+T&&(e=F-s+T),0>e?(this.resizingRight=!1,i=this.resizingLeft=!0):((0===e||isNaN(e))&&(e=.1),j.setAttr("width",e))),this.clipDragger(!0)),this.resizingLeft&&(z?(s=c,(c=p)<M&&(c=M),isNaN(c)&&(c=M),c>N+M&&(c=N+M),e=!0===i?s-c:G+s-c,!isNaN(this.maxHeight)&&e>this.maxHeight&&(e=this.maxHeight,c=s),0>e?(this.resizingRight=!0,this.resizingLeft=!1,j.setAttr("y",s+G-M)):((0===e||isNaN(e))&&(e=.1),j.setAttr("y",c-M),j.setAttr("height",e))):((c=a)<T&&(c=T),isNaN(c)&&(c=T),c>F+T&&(c=F+T),e=!0===i?s-c:Y+s-c,!isNaN(this.maxWidth)&&e>this.maxWidth&&(e=this.maxWidth,c=s),0>e?(this.resizingRight=!0,this.resizingLeft=!1,j.setAttr("x",s+Y-T)):((0===e||isNaN(e))&&(e=.1),j.setAttr("x",c-T),j.setAttr("width",e))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(e){if(i=this.getDBox()){var s=i.x,c=i.y,T=i.width,i=i.height,M=!1;this.rotate?(s=0,T=this.width+1,(this.clipY!=c||this.clipH!=i)&&(M=!0)):(c=0,i=this.height+1,(this.clipX!=s||this.clipW!=T)&&(M=!0)),M&&this.clipAndUpdate(s,c,T,i),e&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent())}},maskGraphs:function(){},clipAndUpdate:function(e,i,s,c){this.clipX=e,this.clipY=i,this.clipW=s,this.clipH=c,this.selectedBG.setAttr("width",s),this.selectedBG.setAttr("height",c),this.selectedBG.translate(e,i),this.updateDragIconPositions(),this.maskGraphs(e,i,s,c)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart;e.hideBalloon();var i=(T=this.getDBox()).x,s=T.y,c=T.width,T=T.height;this.getPercents(),this.rotate?(i=s,c=this.height/T):c=this.width/c,e={type:"zoomed",position:i,chart:e,target:this,multiplier:c,relativeStart:this.percentStart,relativeEnd:this.percentEnd},(this.percentStart!=this.prevPercentStart||this.percentEnd!=this.prevPercentEnd||this.prevMultiplier!=c)&&(this.fire(e),this.prevPercentStart=this.percentStart,this.prevPercentEnd=this.percentEnd,this.prevMultiplier=c)}},updateDragIconPositions:function(){var M,j,e=this.getDBox(),i=e.x,s=e.y,c=this.iconLeft,T=this.iconRight,G=this.scrollbarHeight;this.rotate?(c.translate((G-(j=this.dragIconHeight))/2,s-(M=this.dragIconWidth)/2),T.translate((G-j)/2,s+e.height-M/2)):(c.translate(i-(j=this.dragIconWidth)/2,(G-(M=this.dragIconHeight))/2),T.translate(i-j/2+e.width,(G-M)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){!this.resizingLeft&&!this.resizingRight&&!this.dragging&&((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(e){this.fire({type:e,chart:this.chart,target:this})},percentZoom:function(e,i,s){var c,T;e=S.fitToBounds(e,0,i),i=S.fitToBounds(i,e,1),this.dragger&&this.enabled&&(this.dragger.stop(),isNaN(e)&&(e=0),isNaN(i)&&(i=1),this.rotate?(i=(c=this.height)-c*i,T=c-c*e):(T=(c=this.width)*i,i=c*e),this.updateScrollbarSize(i,T),this.clipDragger(!1),this.getPercents(),s&&this.dispatchScrollbarEvent())},destroy:function(){this.clear(),S.remove(this.set),S.remove(this.iconRight),S.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var e=this.chart;this.dragger.stop(),this.removeCursors(),S.isModern&&(this.dragger.node.style.cssText=this.dragCursorDown),this.dragging=!0;var i=this.getDBox();this.rotate?(this.initialCoord=i.y,this.initialMouse=e.mouseY):(this.initialCoord=i.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),S.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),S.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(e){S.isModern&&(e=this.rotate?e?this.vResizeCursorDown:this.vResizeCursorHover:e?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&(this.iconRight.node.style.cssText=e),this.iconLeft&&(this.iconLeft.node.style.cssText=e))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var e=this;if(!e.resizingRight&&!e.resizingLeft){e.zooming=!0;var i,s,c=e.scrollDuration,T=e.dragger,M=(i=e.getDBox()).height,j=i.width;s=e.chart;var Y=e.x,z=e.rotate;z?(i="y",s=S.fitToBounds(s=s.mouseY-M/2-e.y,0,e.height-M)):(i="x",s=S.fitToBounds(s=s.mouseX-j/2-Y,0,e.width-j)),e.updateOnReleaseOnly?(e.skipEvent=!1,T.setAttr(i,s),e.dispatchScrollbarEvent(),e.clipDragger()):(e.animating=!0,s=Math.round(s),T.animate(z?{y:s}:{x:s},c,">"),e.forceClip=!0,clearTimeout(e.forceTO),e.forceTO=setTimeout(function(){e.stopForceClip.call(e)},5e3*c))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var S=window.AmCharts;S.ChartScrollbar=S.Class({inherits:S.SimpleChartScrollbar,construct:function(e){this.cname="ChartScrollbar",S.ChartScrollbar.base.construct.call(this,e),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",S.applyTheme(this,e,this.cname)},init:function(){var e=this.categoryAxis,i=this.chart,s=this.gridAxis;e||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,(e=new S.CategoryAxis).id="scrollbar"):((e=new S.ValueAxis).data=i.chartData,e.id=s.id,e.type=s.type,e.maximumDate=s.maximumDate,e.minimumDate=s.minimumDate,e.minPeriod=s.minPeriod,e.minMaxField=s.minMaxField),this.categoryAxis=e),e.chart=i;var c=i.categoryAxis;c&&(e.firstDayOfWeek=c.firstDayOfWeek),e.dateFormats=s.dateFormats,e.markPeriodChange=s.markPeriodChange,e.boldPeriodBeginning=s.boldPeriodBeginning,e.labelFunction=s.labelFunction,e.axisItemRenderer=S.RecItem,e.axisRenderer=S.RecAxis,e.guideFillRenderer=S.RecFill,e.inside=!0,e.fontSize=this.fontSize,e.tickLength=0,e.axisAlpha=0,S.isString(this.graph)&&(this.graph=S.getObjById(i.graphs,this.graph)),(e=this.graph)&&this.catScrollbar&&((s=this.valueAxis)||(this.valueAxis=s=new S.ValueAxis,s.visible=!1,s.scrollbar=!0,s.axisItemRenderer=S.RecItem,s.axisRenderer=S.RecAxis,s.guideFillRenderer=S.RecFill,s.labelsEnabled=!1,s.chart=i),(i=this.unselectedGraph)||((i=new S.AmGraph).scrollbar=!0,this.unselectedGraph=i,i.negativeBase=e.negativeBase,i.noStepRisers=e.noStepRisers),(i=this.selectedGraph)||((i=new S.AmGraph).scrollbar=!0,this.selectedGraph=i,i.negativeBase=e.negativeBase,i.noStepRisers=e.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var e=this;if(S.ChartScrollbar.base.draw.call(e),e.enabled){e.scrollbarCreated||e.init();var i=e.chart,s=i.chartData,c=e.categoryAxis,T=e.rotate,M=e.x,j=e.y,G=e.width,Y=e.height,z=e.gridAxis,F=e.set;if(c.setOrientation(!T),c.parseDates=z.parseDates,"ValueAxis"==e.categoryAxis.cname&&(c.rotate=!T),c.equalSpacing=z.equalSpacing,c.minPeriod=z.minPeriod,c.startOnAxis=z.startOnAxis,c.width=G-1,c.height=Y,c.gridCount=e.gridCount,c.gridColor=e.gridColor,c.gridAlpha=e.gridAlpha,c.color=e.color,c.tickLength=0,c.axisAlpha=0,c.autoGridCount=e.autoGridCount,c.parseDates&&!c.equalSpacing&&c.timeZoom(i.firstTime,i.lastTime),c.minimum=e.gridAxis.fullMin,c.maximum=e.gridAxis.fullMax,c.strictMinMax=!0,c.zoom(0,s.length-1),(z=e.graph)&&e.catScrollbar){var p,N=e.valueAxis,a=z.valueAxis;for(N.id=a.id,N.rotate=T,N.setOrientation(T),N.width=G,N.height=Y,N.dataProvider=s,N.reversed=a.reversed,N.logarithmic=a.logarithmic,N.gridAlpha=0,N.axisAlpha=0,F.push(N.set),T?(N.y=j,N.x=0):(N.x=M,N.y=0),M=1/0,j=-1/0,p=0;p<s.length;p++){var d,l=s[p].axes[a.id].graphs[z.id].values;for(d in l)if(l.hasOwnProperty(d)&&"percents"!=d&&"total"!=d){var _=l[d];_<M&&(M=_),_>j&&(j=_)}}M!=1/0&&(N.minimum=M),j!=-1/0&&(N.maximum=j+.1*(j-M)),M==j&&(--N.minimum,N.maximum+=1),void 0!==e.minimum&&(N.minimum=e.minimum),void 0!==e.maximum&&(N.maximum=e.maximum),N.zoom(0,s.length-1),(d=e.unselectedGraph).id=z.id,d.bcn="scrollbar-graph-",d.rotate=T,d.chart=i,d.data=s,d.valueAxis=N,d.chart=z.chart,d.categoryAxis=e.categoryAxis,d.periodSpan=z.periodSpan,d.valueField=z.valueField,d.openField=z.openField,d.closeField=z.closeField,d.highField=z.highField,d.lowField=z.lowField,d.lineAlpha=e.graphLineAlpha,d.lineColorR=e.graphLineColor,d.fillAlphas=e.graphFillAlpha,d.fillColorsR=e.graphFillColor,d.connect=z.connect,d.hidden=z.hidden,d.width=G,d.height=Y,d.pointPosition=z.pointPosition,d.stepDirection=z.stepDirection,d.periodSpan=z.periodSpan,(a=e.selectedGraph).id=z.id,a.bcn=d.bcn+"selected-",a.rotate=T,a.chart=i,a.data=s,a.valueAxis=N,a.chart=z.chart,a.categoryAxis=c,a.periodSpan=z.periodSpan,a.valueField=z.valueField,a.openField=z.openField,a.closeField=z.closeField,a.highField=z.highField,a.lowField=z.lowField,a.lineAlpha=e.selectedGraphLineAlpha,a.lineColorR=e.selectedGraphLineColor,a.fillAlphas=e.selectedGraphFillAlpha,a.fillColorsR=e.selectedGraphFillColor,a.connect=z.connect,a.hidden=z.hidden,a.width=G,a.height=Y,a.pointPosition=z.pointPosition,a.stepDirection=z.stepDirection,a.periodSpan=z.periodSpan,(i=e.graphType)||(i=z.type),d.type=i,a.type=i,d.zoom(0,s=s.length-1),a.zoom(0,s),a.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),d.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),F.push(d.set),F.push(a.set)}F.push(c.set),F.push(c.labelsSet),e.bg.toBack(),e.invisibleBg.toFront(),e.dragger.toFront(),e.iconLeft.toFront(),e.iconRight.toFront()}},timeZoom:function(e,i,s){this.startTime=e,this.endTime=i,this.timeDifference=i-e,this.skipEvent=!S.toBoolean(s),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(e,i){this.start=e,this.end=i,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)S.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var i,s,e=this.chart.chartData;i=(G=this.dragger.getBBox()).x;var z=G.y,c=G.width,G=G.height,T=this.chart;this.rotate?(i=z,s=G):s=c,(c={type:"zoomed",target:this}).chart=T;var M=this.categoryAxis,j=this.stepWidth,Y=(G=T.minSelectedTime,T.maxSelectedTime);z=!1,M.parseDates&&!M.equalSpacing?(e=T.lastTime,T=T.firstTime,(M=Math.round(i/j)+T)>(i=this.dragging?M+this.timeDifference:Math.round((i+s)/j)+T)&&(M=i),0<G&&i-M<G&&(M=(i=Math.round(M+(i-M)/2))-(z=Math.round(G/2)),i+=z,z=!0),0<Y&&i-M>Y&&(M=(i=Math.round(M+(i-M)/2))-(z=Math.round(Y/2)),i+=z,z=!0),i>e&&(i=e),i-G<M&&(M=i-G),M<T&&(M=T),M+G>i&&(i=M+G),(M!=this.startTime||i!=this.endTime)&&(this.startTime=M,this.endTime=i,c.start=M,c.end=i,c.startDate=new Date(M),c.endDate=new Date(i),this.fire(c))):(Y=j/2,M.startOnAxis||(i+=Y,s-=Y),G=M.xToIndex(i),M.startOnAxis||(i=M.getCoordinate(G)-Y),i=M.xToIndex(i+s),(G!=this.start||this.end!=i)&&(M.startOnAxis&&(this.resizingRight&&G==i&&i++,this.resizingLeft&&G==i&&(0<G?G--:i=1)),i==e.length&&(i=e.length-1),G==i&&i==e.length-1&&(G=i-1),this.start=G,this.end=this.dragging?this.start+this.difference:i,c.start=this.start,c.end=this.end,M.parseDates&&(e[this.start]&&(c.startDate=new Date(e[this.start].time)),e[this.end]&&(c.endDate=new Date(e[this.end].time))),this.fire(c)),this.percentStart=G,this.percentEnd=i),z&&this.zoomScrollbar(!0)}},zoomScrollbar:function(e){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||e)&&this.dragger&&this.enabled){var i,s,c=this.chart;e=c.chartData;var T=this.categoryAxis;T.parseDates&&!T.equalSpacing?(i=(e=T.stepWidth)*(this.startTime-(s=c.firstTime)),s=e*(this.endTime-s)):(e[this.start]&&(i=e[this.start].x[T.id]),e[this.end]&&(s=e[this.end].x[T.id]),e=T.stepWidth,T.startOnAxis||(i-=c=e/2,s+=c)),this.stepWidth=e,isNaN(i)||isNaN(s)||this.updateScrollbarSize(i,s)}},maskGraphs:function(e,i,s,c){var T=this.selectedGraph;T&&T.set.clipRect(e,i,s,c)},handleDragStart:function(){S.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){S.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var S=window.AmCharts;S.AmBalloon=S.Class({construct:function(e){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,S.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,S.applyTheme(this,e,this.cname)},draw:function(){var e=this.pointToX,i=this.pointToY;S.isModern||(this.drop=!1);var s=this.chart;if(S.VML&&(this.fadeOutDuration=0),this.xAnim&&s.stopAnim(this.xAnim),this.yAnim&&s.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(e)){var c=this.follow,T=s.container,M=this.set;if(S.remove(M),this.removeDiv(),(M=T.set()).node.style.pointerEvents="none",this.set=M,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):s.balloonsSet.push(M),this.show){var j=this.l,P=this.t,G=this.r,E=this.b,Y=this.fillColor,z=this.borderColor,F=Y;null!=(d=this.balloonColor)&&(this.adjustBorderColor?F=z=d:Y=d);var A=this.horizontalPadding,o=this.verticalPadding,N=this.pointerWidth,a=this.pointerOrientation,p=this.cornerRadius,l=s.fontFamily;null==(D=this.fontSize)&&(D=s.fontSize);var d=document.createElement("div"),_=s.classNamePrefix;d.className=_+"-balloon-div",this.className&&(d.className=d.className+" "+_+"-balloon-div-"+this.className),_=d.style,this.disableMouseEvents&&(_.pointerEvents="none"),_.position="absolute";var w=this.minWidth,x=document.createElement("div");d.appendChild(x);var I=x.style;isNaN(w)||(I.minWidth=w-2*A+"px"),I.textAlign=this.textAlign,I.maxWidth=this.maxWidth+"px",I.fontSize=D+"px",I.color=this.color,I.fontFamily=l,x.innerHTML=this.text,s.chartDiv.appendChild(d),this.textDiv=d,I=d.offsetWidth;var h=d.offsetHeight;d.clientHeight&&(I=d.clientWidth,h=d.clientHeight),l=h+2*o,x=I+2*A,!isNaN(w)&&x<w&&(x=w),window.opera&&(l+=2);var n=!1,D=this.offsetY;s.handDrawn&&(D+=s.handDrawScatter+2),"H"!=a?(w=e-x/2,i<P+l+10&&"down"!=a?(n=!0,c&&(i+=D),D=i+N,this.deltaSignY=-1):(c&&(i-=D),D=i-l-N,this.deltaSignY=1)):(2*N>l&&(N=l/2),D=i-l/2,e<j+(G-j)/2?(w=e+N,this.deltaSignX=-1):(w=e-x-N,this.deltaSignX=1)),D+l>=E&&(D=E-l),D<P&&(D=P),w<j&&(w=j),w+x>G&&(w=G-x),P=D+o,E=w+A;var f,m=this.shadowAlpha,C=this.shadowColor,R=(A=this.borderThickness,o=this.fillAlpha,this.borderAlpha);this.showBullet&&(f=S.circle(T,this.bulletSize,F,o),M.push(f)),this.drop?(j=x/1.6,G=0,"V"==a&&(a="down"),"H"==a&&(a="left"),"down"==a&&(w=e+1,D=i-j-j/3),"up"==a&&(G=180,w=e+1,D=i+j+j/3),"left"==a&&(G=270,w=e+j+j/3+2,D=i),"right"==a&&(G=90,w=e-j-j/3+2,D=i),P=D-h/2+1,E=w-I/2-1,Y=S.drop(T,j,G,Y,o,A,z,R)):0<p||0===N?(0<m&&(e=S.rect(T,x,l,Y,0,A+1,C,m,p),S.isModern?e.translate(1,1):e.translate(4,4),M.push(e)),Y=S.rect(T,x,l,Y,o,A,z,R,p)):(F=[],p=[],"H"!=a?((j=e-w)>x-N&&(j=x-N),j<N&&(j=N),F=[0,j-N,e-w,j+N,x,x,0,0],p=n?[0,0,i-D,0,0,l,l,0]:[l,l,i-D,l,l,0,0,l]):((a=i-D)>l-N&&(a=l-N),a<N&&(a=N),p=[0,a-N,i-D,a+N,l,l,0,0],F=e<j+(G-j)/2?[0,0,w<e?0:e-w,0,0,x,x,0]:[x,x,w+x>e?x:e-w,x,x,0,0,x]),0<m&&((e=S.polygon(T,F,p,Y,0,A,C,m)).translate(1,1),M.push(e)),Y=S.polygon(T,F,p,Y,o,A,z,R)),this.bg=Y,M.push(Y),Y.toFront(),S.setCN(s,Y,"balloon-bg"),this.className&&S.setCN(s,Y,"balloon-bg-"+this.className),T=1*this.deltaSignX,P+=this.sdy,_.left=(E+=this.sdx)+"px",_.top=P+"px",M.translate(w-T,D,1,!0),Y=Y.getBBox(),this.bottom=D+l+1,this.yPos=Y.y+D,f&&f.translate(this.pointToX-w+T,i-D),i=this.animationDuration,0<this.animationDuration&&!c&&!isNaN(this.prevX)&&(M.translate(this.prevX,this.prevY,NaN,!0),M.animate({translate:w-T+","+D},i,"easeOutSine"),d&&(_.left=this.prevTX+"px",_.top=this.prevTY+"px",this.xAnim=s.animate({node:d},"left",this.prevTX,E,i,"easeOutSine","px"),this.yAnim=s.animate({node:d},"top",this.prevTY,P,i,"easeOutSine","px"))),this.prevX=w-T,this.prevY=D,this.prevTX=E,this.prevTY=P}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var i=this.chart.mouseY-this.sdy;if(this.pointToX=e=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,this.pointToY=i,e!=this.previousX||i!=this.previousY)if(this.previousX=e,this.previousY=i,0===this.cornerRadius)this.draw();else{var s=this.set;if(s){var e,c=s.getBBox(),T=i-c.height-10;(e-=c.width/2)<this.l&&(e=this.l),e>this.r-c.width&&(e=this.r-c.width),T<this.t&&(T=i+10),s.translate(e,T),(i=this.textDiv.style).left=e+this.horizontalPadding+"px",i.top=T+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,i,s,c){this.l=e,this.t=i,this.r=s,this.b=c,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){(this.text!=e||this.positionChanged)&&(this.text=e,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),e=this.chart,this.fadeAnim1&&e.stopAnim(this.fadeAnim1),this.fadeAnim2&&e.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(e){var i=this;i.text=void 0,isNaN(e)&&(e=i.fadeOutDuration);var s=i.chart;if(0<e&&!i.isHiding){i.isHiding=!0,i.destroyTO&&clearTimeout(i.destroyTO),i.destroyTO=setTimeout(function(){i.destroy.call(i)},1e3*e),i.follow=!1,i.show=!1;var c=i.set;c&&(c.setAttr("opacity",i.fillAlpha),i.fadeAnim1=c.animate({opacity:0},e,"easeInSine")),i.textDiv&&(i.fadeAnim2=s.animate({node:i.textDiv},"opacity",1,0,e,"easeInSine",""))}else i.show=!1,i.follow=!1,i.destroy()},setPosition:function(e,i){(e!=this.pointToX||i!=this.pointToY)&&(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=e,this.pointToY=i,this.positionChanged=!0)},followCursor:function(e){var i=this;i.follow=e,clearInterval(i.interval);var s=i.chart.mouseX-i.sdx,c=i.chart.mouseY-i.sdy;!isNaN(s)&&e&&(i.pointToX=s-i.offsetX*i.deltaSignX,i.pointToY=c,i.followMouse(),i.interval=setInterval(function(){i.followMouse.call(i)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),S.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var S=window.AmCharts;S.AmCoordinateChart=S.Class({inherits:S.AmChart,construct:function(e){S.AmCoordinateChart.base.construct.call(this,e),this.theme=e,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,S.applyTheme(this,e,"AmCoordinateChart")},initChart:function(){S.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var e=this.categoryAxis;e&&(this.categoryAxis=S.processObject(e,S.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),S.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var e=new S.ValueAxis;this.addValueAxis(e)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(e){if(this.chartData=[],e)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var i=e.length/this.processCount;this.parseCount=Math.ceil(i)-1;for(var s=0;s<i;s++)this.delayParseSerialData(e,s)}else this.parseCount=0,this.parsePartSerialData(e,0,e.length,0);else this.onDataUpdated()},delayParseSerialData:function(e,i){var s=this,c=s.processCount;setTimeout(function(){s.parsePartSerialData.call(s,e,i*c,(i+1)*c,i)},s.processTimeout)},parsePartSerialData:function(e,i,s,c){s>e.length&&(s=e.length);var T=this.graphs,M={},j=this.seriesIdField;j||(j=this.categoryField);var Y,F,N,a,G=!1,z=this.categoryAxis;z&&(G=z.parseDates,F=z.forceShowField,a=z.classNameField,N=z.labelColorField,Y=z.categoryFunction);var p,l,_,d={};G&&(p=S.extractPeriod(z.minPeriod),_=S.getPeriodDuration(l=p.period,p=p.count));var w={};this.lookupTable=w;var x,I=this.dataDateFormat,h={};for(x=i;x<s;x++){var n={},D=e[x];if(i=D[this.categoryField],n.dataContext=D,n.category=Y?Y(i,D,z):String(i),F&&(n.forceShow=D[F]),a&&(n.className=D[a]),N&&(n.labelColor=D[N]),w[D[j]]=n,!G||(z.categoryFunction?i=z.categoryFunction(i,D,z):(!I||i instanceof Date||(i=i.toString()+" |"),i=S.getDate(i,I,z.minPeriod)),i=S.resetDateToMin(i,l,p,z.firstDayOfWeek),n.category=i,n.time=i.getTime(),!isNaN(n.time))){var E,P=this.valueAxes;for(n.axes={},n.x={},E=0;E<P.length;E++){var C,m=P[E].id;for(n.axes[m]={},n.axes[m].graphs={},C=0;C<T.length;C++){var A=(i=T[C]).id,k=1.1;isNaN(i.gapPeriod)||(k=i.gapPeriod);var f=i.periodValue;if(i.valueAxis.id==m){n.axes[m].graphs[A]={};var o={};o.index=x;var R=D;if(i.dataProvider&&(R=M),o.values=this.processValues(R,i,f),!i.connect||i.forceGap&&!isNaN(i.gapPeriod))if(h&&h[A]&&0<k&&n.time-d[A]>=_*k&&(h[A].gap=!0),i.forceGap){var U;for(U in k=0,o.values)k++;0<k&&(d[A]=n.time,h[A]=o)}else d[A]=n.time,h[A]=o;this.processFields(i,o,R),o.category=n.category,o.serialDataItem=n,o.graph=i,n.axes[m].graphs[A]=o}}}this.chartData[x]=n}}if(this.parseCount==c){for(e=0;e<T.length;e++)(i=T[e]).dataProvider&&this.parseGraphData(i);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(e,i,s){var T,c={},M=!1;"candlestick"!=i.type&&"ohlc"!=i.type||""===s||(M=!0);for(var j="value error open close low high".split(" "),G=0;G<j.length;G++){var Y=j[G];"value"!=Y&&"error"!=Y&&M&&(s=Y.charAt(0).toUpperCase()+Y.slice(1));var z=e[i[Y+"Field"]+s];null!==z&&(T=Number(z),isNaN(T)||(c[Y]=T),"date"==i.valueAxis.type&&void 0!==z&&(T=S.getDate(z,i.chart.dataDateFormat),c[Y]=T.getTime()))}return c},parseGraphData:function(e){var c,i=e.dataProvider,s=e.seriesIdField;for(s||(s=this.seriesIdField),s||(s=this.categoryField),c=0;c<i.length;c++){var T=i[c],M=this.lookupTable[String(T[s])],j=e.valueAxis.id;M&&((j=M.axes[j].graphs[e.id]).serialDataItem=M,j.values=this.processValues(T,e,e.periodValue),this.processFields(e,j,T))}},addValueAxis:function(e){e.chart=this,this.valueAxes.push(e),this.validateData()},removeValueAxesAndGraphs:function(){var i,e=this.valueAxes;for(i=e.length-1;-1<i;i--)this.removeValueAxis(e[i])},removeValueAxis:function(e){var s,i=this.graphs;for(s=i.length-1;0<=s;s--){var c=i[s];c&&c.valueAxis==e&&this.removeGraph(c)}for(s=(i=this.valueAxes).length-1;0<=s;s--)i[s]==e&&i.splice(s,1);this.validateData()},addGraph:function(e){this.graphs.push(e),this.chooseGraphColor(e,this.graphs.length-1),this.validateData()},removeGraph:function(e){var s,i=this.graphs;for(s=i.length-1;0<=s;s--)i[s]==e&&(i.splice(s,1),e.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var i,e=this.valueAxes;for(i=0;i<e.length;i++){var s=S.processObject(s=e[i],S.ValueAxis,this.theme);e[i]=s,s.chart=this,s.init(),this.listenTo(s,"axisIntZoomed",this.handleValueAxisZoom),s.id||(s.id="valueAxisAuto"+i+"_"+(new Date).getTime()),void 0===s.usePrefixes&&(s.usePrefixes=this.usePrefixes)}},processGuides:function(){var e=this.guides,i=this.categoryAxis;if(e)for(var s=0;s<e.length;s++){var c=e[s];(void 0!==c.category||void 0!==c.date)&&i&&i.addGuide(c),c.id||(c.id="guideAuto"+s+"_"+(new Date).getTime());var T=c.valueAxis;T?(S.isString(T)&&(T=this.getValueAxisById(T)),T?T.addGuide(c):this.valueAxes[0].addGuide(c)):isNaN(c.value)||this.valueAxes[0].addGuide(c)}},processGraphs:function(){var i,e=this.graphs;for(this.graphsById={},i=0;i<e.length;i++){var s=S.processObject(s=e[i],S.AmGraph,this.theme);e[i]=s,this.chooseGraphColor(s,i),s.chart=this,s.init(),S.isString(s.valueAxis)&&(s.valueAxis=this.getValueAxisById(s.valueAxis)),s.valueAxis||(s.valueAxis=this.valueAxes[0]),s.id||(s.id="graphAuto"+i+"_"+(new Date).getTime()),this.graphsById[s.id]=s}},formatString:function(e,i,s){var c=i.graph,T=c.valueAxis;if(T.duration&&T.maxInterval&&i.values.value){var M=T.numberFormatter;M||(M=chart.nf),T=S.formatDuration(i.values.value,T.duration,"",T.durationUnits,T.maxInterval,M),e=e.split("[[value]]").join(T)}return e=S.massReplace(e,{"[[title]]":c.title,"[[description]]":i.description}),e=s?S.fixNewLines(e):S.fixBrakes(e),S.cleanFromEmpty(e)},getBalloonColor:function(e,i,s){var c=e.lineColor,T=e.balloonColor;return s&&(T=c),"object"==typeof(s=e.fillColorsR)?c=s[0]:void 0!==s&&(c=s),i.isNegative&&(s=e.negativeLineColor,"object"==typeof(e=e.negativeFillColors)?s=e[0]:void 0!==e&&(s=e),void 0!==s&&(c=s)),void 0!==i.color&&(c=i.color),void 0!==i.lineColor&&(c=i.lineColor),void 0!==(i=i.fillColors)&&(c=i,S.ifArray(i)&&(c=i[0])),void 0===T&&(T=c),T},getGraphById:function(e){return S.getObjById(this.graphs,e)},getValueAxisById:function(e){return S.getObjById(this.valueAxes,e)},processFields:function(e,i,s){if(e.itemColors){var c=e.itemColors,T=i.index;i.color=T<c.length?c[T]:S.randomColor()}for(c="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),T=0;T<c.length;T++){var M=c[T],j=e[M+"Field"];j&&S.isDefined(j=s[j])&&(i[M]=j)}i.dataContext=s},chooseGraphColor:function(e,i){var s;e.lineColor?e.lineColorR=e.lineColor:(s=this.colors.length>i?this.colors[i]:e.lineColorR?e.lineColorR:S.randomColor(),e.lineColorR=s),e.fillColorsR=e.fillColors?e.fillColors:e.lineColorR,e.bulletBorderColorR=e.bulletBorderColor?e.bulletBorderColor:e.useLineColorForBulletBorder?e.lineColorR:e.bulletColor,e.bulletColorR=e.bulletColor?e.bulletColor:e.lineColorR,(s=this.patterns)&&(e.pattern=s[i])},handleLegendEvent:function(e){var i=e.type;if(e=e.dataItem){var s=e.hidden,c=e.showBalloon;switch(i){case"clickMarker":this.textClickEnabled&&(c?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":c?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":s||this.highlightGraph(e);break;case"rollOutItem":s||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var i=this.graphs;if(i){var s,c=.2;if(this.legend&&(c=this.legend.rollOverGraphAlpha),1!=c)for(s=0;s<i.length;s++){var T=i[s];T!=e&&T.changeOpacity(c)}}},unhighlightGraph:function(){var e,i;if(this.legend&&(e=this.legend.rollOverGraphAlpha),1!=e)for(e=this.graphs,i=0;i<e.length;i++)e[i].changeOpacity(1)},showGraph:function(e){e.switchable&&(e.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(e){e.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),e.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(e){e.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(e){e.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){this.animatable=[];var i,e=this.graphs;if(e)for(i=0;i<e.length;i++)e[i].animationPlayed=!1},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var S=window.AmCharts;S.TrendLine=S.Class({construct:function(e){this.cname="TrendLine",this.createEvents("click","rollOver","rollOut"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,S.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var c,T,M,j,i=e.chart,s=i.container,G=e.categoryAxis,Y=e.initialDate,z=e.initialCategory,F=e.finalDate,N=e.finalCategory,a=e.valueAxis,p=e.valueAxisX,l=e.initialXValue,d=e.finalXValue,_=e.initialValue,w=e.finalValue,x=a.recalculateToPercents,I=i.dataDateFormat;G&&(Y&&(Y=S.getDate(Y,I,"fff"),e.initialDate=Y,c=G.dateToCoordinate(Y)),z&&(c=G.categoryToCoordinate(z)),F&&(F=S.getDate(F,I,"fff"),e.finalDate=F,T=G.dateToCoordinate(F)),N&&(T=G.categoryToCoordinate(N))),p&&!x&&(isNaN(l)||(c=p.getCoordinate(l)),isNaN(d)||(T=p.getCoordinate(d))),a&&!x&&(isNaN(_)||(M=a.getCoordinate(_)),isNaN(w)||(j=a.getCoordinate(w))),isNaN(c)||isNaN(T)||isNaN(M)||isNaN(M)||(i.rotate?(G=[M,j],j=[c,T]):(G=[c,T],j=[M,j]),M=S.line(s,G,j,e.lineColor,e.lineAlpha,e.lineThickness,e.dashLength),c=G,T=j,0==(F=G[1]-G[0])&&(F=.01),0==(N=j[1]-j[0])&&(N=.01),Y=F/Math.abs(F),z=N/Math.abs(N),N=90*Math.PI/180-Math.asin(F/(F*N/Math.abs(F*N)*Math.sqrt(Math.pow(F,2)+Math.pow(N,2)))),F=Math.abs(5*Math.cos(N)),N=Math.abs(5*Math.sin(N)),c.push(G[1]-Y*N,G[0]-Y*N),T.push(j[1]+z*F,j[0]+z*F),j=S.polygon(s,c,T,"#ffffff",.005,0),(s=s.set([j,M])).translate(i.marginLeftReal,i.marginTopReal),i.trendLinesSet.push(s),S.setCN(i,M,"trend-line"),S.setCN(i,M,"trend-line-"+e.id),e.line=M,e.set=s,(M=e.initialImage)&&((M=S.processObject(M,S.Image,e.theme)).chart=i,M.draw(),M.translate(c[0]+M.offsetX,T[0]+M.offsetY),s.push(M.set)),(M=e.finalImage)&&((M=S.processObject(M,S.Image,e.theme)).chart=i,M.draw(),M.translate(c[1]+M.offsetX,T[1]+M.offsetY),s.push(M.set)),s.mouseup(function(){e.handleLineClick()}).mouseover(function(){e.handleLineOver()}).mouseout(function(){e.handleLineOut()}),s.touchend&&s.touchend(function(){e.handleLineClick()}),s.clipRect(0,0,i.plotAreaWidth,i.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var e=this.rollOverColor;void 0!==e&&this.line.attr({stroke:e}),this.balloonText&&(clearTimeout(this.chart.hoverInt),e=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+e.x+e.width/2,this.y+e.y+e.height/2)),this.fire({type:"rollOver",trendLine:this,chart:this.chart})},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon(),this.fire({type:"rollOut",trendLine:this,chart:this.chart})},destroy:function(){S.remove(this.set)}})}(),function(){var S=window.AmCharts;S.Image=S.Class({construct:function(e){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,S.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.set&&e.set.remove();var s,c,i=e.chart.container;e.set=i.set(),e.url?(s=i.image(e.url,0,0,e.width,e.height),c=1):e.svgPath&&((s=i.path(e.svgPath)).setAttr("fill",e.color),s.setAttr("stroke",e.outlineColor),i=s.getBBox(),c=Math.min(e.width/i.width,e.height/i.height)),s&&(s.setAttr("opacity",e.opacity),e.set.rotate(e.rotation),s.translate(-e.width/2,-e.height/2,c),e.balloonText&&s.mouseover(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}).mouseout(function(){e.chart.hideBalloon()}).touchend(function(){e.chart.hideBalloon()}).touchstart(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}),e.set.push(s))},translate:function(e,i){this.set&&this.set.translate(e,i)}})}(),function(){var S=window.AmCharts;S.circle=function(e,i,s,c,T,M,j,G,Y){return 0>=i&&(i=.001),(null==T||0===T)&&(T=.01),void 0===M&&(M="#000000"),void 0===j&&(j=0),c={fill:s,stroke:M,"fill-opacity":c,"stroke-width":T,"stroke-opacity":j},e=isNaN(Y)?e.circle(0,0,i).attr(c):e.ellipse(0,0,i,Y).attr(c),G&&e.gradient("radialGradient",[s,S.adjustLuminosity(s,-.6)]),e},S.text=function(e,i,s,c,T,M,j,G){return M||(M="middle"),"right"==M&&(M="end"),"left"==M&&(M="start"),isNaN(G)&&(G=1),void 0!==i&&(i=String(i),S.isIE&&!S.isModern&&(i=(i=i.replace("&amp;","&")).replace("&","&amp;"))),s={fill:s,"font-family":c,"font-size":T+"px",opacity:G},!0===j&&(s["font-weight"]="bold"),s["text-anchor"]=M,e.text(i,s)},S.polygon=function(e,i,s,c,T,M,j,G,Y,z,F){isNaN(M)&&(M=.01),isNaN(G)&&(G=T);var N=c,a=!1;for("object"==typeof N&&1<N.length&&(a=!0,N=N[0]),void 0===j&&(j=N),T={fill:N,stroke:j,"fill-opacity":T,"stroke-width":M,"stroke-opacity":G},void 0!==F&&0<F&&(T["stroke-dasharray"]=F),F=S.dx,M=S.dy,e.handDrawn&&(i=(s=S.makeHD(i,s,e.handDrawScatter))[0],s=s[1]),j=Math.round,z&&(j=Number),G="M"+(j(i[0])+F)+","+(j(s[0])+M),N=1;N<i.length;N++)z&&(i[N]=S.roundTo(i[N],5),s[N]=S.roundTo(s[N],5)),G+=" L"+(j(i[N])+F)+","+(j(s[N])+M);return e=e.path(G+" Z").attr(T),a&&e.gradient("linearGradient",c,Y),e},S.rect=function(e,i,s,c,T,M,j,G,Y,z,F){if(isNaN(i)||isNaN(s))return e.set();isNaN(M)&&(M=0),void 0===Y&&(Y=0),void 0===z&&(z=270),isNaN(T)&&(T=0);var N=c,a=!1;"object"==typeof N&&(N=N[0],a=!0),void 0===j&&(j=N),void 0===G&&(G=T),i=Math.round(i),s=Math.round(s);var p=0,l=0;return 0>i&&(p=-(i=Math.abs(i))),0>s&&(l=-(s=Math.abs(s))),p+=S.dx,l+=S.dy,T={fill:N,stroke:j,"fill-opacity":T,"stroke-opacity":G},void 0!==F&&0<F&&(T["stroke-dasharray"]=F),e=e.rect(p,l,i,s,Y,M).attr(T),a&&e.gradient("linearGradient",c,z),e},S.bullet=function(e,i,s,c,T,M,j,G,Y,z,F,N,a){var p;switch("circle"==i&&(i="round"),i){case"round":p=S.circle(e,s/2,c,T,M,j,G);break;case"square":p=S.polygon(e,[-s/2,s/2,s/2,-s/2],[s/2,s/2,-s/2,-s/2],c,T,M,j,G,z-180,void 0,a);break;case"rectangle":p=S.polygon(e,[-s,s,s,-s],[s/2,s/2,-s/2,-s/2],c,T,M,j,G,z-180,void 0,a);break;case"diamond":p=S.polygon(e,[-s/2,0,s/2,0],[0,-s/2,0,s/2],c,T,M,j,G);break;case"triangleUp":p=S.triangle(e,s,0,c,T,M,j,G);break;case"triangleDown":p=S.triangle(e,s,180,c,T,M,j,G);break;case"triangleLeft":p=S.triangle(e,s,270,c,T,M,j,G);break;case"triangleRight":p=S.triangle(e,s,90,c,T,M,j,G);break;case"bubble":p=S.circle(e,s/2,c,T,M,j,G,!0);break;case"line":p=S.line(e,[-s/2,s/2],[0,0],c,T,M,j,G);break;case"yError":(p=e.set()).push(S.line(e,[0,0],[-s/2,s/2],c,T,M)),p.push(S.line(e,[-Y,Y],[-s/2,-s/2],c,T,M)),p.push(S.line(e,[-Y,Y],[s/2,s/2],c,T,M));break;case"xError":(p=e.set()).push(S.line(e,[-s/2,s/2],[0,0],c,T,M)),p.push(S.line(e,[-s/2,-s/2],[-Y,Y],c,T,M)),p.push(S.line(e,[s/2,s/2],[-Y,Y],c,T,M))}return p&&p.pattern(F,NaN,N),p},S.triangle=function(e,i,s,c,T,M,j,G){var Y;return(void 0===M||0===M)&&(M=1),void 0===j&&(j="#000"),void 0===G&&(G=0),c={fill:c,stroke:j,"fill-opacity":T,"stroke-width":M,"stroke-opacity":G},i/=2,0===s&&(Y=" M"+-i+","+i+" L0,"+-i+" L"+i+","+i+" Z"),180==s&&(Y=" M"+-i+","+-i+" L0,"+i+" L"+i+","+-i+" Z"),90==s&&(Y=" M"+-i+","+-i+" L"+i+",0 L"+-i+","+i+" Z"),270==s&&(Y=" M"+-i+",0 L"+i+","+i+" L"+i+","+-i+" Z"),e.path(Y).attr(c)},S.line=function(e,i,s,c,T,M,j,G,Y,z,F){if(e.handDrawn&&!F)return S.handDrawnLine(e,i,s,c,T,M,j,G,Y,z,F);for(M={fill:"none","stroke-width":M},void 0!==j&&0<j&&(M["stroke-dasharray"]=j),isNaN(T)||(M["stroke-opacity"]=T),c&&(M.stroke=c),c=Math.round,z&&(c=Number,i[0]=S.roundTo(i[0],5),s[0]=S.roundTo(s[0],5)),z=S.dx,T=S.dy,j="M"+(c(i[0])+z)+","+(c(s[0])+T),G=1;G<i.length;G++)i[G]=S.roundTo(i[G],5),s[G]=S.roundTo(s[G],5),j+=" L"+(c(i[G])+z)+","+(c(s[G])+T);return S.VML?e.path(j,void 0,!0).attr(M):(Y&&(j+=" M0,0 L0,0"),e.path(j).attr(M))},S.makeHD=function(e,i,s){for(var c=[],T=[],M=1;M<e.length;M++)for(var j=Number(e[M-1]),G=Number(i[M-1]),z=Number(e[M]),F=Number(i[M]),Y=Math.round(Math.sqrt(Math.pow(z-j,2)+Math.pow(F-G,2))/50)+1,N=(z=(z-j)/Y,F=(F-G)/Y,0);N<=Y;N++){var a=G+N*F+Math.random()*s;c.push(j+N*z+Math.random()*s),T.push(a)}return[c,T]},S.handDrawnLine=function(e,i,s,c,T,M,j,G,Y,z){var F,N=e.set();for(F=1;F<i.length;F++)for(var a=(p=S.makeHD(a=[i[F-1],i[F]],p=[s[F-1],s[F]],e.handDrawScatter))[0],p=p[1],l=1;l<a.length;l++)N.push(S.line(e,[a[l-1],a[l]],[p[l-1],p[l]],c,T,M+Math.random()*e.handDrawThickness-e.handDrawThickness/2,j,G,Y,z,!0));return N},S.doNothing=function(e){return e},S.drop=function(e,i,s,c,T,M,j,G){var Y=.005555555555555556*Math.PI,z=s-20,F=Math.sin(z*Y)*i,N=Math.cos(z*Y)*i,l=.8*i,d=-i/3,_=i/3;return 0===s&&(d=-d,_=0),180==s&&(_=0),90==s&&(d=0),270==s&&(d=0,_=-_),s={fill:c,stroke:j,"stroke-width":M,"stroke-opacity":G,"fill-opacity":T},i="M"+F+","+N+" A"+i+","+i+",0,1,1,"+Math.sin((z+40)*Y)*i+","+Math.cos((z+40)*Y)*i+" A"+l+","+l+",0,0,0,"+(Math.sin((z+20)*Y)*i+_)+","+(Math.cos((z+20)*Y)*i+d),e.path(i+=" A"+l+","+l+",0,0,0,"+F+","+N,void 0,void 0,"1000,1000").attr(s)},S.wedge=function(e,i,s,c,T,M,j,G,Y,z,F,N,a,p){var l=Math.round;M=l(M),j=l(j),G=l(G);var d=l(j/M*G),_=S.VML;359.94<(w=359.5+M/100)&&(w=359.94),T>=w&&(T=w);var A,k,E=1/180*Math.PI,w=i+Math.sin(c*E)*G,x=s-Math.cos(c*E)*d,I=i+Math.sin(c*E)*M,h=s-Math.cos(c*E)*j,n=i+Math.sin((c+T)*E)*M,D=s-Math.cos((c+T)*E)*j,P=i+Math.sin((c+T)*E)*G,m=(E=s-Math.cos((c+T)*E)*d,{fill:S.adjustLuminosity(z.fill,-.2),"stroke-opacity":0,"fill-opacity":z["fill-opacity"]}),C=0;if(180<Math.abs(T)&&(C=1),c=e.set(),_&&(w=l(10*w),I=l(10*I),n=l(10*n),P=l(10*P),x=l(10*x),h=l(10*h),D=l(10*D),E=l(10*E),i=l(10*i),Y=l(10*Y),s=l(10*s),M*=10,j*=10,G*=10,d*=10,1>Math.abs(T)&&1>=Math.abs(n-I)&&1>=Math.abs(D-h)&&(A=!0)),T="",N&&(m["fill-opacity"]=0,m["stroke-opacity"]=z["stroke-opacity"]/2,m.stroke=z.stroke),0<Y){k=" M"+w+","+(x+Y)+" L"+I+","+(h+Y),_?(A||(k+=" A"+(i-M)+","+(Y+s-j)+","+(i+M)+","+(Y+s+j)+","+I+","+(h+Y)+","+n+","+(D+Y)),k+=" L"+P+","+(E+Y),0<G&&(A||(k+=" B"+(i-G)+","+(Y+s-d)+","+(i+G)+","+(Y+s+d)+","+P+","+(Y+E)+","+w+","+(Y+x)))):(k+=" A"+M+","+j+",0,"+C+",1,"+n+","+(D+Y)+" L"+P+","+(E+Y),0<G&&(k+=" A"+G+","+d+",0,"+C+",0,"+w+","+(x+Y))),k+=" Z";var f=Y;_&&(f/=10);for(var o=0;o<f;o+=10){var R=e.path(k,void 0,void 0,"1000,1000").attr(m);c.push(R),R.translate(0,-o)}k=e.path(" M"+w+","+x+" L"+w+","+(x+Y)+" L"+I+","+(h+Y)+" L"+I+","+h+" L"+w+","+x+" Z",void 0,void 0,"1000,1000").attr(m),Y=e.path(" M"+n+","+D+" L"+n+","+(D+Y)+" L"+P+","+(E+Y)+" L"+P+","+E+" L"+n+","+D+" Z",void 0,void 0,"1000,1000").attr(m),c.push(k),c.push(Y)}if(_?(A||(T=" A"+l(i-M)+","+l(s-j)+","+l(i+M)+","+l(s+j)+","+l(I)+","+l(h)+","+l(n)+","+l(D)),j=" M"+l(w)+","+l(x)+" L"+l(I)+","+l(h)+T+" L"+l(P)+","+l(E)):j=" M"+w+","+x+" L"+I+","+h+" A"+M+","+j+",0,"+C+",1,"+n+","+D+" L"+P+","+E,0<G&&(_?A||(j+=" B"+(i-G)+","+(s-d)+","+(i+G)+","+(s+d)+","+P+","+E+","+w+","+x):j+=" A"+G+","+d+",0,"+C+",0,"+w+","+x),e.handDrawn&&(G=S.line(e,[w,I],[x,h],z.stroke,z.thickness*Math.random()*e.handDrawThickness,z["stroke-opacity"]),c.push(G)),e=e.path(j+" Z",void 0,void 0,"1000,1000").attr(z),F){for(G=[],d=0;d<F.length;d++)G.push(S.adjustLuminosity(z.fill,F[d]));"radial"!=p||S.isModern||(G=[]),0<G.length&&e.gradient(p+"Gradient",G)}return S.isModern&&"radial"==p&&e.grad&&(e.grad.setAttribute("gradientUnits","userSpaceOnUse"),e.grad.setAttribute("r",M),e.grad.setAttribute("cx",i),e.grad.setAttribute("cy",s)),e.pattern(N,NaN,a),c.wedge=e,c.push(e),c},S.rgb2hex=function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},S.adjustLuminosity=function(e,i){e&&-1!=e.indexOf("rgb")&&(e=S.rgb2hex(e)),6>(e=String(e).replace(/[^0-9a-f]/gi,"")).length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])),i=i||0;var c,T,s="#";for(T=0;3>T;T++)c=parseInt(e.substr(2*T,2),16),s+=("00"+(c=Math.round(Math.min(Math.max(0,c+c*i),255)).toString(16))).substr(c.length);return s}}(),function(){var S=window.AmCharts;S.Bezier=S.Class({construct:function(e,i,s,c,T,M,j,G,Y,z,F){var l,d,N=e.chart,a=S.bezierX,p=S.bezierY;for(isNaN(N.bezierX)||(a=N.bezierX),isNaN(N.bezierY)||(p=N.bezierY),isNaN(a)&&(N.rotate?(a=20,p=4):(p=20,a=4)),"object"==typeof j&&1<j.length&&(d=!0,l=j,j=j[0]),"object"==typeof G&&(G=G[0]),0===G&&(j="none"),M={fill:j,"fill-opacity":G,"stroke-width":M},void 0!==Y&&0<Y&&(M["stroke-dasharray"]=Y),isNaN(T)||(M["stroke-opacity"]=T),c&&(M.stroke=c),c="M"+Math.round(i[0])+","+Math.round(s[0])+" ",T=[],Y=0;Y<i.length;Y++)isNaN(i[Y])||isNaN(s[Y])?(c+=this.drawSegment(T,a,p),Y<i.length-1&&(c+="L"+i[Y+1]+","+s[Y+1]+" "),T=[]):T.push({x:Number(i[Y]),y:Number(s[Y])});c+=this.drawSegment(T,a,p),z&&(c+=z),this.path=e.path(c).attr(M),this.node=this.path.node,d&&this.path.gradient("linearGradient",l,F)},drawSegment:function(e,i,s){var c="";if(2<e.length)for(var T=0;T<e.length-1;T++){var M=[],j=e[T-1],G=e[T],Y=e[T+1],z=e[T+2];0===T?(M.push({x:G.x,y:G.y}),M.push({x:G.x,y:G.y}),M.push({x:Y.x,y:Y.y}),M.push({x:z.x,y:z.y})):T>=e.length-2?(M.push({x:j.x,y:j.y}),M.push({x:G.x,y:G.y}),M.push({x:Y.x,y:Y.y}),M.push({x:Y.x,y:Y.y})):(M.push({x:j.x,y:j.y}),M.push({x:G.x,y:G.y}),M.push({x:Y.x,y:Y.y}),M.push({x:z.x,y:z.y})),j=[],G=Math.round,j.push({x:G(M[1].x),y:G(M[1].y)}),j.push({x:G((i*M[1].x-M[0].x+M[2].x)/i),y:G((s*M[1].y-M[0].y+M[2].y)/s)}),j.push({x:G((M[1].x+i*M[2].x-M[3].x)/i),y:G((M[1].y+s*M[2].y-M[3].y)/s)}),j.push({x:G(M[2].x),y:G(M[2].y)}),c+="C"+j[1].x+","+j[1].y+","+j[2].x+","+j[2].y+","+j[3].x+","+j[3].y+" "}else 1<e.length&&(c+="L"+e[1].x+","+e[1].y);return c}})}(),function(){var S=window.AmCharts;S.AmDraw=S.Class({construct:function(e,i,s,c){S.SVG_NS="http://www.w3.org/2000/svg",S.SVG_XLINK="http://www.w3.org/1999/xlink",S.hasSVG=!!document.createElementNS&&!!document.createElementNS(S.SVG_NS,"svg").createSVGRect,1>i&&(i=10),1>s&&(s=10),this.div=e,this.width=i,this.height=s,this.rBin=document.createElement("div"),S.hasSVG?(S.SVG=!0,i=this.createSvgElement("svg"),e.appendChild(i),this.container=i,this.addDefs(c),this.R=new S.SVGRenderer(this)):S.isIE&&S.VMLRenderer&&(S.VML=!0,S.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?((i=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),S.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new S.VMLRenderer(this,c),this.R.disableSelection(e))},createSvgElement:function(e){return document.createElementNS(S.SVG_NS,e)},circle:function(e,i,s,c){var T=new S.AmDObject("circle",this);return T.attr({r:s,cx:e,cy:i}),this.addToContainer(T.node,c),T},ellipse:function(e,i,s,c,T){var M=new S.AmDObject("ellipse",this);return M.attr({rx:s,ry:c,cx:e,cy:i}),this.addToContainer(M.node,T),M},setSize:function(e,i){0<e&&0<i&&(this.container.style.width=e+"px",this.container.style.height=i+"px")},rect:function(e,i,s,c,T,M,j){var G=new S.AmDObject("rect",this);return S.VML&&(T=Math.round(100*T/Math.min(s,c)),s+=2*M,c+=2*M,G.bw=M,G.node.style.marginLeft=-M,G.node.style.marginTop=-M),1>s&&(s=1),1>c&&(c=1),G.attr({x:e,y:i,width:s,height:c,rx:T,ry:T,"stroke-width":M}),this.addToContainer(G.node,j),G},image:function(e,i,s,c,T,M){var j=new S.AmDObject("image",this);return j.attr({x:i,y:s,width:c,height:T}),this.R.path(j,e),this.addToContainer(j.node,M),j},addToContainer:function(e,i){i||(i=this.container),i.appendChild(e)},text:function(e,i,s){return this.R.text(e,i,s)},path:function(e,i,s,c){var T=new S.AmDObject("path",this);return c||(c="100,100"),T.attr({cs:c}),T.attr(s?{dd:e}:{d:e}),this.addToContainer(T.node,i),T},set:function(e){return this.R.set(e)},remove:function(e){if(e){var i=this.rBin;i.appendChild(e),i.innerHTML=""}},renderFix:function(){var e=this.container,i=e.style;i.top="0px",i.left="0px";try{var s=e.getBoundingClientRect(),c=s.left-Math.round(s.left),T=s.top-Math.round(s.top);c&&(i.left=c+"px"),T&&(i.top=T+"px")}catch{}},update:function(){this.R.update()},addDefs:function(e){if(S.hasSVG){var i=this.createSvgElement("desc"),s=this.container;if(s.setAttribute("version","1.1"),s.style.position="absolute",this.setSize(this.width,this.height),e.accessibleTitle){var c=this.createSvgElement("text");s.appendChild(c),c.innerHTML=e.accessibleTitle,c.style.opacity=0}S.rtl&&(s.setAttribute("direction","rtl"),s.style.left="auto",s.style.right="0px"),e&&(e.addCodeCredits&&i.appendChild(document.createTextNode("JavaScript chart by amCharts "+e.version)),e.accessibleDescription&&(i.innerHTML="",i.appendChild(document.createTextNode(e.accessibleDescription))),s.appendChild(i),e.defs&&(i=this.createSvgElement("defs"),s.appendChild(i),S.parseDefs(e.defs,i),this.defs=i))}}})}(),function(){var S=window.AmCharts;S.AmDObject=S.Class({construct:function(e,i){this.D=i,this.R=i.R,this.node=this.R.create(this,e),this.y=this.x=0,this.scale=1},attr:function(e){return this.R.attr(this,e),this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,i){return this.R.setAttr(this,e,i),this},clipRect:function(e,i,s,c){this.R.clipRect(this,e,i,s,c)},translate:function(e,i,s,c){c||(e=Math.round(e),i=Math.round(i)),this.R.move(this,e,i,s),this.x=e,this.y=i,this.scale=s,this.angle&&this.rotate(this.angle)},rotate:function(e,i){this.R.rotate(this,e,i),this.angle=e},animate:function(e,i,s){for(var c in e)if(e.hasOwnProperty(c)){var T=c,M=e[c];s=S.getEffect(s),this.R.animate(this,T,M,i,s)}},push:function(e){if(e){var i=this.node;i.appendChild(e.node);var s=e.clipPath;s&&i.appendChild(s),(e=e.grad)&&i.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var i=e.parentNode;i&&i.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var i=e.parentNode;if(i){var s=i.firstChild;s&&i.insertBefore(e,s)}}},mouseover:function(e){return this.R.addListener(this,"mouseover",e),this},mouseout:function(e){return this.R.addListener(this,"mouseout",e),this},click:function(e){return this.R.addListener(this,"click",e),this},dblclick:function(e){return this.R.addListener(this,"dblclick",e),this},mousedown:function(e){return this.R.addListener(this,"mousedown",e),this},mouseup:function(e){return this.R.addListener(this,"mouseup",e),this},touchmove:function(e){return this.R.addListener(this,"touchmove",e),this},touchstart:function(e){return this.R.addListener(this,"touchstart",e),this},touchend:function(e){return this.R.addListener(this,"touchend",e),this},keyup:function(e){return this.R.addListener(this,"keyup",e),this},focus:function(e){return this.R.addListener(this,"focus",e),this},blur:function(e){return this.R.addListener(this,"blur",e),this},contextmenu:function(e){return this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e),this},stop:function(){S.removeFromArray(this.R.animations,this.an_translate),S.removeFromArray(this.R.animations,this.an_y),S.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(e,i,s){this.R.gradient(this,e,i,s)},pattern:function(e,i,s){e&&this.R.pattern(this,e,i,s)}})}(),function(){var S=window.AmCharts;S.VMLRenderer=S.Class({construct:function(e,i){this.chart=i,this.D=e,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,i){var s;if("group"==i)s=document.createElement("div"),e.type="div";else if("text"==i)s=document.createElement("div"),e.type="text";else if("image"==i)s=document.createElement("img"),e.type="image";else{e.type="shape",e.shapeType=this.cNames[i],s=document.createElement("amvml:"+this.cNames[i]);var c=document.createElement("amvml:stroke");s.appendChild(c),e.stroke=c;var T=document.createElement("amvml:fill");s.appendChild(T),e.fill=T,T.className="amvml",c.className="amvml",s.className="amvml"}return s.style.position="absolute",s.style.top=0,s.style.left=0,s},path:function(e,i){e.node.setAttribute("src",i)},setAttr:function(e,i,s){if(void 0!==s){var c;8===document.documentMode&&(c=!0);var T=e.node,M=e.type,j=T.style;"r"==i&&(j.width=2*s,j.height=2*s),"oval"==e.shapeType&&("rx"==i&&(j.width=2*s),"ry"==i&&(j.height=2*s)),"roundrect"==e.shapeType&&("width"!=i&&"height"!=i||--s),"cursor"==i&&(j.cursor=s),"cx"==i&&(j.left=s-S.removePx(j.width)/2),"cy"==i&&(j.top=s-S.removePx(j.height)/2);var G=this.styleMap[i];if("width"==G&&0>s&&(s=0),void 0!==G&&(j[G]=s),"text"==M&&("text-anchor"==i&&(e.anchor=s,G=T.clientWidth,"end"==s&&(j.marginLeft=-G+"px"),"middle"==s&&(j.marginLeft=-G/2+"px",j.textAlign="center"),"start"==s&&(j.marginLeft="0px")),"fill"==i&&(j.color=s),"font-weight"==i&&(j.fontWeight=s)),j=e.children)for(G=0;G<j.length;G++)j[G].setAttr(i,s);"shape"==M&&("cs"==i&&(T.style.width="100px",T.style.height="100px",T.setAttribute("coordsize",s)),"d"==i&&T.setAttribute("path",this.svgPathToVml(s)),"dd"==i&&T.setAttribute("path",s),M=e.stroke,e=e.fill,"stroke"==i&&(c?M.color=s:M.setAttribute("color",s)),"stroke-width"==i&&(c?M.weight=s:M.setAttribute("weight",s)),"stroke-opacity"==i&&(c?M.opacity=s:M.setAttribute("opacity",s)),"stroke-dasharray"==i&&(j="solid",0<s&&3>s&&(j="dot"),3<=s&&6>=s&&(j="dash"),6<s&&(j="longdash"),c?M.dashstyle=j:M.setAttribute("dashstyle",j)),("fill-opacity"==i||"opacity"==i)&&(0===s?c?e.on=!1:e.setAttribute("on",!1):c?e.opacity=s:e.setAttribute("opacity",s)),"fill"==i&&(c?e.color=s:e.setAttribute("color",s)),"rx"==i&&(c?T.arcSize=s+"%":T.setAttribute("arcsize",s+"%")))}},attr:function(e,i){for(var s in i)i.hasOwnProperty(s)&&this.setAttr(e,s,i[s])},text:function(e,i,s){var c=new S.AmDObject("text",this.D),T=c.node;return T.style.whiteSpace="pre",T.innerHTML=e,this.D.addToContainer(T,s),this.attr(c,i),c},getBBox:function(e){return this.getBox(e.node)},getBox:function(e){var M,i=e.offsetLeft,s=e.offsetTop,c=e.offsetWidth,T=e.offsetHeight;if(e.hasChildNodes()){var j,G,Y;for(Y=0;Y<e.childNodes.length;Y++){var z=(M=this.getBox(e.childNodes[Y])).x;isNaN(z)||(isNaN(j)||z<j)&&(j=z);var F=M.y;isNaN(F)||(isNaN(G)||F<G)&&(G=F),z=M.width+z,isNaN(z)||(c=Math.max(c,z)),M=M.height+F,isNaN(M)||(T=Math.max(T,M))}0>j&&(i+=j),0>G&&(s+=G)}return{x:i,y:s,width:c,height:T}},setText:function(e,i){var s=e.node;s&&(s.innerHTML=i),this.setAttr(e,"text-anchor",e.anchor)},addListener:function(e,i,s){e.node["on"+i]=s},move:function(e,i,s){var c=e.node,T=c.style;"text"==e.type&&(s-=S.removePx(T.fontSize)/2-1),"oval"==e.shapeType&&(i-=S.removePx(T.width)/2,s-=S.removePx(T.height)/2),e=e.bw,isNaN(e)||(i-=e,s-=e),isNaN(i)||isNaN(s)||(c.style.left=i+"px",c.style.top=s+"px")},svgPathToVml:function(e){var i=e.split(" ");e="";var s,T,c=Math.round;for(T=0;T<i.length;T++){var j,M=(j=i[T]).substring(0,1),G=(j=j.substring(1)).split(","),Y=c(G[0])+","+c(G[1]);if("M"==M&&(e+=" m "+Y),"L"==M&&(e+=" l "+Y),"Z"==M&&(e+=" x e"),"Q"==M){var z=s.length,F=s[z-1],N=G[0],a=G[1],p=(Y=G[2],G[3]);e+=" c "+(s=c(s[z-2]/3+2/3*N))+","+(F=c(F/3+2/3*a))+","+(N=c(2/3*N+Y/3))+","+(a=c(2/3*a+p/3))+","+Y+","+p}"C"==M&&(e+=" c "+G[0]+","+G[1]+","+G[2]+","+G[3]+","+G[4]+","+G[5]),"A"==M&&(e+=" wa "+j),"B"==M&&(e+=" at "+j),s=G}return e},animate:function(e,i,s,c,T){var M=e.node,j=this.chart;if(e.animationFinished=!1,"translate"==i){i=s.split(","),s=i[1];var G=M.offsetTop;j.animate(e,"left",M.offsetLeft,i[0],c,T,"px"),j.animate(e,"top",G,s,c,T,"px")}},clipRect:function(e,i,s,c,T){e=e.node,0===i&&0===s?(e.style.width=c+"px",e.style.height=T+"px",e.style.overflow="hidden"):e.style.clip="rect("+s+"px "+(i+c)+"px "+(s+T)+"px "+i+"px)"},rotate:function(e,i,s){if(0!==Number(i)){e=(Y=e.node).style,s||(s=this.getBGColor(Y.parentNode)),e.backgroundColor=s,e.paddingLeft=1,s=i*Math.PI/180;var c=Math.cos(s),T=Math.sin(s),M=S.removePx(e.left),j=S.removePx(e.top),G=Y.offsetWidth,Y=Y.offsetHeight;i/=Math.abs(i),e.left=M+G/2-G/2*Math.cos(s)-i*Y/2*Math.sin(s)+3,e.top=j-i*G/2*Math.sin(s)+i*Y/2*Math.sin(s),e.cssText=e.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+c+"', M12='"+-T+"', M21='"+T+"', M22='"+c+"', sizingmethod='auto expand');"}},getBGColor:function(e){var i="#FFFFFF";if(e.style){var s=e.style.backgroundColor;""!==s?i=s:e.parentNode&&(i=this.getBGColor(e.parentNode))}return i},set:function(e){var s,i=new S.AmDObject("group",this.D);if(this.D.container.appendChild(i.node),e)for(s=0;s<e.length;s++)i.push(e[s]);return i},gradient:function(e,i,s,c){var M,T="";for("radialGradient"==i&&(i="gradientradial",s.reverse()),"linearGradient"==i&&(i="gradient"),M=0;M<s.length;M++)T+=Math.round(100*M/(s.length-1))+"% "+s[M],M<s.length-1&&(T+=",");e=e.fill,90==c?c=0:270==c?c=180:180==c?c=90:0===c&&(c=270),8===document.documentMode?(e.type=i,e.angle=c):(e.setAttribute("type",i),e.setAttribute("angle",c)),T&&(e.colors.value=T)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),this.D.remove(e.node)},disableSelection:function(e){e.onselectstart=function(){return!1},e.style.cursor="default"},pattern:function(e,i,s,c){s=e.node,e=e.fill;var T="none";i.color&&(T=i.color),s.fillColor=T,S.isAbsolute(i=i.url)||(i=c+i),8===document.documentMode?(e.type="tile",e.src=i):(e.setAttribute("type","tile"),e.setAttribute("src",i))},update:function(){}})}(),function(){var S=window.AmCharts;S.SVGRenderer=S.Class({construct:function(e){this.D=e,this.animations=[]},create:function(e,i){return document.createElementNS(S.SVG_NS,i)},attr:function(e,i){for(var s in i)i.hasOwnProperty(s)&&this.setAttr(e,s,i[s])},setAttr:function(e,i,s){void 0!==s&&e.node.setAttribute(i,s)},animate:function(e,i,s,c,T){e.animationFinished=!1;var M=e.node;e["an_"+i]&&S.removeFromArray(this.animations,e["an_"+i]),"translate"==i?0===(M=(M=(M=(M=M.getAttribute("transform"))?String(M).substring(10,M.length-1):"0,0").split(", ").join(" ")).split(" ").join(","))&&(M="0,0"):M=Number(M.getAttribute(i)),this.animations.push(s={obj:e,frame:0,attribute:i,from:M,to:s,time:c,effect:T}),e["an_"+i]=s},update:function(){var e,i=this.animations;for(e=i.length-1;0<=e;e--){var G,Y,z,s=i[e],c=s.time*S.updateRate,T=s.frame+1,M=s.obj,j=s.attribute;if(T<=c){if(s.frame++,"translate"==j){if(G=s.from.split(","),j=Number(G[0]),G=Number(G[1]),isNaN(G)&&(G=0),Y=s.to.split(","),z=Number(Y[0]),Y=Number(Y[1]),z=z-j==0?z:Math.round(S[s.effect](0,T,j,z-j,c)),s=Y-G==0?Y:Math.round(S[s.effect](0,T,G,Y-G,c)),j="transform",isNaN(z)||isNaN(s))continue;s="translate("+z+","+s+")"}else Y=Number(s.from),G=Number(s.to),s=S[s.effect](0,T,Y,z=G-Y,c),isNaN(s)&&(s=G),0===z&&this.animations.splice(e,1);this.setAttr(M,j,s)}else"translate"==j?(Y=s.to.split(","),z=Number(Y[0]),Y=Number(Y[1]),M.translate(z,Y)):(G=Number(s.to),this.setAttr(M,j,G)),M.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch{}return{width:0,height:0,x:0,y:0}},path:function(e,i){e.node.setAttributeNS(S.SVG_XLINK,"xlink:href",i)},clipRect:function(e,i,s,c,T){var M=e.node,j=e.clipPath;j&&this.D.remove(j);var G=M.parentNode;G&&(M=document.createElementNS(S.SVG_NS,"clipPath"),j=S.getUniqueId(),M.setAttribute("id",j),this.D.rect(i,s,c,T,0,0,M),G.appendChild(M),i="#",S.baseHref&&!S.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(e,"clip-path","url("+i+j+")"),this.clipPathC++,e.clipPath=M)},text:function(e,i,s){var c=new S.AmDObject("text",this.D);e=String(e).split("\n");var M,T=S.removePx(i["font-size"]);for(M=0;M<e.length;M++){var j=this.create(null,"tspan");j.appendChild(document.createTextNode(e[M])),j.setAttribute("y",(T+2)*M+Math.round(T/2)),j.setAttribute("x",0),c.node.appendChild(j)}return c.node.setAttribute("y",Math.round(T/2)),this.attr(c,i),this.D.addToContainer(c.node,s),c},setText:function(e,i){var s=e.node;s&&(s.removeChild(s.firstChild),s.appendChild(document.createTextNode(i)))},move:function(e,i,s,c){isNaN(i)&&(i=0),isNaN(s)&&(s=0),i="translate("+i+","+s+")",c&&(i=i+" scale("+c+")"),this.setAttr(e,"transform",i)},rotate:function(e,i){var s=e.node.getAttribute("transform"),c="rotate("+i+")";s&&(c=s+" "+c),this.setAttr(e,"transform",c)},set:function(e){var s,i=new S.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),e)for(s=0;s<e.length;s++)i.push(e[s]);return i},addListener:function(e,i,s){e.node["on"+i]=s},gradient:function(e,i,s,c){var T=e.node,M=e.grad;if(M&&this.D.remove(M),i=document.createElementNS(S.SVG_NS,i),M=S.getUniqueId(),i.setAttribute("id",M),!isNaN(c)){var j=0,G=0,Y=0,z=0;90==c?Y=100:270==c?z=100:180==c?j=100:0===c&&(G=100),i.setAttribute("x1",j+"%"),i.setAttribute("x2",G+"%"),i.setAttribute("y1",Y+"%"),i.setAttribute("y2",z+"%")}for(c=0;c<s.length;c++)j=document.createElementNS(S.SVG_NS,"stop"),G=100*c/(s.length-1),0===c&&(G=0),j.setAttribute("offset",G+"%"),j.setAttribute("stop-color",s[c]),i.appendChild(j);T.parentNode.appendChild(i),s="#",S.baseHref&&!S.isIE&&(s=this.removeTarget(window.location.href)+s),T.setAttribute("fill","url("+s+M+")"),e.grad=i},removeTarget:function(e){return e.split("#")[0]},pattern:function(e,i,s,c){var T=e.node;isNaN(s)&&(s=1),(M=e.patternNode)&&this.D.remove(M);var M=document.createElementNS(S.SVG_NS,"pattern"),j=S.getUniqueId(),G=i;i.url&&(G=i.url),S.isAbsolute(G)||-1!=G.indexOf("data:image")||(G=c+G),c=Number(i.width),isNaN(c)&&(c=4);var Y=Number(i.height);isNaN(Y)&&(Y=4),c/=s,Y/=s,s=i.x,isNaN(s)&&(s=0);var z=-Math.random()*Number(i.randomX);isNaN(z)||(s=z),z=i.y,isNaN(z)&&(z=0);var F=-Math.random()*Number(i.randomY);isNaN(F)||(z=F),M.setAttribute("id",j),M.setAttribute("width",c),M.setAttribute("height",Y),M.setAttribute("patternUnits","userSpaceOnUse"),M.setAttribute("xlink:href",G),i.color&&((F=document.createElementNS(S.SVG_NS,"rect")).setAttributeNS(null,"height",c),F.setAttributeNS(null,"width",Y),F.setAttributeNS(null,"fill",i.color),M.appendChild(F)),this.D.image(G,0,0,c,Y,M).translate(s,z),G="#",S.baseHref&&!S.isIE&&(G=this.removeTarget(window.location.href)+G),T.setAttribute("fill","url("+G+j+")"),e.patternNode=M,T.parentNode.appendChild(M)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),e.grad&&this.D.remove(e.grad),e.patternNode&&this.D.remove(e.patternNode),this.D.remove(e.node)}})}(),function(){var S=window.AmCharts;S.AmLegend=S.Class({construct:function(e){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,S.applyTheme(this,e,this.cname)},setData:function(e){this.legendData=e,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[],this.enabled&&(S.ifArray(this.legendData)||S.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var e=this.chart,i=this.position,s=this.width,c=e.divRealWidth,T=e.divRealHeight,M=this.div,j=this.legendData;if(this.data&&(j=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=e.fontSize),this.maxColumnsReal=this.maxColumns,"right"==i||"left"==i)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=e.marginRight,this.marginLeft=e.marginLeft;var G=e.autoMarginOffset;"bottom"==i?(this.marginBottom=G,this.marginTop=0):(this.marginTop=G,this.marginBottom=0)}if(s=void 0!==s?S.toCoordinate(s,c):"right"!=i&&"left"!=i?e.realWidth:0<this.ieW?this.ieW:e.realWidth,"outside"==i?(s=M.offsetWidth,T=M.offsetHeight,M.clientHeight&&(s=M.clientWidth,T=M.clientHeight)):(isNaN(s)||(M.style.width=s+"px"),M.className="amChartsLegend "+e.classNamePrefix+"-legend-div"),this.divWidth=s,(i=this.container)?(i.container.innerHTML="",M.appendChild(i.container),i.width=s,i.height=T,i.setSize(s,T),i.addDefs(e)):i=new S.AmDraw(M,s,T,e),this.container=i,this.lx=0,this.ly=8,(T=this.markerSize)>this.fontSize&&(this.ly=T/2-1),0<T&&(this.lx+=T+this.markerLabelGap),this.titleWidth=0,(T=this.title)&&(T=S.text(this.container,T,this.color,e.fontFamily,this.fontSize,"start",!0),S.setCN(e,T,"legend-title"),T.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),e=T.getBBox(),this.titleWidth=e.width+15,this.titleHeight=e.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(e=0;e<j.length;e++)this.createEntry(j[e]);for(e=this.index=0;e<j.length;e++)this.createValue(j[e])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var e=this.position,i=this.marginLeft+this.titleWidth,s=this.marginRight,c=this.marginTop,T=this.marginBottom,M=this.horizontalGap,j=this.div,G=this.divWidth,Y=this.maxColumnsReal,z=this.verticalGap,F=this.spacing,N=G-s-i,a=0,p=0,l=this.container;this.set&&this.set.remove();var d=l.set();this.set=d;var _=l.set();d.push(_);var x,I,w=this.entries;for(I=0;I<w.length;I++)(h=(x=w[I].getBBox()).width)>a&&(a=h),(x=x.height)>p&&(p=x);var h=p=0,n=M,D=0,P=0;for(I=0;I<w.length;I++){var m,E=w[I];this.reversedOrder&&(E=w[w.length-I-1]),x=E.getBBox(),this.equalWidths?m=h*(a+F+this.markerLabelGap):(m=n,n=n+x.width+M+F),m+x.width>N&&0<I&&0!==h&&(p++,n=(m=h=0)+x.width+M+F,D=D+P+z,P=0),x.height>P&&(P=x.height),E.translate(m,D),h++,!isNaN(Y)&&h>=Y&&(h=0,p++,D=D+P+z,n=M,P=0),_.push(E)}Y=(x=_.getBBox()).height+2*z-1,"left"==e||"right"==e?(j.style.width=(G=(F=x.width+2*M)+i+s)+"px",this.ieW=G):F=G-i-s-1,s=S.polygon(this.container,[0,F,F,0],[0,0,Y,Y],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),S.setCN(this.chart,s,"legend-bg"),d.push(s),d.translate(i,c),s.toBack(),i=M,("top"==e||"bottom"==e||"absolute"==e||"outside"==e)&&("center"==this.align?i=M+(F-x.width)/2:"right"==this.align&&(i=M+F-x.width)),_.translate(i,z+1),this.titleHeight>Y&&(Y=this.titleHeight),0>(c=Y+c+T+1)&&(c=0),"absolute"!=e&&"outside"!=e&&c>this.chart.divRealHeight&&(j.style.top="0px"),j.style.height=Math.round(c)+"px",l.setSize(this.divWidth,c)},createEntry:function(e){if(!1!==e.visibleInLegend&&!e.hideFromLegend){var i=this,s=i.chart,c=i.useGraphSettings,T=e.markerType;T&&(c=!1),e.legendEntryWidth=i.markerSize,T||(T=i.markerType);var G,M=e.color,j=e.alpha;e.legendKeyColor&&(M=e.legendKeyColor()),e.legendKeyAlpha&&(j=e.legendKeyAlpha()),!0===e.hidden&&(G=M=i.markerDisabledColor);var z,Y=e.pattern,F=e.customMarker;F||(F=i.customMarker);var w,x,N=i.container,a=i.markerSize,p=0,l=0,d=a/2;if(c)c=e.type,i.switchType=void 0,"line"==c||"step"==c||"smoothedLine"==c||"ohlc"==c?(z=N.set(),e.hidden||(M=e.lineColorR,G=e.bulletBorderColorR),p=S.line(N,[0,2*a],[a/2,a/2],M,e.lineAlpha,e.lineThickness,e.dashLength),S.setCN(s,p,"graph-stroke"),z.push(p),e.bullet&&(e.hidden||(M=e.bulletColorR),p=S.bullet(N,e.bullet,e.bulletSize,M,e.bulletAlpha,e.bulletBorderThickness,G,e.bulletBorderAlpha))&&(S.setCN(s,p,"graph-bullet"),p.translate(a+1,a/2),z.push(p)),d=0,p=a,l=a/3):(e.getGradRotation&&0===(z=e.getGradRotation())&&(z=180),p=e.fillColorsR,!0===e.hidden&&(p=M),(z=i.createMarker("rectangle",p,e.fillAlphas,e.lineThickness,M,e.lineAlpha,z,Y,e.dashLength))&&z.translate(d=a,a/2),p=a),S.setCN(s,z,"graph-"+c),S.setCN(s,z,"graph-"+e.id);else if(F)z=N.image(F,0,0,a,a);else{var _;isNaN(i.gradientRotation)||(_=180+i.gradientRotation),(z=i.createMarker(T,M,j,void 0,void 0,void 0,_,Y))&&z.translate(a/2,a/2)}S.setCN(s,z,"legend-marker"),i.addListeners(z,e),N=N.set([z]),i.switchable&&e.switchable&&N.setAttr("cursor","pointer"),void 0!==e.id&&S.setCN(s,N,"legend-item-"+e.id),S.setCN(s,N,e.className,!0),(G=i.switchType)&&"none"!=G&&0<a&&("x"==G?(w=i.createX()).translate(a/2,a/2):w=i.createV(),w.dItem=e,!0!==e.hidden?"x"==G?w.hide():w.show():"x"!=G&&w.hide(),i.switchable||w.hide(),i.addListeners(w,e),e.legendSwitch=w,N.push(w),S.setCN(s,w,"legend-switch")),G=i.color,e.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(G=i.selectedColor),i.useMarkerColorForLabels&&!Y&&(G=M),!0===e.hidden&&(G=i.markerDisabledColor),M=S.massReplace(i.labelText,{"[[title]]":e.title}),void 0!==i.tabIndex&&(N.setAttr("tabindex",i.tabIndex),N.setAttr("role","menuitem"),N.keyup(function(I){13==I.keyCode&&i.clickMarker(e,I)})),s.accessible&&i.accessibleLabel&&(Y=S.massReplace(i.accessibleLabel,{"[[title]]":e.title}),s.makeAccessible(N,Y)),Y=i.fontSize,z&&(a<=Y&&(z.translate(d,a=a/2+i.ly-Y/2+(Y+2-a)/2-l),w&&w.translate(w.x,a)),e.legendEntryWidth=z.getBBox().width),M&&(M=S.fixBrakes(M),e.legendTextReal=M,x=i.labelWidth,x=isNaN(x)?S.text(i.container,M,G,s.fontFamily,Y,"start"):S.wrappedText(i.container,M,G,s.fontFamily,Y,"start",!1,x,0),S.setCN(s,x,"legend-label"),x.translate(i.lx+p,i.ly),N.push(x),i.labelDx=p,s=x.getBBox().width,i.maxLabelWidth<s&&(i.maxLabelWidth=s)),i.entries[i.index]=N,e.legendEntry=i.entries[i.index],e.legendMarker=z,e.legendLabel=x,i.index++}},addListeners:function(e,i){var s=this;e&&e.mouseover(function(c){s.rollOverMarker(i,c)}).mouseout(function(c){s.rollOutMarker(i,c)}).click(function(c){s.clickMarker(i,c)})},rollOverMarker:function(e,i){this.switchable&&this.dispatch("rollOverMarker",e,i),this.dispatch("rollOverItem",e,i)},rollOutMarker:function(e,i){this.switchable&&this.dispatch("rollOutMarker",e,i),this.dispatch("rollOutItem",e,i)},clickMarker:function(e,i){this.switchable&&this.dispatch(!0===e.hidden?"showItem":"hideItem",e,i),this.dispatch("clickMarker",e,i)},rollOverLabel:function(e,i){e.hidden||this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,i)},rollOutLabel:function(e,i){if(!e.hidden&&this.textClickEnabled&&e.legendLabel){var s=this.color;void 0!==this.selectedColor&&e.showBalloon&&(s=this.selectedColor),this.useMarkerColorForLabels&&void 0===(s=e.lineColor)&&(s=e.color),e.legendLabel.attr({fill:s})}this.dispatch("rollOutItem",e,i)},clickLabel:function(e,i){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,i):this.switchable&&this.dispatch(!0===e.hidden?"showItem":"hideItem",e,i)},dispatch:function(e,i,s){e={type:e,dataItem:i,target:this,event:s,chart:this.chart},this.chart&&this.chart.handleLegendEvent(e),this.fire(e)},createValue:function(e){var i=this,s=i.fontSize,c=i.chart;if(!1!==e.visibleInLegend&&!e.hideFromLegend){var T=i.maxLabelWidth,M=0;i.forceWidth&&(T=i.labelWidth),i.equalWidths||(i.valueAlign="left"),M={x:0,y:0,width:0,height:0},e.legendLabel&&(M=e.legendLabel.getBBox()),"left"==i.valueAlign&&(T=M.width),M=M.height;var j=T,G=i.markerSize;if(G<s+7&&(G=s+7,S.VML&&(G+=3)),i.valueText&&0<i.valueWidth){var Y=i.color;i.useMarkerColorForValues&&(Y=e.color,e.legendKeyColor&&(Y=e.legendKeyColor())),!0===e.hidden&&(Y=i.markerDisabledColor),T=T+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth;var F="end";"left"==i.valueAlign&&(T-=i.valueWidth,F="start"),s=S.text(i.container,i.valueText,Y,i.chart.fontFamily,s,F),S.setCN(c,s,"legend-value"),s.translate(T,i.ly),i.entries[i.index].push(s),j+=i.valueWidth+2*i.markerLabelGap,s.dItem=e,i.valueLabels.push(s),G<M+5&&(G=M+5)}i.index++,(c=i.container.rect(e.legendEntryWidth,0,j,G,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005})).dItem=e,i.entries[i.index-1].push(c),c.mouseover(function(N){i.rollOverLabel(e,N)}).mouseout(function(N){i.rollOutLabel(e,N)}).click(function(N){i.clickLabel(e,N)})}},createV:function(){var e=this.markerSize;return S.polygon(this.container,[e/5,e/2,e-e/5,e/2],[e/3,e-e/5,e/5,e/1.7],this.switchColor)},createX:function(){var e={stroke:this.switchColor,"stroke-width":3},i=this.container,s=S.line(i,[-(c=(this.markerSize-4)/2),c],[-c,c]).attr(e),c=S.line(i,[-c,c],[c,-c]).attr(e);return this.container.set([s,c])},createMarker:function(e,i,s,c,T,M,j,G,Y){var z=this.markerSize,F=this.container;return T||(T=this.markerBorderColor),T||(T=i),isNaN(c)&&(c=this.markerBorderThickness),isNaN(M)&&(M=this.markerBorderAlpha),S.bullet(F,e,z,i,s,c,T,M,z,j,G,this.chart.path,Y)},validateNow:function(){this.invalidateSize()},updateValues:function(){var s,e=this.valueLabels,i=this.chart,c=this.data;if(e)for(s=0;s<e.length;s++){var T=e[s],M=T.dItem;M.periodDataItem=void 0,M.periodPercentDataItem=void 0;var j=" ";if(c)T.text(M.value?M.value:"");else{var G=null;if(void 0!==M.type){var Y=this.periodValueText;M.legendPeriodValueText&&(Y=M.legendPeriodValueText),M.legendPeriodValueTextR&&(Y=M.legendPeriodValueTextR),(G=M.currentDataItem)?(j=this.valueText,M.legendValueText&&(j=M.legendValueText),M.legendValueTextR&&(j=M.legendValueTextR),j=i.formatString(j,G)):Y&&i.formatPeriodString&&(Y=S.massReplace(Y,{"[[title]]":M.title}),j=i.formatPeriodString(Y,M))}else j=i.formatString(this.valueText,M);Y=M,G&&(Y=G);var F,z=this.valueFunction;z&&(j=z(Y,j,i.periodDataItem)),this.useMarkerColorForLabels&&!G&&M.lastDataItem&&(G=M.lastDataItem),G?F=i.getBalloonColor(M,G):M.legendKeyColor&&(F=M.legendKeyColor()),M.legendColorFunction&&(F=M.legendColorFunction(Y,j,M.periodDataItem,M.periodPercentDataItem)),T.text(j),!M.pattern&&(this.useMarkerColorForValues&&T.setAttr("fill",F),this.useMarkerColorForLabels)&&((T=M.legendMarker)&&(T.setAttr("fill",F),T.setAttr("stroke",F)),(T=M.legendLabel)&&T.setAttr("fill",M.hidden?this.markerDisabledColor:F))}}},renderFix:function(){if(!S.VML&&this.enabled){var e=this.container;e&&e.renderFix()}},destroy:function(){this.div.innerHTML="",S.remove(this.set)}})}(),function(){var S=window.AmCharts;S.formatMilliseconds=function(e,i){if(-1!=e.indexOf("fff")){var s=i.getMilliseconds(),c=String(s);10>s&&(c="00"+s),10<=s&&100>s&&(c="0"+s),e=e.replace(/fff/g,c)}return e},S.extractPeriod=function(e){var i=S.stripNumbers(e),s=1;return i!=e&&(s=Number(e.slice(0,e.indexOf(i)))),{period:i,count:s}},S.getDate=function(e,i,s){return e instanceof Date?S.newDate(e,s):i&&isNaN(e)?S.stringToDate(e,i):new Date(e)},S.daysInMonth=function(e){return new Date(e.getYear(),e.getMonth()+1,0).getDate()},S.newDate=function(e,i){return i&&-1==i.indexOf("fff")?new Date(e):new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},S.resetDateToMin=function(e,i,s,c){var T,M,j,G,Y,z,F;switch(void 0===c&&(c=1),S.useUTC?(T=e.getUTCFullYear(),M=e.getUTCMonth(),j=e.getUTCDate(),G=e.getUTCHours(),Y=e.getUTCMinutes(),z=e.getUTCSeconds(),F=e.getUTCMilliseconds(),e=e.getUTCDay()):(T=e.getFullYear(),M=e.getMonth(),j=e.getDate(),G=e.getHours(),Y=e.getMinutes(),z=e.getSeconds(),F=e.getMilliseconds(),e=e.getDay()),i){case"YYYY":T=Math.floor(T/s)*s,M=0,j=1,F=z=Y=G=0;break;case"MM":M=Math.floor(M/s)*s,j=1,F=z=Y=G=0;break;case"WW":j=e>=c?j-e+c:j-(7+e)+c,F=z=Y=G=0;break;case"DD":F=z=Y=G=0;break;case"hh":G=Math.floor(G/s)*s,F=z=Y=0;break;case"mm":Y=Math.floor(Y/s)*s,F=z=0;break;case"ss":z=Math.floor(z/s)*s,F=0;break;case"fff":F=Math.floor(F/s)*s}return S.useUTC?((e=new Date).setUTCFullYear(T,M,j),e.setUTCHours(G,Y,z,F)):e=new Date(T,M,j,G,Y,z,F),e},S.getPeriodDuration=function(e,i){var s;switch(void 0===i&&(i=1),e){case"YYYY":s=316224e5;break;case"MM":s=26784e5;break;case"WW":s=6048e5;break;case"DD":s=864e5;break;case"hh":s=36e5;break;case"mm":s=6e4;break;case"ss":s=1e3;break;case"fff":s=1}return s*i},S.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},S.getMaxInterval=function(e,i){var s=S.intervals;return e>=s[i].contains?(e=Math.round(e/s[i].contains),S.getMaxInterval(e,i=s[i].nextInterval)):"ss"==i?s[i].nextInterval:i},S.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),S.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),S.monthNames="January February March April May June July August September October November December".split(" "),S.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),S.getWeekNumber=function(e){(e=new Date(e)).setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var i=new Date(e.getFullYear(),0,1);return Math.ceil(((e-i)/864e5+1)/7)},S.stringToDate=function(e,i){var s={},c=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],T=!0;-1!=(M=i.indexOf("AA"))&&(e.substr(M,2),"pm"==e.toLowerCase&&(T=!1));var j,G,Y,M=i;for(Y=0;Y<c.length;Y++)s[G=c[Y].period]=0,"date"==G&&(s[G]=1);for(Y=0;Y<c.length;Y++)if(G=c[Y].period,-1!=i.indexOf(j=c[Y].pattern)){var z=S.getFromDateString(j,e,M);i=i.replace(j,""),("KK"==j||"K"==j||"LL"==j||"L"==j)&&(T||(z+=12)),s[G]=z}return S.useUTC?((c=new Date).setUTCFullYear(s.year,s.month,s.date),c.setUTCHours(s.hours,s.minutes,s.seconds,s.milliseconds)):c=new Date(s.year,s.month,s.date,s.hours,s.minutes,s.seconds,s.milliseconds),c},S.getFromDateString=function(e,i,s){if(void 0!==i)return s=s.indexOf(e),"0"==(i=(i=String(i)).substr(s,e.length)).charAt(0)&&(i=i.substr(1,i.length-1)),i=Number(i),isNaN(i)&&(i=0),-1!=e.indexOf("M")&&i--,i},S.formatDate=function(e,i,s){s||(s=S);var c,T,M,j,G,Y,z,F,N=S.getWeekNumber(e);S.useUTC?(c=e.getUTCFullYear(),T=e.getUTCMonth(),M=e.getUTCDate(),j=e.getUTCDay(),G=e.getUTCHours(),Y=e.getUTCMinutes(),z=e.getUTCSeconds(),F=e.getUTCMilliseconds()):(c=e.getFullYear(),T=e.getMonth(),M=e.getDate(),j=e.getDay(),G=e.getHours(),Y=e.getMinutes(),z=e.getSeconds(),F=e.getMilliseconds());var a=String(c).substr(2,2),p="0"+j;i=i.replace(/W/g,N),24==(N=G)&&(N=0);var l=N;10>l&&(l="0"+l),i=(i=i.replace(/JJ/g,l)).replace(/J/g,N),0===(l=G)&&(l=24,-1!=i.indexOf("H")&&0==--M&&((c=new Date(e)).setDate(c.getDate()-1),T=c.getMonth(),M=c.getDate(),c=c.getFullYear())),e=T+1,9>T&&(e="0"+e),N=M,10>M&&(N="0"+M);var d=l;return 10>d&&(d="0"+d),i=(i=i.replace(/HH/g,d)).replace(/H/g,l),11<(l=G)&&(l-=12),10>(d=l)&&(d="0"+d),i=(i=i.replace(/KK/g,d)).replace(/K/g,l),0===(l=G)&&(l=12),12<l&&(l-=12),10>(d=l)&&(d="0"+d),i=(i=i.replace(/LL/g,d)).replace(/L/g,l),10>(l=Y)&&(l="0"+l),i=(i=i.replace(/NN/g,l)).replace(/N/g,Y),10>(Y=z)&&(Y="0"+Y),i=(i=i.replace(/SS/g,Y)).replace(/S/g,z),10>(z=F)?z="00"+z:100>z&&(z="0"+z),10>(Y=F)&&(Y="00"+Y),(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/A/g,"@A@")).replace(/QQQ/g,z)).replace(/QQ/g,Y)).replace(/Q/g,F)).replace(/YYYY/g,"@IIII@")).replace(/YY/g,"@II@")).replace(/MMMM/g,"@XXXX@")).replace(/MMM/g,"@XXX@")).replace(/MM/g,"@XX@")).replace(/M/g,"@X@")).replace(/DD/g,"@RR@")).replace(/D/g,"@R@")).replace(/EEEE/g,"@PPPP@")).replace(/EEE/g,"@PPP@")).replace(/EE/g,"@PP@")).replace(/E/g,"@P@")).replace(/@IIII@/g,c)).replace(/@II@/g,a)).replace(/@XXXX@/g,s.monthNames[T])).replace(/@XXX@/g,s.shortMonthNames[T])).replace(/@XX@/g,e)).replace(/@X@/g,T+1)).replace(/@RR@/g,N)).replace(/@R@/g,M)).replace(/@PPPP@/g,s.dayNames[j])).replace(/@PPP@/g,s.shortDayNames[j])).replace(/@PP@/g,p)).replace(/@P@/g,j)).replace(/@A@/g,12>G?s.amString:s.pmString)},S.changeDate=function(e,i,s,c,T){if(S.useUTC)return S.changeUTCDate(e,i,s,c,T);var M=-1;switch(void 0===c&&(c=!0),void 0===T&&(T=!1),!0===c&&(M=1),i){case"YYYY":e.setFullYear(e.getFullYear()+s*M),c||T||e.setDate(e.getDate()+1);break;case"MM":i=e.getMonth();var j=e.getFullYear();e.setMonth(i+s*M);var G=e.getMonth();if(c&&G-i>s)for(;e.getMonth()-i>s;)e.setDate(e.getDate()-1);j==e.getFullYear()&&e.getMonth()>i+s*M&&e.setDate(e.getDate()-1),c||T||e.setDate(e.getDate()+1);break;case"DD":e.setDate(e.getDate()+s*M);break;case"WW":e.setDate(e.getDate()+s*M*7);break;case"hh":e.setHours(e.getHours()+s*M);break;case"mm":e.setMinutes(e.getMinutes()+s*M);break;case"ss":e.setSeconds(e.getSeconds()+s*M);break;case"fff":e.setMilliseconds(e.getMilliseconds()+s*M)}return e},S.changeUTCDate=function(e,i,s,c,T){var M=-1;switch(void 0===c&&(c=!0),void 0===T&&(T=!1),!0===c&&(M=1),i){case"YYYY":e.setUTCFullYear(e.getUTCFullYear()+s*M),c||T||e.setUTCDate(e.getUTCDate()+1);break;case"MM":i=e.getUTCMonth(),e.setUTCMonth(e.getUTCMonth()+s*M),e.getUTCMonth()>i+s*M&&e.setUTCDate(e.getUTCDate()-1),c||T||e.setUTCDate(e.getUTCDate()+1);break;case"DD":e.setUTCDate(e.getUTCDate()+s*M);break;case"WW":e.setUTCDate(e.getUTCDate()+s*M*7);break;case"hh":e.setUTCHours(e.getUTCHours()+s*M);break;case"mm":e.setUTCMinutes(e.getUTCMinutes()+s*M);break;case"ss":e.setUTCSeconds(e.getUTCSeconds()+s*M);break;case"fff":e.setUTCMilliseconds(e.getUTCMilliseconds()+s*M)}return e}}(),function(){var S=window.AmCharts;S.AmRectangularChart=S.Class({inherits:S.AmCoordinateChart,construct:function(e){S.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,S.applyTheme(this,e,"AmRectangularChart")},initChart:function(){S.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(S.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),S.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var i,e={};if("xy"==this.type){var s=this.xAxes,c=this.yAxes;for(i=0;i<s.length;i++){var T=s[i];T.ignoreAxisWidth||(T.setOrientation(!0),T.fixAxisPosition(),e[T.position]=!0)}for(i=0;i<c.length;i++)(s=c[i]).ignoreAxisWidth||(s.setOrientation(!1),s.fixAxisPosition(),e[s.position]=!0)}else{for(c=this.valueAxes,i=0;i<c.length;i++)(s=c[i]).ignoreAxisWidth||(s.setOrientation(this.rotate),s.fixAxisPosition(),e[s.position]=!0);(i=this.categoryAxis)&&!i.ignoreAxisWidth&&(i.setOrientation(!this.rotate),i.fixAxisPosition(),i.fixAxisPosition(),e[i.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var i,z,e=this.valueAxes,s=this.autoMarginOffset,c=this.fixMargins,T=this.realWidth,M=this.realHeight,j=s,G=s,Y=T;for(i=M,z=0;z<e.length;z++)e[z].handleSynchronization(),i=this.getAxisBounds(e[z],j,Y,G,i),j=Math.round(i.l),Y=Math.round(i.r),G=Math.round(i.t),i=Math.round(i.b);(e=this.categoryAxis)&&(i=this.getAxisBounds(e,j,Y,G,i),j=Math.round(i.l),Y=Math.round(i.r),G=Math.round(i.t),i=Math.round(i.b)),c.left&&j<s&&(this.marginLeft=Math.round(-j+s),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),c.right&&Y>=T-s&&(this.marginRight=Math.round(Y-T+s),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),c.top&&G<s+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-G+s+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),c.bottom&&i>M-s&&(this.marginBottom=Math.round(this.marginBottom+i-M+s),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(e,i,s,c,T){if(!e.ignoreAxisWidth){var M=e.labelsSet,j=e.tickLength;if(e.inside&&(j=0),M)switch(M=e.getBBox(),e.position){case"top":c>(e=M.y)&&(c=e);break;case"bottom":T<(e=M.y+M.height)&&(T=e);break;case"right":s<(e=M.x+M.width+j+3)&&(s=e);break;case"left":i>(e=M.x-j)&&(i=e)}}return{l:i,t:c,r:s,b:T}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var i=e.container.set();e.zoomButtonSet.push(i);var N,s=e.color,c=e.fontSize,T=e.zoomOutButtonImageSize,M=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),j=e.langObj.zoomOutText||e.zoomOutText,G=e.zoomOutButtonColor,Y=e.zoomOutButtonAlpha,F=e.zoomOutButtonFontSize,z=e.zoomOutButtonPadding;isNaN(F)||(c=F),(F=e.zoomOutButtonFontColor)&&(s=F),(F=e.zoomOutButton)&&(F.fontSize&&(c=F.fontSize),F.color&&(s=F.color),F.backgroundColor&&(G=F.backgroundColor),isNaN(F.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=F.backgroundAlpha));var a=F=0;for(a=e.pathToImages,M&&((S.isAbsolute(M)||void 0===a)&&(a=""),N=e.container.image(a+M+e.extension,0,0,T,T),S.setCN(e,N,"zoom-out-image"),i.push(N),F=(N=N.getBBox()).width+5),void 0!==j&&(s=S.text(e.container,j,s,e.fontFamily,c,"start"),S.setCN(e,s,"zoom-out-label"),c=s.getBBox(),s.translate(F,a=N?N.height/2-3:c.height/2),i.push(s)),N=i.getBBox(),s=1,S.isModern||(s=0),(G=S.rect(e.container,N.width+2*z+5,N.height+2*z-2,G,1,1,G,s)).setAttr("opacity",Y),G.translate(-z,-z),S.setCN(e,G,"zoom-out-bg"),i.push(G),G.toBack(),e.zbBG=G,N=G.getBBox(),i.translate(e.marginLeftReal+e.plotAreaWidth-N.width+z,e.marginTopReal+z),i.hide(),i.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),Y=0;Y<i.length;Y++)i[Y].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(i.setAttr("tabindex",e.zoomOutButtonTabIndex),i.setAttr("role","menuitem"),i.keyup(function(p){13==p.keyCode&&e.clickZB()})),e.zbSet=i}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,i=this.dy,s=this.marginLeftReal,c=this.marginTopReal,T=this.plotAreaWidth-1,M=this.plotAreaHeight-1,j=this.plotAreaFillColors,G=this.plotAreaFillAlphas,Y=this.plotAreaBorderColor,z=this.plotAreaBorderAlpha;"object"==typeof G&&(G=G[0]),j=S.polygon(this.container,[0,T,T,0,0],[0,0,M,M,0],j,G,1,Y,z,this.plotAreaGradientAngle),S.setCN(this,j,"plot-area"),j.translate(s+e,c+i),this.set.push(j),0!==e&&0!==i&&("object"==typeof(j=this.plotAreaFillColors)&&(j=j[0]),j=S.adjustLuminosity(j,-.15),T=S.polygon(this.container,[0,e,T+e,T,0],[0,i,i,0,0],j,G,1,Y,z),S.setCN(this,T,"plot-area-bottom"),T.translate(s,c+M),this.set.push(T),e=S.polygon(this.container,[0,0,e,e,0],[0,M,M+i,i,0],j,G,1,Y,z),S.setCN(this,e,"plot-area-left"),e.translate(s,c),this.set.push(e)),(s=this.bbset)&&this.scrollbarOnly&&s.remove()},updatePlotArea:function(){var s=this.updateWidth(),c=this.updateHeight(),e=this.container;this.realWidth=s,this.realWidth=c,e&&this.container.setSize(s,c);var i=this.marginTopReal;1>(s=s-(e=this.marginLeftReal)-this.marginRightReal-this.dx)&&(s=1),1>(c=c-i-this.marginBottomReal)&&(c=1),this.plotAreaWidth=Math.round(s),this.plotAreaHeight=Math.round(c),this.plotBalloonsSet.translate(e,i)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=e),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var i,e=this.valueAxes;for(i=0;i<e.length;i++){var s=e[i];this.setAxisRenderers(s),this.updateObjectSize(s)}},setAxisRenderers:function(e){e.axisRenderer=S.RecAxis,e.guideFillRenderer=S.RecFill,e.axisItemRenderer=S.RecItem,e.marginsChanged=!0},updateGraphs:function(){var i,e=this.graphs;for(i=0;i<e.length;i++){var s=e[i];s.index=i,s.rotate=this.rotate,this.updateObjectSize(s)}},updateObjectSize:function(e){e.width=this.plotAreaWidth-1,e.height=this.plotAreaHeight-1,e.x=this.marginLeftReal,e.y=this.marginTopReal,e.dx=this.dx,e.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=S.processObject(e,S.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=S.processObject(e,S.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){S.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var i,e=this.trendLines;for(i=0;i<e.length;i++){var s=e[i];s.valueAxis.recalculateToPercents?s.set&&s.set.hide():(s.x=this.marginLeftReal,s.y=this.marginTopReal,s.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(e){this.trendLines.push(e)},zoomOutValueAxes:function(){for(var e=this.valueAxes,i=0;i<e.length;i++)e[i].zoomOut()},removeTrendLine:function(e){var s,i=this.trendLines;for(s=i.length-1;0<=s;s--)i[s]==e&&i.splice(s,1)},adjustMargins:function(e,i){var c=e.scrollbarHeight+e.offset;e.enabled&&("top"==e.position?i?this.marginLeftReal+=c:this.marginTopReal+=c:i?this.marginRightReal+=c:this.marginBottomReal+=c)},getScrollbarPosition:function(e,i,s){var c="bottom",T="top";e.oppositeAxis||(T=c,c="top"),e.position=i?"bottom"==s||"left"==s?c:T:"top"==s||"right"==s?c:T},updateChartScrollbar:function(e,i){if(e){e.rotate=i;var s=this.marginTopReal,c=this.marginLeftReal,T=e.scrollbarHeight,M=this.dx,j=this.dy,G=e.offset;"top"==e.position?i?(e.y=s,e.x=c-T-G):(e.y=s-T+j-G,e.x=c+M):i?(e.y=s+j,e.x=c+this.plotAreaWidth+M+G):(e.y=s+this.plotAreaHeight+G,e.x=this.marginLeftReal)}},showZB:function(e){var i=this.zbSet;e&&""!==(i=this.zoomOutText)&&i&&this.drawZoomOutButton(),(i=this.zbSet)&&(this.zoomButtonSet.push(i),e?i.show():i.hide(),this.rollOutZB())},handleReleaseOutside:function(e){S.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){S.AmRectangularChart.base.handleMouseDown.call(this,e);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(e)},update:function(){S.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(e){this.relativeZoomValueAxes(e.target.valueAxes,e.relativeStart,e.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(e){if(e&&e.enabled){var i=e.valueAxes[0],s=i.relativeStart,c=i.relativeEnd;i.reversed&&(c=1-s,s=1-i.relativeEnd),e.percentZoom(s,c)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var i,e=this.valueAxes;for(i=0;i<e.length;i++)e[i].zoom(this.start,this.end);for(e=this.graphs,i=0;i<e.length;i++)e[i].zoom(this.start,this.end);(i=this.chartCursor)&&i.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(e,i){if((c=e.relativeStart)>(T=e.relativeEnd))var s=c,c=T,T=s;this.relativeZoomValueAxes(i,c,T),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,i,s){if(this.hideBalloonReal(),(i=S.fitToBounds(i,0,1))>(s=S.fitToBounds(s,0,1))){var c=i;i=s,s=c}var T=S.getDecimals(c=1/this.maxZoomFactor)+4;if(s-i<c&&(i=(s=i+(s-i)/2)-c/2,1<(s+=c/2)&&(i-=s-1,s=1),0>i&&(i=0,s=c)),i=S.roundTo(i,T),s=S.roundTo(s,T),c=!1,e){for(T=0;T<e.length;T++){var M=e[T].zoomToRelativeValues(i,s,!0);M&&(c=M)}this.showZB()}return c},addChartCursor:function(e){S.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(e){var i,s=this.valueAxes;for(i=0;i<s.length;i++)if(!e.panning){var c=s[i];c&&c.showBalloon&&c.showBalloon(e.x,e.y)}},handleCursorZoom:function(e){if(this.skipZoomed)this.skipZoomed=!1;else{var i=this.startX0,s=this.endX0,c=this.endY0,T=this.startY0,M=e.startX,j=e.endX,G=e.startY,Y=e.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(i+M*(s-i),i+j*(s-i),T+G*(c-T),T+Y*(c-T),e)}},handleCursorHide:function(){var e,i=this.valueAxes;for(e=0;e<i.length;e++)i[e].hideBalloon();for(i=this.graphs,e=0;e<i.length;e++)i[e].hideBalloonReal()}})}(),function(){var S=window.AmCharts;S.AmSerialChart=S.Class({inherits:S.AmRectangularChart,construct:function(e){this.type="serial",S.AmSerialChart.base.construct.call(this,e),this.cname="AmSerialChart",this.theme=e,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new S.CategoryAxis(e);i.chart=this,this.categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,S.applyTheme(this,e,this.cname)},initChart:function(){S.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var c,e=this.countColumns(),i=this.chartData,s=this.graphs;for(c=0;c<s.length;c++){var T=s[c];T.data=i,T.columnCount=e}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var i,s,e=this.valueAxes;if(0<e.length){var c=0;for(s=0;s<e.length;s++)c<(i=e[s]).gridCountReal&&(c=i.gridCountReal);var T=!1;for(s=0;s<e.length;s++)if((i=e[s]).gridCountReal<c){var M=(c-i.gridCountReal)/2,j=T=M;M-Math.round(M)!=0&&(T-=.5,j+=.5),0<=i.min&&0>i.min-T*i.step&&(j+=T,T=0),0>=i.max&&0<i.max+j*i.step&&(T+=j,j=0),M=S.getDecimals(i.step),i.minimum=S.roundTo(i.min-T*i.step,M),i.maximum=S.roundTo(i.max+j*i.step,M),i.setStep=i.step,T=i.strictMinMax=!0}for(T&&this.updateAfterValueZoom(),s=0;s<e.length;s++)(i=e[s]).minimum=NaN,i.maximum=NaN,i.setStep=NaN,i.strictMinMax=!1}}},handleWheelReal:function(e,i){if(!this.wheelBusy){var s=this.categoryAxis,c=s.parseDates,T=s.minDuration(),M=1,j=1;if(this.mouseWheelZoomEnabled?i||(M=-1):i&&(M=-1),G=this.chartCursor)if(G.mouseIsOver()){var Y=G.mouseX,G=G.mouseY;M!=j&&(M*=Y=this.rotate?G/this.plotAreaHeight:Y/this.plotAreaWidth,j*=1-Y),Y=.05*(this.end-this.start),c&&(Y=.05*(this.endTime-this.startTime)/T),1>Y&&(Y=1),M*=Y,j*=Y,(!c||s.equalSpacing)&&(M=Math.round(M),j=Math.round(j)),G=this.chartData.length,s=this.lastTime,Y=this.firstTime,0>e?c?(G=this.endTime-this.startTime,c=this.startTime+M*T,T=this.endTime+j*T,0<j&&0<M&&T>=s&&(T=s,c=s-G),this.zoomToDates(new Date(c),new Date(T))):(0<j&&0<M&&this.end>=G-1&&(M=j=0),this.zoomToIndexes(c=this.start+M,T=this.end+j)):c?(G=this.endTime-this.startTime,c=this.startTime-M*T,T=this.endTime-j*T,0<j&&0<M&&c<=Y&&(c=Y,T=Y+G),this.zoomToDates(new Date(c),new Date(T))):(0<j&&0<M&&1>this.start&&(M=j=0),this.zoomToIndexes(c=this.start-M,T=this.end-j))}else this.handleMouseOut()}},validateData:function(e){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN);var i=e=!1,s=!1,c=this.chartScrollbar;c&&(c.dragging&&(e=!0,c.handleDragStop()),c.resizingRight&&(s=!0,c.rightDragStop()),c.resizingLeft&&(i=!0,c.leftDragStop())),S.AmSerialChart.base.validateData.call(this),e&&c.handleDragStart(),s&&c.rightDragStart(),i&&c.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){S.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(S.ifArray(e)){!(i=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||i.draw(),(i=this.valueScrollbar)&&i.draw();var s,c,i=e.length-1;(s=this.categoryAxis).parseDates&&!s.equalSpacing?(s=this.startTime,c=this.endTime,(isNaN(s)||isNaN(c))&&(s=this.firstTime,c=this.lastTime)):(s=this.start,c=this.end,(isNaN(s)||isNaN(c))&&(c=s=NaN),isNaN(s)&&(isNaN(this.startTime)||(s=this.getClosestIndex(e,"time",this.startTime,!0,0,e.length))),isNaN(c)&&(isNaN(this.endTime)||(c=this.getClosestIndex(e,"time",this.endTime,!1,0,e.length))),(isNaN(s)||isNaN(c))&&(s=0,c=i)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(s,c)}}else this.cleanChart()},cleanChart:function(){S.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,i,s){e.chart=this,e.id=s,e.rotate=i,e.setOrientation(!this.rotate),e.init(),this.setAxisRenderers(e),this.updateObjectSize(e)},updateValueAxes:function(){S.AmSerialChart.base.updateValueAxes.call(this);var i,e=this.valueAxes;for(i=0;i<e.length;i++){var s=e[i],c=this.rotate;s.rotate=c,s.setOrientation(c),(!(c=this.categoryAxis).startOnAxis||c.parseDates)&&(s.expandMinMax=!0)}},getStartTime:function(e){var i=this.categoryAxis;return S.resetDateToMin(new Date(e),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(e){var i=S.extractPeriod(this.categoryAxis.minPeriod);return S.changeDate(new Date(e),i.period,i.count,!0).getTime()-1},updateMargins:function(){S.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate)),(e=this.valueScrollbar)&&(this.getScrollbarPosition(e,!this.rotate,this.valueAxes[0].position),this.adjustMargins(e,!this.rotate))},updateScrollbars:function(){S.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,i){var s=this.categoryAxis;s.parseDates&&!s.equalSpacing?(this.timeZoom(e,i),isNaN(e)&&this.zoomOutValueAxes()):this.indexZoom(e,i),(s=this.chartCursor)&&(s.pan||s.hideCursorReal()),this.updateLegendValues()},timeZoom:function(e,i){var s=this.maxSelectedTime;if(isNaN(s)||(i!=this.endTime&&i-e>s&&(e=i-s),e!=this.startTime&&i-e>s&&(i=e+s)),0<(c=this.minSelectedTime)&&i-e<c){var c,T=Math.round(e+(i-e)/2);e=T-(c=Math.round(c/2)),i=T+c}if(T=this.categoryAxis,S.ifArray(c=this.chartData)&&(e!=this.startTime||i!=this.endTime)){var M=T.minDuration(),j=this.firstTime,G=this.lastTime;e||(e=j,isNaN(s)||(e=G-s)),i||(i=G),e>G&&(e=G),i<j&&(i=j),e<j&&(e=j),i>G&&(i=G),i<e&&(i=e+M),i-e<M/5&&(i<G?i=e+M/5:e=i-M/5),this.startTime=e,this.endTime=i,M=this.getClosestIndex(c,"time",e,!0,0,s=c.length-1),c=this.getClosestIndex(c,"time",i,!1,M,s),T.timeZoom(e,i),T.zoom(M,c),this.start=S.fitToBounds(M,0,s),this.end=S.fitToBounds(c,0,s),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var e,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(e=!0),this.endTime<this.lastTime&&(e=!0)),0<this.start&&(e=!0),this.end<this.chartData.length-1&&(e=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==S.roundTo(i.relativeStart,3)&&(e=!0),1!=S.roundTo(i.relativeEnd,3)&&(e=!0))),S.AmSerialChart.base.showZB.call(this,e)},updateAfterValueZoom:function(){S.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(e,i){var s=this.maxSelectedSeries,c=!1;if(isNaN(s)||(i!=this.end&&i-e>s&&(e=i-s,c=!0),e!=this.start&&i-e>s&&(i=e+s,c=!0)),c&&(c=this.chartScrollbar)&&c.dragger){var T=c.dragger.getBBox();c.maxWidth=T.width,c.maxHeight=T.height}(e!=this.start||i!=this.end)&&(c=this.chartData.length-1,isNaN(e)&&(e=0,isNaN(s)||(e=c-s)),isNaN(i)&&(i=c),i<e&&(i=e),i>c&&(i=c),e>c&&(e=c-1),0>e&&(e=0),this.start=e,this.end=i,this.categoryAxis.zoom(e,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(0!==e||i!=this.chartData.length-1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){S.AmSerialChart.base.updateGraphs.call(this);var i,e=this.graphs;for(i=0;i<e.length;i++){var s=e[i];s.columnWidthReal=this.columnWidth,s.categoryAxis=this.categoryAxis,S.isString(s.fillToGraph)&&(s.fillToGraph=this.graphsById[s.fillToGraph])}},zoomAxesAndGraphs:function(){S.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var e,s,i=this.graphs;for(this.columnsArray=[],e=0;e<i.length;e++){var T,c=(s=i[e]).columnsArray;if(c)for(T=0;T<c.length;T++)this.columnsArray.push(c[T])}if(this.columnsArray.sort(this.compareDepth),i=this.columnsSet,0<this.columnsArray.length){for(c=this.container.set(),this.columnSet.push(c),e=0;e<this.columnsArray.length;e++)c.push(this.columnsArray[e].column.set);s&&c.translate(s.x,s.y),this.columnsSet=c}S.remove(i)}},compareDepth:function(e,i){return e.depth>i.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,i=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var s=e.dragger;s&&s.stop()}this.zoomedByScrollbar=!1,i.parseDates&&!i.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var i,e=this.trendLines;for(i=0;i<e.length;i++){var s=S.processObject(s=e[i],S.TrendLine,this.theme);e[i]=s,s.chart=this,s.id||(s.id="trendLineAuto"+i+"_"+(new Date).getTime()),S.isString(s.valueAxis)&&(s.valueAxis=this.getValueAxisById(s.valueAxis)),s.valueAxis||(s.valueAxis=this.valueAxes[0]),s.categoryAxis=this.categoryAxis}},validateNow:function(e,i){e&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),S.AmSerialChart.base.validateNow.call(this,e,i)},countColumns:function(){var c,T,j,G,e=0,i=this.valueAxes.length,s=this.graphs.length,M=!1;for(G=0;G<i;G++){var Y=(T=this.valueAxes[G]).stackType,z=0;if("100%"==Y||"regular"==Y)for(M=!1,j=0;j<s;j++)(c=this.graphs[j]).tcc=1,c.valueAxis==T&&"column"==c.type&&(!M&&c.stackable&&(e++,M=!0),(!c.stackable&&c.clustered||c.newStack&&0!==z)&&e++,c.columnIndex=e-1,c.clustered||(c.columnIndex=0),z++);if("none"==Y||"3d"==Y){for(z=!1,j=0;j<s;j++)(c=this.graphs[j]).valueAxis==T&&"column"==c.type&&(c.clustered?(c.tcc=1,c.newStack&&(e=0),c.hidden||(c.columnIndex=e,e++)):c.hidden||(z=!0,c.tcc=1,c.columnIndex=0));z&&0===e&&(e=1)}if("3d"==Y){for(T=1,z=0;z<s;z++)(c=this.graphs[z]).newStack&&T++,c.depthCount=T,c.tcc=e;e=T}if("regular"==Y||"100%"==Y)for(T=10,z=0;z<s;z++)(c=this.graphs[z]).newStack&&T--,c.depthCount=T,c.tcc=e}return e},parseData:function(){S.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var s,i=this.chartData;for(s=0;s<i.length;s++)if(i[s].category==e)return s},handleScrollbarZoom:function(e){this.zoomedByScrollbar=!0,this.zoom(e.start,e.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime),e.startIndex=this.start,e.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=e.startDate,this.endDate=e.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var s,i=S.extractPeriod((s=this.categoryAxis).minPeriod).period;e.startValue=S.formatDate(e.startDate,s=s.dateFormatsObject[i],this),e.endValue=S.formatDate(e.endDate,s,this),e.chart=this,e.target=this,this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var e=this.chartData;if(S.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var i={chart:this,target:this,type:"zoomed"};i.startIndex=this.start,i.endIndex=this.end,i.startValue=e[this.start].category,i.endValue=e[this.end].category,this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(e,i,s,c,T,M){0>T&&(T=0),M>e.length-1&&(M=e.length-1);var j=T+Math.round((M-T)/2),G=e[j][i];return s==G?j:1>=M-T?c||Math.abs(e[T][i]-s)<Math.abs(e[M][i]-s)?T:M:s==G?j:s<G?this.getClosestIndex(e,i,s,c,T,j):this.getClosestIndex(e,i,s,c,j,M)},zoomToIndexes:function(e,i){var s=this.chartData;if(s){var c=s.length;0<c&&(0>e&&(e=0),i>c-1&&(i=c-1),(c=this.categoryAxis).parseDates&&!c.equalSpacing?this.zoom(s[e].time,this.getEndTime(s[i].time)):this.zoom(e,i))}},zoomToDates:function(e,i){var s=this.chartData;if(s)if(this.categoryAxis.equalSpacing){var c=this.getClosestIndex(s,"time",e.getTime(),!0,0,s.length);i=S.resetDateToMin(i,this.categoryAxis.minPeriod,1),s=this.getClosestIndex(s,"time",i.getTime(),!1,0,s.length),this.zoom(c,s)}else this.zoom(e.getTime(),i.getTime())},zoomToCategoryValues:function(e,i){this.chartData&&this.zoom(this.getCategoryIndexByValue(e),this.getCategoryIndexByValue(i))},formatPeriodString:function(e,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};var s=["value","open","low","high","close"],c="value open low high close average sum count".split(" "),T=i.valueAxis,M=this.chartData,j=i.numberFormatter;j||(j=this.nf);for(var G=0;G<s.length;G++){for(var p,l,d,_,w,x,I,h,n,D,Y=s[G],z=0,F=0,N=0,a=0,P=this.start;P<=this.end;P++)if(E=M[P]){var m=E.axes[T.id].graphs[i.id];if(m){if(m.values){var C=m.values[Y],E=E.x.categoryAxis;this.rotate?(0>E||E>m.graph.height)&&(C=NaN):(0>E||E>m.graph.width)&&(C=NaN),isNaN(C)||(isNaN(p)&&(p=C),l=C,(isNaN(d)||d>C)&&(d=C),(isNaN(_)||_<C)&&(_=C),w=S.getDecimals(z),E=S.getDecimals(C),w=(z=S.roundTo(z+=C,Math.max(w,E)))/++F)}m.percents&&(m=m.percents[Y],!isNaN(m))&&(isNaN(x)&&(x=m),I=m,(isNaN(h)||h>m)&&(h=m),(isNaN(n)||n<m)&&(n=m),D=S.getDecimals(N),C=S.getDecimals(m),D=(N=S.roundTo(N+=m,Math.max(D,C)))/++a)}}N={open:x,close:I,high:n,low:h,average:D,sum:N,count:a},e=S.formatValue(e,z={open:p,close:l,high:_,low:d,average:w,sum:z,count:F},c,j,Y+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=S.formatValue(e,N,c,this.pf,"percents\\."+Y+"\\."),i.periodDataItem[Y]=z,i.periodPercentDataItem[Y]=N}}return S.cleanFromEmpty(e)},formatString:function(e,i,s){if(i){var c=i.graph;if(void 0!==e){if(-1!=e.indexOf("[[category]]")){var T=i.serialDataItem.category;if(this.categoryAxis.parseDates){var M=this.balloonDateFormat,j=this.chartCursor;j&&j.categoryBalloonDateFormat&&(M=j.categoryBalloonDateFormat),-1!=(M=S.formatDate(T,M,this)).indexOf("fff")&&(M=S.formatMilliseconds(M,T)),T=M}e=e.replace(/\[\[category\]\]/g,String(T.replace("$","$$$")))}(T=c.numberFormatter)||(T=this.nf),(j=(M=i.graph.valueAxis).duration)&&!isNaN(i.values.value)&&M.maxInterval&&(j=S.formatDuration(i.values.value,j,"",M.durationUnits,M.maxInterval,T),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),j)),"date"==M.type&&(M=S.formatDate(new Date(i.values.value),c.dateFormat,this),j=RegExp("\\[\\[value\\]\\]","g"),e=e.replace(j,M),M=S.formatDate(new Date(i.values.open),c.dateFormat,this),j=RegExp("\\[\\[open\\]\\]","g"),e=e.replace(j,M)),c="value open low high close total".split(" "),e=S.formatValue(e,i.percents,c,M=this.pf,"percents\\."),e=S.formatValue(e,i.values,c,T,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(e=S.formatValue(e,i.values,["percents"],M)).indexOf("[[")&&(e=S.formatDataContextValue(e,i.dataContext)),-1!=e.indexOf("[[")&&i.graph.customData&&(e=S.formatDataContextValue(e,i.graph.customData)),e=S.AmSerialChart.base.formatString.call(this,e,i,s)}return e}},updateChartCursor:function(){S.AmSerialChart.base.updateChartCursor.call(this);var e=this.chartCursor,i=this.categoryAxis;if(e){var s=e.categoryBalloonAlpha,c=e.categoryBalloonColor,T=e.color;void 0===c&&(c=e.cursorColor);var M=e.valueZoomable,j=e.zoomable,G=e.valueLineEnabled;if(this.rotate?(e.vLineEnabled=G,e.hZoomEnabled=M,e.vZoomEnabled=j):(e.hLineEnabled=G,e.vZoomEnabled=M,e.hZoomEnabled=j),e.valueLineBalloonEnabled)for(G=0;G<this.valueAxes.length;G++)(j=(M=this.valueAxes[G]).balloon)||(j={}),(j=S.extend(j,this.balloon,!0)).fillColor=c,j.balloonColor=c,j.fillAlpha=s,j.borderColor=c,j.color=T,M.balloon=j;else for(j=0;j<this.valueAxes.length;j++)(M=this.valueAxes[j]).balloon&&(M.balloon=null);i&&(i.balloonTextFunction=e.categoryBalloonFunction,e.categoryLineAxis=i,i.balloonText=e.categoryBalloonText,e.categoryBalloonEnabled&&((j=i.balloon)||(j={}),(j=S.extend(j,this.balloon,!0)).fillColor=c,j.balloonColor=c,j.fillAlpha=s,j.borderColor=c,j.color=T,i.balloon=j),i.balloon&&(i.balloon.enabled=e.categoryBalloonEnabled))}},addChartScrollbar:function(e){S.callMethod("destroy",[this.chartScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight),e.gridAxis=this.categoryAxis,this.chartScrollbar=e},addValueScrollbar:function(e){S.callMethod("destroy",[this.valueScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarValueZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted));var i=e.scrollbarHeight;this.rotate?void 0===e.height&&(e.height=i):void 0===e.width&&(e.width=i),e.gridAxis||(e.gridAxis=this.valueAxes[0]),e.valueAxes=this.valueAxes,this.valueScrollbar=e},removeChartScrollbar:function(){S.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){S.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(e){S.AmSerialChart.base.handleReleaseOutside.call(this,e),S.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){S.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){S.AmSerialChart.base.processScrollbars.call(this);var e=this.valueScrollbar;e&&((e=S.processObject(e,S.ChartScrollbar,this.theme)).id="valueScrollbar",this.addValueScrollbar(e))},handleValueAxisZoom:function(e){this.handleValueAxisZoomReal(e,this.valueAxes)},zoomOut:function(){S.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(e){var i=e.index,s=this.chartData,c=e.graph;if(i+1<s.length)for(i+=1;i<s.length;i++)if((e=s[i])&&(e=e.axes[c.valueAxis.id].graphs[c.id],!isNaN(e.y)))return e},handleCursorZoomReal:function(e,i,s,c,T){var j,G,M=T.target;this.rotate?(isNaN(e)||isNaN(i)||this.relativeZoomValueAxes(this.valueAxes,e,i)&&this.updateAfterValueZoom(),M.vZoomEnabled&&(j=T.start,G=T.end)):(isNaN(s)||isNaN(c)||this.relativeZoomValueAxes(this.valueAxes,s,c)&&this.updateAfterValueZoom(),M.hZoomEnabled&&(j=T.start,G=T.end)),isNaN(j)||isNaN(G)||((e=this.categoryAxis).parseDates&&!e.equalSpacing?this.zoomToDates(new Date(j),new Date(G)):this.zoomToIndexes(j,G))},handleCursorZoomStarted:function(){if(e=this.valueAxes){var e,i=(e=e[0]).relativeStart,s=e.relativeEnd;e.reversed&&(i=1-e.relativeEnd,s=1-e.relativeStart),this.rotate?(this.startX0=i,this.endX0=s):(this.startY0=i,this.endY0=s)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(e){S.AmSerialChart.base.handleCursorMove.call(this,e);var i=e.target,s=this.categoryAxis;if(e.panning)this.handleCursorHide(e);else if(this.chartData&&!i.isHidden){var T,c=this.graphs;if(c&&(T=s.xToIndex(this.rotate?e.y:e.x),T=this.chartData[T])){var M,j,G,Y;if(i.oneBalloonOnly&&i.valueBalloonsEnabled){var z=1/0;for(M=c.length-1;0<=M;M--)if((j=c[M]).balloon.enabled&&j.showBalloon&&!j.hidden){if(G=T.axes[G=j.valueAxis.id].graphs[j.id],i.showNextAvailable&&isNaN(G.y)&&!(G=this.getNextItem(G)))continue;G=G.y,"top"==j.showBalloonAt&&(G=0),"bottom"==j.showBalloonAt&&(G=this.height);var N=i.mouseY;(G=this.rotate?Math.abs(i.mouseX-G):Math.abs(N-G))<z&&(z=G,Y=j)}i.mostCloseGraph=Y}if(this.prevCursorItem!=T||Y!=this.prevMostCloseGraph){for(z=[],M=0;M<c.length;M++)G=T.axes[G=(j=c[M]).valueAxis.id].graphs[j.id],i.showNextAvailable&&isNaN(G.y)&&!(G=this.getNextItem(G))&&j.balloon?j.balloon.hide():Y&&j!=Y?(j.showGraphBalloon(G,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),j.balloon.hide(0)):i.valueBalloonsEnabled?(j.balloon.showBullet=i.bulletsEnabled,j.balloon.bulletSize=i.bulletSize/2,e.hideBalloons||(j.showGraphBalloon(G,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),j.balloon.set&&z.push({balloon:j.balloon,y:j.balloon.pointToY}))):(j.currentDataItem=G,j.resizeBullet(G,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(z),this.prevCursorItem=T}this.prevMostCloseGraph=Y}c=S.fitToBounds(e.x,0,i.width),Y=S.fitToBounds(e.y,0,i.height),s.showBalloon(c,Y,i.categoryBalloonDateFormat,e.skip),this.updateLegendValues()}},handleCursorHide:function(e){var i;for(S.AmSerialChart.base.handleCursorHide.call(this,e),e=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),e&&e.hideBalloon(),e=this.graphs,i=0;i<e.length;i++)e[i].currentDataItem=null},handleCursorPanning:function(e){var s,F,N,i=e.target,c=e.deltaX,T=e.deltaY,M=e.delta2X,j=e.delta2Y;if(e=!1,this.rotate){isNaN(M)&&(M=c,e=!0);var G=(Y=this.endX0)-(s=this.startX0),Y=Y-G*M,z=G;e||(z=0),e=S.fitToBounds(s-G*c,0,1-z)}else isNaN(j)&&(j=T,e=!0),Y=this.endY0,Y+=(G=Y-(s=this.startY0))*T,z=G,e||(z=0),e=S.fitToBounds(s+G*j,0,1-z);s=S.fitToBounds(Y,z,1),i.valueZoomable&&(F=this.relativeZoomValueAxes(this.valueAxes,e,s)),s=this.categoryAxis,this.rotate&&(c=T,M=j),e=!1,isNaN(M)&&(M=c,e=!0),i.zoomable&&(0<Math.abs(c)||0<Math.abs(M))&&(s.parseDates&&!s.equalSpacing?(M*=s=(T=this.endTime0)-(j=this.startTime0),G=this.firstTime,Y=this.lastTime,z=s,e||(z=0),e=Math.round(S.fitToBounds(j-s*c,G,Y-z)),M=Math.round(S.fitToBounds(T-M,G+z,Y)),(this.startTime!=e||this.endTime!=M)&&(N={chart:this,target:i,type:"zoomed",start:e,end:M},this.skipZoomed=!0,i.fire(N),this.zoom(e,M),N=!0)):(s=(T=this.end0)-(j=this.start0),c=Math.round(s*c),M=Math.round(s*M),e||(s=0),e=S.fitToBounds(j-c,0,(G=this.chartData.length-1)-s),s=S.fitToBounds(T-M,s,G),(this.start!=e||this.end!=s)&&(this.skipZoomed=!0,i.fire({chart:this,target:i,type:"zoomed",start:e,end:s}),this.zoom(e,s),N=!0))),!N&&F&&this.updateAfterValueZoom()},arrangeBalloons:function(e){var i=this.plotAreaHeight;e.sort(this.compareY);var s,c,T,M=this.plotAreaWidth,j=e.length;for(s=0;s<j;s++)(c=e[s].balloon).setBounds(0,0,M,i),c.restorePrevious(),c.draw(),i=c.yPos-3;for(e.reverse(),s=0;s<j;s++){i=(c=e[s].balloon).bottom;var G=c.bottom-c.yPos;0<s&&i-G<T+3&&c.setBounds&&(c.setBounds(0,T+3,M,T+G+3),c.restorePrevious(),c.draw()),c.set&&c.set.show(),T=c.bottom}},compareY:function(e,i){return e.y<i.y?1:-1}})}(),function(){var S=window.AmCharts;S.Cuboid=S.Class({construct:function(e,i,s,c,T,M,j,G,Y,z,F,N,a,p,l,d,_){this.set=e.set(),this.container=e,this.h=Math.round(s),this.w=Math.round(i),this.dx=c,this.dy=T,this.colors=M,this.alpha=j,this.bwidth=G,this.bcolor=Y,this.balpha=z,this.dashLength=p,this.topRadius=d,this.pattern=l,this.rotate=a,this.bcn=_,a?0>i&&0===F&&(F=180):0>s&&270==F&&(F=90),this.gradientRotation=F,0===c&&0===T&&(this.cornerRadius=N),this.draw()},draw:function(){var e=this.set;e.clear();var i=this.container,s=i.chart,c=this.w,T=this.h,M=this.dx,j=this.dy,G=this.colors,Y=this.alpha,z=this.bwidth,F=this.bcolor,N=this.balpha,a=this.gradientRotation,p=this.cornerRadius,l=this.dashLength,d=this.pattern,_=this.topRadius,w=this.bcn,x=G,I=G;"object"==typeof G&&(x=G[0],I=G[G.length-1]);var h,n,D,P,E,m,C,A,k,f=Y;d&&(Y=0);var o,R,U,X,tt=this.rotate;if(0<Math.abs(M)||0<Math.abs(j))if(isNaN(_))C=I,I=S.adjustLuminosity(x,-.2),I=S.adjustLuminosity(x,-.2),h=S.polygon(i,[0,M,c+M,c,0],[0,j,j,0,0],I,Y,1,F,0,a),0<N&&(k=S.line(i,[0,M,c+M],[0,j,j],F,N,z,l)),(n=S.polygon(i,[0,0,c,c,0],[0,T,T,0,0],I,Y,1,F,0,a)).translate(M,j),0<N&&(D=S.line(i,[M,M],[j,j+T],F,N,z,l)),P=S.polygon(i,[0,0,M,M,0],[0,T,T+j,j,0],I,Y,1,F,0,a),E=S.polygon(i,[c,c,c+M,c+M,c],[0,T,T+j,j,0],I,Y,1,F,0,a),0<N&&(m=S.line(i,[c,c+M,c+M,c],[0,j,T+j,T],F,N,z,l)),I=S.adjustLuminosity(C,.2),C=S.polygon(i,[0,M,c+M,c,0],[T,T+j,T+j,T,T],I,Y,1,F,0,a),0<N&&(A=S.line(i,[0,M,c+M],[T,T+j,T+j],F,N,z,l));else{var pt,ot,W;tt?(pt=T/2,I=M/2,W=T/2,ot=c+M/2,R=Math.abs(T/2),o=Math.abs(M/2)):(I=c/2,pt=j/2,ot=c/2,W=T+j/2+1,o=Math.abs(c/2),R=Math.abs(j/2)),U=o*_,X=R*_,.1<o&&.1<o&&(h=S.circle(i,o,x,Y,z,F,N,!1,R)).translate(I,pt),.1<U&&.1<U&&(C=S.circle(i,U,S.adjustLuminosity(x,.5),Y,z,F,N,!1,X)).translate(ot,W)}for(Y=f,1>Math.abs(T)&&(T=0),1>Math.abs(c)&&(c=0),!isNaN(_)&&(0<Math.abs(M)||0<Math.abs(j))?(G={fill:G=[x],stroke:F,"stroke-width":z,"stroke-opacity":N,"fill-opacity":Y},tt?(Y="M0,0 L"+c+","+(T/2-T/2*_),z=" B",0<c&&(z=" A"),S.VML?Y=(Y+=z+Math.round(c-U)+","+Math.round(T/2-X)+","+Math.round(c+U)+","+Math.round(T/2+X)+","+c+",0,"+c+","+T)+" L0,"+T+(z+Math.round(-o))+","+Math.round(T/2-R)+","+Math.round(o)+","+Math.round(T/2+R)+",0,"+T+",0,0":(Y+="A"+U+","+X+",0,0,0,"+c+","+(T-T/2*(1-_))+"L0,"+T,Y+="A"+o+","+R+",0,0,1,0,0"),o=90):(Y="M0,0 L"+(z=c/2-c/2*_)+","+T,S.VML?(Y="M0,0 L"+z+","+T,z=" B",0>T&&(z=" A"),Y+=z+Math.round(c/2-U)+","+Math.round(T-X)+","+Math.round(c/2+U)+","+Math.round(T+X)+",0,"+T+","+c+","+T,Y+=" L"+c+",0",Y+=z+Math.round(c/2+o)+","+Math.round(R)+","+Math.round(c/2-o)+","+Math.round(-R)+","+c+",0,0,0"):(Y+="A"+U+","+X+",0,0,0,"+(c-c/2*(1-_))+","+T+"L"+c+",0",Y+="A"+o+","+R+",0,0,1,0,0"),o=180),(i=i.path(Y).attr(G)).gradient("linearGradient",[x,S.adjustLuminosity(x,-.3),S.adjustLuminosity(x,-.3),x],o),tt?i.translate(M/2,0):i.translate(0,j/2)):i=0===T?S.line(i,[0,c],[0,0],F,N,z,l):0===c?S.line(i,[0,0],[0,T],F,N,z,l):0<p?S.rect(i,c,T,G,Y,z,F,N,p,a,l):S.polygon(i,[0,0,c,c,0],[0,T,T,0,0],G,Y,z,F,N,a,!1,l),c=isNaN(_)?0>T?[h,k,n,D,P,E,m,C,A,i]:[C,A,n,D,P,E,h,k,m,i]:tt?0<c?[h,i,C]:[C,i,h]:0>T?[h,i,C]:[C,i,h],S.setCN(s,i,w+"front"),S.setCN(s,n,w+"back"),S.setCN(s,C,w+"top"),S.setCN(s,h,w+"bottom"),S.setCN(s,P,w+"left"),S.setCN(s,E,w+"right"),h=0;h<c.length;h++)(n=c[h])&&(e.push(n),S.setCN(s,n,w+"element"));d&&i.pattern(d,NaN,s.path)},width:function(e){isNaN(e)&&(e=0),this.w=Math.round(e),this.draw()},height:function(e){isNaN(e)&&(e=0),this.h=Math.round(e),this.draw()},animateHeight:function(e,i){var s=this;s.animationFinished=!1,s.easing=i,s.totalFrames=e*S.updateRate,s.rh=s.h,s.frame=0,s.height(1),setTimeout(function(){s.updateHeight.call(s)},1e3/S.updateRate)},updateHeight:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rh-1,i),e.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateHeight.call(e)}):setTimeout(function(){e.updateHeight.call(e)},1e3/S.updateRate)):(e.height(e.rh),e.animationFinished=!0)},animateWidth:function(e,i){var s=this;s.animationFinished=!1,s.easing=i,s.totalFrames=e*S.updateRate,s.rw=s.w,s.frame=0,s.width(1),setTimeout(function(){s.updateWidth.call(s)},1e3/S.updateRate)},updateWidth:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rw-1,i),e.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateWidth.call(e)}):setTimeout(function(){e.updateWidth.call(e)},1e3/S.updateRate)):(e.width(e.rw),e.animationFinished=!0)}})}(),function(){var S=window.AmCharts;S.CategoryAxis=S.Class({inherits:S.AxisBase,construct:function(e){this.cname="CategoryAxis",S.CategoryAxis.base.construct.call(this,e),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,S.applyTheme(this,e,this.cname)},draw:function(){S.CategoryAxis.base.draw.call(this),this.generateDFObject();var e=this.chart.chartData;if(this.data=e,this.labelRotationR=this.labelRotation,this.type=null,S.ifArray(e)){var i,s=this.chart;"scrollbar"!=this.id?(S.setCN(s,this.set,"category-axis"),S.setCN(s,this.labelsSet,"category-axis"),S.setCN(s,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var F,p,l,d,_,w,c=this.start,T=this.labelFrequency,M=0,j=this.end-c+1,G=this.gridCountR,Y=this.showFirstLabel,z=this.showLastLabel,N="",a=(N=S.extractPeriod(this.minPeriod),S.getPeriodDuration(N.period,N.count)),x=this.rotate,I=this.firstDayOfWeek,h=this.boldPeriodBeginning;i=S.resetDateToMin(new Date(e[e.length-1].time+1.05*a),this.minPeriod,1,I).getTime(),this.firstTime=s.firstTime,this.endTime>i&&(this.endTime=i),w=this.minorGridEnabled,l=this.gridAlpha;var n=0,D=0;if(this.widthField)for(i=this.start;i<=this.end;i++)if(_=this.data[i]){var P=Number(this.data[i].dataContext[this.widthField]);isNaN(P)||(n+=P,_.widthValue=P)}if(this.parseDates&&!this.equalSpacing)this.lastTime=e[e.length-1].time,this.maxTime=S.resetDateToMin(new Date(this.lastTime+1.05*a),this.minPeriod,1,I).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(M=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,i=this.choosePeriod(0),(i=S.getPeriodDuration(T=i.period,p=i.count))<a&&(T=N.period,p=N.count,i=a),"WW"==(l=T)&&(l="DD"),this.currentDateFormat=this.dateFormatsObject[l],this.stepWidth=this.getStepWidth(j),G=Math.ceil(this.timeDifference/i)+1,N=S.resetDateToMin(new Date(this.startTime-i),T,p,I).getTime(),this.cellWidth=this.getStepWidth(j),c=-1,(j=Math.round(N/i))/2==Math.round(j/2)&&(c=-2,N-=i),(j=this.start)/2==Math.round(j/2)&&j--,0>j&&(j=0),(D=this.end+2)>=this.data.length&&(D=this.data.length),e=!1,e=!Y,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),P=j,this.data[j].time!=S.resetDateToMin(new Date(this.data[j].time),T,p,I).getTime()){a=0;var E=N;for(i=j;i<D;i++)this.checkPeriodChange(T,p,_=this.data[i].time,E)&&(2<=++a&&(P=i,i=D),E=_)}if(w&&1<p&&(_=this.chooseMinorFrequency(p),S.getPeriodDuration(T,_)),0<this.gridCountR)for(i=j;i<D;i++)this.checkPeriodChange(T,p,_=this.data[i].time,N)&&i>=P&&(j=this.getCoordinate(i-this.start),w=!1,this.nextPeriod[l]&&(w=this.checkPeriodChange(this.nextPeriod[l],1,_,N,l))&&S.resetDateToMin(new Date(_),this.nextPeriod[l],1,I).getTime()!=_&&(w=!1),a=!1,w&&this.markPeriodChange?(w=this.dateFormatsObject[this.nextPeriod[l]],a=!0):w=this.dateFormatsObject[l],N=S.formatDate(new Date(_),w,s),(i==c&&!Y||i==G&&!z)&&(N=" "),e?e=!1:(h||(a=!1),j-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(N=this.labelFunction(N,new Date(_),this,T,p,d)),this.boldLabels&&(a=!0),w=(F=new this.axisItemRenderer(this,j,N,void 0,void 0,void 0,void 0,a)).graphics(),this.pushAxisItem(F),w=w.getBBox().width,S.isModern||(w-=j),this.previousPos=j+w)),d=N=_)}}else if(this.cellWidth=this.getStepWidth(j),j<G&&(G=j),M+=this.start,this.stepWidth=this.getStepWidth(j),0<G)for(I=Math.floor(j/G),_=this.chooseMinorFrequency(I),(j=M)/2==Math.round(j/2)&&j--,0>j&&(j=0),h=0,this.widthField&&(j=this.start,I=1),this.end-j+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),i=j;i<=this.end+2;i++){if(G=!1,0<=i&&i<this.data.length?(N=(p=this.data[i]).category,G=p.forceShow):N="",w&&!isNaN(_)){if(i/_!=Math.round(i/_)&&!G)continue;i/I==Math.round(i/I)||G||(this.gridAlpha=this.minorGridAlpha,N=void 0)}else if(i/I!=Math.round(i/I)&&!G)continue;j=this.getCoordinate(i-M),G=0,"start"==this.gridPosition&&(j-=this.cellWidth/2,G=this.cellWidth/2),F=!0,d=G,"start"==this.tickPosition&&(d=0,F=!1,G=0),(i==c&&!Y||i==this.end&&!z)&&(N=void 0),Math.round(h/T)!=h/T&&(N=void 0),h++,e=this.cellWidth,x&&(e=NaN,this.ignoreAxisWidth||!s.autoMargins)&&(e="right"==this.position?s.marginRight-this.titleWidth:s.marginLeft-this.titleWidth,e-=this.tickLength+10),this.labelFunction&&p&&(N=this.labelFunction(N,p,this)),N=S.fixBrakes(N),a=!1,this.boldLabels&&(a=!0),i>this.end&&"start"==this.tickPosition&&(N=" "),this.rotate&&this.inside&&(G-=2),isNaN(p.widthValue)||(p.percentWidthValue=p.widthValue/n*100,j=D,D+=e=this.rotate?this.height*p.widthValue/n:this.width*p.widthValue/n,d=G=e/2),(F=new this.axisItemRenderer(this,j,N,F,e,G,void 0,a,d,!1,p.labelColor,p.className)).serialDataItem=p,this.pushAxisItem(F),this.gridAlpha=l}for(i=Y=0;i<this.data.length;i++)(_=this.data[i])&&(this.parseDates&&!this.equalSpacing?(z=_.time,c=this.cellWidth,"MM"==this.minPeriod&&(c=864e5*S.daysInMonth(new Date(z))*this.stepWidth,_.cellWidth=c),z=Math.round((z-this.startTime)*this.stepWidth+c/2)):z=this.getCoordinate(i-M),_.x[this.id]=z);if(this.widthField)for(i=this.start;i<=this.end;i++)(_=this.data[i]).percentWidthValue=(c=_.widthValue)/n*100,this.rotate?(z=this.height*c/n/2+Y,Y=this.height*c/n+Y):(z=this.width*c/n/2+Y,Y=this.width*c/n+Y),_.x[this.id]=z;for(n=this.guides.length,i=0;i<n;i++)I=I=I=w=c=NaN,z=(Y=this.guides[i]).above,Y.toCategory&&(I=s.getCategoryIndexByValue(Y.toCategory),isNaN(I)||(c=this.getCoordinate(I-M),Y.expand&&(c+=this.cellWidth/2),F=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,Y),this.pushAxisItem(F,z))),Y.category&&(I=s.getCategoryIndexByValue(Y.category),isNaN(I)||(w=this.getCoordinate(I-M),Y.expand&&(w-=this.cellWidth/2),F=new this.axisItemRenderer(this,w,Y.label,!0,NaN,I=(c-w)/2,Y),this.pushAxisItem(F,z))),h=s.dataDateFormat,Y.toDate&&(!h||Y.toDate instanceof Date||(Y.toDate=Y.toDate.toString()+" |"),Y.toDate=S.getDate(Y.toDate,h),this.equalSpacing?(I=s.getClosestIndex(this.data,"time",Y.toDate.getTime(),!1,0,this.data.length-1),isNaN(I)||(c=this.getCoordinate(I-M))):c=(Y.toDate.getTime()-this.startTime)*this.stepWidth,F=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,Y),this.pushAxisItem(F,z)),Y.date&&(!h||Y.date instanceof Date||(Y.date=Y.date.toString()+" |"),Y.date=S.getDate(Y.date,h),this.equalSpacing?(I=s.getClosestIndex(this.data,"time",Y.date.getTime(),!1,0,this.data.length-1),isNaN(I)||(w=this.getCoordinate(I-M))):w=(Y.date.getTime()-this.startTime)*this.stepWidth,I=(c-w)/2,F=!0,Y.toDate&&(F=!1),F="H"==this.orientation?new this.axisItemRenderer(this,w,Y.label,F,2*I,NaN,Y):new this.axisItemRenderer(this,w,Y.label,!1,NaN,I,Y),this.pushAxisItem(F,z)),F&&(I=F.label)&&this.addEventListeners(I,Y),(0<c||0<w)&&(I=!1,this.rotate?(c<this.height||w<this.height)&&(I=!0):(c<this.width||w<this.width)&&(I=!0),I&&(w=(c=new this.guideFillRenderer(this,w,c,Y)).graphics(),this.pushAxisItem(c,z),Y.graphics=w,w.index=i,this.addEventListeners(w,Y)));(s=s.chartCursor)&&(x?s.fixHeight(this.cellWidth):(s.fixWidth(this.cellWidth),s.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=m}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(x=this.axisLine.set)&&x.toFront();var m=this.getBBox().height;2<m-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(e){var M,G,i=this.data,s=this.chart,c=s.rotate,T=this.stepWidth;if(this.parseDates&&!this.equalSpacing)e=this.startTime+Math.round(e/T)-this.minDuration()/2,M=s.getClosestIndex(i,"time",e,!1,this.start,this.end+1);else if(this.widthField)for(s=1/0,T=this.start;T<=this.end;T++){var j=this.data[T];j&&(j=Math.abs(j.x[this.id]-e))<s&&(s=j,M=T)}else this.startOnAxis||(e-=T/2),M=this.start+Math.round(e/T);return i[M=S.fitToBounds(M,0,i.length-1)]&&(G=i[M].x[this.id]),c?G>this.height+1&&M--:G>this.width+1&&M--,0>G&&M++,S.fitToBounds(M,0,i.length-1)},dateToCoordinate:function(e){return this.parseDates&&!this.equalSpacing?(e.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(e=this.chart.getClosestIndex(this.data,"time",e.getTime(),!1,0,this.data.length-1),this.getCoordinate(e-this.start)):NaN},categoryToCoordinate:function(e){return this.chart?this.parseDates?this.dateToCoordinate(new Date(e)):(e=this.chart.getCategoryIndexByValue(e),isNaN(e)?void 0:this.getCoordinate(e-this.start)):NaN},coordinateToDate:function(e){return this.equalSpacing?(e=this.xToIndex(e),new Date(this.data[e].time)):new Date(this.startTime+e/this.stepWidth)},coordinateToValue:function(e){if(e=this.xToIndex(e),e=this.data[e])return this.parseDates?e.time:e.category},getCoordinate:function(e){return e*=this.stepWidth,this.startOnAxis||(e+=this.stepWidth/2),Math.round(e)},formatValue:function(e,i){return i||(i=this.currentDateFormat),this.parseDates&&(e=S.formatDate(new Date(e),i,this.chart)),e},showBalloonAt:function(e,i){return void 0===i&&(i=this.parseDates?this.dateToCoordinate(new Date(e)):this.categoryToCoordinate(e)),this.adjustBalloonCoordinate(i)},formatBalloonText:function(e,i,s){var c="",T="",M=this.chart,j=this.data[i];if(j)if(this.parseDates)c=S.formatDate(j.category,s,M),i=S.changeDate(new Date(j.category),this.minPeriod,1),T=S.formatDate(i,s,M),-1!=c.indexOf("fff")&&(c=S.formatMilliseconds(c,j.category),T=S.formatMilliseconds(T,i));else{var G;this.data[i+1]&&(G=this.data[i+1]),c=S.fixNewLines(j.category),G&&(T=S.fixNewLines(G.category))}return(e=e.replace(/\[\[category\]\]/g,String(c))).replace(/\[\[toCategory\]\]/g,String(T))},adjustBalloonCoordinate:function(e,i){var s=this.xToIndex(e),c=this.chart.chartCursor;if(this.stickBalloonToCategory){var T=this.data[s];T&&(e=T.x[this.id]),this.stickBalloonToStart&&(e-=this.cellWidth/2);var M=0;if(c){var j=c.limitToGraph;j&&(j.hidden||(M=T.axes[j.valueAxis.id].graphs[j.id].y)),this.rotate?("left"==this.position?(j&&(M-=c.width),0<M&&(M=0)):0>M&&(M=0),c.fixHLine(e,M)):("top"==this.position?(j&&(M-=c.height),0<M&&(M=0)):0>M&&(M=0),c.fullWidth&&(e+=1),c.fixVLine(e,M))}}return c&&!i&&(c.setIndex(s),this.parseDates&&c.setTimestamp(this.coordinateToDate(e).getTime())),e}})}(),AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}};var chart=AmCharts.makeChart("heatdiv",{type:"serial",theme:"light",dataProvider:[{x:1,y:1,value3:0,color1:"#8EC24A",color2:"#8EC24A",color3:"#8EC24A",color4:"#8EC24A",color5:"#8EC24A"},{x:2,y:1,value3:0,value4:0,color1:"#6AA142",color2:"#8EC24A",color3:"#8EC24A",color4:"#EFD800",color5:"#EFD800"},{x:3,y:1,value3:0,value4:0,color1:"#6AA142",color2:"#8EC24A",color3:"#EFD800",color4:"#FFBA00",color5:"#FFBA00"},{x:4,y:1,value2:0,value3:1,value4:0,value5:0,color1:"#8EC24A",color2:"#e1d92d",color3:"#FFBA00",color4:"#FFBA00",color5:"#ca0101"},{x:5,y:1,value2:"0",value3:"0",value4:"0",value5:"0",color1:"#8EC24A",color2:"#EFD800",color3:"#FFBA00",color4:"#ca0101",color5:"#ca0101"}],graphs:[{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color1",type:"column",valueField:"y",labelText:"[[value1]]",balloonText:"[[value1]]",labelPosition:"middle"},{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color2",type:"column",valueField:"y",labelText:"[[value2]]",balloonText:"[[value2]]",labelPosition:"middle"},{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color3",type:"column",valueField:"y",labelText:"[[value3]]",balloonText:"[[value3]]",labelPosition:"middle"},{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color4",type:"column",valueField:"y",labelText:"[[value4]]",balloonText:"[[value4]]",labelPosition:"middle"},{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color5",type:"column",valueField:"y",labelText:"[[value5]]",balloonText:"[[value5]]",labelPosition:"middle"}],columnWidth:1,categoryField:"x",categoryAxis:{axisAlpha:0,labelsEnabled:!1,guides:[{category:1,label:""},{category:2,label:""},{category:3,label:""},{category:4,label:""},{category:5,label:""}]},valueAxes:[{axisAlpha:0,stackType:"regular",labelsEnabled:!1,gridAlpha:0,tickLength:0,maximum:5,label:"Impact",guides:[{value:.5,label:"Negligible"},{value:1.5,label:"Severe"},{value:2.5,label:"Moderate"},{value:3.5,label:"Minor"},{value:4.5,label:"Critical"}]}]});function drawCalender(){const S=am5.Root.new("calender");S.setThemes([am5themes_Animated.new(S)]);var e=S.container.children.push(am5xy.XYChart.new(S,{panX:!1,panY:!1,wheelX:"none",wheelY:"none",layout:S.verticalLayout})),i=am5xy.AxisRendererY.new(S,{visible:!1,minGridDistance:20,inversed:!0});i.grid.template.set("visible",!1);var s=e.yAxes.push(am5xy.CategoryAxis.new(S,{maxDeviation:0,renderer:i,categoryField:"weekday"})),c=am5xy.AxisRendererX.new(S,{visible:!1,minGridDistance:30,opposite:!0});c.grid.template.set("visible",!1);var T=e.xAxes.push(am5xy.CategoryAxis.new(S,{renderer:c,categoryField:"hour"})),M=e.series.push(am5xy.ColumnSeries.new(S,{calculateAggregates:!0,stroke:am5.color(16777215),clustered:!1,xAxis:T,yAxis:s,categoryXField:"hour",categoryYField:"weekday",valueField:"value"}));M.columns.template.setAll({tooltipText:"{value}",strokeOpacity:1,strokeWidth:2,width:am5.percent(100),height:am5.percent(100)}),M.columns.template.events.on("pointerover",function(Y){var z=Y.target.dataItem;z&&j.showValue(z.get("value",0))}),M.events.on("datavalidated",function(){j.set("startValue",M.getPrivate("valueHigh")),j.set("endValue",M.getPrivate("valueLow"))}),M.set("heatRules",[{target:M.columns.template,min:am5.color(16776055),max:am5.color(16651034),dataField:"value",key:"fill"}]);var j=e.bottomAxesContainer.children.push(am5.HeatLegend.new(S,{orientation:"horizontal",endColor:am5.color(16776055),startColor:am5.color(16651034)}));M.data.setAll([{hour:"12pm",weekday:"Sunday",value:2990},{hour:"1am",weekday:"Sunday",value:2520},{hour:"2am",weekday:"Sunday",value:2334},{hour:"3am",weekday:"Sunday",value:2230},{hour:"4am",weekday:"Sunday",value:2325},{hour:"5am",weekday:"Sunday",value:2019},{hour:"6am",weekday:"Sunday",value:2128},{hour:"7am",weekday:"Sunday",value:2246},{hour:"8am",weekday:"Sunday",value:2421},{hour:"9am",weekday:"Sunday",value:2788},{hour:"10am",weekday:"Sunday",value:2959},{hour:"11am",weekday:"Sunday",value:3018},{hour:"12am",weekday:"Sunday",value:3154},{hour:"1pm",weekday:"Sunday",value:3172},{hour:"2pm",weekday:"Sunday",value:3368},{hour:"3pm",weekday:"Sunday",value:3464},{hour:"4pm",weekday:"Sunday",value:3746},{hour:"5pm",weekday:"Sunday",value:3656},{hour:"6pm",weekday:"Sunday",value:3336},{hour:"7pm",weekday:"Sunday",value:3292},{hour:"8pm",weekday:"Sunday",value:3269},{hour:"9pm",weekday:"Sunday",value:3300},{hour:"10pm",weekday:"Sunday",value:3403},{hour:"11pm",weekday:"Sunday",value:3323},{hour:"12pm",weekday:"Monday",value:3346},{hour:"1am",weekday:"Monday",value:2725},{hour:"2am",weekday:"Monday",value:3052},{hour:"3am",weekday:"Monday",value:3876},{hour:"4am",weekday:"Monday",value:4453},{hour:"5am",weekday:"Monday",value:3972},{hour:"6am",weekday:"Monday",value:4644},{hour:"7am",weekday:"Monday",value:5715},{hour:"8am",weekday:"Monday",value:7080},{hour:"9am",weekday:"Monday",value:8022},{hour:"10am",weekday:"Monday",value:8446},{hour:"11am",weekday:"Monday",value:9313},{hour:"12am",weekday:"Monday",value:9011},{hour:"1pm",weekday:"Monday",value:8508},{hour:"2pm",weekday:"Monday",value:8515},{hour:"3pm",weekday:"Monday",value:8399},{hour:"4pm",weekday:"Monday",value:8649},{hour:"5pm",weekday:"Monday",value:7869},{hour:"6pm",weekday:"Monday",value:6933},{hour:"7pm",weekday:"Monday",value:5969},{hour:"8pm",weekday:"Monday",value:5552},{hour:"9pm",weekday:"Monday",value:5434},{hour:"10pm",weekday:"Monday",value:5070},{hour:"11pm",weekday:"Monday",value:4851},{hour:"12pm",weekday:"Tuesday",value:4468},{hour:"1am",weekday:"Tuesday",value:3306},{hour:"2am",weekday:"Tuesday",value:3906},{hour:"3am",weekday:"Tuesday",value:4413},{hour:"4am",weekday:"Tuesday",value:4726},{hour:"5am",weekday:"Tuesday",value:4584},{hour:"6am",weekday:"Tuesday",value:5717},{hour:"7am",weekday:"Tuesday",value:6504},{hour:"8am",weekday:"Tuesday",value:8104},{hour:"9am",weekday:"Tuesday",value:8813},{hour:"10am",weekday:"Tuesday",value:9278},{hour:"11am",weekday:"Tuesday",value:10425},{hour:"12am",weekday:"Tuesday",value:10137},{hour:"1pm",weekday:"Tuesday",value:9290},{hour:"2pm",weekday:"Tuesday",value:9255},{hour:"3pm",weekday:"Tuesday",value:9614},{hour:"4pm",weekday:"Tuesday",value:9713},{hour:"5pm",weekday:"Tuesday",value:9667},{hour:"6pm",weekday:"Tuesday",value:8774},{hour:"7pm",weekday:"Tuesday",value:8649},{hour:"8pm",weekday:"Tuesday",value:9937},{hour:"9pm",weekday:"Tuesday",value:10286},{hour:"10pm",weekday:"Tuesday",value:9175},{hour:"11pm",weekday:"Tuesday",value:8581},{hour:"12pm",weekday:"Wednesday",value:8145},{hour:"1am",weekday:"Wednesday",value:7177},{hour:"2am",weekday:"Wednesday",value:5657},{hour:"3am",weekday:"Wednesday",value:6802},{hour:"4am",weekday:"Wednesday",value:8159},{hour:"5am",weekday:"Wednesday",value:8449},{hour:"6am",weekday:"Wednesday",value:9453},{hour:"7am",weekday:"Wednesday",value:9947},{hour:"8am",weekday:"Wednesday",value:11471},{hour:"9am",weekday:"Wednesday",value:12492},{hour:"10am",weekday:"Wednesday",value:9388},{hour:"11am",weekday:"Wednesday",value:9928},{hour:"12am",weekday:"Wednesday",value:9644},{hour:"1pm",weekday:"Wednesday",value:9034},{hour:"2pm",weekday:"Wednesday",value:8964},{hour:"3pm",weekday:"Wednesday",value:9069},{hour:"4pm",weekday:"Wednesday",value:8898},{hour:"5pm",weekday:"Wednesday",value:8322},{hour:"6pm",weekday:"Wednesday",value:6909},{hour:"7pm",weekday:"Wednesday",value:5810},{hour:"8pm",weekday:"Wednesday",value:5151},{hour:"9pm",weekday:"Wednesday",value:4911},{hour:"10pm",weekday:"Wednesday",value:4487},{hour:"11pm",weekday:"Wednesday",value:4118},{hour:"12pm",weekday:"Thursday",value:3689},{hour:"1am",weekday:"Thursday",value:3081},{hour:"2am",weekday:"Thursday",value:6525},{hour:"3am",weekday:"Thursday",value:6228},{hour:"4am",weekday:"Thursday",value:6917},{hour:"5am",weekday:"Thursday",value:6568},{hour:"6am",weekday:"Thursday",value:6405},{hour:"7am",weekday:"Thursday",value:8106},{hour:"8am",weekday:"Thursday",value:8542},{hour:"9am",weekday:"Thursday",value:8501},{hour:"10am",weekday:"Thursday",value:8802},{hour:"11am",weekday:"Thursday",value:9420},{hour:"12am",weekday:"Thursday",value:8966},{hour:"1pm",weekday:"Thursday",value:8135},{hour:"2pm",weekday:"Thursday",value:8224},{hour:"3pm",weekday:"Thursday",value:8387},{hour:"4pm",weekday:"Thursday",value:8218},{hour:"5pm",weekday:"Thursday",value:7641},{hour:"6pm",weekday:"Thursday",value:6469},{hour:"7pm",weekday:"Thursday",value:5441},{hour:"8pm",weekday:"Thursday",value:4952},{hour:"9pm",weekday:"Thursday",value:4643},{hour:"10pm",weekday:"Thursday",value:4393},{hour:"11pm",weekday:"Thursday",value:4017},{hour:"12pm",weekday:"Friday",value:4022},{hour:"1am",weekday:"Friday",value:3063},{hour:"2am",weekday:"Friday",value:3638},{hour:"3am",weekday:"Friday",value:3968},{hour:"4am",weekday:"Friday",value:4070},{hour:"5am",weekday:"Friday",value:4019},{hour:"6am",weekday:"Friday",value:4548},{hour:"7am",weekday:"Friday",value:5465},{hour:"8am",weekday:"Friday",value:6909},{hour:"9am",weekday:"Friday",value:7706},{hour:"10am",weekday:"Friday",value:7867},{hour:"11am",weekday:"Friday",value:8615},{hour:"12am",weekday:"Friday",value:8218},{hour:"1pm",weekday:"Friday",value:7604},{hour:"2pm",weekday:"Friday",value:7429},{hour:"3pm",weekday:"Friday",value:7488},{hour:"4pm",weekday:"Friday",value:7493},{hour:"5pm",weekday:"Friday",value:6998},{hour:"6pm",weekday:"Friday",value:5941},{hour:"7pm",weekday:"Friday",value:5068},{hour:"8pm",weekday:"Friday",value:4636},{hour:"9pm",weekday:"Friday",value:4241},{hour:"10pm",weekday:"Friday",value:3858},{hour:"11pm",weekday:"Friday",value:3833},{hour:"12pm",weekday:"Saturday",value:3503},{hour:"1am",weekday:"Saturday",value:2842},{hour:"2am",weekday:"Saturday",value:2808},{hour:"3am",weekday:"Saturday",value:2399},{hour:"4am",weekday:"Saturday",value:2280},{hour:"5am",weekday:"Saturday",value:2139},{hour:"6am",weekday:"Saturday",value:2527},{hour:"7am",weekday:"Saturday",value:2940},{hour:"8am",weekday:"Saturday",value:3066},{hour:"9am",weekday:"Saturday",value:3494},{hour:"10am",weekday:"Saturday",value:3287},{hour:"11am",weekday:"Saturday",value:3416},{hour:"12am",weekday:"Saturday",value:3432},{hour:"1pm",weekday:"Saturday",value:3523},{hour:"2pm",weekday:"Saturday",value:3542},{hour:"3pm",weekday:"Saturday",value:3347},{hour:"4pm",weekday:"Saturday",value:3292},{hour:"5pm",weekday:"Saturday",value:3416},{hour:"6pm",weekday:"Saturday",value:3131},{hour:"7pm",weekday:"Saturday",value:3057},{hour:"8pm",weekday:"Saturday",value:3227},{hour:"9pm",weekday:"Saturday",value:3060},{hour:"10pm",weekday:"Saturday",value:2855},{hour:"11pm",weekday:"Saturday",value:2625}]),s.data.setAll([{weekday:"Sunday"},{weekday:"Monday"},{weekday:"Tuesday"},{weekday:"Wednesday"},{weekday:"Thursday"},{weekday:"Friday"},{weekday:"Saturday"}]),T.data.setAll([{hour:"12pm"},{hour:"1am"},{hour:"2am"},{hour:"3am"},{hour:"4am"},{hour:"5am"},{hour:"6am"},{hour:"7am"},{hour:"8am"},{hour:"9am"},{hour:"10am"},{hour:"11am"},{hour:"12am"},{hour:"1pm"},{hour:"2pm"},{hour:"3pm"},{hour:"4pm"},{hour:"5pm"},{hour:"6pm"},{hour:"7pm"},{hour:"8pm"},{hour:"9pm"},{hour:"10pm"},{hour:"11pm"}]),e.appear(1e3,100)}function drawBar(){Highcharts.chart("container-barchart",{chart:{type:"bar"},title:{text:"Result",align:"left"},subtitle:{text:""},xAxis:{categories:["Completed","Not ready","In progress","Not applicable"],title:{text:null}},yAxis:{min:0,title:{text:"",align:"high"},labels:{overflow:"justify"}},tooltip:{value:"false"},legend:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!1}},series:{colorByPoint:!0,colors:["#7FBF69","#E2735A","#F2D486",""],enabled:!1}},credits:{enabled:!1},series:[{data:[28,6,20,0]}]})}function drawdonutProgress(){chart=new Highcharts.Chart({chart:{renderTo:"container-donut",type:"pie"},title:{text:"63%",align:"center",verticalAlign:"middle",y:20},yAxis:{title:{text:""}},plotOptions:{pie:{shadow:!1,point:{events:{mouseOver:function(i){this.originalRadius=this.graphic.r,this.graphic.animate({r:1.07*this.originalRadius},200)},mouseOut:function(i){this.graphic.animate({r:this.originalRadius},200)}}}}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y+" %"}},series:[{name:"Data",colors:["#024664","#D7F0FB"],data:[["Nigeria",63],["B",37]],size:"100%",innerSize:"70%",showInLegend:!1,dataLabels:{enabled:!1},states:{hover:{halo:!1}}}]}),console.log(chart),console.log(chart.options.series[0].innerSize*chart.Height),chart.renderer.circle("50%","50%",130).attr({fill:"#fff"}).add()}function drawdonutProgress1(){chart=new Highcharts.Chart({chart:{renderTo:"container-donut2",type:"pie"},title:{text:"49%",align:"center",verticalAlign:"middle",y:20},yAxis:{title:{text:""}},plotOptions:{pie:{shadow:!1,point:{events:{mouseOver:function(i){this.originalRadius=this.graphic.r,this.graphic.animate({r:1.07*this.originalRadius},200)},mouseOut:function(i){this.graphic.animate({r:this.originalRadius},200)}}}}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y+" %"}},series:[{name:"Data",colors:["#024664","#D7F0FB"],data:[["Afro",49],["B",51]],size:"100%",innerSize:"70%",showInLegend:!1,dataLabels:{enabled:!1},states:{hover:{halo:!1}}}]}),console.log(chart),console.log(chart.options.series[0].innerSize*chart.Height),chart.renderer.circle("50%","50%",130).attr({fill:"#fff"}).add()}function drawdonutProgress2(){chart=new Highcharts.Chart({chart:{renderTo:"container-donut3",type:"pie"},title:{text:"64%",align:"center",verticalAlign:"middle",y:20},yAxis:{title:{text:""}},plotOptions:{pie:{shadow:!1,point:{events:{mouseOver:function(i){this.originalRadius=this.graphic.r,this.graphic.animate({r:1.07*this.originalRadius},200)},mouseOut:function(i){this.graphic.animate({r:this.originalRadius},200)}}}}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y+" %"}},series:[{name:"Data",colors:["#024664","#D7F0FB"],data:[["Global Average",64],["B",51]],size:"100%",innerSize:"70%",showInLegend:!1,dataLabels:{enabled:!1},states:{hover:{halo:!1}}}]}),console.log(chart),console.log(chart.options.series[0].innerSize*chart.Height),chart.renderer.circle("50%","50%",130).attr({fill:"#fff"}).add()}function drawChart(){Highcharts.chart("container-chart2",{title:{text:"iHR Score Per Capacity AFRO Nigeria 2021",align:"center"},xAxis:{categories:["1","2","3","4","5","6","7","8","9","10","11","12"]},yAxis:{title:{text:"unit"}},labels:{items:[{html:"",style:{left:"50px",top:"18px",color:Highcharts.defaultOptions.title.style&&Highcharts.defaultOptions.title.style.color||"black"}}],series:{colorByPoint:!0,colors:["#2f7ed8"]}},legend:{enabled:!1},series:[{color:"#024664",type:"column",data:[420,430,690,410,490,420,490,590,610,400,600,590]},{type:"spline",name:"",color:"#D7F0FB",data:[120,430,280,680,300,320,900,500,790,200,800,590],marker:{lineWidth:2,lineColor:"#D7F0FB",fillColor:"#3BB346"}}]})}(function(){var S,e,i,s,c,T={3145:function(F,N,a){"use strict";a.d(N,{UZ:function(){return d},cP:function(){return l},i_:function(){return p}});const p=new class{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.3.0"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};function l(_){p.licenses.push(_)}function d(){let _;for(;_=p.rootElements.pop();)_.dispose()}},6493:function(F,N,a){"use strict";a.d(N,{f:function(){return ji}});var p=a(8777),l=a(2036),d=a(4431),_=a(1706),w=a(6881),x=a(7449),I=a(5071),h=a(7652);class n{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(Z=>{I.each(Z,Q=>{I.each(this._targets,ht=>{ht.target===Q.target&&ht.callback()})})})}addTarget(Z,Q){this._observer.observe(Z,{box:"border-box"}),this._targets.push({target:Z,callback:Q})}removeTarget(Z){this._observer.unobserve(Z),I.keepIf(this._targets,Q=>Q.target!==Z)}}class D{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(Z,Q){if(null===this._timer){let ht=null;const xt=()=>{const Lt=Date.now();(null===ht||Lt>ht+D.delay)&&(ht=Lt,I.each(this._targets,Ut=>{let re=Ut.target.getBoundingClientRect();re.width===Ut.size.width&&re.height===Ut.size.height||(Ut.size=re,Ut.callback())})),this._timer=0===this._targets.length?null:requestAnimationFrame(xt)};this._timer=requestAnimationFrame(xt)}this._targets.push({target:Z,callback:Q,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}removeTarget(Z){I.keepIf(this._targets,Q=>Q.target!==Z),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(D,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let P=null;class E{constructor(Z,Q){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=(null===P&&(P=typeof ResizeObserver<"u"?new n:new D),P),this._element=Z,this._listener=h.onZoom(Q),this._sensor.addTarget(Z,Q)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}var m=a(9821),C=a(1479),A=a(7142),k=a(2876),f=a(780),o=a(6460),R=a(798),U=a(6331),X=a(3100);class tt extends U.JH{_setDefaults(){this.setPrivate("defaultLocale",X.Z),super._setDefaults()}translate(Z,Q,...ht){Q||(Q=this._root.locale||this.getPrivate("defaultLocale"));let xt=Z,Lt=Q[Z];if(null===Lt)xt="";else if(null!=Lt)Lt&&(xt=Lt);else if(Q!==this.getPrivate("defaultLocale"))return this.translate(Z,this.getPrivate("defaultLocale"),...ht);if(ht.length)for(let Ut=ht.length,re=0;re<Ut;++re)xt=xt.split("%"+(re+1)).join(ht[re]);return xt}translateAny(Z,Q,...ht){return this.translate(Z,Q,...ht)}setTranslationAny(Z,Q,ht){(ht||this._root.locale)[Z]=Q}translateEmpty(Z,Q,...ht){let xt=this.translate(Z,Q,...ht);return xt==Z?"":xt}translateFunc(Z,Q){return this._root.locale[Z]?this._root.locale[Z]:Q!==this.getPrivate("defaultLocale")?this.translateFunc(Z,this.getPrivate("defaultLocale")):()=>""}translateAll(Z,Q){return this.isDefault()?Z:I.map(Z,ht=>this.translate(ht,Q))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}var pt=a(9770),ot=a(3783),W=a(4680),K=a(1112);class gt{constructor(Z=1,Q=0,ht=0,xt=1,Lt=0,Ut=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=Z,this.b=Q,this.c=ht,this.d=xt,this.tx=Lt,this.ty=Ut}setTransform(Z,Q,ht,xt,Lt,Ut=1){this.a=Math.cos(Lt)*Ut,this.b=Math.sin(Lt)*Ut,this.c=-Math.sin(Lt)*Ut,this.d=Math.cos(Lt)*Ut,this.tx=Z-(ht*this.a+xt*this.c),this.ty=Q-(ht*this.b+xt*this.d)}apply(Z){return{x:this.a*Z.x+this.c*Z.y+this.tx,y:this.b*Z.x+this.d*Z.y+this.ty}}applyInverse(Z){const Q=1/(this.a*this.d+this.c*-this.b);return{x:this.d*Q*Z.x+-this.c*Q*Z.y+(this.ty*this.c-this.tx*this.d)*Q,y:this.a*Q*Z.y+-this.b*Q*Z.x+(-this.ty*this.a+this.tx*this.b)*Q}}append(Z){const Q=this.a,ht=this.b,xt=this.c,Lt=this.d;this.a=Z.a*Q+Z.b*xt,this.b=Z.a*ht+Z.b*Lt,this.c=Z.c*Q+Z.d*xt,this.d=Z.c*ht+Z.d*Lt,this.tx=Z.tx*Q+Z.ty*xt+this.tx,this.ty=Z.tx*ht+Z.ty*Lt+this.ty}prepend(Z){const Q=this.tx;if(1!==Z.a||0!==Z.b||0!==Z.c||1!==Z.d){const ht=this.a,xt=this.c;this.a=ht*Z.a+this.b*Z.c,this.b=ht*Z.b+this.b*Z.d,this.c=xt*Z.a+this.d*Z.c,this.d=xt*Z.b+this.d*Z.d}this.tx=Q*Z.a+this.ty*Z.c+Z.tx,this.ty=Q*Z.b+this.ty*Z.d+Z.ty}copyFrom(Z){this.a=Z.a,this.b=Z.b,this.c=Z.c,this.d=Z.d,this.tx=Z.tx,this.ty=Z.ty}}var yt=a(6245),_t=a(7255),rt=a(256),ut=a(5040),at=a(751),Ct=2*Math.PI,vt=function(We,Z,Q,ht,xt,Lt,Ut){var re=We.x,Xt=We.y;return{x:ht*(re*=Z)-xt*(Xt*=Q)+Lt,y:xt*re+ht*Xt+Ut}},ct=function(We,Z){var Q=1.5707963267948966===Z?.551915024494:-1.5707963267948966===Z?-.551915024494:1.3333333333333333*Math.tan(Z/4),ht=Math.cos(We),xt=Math.sin(We),Lt=Math.cos(We+Z),Ut=Math.sin(We+Z);return[{x:ht-xt*Q,y:xt+ht*Q},{x:Lt+Ut*Q,y:Ut-Lt*Q},{x:Lt,y:Ut}]},Tt=function(We,Z,Q,ht){var xt=We*Q+Z*ht;return xt>1&&(xt=1),xt<-1&&(xt=-1),(We*ht-Z*Q<0?-1:1)*Math.acos(xt)},kt=function(We){var Z=We.px,Q=We.py,ht=We.cx,xt=We.cy,Lt=We.rx,Ut=We.ry,re=We.xAxisRotation,Xt=void 0===re?0:re,oe=We.largeArcFlag,Le=void 0===oe?0:oe,Oe=We.sweepFlag,Qe=void 0===Oe?0:Oe,ue=[];if(0===Lt||0===Ut)return[];var Ye=Math.sin(Xt*Ct/360),De=Math.cos(Xt*Ct/360),di=De*(Z-ht)/2+Ye*(Q-xt)/2,Xe=-Ye*(Z-ht)/2+De*(Q-xt)/2;if(0===di&&0===Xe)return[];Lt=Math.abs(Lt),Ut=Math.abs(Ut);var Oi=Math.pow(di,2)/Math.pow(Lt,2)+Math.pow(Xe,2)/Math.pow(Ut,2);Oi>1&&(Lt*=Math.sqrt(Oi),Ut*=Math.sqrt(Oi));var oi=function(Qn,wn){if(Array.isArray(Qn))return Qn;if(Symbol.iterator in Object(Qn))return function(Yn,In){var An=[],zi=!0,Xn=!1,Lr=void 0;try{for(var qn,lr=Yn[Symbol.iterator]();!(zi=(qn=lr.next()).done)&&(An.push(qn.value),4!==An.length);zi=!0);}catch(Xr){Xn=!0,Lr=Xr}finally{try{!zi&&lr.return&&lr.return()}finally{if(Xn)throw Lr}}return An}(Qn);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(Qn,wn,Yn,In,An,zi,Xn,Lr,qn,lr,Xr,Kr){var nr=Math.pow(An,2),Rr=Math.pow(zi,2),kr=Math.pow(Xr,2),Ur=Math.pow(Kr,2),Br=nr*Rr-nr*Ur-Rr*kr;Br<0&&(Br=0),Br/=nr*Ur+Rr*kr;var wr=(Br=Math.sqrt(Br)*(Xn===Lr?-1:1))*An/zi*Kr,io=Br*-zi/An*Xr,no=lr*wr-qn*io+(Qn+Yn)/2,Bo=qn*wr+lr*io+(wn+In)/2,Jr=(Xr-wr)/An,Vo=(Kr-io)/zi,Zr=(-Xr-wr)/An,to=(-Kr-io)/zi,fo=Tt(1,0,Jr,Vo),$r=Tt(Jr,Vo,Zr,to);return 0===Lr&&$r>0&&($r-=Ct),1===Lr&&$r<0&&($r+=Ct),[no,Bo,fo,$r]}(Z,Q,ht,xt,Lt,Ut,Le,Qe,Ye,De,di,Xe)),an=oi[0],Ii=oi[1],Pn=oi[2],yn=oi[3],bn=Math.abs(yn)/(Ct/4);Math.abs(1-bn)<1e-7&&(bn=1);var En=Math.max(Math.ceil(bn),1);yn/=En;for(var kn=0;kn<En;kn++)ue.push(ct(Pn,yn)),Pn+=yn;return ue.map(function(Qn){var wn=vt(Qn[0],Lt,Ut,De,Ye,an,Ii),Yn=wn.x,In=wn.y,An=vt(Qn[1],Lt,Ut,De,Ye,an,Ii),zi=An.x,Xn=An.y,Lr=vt(Qn[2],Lt,Ut,De,Ye,an,Ii);return{x1:Yn,y1:In,x2:zi,y2:Xn,x:Lr.x,y:Lr.y}})};function Ft(We,Z,Q){if(Z!==Q)throw new Error("Required "+Q+" arguments for "+We+" but got "+Z)}function Ot(We,Z,Q){if(Z<Q)throw new Error("Required at least "+Q+" arguments for "+We+" but got "+Z)}function jt(We,Z,Q){if(Ot(We,Z,Q),Z%Q!=0)throw new Error("Arguments for "+We+" must be in pairs of "+Q)}function $t(We){for(let Z=0;Z<We.length;Z+=7){let Q=Z+3,ht=We[Q];if(ht.length>1){const xt=/^([01])([01])(.*)$/.exec(ht);null!==xt&&(We.splice(Q,0,xt[1]),++Q,We.splice(Q,0,xt[2]),++Q,xt[3].length>0?We[Q]=xt[3]:We.splice(Q,1))}if(++Q,ht=We[Q],ht.length>1){const xt=/^([01])(.+)$/.exec(ht);null!==xt&&(We.splice(Q,0,xt[1]),++Q,We[Q]=xt[2])}}}function Wt(We){if(0===We||1===We)return We;throw new Error("Flag must be 0 or 1")}function ne(We,Z){for(;(!We.interactive||Z(We))&&We._parent;)We=We._parent}function Jt(We,Z,Q){return h.addEventListener(We,h.getRendererEvent(Z),ht=>{let xt=ht.touches;xt?(0==xt.length&&(xt=ht.changedTouches),Q(I.copy(xt))):Q([ht])})}function Nt(We){const Z=document.createElement("canvas");Z.width=1,Z.height=1;const Q=Z.getContext("2d",{willReadFrequently:!0});Q.drawImage(We,0,0,1,1);try{return Q.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+We.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Rt(We){We.width=0,We.height=0,We.style.width="0px",We.style.height="0px"}class ie{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(Z){this._x=Z}set y(Z){this._y=Z}}class se extends x.KK{constructor(Z){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new ie}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new gt}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new gt}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new gt}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=Z}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let Z=this;for(;;){if(Z._layer)return Z._layer;if(!Z._parent)return this._renderer.defaultLayer;Z=Z._parent}}setLayer(Z,Q){null==Z?this._layer=void 0:(this._layer=this._renderer.getLayer(Z,!0),this._layer.visible=!0,this._layer.margin=Q,Q&&h.setInteractive(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(Z){}_getColorId(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(){return 0==this.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(){return this._isInteractive()}contains(Z){for(;;){if(Z===this)return!0;if(!Z._parent)return!1;Z=Z._parent}}toGlobal(Z){return this._matrix.apply(Z)}toLocal(Z){return this._matrix.applyInverse(Z)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(Z){this._setMatrix();const Q=this.getLocalMatrix(),ht=Q.apply({x:Z.left,y:Z.top}),xt=Q.apply({x:Z.right,y:Z.top}),Lt=Q.apply({x:Z.right,y:Z.bottom}),Ut=Q.apply({x:Z.left,y:Z.bottom});return{left:Math.min(ht.x,xt.x,Lt.x,Ut.x),top:Math.min(ht.y,xt.y,Lt.y,Ut.y),right:Math.max(ht.x,xt.x,Lt.x,Ut.x),bottom:Math.max(ht.y,xt.y,Lt.y,Ut.y)}}on(Z,Q,ht){return this.interactive?this._renderer._addEvent(this,Z,Q,ht):new x.ku(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(Z,Q){const ht=this._matrix;let xt=ht.tx*Q,Lt=ht.ty*Q;this.crisp&&(xt=Math.floor(xt)+.5,Lt=Math.floor(Lt)+.5),Z.setTransform(ht.a*Q,ht.b*Q,ht.c*Q,ht.d*Q,xt,Lt)}_transformMargin(Z,Q,ht){const xt=this._matrix;Z.setTransform(xt.a*Q,xt.b*Q,xt.c*Q,xt.d*Q,(xt.tx+ht.left)*Q,(xt.ty+ht.top)*Q)}_transformLayer(Z,Q,ht){ht.margin?this._transformMargin(Z,ht.scale||Q,ht.margin):this._transform(Z,ht.scale||Q)}render(Z){if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();const Q=this._renderer.resolution,ht=this._renderer.layers,xt=this._renderer._ghostLayer,Lt=xt.context,Ut=this.mask;Ut&&Ut._setMatrix(),I.each(ht,re=>{if(re){const Xt=re.context;Xt.save(),Ut&&(Ut._transformLayer(Xt,Q,re),Ut._runPath(Xt),Xt.clip()),Xt.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(Xt,Q,re),this.filter&&(Xt.filter=this.filter)}}),Lt.save(),Ut&&this._isInteractiveMask()&&(Ut._transformMargin(Lt,Q,xt.margin),Ut._runPath(Lt),Lt.clip()),this._transformMargin(Lt,Q,xt.margin),this._render(Z),Lt.restore(),I.each(ht,re=>{re&&re.context.restore()})}}_render(Z){!1===this.exportable&&((this._layer||Z).tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(Z=>Z.value===this)}shouldCancelTouch(){const Z=this._renderer;return!(Z.tapToActivate&&!Z._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}class ce extends se{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(){return this.interactiveChildren||super._isInteractiveMask()}addChild(Z){Z._parent=this,this._children.push(Z),Z._layer&&this.registerChildLayer(Z._layer)}addChildAt(Z,Q){Z._parent=this,this._children.splice(Q,0,Z),Z._layer&&this.registerChildLayer(Z._layer)}removeChild(Z){Z._parent=void 0,I.removeFirst(this._children,Z)}_render(Z){super._render(Z);const Q=this._renderer;this.interactive&&this.interactiveChildren&&++Q._forceInteractive;const ht=this._layer||Z;I.each(this._children,xt=>{xt.compoundAlpha=this.compoundAlpha*this.alpha,xt.render(ht)}),this.interactive&&this.interactiveChildren&&--Q._forceInteractive}registerChildLayer(Z){this._childLayers||(this._childLayers=[]),I.pushOne(this._childLayers,Z),this._parent&&this._parent.registerChildLayer(Z)}markDirtyLayer(Z=!1){super.markDirtyLayer(),Z&&this._childLayers&&I.each(this._childLayers,Q=>Q.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&I.each(this._childLayers,Z=>{Z.dirty=!0})}}function te(We,Z){We.left=Math.min(We.left,Z.x),We.top=Math.min(We.top,Z.y),We.right=Math.max(We.right,Z.x),We.bottom=Math.max(We.bottom,Z.y)}class Ie{colorize(Z,Q){}path(Z){}addBounds(Z){}}class Ve extends Ie{constructor(Z){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:Z})}colorize(Z,Q){Z.fillStyle=void 0!==Q?Q:this.color}}class Ai extends Ie{constructor(Z){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:Z})}colorize(Z,Q){Z.fill(),this.clearShadow&&(Z.shadowColor="",Z.shadowBlur=0,Z.shadowOffsetX=0,Z.shadowOffsetY=0)}}class gi extends Ie{colorize(Z,Q){Z.stroke()}}class pi extends Ie{constructor(Z,Q,ht){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:ht})}colorize(Z,Q){Z.strokeStyle=void 0!==Q?Q:this.color,Z.lineWidth=this.width,this.lineJoin&&(Z.lineJoin=this.lineJoin)}}class Ri extends Ie{constructor(Z){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:Z})}colorize(Z,Q){Z.setLineDash(this.dash)}}class ti extends Ie{constructor(Z){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:Z})}colorize(Z,Q){Z.lineDashOffset=this.dashOffset}}class Ti extends Ie{constructor(Z,Q,ht,xt){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:xt})}path(Z){Z.rect(this.x,this.y,this.width,this.height)}addBounds(Z){const Q=this.x,ht=this.y,xt=Q+this.width,Lt=ht+this.height;te(Z,{x:Q,y:ht}),te(Z,{x:xt,y:ht}),te(Z,{x:Q,y:Lt}),te(Z,{x:xt,y:Lt})}}class xi extends Ie{constructor(Z,Q,ht){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:ht})}path(Z){Z.moveTo(this.x+this.radius,this.y),Z.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(Z){te(Z,{x:this.x-this.radius,y:this.y-this.radius}),te(Z,{x:this.x+this.radius,y:this.y+this.radius})}}class be extends Ie{constructor(Z,Q,ht,xt){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:xt})}path(Z){Z.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}addBounds(Z){te(Z,{x:this.x-this.radiusX,y:this.y-this.radiusY}),te(Z,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class ii extends Ie{constructor(Z,Q,ht,xt,Lt,Ut){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:xt}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:Lt}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:Ut})}path(Z){this.radius>0&&Z.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(Z){let Q=at.getArcBounds(this.cx,this.cy,this.startAngle*at.DEGREES,this.endAngle*at.DEGREES,this.radius);te(Z,{x:Q.left,y:Q.top}),te(Z,{x:Q.right,y:Q.bottom})}}class nt extends Ie{constructor(Z,Q,ht,xt,Lt){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:xt}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:Lt})}path(Z){this.radius>0&&Z.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(Z){}}class St extends Ie{constructor(Z,Q){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:Q})}path(Z){Z.lineTo(this.x,this.y)}addBounds(Z){te(Z,{x:this.x,y:this.y})}}class Gt extends Ie{constructor(Z,Q){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:Q})}path(Z){Z.moveTo(this.x,this.y)}addBounds(Z){te(Z,{x:this.x,y:this.y})}}class ee extends Ie{path(Z){Z.closePath()}}class ge extends Ie{constructor(Z,Q,ht,xt,Lt,Ut){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:xt}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:Lt}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:Ut})}path(Z){Z.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(Z){te(Z,{x:this.cpX,y:this.cpY}),te(Z,{x:this.cpX2,y:this.cpY2}),te(Z,{x:this.toX,y:this.toY})}}class Ae extends Ie{constructor(Z,Q,ht,xt){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:xt})}path(Z){Z.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(Z){te(Z,{x:this.cpX,y:this.cpY}),te(Z,{x:this.toX,y:this.toY})}}class yi extends Ie{constructor(Z,Q,ht,xt,Lt){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:xt}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:Lt})}colorize(Z,Q){this.opacity&&(Z.fillStyle=this.color),Z.shadowColor=this.color,Z.shadowBlur=this.blur,Z.shadowOffsetX=this.offsetX,Z.shadowOffsetY=this.offsetY}}class Fi extends Ie{constructor(Z,Q,ht,xt,Lt){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:xt}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:Lt})}path(Z){Z.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(Z){te(Z,{x:this.x,y:this.y}),te(Z,{x:this.width,y:this.height})}}class Li extends se{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:W.b.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(Z){this._operations.push(Z)}beginFill(Z,Q=1){this._fillAlpha=Q,Z?Z instanceof K.Il?this._pushOp(new Ve(Z.toCSS(Q))):(this.isMeasured=!0,this._pushOp(new Ve(Z))):this._pushOp(new Ve("rgba(0, 0, 0, "+Q+")"))}endFill(){this._pushOp(new Ai(this._hasShadows))}endStroke(){this._pushOp(new gi)}lineStyle(Z=0,Q,ht=1,xt){this._strokeAlpha=ht,this._pushOp(new pi(Z,Q?Q instanceof K.Il?Q.toCSS(ht):Q:"rgba(0, 0, 0, "+ht+")",xt))}setLineDash(Z){this._pushOp(new Ri(Z||[]))}setLineDashOffset(Z=0){this._pushOp(new ti(Z))}drawRect(Z,Q,ht,xt){this._pushOp(new Ti(Z,Q,ht,xt))}drawCircle(Z,Q,ht){this._pushOp(new xi(Z,Q,ht))}drawEllipse(Z,Q,ht,xt){this._pushOp(new be(Z,Q,ht,xt))}arc(Z,Q,ht,xt,Lt,Ut=!1){this._pushOp(new ii(Z,Q,ht,xt,Lt,Ut))}arcTo(Z,Q,ht,xt,Lt){this._pushOp(new nt(Z,Q,ht,xt,Lt))}lineTo(Z,Q){this._pushOp(new St(Z,Q))}moveTo(Z,Q){this._pushOp(new Gt(Z,Q))}bezierCurveTo(Z,Q,ht,xt,Lt,Ut){this._pushOp(new ge(Z,Q,ht,xt,Lt,Ut))}quadraticCurveTo(Z,Q,ht,xt){this._pushOp(new Ae(Z,Q,ht,xt))}closePath(){this._pushOp(new ee)}shadow(Z,Q=0,ht=0,xt=0,Lt){this._hasShadows=!0,this._pushOp(new yi(Z.toCSS(Lt||this._fillAlpha||this._strokeAlpha),Q,ht,xt))}image(Z,Q,ht,xt,Lt){this._pushOp(new Fi(Z,Q,ht,xt,Lt))}svgPath(Z){let Q=0,ht=0,xt=null,Lt=null,Ut=null,re=null;const Xt=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,oe=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let Le;for(;null!==(Le=Xt.exec(Z));){const Oe=Le[1],Qe=Le[2],ue=[];for(;null!==(Le=oe.exec(Qe));)ue.push(Le[1]);switch("S"!==Oe&&"s"!==Oe&&"C"!==Oe&&"c"!==Oe&&(xt=null,Lt=null),"Q"!==Oe&&"q"!==Oe&&"T"!==Oe&&"t"!==Oe&&(Ut=null,re=null),Oe){case"M":jt(Oe,ue.length,2),Q=+ue[0],ht=+ue[1],this.moveTo(Q,ht);for(let De=2;De<ue.length;De+=2)Q=+ue[De],ht=+ue[De+1],this.lineTo(Q,ht);break;case"m":jt(Oe,ue.length,2),Q+=+ue[0],ht+=+ue[1],this.moveTo(Q,ht);for(let De=2;De<ue.length;De+=2)Q+=+ue[De],ht+=+ue[De+1],this.lineTo(Q,ht);break;case"L":jt(Oe,ue.length,2);for(let De=0;De<ue.length;De+=2)Q=+ue[De],ht=+ue[De+1],this.lineTo(Q,ht);break;case"l":jt(Oe,ue.length,2);for(let De=0;De<ue.length;De+=2)Q+=+ue[De],ht+=+ue[De+1],this.lineTo(Q,ht);break;case"H":Ot(Oe,ue.length,1);for(let De=0;De<ue.length;++De)Q=+ue[De],this.lineTo(Q,ht);break;case"h":Ot(Oe,ue.length,1);for(let De=0;De<ue.length;++De)Q+=+ue[De],this.lineTo(Q,ht);break;case"V":Ot(Oe,ue.length,1);for(let De=0;De<ue.length;++De)ht=+ue[De],this.lineTo(Q,ht);break;case"v":Ot(Oe,ue.length,1);for(let De=0;De<ue.length;++De)ht+=+ue[De],this.lineTo(Q,ht);break;case"C":jt(Oe,ue.length,6);for(let De=0;De<ue.length;De+=6)xt=+ue[De+2],Lt=+ue[De+3],Q=+ue[De+4],ht=+ue[De+5],this.bezierCurveTo(+ue[De],+ue[De+1],xt,Lt,Q,ht);break;case"c":jt(Oe,ue.length,6);for(let De=0;De<ue.length;De+=6){const di=+ue[De]+Q,Xe=+ue[De+1]+ht;xt=+ue[De+2]+Q,Lt=+ue[De+3]+ht,Q+=+ue[De+4],ht+=+ue[De+5],this.bezierCurveTo(di,Xe,xt,Lt,Q,ht)}break;case"S":jt(Oe,ue.length,4),null!==xt&&null!==Lt||(xt=Q,Lt=ht);for(let De=0;De<ue.length;De+=4){const di=2*Q-xt,Xe=2*ht-Lt;xt=+ue[De],Lt=+ue[De+1],Q=+ue[De+2],ht=+ue[De+3],this.bezierCurveTo(di,Xe,xt,Lt,Q,ht)}break;case"s":jt(Oe,ue.length,4),null!==xt&&null!==Lt||(xt=Q,Lt=ht);for(let De=0;De<ue.length;De+=4){const di=2*Q-xt,Xe=2*ht-Lt;xt=+ue[De]+Q,Lt=+ue[De+1]+ht,Q+=+ue[De+2],ht+=+ue[De+3],this.bezierCurveTo(di,Xe,xt,Lt,Q,ht)}break;case"Q":jt(Oe,ue.length,4);for(let De=0;De<ue.length;De+=4)Ut=+ue[De],re=+ue[De+1],Q=+ue[De+2],ht=+ue[De+3],this.quadraticCurveTo(Ut,re,Q,ht);break;case"q":jt(Oe,ue.length,4);for(let De=0;De<ue.length;De+=4)Ut=+ue[De]+Q,re=+ue[De+1]+ht,Q+=+ue[De+2],ht+=+ue[De+3],this.quadraticCurveTo(Ut,re,Q,ht);break;case"T":jt(Oe,ue.length,2),null!==Ut&&null!==re||(Ut=Q,re=ht);for(let De=0;De<ue.length;De+=2)Ut=2*Q-Ut,re=2*ht-re,Q=+ue[De],ht=+ue[De+1],this.quadraticCurveTo(Ut,re,Q,ht);break;case"t":jt(Oe,ue.length,2),null!==Ut&&null!==re||(Ut=Q,re=ht);for(let De=0;De<ue.length;De+=2)Ut=2*Q-Ut,re=2*ht-re,Q+=+ue[De],ht+=+ue[De+1],this.quadraticCurveTo(Ut,re,Q,ht);break;case"A":case"a":const Ye="a"===Oe;$t(ue),jt(Oe,ue.length,7);for(let De=0;De<ue.length;De+=7){let di=+ue[De+5],Xe=+ue[De+6];Ye&&(di+=Q,Xe+=ht);const Oi=kt({px:Q,py:ht,rx:+ue[De],ry:+ue[De+1],xAxisRotation:+ue[De+2],largeArcFlag:Wt(+ue[De+3]),sweepFlag:Wt(+ue[De+4]),cx:di,cy:Xe});I.each(Oi,ki=>{this.bezierCurveTo(ki.x1,ki.y1,ki.x2,ki.y2,ki.x,ki.y),Q=ki.x,ht=ki.y})}break;case"Z":case"z":Ft(Oe,ue.length,0),this.closePath()}}}_runPath(Z){Z.beginPath(),I.each(this._operations,Q=>{Q.path(Z)})}_render(Z){super._render(Z);const Q=this._layer||Z,ht=Q.dirty,xt=this._isInteractive();if(ht||xt){const Lt=Q.context,Ut=this._renderer._ghostLayer.context;let re;ht&&(Lt.globalCompositeOperation=this.blendMode,Lt.beginPath()),xt&&(Ut.beginPath(),re=this._getColorId()),I.each(this._operations,Xt=>{ht&&(Xt.path(Lt),Xt.colorize(Lt,void 0)),xt&&(Xt.path(Ut),Xt.colorize(Ut,re))})}}renderDetached(Z){if(this.visible){this._setMatrix(),Z.save();const Q=this.mask;Q&&(Q._setMatrix(),Q._transform(Z,1),Q._runPath(Z),Z.clip()),Z.globalAlpha=this.compoundAlpha*this.alpha,this._transform(Z,1),this.filter&&(Z.filter=this.filter),Z.globalCompositeOperation=this.blendMode,Z.beginPath(),I.each(this._operations,ht=>{ht.path(Z),ht.colorize(Z,void 0)}),Z.restore()}}_addBounds(Z){this.visible&&this.isMeasured&&I.each(this._operations,Q=>{Q.addBounds(Z)})}}class qi extends se{constructor(Z,Q,ht){super(Z),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=Q,this.style=ht}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(Z){this.style.textAlign&&(Z.textAlign=this.style.textAlign),this.style.direction&&(Z.direction=this.style.direction),this.style.textBaseline&&(Z.textBaseline=this.style.textBaseline)}_prerender(Z,Q=!1,ht=!1){super._render(Z);const xt=Z.context,Lt=this._renderer._ghostLayer.context,Ut=this.style;let re=this._getFontStyle(void 0,ht);xt.font=re,this._isInteractive()&&!Q&&(Lt.font=re),Ut.fill&&(xt.fillStyle=Ut.fill instanceof K.Il?Ut.fill.toCSS(null!=Ut.fillOpacity?Ut.fillOpacity:1):Ut.fill),Ut.shadowColor&&(Z.context.shadowColor=Ut.shadowColor.toCSS(Ut.shadowOpacity||1)),Ut.shadowBlur&&(Z.context.shadowBlur=Ut.shadowBlur),Ut.shadowOffsetX&&(Z.context.shadowOffsetX=Ut.shadowOffsetX),Ut.shadowOffsetY&&(Z.context.shadowOffsetY=Ut.shadowOffsetY),this._shared(xt),this._isInteractive()&&!Q&&(Lt.fillStyle=this._getColorId(),this._shared(Lt))}_getFontStyle(Z,Q=!1){const ht=this.style;let xt=[];return Z&&Z.fontVariant?xt.push(Z.fontVariant):ht.fontVariant&&xt.push(ht.fontVariant),Q||(Z&&Z.fontWeight?xt.push(Z.fontWeight):ht.fontWeight&&xt.push(ht.fontWeight)),Z&&Z.fontStyle?xt.push(Z.fontStyle):ht.fontStyle&&xt.push(ht.fontStyle),Z&&Z.fontSize?(ut.isNumber(Z.fontSize)&&(Z.fontSize=Z.fontSize+"px"),xt.push(Z.fontSize)):ht.fontSize&&(ut.isNumber(ht.fontSize)&&(ht.fontSize=ht.fontSize+"px"),xt.push(ht.fontSize)),Z&&Z.fontFamily?xt.push(Z.fontFamily):ht.fontFamily?xt.push(ht.fontFamily):xt.length&&xt.push("Arial"),xt.join(" ")}_render(Z){const Q=this._layer||Z;if(this._textInfo||this._measure(Q),this._textVisible){const ht=this._isInteractive(),xt=Q.context,Lt=Q.dirty,Ut=this._renderer._ghostLayer.context;xt.save(),Ut.save(),this._prerender(Q),I.each(this._textInfo,(re,Xt)=>{I.each(re.textChunks,(oe,Le)=>{if(oe.style&&(xt.save(),Ut.save(),xt.font=oe.style,this._isInteractive()&&(Ut.font=oe.style)),oe.fill&&(xt.save(),xt.fillStyle=oe.fill.toCSS()),Lt&&xt.fillText(oe.text,oe.offsetX,re.offsetY+oe.offsetY),"underline"==oe.textDecoration||"line-through"==oe.textDecoration){let Oe,Qe=1,ue=1,Ye=oe.height,De=oe.offsetX;switch(this.style.textAlign){case"right":case"end":De-=oe.width;break;case"center":De-=oe.width/2}if(oe.style)switch(_t.V.getTextStyle(oe.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":Qe=2}Ye&&(ue=Ye/20),Oe="line-through"==oe.textDecoration?Qe+re.offsetY+oe.offsetY-oe.height/2:Qe+1.5*ue+re.offsetY+oe.offsetY,xt.save(),xt.beginPath(),oe.fill?xt.strokeStyle=oe.fill.toCSS():this.style.fill&&this.style.fill instanceof K.Il&&(xt.strokeStyle=this.style.fill.toCSS()),xt.lineWidth=Qe*ue,xt.moveTo(De,Oe),xt.lineTo(De+oe.width,Oe),xt.stroke(),xt.restore()}ht&&this.interactive&&Ut.fillText(oe.text,oe.offsetX,re.offsetY+oe.offsetY),oe.fill&&xt.restore(),oe.style&&(xt.restore(),Ut.restore())})}),xt.restore(),Ut.restore()}}_addBounds(Z){if(this.visible&&this.isMeasured){const Q=this._measure(this.getLayer());te(Z,{x:Q.left,y:Q.top}),te(Z,{x:Q.right,y:Q.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(Z){const Q=Z.context,ht=this._renderer._ghostLayer.context,xt="rtl"==this.style.direction;this._textInfo=[];const Lt=this.style.oversizedBehavior,Ut=this.style.maxWidth,re=ut.isNumber(Ut)&&"truncate"==Lt,Xt=ut.isNumber(Ut)&&("wrap"==Lt||"wrap-no-break"==Lt);Q.save(),ht.save(),this._prerender(Z,!0,this._ignoreFontWeight());const oe="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",Le=this.text.toString().replace(/\r/g,"").split(/\n/);let Oe,Qe=!0,ue=0,Ye=0,De=0;I.each(Le,(Xe,Oi)=>{let ki;for(ki=""==Xe?[{type:"value",text:""}]:_t.V.chunk(Xe,!1,this.style.ignoreFormatting);ki.length>0;){let oi={offsetY:De,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const an=this._measureText(oe,Q);let Pn;oi.height=an.actualBoundingBoxAscent+an.actualBoundingBoxDescent,oi.ascent=an.actualBoundingBoxAscent;let yn,bn,En,kn=this.style.textDecoration,Qn=!1,wn=!0,Yn=[];I.eachContinue(ki,(In,An)=>{if("format"==In.type)if("[/]"==In.text)Qe||(Q.restore(),ht.restore(),Qe=!0),yn=void 0,Oe=void 0,bn=void 0,kn=this.style.textDecoration,En=void 0,Pn=In.text;else{Qe||(Q.restore(),ht.restore());let zi=_t.V.getTextStyle(In.text);const Xn=this._getFontStyle(zi);Q.save(),ht.save(),Q.font=Xn,Oe=Xn,Pn=In.text,zi.textDecoration&&(kn=zi.textDecoration),zi.fill&&(yn=zi.fill),zi.width&&(bn=ut.toNumber(zi.width)),zi.verticalAlign&&(En=zi.verticalAlign),Qe=!1;const Lr=this._measureText(oe,Q),qn=Lr.actualBoundingBoxAscent+Lr.actualBoundingBoxDescent;qn>oi.height&&(oi.height=qn),Lr.actualBoundingBoxAscent>oi.ascent&&(oi.ascent=Lr.actualBoundingBoxAscent)}else if("value"==In.type&&!Qn){const zi=this._measureText(In.text,Q);let Xn=zi.actualBoundingBoxLeft+zi.actualBoundingBoxRight;if(re){let Xr=wn||this.style.breakWords||!1;const Kr=this.style.ellipsis||"",nr=this._measureText(Kr,Q),Rr=nr.actualBoundingBoxLeft+nr.actualBoundingBoxRight;oi.width+Xn>Ut&&(In.text=this._truncateText(Q,In.text,Ut-oi.width-Rr,Xr),In.text+=Kr,Qn=!0)}else if(Xt&&oi.width+Xn>Ut){const Kr=this._truncateText(Q,In.text,Ut-oi.width,!1,wn&&"wrap-no-break"!=this.style.oversizedBehavior);if(""==Kr)return this._textVisible=!0,!1;Yn=ki.slice(An+1),h.trim(Kr)!=h.trim(In.text)&&(Yn.unshift({type:"value",text:In.text.substr(Kr.length)}),Pn&&Yn.unshift({type:"format",text:Pn})),In.text=h.trim(Kr),ki=[],Qn=!0}let Lr=1,qn=1;if(Oe&&bn&&bn>Xn){const Xr=Xn/bn;switch(this.style.textAlign){case"right":case"end":Lr=Xr;break;case"center":Lr=Xr,qn=Xr;break;default:qn=Xr}Xn=bn}const lr=zi.actualBoundingBoxAscent+zi.actualBoundingBoxDescent;lr>oi.height&&(oi.height=lr),zi.actualBoundingBoxAscent>oi.ascent&&(oi.ascent=zi.actualBoundingBoxAscent),oi.width+=Xn,oi.left+=zi.actualBoundingBoxLeft/Lr,oi.right+=zi.actualBoundingBoxRight/qn,oi.textChunks.push({style:Oe,fill:yn,text:In.text,width:Xn,height:lr,left:zi.actualBoundingBoxLeft,right:zi.actualBoundingBoxRight,ascent:zi.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:kn,verticalAlign:En}),wn=!1}return!0}),this.style.lineHeight instanceof yt.gG?(oi.height*=this.style.lineHeight.value,oi.ascent*=this.style.lineHeight.value):(oi.height*=this.style.lineHeight||1.2,oi.ascent*=this.style.lineHeight||1.2),ue<oi.left&&(ue=oi.left),Ye<oi.right&&(Ye=oi.right),this._textInfo.push(oi),De+=oi.height,ki=Yn||[]}}),Qe||(Q.restore(),ht.restore()),I.each(this._textInfo,(Xe,Oi)=>{let ki=0;I.each(Xe.textChunks,oi=>{if(oi.offsetX=ki+oi.left-Xe.left,oi.offsetY+=Xe.height-Xe.height*(this.style.baselineRatio||.19),ki+=oi.width,oi.verticalAlign)switch(oi.verticalAlign){case"super":oi.offsetY-=Xe.height/2-oi.height/2;break;case"sub":oi.offsetY+=oi.height/2}})});const di={left:xt?-Ye:-ue,top:0,right:xt?ue:Ye,bottom:De};if("none"!==Lt){const Xe=this._fitRatio(di);if(Xe<1)if("fit"==Lt)ut.isNumber(this.style.minScale)&&Xe<this.style.minScale?this._textVisible=!1:(this._originalScale&&1!=this._originalScale||(this._originalScale=this.scale),this.scale=Xe,this._textVisible=!0);else if("hide"==Lt)this._textVisible=!1;else{switch(this.style.textAlign){case"right":case"end":di.left=-Ut,di.right=0;break;case"center":di.left=-Ut/2,di.right=Ut/2;break;default:di.left=0,di.right=Ut}this.scale=this._originalScale||1,this._originalScale=void 0,this._textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this._textVisible=!0}return Q.restore(),ht.restore(),di}_fitRatio(Z){const Q=this.style.maxWidth,ht=this.style.maxHeight;return ut.isNumber(Q)||ut.isNumber(ht)?Math.min(Q/(Z.right-Z.left)||1,ht/(Z.bottom-Z.top)||1):1}_truncateText(Z,Q,ht,xt=!1,Lt=!0){let Ut;do{if(xt)Q=Q.slice(0,-1);else{let Xt=Q.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if(""==Xt&&Lt)xt=!0;else{if(""==Xt)return Q;Q=Xt}}const re=this._measureText(Q,Z);Ut=re.actualBoundingBoxLeft+re.actualBoundingBoxRight}while(Ut>ht&&""!=Q);return Q}_measureText(Z,Q){let ht=Q.measureText(Z),xt={};if(null==ht.actualBoundingBoxAscent){const Ut=document.createElement("div");Ut.innerText=Z,Ut.style.visibility="hidden",Ut.style.position="absolute",Ut.style.top="-1000000px;",Ut.style.fontFamily=this.style.fontFamily||"",Ut.style.fontSize=this.style.fontSize+"",document.body.appendChild(Ut);const re=Ut.getBoundingClientRect();document.body.removeChild(Ut);const Xt=re.height,oe=ht.width;xt={actualBoundingBoxAscent:Xt,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:oe,fontBoundingBoxAscent:Xt,fontBoundingBoxDescent:0,width:oe}}else xt={actualBoundingBoxAscent:ht.actualBoundingBoxAscent,actualBoundingBoxDescent:ht.actualBoundingBoxDescent,actualBoundingBoxLeft:ht.actualBoundingBoxLeft,actualBoundingBoxRight:ht.actualBoundingBoxRight,fontBoundingBoxAscent:ht.actualBoundingBoxAscent,fontBoundingBoxDescent:ht.actualBoundingBoxDescent,width:ht.width};const Lt=ht.width;switch(this.style.textAlign){case"right":case"end":xt.actualBoundingBoxLeft=Lt,xt.actualBoundingBoxRight=0;break;case"center":xt.actualBoundingBoxLeft=Lt/2,xt.actualBoundingBoxRight=Lt/2;break;default:xt.actualBoundingBoxLeft=0,xt.actualBoundingBoxRight=Lt}return xt}}class cn{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:(0,yt.aQ)(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\xe2\u20ac\xa6"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Fn extends qi{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(Z){"circular"===this.textType?this._renderCircular(Z):super._render(Z)}_renderCircular(Z){if(this._textVisible){const Q=this._layer||Z;this._prerender(Q);const ht=this._isInteractive(),xt=Q.context,Lt=Q.dirty,Ut=this._renderer._ghostLayer.context;xt.save(),ht&&Ut.save();let re=this.radius||0,Xt=this.startAngle||0,oe=0,Le=this.orientation,Oe="auto"==Le?"auto":"inward"==Le;const Qe=this.inside,ue=this.style.textAlign||"left",Ye=this.kerning||0;let De="left"==ue?1:-1;const di=!this._textReversed;if(this._textInfo||this._measure(Q),"auto"==Oe){let Xe=0,Oi=0;I.each(this._textInfo,(ki,oi)=>{const an=Xt+ki.width/(re-ki.height)/2*-De;an>Xe&&(Xe=an)}),Oi="left"==ue?(Xe+oe/2)*at.DEGREES:"right"==ue?(Xe-oe/2)*at.DEGREES:Xt*at.DEGREES,Oi=at.normalizeAngle(Oi),Oe=Oi>=270||Oi<=90}1==Oe&&di&&(this._textInfo.reverse(),this._textReversed=!0),I.each(this._textInfo,(Xe,Oi)=>{const ki=Xe.height;Qe||(re+=ki),(-1==De&&Oe||1==De&&!Oe)&&di&&Xe.textChunks.reverse();let oi=Xt;oe=0,"center"==ue&&(oi+=Xe.width/(re-ki)/2*-De,oe=oi-Xt),oi+=Math.PI*(Oe?0:1),xt.save(),ht&&Ut.save(),xt.rotate(oi),ht&&Ut.rotate(oi);let an=0;I.each(Xe.textChunks,(Ii,Pn)=>{const yn=Ii.text,bn=Ii.width;an=bn/2/(re-ki)*De,xt.rotate(an),ht&&Ut.rotate(an),Ii.style&&(xt.save(),Ut.save(),xt.font=Ii.style,ht&&(Ut.font=Ii.style)),Ii.fill&&(xt.save(),xt.fillStyle=Ii.fill.toCSS()),xt.textBaseline="middle",xt.textAlign="center",ht&&(Ut.textBaseline="middle",Ut.textAlign="center"),Lt&&xt.fillText(yn,0,(Oe?1:-1)*(0-re+ki/2)),ht&&Ut.fillText(yn,0,(Oe?1:-1)*(0-re+ki/2)),Ii.fill&&xt.restore(),Ii.style&&(xt.restore(),Ut.restore()),an=(bn/2+Ye)/(re-ki)*De,xt.rotate(an),ht&&Ut.rotate(an)}),xt.restore(),ht&&Ut.restore(),Qe&&(re-=ki)}),xt.restore(),ht&&Ut.restore()}}_measure(Z){return"circular"===this.textType?this._measureCircular(Z):super._measure(Z)}_measureCircular(Z){const Q=Z.context,ht=this._renderer._ghostLayer.context,xt="rtl"==this.style.direction,Lt=this.style.oversizedBehavior,Ut=this.style.maxWidth,re=ut.isNumber(Ut)&&"truncate"==Lt,Xt=this.style.ellipsis||"";let oe;this._textVisible=!0,this._textInfo=[],this._textReversed=!1,Q.save(),ht.save(),this._prerender(Z,!0);const Le=this.text.toString().replace(/\r/g,"").split(/\n/);let Oe=!0,Qe=0,ue=0;return I.each(Le,(Ye,De)=>{let di,Xe,Oi,ki=_t.V.chunk(Ye,!1,this.style.ignoreFormatting),oi={offsetY:ue,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};I.each(ki,(an,Ii)=>{if("format"==an.type){if("[/]"==an.text)Oe||(Q.restore(),ht.restore(),Oe=!0),Xe=void 0,di=void 0,Oi=void 0;else{let Pn=_t.V.getTextStyle(an.text);const yn=this._getFontStyle(Pn);Q.save(),ht.save(),Q.font=yn,di=yn,Pn.fill&&(Xe=Pn.fill),Pn.width&&(Oi=ut.toNumber(Pn.width)),Oe=!1}re&&(oe=this._measureText(Xt,Q))}else if("value"==an.type){const Pn=an.text.match(/./gu)||[];xt&&Pn.reverse();for(let yn=0;yn<Pn.length;yn++){const bn=Pn[yn],En=this._measureText(bn,Q);let kn=En.width;di&&Oi&&Oi>kn&&(kn=Oi);const Qn=En.actualBoundingBoxAscent+En.actualBoundingBoxDescent;if(Qn>oi.height&&(oi.height=Qn),En.actualBoundingBoxAscent>oi.ascent&&(oi.ascent=En.actualBoundingBoxAscent),oi.width+=kn,oi.left+=En.actualBoundingBoxLeft,oi.right+=En.actualBoundingBoxRight,oi.textChunks.push({style:di,fill:Xe,text:bn,width:kn,height:Qn+En.actualBoundingBoxDescent,left:En.actualBoundingBoxLeft,right:En.actualBoundingBoxRight,ascent:En.actualBoundingBoxAscent,offsetX:0,offsetY:Qn,textDecoration:void 0}),Qe+=kn,re){oe||(oe=this._measureText(Xt,Q));const wn=oe.actualBoundingBoxLeft+oe.actualBoundingBoxRight;if(Qe+=wn,Qe+wn>Ut){1==oi.textChunks.length?this._textVisible=!1:(oi.width+=wn,oi.left+=oe.actualBoundingBoxLeft,oi.right+=oe.actualBoundingBoxRight,oi.textChunks.push({style:di,fill:Xe,text:Xt,width:wn,height:Qn+oe.actualBoundingBoxDescent,left:oe.actualBoundingBoxLeft,right:oe.actualBoundingBoxRight,ascent:oe.actualBoundingBoxAscent,offsetX:0,offsetY:Qn,textDecoration:void 0}));break}}if(xt)break}}}),oi.height*=this.style.lineHeight instanceof yt.gG?this.style.lineHeight.value:this.style.lineHeight||1.2,this._textInfo.push(oi),ue+=oi.height}),Oe||(Q.restore(),ht.restore()),"hide"==Lt&&Qe>Ut&&(this._textVisible=!1),I.each(this._textInfo,Ye=>{I.each(Ye.textChunks,De=>{De.offsetY+=Math.round((Ye.height-De.height+(Ye.ascent-De.ascent))/2)})}),Q.restore(),ht.restore(),{left:0,top:0,right:0,bottom:0}}}class Gn extends se{constructor(Z,Q){super(Z),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=Q}_dispose(){super._dispose(),this._imageMask&&Rt(this._imageMask)}getLocalBounds(){if(!this._localBounds){let Z=0,Q=0;this.width&&(Z=this.width),this.height&&(Q=this.height),this._localBounds={left:0,top:0,right:Z,bottom:Q},this._addBounds(this._localBounds)}return this._localBounds}_render(Z){if(super._render(Z),this.image){const Q=this._layer||Z;if(void 0===this.tainted&&(this.tainted=Nt(this.image),Q.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(Q.dirty&&(this.shadowColor&&(Q.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(Q.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(Q.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(Q.context.shadowOffsetY=this.shadowOffsetY),Q.context.drawImage(this.image,0,0,this.width||this.image.naturalWidth,this.height||this.image.naturalHeight)),this.interactive&&this._isInteractive()){const ht=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(ht,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(Z){if(void 0===this._imageMask){const Q=this.width||Z.naturalWidth,ht=this.height||Z.naturalHeight,xt=document.createElement("canvas");xt.width=Q,xt.height=ht;const Lt=xt.getContext("2d");Lt.imageSmoothingEnabled=!1,Lt.fillStyle=this._getColorId(),Lt.fillRect(0,0,Q,ht),Nt(Z)||(Lt.globalCompositeOperation="destination-in",Lt.drawImage(Z,0,0,Q,ht)),this._imageMask=xt}return this._imageMask}}class Yi{constructor(Z,Q,ht,xt){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:ht}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:xt}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.id=h.supports("touchevents")&&Z instanceof Touch?Z.identifier:null}}class ei extends x.rk{constructor(Z){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new ai}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_clientWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_clientHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.resolution=Z??window.devicePixelRatio,this.view.style.position="absolute",this.view.appendChild(this._layerDom),this._disposers.push(new x.ku(()=>{rt.each(this._events,(Q,ht)=>{ht.disposer.dispose()}),I.each(this.layers,Q=>{Rt(Q.view),Q.exportableView&&Rt(Q.exportableView)}),Rt(this._ghostLayer.view),Rt(this._patternCanvas)})),this._disposers.push(h.onZoom(()=>{null==Z&&(this.resolution=window.devicePixelRatio)})),h.supports("touchevents")){const Q=ht=>{0!==this._dragging.length&&I.eachContinue(this._dragging,xt=>!xt.value.shouldCancelTouch()||(ht.preventDefault(),!1)),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(h.addEventListener(window,"touchstart",Q,{passive:!1})),this._disposers.push(h.addEventListener(this.view,"touchstart",Q,{passive:!1})),this._disposers.push(h.addEventListener(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(h.addEventListener(window,"click",ht=>{this._touchActive=!1},{passive:!0})),this._disposers.push(h.addEventListener(this.view,"click",ht=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}h.supports("wheelevents")&&this._disposers.push(h.addEventListener(this.view,"wheel",Q=>{let ht=!1;this._hovering.forEach(xt=>{if(xt.wheelable)return ht=!0,!1}),ht&&Q.preventDefault()},{passive:!1}))}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(Z){Z?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(Z,Q,ht,xt){return this.defaultLayer.context.createLinearGradient(Z,Q,ht,xt)}createRadialGradient(Z,Q,ht,xt,Lt,Ut){return this.defaultLayer.context.createRadialGradient(Z,Q,ht,xt,Lt,Ut)}createPattern(Z,Q,ht,xt,Lt){return this._patternCanvas.width=xt,this._patternCanvas.height=Lt,this._patternContext.clearRect(0,0,xt,Lt),Q.renderDetached(this._patternContext),Z.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,ht)}makeContainer(){return new ce(this)}makeGraphics(){return new Li(this)}makeText(Z,Q){return new qi(this,Z,Q)}makeTextStyle(){return new cn}makeRadialText(Z,Q){return new Fn(this,Z,Q)}makePicture(Z){return new Gn(this,Z)}resizeLayer(Z){Z.dirty=!0,Z.resize(this._clientWidth,this._clientHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._clientWidth,this._clientHeight,this.resolution)}resize(Z,Q){this._clientWidth=Z,this._clientHeight=Q,this._width=Math.floor(Z*this.resolution),this._height=Math.floor(Q*this.resolution),I.each(this.layers,ht=>{ht&&this.resizeLayer(ht)}),this.resizeGhost(),this.view.style.width=Z+"px",this.view.style.height=Q+"px"}createDetachedLayer(Z=!1){const Q=document.createElement("canvas"),ht=Q.getContext("2d",{willReadFrequently:Z}),xt=new li(Q,ht);return Q.style.position="absolute",Q.style.top="0px",Q.style.left="0px",xt}getLayerByOrder(Z){const Q=this.layers,ht=Q.length;for(let xt=0;xt<ht;xt++){const Lt=Q[xt];if(Lt.order==Z)return Lt}}getLayer(Z,Q=!0){let ht=this.getLayerByOrder(Z);if(ht)return ht;const xt=this.createDetachedLayer(99==Z);xt.order=Z,xt.visible=Q,xt.visible&&this._width&&(xt.view.width=this._width,xt.view.style.width=this._clientWidth+"px",xt.view.height=this._height,xt.view.style.height=this._clientHeight+"px");const Lt=this.layers;Lt.push(xt),Lt.sort((Xt,oe)=>Xt.order>oe.order?1:Xt.order<oe.order?-1:0);const Ut=Lt.length;let re;for(let Xt=I.indexOf(Lt,xt)+1;Xt<Ut;Xt++)if(Lt[Xt].visible){re=Lt[Xt];break}return xt.visible&&(void 0===re?this._layerDom.appendChild(xt.view):this._layerDom.insertBefore(xt.view,re.view)),xt}render(Z){if(this._dirtyLayers.length=0,I.each(this.layers,Q=>{Q&&Q.dirty&&Q.visible&&(this._dirtyLayers.push(Q),Q.clear())}),this._ghostLayer.clear(),Z.render(this.defaultLayer),this._ghostLayer.context.restore(),I.each(this.layers,Q=>{if(Q){const ht=Q.context;ht.beginPath(),ht.moveTo(0,0),ht.stroke()}}),I.each(this._dirtyLayers,Q=>{Q.context.restore(),Q.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const Q=this._lastPointerMoveEvent.native;I.each(this._lastPointerMoveEvent.events,ht=>{this._dispatchGlobalMousemove(ht,Q)})}}paintId(Z){const Q=function(xt){const Lt=[0,0,0];for(let Ut=0;Ut<24;Ut++)Lt[Ut%3]<<=1,Lt[Ut%3]|=1&xt,xt>>=1;return(0|Lt[2])+(Lt[1]<<8)+(Lt[0]<<16)}(++this._colorId),ht=K.Il.fromHex(Q).toCSS();return this._colorMap[ht]=Z,ht}_removeObject(Z){void 0!==Z._colorId&&delete this._colorMap[Z._colorId]}_adjustBoundingBox(Z){const Q=this._ghostLayer.margin;return new DOMRect(Z.left-Q.left,Z.top-Q.top,Z.width+Q.left+Q.right,Z.height+Q.top+Q.bottom)}getEvent(Z,Q=!0){const ht=this.view.getBoundingClientRect(),xt={x:Z.clientX||0,y:Z.clientY||0};return new Yi(Z,xt,{x:xt.x-(Q?ht.left:0),y:xt.y-(Q?ht.top:0)},this._adjustBoundingBox(ht))}_getHitTarget(Z,Q){if(!(0===Q.width||0===Q.height||Z.x<Q.left||Z.x>Q.right||Z.y<Q.top||Z.y>Q.bottom)){const ht=this._ghostLayer.getImageData(Z,Q);if(0===ht.data[0]&&0===ht.data[1]&&0===ht.data[2])return!1;const xt=K.Il.fromRGB(ht.data[0],ht.data[1],ht.data[2]).toCSS();return this._colorMap[xt]}}_withEvents(Z,Q){const ht=this._events[Z];if(void 0!==ht){ht.dispatching=!0;try{Q(ht)}finally{ht.dispatching=!1,ht.cleanup&&(ht.cleanup=!1,I.keepIf(ht.callbacks,xt=>!xt.disposed),0===ht.callbacks.length&&(ht.disposer.dispose(),delete this._events[Z]))}}}_dispatchEventAll(Z,Q){this.interactionsEnabled&&this._withEvents(Z,ht=>{I.each(ht.callbacks,xt=>{xt.disposed||xt.callback.call(xt.context,Q)})})}_dispatchEvent(Z,Q,ht){if(!this.interactionsEnabled)return!1;let xt=!1;return this._withEvents(Z,Lt=>{I.each(Lt.callbacks,Ut=>{Ut.disposed||Ut.object!==Q||(Ut.callback.call(Ut.context,ht),xt=!0)})}),xt}_dispatchMousedown(Z){const Q=Z.button;if(0!=Q&&2!=Q&&1!=Q&&void 0!==Q)return;const ht=this.getEvent(Z),xt=this._getHitTarget(ht.originalPoint,ht.bbox);if(xt){const Lt=ht.id;let Ut=!1;ne(xt,re=>{const Xt={id:Lt,value:re};return this._mousedown.push(Xt),!Ut&&this._dispatchEvent("pointerdown",re,ht)&&(Ut=!0,this._dragging.some(oe=>oe.value===re&&oe.id===Lt)||this._dragging.push(Xt)),!0})}}_dispatchGlobalMousemove(Z,Q){const ht=this.getEvent(Z),xt=this._getHitTarget(ht.originalPoint,ht.bbox);ht.native=Q,xt?(this._hovering.forEach(Lt=>{Lt.contains(xt)||(this._hovering.delete(Lt),Lt.cursorOverStyle&&h.setStyle(document.body,"cursor",Lt._replacedCursorStyle),this._dispatchEvent("pointerout",Lt,ht))}),ht.native&&ne(xt,Lt=>(this._hovering.has(Lt)||(this._hovering.add(Lt),Lt.cursorOverStyle&&(Lt._replacedCursorStyle=h.getStyle(document.body,"cursor"),h.setStyle(document.body,"cursor",Lt.cursorOverStyle)),this._dispatchEvent("pointerover",Lt,ht)),!0))):(this._hovering.forEach(Lt=>{Lt.cursorOverStyle&&h.setStyle(document.body,"cursor",Lt._replacedCursorStyle),this._dispatchEvent("pointerout",Lt,ht)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",ht)}_dispatchGlobalMouseup(Z,Q){const ht=this.getEvent(Z);ht.native=Q,this._dispatchEventAll("globalpointerup",ht)}_dispatchDragMove(Z){if(0!==this._dragging.length){const Q=this.getEvent(Z),ht=Q.id;this._dragging.forEach(xt=>{xt.id===ht&&this._dispatchEvent("pointermove",xt.value,Q)})}}_dispatchDragEnd(Z){const Q=Z.button;let ht;if(0==Q||void 0===Q)ht="click";else if(2==Q)ht="rightclick";else{if(1!=Q)return;ht="middleclick"}const xt=this.getEvent(Z),Lt=xt.id;if(0!==this._mousedown.length){const Ut=this._getHitTarget(xt.originalPoint,xt.bbox);Ut&&this._mousedown.forEach(re=>{re.id===Lt&&re.value.contains(Ut)&&this._dispatchEvent(ht,re.value,xt)}),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach(Ut=>{Ut.id===Lt&&this._dispatchEvent("pointerup",Ut.value,xt)}),this._dragging.length=0)}_dispatchDoubleClick(Z){const Q=this.getEvent(Z),ht=this._getHitTarget(Q.originalPoint,Q.bbox);ht&&ne(ht,xt=>!this._dispatchEvent("dblclick",xt,Q))}_dispatchWheel(Z){const Q=this.getEvent(Z),ht=this._getHitTarget(Q.originalPoint,Q.bbox);ht&&ne(ht,xt=>!this._dispatchEvent("wheel",xt,Q))}_makeSharedEvent(Z,Q){if(void 0===this._listeners[Z]){const ht=Q();this._listeners[Z]=new x.DM(()=>{delete this._listeners[Z],ht.dispose()})}return this._listeners[Z].increment()}_onPointerEvent(Z,Q){let ht=!1,xt=null;function Lt(){xt=null,ht=!1}return new x.FV([new x.ku(()=>{null!==xt&&clearTimeout(xt),Lt()}),h.addEventListener(this.view,h.getRendererEvent(Z),Ut=>{ht=!0,null!==xt&&clearTimeout(xt),xt=window.setTimeout(Lt,0)}),Jt(window,Z,Ut=>{null!==xt&&(clearTimeout(xt),xt=null),Q(Ut,ht),ht=!1})])}_initEvent(Z){switch(Z){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const Q=(ht,xt)=>{this._lastPointerMoveEvent={events:ht,native:xt},I.each(ht,Lt=>{this._dispatchGlobalMousemove(Lt,xt)})};return new x.FV([this._onPointerEvent("pointerdown",Q),this._onPointerEvent("pointermove",Q)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{var Q=this._onPointerEvent("pointerup",(xt,Lt)=>{I.each(xt,Ut=>{this._dispatchGlobalMouseup(Ut,Lt)}),this._lastPointerMoveEvent={events:xt,native:Lt}}),ht=this._onPointerEvent("pointercancel",(xt,Lt)=>{I.each(xt,Ut=>{this._dispatchGlobalMouseup(Ut,Lt)}),this._lastPointerMoveEvent={events:xt,native:Lt}});return new x.ku(()=>{Q.dispose(),ht.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const Q=Jt(this.view,"pointerdown",Ut=>{I.each(Ut,re=>{this._dispatchMousedown(re)})}),ht=this._onPointerEvent("pointermove",Ut=>{I.each(Ut,re=>{this._dispatchDragMove(re)})}),xt=this._onPointerEvent("pointerup",Ut=>{I.each(Ut,re=>{this._dispatchDragEnd(re)})}),Lt=this._onPointerEvent("pointercancel",Ut=>{I.each(Ut,re=>{this._dispatchDragEnd(re)})});return new x.ku(()=>{Q.dispose(),ht.dispose(),xt.dispose(),Lt.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",Q=>{I.each(Q,ht=>{this._dispatchDoubleClick(ht)})}));case"wheel":return this._makeSharedEvent("wheel",()=>h.addEventListener(window,h.getRendererEvent("wheel"),Q=>{this._dispatchWheel(Q)},{passive:!1}))}}_addEvent(Z,Q,ht,xt){let Lt=this._events[Q];void 0===Lt&&(Lt=this._events[Q]={disposer:this._initEvent(Q),callbacks:[],dispatching:!1,cleanup:!1});const Ut={object:Z,context:xt,callback:ht,disposed:!1};return Lt.callbacks.push(Ut),new x.ku(()=>{Ut.disposed=!0,Lt.dispatching?Lt.cleanup=!0:(I.removeFirst(Lt.callbacks,Ut),0===Lt.callbacks.length&&(Lt.disposer.dispose(),delete this._events[Q]))})}getCanvas(Z,Q){this.render(Z),Q||(Q={});let ht=this.resolution;if(Q.minWidth&&Q.minWidth>this._width){let ue=Q.minWidth/this._width;ue>ht&&(ht=ue*this.resolution)}if(Q.minHeight&&Q.minHeight>this._height){let ue=Q.minHeight/this._height;ue>ht&&(ht=ue*this.resolution)}if(Q.maxWidth&&Q.maxWidth<this._width){let ue=Q.maxWidth/this._width;ue<ht&&(ht=ue*this.resolution)}if(Q.maxHeight&&Q.maxHeight>this._height){let ue=Q.maxHeight/this._height;ue<ht&&(ht=ue*this.resolution)}Q.maintainPixelRatio&&(ht/=this.resolution);const xt=[];let Lt=!1,Ut=this._width,re=this._height;const Xt=document.createElement("canvas");ht!=this.resolution&&(Lt=!0,Ut=this._width*ht/this.resolution,re=this._height*ht/this.resolution),Xt.width=Ut,Xt.height=re,Xt.style.position="fixed",Xt.style.top="-10000px",this.view.appendChild(Xt),xt.push(Xt);const oe=Xt.getContext("2d");let Le=0,Oe=0,Qe=!1;return I.each(this.layers,ue=>{ue&&ue.visible&&(ue.tainted||Lt)&&(Qe=!0,ue.exportableView=ue.view,ue.exportableContext=ue.context,ue.view=document.createElement("canvas"),ue.view.style.position="fixed",ue.view.style.top="-10000px",this.view.appendChild(ue.view),xt.push(ue.view),ue.view.width=Ut,ue.view.height=re,ue.context=ue.view.getContext("2d"),ue.dirty=!0,ue.scale=ht)}),Qe&&(this._omitTainted=!0,this.render(Z),this._omitTainted=!1),I.each(this.layers,ue=>{ue&&ue.visible&&(oe.drawImage(ue.view,0,0),ue.exportableView&&(ue.view=ue.exportableView,ue.exportableView=void 0),ue.exportableContext&&(ue.context=ue.exportableContext,ue.exportableContext=void 0),Le<ue.view.clientWidth&&(Le=ue.view.clientWidth),Oe<ue.view.clientHeight&&(Oe=ue.view.clientHeight),ue.scale=void 0)}),Xt.style.width=Le+"px",Xt.style.height=Oe+"px",I.each(xt,ue=>{ue.style.position="",ue.style.top="",this.view.removeChild(ue)}),Xt}}class ai{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(Z,Q,ht){Z+=this.margin.left+this.margin.right,Q+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(Z*ht),this._height=Math.floor(Q*ht),this.view.width=this._width,this.view.style.width=Z+"px",this.view.height=this._height,this.view.style.height=Q+"px"}getImageData(Z,Q){return this.context.getImageData(Math.round((Z.x-Q.left)/Q.width*this._width),Math.round((Z.y-Q.top)/Q.height*this._height),1,1)}setMargin(Z){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,I.each(Z,Q=>{Q.margin&&(this.margin.left=Math.max(this.margin.left,Q.margin.left),this.margin.right=Math.max(this.margin.right,Q.margin.right),this.margin.top=Math.max(this.margin.top,Q.margin.top),this.margin.bottom=Math.max(this.margin.bottom,Q.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class li{constructor(Z,Q){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=Z,this.context=Q}resize(Z,Q,ht){null!=this.width&&(Z=this.width),null!=this.height&&(Q=this.height),this.margin?(Z+=this.margin.left+this.margin.right,Q+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(Z*ht),this._height=Math.floor(Q*ht),this.view.width=this._width,this.view.style.width=Z+"px",this.view.height=this._height,this.view.style.height=Q+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}var Xi=a(2132),tn=a(3145),Zi=a(3540);function _n(We,Z){null==We?requestAnimationFrame(Z):setTimeout(()=>{requestAnimationFrame(Z)},1e3/We)}class ji{constructor(Z,Q={},ht){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new pt.p}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:tt.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:X.Z}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:f.e.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:o.C.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:R.$.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:_.Z.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:d.G.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:w.M.new(this,{})}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!ht)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");let xt,Lt;if(0==Q.accessible&&(this._a11yD=!0),null==Q.useSafeResolution&&(Q.useSafeResolution=!0),Q.useSafeResolution&&(xt=h.getSafeResolution()),this._renderer=new ei(xt),Lt=Z instanceof HTMLElement?Z:document.getElementById(Z),I.each(tn.i_.rootElements,Xt=>{if(Xt.dom===Lt)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=m.v.new(this,{}),null===Lt)throw new Error("Could not find HTML element with id `"+Z+"`");this.dom=Lt;let Ut=document.createElement("div");Ut.style.position="relative",Ut.style.height="100%",Lt.appendChild(Ut);const re=Q.tooltipContainerBounds;re&&(this._tooltipContainerSettings=re),this._inner=Ut,this._updateComputedStyles(),tn.i_.rootElements.push(this)}static new(Z,Q){const ht=new ji(Z,Q,!0);return ht._init(),ht}moveDOM(Z){let Q;if(Q=Z instanceof HTMLElement?Z:document.getElementById(Z),Q){for(;this.dom.childNodes.length>0;)Q.appendChild(this.dom.childNodes[0]);this.dom=Q,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const Q=this.dom.offsetHeight;this.dom.offsetWidth<=150||Q<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const Z=this.tooltipContainer.children.push(p.W.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:(0,yt.aQ)(100),centerY:yt.AQ,tooltipText:"Created using amCharts 5",tooltipX:yt.AQ,cursorOverStyle:"pointer",background:A.A.new(this,{fill:(0,K.$_)(4671320),fillOpacity:0,tooltipY:5})})),Q=k.u.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});Q.label.setAll({fontSize:12}),Q.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),Z.set("tooltip",Q),Z.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),Z.states.create("hover",{}),Z.children.push(C.T.new(this,{stroke:(0,K.$_)(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:(0,K.$_)(3976191)}),Z.children.push(C.T.new(this,{stroke:(0,K.$_)(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:(0,K.$_)(4671320)}),this._logo=Z,this._handleLogo()}}_init(){const Z=this._renderer,Q=this.dom.getBoundingClientRect(),ht=Math.floor(Q.width),xt=Math.floor(Q.height),Lt=p.W.new(this,{visible:!0,width:ht,height:xt});this._rootContainer=Lt,this._rootContainer._defaultThemes.push(ot.X.new(this));const Ut=Lt.children.push(p.W.new(this,{visible:!0,width:yt.AQ,height:yt.AQ}));this.container=Ut,Z.resize(ht,xt),this._inner.appendChild(Z.view),this._initResizeSensor();const re=document.createElement("div");if(this._htmlElementContainer=re,re.className="am5-html-container",re.style.position="absolute",re.style.pointerEvents="none",this._tooltipContainerSettings||(re.style.overflow="hidden"),this._inner.appendChild(re),!0!==this._a11yD){const Xt=document.createElement("div");Xt.className="am5-reader-container",Xt.setAttribute("role","alert"),Xt.style.zIndex="-100000",Xt.style.opacity="0",Xt.style.position="absolute",Xt.style.top="0",this._readerAlertElement=Xt,this._inner.appendChild(this._readerAlertElement);const oe=document.createElement("div");oe.className="am5-focus-container",oe.style.position="absolute",oe.style.pointerEvents="none",oe.style.top="0px",oe.style.left="0px",oe.style.overflow="hidden",oe.style.width=ht+"px",oe.style.height=xt+"px",oe.setAttribute("role","application"),h.setInteractive(oe,!1),this._focusElementContainer=oe,this._inner.appendChild(this._focusElementContainer);const Le=document.createElement("div");this._tooltipElementContainer=Le,Le.className="am5-tooltip-container",this._inner.appendChild(Le),h.supports("keyboardevents")&&(this._disposers.push(h.addEventListener(window,"keydown",Oe=>{16==Oe.keyCode&&(this._isShift=!0)})),this._disposers.push(h.addEventListener(window,"keyup",Oe=>{16==Oe.keyCode&&(this._isShift=!1)})),this._disposers.push(h.addEventListener(oe,"keydown",Oe=>{const Qe=this._focusedSprite;if(Qe){27==Oe.keyCode&&(h.blur(),this._focusedSprite=void 0);let ue=0,Ye=0;switch(Oe.keyCode){case 13:Oe.preventDefault();const De=Z.getEvent(new MouseEvent("click"));return void Qe.events.dispatch("click",{type:"click",originalEvent:De.event,point:De.point,simulated:!0,target:Qe});case 37:ue=-6;break;case 39:ue=6;break;case 38:Ye=-6;break;case 40:Ye=6;break;default:return}if(0!=ue||0!=Ye){if(Oe.preventDefault(),!Qe.isDragging()){this._keyboardDragPoint={x:0,y:0};const Xe=Z.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));Qe.events.isEnabled("pointerdown")&&Qe.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:Xe.event,point:Xe.point,simulated:!0,target:Qe})}const De=this._keyboardDragPoint;De.x+=ue,De.y+=Ye;const di=Z.getEvent(new MouseEvent("mousemove",{clientX:De.x,clientY:De.y}),!1);Qe.events.isEnabled("globalpointermove")&&Qe.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:di.event,point:di.point,simulated:!0,target:Qe})}}})),this._disposers.push(h.addEventListener(oe,"keyup",Oe=>{if(this._focusedSprite){const Qe=this._focusedSprite,ue=Oe.keyCode;switch(ue){case 37:case 39:case 38:case 40:if(Qe.isDragging()){const Ye=this._keyboardDragPoint,De=Z.getEvent(new MouseEvent("mouseup",{clientX:Ye.x,clientY:Ye.y}));return Qe.events.isEnabled("globalpointerup")&&Qe.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:De.event,point:De.point,simulated:!0,target:Qe}),void(this._keyboardDragPoint=void 0)}if(Qe.get("focusableGroup")){const Ye=Qe.get("focusableGroup"),De=this._tabindexes.filter(Oi=>Oi.get("focusableGroup")==Ye);let di=De.indexOf(Qe);const Xe=De.length-1;di+=39==ue||40==ue?1:-1,di<0?di=Xe:di>Xe&&(di=0),h.focus(De[di].getPrivate("focusElement").dom)}}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new E(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const Z=this.dom.getBoundingClientRect(),Q=Math.floor(Z.width),ht=Math.floor(Z.height);if(Q>0&&ht>0){const xt=this._htmlElementContainer;if(xt.style.width=Q+"px",xt.style.height=ht+"px",!0!==this._a11yD){const Ut=this._focusElementContainer;Ut.style.width=Q+"px",Ut.style.height=ht+"px"}this._renderer.resize(Q,ht);const Lt=this._rootContainer;Lt.setPrivate("width",Q),Lt.setPrivate("height",ht),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(Z){I.each(this._tickers,Q=>{Q(Z)})}_runAnimations(Z){I.keepIf(this._animations,Q=>Q._runAnimation(Z))}_runDirties(){let Z={};for(;this._isDirtyParents;)this._isDirtyParents=!1,rt.keys(this._dirtyParents).forEach(Ut=>{const re=this._dirtyParents[Ut];delete this._dirtyParents[Ut],re.isDisposed()||(Z[re.uid]=re,re._prepareChildren())});rt.keys(Z).forEach(Ut=>{Z[Ut]._updateChildren()});const Q=[];rt.keys(this._dirty).forEach(Ut=>{const re=this._dirty[Ut];re.isDisposed()?delete this._dirty[re.uid]:(Q.push(re),re._beforeChanged())}),Q.forEach(Ut=>{Ut._changed(),delete this._dirty[Ut.uid],Ut._clearDirty()}),this._isDirty=!1;const ht={},xt=[];rt.keys(this._dirtyBounds).forEach(Ut=>{const re=this._dirtyBounds[Ut];delete this._dirtyBounds[Ut],re.isDisposed()||(ht[re.uid]=re.depth(),xt.push(re))}),xt.sort((Ut,re)=>Zi.qu(ht[re.uid],ht[Ut.uid])),xt.forEach(Ut=>{Ut._updateBounds()});const Lt=this._dirtyPositions;rt.keys(Lt).forEach(Ut=>{const re=Lt[Ut];delete Lt[Ut],re.isDisposed()||re._updatePosition()}),Q.forEach(Ut=>{Ut._afterChanged()})}_renderFrame(Z){return!this._updateTick||(this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:Z}),this._checkComputedStyles(),this._runTickers(Z),this._runAnimations(Z),this._runDirties(),this._render(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:Z}),0===this._tickers.length&&0===this._animations.length&&!this._isDirty)}_runTicker(Z){this.isDisposed()||(this.animationTime=Z,this._renderFrame(Z)?(this._ticker=null,this.animationTime=null):_n(this.fps,this._ticker))}_runTickerNow(){if(!this.isDisposed())for(;;){const Z=performance.now();if(this.animationTime=Z,this._renderFrame(Z)){this.animationTime=null;break}}}_startTicker(){null===this._ticker&&(this.animationTime=null,this._ticker=Z=>{this._runTicker(Z)},_n(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(Z){this._updateTick=Z,Z&&this._startTicker()}_addDirtyEntity(Z){void 0===this._dirty[Z.uid]&&(this._isDirty=!0,this._dirty[Z.uid]=Z,this._startTicker())}_addDirtyParent(Z){void 0===this._dirtyParents[Z.uid]&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[Z.uid]=Z,this._startTicker())}_addDirtyBounds(Z){void 0===this._dirtyBounds[Z.uid]&&(this._isDirty=!0,this._dirtyBounds[Z.uid]=Z,this._startTicker())}_addDirtyPosition(Z){void 0===this._dirtyPositions[Z.uid]&&(this._isDirty=!0,this._dirtyPositions[Z.uid]=Z,this._startTicker())}_addAnimation(Z){-1===this._animations.indexOf(Z)&&(this._animations.push(Z),this._startTicker())}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(Z){return this._tickers.push(Z),this._startTicker(),new x.ku(()=>{I.removeFirst(this._tickers,Z)})}markDirtyGlobal(Z){Z||(Z=this.container),Z.walkChildren(Q=>{Q instanceof p.W&&this.markDirtyGlobal(Q),Q.markDirty(),Q.markDirtyBounds()})}width(){return Math.floor(this.dom.getBoundingClientRect().width)}height(){return Math.floor(this.dom.getBoundingClientRect().height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),I.each(this._disposers,Z=>{Z.dispose()}),this._inner&&h.removeElement(this._inner),I.remove(tn.i_.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(Z){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=h.stripTags(Z))}setThemes(Z){this._rootContainer.set("themes",Z);const Q=this.tooltipContainer;Q&&Q._applyThemes();const ht=this.interfaceColors;ht&&ht._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const Z=this._tooltipContainerSettings,Q=this._rootContainer.children.push(p.W.new(this,{position:"absolute",isMeasured:!1,width:yt.AQ,height:yt.AQ,layer:Z?35:30,layerMargin:Z||void 0}));this.tooltipContainer=Q;const ht=k.u.new(this,{});this.container.set("tooltip",ht),ht.hide(0),this._tooltip=ht}}_registerTabindexOrder(Z){1!=this._a11yD&&(Z.get("focusable")?I.pushOne(this._tabindexes,Z):I.remove(this._tabindexes,Z),this._invalidateTabindexes())}_unregisterTabindexOrder(Z){1!=this._a11yD&&(I.remove(this._tabindexes,Z),this._invalidateTabindexes())}_invalidateTabindexes(){if(1==this._a11yD)return;this._tabindexes.sort((Q,ht)=>{const xt=Q.get("tabindexOrder",0),Lt=ht.get("tabindexOrder",0);return xt==Lt?0:xt>Lt?1:-1});const Z=[];I.each(this._tabindexes,(Q,ht)=>{Q.getPrivate("focusElement")?this._moveFocusElement(ht,Q):this._makeFocusElement(ht,Q);const xt=Q.get("focusableGroup");xt&&(-1!==Z.indexOf(xt)?Q.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):Z.push(xt))})}_updateCurrentFocus(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(Z,Q){if(1==this._a11yD||(Q||(Q=Z.getPrivate("focusElement").dom),!Q))return;Z.get("visible")&&"tooltip"!=Z.get("role")&&!Z.isHidden()?"-1"!=Q.getAttribute("tabindex")&&Q.setAttribute("tabindex",""+this.tabindex):Q.removeAttribute("tabindex");const ht=Z.get("role");ht?Q.setAttribute("role",ht):Q.removeAttribute("role");const xt=Z.get("ariaLabel");if(xt){const ue=(0,Xi.q)(Z,xt);Q.setAttribute("aria-label",ue)}else Q.removeAttribute("aria-label");const Lt=Z.get("ariaLive");Lt?Q.setAttribute("aria-live",Lt):Q.removeAttribute("aria-live");const Ut=Z.get("ariaChecked");null!=Ut?Q.setAttribute("aria-checked",Ut?"true":"false"):Q.removeAttribute("aria-checked"),Z.get("ariaHidden")?Q.setAttribute("aria-hidden","hidden"):Q.removeAttribute("aria-hidden");const re=Z.get("ariaOrientation");re?Q.setAttribute("aria-orientation",re):Q.removeAttribute("aria-orientation");const Xt=Z.get("ariaValueNow");Xt?Q.setAttribute("aria-valuenow",Xt):Q.removeAttribute("aria-valuenow");const oe=Z.get("ariaValueMin");oe?Q.setAttribute("aria-valuemin",oe):Q.removeAttribute("aria-valuemin");const Le=Z.get("ariaValueMax");Le?Q.setAttribute("aria-valuemax",Le):Q.removeAttribute("aria-valuemax");const Oe=Z.get("ariaValueText");Oe?Q.setAttribute("aria-valuetext",Oe):Q.removeAttribute("aria-valuetext");const Qe=Z.get("ariaControls");Qe?Q.setAttribute("aria-controls",Qe):Q.removeAttribute("aria-controls")}_makeFocusElement(Z,Q){if(Q.getPrivate("focusElement")||1==this._a11yD)return;const ht=document.createElement("div");"tooltip"!=Q.get("role")&&(ht.tabIndex=this.tabindex),ht.style.position="absolute",h.setInteractive(ht,!1);const xt=[];Q.setPrivate("focusElement",{dom:ht,disposers:xt}),this._decorateFocusElement(Q),xt.push(h.addEventListener(ht,"focus",Lt=>{this._handleFocus(Lt,Z)})),xt.push(h.addEventListener(ht,"blur",Lt=>{this._handleBlur(Lt,Z)})),this._moveFocusElement(Z,Q)}_removeFocusElement(Z){if(1==this._a11yD)return;I.remove(this._tabindexes,Z);const Q=Z.getPrivate("focusElement");Q&&(this._focusElementContainer.removeChild(Q.dom),I.each(Q.disposers,ht=>{ht.dispose()}))}_hideFocusElement(Z){1!=this._a11yD&&(Z.getPrivate("focusElement").dom.style.display="none")}_moveFocusElement(Z,Q){if(1==this._a11yD)return;const ht=this._focusElementContainer,xt=Q.getPrivate("focusElement").dom;if(xt===this._focusElementContainer.children[Z])return;const Lt=this._focusElementContainer.children[Z+1];Lt?ht.insertBefore(xt,Lt):ht.append(xt)}_positionFocusElement(Z){if(1==this._a11yD)return;const Q=Z.globalBounds(),ht=Q.right==Q.left?Z.width():Q.right-Q.left,xt=Q.top==Q.bottom?Z.height():Q.bottom-Q.top,Lt=Z.getPrivate("focusElement").dom;Lt.style.top=Q.top-2+"px",Lt.style.left=Q.left-2+"px",Lt.style.width=ht+4+"px",Lt.style.height=xt+4+"px"}_handleFocus(Z,Q){if(1==this._a11yD)return;const ht=this._tabindexes[Q];ht.isVisibleDeep()?(this._positionFocusElement(ht),this._focusedSprite=ht,ht.events.isEnabled("focus")&&ht.events.dispatch("focus",{type:"focus",originalEvent:Z,target:ht})):this._focusNext(Z.target,this._isShift?-1:1)}_focusNext(Z,Q){if(1==this._a11yD)return;var ht=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let xt=ht.indexOf(Z)+Q;xt<0?xt=ht.length-1:xt>=ht.length&&(xt=0),ht[xt].focus()}_handleBlur(Z,Q){if(1==this._a11yD)return;const ht=this._focusedSprite;ht&&ht.events.isEnabled("blur")&&ht.events.dispatch("blur",{type:"blur",originalEvent:Z,target:ht}),this._focusedSprite=void 0}updateTooltip(Z){if(1==this._a11yD)return;const Q=h.stripTags(Z._getText());let ht=Z.getPrivate("tooltipElement");"tooltip"==Z.get("role")&&""!=Q?(ht||(ht=this._makeTooltipElement(Z)),ht.innerHTML!=Q&&(ht.innerHTML=Q)):ht&&(ht.remove(),Z.removePrivate("tooltipElement"))}_makeTooltipElement(Z){const Q=this._tooltipElementContainer,ht=document.createElement("div");return ht.style.position="absolute",ht.style.top="-1000000px",ht.style.opacity="0.0000001",h.setInteractive(ht,!1),this._decorateFocusElement(Z,ht),Q.append(ht),Z.setPrivate("tooltipElement",ht),ht}_removeTooltipElement(Z){if(1==this._a11yD)return;const Q=Z.getPrivate("tooltipElement");if(Q){const ht=Q.parentElement;ht&&ht.removeChild(Q)}}_invalidateAccessibility(Z){if(1==this._a11yD)return;this._focusElementDirty=!0;const Q=Z.getPrivate("focusElement");Z.get("focusable")?Q&&(this._decorateFocusElement(Z),this._positionFocusElement(Z)):Q&&this._removeFocusElement(Z)}focused(Z){return this._focusedSprite===Z}documentPointToRoot(Z){const Q=this.dom.getBoundingClientRect();return{x:Z.x-Q.left,y:Z.y-Q.top}}rootPointToDocument(Z){const Q=this.dom.getBoundingClientRect();return{x:Z.x+Q.left,y:Z.y+Q.top}}addDisposer(Z){return this._disposers.push(Z),Z}_updateComputedStyles(){const Z=window.getComputedStyle(this.dom);let Q="";rt.each(Z,(xt,Lt)=>{ut.isString(xt)&&xt.match(/^font/)&&(Q+=Lt)});const ht=Q!=this._fontHash;return ht&&(this._fontHash=Q),ht}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(Z){Z instanceof p.W?Z.children.each(Q=>{this._invalidateLabelBounds(Q)}):Z instanceof l.x&&Z.markDirtyBounds()}_hasLicense(){for(let Z=0;Z<tn.i_.licenses.length;Z++)if(tn.i_.licenses[Z].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(Z){this._renderer.debugGhostView=Z}set tapToActivate(Z){this._renderer.tapToActivate=Z}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(Z){this._renderer.tapToActivateTimeout=Z}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(Z){const Q=this._htmlElementContainer,ht=document.createElement("div");return Z.setPrivate("htmlElement",ht),ht.style.position="absolute",ht.style.overflow="auto",ht.style.boxSizing="border-box",h.setInteractive(ht,!0),Z.events.isEnabled("click")&&this._disposers.push(h.addEventListener(ht,"click",xt=>{const Lt=this._renderer.getEvent(xt);Z.events.dispatch("click",{type:"click",originalEvent:Lt.event,point:Lt.point,simulated:!1,target:Z})})),this._positionHTMLElement(Z),Q.append(ht),I.pushOne(this._htmlEnabledContainers,Z),ht}_positionHTMLElements(){I.each(this._htmlEnabledContainers,Z=>{this._positionHTMLElement(Z)})}_positionHTMLElement(Z){const Q=Z.getPrivate("htmlElement");if(Q){I.each(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],Oe=>{const Qe=Z.get(Oe);Q.style[Oe]=Qe?Qe+"px":""});const xt=Z.compositeOpacity();setTimeout(()=>{Q.style.opacity=xt+""},10);const Lt=Z.isVisibleDeep();Lt&&(Q.style.display="block");const Ut=Z.globalBounds();Q.style.top=Ut.top+"px",Q.style.left=Ut.left+"px";const re=Z.get("width"),Xt=Z.get("height");let oe=0,Le=0;if(re&&(oe=Z.width()),Xt&&(Le=Z.height()),re&&Xt)Z.removePrivate("minWidth"),Z.removePrivate("minHeight");else{Q.style.width="",Q.style.height="";const Oe=Q.getBoundingClientRect();oe=Oe.width,Le=Oe.height,Z._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},Z.setPrivate("minWidth",oe),Z.setPrivate("minHeight",Le)}oe>0&&(Q.style.minWidth=oe+"px"),Le>0&&(Q.style.minHeight=Le+"px"),Lt&&0!=xt||(Q.style.display="none")}}_setHTMLContent(Z,Q){let ht=Z.getPrivate("htmlElement");ht||(ht=this._makeHTMLElement(Z)),ht.innerHTML!=Q&&(ht.innerHTML=Q)}_removeHTMLContent(Z){let Q=Z.getPrivate("htmlElement");Q&&this._htmlElementContainer.removeChild(Q),I.remove(this._htmlEnabledContainers,Z)}}},3409:function(F,N,a){"use strict";a.d(N,{Q:function(){return _}});var p=a(5769),l=a(3540),d=a(5071);class _{constructor(x,I){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=x,!I)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(x){const I=new this(x,!0);return I.setupDefaultRules(),I}setupDefaultRules(){}_lookupRules(x){return this._rules[x]}ruleRaw(x,I=[]){let h=this._rules[x];h||(h=this._rules[x]=[]),I.sort(l.qu);const{index:n,found:D}=d.getSortedIndex(h,P=>{const E=l.qu(P.tags.length,I.length);return 0===E?l.wq(P.tags,I,l.qu):E});if(D)return h[n].template;{const P=p.YS.new({});return h.splice(n,0,{tags:I,template:P}),P}}rule(x,I=[]){return this.ruleRaw(x,I)}}},5108:function(F,N,a){"use strict";a.d(N,{g:function(){return l}});var p=a(6331);class l extends p.JH{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const _=this.get("sprite");_&&(_.setAll({position:"absolute",role:"figure"}),this._disposers.push(_))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.JH.classNames.concat([l.className])})},8054:function(F,N,a){"use strict";a.d(N,{z:function(){return _}});var p=a(3497),l=a(8777),d=a(7652);class _ extends l.W{_afterNew(){this._settings.themeTags=d.mergeTags(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",p.c.new(this._root,{themeTags:d.mergeTags(this._settings.themeTags,["background"])}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const x=this._prevSettings.icon,I=this.get("icon");I!==x&&(this._disposeProperty("icon"),x&&x.dispose(),I&&this.children.push(I),this._prevSettings.icon=I)}if(this.isDirty("label")){const x=this._prevSettings.label,I=this.get("label");I!==x&&(this._disposeProperty("label"),x&&x.dispose(),I&&this.children.push(I),this._prevSettings.label=I)}}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.W.classNames.concat([_.className])})},1337:function(F,N,a){"use strict";a.d(N,{k:function(){return d}});var p=a(8777),l=a(6245);class d extends p.W{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(p.W.new(this._root,{width:l.AQ,height:l.AQ,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:p.W.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:l.AQ,height:l.AQ})})}}Object.defineProperty(d,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(d,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.W.classNames.concat([d.className])})},8035:function(F,N,a){"use strict";a.d(N,{C:function(){return l}});var p=a(1479);class l extends p.T{_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,this.get("radius",10))}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.T.classNames.concat([l.className])})},9361:function(F,N,a){"use strict";a.d(N,{w:function(){return h},z:function(){return I}});var p=a(5125),l=a(6331),d=a(8777),_=a(9582),w=a(5071),x=a(256);class I extends l.Zr{constructor(D,P,E){super(E),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=P,this.component=D,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(D){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,D)}hide(D){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,D)}isHidden(){return!this.get("visible")}}class h extends d.W{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new _.k}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(D){D.incrementRef(),this._data.decrementRef(),this._data=D}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(D=>{const P=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===D.type)w.each(P,E=>{E.dispose()}),P.length=0,this._onDataClear();else if("push"===D.type){const E=new I(this,D.newValue,this._makeDataItem(D.newValue));P.push(E),this.processDataItem(E)}else if("setIndex"===D.type){const E=P[D.index],m=this._makeDataItem(D.newValue);x.keys(m).forEach(C=>{E.animate({key:C,to:m[C],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),E.dataContext=D.newValue}else if("insertIndex"===D.type){const E=new I(this,D.newValue,this._makeDataItem(D.newValue));P.splice(D.index,0,E),this.processDataItem(E)}else if("removeIndex"===D.type)P[D.index].dispose(),P.splice(D.index,1);else{if("moveIndex"!==D.type)throw new Error("Unknown IStreamEvent type");{const E=P[D.oldIndex];P.splice(D.oldIndex,1),P.splice(D.newIndex,0,E)}}this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},w.each(this.valueFields,D=>{this.get(D+"Field")&&(this._valueFields.push(D),this._valueFieldsF[D]={fieldKey:D+"Field",workingKey:D+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},w.each(this.fields,D=>{this.get(D+"Field")&&(this._fields.push(D),this._fieldsF[D]=D+"Field")}))}get dataItems(){return this._dataItems}processDataItem(D){}_makeDataItem(D){const P={};return this._valueFields&&w.each(this._valueFields,E=>{const m=this.get(this._valueFieldsF[E].fieldKey);P[E]=D[m],P[this._valueFieldsF[E].workingKey]=P[E]}),this._fields&&w.each(this._fields,E=>{const m=this.get(this._fieldsF[E]);P[E]=D[m]}),P}makeDataItem(D){let P=new I(this,void 0,D);return this.processDataItem(P),P}pushDataItem(D){const P=this.makeDataItem(D);return this._mainDataItems.push(P),P}disposeDataItem(D){}showDataItem(D,P){return(0,p.mG)(this,void 0,void 0,function*(){D.set("visible",!0)})}hideDataItem(D,P){return(0,p.mG)(this,void 0,void 0,function*(){D.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const D="datavalidated";this.events.isEnabled(D)&&this.events.dispatch(D,{type:D,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(D){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:d.W.classNames.concat([h.className])})},8777:function(F,N,a){"use strict";a.d(N,{W:function(){return m}});var p=a(7144),l=a(5071);class d extends p.aV{constructor(A){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=A,this._events=this.events.onAll(k=>{if("clear"===k.type)l.each(k.oldValues,f=>{this._onRemoved(f)});else if("push"===k.type)this._onInserted(k.newValue);else if("setIndex"===k.type)this._onRemoved(k.oldValue),this._onInserted(k.newValue,k.index);else if("insertIndex"===k.type)this._onInserted(k.newValue,k.index);else if("removeIndex"===k.type)this._onRemoved(k.oldValue);else{if("moveIndex"!==k.type)throw new Error("Unknown IListEvent type");this._onRemoved(k.value),this._onInserted(k.value,k.newIndex)}})}_onInserted(A,k){A._setParent(this._container,!0);const f=this._container._childrenDisplay;void 0===k?f.addChild(A._display):f.addChildAt(A._display,k)}_onRemoved(A){this._container._childrenDisplay.removeChild(A._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),l.each(this.values,A=>{A.dispose()}))}}var _=a(6245),w=a(4596),x=a(7142),I=a(4431),h=a(1706),n=a(6881),D=a(2132),P=a(5040),E=a(7652);class m extends w.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new d(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){l.eachReverse(this.allChildren(),A=>{A.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(A=>{A.removePrivate("x"),A.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(A=>{A.markDirtyPosition()}),this.isDirty("maskContent")){const A=this._childrenDisplay;let k=this._contentMask;this.get("maskContent")?k||(k=x.A.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=k,A.addChildAt(k._display,0),A.mask=k._display):k&&(A.removeChild(k._display),A.mask=null,k.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),l.each(this._percentageSizeChildren,A=>{A._updateSize()}),l.each(this._percentagePositionChildren,A=>{A.markDirtyPosition(),A._updateSize()}),this.updateBackground()}updateBackground(){const A=this.get("background");let k=this._localBounds;if(k&&!this.isHidden()){let f=k.left,o=k.top,R=k.right-f,U=k.bottom-o,X=this.get("maxWidth"),tt=this.get("maxHeight");tt&&U>tt&&(U=tt),X&&R>X&&(R=X);let pt=this.width(),ot=this.height();A&&(A.setAll({width:R,height:U,x:f,y:o}),this._display.interactive&&(A._display.interactive=!0));const W=this._contentMask;W&&W.setAll({width:pt+1,height:ot+1});const K=this.get("verticalScrollbar");if(K){K.set("height",ot),K.set("x",pt-K.width()-K.get("marginRight",0)),K.set("end",K.get("start",0)+ot/this._contentHeight);const gt=K.get("background");gt&&gt.setAll({width:K.width(),height:ot});let yt=!0;this._contentHeight<=ot&&(yt=!1),K.setPrivate("visible",yt)}}}_applyThemes(){return!!super._applyThemes()&&(this.eachChildren(A=>{A._applyThemes()}),!0)}_applyState(A){super._applyState(A),this.get("setStateOnChildren")&&this.eachChildren(k=>{k.states.apply(A)})}_applyStateAnimated(A,k){super._applyStateAnimated(A,k),this.get("setStateOnChildren")&&this.eachChildren(f=>{f.states.applyAnimate(A,k)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){let A=this.get("width"),k=this.get("height"),f=this.getPrivate("width"),o=this.getPrivate("height"),R={left:0,top:0,right:this.width(),bottom:this.height()},U=this.get("layout"),X=!1,tt=!1;if((U instanceof I.G||U instanceof n.M)&&(X=!0),U instanceof h.Z&&(tt=!0),null==A&&null==f||null==k&&null==o||this.get("verticalScrollbar")){let pt=Number.MAX_VALUE,ot=pt,W=-pt,K=pt,gt=-pt;const yt=this.get("paddingLeft",0),_t=this.get("paddingTop",0),rt=this.get("paddingRight",0),ut=this.get("paddingBottom",0);this.children.each(at=>{if("absolute"!=at.get("position")&&at.get("isMeasured")){let Ct=at.adjustedLocalBounds(),vt=at.x(),ct=at.y(),Tt=vt+Ct.left,kt=vt+Ct.right,Ft=ct+Ct.top,Ot=ct+Ct.bottom;X&&(Tt-=at.get("marginLeft",0),kt+=at.get("marginRight",0)),tt&&(Ft-=at.get("marginTop",0),Ot+=at.get("marginBottom",0)),Tt<ot&&(ot=Tt),kt>W&&(W=kt),Ft<K&&(K=Ft),Ot>gt&&(gt=Ot)}}),ot==pt&&(ot=0),W==-pt&&(W=0),K==pt&&(K=0),gt==-pt&&(gt=0),R.left=ot-yt,R.top=K-_t,R.right=W+rt,R.bottom=gt+ut}this._contentWidth=R.right-R.left,this._contentHeight=R.bottom-R.top,P.isNumber(A)&&(R.left=0,R.right=A),P.isNumber(f)&&(R.left=0,R.right=f),P.isNumber(k)&&(R.top=0,R.bottom=k),P.isNumber(o)&&(R.top=0,R.bottom=o),this._localBounds=R}_updateBounds(){const A=this.get("layout");A&&A.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const A=this.innerWidth(),k=this.innerHeight();if(A!=this._prevWidth||k!=this._prevHeight){let f=this.get("layout"),o=!1,R=!1;f&&((f instanceof I.G||f instanceof n.M)&&(o=!0),f instanceof h.Z&&(R=!0)),l.each(this._percentageSizeChildren,U=>{if(!o){let X=U.get("width");X instanceof _.gG&&U.setPrivate("width",X.value*A)}if(!R){let X=U.get("height");X instanceof _.gG&&U.setPrivate("height",X.value*k)}}),l.each(this._percentagePositionChildren,U=>{U.markDirtyPosition(),U.markDirtyBounds()}),this._prevWidth=A,this._prevHeight=k,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateChildren(){if(this.isDirty("html")){const k=this.get("html");k&&""!==k?this._root._setHTMLContent(this,(0,D.q)(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){const k=this.get("verticalScrollbar");if(k){k._setParent(this),k.children.removeValue(k.startGrip),k.children.removeValue(k.endGrip),this.set("maskContent",!0),this.set("paddingRight",k.width()+k.get("marginRight",0)+k.get("marginLeft",0));let f=this.get("background");f||(f=this.set("background",x.A.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",o=>{const R=o.originalEvent;if(!E.isLocalEvent(R,this))return;R.preventDefault();const U=R.deltaY/5e3,X=k.get("start",0),tt=k.get("end",1);X+U>0&&tt+U<1&&(k.set("start",X+U),k.set("end",tt+U))}),this._disposers.push(this._vsbd0),this._vsbd1=k.events.on("rangechanged",()=>{let o=this._contentHeight;const R=this._childrenDisplay,U=this._contentMask;R.y=-k.get("start")*o,R.markDirtyLayer(),U&&(U._display.y=-R.y,R.mask=U._display)}),this._disposers.push(this._vsbd1),this._display.addChild(k._display)}else{const f=this._prevSettings.verticalScrollbar;f&&(this._display.removeChild(f._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose(),this._childrenDisplay.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0))}}if(this.isDirty("background")){const k=this._prevSettings.background;k&&this._display.removeChild(k._display);const f=this.get("background");f instanceof w.j&&(f.set("isMeasured",!1),f._setParent(this),this._display.addChildAt(f._display,0))}if(this.isDirty("mask")){const k=this.get("mask"),f=this._prevSettings.mask;if(f&&(this._display.removeChild(f._display),f!=k&&f.dispose()),k){var A=k.parent;A&&A.children.removeValue(k),k._setParent(this),this._display.addChildAt(k._display,0),this._childrenDisplay.mask=k._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(A=>{A._processTemplateField()})}walkChildren(A){this.children.each(k=>{k instanceof m&&k.walkChildren(A),A(k)})}eachChildren(A){const k=this.get("background");k&&A(k);const f=this.get("verticalScrollbar");f&&A(f);const o=this.get("mask");o&&A(o),this.children.values.forEach(R=>{A(R)})}allChildren(){const A=[];return this.eachChildren(k=>{A.push(k)}),A}_setDataItem(A){const k=A!==this._dataItem;super._setDataItem(A);const f=this.get("html","");f&&""!==f&&k&&this._root._setHTMLContent(this,(0,D.q)(this,f))}}Object.defineProperty(m,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(m,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:w.j.classNames.concat([m.className])})},2433:function(F,N,a){"use strict";a.d(N,{P:function(){return l}});var p=a(1479);class l extends p.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radiusX")||this.isDirty("radiusY")||this.isDirty("rotation"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawEllipse(0,0,Math.abs(this.get("radiusX")),Math.abs(this.get("radiusY")))}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Ellipse"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.T.classNames.concat([l.className])})},1479:function(F,N,a){"use strict";a.d(N,{T:function(){return I},u:function(){return x}});var p=a(4429),l=a(4596),d=a(4680),_=a(5040),w=a(5071);const x=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset"];class I extends l.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const n=this.get("fillGradient");if(n){this._display.isMeasured=!0;const D=n.get("target");D&&(this._disposers.push(D.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(D.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const n=this.get("strokeGradient");if(n){this._display.isMeasured=!0;const D=n.get("target");D&&(this._disposers.push(D.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(D.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let n=this.get("strokeDasharray");_.isNumber(n)&&(n=n<.5?[0]:[n]),this._display.setLineDash(n);const D=this.get("strokeDashoffset");D&&this._display.setLineDashOffset(D);const P=this.get("blendMode",d.b.NORMAL);this._display.blendMode=P;const E=this.get("draw");E&&E(this._display,this);const m=this.get("svgPath");null!=m&&this._display.svgPath(m)}}_afterChanged(){if(super._afterChanged(),this._clear){const n=this.get("fill"),D=this.get("fillGradient"),P=this.get("fillPattern"),E=this.get("fillOpacity"),m=this.get("stroke"),C=this.get("strokeGradient"),A=this.get("strokePattern"),k=this.get("shadowColor"),f=this.get("shadowBlur"),o=this.get("shadowOffsetX"),R=this.get("shadowOffsetY"),U=this.get("shadowOpacity");if(k&&(f||o||R)&&this._display.shadow(k,f,o,R,U),P){let X=!1;!n||P.get("fill")&&!P.get("fillInherited")||(P.set("fill",n),P.set("fillInherited",!0),X=!0),!m||P.get("color")&&!P.get("colorInherited")||(P.set("color",m),P.set("colorInherited",!0),X=!0),X&&P._changed();const tt=P.pattern;tt&&(this._display.beginFill(tt,E),this._display.endFill(),P instanceof p.v&&P.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}else if(D){if(n){const tt=D.get("stops",[]);tt.length&&w.each(tt,pt=>{pt.color&&!pt.colorInherited||!n||(pt.color=n,pt.colorInherited=!0),(null==pt.opacity||pt.opacityInherited)&&(pt.opacity=E,pt.opacityInherited=!0)})}const X=D.getFill(this);X&&(this._display.beginFill(X,E),this._display.endFill())}else n&&(this._display.beginFill(n,E),this._display.endFill());if(m||C||A){const X=this.get("strokeOpacity");let tt=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(tt/=this.get("scale",1)),this.get("crisp")&&(tt/=this._root._renderer.resolution);const pt=this.get("lineJoin");if(A){let ot=!1;!m||A.get("color")&&!A.get("colorInherited")||(A.set("color",m),A.set("colorInherited",!0),ot=!0),ot&&A._changed();const W=A.pattern;W&&(this._display.lineStyle(tt,W,X,pt),this._display.endStroke(),A instanceof p.v&&A.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}else if(C){const ot=C.get("stops",[]);ot.length&&w.each(ot,K=>{K.color&&!K.colorInherited||!m||(K.color=m,K.colorInherited=!0),(null==K.opacity||K.opacityInherited)&&(K.opacity=X,K.opacityInherited=!0)});const W=C.getFill(this);W&&(this._display.lineStyle(tt,W,X,pt),this._display.endStroke())}else m&&(this._display.lineStyle(tt,m,X,pt),this._display.endStroke())}}this._clear=!1}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.j.classNames.concat([I.className])})},6881:function(F,N,a){"use strict";a.d(N,{M:function(){return _}});var p=a(2010),l=a(5071),d=a(751);class _ extends p.A{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(x){let I=x.get("paddingLeft",0),h=x.get("paddingRight",0),n=x.get("paddingTop",0),D=x.maxWidth()-I-h,P=D,E=1;(0,p.j)(x,R=>{if(R.get("visible")&&R.getPrivate("visible")&&!R.get("forceHidden")&&"absolute"!=R.get("position")){let U=R.width();U<P&&(P=U),U>E&&(E=U)}}),P=d.fitToRange(P,1,D),E=d.fitToRange(E,1,D);let m=1;m=this.get("fixedWidthGrid")?D/E:D/P,m=Math.max(1,Math.floor(m)),m=Math.min(this.get("maxColumns",Number.MAX_VALUE),m);let C=this.getColumnWidths(x,m,E,D),A=n,k=0,f=0;m=C.length;let o=I;(0,p.j)(x,R=>{if("relative"==R.get("position")&&R.isVisible()){const U=R.get("marginTop",0),X=R.get("marginBottom",0);let tt=R.adjustedLocalBounds(),pt=R.get("marginLeft",0),ot=R.get("marginRight",0),K=A+U-tt.top;R.setPrivate("x",o+pt-tt.left),R.setPrivate("y",K),o+=C[k]+ot,f=Math.max(f,R.height()+U+X),k++,k>=m&&(k=0,o=I,A+=f)}})}getColumnWidths(x,I,h,n){let D=0,P=[],E=0;return(0,p.j)(x,m=>{let C=m.adjustedLocalBounds();"absolute"!=m.get("position")&&m.isVisible()&&(P[E]=this.get("fixedWidthGrid")?h:Math.max(0|P[E],C.right-C.left+m.get("marginLeft",0)+m.get("marginRight",0)),E<x.children.length-1&&(E++,E==I&&(E=0)))}),l.each(P,m=>{D+=m}),D>n?I>2?this.getColumnWidths(x,I-=1,h,n):[n]:P}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.A.classNames.concat([_.className])})},4431:function(F,N,a){"use strict";a.d(N,{G:function(){return _}});var p=a(2010),l=a(5040),d=a(6245);class _ extends p.A{updateContainer(x){let I=x.get("paddingLeft",0),h=x.innerWidth(),n=0;(0,p.j)(x,P=>{if(P.isVisible()&&"relative"==P.get("position")){let E=P.get("width");if(E instanceof d.gG){n+=E.value;let m=h*E.value,C=P.get("minWidth",P.getPrivate("minWidth",-1/0));C>m&&(h-=C,n-=E.value);let A=P.get("maxWidth",P.getPrivate("maxWidth",1/0));m>A&&(h-=A,n-=E.value)}else l.isNumber(E)||(E=P.width()),h-=E+P.get("marginLeft",0)+P.get("marginRight",0)}}),h<0&&(h=.01),(0,p.j)(x,P=>{if(P.isVisible()&&"relative"==P.get("position")){let E=P.get("width");if(E instanceof d.gG){let m=h*E.value/n-P.get("marginLeft",0)-P.get("marginRight",0),C=P.get("minWidth",P.getPrivate("minWidth",-1/0)),A=P.get("maxWidth",P.getPrivate("maxWidth",1/0));m=Math.min(Math.max(C,m),A),P.setPrivate("width",m)}}});let D=I;(0,p.j)(x,P=>{if("relative"==P.get("position"))if(P.isVisible()){let E=P.adjustedLocalBounds(),m=P.get("marginLeft",0),C=P.get("marginRight",0),A=P.get("maxWidth"),k=E.left,f=E.right;A&&f-k>A&&(f=k+A);let o=D+m-k;P.setPrivate("x",o),D=o+f+C}else P.setPrivate("x",void 0)})}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.A.classNames.concat([_.className])})},962:function(F,N,a){"use strict";a.d(N,{_:function(){return x}});var p=a(2036),l=a(6245),d=a(8777),_=a(5071),w=a(5040);class x extends d.W{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),_.each(this._textKeys,h=>{const n=this.get(h);null!=n&&this._text.set(h,n)}),""!==this.get("html","")&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(p.x.new(this._root,{}))}_updateChildren(){if(super._updateChildren(),_.each(this._textKeys,h=>{this._text.set(h,this.get(h))}),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),""!==this.get("html","")?this._text.set("text",""):this._text.set("text",this.get("text")),this.isDirty("textAlign")||this.isDirty("width")){const h=this.get("textAlign");let n;null!=this.get("width")?n="right"==h?l.AQ:"center"==h?l.CI:0:"left"==h||"start"==h?n=this.get("paddingLeft"):"right"!=h&&"end"!=h||(n=-this.get("paddingRight")),this.text.set("x",n)}}_setMaxDimentions(){const h=this.get("rotation"),n=90==h||270==h||-90==h,D=this.get("maxWidth",this.getPrivate("maxWidth",1/0));w.isNumber(D)?this.text.set(n?"maxHeight":"maxWidth",D-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(n?"maxHeight":"maxWidth",void 0);const P=this.get("maxHeight",this.getPrivate("maxHeight",1/0));w.isNumber(P)?this.text.set(n?"maxWidth":"maxHeight",P-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(n?"maxWidth":"maxHeight",void 0)}_setDataItem(h){super._setDataItem(h),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}getText(){return this._text._getText()}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:d.W.classNames.concat([x.className])})},2010:function(F,N,a){"use strict";a.d(N,{A:function(){return d},j:function(){return l}});var p=a(6331);function l(_,w){_.get("reverseChildren",!1)?_.children.eachReverse(w):_.children.each(w)}class d extends p.JH{}Object.defineProperty(d,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(d,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.JH.classNames.concat([d.className])})},3105:function(F,N,a){"use strict";a.d(N,{D:function(){return h}});var p=a(3399),l=a(8777),d=a(962),_=a(3497),w=a(5769),x=a(7144),I=a(7652);class h extends p.F{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new x.o(w.YS.new({}),()=>l.W._new(this._root,{themeTags:I.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:I.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:_.c.new(this._root,{themeTags:I.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:I.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template]))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new x.o(w.YS.new({}),()=>l.W._new(this._root,{themeTags:I.mergeTags(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new x.o(w.YS.new({}),()=>d._._new(this._root,{themeTags:I.mergeTags(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template]))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new x.o(w.YS.new({}),()=>d._._new(this._root,{themeTags:I.mergeTags(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template]))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new x.o(w.YS.new({}),()=>_.c._new(this._root,{themeTags:I.mergeTags(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template]))})}_afterNew(){this._settings.themeTags=I.mergeTags(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(D){const P=this.children.push(this.itemContainers.make());return P._setDataItem(D),this.itemContainers.push(P),P.states.create("disabled",{}),P}makeMarker(){const D=this.markers.make();return this.markers.push(D),D.states.create("disabled",{}),D}makeLabel(){const D=this.labels.make();return D.states.create("disabled",{}),D}makeValueLabel(){const D=this.valueLabels.make();return D.states.create("disabled",{}),D}makeMarkerRectangle(){const D=this.markerRectangles.make();return D.states.create("disabled",{}),D}processDataItem(D){super.processDataItem(D);const P=this.makeItemContainer(D),E=this.get("nameField"),m=this.get("fillField"),C=this.get("strokeField");if(P){const k=this.get("clickTarget","itemContainer"),f=D.dataContext;f&&f.set&&f.set("legendDataItem",D),P._setDataItem(D),D.set("itemContainer",P);const o=this.makeMarker();if(o){P.children.push(o),o._setDataItem(D),D.set("marker",o);const X=this.get("useDefaultMarker"),tt=o.children.push(this.makeMarkerRectangle());let pt=D.get("fill"),ot=D.get("stroke");D.set("markerRectangle",tt),f&&f.get&&(pt=f.get(m,pt),ot=f.get(C,ot)),ot||(ot=pt),X?f.on&&(f.on(m,()=>{tt.set("fill",f.get(m))}),f.on(C,()=>{tt.set("stroke",f.get(C))})):f&&f.createLegendMarker&&f.createLegendMarker(),tt.setAll({fill:pt,stroke:ot});const W=f.component;W&&W.updateLegendMarker&&W.updateLegendMarker(f)}const R=this.makeLabel();if(R){P.children.push(R),R._setDataItem(D),D.set("label",R),R.text.on("text",()=>{P.set("ariaLabel",R.text._getText()+"; "+this._t("Press ENTER to toggle"))}),f&&f.get&&D.set("name",f.get(E));let X=D.get("name");X&&R.set("text",X)}const U=this.makeValueLabel();if(U&&(P.children.push(U),U._setDataItem(D),D.set("valueLabel",U)),f&&f.show&&(this._disposers.push(f.on("visible",X=>{P.set("disabled",!X)})),f.get("visible")||P.set("disabled",!0),"none"!=k)){var A=P;"marker"==k&&(A=o),this._addClickEvents(A,f,D)}this.children.values.sort((X,tt)=>{var pt=X.dataItem.dataContext,ot=tt.dataItem.dataContext;if(pt&&ot){var W=this.data.indexOf(pt),K=this.data.indexOf(ot);if(W>K)return 1;if(W<K)return-1}return 0}),f&&f.updateLegendValue&&f.updateLegendValue()}}_addClickEvents(D,P,E){D.set("cursorOverStyle","pointer"),D.events.on("pointerover",()=>{const m=P.component;m&&m.hoverDataItem&&m.hoverDataItem(P)}),D.events.on("pointerout",()=>{const m=P.component;m&&m.hoverDataItem&&m.unhoverDataItem(P)}),D.events.on("click",()=>{const m=E.get("label").text._getText();P.show&&P.isHidden&&(P.isHidden()||!1===P.get("visible"))?(P.show(),D.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,m))):P.hide&&(P.hide(),D.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,m)))})}disposeDataItem(D){super.disposeDataItem(D);const P=D.dataContext;P&&P.get&&P.get("legendDataItem")==D&&P.set("legendDataItem",void 0);let E=D.get("itemContainer");E&&(this.itemContainers.removeValue(E),E.dispose());let m=D.get("marker");m&&(this.markers.removeValue(m),m.dispose());let C=D.get("markerRectangle");C&&(this.markerRectangles.removeValue(C),C.dispose());let A=D.get("label");A&&(this.labels.removeValue(A),A.dispose());let k=D.get("valueLabel");k&&(this.valueLabels.removeValue(k),k.dispose())}}Object.defineProperty(h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.F.classNames.concat([h.className])})},2077:function(F,N,a){"use strict";a.d(N,{x:function(){return _}});var p=a(1479);function l(w,x){for(let I=0,h=x.length;I<h;I++){const n=x[I];if(n.length>0){let D=n[0];if(D.length>0){let P=D[0];w.moveTo(P.x,P.y);for(let E=0,m=n.length;E<m;E++)d(w,n[E])}}}}function d(w,x){for(let I=0,h=x.length;I<h;I++){const n=x[I];w.lineTo(n.x,n.y)}}class _ extends p.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const x=this.get("points"),I=this.get("segments");if(x&&x.length>0){let h=x[0];this._display.moveTo(h.x,h.y),l(this._display,[[x]])}else if(I)l(this._display,I);else if(!this.get("draw")){let h=this.width(),n=this.height();this._display.moveTo(0,0),this._display.lineTo(h,n)}}}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.T.classNames.concat([_.className])})},8289:function(F,N,a){"use strict";a.d(N,{G:function(){return l}});class p{constructor(h,n){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=h,this._tension=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x(this,this._t0,w(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(h,n){let D=NaN;if(n=+n,(h=+h)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(h,n):this._context.moveTo(h,n);break;case 1:this._point=2;break;case 2:this._point=3,x(this,w(this,D=_(this,h,n)),D);break;default:x(this,this._t0,D=_(this,h,n))}this._x0=this._x1,this._x1=h,this._y0=this._y1,this._y1=n,this._t0=D}}}function l(I){return function(h){return new p(h,I)}}function d(I){return I<0?-1:1}function _(I,h,n){let D=I._x1-I._x0,P=h-I._x1,E=(I._y1-I._y0)/(D||P<0&&-0),m=(n-I._y1)/(P||D<0&&-0),C=(E*P+m*D)/(D+P);return(d(E)+d(m))*Math.min(Math.abs(E),Math.abs(m),.5*Math.abs(C))||0}function w(I,h){let n=I._x1-I._x0;return n?(3*(I._y1-I._y0)/n-h)/2:h}function x(I,h,n){let D=I._x0,E=I._x1,m=I._y1,C=(E-D)/1.5*(1-I._tension);I._context.bezierCurveTo(D+C,I._y0+C*h,E-C,m-C*n,E,m)}},5892:function(F,N,a){"use strict";a.d(N,{$:function(){return l}});class p{constructor(h,n){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=h,this._tension=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x(this,this._t0,w(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(h,n){[h,n]=[n,h];let D=NaN;if(n=+n,(h=+h)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,h):this._context.moveTo(n,h);break;case 1:this._point=2;break;case 2:this._point=3,x(this,w(this,D=_(this,h,n)),D);break;default:x(this,this._t0,D=_(this,h,n))}this._x0=this._x1,this._x1=h,this._y0=this._y1,this._y1=n,this._t0=D}}}function l(I){function h(n){return new p(n,I)}return h.tension=function(n){return l(+n)},h}function d(I){return I<0?-1:1}function _(I,h,n){let D=I._x1-I._x0,P=h-I._x1,E=(I._y1-I._y0)/(D||P<0&&-0),m=(n-I._y1)/(P||D<0&&-0),C=(E*P+m*D)/(D+P);return(d(E)+d(m))*Math.min(Math.abs(E),Math.abs(m),.5*Math.abs(C))||0}function w(I,h){let n=I._x1-I._x0;return n?(3*(I._y1-I._y0)/n-h)/2:h}function x(I,h,n){let D=I._x0,E=I._x1,m=I._y1,C=(E-D)/1.5*(1-I._tension);I._context.bezierCurveTo(I._y0+C*h,D+C,m-C*n,E-C,m,E)}},5021:function(F,N,a){"use strict";a.d(N,{t:function(){return d}});var p=a(4596),l=a(5040);class d extends p.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makePicture(void 0)})}_changed(){if(super._changed(),this.isDirty("width")){const w=this.get("width");this._display.width=l.isNumber(w)?w:void 0}if(this.isDirty("height")){const w=this.get("height");this._display.height=l.isNumber(w)?w:void 0}if(this.isDirty("shadowColor")){this._display.clear();const w=this.get("shadowColor");this._display.shadowColor=w??void 0}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),this.isDirty("src")&&(this._display.clear(),this._load())}_load(){const w=this.get("src");if(w){const x=new Image;x.src=w,x.decode().then(()=>{this._display.image=x,this._updateSize()}).catch(I=>{})}}_updateSize(){super._updateSize();const w=this._display.image;if(w){let x=this.getPrivate("width",this.get("width")),I=this.getPrivate("height",this.get("height"));const h=w.width&&w.height?w.width/w.height:0;l.isNumber(x)&&l.isNumber(I)?(this._display.width=x,this._display.height=I):l.isNumber(x)&&h?I=x/h:l.isNumber(I)&&h?x=I*h:(x=w.width,I=w.height),l.isNumber(x)&&(this._display.width=x),l.isNumber(I)&&(this._display.height=I),this.markDirtyBounds(),this.markDirty()}}}Object.defineProperty(d,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(d,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.j.classNames.concat([d.className])})},8931:function(F,N,a){"use strict";a.d(N,{i:function(){return d}});var p=a(1479),l=a(751);class d extends p.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let w=this.width(),x=this.height();if(w>0&&x>0){let I=this.get("cornerRadius",8);I=l.fitToRange(I,0,Math.min(w/2,x/2));let h=this.get("pointerX",0),n=this.get("pointerY",0),D=this.get("pointerBaseWidth",15)/2,P=0,E=0,m=0,C=(h-P)*(x-E)-(n-E)*(w-P),A=(h-m)*(0-x)-(n-x)*(w-m);const k=this._display;if(k.moveTo(I,0),C>0&&A>0){let f=Math.round(l.fitToRange(h,I+D,w-D-I));n=l.fitToRange(n,-1/0,0),k.lineTo(f-D,0),k.lineTo(h,n),k.lineTo(f+D,0)}if(k.lineTo(w-I,0),k.arcTo(w,0,w,I,I),C>0&&A<0){let f=Math.round(l.fitToRange(n,I+D,x-D-I));h=l.fitToRange(h,w,1/0),k.lineTo(w,I),k.lineTo(w,Math.max(f-D,I)),k.lineTo(h,n),k.lineTo(w,f+D)}if(k.lineTo(w,x-I),k.arcTo(w,x,w-I,x,I),C<0&&A<0){let f=Math.round(l.fitToRange(h,I+D,w-D-I));n=l.fitToRange(n,x,1/0),k.lineTo(w-I,x),k.lineTo(f+D,x),k.lineTo(h,n),k.lineTo(f-D,x)}if(k.lineTo(I,x),k.arcTo(0,x,0,x-I,I),C<0&&A>0){let f=Math.round(l.fitToRange(n,I+D,x-I-D));h=l.fitToRange(h,-1/0,0),k.lineTo(0,x-I),k.lineTo(0,f+D),k.lineTo(h,n),k.lineTo(0,Math.max(f-D,I))}k.lineTo(0,I),k.arcTo(0,0,I,0,I),k.closePath()}}}}Object.defineProperty(d,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(d,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.T.classNames.concat([d.className])})},815:function(F,N,a){"use strict";a.d(N,{x:function(){return x}});var p=a(6245),l=a(962),d=a(4244),_=a(751),w=a(7652);class x extends l._{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(d.f.new(this._root,{}))}baseRadius(){const h=this.getPrivate("radius",0),n=this.getPrivate("innerRadius",0),D=this.get("baseRadius",0);return n+w.relativeToValue(D,h-n)}radius(){const h=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(h?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const h=this.get("textType","adjusted"),n=this.get("inside",!1),D=this.get("orientation");let P=_.normalizeAngle(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",n);const E=_.sin(P),m=_.cos(P);let C=this.baseRadius(),A=this.radius();if(this._display.angle=0,"circular"==h)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",D),this._text.set("radius",A);else{0==C&&(P=0,A=0);let k=A*m,f=A*E;"radial"==h?(this.setRaw("x",k),this.setRaw("y",f),P<90||P>270||"auto"!=D?(this._display.angle=P,this._flipped=!1):(this._display.angle=P+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==h?(this.setRaw("centerX",p.CI),this.setRaw("centerY",p.CI),this.setRaw("x",k),this.setRaw("y",f)):"regular"==h&&(this.setRaw("x",k),this.setRaw("y",f))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const h=this.get("textType","regular"),n=this.get("inside",!1);let D=0,P=0,E=this.get("labelAngle",0),m=this.localBounds(),C=m.right-m.left,A=m.bottom-m.top;if("radial"==h){if(this._flipped){let k=this.get("centerX");k instanceof p.gG&&(C*=1-2*k.value),D=C*_.cos(E),P=C*_.sin(E)}}else n||"adjusted"!=h||(D=C/2*_.cos(E),P=A/2*_.sin(E));this.setRaw("dx",D),this.setRaw("dy",P),super._updatePosition()}get text(){return this._text}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l._.classNames.concat([x.className])})},4244:function(F,N,a){"use strict";a.d(N,{f:function(){return d}});var p=a(2036),l=a(751);class d extends p.x{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*l.RADIANS,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(d,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(d,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.x.classNames.concat([d.className])})},7142:function(F,N,a){"use strict";a.d(N,{A:function(){return l}});var p=a(1479);class l extends p.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.T.classNames.concat([l.className])})},3497:function(F,N,a){"use strict";a.d(N,{c:function(){return w}});var p=a(5040),l=a(751),d=a(7652),_=a(7142);class w extends _.A{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let I=this.width(),h=this.height(),n=I,D=h,P=n/Math.abs(I),E=D/Math.abs(h);if(p.isNumber(n)&&p.isNumber(D)){let m=Math.min(n,D)/2,C=d.relativeToValue(this.get("cornerRadiusTL",8),m),A=d.relativeToValue(this.get("cornerRadiusTR",8),m),k=d.relativeToValue(this.get("cornerRadiusBR",8),m),f=d.relativeToValue(this.get("cornerRadiusBL",8),m),o=Math.min(Math.abs(n/2),Math.abs(D/2));C=l.fitToRange(C,0,o),A=l.fitToRange(A,0,o),k=l.fitToRange(k,0,o),f=l.fitToRange(f,0,o);const R=this._display;R.moveTo(C*P,0),R.lineTo(n-A*P,0),A>0&&R.arcTo(n,0,n,A*E,A),R.lineTo(n,D-k*E),k>0&&R.arcTo(n,D,n-k*P,D,k),R.lineTo(f*P,D),f>0&&R.arcTo(0,D,0,D-f*E,f),R.lineTo(0,C*E),C>0&&R.arcTo(0,0,C*P,0,C),R.closePath()}}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_.A.classNames.concat([w.className])})},6001:function(F,N,a){"use strict";a.d(N,{L:function(){return I}});var p=a(3497),l=a(8777),d=a(1479),_=a(8054),w=a(5040),x=a(7652);class I extends l.W{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=x.mergeTags(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=p.c.new(this._root,{themeTags:x.mergeTags(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(_.z.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:d.T.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(p.c.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(n){n&&this._disposers.push(n.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const n=this.startGrip,D=this.endGrip,P=this.thumb,E=this.get("background");E&&this._disposers.push(E.events.on("click",m=>{this.setPrivateRaw("isBusy",!0);const C=this._display.toLocal(m.point),A=this.width(),k=this.height(),f=this.get("orientation");let o,R,U;o="vertical"==f?(C.y-P.height()/2)/k:(C.x-P.width()/2)/A,"vertical"==f?(R=o*k,U="y"):(R=o*A,U="x");const X=this.get("animationDuration",0);X>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:U,to:R,duration:X,easing:this.get("animationEasing")}))):(this.thumb.set(U,R),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(P.events.on("dblclick",m=>{if(!x.isLocalEvent(m.originalEvent,this))return;const C=this.get("animationDuration",0),A=this.get("animationEasing");this.animate({key:"start",to:0,duration:C,easing:A}),this.animate({key:"end",to:1,duration:C,easing:A})})),this._disposers.push(n.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(D.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(P.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(n.events.on("globalpointerup",()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1})),this._disposers.push(D.events.on("globalpointerup",()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1})),this._disposers.push(P.events.on("globalpointerup",()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1})),this._disposers.push(n.on("x",()=>{this._updateThumb()})),this._disposers.push(D.on("x",()=>{this._updateThumb()})),this._disposers.push(n.on("y",()=>{this._updateThumb()})),this._disposers.push(D.on("y",()=>{this._updateThumb()})),this._disposers.push(P.events.on("positionchanged",()=>{this._updateGripsByThumb()})),"vertical"==this.get("orientation")?(n.set("x",0),D.set("x",0),this._disposers.push(P.adapters.add("y",m=>Math.max(Math.min(Number(m),this.height()-P.height()),0))),this._disposers.push(P.adapters.add("x",m=>this.width()/2)),this._disposers.push(n.adapters.add("x",m=>this.width()/2)),this._disposers.push(D.adapters.add("x",m=>this.width()/2)),this._disposers.push(n.adapters.add("y",m=>Math.max(Math.min(Number(m),this.height()),0))),this._disposers.push(D.adapters.add("y",m=>Math.max(Math.min(Number(m),this.height()),0)))):(n.set("y",0),D.set("y",0),this._disposers.push(P.adapters.add("x",m=>Math.max(Math.min(Number(m),this.width()-P.width()),0))),this._disposers.push(P.adapters.add("y",m=>this.height()/2)),this._disposers.push(n.adapters.add("y",m=>this.height()/2)),this._disposers.push(D.adapters.add("y",m=>this.height()/2)),this._disposers.push(n.adapters.add("x",m=>Math.max(Math.min(Number(m),this.width()),0))),this._disposers.push(D.adapters.add("x",m=>Math.max(Math.min(Number(m),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const n="rangechanged";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const n=this.startGrip,D=this.endGrip,P=this.get("orientation"),E=this.height(),m=this.width();"vertical"==P?(n.set("y",E*this.get("start",0)),D.set("y",E*this.get("end",1))):(n.set("x",m*this.get("start",0)),D.set("x",m*this.get("end",1)));const C=this.getPrivate("positionTextFunction"),A=Math.round(100*this.get("start",0)),k=Math.round(100*this.get("end",0));let f,o;C?(f=C.call(this,this.get("start",0)),o=C.call(this,this.get("end",0))):(f=A+"%",o=k+"%"),n.set("ariaLabel",this._t("From %1",void 0,f)),n.set("ariaValueNow",""+A),n.set("ariaValueText",A+"%"),n.set("ariaValueMin","0"),n.set("ariaValueMax","100"),D.set("ariaLabel",this._t("To %1",void 0,o)),D.set("ariaValueNow",""+k),D.set("ariaValueText",k+"%"),D.set("ariaValueMin","0"),D.set("ariaValueMax","100")}_updateThumb(){const n=this.thumb,D=this.startGrip,P=this.endGrip,E=this.height(),m=this.width();let C=D.x(),A=P.x(),k=D.y(),f=P.y(),o=0,R=1;"vertical"==this.get("orientation")?w.isNumber(k)&&w.isNumber(f)&&(this._thumbBusy||n.isDragging()||(n.set("height",f-k),n.set("y",k)),o=k/E,R=f/E):w.isNumber(C)&&w.isNumber(A)&&(this._thumbBusy||n.isDragging()||(n.set("width",A-C),n.set("x",C)),o=C/m,R=A/m),!this.getPrivate("isBusy")||this.get("start")==o&&this.get("end")==R||(this.set("start",o),this.set("end",R));const U=this.getPrivate("positionTextFunction"),X=Math.round(100*this.get("start",0)),tt=Math.round(100*this.get("end",0));let pt,ot;U?(pt=U.call(this,this.get("start",0)),ot=U.call(this,this.get("end",0))):(pt=X+"%",ot=tt+"%"),n.set("ariaLabel",this._t("From %1 to %2",void 0,pt,ot)),n.set("ariaValueNow",""+X),n.set("ariaValueText",X+"%")}_updateGripsByThumb(){const n=this.thumb,D=this.startGrip,P=this.endGrip;if("vertical"==this.get("orientation")){const E=n.height();D.set("y",n.y()),P.set("y",n.y()+E)}else{const E=n.width();D.set("x",n.x()),P.set("x",n.x()+E)}}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.W.classNames.concat([I.className])})},5829:function(F,N,a){"use strict";a.d(N,{j:function(){return x}});var p=a(1337),l=a(8777),d=a(7144),_=a(6245),w=a(5071);class x extends p.k{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:l.W.new(this._root,{width:_.AQ,height:_.AQ,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new d.dn})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const h=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(n=>{if("clear"===n.type){w.each(n.oldValues,P=>{this._removeSeries(P)});const D=this.get("colors");D&&D.reset()}else if("push"===n.type)h.moveValue(n.newValue),this._processSeries(n.newValue);else if("setIndex"===n.type)h.setIndex(n.index,n.newValue),this._processSeries(n.newValue);else if("insertIndex"===n.type)h.insertIndex(n.index,n.newValue),this._processSeries(n.newValue);else if("removeIndex"===n.type)this._removeSeries(n.oldValue);else{if("moveIndex"!==n.type)throw new Error("Unknown IListEvent type");h.moveValue(n.value,n.newIndex),this._processSeries(n.value)}}))}_processSeries(h){h.chart=this,h._placeBulletsContainer(this)}_removeSeries(h){h.isDisposed()||(this.seriesContainer.children.removeValue(h),h._removeBulletsContainer())}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.k.classNames.concat([x.className])})},3399:function(F,N,a){"use strict";a.d(N,{F:function(){return E}});var p=a(5125),l=a(9361),d=a(7144),_=a(1112),w=a(6490),x=a(6245),I=a(5071),h=a(5040),n=a(1926),D=a(8777),P=a(962);class E extends l.w{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new d.aV}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:D.W.new(this._root,{width:x.AQ,height:x.AQ,position:"absolute"})})}_afterNew(){this.valueFields.push("value"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(C=>{if("clear"===C.type)this._handleBullets(this.dataItems);else if("push"===C.type)this._handleBullets(this.dataItems);else if("setIndex"===C.type)this._handleBullets(this.dataItems);else if("insertIndex"===C.type)this._handleBullets(this.dataItems);else if("removeIndex"===C.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==C.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let C=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),C)}endIndex(){let C=this.dataItems.length;return Math.min(this.getPrivate("endIndex",C),C)}_handleBullets(C){I.each(C,A=>{const k=A.bullets;k&&(I.each(k,f=>{f.dispose()}),A.bullets=void 0)}),this.markDirtyValues()}getDataItemById(C){return I.find(this.dataItems,A=>A.get("id")==C)}_makeBullets(C){this._shouldMakeBullet(C)&&(C.bullets=[],this.bullets.each(A=>{this._makeBullet(C,A)}))}_shouldMakeBullet(C){return!0}_makeBullet(C,A,k){const f=A(this._root,this,C);if(f){let o=f.get("sprite");o&&(o._setDataItem(C),o.setRaw("position","absolute"),this.bulletsContainer.children.push(o)),f._index=k,f.series=this,C.bullets.push(f)}return f}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let C=this.startIndex(),A=this.endIndex();if(this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const k=this.getPrivate("baseValueSeries");k&&this._disposers.push(k.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0)),this._psi==C&&this._pei==A||this._selectionAggregatesCalculated||(0===C&&A===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(C,A),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let k=this.get("tooltip");k&&(k.hide(0),k.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let k;const f=this.get("legendDataItem");if(f&&(k=f.get("markerRectangle"),k&&this.isVisible())){if(this.isDirty("stroke")){let o=this.get("stroke");k.set("stroke",o)}if(this.isDirty("fill")){let o=this.get("fill");k.set("fill",o)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let k=this.startIndex(),f=this.endIndex();f<this.dataItems.length&&f++;for(let o=k;o<f;o++){let R=this.dataItems[o];R.bullets||this._makeBullets(R)}}}_calculateAggregates(C,A){let k=this._valueFields;if(!k)throw new Error("No value fields are set for the series.");const f={},o={},R={},U={},X={},tt={},pt={},ot={},W={};I.each(k,K=>{f[K]=0,o[K]=0,R[K]=0}),I.each(k,K=>{let gt=K+"Change",yt=K+"ChangePercent",_t=K+"ChangePrevious",rt=K+"ChangePreviousPercent",ut=K+"ChangeSelection",at=K+"ChangeSelectionPercent",Ct="valueY";"valueX"!=K&&"openValueX"!=K&&"lowValueX"!=K&&"highValueX"!=K||(Ct="valueX");const vt=this.getPrivate("baseValueSeries");for(let ct=C;ct<A;ct++){const Tt=this.dataItems[ct];let kt=Tt.get(K);null!=kt&&(R[K]++,f[K]+=kt,o[K]+=Math.abs(kt),ot[K]=f[K]/R[K],(U[K]>kt||null==U[K])&&(U[K]=kt),(X[K]<kt||null==X[K])&&(X[K]=kt),pt[K]=kt,null==tt[K]&&(tt[K]=kt,W[K]=kt,vt&&(tt[Ct]=vt._getBase(Ct))),0===C&&(Tt.setRaw(gt,kt-tt[Ct]),Tt.setRaw(yt,(kt-tt[Ct])/tt[Ct]*100)),Tt.setRaw(_t,kt-W[Ct]),Tt.setRaw(rt,(kt-W[Ct])/W[Ct]*100),Tt.setRaw(ut,kt-tt[Ct]),Tt.setRaw(at,(kt-tt[Ct])/tt[Ct]*100),W[K]=kt)}}),I.each(k,K=>{this.setPrivate(K+"AverageSelection",ot[K]),this.setPrivate(K+"CountSelection",R[K]),this.setPrivate(K+"SumSelection",f[K]),this.setPrivate(K+"AbsoluteSumSelection",o[K]),this.setPrivate(K+"LowSelection",U[K]),this.setPrivate(K+"HighSelection",X[K]),this.setPrivate(K+"OpenSelection",tt[K]),this.setPrivate(K+"CloseSelection",pt[K])}),0===C&&A===this.dataItems.length&&I.each(k,K=>{this.setPrivate(K+"Average",ot[K]),this.setPrivate(K+"Count",R[K]),this.setPrivate(K+"Sum",f[K]),this.setPrivate(K+"AbsoluteSum",o[K]),this.setPrivate(K+"Low",U[K]),this.setPrivate(K+"High",X[K]),this.setPrivate(K+"Open",tt[K]),this.setPrivate(K+"Close",pt[K])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const C=this.get("heatRules");if(this._valuesDirty&&C&&C.length>0&&I.each(C,A=>{const k=A.minValue||this.getPrivate(A.dataField+"Low")||0,f=A.maxValue||this.getPrivate(A.dataField+"High")||0;I.each(A.target._entities,o=>{const R=o.dataItem.get(A.dataField);if(!h.isNumber(R))return void(A.neutral&&o.set(A.key,A.neutral));let U,X;U=A.logarithmic?(Math.log(R)*Math.LOG10E-Math.log(k)*Math.LOG10E)/(Math.log(f)*Math.LOG10E-Math.log(k)*Math.LOG10E):(R-k)/(f-k),!h.isNumber(R)||h.isNumber(U)&&Math.abs(U)!=1/0||(U=.5),h.isNumber(A.min)?X=A.min+(A.max-A.min)*U:A.min instanceof _.Il?X=_.Il.interpolate(U,A.min,A.max):A.min instanceof x.gG&&(X=(0,w.Wn)(U,A.min,A.max)),A.customFunction?A.customFunction.call(this,o,k,f,R):o.set(A.key,X)})}),this.bullets.length>0){let A=this.dataItems.length,k=this.startIndex(),f=this.endIndex();f<A&&f++,k>0&&k--;for(let o=0;o<k;o++)this._hideBullets(this.dataItems[o]);for(let o=k;o<f;o++)this._positionBullets(this.dataItems[o]);for(let o=f;o<A;o++)this._hideBullets(this.dataItems[o])}}_positionBullets(C){C.bullets&&I.each(C.bullets,A=>{this._positionBullet(A);const k=A.get("sprite");A.get("dynamic")&&(k&&(k._markDirtyKey("fill"),k.markDirtySize()),k instanceof D.W&&k.walkChildren(f=>{f._markDirtyKey("fill"),f.markDirtySize(),f instanceof P._&&f.text.markDirtyText()})),k instanceof P._&&k.get("populateText")&&k.text.markDirtyText()})}_hideBullets(C){C.bullets&&I.each(C.bullets,A=>{let k=A.get("sprite");k&&k.setPrivate("visible",!1)})}_positionBullet(C){}_placeBulletsContainer(C){C.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const C=this.bulletsContainer;C.parent&&C.parent.children.removeValue(C)}disposeDataItem(C){const A=C.bullets;A&&I.each(A,k=>{k.dispose()})}_getItemReaderLabel(){return""}showDataItem(C,A){const k=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,p.mG)(this,void 0,void 0,function*(){const f=[k.showDataItem.call(this,C,A)],o=C.bullets;o&&I.each(o,R=>{f.push(R.get("sprite").show(A))}),yield Promise.all(f)})}hideDataItem(C,A){const k=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,p.mG)(this,void 0,void 0,function*(){const f=[k.hideDataItem.call(this,C,A)],o=C.bullets;o&&I.each(o,R=>{f.push(R.get("sprite").hide(A))}),yield Promise.all(f)})}_sequencedShowHide(C,A){return(0,p.mG)(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(h.isNumber(A)||(A=this.get("interpolationDuration",0)),A>0){const k=this.startIndex(),f=this.endIndex();yield Promise.all(I.map(this.dataItems,(o,R)=>(0,p.mG)(this,void 0,void 0,function*(){let U=A||0;(R<k-10||R>f+10)&&(U=0);let X=this.get("sequencedDelay",0)+U/(f-k);yield n.sleep(X*(R-k)),C?yield this.showDataItem(o,U):yield this.hideDataItem(o,U)})))}else yield Promise.all(I.map(this.dataItems,k=>C?this.showDataItem(k,0):this.hideDataItem(k,0)))})}updateLegendValue(C){if(C){const A=C.get("legendDataItem");if(A){const k=A.get("valueLabel");if(k){const o=k.text;let R="";k._setDataItem(C),R=this.get("legendValueText",o.get("text","")),k.set("text",R),o.markDirtyText()}const f=A.get("label");if(f){const o=f.text;let R="";f._setDataItem(C),R=this.get("legendLabelText",o.get("text","")),f.set("text",R),o.markDirtyText()}}}}updateLegendMarker(C){}_onHide(){super._onHide();const C=this.getTooltip();C&&C.hide()}hoverDataItem(C){}unhoverDataItem(C){}_getBase(C){const A=this.dataItems[this.startIndex()];return A?A.get(C):0}}Object.defineProperty(E,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(E,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.w.classNames.concat([E.className])})},5863:function(F,N,a){"use strict";a.d(N,{p:function(){return x}});var p=a(1479),l=a(5040),d=a(6245),_=a(832),w=a(751);class x extends p.T{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:(0,_.Z)()})}_getTooltipPoint(){let h=this.get("tooltipX"),n=this.get("tooltipY"),D=0,P=0;l.isNumber(h)&&(D=h),l.isNumber(n)&&(P=n);let E=this.get("radius",0),m=this.get("innerRadius",0);return E+=this.get("dRadius",0),m+=this.get("dInnerRadius",0),m<0&&(m=E+m),h instanceof d.gG&&(D=this.ix*(m+(E-m)*h.value)),n instanceof d.gG&&(P=this.iy*(m+(E-m)*n.value)),this.get("arc")>=360&&0==m&&(D=0,P=0),{x:D,y:P}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let h=this.get("startAngle",0),n=this.get("arc",0);const D=this._generator;n<0&&(h+=n,n*=-1),n>.1&&D.cornerRadius(this.get("cornerRadius",0)),D.context(this._display);let P=this.get("radius",0),E=this.get("innerRadius",0),m=this.get("dRadius",0),C=this.get("dInnerRadius",0);P+=m,E+=C,E<0&&(E=P+E),D({innerRadius:E,outerRadius:P,startAngle:(h+90)*w.RADIANS,endAngle:(h+n+90)*w.RADIANS});let A=h+n/2;this.ix=w.cos(A),this.iy=w.sin(A)}if(this.isDirty("shiftRadius")){const h=this.get("shiftRadius",0);this.setRaw("dx",this.ix*h),this.setRaw("dy",this.iy*h),this.markDirtyPosition()}}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.T.classNames.concat([x.className])})},4596:function(F,N,a){"use strict";a.d(N,{j:function(){return C}});var p=a(5125),l=a(6331),d=a(5769),_=a(6245),w=a(9770),x=a(7449),I=a(6490),h=a(7652),n=a(5071),D=a(5040),P=a(256),E=a(751);class m extends w.p{constructor(k){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=k}_makePointerEvent(k,f){return{type:k,originalEvent:f.event,point:f.point,simulated:f.simulated,native:f.native,target:this._sprite}}_onRenderer(k,f){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let o=this._rendererDisposers[k];if(void 0===o){const R=this._sprite._display.on(k,U=>{f.call(this,U)});o=this._rendererDisposers[k]=new x.DM(()=>{delete this._rendererDisposers[k],R.dispose()})}return o.increment()}_on(k,f,o,R,U,X){const tt=super._on(k,f,o,R,U,X),pt=m.RENDERER_EVENTS[f];return void 0!==pt&&(tt.disposer=new x.FV([tt.disposer,this._onRenderer(f,pt)])),tt}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(k,f){const o=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(k,f),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(k,f)}finally{this._dispatchParents=o}}}Object.defineProperty(m,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(A){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",A))&&this.dispatch("click",this._makePointerEvent("click",A))},rightclick:function(A){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",A))},middleclick:function(A){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",A))},dblclick:function(A){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",A))},pointerover:function(A){this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",A))},pointerout:function(A){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",A))},pointerdown:function(A){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",A))},pointerup:function(A){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",A))},globalpointerup:function(A){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",A))},globalpointermove:function(A){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",A))},wheel:function(A){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:A.event,point:A.point})}}});class C extends l.JH{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}_markDirtyKey(k){super._markDirtyKey(k),"x"!=k&&"y"!=k&&"dx"!=k&&"dy"!=k||(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(k){super._markDirtyPrivateKey(k),"x"!=k&&"y"!=k||this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new m(this)}_processTemplateField(){let k;const f=this.get("templateField");if(f){const o=this.dataItem;if(o){const R=o.dataContext;R&&(k=R[f],k instanceof d.YS||!k||(k=d.YS.new(k)))}}this._templateField!==k&&(this._removeTemplateField(),this._templateField=k,k&&k._setObjectTemplate(this),this._applyTemplates())}_setDataItem(k){const f=this._dataItem;this._dataItem=k,this._processTemplateField();const o="dataitemchanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,oldDataItem:f,newDataItem:k})}set dataItem(k){this._setDataItem(k)}get dataItem(){if(this._dataItem)return this._dataItem;{let k=this._parent;for(;k;){if(k._dataItem)return k._dataItem;k=k._parent}}}_addPercentageSizeChildren(){let k=this.parent;k&&(this.get("width")instanceof _.gG||this.get("height")instanceof _.gG?n.pushOne(k._percentageSizeChildren,this):n.removeFirst(k._percentageSizeChildren,this))}_addPercentagePositionChildren(){let k=this.parent;k&&(this.get("x")instanceof _.gG||this.get("y")instanceof _.gG?n.pushOne(k._percentagePositionChildren,this):n.removeFirst(k._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const k=this._localBounds;if(k){const f=this.get("centerX");null!=f&&(this._display.pivot.x=k.left+h.relativeToValue(f,k.right-k.left));const o=this.get("centerY");null!=o&&(this._display.pivot.y=k.top+h.relativeToValue(o,k.bottom-k.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const k=this._prevSettings.tooltip;k&&k.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const k=this._tooltipMoveDp;k&&(k.dispose(),this._tooltipMoveDp=void 0);const f=this._tooltipPointerDp;f&&(f.dispose(),this._tooltipPointerDp=void 0),"pointer"==this.get("tooltipPosition")&&(this._tooltipPointerDp=new x.FV([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",o=>{this.showTooltip(o.point)})}),this.events.on("pointerout",()=>{const o=this._tooltipMoveDp;o&&(o.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const k=this._display,f=this.events;if(this.isDirty("draggable")){const o=this.get("draggable");o?(this.set("interactive",!0),this._dragDp=new x.FV([f.on("pointerdown",R=>{this.dragStart(R)}),f.on("globalpointermove",R=>{this.dragMove(R)}),f.on("globalpointerup",R=>{this.dragStop(R)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),k.cancelTouch=!!o}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const o=this.get("tooltipText"),R=this.get("tooltipHTML"),U=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(o||R)&&("click"==U?this._tooltipDp=new x.FV([f.on("click",()=>{this.setTimeout(()=>this.showTooltip(),10)}),h.addEventListener(document,"click",X=>{this.hideTooltip()})]):"always"==U||(this._tooltipDp=new x.FV([f.on("pointerover",()=>{this.showTooltip()}),f.on("pointerout",()=>{this.hideTooltip()})])))}if(this.isDirty("toggleKey")){let o=this.get("toggleKey");o&&"none"!=o?this._toggleDp=f.on("click",()=>{this._isDragging||this.set(o,!this.get(o))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(k.alpha=Math.max(0,this.get("opacity",1))),this.isDirty("rotation")&&(this.markDirtyBounds(),k.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),k.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?k.visible=!0:(k.visible=!1,this.hideTooltip()),this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const o=this.parent;o&&(this.isDirty("width")&&this.get("width")instanceof _.gG||this.isDirty("height")&&this.get("height")instanceof _.gG)&&(o.markDirty(),o._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const o=this.get("wheelable");o&&this.set("interactive",!0),k.wheelable=!!o}if((this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(k.filter=this.get("filter")),this.isDirty("cursorOverStyle")&&(k.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new x.FV([f.on("focus",()=>{this.showTooltip()}),f.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(k.exportable=this.get("exportable")),this.isDirty("interactive")){const o=this.events;this.get("interactive")?this._hoverDp=new x.FV([o.on("click",R=>{h.isTouchEvent(R.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:R.target,originalEvent:R.originalEvent,point:R.point,simulated:R.simulated})},10))}),o.on("globalpointerup",R=>{h.isTouchEvent(R.originalEvent)&&(this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip()),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:R.target,originalEvent:R.originalEvent,point:R.point,simulated:R.simulated})),this._isDown&&this._handleUp(R)}),o.on("pointerover",()=>{this._handleOver()}),o.on("pointerout",()=>{this._handleOut()}),o.on("pointerdown",R=>{this._handleDown(R)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",!1)),"always"==this.get("showTooltipOn")&&this._display.visible&&this.showTooltip()}dragStart(k){this._dragEvent=k,this.events.stopParentDispatch()}dragStop(k){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const f="dragstop";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this,originalEvent:k.originalEvent,point:k.point,simulated:k.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"))}_handleUp(k){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const f=h.getPointerId(k.originalEvent);delete this._downPoints[f],0==P.keys(this._downPoints).length&&(this._isDown=!1)}}_hasMoved(k){const f=h.getPointerId(k.originalEvent),o=this._downPoints[f];if(o){const R=Math.abs(o.x-k.point.x),U=Math.abs(o.y-k.point.y);return R>5||U>5}return!1}_hasDown(){return P.keys(this._downPoints).length>0}_handleDown(k){const f=this.parent;if(f&&!this.get("draggable")&&f._handleDown(k),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:k.point.x,y:k.point.y},this._isDown=!0;const o=h.getPointerId(k.originalEvent);this._downPoints[o]={x:k.point.x,y:k.point.y}}}dragMove(k){let f=this._dragEvent;if(f){if(f.simulated&&!k.simulated)return!0;let o=0,R=this.parent;for(;null!=R;)o+=R.get("rotation",0),R=R.parent;let U=k.point.x-f.point.x,X=k.point.y-f.point.y;const tt=this.events;if(f.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=k,this._dragPoint={x:this.x(),y:this.y()};const pt="dragstart";tt.isEnabled(pt)&&tt.dispatch(pt,{type:pt,target:this,originalEvent:k.originalEvent,point:k.point,simulated:k.simulated})}if(this._isDragging){let pt=this._dragPoint;this.set("x",pt.x+U*E.cos(o)+X*E.sin(o)),this.set("y",pt.y+X*E.cos(o)-U*E.sin(o));const ot="dragged";tt.isEnabled(ot)&&tt.dispatch(ot,{type:ot,target:this,originalEvent:k.originalEvent,point:k.point,simulated:k.simulated})}else if(Math.hypot(U,X)>5){this._isDragging=!0,this._dragEvent=k,this._dragPoint={x:this.x(),y:this.y()};const pt="dragstart";tt.isEnabled(pt)&&tt.dispatch(pt,{type:pt,target:this,originalEvent:k.originalEvent,point:k.point,simulated:k.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let k=this.parent,f=0;for(;;){if(!k)return f;++f,k=k.parent}}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const k=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),k.isMeasured=!0,k.invalidateBounds();const f=this.parent;f&&"absolute"!=this.get("position")&&(null==f.get("width")||null==f.get("height")||f.get("layout"))&&f.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const k=this._adjustedLocalBounds;let f;if(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),f=this._adjustedLocalBounds):(f={left:0,right:0,top:0,bottom:0},this._localBounds=f,this._adjustedLocalBounds=f),!k||k.left!==f.left||k.top!==f.top||k.right!==f.right||k.bottom!==f.bottom){const o="boundschanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}_fixMinBounds(k){let f=this.get("minWidth",this.getPrivate("minWidth")),o=this.get("minHeight",this.getPrivate("minHeight"));D.isNumber(f)&&k.right-k.left<f&&(k.right=k.left+f),D.isNumber(o)&&k.bottom-k.top<o&&(k.bottom=k.top+o);let R=this.getPrivate("width"),U=this.getPrivate("height");D.isNumber(R)&&(k.right=k.left+R),D.isNumber(U)&&(k.bottom=k.top+U)}_removeParent(k){k&&(k.children.removeValue(this),n.removeFirst(k._percentageSizeChildren,this),n.removeFirst(k._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.showTooltip(),this._handleOver()}unhover(){this.hideTooltip(),this._handleOut()}showTooltip(k){const f=this.getTooltip(),o=this.get("tooltipText"),R=this.get("tooltipHTML");if((o||R)&&f){const U=this.get("tooltipPosition"),X=this.getPrivate("tooltipTarget",this);"fixed"!=U&&k||(this._display._setMatrix(),k=this.toGlobal(X._getTooltipPoint())),f.set("pointTo",k),f.set("tooltipTarget",X),f.get("x")||f.set("x",k.x),f.get("y")||f.set("y",k.y),o&&f.label.set("text",o),R&&f.label.set("html",R);const tt=this.dataItem;if(tt&&f.label._setDataItem(tt),"always"==this.get("showTooltipOn")&&(k.x<0||k.x>this._root.width()||k.y<0||k.y>this._root.height()))return void this.hideTooltip();f.label.text.markDirtyText();const pt=f.show();return this.setPrivateRaw("showingTooltip",!0),pt}}hideTooltip(){const k=this.getTooltip();if(k&&k.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)){let f=k.get("keepTargetHover")&&0==k.get("stateAnimationDuration",0)?400:void 0;const o=k.hide(f);return this.setPrivateRaw("showingTooltip",!1),o}}_getTooltipPoint(){const k=this._localBounds;if(k){let f=0,o=0;return this.get("isMeasured")?(f=k.left+h.relativeToValue(this.get("tooltipX",0),k.right-k.left),o=k.top+h.relativeToValue(this.get("tooltipY",0),k.bottom-k.top)):(f=h.relativeToValue(this.get("tooltipX",0),this.width()),o=h.relativeToValue(this.get("tooltipY",0),this.height())),{x:f,y:o}}return{x:0,y:0}}getTooltip(){let k=this.get("tooltip");if(k)return k;{let f=this.parent;if(f)return f.getTooltip()}}_updatePosition(){const k=this.parent;let f=this.get("dx",0),o=this.get("dy",0),R=this.get("x"),U=this.getPrivate("x"),X=0,tt=0;const pt=this.get("position");R instanceof _.gG&&(R=k?k.innerWidth()*R.value+k.get("paddingLeft",0):0),D.isNumber(R)?X=R+f:null!=U?X=U:k&&"relative"==pt&&(X=k.get("paddingLeft",0)+f);let ot=this.get("y"),W=this.getPrivate("y");ot instanceof _.gG&&(ot=k?k.innerHeight()*ot.value+k.get("paddingTop",0):0),D.isNumber(ot)?tt=ot+o:null!=W?tt=W:k&&"relative"==pt&&(tt=k.get("paddingTop",0)+o);const K=this._display;if(K.x!=X||K.y!=tt){K.invalidateBounds(),K.x=X,K.y=tt;const gt="positionchanged";this.events.isEnabled(gt)&&this.events.dispatch(gt,{type:gt,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let k=this.get("x"),f=this.getPrivate("x");const o=this.parent;return o?k instanceof _.gG?h.relativeToValue(k,o.innerWidth())+o.get("paddingLeft",0):D.isNumber(k)?k:f??o.get("paddingLeft",this._display.x):this._display.x}y(){let k=this.getPrivate("y");if(null!=k)return k;let f=this.get("y");const o=this.parent;return o?f instanceof _.gG?h.relativeToValue(f,o.innerHeight())+o.get("paddingTop",0):D.isNumber(f)?f:k??o.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const k=this.get("tooltip");k&&k.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const k=this._adjustedLocalBounds,f=this.x(),o=this.y();return{left:k.left+f,right:k.right+f,top:k.top+o,bottom:k.bottom+o}}globalBounds(){const k=this.localBounds(),f=this.toGlobal({x:k.left,y:k.top}),o=this.toGlobal({x:k.right,y:k.top}),R=this.toGlobal({x:k.right,y:k.bottom}),U=this.toGlobal({x:k.left,y:k.bottom});return{left:Math.min(f.x,o.x,R.x,U.x),top:Math.min(f.y,o.y,R.y,U.y),right:Math.max(f.x,o.x,R.x,U.x),bottom:Math.max(f.y,o.y,R.y,U.y)}}_onShow(k){}_onHide(k){}appear(k,f){return(0,p.mG)(this,void 0,void 0,function*(){return yield this.hide(0),f?new Promise((o,R)=>{this.setTimeout(()=>{o(this.show(k))},f)}):this.show(k)})}show(k){return(0,p.mG)(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(k);const f=this.states.applyAnimate("default",k);yield(0,I.ne)(f),this._isShowing=!1}})}hide(k){return(0,p.mG)(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let f=this.states.lookup("hidden");f||(f=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(k);const o=this.states.applyAnimate("hidden",k);yield(0,I.ne)(o),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const k=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*k:k}width(){let k=this.get("width"),f=this.get("maxWidth",this.getPrivate("maxWidth")),o=this.get("minWidth",this.getPrivate("minWidth")),R=this.getPrivate("width"),U=0;if(D.isNumber(R))U=R;else if(null==k)this._adjustedLocalBounds&&(U=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(k instanceof _.gG){const X=this.parent;U=X?X.innerWidth()*k.value:this._root.width()*k.value}else D.isNumber(k)&&(U=k);return D.isNumber(o)&&(U=Math.max(o,U)),D.isNumber(f)&&(U=Math.min(f,U)),U}maxWidth(){let k=this.get("maxWidth",this.getPrivate("maxWidth"));if(D.isNumber(k))return k;{let o=this.get("width");if(D.isNumber(o))return o}const f=this.parent;return f?f.innerWidth():this._root.width()}maxHeight(){let k=this.get("maxHeight",this.getPrivate("maxHeight"));if(D.isNumber(k))return k;{let o=this.get("height");if(D.isNumber(o))return o}const f=this.parent;return f?f.innerHeight():this._root.height()}height(){let k=this.get("height"),f=this.get("maxHeight",this.getPrivate("maxHeight")),o=this.get("minHeight",this.getPrivate("minHeight")),R=this.getPrivate("height"),U=0;if(D.isNumber(R))U=R;else if(null==k)this._adjustedLocalBounds&&(U=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(k instanceof _.gG){const X=this.parent;U=X?X.innerHeight()*k.value:this._root.height()*k.value}else D.isNumber(k)&&(U=k);return D.isNumber(o)&&(U=Math.max(o,U)),D.isNumber(f)&&(U=Math.min(f,U)),U}_findStaticTemplate(k){return this._templateField&&k(this._templateField)?this._templateField:super._findStaticTemplate(k)}_walkParents(k){this._parent&&this._walkParent(k)}_walkParent(k){this._parent&&this._parent._walkParent(k),k(this)}get parent(){return this._parent}_setParent(k,f=!1){const o=this._parent;k!==o&&(this.markDirtyBounds(),k.markDirty(),this._parent=k,f&&(this._removeParent(o),k&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(k){return this._display.toGlobal(k)}toLocal(k){return this._display.toLocal(k)}_getDownPoint(){const k=this._getDownPointId();if(k)return this._downPoints[k]}_getDownPointId(){if(this._downPoints)return P.keysOrdered(this._downPoints,(k,f)=>k>f?1:k<f?-1:0)[0]}toFront(){const k=this.parent;k&&k.children.moveValue(this,k.children.length-1)}toBack(){const k=this.parent;k&&k.children.moveValue(this,0)}}Object.defineProperty(C,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(C,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.JH.classNames.concat([C.className])})},1195:function(F,N,a){"use strict";a.d(N,{b:function(){return I}});var p=a(8777),l=a(6245),d=a(3497),_=a(7142),w=a(1112),x=a(751);class I extends p.W{constructor(){super(...arguments),Object.defineProperty(this,"rectangle",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(_.A.new(this._root,{themeTags:["rectangle"],fillOpacity:0,fill:(0,w.$_)(16777215)}))}),Object.defineProperty(this,"gripL",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("left")}),Object.defineProperty(this,"gripR",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("right")}),Object.defineProperty(this,"gripT",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("top")}),Object.defineProperty(this,"gripB",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("bottom")}),Object.defineProperty(this,"_is",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_iw",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_positionDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHover",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this.addTag("resizer"),this.set("visible",!1),this.gripL.events.on("dragged",n=>{this._resize(n.target,-1)}),this.gripR.events.on("dragged",n=>{this._resize(n.target,1)}),this.gripL.events.on("dragstart",n=>{this._resizeStart(n.target)}),this.gripR.events.on("dragstart",n=>{this._resizeStart(n.target)}),this.gripT.events.on("dragged",n=>{this._rotate(n,90)}),this.gripB.events.on("dragged",n=>{this._rotate(n,-90)}),this.gripT.events.on("dragstart",n=>{this._resizeStart(n.target)}),this.gripB.events.on("dragstart",n=>{this._resizeStart(n.target)})}_resizeStart(n){const D=this.get("sprite");D&&(this._is=D.get("scale",1),this._ix=n.x(),this._iw=this.width()/2)}_resize(n,D){const P=this.get("sprite"),E=this.get("spriteTemplate");if(P){const m=Math.max(.01,this._is*(1+D*(n.x()-this._ix)/this._iw));E?E.set("scale",m):P.set("scale",m),P.states.lookup("default").set("scale",m),this._updatePositions()}}_rotate(n,D){const P=this.get("sprite"),E=this.get("spriteTemplate");if(P){const m=this.parent;if(m){const C=this.get("rotationStep",10);let A=Math.round((x.getAngle({x:this.x(),y:this.y()},m.toLocal(n.point))+D)/C)*C;E?E.set("rotation",A):P.set("rotation",A),P.states.lookup("default").set("rotation",A),this._updatePositions()}}}_createGrip(n){const D=this.children.push(p.W.new(this._root,{themeTags:["grip",n],setStateOnChildren:!0,draggable:!0}));return D.children.push(d.c.new(this._root,{themeTags:["outline"],centerX:l.CI,centerY:l.CI})),D.children.push(d.c.new(this._root,{centerX:l.CI,centerY:l.CI})),D}_updateChildren(){if(super._updateChildren(),this.isDirty("sprite")){const n=this.get("sprite");if(n){this.show(0),this.setPrivate("visible",!0),this._updatePositions();const D=n.parent;D&&D.children.moveValue(this,0),this._positionDP=n.events.on("positionchanged",()=>{this._updatePositions()})}else this.hide(0),this.setPrivate("visible",!1),this._positionDP&&this._positionDP.dispose()}(this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation"))&&this._updatePositions()}_updatePositions(){const n=this.get("sprite");if(n){let D=n.localBounds(),P=n.get("scale",1),E=20,m=(D.right-D.left)*P+E,C=(D.bottom-D.top)*P+E,A=n.get("rotation",0);const k=this.rectangle;let f=n.get("centerX",l.CI),o=n.get("centerY",l.CI),R=0;f instanceof l.gG&&(R=f.value);let U=0;o instanceof l.gG&&(U=o.value),k.setAll({centerX:f,centerY:o,width:m,height:C}),this.setAll({x:n.x()+E*(R-.5)*x.cos(A)-E*(U-.5)*x.sin(A),y:n.y()+E*(U-.5)*x.cos(A)+E*(R-.5)*x.sin(A),width:m,height:C,rotation:A}),this.gripT.setAll({x:(.5-R)*m,y:-U*C}),this.gripB.setAll({x:(.5-R)*m,y:(1-U)*C}),this.gripL.setAll({x:-R*m,y:(.5-U)*C}),this.gripR.setAll({x:(1-R)*m,y:(.5-U)*C}),this.rectangle.setAll({width:m,height:C})}}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SpriteResizer"}),Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.W.classNames.concat([I.className])})},2036:function(F,N,a){"use strict";a.d(N,{x:function(){return w}});var p=a(4596),l=a(2132),d=a(5071),_=a(7449);class w extends p.j{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){this.get("text")?super._updateBounds():this._adjustedLocalBounds={left:0,right:0,top:0,bottom:0}}_changed(){super._changed(),this._display.clear();let I=this.textStyle;if(this.isDirty("opacity")){let h=this.get("opacity",1);this._display.alpha=h}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),"tooltip"==this.get("role")&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new _.ku(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(I.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(I.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(I.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(I.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(I.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(I.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){let h=this.get("fill");h&&(I.fill=h)}if(this.isDirty("fillOpacity")){let h=this.get("fillOpacity",1);h&&(I.fillOpacity=h)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(I.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(I.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),d.each(this._textStyles,h=>{this._dirty[h]&&(I[h]=this.get(h),this.markDirtyBounds())}),I.fontSize=this.get("fontSize"),I.fontFamily=this.get("fontFamily"),this._display.style=I,this.isDirty("role")&&"tooltip"==this.get("role")&&this._root.updateTooltip(this)}_getText(){const I=this.get("text","");return this.get("populateText")?(0,l.q)(this,I):I}markDirtyText(){this._display.text=this._getText(),"tooltip"==this.get("role")&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(I){super._setDataItem(I),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.j.classNames.concat([w.className])})},2438:function(F,N,a){"use strict";a.d(N,{d:function(){return l}});var p=a(2077);class l extends p.x{}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.x.classNames.concat([l.className])})},2876:function(F,N,a){"use strict";a.d(N,{u:function(){return D}});var p=a(7449),l=a(962),d=a(8931),_=a(8777),w=a(6245),x=a(1112),I=a(751),h=a(5071),n=a(7652);class D extends _.W{constructor(E,m,C,A=[]){super(E,m,C,A),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=n.mergeTags(this._settings.themeTags,["tooltip"]),super._afterNew(),this.set("background",d.i.new(this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(l._.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._root._tooltips.push(this)}get label(){return this._label}dispose(){super.dispose(),h.remove(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),null!=this.get("labelText")&&this.label.set("text",this.get("labelText")),null!=this.get("labelHTML")&&this.label.set("html",this.get("labelHTML"))}_changed(){if(super._changed(),this.isDirty("pointTo")&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const E=this.get("background");this._keepHoverDp=new p.FV([E.events.on("pointerover",m=>{let C=this.get("tooltipTarget");C&&(C.parent&&C.parent.getPrivate("tooltipTarget")==C&&(C=C.parent),C.hover())}),E.events.on("pointerout",m=>{let C=this.get("tooltipTarget");C&&(C.parent&&C.parent.getPrivate("tooltipTarget")==C&&(C=C.parent),C.unhover())})])}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let E=this.get("tooltipTarget");const m=this.get("background");let C,A;E&&m&&(C=E.get("fill"),A=E.get("stroke"),null==C&&(C=A),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=C&&m.set("fill",C),this._fillDp=E.on("fill",k=>{null!=k&&(m.set("fill",k),this._updateTextColor(k))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=C&&m.set("stroke",C),this._strokeDp=E.on("fill",k=>{null!=k&&m.set("stroke",k)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=C&&this.label.set("fill",C),this._labelDp=E.on("fill",k=>{null!=k&&this.label.set("fill",k)}),this._disposers.push(this._labelDp))),this._updateTextColor(C)}_updateTextColor(E){this.get("autoTextColor")&&(null==E&&(E=this.get("background").get("fill")),null==E&&(E=this._root.interfaceColors.get("background")),E instanceof x.Il&&this.label.set("fill",x.Il.alternative(E,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(E){super._setDataItem(E),this.label._setDataItem(E)}_updateBackground(){super.updateBackground();const E=this._root.container;if(E){let m=.5,C=.5,A=this.get("centerX");A instanceof w.gG&&(m=A.value);let k=this.get("centerY");k instanceof w.gG&&(C=k.value);let f=E.width(),o=E.height(),R=this.parent,U=0,X=0;if(R){U=R.x(),X=R.y();const Ft=R.get("layerMargin");Ft&&(U+=Ft.left||0,X+=Ft.top||0,f+=(Ft.left||0)+(Ft.right||0),o+=(Ft.top||0)+(Ft.bottom||0))}const tt=this.get("bounds",{left:-U,top:-X,right:f-U,bottom:o-X});this._updateBounds();let pt=this.width(),ot=this.height();0===pt&&(pt=this._w),0===ot&&(ot=this._h);let W=this.get("pointTo",{x:f/2,y:o/2}),K=W.x,gt=W.y,yt=this.get("pointerOrientation"),_t=this.get("background"),rt=0,ut=0,at=0;_t instanceof d.i&&(rt=_t.get("pointerLength",0),ut=_t.get("strokeWidth",0)/2,at=ut);let Ct=0,vt=0,ct=tt.right-tt.left,Tt=tt.bottom-tt.top;"horizontal"==yt||"left"==yt||"right"==yt?(ut=0,"horizontal"==yt?K>tt.left+ct/2?(K-=pt*(1-m)+rt,at*=-1):K+=pt*m+rt:"left"==yt?K+=pt*(1-m)+rt:(K-=pt*m+rt,at*=-1)):(at=0,"vertical"==yt?gt>tt.top+ot/2+rt?gt-=ot*(1-C)+rt:(gt+=ot*C+rt,ut*=-1):"down"==yt?gt-=ot*(1-C)+rt:(gt+=ot*C+rt,ut*=-1)),K=I.fitToRange(K,tt.left+pt*m,tt.left+ct-pt*(1-m))+at,gt=I.fitToRange(gt,tt.top+ot*C,tt.top+Tt-ot*(1-C))-ut,Ct=W.x-K+pt*m+at,vt=W.y-gt+ot*C-ut,this._fx=K,this._fy=gt;const kt=this.get("animationDuration",0);if(kt>0&&this.get("visible")&&this.get("opacity")>.1){const Ft=this.get("animationEasing");this.animate({key:"x",to:K,duration:kt,easing:Ft}),this.animate({key:"y",to:gt,duration:kt,easing:Ft})}else this.set("x",K),this.set("y",gt);_t instanceof d.i&&(_t.set("pointerX",Ct),_t.set("pointerY",vt)),pt>0&&(this._w=pt),ot>0&&(this._h=ot)}}}Object.defineProperty(D,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(D,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_.W.classNames.concat([D.className])})},1706:function(F,N,a){"use strict";a.d(N,{Z:function(){return _}});var p=a(2010),l=a(5040),d=a(6245);class _ extends p.A{updateContainer(x){let I=x.get("paddingTop",0),h=x.innerHeight(),n=0;(0,p.j)(x,P=>{if(P.isVisible()&&"relative"==P.get("position")){let E=P.get("height");if(E instanceof d.gG){n+=E.value;let m=h*E.value,C=P.get("minHeight",P.getPrivate("minHeight",-1/0));C>m&&(h-=C,n-=E.value);let A=P.get("maxHeight",P.getPrivate("maxHeight",1/0));m>A&&(h-=A,n-=E.value)}else l.isNumber(E)||(E=P.height()),h-=E+P.get("marginTop",0)+P.get("marginBottom",0)}}),h<0&&(h=.01),(0,p.j)(x,P=>{if(P.isVisible()&&"relative"==P.get("position")){let E=P.get("height");if(E instanceof d.gG){let m=h*E.value/n-P.get("marginTop",0)-P.get("marginBottom",0),C=P.get("minHeight",P.getPrivate("minHeight",-1/0)),A=P.get("maxHeight",P.getPrivate("maxHeight",1/0));m=Math.min(Math.max(C,m),A),P.setPrivate("height",m)}}});let D=I;(0,p.j)(x,P=>{if("relative"==P.get("position"))if(P.isVisible()){let E=P.adjustedLocalBounds(),m=P.get("marginTop",0),C=E.top,A=E.bottom,k=P.get("maxHeight");k&&A-C>k&&(A=C+k);let f=P.get("marginBottom",0),o=D+m-C;P.setPrivate("y",o),D=o+A+f}else P.setPrivate("y",void 0)})}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.A.classNames.concat([_.className])})},4680:function(F,N,a){"use strict";var p,l;a.d(N,{b:function(){return p}}),(l=p||(p={})).ADD="lighter",l.COLOR="color",l.COLOR_BURN="color-burn",l.COLOR_DODGE="color-dodge",l.DARKEN="darken",l.DIFFERENCE="difference",l.DST_OVER="destination-over",l.EXCLUSION="exclusion",l.HARD_LIGHT="hard-light",l.HUE="hue",l.LIGHTEN="lighten",l.LUMINOSITY="luminosity",l.MULTIPLY="multiply",l.NORMAL="source-over",l.OVERLAY="overlay",l.SATURATION="saturation",l.SCREEN="screen",l.SOFT_LIGHT="soft-light",l.SRC_ATOP="source-atop",l.XOR="xor"},1437:function(F,N,a){"use strict";a.d(N,{p:function(){return l}});var p=a(6331);class l extends p.JH{_afterNew(){super._afterNewApplyThemes()}getFill(_){return{addColorStop:(w,x)=>{}}}_changed(){super._changed()}getBounds(_){const w=this.get("target");if(w){let x=w.globalBounds();const I=_.toLocal({x:x.left,y:x.top}),h=_.toLocal({x:x.right,y:x.top}),n=_.toLocal({x:x.right,y:x.bottom}),D=_.toLocal({x:x.left,y:x.bottom});return{left:Math.min(I.x,h.x,n.x,D.x),top:Math.min(I.y,h.y,n.y,D.y),right:Math.max(I.x,h.x,n.x,D.x),bottom:Math.max(I.y,h.y,n.y,D.y)}}return _._display.getLocalBounds()}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Gradient"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.JH.classNames.concat([l.className])})},1747:function(F,N,a){"use strict";a.d(N,{o:function(){return x}});var p=a(1437),l=a(1112),d=a(5071),_=a(5040),w=a(751);class x extends p.p{getFill(h){const n=this.get("rotation",0);let D=this.getBounds(h),P=D.left||0,E=D.right||0,m=D.top||0,C=D.bottom||0,A=w.cos(n),k=w.sin(n),R=Math.max(A*(E-P),k*(C-m));const U=this._root._renderer.createLinearGradient(P,m,P+R*A,m+R*k),X=this.get("stops");if(X){let tt=0;d.each(X,pt=>{let ot=pt.offset;_.isNumber(ot)||(ot=tt/(X.length-1));let W=pt.opacity;_.isNumber(W)||(W=1);let K=pt.color;if(K){const gt=pt.lighten;gt&&(K=l.Il.lighten(K,gt));const yt=pt.brighten;yt&&(K=l.Il.brighten(K,yt)),U.addColorStop(ot,"rgba("+K.r+","+K.g+","+K.b+","+W+")")}tt++})}return U}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinearGradient"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.p.classNames.concat([x.className])})},3437:function(F,N,a){"use strict";a.d(N,{c:function(){return l}});var p=a(6331);class l extends p.JH{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("color")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fill")||this.isDirty("fillOpacity"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const _=this.get("repetition",""),w=this.get("width",100),x=this.get("height",100),I=this.get("fill"),h=this.get("fillOpacity",1);this._display.clear(),this._backgroundDisplay.clear(),I&&h>0&&(this._backgroundDisplay.beginFill(I,h),this._backgroundDisplay.drawRect(0,0,w,x),this._backgroundDisplay.endFill()),this._display.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(this._display,this._backgroundDisplay,_,w,x)}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.JH.classNames.concat([l.className])})},4429:function(F,N,a){"use strict";a.d(N,{v:function(){return l}});var p=a(3437);class l extends p.c{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load()}_draw(){super._draw();const _=this._image;if(_){const w=this.get("width",100),x=this.get("height",100),I=this.get("fit","image");let h=0,n=0;"pattern"==I?(h=w,n=x):(h=_.width,n=_.height,"image"==I&&(this.set("width",h),this.set("height",n)));let D=0,P=0;this.get("centered",!0)&&(D=w/2-h/2,P=x/2-n/2),this._display.image(_,h,n,D,P)}}_load(){const _=this.get("src");if(_){const w=new Image;w.src=_,w.decode().then(()=>{this._image=w,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(x=>{})}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.c.classNames.concat([l.className])})},6490:function(F,N,a){"use strict";a.d(N,{Wn:function(){return h},XG:function(){return D},ne:function(){return w},w6:function(){return x}});var p=a(5125),l=a(6245),d=a(1112),_=a(256);function w(P){return(0,p.mG)(this,void 0,void 0,function*(){if(void 0!==P){const E=[];_.each(P,(m,C)=>{E.push(C.waitForStop())}),yield Promise.all(E)}})}function x(P,E,m){return E+P*(m-E)}function I(P,E,m){return P>=1?m:E}function h(P,E,m){return new l.gG(x(P,E.percent,m.percent))}function n(P,E,m){return d.Il.interpolate(P,E,m)}function D(P,E){return"number"==typeof P&&"number"==typeof E?x:P instanceof l.gG&&E instanceof l.gG?h:P instanceof d.Il&&E instanceof d.Il?n:I}},5071:function(F,N,a){"use strict";a.r(N),a.d(N,{add:function(){return f},any:function(){return d},copy:function(){return tt},each:function(){return w},eachContinue:function(){return I},eachReverse:function(){return x},find:function(){return yt},findIndex:function(){return K},findIndexReverse:function(){return gt},findMap:function(){return rt},findReverse:function(){return _t},first:function(){return D},getFirstSortedIndex:function(){return Ct},getSortedIndex:function(){return at},has:function(){return X},indexOf:function(){return l},insert:function(){return P},insertIndex:function(){return ot},keepIf:function(){return vt},last:function(){return n},map:function(){return _},move:function(){return k},pushAll:function(){return m},pushOne:function(){return o},remove:function(){return C},removeFirst:function(){return A},removeIndex:function(){return W},replace:function(){return R},setIndex:function(){return E},shiftLeft:function(){return h},shuffle:function(){return ut},slice:function(){return pt},toArray:function(){return U}});var p=a(5040);function l(ct,Tt){const kt=ct.length;for(let Ft=0;Ft<kt;++Ft)if(ct[Ft]===Tt)return Ft;return-1}function d(ct,Tt){const kt=ct.length;for(let Ft=0;Ft<kt;++Ft)if(Tt(ct[Ft]))return!0;return!1}function _(ct,Tt){const kt=ct.length,Ft=new Array(kt);for(let Ot=0;Ot<kt;++Ot)Ft[Ot]=Tt(ct[Ot],Ot);return Ft}function w(ct,Tt){const kt=ct.length;for(let Ft=0;Ft<kt;++Ft)Tt(ct[Ft],Ft)}function x(ct,Tt){let kt=ct.length;for(;kt>0;)--kt,Tt(ct[kt],kt)}function I(ct,Tt){const kt=ct.length;for(let Ft=0;Ft<kt&&Tt(ct[Ft],Ft);++Ft);}function h(ct,Tt){const kt=ct.length;for(let Ft=Tt;Ft<kt;++Ft)ct[Ft-Tt]=ct[Ft];ct.length=kt-Tt}function n(ct){const Tt=ct.length;return Tt?ct[Tt-1]:void 0}function D(ct){return ct[0]}function P(ct,Tt,kt){kt=Math.max(0,Math.min(kt,ct.length)),ct.splice(kt,0,Tt)}function E(ct,Tt,kt){C(ct,Tt),P(ct,Tt,kt)}function m(ct,Tt){const kt=Tt.length;for(let Ft=0;Ft<kt;++Ft)ct.push(Tt[Ft])}function C(ct,Tt){let kt=!1,Ft=0;for(;;){if(Ft=ct.indexOf(Tt,Ft),-1===Ft)return kt;kt=!0,ct.splice(Ft,1)}}function A(ct,Tt){let kt=ct.indexOf(Tt);return-1!==kt&&(ct.splice(kt,1),!0)}function k(ct,Tt,kt){let Ft=l(ct,Tt);-1!==Ft&&W(ct,Ft),null==kt?ct.push(Tt):ot(ct,kt,Tt)}function f(ct,Tt,kt){p.isNumber(kt)?0===kt?ct.unshift(Tt):ct.splice(kt,0,Tt):ct.push(Tt)}function o(ct,Tt){-1===ct.indexOf(Tt)&&ct.push(Tt)}function R(ct,Tt,kt){let Ft=ct.indexOf(Tt);-1!==Ft&&ct.splice(Ft,1),p.isNumber(kt)?ct.splice(kt,0,Tt):ct.push(Tt)}function U(ct){return Array.isArray(ct)?ct:[ct]}function X(ct,Tt){return-1!==l(ct,Tt)}function tt(ct){const Tt=ct.length,kt=new Array(Tt);for(let Ft=0;Ft<Tt;++Ft)kt[Ft]=ct[Ft];return kt}function pt(ct,Tt,kt=ct.length){const Ft=new Array(kt-Tt);for(let Ot=Tt;Ot<kt;++Ot)Ft[Ot-Tt]=ct[Ot];return Ft}function ot(ct,Tt,kt){ct.splice(Tt,0,kt)}function W(ct,Tt){ct.splice(Tt,1)}function K(ct,Tt){const kt=ct.length;for(let Ft=0;Ft<kt;++Ft)if(Tt(ct[Ft],Ft))return Ft;return-1}function gt(ct,Tt){let kt=ct.length;for(;kt>0;)if(--kt,Tt(ct[kt],kt))return kt;return-1}function yt(ct,Tt){const kt=K(ct,Tt);if(-1!==kt)return ct[kt]}function _t(ct,Tt){const kt=gt(ct,Tt);if(-1!==kt)return ct[kt]}function rt(ct,Tt){const kt=ct.length;for(let Ft=0;Ft<kt;++Ft){const Ot=Tt(ct[Ft],Ft);if(void 0!==Ot)return Ot}}function ut(ct){let Tt,kt,Ft=ct.length;for(;0!==Ft;)kt=Math.floor(Math.random()*Ft),Ft-=1,Tt=ct[Ft],ct[Ft]=ct[kt],ct[kt]=Tt}function at(ct,Tt){let kt=0,Ft=ct.length,Ot=!1;for(;kt<Ft;){const jt=kt+Ft>>1,$t=Tt(ct[jt]);$t<0?kt=jt+1:0===$t?(Ot=!0,kt=jt+1):Ft=jt}return{found:Ot,index:Ot?kt-1:kt}}function Ct(ct,Tt){let kt=0,Ft=ct.length,Ot=!1;for(;kt<Ft;){const jt=kt+Ft>>1,$t=Tt(ct[jt]);$t<0?kt=jt+1:(0===$t&&(Ot=!0),Ft=jt)}return{found:Ot,index:kt}}function vt(ct,Tt){let kt=ct.length;for(;kt>0;)--kt,Tt(ct[kt])||ct.splice(kt,1)}},1112:function(F,N,a){"use strict";a.d(N,{$_:function(){return w},Il:function(){return x}});var p=a(6490),l=a(7652),d=a(5040);function _(I){return"#"===I[0]&&(I=I.substr(1)),3==I.length&&(I=I[0].repeat(2)+I[1].repeat(2)+I[2].repeat(2)),parseInt(I,16)}function w(I){return x.fromAny(I)}class x{constructor(h){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=0|h}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return 255&this._hex}toCSS(h=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+h+")"}toCSSHex(){return"#"+l.padString(this.r.toString(16),2)+l.padString(this.g.toString(16),2)+l.padString(this.b.toString(16),2)}toHSL(h=1){return l.rgbToHsl({r:this.r,g:this.g,b:this.b,a:h})}static fromHSL(h,n,D){const P=l.hslToRgb({h,s:n,l:D});return this.fromRGB(P.r,P.g,P.b)}toString(){return this.toCSSHex()}static fromHex(h){return new x(h)}static fromRGB(h,n,D){return new x((0|D)+(n<<8)+(h<<16))}static fromString(h){return new x(_(h))}static fromCSS(h){return new x(function(n){let D=(n=n.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(D)D.push("1");else if(D=n.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!D)return 0;let P="";for(let E=1;E<=3;E++){let m=parseInt(D[E]).toString(16);1==m.length&&(m="0"+m),P+=m}return _(P)}(h))}static fromAny(h){if(d.isString(h)){if("#"==h[0])return x.fromString(h);if("rgb"==h.substr(0,3))return x.fromCSS(h)}else{if(d.isNumber(h))return x.fromHex(h);if(h instanceof x)return x.fromHex(h.hex)}throw new Error("Unknown color syntax: "+h)}static alternative(h,n,D){const P=l.alternativeColor({r:h.r,g:h.g,b:h.b},n?{r:n.r,g:n.g,b:n.b}:void 0,D?{r:D.r,g:D.g,b:D.b}:void 0);return this.fromRGB(P.r,P.g,P.b)}static interpolate(h,n,D,P="rgb"){if("hsl"==P){const E=n.toHSL(),m=D.toHSL();return x.fromHSL((0,p.w6)(h,E.h,m.h),(0,p.w6)(h,E.s,m.s),(0,p.w6)(h,E.l,m.l))}return x.fromRGB((0,p.w6)(h,n.r,D.r),(0,p.w6)(h,n.g,D.g),(0,p.w6)(h,n.b,D.b))}static lighten(h,n){const D=l.lighten({r:h.r,g:h.g,b:h.b},n);return x.fromRGB(D.r,D.g,D.b)}static brighten(h,n){const D=l.brighten({r:h.r,g:h.g,b:h.b},n);return x.fromRGB(D.r,D.g,D.b)}static saturate(h,n){const D=l.saturate({r:h.r,g:h.g,b:h.b},n);return x.fromRGB(D.r,D.g,D.b)}}},2754:function(F,N,a){"use strict";a.d(N,{U:function(){return d}});var p=a(6331),l=a(1112);class d extends p.JH{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const w=this.getPrivate("currentPass"),x=this.get("colors",[this.get("baseColor",l.Il.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",x.length);const I=this.getPrivate("numColors"),h=this.get("passOptions"),n=this.get("reuse");for(let D=0;D<I;D++)if(n)x.push(x[D]);else{const P=x[D].toHSL();let E=P.h+(h.hue||0)*w;for(;E>1;)E-=1;let m=P.s+(h.saturation||0)*w;m>1&&(m=1),m<0&&(m=0);let C=P.l+(h.lightness||0)*w;for(;C>1;)C-=1;x.push(l.Il.fromHSL(E,m,C))}}getIndex(w){const x=this.get("colors",[]),I=this.get("saturation");return w>=x.length?(this.generateColors(),this.getIndex(w)):null!=I?l.Il.saturate(x[w],I):x[w]}next(){let w=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",w+this.get("step",1)),this.getIndex(w)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(d,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(d,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.JH.classNames.concat([d.className])})},9582:function(F,N,a){"use strict";a.d(N,{Q:function(){return d},k:function(){return l}});var p=a(7144);class l extends p.aV{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(w){this.processor&&this.processor.processRow(w),super._onPush(w)}_onInsertIndex(w,x){this.processor&&this.processor.processRow(x),super._onInsertIndex(w,x)}_onSetIndex(w,x,I){this.processor&&this.processor.processRow(I),super._onSetIndex(w,x,I)}}class d{constructor(w){Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=w}incrementRef(){}decrementRef(){}}},6460:function(F,N,a){"use strict";a.d(N,{C:function(){return x}});var p=a(6331),l=a(7255),d=a(462),_=a(5040),w=a(7652);class x extends p.JH{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(h,n){let D;void 0!==n&&""!==n||(n=this.get("dateFormat","yyyy-MM-dd"));let P=h;if(_.isObject(n))try{const C=this.get("intlLocales");return C?new Intl.DateTimeFormat(C,n).format(P):new Intl.DateTimeFormat(void 0,n).format(P)}catch{return"Invalid"}let E=this.parseFormat(n);const m=this._root.timezone;return m&&!this._root.utc&&(P=m.convertLocal(P)),_.isNumber(P.getTime())?(D=this.applyFormat(P,E),this.get("capitalize")&&(D=D.replace(/^.{1}/,D.substr(0,1).toUpperCase())),D):"Invalid date"}applyFormat(h,n){let D,P,E,m,C,A,k,f,o=n.template,R=h.getTime();this._root.utc?(D=h.getUTCFullYear(),P=h.getUTCMonth(),E=h.getUTCDay(),m=h.getUTCDate(),C=h.getUTCHours(),A=h.getUTCMinutes(),k=h.getUTCSeconds(),f=h.getUTCMilliseconds()):(D=h.getFullYear(),P=h.getMonth(),E=h.getDay(),m=h.getDate(),C=h.getHours(),A=h.getMinutes(),k=h.getSeconds(),f=h.getMilliseconds());for(let U=0,X=n.parts.length;U<X;U++){let tt="";switch(n.parts[U]){case"G":tt=this._t(D<0?"_era_bc":"_era_ad");break;case"yyyy":tt=Math.abs(D).toString(),D<0&&(tt+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":tt=Math.abs(D).toString().substr(-n.parts[U].length),D<0&&(tt+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let pt=w.getWeekYear(h,this._root.utc);tt="YYYY"==n.parts[U]?Math.abs(pt).toString():Math.abs(pt).toString().substr(-n.parts[U].length),pt<0&&(tt+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":tt=""+Math.ceil((h.getMonth()+1)/3);break;case"MMMMM":tt=this._t(this._getMonth(P)).substr(0,1);break;case"MMMM":tt=this._t(this._getMonth(P));break;case"MMM":tt=this._t(this._getShortMonth(P));break;case"MM":tt=w.padString(P+1,2,"0");break;case"M":tt=(P+1).toString();break;case"ww":tt=w.padString(w.getWeek(h,this._root.utc),2,"0");break;case"w":tt=w.getWeek(h,this._root.utc).toString();break;case"W":tt=w.getMonthWeek(h,this._root.utc).toString();break;case"dd":tt=w.padString(m,2,"0");break;case"d":tt=m.toString();break;case"DD":case"DDD":tt=w.padString(w.getYearDay(h,this._root.utc).toString(),n.parts[U].length,"0");break;case"D":tt=w.getYearDay(h,this._root.utc).toString();break;case"t":tt=this._root.language.translateFunc("_dateOrd").call(this,m);break;case"E":tt=(E||7).toString();break;case"EE":tt=w.padString((E||7).toString(),2,"0");break;case"EEE":case"eee":tt=this._t(this._getShortWeekday(E));break;case"EEEE":case"eeee":tt=this._t(this._getWeekday(E));break;case"EEEEE":case"eeeee":tt=this._t(this._getShortWeekday(E)).substr(0,1);break;case"e":case"ee":tt=(E-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==n.parts[U]&&(tt=w.padString(tt,2,"0"));break;case"a":tt=this._t(C>=12?"PM":"AM");break;case"aa":tt=this._t(C>=12?"P.M.":"A.M.");break;case"aaa":tt=this._t(C>=12?"P":"A");break;case"h":tt=w.get12Hours(C).toString();break;case"hh":tt=w.padString(w.get12Hours(C),2,"0");break;case"H":tt=C.toString();break;case"HH":tt=w.padString(C,2,"0");break;case"K":tt=w.get12Hours(C,0).toString();break;case"KK":tt=w.padString(w.get12Hours(C,0),2,"0");break;case"k":tt=(C+1).toString();break;case"kk":tt=w.padString(C+1,2,"0");break;case"m":tt=A.toString();break;case"mm":tt=w.padString(A,2,"0");break;case"s":tt=k.toString();break;case"ss":tt=w.padString(k,2,"0");break;case"S":case"SS":case"SSS":tt=Math.round(f/1e3*Math.pow(10,n.parts[U].length)).toString();break;case"x":tt=R.toString();break;case"n":case"nn":case"nnn":tt=w.padString(f,n.parts[U].length,"0");break;case"z":tt=w.getTimeZone(h,!1,!1,this._root.utc);break;case"zz":tt=w.getTimeZone(h,!0,!1,this._root.utc);break;case"zzz":tt=w.getTimeZone(h,!1,!0,this._root.utc);break;case"zzzz":tt=w.getTimeZone(h,!0,!0,this._root.utc);break;case"Z":case"ZZ":let ot=this._root.utc?"UTC":this._root.timezone;ot instanceof d.r&&(ot=ot.name);const W=ot?w.getTimezoneOffset(ot):h.getTimezoneOffset();let K=Math.abs(W)/60,gt=Math.floor(K),yt=60*K-60*gt;this._root.utc&&(gt=0,yt=0),"Z"==n.parts[U]?(tt="GMT",tt+=W>0?"-":"+",tt+=w.padString(gt,2)+":"+w.padString(yt,2)):(tt=W>0?"-":"+",tt+=w.padString(gt,2)+w.padString(yt,2));break;case"i":tt=h.toISOString();break;case"I":tt=h.toUTCString()}o=o.replace(_.PLACEHOLDER,tt)}return o}parseFormat(h){let n={template:"",parts:[]},D=l.V.chunk(h,!0);for(let P=0;P<D.length;P++){let E=D[P];if("value"===E.type){if(E.text.match(/^date$/i)){let C=this.get("dateFormat","yyyy-MM-dd");_.isString(C)||(C="yyyy-MM-dd"),E.text=C}let m=E.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(m)for(let C=0;C<m.length;C++)n.parts.push(m[C]),E.text=E.text.replace(m[C],_.PLACEHOLDER)}n.template+=E.text}return n}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(h){return this._months()[h]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(h){return this._shortMonths()[h]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(h){return this._weekdays()[h]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(h){return this._shortWeekdays()[h]}parse(h,n){if(h instanceof Date)return h;if(_.isNumber(h))return new Date(h);let D;_.isString(h)||(h=h.toString());let P="";n=(n=w.cleanFormat(n)).substr(0,h.length);let E=this.parseFormat(n),m={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},C={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},A=0,k=0;for(let R=0;R<E.parts.length;R++){switch(k=R+A+1,E.parts[R]){case"yyyy":case"YYYY":P+="([0-9]{4})",m.year=k;break;case"yyy":case"YYY":P+="([0-9]{3})",m.year3=k;break;case"yy":case"YY":P+="([0-9]{2})",m.year2=k;break;case"y":case"Y":P+="([0-9]{1})",m.year1=k;break;case"MMMM":P+="("+this.getStringList(this._months()).join("|")+")",m.monthLong=k;break;case"MMM":P+="("+this.getStringList(this._shortMonths()).join("|")+")",m.monthShort=k;break;case"MM":case"M":P+="([0-9]{2}|[0-9]{1})",m.month=k;break;case"ww":case"w":P+="([0-9]{2}|[0-9]{1})",m.week=k;break;case"dd":case"d":P+="([0-9]{2}|[0-9]{1})",m.day=k;break;case"DDD":case"DD":case"D":P+="([0-9]{3}|[0-9]{2}|[0-9]{1})",m.yearDay=k;break;case"dddd":P+="("+this.getStringList(this._weekdays()).join("|")+")",m.weekdayLong=k;break;case"ddd":P+="("+this.getStringList(this._shortWeekdays()).join("|")+")",m.weekdayShort=k;break;case"aaa":case"aa":case"a":P+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",m.am=k;break;case"hh":case"h":P+="([0-9]{2}|[0-9]{1})",m.hour12Base1=k;break;case"HH":case"H":P+="([0-9]{2}|[0-9]{1})",m.hourBase0=k;break;case"KK":case"K":P+="([0-9]{2}|[0-9]{1})",m.hour12Base0=k;break;case"kk":case"k":P+="([0-9]{2}|[0-9]{1})",m.hourBase1=k;break;case"mm":case"m":P+="([0-9]{2}|[0-9]{1})",m.minute=k;break;case"ss":case"s":P+="([0-9]{2}|[0-9]{1})",m.second=k;break;case"SSS":case"SS":case"S":P+="([0-9]{3}|[0-9]{2}|[0-9]{1})",m.millisecond=k,m.millisecondDigits=E.parts[R].length;break;case"nnn":case"nn":case"n":P+="([0-9]{3}|[0-9]{2}|[0-9]{1})",m.millisecond=k;break;case"x":P+="([0-9]{1,})",m.timestamp=k;break;case"Z":P+="GMT([-+]+[0-9]{2}:[0-9]{2})",m.zone=k;break;case"ZZ":P+="([\\-+]+[0-9]{2}[0-9]{2})",m.zone=k;break;case"i":P+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",m.iso=k,A+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":A--}P+="[^0-9]*"}let f=new RegExp(P),o=h.match(f);if(o){if(m.year>-1&&(C.year=parseInt(o[m.year])),m.year3>-1){let R=parseInt(o[m.year3]);R+=1e3,C.year=R}if(m.year2>-1){let R=parseInt(o[m.year2]);R+=R>50?1e3:2e3,C.year=R}if(m.year1>-1){let R=parseInt(o[m.year1]);R=10*Math.floor((new Date).getFullYear()/10)+R,C.year=R}if(m.monthLong>-1&&(C.month=this.resolveMonth(o[m.monthLong])),m.monthShort>-1&&(C.month=this.resolveShortMonth(o[m.monthShort])),m.month>-1&&(C.month=parseInt(o[m.month])-1),m.week>-1&&-1===m.day&&(C.month=0,C.day=w.getDayFromWeek(parseInt(o[m.week]),C.year,1,this._root.utc)),m.day>-1&&(C.day=parseInt(o[m.day])),m.yearDay>-1&&(C.month=0,C.day=parseInt(o[m.yearDay])),m.hourBase0>-1&&(C.hour=parseInt(o[m.hourBase0])),m.hourBase1>-1&&(C.hour=parseInt(o[m.hourBase1])-1),m.hour12Base0>-1){let R=parseInt(o[m.hour12Base0]);11==R&&(R=0),m.am>-1&&!this.isAm(o[m.am])&&(R+=12),C.hour=R}if(m.hour12Base1>-1){let R=parseInt(o[m.hour12Base1]);12==R&&(R=0),m.am>-1&&!this.isAm(o[m.am])&&(R+=12),C.hour=R}if(m.minute>-1&&(C.minute=parseInt(o[m.minute])),m.second>-1&&(C.second=parseInt(o[m.second])),m.millisecond>-1){let R=parseInt(o[m.millisecond]);2==m.millisecondDigits?R*=10:1==m.millisecondDigits&&(R*=100),C.millisecond=R}if(m.timestamp>-1){C.timestamp=parseInt(o[m.timestamp]);const R=new Date(C.timestamp);C.year=R.getUTCFullYear(),C.month=R.getUTCMonth(),C.day=R.getUTCDate(),C.hour=R.getUTCHours(),C.minute=R.getUTCMinutes(),C.second=R.getUTCSeconds(),C.millisecond=R.getUTCMilliseconds()}m.zone>-1&&(C.offset=this.resolveTimezoneOffset(new Date(C.year,C.month,C.day),o[m.zone])),m.iso>-1&&(C.year=_.toNumber(o[m.iso+0]),C.month=_.toNumber(o[m.iso+1])-1,C.day=_.toNumber(o[m.iso+2]),C.hour=_.toNumber(o[m.iso+3]),C.minute=_.toNumber(o[m.iso+4]),C.second=_.toNumber(o[m.iso+5]),C.millisecond=_.toNumber(o[m.iso+6]),"Z"==o[m.iso+7]||"z"==o[m.iso+7]?C.utc=!0:""!=o[m.iso+7]&&(C.offset=this.resolveTimezoneOffset(new Date(C.year,C.month,C.day),o[m.iso+7]))),D=C.utc?new Date(Date.UTC(C.year,C.month,C.day,C.hour,C.minute,C.second,C.millisecond)):new Date(C.year,C.month,C.day,C.hour,C.minute+C.offset,C.second,C.millisecond)}else D=new Date(h);return D}resolveTimezoneOffset(h,n){if(n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let D=n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),P=D[1],m=D[3],C=60*parseInt(D[2])+parseInt(m);return"+"==P&&(C*=-1),C-(h||new Date).getTimezoneOffset()}return 0}resolveMonth(h){let n=this._months().indexOf(h);return n>-1||!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._months()).indexOf(h),n>-1)?n:0}resolveShortMonth(h){let n=this._shortMonths().indexOf(h);return n>-1?n:(n=this._months().indexOf(h),n>-1||this._root.language&&!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._shortMonths()).indexOf(h),n>-1)?n:0)}isAm(h){return this.getStringList(["AM","A.M.","A"]).indexOf(h.toUpperCase())>-1}getStringList(h){let n=[];for(let D=0;D<h.length;D++)n.push(w.escapeForRgex(this._root.language?this._t(h[D]):h[D]));return n}}},7449:function(F,N,a){"use strict";a.d(N,{DM:function(){return I},FV:function(){return w},KK:function(){return l},cx:function(){return x},ku:function(){return d},rk:function(){return _}});var p=a(5071);class l{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class d{constructor(n){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=n}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class _ extends l{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){p.each(this._disposers,n=>{n.dispose()})}}class w extends l{constructor(n){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=n}_dispose(){p.each(this._disposers,n=>{n.dispose()})}}class x extends l{constructor(){super(...arguments),Object.defineProperty(this,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_dispose(){null!=this._disposer&&(this._disposer.dispose(),this._disposer=void 0)}get(){return this._value}set(n,D){null!=this._disposer&&this._disposer.dispose(),this._disposer=D,this._value=n}reset(){this.set(void 0,void 0)}}class I extends d{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new d(()=>{--this._counter,0===this._counter&&this.dispose()})}}},798:function(F,N,a){"use strict";a.d(N,{$:function(){return x}});var p=a(6331),l=a(7255),d=a(256),_=a(7652),w=a(5040);class x extends p.JH{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const h="_duration_millisecond",n="_duration_second",D="_duration_minute",P="_duration_hour",E="_duration_day",m="_duration_week",C="_duration_month",A="_minute",k="_hour",f="_day",o="_week",R="_week",U="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(h),second:this._t(h+"_second"),minute:this._t(h+A),hour:this._t(h+k),day:this._t(h+f),week:this._t(h+o),month:this._t(h+R),year:this._t(h+U)},second:{second:this._t(n),minute:this._t(n+A),hour:this._t(n+k),day:this._t(n+f),week:this._t(n+o),month:this._t(n+R),year:this._t(n+U)},minute:{minute:this._t(D),hour:this._t(D+k),day:this._t(D+f),week:this._t(D+o),month:this._t(D+R),year:this._t(D+U)},hour:{hour:this._t(P),day:this._t(P+f),week:this._t(P+o),month:this._t(P+R),year:this._t(P+U)},day:{day:this._t(E),week:this._t(E+o),month:this._t(E+R),year:this._t(E+U)},week:{week:this._t(m),month:this._t(m+R),year:this._t(m+U)},month:{month:this._t(C),year:this._t(C+U)},year:{year:this._t("_duration_year")}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(h,n,D){let P=D||this.get("baseUnit");void 0!==n&&""!==n||(n=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(w.toNumber(h),void 0,P)),n=_.cleanFormat(n);let E,m=this.parseFormat(n,P),C=Number(h);E=C>this.get("negativeBase")?m.positive:C<this.get("negativeBase")?m.negative:m.zero;let A=this.applyFormat(C,E);return""!==E.color&&(A="["+E.color+"]"+A+"[/]"),A}parseFormat(h,n){let D=n||this.get("baseUnit"),P={positive:{color:"",template:"",parts:[],source:"",baseUnit:D,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:D,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:D,parsed:!1,absolute:!1}},E=(h=h.replace("||",w.PLACEHOLDER2)).split("|");return P.positive.source=E[0],void 0===E[2]?P.zero=P.positive:P.zero.source=E[2],void 0===E[1]?P.negative=P.positive:P.negative.source=E[1],d.each(P,(m,C)=>{if(C.parsed)return;let A=C.source,k=[];k=C.source.match(/^\[([^\]]*)\]/),k&&k.length&&""!==k[0]&&(A=C.source.substr(k[0].length),C.color=k[1]);let f=l.V.chunk(A,!0);for(let o=0;o<f.length;o++){let R=f[o];if(R.text=R.text.replace(w.PLACEHOLDER2,"|"),"value"===R.type){R.text.match(/[yYMdDwhHKkmsSn]+a/)&&(C.absolute=!0,R.text=R.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let U=R.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(U)for(let X=0;X<U.length;X++)null==U[X]&&(U[X]=this._unitAliases[U[X]]),C.parts.push(U[X]),R.text=R.text.replace(U[X],w.PLACEHOLDER)}C.template+=R.text}C.parsed=!0}),P}applyFormat(h,n){let D=!n.absolute&&h<this.get("negativeBase");h=Math.abs(h);let P=this.toTimeStamp(h,n.baseUnit),E=n.template;for(let m=0,C=n.parts.length;m<C;m++){let A=n.parts[m],k=this._toTimeUnit(A.substr(0,1)),f=A.length,o=Math.floor(P/this._getUnitValue(k));E=E.replace(w.PLACEHOLDER,_.padString(o,f,"0")),P-=o*this._getUnitValue(k)}return D&&(E="-"+E),E}toTimeStamp(h,n){return h*this._getUnitValue(n)}_toTimeUnit(h){switch(h){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(h,n,D){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(D||(D=this.get("baseUnit")),null!=n&&h!=n){h=Math.abs(h),n=Math.abs(n);let P=this.getValueUnit(Math.max(h,n),D);return this.get("durationFormats")[D][P]}{let P=this.getValueUnit(h,D);return this.get("durationFormats")[D][P]}}getValueUnit(h,n){let D;n||(n=this.get("baseUnit"));let P=this.getMilliseconds(h,n);return d.eachContinue(this._getUnitValues(),(E,m)=>{if(E==n||D){if(P/m<=1)return D||(D=E),!1;D=E}return!0}),D}getMilliseconds(h,n){return n||(n=this.get("baseUnit")),h*this._getUnitValue(n)}_getUnitValue(h){return this._getUnitValues()[h]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}},9395:function(F,N,a){"use strict";a.r(N),a.d(N,{bounce:function(){return m},circle:function(){return h},cubic:function(){return _},elastic:function(){return k},exp:function(){return x},inOut:function(){return P},linear:function(){return l},out:function(){return D},pow:function(){return w},quad:function(){return d},sine:function(){return I},yoyo:function(){return n}});var p=a(751);function l(f){return f}function d(f){return f*f}function _(f){return f*f*f}function w(f,o){return Math.pow(f,o)}function x(f){return Math.pow(2,10*f-10)}function I(f){return 1-Math.cos(f*p.HALFPI)}function h(f){return 1-Math.sqrt(1-f*f)}function n(f){return function(o){return f(o<.5?2*o:2*(1-o))}}function D(f){return function(o){return 1-f(1-o)}}function P(f){return function(o){return o<=.5?f(2*o)/2:1-f(2*(1-o))/2}}let E=7.5625;function m(f){return 1-((o=1-f)<.36363636363636365?E*o*o:o<.7272727272727273?E*(o-=.5454545454545454)*o+.75:o<.9090909090909091?E*(o-=.8181818181818182)*o+.9375:E*(o-=.9545454545454546)*o+.984375);var o}let C=.3/(2*Math.PI),A=Math.asin(1)*C;function k(f){let o=f;return 1*Math.pow(2,10*--o)*Math.sin((A-o)/C)}},6331:function(F,N,a){"use strict";a.d(N,{JH:function(){return A},Zr:function(){return C}});var p=a(7449),l=a(9770),d=a(6490),_=a(256),w=a(9395);class x{constructor(f,o){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=f,this._settings=o}get(f,o){const R=this._settings[f];return void 0!==R?R:o}setRaw(f,o){this._settings[f]=o}set(f,o){this._userSettings[f]=!0,this.setRaw(f,o)}remove(f){delete this._userSettings[f],delete this._settings[f]}setAll(f){_.keys(f).forEach(o=>{this.set(o,f[o])})}_eachSetting(f){_.each(this._settings,f)}apply(){const f={stateAnimationEasing:!0,stateAnimationDuration:!0},o=this._entity.states.lookup("default");this._eachSetting((R,U)=>{f[R]||(f[R]=!0,this!==o&&(R in o._settings||(o._settings[R]=this._entity.get(R))),this._entity.set(R,U))})}applyAnimate(f){null==f&&(f=this._settings.stateAnimationDuration),null==f&&(f=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let o=this._settings.stateAnimationEasing;null==o&&(o=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",w.cubic)));const R=this._entity.states.lookup("default"),U={stateAnimationEasing:!0,stateAnimationDuration:!0},X={};return this._eachSetting((tt,pt)=>{if(!U[tt]){U[tt]=!0,this!=R&&(tt in R._settings||(R._settings[tt]=this._entity.get(tt)));const ot=this._entity.animate({key:tt,to:pt,duration:f,easing:o});ot&&(X[tt]=ot)}}),X}}class I{constructor(f){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=f}lookup(f){return this._states[f]}create(f,o){const R=this._states[f];if(R)return R.setAll(o),R;{const U=new x(this._entity,o);return this._states[f]=U,U}}remove(f){delete this._states[f]}apply(f){const o=this._states[f];o&&o.apply(),this._entity._applyState(f)}applyAnimate(f,o){let R;const U=this._states[f];return U&&(R=U.applyAnimate(o)),this._entity._applyStateAnimated(f,o),R}}var h=a(3145),n=a(5071),D=a(3540);class P{constructor(f){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=f}add(f,o){let R=this._callbacks[f];return void 0===R&&(R=this._callbacks[f]=[]),R.push(o),this._entity._markDirtyKey(f),new p.ku(()=>{n.removeFirst(R,o)&&this._entity._markDirtyKey(f)})}remove(f){const o=this._callbacks[f];void 0!==o&&(delete this._callbacks[f],0!==o.length&&this._entity._markDirtyKey(f))}enable(f){this._disabled[f]&&(delete this._disabled[f],this._entity._markDirtyKey(f))}disable(f){this._disabled[f]||(this._disabled[f]=!0,this._entity._markDirtyKey(f))}fold(f,o){if(!this._disabled[f]){const R=this._callbacks[f];if(void 0!==R)for(let U=0,X=R.length;U<X;++U)o=R[U](o,this._entity,f)}return o}}class E{constructor(f,o,R,U,X,tt,pt){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new l.p}),this._animation=f,this._from=o,this._to=R,this._duration=U,this._easing=X,this._loops=tt,this._interpolate=(0,d.XG)(o,R),this._oldTime=pt}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){this._stopped||this._playing||(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((f,o)=>{if(this._stopped)f();else{const U=this.events.on("stopped",()=>{U.dispose(),f()})}})}_checkEnded(){return!(this._loops>1&&(--this._loops,1))}_run(f){null!==this._oldTime&&(this._time+=f-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=f}_reset(f){this._oldTime=f,this._time=0}_value(f){return this._interpolate(this._easing(f),this._from,this._to)}}let m=0;class C{constructor(f){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++m}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=f}_checkDirty(){_.keys(this._settings).forEach(f=>{this._userProperties[f]=!0,this._markDirtyKey(f)})}resetUserSettings(){this._userProperties={}}_runAnimation(f){if(this.isDisposed())return!1;{let o=!1;return _.each(this._animatingSettings,(R,U)=>{if(U._stopped)this._stopAnimation(R);else if(U._playing){U._run(f);const X=U.percentage;X>=1?U._checkEnded()?this.set(R,U._value(1)):(o=!0,U._reset(f),this._set(R,U._value(1))):(o=!0,this._set(R,U._value(X)))}}),_.each(this._animatingPrivateSettings,(R,U)=>{if(U._stopped)this._stopAnimationPrivate(R);else if(U._playing){U._run(f);const X=U.percentage;X>=1?U._checkEnded()?this.setPrivate(R,U._value(1)):(o=!0,U._reset(f),this._setPrivate(R,U._value(1))):(o=!0,this._setPrivate(R,U._value(X)))}}),o}}_markDirtyKey(f){this.markDirty()}_markDirtyPrivateKey(f){this.markDirty()}on(f,o){let R=this._settingEvents[f];return void 0===R&&(R=this._settingEvents[f]=[]),R.push(o),new p.ku(()=>{n.removeFirst(R,o),0===R.length&&delete this._settingEvents[f]})}onPrivate(f,o){let R=this._privateSettingEvents[f];return void 0===R&&(R=this._privateSettingEvents[f]=[]),R.push(o),new p.ku(()=>{n.removeFirst(R,o),0===R.length&&delete this._privateSettingEvents[f]})}getRaw(f,o){const R=this._settings[f];return void 0!==R?R:o}get(f,o){return this.getRaw(f,o)}_sendKeyEvent(f,o){const R=this._settingEvents[f];void 0!==R&&n.each(R,U=>{U(o,this,f)})}_sendPrivateKeyEvent(f,o){const R=this._privateSettingEvents[f];void 0!==R&&n.each(R,U=>{U(o,this,f)})}_setRaw(f,o,R){this._prevSettings[f]=o,this._sendKeyEvent(f,R)}setRaw(f,o){const R=this._settings[f];this._settings[f]=o,R!==o&&this._setRaw(f,R,o)}_set(f,o){const R=this._settings[f];this._settings[f]=o,R!==o&&(this._setRaw(f,R,o),this._markDirtyKey(f))}_stopAnimation(f){const o=this._animatingSettings[f];o&&(delete this._animatingSettings[f],o.stop())}set(f,o){return this._set(f,o),this._stopAnimation(f),o}remove(f){f in this._settings&&(this._prevSettings[f]=this._settings[f],delete this._settings[f],this._sendKeyEvent(f,void 0),this._markDirtyKey(f)),this._stopAnimation(f)}removeAll(){n.each(_.keys(this._settings),f=>{this.remove(f)})}getPrivate(f,o){const R=this._privateSettings[f];return void 0!==R?R:o}_setPrivateRaw(f,o,R){this._prevPrivateSettings[f]=o,this._sendPrivateKeyEvent(f,R)}setPrivateRaw(f,o){const R=this._privateSettings[f];this._privateSettings[f]=o,R!==o&&this._setPrivateRaw(f,R,o)}_setPrivate(f,o){const R=this._privateSettings[f];this._privateSettings[f]=o,R!==o&&(this._setPrivateRaw(f,R,o),this._markDirtyPrivateKey(f))}_stopAnimationPrivate(f){const o=this._animatingPrivateSettings[f];o&&(o.stop(),delete this._animatingPrivateSettings[f])}setPrivate(f,o){return this._setPrivate(f,o),this._stopAnimationPrivate(f),o}removePrivate(f){f in this._privateSettings&&(this._prevPrivateSettings[f]=this._privateSettings[f],delete this._privateSettings[f],this._markDirtyPrivateKey(f)),this._stopAnimationPrivate(f)}setAll(f){_.each(f,(o,R)=>{this.set(o,R)})}animate(f){const o=f.key,R=f.to,U=f.duration||0,X=f.loops||1,tt=void 0===f.from?this.get(o):f.from,pt=void 0===f.easing?w.linear:f.easing;if(0===U)this.set(o,R);else{if(void 0!==tt&&tt!==R){this.set(o,tt);const W=this._animatingSettings[o]=new E(this,tt,R,U,pt,X,this._animationTime());return this._startAnimation(),W}this.set(o,R)}const ot=new E(this,tt,R,U,pt,X,null);return ot.stop(),ot}animatePrivate(f){const o=f.key,R=f.to,U=f.duration||0,X=f.loops||1,tt=void 0===f.from?this.getPrivate(o):f.from,pt=void 0===f.easing?w.linear:f.easing;if(0===U)this.setPrivate(o,R);else{if(void 0!==tt&&tt!==R){this.setPrivate(o,tt);const W=this._animatingPrivateSettings[o]=new E(this,tt,R,U,pt,X,this._animationTime());return this._startAnimation(),W}this.setPrivate(o,R)}const ot=new E(this,tt,R,U,pt,X,null);return ot.stop(),ot}_dispose(){}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class A extends C{constructor(f,o,R,U=[]){if(super(o),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new I(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new P(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!R)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=f,this._internalTemplates=U,o.id&&this._registerId(o.id)}static new(f,o,R){const U=new this(f,o,!0);return U._template=R,U._afterNew(),U}static _new(f,o,R=[]){const U=new this(f,o,!0,R);return U._afterNew(),U}_afterNew(){this._checkDirty();let f=!1;const o=this._template;o&&(f=!0,o._setObjectTemplate(this)),n.each(this._internalTemplates,R=>{f=!0,R._setObjectTemplate(this)}),f&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const f=this._template;f&&f._setObjectTemplate(this),n.each(this._internalTemplates,o=>{o._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new l.p}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefault(f,o){f in this._settings||super.set(f,o)}_setRawDefault(f,o){f in this._settings||super.setRaw(f,o)}_clearDirty(){_.keys(this._dirty).forEach(f=>{this._dirty[f]=!1}),_.keys(this._dirtyPrivate).forEach(f=>{this._dirtyPrivate[f]=!1})}isDirty(f){return!!this._dirty[f]}isPrivateDirty(f){return!!this._dirtyPrivate[f]}_markDirtyKey(f){this._dirty[f]=!0,super._markDirtyKey(f)}_markDirtyPrivateKey(f){this._dirtyPrivate[f]=!0,super._markDirtyKey(f)}isType(f){return-1!==this.classNames.indexOf(f)}_pushPropertyDisposer(f,o){let R=this._disposerProperties[f];return void 0===R&&(R=this._disposerProperties[f]=[]),R.push(o),o}_disposeProperty(f){const o=this._disposerProperties[f];void 0!==o&&(n.each(o,R=>{R.dispose()}),delete this._disposerProperties[f])}set template(f){const o=this._template;o!==f&&(this._template=f,o&&o._removeObjectTemplate(this),f&&f._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(f){}_applyStateAnimated(f,o){}get(f,o){const R=this.adapters.fold(f,this._settings[f]);return void 0!==R?R:o}isUserSetting(f){return this._userProperties[f]||!1}set(f,o){return this._userProperties[f]=!0,super.set(f,o)}setRaw(f,o){this._userProperties[f]=!0,super.setRaw(f,o)}_setSoft(f,o){return this._userProperties[f]?o:super.set(f,o)}remove(f){delete this._userProperties[f],this._removeTemplateProperty(f)}setPrivate(f,o){return this._userPrivateProperties[f]=!0,super.setPrivate(f,o)}setPrivateRaw(f,o){this._userPrivateProperties[f]=!0,super.setPrivateRaw(f,o)}removePrivate(f){delete this._userPrivateProperties[f],this._removeTemplatePrivateProperty(f)}_setTemplateProperty(f,o,R){this._userProperties[o]||f===this._findTemplateByKey(o)&&super.set(o,R)}_setTemplatePrivateProperty(f,o,R){this._userPrivateProperties[o]||f===this._findTemplateByPrivateKey(o)&&super.setPrivate(o,R)}_removeTemplateProperty(f){if(!this._userProperties[f]){const o=this._findTemplateByKey(f);o?super.set(f,o._settings[f]):super.remove(f)}}_removeTemplatePrivateProperty(f){if(!this._userPrivateProperties[f]){const o=this._findTemplateByPrivateKey(f);o?super.setPrivate(f,o._privateSettings[f]):super.removePrivate(f)}}_walkParents(f){f(this._root._rootContainer),f(this)}_applyStateByKey(f){const o=this.states.create(f,{}),R={};this._eachTemplate(U=>{const X=U.states.lookup(f);X&&X._apply(o,R)}),_.each(o._settings,U=>{R[U]||o._userSettings[U]||o.remove(U)})}_applyTemplate(f,o){this._templateDisposers.push(f._apply(this,o)),_.each(f._settings,(R,U)=>{o.settings[R]||this._userProperties[R]||(o.settings[R]=!0,super.set(R,U))}),_.each(f._privateSettings,(R,U)=>{o.privateSettings[R]||this._userPrivateProperties[R]||(o.privateSettings[R]=!0,super.setPrivate(R,U))}),this._runSetup&&f.setup&&(this._runSetup=!1,f.setup(this))}_findStaticTemplate(f){if(this._template&&f(this._template))return this._template}_eachTemplate(f){this._findStaticTemplate(o=>(f(o),!1)),n.eachReverse(this._internalTemplates,f),n.each(this._templates,f)}_applyTemplates(f=!0){f&&this._disposeTemplates();const o={settings:{},privateSettings:{},states:{}};this._eachTemplate(R=>{this._applyTemplate(R,o)}),f&&(_.each(this._settings,R=>{this._userProperties[R]||o.settings[R]||super.remove(R)}),_.each(this._privateSettings,R=>{this._userPrivateProperties[R]||o.privateSettings[R]||super.removePrivate(R)}))}_findTemplate(f){const o=this._findStaticTemplate(f);if(void 0===o){const R=n.findReverse(this._internalTemplates,f);return void 0===R?n.find(this._templates,f):R}return o}_findTemplateByKey(f){return this._findTemplate(o=>f in o._settings)}_findTemplateByPrivateKey(f){return this._findTemplate(o=>f in o._privateSettings)}_disposeTemplates(){n.each(this._templateDisposers,f=>{f.dispose()}),this._templateDisposers.length=0}_removeTemplates(){n.each(this._templates,f=>{f._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(){let f=!1;const o=[];let R=[];const U=new Set,X=this.get("themeTagsSelf");return X&&n.each(X,tt=>{U.add(tt)}),this._walkParents(tt=>{tt===this._root._rootContainer&&(f=!0),tt._defaultThemes.length>0&&o.push(tt._defaultThemes);const pt=tt.get("themes");pt&&R.push(pt);const ot=tt.get("themeTags");ot&&n.each(ot,W=>{U.add(W)})}),R=o.concat(R),this._removeTemplates(),f&&n.eachReverse(this.classNames,tt=>{const pt=[];n.each(R,ot=>{n.each(ot,W=>{const K=W._lookupRules(tt);K&&n.eachReverse(K,gt=>{if(gt.tags.every(yt=>U.has(yt))){const yt=n.getFirstSortedIndex(pt,_t=>{const rt=D.qu(gt.tags.length,_t.tags.length);return 0===rt?D.wq(gt.tags,_t.tags,D.qu):rt});pt.splice(yt.index,0,gt)}})})}),n.each(pt,ot=>{this._templates.push(ot.template),ot.template._setObjectTemplate(this)})}),this._applyTemplates(),f&&(this._runSetup=!1),f}_changed(){}_beforeChanged(){if(this.isDirty("id")){const f=this.get("id");f&&this._registerId(f);const o=this._prevSettings.id;o&&delete h.i_.entitiesById[o]}}_registerId(f){if(h.i_.entitiesById[f]&&h.i_.entitiesById[f]!==this)throw new Error('An entity with id "'+f+'" already exists.');h.i_.entitiesById[f]=this}_afterChanged(){}addDisposer(f){return this._disposers.push(f),f}_dispose(){super._dispose();const f=this._template;f&&f._removeObjectTemplate(this),n.each(this._internalTemplates,R=>{R._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(R=>{R.dispose()}),_.each(this._disposerProperties,(R,U)=>{n.each(U,X=>{X.dispose()})});const o=this.get("id");o&&delete h.i_.entitiesById[o]}setTimeout(f,o){const R=setTimeout(()=>{this.removeDispose(U),f()},o),U=new p.ku(()=>{clearTimeout(R)});return this._disposers.push(U),U}removeDispose(f){if(!this.isDisposed()){let o=n.indexOf(this._disposers,f);o>-1&&this._disposers.splice(o,1)}f.dispose()}hasTag(f){return-1!==n.indexOf(this.get("themeTags",[]),f)}addTag(f){if(!this.hasTag(f)){const o=this.get("themeTags",[]);o.push(f),this.set("themeTags",o)}}removeTag(f){if(this.hasTag(f)){const o=this.get("themeTags",[]);n.remove(o,f),this.set("themeTags",o)}}_t(f,o,...R){return this._root.language.translate(f,o,...R)}get root(){return this._root}}Object.defineProperty(A,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(A,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]})},9770:function(F,N,a){"use strict";a.d(N,{p:function(){return _}});var p=a(7449),l=a(5071),d=a(5040);class _{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const x=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{l.each(x,I=>{I.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return 0!==this._listeners.length}hasListenersByType(x){return l.any(this._listeners,I=>(null===I.type||I.type===x)&&!I.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(x){delete this._disabled[x]}disableType(x,I=1/0){this._disabled[x]=I}_removeListener(x){if(0===this._iterating){const I=this._listeners.indexOf(x);if(-1===I)throw new Error("Invalid state: could not remove listener");this._listeners.splice(I,1)}else this._killed.push(x)}_removeExistingListener(x,I,h,n){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(D=>{D.once!==x||D.type!==I||void 0!==h&&D.callback!==h||D.context!==n||D.disposer.dispose()})}isEnabled(x){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(x)&&void 0===this._disabled[x]}removeType(x){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(I=>{I.type===x&&I.disposer.dispose()})}has(x,I,h){return-1!==l.findIndex(this._listeners,n=>!0!==n.once&&n.type===x&&(void 0===I||n.callback===I)&&n.context===h)}_shouldDispatch(x){if(this._disposed)throw new Error("EventDispatcher is disposed");const I=this._disabled[x];return d.isNumber(I)?(I<=1?delete this._disabled[x]:--this._disabled[x],!1):this._enabled}_eachListener(x){++this._iterating;try{l.each(this._listeners,x)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(l.each(this._killed,I=>{this._removeListener(I)}),this._killed.length=0)}}dispatch(x,I){this._shouldDispatch(x)&&this._eachListener(h=>{h.killed||null!==h.type&&h.type!==x||h.dispatch(x,I)})}_on(x,I,h,n,D,P){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(x,I,h,n);const E={type:I,callback:h,context:n,shouldClone:D,dispatch:P,killed:!1,once:x,disposer:new p.ku(()=>{E.killed=!0,this._removeListener(E)})};return this._listeners.push(E),E}onAll(x,I,h=!0){return this._on(!1,null,x,I,h,(n,D)=>x.call(I,D)).disposer}on(x,I,h,n=!0){return this._on(!1,x,I,h,n,(D,P)=>I.call(h,P)).disposer}once(x,I,h,n=!0){const D=this._on(!0,x,I,h,n,(P,E)=>{D.disposer.dispose(),I.call(h,E)});return D.disposer}off(x,I,h){this._removeExistingListener(!1,x,I,h)}copyFrom(x){if(this._disposed)throw new Error("EventDispatcher is disposed");if(x===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const I=[];return l.each(x._listeners,h=>{!h.killed&&h.shouldClone&&I.push(null===h.type?this.onAll(h.callback,h.context):h.once?this.once(h.type,h.callback,h.context):this.on(h.type,h.callback,h.context))}),new p.FV(I)}}},9821:function(F,N,a){"use strict";a.d(N,{v:function(){return l}});var p=a(6331);class l extends p.JH{}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.JH.classNames.concat([l.className])})},7144:function(F,N,a){"use strict";a.d(N,{aV:function(){return _},dn:function(){return w},o:function(){return x}});var p=a(9770),l=a(5071);function d(I,h){if(!(I>=0&&I<h))throw new Error("Index out of bounds: "+I)}class _{constructor(h=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new p.p}),this._values=h}get values(){return this._values}contains(h){return-1!==this._values.indexOf(h)}removeValue(h){let n=0,D=this._values.length;for(;n<D;)this._values[n]===h?(this.removeIndex(n),--D):++n}indexOf(h){return l.indexOf(this._values,h)}get length(){return this._values.length}hasIndex(h){return h>=0&&h<this._values.length}getIndex(h){return this._values[h]}_onPush(h){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:h})}_onInsertIndex(h,n){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:h,newValue:n})}_onSetIndex(h,n,D){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:h,oldValue:n,newValue:D})}_onRemoveIndex(h,n){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:h,oldValue:n})}_onMoveIndex(h,n,D){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:h,newIndex:n,value:D})}_onClear(h){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:h})}setIndex(h,n){d(h,this._values.length);const D=this._values[h];return D!==n&&(this._values[h]=n,this._onSetIndex(h,D,n)),D}insertIndex(h,n){return d(h,this._values.length+1),l.insertIndex(this._values,h,n),this._onInsertIndex(h,n),n}swap(h,n){const D=this._values.length;if(d(h,D),d(n,D),h!==n){const P=this._values[h],E=this._values[n];this._values[h]=E,this._onSetIndex(h,P,E),this._values[n]=P,this._onSetIndex(n,E,P)}}removeIndex(h){d(h,this._values.length);const n=this._values[h];return l.removeIndex(this._values,h),this._onRemoveIndex(h,n),n}moveValue(h,n){let D=this.indexOf(h);if(-1!==D)if(l.removeIndex(this._values,D),null==n){const P=this._values.length;this._values.push(h),this._onMoveIndex(D,P,h)}else l.insertIndex(this._values,n,h),this._onMoveIndex(D,n,h);else null==n?(this._values.push(h),this._onPush(h)):(l.insertIndex(this._values,n,h),this._onInsertIndex(n,h));return h}push(h){return this._values.push(h),this._onPush(h),h}unshift(h){return this.insertIndex(0,h),h}pushAll(h){l.each(h,n=>{this.push(n)})}copyFrom(h){this.pushAll(h._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(h){const n=this._values;this._values=[],this._onClear(n),l.each(h,D=>{this._values.push(D),this._onPush(D)})}clear(){this.setAll([])}*[Symbol.iterator](){const h=this._values.length;for(let n=0;n<h;++n)yield this._values[n]}each(h){l.each(this._values,h)}eachReverse(h){l.eachReverse(this._values,h)}}class w extends _{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(h,n,D){this.autoDispose&&n.dispose(),super._onSetIndex(h,n,D)}_onRemoveIndex(h,n){this.autoDispose&&n.dispose(),super._onRemoveIndex(h,n)}_onClear(h){this.autoDispose&&l.each(h,n=>{n.dispose()}),super._onClear(h)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.autoDispose&&l.each(this._values,h=>{h.dispose()}))}}class x extends w{constructor(h,n){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=h,this.make=n}}},751:function(F,N,a){"use strict";a.r(N),a.d(N,{DEGREES:function(){return w},HALFPI:function(){return d},PI:function(){return l},RADIANS:function(){return _},boundsOverlap:function(){return ot},ceil:function(){return I},closest:function(){return pt},cos:function(){return m},fitAngleToRange:function(){return o},fitToRange:function(){return D},getAngle:function(){return U},getArcBounds:function(){return A},getArcPoint:function(){return k},getCubicControlPointA:function(){return h},getCubicControlPointB:function(){return n},getPointOnLine:function(){return tt},getPointOnQuadraticCurve:function(){return X},inBounds:function(){return R},mergeBounds:function(){return f},normalizeAngle:function(){return C},round:function(){return x},sin:function(){return P},tan:function(){return E}});var p=a(5040);const l=Math.PI,d=l/2,_=l/180,w=180/l;function x(W,K,gt){if(!(0,p.isNumber)(K)||K<=0){let yt=Math.round(W);return gt&&yt-W==.5&&yt--,yt}{let yt=Math.pow(10,K);return Math.round(W*yt)/yt}}function I(W,K){if(!(0,p.isNumber)(K)||K<=0)return Math.ceil(W);{let gt=Math.pow(10,K);return Math.ceil(W*gt)/gt}}function h(W,K,gt,yt,_t){return{x:(K.x/yt-W.x+gt.x)*yt,y:(K.y/_t-W.y+gt.y)*_t}}function n(W,K,gt,yt,_t){return{x:(W.x+K.x/yt-gt.x)*yt,y:(W.y+K.y/_t-gt.y)*_t}}function D(W,K,gt){return Math.min(Math.max(W,K),gt)}function P(W){return Math.sin(_*W)}function E(W){return Math.tan(_*W)}function m(W){return Math.cos(_*W)}function C(W){return(W%=360)<0&&(W+=360),W}function A(W,K,gt,yt,_t){let rt=Number.MAX_VALUE,ut=Number.MAX_VALUE,at=-Number.MAX_VALUE,Ct=-Number.MAX_VALUE,vt=[];vt.push(k(_t,gt)),vt.push(k(_t,yt));let ct=Math.min(90*Math.floor(gt/90),90*Math.floor(yt/90)),Tt=Math.max(90*Math.ceil(gt/90),90*Math.ceil(yt/90));for(let kt=ct;kt<=Tt;kt+=90)kt>=gt&&kt<=yt&&vt.push(k(_t,kt));for(let kt=0;kt<vt.length;kt++){let Ft=vt[kt];Ft.x<rt&&(rt=Ft.x),Ft.y<ut&&(ut=Ft.y),Ft.x>at&&(at=Ft.x),Ft.y>Ct&&(Ct=Ft.y)}return{left:W+rt,top:K+ut,right:W+at,bottom:K+Ct}}function k(W,K){return{x:W*m(K),y:W*P(K)}}function f(W){const K=W.length;if(K>0){let gt=W[0],yt=gt.left,_t=gt.top,rt=gt.right,ut=gt.bottom;if(K>1)for(let at=1;at<K;at++)gt=W[at],yt=Math.min(gt.left,yt),rt=Math.max(gt.right,rt),_t=Math.min(gt.top,_t),ut=Math.max(gt.bottom,ut);return{left:yt,right:rt,top:_t,bottom:ut}}return{left:0,right:0,top:0,bottom:0}}function o(W,K,gt){if(K>gt){let _t=K;K=gt,gt=_t}W=C(W);let yt=(K-C(K))/360;return W<K&&(W+=360*(yt+1)),W>gt&&(W-360>K?W-=360:W=W<K+(gt-K)/2+180?gt:K),W<K&&(W=W>K+(gt-K)/2-180?K:gt),W}function R(W,K){return W.x>=K.left&&W.y>=K.top&&W.x<=K.right&&W.y<=K.bottom}function U(W,K){K||(K={x:2*W.x,y:2*W.y});let _t=Math.atan2(K.y-W.y,K.x-W.x)*w;return _t<0&&(_t+=360),C(_t)}function X(W,K,gt,yt){return{x:(1-yt)*(1-yt)*W.x+2*(1-yt)*yt*gt.x+yt*yt*K.x,y:(1-yt)*(1-yt)*W.y+2*(1-yt)*yt*gt.y+yt*yt*K.y}}function tt(W,K,gt){return{x:W.x+(K.x-W.x)*gt,y:W.y+(K.y-W.y)*gt}}function pt(W,K){return W.reduce(function(gt,yt){return Math.abs(yt-K)<Math.abs(gt-K)?yt:gt})}function ot(W,K){return!(W.bottom<K.top||K.bottom<W.top||W.right<K.left||K.right<W.left)}},8219:function(F,N,a){"use strict";a.d(N,{u:function(){return w}});var p=a(6331),l=a(7652),d=a(7449);let _;class w extends p.JH{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),function(E,m,C){const A=m.interfaceColors,k=A.get("secondaryButton").toCSS(),f=A.get("text").toCSS(),o=A.get("alternativeBackground").toCSS(.45);if(!_){const R=new d.FV([new l.StyleRule(E,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"}),new l.StyleRule(E,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:A.get("background").toCSS(.5),"z-index":"100"}),new l.StyleRule(E,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:A.get("background").toCSS(.5),"z-index":"101"}),new l.StyleRule(E,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"}),new l.StyleRule(E,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"left","white-space":"normal",background:A.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+o,"box-shadow":"0px 0px 36px 0px "+o,color:f}),new l.StyleRule(E,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"}),new l.StyleRule(E,".am5-modal-table",{display:"table",margin:"1em 0"}),new l.StyleRule(E,".am5-modal-table-row",{display:"table-row"}),new l.StyleRule(E,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"}),new l.StyleRule(E,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"}),new l.StyleRule(E,".am5-modal-table-cell > *",{"vertical-align":"middle"}),new l.StyleRule(E,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+k,"border-radius":"4px",padding:"3px 5px",margin:"2px"}),new l.StyleRule(E,".am5-modal-input-narrow",{width:"50px"}),new l.StyleRule(E,".am5-modal-button",{"font-weight":"400",color:A.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+A.get("secondaryButtonStroke").toCSS(),background:A.get("secondaryButton").toCSS()}),new l.StyleRule(E,".am5-modal-button:hover",{background:A.get("secondaryButtonHover").toCSS()}),new l.StyleRule(E,".am5-modal-button.am5-modal-primary",{color:A.get("primaryButtonText").toCSS(),border:"1px solid "+A.get("primaryButtonStroke").toCSS(),background:A.get("primaryButton").toCSS()}),new l.StyleRule(E,".am5-modal-button.am5-modal-primary:hover",{background:A.get("primaryButtonHover").toCSS()})]);_=new d.DM(()=>{_=void 0,R.dispose()})}_.increment()}(l.getShadowRoot(this._root.dom),this._root);const I=document.createElement("div");I.className="am5-modal",I.style.display="none",this.root._inner.appendChild(I),this.setPrivate("container",I);const h=document.createElement("div");h.className="am5-modal-curtain",I.appendChild(h),this.setPrivate("curtain",h),l.addEventListener(h,"click",()=>{this.cancel()});const n=document.createElement("div");n.className="am5-modal-wrapper",I.appendChild(n),this.setPrivate("wrapper",n);const D=document.createElement("div");D.className="am5-modal-content",n.appendChild(D),this.setPrivate("content",D);const P=this.get("content");P&&(D.innerHTML=P),l.supports("keyboardevents")&&this._disposers.push(l.addEventListener(document,"keydown",E=>{this.isOpen()&&27==E.keyCode&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return"none"!=this.getPrivate("container").style.display}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}dispose(){super.dispose(),this.root.dom.removeChild(this.getPrivate("container"))}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.JH.classNames.concat([w.className])})},780:function(F,N,a){"use strict";a.d(N,{e:function(){return x}});var p=a(6331),l=a(7255),d=a(256),_=a(7652),w=a(5040);class x extends p.JH{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const h="_big_number_suffix_",n="_small_number_suffix_",D="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(h+"3")},{number:1e6,suffix:this._t(h+"6")},{number:1e9,suffix:this._t(h+"9")},{number:1e12,suffix:this._t(h+"12")},{number:1e15,suffix:this._t(h+"15")},{number:1e18,suffix:this._t(h+"18")},{number:1e21,suffix:this._t(h+"21")},{number:1e24,suffix:this._t(h+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(n+"24")},{number:1e-21,suffix:this._t(n+"21")},{number:1e-18,suffix:this._t(n+"18")},{number:1e-15,suffix:this._t(n+"15")},{number:1e-12,suffix:this._t(n+"12")},{number:1e-9,suffix:this._t(n+"9")},{number:1e-6,suffix:this._t(n+"6")},{number:.001,suffix:this._t(n+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(D+"B")},{number:1024,suffix:this._t(D+"KB")},{number:1048576,suffix:this._t(D+"MB")},{number:1073741824,suffix:this._t(D+"GB")},{number:1099511627776,suffix:this._t(D+"TB")},{number:0x4000000000000,suffix:this._t(D+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(h,n,D){let P;(null==n||w.isString(n)&&"number"===n.toLowerCase())&&(n=this.get("numberFormat",""));let E=Number(h);if(w.isObject(n))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),n).format(E):new Intl.NumberFormat(void 0,n).format(E)}catch{return"Invalid"}else{n=_.cleanFormat(n);let m,C=this.parseFormat(n,this._root.language);m=E>this.get("negativeBase")?C.positive:E<this.get("negativeBase")?C.negative:C.zero,null==D||m.mod||(m=d.copy(m),m.decimals.active=0==E?0:D),P=m.template.split(w.PLACEHOLDER).join(this.applyFormat(E,m))}return P}parseFormat(h,n){const D=n.translateEmpty("_thousandSeparator"),P=n.translateEmpty("_decimalSeparator");let E={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:D},decimals:{active:-1,passive:-1,separator:P},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:D},decimals:{active:-1,passive:-1,separator:P},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:D},decimals:{active:-1,passive:-1,separator:P},template:"",source:"",parsed:!1}},m=(h=h.replace("||",w.PLACEHOLDER2)).split("|");return E.positive.source=m[0],void 0===m[2]?E.zero=E.positive:E.zero.source=m[2],void 0===m[1]?E.negative=E.positive:E.negative.source=m[1],d.each(E,(C,A)=>{if(A.parsed)return;let k=A.source;"number"===k.toLowerCase()&&(k=this.get("numberFormat","#,###.#####"));let f=l.V.chunk(k,!0);for(let o=0;o<f.length;o++){let R=f[o];if(R.text=R.text.replace(w.PLACEHOLDER2,"|"),"value"===R.type){let U=R.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP\xe2\u20ac\xb0!]?/);if(U)if(null===U||""===U[0])A.template+=R.text;else{let X=U[0].match(/[abespABESP%\xe2\u20ac\xb0!]{2}|[abespABESP%\xe2\u20ac\xb0]{1}$/);X&&(A.mod=X[0].toLowerCase(),A.modSpacing=!!U[0].match(/[ ]{1}[abespABESP%\xe2\u20ac\xb0!]{1}$/));let tt=U[0].split(".");if(""!==tt[0]){A.thousands.active=(tt[0].match(/0/g)||[]).length,A.thousands.passive=(tt[0].match(/\#/g)||[]).length+A.thousands.active;let pt=tt[0].split(",");1===pt.length||(A.thousands.interval=(pt.pop()||"").length,0===A.thousands.interval&&(A.thousands.interval=-1))}void 0===tt[1]||(A.decimals.active=(tt[1].match(/0/g)||[]).length,A.decimals.passive=(tt[1].match(/\#/g)||[]).length+A.decimals.active),A.template+=R.text.split(U[0]).join(w.PLACEHOLDER)}}else A.template+=R.text}A.parsed=!0}),E}applyFormat(h,n){let D=h<0;h=Math.abs(h);let P="",E="",m=n.mod?n.mod.split(""):[];if(-1!==m.indexOf("b")){let o=this.applyPrefix(h,this.get("bytePrefixes"),-1!==m.indexOf("!"));h=o[0],P=o[1],E=o[2],n.modSpacing&&(E=" "+E)}else if(-1!==m.indexOf("a")){let o=this.applyPrefix(h,h<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),-1!==m.indexOf("!"));h=o[0],P=o[1],E=o[2],n.modSpacing&&(E=" "+E)}else if(-1!==m.indexOf("p")){let o=Math.min(h.toString().length+2,21);h=parseFloat(h.toPrecision(o)),P=this._root.language.translate("_percentPrefix"),E=this._root.language.translate("_percentSuffix"),""==P&&""==E&&(E="%")}else if(-1!==m.indexOf("%")){let o=Math.min(h.toString().length+2,21);h*=100,h=parseFloat(h.toPrecision(o)),E="%"}else if(-1!==m.indexOf("\xe2\u20ac\xb0")){let o=Math.min(h.toString().length+3,21);h*=1e3,h=parseFloat(h.toPrecision(o)),E="\xe2\u20ac\xb0"}if(-1!==m.indexOf("e")){let o;o=n.decimals.passive>=0?h.toExponential(n.decimals.passive).split("e"):h.toExponential().split("e"),h=Number(o[0]),E="e"+o[1],n.modSpacing&&(E=" "+E)}else if(0===n.decimals.passive)h=Math.round(h);else if(n.decimals.passive>0){let o=Math.pow(10,n.decimals.passive);h=Math.round(h*o)/o}let C="",A=w.numberToString(h).split("."),k=A[0];if(k.length<n.thousands.active&&(k=Array(n.thousands.active-k.length+1).join("0")+k),n.thousands.interval>0){let o=[],R=k.split("").reverse().join("");for(let U=0,X=k.length;U<=X;U+=n.thousands.interval){let tt=R.substr(U,n.thousands.interval).split("").reverse().join("");""!==tt&&o.unshift(tt)}k=o.join(n.thousands.separator)}C+=k,1===A.length&&A.push("");let f=A[1];return f.length<n.decimals.active&&(f+=Array(n.decimals.active-f.length+1).join("0")),""!==f&&(C+=n.decimals.separator+f),""===C&&(C="0"),0!==h&&D&&-1===m.indexOf("s")&&(C="-"+C),P&&(C=P+C),E&&(C+=E),C}applyPrefix(h,n,D=!1){let P=h,E="",m="",C=!1,A=1;for(let k=0,f=n.length;k<f;k++)n[k].number<=h&&(0===n[k].number?P=0:(P=h/n[k].number,A=n[k].number),E=n[k].prefix,m=n[k].suffix,C=!0);return!C&&D&&n.length&&0!=h&&(P=h/n[0].number,E=n[0].prefix,m=n[0].suffix,C=!0),C&&(P=parseFloat(P.toPrecision(Math.min(A.toString().length+Math.floor(P).toString().replace(/[^0-9]*/g,"").length,21)))),[P,E,m]}escape(h){return h.replace("||",w.PLACEHOLDER2)}unescape(h){return h.replace(w.PLACEHOLDER2,"|")}}},256:function(F,N,a){"use strict";a.r(N),a.d(N,{copy:function(){return _},each:function(){return w},eachContinue:function(){return x},eachOrdered:function(){return I},hasKey:function(){return h},keys:function(){return l},keysOrdered:function(){return d},softCopyProperties:function(){return n}});var p=a(5071);function l(D){return Object.keys(D)}function d(D,P){return l(D).sort(P)}function _(D){return Object.assign({},D)}function w(D,P){l(D).forEach(E=>{P(E,D[E])})}function x(D,P){for(let E in D)if(h(D,E)&&!P(E,D[E]))break}function I(D,P,E){p.each(d(D,E),m=>{P(m,D[m])})}function h(D,P){return{}.hasOwnProperty.call(D,P)}function n(D,P){return w(D,(E,m)=>{null!=m&&null==P[E]&&(P[E]=m)}),P}},3540:function(F,N,a){"use strict";function p(_,w){return _===w?0:_<w?-1:1}function l(_,w,x){const I=_.length,h=w.length,n=Math.min(I,h);for(let D=0;D<n;++D){const P=x(_[D],w[D]);if(0!==P)return P}return p(I,h)}function d(_,w){return _===w?0:_<w?-1:1}a.d(N,{HO:function(){return d},qu:function(){return p},wq:function(){return l}})},6245:function(F,N,a){"use strict";a.d(N,{AQ:function(){return _},CI:function(){return w},aQ:function(){return l},gG:function(){return p},p0:function(){return d}});class p{constructor(I){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=I}get value(){return this._value/100}get percent(){return this._value}toString(){return this._value+"%"}interpolate(I,h){return I+this.value*(h-I)}static normalize(I,h,n){return I instanceof p?I:new p(h===n?0:100*Math.min(Math.max(1/(n-h)*(I-h),0),1))}}function l(x){return new p(x)}const d=l(0),_=l(100),w=l(50)},2132:function(F,N,a){"use strict";a.d(N,{q:function(){return w}});var p=a(5040),l=a(7652),d=a(4596),_=a(7255);function w(n,D){if(null!=D){let P,E=(D=_.V.escape(D=""+D)).match(/\{([^}]+)\}/g);if(E)for(P=0;P<E.length;P++){let m=x(n,E[P].replace(/\{([^}]+)\}/,"$1"),"");null==m&&(m=""),D=D.split(E[P]).join(m)}D=_.V.unescape(D)}else D="";return D}function x(n,D,P){let E;const m=n.dataItem;let C,A=[],k=/([^.]+)\(([^)]*)\)|([^.]+)/g;for(;C=k.exec(D),null!==C;)if(C[3]){A.push({prop:C[3]});const f=n.getDateFormatter().get("dateFields",[]),o=n.getNumberFormatter().get("numericFields",[]),R=n.getDurationFormatter().get("durationFields",[]);-1!==f.indexOf(C[3])?A.push({method:"formatDate",params:[]}):-1!==o.indexOf(C[3])?A.push({method:"formatNumber",params:[]}):-1!==R.indexOf(C[3])&&A.push({method:"formatDuration",params:[]})}else{let f=[];if(""!=l.trim(C[2])){let o,R=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g;for(;o=R.exec(C[2]),null!==o;)f.push(o[1]||o[2]||o[3])}A.push({method:C[1],params:f})}if(m){E=h(n,A,m._settings),(null==E||p.isObject(E))&&(E=h(n,A,m));let f=m.dataContext;null==E&&f&&(E=h(n,A,f),null==E&&(E=h(n,[{prop:D}],f)),null==E&&f.dataContext&&(E=h(n,A,f.dataContext))),null==E&&m.component&&m.component.dataItem!==m&&(E=x(m.component,D,P))}return null==E&&(E=h(n,A,n)),null==E&&n.parent&&(E=x(n.parent,D,P)),E}function I(n,D){const P=n.getPrivate("customData");if(p.isObject(P))return P[D]}function h(n,D,P,E){let m=P,C=!1;for(let A=0,k=D.length;A<k;A++){let f=D[A];if(f.prop){if(m instanceof d.j){let o=m.get(f.prop);null==o&&(o=m.getPrivate(f.prop)),null==o&&(o=I(m,f.prop)),null==o&&(o=m[f.prop]),m=o}else if(m.get){let o=m.get(f.prop);null==o&&(o=m[f.prop]),m=o}else m=m[f.prop];if(null==m)return}else switch(f.method){case"formatNumber":let o=p.toNumber(m);null!=o&&(m=n.getNumberFormatter().format(o,E||f.params[0]||void 0),C=!0);break;case"formatDate":let R=p.toDate(m);if(!p.isDate(R)||p.isNaN(R.getTime()))return;null!=R&&(m=n.getDateFormatter().format(R,E||f.params[0]||void 0),C=!0);break;case"formatDuration":let U=p.toNumber(m);null!=U&&(m=n.getDurationFormatter().format(U,E||f.params[0]||void 0,f.params[1]||void 0),C=!0);break;case"urlEncode":case"encodeURIComponent":m=encodeURIComponent(m);break;default:m[f.method]&&m[f.method].apply(P,f.params)}}if(!C){let A=[{method:"",params:E}];if(null==E)p.isNumber(m)?(A[0].method="formatNumber",A[0].params=""):p.isDate(m)&&(A[0].method="formatDate",A[0].params="");else{let k=l.getFormat(E);"number"===k?A[0].method="formatNumber":"date"===k?A[0].method="formatDate":"duration"===k&&(A[0].method="formatDuration")}A[0].method&&(m=h(n,A,m))}return m}},5769:function(F,N,a){"use strict";a.d(N,{YS:function(){return h}});var p=a(9770),l=a(7449),d=a(5071),_=a(256);class w{constructor(D,P,E){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=D,this._template=P,this._settings=E}get(D,P){const E=this._settings[D];return void 0!==E?E:P}set(D,P){this._settings[D]=P,this._template._stateChanged(this._name)}remove(D){delete this._settings[D],this._template._stateChanged(this._name)}setAll(D){_.keys(D).forEach(P=>{this._settings[P]=D[P]}),this._template._stateChanged(this._name)}_apply(D,P){_.each(this._settings,(E,m)=>{P[E]||D._userSettings[E]||(P[E]=!0,D.setRaw(E,m))})}}class x{constructor(D){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=D}lookup(D){return this._states[D]}create(D,P){const E=this._states[D];if(E)return E.setAll(P),E;{const m=new w(D,this._template,P);return this._states[D]=m,this._template._stateChanged(D),m}}remove(D){delete this._states[D],this._template._stateChanged(D)}_apply(D,P){_.each(this._states,(E,m)=>{let C=P.states[E];null==C&&(C=P.states[E]={});const A=D.states.create(E,{});m._apply(A,C)})}}class I{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(D,P){let E=this._callbacks[D];return void 0===E&&(E=this._callbacks[D]=[]),E.push(P),new l.ku(()=>{d.removeFirst(E,P),0===E.length&&delete this._callbacks[D]})}remove(D){void 0!==this._callbacks[D]&&delete this._callbacks[D]}_apply(D){const P=[];return _.each(this._callbacks,(E,m)=>{d.each(m,C=>{P.push(D.adapters.add(E,C))})}),new l.FV(P)}}class h{constructor(D,P){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new x(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new I}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new p.p}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!P)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=D}static new(D){return new h(D,!0)}get(D,P){const E=this._settings[D];return void 0!==E?E:P}setRaw(D,P){this._settings[D]=P}set(D,P){this._settings[D]!==P&&(this.setRaw(D,P),this._entities.forEach(E=>{E._setTemplateProperty(this,D,P)}))}remove(D){D in this._settings&&(delete this._settings[D],this._entities.forEach(P=>{P._removeTemplateProperty(D)}))}removeAll(){_.each(this._settings,(D,P)=>{this.remove(D)})}getPrivate(D,P){const E=this._privateSettings[D];return void 0!==E?E:P}setPrivateRaw(D,P){return this._privateSettings[D]=P,P}setPrivate(D,P){return this._privateSettings[D]!==P&&(this.setPrivateRaw(D,P),this._entities.forEach(E=>{E._setTemplatePrivateProperty(this,D,P)})),P}removePrivate(D){D in this._privateSettings&&(delete this._privateSettings[D],this._entities.forEach(P=>{P._removeTemplatePrivateProperty(D)}))}setAll(D){_.each(D,(P,E)=>{this.set(P,E)})}on(D,P){let E=this._settingEvents[D];return void 0===E&&(E=this._settingEvents[D]=[]),E.push(P),new l.ku(()=>{d.removeFirst(E,P),0===E.length&&delete this._settingEvents[D]})}onPrivate(D,P){let E=this._privateSettingEvents[D];return void 0===E&&(E=this._privateSettingEvents[D]=[]),E.push(P),new l.ku(()=>{d.removeFirst(E,P),0===E.length&&delete this._privateSettingEvents[D]})}_apply(D,P){const E=[];return _.each(this._settingEvents,(m,C)=>{d.each(C,A=>{E.push(D.on(m,A))})}),_.each(this._privateSettingEvents,(m,C)=>{d.each(C,A=>{E.push(D.onPrivate(m,A))})}),this.states._apply(D,P),E.push(this.adapters._apply(D)),E.push(D.events.copyFrom(this.events)),new l.FV(E)}_setObjectTemplate(D){this._entities.push(D)}_removeObjectTemplate(D){d.remove(this._entities,D)}_stateChanged(D){this._entities.forEach(P=>{P._applyStateByKey(D)})}}},7255:function(F,N,a){"use strict";a.d(N,{V:function(){return d}});var p=a(1112),l=a(5040);class d{static escape(w){return w.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(w){return w.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(w){return w.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(w,x=!1,I=!1){let h=[];w=this.escape(w);let n=x?w.split("'"):[w];for(let D=0;D<n.length;D++){let P=n[D];if(""!==P)if(D%2==0){P=P.replace(/\]\[/g,"]"+l.PLACEHOLDER+"["),P=P.replace(/\[\]/g,"[ ]");let E=P.split(/[\[\]]+/);for(let m=0;m<E.length;m++){let C=this.cleanUp(this.unescape(E[m]));C!==l.PLACEHOLDER&&""!==C&&h.push(m%2==0?{type:"value",text:C}:{type:I?"value":"format",text:"["+C+"]"})}}else{let E=P.split(/[\[\]]+/);for(let m=0;m<E.length;m++){let C=this.cleanUp(this.unescape(E[m]));""!==C&&(m%2==0?h.push({type:"text",text:C}):this.isImage(C)?h.push({type:"image",text:"["+C+"]"}):h.push({type:"format",text:"["+C+"]"}))}}}return h}static isImage(w){return!!w.match(/img[ ]?:/)}static getTextStyle(w){let x={};if(""==w||"[ ]"==w)return{};const I=w.match(/('[^']*')|("[^"]*")/gi);if(I)for(let n=0;n<I.length;n++)w=w.replace(I[n],I[n].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let h=w.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!h)return{};for(let n=0;n<h.length;n++)if(h[n].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))x.fontWeight=h[n];else if(h[n].match(/^(underline|line-through)$/i))x.textDecoration=h[n];else if("/"!=h[n])if(h[n].match(/:/)){const D=h[n].replace("+"," ").split(/:[ ]*/);x[D[0]]=D[1]}else x.fill=p.Il.fromString(h[n]);return x}}Object.defineProperty(d,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"})},1926:function(F,N,a){"use strict";a.r(N),a.d(N,{add:function(){return m},checkChange:function(){return E},chooseInterval:function(){return A},copy:function(){return P},getDateIntervalDuration:function(){return h},getDuration:function(){return x},getIntervalDuration:function(){return I},getNextUnit:function(){return w},getTime:function(){return D},getUnitValue:function(){return k},now:function(){return n},round:function(){return C},sleep:function(){return d},timeUnitDurations:function(){return _}});var p=a(5040),l=a(7652);function d(f){return new Promise((o,R)=>{setTimeout(o,f)})}let _={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function w(f){switch(f){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function x(f,o){return null==o&&(o=1),_[f]*o}function I(f){return f?_[f.timeUnit]*f.count:0}function h(f,o,R,U,X){const tt=f.timeUnit,pt=f.count;if("hour"==tt||"minute"==tt||"second"==tt||"millisecond"==tt)return _[f.timeUnit]*f.count;{const ot=C(new Date(o.getTime()),tt,pt,R,U,void 0,X).getTime();let W=ot+pt*x(tt)*1.05;return W=C(new Date(W),tt,1,R,U,void 0,X).getTime(),W-ot}}function n(){return new Date}function D(){return n().getTime()}function P(f){return new Date(f.getTime())}function E(f,o,R,U,X){if(o-f>x(R,1.2))return!0;let tt=new Date(f),pt=new Date(o);X&&(tt=X.convertLocal(tt),pt=X.convertLocal(pt));let ot=0,W=0;U||"millisecond"==R||(ot=tt.getTimezoneOffset(),tt.setUTCMinutes(tt.getUTCMinutes()-ot),W=pt.getTimezoneOffset(),pt.setUTCMinutes(pt.getUTCMinutes()-W));let K=!1;switch(R){case"year":tt.getUTCFullYear()!=pt.getUTCFullYear()&&(K=!0);break;case"month":(tt.getUTCFullYear()!=pt.getUTCFullYear()||tt.getUTCMonth()!=pt.getUTCMonth())&&(K=!0);break;case"day":(tt.getUTCMonth()!=pt.getUTCMonth()||tt.getUTCDate()!=pt.getUTCDate())&&(K=!0);break;case"hour":tt.getUTCHours()!=pt.getUTCHours()&&(K=!0);break;case"minute":tt.getUTCMinutes()!=pt.getUTCMinutes()&&(K=!0);break;case"second":tt.getUTCSeconds()!=pt.getUTCSeconds()&&(K=!0);break;case"millisecond":tt.getTime()!=pt.getTime()&&(K=!0)}if(K)return K;let gt=w(R);return!!gt&&E(f,o,gt,U,X)}function m(f,o,R,U,X){let tt=0;switch(U||"millisecond"==o||(tt=f.getTimezoneOffset(),X&&(tt-=X.offsetUTC(f)),f.setUTCMinutes(f.getUTCMinutes()-tt)),o){case"day":let pt=f.getUTCDate();f.setUTCDate(pt+R);break;case"second":let ot=f.getUTCSeconds();f.setUTCSeconds(ot+R);break;case"millisecond":let W=f.getUTCMilliseconds();f.setUTCMilliseconds(W+R);break;case"hour":let K=f.getUTCHours();f.setUTCHours(K+R);break;case"minute":let gt=f.getUTCMinutes();f.setUTCMinutes(gt+R);break;case"year":let yt=f.getUTCFullYear();f.setUTCFullYear(yt+R);break;case"month":let _t=f.getUTCMonth();f.setUTCMonth(_t+R);break;case"week":let rt=f.getUTCDate();f.setUTCDate(rt+7*R)}if(!U&&"millisecond"!=o&&(f.setUTCMinutes(f.getUTCMinutes()+tt),"day"==o||"week"==o||"month"==o||"year"==o)){let pt=f.getTimezoneOffset();if(X&&(pt+=X.offsetUTC(f)),pt!=tt){let ot=pt-tt;f.setUTCMinutes(f.getUTCMinutes()+ot),f.getTimezoneOffset()!=pt&&f.setUTCMinutes(f.getUTCMinutes()-ot)}}return f}function C(f,o,R,U,X,tt,pt){if(!pt||X){let ot=0;switch(X||"millisecond"==o||(ot=f.getTimezoneOffset(),f.setUTCMinutes(f.getUTCMinutes()-ot)),o){case"day":let W=f.getUTCDate();if(R>1){if(tt){tt=C(tt,"day",1);let vt=f.getTime()-tt.getTime(),ct=Math.floor(vt/x("day")/R),Tt=x("day",ct*R);f.setTime(tt.getTime()+Tt-ot*x("minute"))}}else f.setUTCDate(W);f.setUTCHours(0,0,0,0);break;case"second":let K=f.getUTCSeconds();R>1&&(K=Math.floor(K/R)*R),f.setUTCSeconds(K,0);break;case"millisecond":if(1==R)return f;let gt=f.getUTCMilliseconds();gt=Math.floor(gt/R)*R,f.setUTCMilliseconds(gt);break;case"hour":let yt=f.getUTCHours();R>1&&(yt=Math.floor(yt/R)*R),f.setUTCHours(yt,0,0,0);break;case"minute":let _t=f.getUTCMinutes();R>1&&(_t=Math.floor(_t/R)*R),f.setUTCMinutes(_t,0,0);break;case"month":let rt=f.getUTCMonth();R>1&&(rt=Math.floor(rt/R)*R),f.setUTCMonth(rt,1),f.setUTCHours(0,0,0,0);break;case"year":let ut=f.getUTCFullYear();R>1&&(ut=Math.floor(ut/R)*R),f.setUTCFullYear(ut,0,1),f.setUTCHours(0,0,0,0);break;case"week":let at=f.getUTCDate(),Ct=f.getUTCDay();p.isNumber(U)||(U=1),at=Ct>=U?at-Ct+U:at-(7+Ct)+U,f.setUTCDate(at),f.setUTCHours(0,0,0,0)}if(!X&&"millisecond"!=o&&(f.setUTCMinutes(f.getUTCMinutes()+ot),"day"==o||"week"==o||"month"==o||"year"==o)){let W=f.getTimezoneOffset();if(W!=ot){let K=W-ot;f.setUTCMinutes(f.getUTCMinutes()+K)}}return f}{if(isNaN(f.getTime()))return f;let ot=pt.offsetUTC(f),W=f.getTimezoneOffset(),K=pt.parseDate(f),gt=K.year,yt=K.month,_t=K.day,rt=K.hour,ut=K.minute,at=K.second,Ct=K.millisecond,vt=K.weekday;switch(o){case"day":if(R>1&&tt){tt=C(tt,"day",1,U,X,void 0,pt);let Tt=f.getTime()-tt.getTime(),kt=Math.floor(Tt/x("day")/R),Ft=x("day",kt*R);f.setTime(tt.getTime()+Ft),K=pt.parseDate(f),gt=K.year,yt=K.month,_t=K.day}rt=0,ut=ot-W,at=0,Ct=0;break;case"second":ut+=ot-W,R>1&&(at=Math.floor(at/R)*R),Ct=0;break;case"millisecond":ut+=ot-W,R>1&&(Ct=Math.floor(Ct/R)*R);break;case"hour":R>1&&(rt=Math.floor(rt/R)*R),ut=ot-W,at=0,Ct=0;break;case"minute":R>1&&(ut=Math.floor(ut/R)*R),ut+=ot-W,at=0,Ct=0;break;case"month":R>1&&(yt=Math.floor(yt/R)*R),_t=1,rt=0,ut=ot-W,at=0,Ct=0;break;case"year":R>1&&(gt=Math.floor(gt/R)*R),yt=0,_t=1,rt=0,ut=ot-W,at=0,Ct=0;break;case"week":p.isNumber(U)||(U=1),_t=vt>=U?_t-vt+U:_t-(7+vt)+U,rt=0,ut=ot-W,at=0,Ct=0}let ct=(f=new Date(gt,yt,_t,rt,ut,at,Ct)).getTimezoneOffset();return ct!=W&&f.setTime(f.getTime()+6e4*(W-ct)),f}}function A(f,o,R,U){let X=I(U[f]),tt=U.length-1;if(f>=tt)return Object.assign({},U[tt]);let pt=Math.ceil(o/X);return o<X&&f>0?Object.assign({},U[f-1]):pt<=R?Object.assign({},U[f]):f+1<U.length?A(f+1,o,R,U):Object.assign({},U[f])}function k(f,o){switch(o){case"day":return f.getDate();case"second":return f.getSeconds();case"millisecond":return f.getMilliseconds();case"hour":return f.getHours();case"minute":return f.getMinutes();case"month":return f.getMonth();case"year":return f.getFullYear();case"week":return l.getWeek(f)}}},462:function(F,N,a){"use strict";function p(_,w){let x=0,I=0,h=1,n=0,D=0,P=0,E=0,m=0;return _.formatToParts(w).forEach(C=>{switch(C.type){case"year":x=+C.value;break;case"month":I=+C.value-1;break;case"day":h=+C.value;break;case"hour":n=+C.value;break;case"minute":D=+C.value;break;case"second":P=+C.value;break;case"fractionalSecond":E=+C.value;break;case"weekday":switch(C.value){case"Sun":m=0;break;case"Mon":m=1;break;case"Tue":m=2;break;case"Wed":m=3;break;case"Thu":m=4;break;case"Fri":m=5;break;case"Sat":m=6}}}),24===n&&(n=0),{year:x,month:I,day:h,hour:n,minute:D,second:P,millisecond:E,weekday:m}}function l(_,w){const{year:x,month:I,day:h,hour:n,minute:D,second:P,millisecond:E}=p(_,w);return Date.UTC(x,I,h,n,D,P,E)}a.d(N,{r:function(){return d}});class d{constructor(w,x){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!x)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=w,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:w,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(w){return new this(w,!0)}convertLocal(w){const x=this.offsetUTC(w),I=w.getTimezoneOffset(),h=new Date(w);h.setUTCMinutes(h.getUTCMinutes()-(x-I));const n=h.getTimezoneOffset();return I!=n&&h.setUTCMinutes(h.getUTCMinutes()+n-I),h}offsetUTC(w){return(l(this._utc,w)-l(this._dtf,w))/6e4}parseDate(w){return p(this._dtf,w)}}},5040:function(F,N,a){"use strict";function p(C){return Number(C)!==C}function l(C){return{}.toString.call(C)}function d(C){if(null!=C&&!n(C)){let A=Number(C);return p(A)&&h(C)&&""!=C?d(C.replace(/[^0-9.\-]+/g,"")):A}return C}function _(C){if(I(C))return new Date(C);if(n(C))return new Date(C);{let A=Number(C);return n(A)?new Date(A):new Date(C)}}function w(C){if(p(C))return"NaN";if(C===1/0)return"Infinity";if(C===-1/0)return"-Infinity";if(0===C&&1/C==-1/0)return"-0";let A=C<0;C=Math.abs(C);let k,f=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+C),o=f[1],R=f[2]||"";if(void 0===f[3])k=""===R?o:o+"."+R;else{let U=+f[3];if(C<1)k="0."+x("0",U-1)+o+R;else{let X=U-R.length;k=0===X?o+R:X<0?o+R.slice(0,X)+"."+R.slice(X):o+R+x("0",X)}}return A?"-"+k:k}function x(C,A){return new Array(A+1).join(C)}function I(C){return"[object Date]"===l(C)}function h(C){return"string"==typeof C}function n(C){return"number"==typeof C&&Number(C)==C}function D(C){return"object"==typeof C&&null!==C}function P(C){return Array.isArray(C)}a.r(N),a.d(N,{PLACEHOLDER:function(){return E},PLACEHOLDER2:function(){return m},getType:function(){return l},isArray:function(){return P},isDate:function(){return I},isNaN:function(){return p},isNumber:function(){return n},isObject:function(){return D},isString:function(){return h},numberToString:function(){return w},repeat:function(){return x},toDate:function(){return _},toNumber:function(){return d}});const E="__\xc2\xa7\xc2\xa7\xc2\xa7__",m="__\xc2\xa7\xc2\xa7\xc2\xa7\xc2\xa7__"},7652:function(F,N,a){"use strict";a.r(N),a.d(N,{StyleRule:function(){return tt},StyleSheet:function(){return pt},addClass:function(){return ot},addEventListener:function(){return I},addSpacing:function(){return Ot},alternativeColor:function(){return ti},blur:function(){return P},brighten:function(){return Ai},capitalizeFirst:function(){return se},cleanFormat:function(){return ct},contains:function(){return f},decimalPlaces:function(){return _t},escapeForRgex:function(){return Ft},focus:function(){return E},get12Hours:function(){return Nt},getBrightnessStep:function(){return gi},getDayFromWeek:function(){return Jt},getFormat:function(){return vt},getLightnessStep:function(){return Ve},getMonthWeek:function(){return ne},getPointerId:function(){return D},getRendererEvent:function(){return m},getSafeResolution:function(){return gt},getShadowRoot:function(){return U},getStyle:function(){return k},getTimeZone:function(){return Rt},getTimezoneOffset:function(){return ie},getWeek:function(){return $t},getWeekYear:function(){return Wt},getYearDay:function(){return jt},hslToRgb:function(){return ce},iOS:function(){return K},isLight:function(){return pi},isLocalEvent:function(){return o},isTouchEvent:function(){return C},lighten:function(){return Ie},mergeTags:function(){return Ti},onZoom:function(){return h},padString:function(){return rt},plainText:function(){return kt},ready:function(){return w},relativeToValue:function(){return yt},removeClass:function(){return W},removeElement:function(){return x},rgbToHsl:function(){return te},sameBounds:function(){return xi},saturate:function(){return Ri},setInteractive:function(){return R},setStyle:function(){return A},stripTags:function(){return Tt},supports:function(){return n},trim:function(){return Ct},trimLeft:function(){return ut},trimRight:function(){return at}});var p=a(5040),l=a(5071),d=a(256),_=a(7449);function w(be){if("loading"!==document.readyState)be();else{const ii=()=>{"loading"!==document.readyState&&(document.removeEventListener("readystatechange",ii),be())};document.addEventListener("readystatechange",ii)}}function x(be){be.parentNode&&be.parentNode.removeChild(be)}function I(be,ii,nt,St){return be.addEventListener(ii,nt,St||!1),new _.ku(()=>{be.removeEventListener(ii,nt,St||!1)})}function h(be){return I(window,"resize",ii=>{be()})}function n(be){switch(be){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function D(be){return be.pointerId||0}function P(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let be=document.createElement("button");be.style.position="fixed",be.style.top="0px",be.style.left="-10000px",document.body.appendChild(be),be.focus(),be.blur(),document.body.removeChild(be)}}function E(be){be&&be.focus()}function m(be){if(n("pointerevents"))return be;if(n("touchevents"))switch(be){case"pointerover":case"pointerdown":return"touchstart";case"pointerout":case"pointerup":return"touchend";case"pointermove":return"touchmove";case"click":return"click";case"dblclick":return"dblclick"}else if(n("mouseevents"))switch(be){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return be}function C(be){if(typeof Touch<"u"&&be instanceof Touch)return!0;if(typeof PointerEvent<"u"&&be instanceof PointerEvent&&null!=be.pointerType)switch(be.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(be instanceof MouseEvent)}else if(null!=be.type&&be.type.match(/^mouse/))return!1;return!0}function A(be,ii,nt){be.style[ii]=nt}function k(be,ii){return be.style[ii]}function f(be,ii){let nt=ii;for(;;){if(be===nt)return!0;if(null===nt.parentNode){if(null==nt.host)return!1;nt=nt.host}else nt=nt.parentNode}}function o(be,ii){return be.target&&f(ii.root.dom,be.target)}function R(be,ii){be.style.pointerEvents=ii?"auto":"none"}function U(be){let ii=be;for(;;){if(null===ii.parentNode)return null!=ii.host?ii:null;ii=ii.parentNode}}let X;class tt extends _.KK{constructor(ii,nt,St,Gt=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=function(ee,ge=""){if(null===ee){if(null==X){const Ae=document.createElement("style");Ae.type="text/css",""!=ge&&Ae.setAttribute("nonce",ge),document.head.appendChild(Ae),X=Ae.sheet}return X}{const Ae=document.createElement("style");return Ae.type="text/css",""!=ge&&Ae.setAttribute("nonce",ge),ee.appendChild(Ae),Ae.sheet}}(ii,Gt);try{this._rule=function(ee,ge){const Ae=ee.cssRules.length;return ee.insertRule(ge+"{}",Ae),ee.cssRules[Ae]}(this._root,nt),d.each(St,(ee,ge)=>{this.setStyle(ee,ge)})}catch{this._rule=new CSSStyleRule}}set selector(ii){this._rule.selectorText=ii}get selector(){return this._rule.selectorText}_dispose(){const ii=l.indexOf(this._root.cssRules,this._rule);if(-1===ii)throw new Error("Could not dispose StyleRule");this._root.deleteRule(ii)}_setVendorPrefixName(ii,nt){const St=this._rule.style;St.setProperty("-webkit-"+ii,nt,""),St.setProperty("-moz-"+ii,nt,""),St.setProperty("-ms-"+ii,nt,""),St.setProperty("-o-"+ii,nt,""),St.setProperty(ii,nt,"")}setStyle(ii,nt){"transition"===ii?this._setVendorPrefixName(ii,nt):this._rule.style.setProperty(ii,nt,"")}}class pt extends _.KK{constructor(ii,nt,St=""){super(),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._element=function(Gt,ee,ge=""){const Ae=document.createElement("style");return Ae.type="text/css",""!=ge&&Ae.setAttribute("nonce",ge),Ae.textContent=ee,null===Gt?document.head.appendChild(Ae):Gt.appendChild(Ae),Ae}(ii,nt,St)}_dispose(){this._element.parentNode&&this._element.parentNode.removeChild(this._element)}}function ot(be,ii){if(be)if(be.classList){const nt=ii.split(" ");l.each(nt,St=>{be.classList.add(St)})}else{let nt=be.getAttribute("class");be.setAttribute("class",nt?nt.split(" ").filter(St=>St!==ii).join(" ")+" "+ii:ii)}}function W(be,ii){if(be)if(be.classList)be.classList.remove(ii);else{let nt=be.getAttribute("class");nt&&be.setAttribute("class",nt.split(" ").filter(St=>St!==ii).join(" "))}}function K(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function gt(){return K()?1:void 0}function yt(be,ii){return p.isNumber(be)?be:null!=be&&p.isNumber(be.value)&&p.isNumber(ii)?ii*be.value:0}function _t(be){let ii=(""+be).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ii?Math.max(0,(ii[1]?ii[1].length:0)-(ii[2]?+ii[2]:0)):0}function rt(be,ii=0,nt="0"){return"string"!=typeof be&&(be=be.toString()),ii>be.length?Array(ii-be.length+1).join(nt)+be:be}function ut(be){return be.replace(/^[\s]*/,"")}function at(be){return be.replace(/[\s]*$/,"")}function Ct(be){return ut(at(be))}function vt(be){if(void 0===be)return"string";let ii=(be=(be=(be=be.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return ii?ii[1]:"number"===be?"number":"date"===be?"date":"duration"===be?"duration":be.match(/[#0]/)?"number":be.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function ct(be){return be.replace(/\/(date|number|duration)$/i,"")}function Tt(be){return be&&be.replace(/<[^>]*>/g,"")}function kt(be){return be&&Tt((""+be).replace(/[\n\r]+/g,". "))}function Ft(be){return be.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Ot(be){let ii="";for(let nt=0;nt<be.length;nt++){const St=be.charAt(nt);St.toUpperCase()==St&&0!=nt&&(ii+=" "),ii+=St}return ii}function jt(be,ii=!1){const nt=new Date(be.getFullYear(),0,0),St=be.getTime()-nt.getTime()+60*(nt.getTimezoneOffset()-be.getTimezoneOffset())*1e3;return Math.floor(St/864e5)}function $t(be,ii=!1){const nt=new Date(Date.UTC(be.getFullYear(),be.getMonth(),be.getDate())),St=nt.getUTCDay()||7;nt.setUTCDate(nt.getUTCDate()+4-St);const Gt=new Date(Date.UTC(nt.getUTCFullYear(),0,1));return Math.ceil(((nt.getTime()-Gt.getTime())/864e5+1)/7)}function Wt(be,ii=!1){const nt=new Date(Date.UTC(be.getFullYear(),be.getMonth(),be.getDate())),St=nt.getUTCDay()||7;return nt.setUTCDate(nt.getUTCDate()+4-St),new Date(Date.UTC(nt.getUTCFullYear(),0,1)).getFullYear()}function ne(be,ii=!1){const nt=$t(new Date(be.getFullYear(),be.getMonth(),1),ii);let St=$t(be,ii);return 1==St&&(St=53),St-nt+1}function Jt(be,ii,nt=1,St=!1){let Gt=new Date(ii,0,4,0,0,0,0);return St&&Gt.setUTCFullYear(ii),7*be+nt-((Gt.getDay()||7)+3)}function Nt(be,ii){return be>12?be-=12:0===be&&(be=12),null!=ii?be+(ii-1):be}function Rt(be,ii=!1,nt=!1,St=!1){if(St)return ii?"Coordinated Universal Time":"UTC";let Gt=be.toLocaleString("UTC"),ee=be.toLocaleString("UTC",{timeZoneName:ii?"long":"short"}).substr(Gt.length);return!1===nt&&(ee=ee.replace(/ (standard|daylight|summer|winter) /i," ")),ee}function ie(be){const ii=new Date(Date.UTC(2012,0,1,0,0,0,0)),nt=new Date(ii.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(ii.toLocaleString("en-US",{timeZone:be})).getTime()-nt.getTime())/6e4*-1}function se(be){return be.charAt(0).toUpperCase()+be.slice(1)}function ce(be){let ii,nt,St,Gt=be.h,ee=be.s,ge=be.l;if(0==ee)ii=nt=St=ge;else{let Ae=function(Li,qi,cn){return cn<0&&(cn+=1),cn>1&&(cn-=1),cn<.16666666666666666?Li+6*(qi-Li)*cn:cn<.5?qi:cn<.6666666666666666?Li+(qi-Li)*(.6666666666666666-cn)*6:Li},yi=ge<.5?ge*(1+ee):ge+ee-ge*ee,Fi=2*ge-yi;ii=Ae(Fi,yi,Gt+.3333333333333333),nt=Ae(Fi,yi,Gt),St=Ae(Fi,yi,Gt-.3333333333333333)}return{r:Math.round(255*ii),g:Math.round(255*nt),b:Math.round(255*St)}}function te(be){let ii=be.r/255,nt=be.g/255,St=be.b/255,Gt=Math.max(ii,nt,St),ee=Math.min(ii,nt,St),ge=0,Ae=0,yi=(Gt+ee)/2;if(Gt===ee)ge=Ae=0;else{let Fi=Gt-ee;switch(Ae=yi>.5?Fi/(2-Gt-ee):Fi/(Gt+ee),Gt){case ii:ge=(nt-St)/Fi+(nt<St?6:0);break;case nt:ge=(St-ii)/Fi+2;break;case St:ge=(ii-nt)/Fi+4}ge/=6}return{h:ge,s:Ae,l:yi}}function Ie(be,ii){return be&&{r:Math.max(0,Math.min(255,be.r+Ve(be.r,ii))),g:Math.max(0,Math.min(255,be.g+Ve(be.g,ii))),b:Math.max(0,Math.min(255,be.b+Ve(be.b,ii))),a:be.a}}function Ve(be,ii){return Math.round((ii>0?255-be:be)*ii)}function Ai(be,ii){if(be){let nt=Ve(Math.min(Math.max(be.r,be.g,be.b),230),ii);return{r:Math.max(0,Math.min(255,Math.round(be.r+nt))),g:Math.max(0,Math.min(255,Math.round(be.g+nt))),b:Math.max(0,Math.min(255,Math.round(be.b+nt))),a:be.a}}return be}function gi(be,ii){return Math.round(255*ii)}function pi(be){return(299*be.r+587*be.g+114*be.b)/1e3>=128}function Ri(be,ii){if(void 0===be||1==ii)return be;let nt=te(be);return nt.s=ii,ce(nt)}function ti(be,ii={r:255,g:255,b:255},nt={r:255,g:255,b:255}){let St=ii,Gt=nt;return pi(nt)&&(St=nt,Gt=ii),pi(be)?Gt:St}function Ti(be,ii){return be||(be=[]),[...be,...ii].filter((nt,St,Gt)=>Gt.indexOf(nt)===St)}function xi(be,ii){return!!ii&&be.left==ii.left&&be.right==ii.right&&be.top==ii.top&&be.bottom==ii.bottom}},3360:function(F,N,a){"use strict";a.d(N,{z:function(){return f}});var p=a(5125),l=a(6331),d=a(4596),_=a(8777),w=a(1112),x=a(6245),I=a(5769),h=a(5040),n=a(5071),D=a(256),P={AccumulationDistribution:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.AccumulationDistribution),AccumulativeSwingIndex:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.AccumulativeSwingIndex),Annotator:()=>Promise.resolve().then(function(){if(!a.m[396]){var o=new Error("Module '396' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(396)}).then(o=>o.Annotator),Aroon:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Aroon),AverageSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.AverageSeries),AwesomeOscillator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.AwesomeOscillator),Axis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.Axis),AxisBullet:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisBullet),AxisLabel:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisLabel),AxisLabelRadial:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisLabelRadial),AxisRenderer:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisRenderer),AxisRendererCircular:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.AxisRendererCircular),AxisRendererRadial:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.AxisRendererRadial),AxisRendererX:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisRendererX),AxisRendererY:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisRendererY),AxisTick:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisTick),BaseColumnSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.BaseColumnSeries),BollingerBands:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.BollingerBands),BreadcrumbBar:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.BreadcrumbBar),Bullet:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Bullet),Button:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Button),CalloutSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.CalloutSeries),Candlestick:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.Candlestick),CandlestickSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.CandlestickSeries),CategoryAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.CategoryAxis),CategoryDateAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.CategoryDateAxis),ChaikinMoneyFlow:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ChaikinMoneyFlow),ChaikinOscillator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ChaikinOscillator),Chart:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Chart),ChartIndicator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ChartIndicator),Chord:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.Chord),ChordDirected:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordDirected),ChordLink:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordLink),ChordLinkDirected:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordLinkDirected),ChordNodes:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordNodes),ChordNonRibbon:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordNonRibbon),Circle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Circle),CirclePattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.CirclePattern),ClockHand:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.ClockHand),ColorControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ColorControl),ColorSet:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.ColorSet),ColumnSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.ColumnSeries),CommodityChannelIndex:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.CommodityChannelIndex),ComparisonControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ComparisonControl),Component:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Component),Container:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Container),DateAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.DateAxis),DateRangeSelector:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DateRangeSelector),DisparityIndex:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DisparityIndex),DoodleSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DoodleSeries),DrawingControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DrawingControl),DrawingSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DrawingSeries),DrawingToolControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DrawingToolControl),Dropdown:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Dropdown),DropdownColors:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DropdownColors),DropdownList:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DropdownList),DropdownListControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DropdownListControl),DurationAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.DurationAxis),Ellipse:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Ellipse),EllipseSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.EllipseSeries),Entity:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Entity),Exporting:()=>Promise.resolve().then(function(){if(!a.m[396]){var o=new Error("Module '396' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(396)}).then(o=>o.Exporting),ExportingMenu:()=>Promise.resolve().then(function(){if(!a.m[396]){var o=new Error("Module '396' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(396)}).then(o=>o.ExportingMenu),FibonacciSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.FibonacciSeries),FibonacciTimezoneSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.FibonacciTimezoneSeries),Flow:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.Flow),FlowLink:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.FlowLink),FlowNode:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.FlowNode),FlowNodes:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.FlowNodes),ForceDirected:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.ForceDirected),FunnelSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.FunnelSeries),FunnelSlice:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.FunnelSlice),GaplessDateAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.GaplessDateAxis),Gradient:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Gradient),Graphics:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Graphics),GraticuleSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.GraticuleSeries),Grid:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.Grid),GridLayout:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.GridLayout),HeatLegend:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.HeatLegend),Hierarchy:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Hierarchy),HierarchyLink:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.HierarchyLink),HierarchyNode:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.HierarchyNode),HorizontalLayout:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.HorizontalLayout),HorizontalLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.HorizontalLineSeries),HorizontalRaySeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.HorizontalRaySeries),IconControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.IconControl),IconSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.IconSeries),Indicator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Indicator),IndicatorControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.IndicatorControl),InterfaceColors:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.InterfaceColors),IntervalControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.IntervalControl),Label:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Label),LabelSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.LabelSeries),Layout:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Layout),Legend:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Legend),Line:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Line),LinePattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.LinePattern),LineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.LineSeries),LinearGradient:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.LinearGradient),LinkedHierarchy:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.LinkedHierarchy),LinkedHierarchyNode:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.LinkedHierarchyNode),MACD:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MACD),MapChart:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapChart),MapLine:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapLine),MapLineSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapLineSeries),MapPointSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapPointSeries),MapPolygon:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapPolygon),MapPolygonSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapPolygonSeries),MapSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapSeries),MedianPrice:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MedianPrice),Modal:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Modal),MovingAverage:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MovingAverage),MovingAverageDeviation:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MovingAverageDeviation),MovingAverageEnvelope:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MovingAverageEnvelope),OHLC:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.OHLC),OHLCSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.OHLCSeries),OnBalanceVolume:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.OnBalanceVolume),Pack:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Pack),PanelControls:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.PanelControls),Partition:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Partition),PathPattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.PathPattern),Pattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Pattern),PercentChart:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PercentChart),PercentSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PercentSeries),PeriodSelector:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.PeriodSelector),PictorialStackedSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PictorialStackedSeries),Picture:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Picture),PicturePattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.PicturePattern),PieChart:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PieChart),PieSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PieSeries),PointedRectangle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.PointedRectangle),PolylineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.PolylineSeries),PyramidSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PyramidSeries),QuadrantLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.QuadrantLineSeries),RadarChart:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.RadarChart),RadarColumnSeries:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.RadarColumnSeries),RadarCursor:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.RadarCursor),RadarLineSeries:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.RadarLineSeries),RadialGradient:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RadialGradient),RadialLabel:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RadialLabel),RadialText:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RadialText),Rectangle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Rectangle),RectanglePattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RectanglePattern),RectangleSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.RectangleSeries),RegressionSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.RegressionSeries),RelativeStrengthIndex:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.RelativeStrengthIndex),ResetControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ResetControl),RoundedRectangle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RoundedRectangle),Sankey:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.Sankey),SankeyLink:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.SankeyLink),SankeyNodes:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.SankeyNodes),Scrollbar:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Scrollbar),SerialChart:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.SerialChart),Series:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Series),SeriesTypeControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.SeriesTypeControl),SettingsControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.SettingsControl),SettingsModal:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.SettingsModal),SimpleLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.SimpleLineSeries),Slice:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Slice),SliceGrouper:()=>Promise.resolve().then(function(){if(!a.m[1790]){var o=new Error("Module '1790' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(1790)}).then(o=>o.SliceGrouper),SlicedChart:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.SlicedChart),Slider:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Slider),SmoothedRadarLineSeries:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.SmoothedRadarLineSeries),SmoothedXLineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.SmoothedXLineSeries),SmoothedXYLineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.SmoothedXYLineSeries),SmoothedYLineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.SmoothedYLineSeries),Sprite:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Sprite),SpriteResizer:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.SpriteResizer),StandardDeviation:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StandardDeviation),Star:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Star),StepLineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.StepLineSeries),StochasticOscillator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StochasticOscillator),StockChart:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockChart),StockControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockControl),StockLegend:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockLegend),StockPanel:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockPanel),StockToolbar:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockToolbar),Sunburst:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Sunburst),Text:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Text),Tick:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Tick),Tooltip:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Tooltip),Tree:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Tree),Treemap:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Treemap),TrendLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.TrendLineSeries),Triangle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Triangle),Trix:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Trix),TypicalPrice:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.TypicalPrice),VWAP:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.VWAP),ValueAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.ValueAxis),Venn:()=>Promise.resolve().then(function(){if(!a.m[8034]){var o=new Error("Module '8034' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8034)}).then(o=>o.Venn),VerticalLayout:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.VerticalLayout),VerticalLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.VerticalLineSeries),Volume:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Volume),WilliamsR:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.WilliamsR),WordCloud:()=>Promise.resolve().then(function(){if(!a.m[6769]){var o=new Error("Module '6769' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6769)}).then(o=>o.WordCloud),XYChart:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.XYChart),XYChartScrollbar:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.XYChartScrollbar),XYCursor:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.XYCursor),XYSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.XYSeries),ZigZag:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ZigZag),ZoomControl:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.ZoomControl)};function E(o){return h.isObject(o)}function m(o,R){if("#"===o[0]){const U=o.slice(1);if("#"===o[1])return{isValue:!0,value:U};{const X=U.split(/\./g);let tt=function(pt,ot){let W=pt.length;for(;W--;){const K=pt[W];if(ot in K)return K[ot]}throw new Error("Could not find ref #"+ot)}(R,X[0]);for(let pt=1;pt<X.length;++pt)tt=tt[X[pt]];return{isValue:!0,value:tt}}}return{isValue:!0,value:o}}function C(o,R){R.adapters&&n.each(R.adapters,U=>{o.adapters.add(U.key,U.callback)}),R.properties&&n.each(R.properties,U=>{U(o)}),o instanceof _.W&&R.children&&R.children.forEach(U=>{null==U.index?o.children.push(U.value):o.children.insertIndex(U.index,U.value)})}function A(o,R){if(!R.construct)return R.value;const U=R.construct.new(o,R.settings||{});return C(U,R),U}class k{constructor(){Object.defineProperty(this,"_caching",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_cache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_delayed",{enumerable:!0,configurable:!0,writable:!0,value:[]})}afterParse(){this._delayed.forEach(R=>{R()})}getClass(R){return this._cache[R]}storeClass(R){return(0,p.mG)(this,void 0,void 0,function*(){const U=P[R];this._cache[R]=yield U()})}cacheClass(R){let U=this._caching[R];return null==U&&(U=this._caching[R]=this.storeClass(R)),U}parseAsyncArray(R){return(0,p.mG)(this,void 0,void 0,function*(){yield Promise.all(n.map(R,U=>this.parseAsync(U)))})}parseAsyncObject(R){return(0,p.mG)(this,void 0,void 0,function*(){yield Promise.all(n.map(D.keys(R),U=>this.parseAsync(R[U])))})}parseAsyncRefs(R){return(0,p.mG)(this,void 0,void 0,function*(){h.isArray(R)?yield Promise.all(n.map(R,U=>this.parseAsyncRefs(U))):yield this.parseAsyncObject(R)})}parseAsync(R){return(0,p.mG)(this,void 0,void 0,function*(){h.isArray(R)?yield this.parseAsyncArray(R):E(R)&&("Color"===R.type||"Percent"===R.type||("Template"===R.type?yield Promise.all([R.refs?this.parseAsyncRefs(R.refs):Promise.resolve(void 0),R.settings?this.parseAsyncObject(R.settings):Promise.resolve(void 0)]):!0===R.__parse?yield this.parseAsyncObject(R):yield Promise.all([R.type?this.cacheClass(R.type):Promise.resolve(void 0),R.refs?this.parseAsyncRefs(R.refs):Promise.resolve(void 0),R.settings?this.parseAsyncObject(R.settings):Promise.resolve(void 0),R.properties?this.parseAsyncObject(R.properties):Promise.resolve(void 0),R.children?this.parseAsyncArray(R.children):Promise.resolve(void 0)])))})}parseArray(R,U,X){return n.map(U,tt=>this.parse(R,tt,X))}parseChildren(R,U,X){return n.map(U,tt=>this.parseChild(R,tt,X))}parseSetting(R,U,X,tt){if("layout"===U)switch(X){case"horizontal":return R.horizontalLayout;case"vertical":return R.verticalLayout;case"grid":return R.gridLayout}return this.parse(R,X,tt)}parseSettings(R,U,X){const tt={};return n.each(D.keys(U),pt=>{tt[pt]=this.parseSetting(R,pt,U[pt],X)}),tt}parseProperties(R,U,X){return n.map(D.keys(U),tt=>{const pt=this.parseValue(R,U[tt],X);return ot=>{const W=()=>{const K=ot[tt];if(K&&K instanceof l.JH){if(pt.isValue)throw new Error("Cannot merge value into Entity");pt.settings&&K.setAll(pt.settings),C(K,pt)}else pt.isValue?K&&h.isArray(pt.value)?n.each(pt.value,gt=>{K.push(gt)}):ot[tt]=pt.value:ot[tt]=A(R,pt)};"data"===tt?this._delayed.push(W):W()}})}parseRefsObject(R,U,X){const tt={};return n.each(D.keys(U),pt=>{tt[pt]=this.parse(R,U[pt],X)}),tt}parseRefs(R,U,X){if(h.isArray(U)){const tt=U.length;for(let pt=0;pt<tt;++pt)X=X.concat([this.parseRefsObject(R,U[pt],X)])}else X=X.concat([this.parseRefsObject(R,U,X)]);return X}parseChild(R,U,X){if(h.isString(U))return{index:void 0,value:m(U,X).value};if(null!=U.ref)return{index:U.index??void 0,value:m(U.ref,X).value};{const tt=this.parseEntity(R,U,X);return{index:tt.index,value:A(R,tt)}}}parseEntity(R,U,X){U.refs&&(X=this.parseRefs(R,U.refs,X));const tt=U.type?this.getClass(U.type):void 0,pt=U.settings?this.parseSettings(R,U.settings,X):void 0,ot=U.properties?this.parseProperties(R,U.properties,X):void 0,W=U.children?this.parseChildren(R,U.children,X):void 0;return{isValue:!1,type:U.type,construct:tt,settings:pt,adapters:U.adapters,children:W,properties:ot,index:U.index??void 0,value:U}}parseValue(R,U,X){if(U instanceof l.JH)return{isValue:!0,value:U};if(h.isArray(U))return{isValue:!0,value:this.parseArray(R,U,X)};if(E(U)){if("Color"===U.type)return{isValue:!0,value:w.Il.fromAny(U.value)};if("Percent"===U.type)return{isValue:!0,value:new x.gG(U.value)};if("Template"===U.type){U.refs&&(X=this.parseRefs(R,U.refs,X));const tt=U.settings?this.parseSettings(R,U.settings,X):{};return{isValue:!0,value:I.YS.new(tt)}}return!0===U.__parse?{isValue:!0,value:this.parseSettings(R,U,X)}:this.parseEntity(R,U,X)}return h.isString(U)?m(U,X):{isValue:!0,value:U}}parse(R,U,X){const tt=this.parseValue(R,U,X);return tt.isValue?tt.value:A(R,tt)}}class f{constructor(R,U){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!U)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=R}static new(R){return new this(R,!0)}parse(R,U={}){return(0,p.mG)(this,void 0,void 0,function*(){const X=new k;yield X.parseAsync(R);const tt=X.parse(this._root,R,[]);if(U.parent){if(!(tt instanceof d.j))throw new Error("When using the parent setting, the entity must be a Sprite");U.parent.children.push(tt)}return X.afterParse(),tt})}parseString(R,U={}){return(0,p.mG)(this,void 0,void 0,function*(){return yield this.parse(JSON.parse(R),U)})}}},6890:function(F,N,a){"use strict";a.d(N,{e:function(){return n}});var p=a(6331),l=a(9361),d=a(1112),_=a(6245),w=a(5769),x=a(5040),I=a(5071),h=a(256);class n extends p.JH{constructor(){super(...arguments),Object.defineProperty(this,"_refs",{enumerable:!0,configurable:!0,writable:!0,value:{}})}serialize(P,E=0,m=!1){if(E>this.get("maxDepth",2))return;if(!1===P||!0===P)return P;if(x.isArray(P)){const A=[];return I.each(P,k=>{A.push(this.serialize(k,E,m))}),A}const C={};if(P instanceof p.JH){C.type=P.className;let A=h.keys(P._settings);const k=this.get("includeSettings",[]),f=this.get("excludeSettings",[]);k.length?A=k:f.length&&(A=A.filter(o=>-1===f.indexOf(o))),A=A.filter(o=>P.isUserSetting(o)),A.length&&(C.settings={},I.each(A,o=>{C.settings[o]=this.serialize(P.get(o),E+1,m)}))}else if(P instanceof w.YS){C.type="Template";let A=h.keys(P._settings);return A.length&&(C.settings={},I.each(A,k=>{C.settings[k]=this.serialize(P.get(k),E+1)})),C}return P instanceof l.w&&P.data.length&&(C.properties={data:this.serialize(P.data.values,1,!0)}),P instanceof d.Il?{type:"Color",value:P.toCSSHex()}:P instanceof _.gG?{type:"Percent",value:P.percent}:x.isString(P)||x.isNumber(P)?P:(x.isObject(P)&&m&&h.each(P,(A,k)=>{C[A]=this.serialize(k,E+1,m)}),0==E&&h.keys(this._refs).length&&(C.refs=this._refs),C)}}Object.defineProperty(n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Serializer"}),Object.defineProperty(n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.JH.classNames.concat([n.className])})},3783:function(F,N,a){"use strict";a.d(N,{X:function(){return I},v:function(){return x}});var p=a(3409),l=a(6245),d=a(1112),_=a(6881),w=a(9395);function x(h,n,D,P){h.set(n,D.get(P)),D.on(P,E=>{h.set(n,E)})}class I extends p.Q{setupDefaultRules(){super.setupDefaultRules();const n=this._root.language,D=this._root.interfaceColors,P=this._root.horizontalLayout,E=this._root.verticalLayout,m=this.rule.bind(this);m("InterfaceColors").setAll({stroke:d.Il.fromHex(15066597),fill:d.Il.fromHex(15987699),primaryButton:d.Il.fromHex(6788316),primaryButtonHover:d.Il.fromHex(6779356),primaryButtonDown:d.Il.fromHex(6872182),primaryButtonActive:d.Il.fromHex(6872182),primaryButtonText:d.Il.fromHex(16777215),primaryButtonStroke:d.Il.fromHex(16777215),secondaryButton:d.Il.fromHex(14277081),secondaryButtonHover:d.Il.fromHex(10724259),secondaryButtonDown:d.Il.fromHex(9276813),secondaryButtonActive:d.Il.fromHex(15132390),secondaryButtonText:d.Il.fromHex(0),secondaryButtonStroke:d.Il.fromHex(16777215),grid:d.Il.fromHex(0),background:d.Il.fromHex(16777215),alternativeBackground:d.Il.fromHex(0),text:d.Il.fromHex(0),alternativeText:d.Il.fromHex(16777215),disabled:d.Il.fromHex(11382189),positive:d.Il.fromHex(5288704),negative:d.Il.fromHex(11730944)});{const C=m("ColorSet");C.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[d.Il.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),C.setPrivate("currentStep",0),C.setPrivate("currentPass",0)}m("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:w.out(w.cubic)}),m("Component").setAll({interpolationDuration:0,interpolationEasing:w.out(w.cubic)}),m("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:l.CI,tooltipY:l.CI,tooltipPosition:"fixed",isMeasured:!0}),m("Sprite").states.create("default",{visible:!0,opacity:1}),m("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),m("Graphics").setAll({strokeWidth:1}),m("Chart").setAll({width:l.AQ,height:l.AQ,interactiveChildren:!1}),m("Sprite",["horizontal","center"]).setAll({centerX:l.CI,x:l.CI}),m("Sprite",["vertical","center"]).setAll({centerY:l.CI,y:l.CI}),m("Container",["horizontal","layout"]).setAll({layout:P}),m("Container",["vertical","layout"]).setAll({layout:E}),m("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),m("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),m("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),m("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),m("LinearGradient").setAll({rotation:90}),m("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:_.M.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),m("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:P,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:n.translate("Press ENTER to toggle"),role:"checkbox"});{const C=m("Rectangle",["legend","item","background"]);C.setAll({fillOpacity:0}),x(C,"fill",D,"background")}m("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:l.CI,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),m("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:l.AQ,height:l.AQ,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const C=m("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});x(C,"fill",D,"disabled"),x(C,"stroke",D,"disabled")}m("Label",["legend","label"]).setAll({centerY:l.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),x(m("Label",["legend","label"]).states.create("disabled",{}),"fill",D,"disabled"),m("Label",["legend","value","label"]).setAll({centerY:l.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:l.AQ,populateText:!0}),x(m("Label",["legend","value","label"]).states.create("disabled",{}),"fill",D,"disabled"),m("HeatLegend").setAll({stepCount:1}),m("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),m("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:l.AQ,width:15}),m("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:l.AQ,height:15}),m("HeatLegend",["vertical"]).setAll({height:l.AQ}),m("HeatLegend",["horizontal"]).setAll({width:l.AQ}),m("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),m("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const C=m("Label");C.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),x(C,"fill",D,"text")}m("RadialLabel").setAll({textType:"regular",centerY:l.CI,centerX:l.CI,inside:!1,radius:0,baseRadius:l.AQ,orientation:"auto",textAlign:"center"}),m("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),m("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),m("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const C=m("Tick");C.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute"}),x(C,"stroke",D,"grid")}m("Bullet").setAll({locationX:.5,locationY:.5}),m("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:l.CI,centerY:l.CI,animationEasing:w.out(w.cubic),exportable:!1}),m("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:d.Il.fromHex(16777215)});{const C=m("Label",["tooltip"]);C.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),x(C,"fill",D,"alternativeText")}m("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:P,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),m("Button").states.create("hover",{}),m("Button").states.create("down",{stateAnimationDuration:0}),m("Button").states.create("active",{});{const C=m("RoundedRectangle",["button","background"]);x(C,"fill",D,"primaryButton"),x(C,"stroke",D,"primaryButtonStroke")}x(m("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",D,"primaryButtonHover"),x(m("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",D,"primaryButtonDown"),x(m("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",D,"primaryButtonActive"),x(m("Graphics",["button","icon"]),"stroke",D,"primaryButtonText"),x(m("Label",["button"]),"fill",D,"primaryButtonText"),m("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:l.AQ,role:"button",ariaLabel:n.translate("Zoom Out"),layer:30});{const C=m("RoundedRectangle",["background","button","zoom"]);C.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),x(C,"fill",D,"primaryButton")}x(m("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",D,"primaryButtonHover"),x(m("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",D,"primaryButtonDown");{const C=m("Graphics",["icon","button","zoom"]);C.setAll({crisp:!0,strokeOpacity:.7,draw:A=>{A.moveTo(0,0),A.lineTo(12,0)}}),x(C,"stroke",D,"primaryButtonText")}m("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:l.CI,centerY:l.CI,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:n.translate("Use up and down arrows to move selection")});{const C=m("RoundedRectangle",["background","resize","button"]);C.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),x(C,"fill",D,"secondaryButton"),x(C,"stroke",D,"secondaryButtonStroke")}x(m("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",D,"secondaryButtonHover"),x(m("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",D,"secondaryButtonDown");{const C=m("Graphics",["resize","button","icon"]);C.setAll({crisp:!0,strokeOpacity:.5,draw:A=>{A.moveTo(0,.5),A.lineTo(0,12.5),A.moveTo(4,.5),A.lineTo(4,12.5)}}),x(C,"stroke",D,"secondaryButtonText")}m("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),m("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),m("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:n.translate("Play"),toggleKey:"active"});{const C=m("RoundedRectangle",["play","background"]);C.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),x(C,"fill",D,"primaryButton")}{const C=m("Graphics",["play","icon"]);C.setAll({stateAnimationDuration:0,dx:1,draw:A=>{A.moveTo(0,-5),A.lineTo(8,0),A.lineTo(0,5),A.lineTo(0,-5)}}),x(C,"fill",D,"primaryButtonText")}m("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),m("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:C=>{C.moveTo(-4,-5),C.lineTo(-1,-5),C.lineTo(-1,5),C.lineTo(-4,5),C.lineTo(-4,-5),C.moveTo(4,-5),C.lineTo(1,-5),C.lineTo(1,5),C.lineTo(4,5),C.lineTo(4,-5)}}),m("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:n.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const C=m("RoundedRectangle",["switch","background"]);C.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),x(C,"fill",D,"primaryButton")}{const C=m("Circle",["switch","icon"]);C.setAll({radius:8,centerY:0,centerX:0,dx:0}),x(C,"fill",D,"primaryButtonText")}m("Graphics",["switch","icon"]).states.create("active",{dx:16}),m("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:w.out(w.cubic)}),m("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:l.AQ}),m("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:l.AQ}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const C=m("RoundedRectangle",["scrollbar","main","background"]);C.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),x(C,"fill",D,"fill")}{const C=m("RoundedRectangle",["scrollbar","thumb"]);C.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),x(C,"fill",D,"secondaryButton")}x(m("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",D,"secondaryButtonHover"),x(m("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",D,"secondaryButtonDown"),m("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:l.CI,width:l.AQ,centerX:l.CI,ariaLabel:n.translate("Use up and down arrows to move selection")}),m("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:l.CI,centerY:l.CI,height:l.AQ,ariaLabel:n.translate("Use left and right arrows to move selection")});{const C=m("PointedRectangle",["axis","tooltip","background"]);C.setAll({cornerRadius:0}),x(C,"fill",D,"alternativeBackground")}m("Label",["axis","tooltip"]).setAll({role:void 0}),m("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),m("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),m("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),m("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),m("Star").setAll({spikes:5,innerRadius:5,radius:10}),m("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),m("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),m("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),m("SpriteResizer").setAll({rotationStep:10}),m("Container",["resizer","grip"]).states.create("hover",{});{const C=m("RoundedRectangle",["resizer","grip"]);C.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),x(C,"fill",D,"background"),x(C,"stroke",D,"alternativeBackground")}{const C=m("RoundedRectangle",["resizer","grip","outline"]);C.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),C.states.create("hover",{fillOpacity:.3}),x(C,"fill",D,"alternativeBackground")}m("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),m("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const C=m("Rectangle",["resizer","rectangle"]);C.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),x(C,"stroke",D,"alternativeBackground")}}}},9852:function(F,N,a){"use strict";a.r(N),a.d(N,{ArrayDisposer:function(){return h.rk},Bullet:function(){return n.g},Button:function(){return D.z},CSVParser:function(){return St},Chart:function(){return ne.k},Circle:function(){return P.C},CirclePattern:function(){return gi},Color:function(){return pt.Il},ColorSet:function(){return xi.U},Component:function(){return A.w},Container:function(){return k.W},CounterDisposer:function(){return h.DM},DataItem:function(){return A.z},DataProcessor:function(){return Gt},DateFormatter:function(){return ee.C},Disposer:function(){return h.ku},DurationFormatter:function(){return ge.$},Ellipse:function(){return E.P},Entity:function(){return I.JH},Gradient:function(){return ce.p},Graphics:function(){return m.T},GridLayout:function(){return f.M},HeatLegend:function(){return gt},HorizontalLayout:function(){return yt.G},InterfaceColors:function(){return Ae.v},JSONParser:function(){return nt},JsonData:function(){return be.Q},Label:function(){return o._},Layout:function(){return _t.A},Legend:function(){return rt.D},Line:function(){return ut.x},LinePattern:function(){return pi},LinearGradient:function(){return W.o},ListData:function(){return be.k},Modal:function(){return x.u},MultiDisposer:function(){return h.FV},MutableValueDisposer:function(){return h.cx},NumberFormatter:function(){return yi.e},PathPattern:function(){return Ti},Pattern:function(){return Ve.c},Percent:function(){return R.gG},Picture:function(){return at.t},PicturePattern:function(){return Ri.v},PointedRectangle:function(){return Ct.i},RadialGradient:function(){return Ie},RadialLabel:function(){return vt.x},RadialText:function(){return ct.f},Rectangle:function(){return Tt.A},RectanglePattern:function(){return ti},Root:function(){return l.f},RoundedRectangle:function(){return U.c},Scrollbar:function(){return Ft.L},SerialChart:function(){return Jt.j},Series:function(){return Wt.F},Slice:function(){return jt.p},Slider:function(){return Ot},Sprite:function(){return $t.j},SpriteResizer:function(){return Li.b},Star:function(){return C},Template:function(){return X.YS},Text:function(){return Nt.x},TextFormatter:function(){return Fi.V},Theme:function(){return d.Q},Tick:function(){return Rt.d},Timezone:function(){return se.r},Tooltip:function(){return ot.u},Triangle:function(){return kt},VerticalLayout:function(){return ie.Z},addLicense:function(){return _.cP},array:function(){return te},color:function(){return pt.$_},disposeAllRootElements:function(){return _.UZ},ease:function(){return qi},math:function(){return Ai},net:function(){return p},object:function(){return ii},p0:function(){return R.p0},p100:function(){return R.AQ},p50:function(){return R.CI},percent:function(){return R.aQ},ready:function(){return w.ready},registry:function(){return _.i_},time:function(){return Gn},type:function(){return K},utils:function(){return w}});var p={};a.r(p),a.d(p,{load:function(){return cn},readBlob:function(){return Fn}});var l=a(6493),d=a(3409),_=a(3145),w=a(7652),x=a(8219),I=a(6331),h=a(7449),n=a(5108),D=a(8054),P=a(8035),E=a(2433),m=a(1479);class C extends m.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("spikes"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const ei=this._display,ai=this.get("radius",0),li=w.relativeToValue(this.get("innerRadius",0),ai),Xi=this.get("spikes",0),tn=Math.PI/Xi;let Zi=Math.PI/2*3;ei.moveTo(0,-ai);for(let _n=0;_n<Xi;_n++)ei.lineTo(Math.cos(Zi)*ai,Math.sin(Zi)*ai),Zi+=tn,ei.lineTo(Math.cos(Zi)*li,Math.sin(Zi)*li),Zi+=tn;ei.lineTo(0,-ai),ei.closePath()}}}Object.defineProperty(C,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Star"}),Object.defineProperty(C,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:m.T.classNames.concat([C.className])});var A=a(9361),k=a(8777),f=a(6881),o=a(962),R=a(6245),U=a(3497),X=a(5769),tt=a(7144),pt=a(1112),ot=a(2876),W=a(1747),K=a(5040);class gt extends k.W{constructor(){super(...arguments),Object.defineProperty(this,"labelContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(k.W.new(this._root,{}))}),Object.defineProperty(this,"markerContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(k.W.new(this._root,{}))}),Object.defineProperty(this,"startLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(o._.new(this._root,{themeTags:["start"]}))}),Object.defineProperty(this,"endLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(o._.new(this._root,{themeTags:["end"]}))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new tt.o(X.YS.new({}),()=>U.c._new(this._root,{themeTags:w.mergeTags(this.markers.template.get("themeTags",[]),[this.get("orientation"),"heatlegend","marker"])},[this.markers.template]))})}_afterNew(){this._settings.themeTags=w.mergeTags(this._settings.themeTags,["heatlegend",this._settings.orientation]),super._afterNew(),this.set("tooltip",ot.u.new(this._root,{themeTags:["heatlegend"]}))}makeMarker(){const ei=this.markers.make();return ei.states.create("disabled",{}),ei}showValue(ei,ai,li){const Xi=this.getTooltip();if(Xi&&K.isNumber(ei)){const tn=this.get("startValue",0),Zi=(ei-tn)/(this.get("endValue",1)-tn),_n=this.get("startColor"),ji=this.get("endColor");let We;ai||(ai=this.getNumberFormatter().format(ei)),li||(li=pt.Il.interpolate(Zi,_n,ji)),Xi.label.set("text",ai),We="vertical"==this.get("orientation")?this.markerContainer.toGlobal({x:0,y:this.innerHeight()*(1-Zi)}):this.markerContainer.toGlobal({x:this.innerWidth()*Zi,y:0});let Z=Xi.get("background");Z&&Z.set("fill",pt.Il.interpolate(Zi,_n,ji)),Xi.set("pointTo",We),Xi.show()}}_prepareChildren(){super._prepareChildren();const ei=this.labelContainer,ai=this.get("orientation"),li=this.startLabel,Xi=this.endLabel,tn=this.getTooltip();if(this.isDirty("orientation")&&("vertical"==ai?(this.markerContainer.setAll({layout:this._root.verticalLayout,height:R.AQ}),this.set("layout",this._root.horizontalLayout),li.setAll({y:R.AQ,x:void 0,centerY:R.AQ,centerX:R.AQ}),Xi.setAll({y:0,x:void 0,centerY:0,centerX:R.AQ}),ei.setAll({height:R.AQ,width:void 0}),tn&&tn.set("pointerOrientation","horizontal")):(this.markerContainer.setAll({layout:this._root.horizontalLayout,width:R.AQ}),this.set("layout",this._root.verticalLayout),li.setAll({x:0,y:void 0,centerX:0,centerY:0}),Xi.setAll({x:R.AQ,y:void 0,centerX:R.AQ,centerY:0}),ei.setAll({width:R.AQ,height:void 0}),tn&&tn.set("pointerOrientation","vertical"))),this.isDirty("stepCount")){const Zi=this.get("stepCount",1),_n=this.get("startColor"),ji=this.get("endColor");if(this.markerContainer.children.clear(),Zi>1)for(let We=0;We<Zi;We++){const Z=this.makeMarker();"vertical"==ai?this.markerContainer.children.moveValue(Z,0):this.markerContainer.children.push(Z),_n&&ji&&Z.set("fill",pt.Il.interpolate(We/Zi,_n,ji))}else if(1==Zi){const We=this.makeMarker();this.markerContainer.children.push(We);const Z=W.o.new(this._root,{stops:[{color:_n},{color:ji}]});if("vertical"==ai){Z.set("rotation",90);let Q=Z.get("stops");Q&&Q.reverse()}else Z.set("rotation",0);_n&&ji&&We.set("fillGradient",Z)}}(this.isDirty("startText")||this.isDirty("startValue"))&&li.set("text",this.get("startText",this.getNumberFormatter().format(this.get("startValue",0)))),(this.isDirty("endText")||this.isDirty("endValue"))&&Xi.set("text",this.get("endText",this.getNumberFormatter().format(this.get("endValue",1))))}}Object.defineProperty(gt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HeatLegend"}),Object.defineProperty(gt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:k.W.classNames.concat([gt.className])});var yt=a(4431),_t=a(2010),rt=a(3105),ut=a(2077),at=a(5021),Ct=a(8931),vt=a(815),ct=a(4244),Tt=a(7142);class kt extends m.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){const ei=this.width(),ai=this.height(),li=this._display;li.moveTo(-ei/2,ai/2),li.lineTo(0,-ai/2),li.lineTo(ei/2,ai/2),li.lineTo(-ei/2,ai/2),li.closePath()}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(kt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Triangle"}),Object.defineProperty(kt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:m.T.classNames.concat([kt.className])});var Ft=a(6001);class Ot extends Ft.L{_afterNew(){this._addOrientationClass(),super._afterNew(),this.endGrip.setPrivate("visible",!1),this.thumb.setPrivate("visible",!1)}updateGrips(){super.updateGrips();const ei=this.startGrip;this.endGrip.setAll({x:ei.x(),y:ei.y()}),this.setRaw("end",this.get("start"))}}Object.defineProperty(Ot,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slider"}),Object.defineProperty(Ot,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ft.L.classNames.concat([Ot.className])});var jt=a(5863),$t=a(4596),Wt=a(3399),ne=a(1337),Jt=a(5829),Nt=a(2036),Rt=a(2438),ie=a(1706),se=a(462),ce=a(1437),te=a(5071);class Ie extends ce.p{getFill(ei){const ai=this.getBounds(ei);let li=0,Xi=0;const ji=(ai.right||0)-(ai.left||0),We=(ai.bottom||0)-(ai.top||0);let Z=ei.get("radius");K.isNumber(Z)?(li=0,Xi=0):(Z=Math.min(ji,We)/2,li=ji/2,Xi=We/2);let Q=this.get("x"),ht=this.get("y");null!=Q&&(li=w.relativeToValue(Q,ji)),null!=ht&&(Xi=w.relativeToValue(ht,We));const xt=this._root._renderer.createRadialGradient(li,Xi,0,li,Xi,Z),Lt=this.get("stops");if(Lt){let Ut=0;te.each(Lt,re=>{let Xt=re.offset;K.isNumber(Xt)||(Xt=Ut/(Lt.length-1));let oe=re.opacity;K.isNumber(oe)||(oe=1);let Le=re.color;if(Le){const Oe=re.lighten;Oe&&(Le=pt.Il.lighten(Le,Oe));const Qe=re.brighten;Qe&&(Le=pt.Il.brighten(Le,Qe)),xt.addColorStop(Xt,"rgba("+Le.r+","+Le.g+","+Le.b+","+oe+")")}Ut++})}return xt}}Object.defineProperty(Ie,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialGradient"}),Object.defineProperty(Ie,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.p.classNames.concat([Ie.className])});var Ve=a(3437),Ai=a(751);class gi extends Ve.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const ei=this.get("checkered",!1),ai=this.get("centered",!0),li=this.get("gap",0),Xi=this.get("rotation",0);let tn=this.get("width",100),Zi=this.get("height",100),_n=this.get("radius",3),ji=2*_n+li,We=2*_n+li,Z=Math.round(tn/ji),Q=Math.round(Zi/We);ji=tn/Z,We=Zi/Q,0!=Xi&&(this._display.x=ji*Ai.cos(Xi),this._display.y=We*Ai.sin(Xi));const ht=this.get("color"),xt=this.get("colorOpacity");(ht||xt)&&this._display.beginFill(ht,xt);for(let Lt=0==Xi?0:2*-Q;Lt<2*Q;Lt++)for(let Ut=0==Xi?0:2*-Z;Ut<2*Z;Ut++)if(!ei||1!=(1&Lt)&&1!=(1&Ut)||1==(1&Lt)&&1==(1&Ut)){let re=Ut*ji,Xt=Lt*We;ai&&(re+=ji+li/2,Xt+=We+li/2),this._display.drawCircle(re-_n,Xt-_n,_n)}ei?(tn=tn/2-2*li,Zi=Zi/2-2*li):(tn-=li,Zi-=li),(ht||xt)&&this._display.endFill()}}Object.defineProperty(gi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CirclePattern"}),Object.defineProperty(gi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ve.c.classNames.concat([gi.className])});class pi extends Ve.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const ei=this.get("width",100),ai=this.get("height",100),li=this.get("gap",0),Xi=this.get("strokeWidth",1);if(li){let _n=li+Xi,ji=ai/_n;for(let We=-ji;We<2*ji;We++){const Z=Math.round(We*_n-_n/2)+.5;this._display.moveTo(-ei,Z),this._display.lineTo(2*ei,Z)}}else this._display.moveTo(0,0),this._display.lineTo(ei,0);this._display.lineStyle(Xi,this.get("color"),this.get("colorOpacity"));let tn=this.get("strokeDasharray");K.isNumber(tn)&&(tn=tn<.5?[0]:[tn]),this._display.setLineDash(tn);const Zi=this.get("strokeDashoffset");Zi&&this._display.setLineDashOffset(Zi),this._display.endStroke()}}Object.defineProperty(pi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"}),Object.defineProperty(pi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ve.c.classNames.concat([pi.className])});var Ri=a(4429);class ti extends Ve.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const ei=this.get("checkered",!1),ai=this.get("centered",!0),li=this.get("gap",0),Xi=this.get("rotation",0);let tn=this.get("width",100),Zi=this.get("height",100),_n=this.get("maxWidth",5),ji=this.get("maxHeight",5),We=_n+li,Z=ji+li,Q=Math.round(tn/We),ht=Math.round(Zi/Z);We=tn/Q,Z=Zi/ht,0!=Xi&&(this._display.x=We/2*Ai.cos(Xi),this._display.y=-Z/2*Ai.sin(Xi));for(let Ut=0==Xi?0:2*-ht;Ut<2*ht;Ut++)for(let re=0==Xi?0:2*-Q;re<2*Q;re++)if(!ei||1!=(1&Ut)&&1!=(1&re)||1==(1&Ut)&&1==(1&re)){let Xt=re*We,oe=Ut*Z;ai&&(Xt+=(We-_n)/2,oe+=(Z-ji)/2),this._display.drawRect(Xt,oe,_n,ji)}ei?(tn=tn/2-2*li,Zi=Zi/2-2*li):(tn-=li,Zi-=li);const xt=this.get("color"),Lt=this.get("colorOpacity");(xt||Lt)&&(this._display.beginFill(xt,Lt),this._display.endFill())}}Object.defineProperty(ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectanglePattern"}),Object.defineProperty(ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ve.c.classNames.concat([ti.className])});class Ti extends Ve.c{_beforeChanged(){super._beforeChanged(),this.isDirty("svgPath")&&(this._clear=!0)}_draw(){super._draw();const ei=this.get("svgPath");null!=ei&&this._display.svgPath(ei);const ai=this.get("color"),li=this.get("colorOpacity");(ai||li)&&(this._display.beginFill(ai,li),this._display.endFill())}}Object.defineProperty(Ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PathPattern"}),Object.defineProperty(Ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ve.c.classNames.concat([Ti.className])});var xi=a(2754),be=a(9582),ii=a(256);class nt{static parse(ei,ai){ai=this._applyDefaults(ai);try{if(K.isString(ei)){let li=JSON.parse(ei);return ai.reverse&&K.isArray(li)&&li.reverse(),li}if(K.isArray(ei)||K.isObject(ei))return ei;throw"Unable to parse JSON data"}catch{return}}static _applyDefaults(ei){const ai={};return ei||(ei={}),ii.each({reverse:!1},(li,Xi)=>{ai[li]=ei[li]||Xi}),ai}}class St{static parse(ei,ai){ai=this._applyDefaults(ai);let li,Xi,tn,Zi=this.CSVToArray(ei,ai.delimiter),_n=[],ji=[];for(Xi=0;Xi<ai.skipRows;Xi++)Zi.shift();if(ai.useColumnNames){ji=Zi.shift();for(let We=0;We<ji.length;We++)li=null!=ji[We]?ji[We].replace(/^\s+|\s+$/gm,""):"",""===li&&(li="col"+We),ji[We]=li}for(;tn=ai.reverse?Zi.pop():Zi.shift(),tn;){if(ai.skipEmpty&&1===tn.length&&""===tn[0])continue;let We={};for(Xi=0;Xi<tn.length;Xi++)li=void 0===ji[Xi]?"col"+Xi:ji[Xi],We[li]=tn[Xi];_n.push(We)}return _n}static CSVToArray(ei,ai){ai=ai||",";let li=new RegExp("(\\"+ai+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+ai+"\\r\\n]*))","gi"),Xi=[[]],tn=null;for(;tn=li.exec(ei),tn;){let Zi,_n=tn[1];_n.length&&_n!==ai&&Xi.push([]),Zi=tn[2]?tn[2].replace(new RegExp('""',"g"),'"'):tn[3],Xi[Xi.length-1].push(Zi)}return Xi}static _applyDefaults(ei){const ai={};return ei||(ei={}),ii.each({delimiter:",",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},(li,Xi)=>{ai[li]=ei[li]||Xi}),ai}}class Gt extends I.JH{constructor(){super(...arguments),Object.defineProperty(this,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=null!=this.get("emptyAs")),this._checkDeepFeatures()}_checkDeepFeatures(){const ei=[];te.each(["dateFields","numericFields","colorFields"],ai=>{te.each(this.get(ai,[]),li=>{const Xi=li.split(".");for(Xi.pop();Xi.length>0;)ei.push(Xi.join(".")),Xi.pop()})}),this._checkDeep=ei.length>0,this.setPrivate("deepFields",ei)}processMany(ei){K.isArray(ei)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&te.each(ei,ai=>{this.processRow(ai)})}processRow(ei,ai=""){ii.each(ei,(li,Xi)=>{const tn=ai+li;this._checkEmpty&&(ei[li]=this._maybeToEmpty(ei[li])),this._checkNumbers&&(ei[li]=this._maybeToNumber(tn,ei[li])),this._checkDates&&(ei[li]=this._maybeToDate(tn,ei[li])),this._checkColors&&(ei[li]=this._maybeToColor(tn,ei[li])),this._checkDeep&&-1!==this.getPrivate("deepFields",[]).indexOf(tn)&&K.isObject(ei[li])&&this.processRow(ei[li],tn+".")})}_maybeToNumber(ei,ai){return-1!==this.get("numericFields").indexOf(ei)?K.toNumber(ai):ai}_maybeToDate(ei,ai){return-1!==this.get("dateFields").indexOf(ei)?this._root.dateFormatter.parse(ai,this.get("dateFormat","")).getTime():ai}_maybeToEmpty(ei){return null!=ei&&""!=ei||null==this.get("emptyAs")?ei:this.get("emptyAs")}_maybeToColor(ei,ai){return-1!==this.get("colorFields").indexOf(ei)?pt.Il.fromAny(ai):ai}}var ee=a(6460),ge=a(798),Ae=a(9821),yi=a(780),Fi=a(7255),Li=a(1195),qi=a(9395);function cn(Yi,ei,ai){return new Promise((li,Xi)=>{let tn=null!=ai&&"blob"==ai.responseType,Zi=new XMLHttpRequest;if(Zi.onload=()=>{if(200===Zi.status){let _n,ji;if(tn)return ji=Zi.response,void Fn(ji).then(Z=>{let Q={xhr:Zi,error:!1,response:Z,blob:ji,type:Zi.getResponseHeader("Content-Type"),target:ei};li(Q)});_n=Zi.responseText||Zi.response;let We={xhr:Zi,error:!1,response:_n,blob:ji,type:Zi.getResponseHeader("Content-Type"),target:ei};li(We)}else Xi({xhr:Zi,error:!0,type:Zi.getResponseHeader("Content-Type"),target:ei})},Zi.onerror=()=>{Xi({xhr:Zi,error:!0,type:Zi.getResponseHeader("Content-Type"),target:ei})},Zi.open("GET",Yi,!0),ai&&ai.withCredentials&&(Zi.withCredentials=!0),null!=ai){if(null!=ai.requestHeaders)for(let _n=0;_n<ai.requestHeaders.length;_n++){let ji=ai.requestHeaders[_n];Zi.setRequestHeader(ji.key,ji.value)}null!=ai.responseType&&(Zi.responseType=ai.responseType)}Zi.send()})}function Fn(Yi){return new Promise((ei,ai)=>{const li=new FileReader;li.onload=Xi=>{ei(li.result)},li.onerror=Xi=>{ai(Xi)},li.readAsText(Yi)})}var Gn=a(1926)},3100:function(F,N){"use strict";N.Z={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\xce\xbc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(a){let p="th";if(a<11||a>13)switch(a%10){case 1:p="st";break;case 2:p="nd";break;case 3:p="rd"}return p},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""}},9629:function(F){var N=function(a){"use strict";var p,l=Object.prototype,d=l.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},w=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",I=_.toStringTag||"@@toStringTag";function h(ut,at,Ct){return Object.defineProperty(ut,at,{value:Ct,enumerable:!0,configurable:!0,writable:!0}),ut[at]}try{h({},"")}catch{h=function(at,Ct,vt){return at[Ct]=vt}}function n(ut,at,Ct,vt){var Ft,Ot,jt,$t,Tt=Object.create((at&&at.prototype instanceof k?at:k).prototype),kt=new yt(vt||[]);return Tt._invoke=(Ft=ut,Ot=Ct,jt=kt,$t=P,function(Wt,ne){if($t===m)throw new Error("Generator is already running");if($t===C){if("throw"===Wt)throw ne;return rt()}for(jt.method=Wt,jt.arg=ne;;){var Jt=jt.delegate;if(Jt){var Nt=W(Jt,jt);if(Nt){if(Nt===A)continue;return Nt}}if("next"===jt.method)jt.sent=jt._sent=jt.arg;else if("throw"===jt.method){if($t===P)throw $t=C,jt.arg;jt.dispatchException(jt.arg)}else"return"===jt.method&&jt.abrupt("return",jt.arg);$t=m;var Rt=D(Ft,Ot,jt);if("normal"===Rt.type){if($t=jt.done?C:E,Rt.arg===A)continue;return{value:Rt.arg,done:jt.done}}"throw"===Rt.type&&($t=C,jt.method="throw",jt.arg=Rt.arg)}}),Tt}function D(ut,at,Ct){try{return{type:"normal",arg:ut.call(at,Ct)}}catch(vt){return{type:"throw",arg:vt}}}a.wrap=n;var P="suspendedStart",E="suspendedYield",m="executing",C="completed",A={};function k(){}function f(){}function o(){}var R={};h(R,w,function(){return this});var U=Object.getPrototypeOf,X=U&&U(U(_t([])));X&&X!==l&&d.call(X,w)&&(R=X);var tt=o.prototype=k.prototype=Object.create(R);function pt(ut){["next","throw","return"].forEach(function(at){h(ut,at,function(Ct){return this._invoke(at,Ct)})})}function ot(ut,at){function Ct(ct,Tt,kt,Ft){var Ot=D(ut[ct],ut,Tt);if("throw"!==Ot.type){var jt=Ot.arg,$t=jt.value;return $t&&"object"==typeof $t&&d.call($t,"__await")?at.resolve($t.__await).then(function(Wt){Ct("next",Wt,kt,Ft)},function(Wt){Ct("throw",Wt,kt,Ft)}):at.resolve($t).then(function(Wt){jt.value=Wt,kt(jt)},function(Wt){return Ct("throw",Wt,kt,Ft)})}Ft(Ot.arg)}var vt;this._invoke=function(ct,Tt){function kt(){return new at(function(Ft,Ot){Ct(ct,Tt,Ft,Ot)})}return vt=vt?vt.then(kt,kt):kt()}}function W(ut,at){var Ct=ut.iterator[at.method];if(Ct===p){if(at.delegate=null,"throw"===at.method){if(ut.iterator.return&&(at.method="return",at.arg=p,W(ut,at),"throw"===at.method))return A;at.method="throw",at.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var vt=D(Ct,ut.iterator,at.arg);if("throw"===vt.type)return at.method="throw",at.arg=vt.arg,at.delegate=null,A;var ct=vt.arg;return ct?ct.done?(at[ut.resultName]=ct.value,at.next=ut.nextLoc,"return"!==at.method&&(at.method="next",at.arg=p),at.delegate=null,A):ct:(at.method="throw",at.arg=new TypeError("iterator result is not an object"),at.delegate=null,A)}function K(ut){var at={tryLoc:ut[0]};1 in ut&&(at.catchLoc=ut[1]),2 in ut&&(at.finallyLoc=ut[2],at.afterLoc=ut[3]),this.tryEntries.push(at)}function gt(ut){var at=ut.completion||{};at.type="normal",delete at.arg,ut.completion=at}function yt(ut){this.tryEntries=[{tryLoc:"root"}],ut.forEach(K,this),this.reset(!0)}function _t(ut){if(ut){var at=ut[w];if(at)return at.call(ut);if("function"==typeof ut.next)return ut;if(!isNaN(ut.length)){var Ct=-1,vt=function ct(){for(;++Ct<ut.length;)if(d.call(ut,Ct))return ct.value=ut[Ct],ct.done=!1,ct;return ct.value=p,ct.done=!0,ct};return vt.next=vt}}return{next:rt}}function rt(){return{value:p,done:!0}}return f.prototype=o,h(tt,"constructor",o),h(o,"constructor",f),f.displayName=h(o,I,"GeneratorFunction"),a.isGeneratorFunction=function(ut){var at="function"==typeof ut&&ut.constructor;return!!at&&(at===f||"GeneratorFunction"===(at.displayName||at.name))},a.mark=function(ut){return Object.setPrototypeOf?Object.setPrototypeOf(ut,o):(ut.__proto__=o,h(ut,I,"GeneratorFunction")),ut.prototype=Object.create(tt),ut},a.awrap=function(ut){return{__await:ut}},pt(ot.prototype),h(ot.prototype,x,function(){return this}),a.AsyncIterator=ot,a.async=function(ut,at,Ct,vt,ct){void 0===ct&&(ct=Promise);var Tt=new ot(n(ut,at,Ct,vt),ct);return a.isGeneratorFunction(at)?Tt:Tt.next().then(function(kt){return kt.done?kt.value:Tt.next()})},pt(tt),h(tt,I,"Generator"),h(tt,w,function(){return this}),h(tt,"toString",function(){return"[object Generator]"}),a.keys=function(ut){var at=[];for(var Ct in ut)at.push(Ct);return at.reverse(),function vt(){for(;at.length;){var ct=at.pop();if(ct in ut)return vt.value=ct,vt.done=!1,vt}return vt.done=!0,vt}},a.values=_t,yt.prototype={constructor:yt,reset:function(ut){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(gt),!ut)for(var at in this)"t"===at.charAt(0)&&d.call(this,at)&&!isNaN(+at.slice(1))&&(this[at]=p)},stop:function(){this.done=!0;var ut=this.tryEntries[0].completion;if("throw"===ut.type)throw ut.arg;return this.rval},dispatchException:function(ut){if(this.done)throw ut;var at=this;function Ct(Ot,jt){return Tt.type="throw",Tt.arg=ut,at.next=Ot,jt&&(at.method="next",at.arg=p),!!jt}for(var vt=this.tryEntries.length-1;vt>=0;--vt){var ct=this.tryEntries[vt],Tt=ct.completion;if("root"===ct.tryLoc)return Ct("end");if(ct.tryLoc<=this.prev){var kt=d.call(ct,"catchLoc"),Ft=d.call(ct,"finallyLoc");if(kt&&Ft){if(this.prev<ct.catchLoc)return Ct(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return Ct(ct.finallyLoc)}else if(kt){if(this.prev<ct.catchLoc)return Ct(ct.catchLoc,!0)}else{if(!Ft)throw new Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return Ct(ct.finallyLoc)}}}},abrupt:function(ut,at){for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var vt=this.tryEntries[Ct];if(vt.tryLoc<=this.prev&&d.call(vt,"finallyLoc")&&this.prev<vt.finallyLoc){var ct=vt;break}}ct&&("break"===ut||"continue"===ut)&&ct.tryLoc<=at&&at<=ct.finallyLoc&&(ct=null);var Tt=ct?ct.completion:{};return Tt.type=ut,Tt.arg=at,ct?(this.method="next",this.next=ct.finallyLoc,A):this.complete(Tt)},complete:function(ut,at){if("throw"===ut.type)throw ut.arg;return"break"===ut.type||"continue"===ut.type?this.next=ut.arg:"return"===ut.type?(this.rval=this.arg=ut.arg,this.method="return",this.next="end"):"normal"===ut.type&&at&&(this.next=at),A},finish:function(ut){for(var at=this.tryEntries.length-1;at>=0;--at){var Ct=this.tryEntries[at];if(Ct.finallyLoc===ut)return this.complete(Ct.completion,Ct.afterLoc),gt(Ct),A}},catch:function(ut){for(var at=this.tryEntries.length-1;at>=0;--at){var Ct=this.tryEntries[at];if(Ct.tryLoc===ut){var vt=Ct.completion;if("throw"===vt.type){var ct=vt.arg;gt(Ct)}return ct}}throw new Error("illegal catch attempt")},delegateYield:function(ut,at,Ct){return this.delegate={iterator:_t(ut),resultName:at,nextLoc:Ct},"next"===this.method&&(this.arg=p),A}},a}(F.exports);try{regeneratorRuntime=N}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=N:Function("r","regeneratorRuntime = r")(N)}},5125:function(F,N,a){"use strict";function p(l,d,_,w){return new(_||(_=Promise))(function(x,I){function h(P){try{D(w.next(P))}catch(E){I(E)}}function n(P){try{D(w.throw(P))}catch(E){I(E)}}function D(P){var E;P.done?x(P.value):(E=P.value,E instanceof _?E:new _(function(m){m(E)})).then(h,n)}D((w=w.apply(l,d||[])).next())})}a.d(N,{mG:function(){return p}})},8494:function(F,N,a){"use strict";a.r(N),a.d(N,{am5:function(){return m}});const p=window.Promise,l=p&&p.prototype.then,d=p&&p.prototype.catch,_=p&&p.prototype.finally,w=p&&p.reject,x=p&&p.resolve,I=p&&p.allSettled,h=p&&p.all,n=p&&p.race,D=window.fetch,P=String.prototype.startsWith,E=String.prototype.endsWith;a(9629);const m=a(9852);var C;a.p=(C=function(){if(document.currentScript)return document.currentScript;var A=document.getElementsByTagName("script");return A[A.length-1]}().src,/(.*\/)[^\/]*$/.exec(C)[1]),p&&(window.Promise=p,l&&(p.prototype.then=l),d&&(p.prototype.catch=d),_&&(p.prototype.finally=_),w&&(p.reject=w),x&&(p.resolve=x),I&&(p.allSettled=I),h&&(p.all=h),n&&(p.race=n)),D&&(window.fetch=D),P&&(String.prototype.startsWith=P),E&&(String.prototype.endsWith=E)},4138:function(F,N){"use strict";var a={value:()=>{}};function p(){for(var x,I=0,h=arguments.length,n={};I<h;++I){if(!(x=arguments[I]+"")||x in n||/[\s.]/.test(x))throw new Error("illegal type: "+x);n[x]=[]}return new l(n)}function l(x){this._=x}function d(x,I){return x.trim().split(/^|\s+/).map(function(h){var n="",D=h.indexOf(".");if(D>=0&&(n=h.slice(D+1),h=h.slice(0,D)),h&&!I.hasOwnProperty(h))throw new Error("unknown type: "+h);return{type:h,name:n}})}function _(x,I){for(var h,n=0,D=x.length;n<D;++n)if((h=x[n]).name===I)return h.value}function w(x,I,h){for(var n=0,D=x.length;n<D;++n)if(x[n].name===I){x[n]=a,x=x.slice(0,n).concat(x.slice(n+1));break}return null!=h&&x.push({name:I,value:h}),x}l.prototype=p.prototype={constructor:l,on:function(x,I){var h,n=this._,D=d(x+"",n),P=-1,E=D.length;if(!(arguments.length<2)){if(null!=I&&"function"!=typeof I)throw new Error("invalid callback: "+I);for(;++P<E;)if(h=(x=D[P]).type)n[h]=w(n[h],x.name,I);else if(null==I)for(h in n)n[h]=w(n[h],x.name,null);return this}for(;++P<E;)if((h=(x=D[P]).type)&&(h=_(n[h],x.name)))return h},copy:function(){var x={},I=this._;for(var h in I)x[h]=I[h].slice();return new l(x)},call:function(x,I){if((h=arguments.length-2)>0)for(var h,n,D=new Array(h),P=0;P<h;++P)D[P]=arguments[P+2];if(!this._.hasOwnProperty(x))throw new Error("unknown type: "+x);for(P=0,h=(n=this._[x]).length;P<h;++P)n[P].value.apply(I,D)},apply:function(x,I,h){if(!this._.hasOwnProperty(x))throw new Error("unknown type: "+x);for(var n=this._[x],D=0,P=n.length;D<P;++D)n[D].value.apply(I,h)}},N.Z=p},5493:function(F,N){"use strict";const a=Math.PI,p=2*a,l=1e-6,d=p-l;function _(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function w(){return new _}_.prototype=w.prototype={constructor:_,moveTo:function(x,I){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+I)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(x,I){this._+="L"+(this._x1=+x)+","+(this._y1=+I)},quadraticCurveTo:function(x,I,h,n){this._+="Q"+ +x+","+ +I+","+(this._x1=+h)+","+(this._y1=+n)},bezierCurveTo:function(x,I,h,n,D,P){this._+="C"+ +x+","+ +I+","+ +h+","+ +n+","+(this._x1=+D)+","+(this._y1=+P)},arcTo:function(x,I,h,n,D){var P=this._x1,E=this._y1,m=(h=+h)-(x=+x),C=(n=+n)-(I=+I),A=P-x,k=E-I,f=A*A+k*k;if((D=+D)<0)throw new Error("negative radius: "+D);if(null===this._x1)this._+="M"+(this._x1=x)+","+(this._y1=I);else if(f>l)if(Math.abs(k*m-C*A)>l&&D){var o=h-P,R=n-E,U=m*m+C*C,X=o*o+R*R,tt=Math.sqrt(U),pt=Math.sqrt(f),ot=D*Math.tan((a-Math.acos((U+f-X)/(2*tt*pt)))/2),W=ot/pt,K=ot/tt;Math.abs(W-1)>l&&(this._+="L"+(x+W*A)+","+(I+W*k)),this._+="A"+D+","+D+",0,0,"+ +(k*o>A*R)+","+(this._x1=x+K*m)+","+(this._y1=I+K*C)}else this._+="L"+(this._x1=x)+","+(this._y1=I)},arc:function(x,I,h,n,D,P){x=+x,I=+I,P=!!P;var E=(h=+h)*Math.cos(n),m=h*Math.sin(n),C=x+E,A=I+m,k=1^P,f=P?n-D:D-n;if(h<0)throw new Error("negative radius: "+h);null===this._x1?this._+="M"+C+","+A:(Math.abs(this._x1-C)>l||Math.abs(this._y1-A)>l)&&(this._+="L"+C+","+A),h&&(f<0&&(f=f%p+p),f>d?this._+="A"+h+","+h+",0,1,"+k+","+(x-E)+","+(I-m)+"A"+h+","+h+",0,1,"+k+","+(this._x1=C)+","+(this._y1=A):f>l&&(this._+="A"+h+","+h+",0,"+ +(f>=a)+","+k+","+(this._x1=x+h*Math.cos(D))+","+(this._y1=I+h*Math.sin(D))))},rect:function(x,I,h,n){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+I)+"h"+ +h+"v"+ +n+"h"+-h+"Z"},toString:function(){return this._}},N.Z=w},832:function(F,N,a){"use strict";a.d(N,{Z:function(){return pt}});var p=a(5493),l=a(3141);const d=Math.abs,_=Math.atan2,w=Math.cos,x=Math.max,I=Math.min,h=Math.sin,n=Math.sqrt,D=1e-12,P=Math.PI,E=P/2,m=2*P;function C(ot){return ot>1?0:ot<-1?P:Math.acos(ot)}function A(ot){return ot>=1?E:ot<=-1?-E:Math.asin(ot)}function k(ot){return ot.innerRadius}function f(ot){return ot.outerRadius}function o(ot){return ot.startAngle}function R(ot){return ot.endAngle}function U(ot){return ot&&ot.padAngle}function X(ot,W,K,gt,yt,_t,rt,ut){var at=K-ot,Ct=gt-W,vt=rt-yt,ct=ut-_t,Tt=ct*at-vt*Ct;if(!(Tt*Tt<D))return[ot+(Tt=(vt*(W-_t)-ct*(ot-yt))/Tt)*at,W+Tt*Ct]}function tt(ot,W,K,gt,yt,_t,rt){var ut=ot-K,at=W-gt,Ct=(rt?_t:-_t)/n(ut*ut+at*at),vt=Ct*at,ct=-Ct*ut,Tt=ot+vt,kt=W+ct,Ft=K+vt,Ot=gt+ct,jt=(Tt+Ft)/2,$t=(kt+Ot)/2,Wt=Ft-Tt,ne=Ot-kt,Jt=Wt*Wt+ne*ne,Nt=yt-_t,Rt=Tt*Ot-Ft*kt,ie=(ne<0?-1:1)*n(x(0,Nt*Nt*Jt-Rt*Rt)),se=(Rt*ne-Wt*ie)/Jt,ce=(-Rt*Wt-ne*ie)/Jt,te=(Rt*ne+Wt*ie)/Jt,Ie=(-Rt*Wt+ne*ie)/Jt,Ve=se-jt,Ai=ce-$t,gi=te-jt,pi=Ie-$t;return Ve*Ve+Ai*Ai>gi*gi+pi*pi&&(se=te,ce=Ie),{cx:se,cy:ce,x01:-vt,y01:-ct,x11:se*(yt/Nt-1),y11:ce*(yt/Nt-1)}}function pt(){var ot=k,W=f,K=(0,l.Z)(0),gt=null,yt=o,_t=R,rt=U,ut=null;function at(){var Ct,vt,ct=+ot.apply(this,arguments),Tt=+W.apply(this,arguments),kt=yt.apply(this,arguments)-E,Ft=_t.apply(this,arguments)-E,Ot=d(Ft-kt),jt=Ft>kt;if(ut||(ut=Ct=(0,p.Z)()),Tt<ct&&(vt=Tt,Tt=ct,ct=vt),Tt>D)if(Ot>m-D)ut.moveTo(Tt*w(kt),Tt*h(kt)),ut.arc(0,0,Tt,kt,Ft,!jt),ct>D&&(ut.moveTo(ct*w(Ft),ct*h(Ft)),ut.arc(0,0,ct,Ft,kt,jt));else{var $t,Wt,ne=kt,Jt=Ft,Nt=kt,Rt=Ft,ie=Ot,se=Ot,ce=rt.apply(this,arguments)/2,te=ce>D&&(gt?+gt.apply(this,arguments):n(ct*ct+Tt*Tt)),Ie=I(d(Tt-ct)/2,+K.apply(this,arguments)),Ve=Ie,Ai=Ie;if(te>D){var gi=A(te/ct*h(ce)),pi=A(te/Tt*h(ce));(ie-=2*gi)>D?(Nt+=gi*=jt?1:-1,Rt-=gi):(ie=0,Nt=Rt=(kt+Ft)/2),(se-=2*pi)>D?(ne+=pi*=jt?1:-1,Jt-=pi):(se=0,ne=Jt=(kt+Ft)/2)}var Ri=Tt*w(ne),ti=Tt*h(ne),Ti=ct*w(Rt),xi=ct*h(Rt);if(Ie>D){var be,ii=Tt*w(Jt),nt=Tt*h(Jt),St=ct*w(Nt),Gt=ct*h(Nt);if(Ot<P&&(be=X(Ri,ti,St,Gt,ii,nt,Ti,xi))){var ee=Ri-be[0],ge=ti-be[1],Ae=ii-be[0],yi=nt-be[1],Fi=1/h(C((ee*Ae+ge*yi)/(n(ee*ee+ge*ge)*n(Ae*Ae+yi*yi)))/2),Li=n(be[0]*be[0]+be[1]*be[1]);Ve=I(Ie,(ct-Li)/(Fi-1)),Ai=I(Ie,(Tt-Li)/(Fi+1))}}se>D?Ai>D?($t=tt(St,Gt,Ri,ti,Tt,Ai,jt),Wt=tt(ii,nt,Ti,xi,Tt,Ai,jt),ut.moveTo($t.cx+$t.x01,$t.cy+$t.y01),Ai<Ie?ut.arc($t.cx,$t.cy,Ai,_($t.y01,$t.x01),_(Wt.y01,Wt.x01),!jt):(ut.arc($t.cx,$t.cy,Ai,_($t.y01,$t.x01),_($t.y11,$t.x11),!jt),ut.arc(0,0,Tt,_($t.cy+$t.y11,$t.cx+$t.x11),_(Wt.cy+Wt.y11,Wt.cx+Wt.x11),!jt),ut.arc(Wt.cx,Wt.cy,Ai,_(Wt.y11,Wt.x11),_(Wt.y01,Wt.x01),!jt))):(ut.moveTo(Ri,ti),ut.arc(0,0,Tt,ne,Jt,!jt)):ut.moveTo(Ri,ti),ct>D&&ie>D?Ve>D?($t=tt(Ti,xi,ii,nt,ct,-Ve,jt),Wt=tt(Ri,ti,St,Gt,ct,-Ve,jt),ut.lineTo($t.cx+$t.x01,$t.cy+$t.y01),Ve<Ie?ut.arc($t.cx,$t.cy,Ve,_($t.y01,$t.x01),_(Wt.y01,Wt.x01),!jt):(ut.arc($t.cx,$t.cy,Ve,_($t.y01,$t.x01),_($t.y11,$t.x11),!jt),ut.arc(0,0,ct,_($t.cy+$t.y11,$t.cx+$t.x11),_(Wt.cy+Wt.y11,Wt.cx+Wt.x11),jt),ut.arc(Wt.cx,Wt.cy,Ve,_(Wt.y11,Wt.x11),_(Wt.y01,Wt.x01),!jt))):ut.arc(0,0,ct,Rt,Nt,jt):ut.lineTo(Ti,xi)}else ut.moveTo(0,0);if(ut.closePath(),Ct)return ut=null,Ct+""||null}return at.centroid=function(){var Ct=(+ot.apply(this,arguments)+ +W.apply(this,arguments))/2,vt=(+yt.apply(this,arguments)+ +_t.apply(this,arguments))/2-P/2;return[w(vt)*Ct,h(vt)*Ct]},at.innerRadius=function(Ct){return arguments.length?(ot="function"==typeof Ct?Ct:(0,l.Z)(+Ct),at):ot},at.outerRadius=function(Ct){return arguments.length?(W="function"==typeof Ct?Ct:(0,l.Z)(+Ct),at):W},at.cornerRadius=function(Ct){return arguments.length?(K="function"==typeof Ct?Ct:(0,l.Z)(+Ct),at):K},at.padRadius=function(Ct){return arguments.length?(gt=null==Ct?null:"function"==typeof Ct?Ct:(0,l.Z)(+Ct),at):gt},at.startAngle=function(Ct){return arguments.length?(yt="function"==typeof Ct?Ct:(0,l.Z)(+Ct),at):yt},at.endAngle=function(Ct){return arguments.length?(_t="function"==typeof Ct?Ct:(0,l.Z)(+Ct),at):_t},at.padAngle=function(Ct){return arguments.length?(rt="function"==typeof Ct?Ct:(0,l.Z)(+Ct),at):rt},at.context=function(Ct){return arguments.length?(ut=Ct??null,at):ut},at}},3794:function(F,N,a){"use strict";a.d(N,{Z:function(){return I}});var p=a(5493),l=a(8457),d=a(3141),_=a(964),w=a(774),x=a(6758);function I(h,n,D){var P=null,E=(0,d.Z)(!0),m=null,C=_.Z,A=null;function k(o){var R,U,X,tt,pt,ot=(o=(0,l.Z)(o)).length,W=!1,K=new Array(ot),gt=new Array(ot);for(null==m&&(A=C(pt=(0,p.Z)())),R=0;R<=ot;++R){if(!(R<ot&&E(tt=o[R],R,o))===W)if(W=!W)U=R,A.areaStart(),A.lineStart();else{for(A.lineEnd(),A.lineStart(),X=R-1;X>=U;--X)A.point(K[X],gt[X]);A.lineEnd(),A.areaEnd()}W&&(K[R]=+h(tt,R,o),gt[R]=+n(tt,R,o),A.point(P?+P(tt,R,o):K[R],D?+D(tt,R,o):gt[R]))}if(pt)return A=null,pt+""||null}function f(){return(0,w.Z)().defined(E).curve(C).context(m)}return h="function"==typeof h?h:void 0===h?x.x:(0,d.Z)(+h),n="function"==typeof n?n:(0,d.Z)(void 0===n?0:+n),D="function"==typeof D?D:void 0===D?x.y:(0,d.Z)(+D),k.x=function(o){return arguments.length?(h="function"==typeof o?o:(0,d.Z)(+o),P=null,k):h},k.x0=function(o){return arguments.length?(h="function"==typeof o?o:(0,d.Z)(+o),k):h},k.x1=function(o){return arguments.length?(P=null==o?null:"function"==typeof o?o:(0,d.Z)(+o),k):P},k.y=function(o){return arguments.length?(n="function"==typeof o?o:(0,d.Z)(+o),D=null,k):n},k.y0=function(o){return arguments.length?(n="function"==typeof o?o:(0,d.Z)(+o),k):n},k.y1=function(o){return arguments.length?(D=null==o?null:"function"==typeof o?o:(0,d.Z)(+o),k):D},k.lineX0=k.lineY0=function(){return f().x(h).y(n)},k.lineY1=function(){return f().x(h).y(D)},k.lineX1=function(){return f().x(P).y(n)},k.defined=function(o){return arguments.length?(E="function"==typeof o?o:(0,d.Z)(!!o),k):E},k.curve=function(o){return arguments.length?(C=o,null!=m&&(A=C(m)),k):C},k.context=function(o){return arguments.length?(null==o?m=A=null:A=C(m=o),k):m},k}},8457:function(F,N,a){"use strict";function p(l){return"object"==typeof l&&"length"in l?l:Array.from(l)}a.d(N,{Z:function(){return p}})},3141:function(F,N,a){"use strict";function p(l){return function(){return l}}a.d(N,{Z:function(){return p}})},964:function(F,N,a){"use strict";function p(d){this._context=d}function l(d){return new p(d)}a.d(N,{Z:function(){return l}}),p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,_){switch(d=+d,_=+_,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,_):this._context.moveTo(d,_);break;case 1:this._point=2;default:this._context.lineTo(d,_)}}}},774:function(F,N,a){"use strict";a.d(N,{Z:function(){return x}});var p=a(5493),l=a(8457),d=a(3141),_=a(964),w=a(6758);function x(I,h){var n=(0,d.Z)(!0),D=null,P=_.Z,E=null;function m(C){var A,k,f,o=(C=(0,l.Z)(C)).length,R=!1;for(null==D&&(E=P(f=(0,p.Z)())),A=0;A<=o;++A)!(A<o&&n(k=C[A],A,C))===R&&((R=!R)?E.lineStart():E.lineEnd()),R&&E.point(+I(k,A,C),+h(k,A,C));if(f)return E=null,f+""||null}return I="function"==typeof I?I:void 0===I?w.x:(0,d.Z)(I),h="function"==typeof h?h:void 0===h?w.y:(0,d.Z)(h),m.x=function(C){return arguments.length?(I="function"==typeof C?C:(0,d.Z)(+C),m):I},m.y=function(C){return arguments.length?(h="function"==typeof C?C:(0,d.Z)(+C),m):h},m.defined=function(C){return arguments.length?(n="function"==typeof C?C:(0,d.Z)(!!C),m):n},m.curve=function(C){return arguments.length?(P=C,null!=D&&(E=P(D)),m):P},m.context=function(C){return arguments.length?(null==C?D=E=null:E=P(D=C),m):D},m}},6758:function(F,N,a){"use strict";function p(d){return d[0]}function l(d){return d[1]}a.d(N,{x:function(){return p},y:function(){return l}})},7738:function(F,N,a){"use strict";a.d(N,{B7:function(){return m},HT:function(){return C},zO:function(){return P}});var p,l,d=0,_=0,w=0,x=0,I=0,h=0,n="object"==typeof performance&&performance.now?performance:Date,D="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function P(){return I||(D(E),I=n.now()+h)}function E(){I=0}function m(){this._call=this._time=this._next=null}function C(o,R,U){var X=new m;return X.restart(o,R,U),X}function A(){I=(x=n.now())+h,d=_=0;try{!function(){P(),++d;for(var o,R=p;R;)(o=I-R._time)>=0&&R._call.call(void 0,o),R=R._next;--d}()}finally{d=0,function(){for(var o,R,U=p,X=1/0;U;)U._call?(X>U._time&&(X=U._time),o=U,U=U._next):(R=U._next,U._next=null,U=o?o._next=R:p=R);l=o,f(X)}(),I=0}}function k(){var o=n.now(),R=o-x;R>1e3&&(h-=R,x=o)}function f(o){d||(_&&(_=clearTimeout(_)),o-I>24?(o<1/0&&(_=setTimeout(A,o-n.now()-h)),w&&(w=clearInterval(w))):(w||(x=n.now(),w=setInterval(k,1e3)),d=1,D(A)))}m.prototype=C.prototype={constructor:m,restart:function(o,R,U){if("function"!=typeof o)throw new TypeError("callback is not a function");U=(null==U?P():+U)+(null==R?0:+R),this._next||l===this||(l?l._next=this:p=this,l=this),this._call=o,this._time=U,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},7896:function(F,N,a){"use strict";function p(){}function l(wt){return null==wt?p:function(){return this.querySelector(wt)}}function d(wt){return null==wt?[]:Array.isArray(wt)?wt:Array.from(wt)}function _(){return[]}function w(wt){return null==wt?_:function(){return this.querySelectorAll(wt)}}function x(wt){return function(){return this.matches(wt)}}function I(wt){return function(Ht){return Ht.matches(wt)}}var h=Array.prototype.find;function n(){return this.firstElementChild}var D=Array.prototype.filter;function P(){return Array.from(this.children)}function E(wt){return new Array(wt.length)}function m(wt,Ht){this.ownerDocument=wt.ownerDocument,this.namespaceURI=wt.namespaceURI,this._next=null,this._parent=wt,this.__data__=Ht}function C(wt){return function(){return wt}}function A(wt,Ht,me,xe,Me,Ee){for(var Ze,Ne=0,_i=Ht.length,vi=Ee.length;Ne<vi;++Ne)(Ze=Ht[Ne])?(Ze.__data__=Ee[Ne],xe[Ne]=Ze):me[Ne]=new m(wt,Ee[Ne]);for(;Ne<_i;++Ne)(Ze=Ht[Ne])&&(Me[Ne]=Ze)}function k(wt,Ht,me,xe,Me,Ee,Ze){var Ne,_i,vi,Ki=new Map,ln=Ht.length,Mn=Ee.length,mr=new Array(ln);for(Ne=0;Ne<ln;++Ne)(_i=Ht[Ne])&&(mr[Ne]=vi=Ze.call(_i,_i.__data__,Ne,Ht)+"",Ki.has(vi)?Me[Ne]=_i:Ki.set(vi,_i));for(Ne=0;Ne<Mn;++Ne)vi=Ze.call(wt,Ee[Ne],Ne,Ee)+"",(_i=Ki.get(vi))?(xe[Ne]=_i,_i.__data__=Ee[Ne],Ki.delete(vi)):me[Ne]=new m(wt,Ee[Ne]);for(Ne=0;Ne<ln;++Ne)(_i=Ht[Ne])&&Ki.get(mr[Ne])===_i&&(Me[Ne]=_i)}function f(wt){return wt.__data__}function o(wt){return"object"==typeof wt&&"length"in wt?wt:Array.from(wt)}function R(wt,Ht){return wt<Ht?-1:wt>Ht?1:wt>=Ht?0:NaN}m.prototype={constructor:m,appendChild:function(wt){return this._parent.insertBefore(wt,this._next)},insertBefore:function(wt,Ht){return this._parent.insertBefore(wt,Ht)},querySelector:function(wt){return this._parent.querySelector(wt)},querySelectorAll:function(wt){return this._parent.querySelectorAll(wt)}};var U="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:U,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tt(wt){var Ht=wt+="",me=Ht.indexOf(":");return me>=0&&"xmlns"!==(Ht=wt.slice(0,me))&&(wt=wt.slice(me+1)),X.hasOwnProperty(Ht)?{space:X[Ht],local:wt}:wt}function pt(wt){return function(){this.removeAttribute(wt)}}function ot(wt){return function(){this.removeAttributeNS(wt.space,wt.local)}}function W(wt,Ht){return function(){this.setAttribute(wt,Ht)}}function K(wt,Ht){return function(){this.setAttributeNS(wt.space,wt.local,Ht)}}function gt(wt,Ht){return function(){var me=Ht.apply(this,arguments);null==me?this.removeAttribute(wt):this.setAttribute(wt,me)}}function yt(wt,Ht){return function(){var me=Ht.apply(this,arguments);null==me?this.removeAttributeNS(wt.space,wt.local):this.setAttributeNS(wt.space,wt.local,me)}}function _t(wt){return wt.ownerDocument&&wt.ownerDocument.defaultView||wt.document&&wt||wt.defaultView}function rt(wt){return function(){this.style.removeProperty(wt)}}function ut(wt,Ht,me){return function(){this.style.setProperty(wt,Ht,me)}}function at(wt,Ht,me){return function(){var xe=Ht.apply(this,arguments);null==xe?this.style.removeProperty(wt):this.style.setProperty(wt,xe,me)}}function Ct(wt,Ht){return wt.style.getPropertyValue(Ht)||_t(wt).getComputedStyle(wt,null).getPropertyValue(Ht)}function vt(wt){return function(){delete this[wt]}}function ct(wt,Ht){return function(){this[wt]=Ht}}function Tt(wt,Ht){return function(){var me=Ht.apply(this,arguments);null==me?delete this[wt]:this[wt]=me}}function kt(wt){return wt.trim().split(/^|\s+/)}function Ft(wt){return wt.classList||new Ot(wt)}function Ot(wt){this._node=wt,this._names=kt(wt.getAttribute("class")||"")}function jt(wt,Ht){for(var me=Ft(wt),xe=-1,Me=Ht.length;++xe<Me;)me.add(Ht[xe])}function $t(wt,Ht){for(var me=Ft(wt),xe=-1,Me=Ht.length;++xe<Me;)me.remove(Ht[xe])}function Wt(wt){return function(){jt(this,wt)}}function ne(wt){return function(){$t(this,wt)}}function Jt(wt,Ht){return function(){(Ht.apply(this,arguments)?jt:$t)(this,wt)}}function Nt(){this.textContent=""}function Rt(wt){return function(){this.textContent=wt}}function ie(wt){return function(){var Ht=wt.apply(this,arguments);this.textContent=Ht??""}}function se(){this.innerHTML=""}function ce(wt){return function(){this.innerHTML=wt}}function te(wt){return function(){var Ht=wt.apply(this,arguments);this.innerHTML=Ht??""}}function Ie(){this.nextSibling&&this.parentNode.appendChild(this)}function Ve(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ai(wt){return function(){var Ht=this.ownerDocument,me=this.namespaceURI;return me===U&&Ht.documentElement.namespaceURI===U?Ht.createElement(wt):Ht.createElementNS(me,wt)}}function gi(wt){return function(){return this.ownerDocument.createElementNS(wt.space,wt.local)}}function pi(wt){var Ht=tt(wt);return(Ht.local?gi:Ai)(Ht)}function Ri(){return null}function ti(){var wt=this.parentNode;wt&&wt.removeChild(this)}function Ti(){var wt=this.cloneNode(!1),Ht=this.parentNode;return Ht?Ht.insertBefore(wt,this.nextSibling):wt}function xi(){var wt=this.cloneNode(!0),Ht=this.parentNode;return Ht?Ht.insertBefore(wt,this.nextSibling):wt}function be(wt){return wt.trim().split(/^|\s+/).map(function(Ht){var me="",xe=Ht.indexOf(".");return xe>=0&&(me=Ht.slice(xe+1),Ht=Ht.slice(0,xe)),{type:Ht,name:me}})}function ii(wt){return function(){var Ht=this.__on;if(Ht){for(var me,xe=0,Me=-1,Ee=Ht.length;xe<Ee;++xe)me=Ht[xe],wt.type&&me.type!==wt.type||me.name!==wt.name?Ht[++Me]=me:this.removeEventListener(me.type,me.listener,me.options);++Me?Ht.length=Me:delete this.__on}}}function nt(wt,Ht,me){return function(){var xe,_i,Me=this.__on,Ee=(_i=Ht,function(vi){_i.call(this,vi,this.__data__)});if(Me)for(var Ze=0,Ne=Me.length;Ze<Ne;++Ze)if((xe=Me[Ze]).type===wt.type&&xe.name===wt.name)return this.removeEventListener(xe.type,xe.listener,xe.options),this.addEventListener(xe.type,xe.listener=Ee,xe.options=me),void(xe.value=Ht);this.addEventListener(wt.type,Ee,me),xe={type:wt.type,name:wt.name,value:Ht,listener:Ee,options:me},Me?Me.push(xe):this.__on=[xe]}}function St(wt,Ht,me){var xe=_t(wt),Me=xe.CustomEvent;"function"==typeof Me?Me=new Me(Ht,me):(Me=xe.document.createEvent("Event"),me?(Me.initEvent(Ht,me.bubbles,me.cancelable),Me.detail=me.detail):Me.initEvent(Ht,!1,!1)),wt.dispatchEvent(Me)}function Gt(wt,Ht){return function(){return St(this,wt,Ht)}}function ee(wt,Ht){return function(){return St(this,wt,Ht.apply(this,arguments))}}Ot.prototype={add:function(wt){this._names.indexOf(wt)<0&&(this._names.push(wt),this._node.setAttribute("class",this._names.join(" ")))},remove:function(wt){var Ht=this._names.indexOf(wt);Ht>=0&&(this._names.splice(Ht,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(wt){return this._names.indexOf(wt)>=0}};var ge=[null];function Ae(wt,Ht){this._groups=wt,this._parents=Ht}function yi(){return new Ae([[document.documentElement]],ge)}Ae.prototype=yi.prototype={constructor:Ae,select:function(wt){"function"!=typeof wt&&(wt=l(wt));for(var Ht=this._groups,me=Ht.length,xe=new Array(me),Me=0;Me<me;++Me)for(var Ee,Ze,Ne=Ht[Me],_i=Ne.length,vi=xe[Me]=new Array(_i),Ki=0;Ki<_i;++Ki)(Ee=Ne[Ki])&&(Ze=wt.call(Ee,Ee.__data__,Ki,Ne))&&("__data__"in Ee&&(Ze.__data__=Ee.__data__),vi[Ki]=Ze);return new Ae(xe,this._parents)},selectAll:function(wt){var Ki;wt="function"==typeof wt?(Ki=wt,function(){return d(Ki.apply(this,arguments))}):w(wt);for(var Ht=this._groups,me=Ht.length,xe=[],Me=[],Ee=0;Ee<me;++Ee)for(var Ze,Ne=Ht[Ee],_i=Ne.length,vi=0;vi<_i;++vi)(Ze=Ne[vi])&&(xe.push(wt.call(Ze,Ze.__data__,vi,Ne)),Me.push(Ze));return new Ae(xe,Me)},selectChild:function(wt){return this.select(null==wt?n:(Ht="function"==typeof wt?wt:I(wt),function(){return h.call(this.children,Ht)}));var Ht},selectChildren:function(wt){return this.selectAll(null==wt?P:(Ht="function"==typeof wt?wt:I(wt),function(){return D.call(this.children,Ht)}));var Ht},filter:function(wt){"function"!=typeof wt&&(wt=x(wt));for(var Ht=this._groups,me=Ht.length,xe=new Array(me),Me=0;Me<me;++Me)for(var Ee,Ze=Ht[Me],Ne=Ze.length,_i=xe[Me]=[],vi=0;vi<Ne;++vi)(Ee=Ze[vi])&&wt.call(Ee,Ee.__data__,vi,Ze)&&_i.push(Ee);return new Ae(xe,this._parents)},data:function(wt,Ht){if(!arguments.length)return Array.from(this,f);var me=Ht?k:A,xe=this._parents,Me=this._groups;"function"!=typeof wt&&(wt=C(wt));for(var Ee=Me.length,Ze=new Array(Ee),Ne=new Array(Ee),_i=new Array(Ee),vi=0;vi<Ee;++vi){var Ki=xe[vi],ln=Me[vi],Mn=ln.length,mr=o(wt.call(Ki,Ki&&Ki.__data__,vi,xe)),Un=mr.length,Dr=Ne[vi]=new Array(Un),vr=Ze[vi]=new Array(Un),_r=_i[vi]=new Array(Mn);me(Ki,ln,Dr,vr,_r,mr,Ht);for(var Qr,hr,Wr=0,Vn=0;Wr<Un;++Wr)if(Qr=Dr[Wr]){for(Wr>=Vn&&(Vn=Wr+1);!(hr=vr[Vn])&&++Vn<Un;);Qr._next=hr||null}}return(Ze=new Ae(Ze,xe))._enter=Ne,Ze._exit=_i,Ze},enter:function(){return new Ae(this._enter||this._groups.map(E),this._parents)},exit:function(){return new Ae(this._exit||this._groups.map(E),this._parents)},join:function(wt,Ht,me){var xe=this.enter(),Me=this,Ee=this.exit();return"function"==typeof wt?(xe=wt(xe))&&(xe=xe.selection()):xe=xe.append(wt+""),null!=Ht&&(Me=Ht(Me))&&(Me=Me.selection()),null==me?Ee.remove():me(Ee),xe&&Me?xe.merge(Me).order():Me},merge:function(wt){for(var Ht=wt.selection?wt.selection():wt,me=this._groups,xe=Ht._groups,Me=me.length,Ze=Math.min(Me,xe.length),Ne=new Array(Me),_i=0;_i<Ze;++_i)for(var vi,Ki=me[_i],ln=xe[_i],Mn=Ki.length,mr=Ne[_i]=new Array(Mn),Un=0;Un<Mn;++Un)(vi=Ki[Un]||ln[Un])&&(mr[Un]=vi);for(;_i<Me;++_i)Ne[_i]=me[_i];return new Ae(Ne,this._parents)},selection:function(){return this},order:function(){for(var wt=this._groups,Ht=-1,me=wt.length;++Ht<me;)for(var xe,Me=wt[Ht],Ee=Me.length-1,Ze=Me[Ee];--Ee>=0;)(xe=Me[Ee])&&(Ze&&4^xe.compareDocumentPosition(Ze)&&Ze.parentNode.insertBefore(xe,Ze),Ze=xe);return this},sort:function(wt){function Ht(ln,Mn){return ln&&Mn?wt(ln.__data__,Mn.__data__):!ln-!Mn}wt||(wt=R);for(var me=this._groups,xe=me.length,Me=new Array(xe),Ee=0;Ee<xe;++Ee){for(var Ze,Ne=me[Ee],_i=Ne.length,vi=Me[Ee]=new Array(_i),Ki=0;Ki<_i;++Ki)(Ze=Ne[Ki])&&(vi[Ki]=Ze);vi.sort(Ht)}return new Ae(Me,this._parents).order()},call:function(){var wt=arguments[0];return arguments[0]=this,wt.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var wt=this._groups,Ht=0,me=wt.length;Ht<me;++Ht)for(var xe=wt[Ht],Me=0,Ee=xe.length;Me<Ee;++Me){var Ze=xe[Me];if(Ze)return Ze}return null},size:function(){let wt=0;for(const Ht of this)++wt;return wt},empty:function(){return!this.node()},each:function(wt){for(var Ht=this._groups,me=0,xe=Ht.length;me<xe;++me)for(var Me,Ee=Ht[me],Ze=0,Ne=Ee.length;Ze<Ne;++Ze)(Me=Ee[Ze])&&wt.call(Me,Me.__data__,Ze,Ee);return this},attr:function(wt,Ht){var me=tt(wt);if(arguments.length<2){var xe=this.node();return me.local?xe.getAttributeNS(me.space,me.local):xe.getAttribute(me)}return this.each((null==Ht?me.local?ot:pt:"function"==typeof Ht?me.local?yt:gt:me.local?K:W)(me,Ht))},style:function(wt,Ht,me){return arguments.length>1?this.each((null==Ht?rt:"function"==typeof Ht?at:ut)(wt,Ht,me??"")):Ct(this.node(),wt)},property:function(wt,Ht){return arguments.length>1?this.each((null==Ht?vt:"function"==typeof Ht?Tt:ct)(wt,Ht)):this.node()[wt]},classed:function(wt,Ht){var me=kt(wt+"");if(arguments.length<2){for(var xe=Ft(this.node()),Me=-1,Ee=me.length;++Me<Ee;)if(!xe.contains(me[Me]))return!1;return!0}return this.each(("function"==typeof Ht?Jt:Ht?Wt:ne)(me,Ht))},text:function(wt){return arguments.length?this.each(null==wt?Nt:("function"==typeof wt?ie:Rt)(wt)):this.node().textContent},html:function(wt){return arguments.length?this.each(null==wt?se:("function"==typeof wt?te:ce)(wt)):this.node().innerHTML},raise:function(){return this.each(Ie)},lower:function(){return this.each(Ve)},append:function(wt){var Ht="function"==typeof wt?wt:pi(wt);return this.select(function(){return this.appendChild(Ht.apply(this,arguments))})},insert:function(wt,Ht){var me="function"==typeof wt?wt:pi(wt),xe=null==Ht?Ri:"function"==typeof Ht?Ht:l(Ht);return this.select(function(){return this.insertBefore(me.apply(this,arguments),xe.apply(this,arguments)||null)})},remove:function(){return this.each(ti)},clone:function(wt){return this.select(wt?xi:Ti)},datum:function(wt){return arguments.length?this.property("__data__",wt):this.node().__data__},on:function(wt,Ht,me){var xe,Me,Ee=be(wt+""),Ze=Ee.length;if(!(arguments.length<2)){for(Ne=Ht?nt:ii,xe=0;xe<Ze;++xe)this.each(Ne(Ee[xe],Ht,me));return this}var Ne=this.node().__on;if(Ne)for(var _i,vi=0,Ki=Ne.length;vi<Ki;++vi)for(xe=0,_i=Ne[vi];xe<Ze;++xe)if((Me=Ee[xe]).type===_i.type&&Me.name===_i.name)return _i.value},dispatch:function(wt,Ht){return this.each(("function"==typeof Ht?ee:Gt)(wt,Ht))},[Symbol.iterator]:function*(){for(var wt=this._groups,Ht=0,me=wt.length;Ht<me;++Ht)for(var xe,Me=wt[Ht],Ee=0,Ze=Me.length;Ee<Ze;++Ee)(xe=Me[Ee])&&(yield xe)}};var Fi=yi,Li=a(4138),qi=a(7738);function cn(wt,Ht,me){var xe=new qi.B7;return xe.restart(Me=>{xe.stop(),wt(Me+Ht)},Ht=null==Ht?0:+Ht,me),xe}var Fn=(0,Li.Z)("start","end","cancel","interrupt"),Gn=[];function Yi(wt,Ht,me,xe,Me,Ee){var Ze=wt.__transition;if(Ze){if(me in Ze)return}else wt.__transition={};!function(Ne,_i,vi){var Ki,ln=Ne.__transition;function Mn(Dr){var vr,_r,Qr,hr;if(1!==vi.state)return Un();for(vr in ln)if((hr=ln[vr]).name===vi.name){if(3===hr.state)return cn(Mn);4===hr.state?(hr.state=6,hr.timer.stop(),hr.on.call("interrupt",Ne,Ne.__data__,hr.index,hr.group),delete ln[vr]):+vr<_i&&(hr.state=6,hr.timer.stop(),hr.on.call("cancel",Ne,Ne.__data__,hr.index,hr.group),delete ln[vr])}if(cn(function(){3===vi.state&&(vi.state=4,vi.timer.restart(mr,vi.delay,vi.time),mr(Dr))}),vi.state=2,vi.on.call("start",Ne,Ne.__data__,vi.index,vi.group),2===vi.state){for(vi.state=3,Ki=new Array(Qr=vi.tween.length),vr=0,_r=-1;vr<Qr;++vr)(hr=vi.tween[vr].value.call(Ne,Ne.__data__,vi.index,vi.group))&&(Ki[++_r]=hr);Ki.length=_r+1}}function mr(Dr){for(var vr=Dr<vi.duration?vi.ease.call(null,Dr/vi.duration):(vi.timer.restart(Un),vi.state=5,1),_r=-1,Qr=Ki.length;++_r<Qr;)Ki[_r].call(Ne,vr);5===vi.state&&(vi.on.call("end",Ne,Ne.__data__,vi.index,vi.group),Un())}function Un(){for(var Dr in vi.state=6,vi.timer.stop(),delete ln[_i],ln)return;delete Ne.__transition}ln[_i]=vi,vi.timer=(0,qi.HT)(function(Dr){vi.state=1,vi.timer.restart(Mn,vi.delay,vi.time),vi.delay<=Dr&&Mn(Dr-vi.delay)},0,vi.time)}(wt,me,{name:Ht,index:xe,group:Me,on:Fn,tween:Gn,time:Ee.time,delay:Ee.delay,duration:Ee.duration,ease:Ee.ease,timer:null,state:0})}function ei(wt,Ht){var me=li(wt,Ht);if(me.state>0)throw new Error("too late; already scheduled");return me}function ai(wt,Ht){var me=li(wt,Ht);if(me.state>3)throw new Error("too late; already running");return me}function li(wt,Ht){var me=wt.__transition;if(!me||!(me=me[Ht]))throw new Error("transition not found");return me}function Xi(wt,Ht){return wt=+wt,Ht=+Ht,function(me){return wt*(1-me)+Ht*me}}var tn,Zi=180/Math.PI,_n={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ji(wt,Ht,me,xe,Me,Ee){var Ze,Ne,_i;return(Ze=Math.sqrt(wt*wt+Ht*Ht))&&(wt/=Ze,Ht/=Ze),(_i=wt*me+Ht*xe)&&(me-=wt*_i,xe-=Ht*_i),(Ne=Math.sqrt(me*me+xe*xe))&&(me/=Ne,xe/=Ne,_i/=Ne),wt*xe<Ht*me&&(wt=-wt,Ht=-Ht,_i=-_i,Ze=-Ze),{translateX:Me,translateY:Ee,rotate:Math.atan2(Ht,wt)*Zi,skewX:Math.atan(_i)*Zi,scaleX:Ze,scaleY:Ne}}function We(wt,Ht,me,xe){function Me(Ee){return Ee.length?Ee.pop()+" ":""}return function(Ee,Ze){var vi,Ki,ln,Ne=[],_i=[];return Ee=wt(Ee),Ze=wt(Ze),function(vi,Ki,ln,Mn,mr,Un){if(vi!==ln||Ki!==Mn){var Dr=mr.push("translate(",null,Ht,null,me);Un.push({i:Dr-4,x:Xi(vi,ln)},{i:Dr-2,x:Xi(Ki,Mn)})}else(ln||Mn)&&mr.push("translate("+ln+Ht+Mn+me)}(Ee.translateX,Ee.translateY,Ze.translateX,Ze.translateY,Ne,_i),ln=Ne,(vi=Ee.rotate)!==(Ki=Ze.rotate)?(vi-Ki>180?Ki+=360:Ki-vi>180&&(vi+=360),_i.push({i:ln.push(Me(ln)+"rotate(",null,xe)-2,x:Xi(vi,Ki)})):Ki&&ln.push(Me(ln)+"rotate("+Ki+xe),function(vi,Ki,ln,Mn){vi!==Ki?Mn.push({i:ln.push(Me(ln)+"skewX(",null,xe)-2,x:Xi(vi,Ki)}):Ki&&ln.push(Me(ln)+"skewX("+Ki+xe)}(Ee.skewX,Ze.skewX,Ne,_i),function(vi,Ki,ln,Mn,mr,Un){if(vi!==ln||Ki!==Mn){var Dr=mr.push(Me(mr)+"scale(",null,",",null,")");Un.push({i:Dr-4,x:Xi(vi,ln)},{i:Dr-2,x:Xi(Ki,Mn)})}else 1===ln&&1===Mn||mr.push(Me(mr)+"scale("+ln+","+Mn+")")}(Ee.scaleX,Ee.scaleY,Ze.scaleX,Ze.scaleY,Ne,_i),Ee=Ze=null,function(vi){for(var Ki,ln=-1,Mn=_i.length;++ln<Mn;)Ne[(Ki=_i[ln]).i]=Ki.x(vi);return Ne.join("")}}}var Z=We(function(wt){const Ht=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(wt+"");return Ht.isIdentity?_n:ji(Ht.a,Ht.b,Ht.c,Ht.d,Ht.e,Ht.f)},"px, ","px)","deg)"),Q=We(function(wt){return null==wt?_n:(tn||(tn=document.createElementNS("http://www.w3.org/2000/svg","g")),tn.setAttribute("transform",wt),(wt=tn.transform.baseVal.consolidate())?ji((wt=wt.matrix).a,wt.b,wt.c,wt.d,wt.e,wt.f):_n)},", ",")",")");function ht(wt,Ht){var me,xe;return function(){var Me=ai(this,wt),Ee=Me.tween;if(Ee!==me)for(var Ze=0,Ne=(xe=me=Ee).length;Ze<Ne;++Ze)if(xe[Ze].name===Ht){(xe=xe.slice()).splice(Ze,1);break}Me.tween=xe}}function xt(wt,Ht,me){var xe,Me;if("function"!=typeof me)throw new Error;return function(){var Ee=ai(this,wt),Ze=Ee.tween;if(Ze!==xe){Me=(xe=Ze).slice();for(var Ne={name:Ht,value:me},_i=0,vi=Me.length;_i<vi;++_i)if(Me[_i].name===Ht){Me[_i]=Ne;break}_i===vi&&Me.push(Ne)}Ee.tween=Me}}function Lt(wt,Ht,me){var xe=wt._id;return wt.each(function(){var Me=ai(this,xe);(Me.value||(Me.value={}))[Ht]=me.apply(this,arguments)}),function(Me){return li(Me,xe).value[Ht]}}function Ut(wt,Ht,me){wt.prototype=Ht.prototype=me,me.constructor=wt}function re(wt,Ht){var me=Object.create(wt.prototype);for(var xe in Ht)me[xe]=Ht[xe];return me}function Xt(){}var Le=1/.7,Oe="\\s*([+-]?\\d+)\\s*",Qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ye=/^#([0-9a-f]{3,8})$/,De=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),di=new RegExp(`^rgb\\(${ue},${ue},${ue}\\)$`),Xe=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${Qe}\\)$`),Oi=new RegExp(`^rgba\\(${ue},${ue},${ue},${Qe}\\)$`),ki=new RegExp(`^hsl\\(${Qe},${ue},${ue}\\)$`),oi=new RegExp(`^hsla\\(${Qe},${ue},${ue},${Qe}\\)$`),an={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ii(){return this.rgb().formatHex()}function Pn(){return this.rgb().formatRgb()}function yn(wt){var Ht,me;return wt=(wt+"").trim().toLowerCase(),(Ht=Ye.exec(wt))?(me=Ht[1].length,Ht=parseInt(Ht[1],16),6===me?bn(Ht):3===me?new wn(Ht>>8&15|Ht>>4&240,Ht>>4&15|240&Ht,(15&Ht)<<4|15&Ht,1):8===me?En(Ht>>24&255,Ht>>16&255,Ht>>8&255,(255&Ht)/255):4===me?En(Ht>>12&15|Ht>>8&240,Ht>>8&15|Ht>>4&240,Ht>>4&15|240&Ht,((15&Ht)<<4|15&Ht)/255):null):(Ht=De.exec(wt))?new wn(Ht[1],Ht[2],Ht[3],1):(Ht=di.exec(wt))?new wn(255*Ht[1]/100,255*Ht[2]/100,255*Ht[3]/100,1):(Ht=Xe.exec(wt))?En(Ht[1],Ht[2],Ht[3],Ht[4]):(Ht=Oi.exec(wt))?En(255*Ht[1]/100,255*Ht[2]/100,255*Ht[3]/100,Ht[4]):(Ht=ki.exec(wt))?Lr(Ht[1],Ht[2]/100,Ht[3]/100,1):(Ht=oi.exec(wt))?Lr(Ht[1],Ht[2]/100,Ht[3]/100,Ht[4]):an.hasOwnProperty(wt)?bn(an[wt]):"transparent"===wt?new wn(NaN,NaN,NaN,0):null}function bn(wt){return new wn(wt>>16&255,wt>>8&255,255&wt,1)}function En(wt,Ht,me,xe){return xe<=0&&(wt=Ht=me=NaN),new wn(wt,Ht,me,xe)}function kn(wt){return wt instanceof Xt||(wt=yn(wt)),wt?new wn((wt=wt.rgb()).r,wt.g,wt.b,wt.opacity):new wn}function Qn(wt,Ht,me,xe){return 1===arguments.length?kn(wt):new wn(wt,Ht,me,xe??1)}function wn(wt,Ht,me,xe){this.r=+wt,this.g=+Ht,this.b=+me,this.opacity=+xe}function Yn(){return`#${Xn(this.r)}${Xn(this.g)}${Xn(this.b)}`}function In(){const wt=An(this.opacity);return`${1===wt?"rgb(":"rgba("}${zi(this.r)}, ${zi(this.g)}, ${zi(this.b)}${1===wt?")":`, ${wt})`}`}function An(wt){return isNaN(wt)?1:Math.max(0,Math.min(1,wt))}function zi(wt){return Math.max(0,Math.min(255,Math.round(wt)||0))}function Xn(wt){return((wt=zi(wt))<16?"0":"")+wt.toString(16)}function Lr(wt,Ht,me,xe){return xe<=0?wt=Ht=me=NaN:me<=0||me>=1?wt=Ht=NaN:Ht<=0&&(wt=NaN),new lr(wt,Ht,me,xe)}function qn(wt){if(wt instanceof lr)return new lr(wt.h,wt.s,wt.l,wt.opacity);if(wt instanceof Xt||(wt=yn(wt)),!wt)return new lr;if(wt instanceof lr)return wt;var Ht=(wt=wt.rgb()).r/255,me=wt.g/255,xe=wt.b/255,Me=Math.min(Ht,me,xe),Ee=Math.max(Ht,me,xe),Ze=NaN,Ne=Ee-Me,_i=(Ee+Me)/2;return Ne?(Ze=Ht===Ee?(me-xe)/Ne+6*(me<xe):me===Ee?(xe-Ht)/Ne+2:(Ht-me)/Ne+4,Ne/=_i<.5?Ee+Me:2-Ee-Me,Ze*=60):Ne=_i>0&&_i<1?0:Ze,new lr(Ze,Ne,_i,wt.opacity)}function lr(wt,Ht,me,xe){this.h=+wt,this.s=+Ht,this.l=+me,this.opacity=+xe}function Xr(wt){return(wt=(wt||0)%360)<0?wt+360:wt}function Kr(wt){return Math.max(0,Math.min(1,wt||0))}function nr(wt,Ht,me){return 255*(wt<60?Ht+(me-Ht)*wt/60:wt<180?me:wt<240?Ht+(me-Ht)*(240-wt)/60:Ht)}function Rr(wt,Ht,me,xe,Me){var Ee=wt*wt,Ze=Ee*wt;return((1-3*wt+3*Ee-Ze)*Ht+(4-6*Ee+3*Ze)*me+(1+3*wt+3*Ee-3*Ze)*xe+Ze*Me)/6}Ut(Xt,yn,{copy(wt){return Object.assign(new this.constructor,this,wt)},displayable(){return this.rgb().displayable()},hex:Ii,formatHex:Ii,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return qn(this).formatHsl()},formatRgb:Pn,toString:Pn}),Ut(wn,Qn,re(Xt,{brighter(wt){return wt=null==wt?Le:Math.pow(Le,wt),new wn(this.r*wt,this.g*wt,this.b*wt,this.opacity)},darker(wt){return wt=null==wt?.7:Math.pow(.7,wt),new wn(this.r*wt,this.g*wt,this.b*wt,this.opacity)},rgb(){return this},clamp(){return new wn(zi(this.r),zi(this.g),zi(this.b),An(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yn,formatHex:Yn,formatHex8:function(){return`#${Xn(this.r)}${Xn(this.g)}${Xn(this.b)}${Xn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:In,toString:In})),Ut(lr,function(wt,Ht,me,xe){return 1===arguments.length?qn(wt):new lr(wt,Ht,me,xe??1)},re(Xt,{brighter(wt){return wt=null==wt?Le:Math.pow(Le,wt),new lr(this.h,this.s,this.l*wt,this.opacity)},darker(wt){return wt=null==wt?.7:Math.pow(.7,wt),new lr(this.h,this.s,this.l*wt,this.opacity)},rgb(){var wt=this.h%360+360*(this.h<0),Ht=isNaN(wt)||isNaN(this.s)?0:this.s,me=this.l,xe=me+(me<.5?me:1-me)*Ht,Me=2*me-xe;return new wn(nr(wt>=240?wt-240:wt+120,Me,xe),nr(wt,Me,xe),nr(wt<120?wt+240:wt-120,Me,xe),this.opacity)},clamp(){return new lr(Xr(this.h),Kr(this.s),Kr(this.l),An(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const wt=An(this.opacity);return`${1===wt?"hsl(":"hsla("}${Xr(this.h)}, ${100*Kr(this.s)}%, ${100*Kr(this.l)}%${1===wt?")":`, ${wt})`}`}}));var kr=wt=>()=>wt;function Ur(wt,Ht){var xe,Me,me=Ht-wt;return me?(xe=wt,Me=me,function(Ee){return xe+Ee*Me}):kr(isNaN(wt)?Ht:wt)}var Br=function wt(Ht){var Me,me=1==(Me=+(Me=Ht))?Ur:function(Ee,Ze){return Ze-Ee?(Ne=Ee,_i=Ze,vi=Me,Ne=Math.pow(Ne,vi),_i=Math.pow(_i,vi)-Ne,vi=1/vi,function(Ki){return Math.pow(Ne+Ki*_i,vi)}):kr(isNaN(Ee)?Ze:Ee);var Ne,_i,vi};function xe(Me,Ee){var Ze=me((Me=Qn(Me)).r,(Ee=Qn(Ee)).r),Ne=me(Me.g,Ee.g),_i=me(Me.b,Ee.b),vi=Ur(Me.opacity,Ee.opacity);return function(Ki){return Me.r=Ze(Ki),Me.g=Ne(Ki),Me.b=_i(Ki),Me.opacity=vi(Ki),Me+""}}return xe.gamma=wt,xe}(1);function wr(wt){return function(Ht){var me,xe,Me=Ht.length,Ee=new Array(Me),Ze=new Array(Me),Ne=new Array(Me);for(me=0;me<Me;++me)xe=Qn(Ht[me]),Ee[me]=xe.r||0,Ze[me]=xe.g||0,Ne[me]=xe.b||0;return Ee=wt(Ee),Ze=wt(Ze),Ne=wt(Ne),xe.opacity=1,function(_i){return xe.r=Ee(_i),xe.g=Ze(_i),xe.b=Ne(_i),xe+""}}}wr(function(wt){var Ht=wt.length-1;return function(me){var xe=me<=0?me=0:me>=1?(me=1,Ht-1):Math.floor(me*Ht),Me=wt[xe],Ee=wt[xe+1];return Rr((me-xe/Ht)*Ht,xe>0?wt[xe-1]:2*Me-Ee,Me,Ee,xe<Ht-1?wt[xe+2]:2*Ee-Me)}}),wr(function(wt){var Ht=wt.length;return function(me){var xe=Math.floor(((me%=1)<0?++me:me)*Ht);return Rr((me-xe/Ht)*Ht,wt[(xe+Ht-1)%Ht],wt[xe%Ht],wt[(xe+1)%Ht],wt[(xe+2)%Ht])}});var io=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,no=new RegExp(io.source,"g");function Bo(wt,Ht){var me,xe,Me,vi,Ee=io.lastIndex=no.lastIndex=0,Ze=-1,Ne=[],_i=[];for(wt+="",Ht+="";(me=io.exec(wt))&&(xe=no.exec(Ht));)(Me=xe.index)>Ee&&(Me=Ht.slice(Ee,Me),Ne[Ze]?Ne[Ze]+=Me:Ne[++Ze]=Me),(me=me[0])===(xe=xe[0])?Ne[Ze]?Ne[Ze]+=xe:Ne[++Ze]=xe:(Ne[++Ze]=null,_i.push({i:Ze,x:Xi(me,xe)})),Ee=no.lastIndex;return Ee<Ht.length&&(Me=Ht.slice(Ee),Ne[Ze]?Ne[Ze]+=Me:Ne[++Ze]=Me),Ne.length<2?_i[0]?(vi=_i[0].x,function(Ki){return vi(Ki)+""}):function(vi){return function(){return vi}}(Ht):(Ht=_i.length,function(vi){for(var Ki,ln=0;ln<Ht;++ln)Ne[(Ki=_i[ln]).i]=Ki.x(vi);return Ne.join("")})}function Jr(wt,Ht){var me;return("number"==typeof Ht?Xi:Ht instanceof yn?Br:(me=yn(Ht))?(Ht=me,Br):Bo)(wt,Ht)}function Vo(wt){return function(){this.removeAttribute(wt)}}function Zr(wt){return function(){this.removeAttributeNS(wt.space,wt.local)}}function to(wt,Ht,me){var xe,Me,Ee=me+"";return function(){var Ze=this.getAttribute(wt);return Ze===Ee?null:Ze===xe?Me:Me=Ht(xe=Ze,me)}}function fo(wt,Ht,me){var xe,Me,Ee=me+"";return function(){var Ze=this.getAttributeNS(wt.space,wt.local);return Ze===Ee?null:Ze===xe?Me:Me=Ht(xe=Ze,me)}}function $r(wt,Ht,me){var xe,Me,Ee;return function(){var Ze,Ne,_i=me(this);if(null!=_i)return(Ze=this.getAttribute(wt))===(Ne=_i+"")?null:Ze===xe&&Ne===Me?Ee:(Me=Ne,Ee=Ht(xe=Ze,_i));this.removeAttribute(wt)}}function mo(wt,Ht,me){var xe,Me,Ee;return function(){var Ze,Ne,_i=me(this);if(null!=_i)return(Ze=this.getAttributeNS(wt.space,wt.local))===(Ne=_i+"")?null:Ze===xe&&Ne===Me?Ee:(Me=Ne,Ee=Ht(xe=Ze,_i));this.removeAttributeNS(wt.space,wt.local)}}function cs(wt,Ht){return function(me){this.setAttribute(wt,Ht.call(this,me))}}function qo(wt,Ht){return function(me){this.setAttributeNS(wt.space,wt.local,Ht.call(this,me))}}function Eo(wt,Ht){var me,xe;function Me(){var Ee=Ht.apply(this,arguments);return Ee!==xe&&(me=(xe=Ee)&&qo(wt,Ee)),me}return Me._value=Ht,Me}function ps(wt,Ht){var me,xe;function Me(){var Ee=Ht.apply(this,arguments);return Ee!==xe&&(me=(xe=Ee)&&cs(wt,Ee)),me}return Me._value=Ht,Me}function es(wt,Ht){return function(){ei(this,wt).delay=+Ht.apply(this,arguments)}}function Ts(wt,Ht){return Ht=+Ht,function(){ei(this,wt).delay=Ht}}function $(wt,Ht){return function(){ai(this,wt).duration=+Ht.apply(this,arguments)}}function mt(wt,Ht){return Ht=+Ht,function(){ai(this,wt).duration=Ht}}function At(wt,Ht){if("function"!=typeof Ht)throw new Error;return function(){ai(this,wt).ease=Ht}}function Dt(wt,Ht,me){var xe,Me,Ee=(Ht+"").trim().split(/^|\s+/).every(function(Ne){var _i=Ne.indexOf(".");return _i>=0&&(Ne=Ne.slice(0,_i)),!Ne||"start"===Ne})?ei:ai;return function(){var Ze=Ee(this,wt),Ne=Ze.on;Ne!==xe&&(Me=(xe=Ne).copy()).on(Ht,me),Ze.on=Me}}var qt=Fi.prototype.constructor;function le(wt){return function(){this.style.removeProperty(wt)}}function ye(wt,Ht,me){return function(xe){this.style.setProperty(wt,Ht.call(this,xe),me)}}function je(wt,Ht,me){var xe,Me;function Ee(){var Ze=Ht.apply(this,arguments);return Ze!==Me&&(xe=(Me=Ze)&&ye(wt,Ze,me)),xe}return Ee._value=Ht,Ee}function ze(wt){return function(Ht){this.textContent=wt.call(this,Ht)}}function ni(wt){var Ht,me;function xe(){var Me=wt.apply(this,arguments);return Me!==me&&(Ht=(me=Me)&&ze(Me)),Ht}return xe._value=wt,xe}var Si=0;function Ei(wt,Ht,me,xe){this._groups=wt,this._parents=Ht,this._name=me,this._id=xe}function mi(){return++Si}var ci=Fi.prototype;Ei.prototype=function(wt){return Fi().transition(wt)}.prototype={constructor:Ei,select:function(wt){var Ht=this._name,me=this._id;"function"!=typeof wt&&(wt=l(wt));for(var xe=this._groups,Me=xe.length,Ee=new Array(Me),Ze=0;Ze<Me;++Ze)for(var Ne,_i,vi=xe[Ze],Ki=vi.length,ln=Ee[Ze]=new Array(Ki),Mn=0;Mn<Ki;++Mn)(Ne=vi[Mn])&&(_i=wt.call(Ne,Ne.__data__,Mn,vi))&&("__data__"in Ne&&(_i.__data__=Ne.__data__),ln[Mn]=_i,Yi(ln[Mn],Ht,me,Mn,ln,li(Ne,me)));return new Ei(Ee,this._parents,Ht,me)},selectAll:function(wt){var Ht=this._name,me=this._id;"function"!=typeof wt&&(wt=w(wt));for(var xe=this._groups,Me=xe.length,Ee=[],Ze=[],Ne=0;Ne<Me;++Ne)for(var _i,vi=xe[Ne],Ki=vi.length,ln=0;ln<Ki;++ln)if(_i=vi[ln]){for(var Mn,mr=wt.call(_i,_i.__data__,ln,vi),Un=li(_i,me),Dr=0,vr=mr.length;Dr<vr;++Dr)(Mn=mr[Dr])&&Yi(Mn,Ht,me,Dr,mr,Un);Ee.push(mr),Ze.push(_i)}return new Ei(Ee,Ze,Ht,me)},selectChild:ci.selectChild,selectChildren:ci.selectChildren,filter:function(wt){"function"!=typeof wt&&(wt=x(wt));for(var Ht=this._groups,me=Ht.length,xe=new Array(me),Me=0;Me<me;++Me)for(var Ee,Ze=Ht[Me],Ne=Ze.length,_i=xe[Me]=[],vi=0;vi<Ne;++vi)(Ee=Ze[vi])&&wt.call(Ee,Ee.__data__,vi,Ze)&&_i.push(Ee);return new Ei(xe,this._parents,this._name,this._id)},merge:function(wt){if(wt._id!==this._id)throw new Error;for(var Ht=this._groups,me=wt._groups,xe=Ht.length,Ee=Math.min(xe,me.length),Ze=new Array(xe),Ne=0;Ne<Ee;++Ne)for(var _i,vi=Ht[Ne],Ki=me[Ne],ln=vi.length,Mn=Ze[Ne]=new Array(ln),mr=0;mr<ln;++mr)(_i=vi[mr]||Ki[mr])&&(Mn[mr]=_i);for(;Ne<xe;++Ne)Ze[Ne]=Ht[Ne];return new Ei(Ze,this._parents,this._name,this._id)},selection:function(){return new qt(this._groups,this._parents)},transition:function(){for(var wt=this._name,Ht=this._id,me=mi(),xe=this._groups,Me=xe.length,Ee=0;Ee<Me;++Ee)for(var Ze,Ne=xe[Ee],_i=Ne.length,vi=0;vi<_i;++vi)if(Ze=Ne[vi]){var Ki=li(Ze,Ht);Yi(Ze,wt,me,vi,Ne,{time:Ki.time+Ki.delay+Ki.duration,delay:0,duration:Ki.duration,ease:Ki.ease})}return new Ei(xe,this._parents,wt,me)},call:ci.call,nodes:ci.nodes,node:ci.node,size:ci.size,empty:ci.empty,each:ci.each,on:function(wt,Ht){var me=this._id;return arguments.length<2?li(this.node(),me).on.on(wt):this.each(Dt(me,wt,Ht))},attr:function(wt,Ht){var me=tt(wt),xe="transform"===me?Q:Jr;return this.attrTween(wt,"function"==typeof Ht?(me.local?mo:$r)(me,xe,Lt(this,"attr."+wt,Ht)):null==Ht?(me.local?Zr:Vo)(me):(me.local?fo:to)(me,xe,Ht))},attrTween:function(wt,Ht){var me="attr."+wt;if(arguments.length<2)return(me=this.tween(me))&&me._value;if(null==Ht)return this.tween(me,null);if("function"!=typeof Ht)throw new Error;var xe=tt(wt);return this.tween(me,(xe.local?Eo:ps)(xe,Ht))},style:function(wt,Ht,me){var Me,Ee,Ze,Ne,_i,xe="transform"==(wt+="")?Z:Jr;return null==Ht?this.styleTween(wt,(Me=wt,Ee=xe,function(){var vi=Ct(this,Me),Ki=(this.style.removeProperty(Me),Ct(this,Me));return vi===Ki?null:vi===Ze&&Ki===Ne?_i:_i=Ee(Ze=vi,Ne=Ki)})).on("end.style."+wt,le(wt)):"function"==typeof Ht?this.styleTween(wt,function(Me,Ee,Ze){var Ne,_i,vi;return function(){var Ki=Ct(this,Me),ln=Ze(this),Mn=ln+"";return null==ln&&(this.style.removeProperty(Me),Mn=ln=Ct(this,Me)),Ki===Mn?null:Ki===Ne&&Mn===_i?vi:(_i=Mn,vi=Ee(Ne=Ki,ln))}}(wt,xe,Lt(this,"style."+wt,Ht))).each(function(Me,Ee){var Ze,Ne,_i,vi,Ki="style."+Ee,ln="end."+Ki;return function(){var Mn=ai(this,Me),mr=Mn.on,Un=null==Mn.value[Ki]?vi||(vi=le(Ee)):void 0;mr===Ze&&_i===Un||(Ne=(Ze=mr).copy()).on(ln,_i=Un),Mn.on=Ne}}(this._id,wt)):this.styleTween(wt,function(Me,Ee,Ze){var Ne,_i,vi=Ze+"";return function(){var Ki=Ct(this,Me);return Ki===vi?null:Ki===Ne?_i:_i=Ee(Ne=Ki,Ze)}}(wt,xe,Ht),me).on("end.style."+wt,null)},styleTween:function(wt,Ht,me){var xe="style."+(wt+="");if(arguments.length<2)return(xe=this.tween(xe))&&xe._value;if(null==Ht)return this.tween(xe,null);if("function"!=typeof Ht)throw new Error;return this.tween(xe,je(wt,Ht,me??""))},text:function(wt){return this.tween("text","function"==typeof wt?(Ht=Lt(this,"text",wt),function(){var me=Ht(this);this.textContent=me??""}):function(Ht){return function(){this.textContent=Ht}}(null==wt?"":wt+""));var Ht},textTween:function(wt){var Ht="text";if(arguments.length<1)return(Ht=this.tween(Ht))&&Ht._value;if(null==wt)return this.tween(Ht,null);if("function"!=typeof wt)throw new Error;return this.tween(Ht,ni(wt))},remove:function(){return this.on("end.remove",(wt=this._id,function(){var Ht=this.parentNode;for(var me in this.__transition)if(+me!==wt)return;Ht&&Ht.removeChild(this)}));var wt},tween:function(wt,Ht){var me=this._id;if(wt+="",arguments.length<2){for(var xe,Me=li(this.node(),me).tween,Ee=0,Ze=Me.length;Ee<Ze;++Ee)if((xe=Me[Ee]).name===wt)return xe.value;return null}return this.each((null==Ht?ht:xt)(me,wt,Ht))},delay:function(wt){var Ht=this._id;return arguments.length?this.each(("function"==typeof wt?es:Ts)(Ht,wt)):li(this.node(),Ht).delay},duration:function(wt){var Ht=this._id;return arguments.length?this.each(("function"==typeof wt?$:mt)(Ht,wt)):li(this.node(),Ht).duration},ease:function(wt){var Ht=this._id;return arguments.length?this.each(At(Ht,wt)):li(this.node(),Ht).ease},easeVarying:function(wt){if("function"!=typeof wt)throw new Error;return this.each((Ht=this._id,me=wt,function(){var xe=me.apply(this,arguments);if("function"!=typeof xe)throw new Error;ai(this,Ht).ease=xe}));var Ht,me},end:function(){var wt,Ht,me=this,xe=me._id,Me=me.size();return new Promise(function(Ee,Ze){var Ne={value:Ze},_i={value:function(){0==--Me&&Ee()}};me.each(function(){var vi=ai(this,xe),Ki=vi.on;Ki!==wt&&((Ht=(wt=Ki).copy())._.cancel.push(Ne),Ht._.interrupt.push(Ne),Ht._.end.push(_i)),vi.on=Ht}),0===Me&&Ee()})},[Symbol.iterator]:ci[Symbol.iterator]};var pn={time:null,delay:0,duration:250,ease:function(wt){return((wt*=2)<=1?wt*wt*wt:(wt-=2)*wt*wt+2)/2}};function fn(wt,Ht){for(var me;!(me=wt.__transition)||!(me=me[Ht]);)if(!(wt=wt.parentNode))throw new Error(`transition ${Ht} not found`);return me}Fi.prototype.interrupt=function(wt){return this.each(function(){!function(Ht,me){var xe,Me,Ee,Ze=Ht.__transition,Ne=!0;if(Ze){for(Ee in me=null==me?null:me+"",Ze)(xe=Ze[Ee]).name===me?(Me=xe.state>2&&xe.state<5,xe.state=6,xe.timer.stop(),xe.on.call(Me?"interrupt":"cancel",Ht,Ht.__data__,xe.index,xe.group),delete Ze[Ee]):Ne=!1;Ne&&delete Ht.__transition}}(this,wt)})},Fi.prototype.transition=function(wt){var Ht,me;wt instanceof Ei?(Ht=wt._id,wt=wt._name):(Ht=mi(),(me=pn).time=(0,qi.zO)(),wt=null==wt?null:wt+"");for(var xe=this._groups,Me=xe.length,Ee=0;Ee<Me;++Ee)for(var Ze,Ne=xe[Ee],_i=Ne.length,vi=0;vi<_i;++vi)(Ze=Ne[vi])&&Yi(Ze,wt,Ht,vi,Ne,me||fn(Ze,Ht));return new Ei(xe,this._parents,wt,Ht)}}},M={};function j(F){var N=M[F];if(void 0!==N)return N.exports;var a=M[F]={exports:{}};return T[F].call(a.exports,a,a.exports,j),a.exports}j.m=T,S=[],j.O=function(F,N,a,p){if(!N){var l=1/0;for(x=0;x<S.length;x++){N=S[x][0],a=S[x][1],p=S[x][2];for(var d=!0,_=0;_<N.length;_++)(!1&p||l>=p)&&Object.keys(j.O).every(function(I){return j.O[I](N[_])})?N.splice(_--,1):(d=!1,p<l&&(l=p));if(d){S.splice(x--,1);var w=a();void 0!==w&&(F=w)}}return F}p=p||0;for(var x=S.length;x>0&&S[x-1][2]>p;x--)S[x]=S[x-1];S[x]=[N,a,p]},j.n=function(F){var N=F&&F.__esModule?function(){return F.default}:function(){return F};return j.d(N,{a:N}),N},i=Object.getPrototypeOf?function(F){return Object.getPrototypeOf(F)}:function(F){return F.__proto__},j.t=function(F,N){if(1&N&&(F=this(F)),8&N||"object"==typeof F&&F&&(4&N&&F.__esModule||16&N&&"function"==typeof F.then))return F;var a=Object.create(null);j.r(a);var p={};e=e||[null,i({}),i([]),i(i)];for(var l=2&N&&F;"object"==typeof l&&!~e.indexOf(l);l=i(l))Object.getOwnPropertyNames(l).forEach(function(d){p[d]=function(){return F[d]}});return p.default=function(){return F},j.d(a,p),a},j.d=function(F,N){for(var a in N)j.o(N,a)&&!j.o(F,a)&&Object.defineProperty(F,a,{enumerable:!0,get:N[a]})},j.f={},j.e=function(F){return Promise.all(Object.keys(j.f).reduce(function(N,a){return j.f[a](F,N),N},[]))},j.u=function(F){return"deps/"+{643:"pdfmake",4297:"xlsx",4384:"markerjs2"}[F]+".js"},j.o=function(F,N){return Object.prototype.hasOwnProperty.call(F,N)},s={},c="@amcharts/amcharts5:",j.l=function(F,N,a,p){if(s[F])s[F].push(N);else{var l,d;if(void 0!==a)for(var _=document.getElementsByTagName("script"),w=0;w<_.length;w++){var x=_[w];if(x.getAttribute("src")==F||x.getAttribute("data-webpack")==c+a){l=x;break}}l||(d=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,j.nc&&l.setAttribute("nonce",j.nc),l.setAttribute("data-webpack",c+a),l.src=F),s[F]=[N];var I=function(n,D){l.onerror=l.onload=null,clearTimeout(h);var P=s[F];if(delete s[F],l.parentNode&&l.parentNode.removeChild(l),P&&P.forEach(function(E){return E(D)}),n)return n(D)},h=setTimeout(I.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=I.bind(null,l.onerror),l.onload=I.bind(null,l.onload),d&&document.head.appendChild(l)}},j.r=function(F){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(F,"__esModule",{value:!0})},j.p="",function(){var F={4826:0};j.f.j=function(p,l){var d=j.o(F,p)?F[p]:void 0;if(0!==d)if(d)l.push(d[2]);else{var _=new Promise(function(I,h){d=F[p]=[I,h]});l.push(d[2]=_);var w=j.p+j.u(p),x=new Error;j.l(w,function(I){if(j.o(F,p)&&(0!==(d=F[p])&&(F[p]=void 0),d)){var h=I&&("load"===I.type?"missing":I.type),n=I&&I.target&&I.target.src;x.message="Loading chunk "+p+" failed.\n("+h+": "+n+")",x.name="ChunkLoadError",x.type=h,x.request=n,d[1](x)}},"chunk-"+p,p)}},j.O.j=function(p){return 0===F[p]};var N=function(p,l){var d,_,w=l[0],x=l[1],I=l[2],h=0;if(w.some(function(D){return 0!==F[D]})){for(d in x)j.o(x,d)&&(j.m[d]=x[d]);if(I)var n=I(j)}for(p&&p(l);h<w.length;h++)j.o(F,_=w[h])&&F[_]&&F[_][0](),F[_]=0;return j.O(n)},a=self.webpackChunk_am5=self.webpackChunk_am5||[];a.forEach(N.bind(null,0)),a.push=N.bind(null,a.push.bind(a))}();var G=j(8494);G=j.O(G);var Y=window;for(var z in G)Y[z]=G[z];G.__esModule&&Object.defineProperty(Y,"__esModule",{value:!0})})(),(self.webpackChunk_am5=self.webpackChunk_am5||[]).push([[6450],{6901:function(S,e,i){i.d(e,{z:function(){return _}});var s=i(55),c=i(8777),T=i(7142),M=i(5829),j=i(7144),G=i(6245),Y=i(1112),z=i(8054),F=i(1479),N=i(5071),a=i(5040),p=i(3540),l=i(256),d=i(7652);class _ extends M.j{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new j.dn}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new j.dn}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(c.W.new(this._root,{width:G.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(c.W.new(this._root,{width:G.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(c.W.new(this._root,{height:G.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:c.W.new(this._root,{width:G.AQ,height:G.AQ,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(c.W.new(this._root,{height:G.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(c.W.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(z.z.new(this._root,{themeTags:["zoom"],icon:F.T.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(s.l.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const x=this._root;let I=this._root.verticalLayout;const h=this.zoomOutButton;h.events.on("click",()=>{this.zoomOut()}),h.set("opacity",0),h.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",I);const n=this.plotContainer;n.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),n.children.push(this.topGridContainer),n.children.push(this.bulletsContainer),n.set("interactive",!0),n.set("interactiveChildren",!1),n.set("background",T.A.new(x,{themeTags:["xy","background"],fill:Y.Il.fromHex(0),fillOpacity:0})),this._disposers.push(n.events.on("pointerdown",D=>{this._handlePlotDown(D.originalEvent)})),this._disposers.push(n.events.on("globalpointerup",D=>{this._handlePlotUp(D.originalEvent)})),this._disposers.push(n.events.on("globalpointermove",D=>{this._handlePlotMove(D.originalEvent)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(x){const I=x.get("xAxis");I&&(N.remove(I.series,x),I.markDirtyExtremes());const h=x.get("yAxis");h&&(N.remove(h.series,x),h.markDirtyExtremes());const n=this.get("cursor");if(n){const D=n.get("snapToSeries");D&&N.remove(D,x)}super._removeSeries(x)}handleWheel(x){const I=this.get("wheelX"),h=this.get("wheelY"),n=this.plotContainer,D=x.originalEvent;if(!d.isLocalEvent(D,this))return;D.preventDefault();const P=n.toLocal(this._root.documentPointToRoot({x:D.clientX,y:D.clientY})),E=this.get("wheelStep",.2),m=D.deltaY/100,C=D.deltaX/100,A=this.get("wheelZoomPositionX"),k=this.get("wheelZoomPositionY");"zoomX"!==I&&"zoomXY"!==I||0==C||this.xAxes.each(f=>{if(f.get("zoomX")){let o=f.get("start"),R=f.get("end"),U=f.fixPosition(P.x/n.width());null!=A&&(U=A);let X=o-E*(R-o)*C*U,tt=R+E*(R-o)*C*(1-U);1/(tt-X)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(X,tt))}}),"zoomX"!==h&&"zoomXY"!==h||0==m||this.xAxes.each(f=>{if(f.get("zoomX")){let o=f.get("start"),R=f.get("end"),U=f.fixPosition(P.x/n.width());null!=A&&(U=A);let X=o-E*(R-o)*m*U,tt=R+E*(R-o)*m*(1-U);1/(tt-X)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(X,tt))}}),"zoomY"!==I&&"zoomXY"!==I||0==C||this.yAxes.each(f=>{if(f.get("zoomY")){let o=f.get("start"),R=f.get("end"),U=f.fixPosition(P.y/n.height());null!=k&&(U=k);let X=o-E*(R-o)*C*U,tt=R+E*(R-o)*C*(1-U);1/(tt-X)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(X,tt))}}),"zoomY"!==h&&"zoomXY"!==h||0==m||this.yAxes.each(f=>{if(f.get("zoomY")){let o=f.get("start"),R=f.get("end"),U=f.fixPosition(P.y/n.height());null!=k&&(U=k);let X=o-E*(R-o)*m*U,tt=R+E*(R-o)*m*(1-U);1/(tt-X)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(X,tt))}}),"panX"!==I&&"panXY"!==I||0==C||this.xAxes.each(f=>{if(f.get("panX")){let o=f.get("start"),R=f.get("end"),U=this._getWheelSign(f)*E*(R-o)*C,X=o+U,tt=R+U,pt=this._fixWheel(X,tt);X=pt[0],tt=pt[1],this._handleWheelAnimation(f.zoom(X,tt))}}),"panX"!==h&&"panXY"!==h||0==m||this.xAxes.each(f=>{if(f.get("panX")){let o=f.get("start"),R=f.get("end"),U=this._getWheelSign(f)*E*(R-o)*m,X=o+U,tt=R+U,pt=this._fixWheel(X,tt);X=pt[0],tt=pt[1],this._handleWheelAnimation(f.zoom(X,tt))}}),"panY"!==I&&"panXY"!==I||0==C||this.yAxes.each(f=>{if(f.get("panY")){let o=f.get("start"),R=f.get("end"),U=this._getWheelSign(f)*E*(R-o)*C,X=o+U,tt=R+U,pt=this._fixWheel(X,tt);X=pt[0],tt=pt[1],this._handleWheelAnimation(f.zoom(X,tt))}}),"panY"!==h&&"panXY"!==h||0==m||this.yAxes.each(f=>{if(f.get("panY")){let o=f.get("start"),R=f.get("end"),U=this._getWheelSign(f)*E*(R-o)*m,X=o-U,tt=R-U,pt=this._fixWheel(X,tt);X=pt[0],tt=pt[1],this._handleWheelAnimation(f.zoom(X,tt))}})}_handleSetWheel(){const x=this.get("wheelX"),I=this.get("wheelY");"none"!==x||"none"!==I?(this._wheelDp=this.plotContainer.events.on("wheel",n=>{this.handleWheel(n)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(x){let I=1;return x.get("renderer").get("inversed")&&(I=-1),I}_fixWheel(x,I){const h=I-x;return x<0&&(I=(x=0)+h),I>1&&(x=(I=1)-h),[x,I]}_handlePlotDown(x){const I=this.plotContainer;let h=I.toLocal(this._root.documentPointToRoot({x:x.clientX,y:x.clientY}));if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&x.pointerId&&l.keys(I._downPoints).length>0){const n=this.xAxes.getIndex(0),D=this.yAxes.getIndex(0);n&&(this._downStartX=n.get("start",0),this._downEndX=n.get("end",1)),D&&(this._downStartY=D.get("start",0),this._downEndY=D.get("end",1))}if((this.get("panX")||this.get("panY"))&&h.x>=0&&h.y>=0&&h.x<=I.width()&&h.y<=this.height()){this._downPoint={x:x.clientX,y:x.clientY};const n=this.get("panX"),D=this.get("panY");n&&this.xAxes.each(E=>{E._panStart=E.get("start"),E._panEnd=E.get("end")}),D&&this.yAxes.each(E=>{E._panStart=E.get("start"),E._panEnd=E.get("end")});const P="panstarted";this.events.isEnabled(P)&&this.events.dispatch(P,{type:P,target:this,originalEvent:x})}}_handleWheelAnimation(x){x?x.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const x="wheelended";this.events.isEnabled(x)&&this.events.dispatch(x,{type:x,target:this})}_handlePlotUp(x){const I=this._downPoint;if(I&&(this.get("panX")||this.get("panY"))){let h=this.plotContainer.toLocal(this._root.documentPointToRoot({x:x.clientX,y:x.clientY}));if(h.x==I.x&&h.y==I.y){const D="pancancelled";this.events.isEnabled(D)&&this.events.dispatch(D,{type:D,target:this,originalEvent:x})}const n="panended";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:x})}this._downPoint=void 0,this.xAxes.each(h=>{h._isPanning=!1}),this.yAxes.each(h=>{h._isPanning=!1})}_handlePlotMove(x){const I=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const n=x.pointerId;if(n&&(this._movePoints[n]=this._root.documentPointToRoot({x:x.clientX,y:x.clientY}),l.keys(I._downPoints).length>1))return void this._handlePinch()}let h=this._downPoint;if(h){h=I.toLocal(this._root.documentPointToRoot(h));let n=I.toLocal(this._root.documentPointToRoot({x:x.clientX,y:x.clientY}));const D=this.get("panX"),P=this.get("panY");if(D){let E=this.get("scrollbarX");E&&E.events.disableType("rangechanged"),this.xAxes.each(m=>{if(m.get("panX")){m._isPanning=!0;let C=m._panStart,A=m._panEnd,k=(A-C)*(h.x-n.x)/I.width();m.get("renderer").get("inversed")&&(k*=-1);let f=C+k,o=A+k;o-f<1+2*m.get("maxDeviation",1)&&(m.set("start",f),m.set("end",o))}}),E&&E.events.enableType("rangechanged")}if(P){let E=this.get("scrollbarY");E&&E.events.disableType("rangechanged"),this.yAxes.each(m=>{if(m.get("panY")){m._isPanning=!0;let C=m._panStart,A=m._panEnd,k=(A-C)*(h.y-n.y)/I.height();m.get("renderer").get("inversed")&&(k*=-1);let f=C-k,o=A-k;o-f<1+2*m.get("maxDeviation",1)&&(m.set("start",f),m.set("end",o))}}),E&&E.events.enableType("rangechanged")}}}_handlePinch(){const x=this.plotContainer;let I=0,h=[],n=[];if(l.each(x._downPoints,(D,P)=>{h[I]=P;let E=this._movePoints[D];E&&(n[I]=E),I++}),h.length>1&&n.length>1){const D=x.width(),P=x.height();let E=h[0],m=h[1],C=n[0],A=n[1];if(E&&m&&C&&A){if(C=x.toLocal(C),A=x.toLocal(A),E=x.toLocal(E),m=x.toLocal(m),this.get("pinchZoomX")){const k=this._downStartX,f=this._downEndX;if(null!=k&&null!=f){E.x>m.x&&([E,m]=[m,E],[C,A]=[A,C]);let o=k+E.x/D*(f-k),R=k+m.x/D*(f-k),U=k+C.x/D*(f-k),X=k+A.x/D*(f-k),tt=Math.max(.001,R-o)/Math.max(.001,X-U),pt=k*tt+o-U*tt,ot=f*tt+R-X*tt;this.xAxes.each(W=>{let K=W.fixPosition(pt),gt=W.fixPosition(ot);W.zoom(K,gt,0)})}}if(this.get("pinchZoomY")){const k=this._downStartY,f=this._downEndY;if(null!=k&&null!=f){E.y<m.y&&([E,m]=[m,E],[C,A]=[A,C]);let o=k+(1-E.y/P)*(f-k),R=k+(1-m.y/P)*(f-k),U=k+(1-C.y/P)*(f-k),X=k+(1-A.y/P)*(f-k),tt=Math.max(.001,R-o)/Math.max(.001,X-U),pt=k*tt+o-U*tt,ot=f*tt+R-X*tt;this.yAxes.each(W=>{let K=W.fixPosition(pt),gt=W.fixPosition(ot);W.zoom(K,gt,0)})}}}}}_handleCursorPosition(){const x=this.get("cursor");if(x){const I=x.getPrivate("point");let h=x.get("snapToSeries");if(x._downPoint&&(h=void 0),h&&I){const n=x.get("snapToSeriesBy"),D=[];N.each(h,m=>{if(!m.isHidden()&&!m.isHiding())if("x!"!=n&&"y!"!=n){const C=m.startIndex(),A=m.endIndex();for(let k=C;k<A;k++){const f=m.dataItems[k];f&&!f.isHidden()&&D.push(f)}}else{const C=m.get("tooltipDataItem");C&&D.push(C)}});let P,E=1/0;if(N.each(D,m=>{const C=m.get("point");if(C){let A=0;A="x"==n||"x!"==n?Math.abs(I.x-C.x):"y"==n||"y!"==n?Math.abs(I.y-C.y):Math.hypot(I.x-C.x,I.y-C.y),A<E&&(E=A,P=m)}}),N.each(h,m=>{const C=m.get("tooltip");C&&C._setDataItem(void 0)}),P){let m=P.component;m.showDataItemTooltip(P);const C=P.get("point");C&&x.handleMove(m.toGlobal({x:C.x-m.x(),y:C.y-m.y()}),!0)}}}}_updateCursor(){let x=this.get("cursor");x&&x.handleMove()}_addCursor(x){this.plotContainer.children.push(x)}_prepareChildren(){if(super._prepareChildren(),this.series.each(x=>{this._colorize(x)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const x=this._prevSettings.cursor,I=this.get("cursor");I!==x&&(this._disposeProperty("cursor"),x&&x.dispose(),I&&(I._setChart(this),this._addCursor(I),this._pushPropertyDisposer("cursor",I.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=I)}if(this.isDirty("scrollbarX")){const x=this._prevSettings.scrollbarX,I=this.get("scrollbarX");I!==x&&(this._disposeProperty("scrollbarX"),x&&x.dispose(),I&&(I.parent||this.topAxesContainer.children.push(I),this._pushPropertyDisposer("scrollbarX",I.events.on("rangechanged",h=>{this._handleScrollbar(this.xAxes,h.start,h.end,h.grip)})),I.setPrivate("positionTextFunction",h=>{const n=this.xAxes.getIndex(0);return n&&n.getTooltipText(h)||""})),this._prevSettings.scrollbarX=I)}if(this.isDirty("scrollbarY")){const x=this._prevSettings.scrollbarY,I=this.get("scrollbarY");I!==x&&(this._disposeProperty("scrollbarY"),x&&x.dispose(),I&&(I.parent||this.rightAxesContainer.children.push(I),this._pushPropertyDisposer("scrollbarY",I.events.on("rangechanged",h=>{this._handleScrollbar(this.yAxes,h.start,h.end,h.grip)})),I.setPrivate("positionTextFunction",h=>{const n=this.yAxes.getIndex(0);return n&&n.getTooltipText(h)||""})),this._prevSettings.scrollbarY=I)}this._handleZoomOut()}_processSeries(x){super._processSeries(x),this._colorize(x)}_colorize(x){const I=this.get("colors");if(I&&null==x.get("fill")){const h=I.next();x._setSoft("stroke",h),x._setSoft("fill",h)}}_handleCursorSelectEnd(){const x=this.get("cursor"),I=x.get("behavior"),h=x.getPrivate("downPositionX",0),n=x.getPrivate("downPositionY",0),D=x.getPrivate("positionX",.5),P=x.getPrivate("positionY",.5);this.xAxes.each(E=>{if("zoomX"===I||"zoomXY"===I){let m=E.toAxisPosition(h),C=E.toAxisPosition(D);E.zoom(m,C)}E.setPrivate("updateScrollbar",!0)}),this.yAxes.each(E=>{if("zoomY"===I||"zoomXY"===I){let m=E.toAxisPosition(n),C=E.toAxisPosition(P);E.zoom(m,C)}E.setPrivate("updateScrollbar",!0)})}_handleScrollbar(x,I,h,n){x.each(D=>{let P=D.fixPosition(I),E=D.fixPosition(h),m=D.zoom(P,E,void 0,n);const C="updateScrollbar";D.setPrivateRaw(C,!1),m?m.events.on("stopped",()=>{D.setPrivateRaw(C,!0)}):D.setPrivateRaw(C,!0)})}_processAxis(x,I){return x.events.onAll(h=>{if("clear"===h.type)N.each(h.oldValues,n=>{this._removeAxis(n)});else if("push"===h.type)I.children.push(h.newValue),h.newValue.processChart(this);else if("setIndex"===h.type)I.children.setIndex(h.index,h.newValue),h.newValue.processChart(this);else if("insertIndex"===h.type)I.children.insertIndex(h.index,h.newValue),h.newValue.processChart(this);else if("removeIndex"===h.type)this._removeAxis(h.oldValue);else{if("moveIndex"!==h.type)throw new Error("Unknown IListEvent type");I.children.moveValue(h.value,h.newIndex),h.value.processChart(this)}})}_removeAxis(x){if(!x.isDisposed()){const I=x.parent;I&&I.children.removeValue(x);const h=x.gridContainer,n=h.parent;n&&n.children.removeValue(h);const D=x.topGridContainer,P=D.parent;P&&P.children.removeValue(D)}}_updateChartLayout(){const x=this.leftAxesContainer.width(),I=this.rightAxesContainer.width(),h=this.bottomAxesContainer;h.set("paddingLeft",x),h.set("paddingRight",I);const n=this.topAxesContainer;n.set("paddingLeft",x),n.set("paddingRight",I)}processAxis(x){}_handleAxisSelection(x,I){let h=x.fixPosition(x.get("start",0)),n=x.fixPosition(x.get("end",1));if(h>n&&([h,n]=[n,h]),-1!=this.xAxes.indexOf(x)){if(I||x.getPrivate("updateScrollbar")){let D=this.get("scrollbarX");!D||D.getPrivate("isBusy")&&!I||(D.setRaw("start",h),D.setRaw("end",n),D.updateGrips())}}else if(-1!=this.yAxes.indexOf(x)&&(I||x.getPrivate("updateScrollbar"))){let D=this.get("scrollbarY");!D||D.getPrivate("isBusy")&&!I||(D.setRaw("start",h),D.setRaw("end",n),D.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let x=this.zoomOutButton;if(x&&x.parent){let I=!1;this.xAxes.each(h=>{0==h.get("start")&&1==h.get("end")||(I=!0)}),this.yAxes.each(h=>{0==h.get("start")&&1==h.get("end")||(I=!0)}),I?x.isHidden()&&x.show():x.hide()}}inPlot(x){const I=this.plotContainer,h=this.getPrivate("otherCharts",this._otherCharts),n=I.toGlobal(x);if(x.x>=-.5&&x.y>=-.5&&x.x<=I.width()+.5&&x.y<=I.height()+.5)return!0;if(h)for(let D=h.length-1;D>=0;D--){const P=h[D];if(P!=this){const E=P.plotContainer,m=this._root.rootPointToDocument(n),C=P._root.documentPointToRoot(m),A=E.toLocal(C);if(A.x>=-.1&&A.y>=-.1&&A.x<=E.width()+.1&&A.y<=E.height()+.1)return!0}}return!1}arrangeTooltips(){const x=this.plotContainer,I=x.width(),h=x.height(),n=this.height();let D=x._display.toGlobal({x:0,y:0}),P=x._display.toGlobal({x:I,y:h});const E=[];let m,C,A=0,k=1/0,f=this._movePoint,o=this.get("maxTooltipDistance"),R=this.get("maxTooltipDistanceBy","xy");a.isNumber(o)&&this.series.each(X=>{const tt=X.get("tooltip");if(tt){let pt=tt.get("pointTo");if(pt){let ot=Math.hypot(f.x-pt.x,f.y-pt.y);"x"==R?ot=Math.abs(f.x-pt.x):"y"==R&&(ot=Math.abs(f.y-pt.y)),ot<k&&(k=ot,m=X,C=pt)}}});const U=[];if(this.series.each(X=>{const tt=X.get("tooltip");if(tt){let pt=!1,ot=tt.get("pointTo");if(ot){if(o>=0){let W=tt.get("pointTo");if(W&&X!=m){let K=Math.hypot(C.x-W.x,C.y-W.y);"x"==R?K=Math.abs(C.x-W.x):"y"==R&&(K=Math.abs(C.y-W.y)),K>o&&(pt=!0)}}else-1==o&&X!=m&&(pt=!0);this.inPlot(this._tooltipToLocal(ot))&&tt.dataItem?pt||(A+=ot.y):pt=!0,pt||X.isHidden()||X.isHiding()?tt.hide(0):(tt.show(),E.push(tt),U.push(X))}}}),this.setPrivate("tooltipSeries",U),this.get("arrangeTooltips")){const X=this._root.tooltipContainer;if(A/E.length>h/2+D.y){E.sort((ot,W)=>p.HO(W.get("pointTo").y,ot.get("pointTo").y));let pt=P.y;if(N.each(E,ot=>{let W=ot.height(),K=ot.get("centerY");K instanceof G.gG&&(W*=K.value),W+=ot.get("marginBottom",0),ot.set("bounds",{left:D.x,top:D.y,right:P.x,bottom:pt}),ot.setPrivate("customData",{left:D.x,top:D.y,right:P.x,bottom:pt}),pt=Math.min(pt-W,ot._fy-W),ot.parent==X&&X.children.moveValue(ot,0)}),pt<0){E.reverse();let ot=pt;N.each(E,W=>{let K=W.get("bounds");if(K){let gt=K.top-pt,yt=K.bottom-pt;gt<ot&&(gt=ot,yt=gt+W.height()),W.set("bounds",{left:K.left,top:gt,right:K.right,bottom:yt}),ot=K.bottom-pt+W.get("marginBottom",0)}})}}else{E.reverse(),E.sort((ot,W)=>p.HO(ot.get("pointTo").y,W.get("pointTo").y));let pt=0;if(N.each(E,ot=>{let W=ot.height(),K=ot.get("centerY");K instanceof G.gG&&(W*=K.value),W+=ot.get("marginBottom",0),ot.set("bounds",{left:D.x,top:pt,right:P.x,bottom:Math.max(D.y+n,pt+W)}),ot.parent==X&&X.children.moveValue(ot,0),pt=Math.max(pt+W,ot._fy+W)}),pt>n){E.reverse();let ot=n;N.each(E,W=>{let K=W.get("bounds");if(K){let gt=K.top-(n-pt),yt=K.bottom-(n-pt);yt>ot&&(yt=ot,gt=yt-W.height()),W.set("bounds",{left:K.left,top:gt,right:K.right,bottom:yt}),ot=yt-W.height()-W.get("marginBottom",0)}})}}}}_tooltipToLocal(x){return this.plotContainer.toLocal(x)}zoomOut(){this.xAxes.each(x=>{x.setPrivate("updateScrollbar",!0),x.zoom(0,1)}),this.yAxes.each(x=>{x.setPrivate("updateScrollbar",!0),x.zoom(0,1)})}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.j.classNames.concat([_.className])})},55:function(S,e,i){i.d(e,{l:function(){return N}});var s=i(3409),c=i(6245),T=i(2754),M=i(3783),j=i(1926),G=i(5040),Y=i(751),z=i(256),F=i(5071);class N extends s.Q{setupDefaultRules(){super.setupDefaultRules();const p=this._root.interfaceColors,l=this._root.language,d=this.rule.bind(this);d("XYChart").setAll({colors:T.U.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),d("XYSeries").setAll({legendLabelText:"{name}"}),d("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:T.U.new(this._root,{saturation:0})});{const h=d("Graphics",["scrollbar","overlay"]);h.setAll({fillOpacity:.5}),(0,M.v)(h,"fill",p,"background")}d("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),d("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),d("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),d("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),d("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),d("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),d("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:c.AQ,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),d("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),d("AxisLabel",["x"]).setAll({centerY:0}),d("AxisLabel",["x","inside"]).setAll({centerY:c.AQ}),d("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),d("AxisLabel",["x","opposite"]).setAll({centerY:c.AQ}),d("AxisLabel",["y"]).setAll({centerX:c.AQ}),d("AxisLabel",["y","inside"]).setAll({centerX:0}),d("AxisLabel",["y","inside","opposite"]).setAll({centerX:c.AQ}),d("AxisLabel",["y","opposite"]).setAll({centerX:0}),d("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),d("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),d("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),d("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const h=d("Grid",["cursor","x"]);h.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:l.translate("Use left and right arrows to move selection")}),(0,M.v)(h,"stroke",p,"alternativeBackground")}{const h=d("Grid",["cursor","y"]);h.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:l.translate("Use up and down arrows to move selection")}),(0,M.v)(h,"stroke",p,"alternativeBackground")}{const h=d("Graphics",["cursor","selection"]);h.setAll({fillOpacity:.15}),(0,M.v)(h,"fill",p,"alternativeBackground")}d("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),d("AxisLabel").setAll({location:.5,multiLocation:0,centerX:c.CI,centerY:c.CI,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),d("Container",["axis","header"]).setAll({layer:30}),d("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const h=d("AxisRenderer");h.setAll({crisp:!0,strokeOpacity:0}),(0,M.v)(h,"stroke",p,"grid")}d("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:c.AQ}),d("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:c.AQ});{const h=d("Rectangle",["axis","thumb"]);h.setAll({fillOpacity:0}),(0,M.v)(h,"fill",p,"alternativeBackground"),h.states.create("hover",{fillOpacity:.1})}d("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),d("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const h=d("Grid");h.setAll({location:0,strokeOpacity:.15,crisp:!0}),(0,M.v)(h,"stroke",p,"grid")}d("Grid",["base"]).setAll({strokeOpacity:.3});{const h=d("Graphics",["axis","fill"]);h.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),(0,M.v)(h,"fill",p,"alternativeBackground")}d("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),d("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),d("Grid",["series","range"]).setAll({visible:!1}),d("AxisTick",["series","range"]).setAll({visible:!1,crisp:!0}),d("AxisLabel",["series","range"]).setAll({visible:!1});{const h=d("AxisTick");h.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),(0,M.v)(h,"stroke",p,"grid")}d("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(h,n)=>{const D=h.get("axisFill");D&&(G.isNumber(n)&&n%2!=0?D.setPrivate("visible",!1):D.setPrivate("visible",!0))}});const _=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],w={millisecond:l.translate("_date_millisecond"),second:l.translate("_date_second"),minute:l.translate("_date_minute"),hour:l.translate("_date_hour"),day:l.translate("_date_day"),week:l.translate("_date_day"),month:l.translate("_date_month"),year:l.translate("_date_year")},x={millisecond:l.translate("_date_millisecond"),second:l.translate("_date_second"),minute:l.translate("_date_minute"),hour:l.translate("_date_day"),day:l.translate("_date_day"),week:l.translate("_date_day"),month:l.translate("_date_month")+" "+l.translate("_date_year"),year:l.translate("_date_year")},I={millisecond:l.translate("_date_millisecond_full"),second:l.translate("_date_second_full"),minute:l.translate("_date_minute_full"),hour:l.translate("_date_hour_full"),day:l.translate("_date_day_full"),week:l.translate("_date_week_full"),month:l.translate("_date_month_full"),year:l.translate("_date_year")};d("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:F.copy(_),dateFormats:z.copy(w),periodChangeDateFormats:z.copy(x)}),d("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:F.copy(_),dateFormats:z.copy(w),periodChangeDateFormats:z.copy(x),tooltipDateFormats:I,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:h=>{const n=h.get("axisFill");if(n){const D=h.component,P=h.get("value"),E=h.get("endValue"),m=D.intervalDuration(),C=D.getPrivate("baseInterval"),A=D.getPrivate("gridInterval",C);let k=D.getPrivate("min",0);if(k=j.round(new Date(k),A.timeUnit,A.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=P&&null!=E){const f=Math.round(Math.round((P-k)/m))/2;f==Math.round(f)?n.setPrivate("visible",!0):n.setPrivate("visible",!1)}}}}),d("GaplessDateAxis").setAll({fillRule:h=>{const n=h.get("axisFill");if(n){const D=h.get("index");let P=!1;G.isNumber(D)&&D%2!=0||(P=!0),n.setPrivate("visible",P)}}}),d("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:h=>{const n=h.get("axisFill");if(n){const D=h.component,P=h.get("value"),E=D.getPrivate("step");G.isNumber(P)&&G.isNumber(E)&&(Y.round(P/E/2,5)==Math.round(P/E/2)?n.setPrivate("visible",!1):n.setPrivate("visible",!0))}}}),d("DurationAxis").setAll({baseUnit:"second"}),d("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),d("BaseColumnSeries").setAll({adjustBulletPosition:!0}),d("ColumnSeries").setAll({clustered:!0}),d("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:(0,c.aQ)(70),height:(0,c.aQ)(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),d("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),d("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),d("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),d("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(h,n)=>{const D=n.parent;if(D){const P=D.height(),E=D.width();h.moveTo(0,P/2),h.lineTo(E,P/2)}}});{const h=d("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});(0,M.v)(h,"stroke",p,"disabled")}d("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(h,n)=>{const D=n.parent;if(D){const P=D.height(),E=D.width();h.moveTo(0,0),h.lineTo(E,0),h.lineTo(E,P),h.lineTo(0,P),h.lineTo(0,0)}}});{const h=d("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});(0,M.v)(h,"stroke",p,"disabled")}d("SmoothedXYLineSeries").setAll({tension:.5}),d("SmoothedXLineSeries").setAll({tension:.5}),d("SmoothedYLineSeries").setAll({tension:.5}),d("Candlestick").setAll({position:"absolute",isMeasured:!1,width:(0,c.aQ)(50),height:(0,c.aQ)(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),d("OHLC").setAll({width:(0,c.aQ)(80),height:(0,c.aQ)(80)}),d("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const h=d("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});(0,M.v)(h,"fill",p,"positive"),(0,M.v)(h,"stroke",p,"positive")}{const h=d("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});(0,M.v)(h,"fill",p,"negative"),(0,M.v)(h,"stroke",p,"negative")}d("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),d("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const h=d("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});(0,M.v)(h,"fill",p,"positive"),(0,M.v)(h,"stroke",p,"positive")}{const h=d("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});(0,M.v)(h,"fill",p,"negative"),(0,M.v)(h,"stroke",p,"negative")}}}},3355:function(S,e,i){i.d(e,{L:function(){return N}});var s=i(8777),c=i(6245),T=i(1479),M=i(8943),j=i(5040),G=i(7652),Y=i(751),z=i(5071),F=i(256);class N extends s.W{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(M.r.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(M.r.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(T.T.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=G.mergeTags(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:c.AQ,height:c.AQ,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",p=>this._handleLineFocus(p.target))),this._disposers.push(this.lineX.events.on("blur",p=>this._handleLineBlur(p.target))),this._disposers.push(this.lineY.events.on("focus",p=>this._handleLineFocus(p.target))),this._disposers.push(this.lineY.events.on("blur",p=>this._handleLineBlur(p.target))),G.supports("keyboardevents")&&this._disposers.push(G.addEventListener(document,"keydown",p=>{this._handleLineMove(p.keyCode)}))}_setUpTouch(){const p=this.chart;p&&(p.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let p=this.lineX.x(),l=!0;(p<0||p>this.width())&&(l=!1),this.lineX.setPrivate("visible",l)}_handleYLine(){let p=this.lineY.y(),l=!0;(p<0||p>this.height())&&(l=!1),this.lineY.setPrivate("visible",l)}_handleLineMove(p){let l="",d=0,_=.1;const w=this.chart;this._root.focused(this.lineX)?(w&&w.xAxes.length&&(_=w.xAxes.getIndex(0).getCellWidthPosition()),d=this.getPrivate("positionX",0),l="positionX",37==p?d-=_:39==p&&(d+=_)):this._root.focused(this.lineY)&&(w&&w.yAxes.length&&(_=w.yAxes.getIndex(0).getCellWidthPosition()),d=this.getPrivate("positionY",0),l="positionY",38==p?d-=_:40==p&&(d+=_)),d<0?d=0:d>1&&(d=1),""!=l&&this.set(l,d)}_handleLineFocus(p){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(p){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const p=this.get("xAxis");if(p){const l=p.get("tooltip");l&&(this._tooltipX=!0,this._disposers.push(l.on("pointTo",()=>{this._updateXLine(l)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const p=this.get("yAxis");if(p){const l=p.get("tooltip");l&&(this._tooltipY=!0,this._disposers.push(l.on("pointTo",()=>{this._updateYLine(l)})))}}}_handleSyncWith(){const p=this.chart;if(p){const l=this.get("syncWith"),d=[];l&&z.each(l,_=>{const w=_.chart;w&&d.push(w)}),p._otherCharts=d}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const p=this.get("positionX"),l=this.get("positionY");null==p&&null==l?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(p){let l=Y.round(this._display.toLocal(p.get("pointTo",{x:0,y:0})).x,2);this._toX!=l&&(this.lineX.animate({key:"x",to:l,duration:p.get("animationDuration",0),easing:p.get("animationEasing")}),this._toX=l)}_updateYLine(p){let l=Y.round(this._display.toLocal(p.get("pointTo",{x:0,y:0})).y,2);this._toY!=l&&(this.lineY.animate({key:"y",to:l,duration:p.get("animationDuration",0),easing:p.get("animationEasing")}),this._toY=l)}_drawLines(){this.lineX.set("draw",p=>{p.moveTo(0,0),p.lineTo(0,this.height())}),this.lineY.set("draw",p=>{p.moveTo(0,0),p.lineTo(this.width(),0)})}_setChart(p){this.chart=p,this._handleSyncWith();const l=p.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())},50))}),G.supports("touchevents")&&(this._disposers.push(l.events.on("click",_=>{G.isTouchEvent(_.originalEvent)&&this._handleMove(_.originalEvent)})),this._setUpTouch()),this._disposers.push(l.events.on("pointerdown",_=>{this._handleCursorDown(_.originalEvent)})),this._disposers.push(l.events.on("globalpointerup",_=>{this._handleCursorUp(_.originalEvent),_.native||this.isHidden()||this._handleMove(_.originalEvent)})),this._disposers.push(l.events.on("globalpointermove",_=>{(this.get("syncWith")||0!=F.keys(l._downPoints).length||_.native||!this.isHidden())&&this._handleMove(_.originalEvent)}));const d=this.parent;d&&d.children.moveValue(this.selection)}_inPlot(p){const l=this.chart;return!!l&&l.inPlot(p)}_handleCursorDown(p){const l=this._root.documentPointToRoot({x:p.clientX,y:p.clientY});let d=this._display.toLocal(l);const _=this.chart;if(this.selection.set("draw",()=>{}),_&&this._inPlot(d)){if(this._downPoint=d,"none"!=this.get("behavior")){this.selection.show();const I="selectstarted";this.events.isEnabled(I)&&this.events.dispatch(I,{type:I,target:this})}let w=this._getPosition(d).x,x=this._getPosition(d).y;this.setPrivate("downPositionX",w),this.setPrivate("downPositionY",x)}}_handleCursorUp(p){if(this._downPoint){const l=this.get("behavior","none");if("none"!=l){"z"===l.charAt(0)&&this.selection.hide();const d=this._root.documentPointToRoot({x:p.clientX,y:p.clientY});let _=this._display.toLocal(d);const w=this._downPoint,x=this.get("moveThreshold",1);if(_&&w){let I=!1;if("zoomX"!==l&&"zoomXY"!==l&&"selectX"!==l&&"selectXY"!==l||Math.abs(_.x-w.x)>x&&(I=!0),"zoomY"!==l&&"zoomXY"!==l&&"selectY"!==l&&"selectXY"!==l||Math.abs(_.y-w.y)>x&&(I=!0),I){const h="selectended";this.events.isEnabled(h)&&this.events.dispatch(h,{type:h,target:this})}}}}this._downPoint=void 0}_handleMove(p){if(this.getPrivate("visible")){const l=this.chart;if(l&&F.keys(l.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const d=this._root.documentPointToRoot({x:p.clientX,y:p.clientY}),_=this._lastPoint;if(Math.round(_.x)===Math.round(d.x)&&Math.round(_.y)===Math.round(d.y))return;this._lastPoint=d,this.setPrivate("lastPoint",d),this.handleMove({x:d.x,y:d.y})}}_getPosition(p){return{x:p.x/this.width(),y:p.y/this.height()}}handleMove(p,l){p||(p=this._movePoint);const d=this.get("alwaysShow");if(!p)return void this.hide(0);this._movePoint=p;let _=this._display.toLocal(p),w=this.chart;if(w&&this._inPlot(_)){w._movePoint=p,this.isHidden()&&(this.show(),"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",()=>{}));let x=_.x,I=_.y,h=this._getPosition(_);this.setPrivate("point",_);let n=this.get("snapToSeries");this._downPoint&&(n=void 0);let D=this.get("positionX"),P=h.x;j.isNumber(D)&&(P=D);let E=this.get("positionY"),m=h.y;j.isNumber(E)&&(m=E),this.setPrivate("positionX",P),this.setPrivate("positionY",m);const C=this._getPoint(P,m);if(x=C.x,I=C.y,w.xAxes.each(A=>{A._handleCursorPosition(P,n),d&&A.handleCursorShow()}),w.yAxes.each(A=>{A._handleCursorPosition(m,n),d&&A.handleCursorShow()}),!l){w._handleCursorPosition();const A="cursormoved";this.events.isEnabled(A)&&this.events.dispatch(A,{type:A,target:this})}this._updateLines(x,I),w.arrangeTooltips()}else if(!this._downPoint&&!d){this.hide(0);const x="cursorhidden";this.events.isEnabled(x)&&this.events.dispatch(x,{type:x,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(_)}_getPoint(p,l){return{x:this.width()*p,y:this.height()*l}}_updateLines(p,l){this._tooltipX||this.lineX.set("x",p),this._tooltipY||this.lineY.set("y",l),this._drawLines()}_updateSelection(p){const l=this.selection,d=this.get("behavior"),_=this.width(),w=this.height();p.x<0&&(p.x=0),p.x>_&&(p.x=_),p.y<0&&(p.y=0),p.y>w&&(p.y=w),l.set("draw",x=>{const I=this._downPoint;I&&("zoomXY"===d||"selectXY"===d?(x.moveTo(I.x,I.y),x.lineTo(I.x,p.y),x.lineTo(p.x,p.y),x.lineTo(p.x,I.y),x.lineTo(I.x,I.y)):"zoomX"===d||"selectX"===d?(x.moveTo(I.x,0),x.lineTo(I.x,w),x.lineTo(p.x,w),x.lineTo(p.x,0),x.lineTo(I.x,0)):"zoomY"!==d&&"selectY"!==d||(x.moveTo(0,I.y),x.lineTo(_,I.y),x.lineTo(_,p.y),x.lineTo(0,p.y),x.lineTo(0,I.y)))})}_onHide(){if(this.isHidden()){let p=this.chart;p&&(p.xAxes.each(l=>{l.handleCursorHide()}),p.yAxes.each(l=>{l.handleCursorHide()}),p.series.each(l=>{l.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let p=this.chart;p&&(p.xAxes.each(l=>{l.handleCursorShow()}),p.yAxes.each(l=>{l.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(N,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(N,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.W.classNames.concat([N.className])})},6515:function(S,e,i){i.d(e,{R:function(){return F}});var s=i(9361),c=i(8777),T=i(6245),M=i(7144),j=i(7142),G=i(5071),Y=i(5040),z=i(7652);class F extends s.w{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.W.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:c.W.new(this._root,{width:T.AQ,height:T.AQ})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:c.W.new(this._root,{width:T.AQ,height:T.AQ})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.W.new(this._root,{isMeasured:!1,width:T.AQ,height:T.AQ,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new M.aV}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.W.new(this._root,{themeTags:["axis","header"],position:"absolute",background:j.A.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(p=>{if("clear"===p.type)G.each(p.oldValues,l=>{this.disposeDataItem(l)});else if("push"===p.type)this._processAxisRange(p.newValue,["range"]);else if("setIndex"===p.type)this._processAxisRange(p.newValue,["range"]);else if("insertIndex"===p.type)this._processAxisRange(p.newValue,["range"]);else if("removeIndex"===p.type)this.disposeDataItem(p.oldValue);else{if("moveIndex"!==p.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(p.value,["range"])}}));const a=this.get("renderer");a&&(a.axis=this,a.processAxis()),this.children.push(a),this.ghostLabel=a.makeLabel(new s.z(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.set("opacity",0)}zoom(a,p,l,d){if(this.get("start")!==a||this.get("end")!=p){let _=this._sAnimation,w=this._eAnimation,x=this.get("maxDeviation",.5)*Math.min(1,p-a);a<-x&&(a=-x),p>1+x&&(p=1+x),a>p&&([a,p]=[p,a]),Y.isNumber(l)||(l=this.get("interpolationDuration",0)),d||(d="end");let I=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),h=I;1===p&&0!==a&&(d=a<this.get("start")?"start":"end"),0===a&&1!==p&&(d=p>this.get("end")?"end":"start");let n=this.get("minZoomCount"),D=this.get("maxZoomCount");Y.isNumber(n)&&(I=h/n);let P=1;if(Y.isNumber(D)&&(P=h/D),"start"===d?(D>0&&1/(p-a)<P&&(p=a+1/P),1/(p-a)>I&&(p=a+1/I),p>1&&p-a<1/I&&(a=p-1/I)):(D>0&&1/(p-a)<P&&(a=p-1/P),1/(p-a)>I&&(a=p-1/I),a<0&&p-a<1/I&&(p=a+1/I)),1/(p-a)>I&&(p=a+1/I),1/(p-a)>I&&(a=p-1/I),null!=D&&null!=n&&a==this.get("start")&&p==this.get("end")){const E=this.chart;E&&E._handleAxisSelection(this,!0)}if((_&&_.playing&&_.to==a||this.get("start")==a)&&(w&&w.playing&&w.to==p||this.get("end")==p))return;if(l>0){let E,m,C=this.get("interpolationEasing");if(this.get("start")!=a&&(E=this.animate({key:"start",to:a,duration:l,easing:C})),this.get("end")!=p&&(m=this.animate({key:"end",to:p,duration:l,easing:C})),this._sAnimation=E,this._eAnimation=m,E)return E;if(m)return m}else this.set("start",a),this.set("end",p),this._root.events.once("frameended",()=>{this._markDirtyKey("start"),this._root._markDirty()})}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(a,p){a.setRaw("isRange",!0),this._createAssets(a,p),this._rangesDirty=!0,this._prepareDataItem(a);const l=a.get("above"),d=this.topGridContainer,_=a.get("grid");l&&_&&d.children.moveValue(_);const w=a.get("axisFill");l&&w&&d.children.moveValue(w)}_prepareDataItem(a,p){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(a=>{this._prepareDataItem(a)}),G.each(this._seriesAxisRanges,a=>{this._prepareDataItem(a)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){this.chart._updateCursor();let p=this.get("start",0),l=this.get("end",1),d=this.get("maxDeviation",.5)*Math.min(1,l-p);if(p<-d){let _=p+d;p=-d,this.setRaw("start",p),this.isDirty("end")&&this.setRaw("end",l-_)}if(l>1+d){let _=l-1-d;l=1+d,this.setRaw("end",l),this.isDirty("start")&&this.setRaw("start",p-_)}}const a=this.get("renderer");if(a._start=this.get("start"),a._end=this.get("end"),a._inversed=a.get("inversed",!1),a._axisLength=a.axisLength()/(a._end-a._start),a._updateLC(),this.isDirty("tooltip")){const p=this.get("tooltip");if(p){const l=a.get("themeTags");p.addTag("axis"),p.addTag(this.className.toLowerCase()),p._applyThemes(),l&&(p.set("themeTags",z.mergeTags(p.get("themeTags"),l)),p.label._applyThemes())}}}_updateTooltipBounds(){const a=this.get("tooltip");a&&this.get("renderer").updateTooltipBounds(a)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(a){this.chart=a,this.get("renderer").chart=a,a.gridContainer.children.push(this.gridContainer),a.topGridContainer.children.push(this.topGridContainer),a.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{a._handleAxisSelection(this)}),this.on("end",()=>{a._handleAxisSelection(this)}),a.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),a.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),a.processAxis(this)}hideDataItem(a){return this._toggleDataItem(a,!1),super.hideDataItem(a)}showDataItem(a){return this._toggleDataItem(a,!0),super.showDataItem(a)}_toggleDataItem(a,p){const l=a.get("label");l&&l.setPrivate("visible",p);const d=a.get("grid");d&&d.setPrivate("visible",p);const _=a.get("tick");_&&_.setPrivate("visible",p);const w=a.get("axisFill");w&&w.setPrivate("visible",p);const x=a.get("bullet");if(x){const I=x.get("sprite");I&&I.setPrivate("visible",p)}}_createAssets(a,p){const l=this.get("renderer");a.get("label")||l.makeLabel(a,p),a.get("grid")||l.makeGrid(a,p),a.get("tick")||l.makeTick(a,p),a.get("axisFill")||l.makeAxisFill(a,p),this._processBullet(a)}_processBullet(a){let p=a.get("bullet"),l=this.get("bullet");if(p||!l||a.get("isRange")||(p=l(this._root,this,a)),p){p.axis=this;const d=p.get("sprite");d&&(d._setDataItem(a),a.setRaw("bullet",p),d.parent||this.bulletsContainer.children.push(d))}}_afterChanged(){super._afterChanged();const a=this.chart;a&&(a._updateChartLayout(),a.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions()}disposeDataItem(a){super.disposeDataItem(a);const p=this.get("renderer"),l=a.get("label");l&&(p.labels.removeValue(l),l.dispose());const d=a.get("tick");d&&(p.ticks.removeValue(d),d.dispose());const _=a.get("grid");_&&(p.grid.removeValue(_),_.dispose());const w=a.get("axisFill");w&&(p.axisFills.removeValue(w),w.dispose());const x=a.get("bullet");x&&x.dispose()}_updateGhost(){const a=this.ghostLabel;if(!a.isHidden()){const d=a.localBounds(),_=d.right-d.left;let w=a.get("text");G.each(this.dataItems,x=>{const I=x.get("label");if(I&&!I.isHidden()){const h=I.localBounds();h.right-h.left>_&&(w=I.text._getText())}}),a.set("text",w)}let p=this.get("start",0),l=this.get("end",1);this.get("renderer").updateLabel(a,p+.5*(l-p))}_handleCursorPosition(a,p){a=this.get("renderer").toAxisPosition(a),this._cursorPosition=a,this._snapToSeries=p,this.updateTooltip()}updateTooltip(){const a=this._snapToSeries;let p=this._cursorPosition;const l=this.get("tooltip"),d=this.get("renderer");Y.isNumber(p)&&(G.each(this.series,_=>{if(_.get("baseAxis")===this){const w=this.getSeriesItem(_,p,this.get("tooltipLocation"));_.setRaw("tooltipDataItem",w),a&&-1!=a.indexOf(_)?(_.updateLegendMarker(w),_.updateLegendValue(w)):_.showDataItemTooltip(w)}}),l&&(d.updateTooltipBounds(l),this.get("snapTooltip")&&(p=this.roundAxisPosition(p,this.get("tooltipLocation",.5))),Y.isNaN(p)?l.hide(0):(this.setPrivateRaw("tooltipPosition",p),this._updateTooltipText(l,p),d.positionTooltip(l,p),p<this.get("start")||p>this.get("end")?l.hide(0):l.show(0))))}_updateTooltipText(a,p){a.label.set("text",this.getTooltipText(p))}roundAxisPosition(a,p){return a}handleCursorShow(){let a=this.get("tooltip");a&&a.show()}handleCursorHide(){let a=this.get("tooltip");a&&a.hide()}processSeriesDataItem(a,p){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(a){const p=this.get("renderer");return p.toAxisPosition(a/p.axisLength())}toAxisPosition(a){return this.get("renderer").toAxisPosition(a)}fixPosition(a){return this.get("renderer").fixPosition(a)}shouldGap(a,p,l,d){return!1}createAxisRange(a){return this.axisRanges.push(a)}_groupSeriesData(a){}getCellWidthPosition(){return.05}}Object.defineProperty(F,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(F,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.w.classNames.concat([F.className])})},6293:function(S,e,i){i.d(e,{k:function(){return c}});var s=i(962);class c extends s._{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s._.classNames.concat([c.className])})},9084:function(S,e,i){i.d(e,{p:function(){return c}});var s=i(815);class c extends s.x{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.x.classNames.concat([c.className])})},6275:function(S,e,i){i.d(e,{Y:function(){return z}});var s=i(1479),c=i(5769),T=i(7144),M=i(4714),j=i(8943),G=i(6293),Y=i(7652);class z extends s.T{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new T.o(c.YS.new({}),()=>M.T._new(this._root,{themeTags:Y.mergeTags(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template]))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new T.o(c.YS.new({}),()=>j.r._new(this._root,{themeTags:Y.mergeTags(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template]))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new T.o(c.YS.new({}),()=>s.T._new(this._root,{themeTags:Y.mergeTags(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new T.o(c.YS.new({}),()=>G.k._new(this._root,{themeTags:Y.mergeTags(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(N,a){const p=this.ticks.make();return p._setDataItem(N),N.setRaw("tick",p),p.set("themeTags",Y.mergeTags(p.get("themeTags"),a)),this.axis.labelsContainer.children.push(p),this.ticks.push(p),p}makeGrid(N,a){const p=this.grid.make();return p._setDataItem(N),N.setRaw("grid",p),p.set("themeTags",Y.mergeTags(p.get("themeTags"),a)),this.axis.gridContainer.children.push(p),this.grid.push(p),p}makeAxisFill(N,a){const p=this.axisFills.make();return p._setDataItem(N),p.set("themeTags",Y.mergeTags(p.get("themeTags"),a)),this.axis.gridContainer.children.push(p),N.setRaw("axisFill",p),this.axisFills.push(p),p}makeLabel(N,a){const p=this.labels.make();return p.set("themeTags",Y.mergeTags(p.get("themeTags"),a)),this.axis.labelsContainer.children.moveValue(p,0),p._setDataItem(N),N.setRaw("label",p),this.labels.push(p),p}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const N=this.thumb;N&&(this._disposers.push(N.events.on("pointerdown",a=>{this._handleThumbDown(a.originalEvent)})),this._disposers.push(N.events.on("globalpointerup",a=>{this._handleThumbUp(a.originalEvent)})),this._disposers.push(N.events.on("globalpointermove",a=>{this._handleThumbMove(a.originalEvent)})))}_changed(){if(super._changed(),this.isDirty("pan")){const N=this.thumb;if(N){const a=this.axis.labelsContainer,p=this.get("pan");"zoom"==p?a.children.push(N):"none"==p&&a.children.removeValue(N)}}}_handleThumbDown(N){this._thumbDownPoint=this.toLocal(this._root.documentPointToRoot({x:N.clientX,y:N.clientY}));const a=this.axis;this._downStart=a.get("start"),this._downEnd=a.get("end")}_handleThumbUp(N){this._thumbDownPoint=void 0}_handleThumbMove(N){const a=this._thumbDownPoint;if(a){const p=this.toLocal(this._root.documentPointToRoot({x:N.clientX,y:N.clientY})),l=this._downStart,d=this._downEnd,_=this._getPan(p,a)*Math.min(1,d-l)/2;this.axis.setAll({start:l-_,end:d+_})}}_getPan(N,a){return 0}positionToCoordinate(N){return this._inversed?(this._end-N)*this._axisLength:(N-this._start)*this._axisLength}updateTooltipBounds(N){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(N){const a=this._start||0,p=this._end||1;return N*=p-a,this.get("inversed")?p-N:a+N}fixPosition(N){return this.get("inversed")?1-N:N}_updateLC(){}toggleVisibility(N,a,p,l){let d=this.axis;const _=d.get("start",0),w=d.get("end",1);N.setPrivate("visible",!(a<_+(w-_)*(p-1e-4)||a>_+(w-_)*(l+1e-4)))}_positionTooltip(N,a){const p=this.chart;p&&(p.inPlot(a)?N.set("pointTo",this._display.toGlobal(a)):N.hide())}processAxis(){}}Object.defineProperty(z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.T.classNames.concat([z.className])})},6284:function(S,e,i){i.d(e,{n:function(){return G}});var s=i(6275),c=i(6245),T=i(5040),M=i(7652),j=i(7142);class G extends s.Y{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:j.A.new(this._root,{width:c.AQ,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const z=this.grid.template;z.set("height",c.AQ),z.set("width",0),z.set("draw",(F,N)=>{F.moveTo(0,0),F.lineTo(0,N.height())}),this.set("draw",(F,N)=>{F.moveTo(0,0),F.lineTo(N.width(),0)})}_changed(){super._changed();const z=this.axis;z.ghostLabel.setPrivate("visible",!this.get("inside"));const F="opposite",N="inside";if(this.isDirty(F)||this.isDirty(N)){const a=this.chart,p=z.children;if(this.get(N)?z.addTag(N):z.removeTag(N),a){if(this.get(F)){const l=a.topAxesContainer.children;-1==l.indexOf(z)&&l.insertIndex(0,z),z.addTag(F),p.moveValue(this)}else{const l=a.bottomAxesContainer.children;-1==l.indexOf(z)&&l.moveValue(z),z.removeTag(F),p.moveValue(this,0)}z.ghostLabel._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}z.markDirtySize()}this.thumb.setPrivate("height",z.labelsContainer.height())}_getPan(z,F){return(F.x-z.x)/this.width()}toAxisPosition(z){const F=this._start||0,N=this._end||1;return z=(z-=this._ls)*(N-F)/this._lc,this.get("inversed")?N-z:F+z}_updateLC(){const z=this.axis,F=z.parent;if(F){const N=F.innerWidth();this._lc=this.axisLength()/N,this._ls=(z.x()-F.get("paddingLeft",0))/N}}_updatePositions(){const z=this.axis;z.gridContainer.set("x",z.x()-M.relativeToValue(z.get("centerX",0),z.width())-z.parent.get("paddingLeft",0)),z.bulletsContainer.set("y",this.y());const F=z.chart;if(F){const N=F.plotContainer,a=z.axisHeader;let p=z.get("marginLeft",0),l=z.x()-p;const d=z.parent;d&&(l-=d.get("paddingLeft",0)),a.children.length>0?(p=z.axisHeader.width(),z.set("marginLeft",p+1)):a.set("width",p),a.setAll({x:l,y:-1,height:N.height()+2})}}processAxis(){super.processAxis();const z=this.axis;z.set("width",c.AQ);const F=this._root.verticalLayout;z.set("layout",F),z.labelsContainer.set("width",c.AQ),z.axisHeader.setAll({layout:F})}axisLength(){return this.axis.width()}positionToPoint(z){return{x:this.positionToCoordinate(z),y:0}}updateTick(z,F,N,a){if(z){T.isNumber(F)||(F=0);let p=.5;p=T.isNumber(a)&&a>1?z.get("multiLocation",p):z.get("location",p),T.isNumber(N)&&N!=F&&(F+=(N-F)*p),z.set("x",this.positionToCoordinate(F));let l=z.get("length",0);const d=z.get("inside",this.get("inside",!1));this.get("opposite")?(z.set("y",c.AQ),d||(l*=-1)):(z.set("y",0),d&&(l*=-1)),z.set("draw",_=>{_.moveTo(0,0),_.lineTo(0,l)}),this.toggleVisibility(z,F,z.get("minPosition",0),z.get("maxPosition",1))}}updateLabel(z,F,N,a){if(z){let p=.5;p=T.isNumber(a)&&a>1?z.get("multiLocation",p):z.get("location",p),T.isNumber(F)||(F=0);const l=z.get("inside",this.get("inside",!1));this.get("opposite")?l?(z.set("position","absolute"),z.set("y",0)):(z.set("position","relative"),z.set("y",c.AQ)):l?(z.set("y",0),z.set("position","absolute")):(z.set("y",void 0),z.set("position","relative")),T.isNumber(N)&&N!=F&&(F+=(N-F)*p),z.set("x",this.positionToCoordinate(F)),this.toggleVisibility(z,F,z.get("minPosition",0),z.get("maxPosition",1))}}updateGrid(z,F,N){if(z){T.isNumber(F)||(F=0);let a=z.get("location",.5);T.isNumber(N)&&N!=F&&(F+=(N-F)*a),z.set("x",this.positionToCoordinate(F)),this.toggleVisibility(z,F,0,1)}}updateBullet(z,F,N){if(z){const a=z.get("sprite");if(a){T.isNumber(F)||(F=0);let p=z.get("location",.5);T.isNumber(N)&&N!=F&&(F+=(N-F)*p);let l=this.axis.roundAxisPosition(F,p),d=this.axis._bullets[l],_=-1;if(this.get("opposite")&&(_=1),z.get("stacked"))if(d){let w=d.get("sprite");w&&a.set("y",w.y()+w.height()*_)}else a.set("y",0);this.axis._bullets[l]=z,a.set("x",this.positionToCoordinate(F)),this.toggleVisibility(a,F,0,1)}}}updateFill(z,F,N){if(z){T.isNumber(F)||(F=0),T.isNumber(N)||(N=1);let a=this.positionToCoordinate(F),p=this.positionToCoordinate(N);this.fillDrawMethod(z,a,p)}}fillDrawMethod(z,F,N){z.set("draw",a=>{const p=this.axis.gridContainer.height(),l=this.width();N<F&&([N,F]=[F,N]),F>l||N<0||(a.moveTo(F,0),a.lineTo(N,0),a.lineTo(N,p),a.lineTo(F,p),a.lineTo(F,0))})}positionTooltip(z,F){this._positionTooltip(z,{x:this.positionToCoordinate(F),y:0})}updateTooltipBounds(z){const F=this.get("inside"),N=1e5;let a=this._display.toGlobal({x:0,y:0}),p=a.x,l=0,d=this.axisLength(),_=N,w="up";this.get("opposite")?F?(w="up",l=a.y,_=N):(w="down",l=a.y-N,_=N):F?(w="down",l=a.y-N,_=N):(w="up",l=a.y,_=N);const x={left:p,right:p+d,top:l,bottom:l+_},I=z.get("bounds");M.sameBounds(x,I)||(z.set("bounds",x),z.set("pointerOrientation",w))}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.Y.classNames.concat([G.className])})},7909:function(S,e,i){i.d(e,{j:function(){return G}});var s=i(6275),c=i(6245),T=i(5040),M=i(7652),j=i(7142);class G extends s.Y{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:j.A.new(this._root,{height:c.AQ,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const z=this.grid.template;z.set("width",c.AQ),z.set("height",0),z.set("draw",(F,N)=>{F.moveTo(0,0),F.lineTo(N.width(),0)}),this.set("draw",(F,N)=>{F.moveTo(0,0),F.lineTo(0,N.height())})}_getPan(z,F){return(z.y-F.y)/this.height()}_changed(){super._changed();const z=this.axis;z.ghostLabel.setPrivate("visible",!this.get("inside"));const F=this.thumb,N="opposite",a="inside",p=this.chart;if(this.isDirty(N)||this.isDirty(a)){const d=z.children;if(this.get(a)?z.addTag(a):z.removeTag(a),p){if(this.get(N)){const _=p.rightAxesContainer.children;-1==_.indexOf(z)&&_.moveValue(z,0),z.addTag(N),d.moveValue(this,0)}else{const _=p.leftAxesContainer.children;-1==_.indexOf(z)&&_.moveValue(z),z.removeTag(N),d.moveValue(this)}z.ghostLabel._applyThemes(),this.labels.each(_=>{_._applyThemes()}),this.root._markDirtyRedraw()}z.markDirtySize()}var l=z.labelsContainer.width();p&&(this.get(N)?F.set("centerX",0):F.set("centerX",l)),F.setPrivate("width",l)}processAxis(){super.processAxis();const z=this.axis;null==z.get("height")&&z.set("height",c.AQ);const F=this._root.horizontalLayout;z.set("layout",F),z.labelsContainer.set("height",c.AQ),z.axisHeader.set("layout",F)}_updatePositions(){const z=this.axis;z.gridContainer.set("y",z.y()-M.relativeToValue(z.get("centerY",0),z.height())),z.bulletsContainer.set("x",this.x());const F=z.chart;if(F){const N=F.plotContainer,a=z.axisHeader;let p=z.get("marginTop",0);a.children.length>0?(p=z.axisHeader.height(),z.set("marginTop",p+1)):a.set("height",p),a.setAll({y:z.y()-p,x:-1,width:N.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(z){return{x:0,y:this.positionToCoordinate(z)}}updateLabel(z,F,N,a){if(z){T.isNumber(F)||(F=0);let p=.5;p=T.isNumber(a)&&a>1?z.get("multiLocation",p):z.get("location",p);const l=this.get("opposite"),d=z.get("inside",this.get("inside",!1));l?(z.set("x",0),z.set("position",d?"absolute":"relative")):d?(z.set("x",0),z.set("position","absolute")):(z.set("x",void 0),z.set("position","relative")),T.isNumber(N)&&N!=F&&(F+=(N-F)*p),z.set("y",this.positionToCoordinate(F)),this.toggleVisibility(z,F,z.get("minPosition",0),z.get("maxPosition",1))}}updateGrid(z,F,N){if(z){T.isNumber(F)||(F=0);let a=z.get("location",.5);T.isNumber(N)&&N!=F&&(F+=(N-F)*a),z.set("y",this.positionToCoordinate(F)),this.toggleVisibility(z,F,0,1)}}updateTick(z,F,N,a){if(z){T.isNumber(F)||(F=0);let p=.5;p=T.isNumber(a)&&a>1?z.get("multiLocation",p):z.get("location",p),T.isNumber(N)&&N!=F&&(F+=(N-F)*p),z.set("y",this.positionToCoordinate(F));let l=z.get("length",0);const d=z.get("inside",this.get("inside",!1));this.get("opposite")?(z.set("x",0),d&&(l*=-1)):d||(l*=-1),z.set("draw",_=>{_.moveTo(0,0),_.lineTo(l,0)}),this.toggleVisibility(z,F,z.get("minPosition",0),z.get("maxPosition",1))}}updateBullet(z,F,N){if(z){const a=z.get("sprite");if(a){T.isNumber(F)||(F=0);let p=z.get("location",.5);T.isNumber(N)&&N!=F&&(F+=(N-F)*p);let l=this.axis.roundAxisPosition(F,p),d=this.axis._bullets[l],_=1;if(this.get("opposite")&&(_=-1),z.get("stacked"))if(d){let w=d.get("sprite");w&&a.set("x",w.x()+w.width()*_)}else a.set("x",0);this.axis._bullets[l]=z,a.set("y",this.positionToCoordinate(F)),this.toggleVisibility(a,F,0,1)}}}updateFill(z,F,N){if(z){T.isNumber(F)||(F=0),T.isNumber(N)||(N=1);let a=this.positionToCoordinate(F),p=this.positionToCoordinate(N);this.fillDrawMethod(z,a,p)}}fillDrawMethod(z,F,N){z.set("draw",a=>{const p=this.axis.gridContainer.width(),l=this.height();N<F&&([N,F]=[F,N]),F>l||N<0||(a.moveTo(0,F),a.lineTo(p,F),a.lineTo(p,N),a.lineTo(0,N),a.lineTo(0,F))})}positionToCoordinate(z){return this._inversed?(z-this._start)*this._axisLength:(this._end-z)*this._axisLength}positionTooltip(z,F){this._positionTooltip(z,{x:0,y:this.positionToCoordinate(F)})}updateTooltipBounds(z){const F=this.get("inside"),N=1e5;let a=this._display.toGlobal({x:0,y:0}),p=a.y,l=0,d=this.axisLength(),_=N,w="right";this.get("opposite")?F?(w="right",l=a.x-N,_=N):(w="left",l=a.x,_=N):F?(w="left",l=a.x,_=N):(w="right",l=a.x-N,_=N);const x={left:l,right:l+_,top:p,bottom:p+d},I=z.get("bounds");M.sameBounds(x,I)||(z.set("bounds",x),z.set("pointerOrientation",w))}_updateLC(){const z=this.axis,F=z.parent;if(F){const N=F.innerHeight();this._lc=this.axisLength()/N,this._ls=z.y()/N}}toAxisPosition(z){const F=this._start||0,N=this._end||1;return z=(z-=this._ls)*(N-F)/this._lc,this.get("inversed")?F+z:N-z}fixPosition(z){return this.get("inversed")?z:1-z}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.Y.classNames.concat([G.className])})},4714:function(S,e,i){i.d(e,{T:function(){return c}});var s=i(2438);class c extends s.d{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.d.classNames.concat([c.className])})},5638:function(S,e,i){i.d(e,{S:function(){return F}});var s=i(9361),c=i(7261),T=i(5040),M=i(3540),j=i(5071),G=i(256),Y=i(7652),z=i(1926);class F extends c.m{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Y.mergeTags(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(a){this.setPrivateRaw("baseInterval",a),this._baseDuration=z.getIntervalDuration(a)}_fixZoomFactor(){var a=this.get("maxZoomFactor");this.setPrivateRaw("maxZoomFactor",null!=a&&a!=1/0?a:Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const a=this.getPrivate("min"),p=this.getPrivate("max");if(T.isNumber(a)&&T.isNumber(p)){this._fixZoomFactor();const l=this.getPrivate("groupInterval");if(this._setBaseInterval(l||this.get("baseInterval")),this.isDirty("groupInterval")){let d=this.get("groupInterval");d&&this.setRaw("groupIntervals",[d])}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))j.each(this.series,d=>{this._groupSeriesData(d)}),this._handleRangeChange();else{let d=this.get("baseInterval"),_=d.timeUnit+d.count;j.each(this.series,w=>{w.setDataSet(_)}),this._setBaseInterval(d),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(a){if(this.get("groupData")&&!a.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let p=[],l=this.baseMainDuration(),d=this.get("groupIntervals");j.each(d,A=>{z.getIntervalDuration(A)>l&&p.push(A)}),a._dataSets={};const _=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let w;const x=a.get("baseAxis");a.get("xAxis")===x?w=a._valueYFields:a.get("yAxis")===x&&(w=a._valueXFields);let I=a._mainDataItems,h=this.get("baseInterval");a._dataSets[h.timeUnit+h.count]=I;const D=a.get("groupDataCallback");let P=a.get("groupDataWithOriginals",!1);D&&(P=!0);const E=this._root.locale.firstDayOfWeek,m=this._root.utc,C=this._root.timezone;j.each(p,A=>{let k,f=-1/0,o=A.timeUnit+A.count;a._dataSets[o]=[];let R={},U={},X={},tt={};j.each(w,K=>{R[K]=0,U[K]=0,X[K]=a.get(K+"Grouped"),tt[K]=K+"Working"});let pt,ot,W=z.getDuration(A.timeUnit);I[0]&&(pt=new Date(I[0].get(_))),j.each(I,K=>{let gt,yt=K.get(_),_t=z.round(new Date(yt),A.timeUnit,A.count,E,m,pt,C).getTime();f<_t-W/24?(gt=G.copy(K.dataContext),k=new s.z(a,gt,a._makeDataItem(gt)),k.setRaw(_,_t),a._dataSets[o].push(k),j.each(w,rt=>{let ut=K.get(rt);T.isNumber(ut)?(k.setRaw(rt,ut),k.setRaw(tt[rt],ut),U[rt]=1,R[rt]=ut):(R[rt]=0,U[rt]=0)}),P&&k.set("originals",[K]),D&&ot&&D(ot,A),ot=k):(j.each(w,rt=>{let ut=X[rt],at=K.get(rt);if(void 0!==at){let Ct=k.get(rt);switch(ut){case"close":k.setRaw(rt,at);break;case"sum":k.setRaw(rt,Ct+at);break;case"open":break;case"low":at<Ct&&k.setRaw(rt,at);break;case"high":at>Ct&&k.setRaw(rt,at);break;case"average":U[rt]++,R[rt]+=at,k.setRaw(rt,R[rt]/U[rt]);break;case"extreme":Math.abs(at)>Math.abs(Ct)&&k.setRaw(rt,at)}k.setRaw(tt[rt],k.get(rt));let vt=G.copy(K.dataContext);vt[_]=_t,k.dataContext=vt}}),P&&k.get("originals").push(K)),f=_t}),D&&ot&&D(ot,A)}),a._dataSetId&&a.setDataSet(a._dataSetId),this.markDirtySize()}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(a){let p=this.get("baseInterval"),l=z.chooseInterval(0,a,this.get("groupCount",1/0),this.get("groupIntervals"));return z.getIntervalDuration(l)<z.getIntervalDuration(p)&&(l=Object.assign({},p)),l}getIntervalMax(a){return this._intervalMax[a.timeUnit+a.count]}getIntervalMin(a){return this._intervalMin[a.timeUnit+a.count]}_handleRangeChange(){super._handleRangeChange();let a=Math.round(this.getPrivate("selectionMin")),p=Math.round(this.getPrivate("selectionMax"));if(T.isNumber(a)&&T.isNumber(p)){if(0==this.get("endLocation")&&(p+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let l=p-a+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration()),d=this.get("groupInterval");d||(d=this.getGroupInterval(l));let _=this.getPrivate("groupInterval");if(d&&(!_||_.timeUnit!==d.timeUnit||_.count!==d.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",d),this._setBaseInterval(d);let w=d.timeUnit+d.count;j.each(this.series,x=>{x.get("baseAxis")===this&&x.setDataSet(w)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const x="groupintervalchanged";this.events.isEnabled(x)&&this.events.dispatch(x,{type:x,target:this})})})}}j.each(this.series,l=>{if(l.get("baseAxis")===this){let d=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),_=j.getSortedIndex(l.dataItems,E=>M.qu(E.get(d),a)).index;_>0&&(_-=1),p+=this.baseDuration()*(1-this.get("endLocation",1));let w=j.getSortedIndex(l.dataItems,E=>M.qu(E.get(d),p)).index,x=w;x>0&&x--;const I=l.dataItems[_],h=l.dataItems[x];let n,D;I&&(D=I.get(d)),h&&(n=h.get(d));let P=!1;null!=n&&null!=D&&(n<a||D>p)&&(P=!0),l.setPrivate("outOfSelection",P),l.setPrivate("startIndex",_),l.setPrivate("endIndex",w)}})}}_adjustMinMax(a,p,l,d){return{min:a,max:p,step:(p-a)/l}}intervalDuration(){return this._intervalDuration}_saveMinMax(a,p){let l=this.getPrivate("groupInterval");l||(l=this.get("baseInterval"));let d=l.timeUnit+l.count;this._intervalMin[d]=a,this._intervalMax[d]=p}_getM(a){return"month"==a||"year"==a||"day"==a?1.05:1.01}_prepareAxisItems(){const a=this.getPrivate("min"),p=this.getPrivate("max");if(T.isNumber(a)&&T.isNumber(p)){const l=Math.round(this.getPrivate("selectionMin")),d=Math.round(this.getPrivate("selectionMax")),_=this.get("renderer"),w=this.getPrivate("baseInterval");let x=l,I=0;const h=this.get("gridIntervals");let n=z.chooseInterval(0,d-l,_.gridCount(),h);z.getIntervalDuration(n)<this.baseDuration()&&(n=Object.assign({},w));const D=z.getIntervalDuration(n);this._intervalDuration=D;const P=z.getNextUnit(n.timeUnit),E=this._root.locale.firstDayOfWeek,m=this._root.utc,C=this._root.timezone;x=z.round(new Date(l-D),n.timeUnit,n.count,E,m,new Date(a),C).getTime();let A,k=x-D;const f=this.get("dateFormats");for(this.setPrivateRaw("gridInterval",n);x<d+D;){let o;this.dataItems.length<I+1?(o=new s.z(this,void 0,{}),this._dataItems.push(o),this.processDataItem(o)):o=this.dataItems[I],this._createAssets(o,[]),o.isHidden()&&o.show(),o.setRaw("value",x);let R=x+z.getDuration(n.timeUnit,n.count*this._getM(n.timeUnit));R=z.round(new Date(R),n.timeUnit,1,E,m,void 0,C).getTime(),o.setRaw("endValue",R);let U=new Date(x);A=f[n.timeUnit],P&&this.get("markUnitChange")&&T.isNumber(k)&&"year"!=n.timeUnit&&z.checkChange(x,k,P,m,C)&&(A=this.get("periodChangeDateFormats")[n.timeUnit]);const X=o.get("label");if(X&&X.set("text",this._root.dateFormatter.format(U,A)),this._prepareDataItem(o,n.count),k=x,x=R,x==k)break;I++}for(let o=I;o<this.dataItems.length;o++)this.dataItems[o].hide();j.each(this.series,o=>{o.inited&&o._markDirtyAxes()})}this._updateGhost()}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(a){const p=this.getPrivate("baseInterval"),l=this._root.locale.firstDayOfWeek,d=this._root.timezone,_=this._root.utc,w=p.timeUnit;let x=z.round(new Date(a),w,p.count,l,_,void 0,d).getTime(),I=x+z.getDuration(w,p.count*this._getM(w));return I=z.round(new Date(I),w,1,l,_,void 0,d).getTime(),x+(I-x)*this.get("startLocation",0)}_fixMax(a){const p=this.getPrivate("baseInterval"),l=this._root.locale.firstDayOfWeek,d=this._root.timezone,_=this._root.utc,w=p.timeUnit;let x=z.round(new Date(a),w,p.count,l,_,void 0,d).getTime(),I=x+z.getDuration(w,p.count*this._getM(w));return I=z.round(new Date(I),w,1,l,_,void 0,d).getTime(),x+(I-x)*this.get("endLocation",1)}_updateDates(a){}baseDuration(){return this._baseDuration}baseMainDuration(){return z.getIntervalDuration(this.get("baseInterval"))}processSeriesDataItem(a,p){const l=this.getPrivate("baseInterval");a.open||(a.open={}),a.close||(a.close={}),j.each(p,d=>{let _=a.get(d);if(T.isNumber(_)){let w=a.open[d],x=a.close[d];if(!(_>=w&&_<=x)){const I=this._root.locale.firstDayOfWeek,h=this._root.utc,n=this._root.timezone,D=l.timeUnit,P=l.count;w=z.round(new Date(_),D,P,I,h,void 0,n).getTime(),x=w+z.getDuration(D,P*this._getM(D)),x=z.round(new Date(x),D,1,I,h,void 0,n).getTime(),a.open[d]=w,a.close[d]=x}this._updateDates(w)}})}getDataItemPositionX(a,p,l,d){let _,w;a.open&&a.close?(_=a.open[p],w=a.close[p]):(_=a.get(p),w=_);let x=_+(w-_)*l;return x=this._baseValue+(x-this._baseValue)*d,this.valueToPosition(x)}getDataItemCoordinateX(a,p,l,d){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(a,p,l,d))}getDataItemPositionY(a,p,l,d){let _,w;a.open&&a.close?(_=a.open[p],w=a.close[p]):(_=a.get(p),w=_);let x=_+(w-_)*l;return x=this._baseValue+(x-this._baseValue)*d,this.valueToPosition(x)}getDataItemCoordinateY(a,p,l,d){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(a,p,l,d))}roundAxisPosition(a,p){let l=this.positionToValue(a);l-=(p-.5)*this.baseDuration();let d=this.getPrivate("baseInterval");if(!T.isNaN(l)){const _=this._root.locale.firstDayOfWeek,w=d.timeUnit,x=this._root.utc,I=this._root.timezone,h=d.count;l=z.round(new Date(l),w,h,_,x,new Date(this.getPrivate("min",0)),I).getTime();let n=z.getDateIntervalDuration(d,new Date(l),_,x,I);return I&&(l=z.round(new Date(l+.05*this.baseDuration()),w,h,_,x,new Date(this.getPrivate("min",0)),I).getTime(),n=z.getDateIntervalDuration(d,new Date(l+n*p),_,x,I)),this.valueToPosition(l+n*p)}return NaN}getTooltipText(a){if(null!=this.getPrivate("min")){let p=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],l=this.positionToValue(a),d=new Date(l),_=this.getPrivate("baseInterval"),w=z.getDateIntervalDuration(_,d,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return this._root.dateFormatter.format(new Date(l+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*w),this.get("tooltipDateFormat",p))}return""}getSeriesItem(a,p,l){let d=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),_=this.positionToValue(p);null==l&&(l=.5),_-=(l-.5)*this.baseDuration();const w=j.getSortedIndex(a.dataItems,x=>{var I=0;return x.open&&(I=x.open[d]),M.qu(I,_)});if(a.get("snapTooltip")){let x=a.dataItems[w.index-1],I=a.dataItems[w.index];if(x&&I&&x.open&&I.close){let n=I.close[d];if(Math.abs(_-x.open[d])>Math.abs(_-n))return I}if(x)return x;if(I)return I}else{const x=a.dataItems[w.index-1];if(x&&x.open&&x.close){let h=x.close[d];if(_>=x.open[d]&&_<=h)return x}}}shouldGap(a,p,l,d){const _=a.get(d);return p.get(d)-_>this.baseDuration()*l}zoomToDates(a,p,l){this.zoomToValues(a.getTime(),p.getTime(),l)}positionToDate(a){return new Date(this.positionToValue(a))}dateToPosition(a){return this.valueToPosition(a.getTime())}getCellWidthPosition(){let a=this.getPrivate("selectionMax",this.getPrivate("max")),p=this.getPrivate("selectionMin",this.getPrivate("min"));return T.isNumber(a)&&T.isNumber(p)?this.baseDuration()/(a-p):.05}}Object.defineProperty(F,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(F,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.m.classNames.concat([F.className])})},8701:function(S,e,i){i.d(e,{J:function(){return Y}});var s=i(5638),c=i(9361),T=i(5071),M=i(3540),j=i(1926),G=i(5040);class Y extends s.S{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_dates",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.valueFields.push("date"),super._afterNew()}_updateDates(F){const N=this._dates,a=T.getSortedIndex(N,p=>M.qu(p,F));a.found||T.insertIndex(N,a.index,F)}_updateAllDates(){this._dates.length=0,T.each(this.series,F=>{let N="valueX";F.get("yAxis")==this&&(N="valueY"),T.each(F.dataItems,a=>{let p=a.get(N);G.isNumber(p)&&a.open&&this._updateDates(a.open[N])})})}valueToPosition(F){const N=this._dates,a=this.get("startLocation",0),p=this.get("endLocation",1),l=N.length-a-(1-p),d=T.getSortedIndex(N,w=>M.qu(w,F));let _=d.index;if(d.found)return(_-a)/l;{_>0&&(_-=1);let w=N[_],x=0;return x=w>F?w-F:F-w,(_-a)/l+x/this.baseDuration()/l}}valueToIndex(F){const a=T.getSortedIndex(this._dates,l=>M.qu(l,F));let p=a.index;return a.found||p>0&&(p-=1),p}positionToValue(F){const N=this.get("startLocation",0),a=this.get("endLocation",1);let p=Math.round(this._dates.length-N-(1-a)),l=F*p,d=Math.floor(l);return d<0&&(d=0),d>p-1&&(d=p-1),this._dates[d]+(l-d+N)*this.baseDuration()}_fixZoomFactor(){this.setPrivateRaw("maxZoomFactor",this._dates.length-this.get("startLocation",0)-(1-this.get("endLocation",1)))}_prepareAxisItems(){let F=this.getPrivate("selectionMin",0),N=this.getPrivate("selectionMax",0);if(G.isNumber(F)&&G.isNumber(N)){this._seriesValuesDirty&&(this._seriesValuesDirty=!1,this._updateAllDates());const a=this._dates,p=this.get("renderer"),l=a.length;let d=this.valueToIndex(F);d>0&&d--;let _=this.valueToIndex(N);_<l-1&&_++;let w=p.axisLength()/Math.max(p.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),x=Math.min(l,Math.ceil((_-d)/w));x=Math.max(1,x),d=Math.floor(d/x)*x,this._frequency=x;for(let R=0,U=this.dataItems.length;R<U;R++)this.dataItems[R].hide();let I=N-F-((N-F)/this.baseDuration()-(_-d))*this.baseDuration(),h=j.chooseInterval(0,I,w,this.get("gridIntervals"));const n=this.getPrivate("baseInterval");let D=j.getIntervalDuration(h);D<this.baseDuration()&&(h=Object.assign({},n),D=j.getIntervalDuration(h)),this._intervalDuration=D;const P=this.get("dateFormats");let E=[],m=new Date;this._dates[0]&&(m=new Date(this._dates[0]));let C=j.round(new Date(this.getPrivate("min",0)),h.timeUnit,h.count,this._root.locale.firstDayOfWeek,this._root.utc,m,this._root.timezone),A=j.add(C,h.timeUnit,-1,this._root.utc,this._root.timezone).getTime(),k=this.getPrivate("selectionMax"),f=-1/0,o=(this.get("end",1)-this.get("start",0))/w;for(;A<=k;){let R=this.valueToIndex(A),U=this._dates[R];if(U<A)for(let pt=R,ot=this._dates.length;pt<ot;pt++)if(this._dates[pt]>=A){R=pt;break}let X=this.valueToPosition(U);X-f>=.95*o&&(T.move(E,R),f=X);let tt=A;if(A+=j.getDuration(h.timeUnit,h.count*this._getM(h.timeUnit)),A=j.round(new Date(A),h.timeUnit,h.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),A==tt)break}if(E.length>0){let R=0,U=A-10*D;const X=j.getNextUnit(h.timeUnit);T.each(E,tt=>{let pt;this.dataItems.length<R+1?(pt=new c.z(this,void 0,{}),this._dataItems.push(pt),this.processDataItem(pt)):pt=this.dataItems[R];let ot=a[tt],W=new Date(ot),K=ot;if(R<E.length-1?K=a[E[R+1]]:K+=D,pt.setRaw("value",ot),pt.setRaw("endValue",K),pt.setRaw("index",R),tt>d-100&&tt<_+100){let gt=P[h.timeUnit];gt=P[h.timeUnit],X&&this.get("markUnitChange")&&G.isNumber(U)&&"year"!=h.timeUnit&&j.checkChange(ot,U,X,this._root.utc,this._root.timezone)&&(gt=this.get("periodChangeDateFormats")[h.timeUnit]),this._createAssets(pt,[]);const yt=pt.get("label");yt&&yt.set("text",this._root.dateFormatter.format(W,gt)),pt.isHidden()&&pt.show(),this._prepareDataItem(pt,h.count)}R++,U=ot})}T.each(this.series,R=>{R.inited&&R._markDirtyAxes()})}this._updateGhost()}}Object.defineProperty(Y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GaplessDateAxis"}),Object.defineProperty(Y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.S.classNames.concat([Y.className])})},8943:function(S,e,i){i.d(e,{r:function(){return c}});var s=i(1479);class c extends s.T{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.T.classNames.concat([c.className])})},7261:function(S,e,i){i.d(e,{m:function(){return z}});var s=i(9361),c=i(6515),T=i(7449),M=i(5040),j=i(5071),G=i(751),Y=i(7652);class z extends c.R{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Y.mergeTags(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let N=this.get("syncWithAxis");N&&(this._syncDp=new T.FV([N.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),N.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("min")||this.isDirty("max")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(this._getMinMax(),this.ghostLabel.set("text",""),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_groupData(){}_formatText(N){const a=this.get("numberFormat"),p=this.getNumberFormatter();let l="";return l=a?p.format(N,a):p.format(N,void 0,this.getPrivate("stepDecimalPlaces")),l}_prepareAxisItems(){const N=this.getPrivate("min"),a=this.getPrivate("max");if(M.isNumber(N)&&M.isNumber(a)){const p=this.get("logarithmic"),l=this.getPrivate("step"),d=this.getPrivate("selectionMin"),_=this.getPrivate("selectionMax")+l;let w=d-l,x=0,I=1,h=N;if(p){if(w=this._minLogAdjusted,w<d)for(;w<d;)w+=l;h=w,h<=0&&(h=1,l<1&&(h=l)),I=Math.log(_-l)*Math.LOG10E-Math.log(h)*Math.LOG10E,I>2&&(w=Math.pow(10,Math.log(h)*Math.LOG10E-5))}let n=-1/0;for(;w<_;){let D;this.dataItems.length<x+1?(D=new s.z(this,void 0,{}),this._dataItems.push(D),this.processDataItem(D)):D=this.dataItems[x],this._createAssets(D,[]),D.isHidden()&&D.show(),D.setRaw("value",w);const P=D.get("label");if(P&&P.set("text",this._formatText(w)),this._prepareDataItem(D),p&&I>2?w=Math.pow(10,Math.log(h)*Math.LOG10E+x-5):w+=l,n==w)break;let E=Math.pow(10,Math.floor(Math.log(Math.abs(l))*Math.LOG10E));if(E<1){let m=Math.round(Math.abs(Math.log(Math.abs(E))*Math.LOG10E))+2;w=G.round(w,m)}x++,n=w}for(let D=x;D<this.dataItems.length;D++)this.dataItems[D].hide();j.each(this.series,D=>{D.inited&&D._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(N,a){let p=this.get("renderer"),l=N.get("value"),d=N.get("endValue"),_=this.valueToPosition(l),w=_,x=this.valueToPosition(l+this.getPrivate("step"));M.isNumber(d)&&(w=this.valueToPosition(d),x=w),N.get("isRange")&&null==d&&(x=_),p.updateLabel(N.get("label"),_,w,a);const I=N.get("grid");if(p.updateGrid(I,_,w),I&&(l==this.get("baseValue",0)?(I.addTag("base"),I._applyThemes()):I.hasTag("base")&&(I.removeTag("base"),I._applyThemes())),p.updateTick(N.get("tick"),_,w,a),p.updateFill(N.get("axisFill"),_,x),this._processBullet(N),p.updateBullet(N.get("bullet"),_,w),!N.get("isRange")){const h=this.get("fillRule");h&&h(N)}}_handleRangeChange(){let N=this.positionToValue(this.get("start",0)),a=this.positionToValue(this.get("end",1));const p=this.get("renderer").gridCount();let l=this._adjustMinMax(N,a,p,!0),d=Y.decimalPlaces(l.step);this.setPrivateRaw("stepDecimalPlaces",d),N=G.round(N,d),a=G.round(a,d),l=this._adjustMinMax(N,a,p,!0);let _=l.step;N=l.min,a=l.max,this.getPrivate("selectionMin")===N&&this.getPrivate("selectionMax")===a&&this.getPrivate("step")===_||(this.setPrivateRaw("selectionMin",N),this.setPrivateRaw("selectionMax",a),this.setPrivateRaw("step",_))}positionToValue(N){const a=this.getPrivate("min"),p=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(N*(Math.log(p)*Math.LOG10E-Math.log(a)*Math.LOG10E)+Math.log(a)*Math.LOG10E)/Math.LOG10E):N*(p-a)+a}valueToPosition(N){const a=this.getPrivate("min"),p=this.getPrivate("max");if(this.get("logarithmic")){if(N<=0){let l=this.get("treatZeroAs");M.isNumber(l)&&(N=l)}return(Math.log(N)*Math.LOG10E-Math.log(a)*Math.LOG10E)/(Math.log(p)*Math.LOG10E-Math.log(a)*Math.LOG10E)}return(N-a)/(p-a)}valueToFinalPosition(N){const a=this.getPrivate("minFinal"),p=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(N<=0){let l=this.get("treatZeroAs");M.isNumber(l)&&(N=l)}return(Math.log(N)*Math.LOG10E-Math.log(a)*Math.LOG10E)/(Math.log(p)*Math.LOG10E-Math.log(a)*Math.LOG10E)}return(N-a)/(p-a)}getX(N,a,p){const l=this.valueToPosition(N=p+(N-p)*a);return this._settings.renderer.positionToCoordinate(l)}getY(N,a,p){const l=this.valueToPosition(N=p+(N-p)*a);return this._settings.renderer.positionToCoordinate(l)}getDataItemCoordinateX(N,a,p,l){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(N,a,p,l))}getDataItemPositionX(N,a,p,l){let d=N.get(a);return d=N.get("stackToItemX")?d*l+N.component.getStackedXValueWorking(N,a):this._baseValue+(d-this._baseValue)*l,this.valueToPosition(d)}getDataItemCoordinateY(N,a,p,l){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(N,a,p,l))}getDataItemPositionY(N,a,p,l){let d=N.get(a);return d=N.get("stackToItemY")?d*l+N.component.getStackedYValueWorking(N,a):this._baseValue+(d-this._baseValue)*l,this.valueToPosition(d)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const N=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),a=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let p=this.get("baseValue",0);return p<N&&(p=N),p>a&&(p=a),p}cellEndValue(N){return N}fixSmallStep(N){return 1+N===1?this.fixSmallStep(N*=2):N}_fixMin(N){return N}_fixMax(N){return N}_calculateTotals(){if(this.get("calculateTotals")){let N=this.series[0];if(N){let a=N.startIndex();if(N.dataItems.length>0){a>0&&a--;let p,l,d=N.endIndex();d<N.dataItems.length&&d++,N.get("yAxis")==this?(p="valueY",l="vcy"):N.get("xAxis")==this&&(p="valueX",l="vcx");let _=p+"Working";if(p)for(let w=a;w<d;w++){let x=0,I=0;j.each(this.series,h=>{if(!h.get("excludeFromTotal")){let n=h.dataItems[w];if(n){let D=n.get(_)*h.get(l);M.isNaN(D)||(x+=D,I+=Math.abs(D))}}}),j.each(this.series,h=>{if(!h.get("excludeFromTotal")){let n=h.dataItems[w];if(n){let D=n.get(_)*h.get(l);M.isNaN(D)||(n.set(p+"Total",I),n.set(p+"Sum",x),n.set(p+"TotalPercent",D/I*100))}}})}}}}}_getSelectionMinMax(){const N=this.getPrivate("minFinal"),a=this.getPrivate("maxFinal"),p=this.get("min"),l=this.get("max");let d=this.get("extraMin",0),_=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(d=.1),null==this.get("extraMax")&&(_=.2));const w=this.get("renderer").gridCount(),x=this.get("strictMinMaxSelection"),I=this.get("strictMinMax");if(M.isNumber(N)&&M.isNumber(a)){let h=a,n=N;if(j.each(this.series,f=>{if(!f.get("ignoreMinMax")){let o,R;const U=f.getPrivate("outOfSelection");f.get("xAxis")===this?U||(o=f.getPrivate("selectionMinX",f.getPrivate("minX")),R=f.getPrivate("selectionMaxX",f.getPrivate("maxX"))):f.get("yAxis")===this&&(U||(o=f.getPrivate("selectionMinY",f.getPrivate("minY")),R=f.getPrivate("selectionMaxY",f.getPrivate("maxY")))),f.isHidden()||f.isShowing()||(M.isNumber(o)&&(h=Math.min(h,o)),M.isNumber(R)&&(n=Math.max(n,R)))}}),this.axisRanges.each(f=>{if(f.get("affectsMinMax")){let o=f.get("value");null!=o&&(h=Math.min(h,o),n=Math.max(n,o)),o=f.get("endValue"),null!=o&&(h=Math.min(h,o),n=Math.max(n,o))}}),h>n&&([h,n]=[n,h]),M.isNumber(p)?h=I?p:N:I&&M.isNumber(this._minReal)&&(h=this._minReal),M.isNumber(l)?n=I?l:a:I&&M.isNumber(this._maxReal)&&(n=this._maxReal),h===n){h-=this._deltaMinMax,n+=this._deltaMinMax;let f=this._adjustMinMax(h,n,w,I);h=f.min,n=f.max}let D=h,P=n;h-=(n-h)*d,n+=(n-h)*_;let E=this._adjustMinMax(h,n,w);h=E.min,n=E.max,h=G.fitToRange(h,N,a),n=G.fitToRange(n,N,a),E=this._adjustMinMax(h,n,w,!0),I||(h=E.min,n=E.max);const m=this.get("syncWithAxis");m&&(E=this._syncAxes(h,n,E.step,m.getPrivate("selectionMinFinal",m.getPrivate("minFinal",0)),m.getPrivate("selectionMaxFinal",m.getPrivate("maxFinal",1)),m.getPrivate("selectionStepFinal",m.getPrivate("step",1))),h=E.min,n=E.max),I&&(M.isNumber(p)&&(h=Math.max(h,p)),M.isNumber(l)&&(n=Math.min(n,l))),x&&(h=D-(n-h)*d,n=P+(n-h)*_),this.get("logarithmic")&&(h<=0&&(h=D*(1-Math.min(d,.99))),h<N&&(h=N),n>a&&(n=a));let C=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),A=G.round(this.valueToFinalPosition(h),C),k=G.round(this.valueToFinalPosition(n),C);this.setPrivateRaw("selectionMinFinal",h),this.setPrivateRaw("selectionMaxFinal",n),this.setPrivateRaw("selectionStepFinal",E.step),this.zoom(A,k)}}_getMinMax(){let N=this.get("min"),a=this.get("max"),p=1/0,l=-1/0,d=this.get("extraMin",0),_=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(d=.1),null==this.get("extraMax")&&(_=.2));let w=1/0;if(j.each(this.series,f=>{if(!f.get("ignoreMinMax")){let o,R;if(f.get("xAxis")===this?(o=f.getPrivate("minX"),R=f.getPrivate("maxX")):f.get("yAxis")===this&&(o=f.getPrivate("minY"),R=f.getPrivate("maxY")),M.isNumber(o)&&M.isNumber(R)){p=Math.min(p,o),l=Math.max(l,R);let U=R-o;U<=0&&(U=Math.abs(R/100)),U<w&&(w=U)}}}),this.axisRanges.each(f=>{if(f.get("affectsMinMax")){let o=f.get("value");null!=o&&(p=Math.min(p,o),l=Math.max(l,o)),o=f.get("endValue"),null!=o&&(p=Math.min(p,o),l=Math.max(l,o))}}),this.get("logarithmic")){let f=this.get("treatZeroAs");M.isNumber(f)&&p<=0&&(p=f),p<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===p&&0===l&&(l=.9,p=-.9),M.isNumber(N)&&(p=N),M.isNumber(a)&&(l=a),p===1/0||l===-1/0)return;const x=p,I=l;let h=this.adapters.fold("min",p),n=this.adapters.fold("max",l);M.isNumber(h)&&(p=h),M.isNumber(n)&&(l=n),p=this._fixMin(p),l=this._fixMax(l),l-p<=1/Math.pow(10,15)&&(l-p!=0?this._deltaMinMax=(l-p)/2:this._getDelta(l),p-=this._deltaMinMax,l+=this._deltaMinMax),p-=(l-p)*d,l+=(l-p)*_,this.get("logarithmic")&&(p<0&&x>=0&&(p=0),l>0&&I<=0&&(l=0)),this._minReal=p,this._maxReal=l;let D=this.get("strictMinMax"),P=this.get("strictMinMaxSelection",!1);P&&(D=P);let E=D;M.isNumber(a)&&(E=!0);let m=this.get("renderer").gridCount(),C=this._adjustMinMax(p,l,m,E);p=C.min,l=C.max,C=this._adjustMinMax(p,l,m,!0),p=C.min,l=C.max,D&&(p=M.isNumber(N)?N:this._minReal,l=M.isNumber(a)?a:this._maxReal,l-p<=1e-8&&(p-=this._deltaMinMax,l+=this._deltaMinMax),p-=(l-p)*d,l+=(l-p)*_),h=this.adapters.fold("min",p),n=this.adapters.fold("max",l),M.isNumber(h)&&(p=h),M.isNumber(n)&&(l=n),w==1/0&&(w=l-p);let A=Math.round(Math.abs(Math.log(Math.abs(l-p))*Math.LOG10E))+5;p=G.round(p,A),l=G.round(l,A);const k=this.get("syncWithAxis");if(k&&(C=this._syncAxes(p,l,C.step,k.getPrivate("minFinal",k.getPrivate("min",0)),k.getPrivate("maxFinal",k.getPrivate("max",1)),k.getPrivate("step",1)),p=C.min,l=C.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((l-p)/w*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=p,p=this._minReal,l=this._maxReal,p<=0&&(p=x*(1-Math.min(d,.99)))),M.isNumber(p)&&M.isNumber(l)&&(this.getPrivate("minFinal")!==p||this.getPrivate("maxFinal")!==l)){this.setPrivate("minFinal",p),this.setPrivate("maxFinal",l),this._saveMinMax(p,l);const f=this.get("interpolationDuration",0),o=this.get("interpolationEasing");this.animatePrivate({key:"min",to:p,duration:f,easing:o}),this.animatePrivate({key:"max",to:l,duration:f,easing:o})}}_fixZoomFactor(){}_getDelta(N){let a=Math.log(Math.abs(N))*Math.LOG10E,p=Math.pow(10,Math.floor(a));p/=10,this._deltaMinMax=p}_saveMinMax(N,a){}_adjustMinMax(N,a,p,l){p<=1&&(p=1),p=Math.round(p);let d=N,_=a,w=a-N;0===w&&(w=Math.abs(a));let x=Math.log(Math.abs(w))*Math.LOG10E,I=Math.pow(10,Math.floor(x));I/=10;let h=I;l&&(h=0),l?(N=Math.floor(N/I)*I,a=Math.ceil(a/I)*I):(N=Math.ceil(N/I)*I-h,a=Math.floor(a/I)*I+h),N<0&&d>=0&&(N=0),a>0&&_<=0&&(a=0),x=Math.log(Math.abs(w))*Math.LOG10E,I=Math.pow(10,Math.floor(x)),I/=100;let n=Math.ceil(w/p/I)*I,D=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E)),P=Math.ceil(n/D);P>5?P=10:P<=5&&P>2&&(P=5),n=Math.ceil(n/(D*P))*D*P;let E=this.get("maxPrecision");if(M.isNumber(E)){let k=G.ceil(n,E);E<Number.MAX_VALUE&&n!==k&&(n=k)}let m=0;D<1&&(m=Math.round(Math.abs(Math.log(Math.abs(D))*Math.LOG10E))+1,n=G.round(n,m));let C,A=Math.floor(N/n);return N=G.round(n*A,m),C=l?Math.floor(a/n):Math.ceil(a/n),C===A&&C++,(a=G.round(n*C,m))<_&&(a+=n),N>d&&(N-=n),n=this.fixSmallStep(n),{min:N,max:a,step:n}}getTooltipText(N){const a=this.get("tooltipNumberFormat",this.get("numberFormat")),p=this.getNumberFormatter(),l=this.get("extraTooltipPrecision",0),d=this.getPrivate("stepDecimalPlaces",0)+l,_=G.round(this.positionToValue(N),d);return a?p.format(_,a):p.format(_,void 0,d)}getSeriesItem(N,a){let p,l,d=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),_=this.positionToValue(a);if(j.each(N.dataItems,(w,x)=>{const I=Math.abs(w.get(d)-_);(void 0===p||I<l)&&(p=x,l=I)}),null!=p)return N.dataItems[p]}zoomToValues(N,a,p){const l=this.getPrivate("minFinal",0),d=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((N-l)/(d-l),(a-l)/(d-l),p)}_syncAxes(N,a,p,l,d,_){if(this.get("syncWithAxis")){let w=Math.round(d-l)/_,x=Math.round((a-N)/p),I=this.get("renderer").gridCount();if(M.isNumber(w)&&M.isNumber(x)){let h=!1,n=0,D=.01*(a-N),P=N,E=a,m=p;for(;1!=h;)if(h=this._checkSync(P,E,m,w),n++,n>500&&(h=!0),h)N=P,a=E,p=m;else{n/3==Math.round(n/3)?(P=N-D*n,N>=0&&P<0&&(P=0)):(E=a+D*n,E<=0&&E>0&&(E=0));let C=this._adjustMinMax(P,E,I,!0);P=C.min,E=C.max,m=C.step}}}return{min:N,max:a,step:p}}_checkSync(N,a,p,l){let d=(a-N)/p;for(let _=1;_<l;_++)if(G.round(d/_,1)==l||d*_==l)return!0;return!1}}Object.defineProperty(z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.R.classNames.concat([z.className])})},757:function(S,e,i){i.d(e,{d:function(){return Y}});var s=i(5125),c=i(4604),T=i(6245),M=i(1479),j=i(5071),G=i(5040);class Y extends c.o{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(F,N){return this.makeColumn(N,F)}_makeFieldNames(){super._makeFieldNames();const F=this.get("xAxis"),N=this.get("yAxis"),a="CategoryAxis",p="ValueAxis";F.isType(a)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),F.isType(p)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),N.isType(a)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),N.isType(p)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const F=this.get("xAxis"),N=this.get("yAxis"),a=this.dataItems.length,p=Math.max(0,this.startIndex()-2),l=Math.min(this.endIndex()+2,a-1);if(F.inited&&N.inited)for(let d=p;d<=l;d++)this._createGraphics(this.dataItems[d])}_updateChildren(){const F=this.chart;F&&(this._ph=F.plotContainer.height(),this._pw=F.plotContainer.width());const N=this.get("xAxis"),a=this.get("yAxis"),p=this.get("baseAxis"),l=this.columns.template;this.isDirty("fill")&&null==l.get("fill")&&l.set("fill",this.get("fill")),this.isDirty("stroke")&&null==l.get("stroke")&&l.set("stroke",this.get("stroke"));let d=0,_=0,w=0;j.each(p.series,C=>{if(C instanceof Y){const A=C.get("stacked");A&&0==w&&_++,!A&&C.get("clustered")&&_++}C===this&&(d=_-1),w++}),this.get("clustered")||(d=0,_=1),0===_&&(_=1,d=0);const x=N.get("renderer"),I=a.get("renderer"),h="cellStartLocation",n="cellEndLocation",D=x.get(h,0),P=x.get(n,1),E=I.get(h,0),m=I.get(n,1);if(this._aLocationX0=D+d/_*(P-D),this._aLocationX1=D+(d+1)/_*(P-D),this._aLocationY0=E+d/_*(m-E),this._aLocationY1=E+(d+1)/_*(m-E),N.inited&&a.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const C=this.dataItems.length;let A=Math.max(0,this.startIndex()-2),k=Math.min(this.endIndex()+2,C-1);for(let o=0;o<A;o++)this._toggleColumn(this.dataItems[o],!1);let f=this.dataItems[A];for(let o=A;o<=k;o++){let R=this.dataItems[o];if(null!=R.get("valueX")&&null!=R.get("valueY")){if(f=R,o>0&&A>0)for(let U=o-1;U>=0;U--){let X=this.dataItems[U];if(null!=X.get("valueX")&&null!=X.get("valueY")){f=X;break}}break}this._toggleColumn(R,!1)}for(let o=A;o<=k;o++){let R=this.dataItems[o];this._updateGraphics(R,f),null!=R.get("valueX")&&null!=R.get("valueY")&&(f=R)}for(let o=k+1;o<C;o++)this._toggleColumn(this.dataItems[o],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(F){let N=F.get("graphics");if(!N){N=this._makeGraphics(this.columns,F),F.set("graphics",N),N._setDataItem(F);const a=F.get("legendDataItem");if(a){const p=a.get("markerRectangle");p&&p.setAll({fill:N.get("fill"),stroke:N.get("stroke")})}this.axisRanges.each(p=>{const l=p.container,d=F.get("rangeGraphics",[]);F.set("rangeGraphics",d);const _=this._makeGraphics(p.columns,F);d.push(_),_.setPrivate("list",p.columns),l.children.push(_)})}}_updateGraphics(F,N){let a=F.get("graphics");const p=this._xField,l=this._yField,d=F.get(p),_=F.get(l);if(null!=d&&null!=_){const w=this._xOpenField,x=this._yOpenField,I=this.get("locationX",F.get("locationX",.5)),h=this.get("locationY",F.get("locationY",.5)),n=this.get("openLocationX",F.get("openLocationX",I)),D=this.get("openLocationY",F.get("openLocationY",h)),P=a.get("width"),E=a.get("height"),m=this.get("stacked"),C=this.get("xAxis"),A=this.get("yAxis"),k=this.get("baseAxis"),f=C.get("start"),o=C.get("end"),R=A.get("start"),U=A.get("end");let X,tt,pt,ot,W=this.get("vcy",1),K=this.get("vcx",1),gt=!1,yt=!1;if(A.isType("CategoryAxis")&&C.isType("CategoryAxis")){let rt=this._aLocationX0+n-.5,ut=this._aLocationX1+I-.5;if(P instanceof T.gG){let at=(ut-rt)*(1-P.value)/2;rt+=at,ut-=at}if(X=C.getDataItemPositionX(F,w,rt,K),tt=C.getDataItemPositionX(F,p,ut,K),rt=this._aLocationY0+D-.5,ut=this._aLocationY1+h-.5,E instanceof T.gG){let at=(ut-rt)*(1-E.value)/2;rt+=at,ut-=at}pt=A.getDataItemPositionY(F,x,rt,W),ot=A.getDataItemPositionY(F,l,ut,W),F.setRaw("point",{x:X+(tt-X)/2,y:pt+(ot-pt)/2})}else if(C===k){let rt=this._aLocationX0+n-.5,ut=this._aLocationX1+I-.5;if(P instanceof T.gG){let at=(ut-rt)*(1-P.value)/2;rt+=at,ut-=at}if(X=C.getDataItemPositionX(F,w,rt,K),tt=C.getDataItemPositionX(F,p,ut,K),pt=A.getDataItemPositionY(F,l,h,W),this._yOpenField!==this._yField)ot=A.getDataItemPositionY(F,x,D,W);else if(m){let at=F.get("stackToItemY");ot=at?A.getDataItemPositionY(at,l,D,at.component.get("vcy")):A.basePosition()}else ot=A.basePosition();F.setRaw("point",{x:X+(tt-X)/2,y:pt}),yt=!0}else if(A===k){let rt=this._aLocationY0+D-.5,ut=this._aLocationY1+h-.5;if(E instanceof T.gG){let at=(ut-rt)*(1-E.value)/2;rt+=at,ut-=at}if(pt=A.getDataItemPositionY(F,x,rt,W),ot=A.getDataItemPositionY(F,l,ut,W),tt=C.getDataItemPositionX(F,p,I,K),this._xOpenField!==this._xField)X=C.getDataItemPositionX(F,w,n,K);else if(m){let at=F.get("stackToItemX");X=at?C.getDataItemPositionX(at,p,n,at.component.get("vcx")):C.basePosition()}else X=C.basePosition();gt=!0,F.setRaw("point",{x:tt,y:pt+(ot-pt)/2})}this._updateSeriesGraphics(F,a,X,tt,pt,ot,gt,yt),X<f&&tt<f||X>o&&tt>o||pt<R&&ot<R||pt>U&&ot>U||G.isNaN(X)||G.isNaN(pt)?this._toggleColumn(F,!1):this._toggleColumn(F,!0);let _t=F.get("rangeGraphics");_t&&j.each(_t,rt=>{this._updateSeriesGraphics(F,rt,X,tt,pt,ot,gt,yt)}),this._applyGraphicsStates(F,N)}}_updateSeriesGraphics(F,N,a,p,l,d,_,w){const x=N.get("width"),I=N.get("height"),h=N.get("maxWidth"),n=N.get("maxHeight"),D=this.getPoint(a,l),P=this.getPoint(p,d),E=F.get("point");if(E){const m=this.getPoint(E.x,E.y);E.x=m.x+this._x,E.y=m.y+this._y}if(a=D.x,p=P.x,l=D.y,d=P.y,G.isNumber(x)){const m=(p-a-x)/2;a+=m,p-=m}if(G.isNumber(h)&&h<Math.abs(p-a)){const m=(p-a-h)/2;a+=m,p-=m}if(G.isNumber(I)){const m=(d-l-I)/2;l+=m,d-=m}if(G.isNumber(n)&&n<Math.abs(d-l)){const m=(d-l-n)/2;l+=m,d-=m}this.get("adjustBulletPosition")&&(_&&(p=Math.min(Math.max(0,p),this._pw),a=Math.min(Math.max(0,a),this._pw)),w&&(l=Math.min(Math.max(0,l),this._ph),d=Math.min(Math.max(0,d),this._ph))),F.setRaw("left",a),F.setRaw("right",p),F.setRaw("top",l),F.setRaw("bottom",d),N.setPrivate("width",p-a),N.setPrivate("height",d-l),N.set("x",a),N.set("y",d-(d-l))}_handleDataSetChange(){super._handleDataSetChange(),j.each(this._dataItems,F=>{this._toggleColumn(F,!1)})}_applyGraphicsStates(F,N){const a=F.get("graphics"),p=a.states.lookup("dropFromOpen"),l=a.states.lookup("riseFromOpen"),d=a.states.lookup("dropFromPrevious"),_=a.states.lookup("riseFromPrevious");if(p||d||l||_){const w=this.get("xAxis"),x=this.get("yAxis"),I=this.get("baseAxis");let h,n,D;I===w&&x.isType("ValueAxis")?(h=F.get(this._yOpenField),n=F.get(this._yField),D=N.get(this._yField)):I===x&&w.isType("ValueAxis")&&(h=F.get(this._xOpenField),n=F.get(this._xField),D=N.get(this._xField)),G.isNumber(h)&&G.isNumber(n)&&(n<h?p&&p.apply():l&&l.apply(),G.isNumber(D)&&(n<D?d&&d.apply():_&&_.apply()))}}disposeDataItem(F){super.disposeDataItem(F);const N=F.get("graphics");N&&(this.columns.removeValue(N),N.dispose());const a=F.get("rangeGraphics");a&&j.each(a,p=>{const l=p.getPrivate("list");l&&l.removeValue(p),p.dispose()})}hideDataItem(F,N){const a=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,s.mG)(this,void 0,void 0,function*(){const p=[a.hideDataItem.call(this,F,N)],l=F.get("graphics");l&&p.push(l.hide(N));const d=F.get("rangeGraphics");d&&j.each(d,_=>{p.push(_.hide(N))}),yield Promise.all(p)})}_toggleColumn(F,N){const a=F.get("graphics");a&&a.setPrivate("visible",N);const p=F.get("rangeGraphics");p&&j.each(p,d=>{d.setPrivate("visible",N)});const l=F.bullets;l&&j.each(l,d=>{d.setPrivate("hidden",!N)})}showDataItem(F,N){const a=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,s.mG)(this,void 0,void 0,function*(){const p=[a.showDataItem.call(this,F,N)],l=F.get("graphics");l&&p.push(l.show(N));const d=F.get("rangeGraphics");d&&j.each(d,_=>{p.push(_.show(N))}),yield Promise.all(p)})}updateLegendMarker(F){let N=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!F){const a=this.dataItems[this.endIndex()-1];a&&(F=a)}if(N){let a=this.columns.template;if(F){let l=F.get("graphics");l&&(a=l)}const p=N.get("markerRectangle");p&&(N.get("itemContainer").get("disabled")||j.each(M.u,l=>{p.set(l,a.get(l,this.get(l)))}))}}_getTooltipTarget(F){return"bullet"==this.get("seriesTooltipTarget")?super._getTooltipTarget(F):F.get("graphics")||this}}Object.defineProperty(Y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(Y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.o.classNames.concat([Y.className])})},2976:function(S,e,i){i.d(e,{j:function(){return c}});var s=i(3497);class c extends s.c{_beforeChanged(){super._beforeChanged(),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}_draw(){super._draw();const M=this._display;M.moveTo(this.get("lowX0",0),this.get("lowY0",0)),M.lineTo(this.get("lowX1",0),this.get("lowY1",0)),M.moveTo(this.get("highX0",0),this.get("highY0",0)),M.lineTo(this.get("highX1",0),this.get("highY1",0))}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.c.classNames.concat([c.className])})},2312:function(S,e,i){i.d(e,{$:function(){return Y}});var s=i(62),c=i(2976),T=i(5769),M=i(7144),j=i(7652),G=i(5071);class Y extends s.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new M.o(T.YS.new({themeTags:["autocolor"]}),()=>c.j._new(this._root,{themeTags:j.mergeTags(this.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template]))})}makeColumn(F,N){const a=this.mainContainer.children.push(N.make());return a._setDataItem(F),N.push(a),a}_updateGraphics(F,N){super._updateGraphics(F,N);const a=this.getRaw("xAxis"),p=this.getRaw("yAxis"),l=this.getRaw("baseAxis");let d,_,w,x,I,h,n,D,P,E=this.get("vcy",1),m=this.get("vcx",1),C=this.get("locationX",F.get("locationX",.5)),A=this.get("locationY",F.get("locationY",.5)),k=this.get("openLocationX",F.get("openLocationX",C)),f=this.get("openLocationY",F.get("openLocationY",A));if(p===l){let o=a.getDataItemPositionX(F,this._xOpenField,1,m),R=a.getDataItemPositionX(F,this._xField,1,m);_=a.getDataItemPositionX(F,this._xLowField,1,m),h=a.getDataItemPositionX(F,this._xHighField,1,m),I=Math.max(o,R),d=Math.min(o,R);let U=this._aLocationY0+f-.5;w=p.getDataItemPositionY(F,this._yField,U+(this._aLocationY1+A-.5-U)/2,E),x=w,n=w,D=w,P="horizontal"}else{let o=p.getDataItemPositionY(F,this._yOpenField,1,E),R=p.getDataItemPositionY(F,this._yField,1,E);x=p.getDataItemPositionY(F,this._yLowField,1,E),D=p.getDataItemPositionY(F,this._yHighField,1,E),n=Math.max(o,R),w=Math.min(o,R);let U=this._aLocationX0+k-.5;d=a.getDataItemPositionX(F,this._xField,U+(this._aLocationX1+C-.5-U)/2,m),_=d,I=d,h=d,P="vertical"}this._updateCandleGraphics(F,d,_,w,x,I,h,n,D,P)}_updateCandleGraphics(F,N,a,p,l,d,_,w,x,I){let h=F.get("graphics");if(h){let n=this.getPoint(N,p),D=this.getPoint(a,l),P=this.getPoint(d,w),E=this.getPoint(_,x),m=h.x(),C=h.y();h.set("lowX0",n.x-m),h.set("lowY0",n.y-C),h.set("lowX1",D.x-m),h.set("lowY1",D.y-C),h.set("highX0",P.x-m),h.set("highY0",P.y-C),h.set("highX1",E.x-m),h.set("highY1",E.y-C),h.set("orientation",I);let A=F.get("rangeGraphics");A&&G.each(A,k=>{k.set("lowX0",n.x-m),k.set("lowY0",n.y-C),k.set("lowX1",D.x-m),k.set("lowY1",D.y-C),k.set("highX0",P.x-m),k.set("highY0",P.y-C),k.set("highX1",E.x-m),k.set("highY1",E.y-C),k.set("orientation",I)})}}_processAxisRange(F){super._processAxisRange(F),F.columns=new M.o(T.YS.new({}),()=>c.j._new(this._root,{themeTags:j.mergeTags(F.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template,F.columns.template]))}}Object.defineProperty(Y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"}),Object.defineProperty(Y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.d.classNames.concat([Y.className])})},62:function(S,e,i){i.d(e,{d:function(){return G}});var s=i(757),c=i(5769),T=i(7144),M=i(3497),j=i(7652);class G extends s.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new T.o(c.YS.new({}),()=>M.c._new(this._root,{position:"absolute",themeTags:j.mergeTags(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template]))})}makeColumn(z,F){const N=this.mainContainer.children.push(F.make());return N._setDataItem(z),F.push(N),N}_processAxisRange(z){super._processAxisRange(z),z.columns=new T.o(c.YS.new({}),()=>M.c._new(this._root,{position:"absolute",themeTags:j.mergeTags(z.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,z.columns.template]))}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.d.classNames.concat([G.className])})},2338:function(S,e,i){i.d(e,{e:function(){return l}});var s=i(4604),c=i(1479),T=i(774),M=i(3794),j=i(5769),G=i(7144),Y=i(1112),z=i(9361),F=i(7142),N=i(5040),a=i(5071),p=i(7652);class l extends s.o{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:(0,T.Z)()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:(0,M.Z)()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:new G.o(j.YS.new({}),()=>c.T._new(this._root,{themeTags:p.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template]))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:new G.o(j.YS.new({}),()=>c.T._new(this._root,{themeTags:p.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template]))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(_){return _[3]}),this._fillGenerator.x0(function(_){return _[2]}),this._fillGenerator.y1(function(_){return _[1]}),this._fillGenerator.x1(function(_){return _[0]}),super._afterNew()}makeStroke(_){const w=this.mainContainer.children.push(_.make());return _.push(w),w}makeFill(_){const w=this.mainContainer.children.push(_.make());return _.push(w),w}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let _=this.get("xAxis"),w=this.get("yAxis");if(this.isDirty("stroke")){const x=this.get("stroke");this.strokes.template.set("stroke",x);const I=this._legendStroke;I&&I.states.lookup("default").set("stroke",x)}if(this.isDirty("fill")){const x=this.get("fill");this.fills.template.set("fill",x);const I=this._legendFill;I&&I.states.lookup("default").set("fill",x)}if(this.isDirty("curveFactory")){const x=this.get("curveFactory");x&&(this._strokeGenerator.curve(x),this._fillGenerator.curve(x))}if(_.inited&&w.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(m=>{m.setPrivate("visible",!1)}),this.strokes.each(m=>{m.setPrivate("visible",!1)}),this.axisRanges.each(m=>{let C=m.fills;C&&C.each(k=>{k.setPrivate("visible",!1)});let A=m.strokes;A&&A.each(k=>{k.setPrivate("visible",!1)})});let x=this.startIndex(),I=this.strokes.template.get("templateField"),h=this.fills.template.get("templateField"),n=!0,D=!0;I&&(n=!1),h&&(D=!1);for(let m=x-1;m>=0;m--){let C=this.dataItems[m],A=!0,k=C.dataContext;if(I&&k[I]&&(n=!0),h&&k[h]&&(D=!0),a.each(this._valueFields,f=>{N.isNumber(C.get(f))||(A=!1)}),A&&n&&D){x=m;break}}let P=this.dataItems.length,E=this.endIndex();if(E<P){E++;for(let m=E;m<P;m++){let C=this.dataItems[m],A=!0;if(a.each(this._valueFields,k=>{N.isNumber(C.get(k))||(A=!1)}),A){E=m+1;break}}}if(x>0&&x--,this._endIndex=E,this._clearGraphics(),this._sindex=0,this._dindex=x,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<E-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear()}_startSegment(_){let w=this._endIndex,x=w;const I=this.get("autoGapCount"),h=this.get("connect"),n=this.makeFill(this.fills),D=this._fillTemplate;D&&D!=this.fills.template&&(n.template=D),n.setPrivate("visible",!0);const E=this.makeStroke(this.strokes),m=this._strokeTemplate;m&&m!=this.strokes.template&&(E.template=m),E.setPrivate("visible",!0);let C=this.get("xAxis"),A=this.get("yAxis"),k=this.get("baseAxis"),f=this.get("vcx",1),o=this.get("vcy",1),R=this._xField,U=this._yField,X=this._xOpenField,tt=this._yOpenField;const pt=this.get("openValueXField"),ot=this.get("openValueYField");pt||(X=this._xField),ot||(tt=this._yField);const W=this.get("stacked"),K=C.basePosition(),gt=A.basePosition();let yt;yt=k===A?this._yField:this._xField;const _t=[];let rt=[];_t.push(rt);const ut=this.strokes.template.get("templateField"),at=this.fills.template.get("templateField");let Ct=this.get("locationX",.5),vt=this.get("locationY",.5),ct=this.get("openLocationX",Ct),Tt=this.get("openLocationY",vt);const kt=this.get("minDistance",0);let Ft,Ot=this.fills.template.get("visible");this.axisRanges.length>0&&(Ot=!0);let jt=!1;(W||pt||ot)&&(jt=!0);const $t={points:rt,segments:_t,stacked:W,getOpen:jt,basePosX:K,basePosY:gt,fillVisible:Ot,xField:R,yField:U,xOpenField:X,yOpenField:tt,vcx:f,vcy:o,baseAxis:k,xAxis:C,yAxis:A,locationX:Ct,locationY:vt,openLocationX:ct,openLocationY:Tt,minDistance:kt};for(Ft=_;Ft<x;Ft++){this._dindex=Ft;const Wt=this._dataItems[Ft];let ne=Wt.get(R),Jt=Wt.get(U);if(null==ne||null==Jt?h||(rt=[],_t.push(rt),$t.points=rt):this._getPoints(Wt,$t),ut){let Nt=Wt.dataContext[ut];if(Nt){if(Nt instanceof j.YS||(Nt=j.YS.new(Nt)),this._strokeTemplate=Nt,Ft>_){x=Ft;break}E.template=Nt}}if(at){let Nt=Wt.dataContext[at];if(Nt){if(Nt instanceof j.YS||(Nt=j.YS.new(Nt)),this._fillTemplate=Nt,Ft>_){x=Ft;break}n.template=Nt}}if(!h){let Nt=this.dataItems[Ft+1];Nt&&k.shouldGap(Wt,Nt,I,yt)&&(rt=[],_t.push(rt),$t.points=rt)}}n.setRaw("userData",[_,Ft]),E.setRaw("userData",[_,Ft]),Ft===w&&this._endLine(rt,_t[0][0]),E&&this._drawStroke(E,_t),n&&this._drawFill(n,_t),this.axisRanges.each(Wt=>{const ne=Wt.container,Nt=this.makeFill(Wt.fills);ne&&ne.children.push(Nt),Nt.setPrivate("visible",!0),this._drawFill(Nt,_t);const ie=this.makeStroke(Wt.strokes);ne&&ne.children.push(ie),ie.setPrivate("visible",!0),this._drawStroke(ie,_t),Nt.setRaw("userData",[_,Ft]),ie.setRaw("userData",[_,Ft])})}_getPoints(_,w){let x=w.points,I=_.get("locationX",w.locationX),h=_.get("locationY",w.locationY),n=w.xAxis.getDataItemPositionX(_,w.xField,I,w.vcx),D=w.yAxis.getDataItemPositionY(_,w.yField,h,w.vcy);if(this._shouldInclude(n)){const P=this.getPoint(n,D),E=[P.x,P.y];if(P.x+=this._x,P.y+=this._y,_.set("point",P),w.fillVisible){let m=n,C=D;if(w.baseAxis===w.xAxis?C=w.basePosY:w.baseAxis===w.yAxis&&(m=w.basePosX),w.getOpen){let k=_.get(w.xOpenField),f=_.get(w.yOpenField);if(null!=k&&null!=f){let o=_.get("openLocationX",w.openLocationX),R=_.get("openLocationY",w.openLocationY);if(w.stacked){let U=_.get("stackToItemX"),X=_.get("stackToItemY");U?(m=w.xAxis.getDataItemPositionX(U,w.xField,o,U.component.get("vcx")),N.isNaN(m)&&(m=w.basePosX)):m=w.yAxis===w.baseAxis?w.basePosX:w.xAxis.getDataItemPositionX(_,w.xOpenField,o,w.vcx),X?(C=w.yAxis.getDataItemPositionY(X,w.yField,R,X.component.get("vcy")),N.isNaN(C)&&(C=w.basePosY)):C=w.xAxis===w.baseAxis?w.basePosY:w.yAxis.getDataItemPositionY(_,w.yOpenField,R,w.vcy)}else m=w.xAxis.getDataItemPositionX(_,w.xOpenField,o,w.vcx),C=w.yAxis.getDataItemPositionY(_,w.yOpenField,R,w.vcy)}}let A=this.getPoint(m,C);E[2]=A.x,E[3]=A.y}if(w.minDistance>0){const A=E[2],k=E[3],f=this._previousPoint,U=f[2],X=f[3];(Math.hypot(E[0]-f[0],E[1]-f[1])>w.minDistance||A&&k&&Math.hypot(A-U,k-X)>w.minDistance)&&(x.push(E),this._previousPoint=E)}else x.push(E)}}_endLine(_,w){}_drawStroke(_,w){_.get("visible")&&_.set("draw",x=>{a.each(w,I=>{this._strokeGenerator.context(x),this._strokeGenerator(I)})})}_drawFill(_,w){_.get("visible")&&_.set("draw",x=>{a.each(w,I=>{this._fillGenerator.context(x),this._fillGenerator(I)})})}_processAxisRange(_){super._processAxisRange(_),_.fills=new G.o(j.YS.new({}),()=>c.T._new(this._root,{themeTags:p.mergeTags(_.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,_.fills.template])),_.strokes=new G.o(j.YS.new({}),()=>c.T._new(this._root,{themeTags:p.mergeTags(_.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,_.strokes.template]))}createLegendMarker(_){const w=this.get("legendDataItem");if(w){const x=w.get("marker"),I=w.get("markerRectangle");I&&I.setPrivate("visible",!1),x.set("background",F.A.new(x._root,{fillOpacity:0,fill:(0,Y.$_)(0)}));const h=x.children.push(c.T._new(x._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=h;const n=x.children.push(c.T._new(x._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=n;const D=this._root.interfaceColors.get("disabled");if(h.states.create("disabled",{fill:D,stroke:D}),n.states.create("disabled",{fill:D,stroke:D}),this.bullets.length>0){const P=this.bullets.getIndex(0);if(P){const E=P(x._root,this,new z.z(this,{},{}));if(E){const m=E.get("sprite");m instanceof c.T&&m.states.create("disabled",{fill:D,stroke:D}),m&&(m.set("tooltipText",void 0),m.set("tooltipHTML",void 0),x.children.push(m),m.setAll({x:x.width()/2,y:x.height()/2}))}}}}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.o.classNames.concat([l.className])})},4604:function(S,e,i){i.d(e,{o:function(){return a}});var s=i(5125),c=i(9361),T=i(3399),M=i(7144),j=i(8777),G=i(1479),Y=i(5040),z=i(256),F=i(5071),N=i(7652);class a extends T.F{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(j.W.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new M.aV}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new c.z(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){if(this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this._settings.xAxis.series.push(this),this._settings.yAxis.series.push(this),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(l=>{if("clear"===l.type)F.each(l.oldValues,d=>{this._removeAxisRange(d)});else if("push"===l.type)this._processAxisRange(l.newValue);else if("setIndex"===l.type)this._processAxisRange(l.newValue);else if("insertIndex"===l.type)this._processAxisRange(l.newValue);else if("removeIndex"===l.type)this._removeAxisRange(l.oldValue);else{if("moveIndex"!==l.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(l.value)}})),!this.get("baseAxis")){const l=this.get("xAxis"),d=this.get("yAxis");d.isType("CategoryAxis")||d.isType("DateAxis")?this.set("baseAxis",d):this.set("baseAxis",l)}this.states.create("hidden",{opacity:1,visible:!1}),this._makeFieldNames()}_processAxisRange(l){const d=j.W.new(this._root,{});l.container=d,this.children.push(d),l.series=this;const _=l.axisDataItem;_.setRaw("isRange",!0);const w=_.component;if(w){w._processAxisRange(_,["range","series"]);const x=_.get("bullet");if(x){const h=x.get("sprite");h&&h.setPrivate("visible",!1)}const I=_.get("axisFill");I&&d.set("mask",I),w._seriesAxisRanges.push(_)}}_removeAxisRange(l){const d=l.axisDataItem,_=d.component;_.disposeDataItem(d),F.remove(_._seriesAxisRanges,d);const w=l.container;w&&w.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&F.each(this.valueXFields,l=>{if(this.get(l+"Field")){this._valueXFields.push(l);let d=this.get(l+"Show");this.__valueXShowFields.push(d),-1!=d.indexOf("Working")?this._valueXShowFields.push(d.split("Working")[0]):this._valueXShowFields.push(d)}}),this.valueYFields&&F.each(this.valueYFields,l=>{if(this.get(l+"Field")){this._valueYFields.push(l);let d=this.get(l+"Show");this.__valueYShowFields.push(d),-1!=d.indexOf("Working")?this._valueYShowFields.push(d.split("Working")[0]):this._valueYShowFields.push(d)}})}_dispose(){super._dispose();const l=this.chart;l&&l.series.removeValue(this),F.removeFirst(this.get("xAxis").series,this),F.removeFirst(this.get("yAxis").series,this)}_min(l,d){let _=(x=d,null==(w=this.getPrivate(l))?x:null==x?w:x<w?x:w);var w,x;this.setPrivate(l,_)}_max(l,d){let _=(x=d,null==(w=this.getPrivate(l))?x:null==x?w:x>w?x:w);var w,x;this.setPrivate(l,_)}_shouldMakeBullet(l){return!(!this.get("xAxis").inited||!this.get("yAxis").inited)&&null!=l.get(this._xField)&&null!=l.get(this._yField)}_makeFieldNames(){const l=this.get("xAxis"),d=this.get("yAxis"),_=l.getPrivate("name"),w=N.capitalizeFirst(_),x=d.getPrivate("name"),I=N.capitalizeFirst(x),h=l.get("renderer").getPrivate("letter"),n=d.get("renderer").getPrivate("letter"),D="open",P="low",E="high",m="Show";"ValueAxis"===l.className?(this._xField=this.get(_+h+m),this._xOpenField=this.get(D+w+h+m),this._xLowField=this.get(P+w+h+m),this._xHighField=this.get(E+w+h+m)):(this._xField=_+h,this._xOpenField=D+w+h,this._xLowField=P+w+h,this._xHighField=E+w+h),"ValueAxis"===d.className?(this._yField=this.get(x+n+m),this._yOpenField=this.get(D+I+n+m),this._yLowField=this.get(P+I+n+m),this._yHighField=this.get(E+I+n+m)):(this._yField=x+n,this._yOpenField=D+I+n,this._yLowField=P+I+n,this._yHighField=E+I+n)}_fixVC(){const l=this.get("xAxis"),d=this.get("yAxis"),_=this.get("baseAxis"),w=this.states.lookup("hidden"),x=this.get("sequencedInterpolation");if(w){let I=0;x&&(I=.999999999999),l===_?w.set("vcy",I):(d===_||w.set("vcy",I),w.set("vcx",I))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_prepareChildren(){super._prepareChildren(),(this.isDirty("valueYShow")||this.isDirty("valueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const l=this.get("xAxis"),d=this.get("yAxis"),_=this.get("baseAxis");let w,x;switch(this.get("tooltipPositionX")){case"open":w=this._xOpenField;break;case"low":w=this._xLowField;break;case"high":w=this._xHighField;break;default:w=this._xField}switch(this._tooltipFieldX=w,this.get("tooltipPositionY")){case"open":x=this._yOpenField;break;case"low":x=this._yLowField;break;case"high":x=this._yHighField;break;default:x=this._yField}this._tooltipFieldY=x,this.isDirty("baseAxis")&&this._fixVC(),this.set("x",l.x()-N.relativeToValue(l.get("centerX",0),l.width())-l.parent.get("paddingLeft",0)),this.set("y",d.y()-N.relativeToValue(d.get("centerY",0),d.height())-d.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x());const I=this.get("stacked");if(this.isDirty("stacked")&&(I?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,I&&this._stack(),F.each(this.dataItems,h=>{F.each(this._valueXShowFields,n=>{let D=h.get(n);null!=D&&(I&&(D+=this.getStackedXValue(h,n)),this._min("minX",D),this._max("maxX",D))}),F.each(this._valueYShowFields,n=>{let D=h.get(n);null!=D&&(I&&(D+=this.getStackedYValue(h,n)),this._min("minY",D),this._max("maxY",D))}),l.processSeriesDataItem(h,this._valueXFields),d.processSeriesDataItem(h,this._valueYFields)}),l._seriesValuesDirty=!0,d._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&l.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&d.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(l._groupSeriesData(this),d._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty){let h=this.startIndex(),n=this.endIndex(),D=this.get("minBulletDistance",0);if(D>0&&_&&(this._showBullets=_.get("renderer").axisLength()/(n-h)>D),(this._psi!=h||this._pei!=n||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const P=this.get("vcx",1),E=this.get("vcy",1),m=this.get("stacked",!1),C=this.getPrivate("outOfSelection");if(_===l)if(d._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),C)d.markDirtySelectionExtremes();else for(let A=h;A<n;A++)this.processYSelectionDataItem(this.dataItems[A],E,m);else if(_===d)if(l._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),C)d.markDirtySelectionExtremes();else for(let A=h;A<n;A++)this.processXSelectionDataItem(this.dataItems[A],P,m);if(_===l){if("valueYWorking"!==this.get("valueYShow")){const A=this.getPrivate("selectionMinY");null!=A&&(this.setPrivateRaw("minY",A),d.markDirtyExtremes());const k=this.getPrivate("selectionMaxY");null!=k&&(this.setPrivateRaw("maxY",k),d.markDirtyExtremes())}}else if(_===d&&"valueXWorking"!==this.get("valueXShow")){const A=this.getPrivate("selectionMinX");null!=A&&(this.setPrivateRaw("minX",A),d.markDirtyExtremes());const k=this.getPrivate("selectionMaxX");null!=k&&(this.setPrivateRaw("maxX",k),l.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&l.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&d.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let l=this._mainContainerMask;null==l&&(l=this.children.push(G.T.new(this._root,{})),this._mainContainerMask=l,l.set("draw",(d,_)=>{const w=this.parent;if(w){const x=this._root.container.width(),I=this._root.container.height();d.moveTo(-x,-I),d.lineTo(-x,2*I),d.lineTo(2*x,2*I),d.lineTo(2*x,-I),d.lineTo(-x,-I),this.axisRanges.each(h=>{const n=h.axisDataItem.get("axisFill");if(w&&n){let D=n.get("draw");D&&D(d,_)}})}this.mainContainer._display.mask=l._display})),l.markDirty(),l._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const l=this.chart;if(l){const d=l.series.indexOf(this);if(this._couldStackTo=[],d>0){let _;for(let w=d-1;w>=0&&(_=l.series.getIndex(w),_.get("xAxis")!==this.get("xAxis")||_.get("yAxis")!==this.get("yAxis")||_.className!==this.className||(this._couldStackTo.push(_),_.get("stacked")));w--);}this._stackDataItems()}}_unstack(){z.each(this._reallyStackedTo,(l,d)=>{delete d._stackedSeries[this.uid]}),this._reallyStackedTo={},F.each(this.dataItems,l=>{l.setRaw("stackToItemY",void 0),l.setRaw("stackToItemX",void 0)})}_stackDataItems(){const l=this.get("baseAxis"),d=this.get("xAxis"),_=this.get("yAxis");let w,x;l===d?(w="valueY",x="stackToItemY"):l===_&&(w="valueX",x="stackToItemX");let I=this._couldStackTo.length,h=0;const n=this.get("stackToNegative");this._reallyStackedTo={},F.each(this.dataItems,D=>{for(let P=0;P<I;P++){let E=this._couldStackTo[P],m=E.dataItems[h],C=D.get(w);if(m){let A=m.get(w);if(n){if(!Y.isNumber(C))break;if(Y.isNumber(A)){if(C>=0&&A>=0){D.setRaw(x,m),this._reallyStackedTo[E.uid]=E,E._stackedSeries[this.uid]=this;break}if(C<0&&A<0){D.setRaw(x,m),this._reallyStackedTo[E.uid]=E,E._stackedSeries[this.uid]=this;break}}}else if(Y.isNumber(C)&&Y.isNumber(A)){D.setRaw(x,m),this._reallyStackedTo[E.uid]=E,E._stackedSeries[this.uid]=this;break}}}h++})}processXSelectionDataItem(l,d,_){F.each(this.__valueXShowFields,w=>{let x=l.get(w);null!=x&&(_&&(x+=this.getStackedXValueWorking(l,w)),this._min("selectionMinX",x),this._max("selectionMaxX",x*d))})}processYSelectionDataItem(l,d,_){F.each(this.__valueYShowFields,w=>{let x=l.get(w);null!=x&&(_&&(x+=this.getStackedYValueWorking(l,w)),this._min("selectionMinY",x),this._max("selectionMaxY",x*d))})}getStackedYValueWorking(l,d){const _=l.get("stackToItemY");if(_){const w=_.component;return _.get(d,0)*w.get("vcy",1)+this.getStackedYValueWorking(_,d)}return 0}getStackedXValueWorking(l,d){const _=l.get("stackToItemX");if(_){const w=_.component;return _.get(d,0)*w.get("vcx",1)+this.getStackedXValueWorking(_,d)}return 0}getStackedYValue(l,d){const _=l.get("stackToItemY");return _?_.get(d,0)+this.getStackedYValue(_,d):0}getStackedXValue(l,d){const _=l.get("stackToItemX");return _?_.get(d,0)+this.getStackedXValue(_,d):0}createLegendMarker(l){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(l){let d=l.get("sprite");if(d){let _=d.dataItem,w=l.get("locationX",_.get("locationX",.5)),x=l.get("locationY",_.get("locationY",.5)),I=this.get("xAxis"),h=this.get("yAxis");const n=I.getDataItemPositionX(_,this._xField,w,this.get("vcx",1)),D=h.getDataItemPositionY(_,this._yField,x,this.get("vcy",1));let P=this.getPoint(n,D),E=_.get("left",P.x),m=_.get("right",P.x),C=_.get("top",P.y),A=_.get("bottom",P.y);if(this._shouldShowBullet(n,D)){l.getPrivate("hidden")?d.setPrivate("visible",!1):d.setPrivate("visible",!0);let k=m-E,f=A-C;d.isType("Label")&&(d.setPrivate("maxWidth",Math.abs(k)),d.setPrivate("maxHeight",Math.abs(f)));let R=A-f*x;d.set("x",E+k*w),d.set("y",R)}else d.setPrivate("visible",!1)}}_shouldShowBullet(l,d){return this._showBullets}setDataSet(l){if(this._dataSets[l]){this._handleDataSetChange(),this._dataItems=this._dataSets[l],this._markDataSetDirty(),this._dataSetId=l;const d="datasetchanged";this.events.isEnabled(d)&&this.events.dispatch(d,{type:d,target:this,id:l})}}_handleDataSetChange(){this.bullets.length>0&&F.each(this._dataItems,l=>{let d=l.bullets;d&&F.each(d,_=>{let w=_.get("sprite");w&&w.setPrivate("visible",!1)})}),this._selectionProcessed=!1}show(l){const d=Object.create(null,{show:{get:()=>super.show}});return(0,s.mG)(this,void 0,void 0,function*(){this._fixVC();let _=[];_.push(d.show.call(this,l).then(()=>{this._isShowing=!1;let w=this.get("xAxis"),x=this.get("yAxis"),I=this.get("baseAxis");x!==I&&x.markDirtySelectionExtremes(),w!==I&&w.markDirtySelectionExtremes()})),_.push(this.bulletsContainer.show(l)),_.push(this._sequencedShowHide(!0,l)),yield Promise.all(_)})}hide(l){const d=Object.create(null,{hide:{get:()=>super.hide}});return(0,s.mG)(this,void 0,void 0,function*(){this._fixVC();let _=[];_.push(d.hide.call(this,l).then(()=>{this._isHiding=!1})),_.push(this.bulletsContainer.hide(l)),_.push(this._sequencedShowHide(!1,l)),yield Promise.all(_)})}showDataItem(l,d){const _=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,s.mG)(this,void 0,void 0,function*(){const w=[_.showDataItem.call(this,l,d)];Y.isNumber(d)||(d=this.get("stateAnimationDuration",0));const x=this.get("stateAnimationEasing");F.each(this._valueFields,I=>{w.push(l.animate({key:I+"Working",to:l.get(I),duration:d,easing:x}).waitForStop())}),yield Promise.all(w)})}hideDataItem(l,d){const _=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,s.mG)(this,void 0,void 0,function*(){const w=[_.hideDataItem.call(this,l,d)],x=this.states.create("hidden",{});Y.isNumber(d)||(d=x.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const I=x.get("stateAnimationEasing",this.get("stateAnimationEasing")),h=this.get("xAxis"),n=this.get("yAxis"),D=this.get("baseAxis"),P=this.get("stacked");if(D!==h&&D||F.each(this._valueYFields,E=>{let m=n.getPrivate("min"),C=n.baseValue();Y.isNumber(m)&&m>C&&(C=m),P&&(C=0),null!=l.get(E)&&w.push(l.animate({key:E+"Working",to:C,duration:d,easing:I}).waitForStop())}),D===n||!D){let E=h.getPrivate("min"),m=h.baseValue();Y.isNumber(E)&&E>m&&(m=E),P&&(m=0),F.each(this._valueXFields,C=>{null!=l.get(C)&&w.push(l.animate({key:C+"Working",to:m,duration:d,easing:I}).waitForStop())})}yield Promise.all(w)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const l=this._stackedSeries;l&&z.each(l,(d,_)=>{_._stackDirty||_._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(l){this.updateLegendMarker(l),this.updateLegendValue(l);const d=this.get("tooltip");if(d)if(this.isHidden())this.hideTooltip();else if(d._setDataItem(l),l){let _=this.get("locationX",0),w=this.get("locationY",1),x=l.get("locationX",_),I=l.get("locationY",w);const h=this.get("xAxis"),n=this.get("yAxis"),D=this.get("vcx",1),P=this.get("vcy",1),E=h.getDataItemPositionX(l,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*x,D),m=n.getDataItemPositionY(l,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*I,P),C=this.getPoint(E,m);let A=!0;if(F.each(this._valueFields,k=>{null==l.get(k)&&(A=!1)}),A){const k=this.chart;k&&k.inPlot(C)?(d.label.text.markDirtyText(),d.set("tooltipTarget",this._getTooltipTarget(l)),d.set("pointTo",this._display.toGlobal({x:C.x,y:C.y}))):d._setDataItem(void 0)}else d._setDataItem(void 0)}}hideTooltip(){const l=this.get("tooltip");return l&&l.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(l){if("bullet"==this.get("seriesTooltipTarget")){const d=l.bullets;if(d&&d.length>0){const _=d[0].get("sprite");if(_)return _}}return this}updateLegendValue(l){const d=this.get("legendDataItem");if(d){const _=d.get("label");if(_){let x="";l?(_._setDataItem(l),x=this.get("legendLabelText",_.get("text",this.get("name","")))):(_._setDataItem(this._emptyDataItem),x=this.get("legendRangeLabelText",this.get("legendLabelText",_.get("text",this.get("name",""))))),_.set("text",x)}const w=d.get("valueLabel");if(w){let x="";l?(w._setDataItem(l),x=this.get("legendValueText",w.get("text",""))):(w._setDataItem(this._emptyDataItem),x=this.get("legendRangeValueText",w.get("text",""))),w.set("text",x)}}}_getItemReaderLabel(){let l="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(l+=".formatDate()"),l+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(l+=".formatDate()"),l+="}",l}getPoint(l,d){let _=this.get("xAxis").get("renderer").positionToCoordinate(l),w=this.get("yAxis").get("renderer").positionToCoordinate(d),x=999999999;return w<-x&&(w=-x),w>x&&(w=x),_<-x&&(_=-x),_>x&&(_=x),{x:_,y:w}}_shouldInclude(l){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(l){return this.axisRanges.push({axisDataItem:l})}}Object.defineProperty(a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:T.F.classNames.concat([a.className])})},3955:function(S,e,i){i.r(e),i.d(e,{Axis:function(){return z.R},AxisBullet:function(){return D},AxisLabel:function(){return P.k},AxisLabelRadial:function(){return E.p},AxisRenderer:function(){return A.Y},AxisRendererX:function(){return k.n},AxisRendererY:function(){return f.j},AxisTick:function(){return m.T},BaseColumnSeries:function(){return Y.d},Candlestick:function(){return R.j},CandlestickSeries:function(){return U.$},CategoryAxis:function(){return l},CategoryDateAxis:function(){return _},ColumnSeries:function(){return W.d},DateAxis:function(){return w.S},DefaultTheme:function(){return kt.l},DurationAxis:function(){return h},GaplessDateAxis:function(){return x.J},Grid:function(){return C.r},LineSeries:function(){return K.e},OHLC:function(){return X},OHLCSeries:function(){return ot},SmoothedXLineSeries:function(){return rt},SmoothedXYLineSeries:function(){return at},SmoothedYLineSeries:function(){return yt},StepLineSeries:function(){return Tt},ValueAxis:function(){return I.m},XYChart:function(){return s.z},XYChartScrollbar:function(){return j},XYCursor:function(){return G.L},XYSeries:function(){return o.o}});var s=i(6901),c=i(6001),T=i(1479),M=i(7652);class j extends c.L{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.z.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(T.T.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=M.mergeTags(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const Ot=this.children;Ot.moveValue(this.thumb),Ot.moveValue(this.startGrip),Ot.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const jt=this.chart.plotContainer;jt.set("interactive",!1),jt.remove("background"),jt.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",Ot=>{const jt=this.startGrip,$t=this.endGrip;let Wt=jt.x(),ne=jt.y(),Jt=$t.x(),Nt=$t.y();const Rt=this.height(),ie=this.width();Wt>Jt&&([Wt,Jt]=[Jt,Wt]),ne>Nt&&([ne,Nt]=[Nt,ne]),"horizontal"===this.get("orientation")?(Ot.moveTo(0,0),Ot.lineTo(Wt,0),Ot.lineTo(Wt,Rt),Ot.lineTo(0,Rt),Ot.lineTo(0,0),Ot.moveTo(Jt,0),Ot.lineTo(ie,0),Ot.lineTo(ie,Rt),Ot.lineTo(Jt,Rt),Ot.lineTo(Jt,0)):(Ot.moveTo(0,0),Ot.lineTo(0,ne),Ot.lineTo(ie,ne),Ot.lineTo(ie,0),Ot.lineTo(0,0),Ot.moveTo(0,Nt),Ot.lineTo(0,Rt),Ot.lineTo(ie,Rt),Ot.lineTo(ie,Nt),Ot.lineTo(0,Nt))})}}Object.defineProperty(j,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(j,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.L.classNames.concat([j.className])});var G=i(3355),Y=i(757),z=i(6515),F=i(5071),N=i(5040),a=i(751),p=i(2132);class l extends z.R{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const Ot=this.dataItems.length;let jt=0;this._valuesDirty&&(this._itemMap={},F.each(this.dataItems,$t=>{$t.setRaw("index",jt),this._itemMap[$t.get("category")]=$t,jt++}),this.setPrivateRaw("maxZoomFactor",Ot)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*Ot),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*Ot),Ot)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){F.each(this.series,Ot=>{let jt=this.dataItems[this.startIndex()].get("category"),$t=this.dataItems[this.endIndex()-1].get("category"),Wt=Ot.get("baseAxis"),ne=Ot.get("xAxis"),Jt=Ot.get("yAxis");if(ne instanceof l&&Jt instanceof l)Ot._markDirtyAxes();else if(Wt===this){let Nt,Rt,ie=Jt;if(ne===Wt?(Ot.get("categoryXField")&&(Nt="categoryX"),Ot.get("openCategoryXField")&&(Rt="openCategoryX")):Jt===Wt&&(Ot.get("categoryYField")&&(Nt="categoryY"),Ot.get("openCategoryYField")&&(Rt="openCategoryY"),ie=ne),"ValueAxis"==ie.className&&(Nt||Rt)){let se,ce;for(let Ai=0,gi=Ot.dataItems.length;Ai<gi;Ai++){let pi=Ot.dataItems[Ai];if(Nt&&pi.get(Nt)===jt){se=pi;break}if(Rt&&pi.get(Rt)===jt){se=pi;break}}for(let Ai=Ot.dataItems.length-1;Ai>=0;Ai--){let gi=Ot.dataItems[Ai];if(Nt&&gi.get(Nt)===$t){ce=gi;break}if(Rt&&gi.get(Rt)===$t){ce=gi;break}}let te=0,Ie=Ot.dataItems.length;se&&(te=Ot.dataItems.indexOf(se)),ce&&(Ie=Ot.dataItems.indexOf(ce)+1),Ot.setPrivate("startIndex",te),Ot.setPrivate("endIndex",Ie);let Ve=!1;for(let Ai=te;Ai<Ie;Ai++){const gi=Ot.dataItems[Ai];if(F.each(Ot.__valueXShowFields,pi=>{null!=gi.get(pi)&&(Ve=!0)}),F.each(Ot.__valueYShowFields,pi=>{null!=gi.get(pi)&&(Ve=!0)}),Ve)break}Ot.setPrivate("outOfSelection",!Ve)}Ot._markDirtyAxes()}})}_prepareAxisItems(){const Ot=this.get("renderer"),jt=this.dataItems.length;let $t=this.startIndex();$t>0&&$t--;let Wt=this.endIndex();Wt<jt&&Wt++;let ne=Ot.axisLength()/Math.max(Ot.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),Jt=Math.max(1,Math.min(jt,Math.ceil((Wt-$t)/ne)));$t=Math.floor($t/Jt)*Jt,this._frequency=Jt;for(let Rt=0;Rt<jt;Rt++)this.dataItems[Rt].hide();let Nt=this.dataItems[$t].get("index",0);for(let Rt=$t;Rt<Wt;Rt+=Jt){let ie=this.dataItems[Rt];this._createAssets(ie,[]),ie.isHidden()&&ie.show(),this._prepareDataItem(ie,Nt,Jt),Nt++}this._updateGhost()}_prepareDataItem(Ot,jt,$t){let Wt=this.get("renderer"),ne=Ot.get("categoryLocation",0),Jt=Ot.get("endCategoryLocation",1),Nt=Ot.get("index");N.isNumber(Nt)||(Nt=this.categoryToIndex(Ot.get("category")));let Rt,ie=this.indexToPosition(Nt,ne),se=Ot.get("endCategory");se?(Rt=this.categoryToIndex(se),N.isNumber(Rt)||(Rt=Nt)):Rt=Nt;let ce,te,Ie=this.indexToPosition(Rt,Jt);ce=Ot.get("isRange")?Rt:Nt+this._frequency-1,te=this.indexToPosition(ce,Jt),Wt.updateLabel(Ot.get("label"),ie,Ie,$t),Wt.updateGrid(Ot.get("grid"),ie,Ie),Wt.updateTick(Ot.get("tick"),ie,Ie,$t),Wt.updateFill(Ot.get("axisFill"),ie,te),this._processBullet(Ot),Wt.updateBullet(Ot.get("bullet"),ie,Ie);const Ve=this.get("fillRule");Ve&&Ve(Ot,jt)}startIndex(){let Ot=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),Ot-1)}endIndex(){let Ot=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",Ot),Ot))}baseValue(){}basePosition(){return 0}getX(Ot){let jt=this._itemMap[Ot];return jt?this._settings.renderer.positionToCoordinate(this.indexToPosition(jt.get("index",0))):NaN}getY(Ot){let jt=this._itemMap[Ot];return jt?this._settings.renderer.positionToCoordinate(this.indexToPosition(jt.get("index",0))):NaN}getDataItemPositionX(Ot,jt,$t,Wt){const ne=Ot.get(jt),Jt=this._itemMap[ne];return Jt?this.indexToPosition(Jt.get("index",0),$t):NaN}getDataItemCoordinateX(Ot,jt,$t,Wt){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(Ot,jt,$t,Wt))}getDataItemPositionY(Ot,jt,$t,Wt){const ne=Ot.get(jt),Jt=this._itemMap[ne];return Jt?this.indexToPosition(Jt.get("index",0),$t):NaN}getDataItemCoordinateY(Ot,jt,$t,Wt){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(Ot,jt,$t,Wt))}indexToPosition(Ot,jt){N.isNumber(jt)||(jt=.5);let $t=this.dataItems.length,Wt=this.get("startLocation",0);$t-=Wt,$t-=1-this.get("endLocation",1);let ne=(Ot+jt-Wt)/$t,Jt=this.dataItems[Ot];return Jt&&(ne+=Jt.get("deltaPosition",0)),ne}categoryToIndex(Ot){let jt=this._itemMap[Ot];return jt?jt.get("index"):NaN}dataItemToPosition(Ot){return this.indexToPosition(Ot.get("index"))}roundAxisPosition(Ot,jt){return this.indexToPosition(this.axisPositionToIndex(Ot+=(.5-jt)/this.dataItems.length),jt)}axisPositionToIndex(Ot){let jt=this.dataItems.length;return a.fitToRange(Math.floor(Ot*jt),0,jt-1)}getTooltipText(Ot){const jt=this.dataItems[this.axisPositionToIndex(Ot)];if(jt){const $t=jt.get("label");if($t)return(0,p.q)($t,this.get("tooltipText",""))}}_updateTooltipText(Ot,jt){Ot._setDataItem(this.dataItems[this.axisPositionToIndex(jt)]),Ot.label.text.markDirtyText()}getSeriesItem(Ot,jt){if(this.dataItems.length>0){let $t=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),Wt=this.axisPositionToIndex(jt),ne=Ot.dataItems[Wt],Jt=this.dataItems[Wt],Nt=Jt.get("category");if(ne&&Jt&&ne.get($t)===Nt)return ne;for(let Rt=0,ie=Ot.dataItems.length;Rt<ie;Rt++){let se=Ot.dataItems[Rt];if(se.get($t)===Nt)return se}}}zoomToIndexes(Ot,jt,$t){let Wt=this.dataItems.length;this.zoom(Ot/Wt,jt/Wt,$t)}zoomToCategories(Ot,jt,$t){this.zoomToIndexes(this.categoryToIndex(Ot),this.categoryToIndex(jt)+1,$t)}getCellWidthPosition(){return 1/this.dataItems.length*(this.get("end",1)-this.get("start",0))}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.R.classNames.concat([l.className])});var d=i(1926);class _ extends l{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),super._afterNew()}_prepareAxisItems(){this.setPrivateRaw("baseInterval",this.get("baseInterval"));const Ot=this.get("renderer"),jt=this.dataItems.length;let $t=this.startIndex();$t>0&&$t--;let Wt=this.endIndex();Wt<jt&&Wt++;let ne=Ot.axisLength()/Math.max(Ot.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),Jt=Math.min(jt,Math.ceil((Wt-$t)/ne));$t=Math.floor($t/Jt)*Jt,this._frequency=Jt;for(let Ti=0;Ti<jt;Ti++)this.dataItems[Ti].hide();let Nt=Number(this.dataItems[$t].get("category")),Rt=Number(this.dataItems[Wt-1].get("category")),ie=Rt-Nt;Wt-$t<ne&&(ie=Rt-Nt-((Rt-Nt)/this.baseDuration()-(Wt-$t))*this.baseDuration());let se=d.chooseInterval(0,ie,ne,this.get("gridIntervals"));const ce=d.getNextUnit(se.timeUnit),te=this.getPrivate("baseInterval");d.getIntervalDuration(se)<this.baseDuration()&&(se=Object.assign({},te));const Ie=this.get("dateFormats");let Ve,Ai=-1/0,gi=-1/0,pi=-1/0,Ri=[],ti=!1;for(let Ti=$t;Ti<Wt;Ti++){let xi=this.dataItems[Ti],be=xi.get("index"),ii=!1,nt=Number(xi.get("category")),St=new Date(nt),Gt=d.getUnitValue(St,se.timeUnit);Ve=Ie[se.timeUnit];let ee=!1;"year"!=se.timeUnit&&"week"!=se.timeUnit&&ce&&this.get("markUnitChange")&&N.isNumber(Ai)&&d.checkChange(nt,Ai,ce,this._root.utc)&&(Ve=this.get("periodChangeDateFormats")[se.timeUnit],be-.5*Jt<gi&&Ri.pop(),Ri.push({format:Ve,dataItem:xi}),ti=!0,ee=!0,gi=be,pi=Gt);let ge=!1;"day"===se.timeUnit||"week"===se.timeUnit?be-gi>=Jt&&(ge=!0):Gt%se.count==0&&Gt!=pi&&(ge=!0),!ee&&ge&&(be-.7*Jt<gi&&ti&&(ii=!0),ii||(Ri.push({format:Ve,dataItem:xi}),gi=be,pi=Gt),ti=!1),Ai=nt}if(Ri.length>0){let Ti=Ri[0].dataItem.get("index",0);F.each(Ri,xi=>{const be=xi.dataItem,ii=xi.format;this._createAssets(be,[]),be.isHidden()&&be.show();let nt=Number(be.get("category")),St=new Date(nt);const Gt=be.get("label");Gt&&Gt.set("text",this._root.dateFormatter.format(St,ii)),Ti++,this._prepareDataItem(be,Ti,Jt)})}}baseDuration(){return d.getIntervalDuration(this.getPrivate("baseInterval"))}getTooltipText(Ot){let jt=this.dataItems[this.axisPositionToIndex(Ot)];if(jt){let $t=this.get("dateFormats")[this.getPrivate("baseInterval").timeUnit];return this._root.dateFormatter.format(new Date(jt.get("category",0)),this.get("tooltipDateFormat",$t))}}_updateTooltipText(Ot,jt){Ot.label.set("text",this.getTooltipText(jt))}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryDateAxis"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.classNames.concat([_.className])});var w=i(5638),x=i(8701),I=i(7261);class h extends I.m{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["axis"]),super._afterNew()}_adjustMinMax(Ot,jt,$t,Wt){let ne;const Jt=this.getDurationFormatter(),Nt=this.get("baseUnit");if(this.setRaw("maxPrecision",0),"millisecond"==Nt||"second"==Nt||"minute"==Nt||"hour"==Nt){$t<=1&&($t=1),$t=Math.round($t);let Rt=jt-Ot;0===Rt&&(Rt=Math.abs(jt));let ie=Rt/$t,se=[60,30,20,15,10,2,1],ce=1;"hour"==Nt&&(se=[24,12,6,4,2,1]);for(let gi of se)if(Rt/gi>$t){ce=gi;break}let te=Math.ceil((jt-Ot)/ce/$t),Ie=Math.log(Math.abs(te))*Math.LOG10E,Ve=Math.pow(10,Math.floor(Ie))/10;te=a.closest(se,te/Ve)*Ve,ie=ce*te,ne={min:Ot=Math.floor(Ot/ie)*ie,max:jt=Math.ceil(jt/ie)*ie,step:ie}}else ne=super._adjustMinMax(Ot,jt,$t,Wt);return this.setPrivateRaw("durationFormat",Jt.getFormat(ne.step,ne.max,Nt)),ne}_formatText(Ot){return this.getDurationFormatter().format(Ot,this.getPrivate("durationFormat"),this.get("baseUnit"))}getTooltipText(Ot){const jt=this.getDurationFormatter(),$t=this.get("extraTooltipPrecision",0),Wt=this.getPrivate("stepDecimalPlaces",0)+$t,ne=a.round(this.positionToValue(Ot),Wt);return jt.format(ne,this.getPrivate("durationFormat"),this.get("baseUnit"))}}Object.defineProperty(h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DurationAxis"}),Object.defineProperty(h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:I.m.classNames.concat([h.className])});var n=i(6331);class D extends n.JH{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const Ot=this.get("sprite");if(this.isDirty("sprite")&&Ot&&(Ot.setAll({position:"absolute",role:"figure"}),this._disposers.push(Ot)),this.isDirty("location")){const jt=Ot.dataItem;this.axis&&Ot&&jt&&this.axis._prepareDataItem(jt)}}}Object.defineProperty(D,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(D,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:n.JH.classNames.concat([D.className])});var P=i(6293),E=i(9084),m=i(4714),C=i(8943),A=i(6275),k=i(6284),f=i(7909),o=i(4604),R=i(2976),U=i(2312);class X extends R.j{_draw(){const Ot=this._display;Ot.moveTo(this.get("lowX1",0),this.get("lowY1",0)),Ot.lineTo(this.get("highX1",0),this.get("highY1",0));let jt=this.width(),$t=this.height();if("vertical"==this.get("orientation")){let Wt=$t,ne=0;Ot.moveTo(0,Wt),Ot.lineTo(jt/2,Wt),Ot.moveTo(jt/2,ne),Ot.lineTo(jt,ne)}else{let Wt=0,ne=jt;Ot.moveTo(Wt,0),Ot.lineTo(Wt,$t/2),Ot.moveTo(ne,$t/2),Ot.lineTo(ne,$t)}}}Object.defineProperty(X,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLC"}),Object.defineProperty(X,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:R.j.classNames.concat([X.className])});var tt=i(5769),pt=i(7144);class ot extends U.${constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new pt.o(tt.YS.new({themeTags:["autocolor"]}),()=>X._new(this._root,{themeTags:M.mergeTags(this.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template]))})}makeColumn(Ot,jt){const $t=this.mainContainer.children.push(jt.make());return $t._setDataItem(Ot),jt.push($t),$t}_processAxisRange(Ot){super._processAxisRange(Ot),Ot.columns=new pt.o(tt.YS.new({}),()=>X._new(this._root,{themeTags:M.mergeTags(Ot.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template,Ot.columns.template]))}}Object.defineProperty(ot,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLCSeries"}),Object.defineProperty(ot,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U.$.classNames.concat([ot.className])});var W=i(62),K=i(2338),gt=i(5892);class yt extends K.e{_afterNew(){this._setDefault("curveFactory",(0,gt.$)(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",(0,gt.$)(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(yt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedYLineSeries"}),Object.defineProperty(yt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:K.e.classNames.concat([yt.className])});var _t=i(8289);class rt extends K.e{_afterNew(){this._setDefault("curveFactory",(0,_t.G)(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",(0,_t.G)(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(rt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXLineSeries"}),Object.defineProperty(rt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:K.e.classNames.concat([rt.className])});var ut=i(2818);class at extends K.e{_afterNew(){this._setDefault("curveFactory",ut.ZP.tension(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",ut.ZP.tension(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(at,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXYLineSeries"}),Object.defineProperty(at,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:K.e.classNames.concat([at.className])});var Ct=i(6245);function vt(Ft,Ot){this._context=Ft,this._t=Ot}function ct(Ft){return new vt(Ft,1)}vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Ft,Ot){switch(Ft=+Ft,Ot=+Ot,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ft,Ot):this._context.moveTo(Ft,Ot);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,Ot),this._context.lineTo(Ft,Ot);else{var jt=this._x*(1-this._t)+Ft*this._t;this._context.lineTo(jt,this._y),this._context.lineTo(jt,Ot)}}this._x=Ft,this._y=Ot}};class Tt extends K.e{_afterNew(){this._setDefault("curveFactory",ct),super._afterNew()}_getPoints(Ot,jt){let $t=jt.points,Wt=this.get("stepWidth",Ct.AQ).value/2,ne=Ot.get("locationX",jt.locationX),Jt=Ot.get("locationY",jt.locationY),Nt=ne,Rt=Jt;jt.baseAxis===jt.xAxis?(ne-=Wt,Nt+=Wt):jt.baseAxis===jt.yAxis&&(Jt-=Wt,Rt+=Wt);let ie=jt.xAxis.getDataItemPositionX(Ot,jt.xField,ne,jt.vcx),se=jt.yAxis.getDataItemPositionY(Ot,jt.yField,Jt,jt.vcy),ce=jt.xAxis.getDataItemPositionX(Ot,jt.xField,Nt,jt.vcx),te=jt.yAxis.getDataItemPositionY(Ot,jt.yField,Rt,jt.vcy);if(this._shouldInclude(ie)){const Ie=this.getPoint(ie,se),Ve=[Ie.x,Ie.y],Ai=this.getPoint(ce,te),gi=[Ai.x,Ai.y];if(jt.fillVisible){let pi=ie,Ri=se,ti=ce,Ti=te;if(jt.baseAxis===jt.xAxis?(Ri=jt.basePosY,Ti=jt.basePosY):jt.baseAxis===jt.yAxis&&(pi=jt.basePosX,ti=jt.basePosX),jt.getOpen){let ii=Ot.get(jt.xOpenField),nt=Ot.get(jt.yOpenField);if(null!=ii&&null!=nt)if(ne=Ot.get("openLocationX",jt.openLocationX),Jt=Ot.get("openLocationY",jt.openLocationY),Nt=ne,Rt=Jt,jt.baseAxis===jt.xAxis?(ne-=Wt,Nt+=Wt):jt.baseAxis===jt.yAxis&&(Jt-=Wt,Rt+=Wt),jt.stacked){let St=Ot.get("stackToItemX"),Gt=Ot.get("stackToItemY");St?(pi=jt.xAxis.getDataItemPositionX(St,jt.xField,ne,St.component.get("vcx")),ti=jt.xAxis.getDataItemPositionX(St,jt.xField,Nt,St.component.get("vcx"))):jt.yAxis===jt.baseAxis?(pi=jt.basePosX,ti=jt.basePosX):jt.baseAxis===jt.yAxis&&(pi=jt.xAxis.getDataItemPositionX(Ot,jt.xOpenField,ne,jt.vcx),ti=jt.xAxis.getDataItemPositionX(Ot,jt.xOpenField,Nt,jt.vcx)),Gt?(Ri=jt.yAxis.getDataItemPositionY(Gt,jt.yField,Jt,Gt.component.get("vcy")),Ti=jt.yAxis.getDataItemPositionY(Gt,jt.yField,Rt,Gt.component.get("vcy"))):jt.xAxis===jt.baseAxis?(Ri=jt.basePosY,Ti=jt.basePosY):jt.baseAxis===jt.yAxis&&(Ri=jt.yAxis.getDataItemPositionY(Ot,jt.yOpenField,Jt,jt.vcy),Ti=jt.yAxis.getDataItemPositionY(Ot,jt.yOpenField,Rt,jt.vcy))}else pi=jt.xAxis.getDataItemPositionX(Ot,jt.xOpenField,ne,jt.vcx),Ri=jt.yAxis.getDataItemPositionY(Ot,jt.yOpenField,Jt,jt.vcy),ti=jt.xAxis.getDataItemPositionX(Ot,jt.xOpenField,Nt,jt.vcx),Ti=jt.yAxis.getDataItemPositionY(Ot,jt.yOpenField,Rt,jt.vcy)}let xi=this.getPoint(pi,Ri),be=this.getPoint(ti,Ti);Ve[2]=xi.x,Ve[3]=xi.y,gi[2]=be.x,gi[3]=be.y}$t.push(Ve),$t.push(gi),Ot.set("point",{x:Ve[0]+(gi[0]-Ve[0])/2,y:Ve[1]+(gi[1]-Ve[1])/2})}this.get("noRisers")&&(jt.points=[],jt.segments.push($t))}}Object.defineProperty(Tt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"}),Object.defineProperty(Tt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:K.e.classNames.concat([Tt.className])});var kt=i(55)},7825:function(S,e,i){i.r(e),i.d(e,{am5xy:function(){return s}});const s=i(3955)},2818:function(S,e,i){function s(T,M,j){T._context.bezierCurveTo(T._x1+T._k*(T._x2-T._x0),T._y1+T._k*(T._y2-T._y0),T._x2+T._k*(T._x1-M),T._y2+T._k*(T._y1-j),T._x2,T._y2)}function c(T,M){this._context=T,this._k=(1-M)/6}i.d(e,{xm:function(){return s}}),c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:s(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(T,M){switch(T=+T,M=+M,this._point){case 0:this._point=1,this._line?this._context.lineTo(T,M):this._context.moveTo(T,M);break;case 1:this._point=2,this._x1=T,this._y1=M;break;case 2:this._point=3;default:s(this,T,M)}this._x0=this._x1,this._x1=this._x2,this._x2=T,this._y0=this._y1,this._y1=this._y2,this._y2=M}},e.ZP=function T(M){function j(G){return new c(G,M)}return j.tension=function(G){return T(+G)},j}(0)}},function(S){var e=S(S.s=7825),i=window;for(var s in e)i[s]=e[s];e.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})}]),(self.webpackChunk_am5=self.webpackChunk_am5||[]).push([[4837],{9295:function(S,e,i){i.r(e),i.d(e,{am5themes_Animated:function(){return T}});var s=i(3409);const T=class c extends s.Q{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500)}}}},function(S){var e=S(S.s=9295),i=window;for(var s in e)i[s]=e[s];e.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})}]),function(S){"object"==typeof module&&module.exports?(S.default=S,module.exports=S):"function"==typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(e){return S(e),S.Highcharts=e,S}):S(typeof Highcharts<"u"?Highcharts:void 0)}(function(S){function e(i,s,c,T){i.hasOwnProperty(s)||(i[s]=T.apply(null,c),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}e(S=S?S._modules:{},"Accessibility/Utils/HTMLUtilities.js",[S["Core/Globals.js"],S["Core/Utilities.js"]],function(i,s){function c(z){if("function"==typeof j.MouseEvent)return new j.MouseEvent(z.type,z);if(M.createEvent){var F=M.createEvent("MouseEvent");if(F.initMouseEvent)return F.initMouseEvent(z.type,z.bubbles,z.cancelable,z.view||j,z.detail,z.screenX,z.screenY,z.clientX,z.clientY,z.ctrlKey,z.altKey,z.shiftKey,z.metaKey,z.button,z.relatedTarget),F}return T(z.type)}function T(z,F,N){return F=F||{x:0,y:0},"function"==typeof j.MouseEvent?new j.MouseEvent(z,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:N||Y,view:j,detail:"click"===z?1:0,screenX:F.x,screenY:F.y,clientX:F.x,clientY:F.y}):M.createEvent&&(N=M.createEvent("MouseEvent")).initMouseEvent?(N.initMouseEvent(z,!0,!0,j,"click"===z?1:0,F.x,F.y,F.x,F.y,!1,!1,!1,!1,0,null),N):{type:z}}var M=i.doc,j=i.win,G=s.css,Y=j.EventTarget&&new j.EventTarget||"none";return{addClass:function(z,F){z.classList?z.classList.add(F):0>z.className.indexOf(F)&&(z.className+=" "+F)},cloneMouseEvent:c,cloneTouchEvent:function(z){var F=function(N){for(var a=[],p=0;p<N.length;++p){var l=N.item(p);l&&a.push(l)}return a};return"function"==typeof j.TouchEvent?(F=new j.TouchEvent(z.type,{touches:F(z.touches),targetTouches:F(z.targetTouches),changedTouches:F(z.changedTouches),ctrlKey:z.ctrlKey,shiftKey:z.shiftKey,altKey:z.altKey,metaKey:z.metaKey,bubbles:z.bubbles,cancelable:z.cancelable,composed:z.composed,detail:z.detail,view:z.view}),z.defaultPrevented&&F.preventDefault(),F):((F=c(z)).touches=z.touches,F.changedTouches=z.changedTouches,F.targetTouches=z.targetTouches,F)},escapeStringForHTML:function(z){return z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(z){return M.getElementById(z)},getFakeMouseEvent:T,getHeadingTagNameForElement:function(z){var F=function(a){return a=parseInt(a.slice(1),10),"h"+Math.min(6,a+1)},N=function(a){var p;t:{for(p=a;p=p.previousSibling;){var l=p.tagName||"";if(/H[1-6]/.test(l)){p=l;break t}}p=""}return p?F(p):(a=a.parentElement)?/H[1-6]/.test(p=a.tagName)?F(p):N(a):"p"};return N(z)},removeChildNodes:function(z){for(;z.lastChild;)z.removeChild(z.lastChild)},removeClass:function(z,F){z.classList?z.classList.remove(F):z.className=z.className.replace(new RegExp(F,"g"),"")},removeElement:function(z){z&&z.parentNode&&z.parentNode.removeChild(z)},reverseChildNodes:function(z){for(var F=z.childNodes.length;F--;)z.appendChild(z.childNodes[F])},simulatedEventTarget:Y,stripHTMLTagsFromString:function(z){return"string"==typeof z?z.replace(/<\/?[^>]+(>|$)/g,""):z},visuallyHideElement:function(z){G(z,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),e(S,"Accessibility/A11yI18n.js",[S["Core/FormatUtilities.js"],S["Core/Utilities.js"]],function(i,s){var j,c=i.format,T=s.getNestedProperty,M=s.pick;return function(G){function z(a,p,l){var d=function(h,n){var D=(h=h.slice(n||0)).indexOf("{"),P=h.indexOf("}");if(-1<D&&P>D)return{statement:h.substring(D+1,P),begin:n+D+1,end:n+P}},_=[],w=0;do{var x=d(a,w),I=a.substring(w,x&&x.begin-1);I.length&&_.push({value:I,type:"constant"}),x&&_.push({value:x.statement,type:"statement"}),w=x?x.end+1:w+1}while(x);return _.forEach(function(h){"statement"===h.type&&(h.value=function Y(a,p){var l=a.indexOf("#each("),d=a.indexOf("#plural("),_=a.indexOf("["),w=a.indexOf("]");if(-1<l){if(w=a.slice(l).indexOf(")")+l,d=a.substring(0,l),_=a.substring(w+1),w=a.substring(l+6,w).split(","),l=Number(w[1]),a="",p=T(w[0],p))for(l=0>(l=isNaN(l)?p.length:l)?p.length+l:Math.min(l,p.length),w=0;w<l;++w)a+=d+p[w]+_;return a.length?a:""}if(-1<d){switch(_=a.slice(d).indexOf(")")+d,d=a.substring(d+8,_).split(","),Number(T(d[0],p))){case 0:a=M(d[4],d[1]);break;case 1:a=M(d[2],d[1]);break;case 2:a=M(d[3],d[1]);break;default:a=d[1]}return a?(p=a).trim&&p.trim()||p.replace(/^\s+|\s+$/g,""):""}return-1<_?(d=a.substring(0,_),_=Number(a.substring(_+1,w)),a=void 0,p=T(d,p),!isNaN(_)&&p&&(0>_?typeof(a=p[p.length+_])>"u"&&(a=p[0]):typeof(a=p[_])>"u"&&(a=p[p.length-1])),typeof a<"u"?a:""):"{"+a+"}"}(h.value,p))}),c(_.reduce(function(h,n){return h+n.value},""),p,l)}function F(a,p){a=a.split(".");for(var l=this.options.lang,d=0;d<a.length;++d)l=l&&l[a[d]];return"string"==typeof l?z(l,p,this):""}var N=[];G.compose=function(a){return-1===N.indexOf(a)&&(N.push(a),a.prototype.langFormat=F),a},G.i18nFormat=z}(j||(j={})),j}),e(S,"Accessibility/Utils/ChartUtilities.js",[S["Core/Globals.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Core/Utilities.js"]],function(i,s,c){function G(d){if(d.points&&d.points.length)return(d=p(d.points,function(_){return!!_.graphic}))&&d.graphic&&d.graphic.element}function Y(d){var _=G(d);return _&&_.parentNode||d.graph&&d.graph.element||d.group&&d.group.element}var F=i.doc,N=s.stripHTMLTagsFromString,a=c.defined,p=c.find,l=c.fireEvent;return{fireEventOnWrappedOrUnwrappedElement:function T(d,_){var w=_.type,x=d.hcEvents;F.createEvent&&(d.dispatchEvent||d.fireEvent)?d.dispatchEvent?d.dispatchEvent(_):d.fireEvent(w,_):x&&x[w]?l(d,w,_):d.element&&T(d.element,_)},getChartTitle:function(d){return N(d.options.title.text||d.langFormat("accessibility.defaultChartTitle",{chart:d}))},getAxisDescription:function(d){return d&&(d.userOptions&&d.userOptions.accessibility&&d.userOptions.accessibility.description||d.axisTitle&&d.axisTitle.textStr||d.options.id||d.categories&&"categories"||d.dateTime&&"Time"||"values")},getAxisRangeDescription:function(d){var _=d.options||{};return _.accessibility&&typeof _.accessibility.rangeDescription<"u"?_.accessibility.rangeDescription:d.categories?(_=d.chart,d=d.dataMax&&d.dataMin?_.langFormat("accessibility.axis.rangeCategories",{chart:_,axis:d,numCategories:d.dataMax-d.dataMin+1}):""):!d.dateTime||0!==d.min&&0!==d.dataMin?function j(d){var _=d.chart,w=_.options,x=w&&w.accessibility&&w.accessibility.screenReaderSection.axisRangeDateFormat||"",I={min:d.dataMin||d.min||0,max:d.dataMax||d.max||0};return w=function(h){return d.dateTime?_.time.dateFormat(x,I[h]):I[h].toString()},_.langFormat("accessibility.axis.rangeFromTo",{chart:_,axis:d,rangeFrom:w("min"),rangeTo:w("max")})}(d):function M(d){var _=d.chart,w={},x="Seconds";w.Seconds=((d.dataMax||d.max||0)-(d.dataMin||d.min||0))/1e3,w.Minutes=w.Seconds/60,w.Hours=w.Minutes/60,w.Days=w.Hours/24,["Minutes","Hours","Days"].forEach(function(h){2<w[h]&&(x=h)});var I=w[x].toFixed("Seconds"!==x&&"Minutes"!==x?1:0);return _.langFormat("accessibility.axis.timeRange"+x,{chart:_,axis:d,range:I.replace(".0","")})}(d)},getPointFromXY:function(d,_,w){for(var I,x=d.length;x--;)if(I=p(d[x].points||[],function(h){return h.x===_&&h.y===w}))return I},getSeriesFirstPointElement:G,getSeriesFromName:function(d,_){return _?(d.series||[]).filter(function(w){return w.name===_}):d.series},getSeriesA11yElement:Y,unhideChartElementFromAT:function z(d,_){_.setAttribute("aria-hidden",!1),_!==d.renderTo&&_.parentNode&&_.parentNode!==F.body&&(Array.prototype.forEach.call(_.parentNode.childNodes,function(w){w.hasAttribute("aria-hidden")||w.setAttribute("aria-hidden",!0)}),z(d,_.parentNode))},hideSeriesFromAT:function(d){(d=Y(d))&&d.setAttribute("aria-hidden",!0)},scrollToPoint:function(d){var _=d.series.xAxis,w=d.series.yAxis,x=_&&_.scrollbar?_:w;if((_=x&&x.scrollbar)&&a(_.to)&&a(_.from)){if(w=_.to-_.from,a(x.dataMin)&&a(x.dataMax)){var I=x.toPixels(x.dataMin),h=x.toPixels(x.dataMax);d=(x.toPixels(d["xAxis"===x.coll?"x":"y"]||0)-I)/(h-I)}else d=0;_.updatePosition(d-w/2,d+w/2),l(_,"changed",{from:_.from,to:_.to,trigger:"scrollbar",DOMEvent:null})}}}}),e(S,"Accessibility/Utils/DOMElementProvider.js",[S["Core/Globals.js"],S["Accessibility/Utils/HTMLUtilities.js"]],function(i,s){var c=i.doc,T=s.removeElement;return function(){function M(){this.elements=[]}return M.prototype.createElement=function(){var j=c.createElement.apply(c,arguments);return this.elements.push(j),j},M.prototype.destroyCreatedElements=function(){this.elements.forEach(function(j){T(j)}),this.elements=[]},M}()}),e(S,"Accessibility/Utils/EventProvider.js",[S["Core/Globals.js"],S["Core/Utilities.js"]],function(i,s){var c=s.addEvent;return function(){function T(){this.eventRemovers=[]}return T.prototype.addEvent=function(){var M=c.apply(i,arguments);return this.eventRemovers.push(M),M},T.prototype.removeAddedEvents=function(){this.eventRemovers.forEach(function(M){return M()}),this.eventRemovers=[]},T}()}),e(S,"Accessibility/AccessibilityComponent.js",[S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/DOMElementProvider.js"],S["Accessibility/Utils/EventProvider.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Core/Utilities.js"]],function(i,s,c,T,M){var j=i.fireEventOnWrappedOrUnwrappedElement,G=T.getFakeMouseEvent;return(i=M.extend)((T=function(){function Y(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}return Y.prototype.initBase=function(z,F){this.chart=z,this.eventProvider=new c,this.domElementProvider=new s,this.proxyProvider=F,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}},Y.prototype.addEvent=function(z,F,N,a){return this.eventProvider.addEvent(z,F,N,a)},Y.prototype.createElement=function(z,F){return this.domElementProvider.createElement(z,F)},Y.prototype.fakeClickEvent=function(z){var F=G("click");j(z,F)},Y.prototype.destroyBase=function(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()},Y}()).prototype,{init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}}),T}),e(S,"Accessibility/KeyboardNavigationHandler.js",[S["Core/Utilities.js"]],function(i){var s=i.find;return function(){function c(T,M){this.chart=T,this.keyCodeMap=M.keyCodeMap||[],this.validate=M.validate,this.init=M.init,this.terminate=M.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}return c.prototype.run=function(T){var M=T.which||T.keyCode,j=this.response.noHandler,G=s(this.keyCodeMap,function(Y){return-1<Y[0].indexOf(M)});return G?j=G[1].call(this,M,T):9===M&&(j=this.response[T.shiftKey?"prev":"next"]),j},c}()}),e(S,"Accessibility/Components/ContainerComponent.js",[S["Accessibility/AccessibilityComponent.js"],S["Accessibility/KeyboardNavigationHandler.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Core/Globals.js"],S["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,T,M){var N,j=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),G=c.unhideChartElementFromAT,Y=c.getChartTitle,z=T.doc,F=M.stripHTMLTagsFromString;return function(N){function a(){return null!==N&&N.apply(this,arguments)||this}return j(a,N),a.prototype.onChartUpdate=function(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()},a.prototype.handleSVGTitleElement=function(){var p=this.chart,l="highcharts-title-"+p.index,d=F(p.langFormat("accessibility.svgContainerTitle",{chartTitle:Y(p)}));if(d.length){var _=this.svgTitleElement=this.svgTitleElement||z.createElementNS("http://www.w3.org/2000/svg","title");_.textContent=d,_.id=l,p.renderTo.insertBefore(_,p.renderTo.firstChild)}},a.prototype.setSVGContainerLabel=function(){var p=this.chart,l=p.langFormat("accessibility.svgContainerLabel",{chartTitle:Y(p)});p.renderer.box&&l.length&&p.renderer.box.setAttribute("aria-label",l)},a.prototype.setGraphicContainerAttrs=function(){var p=this.chart,l=p.langFormat("accessibility.graphicContainerLabel",{chartTitle:Y(p)});l.length&&p.container.setAttribute("aria-label",l)},a.prototype.setRenderToAttrs=function(){var p=this.chart,l="disabled"!==p.options.accessibility.landmarkVerbosity,d=p.langFormat("accessibility.chartContainerLabel",{title:Y(p),chart:p});d&&(p.renderTo.setAttribute("role",l?"region":"group"),p.renderTo.setAttribute("aria-label",d))},a.prototype.makeCreditsAccessible=function(){var p=this.chart,l=p.credits;l&&(l.textStr&&l.element.setAttribute("aria-label",p.langFormat("accessibility.credits",{creditsStr:F(l.textStr)})),G(p,l.element))},a.prototype.getKeyboardNavigation=function(){var p=this.chart;return new s(p,{keyCodeMap:[],validate:function(){return!0},init:function(){var l=p.accessibility;l&&l.keyboardNavigation.tabindexContainer.focus()}})},a.prototype.destroy=function(){this.chart.renderTo.setAttribute("aria-hidden",!0)},a}(i)}),e(S,"Accessibility/FocusBorder.js",[S["Core/Renderer/SVG/SVGLabel.js"],S["Core/Utilities.js"]],function(i,s){var M,c=s.addEvent,T=s.pick;return function(j){function G(){var _=this.focusElement,w=this.options.accessibility.keyboardNavigation.focusBorder;_&&(_.removeFocusBorder(),w.enabled&&_.addFocusBorder(w.margin,{stroke:w.style.color,strokeWidth:w.style.lineWidth,r:w.style.borderRadius}))}function Y(_,w){var x=this.options.accessibility.keyboardNavigation.focusBorder;(w=w||_.element)&&w.focus&&(w.hcEvents&&w.hcEvents.focusin||c(w,"focusin",function(){}),w.focus(),x.hideBrowserFocusOutline&&(w.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=_,this.renderFocusBorder()}function F(_,w){this.focusBorder&&this.removeFocusBorder();var x=this.getBBox(),I=T(_,3),h=this.parentGroup,n=this.scaleX||h&&h.scaleX,D=this.scaleY||h&&h.scaleY;n=(n?!D:D)?Math.abs(n||D||1):(Math.abs(n||1)+Math.abs(D||1))/2,x.x+=this.translateX?this.translateX:0,x.y+=this.translateY?this.translateY:0,D=x.x-I;var P=x.y-I,E=x.width+2*I,m=x.height+2*I,C=this instanceof i;if("text"===this.element.nodeName||C){var A=!!this.rotation;if(C)var k={x:A?1:0,y:0};else{var f=k=0;"middle"===this.attr("text-anchor")?k=f=.5:this.rotation?k=.25:f=.75,k={x:k,y:f}}f=+this.attr("x");var o=+this.attr("y");isNaN(f)||(D=f-x.width*k.x-I),isNaN(o)||(P=o-x.height*k.y-I),C&&A&&(C=E,E=m,m=C,isNaN(f)||(D=f-x.height*k.x-I),isNaN(o)||(P=o-x.width*k.y-I))}this.focusBorder=this.renderer.rect(D,P,E,m,parseInt((w&&w.r||0).toString(),10)/n).addClass("highcharts-focus-border").attr({zIndex:99}).add(h),this.renderer.styledMode||this.focusBorder.attr({stroke:w&&w.stroke,"stroke-width":(w&&w.strokeWidth||0)/n}),function N(_){for(var w=[],x=1;x<arguments.length;x++)w[x-1]=arguments[x];_.focusBorderUpdateHooks||(_.focusBorderUpdateHooks={},d.forEach(function(I){var h=_[I+="Setter"]||_._defaultSetter;_.focusBorderUpdateHooks[I]=h,_[I]=function(){var n=h.apply(_,arguments);return _.addFocusBorder.apply(_,w),n}}))}(this,_,w),function z(_){if(!_.focusBorderDestroyHook){var w=_.destroy;_.destroy=function(){return _.focusBorder&&_.focusBorder.destroy&&_.focusBorder.destroy(),w.apply(_,arguments)},_.focusBorderDestroyHook=w}}(this)}function a(){(function p(_){_.focusBorderUpdateHooks&&(Object.keys(_.focusBorderUpdateHooks).forEach(function(w){var x=_.focusBorderUpdateHooks[w];x===_._defaultSetter?delete _[w]:_[w]=x}),delete _.focusBorderUpdateHooks)})(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}var l=[],d="x y transform width height r d stroke-width".split(" ");j.compose=function(_,w){-1===l.indexOf(_)&&(l.push(_),(_=_.prototype).renderFocusBorder=G,_.setFocusToElement=Y),-1===l.indexOf(w)&&(l.push(w),(w=w.prototype).addFocusBorder=F,w.removeFocusBorder=a)}}(M||(M={})),M}),e(S,"Accessibility/Utils/Announcer.js",[S["Core/Renderer/HTML/AST.js"],S["Accessibility/Utils/DOMElementProvider.js"],S["Core/Globals.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Core/Utilities.js"]],function(i,s,c,T,M){var j=c.doc,G=T.addClass,Y=T.visuallyHideElement,z=M.attr;return function(){function F(N,a){this.chart=N,this.domElementProvider=new s,this.announceRegion=this.addAnnounceRegion(a)}return F.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},F.prototype.announce=function(N){var a=this;i.setElementHTML(this.announceRegion,N),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(function(){a.announceRegion.innerHTML=i.emptyHTML,delete a.clearAnnouncementRegionTimer},1e3)},F.prototype.addAnnounceRegion=function(N){var a=this.chart.announcerContainer||this.createAnnouncerContainer(),p=this.domElementProvider.createElement("div");return z(p,{"aria-hidden":!1,"aria-live":N}),this.chart.styledMode?G(p,"highcharts-visually-hidden"):Y(p),a.appendChild(p),p},F.prototype.createAnnouncerContainer=function(){var N=this.chart,a=j.createElement("div");return z(a,{"aria-hidden":!1,class:"highcharts-announcer-container"}),a.style.position="relative",N.renderTo.insertBefore(a,N.renderTo.firstChild),N.announcerContainer=a},F}()}),e(S,"Accessibility/Components/AnnotationsA11y.js",[S["Accessibility/Utils/HTMLUtilities.js"]],function(i){function s(Y){return(Y.annotations||[]).reduce(function(z,F){return F.options&&!1!==F.options.visible&&(z=z.concat(F.labels)),z},[])}function c(Y){return Y.options&&Y.options.accessibility&&Y.options.accessibility.description||Y.graphic&&Y.graphic.text&&Y.graphic.text.textStr||""}function T(Y){var z=Y.options&&Y.options.accessibility&&Y.options.accessibility.description;if(z)return z;z=Y.chart;var F=c(Y),N=Y.points.filter(function(l){return!!l.graphic}).map(function(l){var d=l.accessibility&&l.accessibility.valueDescription||l.graphic&&l.graphic.element&&l.graphic.element.getAttribute("aria-label")||"";return((l=l&&l.series.name||"")?l+", ":"")+"data point "+d}).filter(function(l){return!!l}),a=N.length,p="accessibility.screenReaderSection.annotations.description"+(1<a?"MultiplePoints":a?"SinglePoint":"NoPoints");return Y={annotationText:F,annotation:Y,numPoints:a,annotationPoint:N[0],additionalAnnotationPoints:N.slice(1)},z.langFormat(p,Y)}function M(Y){return s(Y).map(function(z){return(z=j(G(T(z))))?"<li>".concat(z,"</li>"):""})}var j=i.escapeStringForHTML,G=i.stripHTMLTagsFromString;return{getAnnotationsInfoHTML:function(Y){var z=Y.annotations;return z&&z.length?(Y=M(Y),'<ul style="list-style-type: none">'.concat(Y.join(" "),"</ul>")):""},getAnnotationLabelDescription:T,getAnnotationListItems:M,getPointAnnotationTexts:function(Y){var z=s(Y.series.chart).filter(function(F){return-1<F.points.indexOf(Y)});return z.length?z.map(function(F){return"".concat(c(F))}):[]}}}),e(S,"Accessibility/Components/InfoRegionsComponent.js",[S["Accessibility/A11yI18n.js"],S["Accessibility/AccessibilityComponent.js"],S["Accessibility/Utils/Announcer.js"],S["Accessibility/Components/AnnotationsA11y.js"],S["Core/Renderer/HTML/AST.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Core/FormatUtilities.js"],S["Core/Globals.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Core/Utilities.js"]],function(i,s,c,T,M,j,G,Y,z,F){var A,a=this&&this.__extends||(A=function(k,f){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,R){o.__proto__=R}||function(o,R){for(var U in R)R.hasOwnProperty(U)&&(o[U]=R[U])})(k,f)},function(k,f){function o(){this.constructor=k}A(k,f),k.prototype=null===f?Object.create(f):(o.prototype=f.prototype,new o)}),p=T.getAnnotationsInfoHTML,l=j.getAxisDescription,d=j.getAxisRangeDescription,_=j.getChartTitle,w=j.unhideChartElementFromAT,x=G.format,I=Y.doc,h=z.addClass,n=z.getElement,D=z.getHeadingTagNameForElement,P=z.stripHTMLTagsFromString,E=z.visuallyHideElement,m=F.attr,C=F.pick;return function(A){function k(){var f=null!==A&&A.apply(this,arguments)||this;return f.announcer=void 0,f.screenReaderSections={},f}return a(k,A),k.prototype.init=function(){var f=this.chart,o=this;this.initRegionsDefinitions(),this.addEvent(f,"aftergetTableAST",function(R){o.onDataTableCreated(R)}),this.addEvent(f,"afterViewData",function(R){R.wasHidden&&(o.dataTableDiv=R.element,setTimeout(function(){o.focusDataTable()},300))}),this.announcer=new c(f,"assertive")},k.prototype.initRegionsDefinitions=function(){var f=this;this.screenReaderSections={before:{element:null,buildContent:function(o){var R=o.options.accessibility.screenReaderSection.beforeChartFormatter;return R?R(o):f.defaultBeforeChartFormatter(o)},insertIntoDOM:function(o,R){R.renderTo.insertBefore(o,R.renderTo.firstChild)},afterInserted:function(){typeof f.sonifyButtonId<"u"&&f.initSonifyButton(f.sonifyButtonId),typeof f.dataTableButtonId<"u"&&f.initDataTableButton(f.dataTableButtonId)}},after:{element:null,buildContent:function(o){var R=o.options.accessibility.screenReaderSection.afterChartFormatter;return R?R(o):f.defaultAfterChartFormatter()},insertIntoDOM:function(o,R){R.renderTo.insertBefore(o,R.container.nextSibling)},afterInserted:function(){f.chart.accessibility&&f.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}},k.prototype.onChartRender=function(){var f=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(o){f.updateScreenReaderSection(o)})},k.prototype.getLinkedDescriptionElement=function(){var f=this.chart.options.accessibility.linkedDescription;if(f){if("string"!=typeof f)return f;if(f=x(f,this.chart),1===(f=I.querySelectorAll(f)).length)return f[0]}},k.prototype.setLinkedDescriptionAttrs=function(){var f=this.linkedDescriptionElement;f&&(f.setAttribute("aria-hidden","true"),h(f,"highcharts-linked-description"))},k.prototype.updateScreenReaderSection=function(f){var o=this.chart,R=this.screenReaderSections[f],U=R.buildContent(o),X=R.element=R.element||this.createElement("div"),tt=X.firstChild||this.createElement("div");U?(this.setScreenReaderSectionAttribs(X,f),M.setElementHTML(tt,U),X.appendChild(tt),R.insertIntoDOM(X,o),o.styledMode?h(tt,"highcharts-visually-hidden"):E(tt),w(o,tt),R.afterInserted&&R.afterInserted()):(X.parentNode&&X.parentNode.removeChild(X),R.element=null)},k.prototype.setScreenReaderSectionAttribs=function(f,o){var R=this.chart,U=R.langFormat("accessibility.screenReaderSection."+o+"RegionLabel",{chart:R,chartTitle:_(R)});o="highcharts-screen-reader-region-".concat(o,"-").concat(R.index),m(f,{id:o,"aria-label":U||void 0}),f.style.position="relative",U&&f.setAttribute("role","all"===R.options.accessibility.landmarkVerbosity?"region":"group")},k.prototype.defaultBeforeChartFormatter=function(){var f=this.chart,o=f.options.accessibility.screenReaderSection.beforeChartFormat;if(!o)return"";var R=this.getAxesDescription(),U=f.sonify&&f.options.sonification&&f.options.sonification.enabled,X="highcharts-a11y-sonify-data-btn-"+f.index,tt="hc-linkto-highcharts-data-table-"+f.index,pt=p(f),ot=f.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:f});return R={headingTagName:D(f.renderTo),chartTitle:_(f),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:R.xAxis,yAxisDescription:R.yAxis,playAsSoundButton:U?this.getSonifyButtonText(X):"",viewTableButton:f.getCSV?this.getDataTableButtonText(tt):"",annotationsTitle:pt?ot:"",annotationsList:pt},f=i.i18nFormat(o,R,f),this.dataTableButtonId=tt,this.sonifyButtonId=X,f.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},k.prototype.defaultAfterChartFormatter=function(){var f=this.chart,o=f.options.accessibility.screenReaderSection.afterChartFormat;if(!o)return"";var R={endOfChartMarker:this.getEndOfChartMarkerText()};return i.i18nFormat(o,R,f).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},k.prototype.getLinkedDescription=function(){var f=this.linkedDescriptionElement;return P(f&&f.innerHTML||"")},k.prototype.getLongdescText=function(){var f=this.chart.options,o=f.caption;o=o&&o.text;var R=this.getLinkedDescription();return f.accessibility.description||R||o||""},k.prototype.getTypeDescriptionText=function(){var f=this.chart;return f.types?f.options.accessibility.typeDescription||function N(A,k){var f=k[0],o=A.series&&A.series[0]||{};if(o={numSeries:A.series.length,numPoints:o.points&&o.points.length,chart:A,mapTitle:A.mapView&&A.mapView.geoMap&&A.mapView.geoMap.title},!f)return A.langFormat("accessibility.chartTypes.emptyChart",o);if("map"===f)return A.langFormat(o.mapTitle?"accessibility.chartTypes.mapTypeDescription":"accessibility.chartTypes.unknownMap",o);if(1<A.types.length)return A.langFormat("accessibility.chartTypes.combinationChart",o);f=A.langFormat("accessibility.seriesTypeDescriptions."+(k=k[0]),o);var R=A.series&&2>A.series.length?"Single":"Multiple";return(A.langFormat("accessibility.chartTypes."+k+R,o)||A.langFormat("accessibility.chartTypes.default"+R,o))+(f?" "+f:"")}(f,f.types):""},k.prototype.getDataTableButtonText=function(f){var o=this.chart;return'<button id="'+f+'">'+(o=o.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:o,chartTitle:_(o)}))+"</button>"},k.prototype.getSonifyButtonText=function(f){var o=this.chart;return o.options.sonification&&!1===o.options.sonification.enabled?"":'<button id="'+f+'">'+(o=o.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:o,chartTitle:_(o)}))+"</button>"},k.prototype.getSubtitleText=function(){var f=this.chart.options.subtitle;return P(f&&f.text||"")},k.prototype.getEndOfChartMarkerText=function(){var f=this.chart,o=f.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:f});return'<div id="highcharts-end-of-chart-marker-'+f.index+'">'+o+"</div>"},k.prototype.onDataTableCreated=function(f){var o=this.chart;if(o.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");var R=f.tree.attributes||{};R.tabindex=-1,R.summary=o.langFormat("accessibility.table.tableSummary",{chart:o}),f.tree.attributes=R}},k.prototype.focusDataTable=function(){var f=this.dataTableDiv;(f=f&&f.getElementsByTagName("table")[0])&&f.focus&&f.focus()},k.prototype.initSonifyButton=function(f){var o=this,R=this.sonifyButton=n(f),U=this.chart,X=function(tt){R&&(R.setAttribute("aria-hidden","true"),R.setAttribute("aria-label","")),tt.preventDefault(),tt.stopPropagation(),tt=U.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:U}),o.announcer.announce(tt),setTimeout(function(){R&&(R.removeAttribute("aria-hidden"),R.removeAttribute("aria-label")),U.sonify&&U.sonify()},1e3)};R&&U&&(R.setAttribute("tabindex",-1),R.onclick=function(tt){(U.options.accessibility&&U.options.accessibility.screenReaderSection.onPlayAsSoundClick||X).call(this,tt,U)})},k.prototype.initDataTableButton=function(f){var o=this.viewDataTableButton=n(f),R=this.chart;f=f.replace("hc-linkto-",""),o&&(m(o,{tabindex:-1,"aria-expanded":!!n(f)}),o.onclick=R.options.accessibility.screenReaderSection.onViewDataTableClick||function(){R.viewData()})},k.prototype.getAxesDescription=function(){var f=this.chart,o=function(tt,pt){return 1<(tt=f[tt]).length||tt[0]&&C(tt[0].options.accessibility&&tt[0].options.accessibility.enabled,pt)},R=!!f.types&&0>f.types.indexOf("map")&&0>f.types.indexOf("treemap")&&0>f.types.indexOf("tilemap"),U=!!f.hasCartesianSeries,X=o("xAxis",!f.angular&&U&&R);return o=o("yAxis",U&&R),R={},X&&(R.xAxis=this.getAxisDescriptionText("xAxis")),o&&(R.yAxis=this.getAxisDescriptionText("yAxis")),R},k.prototype.getAxisDescriptionText=function(f){var o=this.chart,R=o[f];return o.langFormat("accessibility.axis."+f+"Description"+(1<R.length?"Plural":"Singular"),{chart:o,names:R.map(function(U){return l(U)}),ranges:R.map(function(U){return d(U)}),numAxes:R.length})},k.prototype.destroy=function(){this.announcer&&this.announcer.destroy()},k}(s)}),e(S,"Accessibility/Components/MenuComponent.js",[S["Core/Chart/Chart.js"],S["Core/Utilities.js"],S["Accessibility/AccessibilityComponent.js"],S["Accessibility/KeyboardNavigationHandler.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,T,M,j){var a,G=this&&this.__extends||(a=function(p,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var w in _)_.hasOwnProperty(w)&&(d[w]=_[w])})(p,l)},function(p,l){function d(){this.constructor=p}a(p,l),p.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}),Y=s.attr,z=M.getChartTitle,F=M.unhideChartElementFromAT,N=j.getFakeMouseEvent;return s=function(a){function p(){return null!==a&&a.apply(this,arguments)||this}return G(p,a),p.prototype.init=function(){var l=this.chart,d=this;this.addEvent(l,"exportMenuShown",function(){d.onMenuShown()}),this.addEvent(l,"exportMenuHidden",function(){d.onMenuHidden()}),this.createProxyGroup()},p.prototype.onMenuHidden=function(){var l=this.chart.exportContextMenu;l&&l.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")},p.prototype.onMenuShown=function(){var l=this.chart,d=l.exportContextMenu;d&&(this.addAccessibleContextMenuAttribs(),F(l,d)),this.setExportButtonExpandedState("true")},p.prototype.setExportButtonExpandedState=function(l){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",l)},p.prototype.onChartRender=function(){var l=this.chart,d=l.focusElement,_=l.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&d&&d===l.exportingGroup&&(d.focusBorder?l.setFocusToElement(d,this.exportButtonProxy.buttonElement):_&&_.keyboardNavigation.tabindexContainer.focus())},p.prototype.proxyMenuButton=function(){var l=this.chart,_=l.exportSVGElements&&l.exportSVGElements[0],w=l.options.exporting,x=l.exportSVGElements&&l.exportSVGElements[0];w&&!1!==w.enabled&&w.accessibility&&w.accessibility.enabled&&x&&x.element&&_&&(this.exportButtonProxy=this.proxyProvider.addProxyElement("chartMenu",{click:_},{"aria-label":l.langFormat("accessibility.exporting.menuButtonLabel",{chart:l,chartTitle:z(l)}),"aria-expanded":!1,title:l.options.lang.contextButtonTitle||null}))},p.prototype.createProxyGroup=function(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")},p.prototype.addAccessibleContextMenuAttribs=function(){var l=this.chart,d=l.exportDivElements;d&&d.length&&(d.forEach(function(_){_&&("LI"!==_.tagName||_.children&&_.children.length?_.setAttribute("aria-hidden","true"):_.setAttribute("tabindex",-1))}),(d=d[0]&&d[0].parentNode)&&Y(d,{"aria-hidden":void 0,"aria-label":l.langFormat("accessibility.exporting.chartMenuLabel",{chart:l}),role:"list"}))},p.prototype.getKeyboardNavigation=function(){var l=this.keyCodes,d=this.chart,_=this;return new T(d,{keyCodeMap:[[[l.left,l.up],function(){return _.onKbdPrevious(this)}],[[l.right,l.down],function(){return _.onKbdNext(this)}],[[l.enter,l.space],function(){return _.onKbdClick(this)}]],validate:function(){return!!d.exporting&&!1!==d.options.exporting.enabled&&!1!==d.options.exporting.accessibility.enabled},init:function(){var w=_.exportButtonProxy,x=_.chart.exportingGroup;w&&x&&d.setFocusToElement(x,w.buttonElement)},terminate:function(){d.hideExportMenu()}})},p.prototype.onKbdPrevious=function(l){var d=this.chart,_=d.options.accessibility;l=l.response;for(var w=d.highlightedExportItemIx||0;w--;)if(d.highlightExportItem(w))return l.success;return _.keyboardNavigation.wrapAround?(d.highlightLastExportItem(),l.success):l.prev},p.prototype.onKbdNext=function(l){var d=this.chart,_=d.options.accessibility;l=l.response;for(var w=(d.highlightedExportItemIx||0)+1;w<d.exportDivElements.length;++w)if(d.highlightExportItem(w))return l.success;return _.keyboardNavigation.wrapAround?(d.highlightExportItem(0),l.success):l.next},p.prototype.onKbdClick=function(l){var d=this.chart,w=(d.exportSVGElements&&d.exportSVGElements[0]).element;return d.openMenu?this.fakeClickEvent(d.exportDivElements[d.highlightedExportItemIx]):(this.fakeClickEvent(w),d.highlightExportItem(0)),l.response.success},p}(c),function(a){function p(){var x=this.exportSVGElements&&this.exportSVGElements[0];x&&(x=x.element).onclick&&x.onclick(N("click"))}function l(){var x=this.exportDivElements;x&&this.exportContextMenu&&this.openMenu&&(x.forEach(function(I){I&&"highcharts-menu-item"===I.className&&I.onmouseout&&I.onmouseout(N("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function d(x){var I=this.exportDivElements&&this.exportDivElements[x],h=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(I&&"LI"===I.tagName&&(!I.children||!I.children.length)){var n=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return I.focus&&n&&I.focus(),h&&h.onmouseout&&h.onmouseout(N("mouseout")),I.onmouseover&&I.onmouseover(N("mouseover")),this.highlightedExportItemIx=x,!0}return!1}function _(){if(this.exportDivElements)for(var x=this.exportDivElements.length;x--;)if(this.highlightExportItem(x))return!0;return!1}var w=[];a.compose=function(x){-1===w.indexOf(x)&&(w.push(x),(x=i.prototype).hideExportMenu=l,x.highlightExportItem=d,x.highlightLastExportItem=_,x.showExportMenu=p)}}(s||(s={})),s}),e(S,"Accessibility/KeyboardNavigation.js",[S["Core/Globals.js"],S["Accessibility/Components/MenuComponent.js"],S["Core/Utilities.js"],S["Accessibility/Utils/EventProvider.js"],S["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,T,M){var j=i.doc,G=i.win,Y=c.addEvent,z=c.fireEvent,F=M.getElement,N=M.simulatedEventTarget;return function(a){function p(){var _=this;z(this,"dismissPopupContent",{},function(){_.tooltip&&_.tooltip.hide(0),_.hideExportMenu()})}function l(_){27===(_.which||_.keyCode)&&i.charts&&i.charts.forEach(function(w){w&&w.dismissPopupContent&&w.dismissPopupContent()})}var d=[];a.compose=function(_){return s.compose(_),-1===d.indexOf(_)&&(d.push(_),_.prototype.dismissPopupContent=p),-1===d.indexOf(j)&&(d.push(j),Y(j,"keydown",l)),_}}((c=function(){function a(p,l){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(p,l)}return a.prototype.init=function(p,l){var d=this,_=this.eventProvider=new T;this.chart=p,this.components=l,this.modules=[],this.currentModuleIx=0,this.update(),_.addEvent(this.tabindexContainer,"keydown",function(w){return d.onKeydown(w)}),_.addEvent(this.tabindexContainer,"focus",function(w){return d.onFocus(w)}),["mouseup","touchend"].forEach(function(w){return _.addEvent(j,w,function(x){return d.onMouseUp(x)})}),["mousedown","touchstart"].forEach(function(w){return _.addEvent(p.renderTo,w,function(){d.isClickingChart=!0})}),_.addEvent(p.renderTo,"mouseover",function(){d.pointerIsOverChart=!0}),_.addEvent(p.renderTo,"mouseout",function(){d.pointerIsOverChart=!1})},a.prototype.update=function(p){var l=this.chart.options.accessibility;l=l&&l.keyboardNavigation;var d=this.components;this.updateContainerTabindex(),l&&l.enabled&&p&&p.length?(this.modules=p.reduce(function(_,w){return w=d[w].getKeyboardNavigation(),_.concat(w)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())},a.prototype.updateExitAnchor=function(){var p="highcharts-end-of-chart-marker-".concat(this.chart.index);p=F(p),this.removeExitAnchor(),p?(this.makeElementAnExitAnchor(p),this.exitAnchor=p):this.createExitAnchor()},a.prototype.move=function(p){var l=this.modules&&this.modules[this.currentModuleIx];if(l&&l.terminate&&l.terminate(p),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=p,l=this.modules&&this.modules[this.currentModuleIx]){if(l.validate&&!l.validate())return this.move(p);if(l.init)return l.init(p),!0}return this.currentModuleIx=0,this.exiting=!0,0<p?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1},a.prototype.onFocus=function(p){p=p.relatedTarget&&this.chart.container.contains(p.relatedTarget),this.exiting||this.tabbingInBackwards||this.isClickingChart||p||null!==(p=this.getFirstValidModuleIx())&&(this.currentModuleIx=p,this.modules[p].init(1)),this.exiting=!1},a.prototype.onMouseUp=function(p){if(delete this.isClickingChart,!this.keyboardReset&&p.relatedTarget!==N){if(p=this.chart,!this.pointerIsOverChart){var l=this.modules&&this.modules[this.currentModuleIx||0];l&&l.terminate&&l.terminate(),this.currentModuleIx=0}p.focusElement&&(p.focusElement.removeFocusBorder(),delete p.focusElement),this.keyboardReset=!0}},a.prototype.onKeydown=function(p){p=p||G.event;var d,l=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];if(this.exiting=this.keyboardReset=!1,l){var _=l.run(p);_===l.response.success?d=!0:_===l.response.prev?d=this.move(-1):_===l.response.next&&(d=this.move(1)),d&&(p.preventDefault(),p.stopPropagation())}},a.prototype.updateContainerTabindex=function(){var p=this.chart.options.accessibility;p=!((p=p&&p.keyboardNavigation)&&!1===p.enabled);var l=this.chart,d=l.container;l.renderTo.hasAttribute("tabindex")&&(d.removeAttribute("tabindex"),d=l.renderTo),this.tabindexContainer=d;var _=d.getAttribute("tabindex");p&&!_?d.setAttribute("tabindex","0"):p||l.container.removeAttribute("tabindex")},a.prototype.createExitAnchor=function(){var p=this.chart,l=this.exitAnchor=j.createElement("div");p.renderTo.appendChild(l),this.makeElementAnExitAnchor(l)},a.prototype.makeElementAnExitAnchor=function(p){var l=this.tabindexContainer.getAttribute("tabindex")||0;p.setAttribute("class","highcharts-exit-anchor"),p.setAttribute("tabindex",l),p.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(p)},a.prototype.removeExitAnchor=function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)},a.prototype.addExitAnchorEventsToEl=function(p){var l=this.chart,d=this;this.eventProvider.addEvent(p,"focus",function(_){var w=!((_=_||G.event).relatedTarget&&l.container.contains(_.relatedTarget)||d.exiting);l.focusElement&&delete l.focusElement,w?(d.tabbingInBackwards=!0,d.tabindexContainer.focus(),delete d.tabbingInBackwards,_.preventDefault(),d.modules&&d.modules.length&&(d.currentModuleIx=d.modules.length-1,(_=d.modules[d.currentModuleIx])&&_.validate&&!_.validate()?d.move(-1):_&&_.init(-1))):d.exiting=!1})},a.prototype.getFirstValidModuleIx=function(){for(var p=this.modules.length,l=0;l<p;++l){var d=this.modules[l];if(!d.validate||d.validate())return l}return null},a.prototype.destroy=function(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")},a}())||(c={})),c}),e(S,"Accessibility/Components/LegendComponent.js",[S["Core/Animation/AnimationUtilities.js"],S["Core/Globals.js"],S["Core/Legend/Legend.js"],S["Core/Utilities.js"],S["Accessibility/AccessibilityComponent.js"],S["Accessibility/KeyboardNavigationHandler.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,T,M,j,G,Y){function z(P){var E=P.legend&&P.legend.allItems,m=P.options.legend.accessibility||{};return P=P.colorAxis&&P.colorAxis.some(function(C){return!C.dataClasses||!C.dataClasses.length}),!(!E||!E.length||P||!1===m.enabled)}function F(P,E){var m=E.legendItem||{};E.setState(P?"hover":"",!0),E=0;for(var C=["group","label","symbol"];E<C.length;E++){var A=m[C[E]];(A=A&&A.element||A)&&d(A,P?"mouseover":"mouseout")}}var P,N=this&&this.__extends||(P=function(E,m){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,A){C.__proto__=A}||function(C,A){for(var k in A)A.hasOwnProperty(k)&&(C[k]=A[k])})(E,m)},function(E,m){function C(){this.constructor=E}P(E,m),E.prototype=null===m?Object.create(m):(C.prototype=m.prototype,new C)}),a=i.animObject,p=s.doc,l=T.addEvent,d=T.fireEvent,_=T.isNumber,w=T.pick,x=T.syncTimeout,I=G.getChartTitle,h=Y.stripHTMLTagsFromString,n=Y.addClass,D=Y.removeClass;return i=function(P){function E(){var m=null!==P&&P.apply(this,arguments)||this;return m.highlightedLegendItemIx=NaN,m.proxyGroup=null,m}return N(E,P),E.prototype.init=function(){var m=this;this.recreateProxies(),this.addEvent(c,"afterScroll",function(){this.chart===m.chart&&(m.proxyProvider.updateGroupProxyElementPositions("legend"),m.updateLegendItemProxyVisibility(),-1<m.highlightedLegendItemIx&&this.chart.highlightLegendItem(m.highlightedLegendItemIx))}),this.addEvent(c,"afterPositionItem",function(C){this.chart===m.chart&&this.chart.renderer&&m.updateProxyPositionForItem(C.item)}),this.addEvent(c,"afterRender",function(){this.chart===m.chart&&this.chart.renderer&&m.recreateProxies()&&x(function(){return m.proxyProvider.updateGroupProxyElementPositions("legend")},a(w(this.chart.renderer.globalAnimation,!0)).duration)})},E.prototype.updateLegendItemProxyVisibility=function(){var f,m=this.chart,C=m.legend,A=C.currentPage||1,k=C.clipHeight||0;(C.allItems||[]).forEach(function(o){if(o.a11yProxyElement){var R=C.pages&&C.pages.length,U=o.a11yProxyElement.element,X=!1;f=o.legendItem||{},R&&(o=f.pageIx||0,X=(R=f.y||0)+(X=f.label?Math.round(f.label.getBBox().height):0)-C.pages[o]>k||o!==A-1),X?m.styledMode?n(U,"highcharts-a11y-invisible"):U.style.visibility="hidden":(D(U,"highcharts-a11y-invisible"),U.style.visibility="")}})},E.prototype.onChartRender=function(){z(this.chart)||this.removeProxies()},E.prototype.highlightAdjacentLegendPage=function(m){var C=this.chart,A=C.legend,k=A.pages||[];if(0<(m=(A.currentPage||1)+m)&&m<=k.length)for(var f=k=0,o=A.allItems;f<o.length;f++)((o[f].legendItem||{}).pageIx||0)+1===m&&(A=C.highlightLegendItem(k))&&(this.highlightedLegendItemIx=k),++k},E.prototype.updateProxyPositionForItem=function(m){m.a11yProxyElement&&m.a11yProxyElement.refreshPosition()},E.prototype.recreateProxies=function(){var m=p.activeElement,C=this.proxyGroup;return m=m&&C&&C.contains(m),this.removeProxies(),!!z(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),m&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)},E.prototype.removeProxies=function(){this.proxyProvider.removeGroup("legend")},E.prototype.updateLegendTitle=function(){var m=this.chart,C=h((m.legend&&m.legend.options.title&&m.legend.options.title.text||"").replace(/<br ?\/?>/g," "));m=m.langFormat("accessibility.legend.legendLabel"+(C?"":"NoTitle"),{chart:m,legendTitle:C,chartTitle:I(m)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":m})},E.prototype.addLegendProxyGroup=function(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})},E.prototype.proxyLegendItems=function(){var C,m=this;((this.chart.legend||{}).allItems||[]).forEach(function(A){(C=A.legendItem||{}).label&&C.label.element&&m.proxyLegendItem(A)})},E.prototype.proxyLegendItem=function(m){var C=m.legendItem||{};if(C.label&&C.group){var A=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:h(m.name),item:m});m.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:C.label,visual:(C.group.div?C.label:C.group).element},{tabindex:-1,"aria-pressed":m.visible,"aria-label":A})}},E.prototype.getKeyboardNavigation=function(){var m=this.keyCodes,C=this,A=this.chart;return new j(A,{keyCodeMap:[[[m.left,m.right,m.up,m.down],function(k){return C.onKbdArrowKey(this,k)}],[[m.enter,m.space],function(){return C.onKbdClick(this)}],[[m.pageDown,m.pageUp],function(k){return C.highlightAdjacentLegendPage(k===m.pageDown?1:-1),this.response.success}]],validate:function(){return C.shouldHaveLegendNavigation()},init:function(){A.highlightLegendItem(0),C.highlightedLegendItemIx=0},terminate:function(){C.highlightedLegendItemIx=-1,A.legend.allItems.forEach(function(k){return F(!1,k)})}})},E.prototype.onKbdArrowKey=function(m,C){var A=this.keyCodes,k=m.response,f=this.chart,o=f.options.accessibility,R=f.legend.allItems.length;return f.highlightLegendItem(this.highlightedLegendItemIx+(C=C===A.left||C===A.up?-1:1))?(this.highlightedLegendItemIx+=C,k.success):(1<R&&o.keyboardNavigation.wrapAround&&m.init(C),k.success)},E.prototype.onKbdClick=function(m){var C=this.chart.legend.allItems[this.highlightedLegendItemIx];return C&&C.a11yProxyElement&&C.a11yProxyElement.click(),m.response.success},E.prototype.shouldHaveLegendNavigation=function(){if(!z(this.chart))return!1;var m=this.chart,C=(m.options.legend||{}).accessibility||{};return!!(m.legend.display&&C.keyboardNavigation&&C.keyboardNavigation.enabled)},E}(M),function(P){function E(A){var k=this.legend.allItems,f=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,o=k[A],R=o.legendItem||{};return!!o&&(_(f)&&k[f]&&F(!1,k[f]),f=(k=this.legend).currentPage,typeof(A=(k.allItems[A].legendItem||{}).pageIx)<"u"&&A+1!==f&&k.scroll(1+A-f),A=o.a11yProxyElement&&o.a11yProxyElement.buttonElement,(R=R.label)&&R.element&&A&&this.setFocusToElement(R,A),F(!0,o),!0)}function m(A){var k=A.item;this.chart.options.accessibility.enabled&&k&&k.a11yProxyElement&&k.a11yProxyElement.buttonElement.setAttribute("aria-pressed",A.visible?"true":"false")}var C=[];P.compose=function(A,k){-1===C.indexOf(A)&&(C.push(A),A.prototype.highlightLegendItem=E),-1===C.indexOf(k)&&(C.push(k),l(k,"afterColorizeItem",m))}}(i||(i={})),i}),e(S,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[S["Accessibility/Components/AnnotationsA11y.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Core/FormatUtilities.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Core/Utilities.js"]],function(i,s,c,T,M){function G(o){var R=o.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==R&&o.points&&o.points.length>=R)}function F(o,R){var U=o.series,X=U.chart;o=X.options.accessibility.point||{};var tt=U.options.accessibility&&U.options.accessibility.point||{};return U=U.tooltipOptions||{},X=X.options.lang,A(R)?P(R,tt.valueDecimals||o.valueDecimals||U.valueDecimals||-1,X.decimalPoint,X.accessibility.thousandsSep||X.thousandsSep):R}function a(o,R){return o.chart.langFormat("accessibility.series."+R+"Description",{name:x(o[R]),series:o})}function l(o){var R=o.series,U=1<R.chart.series.length||R.options.name,X=o.series,tt=X.chart,pt=X.options.accessibility;if(pt=pt&&pt.point&&pt.point.valueDescriptionFormat||tt.options.accessibility.point.valueDescriptionFormat,X=k(X.xAxis&&X.xAxis.options.accessibility&&X.xAxis.options.accessibility.enabled,!tt.angular)){var ot=o.series,W=ot.chart,K=ot.options.accessibility&&ot.options.accessibility.point||{},gt=W.options.accessibility.point||{};(ot=ot.xAxis&&ot.xAxis.dateTime)?(ot=ot.getXDateFormat(o.x||0,W.options.tooltip.dateTimeLabelFormats),K=K.dateFormatter&&K.dateFormatter(o)||gt.dateFormatter&&gt.dateFormatter(o)||K.dateFormat||gt.dateFormat||ot,W=W.time.dateFormat(K,o.x||0,void 0)):W=void 0,K=(o.series.xAxis||{}).categories&&f(o.category)&&(""+o.category).replace("<br/>"," "),gt=f(o.id)&&0>(""+o.id).indexOf("highcharts-"),ot="x, "+o.x,W=o.name||W||K||(gt?o.id:ot)}else W="";K=f(o.index)?o.index+1:"";var yt=(gt=o.series).chart.options.accessibility.point||{},_t=gt.chart.options.accessibility&&gt.chart.options.accessibility.point||{},rt=gt.tooltipOptions||{};return ot=_t.valuePrefix||yt.valuePrefix||rt.valuePrefix||"",yt=_t.valueSuffix||yt.valueSuffix||rt.valueSuffix||"",_t=F(o,o[typeof o.value<"u"?"value":"y"]),gt=o.isNull?gt.chart.langFormat("accessibility.series.nullPointValue",{point:o}):gt.pointArrayMap?function p(o,R,U){var X=R||"",tt=U||"";return o.series.pointArrayMap.reduce(function(pt,ot){pt+=pt.length?", ":"";var W=F(o,k(o[ot],o.options[ot]));return pt+(ot+": ")+X+W+tt},"")}(o,ot,yt):ot+_t+yt,tt=D(pt,{point:o,index:K,xDescription:W,value:gt,separator:X?", ":""},tt),pt=(pt=o.options&&o.options.accessibility&&o.options.accessibility.description)?" "+pt:"",R=U?" "+R.name+".":"",U=o.series.chart,W={point:o,annotations:X=w(o)},U=X.length?U.langFormat("accessibility.series.pointAnnotationsDescription",W):"",o.accessibility=o.accessibility||{},o.accessibility.valueDescription=tt,tt+pt+R+(U?" "+U:"")}function _(o){var R=o.chart,U=R.types||[],X=function N(o){var R=(o.options.accessibility||{}).description;return R&&o.chart.langFormat("accessibility.series.description",{description:R,series:o})||""}(o),tt=function(gt){return R[gt]&&1<R[gt].length&&o[gt]},pt=o.index+1,ot=a(o,"xAxis"),W=a(o,"yAxis"),K={seriesNumber:pt,series:o,chart:R};return K=R.langFormat("accessibility.series.summary."+o.type+(U=1<U.length?"Combination":""),K)||R.langFormat("accessibility.series.summary.default"+U,K),tt=(tt("yAxis")?" "+W+".":"")+(tt("xAxis")?" "+ot+".":""),D(R.options.accessibility.series.descriptionFormat||"",{seriesDescription:K,authorDescription:X?" "+X:"",axisDescription:tt,series:o,chart:R,seriesNumber:pt},void 0)}var w=i.getPointAnnotationTexts,x=s.getAxisDescription,I=s.getSeriesFirstPointElement,h=s.getSeriesA11yElement,n=s.unhideChartElementFromAT,D=c.format,P=c.numberFormat,E=T.reverseChildNodes,m=T.stripHTMLTagsFromString,C=M.find,A=M.isNumber,k=M.pick,f=M.defined;return{defaultPointDescriptionFormatter:l,defaultSeriesDescriptionFormatter:_,describeSeries:function(o){var R=o.chart,U=I(o),X=h(o),tt=R.is3d&&R.is3d();X&&(X.lastChild!==U||tt||E(X),function d(o){var R=function Y(o){var R=o.options.accessibility||{};return!G(o)&&!R.exposeAsGroupOnly}(o),U=function z(o){var R=o.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!o.points||!(o.points.length<R.pointNavigationEnabledThreshold||!1===R.pointNavigationEnabledThreshold))}(o),X=o.chart.options.accessibility.point.describeNull;(R||U)&&o.points.forEach(function(tt){var pt;if(!(pt=tt.graphic&&tt.graphic.element)){var ot=tt.series;if(pt=ot&&ot.chart,ot=ot&&ot.is("sunburst"),pt=pt&&pt.options.accessibility.point.describeNull,pt=tt.isNull&&!ot&&pt){ot=tt.series;var W=function j(o){var R=o.index;return o.series&&o.series.data&&f(R)&&C(o.series.data,function(U){return!!(U&&typeof U.index<"u"&&U.index>R&&U.graphic&&U.graphic.element)})||null}(tt);ot=(pt=W&&W.graphic)?pt.parentGroup:ot.graph||ot.group,W=W?{x:k(tt.plotX,W.plotX,0),y:k(tt.plotY,W.plotY,0)}:{x:k(tt.plotX,0),y:k(tt.plotY,0)},(W=tt.series.chart.renderer.rect(W.x,W.y,1,1)).attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ot&&ot.element?(tt.graphic=W,tt.hasMockGraphic=!0,W.add(ot),ot.element.insertBefore(W.element,pt?pt.element:null),pt=W.element):pt=void 0}}ot=tt.options&&tt.options.accessibility&&!1===tt.options.accessibility.enabled,pt&&(tt.isNull&&!X?pt.setAttribute("aria-hidden",!0):(pt.setAttribute("tabindex","-1"),o.chart.styledMode||(pt.style.outline="none"),R&&!ot?(ot=(W=tt.series).chart.options.accessibility.point||{},tt=m((W=W.options.accessibility&&W.options.accessibility.point||{}).descriptionFormatter&&W.descriptionFormatter(tt)||ot.descriptionFormatter&&ot.descriptionFormatter(tt)||l(tt)),pt.setAttribute("role","img"),pt.setAttribute("aria-label",tt)):pt.setAttribute("aria-hidden",!0)))})}(o),n(R,X),R=(tt=o.chart).options.chart,U=1<tt.series.length,tt=tt.options.accessibility.series.describeSingleSeries,R.options3d&&R.options3d.enabled&&U||!(U||tt||(o.options.accessibility||{}).exposeAsGroupOnly||G(o))?X.removeAttribute("aria-label"):(U=(R=o.chart.options.accessibility).landmarkVerbosity,X.setAttribute("role",(o.options.accessibility||{}).exposeAsGroupOnly?"img":"all"===U?"region":"group"),X.setAttribute("tabindex","-1"),o.chart.styledMode||(X.style.outline="none"),X.setAttribute("aria-label",m(R.series.descriptionFormatter&&R.series.descriptionFormatter(o)||_(o)))))}}}),e(S,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[S["Core/Globals.js"],S["Core/Utilities.js"],S["Accessibility/Utils/Announcer.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/EventProvider.js"],S["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(i,s,c,T,M,j){var z=s.addEvent,F=s.defined,N=T.getChartTitle,a=j.defaultPointDescriptionFormatter,p=j.defaultSeriesDescriptionFormatter;return function(l){function d(w){var x=this.chart,I=this.newDataAnnouncer;I&&I.chart===x&&x.options.accessibility.announceNewData.enabled&&(I.dirty.newPoint=F(I.dirty.newPoint)?void 0:w.point)}function _(){var w=this.chart,x=this.newDataAnnouncer;x&&x.chart===w&&w.options.accessibility.announceNewData.enabled&&(x.dirty.hasDirty=!0,x.dirty.allSeries[this.name+this.index]=this)}l.composedClasses=[],l.compose=function(w){-1===l.composedClasses.indexOf(w)&&(l.composedClasses.push(w),z(w,"addPoint",d),z(w,"updatedData",_))}}((s=function(){function l(d){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=d}return l.prototype.init=function(){var d=this.chart,_=d.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new M,this.announcer=new c(d,_),this.addEventListeners()},l.prototype.destroy=function(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()},l.prototype.addEventListeners=function(){var d=this,_=this.chart,w=this.eventProvider;w.addEvent(_,"afterApplyDrilldown",function(){d.lastAnnouncementTime=0}),w.addEvent(_,"afterAddSeries",function(x){d.onSeriesAdded(x.series)}),w.addEvent(_,"redraw",function(){d.announceDirtyData()})},l.prototype.onSeriesAdded=function(d){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[d.name+d.index]=d,this.dirty.newSeries=F(this.dirty.newSeries)?void 0:d)},l.prototype.announceDirtyData=function(){var d=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){var _=this.dirty.newPoint;_&&(_=function G(l){var d=l.series.data.filter(function(_){return l.x===_.x&&l.y===_.y});return 1===d.length?d[0]:l}(_)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(function(w){return d.dirty.allSeries[w]}),this.dirty.newSeries,_),this.dirty={allSeries:{}}}},l.prototype.queueAnnouncement=function(d,_,w){var x=this,I=this.chart.options.accessibility.announceNewData;if(I.enabled){var h=+new Date;I=Math.max(0,I.minAnnounceInterval-(h-this.lastAnnouncementTime)),d=function Y(l,d){var _=(l||[]).concat(d||[]).reduce(function(w,x){return w[x.name+x.index]=x,w},{});return Object.keys(_).map(function(w){return _[w]})}(this.queuedAnnouncement&&this.queuedAnnouncement.series,d),(_=this.buildAnnouncementMessage(d,_,w))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:h,message:_,series:d},this.queuedAnnouncementTimer=setTimeout(function(){x&&x.announcer&&(x.lastAnnouncementTime=+new Date,x.announcer.announce(x.queuedAnnouncement.message),delete x.queuedAnnouncement,delete x.queuedAnnouncementTimer)},I))}},l.prototype.buildAnnouncementMessage=function(d,_,w){var x=this.chart,I=x.options.accessibility.announceNewData;return I.announcementFormatter&&!1!==(d=I.announcementFormatter(d,_,w))?d.length?d:null:(d=i.charts&&1<i.charts.length?"Multiple":"Single",d=_?"newSeriesAnnounce"+d:w?"newPointAnnounce"+d:"newDataAnnounce",I=N(x),x.langFormat("accessibility.announceNewData."+d,{chartTitle:I,seriesDesc:_?p(_):null,pointDesc:w?a(w):null,point:w,series:_}))},l}())||(s={})),s}),e(S,"Accessibility/ProxyElement.js",[S["Core/Globals.js"],S["Core/Utilities.js"],S["Accessibility/Utils/EventProvider.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,T,M){var j=i.doc,G=s.attr,Y=s.css,z=s.merge,F=T.fireEventOnWrappedOrUnwrappedElement,N=M.cloneMouseEvent,a=M.cloneTouchEvent,p=M.getFakeMouseEvent,l=M.removeElement;return function(){function d(_,w,x,I){this.chart=_,this.target=w,this.groupType=x,x="ul"===x,this.eventProvider=new c;var h=x?j.createElement("li"):null,n=this.buttonElement=j.createElement("button");_.styledMode||this.hideButtonVisually(n),h?(x&&!_.styledMode&&(h.style.listStyle="none"),h.appendChild(n),this.element=h):this.element=n,this.updateTarget(w,I)}return d.prototype.click=function(){var _=this.getTargetPosition();_.x+=_.width/2,_.y+=_.height/2,_=p("click",_),F(this.target.click,_)},d.prototype.updateTarget=function(_,w){this.target=_,this.updateCSSClassName();var x=w||{};Object.keys(x).forEach(function(I){null===x[I]&&delete x[I]}),G(this.buttonElement,z({"aria-label":this.getTargetAttr(_.click,"aria-label")},x)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,_.click),this.refreshPosition()},d.prototype.refreshPosition=function(){var _=this.getTargetPosition();Y(this.buttonElement,{width:(_.width||1)+"px",height:(_.height||1)+"px",left:(Math.round(_.x)||0)+"px",top:(Math.round(_.y)||0)+"px"})},d.prototype.remove=function(){this.eventProvider.removeAddedEvents(),l(this.element)},d.prototype.updateCSSClassName=function(){var _=this.chart.legend;_=-1<((_=_.group&&_.group.div)&&_.className||"").indexOf("highcharts-no-tooltip");var w=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=_||w?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"},d.prototype.addProxyEventsToButton=function(_,w){var x=this;"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(function(I){var h=0===I.indexOf("touch");x.eventProvider.addEvent(_,I,function(n){var D=h?a(n):N(n);w&&F(w,D),n.stopPropagation(),h||n.preventDefault()},{passive:!1})})},d.prototype.hideButtonVisually=function(_){Y(_,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})},d.prototype.getTargetPosition=function(){var _=this.target.click;if(_=_.element?_.element:_,_=this.target.visual||_,this.chart.renderTo&&_&&_.getBoundingClientRect){_=_.getBoundingClientRect();var w=this.chart.pointer.getChartPosition();return{x:(_.left-w.left)/w.scaleX,y:(_.top-w.top)/w.scaleY,width:_.right/w.scaleX-_.left/w.scaleX,height:_.bottom/w.scaleY-_.top/w.scaleY}}return{x:0,y:0,width:1,height:1}},d.prototype.getTargetAttr=function(_,w){return _.element?_.element.getAttribute(w):_.getAttribute(w)},d}()}),e(S,"Accessibility/ProxyProvider.js",[S["Core/Globals.js"],S["Core/Utilities.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/DOMElementProvider.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Accessibility/ProxyElement.js"]],function(i,s,c,T,M,j){var G=i.doc,Y=s.attr,z=s.css,F=c.unhideChartElementFromAT,N=M.removeElement,a=M.removeChildNodes;return function(){function p(l){this.chart=l,this.domElementProvider=new T,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}return p.prototype.addProxyElement=function(l,d,_){var w=this.groups[l];if(!w)throw Error("ProxyProvider.addProxyElement: Invalid group key "+l);return l=new j(this.chart,d,w.type,_),w.proxyContainerElement.appendChild(l.element),w.proxyElements.push(l),l},p.prototype.addGroup=function(l,d,_){var w=this.groups[l];if(w)return w.groupElement;if(w=this.domElementProvider.createElement(d),_&&_.role&&"div"!==d){var x=this.domElementProvider.createElement("div");x.appendChild(w)}else x=w;return x.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+l.replace(/\W/g,"-"),this.groups[l]={proxyContainerElement:w,groupElement:x,type:d,proxyElements:[]},Y(x,_||{}),"ul"===d&&w.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(x),this.updateGroupOrder(this.groupOrder),x},p.prototype.updateGroupAttrs=function(l,d){var _=this.groups[l];if(!_)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+l);Y(_.groupElement,d)},p.prototype.updateGroupOrder=function(l){var d=this;if(this.groupOrder=l.slice(),!this.isDOMOrderGroupOrder()){var _=l.indexOf("series"),w=-1<_?l.slice(0,_):l,x=-1<_?l.slice(_+1):[];l=G.activeElement,["before","after"].forEach(function(I){var h=d["before"===I?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];I="before"===I?w:x,a(h),I.forEach(function(n){(n=d.groups[n])&&h.appendChild(n.groupElement)})}),(this.beforeChartProxyPosContainer.contains(l)||this.afterChartProxyPosContainer.contains(l))&&l&&l.focus&&l.focus()}},p.prototype.clearGroup=function(l){var d=this.groups[l];if(!d)throw Error("ProxyProvider.clearGroup: Invalid group key "+l);a(d.proxyContainerElement)},p.prototype.removeGroup=function(l){var d=this.groups[l];d&&(N(d.groupElement),delete this.groups[l])},p.prototype.update=function(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()},p.prototype.updateProxyElementPositions=function(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))},p.prototype.updateGroupProxyElementPositions=function(l){(l=this.groups[l])&&l.proxyElements.forEach(function(d){return d.refreshPosition()})},p.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},p.prototype.createProxyPosContainer=function(l){var d=this.domElementProvider.createElement("div");return d.setAttribute("aria-hidden","false"),d.className="highcharts-a11y-proxy-container"+(l?"-"+l:""),z(d,{top:"0",left:"0"}),this.chart.styledMode||(d.style.whiteSpace="nowrap",d.style.position="absolute"),d},p.prototype.getCurrentGroupOrderInDOM=function(){var l=this,d=function(w){var x=[];w=w.children;for(var I=0;I<w.length;++I){t:{for(var h=w[I],n=Object.keys(l.groups),D=n.length;D--;){var P=n[D],E=l.groups[P];if(E&&h===E.groupElement){h=P;break t}}h=void 0}h&&x.push(h)}return x},_=d(this.beforeChartProxyPosContainer);return d=d(this.afterChartProxyPosContainer),_.push("series"),_.concat(d)},p.prototype.isDOMOrderGroupOrder=function(){var l=this,d=this.getCurrentGroupOrderInDOM(),_=this.groupOrder.filter(function(x){return"series"===x||!!l.groups[x]}),w=d.length;if(w!==_.length)return!1;for(;w--;)if(d[w]!==_[w])return!1;return!0},p.prototype.updatePosContainerPositions=function(){var l=this.chart;if(!l.renderer.forExport){var d=l.renderer.box;l.container.insertBefore(this.afterChartProxyPosContainer,d.nextSibling),l.container.insertBefore(this.beforeChartProxyPosContainer,d),F(this.chart,this.afterChartProxyPosContainer),F(this.chart,this.beforeChartProxyPosContainer)}},p}()}),e(S,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}}),e(S,"Stock/RangeSelector/RangeSelectorComposition.js",[S["Core/Defaults.js"],S["Stock/RangeSelector/RangeSelectorDefaults.js"],S["Core/Utilities.js"]],function(i,s,c){function T(){var E=this.range,m=E.type,C=this.max,A=this.chart.time,k=function(U,X){var tt="year"===m?"FullYear":"Month",pt=new A.Date(U),ot=A.get(tt,pt);return A.set(tt,pt,ot+X),ot===A.get(tt,pt)&&A.set("Date",pt,0),pt.getTime()-U};if(x(E))var f=C-E,o=E;else E&&(f=C+k(C,-(E.count||1)),this.chart&&(this.chart.fixedRange=C-f));var R=h(this.dataMin,Number.MIN_VALUE);return x(f)||(f=R),f<=R&&(f=R,typeof o>"u"&&(o=k(f,E.count)),this.newMax=Math.min(f+o,h(this.dataMax,Number.MAX_VALUE))),x(C)?!x(E)&&E&&E._offsetMin&&(f+=E._offsetMin):f=void 0,f}function M(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new P(this))}function j(){var E=this.axes,m=this.rangeSelector;m&&(x(m.deferredYTDClick)&&(m.clickButton(m.deferredYTDClick),delete m.deferredYTDClick),E.forEach(function(C){C.updateNames(),C.setScale()}),this.getAxisMargins(),m.render(),E=m.options.verticalAlign,m.options.floating||("bottom"===E?this.extraBottomMargin=!0:"middle"!==E&&(this.extraTopMargin=!0)))}function G(E){var m,C,A,k,f=E.rangeSelector,o=function(){f&&(m=E.xAxis[0].getExtremes(),C=E.legend,k=f&&f.options.verticalAlign,x(m.min)&&f.render(m.min,m.max),C.display&&"top"===k&&k===C.options.verticalAlign&&((A=I(E.spacingBox)).y="vertical"===C.options.layout?E.plotTop:A.y+f.getHeight(),C.group.placed=!1,C.align(A)))};f&&(w(n,function(R){return R[0]===E})||n.push([E,[l(E.xAxis[0],"afterSetExtremes",function(R){f&&f.render(R.min,R.max)}),l(E,"redraw",o)]]),o())}function Y(){for(var E=0,m=n.length;E<m;++E){var C=n[E];if(C[0]===this){C[1].forEach(function(A){return A()}),n.splice(E,1);break}}}function z(){var E=this.rangeSelector;E&&(E=E.getHeight(),this.extraTopMargin&&(this.plotTop+=E),this.extraBottomMargin&&(this.marginBottom+=E))}function F(){var E=this.rangeSelector;E&&!E.options.floating&&(E.render(),"bottom"===(E=E.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==E&&(this.extraTopMargin=!0))}function N(E){var m=E.options.rangeSelector;E=this.extraBottomMargin;var C=this.extraTopMargin,A=this.rangeSelector;m&&m.enabled&&!d(A)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=A=new P(this)),this.extraTopMargin=this.extraBottomMargin=!1,A&&(G(this),m=m&&m.verticalAlign||A.options&&A.options.verticalAlign,A.options.floating||("bottom"===m?this.extraBottomMargin=!0:"middle"!==m&&(this.extraTopMargin=!0)),this.extraBottomMargin!==E||this.extraTopMargin!==C)&&(this.isDirtyBox=!0)}var P,a=i.defaultOptions,p=i.setOptions,l=c.addEvent,d=c.defined,_=c.extend,w=c.find,x=c.isNumber,I=c.merge,h=c.pick,n=[],D=[];return{compose:function(E,m,C){P=C,-1===D.indexOf(E)&&(D.push(E),E.prototype.minFromRange=T),-1===D.indexOf(m)&&(D.push(m),l(m,"afterGetContainer",M),l(m,"beforeRender",j),l(m,"destroy",Y),l(m,"getMargins",z),l(m,"render",F),l(m,"update",N),m.prototype.callbacks.push(G)),-1===D.indexOf(p)&&(_(a,{rangeSelector:s.rangeSelector}),_(a.lang,s.lang))}}}),e(S,"Stock/RangeSelector/RangeSelector.js",[S["Core/Axis/Axis.js"],S["Core/Defaults.js"],S["Core/Globals.js"],S["Stock/RangeSelector/RangeSelectorComposition.js"],S["Core/Renderer/SVG/SVGElement.js"],S["Core/Utilities.js"]],function(i,s,c,T,M,j){var Y=s.defaultOptions,z=j.addEvent,F=j.createElement,N=j.css,a=j.defined,p=j.destroyObjectProperties,l=j.discardElement,d=j.extend,_=j.fireEvent,w=j.isNumber,x=j.merge,I=j.objectEach,h=j.pad,n=j.pick,D=j.pInt,P=j.splat;return s=function(){function E(m){this.buttons=void 0,this.buttonOptions=E.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=m,this.init(m)}return E.compose=function(m,C){T.compose(m,C,E)},E.prototype.clickButton=function(m,C){var A=this.chart,k=this.buttonOptions[m],f=A.xAxis[0],o=A.scroller&&A.scroller.getUnionExtremes()||f||{},R=k.type,U=k.dataGrouping,X=o.dataMin,tt=o.dataMax,pt=f&&Math.round(Math.min(f.max,n(tt,f.max)));o=k._range;var ot,W=!0;if(null!==X&&null!==tt){if(A.fixedRange=o,this.setSelected(m),U&&(this.forcedDataGrouping=!0,i.prototype.setDataGrouping.call(f||{chart:this.chart},U,!1),this.frozenStates=k.preserveDataGrouping),"month"===R||"year"===R)if(f){var K=f.minFromRange.call(R={range:k,max:pt,chart:A,dataMin:X,dataMax:tt});w(R.newMax)&&(pt=R.newMax),W=!1}else o=k;else if(o)K=Math.max(pt-o,X),pt=Math.min(K+o,tt),W=!1;else if("ytd"===R){if(!f)return void(this.deferredYTDClick=m);(typeof tt>"u"||typeof X>"u")&&(X=Number.MAX_VALUE,tt=Number.MIN_VALUE,A.series.forEach(function(rt){(rt=rt.xData)&&(X=Math.min(rt[0],X),tt=Math.max(rt[rt.length-1],tt))}),C=!1),K=ot=(R=this.getYTDExtremes(tt,X,A.time.useUTC)).min,pt=R.max}else"all"===R&&f&&(A.navigator&&A.navigator.baseSeries[0]&&(A.navigator.baseSeries[0].xAxis.options.range=void 0),K=X,pt=tt);if(W&&k._offsetMin&&a(K)&&(K+=k._offsetMin),k._offsetMax&&a(pt)&&(pt+=k._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=m+1),f)f.setExtremes(K,pt,n(C,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:k});else{var gt=P(A.options.xAxis)[0],yt=gt.range;gt.range=o;var _t=gt.min;gt.min=ot,z(A,"load",function(){gt.range=yt,gt.min=_t})}_(this,"afterBtnClick")}},E.prototype.setSelected=function(m){this.selected=this.options.selected=m},E.prototype.init=function(m){var C=this,A=m.options.rangeSelector,k=A.buttons||C.defaultButtons.slice(),f=A.selected,o=function(){var R=C.minInput,U=C.maxInput;R&&R.blur&&_(R,"blur"),U&&U.blur&&_(U,"blur")};C.chart=m,C.options=A,C.buttons=[],C.buttonOptions=k,this.eventsToUnbind=[],this.eventsToUnbind.push(z(m.container,"mousedown",o)),this.eventsToUnbind.push(z(m,"resize",o)),k.forEach(C.computeButtonRange),typeof f<"u"&&k[f]&&this.clickButton(f,!1),this.eventsToUnbind.push(z(m,"load",function(){m.xAxis&&m.xAxis[0]&&z(m.xAxis[0],"setExtremes",function(R){this.max-this.min!==m.fixedRange&&"rangeSelectorButton"!==R.trigger&&"updatedData"!==R.trigger&&C.forcedDataGrouping&&!C.frozenStates&&this.setDataGrouping(!1,!1)})}))},E.prototype.updateButtonStates=function(){var m=this,C=this.chart,A=this.dropdown,k=C.xAxis[0],f=Math.round(k.max-k.min),o=!k.hasVisibleSeries,R=C.scroller&&C.scroller.getUnionExtremes()||k,U=R.dataMin,X=R.dataMax,tt=(C=m.getYTDExtremes(X,U,C.time.useUTC)).min,pt=C.max,ot=m.selected,W=m.options.allButtonsEnabled,K=m.buttons,gt=w(ot);m.buttonOptions.forEach(function(yt,_t){var rt=yt._range,ut=yt.type,at=yt.count||1,Ct=K[_t],vt=yt._offsetMax-yt._offsetMin,ct=_t===ot,Tt=rt>X-U,kt=rt<k.minRange;yt=0;var Ft=!1,Ot=!1;rt=rt===f,("month"===ut||"year"===ut)&&f+36e5>=864e5*{month:28,year:365}[ut]*at-vt&&f-36e5<=864e5*{month:31,year:366}[ut]*at+vt?rt=!0:"ytd"===ut?(rt=pt-tt+vt===f,Ft=!ct):"all"===ut&&(rt=k.max-k.min>=X-U,Ot=!ct&&gt&&rt),at=ct&&rt||rt&&!gt&&!Ft||ct&&m.frozenStates,(ut=!W&&(Tt||kt||Ot||o))?yt=3:at&&(gt=!0,yt=2),Ct.state!==yt&&(Ct.setState(yt),A&&(A.options[_t+1].disabled=ut,2===yt&&(A.selectedIndex=_t+1)),0===yt&&ot===_t&&m.setSelected())})},E.prototype.computeButtonRange=function(m){var C=m.type,A=m.count||1,k={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};k[C]?m._range=k[C]*A:("month"===C||"year"===C)&&(m._range=864e5*{month:30,year:365}[C]*A),m._offsetMin=n(m.offsetMin,0),m._offsetMax=n(m.offsetMax,0),m._range+=m._offsetMax-m._offsetMin},E.prototype.getInputValue=function(m){var A=this.chart.time;return(m="min"===m?this.minInput:this.maxInput)?("text"===m.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(m.value,A.useUTC,A):0},E.prototype.setInputValue=function(m,C){var A=this.options,k=this.chart.time,f="min"===m?this.minInput:this.maxInput;if(m="min"===m?this.minDateBox:this.maxDateBox,f){var o=f.getAttribute("data-hc-time");o=a(o)?Number(o):void 0,a(C)&&(a(o)&&f.setAttribute("data-hc-time-previous",o),f.setAttribute("data-hc-time",C),o=C),f.value=k.dateFormat(this.inputTypeFormats[f.type]||A.inputEditDateFormat,o),m&&m.attr({text:k.dateFormat(A.inputDateFormat,o)})}},E.prototype.setInputExtremes=function(m,C,A){if(m="min"===m?this.minInput:this.maxInput){var k=this.inputTypeFormats[m.type],f=this.chart.time;k&&(C=f.dateFormat(k,C),m.min!==C&&(m.min=C),A=f.dateFormat(k,A),m.max!==A&&(m.max=A))}},E.prototype.showInput=function(m){var C="min"===m?this.minDateBox:this.maxDateBox;if((m="min"===m?this.minInput:this.maxInput)&&C&&this.inputGroup){var A="text"===m.type,k=this.inputGroup,f=k.translateX;k=k.translateY;var o=this.options.inputBoxWidth;N(m,{width:A?C.width+(o?-2:20)+"px":"auto",height:A?C.height-2+"px":"auto",border:"2px solid silver"}),N(m,A&&o?{left:f+C.x+"px",top:k+"px"}:{left:Math.min(Math.round(C.x+f-(m.offsetWidth-C.width)/2),this.chart.chartWidth-m.offsetWidth)+"px",top:k-(m.offsetHeight-C.height)/2+"px"})}},E.prototype.hideInput=function(m){(m="min"===m?this.minInput:this.maxInput)&&N(m,{top:"-9999em",border:0,width:"1px",height:"1px"})},E.prototype.defaultInputDateParser=function(m,C,A){var f,k=m.split("/").join("-").split(" ").join("T");return-1===k.indexOf("T")&&(k+="T00:00"),C?k+="Z":((f=c.isSafari)&&(f=!(6<(f=k).length&&(f.lastIndexOf("-")===f.length-6||f.lastIndexOf("+")===f.length-6))),f&&(k+=0>=(f=new Date(k).getTimezoneOffset()/60)?"+".concat(h(-f),":00"):"-".concat(h(f),":00"))),k=Date.parse(k),w(k)||(m=m.split("-"),k=Date.UTC(D(m[0]),D(m[1])-1,D(m[2]))),A&&C&&w(k)&&(k+=A.getTimezoneOffset(k)),k},E.prototype.drawInput=function(m){function C(){var K=o.maxInput,gt=o.minInput,yt=A.xAxis[0],_t=A.scroller&&A.scroller.xAxis?A.scroller.xAxis:yt,rt=_t.dataMin;_t=_t.dataMax;var ut=o.getInputValue(m);ut!==Number(ot.getAttribute("data-hc-time-previous"))&&w(ut)&&(ot.setAttribute("data-hc-time-previous",ut),tt&&K&&w(rt)?ut>Number(K.getAttribute("data-hc-time"))?ut=void 0:ut<rt&&(ut=rt):gt&&w(_t)&&(ut<Number(gt.getAttribute("data-hc-time"))?ut=void 0:ut>_t&&(ut=_t)),typeof ut<"u"&&yt.setExtremes(tt?ut:yt.min,tt?yt.max:ut,void 0,void 0,{trigger:"rangeSelectorInput"}))}var A=this.chart,k=this.div,f=this.inputGroup,o=this,R=A.renderer.style||{},U=A.renderer,X=A.options.rangeSelector,tt="min"===m,pt=Y.lang[tt?"rangeSelectorFrom":"rangeSelectorTo"]||"";pt=U.label(pt,0).addClass("highcharts-range-label").attr({padding:pt?2:0,height:pt?X.inputBoxHeight:0}).add(f),U=U.label("",0).addClass("highcharts-range-input").attr({padding:2,width:X.inputBoxWidth,height:X.inputBoxHeight,"text-align":"center"}).on("click",function(){o.showInput(m),o[m+"Input"].focus()}),A.styledMode||U.attr({stroke:X.inputBoxBorderColor,"stroke-width":1}),U.add(f);var ot=F("input",{name:m,className:"highcharts-range-selector"},void 0,k);ot.setAttribute("type",function G(E){if(-1!==E.indexOf("%L"))return"text";var m="aAdewbBmoyY".split("").some(function(A){return-1!==E.indexOf("%"+A)}),C="HkIlMS".split("").some(function(A){return-1!==E.indexOf("%"+A)});return m&&C?"datetime-local":m?"date":C?"time":"text"}(X.inputDateFormat||"%b %e, %Y")),A.styledMode||(pt.css(x(R,X.labelStyle)),U.css(x({color:"#333333"},R,X.inputStyle)),N(ot,d({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:R.fontSize,fontFamily:R.fontFamily,top:"-9999em"},X.inputStyle))),ot.onfocus=function(){o.showInput(m)},ot.onblur=function(){ot===c.doc.activeElement&&C(),o.hideInput(m),o.setInputValue(m),ot.blur()};var W=!1;return ot.onchange=function(){W||(C(),o.hideInput(m),ot.blur())},ot.onkeypress=function(K){13===K.keyCode&&C()},ot.onkeydown=function(K){W=!0,38!==K.keyCode&&40!==K.keyCode||C()},ot.onkeyup=function(){W=!1},{dateBox:U,input:ot,label:pt}},E.prototype.getPosition=function(){var m=this.chart,C=m.options.rangeSelector;return{buttonTop:(m="top"===C.verticalAlign?m.plotTop-m.axisOffset[0]:0)+C.buttonPosition.y,inputTop:m+C.inputPosition.y-10}},E.prototype.getYTDExtremes=function(m,C,A){var k=this.chart.time,f=new k.Date(m),o=k.get("FullYear",f);return A=A?k.Date.UTC(o,0,1):+new k.Date(o,0,1),C=Math.max(C,A),f=f.getTime(),{max:Math.min(m||f,f),min:C}},E.prototype.render=function(m,C){var A=this.chart,k=A.renderer,f=A.container,o=A.options,R=o.rangeSelector,U=n(o.chart.style&&o.chart.style.zIndex,0)+1;if(o=R.inputEnabled,!1!==R.enabled){if(this.rendered||(this.group=k.g("range-selector-group").attr({zIndex:7}).add(),this.div=F("div",void 0,{position:"relative",height:0,zIndex:U}),this.buttonOptions.length&&this.renderButtons(),f.parentNode&&f.parentNode.insertBefore(this.div,f),o&&(this.inputGroup=k.g("input-group").add(this.group),k=this.drawInput("min"),this.minDateBox=k.dateBox,this.minLabel=k.label,this.minInput=k.input,k=this.drawInput("max"),this.maxDateBox=k.dateBox,this.maxLabel=k.label,this.maxInput=k.input)),o&&(this.setInputValue("min",m),this.setInputValue("max",C),m=A.scroller&&A.scroller.getUnionExtremes()||A.xAxis[0]||{},a(m.dataMin)&&a(m.dataMax)&&(A=A.xAxis[0].minRange||0,this.setInputExtremes("min",m.dataMin,Math.min(m.dataMax,this.getInputValue("max"))-A),this.setInputExtremes("max",Math.max(m.dataMin,this.getInputValue("min"))+A,m.dataMax)),this.inputGroup)){var X=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(tt){if(tt){var pt=tt.getBBox().width;pt&&(tt.attr({x:X}),X+=pt+R.inputSpacing)}})}this.alignElements(),this.rendered=!0}},E.prototype.renderButtons=function(){var m=this,C=this.buttons,A=this.options,k=Y.lang,f=this.chart.renderer,o=x(A.buttonTheme),R=o&&o.states,U=o.width||28;delete o.width,delete o.states,this.buttonGroup=f.g("range-selector-buttons").add(this.group);var X=this.dropdown=F("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);z(X,"touchstart",function(){X.style.fontSize="16px"}),[[c.isMS?"mouseover":"mouseenter"],[c.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(tt){var pt=tt[0],ot=tt[1];z(X,pt,function(){var W=C[m.currentButtonIndex()];W&&_(W.element,ot||pt)})}),this.zoomText=f.label(k&&k.rangeSelectorZoom||"",0).attr({padding:A.buttonTheme.padding,height:A.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(A.labelStyle),o["stroke-width"]=n(o["stroke-width"],0)),F("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,X),this.buttonOptions.forEach(function(tt,pt){F("option",{textContent:tt.title||tt.text},void 0,X),C[pt]=f.button(tt.text,0,0,function(ot){var K,W=tt.events&&tt.events.click;W&&(K=W.call(tt,ot)),!1!==K&&m.clickButton(pt),m.isActive=!0},o,R&&R.hover,R&&R.select,R&&R.disabled).attr({"text-align":"center",width:U}).add(m.buttonGroup),tt.title&&C[pt].attr("title",tt.title)})},E.prototype.alignElements=function(){var m=this,C=this.buttonGroup,A=this.buttons,k=this.chart,f=this.group,o=this.inputGroup,R=this.options,U=this.zoomText,X=k.options,tt=X.exporting&&!1!==X.exporting.enabled&&X.navigation&&X.navigation.buttonOptions;X=R.buttonPosition;var pt=R.inputPosition,ot=R.verticalAlign,W=function(_t,rt){return tt&&m.titleCollision(k)&&"top"===ot&&"right"===rt.align&&rt.y-_t.getBBox().height-12<(tt.y||0)+(tt.height||0)+k.spacing[0]?-40:0},K=k.plotLeft;if(f&&X&&pt){var gt=X.x-k.spacing[3];if(C){if(this.positionButtons(),!this.initialButtonGroupWidth){var yt=0;U&&(yt+=U.getBBox().width+5),A.forEach(function(_t,rt){yt+=_t.width,rt!==A.length-1&&(yt+=R.buttonSpacing)}),this.initialButtonGroupWidth=yt}K-=k.spacing[3],this.updateButtonStates(),U=W(C,X),this.alignButtonGroup(U),f.placed=C.placed=k.hasLoaded}C=0,o&&(C=W(o,pt),"left"===pt.align?gt=K:"right"===pt.align&&(gt=-Math.max(k.axisOffset[1],-C)),o.align({y:pt.y,width:o.getBBox().width,align:pt.align,x:pt.x+gt-2},!0,k.spacingBox),o.placed=k.hasLoaded),this.handleCollision(C),f.align({verticalAlign:ot},!0,k.spacingBox),o=f.alignAttr.translateY,C=f.getBBox().height+20,W=0,"bottom"===ot&&(W=o-(C=C+(W=(W=k.legend&&k.legend.options)&&"bottom"===W.verticalAlign&&W.enabled&&!W.floating?k.legend.legendHeight+n(W.margin,10):0)-20)-(R.floating?0:R.y)-(k.titleOffset?k.titleOffset[2]:0)-10),"top"===ot?(R.floating&&(W=0),k.titleOffset&&k.titleOffset[0]&&(W=k.titleOffset[0]),W+=k.margin[0]-k.spacing[0]||0):"middle"===ot&&(pt.y===X.y?W=o:(pt.y||X.y)&&(W=0>pt.y||0>X.y?W-Math.min(pt.y,X.y):o-C)),f.translate(R.x,R.y+Math.floor(W)),X=this.minInput,pt=this.maxInput,o=this.dropdown,R.inputEnabled&&X&&pt&&(X.style.marginTop=f.translateY+"px",pt.style.marginTop=f.translateY+"px"),o&&(o.style.marginTop=f.translateY+"px")}},E.prototype.alignButtonGroup=function(m,C){var A=this.chart,k=this.buttonGroup,f=this.options.buttonPosition,o=A.plotLeft-A.spacing[3],R=f.x-A.spacing[3];"right"===f.align?R+=m-o:"center"===f.align&&(R-=o/2),k&&k.align({y:f.y,width:n(C,this.initialButtonGroupWidth),align:f.align,x:R},!0,A.spacingBox)},E.prototype.positionButtons=function(){var m=this.buttons,C=this.chart,A=this.options,k=this.zoomText,f=C.hasLoaded?"animate":"attr",o=A.buttonPosition,R=C=C.plotLeft;for(k&&"hidden"!==k.visibility&&(k[f]({x:n(C+o.x,C)}),R+=o.x+k.getBBox().width+5),k=0,o=this.buttonOptions.length;k<o;++k)"hidden"!==m[k].visibility?(m[k][f]({x:R}),R+=m[k].width+A.buttonSpacing):m[k][f]({x:C})},E.prototype.handleCollision=function(m){var C=this,A=this.chart,k=this.buttonGroup,f=this.inputGroup,o=this.options,R=o.buttonPosition,U=o.dropdown,X=o.inputPosition;o=function(){var ot=0;return C.buttons.forEach(function(W){(W=W.getBBox()).width>ot&&(ot=W.width)}),ot};var tt=function(ot){if(f&&k){var W=f.alignAttr.translateX+f.alignOptions.x-m+f.getBBox().x+2,K=f.alignOptions.width,gt=k.alignAttr.translateX+k.getBBox().x;return gt+ot>W&&W+K>gt&&R.y<X.y+f.getBBox().height}return!1},pt=function(){f&&k&&f.attr({translateX:f.alignAttr.translateX+(A.axisOffset[1]>=-m?0:-m),translateY:f.alignAttr.translateY+k.getBBox().height+10})};if(k){if("always"===U)return this.collapseButtons(m),void(tt(o())&&pt());"never"===U&&this.expandButtons()}f&&k?X.align===R.align||tt(this.initialButtonGroupWidth+20)?"responsive"===U?(this.collapseButtons(m),tt(o())&&pt()):pt():"responsive"===U&&this.expandButtons():k&&"responsive"===U&&(this.initialButtonGroupWidth>A.plotWidth?this.collapseButtons(m):this.expandButtons())},E.prototype.collapseButtons=function(m){var C=this.buttons,A=this.buttonOptions,k=this.chart,f=this.dropdown,o=this.options,R=this.zoomText,U=k.userOptions.rangeSelector&&k.userOptions.rangeSelector.buttonTheme||{},X=function(pt){return{text:pt?pt+" \u25be":"\u25be",width:"auto",paddingLeft:n(o.buttonTheme.paddingLeft,U.padding,8),paddingRight:n(o.buttonTheme.paddingRight,U.padding,8)}};R&&R.hide();var tt=!1;A.forEach(function(pt,ot){2!==(ot=C[ot]).state?ot.hide():(ot.show(),ot.attr(X(pt.text)),tt=!0)}),tt||(f&&(f.selectedIndex=0),C[0].show(),C[0].attr(X(this.zoomText&&this.zoomText.textStr))),A=o.buttonPosition.align,this.positionButtons(),"right"!==A&&"center"!==A||this.alignButtonGroup(m,C[this.currentButtonIndex()].getBBox().width),this.showDropdown()},E.prototype.expandButtons=function(){var m=this.buttons,C=this.buttonOptions,A=this.options,k=this.zoomText;this.hideDropdown(),k&&k.show(),C.forEach(function(f,o){(o=m[o]).show(),o.attr({text:f.text,width:A.buttonTheme.width||28,paddingLeft:n(A.buttonTheme.paddingLeft,"unset"),paddingRight:n(A.buttonTheme.paddingRight,"unset")}),2>o.state&&o.setState(0)}),this.positionButtons()},E.prototype.currentButtonIndex=function(){var m=this.dropdown;return m&&0<m.selectedIndex?m.selectedIndex-1:0},E.prototype.showDropdown=function(){var m=this.buttonGroup,C=this.buttons,A=this.chart,k=this.dropdown;if(m&&k){var f=m.translateX;m=m.translateY,C=C[this.currentButtonIndex()].getBBox(),N(k,{left:A.plotLeft+f+"px",top:m+.5+"px",width:C.width+"px",height:C.height+"px"}),this.hasVisibleDropdown=!0}},E.prototype.hideDropdown=function(){var m=this.dropdown;m&&(N(m,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},E.prototype.getHeight=function(){var m=this.options,C=this.group,A=m.y,k=m.buttonPosition.y,f=m.inputPosition.y;return m.height?m.height:(this.alignElements(),m=C?C.getBBox(!0).height+13+A:0,C=Math.min(f,k),(0>f&&0>k||0<f&&0<k)&&(m+=Math.abs(C)),m)},E.prototype.titleCollision=function(m){return!(m.options.title.text||m.options.subtitle.text)},E.prototype.update=function(m){var C=this.chart;x(!0,C.options.rangeSelector,m),this.destroy(),this.init(C),this.render()},E.prototype.destroy=function(){var m=this,C=m.minInput,A=m.maxInput;m.eventsToUnbind&&(m.eventsToUnbind.forEach(function(k){return k()}),m.eventsToUnbind=void 0),p(m.buttons),C&&(C.onfocus=C.onblur=C.onchange=null),A&&(A.onfocus=A.onblur=A.onchange=null),I(m,function(k,f){k&&"chart"!==f&&(k instanceof M?k.destroy():k instanceof window.HTMLElement&&l(k)),k!==E.prototype[f]&&(m[f]=null)},this)},E}(),d(s.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),s}),e(S,"Accessibility/Components/RangeSelectorComponent.js",[S["Stock/RangeSelector/RangeSelector.js"],S["Accessibility/AccessibilityComponent.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/Announcer.js"],S["Accessibility/KeyboardNavigationHandler.js"],S["Core/Utilities.js"]],function(i,s,c,T,M,j){var a,G=this&&this.__extends||(a=function(p,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var w in _)_.hasOwnProperty(w)&&(d[w]=_[w])})(p,l)},function(p,l){function d(){this.constructor=p}a(p,l),p.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}),Y=c.unhideChartElementFromAT,z=c.getAxisRangeDescription,F=j.addEvent,N=j.attr;return s=function(a){function p(){var l=null!==a&&a.apply(this,arguments)||this;return l.announcer=void 0,l}return G(p,a),p.prototype.init=function(){this.announcer=new T(this.chart,"polite")},p.prototype.onChartUpdate=function(){var l=this.chart,d=this,_=l.rangeSelector;_&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),_.buttons&&_.buttons.length&&_.buttons.forEach(function(w){d.setRangeButtonAttrs(w)}),_.maxInput&&_.minInput&&["minInput","maxInput"].forEach(function(w,x){(w=_[w])&&(Y(l,w),d.setRangeInputAttrs(w,"accessibility.rangeSelector."+(x?"max":"min")+"InputLabel"))}))},p.prototype.updateSelectorVisibility=function(){var l=this.chart,d=l.rangeSelector,_=d&&d.dropdown,w=d&&d.buttons||[];d&&d.hasVisibleDropdown&&_?(Y(l,_),w.forEach(function(x){return x.element.setAttribute("aria-hidden",!0)})):(_&&_.setAttribute("aria-hidden",!0),w.forEach(function(x){return Y(l,x.element)}))},p.prototype.setDropdownAttrs=function(){var l=this.chart,d=l.rangeSelector&&l.rangeSelector.dropdown;d&&(l=l.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:l.options.lang.rangeSelectorZoom}),d.setAttribute("aria-label",l),d.setAttribute("tabindex",-1))},p.prototype.setRangeButtonAttrs=function(l){N(l.element,{tabindex:-1,role:"button"})},p.prototype.setRangeInputAttrs=function(l,d){var _=this.chart;N(l,{tabindex:-1,"aria-label":_.langFormat(d,{chart:_})})},p.prototype.onButtonNavKbdArrowKey=function(l,d){var _=l.response,w=this.keyCodes,x=this.chart,I=x.options.accessibility.keyboardNavigation.wrapAround;return x.highlightRangeSelectorButton(x.highlightedRangeSelectorItemIx+(d=d===w.left||d===w.up?-1:1))?_.success:I?(l.init(d),_.success):_[0<d?"next":"prev"]},p.prototype.onButtonNavKbdClick=function(l){l=l.response;var d=this.chart;return 3!==d.oldRangeSelectorItemState&&this.fakeClickEvent(d.rangeSelector.buttons[d.highlightedRangeSelectorItemIx].element),l.success},p.prototype.onAfterBtnClick=function(){var l=this.chart,d=z(l.xAxis[0]);(l=l.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:l,axisRangeDescription:d}))&&this.announcer.announce(l)},p.prototype.onInputKbdMove=function(l){var d=this.chart,_=d.rangeSelector,w=d.highlightedInputRangeIx=(d.highlightedInputRangeIx||0)+l;1<w||0>w?d.accessibility&&(d.accessibility.keyboardNavigation.tabindexContainer.focus(),d.accessibility.keyboardNavigation.move(l)):_&&(l=_[w?"maxDateBox":"minDateBox"],_=_[w?"maxInput":"minInput"],l&&_&&d.setFocusToElement(l,_))},p.prototype.onInputNavInit=function(l){var d=this,_=this,w=this.chart,x=0<l?0:1,I=w.rangeSelector,h=I&&I[x?"maxDateBox":"minDateBox"];if(l=I&&I.minInput,I=I&&I.maxInput,w.highlightedInputRangeIx=x,h&&l&&I){w.setFocusToElement(h,x?I:l),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();var n=F(l,"keydown",w=function(P){(P.which||P.keyCode)===d.keyCodes.tab&&(P.preventDefault(),P.stopPropagation(),_.onInputKbdMove(P.shiftKey?-1:1))}),D=F(I,"keydown",w);this.removeInputKeydownHandler=function(){n(),D()}}},p.prototype.onInputNavTerminate=function(){var l=this.chart.rangeSelector||{};l.maxInput&&l.hideInput("max"),l.minInput&&l.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)},p.prototype.initDropdownNav=function(){var l=this,d=this.chart,_=d.rangeSelector,w=_&&_.dropdown;_&&w&&(d.setFocusToElement(_.buttonGroup,w),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=F(w,"keydown",function(x){var I=d.accessibility;(x.which||x.keyCode)===l.keyCodes.tab&&(x.preventDefault(),x.stopPropagation(),I&&(I.keyboardNavigation.tabindexContainer.focus(),I.keyboardNavigation.move(x.shiftKey?-1:1)))}))},p.prototype.getRangeSelectorButtonNavigation=function(){var l=this.chart,d=this.keyCodes,_=this;return new M(l,{keyCodeMap:[[[d.left,d.right,d.up,d.down],function(w){return _.onButtonNavKbdArrowKey(this,w)}],[[d.enter,d.space],function(){return _.onButtonNavKbdClick(this)}]],validate:function(){return!!(l.rangeSelector&&l.rangeSelector.buttons&&l.rangeSelector.buttons.length)},init:function(w){var x=l.rangeSelector;x&&x.hasVisibleDropdown?_.initDropdownNav():x&&(x=x.buttons.length-1,l.highlightRangeSelectorButton(0<w?0:x))},terminate:function(){_.removeDropdownKeydownHandler&&(_.removeDropdownKeydownHandler(),delete _.removeDropdownKeydownHandler)}})},p.prototype.getRangeSelectorInputNavigation=function(){var l=this.chart,d=this;return new M(l,{keyCodeMap:[],validate:function(){return!!(l.rangeSelector&&l.rangeSelector.inputGroup&&"hidden"!==l.rangeSelector.inputGroup.element.style.visibility&&!1!==l.options.rangeSelector.inputEnabled&&l.rangeSelector.minInput&&l.rangeSelector.maxInput)},init:function(_){d.onInputNavInit(_)},terminate:function(){d.onInputNavTerminate()}})},p.prototype.getKeyboardNavigation=function(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]},p.prototype.destroy=function(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()},p}(s),function(a){function p(_){var w=this.rangeSelector&&this.rangeSelector.buttons||[],x=this.highlightedRangeSelectorItemIx,I=this.rangeSelector&&this.rangeSelector.selected;return typeof x<"u"&&w[x]&&x!==I&&w[x].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=_,!!w[_]&&(this.setFocusToElement(w[_].box,w[_].element),_!==I&&(this.oldRangeSelectorItemState=w[_].state,w[_].setState(1)),!0)}function l(){var _=this.chart.accessibility;if(_&&_.components.rangeSelector)return _.components.rangeSelector.onAfterBtnClick()}var d=[];a.compose=function(_,w){-1===d.indexOf(_)&&(d.push(_),_.prototype.highlightRangeSelectorButton=p),-1===d.indexOf(w)&&(d.push(w),F(i,"afterBtnClick",l))}}(s||(s={})),s}),e(S,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[S["Core/Utilities.js"]],function(i){var T,s=i.addEvent,c=i.merge;return function(M){function j(a){c(!0,a,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function G(a){return a.marker.states&&a.marker.states.normal&&a.marker.states.normal.opacity}function Y(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(function(a){a.graphic&&(a.graphic[a.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),a.graphic[!1===a.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function z(a){this.resetA11yMarkerOptions=c(a.options.marker||{},this.userOptions.marker||{})}function F(){var a=this.options,p=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if((p=this.chart.options.accessibility.enabled&&p)&&(p=this.points.length<(p=this.chart.options.accessibility).series.pointDescriptionEnabledThreshold||!1===p.series.pointDescriptionEnabledThreshold),p){if(a.marker&&!1===a.marker.enabled&&(this.a11yMarkersForced=!0,j(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(a=this.points.length;a--;){var l=(p=this.points[a]).options,d=p.hasForcedA11yMarker;delete p.hasForcedA11yMarker,l.marker&&(d=d&&0===G(l),l.marker.enabled&&!d?(c(!0,l.marker,{states:{normal:{opacity:G(l)||1}}}),p.hasForcedA11yMarker=!1):!1===l.marker.enabled&&(j(l),p.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(a=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:a.enabled,states:{normal:{opacity:a.states&&a.states.normal&&a.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}var N=[];M.compose=function(a){-1===N.indexOf(a)&&(N.push(a),s(a,"afterSetOptions",z),s(a,"render",F),s(a,"afterRender",Y))}}(T||(T={})),T}),e(S,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[S["Core/Series/Point.js"],S["Core/Series/Series.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Globals.js"],S["Core/Utilities.js"],S["Accessibility/KeyboardNavigationHandler.js"],S["Accessibility/Utils/EventProvider.js"],S["Accessibility/Utils/ChartUtilities.js"]],function(i,s,c,T,M,j,G,Y){function z(D){var P=D.index,E=D.series.points,m=E.length;if(E[P]===D)return P;for(;m--;)if(E[m]===D)return m}function F(D){var P=D.chart.options.accessibility.keyboardNavigation.seriesNavigation,E=D.options.accessibility||{},m=E.keyboardNavigation;return m&&!1===m.enabled||!1===E.enabled||!1===D.options.enableMouseTracking||!D.visible||P.pointNavigationEnabledThreshold&&P.pointNavigationEnabledThreshold<=D.points.length}function N(D){return D.isNull&&D.series.chart.options.accessibility.keyboardNavigation.seriesNavigation.skipNullPoints||!1===D.visible||!1===D.isInside||D.options.accessibility&&!1===D.options.accessibility.enabled||F(D.series)}function a(D){for(var P=(D=D.series||[]).length,E=0;E<P;++E)if(!F(D[E])){t:{for(var m=D[E].points||[],C=m.length,A=0;A<C;++A)if(!N(m[A])){m=m[A];break t}m=null}if(m)return m}return null}function p(D){for(var P=D.series.length,E=!1;P--&&(D.highlightedPoint=D.series[P].points[D.series[P].points.length-1],!(E=D.series[P].highlightNextValidPoint())););return E}function l(D){return delete D.highlightedPoint,!!(D=a(D))&&D.highlight()}var d=c.seriesTypes,_=T.doc,w=M.defined,x=M.fireEvent,I=Y.getPointFromXY,h=Y.getSeriesFromName,n=Y.scrollToPoint;return function(D){function P(o){var R=this.series,U=this.highlightedPoint,X=U&&z(U)||0,pt=this.series&&this.series[this.series.length-1];if(pt=pt&&pt.points&&pt.points[pt.points.length-1],!R[0]||!R[0].points)return!1;if(U){if(R=R[U.series.index+(o?1:-1)],!(X=(U&&U.series.points||[])[X+(o?1:-1)])&&R&&(X=R.points[o?0:R.points.length-1]),!X)return!1}else X=o?R[0].points[0]:pt;return N(X)?(this.highlightedPoint=F(R=X.series)?o?R.points[R.points.length-1]:R.points[0]:X,this.highlightAdjacentPoint(o)):X.highlight()}function E(o){var X,R=this.highlightedPoint,U=1/0;return!(!w(R.plotX)||!w(R.plotY))&&(this.series.forEach(function(tt){F(tt)||tt.points.forEach(function(pt){if(w(pt.plotY)&&w(pt.plotX)&&pt!==R){var ot=pt.plotY-R.plotY,W=Math.abs(pt.plotX-R.plotX);W=Math.abs(ot)*Math.abs(ot)+W*W*4,tt.yAxis&&tt.yAxis.reversed&&(ot*=-1),!(0>=ot&&o||0<=ot&&!o||5>W||N(pt))&&W<U&&(U=W,X=pt)}})}),!!X&&X.highlight())}function m(o){var R=this.highlightedPoint,U=this.series&&this.series[this.series.length-1],X=U&&U.points&&U.points[U.points.length-1];return this.highlightedPoint?!(!(U=this.series[R.series.index+(o?-1:1)])||(X=function C(o,R,U,X){var tt=1/0,pt=R.points.length,ot=function(gt){return!(w(gt.plotX)&&w(gt.plotY))};if(!ot(o)){for(;pt--;){var W=R.points[pt];if(!ot(W)&&(W=(o.plotX-W.plotX)*(o.plotX-W.plotX)*(U||1)+(o.plotY-W.plotY)*(o.plotY-W.plotY)*(X||1))<tt){tt=W;var K=pt}}return w(K)?R.points[K]:void 0}}(R,U,4),!X))&&(F(U)?(X.highlight(),(o=this.highlightAdjacentSeries(o))||(R.highlight(),!1)):(X.highlight(),X.series.highlightNextValidPoint())):(U=o?this.series&&this.series[0]:U,!!(X=o?U&&U.points&&U.points[0]:X)&&X.highlight())}function A(o){void 0===o&&(o=!0);var R=this.series.chart;return!this.isNull&&o?this.onMouseOver():R.tooltip&&R.tooltip.hide(0),n(this),this.graphic&&(R.setFocusToElement(this.graphic),!o&&R.focusElement&&R.focusElement.removeFocusBorder()),R.highlightedPoint=this,this}function k(){var o=this.chart.highlightedPoint,R=(o&&o.series)===this?z(o):0,U=(o=this.points).length;if(o&&U){for(var X=R;X<U;++X)if(!N(o[X]))return o[X].highlight();for(;0<=R;--R)if(!N(o[R]))return o[R].highlight()}return!1}var f=[];D.compose=function(o,R,U){-1===f.indexOf(o)&&(f.push(o),(o=o.prototype).highlightAdjacentPoint=P,o.highlightAdjacentPointVertical=E,o.highlightAdjacentSeries=m),-1===f.indexOf(R)&&(f.push(R),R.prototype.highlight=A),-1===f.indexOf(U)&&(f.push(U),(R=U.prototype).keyboardMoveVertical=!0,["column","gantt","pie"].forEach(function(X){d[X]&&(d[X].prototype.keyboardMoveVertical=!1)}),R.highlightNextValidPoint=k)}}((c=function(){function D(P,E){this.keyCodes=E,this.chart=P}return D.prototype.init=function(){var P=this,E=this.chart,m=this.eventProvider=new G;m.addEvent(s,"destroy",function(){return P.onSeriesDestroy(this)}),m.addEvent(E,"afterApplyDrilldown",function(){var C=a(this);C&&C.highlight(!1)}),m.addEvent(E,"drilldown",function(C){var A=(C=C.point).series;P.lastDrilledDownPoint={x:C.x,y:C.y,seriesName:A?A.name:""}}),m.addEvent(E,"drillupall",function(){setTimeout(function(){P.onDrillupAll()},10)}),m.addEvent(i,"afterSetState",function(){var C=this.graphic&&this.graphic.element,A=_.activeElement,k=A&&A.getAttribute("class");k=k&&-1<k.indexOf("highcharts-a11y-proxy-button"),E.highlightedPoint===this&&A!==C&&!k&&C&&C.focus&&C.focus()})},D.prototype.onDrillupAll=function(){var C,P=this.lastDrilledDownPoint,E=this.chart,m=P&&h(E,P.seriesName);P&&m&&w(P.x)&&w(P.y)&&(C=I(m,P.x,P.y)),C=C||a(E),E.container&&E.container.focus(),C&&C.highlight&&C.highlight(!1)},D.prototype.getKeyboardNavigationHandler=function(){var P=this,E=this.keyCodes,m=this.chart,C=m.inverted;return new j(m,{keyCodeMap:[[C?[E.up,E.down]:[E.left,E.right],function(A){return P.onKbdSideways(this,A)}],[C?[E.left,E.right]:[E.up,E.down],function(A){return P.onKbdVertical(this,A)}],[[E.enter,E.space],function(A,k){return(A=m.highlightedPoint)&&(k.point=A,x(A.series,"click",k),A.firePointEvent("click")),this.response.success}],[[E.home],function(){return l(m),this.response.success}],[[E.end],function(){return p(m),this.response.success}],[[E.pageDown,E.pageUp],function(A){return m.highlightAdjacentSeries(A===E.pageDown),this.response.success}]],init:function(){return P.onHandlerInit(this)},validate:function(){return!!a(m)},terminate:function(){return P.onHandlerTerminate()}})},D.prototype.onKbdSideways=function(P,E){var m=this.keyCodes;return this.attemptHighlightAdjacentPoint(P,E===m.right||E===m.down)},D.prototype.onHandlerInit=function(P){var E=this.chart;return E.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&E.highlightedPoint?E.highlightedPoint.highlight():l(E),P.response.success},D.prototype.onKbdVertical=function(P,E){var m=this.chart,C=this.keyCodes;return E=E===C.down||E===C.right,(C=m.options.accessibility.keyboardNavigation.seriesNavigation).mode&&"serialize"===C.mode?this.attemptHighlightAdjacentPoint(P,E):(m[m.highlightedPoint&&m.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](E),P.response.success)},D.prototype.onHandlerTerminate=function(){var P=this.chart,E=P.options.accessibility.keyboardNavigation;P.tooltip&&P.tooltip.hide(0);var m=P.highlightedPoint&&P.highlightedPoint.series;m&&m.onMouseOut&&m.onMouseOut(),P.highlightedPoint&&P.highlightedPoint.onMouseOut&&P.highlightedPoint.onMouseOut(),E.seriesNavigation.rememberPointFocus||delete P.highlightedPoint},D.prototype.attemptHighlightAdjacentPoint=function(P,E){var m=this.chart,C=m.options.accessibility.keyboardNavigation.wrapAround;return m.highlightAdjacentPoint(E)||C&&(E?l(m):p(m))?P.response.success:P.response[E?"next":"prev"]},D.prototype.onSeriesDestroy=function(P){var E=this.chart;E.highlightedPoint&&E.highlightedPoint.series===P&&(delete E.highlightedPoint,E.focusElement&&E.focusElement.removeFocusBorder())},D.prototype.destroy=function(){this.eventProvider.removeAddedEvents()},D}())||(c={})),c}),e(S,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[S["Accessibility/AccessibilityComponent.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],S["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],S["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],S["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"],S["Core/Tooltip.js"]],function(i,s,c,T,M,j,G){var N,Y=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),z=s.hideSeriesFromAT,F=M.describeSeries;return function(N){function a(){return null!==N&&N.apply(this,arguments)||this}return Y(a,N),a.compose=function(p,l,d){T.compose(d),c.compose(d),j.compose(p,l,d)},a.prototype.init=function(){this.newDataAnnouncer=new T(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new j(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()},a.prototype.hideTooltipFromATWhenShown=function(){var p=this;this.addEvent(G,"refresh",function(){this.chart===p.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})},a.prototype.hideSeriesLabelsFromATWhenShown=function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(p){p.labelBySeries&&p.labelBySeries.attr("aria-hidden",!0)})})},a.prototype.onChartRender=function(){this.chart.series.forEach(function(p){!1!==(p.options.accessibility&&p.options.accessibility.enabled)&&p.visible?F(p):z(p)})},a.prototype.getKeyboardNavigation=function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},a.prototype.destroy=function(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()},a}(i)}),e(S,"Accessibility/Components/ZoomComponent.js",[S["Accessibility/AccessibilityComponent.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Accessibility/KeyboardNavigationHandler.js"],S["Core/Utilities.js"]],function(i,s,c,T,M){var N,j=this&&this.__extends||(N=function(a,p){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var _ in d)d.hasOwnProperty(_)&&(l[_]=d[_])})(a,p)},function(a,p){function l(){this.constructor=a}N(a,p),a.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)}),G=s.unhideChartElementFromAT,Y=c.getFakeMouseEvent,z=M.attr,F=M.pick;return function(N){function a(){var p=null!==N&&N.apply(this,arguments)||this;return p.focusedMapNavButtonIx=-1,p}return j(a,N),a.prototype.init=function(){var p=this,l=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(function(d){p.addEvent(l,d,function(){p.updateProxyOverlays()})})},a.prototype.onChartUpdate=function(){var p=this.chart,l=this;p.mapNavigation&&p.mapNavigation.navButtons.forEach(function(d,_){G(p,d.element),l.setMapNavButtonAttrs(d.element,"accessibility.zoom.mapZoom"+(_?"Out":"In"))})},a.prototype.setMapNavButtonAttrs=function(p,l){var d=this.chart;l=d.langFormat(l,{chart:d}),z(p,{tabindex:-1,role:"button","aria-label":l})},a.prototype.onChartRender=function(){this.updateProxyOverlays()},a.prototype.updateProxyOverlays=function(){var p=this.chart;this.proxyProvider.clearGroup("zoom"),p.resetZoomButton&&this.createZoomProxyButton(p.resetZoomButton,"resetZoomProxyButton",p.langFormat("accessibility.zoom.resetZoomButton",{chart:p})),p.drillUpButton&&p.breadcrumbs&&p.breadcrumbs.list&&this.createZoomProxyButton(p.drillUpButton,"drillUpProxyButton",p.langFormat("accessibility.drillUpButton",{chart:p,buttonText:p.breadcrumbs.getButtonText(p.breadcrumbs.list[p.breadcrumbs.list.length-1])}))},a.prototype.createZoomProxyButton=function(p,l,d){this[l]=this.proxyProvider.addProxyElement("zoom",{click:p},{"aria-label":d,tabindex:-1})},a.prototype.getMapZoomNavigation=function(){var p=this.keyCodes,l=this.chart,d=this;return new T(l,{keyCodeMap:[[[p.up,p.down,p.left,p.right],function(_){return d.onMapKbdArrow(this,_)}],[[p.tab],function(_,w){return d.onMapKbdTab(this,w)}],[[p.space,p.enter],function(){return d.onMapKbdClick(this)}]],validate:function(){return!!(l.mapView&&l.mapNavigation&&l.mapNavigation.navButtons.length)},init:function(_){return d.onMapNavInit(_)}})},a.prototype.onMapKbdArrow=function(p,l){var d=this.chart,_=this.keyCodes,w=d.container,x=l===_.up||l===_.down;return l=(x?d.plotHeight:d.plotWidth)/10*(l===_.left||l===_.up?1:-1),_=10*Math.random(),d={x:w.offsetLeft+d.plotLeft+d.plotWidth/2+_,y:w.offsetTop+d.plotTop+d.plotHeight/2+_},x=x?{x:d.x,y:d.y+l}:{x:d.x+l,y:d.y},[Y("mousedown",d),Y("mousemove",x),Y("mouseup",x)].forEach(function(I){return w.dispatchEvent(I)}),p.response.success},a.prototype.onMapKbdTab=function(p,l){var d=this.chart;p=p.response;var _=(l=l.shiftKey)&&!this.focusedMapNavButtonIx||!l&&this.focusedMapNavButtonIx;return d.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),_?(d.mapView&&d.mapView.zoomBy(),p[l?"prev":"next"]):(this.focusedMapNavButtonIx+=l?-1:1,d.setFocusToElement((l=d.mapNavigation.navButtons[this.focusedMapNavButtonIx]).box,l.element),l.setState(2),p.success)},a.prototype.onMapKbdClick=function(p){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),p.response.success},a.prototype.onMapNavInit=function(p){var l=this.chart,d=l.mapNavigation.navButtons[0];l.setFocusToElement((d=0<p?d:l.mapNavigation.navButtons[1]).box,d.element),d.setState(2),this.focusedMapNavButtonIx=0<p?0:1},a.prototype.simpleButtonNavigation=function(p,l,d){var _=this.keyCodes,w=this,x=this.chart;return new T(x,{keyCodeMap:[[[_.tab,_.up,_.down,_.left,_.right],function(I,h){return this.response[I===_.tab&&h.shiftKey||I===_.left||I===_.up?"prev":"next"]}],[[_.space,_.enter],function(){var I=d(this,x);return F(I,this.response.success)}]],validate:function(){return x[p]&&x[p].box&&w[l].buttonElement},init:function(){x.setFocusToElement(x[p].box,w[l].buttonElement)}})},a.prototype.getKeyboardNavigation=function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(p,l){l.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(p,l){return l.drillUp(),p.response.prev}),this.getMapZoomNavigation()]},a}(i)}),e(S,"Accessibility/HighContrastMode.js",[S["Core/Globals.js"]],function(i){var s=i.doc,c=i.isMS,T=i.win;return{isHighContrastModeActive:function(){var M=/(Edg)/.test(T.navigator.userAgent);if(T.matchMedia&&M)return T.matchMedia("(-ms-high-contrast: active)").matches;if(c&&T.getComputedStyle){(M=s.createElement("div")).style.backgroundImage="url(".concat("data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",")"),s.body.appendChild(M);var j=(M.currentStyle||T.getComputedStyle(M)).backgroundImage;return s.body.removeChild(M),"none"===j}return T.matchMedia&&T.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(M){M.highContrastModeActive=!0;var j=M.options.accessibility.highContrastTheme;M.update(j,!1),M.series.forEach(function(G){var Y=j.plotOptions[G.type]||{};G.update({color:Y.color||"windowText",colors:[Y.color||"windowText"],borderColor:Y.borderColor||"window"}),G.points.forEach(function(z){z.options&&z.options.color&&z.update({color:Y.color||"windowText",borderColor:Y.borderColor||"window"},!1)})}),M.redraw()}}}),e(S,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),e(S,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#335cad",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),e(S,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),e(S,"Accessibility/Options/DeprecatedOptions.js",[S["Core/Utilities.js"]],function(i){function s(z,F,N){for(var a,p=0;p<F.length-1;++p)z=z[a=F[p]]=Y(z[a],{});z[F[F.length-1]]=N}function c(z,F,N,a){function p(_,w){return w.reduce(function(x,I){return x[I]},_)}var l=p(z.options,F),d=p(z.options,N);Object.keys(a).forEach(function(_){var w,x=l[_];typeof x<"u"&&(s(d,a[_],x),G(32,!1,z,((w={})[F.join(".")+"."+_]=N.join(".")+"."+a[_].join("."),w)))})}var G=i.error,Y=i.pick;return function(z){(function T(z){var F=z.options.chart,N=z.options.accessibility||{};["description","typeDescription"].forEach(function(a){var p;F[a]&&(N[a]=F[a],G(32,!1,z,((p={})["chart.".concat(a)]="use accessibility.".concat(a),p)))})})(z),function M(z){z.axes.forEach(function(F){(F=F.options)&&F.description&&(F.accessibility=F.accessibility||{},F.accessibility.description=F.description,G(32,!1,z,{"axis.description":"use axis.accessibility.description"}))})}(z),z.series&&function j(z){var F={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};z.series.forEach(function(N){Object.keys(F).forEach(function(a){var p,l=N.options[a];"accessibility.pointDescriptionFormatter"===a&&(l=N.options.accessibility&&N.options.accessibility.pointDescriptionFormatter),typeof l<"u"&&(s(N.options,F[a],"skipKeyboardNavigation"===a?!l:l),G(32,!1,z,((p={})["series.".concat(a)]="series."+F[a].join("."),p)))})})}(z),c(z,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),c(z,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),c(z,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),e(S,"Accessibility/Accessibility.js",[S["Core/Defaults.js"],S["Core/Globals.js"],S["Core/Utilities.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Accessibility/A11yI18n.js"],S["Accessibility/Components/ContainerComponent.js"],S["Accessibility/FocusBorder.js"],S["Accessibility/Components/InfoRegionsComponent.js"],S["Accessibility/KeyboardNavigation.js"],S["Accessibility/Components/LegendComponent.js"],S["Accessibility/Components/MenuComponent.js"],S["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],S["Accessibility/ProxyProvider.js"],S["Accessibility/Components/RangeSelectorComponent.js"],S["Accessibility/Components/SeriesComponent/SeriesComponent.js"],S["Accessibility/Components/ZoomComponent.js"],S["Accessibility/HighContrastMode.js"],S["Accessibility/HighContrastTheme.js"],S["Accessibility/Options/A11yDefaults.js"],S["Accessibility/Options/LangDefaults.js"],S["Accessibility/Options/DeprecatedOptions.js"]],function(i,s,c,T,M,j,G,Y,z,F,N,a,p,l,d,_,w,x,I,h,n){i=i.defaultOptions;var D=s.doc,P=c.addEvent,E=c.extend,m=c.fireEvent,C=c.merge,A=T.removeElement;return function(k){function f(){this.accessibility&&this.accessibility.destroy()}function o(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var pt=this.accessibility;pt&&!pt.zombie&&(pt.proxyProvider.updateProxyElementPositions(),pt.getComponentOrder().forEach(function(ot){pt.components[ot].onChartRender()}))}function R(pt){(pt=pt.options.accessibility)&&(pt.customComponents&&(this.options.accessibility.customComponents=pt.customComponents,delete pt.customComponents),C(!0,this.options.accessibility,pt),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function U(){var pt=this.accessibility,ot=this.options.accessibility;ot&&ot.enabled?pt&&!pt.zombie?pt.update():(this.accessibility=pt=new k(this),!pt.zombie&&pt.update()):pt?(pt.destroy&&pt.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function X(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}var tt=[];k.i18nFormat=M.i18nFormat,k.compose=function(pt,ot,W,K,gt,yt){z.compose(pt),a.compose(K),F.compose(pt,ot),N.compose(pt),d.compose(pt,W,K),M.compose(pt),G.compose(pt,gt),yt&&l.compose(pt,yt),-1===tt.indexOf(pt)&&(tt.push(pt),pt.prototype.updateA11yEnabled=U,P(pt,"destroy",f),P(pt,"render",o),P(pt,"update",R),["addSeries","init"].forEach(function(_t){P(pt,_t,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(function(_t){P(pt,_t,function(){var rt=this.accessibility;rt&&!rt.zombie&&rt.update()})})),-1===tt.indexOf(W)&&(tt.push(W),P(W,"update",X)),-1===tt.indexOf(K)&&(tt.push(K),["update","updatedData","remove"].forEach(function(_t){P(K,_t,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}}((s=function(){function k(f){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(f)}return k.prototype.init=function(f){this.chart=f,D.addEventListener&&f.renderer.isSVG?(n(f),this.proxyProvider=new p(this.chart),this.initComponents(),this.keyboardNavigation=new z(f,this.components)):(this.zombie=!0,this.components={},f.renderTo.setAttribute("aria-hidden",!0))},k.prototype.initComponents=function(){var f=this.chart,o=this.proxyProvider,R=f.options.accessibility;this.components={container:new j,infoRegions:new Y,legend:new F,chartMenu:new N,rangeSelector:new l,series:new d,zoom:new _},R.customComponents&&E(this.components,R.customComponents);var U=this.components;this.getComponentOrder().forEach(function(X){U[X].initBase(f,o),U[X].init()})},k.prototype.getComponentOrder=function(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var f=Object.keys(this.components).filter(function(o){return"series"!==o});return["series"].concat(f)},k.prototype.update=function(){var f=this.components,o=this.chart,R=o.options.accessibility;m(o,"beforeA11yUpdate"),o.types=this.getChartTypes(),this.proxyProvider.updateGroupOrder(R=R.keyboardNavigation.order),this.getComponentOrder().forEach(function(U){f[U].onChartUpdate(),m(o,"afterA11yComponentUpdate",{name:U,component:f[U]})}),this.keyboardNavigation.update(R),!o.highContrastModeActive&&w.isHighContrastModeActive()&&w.setHighContrastTheme(o),m(o,"afterA11yUpdate",{accessibility:this})},k.prototype.destroy=function(){var f=this.chart||{},o=this.components;Object.keys(o).forEach(function(R){o[R].destroy(),o[R].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),f.announcerContainer&&A(f.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),f.renderTo&&f.renderTo.setAttribute("aria-hidden",!0),f.focusElement&&f.focusElement.removeFocusBorder()},k.prototype.getChartTypes=function(){var f={};return this.chart.series.forEach(function(o){f[o.type]=1}),Object.keys(f)},k}())||(s={})),C(!0,i,I,{accessibility:{highContrastTheme:x},lang:h}),s}),e(S,"masters/modules/accessibility.src.js",[S["Core/Globals.js"],S["Accessibility/Accessibility.js"],S["Accessibility/AccessibilityComponent.js"],S["Accessibility/Utils/ChartUtilities.js"],S["Accessibility/Utils/HTMLUtilities.js"],S["Accessibility/KeyboardNavigationHandler.js"],S["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(i,s,c,T,M,j,G){i.i18nFormat=s.i18nFormat,i.A11yChartUtilities=T,i.A11yHTMLUtilities=M,i.AccessibilityComponent=c,i.KeyboardNavigationHandler=j,i.SeriesAccessibilityDescriber=G,s.compose(i.Chart,i.Legend,i.Point,i.Series,i.SVGElement,i.RangeSelector)})});