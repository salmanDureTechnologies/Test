"use strict";(self.webpackChunkreadiness_intelligence=self.webpackChunkreadiness_intelligence||[]).push([[425],{8425:(A,g,p)=>{p.r(g),p.d(g,{CrudModule:()=>_r});var l=p(6895),_=p(1463),o=p(433),t=p(8256),u=p(7185),h=p(8423),c=p(2340),m=p(529);let b=(()=>{class i{constructor(e){this.httpClient=e,this.url=c.N.apiURL+"/assesment"}getAll(){return this.httpClient.get(this.url)}find(e){return this.httpClient.get(this.url+"/"+e)}create(e){return this.httpClient.post(this.url,e)}update(e,r){return this.httpClient.put(this.url+"/"+e,r)}delete(e){return this.httpClient.delete(this.url+"/"+e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(m.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function I(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Name is Required"),t.qZA())}function P(i,s){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,I,2,0,"p",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.title.errors.required)}}function E(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Description is Required"),t.qZA())}function R(i,s){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,E,2,0,"p",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.subtitle.errors.required)}}function H(i,s){1&i&&(t.TgZ(0,"button",26),t._uU(1,"Submit"),t.qZA())}function K(i,s){1&i&&(t.TgZ(0,"button",26),t._uU(1,"Update"),t.qZA())}function $(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"ul",27)(7,"li",28)(8,"a",29),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id))}),t._UZ(9,"i",30),t.qZA()(),t.TgZ(10,"li",28)(11,"a",29),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(12,"i",31),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.subtitle)}}const w=function(i){return{"is-invalid":i}};let G=(()=>{class i{constructor(e,r,a,n){this.toastr=e,this.spinner=r,this.fb=a,this.serviceAssesment=n,this.Form1submitted=!1}ngOnInit(){this.getAll(),this.Form1=this.fb.group({title:["",o.kI.required],subtitle:["",o.kI.required]})}getAll(){this.serviceAssesment.getAll().subscribe(e=>{this.assesments=e})}get f(){return this.Form1.controls}submitForm1(){this.Form1submitted=!0,!this.Form1.invalid&&(this.isAdd?(this.update(),this.isAdd=!1):this.add(),this.Form1submitted=!1,this.Form1.reset())}add(){this.spinner.show(),this.serviceAssesment.create(this.Form1.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}find(e){this.spinner.show(),this.serviceAssesment.find(e).subscribe(r=>{this.Form1.patchValue(r),this.spinner.hide()}),this.idAssesment=e,this.isAdd=!0}update(){this.spinner.show(),this.serviceAssesment.update(this.idAssesment,this.Form1.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.serviceAssesment.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.Form1.reset(),this.isAdd=!1,this.Form1submitted=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(o.qu),t.Y36(b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-assesment-type"]],decls:40,vars:13,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-4","shadow-sm",2,"background-color","#f1f1f1"],[1,"card-body"],[1,"row","py-2"],[1,"col-4"],[1,"card","mb-3",2,"background-color","transparent","border","none"],[1,"card-body","py-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","title","rows","2",1,"form-control","mb-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","subtitle","rows","2",1,"form-control","mb-2",3,"ngClass"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"col-8"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"Assesment Type"),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"form",12),t.NdJ("ngSubmit",function(){return r.submitForm1()}),t.TgZ(14,"div",13)(15,"label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"textarea",14),t.YNc(18,P,2,1,"div",15),t.qZA(),t.TgZ(19,"div",13)(20,"label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"textarea",16),t.YNc(23,R,2,1,"div",15),t.qZA(),t.YNc(24,H,2,0,"button",17),t.YNc(25,K,2,0,"button",17),t.qZA()()()(),t.TgZ(26,"div",18)(27,"div",10)(28,"div",19)(29,"table",20)(30,"thead",21)(31,"tr")(32,"th"),t._uU(33,"Name"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Description"),t.qZA(),t.TgZ(36,"th",22),t._uU(37,"Action"),t.qZA()()(),t.TgZ(38,"tbody"),t.YNc(39,$,13,2,"tr",23),t.qZA()()()()()()()()()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",r.Form1),t.xp6(4),t.Q6J("ngClass",t.VKq(9,w,r.Form1submitted&&r.f.title.errors)),t.xp6(1),t.Q6J("ngIf",r.Form1submitted&&r.f.title.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(11,w,r.Form1submitted&&r.f.subtitle.errors)),t.xp6(1),t.Q6J("ngIf",r.Form1submitted&&r.f.subtitle.errors),t.xp6(1),t.Q6J("ngIf",!r.isAdd),t.xp6(1),t.Q6J("ngIf",r.isAdd),t.xp6(11),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.assesments))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]}),i})();var C=p(3787),V=p(746);function B(i,s){if(1&i&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function W(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Country is Required"),t.qZA())}function j(i,s){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,W,2,0,"p",27),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.countryId.errors.required)}}function X(i,s){if(1&i&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.title)}}function tt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Assesment is Required"),t.qZA())}function et(i,s){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,tt,2,0,"p",27),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.assesmentId.errors.required)}}function it(i,s){1&i&&(t.TgZ(0,"button",28),t._uU(1,"Submit"),t.qZA())}function rt(i,s){1&i&&(t.TgZ(0,"button",28),t._uU(1,"Update"),t.qZA())}function st(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"ul",29)(7,"li",30)(8,"a",31),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id))}),t._UZ(9,"i",32),t.qZA()(),t.TgZ(10,"li",30)(11,"a",31),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(12,"i",33),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.country.name),t.xp6(2),t.Oqu(e.assesment.title)}}const k=function(i){return{"is-invalid":i}};let ot=(()=>{class i{constructor(e,r,a,n,d,f){this.toastr=e,this.spinner=r,this.fb=a,this.serviceAssesment=n,this.serviceCountry=d,this.serviceCountryAssesment=f,this.Form1submitted=!1}getCountries(){this.serviceCountry.getAll().subscribe(e=>this.countries=e)}getAassesments(){this.serviceAssesment.getAll().subscribe(e=>this.assesments=e)}ngOnInit(){this.getAll(),this.getCountries(),this.getAassesments(),this.Form1=this.fb.group({countryId:["",o.kI.required],assesmentId:["",o.kI.required]})}getAll(){this.serviceCountryAssesment.getAll().subscribe(e=>this.countryAssesments=e)}get f(){return this.Form1.controls}submitForm1(){this.Form1submitted=!0,!this.Form1.invalid&&(this.isAdd?(this.update(),this.isAdd=!1):this.add(),this.Form1submitted=!1,this.Form1.reset())}add(){this.spinner.show(),this.serviceCountryAssesment.create(this.Form1.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}find(e){this.spinner.show(),this.serviceCountryAssesment.find(e).subscribe(r=>{this.Form1.patchValue(r),this.spinner.hide()}),this.idAssesment=e,this.isAdd=!0}update(){this.spinner.show(),this.serviceCountryAssesment.update(this.idAssesment,this.Form1.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.serviceCountryAssesment.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.Form1.reset(),this.isAdd=!1,this.Form1submitted=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(o.qu),t.Y36(b),t.Y36(C.T),t.Y36(V.m))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-assign-assesment"]],decls:42,vars:15,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-4","shadow-sm",2,"background-color","#f1f1f1"],[1,"card-body"],[1,"row","py-2"],[1,"col-4"],[1,"card","mb-3",2,"background-color","transparent","border","none"],[1,"card-body","py-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","countryId",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","assesmentId",1,"form-select",3,"ngClass"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"col-8"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"Assign Assesment"),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"form",12),t.NdJ("ngSubmit",function(){return r.submitForm1()}),t.TgZ(14,"div",13)(15,"label"),t._uU(16,"Country"),t.qZA(),t.TgZ(17,"select",14),t.YNc(18,B,2,2,"option",15),t.qZA(),t.YNc(19,j,2,1,"div",16),t.qZA(),t.TgZ(20,"div",13)(21,"label"),t._uU(22,"Assesment Type"),t.qZA(),t.TgZ(23,"select",17),t.YNc(24,X,2,2,"option",15),t.qZA(),t.YNc(25,et,2,1,"div",16),t.qZA(),t.YNc(26,it,2,0,"button",18),t.YNc(27,rt,2,0,"button",18),t.qZA()()()(),t.TgZ(28,"div",19)(29,"div",10)(30,"div",20)(31,"table",21)(32,"thead",22)(33,"tr")(34,"th"),t._uU(35,"Country"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Assesment Type"),t.qZA(),t.TgZ(38,"th",23),t._uU(39,"Action"),t.qZA()()(),t.TgZ(40,"tbody"),t.YNc(41,st,13,2,"tr",24),t.qZA()()()()()()()()()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",r.Form1),t.xp6(4),t.Q6J("ngClass",t.VKq(11,k,r.Form1submitted&&r.f.countryId.errors)),t.xp6(1),t.Q6J("ngForOf",r.countries),t.xp6(1),t.Q6J("ngIf",r.Form1submitted&&r.f.countryId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(13,k,r.Form1submitted&&r.f.assesmentId.errors)),t.xp6(1),t.Q6J("ngForOf",r.assesments),t.xp6(1),t.Q6J("ngIf",r.Form1submitted&&r.f.assesmentId.errors),t.xp6(1),t.Q6J("ngIf",!r.isAdd),t.xp6(1),t.Q6J("ngIf",r.isAdd),t.xp6(11),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.countryAssesments))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})();var v=p(5795),F=p(8459),nt=p(4132);function at(i,s){if(1&i&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function dt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Hazard Type is Required"),t.qZA())}function ct(i,s){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,dt,2,0,"p",27),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.hazardTypeId.errors.required)}}function lt(i,s){if(1&i&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Category is Required"),t.qZA())}function ut(i,s){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,pt,2,0,"p",27),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.categoryId.errors.required)}}function mt(i,s){1&i&&(t.TgZ(0,"button",28),t._uU(1,"Submit"),t.qZA())}function ht(i,s){1&i&&(t.TgZ(0,"button",28),t._uU(1,"Update"),t.qZA())}function ft(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"ul",29)(7,"li",30)(8,"a",31),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id))}),t._UZ(9,"i",32),t.qZA()(),t.TgZ(10,"li",30)(11,"a",31),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(12,"i",33),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.hazardType.name),t.xp6(2),t.Oqu(e.category.name)}}const Y=function(i){return{"is-invalid":i}};let _t=(()=>{class i{constructor(e,r,a,n,d,f){this.toastr=e,this.spinner=r,this.fb=a,this.serviceHazardType=n,this.serviceCategory=d,this.serviceHazardTypeCategory=f,this.Form1submitted=!1}getCategories(){this.serviceCategory.getAll().subscribe(e=>this.categories=e)}getHazardTypes(){this.serviceHazardType.getAll().subscribe(e=>this.hazardTypes=e)}ngOnInit(){this.getAll(),this.getCategories(),this.getHazardTypes(),this.Form1=this.fb.group({hazardTypeId:["",o.kI.required],categoryId:["",o.kI.required]})}getAll(){this.serviceHazardTypeCategory.getAll().subscribe(e=>this.hazardTypeCategories=e)}get f(){return this.Form1.controls}submitForm1(){this.Form1submitted=!0,!this.Form1.invalid&&(this.isAdd?(this.update(),this.isAdd=!1):this.add(),this.Form1submitted=!1,this.Form1.reset())}add(){this.spinner.show(),this.serviceHazardTypeCategory.create(this.Form1.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}find(e){this.spinner.show(),this.serviceHazardTypeCategory.find(e).subscribe(r=>{this.Form1.patchValue(r),this.spinner.hide()}),this.idAssign=e,this.isAdd=!0}update(){this.spinner.show(),this.serviceHazardTypeCategory.update(this.idAssign,this.Form1.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.serviceHazardTypeCategory.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.Form1.reset(),this.isAdd=!1,this.Form1submitted=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(o.qu),t.Y36(v.$),t.Y36(F.k),t.Y36(nt.l))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-assign-category"]],decls:42,vars:15,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-4","shadow-sm",2,"background-color","#f1f1f1"],[1,"card-body"],[1,"row","py-2"],[1,"col-4"],[1,"card","mb-3",2,"background-color","transparent","border","none"],[1,"card-body","py-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","hazardTypeId",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","categoryId",1,"form-select",3,"ngClass"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"col-8"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"Assign Category"),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"form",12),t.NdJ("ngSubmit",function(){return r.submitForm1()}),t.TgZ(14,"div",13)(15,"label"),t._uU(16,"Hazard Type"),t.qZA(),t.TgZ(17,"select",14),t.YNc(18,at,2,2,"option",15),t.qZA(),t.YNc(19,ct,2,1,"div",16),t.qZA(),t.TgZ(20,"div",13)(21,"label"),t._uU(22,"Category"),t.qZA(),t.TgZ(23,"select",17),t.YNc(24,lt,2,2,"option",15),t.qZA(),t.YNc(25,ut,2,1,"div",16),t.qZA(),t.YNc(26,mt,2,0,"button",18),t.YNc(27,ht,2,0,"button",18),t.qZA()()()(),t.TgZ(28,"div",19)(29,"div",10)(30,"div",20)(31,"table",21)(32,"thead",22)(33,"tr")(34,"th"),t._uU(35,"Hazard Type"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Category"),t.qZA(),t.TgZ(38,"th",23),t._uU(39,"Action"),t.qZA()()(),t.TgZ(40,"tbody"),t.YNc(41,ft,13,2,"tr",24),t.qZA()()()()()()()()()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",r.Form1),t.xp6(4),t.Q6J("ngClass",t.VKq(11,Y,r.Form1submitted&&r.f.hazardTypeId.errors)),t.xp6(1),t.Q6J("ngForOf",r.hazardTypes),t.xp6(1),t.Q6J("ngIf",r.Form1submitted&&r.f.hazardTypeId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(13,Y,r.Form1submitted&&r.f.categoryId.errors)),t.xp6(1),t.Q6J("ngForOf",r.categories),t.xp6(1),t.Q6J("ngIf",r.Form1submitted&&r.f.categoryId.errors),t.xp6(1),t.Q6J("ngIf",!r.isAdd),t.xp6(1),t.Q6J("ngIf",r.isAdd),t.xp6(11),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.hazardTypeCategories))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})();var U=p(1215),O=p(8482);function gt(i,s){if(1&i&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function bt(i,s){if(1&i&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function vt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"State is Required"),t.qZA())}function Zt(i,s){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,vt,2,0,"p",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.stateId.errors.required)}}function Ct(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"City Name is Required"),t.qZA())}function At(i,s){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,Ct,2,0,"p",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors.required)}}function Tt(i,s){1&i&&(t.TgZ(0,"button",26),t._uU(1,"Submit"),t.qZA())}function yt(i,s){1&i&&(t.TgZ(0,"button",26),t._uU(1,"Update"),t.qZA())}function qt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"ul",27)(9,"li",28)(10,"a",29),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw(),f=t.MAs(1);return d.find(n.id,n.state.country.id,n.state.country.code),t.KtG(d.scroll(f))}),t._UZ(11,"i",30),t.qZA()(),t.TgZ(12,"li",28)(13,"a",29),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(14,"i",31),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.state.country.name),t.xp6(2),t.Oqu(e.state.name),t.xp6(2),t.Oqu(e.name)}}const Q=function(i){return{"is-invalid":i}};let xt=(()=>{class i{constructor(e,r,a,n,d,f){this.toastr=e,this.spinner=r,this.serviceCountry=a,this.serviceState=n,this.serviceCity=d,this.fb=f,this.formsubmitted=!1}ngOnInit(){this.getAllcountry(),this.getAll(),this.form=this.fb.group({countryId:["",o.kI.required],stateId:["",o.kI.required],name:["",o.kI.required]})}getAllcountry(){this.serviceCountry.getAll().subscribe(e=>{this.countries=e})}getAll(){this.serviceCity.getAll().subscribe(e=>{this.cities=e})}onSelectCounty(e){this.serviceState.getByCountry(e.value).subscribe(r=>{this.states=r})}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.isAddMode?(this.update(),this.isAddMode=!1):this.create(),this.formsubmitted=!1,this.form.reset())}find(e,r,a){this.spinner.show(),this.serviceState.getByCountry(r).subscribe(n=>{this.states=n}),this.serviceCity.find(e).subscribe(n=>{this.form.patchValue({countryId:n.state.country.id,stateId:n.state.id,name:n.name}),this.spinner.hide()}),this.id=e,this.isAddMode=!0}create(){this.spinner.show(),this.serviceCity.create({stateId:this.form.value.stateId,name:this.form.value.name}).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}update(){this.spinner.show(),this.serviceCity.update(this.id,{stateId:this.form.value.stateId,name:this.form.value.name}).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.serviceCity.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.form.reset(),this.isAddMode=!1,this.formsubmitted=!1}scroll(e){var n=e.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:n,behavior:"smooth"})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(C.T),t.Y36(U.b),t.Y36(O.Z),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-city"]],decls:44,vars:16,consts:[[1,"container","mt-4"],["scrollup",""],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-3","shadow-sm"],[1,"card-body","py-2",2,"background-color","#fbfbfb"],[3,"formGroup","ngSubmit"],[1,"col-sm-4","mb-3"],["formControlName","countryId",1,"form-select","fs-12",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","stateId",1,"form-select","fs-12",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"mb-3"],["formControlName","name","rows","3",1,"form-control","mb-2","fs-12",3,"ngClass"],["type","submit","class","btn btn-primary fs-12",4,"ngIf"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","fs-12"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"CRUD - City"),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"form",9),t.NdJ("ngSubmit",function(){return r.submitForm()}),t.TgZ(11,"div",10)(12,"label"),t._uU(13,"Country"),t.qZA(),t.TgZ(14,"select",11),t.NdJ("change",function(n){return r.onSelectCounty(n.target)}),t.YNc(15,gt,2,2,"option",12),t.qZA()(),t.TgZ(16,"div",10)(17,"label"),t._uU(18,"State"),t.qZA(),t.TgZ(19,"select",13),t.YNc(20,bt,2,2,"option",12),t.qZA(),t.YNc(21,Zt,2,1,"div",14),t.qZA(),t.TgZ(22,"div",15)(23,"label"),t._uU(24,"City Name"),t.qZA(),t._UZ(25,"textarea",16),t.YNc(26,At,2,1,"div",14),t.qZA(),t.YNc(27,Tt,2,0,"button",17),t.YNc(28,yt,2,0,"button",17),t.qZA()()(),t.TgZ(29,"div",7)(30,"div",18)(31,"table",19)(32,"thead",20)(33,"tr")(34,"th",21),t._uU(35,"Country"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"State"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"City"),t.qZA(),t.TgZ(40,"th",21),t._uU(41,"Action"),t.qZA()()(),t.TgZ(42,"tbody"),t.YNc(43,qt,15,3,"tr",22),t.qZA()()()()()()()()()),2&e&&(t.xp6(10),t.Q6J("formGroup",r.form),t.xp6(5),t.Q6J("ngForOf",r.countries),t.xp6(4),t.Q6J("ngClass",t.VKq(12,Q,r.formsubmitted&&r.f.stateId.errors)),t.xp6(1),t.Q6J("ngForOf",r.states),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.stateId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(14,Q,r.formsubmitted&&r.f.name.errors)),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.name.errors),t.xp6(1),t.Q6J("ngIf",!r.isAddMode),t.xp6(1),t.Q6J("ngIf",r.isAddMode),t.xp6(6),t.Q6J("width",200),t.xp6(6),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.cities))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})();const It=function(){return{exact:!0}};let Ft=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crud"]],decls:19,vars:2,consts:[[1,"container-fluid","mb-4",2,"background-color","#fff"],[1,"container","p-3"],[1,"row"],[1,"col-md-12","text-center","text-md-start"],[1,"d-inline-flex","bd-highlight"],[1,"nav","nav-pills","flex-column","flex-sm-row","rounded","nav-import-bg"],["routerLink","/crud/domain","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import",3,"routerLinkActiveOptions"],["routerLink","/crud/draft-response","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import"],["routerLink","/crud/readiness-category","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import"],["routerLink","/crud/readiness-checklist","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import"],["routerLink","/crud/donor-partner","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import"],["routerLink","/crud/strategic-policies","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"a",6),t._uU(7,"Domain"),t.qZA(),t.TgZ(8,"a",7),t._uU(9,"CRUD Draft Response"),t.qZA(),t.TgZ(10,"a",8),t._uU(11,"CRUD Readiness Category"),t.qZA(),t.TgZ(12,"a",9),t._uU(13,"CRUD Readiness Checklist"),t.qZA(),t.TgZ(14,"a",10),t._uU(15,"Donor and Partner"),t.qZA(),t.TgZ(16,"a",11),t._uU(17,"Strategic Policies"),t.qZA()()()()()()(),t._UZ(18,"router-outlet")),2&e&&(t.xp6(6),t.Q6J("routerLinkActiveOptions",t.DdM(1,It)))},dependencies:[_.lC,_.yS,_.Od],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background-color:#058fcb}.nav-import-bg[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:10px}.nav-import[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:19px;color:#9e9e9e;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;gap:10px}select[_ngcontent-%COMP%]{border:none;width:9em;padding-left:5px;color:#024664}.borderlist[_ngcontent-%COMP%]{list-style-position:inside;border:1px solid black}"]}),i})();var D=p(6228),Ut=p(4519);let J=(()=>{class i{constructor(e,r){this.httpClient=e,this.auth=r,this.url=c.N.apiURL+"/domain"}getAll(){return this.httpClient.get(this.url)}find(e){return this.httpClient.get(this.url+"/"+e)}create(e){return this.httpClient.post(this.url,e,{headers:this.auth.headerOptions()})}update(e,r){return this.httpClient.put(this.url+"/"+e,r,{headers:this.auth.headerOptions()})}delete(e){return this.httpClient.delete(this.url+"/"+e,{headers:this.auth.headerOptions()})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(m.eN),t.LFG(Ut.Z))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var N=p(5266);function Jt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Domain Name is Required"),t.qZA())}function Nt(i,s){if(1&i&&(t.TgZ(0,"div",32),t.YNc(1,Jt,2,0,"p",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors.required)}}function St(i,s){1&i&&(t.TgZ(0,"button",34),t._uU(1,"Submit"),t.qZA())}function wt(i,s){1&i&&(t.TgZ(0,"button",34),t._uU(1,"Update"),t.qZA())}function kt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"ul",35)(5,"li",36)(6,"a",37),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.findDomain(n.id))}),t._UZ(7,"i",38),t.qZA()(),t.TgZ(8,"li",36)(9,"a",37),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.removeDomain(n.id))}),t._UZ(10,"i",39),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.name)}}function Yt(i,s){if(1&i&&(t.TgZ(0,"option",40),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ot(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Domain is Required"),t.qZA())}function Qt(i,s){if(1&i&&(t.TgZ(0,"div",32),t.YNc(1,Ot,2,0,"p",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.domainId.errors.required)}}function Dt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Subdomain Name is Required"),t.qZA())}function zt(i,s){if(1&i&&(t.TgZ(0,"div",32),t.YNc(1,Dt,2,0,"p",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.name.errors.required)}}function Mt(i,s){1&i&&(t.TgZ(0,"button",34),t._uU(1,"Submit"),t.qZA())}function Pt(i,s){1&i&&(t.TgZ(0,"button",34),t._uU(1,"Update"),t.qZA())}function Et(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"ul",35)(7,"li",36)(8,"a",37),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.findSubdomain(n.id))}),t._UZ(9,"i",38),t.qZA()(),t.TgZ(10,"li",36)(11,"a",37),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.removeSubdomain(n.id))}),t._UZ(12,"i",39),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.domainId),t.xp6(2),t.Oqu(e.name)}}const S=function(i){return{"is-invalid":i}};let Rt=(()=>{class i{constructor(e,r,a,n,d,f){this.service=e,this.serviceDomain=r,this.serviceSubdomain=a,this.toastr=n,this.spinner=d,this.fb=f,this.Form1submitted=!1,this.Form2submitted=!1}ngOnInit(){this.getAllDomain(),this.getAllSubdomain(),this.Form1=this.fb.group({name:["",o.kI.required]}),this.Form2=this.fb.group({domainId:["",o.kI.required],name:["",o.kI.required]})}getAllDomain(){this.serviceDomain.getAll().subscribe(e=>{this.domains=e})}getAllSubdomain(){this.serviceSubdomain.getAll().subscribe(e=>{this.subdomains=e})}get f(){return this.Form1.controls}submitForm1(){this.Form1submitted=!0,!this.Form1.invalid&&(this.isAddDomain?(this.updateDomain(),this.isAddDomain=!1):this.addDomain(),this.Form1submitted=!1,this.Form1.reset())}get f2(){return this.Form2.controls}submitForm2(){this.Form2submitted=!0,!this.Form2.invalid&&(this.isAddSubdomain?(this.updateSubdomain(),this.isAddSubdomain=!1):this.addSubdomain(),this.Form2submitted=!1,this.Form2.reset())}addDomain(){this.spinner.show(),this.serviceDomain.create(this.Form1.value).subscribe({next:()=>{this.getAllDomain()},error:e=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error"),console.log(e)},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}findDomain(e){this.spinner.show(),this.serviceDomain.find(e).subscribe(r=>{this.Form1.patchValue(r),this.spinner.hide()}),this.idDomain=e,this.isAddDomain=!0}updateDomain(){this.spinner.show(),this.serviceDomain.update(this.idDomain,this.Form1.value).subscribe({next:()=>{this.getAllDomain()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}removeDomain(e){this.spinner.show(),this.serviceDomain.delete(e).subscribe({next:()=>{this.getAllDomain()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.Form1.reset(),this.isAddDomain=!1,this.Form1submitted=!1}addSubdomain(){this.spinner.show(),this.serviceSubdomain.create(this.Form2.value).subscribe({next:()=>{this.getAllSubdomain()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}findSubdomain(e){this.spinner.show(),this.serviceSubdomain.find(e).subscribe(r=>{this.Form2.patchValue(r),this.spinner.hide()}),this.idSubdomain=e,this.isAddSubdomain=!0}updateSubdomain(){this.spinner.show(),this.serviceSubdomain.update(this.idSubdomain,this.Form2.value).subscribe({next:()=>{this.getAllSubdomain()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}removeSubdomain(e){this.spinner.show(),this.serviceSubdomain.delete(e).subscribe({next:()=>{this.getAllSubdomain()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.Form2.reset(),this.isAddSubdomain=!1,this.Form2submitted=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.f),t.Y36(J),t.Y36(N.$),t.Y36(u._W),t.Y36(h.t2),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-domain"]],decls:69,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-4","shadow-sm",2,"background-color","#f1f1f1"],[1,"card-body"],[1,"row","py-2"],[1,"col-4"],[1,"card","mb-3",2,"background-color","transparent","border","none"],[1,"card-body","py-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","name","rows","3",1,"form-control","mb-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"col-8"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[1,"card","mb-4","shadow-sm"],[1,"col-12"],[1,"card","mb-3"],[1,"card-body","py-2",2,"background-color","#fbfbfb"],[1,"col-sm-6","mb-4"],["formControlName","domainId",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","name","rows","3",1,"form-control",3,"ngClass"],[1,"card-body","py-4",2,"background-color","#fbfbfb"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"],[3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"CRUD - Domain"),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"form",12),t.NdJ("ngSubmit",function(){return r.submitForm1()}),t.TgZ(14,"div",13)(15,"label"),t._uU(16,"Domain Name"),t.qZA(),t._UZ(17,"textarea",14),t.YNc(18,Nt,2,1,"div",15),t.qZA(),t.YNc(19,St,2,0,"button",16),t.YNc(20,wt,2,0,"button",16),t.qZA()()()(),t.TgZ(21,"div",17)(22,"div",10)(23,"div",18)(24,"table",19)(25,"thead",20)(26,"tr")(27,"th"),t._uU(28,"Domain Name"),t.qZA(),t.TgZ(29,"th",21),t._uU(30,"Action"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,kt,11,1,"tr",22),t.qZA()()()()()()()(),t.TgZ(33,"h4",5),t._uU(34,"CRUD - Subdomain"),t.qZA(),t.TgZ(35,"div",23)(36,"div",7)(37,"div",8)(38,"div",24)(39,"div",25)(40,"div",26)(41,"form",12),t.NdJ("ngSubmit",function(){return r.submitForm2()}),t.TgZ(42,"div",27)(43,"label"),t._uU(44,"Domain"),t.qZA(),t.TgZ(45,"select",28),t.YNc(46,Yt,2,2,"option",29),t.qZA(),t.YNc(47,Qt,2,1,"div",15),t.qZA(),t.TgZ(48,"div",13)(49,"label"),t._uU(50,"Subdomain Name"),t.qZA(),t._UZ(51,"textarea",30),t.YNc(52,zt,2,1,"div",15),t.qZA(),t.YNc(53,Mt,2,0,"button",16),t.YNc(54,Pt,2,0,"button",16),t.qZA()()()(),t.TgZ(55,"div",24)(56,"div",25)(57,"div",31)(58,"table",19)(59,"thead",20)(60,"tr")(61,"th",21),t._uU(62,"Domain"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"Subdomain Name"),t.qZA(),t.TgZ(65,"th",21),t._uU(66,"Action"),t.qZA()()(),t.TgZ(67,"tbody"),t.YNc(68,Et,13,2,"tr",22),t.qZA()()()()()()()()()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",r.Form1),t.xp6(4),t.Q6J("ngClass",t.VKq(18,S,r.Form1submitted&&r.f.name.errors)),t.xp6(1),t.Q6J("ngIf",r.Form1submitted&&r.f.name.errors),t.xp6(1),t.Q6J("ngIf",!r.isAddDomain),t.xp6(1),t.Q6J("ngIf",r.isAddDomain),t.xp6(9),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.domains),t.xp6(9),t.Q6J("formGroup",r.Form2),t.xp6(4),t.Q6J("ngClass",t.VKq(20,S,r.Form2submitted&&r.f2.domainId.errors)),t.xp6(1),t.Q6J("ngForOf",r.domains),t.xp6(1),t.Q6J("ngIf",r.Form2submitted&&r.f2.domainId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(22,S,r.Form2submitted&&r.f2.name.errors)),t.xp6(1),t.Q6J("ngIf",r.Form2submitted&&r.f2.name.errors),t.xp6(1),t.Q6J("ngIf",!r.isAddSubdomain),t.xp6(1),t.Q6J("ngIf",r.isAddSubdomain),t.xp6(7),t.Q6J("width",100),t.xp6(4),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.subdomains))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})();var Ht=p(2447);function Kt(i,s){if(1&i&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function $t(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Country Type is Required"),t.qZA())}function Gt(i,s){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,$t,2,0,"p",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.countryId.errors.required)}}function Lt(i,s){if(1&i&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Vt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Hazard Type is Required"),t.qZA())}function Bt(i,s){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,Vt,2,0,"p",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.hazardTypeId.errors.required)}}function Wt(i,s){if(1&i&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function jt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Domain is Required"),t.qZA())}function Xt(i,s){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,jt,2,0,"p",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.domainId.errors.required)}}function te(i,s){if(1&i&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ee(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Partnet Name is Required"),t.qZA())}function ie(i,s){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,ee,2,0,"p",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors.required)}}function re(i,s){1&i&&(t.TgZ(0,"button",30),t._uU(1,"Submit"),t.qZA())}function se(i,s){1&i&&(t.TgZ(0,"button",30),t._uU(1,"Update"),t.qZA())}function oe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"ul",31)(13,"li",32)(14,"a",33),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id,n.domainId))}),t._UZ(15,"i",34),t.qZA()(),t.TgZ(16,"li",32)(17,"a",33),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(18,"i",35),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.countryName),t.xp6(2),t.Oqu(e.hazardTypeName),t.xp6(2),t.Oqu(e.domainName),t.xp6(2),t.Oqu(e.subDomainName),t.xp6(2),t.Oqu(e.name)}}const T=function(i){return{"is-invalid":i}};let ne=(()=>{class i{constructor(e,r,a,n,d,f,x,gr){this.toastr=e,this.spinner=r,this.serviceCountry=a,this.serviceHazardtype=n,this.serviceDomain=d,this.serviceSubdomain=f,this.service=x,this.fb=gr,this.formsubmitted=!1}ngOnInit(){this.getAllCountry(),this.getAllHazardtype(),this.getAllDomain(),this.getAll(),this.form=this.fb.group({countryId:["",o.kI.required],hazardTypeId:["",o.kI.required],domainId:["",o.kI.required],subDomainId:null,name:["",o.kI.required]})}getAllCountry(){this.serviceCountry.getAll().subscribe(e=>{this.countries=e})}getAllHazardtype(){this.serviceHazardtype.getAll().subscribe(e=>{this.hazardtypes=e})}getAllDomain(){this.serviceDomain.getAll().subscribe(e=>{this.domains=e})}onSelectDomain(e){this.idDomain=e.target.value,this.serviceSubdomain.getByDomain(this.idDomain).subscribe(r=>{this.subdomains=r})}getAll(){this.service.getAll().subscribe(e=>{this.donorpartners=e})}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.isAddMode?(this.update(),this.isAddMode=!1):this.create(),this.formsubmitted=!1,this.form.reset(),this.subdomains=[])}find(e,r){this.spinner.show(),this.serviceSubdomain.getByDomain(r).subscribe(a=>{this.subdomains=a}),this.service.find(e).subscribe(a=>{this.form.patchValue(a),this.spinner.hide()}),this.id=e,this.isAddMode=!0}create(){this.spinner.show(),this.service.create(this.form.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}update(){this.spinner.show(),this.service.update(this.id,this.form.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.service.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.form.reset(),this.isAddMode=!1,this.formsubmitted=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(C.T),t.Y36(v.$),t.Y36(J),t.Y36(N.$),t.Y36(Ht.P),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-donorpartner"]],decls:62,vars:30,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"card","mb-3"],[1,"card-body","py-2",2,"background-color","#fbfbfb"],[3,"formGroup","ngSubmit"],[1,"col-sm-4","mb-3"],["formControlName","countryId",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","hazardTypeId",1,"form-select",3,"ngClass"],[1,"mb-3"],["formControlName","domainId",1,"form-select",3,"ngClass","change"],["val",""],["formControlName","subDomainId",1,"form-select",3,"ngClass"],["formControlName","name","rows","3",1,"form-control","mb-2",3,"ngClass"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"CRUD - Donor and Partner"),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"form",10),t.NdJ("ngSubmit",function(){return r.submitForm()}),t.TgZ(12,"div",11)(13,"label"),t._uU(14,"Counrty"),t.qZA(),t.TgZ(15,"select",12),t.YNc(16,Kt,2,2,"option",13),t.qZA(),t.YNc(17,Gt,2,1,"div",14),t.qZA(),t.TgZ(18,"div",11)(19,"label"),t._uU(20,"HazardType"),t.qZA(),t.TgZ(21,"select",15),t.YNc(22,Lt,2,2,"option",13),t.qZA(),t.YNc(23,Bt,2,1,"div",14),t.qZA(),t.TgZ(24,"div",16)(25,"label"),t._uU(26,"Domain"),t.qZA(),t.TgZ(27,"select",17,18),t.NdJ("change",function(n){return r.onSelectDomain(n)}),t.YNc(29,Wt,2,2,"option",13),t.qZA(),t.YNc(30,Xt,2,1,"div",14),t.qZA(),t.TgZ(31,"div",16)(32,"label"),t._uU(33,"Subdomain"),t.qZA(),t.TgZ(34,"select",19),t.YNc(35,te,2,2,"option",13),t.qZA()(),t.TgZ(36,"div",16)(37,"label"),t._uU(38,"Partner Name"),t.qZA(),t._UZ(39,"textarea",20),t.YNc(40,ie,2,1,"div",14),t.qZA(),t.YNc(41,re,2,0,"button",21),t.YNc(42,se,2,0,"button",21),t.qZA()()(),t.TgZ(43,"div",8)(44,"div",22)(45,"table",23)(46,"thead",24)(47,"tr")(48,"th",25),t._uU(49,"Country"),t.qZA(),t.TgZ(50,"th",25),t._uU(51,"Hazard Type"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Domain"),t.qZA(),t.TgZ(54,"th"),t._uU(55,"Subdomain"),t.qZA(),t.TgZ(56,"th"),t._uU(57,"Partner"),t.qZA(),t.TgZ(58,"th",25),t._uU(59,"Action"),t.qZA()()(),t.TgZ(60,"tbody"),t.YNc(61,oe,19,5,"tr",26),t.qZA()()()()()()()()()()()),2&e&&(t.xp6(11),t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("ngClass",t.VKq(20,T,r.formsubmitted&&r.f.countryId.errors)),t.xp6(1),t.Q6J("ngForOf",r.countries),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.countryId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(22,T,r.formsubmitted&&r.f.hazardTypeId.errors)),t.xp6(1),t.Q6J("ngForOf",r.hazardtypes),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.hazardTypeId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(24,T,r.formsubmitted&&r.f.domainId.errors)),t.xp6(2),t.Q6J("ngForOf",r.domains),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.domainId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(26,T,r.formsubmitted&&r.f.subDomainId.errors)),t.xp6(1),t.Q6J("ngForOf",r.subdomains),t.xp6(4),t.Q6J("ngClass",t.VKq(28,T,r.formsubmitted&&r.f.name.errors)),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.name.errors),t.xp6(1),t.Q6J("ngIf",!r.isAddMode),t.xp6(1),t.Q6J("ngIf",r.isAddMode),t.xp6(6),t.Q6J("width",100),t.xp6(2),t.Q6J("width",120),t.xp6(8),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.donorpartners))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})();function ae(i,s){if(1&i&&(t.TgZ(0,"option",29),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function de(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Plan is Required"),t.qZA())}function ce(i,s){if(1&i&&(t.TgZ(0,"div",30),t.YNc(1,de,2,0,"p",31),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.planId.errors.required)}}function le(i,s){if(1&i&&(t.TgZ(0,"option",29),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pe(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Hazard Type is Required"),t.qZA())}function ue(i,s){if(1&i&&(t.TgZ(0,"div",30),t.YNc(1,pe,2,0,"p",31),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.hazardTypeId.errors.required)}}function me(i,s){if(1&i&&(t.TgZ(0,"option",29),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function he(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Hazard Type is Required"),t.qZA())}function fe(i,s){if(1&i&&(t.TgZ(0,"div",30),t.YNc(1,he,2,0,"p",31),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.planTypeId.errors.required)}}function _e(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Action is Required"),t.qZA())}function ge(i,s){if(1&i&&(t.TgZ(0,"div",30),t.YNc(1,_e,2,0,"p",31),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.action.errors.required)}}function be(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Estimated Cost is Required"),t.qZA())}function ve(i,s){if(1&i&&(t.TgZ(0,"div",30),t.YNc(1,be,2,0,"p",31),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.estimatedCost.errors.required)}}function Ze(i,s){1&i&&(t.TgZ(0,"button",32),t._uU(1,"Submit"),t.qZA())}function Ce(i,s){1&i&&(t.TgZ(0,"button",32),t._uU(1,"Update"),t.qZA())}function Ae(i,s){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e.planType.name)}}function Te(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.YNc(6,Ae,2,1,"div",28),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td")(13,"ul",33)(14,"li",34)(15,"a",35),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw(),f=t.MAs(5);return d.find(n.id),t.KtG(d.scroll(f))}),t._UZ(16,"i",36),t.qZA()(),t.TgZ(17,"li",34)(18,"a",35),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(19,"i",37),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.hij(" ",e.plan?e.plan.name:"-"," "),t.xp6(2),t.Oqu(e.hazardType?e.hazardType.name:"-"),t.xp6(2),t.Q6J("ngForOf",e.sourceResponsePlans),t.xp6(2),t.Oqu(e.action),t.xp6(2),t.Oqu(t.lcZ(11,5,e.estimatedCost))}}const y=function(i){return{"is-invalid":i}};let ye=(()=>{class i{constructor(e,r,a,n,d){this.service=e,this.serviceHazrd=r,this.fb=a,this.toastr=n,this.spinner=d,this.formsubmitted=!1}ngOnInit(){this.clearForm(),this.getAll(),this.getPlan(),this.getPlantype(),this.getHazardtype(),this.form=this.fb.group({planId:["",o.kI.required],hazardTypeId:["",o.kI.required],planTypeId:["",o.kI.required],action:["",o.kI.required],estimatedCost:["",o.kI.required]})}getPlan(){this.service.getPlan().subscribe(e=>{this.plans=e})}getPlantype(){this.service.getPlantype().subscribe(e=>{this.plantypes=e})}getHazardtype(){this.serviceHazrd.getAll().subscribe(e=>{this.hazardTypes=e})}clearForm(){this.draftresponse={action:null,estimatedCost:null}}getAll(){this.service.getDrafresponse().subscribe(e=>{this.draftresponses=e})}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.isAddMode?(this.update(),this.isAddMode=!1):this.create(),this.formsubmitted=!1,this.form.reset())}find(e){this.spinner.show(),this.service.findDrafresponse(e).subscribe(r=>{this.form.patchValue({planId:r.planId,hazardTypeId:r.hazardType?r.hazardType.id:0,planTypeId:r.sourceResponsePlans[0]?r.sourceResponsePlans[0].planType.id:0,action:r.action,estimatedCost:r.estimatedCost}),this.spinner.hide()}),this.id=e,this.isAddMode=!0}create(){let e={planId:this.form.value.planId,hazardTypeId:this.form.value.hazardTypeId,sourceResponsePlans:[{planTypeId:this.form.value.planTypeId}],action:this.form.value.action,estimatedCost:this.form.value.estimatedCost};this.spinner.show(),this.service.createDrafresponse(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}update(){let e={planId:this.form.value.planId,hazardTypeId:this.form.value.hazardTypeId,sourceResponsePlans:[{draftResponseId:this.id,planTypeId:this.form.value.planTypeId}],action:this.form.value.action,estimatedCost:this.form.value.estimatedCost};this.spinner.show(),this.service.updateDrafresponse(this.id,e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.service.deleteDrafresponse(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.form.reset(),this.isAddMode=!1,this.formsubmitted=!1}scroll(e){var n=e.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:n,behavior:"smooth"})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.f),t.Y36(v.$),t.Y36(o.qu),t.Y36(u._W),t.Y36(h.t2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-draftresponse"]],decls:62,vars:27,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],["scrollup",""],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"card","mb-3"],[1,"card-body","py-2",2,"background-color","#fbfbfb"],[3,"formGroup","ngSubmit"],[1,"col-sm-4","mb-3"],["formControlName","planId",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","hazardTypeId",1,"form-select",3,"ngClass"],["formControlName","planTypeId",1,"form-select",3,"ngClass"],[1,"mb-3"],["formControlName","action","rows","3",1,"form-control","mb-2",3,"ngClass"],["formControlName","estimatedCost","type","number","rows","3",1,"form-control","mb-2",3,"ngClass"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],["width","100px"],["width","50%"],["width","100px",1,"text-center"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5)(6,"h4",6),t._uU(7,"CRUD - Draft Response"),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"form",11),t.NdJ("ngSubmit",function(){return r.submitForm()}),t.TgZ(13,"div",12)(14,"label"),t._uU(15,"Plan"),t.qZA(),t.TgZ(16,"select",13),t.YNc(17,ae,2,2,"option",14),t.qZA(),t.YNc(18,ce,2,1,"div",15),t.qZA(),t.TgZ(19,"div",12)(20,"label"),t._uU(21,"HazardType"),t.qZA(),t.TgZ(22,"select",16),t.YNc(23,le,2,2,"option",14),t.qZA(),t.YNc(24,ue,2,1,"div",15),t.qZA(),t.TgZ(25,"div",12)(26,"label"),t._uU(27,"Plan Type"),t.qZA(),t.TgZ(28,"select",17),t.YNc(29,me,2,2,"option",14),t.qZA(),t.YNc(30,fe,2,1,"div",15),t.qZA(),t.TgZ(31,"div",18)(32,"label"),t._uU(33,"Action"),t.qZA(),t._UZ(34,"textarea",19),t.YNc(35,ge,2,1,"div",15),t.qZA(),t.TgZ(36,"div",18)(37,"label"),t._uU(38,"Estimated Cost"),t.qZA(),t._UZ(39,"input",20),t.YNc(40,ve,2,1,"div",15),t.qZA(),t.YNc(41,Ze,2,0,"button",21),t.YNc(42,Ce,2,0,"button",21),t.qZA()()(),t.TgZ(43,"div",9)(44,"div",22)(45,"table",23)(46,"thead",24)(47,"tr")(48,"th",25),t._uU(49,"Plan"),t.qZA(),t.TgZ(50,"th",25),t._uU(51,"Hazard"),t.qZA(),t.TgZ(52,"th",25),t._uU(53,"PlanType"),t.qZA(),t.TgZ(54,"th",26),t._uU(55,"Action"),t.qZA(),t.TgZ(56,"th"),t._uU(57,"Estimated Cost"),t.qZA(),t.TgZ(58,"th",27),t._uU(59,"Action"),t.qZA()()(),t.TgZ(60,"tbody"),t.YNc(61,Te,20,7,"tr",28),t.qZA()()()()()()()()()()()),2&e&&(t.xp6(12),t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("ngClass",t.VKq(17,y,r.formsubmitted&&r.f.planId.errors)),t.xp6(1),t.Q6J("ngForOf",r.plans),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.planId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(19,y,r.formsubmitted&&r.f.hazardTypeId.errors)),t.xp6(1),t.Q6J("ngForOf",r.hazardTypes),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.hazardTypeId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(21,y,r.formsubmitted&&r.f.planTypeId.errors)),t.xp6(1),t.Q6J("ngForOf",r.plantypes),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.planTypeId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(23,y,r.formsubmitted&&r.f.action.errors)),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.action.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(25,y,r.formsubmitted&&r.f.estimatedCost.errors)),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.estimatedCost.errors),t.xp6(1),t.Q6J("ngIf",!r.isAddMode),t.xp6(1),t.Q6J("ngIf",r.isAddMode),t.xp6(19),t.Q6J("ngForOf",r.draftresponses))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.JJ,o.JL,o.sg,o.u,l.JJ]}),i})();function qe(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Name is Required"),t.qZA())}function xe(i,s){if(1&i&&(t.TgZ(0,"div",23),t.YNc(1,qe,2,0,"p",24),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors.required)}}function Ie(i,s){1&i&&(t.TgZ(0,"button",25),t._uU(1,"Submit"),t.qZA())}function Fe(i,s){1&i&&(t.TgZ(0,"button",25),t._uU(1,"Update"),t.qZA())}function Ue(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"ul",26)(5,"li",27)(6,"a",28),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id))}),t._UZ(7,"i",29),t.qZA()(),t.TgZ(8,"li",27)(9,"a",28),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(10,"i",30),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.name)}}const Je=function(i){return{"is-invalid":i}};let Ne=(()=>{class i{constructor(e,r,a,n){this.toastr=e,this.spinner=r,this.fb=a,this.serviceHazardType=n,this.Form1submitted=!1}ngOnInit(){this.getAll(),this.Form1=this.fb.group({name:["",o.kI.required]})}getAll(){this.serviceHazardType.getAll().subscribe(e=>{this.hazardTypes=e})}get f(){return this.Form1.controls}submitForm1(){this.Form1submitted=!0,!this.Form1.invalid&&(this.isAdd?(this.update(),this.isAdd=!1):this.add(),this.Form1submitted=!1,this.Form1.reset())}add(){this.spinner.show(),this.serviceHazardType.create(this.Form1.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}find(e){this.spinner.show(),this.serviceHazardType.find(e).subscribe(r=>{this.Form1.patchValue(r),this.spinner.hide()}),this.idAssesment=e,this.isAdd=!0}update(){this.spinner.show(),this.serviceHazardType.update(this.idAssesment,this.Form1.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.serviceHazardType.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.Form1.reset(),this.isAdd=!1,this.Form1submitted=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(o.qu),t.Y36(v.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-hazard-type"]],decls:33,vars:9,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-4","shadow-sm",2,"background-color","#f1f1f1"],[1,"card-body"],[1,"row","py-2"],[1,"col-4"],[1,"card","mb-3",2,"background-color","transparent","border","none"],[1,"card-body","py-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","name","rows","2",1,"form-control","mb-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"col-8"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"Hazard Type"),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"form",12),t.NdJ("ngSubmit",function(){return r.submitForm1()}),t.TgZ(14,"div",13)(15,"label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"textarea",14),t.YNc(18,xe,2,1,"div",15),t.qZA(),t.YNc(19,Ie,2,0,"button",16),t.YNc(20,Fe,2,0,"button",16),t.qZA()()()(),t.TgZ(21,"div",17)(22,"div",10)(23,"div",18)(24,"table",19)(25,"thead",20)(26,"tr")(27,"th"),t._uU(28,"Name"),t.qZA(),t.TgZ(29,"th",21),t._uU(30,"Action"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,Ue,11,1,"tr",22),t.qZA()()()()()()()()()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",r.Form1),t.xp6(4),t.Q6J("ngClass",t.VKq(7,Je,r.Form1submitted&&r.f.name.errors)),t.xp6(1),t.Q6J("ngIf",r.Form1submitted&&r.f.name.errors),t.xp6(1),t.Q6J("ngIf",!r.isAdd),t.xp6(1),t.Q6J("ngIf",r.isAdd),t.xp6(9),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.hazardTypes))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]}),i})();var Se=p(1857);function we(i,s){if(1&i&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ke(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Hazard Type is Required"),t.qZA())}function Ye(i,s){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,ke,2,0,"p",27),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.hazardTypeId.errors.required)}}function Oe(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Title is Required"),t.qZA())}function Qe(i,s){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,Oe,2,0,"p",27),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.title.errors.required)}}function De(i,s){if(1&i&&(t.TgZ(0,"div",28),t._UZ(1,"img",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("src",e.imageSrc,t.LSH)}}function ze(i,s){1&i&&(t.TgZ(0,"button",30),t._uU(1,"Submit"),t.qZA())}function Me(i,s){1&i&&(t.TgZ(0,"button",30),t._uU(1,"Update"),t.qZA())}function Pe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"img",31),t.qZA(),t.TgZ(9,"td")(10,"ul",32)(11,"li",33)(12,"a",34),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id))}),t._UZ(13,"i",35),t.qZA()(),t.TgZ(14,"li",33)(15,"a",34),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(16,"i",36),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.hazardType.name),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.content),t.xp6(2),t.s9C("src",e.image,t.LSH)}}const z=function(i){return{"is-invalid":i}};let Ee=(()=>{class i{constructor(e,r,a,n,d){this.toastr=e,this.spinner=r,this.serviceHazardtype=a,this.serviceNews=n,this.fb=d,this.imageSrc=null,this.formsubmitted=!1}ngOnInit(){this.getAllHazardtype(),this.getAll(),this.form=this.fb.group({hazardTypeId:["",o.kI.required],title:["",o.kI.required],content:[""],image:null})}getAllHazardtype(){this.serviceHazardtype.getAll().subscribe(e=>{this.hazardtypes=e})}getAll(){this.serviceNews.getAll().subscribe(e=>{this.news=e})}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.isAddMode?(this.update(),this.isAddMode=!1):this.create(),this.formsubmitted=!1,this.form.reset(),this.imageSrc=null)}find(e){this.spinner.show(),this.serviceNews.find(e).subscribe(r=>{this.form.patchValue(r),this.spinner.hide()}),this.id=e,this.isAddMode=!0}create(){this.spinner.show(),this.serviceNews.create(this.form.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}update(){this.spinner.show(),this.serviceNews.update(this.id,this.form.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.serviceNews.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.form.reset(),this.isAddMode=!1,this.formsubmitted=!1}onFileChange(e){const r=new FileReader;if(e.target.files&&e.target.files.length){const[a]=e.target.files;r.readAsDataURL(a),r.onload=()=>{this.imageSrc=r.result,this.form.patchValue({image:r.result}),e.target.value=null}}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(v.$),t.Y36(Se.Y),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-news"]],decls:49,vars:17,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-3","shadow-sm"],[1,"card-body","py-2",2,"background-color","#fbfbfb"],[3,"formGroup","ngSubmit"],[1,"col-sm-4","mb-3"],["formControlName","hazardTypeId",1,"form-select","fs-12",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"mb-3"],["formControlName","title","rows","3",1,"form-control","mb-2","fs-12",3,"ngClass"],["formControlName","content","rows","3",1,"form-control","mb-2","fs-12"],[1,"col-sm-4","mb-3","fs-12"],["class","my-2",4,"ngIf"],["type","file","accept","image/*",1,"form-control","fs-12",3,"change"],["type","submit","class","btn btn-primary fs-12",4,"ngIf"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"my-2"],["alt","Image Preview",1,"img-fluid",2,"height","100px",3,"src"],["type","submit",1,"btn","btn-primary","fs-12"],["alt","Image Preview",1,"img-fluid",2,"width","120px",3,"src"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"CRUD - News"),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"form",8),t.NdJ("ngSubmit",function(){return r.submitForm()}),t.TgZ(10,"div",9)(11,"label"),t._uU(12,"HazardType"),t.qZA(),t.TgZ(13,"select",10),t.YNc(14,we,2,2,"option",11),t.qZA(),t.YNc(15,Ye,2,1,"div",12),t.qZA(),t.TgZ(16,"div",13)(17,"label"),t._uU(18,"Title"),t.qZA(),t._UZ(19,"textarea",14),t.YNc(20,Qe,2,1,"div",12),t.qZA(),t.TgZ(21,"div",13)(22,"label"),t._uU(23,"Content"),t.qZA(),t._UZ(24,"textarea",15),t.qZA(),t.TgZ(25,"div",16)(26,"label"),t._uU(27,"Image"),t.qZA(),t.YNc(28,De,2,1,"div",17),t.TgZ(29,"input",18),t.NdJ("change",function(n){return r.onFileChange(n)}),t.qZA()(),t.YNc(30,ze,2,0,"button",19),t.YNc(31,Me,2,0,"button",19),t.qZA()()(),t.TgZ(32,"div",6)(33,"div",20)(34,"table",21)(35,"thead",22)(36,"tr")(37,"th",23),t._uU(38,"Hazard Type"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Title"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Content"),t.qZA(),t.TgZ(43,"th",23),t._uU(44,"Image"),t.qZA(),t.TgZ(45,"th",23),t._uU(46,"Action"),t.qZA()()(),t.TgZ(47,"tbody"),t.YNc(48,Pe,17,4,"tr",24),t.qZA()()()()()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("ngClass",t.VKq(13,z,r.formsubmitted&&r.f.hazardTypeId.errors)),t.xp6(1),t.Q6J("ngForOf",r.hazardtypes),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.hazardTypeId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(15,z,r.formsubmitted&&r.f.title.errors)),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.title.errors),t.xp6(8),t.Q6J("ngIf",r.imageSrc),t.xp6(2),t.Q6J("ngIf",!r.isAddMode),t.xp6(1),t.Q6J("ngIf",r.isAddMode),t.xp6(6),t.Q6J("width",120),t.xp6(6),t.Q6J("width",120),t.xp6(2),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.news))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})();var Re=p(3488);function He(i,s){if(1&i&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ke(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Country is Required"),t.qZA())}function $e(i,s){if(1&i&&(t.TgZ(0,"div",29),t.YNc(1,Ke,2,0,"p",30),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.countryId.errors.required)}}function Ge(i,s){if(1&i&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Le(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"State is Required"),t.qZA())}function Ve(i,s){if(1&i&&(t.TgZ(0,"div",29),t.YNc(1,Le,2,0,"p",30),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.stateId.errors.required)}}function Be(i,s){if(1&i&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function We(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Organization Name is Required"),t.qZA())}function je(i,s){if(1&i&&(t.TgZ(0,"div",29),t.YNc(1,We,2,0,"p",30),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors.required)}}function Xe(i,s){if(1&i&&(t.TgZ(0,"div",31),t._UZ(1,"img",32),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("src",e.logoSrc,t.LSH)}}function ti(i,s){1&i&&(t.TgZ(0,"button",33),t._uU(1,"Submit"),t.qZA())}function ei(i,s){1&i&&(t.TgZ(0,"button",33),t._uU(1,"Update"),t.qZA())}function ii(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"img",34),t.qZA(),t.TgZ(13,"td")(14,"ul",35)(15,"li",36)(16,"a",37),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw(),f=t.MAs(1);return d.find(n.id,n.country.id,n.state.id),t.KtG(d.scroll(f))}),t._UZ(17,"i",38),t.qZA()(),t.TgZ(18,"li",36)(19,"a",37),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(20,"i",39),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.country.name),t.xp6(2),t.Oqu(e.state.name),t.xp6(2),t.Oqu(e.city?e.city.name:""),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.address),t.xp6(2),t.s9C("src",e.logo,t.LSH)}}const q=function(i){return{"is-invalid":i}};let ri=(()=>{class i{constructor(e,r,a,n,d,f,x){this.toastr=e,this.spinner=r,this.serviceCountry=a,this.serviceState=n,this.serviceCity=d,this.serviceOrganization=f,this.fb=x,this.logoSrc=null,this.formsubmitted=!1}ngOnInit(){this.getAllcountry(),this.getAll(),this.form=this.fb.group({countryId:["",o.kI.required],stateId:["",o.kI.required],cityId:null,name:["",o.kI.required],address:null,logo:null})}getAllcountry(){this.serviceCountry.getAll().subscribe(e=>{this.countries=e})}onSelectCountry(e){this.serviceState.getByCountry(e.value).subscribe(r=>{this.states=r})}onSelectState(e){this.serviceCity.getByState(e.value).subscribe(r=>{this.cities=r})}getAll(){this.serviceOrganization.getAll().subscribe(e=>{this.organizations=e})}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.isAddMode?(this.update(),this.isAddMode=!1):this.create(),this.formsubmitted=!1,this.form.reset(),this.logoSrc=null)}find(e,r,a){this.spinner.show(),this.serviceState.getByCountry(r).subscribe(n=>{this.states=n}),this.serviceCity.getByState(a).subscribe(n=>{this.cities=n}),this.serviceOrganization.find(e).subscribe(n=>{this.form.patchValue({countryId:n.country.id,stateId:n.state.id,cityId:n.city?n.city.id:null,name:n.name,address:n.address}),this.spinner.hide()}),this.id=e,this.isAddMode=!0}create(){this.spinner.show(),this.serviceOrganization.create(this.form.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}update(){this.spinner.show(),this.serviceOrganization.update(this.id,this.form.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.serviceOrganization.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.form.reset(),this.isAddMode=!1,this.formsubmitted=!1}onFileChange(e){const r=new FileReader;if(e.target.files&&e.target.files.length){const[a]=e.target.files;r.readAsDataURL(a),r.onload=()=>{this.logoSrc=r.result,this.form.patchValue({logo:r.result}),e.target.value=null}}}scroll(e){var n=e.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:n,behavior:"smooth"})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(C.T),t.Y36(U.b),t.Y36(O.Z),t.Y36(Re.M),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-organization"]],decls:65,vars:30,consts:[[1,"container","mt-4"],["scrollup",""],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-3","shadow-sm"],[1,"card-body","py-2",2,"background-color","#fbfbfb"],[3,"formGroup","ngSubmit"],[1,"col-sm-4","mb-3"],["formControlName","countryId",1,"form-select","fs-12",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","stateId",1,"form-select","fs-12",3,"ngClass","change"],["formControlName","cityId",1,"form-select","fs-12",3,"ngClass"],[1,"mb-3"],["formControlName","name","rows","3",1,"form-control","mb-2","fs-12",3,"ngClass"],["formControlName","address","rows","3",1,"form-control","mb-2","fs-12",3,"ngClass"],[1,"col-sm-4","mb-3","fs-12"],["class","my-2",4,"ngIf"],["type","file","accept","image/*",1,"form-control","fs-12",3,"change"],["type","submit","class","btn btn-primary fs-12",4,"ngIf"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"my-2"],["alt","Image Preview",1,"img-fluid",2,"height","100px",3,"src"],["type","submit",1,"btn","btn-primary","fs-12"],["alt","Image Preview",1,"img-fluid",2,"height","40px",3,"src"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"CRUD - Organization"),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"form",9),t.NdJ("ngSubmit",function(){return r.submitForm()}),t.TgZ(11,"div",10)(12,"label"),t._uU(13,"Country"),t.qZA(),t.TgZ(14,"select",11),t.NdJ("change",function(n){return r.onSelectCountry(n.target)}),t.YNc(15,He,2,2,"option",12),t.qZA(),t.YNc(16,$e,2,1,"div",13),t.qZA(),t.TgZ(17,"div",10)(18,"label"),t._uU(19,"State"),t.qZA(),t.TgZ(20,"select",14),t.NdJ("change",function(n){return r.onSelectState(n.target)}),t.YNc(21,Ge,2,2,"option",12),t.qZA(),t.YNc(22,Ve,2,1,"div",13),t.qZA(),t.TgZ(23,"div",10)(24,"label"),t._uU(25,"City"),t.qZA(),t.TgZ(26,"select",15),t.YNc(27,Be,2,2,"option",12),t.qZA()(),t.TgZ(28,"div",16)(29,"label"),t._uU(30,"Organization Name"),t.qZA(),t._UZ(31,"textarea",17),t.YNc(32,je,2,1,"div",13),t.qZA(),t.TgZ(33,"div",16)(34,"label"),t._uU(35,"Address"),t.qZA(),t._UZ(36,"textarea",18),t.qZA(),t.TgZ(37,"div",19)(38,"label"),t._uU(39,"Logo"),t.qZA(),t.YNc(40,Xe,2,1,"div",20),t.TgZ(41,"input",21),t.NdJ("change",function(n){return r.onFileChange(n)}),t.qZA()(),t.YNc(42,ti,2,0,"button",22),t.YNc(43,ei,2,0,"button",22),t.qZA()()(),t.TgZ(44,"div",7)(45,"div",23)(46,"table",24)(47,"thead",25)(48,"tr")(49,"th",26),t._uU(50,"Country"),t.qZA(),t.TgZ(51,"th",26),t._uU(52,"State"),t.qZA(),t.TgZ(53,"th",26),t._uU(54,"City"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Organization"),t.qZA(),t.TgZ(57,"th"),t._uU(58,"Address"),t.qZA(),t.TgZ(59,"th"),t._uU(60,"Logo"),t.qZA(),t.TgZ(61,"th",26),t._uU(62,"Action"),t.qZA()()(),t.TgZ(63,"tbody"),t.YNc(64,ii,21,6,"tr",27),t.qZA()()()()()()()()()),2&e&&(t.xp6(10),t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("ngClass",t.VKq(20,q,r.formsubmitted&&r.f.countryId.errors)),t.xp6(1),t.Q6J("ngForOf",r.countries),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.countryId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(22,q,r.formsubmitted&&r.f.stateId.errors)),t.xp6(1),t.Q6J("ngForOf",r.states),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.stateId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(24,q,r.formsubmitted&&r.f.cityId.errors)),t.xp6(1),t.Q6J("ngForOf",r.cities),t.xp6(4),t.Q6J("ngClass",t.VKq(26,q,r.formsubmitted&&r.f.name.errors)),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.name.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(28,q,r.formsubmitted&&r.f.address.errors)),t.xp6(4),t.Q6J("ngIf",r.logoSrc),t.xp6(2),t.Q6J("ngIf",!r.isAddMode),t.xp6(1),t.Q6J("ngIf",r.isAddMode),t.xp6(6),t.Q6J("width",120),t.xp6(2),t.Q6J("width",150),t.xp6(2),t.Q6J("width",130),t.xp6(8),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.organizations))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})();var si=p(2731);function oi(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Title is required"),t.qZA())}function ni(i,s){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,oi,2,0,"p",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.title.errors.required)}}function ai(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",26)(4,"ul",27)(5,"li",28)(6,"a",29),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.removeMarker(n.id))}),t._UZ(7,"i",30),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.title)}}const di=function(i){return{"is-invalid":i}};let ci=(()=>{class i{constructor(e,r,a,n){this.servicePoeMarker=e,this.formBuilder=r,this.spinner=a,this.toastr=n,this.formSubmitted=!1,this.markerIsNotLoaded=!0,this.pinIcon=L.icon({iconUrl:"./assets/pin.png",iconSize:[32,32]})}get f(){return this.form.controls}initMap(){this.map=L.map("mapEditorPointOfEntry",{center:L.latLng(-2.44565,117.8888),zoom:5}),L.esri.Vector.vectorBasemapLayer("ArcGIS:Streets",{apikey:"AAPK8acc523775224c1f958527e7933989d1v8h60qdvzoYxwZ9tr466u7fbO5fQavRbW40xv-IvbmkZfa6zjTBE-nvzhBOBPaRv"}).addTo(this.map)}getMarkers(){this.servicePoeMarker.getAll().subscribe(e=>{this.markers=e,e.forEach(r=>{let a=L.marker([r.latitude,r.longitude],{icon:this.pinIcon,draggable:!0}).addTo(this.map);a.bindTooltip(r.title),a.on("dragend",n=>{this.servicePoeMarker.update(r.id,{latitude:n.target._latlng.lat,longitude:n.target._latlng.lng}).subscribe()})})})}createMarker(){this.map.remove(),this.spinner.show(),this.servicePoeMarker.create(this.form.value).subscribe({error:()=>{this.spinner.hide(),this.toastr.error("Failed to add!","Error"),this.initMap()},complete:()=>{this.spinner.hide(),this.toastr.success("Marker added successfully!","Success"),this.initMap(),this.getMarkers(),this.clearForm()}})}removeMarker(e){this.map.remove(),this.spinner.show(),this.servicePoeMarker.delete(e).subscribe({error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error"),this.initMap()},complete:()=>{this.spinner.hide(),this.toastr.success("Marker deleted successfully!","Success"),this.initMap(),this.getMarkers(),this.clearForm()}})}clearForm(){this.form=this.formBuilder.group({title:["",o.kI.required],latitude:["-2.44565"],longitude:["117.8888"],countryId:[2]})}ngOnInit(){this.initMap(),this.getMarkers(),this.clearForm()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(si.Z),t.Y36(o.qu),t.Y36(h.t2),t.Y36(u._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-poe-map"]],decls:34,vars:7,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"accordion","shadow-sm","mb-3"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseMapTitle",1,"accordion-button","collapsed","lh-1","fs-14"],[1,"badge","bg-info","me-2"],["id","collapseMapTitle",1,"accordion-collapse","collapse"],[1,"accordion-body","p-4","fs-12"],[1,"col-md-4"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["formControlName","title","type","text",1,"form-control","fs-12",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","fs-12"],[1,"col-md-8"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[1,"card","mb-4","border-0"],[1,"card-body","p-0"],["id","mapEditorPointOfEntry"],[1,"invalid-feedback"],[4,"ngIf"],[1,"text-center"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"button",6),t._UZ(7,"span",7),t._uU(8," Marker Data "),t.qZA()(),t.TgZ(9,"div",8)(10,"div",9)(11,"div",1)(12,"div",10)(13,"form",11),t.NdJ("ngSubmit",function(){return r.createMarker()}),t.TgZ(14,"div",12)(15,"label"),t._uU(16,"Marker Title"),t.qZA(),t._UZ(17,"input",13),t.YNc(18,ni,2,1,"div",14),t.qZA(),t.TgZ(19,"button",15),t._uU(20,"Submit"),t.qZA()()(),t.TgZ(21,"div",16)(22,"table",17)(23,"thead",18)(24,"tr")(25,"th"),t._uU(26,"Marker Title"),t.qZA(),t.TgZ(27,"th",19),t._uU(28,"Action"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,ai,8,1,"tr",20),t.qZA()()()()()()()(),t.TgZ(31,"div",21)(32,"div",22),t._UZ(33,"div",23),t.qZA()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("ngClass",t.VKq(5,di,r.formSubmitted&&r.f.title.errors)),t.xp6(1),t.Q6J("ngIf",r.formSubmitted&&r.f.title.errors),t.xp6(9),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.markers))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:["#mapEditorPointOfEntry[_ngcontent-%COMP%]{width:100%;height:450px}"]}),i})();function li(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Domain Name is required"),t.qZA())}function pi(i,s){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,li,2,0,"p",17),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.name.errors.required)}}function ui(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.add())}),t._uU(1,"Submit"),t.qZA()}}function mi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.update())}),t._uU(1,"Update"),t.qZA()}}function hi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"ul",19)(5,"li",20)(6,"a",21),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id))}),t._UZ(7,"i",22),t.qZA()(),t.TgZ(8,"li",20)(9,"a",21),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(10,"i",23),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.name)}}let fi=(()=>{class i{constructor(e,r){this.service=e,this.fb=r,this.formAction="ADD",this.form=this.fb.group({name:["",o.kI.required]})}ngOnInit(){this.clearForm(),this.getAll()}clearForm(){this.category={name:null}}getAll(){this.service.getAll().subscribe(e=>{this.categories=e})}add(){this.form.valid&&(this.service.create({name:this.category.name}).subscribe(()=>{this.getAll()}),this.form.reset())}find(e){this.service.find(e).subscribe(r=>{this.category=r,this.formAction="EDIT"})}update(){this.form.valid&&(this.service.update(this.category.id,this.category).subscribe(()=>{this.getAll(),this.formAction="ADD"}),this.form.reset())}remove(e){this.service.delete(e).subscribe(()=>{this.getAll()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(F.k),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-readinesscategory"]],decls:24,vars:9,consts:[[1,"container","mb-4"],[1,"flex-row"],[1,"d-flex","justify-content-center"],[1,"card","text-end","me-4",2,"height","260px","width","30rem"],[1,"card-body"],["novalidate","",3,"formGroup"],[1,"card-title"],[1,"card-text"],["formControlName","name","rows","3","required","",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["class","invalid-feedback mb-0",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card-body","p-0","bg-white"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[1,"invalid-feedback","mb-0"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"h5",6),t._uU(7,"Add New Category"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Category Name"),t.qZA(),t.TgZ(10,"textarea",8),t.NdJ("ngModelChange",function(n){return r.category.name=n}),t.qZA(),t.YNc(11,pi,2,1,"div",9),t.YNc(12,ui,2,0,"a",10),t.YNc(13,mi,2,0,"a",10),t.qZA()()(),t.TgZ(14,"div",11)(15,"table",12)(16,"thead",13)(17,"tr")(18,"th"),t._uU(19,"Category Name"),t.qZA(),t.TgZ(20,"th",14),t._uU(21,"Action"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,hi,11,1,"tr",15),t.qZA()()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",r.form),t.xp6(5),t.ekj("is-invalid",r.form.controls.name.errors&&(r.form.controls.name.dirty||r.form.controls.name.touched)),t.Q6J("ngModel",r.category.name),t.xp6(1),t.Q6J("ngIf",r.form.controls.name.errors&&(r.form.controls.name.dirty||r.form.controls.name.touched)),t.xp6(1),t.Q6J("ngIf","ADD"==r.formAction),t.xp6(1),t.Q6J("ngIf","EDIT"==r.formAction),t.xp6(7),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.categories))},dependencies:[l.sg,l.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u]}),i})();var _i=p(9111);function gi(i,s){if(1&i&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function bi(i,s){if(1&i&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function vi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.add())}),t._uU(1,"Submit"),t.qZA()}}function Zi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.update())}),t._uU(1,"Update"),t.qZA()}}function Ci(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"ul",21)(11,"li",22)(12,"a",23),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id))}),t._UZ(13,"i",24),t.qZA()(),t.TgZ(14,"li",22)(15,"a",23),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(16,"i",25),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.nationalCapacityCategoryId),t.xp6(2),t.Oqu(e.function),t.xp6(2),t.Oqu(e.comment),t.xp6(2),t.Oqu(e.action)}}let Ai=(()=>{class i{constructor(e,r,a){this.service=e,this.serviceCategory=r,this.serviceHazardType=a,this.submitted=!1,this.formAction="ADD"}ngOnInit(){this.clearForm(),this.getChecklist(),this.getCategory(),this.getAllHazardType()}getAllHazardType(){this.serviceHazardType.getAll().subscribe(e=>{this.hazardType=e})}getCategory(){this.serviceCategory.getAll().subscribe(e=>{this.categories=e})}clearForm(){this.checklist={nationalCapacityCategoryId:null,function:null,comment:null,action:null,hazardTypeId:null}}getChecklist(){this.service.getAll().subscribe(e=>{this.checklists=e})}add(){this.submitted=!0,this.service.create(this.checklist).subscribe(()=>{this.getChecklist()}),this.clearForm()}find(e){this.service.find(e).subscribe(r=>{this.checklist=r,this.formAction="EDIT"})}update(){this.service.update(this.checklist.id,this.checklist).subscribe(()=>{this.getChecklist(),this.formAction="ADD"}),this.clearForm()}remove(e){this.service.delete(e).subscribe(()=>{this.getChecklist()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_i.D),t.Y36(F.k),t.Y36(v.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-readinesschecklist"]],decls:43,vars:10,consts:[[1,"container","mb-4"],[1,"flex-row"],[1,"d-flex","justify-content-center","mb-4"],[1,"card","me-4",2,"width","50rem"],[1,"card-body"],[1,"card-title"],[1,"form-select","mb-2",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["rows","3",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["class","btn btn-primary","type","submit",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"card-body","p-0","bg-white"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],["width","100px"],["width","100px",1,"text-center"],[4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t._uU(6,"Add Checklist"),t.qZA(),t.TgZ(7,"label"),t._uU(8,"Hazard Type"),t.qZA(),t.TgZ(9,"select",6),t.NdJ("ngModelChange",function(n){return r.checklist.hazardTypeId=n}),t.YNc(10,gi,2,2,"option",7),t.qZA(),t.TgZ(11,"label"),t._uU(12,"Category"),t.qZA(),t.TgZ(13,"select",6),t.NdJ("ngModelChange",function(n){return r.checklist.nationalCapacityCategoryId=n}),t.YNc(14,bi,2,2,"option",7),t.qZA(),t.TgZ(15,"label"),t._uU(16,"Function"),t.qZA(),t.TgZ(17,"textarea",8),t.NdJ("ngModelChange",function(n){return r.checklist.function=n}),t.qZA(),t.TgZ(18,"label"),t._uU(19,"Comment"),t.qZA(),t.TgZ(20,"textarea",8),t.NdJ("ngModelChange",function(n){return r.checklist.comment=n}),t.qZA(),t.TgZ(21,"label"),t._uU(22,"Action"),t.qZA(),t.TgZ(23,"textarea",8),t.NdJ("ngModelChange",function(n){return r.checklist.action=n}),t.qZA(),t.YNc(24,vi,2,0,"a",9),t.YNc(25,Zi,2,0,"a",10),t.qZA()()(),t.TgZ(26,"div",11)(27,"div",12)(28,"table",13)(29,"thead",14)(30,"tr")(31,"th",15),t._uU(32,"Category"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Function"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Comment"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Action"),t.qZA(),t.TgZ(39,"th",16),t._uU(40,"Action"),t.qZA()()(),t.TgZ(41,"tbody"),t.YNc(42,Ci,17,4,"tr",17),t.qZA()()()()()()),2&e&&(t.xp6(9),t.Q6J("ngModel",r.checklist.hazardTypeId),t.xp6(1),t.Q6J("ngForOf",r.hazardType),t.xp6(3),t.Q6J("ngModel",r.checklist.nationalCapacityCategoryId),t.xp6(1),t.Q6J("ngForOf",r.categories),t.xp6(3),t.Q6J("ngModel",r.checklist.function),t.xp6(3),t.Q6J("ngModel",r.checklist.comment),t.xp6(3),t.Q6J("ngModel",r.checklist.action),t.xp6(1),t.Q6J("ngIf","ADD"==r.formAction),t.xp6(1),t.Q6J("ngIf","EDIT"==r.formAction),t.xp6(17),t.Q6J("ngForOf",r.checklists))},dependencies:[l.sg,l.O5,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.On]}),i})();function Ti(i,s){if(1&i&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function yi(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Country is Required"),t.qZA())}function qi(i,s){if(1&i&&(t.TgZ(0,"div",23),t.YNc(1,yi,2,0,"p",24),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.countryId.errors.required)}}function xi(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"State Name is Required"),t.qZA())}function Ii(i,s){if(1&i&&(t.TgZ(0,"div",23),t.YNc(1,xi,2,0,"p",24),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors.required)}}function Fi(i,s){1&i&&(t.TgZ(0,"button",25),t._uU(1,"Submit"),t.qZA())}function Ui(i,s){1&i&&(t.TgZ(0,"button",25),t._uU(1,"Update"),t.qZA())}function Ji(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"ul",26)(7,"li",27)(8,"a",28),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw(),f=t.MAs(1);return d.find(n.id),t.KtG(d.scroll(f))}),t._UZ(9,"i",29),t.qZA()(),t.TgZ(10,"li",27)(11,"a",28),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(12,"i",30),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.country.name),t.xp6(2),t.Oqu(e.name)}}const M=function(i){return{"is-invalid":i}};let Ni=(()=>{class i{constructor(e,r,a,n,d){this.toastr=e,this.spinner=r,this.serviceCountry=a,this.serviceState=n,this.fb=d,this.formsubmitted=!1}ngOnInit(){this.getAllCountry(),this.getAll(),this.form=this.fb.group({countryId:["",o.kI.required],name:["",o.kI.required]})}getAllCountry(){this.serviceCountry.getAll().subscribe(e=>{this.countries=e})}getAll(){this.serviceState.getAll().subscribe(e=>{this.states=e})}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.isAddMode?(this.update(),this.isAddMode=!1):this.create(),this.formsubmitted=!1,this.form.reset())}find(e){this.spinner.show(),this.serviceState.find(e).subscribe(r=>{this.form.patchValue({countryId:r.country.id,name:r.name}),this.spinner.hide()}),this.id=e,this.isAddMode=!0}create(){this.spinner.show(),this.serviceState.create(this.form.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}update(){this.spinner.show(),this.serviceState.update(this.id,this.form.value).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}remove(e){this.spinner.show(),this.serviceState.delete(e).subscribe({next:()=>{this.getAll()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.form.reset(),this.isAddMode=!1,this.formsubmitted=!1}scroll(e){var n=e.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:n,behavior:"smooth"})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u._W),t.Y36(h.t2),t.Y36(C.T),t.Y36(U.b),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-state"]],decls:37,vars:15,consts:[[1,"container","mt-4"],["scrollup",""],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"card","mb-3","shadow-sm"],[1,"card-body","py-2",2,"background-color","#fbfbfb"],[3,"formGroup","ngSubmit"],[1,"col-sm-4","mb-3"],["formControlName","countryId",1,"form-select","fs-12",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"mb-3"],["formControlName","name","rows","3",1,"form-control","mb-2","fs-12",3,"ngClass"],["type","submit","class","btn btn-primary fs-12",4,"ngIf"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","fs-12"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"CRUD - State"),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"form",9),t.NdJ("ngSubmit",function(){return r.submitForm()}),t.TgZ(11,"div",10)(12,"label"),t._uU(13,"Country"),t.qZA(),t.TgZ(14,"select",11),t.YNc(15,Ti,2,2,"option",12),t.qZA(),t.YNc(16,qi,2,1,"div",13),t.qZA(),t.TgZ(17,"div",14)(18,"label"),t._uU(19,"State Name"),t.qZA(),t._UZ(20,"textarea",15),t.YNc(21,Ii,2,1,"div",13),t.qZA(),t.YNc(22,Fi,2,0,"button",16),t.YNc(23,Ui,2,0,"button",16),t.qZA()()(),t.TgZ(24,"div",7)(25,"div",17)(26,"table",18)(27,"thead",19)(28,"tr")(29,"th",20),t._uU(30,"Country"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"State"),t.qZA(),t.TgZ(33,"th",20),t._uU(34,"Action"),t.qZA()()(),t.TgZ(35,"tbody"),t.YNc(36,Ji,13,2,"tr",21),t.qZA()()()()()()()()()),2&e&&(t.xp6(10),t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("ngClass",t.VKq(11,M,r.formsubmitted&&r.f.countryId.errors)),t.xp6(1),t.Q6J("ngForOf",r.countries),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.countryId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(13,M,r.formsubmitted&&r.f.name.errors)),t.xp6(1),t.Q6J("ngIf",r.formsubmitted&&r.f.name.errors),t.xp6(1),t.Q6J("ngIf",!r.isAddMode),t.xp6(1),t.Q6J("ngIf",r.isAddMode),t.xp6(6),t.Q6J("width",200),t.xp6(4),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.states))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})(),Si=(()=>{class i{constructor(e){this.httpClient=e,this.url=c.N.apiURL+"/policycategory"}getAll(){return this.httpClient.get(this.url)}getByCountryAndHazard(e,r){return this.httpClient.get(this.url+"/"+e+"/"+r)}find(e){return this.httpClient.get(this.url+"/"+e)}create(e){return this.httpClient.post(this.url,e)}update(e,r){return this.httpClient.put(this.url+"/"+e,r)}delete(e){return this.httpClient.delete(this.url+"/"+e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(m.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var wi=p(1959);function ki(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Yi(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Country Type is Required"),t.qZA())}function Oi(i,s){if(1&i&&(t.TgZ(0,"div",38),t.YNc(1,Yi,2,0,"p",39),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.countryId.errors.required)}}function Qi(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Di(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Hazard Type is Required"),t.qZA())}function zi(i,s){if(1&i&&(t.TgZ(0,"div",38),t.YNc(1,Di,2,0,"p",39),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.hazardTypeId.errors.required)}}function Mi(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Category Name is Required"),t.qZA())}function Pi(i,s){if(1&i&&(t.TgZ(0,"div",38),t.YNc(1,Mi,2,0,"p",39),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors.required)}}function Ei(i,s){1&i&&(t.TgZ(0,"button",40),t._uU(1,"Submit"),t.qZA())}function Ri(i,s){1&i&&(t.TgZ(0,"button",40),t._uU(1,"Update"),t.qZA())}function Hi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"ul",41)(9,"li",42)(10,"a",43),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.findCategory(n.id))}),t._UZ(11,"i",44),t.qZA()(),t.TgZ(12,"li",42)(13,"a",43),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.removeCategory(n.id))}),t._UZ(14,"i",45),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.countryId),t.xp6(2),t.Oqu(e.hazardTypeId),t.xp6(2),t.Oqu(e.name)}}function Ki(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function $i(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Country Type is Required"),t.qZA())}function Gi(i,s){if(1&i&&(t.TgZ(0,"div",38),t.YNc(1,$i,2,0,"p",39),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.countryId.errors.required)}}function Li(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Vi(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Hazard Type is Required"),t.qZA())}function Bi(i,s){if(1&i&&(t.TgZ(0,"div",38),t.YNc(1,Vi,2,0,"p",39),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.hazardTypeId.errors.required)}}function Wi(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ji(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Category is Required"),t.qZA())}function Xi(i,s){if(1&i&&(t.TgZ(0,"div",38),t.YNc(1,ji,2,0,"p",39),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.policyCategoryId.errors.required)}}function tr(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Policies Name is Required"),t.qZA())}function er(i,s){if(1&i&&(t.TgZ(0,"div",38),t.YNc(1,tr,2,0,"p",39),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.name.errors.required)}}function ir(i,s){1&i&&(t.TgZ(0,"button",40),t._uU(1,"Submit"),t.qZA())}function rr(i,s){1&i&&(t.TgZ(0,"button",40),t._uU(1,"Update"),t.qZA())}function sr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"ul",41)(13,"li",42)(14,"a",43),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.findPolicy(n.id))}),t._UZ(15,"i",44),t.qZA()(),t.TgZ(16,"li",42)(17,"a",43),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.removePolicy(n.id))}),t._UZ(18,"i",45),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.countryId),t.xp6(2),t.Oqu(e.hazardTypeId),t.xp6(2),t.Oqu(e.policyCategoryId),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.file)}}const Z=function(i){return{"is-invalid":i}};let or=(()=>{class i{constructor(e,r,a,n,d,f,x){this.serviceCountry=e,this.serviceHazardtype=r,this.serviceCategory=a,this.servicePolicy=n,this.toastr=d,this.spinner=f,this.fb=x,this.SPForm1submitted=!1,this.SPForm2submitted=!1}ngOnInit(){this.getAllCountry(),this.getAllHazardtype(),this.getAllCategory(),this.getAllPolicy(),this.SPForm1=this.fb.group({countryId:["",o.kI.required],hazardTypeId:["",o.kI.required],name:["",o.kI.required]}),this.SPForm2=this.fb.group({countryId:["",o.kI.required],hazardTypeId:["",o.kI.required],policyCategoryId:["",o.kI.required],name:["",o.kI.required],file:""})}getAllCountry(){this.serviceCountry.getAll().subscribe(e=>{this.countries=e})}getAllHazardtype(){this.serviceHazardtype.getAll().subscribe(e=>{this.hazardtypes=e})}getAllCategory(){this.serviceCategory.getAll().subscribe(e=>{this.categories=e})}getAllPolicy(){this.servicePolicy.getAll().subscribe(e=>{this.policies=e})}get f(){return this.SPForm1.controls}submitSPForm1(){this.SPForm1submitted=!0,!this.SPForm1.invalid&&(this.isAddCategory?(this.updateCategory(),this.isAddCategory=!1):this.addCategory(),this.SPForm1submitted=!1,this.SPForm1.reset())}get f2(){return this.SPForm2.controls}submitSPForm2(){this.SPForm2submitted=!0,!this.SPForm2.invalid&&(this.isAddPolicy?(this.updatePolicy(),this.isAddPolicy=!1):this.addPolicy(),this.SPForm2submitted=!1,this.SPForm2.reset({file:""}))}addCategory(){this.spinner.show(),this.serviceCategory.create(this.SPForm1.value).subscribe({next:()=>{this.getAllCategory()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}findCategory(e){this.spinner.show(),this.serviceCategory.find(e).subscribe(r=>{this.SPForm1.patchValue(r),this.spinner.hide()}),this.idCategory=e,this.isAddCategory=!0}updateCategory(){this.spinner.show(),this.serviceCategory.update(this.idCategory,this.SPForm1.value).subscribe({next:()=>{this.getAllCategory()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}removeCategory(e){this.spinner.show(),this.serviceCategory.delete(e).subscribe({next:()=>{this.getAllCategory()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.SPForm1.reset(),this.isAddCategory=!1,this.SPForm1submitted=!1}addPolicy(){this.spinner.show(),this.servicePolicy.create(this.SPForm2.value).subscribe({next:()=>{this.getAllPolicy()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}})}findPolicy(e){this.spinner.show(),this.servicePolicy.find(e).subscribe(r=>{this.SPForm2.patchValue({countryId:r.countryId,hazardTypeId:r.hazardTypeId,policyCategoryId:r.policyCategoryId,name:r.name,file:""}),this.spinner.hide()}),this.idPolicy=e,this.isAddPolicy=!0}updatePolicy(){this.spinner.show(),this.servicePolicy.update(this.idPolicy,this.SPForm2.value).subscribe({next:()=>{this.getAllPolicy()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to update!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data updated successfully!","Success")}})}removePolicy(e){this.spinner.show(),this.servicePolicy.delete(e).subscribe({next:()=>{this.getAllPolicy()},error:()=>{this.spinner.hide(),this.toastr.error("Failed to delete!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data deleted successfully!","Success")}}),this.SPForm2.reset({file:""}),this.isAddPolicy=!1,this.SPForm2submitted=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.T),t.Y36(v.$),t.Y36(Si),t.Y36(wi.d),t.Y36(u._W),t.Y36(h.t2),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-strategicpolicies"]],decls:107,vars:48,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12","fs-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"card","mb-4","shadow-sm","mt-4",2,"background-color","#f1f1f1"],[1,"card-body"],[1,"py-2","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],[1,"row","py-2"],[1,"col-4"],[1,"card","mb-3",2,"background-color","transparent","border","none"],[1,"card-body","py-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","countryId",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","hazardTypeId",1,"form-select",3,"ngClass"],["formControlName","name","rows","3",1,"form-control","mb-2",3,"ngClass"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"col-8"],[1,"card-body","py-4"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[1,"card","mb-4","shadow-sm"],[1,"col-12"],[1,"card","mb-3"],[1,"card-body","py-2",2,"background-color","#fbfbfb"],[1,"col-sm-4","mb-3"],[1,"col-sm-6","mb-4"],["formControlName","policyCategoryId",1,"form-select",3,"ngClass"],["formControlName","name","rows","3",1,"form-control",3,"ngClass"],[1,"col-sm-6","mb-3"],["formControlName","file","type","file","accept","application/pdf",1,"form-control"],[1,"card-body","py-4",2,"background-color","#fbfbfb"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h6",7),t._uU(8,"Strategic Policies - Category"),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"form",12),t.NdJ("ngSubmit",function(){return r.submitSPForm1()}),t.TgZ(14,"div",13)(15,"label"),t._uU(16,"Counrty"),t.qZA(),t.TgZ(17,"select",14),t.YNc(18,ki,2,2,"option",15),t.qZA(),t.YNc(19,Oi,2,1,"div",16),t.qZA(),t.TgZ(20,"div",13)(21,"label"),t._uU(22,"HazardType"),t.qZA(),t.TgZ(23,"select",17),t.YNc(24,Qi,2,2,"option",15),t.qZA(),t.YNc(25,zi,2,1,"div",16),t.qZA(),t.TgZ(26,"div",13)(27,"label"),t._uU(28,"Category Name"),t.qZA(),t._UZ(29,"textarea",18),t.YNc(30,Pi,2,1,"div",16),t.qZA(),t.YNc(31,Ei,2,0,"button",19),t.YNc(32,Ri,2,0,"button",19),t.qZA()()()(),t.TgZ(33,"div",20)(34,"div",10)(35,"div",21)(36,"table",22)(37,"thead",23)(38,"tr")(39,"th",24),t._uU(40,"Counrty"),t.qZA(),t.TgZ(41,"th",24),t._uU(42,"Hazard Type"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Category Name"),t.qZA(),t.TgZ(45,"th",24),t._uU(46,"Action"),t.qZA()()(),t.TgZ(47,"tbody"),t.YNc(48,Hi,15,3,"tr",25),t.qZA()()()()()()()(),t.TgZ(49,"div",26)(50,"div",6)(51,"h6",7),t._uU(52,"Strategic Policies - CRUD"),t.qZA(),t.TgZ(53,"div",8)(54,"div",27)(55,"div",28)(56,"div",29)(57,"form",12),t.NdJ("ngSubmit",function(){return r.submitSPForm2()}),t.TgZ(58,"div",30)(59,"label"),t._uU(60,"Counrty"),t.qZA(),t.TgZ(61,"select",14),t.YNc(62,Ki,2,2,"option",15),t.qZA(),t.YNc(63,Gi,2,1,"div",16),t.qZA(),t.TgZ(64,"div",30)(65,"label"),t._uU(66,"HazardType"),t.qZA(),t.TgZ(67,"select",17),t.YNc(68,Li,2,2,"option",15),t.qZA(),t.YNc(69,Bi,2,1,"div",16),t.qZA(),t.TgZ(70,"div",31)(71,"label"),t._uU(72,"Category"),t.qZA(),t.TgZ(73,"select",32),t.YNc(74,Wi,2,2,"option",15),t.qZA(),t.YNc(75,Xi,2,1,"div",16),t.qZA(),t.TgZ(76,"div",13)(77,"label"),t._uU(78,"Policies Name"),t.qZA(),t._UZ(79,"textarea",33),t.YNc(80,er,2,1,"div",16),t.qZA(),t.TgZ(81,"div",34)(82,"label"),t._uU(83,"Input File"),t.qZA(),t._UZ(84,"input",35),t.qZA(),t.YNc(85,ir,2,0,"button",19),t.YNc(86,rr,2,0,"button",19),t.qZA()()()(),t.TgZ(87,"div",27)(88,"div",28)(89,"div",36)(90,"table",22)(91,"thead",23)(92,"tr")(93,"th",24),t._uU(94,"Country"),t.qZA(),t.TgZ(95,"th",24),t._uU(96,"Hazard Type"),t.qZA(),t.TgZ(97,"th",24),t._uU(98,"Category ID"),t.qZA(),t.TgZ(99,"th"),t._uU(100,"Policies"),t.qZA(),t.TgZ(101,"th"),t._uU(102,"File"),t.qZA(),t.TgZ(103,"th",24),t._uU(104,"Action"),t.qZA()()(),t.TgZ(105,"tbody"),t.YNc(106,sr,19,5,"tr",25),t.qZA()()()()()()()()()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",r.SPForm1),t.xp6(4),t.Q6J("ngClass",t.VKq(34,Z,r.SPForm1submitted&&r.f.countryId.errors)),t.xp6(1),t.Q6J("ngForOf",r.countries),t.xp6(1),t.Q6J("ngIf",r.SPForm1submitted&&r.f.countryId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(36,Z,r.SPForm1submitted&&r.f.hazardTypeId.errors)),t.xp6(1),t.Q6J("ngForOf",r.hazardtypes),t.xp6(1),t.Q6J("ngIf",r.SPForm1submitted&&r.f.hazardTypeId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(38,Z,r.SPForm1submitted&&r.f.name.errors)),t.xp6(1),t.Q6J("ngIf",r.SPForm1submitted&&r.f.name.errors),t.xp6(1),t.Q6J("ngIf",!r.isAddCategory),t.xp6(1),t.Q6J("ngIf",r.isAddCategory),t.xp6(7),t.Q6J("width",100),t.xp6(2),t.Q6J("width",100),t.xp6(4),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.categories),t.xp6(9),t.Q6J("formGroup",r.SPForm2),t.xp6(4),t.Q6J("ngClass",t.VKq(40,Z,r.SPForm2submitted&&r.f2.countryId.errors)),t.xp6(1),t.Q6J("ngForOf",r.countries),t.xp6(1),t.Q6J("ngIf",r.SPForm2submitted&&r.f2.countryId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(42,Z,r.SPForm2submitted&&r.f2.hazardTypeId.errors)),t.xp6(1),t.Q6J("ngForOf",r.hazardtypes),t.xp6(1),t.Q6J("ngIf",r.SPForm2submitted&&r.f2.hazardTypeId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(44,Z,r.SPForm2submitted&&r.f2.policyCategoryId.errors)),t.xp6(1),t.Q6J("ngForOf",r.categories),t.xp6(1),t.Q6J("ngIf",r.SPForm2submitted&&r.f2.policyCategoryId.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(46,Z,r.SPForm2submitted&&r.f2.name.errors)),t.xp6(1),t.Q6J("ngIf",r.SPForm2submitted&&r.f2.name.errors),t.xp6(5),t.Q6J("ngIf",!r.isAddPolicy),t.xp6(1),t.Q6J("ngIf",r.isAddPolicy),t.xp6(7),t.Q6J("width",100),t.xp6(2),t.Q6J("width",100),t.xp6(2),t.Q6J("width",100),t.xp6(6),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.policies))},dependencies:[l.mk,l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u]}),i})();function nr(i,s){if(1&i&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ar(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Domain is required"),t.qZA())}function dr(i,s){if(1&i&&(t.TgZ(0,"div",19),t.YNc(1,ar,2,0,"p",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.domain.errors.required)}}function cr(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"Subdomain Name is required"),t.qZA())}function lr(i,s){if(1&i&&(t.TgZ(0,"div",19),t.YNc(1,cr,2,0,"p",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.name.errors.required)}}function pr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.add())}),t._uU(1,"Submit"),t.qZA()}}function ur(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.update())}),t._uU(1,"Update"),t.qZA()}}function mr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"ul",22)(7,"li",23)(8,"a",24),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.find(n.id))}),t._UZ(9,"i",25),t.qZA()(),t.TgZ(10,"li",23)(11,"a",24),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.remove(n.id))}),t._UZ(12,"i",26),t.qZA()()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.domainId),t.xp6(2),t.Oqu(e.name)}}const hr=[{path:"",component:Ft,children:[{path:"domain",component:Rt},{path:"subdomain",component:(()=>{class i{constructor(e,r,a){this.serviceDomain=e,this.serviceSubdomain=r,this.fb=a,this.formAction="ADD",this.form=this.fb.group({domain:["",o.kI.required],name:["",o.kI.required]})}ngOnInit(){this.clearForm(),this.getAllDomain(),this.getAllSubdomain()}clearForm(){this.subdomain={name:null}}getAllDomain(){this.serviceDomain.getAll().subscribe(e=>{this.domains=e})}getAllSubdomain(){this.serviceSubdomain.getAll().subscribe(e=>{this.subdomains=e})}add(){this.form.valid&&(this.serviceSubdomain.create({domainId:this.subdomain.domainId,name:this.subdomain.name}).subscribe(()=>{this.getAllSubdomain()}),this.form.reset())}find(e){this.serviceSubdomain.find(e).subscribe(r=>{this.subdomain=r,this.formAction="EDIT"})}update(){this.form.valid&&(this.serviceSubdomain.update(this.subdomain.id,this.subdomain).subscribe(()=>{this.getAllSubdomain(),this.formAction="ADD"}),this.form.reset())}remove(e){this.serviceSubdomain.delete(e).subscribe(()=>{this.getAllSubdomain()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(J),t.Y36(N.$),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-subdomain"]],decls:32,vars:14,consts:[[1,"container","mb-4"],[1,"flex-row"],[1,"d-flex","justify-content-center","mb-4"],[1,"card","text-end","me-4",2,"width","30rem"],[1,"card-body"],["novalidate","",3,"formGroup"],[1,"card-title"],["formControlName","domain",1,"form-select","mb-2",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback mb-0",4,"ngIf"],["formControlName","name","rows","3","required","",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"card-body","p-0","bg-white"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[3,"width"],[4,"ngFor","ngForOf"],[3,"value"],[1,"invalid-feedback","mb-0"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"nav"],[1,"nav-item"],[1,"btn",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"h5",6),t._uU(7,"Add New Subdomain"),t.qZA(),t.TgZ(8,"label"),t._uU(9,"Domain"),t.qZA(),t.TgZ(10,"select",7),t.NdJ("ngModelChange",function(n){return r.subdomain.domainId=n}),t.YNc(11,nr,2,2,"option",8),t.qZA(),t.YNc(12,dr,2,1,"div",9),t.TgZ(13,"label"),t._uU(14,"Subdomain Name"),t.qZA(),t.TgZ(15,"textarea",10),t.NdJ("ngModelChange",function(n){return r.subdomain.name=n}),t.qZA(),t.YNc(16,lr,2,1,"div",9),t.YNc(17,pr,2,0,"a",11),t.YNc(18,ur,2,0,"a",11),t.qZA()()()(),t.TgZ(19,"div",12)(20,"div",13)(21,"table",14)(22,"thead",15)(23,"tr")(24,"th"),t._uU(25,"Domain"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Subdomain Name"),t.qZA(),t.TgZ(28,"th",16),t._uU(29,"Action"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,mr,13,2,"tr",17),t.qZA()()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",r.form),t.xp6(5),t.ekj("is-invalid",r.form.controls.domain.errors&&(r.form.controls.domain.dirty||r.form.controls.domain.touched)),t.Q6J("ngModel",r.subdomain.domainId),t.xp6(1),t.Q6J("ngForOf",r.domains),t.xp6(1),t.Q6J("ngIf",r.form.controls.domain.errors&&(r.form.controls.domain.dirty||r.form.controls.domain.touched)),t.xp6(3),t.ekj("is-invalid",r.form.controls.name.errors&&(r.form.controls.name.dirty||r.form.controls.name.touched)),t.Q6J("ngModel",r.subdomain.name),t.xp6(1),t.Q6J("ngIf",r.form.controls.name.errors&&(r.form.controls.name.dirty||r.form.controls.name.touched)),t.xp6(1),t.Q6J("ngIf","ADD"==r.formAction),t.xp6(1),t.Q6J("ngIf","EDIT"==r.formAction),t.xp6(10),t.Q6J("width",100),t.xp6(3),t.Q6J("ngForOf",r.subdomains))},dependencies:[l.sg,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.Q7,o.sg,o.u]}),i})()},{path:"draft-response",component:ye},{path:"readiness-category",component:fi},{path:"readiness-checklist",component:Ai},{path:"donor-partner",component:ne},{path:"strategic-policies",component:or},{path:"assesment-type",component:G},{path:"assign-assesment",component:ot},{path:"news",component:Ee},{path:"hazard-types",component:Ne},{path:"assign-category",component:_t},{path:"poe-map",component:ci},{path:"state",component:Ni},{path:"city",component:xt},{path:"organization",component:ri},{path:"",redirectTo:"domain",pathMatch:"full"},{path:"**",redirectTo:"domain",pathMatch:"full"}]}];let fr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.Bz.forChild(hr),_.Bz]}),i})(),_r=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.ez,fr,o.u5,o.UX]}),i})()},3787:(A,g,p)=>{p.d(g,{T:()=>t});var l=p(2340),_=p(8256),o=p(529);let t=(()=>{class u{constructor(c){this.httpClient=c,this.url=l.N.apiURL+"/country"}getAll(){return this.httpClient.get(this.url)}getByCode(c){return this.httpClient.get(this.url+"/"+c+"/getbycode")}find(c){return this.httpClient.get(this.url+"/"+c)}create(c){return this.httpClient.post(this.url,c)}update(c,m){return this.httpClient.put(this.url+"/"+c,m)}delete(c){return this.httpClient.delete(this.url+"/"+c)}}return u.\u0275fac=function(c){return new(c||u)(_.LFG(o.eN))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},2447:(A,g,p)=>{p.d(g,{P:()=>t});var l=p(2340),_=p(8256),o=p(529);let t=(()=>{class u{constructor(c){this.httpClient=c,this.url=l.N.apiURL+"/donorpartner"}getAll(){return this.httpClient.get(this.url)}getByCountryAndHazard(c,m){return this.httpClient.get(this.url+"/"+c+"/"+m)}find(c){return this.httpClient.get(this.url+"/"+c)}create(c){return this.httpClient.post(this.url,c)}update(c,m){return this.httpClient.put(this.url+"/"+c,m)}delete(c){return this.httpClient.delete(this.url+"/"+c)}}return u.\u0275fac=function(c){return new(c||u)(_.LFG(o.eN))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},5795:(A,g,p)=>{p.d(g,{$:()=>t});var l=p(2340),_=p(8256),o=p(529);let t=(()=>{class u{constructor(c){this.httpClient=c,this.url=l.N.apiURL+"/hazardtype"}getAll(){return this.httpClient.get(this.url)}find(c){return this.httpClient.get(this.url+"/"+c)}create(c){return this.httpClient.post(this.url,c)}update(c,m){return this.httpClient.put(this.url+"/"+c,m)}delete(c){return this.httpClient.delete(this.url+"/"+c)}}return u.\u0275fac=function(c){return new(c||u)(_.LFG(o.eN))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},1959:(A,g,p)=>{p.d(g,{d:()=>t});var l=p(2340),_=p(8256),o=p(529);let t=(()=>{class u{constructor(c){this.httpClient=c,this.url=l.N.apiURL+"/policy"}getAll(){return this.httpClient.get(this.url)}getByCountryAndHazard(c,m){return this.httpClient.get(this.url+"/"+c+"/"+m)}find(c){return this.httpClient.get(this.url+"/"+c)}create(c){return this.httpClient.post(this.url,c)}update(c,m){return this.httpClient.put(this.url+"/"+c,m)}delete(c){return this.httpClient.delete(this.url+"/"+c)}}return u.\u0275fac=function(c){return new(c||u)(_.LFG(o.eN))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9111:(A,g,p)=>{p.d(g,{D:()=>t});var l=p(2340),_=p(8256),o=p(529);let t=(()=>{class u{constructor(c){this.httpClient=c,this.url=l.N.apiURL+"/nationalcapacitychecklist"}getAll(){return this.httpClient.get(this.url)}getByHazardType(c){return this.httpClient.get(this.url+"/"+c+"/byhazardtype")}getByStatus(c,m,b){return this.httpClient.get(`${this.url}/${c}/${m}/bystatus/${b}`)}getChartByHazardType(c,m){return this.httpClient.get(this.url+"/"+c+"/chartbyhazardtype/"+m)}getChartByCountryAndHazardType(c,m,b){return this.httpClient.get(this.url+"/"+c+"/"+m+"/chartbycountryandhazardtype/"+b)}getChartByCountryStateAndHazardType(c,m,b,I){return this.httpClient.get(this.url+"/"+c+"/"+m+"/"+b+"/chartbycountrystateandhazardtype/"+I)}find(c){return this.httpClient.get(this.url+"/"+c)}create(c){return this.httpClient.post(this.url,c)}update(c,m){return this.httpClient.put(this.url+"/"+c,m)}updateStatus(c,m){return this.httpClient.put(this.url+"/"+c+"/updatestatus",m)}updateFunction(c,m){return this.httpClient.put(this.url+"/"+c+"/updatefunction",m)}updateComment(c,m){return this.httpClient.put(this.url+"/"+c+"/updatecomment",m)}delete(c){return this.httpClient.delete(this.url+"/"+c)}}return u.\u0275fac=function(c){return new(c||u)(_.LFG(o.eN))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);