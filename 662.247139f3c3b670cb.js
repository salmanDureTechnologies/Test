"use strict";(self.webpackChunkreadiness_intelligence=self.webpackChunkreadiness_intelligence||[]).push([[662],{7662:(Y,u,r)=>{r.r(u),r.d(u,{AuthModule:()=>I});var a=r(6895),l=r(5808),t=r(8256),c=r(8423);let h=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:4,vars:1,consts:[["bdColor","rgba(0,0,0,0.2)","size","medium","color","#fff","type","ball-spin",3,"fullScreen"],[2,"color","white"]],template:function(o,i){1&o&&(t._UZ(0,"router-outlet"),t.TgZ(1,"ngx-spinner",0)(2,"p",1),t._uU(3," Loading... "),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("fullScreen",!0))},dependencies:[l.lC,c.Ro]}),e})();var s=r(433),m=r(7185),f=r(1188),v=r(2340),Z=r(529);let p=(()=>{class e{constructor(o){this.httpClient=o,this.url=v.N.apiURL+"/auth/login"}processedLogin(o){return console.log("URLs: ",this.url,o),this.httpClient.post(this.url,o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(Z.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function C(e,n){1&e&&(t.TgZ(0,"p",25),t._uU(1,"Email is Required"),t.qZA())}function b(e,n){if(1&e&&(t.TgZ(0,"div",23),t.YNc(1,C,2,0,"p",24),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.f.email.errors.required)}}function A(e,n){1&e&&(t.TgZ(0,"p",25),t._uU(1,"Email is Incorect"),t.qZA())}function x(e,n){if(1&e&&(t.TgZ(0,"div",23),t.YNc(1,A,2,0,"p",24),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.f.email.errors.email)}}function T(e,n){1&e&&(t.TgZ(0,"p",25),t._uU(1,"Password is Required"),t.qZA())}function F(e,n){if(1&e&&(t.TgZ(0,"div",23),t.YNc(1,T,2,0,"p",24),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.f.password.errors.required)}}const d=function(e){return{"is-invalid":e}},L=[{path:"",component:h,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class e{constructor(o,i,g,J,U,w){this.spinner=o,this.toastr=i,this.fb=g,this.storage=J,this.serviceAuth=U,this.route=w,this.FormSubmitted=!1,this.isLoggedIn=!1,this.storage.get("session")&&this.route.navigate(["/"])}ngOnInit(){this.loginForm=this.fb.group({email:["",s.kI.compose([s.kI.email,s.kI.required])],password:["",s.kI.required]})}get f(){return this.loginForm.controls}submitForm(){this.FormSubmitted=!0,!this.loginForm.invalid&&(this.spinner.show(),console.log("Lvalue: ",this.loginForm.value),this.serviceAuth.processedLogin(this.loginForm.value).subscribe({next:o=>{this.responseData=o,console.log("REs: ",o)},error:()=>{console.log("error: ")},complete:()=>{400==this.responseData.code?(this.spinner.hide(),this.toastr.error(this.responseData.message,"Error")):(this.spinner.hide(),this.storage.save("session",JSON.stringify(this.responseData)),this.toastr.success("Login successfully!","Success"),console.log("Login successfully!"),this.loginForm.reset(),this.isLoggedIn=!0,this.route.navigate(["/"]))}}),this.FormSubmitted=!1)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(c.t2),t.Y36(m._W),t.Y36(s.qu),t.Y36(f.V),t.Y36(p),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:30,vars:10,consts:[[1,"container-fluid","vh-100","d-flex","justify-content-center","align-items-center","m-0",2,"background-color","#00205C"],[1,"row"],[1,"col-12"],[1,"card","p-4",2,"width","25rem"],[1,"card-body"],[1,"row",2,"margin-bottom","2.5rem"],[1,"col-6","p-0"],[1,"text-center"],["src","./assets/logo-header.png","alt","",2,"max-width","100px"],[1,"col-6","p-0","border","border-2","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary"],["src","./assets/partner-platform-2.png","alt","",2,"max-width","100px"],[1,"fs-12",3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[2,"color","#00205C"],[1,"mb-3"],["type","email","formControlName","email","placeholder","Email",1,"form-control","fs-12",2,"height","40px",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control","fs-12",2,"height","40px",3,"ngClass"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input",2,"background-color","#EDEDED"],["for","flexCheckDefault",1,"form-check-label"],[1,"d-grid","mt-2"],["type","submit",1,"btn","text-center","text-white","fs-12",2,"background-color","#058FCB","height","40px"],[1,"invalid-feedback"],["class","my-0",4,"ngIf"],[1,"my-0"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._UZ(8,"img",8),t.qZA()(),t.TgZ(9,"div",9)(10,"div",7),t._UZ(11,"img",10),t.qZA()()(),t.TgZ(12,"form",11),t.NdJ("ngSubmit",function(){return i.submitForm()}),t.TgZ(13,"div",12)(14,"h6",13),t._uU(15,"Sign In"),t.qZA()(),t.TgZ(16,"div",14),t._UZ(17,"input",15),t.YNc(18,b,2,1,"div",16),t.YNc(19,x,2,1,"div",16),t.qZA(),t.TgZ(20,"div",14),t._UZ(21,"input",17),t.YNc(22,F,2,1,"div",16),t.qZA(),t.TgZ(23,"div",18),t._UZ(24,"input",19),t.TgZ(25,"label",20),t._uU(26," Remember Me "),t.qZA()(),t.TgZ(27,"div",21)(28,"button",22),t._uU(29," Login "),t.qZA()()()()()()()()),2&o&&(t.xp6(12),t.Q6J("formGroup",i.loginForm),t.xp6(5),t.Q6J("ngClass",t.VKq(6,d,i.FormSubmitted&&i.f.email.errors)),t.xp6(1),t.Q6J("ngIf",i.FormSubmitted&&i.f.email.errors),t.xp6(1),t.Q6J("ngIf",i.f.email.errors&&(i.f.email.dirty||i.f.email.touched)),t.xp6(2),t.Q6J("ngClass",t.VKq(8,d,i.FormSubmitted&&i.f.password.errors)),t.xp6(1),t.Q6J("ngIf",i.FormSubmitted&&i.f.password.errors))},dependencies:[a.mk,a.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),e})()},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}]}];let y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(L),l.Bz]}),e})();var S=r(7170);let I=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[p,S.a],imports:[a.ez,y,c.ef,m.Rh,s.UX]}),e})()}}]);