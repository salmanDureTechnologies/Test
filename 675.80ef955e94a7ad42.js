(self.webpackChunkreadiness_intelligence=self.webpackChunkreadiness_intelligence||[]).push([[675],{9675:(ne,o,O)=>{"use strict";O.r(o),O.d(o,{ImportModule:()=>yi});var s=O(6895),z=O(512),E=O(433),e=O(8256),Y=O(7185),q=O(8423),Z=O(6228),W=O(5266),$=O(3401),J=O(2340),j=O(529);let G=(()=>{class d{constructor(t){this.httpClient=t,this.url=J.N.apiURL+"/draftresponse"}getAll(){return this.httpClient.get(this.url)}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}update(t,_){return this.httpClient.put(this.url+"/"+t,_)}updateIsSelected(t,_){return this.httpClient.put(this.url+"/"+t+"/isselected",_)}updateDomainId(t,_){return this.httpClient.put(this.url+"/"+t+"/setdomainid",_)}updatePriority(t,_){return this.httpClient.put(this.url+"/"+t+"/setpriority",_)}delete(t){return this.httpClient.delete(this.url+"/"+t)}deleteByMerge(t,_){return this.httpClient.delete(this.url+"/"+t+"/"+_+"/deletebymerge")}deleteByPlanAndDomain(t,_){return this.httpClient.delete(this.url+"/"+t+"/"+_+"/byplananddomain")}}return d.\u0275fac=function(t){return new(t||d)(e.LFG(j.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();var A=O(374),y=O(3787),N=O(5795),D=O(8997);const S=function(){return["/import/action-plan"]},M=function(d){return{plan_id:d}},r=function(){return{exact:!0}};function i(d,U){if(1&d&&(e.TgZ(0,"li",67)(1,"a",68),e._uU(2),e.qZA()()),2&d){const t=U.$implicit;e.xp6(1),e.Q6J("routerLink",e.DdM(5,S))("queryParams",e.VKq(6,M,t.id))("queryParamsHandling","merge")("routerLinkActiveOptions",e.DdM(8,r)),e.xp6(1),e.Oqu(t.name)}}function m(d,U){1&d&&(e.TgZ(0,"h6"),e._uU(1,"Create Action Plan"),e.qZA())}function I(d,U){1&d&&(e.TgZ(0,"h6"),e._uU(1,"Edit Action Plan"),e.qZA())}function p(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",69)(1,"div",70),e.YNc(2,m,2,0,"h6",71),e.YNc(3,I,2,0,"h6",71),e.qZA(),e.TgZ(4,"div",70)(5,"button",72),e.NdJ("click",function(){e.CHM(t);const V=e.oxw();return e.KtG(V.onImportFile())}),e._UZ(6,"i",73),e._uU(7,"Import File"),e.qZA()()()}if(2&d){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","create"==t.modeAction),e.xp6(1),e.Q6J("ngIf","update"==t.modeAction)}}function w(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",74)(1,"div",70)(2,"button",72),e.NdJ("click",function(){e.CHM(t);const V=e.oxw();return e.KtG(V.updateActionPlan())}),e._UZ(3,"i",75),e._uU(4,"Edit Plan"),e.qZA()()()}}function v(d,U){if(1&d&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function h(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"tr")(1,"td",98),e._uU(2),e.qZA(),e.TgZ(3,"td",98),e._uU(4),e.qZA(),e.TgZ(5,"td",99)(6,"div",100),e._UZ(7,"div",101),e.qZA()(),e.TgZ(8,"td",98)(9,"select",102),e.NdJ("change",function(V){e.CHM(t);const re=e.oxw(2);return e.KtG(re.selectPlantype(V))}),e.TgZ(10,"option",103),e._uU(11,"Choose Category"),e.qZA(),e.YNc(12,v,2,2,"option",31),e.qZA()(),e.TgZ(13,"td",99)(14,"button",104),e.NdJ("click",function(){const re=e.CHM(t).$implicit,xe=e.oxw(2);return e.KtG(xe.onRemove(re))}),e._UZ(15,"i",105),e.qZA()()()}if(2&d){const t=U.$implicit,_=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.size),e.xp6(8),e.Q6J("ngForOf",_.plantypes)}}function P(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",77)(2,"h6",78),e._uU(3,"Import File"),e.qZA(),e.TgZ(4,"div",79)(5,"div",80)(6,"div",81),e.NdJ("change",function(V){e.CHM(t);const re=e.oxw();return e.KtG(re.onSelect(V))}),e.TgZ(7,"div",82)(8,"h6",83),e._uU(9,"DROP FILE HERE TO UPLOAD"),e.qZA(),e.O4$(),e.TgZ(10,"svg",84),e._UZ(11,"path",85)(12,"path",86),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",87)(14,"p"),e._uU(15,"Upload Queue"),e.qZA(),e.TgZ(16,"div",88)(17,"table",89)(18,"thead")(19,"tr")(20,"th"),e._uU(21,"NAME"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"SIZE"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"PROGRESS"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"CATEGORY"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"ACTION"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,h,16,3,"tr",64),e.qZA()()(),e.TgZ(32,"p"),e._uU(33,"Progsess Queue"),e.qZA(),e.TgZ(34,"div",90),e._UZ(35,"div",91),e.qZA(),e.TgZ(36,"button",92),e.NdJ("click",function(){e.CHM(t);const V=e.oxw();return e.KtG(V.onFileupload())}),e._UZ(37,"i",93),e._uU(38," Upload All"),e.qZA(),e.TgZ(39,"button",94),e._UZ(40,"i",95),e._uU(41," Cancel All"),e.qZA(),e.TgZ(42,"button",96),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw();return e.KtG(re.onReset(V))}),e._UZ(43,"i",97),e._uU(44," Remove All"),e.qZA()()()()()}if(2&d){const t=e.oxw();e.xp6(31),e.Q6J("ngForOf",t.files)}}function R(d,U){1&d&&e._UZ(0,"i",118)}function T(d,U){1&d&&e._UZ(0,"i",119)}const B=function(d){return{"card-plan":d}};function H(d,U){if(1&d&&(e.TgZ(0,"div",109)(1,"div",110)(2,"div",111)(3,"div",1)(4,"div",112),e.YNc(5,R,1,0,"i",113),e.YNc(6,T,1,0,"i",114),e.qZA(),e.TgZ(7,"div",115)(8,"div",1)(9,"div",116),e._uU(10),e.qZA(),e.TgZ(11,"div",117),e._uU(12),e.qZA()()()()()()()),2&d){const t=U.$implicit,_=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(5,B,1==_.plan.isSubmitted&&1==t.id)),e.xp6(3),e.Q6J("ngIf",0==_.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",1==_.plan.isSubmitted),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.year||"-")}}function X(d,U){if(1&d&&(e.TgZ(0,"div",76)(1,"div",107)(2,"h6",78),e._uU(3,"Plan Type"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,H,13,7,"div",108),e.qZA()()()),2&d){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.plantypes)}}function C(d,U){if(1&d&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function c(d,U){1&d&&(e.TgZ(0,"p"),e._uU(1,"Plan is Required"),e.qZA())}function a(d,U){if(1&d&&(e.TgZ(0,"div",120),e.YNc(1,c,2,0,"p",71),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.planId.errors.required)}}function b(d,U){if(1&d&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function u(d,U){1&d&&(e.TgZ(0,"p"),e._uU(1,"Hazard Type is Required"),e.qZA())}function n(d,U){if(1&d&&(e.TgZ(0,"div",120),e.YNc(1,u,2,0,"p",71),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.hazardTypeId.errors.required)}}function l(d,U){if(1&d&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function g(d,U){1&d&&(e.TgZ(0,"p"),e._uU(1,"Plan Type is Required"),e.qZA())}function F(d,U){if(1&d&&(e.TgZ(0,"div",120),e.YNc(1,g,2,0,"p",71),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.planTypeId.errors.required)}}function x(d,U){1&d&&(e.TgZ(0,"p"),e._uU(1,"Action is Required"),e.qZA())}function f(d,U){if(1&d&&(e.TgZ(0,"div",120),e.YNc(1,x,2,0,"p",71),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.action.errors.required)}}function Q(d,U){1&d&&(e.TgZ(0,"p"),e._uU(1,"Estimated Cost is Required"),e.qZA())}function te(d,U){if(1&d&&(e.TgZ(0,"div",120),e.YNc(1,Q,2,0,"p",71),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.estimatedCost.errors.required)}}function ee(d,U){1&d&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",143),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function ie(d,U){if(1&d&&(e.TgZ(0,"td",148),e._uU(1),e.qZA()),2&d){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.priority)}}function de(d,U){1&d&&e._UZ(0,"td")}function fe(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function me(d,U){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function ve(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function pe(d,U){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Se(d,U){if(1&d&&(e.TgZ(0,"tr",150),e._UZ(1,"td"),e.TgZ(2,"td"),e.YNc(3,ve,2,0,"div",71),e.YNc(4,pe,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",145)(15,"a",151),e._UZ(16,"i",147),e.qZA()()()),2&d){const t=U.$implicit;e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function Ee(d,U){if(1&d&&(e.ynx(0),e.YNc(1,Se,17,8,"tr",149),e.BQk()),2&d){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function Ae(d,U){if(1&d&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,ie,2,1,"td",144),e.YNc(3,de,1,0,"td",71),e.TgZ(4,"td"),e.YNc(5,fe,2,0,"div",71),e.YNc(6,me,2,1,"div",64),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",145)(17,"a",146),e._UZ(18,"i",147),e.qZA()()(),e.YNc(19,Ee,2,1,"ng-container",71),e.BQk()),2&d){const t=U.$implicit,_=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.priority),e.xp6(1),e.Q6J("ngIf",null==t.priority),e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.hij(" ",t.hazardType?t.hazardType.name:"-"," "),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(13,9,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(4),e.Q6J("ngIf",1==_.showCrossCutting&&t.draftResponseChilds.length>0)}}function Pe(d,U){if(1&d&&(e.TgZ(0,"tr",152)(1,"td",153),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"td",154),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",154),e._uU(7),e.ALo(8,"number"),e.qZA(),e._UZ(9,"td"),e.qZA()),2&d){const t=e.oxw().index,_=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,2,_.sumEstimatedCost(t))),e.xp6(3),e.Oqu(e.lcZ(8,4,_.sumEstimatedPeriod(t)))}}function Ze(d,U){if(1&d&&(e.TgZ(0,"div",135)(1,"div",19)(2,"h2",20)(3,"button",136)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",137)(8,"div",24)(9,"div",138)(10,"div",139)(11,"table",59)(12,"thead",140)(13,"tr")(14,"th",141),e._uU(15,"Priority"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Source"),e.qZA(),e.TgZ(18,"th",60),e._uU(19,"Hazard"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Cost"),e.qZA(),e.TgZ(24,"th",61),e._uU(25,"Estimated Period"),e.qZA(),e.TgZ(26,"th",141),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,ee,4,0,"ng-container",71),e.YNc(30,Ae,20,11,"ng-container",64),e.YNc(31,Pe,10,6,"tr",142),e.qZA()()()()()()()()),2&d){const t=U.$implicit,_=U.index;e.xp6(3),e.uIk("data-bs-target","#isSubmittedPlan"+t.id),e.xp6(2),e.Oqu(_+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","isSubmittedPlan",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses),e.xp6(1),e.Q6J("ngIf",t.draftResponses.length>0)}}function oe(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",107)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",121)(6,"button",122),e._UZ(7,"i",123),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",124)(10,"div",125)(11,"div",126),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",127)(14,"a",128),e._uU(15,"Clear Filter"),e.qZA()()(),e.TgZ(16,"div",129)(17,"div",130),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",131)(20,"div",132)(21,"input",133),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw();return e.KtG(re.filterCrossCutting(V.target))}),e.qZA()()()()()()(),e.YNc(22,Ze,32,7,"div",134),e.qZA()()}if(2&d){const t=e.oxw();e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function k(d,U){1&d&&(e.TgZ(0,"div",76)(1,"div",107)(2,"h6",78),e._uU(3,"History"),e.qZA(),e.TgZ(4,"div",155)(5,"div",2)(6,"div",110)(7,"div",139)(8,"table",59)(9,"thead",140)(10,"tr")(11,"th"),e._uU(12,"Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Assessor"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Type"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Description"),e.qZA()()(),e.TgZ(19,"tbody")(20,"tr")(21,"td"),e._uU(22,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(23,"td"),e._uU(24,"Admin 1"),e.qZA(),e.TgZ(25,"td"),e._uU(26,"Self Assessment"),e.qZA(),e.TgZ(27,"td"),e._uU(28,"-"),e.qZA()(),e.TgZ(29,"tr")(30,"td"),e._uU(31,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(32,"td"),e._uU(33,"Admin 1"),e.qZA(),e.TgZ(34,"td"),e._uU(35,"Self Assessment"),e.qZA(),e.TgZ(36,"td"),e._uU(37,"-"),e.qZA()(),e.TgZ(38,"tr")(39,"td"),e._uU(40,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(41,"td"),e._uU(42,"Admin 1"),e.qZA(),e.TgZ(43,"td"),e._uU(44,"Self Assessment"),e.qZA(),e.TgZ(45,"td"),e._uU(46,"-"),e.qZA()(),e.TgZ(47,"tr")(48,"td"),e._uU(49,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(50,"td"),e._uU(51,"Admin 1"),e.qZA(),e.TgZ(52,"td"),e._uU(53,"Self Assessment"),e.qZA(),e.TgZ(54,"td"),e._uU(55,"-"),e.qZA()(),e.TgZ(56,"tr")(57,"td"),e._uU(58,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(59,"td"),e._uU(60,"Admin 1"),e.qZA(),e.TgZ(61,"td"),e._uU(62,"Self Assessment"),e.qZA(),e.TgZ(63,"td"),e._uU(64,"-"),e.qZA()()()()()(),e.TgZ(65,"div",37)(66,"nav")(67,"ul",156)(68,"li",157)(69,"a",158)(70,"span",159),e._UZ(71,"i",160),e.qZA()()(),e.TgZ(72,"li",161)(73,"a",162),e._uU(74,"1"),e.qZA()(),e.TgZ(75,"li",157)(76,"a",162),e._uU(77,"2"),e.qZA()(),e.TgZ(78,"li",157)(79,"a",162),e._uU(80,"3"),e.qZA()(),e.TgZ(81,"li",157)(82,"a",162),e._uU(83,"4"),e.qZA()(),e.TgZ(84,"li",157)(85,"a",163)(86,"span",159),e._UZ(87,"i",164),e.qZA()()()()()()()()()())}function K(d,U){if(1&d&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&d){const t=U.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.count)}}function ae(d,U){1&d&&(e.TgZ(0,"tr")(1,"td",184),e._uU(2,"No data found"),e.qZA()())}function he(d,U){if(1&d&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name.length>20?t.name.substr(0,20)+"...":t.name)}}function ue(d,U){if(1&d&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name.length>20?t.name.substr(0,20)+"...":t.name)}}function ge(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",145)(7,"input",185),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw(3);return e.KtG(re.onClickSelectDraft(V))}),e.qZA()(),e.TgZ(8,"td")(9,"select",186),e.NdJ("change",function(V){const re=e.CHM(t),xe=re.$implicit,ke=re.index,qe=e.oxw(3);return e.KtG(qe.onChangeDomain(xe.id,V,ke))})("click",function(V){e.CHM(t);const re=e.oxw(3);return e.KtG(re.onClickDomain(V))}),e.TgZ(10,"option",187),e._uU(11,"Choose Domain"),e.qZA(),e.YNc(12,he,2,2,"option",31),e.qZA()(),e.TgZ(13,"td")(14,"select",188)(15,"option",187),e._uU(16,"Choose Subdomain"),e.qZA(),e.YNc(17,ue,2,2,"option",31),e.qZA()()()}if(2&d){const t=U.$implicit,_=U.index,V=e.oxw(3);e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(5,7,t.estimatedCost)),e.xp6(3),e.Q6J("value",t.id),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",V.domains),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",V.subdomains[_])}}function _e(d,U){if(1&d&&(e.TgZ(0,"div",76)(1,"div",107)(2,"h6",78),e._uU(3,"Total Selected of Priority Action"),e.qZA(),e.TgZ(4,"div",155)(5,"div",179)(6,"div",110)(7,"div",139)(8,"table",59)(9,"thead")(10,"tr")(11,"th"),e._uU(12,"Domain"),e.qZA(),e.TgZ(13,"th",180),e._uU(14,"Total"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,K,5,2,"tr",64),e.TgZ(17,"tr",152)(18,"td",181),e._uU(19,"Total"),e.qZA(),e.TgZ(20,"td",154),e._uU(21),e.qZA()()()()()()()(),e.TgZ(22,"h6",78),e._uU(23,"Response Plan"),e.qZA(),e.TgZ(24,"div",155)(25,"div",2)(26,"div",110)(27,"div",139)(28,"table",59)(29,"thead")(30,"tr")(31,"th"),e._uU(32,"Action"),e.qZA(),e.TgZ(33,"th",180),e._uU(34,"Estimated Cost"),e.qZA(),e.TgZ(35,"th",182),e._uU(36,"Select"),e.qZA(),e.TgZ(37,"th",183),e._uU(38,"Domain"),e.qZA(),e.TgZ(39,"th",183),e._uU(40,"Subdomain"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,ae,3,0,"tr",71),e.YNc(43,ge,18,9,"tr",64),e.qZA()()()()()()()()),2&d){const t=e.oxw(2);e.xp6(16),e.Q6J("ngForOf",t.countSelectedDomains),e.xp6(5),e.Oqu(t.countSelectedResponse),e.xp6(21),e.Q6J("ngIf",0==t.draftresponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftresponses)}}function be(d,U){1&d&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",192),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function we(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Le(d,U){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function ce(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function se(d,U){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function le(d,U){if(1&d&&(e.TgZ(0,"tr",150)(1,"td"),e.YNc(2,ce,2,0,"div",71),e.YNc(3,se,2,1,"div",64),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e._UZ(13,"td"),e.TgZ(14,"td",145)(15,"a",151),e._UZ(16,"i",147),e.qZA()(),e._UZ(17,"td"),e.qZA()),2&d){const t=U.$implicit;e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(10,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function ye(d,U){if(1&d&&(e.ynx(0),e.YNc(1,le,18,8,"tr",149),e.BQk()),2&d){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function Ce(d,U){if(1&d){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e.YNc(3,we,2,0,"div",71),e.YNc(4,Le,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",145)(15,"div")(16,"input",193),e.NdJ("click",function(V){const xe=e.CHM(t).$implicit,ke=e.oxw().$implicit,qe=e.oxw(3);return e.KtG(qe.selectToOnMerge(xe.id,ke.id,V))}),e.qZA()()(),e.TgZ(17,"td",145)(18,"a",151),e._UZ(19,"i",147),e.qZA()(),e.TgZ(20,"td",145)(21,"a",194),e.NdJ("click",function(){const re=e.CHM(t).$implicit,xe=e.oxw(4);return e.KtG(xe.onDeleteSelectDraft(re.id))}),e._UZ(22,"i",105),e.qZA()()(),e.YNc(23,ye,2,1,"ng-container",71),e.BQk()}if(2&d){const t=U.$implicit,_=e.oxw(4);e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.hij(" ",t.hazardType?t.hazardType.name:"-"," "),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,7,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(10),e.Q6J("ngIf",1==_.showCrossCutting&&t.draftResponseChilds.length>0)}}function Me(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",135)(1,"div",19)(2,"h2",20)(3,"button",136)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",137)(8,"div",24)(9,"div",189)(10,"div",139)(11,"table",59)(12,"thead")(13,"tr")(14,"th",60),e._uU(15,"Source"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Hazard"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA(),e.TgZ(20,"th",61),e._uU(21,"Estimated Cost"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Period"),e.qZA(),e.TgZ(24,"th",63),e._uU(25,"Select"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA(),e.TgZ(28,"th",63),e._uU(29,"Edit"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,be,4,0,"ng-container",71),e.YNc(32,Ce,24,9,"ng-container",64),e.qZA()()()(),e.TgZ(33,"div",2)(34,"div",37)(35,"button",190),e.NdJ("click",function(){const re=e.CHM(t).$implicit,xe=e.oxw(3);return e.KtG(xe.onClickMergeAction(re.id))}),e._UZ(36,"i",191),e._uU(37,"Merge Action"),e.qZA()()()()()()()}if(2&d){const t=U.$implicit,_=U.index;e.xp6(3),e.uIk("data-bs-target","#priority"+t.id),e.xp6(2),e.Oqu(_+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","priority",t.id,""),e.xp6(24),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses)}}function Te(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",107)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",121)(6,"button",122),e._UZ(7,"i",123),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",124)(10,"div",125)(11,"div",126),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",127)(14,"a",128),e._uU(15,"Clear Filter"),e.qZA()()(),e.TgZ(16,"div",129)(17,"div",130),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",131)(20,"div",132)(21,"input",133),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw(2);return e.KtG(re.filterCrossCutting(V.target))}),e.qZA()()()()()()(),e.YNc(22,Me,38,6,"div",134),e.qZA()()}if(2&d){const t=e.oxw(2);e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function Ie(d,U){1&d&&(e.TgZ(0,"tr")(1,"td",143),e._uU(2,"No data found"),e.qZA()())}function Oe(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Fe(d,U){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Re(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e.YNc(2,Oe,2,0,"div",71),e.YNc(3,Fe,2,1,"div",64),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"select",196),e.NdJ("change",function(V){const xe=e.CHM(t).$implicit,ke=e.oxw().$implicit,qe=e.oxw(3);return e.KtG(qe.updatePriority(ke.id,xe.id,V.target))}),e.TgZ(15,"option",187),e._uU(16,"Choose Priority"),e.qZA(),e.TgZ(17,"option",197),e._uU(18,"1"),e.qZA(),e.TgZ(19,"option",197),e._uU(20,"2"),e.qZA(),e.TgZ(21,"option",197),e._uU(22,"3"),e.qZA(),e.TgZ(23,"option",197),e._uU(24,"4"),e.qZA(),e.TgZ(25,"option",197),e._uU(26,"5"),e.qZA()()(),e.TgZ(27,"td",145)(28,"a",151),e._UZ(29,"i",147),e.qZA()()()}if(2&d){const t=U.$implicit;e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(10,17,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1)("selected",1==t.priority),e.xp6(2),e.Q6J("value",2)("selected",2==t.priority),e.xp6(2),e.Q6J("value",3)("selected",3==t.priority),e.xp6(2),e.Q6J("value",4)("selected",4==t.priority),e.xp6(2),e.Q6J("value",5)("selected",5==t.priority)}}function ze(d,U){if(1&d&&(e.TgZ(0,"div",135)(1,"div",19)(2,"h2",20)(3,"button",136)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",137)(8,"div",24)(9,"div",138)(10,"div",139)(11,"table",59)(12,"thead")(13,"tr")(14,"th",60),e._uU(15,"Source"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Hazard"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA(),e.TgZ(20,"th",61),e._uU(21,"Estimated Cost"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Period"),e.qZA(),e.TgZ(24,"th",195),e._uU(25,"Priority"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Ie,3,0,"tr",71),e.YNc(30,Re,30,19,"tr",64),e.qZA()()()()()()()()),2&d){const t=U.$implicit,_=U.index;e.xp6(3),e.uIk("data-bs-target","#summary"+t.id),e.xp6(2),e.Oqu(_+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","summary",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses)}}function Ve(d,U){if(1&d&&(e.TgZ(0,"div",76)(1,"div",107)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.YNc(4,ze,31,6,"div",134),e.qZA()()),2&d){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.priorityactions)}}function Ge(d,U){1&d&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",143),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function Ue(d,U){if(1&d&&(e.TgZ(0,"td",148),e._uU(1),e.qZA()),2&d){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.priority)}}function We(d,U){1&d&&e._UZ(0,"td")}function Qe(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function $e(d,U){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Xe(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Ye(d,U){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Be(d,U){if(1&d&&(e.TgZ(0,"tr",150),e._UZ(1,"td"),e.TgZ(2,"td"),e.YNc(3,Xe,2,0,"div",71),e.YNc(4,Ye,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",145)(15,"a",151),e._UZ(16,"i",147),e.qZA()()()),2&d){const t=U.$implicit;e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function Ke(d,U){if(1&d&&(e.ynx(0),e.YNc(1,Be,17,8,"tr",149),e.BQk()),2&d){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function st(d,U){if(1&d&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,Ue,2,1,"td",144),e.YNc(3,We,1,0,"td",71),e.TgZ(4,"td"),e.YNc(5,Qe,2,0,"div",71),e.YNc(6,$e,2,1,"div",64),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",145)(17,"a",151),e._UZ(18,"i",147),e.qZA()()(),e.YNc(19,Ke,2,1,"ng-container",71),e.BQk()),2&d){const t=U.$implicit,_=e.oxw(4);e.xp6(2),e.Q6J("ngIf",t.priority),e.xp6(1),e.Q6J("ngIf",null==t.priority),e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(13,9,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(4),e.Q6J("ngIf",1==_.showCrossCutting&&t.draftResponseChilds.length>0)}}function St(d,U){if(1&d&&(e.TgZ(0,"tr",152)(1,"td",153),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"td",154),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",154),e._uU(7),e.ALo(8,"number"),e.qZA(),e._UZ(9,"td"),e.qZA()),2&d){const t=e.oxw().index,_=e.oxw(3);e.xp6(4),e.Oqu(e.lcZ(5,2,_.sumEstimatedCost(t))),e.xp6(3),e.Oqu(e.lcZ(8,4,_.sumEstimatedPeriod(t)))}}function wt(d,U){if(1&d&&(e.TgZ(0,"div",135)(1,"div",19)(2,"h2",20)(3,"button",136)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",137)(8,"div",24)(9,"div",138)(10,"div",139)(11,"table",59)(12,"thead")(13,"tr")(14,"th",141),e._uU(15,"Priority"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Source"),e.qZA(),e.TgZ(18,"th",60),e._uU(19,"Hazard"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Cost"),e.qZA(),e.TgZ(24,"th",61),e._uU(25,"Estimated Period"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Ge,4,0,"ng-container",71),e.YNc(30,st,20,11,"ng-container",64),e.YNc(31,St,10,6,"tr",142),e.qZA()()()()()()()()),2&d){const t=U.$implicit,_=U.index;e.xp6(3),e.uIk("data-bs-target","#summary"+t.id),e.xp6(2),e.Oqu(_+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","summary",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses),e.xp6(1),e.Q6J("ngIf",t.draftResponses.length>0)}}function Et(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",107)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",121)(6,"button",122),e._UZ(7,"i",123),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",124)(10,"div",125)(11,"div",126),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",127)(14,"a",128),e._uU(15,"Clear Fiilter"),e.qZA()()(),e.TgZ(16,"div",129)(17,"div",130),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",131)(20,"div",132)(21,"input",133),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw(2);return e.KtG(re.filterCrossCutting(V.target))}),e.qZA()()()()()()(),e.YNc(22,wt,32,7,"div",134),e.qZA()()}if(2&d){const t=e.oxw(2);e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function Mt(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"button",198),e.NdJ("click",function(){e.CHM(t),e.oxw();const V=e.MAs(1),re=e.oxw();return re.previous(),e.KtG(re.scroll(V))}),e._UZ(1,"i",199),e._uU(2,"Previous"),e.qZA()}}function kt(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"button",200),e.NdJ("click",function(){e.CHM(t),e.oxw();const V=e.MAs(1),re=e.oxw();return re.next(),e.KtG(re.scroll(V))}),e._uU(1,"Next"),e._UZ(2,"i",201),e.qZA()}}function It(d,U){1&d&&(e.TgZ(0,"button",202),e._UZ(1,"i",73),e._uU(2,"Add File"),e.qZA())}function Ot(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"button",200),e.NdJ("click",function(){e.CHM(t);const V=e.oxw(2),re=e.MAs(4);return V.submitActionPlan(),e.KtG(V.scroll(re))}),e._uU(1,"Save Result"),e._UZ(2,"i",201),e.qZA()}}const dt=function(d){return{"current-item":d}};function Ft(d,U){if(1&d&&(e.TgZ(0,"div",165,166)(2,"div",5)(3,"section",167)(4,"ul",168)(5,"li",169)(6,"span",170),e._uU(7,"1"),e.qZA(),e.TgZ(8,"span",171),e._uU(9,"Prioritize Action"),e.qZA()(),e.TgZ(10,"li",169)(11,"span",170),e._uU(12,"2"),e.qZA(),e.TgZ(13,"span",171),e._uU(14,"Edit Prioritize Action"),e.qZA()(),e.TgZ(15,"li",169)(16,"span",170),e._uU(17,"3"),e.qZA(),e.TgZ(18,"span",171),e._uU(19,"Top Prioritize Action"),e.qZA()(),e.TgZ(20,"li",169)(21,"span",170),e._uU(22,"4"),e.qZA(),e.TgZ(23,"span",171),e._uU(24,"Summary"),e.qZA()()()(),e.YNc(25,_e,44,4,"div",17),e.YNc(26,Te,23,2,"div",17),e.YNc(27,Ve,5,1,"div",17),e.YNc(28,Et,23,2,"div",17),e.TgZ(29,"div",172)(30,"div",173)(31,"div",174)(32,"div",175),e.YNc(33,Mt,3,0,"button",176),e.qZA()(),e.TgZ(34,"div",174)(35,"div",37),e.YNc(36,kt,3,0,"button",177),e.YNc(37,It,3,0,"button",178),e.YNc(38,Ot,3,0,"button",177),e.qZA()()()()()()),2&d){const t=e.oxw();e.Q6J("hidden",t.divWizard),e.xp6(5),e.Q6J("ngClass",e.VKq(13,dt,1==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(15,dt,2==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(17,dt,3==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(19,dt,4==t.steps)),e.xp6(5),e.Q6J("ngIf",1==t.steps),e.xp6(1),e.Q6J("ngIf",2==t.steps),e.xp6(1),e.Q6J("ngIf",3==t.steps),e.xp6(1),e.Q6J("ngIf",4==t.steps),e.xp6(5),e.Q6J("ngIf",1!=t.steps),e.xp6(3),e.Q6J("ngIf",t.steps<4),e.xp6(1),e.Q6J("ngIf",4==t.steps),e.xp6(1),e.Q6J("ngIf",4==t.steps)}}function Lt(d,U){if(1&d&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td",145)(11,"a",151),e._UZ(12,"i",147),e.qZA()()()),2&d){const t=U.$implicit;e.xp6(2),e.Oqu(t.source),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(7,4,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}const at=function(d){return{"is-invalid":d}};let Rt=(()=>{class d{constructor(t,_,V,re,xe,ke,qe,je,rt,_t,mt,vt){this.fb=t,this.toastr=_,this.spinner=V,this.route=re,this.service=xe,this.serviceSubdomain=ke,this.servicePriorityAction=qe,this.serviceDraft=je,this.servicePlan=rt,this.serviceCountry=_t,this.serviceHazardtype=mt,this.router=vt,this.formsubmitted=!1,this.plan_id=0,this.available_plan=0,this.selected_plan_type=[],this.onmerges=[],this.subdomains=[],this.modeAction="create",this.countSelectedResponse=0,this.countSelectedDomains=[],this.formImportFile=!1,this.showCrossCutting=0,this.selects=0,this.files=[],this.steps=1,this.divWizard=!1,this.route.queryParams.subscribe(Je=>{this.findCountry(Je.country,Je.hazard_type),this.countryCode=Je.country,this.hazardTypeId=Je.hazard_type,this.getAllDraft(0|Je.plan_id),this.findPlan(0|Je.plan_id),this.plan_id=Je.plan_id,this.steps=1})}ngOnInit(){this.getAllDomain(),this.clearForm(),this.clearFormMerge(),this.getPlantype(),this.getAllhazardType(),this.form=this.fb.group({planId:["",E.kI.required],hazardTypeId:["",E.kI.required],planTypeId:["",E.kI.required],action:["",E.kI.required],estimatedCost:["",E.kI.required]})}getAllhazardType(){this.serviceHazardtype.getAll().subscribe(t=>this.hazardType=t)}get f(){return this.form.controls}submitForm(){let t={planId:this.form.value.planId,hazardTypeId:this.form.value.hazardTypeId,sourceResponsePlans:[{planTypeId:this.form.value.planTypeId}],action:this.form.value.action,estimatedCost:this.form.value.estimatedCost};this.formsubmitted=!0,!this.form.invalid&&(console.log(t),this.spinner.show(),this.serviceDraft.create(t).subscribe({next:()=>{this.getAllDraft(this.plan_id)},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}}),this.formsubmitted=!1,this.form.reset({planId:"",hazardTypeId:"",planTypeId:""}))}onImportFile(){this.formImportFile=1!=this.formImportFile}onFileupload(){for(let t=0;t<this.files.length;t++)console.log({PlanId:this.plan_id,Name:this.files[t].name,Size:this.files[t].size,PlanTypeId:"1",File:"url"})}clearForm(){this.plan={name:null,isSubmitted:!1}}clearFormMerge(){this.formMerge={action:null,estimatedCost:null,estimatedPeriod:null,planId:this.plan_id,isMerged:!0,isSelected:!0,domainId:null}}findCountry(t,_){this.serviceCountry.getByCode(t).subscribe(V=>{this.countryId=V.id,this.getAllPlan(V.id,_)})}getAllPlan(t,_){this.servicePlan.getByCountry(t).subscribe(V=>{this.plans=V;let re=Object.keys(V);this.available_plan=re.length,0==re.length&&this.showModalAddPlan()})}addPlan(){this.servicePlan.create({countryId:this.countryId,hazardTypeId:this.hazardTypeId,name:this.plan.name}).subscribe(_=>{this.getAllPlan(this.countryId,this.hazardTypeId),this.router.navigate(["/import/action-plan"],{queryParams:{plan_id:_.id},queryParamsHandling:"merge"})})}findPlan(t){this.servicePlan.find(t).subscribe(_=>{this.plan=_,1==this.plan.isSubmitted&&this.getAllDomainWithDraftResponse(this.plan.id)})}submitActionPlan(){this.servicePlan.updateIsSubmitted(this.plan_id,{isSubmitted:!0}).subscribe(()=>{this.divWizard=!1,this.findPlan(this.plan_id),this.modeAction="create",this.getAllDomain(),this.countSelectedResponse=0})}updateActionPlan(){this.servicePlan.updateIsSubmitted(this.plan_id,{isSubmitted:!1}).subscribe(()=>{this.divWizard=!1,this.findPlan(this.plan_id),this.modeAction="update",this.steps=1})}selectPlantype(t=[]){this.selects=t.target.value,console.log(this.selects)}getPlantype(){this.service.getPlantype().subscribe(t=>{this.plantypes=t,this.array_plan_type=t})}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}onReset(t){this.files=[]}getAllDraft(t){this.servicePriorityAction.getAll(t).subscribe(_=>{this.draftresponses=_})}getAllDomain(){this.countSelectedDomains=[],this.service.getDomain().subscribe(t=>{this.domains=t;let _=Object.keys(t).length;for(let V=0;V<_;V++){const re=t[V];this.countSelectedDomains.push({id:re.id,name:re.name,count:0})}})}getAllDomainWithDraftResponse(t){this.servicePriorityAction.getAllDomainWithDraftResponse(t).subscribe(_=>{this.priorityactions=_})}next(){this.steps=this.steps+1,this.steps>1&&this.getAllDomainWithDraftResponse(this.plan_id)}previous(){this.steps=this.steps-1,1==this.steps&&(this.getAllDraft(this.plan_id),this.getAllDomain(),this.countSelectedResponse=0)}divWizardFunction(){this.divWizard=!this.divWizard}onClickSelectDraft(t){this.serviceDraft.updateIsSelected(t.target.value,{isSelected:t.target.checked}).subscribe(),t.target.checked?this.countSelectedResponse++:this.countSelectedResponse--}onChangeDomain(t,_,V){this.serviceDraft.updateDomainId(t,{domainId:_.target.value}).subscribe(),this.getSubDomainByDomain(_.target.value,V);const xe=this.countSelectedDomains.findIndex(ke=>ke.id==_.target.value);if(_.target.value>0&&this.countSelectedDomains[xe].count++,this.domainIdBeforeChange!=_.target.value){const ke=this.countSelectedDomains.findIndex(qe=>qe.id==this.domainIdBeforeChange);ke>=0&&this.countSelectedDomains[ke].count--}}onClickDomain(t){this.domainIdBeforeChange=t.target.value}getSubDomainByDomain(t,_){this.serviceSubdomain.getByDomain(t).subscribe(V=>{this.subdomains[_]=V})}onDeleteSelectDraft(t){let _={isSelected:!1,domainId:null};this.serviceDraft.updateIsSelected(t,_).subscribe(()=>{this.serviceDraft.updateDomainId(t,_).subscribe(()=>{this.getAllDomainWithDraftResponse(this.plan_id)})})}showModalAddPlan(){this.element=document.getElementById("modalAddPlan"),this.element.click()}selectToOnMerge(t,_,V){if(V.target.checked)this.serviceDraft.find(t).forEach(re=>{this.onmerges.push({draftId:t,action:re.action,estimatedCost:re.estimatedCost,estimatedPeriod:re.estimatedPeriod,domainId:_,source:re.sourceResponsePlans[0]?re.sourceResponsePlans[0].planType.name:"-",planTypeId:re.sourceResponsePlans[0]?re.sourceResponsePlans[0].planType.id:0})});else{const re=this.onmerges.findIndex(xe=>xe.draftId===t);this.onmerges.splice(re,1)}}onClickMergeAction(t){let _=this.plan_id;this.formMerge.domainId=t,this.formMerge.planId=_,this.formMerge.sourceResponsePlans=this.onmerges}saveMergeAction(){this.serviceDraft.create(this.formMerge).subscribe({next:t=>{this.getAllDomainWithDraftResponse(this.plan_id),this.clearFormMerge(),this.parentId=t.id},error:t=>{console.log(t)},complete:()=>{this.onmerges.forEach(t=>{this.serviceDraft.deleteByMerge(t.draftId,this.parentId).subscribe()})}}),setTimeout(()=>{this.onmerges=[],this.getAllDomainWithDraftResponse(this.plan_id)},3e3),this.clearFormMerge()}sumEstimatedCost(t){let _=0;return this.priorityactions[t].draftResponses.forEach(V=>{_+=V.estimatedCost}),_}sumEstimatedPeriod(t){let _=0;return this.priorityactions[t].draftResponses.forEach(V=>{_+=V.estimatedPeriod}),_}updatePriority(t,_,V){this.serviceDraft.updatePriority(_,{planId:this.plan_id,domainId:t,priority:V.value}).subscribe(()=>{this.getAllDomainWithDraftResponse(this.plan_id)})}filterCrossCutting(t){this.showCrossCutting=0,t.checked&&(this.showCrossCutting=1)}scroll(t){var re=t.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:re,behavior:"smooth"})}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(E.qu),e.Y36(Y._W),e.Y36(q.t2),e.Y36(z.gz),e.Y36(Z.f),e.Y36(W.$),e.Y36($.A),e.Y36(G),e.Y36(A.D),e.Y36(y.T),e.Y36(N.$),e.Y36(z.F0))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-actionplan"]],decls:139,vars:37,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],["actionPlan",""],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary","mb-4",2,"color","#00205C"],[1,"d-flex","flex-row","bd-highlight"],[1,"bd-highlight"],[1,"nav","nav-pills","text-center"],["class","nav-item",4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#createPlan",1,"nav-item",2,"max-width","40px"],["id","modalAddPlan",1,"nav-link"],[1,"bi","bi-plus-lg"],[2,"margin-top","0","margin-bottom","1.5rem!important"],["class","d-flex justify-content-between mb-4",4,"ngIf"],["class","d-flex justify-content-end mb-4",4,"ngIf"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"accordion","mb-4","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne",1,"accordion-button","collapsed","lh-1","fs-14"],[1,"badge","bg-info","me-2"],["id","collapseOne",1,"accordion-collapse","collapse"],[1,"accordion-body","p-4","fs-12"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","planId",1,"form-select","fs-14",3,"ngClass"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","hazardTypeId",1,"form-select","fs-14",3,"ngClass"],["formControlName","planTypeId",1,"form-select","fs-14",3,"ngClass"],["formControlName","action",1,"form-control","fs-14",3,"ngClass"],["formControlName","estimatedCost","type","number",1,"form-control","fs-14",3,"ngClass"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px"],["class","card mb-4 border-0",3,"hidden",4,"ngIf"],["id","createPlan","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",2,"background-color","#F7F7F7"],[1,"modal-body","my-2"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn",2,"background-color","transparent","color","#616161","border","none","font-size","12px"],["data-bs-dismiss","modal","type","button",1,"btn","px-4",2,"background-color","#058FCB","color","white","border","none","font-size","12px",3,"click"],["id","mergePlan","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-centered"],[1,"modal-body"],[1,"row","mb-4"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"table","mb-0"],["width","80px"],["width","140px"],["width","230px"],["width","40px",1,"text-center"],[4,"ngFor","ngForOf"],["type","button","data-bs-dismiss","modal",1,"btn",2,"background-color","transparent","color","#616161","border","none","font-size","14px"],["type","button","data-bs-dismiss","modal",1,"btn","px-4",2,"background-color","#058FCB","color","white","border","none","font-size","14px",3,"click"],[1,"nav-item"],["routerLinkActive","active",1,"btn","nav-link","fs-14",3,"routerLink","queryParams","queryParamsHandling","routerLinkActiveOptions"],[1,"d-flex","justify-content-between","mb-4"],[1,"d-flex","align-items-center"],[4,"ngIf"],["type","button",1,"btn","btn-primary",2,"color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-plus","pe-2"],[1,"d-flex","justify-content-end","mb-4"],[1,"bi","bi-pencil-square","pe-2"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"py-2"],[1,"row","py-2"],[1,"col-md-3","px-3"],["ngx-dropzone","","accept","application/pdf",1,"position-relative","custom-dropzone","border-upload",3,"change"],[1,"position-absolute","top-50","start-50","translate-middle","text-center"],[1,"fs-12"],["xmlns","http://www.w3.org/2000/svg","width","35","height","35","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-download"],["d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"],["d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"],[1,"col-md-9"],[1,"table-responsive","mb-4"],[1,"table"],[1,"progress","mb-4"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","0%"],["type","button",1,"btn","btn-upload","btn-action",3,"click"],[1,"bi","bi-upload","pe-2"],["type","button",1,"btn","btn-outline-warning","btn-action"],[1,"bi","bi-x-lg","pe-2"],["type","button",1,"btn","btn-outline-danger","btn-action",3,"click"],[1,"bi","bi-trash3","pe-2"],[1,"align-middle","td-upload"],[1,"align-middle"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"],[3,"change"],["selected",""],["type","button",1,"btn","btn-outline-danger","btn-td",3,"click"],[1,"bi","bi-trash3"],[3,"value"],[1,"card-body","px-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","mb-3"],[1,"card-body","card-type","py-4",3,"ngClass"],[1,"col-3","ms-2","d-flex","justify-content-center","card-plan-icon"],["class","bi-file-earmark-text fs-4 position-absolute top-50 translate-middle-y",4,"ngIf"],["class","bi-check-lg fs-4 position-absolute top-50 translate-middle-y","style","color:#058FCB;",4,"ngIf"],[1,"col-9","d-flex","align-items-center"],[1,"fs-14"],[1,"fs-14","text-secondary"],[1,"bi-file-earmark-text","fs-4","position-absolute","top-50","translate-middle-y"],[1,"bi-check-lg","fs-4","position-absolute","top-50","translate-middle-y",2,"color","#058FCB"],[1,"invalid-feedback"],[1,"dropdown"],["type","button","id","filteraction","data-bs-toggle","dropdown","aria-expanded","false","data-bs-display","static",1,"btn","fs-12",2,"border","1px solid #024664"],[1,"bi","bi-funnel","pe-2"],["aria-labelledby","filteraction",1,"dropdown-menu","dropdown-menu-lg-end","fs-12",2,"width","250px !important"],[1,"row","px-4","mb-4"],[1,"fw-bold","col-md-8","p-0","text-md-start"],[1,"col-md-4","p-0","text-md-end","fs-10"],["href","javascript:void(0)",1,"text-decoration-none"],[1,"row","px-4"],[1,"col-md-8","p-0","text-md-start"],[1,"col-md-4","p-0","text-md-end"],[1,"form-switch","p-0"],["type","checkbox","role","switch",1,"form-check-input","m-0",3,"value","click"],["class","accordion mb-3",4,"ngFor","ngForOf"],[1,"accordion","mb-3"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"card"],[1,"card-body","p-0"],[1,"text-white",2,"background-color","#024664"],["width","80px",1,"text-center"],["style","background-color: #FFFB3D;",4,"ngIf"],["colspan","7"],["class","text-center text-white","style","background-color: red;",4,"ngIf"],[1,"text-center"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"],[1,"text-center","text-white",2,"background-color","red"],["style","background-color: #ededed",4,"ngFor","ngForOf"],[2,"background-color","#ededed"],["href","#",1,"btn","btn-outline-primary","btn-sm","btn-td"],[2,"background-color","#FFFB3D"],["colspan","4",1,"text-center","text-dark","fw-bold"],[1,"text-dark","fw-bold"],[1,"row","fs-12"],[1,"pagination"],[1,"page-item"],["href","#","aria-label","Previous",1,"page-link","text-dark","border-0"],["aria-hidden","true"],[1,"bi","bi-chevron-left"],[1,"page-item","active"],["href","#",1,"page-link","text-dark","border-0"],["href","#","aria-label","Next",1,"page-link","text-dark","border-0"],[1,"bi","bi-chevron-right"],[1,"card","mb-4","border-0",3,"hidden"],["actionWizard",""],[1,"step-wizard"],[1,"step-wizard-list"],[1,"step-wizard-item",3,"ngClass"],[1,"progress-count"],[1,"progress-label"],[1,"container","p-0","mb-4"],[1,"row","row-cols-2"],[1,"col"],[1,"d-flex","justify-content-start"],["type","button","class","btn","style","background-color: transparent; color: #058FCB; border: none; font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn","style","background-color: #058FCB; color: white; border: none; font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-primary mx-4","style","color: white; border: none; font-size: 12px;",4,"ngIf"],[1,"col-6"],["width","120px"],[1,"text-center","text-dark","fw-bold"],["width","50px",1,"text-center"],["width","100px"],["colspan","5"],["type","checkbox",1,"form-check-input",3,"value","click"],[1,"wizard",3,"change","click"],["selected","",3,"value"],[1,"wizard"],[1,"card","mb-4"],["type","button","data-bs-toggle","modal","data-bs-target","#mergePlan",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-collection","pe-2"],["colspan","8"],["type","checkbox",1,"form-check-input","bg-green",3,"click"],[1,"btn","btn-outline-danger","btn-sm","btn-td",3,"click"],["width","100px",1,"text-center"],[1,"wizard",3,"change"],[3,"value","selected"],["type","button",1,"btn",2,"background-color","transparent","color","#058FCB","border","none","font-size","12px",3,"click"],[1,"bi","bi-chevron-left","pe-2"],["type","button",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-chevron-right","ps-2"],["type","button",1,"btn","btn-primary","mx-4",2,"color","white","border","none","font-size","12px"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4)(5,"div",5)(6,"h4",6),e._uU(7,"Action Plan"),e.qZA(),e.TgZ(8,"div",7)(9,"div",8)(10,"ul",9),e.YNc(11,i,3,9,"li",10),e.TgZ(12,"li",11)(13,"a",12),e._UZ(14,"i",13),e.qZA()()()()(),e._UZ(15,"hr",14),e.YNc(16,p,8,2,"div",15),e.YNc(17,w,5,0,"div",16),e.YNc(18,P,45,1,"div",17),e.YNc(19,X,6,1,"div",17),e.TgZ(20,"div",18)(21,"div",19)(22,"h2",20)(23,"button",21),e._UZ(24,"span",22),e._uU(25," Add Draft Response "),e.qZA()(),e.TgZ(26,"div",23)(27,"div",24)(28,"form",25),e.NdJ("ngSubmit",function(){return _.submitForm()}),e.TgZ(29,"div",26)(30,"label",27),e._uU(31,"Plan"),e.qZA(),e.TgZ(32,"div",28)(33,"select",29)(34,"option",30),e._uU(35,"Choose Plan"),e.qZA(),e.YNc(36,C,2,2,"option",31),e.qZA(),e.YNc(37,a,2,1,"div",32),e.qZA()(),e.TgZ(38,"div",26)(39,"label",27),e._uU(40,"Hazard Type"),e.qZA(),e.TgZ(41,"div",28)(42,"select",33)(43,"option",30),e._uU(44,"Choose Hazard Type"),e.qZA(),e.YNc(45,b,2,2,"option",31),e.qZA(),e.YNc(46,n,2,1,"div",32),e.qZA()(),e.TgZ(47,"div",26)(48,"label",27),e._uU(49,"Plan Type"),e.qZA(),e.TgZ(50,"div",28)(51,"select",34)(52,"option",30),e._uU(53,"Choose Plan Type"),e.qZA(),e.YNc(54,l,2,2,"option",31),e.qZA(),e.YNc(55,F,2,1,"div",32),e.qZA()(),e.TgZ(56,"div",26)(57,"label",27),e._uU(58,"Action"),e.qZA(),e.TgZ(59,"div",28),e._UZ(60,"textarea",35),e.YNc(61,f,2,1,"div",32),e.qZA()(),e.TgZ(62,"div",26)(63,"label",27),e._uU(64,"Estimated Cost"),e.qZA(),e.TgZ(65,"div",28),e._UZ(66,"input",36),e.YNc(67,te,2,1,"div",32),e.qZA()(),e.TgZ(68,"div",37)(69,"button",38),e._uU(70,"Submit"),e.qZA()()()()()()(),e.YNc(71,oe,23,2,"div",17),e.YNc(72,k,88,0,"div",17),e.qZA()(),e.YNc(73,Ft,39,21,"div",39),e.qZA()()(),e.TgZ(74,"div",40)(75,"div",41)(76,"div",42)(77,"div",43)(78,"h5",44),e._uU(79,"Create Action Plan"),e.qZA(),e._UZ(80,"button",45),e.qZA(),e.TgZ(81,"div",46)(82,"div",1)(83,"label",47),e._uU(84,"Plan Name"),e.qZA(),e.TgZ(85,"div",48)(86,"input",49),e.NdJ("ngModelChange",function(re){return _.plan.name=re}),e.qZA()()()(),e.TgZ(87,"div",50)(88,"button",51),e._uU(89,"Cancel"),e.qZA(),e.TgZ(90,"button",52),e.NdJ("click",function(){return _.addPlan()}),e._uU(91,"Save"),e.qZA()()()()(),e.TgZ(92,"div",53)(93,"div",54)(94,"div",42)(95,"div",43)(96,"h5",44),e._uU(97,"Merge Piority Action"),e.qZA(),e._UZ(98,"button",45),e.qZA(),e.TgZ(99,"div",55)(100,"div",56)(101,"label",27),e._uU(102,"Action Name"),e.qZA(),e.TgZ(103,"div",28)(104,"input",49),e.NdJ("ngModelChange",function(re){return _.formMerge.action=re}),e.qZA()()(),e.TgZ(105,"div",56)(106,"label",27),e._uU(107,"Estimated Cost"),e.qZA(),e.TgZ(108,"div",28)(109,"input",57),e.NdJ("ngModelChange",function(re){return _.formMerge.estimatedCost=re}),e.qZA()()(),e.TgZ(110,"div",56)(111,"label",27),e._uU(112,"Estimated Implementation Periode"),e.qZA(),e.TgZ(113,"div",28)(114,"input",57),e.NdJ("ngModelChange",function(re){return _.formMerge.estimatedPeriod=re}),e.qZA()()(),e.TgZ(115,"div",1)(116,"label",47),e._uU(117,"List of Priority Action"),e.qZA(),e.TgZ(118,"div",58)(119,"table",59)(120,"thead")(121,"tr")(122,"th",60),e._uU(123,"Source"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"Action"),e.qZA(),e.TgZ(126,"th",61),e._uU(127,"Estimated Cost"),e.qZA(),e.TgZ(128,"th",62),e._uU(129,"Estimated Implementation Period"),e.qZA(),e.TgZ(130,"th",63),e._uU(131,"File"),e.qZA()()(),e.TgZ(132,"tbody"),e.YNc(133,Lt,13,6,"tr",64),e.qZA()()()()(),e.TgZ(134,"div",50)(135,"button",65),e._uU(136,"Cancel"),e.qZA(),e.TgZ(137,"button",66),e.NdJ("click",function(){return _.saveMergeAction()}),e._uU(138,"Save"),e.qZA()()()()()),2&t&&(e.xp6(11),e.Q6J("ngForOf",_.plans),e.xp6(5),e.Q6J("ngIf",_.available_plan>0&&0==_.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",_.available_plan>0&&1==_.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",_.available_plan>0&&1==_.formImportFile),e.xp6(1),e.Q6J("ngIf",_.available_plan>0),e.xp6(9),e.Q6J("formGroup",_.form),e.xp6(5),e.Q6J("ngClass",e.VKq(27,at,_.formsubmitted&&_.f.planId.errors)),e.xp6(3),e.Q6J("ngForOf",_.plans),e.xp6(1),e.Q6J("ngIf",_.formsubmitted&&_.f.planId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(29,at,_.formsubmitted&&_.f.hazardTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",_.hazardType),e.xp6(1),e.Q6J("ngIf",_.formsubmitted&&_.f.hazardTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(31,at,_.formsubmitted&&_.f.planTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",_.plantypes),e.xp6(1),e.Q6J("ngIf",_.formsubmitted&&_.f.planTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(33,at,_.formsubmitted&&_.f.action.errors)),e.xp6(1),e.Q6J("ngIf",_.formsubmitted&&_.f.action.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(35,at,_.formsubmitted&&_.f.estimatedCost.errors)),e.xp6(1),e.Q6J("ngIf",_.formsubmitted&&_.f.estimatedCost.errors),e.xp6(4),e.Q6J("ngIf",1==_.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",1==_.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",_.available_plan>0&&0==_.plan.isSubmitted),e.xp6(13),e.Q6J("ngModel",_.plan.name),e.xp6(18),e.Q6J("ngModel",_.formMerge.action),e.xp6(5),e.Q6J("ngModel",_.formMerge.estimatedCost),e.xp6(5),e.Q6J("ngModel",_.formMerge.estimatedPeriod),e.xp6(19),e.Q6J("ngForOf",_.onmerges))},dependencies:[s.mk,s.sg,s.O5,z.yS,z.Od,D._f,E._Y,E.YN,E.Kr,E.Fj,E.wV,E.EJ,E.JJ,E.JL,E.sg,E.u,E.On,s.JJ],styles:['.card-plan[_ngcontent-%COMP%]{background-color:#d7f0fb}.card-plan-icon[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;width:50px;height:50px}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background-color:#058fcb;border-radius:0}.nav-link[_ngcontent-%COMP%]{color:#424242;min-width:120px;height:40px}.nav-item[_ngcontent-%COMP%]{font-weight:500;font-size:16px;background-color:#f7f7f7;border-right:2px solid #FFFFFF;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;gap:10px}.modal-header[_ngcontent-%COMP%]{border:0;padding:2rem 3rem!important}.modal-body[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important;padding-bottom:3rem!important}.modal-footer[_ngcontent-%COMP%]{border:0;background-color:#f7f7f7;padding-right:1.5rem!important;padding-left:1.5rem!important}thead[_ngcontent-%COMP%]{background:#024664}th[_ngcontent-%COMP%]{font-weight:550;font-size:12px;line-height:20px;padding-top:15px;padding-bottom:15px;color:#fff}.wizard[_ngcontent-%COMP%]{border:none}.btn-td[_ngcontent-%COMP%]{font-size:11px}.td-upload[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;font-weight:400;font-size:11px;line-height:17px}.btn-upload[_ngcontent-%COMP%], .btn-upload[_ngcontent-%COMP%]:hover, .btn-upload[_ngcontent-%COMP%]:focus{background-color:#9747ff;border-color:#9747ff;color:#fff}.border-upload[_ngcontent-%COMP%]{border-style:dashed;border-width:2px;border-color:#9747ff;background:#F8F7FE;color:#9747ff}.btn-action[_ngcontent-%COMP%]{font-size:12px;margin-bottom:10px;margin-right:10px}ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{height:240px}.step-wizard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.step-wizard-list[_ngcontent-%COMP%]{display:flex;padding:20px 10px;position:relative;z-index:10}.step-wizard-item[_ngcontent-%COMP%]{padding:0 20px;flex-basis:0;flex-grow:1;max-width:100%;display:flex;flex-direction:column;text-align:center;min-width:170px;position:relative}.step-wizard-item[_ngcontent-%COMP%] + .step-wizard-item[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:19px;background:#058FCB;width:100%;height:2px;transform:translate(-50%);z-index:-10}.progress-count[_ngcontent-%COMP%]{height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-weight:600;margin:0 auto;position:relative;z-index:10;color:#fff}.progress-count[_ngcontent-%COMP%]:after{content:"";height:40px;width:40px;background:#058FCB;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:50%;z-index:-10}.progress-count[_ngcontent-%COMP%]:before{content:"";position:absolute}.progress-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;width:200px;margin-top:10px;color:#058fcb}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:before, .current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:before{display:none}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:after{border:2px solid #40404068;background:#FFFFFF}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:#404040;opacity:.5}.current-item[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:#404040;opacity:.5}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{color:#40404068}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:after{background:#FFFFFF;border:2px solid #058FCB}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{color:#058fcb}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){border-top:none}']}),d})();var Zt=O(2447);function Nt(d,U){1&d&&(e.TgZ(0,"tr")(1,"td",19),e._uU(2,"No data found"),e.qZA()())}function Dt(d,U){if(1&d&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&d){const t=U.$implicit;e.xp6(2),e.Oqu(t.name)}}function Ut(d,U){if(1&d&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",20)(4,"table",14)(5,"tbody"),e.YNc(6,Dt,3,1,"tr",18),e.qZA()()()()),2&d){const t=U.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(4),e.Q6J("ngForOf",t.donorPartners)}}let qt=(()=>{class d{constructor(t,_){this.activatedRoute=t,this.serviceDonorPartner=_,this.domains=[],this.activatedRoute.queryParams.subscribe(V=>{V.hazard_type&&V.country?this.getDonorPartners(V.country,V.hazard_type):this.domains=[]})}ngOnInit(){}getDonorPartners(t,_){this.serviceDonorPartner.getByCountryAndHazard(t,_).subscribe(V=>{this.domains=V})}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(z.gz),e.Y36(Zt.P))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-donorandpartner"]],decls:26,vars:2,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary",2,"color","#00205C"],[1,"accordion","mb-3","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerOne","aria-expanded","true","aria-controls","donorAndPartnerOne",1,"accordion-button","lh-1","fs-14"],["id","donorAndPartnerOne",1,"accordion-collapse","collapse","show"],[1,"accordion-body","p-4","fs-12"],[1,"card","mb-3"],[1,"card-body","p-0"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],["width","50%"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"p-0"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Donor and Partner Landscape"),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"h2",8)(10,"button",9),e._uU(11," List of Donor and Partner "),e.qZA()(),e.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"table",14)(17,"thead",15)(18,"tr")(19,"th",16),e._uU(20,"Readiness Domain"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Partner"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,Nt,3,0,"tr",17),e.YNc(25,Ut,7,2,"tr",18),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(24),e.Q6J("ngIf",0==_.domains.length),e.xp6(1),e.Q6J("ngForOf",_.domains))},dependencies:[s.sg,s.O5]}),d})();var Bt=O(1959);function zt(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"No data found."),e.qZA())}function Vt(d,U){1&d&&(e.TgZ(0,"tr")(1,"td",22),e._uU(2,"No data found."),e.qZA()())}function jt(d,U){if(1&d&&(e.TgZ(0,"tr")(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",23)(6,"a",24),e._UZ(7,"i",25),e.qZA()()()),2&d){const t=U.$implicit,_=U.index;e.xp6(2),e.Oqu(_+1),e.xp6(2),e.Oqu(t.name)}}function Ht(d,U){if(1&d&&(e.TgZ(0,"div",8)(1,"div",9)(2,"h2",10)(3,"button",11)(4,"span",12),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",13)(8,"div",14)(9,"div",15)(10,"div",16)(11,"table",17)(12,"thead",18)(13,"tr")(14,"th",19),e._uU(15,"No"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Policies"),e.qZA(),e.TgZ(18,"th",20),e._uU(19,"File"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,Vt,3,0,"tr",6),e.YNc(22,jt,8,2,"tr",21),e.qZA()()()()()()()()),2&d){const t=U.$implicit,_=U.index;e.xp6(3),e.uIk("data-bs-target","#strategicPolicy"+t.id),e.xp6(2),e.Oqu(_+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","strategicPolicy",t.id,""),e.xp6(14),e.Q6J("ngIf",0==t.policies.length),e.xp6(1),e.Q6J("ngForOf",t.policies)}}let Wt=(()=>{class d{constructor(t,_){this.activatedRoute=t,this.servicePolicy=_,this.categories=[],this.activatedRoute.queryParams.subscribe(V=>{V.hazard_type&&V.country?this.getPolicies(V.country,V.hazard_type):this.categories=[]})}ngOnInit(){}getPolicies(t,_){this.servicePolicy.getByCountryAndHazard(t,_).subscribe(V=>{this.categories=V})}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(z.gz),e.Y36(Bt.d))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-strategicpolicies"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary",2,"color","#00205C"],[4,"ngIf"],["class","accordion mb-3 shadow-sm",4,"ngFor","ngForOf"],[1,"accordion","mb-3","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"badge","bg-info","me-2"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"accordion-body","p-4","fs-12"],[1,"card"],[1,"card-body","p-0"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],["width","40px",1,"text-center"],["width","80px",1,"text-center"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"text-center"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Strategic Policies"),e.qZA(),e.YNc(7,zt,2,0,"div",6),e.YNc(8,Ht,23,6,"div",7),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",0==_.categories.length),e.xp6(1),e.Q6J("ngForOf",_.categories))},dependencies:[s.sg,s.O5]}),d})();var et=O(4393);let Gt=(()=>{class d{constructor(t){this.httpClient=t,this.url=J.N.apiURL+"/nationalcapacityassesment"}getAll(){return this.httpClient.get(this.url)}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}UpdateIsSubmitted(t,_){return this.httpClient.put(this.url+"/"+t+"/isSubmitted",_)}}return d.\u0275fac=function(t){return new(t||d)(e.LFG(j.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();var Yt=O(8459),Jt=O(9111),Qt=O(746);let $t=(()=>{class d{constructor(t){this.httpClient=t,this.url=J.N.apiURL+"/assesmentdocument"}getAll(){return this.httpClient.get(this.url)}getByCountryAndAssesment(t,_){return this.httpClient.get(this.url+"/"+t+"/"+_+"/bycountryandassesment")}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}update(t,_){return this.httpClient.put(this.url+"/"+t,_)}delete(t){return this.httpClient.delete(this.url+"/"+t)}}return d.\u0275fac=function(t){return new(t||d)(e.LFG(j.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();var Xt=O(2731),Kt=O(4132),en=O(1215),tn=O(8482),bt=O(1188);let nn=(()=>{class d{constructor(t){this.httpClient=t,this.url=J.N.apiURL+"/checkliststate"}getStateOfChecklist(t,_,V,re){return this.httpClient.get(this.url+"/"+t+"/"+_+"/"+V+"/"+re+"/stateofchecklist")}updateStatus(t){return this.httpClient.post(this.url+"/updatestatus",t)}updateFunction(t){return console.log("updateFunction:",this.url+"/updatefunction",t),this.httpClient.post(this.url+"/updatefunction",t)}updateComment(t){return console.log("updatecomment:",this.url+"/updatecomment",t),this.httpClient.post(this.url+"/updatecomment",t)}}return d.\u0275fac=function(t){return new(t||d)(e.LFG(j.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();var rn=O(8421),sn=O(8306),an=O(5577),on=O(1144),tt=O(576),ln=O(3268);const cn=["addListener","removeListener"],dn=["addEventListener","removeEventListener"],un=["on","off"];function Ne(d,U,t,_){if((0,tt.m)(t)&&(_=t,t=void 0),_)return Ne(d,U,t).pipe((0,ln.Z)(_));const[V,re]=function fn(d){return(0,tt.m)(d.addEventListener)&&(0,tt.m)(d.removeEventListener)}(d)?dn.map(xe=>ke=>d[xe](U,ke,t)):function hn(d){return(0,tt.m)(d.addListener)&&(0,tt.m)(d.removeListener)}(d)?cn.map(At(d,U)):function pn(d){return(0,tt.m)(d.on)&&(0,tt.m)(d.off)}(d)?un.map(At(d,U)):[];if(!V&&(0,on.z)(d))return(0,an.z)(xe=>Ne(xe,U,t))((0,rn.Xf)(d));if(!V)throw new TypeError("Invalid event target");return new sn.y(xe=>{const ke=(...qe)=>xe.next(1<qe.length?qe:qe[0]);return V(ke),()=>re(ke)})}function At(d,U){return t=>_=>d[t](U,_)}var gn=O(7579),yt=O(2076),De=O(2722),_n=O(727);class mn extends _n.w0{constructor(U,t){super()}schedule(U,t=0){return this}}const ut={setInterval(d,U,...t){const{delegate:_}=ut;return _?.setInterval?_.setInterval(d,U,...t):setInterval(d,U,...t)},clearInterval(d){const{delegate:U}=ut;return(U?.clearInterval||clearInterval)(d)},delegate:void 0};var vn=O(8737);const Ct={now:()=>(Ct.delegate||Date).now(),delegate:void 0};class ot{constructor(U,t=ot.now){this.schedulerActionCtor=U,this.now=t}schedule(U,t=0,_){return new this.schedulerActionCtor(this,U).schedule(_,t)}}ot.now=Ct.now;const yn=new class An extends ot{constructor(U,t=ot.now){super(U,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(U){const{actions:t}=this;if(this._active)return void t.push(U);let _;this._active=!0;do{if(_=U.execute(U.state,U.delay))break}while(U=t.shift());if(this._active=!1,_){for(;U=t.shift();)U.unsubscribe();throw _}}}(class bn extends mn{constructor(U,t){super(U,t),this.scheduler=U,this.work=t,this.pending=!1}schedule(U,t=0){if(this.closed)return this;this.state=U;const _=this.id,V=this.scheduler;return null!=_&&(this.id=this.recycleAsyncId(V,_,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(V,this.id,t),this}requestAsyncId(U,t,_=0){return ut.setInterval(U.flush.bind(U,this),_)}recycleAsyncId(U,t,_=0){if(null!=_&&this.delay===_&&!1===this.pending)return t;ut.clearInterval(t)}execute(U,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _=this._execute(U,t);if(_)return _;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(U,t){let V,_=!1;try{this.work(U)}catch(re){_=!0,V=re||new Error("Scheduled action threw falsy error")}if(_)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:U,scheduler:t}=this,{actions:_}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,vn.P)(_,this),null!=U&&(this.id=this.recycleAsyncId(t,U,null)),this.delay=null,super.unsubscribe()}}});var Cn=O(4482),xn=O(5403),Tn=O(9300),it=O(6036),ht=O.t(it,2),He=O(2813),xt=O.t(He,2);const Sn=["pdfViewerContainer"];function Pt(d,U){const t=new d.EventBus;return function wn(d,U){Ne(d,"documentload").pipe((0,De.R)(U)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),Ne(d,"pagerendered").pipe((0,De.R)(U)).subscribe(({pageNumber:t,cssTransform:_,source:V})=>{const re=document.createEvent("CustomEvent");re.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:_}),V.div.dispatchEvent(re)}),Ne(d,"textlayerrendered").pipe((0,De.R)(U)).subscribe(({pageNumber:t,source:_})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),_.textLayerDiv.dispatchEvent(V)}),Ne(d,"pagechanging").pipe((0,De.R)(U)).subscribe(({pageNumber:t,source:_})=>{const V=document.createEvent("UIEvents");V.initEvent("pagechanging",!0,!0),V.pageNumber=t,_.container.dispatchEvent(V)}),Ne(d,"pagesinit").pipe((0,De.R)(U)).subscribe(({source:t})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(_)}),Ne(d,"pagesloaded").pipe((0,De.R)(U)).subscribe(({pagesCount:t,source:_})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),_.container.dispatchEvent(V)}),Ne(d,"scalechange").pipe((0,De.R)(U)).subscribe(({scale:t,presetValue:_,source:V})=>{const re=document.createEvent("UIEvents");re.initEvent("scalechange",!0,!0),re.scale=t,re.presetValue=_,V.container.dispatchEvent(re)}),Ne(d,"updateviewarea").pipe((0,De.R)(U)).subscribe(({location:t,source:_})=>{const V=document.createEvent("UIEvents");V.initEvent("updateviewarea",!0,!0),V.location=t,_.container.dispatchEvent(V)}),Ne(d,"find").pipe((0,De.R)(U)).subscribe(({source:t,type:_,query:V,phraseSearch:re,caseSensitive:xe,highlightAll:ke,findPrevious:qe})=>{if(t===window)return;const je=document.createEvent("CustomEvent");je.initCustomEvent("find"+_,!0,!0,{query:V,phraseSearch:re,caseSensitive:xe,highlightAll:ke,findPrevious:qe}),window.dispatchEvent(je)}),Ne(d,"attachmentsloaded").pipe((0,De.R)(U)).subscribe(({attachmentsCount:t,source:_})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),_.container.dispatchEvent(V)}),Ne(d,"sidebarviewchanged").pipe((0,De.R)(U)).subscribe(({view:t,source:_})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),_.outerContainer.dispatchEvent(V)}),Ne(d,"pagemode").pipe((0,De.R)(U)).subscribe(({mode:t,source:_})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("pagemode",!0,!0,{mode:t}),_.pdfViewer.container.dispatchEvent(V)}),Ne(d,"namedaction").pipe((0,De.R)(U)).subscribe(({action:t,source:_})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("namedaction",!0,!0,{action:t}),_.pdfViewer.container.dispatchEvent(V)}),Ne(d,"presentationmodechanged").pipe((0,De.R)(U)).subscribe(({active:t,switchInProgress:_})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:_}),window.dispatchEvent(V)}),Ne(d,"outlineloaded").pipe((0,De.R)(U)).subscribe(({outlineCount:t,source:_})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),_.container.dispatchEvent(V)})}(t,U),t}function pt(d,U,t){d[U]=t}function lt(){return typeof window>"u"}lt()||pt(ht,"verbosity",it.VerbosityLevel.INFOS);var nt=(()=>{return(d=nt||(nt={}))[d.DISABLED=0]="DISABLED",d[d.ENABLED=1]="ENABLED",d[d.ENHANCED=2]="ENHANCED",nt;var d})();let En=(()=>{class d{constructor(t,_){if(this.element=t,this.ngZone=_,this.isVisible=!1,this._cMapsUrl=typeof ht<"u"?`https://unpkg.com/pdfjs-dist@${it.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=nt.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new gn.x,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),lt())return;let V;V=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${it.version}/legacy/build/pdf.worker.min.js`,pt(it.GlobalWorkerOptions,"workerSrc",V)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const _=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,_!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return He.LinkTarget.BLANK;case"none":return He.LinkTarget.NONE;case"self":return He.LinkTarget.SELF;case"parent":return He.LinkTarget.PARENT;case"top":return He.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(t){if(!lt()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:nt.DISABLED,this.resetPdfDocument()):"showAll"in t&&this.resetPdfDocument(),"page"in t){const{page:_}=t;if(_.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const t=this.getCurrentViewer();(0,yt.D)(this._pdf.getPage(t.currentPageNumber)).pipe((0,De.R)(this.destroy$)).subscribe({next:_=>{const V=this._rotation||_.rotate,re=_.getViewport({scale:this._zoom,rotation:V}).width*d.CSS_UNITS;let xe=this._zoom,ke=!0;if(!this._originalSize||this._fitToPage&&re>this.pdfViewerContainer.nativeElement.clientWidth){const qe=_.getViewport({scale:1,rotation:V});xe=this.getScale(qe.width,qe.height),ke=!this._stickToPage}t._setScale(xe,ke)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const t={},_=d.getLinkTarget(this._externalLinkTarget);return _&&(t.externalLinkTarget=_),t}setupMultiPageViewer(){pt(ht,"disableTextLayer",!this._renderText);const t=Pt(xt,this.destroy$);Ne(t,"pagerendered").pipe((0,De.R)(this.destroy$)).subscribe(V=>{this.pageRendered.emit(V)}),Ne(t,"pagesinit").pipe((0,De.R)(this.destroy$)).subscribe(V=>{this.pageInitialized.emit(V)}),Ne(t,"pagechanging").pipe((0,De.R)(this.destroy$)).subscribe(({pageNumber:V})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=V,this.pageChange.emit(V)},100)}),Ne(t,"textlayerrendered").pipe((0,De.R)(this.destroy$)).subscribe(V=>{this.textLayerRendered.emit(V)}),this.pdfMultiPageLinkService=new He.PDFLinkService({eventBus:t,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new He.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:t});const _={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:nt.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new He.PDFViewer(_),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){pt(ht,"disableTextLayer",!this._renderText);const t=Pt(xt,this.destroy$);Ne(t,"pagechanging").pipe((0,De.R)(this.destroy$)).subscribe(({pageNumber:V})=>{V!==this._page&&(this.page=V)}),Ne(t,"pagerendered").pipe((0,De.R)(this.destroy$)).subscribe(V=>{this.pageRendered.emit(V)}),Ne(t,"pagesinit").pipe((0,De.R)(this.destroy$)).subscribe(V=>{this.pageInitialized.emit(V)}),Ne(t,"textlayerrendered").pipe((0,De.R)(this.destroy$)).subscribe(V=>{this.textLayerRendered.emit(V)}),this.pdfSinglePageLinkService=new He.PDFLinkService({eventBus:t,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new He.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:t});const _={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:nt.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new He.PDFSinglePageViewer(_),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const _={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===t?_.url=this.src:"object"===t&&(void 0!==this.src.byteLength?_.data=this.src:Object.assign(_,this.src)),_}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=it.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=_=>{this.onProgress.emit(_)};const t=this.src;(0,yt.D)(this.loadingTask.promise).pipe((0,De.R)(this.destroy$)).subscribe({next:_=>{this._pdf=_,this.lastLoaded=t,this.afterLoadComplete.emit(_),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:_=>{this.lastLoaded=null,this.onError.emit(_)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const t=this.getCurrentViewer();(0!==this._rotation||t.pagesRotation!==this._rotation)&&setTimeout(()=>{t.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{t.currentPageNumber=this._page}),this.updateSize()}getScale(t,_){const V=this._showBorders?2*d.BORDER_WIDTH:0,re=this.pdfViewerContainer.nativeElement.clientWidth-V,xe=this.pdfViewerContainer.nativeElement.clientHeight-V;if(0===xe||0===_||0===re||0===t)return 1;let ke=1;switch(this._zoomScale){case"page-fit":ke=Math.min(xe/_,re/t);break;case"page-height":ke=xe/_;break;default:ke=re/t}return this._zoom*ke/d.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){lt()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){lt()||this.ngZone.runOutsideAngular(()=>{Ne(window,"resize").pipe(function Pn(d,U=yn){return(0,Cn.e)((t,_)=>{let V=null,re=null,xe=null;const ke=()=>{if(V){V.unsubscribe(),V=null;const je=re;re=null,_.next(je)}};function qe(){const je=xe+d,rt=U.now();if(rt<je)return V=this.schedule(void 0,je-rt),void _.add(V);ke()}t.subscribe((0,xn.x)(_,je=>{re=je,xe=U.now(),V||(V=U.schedule(qe,d),_.add(V))},()=>{ke(),_.complete()},void 0,()=>{re=V=null}))})}(100),(0,Tn.h)(()=>this._canAutoResize&&!!this._pdf),(0,De.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return d.CSS_UNITS=96/72,d.BORDER_WIDTH=9,d.\u0275fac=function(t){return new(t||d)(e.Y36(e.SBq),e.Y36(e.R0b))},d.\u0275cmp=e.Xpm({type:d,selectors:[["pdf-viewer"]],viewQuery:function(t,_){if(1&t&&e.Gf(Sn,5),2&t){let V;e.iGM(V=e.CRH())&&(_.pdfViewerContainer=V.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),d})(),Mn=(()=>{class d{}return d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({}),d})();function kn(d,U){if(1&d&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function In(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42),e.NdJ("click",function(){const re=e.CHM(t).$implicit,xe=e.oxw();return e.KtG(xe.showByAssesment(re.assesment.id))}),e.TgZ(2,"div",43)(3,"div",1)(4,"div",44),e._UZ(5,"i",45),e.qZA(),e.TgZ(6,"div",46)(7,"div",47)(8,"a",48),e._uU(9),e.qZA()(),e.TgZ(10,"div",49),e._uU(11),e.qZA()()()()()()}if(2&d){const t=U.$implicit;e.xp6(9),e.Oqu(t.assesment.title),e.xp6(2),e.Oqu(t.assesment.subtitle)}}const Tt=function(d){return{width:d}};function On(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"tr")(1,"td",71),e._uU(2),e.qZA(),e.TgZ(3,"td",71),e._uU(4),e.qZA(),e.TgZ(5,"td",71)(6,"div",72),e._UZ(7,"div",73),e.qZA()(),e.TgZ(8,"td",71)(9,"select")(10,"option",74),e._uU(11,"EBOLA Response Plan"),e.qZA(),e.TgZ(12,"option",75),e._uU(13,"One"),e.qZA(),e.TgZ(14,"option",76),e._uU(15,"Two"),e.qZA(),e.TgZ(16,"option",77),e._uU(17,"Three"),e.qZA()()(),e.TgZ(18,"td",71)(19,"button",78),e.NdJ("click",function(){const re=e.CHM(t).$implicit,xe=e.oxw(2);return e.KtG(xe.onRemove(re))}),e._UZ(20,"i",79),e.qZA()()()}if(2&d){const t=U.$implicit,_=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.size),e.xp6(3),e.Q6J("ngStyle",e.VKq(3,Tt,_.progressStyle))}}function Fn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",50)(2,"h6",15),e._uU(3,"Import File"),e.qZA(),e.TgZ(4,"div",51)(5,"div",52)(6,"div",53),e.NdJ("change",function(V){e.CHM(t);const re=e.oxw();return e.KtG(re.onSelect(V))}),e.TgZ(7,"div",54)(8,"h6",55),e._uU(9,"DROP FILE HERE TO UPLOAD"),e.qZA(),e.O4$(),e.TgZ(10,"svg",56),e._UZ(11,"path",57)(12,"path",58),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",59)(14,"p"),e._uU(15,"Upload Queue"),e.qZA(),e.TgZ(16,"div",60)(17,"table",61)(18,"thead")(19,"tr")(20,"th"),e._uU(21,"NAME"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"SIZE"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"PROGRESS"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"CATEGORY"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"ACTION"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,On,21,5,"tr",62),e.qZA()()(),e.TgZ(32,"p"),e._uU(33,"Progsess Queue"),e.qZA(),e.TgZ(34,"div",63),e._UZ(35,"div",64),e.qZA(),e.TgZ(36,"button",65),e.NdJ("click",function(){e.CHM(t);const V=e.oxw();return e.KtG(V.onUploadAll())}),e._UZ(37,"i",66),e._uU(38," Upload All"),e.qZA(),e.TgZ(39,"button",67),e._UZ(40,"i",68),e._uU(41," Cancel All"),e.qZA(),e.TgZ(42,"button",69),e.NdJ("click",function(){e.CHM(t);const V=e.oxw();return e.KtG(V.onReset())}),e._UZ(43,"i",70),e._uU(44," Remove All"),e.qZA()()()()()}if(2&d){const t=e.oxw();e.xp6(31),e.Q6J("ngForOf",t.files),e.xp6(4),e.Q6J("ngStyle",e.VKq(2,Tt,t.progressStyle))}}function Ln(d,U){if(1&d&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Rn(d,U){1&d&&(e.TgZ(0,"p"),e._uU(1,"Hazard Type is Required"),e.qZA())}function Zn(d,U){if(1&d&&(e.TgZ(0,"div",80),e.YNc(1,Rn,2,0,"p",81),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.hazardTypeId.errors.required)}}function Nn(d,U){if(1&d&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.s9C("value",t.category.id),e.xp6(1),e.Oqu(t.category.name)}}function Dn(d,U){1&d&&(e.TgZ(0,"p"),e._uU(1,"Category is Required"),e.qZA())}function Un(d,U){if(1&d&&(e.TgZ(0,"div",80),e.YNc(1,Dn,2,0,"p",81),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nationalCapacityCategoryId.errors.required)}}function qn(d,U){1&d&&(e.TgZ(0,"p"),e._uU(1,"Checklist is Required"),e.qZA())}function Bn(d,U){if(1&d&&(e.TgZ(0,"div",80),e.YNc(1,qn,2,0,"p",81),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.action.errors.required)}}function zn(d,U){if(1&d&&(e.TgZ(0,"div",3)(1,"div",82)(2,"h6",83),e._uU(3,"Initial Rapid Need Assesment"),e.qZA(),e.TgZ(4,"div",84)(5,"div",85)(6,"div",13)(7,"div",50),e._UZ(8,"pdf-viewer",86),e.qZA()()()()()()),2&d){const t=e.oxw();e.xp6(8),e.Q6J("src",t.pdfSrcIRNA)("original-size",!1)("zoom",1)}}function Vn(d,U){1&d&&(e.TgZ(0,"div",3)(1,"div",82)(2,"h6",83),e._uU(3,"Point of Entry"),e.qZA(),e._UZ(4,"div",87),e.qZA()())}function jn(d,U){1&d&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Readiness Checklist Status"),e.qZA(),e.TgZ(4,"div",89)(5,"div",14)(6,"h6",15),e._uU(7,"Result"),e.qZA(),e._UZ(8,"canvas",90),e.qZA()(),e.TgZ(9,"div",13)(10,"div",14)(11,"h6",15),e._uU(12,"History"),e.qZA(),e.TgZ(13,"div",91)(14,"div",2)(15,"div",92)(16,"div",93)(17,"table",94)(18,"thead",95)(19,"tr")(20,"th"),e._uU(21,"Date"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Assessor"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Type"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Description"),e.qZA()()(),e.TgZ(28,"tbody")(29,"tr")(30,"td"),e._uU(31,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(32,"td"),e._uU(33,"Admin 1"),e.qZA(),e.TgZ(34,"td"),e._uU(35,"Self Assessment"),e.qZA(),e.TgZ(36,"td"),e._uU(37,"-"),e.qZA()(),e.TgZ(38,"tr")(39,"td"),e._uU(40,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(41,"td"),e._uU(42,"Admin 1"),e.qZA(),e.TgZ(43,"td"),e._uU(44,"Self Assessment"),e.qZA(),e.TgZ(45,"td"),e._uU(46,"-"),e.qZA()(),e.TgZ(47,"tr")(48,"td"),e._uU(49,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(50,"td"),e._uU(51,"Admin 1"),e.qZA(),e.TgZ(52,"td"),e._uU(53,"Self Assessment"),e.qZA(),e.TgZ(54,"td"),e._uU(55,"-"),e.qZA()(),e.TgZ(56,"tr")(57,"td"),e._uU(58,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(59,"td"),e._uU(60,"Admin 1"),e.qZA(),e.TgZ(61,"td"),e._uU(62,"Self Assessment"),e.qZA(),e.TgZ(63,"td"),e._uU(64,"-"),e.qZA()(),e.TgZ(65,"tr")(66,"td"),e._uU(67,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(68,"td"),e._uU(69,"Admin 1"),e.qZA(),e.TgZ(70,"td"),e._uU(71,"Self Assessment"),e.qZA(),e.TgZ(72,"td"),e._uU(73,"-"),e.qZA()()()()()(),e.TgZ(74,"div",36)(75,"nav")(76,"ul",96)(77,"li",97)(78,"a",98)(79,"span",99),e._UZ(80,"i",100),e.qZA()()(),e.TgZ(81,"li",101)(82,"a",102),e._uU(83,"1"),e.qZA()(),e.TgZ(84,"li",97)(85,"a",102),e._uU(86,"2"),e.qZA()(),e.TgZ(87,"li",97)(88,"a",102),e._uU(89,"3"),e.qZA()(),e.TgZ(90,"li",97)(91,"a",102),e._uU(92,"4"),e.qZA()(),e.TgZ(93,"li",97)(94,"a",103)(95,"span",99),e._UZ(96,"i",104),e.qZA()()()()()()()()()()()())}function Hn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"textarea",131),e.NdJ("change",function(V){e.CHM(t);const re=e.oxw().$implicit,xe=e.oxw(3);return e.KtG(xe.updateFunction(re.id,V.target))}),e._uU(1),e.qZA()}if(2&d){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.function)}}function Wn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"textarea",131),e.NdJ("change",function(V){e.CHM(t);const re=e.oxw().$implicit,xe=e.oxw(3);return e.KtG(xe.updateComment(re.id,V.target))}),e._uU(1),e.qZA()}if(2&d){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.comment)}}function Gn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div")(1,"input",132),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw().$implicit,xe=e.oxw(3);return e.KtG(xe.updateStatus(re.id,V.target))}),e.qZA()()}if(2&d){const t=e.oxw(),_=t.index,V=t.$implicit,re=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",re,"",_,""),e.Q6J("checked",1===V.status)}}function Yn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const V=e.oxw().$implicit,re=e.oxw(3);return e.KtG(re.getStateOfChecklist(V.id,1))}),e._UZ(3,"i",135),e.qZA()()}if(2&d){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusYes,"% ")}}function Jn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div")(1,"input",136),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw().$implicit,xe=e.oxw(3);return e.KtG(xe.updateStatus(re.id,V.target))}),e.qZA()()}if(2&d){const t=e.oxw(),_=t.index,V=t.$implicit,re=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",re,"",_,""),e.Q6J("checked",2===V.status)}}function Qn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const V=e.oxw().$implicit,re=e.oxw(3);return e.KtG(re.getStateOfChecklist(V.id,2))}),e._UZ(3,"i",135),e.qZA()()}if(2&d){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusNo,"% ")}}function $n(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div")(1,"input",137),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw().$implicit,xe=e.oxw(3);return e.KtG(xe.updateStatus(re.id,V.target))}),e.qZA()()}if(2&d){const t=e.oxw(),_=t.index,V=t.$implicit,re=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",re,"",_,""),e.Q6J("checked",3===V.status)}}function Xn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const V=e.oxw().$implicit,re=e.oxw(3);return e.KtG(re.getStateOfChecklist(V.id,3))}),e._UZ(3,"i",135),e.qZA()()}if(2&d){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusInProgress,"% ")}}function Kn(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div")(1,"input",138),e.NdJ("click",function(V){e.CHM(t);const re=e.oxw().$implicit,xe=e.oxw(3);return e.KtG(xe.updateStatus(re.id,V.target))}),e.qZA()()}if(2&d){const t=e.oxw(),_=t.index,V=t.$implicit,re=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",re,"",_,""),e.Q6J("checked",4===V.status)}}function ei(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const V=e.oxw().$implicit,re=e.oxw(3);return e.KtG(re.getStateOfChecklist(V.id,4))}),e._UZ(3,"i",135),e.qZA()()}if(2&d){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusNA,"% ")}}function ti(d,U){if(1&d&&(e.TgZ(0,"tr")(1,"td"),e.YNc(2,Hn,2,1,"textarea",128),e.qZA(),e.TgZ(3,"td"),e.YNc(4,Wn,2,1,"textarea",128),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",129),e.YNc(8,Gn,2,3,"div",81),e.YNc(9,Yn,4,1,"div",130),e.qZA(),e.TgZ(10,"td",129),e.YNc(11,Jn,2,3,"div",81),e.YNc(12,Qn,4,1,"div",130),e.qZA(),e.TgZ(13,"td",129),e.YNc(14,$n,2,3,"div",81),e.YNc(15,Xn,4,1,"div",130),e.qZA(),e.TgZ(16,"td",129),e.YNc(17,Kn,2,3,"div",81),e.YNc(18,ei,4,1,"div",130),e.qZA()()),2&d){const t=U.$implicit,_=e.oxw(3);e.xp6(2),e.Q6J("ngIf",_.stateId),e.xp6(2),e.Q6J("ngIf",_.stateId),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Q6J("ngIf",_.stateId),e.xp6(1),e.Q6J("ngIf",!_.stateId),e.xp6(2),e.Q6J("ngIf",_.stateId),e.xp6(1),e.Q6J("ngIf",!_.stateId),e.xp6(2),e.Q6J("ngIf",_.stateId),e.xp6(1),e.Q6J("ngIf",!_.stateId),e.xp6(2),e.Q6J("ngIf",_.stateId),e.xp6(1),e.Q6J("ngIf",!_.stateId)}}function ni(d,U){if(1&d&&(e.TgZ(0,"div",120)(1,"div",19)(2,"h2",20)(3,"button",121)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",122)(8,"div",24)(9,"div",123)(10,"div",93)(11,"table",94)(12,"thead",95)(13,"tr")(14,"th",124),e._uU(15,"Data Source"),e.qZA(),e.TgZ(16,"th",124),e._uU(17,"Comment"),e.qZA(),e.TgZ(18,"th",125),e._uU(19,"Readiness Action Checklist"),e.qZA(),e.TgZ(20,"th",126),e._uU(21,"Status"),e.qZA()(),e.TgZ(22,"tr")(23,"th",127),e._uU(24,"Yes"),e.qZA(),e.TgZ(25,"th",127),e._uU(26,"No"),e.qZA(),e.TgZ(27,"th",127),e._uU(28,"InProgress"),e.qZA(),e.TgZ(29,"th",127),e._uU(30,"N/A"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,ti,19,11,"tr",62),e.qZA()()()()()()()()),2&d){const t=U.$implicit,_=U.index;e.xp6(3),e.uIk("data-bs-target","#readinessChecklist"+t.category.id),e.xp6(2),e.Oqu(_+1),e.xp6(1),e.hij(" ",t.category.name," "),e.xp6(1),e.MGl("id","readinessChecklist",t.category.id,""),e.xp6(25),e.Q6J("ngForOf",t.category.nationalCapacityChecklists)}}function ii(d,U){1&d&&(e.TgZ(0,"div"),e._uU(1,"No data found"),e.qZA())}function ri(d,U){if(1&d&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&d){const t=U.$implicit;e.xp6(2),e.Oqu(t.name)}}function si(d,U){if(1&d&&(e.TgZ(0,"table",61)(1,"tbody"),e.YNc(2,ri,3,1,"tr",62),e.qZA()()),2&d){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.stateOfChecklist)}}function ai(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Readiness Checklist"),e.qZA(),e.TgZ(4,"div",105)(5,"div",106),e._UZ(6,"i",107),e.TgZ(7,"select",108),e.NdJ("change",function(V){e.CHM(t);const re=e.oxw();return e.KtG(re.onFilter(V))}),e.TgZ(8,"option",109),e._uU(9,"Filter by Status"),e.qZA(),e.TgZ(10,"option",75),e._uU(11,"Yes"),e.qZA(),e.TgZ(12,"option",76),e._uU(13,"No"),e.qZA(),e.TgZ(14,"option",77),e._uU(15,"InProgress"),e.qZA(),e.TgZ(16,"option",110),e._uU(17,"N/A"),e.qZA()()()(),e.YNc(18,ni,33,5,"div",111),e.TgZ(19,"div",112)(20,"div",113)(21,"div",114)(22,"div",115)(23,"h6",116),e._uU(24,"State"),e.qZA(),e._UZ(25,"button",117),e.qZA(),e.TgZ(26,"div",118),e.YNc(27,ii,2,0,"div",81),e.YNc(28,si,3,1,"table",119),e.qZA()()()()()()}if(2&d){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.categories),e.xp6(9),e.Q6J("ngIf",0==t.stateOfChecklist.length),e.xp6(1),e.Q6J("ngIf",t.stateOfChecklist.length>0)}}function oi(d,U){if(1&d){const t=e.EpF();e.TgZ(0,"div",36)(1,"button",166),e.NdJ("click",function(){e.CHM(t);const V=e.oxw(2),re=e.MAs(75);return V.onResultSearch(),e.KtG(V.scroll(re))}),e._UZ(2,"i",167),e._uU(3,"Save Result"),e.qZA()()}}function li(d,U){if(1&d&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Join External Evaluation of IHR Core Capacities of Federal Republic of Nigeria"),e.qZA(),e.TgZ(4,"div",13)(5,"div",139)(6,"div",140)(7,"div",93)(8,"table",94)(9,"thead",95)(10,"tr")(11,"th",129),e._uU(12,"NO"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Technical Area"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Indicators"),e.qZA(),e.TgZ(17,"th",129),e._uU(18,"Score"),e.qZA(),e.TgZ(19,"th",129),e._uU(20,"Source"),e.qZA()()(),e.TgZ(21,"tbody")(22,"tr")(23,"td",141),e._uU(24,"1"),e.qZA(),e.TgZ(25,"td",125),e._uU(26,"National legislation, policy and financing"),e.qZA(),e.TgZ(27,"td")(28,"strong"),e._uU(29,"Prevent"),e.qZA(),e._uU(30," : Legislation, laws, regulations, administrative requirements, policies or other government instruments in place are sufficient for implementation of IHR (2005)"),e.qZA(),e.TgZ(31,"td",142),e._uU(32,"1"),e.qZA(),e.TgZ(33,"td",141)(34,"a",143),e._UZ(35,"i",144),e.qZA()()(),e.TgZ(36,"tr")(37,"td")(38,"strong"),e._uU(39,"Prevent"),e.qZA(),e._uU(40," : The State can demonstrate that it has adjusted and aligned its domestic legislation, policies and administrative arrangements to enable compliance with IH"),e.qZA(),e.TgZ(41,"td",142),e._uU(42,"1"),e.qZA()(),e.TgZ(43,"tr")(44,"td",145),e._uU(45,"2"),e.qZA(),e.TgZ(46,"td",71),e._uU(47,"IHR coordination, communication and advocacy"),e.qZA(),e.TgZ(48,"td")(49,"strong"),e._uU(50,"Prevent"),e.qZA(),e._uU(51," : A functional mechanism is established for the coordination and integration of relevant sectors in the implementation of IHR"),e.qZA(),e.TgZ(52,"td",146),e._uU(53,"2"),e.qZA(),e.TgZ(54,"td",145)(55,"a",143),e._UZ(56,"i",144),e.qZA()()(),e.TgZ(57,"tr")(58,"td",147),e._uU(59,"3"),e.qZA(),e.TgZ(60,"td",148),e._uU(61,"Antimicrobial resistance"),e.qZA(),e.TgZ(62,"td")(63,"strong"),e._uU(64,"Prevent"),e.qZA(),e._uU(65," : Antimicrobial resistance detection"),e.qZA(),e.TgZ(66,"td",146),e._uU(67,"2"),e.qZA(),e.TgZ(68,"td",147)(69,"a",143),e._UZ(70,"i",144),e.qZA()()(),e.TgZ(71,"tr")(72,"td")(73,"strong"),e._uU(74,"Prevent"),e.qZA(),e._uU(75," : Surveillance of infections caused by antimicrobial-resistant pathogens"),e.qZA(),e.TgZ(76,"td",146),e._uU(77,"2"),e.qZA()(),e.TgZ(78,"tr")(79,"td")(80,"strong"),e._uU(81,"Prevent"),e.qZA(),e._uU(82," : Health care-associated infection (HCAI) prevention and control programmes"),e.qZA(),e.TgZ(83,"td",146),e._uU(84,"2"),e.qZA()(),e.TgZ(85,"tr")(86,"td")(87,"strong"),e._uU(88,"Prevent"),e.qZA(),e._uU(89," : Antimicrobial stewardship activities"),e.qZA(),e.TgZ(90,"td",146),e._uU(91,"2"),e.qZA()(),e.TgZ(92,"tr")(93,"td",149),e._uU(94,"3"),e.qZA(),e.TgZ(95,"td",150),e._uU(96,"Zoonotic diseases"),e.qZA(),e.TgZ(97,"td")(98,"strong"),e._uU(99,"Prevent"),e.qZA(),e._uU(100," : Surveillance systems in place for priority zoonotic diseases/pathogens"),e.qZA(),e.TgZ(101,"td",146),e._uU(102,"2"),e.qZA(),e.TgZ(103,"td",149)(104,"a",143),e._UZ(105,"i",144),e.qZA()()(),e.TgZ(106,"tr")(107,"td")(108,"strong"),e._uU(109,"Prevent"),e.qZA(),e._uU(110," : Veterinary or animal health workforce"),e.qZA(),e.TgZ(111,"td",146),e._uU(112,"2"),e.qZA()(),e.TgZ(113,"tr")(114,"td")(115,"strong"),e._uU(116,"Prevent"),e.qZA(),e._uU(117," : Mechanisms for responding to infectious and potential zoonotic diseases are established and functional"),e.qZA(),e.TgZ(118,"td",142),e._uU(119,"1"),e.qZA()(),e.TgZ(120,"tr")(121,"td",145),e._uU(122,"4"),e.qZA(),e.TgZ(123,"td",71),e._uU(124,"Food safety"),e.qZA(),e.TgZ(125,"td")(126,"strong"),e._uU(127,"Prevent"),e.qZA(),e._uU(128," : Whole-of-government biosafety and biosecurity system is in place for human, animal and agriculture facilities"),e.qZA(),e.TgZ(129,"td",146),e._uU(130,"2"),e.qZA(),e.TgZ(131,"td",145)(132,"a",143),e._UZ(133,"i",144),e.qZA()()(),e.TgZ(134,"tr")(135,"td",141),e._uU(136,"5"),e.qZA(),e.TgZ(137,"td",125),e._uU(138,"Biosafety and biosecurity"),e.qZA(),e.TgZ(139,"td")(140,"strong"),e._uU(141,"Prevent"),e.qZA(),e._uU(142," : Legislation, laws, regulations, administrative requirements, policies or other government instruments in place are sufficient for implementation of IHR (2005)"),e.qZA(),e.TgZ(143,"td",142),e._uU(144,"1"),e.qZA(),e.TgZ(145,"td",141)(146,"a",143),e._UZ(147,"i",144),e.qZA()()(),e.TgZ(148,"tr")(149,"td")(150,"strong"),e._uU(151,"Prevent"),e.qZA(),e._uU(152," : Biosafety and biosecurity training and practices"),e.qZA(),e.TgZ(153,"td",142),e._uU(154,"1"),e.qZA()(),e.TgZ(155,"tr")(156,"td",141),e._uU(157,"6"),e.qZA(),e.TgZ(158,"td",125),e._uU(159,"Immunization"),e.qZA(),e.TgZ(160,"td")(161,"strong"),e._uU(162,"Prevent"),e.qZA(),e._uU(163," : Vaccine coverage (measles) as part of national programme"),e.qZA(),e.TgZ(164,"td",146),e._uU(165,"3"),e.qZA(),e.TgZ(166,"td",141)(167,"a",143),e._UZ(168,"i",144),e.qZA()()(),e.TgZ(169,"tr")(170,"td")(171,"strong"),e._uU(172,"Prevent"),e.qZA(),e._uU(173," : National vaccine access and delivery"),e.qZA(),e.TgZ(174,"td",151),e._uU(175,"4"),e.qZA()(),e.TgZ(176,"tr")(177,"td",147),e._uU(178,"7"),e.qZA(),e.TgZ(179,"td",148),e._uU(180,"National laboratory system"),e.qZA(),e.TgZ(181,"td")(182,"strong"),e._uU(183,"Detect"),e.qZA(),e._uU(184," : Laboratory testing for detection of priority diseases "),e.qZA(),e.TgZ(185,"td",146),e._uU(186,"3"),e.qZA(),e.TgZ(187,"td",147)(188,"a",143),e._UZ(189,"i",144),e.qZA()()(),e.TgZ(190,"tr")(191,"td")(192,"strong"),e._uU(193,"Detect"),e.qZA(),e._uU(194," : Specimen referral and transport system"),e.qZA(),e.TgZ(195,"td",142),e._uU(196,"1"),e.qZA()(),e.TgZ(197,"tr")(198,"td")(199,"strong"),e._uU(200,"Detect"),e.qZA(),e._uU(201," : Effective modern point-of-care and laboratory-based diagnostics"),e.qZA(),e.TgZ(202,"td",146),e._uU(203,"2"),e.qZA()(),e.TgZ(204,"tr")(205,"td")(206,"strong"),e._uU(207,"Detect"),e.qZA(),e._uU(208," : Laboratory quality system"),e.qZA(),e.TgZ(209,"td",146),e._uU(210,"2"),e.qZA()(),e.TgZ(211,"tr")(212,"td",147),e._uU(213,"8"),e.qZA(),e.TgZ(214,"td",148),e._uU(215,"Real-time surveillance"),e.qZA(),e.TgZ(216,"td")(217,"strong"),e._uU(218,"Detect"),e.qZA(),e._uU(219," : Indicator- and event-based surveillance systems"),e.qZA(),e.TgZ(220,"td",146),e._uU(221,"3"),e.qZA(),e.TgZ(222,"td",147)(223,"a",143),e._UZ(224,"i",144),e.qZA()()(),e.TgZ(225,"tr")(226,"td")(227,"strong"),e._uU(228,"Detect"),e.qZA(),e._uU(229," : Interoperable, interconnected, electronic real-time reporting system"),e.qZA(),e.TgZ(230,"td",146),e._uU(231,"2"),e.qZA()(),e.TgZ(232,"tr")(233,"td")(234,"strong"),e._uU(235,"Detect"),e.qZA(),e._uU(236," : Integration and analysis of surveillance data"),e.qZA(),e.TgZ(237,"td",146),e._uU(238,"3"),e.qZA()(),e.TgZ(239,"tr")(240,"td")(241,"strong"),e._uU(242,"Detect"),e.qZA(),e._uU(243," : Syndromic surveillance systems"),e.qZA(),e.TgZ(244,"td",146),e._uU(245,"3"),e.qZA()(),e.TgZ(246,"tr")(247,"td",141),e._uU(248,"9"),e.qZA(),e.TgZ(249,"td",125),e._uU(250,"Reporting"),e.qZA(),e.TgZ(251,"td")(252,"strong"),e._uU(253,"Detect"),e.qZA(),e._uU(254," : System for efficient reporting to FAO, OIE and WHO"),e.qZA(),e.TgZ(255,"td",146),e._uU(256,"3"),e.qZA(),e.TgZ(257,"td",141)(258,"a",143),e._UZ(259,"i",144),e.qZA()()(),e.TgZ(260,"tr")(261,"td")(262,"strong"),e._uU(263,"Detect"),e.qZA(),e._uU(264," : Reporting network and protocols in country"),e.qZA(),e.TgZ(265,"td",146),e._uU(266,"2"),e.qZA()(),e.TgZ(267,"tr")(268,"td",149),e._uU(269,"10"),e.qZA(),e.TgZ(270,"td",150),e._uU(271,"Workforce development"),e.qZA(),e.TgZ(272,"td")(273,"strong"),e._uU(274,"Detect"),e.qZA(),e._uU(275," : Human resources available to implement IHR core capacity requirements"),e.qZA(),e.TgZ(276,"td",146),e._uU(277,"3"),e.qZA(),e.TgZ(278,"td",149)(279,"a",143),e._UZ(280,"i",144),e.qZA()()(),e.TgZ(281,"tr")(282,"td")(283,"strong"),e._uU(284,"Detect"),e.qZA(),e._uU(285," : FETP1 or other applied epidemiology training programme in place"),e.qZA(),e.TgZ(286,"td",151),e._uU(287,"4"),e.qZA()(),e.TgZ(288,"tr")(289,"td")(290,"strong"),e._uU(291,"Detect"),e.qZA(),e._uU(292," : Workforce strategy"),e.qZA(),e.TgZ(293,"td",146),e._uU(294,"2"),e.qZA()()()()()()()(),e.TgZ(295,"div",152)(296,"div",153)(297,"div",91)(298,"div",154)(299,"div",92)(300,"div",155),e._UZ(301,"pdf-viewer",156),e.qZA()()(),e.TgZ(302,"div",157)(303,"h6",158),e._uU(304,"Search Result"),e.qZA(),e.TgZ(305,"div",92)(306,"div",93)(307,"table",94)(308,"thead",95)(309,"tr")(310,"th",159),e._uU(311,"No"),e.qZA(),e.TgZ(312,"th",160),e._uU(313,"Technical Area"),e.qZA(),e.TgZ(314,"th"),e._uU(315,"Indicators"),e.qZA(),e.TgZ(316,"th",160),e._uU(317,"Source"),e.qZA()()(),e.TgZ(318,"tbody")(319,"tr")(320,"td",129),e._uU(321,"1"),e.qZA(),e.TgZ(322,"td")(323,"strong"),e._uU(324,"Food safety"),e.qZA()(),e.TgZ(325,"td"),e._uU(326,"Whole-of-government biosafety and biosecurity system is in place for human, animal and agriculture facilities"),e.qZA(),e.TgZ(327,"td"),e._uU(328,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(329,"tr")(330,"td",161),e._uU(331,"2"),e.qZA(),e.TgZ(332,"td",162)(333,"strong"),e._uU(334,"Immunization"),e.qZA()(),e.TgZ(335,"td"),e._uU(336,"Vaccine coverage (measles) as part of national programme"),e.qZA(),e.TgZ(337,"td",162),e._uU(338,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(339,"tr")(340,"td"),e._uU(341,"National vaccine access and delivery"),e.qZA()(),e.TgZ(342,"tr")(343,"td",163),e._uU(344,"3"),e.qZA(),e.TgZ(345,"td",164)(346,"strong"),e._uU(347,"National laboratory system"),e.qZA()(),e.TgZ(348,"td"),e._uU(349,"National laboratory system"),e.qZA(),e.TgZ(350,"td",164),e._uU(351,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(352,"tr")(353,"td"),e._uU(354,"Specimen referral and transport system"),e.qZA()(),e.TgZ(355,"tr")(356,"td"),e._uU(357,"Effective modern point-of-care and laboratory-based diagnostics"),e.qZA()(),e.TgZ(358,"tr")(359,"td"),e._uU(360,"Laboratory quality system"),e.qZA()(),e.TgZ(361,"tr")(362,"td",163),e._uU(363,"4"),e.qZA(),e.TgZ(364,"td",164)(365,"strong"),e._uU(366,"Real-time surveillance"),e.qZA()(),e.TgZ(367,"td"),e._uU(368,"Indicator- and event-based surveillance systems"),e.qZA(),e.TgZ(369,"td",164),e._uU(370,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(371,"tr")(372,"td"),e._uU(373,"Interoperable, interconnected, electronic real-time reporting system"),e.qZA()(),e.TgZ(374,"tr")(375,"td"),e._uU(376,"Integration and analysis of surveillance data"),e.qZA()(),e.TgZ(377,"tr")(378,"td"),e._uU(379,"Syndromic surveillance systems"),e.qZA()(),e.TgZ(380,"tr")(381,"td",161),e._uU(382,"5"),e.qZA(),e.TgZ(383,"td",162)(384,"strong"),e._uU(385,"Reporting"),e.qZA()(),e.TgZ(386,"td"),e._uU(387,"System for efficient reporting to FAO, OIE and WHO"),e.qZA(),e.TgZ(388,"td",162),e._uU(389,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(390,"tr")(391,"td"),e._uU(392,"Reporting network and protocols in country"),e.qZA()()()()()(),e.YNc(393,oi,4,0,"div",165),e.qZA()()()()()()),2&d){const t=e.oxw();e.xp6(301),e.Q6J("src",t.pdfSrc)("render-text",!0)("original-size",!1)("zoom",1),e.xp6(92),e.Q6J("ngIf",0==t.assesment.isSubmitted&&t.isButtonVisible1)}}function ci(d,U){1&d&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"e-SPAR : State Parties Annual Report"),e.qZA(),e.TgZ(4,"div",168)(5,"div",1)(6,"div",169)(7,"div",123)(8,"div",170)(9,"div",171),e._uU(10,"Main Challenges"),e.qZA(),e.TgZ(11,"div",172),e._uU(12," Based on the analysis of the latest annual reporting data, the top challenges are : "),e.qZA(),e.TgZ(13,"div",173)(14,"div",174),e._uU(15,"C1 Policy, Legal and Normative Instruments to Implement IHR"),e.qZA(),e.TgZ(16,"table",94)(17,"tr")(18,"td",175)(19,"div",176)(20,"div",177),e._UZ(21,"div",178),e.qZA()()(),e.TgZ(22,"td",179),e._uU(23,"30%"),e.qZA()()()(),e.TgZ(24,"div",173)(25,"div",174),e._uU(26,"C6 Human Resources"),e.qZA(),e.TgZ(27,"table",94)(28,"tr")(29,"td",175)(30,"div",176)(31,"div",177),e._UZ(32,"div",180),e.qZA()()(),e.TgZ(33,"td",179),e._uU(34,"40%"),e.qZA()()()(),e.TgZ(35,"div",173)(36,"div",174),e._uU(37,"C14 Chemical Events"),e.qZA(),e.TgZ(38,"table",94)(39,"tr")(40,"td",175)(41,"div",176)(42,"div",177),e._UZ(43,"div",180),e.qZA()()(),e.TgZ(44,"td",179),e._uU(45,"40%"),e.qZA()()()(),e.TgZ(46,"div",173)(47,"div",174),e._uU(48,"C8 Health Service Provision"),e.qZA(),e.TgZ(49,"table",94)(50,"tr")(51,"td",175)(52,"div",176)(53,"div",177),e._UZ(54,"div",181),e.qZA()()(),e.TgZ(55,"td",179),e._uU(56,"47%"),e.qZA()()()(),e.TgZ(57,"div",173)(58,"div",174),e._uU(59,"C9 Infection Prevention and Control (IPC)"),e.qZA(),e.TgZ(60,"table",94)(61,"tr")(62,"td",175)(63,"div",176)(64,"div",177),e._UZ(65,"div",181),e.qZA()()(),e.TgZ(66,"td",179),e._uU(67,"47%"),e.qZA()()()()()()(),e.TgZ(68,"div",169)(69,"div",182)(70,"div",170)(71,"div",183),e._uU(72,"IHR Designated Points of Entry"),e.qZA(),e.TgZ(73,"div",184)(74,"div",1)(75,"div",185),e._uU(76,"Ports"),e.qZA(),e.TgZ(77,"div",186),e._uU(78,"1"),e.qZA()()(),e.TgZ(79,"div",184)(80,"div",1)(81,"div",185),e._uU(82,"Airports"),e.qZA(),e.TgZ(83,"div",186),e._uU(84,"3"),e.qZA()()(),e.TgZ(85,"div",184)(86,"div",1)(87,"div",185),e._uU(88,"Ground Crossings"),e.qZA(),e.TgZ(89,"div",186),e._uU(90,"0"),e.qZA()()(),e.TgZ(91,"div",184)(92,"div",1)(93,"div",185),e._uU(94,"Autorized port to issue ship sanitation certificates"),e.qZA(),e.TgZ(95,"div",186),e._uU(96,"No"),e.qZA()()()()()(),e.TgZ(97,"div",187)(98,"div",188)(99,"div",50)(100,"div",1)(101,"div",189),e._uU(102," All Capacities Average "),e._UZ(103,"br"),e._uU(104," (Updated on 07-06-2022) "),e.qZA(),e.TgZ(105,"div",190),e._UZ(106,"canvas",191),e.TgZ(107,"span"),e._uU(108,"Nigeria"),e.qZA()(),e.TgZ(109,"div",190),e._UZ(110,"canvas",192),e.TgZ(111,"span"),e._uU(112,"AFRO"),e.qZA()(),e.TgZ(113,"div",190),e._UZ(114,"canvas",193),e.TgZ(115,"span",194),e._uU(116,"Global Average"),e.qZA()()()()()(),e.TgZ(117,"div",187)(118,"div",188)(119,"div",170)(120,"div",1)(121,"div",195),e._uU(122," IHR Score Per Capacity AFRO Nigeria 2021 "),e.qZA(),e.TgZ(123,"div",2),e._UZ(124,"canvas",196),e.qZA()()()()()()()()())}const gt=function(d){return{"is-invalid":d}};let di=(()=>{class d{constructor(t,_,V,re,xe,ke,qe,je,rt,_t,mt,vt,Je,Ci,xi,Pi,Ti){this.activatedRoute=t,this.serviceAssesment=_,this.serviceCategory=V,this.serviceChecklist=re,this.serviceCountry=xe,this.serviceHazardtype=ke,this.spinner=qe,this.fb=je,this.toastr=rt,this.serviceCountryAssesment=_t,this.serviceAssesmentDoc=mt,this.servicePoeMarker=vt,this.serviceHazardTypeCategory=Je,this.serviceState=Ci,this.serviceCity=xi,this.serviceStorage=Pi,this.serviceChecklistState=Ti,this.dataChartNationalCapacities=[0,0,0,0],this.dataChart0=[0,100],this.dataChart1=[0,100],this.dataChart2=[0,100],this.dataChartScoreCapacityBar=[0,0,0,0,0,0,0,0,0,0,0,0],this.dataChartScoreCapacityLine=[0,0,0,0,0,0,0,0,0,0,0,0],this.pdfSrc="../assets/WHO-WHE-CPI-REP-2017-46-eng.pdf",this.pdfSrcIRNA="../assets/Multi_Sector_IRNA_Tool-ISWG.pdf",this.uploadIRNAdoc=!1,this.showSection1=!1,this.showSection2=!1,this.showSection3=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.isButtonVisible1=!0,this.isButtonVisible2=!0,this.isImportVisible=!1,this.categories=[],this.stateOfChecklist=[],this.formsubmitted=!1,this.countryAssesments=[],this.pinIcon=L.icon({iconUrl:"./assets/pin.png",iconSize:[32,32]}),this.files=[],et.kL.register(...et.zX),this.activatedRoute.queryParams.subscribe(ft=>{ft.hazard_type&&ft.country&&(this.hazardTypeId=ft.hazard_type,this.findAssesment(ft.hazard_type),this.showSection1=!1,this.showSection2=!1,this.showSection3=!1,this.showSection4=!1,this.showSectionIRNA=!1,this.isButtonVisible1=!0,this.isButtonVisible2=!0,this.categories=[],this.clearForm())})}initMap(){this.map=L.map("mapPointOfEntry",{center:L.latLng(-2.44565,117.8888),zoom:5}),L.esri.Vector.vectorBasemapLayer("ArcGIS:Streets",{apikey:"AAPK8acc523775224c1f958527e7933989d1v8h60qdvzoYxwZ9tr466u7fbO5fQavRbW40xv-IvbmkZfa6zjTBE-nvzhBOBPaRv"}).addTo(this.map),this.servicePoeMarker.getAll().subscribe(t=>{t.forEach(_=>{L.marker([_.latitude,_.longitude],{icon:this.pinIcon}).addTo(this.map)})})}showByAssesment(t){3==t?1==this.showSection4?this.showSection4=!1:(this.assesment.isSubmitted=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.showSection4=!0,setTimeout(()=>{this.initMap()},2e3)):2==t?1==this.showSectionEspar?this.showSectionEspar=!1:(this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionIRNA=!1,this.showSectionEspar=!0,setTimeout(()=>{this.getesparChart()},2e3)):1==t?1==this.assesment.isSubmitted?this.assesment.isSubmitted=!1:(this.assesment.isSubmitted=!0,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.categories=[],this.clearForm(),this.findAssesment(this.hazardTypeId),this.getCategory()):4==t&&(this.assesmentId=t,1==this.uploadIRNAdoc?(this.isImportVisible=!1,this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!0):(this.isImportVisible=!0,this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1))}getAssesmentDoc(){this.serviceAssesmentDoc.getByCountryAndAssesment(this.countryId,this.assesmentId).subscribe(t=>{this.pdfSrcIRNA=t.file})}getCountryAssesment(){this.activatedRoute.queryParams.subscribe(t=>{t.country&&(this.serviceCountryAssesment.getByCountry(t.country).subscribe(_=>{this.countryAssesments=_}),this.serviceCountry.getByCode(t.country).subscribe(_=>{this.countryId=_.id,this.form.patchValue({countryId:_.id})}))})}getState(){this.activatedRoute.queryParams.subscribe(t=>{t.country&&this.serviceCountry.getByCode(t.country).subscribe(_=>{this.serviceState.getByCountry(_.id).subscribe(V=>{this.states=V,this.cities=[]})})})}getCity(t){let _=t.target.value;_&&this.serviceCity.getByState(_).subscribe(V=>{this.cities=V})}getSession(){let t=JSON.parse(this.serviceStorage.get("session"));this.userId=t.id,this.roleId=t.role?t.role.id:null,this.stateId=t.state?t.state.id:null}ngOnInit(){this.getSession(),this.clearForm(),this.getCategory(),this.getCountryAssesment(),this.getState(),this.serviceHazardtype.getAll().subscribe(t=>this.CRUDhazardType=t),this.form=this.fb.group({hazardTypeId:["",E.kI.required],nationalCapacityCategoryId:["",E.kI.required],function:[""],comment:[""],action:["",E.kI.required],countryId:null})}onSelectHazardType(t){this.serviceHazardTypeCategory.getByHazardType(t.value).subscribe(_=>{this.CRUDcategory=_})}onImportFile(){this.isImportVisible=1!=this.isImportVisible}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.spinner.show(),this.serviceChecklist.create(this.form.value).subscribe({next:()=>{},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success"),this.onUpdateResultChecklist(),this.getCategory()}}),this.formsubmitted=!1,this.form.reset({hazardTypeId:"",nationalCapacityCategoryId:"",comment:"",function:"",countryId:this.countryId}))}importVisible(){}clearForm(){this.assesment={isSubmitted:!1}}findAssesment(t){this.serviceAssesment.find(t).subscribe({next:_=>{this.assesment=_,setTimeout(()=>{3==this.roleId?this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,1).subscribe(V=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(V),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,2).subscribe(re=>{this.dataChartNationalCapacities.push(re),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,3).subscribe(xe=>{this.dataChartNationalCapacities.push(xe),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,4).subscribe(ke=>{this.dataChartNationalCapacities.push(ke),this.getMyChartNationalCapacities()})})})}):this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(V=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(V),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(re=>{this.dataChartNationalCapacities.push(re),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(xe=>{this.dataChartNationalCapacities.push(xe),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(ke=>{this.dataChartNationalCapacities.push(ke),this.getMyChartNationalCapacities()})})})})},2e3),this.getesparChart()},error:_=>{}})}onFilter(t){this.select=t.target.value,this.spinner.show(),this.categories=[],0==this.select?setTimeout(()=>{this.getCategory(),this.spinner.hide()},250):this.activatedRoute.queryParams.subscribe(_=>{_.hazard_type&&_.country?(console.log("params.hazard_type: ",_.hazard_type),console.log("params.country: ",_.country),this.serviceCategory.getByStatus(_.hazard_type,this.select).subscribe(V=>{console.log("Items res: ",V),setTimeout(()=>{Object(V).forEach(re=>{console.log("Items category: ",re),re.category.nationalCapacityChecklists.length>0&&this.categories.push(re),this.spinner.hide()})},250)}),console.log("this.categories: ",this.categories),this.hazardTypeId=_.hazard_type):(this.categories=[],this.hazardTypeId=null)})}getCategory(){this.categories=[],this.activatedRoute.queryParams.subscribe(t=>{t.hazard_type&&t.country?(this.spinner.show(),this.serviceCountry.getByCode(t.country).subscribe(_=>{this.countryId=_.id,3==this.roleId?this.serviceCategory.getByCountryStateAndHazardType(_.id,this.stateId,t.hazard_type).subscribe({next:V=>{Object(V).forEach(re=>{re.category.nationalCapacityChecklists.length>0&&this.categories.push(re)})},complete:()=>{this.spinner.hide()},error:()=>{this.spinner.hide()}}):this.serviceCategory.getByCountryAndHazardTypePercent(_.id,t.hazard_type).subscribe({next:V=>{Object(V).forEach(re=>{re.category.nationalCapacityChecklists.length>0&&this.categories.push(re)})},complete:()=>{this.spinner.hide()},error:()=>{this.spinner.hide()}}),this.hazardTypeId=t.hazard_type})):(this.categories=[],this.hazardTypeId=null)})}getMyChartNationalCapacities(){const t=document.getElementById("chartNationalCapacities");this.chartNationalCapacities=new et.kL(t,{type:"bar",data:{labels:["Completed","Not Ready","In Progress","Not Applicable"],datasets:[{data:this.dataChartNationalCapacities,backgroundColor:["rgb(172, 211, 89)","rgb(247, 157, 116)","rgb(248, 198, 108)","rgb(197, 111, 180)"]}]},options:{indexAxis:"y",responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{borderDash:[3]}},y:{grid:{display:!1}}}}})}destroyMyChartNationalCapacities(){this.chartNationalCapacities&&this.chartNationalCapacities.destroy()}getMyChart0(){const t=document.getElementById("myChart0");this.chart0=new et.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart0,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart0(){this.chart0&&this.chart0.destroy()}getMyChart1(){const t=document.getElementById("myChart1");this.chart1=new et.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart1,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart1(){this.chart1&&this.chart1.destroy()}getMyChart2(){const t=document.getElementById("myChart2");this.chart2=new et.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart2,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart2(){this.chart2&&this.chart2.destroy()}getMyChartScoreCapacity(){const t=document.getElementById("chartScoreCapacity");this.chartScoreCapacity=new et.kL(t,{type:"bar",data:{labels:["1","2","3","4","5","6","7","8","9","10","11","12"],datasets:[{data:this.dataChartScoreCapacityBar,backgroundColor:"#024664",order:1},{type:"line",data:this.dataChartScoreCapacityLine,backgroundColor:"rgb(15, 198, 194)",borderColor:"rgb(15, 198, 194)",order:0,pointStyle:"circle",pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{grid:{borderDash:[3]}}}}})}destroyMyChartScoreCapacity(){this.chartScoreCapacity&&this.chartScoreCapacity.destroy()}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}onReset(){this.files=[]}scroll(t){var re=t.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:re,behavior:"smooth"})}onUploadAll(){console.log("In upload ALL"),this.progressStyle="0%",setTimeout(()=>{this.progressStyle="20%",setTimeout(()=>{this.progressStyle="75%",setTimeout(()=>{this.progressStyle="100%",setTimeout(()=>{console.log("In upload IRNAdoc"),this.uploadIRNAdoc=!0,this.isImportVisible=!1,this.showSectionIRNA=!0},1e3)},2e3)},1e3)},1e3)}onResultSearch(){this.showSection2=!0,this.isButtonVisible1=!1}getesparChart(){setTimeout(()=>{this.dataChart0=[63,37],this.dataChart1=[49,51],this.dataChart2=[64,36],this.dataChartScoreCapacityBar=[500,520,750,470,580,420,600,590,620,400,600,580],this.dataChartScoreCapacityLine=[100,410,300,780,250,300,900,450,790,200,800,600],this.getMyChart0(),this.getMyChart1(),this.getMyChart2(),this.getMyChartScoreCapacity()},2e3)}onResultChecklist(){this.categories.length>0&&(this.serviceAssesment.UpdateIsSubmitted(this.hazardTypeId,{isSubmitted:!0}).subscribe(),this.showSection3=!0,this.isButtonVisible2=!1,setTimeout(()=>{this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(_=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(_),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(V=>{this.dataChartNationalCapacities.push(V),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(re=>{this.dataChartNationalCapacities.push(re),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(xe=>{this.dataChartNationalCapacities.push(xe),this.getMyChartNationalCapacities()})})})})},2e3),this.getesparChart())}onUpdateResultChecklist(){this.destroyMyChartNationalCapacities(),setTimeout(()=>{this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(t=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(t),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(_=>{this.dataChartNationalCapacities.push(_),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(V=>{this.dataChartNationalCapacities.push(V),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(re=>{this.dataChartNationalCapacities.push(re),this.getMyChartNationalCapacities()})})})})},2e3)}updateStatus(t,_){let V=JSON.parse(this.serviceStorage.get("session"));this.serviceChecklistState.updateStatus({checklistId:t,status:_.value,userId:V.id,countryId:this.countryId,stateId:V.state.id,hazardTypeId:this.hazardTypeId}).subscribe()}updateFunction(t,_){let V=JSON.parse(this.serviceStorage.get("session")),re={checklistId:t,function:_.value,userId:V.id,countryId:this.countryId,stateId:V.state.id,hazardTypeId:this.hazardTypeId};console.log("Function Data: ",re),this.serviceChecklistState.updateFunction(re).subscribe()}updateComment(t,_){let V=JSON.parse(this.serviceStorage.get("session")),re={checklistId:t,comment:_.value,userId:V.id,countryId:this.countryId,stateId:V.state.id,hazardTypeId:this.hazardTypeId};console.log("Comment Data: ",re),this.serviceChecklistState.updateComment(re).subscribe()}getStateOfChecklist(t,_){this.stateOfChecklist=[],this.serviceChecklistState.getStateOfChecklist(this.countryId,this.hazardTypeId,t,_).subscribe(V=>{this.stateOfChecklist=V})}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(z.gz),e.Y36(Gt),e.Y36(Yt.k),e.Y36(Jt.D),e.Y36(y.T),e.Y36(N.$),e.Y36(q.t2),e.Y36(E.qu),e.Y36(Y._W),e.Y36(Qt.m),e.Y36($t),e.Y36(Xt.Z),e.Y36(Kt.l),e.Y36(en.b),e.Y36(tn.Z),e.Y36(bt.V),e.Y36(nn))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-nationalcapacities"]],decls:79,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],["Result",""],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary","mb-4",2,"color","#00205C"],[1,"row","row-cols-lg-auto","g-2","justify-content-end","mb-4"],[1,"form-select","fs-12",2,"width","200px",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","text-white","border-0","fs-12",3,"click"],[1,"bi","bi-plus","pe-2"],[1,"card","mb-4","shadow-sm"],[1,"card-body","px-4"],[1,"py-2"],["class","col-4",4,"ngFor","ngForOf"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"accordion","mb-4","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne",1,"accordion-button","collapsed","lh-1","fs-14"],[1,"badge","bg-info","me-2"],["id","collapseOne",1,"accordion-collapse","collapse"],[1,"accordion-body","p-4","fs-12"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","hazardTypeId",1,"form-select","fs-14",3,"ngClass","change"],["value","","selected",""],["class","invalid-feedback",4,"ngIf"],["formControlName","nationalCapacityCategoryId",1,"form-select","fs-14",3,"ngClass"],["formControlName","function",1,"form-control","fs-14"],["formControlName","comment",1,"form-control","fs-14"],["formControlName","action",1,"form-control","fs-14",3,"ngClass"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px"],["class","card mb-4 border-0",4,"ngIf"],["Checklist",""],[3,"value"],[1,"col-4"],[1,"card","mb-3",3,"click"],[1,"card-body","py-4",2,"background-color","#fbfbfb"],[1,"col-3","text-center","position-relative"],[1,"bi-file-earmark-text","fs-4","position-absolute","top-50","translate-middle-y"],[1,"col-9"],[1,"fs-14"],["href","javascript:void(0)",1,"stretched-link","text-decoration-none","text-dark"],[1,"fs-14","text-secondary"],[1,"card-body"],[1,"row","py-2"],[1,"col-md-3","px-3"],["ngx-dropzone","","accept","application/pdf",1,"position-relative","custom-dropzone","border-upload",3,"change"],[1,"position-absolute","top-50","start-50","translate-middle","text-center"],[1,"fs-12"],["xmlns","http://www.w3.org/2000/svg","width","35","height","35","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-download"],["d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"],["d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"],[1,"col-md-9"],[1,"table-responsive","mb-4"],[1,"table"],[4,"ngFor","ngForOf"],[1,"progress","mb-4"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["type","button",1,"btn","btn-upload","btn-action",3,"click"],[1,"bi","bi-upload","pe-2"],["type","button",1,"btn","btn-outline-warning","btn-action"],[1,"bi","bi-x-lg","pe-2"],["type","button",1,"btn","btn-outline-danger","btn-action",3,"click"],[1,"bi","bi-trash3","pe-2"],[1,"align-middle"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["selected",""],["value","1"],["value","2"],["value","3"],["type","button",1,"btn","btn-outline-danger","btn-td",3,"click"],[1,"bi","bi-trash3"],[1,"invalid-feedback"],[4,"ngIf"],[1,"card-body","px-0","pb-0"],[1,"my-4","mx-5"],[1,"d-flex","justify-content-center"],[1,"col-6"],[2,"width","100%","height","900px",3,"src","original-size","zoom"],["id","mapPointOfEntry"],[1,"my-4"],[1,"card","mb-4","shadow-sm","pb-4"],["id","chartNationalCapacities","height","80"],[1,"row","fs-12"],[1,"card","mb-3"],[1,"card-body","p-0"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[1,"pagination"],[1,"page-item"],["href","#","aria-label","Previous",1,"page-link","text-dark","border-0"],["aria-hidden","true"],[1,"bi","bi-chevron-left"],[1,"page-item","active"],["href","#",1,"page-link","text-dark","border-0"],["href","#","aria-label","Next",1,"page-link","text-dark","border-0"],[1,"bi","bi-chevron-right"],[1,"d-flex","justify-content-end","mb-4"],[1,"border","rounded",2,"border","1px solid #024664","font-size","12px"],[1,"bi","bi-funnel","ps-2"],[1,"select-filter","p-2",3,"change"],["value","0","selected",""],["value","4"],["class","accordion mb-3 shadow-sm",4,"ngFor","ngForOf"],["id","modalStateOfChecklist","tabindex","-1","aria-labelledby","modalStateOfChecklistLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalStateOfChecklistLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["class","table",4,"ngIf"],[1,"accordion","mb-3","shadow-sm"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"card"],["width","220px","rowspan","2",1,"align-middle"],["rowspan","2",1,"align-middle"],["colspan","4",1,"text-center"],["width","85px",1,"text-center"],["class","text-editable",3,"change",4,"ngIf"],[1,"text-center"],["class","text-end",4,"ngIf"],[1,"text-editable",3,"change"],["type","radio","value","1",1,"form-check-input",3,"name","checked","click"],[1,"text-end"],["href","#","data-bs-toggle","modal","data-bs-target","#modalStateOfChecklist",1,"ms-1","text-primary",3,"click"],[1,"bi-info-circle"],["type","radio","value","2",1,"form-check-input",3,"name","checked","click"],["type","radio","value","3",1,"form-check-input",3,"name","checked","click"],["type","radio","value","4",1,"form-check-input",3,"name","checked","click"],[1,"card-body","p-5","fs-12"],[1,"card","my-3"],["rowspan","2",1,"text-center","align-middle"],[1,"text-center","align-middle","bg-red"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"],[1,"text-center","align-middle"],[1,"text-center","align-middle","bg-yellow"],["rowspan","4",1,"text-center","align-middle"],["rowspan","4",1,"align-middle"],["rowspan","3",1,"text-center","align-middle"],["rowspan","3",1,"align-middle"],[1,"text-center","align-middle","bg-green"],[1,"card","mb-4",2,"border","none"],[1,"card-body","px-0"],[1,"col-5"],[1,"card-body","p-3","text-center",2,"background-color","#9E9E9E","border","none"],[2,"width","100%","height","640px",3,"src","render-text","original-size","zoom"],[1,"col-7"],[1,"pe-2"],["width","60px",1,"text-center"],["width","160px"],["rowspan","2",1,"text-center"],["rowspan","2"],["rowspan","4",1,"text-center"],["rowspan","4"],["class","d-flex justify-content-end",4,"ngIf"],["type","button",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-save","pe-2"],[1,"card-body","p-0","fs-12"],[1,"col-md-6","mb-4"],[1,"card-body","p-4"],[1,"fw-bold","fs-6","mb-3"],[1,"lh-sm","mb-3"],[1,"mb-2"],[1,"fw-bold"],[1,"border-0","ps-0","py-1","align-middle"],[1,"px-0"],[1,"progress","bg-blue-light",2,"height","5px"],["role","progressbar","aria-valuenow","30","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","30%"],["width","35px",1,"border-0","py-1","align-middle","text-end"],["role","progressbar","aria-valuenow","40","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","40%"],["role","progressbar","aria-valuenow","47","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","47%"],[1,"card",2,"height","100%"],[1,"fw-bold","fs-6","mb-4"],[1,"border-bottom","py-2"],[1,"col-10"],[1,"col-2","text-end"],[1,"col-md-12"],[1,"card","mb-4"],[1,"col-md-12","text-center","lh-sm","fw-bold","mb-4"],[1,"col-md-4","px-5","text-center","mb-4"],["id","myChart0"],["id","myChart1"],["id","myChart2"],[1,"mt-3"],[1,"col-12","text-center","lh-sm","fw-bold","mb-4"],["id","chartScoreCapacity","height","80"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4)(5,"div",5)(6,"h4",6),e._uU(7,"National Capacities"),e.qZA(),e.TgZ(8,"form",7)(9,"div",2)(10,"select",8),e.NdJ("change",function(re){return _.getCity(re)}),e.TgZ(11,"option",9),e._uU(12,"Choose State"),e.qZA(),e.YNc(13,kn,2,2,"option",10),e.qZA()(),e.TgZ(14,"div",2)(15,"button",11),e.NdJ("click",function(){return _.onImportFile()}),e._UZ(16,"i",12),e._uU(17,"Import File"),e.qZA()()(),e.TgZ(18,"div",13)(19,"div",14)(20,"h6",15),e._uU(21,"National Capacities Assesment"),e.qZA(),e.TgZ(22,"div",1),e.YNc(23,In,12,2,"div",16),e.qZA()()(),e.YNc(24,Fn,45,4,"div",17),e.TgZ(25,"div",18)(26,"div",19)(27,"h2",20)(28,"button",21),e._UZ(29,"span",22),e._uU(30," Add Readiness Checklist "),e.qZA()(),e.TgZ(31,"div",23)(32,"div",24)(33,"form",25),e.NdJ("ngSubmit",function(){return _.submitForm()}),e.TgZ(34,"div",26)(35,"label",27),e._uU(36,"Hazard Type"),e.qZA(),e.TgZ(37,"div",28)(38,"select",29),e.NdJ("change",function(re){return _.onSelectHazardType(re.target)}),e.TgZ(39,"option",30),e._uU(40,"Choose Hazard Type"),e.qZA(),e.YNc(41,Ln,2,2,"option",10),e.qZA(),e.YNc(42,Zn,2,1,"div",31),e.qZA()(),e.TgZ(43,"div",26)(44,"label",27),e._uU(45,"Category"),e.qZA(),e.TgZ(46,"div",28)(47,"select",32)(48,"option",30),e._uU(49,"Choose Category"),e.qZA(),e.YNc(50,Nn,2,2,"option",10),e.qZA(),e.YNc(51,Un,2,1,"div",31),e.qZA()(),e.TgZ(52,"div",26)(53,"label",27),e._uU(54,"Data Source"),e.qZA(),e.TgZ(55,"div",28),e._UZ(56,"textarea",33),e.qZA()(),e.TgZ(57,"div",26)(58,"label",27),e._uU(59,"Comment"),e.qZA(),e.TgZ(60,"div",28),e._UZ(61,"textarea",34),e.qZA()(),e.TgZ(62,"div",26)(63,"label",27),e._uU(64,"Checklist"),e.qZA(),e.TgZ(65,"div",28),e._UZ(66,"textarea",35),e.YNc(67,Bn,2,1,"div",31),e.qZA()(),e.TgZ(68,"div",36)(69,"button",37),e._uU(70,"Submit"),e.qZA()()()()()()()()(),e.YNc(71,zn,9,3,"div",38),e.YNc(72,Vn,5,0,"div",38),e.YNc(73,jn,97,0,"div",38),e._UZ(74,"div",null,39),e.YNc(76,ai,29,3,"div",38),e.YNc(77,li,394,5,"div",38),e.YNc(78,ci,125,0,"div",38),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("ngForOf",_.states),e.xp6(10),e.Q6J("ngForOf",_.countryAssesments),e.xp6(1),e.Q6J("ngIf",1==_.isImportVisible),e.xp6(9),e.Q6J("formGroup",_.form),e.xp6(5),e.Q6J("ngClass",e.VKq(18,gt,_.formsubmitted&&_.f.hazardTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",_.CRUDhazardType),e.xp6(1),e.Q6J("ngIf",_.formsubmitted&&_.f.hazardTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(20,gt,_.formsubmitted&&_.f.nationalCapacityCategoryId.errors)),e.xp6(3),e.Q6J("ngForOf",_.CRUDcategory),e.xp6(1),e.Q6J("ngIf",_.formsubmitted&&_.f.nationalCapacityCategoryId.errors),e.xp6(15),e.Q6J("ngClass",e.VKq(22,gt,_.formsubmitted&&_.f.action.errors)),e.xp6(1),e.Q6J("ngIf",_.formsubmitted&&_.f.action.errors),e.xp6(4),e.Q6J("ngIf",_.showSectionIRNA),e.xp6(1),e.Q6J("ngIf",_.showSection4),e.xp6(1),e.Q6J("ngIf",1==_.assesment.isSubmitted||_.showSection3),e.xp6(3),e.Q6J("ngIf",1==_.assesment.isSubmitted||_.showSection2),e.xp6(1),e.Q6J("ngIf",1==_.assesment.isSubmitted||_.showSection1),e.xp6(1),e.Q6J("ngIf",_.showSection3||_.showSectionEspar))},dependencies:[s.mk,s.sg,s.O5,s.PC,D._f,E._Y,E.YN,E.Kr,E.Fj,E.EJ,E.JJ,E.JL,E.sg,E.u,E.F,En],styles:["thead[_ngcontent-%COMP%]{background:#024664}th[_ngcontent-%COMP%]{font-weight:550;font-size:12px;line-height:20px;padding-top:15px;padding-bottom:15px;color:#fff}td[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;font-weight:400;font-size:11px;line-height:17px}.select-filter[_ngcontent-%COMP%]{border:none;-moz-appearance:none}.btn-td[_ngcontent-%COMP%]{font-size:11px}.btn-action[_ngcontent-%COMP%]{font-size:12px;margin-bottom:10px;margin-right:10px}.btn-upload[_ngcontent-%COMP%], .btn-upload[_ngcontent-%COMP%]:hover, .btn-upload[_ngcontent-%COMP%]:focus{background-color:#9747ff;border-color:#9747ff;color:#fff}.border-upload[_ngcontent-%COMP%]{border-style:dashed;border-width:2px;border-color:#9747ff;background:#F8F7FE;color:#9747ff}ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{height:240px}.text-editable[_ngcontent-%COMP%]{width:100%;border:none}.text-editable[_ngcontent-%COMP%]:focus{outline:none!important}#mapPointOfEntry[_ngcontent-%COMP%]{width:100%;height:450px}"]}),d})();function ui(d,U){if(1&d&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function hi(d,U){if(1&d&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&d){const t=U.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}const pi=function(){return["/import/hazard-mapping"]},ct=function(d,U){return{hazard_type:d,country:U}},fi=function(){return{exact:!0}},gi=function(){return["/import/national-capacities"]},_i=function(){return["/import/action-plan"]},mi=function(){return["/import/donor-and-partner"]},vi=function(){return["/import/strategic-policies"]},bi=[{path:"",component:(()=>{class d{constructor(t,_,V,re,xe){this.router=t,this.activatedRoute=_,this.serviceCountry=V,this.serviceHazardType=re,this.serviceStorage=xe,this.filterHazardType="",this.filterCountry="",this.storage=[],this.activatedRoute.queryParams.subscribe(ke=>{ke.hazard_type&&(this.filterHazardType=ke.hazard_type),ke.country&&(this.filterCountry=ke.country)})}ngOnInit(){this.serviceHazardType.getAll().subscribe(t=>{this.hazardTypes=t}),this.getLocalstorage()}getLocalstorage(){this.storage=this.serviceStorage.get("session");let t=JSON.parse(this.storage);this.roleId=t.role.id,1==this.roleId?this.serviceCountry.getAll().subscribe(_=>{this.countries=_}):this.serviceCountry.find(t.country.id).subscribe(_=>{this.countries=[_]})}selectHazardType(t){this.router.navigate([this.router.url.split("?")[0]],{queryParams:{hazard_type:t.value,country:this.filterCountry}}),this.filterHazardType=t.value}selectCountry(t){console.log("Router : ",this.router.url),console.log("Router URL: ",this.router.url.split("?")[0]),this.router.navigate([this.router.url.split("?")[0]],{queryParams:{hazard_type:this.filterHazardType,country:t.value},queryParamsHandling:"merge"}),this.filterCountry=t.value}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(z.F0),e.Y36(z.gz),e.Y36(y.T),e.Y36(N.$),e.Y36(bt.V))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-import"]],decls:32,vars:36,consts:[[1,"container-fluid","mb-4","sticky-sm-top","sticky-nav",2,"background-color","#fff"],[1,"container","p-3"],[1,"row"],[1,"col-md-8","text-center","text-md-start"],[1,"d-inline-flex","bd-highlight"],[1,"nav","nav-pills","flex-column","flex-sm-row","rounded","nav-import-bg"],["aria-current","page","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import",3,"routerLink","queryParams","routerLinkActiveOptions"],["routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import",3,"routerLink","queryParams"],[1,"col-md-4","text-center","text-md-end"],[1,"nav"],[1,"nav-item","px-3","py-3","border","rounded-start"],[1,"bi","bi-justify","text-primary"],[3,"ngModel","ngModelChange","change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"nav-item","px-3","py-3","border","rounded-end"],[1,"bi","bi-globe","text-primary"],[3,"value"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"a",6),e._uU(7,"Hazard Mapping"),e.qZA(),e.TgZ(8,"a",7),e._uU(9,"National Capacities"),e.qZA(),e.TgZ(10,"a",7),e._uU(11,"Action Plan"),e.qZA(),e.TgZ(12,"a",7),e._uU(13,"Donor and Partner"),e.qZA(),e.TgZ(14,"a",7),e._uU(15,"Strategic Policies"),e.qZA()()()(),e.TgZ(16,"div",8)(17,"div",4)(18,"ul",9)(19,"li",10),e._UZ(20,"i",11),e.TgZ(21,"select",12),e.NdJ("ngModelChange",function(re){return _.filterHazardType=re})("change",function(re){return _.selectHazardType(re.target)}),e.TgZ(22,"option",13),e._uU(23,"Hazard Type"),e.qZA(),e.YNc(24,ui,2,2,"option",14),e.qZA()(),e.TgZ(25,"li",15),e._UZ(26,"i",16),e.TgZ(27,"select",12),e.NdJ("ngModelChange",function(re){return _.filterCountry=re})("change",function(re){return _.selectCountry(re.target)}),e.TgZ(28,"option",13),e._uU(29,"Country"),e.qZA(),e.YNc(30,hi,2,2,"option",14),e.qZA()()()()()()()(),e._UZ(31,"router-outlet")),2&t&&(e.xp6(6),e.Q6J("routerLink",e.DdM(15,pi))("queryParams",e.WLB(16,ct,_.filterHazardType,_.filterCountry))("routerLinkActiveOptions",e.DdM(19,fi)),e.xp6(2),e.Q6J("routerLink",e.DdM(20,gi))("queryParams",e.WLB(21,ct,_.filterHazardType,_.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(24,_i))("queryParams",e.WLB(25,ct,_.filterHazardType,_.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(28,mi))("queryParams",e.WLB(29,ct,_.filterHazardType,_.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(32,vi))("queryParams",e.WLB(33,ct,_.filterHazardType,_.filterCountry)),e.xp6(7),e.Q6J("ngModel",_.filterHazardType),e.xp6(3),e.Q6J("ngForOf",_.hazardTypes),e.xp6(3),e.Q6J("ngModel",_.filterCountry),e.xp6(3),e.Q6J("ngForOf",_.countries))},dependencies:[s.sg,z.lC,z.yS,z.Od,E.YN,E.Kr,E.EJ,E.JJ,E.On],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background-color:#058fcb}.nav-import-bg[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:10px}.nav-import[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:19px;color:#9e9e9e;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;gap:10px}.sticky-nav[_ngcontent-%COMP%]{top:66px;z-index:1001}select[_ngcontent-%COMP%]{border:none;width:9em;padding-left:5px;color:#024664}.borderlist[_ngcontent-%COMP%]{list-style-position:inside;border:1px solid black}"]}),d})(),children:[{path:"hazard-mapping",loadChildren:()=>Promise.all([O.e(592),O.e(975)]).then(O.bind(O,975)).then(d=>d.HazardmappingModule)},{path:"action-plan",component:Rt},{path:"donor-and-partner",component:qt},{path:"strategic-policies",component:Wt},{path:"national-capacities",component:di},{path:"",redirectTo:"hazard-mapping",pathMatch:"full"},{path:"**",redirectTo:"hazard-mapping",pathMatch:"full"}]}];let Ai=(()=>{class d{}return d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[z.Bz.forChild(bi),z.Bz]}),d})(),yi=(()=>{class d{}return d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[s.ez,Ai,D.bB,E.UX,E.u5,Mn]}),d})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(9393).default,_defineProperty=__webpack_require__(9713).default,_classPrivateMethodInitSpec=__webpack_require__(3448).default,_classPrivateMethodGet=__webpack_require__(4877).default,_classPrivateFieldInitSpec=__webpack_require__(3606).default,_classPrivateFieldSet=__webpack_require__(5962).default,_classPrivateFieldGet=__webpack_require__(1226).default,_asyncToGenerator=__webpack_require__(8926).default,O;O=function(){return(()=>{"use strict";var __webpack_modules__=[,(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.UNSUPPORTED_FEATURES=o.TextRenderingMode=o.StreamType=o.RenderingIntentFlag=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.IsLittleEndianCached=o.IsEvalSupportedCached=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FontType=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.AnnotationType=o.AnnotationStateModelType=o.AnnotationReviewState=o.AnnotationReplyType=o.AnnotationMode=o.AnnotationMarkedState=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.arrayByteLength=ie,o.arraysToBytes=function de(ce){const se=ce.length;if(1===se&&ce[0]instanceof Uint8Array)return ce[0];let le=0;for(let Me=0;Me<se;Me++)le+=ie(ce[Me]);let ye=0;const Ce=new Uint8Array(le);for(let Me=0;Me<se;Me++){let Te=ce[Me];Te instanceof Uint8Array||(Te="string"==typeof Te?ee(Te):new Uint8Array(Te));const Ie=Te.byteLength;Ce.set(Te,ye),ye+=Ie}return Ce},o.assert=function X(ce,se){ce||H(se)},o.bytesToString=function te(ce){("object"!=typeof ce||null===ce||void 0===ce.length)&&H("Invalid argument for bytesToString");const se=ce.length;if(se<8192)return String.fromCharCode.apply(null,ce);const ye=[];for(let Ce=0;Ce<se;Ce+=8192){const Me=Math.min(Ce+8192,se),Te=ce.subarray(Ce,Me);ye.push(String.fromCharCode.apply(null,Te))}return ye.join("")},o.createPromiseCapability=function Le(){const ce=Object.create(null);let se=!1;return Object.defineProperty(ce,"settled",{get:()=>se}),ce.promise=new Promise(function(le,ye){ce.resolve=function(Ce){se=!0,le(Ce)},ce.reject=function(Ce){se=!0,ye(Ce)}}),ce},o.createValidAbsoluteUrl=function a(ce,se=null,le=null){if(!ce)return null;try{if(le&&"string"==typeof ce){if(le.addDefaultProtocol&&ce.startsWith("www.")){const Ce=ce.match(/\./g);Ce&&Ce.length>=2&&(ce=`http://${ce}`)}if(le.tryConvertEncoding)try{ce=ue(ce)}catch{}}const ye=se?new URL(ce,se):new URL(ce);if(function c(ce){if(!ce)return!1;switch(ce.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ye))return ye}catch{}return null},o.escapeString=function K(ce){return ce.replace(/([()\\\n\r])/g,se=>"\n"===se?"\\n":"\r"===se?"\\r":`\\${se}`)},o.getModificationDate=function we(ce=new Date){return[ce.getUTCFullYear().toString(),(ce.getUTCMonth()+1).toString().padStart(2,"0"),ce.getUTCDate().toString().padStart(2,"0"),ce.getUTCHours().toString().padStart(2,"0"),ce.getUTCMinutes().toString().padStart(2,"0"),ce.getUTCSeconds().toString().padStart(2,"0")].join("")},o.getVerbosityLevel=function R(){return h},o.info=function T(ce){h>=m.INFOS&&console.log(`Info: ${ce}`)},o.isArrayBuffer=function _e(ce){return"object"==typeof ce&&null!==ce&&void 0!==ce.byteLength},o.isArrayEqual=function be(ce,se){if(ce.length!==se.length)return!1;for(let le=0,ye=ce.length;le<ye;le++)if(ce[le]!==se[le])return!1;return!0},o.isAscii=function ae(ce){return/^[\x00-\x7F]*$/.test(ce)},o.isSameOrigin=function C(ce,se){let le;try{if(le=new URL(ce),!le.origin||"null"===le.origin)return!1}catch{return!1}const ye=new URL(se,le);return le.origin===ye.origin},o.objectFromMap=function ve(ce){const se=Object.create(null);for(const[le,ye]of ce)se[le]=ye;return se},o.objectSize=function me(ce){return Object.keys(ce).length},o.setVerbosityLevel=function P(ce){Number.isInteger(ce)&&(h=ce)},o.shadow=b,o.string32=function fe(ce){return String.fromCharCode(ce>>24&255,ce>>16&255,ce>>8&255,255&ce)},o.stringToBytes=ee,o.stringToPDFString=function k(ce){if(ce[0]>="\xef"){let le;if("\xfe"===ce[0]&&"\xff"===ce[1]?le="utf-16be":"\xff"===ce[0]&&"\xfe"===ce[1]?le="utf-16le":"\xef"===ce[0]&&"\xbb"===ce[1]&&"\xbf"===ce[2]&&(le="utf-8"),le)try{const ye=new TextDecoder(le,{fatal:!0}),Ce=ee(ce);return ye.decode(Ce)}catch(ye){B(`stringToPDFString: "${ye}".`)}}const se=[];for(let le=0,ye=ce.length;le<ye;le++){const Ce=oe[ce.charCodeAt(le)];se.push(Ce?String.fromCharCode(Ce):ce.charAt(le))}return se.join("")},o.stringToUTF16BEString=function he(ce){const se=["\xfe\xff"];for(let le=0,ye=ce.length;le<ye;le++){const Ce=ce.charCodeAt(le);se.push(String.fromCharCode(Ce>>8&255),String.fromCharCode(255&Ce))}return se.join("")},o.stringToUTF8String=ue,o.unreachable=H,o.utf8StringToString=function ge(ce){return unescape(encodeURIComponent(ce))},o.warn=B,O(2),o.IDENTITY_MATRIX=[1,0,0,1,0,0],o.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],o.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},o.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},o.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},o.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},o.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},o.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},o.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},o.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},o.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},o.AnnotationReplyType={GROUP:"Group",REPLY:"R"},o.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},o.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},o.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},o.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},o.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},o.PageActionEventType={O:"PageOpen",C:"PageClose"},o.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},o.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const m={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=m,o.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},o.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},o.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},o.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let h=m.WARNINGS;function B(ce){h>=m.WARNINGS&&console.log(`Warning: ${ce}`)}function H(ce){throw new Error(ce)}function b(ce,se,le){return Object.defineProperty(ce,se,{value:le,enumerable:!0,configurable:!0,writable:!1}),le}const u=function(){function se(le,ye){this.constructor===se&&H("Cannot initialize BaseException."),this.message=le,this.name=ye}return se.prototype=new Error,se.constructor=se,se}();function ee(ce){"string"!=typeof ce&&H("Invalid argument for stringToBytes");const se=ce.length,le=new Uint8Array(se);for(let ye=0;ye<se;++ye)le[ye]=255&ce.charCodeAt(ye);return le}function ie(ce){return void 0!==ce.length?ce.length:void 0!==ce.byteLength?ce.byteLength:void H("Invalid argument for arrayByteLength")}o.BaseException=u,o.PasswordException=class n extends u{constructor(se,le){super(se,"PasswordException"),this.code=le}},o.UnknownErrorException=class l extends u{constructor(se,le){super(se,"UnknownErrorException"),this.details=le}},o.InvalidPDFException=class g extends u{constructor(se){super(se,"InvalidPDFException")}},o.MissingPDFException=class F extends u{constructor(se){super(se,"MissingPDFException")}},o.UnexpectedResponseException=class x extends u{constructor(se,le){super(se,"UnexpectedResponseException"),this.status=le}},o.FormatError=class f extends u{constructor(se){super(se,"FormatError")}},o.AbortException=class Q extends u{constructor(se){super(se,"AbortException")}},o.IsLittleEndianCached={get value(){return b(this,"value",function pe(){const ce=new Uint8Array(4);return ce[0]=1,1===new Uint32Array(ce.buffer,0,1)[0]}())}},o.IsEvalSupportedCached={get value(){return b(this,"value",function Ee(){try{return new Function(""),!0}catch{return!1}}())}};const Pe=[...Array(256).keys()].map(ce=>ce.toString(16).padStart(2,"0"));class Ze{static makeHexColor(se,le,ye){return`#${Pe[se]}${Pe[le]}${Pe[ye]}`}static transform(se,le){return[se[0]*le[0]+se[2]*le[1],se[1]*le[0]+se[3]*le[1],se[0]*le[2]+se[2]*le[3],se[1]*le[2]+se[3]*le[3],se[0]*le[4]+se[2]*le[5]+se[4],se[1]*le[4]+se[3]*le[5]+se[5]]}static applyTransform(se,le){return[se[0]*le[0]+se[1]*le[2]+le[4],se[0]*le[1]+se[1]*le[3]+le[5]]}static applyInverseTransform(se,le){const ye=le[0]*le[3]-le[1]*le[2];return[(se[0]*le[3]-se[1]*le[2]+le[2]*le[5]-le[4]*le[3])/ye,(-se[0]*le[1]+se[1]*le[0]+le[4]*le[1]-le[5]*le[0])/ye]}static getAxialAlignedBoundingBox(se,le){const ye=Ze.applyTransform(se,le),Ce=Ze.applyTransform(se.slice(2,4),le),Me=Ze.applyTransform([se[0],se[3]],le),Te=Ze.applyTransform([se[2],se[1]],le);return[Math.min(ye[0],Ce[0],Me[0],Te[0]),Math.min(ye[1],Ce[1],Me[1],Te[1]),Math.max(ye[0],Ce[0],Me[0],Te[0]),Math.max(ye[1],Ce[1],Me[1],Te[1])]}static inverseTransform(se){const le=se[0]*se[3]-se[1]*se[2];return[se[3]/le,-se[1]/le,-se[2]/le,se[0]/le,(se[2]*se[5]-se[4]*se[3])/le,(se[4]*se[1]-se[5]*se[0])/le]}static apply3dTransform(se,le){return[se[0]*le[0]+se[1]*le[1]+se[2]*le[2],se[3]*le[0]+se[4]*le[1]+se[5]*le[2],se[6]*le[0]+se[7]*le[1]+se[8]*le[2]]}static singularValueDecompose2dScale(se){const le=[se[0],se[2],se[1],se[3]],ye=se[0]*le[0]+se[1]*le[2],Te=se[2]*le[1]+se[3]*le[3],Ie=(ye+Te)/2,Oe=Math.sqrt((ye+Te)**2-4*(ye*Te-(se[2]*le[0]+se[3]*le[2])*(se[0]*le[1]+se[1]*le[3])))/2,Re=Ie-Oe||1;return[Math.sqrt(Ie+Oe||1),Math.sqrt(Re)]}static normalizeRect(se){const le=se.slice(0);return se[0]>se[2]&&(le[0]=se[2],le[2]=se[0]),se[1]>se[3]&&(le[1]=se[3],le[3]=se[1]),le}static intersect(se,le){function ye(Ie,Oe){return Ie-Oe}const Ce=[se[0],se[2],le[0],le[2]].sort(ye),Me=[se[1],se[3],le[1],le[3]].sort(ye),Te=[];return se=Ze.normalizeRect(se),le=Ze.normalizeRect(le),Ce[0]===se[0]&&Ce[1]===le[0]||Ce[0]===le[0]&&Ce[1]===se[0]?(Te[0]=Ce[1],Te[2]=Ce[2],Me[0]===se[1]&&Me[1]===le[1]||Me[0]===le[1]&&Me[1]===se[1]?(Te[1]=Me[1],Te[3]=Me[2],Te):null):null}static bezierBoundingBox(se,le,ye,Ce,Me,Te,Ie,Oe){const Fe=[],Re=[[],[]];let ze,Ve,Ge,Ue,We,Qe,$e,Xe;for(let st=0;st<2;++st)if(0===st?(Ve=6*se-12*ye+6*Me,ze=-3*se+9*ye-9*Me+3*Ie,Ge=3*ye-3*se):(Ve=6*le-12*Ce+6*Te,ze=-3*le+9*Ce-9*Te+3*Oe,Ge=3*Ce-3*le),Math.abs(ze)<1e-12){if(Math.abs(Ve)<1e-12)continue;Ue=-Ge/Ve,0<Ue&&Ue<1&&Fe.push(Ue)}else $e=Ve*Ve-4*Ge*ze,Xe=Math.sqrt($e),!($e<0)&&(We=(-Ve+Xe)/(2*ze),0<We&&We<1&&Fe.push(We),Qe=(-Ve-Xe)/(2*ze),0<Qe&&Qe<1&&Fe.push(Qe));let Be,Ye=Fe.length;const Ke=Ye;for(;Ye--;)Ue=Fe[Ye],Be=1-Ue,Re[0][Ye]=Be*Be*Be*se+3*Be*Be*Ue*ye+3*Be*Ue*Ue*Me+Ue*Ue*Ue*Ie,Re[1][Ye]=Be*Be*Be*le+3*Be*Be*Ue*Ce+3*Be*Ue*Ue*Te+Ue*Ue*Ue*Oe;return Re[0][Ke]=se,Re[1][Ke]=le,Re[0][Ke+1]=Ie,Re[1][Ke+1]=Oe,Re[0].length=Re[1].length=Ke+2,[Math.min(...Re[0]),Math.min(...Re[1]),Math.max(...Re[0]),Math.max(...Re[1])]}}o.Util=Ze;const oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ue(ce){return decodeURIComponent(escape(ce))}},(ne,o,O)=>{O(3)},(ne,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isNodeJS=void 0;const O=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);o.isNodeJS=O},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(ne){createPDFNetworkStream=ne}function getDocument(ne){const o=new PDFDocumentLoadingTask;let O;if("string"==typeof ne||ne instanceof URL)O={url:ne};else if((0,_util.isArrayBuffer)(ne))O={data:ne};else if(ne instanceof PDFDataRangeTransport)O={range:ne};else{if("object"!=typeof ne)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!ne.url&&!ne.data&&!ne.range)throw new Error("Invalid parameter object: need either .data, .range or .url");O=ne}const s=Object.create(null);let z=null,E=null;for(const Y in O){const q=O[Y];switch(Y){case"url":if(typeof window<"u")try{s[Y]=new URL(q,window.location).href;continue}catch(Z){(0,_util.warn)(`Cannot create valid URL: "${Z}".`)}else if("string"==typeof q||q instanceof URL){s[Y]=q.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":z=q;continue;case"worker":E=q;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&q instanceof Buffer)s[Y]=new Uint8Array(q);else{if(q instanceof Uint8Array)break;if("string"==typeof q)s[Y]=(0,_util.stringToBytes)(q);else if("object"!=typeof q||null===q||isNaN(q.length)){if(!(0,_util.isArrayBuffer)(q))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[Y]=new Uint8Array(q)}else s[Y]=new Uint8Array(q)}continue}s[Y]=q}if(s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),Number.isInteger(s.maxImageSize)||(s.maxImageSize=-1),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),typeof s.ownerDocument>"u"&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!E){const Y={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};E=Y.port?_PDFWorker.fromPort(Y):new _PDFWorker(Y),o._worker=E}const e=o.docId;return E.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const Y=_fetchDocument(E,s,z,e),q=new Promise(function(Z){let W;z?W=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},z):s.data||(W=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),Z(W)});return Promise.all([Y,q]).then(function([Z,W]){if(o.destroyed)throw new Error("Loading aborted");const $=new _message_handler.MessageHandler(e,Z,E.port),J=new WorkerTransport($,o,W,s);o._transport=J,$.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(ne,o,O,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(ne,o,O,s){if(ne.destroyed)throw new Error("Worker was destroyed");O&&(o.length=O.length,o.initialData=O.initialData,o.progressiveDone=O.progressiveDone,o.contentDispositionFilename=O.contentDispositionFilename);const z=yield ne.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.13.216",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(ne.destroyed)throw new Error("Worker was destroyed");return z})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){o.destroyed=!0,yield o._transport?.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,O,s=!1,z=null){this.length=o,this.initialData=O,this.progressiveDone=s,this.contentDispositionFilename=z,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,O){for(const s of this._rangeListeners)s(o,O)}onDataProgress(o,O){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(o,O)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const O of this._progressiveReadListeners)O(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,O){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,O){var z,s=this;this._pdfInfo=o,this._transport=O,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(z=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return z.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,O,s,z,E=!1){this._pageIndex=o,this._pageInfo=O,this._ownerDocument=z,this._transport=s,this._stats=E?new _display_utils.StatTimer:null,this._pdfBug=E,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:O=this.rotate,offsetX:s=0,offsetY:z=0,dontFlip:E=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:O,offsetX:s,offsetY:z,dontFlip:E})}getAnnotations({intent:o="display"}={}){const O=this._transport.getRenderingIntent(o);let s=this._annotationPromises.get(O.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,O.renderingIntent),this._annotationPromises.set(O.cacheKey,s),s=s.then(z=>{for(const E of z)void 0!==E.titleObj&&Object.defineProperty(E,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),E.titleObj.str)}),void 0!==E.contentsObj&&Object.defineProperty(E,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),E.contentsObj.str)});return z})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){return o._transport._htmlForXfa?.children[o._pageIndex]||null})()}render({canvasContext:o,viewport:O,intent:s="display",annotationMode:z=_util.AnnotationMode.ENABLE,transform:E=null,imageLayer:e=null,canvasFactory:Y=null,background:q=null,optionalContentConfigPromise:Z=null,annotationCanvasMap:W=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&z===_util.AnnotationMode.ENABLE&&(z=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&z===_util.AnnotationMode.ENABLE&&(z=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const $=this._transport.getRenderingIntent(s,z);this.pendingCleanup=!1,Z||(Z=this._transport.getOptionalContentConfig());let J=this._intentStates.get($.cacheKey);J||(J=Object.create(null),this._intentStates.set($.cacheKey,J)),J.streamReaderCancelTimeout&&(clearTimeout(J.streamReaderCancelTimeout),J.streamReaderCancelTimeout=null);const j=Y||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),G=!!($.renderingIntent&_util.RenderingIntentFlag.PRINT);J.displayReadyCapability||(J.displayReadyCapability=(0,_util.createPromiseCapability)(),J.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList($));const A=D=>{J.renderTasks.delete(y),(this.cleanupAfterRender||G)&&(this.pendingCleanup=!0),this._tryCleanup(),D?(y.capability.reject(D),this._abortOperatorList({intentState:J,reason:D instanceof Error?D:new Error(D)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},y=new InternalRenderTask({callback:A,params:{canvasContext:o,viewport:O,transform:E,imageLayer:e,background:q},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:W,operatorList:J.operatorList,pageIndex:this._pageIndex,canvasFactory:j,useRequestAnimationFrame:!G,pdfBug:this._pdfBug});(J.renderTasks||(J.renderTasks=new Set)).add(y);const N=y.task;return Promise.all([J.displayReadyCapability.promise,Z]).then(([D,S])=>{this.pendingCleanup?A():(this._stats&&this._stats.time("Rendering"),y.initializeGraphics({transparency:D,optionalContentConfig:S}),y.operatorListChanged())}).catch(A),N}getOperatorList({intent:o="display",annotationMode:O=_util.AnnotationMode.ENABLE}={}){const z=this._transport.getRenderingIntent(o,O,!0);let e,E=this._intentStates.get(z.cacheKey);return E||(E=Object.create(null),this._intentStates.set(z.cacheKey,E)),E.opListReadCapability||(e=Object.create(null),e.operatorListChanged=function s(){E.operatorList.lastChunk&&(E.opListReadCapability.resolve(E.operatorList),E.renderTasks.delete(e))},E.opListReadCapability=(0,_util.createPromiseCapability)(),(E.renderTasks||(E.renderTasks=new Set)).add(e),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(z)),E.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:O=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===O},{highWaterMark:100,size:z=>z.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const O=this.streamTextContent(o);return new Promise(function(s,z){const e=O.getReader(),Y={items:[],styles:Object.create(null)};!function E(){e.read().then(function({value:q,done:Z}){Z?s(Y):(Object.assign(Y.styles,q.styles),Y.items.push(...q.items),E())},z)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const O of this._intentStates.values())if(this._abortOperatorList({intentState:O,reason:new Error("Page was destroyed."),force:!0}),!O.opListReadCapability)for(const s of O.renderTasks)o.push(s.completed),s.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:O,operatorList:s}of this._intentStates.values())if(O.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(o,O){const s=this._intentStates.get(O);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(o))}_renderPageChunk(o,O){for(let s=0,z=o.length;s<z;s++)O.operatorList.fnArray.push(o.fnArray[s]),O.operatorList.argsArray.push(o.argsArray[s]);O.operatorList.lastChunk=o.lastChunk;for(const s of O.renderTasks)s.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:O}){const z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:O,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),E=this._intentStates.get(O);E.streamReader=z;const e=()=>{z.read().then(({value:Y,done:q})=>{q?E.streamReader=null:this._transport.destroyed||(this._renderPageChunk(Y,E),e())},Y=>{if(E.streamReader=null,!this._transport.destroyed){if(E.operatorList){E.operatorList.lastChunk=!0;for(const q of E.renderTasks)q.operatorListChanged();this._tryCleanup()}if(E.displayReadyCapability)E.displayReadyCapability.reject(Y);else{if(!E.opListReadCapability)throw Y;E.opListReadCapability.reject(Y)}}})};e()}_abortOperatorList({intentState:o,reason:O,force:s=!1}){if(o.streamReader){if(!s){if(o.renderTasks.size>0)return;if(O instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:O,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(O.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[z,E]of this._intentStates)if(E===o){this._intentStates.delete(z);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,O){const s={data:structuredClone(o,O)};this._deferred.then(()=>{for(const z of this._listeners)z.call(this,s)})}addEventListener(o,O){this._listeners.push(O)}removeEventListener(o,O){const s=this._listeners.indexOf(O);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const ne=document?.currentScript?.src;ne&&(PDFWorkerUtil.fallbackWorkerSrc=ne.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(ne){return URL.createObjectURL(new Blob([`importScripts("${ne}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:ne=null,port:o=null,verbosity:O=(0,_util.getVerbosityLevel)()}={}){if(o&&_PDFWorker._workerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=ne,this.destroyed=!1,this.verbosity=O,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return _PDFWorker._workerPorts.set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ne){this._port=ne,this._messageHandler=new _message_handler.MessageHandler("main","worker",ne),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let ne=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,ne)||(ne=PDFWorkerUtil.createCDNWrapper(new URL(ne,window.location).href));const o=new Worker(ne),O=new _message_handler.MessageHandler("main","worker",o),s=()=>{o.removeEventListener("error",z),O.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},z=()=>{this._webWorker||s()};o.addEventListener("error",z),O.on("test",e=>{o.removeEventListener("error",z),this.destroyed?s():e?(this._messageHandler=O,this._port=o,this._webWorker=o,this._readyCapability.resolve(),O.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),O.destroy(),o.terminate())}),O.on("ready",e=>{if(o.removeEventListener("error",z),this.destroyed)s();else try{E()}catch{this._setupFakeWorker()}});const E=()=>{const e=new Uint8Array([255]);try{O.send("test",e,[e.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),e[0]=0,O.send("test",e)}};return void E()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ne=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const O="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(O+"_worker",O,o);ne.setup(s,o);const z=new _message_handler.MessageHandler(O,O+"_worker",o);this._messageHandler=z,this._readyCapability.resolve(),z.send("configure",{verbosity:this.verbosity})}).catch(ne=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ne.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ne){if(!ne?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(ne.port)?this._workerPorts.get(ne.port):new _PDFWorker(ne)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function ne(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(o,O,s,z){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=o,this.loadingTask=O,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:O.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:z.ownerDocument,styleElement:z.styleElement}),this._params=z,z.useWorkerFetch||(this.CMapReaderFactory=new z.CMapReaderFactory({baseUrl:z.cMapUrl,isCompressed:z.cMapPacked}),this.StandardFontDataFactory=new z.StandardFontDataFactory({baseUrl:z.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(o,O=_util.AnnotationMode.ENABLE,s=!1){let z=_util.RenderingIntentFlag.DISPLAY,E="";switch(o){case"any":z=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":z=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(O){case _util.AnnotationMode.DISABLE:z+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:z+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:z+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,E=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${O}`)}return s&&(z+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:z,cacheKey:`${z}_${E}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const s of _classPrivateFieldGet(this,_pageCache).values())o.push(s._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const O=this.messageHandler.sendWithPromise("Terminate",null);return o.push(O),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:O}=this;o.on("GetReader",(s,z)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=E=>{this._lastProgress={loaded:E.loaded,total:E.total}},z.onPull=()=>{this._fullReader.read().then(function({value:E,done:e}){e?z.close():((0,_util.assert)((0,_util.isArrayBuffer)(E),"GetReader - expected an ArrayBuffer."),z.enqueue(new Uint8Array(E),1,[E]))}).catch(E=>{z.error(E)})},z.onCancel=E=>{this._fullReader.cancel(E),z.ready.catch(e=>{if(!this.destroyed)throw e})}}),o.on("ReaderHeadersReady",s=>{const z=(0,_util.createPromiseCapability)(),E=this._fullReader;return E.headersReady.then(()=>{(!E.isStreamingSupported||!E.isRangeSupported)&&(this._lastProgress&&O.onProgress?.(this._lastProgress),E.onProgress=e=>{O.onProgress?.({loaded:e.loaded,total:e.total})}),z.resolve({isStreamingSupported:E.isStreamingSupported,isRangeSupported:E.isRangeSupported,contentLength:E.contentLength})},z.reject),z.promise}),o.on("GetRangeReader",(s,z)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const E=this._networkStream.getRangeReader(s.begin,s.end);E?(z.onPull=()=>{E.read().then(function({value:e,done:Y}){Y?z.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),z.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{z.error(e)})},z.onCancel=e=>{E.cancel(e),z.ready.catch(Y=>{if(!this.destroyed)throw Y})}):z.close()}),o.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,O._capability.resolve(new PDFDocumentProxy(s,this))}),o.on("DocException",function(s){let z;switch(s.name){case"PasswordException":z=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":z=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":z=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":z=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":z=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}O._capability.reject(z)}),o.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),O.onPassword){const z=E=>{E instanceof Error?this._passwordCapability.reject(E):this._passwordCapability.resolve({password:E})};try{O.onPassword(z,s.code)}catch(E){this._passwordCapability.reject(E)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),o.on("DataLoaded",s=>{O.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),o.on("StartRenderPage",s=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),o.on("commonobj",([s,z,E])=>{if(!this.destroyed&&!this.commonObjs.has(s))switch(z){case"Font":const e=this._params;if("error"in E){const Z=E.error;(0,_util.warn)(`Error during font loading: ${Z}`),this.commonObjs.resolve(s,Z);break}let Y=null;e.pdfBug&&globalThis.FontInspector?.enabled&&(Y={registerFont(Z,W){globalThis.FontInspector.fontAdded(Z,W)}});const q=new _font_loader.FontFaceObject(E,{isEvalSupported:e.isEvalSupported,disableFontFace:e.disableFontFace,ignoreErrors:e.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Y});this.fontLoader.bind(q).catch(Z=>o.sendWithPromise("FontFallback",{id:s})).finally(()=>{!e.fontExtraProperties&&q.data&&(q.data=null),this.commonObjs.resolve(s,q)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,E);break;default:throw new Error(`Got unknown common object type ${z}`)}}),o.on("obj",([s,z,E,e])=>{if(this.destroyed)return;const Y=_classPrivateFieldGet(this,_pageCache).get(z);if(!Y.objs.has(s))switch(E){case"Image":Y.objs.resolve(s,e),e?.data?.length>8e6&&(Y.cleanupAfterRender=!0);break;case"Pattern":Y.objs.resolve(s,e);break;default:throw new Error(`Got unknown object type ${E}`)}}),o.on("DocProgress",s=>{this.destroyed||O.onProgress?.({loaded:s.loaded,total:s.total})}),o.on("DocStats",s=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const O=o-1,s=_classPrivateFieldGet(this,_pagePromises).get(O);if(s)return s;const z=this.messageHandler.sendWithPromise("GetPage",{pageIndex:O}).then(E=>{if(this.destroyed)throw new Error("Transport destroyed");const e=new PDFPageProxy(O,E,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(O,e),e});return _classPrivateFieldGet(this,_pagePromises).set(O,z),z}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,O){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:O})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>({info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var O=this;return _asyncToGenerator(function*(){if(yield O.messageHandler.sendWithPromise("Cleanup",null),!O.destroyed){for(const s of _classPrivateFieldGet(O,_pageCache).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);O.commonObjs.clear(),o||O.fontLoader.clear(),_classPrivateFieldSet(O,_metadataPromise,null),O._getFieldObjectsPromise=null,O._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(o,O=null){if(O){const z=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,o);return z.capability.promise.then(()=>O(z.data)),null}const s=_classPrivateFieldGet(this,_objs)[o];if(!s?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${o}.`);return s.data}has(o){return _classPrivateFieldGet(this,_objs)[o]?.capability.settled||!1}resolve(o,O=null){const s=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,o);s.data=O,s.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(ne){return _classPrivateFieldGet(this,_objs)[ne]||(_classPrivateFieldGet(this,_objs)[ne]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:o,params:O,objs:s,commonObjs:z,annotationCanvasMap:E,operatorList:e,pageIndex:Y,canvasFactory:q,useRequestAnimationFrame:Z=!1,pdfBug:W=!1}){this.callback=o,this.params=O,this.objs=s,this.commonObjs=z,this.annotationCanvasMap=E,this.operatorListIdx=null,this.operatorList=e,this._pageIndex=Y,this.canvasFactory=q,this._pdfBug=W,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===Z&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=O.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:O}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:z,transform:E,imageLayer:e,background:Y}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,e,O,this.annotationCanvasMap),this.gfx.beginDrawing({transform:E,viewport:z,transparency:o,background:Y}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&InternalRenderTask.canvasInUse.delete(o._canvas),o.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=function i(w){console.log("Deprecated API usage: "+w)},o.getFilenameFromUrl=function N(w){const v=w.indexOf("#"),h=w.indexOf("?"),P=Math.min(v>0?v:w.length,h>0?h:w.length);return w.substring(w.lastIndexOf("/",P)+1,P)},o.getPdfFilenameFromUrl=function D(w,v="document.pdf"){if("string"!=typeof w)return v;if(A(w))return(0,z.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),v;const P=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,R=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(w);let T=P.exec(R[1])||P.exec(R[2])||P.exec(R[3]);if(T&&(T=T[0],T.includes("%")))try{T=P.exec(decodeURIComponent(T))[0]}catch{}return T||v},o.getXfaPageViewport=function p(w,{scale:v=1,rotation:h=0}){const{width:P,height:R}=w.attributes.style,T=[0,0,parseInt(P),parseInt(R)];return new j({viewBox:T,scale:v,rotation:h})},o.isDataScheme=A,o.isPdfFile=function y(w){return"string"==typeof w&&/\.pdf$/i.test(w)},o.isValidFetchUrl=M,o.loadScript=function r(w,v=!1){return new Promise((h,P)=>{const R=document.createElement("script");R.src=w,R.onload=function(T){v&&R.remove(),h(T)},R.onerror=function(){P(new Error(`Cannot load script at: ${R.src}`))},(document.head||document.documentElement).appendChild(R)})};var s=O(6),z=O(1);class e{}function q(w){return Z.apply(this,arguments)}function Z(){return(Z=_asyncToGenerator(function*(w,v=!1){if(M(w,document.baseURI)){const h=yield fetch(w);if(!h.ok)throw new Error(h.statusText);return v?new Uint8Array(yield h.arrayBuffer()):(0,z.stringToBytes)(yield h.text())}return new Promise((h,P)=>{const R=new XMLHttpRequest;R.open("GET",w,!0),v&&(R.responseType="arraybuffer"),R.onreadystatechange=()=>{if(R.readyState===XMLHttpRequest.DONE){if(200===R.status||0===R.status){let T;if(v&&R.response?T=new Uint8Array(R.response):!v&&R.responseText&&(T=(0,z.stringToBytes)(R.responseText)),T)return void h(T)}P(new Error(R.statusText))}},R.send(null)})})).apply(this,arguments)}_defineProperty(e,"CSS",96),_defineProperty(e,"PDF",72),_defineProperty(e,"PDF_TO_CSS_UNITS",e.CSS/e.PDF),o.PixelsPerInch=e,o.DOMCanvasFactory=class Y extends s.BaseCanvasFactory{constructor({ownerDocument:v=globalThis.document}={}){super(),this._document=v}_createCanvas(v,h){const P=this._document.createElement("canvas");return P.width=v,P.height=h,P}},o.DOMCMapReaderFactory=class W extends s.BaseCMapReaderFactory{_fetchData(v,h){return q(v,this.isCompressed).then(P=>({cMapData:P,compressionType:h}))}},o.DOMStandardFontDataFactory=class $ extends s.BaseStandardFontDataFactory{_fetchData(v){return q(v,!0)}},o.DOMSVGFactory=class J extends s.BaseSVGFactory{_createSVG(v){return document.createElementNS("http://www.w3.org/2000/svg",v)}};class j{constructor({viewBox:v,scale:h,rotation:P,offsetX:R=0,offsetY:T=0,dontFlip:B=!1}){this.viewBox=v,this.scale=h,this.rotation=P,this.offsetX=R,this.offsetY=T;const H=(v[2]+v[0])/2,X=(v[3]+v[1])/2;let C,c,a,b,u,n,l,g;switch((P%=360)<0&&(P+=360),P){case 180:C=-1,c=0,a=0,b=1;break;case 90:C=0,c=1,a=1,b=0;break;case 270:C=0,c=-1,a=-1,b=0;break;case 0:C=1,c=0,a=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}B&&(a=-a,b=-b),0===C?(u=Math.abs(X-v[1])*h+R,n=Math.abs(H-v[0])*h+T,l=Math.abs(v[3]-v[1])*h,g=Math.abs(v[2]-v[0])*h):(u=Math.abs(H-v[0])*h+R,n=Math.abs(X-v[1])*h+T,l=Math.abs(v[2]-v[0])*h,g=Math.abs(v[3]-v[1])*h),this.transform=[C*h,c*h,a*h,b*h,u-C*h*H-a*h*X,n-c*h*H-b*h*X],this.width=l,this.height=g}clone({scale:v=this.scale,rotation:h=this.rotation,offsetX:P=this.offsetX,offsetY:R=this.offsetY,dontFlip:T=!1}={}){return new j({viewBox:this.viewBox.slice(),scale:v,rotation:h,offsetX:P,offsetY:R,dontFlip:T})}convertToViewportPoint(v,h){return z.Util.applyTransform([v,h],this.transform)}convertToViewportRectangle(v){const h=z.Util.applyTransform([v[0],v[1]],this.transform),P=z.Util.applyTransform([v[2],v[3]],this.transform);return[h[0],h[1],P[0],P[1]]}convertToPdfPoint(v,h){return z.Util.applyInverseTransform([v,h],this.transform)}}function A(w){const v=w.length;let h=0;for(;h<v&&""===w[h].trim();)h++;return"data:"===w.substring(h,h+5).toLowerCase()}function M(w,v){try{const{protocol:h}=v?new URL(w,v):new URL(w);return"http:"===h||"https:"===h}catch{return!1}}let m;o.PageViewport=j,o.RenderingCancelledException=class G extends z.BaseException{constructor(v,h){super(v,"RenderingCancelledException"),this.type=h}},o.StatTimer=class S{constructor(){this.started=Object.create(null),this.times=[]}time(v){v in this.started&&(0,z.warn)(`Timer is already running for ${v}`),this.started[v]=Date.now()}timeEnd(v){v in this.started||(0,z.warn)(`Timer has not been started for ${v}`),this.times.push({name:v,start:this.started[v],end:Date.now()}),delete this.started[v]}toString(){const v=[];let h=0;for(const P of this.times){const R=P.name;R.length>h&&(h=R.length)}for(const P of this.times){const R=P.end-P.start;v.push(`${P.name.padEnd(h)} ${R}ms\n`)}return v.join("")}},o.PDFDateString=class I{static toDateObject(v){if(!v||"string"!=typeof v)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const h=m.exec(v);if(!h)return null;const P=parseInt(h[1],10);let R=parseInt(h[2],10);R=R>=1&&R<=12?R-1:0;let T=parseInt(h[3],10);T=T>=1&&T<=31?T:1;let B=parseInt(h[4],10);B=B>=0&&B<=23?B:0;let H=parseInt(h[5],10);H=H>=0&&H<=59?H:0;let X=parseInt(h[6],10);X=X>=0&&X<=59?X:0;const C=h[7]||"Z";let c=parseInt(h[8],10);c=c>=0&&c<=23?c:0;let a=parseInt(h[9],10)||0;return a=a>=0&&a<=59?a:0,"-"===C?(B+=c,H+=a):"+"===C&&(B-=c,H-=a),new Date(Date.UTC(P,R,T,B,H,X))}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var s=O(1);class z{constructor(){this.constructor===z&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Z,W){if(Z<=0||W<=0)throw new Error("Invalid canvas size");const $=this._createCanvas(Z,W);return{canvas:$,context:$.getContext("2d")}}reset(Z,W,$){if(!Z.canvas)throw new Error("Canvas is not specified");if(W<=0||$<=0)throw new Error("Invalid canvas size");Z.canvas.width=W,Z.canvas.height=$}destroy(Z){if(!Z.canvas)throw new Error("Canvas is not specified");Z.canvas.width=0,Z.canvas.height=0,Z.canvas=null,Z.context=null}_createCanvas(Z,W){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=z;class E{constructor({baseUrl:Z=null,isCompressed:W=!1}){this.constructor===E&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Z,this.isCompressed=W}fetch({name:Z}){var W=this;return _asyncToGenerator(function*(){if(!W.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Z)throw new Error("CMap name must be specified.");const $=W.baseUrl+Z+(W.isCompressed?".bcmap":"");return W._fetchData($,W.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE).catch(j=>{throw new Error(`Unable to load ${W.isCompressed?"binary ":""}CMap at: ${$}`)})})()}_fetchData(Z,W){(0,s.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=E;class e{constructor({baseUrl:Z=null}){this.constructor===e&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Z}fetch({filename:Z}){var W=this;return _asyncToGenerator(function*(){if(!W.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Z)throw new Error("Font filename must be specified.");const $=`${W.baseUrl}${Z}`;return W._fetchData($).catch(J=>{throw new Error(`Unable to load font data at: ${$}`)})})()}_fetchData(Z){(0,s.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=e;class Y{constructor(){this.constructor===Y&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(Z,W){if(Z<=0||W<=0)throw new Error("Invalid SVG dimensions");const $=this._createSVG("svg:svg");return $.setAttribute("version","1.1"),$.setAttribute("width",`${Z}px`),$.setAttribute("height",`${W}px`),$.setAttribute("preserveAspectRatio","none"),$.setAttribute("viewBox",`0 0 ${Z} ${W}`),$}createElement(Z){if("string"!=typeof Z)throw new Error("Invalid SVG element type");return this._createSVG(Z)}_createSVG(Z){(0,s.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=Y},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var s=O(1);class z{constructor({docId:q,onUnsupportedFeature:Z,ownerDocument:W=globalThis.document,styleElement:$=null}){this.constructor===z&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=q,this._onUnsupportedFeature=Z,this._document=W,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(q){this.nativeFontFaces.push(q),this._document.fonts.add(q)}insertRule(q){let Z=this.styleElement;Z||(Z=this.styleElement=this._document.createElement("style"),Z.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(Z));const W=Z.sheet;W.insertRule(q,W.cssRules.length)}clear(){for(const q of this.nativeFontFaces)this._document.fonts.delete(q);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(q){var Z=this;return _asyncToGenerator(function*(){if(q.attached||q.missingFile)return;if(q.attached=!0,Z.isFontLoadingAPISupported){const $=q.createNativeFontFace();if($){Z.addNativeFontFace($);try{yield $.loaded}catch(J){throw Z._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)(`Failed to load font '${$.family}': '${J}'.`),q.disableFontFace=!0,J}}return}const W=q.createFontFaceRule();if(W){if(Z.insertRule(W),Z.isSyncFontLoadingSupported)return;yield new Promise($=>{const J=Z._queueLoadingCallback($);Z._prepareFontLoadEvent([W],[q],J)})}})()}_queueLoadingCallback(q){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,s.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(q,Z,W){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let E;o.FontLoader=E,o.FontLoader=E=class extends z{constructor(q){super(q),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let q=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(q=!0),(0,s.shadow)(this,"isSyncFontLoadingSupported",q)}_queueLoadingCallback(q){const W=this.loadingContext,$={id:"pdfjs-font-loading-"+W.nextRequestId++,done:!1,complete:function Z(){for((0,s.assert)(!$.done,"completeRequest() cannot be called twice."),$.done=!0;W.requests.length>0&&W.requests[0].done;){const J=W.requests.shift();setTimeout(J.callback,0)}},callback:q};return W.requests.push($),$}get _loadTestFont(){return(0,s.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(q,Z,W){function $(P,R){return P.charCodeAt(R)<<24|P.charCodeAt(R+1)<<16|P.charCodeAt(R+2)<<8|255&P.charCodeAt(R+3)}function J(P,R,T,B){return P.substring(0,R)+B+P.substring(R+T)}let j,G;const A=this._document.createElement("canvas");A.width=1,A.height=1;const y=A.getContext("2d");let N=0;const S=`lt${Date.now()}${this.loadTestFontId++}`;let M=this._loadTestFont;M=J(M,976,S.length,S);const m=1482184792;let I=$(M,16);for(j=0,G=S.length-3;j<G;j+=4)I=I-m+$(S,j)|0;j<S.length&&(I=I-m+$(S+"XXX",j)|0),M=J(M,16,4,(0,s.string32)(I));const p=`url(data:font/opentype;base64,${btoa(M)});`;this.insertRule(`@font-face {font-family:"${S}";src:${p}}`);const v=[];for(const P of Z)v.push(P.loadedName);v.push(S);const h=this._document.createElement("div");h.style.visibility="hidden",h.style.width=h.style.height="10px",h.style.position="absolute",h.style.top=h.style.left="0px";for(const P of v){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=P,h.appendChild(R)}this._document.body.appendChild(h),function D(P,R){if(N++,N>30)return(0,s.warn)("Load test font never loaded."),void R();y.font="30px "+P,y.fillText(".",0,20),y.getImageData(0,0,1,1).data[3]>0?R():setTimeout(D.bind(null,P,R))}(S,()=>{h.remove(),W.complete()})}},o.FontFaceObject=class e{constructor(q,{isEvalSupported:Z=!0,disableFontFace:W=!1,ignoreErrors:$=!1,onUnsupportedFeature:J,fontRegistry:j=null}){this.compiledGlyphs=Object.create(null);for(const G in q)this[G]=q[G];this.isEvalSupported=!1!==Z,this.disableFontFace=!0===W,this.ignoreErrors=!0===$,this._onUnsupportedFeature=J,this.fontRegistry=j}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let q;if(this.cssFontInfo){const Z={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Z.style=`oblique ${this.cssFontInfo.italicAngle}deg`),q=new FontFace(this.cssFontInfo.fontFamily,this.data,Z)}else q=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),q}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const q=(0,s.bytesToString)(this.data),Z=`url(data:${this.mimetype};base64,${btoa(q)});`;let W;if(this.cssFontInfo){let $=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&($+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),W=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${$}src:${Z}}`}else W=`@font-face {font-family:"${this.loadedName}";src:${Z}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,Z),W}getPathGenerator(q,Z){if(void 0!==this.compiledGlyphs[Z])return this.compiledGlyphs[Z];let W;try{W=q.get(this.loadedName+"_path_"+Z)}catch($){if(!this.ignoreErrors)throw $;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: "${$}".`),this.compiledGlyphs[Z]=function(J,j){}}if(this.isEvalSupported&&s.IsEvalSupportedCached.value){const $=[];for(const J of W){const j=void 0!==J.args?J.args.join(","):"";$.push("c.",J.cmd,"(",j,");\n")}return this.compiledGlyphs[Z]=new Function("c","size",$.join(""))}return this.compiledGlyphs[Z]=function($,J){for(const j of W)"scale"===j.cmd&&(j.args=[J,-J]),$[j.cmd].apply($,j.args)}}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var s=O(6),z=O(3),E=O(1);let e=class{constructor(){(0,E.unreachable)("Not implemented: NodeCanvasFactory")}};o.NodeCanvasFactory=e;let Y=class{constructor(){(0,E.unreachable)("Not implemented: NodeCMapReaderFactory")}};o.NodeCMapReaderFactory=Y;let q=class{constructor(){(0,E.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(o.NodeStandardFontDataFactory=q,z.isNodeJS){const Z=function(W){return new Promise(($,J)=>{__webpack_require__(172).readFile(W,(G,A)=>{!G&&A?$(new Uint8Array(A)):J(new Error(G))})})};o.NodeCanvasFactory=e=class extends s.BaseCanvasFactory{_createCanvas(W,$){return __webpack_require__(3414).createCanvas(W,$)}},o.NodeCMapReaderFactory=Y=class extends s.BaseCMapReaderFactory{_fetchData(W,$){return Z(W).then(J=>({cMapData:J,compressionType:$}))}},o.NodeStandardFontDataFactory=q=class extends s.BaseStandardFontDataFactory{_fetchData(W){return Z(W)}}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationStorage=void 0;var s=O(1);o.AnnotationStorage=class z{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(e,Y){const q=this._storage.get(e);return void 0===q?Y:Object.assign(Y,q)}setValue(e,Y){const q=this._storage.get(e);let Z=!1;if(void 0!==q)for(const[W,$]of Object.entries(Y))q[W]!==$&&(Z=!0,q[W]=$);else Z=!0,this._storage.set(e,Y);Z&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,s.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var s=O(1),z=O(11),E=O(5);const q=4096,j=16;function y(C){if(C._transformStack&&(C._transformStack=[]),!C.mozCurrentTransform){C._originalSave=C.save,C._originalRestore=C.restore,C._originalRotate=C.rotate,C._originalScale=C.scale,C._originalTranslate=C.translate,C._originalTransform=C.transform,C._originalSetTransform=C.setTransform,C._originalResetTransform=C.resetTransform,C._transformMatrix=C._transformMatrix||[1,0,0,1,0,0],C._transformStack=[];try{const c=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(C),"lineWidth");C._setLineWidth=c.set,C._getLineWidth=c.get,Object.defineProperty(C,"lineWidth",{set:function(b){this._setLineWidth(1.000001*b)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(C,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(C,"mozCurrentTransformInverse",{get:function(){const[a,b,u,n,l,g]=this._transformMatrix,F=a*n-b*u,x=b*u-a*n;return[n/F,b/x,u/x,a/F,(n*l-u*g)/x,(b*l-a*g)/F]}}),C.save=function(){const a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},C.restore=function(){0===this._transformStack.length&&(0,s.warn)("Tried to restore a ctx when the stack was already empty.");const a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},C.translate=function(a,b){const u=this._transformMatrix;u[4]=u[0]*a+u[2]*b+u[4],u[5]=u[1]*a+u[3]*b+u[5],this._originalTranslate(a,b)},C.scale=function(a,b){const u=this._transformMatrix;u[0]*=a,u[1]*=a,u[2]*=b,u[3]*=b,this._originalScale(a,b)},C.transform=function(a,b,u,n,l,g){const F=this._transformMatrix;this._transformMatrix=[F[0]*a+F[2]*b,F[1]*a+F[3]*b,F[0]*u+F[2]*n,F[1]*u+F[3]*n,F[0]*l+F[2]*g+F[4],F[1]*l+F[3]*g+F[5]],C._originalTransform(a,b,u,n,l,g)},C.setTransform=function(a,b,u,n,l,g){this._transformMatrix=[a,b,u,n,l,g],C._originalSetTransform(a,b,u,n,l,g)},C.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],C._originalResetTransform()},C.rotate=function(a){const b=Math.cos(a),u=Math.sin(a),n=this._transformMatrix;this._transformMatrix=[n[0]*b+n[2]*u,n[1]*b+n[3]*u,n[0]*-u+n[2]*b,n[1]*-u+n[3]*b,n[4],n[5]],this._originalRotate(a)}}}class N{constructor(c){this.canvasFactory=c,this.cache=Object.create(null)}getCanvas(c,a,b,u){let n;return void 0!==this.cache[c]?(n=this.cache[c],this.canvasFactory.reset(n,a,b),n.context.setTransform(1,0,0,1,0,0)):(n=this.canvasFactory.create(a,b),this.cache[c]=n),u&&y(n.context),n}clear(){for(const c in this.cache)this.canvasFactory.destroy(this.cache[c]),delete this.cache[c]}}class S{constructor(c,a){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,c,a])}clone(){const c=Object.create(this);return c.clipBox=this.clipBox.slice(),c}setCurrentPoint(c,a){this.x=c,this.y=a}updatePathMinMax(c,a,b){[a,b]=s.Util.applyTransform([a,b],c),this.minX=Math.min(this.minX,a),this.minY=Math.min(this.minY,b),this.maxX=Math.max(this.maxX,a),this.maxY=Math.max(this.maxY,b)}updateCurvePathMinMax(c,a,b,u,n,l,g,F,x){const f=s.Util.bezierBoundingBox(a,b,u,n,l,g,F,x);this.updatePathMinMax(c,f[0],f[1]),this.updatePathMinMax(c,f[2],f[3])}getPathBoundingBox(c=z.PathType.FILL,a=null){const b=[this.minX,this.minY,this.maxX,this.maxY];if(c===z.PathType.STROKE){a||(0,s.unreachable)("Stroke bounding box must include transform.");const u=s.Util.singularValueDecompose2dScale(a),n=u[0]*this.lineWidth/2,l=u[1]*this.lineWidth/2;b[0]-=n,b[1]-=l,b[2]+=n,b[3]+=l}return b}updateClipFromPath(){const c=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(c||[0,0,0,0])}startNewPathAndClipBox(c){this.clipBox=c,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(c=z.PathType.FILL,a=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(c,a))}}function M(C,c,a=null){if(typeof ImageData<"u"&&c instanceof ImageData)return void C.putImageData(c,0,0);const b=c.height,u=c.width,n=b%j,l=(b-n)/j,g=0===n?l:l+1,F=C.createImageData(u,j);let f,x=0;const Q=c.data,te=F.data;let ee,ie,de,fe,me,ve,pe,Se;if(a)switch(a.length){case 1:me=a[0],ve=a[0],pe=a[0],Se=a[0];break;case 4:me=a[0],ve=a[1],pe=a[2],Se=a[3]}if(c.kind===s.ImageKind.GRAYSCALE_1BPP){const Ee=Q.byteLength,Ae=new Uint32Array(te.buffer,0,te.byteLength>>2),Pe=Ae.length,Ze=u+7>>3;let oe=4294967295,k=s.IsLittleEndianCached.value?4278190080:255;for(Se&&255===Se[0]&&0===Se[255]&&([oe,k]=[k,oe]),ee=0;ee<g;ee++){for(de=ee<l?j:n,f=0,ie=0;ie<de;ie++){const K=Ee-x;let ae=0;const he=K>Ze?u:8*K-7,ue=-8&he;let ge=0,_e=0;for(;ae<ue;ae+=8)_e=Q[x++],Ae[f++]=128&_e?oe:k,Ae[f++]=64&_e?oe:k,Ae[f++]=32&_e?oe:k,Ae[f++]=16&_e?oe:k,Ae[f++]=8&_e?oe:k,Ae[f++]=4&_e?oe:k,Ae[f++]=2&_e?oe:k,Ae[f++]=1&_e?oe:k;for(;ae<he;ae++)0===ge&&(_e=Q[x++],ge=128),Ae[f++]=_e&ge?oe:k,ge>>=1}for(;f<Pe;)Ae[f++]=0;C.putImageData(F,0,ee*j)}}else if(c.kind===s.ImageKind.RGBA_32BPP){const Ee=!!(me||ve||pe);for(ie=0,fe=u*j*4,ee=0;ee<l;ee++){if(te.set(Q.subarray(x,x+fe)),x+=fe,Ee)for(let Ae=0;Ae<fe;Ae+=4)me&&(te[Ae+0]=me[te[Ae+0]]),ve&&(te[Ae+1]=ve[te[Ae+1]]),pe&&(te[Ae+2]=pe[te[Ae+2]]);C.putImageData(F,0,ie),ie+=j}if(ee<g){if(fe=u*n*4,te.set(Q.subarray(x,x+fe)),Ee)for(let Ae=0;Ae<fe;Ae+=4)me&&(te[Ae+0]=me[te[Ae+0]]),ve&&(te[Ae+1]=ve[te[Ae+1]]),pe&&(te[Ae+2]=pe[te[Ae+2]]);C.putImageData(F,0,ie)}}else{if(c.kind!==s.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${c.kind}`);{const Ee=!!(me||ve||pe);for(de=j,fe=u*de,ee=0;ee<g;ee++){for(ee>=l&&(de=n,fe=u*de),f=0,ie=fe;ie--;)te[f++]=Q[x++],te[f++]=Q[x++],te[f++]=Q[x++],te[f++]=255;if(Ee)for(let Ae=0;Ae<f;Ae+=4)me&&(te[Ae+0]=me[te[Ae+0]]),ve&&(te[Ae+1]=ve[te[Ae+1]]),pe&&(te[Ae+2]=pe[te[Ae+2]]);C.putImageData(F,0,ee*j)}}}}function r(C,c){const a=c.height,b=c.width,u=a%j,n=(a-u)/j,l=0===u?n:n+1,g=C.createImageData(b,j);let F=0;const x=c.data,f=g.data;for(let Q=0;Q<l;Q++){const te=Q<n?j:u;let ee=3;for(let ie=0;ie<te;ie++){let de,fe=0;for(let me=0;me<b;me++)fe||(de=x[F++],fe=128),f[ee]=de&fe?0:255,ee+=4,fe>>=1}C.putImageData(g,0,Q*j)}}function i(C,c){const a=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let b=0,u=a.length;b<u;b++){const n=a[b];void 0!==C[n]&&(c[n]=C[n])}void 0!==C.setLineDash&&(c.setLineDash(C.getLineDash()),c.lineDashOffset=C.lineDashOffset)}function m(C){C.strokeStyle="#000000",C.fillStyle="#000000",C.fillRule="nonzero",C.globalAlpha=1,C.lineWidth=1,C.lineCap="butt",C.lineJoin="miter",C.miterLimit=10,C.globalCompositeOperation="source-over",C.font="10px sans-serif",void 0!==C.setLineDash&&(C.setLineDash([]),C.lineDashOffset=0)}function I(C,c,a,b){const u=C.length;for(let n=3;n<u;n+=4){const l=C[n];if(0===l)C[n-3]=c,C[n-2]=a,C[n-1]=b;else if(l<255){const g=255-l;C[n-3]=C[n-3]*l+c*g>>8,C[n-2]=C[n-2]*l+a*g>>8,C[n-1]=C[n-1]*l+b*g>>8}}}function p(C,c,a){const b=C.length;for(let n=3;n<b;n+=4)c[n]=c[n]*(a?a[C[n]]:C[n])*.00392156862745098|0}function w(C,c,a){const b=C.length;for(let u=3;u<b;u+=4){const n=77*C[u-3]+152*C[u-2]+28*C[u-1];c[u]=a?c[u]*a[n>>8]>>8:c[u]*n>>16}}function P(C,c){const a=s.Util.singularValueDecompose2dScale(C);a[0]=Math.fround(a[0]),a[1]=Math.fround(a[1]);const b=Math.fround((globalThis.devicePixelRatio||1)*E.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==c?c:a[0]<=b||a[1]<=b}const R=["butt","round","square"],T=["miter","round","bevel"],B={},H={};class X{constructor(c,a,b,u,n,l,g){this.ctx=c,this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=a,this.objs=b,this.canvasFactory=u,this.imageLayer=n,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=l,this.cachedCanvases=new N(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=g,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,c&&y(c),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:c,viewport:a,transparency:b=!1,background:u=null}){const n=this.ctx.canvas.width,l=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=u||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,n,l),this.ctx.restore(),b){const g=this.cachedCanvases.getCanvas("transparent",n,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=g.canvas,this.ctx=g.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),m(this.ctx),c&&(this.ctx.transform.apply(this.ctx,c),this.outputScaleX=c[0],this.outputScaleY=c[0]),this.ctx.transform.apply(this.ctx,a.transform),this.viewportScale=a.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(c,a,b,u){const n=c.argsArray,l=c.fnArray;let g=a||0;const F=n.length;if(F===g)return g;const x=F-g>10&&"function"==typeof b,f=x?Date.now()+15:0;let Q=0;const te=this.commonObjs,ee=this.objs;let ie;for(;;){if(void 0!==u&&g===u.nextBreakPoint)return u.breakIt(g,b),g;if(ie=l[g],ie!==s.OPS.dependency)this[ie].apply(this,n[g]);else for(const de of n[g]){const fe=de.startsWith("g_")?te:ee;if(!fe.has(de))return fe.get(de,b),g}if(g++,g===F)return g;if(x&&++Q>10){if(Date.now()>f)return b(),g;Q=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(c,a){const b=c.width,u=c.height;let f,Q,n=Math.max(Math.hypot(a[0],a[1]),1),l=Math.max(Math.hypot(a[2],a[3]),1),g=b,F=u,x="prescale1";for(;n>2&&g>1||l>2&&F>1;){let te=g,ee=F;n>2&&g>1&&(te=Math.ceil(g/2),n/=g/te),l>2&&F>1&&(ee=Math.ceil(F/2),l/=F/ee),f=this.cachedCanvases.getCanvas(x,te,ee),Q=f.context,Q.clearRect(0,0,te,ee),Q.drawImage(c,0,0,g,F,0,0,te,ee),c=f.canvas,g=te,F=ee,x="prescale1"===x?"prescale2":"prescale1"}return{img:c,paintWidth:g,paintHeight:F}}_createMaskCanvas(c){const a=this.ctx,b=c.width,u=c.height,n=this.current.fillColor,l=this.current.patternFill,g=this.cachedCanvases.getCanvas("maskCanvas",b,u);r(g.context,c);let f=s.Util.transform(a.mozCurrentTransform,[1/b,0,0,-1/u,0,0]);f=s.Util.transform(f,[1,0,0,1,0,-u]);const Q=s.Util.applyTransform([0,0],f),te=s.Util.applyTransform([b,u],f),ee=s.Util.normalizeRect([Q[0],Q[1],te[0],te[1]]),ie=Math.ceil(ee[2]-ee[0]),de=Math.ceil(ee[3]-ee[1]),fe=this.cachedCanvases.getCanvas("fillCanvas",ie,de,!0),me=fe.context,ve=Math.min(Q[0],te[0]),pe=Math.min(Q[1],te[1]);me.translate(-ve,-pe),me.transform.apply(me,f);const Se=this._scaleImage(g.canvas,me.mozCurrentTransformInverse);me.imageSmoothingEnabled=P(me.mozCurrentTransform,c.interpolate),me.drawImage(Se.img,0,0,Se.img.width,Se.img.height,0,0,b,u),me.globalCompositeOperation="source-in";const Ee=s.Util.transform(me.mozCurrentTransformInverse,[1,0,0,1,-ve,-pe]);return me.fillStyle=l?n.getPattern(a,this,Ee,z.PathType.FILL):n,me.fillRect(0,0,b,u),{canvas:fe.canvas,offsetX:Math.round(ve),offsetY:Math.round(pe)}}setLineWidth(c){this.current.lineWidth=c,this.ctx.lineWidth=c}setLineCap(c){this.ctx.lineCap=R[c]}setLineJoin(c){this.ctx.lineJoin=T[c]}setMiterLimit(c){this.ctx.miterLimit=c}setDash(c,a){const b=this.ctx;void 0!==b.setLineDash&&(b.setLineDash(c),b.lineDashOffset=a)}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(let a=0,b=c.length;a<b;a++){const u=c[a],l=u[1];switch(u[0]){case"LW":this.setLineWidth(l);break;case"LC":this.setLineCap(l);break;case"LJ":this.setLineJoin(l);break;case"ML":this.setMiterLimit(l);break;case"D":this.setDash(l[0],l[1]);break;case"RI":this.setRenderingIntent(l);break;case"FL":this.setFlatness(l);break;case"Font":this.setFont(l[0],l[1]);break;case"CA":this.current.strokeAlpha=u[1];break;case"ca":this.current.fillAlpha=u[1],this.ctx.globalAlpha=u[1];break;case"BM":this.ctx.globalCompositeOperation=l;break;case"SMask":this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=l}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const c=this.inSMaskMode;this.current.activeSMask&&!c?this.beginSMaskMode():!this.current.activeSMask&&c&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const u=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=u.context;const n=this.ctx;n.setTransform.apply(n,this.suspendedCtx.mozCurrentTransform),i(this.suspendedCtx,n),function A(C,c){if(C._removeMirroring)throw new Error("Context is already forwarding operations.");C.__originalSave=C.save,C.__originalRestore=C.restore,C.__originalRotate=C.rotate,C.__originalScale=C.scale,C.__originalTranslate=C.translate,C.__originalTransform=C.transform,C.__originalSetTransform=C.setTransform,C.__originalResetTransform=C.resetTransform,C.__originalClip=C.clip,C.__originalMoveTo=C.moveTo,C.__originalLineTo=C.lineTo,C.__originalBezierCurveTo=C.bezierCurveTo,C.__originalRect=C.rect,C.__originalClosePath=C.closePath,C.__originalBeginPath=C.beginPath,C._removeMirroring=()=>{C.save=C.__originalSave,C.restore=C.__originalRestore,C.rotate=C.__originalRotate,C.scale=C.__originalScale,C.translate=C.__originalTranslate,C.transform=C.__originalTransform,C.setTransform=C.__originalSetTransform,C.resetTransform=C.__originalResetTransform,C.clip=C.__originalClip,C.moveTo=C.__originalMoveTo,C.lineTo=C.__originalLineTo,C.bezierCurveTo=C.__originalBezierCurveTo,C.rect=C.__originalRect,C.closePath=C.__originalClosePath,C.beginPath=C.__originalBeginPath,delete C._removeMirroring},C.save=function(){c.save(),this.__originalSave()},C.restore=function(){c.restore(),this.__originalRestore()},C.translate=function(b,u){c.translate(b,u),this.__originalTranslate(b,u)},C.scale=function(b,u){c.scale(b,u),this.__originalScale(b,u)},C.transform=function(b,u,n,l,g,F){c.transform(b,u,n,l,g,F),this.__originalTransform(b,u,n,l,g,F)},C.setTransform=function(b,u,n,l,g,F){c.setTransform(b,u,n,l,g,F),this.__originalSetTransform(b,u,n,l,g,F)},C.resetTransform=function(){c.resetTransform(),this.__originalResetTransform()},C.rotate=function(b){c.rotate(b),this.__originalRotate(b)},C.clip=function(b){c.clip(b),this.__originalClip(b)},C.moveTo=function(a,b){c.moveTo(a,b),this.__originalMoveTo(a,b)},C.lineTo=function(a,b){c.lineTo(a,b),this.__originalLineTo(a,b)},C.bezierCurveTo=function(a,b,u,n,l,g){c.bezierCurveTo(a,b,u,n,l,g),this.__originalBezierCurveTo(a,b,u,n,l,g)},C.rect=function(a,b,u,n){c.rect(a,b,u,n),this.__originalRect(a,b,u,n)},C.closePath=function(){c.closePath(),this.__originalClosePath()},C.beginPath=function(){c.beginPath(),this.__originalBeginPath()}}(n,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),i(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(c){this.current.activeSMask&&(c?(c[0]=Math.floor(c[0]),c[1]=Math.floor(c[1]),c[2]=Math.ceil(c[2]),c[3]=Math.ceil(c[3])):c=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function h(C,c,a,b){const u=b[0],n=b[1],l=b[2]-u,g=b[3]-n;0===l||0===g||(function v(C,c,a,b,u,n,l,g,F,x,f){const Q=!!n,te=Q?n[0]:0,ee=Q?n[1]:0,ie=Q?n[2]:0;let de;de="Luminosity"===u?w:p;const me=Math.min(b,Math.ceil(1048576/a));for(let ve=0;ve<b;ve+=me){const pe=Math.min(me,b-ve),Se=C.getImageData(g-x,ve+(F-f),a,pe),Ee=c.getImageData(g,ve+F,a,pe);Q&&I(Se.data,te,ee,ie),de(Se.data,Ee.data,l),c.putImageData(Ee,g,ve+F)}}(c.context,a,l,g,c.subtype,c.backdrop,c.transferMap,u,n,c.offsetX,c.offsetY),C.save(),C.globalAlpha=1,C.globalCompositeOperation="source-over",C.setTransform(1,0,0,1,0,0),C.drawImage(a.canvas,0,0),C.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,c),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(i(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const c=this.current;this.stateStack.push(c),this.current=c.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),i(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(c,a,b,u,n,l){this.ctx.transform(c,a,b,u,n,l),this._cachedGetSinglePixelWidth=null}constructPath(c,a){const b=this.ctx,u=this.current;let g,F,n=u.x,l=u.y;for(let x=0,f=0,Q=c.length;x<Q;x++)switch(0|c[x]){case s.OPS.rectangle:n=a[f++],l=a[f++];const te=a[f++],ee=a[f++],ie=n+te,de=l+ee;b.moveTo(n,l),0===te||0===ee?b.lineTo(ie,de):(b.lineTo(ie,l),b.lineTo(ie,de),b.lineTo(n,de)),u.updatePathMinMax(b.mozCurrentTransform,n,l),u.updatePathMinMax(b.mozCurrentTransform,ie,de),b.closePath();break;case s.OPS.moveTo:n=a[f++],l=a[f++],b.moveTo(n,l),u.updatePathMinMax(b.mozCurrentTransform,n,l);break;case s.OPS.lineTo:n=a[f++],l=a[f++],b.lineTo(n,l),u.updatePathMinMax(b.mozCurrentTransform,n,l);break;case s.OPS.curveTo:g=n,F=l,n=a[f+4],l=a[f+5],b.bezierCurveTo(a[f],a[f+1],a[f+2],a[f+3],n,l),u.updateCurvePathMinMax(b.mozCurrentTransform,g,F,a[f],a[f+1],a[f+2],a[f+3],n,l),f+=6;break;case s.OPS.curveTo2:g=n,F=l,b.bezierCurveTo(n,l,a[f],a[f+1],a[f+2],a[f+3]),u.updateCurvePathMinMax(b.mozCurrentTransform,g,F,n,l,a[f],a[f+1],a[f+2],a[f+3]),n=a[f+2],l=a[f+3],f+=4;break;case s.OPS.curveTo3:g=n,F=l,n=a[f+2],l=a[f+3],b.bezierCurveTo(a[f],a[f+1],n,l,n,l),u.updateCurvePathMinMax(b.mozCurrentTransform,g,F,a[f],a[f+1],n,l,n,l),f+=4;break;case s.OPS.closePath:b.closePath()}u.setCurrentPoint(n,l)}closePath(){this.ctx.closePath()}stroke(c){c=!(typeof c<"u")||c;const a=this.ctx,b=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof b&&b?.getPattern){const u=this.getSinglePixelWidth();a.save(),a.strokeStyle=b.getPattern(a,this,a.mozCurrentTransformInverse,z.PathType.STROKE),a.lineWidth=Math.max(u,this.current.lineWidth),a.stroke(),a.restore()}else{const u=this.getSinglePixelWidth();u<0&&-u>=this.current.lineWidth?(a.save(),a.resetTransform(),a.lineWidth=Math.floor(this._combinedScaleFactor),a.stroke(),a.restore()):(a.lineWidth=Math.max(u,this.current.lineWidth),a.stroke())}c&&this.consumePath(this.current.getClippedPathBoundingBox()),a.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(c){c=!(typeof c<"u")||c;const a=this.ctx,b=this.current.fillColor;let n=!1;this.current.patternFill&&(a.save(),a.fillStyle=b.getPattern(a,this,a.mozCurrentTransformInverse,z.PathType.FILL),n=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==l&&(this.pendingEOFill?(a.fill("evenodd"),this.pendingEOFill=!1):a.fill()),n&&a.restore(),c&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=B}eoClip(){this.pendingClip=H}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const c=this.pendingTextPaths,a=this.ctx;if(void 0!==c){a.save(),a.beginPath();for(let b=0;b<c.length;b++){const u=c[b];a.setTransform.apply(a,u.transform),a.translate(u.x,u.y),u.addToPath(a,u.fontSize)}a.restore(),a.clip(),a.beginPath(),delete this.pendingTextPaths}else a.beginPath()}setCharSpacing(c){this.current.charSpacing=c}setWordSpacing(c){this.current.wordSpacing=c}setHScale(c){this.current.textHScale=c/100}setLeading(c){this.current.leading=-c}setFont(c,a){const b=this.commonObjs.get(c),u=this.current;if(!b)throw new Error(`Can't find font for ${c}`);if(u.fontMatrix=b.fontMatrix||s.FONT_IDENTITY_MATRIX,(0===u.fontMatrix[0]||0===u.fontMatrix[3])&&(0,s.warn)("Invalid font matrix for font "+c),a<0?(a=-a,u.fontDirection=-1):u.fontDirection=1,this.current.font=b,this.current.fontSize=a,b.isType3Font)return;let l="normal";b.black?l="900":b.bold&&(l="bold");const g=b.italic?"italic":"normal",F=`"${b.loadedName||"sans-serif"}", ${b.fallbackName}`;let x=a;a<16?x=16:a>100&&(x=100),this.current.fontSizeScale=a/x,this.ctx.font=`${g} ${l} ${x}px ${F}`}setTextRenderingMode(c){this.current.textRenderingMode=c}setTextRise(c){this.current.textRise=c}moveText(c,a){this.current.x=this.current.lineX+=c,this.current.y=this.current.lineY+=a}setLeadingMoveText(c,a){this.setLeading(-a),this.moveText(c,a)}setTextMatrix(c,a,b,u,n,l){this.current.textMatrix=[c,a,b,u,n,l],this.current.textMatrixScale=Math.hypot(c,a),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(c,a,b,u,n){const l=this.ctx,g=this.current,F=g.font,x=g.textRenderingMode,f=g.fontSize/g.fontSizeScale,Q=x&s.TextRenderingMode.FILL_STROKE_MASK,te=!!(x&s.TextRenderingMode.ADD_TO_PATH_FLAG),ee=g.patternFill&&!F.missingFile;let ie;(F.disableFontFace||te||ee)&&(ie=F.getPathGenerator(this.commonObjs,c)),F.disableFontFace||ee?(l.save(),l.translate(a,b),l.beginPath(),ie(l,f),u&&l.setTransform.apply(l,u),(Q===s.TextRenderingMode.FILL||Q===s.TextRenderingMode.FILL_STROKE)&&l.fill(),(Q===s.TextRenderingMode.STROKE||Q===s.TextRenderingMode.FILL_STROKE)&&(n&&(l.resetTransform(),l.lineWidth=Math.floor(this._combinedScaleFactor)),l.stroke()),l.restore()):((Q===s.TextRenderingMode.FILL||Q===s.TextRenderingMode.FILL_STROKE)&&l.fillText(c,a,b),(Q===s.TextRenderingMode.STROKE||Q===s.TextRenderingMode.FILL_STROKE)&&(n?(l.save(),l.moveTo(a,b),l.resetTransform(),l.lineWidth=Math.floor(this._combinedScaleFactor),l.strokeText(c,0,0),l.restore()):l.strokeText(c,a,b))),te&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:l.mozCurrentTransform,x:a,y:b,fontSize:f,addToPath:ie})}get isFontSubpixelAAEnabled(){const{context:c}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);c.scale(1.5,1),c.fillText("I",0,10);const a=c.getImageData(0,0,10,10).data;let b=!1;for(let u=3;u<a.length;u+=4)if(a[u]>0&&a[u]<255){b=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",b)}showText(c){const a=this.current,b=a.font;if(b.isType3Font)return this.showType3Text(c);const u=a.fontSize;if(0===u)return;const n=this.ctx,l=a.fontSizeScale,g=a.charSpacing,F=a.wordSpacing,x=a.fontDirection,f=a.textHScale*x,Q=c.length,te=b.vertical,ee=te?1:-1,ie=b.defaultVMetrics,de=u*a.fontMatrix[0],fe=a.textRenderingMode===s.TextRenderingMode.FILL&&!b.disableFontFace&&!a.patternFill;let me;if(n.save(),n.transform.apply(n,a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(f,x>0?-1:1),a.patternFill){n.save();const Pe=a.fillColor.getPattern(n,this,n.mozCurrentTransformInverse,z.PathType.FILL);me=n.mozCurrentTransform,n.restore(),n.fillStyle=Pe}let ve=a.lineWidth,pe=!1;const Se=a.textMatrixScale;if(0===Se||0===ve){const Pe=a.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;(Pe===s.TextRenderingMode.STROKE||Pe===s.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,ve=this.getSinglePixelWidth(),pe=ve<0)}else ve/=Se;1!==l&&(n.scale(l,l),ve/=l),n.lineWidth=ve;let Ae,Ee=0;for(Ae=0;Ae<Q;++Ae){const Pe=c[Ae];if("number"==typeof Pe){Ee+=ee*Pe*u/1e3;continue}let Ze=!1;const oe=(Pe.isSpace?F:0)+g,k=Pe.fontChar,K=Pe.accent;let ae,he,ge,ue=Pe.width;if(te){const _e=Pe.vmetric||ie,be=-(Pe.vmetric?_e[1]:.5*ue)*de;ue=_e?-_e[0]:ue,ae=be/l,he=(Ee+_e[2]*de)/l}else ae=Ee/l,he=0;if(b.remeasure&&ue>0){const _e=1e3*n.measureText(k).width/u*l;if(ue<_e&&this.isFontSubpixelAAEnabled){const be=ue/_e;Ze=!0,n.save(),n.scale(be,1),ae/=be}else ue!==_e&&(ae+=(ue-_e)/2e3*u/l)}this.contentVisible&&(Pe.isInFont||b.missingFile)&&(fe&&!K?n.fillText(k,ae,he):(this.paintChar(k,ae,he,me,pe),K&&this.paintChar(K.fontChar,ae+u*K.offset.x/l,he-u*K.offset.y/l,me,pe))),ge=te?ue*de-oe*x:ue*de+oe*x,Ee+=ge,Ze&&n.restore()}te?a.y-=Ee:a.x+=Ee*f,n.restore(),this.compose()}showType3Text(c){const a=this.ctx,b=this.current,u=b.font,n=b.fontSize,l=b.fontDirection,g=u.vertical?1:-1,F=b.charSpacing,x=b.wordSpacing,f=b.textHScale*l,Q=b.fontMatrix||s.FONT_IDENTITY_MATRIX,te=c.length;let ie,de,fe,me;if(b.textRenderingMode!==s.TextRenderingMode.INVISIBLE&&0!==n){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,b.textMatrix),a.translate(b.x,b.y),a.scale(f,l),ie=0;ie<te;++ie){if(de=c[ie],"number"==typeof de){me=g*de*n/1e3,this.ctx.translate(me,0),b.x+=me*f;continue}const ve=(de.isSpace?x:0)+F,pe=u.charProcOperatorList[de.operatorListId];pe?(this.contentVisible&&(this.processingType3=de,this.save(),a.scale(n,n),a.transform.apply(a,Q),this.executeOperatorList(pe),this.restore()),fe=s.Util.applyTransform([de.width,0],Q)[0]*n+ve,a.translate(fe,0),b.x+=fe*f):(0,s.warn)(`Type3 character "${de.operatorListId}" is not available.`)}a.restore(),this.processingType3=null}}setCharWidth(c,a){}setCharWidthAndBounds(c,a,b,u,n,l){this.ctx.rect(b,u,n-b,l-u),this.clip(),this.endPath()}getColorN_Pattern(c){let a;if("TilingPattern"===c[0]){const b=c[1],u=this.baseTransform||this.ctx.mozCurrentTransform.slice();a=new z.TilingPattern(c,b,this.ctx,{createCanvasGraphics:l=>new X(l,this.commonObjs,this.objs,this.canvasFactory)},u)}else a=this._getPattern(c[1],c[2]);return a}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(c,a,b){const u=s.Util.makeHexColor(c,a,b);this.ctx.strokeStyle=u,this.current.strokeColor=u}setFillRGBColor(c,a,b){const u=s.Util.makeHexColor(c,a,b);this.ctx.fillStyle=u,this.current.fillColor=u,this.current.patternFill=!1}_getPattern(c,a=null){let b;return this.cachedPatterns.has(c)?b=this.cachedPatterns.get(c):(b=(0,z.getShadingPattern)(this.objs.get(c)),this.cachedPatterns.set(c,b)),a&&(b.matrix=a),b}shadingFill(c){if(!this.contentVisible)return;const a=this.ctx;this.save();const b=this._getPattern(c);a.fillStyle=b.getPattern(a,this,a.mozCurrentTransformInverse,z.PathType.SHADING);const u=a.mozCurrentTransformInverse;if(u){const n=a.canvas,l=n.width,g=n.height,F=s.Util.applyTransform([0,0],u),x=s.Util.applyTransform([0,g],u),f=s.Util.applyTransform([l,0],u),Q=s.Util.applyTransform([l,g],u),te=Math.min(F[0],x[0],f[0],Q[0]),ee=Math.min(F[1],x[1],f[1],Q[1]),ie=Math.max(F[0],x[0],f[0],Q[0]),de=Math.max(F[1],x[1],f[1],Q[1]);this.ctx.fillRect(te,ee,ie-te,de-ee)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(c,a){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(c)&&6===c.length&&this.transform.apply(this,c),this.baseTransform=this.ctx.mozCurrentTransform,a)&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,a[0],a[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,a[2],a[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(c){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const a=this.ctx;c.isolated||(0,s.info)("TODO: Support non-isolated groups."),c.knockout&&(0,s.warn)("Knockout groups not supported.");const b=a.mozCurrentTransform;if(c.matrix&&a.transform.apply(a,c.matrix),!c.bbox)throw new Error("Bounding box is required.");let u=s.Util.getAxialAlignedBoundingBox(c.bbox,a.mozCurrentTransform);u=s.Util.intersect(u,[0,0,a.canvas.width,a.canvas.height])||[0,0,0,0];const l=Math.floor(u[0]),g=Math.floor(u[1]);let F=Math.max(Math.ceil(u[2])-l,1),x=Math.max(Math.ceil(u[3])-g,1),f=1,Q=1;F>q&&(f=F/q,F=q),x>q&&(Q=x/q,x=q),this.current.startNewPathAndClipBox([0,0,F,x]);let te="groupAt"+this.groupLevel;c.smask&&(te+="_smask_"+this.smaskCounter++%2);const ee=this.cachedCanvases.getCanvas(te,F,x,!0),ie=ee.context;ie.scale(1/f,1/Q),ie.translate(-l,-g),ie.transform.apply(ie,b),c.smask?this.smaskStack.push({canvas:ee.canvas,context:ie,offsetX:l,offsetY:g,scaleX:f,scaleY:Q,subtype:c.smask.subtype,backdrop:c.smask.backdrop,transferMap:c.smask.transferMap||null,startTransformInverse:null}):(a.setTransform(1,0,0,1,0,0),a.translate(l,g),a.scale(f,Q),a.save()),i(a,ie),this.ctx=ie,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++}endGroup(c){if(!this.contentVisible)return;this.groupLevel--;const a=this.ctx,b=this.groupStack.pop();if(this.ctx=b,this.ctx.imageSmoothingEnabled=!1,c.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const u=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,u);const n=s.Util.getAxialAlignedBoundingBox([0,0,a.canvas.width,a.canvas.height],u);this.ctx.drawImage(a.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(c,a,b,u,n){if(this.save(),Array.isArray(a)&&4===a.length){const l=a[2]-a[0],g=a[3]-a[1];if(n&&this.annotationCanvasMap){(b=b.slice())[4]-=a[0],b[5]-=a[1],(a=a.slice())[0]=a[1]=0,a[2]=l,a[3]=g;const[F,x]=s.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:f}=this,Q=Math.ceil(l*this.outputScaleX*f),te=Math.ceil(g*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(Q,te);const{canvas:ee,context:ie}=this.annotationCanvas;ee.style.width=`calc(${l}px * var(--viewport-scale-factor))`,ee.style.height=`calc(${g}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(c,ee),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ie,this.ctx.setTransform(F,0,0,-x,0,g*x),y(this.ctx),m(this.ctx)}else m(this.ctx),this.ctx.rect(a[0],a[1],l,g),this.clip(),this.endPath()}this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,b),this.transform.apply(this,u)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(c){if(!this.contentVisible)return;const a=this.ctx,b=c.width,u=c.height,n=this.processingType3;if(n&&void 0===n.compiled&&(n.compiled=b<=1e3&&u<=1e3?function D(C){const a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),b=C.width,u=C.height,n=b+1;let l,g,F,x;const f=new Uint8Array(n*(u+1)),Q=b+7&-8,te=C.data,ee=new Uint8Array(Q*u);let ie=0;for(l=0,g=te.length;l<g;l++){const pe=te[l];let Se=128;for(;Se>0;)ee[ie++]=pe&Se?0:255,Se>>=1}let de=0;for(ie=0,0!==ee[ie]&&(f[0]=1,++de),F=1;F<b;F++)ee[ie]!==ee[ie+1]&&(f[F]=ee[ie]?2:1,++de),ie++;for(0!==ee[ie]&&(f[F]=2,++de),l=1;l<u;l++){ie=l*Q,x=l*n,ee[ie-Q]!==ee[ie]&&(f[x]=ee[ie]?1:8,++de);let pe=(ee[ie]?4:0)+(ee[ie-Q]?8:0);for(F=1;F<b;F++)pe=(pe>>2)+(ee[ie+1]?4:0)+(ee[ie-Q+1]?8:0),a[pe]&&(f[x+F]=a[pe],++de),ie++;if(ee[ie-Q]!==ee[ie]&&(f[x+F]=ee[ie]?2:4,++de),de>1e3)return null}for(ie=Q*(u-1),x=l*n,0!==ee[ie]&&(f[x]=8,++de),F=1;F<b;F++)ee[ie]!==ee[ie+1]&&(f[x+F]=ee[ie]?4:8,++de),ie++;if(0!==ee[ie]&&(f[x+F]=4,++de),de>1e3)return null;const fe=new Int32Array([0,n,-1,0,-n,0,0,0,1]),me=[];for(l=0;de&&l<=u;l++){let pe=l*n;const Se=pe+b;for(;pe<Se&&!f[pe];)pe++;if(pe===Se)continue;const Ee=[pe%n,l],Ae=pe;let Pe=f[pe];do{const Ze=fe[Pe];do{pe+=Ze}while(!f[pe]);const oe=f[pe];5!==oe&&10!==oe?(Pe=oe,f[pe]=0):(Pe=oe&51*Pe>>4,f[pe]&=Pe>>2|Pe<<2),Ee.push(pe%n,pe/n|0),f[pe]||--de}while(Ae!==pe);me.push(Ee),--l}return function(pe){pe.save(),pe.scale(1/b,-1/u),pe.translate(0,-u),pe.beginPath();for(let Se=0,Ee=me.length;Se<Ee;Se++){const Ae=me[Se];pe.moveTo(Ae[0],Ae[1]);for(let Pe=2,Ze=Ae.length;Pe<Ze;Pe+=2)pe.lineTo(Ae[Pe],Ae[Pe+1])}pe.fill(),pe.beginPath(),pe.restore()}}({data:c.data,width:b,height:u}):null),n?.compiled)return void n.compiled(a);const l=this._createMaskCanvas(c),g=l.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(g,l.offsetX,l.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(c,a,b=0,u=0,n,l){if(!this.contentVisible)return;const g=this.ctx;g.save();const F=g.mozCurrentTransform;g.transform(a,b,u,n,0,0);const x=this._createMaskCanvas(c);g.setTransform(1,0,0,1,0,0);for(let f=0,Q=l.length;f<Q;f+=2){const te=s.Util.transform(F,[a,b,u,n,l[f],l[f+1]]),[ee,ie]=s.Util.applyTransform([0,0],te);g.drawImage(x.canvas,ee,ie)}g.restore(),this.compose()}paintImageMaskXObjectGroup(c){if(!this.contentVisible)return;const a=this.ctx,b=this.current.fillColor,u=this.current.patternFill;for(let n=0,l=c.length;n<l;n++){const g=c[n],F=g.width,x=g.height,f=this.cachedCanvases.getCanvas("maskCanvas",F,x),Q=f.context;Q.save(),r(Q,g),Q.globalCompositeOperation="source-in",Q.fillStyle=u?b.getPattern(Q,this,a.mozCurrentTransformInverse,z.PathType.FILL):b,Q.fillRect(0,0,F,x),Q.restore(),a.save(),a.transform.apply(a,g.transform),a.scale(1,-1),a.drawImage(f.canvas,0,0,F,x,0,-1,1,1),a.restore()}this.compose()}paintImageXObject(c){if(!this.contentVisible)return;const a=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);a?this.paintInlineImageXObject(a):(0,s.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(c,a,b,u){if(!this.contentVisible)return;const n=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);if(!n)return void(0,s.warn)("Dependent image isn't ready yet");const l=n.width,g=n.height,F=[];for(let x=0,f=u.length;x<f;x+=2)F.push({transform:[a,0,0,b,u[x],u[x+1]],x:0,y:0,w:l,h:g});this.paintInlineImageXObjectGroup(n,F)}paintInlineImageXObject(c){if(!this.contentVisible)return;const a=c.width,b=c.height,u=this.ctx;let n;if(this.save(),u.scale(1/a,-1/b),"function"==typeof HTMLElement&&c instanceof HTMLElement||!c.data)n=c;else{const g=this.cachedCanvases.getCanvas("inlineImage",a,b);M(g.context,c,this.current.transferMaps),n=g.canvas}const l=this._scaleImage(n,u.mozCurrentTransformInverse);if(u.imageSmoothingEnabled=P(u.mozCurrentTransform,c.interpolate),u.drawImage(l.img,0,0,l.paintWidth,l.paintHeight,0,-b,a,b),this.imageLayer){const g=this.getCanvasPosition(0,-b);this.imageLayer.appendImage({imgData:c,left:g[0],top:g[1],width:a/u.mozCurrentTransformInverse[0],height:b/u.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(c,a){if(!this.contentVisible)return;const b=this.ctx,u=c.width,n=c.height,l=this.cachedCanvases.getCanvas("inlineImage",u,n);M(l.context,c,this.current.transferMaps);for(let F=0,x=a.length;F<x;F++){const f=a[F];if(b.save(),b.transform.apply(b,f.transform),b.scale(1,-1),b.drawImage(l.canvas,f.x,f.y,f.w,f.h,0,-1,1,1),this.imageLayer){const Q=this.getCanvasPosition(f.x,f.y);this.imageLayer.appendImage({imgData:c,left:Q[0],top:Q[1],width:u,height:n})}b.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(c){}markPointProps(c,a){}beginMarkedContent(c){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(c,a){this.markedContentStack.push("OC"===c?{visible:this.optionalContentConfig.isVisible(a)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(c){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(c);const a=this.ctx;this.pendingClip&&(this.pendingClip===H?a.clip("evenodd"):a.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const c=this.ctx.mozCurrentTransform,a=Math.abs(c[0]*c[3]-c[2]*c[1]),b=c[0]**2+c[2]**2,u=c[1]**2+c[3]**2,n=Math.sqrt(Math.max(b,u))/a;this._cachedGetSinglePixelWidth=b!==u&&this._combinedScaleFactor*n>1?-this._combinedScaleFactor*n:a>Number.EPSILON?n:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(c,a){const b=this.ctx.mozCurrentTransform;return[b[0]*c+b[2]*a+b[4],b[1]*c+b[3]*a+b[5]]}isContentVisible(){for(let c=this.markedContentStack.length-1;c>=0;c--)if(!this.markedContentStack[c].visible)return!1;return!0}}o.CanvasGraphics=X;for(const C in s.OPS)void 0!==X.prototype[C]&&(X.prototype[s.OPS[C]]=X.prototype[C])},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=function J(A){switch(A[0]){case"RadialAxial":return new Y(A);case"Mesh":return new W(A);case"Dummy":return new $}throw new Error(`Unknown IR type: ${A[0]}`)};var s=O(1);const z={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function E(A,y){if(!y||typeof Path2D>"u")return;const N=y[2]-y[0],D=y[3]-y[1],S=new Path2D;S.rect(y[0],y[1],N,D),A.clip(S)}o.PathType=z;class e{constructor(){this.constructor===e&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class Y extends e{constructor(y){super(),this._type=y[1],this._bbox=y[2],this._colorStops=y[3],this._p0=y[4],this._p1=y[5],this._r0=y[6],this._r1=y[7],this.matrix=null}_createGradient(y){let N;"axial"===this._type?N=y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(N=y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const D of this._colorStops)N.addColorStop(D[0],D[1]);return N}getPattern(y,N,D,S){let M;if(S===z.STROKE||S===z.FILL){const r=N.current.getClippedPathBoundingBox(S,y.mozCurrentTransform)||[0,0,0,0],i=Math.ceil(r[2]-r[0])||1,m=Math.ceil(r[3]-r[1])||1,I=N.cachedCanvases.getCanvas("pattern",i,m,!0),p=I.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-r[0],-r[1]),D=s.Util.transform(D,[1,0,0,1,r[0],r[1]]),p.transform.apply(p,N.baseTransform),this.matrix&&p.transform.apply(p,this.matrix),E(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),M=y.createPattern(I.canvas,"no-repeat");const w=new DOMMatrix(D);try{M.setTransform(w)}catch(v){(0,s.warn)(`RadialAxialShadingPattern.getPattern: "${v?.message}".`)}}else E(y,this._bbox),M=this._createGradient(y);return M}}function q(A,y,N,D,S,M,r,i){const m=y.coords,I=y.colors,p=A.data,w=4*A.width;let v;m[N+1]>m[D+1]&&(v=N,N=D,D=v,v=M,M=r,r=v),m[D+1]>m[S+1]&&(v=D,D=S,S=v,v=r,r=i,i=v),m[N+1]>m[D+1]&&(v=N,N=D,D=v,v=M,M=r,r=v);const h=(m[N]+y.offsetX)*y.scaleX,P=(m[N+1]+y.offsetY)*y.scaleY,R=(m[D]+y.offsetX)*y.scaleX,T=(m[D+1]+y.offsetY)*y.scaleY,B=(m[S]+y.offsetX)*y.scaleX,H=(m[S+1]+y.offsetY)*y.scaleY;if(P>=H)return;const X=I[M],C=I[M+1],c=I[M+2],a=I[r],b=I[r+1],u=I[r+2],n=I[i],l=I[i+1],g=I[i+2],F=Math.round(P),x=Math.round(H);let f,Q,te,ee,ie,de,fe,me;for(let ve=F;ve<=x;ve++){if(ve<T){let Pe;Pe=ve<P?0:(P-ve)/(P-T),f=h-(h-R)*Pe,Q=X-(X-a)*Pe,te=C-(C-b)*Pe,ee=c-(c-u)*Pe}else{let Pe;Pe=ve>H?1:T===H?0:(T-ve)/(T-H),f=R-(R-B)*Pe,Q=a-(a-n)*Pe,te=b-(b-l)*Pe,ee=u-(u-g)*Pe}let pe;pe=ve<P?0:ve>H?1:(P-ve)/(P-H),ie=h-(h-B)*pe,de=X-(X-n)*pe,fe=C-(C-l)*pe,me=c-(c-g)*pe;const Se=Math.round(Math.min(f,ie)),Ee=Math.round(Math.max(f,ie));let Ae=w*ve+4*Se;for(let Pe=Se;Pe<=Ee;Pe++)pe=(f-Pe)/(f-ie),pe<0?pe=0:pe>1&&(pe=1),p[Ae++]=Q-(Q-de)*pe|0,p[Ae++]=te-(te-fe)*pe|0,p[Ae++]=ee-(ee-me)*pe|0,p[Ae++]=255}}function Z(A,y,N){const D=y.coords,S=y.colors;let M,r;switch(y.type){case"lattice":const i=y.verticesPerRow,m=Math.floor(D.length/i)-1,I=i-1;for(M=0;M<m;M++){let p=M*i;for(let w=0;w<I;w++,p++)q(A,N,D[p],D[p+1],D[p+i],S[p],S[p+1],S[p+i]),q(A,N,D[p+i+1],D[p+1],D[p+i],S[p+i+1],S[p+1],S[p+i])}break;case"triangles":for(M=0,r=D.length;M<r;M+=3)q(A,N,D[M],D[M+1],D[M+2],S[M],S[M+1],S[M+2]);break;default:throw new Error("illegal figure")}}class W extends e{constructor(y){super(),this._coords=y[2],this._colors=y[3],this._figures=y[4],this._bounds=y[5],this._bbox=y[7],this._background=y[8],this.matrix=null}_createMeshCanvas(y,N,D){const i=Math.floor(this._bounds[0]),m=Math.floor(this._bounds[1]),I=Math.ceil(this._bounds[2])-i,p=Math.ceil(this._bounds[3])-m,w=Math.min(Math.ceil(Math.abs(I*y[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*y[1]*1.1)),3e3),h=I/w,P=p/v,R={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-m,scaleX:1/h,scaleY:1/P},H=D.getCanvas("mesh",w+4,v+4,!1),X=H.context,C=X.createImageData(w,v);if(N){const a=C.data;for(let b=0,u=a.length;b<u;b+=4)a[b]=N[0],a[b+1]=N[1],a[b+2]=N[2],a[b+3]=255}for(const a of this._figures)Z(C,a,R);return X.putImageData(C,2,2),{canvas:H.canvas,offsetX:i-2*h,offsetY:m-2*P,scaleX:h,scaleY:P}}getPattern(y,N,D,S){let M;if(E(y,this._bbox),S===z.SHADING)M=s.Util.singularValueDecompose2dScale(y.mozCurrentTransform);else if(M=s.Util.singularValueDecompose2dScale(N.baseTransform),this.matrix){const i=s.Util.singularValueDecompose2dScale(this.matrix);M=[M[0]*i[0],M[1]*i[1]]}const r=this._createMeshCanvas(M,S===z.SHADING?null:this._background,N.cachedCanvases);return S!==z.SHADING&&(y.setTransform.apply(y,N.baseTransform),this.matrix&&y.transform.apply(y,this.matrix)),y.translate(r.offsetX,r.offsetY),y.scale(r.scaleX,r.scaleY),y.createPattern(r.canvas,"no-repeat")}}class $ extends e{getPattern(){return"hotpink"}}class G{static get MAX_PATTERN_SIZE(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(y,N,D,S,M){this.operatorList=y[2],this.matrix=y[3]||[1,0,0,1,0,0],this.bbox=y[4],this.xstep=y[5],this.ystep=y[6],this.paintType=y[7],this.tilingType=y[8],this.color=N,this.ctx=D,this.canvasGraphicsFactory=S,this.baseTransform=M}createPatternCanvas(y){const N=this.operatorList,D=this.bbox,S=this.xstep,M=this.ystep,r=this.paintType,m=this.color,I=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+this.tilingType);const p=D[0],w=D[1],v=D[2],h=D[3],P=s.Util.singularValueDecompose2dScale(this.matrix),R=s.Util.singularValueDecompose2dScale(this.baseTransform),T=[P[0]*R[0],P[1]*R[1]],B=this.getSizeAndScale(S,this.ctx.canvas.width,T[0]),H=this.getSizeAndScale(M,this.ctx.canvas.height,T[1]),X=y.cachedCanvases.getCanvas("pattern",B.size,H.size,!0),C=X.context,c=I.createCanvasGraphics(C);c.groupLevel=y.groupLevel,this.setFillAndStrokeStyleToContext(c,r,m);let a=p,b=w,u=v,n=h;return p<0&&(a=0,u+=Math.abs(p)),w<0&&(b=0,n+=Math.abs(w)),C.translate(-B.scale*a,-H.scale*b),c.transform(B.scale,0,0,H.scale,0,0),C.save(),this.clipBbox(c,a,b,u,n),c.baseTransform=c.ctx.mozCurrentTransform.slice(),c.executeOperatorList(N),c.endDrawing(),{canvas:X.canvas,scaleX:B.scale,scaleY:H.scale,offsetX:a,offsetY:b}}getSizeAndScale(y,N,D){y=Math.abs(y);const S=Math.max(G.MAX_PATTERN_SIZE,N);let M=Math.ceil(y*D);return M>=S?M=S:D=M/y,{scale:D,size:M}}clipBbox(y,N,D,S,M){y.ctx.rect(N,D,S-N,M-D),y.clip(),y.endPath()}setFillAndStrokeStyleToContext(y,N,D){const S=y.ctx,M=y.current;switch(N){case 1:const r=this.ctx;S.fillStyle=r.fillStyle,S.strokeStyle=r.strokeStyle,M.fillColor=r.fillStyle,M.strokeColor=r.strokeStyle;break;case 2:const i=s.Util.makeHexColor(D[0],D[1],D[2]);S.fillStyle=i,S.strokeStyle=i,M.fillColor=i,M.strokeColor=i;break;default:throw new s.FormatError(`Unsupported paint type: ${N}`)}}getPattern(y,N,D,S){let M=D;S!==z.SHADING&&(M=s.Util.transform(M,N.baseTransform),this.matrix&&(M=s.Util.transform(M,this.matrix)));const r=this.createPatternCanvas(N);let i=new DOMMatrix(M);i=i.translate(r.offsetX,r.offsetY),i=i.scale(1/r.scaleX,1/r.scaleY);const m=y.createPattern(r.canvas,"repeat");try{m.setTransform(i)}catch(I){(0,s.warn)(`TilingPattern.getPattern: "${I?.message}".`)}return m}}o.TilingPattern=G},(ne,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const O=Object.create(null);o.GlobalWorkerOptions=O,O.workerPort=void 0===O.workerPort?null:O.workerPort,O.workerSrc=void 0===O.workerSrc?"":O.workerSrc},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var s=O(1);function e(q){switch(q instanceof Error||"object"==typeof q&&null!==q||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),q.name){case"AbortException":return new s.AbortException(q.message);case"MissingPDFException":return new s.MissingPDFException(q.message);case"PasswordException":return new s.PasswordException(q.message,q.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(q.message,q.status);case"UnknownErrorException":return new s.UnknownErrorException(q.message,q.details);default:return new s.UnknownErrorException(q.message,q.toString())}}o.MessageHandler=class Y{constructor(Z,W,$){this.sourceName=Z,this.targetName=W,this.comObj=$,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=J=>{const j=J.data;if(j.targetName!==this.sourceName)return;if(j.stream)return void this._processStreamMessage(j);if(j.callback){const A=j.callbackId,y=this.callbackCapabilities[A];if(!y)throw new Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],1===j.callback)y.resolve(j.data);else{if(2!==j.callback)throw new Error("Unexpected callback case");y.reject(e(j.reason))}return}const G=this.actionHandler[j.action];if(!G)throw new Error(`Unknown action from worker: ${j.action}`);if(j.callbackId){const A=this.sourceName,y=j.sourceName;new Promise(function(N){N(G(j.data))}).then(function(N){$.postMessage({sourceName:A,targetName:y,callback:1,callbackId:j.callbackId,data:N})},function(N){$.postMessage({sourceName:A,targetName:y,callback:2,callbackId:j.callbackId,reason:e(N)})})}else j.streamId?this._createStreamSink(j):G(j.data)},$.addEventListener("message",this._onComObjOnMessage)}on(Z,W){const $=this.actionHandler;if($[Z])throw new Error(`There is already an actionName called "${Z}"`);$[Z]=W}send(Z,W,$){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Z,data:W},$)}sendWithPromise(Z,W,$){const J=this.callbackId++,j=(0,s.createPromiseCapability)();this.callbackCapabilities[J]=j;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Z,callbackId:J,data:W},$)}catch(G){j.reject(G)}return j.promise}sendWithStream(Z,W,$,J){const j=this.streamId++,G=this.sourceName,A=this.targetName,y=this.comObj;return new ReadableStream({start:N=>{const D=(0,s.createPromiseCapability)();return this.streamControllers[j]={controller:N,startCall:D,pullCall:null,cancelCall:null,isClosed:!1},y.postMessage({sourceName:G,targetName:A,action:Z,streamId:j,data:W,desiredSize:N.desiredSize},J),D.promise},pull:N=>{const D=(0,s.createPromiseCapability)();return this.streamControllers[j].pullCall=D,y.postMessage({sourceName:G,targetName:A,stream:6,streamId:j,desiredSize:N.desiredSize}),D.promise},cancel:N=>{(0,s.assert)(N instanceof Error,"cancel must have a valid reason");const D=(0,s.createPromiseCapability)();return this.streamControllers[j].cancelCall=D,this.streamControllers[j].isClosed=!0,y.postMessage({sourceName:G,targetName:A,stream:1,streamId:j,reason:e(N)}),D.promise}},$)}_createStreamSink(Z){const W=Z.streamId,$=this.sourceName,J=Z.sourceName,j=this.comObj,G=this,A=this.actionHandler[Z.action],y={enqueue(N,D=1,S){if(this.isCancelled)return;const M=this.desiredSize;this.desiredSize-=D,M>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),j.postMessage({sourceName:$,targetName:J,stream:4,streamId:W,chunk:N},S)},close(){this.isCancelled||(this.isCancelled=!0,j.postMessage({sourceName:$,targetName:J,stream:3,streamId:W}),delete G.streamSinks[W])},error(N){(0,s.assert)(N instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,j.postMessage({sourceName:$,targetName:J,stream:5,streamId:W,reason:e(N)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:Z.desiredSize,ready:null};y.sinkCapability.resolve(),y.ready=y.sinkCapability.promise,this.streamSinks[W]=y,new Promise(function(N){N(A(Z.data,y))}).then(function(){j.postMessage({sourceName:$,targetName:J,stream:8,streamId:W,success:!0})},function(N){j.postMessage({sourceName:$,targetName:J,stream:8,streamId:W,reason:e(N)})})}_processStreamMessage(Z){const W=Z.streamId,$=this.sourceName,J=Z.sourceName,j=this.comObj,G=this.streamControllers[W],A=this.streamSinks[W];switch(Z.stream){case 8:Z.success?G.startCall.resolve():G.startCall.reject(e(Z.reason));break;case 7:Z.success?G.pullCall.resolve():G.pullCall.reject(e(Z.reason));break;case 6:if(!A){j.postMessage({sourceName:$,targetName:J,stream:7,streamId:W,success:!0});break}A.desiredSize<=0&&Z.desiredSize>0&&A.sinkCapability.resolve(),A.desiredSize=Z.desiredSize,new Promise(function(y){y(A.onPull&&A.onPull())}).then(function(){j.postMessage({sourceName:$,targetName:J,stream:7,streamId:W,success:!0})},function(y){j.postMessage({sourceName:$,targetName:J,stream:7,streamId:W,reason:e(y)})});break;case 4:if((0,s.assert)(G,"enqueue should have stream controller"),G.isClosed)break;G.controller.enqueue(Z.chunk);break;case 3:if((0,s.assert)(G,"close should have stream controller"),G.isClosed)break;G.isClosed=!0,G.controller.close(),this._deleteStreamController(G,W);break;case 5:(0,s.assert)(G,"error should have stream controller"),G.controller.error(e(Z.reason)),this._deleteStreamController(G,W);break;case 2:Z.success?G.cancelCall.resolve():G.cancelCall.reject(e(Z.reason)),this._deleteStreamController(G,W);break;case 1:if(!A)break;new Promise(function(y){y(A.onCancel&&A.onCancel(e(Z.reason)))}).then(function(){j.postMessage({sourceName:$,targetName:J,stream:2,streamId:W,success:!0})},function(y){j.postMessage({sourceName:$,targetName:J,stream:2,streamId:W,reason:e(y)})}),A.sinkCapability.reject(e(Z.reason)),A.isCancelled=!0,delete this.streamSinks[W];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(Z,W){var $=this;return _asyncToGenerator(function*(){yield Promise.allSettled([Z.startCall&&Z.startCall.promise,Z.pullCall&&Z.pullCall.promise,Z.cancelCall&&Z.cancelCall.promise]),delete $.streamControllers[W]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var s=O(1),z=new WeakMap,E=new WeakMap;o.Metadata=class e{constructor({parsedData:q,rawData:Z}){_classPrivateFieldInitSpec(this,z,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:void 0}),_classPrivateFieldSet(this,z,q),_classPrivateFieldSet(this,E,Z)}getRaw(){return _classPrivateFieldGet(this,E)}get(q){return _classPrivateFieldGet(this,z).get(q)??null}getAll(){return(0,s.objectFromMap)(_classPrivateFieldGet(this,z))}has(q){return _classPrivateFieldGet(this,z).has(q)}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var s=O(1);class z{constructor(Y,q){this.visible=!0,this.name=Y,this.intent=q}}o.OptionalContentConfig=class E{constructor(Y){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==Y){this.name=Y.name,this.creator=Y.creator,this._order=Y.order;for(const q of Y.groups)this._groups.set(q.id,new z(q.name,q.intent));if("OFF"===Y.baseState)for(const q of this._groups)q.visible=!1;for(const q of Y.on)this._groups.get(q).visible=!0;for(const q of Y.off)this._groups.get(q).visible=!1}}_evaluateVisibilityExpression(Y){const q=Y.length;if(q<2)return!0;const Z=Y[0];for(let W=1;W<q;W++){const $=Y[W];let J;if(Array.isArray($))J=this._evaluateVisibilityExpression($);else{if(!this._groups.has($))return(0,s.warn)(`Optional content group not found: ${$}`),!0;J=this._groups.get($).visible}switch(Z){case"And":if(!J)return!1;break;case"Or":if(J)return!0;break;case"Not":return!J;default:return!0}}return"And"===Z}isVisible(Y){if(0===this._groups.size)return!0;if(!Y)return(0,s.warn)("Optional content group not defined."),!0;if("OCG"===Y.type)return this._groups.has(Y.id)?this._groups.get(Y.id).visible:((0,s.warn)(`Optional content group not found: ${Y.id}`),!0);if("OCMD"===Y.type){if(Y.expression)return this._evaluateVisibilityExpression(Y.expression);if(!Y.policy||"AnyOn"===Y.policy){for(const q of Y.ids){if(!this._groups.has(q))return(0,s.warn)(`Optional content group not found: ${q}`),!0;if(this._groups.get(q).visible)return!0}return!1}if("AllOn"===Y.policy){for(const q of Y.ids){if(!this._groups.has(q))return(0,s.warn)(`Optional content group not found: ${q}`),!0;if(!this._groups.get(q).visible)return!1}return!0}if("AnyOff"===Y.policy){for(const q of Y.ids){if(!this._groups.has(q))return(0,s.warn)(`Optional content group not found: ${q}`),!0;if(!this._groups.get(q).visible)return!0}return!1}if("AllOff"===Y.policy){for(const q of Y.ids){if(!this._groups.has(q))return(0,s.warn)(`Optional content group not found: ${q}`),!0;if(this._groups.get(q).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${Y.policy}.`),!0}return(0,s.warn)(`Unknown group type ${Y.type}.`),!0}setVisibility(Y,q=!0){this._groups.has(Y)?this._groups.get(Y).visible=!!q:(0,s.warn)(`Optional content group not found: ${Y}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,s.objectFromMap)(this._groups):null}getGroup(Y){return this._groups.get(Y)||null}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var s=O(1),z=O(5);o.PDFDataTransportStream=class E{constructor(Z,W){(0,s.assert)(W,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Z.progressiveDone||!1,this._contentDispositionFilename=Z.contentDispositionFilename||null;const $=Z.initialData;if($?.length>0){const J=new Uint8Array($).buffer;this._queuedChunks.push(J)}this._pdfDataRangeTransport=W,this._isStreamingSupported=!Z.disableStream,this._isRangeSupported=!Z.disableRange,this._contentLength=Z.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((J,j)=>{this._onReceiveData({begin:J,chunk:j})}),this._pdfDataRangeTransport.addProgressListener((J,j)=>{this._onProgress({loaded:J,total:j})}),this._pdfDataRangeTransport.addProgressiveReadListener(J=>{this._onReceiveData({chunk:J})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(Z){const W=new Uint8Array(Z.chunk).buffer;if(void 0===Z.begin)this._fullRequestReader?this._fullRequestReader._enqueue(W):this._queuedChunks.push(W);else{const $=this._rangeReaders.some(function(J){return J._begin===Z.begin&&(J._enqueue(W),!0)});(0,s.assert)($,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(Z){if(void 0===Z.total){const W=this._rangeReaders[0];W?.onProgress&&W.onProgress({loaded:Z.loaded})}else{const W=this._fullRequestReader;W?.onProgress&&W.onProgress({loaded:Z.loaded,total:Z.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Z){const W=this._rangeReaders.indexOf(Z);W>=0&&this._rangeReaders.splice(W,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Z=this._queuedChunks;return this._queuedChunks=null,new e(this,Z,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Z,W){if(W<=this._progressiveDataLength)return null;const $=new Y(this,Z,W);return this._pdfDataRangeTransport.requestDataRange(Z,W),this._rangeReaders.push($),$}cancelAllRequests(Z){this._fullRequestReader&&this._fullRequestReader.cancel(Z);for(const W of this._rangeReaders.slice(0))W.cancel(Z);this._pdfDataRangeTransport.abort()}};class e{constructor(Z,W,$=!1,J=null){this._stream=Z,this._done=$||!1,this._filename=(0,z.isPdfFile)(J)?J:null,this._queuedChunks=W||[],this._loaded=0;for(const j of this._queuedChunks)this._loaded+=j.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Z._fullRequestReader=this,this.onProgress=null}_enqueue(Z){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Z,done:!1}):this._queuedChunks.push(Z),this._loaded+=Z.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var Z=this;return _asyncToGenerator(function*(){if(Z._queuedChunks.length>0)return{value:Z._queuedChunks.shift(),done:!1};if(Z._done)return{value:void 0,done:!0};const W=(0,s.createPromiseCapability)();return Z._requests.push(W),W.promise})()}cancel(Z){this._done=!0;for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Y{constructor(Z,W,$){this._stream=Z,this._begin=W,this._end=$,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Z){if(!this._done){if(0===this._requests.length)this._queuedChunk=Z;else{this._requests.shift().resolve({value:Z,done:!1});for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var Z=this;return _asyncToGenerator(function*(){if(Z._queuedChunk){const $=Z._queuedChunk;return Z._queuedChunk=null,{value:$,done:!1}}if(Z._done)return{value:void 0,done:!0};const W=(0,s.createPromiseCapability)();return Z._requests.push(W),W.promise})()}cancel(Z){this._done=!0;for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ne,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class O{static textContent(z){const E=[],e={items:E,styles:Object.create(null)};return function Y(q){if(!q)return;let Z=null;const W=q.name;if("#text"===W)Z=q.value;else{if(!O.shouldBuildText(W))return;q?.attributes?.textContent?Z=q.attributes.textContent:q.value&&(Z=q.value)}if(null!==Z&&E.push({str:Z}),q.children)for(const $ of q.children)Y($)}(z),e}static shouldBuildText(z){return!("textarea"===z||"input"===z||"option"===z||"select"===z)}}o.XfaText=O},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayer=void 0;var s=O(1),z=O(5),E=O(9),e=O(19),Y=O(20);const q=1e3,Z=new WeakSet;function W(u){return{width:u[2]-u[0],height:u[3]-u[1]}}class ${static create(n){switch(n.data.annotationType){case s.AnnotationType.LINK:return new j(n);case s.AnnotationType.TEXT:return new G(n);case s.AnnotationType.WIDGET:switch(n.data.fieldType){case"Tx":return new y(n);case"Btn":return n.data.radioButton?new D(n):n.data.checkBox?new N(n):new S(n);case"Ch":return new M(n)}return new A(n);case s.AnnotationType.POPUP:return new r(n);case s.AnnotationType.FREETEXT:return new m(n);case s.AnnotationType.LINE:return new I(n);case s.AnnotationType.SQUARE:return new p(n);case s.AnnotationType.CIRCLE:return new w(n);case s.AnnotationType.POLYLINE:return new v(n);case s.AnnotationType.CARET:return new P(n);case s.AnnotationType.INK:return new R(n);case s.AnnotationType.POLYGON:return new h(n);case s.AnnotationType.HIGHLIGHT:return new T(n);case s.AnnotationType.UNDERLINE:return new B(n);case s.AnnotationType.SQUIGGLY:return new H(n);case s.AnnotationType.STRIKEOUT:return new X(n);case s.AnnotationType.STAMP:return new C(n);case s.AnnotationType.FILEATTACHMENT:return new c(n);default:return new J(n)}}}class J{constructor(n,{isRenderable:l=!1,ignoreBorder:g=!1,createQuadrilaterals:F=!1}={}){this.isRenderable=l,this.data=n.data,this.layer=n.layer,this.page=n.page,this.viewport=n.viewport,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this._mouseState=n.mouseState,l&&(this.container=this._createContainer(g)),F&&(this.quadrilaterals=this._createQuadrilaterals(g))}_createContainer(n=!1){const l=this.data,g=this.page,F=this.viewport,x=document.createElement("section");let{width:f,height:Q}=W(l.rect);x.setAttribute("data-annotation-id",l.id);const te=s.Util.normalizeRect([l.rect[0],g.view[3]-l.rect[1]+g.view[1],l.rect[2],g.view[3]-l.rect[3]+g.view[1]]);if(l.hasOwnCanvas){const ee=F.transform.slice(),[ie,de]=s.Util.singularValueDecompose2dScale(ee);f=Math.ceil(f*ie),Q=Math.ceil(Q*de),te[0]*=ie,te[1]*=de;for(let fe=0;fe<4;fe++)ee[fe]=Math.sign(ee[fe]);x.style.transform=`matrix(${ee.join(",")})`}else x.style.transform=`matrix(${F.transform.join(",")})`;if(x.style.transformOrigin=`${-te[0]}px ${-te[1]}px`,!n&&l.borderStyle.width>0){x.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==s.AnnotationBorderStyleType.UNDERLINE&&(f-=2*l.borderStyle.width,Q-=2*l.borderStyle.width);const ee=l.borderStyle.horizontalCornerRadius,ie=l.borderStyle.verticalCornerRadius;switch((ee>0||ie>0)&&(x.style.borderRadius=`${ee}px / ${ie}px`),l.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:x.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:x.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:x.style.borderBottomStyle="solid"}l.borderColor||l.color?x.style.borderColor=s.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):x.style.borderWidth=0}return x.style.left=`${te[0]}px`,x.style.top=`${te[1]}px`,l.hasOwnCanvas?x.style.width=x.style.height="auto":(x.style.width=`${f}px`,x.style.height=`${Q}px`),x}_createQuadrilaterals(n=!1){if(!this.data.quadPoints)return null;const l=[],g=this.data.rect;for(const F of this.data.quadPoints)this.data.rect=[F[2].x,F[2].y,F[1].x,F[1].y],l.push(this._createContainer(n));return this.data.rect=g,l}_createPopup(n,l){let g=this.container;this.quadrilaterals&&(n=n||this.quadrilaterals,g=this.quadrilaterals[0]),n||((n=document.createElement("div")).style.height=g.style.height,n.style.width=g.style.width,g.appendChild(n));const x=new i({container:g,trigger:n,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();x.style.left=g.style.width,g.appendChild(x)}_renderQuadrilaterals(n){for(const l of this.quadrilaterals)l.className=n;return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,l=null){const g=[];if(this._fieldObjects){const F=this._fieldObjects[n];if(F)for(const{page:x,id:f,exportValues:Q}of F){if(-1===x||f===l)continue;const te="string"==typeof Q?Q:null,ee=document.getElementById(f);!ee||Z.has(ee)?g.push({id:f,exportValue:te,domElement:ee}):(0,s.warn)(`_getElementsByName - element not allowed: ${f}`)}return g}for(const F of document.getElementsByName(n)){const{id:x,exportValue:f}=F;x!==l&&(!Z.has(F)||g.push({id:x,exportValue:f,domElement:F}))}return g}static get platform(){const n=typeof navigator<"u"?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:n.includes("Win"),isMac:n.includes("Mac")})}}class j extends J{constructor(n,l=null){super(n,{isRenderable:!!(n.data.url||n.data.dest||n.data.action||n.data.isTooltipOnly||n.data.resetForm||n.data.actions&&(n.data.actions.Action||n.data.actions["Mouse Up"]||n.data.actions["Mouse Down"])),ignoreBorder:!!l?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:n,linkService:l}=this,g=document.createElement("a");if(n.url)l.addLinkAttributes||(0,s.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),l.addLinkAttributes?.(g,n.url,n.newWindow);else if(n.action)this._bindNamedAction(g,n.action);else if(n.dest)this._bindLink(g,n.dest);else{let F=!1;n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(F=!0,this._bindJSAction(g,n)),n.resetForm?this._bindResetFormAction(g,n.resetForm):F||this._bindLink(g,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((F,x)=>{const f=0===x?g:g.cloneNode();return F.appendChild(f),F}):(this.container.className="linkAnnotation",this.container.appendChild(g),this.container)}_bindLink(n,l){n.href=this.linkService.getDestinationHash(l),n.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(n.className="internalLink")}_bindNamedAction(n,l){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(l),!1),n.className="internalLink"}_bindJSAction(n,l){n.href=this.linkService.getAnchorUrl("");const g=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const F of Object.keys(l.actions)){const x=g.get(F);!x||(n[x]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:F}}),!1))}n.onclick||(n.onclick=()=>!1),n.className="internalLink"}_bindResetFormAction(n,l){const g=n.onclick;if(g||(n.href=this.linkService.getAnchorUrl("")),n.className="internalLink",!this._fieldObjects)return(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(g||(n.onclick=()=>!1));n.onclick=()=>{g&&g();const{fields:F,refs:x,include:f}=l,Q=[];if(0!==F.length||0!==x.length){const ie=new Set(x);for(const de of F){const fe=this._fieldObjects[de]||[];for(const{id:me}of fe)ie.add(me)}for(const de of Object.values(this._fieldObjects))for(const fe of de)ie.has(fe.id)===f&&Q.push(fe)}else for(const ie of Object.values(this._fieldObjects))Q.push(...ie);const te=this.annotationStorage,ee=[];for(const ie of Q){const{id:de}=ie;switch(ee.push(de),ie.type){case"text":{const me=ie.defaultValue||"";te.setValue(de,{value:me,valueAsString:me});break}case"checkbox":case"radiobutton":te.setValue(de,{value:ie.defaultValue===ie.exportValues});break;case"combobox":case"listbox":te.setValue(de,{value:ie.defaultValue||""});break;default:continue}const fe=document.getElementById(de);!fe||!Z.has(fe)||fe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ee,name:"ResetForm"}}),!1}}}class G extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str)})}render(){this.container.className="textAnnotation";const n=document.createElement("img");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.alt="[{{type}} Annotation]",n.dataset.l10nId="text_annotation_type",n.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(n,this.data),this.container.appendChild(n),this.container}}class A extends J{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(n){const{isWin:l,isMac:g}=J.platform;return l&&n.ctrlKey||g&&n.metaKey}_setEventListener(n,l,g,F){l.includes("mouse")?n.addEventListener(l,x=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:g,value:F(x),shift:x.shiftKey,modifier:this._getKeyModifier(x)}})}):n.addEventListener(l,x=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:g,value:F(x)}})})}_setEventListeners(n,l,g){for(const[F,x]of l)("Action"===x||this.data.actions?.[x])&&this._setEventListener(n,F,x,g)}_setBackgroundColor(n){const l=this.data.backgroundColor||null;n.style.backgroundColor=null===l?"transparent":s.Util.makeHexColor(l[0],l[1],l[2])}_dispatchEventFromSandbox(n,l){const g=(x,f,Q)=>{const te=Q.detail[x];Q.target.style[f]=e.ColorConverters[`${te[0]}_HTML`](te.slice(1))},F={display:x=>{const f=x.detail.display%2==1;x.target.style.visibility=f?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:f,print:0===x.detail.display||3===x.detail.display})},print:x=>{this.annotationStorage.setValue(this.data.id,{print:x.detail.print})},hidden:x=>{x.target.style.visibility=x.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:x.detail.hidden})},focus:x=>{setTimeout(()=>x.target.focus({preventScroll:!1}),0)},userName:x=>{x.target.title=x.detail.userName},readonly:x=>{x.detail.readonly?x.target.setAttribute("readonly",""):x.target.removeAttribute("readonly")},required:x=>{x.detail.required?x.target.setAttribute("required",""):x.target.removeAttribute("required")},bgColor:x=>{g("bgColor","backgroundColor",x)},fillColor:x=>{g("fillColor","backgroundColor",x)},fgColor:x=>{g("fgColor","color",x)},textColor:x=>{g("textColor","color",x)},borderColor:x=>{g("borderColor","borderColor",x)},strokeColor:x=>{g("strokeColor","borderColor",x)}};for(const x of Object.keys(l.detail)){const f=n[x]||F[x];f&&f(l)}}}class y extends A{constructor(n){super(n,{isRenderable:n.renderForms||!n.data.hasAppearance&&!!n.data.fieldValue})}setPropertyOnSiblings(n,l,g,F){const x=this.annotationStorage;for(const f of this._getElementsByName(n.name,n.id))f.domElement&&(f.domElement[l]=g),x.setValue(f.id,{[F]:g})}render(){const n=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let g=null;if(this.renderForms){const F=n.getValue(l,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),x=F.valueAsString||F.value||"",f={userValue:null,formattedValue:null};this.data.multiLine?(g=document.createElement("textarea"),g.textContent=x):(g=document.createElement("input"),g.type="text",g.setAttribute("value",x)),Z.add(g),g.disabled=this.data.readOnly,g.name=this.data.fieldName,g.tabIndex=q,f.userValue=x,g.setAttribute("id",l),g.addEventListener("input",te=>{n.setValue(l,{value:te.target.value}),this.setPropertyOnSiblings(g,"value",te.target.value,"value")}),g.addEventListener("resetform",te=>{g.value=f.userValue=this.data.defaultFieldValue||"",delete f.formattedValue});let Q=te=>{f.formattedValue&&(te.target.value=f.formattedValue),te.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){g.addEventListener("focus",ee=>{f.userValue&&(ee.target.value=f.userValue)}),g.addEventListener("updatefromsandbox",ee=>{this._dispatchEventFromSandbox({value(de){f.userValue=de.detail.value||"",n.setValue(l,{value:f.userValue.toString()}),f.formattedValue||(de.target.value=f.userValue)},valueAsString(de){f.formattedValue=de.detail.valueAsString||"",de.target!==document.activeElement&&(de.target.value=f.formattedValue),n.setValue(l,{formattedValue:f.formattedValue})},selRange(de){const[fe,me]=de.detail.selRange;fe>=0&&me<de.target.value.length&&de.target.setSelectionRange(fe,me)}},ee)}),g.addEventListener("keydown",ee=>{let ie=-1;"Escape"===ee.key?ie=0:"Enter"===ee.key?ie=2:"Tab"===ee.key&&(ie=3),-1!==ie&&(f.userValue=ee.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:ee.target.value,willCommit:!0,commitKey:ie,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}}))});const te=Q;Q=null,g.addEventListener("blur",ee=>{f.userValue=ee.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:ee.target.value,willCommit:!0,commitKey:1,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}}),te(ee)}),this.data.actions?.Keystroke&&g.addEventListener("beforeinput",ee=>{f.formattedValue="";const{data:ie,target:de}=ee,{value:fe,selectionStart:me,selectionEnd:ve}=de;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:fe,change:ie,willCommit:!1,selStart:me,selEnd:ve}})}),this._setEventListeners(g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.value)}if(Q&&g.addEventListener("blur",Q),null!==this.data.maxLen&&(g.maxLength=this.data.maxLen),this.data.comb){const ee=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;g.classList.add("comb"),g.style.letterSpacing=`calc(${ee}px - 1ch)`}}else g=document.createElement("div"),g.textContent=this.data.fieldValue,g.style.verticalAlign="middle",g.style.display="table-cell";return this._setTextStyle(g),this._setBackgroundColor(g),this.container.appendChild(g),this.container}_setTextStyle(n){const{fontSize:g,fontColor:F}=this.data.defaultAppearanceData,x=n.style;g&&(x.fontSize=`${g}px`),x.color=s.Util.makeHexColor(F[0],F[1],F[2]),null!==this.data.textAlignment&&(x.textAlign=["left","center","right"][this.data.textAlignment])}}class N extends A{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,l=this.data,g=l.id;let F=n.getValue(g,{value:l.exportValue===l.fieldValue}).value;"string"==typeof F&&(F="Off"!==F,n.setValue(g,{value:F})),this.container.className="buttonWidgetAnnotation checkBox";const x=document.createElement("input");return Z.add(x),x.disabled=l.readOnly,x.type="checkbox",x.name=l.fieldName,F&&x.setAttribute("checked",!0),x.setAttribute("id",g),x.setAttribute("exportValue",l.exportValue),x.tabIndex=q,x.addEventListener("change",f=>{const{name:Q,checked:te}=f.target;for(const ee of this._getElementsByName(Q,g)){const ie=te&&ee.exportValue===l.exportValue;ee.domElement&&(ee.domElement.checked=ie),n.setValue(ee.id,{value:ie})}n.setValue(g,{value:te})}),x.addEventListener("resetform",f=>{f.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(x.addEventListener("updatefromsandbox",f=>{this._dispatchEventFromSandbox({value(te){te.target.checked="Off"!==te.detail.value,n.setValue(g,{value:te.target.checked})}},f)}),this._setEventListeners(x,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.checked)),this._setBackgroundColor(x),this.container.appendChild(x),this.container}}class D extends A{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const n=this.annotationStorage,l=this.data,g=l.id;let F=n.getValue(g,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof F&&(F=F!==l.buttonValue,n.setValue(g,{value:F}));const x=document.createElement("input");if(Z.add(x),x.disabled=l.readOnly,x.type="radio",x.name=l.fieldName,F&&x.setAttribute("checked",!0),x.setAttribute("id",g),x.tabIndex=q,x.addEventListener("change",f=>{const{name:Q,checked:te}=f.target;for(const ee of this._getElementsByName(Q,g))n.setValue(ee.id,{value:!1});n.setValue(g,{value:te})}),x.addEventListener("resetform",f=>{const Q=l.defaultFieldValue;f.target.checked=null!=Q&&Q===l.buttonValue}),this.enableScripting&&this.hasJSActions){const f=l.buttonValue;x.addEventListener("updatefromsandbox",Q=>{this._dispatchEventFromSandbox({value:ee=>{const ie=f===ee.detail.value;for(const de of this._getElementsByName(ee.target.name)){const fe=ie&&de.id===g;de.domElement&&(de.domElement.checked=fe),n.setValue(de.id,{value:fe})}}},Q)}),this._setEventListeners(x,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(x),this.container.appendChild(x),this.container}}class S extends j{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();return n.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(n.title=this.data.alternativeText),n}}class M extends A{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const n=this.annotationStorage,l=this.data.id;n.getValue(l,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:g}=this.data.defaultAppearanceData;g||(g=9);const F=`calc(${g}px * var(--zoom-factor))`,x=document.createElement("select");Z.add(x),x.disabled=this.data.readOnly,x.name=this.data.fieldName,x.setAttribute("id",l),x.tabIndex=q,x.style.fontSize=`${g}px`,this.data.combo||(x.size=this.data.options.length,this.data.multiSelect&&(x.multiple=!0)),x.addEventListener("resetform",te=>{const ee=this.data.defaultFieldValue;for(const ie of x.options)ie.selected=ie.value===ee});for(const te of this.data.options){const ee=document.createElement("option");ee.textContent=te.displayValue,ee.value=te.exportValue,this.data.combo&&(ee.style.fontSize=F),this.data.fieldValue.includes(te.exportValue)&&ee.setAttribute("selected",!0),x.appendChild(ee)}const f=(te,ee)=>{const ie=ee?"value":"textContent",de=te.target.options;return te.target.multiple?Array.prototype.filter.call(de,fe=>fe.selected).map(fe=>fe[ie]):-1===de.selectedIndex?null:de[de.selectedIndex][ie]},Q=te=>Array.prototype.map.call(te.target.options,ie=>({displayValue:ie.textContent,exportValue:ie.value}));return this.enableScripting&&this.hasJSActions?(x.addEventListener("updatefromsandbox",te=>{this._dispatchEventFromSandbox({value(ie){const de=ie.detail.value,fe=new Set(Array.isArray(de)?de:[de]);for(const me of x.options)me.selected=fe.has(me.value);n.setValue(l,{value:f(ie,!0)})},multipleSelection(ie){x.multiple=!0},remove(ie){const de=x.options,fe=ie.detail.remove;de[fe].selected=!1,x.remove(fe),de.length>0&&-1===Array.prototype.findIndex.call(de,ve=>ve.selected)&&(de[0].selected=!0),n.setValue(l,{value:f(ie,!0),items:Q(ie)})},clear(ie){for(;0!==x.length;)x.remove(0);n.setValue(l,{value:null,items:[]})},insert(ie){const{index:de,displayValue:fe,exportValue:me}=ie.detail.insert,ve=document.createElement("option");ve.textContent=fe,ve.value=me,x.insertBefore(ve,x.children[de]),n.setValue(l,{value:f(ie,!0),items:Q(ie)})},items(ie){const{items:de}=ie.detail;for(;0!==x.length;)x.remove(0);for(const fe of de){const{displayValue:me,exportValue:ve}=fe,pe=document.createElement("option");pe.textContent=me,pe.value=ve,x.appendChild(pe)}x.options.length>0&&(x.options[0].selected=!0),n.setValue(l,{value:f(ie,!0),items:Q(ie)})},indices(ie){const de=new Set(ie.detail.indices);for(const fe of ie.target.options)fe.selected=de.has(fe.index);n.setValue(l,{value:f(ie,!0)})},editable(ie){ie.target.disabled=!ie.detail.editable}},te)}),x.addEventListener("input",te=>{const ee=f(te,!0),ie=f(te,!1);n.setValue(l,{value:ee}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:ie,changeEx:ee,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(x,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],te=>te.target.checked)):x.addEventListener("input",function(te){n.setValue(l,{value:f(te)})}),this._setBackgroundColor(x),this.container.appendChild(x),this.container}}class r extends J{constructor(n){super(n,{isRenderable:!!(n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const g=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===g.length)return this.container;const F=new i({container:this.container,trigger:Array.from(g),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),x=this.page,f=s.Util.normalizeRect([this.data.parentRect[0],x.view[3]-this.data.parentRect[1]+x.view[1],this.data.parentRect[2],x.view[3]-this.data.parentRect[3]+x.view[1]]),Q=f[0]+this.data.parentRect[2]-this.data.parentRect[0],te=f[1];return this.container.style.transformOrigin=`${-Q}px ${-te}px`,this.container.style.left=`${Q}px`,this.container.style.top=`${te}px`,this.container.appendChild(F.render()),this.container}}class i{constructor(n){this.container=n.container,this.trigger=n.trigger,this.color=n.color,this.titleObj=n.titleObj,this.modificationDate=n.modificationDate,this.contentsObj=n.contentsObj,this.richText=n.richText,this.hideWrapper=n.hideWrapper||!1,this.pinned=!1}render(){const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const g=document.createElement("div");g.className="popup";const F=this.color;F&&(g.style.backgroundColor=s.Util.makeHexColor(0|.7*(255-F[0])+F[0],0|.7*(255-F[1])+F[1],0|.7*(255-F[2])+F[2]));const x=document.createElement("h1");x.dir=this.titleObj.dir,x.textContent=this.titleObj.str,g.appendChild(x);const f=z.PDFDateString.toDateObject(this.modificationDate);if(f){const Q=document.createElement("span");Q.className="popupDate",Q.textContent="{{date}}, {{time}}",Q.dataset.l10nId="annotation_date_string",Q.dataset.l10nArgs=JSON.stringify({date:f.toLocaleDateString(),time:f.toLocaleTimeString()}),g.appendChild(Q)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const Q=this._formatContents(this.contentsObj);g.appendChild(Q)}else Y.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:g}),g.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Q of this.trigger)Q.addEventListener("click",this._toggle.bind(this)),Q.addEventListener("mouseover",this._show.bind(this,!1)),Q.addEventListener("mouseout",this._hide.bind(this,!1));return g.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(g),l}_formatContents({str:n,dir:l}){const g=document.createElement("p");g.className="popupContent",g.dir=l;const F=n.split(/(?:\r\n?|\n)/);for(let x=0,f=F.length;x<f;++x)g.appendChild(document.createTextNode(F[x])),x<f-1&&g.appendChild(document.createElement("br"));return g}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(n=!1){n&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(n=!0){n&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class m extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class I extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const n=this.data,{width:l,height:g}=W(n.rect),F=this.svgFactory.create(l,g),x=this.svgFactory.createElement("svg:line");return x.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),x.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),x.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),x.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),x.setAttribute("stroke-width",n.borderStyle.width||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),F.appendChild(x),this.container.append(F),this._createPopup(x,n),this.container}}class p extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const n=this.data,{width:l,height:g}=W(n.rect),F=this.svgFactory.create(l,g),x=n.borderStyle.width,f=this.svgFactory.createElement("svg:rect");return f.setAttribute("x",x/2),f.setAttribute("y",x/2),f.setAttribute("width",l-x),f.setAttribute("height",g-x),f.setAttribute("stroke-width",x||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),F.appendChild(f),this.container.append(F),this._createPopup(f,n),this.container}}class w extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const n=this.data,{width:l,height:g}=W(n.rect),F=this.svgFactory.create(l,g),x=n.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");return f.setAttribute("cx",l/2),f.setAttribute("cy",g/2),f.setAttribute("rx",l/2-x/2),f.setAttribute("ry",g/2-x/2),f.setAttribute("stroke-width",x||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),F.appendChild(f),this.container.append(F),this._createPopup(f,n),this.container}}class v extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:l,height:g}=W(n.rect),F=this.svgFactory.create(l,g);let x=[];for(const Q of n.vertices)x.push(Q.x-n.rect[0]+","+(n.rect[3]-Q.y));x=x.join(" ");const f=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",x),f.setAttribute("stroke-width",n.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),F.appendChild(f),this.container.append(F),this._createPopup(f,n),this.container}}class h extends v{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class P extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class R extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:l,height:g}=W(n.rect),F=this.svgFactory.create(l,g);for(const x of n.inkLists){let f=[];for(const te of x)f.push(`${te.x-n.rect[0]},${n.rect[3]-te.y}`);f=f.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);Q.setAttribute("points",f),Q.setAttribute("stroke-width",n.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),this._createPopup(Q,n),F.appendChild(Q)}return this.container.append(F),this.container}}class T extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class B extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class H extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class X extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class C extends J{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class c extends J{constructor(n){super(n,{isRenderable:!0});const{filename:l,content:g}=this.data.file;this.filename=(0,z.getFilenameFromUrl)(l),this.content=g,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,s.stringToPDFString)(l),filename:l,content:g})}render(){this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class a{static render(n){const l=[],g=[];for(const x of n.annotations){if(!x)continue;const{width:f,height:Q}=W(x.rect);if(!(f<=0||Q<=0)){if(x.annotationType===s.AnnotationType.POPUP){g.push(x);continue}l.push(x)}}g.length&&l.push(...g);const F=n.div;for(const x of l){const f=$.create({data:x,layer:F,page:n.page,viewport:n.viewport,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:!1!==n.renderForms,svgFactory:new z.DOMSVGFactory,annotationStorage:n.annotationStorage||new E.AnnotationStorage,enableScripting:n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,mouseState:n.mouseState||{isDown:!1}});if(f.isRenderable){const Q=f.render();if(x.hidden&&(Q.style.visibility="hidden"),Array.isArray(Q))for(const te of Q)F.appendChild(te);else f instanceof r?F.prepend(Q):F.appendChild(Q)}}_classStaticPrivateMethodGet(this,a,b).call(this,F,n.annotationCanvasMap)}static update(n){const{page:l,viewport:g,annotations:F,annotationCanvasMap:x,div:f}=n,Q=g.transform,te=`matrix(${Q.join(",")})`;let ee,ie;for(const de of F){const fe=f.querySelectorAll(`[data-annotation-id="${de.id}"]`);if(fe)for(const me of fe)if(de.hasOwnCanvas){const ve=s.Util.normalizeRect([de.rect[0],l.view[3]-de.rect[1]+l.view[1],de.rect[2],l.view[3]-de.rect[3]+l.view[1]]);if(!ie){ee=Math.abs(Q[0]||Q[1]);const Ee=Q.slice();for(let Ae=0;Ae<4;Ae++)Ee[Ae]=Math.sign(Ee[Ae]);ie=`matrix(${Ee.join(",")})`}const pe=ve[0]*ee,Se=ve[1]*ee;me.style.left=`${pe}px`,me.style.top=`${Se}px`,me.style.transformOrigin=`${-pe}px ${-Se}px`,me.style.transform=ie}else me.style.transform=te}_classStaticPrivateMethodGet(this,a,b).call(this,f,x),f.hidden=!1}}function b(u,n){if(n){for(const[l,g]of n){const F=u.querySelector(`[data-annotation-id="${l}"]`);if(!F)continue;const{firstChild:x}=F;"CANVAS"===x.nodeName?F.replaceChild(g,x):F.insertBefore(g,x)}n.clear()}}o.AnnotationLayer=a},(ne,o)=>{function O(z){return Math.floor(255*Math.max(0,Math.min(1,z))).toString(16).padStart(2,"0")}Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0,o.ColorConverters=class s{static CMYK_G([E,e,Y,q]){return["G",1-Math.min(1,.3*E+.59*Y+.11*e+q)]}static G_CMYK([E]){return["CMYK",0,0,0,1-E]}static G_RGB([E]){return["RGB",E,E,E]}static G_HTML([E]){const e=O(E);return`#${e}${e}${e}`}static RGB_G([E,e,Y]){return["G",.3*E+.59*e+.11*Y]}static RGB_HTML([E,e,Y]){return`#${O(E)}${O(e)}${O(Y)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([E,e,Y,q]){return["RGB",1-Math.min(1,E+q),1-Math.min(1,Y+q),1-Math.min(1,e+q)]}static CMYK_HTML(E){return this.RGB_HTML(this.CMYK_RGB(E))}static RGB_CMYK([E,e,Y]){const q=1-E,Z=1-e,W=1-Y;return["CMYK",q,Z,W,Math.min(q,Z,W)]}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var s=O(1),z=O(17);o.XfaLayer=class E{static setupStorage(Y,q,Z,W,$){const J=W.getValue(q,{value:null});switch(Z.name){case"textarea":if(null!==J.value&&(Y.textContent=J.value),"print"===$)break;Y.addEventListener("input",j=>{W.setValue(q,{value:j.target.value})});break;case"input":if("radio"===Z.attributes.type||"checkbox"===Z.attributes.type){if(J.value===Z.attributes.xfaOn?Y.setAttribute("checked",!0):J.value===Z.attributes.xfaOff&&Y.removeAttribute("checked"),"print"===$)break;Y.addEventListener("change",j=>{W.setValue(q,{value:j.target.getAttribute(j.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==J.value&&Y.setAttribute("value",J.value),"print"===$)break;Y.addEventListener("input",j=>{W.setValue(q,{value:j.target.value})})}break;case"select":if(null!==J.value)for(const j of Z.children)j.attributes.value===J.value&&(j.attributes.selected=!0);Y.addEventListener("input",j=>{const G=j.target.options;W.setValue(q,{value:-1===G.selectedIndex?"":G[G.selectedIndex].value})})}}static setAttributes({html:Y,element:q,storage:Z=null,intent:W,linkService:$}){const{attributes:J}=q,j=Y instanceof HTMLAnchorElement;"radio"===J.type&&(J.name=`${J.name}-${W}`);for(const[G,A]of Object.entries(J))if(null!=A&&"dataId"!==G)if("style"!==G)if("textContent"===G)Y.textContent=A;else if("class"===G)A.length&&Y.setAttribute(G,A.join(" "));else{if(j&&("href"===G||"newWindow"===G))continue;Y.setAttribute(G,A)}else Object.assign(Y.style,A);j&&($.addLinkAttributes||(0,s.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),$.addLinkAttributes?.(Y,J.href,J.newWindow)),Z&&J.dataId&&this.setupStorage(Y,J.dataId,q,Z)}static render(Y){const q=Y.annotationStorage,Z=Y.linkService,W=Y.xfaHtml,$=Y.intent||"display",J=document.createElement(W.name);W.attributes&&this.setAttributes({html:J,element:W,intent:$,linkService:Z});const j=[[W,-1,J]],G=Y.div;if(G.appendChild(J),Y.viewport){const y=`matrix(${Y.viewport.transform.join(",")})`;G.style.transform=y}"richText"!==$&&G.setAttribute("class","xfaLayer xfaFont");const A=[];for(;j.length>0;){const[y,N,D]=j[j.length-1];if(N+1===y.children.length){j.pop();continue}const S=y.children[++j[j.length-1][1]];if(null===S)continue;const{name:M}=S;if("#text"===M){const i=document.createTextNode(S.value);A.push(i),D.appendChild(i);continue}let r;if(r=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,M):document.createElement(M),D.appendChild(r),S.attributes&&this.setAttributes({html:r,element:S,storage:q,intent:$,linkService:Z}),S.children&&S.children.length>0)j.push([S,-1,r]);else if(S.value){const i=document.createTextNode(S.value);z.XfaText.shouldBuildText(M)&&A.push(i),r.appendChild(i)}}for(const y of G.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:A}}static update(Y){const q=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=q,Y.div.hidden=!1}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.renderTextLayer=function N(D){const S=new y({textContent:D.textContent,textContentStream:D.textContentStream,container:D.container,viewport:D.viewport,textDivs:D.textDivs,textContentItemsStr:D.textContentItemsStr,enhanceTextSelection:D.enhanceTextSelection});return S._render(D.timeout),S};var s=O(1);const E=30,Y=new Map,q=/^\s+$/g;function W(D,S,M,r){const i=document.createElement("span"),m=D._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==S.str,hasEOL:S.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==S.str,hasEOL:S.hasEOL};D._textDivs.push(i);const I=s.Util.transform(D._viewport.transform,S.transform);let p=Math.atan2(I[1],I[0]);const w=M[S.fontName];w.vertical&&(p+=Math.PI/2);const v=Math.hypot(I[2],I[3]),h=v*function Z(D,S){const M=Y.get(D);if(M)return M;S.save(),S.font=`30px ${D}`;const r=S.measureText("");let i=r.fontBoundingBoxAscent,m=Math.abs(r.fontBoundingBoxDescent);if(i){S.restore();const p=i/(i+m);return Y.set(D,p),p}S.strokeStyle="red",S.clearRect(0,0,E,E),S.strokeText("g",0,0);let I=S.getImageData(0,0,E,E).data;m=0;for(let p=I.length-1-3;p>=0;p-=4)if(I[p]>0){m=Math.ceil(p/4/E);break}S.clearRect(0,0,E,E),S.strokeText("A",0,E),I=S.getImageData(0,0,E,E).data,i=0;for(let p=0,w=I.length;p<w;p+=4)if(I[p]>0){i=E-Math.floor(p/4/E);break}if(S.restore(),i){const p=i/(i+m);return Y.set(D,p),p}return Y.set(D,.8),.8}(w.fontFamily,r);let P,R;0===p?(P=I[4],R=I[5]-h):(P=I[4]+h*Math.sin(p),R=I[5]-h*Math.cos(p)),i.style.left=`${P}px`,i.style.top=`${R}px`,i.style.fontSize=`${v}px`,i.style.fontFamily=w.fontFamily,i.setAttribute("role","presentation"),i.textContent=S.str,i.dir=S.dir,D._fontInspectorEnabled&&(i.dataset.fontName=S.fontName),0!==p&&(m.angle=p*(180/Math.PI));let T=!1;if(S.str.length>1||D._enhanceTextSelection&&q.test(S.str))T=!0;else if(" "!==S.str&&S.transform[0]!==S.transform[3]){const B=Math.abs(S.transform[0]),H=Math.abs(S.transform[3]);B!==H&&Math.max(B,H)/Math.min(B,H)>1.5&&(T=!0)}if(T&&(m.canvasWidth=w.vertical?S.height*D._viewport.scale:S.width*D._viewport.scale),D._textDivProperties.set(i,m),D._textContentStream&&D._layoutText(i),D._enhanceTextSelection&&m.hasText){let B=1,H=0;0!==p&&(B=Math.cos(p),H=Math.sin(p));const X=(w.vertical?S.height:S.width)*D._viewport.scale,C=v;let c,a;0!==p?(c=[B,H,-H,B,P,R],a=s.Util.getAxialAlignedBoundingBox([0,0,X,C],c)):a=[P,R,P+X,R+C],D._bounds.push({left:a[0],top:a[1],right:a[2],bottom:a[3],div:i,size:[X,C],m:c})}}function $(D){if(D._canceled)return;const S=D._textDivs,M=D._capability,r=S.length;if(r>1e5)return D._renderingDone=!0,void M.resolve();if(!D._textContentStream)for(let i=0;i<r;i++)D._layoutText(S[i]);D._renderingDone=!0,M.resolve()}function J(D,S,M){let r=0;for(let i=0;i<M;i++){const m=D[S++];m>0&&(r=r?Math.min(m,r):m)}return r}function A(D,S){S.sort(function(i,m){return i.x1-m.x1||i.index-m.index});const r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of S){let m=0;for(;m<r.length&&r[m].end<=i.y1;)m++;let I=r.length-1;for(;I>=0&&r[I].start>=i.y2;)I--;let p,w,v,h,P=-1/0;for(v=m;v<=I;v++){let B;p=r[v],w=p.boundary,B=w.x2>i.x1?w.index>i.index?w.x1New:i.x1:void 0===w.x2New?(w.x2+i.x1)/2:w.x2New,B>P&&(P=B)}for(i.x1New=P,v=m;v<=I;v++)p=r[v],w=p.boundary,void 0===w.x2New?w.x2>i.x1?w.index>i.index&&(w.x2New=w.x2):w.x2New=P:w.x2New>P&&(w.x2New=Math.max(P,w.x2));const R=[];let T=null;for(v=m;v<=I;v++){p=r[v],w=p.boundary;const B=w.x2>i.x2?w:i;T===B?R[R.length-1].end=p.end:(R.push({start:p.start,end:p.end,boundary:B}),T=B)}for(r[m].start<i.y1&&(R[0].start=i.y1,R.unshift({start:r[m].start,end:i.y1,boundary:r[m].boundary})),i.y2<r[I].end&&(R[R.length-1].end=i.y2,R.push({start:i.y2,end:r[I].end,boundary:r[I].boundary})),v=m;v<=I;v++){if(p=r[v],w=p.boundary,void 0!==w.x2New)continue;let B=!1;for(h=m-1;!B&&h>=0&&r[h].start>=w.y1;h--)B=r[h].boundary===w;for(h=I+1;!B&&h<r.length&&r[h].end<=w.y2;h++)B=r[h].boundary===w;for(h=0;!B&&h<R.length;h++)B=R[h].boundary===w;B||(w.x2New=P)}Array.prototype.splice.apply(r,[m,I-m+1].concat(R))}for(const i of r){const m=i.boundary;void 0===m.x2New&&(m.x2New=Math.max(D,m.x2))}}class y{constructor({textContent:S,textContentStream:M,container:r,viewport:i,textDivs:m,textContentItemsStr:I,enhanceTextSelection:p}){this._textContent=S,this._textContentStream=M,this._container=r,this._document=r.ownerDocument,this._viewport=i,this._textDivs=m||[],this._textContentItemsStr=I||[],this._enhanceTextSelection=!!p,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,s.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(S,M){for(let r=0,i=S.length;r<i;r++)if(void 0!==S[r].str)this._textContentItemsStr.push(S[r].str),W(this,S[r],M,this._layoutTextCtx);else if("beginMarkedContentProps"===S[r].type||"beginMarkedContent"===S[r].type){const m=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==S[r].id&&this._container.setAttribute("id",`${S[r].id}`),m.appendChild(this._container)}else"endMarkedContent"===S[r].type&&(this._container=this._container.parentNode)}_layoutText(S){const M=this._textDivProperties.get(S);let r="";if(0!==M.canvasWidth&&M.hasText){const{fontSize:i,fontFamily:m}=S.style;(i!==this._layoutTextLastFontSize||m!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${m}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=m);const{width:I}=this._layoutTextCtx.measureText(S.textContent);if(I>0){const p=M.canvasWidth/I;this._enhanceTextSelection&&(M.scale=p),r=`scaleX(${p})`}}if(0!==M.angle&&(r=`rotate(${M.angle}deg) ${r}`),r.length>0&&(this._enhanceTextSelection&&(M.originalTransform=r),S.style.transform=r),M.hasText&&this._container.appendChild(S),M.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(S=0){const M=(0,s.createPromiseCapability)();let r=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=E,i.mozOpaque=!0,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),M.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const m=()=>{this._reader.read().then(({value:I,done:p})=>{p?M.resolve():(Object.assign(r,I.styles),this._processItems(I.items,r),m())},M.reject)};this._reader=this._textContentStream.getReader(),m()}}M.promise.then(()=>{r=null,S?this._renderTimer=setTimeout(()=>{$(this),this._renderTimer=null},S):$(this)},this._capability.reject)}expandTextDivs(S=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function j(D){const S=D._bounds,M=D._viewport,r=function G(D,S,M){const r=M.map(function(m,I){return{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom,index:I,x1New:void 0,x2New:void 0}});A(D,r);const i=new Array(M.length);for(const m of r)i[m.index]={left:m.x1New,top:0,right:m.x2New,bottom:0};M.map(function(m,I){const p=i[I],w=r[I];w.x1=m.top,w.y1=D-p.right,w.x2=m.bottom,w.y2=D-p.left,w.index=I,w.x1New=void 0,w.x2New=void 0}),A(S,r);for(const m of r){const I=m.index;i[I].top=m.x1New,i[I].bottom=m.x2New}return i}(M.width,M.height,S);for(let i=0;i<r.length;i++){const m=S[i].div,I=D._textDivProperties.get(m);if(0===I.angle){I.paddingLeft=S[i].left-r[i].left,I.paddingTop=S[i].top-r[i].top,I.paddingRight=r[i].right-S[i].right,I.paddingBottom=r[i].bottom-S[i].bottom,D._textDivProperties.set(m,I);continue}const p=r[i],w=S[i],v=w.m,h=v[0],P=v[1],R=[[0,0],[0,w.size[1]],[w.size[0],0],w.size],T=new Float64Array(64);for(let H=0,X=R.length;H<X;H++){const C=s.Util.applyTransform(R[H],v);T[H+0]=h&&(p.left-C[0])/h,T[H+4]=P&&(p.top-C[1])/P,T[H+8]=h&&(p.right-C[0])/h,T[H+12]=P&&(p.bottom-C[1])/P,T[H+16]=P&&(p.left-C[0])/-P,T[H+20]=h&&(p.top-C[1])/h,T[H+24]=P&&(p.right-C[0])/-P,T[H+28]=h&&(p.bottom-C[1])/h,T[H+32]=h&&(p.left-C[0])/-h,T[H+36]=P&&(p.top-C[1])/-P,T[H+40]=h&&(p.right-C[0])/-h,T[H+44]=P&&(p.bottom-C[1])/-P,T[H+48]=P&&(p.left-C[0])/P,T[H+52]=h&&(p.top-C[1])/-h,T[H+56]=P&&(p.right-C[0])/P,T[H+60]=h&&(p.bottom-C[1])/-h}const B=1+Math.min(Math.abs(h),Math.abs(P));I.paddingLeft=J(T,32,16)/B,I.paddingTop=J(T,48,16)/B,I.paddingRight=J(T,0,16)/B,I.paddingBottom=J(T,16,16)/B,D._textDivProperties.set(m,I)}}(this),this._bounds=null);const M=[],r=[];for(let i=0,m=this._textDivs.length;i<m;i++){const I=this._textDivs[i],p=this._textDivProperties.get(I);!p.hasText||(S?(M.length=0,r.length=0,p.originalTransform&&M.push(p.originalTransform),p.paddingTop>0?(r.push(`${p.paddingTop}px`),M.push(`translateY(${-p.paddingTop}px)`)):r.push(0),r.push(p.paddingRight>0?p.paddingRight/p.scale+"px":0),r.push(p.paddingBottom>0?`${p.paddingBottom}px`:0),p.paddingLeft>0?(r.push(p.paddingLeft/p.scale+"px"),M.push(`translateX(${-p.paddingLeft/p.scale}px)`)):r.push(0),I.style.padding=r.join(" "),M.length&&(I.style.transform=M.join(" "))):(I.style.padding=null,I.style.transform=p.originalTransform))}}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var s=O(1),z=O(5),E=O(3);let e=class{constructor(){(0,s.unreachable)("Not implemented: SVGGraphics")}};o.SVGGraphics=e;{let A=function(r){let i=[];const m=[];for(const I of r)"save"!==I.fn?"restore"===I.fn?i=m.pop():i.push(I):(i.push({fnId:92,fn:"group",items:[]}),m.push(i),i=i[i.length-1].items);return i},y=function(r){if(Number.isInteger(r))return r.toString();const i=r.toFixed(10);let m=i.length-1;if("0"!==i[m])return i;do{m--}while("0"===i[m]);return i.substring(0,"."===i[m]?m:m+1)},N=function(r){if(0===r[4]&&0===r[5]){if(0===r[1]&&0===r[2])return 1===r[0]&&1===r[3]?"":`scale(${y(r[0])} ${y(r[3])})`;if(r[0]===r[3]&&r[1]===-r[2]){const i=180*Math.acos(r[0])/Math.PI;return`rotate(${y(i)})`}}else if(1===r[0]&&0===r[1]&&0===r[2]&&1===r[3])return`translate(${y(r[4])} ${y(r[5])})`;return`matrix(${y(r[0])} ${y(r[1])} ${y(r[2])} ${y(r[3])} ${y(r[4])} ${y(r[5])})`};const Y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},q="http://www.w3.org/XML/1998/namespace",Z="http://www.w3.org/1999/xlink",W=["butt","round","square"],$=["miter","round","bevel"],J=function(r,i="",m=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!m)return URL.createObjectURL(new Blob([r],{type:i}));const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let p=`data:${i};base64,`;for(let w=0,v=r.length;w<v;w+=3){const h=255&r[w],P=255&r[w+1],R=255&r[w+2];p+=I[h>>2]+I[(3&h)<<4|P>>4]+I[w+1<v?(15&P)<<2|R>>6:64]+I[w+2<v?63&R:64]}return p},j=function(){const r=new Uint8Array([137,80,78,71,13,10,26,10]),m=new Int32Array(256);for(let R=0;R<256;R++){let T=R;for(let B=0;B<8;B++)T=1&T?3988292384^T>>1&2147483647:T>>1&2147483647;m[R]=T}function p(R,T,B,H){let X=H;const C=T.length;B[X]=C>>24&255,B[X+1]=C>>16&255,B[X+2]=C>>8&255,B[X+3]=255&C,X+=4,B[X]=255&R.charCodeAt(0),B[X+1]=255&R.charCodeAt(1),B[X+2]=255&R.charCodeAt(2),B[X+3]=255&R.charCodeAt(3),X+=4,B.set(T,X),X+=T.length;const c=function I(R,T,B){let H=-1;for(let X=T;X<B;X++)H=H>>>8^m[255&(H^R[X])];return-1^H}(B,H+4,X);B[X]=c>>24&255,B[X+1]=c>>16&255,B[X+2]=c>>8&255,B[X+3]=255&c}function h(R){let T=R.length;const B=65535,H=Math.ceil(T/B),X=new Uint8Array(2+T+5*H+4);let C=0;X[C++]=120,X[C++]=156;let c=0;for(;T>B;)X[C++]=0,X[C++]=255,X[C++]=255,X[C++]=0,X[C++]=0,X.set(R.subarray(c,c+B),C),C+=B,c+=B,T-=B;X[C++]=1,X[C++]=255&T,X[C++]=T>>8&255,X[C++]=255&~T,X[C++]=(65535&~T)>>8&255,X.set(R.subarray(c),C),C+=R.length-c;const a=function w(R,T,B){let H=1,X=0;for(let C=T;C<B;++C)H=(H+(255&R[C]))%65521,X=(X+H)%65521;return X<<16|H}(R,0,R.length);return X[C++]=a>>24&255,X[C++]=a>>16&255,X[C++]=a>>8&255,X[C++]=255&a,X}return function(T,B,H){return function P(R,T,B,H){const X=R.width,C=R.height;let c,a,b;const u=R.data;switch(T){case s.ImageKind.GRAYSCALE_1BPP:a=0,c=1,b=X+7>>3;break;case s.ImageKind.RGB_24BPP:a=2,c=8,b=3*X;break;case s.ImageKind.RGBA_32BPP:a=6,c=8,b=4*X;break;default:throw new Error("invalid format")}const n=new Uint8Array((1+b)*C);let l=0,g=0;for(let ee=0;ee<C;++ee)n[l++]=0,n.set(u.subarray(g,g+b),l),g+=b,l+=b;if(T===s.ImageKind.GRAYSCALE_1BPP&&H){l=0;for(let ee=0;ee<C;ee++){l++;for(let ie=0;ie<b;ie++)n[l++]^=255}}const F=new Uint8Array([X>>24&255,X>>16&255,X>>8&255,255&X,C>>24&255,C>>16&255,C>>8&255,255&C,c,a,0,0,0]),x=function v(R){if(!E.isNodeJS)return h(R);try{let T;T=parseInt(process.versions.node)>=8?R:Buffer.from(R);const B=__webpack_require__(2258).deflateSync(T,{level:9});return B instanceof Uint8Array?B:new Uint8Array(B)}catch(T){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+T)}return h(R)}(n),Q=new Uint8Array(r.length+36+F.length+x.length);let te=0;return Q.set(r,te),te+=r.length,p("IHDR",F,Q,te),te+=12+F.length,p("IDATA",x,Q,te),te+=12+x.length,p("IEND",new Uint8Array(0),Q,te),J(Q,"image/png",B)}(T,void 0===T.kind?s.ImageKind.GRAYSCALE_1BPP:T.kind,B,H)}}();class G{constructor(){this.fontSizeScale=1,this.fontWeight=Y.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,m){this.x=i,this.y=m}}let D=0,S=0,M=0;o.SVGGraphics=e=class{constructor(r,i,m=!1){this.svgFactory=new z.DOMSVGFactory,this.current=new G,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=r,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!m,this._operatorIdMapping=[];for(const I in s.OPS)this._operatorIdMapping[s.OPS[I]]=I}save(){this.transformStack.push(this.transformMatrix);const r=this.current;this.extraStack.push(r),this.current=r.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(r){this.save(),this.executeOpTree(r),this.restore()}loadDependencies(r){const i=r.fnArray,m=r.argsArray;for(let I=0,p=i.length;I<p;I++)if(i[I]===s.OPS.dependency)for(const w of m[I]){const v=w.startsWith("g_")?this.commonObjs:this.objs,h=new Promise(P=>{v.get(w,P)});this.current.dependencies.push(h)}return Promise.all(this.current.dependencies)}transform(r,i,m,I,p,w){this.transformMatrix=s.Util.transform(this.transformMatrix,[r,i,m,I,p,w]),this.tgrp=null}getSVG(r,i){this.viewport=i;const m=this._initialize(i);return this.loadDependencies(r).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(r)),m))}convertOpList(r){const i=this._operatorIdMapping,m=r.argsArray,I=r.fnArray,p=[];for(let w=0,v=I.length;w<v;w++){const h=I[w];p.push({fnId:h,fn:i[h],args:m[w]})}return A(p)}executeOpTree(r){for(const i of r){const m=i.fn,p=i.args;switch(0|i.fnId){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(p);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(p[0],p[1]);break;case s.OPS.setFont:this.setFont(p);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(p[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(p[0],p[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(p[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(p[0]);break;case s.OPS.setHScale:this.setHScale(p[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(p[0],p[1],p[2],p[3],p[4],p[5]);break;case s.OPS.setTextRise:this.setTextRise(p[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(p[0]);break;case s.OPS.setLineWidth:this.setLineWidth(p[0]);break;case s.OPS.setLineJoin:this.setLineJoin(p[0]);break;case s.OPS.setLineCap:this.setLineCap(p[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(p[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(p[0],p[1],p[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(p[0],p[1],p[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(p);break;case s.OPS.setFillColorN:this.setFillColorN(p);break;case s.OPS.shadingFill:this.shadingFill(p[0]);break;case s.OPS.setDash:this.setDash(p[0],p[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(p[0]);break;case s.OPS.setFlatness:this.setFlatness(p[0]);break;case s.OPS.setGState:this.setGState(p[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(p[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(p[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(p[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(p[0],p[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(p[0],p[1],p[2],p[3],p[4],p[5]);break;case s.OPS.constructPath:this.constructPath(p[0],p[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,s.warn)(`Unimplemented operator ${m}`)}}}setWordSpacing(r){this.current.wordSpacing=r}setCharSpacing(r){this.current.charSpacing=r}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(r,i,m,I,p,w){const v=this.current;v.textMatrix=v.lineMatrix=[r,i,m,I,p,w],v.textMatrixScale=Math.hypot(r,i),v.x=v.lineX=0,v.y=v.lineY=0,v.xcoords=[],v.ycoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${y(v.fontSize)}px`),v.tspan.setAttributeNS(null,"y",y(-v.y)),v.txtElement=this.svgFactory.createElement("svg:text"),v.txtElement.appendChild(v.tspan)}beginText(){const r=this.current;r.x=r.lineX=0,r.y=r.lineY=0,r.textMatrix=s.IDENTITY_MATRIX,r.lineMatrix=s.IDENTITY_MATRIX,r.textMatrixScale=1,r.tspan=this.svgFactory.createElement("svg:tspan"),r.txtElement=this.svgFactory.createElement("svg:text"),r.txtgrp=this.svgFactory.createElement("svg:g"),r.xcoords=[],r.ycoords=[]}moveText(r,i){const m=this.current;m.x=m.lineX+=r,m.y=m.lineY+=i,m.xcoords=[],m.ycoords=[],m.tspan=this.svgFactory.createElement("svg:tspan"),m.tspan.setAttributeNS(null,"font-family",m.fontFamily),m.tspan.setAttributeNS(null,"font-size",`${y(m.fontSize)}px`),m.tspan.setAttributeNS(null,"y",y(-m.y))}showText(r){const i=this.current,m=i.font,I=i.fontSize;if(0===I)return;const p=i.fontSizeScale,w=i.charSpacing,v=i.wordSpacing,h=i.fontDirection,P=i.textHScale*h,R=m.vertical,T=R?1:-1,B=m.defaultVMetrics,H=I*i.fontMatrix[0];let X=0;for(const a of r){if(null===a){X+=h*v;continue}if("number"==typeof a){X+=T*a*I/1e3;continue}const b=(a.isSpace?v:0)+w,u=a.fontChar;let n,l,F,g=a.width;if(R){let x;const f=a.vmetric||B;x=a.vmetric?f[1]:.5*g,x=-x*H,g=f?-f[0]:g,n=x/p,l=(X+f[2]*H)/p}else n=X/p,l=0;(a.isInFont||m.missingFile)&&(i.xcoords.push(i.x+n),R&&i.ycoords.push(-i.y+l),i.tspan.textContent+=u),F=R?g*H-b*h:g*H+b*h,X+=F}i.tspan.setAttributeNS(null,"x",i.xcoords.map(y).join(" ")),i.tspan.setAttributeNS(null,"y",R?i.ycoords.map(y).join(" "):y(-i.y)),R?i.y-=X:i.x+=X*P,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${y(i.fontSize)}px`),i.fontStyle!==Y.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==Y.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const C=i.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;C===s.TextRenderingMode.FILL||C===s.TextRenderingMode.FILL_STROKE?(i.fillColor!==Y.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(C===s.TextRenderingMode.STROKE||C===s.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let c=i.textMatrix;0!==i.textRise&&(c=c.slice(),c[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${N(c)} scale(${y(P)}, -1)`),i.txtElement.setAttributeNS(q,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(r,i){this.setLeading(-i),this.moveText(r,i)}addFontStyle(r){if(!r.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=J(r.data,r.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${r.loadedName}"; src: url(${i}); }\n`}setFont(r){const i=this.current,m=this.commonObjs.get(r[0]);let I=r[1];i.font=m,this.embedFonts&&!m.missingFile&&!this.embeddedFonts[m.loadedName]&&(this.addFontStyle(m),this.embeddedFonts[m.loadedName]=m),i.fontMatrix=m.fontMatrix||s.FONT_IDENTITY_MATRIX;let p="normal";m.black?p="900":m.bold&&(p="bold");const w=m.italic?"italic":"normal";I<0?(I=-I,i.fontDirection=-1):i.fontDirection=1,i.fontSize=I,i.fontFamily=m.loadedName,i.fontWeight=p,i.fontStyle=w,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",y(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){const r=this.current;r.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&r.txtElement?.hasChildNodes()&&(r.element=r.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(r){r>0&&(this.current.lineWidth=r)}setLineCap(r){this.current.lineCap=W[r]}setLineJoin(r){this.current.lineJoin=$[r]}setMiterLimit(r){this.current.miterLimit=r}setStrokeAlpha(r){this.current.strokeAlpha=r}setStrokeRGBColor(r,i,m){this.current.strokeColor=s.Util.makeHexColor(r,i,m)}setFillAlpha(r){this.current.fillAlpha=r}setFillRGBColor(r,i,m){this.current.fillColor=s.Util.makeHexColor(r,i,m),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(r){this.current.strokeColor=this._makeColorN_Pattern(r)}setFillColorN(r){this.current.fillColor=this._makeColorN_Pattern(r)}shadingFill(r){const i=this.viewport.width,m=this.viewport.height,I=s.Util.inverseTransform(this.transformMatrix),p=s.Util.applyTransform([0,0],I),w=s.Util.applyTransform([0,m],I),v=s.Util.applyTransform([i,0],I),h=s.Util.applyTransform([i,m],I),P=Math.min(p[0],w[0],v[0],h[0]),R=Math.min(p[1],w[1],v[1],h[1]),T=Math.max(p[0],w[0],v[0],h[0]),B=Math.max(p[1],w[1],v[1],h[1]),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x",P),H.setAttributeNS(null,"y",R),H.setAttributeNS(null,"width",T-P),H.setAttributeNS(null,"height",B-R),H.setAttributeNS(null,"fill",this._makeShadingPattern(r)),this.current.fillAlpha<1&&H.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(H)}_makeColorN_Pattern(r){return"TilingPattern"===r[0]?this._makeTilingPattern(r):this._makeShadingPattern(r)}_makeTilingPattern(r){const i=r[1],m=r[2],I=r[3]||s.IDENTITY_MATRIX,[p,w,v,h]=r[4],P=r[5],R=r[6],T=r[7],B="shading"+M++,[H,X,C,c]=s.Util.normalizeRect([...s.Util.applyTransform([p,w],I),...s.Util.applyTransform([v,h],I)]),[a,b]=s.Util.singularValueDecompose2dScale(I),u=P*a,n=R*b,l=this.svgFactory.createElement("svg:pattern");l.setAttributeNS(null,"id",B),l.setAttributeNS(null,"patternUnits","userSpaceOnUse"),l.setAttributeNS(null,"width",u),l.setAttributeNS(null,"height",n),l.setAttributeNS(null,"x",`${H}`),l.setAttributeNS(null,"y",`${X}`);const g=this.svg,F=this.transformMatrix,x=this.current.fillColor,f=this.current.strokeColor,Q=this.svgFactory.create(C-H,c-X);if(this.svg=Q,this.transformMatrix=I,2===T){const te=s.Util.makeHexColor(...i);this.current.fillColor=te,this.current.strokeColor=te}return this.executeOpTree(this.convertOpList(m)),this.svg=g,this.transformMatrix=F,this.current.fillColor=x,this.current.strokeColor=f,l.appendChild(Q.childNodes[0]),this.defs.appendChild(l),`url(#${B})`}_makeShadingPattern(r){switch("string"==typeof r&&(r=this.objs.get(r)),r[0]){case"RadialAxial":const i="shading"+M++,m=r[3];let I;switch(r[1]){case"axial":const p=r[4],w=r[5];I=this.svgFactory.createElement("svg:linearGradient"),I.setAttributeNS(null,"id",i),I.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),I.setAttributeNS(null,"x1",p[0]),I.setAttributeNS(null,"y1",p[1]),I.setAttributeNS(null,"x2",w[0]),I.setAttributeNS(null,"y2",w[1]);break;case"radial":const v=r[4],h=r[5],P=r[6],R=r[7];I=this.svgFactory.createElement("svg:radialGradient"),I.setAttributeNS(null,"id",i),I.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),I.setAttributeNS(null,"cx",h[0]),I.setAttributeNS(null,"cy",h[1]),I.setAttributeNS(null,"r",R),I.setAttributeNS(null,"fx",v[0]),I.setAttributeNS(null,"fy",v[1]),I.setAttributeNS(null,"fr",P);break;default:throw new Error(`Unknown RadialAxial type: ${r[1]}`)}for(const p of m){const w=this.svgFactory.createElement("svg:stop");w.setAttributeNS(null,"offset",p[0]),w.setAttributeNS(null,"stop-color",p[1]),I.appendChild(w)}return this.defs.appendChild(I),`url(#${i})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${r[0]}`)}}setDash(r,i){this.current.dashArray=r,this.current.dashPhase=i}constructPath(r,i){const m=this.current;let I=m.x,p=m.y,w=[],v=0;for(const h of r)switch(0|h){case s.OPS.rectangle:I=i[v++],p=i[v++];const T=I+i[v++],B=p+i[v++];w.push("M",y(I),y(p),"L",y(T),y(p),"L",y(T),y(B),"L",y(I),y(B),"Z");break;case s.OPS.moveTo:I=i[v++],p=i[v++],w.push("M",y(I),y(p));break;case s.OPS.lineTo:I=i[v++],p=i[v++],w.push("L",y(I),y(p));break;case s.OPS.curveTo:I=i[v+4],p=i[v+5],w.push("C",y(i[v]),y(i[v+1]),y(i[v+2]),y(i[v+3]),y(I),y(p)),v+=6;break;case s.OPS.curveTo2:w.push("C",y(I),y(p),y(i[v]),y(i[v+1]),y(i[v+2]),y(i[v+3])),I=i[v+2],p=i[v+3],v+=4;break;case s.OPS.curveTo3:I=i[v+2],p=i[v+3],w.push("C",y(i[v]),y(i[v+1]),y(I),y(p),y(I),y(p)),v+=4;break;case s.OPS.closePath:w.push("Z")}w=w.join(" "),m.path&&r.length>0&&r[0]!==s.OPS.rectangle&&r[0]!==s.OPS.moveTo?w=m.path.getAttributeNS(null,"d")+w:(m.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(m.path)),m.path.setAttributeNS(null,"d",w),m.path.setAttributeNS(null,"fill","none"),m.element=m.path,m.setCurrentPoint(I,p)}endPath(){const r=this.current;if(r.path=null,!this.pendingClip)return;if(!r.element)return void(this.pendingClip=null);const i="clippath"+D++,m=this.svgFactory.createElement("svg:clipPath");m.setAttributeNS(null,"id",i),m.setAttributeNS(null,"transform",N(this.transformMatrix));const I=r.element.cloneNode(!0);if(I.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,m.appendChild(I),this.defs.appendChild(m),r.activeClipUrl){r.clipGroup=null;for(const p of this.extraStack)p.clipGroup=null;m.setAttributeNS(null,"clip-path",r.activeClipUrl)}r.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(r){this.pendingClip=r}closePath(){const r=this.current;if(r.path){const i=`${r.path.getAttributeNS(null,"d")}Z`;r.path.setAttributeNS(null,"d",i)}}setLeading(r){this.current.leading=-r}setTextRise(r){this.current.textRise=r}setTextRenderingMode(r){this.current.textRenderingMode=r}setHScale(r){this.current.textHScale=r/100}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(const[i,m]of r)switch(i){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m);break;case"CA":this.setStrokeAlpha(m);break;case"ca":this.setFillAlpha(m);break;default:(0,s.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const r=this.current;r.element&&(r.element.setAttributeNS(null,"fill",r.fillColor),r.element.setAttributeNS(null,"fill-opacity",r.fillAlpha),this.endPath())}stroke(){const r=this.current;r.element&&(this._setStrokeAttributes(r.element),r.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(r,i=1){const m=this.current;let I=m.dashArray;1!==i&&I.length>0&&(I=I.map(function(p){return i*p})),r.setAttributeNS(null,"stroke",m.strokeColor),r.setAttributeNS(null,"stroke-opacity",m.strokeAlpha),r.setAttributeNS(null,"stroke-miterlimit",y(m.miterLimit)),r.setAttributeNS(null,"stroke-linecap",m.lineCap),r.setAttributeNS(null,"stroke-linejoin",m.lineJoin),r.setAttributeNS(null,"stroke-width",y(i*m.lineWidth)+"px"),r.setAttributeNS(null,"stroke-dasharray",I.map(y).join(" ")),r.setAttributeNS(null,"stroke-dashoffset",y(i*m.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y","0"),r.setAttributeNS(null,"width","1px"),r.setAttributeNS(null,"height","1px"),r.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(r)}paintImageXObject(r){const i=r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r);i?this.paintInlineImageXObject(i):(0,s.warn)(`Dependent image with object ID ${r} is not ready yet`)}paintInlineImageXObject(r,i){const m=r.width,I=r.height,p=j(r,this.forceDataSchema,!!i),w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width",y(m)),w.setAttributeNS(null,"height",y(I)),this.current.element=w,this.clip("nonzero");const v=this.svgFactory.createElement("svg:image");v.setAttributeNS(Z,"xlink:href",p),v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y",y(-I)),v.setAttributeNS(null,"width",y(m)+"px"),v.setAttributeNS(null,"height",y(I)+"px"),v.setAttributeNS(null,"transform",`scale(${y(1/m)} ${y(-1/I)})`),i?i.appendChild(v):this._ensureTransformGroup().appendChild(v)}paintImageMaskXObject(r){const i=this.current,m=r.width,I=r.height,p=i.fillColor;i.maskId="mask"+S++;const w=this.svgFactory.createElement("svg:mask");w.setAttributeNS(null,"id",i.maskId);const v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y","0"),v.setAttributeNS(null,"width",y(m)),v.setAttributeNS(null,"height",y(I)),v.setAttributeNS(null,"fill",p),v.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(w),this._ensureTransformGroup().appendChild(v),this.paintInlineImageXObject(r,w)}paintFormXObjectBegin(r,i){if(Array.isArray(r)&&6===r.length&&this.transform(r[0],r[1],r[2],r[3],r[4],r[5]),i){const m=i[2]-i[0],I=i[3]-i[1],p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",i[0]),p.setAttributeNS(null,"y",i[1]),p.setAttributeNS(null,"width",y(m)),p.setAttributeNS(null,"height",y(I)),this.current.element=p,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(r){const i=this.svgFactory.create(r.width,r.height),m=this.svgFactory.createElement("svg:defs");i.appendChild(m),this.defs=m;const I=this.svgFactory.createElement("svg:g");return I.setAttributeNS(null,"transform",N(r.transform)),i.appendChild(I),this.svg=I,i}_ensureClipGroup(){if(!this.current.clipGroup){const r=this.svgFactory.createElement("svg:g");r.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(r),this.current.clipGroup=r}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",N(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var s=O(1),z=O(24);const E=__webpack_require__(172),e=__webpack_require__(2001),Y=__webpack_require__(3779),q=__webpack_require__(6558),Z=/^file:\/\/\/[a-zA-Z]:\//;o.PDFNodeStream=class ${constructor(M){this.source=M,this.url=function W(S){const M=q.parse(S);return"file:"===M.protocol||M.host?M:/^[a-z]:[/\\]/i.test(S)?q.parse(`file:///${S}`):(M.host||(M.protocol="file:"),M)}(M.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&M.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new N(this):new A(this),this._fullRequestReader}getRangeReader(M,r){if(r<=this._progressiveDataLength)return null;const i=this.isFsUrl?new D(this,M,r):new y(this,M,r);return this._rangeRequestReaders.push(i),i}cancelAllRequests(M){this._fullRequestReader&&this._fullRequestReader.cancel(M);for(const r of this._rangeRequestReaders.slice(0))r.cancel(M)}};class J{constructor(M){this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=M.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var M=this;return _asyncToGenerator(function*(){if(yield M._readCapability.promise,M._done)return{value:void 0,done:!0};if(M._storedError)throw M._storedError;const r=M._readableStream.read();return null===r?(M._readCapability=(0,s.createPromiseCapability)(),M.read()):(M._loaded+=r.length,M.onProgress&&M.onProgress({loaded:M._loaded,total:M._contentLength}),{value:new Uint8Array(r).buffer,done:!1})})()}cancel(M){this._readableStream?this._readableStream.destroy(M):this._error(M)}_error(M){this._storedError=M,this._readCapability.resolve()}_setReadableStream(M){this._readableStream=M,M.on("readable",()=>{this._readCapability.resolve()}),M.on("end",()=>{M.destroy(),this._done=!0,this._readCapability.resolve()}),M.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class j{constructor(M){this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!M.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var M=this;return _asyncToGenerator(function*(){if(yield M._readCapability.promise,M._done)return{value:void 0,done:!0};if(M._storedError)throw M._storedError;const r=M._readableStream.read();return null===r?(M._readCapability=(0,s.createPromiseCapability)(),M.read()):(M._loaded+=r.length,M.onProgress&&M.onProgress({loaded:M._loaded}),{value:new Uint8Array(r).buffer,done:!1})})()}cancel(M){this._readableStream?this._readableStream.destroy(M):this._error(M)}_error(M){this._storedError=M,this._readCapability.resolve()}_setReadableStream(M){this._readableStream=M,M.on("readable",()=>{this._readCapability.resolve()}),M.on("end",()=>{M.destroy(),this._done=!0,this._readCapability.resolve()}),M.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function G(S,M){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:M}}class A extends J{constructor(M){super(M);const r=i=>{if(404===i.statusCode){const w=new s.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=w,void this._headersCapability.reject(w)}this._headersCapability.resolve(),this._setReadableStream(i);const m=w=>this._readableStream.headers[w.toLowerCase()],{allowRangeRequests:I,suggestedLength:p}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:M.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=I,this._contentLength=p||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(m)};this._request=null,this._request="http:"===this._url.protocol?e.request(G(this._url,M.httpHeaders),r):Y.request(G(this._url,M.httpHeaders),r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class y extends j{constructor(M,r,i){super(M),this._httpHeaders={};for(const I in M.httpHeaders){const p=M.httpHeaders[I];typeof p>"u"||(this._httpHeaders[I]=p)}this._httpHeaders.Range=`bytes=${r}-${i-1}`;const m=I=>{if(404!==I.statusCode)this._setReadableStream(I);else{const p=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=p}};this._request=null,this._request="http:"===this._url.protocol?e.request(G(this._url,this._httpHeaders),m):Y.request(G(this._url,this._httpHeaders),m),this._request.on("error",I=>{this._storedError=I}),this._request.end()}}class N extends J{constructor(M){super(M);let r=decodeURIComponent(this._url.path);Z.test(this._url.href)&&(r=r.replace(/^\//,"")),E.lstat(r,(i,m)=>{if(i)return"ENOENT"===i.code&&(i=new s.MissingPDFException(`Missing PDF "${r}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=m.size,this._setReadableStream(E.createReadStream(r)),this._headersCapability.resolve()})}}class D extends j{constructor(M,r,i){super(M);let m=decodeURIComponent(this._url.path);Z.test(this._url.href)&&(m=m.replace(/^\//,"")),this._setReadableStream(E.createReadStream(m,{start:r,end:i-1}))}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=function q(W,$){return 404===W||0===W&&$.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+$+'".'):new s.UnexpectedResponseException(`Unexpected server response (${W}) while retrieving PDF "${$}".`,W)},o.extractFilenameFromHeader=function Y(W){const $=W("Content-Disposition");if($){let J=(0,z.getFilenameFromContentDispositionHeader)($);if(J.includes("%"))try{J=decodeURIComponent(J)}catch{}if((0,E.isPdfFile)(J))return J}return null},o.validateRangeRequestCapabilities=function e({getResponseHeader:W,isHttp:$,rangeChunkSize:J,disableRange:j}){(0,s.assert)(J>0,"Range chunk size must be larger than zero");const G={allowRangeRequests:!1,suggestedLength:void 0},A=parseInt(W("Content-Length"),10);return!Number.isInteger(A)||(G.suggestedLength=A,A<=2*J)||j||!$||"bytes"!==W("Accept-Ranges")||"identity"!==(W("Content-Encoding")||"identity")||(G.allowRangeRequests=!0),G},o.validateResponseStatus=function Z(W){return 200===W||206===W};var s=O(1),z=O(25),E=O(5)},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=function z(E){let e=!0,Y=q("filename\\*","i").exec(E);if(Y){Y=Y[1];let A=J(Y);return A=unescape(A),A=j(A),A=G(A),W(A)}if(Y=function $(A){const y=[];let N;const D=q("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(N=D.exec(A));){let[,M,r,i]=N;if(M=parseInt(M,10),M in y){if(0===M)break}else y[M]=[r,i]}const S=[];for(let M=0;M<y.length&&M in y;++M){let[r,i]=y[M];i=J(i),r&&(i=unescape(i),0===M&&(i=j(i))),S.push(i)}return S.join("")}(E),Y)return W(G(Y));if(Y=q("filename","i").exec(E),Y){Y=Y[1];let A=J(Y);return A=G(A),W(A)}function q(A,y){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function Z(A,y){if(A){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const N=new TextDecoder(A,{fatal:!0}),D=(0,s.stringToBytes)(y);y=N.decode(D),e=!1}catch{}}return y}function W(A){return e&&/[\x80-\xff]/.test(A)&&(A=Z("utf-8",A),e&&(A=Z("iso-8859-1",A))),A}function J(A){if(A.startsWith('"')){const y=A.slice(1).split('\\"');for(let N=0;N<y.length;++N){const D=y[N].indexOf('"');-1!==D&&(y[N]=y[N].slice(0,D),y.length=N+1),y[N]=y[N].replace(/\\(.)/g,"$1")}A=y.join('"')}return A}function j(A){const y=A.indexOf("'");return-1===y?A:Z(A.slice(0,y),A.slice(y+1).replace(/^[^']*'/,""))}function G(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,N,D,S){if("q"===D||"Q"===D)return Z(N,S=(S=S.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(M,r){return String.fromCharCode(parseInt(r,16))}));try{S=atob(S)}catch{}return Z(N,S)})}return""};var s=O(1)},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var s=O(1),z=O(24);class q{constructor(j,G={}){this.url=j,this.isHttp=/^https?:/i.test(j),this.httpHeaders=this.isHttp&&G.httpHeaders||Object.create(null),this.withCredentials=G.withCredentials||!1,this.getXhr=G.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(j,G,A){const y={begin:j,end:G};for(const N in A)y[N]=A[N];return this.request(y)}requestFull(j){return this.request(j)}request(j){const G=this.getXhr(),A=this.currXhrId++,y=this.pendingRequests[A]={xhr:G};G.open("GET",this.url),G.withCredentials=this.withCredentials;for(const N in this.httpHeaders){const D=this.httpHeaders[N];typeof D>"u"||G.setRequestHeader(N,D)}return this.isHttp&&"begin"in j&&"end"in j?(G.setRequestHeader("Range",`bytes=${j.begin}-${j.end-1}`),y.expectedStatus=206):y.expectedStatus=200,G.responseType="arraybuffer",j.onError&&(G.onerror=function(N){j.onError(G.status)}),G.onreadystatechange=this.onStateChange.bind(this,A),G.onprogress=this.onProgress.bind(this,A),y.onHeadersReceived=j.onHeadersReceived,y.onDone=j.onDone,y.onError=j.onError,y.onProgress=j.onProgress,G.send(null),A}onProgress(j,G){const A=this.pendingRequests[j];!A||A.onProgress?.(G)}onStateChange(j,G){const A=this.pendingRequests[j];if(!A)return;const y=A.xhr;if(y.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),4!==y.readyState||!(j in this.pendingRequests))return;if(delete this.pendingRequests[j],0===y.status&&this.isHttp)return void A.onError?.(y.status);const N=y.status||200;if((200!==N||206!==A.expectedStatus)&&N!==A.expectedStatus)return void A.onError?.(y.status);const S=function Y(J){const j=J.response;return"string"!=typeof j?j:(0,s.stringToBytes)(j).buffer}(y);if(206===N){const M=y.getResponseHeader("Content-Range"),r=/bytes (\d+)-(\d+)\/(\d+)/.exec(M);A.onDone({begin:parseInt(r[1],10),chunk:S})}else S?A.onDone({begin:0,chunk:S}):A.onError?.(y.status)}getRequestXhr(j){return this.pendingRequests[j].xhr}isPendingRequest(j){return j in this.pendingRequests}abortRequest(j){const G=this.pendingRequests[j].xhr;delete this.pendingRequests[j],G.abort()}}o.PDFNetworkStream=class Z{constructor(j){this._source=j,this._manager=new q(j.url,{httpHeaders:j.httpHeaders,withCredentials:j.withCredentials}),this._rangeChunkSize=j.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(j){const G=this._rangeRequestReaders.indexOf(j);G>=0&&this._rangeRequestReaders.splice(G,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new W(this._manager,this._source),this._fullRequestReader}getRangeReader(j,G){const A=new $(this._manager,j,G);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}cancelAllRequests(j){this._fullRequestReader?.cancel(j);for(const G of this._rangeRequestReaders.slice(0))G.cancel(j)}};class W{constructor(j,G){this._manager=j;const A={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=G.url,this._fullRequestId=j.requestFull(A),this._headersReceivedCapability=(0,s.createPromiseCapability)(),this._disableRange=G.disableRange||!1,this._contentLength=G.length,this._rangeChunkSize=G.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const j=this._fullRequestId,G=this._manager.getRequestXhr(j),A=D=>G.getResponseHeader(D),{allowRangeRequests:y,suggestedLength:N}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});y&&(this._isRangeSupported=!0),this._contentLength=N||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(A),this._isRangeSupported&&this._manager.abortRequest(j),this._headersReceivedCapability.resolve()}_onDone(j){if(j&&(this._requests.length>0?this._requests.shift().resolve({value:j.chunk,done:!1}):this._cachedChunks.push(j.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(j){this._storedError=(0,z.createResponseStatusError)(j,this._url),this._headersReceivedCapability.reject(this._storedError);for(const G of this._requests)G.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(j){this.onProgress?.({loaded:j.loaded,total:j.lengthComputable?j.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var j=this;return _asyncToGenerator(function*(){if(j._storedError)throw j._storedError;if(j._cachedChunks.length>0)return{value:j._cachedChunks.shift(),done:!1};if(j._done)return{value:void 0,done:!0};const G=(0,s.createPromiseCapability)();return j._requests.push(G),G.promise})()}cancel(j){this._done=!0,this._headersReceivedCapability.reject(j);for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ${constructor(j,G,A){this._manager=j;const y={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=j.url,this._requestId=j.requestRange(G,A,y),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(j){const G=j.chunk;this._requests.length>0?this._requests.shift().resolve({value:G,done:!1}):this._queuedChunk=G,this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(j){this._storedError=(0,z.createResponseStatusError)(j,this._url);for(const G of this._requests)G.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(j){this.isStreamingSupported||this.onProgress?.({loaded:j.loaded})}get isStreamingSupported(){return!1}read(){var j=this;return _asyncToGenerator(function*(){if(j._storedError)throw j._storedError;if(null!==j._queuedChunk){const A=j._queuedChunk;return j._queuedChunk=null,{value:A,done:!1}}if(j._done)return{value:void 0,done:!0};const G=(0,s.createPromiseCapability)();return j._requests.push(G),G.promise})()}cancel(j){this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ne,o,O)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var s=O(1),z=O(24);function E(W,$,J){return{method:"GET",headers:W,signal:J?.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function e(W){const $=new Headers;for(const J in W){const j=W[J];typeof j>"u"||$.append(J,j)}return $}o.PDFFetchStream=class Y{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new q(this),this._fullRequestReader}getRangeReader($,J){if(J<=this._progressiveDataLength)return null;const j=new Z(this,$,J);return this._rangeRequestReaders.push(j),j}cancelAllRequests($){this._fullRequestReader&&this._fullRequestReader.cancel($);for(const J of this._rangeRequestReaders.slice(0))J.cancel($)}};class q{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const J=$.source;this._withCredentials=J.withCredentials||!1,this._contentLength=J.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=J.disableRange||!1,this._rangeChunkSize=J.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!J.disableStream,this._isRangeSupported=!J.disableRange,this._headers=e(this._stream.httpHeaders);const j=J.url;fetch(j,E(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,z.validateResponseStatus)(G.status))throw(0,z.createResponseStatusError)(G.status,j);this._reader=G.body.getReader(),this._headersCapability.resolve();const A=D=>G.headers.get(D),{allowRangeRequests:y,suggestedLength:N}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=N||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(A),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var $=this;return _asyncToGenerator(function*(){yield $._headersCapability.promise;const{value:J,done:j}=yield $._reader.read();return j?{value:J,done:j}:($._loaded+=J.byteLength,$.onProgress&&$.onProgress({loaded:$._loaded,total:$._contentLength}),{value:new Uint8Array(J).buffer,done:!1})})()}cancel($){this._reader&&this._reader.cancel($),this._abortController&&this._abortController.abort()}}class Z{constructor($,J,j){this._stream=$,this._reader=null,this._loaded=0;const G=$.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${J}-${j-1}`);const A=G.url;fetch(A,E(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,z.validateResponseStatus)(y.status))throw(0,z.createResponseStatusError)(y.status,A);this._readCapability.resolve(),this._reader=y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var $=this;return _asyncToGenerator(function*(){yield $._readCapability.promise;const{value:J,done:j}=yield $._reader.read();return j?{value:J,done:j}:($._loaded+=J.byteLength,$.onProgress&&$.onProgress({loaded:$._loaded}),{value:new Uint8Array(J).buffer,done:!1})})()}cancel($){this._reader&&this._reader.cancel($),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ne){var o=__webpack_module_cache__[ne];if(void 0!==o)return o.exports;var O=__webpack_module_cache__[ne]={exports:{}};return __webpack_modules__[ne](O,O.exports,__w_pdfjs_require__),O.exports}var __webpack_exports__={};return(()=>{var ne=__webpack_exports__;Object.defineProperty(ne,"__esModule",{value:!0}),Object.defineProperty(ne,"AnnotationLayer",{enumerable:!0,get:function(){return z.AnnotationLayer}}),Object.defineProperty(ne,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(ne,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(ne,"GlobalWorkerOptions",{enumerable:!0,get:function(){return E.GlobalWorkerOptions}}),Object.defineProperty(ne,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(ne,"LoopbackPort",{enumerable:!0,get:function(){return O.LoopbackPort}}),Object.defineProperty(ne,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(ne,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(ne,"PDFDataRangeTransport",{enumerable:!0,get:function(){return O.PDFDataRangeTransport}}),Object.defineProperty(ne,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(ne,"PDFWorker",{enumerable:!0,get:function(){return O.PDFWorker}}),Object.defineProperty(ne,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(ne,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(ne,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(ne,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(ne,"SVGGraphics",{enumerable:!0,get:function(){return q.SVGGraphics}}),Object.defineProperty(ne,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(ne,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(ne,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(ne,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(ne,"XfaLayer",{enumerable:!0,get:function(){return Z.XfaLayer}}),Object.defineProperty(ne,"build",{enumerable:!0,get:function(){return O.build}}),Object.defineProperty(ne,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(ne,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(ne,"getDocument",{enumerable:!0,get:function(){return O.getDocument}}),Object.defineProperty(ne,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(ne,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(ne,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(ne,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(ne,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(ne,"renderTextLayer",{enumerable:!0,get:function(){return Y.renderTextLayer}}),Object.defineProperty(ne,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(ne,"version",{enumerable:!0,get:function(){return O.version}});var o=__w_pdfjs_require__(1),O=__w_pdfjs_require__(4),s=__w_pdfjs_require__(5),z=__w_pdfjs_require__(18),E=__w_pdfjs_require__(12),e=__w_pdfjs_require__(3),Y=__w_pdfjs_require__(21),q=__w_pdfjs_require__(22),Z=__w_pdfjs_require__(20);if(e.isNodeJS){const{PDFNodeStream:J}=__w_pdfjs_require__(23);(0,O.setPDFNetworkStreamFactory)(j=>new J(j))}else{const{PDFNetworkStream:J}=__w_pdfjs_require__(26),{PDFFetchStream:j}=__w_pdfjs_require__(27);(0,O.setPDFNetworkStreamFactory)(G=>(0,s.isValidFetchUrl)(G.url)?new j(G):new J(G))}})(),__webpack_exports__})()},module.exports=O()},2813:function(ne,o,O){var s=O(5962).default,z=O(3448).default,E=O(3606).default,e=O(9393).default,Y=O(4877).default,q=O(1226).default,Z=O(8926).default;ne.exports=(()=>{"use strict";var W=[,(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.DefaultXfaLayerFactory=A.DefaultTextLayerFactory=A.DefaultStructTreeLayerFactory=A.DefaultAnnotationLayerFactory=void 0;var N=y(2),D=y(4),S=y(5),M=y(7),r=y(8),i=y(9);A.DefaultAnnotationLayerFactory=class m{createAnnotationLayerBuilder(h,P,R=null,T="",B=!0,H=D.NullL10n,X=!1,C=null,c=null,a=null,b=null){return new N.AnnotationLayerBuilder({pageDiv:h,pdfPage:P,imageResourcesPath:T,renderForms:B,linkService:new S.SimpleLinkService,l10n:H,annotationStorage:R,enableScripting:X,hasJSActionsPromise:C,fieldObjectsPromise:a,mouseState:c,annotationCanvasMap:b})}};A.DefaultStructTreeLayerFactory=class I{createStructTreeLayerBuilder(h){return new M.StructTreeLayerBuilder({pdfPage:h})}};A.DefaultTextLayerFactory=class p{createTextLayerBuilder(h,P,R,T=!1,B,H){return new r.TextLayerBuilder({textLayerDiv:h,pageIndex:P,viewport:R,enhanceTextSelection:T,eventBus:B,highlighter:H})}};A.DefaultXfaLayerFactory=class w{createXfaLayerBuilder(h,P,R=null,T=null){return new i.XfaLayerBuilder({pageDiv:h,pdfPage:P,annotationStorage:R,linkService:new S.SimpleLinkService,xfaHtml:T})}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.AnnotationLayerBuilder=void 0;var N=y(3),D=y(4);A.AnnotationLayerBuilder=class S{constructor({pageDiv:r,pdfPage:i,linkService:m,downloadManager:I,annotationStorage:p=null,imageResourcesPath:w="",renderForms:v=!0,l10n:h=D.NullL10n,enableScripting:P=!1,hasJSActionsPromise:R=null,fieldObjectsPromise:T=null,mouseState:B=null,annotationCanvasMap:H=null}){this.pageDiv=r,this.pdfPage=i,this.linkService=m,this.downloadManager=I,this.imageResourcesPath=w,this.renderForms=v,this.l10n=h,this.annotationStorage=p,this.enableScripting=P,this._hasJSActionsPromise=R,this._fieldObjectsPromise=T,this._mouseState=B,this._annotationCanvasMap=H,this.div=null,this._cancelled=!1}render(r,i="display"){var m=this;return Z(function*(){const[I,p=!1,w=null]=yield Promise.all([m.pdfPage.getAnnotations({intent:i}),m._hasJSActionsPromise,m._fieldObjectsPromise]);if(m._cancelled||0===I.length)return;const v={viewport:r.clone({dontFlip:!0}),div:m.div,annotations:I,page:m.pdfPage,imageResourcesPath:m.imageResourcesPath,renderForms:m.renderForms,linkService:m.linkService,downloadManager:m.downloadManager,annotationStorage:m.annotationStorage,enableScripting:m.enableScripting,hasJSActions:p,fieldObjects:w,mouseState:m._mouseState,annotationCanvasMap:m._annotationCanvasMap};m.div?N.AnnotationLayer.update(v):(m.div=document.createElement("div"),m.div.className="annotationLayer",m.pageDiv.appendChild(m.div),v.div=m.div,N.AnnotationLayer.render(v),m.l10n.translate(m.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},G=>{let A;A=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:O(6036),G.exports=A},(G,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.NullL10n=void 0,A.fixupLangCode=function S(i){return D[i?.toLowerCase()]||i},A.getL10nFallback=N;const y={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function N(i,m){switch(i){case"find_match_count":i=`find_match_count[${1===m.total?"one":"other"}]`;break;case"find_match_count_limit":i=`find_match_count_limit[${1===m.limit?"one":"other"}]`}return y[i]||""}const D={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};A.NullL10n={getLanguage:()=>Z(function*(){return"en-us"})(),getDirection:()=>Z(function*(){return"ltr"})(),get:(i,m=null,I=N(i,m))=>Z(function*(){return function M(i,m){return m?i.replace(/\{\{\s*(\w+)\s*\}\}/g,(I,p)=>p in m?m[p]:"{{"+p+"}}"):i}(I,m)})(),translate:i=>Z(function*(){})()}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.SimpleLinkService=A.PDFLinkService=A.LinkTarget=void 0;var N=y(6);const S={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function M(v,{url:h,target:P,rel:R,enabled:T=!0}={}){if(!h||"string"!=typeof h)throw new Error('A valid "url" parameter must provided.');const B=(0,N.removeNullCharacters)(h);T?v.href=v.title=B:(v.href="",v.title=`Disabled: ${B}`,v.onclick=()=>!1);let H="";switch(P){case S.NONE:break;case S.SELF:H="_self";break;case S.BLANK:H="_blank";break;case S.PARENT:H="_parent";break;case S.TOP:H="_top"}v.target=H,v.rel="string"==typeof R?R:"noopener noreferrer nofollow"}A.LinkTarget=S;var r=new WeakMap,i=new WeakSet;class m{constructor({eventBus:h,externalLinkTarget:P=null,externalLinkRel:R=null,ignoreDestinationZoom:T=!1}={}){z(this,i),E(this,r,{writable:!0,value:new Map}),this.eventBus=h,this.externalLinkTarget=P,this.externalLinkRel=R,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=T,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(h,P=null){this.baseUrl=P,this.pdfDocument=h,q(this,r).clear()}setViewer(h){this.pdfViewer=h}setHistory(h){this.pdfHistory=h}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(h){this.pdfViewer.currentPageNumber=h}get rotation(){return this.pdfViewer.pagesRotation}set rotation(h){this.pdfViewer.pagesRotation=h}goToDestination(h){var P=this;return Z(function*(){if(!P.pdfDocument)return;let R,T;"string"==typeof h?(R=h,T=yield P.pdfDocument.getDestination(h)):(R=null,T=yield h),Array.isArray(T)?Y(P,i,I).call(P,h,R,T):console.error(`PDFLinkService.goToDestination: "${T}" is not a valid destination array, for dest="${h}".`)})()}goToPage(h){if(!this.pdfDocument)return;const P="string"==typeof h&&this.pdfViewer.pageLabelToPageNumber(h)||0|h;Number.isInteger(P)&&P>0&&P<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(P)),this.pdfViewer.scrollPageIntoView({pageNumber:P})):console.error(`PDFLinkService.goToPage: "${h}" is not a valid page.`)}addLinkAttributes(h,P,R=!1){M(h,{url:P,target:R?S.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(h){if("string"==typeof h){if(h.length>0)return this.getAnchorUrl("#"+escape(h))}else if(Array.isArray(h)){const P=JSON.stringify(h);if(P.length>0)return this.getAnchorUrl("#"+escape(P))}return this.getAnchorUrl("")}getAnchorUrl(h){return(this.baseUrl||"")+h}setHash(h){if(!this.pdfDocument)return;let P,R;if(h.includes("=")){const T=(0,N.parseQueryString)(h);if(T.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:T.get("search").replace(/"/g,""),phraseSearch:"true"===T.get("phrase")}),T.has("page")&&(P=0|T.get("page")||1),T.has("zoom")){const B=T.get("zoom").split(","),H=B[0],X=parseFloat(H);H.includes("Fit")?"Fit"===H||"FitB"===H?R=[null,{name:H}]:"FitH"===H||"FitBH"===H||"FitV"===H||"FitBV"===H?R=[null,{name:H},B.length>1?0|B[1]:null]:"FitR"===H?5!==B.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):R=[null,{name:H},0|B[1],0|B[2],0|B[3],0|B[4]]:console.error(`PDFLinkService.setHash: "${H}" is not a valid zoom value.`):R=[null,{name:"XYZ"},B.length>1?0|B[1]:null,B.length>2?0|B[2]:null,X?X/100:H]}R?this.pdfViewer.scrollPageIntoView({pageNumber:P||this.page,destArray:R,allowNegativeOffset:!0}):P&&(this.page=P),T.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:T.get("pagemode")}),T.has("nameddest")&&this.goToDestination(T.get("nameddest"))}else{R=unescape(h);try{R=JSON.parse(R),Array.isArray(R)||(R=R.toString())}catch{}if("string"==typeof R||e(m,m,p).call(m,R))return void this.goToDestination(R);console.error(`PDFLinkService.setHash: "${unescape(h)}" is not a valid destination.`)}}executeNamedAction(h){switch(h){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:h})}cachePageRef(h,P){if(!P)return;const R=0===P.gen?`${P.num}R`:`${P.num}R${P.gen}`;q(this,r).set(R,h)}_cachedPageNumber(h){if(!h)return null;const P=0===h.gen?`${h.num}R`:`${h.num}R${h.gen}`;return q(this,r).get(P)||null}isPageVisible(h){return this.pdfViewer.isPageVisible(h)}isPageCached(h){return this.pdfViewer.isPageCached(h)}}function I(v,h=null,P){const R=P[0];let T;if("object"==typeof R&&null!==R){if(T=this._cachedPageNumber(R),!T)return void this.pdfDocument.getPageIndex(R).then(B=>{this.cachePageRef(B+1,R),Y(this,i,I).call(this,v,h,P)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${v}".`)})}else{if(!Number.isInteger(R))return void console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${v}".`);T=R+1}!T||T<1||T>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${T}" is not a valid page number, for dest="${v}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:h,explicitDest:P,pageNumber:T})),this.pdfViewer.scrollPageIntoView({pageNumber:T,destArray:P,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function p(v){if(!Array.isArray(v))return!1;const h=v.length;if(h<2)return!1;const P=v[0];if(!("object"==typeof P&&Number.isInteger(P.num)&&Number.isInteger(P.gen)||Number.isInteger(P)&&P>=0))return!1;const R=v[1];if("object"!=typeof R||"string"!=typeof R.name)return!1;let T=!0;switch(R.name){case"XYZ":if(5!==h)return!1;break;case"Fit":case"FitB":return 2===h;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==h)return!1;break;case"FitR":if(6!==h)return!1;T=!1;break;default:return!1}for(let B=2;B<h;B++){const H=v[B];if(!("number"==typeof H||T&&null===H))return!1}return!0}A.PDFLinkService=m;A.SimpleLinkService=class w{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(h){}get rotation(){return 0}set rotation(h){}goToDestination(h){return Z(function*(){})()}goToPage(h){}addLinkAttributes(h,P,R=!1){M(h,{url:P,enabled:this.externalLinkEnabled})}getDestinationHash(h){return"#"}getAnchorUrl(h){return"#"}setHash(h){}executeNamedAction(h){}cachePageRef(h,P){}isPageVisible(h){return!0}isPageCached(h){return!0}}},(G,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.animationStarted=A.VERTICAL_PADDING=A.UNKNOWN_SCALE=A.TextLayerMode=A.SpreadMode=A.SidebarView=A.ScrollMode=A.SCROLLBAR_PADDING=A.RenderingStates=A.RendererType=A.ProgressBar=A.PresentationModeState=A.OutputScale=A.MIN_SCALE=A.MAX_SCALE=A.MAX_AUTO_SCALE=A.DEFAULT_SCALE_VALUE=A.DEFAULT_SCALE_DELTA=A.DEFAULT_SCALE=A.AutoPrintRegExp=void 0,A.apiPageLayoutToViewerModes=function Pe(oe){let k=T.VERTICAL,K=B.NONE;switch(oe){case"SinglePage":k=T.PAGE;break;case"OneColumn":break;case"TwoPageLeft":k=T.PAGE;case"TwoColumnLeft":K=B.ODD;break;case"TwoPageRight":k=T.PAGE;case"TwoColumnRight":K=B.EVEN}return{scrollMode:k,spreadMode:K}},A.apiPageModeToSidebarView=function Ze(oe){switch(oe){case"UseNone":return h.NONE;case"UseThumbs":return h.THUMBS;case"UseOutlines":return h.OUTLINE;case"UseAttachments":return h.ATTACHMENTS;case"UseOC":return h.LAYERS}return h.NONE},A.approximateFraction=function g(oe){if(Math.floor(oe)===oe)return[oe,1];const k=1/oe;if(k>8)return[1,8];if(Math.floor(k)===k)return[1,k];const ae=oe>1?k:oe;let be,he=0,ue=1,ge=1,_e=1;for(;;){const we=he+ge,Le=ue+_e;if(Le>8)break;ae<=we/Le?(ge=we,_e=Le):(he=we,ue=Le)}return be=ae-he/ue<ge/_e-ae?ae===oe?[he,ue]:[ue,he]:ae===oe?[ge,_e]:[_e,ge],be},A.backtrackBeforeAllVisibleElements=f,A.binarySearchFirstItem=l,A.getActiveOrFocusedElement=function Ae(){let oe=document,k=oe.activeElement||oe.querySelector(":focus");for(;k?.shadowRoot;)oe=k.shadowRoot,k=oe.activeElement||oe.querySelector(":focus");return k},A.getPageSizeInches=function x({view:oe,userUnit:k,rotate:K}){const[ae,he,ue,ge]=oe,_e=K%180!=0,be=(ue-ae)/72*k,we=(ge-he)/72*k;return{width:_e?we:be,height:_e?be:we}},A.getVisibleElements=function Q({scrollEl:oe,views:k,sortByVisibility:K=!1,horizontal:ae=!1,rtl:he=!1}){const ue=oe.scrollTop,ge=ue+oe.clientHeight,_e=oe.scrollLeft,be=_e+oe.clientWidth;const ce=[],se=new Set,le=k.length;let ye=l(k,ae?function Le(Ie){const Oe=Ie.div,Fe=Oe.offsetLeft+Oe.clientLeft;return he?Fe<be:Fe+Oe.clientWidth>_e}:function we(Ie){const Oe=Ie.div;return Oe.offsetTop+Oe.clientTop+Oe.clientHeight>ue});ye>0&&ye<le&&!ae&&(ye=f(ye,k,ue));let Ce=ae?be:-1;for(let Ie=ye;Ie<le;Ie++){const Oe=k[Ie],Fe=Oe.div,Re=Fe.offsetLeft+Fe.clientLeft,ze=Fe.offsetTop+Fe.clientTop,Ve=Fe.clientWidth,Ge=Fe.clientHeight,Ue=Re+Ve,We=ze+Ge;if(-1===Ce)We>=ge&&(Ce=We);else if((ae?Re:ze)>Ce)break;if(We<=ue||ze>=ge||Ue<=_e||Re>=be)continue;const Qe=Math.max(0,ue-ze)+Math.max(0,We-ge),Ye=(Ve-(Math.max(0,_e-Re)+Math.max(0,Ue-be)))/Ve;ce.push({id:Oe.id,x:Re,y:ze,view:Oe,percent:(Ge-Qe)/Ge*Ye*100|0,widthPercent:100*Ye|0}),se.add(Oe.id)}const Me=ce[0],Te=ce[ce.length-1];return K&&ce.sort(function(Ie,Oe){const Fe=Ie.percent-Oe.percent;return Math.abs(Fe)>.001?-Fe:Ie.id-Oe.id}),{first:Me,last:Te,views:ce,ids:se}},A.isPortraitOrientation=function ve(oe){return oe.width<=oe.height},A.isValidRotation=function de(oe){return Number.isInteger(oe)&&oe%90==0},A.isValidScrollMode=function fe(oe){return Number.isInteger(oe)&&Object.values(T).includes(oe)&&oe!==T.UNKNOWN},A.isValidSpreadMode=function me(oe){return Number.isInteger(oe)&&Object.values(B).includes(oe)&&oe!==B.UNKNOWN},A.noContextMenuHandler=function te(oe){oe.preventDefault()},A.normalizeWheelEventDelta=function ie(oe){let k=ee(oe);return 0===oe.deltaMode?k/=900:1===oe.deltaMode&&(k/=30),k},A.normalizeWheelEventDirection=ee,A.parseQueryString=function a(oe){const k=new Map;for(const[K,ae]of new URLSearchParams(oe))k.set(K.toLowerCase(),ae);return k},A.removeNullCharacters=function n(oe,k=!1){return"string"!=typeof oe?(console.error("The argument must be a string."),oe):(k&&(oe=oe.replace(u," ")),oe.replace(b,""))},A.roundToDivide=function F(oe,k){const K=oe%k;return 0===K?oe:Math.round(oe-K+k)},A.scrollIntoView=function C(oe,k,K=!1){let ae=oe.offsetParent;if(!ae)return void console.error("offsetParent is not set -- cannot scroll");let he=oe.offsetTop+oe.clientTop,ue=oe.offsetLeft+oe.clientLeft;for(;ae.clientHeight===ae.scrollHeight&&ae.clientWidth===ae.scrollWidth||K&&(ae.classList.contains("markedContent")||"hidden"===getComputedStyle(ae).overflow);)if(he+=ae.offsetTop,ue+=ae.offsetLeft,ae=ae.offsetParent,!ae)return;k&&(void 0!==k.top&&(he+=k.top),void 0!==k.left&&(ue+=k.left,ae.scrollLeft=ue)),ae.scrollTop=he},A.watchScroll=function c(oe,k){const K=function(ue){he||(he=window.requestAnimationFrame(function(){he=null;const _e=oe.scrollLeft,be=ae.lastX;_e!==be&&(ae.right=_e>be),ae.lastX=_e;const we=oe.scrollTop,Le=ae.lastY;we!==Le&&(ae.down=we>Le),ae.lastY=we,k(ae)}))},ae={right:!0,down:!0,lastX:oe.scrollLeft,lastY:oe.scrollTop,_eventHandler:K};let he=null;return oe.addEventListener("scroll",K,!0),ae},A.DEFAULT_SCALE_VALUE="auto",A.DEFAULT_SCALE=1,A.DEFAULT_SCALE_DELTA=1.1,A.MIN_SCALE=.1,A.MAX_SCALE=10,A.UNKNOWN_SCALE=0,A.MAX_AUTO_SCALE=1.25,A.SCROLLBAR_PADDING=40,A.VERTICAL_PADDING=5;A.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},A.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const h={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};A.SidebarView=h,A.RendererType={CANVAS:"canvas",SVG:"svg"},A.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const T={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};A.ScrollMode=T;const B={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};A.SpreadMode=B,A.AutoPrintRegExp=/\bprint\s*\(/;A.OutputScale=class X{constructor(){const k=window.devicePixelRatio||1;this.sx=k,this.sy=k}get scaled(){return 1!==this.sx||1!==this.sy}};const b=/\x00/g,u=/[\x01-\x1F]/g;function l(oe,k,K=0){let ae=K,he=oe.length-1;if(he<0||!k(oe[he]))return oe.length;if(k(oe[ae]))return ae;for(;ae<he;){const ue=ae+he>>1;k(oe[ue])?he=ue:ae=ue+1}return ae}function f(oe,k,K){if(oe<2)return oe;let ae=k[oe].div,he=ae.offsetTop+ae.clientTop;he>=K&&(ae=k[oe-1].div,he=ae.offsetTop+ae.clientTop);for(let ue=oe-2;ue>=0&&(ae=k[ue].div,!(ae.offsetTop+ae.clientTop+ae.clientHeight<=he));--ue)oe=ue;return oe}function ee(oe){let k=Math.hypot(oe.deltaX,oe.deltaY);const K=Math.atan2(oe.deltaY,oe.deltaX);return-.25*Math.PI<K&&K<.75*Math.PI&&(k=-k),k}const pe=new Promise(function(oe){window.requestAnimationFrame(oe)});A.animationStarted=pe;A.ProgressBar=class Ee{constructor(k,{height:K,width:ae,units:he}={}){this.visible=!0,this.div=document.querySelector(k+" .progress"),this.bar=this.div.parentNode,this.height=K||100,this.width=ae||100,this.units=he||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(k){this._indeterminate=isNaN(k),this._percent=function Se(oe,k,K){return Math.min(Math.max(oe,k),K)}(k,0,100),this._updateBar()}setWidth(k){if(!k)return;const ae=k.parentNode.offsetWidth-k.offsetWidth;ae>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${ae}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(G,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.StructTreeLayerBuilder=void 0;const y={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},N=/^H(\d+)$/;A.StructTreeLayerBuilder=class D{constructor({pdfPage:M}){this.pdfPage=M}render(M){return this._walk(M)}_setAttributes(M,r){void 0!==M.alt&&r.setAttribute("aria-label",M.alt),void 0!==M.id&&r.setAttribute("aria-owns",M.id),void 0!==M.lang&&r.setAttribute("lang",M.lang)}_walk(M){if(!M)return null;const r=document.createElement("span");if("role"in M){const{role:i}=M,m=i.match(N);m?(r.setAttribute("role","heading"),r.setAttribute("aria-level",m[1])):y[i]&&r.setAttribute("role",y[i])}if(this._setAttributes(M,r),M.children)if(1===M.children.length&&"id"in M.children[0])this._setAttributes(M.children[0],r);else for(const i of M.children)r.appendChild(this._walk(i));return r}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.TextLayerBuilder=void 0;var N=y(3);A.TextLayerBuilder=class S{constructor({textLayerDiv:r,eventBus:i,pageIndex:m,viewport:I,highlighter:p=null,enhanceTextSelection:w=!1}){this.textLayerDiv=r,this.eventBus=i,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=m+1,this.viewport=I,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=p,this.enhanceTextSelection=w,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const r=document.createElement("div");r.className="endOfContent",this.textLayerDiv.appendChild(r)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(r=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const i=document.createDocumentFragment();this.textLayerRenderTask=(0,N.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(i),this._finishRendering(),this.highlighter?.enable()},function(m){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(r){this.cancel(),this.textContentStream=r}setTextContent(r){this.cancel(),this.textContent=r}_bindMouse(){const r=this.textLayerDiv;let i=null;r.addEventListener("mousedown",m=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(i&&(clearTimeout(i),i=null));const I=r.querySelector(".endOfContent");if(!I)return;let p=m.target!==r;if(p=p&&"none"!==window.getComputedStyle(I).getPropertyValue("-moz-user-select"),p){const w=r.getBoundingClientRect(),v=Math.max(0,(m.pageY-w.top)/w.height);I.style.top=(100*v).toFixed(2)+"%"}I.classList.add("active")}),r.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(i=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),i=null},300));const m=r.querySelector(".endOfContent");!m||(m.style.top="",m.classList.remove("active"))})}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XfaLayerBuilder=void 0;var N=y(3);A.XfaLayerBuilder=class D{constructor({pageDiv:M,pdfPage:r,annotationStorage:i=null,linkService:m,xfaHtml:I=null}){this.pageDiv=M,this.pdfPage=r,this.annotationStorage=i,this.linkService=m,this.xfaHtml=I,this.div=null,this._cancelled=!1}render(M,r="display"){if("print"===r){const i={viewport:M.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r},m=document.createElement("div");this.pageDiv.appendChild(m),i.div=m;const I=N.XfaLayer.render(i);return Promise.resolve(I)}return this.pdfPage.getXfa().then(i=>{if(this._cancelled||!i)return{textDivs:[]};const m={viewport:M.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};return this.div?N.XfaLayer.update(m):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),m.div=this.div,N.XfaLayer.render(m))}).catch(i=>{console.error(i)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFViewer=A.PDFSinglePageViewer=void 0;var N=y(6),D=y(11);A.PDFViewer=class S extends D.BaseViewer{};A.PDFSinglePageViewer=class M extends D.BaseViewer{_resetView(){super._resetView(),this._scrollMode=N.ScrollMode.PAGE,this._spreadMode=N.SpreadMode.NONE}set scrollMode(i){}_updateScrollMode(){}set spreadMode(i){}_updateSpreadMode(){}}},(G,A,y)=>{let N;Object.defineProperty(A,"__esModule",{value:!0}),A.PagesCountLimit=A.PDFPageViewBuffer=A.BaseViewer=void 0;var D=y(3),S=y(6),M=y(2),r=y(4),i=y(12),m=y(14),I=y(5),p=y(7),w=y(15),v=y(8),h=y(9);const R="enablePermissions",T={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};A.PagesCountLimit=T;var B=new WeakMap,H=new WeakMap,X=new WeakSet;N=Symbol.iterator;class C{constructor(k){z(this,X),E(this,B,{writable:!0,value:new Set}),E(this,H,{writable:!0,value:0}),s(this,H,k)}push(k){const K=q(this,B);K.has(k)&&K.delete(k),K.add(k),K.size>q(this,H)&&Y(this,X,c).call(this)}resize(k,K=null){s(this,H,k);const ae=q(this,B);if(K){const he=ae.size;let ue=1;for(const ge of ae)if(K.has(ge.id)&&(ae.delete(ge),ae.add(ge)),++ue>he)break}for(;ae.size>q(this,H);)Y(this,X,c).call(this)}has(k){return q(this,B).has(k)}[N](){return q(this,B).keys()}}function c(){const oe=q(this,B).keys().next().value;oe?.destroy(),q(this,B).delete(oe)}A.PDFPageViewBuffer=C;var a=new WeakMap,b=new WeakMap,u=new WeakMap,n=new WeakMap,l=new WeakMap,g=new WeakMap,F=new WeakMap,x=new WeakSet,f=new WeakSet,Q=new WeakSet,te=new WeakSet,ee=new WeakSet,ie=new WeakSet,de=new WeakSet;class fe{constructor(k){if(z(this,de),z(this,ie),z(this,ee),z(this,te),z(this,Q),z(this,f),z(this,x),E(this,a,{writable:!0,value:null}),E(this,b,{writable:!0,value:D.AnnotationMode.ENABLE_FORMS}),E(this,u,{writable:!0,value:null}),E(this,n,{writable:!0,value:!1}),E(this,l,{writable:!0,value:0}),E(this,g,{writable:!0,value:null}),E(this,F,{writable:!0,value:null}),this.constructor===fe)throw new Error("Cannot initialize BaseViewer.");const K="2.13.216";if(D.version!==K)throw new Error(`The API version "${D.version}" does not match the Viewer version "${K}".`);if(this.container=k.container,this.viewer=k.viewer||k.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=k.eventBus,this.linkService=k.linkService||new I.SimpleLinkService,this.downloadManager=k.downloadManager||null,this.findController=k.findController||null,this._scriptingManager=k.scriptingManager||null,this.removePageBorders=k.removePageBorders||!1,this.textLayerMode=k.textLayerMode??S.TextLayerMode.ENABLE,s(this,b,k.annotationMode??D.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=k.imageResourcesPath||"",this.enablePrintAutoRotate=k.enablePrintAutoRotate||!1,this.renderer=k.renderer||S.RendererType.CANVAS,this.useOnlyCssZoom=k.useOnlyCssZoom||!1,this.maxCanvasPixels=k.maxCanvasPixels,this.l10n=k.l10n||r.NullL10n,s(this,n,k.enablePermissions||!1),this.defaultRenderingQueue=!k.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new m.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=k.renderingQueue,this._doc=document.documentElement,this.scroll=(0,S.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=S.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(k){return this._pages[k]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(k){return k?.pdfPage})}get renderForms(){return q(this,b)===D.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(k){if(!Number.isInteger(k))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(k,!0)||console.error(`currentPageNumber: "${k}" is not a valid page.`)}_setCurrentPageNumber(k,K=!1){if(this._currentPageNumber===k)return K&&this._resetCurrentPageView(),!0;if(!(0<k&&k<=this.pagesCount))return!1;const ae=this._currentPageNumber;return this._currentPageNumber=k,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:k,pageLabel:this._pageLabels?.[k-1]??null,previous:ae}),K&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(k){if(!this.pdfDocument)return;let K=0|k;if(this._pageLabels){const ae=this._pageLabels.indexOf(k);ae>=0&&(K=ae+1)}this._setCurrentPageNumber(K,!0)||console.error(`currentPageLabel: "${k}" is not a valid page.`)}get currentScale(){return this._currentScale!==S.UNKNOWN_SCALE?this._currentScale:S.DEFAULT_SCALE}set currentScale(k){if(isNaN(k))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(k,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(k){!this.pdfDocument||this._setScale(k,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(k){if(!(0,S.isValidRotation)(k))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((k%=360)<0&&(k+=360),this._pagesRotation===k))return;this._pagesRotation=k;const K=this._currentPageNumber,ae={rotation:k};for(const he of this._pages)he.update(ae);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:k,pageNumber:K}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(k){var K=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=k,!k)return;const ae=k.isPureXfa,he=k.numPages,ue=k.getPage(1),ge=k.getOptionalContentConfig(),_e=q(this,n)?k.getPermissions():Promise.resolve();if(he>T.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const be=this._scrollMode=S.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:be})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:he})},()=>{}),this._onBeforeDraw=be=>{const we=this._pages[be.pageNumber-1];!we||q(this,a).push(we)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=be=>{be.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:be.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,q(this,F)&&(document.removeEventListener("visibilitychange",q(this,F)),s(this,F,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ue,_e]).then(([be,we])=>{if(k!==this.pdfDocument)return;this._firstPageCapability.resolve(be),this._optionalContentConfigPromise=ge,Y(this,x,me).call(this,we);const Le=this._scrollMode===S.ScrollMode.PAGE?null:this.viewer,ce=this.currentScale,se=be.getViewport({scale:ce*D.PixelsPerInch.PDF_TO_CSS_UNITS}),le=this.textLayerMode===S.TextLayerMode.DISABLE||ae?null:this,ye=q(this,b)!==D.AnnotationMode.DISABLE?this:null,Ce=ae?this:null;for(let Te=1;Te<=he;++Te){const Ie=new i.PDFPageView({container:Le,eventBus:this.eventBus,id:Te,scale:ce,defaultViewport:se.clone(),optionalContentConfigPromise:ge,renderingQueue:this.renderingQueue,textLayerFactory:le,textLayerMode:this.textLayerMode,annotationLayerFactory:ye,annotationMode:q(this,b),xfaLayerFactory:Ce,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Ie)}const Me=this._pages[0];Me&&(Me.setPdfPage(be),this.linkService.cachePageRef(1,be.ref)),this._scrollMode===S.ScrollMode.PAGE?Y(this,Q,pe).call(this):this._spreadMode!==S.SpreadMode.NONE&&this._updateSpreadMode(),Y(this,f,ve).call(this).then(Z(function*(){if(K.findController&&K.findController.setDocument(k),K._scriptingManager&&K._scriptingManager.setDocument(k),k.loadingParams.disableAutoFetch||he>T.FORCE_LAZY_PAGE_INIT)return void K._pagesCapability.resolve();let Te=he-1;if(Te<=0)K._pagesCapability.resolve();else for(let Ie=2;Ie<=he;++Ie){const Oe=k.getPage(Ie).then(Fe=>{const Re=K._pages[Ie-1];Re.pdfPage||Re.setPdfPage(Fe),K.linkService.cachePageRef(Ie,Fe.ref),0==--Te&&K._pagesCapability.resolve()},Fe=>{console.error(`Unable to get page ${Ie} to initialize viewer`,Fe),0==--Te&&K._pagesCapability.resolve()});Ie%T.PAUSE_EAGER_PAGE_INIT==0&&(yield Oe)}})),this.eventBus.dispatch("pagesinit",{source:this}),k.getMetadata().then(({info:Te})=>{k===this.pdfDocument&&Te.Language&&(this.viewer.lang=Te.Language)}),this.defaultRenderingQueue&&this.update()}).catch(be=>{console.error("Unable to initialize viewer",be),this._pagesCapability.reject(be)})}setPageLabels(k){if(this.pdfDocument){k?Array.isArray(k)&&this.pdfDocument.numPages===k.length?this._pageLabels=k:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let K=0,ae=this._pages.length;K<ae;K++)this._pages[K].setPageLabel(this._pageLabels?.[K]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=S.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,s(this,a,new C(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,D.createPromiseCapability)(),this._onePageRenderedCapability=(0,D.createPromiseCapability)(),this._pagesCapability=(0,D.createPromiseCapability)(),this._scrollMode=S.ScrollMode.VERTICAL,this._previousScrollMode=S.ScrollMode.UNKNOWN,this._spreadMode=S.SpreadMode.NONE,s(this,g,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),q(this,F)&&(document.removeEventListener("visibilitychange",q(this,F)),s(this,F,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(R),null!==q(this,u)&&(s(this,b,q(this,u)),s(this,u,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:k,pageSpot:K=null,pageNumber:ae=null}){if(this._scrollMode===S.ScrollMode.PAGE&&(ae&&this._setCurrentPageNumber(ae),Y(this,Q,pe).call(this),this.update()),!K&&!this.isInPresentationMode){const he=k.offsetLeft+k.clientLeft,ue=he+k.clientWidth,{scrollLeft:ge,clientWidth:_e}=this.container;(this._scrollMode===S.ScrollMode.HORIZONTAL||he<ge||ue>ge+_e)&&(K={left:0,top:0})}(0,S.scrollIntoView)(k,K)}_setScaleUpdatePages(k,K,ae=!1,he=!1){if(this._currentScaleValue=K.toString(),Y(this,te,Se).call(this,k))return void(he&&this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:K}));this._doc.style.setProperty("--zoom-factor",k),this._doc.style.setProperty("--viewport-scale-factor",k*D.PixelsPerInch.PDF_TO_CSS_UNITS);const ue={scale:k};for(const ge of this._pages)ge.update(ue);if(this._currentScale=k,!ae){let _e,ge=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ge=this._location.pageNumber,_e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ge,destArray:_e,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:he?K:void 0}),this.defaultRenderingQueue&&this.update(),s(this,l,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==S.SpreadMode.NONE&&this._scrollMode!==S.ScrollMode.HORIZONTAL?2:1}_setScale(k,K=!1){let ae=parseFloat(k);if(ae>0)this._setScaleUpdatePages(ae,k,K,!1);else{const he=this._pages[this._currentPageNumber-1];if(!he)return;let ue=S.SCROLLBAR_PADDING,ge=S.VERTICAL_PADDING;this.isInPresentationMode?ue=ge=4:this.removePageBorders&&(ue=ge=0),this._scrollMode===S.ScrollMode.HORIZONTAL&&([ue,ge]=[ge,ue]);const _e=(this.container.clientWidth-ue)/he.width*he.scale/this._pageWidthScaleFactor,be=(this.container.clientHeight-ge)/he.height*he.scale;switch(k){case"page-actual":ae=1;break;case"page-width":ae=_e;break;case"page-height":ae=be;break;case"page-fit":ae=Math.min(_e,be);break;case"auto":const we=(0,S.isPortraitOrientation)(he)?_e:Math.min(be,_e);ae=Math.min(S.MAX_AUTO_SCALE,we);break;default:return void console.error(`_setScale: "${k}" is an unknown zoom value.`)}this._setScaleUpdatePages(ae,k,K,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(k){if(!this._pageLabels)return null;const K=this._pageLabels.indexOf(k);return K<0?null:K+1}scrollPageIntoView({pageNumber:k,destArray:K=null,allowNegativeOffset:ae=!1,ignoreDestinationZoom:he=!1}){if(!this.pdfDocument)return;const ue=Number.isInteger(k)&&this._pages[k-1];if(!ue)return void console.error(`scrollPageIntoView: "${k}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!K)return void this._setCurrentPageNumber(k,!0);let Le,ce,ge=0,_e=0,be=0,we=0;const se=ue.rotation%180!=0,le=(se?ue.height:ue.width)/ue.scale/D.PixelsPerInch.PDF_TO_CSS_UNITS,ye=(se?ue.width:ue.height)/ue.scale/D.PixelsPerInch.PDF_TO_CSS_UNITS;let Ce=0;switch(K[1].name){case"XYZ":ge=K[2],_e=K[3],Ce=K[4],ge=null!==ge?ge:0,_e=null!==_e?_e:ye;break;case"Fit":case"FitB":Ce="page-fit";break;case"FitH":case"FitBH":_e=K[2],Ce="page-width",null===_e&&this._location?(ge=this._location.left,_e=this._location.top):("number"!=typeof _e||_e<0)&&(_e=ye);break;case"FitV":case"FitBV":ge=K[2],be=le,we=ye,Ce="page-height";break;case"FitR":ge=K[2],_e=K[3],be=K[4]-ge,we=K[5]-_e,Le=(this.container.clientWidth-(this.removePageBorders?0:S.SCROLLBAR_PADDING))/be/D.PixelsPerInch.PDF_TO_CSS_UNITS,ce=(this.container.clientHeight-(this.removePageBorders?0:S.VERTICAL_PADDING))/we/D.PixelsPerInch.PDF_TO_CSS_UNITS,Ce=Math.min(Math.abs(Le),Math.abs(ce));break;default:return void console.error(`scrollPageIntoView: "${K[1].name}" is not a valid destination type.`)}if(he||(Ce&&Ce!==this._currentScale?this.currentScaleValue=Ce:this._currentScale===S.UNKNOWN_SCALE&&(this.currentScaleValue=S.DEFAULT_SCALE_VALUE)),"page-fit"===Ce&&!K[4])return void this._scrollIntoView({pageDiv:ue.div,pageNumber:k});const Me=[ue.viewport.convertToViewportPoint(ge,_e),ue.viewport.convertToViewportPoint(ge+be,_e+we)];let Te=Math.min(Me[0][0],Me[1][0]),Ie=Math.min(Me[0][1],Me[1][1]);ae||(Te=Math.max(Te,0),Ie=Math.max(Ie,0)),this._scrollIntoView({pageDiv:ue.div,pageSpot:{left:Te,top:Ie},pageNumber:k})}_updateLocation(k){const K=this._currentScale,ae=this._currentScaleValue,he=parseFloat(ae)===K?Math.round(1e4*K)/100:ae,ue=k.id;let ge="#page="+ue;ge+="&zoom="+he;const be=this.container,we=this._pages[ue-1].getPagePoint(be.scrollLeft-k.x,be.scrollTop-k.y),Le=Math.round(we[0]),ce=Math.round(we[1]);ge+=","+Le+","+ce,this._location={pageNumber:ue,scale:he,top:ce,left:Le,rotation:this._pagesRotation,pdfOpenParams:ge}}update(){const k=this._getVisiblePages(),K=k.views,ae=K.length;if(0===ae)return;const he=Math.max(10,2*ae+1);if(q(this,a).resize(he,k.ids),this.renderingQueue.renderHighestPriority(k),!this.isInPresentationMode){const ue=this._spreadMode===S.SpreadMode.NONE&&(this._scrollMode===S.ScrollMode.PAGE||this._scrollMode===S.ScrollMode.VERTICAL);let ge=this._currentPageNumber,_e=!1;for(const be of K){if(be.percent<100)break;if(be.id===ge&&ue){_e=!0;break}}_e||(ge=K[0].id),this._setCurrentPageNumber(ge)}this._updateLocation(k.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(k){return this.container.contains(k)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===S.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===S.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const k=this._pages[this._currentPageNumber-1],K=k.div,ae={id:k.id,x:K.offsetLeft+K.clientLeft,y:K.offsetTop+K.clientTop,view:k};return{first:ae,last:ae,views:[ae],ids:new Set([k.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const k=this._scrollMode===S.ScrollMode.PAGE?q(this,g).pages:this._pages,K=this._scrollMode===S.ScrollMode.HORIZONTAL;return(0,S.getVisibleElements)({scrollEl:this.container,views:k,sortByVisibility:!0,horizontal:K,rtl:K&&this._isContainerRtl})}isPageVisible(k){return!!this.pdfDocument&&(Number.isInteger(k)&&k>0&&k<=this.pagesCount?this._getVisiblePages().ids.has(k):(console.error(`isPageVisible: "${k}" is not a valid page.`),!1))}isPageCached(k){if(!this.pdfDocument)return!1;if(!(Number.isInteger(k)&&k>0&&k<=this.pagesCount))return console.error(`isPageCached: "${k}" is not a valid page.`),!1;const K=this._pages[k-1];return q(this,a).has(K)}cleanup(){for(let k=0,K=this._pages.length;k<K;k++)this._pages[k]&&this._pages[k].renderingState!==S.RenderingStates.FINISHED&&this._pages[k].reset()}_cancelRendering(){for(let k=0,K=this._pages.length;k<K;k++)this._pages[k]&&this._pages[k].cancelRendering()}forceRendering(k){const K=k||this._getVisiblePages(),ae=Y(this,ie,Pe).call(this,K),ue=this.renderingQueue.getHighestPriority(K,this._pages,ae,this._spreadMode!==S.SpreadMode.NONE&&this._scrollMode!==S.ScrollMode.HORIZONTAL);return Y(this,de,Ze).call(this,K.ids),!!ue&&(Y(this,ee,Ee).call(this,ue).then(()=>{this.renderingQueue.renderView(ue)}),!0)}createTextLayerBuilder(k,K,ae,he=!1,ue,ge){return new v.TextLayerBuilder({textLayerDiv:k,eventBus:ue,pageIndex:K,viewport:ae,enhanceTextSelection:!this.isInPresentationMode&&he,highlighter:ge})}createTextHighlighter(k,K){return new w.TextHighlighter({eventBus:K,pageIndex:k,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(k,K,ae=null,he="",ue=!0,ge=r.NullL10n,_e=null,be=null,we=null,Le=null,ce=null){return new M.AnnotationLayerBuilder({pageDiv:k,pdfPage:K,annotationStorage:ae||this.pdfDocument?.annotationStorage,imageResourcesPath:he,renderForms:ue,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ge,enableScripting:_e??this.enableScripting,hasJSActionsPromise:be||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Le||this.pdfDocument?.getFieldObjects(),mouseState:we||this._scriptingManager?.mouseState,annotationCanvasMap:ce})}createXfaLayerBuilder(k,K,ae=null){return new h.XfaLayerBuilder({pageDiv:k,pdfPage:K,annotationStorage:ae||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(k){return new p.StructTreeLayerBuilder({pdfPage:k})}get hasEqualPageSizes(){const k=this._pages[0];for(let K=1,ae=this._pages.length;K<ae;++K){const he=this._pages[K];if(he.width!==k.width||he.height!==k.height)return!1}return!0}getPagesOverview(){return this._pages.map(k=>{const K=k.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,S.isPortraitOrientation)(K)?{width:K.width,height:K.height,rotation:K.rotation}:{width:K.height,height:K.width,rotation:(K.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(k){if(!(k instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${k}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=k;const K={optionalContentConfigPromise:k};for(const ae of this._pages)ae.update(K);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:k})}get scrollMode(){return this._scrollMode}set scrollMode(k){if(this._scrollMode!==k){if(!(0,S.isValidScrollMode)(k))throw new Error(`Invalid scroll mode: ${k}`);this.pagesCount>T.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=k,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:k}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(k=null){const K=this._scrollMode,ae=this.viewer;ae.classList.toggle("scrollHorizontal",K===S.ScrollMode.HORIZONTAL),ae.classList.toggle("scrollWrapped",K===S.ScrollMode.WRAPPED),this.pdfDocument&&k&&(K===S.ScrollMode.PAGE?Y(this,Q,pe).call(this):this._previousScrollMode===S.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(k,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(k){if(this._spreadMode!==k){if(!(0,S.isValidSpreadMode)(k))throw new Error(`Invalid spread mode: ${k}`);this._spreadMode=k,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:k}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(k=null){if(!this.pdfDocument)return;const K=this.viewer,ae=this._pages;if(this._scrollMode===S.ScrollMode.PAGE)Y(this,Q,pe).call(this);else if(K.textContent="",this._spreadMode===S.SpreadMode.NONE)for(let he=0,ue=ae.length;he<ue;++he)K.appendChild(ae[he].div);else{const he=this._spreadMode-1;let ue=null;for(let ge=0,_e=ae.length;ge<_e;++ge)null===ue?(ue=document.createElement("div"),ue.className="spread",K.appendChild(ue)):ge%2===he&&(ue=ue.cloneNode(!1),K.appendChild(ue)),ue.appendChild(ae[ge].div)}!k||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(k,!0),this.update())}_getPageAdvance(k,K=!1){switch(this._scrollMode){case S.ScrollMode.WRAPPED:{const{views:ae}=this._getVisiblePages(),he=new Map;for(const{id:ue,y:ge,percent:_e,widthPercent:be}of ae){if(0===_e||be<100)continue;let we=he.get(ge);we||he.set(ge,we||(we=[])),we.push(ue)}for(const ue of he.values()){const ge=ue.indexOf(k);if(-1===ge)continue;const _e=ue.length;if(1===_e)break;if(K)for(let be=ge-1,we=0;be>=we;be--){const ce=ue[be+1]-1;if(ue[be]<ce)return k-ce}else for(let be=ge+1,we=_e;be<we;be++){const ce=ue[be-1]+1;if(ue[be]>ce)return ce-k}if(K){const be=ue[0];if(be<k)return k-be+1}else{const be=ue[_e-1];if(be>k)return be-k+1}break}break}case S.ScrollMode.HORIZONTAL:break;case S.ScrollMode.PAGE:case S.ScrollMode.VERTICAL:{if(this._spreadMode===S.SpreadMode.NONE)break;const ae=this._spreadMode-1;if(K&&k%2!==ae)break;if(!K&&k%2===ae)break;const{views:he}=this._getVisiblePages(),ue=K?k-1:k+1;for(const{id:ge,percent:_e,widthPercent:be}of he)if(ge===ue){if(_e>0&&100===be)return 2;break}break}}return 1}nextPage(){const k=this._currentPageNumber,K=this.pagesCount;if(k>=K)return!1;const ae=this._getPageAdvance(k,!1)||1;return this.currentPageNumber=Math.min(k+ae,K),!0}previousPage(){const k=this._currentPageNumber;if(k<=1)return!1;const K=this._getPageAdvance(k,!0)||1;return this.currentPageNumber=Math.max(k-K,1),!0}increaseScale(k=1){let K=this._currentScale;do{K=(K*S.DEFAULT_SCALE_DELTA).toFixed(2),K=Math.ceil(10*K)/10,K=Math.min(S.MAX_SCALE,K)}while(--k>0&&K<S.MAX_SCALE);this.currentScaleValue=K}decreaseScale(k=1){let K=this._currentScale;do{K=(K/S.DEFAULT_SCALE_DELTA).toFixed(2),K=Math.floor(10*K)/10,K=Math.max(S.MIN_SCALE,K)}while(--k>0&&K>S.MIN_SCALE);this.currentScaleValue=K}}function me(oe){!oe||(oe.includes(D.PermissionFlag.COPY)||this.viewer.classList.add(R),!oe.includes(D.PermissionFlag.MODIFY_ANNOTATIONS)&&!oe.includes(D.PermissionFlag.FILL_INTERACTIVE_FORMS)&&q(this,b)===D.AnnotationMode.ENABLE_FORMS&&(s(this,u,q(this,b)),s(this,b,D.AnnotationMode.ENABLE)))}function ve(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const oe=new Promise(k=>{s(this,F,()=>{"hidden"===document.visibilityState&&(k(),document.removeEventListener("visibilitychange",q(this,F)),s(this,F,null))}),document.addEventListener("visibilitychange",q(this,F))});return Promise.race([this._onePageRenderedCapability.promise,oe])}function pe(){if(this._scrollMode!==S.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const oe=this._currentPageNumber,k=q(this,g),K=this.viewer;if(K.textContent="",k.pages.length=0,this._spreadMode===S.SpreadMode.NONE){const ae=this._pages[oe-1];if(this.isInPresentationMode){const he=document.createElement("div");he.className="spread";const ue=document.createElement("div");ue.className="dummyPage",ue.style.height=`${this.container.clientHeight}px`,he.appendChild(ue),he.appendChild(ae.div),K.appendChild(he)}else K.appendChild(ae.div);k.pages.push(ae)}else{const ae=new Set,he=this._spreadMode-1;oe%2!==he?(ae.add(oe-1),ae.add(oe)):(ae.add(oe-2),ae.add(oe-1));let ue=null;for(const ge of ae){const _e=this._pages[ge];!_e||(null===ue?(ue=document.createElement("div"),ue.className="spread",K.appendChild(ue)):ge%2===he&&(ue=ue.cloneNode(!1),K.appendChild(ue)),ue.appendChild(_e.div),k.pages.push(_e))}}k.scrollDown=oe>=k.previousPageNumber,k.previousPageNumber=oe}function Se(oe){return(!this.isInPresentationMode||this.container.clientHeight===q(this,l))&&(oe===this._currentScale||Math.abs(oe-this._currentScale)<1e-15)}function Ee(oe){return Ae.apply(this,arguments)}function Ae(){return(Ae=Z(function*(oe){if(oe.pdfPage)return oe.pdfPage;try{const k=yield this.pdfDocument.getPage(oe.id);return oe.pdfPage||oe.setPdfPage(k),this.linkService._cachedPageNumber?.(k.ref)||this.linkService.cachePageRef(oe.id,k.ref),k}catch(k){return console.error("Unable to get page for page view",k),null}})).apply(this,arguments)}function Pe(oe){if(1===oe.first?.id)return!0;if(oe.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case S.ScrollMode.PAGE:return q(this,g).scrollDown;case S.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Ze(oe){for(const k of oe)this._pages[k-1]?.toggleLoadingIconSpinner(!0);for(const k of q(this,a))oe.has(k.id)||k.toggleLoadingIconSpinner(!1)}A.BaseViewer=fe},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFPageView=void 0;var N=y(3),D=y(6),S=y(13),M=y(4);const r=S.compatibilityParams.maxCanvasPixels||16777216;var i=new WeakMap;A.PDFPageView=class m{constructor(p){E(this,i,{writable:!0,value:N.AnnotationMode.ENABLE_FORMS});const w=p.container,v=p.defaultViewport;this.id=p.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=p.scale||D.DEFAULT_SCALE,this.viewport=v,this.pdfPageRotate=v.rotation,this._optionalContentConfigPromise=p.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=p.textLayerMode??D.TextLayerMode.ENABLE,s(this,i,p.annotationMode??N.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=p.imageResourcesPath||"",this.useOnlyCssZoom=p.useOnlyCssZoom||!1,this.maxCanvasPixels=p.maxCanvasPixels||r,this.eventBus=p.eventBus,this.renderingQueue=p.renderingQueue,this.textLayerFactory=p.textLayerFactory,this.annotationLayerFactory=p.annotationLayerFactory,this.xfaLayerFactory=p.xfaLayerFactory,this.textHighlighter=p.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=p.structTreeLayerFactory,this.renderer=p.renderer||D.RendererType.CANVAS,this.l10n=p.l10n||M.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=D.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const h=document.createElement("div");h.className="page",h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px",h.setAttribute("data-page-number",this.id),h.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(P=>{h.setAttribute("aria-label",P)}),this.div=h,w?.appendChild(h)}setPdfPage(p){this.pdfPage=p,this.pdfPageRotate=p.rotate,this.viewport=p.getViewport({scale:this.scale*N.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var p=this;return Z(function*(){let w=null;try{yield p.annotationLayer.render(p.viewport,"display")}catch(v){w=v}finally{p.eventBus.dispatch("annotationlayerrendered",{source:p,pageNumber:p.id,error:w})}})()}_renderXfaLayer(){var p=this;return Z(function*(){let w=null;try{const v=yield p.xfaLayer.render(p.viewport,"display");p.textHighlighter&&p._buildXfaTextContentItems(v.textDivs)}catch(v){w=v}finally{p.eventBus.dispatch("xfalayerrendered",{source:p,pageNumber:p.id,error:w})}})()}_buildXfaTextContentItems(p){var w=this;return Z(function*(){const v=yield w.pdfPage.getTextContent(),h=[];for(const P of v.items)h.push(P.str);w.textHighlighter.setTextMapping(p,h),w.textHighlighter.enable()})()}_resetZoomLayer(p=!1){if(!this.zoomLayer)return;const w=this.zoomLayer.firstChild;this.paintedViewportMap.delete(w),w.width=0,w.height=0,p&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:p=!1,keepAnnotationLayer:w=!1,keepXfaLayer:v=!1}={}){this.cancelRendering({keepAnnotationLayer:w,keepXfaLayer:v}),this.renderingState=D.RenderingStates.INITIAL;const h=this.div;h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px";const P=h.childNodes,R=p&&this.zoomLayer||null,T=w&&this.annotationLayer?.div||null,B=v&&this.xfaLayer?.div||null;for(let H=P.length-1;H>=0;H--){const X=P[H];switch(X){case R:case T:case B:continue}X.remove()}h.removeAttribute("data-loaded"),T&&this.annotationLayer.hide(),B&&this.xfaLayer.hide(),R||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(H=>{this.loadingIconDiv?.setAttribute("aria-label",H)}),h.appendChild(this.loadingIconDiv)}update({scale:p=0,rotation:w=null,optionalContentConfigPromise:v=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=p||this.scale,"number"==typeof w&&(this.rotation=w),v instanceof Promise&&(this._optionalContentConfigPromise=v);const P=this.scale*N.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:P,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:T}=document.documentElement;T.setProperty("--zoom-factor",this.scale),T.setProperty("--viewport-scale-factor",P)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let R=!1;if(this.canvas&&this.maxCanvasPixels>0){const T=this.outputScale;(Math.floor(this.viewport.width)*T.sx|0)*(Math.floor(this.viewport.height)*T.sy|0)>this.maxCanvasPixels&&(R=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&R)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:p=!1,keepXfaLayer:w=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!p||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!w||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:p,redrawAnnotationLayer:w=!1,redrawXfaLayer:v=!1}){const h=this.viewport.width,P=this.viewport.height,R=this.div;p.style.width=p.parentNode.style.width=R.style.width=Math.floor(h)+"px",p.style.height=p.parentNode.style.height=R.style.height=Math.floor(P)+"px";const T=this.viewport.rotation-this.paintedViewportMap.get(p).rotation,B=Math.abs(T);let H=1,X=1;if((90===B||270===B)&&(H=P/h,X=h/P),p.style.transform=`rotate(${T}deg) scale(${H}, ${X})`,this.textLayer){const C=this.textLayer.viewport,a=Math.abs(this.viewport.rotation-C.rotation);let b=h/C.width;(90===a||270===a)&&(b=h/C.height);const u=this.textLayer.textLayerDiv;let n,l;switch(a){case 0:n=l=0;break;case 90:n=0,l="-"+u.style.height;break;case 180:n="-"+u.style.width,l="-"+u.style.height;break;case 270:n="-"+u.style.width,l=0;break;default:console.error("Bad rotation value.")}u.style.transform=`rotate(${a}deg) scale(${b}) translate(${n}, ${l})`,u.style.transformOrigin="0% 0%"}w&&this.annotationLayer&&this._renderAnnotationLayer(),v&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(p,w){return this.viewport.convertToPdfPoint(p,w)}toggleLoadingIconSpinner(p=!1){this.loadingIconDiv?.classList.toggle("notVisible",!p)}draw(){var p=this;this.renderingState!==D.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:w,pdfPage:v}=this;if(!v)return this.renderingState=D.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=D.RenderingStates.RUNNING;const h=document.createElement("div");h.style.width=w.style.width,h.style.height=w.style.height,h.classList.add("canvasWrapper"),this.annotationLayer?.div?w.insertBefore(h,this.annotationLayer.div):w.appendChild(h);let P=null;if(this.textLayerMode!==D.TextLayerMode.DISABLE&&this.textLayerFactory){const X=document.createElement("div");X.className="textLayer",X.style.width=h.style.width,X.style.height=h.style.height,this.annotationLayer?.div?w.insertBefore(X,this.annotationLayer.div):w.appendChild(X),P=this.textLayerFactory.createTextLayerBuilder(X,this.id-1,this.viewport,this.textLayerMode===D.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=P,q(this,i)!==N.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(w,v,null,this.imageResourcesPath,q(this,i)===N.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&w.appendChild(this.xfaLayer.div);let R=null;this.renderingQueue&&(R=X=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=D.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=D.RenderingStates.RUNNING,X()});X()});const T=function(){var X=Z(function*(C=null){if(B===p.paintTask&&(p.paintTask=null),C instanceof N.RenderingCancelledException)p._renderError=null;else if(p._renderError=C,p.renderingState=D.RenderingStates.FINISHED,p.loadingIconDiv&&(p.loadingIconDiv.remove(),delete p.loadingIconDiv),p._resetZoomLayer(!0),p.eventBus.dispatch("pagerendered",{source:p,pageNumber:p.id,cssTransform:!1,timestamp:performance.now(),error:p._renderError}),C)throw C});return function(){return X.apply(this,arguments)}}(),B=this.renderer===D.RendererType.SVG?this.paintOnSvg(h):this.paintOnCanvas(h);B.onRenderContinue=R,this.paintTask=B;const H=B.promise.then(()=>T(null).then(()=>{if(P){const X=v.streamTextContent({includeMarkedContent:!0});P.setTextContentStream(X),P.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(X){return T(X)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(w,v,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=X=>{X.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(C=>{if(!C||!this.canvas)return;const c=this.structTreeLayer.render(C);c.classList.add("structTree"),this.canvas.appendChild(c)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(v)),w.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),H}paintOnCanvas(p){const w=(0,N.createPromiseCapability)(),v={promise:w.promise,onRenderContinue(u){u()},cancel(){b.cancel()}},h=this.viewport,P=document.createElement("canvas");P.hidden=!0;let R=!0;const T=function(){R&&(P.hidden=!1,R=!1)};p.appendChild(P),this.canvas=P,P.mozOpaque=!0;const B=P.getContext("2d",{alpha:!1}),H=this.outputScale=new D.OutputScale;if(this.useOnlyCssZoom){const u=h.clone({scale:N.PixelsPerInch.PDF_TO_CSS_UNITS});H.sx*=u.width/h.width,H.sy*=u.height/h.height}if(this.maxCanvasPixels>0){const n=Math.sqrt(this.maxCanvasPixels/(h.width*h.height));H.sx>n||H.sy>n?(H.sx=n,H.sy=n,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const X=(0,D.approximateFraction)(H.sx),C=(0,D.approximateFraction)(H.sy);P.width=(0,D.roundToDivide)(h.width*H.sx,X[0]),P.height=(0,D.roundToDivide)(h.height*H.sy,C[0]),P.style.width=(0,D.roundToDivide)(h.width,X[1])+"px",P.style.height=(0,D.roundToDivide)(h.height,C[1])+"px",this.paintedViewportMap.set(P,h);const a={canvasContext:B,transform:H.scaled?[H.sx,0,0,H.sy,0,0]:null,viewport:this.viewport,annotationMode:q(this,i),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},b=this.pdfPage.render(a);return b.onContinue=function(u){T(),v.onRenderContinue?v.onRenderContinue(u):u()},b.promise.then(function(){T(),w.resolve()},function(u){T(),w.reject(u)}),v}paintOnSvg(p){let w=!1;const v=()=>{if(w)throw new N.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},h=this.pdfPage,P=this.viewport.clone({scale:N.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:h.getOperatorList({annotationMode:q(this,i)}).then(T=>(v(),new N.SVGGraphics(h.commonObjs,h.objs).getSVG(T,P).then(H=>{v(),this.svg=H,this.paintedViewportMap.set(H,P),H.style.width=p.style.width,H.style.height=p.style.height,this.renderingState=D.RenderingStates.FINISHED,p.appendChild(H)}))),onRenderContinue(T){T()},cancel(){w=!0}}}setPageLabel(p){this.pageLabel="string"==typeof p?p:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(G,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.compatibilityParams=A.OptionKind=A.AppOptions=void 0;const y=Object.create(null);A.compatibilityParams=y;{const r=navigator.userAgent||"",i=navigator.platform||"",m=navigator.maxTouchPoints||1,I=/Android/.test(r);(/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===i&&m>1||I)&&(y.maxCanvasPixels=5242880)}const N={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};A.OptionKind=N;const D={annotationMode:{value:2,kind:N.VIEWER+N.PREFERENCE},cursorToolOnLoad:{value:0,kind:N.VIEWER+N.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:N.VIEWER},defaultZoomValue:{value:"",kind:N.VIEWER+N.PREFERENCE},disableHistory:{value:!1,kind:N.VIEWER},disablePageLabels:{value:!1,kind:N.VIEWER+N.PREFERENCE},enablePermissions:{value:!1,kind:N.VIEWER+N.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:N.VIEWER+N.PREFERENCE},enableScripting:{value:!0,kind:N.VIEWER+N.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:N.VIEWER},externalLinkTarget:{value:0,kind:N.VIEWER+N.PREFERENCE},historyUpdateUrl:{value:!1,kind:N.VIEWER+N.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:N.VIEWER+N.PREFERENCE},imageResourcesPath:{value:"./images/",kind:N.VIEWER},maxCanvasPixels:{value:16777216,compatibility:y.maxCanvasPixels,kind:N.VIEWER},pdfBugEnabled:{value:!1,kind:N.VIEWER+N.PREFERENCE},printResolution:{value:150,kind:N.VIEWER},renderer:{value:"canvas",kind:N.VIEWER},sidebarViewOnLoad:{value:-1,kind:N.VIEWER+N.PREFERENCE},scrollModeOnLoad:{value:-1,kind:N.VIEWER+N.PREFERENCE},spreadModeOnLoad:{value:-1,kind:N.VIEWER+N.PREFERENCE},textLayerMode:{value:1,kind:N.VIEWER+N.PREFERENCE},useOnlyCssZoom:{value:!1,kind:N.VIEWER+N.PREFERENCE},viewerCssTheme:{value:0,kind:N.VIEWER+N.PREFERENCE},viewOnLoad:{value:0,kind:N.VIEWER+N.PREFERENCE},cMapPacked:{value:!0,kind:N.API},cMapUrl:{value:"../web/cmaps/",kind:N.API},disableAutoFetch:{value:!1,kind:N.API+N.PREFERENCE},disableFontFace:{value:!1,kind:N.API+N.PREFERENCE},disableRange:{value:!1,kind:N.API+N.PREFERENCE},disableStream:{value:!1,kind:N.API+N.PREFERENCE},docBaseUrl:{value:"",kind:N.API},enableXfa:{value:!0,kind:N.API+N.PREFERENCE},fontExtraProperties:{value:!1,kind:N.API},isEvalSupported:{value:!0,kind:N.API},maxImageSize:{value:-1,kind:N.API},pdfBug:{value:!1,kind:N.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:N.API},verbosity:{value:1,kind:N.API},workerPort:{value:null,kind:N.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:N.WORKER}};D.disablePreferences={value:!1,kind:N.VIEWER},D.locale={value:navigator.language||"en-US",kind:N.VIEWER},D.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:N.VIEWER},D.renderer.kind+=N.PREFERENCE;const S=Object.create(null);A.AppOptions=class M{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(i){const m=S[i];if(void 0!==m)return m;const I=D[i];return void 0!==I?I.compatibility??I.value:void 0}static getAll(i=null){const m=Object.create(null);for(const I in D){const p=D[I];if(i){if(0==(i&p.kind))continue;if(i===N.PREFERENCE){const v=p.value,h=typeof v;if("boolean"===h||"string"===h||"number"===h&&Number.isInteger(v)){m[I]=v;continue}throw new Error(`Invalid type for preference: ${I}`)}}const w=S[I];m[I]=void 0!==w?w:p.compatibility??p.value}return m}static set(i,m){S[i]=m}static setAll(i){for(const m in i)S[m]=i[m]}static remove(i){delete S[i]}static _hasUserOptions(){return Object.keys(S).length>0}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFRenderingQueue=void 0;var N=y(3),D=y(6);A.PDFRenderingQueue=class M{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(i){this.pdfViewer=i}setThumbnailViewer(i){this.pdfThumbnailViewer=i}isHighestPriority(i){return this.highestPriorityPage===i.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(i){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(i)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(i,m,I,p=!1){const w=i.views,v=w.length;if(0===v)return null;for(let B=0;B<v;B++){const H=w[B].view;if(!this.isViewFinished(H))return H}const h=i.first.id,P=i.last.id;if(P-h+1>v){const B=i.ids;for(let H=1,X=P-h;H<X;H++){const C=I?h+H:P-H;if(B.has(C))continue;const c=m[C-1];if(!this.isViewFinished(c))return c}}let R=I?P:h-2,T=m[R];return T&&!this.isViewFinished(T)||p&&(R+=I?1:-1,T=m[R],T&&!this.isViewFinished(T))?T:null}isViewFinished(i){return i.renderingState===D.RenderingStates.FINISHED}renderView(i){switch(i.renderingState){case D.RenderingStates.FINISHED:return!1;case D.RenderingStates.PAUSED:this.highestPriorityPage=i.renderingId,i.resume();break;case D.RenderingStates.RUNNING:this.highestPriorityPage=i.renderingId;break;case D.RenderingStates.INITIAL:this.highestPriorityPage=i.renderingId,i.draw().finally(()=>{this.renderHighestPriority()}).catch(m=>{m instanceof N.RenderingCancelledException||console.error(`renderView: "${m}"`)})}return!0}}},(G,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.TextHighlighter=void 0;A.TextHighlighter=class y{constructor({findController:D,eventBus:S,pageIndex:M}){this.findController=D,this.matches=[],this.eventBus=S,this.pageIdx=M,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(D,S){this.textDivs=D,this.textContentItemsStr=S}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=D=>{(D.pageIndex===this.pageIdx||-1===D.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(D,S){if(!D)return[];const{textContentItemsStr:M}=this;let r=0,i=0;const m=M.length-1,I=[];for(let p=0,w=D.length;p<w;p++){let v=D[p];for(;r!==m&&v>=i+M[r].length;)i+=M[r].length,r++;r===M.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:r,offset:v-i}};for(v+=S[p];r!==m&&v>i+M[r].length;)i+=M[r].length,r++;h.end={divIdx:r,offset:v-i},I.push(h)}return I}_renderMatches(D){if(0===D.length)return;const{findController:S,pageIdx:M}=this,{textContentItemsStr:r,textDivs:i}=this,m=M===S.selected.pageIdx,I=S.selected.matchIdx;let w=null;const v_offset=void 0;function h(B,H){const X=B.divIdx;return i[X].textContent="",P(X,0,B.offset,H)}function P(B,H,X,C){let c=i[B];if(c.nodeType===Node.TEXT_NODE){const u=document.createElement("span");c.parentNode.insertBefore(u,c),u.appendChild(c),i[B]=u,c=u}const a=r[B].substring(H,X),b=document.createTextNode(a);if(C){const u=document.createElement("span");return u.className=`${C} appended`,u.appendChild(b),c.appendChild(u),C.includes("selected")?u.offsetLeft:0}return c.appendChild(b),0}let R=I,T=R+1;if(S.state.highlightAll)R=0,T=D.length;else if(!m)return;for(let B=R;B<T;B++){const H=D[B],X=H.begin,C=H.end,c=m&&B===I,a=c?" selected":"";let b=0;if(w&&X.divIdx===w.divIdx?P(w.divIdx,w.offset,X.offset):(null!==w&&P(w.divIdx,w.offset,v_offset),h(X)),X.divIdx===C.divIdx)b=P(X.divIdx,X.offset,C.offset,"highlight"+a);else{b=P(X.divIdx,X.offset,v_offset,"highlight begin"+a);for(let u=X.divIdx+1,n=C.divIdx;u<n;u++)i[u].className="highlight middle"+a;h(C,"highlight end"+a)}w=C,c&&S.scrollMatchIntoView({element:i[X.divIdx],selectedLeft:b,pageIndex:M,matchIndex:I})}w&&P(w.divIdx,w.offset,v_offset)}_updateMatches(){if(!this.enabled)return;const{findController:D,matches:S,pageIdx:M}=this,{textContentItemsStr:r,textDivs:i}=this;let m=-1;for(let w=0,v=S.length;w<v;w++){const h=S[w];for(let R=Math.max(m,h.begin.divIdx),T=h.end.divIdx;R<=T;R++){const B=i[R];B.textContent=r[R],B.className=""}m=h.end.divIdx+1}D?.highlightMatches&&(this.matches=this._convertMatches(D.pageMatches[M]||null,D.pageMatchesLength[M]||null),this._renderMatches(this.matches))}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.DownloadManager=void 0;var N=y(3);function D(M,r){const i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=M,i.target="_parent","download"in i&&(i.download=r),(document.body||document.documentElement).appendChild(i),i.click(),i.remove()}A.DownloadManager=class S{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(r,i){(0,N.createValidAbsoluteUrl)(r,"http://example.com")?D(r+"#pdfjs.action=download",i):console.error(`downloadUrl - not a valid URL: ${r}`)}downloadData(r,i,m){D(URL.createObjectURL(new Blob([r],{type:m})),i)}openOrDownloadData(r,i,m){const I=(0,N.isPdfFile)(m),p=I?"application/pdf":"";if(I){let v,w=this._openBlobUrls.get(r);w||(w=URL.createObjectURL(new Blob([i],{type:p})),this._openBlobUrls.set(r,w)),v="?file="+encodeURIComponent(w+"#"+m);try{return window.open(v),!0}catch(h){console.error(`openOrDownloadData: ${h}`),URL.revokeObjectURL(w),this._openBlobUrls.delete(r)}}return this.downloadData(i,m,p),!1}download(r,i,m,I="download"){D(URL.createObjectURL(r),m)}}},(G,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.WaitOnType=A.EventBus=A.AutomationEventBus=void 0,A.waitOnEventOrTimeout=function N({target:M,name:r,delay:i=0}){return new Promise(function(m,I){if("object"!=typeof M||!r||"string"!=typeof r||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function p(P){M instanceof D?M._off(r,w):M.removeEventListener(r,w),h&&clearTimeout(h),m(P)}const w=p.bind(null,y.EVENT);M instanceof D?M._on(r,w):M.addEventListener(r,w);const v=p.bind(null,y.TIMEOUT),h=setTimeout(v,i)})};const y={EVENT:"event",TIMEOUT:"timeout"};A.WaitOnType=y;class D{constructor(){this._listeners=Object.create(null)}on(r,i,m=null){this._on(r,i,{external:!0,once:m?.once})}off(r,i,m=null){this._off(r,i,{external:!0,once:m?.once})}dispatch(r,i){const m=this._listeners[r];if(!m||0===m.length)return;let I;for(const{listener:p,external:w,once:v}of m.slice(0))v&&this._off(r,p),w?(I||(I=[])).push(p):p(i);if(I){for(const p of I)p(i);I=null}}_on(r,i,m=null){var p;((p=this._listeners)[r]||(p[r]=[])).push({listener:i,external:!0===m?.external,once:!0===m?.once})}_off(r,i,m=null){const I=this._listeners[r];if(I)for(let p=0,w=I.length;p<w;p++)if(I[p].listener===i)return void I.splice(p,1)}}A.EventBus=D;A.AutomationEventBus=class S extends D{dispatch(r,i){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.GenericL10n=void 0,y(19);var N=y(4);const D=document.webL10n;A.GenericL10n=class S{constructor(r){this._lang=r,this._ready=new Promise((i,m)=>{D.setLanguage((0,N.fixupLangCode)(r),()=>{i(D)})})}getLanguage(){var r=this;return Z(function*(){return(yield r._ready).getLanguage()})()}getDirection(){var r=this;return Z(function*(){return(yield r._ready).getDirection()})()}get(r,i=null,m=(0,N.getL10nFallback)(r,i)){var I=this;return Z(function*(){return(yield I._ready).get(r,i,m)})()}translate(r){var i=this;return Z(function*(){return(yield i._ready).translate(r)})()}}},()=>{document.webL10n=function(G,A,y){var N={},D="",S="textContent",M="",r={},i="loading";function h(u,n,l){n=n||function(x){},l=l||function(){};var g=new XMLHttpRequest;g.open("GET",u,true),g.overrideMimeType&&g.overrideMimeType("text/plain; charset=utf-8"),g.onreadystatechange=function(){4==g.readyState&&(200==g.status||0===g.status?n(g.responseText):l())},g.onerror=l,g.ontimeout=l;try{g.send(null)}catch{l()}}function P(u,n,l,g){var F=u.replace(/[^\/]*$/,"")||"./";function x(Q){return Q.lastIndexOf("\\")<0?Q:Q.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}h(u,function(Q){D+=Q,function f(Q,te){var ee={},ie=/^\s*|\s*$/,de=/^\s*#|^\s*$/,fe=/^\s*\[(.*)\]\s*$/,me=/^\s*@import\s+url\((.*)\)\s*$/i,ve=/^([^=\s]*)\s*=\s*(.+)$/;function pe(Ee,Ae,Pe){var Ze=Ee.replace(ie,"").split(/[\r\n]+/),oe="*",k=n.split("-",1)[0],K=!1,ae="";!function he(){for(;;){if(!Ze.length)return void Pe();var ue=Ze.shift();if(!de.test(ue)){if(Ae){if(ae=fe.exec(ue)){oe=ae[1].toLowerCase(),K="*"!==oe&&oe!==n&&oe!==k;continue}if(K)continue;if(ae=me.exec(ue))return void Se(F+ae[1],he)}var ge=ue.match(ve);ge&&3==ge.length&&(ee[ge[1]]=x(ge[2]))}}}()}function Se(Ee,Ae){h(Ee,function(Pe){pe(Pe,!1,Ae)},function(){console.warn(Ee+" not found."),Ae()})}pe(Q,!0,function(){te(ee)})}(Q,function(te){for(var ee in te){var ie,de,fe=ee.lastIndexOf(".");fe>0?(ie=ee.substring(0,fe),de=ee.substring(fe+1)):(ie=ee,de=S),N[ie]||(N[ie]={}),N[ie][de]=te[ee]}l&&l()})},g)}function R(u,n){u&&(u=u.toLowerCase()),n=n||function(){},function T(){N={},D="",M=""}(),M=u;var l=function I(){return A.querySelectorAll('link[type="application/l10n"]')}(),g=l.length;if(0!==g){var Q,te=0;Q=function(){++te>=g&&(n(),i="complete")};for(var ie=0;ie<g;ie++)new ee(l[ie]).load(u,Q)}else{var F=function p(){var u=A.querySelector('script[type="application/l10n"]');return u?JSON.parse(u.innerHTML):null}();if(F&&F.locales&&F.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(N=F.locales[u])){var x=F.default_locale.toLowerCase();for(var f in F.locales){if((f=f.toLowerCase())===u){N=F.locales[u];break}f===x&&(N=F.locales[x])}}n()}else console.log("no resource to load, early way out");i="complete"}function ee(fe){var me=fe.href;this.load=function(ve,pe){P(me,ve,pe,function(){console.warn(me+" not found."),console.warn('"'+ve+'" resource not found'),M="",pe()})}}}function H(u,n,l){var g=N[u];if(!g){if(console.warn("#"+u+" is undefined."),!l)return null;g=l}var F={};for(var x in g){var f=g[x];f=C(f=X(f,n,u,x),n,u),F[x]=f}return F}function X(u,n,l,g){var x=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(u);if(!x||!x.length)return u;var te,f=x[1],Q=x[2];return n&&Q in n?te=n[Q]:Q in N&&(te=N[Q]),f in r&&(u=(0,r[f])(u,te,l,g)),u}function C(u,n,l){return u.replace(/\{\{\s*(.+?)\s*\}\}/g,function(F,x){return n&&x in n?n[x]:x in N?N[x]:(console.log("argument {{"+x+"}} for #"+l+" is undefined."),F)})}function c(u){var n=function v(u){if(!u)return{};var n=u.getAttribute("data-l10n-id"),l=u.getAttribute("data-l10n-args"),g={};if(l)try{g=JSON.parse(l)}catch{console.warn("could not parse arguments for #"+n)}return{id:n,args:g}}(u);if(n.id){var l=H(n.id,n.args);if(!l)return void console.warn("#"+n.id+" is undefined.");if(l[S]){if(0===function a(u){if(u.children)return u.children.length;if(typeof u.childElementCount<"u")return u.childElementCount;for(var n=0,l=0;l<u.childNodes.length;l++)n+=1===u.nodeType?1:0;return n}(u))u[S]=l[S];else{for(var g=u.childNodes,F=!1,x=0,f=g.length;x<f;x++)3===g[x].nodeType&&/\S/.test(g[x].nodeValue)&&(F?g[x].nodeValue="":(g[x].nodeValue=l[S],F=!0));if(!F){var Q=A.createTextNode(l[S]);u.insertBefore(Q,u.firstChild)}}delete l[S]}for(var te in l)u[te]=l[te]}}return r.plural=function(u,n,l,g){var F=parseFloat(n);if(isNaN(F)||g!=S)return u;r._pluralRules||(r._pluralRules=function B(u){function l(f,Q){return-1!==Q.indexOf(f)}function g(f,Q,te){return Q<=f&&f<=te}var F={0:function(f){return"other"},1:function(f){return g(f%100,3,10)?"few":0===f?"zero":g(f%100,11,99)?"many":2==f?"two":1==f?"one":"other"},2:function(f){return 0!==f&&f%10==0?"many":2==f?"two":1==f?"one":"other"},3:function(f){return 1==f?"one":"other"},4:function(f){return g(f,0,1)?"one":"other"},5:function(f){return g(f,0,2)&&2!=f?"one":"other"},6:function(f){return 0===f?"zero":f%10==1&&f%100!=11?"one":"other"},7:function(f){return 2==f?"two":1==f?"one":"other"},8:function(f){return g(f,3,6)?"few":g(f,7,10)?"many":2==f?"two":1==f?"one":"other"},9:function(f){return 0===f||1!=f&&g(f%100,1,19)?"few":1==f?"one":"other"},10:function(f){return g(f%10,2,9)&&!g(f%100,11,19)?"few":f%10!=1||g(f%100,11,19)?"other":"one"},11:function(f){return g(f%10,2,4)&&!g(f%100,12,14)?"few":f%10==0||g(f%10,5,9)||g(f%100,11,14)?"many":f%10==1&&f%100!=11?"one":"other"},12:function(f){return g(f,2,4)?"few":1==f?"one":"other"},13:function(f){return g(f%10,2,4)&&!g(f%100,12,14)?"few":1!=f&&g(f%10,0,1)||g(f%10,5,9)||g(f%100,12,14)?"many":1==f?"one":"other"},14:function(f){return g(f%100,3,4)?"few":f%100==2?"two":f%100==1?"one":"other"},15:function(f){return 0===f||g(f%100,2,10)?"few":g(f%100,11,19)?"many":1==f?"one":"other"},16:function(f){return f%10==1&&11!=f?"one":"other"},17:function(f){return 3==f?"few":0===f?"zero":6==f?"many":2==f?"two":1==f?"one":"other"},18:function(f){return 0===f?"zero":g(f,0,2)&&0!==f&&2!=f?"one":"other"},19:function(f){return g(f,2,10)?"few":g(f,0,1)?"one":"other"},20:function(f){return!g(f%10,3,4)&&f%10!=9||g(f%100,10,19)||g(f%100,70,79)||g(f%100,90,99)?f%1e6==0&&0!==f?"many":f%10!=2||l(f%100,[12,72,92])?f%10!=1||l(f%100,[11,71,91])?"other":"one":"two":"few"},21:function(f){return 0===f?"zero":1==f?"one":"other"},22:function(f){return g(f,0,1)||g(f,11,99)?"one":"other"},23:function(f){return g(f%10,1,2)||f%20==0?"one":"other"},24:function(f){return g(f,3,10)||g(f,13,19)?"few":l(f,[2,12])?"two":l(f,[1,11])?"one":"other"}},x={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[u.replace(/-.*$/,"")];return x in F?F[x]:(console.warn("plural form unknown for ["+u+"]"),function(){return"other"})}(M));var x="["+r._pluralRules(F)+"]";return 0===F&&l+"[zero]"in N?u=N[l+"[zero]"][g]:1==F&&l+"[one]"in N?u=N[l+"[one]"][g]:2==F&&l+"[two]"in N?u=N[l+"[two]"][g]:l+x in N?u=N[l+x][g]:l+"[other]"in N&&(u=N[l+"[other]"][g]),u},{get:function(u,n,l){var x,g=u.lastIndexOf("."),F=S;g>0&&(F=u.substring(g+1),u=u.substring(0,g)),l&&((x={})[F]=l);var f=H(u,n,x);return f&&F in f?f[F]:"{{"+u+"}}"},getData:function(){return N},getText:function(){return D},getLanguage:function(){return M},setLanguage:function(u,n){R(u,function(){n&&n()})},getDirection:function(){var n=M.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(n)>=0?"rtl":"ltr"},translate:function b(u){for(var n=function w(u){return u?u.querySelectorAll("*[data-l10n-id]"):[]}(u=u||A.documentElement),l=n.length,g=0;g<l;g++)c(n[g]);c(u)},getReadyState:function(){return i},ready:function(u){u&&("complete"==i||"interactive"==i?G.setTimeout(function(){u()}):A.addEventListener&&A.addEventListener("localized",function n(){A.removeEventListener("localized",n),u()}))}}}(window,document)},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFFindController=A.FindState=void 0;var N=y(6),D=y(3),S=y(21);const M={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};A.FindState=M;const I={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},p=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),w=[...p.values()].map(C=>String.fromCharCode(C)).join(""),v=/\p{M}+/gu,h=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,P=/([^\p{M}])\p{M}*$/u,R=/^\p{M}*([^\p{M}])/u;let T=null;function B(C){if(!T){const f=Object.keys(I).join("");T=new RegExp(`([${f}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const c=[];let a;for(;null!==(a=v.exec(C));)c.push([a[0].length,a.index]);let b=C.normalize("NFD");const u=[[0,0]];let n=0,l=0,g=0,F=0,x=!1;return b=b.replace(T,(f,Q,te,ee,ie,de)=>{if(de-=g,Q){const fe=I[f],me=fe.length;for(let ve=1;ve<me;ve++)u.push([de-l+ve,l-ve]);return l-=me-1,fe}if(te){const fe=te.endsWith("\n"),me=fe?te.length-2:te.length;x=!0;let ve=me;de+F===c[n]?.[1]&&(ve-=c[n][0],++n);for(let pe=1;pe<ve+1;pe++)u.push([de-1-l+pe,l-pe]);return l-=ve,g+=ve,fe?(u.push([(de+=me-1)-l+1,1+l]),l+=1,g+=1,F+=1,te.slice(0,me)):te}return ee?(u.push([de-l+1,1+l]),l+=1,g+=1,F+=1,ee.charAt(0)):(u.push([de-l+1,l-1]),l-=1,g+=1,F+=1," ")}),u.push([b.length,l]),[b,u,x]}function H(C,c,a){if(!C)return[c,a];const b=c,u=c+a;let n=(0,N.binarySearchFirstItem)(C,g=>g[0]>=b);C[n][0]>b&&--n;let l=(0,N.binarySearchFirstItem)(C,g=>g[0]>=u,n);return C[l][0]>u&&--l,[b+C[n][1],a+C[l][1]-C[n][1]]}A.PDFFindController=class X{constructor({linkService:c,eventBus:a}){this._linkService=c,this._eventBus=a,this._reset(),a._on("find",this._onFind.bind(this)),a._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(b,u)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const n=Object.assign(Object.create(null),u,{type:b.substring(4)});this._onFind(n)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(c){this._pdfDocument&&this._reset(),c&&(this._pdfDocument=c,this._firstPageCapability.resolve())}_onFind(c){if(!c)return;const a=this._pdfDocument,{type:b}=c;(null===this._state||this._shouldDirtyMatch(c))&&(this._dirtyMatch=!0),this._state=c,"highlightallchange"!==b&&this._updateUIState(M.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||a&&this._pdfDocument!==a)return;this._extractText();const u=!this._highlightMatches,n=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),b?this._dirtyMatch?this._nextMatch():"again"===b?(this._nextMatch(),u&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===b?(n?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:c=null,selectedLeft:a=0,pageIndex:b=-1,matchIndex:u=-1}){this._scrollMatches&&c&&-1!==u&&u===this._selected.matchIdx&&-1!==b&&b===this._selected.pageIdx&&(this._scrollMatches=!1,(0,N.scrollIntoView)(c,{top:-50,left:a+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,D.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=B(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(c){if(c.query!==this._state.query)return!0;switch(c.type){case"again":const a=this._selected.pageIdx+1,b=this._linkService;return a>=1&&a<=b.pagesCount&&a!==b.page&&!b.isPageVisible(a);case"highlightallchange":return!1}return!0}_isEntireWord(c,a,b){let u=c.slice(0,a).match(P);if(u){const n=c.charCodeAt(a),l=u[1].charCodeAt(0);if((0,S.getCharacterType)(n)===(0,S.getCharacterType)(l))return!1}if(u=c.slice(a+b).match(R),u){const n=c.charCodeAt(a+b-1),l=u[1].charCodeAt(0);if((0,S.getCharacterType)(n)===(0,S.getCharacterType)(l))return!1}return!0}_calculateRegExpMatch(c,a,b,u){const n=[],l=[],g=this._pageDiffs[b];let F;for(;null!==(F=c.exec(u));){if(a&&!this._isEntireWord(u,F.index,F[0].length))continue;const[x,f]=H(g,F.index,F[0].length);f&&(n.push(x),l.push(f))}this._pageMatches[b]=n,this._pageMatchesLength[b]=l}_convertToRegExpString(c,a){const{matchDiacritics:b}=this._state;let u=!1;const n="[ ]*";return(c=c.replace(h,(l,g,F,x,f,Q)=>g?`[ ]*\\${g}[ ]*`:F?`[ ]*${F}[ ]*`:x?"[ ]+":b?f||Q:f?p.has(f.charCodeAt(0))?f:"":a?(u=!0,`${Q}\\p{M}*`):Q)).endsWith(n)&&(c=c.slice(0,c.length-n.length)),b&&a&&(u=!0,c=`${c}(?=[${w}]|[^\\p{M}]|$)`),[u,c]}_calculateMatch(c){let a=this._query;if(0===a.length)return;const{caseSensitive:b,entireWord:u,phraseSearch:n}=this._state,l=this._pageContents[c],g=this._hasDiacritics[c];let F=!1;if(n)[F,a]=this._convertToRegExpString(a,g);else{const Q=a.match(/\S+/g);Q&&(a=Q.sort().reverse().map(te=>{const[ee,ie]=this._convertToRegExpString(te,g);return F||(F=ee),`(${ie})`}).join("|"))}a=new RegExp(a,`g${F?"u":""}${b?"":"i"}`),this._calculateRegExpMatch(a,u,c,l),this._state.highlightAll&&this._updatePage(c),this._resumePageIdx===c&&(this._resumePageIdx=null,this._nextPageMatch());const f=this._pageMatches[c].length;f>0&&(this._matchesCountTotal+=f,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let c=Promise.resolve();for(let a=0,b=this._linkService.pagesCount;a<b;a++){const u=(0,D.createPromiseCapability)();this._extractTextPromises[a]=u.promise,c=c.then(()=>this._pdfDocument.getPage(a+1).then(n=>n.getTextContent()).then(n=>{const l=n.items,g=[];for(let F=0,x=l.length;F<x;F++)g.push(l[F].str),l[F].hasEOL&&g.push("\n");[this._pageContents[a],this._pageDiffs[a],this._hasDiacritics[a]]=B(g.join("")),u.resolve(a)},n=>{console.error(`Unable to get text content for page ${a+1}`,n),this._pageContents[a]="",this._pageDiffs[a]=null,this._hasDiacritics[a]=!1,u.resolve(a)}))}}_updatePage(c){this._scrollMatches&&this._selected.pageIdx===c&&(this._linkService.page=c+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:c})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const c=this._state.findPrevious,a=this._linkService.page-1,b=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=a,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let n=0;n<b;n++)this._pendingFindMatches.has(n)||(this._pendingFindMatches.add(n),this._extractTextPromises[n].then(l=>{this._pendingFindMatches.delete(l),this._calculateMatch(l)}))}if(""===this._query)return void this._updateUIState(M.FOUND);if(this._resumePageIdx)return;const u=this._offset;if(this._pagesToSearch=b,null!==u.matchIdx){const n=this._pageMatches[u.pageIdx].length;if(!c&&u.matchIdx+1<n||c&&u.matchIdx>0)return u.matchIdx=c?u.matchIdx-1:u.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(c)}this._nextPageMatch()}_matchesReady(c){const a=this._offset,b=c.length,u=this._state.findPrevious;return b?(a.matchIdx=u?b-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(u),!!(a.wrapped&&(a.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let c=null;do{const a=this._offset.pageIdx;if(c=this._pageMatches[a],!c){this._resumePageIdx=a;break}}while(!this._matchesReady(c))}_advanceOffsetPage(c){const a=this._offset,b=this._linkService.pagesCount;a.pageIdx=c?a.pageIdx-1:a.pageIdx+1,a.matchIdx=null,this._pagesToSearch--,(a.pageIdx>=b||a.pageIdx<0)&&(a.pageIdx=c?b-1:0,a.wrapped=!0)}_updateMatch(c=!1){let a=M.NOT_FOUND;const b=this._offset.wrapped;if(this._offset.wrapped=!1,c){const u=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,a=b?M.WRAPPED:M.FOUND,-1!==u&&u!==this._selected.pageIdx&&this._updatePage(u)}this._updateUIState(a,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(c){const a=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||a&&this._pdfDocument!==a||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(M.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:c,matchIdx:a}=this._selected;let b=0,u=this._matchesCountTotal;if(-1!==a){for(let n=0;n<c;n++)b+=this._pageMatches[n]?.length||0;b+=a+1}return(b<1||b>u)&&(b=u=0),{current:b,total:u}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(c,a=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:c,previous:a,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(G,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CharacterType=void 0,A.getCharacterType=function v(h){return function N(h){return h<11904}(h)?function D(h){return 0==(65408&h)}(h)?function r(h){return 32===h||9===h||13===h||10===h}(h)?y.SPACE:function S(h){return h>=97&&h<=122||h>=65&&h<=90}(h)||function M(h){return h>=48&&h<=57}(h)||95===h?y.ALPHA_LETTER:y.PUNCT:function w(h){return 3584==(65408&h)}(h)?y.THAI_LETTER:160===h?y.SPACE:y.ALPHA_LETTER:function i(h){return h>=13312&&h<=40959||h>=63744&&h<=64255}(h)?y.HAN_LETTER:function m(h){return h>=12448&&h<=12543}(h)?y.KATAKANA_LETTER:function I(h){return h>=12352&&h<=12447}(h)?y.HIRAGANA_LETTER:function p(h){return h>=65376&&h<=65439}(h)?y.HALFWIDTH_KATAKANA_LETTER:y.ALPHA_LETTER};const y={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};A.CharacterType=y},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFHistory=void 0,A.isDestArraysEqual=p,A.isDestHashesEqual=I;var N=y(6),D=y(17);function i(){return document.location.hash}function I(w,v){return"string"==typeof w&&"string"==typeof v&&(w===v||(0,N.parseQueryString)(w).get("nameddest")===v)}function p(w,v){function h(P,R){if(typeof P!=typeof R||Array.isArray(P)||Array.isArray(R))return!1;if(null!==P&&"object"==typeof P&&null!==R){if(Object.keys(P).length!==Object.keys(R).length)return!1;for(const T in P)if(!h(P[T],R[T]))return!1;return!0}return P===R||Number.isNaN(P)&&Number.isNaN(R)}if(!Array.isArray(w)||!Array.isArray(v)||w.length!==v.length)return!1;for(let P=0,R=w.length;P<R;P++)if(!h(w[P],v[P]))return!1;return!0}A.PDFHistory=class m{constructor({linkService:v,eventBus:h}){this.linkService=v,this.eventBus=h,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",P=>{this._isViewerInPresentationMode=P.state!==N.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",P=>{this._isPagesLoaded=!!P.pagesCount},{once:!0})})}initialize({fingerprint:v,resetHistory:h=!1,updateUrl:P=!1}){if(!v||"string"!=typeof v)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const R=""!==this._fingerprint&&this._fingerprint!==v;this._fingerprint=v,this._updateUrl=!0===P,this._initialized=!0,this._bindEvents();const T=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=i(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(T,!0)||h){const{hash:H,page:X,rotation:C}=this._parseCurrentHash(!0);return!H||R||h?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:H,page:X,rotation:C},!0)}const B=T.destination;this._updateInternalState(B,T.uid,!0),void 0!==B.rotation&&(this._initialRotation=B.rotation),B.dest?(this._initialBookmark=JSON.stringify(B.dest),this._destination.page=null):B.hash?this._initialBookmark=B.hash:B.page&&(this._initialBookmark=`page=${B.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:v=null,explicitDest:h,pageNumber:P}){if(!this._initialized)return;if(v&&"string"!=typeof v)return void console.error(`PDFHistory.push: "${v}" is not a valid namedDest parameter.`);if(!Array.isArray(h))return void console.error(`PDFHistory.push: "${h}" is not a valid explicitDest parameter.`);if(!this._isValidPage(P)&&(null!==P||this._destination))return void console.error(`PDFHistory.push: "${P}" is not a valid pageNumber parameter.`);const R=v||JSON.stringify(h);if(!R)return;let T=!1;if(this._destination&&(I(this._destination.hash,R)||p(this._destination.dest,h))){if(this._destination.page)return;T=!0}this._popStateInProgress&&!T||(this._pushOrReplaceState({dest:h,hash:R,page:P,rotation:this.linkService.rotation},T),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(v){if(this._initialized){if(!this._isValidPage(v))return void console.error(`PDFHistory.pushPage: "${v}" is not a valid page number.`);this._destination?.page!==v&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${v}`,page:v,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const v=window.history.state;this._isValidState(v)&&v.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const v=window.history.state;this._isValidState(v)&&v.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(v,h=!1){const P=h||!this._destination,R={fingerprint:this._fingerprint,uid:P?this._uid:this._uid+1,destination:v};let T;if(this._updateInternalState(v,R.uid),this._updateUrl&&v?.hash){const B=document.location.href.split("#")[0];B.startsWith("file://")||(T=`${B}#${v.hash}`)}P?window.history.replaceState(R,"",T):window.history.pushState(R,"",T)}_tryPushCurrentPosition(v=!1){if(!this._position)return;let h=this._position;if(v&&(h=Object.assign(Object.create(null),this._position),h.temporary=!0),!this._destination)return void this._pushOrReplaceState(h);if(this._destination.temporary)return void this._pushOrReplaceState(h,!0);if(this._destination.hash===h.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let P=!1;if(this._destination.page>=h.first&&this._destination.page<=h.page){if(void 0!==this._destination.dest||!this._destination.first)return;P=!0}this._pushOrReplaceState(h,P)}_isValidPage(v){return Number.isInteger(v)&&v>0&&v<=this.linkService.pagesCount}_isValidState(v,h=!1){if(!v)return!1;if(v.fingerprint!==this._fingerprint){if(!h)return!1;{if("string"!=typeof v.fingerprint||v.fingerprint.length!==this._fingerprint.length)return!1;const[P]=performance.getEntriesByType("navigation");if("reload"!==P?.type)return!1}}return!(!Number.isInteger(v.uid)||v.uid<0||null===v.destination||"object"!=typeof v.destination)}_updateInternalState(v,h,P=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),P&&v?.temporary&&delete v.temporary,this._destination=v,this._uid=h,this._maxUid=Math.max(this._maxUid,h),this._numPositionUpdates=0}_parseCurrentHash(v=!1){const h=unescape(i()).substring(1),P=(0,N.parseQueryString)(h),R=P.get("nameddest")||"";let T=0|P.get("page");return(!this._isValidPage(T)||v&&R.length>0)&&(T=null),{hash:h,page:T,rotation:this.linkService.rotation}}_updateViewarea({location:v}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${v.pageNumber}`:v.pdfOpenParams.substring(1),page:this.linkService.page,first:v.pageNumber,rotation:v.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:v}){const h=i(),P=this._currentHash!==h;if(this._currentHash=h,!v){this._uid++;const{hash:T,page:B,rotation:H}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:T,page:B,rotation:H},!0)}if(!this._isValidState(v))return;this._popStateInProgress=!0,P&&(this._blockHashChange++,(0,D.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const R=v.destination;this._updateInternalState(R,v.uid,!0),(0,N.isValidRotation)(R.rotation)&&(this.linkService.rotation=R.rotation),R.dest?this.linkService.goToDestination(R.dest):R.hash?this.linkService.setHash(R.hash):R.page&&(this.linkService.page=R.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFScriptingManager=void 0;var N=y(6),D=y(3);A.PDFScriptingManager=class S{constructor({eventBus:r,sandboxBundleSrc:i=null,scriptingFactory:m=null,docPropertiesLookup:I=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=i,this._scriptingFactory=m,this._docPropertiesLookup=I,this._scriptingFactory||window.addEventListener("updatefromsandbox",p=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:p.detail})})}setViewer(r){this._pdfViewer=r}setDocument(r){var i=this;return Z(function*(){if(i._pdfDocument&&(yield i._destroyScripting()),i._pdfDocument=r,!r)return;const[m,I,p]=yield Promise.all([r.getFieldObjects(),r.getCalculationOrderIds(),r.getJSActions()]);if(m||p){if(r===i._pdfDocument){try{i._scripting=i._createScripting()}catch(w){return console.error(`PDFScriptingManager.setDocument: "${w?.message}".`),void(yield i._destroyScripting())}i._internalEvents.set("updatefromsandbox",w=>{w?.source===window&&i._updateFromSandbox(w.detail)}),i._internalEvents.set("dispatcheventinsandbox",w=>{i._scripting?.dispatchEventInSandbox(w.detail)}),i._internalEvents.set("pagechanging",({pageNumber:w,previous:v})=>{w!==v&&(i._dispatchPageClose(v),i._dispatchPageOpen(w))}),i._internalEvents.set("pagerendered",({pageNumber:w})=>{!i._pageOpenPending.has(w)||w===i._pdfViewer.currentPageNumber&&i._dispatchPageOpen(w)}),i._internalEvents.set("pagesdestroy",function(){var w=Z(function*(v){yield i._dispatchPageClose(i._pdfViewer.currentPageNumber),yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),i._closeCapability?.resolve()});return function(v){return w.apply(this,arguments)}}()),i._domEvents.set("mousedown",w=>{i._mouseState.isDown=!0}),i._domEvents.set("mouseup",w=>{i._mouseState.isDown=!1});for(const[w,v]of i._internalEvents)i._eventBus._on(w,v);for(const[w,v]of i._domEvents)window.addEventListener(w,v);try{const w=yield i._getDocProperties();if(r!==i._pdfDocument)return;yield i._scripting.createSandbox({objects:m,calculationOrder:I,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...w,actions:p}}),i._eventBus.dispatch("sandboxcreated",{source:i})}catch(w){return console.error(`PDFScriptingManager.setDocument: "${w?.message}".`),void(yield i._destroyScripting())}yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield i._dispatchPageOpen(i._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{r===i._pdfDocument&&(i._ready=!0)})}}else yield i._destroyScripting()})()}dispatchWillSave(r){var i=this;return Z(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(r){var i=this;return Z(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(r){var i=this;return Z(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(r){var i=this;return Z(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,D.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,D.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,D.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,D.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(r){var i=this;return Z(function*(){const m=i._pdfViewer.isInPresentationMode||i._pdfViewer.isChangingPresentationMode,{id:I,siblings:p,command:w,value:v}=r;if(!I){switch(w){case"clear":console.clear();break;case"error":console.error(v);break;case"layout":if(m)return;const P=(0,N.apiPageLayoutToViewerModes)(v);i._pdfViewer.spreadMode=P.spreadMode;break;case"page-num":i._pdfViewer.currentPageNumber=v+1;break;case"print":yield i._pdfViewer.pagesPromise,i._eventBus.dispatch("print",{source:i});break;case"println":console.log(v);break;case"zoom":if(m)return;i._pdfViewer.currentScaleValue=v;break;case"SaveAs":i._eventBus.dispatch("save",{source:i});break;case"FirstPage":i._pdfViewer.currentPageNumber=1;break;case"LastPage":i._pdfViewer.currentPageNumber=i._pdfViewer.pagesCount;break;case"NextPage":i._pdfViewer.nextPage();break;case"PrevPage":i._pdfViewer.previousPage();break;case"ZoomViewIn":if(m)return;i._pdfViewer.increaseScale();break;case"ZoomViewOut":if(m)return;i._pdfViewer.decreaseScale()}return}if(m&&r.focus)return;delete r.id,delete r.siblings;const h=p?[I,...p]:[I];for(const P of h){const R=document.getElementById(P);R?R.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:r})):i._pdfDocument?.annotationStorage.setValue(P,r)}})()}_dispatchPageOpen(r,i=!1){var m=this;return Z(function*(){const I=m._pdfDocument,p=m._visitedPages;if(i&&(m._closeCapability=(0,D.createPromiseCapability)()),!m._closeCapability)return;const w=m._pdfViewer.getPageView(r-1);if(w?.renderingState!==N.RenderingStates.FINISHED)return void m._pageOpenPending.add(r);m._pageOpenPending.delete(r);const v=Z(function*(){const h=yield p.has(r)?null:w.pdfPage?.getJSActions();I===m._pdfDocument&&(yield m._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:r,actions:h}))})();p.set(r,v)})()}_dispatchPageClose(r){var i=this;return Z(function*(){const m=i._pdfDocument,I=i._visitedPages;if(!i._closeCapability||i._pageOpenPending.has(r))return;const p=I.get(r);!p||(I.set(r,null),yield p,m===i._pdfDocument&&(yield i._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:r})))})()}_getDocProperties(){var r=this;return Z(function*(){if(r._docPropertiesLookup)return r._docPropertiesLookup(r._pdfDocument);const{docPropertiesLookup:i}=y(24);return i(r._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,D.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:r}=y(24);return new r(this._sandboxBundleSrc)}_destroyScripting(){var r=this;return Z(function*(){if(!r._scripting)return r._pdfDocument=null,void r._destroyCapability?.resolve();r._closeCapability&&(yield Promise.race([r._closeCapability.promise,new Promise(i=>{setTimeout(i,1e3)})]).catch(i=>{}),r._closeCapability=null),r._pdfDocument=null;try{yield r._scripting.destroySandbox()}catch{}for(const[i,m]of r._internalEvents)r._eventBus._off(i,m);r._internalEvents.clear();for(const[i,m]of r._domEvents)window.removeEventListener(i,m);r._domEvents.clear(),r._pageOpenPending.clear(),r._visitedPages.clear(),r._scripting=null,delete r._mouseState.isDown,r._ready=!1,r._destroyCapability?.resolve()})()}}},(G,A,y)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.GenericScripting=void 0,A.docPropertiesLookup=function D(r){return S.apply(this,arguments)};var N=y(3);function S(){return(S=Z(function*(r){const m="".split("#")[0];let{info:I,metadata:p,contentDispositionFilename:w,contentLength:v}=yield r.getMetadata();if(!v){const{length:h}=yield r.getDownloadInfo();v=h}return{...I,baseURL:m,filesize:v,filename:w||(0,N.getPdfFilenameFromUrl)(""),metadata:p?.getRaw(),authors:p?.get("dc:creator"),numPages:r.numPages,URL:""}})).apply(this,arguments)}A.GenericScripting=class M{constructor(i){this._ready=(0,N.loadScript)(i,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(i){var m=this;return Z(function*(){(yield m._ready).create(i)})()}dispatchEventInSandbox(i){var m=this;return Z(function*(){const I=yield m._ready;setTimeout(()=>I.dispatchEvent(i),0)})()}destroySandbox(){var i=this;return Z(function*(){(yield i._ready).nukeSandbox()})()}}}],$={};function J(G){var A=$[G];if(void 0!==A)return A.exports;var y=$[G]={exports:{}};return W[G](y,y.exports,J),y.exports}var j={};return(()=>{var G=j;Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return S.AnnotationLayerBuilder}}),Object.defineProperty(G,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return A.DefaultAnnotationLayerFactory}}),Object.defineProperty(G,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return A.DefaultStructTreeLayerFactory}}),Object.defineProperty(G,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return A.DefaultTextLayerFactory}}),Object.defineProperty(G,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return A.DefaultXfaLayerFactory}}),Object.defineProperty(G,"DownloadManager",{enumerable:!0,get:function(){return M.DownloadManager}}),Object.defineProperty(G,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(G,"GenericL10n",{enumerable:!0,get:function(){return i.GenericL10n}}),Object.defineProperty(G,"LinkTarget",{enumerable:!0,get:function(){return y.LinkTarget}}),Object.defineProperty(G,"NullL10n",{enumerable:!0,get:function(){return m.NullL10n}}),Object.defineProperty(G,"PDFFindController",{enumerable:!0,get:function(){return I.PDFFindController}}),Object.defineProperty(G,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(G,"PDFLinkService",{enumerable:!0,get:function(){return y.PDFLinkService}}),Object.defineProperty(G,"PDFPageView",{enumerable:!0,get:function(){return w.PDFPageView}}),Object.defineProperty(G,"PDFScriptingManager",{enumerable:!0,get:function(){return v.PDFScriptingManager}}),Object.defineProperty(G,"PDFSinglePageViewer",{enumerable:!0,get:function(){return D.PDFSinglePageViewer}}),Object.defineProperty(G,"PDFViewer",{enumerable:!0,get:function(){return D.PDFViewer}}),Object.defineProperty(G,"ProgressBar",{enumerable:!0,get:function(){return N.ProgressBar}}),Object.defineProperty(G,"SimpleLinkService",{enumerable:!0,get:function(){return y.SimpleLinkService}}),Object.defineProperty(G,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return h.StructTreeLayerBuilder}}),Object.defineProperty(G,"TextLayerBuilder",{enumerable:!0,get:function(){return P.TextLayerBuilder}}),Object.defineProperty(G,"XfaLayerBuilder",{enumerable:!0,get:function(){return R.XfaLayerBuilder}}),Object.defineProperty(G,"parseQueryString",{enumerable:!0,get:function(){return N.parseQueryString}});var A=J(1),y=J(5),N=J(6),D=J(10),S=J(2),M=J(16),r=J(17),i=J(18),m=J(4),I=J(20),p=J(22),w=J(12),v=J(23),h=J(7),P=J(8),R=J(9)})(),j})()},8926:ne=>{function o(s,z,E,e,Y,q,Z){try{var W=s[q](Z),$=W.value}catch(J){return void E(J)}W.done?z($):Promise.resolve($).then(e,Y)}ne.exports=function O(s){return function(){var z=this,E=arguments;return new Promise(function(e,Y){var q=s.apply(z,E);function Z($){o(q,e,Y,Z,W,"next",$)}function W($){o(q,e,Y,Z,W,"throw",$)}Z(void 0)})}},ne.exports.__esModule=!0,ne.exports.default=ne.exports},6869:ne=>{ne.exports=function o(O,s){if(s.has(O))throw new TypeError("Cannot initialize the same private elements twice on an object")},ne.exports.__esModule=!0,ne.exports.default=ne.exports},6358:ne=>{ne.exports=function o(O,s){return s.get?s.get.call(O):s.value},ne.exports.__esModule=!0,ne.exports.default=ne.exports},8625:ne=>{ne.exports=function o(O,s,z){if(s.set)s.set.call(O,z);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=z}},ne.exports.__esModule=!0,ne.exports.default=ne.exports},4094:ne=>{ne.exports=function o(O,s){if(O!==s)throw new TypeError("Private static access of wrong provenance")},ne.exports.__esModule=!0,ne.exports.default=ne.exports},3486:ne=>{ne.exports=function o(O,s,z){if(!s.has(O))throw new TypeError("attempted to "+z+" private field on non-instance");return s.get(O)},ne.exports.__esModule=!0,ne.exports.default=ne.exports},1226:(ne,o,O)=>{var s=O(6358),z=O(3486);ne.exports=function E(e,Y){var q=z(e,Y,"get");return s(e,q)},ne.exports.__esModule=!0,ne.exports.default=ne.exports},3606:(ne,o,O)=>{var s=O(6869);ne.exports=function z(E,e,Y){s(E,e),e.set(E,Y)},ne.exports.__esModule=!0,ne.exports.default=ne.exports},5962:(ne,o,O)=>{var s=O(8625),z=O(3486);ne.exports=function E(e,Y,q){var Z=z(e,Y,"set");return s(e,Z,q),q},ne.exports.__esModule=!0,ne.exports.default=ne.exports},4877:ne=>{ne.exports=function o(O,s,z){if(!s.has(O))throw new TypeError("attempted to get private field on non-instance");return z},ne.exports.__esModule=!0,ne.exports.default=ne.exports},3448:(ne,o,O)=>{var s=O(6869);ne.exports=function z(E,e){s(E,e),e.add(E)},ne.exports.__esModule=!0,ne.exports.default=ne.exports},9393:(ne,o,O)=>{var s=O(4094);ne.exports=function z(E,e,Y){return s(E,e),Y},ne.exports.__esModule=!0,ne.exports.default=ne.exports},9713:ne=>{ne.exports=function o(O,s,z){return s in O?Object.defineProperty(O,s,{value:z,enumerable:!0,configurable:!0,writable:!0}):O[s]=z,O},ne.exports.__esModule=!0,ne.exports.default=ne.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},8997:(ne,o,O)=>{"use strict";function s(P,R,T,B,H,X,C){try{var c=P[X](C),a=c.value}catch(b){return void T(b)}c.done?R(a):Promise.resolve(a).then(B,H)}function z(P){return function(){var R=this,T=arguments;return new Promise(function(B,H){var X=P.apply(R,T);function C(a){s(X,B,H,C,c,"next",a)}function c(a){s(X,B,H,C,c,"throw",a)}C(void 0)})}}O.d(o,{_f:()=>p,bB:()=>h});var E=O(8256),e=O(6895),Y=O(1481);function q(P,R){if(1&P){const T=E.EpF();E.TgZ(0,"ngx-dropzone-remove-badge",1),E.NdJ("click",function(H){E.CHM(T);const X=E.oxw();return E.KtG(X._remove(H))}),E.qZA()}}const Z=[[["ngx-dropzone-label"]]],W=["ngx-dropzone-label"],$=["fileInput"];function J(P,R){1&P&&E.Hsn(0,2,["*ngIf","!_hasPreviews"])}const j=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],G=["ngx-dropzone-preview","*","ngx-dropzone-label"];function S(P){return null!=P&&"false"!=`${P}`}let r=(()=>{class P{}return P.\u0275fac=function(T){return new(T||P)},P.\u0275cmp=E.Xpm({type:P,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(T,B){1&T&&(E.O4$(),E.TgZ(0,"svg"),E._UZ(1,"line",0)(2,"line",1),E.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),P})();var i=(()=>{return(P=i||(i={}))[P.BACKSPACE=8]="BACKSPACE",P[P.DELETE=46]="DELETE",i;var P})();let m=(()=>{class P{constructor(T){this.sanitizer=T,this._removable=!1,this.removed=new E.vpe,this.tabIndex=0}set file(T){this._file=T}get file(){return this._file}get removable(){return this._removable}set removable(T){this._removable=S(T)}keyEvent(T){switch(T.keyCode){case i.BACKSPACE:case i.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(T){T.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var T=this;return z(function*(){return new Promise((B,H)=>{const X=new FileReader;if(X.onload=C=>{B(C.target.result)},X.onerror=C=>{console.error(`FileReader failed on file ${T.file.name}.`),H(C)},!T.file)return H("No file to read. Please provide a file using the [file] Input property.");X.readAsDataURL(T.file)})})()}}return P.\u0275fac=function(T){return new(T||P)(E.Y36(Y.H7))},P.\u0275cmp=E.Xpm({type:P,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(T,B){1&T&&E.NdJ("keyup",function(X){return B.keyEvent(X)}),2&T&&(E.Ikx("tabindex",B.tabIndex),E.Akn(B.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:W,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(T,B){1&T&&(E.F$t(Z),E.Hsn(0),E.YNc(1,q,1,0,"ngx-dropzone-remove-badge",0)),2&T&&(E.xp6(1),E.Q6J("ngIf",B.removable))},dependencies:[r,e.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),P})(),I=(()=>{class P{parseFileList(T,B,H,X){const C=[],c=[];for(let b=0;b<T.length;b++){const u=T.item(b);this.isAccepted(u,B)?H&&u.size>H?this.rejectFile(c,u,"size"):!X&&C.length>=1?this.rejectFile(c,u,"no_multiple"):C.push(u):this.rejectFile(c,u,"type")}return{addedFiles:C,rejectedFiles:c}}isAccepted(T,B){if("*"===B)return!0;const H=B.split(",").map(a=>a.toLowerCase().trim()),X=T.type.toLowerCase(),C=T.name.toLowerCase();return!!H.find(a=>a.endsWith("/*")?X.split("/")[0]===a.split("/")[0]:a.startsWith(".")?C.endsWith(a):a==X)}rejectFile(T,B,H){const X=B;X.reason=H,T.push(X)}}return P.\u0275fac=function(T){return new(T||P)},P.\u0275prov=E.Yz7({token:P,factory:P.\u0275fac}),P})(),p=(()=>{class P{constructor(T){this.service=T,this.change=new E.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(T){this._disabled=S(T),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(T){this._multiple=S(T)}get maxFileSize(){return this._maxFileSize}set maxFileSize(T){this._maxFileSize=function M(P){return isNaN(parseFloat(P))||isNaN(Number(P))?null:Number(P)}(T)}get expandable(){return this._expandable}set expandable(T){this._expandable=S(T)}get disableClick(){return this._disableClick}set disableClick(T){this._disableClick=S(T)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(T){this._processDirectoryDrop=S(T)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(T){this.disabled||(this.preventDefault(T),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(T){if(!this.disabled)if(this.preventDefault(T),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const B=T.dataTransfer.items;if(B.length>0){const H=[],X=[];for(let c=0;c<B.length;c++){const a=B[c].webkitGetAsEntry();a.isFile?H.push(T.dataTransfer.files[c]):a.isDirectory&&X.push(a)}const C=new DataTransfer;if(H.forEach(c=>{C.items.add(c)}),!X.length&&C.items.length&&this.handleFileDrop(C.files),X.length){const c=[];for(const a of X)c.push(this.extractFilesFromDirectory(a));Promise.all(c).then(a=>{a.reduce((b,u)=>[...b,...u]).forEach(b=>{C.items.add(b)}),this.handleFileDrop(C.files)})}}}else this.handleFileDrop(T.dataTransfer.files)}extractFilesFromDirectory(T){function B(X){return H.apply(this,arguments)}function H(){return(H=z(function*(X){try{return yield new Promise((C,c)=>X.file(C,c))}catch(C){console.log("Error converting a fileEntry to a File: ",C)}})).apply(this,arguments)}return new Promise((X,C)=>{const c=[],a=T.createReader(),b=()=>{a.readEntries(function(){var u=z(function*(n){if(n.length){const l=n.filter(g=>g.isFile);for(const g of l){const F=yield B(g);c.push(F)}b()}else X(c)});return function(n){return u.apply(this,arguments)}}())};b()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(T){this.handleFileDrop(T.target.files),this._fileInput.nativeElement.value="",this.preventDefault(T)}handleFileDrop(T){const B=this.service.parseFileList(T,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:B.addedFiles,rejectedFiles:B.rejectedFiles,source:this})}preventDefault(T){T.preventDefault(),T.stopPropagation()}}return P.\u0275fac=function(T){return new(T||P)(E.Y36(I,2))},P.\u0275cmp=E.Xpm({type:P,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(T,B,H){if(1&T&&E.Suo(H,m,5),2&T){let X;E.iGM(X=E.CRH())&&(B._previewChildren=X)}},viewQuery:function(T,B){if(1&T&&E.Gf($,7),2&T){let H;E.iGM(H=E.CRH())&&(B._fileInput=H.first)}},hostVars:8,hostBindings:function(T,B){1&T&&E.NdJ("click",function(){return B._onClick()})("dragover",function(X){return B._onDragOver(X)})("dragleave",function(){return B._onDragLeave()})("drop",function(X){return B._onDrop(X)}),2&T&&E.ekj("ngx-dz-disabled",B.disabled)("expandable",B.expandable)("unclickable",B.disableClick)("ngx-dz-hovered",B._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[E._Bn([I])],ngContentSelectors:G,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(T,B){1&T&&(E.F$t(j),E.TgZ(0,"input",0,1),E.NdJ("change",function(X){return B._onFilesSelected(X)}),E.qZA(),E.YNc(2,J,1,0,"ng-content",2),E.Hsn(3),E.Hsn(4,1)),2&T&&(E.Q6J("id",B.id)("multiple",B.multiple)("accept",B.accept)("disabled",B.disabled),E.uIk("aria-label",B.ariaLabel)("aria-labelledby",B.ariaLabelledby)("aria-describedby",B.ariaDescribedBy),E.xp6(2),E.Q6J("ngIf",!B._hasPreviews))},dependencies:[e.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),P})(),h=(()=>{class P{}return P.\u0275fac=function(T){return new(T||P)},P.\u0275mod=E.oAB({type:P}),P.\u0275inj=E.cJS({imports:[[e.ez]]}),P})()}}]);