function _createForOfIteratorHelper(v,e){var i;if(typeof Symbol>"u"||null==v[Symbol.iterator]){if(Array.isArray(v)||(i=_unsupportedIterableToArray(v))||e&&v&&"number"==typeof v.length){i&&(v=i);var s=0,c=function(){};return{s:c,n:function(){return s>=v.length?{done:!0}:{done:!1,value:v[s++]}},e:function(X){throw X},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var U,S=!0,M=!1;return{s:function(){i=v[Symbol.iterator]()},n:function(){var X=i.next();return S=X.done,X},e:function(X){M=!0,U=X},f:function(){try{!S&&null!=i.return&&i.return()}finally{if(M)throw U}}}}function _unsupportedIterableToArray(v,e){if(v){if("string"==typeof v)return _arrayLikeToArray(v,e);var i=Object.prototype.toString.call(v).slice(8,-1);if("Object"===i&&v.constructor&&(i=v.constructor.name),"Map"===i||"Set"===i)return Array.from(v);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(v,e)}}function _arrayLikeToArray(v,e){(null==e||e>v.length)&&(e=v.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=v[i];return s}function getFeather(){"use strict";var v;feather.replace(),function(){var c,v=document.querySelector(".sidebar"),e=document.querySelector(".cat-sub-menu"),i=document.querySelectorAll(".sidebar-toggle"),s=_createForOfIteratorHelper(i);try{for(s.s();!(c=s.n()).done;){var S=c.value;S&&e&&S&&S.addEventListener("click",function(){var U,M=_createForOfIteratorHelper(i);try{for(M.s();!(U=M.n()).done;)U.value.classList.toggle("rotated")}catch(X){M.e(X)}finally{M.f()}v.classList.toggle("hidden"),e.classList.remove("visible")})}}catch(M){s.e(M)}finally{s.f()}}(),(v=document.querySelectorAll(".show-cat-btn"))&&v.forEach(function(e){var i=e.nextElementSibling;e.addEventListener("click",function(s){s.preventDefault(),i.classList.toggle("visible"),document.querySelector(".category__btn").classList.toggle("rotated")})}),function(){var v=document.querySelector(".lang-switcher"),e=document.querySelector(".lang-menu"),i=document.querySelector(".layer");v&&(v.addEventListener("click",function(){e.classList.add("active"),i.classList.add("active")}),i&&i.addEventListener("click",function(s){e.classList.contains("active")&&(e.classList.remove("active"),i.classList.remove("active"))}))}(),function(){var v=document.querySelectorAll(".dropdown-btn"),e=document.querySelectorAll(".users-item-dropdown"),i=document.querySelector(".layer");if(e&&v){var c,s=_createForOfIteratorHelper(v);try{for(s.s();!(c=s.n()).done;)c.value.addEventListener("click",function(M){i.classList.add("active");var G,U=_createForOfIteratorHelper(e);try{for(U.s();!(G=U.n()).done;){var X=G.value;M.currentTarget.nextElementSibling==X?X.classList.contains("active")?X.classList.remove("active"):X.classList.add("active"):X.classList.remove("active")}}catch(F){U.e(F)}finally{U.f()}})}catch(M){s.e(M)}finally{s.f()}}i&&i.addEventListener("click",function(M){var G,U=_createForOfIteratorHelper(e);try{for(U.s();!(G=U.n()).done;){var X=G.value;X.classList.contains("active")&&(X.classList.remove("active"),i.classList.remove("active"))}}catch(F){U.e(F)}finally{U.f()}})}()}function drawPie(){Highcharts.chart("chartPie",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{style:{color:"black",size:"20%"},text:""},credits:{enabled:!1},plotOptions:{pie:{slicedOffset:"0"}},tooltip:{useHTML:!0,headerFormat:'<span style="font-size:12px">{point.key}</span><table>',pointFormat:": <b>{point.y}</b>",shared:!0},accessibility:{point:{valueSuffix:""}},series:[{type:"pie",name:"",data:[{name:"High regular",y:9,color:"#AD5E59"},{name:"High epidemic",y:6,color:"#E7786F"},{name:"Medium",y:4,color:"#ECA877"},{name:"Low",y:4,color:"#F9E1A3"},{name:"No case",y:8,color:"#C4C9D1"}]}],legend:{layout:"vertical",align:"right",verticalAlign:"middle",symbolHeight:11,symbolWidth:11,symbolRadius:0},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{style:{fontSize:"13px"},distance:-50,format:"<b>{point.y}</b>",enabled:!0},showInLegend:!0}},exporting:{buttons:{contextButton:{text:"",symbol:"url(/sites/all/themes/fastrackcities/images/download-icon.png)",symbolStrokeWidth:1,symbolFill:"#bada55",symbolStroke:"#330033"}}}})}function drawHeatchart(){AmCharts.makeChart("heatdiv",{type:"serial",theme:"light",dataProvider:[{x:1,y:1,value3:0,color1:"#8EC24A",color2:"#8EC24A",color3:"#8EC24A",color4:"#8EC24A",color5:"#8EC24A"},{x:2,y:1,value3:0,value4:0,color1:"#6AA142",color2:"#8EC24A",color3:"#8EC24A",color4:"#EFD800",color5:"#EFD800"},{x:3,y:1,value3:0,value4:0,color1:"#6AA142",color2:"#8EC24A",color3:"#EFD800",color4:"#FFBA00",color5:"#FFBA00"},{x:4,y:1,value2:0,value3:1,value4:0,value5:0,color1:"#8EC24A",color2:"#e1d92d",color3:"#FFBA00",color4:"#FFBA00",color5:"#ca0101"},{x:5,y:1,value2:"0",value3:"0",value4:"0",value5:"0",color1:"#8EC24A",color2:"#EFD800",color3:"#FFBA00",color4:"#ca0101",color5:"#ca0101"}],graphs:[{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color1",type:"column",valueField:"y",labelText:"[[value1]]",balloonText:"[[value1]]",labelPosition:"middle"},{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color2",type:"column",valueField:"y",labelText:"[[value2]]",balloonText:"[[value2]]",labelPosition:"middle"},{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color3",type:"column",valueField:"y",labelText:"[[value3]]",balloonText:"[[value3]]",labelPosition:"middle"},{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color4",type:"column",valueField:"y",labelText:"[[value4]]",balloonText:"[[value4]]",labelPosition:"middle"},{fontSize:15,fillAlphas:1,lineAlpha:1,lineColor:"#fff",lineThickness:2,cornerRadiusTop:6,cornerRadiusBottom:6,fillColorsField:"color5",type:"column",valueField:"y",labelText:"[[value5]]",balloonText:"[[value5]]",labelPosition:"middle"}],columnWidth:1,categoryField:"x",categoryAxis:{axisAlpha:0,labelsEnabled:!1,guides:[{category:1,label:""},{category:2,label:""},{category:3,label:""},{category:4,label:""},{category:5,label:""}]},valueAxes:[{axisAlpha:0,stackType:"regular",labelsEnabled:!1,gridAlpha:0,tickLength:0,maximum:5,label:"Impact",guides:[{value:.5,label:"Negligible"},{value:1.5,label:"Severe"},{value:2.5,label:"Moderate"},{value:3.5,label:"Minor"},{value:4.5,label:"Critical"}]}]})}function drawCalender(){const v=am5.Root.new("calender");v.setThemes([am5themes_Animated.new(v)]);var e=v.container.children.push(am5xy.XYChart.new(v,{panX:!1,panY:!1,wheelX:"none",wheelY:"none",layout:v.verticalLayout})),i=am5xy.AxisRendererY.new(v,{visible:!1,minGridDistance:20,inversed:!0});i.grid.template.set("visible",!1);var s=e.yAxes.push(am5xy.CategoryAxis.new(v,{maxDeviation:0,renderer:i,categoryField:"weekday"})),c=am5xy.AxisRendererX.new(v,{visible:!1,minGridDistance:30,opposite:!0});c.grid.template.set("visible",!1);var S=e.xAxes.push(am5xy.CategoryAxis.new(v,{renderer:c,categoryField:"hour"})),M=e.series.push(am5xy.ColumnSeries.new(v,{calculateAggregates:!0,stroke:am5.color(16777215),clustered:!1,xAxis:S,yAxis:s,categoryXField:"hour",categoryYField:"weekday",valueField:"value"}));M.columns.template.setAll({tooltipText:"{value}",strokeOpacity:1,strokeWidth:2,width:am5.percent(100),height:am5.percent(100)}),M.columns.template.events.on("pointerover",function(X){var F=X.target.dataItem;F&&U.showValue(F.get("value",0))}),M.events.on("datavalidated",function(){U.set("startValue",M.getPrivate("valueHigh")),U.set("endValue",M.getPrivate("valueLow"))}),M.set("heatRules",[{target:M.columns.template,min:am5.color(16776055),max:am5.color(16651034),dataField:"value",key:"fill"}]);var U=e.bottomAxesContainer.children.push(am5.HeatLegend.new(v,{orientation:"horizontal",endColor:am5.color(16776055),startColor:am5.color(16651034)}));M.data.setAll([{hour:"12pm",weekday:"Sunday",value:2990},{hour:"1am",weekday:"Sunday",value:2520},{hour:"2am",weekday:"Sunday",value:2334},{hour:"3am",weekday:"Sunday",value:2230},{hour:"4am",weekday:"Sunday",value:2325},{hour:"5am",weekday:"Sunday",value:2019},{hour:"6am",weekday:"Sunday",value:2128},{hour:"7am",weekday:"Sunday",value:2246},{hour:"8am",weekday:"Sunday",value:2421},{hour:"9am",weekday:"Sunday",value:2788},{hour:"10am",weekday:"Sunday",value:2959},{hour:"11am",weekday:"Sunday",value:3018},{hour:"12am",weekday:"Sunday",value:3154},{hour:"1pm",weekday:"Sunday",value:3172},{hour:"2pm",weekday:"Sunday",value:3368},{hour:"3pm",weekday:"Sunday",value:3464},{hour:"4pm",weekday:"Sunday",value:3746},{hour:"5pm",weekday:"Sunday",value:3656},{hour:"6pm",weekday:"Sunday",value:3336},{hour:"7pm",weekday:"Sunday",value:3292},{hour:"8pm",weekday:"Sunday",value:3269},{hour:"9pm",weekday:"Sunday",value:3300},{hour:"10pm",weekday:"Sunday",value:3403},{hour:"11pm",weekday:"Sunday",value:3323},{hour:"12pm",weekday:"Monday",value:3346},{hour:"1am",weekday:"Monday",value:2725},{hour:"2am",weekday:"Monday",value:3052},{hour:"3am",weekday:"Monday",value:3876},{hour:"4am",weekday:"Monday",value:4453},{hour:"5am",weekday:"Monday",value:3972},{hour:"6am",weekday:"Monday",value:4644},{hour:"7am",weekday:"Monday",value:5715},{hour:"8am",weekday:"Monday",value:7080},{hour:"9am",weekday:"Monday",value:8022},{hour:"10am",weekday:"Monday",value:8446},{hour:"11am",weekday:"Monday",value:9313},{hour:"12am",weekday:"Monday",value:9011},{hour:"1pm",weekday:"Monday",value:8508},{hour:"2pm",weekday:"Monday",value:8515},{hour:"3pm",weekday:"Monday",value:8399},{hour:"4pm",weekday:"Monday",value:8649},{hour:"5pm",weekday:"Monday",value:7869},{hour:"6pm",weekday:"Monday",value:6933},{hour:"7pm",weekday:"Monday",value:5969},{hour:"8pm",weekday:"Monday",value:5552},{hour:"9pm",weekday:"Monday",value:5434},{hour:"10pm",weekday:"Monday",value:5070},{hour:"11pm",weekday:"Monday",value:4851},{hour:"12pm",weekday:"Tuesday",value:4468},{hour:"1am",weekday:"Tuesday",value:3306},{hour:"2am",weekday:"Tuesday",value:3906},{hour:"3am",weekday:"Tuesday",value:4413},{hour:"4am",weekday:"Tuesday",value:4726},{hour:"5am",weekday:"Tuesday",value:4584},{hour:"6am",weekday:"Tuesday",value:5717},{hour:"7am",weekday:"Tuesday",value:6504},{hour:"8am",weekday:"Tuesday",value:8104},{hour:"9am",weekday:"Tuesday",value:8813},{hour:"10am",weekday:"Tuesday",value:9278},{hour:"11am",weekday:"Tuesday",value:10425},{hour:"12am",weekday:"Tuesday",value:10137},{hour:"1pm",weekday:"Tuesday",value:9290},{hour:"2pm",weekday:"Tuesday",value:9255},{hour:"3pm",weekday:"Tuesday",value:9614},{hour:"4pm",weekday:"Tuesday",value:9713},{hour:"5pm",weekday:"Tuesday",value:9667},{hour:"6pm",weekday:"Tuesday",value:8774},{hour:"7pm",weekday:"Tuesday",value:8649},{hour:"8pm",weekday:"Tuesday",value:9937},{hour:"9pm",weekday:"Tuesday",value:10286},{hour:"10pm",weekday:"Tuesday",value:9175},{hour:"11pm",weekday:"Tuesday",value:8581},{hour:"12pm",weekday:"Wednesday",value:8145},{hour:"1am",weekday:"Wednesday",value:7177},{hour:"2am",weekday:"Wednesday",value:5657},{hour:"3am",weekday:"Wednesday",value:6802},{hour:"4am",weekday:"Wednesday",value:8159},{hour:"5am",weekday:"Wednesday",value:8449},{hour:"6am",weekday:"Wednesday",value:9453},{hour:"7am",weekday:"Wednesday",value:9947},{hour:"8am",weekday:"Wednesday",value:11471},{hour:"9am",weekday:"Wednesday",value:12492},{hour:"10am",weekday:"Wednesday",value:9388},{hour:"11am",weekday:"Wednesday",value:9928},{hour:"12am",weekday:"Wednesday",value:9644},{hour:"1pm",weekday:"Wednesday",value:9034},{hour:"2pm",weekday:"Wednesday",value:8964},{hour:"3pm",weekday:"Wednesday",value:9069},{hour:"4pm",weekday:"Wednesday",value:8898},{hour:"5pm",weekday:"Wednesday",value:8322},{hour:"6pm",weekday:"Wednesday",value:6909},{hour:"7pm",weekday:"Wednesday",value:5810},{hour:"8pm",weekday:"Wednesday",value:5151},{hour:"9pm",weekday:"Wednesday",value:4911},{hour:"10pm",weekday:"Wednesday",value:4487},{hour:"11pm",weekday:"Wednesday",value:4118},{hour:"12pm",weekday:"Thursday",value:3689},{hour:"1am",weekday:"Thursday",value:3081},{hour:"2am",weekday:"Thursday",value:6525},{hour:"3am",weekday:"Thursday",value:6228},{hour:"4am",weekday:"Thursday",value:6917},{hour:"5am",weekday:"Thursday",value:6568},{hour:"6am",weekday:"Thursday",value:6405},{hour:"7am",weekday:"Thursday",value:8106},{hour:"8am",weekday:"Thursday",value:8542},{hour:"9am",weekday:"Thursday",value:8501},{hour:"10am",weekday:"Thursday",value:8802},{hour:"11am",weekday:"Thursday",value:9420},{hour:"12am",weekday:"Thursday",value:8966},{hour:"1pm",weekday:"Thursday",value:8135},{hour:"2pm",weekday:"Thursday",value:8224},{hour:"3pm",weekday:"Thursday",value:8387},{hour:"4pm",weekday:"Thursday",value:8218},{hour:"5pm",weekday:"Thursday",value:7641},{hour:"6pm",weekday:"Thursday",value:6469},{hour:"7pm",weekday:"Thursday",value:5441},{hour:"8pm",weekday:"Thursday",value:4952},{hour:"9pm",weekday:"Thursday",value:4643},{hour:"10pm",weekday:"Thursday",value:4393},{hour:"11pm",weekday:"Thursday",value:4017},{hour:"12pm",weekday:"Friday",value:4022},{hour:"1am",weekday:"Friday",value:3063},{hour:"2am",weekday:"Friday",value:3638},{hour:"3am",weekday:"Friday",value:3968},{hour:"4am",weekday:"Friday",value:4070},{hour:"5am",weekday:"Friday",value:4019},{hour:"6am",weekday:"Friday",value:4548},{hour:"7am",weekday:"Friday",value:5465},{hour:"8am",weekday:"Friday",value:6909},{hour:"9am",weekday:"Friday",value:7706},{hour:"10am",weekday:"Friday",value:7867},{hour:"11am",weekday:"Friday",value:8615},{hour:"12am",weekday:"Friday",value:8218},{hour:"1pm",weekday:"Friday",value:7604},{hour:"2pm",weekday:"Friday",value:7429},{hour:"3pm",weekday:"Friday",value:7488},{hour:"4pm",weekday:"Friday",value:7493},{hour:"5pm",weekday:"Friday",value:6998},{hour:"6pm",weekday:"Friday",value:5941},{hour:"7pm",weekday:"Friday",value:5068},{hour:"8pm",weekday:"Friday",value:4636},{hour:"9pm",weekday:"Friday",value:4241},{hour:"10pm",weekday:"Friday",value:3858},{hour:"11pm",weekday:"Friday",value:3833},{hour:"12pm",weekday:"Saturday",value:3503},{hour:"1am",weekday:"Saturday",value:2842},{hour:"2am",weekday:"Saturday",value:2808},{hour:"3am",weekday:"Saturday",value:2399},{hour:"4am",weekday:"Saturday",value:2280},{hour:"5am",weekday:"Saturday",value:2139},{hour:"6am",weekday:"Saturday",value:2527},{hour:"7am",weekday:"Saturday",value:2940},{hour:"8am",weekday:"Saturday",value:3066},{hour:"9am",weekday:"Saturday",value:3494},{hour:"10am",weekday:"Saturday",value:3287},{hour:"11am",weekday:"Saturday",value:3416},{hour:"12am",weekday:"Saturday",value:3432},{hour:"1pm",weekday:"Saturday",value:3523},{hour:"2pm",weekday:"Saturday",value:3542},{hour:"3pm",weekday:"Saturday",value:3347},{hour:"4pm",weekday:"Saturday",value:3292},{hour:"5pm",weekday:"Saturday",value:3416},{hour:"6pm",weekday:"Saturday",value:3131},{hour:"7pm",weekday:"Saturday",value:3057},{hour:"8pm",weekday:"Saturday",value:3227},{hour:"9pm",weekday:"Saturday",value:3060},{hour:"10pm",weekday:"Saturday",value:2855},{hour:"11pm",weekday:"Saturday",value:2625}]),s.data.setAll([{weekday:"Sunday"},{weekday:"Monday"},{weekday:"Tuesday"},{weekday:"Wednesday"},{weekday:"Thursday"},{weekday:"Friday"},{weekday:"Saturday"}]),S.data.setAll([{hour:"12pm"},{hour:"1am"},{hour:"2am"},{hour:"3am"},{hour:"4am"},{hour:"5am"},{hour:"6am"},{hour:"7am"},{hour:"8am"},{hour:"9am"},{hour:"10am"},{hour:"11am"},{hour:"12am"},{hour:"1pm"},{hour:"2pm"},{hour:"3pm"},{hour:"4pm"},{hour:"5pm"},{hour:"6pm"},{hour:"7pm"},{hour:"8pm"},{hour:"9pm"},{hour:"10pm"},{hour:"11pm"}]),e.appear(1e3,100)}function drawBar(){Highcharts.chart("container-barchart",{chart:{type:"bar"},title:{text:"Result",align:"left"},subtitle:{text:""},xAxis:{categories:["Completed","Not ready","In progress","Not applicable"],title:{text:null}},yAxis:{min:0,title:{text:"",align:"high"},labels:{overflow:"justify"}},tooltip:{value:"false"},legend:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!1}},series:{colorByPoint:!0,colors:["#7FBF69","#E2735A","#F2D486",""],enabled:!1}},credits:{enabled:!1},series:[{data:[28,6,20,0]}]})}function drawdonutProgress(){chart=new Highcharts.Chart({chart:{renderTo:"container-donut",type:"pie"},title:{text:"63%",align:"center",verticalAlign:"middle",y:20},yAxis:{title:{text:""}},plotOptions:{pie:{shadow:!1,point:{events:{mouseOver:function(i){this.originalRadius=this.graphic.r,this.graphic.animate({r:1.07*this.originalRadius},200)},mouseOut:function(i){this.graphic.animate({r:this.originalRadius},200)}}}}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y+" %"}},series:[{name:"Data",colors:["#024664","#D7F0FB"],data:[["Nigeria",63],["B",37]],size:"100%",innerSize:"70%",showInLegend:!1,dataLabels:{enabled:!1},states:{hover:{halo:!1}}}]}),chart,console.log(chart);var e=chart.options.series[0].innerSize*chart.Height;console.log(e),chart.renderer.circle("50%","50%",130).attr({fill:"#fff"}).add()}function drawdonutProgress1(){chart=new Highcharts.Chart({chart:{renderTo:"container-donut2",type:"pie"},title:{text:"49%",align:"center",verticalAlign:"middle",y:20},yAxis:{title:{text:""}},plotOptions:{pie:{shadow:!1,point:{events:{mouseOver:function(i){this.originalRadius=this.graphic.r,this.graphic.animate({r:1.07*this.originalRadius},200)},mouseOut:function(i){this.graphic.animate({r:this.originalRadius},200)}}}}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y+" %"}},series:[{name:"Data",colors:["#024664","#D7F0FB"],data:[["Afro",49],["B",51]],size:"100%",innerSize:"70%",showInLegend:!1,dataLabels:{enabled:!1},states:{hover:{halo:!1}}}]}),chart,console.log(chart);var e=chart.options.series[0].innerSize*chart.Height;console.log(e),chart.renderer.circle("50%","50%",130).attr({fill:"#fff"}).add()}function drawdonutProgress2(){chart=new Highcharts.Chart({chart:{renderTo:"container-donut3",type:"pie"},title:{text:"64%",align:"center",verticalAlign:"middle",y:20},yAxis:{title:{text:""}},plotOptions:{pie:{shadow:!1,point:{events:{mouseOver:function(i){this.originalRadius=this.graphic.r,this.graphic.animate({r:1.07*this.originalRadius},200)},mouseOut:function(i){this.graphic.animate({r:this.originalRadius},200)}}}}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y+" %"}},series:[{name:"Data",colors:["#024664","#D7F0FB"],data:[["Global Average",64],["B",51]],size:"100%",innerSize:"70%",showInLegend:!1,dataLabels:{enabled:!1},states:{hover:{halo:!1}}}]}),chart,console.log(chart);var e=chart.options.series[0].innerSize*chart.Height;console.log(e),chart.renderer.circle("50%","50%",130).attr({fill:"#fff"}).add()}function drawChart(){Highcharts.chart("container-chart2",{title:{text:"iHR Score Per Capacity AFRO Nigeria 2021",align:"center"},xAxis:{categories:["1","2","3","4","5","6","7","8","9","10","11","12"]},yAxis:{title:{text:"unit"}},labels:{items:[{html:"",style:{left:"50px",top:"18px",color:Highcharts.defaultOptions.title.style&&Highcharts.defaultOptions.title.style.color||"black"}}],series:{colorByPoint:!0,colors:["#2f7ed8"]}},legend:{enabled:!1},series:[{color:"#024664",type:"column",data:[420,430,690,410,490,420,490,590,610,400,600,590]},{type:"spline",name:"",color:"#D7F0FB",data:[120,430,280,680,300,320,900,500,790,200,800,590],marker:{lineWidth:2,lineColor:"#D7F0FB",fillColor:"#3BB346"}}]})}function getStepper(){let v=document.querySelector("[data-wizard-bar]"),e=document.querySelector("[data-btn-previous]"),i=0;function s(U){let G=document.querySelectorAll("[data-form-tab]"),X=document.querySelectorAll("[data-wizard-item]");G[U].classList.add("active"),X[U].classList.add("active"),e.style.display=0==U?"none":"block"}function c(U){let G=document.querySelectorAll("[data-form-tab]");if(1==U&&!function S(){let U,G,X,F=!0;U=document.querySelectorAll("[data-form-tab]"),G=U[i].querySelectorAll("[data-form-input]");let R=U[i].querySelectorAll("[data-form-item]");for(X=0;X<G.length;X++)""==G[X].value&&(R[X].className+=" has-error",F=!1);return F}())return!1;G[i].classList.remove("active"),i+=U,s(i)}function M(){const U=document.querySelectorAll(".wizard-item.active");let G=document.querySelectorAll("[data-wizard-item]");v.style.width=(U.length-1)/(G.length-1)*100+"%"}s(i),document.querySelector("*").addEventListener("click",function(U){U.target.dataset.btnPrevious&&(document.querySelectorAll("[data-wizard-item]")[i].classList.remove("active"),c(-1),M()),U.target.dataset.btnNext&&(c(1),M())})}function drawTable(){$(document).ready(function(){$("#example").DataTable({scrollY:300,scrollX:!0,scrollCollapse:!0,paging:!1,fixedColumns:!0})})}(function(v,e){"object"==typeof exports&&typeof module<"u"?module.exports=e():"function"==typeof define&&define.amd?define(e):(v=typeof globalThis<"u"?globalThis:v||self).bootstrap=e()})(this,function(){"use strict";const v="transitionend",e=oe=>{let ft=oe.getAttribute("data-bs-target");if(!ft||"#"===ft){let zt=oe.getAttribute("href");if(!zt||!zt.includes("#")&&!zt.startsWith("."))return null;zt.includes("#")&&!zt.startsWith("#")&&(zt=`#${zt.split("#")[1]}`),ft=zt&&"#"!==zt?zt.trim():null}return ft},i=oe=>{const ft=e(oe);return ft&&document.querySelector(ft)?ft:null},s=oe=>{const ft=e(oe);return ft?document.querySelector(ft):null},c=oe=>{oe.dispatchEvent(new Event(v))},S=oe=>!(!oe||"object"!=typeof oe)&&(void 0!==oe.jquery&&(oe=oe[0]),void 0!==oe.nodeType),M=oe=>S(oe)?oe.jquery?oe[0]:oe:"string"==typeof oe&&oe.length>0?document.querySelector(oe):null,U=oe=>{if(!S(oe)||0===oe.getClientRects().length)return!1;const ft="visible"===getComputedStyle(oe).getPropertyValue("visibility"),zt=oe.closest("details:not([open])");if(!zt)return ft;if(zt!==oe){const Se=oe.closest("summary");if(Se&&Se.parentNode!==zt||null===Se)return!1}return ft},G=oe=>!oe||oe.nodeType!==Node.ELEMENT_NODE||!!oe.classList.contains("disabled")||(void 0!==oe.disabled?oe.disabled:oe.hasAttribute("disabled")&&"false"!==oe.getAttribute("disabled")),X=oe=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof oe.getRootNode){const ft=oe.getRootNode();return ft instanceof ShadowRoot?ft:null}return oe instanceof ShadowRoot?oe:oe.parentNode?X(oe.parentNode):null},F=()=>{},E=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,a=[],h=()=>"rtl"===document.documentElement.dir,l=oe=>{var ft;ft=()=>{const zt=E();if(zt){const Se=oe.NAME,oi=zt.fn[Se];zt.fn[Se]=oe.jQueryInterface,zt.fn[Se].Constructor=oe,zt.fn[Se].noConflict=()=>(zt.fn[Se]=oi,oe.jQueryInterface)}},"loading"===document.readyState?(a.length||document.addEventListener("DOMContentLoaded",()=>{for(const zt of a)zt()}),a.push(ft)):ft()},p=oe=>{"function"==typeof oe&&oe()},x=(oe,ft,zt=!0)=>{if(!zt)return void p(oe);const Se=(gi=>{if(!gi)return 0;let{transitionDuration:qi,transitionDelay:hn}=window.getComputedStyle(gi);const vn=Number.parseFloat(qi),Qi=Number.parseFloat(hn);return vn||Qi?(qi=qi.split(",")[0],hn=hn.split(",")[0],1e3*(Number.parseFloat(qi)+Number.parseFloat(hn))):0})(ft)+5;let oi=!1;const li=({target:gi})=>{gi===ft&&(oi=!0,ft.removeEventListener(v,li),p(oe))};ft.addEventListener(v,li),setTimeout(()=>{oi||c(ft)},Se)},T=(oe,ft,zt,Se)=>{const oi=oe.length;let li=oe.indexOf(ft);return-1===li?!zt&&Se?oe[oi-1]:oe[0]:(li+=zt?1:-1,Se&&(li=(li+oi)%oi),oe[Math.max(0,Math.min(li,oi-1))])},b=/[^.]*(?=\..*)\.|.*/,I=/\..*/,u=/::\d+$/,n={};let k=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function m(oe,ft){return ft&&`${ft}::${k++}`||oe.uidEvent||k++}function A(oe){const ft=m(oe);return oe.uidEvent=ft,n[ft]=n[ft]||{},n[ft]}function P(oe,ft,zt=null){return Object.values(oe).find(Se=>Se.callable===ft&&Se.delegationSelector===zt)}function D(oe,ft,zt){const Se="string"==typeof ft,oi=Se?zt:ft||zt;let li=V(oe);return O.has(li)||(li=oe),[Se,oi,li]}function f(oe,ft,zt,Se,oi){if("string"!=typeof ft||!oe)return;let[li,gi,qi]=D(ft,zt,Se);var fr;ft in C&&(fr=gi,gi=function(gr){if(!gr.relatedTarget||gr.relatedTarget!==gr.delegateTarget&&!gr.delegateTarget.contains(gr.relatedTarget))return fr.call(this,gr)});const hn=A(oe),vn=hn[qi]||(hn[qi]={}),Qi=P(vn,gi,li?zt:null);if(Qi)return void(Qi.oneOff=Qi.oneOff&&oi);const un=m(gi,ft.replace(b,"")),hr=li?function(sr,fr,gr){return function Dr(_o){const po=sr.querySelectorAll(fr);for(let{target:Ir}=_o;Ir&&Ir!==this;Ir=Ir.parentNode)for(const Ur of po)if(Ur===Ir)return nt(_o,{delegateTarget:Ir}),Dr.oneOff&&q.off(sr,_o.type,fr,gr),gr.apply(Ir,[_o])}}(oe,zt,gi):function(sr,fr){return function gr(Dr){return nt(Dr,{delegateTarget:sr}),gr.oneOff&&q.off(sr,Dr.type,fr),fr.apply(sr,[Dr])}}(oe,gi);hr.delegationSelector=li?zt:null,hr.callable=gi,hr.oneOff=oi,hr.uidEvent=un,vn[un]=hr,oe.addEventListener(qi,hr,li)}function o(oe,ft,zt,Se,oi){const li=P(ft[zt],Se,oi);li&&(oe.removeEventListener(zt,li,Boolean(oi)),delete ft[zt][li.uidEvent])}function B(oe,ft,zt,Se){const oi=ft[zt]||{};for(const li of Object.keys(oi))if(li.includes(Se)){const gi=oi[li];o(oe,ft,zt,gi.callable,gi.delegationSelector)}}function V(oe){return oe=oe.replace(I,""),C[oe]||oe}const q={on(oe,ft,zt,Se){f(oe,ft,zt,Se,!1)},one(oe,ft,zt,Se){f(oe,ft,zt,Se,!0)},off(oe,ft,zt,Se){if("string"!=typeof ft||!oe)return;const[oi,li,gi]=D(ft,zt,Se),qi=gi!==ft,hn=A(oe),vn=hn[gi]||{},Qi=ft.startsWith(".");if(void 0===li){if(Qi)for(const un of Object.keys(hn))B(oe,hn,un,ft.slice(1));for(const un of Object.keys(vn)){const hr=un.replace(u,"");if(!qi||ft.includes(hr)){const sr=vn[un];o(oe,hn,gi,sr.callable,sr.delegationSelector)}}}else{if(!Object.keys(vn).length)return;o(oe,hn,gi,li,oi?zt:null)}},trigger(oe,ft,zt){if("string"!=typeof ft||!oe)return null;const Se=E();let oi=null,li=!0,gi=!0,qi=!1;ft!==V(ft)&&Se&&(oi=Se.Event(ft,zt),Se(oe).trigger(oi),li=!oi.isPropagationStopped(),gi=!oi.isImmediatePropagationStopped(),qi=oi.isDefaultPrevented());let hn=new Event(ft,{bubbles:li,cancelable:!0});return hn=nt(hn,zt),qi&&hn.preventDefault(),gi&&oe.dispatchEvent(hn),hn.defaultPrevented&&oi&&oi.preventDefault(),hn}};function nt(oe,ft){for(const[zt,Se]of Object.entries(ft||{}))try{oe[zt]=Se}catch{Object.defineProperty(oe,zt,{configurable:!0,get:()=>Se})}return oe}const yt=new Map,ut={set(oe,ft,zt){yt.has(oe)||yt.set(oe,new Map);const Se=yt.get(oe);Se.has(ft)||0===Se.size?Se.set(ft,zt):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Se.keys())[0]}.`)},get:(oe,ft)=>yt.has(oe)&&yt.get(oe).get(ft)||null,remove(oe,ft){if(!yt.has(oe))return;const zt=yt.get(oe);zt.delete(ft),0===zt.size&&yt.delete(oe)}};function Y(oe){if("true"===oe)return!0;if("false"===oe)return!1;if(oe===Number(oe).toString())return Number(oe);if(""===oe||"null"===oe)return null;if("string"!=typeof oe)return oe;try{return JSON.parse(decodeURIComponent(oe))}catch{return oe}}function tt(oe){return oe.replace(/[A-Z]/g,ft=>`-${ft.toLowerCase()}`)}const wt={setDataAttribute(oe,ft,zt){oe.setAttribute(`data-bs-${tt(ft)}`,zt)},removeDataAttribute(oe,ft){oe.removeAttribute(`data-bs-${tt(ft)}`)},getDataAttributes(oe){if(!oe)return{};const ft={},zt=Object.keys(oe.dataset).filter(Se=>Se.startsWith("bs")&&!Se.startsWith("bsConfig"));for(const Se of zt){let oi=Se.replace(/^bs/,"");oi=oi.charAt(0).toLowerCase()+oi.slice(1,oi.length),ft[oi]=Y(oe.dataset[Se])}return ft},getDataAttribute:(oe,ft)=>Y(oe.getAttribute(`data-bs-${tt(ft)}`))};class St{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(ft){return ft=this._mergeConfigObj(ft),ft=this._configAfterMerge(ft),this._typeCheckConfig(ft),ft}_configAfterMerge(ft){return ft}_mergeConfigObj(ft,zt){const Se=S(zt)?wt.getDataAttribute(zt,"config"):{};return{...this.constructor.Default,..."object"==typeof Se?Se:{},...S(zt)?wt.getDataAttributes(zt):{},..."object"==typeof ft?ft:{}}}_typeCheckConfig(ft,zt=this.constructor.DefaultType){for(const oi of Object.keys(zt)){const li=zt[oi],gi=ft[oi],qi=S(gi)?"element":null==(Se=gi)?`${Se}`:Object.prototype.toString.call(Se).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(li).test(qi))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${oi}" provided type "${qi}" but expected type "${li}".`)}var Se}}class At extends St{constructor(ft,zt){super(),(ft=M(ft))&&(this._element=ft,this._config=this._getConfig(zt),ut.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ut.remove(this._element,this.constructor.DATA_KEY),q.off(this._element,this.constructor.EVENT_KEY);for(const ft of Object.getOwnPropertyNames(this))this[ft]=null}_queueCallback(ft,zt,Se=!0){x(ft,zt,Se)}_getConfig(ft){return ft=this._mergeConfigObj(ft,this._element),ft=this._configAfterMerge(ft),this._typeCheckConfig(ft),ft}static getInstance(ft){return ut.get(M(ft),this.DATA_KEY)}static getOrCreateInstance(ft,zt={}){return this.getInstance(ft)||new this(ft,"object"==typeof zt?zt:null)}static get VERSION(){return"5.2.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(ft){return`${ft}${this.EVENT_KEY}`}}const ht=(oe,ft="hide")=>{const Se=oe.NAME;q.on(document,`click.dismiss${oe.EVENT_KEY}`,`[data-bs-dismiss="${Se}"]`,function(oi){if(["A","AREA"].includes(this.tagName)&&oi.preventDefault(),G(this))return;const li=s(this)||this.closest(`.${Se}`);oe.getOrCreateInstance(li)[ft]()})};class mt extends At{static get NAME(){return"alert"}close(){if(q.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const ft=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,ft)}_destroyElement(){this._element.remove(),q.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(ft){return this.each(function(){const zt=mt.getOrCreateInstance(this);if("string"==typeof ft){if(void 0===zt[ft]||ft.startsWith("_")||"constructor"===ft)throw new TypeError(`No method named "${ft}"`);zt[ft](this)}})}}ht(mt,"close"),l(mt);const dt='[data-bs-toggle="button"]';class Lt extends At{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(ft){return this.each(function(){const zt=Lt.getOrCreateInstance(this);"toggle"===ft&&zt[ft]()})}}q.on(document,"click.bs.button.data-api",dt,oe=>{oe.preventDefault();const ft=oe.target.closest(dt);Lt.getOrCreateInstance(ft).toggle()}),l(Lt);const Ct={find:(oe,ft=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(ft,oe)),findOne:(oe,ft=document.documentElement)=>Element.prototype.querySelector.call(ft,oe),children:(oe,ft)=>[].concat(...oe.children).filter(zt=>zt.matches(ft)),parents(oe,ft){const zt=[];let Se=oe.parentNode.closest(ft);for(;Se;)zt.push(Se),Se=Se.parentNode.closest(ft);return zt},prev(oe,ft){let zt=oe.previousElementSibling;for(;zt;){if(zt.matches(ft))return[zt];zt=zt.previousElementSibling}return[]},next(oe,ft){let zt=oe.nextElementSibling;for(;zt;){if(zt.matches(ft))return[zt];zt=zt.nextElementSibling}return[]},focusableChildren(oe){const ft=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(zt=>`${zt}:not([tabindex^="-"])`).join(",");return this.find(ft,oe).filter(zt=>!G(zt)&&U(zt))}},vt={endCallback:null,leftCallback:null,rightCallback:null},kt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Rt extends St{constructor(ft,zt){super(),this._element=ft,ft&&Rt.isSupported()&&(this._config=this._getConfig(zt),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return vt}static get DefaultType(){return kt}static get NAME(){return"swipe"}dispose(){q.off(this._element,".bs.swipe")}_start(ft){this._supportPointerEvents?this._eventIsPointerPenTouch(ft)&&(this._deltaX=ft.clientX):this._deltaX=ft.touches[0].clientX}_end(ft){this._eventIsPointerPenTouch(ft)&&(this._deltaX=ft.clientX-this._deltaX),this._handleSwipe(),p(this._config.endCallback)}_move(ft){this._deltaX=ft.touches&&ft.touches.length>1?0:ft.touches[0].clientX-this._deltaX}_handleSwipe(){const ft=Math.abs(this._deltaX);if(ft<=40)return;const zt=ft/this._deltaX;this._deltaX=0,zt&&p(zt>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(q.on(this._element,"pointerdown.bs.swipe",ft=>this._start(ft)),q.on(this._element,"pointerup.bs.swipe",ft=>this._end(ft)),this._element.classList.add("pointer-event")):(q.on(this._element,"touchstart.bs.swipe",ft=>this._start(ft)),q.on(this._element,"touchmove.bs.swipe",ft=>this._move(ft)),q.on(this._element,"touchend.bs.swipe",ft=>this._end(ft)))}_eventIsPointerPenTouch(ft){return this._supportPointerEvents&&("pen"===ft.pointerType||"touch"===ft.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Xt="next",Ft="prev",qt="left",ae="right",te="slid.bs.carousel",de="carousel",re="active",Ut={ArrowLeft:ae,ArrowRight:qt},Vt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ue={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class me extends At{constructor(ft,zt){super(ft,zt),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ct.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===de&&this.cycle()}static get Default(){return Vt}static get DefaultType(){return ue}static get NAME(){return"carousel"}next(){this._slide(Xt)}nextWhenVisible(){!document.hidden&&U(this._element)&&this.next()}prev(){this._slide(Ft)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?q.one(this._element,te,()=>this.cycle()):this.cycle())}to(ft){const zt=this._getItems();if(ft>zt.length-1||ft<0)return;if(this._isSliding)return void q.one(this._element,te,()=>this.to(ft));const Se=this._getItemIndex(this._getActive());Se!==ft&&this._slide(ft>Se?Xt:Ft,zt[ft])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(ft){return ft.defaultInterval=ft.interval,ft}_addEventListeners(){this._config.keyboard&&q.on(this._element,"keydown.bs.carousel",ft=>this._keydown(ft)),"hover"===this._config.pause&&(q.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),q.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&Rt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const zt of Ct.find(".carousel-item img",this._element))q.on(zt,"dragstart.bs.carousel",Se=>Se.preventDefault());this._swipeHelper=new Rt(this._element,{leftCallback:()=>this._slide(this._directionToOrder(qt)),rightCallback:()=>this._slide(this._directionToOrder(ae)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(ft){if(/input|textarea/i.test(ft.target.tagName))return;const zt=Ut[ft.key];zt&&(ft.preventDefault(),this._slide(this._directionToOrder(zt)))}_getItemIndex(ft){return this._getItems().indexOf(ft)}_setActiveIndicatorElement(ft){if(!this._indicatorsElement)return;const zt=Ct.findOne(".active",this._indicatorsElement);zt.classList.remove(re),zt.removeAttribute("aria-current");const Se=Ct.findOne(`[data-bs-slide-to="${ft}"]`,this._indicatorsElement);Se&&(Se.classList.add(re),Se.setAttribute("aria-current","true"))}_updateInterval(){const ft=this._activeElement||this._getActive();if(!ft)return;const zt=Number.parseInt(ft.getAttribute("data-bs-interval"),10);this._config.interval=zt||this._config.defaultInterval}_slide(ft,zt=null){if(this._isSliding)return;const Se=this._getActive(),oi=ft===Xt,li=zt||T(this._getItems(),Se,oi,this._config.wrap);if(li===Se)return;const gi=this._getItemIndex(li),qi=un=>q.trigger(this._element,un,{relatedTarget:li,direction:this._orderToDirection(ft),from:this._getItemIndex(Se),to:gi});if(qi("slide.bs.carousel").defaultPrevented||!Se||!li)return;const hn=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(gi),this._activeElement=li;const vn=oi?"carousel-item-start":"carousel-item-end",Qi=oi?"carousel-item-next":"carousel-item-prev";li.classList.add(Qi),Se.classList.add(vn),li.classList.add(vn),this._queueCallback(()=>{li.classList.remove(vn,Qi),li.classList.add(re),Se.classList.remove(re,Qi,vn),this._isSliding=!1,qi(te)},Se,this._isAnimated()),hn&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ct.findOne(".active.carousel-item",this._element)}_getItems(){return Ct.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(ft){return h()?ft===qt?Ft:Xt:ft===qt?Xt:Ft}_orderToDirection(ft){return h()?ft===Ft?qt:ae:ft===Ft?ae:qt}static jQueryInterface(ft){return this.each(function(){const zt=me.getOrCreateInstance(this,ft);if("number"!=typeof ft){if("string"==typeof ft){if(void 0===zt[ft]||ft.startsWith("_")||"constructor"===ft)throw new TypeError(`No method named "${ft}"`);zt[ft]()}}else zt.to(ft)})}}q.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(oe){const ft=s(this);if(!ft||!ft.classList.contains(de))return;oe.preventDefault();const zt=me.getOrCreateInstance(ft),Se=this.getAttribute("data-bs-slide-to");return Se?(zt.to(Se),void zt._maybeEnableCycle()):"next"===wt.getDataAttribute(this,"slide")?(zt.next(),void zt._maybeEnableCycle()):(zt.prev(),void zt._maybeEnableCycle())}),q.on(window,"load.bs.carousel.data-api",()=>{const oe=Ct.find('[data-bs-ride="carousel"]');for(const ft of oe)me.getOrCreateInstance(ft)}),l(me);const ve="show",le="collapse",We="collapsing",$e='[data-bs-toggle="collapse"]',Li={parent:null,toggle:!0},Si={parent:"(null|element)",toggle:"boolean"};class bi extends At{constructor(ft,zt){super(ft,zt),this._isTransitioning=!1,this._triggerArray=[];const Se=Ct.find($e);for(const oi of Se){const li=i(oi),gi=Ct.find(li).filter(qi=>qi===this._element);null!==li&&gi.length&&this._triggerArray.push(oi)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Li}static get DefaultType(){return Si}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let ft=[];if(this._config.parent&&(ft=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(oi=>oi!==this._element).map(oi=>bi.getOrCreateInstance(oi,{toggle:!1}))),ft.length&&ft[0]._isTransitioning||q.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const oi of ft)oi.hide();const zt=this._getDimension();this._element.classList.remove(le),this._element.classList.add(We),this._element.style[zt]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Se=`scroll${zt[0].toUpperCase()+zt.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(We),this._element.classList.add(le,ve),this._element.style[zt]="",q.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[zt]=`${this._element[Se]}px`}hide(){if(this._isTransitioning||!this._isShown()||q.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const ft=this._getDimension();this._element.style[ft]=`${this._element.getBoundingClientRect()[ft]}px`,this._element.classList.add(We),this._element.classList.remove(le,ve);for(const zt of this._triggerArray){const Se=s(zt);Se&&!this._isShown(Se)&&this._addAriaAndCollapsedClass([zt],!1)}this._isTransitioning=!0,this._element.style[ft]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(We),this._element.classList.add(le),q.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(ft=this._element){return ft.classList.contains(ve)}_configAfterMerge(ft){return ft.toggle=Boolean(ft.toggle),ft.parent=M(ft.parent),ft}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const ft=this._getFirstLevelChildren($e);for(const zt of ft){const Se=s(zt);Se&&this._addAriaAndCollapsedClass([zt],this._isShown(Se))}}_getFirstLevelChildren(ft){const zt=Ct.find(":scope .collapse .collapse",this._config.parent);return Ct.find(ft,this._config.parent).filter(Se=>!zt.includes(Se))}_addAriaAndCollapsedClass(ft,zt){if(ft.length)for(const Se of ft)Se.classList.toggle("collapsed",!zt),Se.setAttribute("aria-expanded",zt)}static jQueryInterface(ft){const zt={};return"string"==typeof ft&&/show|hide/.test(ft)&&(zt.toggle=!1),this.each(function(){const Se=bi.getOrCreateInstance(this,zt);if("string"==typeof ft){if(void 0===Se[ft])throw new TypeError(`No method named "${ft}"`);Se[ft]()}})}}q.on(document,"click.bs.collapse.data-api",$e,function(oe){("A"===oe.target.tagName||oe.delegateTarget&&"A"===oe.delegateTarget.tagName)&&oe.preventDefault();const ft=i(this),zt=Ct.find(ft);for(const Se of zt)bi.getOrCreateInstance(Se,{toggle:!1}).toggle()}),l(bi);var ji="top",ui="bottom",Pi="right",Ai="left",ke="auto",di=[ji,ui,Pi,Ai],lt="start",Dt="end",Jt="clippingParents",he="viewport",Te="popper",Fe="reference",Ci=di.reduce(function(oe,ft){return oe.concat([ft+"-"+lt,ft+"-"+Dt])},[]),Hi=[].concat(di,[ke]).reduce(function(oe,ft){return oe.concat([ft,ft+"-"+lt,ft+"-"+Dt])},[]),Ri="beforeRead",gn="afterRead",Hn="beforeMain",Ji="afterMain",ci="beforeWrite",yi="afterWrite",$i=[Ri,"read",gn,Hn,"main",Ji,ci,"write",yi];function rn(oe){return oe?(oe.nodeName||"").toLowerCase():null}function Yi(oe){if(null==oe)return window;if("[object Window]"!==oe.toString()){var ft=oe.ownerDocument;return ft&&ft.defaultView||window}return oe}function Cn(oe){return oe instanceof Yi(oe).Element||oe instanceof Element}function Gi(oe){return oe instanceof Yi(oe).HTMLElement||oe instanceof HTMLElement}function Qe(oe){return typeof ShadowRoot<"u"&&(oe instanceof Yi(oe).ShadowRoot||oe instanceof ShadowRoot)}const K={name:"applyStyles",enabled:!0,phase:"write",fn:function(oe){var ft=oe.state;Object.keys(ft.elements).forEach(function(zt){var Se=ft.styles[zt]||{},oi=ft.attributes[zt]||{},li=ft.elements[zt];Gi(li)&&rn(li)&&(Object.assign(li.style,Se),Object.keys(oi).forEach(function(gi){var qi=oi[gi];!1===qi?li.removeAttribute(gi):li.setAttribute(gi,!0===qi?"":qi)}))})},effect:function(oe){var ft=oe.state,zt={popper:{position:ft.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ft.elements.popper.style,zt.popper),ft.styles=zt,ft.elements.arrow&&Object.assign(ft.elements.arrow.style,zt.arrow),function(){Object.keys(ft.elements).forEach(function(Se){var oi=ft.elements[Se],li=ft.attributes[Se]||{},gi=Object.keys(ft.styles.hasOwnProperty(Se)?ft.styles[Se]:zt[Se]).reduce(function(qi,hn){return qi[hn]="",qi},{});Gi(oi)&&rn(oi)&&(Object.assign(oi.style,gi),Object.keys(li).forEach(function(qi){oi.removeAttribute(qi)}))})}},requires:["computeStyles"]};function it(oe){return oe.split("-")[0]}var gt=Math.max,Pt=Math.min,jt=Math.round;function Kt(){var oe=navigator.userAgentData;return null!=oe&&oe.brands?oe.brands.map(function(ft){return ft.brand+"/"+ft.version}).join(" "):navigator.userAgent}function se(){return!/^((?!chrome|android).)*safari/i.test(Kt())}function ie(oe,ft,zt){void 0===ft&&(ft=!1),void 0===zt&&(zt=!1);var Se=oe.getBoundingClientRect(),oi=1,li=1;ft&&Gi(oe)&&(oi=oe.offsetWidth>0&&jt(Se.width)/oe.offsetWidth||1,li=oe.offsetHeight>0&&jt(Se.height)/oe.offsetHeight||1);var gi=(Cn(oe)?Yi(oe):window).visualViewport,qi=!se()&&zt,hn=(Se.left+(qi&&gi?gi.offsetLeft:0))/oi,vn=(Se.top+(qi&&gi?gi.offsetTop:0))/li,Qi=Se.width/oi,un=Se.height/li;return{width:Qi,height:un,top:vn,right:hn+Qi,bottom:vn+un,left:hn,x:hn,y:vn}}function fe(oe){var ft=ie(oe),zt=oe.offsetWidth,Se=oe.offsetHeight;return Math.abs(ft.width-zt)<=1&&(zt=ft.width),Math.abs(ft.height-Se)<=1&&(Se=ft.height),{x:oe.offsetLeft,y:oe.offsetTop,width:zt,height:Se}}function He(oe,ft){var zt=ft.getRootNode&&ft.getRootNode();if(oe.contains(ft))return!0;if(zt&&Qe(zt)){var Se=ft;do{if(Se&&oe.isSameNode(Se))return!0;Se=Se.parentNode||Se.host}while(Se)}return!1}function Ge(oe){return Yi(oe).getComputedStyle(oe)}function ai(oe){return["table","td","th"].indexOf(rn(oe))>=0}function ye(oe){return((Cn(oe)?oe.ownerDocument:oe.document)||window.document).documentElement}function ii(oe){return"html"===rn(oe)?oe:oe.assignedSlot||oe.parentNode||(Qe(oe)?oe.host:null)||ye(oe)}function je(oe){return Gi(oe)&&"fixed"!==Ge(oe).position?oe.offsetParent:null}function wi(oe){for(var ft=Yi(oe),zt=je(oe);zt&&ai(zt)&&"static"===Ge(zt).position;)zt=je(zt);return zt&&("html"===rn(zt)||"body"===rn(zt)&&"static"===Ge(zt).position)?ft:zt||function(Se){var oi=/firefox/i.test(Kt());if(/Trident/i.test(Kt())&&Gi(Se)&&"fixed"===Ge(Se).position)return null;var li=ii(Se);for(Qe(li)&&(li=li.host);Gi(li)&&["html","body"].indexOf(rn(li))<0;){var gi=Ge(li);if("none"!==gi.transform||"none"!==gi.perspective||"paint"===gi.contain||-1!==["transform","perspective"].indexOf(gi.willChange)||oi&&"filter"===gi.willChange||oi&&gi.filter&&"none"!==gi.filter)return li;li=li.parentNode}return null}(oe)||ft}function ei(oe){return["top","bottom"].indexOf(oe)>=0?"x":"y"}function Bi(oe,ft,zt){return gt(oe,Pt(ft,zt))}function Di(oe){return Object.assign({},{top:0,right:0,bottom:0,left:0},oe)}function si(oe,ft){return ft.reduce(function(zt,Se){return zt[Se]=oe,zt},{})}const pn={name:"arrow",enabled:!0,phase:"main",fn:function(oe){var ft,_r,sn,zt=oe.state,Se=oe.name,oi=oe.options,li=zt.elements.arrow,gi=zt.modifiersData.popperOffsets,qi=it(zt.placement),hn=ei(qi),vn=[Ai,Pi].indexOf(qi)>=0?"height":"width";if(li&&gi){var Qi=(sn=zt,Di("number"!=typeof(_r="function"==typeof(_r=oi.padding)?_r(Object.assign({},sn.rects,{placement:sn.placement})):_r)?_r:si(_r,di))),un=fe(li),hr="y"===hn?ji:Ai,sr="y"===hn?ui:Pi,fr=zt.rects.reference[vn]+zt.rects.reference[hn]-gi[hn]-zt.rects.popper[vn],gr=gi[hn]-zt.rects.reference[hn],Dr=wi(li),_o=Dr?"y"===hn?Dr.clientHeight||0:Dr.clientWidth||0:0,tr=_o/2-un[vn]/2+(fr/2-gr/2),Vr=Bi(Qi[hr],tr,_o-un[vn]-Qi[sr]);zt.modifiersData[Se]=((ft={})[hn]=Vr,ft.centerOffset=Vr-tr,ft)}},effect:function(oe){var ft=oe.state,zt=oe.options.element,Se=void 0===zt?"[data-popper-arrow]":zt;null!=Se&&("string"!=typeof Se||(Se=ft.elements.popper.querySelector(Se)))&&He(ft.elements.popper,Se)&&(ft.elements.arrow=Se)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fi(oe){return oe.split("-")[1]}var xn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tn(oe){var ft,zt=oe.popper,Se=oe.popperRect,oi=oe.placement,li=oe.variation,gi=oe.offsets,qi=oe.position,hn=oe.gpuAcceleration,vn=oe.adaptive,Qi=oe.roundOffsets,un=oe.isFixed,hr=gi.x,sr=void 0===hr?0:hr,fr=gi.y,gr=void 0===fr?0:fr,Dr="function"==typeof Qi?Qi({x:sr,y:gr}):{x:sr,y:gr};sr=Dr.x,gr=Dr.y;var _o=gi.hasOwnProperty("x"),po=gi.hasOwnProperty("y"),Ir=Ai,Ur=ji,tr=window;if(vn){var Vr=wi(zt),fo="clientHeight",_r="clientWidth";Vr===Yi(zt)&&"static"!==Ge(Vr=ye(zt)).position&&"absolute"===qi&&(fo="scrollHeight",_r="scrollWidth"),(oi===ji||(oi===Ai||oi===Pi)&&li===Dt)&&(Ur=ui,gr-=(un&&Vr===tr&&tr.visualViewport?tr.visualViewport.height:Vr[fo])-Se.height,gr*=hn?1:-1),oi!==Ai&&(oi!==ji&&oi!==ui||li!==Dt)||(Ir=Pi,sr-=(un&&Vr===tr&&tr.visualViewport?tr.visualViewport.width:Vr[_r])-Se.width,sr*=hn?1:-1)}var sn,ys,So,hs,oo=Object.assign({position:qi},vn&&xn),gs=!0===Qi?(So=(ys={x:sr,y:gr}).y,hs=window.devicePixelRatio||1,{x:jt(ys.x*hs)/hs||0,y:jt(So*hs)/hs||0}):{x:sr,y:gr};return sr=gs.x,gr=gs.y,Object.assign({},oo,hn?((sn={})[Ur]=po?"0":"",sn[Ir]=_o?"0":"",sn.transform=(tr.devicePixelRatio||1)<=1?"translate("+sr+"px, "+gr+"px)":"translate3d("+sr+"px, "+gr+"px, 0)",sn):((ft={})[Ur]=po?gr+"px":"",ft[Ir]=_o?sr+"px":"",ft.transform="",ft))}const An={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(oe){var ft=oe.state,zt=oe.options,Se=zt.gpuAcceleration,oi=void 0===Se||Se,li=zt.adaptive,gi=void 0===li||li,qi=zt.roundOffsets,hn=void 0===qi||qi,vn={placement:it(ft.placement),variation:Fi(ft.placement),popper:ft.elements.popper,popperRect:ft.rects.popper,gpuAcceleration:oi,isFixed:"fixed"===ft.options.strategy};null!=ft.modifiersData.popperOffsets&&(ft.styles.popper=Object.assign({},ft.styles.popper,tn(Object.assign({},vn,{offsets:ft.modifiersData.popperOffsets,position:ft.options.strategy,adaptive:gi,roundOffsets:hn})))),null!=ft.modifiersData.arrow&&(ft.styles.arrow=Object.assign({},ft.styles.arrow,tn(Object.assign({},vn,{offsets:ft.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:hn})))),ft.attributes.popper=Object.assign({},ft.attributes.popper,{"data-popper-placement":ft.placement})},data:{}};var Rn={passive:!0};const wn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(oe){var ft=oe.state,zt=oe.instance,Se=oe.options,oi=Se.scroll,li=void 0===oi||oi,gi=Se.resize,qi=void 0===gi||gi,hn=Yi(ft.elements.popper),vn=[].concat(ft.scrollParents.reference,ft.scrollParents.popper);return li&&vn.forEach(function(Qi){Qi.addEventListener("scroll",zt.update,Rn)}),qi&&hn.addEventListener("resize",zt.update,Rn),function(){li&&vn.forEach(function(Qi){Qi.removeEventListener("scroll",zt.update,Rn)}),qi&&hn.removeEventListener("resize",zt.update,Rn)}},data:{}};var er={left:"right",right:"left",bottom:"top",top:"bottom"};function Pn(oe){return oe.replace(/left|right|bottom|top/g,function(ft){return er[ft]})}var Kn={start:"end",end:"start"};function Bn(oe){return oe.replace(/start|end/g,function(ft){return Kn[ft]})}function In(oe){var ft=Yi(oe);return{scrollLeft:ft.pageXOffset,scrollTop:ft.pageYOffset}}function Wi(oe){return ie(ye(oe)).left+In(oe).scrollLeft}function Jn(oe){var ft=Ge(oe);return/auto|scroll|overlay|hidden/.test(ft.overflow+ft.overflowY+ft.overflowX)}function Or(oe){return["html","body","#document"].indexOf(rn(oe))>=0?oe.ownerDocument.body:Gi(oe)&&Jn(oe)?oe:Or(ii(oe))}function Qn(oe,ft){var zt;void 0===ft&&(ft=[]);var Se=Or(oe),oi=Se===(null==(zt=oe.ownerDocument)?void 0:zt.body),li=Yi(Se),gi=oi?[li].concat(li.visualViewport||[],Jn(Se)?Se:[]):Se,qi=ft.concat(gi);return oi?qi:qi.concat(Qn(ii(gi)))}function Fn(oe){return Object.assign({},oe,{left:oe.x,top:oe.y,right:oe.x+oe.width,bottom:oe.y+oe.height})}function Vn(oe,ft,zt){return ft===he?Fn(function(Se,oi){var li=Yi(Se),gi=ye(Se),qi=li.visualViewport,hn=gi.clientWidth,vn=gi.clientHeight,Qi=0,un=0;if(qi){hn=qi.width,vn=qi.height;var hr=se();(hr||!hr&&"fixed"===oi)&&(Qi=qi.offsetLeft,un=qi.offsetTop)}return{width:hn,height:vn,x:Qi+Wi(Se),y:un}}(oe,zt)):Cn(ft)?((li=ie(Se=ft,!1,"fixed"===zt)).top=li.top+Se.clientTop,li.left=li.left+Se.clientLeft,li.bottom=li.top+Se.clientHeight,li.right=li.left+Se.clientWidth,li.width=Se.clientWidth,li.height=Se.clientHeight,li.x=li.left,li.y=li.top,li):Fn(function(Se){var oi,li=ye(Se),gi=In(Se),qi=null==(oi=Se.ownerDocument)?void 0:oi.body,hn=gt(li.scrollWidth,li.clientWidth,qi?qi.scrollWidth:0,qi?qi.clientWidth:0),vn=gt(li.scrollHeight,li.clientHeight,qi?qi.scrollHeight:0,qi?qi.clientHeight:0),Qi=-gi.scrollLeft+Wi(Se),un=-gi.scrollTop;return"rtl"===Ge(qi||li).direction&&(Qi+=gt(li.clientWidth,qi?qi.clientWidth:0)-hn),{width:hn,height:vn,x:Qi,y:un}}(ye(oe)));var Se,li}function Gr(oe){var ft,zt=oe.reference,Se=oe.element,oi=oe.placement,li=oi?it(oi):null,gi=oi?Fi(oi):null,qi=zt.x+zt.width/2-Se.width/2,hn=zt.y+zt.height/2-Se.height/2;switch(li){case ji:ft={x:qi,y:zt.y-Se.height};break;case ui:ft={x:qi,y:zt.y+zt.height};break;case Pi:ft={x:zt.x+zt.width,y:hn};break;case Ai:ft={x:zt.x-Se.width,y:hn};break;default:ft={x:zt.x,y:zt.y}}var vn=li?ei(li):null;if(null!=vn){var Qi="y"===vn?"height":"width";switch(gi){case lt:ft[vn]=ft[vn]-(zt[Qi]/2-Se[Qi]/2);break;case Dt:ft[vn]=ft[vn]+(zt[Qi]/2-Se[Qi]/2)}}return ft}function rr(oe,ft){void 0===ft&&(ft={});var To,So,hs,an,Fr,es,xs,zs,Es,yo,Se=ft.placement,oi=void 0===Se?oe.placement:Se,li=ft.strategy,gi=void 0===li?oe.strategy:li,qi=ft.boundary,hn=void 0===qi?Jt:qi,vn=ft.rootBoundary,Qi=void 0===vn?he:vn,un=ft.elementContext,hr=void 0===un?Te:un,sr=ft.altBoundary,fr=void 0!==sr&&sr,gr=ft.padding,Dr=void 0===gr?0:gr,_o=Di("number"!=typeof Dr?Dr:si(Dr,di)),Ir=oe.rects.popper,Ur=oe.elements[fr?hr===Te?Fe:Te:hr],tr=(To=Cn(Ur)?Ur:Ur.contextElement||ye(oe.elements.popper),hs=Qi,an=gi,zs="clippingParents"===(So=hn)?(es=Qn(ii(Fr=To)),Cn(xs=["absolute","fixed"].indexOf(Ge(Fr).position)>=0&&Gi(Fr)?wi(Fr):Fr)?es.filter(function(jo){return Cn(jo)&&He(jo,xs)&&"body"!==rn(jo)}):[]):[].concat(So),yo=(Es=[].concat(zs,[hs])).reduce(function(Fr,es){var xs=Vn(To,es,an);return Fr.top=gt(xs.top,Fr.top),Fr.right=Pt(xs.right,Fr.right),Fr.bottom=Pt(xs.bottom,Fr.bottom),Fr.left=gt(xs.left,Fr.left),Fr},Vn(To,Es[0],an)),yo.width=yo.right-yo.left,yo.height=yo.bottom-yo.top,yo.x=yo.left,yo.y=yo.top,yo),Vr=ie(oe.elements.reference),fo=Gr({reference:Vr,element:Ir,strategy:"absolute",placement:oi}),_r=Fn(Object.assign({},Ir,fo)),sn=hr===Te?_r:Vr,oo={top:tr.top-sn.top+_o.top,bottom:sn.bottom-tr.bottom+_o.bottom,left:tr.left-sn.left+_o.left,right:sn.right-tr.right+_o.right},gs=oe.modifiersData.offset;if(hr===Te&&gs){var ys=gs[oi];Object.keys(oo).forEach(function(To){var So=[Pi,ui].indexOf(To)>=0?1:-1,hs=[ji,ui].indexOf(To)>=0?"y":"x";oo[To]+=ys[hs]*So})}return oo}const Sr={name:"flip",enabled:!0,phase:"main",fn:function(oe){var ft=oe.state,zt=oe.options,Se=oe.name;if(!ft.modifiersData[Se]._skip){for(var oi=zt.mainAxis,li=void 0===oi||oi,gi=zt.altAxis,qi=void 0===gi||gi,hn=zt.fallbackPlacements,vn=zt.padding,Qi=zt.boundary,un=zt.rootBoundary,hr=zt.altBoundary,sr=zt.flipVariations,fr=void 0===sr||sr,gr=zt.allowedAutoPlacements,Dr=ft.options.placement,_o=it(Dr),po=hn||(_o!==Dr&&fr?function(Fr){if(it(Fr)===ke)return[];var es=Pn(Fr);return[Bn(Fr),es,Bn(es)]}(Dr):[Pn(Dr)]),Ir=[Dr].concat(po).reduce(function(Fr,es){return Fr.concat(it(es)===ke?function Nr(oe,ft){void 0===ft&&(ft={});var oi=ft.boundary,li=ft.rootBoundary,gi=ft.padding,qi=ft.flipVariations,hn=ft.allowedAutoPlacements,vn=void 0===hn?Hi:hn,Qi=Fi(ft.placement),un=Qi?qi?Ci:Ci.filter(function(fr){return Fi(fr)===Qi}):di,hr=un.filter(function(fr){return vn.indexOf(fr)>=0});0===hr.length&&(hr=un);var sr=hr.reduce(function(fr,gr){return fr[gr]=rr(oe,{placement:gr,boundary:oi,rootBoundary:li,padding:gi})[it(gr)],fr},{});return Object.keys(sr).sort(function(fr,gr){return sr[fr]-sr[gr]})}(ft,{placement:es,boundary:Qi,rootBoundary:un,padding:vn,flipVariations:fr,allowedAutoPlacements:gr}):es)},[]),Ur=ft.rects.reference,tr=ft.rects.popper,Vr=new Map,fo=!0,_r=Ir[0],sn=0;sn<Ir.length;sn++){var oo=Ir[sn],gs=it(oo),ys=Fi(oo)===lt,To=[ji,ui].indexOf(gs)>=0,So=To?"width":"height",hs=rr(ft,{placement:oo,boundary:Qi,rootBoundary:un,altBoundary:hr,padding:vn}),an=To?ys?Pi:Ai:ys?ui:ji;Ur[So]>tr[So]&&(an=Pn(an));var zs=Pn(an),Es=[];if(li&&Es.push(hs[gs]<=0),qi&&Es.push(hs[an]<=0,hs[zs]<=0),Es.every(function(Fr){return Fr})){_r=oo,fo=!1;break}Vr.set(oo,Es)}if(fo)for(var la=function(Fr){var es=Ir.find(function(xs){var jo=Vr.get(xs);if(jo)return jo.slice(0,Fr).every(function(Fs){return Fs})});if(es)return _r=es,"break"},yo=fr?3:1;yo>0&&"break"!==la(yo);yo--);ft.placement!==_r&&(ft.modifiersData[Se]._skip=!0,ft.placement=_r,ft.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Br(oe,ft,zt){return void 0===zt&&(zt={x:0,y:0}),{top:oe.top-ft.height-zt.y,right:oe.right-ft.width+zt.x,bottom:oe.bottom-ft.height+zt.y,left:oe.left-ft.width-zt.x}}function jr(oe){return[ji,Pi,ui,Ai].some(function(ft){return oe[ft]>=0})}const br={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(oe){var ft=oe.state,zt=oe.name,Se=ft.rects.reference,oi=ft.rects.popper,li=ft.modifiersData.preventOverflow,gi=rr(ft,{elementContext:"reference"}),qi=rr(ft,{altBoundary:!0}),hn=Br(gi,Se),vn=Br(qi,oi,li),Qi=jr(hn),un=jr(vn);ft.modifiersData[zt]={referenceClippingOffsets:hn,popperEscapeOffsets:vn,isReferenceHidden:Qi,hasPopperEscaped:un},ft.attributes.popper=Object.assign({},ft.attributes.popper,{"data-popper-reference-hidden":Qi,"data-popper-escaped":un})}},Zr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(oe){var ft=oe.state,Se=oe.name,oi=oe.options.offset,li=void 0===oi?[0,0]:oi,gi=Hi.reduce(function(Qi,un){return Qi[un]=(sr=ft.rects,fr=li,gr=it(hr=un),Dr=[Ai,ji].indexOf(gr)>=0?-1:1,po=(po=(_o="function"==typeof fr?fr(Object.assign({},sr,{placement:hr})):fr)[0])||0,Ir=((Ir=_o[1])||0)*Dr,[Ai,Pi].indexOf(gr)>=0?{x:Ir,y:po}:{x:po,y:Ir}),Qi;var hr,sr,fr,gr,Dr,_o,po,Ir},{}),qi=gi[ft.placement],vn=qi.y;null!=ft.modifiersData.popperOffsets&&(ft.modifiersData.popperOffsets.x+=qi.x,ft.modifiersData.popperOffsets.y+=vn),ft.modifiersData[Se]=gi}},$r={name:"popperOffsets",enabled:!0,phase:"read",fn:function(oe){var ft=oe.state;ft.modifiersData[oe.name]=Gr({reference:ft.rects.reference,element:ft.rects.popper,strategy:"absolute",placement:ft.placement})},data:{}},Mo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(oe){var Jr,Yo,ft=oe.state,zt=oe.options,Se=oe.name,oi=zt.mainAxis,li=void 0===oi||oi,gi=zt.altAxis,qi=void 0!==gi&&gi,hr=zt.tether,sr=void 0===hr||hr,fr=zt.tetherOffset,gr=void 0===fr?0:fr,Dr=rr(ft,{boundary:zt.boundary,rootBoundary:zt.rootBoundary,padding:zt.padding,altBoundary:zt.altBoundary}),_o=it(ft.placement),po=Fi(ft.placement),Ir=!po,Ur=ei(_o),tr="x"===Ur?"y":"x",Vr=ft.modifiersData.popperOffsets,fo=ft.rects.reference,_r=ft.rects.popper,sn="function"==typeof gr?gr(Object.assign({},ft.rects,{placement:ft.placement})):gr,oo="number"==typeof sn?{mainAxis:sn,altAxis:sn}:Object.assign({mainAxis:0,altAxis:0},sn),gs=ft.modifiersData.offset?ft.modifiersData.offset[ft.placement]:null,ys={x:0,y:0};if(Vr){if(li){var To,So="y"===Ur?ji:Ai,hs="y"===Ur?ui:Pi,an="y"===Ur?"height":"width",zs=Vr[Ur],Es=zs+Dr[So],la=zs-Dr[hs],yo=sr?-_r[an]/2:0,Fr=po===lt?fo[an]:_r[an],es=po===lt?-_r[an]:-fo[an],xs=ft.elements.arrow,jo=sr&&xs?fe(xs):{width:0,height:0},Fs=ft.modifiersData["arrow#persistent"]?ft.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ol=Fs[So],Ta=Fs[hs],Sa=Bi(0,fo[an],jo[an]),sl=Ir?fo[an]/2-yo-Sa-ol-oo.mainAxis:Fr-Sa-ol-oo.mainAxis,ta=Ir?-fo[an]/2+yo+Sa+Ta+oo.mainAxis:es+Sa+Ta+oo.mainAxis,bs=ft.elements.arrow&&wi(ft.elements.arrow),Ys=null!=(To=gs?.[Ur])?To:0,Zs=zs+ta-Ys,Ko=Bi(sr?Pt(Es,zs+sl-Ys-(bs?"y"===Ur?bs.clientTop||0:bs.clientLeft||0:0)):Es,zs,sr?gt(la,Zs):la);Vr[Ur]=Ko,ys[Ur]=Ko-zs}if(qi){var ha,Ro=Vr[tr],ca="y"===tr?"height":"width",jn=Ro+Dr["x"===Ur?ji:Ai],On=Ro-Dr["x"===Ur?ui:Pi],Ca=-1!==[ji,Ai].indexOf(_o),us=null!=(ha=gs?.[tr])?ha:0,js=Ca?jn:Ro-fo[ca]-_r[ca]-us+oo.altAxis,Jo=Ca?Ro+fo[ca]+_r[ca]-us-oo.altAxis:On,Ks=sr&&Ca?(Yo=Bi(js,Ro,Jr=Jo))>Jr?Jr:Yo:Bi(sr?js:jn,Ro,sr?Jo:On);Vr[tr]=Ks,ys[tr]=Ks-Ro}ft.modifiersData[Se]=ys}},requiresIfExists:["offset"]};function Wr(oe,ft,zt){void 0===zt&&(zt=!1);var Se,oi,un,hr,sr,fr,li=Gi(ft),gi=Gi(ft)&&(hr=(un=ft).getBoundingClientRect(),sr=jt(hr.width)/un.offsetWidth||1,fr=jt(hr.height)/un.offsetHeight||1,1!==sr||1!==fr),qi=ye(ft),hn=ie(oe,gi,zt),vn={scrollLeft:0,scrollTop:0},Qi={x:0,y:0};return(li||!li&&!zt)&&(("body"!==rn(ft)||Jn(qi))&&(vn=(Se=ft)!==Yi(Se)&&Gi(Se)?{scrollLeft:(oi=Se).scrollLeft,scrollTop:oi.scrollTop}:In(Se)),Gi(ft)?((Qi=ie(ft,!0)).x+=ft.clientLeft,Qi.y+=ft.clientTop):qi&&(Qi.x=Wi(qi))),{x:hn.left+vn.scrollLeft-Qi.x,y:hn.top+vn.scrollTop-Qi.y,width:hn.width,height:hn.height}}function Oo(oe){var ft=new Map,zt=new Set,Se=[];function oi(li){zt.add(li.name),[].concat(li.requires||[],li.requiresIfExists||[]).forEach(function(gi){if(!zt.has(gi)){var qi=ft.get(gi);qi&&oi(qi)}}),Se.push(li)}return oe.forEach(function(li){ft.set(li.name,li)}),oe.forEach(function(li){zt.has(li.name)||oi(li)}),Se}var qr={placement:"bottom",modifiers:[],strategy:"absolute"};function Kr(){for(var oe=arguments.length,ft=new Array(oe),zt=0;zt<oe;zt++)ft[zt]=arguments[zt];return!ft.some(function(Se){return!(Se&&"function"==typeof Se.getBoundingClientRect)})}function ao(oe){void 0===oe&&(oe={});var zt=oe.defaultModifiers,Se=void 0===zt?[]:zt,oi=oe.defaultOptions,li=void 0===oi?qr:oi;return function(gi,qi,hn){void 0===hn&&(hn=li);var vn,Qi,un={placement:"bottom",orderedModifiers:[],options:Object.assign({},qr,li),modifiersData:{},elements:{reference:gi,popper:qi},attributes:{},styles:{}},hr=[],sr=!1,fr={state:un,setOptions:function(Dr){var _o="function"==typeof Dr?Dr(un.options):Dr;gr(),un.options=Object.assign({},li,un.options,_o),un.scrollParents={reference:Cn(gi)?Qn(gi):gi.contextElement?Qn(gi.contextElement):[],popper:Qn(qi)};var po,Ir,tr,Vr,Ur=(po=[].concat(Se,un.options.modifiers),Ir=po.reduce(function(tr,Vr){var fo=tr[Vr.name];return tr[Vr.name]=fo?Object.assign({},fo,Vr,{options:Object.assign({},fo.options,Vr.options),data:Object.assign({},fo.data,Vr.data)}):Vr,tr},{}),tr=Object.keys(Ir).map(function(tr){return Ir[tr]}),Vr=Oo(tr),$i.reduce(function(fo,_r){return fo.concat(Vr.filter(function(sn){return sn.phase===_r}))},[]));return un.orderedModifiers=Ur.filter(function(tr){return tr.enabled}),un.orderedModifiers.forEach(function(tr){var fo=tr.options,sn=tr.effect;if("function"==typeof sn){var oo=sn({state:un,name:tr.name,instance:fr,options:void 0===fo?{}:fo});hr.push(oo||function(){})}}),fr.update()},forceUpdate:function(){if(!sr){var Dr=un.elements,_o=Dr.reference,po=Dr.popper;if(Kr(_o,po)){un.rects={reference:Wr(_o,wi(po),"fixed"===un.options.strategy),popper:fe(po)},un.reset=!1,un.placement=un.options.placement,un.orderedModifiers.forEach(function(sn){return un.modifiersData[sn.name]=Object.assign({},sn.data)});for(var Ir=0;Ir<un.orderedModifiers.length;Ir++)if(!0!==un.reset){var Ur=un.orderedModifiers[Ir],tr=Ur.fn,Vr=Ur.options;"function"==typeof tr&&(un=tr({state:un,options:void 0===Vr?{}:Vr,name:Ur.name,instance:fr})||un)}else un.reset=!1,Ir=-1}}},update:(vn=function(){return new Promise(function(Dr){fr.forceUpdate(),Dr(un)})},function(){return Qi||(Qi=new Promise(function(Dr){Promise.resolve().then(function(){Qi=void 0,Dr(vn())})})),Qi}),destroy:function(){gr(),sr=!0}};if(!Kr(gi,qi))return fr;function gr(){hr.forEach(function(Dr){return Dr()}),hr=[]}return fr.setOptions(hn).then(function(Dr){!sr&&hn.onFirstUpdate&&hn.onFirstUpdate(Dr)}),fr}}var Qr=ao(),ho=ao({defaultModifiers:[wn,$r,An,K]}),Io=ao({defaultModifiers:[wn,$r,An,K,Zr,Sr,Mo,pn,br]});const wo=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:ao,detectOverflow:rr,createPopperBase:Qr,createPopper:Io,createPopperLite:ho,top:ji,bottom:ui,right:Pi,left:Ai,auto:ke,basePlacements:di,start:lt,end:Dt,clippingParents:Jt,viewport:he,popper:Te,reference:Fe,variationPlacements:Ci,placements:Hi,beforeRead:Ri,read:"read",afterRead:gn,beforeMain:Hn,main:"main",afterMain:Ji,beforeWrite:ci,write:"write",afterWrite:yi,modifierPhases:$i,applyStyles:K,arrow:pn,computeStyles:An,eventListeners:wn,flip:Sr,hide:br,offset:Zr,popperOffsets:$r,preventOverflow:Mo},Symbol.toStringTag,{value:"Module"})),ko="dropdown",J="ArrowUp",pt="ArrowDown",It="click.bs.dropdown.data-api",z="keydown.bs.dropdown.data-api",Z="show",ot='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rt=`${ot}.show`,_t=".dropdown-menu",Et=h()?"top-end":"top-start",Bt=h()?"top-start":"top-end",Wt=h()?"bottom-end":"bottom-start",Qt=h()?"bottom-start":"bottom-end",xe=h()?"left-start":"right-start",Me=h()?"right-start":"left-start",Xe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Be={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ue extends At{constructor(ft,zt){super(ft,zt),this._popper=null,this._parent=this._element.parentNode,this._menu=Ct.next(this._element,_t)[0]||Ct.prev(this._element,_t)[0]||Ct.findOne(_t,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xe}static get DefaultType(){return Be}static get NAME(){return ko}toggle(){return this._isShown()?this.hide():this.show()}show(){if(G(this._element)||this._isShown())return;const ft={relatedTarget:this._element};if(!q.trigger(this._element,"show.bs.dropdown",ft).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const zt of[].concat(...document.body.children))q.on(zt,"mouseover",F);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Z),this._element.classList.add(Z),q.trigger(this._element,"shown.bs.dropdown",ft)}}hide(){!G(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(ft){if(!q.trigger(this._element,"hide.bs.dropdown",ft).defaultPrevented){if("ontouchstart"in document.documentElement)for(const zt of[].concat(...document.body.children))q.off(zt,"mouseover",F);this._popper&&this._popper.destroy(),this._menu.classList.remove(Z),this._element.classList.remove(Z),this._element.setAttribute("aria-expanded","false"),wt.removeDataAttribute(this._menu,"popper"),q.trigger(this._element,"hidden.bs.dropdown",ft)}}_getConfig(ft){if("object"==typeof(ft=super._getConfig(ft)).reference&&!S(ft.reference)&&"function"!=typeof ft.reference.getBoundingClientRect)throw new TypeError(`${ko.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return ft}_createPopper(){if(void 0===wo)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let ft=this._element;"parent"===this._config.reference?ft=this._parent:S(this._config.reference)?ft=M(this._config.reference):"object"==typeof this._config.reference&&(ft=this._config.reference);const zt=this._getPopperConfig();this._popper=Io(ft,this._menu,zt)}_isShown(){return this._menu.classList.contains(Z)}_getPlacement(){const ft=this._parent;if(ft.classList.contains("dropend"))return xe;if(ft.classList.contains("dropstart"))return Me;if(ft.classList.contains("dropup-center"))return"top";if(ft.classList.contains("dropdown-center"))return"bottom";const zt="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return ft.classList.contains("dropup")?zt?Bt:Et:zt?Qt:Wt}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:ft}=this._config;return"string"==typeof ft?ft.split(",").map(zt=>Number.parseInt(zt,10)):"function"==typeof ft?zt=>ft(zt,this._element):ft}_getPopperConfig(){const ft={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(wt.setDataAttribute(this._menu,"popper","static"),ft.modifiers=[{name:"applyStyles",enabled:!1}]),{...ft,..."function"==typeof this._config.popperConfig?this._config.popperConfig(ft):this._config.popperConfig}}_selectMenuItem({key:ft,target:zt}){const Se=Ct.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(oi=>U(oi));Se.length&&T(Se,zt,ft===pt,!Se.includes(zt)).focus()}static jQueryInterface(ft){return this.each(function(){const zt=Ue.getOrCreateInstance(this,ft);if("string"==typeof ft){if(void 0===zt[ft])throw new TypeError(`No method named "${ft}"`);zt[ft]()}})}static clearMenus(ft){if(2===ft.button||"keyup"===ft.type&&"Tab"!==ft.key)return;const zt=Ct.find(rt);for(const Se of zt){const oi=Ue.getInstance(Se);if(!oi||!1===oi._config.autoClose)continue;const li=ft.composedPath(),gi=li.includes(oi._menu);if(li.includes(oi._element)||"inside"===oi._config.autoClose&&!gi||"outside"===oi._config.autoClose&&gi||oi._menu.contains(ft.target)&&("keyup"===ft.type&&"Tab"===ft.key||/input|select|option|textarea|form/i.test(ft.target.tagName)))continue;const qi={relatedTarget:oi._element};"click"===ft.type&&(qi.clickEvent=ft),oi._completeHide(qi)}}static dataApiKeydownHandler(ft){const zt=/input|textarea/i.test(ft.target.tagName),Se="Escape"===ft.key,oi=[J,pt].includes(ft.key);if(!oi&&!Se||zt&&!Se)return;ft.preventDefault();const li=this.matches(ot)?this:Ct.prev(this,ot)[0]||Ct.next(this,ot)[0]||Ct.findOne(ot,ft.delegateTarget.parentNode),gi=Ue.getOrCreateInstance(li);if(oi)return ft.stopPropagation(),gi.show(),void gi._selectMenuItem(ft);gi._isShown()&&(ft.stopPropagation(),gi.hide(),li.focus())}}q.on(document,z,ot,Ue.dataApiKeydownHandler),q.on(document,z,_t,Ue.dataApiKeydownHandler),q.on(document,It,Ue.clearMenus),q.on(document,"keyup.bs.dropdown.data-api",Ue.clearMenus),q.on(document,It,ot,function(oe){oe.preventDefault(),Ue.getOrCreateInstance(this).toggle()}),l(Ue);const Ii=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",on=".sticky-top",Tt="padding-right",Yt="margin-right";class pe{constructor(){this._element=document.body}getWidth(){const ft=document.documentElement.clientWidth;return Math.abs(window.innerWidth-ft)}hide(){const ft=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Tt,zt=>zt+ft),this._setElementAttributes(Ii,Tt,zt=>zt+ft),this._setElementAttributes(on,Yt,zt=>zt-ft)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Tt),this._resetElementAttributes(Ii,Tt),this._resetElementAttributes(on,Yt)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(ft,zt,Se){const oi=this.getWidth();this._applyManipulationCallback(ft,li=>{if(li!==this._element&&window.innerWidth>li.clientWidth+oi)return;this._saveInitialAttribute(li,zt);const gi=window.getComputedStyle(li).getPropertyValue(zt);li.style.setProperty(zt,`${Se(Number.parseFloat(gi))}px`)})}_saveInitialAttribute(ft,zt){const Se=ft.style.getPropertyValue(zt);Se&&wt.setDataAttribute(ft,zt,Se)}_resetElementAttributes(ft,zt){this._applyManipulationCallback(ft,Se=>{const oi=wt.getDataAttribute(Se,zt);null!==oi?(wt.removeDataAttribute(Se,zt),Se.style.setProperty(zt,oi)):Se.style.removeProperty(zt)})}_applyManipulationCallback(ft,zt){if(S(ft))zt(ft);else for(const Se of Ct.find(ft,this._element))zt(Se)}}const Oe="mousedown.bs.backdrop",ze={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Je={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Re extends St{constructor(ft){super(),this._config=this._getConfig(ft),this._isAppended=!1,this._element=null}static get Default(){return ze}static get DefaultType(){return Je}static get NAME(){return"backdrop"}show(ft){if(!this._config.isVisible)return void p(ft);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{p(ft)})}hide(ft){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),p(ft)})):p(ft)}dispose(){this._isAppended&&(q.off(this._element,Oe),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const ft=document.createElement("div");ft.className=this._config.className,this._config.isAnimated&&ft.classList.add("fade"),this._element=ft}return this._element}_configAfterMerge(ft){return ft.rootElement=M(ft.rootElement),ft}_append(){if(this._isAppended)return;const ft=this._getElement();this._config.rootElement.append(ft),q.on(ft,Oe,()=>{p(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(ft){x(ft,this._getElement(),this._config.isAnimated)}}const fi=".bs.focustrap",vi="backward",Vi={autofocus:!0,trapElement:null},cn={autofocus:"boolean",trapElement:"element"};class _n extends St{constructor(ft){super(),this._config=this._getConfig(ft),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Vi}static get DefaultType(){return cn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),q.off(document,fi),q.on(document,"focusin.bs.focustrap",ft=>this._handleFocusin(ft)),q.on(document,"keydown.tab.bs.focustrap",ft=>this._handleKeydown(ft)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,q.off(document,fi))}_handleFocusin(ft){const{trapElement:zt}=this._config;if(ft.target===document||ft.target===zt||zt.contains(ft.target))return;const Se=Ct.focusableChildren(zt);0===Se.length?zt.focus():this._lastTabNavDirection===vi?Se[Se.length-1].focus():Se[0].focus()}_handleKeydown(ft){"Tab"===ft.key&&(this._lastTabNavDirection=ft.shiftKey?vi:"forward")}}const kn="hidden.bs.modal",Ln="show.bs.modal",zr="modal-open",Ar="modal-static",so={backdrop:!0,focus:!0,keyboard:!0},mr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class no extends At{constructor(ft,zt){super(ft,zt),this._dialog=Ct.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new pe,this._addEventListeners()}static get Default(){return so}static get DefaultType(){return mr}static get NAME(){return"modal"}toggle(ft){return this._isShown?this.hide():this.show(ft)}show(ft){this._isShown||this._isTransitioning||q.trigger(this._element,Ln,{relatedTarget:ft}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(zr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(ft)))}hide(){this._isShown&&!this._isTransitioning&&(q.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const ft of[window,this._dialog])q.off(ft,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Re({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new _n({trapElement:this._element})}_showElement(ft){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const zt=Ct.findOne(".modal-body",this._dialog);zt&&(zt.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,q.trigger(this._element,"shown.bs.modal",{relatedTarget:ft})},this._dialog,this._isAnimated())}_addEventListeners(){q.on(this._element,"keydown.dismiss.bs.modal",ft=>{if("Escape"===ft.key)return this._config.keyboard?(ft.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),q.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),q.on(this._element,"mousedown.dismiss.bs.modal",ft=>{q.one(this._element,"click.dismiss.bs.modal",zt=>{this._element===ft.target&&this._element===zt.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(zr),this._resetAdjustments(),this._scrollBar.reset(),q.trigger(this._element,kn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(q.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const ft=this._element.scrollHeight>document.documentElement.clientHeight,zt=this._element.style.overflowY;"hidden"===zt||this._element.classList.contains(Ar)||(ft||(this._element.style.overflowY="hidden"),this._element.classList.add(Ar),this._queueCallback(()=>{this._element.classList.remove(Ar),this._queueCallback(()=>{this._element.style.overflowY=zt},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const ft=this._element.scrollHeight>document.documentElement.clientHeight,zt=this._scrollBar.getWidth(),Se=zt>0;if(Se&&!ft){const oi=h()?"paddingLeft":"paddingRight";this._element.style[oi]=`${zt}px`}if(!Se&&ft){const oi=h()?"paddingRight":"paddingLeft";this._element.style[oi]=`${zt}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(ft,zt){return this.each(function(){const Se=no.getOrCreateInstance(this,ft);if("string"==typeof ft){if(void 0===Se[ft])throw new TypeError(`No method named "${ft}"`);Se[ft](zt)}})}}q.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(oe){const ft=s(this);["A","AREA"].includes(this.tagName)&&oe.preventDefault(),q.one(ft,Ln,Se=>{Se.defaultPrevented||q.one(ft,kn,()=>{U(this)&&this.focus()})});const zt=Ct.findOne(".modal.show");zt&&no.getInstance(zt).hide(),no.getOrCreateInstance(ft).toggle(this)}),ht(no),l(no);const Pr="showing",No=".offcanvas.show",uo="hidePrevented.bs.offcanvas",yr="hidden.bs.offcanvas",Gs={backdrop:!0,keyboard:!0,scroll:!1},qo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ss extends At{constructor(ft,zt){super(ft,zt),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Gs}static get DefaultType(){return qo}static get NAME(){return"offcanvas"}toggle(ft){return this._isShown?this.hide():this.show(ft)}show(ft){this._isShown||q.trigger(this._element,"show.bs.offcanvas",{relatedTarget:ft}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new pe).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Pr),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Pr),q.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:ft})},this._element,!0))}hide(){this._isShown&&(q.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new pe).reset(),q.trigger(this._element,yr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const ft=Boolean(this._config.backdrop);return new Re({className:"offcanvas-backdrop",isVisible:ft,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:ft?()=>{"static"!==this._config.backdrop?this.hide():q.trigger(this._element,uo)}:null})}_initializeFocusTrap(){return new _n({trapElement:this._element})}_addEventListeners(){q.on(this._element,"keydown.dismiss.bs.offcanvas",ft=>{"Escape"===ft.key&&(this._config.keyboard?this.hide():q.trigger(this._element,uo))})}static jQueryInterface(ft){return this.each(function(){const zt=ss.getOrCreateInstance(this,ft);if("string"==typeof ft){if(void 0===zt[ft]||ft.startsWith("_")||"constructor"===ft)throw new TypeError(`No method named "${ft}"`);zt[ft](this)}})}}q.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(oe){const ft=s(this);if(["A","AREA"].includes(this.tagName)&&oe.preventDefault(),G(this))return;q.one(ft,yr,()=>{U(this)&&this.focus()});const zt=Ct.findOne(No);zt&&zt!==ft&&ss.getInstance(zt).hide(),ss.getOrCreateInstance(ft).toggle(this)}),q.on(window,"load.bs.offcanvas.data-api",()=>{for(const oe of Ct.find(No))ss.getOrCreateInstance(oe).show()}),q.on(window,"resize.bs.offcanvas",()=>{for(const oe of Ct.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(oe).position&&ss.getOrCreateInstance(oe).hide()}),ht(ss),l(ss);const Ds=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),sa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Rs=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,vs=(oe,ft)=>{const zt=oe.nodeName.toLowerCase();return ft.includes(zt)?!Ds.has(zt)||Boolean(sa.test(oe.nodeValue)||Rs.test(oe.nodeValue)):ft.filter(Se=>Se instanceof RegExp).some(Se=>Se.test(zt))},as={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ws={allowList:as,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},y={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},H={entry:"(string|element|function|null)",selector:"(string|element)"};class at extends St{constructor(ft){super(),this._config=this._getConfig(ft)}static get Default(){return Ws}static get DefaultType(){return y}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(ft=>this._resolvePossibleFunction(ft)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(ft){return this._checkContent(ft),this._config.content={...this._config.content,...ft},this}toHtml(){const ft=document.createElement("div");ft.innerHTML=this._maybeSanitize(this._config.template);for(const[oi,li]of Object.entries(this._config.content))this._setContent(ft,li,oi);const zt=ft.children[0],Se=this._resolvePossibleFunction(this._config.extraClass);return Se&&zt.classList.add(...Se.split(" ")),zt}_typeCheckConfig(ft){super._typeCheckConfig(ft),this._checkContent(ft.content)}_checkContent(ft){for(const[zt,Se]of Object.entries(ft))super._typeCheckConfig({selector:zt,entry:Se},H)}_setContent(ft,zt,Se){const oi=Ct.findOne(Se,ft);oi&&((zt=this._resolvePossibleFunction(zt))?S(zt)?this._putElementInTemplate(M(zt),oi):this._config.html?oi.innerHTML=this._maybeSanitize(zt):oi.textContent=zt:oi.remove())}_maybeSanitize(ft){return this._config.sanitize?function(zt,Se,oi){if(!zt.length)return zt;if(oi&&"function"==typeof oi)return oi(zt);const li=(new window.DOMParser).parseFromString(zt,"text/html"),gi=[].concat(...li.body.querySelectorAll("*"));for(const qi of gi){const hn=qi.nodeName.toLowerCase();if(!Object.keys(Se).includes(hn)){qi.remove();continue}const vn=[].concat(...qi.attributes),Qi=[].concat(Se["*"]||[],Se[hn]||[]);for(const un of vn)vs(un,Qi)||qi.removeAttribute(un.nodeName)}return li.body.innerHTML}(ft,this._config.allowList,this._config.sanitizeFn):ft}_resolvePossibleFunction(ft){return"function"==typeof ft?ft(this):ft}_putElementInTemplate(ft,zt){if(this._config.html)return zt.innerHTML="",void zt.append(ft);zt.textContent=ft.textContent}}const Mt=new Set(["sanitize","allowList","sanitizeFn"]),Gt="fade",be="show",ni="hide.bs.modal",Xi="hover",zn={AUTO:"auto",TOP:"top",RIGHT:h()?"left":"right",BOTTOM:"bottom",LEFT:h()?"right":"left"},cr={allowList:as,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},kr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class go extends At{constructor(ft,zt){if(void 0===wo)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(ft,zt),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return cr}static get DefaultType(){return kr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),q.off(this._element.closest(".modal"),ni,this._hideModalHandler),this.tip&&this.tip.remove(),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const ft=q.trigger(this._element,this.constructor.eventName("show")),zt=(X(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(ft.defaultPrevented||!zt)return;this.tip&&(this.tip.remove(),this.tip=null);const Se=this._getTipElement();this._element.setAttribute("aria-describedby",Se.getAttribute("id"));const{container:oi}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(oi.append(Se),q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper?this._popper.update():this._popper=this._createPopper(Se),Se.classList.add(be),"ontouchstart"in document.documentElement)for(const li of[].concat(...document.body.children))q.on(li,"mouseover",F);this._queueCallback(()=>{q.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown()||q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;const ft=this._getTipElement();if(ft.classList.remove(be),"ontouchstart"in document.documentElement)for(const zt of[].concat(...document.body.children))q.off(zt,"mouseover",F);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||ft.remove(),this._element.removeAttribute("aria-describedby"),q.trigger(this._element,this.constructor.eventName("hidden")),this._disposePopper())},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(ft){const zt=this._getTemplateFactory(ft).toHtml();if(!zt)return null;zt.classList.remove(Gt,be),zt.classList.add(`bs-${this.constructor.NAME}-auto`);const Se=(oi=>{do{oi+=Math.floor(1e6*Math.random())}while(document.getElementById(oi));return oi})(this.constructor.NAME).toString();return zt.setAttribute("id",Se),this._isAnimated()&&zt.classList.add(Gt),zt}setContent(ft){this._newContent=ft,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(ft){return this._templateFactory?this._templateFactory.changeContent(ft):this._templateFactory=new at({...this._config,content:ft,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(ft){return this.constructor.getOrCreateInstance(ft.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Gt)}_isShown(){return this.tip&&this.tip.classList.contains(be)}_createPopper(ft){const zt="function"==typeof this._config.placement?this._config.placement.call(this,ft,this._element):this._config.placement,Se=zn[zt.toUpperCase()];return Io(this._element,ft,this._getPopperConfig(Se))}_getOffset(){const{offset:ft}=this._config;return"string"==typeof ft?ft.split(",").map(zt=>Number.parseInt(zt,10)):"function"==typeof ft?zt=>ft(zt,this._element):ft}_resolvePossibleFunction(ft){return"function"==typeof ft?ft.call(this._element):ft}_getPopperConfig(ft){const zt={placement:ft,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Se=>{this._getTipElement().setAttribute("data-popper-placement",Se.state.placement)}}]};return{...zt,..."function"==typeof this._config.popperConfig?this._config.popperConfig(zt):this._config.popperConfig}}_setListeners(){const ft=this._config.trigger.split(" ");for(const zt of ft)if("click"===zt)q.on(this._element,this.constructor.eventName("click"),this._config.selector,Se=>{this._initializeOnDelegatedTarget(Se).toggle()});else if("manual"!==zt){const Se=this.constructor.eventName(zt===Xi?"mouseenter":"focusin"),oi=this.constructor.eventName(zt===Xi?"mouseleave":"focusout");q.on(this._element,Se,this._config.selector,li=>{const gi=this._initializeOnDelegatedTarget(li);gi._activeTrigger["focusin"===li.type?"focus":Xi]=!0,gi._enter()}),q.on(this._element,oi,this._config.selector,li=>{const gi=this._initializeOnDelegatedTarget(li);gi._activeTrigger["focusout"===li.type?"focus":Xi]=gi._element.contains(li.relatedTarget),gi._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},q.on(this._element.closest(".modal"),ni,this._hideModalHandler)}_fixTitle(){const ft=this._element.getAttribute("title");ft&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",ft),this._element.setAttribute("data-bs-original-title",ft),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(ft,zt){clearTimeout(this._timeout),this._timeout=setTimeout(ft,zt)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(ft){const zt=wt.getDataAttributes(this._element);for(const Se of Object.keys(zt))Mt.has(Se)&&delete zt[Se];return ft={...zt,..."object"==typeof ft&&ft?ft:{}},ft=this._mergeConfigObj(ft),ft=this._configAfterMerge(ft),this._typeCheckConfig(ft),ft}_configAfterMerge(ft){return ft.container=!1===ft.container?document.body:M(ft.container),"number"==typeof ft.delay&&(ft.delay={show:ft.delay,hide:ft.delay}),"number"==typeof ft.title&&(ft.title=ft.title.toString()),"number"==typeof ft.content&&(ft.content=ft.content.toString()),ft}_getDelegateConfig(){const ft={};for(const zt in this._config)this.constructor.Default[zt]!==this._config[zt]&&(ft[zt]=this._config[zt]);return ft.selector=!1,ft.trigger="manual",ft}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(ft){return this.each(function(){const zt=go.getOrCreateInstance(this,ft);if("string"==typeof ft){if(void 0===zt[ft])throw new TypeError(`No method named "${ft}"`);zt[ft]()}})}}l(go);const _s={...go.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Wo={...go.DefaultType,content:"(null|string|element|function)"};class Do extends go{static get Default(){return _s}static get DefaultType(){return Wo}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(ft){return this.each(function(){const zt=Do.getOrCreateInstance(this,ft);if("string"==typeof ft){if(void 0===zt[ft])throw new TypeError(`No method named "${ft}"`);zt[ft]()}})}}l(Do);const Bs="click.bs.scrollspy",Xo="active",co={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ms={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Cs extends At{constructor(ft,zt){super(ft,zt),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return co}static get DefaultType(){return ms}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const ft of this._observableSections.values())this._observer.observe(ft)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(ft){return ft.target=M(ft.target)||document.body,ft.rootMargin=ft.offset?`${ft.offset}px 0px -30%`:ft.rootMargin,"string"==typeof ft.threshold&&(ft.threshold=ft.threshold.split(",").map(zt=>Number.parseFloat(zt))),ft}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(q.off(this._config.target,Bs),q.on(this._config.target,Bs,"[href]",ft=>{const zt=this._observableSections.get(ft.target.hash);if(zt){ft.preventDefault();const Se=this._rootElement||window,oi=zt.offsetTop-this._element.offsetTop;if(Se.scrollTo)return void Se.scrollTo({top:oi,behavior:"smooth"});Se.scrollTop=oi}}))}_getNewObserver(){return new IntersectionObserver(zt=>this._observerCallback(zt),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(ft){const zt=gi=>this._targetLinks.get(`#${gi.target.id}`),Se=gi=>{this._previousScrollData.visibleEntryTop=gi.target.offsetTop,this._process(zt(gi))},oi=(this._rootElement||document.documentElement).scrollTop,li=oi>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=oi;for(const gi of ft){if(!gi.isIntersecting){this._activeTarget=null,this._clearActiveClass(zt(gi));continue}const qi=gi.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(li&&qi){if(Se(gi),!oi)return}else li||qi||Se(gi)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const ft=Ct.find("[href]",this._config.target);for(const zt of ft){if(!zt.hash||G(zt))continue;const Se=Ct.findOne(zt.hash,this._element);U(Se)&&(this._targetLinks.set(zt.hash,zt),this._observableSections.set(zt.hash,Se))}}_process(ft){this._activeTarget!==ft&&(this._clearActiveClass(this._config.target),this._activeTarget=ft,ft.classList.add(Xo),this._activateParents(ft),q.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:ft}))}_activateParents(ft){if(ft.classList.contains("dropdown-item"))Ct.findOne(".dropdown-toggle",ft.closest(".dropdown")).classList.add(Xo);else for(const zt of Ct.parents(ft,".nav, .list-group"))for(const Se of Ct.prev(zt,".nav-link, .nav-item > .nav-link, .list-group-item"))Se.classList.add(Xo)}_clearActiveClass(ft){ft.classList.remove(Xo);const zt=Ct.find("[href].active",ft);for(const Se of zt)Se.classList.remove(Xo)}static jQueryInterface(ft){return this.each(function(){const zt=Cs.getOrCreateInstance(this,ft);if("string"==typeof ft){if(void 0===zt[ft]||ft.startsWith("_")||"constructor"===ft)throw new TypeError(`No method named "${ft}"`);zt[ft]()}})}}q.on(window,"load.bs.scrollspy.data-api",()=>{for(const oe of Ct.find('[data-bs-spy="scroll"]'))Cs.getOrCreateInstance(oe)}),l(Cs);const Qs="ArrowLeft",ls="ArrowRight",wa="ArrowUp",ga="ArrowDown",Ae="active",pi="show",Zi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ti=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Zi}`;class en extends At{constructor(ft){super(ft),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),q.on(this._element,"keydown.bs.tab",zt=>this._keydown(zt)))}static get NAME(){return"tab"}show(){const ft=this._element;if(this._elemIsActive(ft))return;const zt=this._getActiveElem(),Se=zt?q.trigger(zt,"hide.bs.tab",{relatedTarget:ft}):null;q.trigger(ft,"show.bs.tab",{relatedTarget:zt}).defaultPrevented||Se&&Se.defaultPrevented||(this._deactivate(zt,ft),this._activate(ft,zt))}_activate(ft,zt){ft&&(ft.classList.add(Ae),this._activate(s(ft)),this._queueCallback(()=>{"tab"===ft.getAttribute("role")?(ft.removeAttribute("tabindex"),ft.setAttribute("aria-selected",!0),this._toggleDropDown(ft,!0),q.trigger(ft,"shown.bs.tab",{relatedTarget:zt})):ft.classList.add(pi)},ft,ft.classList.contains("fade")))}_deactivate(ft,zt){ft&&(ft.classList.remove(Ae),ft.blur(),this._deactivate(s(ft)),this._queueCallback(()=>{"tab"===ft.getAttribute("role")?(ft.setAttribute("aria-selected",!1),ft.setAttribute("tabindex","-1"),this._toggleDropDown(ft,!1),q.trigger(ft,"hidden.bs.tab",{relatedTarget:zt})):ft.classList.remove(pi)},ft,ft.classList.contains("fade")))}_keydown(ft){if(![Qs,ls,wa,ga].includes(ft.key))return;ft.stopPropagation(),ft.preventDefault();const zt=[ls,ga].includes(ft.key),Se=T(this._getChildren().filter(oi=>!G(oi)),ft.target,zt,!0);Se&&(Se.focus({preventScroll:!0}),en.getOrCreateInstance(Se).show())}_getChildren(){return Ct.find(Ti,this._parent)}_getActiveElem(){return this._getChildren().find(ft=>this._elemIsActive(ft))||null}_setInitialAttributes(ft,zt){this._setAttributeIfNotExists(ft,"role","tablist");for(const Se of zt)this._setInitialAttributesOnChild(Se)}_setInitialAttributesOnChild(ft){ft=this._getInnerElement(ft);const zt=this._elemIsActive(ft),Se=this._getOuterElement(ft);ft.setAttribute("aria-selected",zt),Se!==ft&&this._setAttributeIfNotExists(Se,"role","presentation"),zt||ft.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(ft,"role","tab"),this._setInitialAttributesOnTargetPanel(ft)}_setInitialAttributesOnTargetPanel(ft){const zt=s(ft);zt&&(this._setAttributeIfNotExists(zt,"role","tabpanel"),ft.id&&this._setAttributeIfNotExists(zt,"aria-labelledby",`#${ft.id}`))}_toggleDropDown(ft,zt){const Se=this._getOuterElement(ft);if(!Se.classList.contains("dropdown"))return;const oi=(li,gi)=>{const qi=Ct.findOne(li,Se);qi&&qi.classList.toggle(gi,zt)};oi(".dropdown-toggle",Ae),oi(".dropdown-menu",pi),Se.setAttribute("aria-expanded",zt)}_setAttributeIfNotExists(ft,zt,Se){ft.hasAttribute(zt)||ft.setAttribute(zt,Se)}_elemIsActive(ft){return ft.classList.contains(Ae)}_getInnerElement(ft){return ft.matches(Ti)?ft:Ct.findOne(Ti,ft)}_getOuterElement(ft){return ft.closest(".nav-item, .list-group-item")||ft}static jQueryInterface(ft){return this.each(function(){const zt=en.getOrCreateInstance(this);if("string"==typeof ft){if(void 0===zt[ft]||ft.startsWith("_")||"constructor"===ft)throw new TypeError(`No method named "${ft}"`);zt[ft]()}})}}q.on(document,"click.bs.tab",Zi,function(oe){["A","AREA"].includes(this.tagName)&&oe.preventDefault(),G(this)||en.getOrCreateInstance(this).show()}),q.on(window,"load.bs.tab",()=>{for(const oe of Ct.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))en.getOrCreateInstance(oe)}),l(en);const bn="show",En="showing",vr={animation:"boolean",autohide:"boolean",delay:"number"},pr={animation:!0,autohide:!0,delay:5e3};class or extends At{constructor(ft,zt){super(ft,zt),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return pr}static get DefaultType(){return vr}static get NAME(){return"toast"}show(){q.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(bn,En),this._queueCallback(()=>{this._element.classList.remove(En),q.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(q.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(En),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(En,bn),q.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(bn),super.dispose()}isShown(){return this._element.classList.contains(bn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(ft,zt){switch(ft.type){case"mouseover":case"mouseout":this._hasMouseInteraction=zt;break;case"focusin":case"focusout":this._hasKeyboardInteraction=zt}if(zt)return void this._clearTimeout();const Se=ft.relatedTarget;this._element===Se||this._element.contains(Se)||this._maybeScheduleHide()}_setListeners(){q.on(this._element,"mouseover.bs.toast",ft=>this._onInteraction(ft,!0)),q.on(this._element,"mouseout.bs.toast",ft=>this._onInteraction(ft,!1)),q.on(this._element,"focusin.bs.toast",ft=>this._onInteraction(ft,!0)),q.on(this._element,"focusout.bs.toast",ft=>this._onInteraction(ft,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(ft){return this.each(function(){const zt=or.getOrCreateInstance(this,ft);if("string"==typeof ft){if(void 0===zt[ft])throw new TypeError(`No method named "${ft}"`);zt[ft](this)}})}}return ht(or),l(or),{Alert:mt,Button:Lt,Carousel:me,Collapse:bi,Dropdown:Ue,Modal:no,Offcanvas:ss,Popover:Do,ScrollSpy:Cs,Tab:en,Toast:or,Tooltip:go}}),function(v,e){"object"==typeof module&&module.exports?(e.default=e,module.exports=v.document?e(v):e):"function"==typeof define&&define.amd?define("highcharts/highcharts",function(){return e(v)}):(v.Highcharts&&v.Highcharts.error(16,!0),v.Highcharts=e(v))}(typeof window<"u"?window:this,function(v){function e(s,c,S,M){s.hasOwnProperty(c)||(s[c]=M.apply(null,S),"function"==typeof CustomEvent&&v.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:s[c]}})))}var i={};return e(i,"Core/Globals.js",[],function(){var s,c;return(c=s||(s={})).SVG_NS="http://www.w3.org/2000/svg",c.product="Highcharts",c.version="10.3.3",c.win=typeof v<"u"?v:{},c.doc=c.win.document,c.svg=c.doc&&c.doc.createElementNS&&!!c.doc.createElementNS(c.SVG_NS,"svg").createSVGRect,c.userAgent=c.win.navigator&&c.win.navigator.userAgent||"",c.isChrome=-1!==c.userAgent.indexOf("Chrome"),c.isFirefox=-1!==c.userAgent.indexOf("Firefox"),c.isMS=/(edge|msie|trident)/i.test(c.userAgent)&&!c.win.opera,c.isSafari=!c.isChrome&&-1!==c.userAgent.indexOf("Safari"),c.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(c.userAgent),c.isWebKit=-1!==c.userAgent.indexOf("AppleWebKit"),c.deg2rad=2*Math.PI/360,c.hasBidiBug=c.isFirefox&&4>parseInt(c.userAgent.split("Firefox/")[1],10),c.hasTouch=!!c.win.TouchEvent,c.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],c.noop=function(){},c.supportsPassiveEvents=function(){var S=!1;if(!c.isMS){var M=Object.defineProperty({},"passive",{get:function(){S=!0}});c.win.addEventListener&&c.win.removeEventListener&&(c.win.addEventListener("testPassive",c.noop,M),c.win.removeEventListener("testPassive",c.noop,M))}return S}(),c.charts=[],c.dateFormats={},c.seriesTypes={},c.symbolSizes={},c.chartCount=0,s}),e(i,"Core/Utilities.js",[i["Core/Globals.js"]],function(s){function c(f,o,B,V){var q=o?"Highcharts error":"Highcharts warning";32===f&&(f=q+": Deprecated member");var nt=E(f),yt=nt?q+" #"+f+": www.highcharts.com/errors/"+f+"/":f.toString();if(typeof V<"u"){var ut="";nt&&(yt+="?"),u(V,function(Y,tt){ut+="\n - ".concat(tt,": ").concat(Y),nt&&(yt+=encodeURI(tt)+"="+encodeURI(Y))}),yt+=ut}k(s,"displayError",{chart:B,code:f,message:yt,params:V},function(){if(o)throw Error(yt);m.console&&-1===c.messages.indexOf(yt)&&console.warn(yt)}),c.messages.push(yt)}function M(f,o){return parseInt(f,o||10)}function U(f){return"string"==typeof f}function G(f){return"[object Array]"===(f=Object.prototype.toString.call(f))||"[object Array Iterator]"===f}function X(f,o){return!(!f||"object"!=typeof f||o&&G(f))}function F(f){return X(f)&&"number"==typeof f.nodeType}function R(f){var o=f&&f.constructor;return!(!X(f,!0)||F(f)||!o||!o.name||"Object"===o.name)}function E(f){return"number"==typeof f&&!isNaN(f)&&1/0>f&&-1/0<f}function a(f){return typeof f<"u"&&null!==f}function h(f,o,B){var q,V=U(o)&&!a(B),nt=function(yt,ut){a(yt)?f.setAttribute(ut,yt):V?(q=f.getAttribute(ut))||"class"!==ut||(q=f.getAttribute(ut+"Name")):f.removeAttribute(ut)};return U(o)?nt(B,o):u(o,nt),q}function l(f,o){var B;for(B in f||(f={}),o)f[B]=o[B];return f}function p(){for(var f=arguments,o=f.length,B=0;B<o;B++){var V=f[B];if(typeof V<"u"&&null!==V)return V}}function x(f,o){s.isMS&&!s.svg&&o&&a(o.opacity)&&(o.filter="alpha(opacity=".concat(100*o.opacity,")")),l(f.style,o)}function T(f){return Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function b(f,o){return 1e14<f?f:parseFloat(f.toPrecision(o||14))}function u(f,o,B){for(var V in f)Object.hasOwnProperty.call(f,V)&&o.call(B||f[V],f[V],V,f)}function n(f,o,B){function V(ut,Y){var tt=f.removeEventListener||s.removeEventListenerPolyfill;tt&&tt.call(f,ut,Y,!1)}function q(ut){var Y;if(f.nodeName){if(o){var tt={};tt[o]=!0}else tt=ut;u(tt,function(wt,St){if(ut[St])for(Y=ut[St].length;Y--;)V(St,ut[St][Y].fn)})}}var nt="function"==typeof f&&f.prototype||f;if(Object.hasOwnProperty.call(nt,"hcEvents")){var yt=nt.hcEvents;o?(nt=yt[o]||[],B?(yt[o]=nt.filter(function(ut){return B!==ut.fn}),V(o,B)):(q(yt),yt[o]=[])):(q(yt),delete nt.hcEvents)}}function k(f,o,B,V){if(B=B||{},O.createEvent&&(f.dispatchEvent||f.fireEvent&&f!==s)){var q=O.createEvent("Events");q.initEvent(o,!0,!0),B=l(q,B),f.dispatchEvent?f.dispatchEvent(B):f.fireEvent(o,B)}else if(f.hcEvents){B.target||l(B,{preventDefault:function(){B.defaultPrevented=!0},target:f,type:o}),q=[];for(var nt=f,yt=!1;nt.hcEvents;)Object.hasOwnProperty.call(nt,"hcEvents")&&nt.hcEvents[o]&&(q.length&&(yt=!0),q.unshift.apply(q,nt.hcEvents[o])),nt=Object.getPrototypeOf(nt);yt&&q.sort(function(ut,Y){return ut.order-Y.order}),q.forEach(function(ut){!1===ut.fn.call(f,B)&&B.preventDefault()})}V&&!B.defaultPrevented&&V.call(f,B)}var C=s.charts,O=s.doc,m=s.win;(c||(c={})).messages=[],Math.easeInOutSine=function(f){return-.5*(Math.cos(Math.PI*f)-1)};var A=Array.prototype.find?function(f,o){return f.find(o)}:function(f,o){var B,V=f.length;for(B=0;B<V;B++)if(o(f[B],B))return f[B]};u({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(f,o){s[o]=function(B){var V;return c(32,!1,void 0,((V={})["Highcharts.".concat(o)]="use Array.".concat(f),V)),Array.prototype[f].apply(B,[].slice.call(arguments,1))}});var P,f,o,D=(f=Math.random().toString(36).substring(2,9)+"-",o=0,function(){return"highcharts-"+(P?"":f)+o++});return m.jQuery&&(m.jQuery.fn.highcharts=function(){var f=[].slice.call(arguments);if(this[0])return f[0]?(new(s[U(f[0])?f.shift():"Chart"])(this[0],f[0],f[1]),this):C[h(this[0],"data-highcharts-chart")]}),A={addEvent:function(f,o,B,V){void 0===V&&(V={});var q="function"==typeof f&&f.prototype||f;Object.hasOwnProperty.call(q,"hcEvents")||(q.hcEvents={}),q=q.hcEvents,s.Point&&f instanceof s.Point&&f.series&&f.series.chart&&(f.series.chart.runTrackerClick=!0);var nt=f.addEventListener||s.addEventListenerPolyfill;return nt&&nt.call(f,o,B,!!s.supportsPassiveEvents&&{passive:void 0===V.passive?-1!==o.indexOf("touch"):V.passive,capture:!1}),q[o]||(q[o]=[]),q[o].push({fn:B,order:"number"==typeof V.order?V.order:1/0}),q[o].sort(function(yt,ut){return yt.order-ut.order}),function(){n(f,o,B)}},arrayMax:function(f){for(var o=f.length,B=f[0];o--;)f[o]>B&&(B=f[o]);return B},arrayMin:function(f){for(var o=f.length,B=f[0];o--;)f[o]<B&&(B=f[o]);return B},attr:h,clamp:function(f,o,B){return f>o?f<B?f:B:o},cleanRecursively:function S(f,o){var B={};return u(f,function(V,q){X(f[q],!0)&&!f.nodeType&&o[q]?(V=S(f[q],o[q]),Object.keys(V).length&&(B[q]=V)):(X(f[q])||f[q]!==o[q]||q in f&&!(q in o))&&(B[q]=f[q])}),B},clearTimeout:function(f){a(f)&&clearTimeout(f)},correctFloat:b,createElement:function(f,o,B,V,q){return f=O.createElement(f),o&&l(f,o),q&&x(f,{padding:"0",border:"none",margin:"0"}),B&&x(f,B),V&&V.appendChild(f),f},css:x,defined:a,destroyObjectProperties:function(f,o){u(f,function(B,V){B&&B!==o&&B.destroy&&B.destroy(),delete f[V]})},discardElement:function(f){f&&f.parentElement&&f.parentElement.removeChild(f)},erase:function(f,o){for(var B=f.length;B--;)if(f[B]===o){f.splice(B,1);break}},error:c,extend:l,extendClass:function(f,o){var B=function(){};return l(B.prototype=new f,o),B},find:A,fireEvent:k,getMagnitude:T,getNestedProperty:function(f,o){for(f=f.split(".");f.length&&a(o);){var B=f.shift();if(typeof B>"u"||"__proto__"===B||!a(o=o[B])||"function"==typeof o||"number"==typeof o.nodeType||o===m)return}return o},getStyle:function I(f,o,B){var V=s.getStyle||I;if("width"===o)return o=Math.min(f.offsetWidth,f.scrollWidth),(B=f.getBoundingClientRect&&f.getBoundingClientRect().width)<o&&B>=o-1&&(o=Math.floor(B)),Math.max(0,o-(V(f,"padding-left",!0)||0)-(V(f,"padding-right",!0)||0));if("height"===o)return Math.max(0,Math.min(f.offsetHeight,f.scrollHeight)-(V(f,"padding-top",!0)||0)-(V(f,"padding-bottom",!0)||0));if(m.getComputedStyle||c(27,!0),f=m.getComputedStyle(f,void 0)){var q=f.getPropertyValue(o);p(B,"opacity"!==o)&&(q=M(q))}return q},inArray:function(f,o,B){return c(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),o.indexOf(f,B)},isArray:G,isClass:R,isDOMElement:F,isFunction:function(f){return"function"==typeof f},isNumber:E,isObject:X,isString:U,keys:function(f){return c(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(f)},merge:function(){var f,o=arguments,B={},V=function(nt,yt){return"object"!=typeof nt&&(nt={}),u(yt,function(ut,Y){"__proto__"!==Y&&"constructor"!==Y&&(nt[Y]=!X(ut,!0)||R(ut)||F(ut)?yt[Y]:V(nt[Y]||{},ut))}),nt};!0===o[0]&&(B=o[1],o=Array.prototype.slice.call(o,2));var q=o.length;for(f=0;f<q;f++)B=V(B,o[f]);return B},normalizeTickInterval:function(f,o,B,V,q){var nt=f,yt=f/(B=p(B,T(f)));for(o||(o=q?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===V&&(1===B?o=o.filter(function(ut){return ut%1==0}):.1>=B&&(o=[1/B]))),V=0;V<o.length&&(nt=o[V],!(q&&nt*B>=f||!q&&yt<=(o[V]+(o[V+1]||o[V]))/2));V++);return b(nt*B,-Math.round(Math.log(.001)/Math.LN10))},objectEach:u,offset:function(f){var o=O.documentElement;return{top:(f=f.parentElement||f.parentNode?f.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(m.pageYOffset||o.scrollTop)-(o.clientTop||0),left:f.left+(m.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:f.width,height:f.height}},pad:function(f,o,B){return Array((o||2)+1-String(f).replace("-","").length).join(B||"0")+f},pick:p,pInt:M,relativeLength:function(f,o,B){return/%$/.test(f)?o*parseFloat(f)/100+(B||0):parseFloat(f)},removeEvent:n,splat:function(f){return G(f)?f:[f]},stableSort:function(f,o){var V,q,B=f.length;for(q=0;q<B;q++)f[q].safeI=q;for(f.sort(function(nt,yt){return 0===(V=o(nt,yt))?nt.safeI-yt.safeI:V}),q=0;q<B;q++)delete f[q].safeI},syncTimeout:function(f,o,B){return 0<o?setTimeout(f,o,B):(f.call(0,B),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:D,useSerialIds:function(f){return P=p(f,P)},wrap:function(f,o,B){var V=f[o];f[o]=function(){var q=arguments,nt=this;return B.apply(this,[function(){return V.apply(nt,arguments.length?arguments:q)}].concat([].slice.call(arguments)))}}},A}),e(i,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),e(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c){var S=c.isNumber,M=c.merge,U=c.pInt;return function(){function G(X){this.rgba=[NaN,NaN,NaN,NaN],this.input=X;var F=s.Color;return F&&F!==G?new F(X):this instanceof G?void this.init(X):new G(X)}return G.parse=function(X){return X?new G(X):G.None},G.prototype.init=function(X){var F;if("object"==typeof X&&typeof X.stops<"u")this.stops=X.stops.map(function(h){return new G(h[1])});else if("string"==typeof X){if(this.input=X=G.names[X.toLowerCase()]||X,"#"===X.charAt(0)){var R=X.length,E=parseInt(X.substr(1),16);7===R?F=[(16711680&E)>>16,(65280&E)>>8,255&E,1]:4===R&&(F=[(3840&E)>>4|(3840&E)>>8,(240&E)>>4|240&E,(15&E)<<4|15&E,1])}if(!F)for(E=G.parsers.length;E--&&!F;){var a=G.parsers[E];(R=a.regex.exec(X))&&(F=a.parse(R))}}F&&(this.rgba=F)},G.prototype.get=function(X){var F=this.input,R=this.rgba;if("object"==typeof F&&typeof this.stops<"u"){var E=M(F);return E.stops=[].slice.call(E.stops),this.stops.forEach(function(a,h){E.stops[h]=[E.stops[h][0],a.get(X)]}),E}return R&&S(R[0])?"rgb"===X||!X&&1===R[3]?"rgb("+R[0]+","+R[1]+","+R[2]+")":"a"===X?"".concat(R[3]):"rgba("+R.join(",")+")":F},G.prototype.brighten=function(X){var F=this.rgba;if(this.stops)this.stops.forEach(function(E){E.brighten(X)});else if(S(X)&&0!==X)for(var R=0;3>R;R++)F[R]+=U(255*X),0>F[R]&&(F[R]=0),255<F[R]&&(F[R]=255);return this},G.prototype.setOpacity=function(X){return this.rgba[3]=X,this},G.prototype.tweenTo=function(X,F){var R=this.rgba,E=X.rgba;return S(R[0])&&S(E[0])?((X=1!==E[3]||1!==R[3])?"rgba(":"rgb(")+Math.round(E[0]+(R[0]-E[0])*(1-F))+","+Math.round(E[1]+(R[1]-E[1])*(1-F))+","+Math.round(E[2]+(R[2]-E[2])*(1-F))+(X?","+(E[3]+(R[3]-E[3])*(1-F)):"")+")":X.input||"none"},G.names={white:"#ffffff",black:"#000000"},G.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(X){return[U(X[1]),U(X[2]),U(X[3]),parseFloat(X[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(X){return[U(X[1]),U(X[2]),U(X[3]),1]}}],G.None=new G(""),G}()}),e(i,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),e(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c){var S=s.win,M=c.defined,U=c.error,G=c.extend,X=c.isObject,F=c.merge,R=c.objectEach,E=c.pad,a=c.pick,h=c.splat,l=c.timeUnits,p=s.isSafari&&S.Intl&&S.Intl.DateTimeFormat.prototype.formatRange,x=s.isSafari&&S.Intl&&!S.Intl.DateTimeFormat.prototype.formatRange;return c=function(){function T(b){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=S.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(b)}return T.prototype.get=function(b,I){if(this.variableTimezone||this.timezoneOffset){var u=I.getTime(),n=u-this.getTimezoneOffset(I);return I.setTime(n),b=I["getUTC"+b](),I.setTime(u),b}return this.useUTC?I["getUTC"+b]():I["get"+b]()},T.prototype.set=function(b,I,u){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===b||"Seconds"===b||"Minutes"===b&&this.getTimezoneOffset(I)%36e5==0)return I["setUTC"+b](u);var n=this.getTimezoneOffset(I);return n=I.getTime()-n,I.setTime(n),I["setUTC"+b](u),b=this.getTimezoneOffset(I),n=I.getTime()+b,I.setTime(n)}return this.useUTC||p&&"FullYear"===b?I["setUTC"+b](u):I["set"+b](u)},T.prototype.update=function(b){void 0===b&&(b={});var I=a(b.useUTC,!0);this.options=b=F(!0,this.options,b),this.Date=b.Date||S.Date||Date,this.timezoneOffset=(this.useUTC=I)&&b.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=I&&!(!b.getTimezoneOffset&&!b.timezone)},T.prototype.makeTime=function(b,I,u,n,k,C){if(this.useUTC){var O=this.Date.UTC.apply(0,arguments),m=this.getTimezoneOffset(O),A=this.getTimezoneOffset(O+=m);m!==A?O+=A-m:m-36e5!==this.getTimezoneOffset(O-36e5)||x||(O-=36e5)}else O=new this.Date(b,I,a(u,1),a(n,0),a(k,0),a(C,0)).getTime();return O},T.prototype.timezoneOffsetFunction=function(){var b=this,I=this.options,u=I.getTimezoneOffset,n=I.moment||S.moment;if(!this.useUTC)return function(k){return 6e4*new Date(k.toString()).getTimezoneOffset()};if(I.timezone){if(n)return function(k){return 6e4*-n.tz(k,I.timezone).utcOffset()};U(25)}return this.useUTC&&u?function(k){return 6e4*u(k.valueOf())}:function(){return 6e4*(b.timezoneOffset||0)}},T.prototype.dateFormat=function(b,I,u){if(!M(I)||isNaN(I))return s.defaultOptions.lang&&s.defaultOptions.lang.invalidDate||"";b=a(b,"%Y-%m-%d %H:%M:%S");var n=this,k=new this.Date(I),C=this.get("Hours",k),O=this.get("Day",k),m=this.get("Date",k),A=this.get("Month",k),P=this.get("FullYear",k),D=s.defaultOptions.lang,f=D&&D.weekdays,o=D&&D.shortWeekdays;return k=G({a:o?o[O]:f[O].substr(0,3),A:f[O],d:E(m),e:E(m,2," "),w:O,b:D.shortMonths[A],B:D.months[A],m:E(A+1),o:A+1,y:P.toString().substr(2,2),Y:P,H:E(C),k:C,I:E(C%12||12),l:C%12||12,M:E(this.get("Minutes",k)),p:12>C?"AM":"PM",P:12>C?"am":"pm",S:E(k.getSeconds()),L:E(Math.floor(I%1e3),3)},s.dateFormats),R(k,function(B,V){for(;-1!==b.indexOf("%"+V);)b=b.replace("%"+V,"function"==typeof B?B.call(n,I):B)}),u?b.substr(0,1).toUpperCase()+b.substr(1):b},T.prototype.resolveDTLFormat=function(b){return X(b,!0)?b:{main:(b=h(b))[0],from:b[1],to:b[2]}},T.prototype.getTimeTicks=function(b,I,u,n){var D,k=this,C=[],O={},m=new k.Date(I),A=b.unitRange,P=b.count||1;if(n=a(n,1),M(I)){if(k.set("Milliseconds",m,A>=l.second?0:P*Math.floor(k.get("Milliseconds",m)/P)),A>=l.second&&k.set("Seconds",m,A>=l.minute?0:P*Math.floor(k.get("Seconds",m)/P)),A>=l.minute&&k.set("Minutes",m,A>=l.hour?0:P*Math.floor(k.get("Minutes",m)/P)),A>=l.hour&&k.set("Hours",m,A>=l.day?0:P*Math.floor(k.get("Hours",m)/P)),A>=l.day&&k.set("Date",m,A>=l.month?1:Math.max(1,P*Math.floor(k.get("Date",m)/P))),A>=l.month){k.set("Month",m,A>=l.year?0:P*Math.floor(k.get("Month",m)/P));var f=k.get("FullYear",m)}A>=l.year&&k.set("FullYear",m,f-f%P),A===l.week&&(f=k.get("Day",m),k.set("Date",m,k.get("Date",m)-f+n+(f<n?-7:0))),f=k.get("FullYear",m),n=k.get("Month",m);var o=k.get("Date",m),B=k.get("Hours",m);for(I=m.getTime(),!k.variableTimezone&&k.useUTC||!M(u)||(D=u-I>4*l.month||k.getTimezoneOffset(I)!==k.getTimezoneOffset(u)),I=m.getTime(),m=1;I<u;)C.push(I),I=A===l.year?k.makeTime(f+m*P,0):A===l.month?k.makeTime(f,n+m*P):!D||A!==l.day&&A!==l.week?D&&A===l.hour&&1<P?k.makeTime(f,n,o,B+m*P):I+A*P:k.makeTime(f,n,o+m*P*(A===l.day?1:7)),m++;C.push(I),A<=l.hour&&1e4>C.length&&C.forEach(function(V){V%18e5==0&&"000000000"===k.dateFormat("%H%M%S%L",V)&&(O[V]="day")})}return C.info=G(b,{higherRanks:O,totalRange:A*P}),C},T.prototype.getDateFormat=function(b,I,u,n){var k=this.dateFormat("%m-%d %H:%M:%S.%L",I),C={millisecond:15,second:12,minute:9,hour:6,day:3},O="millisecond";for(m in l){if(b===l.week&&+this.dateFormat("%w",I)===u&&"00:00:00.000"===k.substr(6)){var m="week";break}if(l[m]>b){m=O;break}if(C[m]&&k.substr(C[m])!=="01-01 00:00:00.000".substr(C[m]))break;"week"!==m&&(O=m)}return this.resolveDTLFormat(n[m]).main},T}(),c}),e(i,"Core/Defaults.js",[i["Core/Chart/ChartDefaults.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palettes.js"],i["Core/Time.js"],i["Core/Utilities.js"]],function(s,c,S,M,U,G){c=c.parse;var X=G.merge,F={colors:M.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:s,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:S.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:S.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:c("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};F.chart.styledMode=!1;var R=new U(X(F.global,F.time));return{defaultOptions:F,defaultTime:R,getOptions:function(){return F},setOptions:function(E){return X(!0,F,E),(E.time||E.global)&&(S.time?S.time.update(X(F.global,F.time,E.global,E.time)):S.time=R),F}}}),e(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c,S){var M=s.parse,U=c.win,G=S.isNumber,X=S.objectEach;return function(){function F(R,E,a){this.pos=NaN,this.options=E,this.elem=R,this.prop=a}return F.prototype.dSetter=function(){var R=this.paths,E=R&&R[0];R=R&&R[1];var a=this.now||0,h=[];if(1!==a&&E&&R)if(E.length===R.length&&1>a)for(var l=0;l<R.length;l++){for(var p=E[l],x=R[l],T=[],b=0;b<x.length;b++){var I=p[b],u=x[b];T[b]=G(I)&&G(u)&&("A"!==x[0]||4!==b&&5!==b)?I+a*(u-I):u}h.push(T)}else h=R;else h=this.toD||[];this.elem.attr("d",h,void 0,!0)},F.prototype.update=function(){var R=this.elem,E=this.prop,a=this.now,h=this.options.step;this[E+"Setter"]?this[E+"Setter"]():R.attr?R.element&&R.attr(E,a,null,!0):R.style[E]=a+this.unit,h&&h.call(R,a,this)},F.prototype.run=function(R,E,a){var h=this,l=h.options,p=function(b){return!p.stopped&&h.step(b)},x=U.requestAnimationFrame||function(b){setTimeout(b,13)},T=function(){for(var b=0;b<F.timers.length;b++)F.timers[b]()||F.timers.splice(b--,1);F.timers.length&&x(T)};R!==E||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=R,this.end=E,this.unit=a,this.now=this.start,this.pos=0,p.elem=this.elem,p.prop=this.prop,p()&&1===F.timers.push(p)&&x(T)):(delete l.curAnim[this.prop],l.complete&&0===Object.keys(l.curAnim).length&&l.complete.call(this.elem))},F.prototype.step=function(R){var E=+new Date,a=this.options,h=this.elem,l=a.complete,p=a.duration,x=a.curAnim;if(h.attr&&!h.element)R=!1;else if(R||E>=p+this.startTime){this.now=this.end,this.pos=1,this.update();var T=x[this.prop]=!0;X(x,function(b){!0!==b&&(T=!1)}),T&&l&&l.call(h),R=!1}else this.pos=a.easing((E-this.startTime)/p),this.now=this.start+(this.end-this.start)*this.pos,this.update(),R=!0;return R},F.prototype.initPath=function(R,E,a){function h(k,C){for(;k.length<n;){var O=k[0],m=C[n-k.length];m&&"M"===O[0]&&(k[0]="C"===m[0]?["C",O[1],O[2],O[1],O[2],O[1],O[2]]:["L",O[1],O[2]]),k.unshift(O),T&&(O=k.pop(),k.push(k[k.length-1],O))}}function l(k,C){for(;k.length<n;)if("C"===(C=k[Math.floor(k.length/b)-1].slice())[0]&&(C[1]=C[5],C[2]=C[6]),T){var O=k[Math.floor(k.length/b)].slice();k.splice(k.length/2,0,C,O)}else k.push(C)}var p=R.startX,x=R.endX;a=a.slice();var T=R.isArea,b=T?2:1;if(!(E=E&&E.slice()))return[a,a];if(p&&x&&x.length){for(R=0;R<p.length;R++){if(p[R]===x[0]){var I=R;break}if(p[0]===x[x.length-p.length+R]){I=R;var u=!0;break}if(p[p.length-1]===x[x.length-p.length+R]){I=p.length-R;break}}typeof I>"u"&&(E=[])}if(E.length&&G(I)){var n=a.length+I*b;u?(h(E,a),l(a,E)):(h(a,E),l(E,a))}return[E,a]},F.prototype.fillSetter=function(){F.prototype.strokeSetter.apply(this,arguments)},F.prototype.strokeSetter=function(){this.elem.attr(this.prop,M(this.start).tweenTo(M(this.end),this.pos),void 0,!0)},F.timers=[],F}()}),e(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],function(s,c){function S(l){return R(l)?E({duration:500,defer:0},l):{duration:l?500:0,defer:0}}function M(l,p){for(var x=s.timers.length;x--;)s.timers[x].elem!==l||p&&p!==s.timers[x].prop||(s.timers[x].stopped=!0)}var U=c.defined,G=c.getStyle,X=c.isArray,F=c.isNumber,R=c.isObject,E=c.merge,a=c.objectEach,h=c.pick;return{animate:function(l,p,x){var T,I,u,b="";if(!R(x)){var n=arguments;x={duration:n[2],easing:n[3],complete:n[4]}}F(x.duration)||(x.duration=400),x.easing="function"==typeof x.easing?x.easing:Math[x.easing]||Math.easeInOutSine,x.curAnim=E(p),a(p,function(k,C){M(l,C),u=new s(l,x,C),I=void 0,"d"===C&&X(p.d)?(u.paths=u.initPath(l,l.pathArray,p.d),u.toD=p.d,T=0,I=1):l.attr?T=l.attr(C):(T=parseFloat(G(l,C))||0,"opacity"!==C&&(b="px")),I||(I=k),"string"==typeof I&&I.match("px")&&(I=I.replace(/px/g,"")),u.run(T,I,b)})},animObject:S,getDeferredAnimation:function(l,p,x){var T=S(p),b=0,I=0;return(x?[x]:l.series).forEach(function(u){u=S(u.options.animation),b=p&&U(p.defer)?T.defer:Math.max(b,u.duration+u.defer),I=Math.min(T.duration,u.duration)}),l.renderer.forExport&&(b=0),{defer:Math.max(0,b-I),duration:Math.min(b,I)}},setAnimation:function(l,p){p.renderer.globalAnimation=h(l,p.options.chart.animation,!0)},stop:M}}),e(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c){var S=s.SVG_NS,M=c.attr,U=c.createElement,G=c.css,X=c.error,F=c.isFunction,R=c.isString,E=c.objectEach,a=c.splat,h=(c=s.win.trustedTypes)&&F(c.createPolicy)&&c.createPolicy("highcharts",{createHTML:function(x){return x}}),l=h?h.createHTML(""):"";try{var p=!!(new DOMParser).parseFromString(l,"text/html")}catch{p=!1}return function(){function x(T){this.nodes="string"==typeof T?this.parseMarkup(T):T}return x.filterUserAttributes=function(T){return E(T,function(b,I){var u=!0;-1===x.allowedAttributes.indexOf(I)&&(u=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(I)&&(u=R(b)&&x.allowedReferences.some(function(n){return 0===b.indexOf(n)})),u||(X(33,!1,void 0,{"Invalid attribute in config":"".concat(I)}),delete T[I]),R(b)&&T[I]&&(T[I]=b.replace(/</g,"&lt;"))}),T},x.parseStyle=function(T){return T.split(";").reduce(function(b,I){var u=(I=I.split(":").map(function(n){return n.trim()})).shift();return u&&I.length&&(b[u.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})]=I.join(":")),b},{})},x.setElementHTML=function(T,b){T.innerHTML=x.emptyHTML,b&&new x(b).addToDOM(T)},x.prototype.addToDOM=function(T){return function b(I,u){var n;return a(I).forEach(function(k){var C=k.tagName,O=k.textContent?s.doc.createTextNode(k.textContent):void 0,m=x.bypassHTMLFiltering;if(C)if("#text"===C)var A=O;else if(-1!==x.allowedTags.indexOf(C)||m){C=s.doc.createElementNS("svg"===C?S:u.namespaceURI||S,C);var P=k.attributes||{};E(k,function(D,f){"tagName"!==f&&"attributes"!==f&&"children"!==f&&"style"!==f&&"textContent"!==f&&(P[f]=D)}),M(C,m?P:x.filterUserAttributes(P)),k.style&&G(C,k.style),O&&C.appendChild(O),b(k.children||[],C),A=C}else X(33,!1,void 0,{"Invalid tagName in config":C});A&&u.appendChild(A),n=A}),n}(this.nodes,T)},x.prototype.parseMarkup=function(T){var b=[];if(T=T.trim().replace(/ style=(["'])/g," data-style=$1"),p)T=(new DOMParser).parseFromString(h?h.createHTML(T):T,"text/html");else{var I=U("div");I.innerHTML=T,T={body:I}}var u=function(n,k){var C=n.nodeName.toLowerCase(),O={tagName:C};if("#text"===C&&(O.textContent=n.textContent||""),C=n.attributes){var m={};[].forEach.call(C,function(P){"data-style"===P.name?O.style=x.parseStyle(P.value):m[P.name]=P.value}),O.attributes=m}if(n.childNodes.length){var A=[];[].forEach.call(n.childNodes,function(P){u(P,A)}),A.length&&(O.children=A)}k.push(O)};return[].forEach.call(T.body.childNodes,function(n){return u(n,b)}),b},x.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),x.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),x.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),x.emptyHTML=l,x.bypassHTMLFiltering=!1,x}()}),e(i,"Core/FormatUtilities.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],function(s,c){function S(E,a,h,l){a=+a;var p=M.lang,x=((E=+E||0).toString().split(".")[1]||"").split("e")[0].length,T=E.toString().split("e"),b=a;if(-1===a)a=Math.min(x,20);else if(X(a)){if(a&&T[1]&&0>T[1]){var I=a+ +T[1];0<=I?(T[0]=(+T[0]).toExponential(I).split("e")[0],a=I):(T[0]=T[0].split(".")[0]||0,E=20>a?(T[0]*Math.pow(10,T[1])).toFixed(a):0,T[1]=0)}}else a=2;I=(Math.abs(T[1]?T[0]:E)+Math.pow(10,-Math.max(a,x)-1)).toFixed(a);var u=3<(x=String(R(I))).length?x.length%3:0;return h=F(h,p.decimalPoint),l=F(l,p.thousandsSep),E=(0>E?"-":"")+(u?x.substr(0,u)+l:""),E=0>+T[1]&&!b?"0":E+x.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+l),a&&(E+=h+I.slice(-a)),T[1]&&0!=+E&&(E+="e"+T[1]),E}var M=s.defaultOptions,U=s.defaultTime,G=c.getNestedProperty,X=c.isNumber,F=c.pick,R=c.pInt;return{dateFormat:function(E,a,h){return U.dateFormat(E,a,h)},format:function(E,a,h){var l="{",p=!1,x=/f$/,T=/\.([0-9])/,b=M.lang,I=h&&h.time||U;h=h&&h.numberFormatter||S;for(var u=[];E;){var n=E.indexOf(l);if(-1===n)break;var k=E.slice(0,n);if(p){if(k=k.split(":"),l=G(k.shift()||"",a),k.length&&"number"==typeof l)if(k=k.join(":"),x.test(k)){var C=parseInt((k.match(T)||["","-1"])[1],10);null!==l&&(l=h(l,C,b.decimalPoint,-1<k.indexOf(",")?b.thousandsSep:""))}else l=I.dateFormat(k,l);u.push(l)}else u.push(k);E=E.slice(n+1),l=(p=!p)?"}":"{"}return u.push(E),u.join("")},numberFormat:S}}),e(i,"Core/Renderer/RendererUtilities.js",[i["Core/Utilities.js"]],function(s){var U,c=s.clamp,S=s.pick,M=s.stableSort;return(U||(U={})).distribute=function X(F,R,E){var x,a=F,h=a.reducedLen||R,l=function(u,n){return(n.rank||0)-(u.rank||0)},p=function(u,n){return u.target-n.target},T=!0,b=[],I=0;for(x=F.length;x--;)I+=F[x].size;if(I>h){for(M(F,l),I=x=0;I<=h;)I+=F[x].size,x++;b=F.splice(x-1,F.length)}for(M(F,p),F=F.map(function(u){return{size:u.size,targets:[u.target],align:S(u.align,.5)}});T;){for(x=F.length;x--;)h=F[x],l=(Math.min.apply(0,h.targets)+Math.max.apply(0,h.targets))/2,h.pos=c(l-h.size*h.align,0,R-h.size);for(x=F.length,T=!1;x--;)0<x&&F[x-1].pos+F[x-1].size>F[x].pos&&(F[x-1].size+=F[x].size,F[x-1].targets=F[x-1].targets.concat(F[x].targets),F[x-1].align=.5,F[x-1].pos+F[x-1].size>R&&(F[x-1].pos=R-F[x-1].size),F.splice(x,1),T=!0)}return a.push.apply(a,b),x=0,F.some(function(u){var n=0;return(u.targets||[]).some(function(){return a[x].pos=u.pos+n,typeof E<"u"&&Math.abs(a[x].pos-a[x].target)>E?(a.slice(0,x+1).forEach(function(k){return delete k.pos}),a.reducedLen=(a.reducedLen||R)-.1*R,a.reducedLen>.1*R&&X(a,R,E),!0):(n+=a[x].size,x++,!1)})}),M(a,p),a},U}),e(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c,S,M){var U=s.animate,G=s.animObject,X=s.stop,F=S.deg2rad,R=S.doc,E=S.svg,a=S.SVG_NS,h=S.win,l=M.addEvent,p=M.attr,x=M.createElement,T=M.css,b=M.defined,I=M.erase,u=M.extend,n=M.fireEvent,k=M.isArray,C=M.isFunction,O=M.isString,m=M.merge,A=M.objectEach,P=M.pick,D=M.pInt,f=M.syncTimeout,o=M.uniqueKey;return s=function(){function B(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=a,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return B.prototype._defaultGetter=function(V){return V=P(this[V+"Value"],this[V],this.element?this.element.getAttribute(V):null,0),/^[\-0-9\.]+$/.test(V)&&(V=parseFloat(V)),V},B.prototype._defaultSetter=function(V,q,nt){nt.setAttribute(q,V)},B.prototype.add=function(V){var q=this.renderer,nt=this.element;if(V&&(this.parentGroup=V),typeof this.textStr<"u"&&"text"===this.element.nodeName&&q.buildText(this),this.added=!0,!V||V.handleZ||this.zIndex)var yt=this.zIndexSetter();return yt||(V?V.element:q.box).appendChild(nt),this.onAdd&&this.onAdd(),this},B.prototype.addClass=function(V,q){var nt=q?"":this.attr("class")||"";return(V=(V||"").split(/ /g).reduce(function(yt,ut){return-1===nt.indexOf(ut)&&yt.push(ut),yt},nt?[nt]:[]).join(" "))!==nt&&this.attr("class",V),this},B.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},B.prototype.align=function(V,q,nt){var tt,wt,St,yt={},ut=this.renderer,Y=ut.alignedObjects;V?(this.alignOptions=V,this.alignByTranslate=q,(!nt||O(nt))&&(this.alignTo=tt=nt||"renderer",I(Y,this),Y.push(this),nt=void 0)):(V=this.alignOptions,q=this.alignByTranslate,tt=this.alignTo),nt=P(nt,ut[tt],"scrollablePlotBox"===tt?ut.plotBox:void 0,ut);var At=V.verticalAlign;return ut=(nt.x||0)+(V.x||0),Y=(nt.y||0)+(V.y||0),"right"===(tt=V.align)?wt=1:"center"===tt&&(wt=2),wt&&(ut+=(nt.width-(V.width||0))/wt),yt[q?"translateX":"x"]=Math.round(ut),"bottom"===At?St=1:"middle"===At&&(St=2),St&&(Y+=(nt.height-(V.height||0))/St),yt[q?"translateY":"y"]=Math.round(Y),this[this.placed?"animate":"attr"](yt),this.placed=!0,this.alignAttr=yt,this},B.prototype.alignSetter=function(V){var q={left:"start",center:"middle",right:"end"};q[V]&&(this.alignValue=V,this.element.setAttribute("text-anchor",q[V]))},B.prototype.animate=function(V,q,nt){var yt=this,ut=G(P(q,this.renderer.globalAnimation,!0));return q=ut.defer,P(R.hidden,R.msHidden,R.webkitHidden,!1)&&(ut.duration=0),0!==ut.duration?(nt&&(ut.complete=nt),f(function(){yt.element&&U(yt,V,ut)},q)):(this.attr(V,void 0,nt||ut.complete),A(V,function(Y,tt){ut.step&&ut.step.call(this,Y,{prop:tt,pos:1,elem:this})},this)),this},B.prototype.applyTextOutline=function(V){var q=this.element;-1!==V.indexOf("contrast")&&(V=V.replace(/contrast/g,this.renderer.getContrast(q.style.fill)));var nt=V.split(" ");if(V=nt[nt.length-1],(nt=nt[0])&&"none"!==nt&&S.svg){this.fakeTS=!0,nt=nt.replace(/(^[\d\.]+)(.*?)$/g,function(Y,tt,wt){return 2*Number(tt)+wt}),this.removeTextOutline();var yt=R.createElementNS(a,"tspan");p(yt,{class:"highcharts-text-outline",fill:V,stroke:V,"stroke-width":nt,"stroke-linejoin":"round"}),V=q.querySelector("textPath")||q,[].forEach.call(V.childNodes,function(Y){var tt=Y.cloneNode(!0);tt.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(wt){return tt.removeAttribute(wt)}),yt.appendChild(tt)});var ut=0;[].forEach.call(V.querySelectorAll("text tspan"),function(Y){ut+=Number(Y.getAttribute("dy"))}),(nt=R.createElementNS(a,"tspan")).textContent="\u200b",p(nt,{x:Number(q.getAttribute("x")),dy:-ut}),yt.appendChild(nt),V.insertBefore(yt,V.firstChild)}},B.prototype.attr=function(V,q,nt,yt){var tt,St,At,ut=this.element,Y=this.symbolCustomAttribs,wt=this;if("string"==typeof V&&typeof q<"u"){var ht=V;(V={})[ht]=q}return"string"==typeof V?wt=(this[V+"Getter"]||this._defaultGetter).call(this,V,ut):(A(V,function(mt,dt){St=!1,yt||X(this,dt),this.symbolName&&-1!==Y.indexOf(dt)&&(tt||(this.symbolAttr(V),tt=!0),St=!0),!this.rotation||"x"!==dt&&"y"!==dt||(this.doTransform=!0),St||((At=this[dt+"Setter"]||this._defaultSetter).call(this,mt,dt,ut),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(dt)&&this.updateShadows(dt,mt,At))},this),this.afterSetters()),nt&&nt.call(this),wt},B.prototype.clip=function(V){return this.attr("clip-path",V?"url("+this.renderer.url+"#"+V.id+")":"none")},B.prototype.crisp=function(V,q){q=q||V.strokeWidth||0;var nt=Math.round(q)%2/2;return V.x=Math.floor(V.x||this.x||0)+nt,V.y=Math.floor(V.y||this.y||0)+nt,V.width=Math.floor((V.width||this.width||0)-2*nt),V.height=Math.floor((V.height||this.height||0)-2*nt),b(V.strokeWidth)&&(V.strokeWidth=q),V},B.prototype.complexColor=function(V,q,nt){var ut,Y,tt,wt,St,At,ht,mt,dt,Lt,vt,yt=this.renderer,Ct=[];n(this.renderer,"complexColor",{args:arguments},function(){if(V.radialGradient?Y="radialGradient":V.linearGradient&&(Y="linearGradient"),Y){if(St=yt.gradients,At=V.stops,dt=nt.radialReference,k(tt=V[Y])&&(V[Y]=tt={x1:tt[0],y1:tt[1],x2:tt[2],y2:tt[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===Y&&dt&&!b(tt.gradientUnits)&&(tt=m(tt,yt.getRadialAttr(dt,wt=tt),{gradientUnits:"userSpaceOnUse"})),A(tt,function(Rt,Xt){"id"!==Xt&&Ct.push(Xt,Rt)}),A(At,function(Rt){Ct.push(Rt)}),Ct=Ct.join(","),St[Ct])Lt=St[Ct].attr("id");else{tt.id=Lt=o();var kt=St[Ct]=yt.createElement(Y).attr(tt).add(yt.defs);kt.radAttr=wt,kt.stops=[],At.forEach(function(Rt){0===Rt[1].indexOf("rgba")?(ut=c.parse(Rt[1]),ht=ut.get("rgb"),mt=ut.get("a")):(ht=Rt[1],mt=1),Rt=yt.createElement("stop").attr({offset:Rt[0],"stop-color":ht,"stop-opacity":mt}).add(kt),kt.stops.push(Rt)})}nt.setAttribute(q,vt="url("+yt.url+"#"+Lt+")"),nt.gradient=Ct,V.toString=function(){return vt}}})},B.prototype.css=function(V){var q=this.styles,nt={},yt=this.element,ut=!q;if(V.color&&(V.fill=V.color),q&&A(V,function(wt,St){q&&q[St]!==wt&&(nt[St]=wt,ut=!0)}),ut){if(q&&(V=u(q,nt)),null===V.width||"auto"===V.width)delete this.textWidth;else if("text"===yt.nodeName.toLowerCase()&&V.width)var Y=this.textWidth=D(V.width);this.styles=V,Y&&!E&&this.renderer.forExport&&delete V.width;var tt=m(V);yt.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(wt){return tt&&delete tt[wt]}),T(yt,tt),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),V.textOutline&&this.applyTextOutline(V.textOutline))}return this},B.prototype.dashstyleSetter=function(V){var q=this["stroke-width"];if("inherit"===q&&(q=1),V=V&&V.toLowerCase()){var nt=V.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(V=nt.length;V--;)nt[V]=""+D(nt[V])*P(q,NaN);V=nt.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",V)}},B.prototype.destroy=function(){var V=this,q=V.element||{},nt=V.renderer,yt=q.ownerSVGElement,ut=nt.isSVG&&"SPAN"===q.nodeName&&V.parentGroup||void 0;if(q.onclick=q.onmouseout=q.onmouseover=q.onmousemove=q.point=null,X(V),V.clipPath&&yt){var Y=V.clipPath;[].forEach.call(yt.querySelectorAll("[clip-path],[CLIP-PATH]"),function(tt){-1<tt.getAttribute("clip-path").indexOf(Y.element.id)&&tt.removeAttribute("clip-path")}),V.clipPath=Y.destroy()}if(V.stops){for(yt=0;yt<V.stops.length;yt++)V.stops[yt].destroy();V.stops.length=0,V.stops=void 0}for(V.safeRemoveChild(q),nt.styledMode||V.destroyShadows();ut&&ut.div&&0===ut.div.childNodes.length;)q=ut.parentGroup,V.safeRemoveChild(ut.div),delete ut.div,ut=q;V.alignTo&&I(nt.alignedObjects,V),A(V,function(tt,wt){V[wt]&&V[wt].parentGroup===V&&V[wt].destroy&&V[wt].destroy(),delete V[wt]})},B.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(V){this.safeRemoveChild(V)},this),this.shadows=void 0},B.prototype.dSetter=function(V,q,nt){k(V)&&("string"==typeof V[0]&&(V=this.renderer.pathToSegments(V)),this.pathArray=V,V=V.reduce(function(yt,ut,Y){return ut&&ut.join?(Y?yt+" ":"")+ut.join(" "):(ut||"").toString()},"")),/(NaN| {2}|^$)/.test(V)&&(V="M 0 0"),this[q]!==V&&(nt.setAttribute(q,V),this[q]=V)},B.prototype.fadeOut=function(V){var q=this;q.animate({opacity:0},{duration:P(V,150),complete:function(){q.hide()}})},B.prototype.fillSetter=function(V,q,nt){"string"==typeof V?nt.setAttribute(q,V):V&&this.complexColor(V,q,nt)},B.prototype.getBBox=function(V,q){var nt=this.alignValue,yt=this.element,ut=this.renderer,Y=this.styles,tt=this.textStr,wt=ut.cache,St=ut.cacheKeys,At=yt.namespaceURI===this.SVG_NS;q=P(q,this.rotation,0);var mt,ht=ut.styledMode?yt&&B.prototype.getStyle.call(yt,"font-size"):Y&&Y.fontSize;if(b(tt)){var dt=tt.toString();-1===dt.indexOf("<")&&(dt=dt.replace(/[0-9]/g,"0")),dt+=["",q,ht,this.textWidth,nt,Y&&Y.textOverflow,Y&&Y.fontWeight].join()}if(dt&&!V&&(mt=wt[dt]),!mt){if(At||ut.forExport){try{var Lt=this.fakeTS&&function(vt){var kt=yt.querySelector(".highcharts-text-outline");kt&&T(kt,{display:vt})};C(Lt)&&Lt("none"),mt=yt.getBBox?u({},yt.getBBox()):{width:yt.offsetWidth,height:yt.offsetHeight,x:0,y:0},C(Lt)&&Lt("")}catch{}(!mt||0>mt.width)&&(mt={x:0,y:0,width:0,height:0})}else mt=this.htmlGetBBox();if(ut.isSVG&&(ut=mt.width,V=mt.height,At&&(mt.height=V={"11px,17":14,"13px,20":16}[""+(ht||"")+",".concat(Math.round(V))]||V),q)){At=Number(yt.getAttribute("y")||0)-mt.y,nt={right:1,center:.5}[nt||0]||0,Y=q*F,ht=(q-90)*F;var Ct=ut*Math.cos(Y);q=ut*Math.sin(Y),Lt=Math.cos(ht),Y=Math.sin(ht),Ct=(Lt=(ht=(ut=mt.x+nt*(ut-Ct)+At*Lt)+Ct)-V*Lt)-Ct,q=(V=(nt=(At=mt.y+At-nt*q+At*Y)+q)-V*Y)-q,mt.x=Math.min(ut,ht,Lt,Ct),mt.y=Math.min(At,nt,V,q),mt.width=Math.max(ut,ht,Lt,Ct)-mt.x,mt.height=Math.max(At,nt,V,q)-mt.y}if(dt&&(""===tt||0<mt.height)){for(;250<St.length;)delete wt[St.shift()];wt[dt]||St.push(dt),wt[dt]=mt}}return mt},B.prototype.getStyle=function(V){return h.getComputedStyle(this.element||this,"").getPropertyValue(V)},B.prototype.hasClass=function(V){return-1!==(""+this.attr("class")).split(" ").indexOf(V)},B.prototype.hide=function(){return this.attr({visibility:"hidden"})},B.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},B.prototype.init=function(V,q){this.element="span"===q?x(q):R.createElementNS(this.SVG_NS,q),this.renderer=V,n(this,"afterInit")},B.prototype.on=function(V,q){var nt=this.onEvents;return nt[V]&&nt[V](),nt[V]=l(this.element,V,q),this},B.prototype.opacitySetter=function(V,q,nt){this.opacity=V=Number(Number(V).toFixed(3)),nt.setAttribute(q,V)},B.prototype.removeClass=function(V){return this.attr("class",(""+this.attr("class")).replace(O(V)?new RegExp("(^| )".concat(V,"( |$)")):V," ").replace(/ +/g," ").trim())},B.prototype.removeTextOutline=function(){var V=this.element.querySelector("tspan.highcharts-text-outline");V&&this.safeRemoveChild(V)},B.prototype.safeRemoveChild=function(V){var q=V.parentNode;q&&q.removeChild(V)},B.prototype.setRadialReference=function(V){var q=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=V,q&&q.radAttr&&q.animate(this.renderer.getRadialAttr(V,q.radAttr)),this},B.prototype.setTextPath=function(V,q){var nt=this;q=m(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},q);var yt=this.renderer.url,ut=this.text||this,Y=ut.textPath,tt=q.attributes,wt=q.enabled;return V=V||Y&&Y.path,Y&&Y.undo(),V&&wt?(q=l(ut,"afterModifyTree",function(St){if(V&&wt){var At=V.attr("id");At||V.attr("id",At=o());var ht={x:0,y:0};b(tt.dx)&&(ht.dx=tt.dx,delete tt.dx),b(tt.dy)&&(ht.dy=tt.dy,delete tt.dy),ut.attr(ht),nt.attr({transform:""}),nt.box&&(nt.box=nt.box.destroy()),ht=St.nodes.slice(0),St.nodes.length=0,St.nodes[0]={tagName:"textPath",attributes:u(tt,{"text-anchor":tt.textAnchor,href:""+yt+"#".concat(At)}),children:ht}}}),ut.textPath={path:V,undo:q}):(ut.attr({dx:0,dy:0}),delete ut.textPath),this.added&&(ut.textCache="",this.renderer.buildText(ut)),this},B.prototype.shadow=function(V,q,nt){var yt=[],ut=this.element,Y=this.oldShadowOptions,tt=this.parentGroup,wt=tt&&90===tt.rotation;tt={color:"#000000",offsetX:wt?-1:1,offsetY:wt?-1:1,opacity:.15,width:3};var At,St=!1;if(!0===V?At=tt:"object"==typeof V&&(At=u(tt,V)),At&&(At&&Y&&A(At,function(Lt,Ct){Lt!==Y[Ct]&&(St=!0)}),St&&this.destroyShadows(),this.oldShadowOptions=At),At){if(!this.shadows){tt=At.opacity/At.width;var ht=wt?"translate(".concat(At.offsetY,", ").concat(At.offsetX,")"):"translate(".concat(At.offsetX,", ").concat(At.offsetY,")");for(wt=1;wt<=At.width;wt++){var mt=ut.cloneNode(!1),dt=2*At.width+1-2*wt;p(mt,{stroke:V.color||"#000000","stroke-opacity":tt*wt,"stroke-width":dt,transform:ht,fill:"none"}),mt.setAttribute("class",(mt.getAttribute("class")||"")+" highcharts-shadow"),nt&&(p(mt,"height",Math.max(p(mt,"height")-dt,0)),mt.cutHeight=dt),q?q.element.appendChild(mt):ut.parentNode&&ut.parentNode.insertBefore(mt,ut),yt.push(mt)}this.shadows=yt}}else this.destroyShadows();return this},B.prototype.show=function(V){return void 0===V&&(V=!0),this.attr({visibility:V?"inherit":"visible"})},B.prototype["stroke-widthSetter"]=function(V,q,nt){this[q]=V,nt.setAttribute(q,V)},B.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var V=this.getStyle("stroke-width"),q=0;if(V.indexOf("px")===V.length-2)q=D(V);else if(""!==V){var nt=R.createElementNS(a,"rect");p(nt,{width:V,"stroke-width":0}),this.element.parentNode.appendChild(nt),q=nt.getBBox().width,nt.parentNode.removeChild(nt)}return q},B.prototype.symbolAttr=function(V){var q=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(nt){q[nt]=P(V[nt],q[nt])}),q.attr({d:q.renderer.symbols[q.symbolName](q.x,q.y,q.width,q.height,q)})},B.prototype.textSetter=function(V){V!==this.textStr&&(delete this.textPxLength,this.textStr=V,this.added&&this.renderer.buildText(this))},B.prototype.titleSetter=function(V){var q=this.element,nt=q.getElementsByTagName("title")[0]||R.createElementNS(this.SVG_NS,"title");q.insertBefore?q.insertBefore(nt,q.firstChild):q.appendChild(nt),nt.textContent=String(P(V,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},B.prototype.toFront=function(){var V=this.element;return V.parentNode.appendChild(V),this},B.prototype.translate=function(V,q){return this.attr({translateX:V,translateY:q})},B.prototype.updateShadows=function(V,q,nt){var yt=this.shadows;if(yt)for(var ut=yt.length;ut--;)nt.call(yt[ut],"height"===V?Math.max(q-(yt[ut].cutHeight||0),0):"d"===V?this.d:q,V,yt[ut])},B.prototype.updateTransform=function(){var V=this.element,q=this.matrix,nt=this.rotation;nt=void 0===nt?0:nt;var yt=this.scaleX,ut=this.scaleY,Y=this.translateX,tt=this.translateY;Y=["translate("+(void 0===Y?0:Y)+","+(void 0===tt?0:tt)+")"],b(q)&&Y.push("matrix("+q.join(",")+")"),nt&&Y.push("rotate("+nt+" "+P(this.rotationOriginX,V.getAttribute("x"),0)+" "+P(this.rotationOriginY,V.getAttribute("y")||0)+")"),(b(yt)||b(ut))&&Y.push("scale("+P(yt,1)+" "+P(ut,1)+")"),Y.length&&!(this.text||this).textPath&&V.setAttribute("transform",Y.join(" "))},B.prototype.visibilitySetter=function(V,q,nt){"inherit"===V?nt.removeAttribute(q):this[q]!==V&&nt.setAttribute(q,V),this[q]=V},B.prototype.xGetter=function(V){return"circle"===this.element.nodeName&&("x"===V?V="cx":"y"===V&&(V="cy")),this._defaultGetter(V)},B.prototype.zIndexSetter=function(V,q){var nt=this.renderer,yt=this.parentGroup,ut=(yt||nt).element||nt.box,Y=this.element;nt=ut===nt.box;var St,tt=!1,wt=this.added;if(b(V)?(Y.setAttribute("data-z-index",V),this[q]===(V=+V)&&(wt=!1)):b(this[q])&&Y.removeAttribute("data-z-index"),this[q]=V,wt){for((V=this.zIndex)&&yt&&(yt.handleZ=!0),St=(q=ut.childNodes).length-1;0<=St&&!tt;St--){wt=(yt=q[St]).getAttribute("data-z-index");var At=!b(wt);yt!==Y&&(0>V&&At&&!nt&&!St?(ut.insertBefore(Y,q[St]),tt=!0):(D(wt)<=V||At&&(!b(V)||0<=V))&&(ut.insertBefore(Y,q[St+1]||null),tt=!0))}tt||(ut.insertBefore(Y,q[nt?3:0]||null),tt=!0)}return tt},B}(),s.prototype.strokeSetter=s.prototype.fillSetter,s.prototype.yGetter=s.prototype.xGetter,s.prototype.matrixSetter=s.prototype.rotationOriginXSetter=s.prototype.rotationOriginYSetter=s.prototype.rotationSetter=s.prototype.scaleXSetter=s.prototype.scaleYSetter=s.prototype.translateXSetter=s.prototype.translateYSetter=s.prototype.verticalAlignSetter=function(B,V){this[V]=B,this.doTransform=!0},s}),e(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],function(s){var c,S,M;return(S=c||(c={})).rendererTypes={},S.getRendererType=function(U){return void 0===U&&(U=M),S.rendererTypes[U]||S.rendererTypes[M]},S.registerRendererType=function(U,G,X){S.rendererTypes[U]=G,(!M||X)&&(M=U,s.Renderer=G)},c}),e(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(s,c){var E,S=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),M=c.defined,U=c.extend,G=c.isNumber,X=c.merge,F=c.pick,R=c.removeEvent;return function(E){function a(h,l,p,x,T,b,I,u,n,k){var O,C=E.call(this)||this;return C.paddingLeftSetter=C.paddingSetter,C.paddingRightSetter=C.paddingSetter,C.init(h,"g"),C.textStr=l,C.x=p,C.y=x,C.anchorX=b,C.anchorY=I,C.baseline=n,C.className=k,C.addClass("button"===k?"highcharts-no-tooltip":"highcharts-label"),k&&C.addClass("highcharts-"+k),C.text=h.text(void 0,0,0,u).attr({zIndex:1}),"string"==typeof T&&((O=/^url\((.*?)\)$/.test(T))||C.renderer.symbols[T])&&(C.symbolKey=T),C.bBox=a.emptyBBox,C.padding=3,C.baselineOffset=0,C.needsBox=h.styledMode||O,C.deferredAttr={},C.alignFactor=0,C}return S(a,E),a.prototype.alignSetter=function(h){(h={left:0,center:.5,right:1}[h])!==this.alignFactor&&(this.alignFactor=h,this.bBox&&G(this.xSetting)&&this.attr({x:this.xSetting}))},a.prototype.anchorXSetter=function(h,l){this.anchorX=h,this.boxAttr(l,Math.round(h)-this.getCrispAdjust()-this.xSetting)},a.prototype.anchorYSetter=function(h,l){this.anchorY=h,this.boxAttr(l,h-this.ySetting)},a.prototype.boxAttr=function(h,l){this.box?this.box.attr(h,l):this.deferredAttr[h]=l},a.prototype.css=function(h){if(h){var l={};h=X(h),a.textProps.forEach(function(p){typeof h[p]<"u"&&(l[p]=h[p],delete h[p])}),this.text.css(l),"fontSize"in l||"fontWeight"in l?this.updateTextPadding():("width"in l||"textOverflow"in l)&&this.updateBoxSize()}return s.prototype.css.call(this,h)},a.prototype.destroy=function(){R(this.element,"mouseenter"),R(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),s.prototype.destroy.call(this)},a.prototype.fillSetter=function(h,l){h&&(this.needsBox=!0),this.fill=h,this.boxAttr(l,h)},a.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var h=this.padding,l=F(this.paddingLeft,h);return{width:this.width,height:this.height,x:this.bBox.x-l,y:this.bBox.y-h}},a.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},a.prototype.heightSetter=function(h){this.heightSetting=h},a.prototype.onAdd=function(){this.text.add(this),this.attr({text:F(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&M(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},a.prototype.paddingSetter=function(h,l){G(h)?h!==this[l]&&(this[l]=h,this.updateTextPadding()):this[l]=void 0},a.prototype.rSetter=function(h,l){this.boxAttr(l,h)},a.prototype.shadow=function(h){return h&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(h)),this},a.prototype.strokeSetter=function(h,l){this.stroke=h,this.boxAttr(l,h)},a.prototype["stroke-widthSetter"]=function(h,l){h&&(this.needsBox=!0),this["stroke-width"]=h,this.boxAttr(l,h)},a.prototype["text-alignSetter"]=function(h){this.textAlign=h},a.prototype.textSetter=function(h){typeof h<"u"&&this.text.attr({text:h}),this.updateTextPadding()},a.prototype.updateBoxSize=function(){var h=this.text,l=h.element.style,p={},x=this.padding,T=this.bBox=G(this.widthSetting)&&G(this.heightSetting)&&!this.textAlign||!M(h.textStr)?a.emptyBBox:h.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||T.height||0)+2*x,l=this.renderer.fontMetrics(l&&l.fontSize,h),this.baselineOffset=x+Math.min((this.text.firstLineMetrics||l).b,T.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-l.h)/2),this.needsBox&&!h.textPath&&(this.box||((h=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),h.add(this)),h=this.getCrispAdjust(),p.x=h,p.y=(this.baseline?-this.baselineOffset:0)+h,p.width=Math.round(this.width),p.height=Math.round(this.height),this.box.attr(U(p,this.deferredAttr)),this.deferredAttr={})},a.prototype.updateTextPadding=function(){var h=this.text;if(!h.textPath){this.updateBoxSize();var l=this.baseline?0:this.baselineOffset,p=F(this.paddingLeft,this.padding);M(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(p+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(p!==h.x||l!==h.y)&&(h.attr("x",p),h.hasBoxWidthChanged&&(this.bBox=h.getBBox(!0)),typeof l<"u"&&h.attr("y",l)),h.x=p,h.y=l}},a.prototype.widthSetter=function(h){this.widthSetting=G(h)?h:void 0},a.prototype.getPaddedWidth=function(){var h=this.padding,l=F(this.paddingLeft,h);return h=F(this.paddingRight,h),(this.widthSetting||this.bBox.width||0)+l+h},a.prototype.xSetter=function(h){this.x=h,this.alignFactor&&(h-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(h),this.attr("translateX",this.xSetting)},a.prototype.ySetter=function(h){this.ySetting=this.y=Math.round(h),this.attr("translateY",this.ySetting)},a.emptyBBox={width:0,height:0,x:0,y:0},a.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),a}(s)}),e(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],function(s){function c(F,R,E,a,h){var l=[];if(h){var p=h.start||0,x=X(h.r,E);E=X(h.r,a||E);var T=(h.end||0)-.001;a=h.innerR;var b=X(h.open,.001>Math.abs((h.end||0)-p-2*Math.PI)),I=Math.cos(p),u=Math.sin(p),n=Math.cos(T),k=Math.sin(T);p=X(h.longArc,.001>T-p-Math.PI?0:1),l.push(["M",F+x*I,R+E*u],["A",x,E,0,p,X(h.clockwise,1),F+x*n,R+E*k]),U(a)&&l.push(b?["M",F+a*n,R+a*k]:["L",F+a*n,R+a*k],["A",a,a,0,p,U(h.clockwise)?1-h.clockwise:0,F+a*I,R+a*u]),b||l.push(["Z"])}return l}function S(F,R,E,a,h){return h&&h.r?M(F,R,E,a,h):[["M",F,R],["L",F+E,R],["L",F+E,R+a],["L",F,R+a],["Z"]]}function M(F,R,E,a,h){return[["M",F+(h=h&&h.r||0),R],["L",F+E-h,R],["C",F+E,R,F+E,R,F+E,R+h],["L",F+E,R+a-h],["C",F+E,R+a,F+E,R+a,F+E-h,R+a],["L",F+h,R+a],["C",F,R+a,F,R+a,F,R+a-h],["L",F,R+h],["C",F,R,F,R,F+h,R]]}var U=s.defined,G=s.isNumber,X=s.pick;return{arc:c,callout:function(F,R,E,a,h){var l=Math.min(h&&h.r||0,E,a),p=l+6,x=h&&h.anchorX;h=h&&h.anchorY||0;var T=M(F,R,E,a,{r:l});return G(x)&&(F+x>=E?h>R+p&&h<R+a-p?T.splice(3,1,["L",F+E,h-6],["L",F+E+6,h],["L",F+E,h+6],["L",F+E,R+a-l]):T.splice(3,1,["L",F+E,a/2],["L",x,h],["L",F+E,a/2],["L",F+E,R+a-l]):0>=F+x?h>R+p&&h<R+a-p?T.splice(7,1,["L",F,h+6],["L",F-6,h],["L",F,h-6],["L",F,R+l]):T.splice(7,1,["L",F,a/2],["L",x,h],["L",F,a/2],["L",F,R+l]):h&&h>a&&x>F+p&&x<F+E-p?T.splice(5,1,["L",x+6,R+a],["L",x,R+a+6],["L",x-6,R+a],["L",F+l,R+a]):h&&0>h&&x>F+p&&x<F+E-p&&T.splice(1,1,["L",x-6,R],["L",x,R-6],["L",x+6,R],["L",E-l,R])),T},circle:function(F,R,E,a){return c(F+E/2,R+a/2,E/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(F,R,E,a){return[["M",F+E/2,R],["L",F+E,R+a/2],["L",F+E/2,R+a],["L",F,R+a/2],["Z"]]},rect:S,roundedRect:M,square:S,triangle:function(F,R,E,a){return[["M",F+E/2,R],["L",F+E,R+a],["L",F,R+a],["Z"]]},"triangle-down":function(F,R,E,a){return[["M",F,R],["L",F+E,R],["L",F+E/2,R+a],["Z"]]}}}),e(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c,S){var M=c.doc,U=c.SVG_NS,G=c.win,X=S.attr,F=S.extend,R=S.fireEvent,E=S.isString,a=S.objectEach,h=S.pick;return function(){function l(p){var x=p.styles;this.renderer=p.renderer,this.svgElement=p,this.width=p.textWidth,this.textLineHeight=x&&x.lineHeight,this.textOutline=x&&x.textOutline,this.ellipsis=!(!x||"ellipsis"!==x.textOverflow),this.noWrap=!(!x||"nowrap"!==x.whiteSpace),this.fontSize=x&&x.fontSize}return l.prototype.buildSVG=function(){var p=this.svgElement,x=p.element,T=p.renderer,b=h(p.textStr,"").toString(),I=-1!==b.indexOf("<"),u=x.childNodes;T=this.width&&!p.added&&T.box;var k=[b,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(k!==p.textCache){for(p.textCache=k,delete p.actualWidth,k=u.length;k--;)x.removeChild(u[k]);I||this.ellipsis||this.width||p.textPath||-1!==b.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(b))?""!==b&&(T&&T.appendChild(x),b=new s(b),this.modifyTree(b.nodes),b.addToDOM(x),this.modifyDOM(),this.ellipsis&&-1!==(x.textContent||"").indexOf("\u2026")&&p.attr("title",this.unescapeEntities(p.textStr||"",["&lt;","&gt;"])),T&&T.removeChild(x)):x.appendChild(M.createTextNode(this.unescapeEntities(b))),E(this.textOutline)&&p.applyTextOutline&&p.applyTextOutline(this.textOutline)}},l.prototype.modifyDOM=function(){var b,p=this,x=this.svgElement,T=X(x.element,"x");for(x.firstLineMetrics=void 0;(b=x.element.firstChild)&&/^[\s\u200B]*$/.test(b.textContent||" ");)x.element.removeChild(b);[].forEach.call(x.element.querySelectorAll("tspan.highcharts-br"),function(k,C){k.nextSibling&&k.previousSibling&&(0===C&&1===k.previousSibling.nodeType&&(x.firstLineMetrics=x.renderer.fontMetrics(void 0,k.previousSibling)),X(k,{dy:p.getLineHeight(k.nextSibling),x:T}))});var I=this.width||0;if(I){var n=function(k){[].slice.call(k.childNodes).forEach(function(C){C.nodeType===G.Node.TEXT_NODE?function(k,C){var O=k.textContent||"",m=O.replace(/([^\^])-/g,"$1- ").split(" "),A=!p.noWrap&&(1<m.length||1<x.element.childNodes.length),P=p.getLineHeight(C),D=0,f=x.actualWidth;if(p.ellipsis)O&&p.truncate(k,O,void 0,0,Math.max(0,I-parseInt(p.fontSize||12,10)),function(o,B){return o.substring(0,B)+"\u2026"});else if(A){for(O=[],A=[];C.firstChild&&C.firstChild!==k;)A.push(C.firstChild),C.removeChild(C.firstChild);for(;m.length;)m.length&&!p.noWrap&&0<D&&(O.push(k.textContent||""),k.textContent=m.join(" ").replace(/- /g,"-")),p.truncate(k,void 0,m,0===D&&f||0,I,function(o,B){return m.slice(0,B).join(" ").replace(/- /g,"-")}),f=x.actualWidth,D++;A.forEach(function(o){C.insertBefore(o,k)}),O.forEach(function(o){C.insertBefore(M.createTextNode(o),k),(o=M.createElementNS(U,"tspan")).textContent="\u200b",X(o,{dy:P,x:T}),C.insertBefore(o,k)})}}(C,k):(-1!==C.className.baseVal.indexOf("highcharts-br")&&(x.actualWidth=0),n(C))})};n(x.element)}},l.prototype.getLineHeight=function(p){var x;return p=p.nodeType===G.Node.TEXT_NODE?p.parentElement:p,this.renderer.styledMode||(x=p&&/(px|em)$/.test(p.style.fontSize)?p.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(x,p||this.svgElement.element).h},l.prototype.modifyTree=function(p){var x=this,T=function(b,I){var u=b.attributes;u=void 0===u?{}:u;var n=b.children,k=b.style;k=void 0===k?{}:k;var C=b.tagName,O=x.renderer.styledMode;"b"===C||"strong"===C?O?u.class="highcharts-strong":k.fontWeight="bold":("i"===C||"em"===C)&&(O?u.class="highcharts-emphasized":k.fontStyle="italic"),k&&k.color&&(k.fill=k.color),"br"===C?(u.class="highcharts-br",b.textContent="\u200b",(I=p[I+1])&&I.textContent&&(I.textContent=I.textContent.replace(/^ +/gm,""))):"a"===C&&n&&n.some(function(m){return"#text"===m.tagName})&&(b.children=[{children:n,tagName:"tspan"}]),"#text"!==C&&"a"!==C&&(b.tagName="tspan"),F(b,{attributes:u,style:k}),n&&n.filter(function(m){return"#text"!==m.tagName}).forEach(T)};p.forEach(T),R(this.svgElement,"afterModifyTree",{nodes:p})},l.prototype.truncate=function(p,x,T,b,I,u){var D,n=this.svgElement,k=n.renderer,C=n.rotation,O=[],m=T?1:0,A=(x||T||"").length,P=A,f=function(B,V){V=V||B;var q=p.parentNode;if(q&&typeof O[V]>"u")if(q.getSubStringLength)try{O[V]=b+q.getSubStringLength(0,T?V+1:V)}catch{}else k.getSpanWidth&&(p.textContent=u(x||T,B),O[V]=b+k.getSpanWidth(n,p));return O[V]};n.rotation=0;var o=f(p.textContent.length);if(b+o>I){for(;m<=A;)P=Math.ceil((m+A)/2),T&&(D=u(T,P)),o=f(P,D&&D.length-1),m===A?m=A+1:o>I?A=P-1:m=P;0===A?p.textContent="":x&&A===x.length-1||(p.textContent=D||u(x||T,P))}T&&T.splice(0,P),n.actualWidth=o,n.rotation=C},l.prototype.unescapeEntities=function(p,x){return a(this.renderer.escapes,function(T,b){x&&-1!==x.indexOf(T)||(p=p.toString().replace(new RegExp(T,"g"),b))}),p},l}()}),e(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],function(s,c,S,M,U,G,X,F,R){var ut,E=S.charts,a=S.deg2rad,h=S.doc,l=S.isFirefox,p=S.isMS,x=S.isWebKit,T=S.noop,b=S.SVG_NS,I=S.symbolSizes,u=S.win,n=R.addEvent,k=R.attr,C=R.createElement,O=R.css,m=R.defined,A=R.destroyObjectProperties,P=R.extend,D=R.isArray,f=R.isNumber,o=R.isObject,B=R.isString,V=R.merge,q=R.pick,nt=R.pInt,yt=R.uniqueKey;return S=function(){function Y(tt,wt,St,At,ht,mt,dt){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(tt,wt,St,At,ht,mt,dt)}return Y.prototype.init=function(tt,wt,St,At,ht,mt,dt){var vt,Lt=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Ct=Lt.element;dt||Lt.css(this.getStyle(At)),tt.appendChild(Ct),k(tt,"dir","ltr"),-1===tt.innerHTML.indexOf("xmlns")&&k(Ct,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Ct,this.boxWrapper=Lt,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(h.createTextNode("Created with Highcharts 10.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=mt,this.forExport=ht,this.styledMode=dt,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(wt,St,!1),l&&tt.getBoundingClientRect&&((wt=function(){O(tt,{left:0,top:0}),vt=tt.getBoundingClientRect(),O(tt,{left:Math.ceil(vt.left)-vt.left+"px",top:Math.ceil(vt.top)-vt.top+"px"})})(),this.unSubPixelFix=n(u,"resize",wt))},Y.prototype.definition=function(tt){return new s([tt]).addToDOM(this.defs.element)},Y.prototype.getReferenceURL=function(){if((l||x)&&h.getElementsByTagName("base").length){if(!m(ut)){var tt=yt();tt=new s([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:tt},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(tt,")"),fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(h.body),O(tt,{position:"fixed",top:0,left:0,zIndex:9e5});var wt=h.elementFromPoint(6,6);ut="hitme"===(wt&&wt.id),h.body.removeChild(tt)}if(ut)return u.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},Y.prototype.getStyle=function(tt){return this.style=P({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},tt)},Y.prototype.setStyle=function(tt){this.boxWrapper.css(this.getStyle(tt))},Y.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},Y.prototype.destroy=function(){var tt=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),A(this.gradients||{}),this.gradients=null,tt&&(this.defs=tt.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},Y.prototype.createElement=function(tt){var wt=new this.Element;return wt.init(this,tt),wt},Y.prototype.getRadialAttr=function(tt,wt){return{cx:tt[0]-tt[2]/2+(wt.cx||0)*tt[2],cy:tt[1]-tt[2]/2+(wt.cy||0)*tt[2],r:(wt.r||0)*tt[2]}},Y.prototype.buildText=function(tt){new F(tt).buildSVG()},Y.prototype.getContrast=function(tt){return 1.05/(.05+(tt=.2126*(tt=c.parse(tt).rgba.map(function(wt){return.03928>=(wt/=255)?wt/12.92:Math.pow((wt+.055)/1.055,2.4)}))[0]+.7152*tt[1]+.0722*tt[2]))>(tt+.05)/.05?"#FFFFFF":"#000000"},Y.prototype.button=function(tt,wt,St,At,ht,mt,dt,Lt,Ct,vt){void 0===ht&&(ht={});var kt=this.label(tt,wt,St,Ct,void 0,void 0,vt,void 0,"button"),Rt=this.styledMode;tt=ht.states||{};var Xt=0;delete(ht=V(ht)).states;var Ft=V({color:"#333333",cursor:"pointer",fontWeight:"normal"},ht.style);delete ht.style;var qt=s.filterUserAttributes(ht);if(kt.attr(V({padding:8,r:2},qt)),!Rt){qt=V({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},qt);var ae=(mt=V(qt,{fill:"#e6e6e6"},s.filterUserAttributes(mt||tt.hover||{}))).style;delete mt.style;var te=(dt=V(qt,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s.filterUserAttributes(dt||tt.select||{}))).style;delete dt.style;var de=(Lt=V(qt,{style:{color:"#cccccc"}},s.filterUserAttributes(Lt||tt.disabled||{}))).style;delete Lt.style}return n(kt.element,p?"mouseover":"mouseenter",function(){3!==Xt&&kt.setState(1)}),n(kt.element,p?"mouseout":"mouseleave",function(){3!==Xt&&kt.setState(Xt)}),kt.setState=function(re){1!==re&&(kt.state=Xt=re),kt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][re||0]),Rt||(kt.attr([qt,mt,dt,Lt][re||0]),o(re=[Ft,ae,te,de][re||0])&&kt.css(re))},Rt||(kt.attr(qt).css(P({cursor:"default"},Ft)),vt&&kt.text.css({pointerEvents:"none"})),kt.on("touchstart",function(re){return re.stopPropagation()}).on("click",function(re){3!==Xt&&At.call(kt,re)})},Y.prototype.crispLine=function(tt,wt,St){void 0===St&&(St="round");var At=tt[0],ht=tt[1];return m(At[1])&&At[1]===ht[1]&&(At[1]=ht[1]=Math[St](At[1])-wt%2/2),m(At[2])&&At[2]===ht[2]&&(At[2]=ht[2]=Math[St](At[2])+wt%2/2),tt},Y.prototype.path=function(tt){var wt=this.styledMode?{}:{fill:"none"};return D(tt)?wt.d=tt:o(tt)&&P(wt,tt),this.createElement("path").attr(wt)},Y.prototype.circle=function(tt,wt,St){return tt=o(tt)?tt:typeof tt>"u"?{}:{x:tt,y:wt,r:St},(wt=this.createElement("circle")).xSetter=wt.ySetter=function(At,ht,mt){mt.setAttribute("c"+ht,At)},wt.attr(tt)},Y.prototype.arc=function(tt,wt,St,At,ht,mt){return o(tt)?(wt=(At=tt).y,St=At.r,tt=At.x):At={innerR:At,start:ht,end:mt},(tt=this.symbol("arc",tt,wt,St,St,At)).r=St,tt},Y.prototype.rect=function(tt,wt,St,At,ht,mt){ht=o(tt)?tt.r:ht;var dt=this.createElement("rect");return tt=o(tt)?tt:typeof tt>"u"?{}:{x:tt,y:wt,width:Math.max(St,0),height:Math.max(At,0)},this.styledMode||(typeof mt<"u"&&(tt["stroke-width"]=mt,tt=dt.crisp(tt)),tt.fill="none"),ht&&(tt.r=ht),dt.rSetter=function(Lt,Ct,vt){dt.r=Lt,k(vt,{rx:Lt,ry:Lt})},dt.rGetter=function(){return dt.r||0},dt.attr(tt)},Y.prototype.setSize=function(tt,wt,St){this.width=tt,this.height=wt,this.boxWrapper.animate({width:tt,height:wt},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:q(St,!0)?void 0:0}),this.alignElements()},Y.prototype.g=function(tt){var wt=this.createElement("g");return tt?wt.attr({class:"highcharts-"+tt}):wt},Y.prototype.image=function(tt,wt,St,At,ht,mt){var dt={preserveAspectRatio:"none"},Lt=function(vt,kt){vt.setAttributeNS?vt.setAttributeNS("http://www.w3.org/1999/xlink","href",kt):vt.setAttribute("hc-svg-href",kt)};f(wt)&&(dt.x=wt),f(St)&&(dt.y=St),f(At)&&(dt.width=At),f(ht)&&(dt.height=ht);var Ct=this.createElement("image").attr(dt);return wt=function(vt){Lt(Ct.element,tt),mt.call(Ct,vt)},mt?(Lt(Ct.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),St=new u.Image,n(St,"load",wt),St.src=tt,St.complete&&wt({})):Lt(Ct.element,tt),Ct},Y.prototype.symbol=function(tt,wt,St,At,ht,mt){var Rt,dt=this,Lt=/^url\((.*?)\)$/,Ct=Lt.test(tt),vt=!Ct&&(this.symbols[tt]?tt:"circle"),kt=vt&&this.symbols[vt];if(kt){"number"==typeof wt&&(Rt=kt.call(this.symbols,Math.round(wt||0),Math.round(St||0),At||0,ht||0,mt));var Xt=this.path(Rt);dt.styledMode||Xt.attr("fill","none"),P(Xt,{symbolName:vt||void 0,x:wt,y:St,width:At,height:ht}),mt&&P(Xt,mt)}else if(Ct){var Ft=tt.match(Lt)[1],qt=Xt=this.image(Ft);qt.imgwidth=q(I[Ft]&&I[Ft].width,mt&&mt.width),qt.imgheight=q(I[Ft]&&I[Ft].height,mt&&mt.height);var ae=function(te){return te.attr({width:te.width,height:te.height})};["width","height"].forEach(function(te){qt[te+"Setter"]=function(de,re){this[re]=de,de=this.alignByTranslate;var Ut=this.element,Vt=this.width,ue=this.height,me=this.imgwidth,ve=this.imgheight,le=this["img"+re];if(m(le)){var We=1;mt&&"within"===mt.backgroundSize&&Vt&&ue?(We=Math.min(Vt/me,ue/ve),le=Math.round(le*We),k(Ut,{width:Math.round(me*We),height:Math.round(ve*We)})):Ut&&Ut.setAttribute(re,le),de||this.translate(((Vt||0)-le*We)/2,((ue||0)-le*We)/2)}}}),m(wt)&&qt.attr({x:wt,y:St}),qt.isImg=!0,m(qt.imgwidth)&&m(qt.imgheight)?ae(qt):(qt.attr({width:0,height:0}),C("img",{onload:function(){var te=E[dt.chartIndex];0===this.width&&(O(this,{position:"absolute",top:"-999em"}),h.body.appendChild(this)),I[Ft]={width:this.width,height:this.height},qt.imgwidth=this.width,qt.imgheight=this.height,qt.element&&ae(qt),this.parentNode&&this.parentNode.removeChild(this),dt.imgCount--,!dt.imgCount&&te&&!te.hasLoaded&&te.onload()},src:Ft}),this.imgCount++)}return Xt},Y.prototype.clipRect=function(tt,wt,St,At){var ht=yt()+"-",mt=this.createElement("clipPath").attr({id:ht}).add(this.defs);return(tt=this.rect(tt,wt,St,At,0).add(mt)).id=ht,tt.clipPath=mt,tt.count=0,tt},Y.prototype.text=function(tt,wt,St,At){var ht={};return!At||!this.allowHTML&&this.forExport?(ht.x=Math.round(wt||0),St&&(ht.y=Math.round(St)),m(tt)&&(ht.text=tt),tt=this.createElement("text").attr(ht),(!At||this.forExport&&!this.allowHTML)&&(tt.xSetter=function(mt,dt,Lt){for(var Rt,Ct=Lt.getElementsByTagName("tspan"),vt=Lt.getAttribute(dt),kt=0;kt<Ct.length;kt++)(Rt=Ct[kt]).getAttribute(dt)===vt&&Rt.setAttribute(dt,mt);Lt.setAttribute(dt,mt)}),tt):this.html(tt,wt,St)},Y.prototype.fontMetrics=function(tt,wt){return tt=!this.styledMode&&/px/.test(tt)||!u.getComputedStyle?tt||wt&&wt.style&&wt.style.fontSize||this.style&&this.style.fontSize:wt&&U.prototype.getStyle.call(wt,"font-size"),{h:wt=24>(tt=/px/.test(tt)?nt(tt):12)?tt+3:Math.round(1.2*tt),b:Math.round(.8*wt),f:tt}},Y.prototype.rotCorr=function(tt,wt,St){var At=tt;return wt&&St&&(At=Math.max(At*Math.cos(wt*a),4)),{x:-tt/3*Math.sin(wt*a),y:At}},Y.prototype.pathToSegments=function(tt){for(var wt=[],St=[],At={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},ht=0;ht<tt.length;ht++)B(St[0])&&f(tt[ht])&&St.length===At[St[0].toUpperCase()]&&tt.splice(ht,0,St[0].replace("M","L").replace("m","l")),"string"==typeof tt[ht]&&(St.length&&wt.push(St.slice(0)),St.length=0),St.push(tt[ht]);return wt.push(St.slice(0)),wt},Y.prototype.label=function(tt,wt,St,At,ht,mt,dt,Lt,Ct){return new G(this,tt,wt,St,At,ht,mt,dt,Lt,Ct)},Y.prototype.alignElements=function(){this.alignedObjects.forEach(function(tt){return tt.align()})},Y}(),P(S.prototype,{Element:U,SVG_NS:b,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:X,draw:T}),M.registerRendererType("svg",S,!0),S}),e(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(s,c,S){var p,M=this&&this.__extends||(p=function(x,T){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,I){b.__proto__=I}||function(b,I){for(var u in I)I.hasOwnProperty(u)&&(b[u]=I[u])})(x,T)},function(x,T){function b(){this.constructor=x}p(x,T),x.prototype=null===T?Object.create(T):(b.prototype=T.prototype,new b)}),U=s.isFirefox,G=s.isMS,X=s.isWebKit,F=s.win,R=S.css,E=S.defined,a=S.extend,h=S.pick,l=S.pInt;return function(p){function x(){return null!==p&&p.apply(this,arguments)||this}return M(x,p),x.compose=function(T){if(-1===x.composedClasses.indexOf(T)){x.composedClasses.push(T);var b=x.prototype,I=T.prototype;I.getSpanCorrection=b.getSpanCorrection,I.htmlCss=b.htmlCss,I.htmlGetBBox=b.htmlGetBBox,I.htmlUpdateTransform=b.htmlUpdateTransform,I.setSpanRotation=b.setSpanRotation}return T},x.prototype.getSpanCorrection=function(T,b,I){this.xCorr=-T*I,this.yCorr=-b},x.prototype.htmlCss=function(T){var b="SPAN"===this.element.tagName&&T&&"width"in T,I=h(b&&T.width,void 0);if(b){delete T.width,this.textWidth=I;var u=!0}return T&&"ellipsis"===T.textOverflow&&(T.whiteSpace="nowrap",T.overflow="hidden"),this.styles=a(this.styles,T),R(this.element,T),u&&this.htmlUpdateTransform(),this},x.prototype.htmlGetBBox=function(){var T=this.element;return{x:T.offsetLeft,y:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}},x.prototype.htmlUpdateTransform=function(){if(this.added){var T=this.renderer,b=this.element,I=this.translateX||0,u=this.translateY||0,n=this.x||0,k=this.y||0,C=this.textAlign||"left",O={left:0,center:.5,right:1}[C],m=this.styles;if(m=m&&m.whiteSpace,R(b,{marginLeft:I,marginTop:u}),!T.styledMode&&this.shadows&&this.shadows.forEach(function(B){R(B,{marginLeft:I+1,marginTop:u+1})}),this.inverted&&[].forEach.call(b.childNodes,function(B){T.invertChild(B,b)}),"SPAN"===b.tagName){var A=this.rotation,P=this.textWidth&&l(this.textWidth),D=[A,C,b.innerHTML,this.textWidth,this.textAlign].join(),f=void 0;if(f=!1,P!==this.oldTextWidth){if(this.textPxLength)var o=this.textPxLength;else R(b,{width:"",whiteSpace:m||"nowrap"}),o=b.offsetWidth;(P>this.oldTextWidth||o>P)&&(/[ \-]/.test(b.textContent||b.innerText)||"ellipsis"===b.style.textOverflow)&&(R(b,{width:o>P||A?P+"px":"auto",display:"block",whiteSpace:m||"normal"}),this.oldTextWidth=P,f=!0)}this.hasBoxWidthChanged=f,D!==this.cTT&&(f=T.fontMetrics(b.style.fontSize,b).b,!E(A)||A===(this.oldRotation||0)&&C===this.oldAlign||this.setSpanRotation(A,O,f),this.getSpanCorrection(!E(A)&&this.textPxLength||b.offsetWidth,f,O,A,C)),R(b,{left:n+(this.xCorr||0)+"px",top:k+(this.yCorr||0)+"px"}),this.cTT=D,this.oldRotation=A,this.oldAlign=C}}else this.alignOnAdd=!0},x.prototype.setSpanRotation=function(T,b,I){var u={},n=G&&!/Edge/.test(F.navigator.userAgent)?"-ms-transform":X?"-webkit-transform":U?"MozTransform":F.opera?"-o-transform":void 0;n&&(u[n]=u.transform="rotate("+T+"deg)",u[n+(U?"Origin":"-origin")]=u.transformOrigin=100*b+"% "+I+"px",R(this.element,u))},x.composedClasses=[],x}(c)}),e(i,"Core/Renderer/HTML/HTMLRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],function(s,c,S,M){var E,U=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),G=M.attr,X=M.createElement,F=M.extend,R=M.pick;return function(E){function a(){return null!==E&&E.apply(this,arguments)||this}return U(a,E),a.compose=function(h){return-1===a.composedClasses.indexOf(h)&&(a.composedClasses.push(h),h.prototype.html=a.prototype.html),h},a.prototype.html=function(h,l,p){var x=this.createElement("span"),T=x.element,b=x.renderer,I=b.isSVG,u=function(n,k){["opacity","visibility"].forEach(function(C){n[C+"Setter"]=function(O,m,A){var P=n.div?n.div.style:k;c.prototype[C+"Setter"].call(this,O,m,A),P&&(P[m]=O)}}),n.addedSetters=!0};return x.textSetter=function(n){n!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,s.setElementHTML(this.element,R(n,"")),this.textStr=n,x.doTransform=!0)},I&&u(x,x.element.style),x.xSetter=x.ySetter=x.alignSetter=x.rotationSetter=function(n,k){"align"===k?x.alignValue=x.textAlign=n:x[k]=n,x.doTransform=!0},x.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},x.attr({text:h,x:Math.round(l),y:Math.round(p)}).css({position:"absolute"}),b.styledMode||x.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),T.style.whiteSpace="nowrap",x.css=x.htmlCss,I&&(x.add=function(n){var k=b.box.parentNode,C=[];if(this.parentGroup=n){var O=n.div;if(!O){for(;n;)C.push(n),n=n.parentGroup;C.reverse().forEach(function(m){function A(o,B){m[B]=o,"translateX"===B?f.left=o+"px":f.top=o+"px",m.doTransform=!0}var o,P=G(m.element,"class"),D=m.styles||{},f=(O=m.div=m.div||X("div",P?{className:P}:void 0,{position:"absolute",left:(m.translateX||0)+"px",top:(m.translateY||0)+"px",display:m.display,opacity:m.opacity,cursor:D.cursor,pointerEvents:D.pointerEvents,visibility:m.visibility},O||k)).style;F(m,{classSetter:(o=O,function(B){this.element.setAttribute("class",B),o.className=B}),on:function(){return C[0].div&&x.on.apply({element:C[0].div,onEvents:m.onEvents},arguments),m},translateXSetter:A,translateYSetter:A}),m.addedSetters||u(m)})}}else O=k;return O.appendChild(T),x.added=!0,x.alignOnAdd&&x.htmlUpdateTransform(),x}),x},a.composedClasses=[],a}(S)}),e(i,"Core/Axis/AxisDefaults.js",[],function(){var s,c;return(c=s||(s={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},c.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total||0,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},c.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},c.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},c.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},c.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},s}),e(i,"Core/Foundation.js",[i["Core/Utilities.js"]],function(s){var G,c=s.addEvent,S=s.isFunction,M=s.objectEach,U=s.removeEvent;return(G||(G={})).registerEventOptions=function(F,R){F.eventOptions=F.eventOptions||{},M(R.events,function(E,a){F.eventOptions[a]!==E&&(F.eventOptions[a]&&(U(F,a,F.eventOptions[a]),delete F.eventOptions[a]),S(E)&&(F.eventOptions[a]=E,c(F,a,E)))})},G}),e(i,"Core/Axis/Tick.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(s,c,S){var M=c.deg2rad,U=S.clamp,G=S.correctFloat,X=S.defined,F=S.destroyObjectProperties,R=S.extend,E=S.fireEvent,a=S.isNumber,h=S.merge,l=S.objectEach,p=S.pick;return function(){function x(T,b,I,u,n){this.isNewLabel=this.isNew=!0,this.axis=T,this.pos=b,this.type=I||"",this.parameters=n||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,E(this,"init"),I||u||this.addLabel()}return x.prototype.addLabel=function(){var T=this,b=T.axis,I=b.options,u=b.chart,n=b.categories,k=b.logarithmic,C=b.names,O=T.pos,m=p(T.options&&T.options.labels,I.labels),A=b.tickPositions,P=O===A[0],D=O===A[A.length-1],f=(!m.step||1===m.step)&&1===b.tickInterval;A=A.info;var B,o=T.label;if(n=this.parameters.category||(n?p(n[O],C[O],O):O),k&&a(n)&&(n=G(k.lin2log(n))),b.dateTime)if(A)var V=u.time.resolveDTLFormat(I.dateTimeLabelFormats[!I.grid&&A.higherRanks[O]||A.unitName]),q=V.main;else a(n)&&(q=b.dateTime.getXDateFormat(n,I.dateTimeLabelFormats||{}));T.isFirst=P,T.isLast=D;var nt={axis:b,chart:u,dateTimeLabelFormat:q,isFirst:P,isLast:D,pos:O,tick:T,tickPositionInfo:A,value:n};E(this,"labelFormat",nt);var yt=function(Y){return m.formatter?m.formatter.call(Y,Y):m.format?(Y.text=b.defaultLabelFormatter.call(Y,Y),s.format(m.format,Y,u)):b.defaultLabelFormatter.call(Y,Y)};I=yt.call(nt,nt);var ut=V&&V.list;T.shortenLabel=ut?function(){for(B=0;B<ut.length;B++)if(R(nt,{dateTimeLabelFormat:ut[B]}),o.attr({text:yt.call(nt,nt)}),o.getBBox().width<b.getSlotWidth(T)-2*m.padding)return;o.attr({text:""})}:void 0,f&&b._addedPlotLB&&T.moveLabel(I,m),X(o)||T.movedLabel?o&&o.textStr!==I&&!f&&(!o.textWidth||m.style.width||o.styles.width||o.css({width:null}),o.attr({text:I}),o.textPxLength=o.getBBox().width):(T.label=o=T.createLabel({x:0,y:0},I,m),T.rotation=0)},x.prototype.createLabel=function(T,b,I){var u=this.axis,n=u.chart;return(T=X(b)&&I.enabled?n.renderer.text(b,T.x,T.y,I.useHTML).add(u.labelGroup):null)&&(n.styledMode||T.css(h(I.style)),T.textPxLength=T.getBBox().width),T},x.prototype.destroy=function(){F(this,this.axis)},x.prototype.getPosition=function(T,b,I,u){var n=this.axis,k=n.chart,C=u&&k.oldChartHeight||k.chartHeight;return(T={x:T?G(n.translate(b+I,void 0,void 0,u)+n.transB):n.left+n.offset+(n.opposite?(u&&k.oldChartWidth||k.chartWidth)-n.right-n.left:0),y:T?C-n.bottom+n.offset-(n.opposite?n.height:0):G(C-n.translate(b+I,void 0,void 0,u)-n.transB)}).y=U(T.y,-1e5,1e5),E(this,"afterGetPosition",{pos:T}),T},x.prototype.getLabelPosition=function(T,b,I,u,n,k,C,O){var m=this.axis,A=m.transA,P=m.isLinked&&m.linkedParent?m.linkedParent.reversed:m.reversed,D=m.staggerLines,f=m.tickRotCorr||{x:0,y:0},o=u||m.reserveSpaceDefault?0:-m.labelOffset*("center"===m.labelAlign?.5:1),B={};return I=0===m.side?I.rotation?-8:-I.getBBox().height:2===m.side?f.y+8:Math.cos(I.rotation*M)*(f.y-I.getBBox(!1,0).height/2),X(n.y)&&(I=0===m.side&&m.horiz?n.y+I:n.y),T=T+n.x+o+f.x-(k&&u?k*A*(P?-1:1):0),b=b+I-(k&&!u?k*A*(P?1:-1):0),D&&(u=C/(O||1)%D,m.opposite&&(u=D-u-1),b+=m.labelOffset/D*u),B.x=T,B.y=Math.round(b),E(this,"afterGetLabelPosition",{pos:B,tickmarkOffset:k,index:C}),B},x.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},x.prototype.getMarkPath=function(T,b,I,u,n,k){return k.crispLine([["M",T,b],["L",T+(n?0:-I),b+(n?I:0)]],u)},x.prototype.handleOverflow=function(T){var b=this.axis,I=b.options.labels,u=T.x,n=b.chart.chartWidth,k=b.chart.spacing,C=p(b.labelLeft,Math.min(b.pos,k[3]));k=p(b.labelRight,Math.max(b.isRadial?0:b.pos+b.len,n-k[1]));var V,O=this.label,m=this.rotation,A={left:0,center:.5,right:1}[b.labelAlign||O.attr("align")],P=O.getBBox().width,D=b.getSlotWidth(this),f={},o=D,B=1;m||"justify"!==I.overflow?0>m&&u-A*P<C?V=Math.round(u/Math.cos(m*M)-C):0<m&&u+A*P>k&&(V=Math.round((n-u)/Math.cos(m*M))):(n=u+(1-A)*P,u-A*P<C?o=T.x+o*(1-A)-C:n>k&&(o=k-T.x+o*A,B=-1),(o=Math.min(D,o))<D&&"center"===b.labelAlign&&(T.x+=B*(D-o-A*(D-Math.min(P,o)))),(P>o||b.autoRotation&&(O.styles||{}).width)&&(V=o)),V&&(this.shortenLabel?this.shortenLabel():(f.width=Math.floor(V)+"px",(I.style||{}).textOverflow||(f.textOverflow="ellipsis"),O.css(f)))},x.prototype.moveLabel=function(T,b){var I=this,u=I.label,n=I.axis,k=n.reversed,C=!1;if(u&&u.textStr===T?(I.movedLabel=u,C=!0,delete I.label):l(n.ticks,function(m){C||m.isNew||m===I||!m.label||m.label.textStr!==T||(I.movedLabel=m.label,C=!0,m.labelPos=I.movedLabel.xy,delete m.label)}),!C&&(I.labelPos||u)){var O=I.labelPos||u.xy;I.movedLabel=I.createLabel({x:u=n.horiz?k?0:n.width+n.left:O.x,y:n=n.horiz?O.y:k?n.width+n.left:0},T,b),I.movedLabel&&I.movedLabel.attr({opacity:0})}},x.prototype.render=function(T,b,I){var u=this.axis,n=u.horiz,k=this.pos,C=p(this.tickmarkOffset,u.tickmarkOffset);C=(k=this.getPosition(n,k,C,b)).x,u=n&&C===u.pos+u.len||!n&&k.y===u.pos?-1:1,n=p(I,this.label&&this.label.newOpacity,1),I=p(I,1),this.isActive=!0,this.renderGridLine(b,I,u),this.renderMark(k,I,u),this.renderLabel(k,b,n,T),this.isNew=!1,E(this,"afterRender")},x.prototype.renderGridLine=function(T,b,I){var u=this.axis,n=u.options,k={},C=this.pos,O=this.type,m=p(this.tickmarkOffset,u.tickmarkOffset),A=u.chart.renderer,P=this.gridLine,D=n.gridLineWidth,f=n.gridLineColor,o=n.gridLineDashStyle;"minor"===this.type&&(D=n.minorGridLineWidth,f=n.minorGridLineColor,o=n.minorGridLineDashStyle),P||(u.chart.styledMode||(k.stroke=f,k["stroke-width"]=D||0,k.dashstyle=o),O||(k.zIndex=1),T&&(b=0),this.gridLine=P=A.path().attr(k).addClass("highcharts-"+(O?O+"-":"")+"grid-line").add(u.gridGroup)),P&&(I=u.getPlotLinePath({value:C+m,lineWidth:P.strokeWidth()*I,force:"pass",old:T,acrossPanes:!1}))&&P[T||this.isNew?"attr":"animate"]({d:I,opacity:b})},x.prototype.renderMark=function(T,b,I){var u=this.axis,n=u.options,k=u.chart.renderer,C=this.type,O=u.tickSize(C?C+"Tick":"tick"),m=T.x;T=T.y;var A=p(n["minor"!==C?"tickWidth":"minorTickWidth"],!C&&u.isXAxis?1:0);n=n["minor"!==C?"tickColor":"minorTickColor"];var P=this.mark,D=!P;O&&(u.opposite&&(O[0]=-O[0]),P||(this.mark=P=k.path().addClass("highcharts-"+(C?C+"-":"")+"tick").add(u.axisGroup),u.chart.styledMode||P.attr({stroke:n,"stroke-width":A})),P[D?"attr":"animate"]({d:this.getMarkPath(m,T,O[0],P.strokeWidth()*I,u.horiz,k),opacity:b}))},x.prototype.renderLabel=function(T,b,I,u){var n=this.axis,k=n.horiz,C=n.options,O=this.label,m=C.labels,A=m.step;n=p(this.tickmarkOffset,n.tickmarkOffset);var P=T.x;T=T.y;var D=!0;O&&a(P)&&(O.xy=T=this.getLabelPosition(P,T,O,k,m,n,u,A),this.isFirst&&!this.isLast&&!C.showFirstLabel||this.isLast&&!this.isFirst&&!C.showLastLabel?D=!1:!k||m.step||m.rotation||b||0===I||this.handleOverflow(T),A&&u%A&&(D=!1),D&&a(T.y)?(T.opacity=I,O[this.isNewLabel?"attr":"animate"](T).show(!0),this.isNewLabel=!1):(O.hide(),this.isNewLabel=!0))},x.prototype.replaceMovedLabel=function(){var T=this.label,b=this.axis,I=b.reversed;T&&!this.isNew&&(T.animate({x:b.horiz?I?b.left:b.width+b.left:T.xy.x,y:I=b.horiz?T.xy.y:I?b.width+b.top:b.top,opacity:0},void 0,T.destroy),delete this.label),b.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},x}()}),e(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Color/Color.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Axis/Tick.js"],i["Core/Utilities.js"]],function(s,c,S,M,U,G,X,F){var R=s.animObject,E=M.defaultOptions,a=U.registerEventOptions,h=G.deg2rad,l=F.arrayMax,p=F.arrayMin,x=F.clamp,T=F.correctFloat,b=F.defined,I=F.destroyObjectProperties,u=F.erase,n=F.error,k=F.extend,C=F.fireEvent,O=F.isArray,m=F.isNumber,A=F.isString,P=F.merge,D=F.normalizeTickInterval,f=F.objectEach,o=F.pick,B=F.relativeLength,V=F.removeEvent,q=F.splat,nt=F.syncTimeout,yt=function(ut,Y){return D(Y,void 0,void 0,o(ut.options.allowDecimals,.5>Y||void 0!==ut.tickAmount),!!ut.tickAmount)};return function(){function ut(Y,tt){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(Y,tt)}return ut.prototype.init=function(Y,tt){var wt=tt.isX;this.chart=Y,this.horiz=Y.inverted&&!this.isZAxis?!wt:wt,this.isXAxis=wt,this.coll=this.coll||(wt?"xAxis":"yAxis"),C(this,"init",{userOptions:tt}),this.opposite=o(tt.opposite,this.opposite),this.side=o(tt.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(tt);var St=this.options,At=St.labels,ht=St.type;this.userOptions=tt,this.minPixelPadding=0,this.reversed=o(St.reversed,this.reversed),this.visible=St.visible,this.zoomEnabled=St.zoomEnabled,this.hasNames="category"===ht||!0===St.categories,this.categories=St.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=b(St.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=St.minRange||St.maxZoom,this.range=St.range,this.offset=St.offset||0,this.min=this.max=null,tt=o(St.crosshair,q(Y.options.tooltip.crosshairs)[wt?0:1]),this.crosshair=!0===tt?{}:tt,-1===Y.axes.indexOf(this)&&(wt?Y.axes.splice(Y.xAxis.length,0,this):Y.axes.push(this),Y[this.coll].push(this)),this.series=this.series||[],Y.inverted&&!this.isZAxis&&wt&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=m(At.rotation)?At.rotation:void 0,a(this,St),C(this,"afterInit")},ut.prototype.setOptions=function(Y){this.options=P(c.defaultXAxisOptions,"yAxis"===this.coll&&c.defaultYAxisOptions,[c.defaultTopAxisOptions,c.defaultRightAxisOptions,c.defaultBottomAxisOptions,c.defaultLeftAxisOptions][this.side],P(E[this.coll],Y)),C(this,"afterSetOptions",{userOptions:Y})},ut.prototype.defaultLabelFormatter=function(Y){var tt=this.axis;Y=this.chart.numberFormatter;var wt=m(this.value)?this.value:NaN,St=tt.chart.time,At=this.dateTimeLabelFormat,ht=E.lang,mt=ht.numericSymbols;ht=ht.numericSymbolMagnitude||1e3;var dt=tt.logarithmic?Math.abs(wt):tt.tickInterval,Lt=mt&&mt.length;if(tt.categories)var Ct="".concat(this.value);else if(At)Ct=St.dateFormat(At,wt);else if(Lt&&1e3<=dt)for(;Lt--&&typeof Ct>"u";)dt>=(tt=Math.pow(ht,Lt+1))&&10*wt%tt==0&&null!==mt[Lt]&&0!==wt&&(Ct=Y(wt/tt,-1)+mt[Lt]);return typeof Ct>"u"&&(Ct=1e4<=Math.abs(wt)?Y(wt,-1):Y(wt,-1,void 0,"")),Ct},ut.prototype.getSeriesExtremes=function(){var wt,Y=this,tt=Y.chart;C(this,"getSeriesExtremes",null,function(){Y.hasVisibleSeries=!1,Y.dataMin=Y.dataMax=Y.threshold=null,Y.softThreshold=!Y.isXAxis,Y.series.forEach(function(St){if(St.visible||!tt.options.chart.ignoreHiddenSeries){var At=St.options,ht=At.threshold;if(Y.hasVisibleSeries=!0,Y.positiveValuesOnly&&0>=ht&&(ht=null),Y.isXAxis){if((At=St.xData).length){At=Y.logarithmic?At.filter(Y.validatePositiveValue):At;var mt=(wt=St.getXExtremes(At)).min,dt=wt.max;m(mt)||mt instanceof Date||(At=At.filter(m),mt=(wt=St.getXExtremes(At)).min,dt=wt.max),At.length&&(Y.dataMin=Math.min(o(Y.dataMin,mt),mt),Y.dataMax=Math.max(o(Y.dataMax,dt),dt))}}else St=St.applyExtremes(),m(St.dataMin)&&(mt=St.dataMin,Y.dataMin=Math.min(o(Y.dataMin,mt),mt)),m(St.dataMax)&&(dt=St.dataMax,Y.dataMax=Math.max(o(Y.dataMax,dt),dt)),b(ht)&&(Y.threshold=ht),(!At.softThreshold||Y.positiveValuesOnly)&&(Y.softThreshold=!1)}})}),C(this,"afterGetSeriesExtremes")},ut.prototype.translate=function(Y,tt,wt,St,At,ht){var mt=this.linkedParent||this,dt=St&&mt.old?mt.old.min:mt.min;if(!m(dt))return NaN;var Lt=mt.minPixelPadding;At=(mt.isOrdinal||mt.brokenAxis&&mt.brokenAxis.hasBreaks||mt.logarithmic&&At)&&mt.lin2val;var Ct=1,vt=0;return(St=St&&mt.old?mt.old.transA:mt.transA)||(St=mt.transA),wt&&(Ct*=-1,vt=mt.len),mt.reversed&&(vt-=(Ct*=-1)*(mt.sector||mt.len)),tt?(ht=(Y*Ct+vt-Lt)/St+dt,At&&(ht=mt.lin2val(ht))):(At&&(Y=mt.val2lin(Y)),Y=Ct*(Y-dt)*St,ht=(mt.isRadial?Y:T(Y))+vt+Ct*Lt+(m(ht)?St*ht:0)),ht},ut.prototype.toPixels=function(Y,tt){return this.translate(Y,!1,!this.horiz,void 0,!0)+(tt?0:this.pos)},ut.prototype.toValue=function(Y,tt){return this.translate(Y-(tt?0:this.pos),!0,!this.horiz,void 0,!0)},ut.prototype.getPlotLinePath=function(Y){function tt(re,Ut,Vt){return"pass"!==Xt&&(re<Ut||re>Vt)&&(Xt?re=x(re,Ut,Vt):de=!0),re}var Ft,qt,ae,te,de,wt=this,St=wt.chart,At=wt.left,ht=wt.top,mt=Y.old,dt=Y.value,Lt=Y.lineWidth,Ct=mt&&St.oldChartHeight||St.chartHeight,vt=mt&&St.oldChartWidth||St.chartWidth,kt=wt.transB,Rt=Y.translatedValue,Xt=Y.force;return C(this,"getPlotLinePath",Y={value:dt,lineWidth:Lt,old:mt,force:Xt,acrossPanes:Y.acrossPanes,translatedValue:Rt},function(re){Rt=o(Rt,wt.translate(dt,void 0,void 0,mt)),Rt=x(Rt,-1e5,1e5),Ft=ae=Math.round(Rt+kt),qt=te=Math.round(Ct-Rt-kt),m(Rt)?wt.horiz?(qt=ht,te=Ct-wt.bottom,Ft=ae=tt(Ft,At,At+wt.width)):(Ft=At,ae=vt-wt.right,qt=te=tt(qt,ht,ht+wt.height)):(de=!0,Xt=!1),re.path=de&&!Xt?null:St.renderer.crispLine([["M",Ft,qt],["L",ae,te]],Lt||1)}),Y.path},ut.prototype.getLinearTickPositions=function(Y,tt,wt){var St=T(Math.floor(tt/Y)*Y);wt=T(Math.ceil(wt/Y)*Y);var ht,At=[];if(T(St+Y)===St&&(ht=20),this.single)return[tt];for(tt=St;tt<=wt&&(At.push(tt),(tt=T(tt+Y,ht))!==mt);)var mt=tt;return At},ut.prototype.getMinorTickInterval=function(){var Y=this.options;return!0===Y.minorTicks?o(Y.minorTickInterval,"auto"):!1===Y.minorTicks?null:Y.minorTickInterval},ut.prototype.getMinorTickPositions=function(){var Y=this.options,tt=this.tickPositions,wt=this.minorTickInterval,St=this.pointRangePadding||0,At=this.min-St,ht=(St=this.max+St)-At,mt=[];if(ht&&ht/wt<this.len/3){var dt=this.logarithmic;if(dt)this.paddedTicks.forEach(function(Lt,Ct,vt){Ct&&mt.push.apply(mt,dt.getLogTickPositions(wt,vt[Ct-1],vt[Ct],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())mt=mt.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(wt),At,St,Y.startOfWeek));else for(Y=At+(tt[0]-At)%wt;Y<=St&&Y!==mt[0];Y+=wt)mt.push(Y)}return 0!==mt.length&&this.trimTicks(mt),mt},ut.prototype.adjustForMinRange=function(){var ht,mt,dt,Lt,Y=this.options,tt=this.logarithmic,wt=this.min,St=this.max,At=0;if(this.isXAxis&&typeof this.minRange>"u"&&!tt&&(b(Y.min)||b(Y.max)||b(Y.floor)||b(Y.ceiling)?this.minRange=null:(this.series.forEach(function(Rt){if(dt=Rt.xData,Lt=Rt.xIncrement?1:dt.length-1,1<dt.length)for(ht=Lt;0<ht;ht--)mt=dt[ht]-dt[ht-1],(!At||mt<At)&&(At=mt)}),this.minRange=Math.min(5*At,this.dataMax-this.dataMin))),St-wt<this.minRange){var Ct=this.dataMax-this.dataMin>=this.minRange,vt=this.minRange,kt=(vt-St+wt)/2;kt=[wt-kt,o(Y.min,wt-kt)],Ct&&(kt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),St=[(wt=l(kt))+vt,o(Y.max,wt+vt)],Ct&&(St[2]=tt?tt.log2lin(this.dataMax):this.dataMax),(St=p(St))-wt<vt&&(kt[0]=St-vt,kt[1]=o(Y.min,St-vt),wt=l(kt))}this.min=wt,this.max=St},ut.prototype.getClosest=function(){var Y;return this.categories?Y=1:this.series.forEach(function(tt){var wt=tt.closestPointRange,St=tt.visible||!tt.chart.options.chart.ignoreHiddenSeries;!tt.noSharedTooltip&&b(wt)&&St&&(Y=b(Y)?Math.min(Y,wt):wt)}),Y},ut.prototype.nameToX=function(Y){var tt=O(this.options.categories),wt=tt?this.categories:this.names,St=Y.options.x;if(Y.series.requireSorting=!1,b(St)||(St=this.options.uniqueNames&&wt?tt?wt.indexOf(Y.name):o(wt.keys[Y.name],-1):Y.series.autoIncrement()),-1===St){if(!tt&&wt)var At=wt.length}else At=St;return typeof At<"u"?(this.names[At]=Y.name,this.names.keys[Y.name]=At):Y.x&&(At=Y.x),At},ut.prototype.updateNames=function(){var Y=this,tt=this.names;0<tt.length&&(Object.keys(tt.keys).forEach(function(wt){delete tt.keys[wt]}),tt.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(wt){wt.xIncrement=null,(!wt.points||wt.isDirtyData)&&(Y.max=Math.max(Y.max,wt.xData.length-1),wt.processData(),wt.generatePoints()),wt.data.forEach(function(St,At){if(St&&St.options&&typeof St.name<"u"){var ht=Y.nameToX(St);typeof ht<"u"&&ht!==St.x&&(St.x=ht,wt.xData[At]=ht)}})}))},ut.prototype.setAxisTranslation=function(){var Lt,Y=this,tt=Y.max-Y.min,wt=Y.linkedParent,St=!!Y.categories,At=Y.isXAxis,ht=Y.axisPointRange||0,mt=0,dt=0;if(At||St||ht){var Ct=Y.getClosest();wt?(mt=wt.minPointOffset,dt=wt.pointRangePadding):Y.series.forEach(function(vt){var kt=St?1:At?o(vt.options.pointRange,Ct,0):Y.axisPointRange||0,Rt=vt.options.pointPlacement;ht=Math.max(ht,kt),(!Y.single||St)&&(vt=vt.is("xrange")?!At:At,mt=Math.max(mt,vt&&A(Rt)?0:kt/2),dt=Math.max(dt,vt&&"on"===Rt?0:kt))}),Y.minPointOffset=mt*=wt=Y.ordinal&&Y.ordinal.slope&&Ct?Y.ordinal.slope/Ct:1,Y.pointRangePadding=dt*=wt,Y.pointRange=Math.min(ht,Y.single&&St?1:tt),At&&(Y.closestPointRange=Ct)}Y.translationSlope=Y.transA=Lt=Y.staticScale||Y.len/(tt+dt||1),Y.transB=Y.horiz?Y.left:Y.bottom,Y.minPixelPadding=Lt*mt,C(this,"afterSetAxisTranslation")},ut.prototype.minFromRange=function(){return this.max-this.range},ut.prototype.setTickInterval=function(Y){var tt=this.chart,wt=this.logarithmic,St=this.options,At=this.isXAxis,ht=this.isLinked,mt=St.tickPixelInterval,dt=this.categories,Lt=this.softThreshold,Ct=St.maxPadding,vt=St.minPadding,kt=m(St.tickInterval)&&0<=St.tickInterval?St.tickInterval:void 0,Rt=m(this.threshold)?this.threshold:null;this.dateTime||dt||ht||this.getTickAmount();var Xt=o(this.userMin,St.min),Ft=o(this.userMax,St.max);if(ht){this.linkedParent=tt[this.coll][St.linkedTo];var qt=this.linkedParent.getExtremes();this.min=o(qt.min,qt.dataMin),this.max=o(qt.max,qt.dataMax),St.type!==this.linkedParent.options.type&&n(11,1,tt)}else{if(Lt&&b(Rt))if(this.dataMin>=Rt)qt=Rt,vt=0;else if(this.dataMax<=Rt){var ae=Rt;Ct=0}this.min=o(Xt,qt,this.dataMin),this.max=o(Ft,ae,this.dataMax)}if(wt&&(this.positiveValuesOnly&&!Y&&0>=Math.min(this.min,o(this.dataMin,this.min))&&n(10,1,tt),this.min=T(wt.log2lin(this.min),16),this.max=T(wt.log2lin(this.max),16)),this.range&&b(this.max)&&(this.userMin=this.min=Xt=Math.max(this.dataMin,this.minFromRange()),this.userMax=Ft=this.max,this.range=null),C(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(dt||this.axisPointRange||this.stacking&&this.stacking.usePercentage||ht)&&b(this.min)&&b(this.max)&&(tt=this.max-this.min)&&(!b(Xt)&&vt&&(this.min-=tt*vt),!b(Ft)&&Ct&&(this.max+=tt*Ct)),m(this.userMin)||(m(St.softMin)&&St.softMin<this.min&&(this.min=Xt=St.softMin),m(St.floor)&&(this.min=Math.max(this.min,St.floor))),m(this.userMax)||(m(St.softMax)&&St.softMax>this.max&&(this.max=Ft=St.softMax),m(St.ceiling)&&(this.max=Math.min(this.max,St.ceiling))),Lt&&b(this.dataMin)&&(Rt=Rt||0,!b(Xt)&&this.min<Rt&&this.dataMin>=Rt?this.min=this.options.minRange?Math.min(Rt,this.max-this.minRange):Rt:!b(Ft)&&this.max>Rt&&this.dataMax<=Rt&&(this.max=this.options.minRange?Math.max(Rt,this.min+this.minRange):Rt)),m(this.min)&&m(this.max)&&!this.chart.polar&&this.min>this.max&&(b(this.options.min)?this.max=this.min:b(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:ht&&this.linkedParent&&!kt&&mt===this.linkedParent.options.tickPixelInterval?kt=this.linkedParent.tickInterval:o(kt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,dt?1:(this.max-this.min)*mt/Math.max(this.len,mt)),At&&!Y){var te=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(de){de.forceCrop=de.forceCropping&&de.forceCropping(),de.processData(te)}),C(this,"postProcessData",{hasExtremesChanged:te})}this.setAxisTranslation(),C(this,"initialAxisTranslation"),this.pointRange&&!kt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),Y=o(St.minTickInterval,this.dateTime&&!this.series.some(function(de){return de.noSharedTooltip})?this.closestPointRange:0),!kt&&this.tickInterval<Y&&(this.tickInterval=Y),this.dateTime||this.logarithmic||kt||(this.tickInterval=yt(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},ut.prototype.setTickPositions=function(){var dt,Y=this.options,tt=Y.tickPositions,wt=Y.tickPositioner,St=this.getMinorTickInterval(),At=this.hasVerticalPanning(),ht="colorAxis"===this.coll,mt=(ht||!At)&&Y.startOnTick;if(At=(ht||!At)&&Y.endOnTick,ht=[],this.tickmarkOffset=this.categories&&"between"===Y.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===St&&this.tickInterval?this.tickInterval/5:St,this.single=this.min===this.max&&b(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==Y.allowDecimals),tt)ht=tt.slice();else if(m(this.min)&&m(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)ht=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,Y.units),this.min,this.max,Y.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)ht=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(St=Y=this.tickInterval;St<=2*Y&&(ht=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&ht.length>this.tickAmount);)this.tickInterval=yt(this,St*=1.1);else ht=[this.min,this.max],n(19,!1,this.chart);ht.length>this.len&&(ht=[ht[0],ht[ht.length-1]])[0]===ht[1]&&(ht.length=1),wt&&(this.tickPositions=ht,(dt=wt.apply(this,[this.min,this.max]))&&(ht=dt))}this.tickPositions=ht,this.paddedTicks=ht.slice(0),this.trimTicks(ht,mt,At),!this.isLinked&&m(this.min)&&m(this.max)&&(this.single&&2>ht.length&&!this.categories&&!this.series.some(function(Lt){return Lt.is("heatmap")&&"between"===Lt.options.pointPlacement})&&(this.min-=.5,this.max+=.5),tt||dt||this.adjustTickAmount()),C(this,"afterSetTickPositions")},ut.prototype.trimTicks=function(Y,tt,wt){var St=Y[0],At=Y[Y.length-1],ht=!this.isOrdinal&&this.minPointOffset||0;if(C(this,"trimTicks"),!this.isLinked){if(tt&&St!==-1/0)this.min=St;else for(;this.min-ht>Y[0];)Y.shift();if(wt)this.max=At;else for(;this.max+ht<Y[Y.length-1];)Y.pop();0===Y.length&&b(St)&&!this.options.tickPositions&&Y.push((At+St)/2)}},ut.prototype.alignToOthers=function(){var ht,Y=this,tt=[this],wt=Y.options,St="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,At=[];if(Y.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&wt.alignTicks||St)&&!1!==wt.startOnTick&&!1!==wt.endOnTick&&!Y.logarithmic){var mt=function(Ct){var vt=Ct.options;return[Ct.horiz?vt.left:vt.top,vt.width,vt.height,vt.pane].join()},dt=mt(this);this.chart[this.coll].forEach(function(Ct){var vt=Ct.series;vt.length&&vt.some(function(kt){return kt.visible})&&Ct!==Y&&mt(Ct)===dt&&(ht=!0,tt.push(Ct))})}if(ht&&St){tt.forEach(function(Ct){Ct=Ct.getThresholdAlignment(Y),m(Ct)&&At.push(Ct)});var Lt=1<At.length?At.reduce(function(Ct,vt){return Ct+vt},0)/At.length:void 0;tt.forEach(function(Ct){Ct.thresholdAlignment=Lt})}return ht},ut.prototype.getThresholdAlignment=function(Y){if((!m(this.dataMin)||this!==Y&&this.series.some(function(tt){return tt.isDirty||tt.isDirtyData}))&&this.getSeriesExtremes(),m(this.threshold))return Y=x((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(Y=1-Y),Y},ut.prototype.getTickAmount=function(){var Y=this.options,tt=Y.tickPixelInterval,wt=Y.tickAmount;!b(Y.tickInterval)&&!wt&&this.len<tt&&!this.isRadial&&!this.logarithmic&&Y.startOnTick&&Y.endOnTick&&(wt=2),!wt&&this.alignToOthers()&&(wt=Math.ceil(this.len/tt)+1),4>wt&&(this.finalTickAmt=wt,wt=5),this.tickAmount=wt},ut.prototype.adjustTickAmount=function(){var Y=this,tt=Y.finalTickAmt,wt=Y.max,St=Y.min,At=Y.options,ht=Y.tickPositions,mt=Y.tickAmount,dt=Y.thresholdAlignment,Lt=ht&&ht.length,Ct=o(Y.threshold,Y.softThreshold?0:null),vt=Y.tickInterval;if(m(dt)){var kt=.5>dt?Math.ceil(dt*(mt-1)):Math.floor(dt*(mt-1));At.reversed&&(kt=mt-1-kt)}if(Y.hasData()&&m(St)&&m(wt)){if(dt=function(){Y.transA*=(Lt-1)/(mt-1),Y.min=At.startOnTick?ht[0]:Math.min(St,ht[0]),Y.max=At.endOnTick?ht[ht.length-1]:Math.max(wt,ht[ht.length-1])},m(kt)&&m(Y.threshold)){for(;ht[kt]!==Ct||ht.length!==mt||ht[0]>St||ht[ht.length-1]<wt;){for(ht.length=0,ht.push(Y.threshold);ht.length<mt;)void 0===ht[kt]||ht[kt]>Y.threshold?ht.unshift(T(ht[0]-vt)):ht.push(T(ht[ht.length-1]+vt));if(vt>8*Y.tickInterval)break;vt*=2}dt()}else if(Lt<mt){for(;ht.length<mt;)ht.length%2||St===Ct?ht.push(T(ht[ht.length-1]+vt)):ht.unshift(T(ht[0]-vt));dt()}if(b(tt)){for(vt=Ct=ht.length;vt--;)(3===tt&&vt%2==1||2>=tt&&0<vt&&vt<Ct-1)&&ht.splice(vt,1);Y.finalTickAmt=void 0}}},ut.prototype.setScale=function(){var Y=!1,tt=!1;this.series.forEach(function(St){Y=Y||St.isDirtyData||St.isDirty,tt=tt||St.xAxis&&St.xAxis.isDirty||!1}),this.setAxisSize();var wt=this.len!==(this.old&&this.old.len);wt||Y||tt||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=wt||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),Y&&this.panningState&&(this.panningState.isDirty=!0),C(this,"afterSetScale")},ut.prototype.setExtremes=function(Y,tt,wt,St,At){var ht=this,mt=ht.chart;wt=o(wt,!0),ht.series.forEach(function(dt){delete dt.kdTree}),At=k(At,{min:Y,max:tt}),C(ht,"setExtremes",At,function(){ht.userMin=Y,ht.userMax=tt,ht.eventArgs=At,wt&&mt.redraw(St)})},ut.prototype.zoom=function(Y,tt){var wt=this,St=this.dataMin,At=this.dataMax,ht=this.options,mt=Math.min(St,o(ht.min,St)),dt=Math.max(At,o(ht.max,At));return C(this,"zoom",Y={newMin:Y,newMax:tt},function(Lt){var Ct=Lt.newMin,vt=Lt.newMax;(Ct!==wt.min||vt!==wt.max)&&(wt.allowZoomOutside||(b(St)&&(Ct<mt&&(Ct=mt),Ct>dt&&(Ct=dt)),b(At)&&(vt<mt&&(vt=mt),vt>dt&&(vt=dt))),wt.displayBtn=typeof Ct<"u"||typeof vt<"u",wt.setExtremes(Ct,vt,!1,void 0,{trigger:"zoom"})),Lt.zoomed=!0}),Y.zoomed},ut.prototype.setAxisSize=function(){var Y=this.chart,tt=this.options,wt=tt.offsets||[0,0,0,0],St=this.horiz,At=this.width=Math.round(B(o(tt.width,Y.plotWidth-wt[3]+wt[1]),Y.plotWidth)),ht=this.height=Math.round(B(o(tt.height,Y.plotHeight-wt[0]+wt[2]),Y.plotHeight)),mt=this.top=Math.round(B(o(tt.top,Y.plotTop+wt[0]),Y.plotHeight,Y.plotTop));tt=this.left=Math.round(B(o(tt.left,Y.plotLeft+wt[3]),Y.plotWidth,Y.plotLeft)),this.bottom=Y.chartHeight-ht-mt,this.right=Y.chartWidth-At-tt,this.len=Math.max(St?At:ht,0),this.pos=St?tt:mt},ut.prototype.getExtremes=function(){var Y=this.logarithmic;return{min:Y?T(Y.lin2log(this.min)):this.min,max:Y?T(Y.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},ut.prototype.getThreshold=function(Y){var tt=this.logarithmic,wt=tt?tt.lin2log(this.min):this.min;return tt=tt?tt.lin2log(this.max):this.max,null===Y||Y===-1/0?Y=wt:Y===1/0?Y=tt:wt>Y?Y=wt:tt<Y&&(Y=tt),this.translate(Y,0,1,0,1)},ut.prototype.autoLabelAlign=function(Y){var tt=(o(Y,0)-90*this.side+720)%360;return C(this,"autoLabelAlign",Y={align:"center"},function(wt){15<tt&&165>tt?wt.align="right":195<tt&&345>tt&&(wt.align="left")}),Y.align},ut.prototype.tickSize=function(Y){var tt=this.options,wt=o(tt["tick"===Y?"tickWidth":"minorTickWidth"],"tick"===Y&&this.isXAxis&&!this.categories?1:0),St=tt["tick"===Y?"tickLength":"minorTickLength"];if(wt&&St){"inside"===tt[Y+"Position"]&&(St=-St);var At=[St,wt]}return C(this,"afterTickSize",Y={tickSize:At}),Y.tickSize},ut.prototype.labelMetrics=function(){var Y=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[Y]&&this.ticks[Y].label)},ut.prototype.unsquish=function(){var Y=this.options.labels,tt=this.horiz,wt=this.tickInterval,St=this.len/(((this.categories?1:0)+this.max-this.min)/wt),At=Y.rotation,ht=this.labelMetrics(),mt=Math.max(this.max-this.min,0),dt=function(ae){var te=ae/(St||1);return(te=1<te?Math.ceil(te):1)*wt>mt&&ae!==1/0&&St!==1/0&&mt&&(te=Math.ceil(mt/wt)),T(te*wt)},Lt=wt,Ct=Number.MAX_VALUE;if(tt){if(!Y.staggerLines)if(m(At))var vt=[At];else St<Y.autoRotationLimit&&(vt=Y.autoRotation);if(vt)for(var kt=tt=void 0,Rt=0,Xt=vt;Rt<Xt.length;Rt++){var Ft=Xt[Rt];if((Ft===At||Ft&&-90<=Ft&&90>=Ft)&&(kt=(tt=dt(Math.abs(ht.h/Math.sin(h*Ft))))+Math.abs(Ft/360))<Ct){Ct=kt;var qt=Ft;Lt=tt}}}else Lt=dt(ht.h);return this.autoRotation=vt,this.labelRotation=o(qt,m(At)?At:0),Y.step?wt:Lt},ut.prototype.getSlotWidth=function(Y){var tt=this.chart,wt=this.horiz,St=this.options.labels,At=Math.max(this.tickPositions.length-(this.categories?0:1),1),ht=tt.margin[3];if(Y&&m(Y.slotWidth))return Y.slotWidth;if(wt&&2>St.step)return St.rotation?0:(this.staggerLines||1)*this.len/At;if(!wt){if(void 0!==(Y=St.style.width))return parseInt(String(Y),10);if(ht)return ht-tt.spacing[3]}return.33*tt.chartWidth},ut.prototype.renderUnsquish=function(){var Y=this.chart,tt=Y.renderer,wt=this.tickPositions,St=this.ticks,At=this.options.labels,ht=At.style,mt=this.horiz,dt=this.getSlotWidth(),Lt=Math.max(1,Math.round(dt-2*At.padding)),Ct={},vt=this.labelMetrics(),kt=ht.textOverflow,Rt=0;if(A(At.rotation)||(Ct.rotation=At.rotation||0),wt.forEach(function(ae){(ae=St[ae]).movedLabel&&ae.replaceMovedLabel(),ae&&ae.label&&ae.label.textPxLength>Rt&&(Rt=ae.label.textPxLength)}),this.maxLabelLength=Rt,this.autoRotation)Rt>Lt&&Rt>vt.h?Ct.rotation=this.labelRotation:this.labelRotation=0;else if(dt){var Xt=Lt;if(!kt){var Ft="clip";for(Lt=wt.length;!mt&&Lt--;){var qt=wt[Lt];(qt=St[qt].label)&&(qt.styles&&"ellipsis"===qt.styles.textOverflow?qt.css({textOverflow:"clip"}):qt.textPxLength>dt&&qt.css({width:dt+"px"}),qt.getBBox().height>this.len/wt.length-(vt.h-vt.f)&&(qt.specificTextOverflow="ellipsis"))}}}Ct.rotation&&(Xt=Rt>.5*Y.chartHeight?.33*Y.chartHeight:Rt,kt||(Ft="ellipsis")),(this.labelAlign=At.align||this.autoLabelAlign(this.labelRotation))&&(Ct.align=this.labelAlign),wt.forEach(function(ae){var te=(ae=St[ae])&&ae.label,de=ht.width,re={};te&&(te.attr(Ct),ae.shortenLabel?ae.shortenLabel():Xt&&!de&&"nowrap"!==ht.whiteSpace&&(Xt<te.textPxLength||"SPAN"===te.element.tagName)?(re.width=Xt+"px",kt||(re.textOverflow=te.specificTextOverflow||Ft),te.css(re)):te.styles&&te.styles.width&&!re.width&&!de&&te.css({width:null}),delete te.specificTextOverflow,ae.rotation=Ct.rotation)},this),this.tickRotCorr=tt.rotCorr(vt.b,this.labelRotation||0,0!==this.side)},ut.prototype.hasData=function(){return this.series.some(function(Y){return Y.hasData()})||this.options.showEmpty&&b(this.min)&&b(this.max)},ut.prototype.addTitle=function(Y){var mt,St=this.opposite,At=this.options.title,ht=this.chart.styledMode;this.axisTitle||((mt=At.textAlign)||(mt=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:St?"right":"left",middle:"center",high:St?"left":"right"})[At.align]),this.axisTitle=this.chart.renderer.text(At.text||"",0,0,At.useHTML).attr({zIndex:7,rotation:At.rotation,align:mt}).addClass("highcharts-axis-title"),ht||this.axisTitle.css(P(At.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ht||At.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[Y?"show":"hide"](Y)},ut.prototype.generateTick=function(Y){var tt=this.ticks;tt[Y]?tt[Y].addLabel():tt[Y]=new X(this,Y)},ut.prototype.getOffset=function(){var Y=this,tt=this,wt=tt.chart,St=tt.horiz,At=tt.options,ht=tt.side,mt=tt.ticks,dt=tt.tickPositions,Lt=tt.coll,Ct=tt.axisParent,vt=wt.renderer,kt=wt.inverted&&!tt.isZAxis?[1,0,3,2][ht]:ht,Rt=tt.hasData(),Xt=At.title,Ft=At.labels,qt=wt.axisOffset;wt=wt.clipOffset;var de,ae=[-1,1,1,-1][ht],te=At.className,re=0,Ut=0,Vt=0;if(tt.showAxis=de=Rt||At.showEmpty,tt.staggerLines=tt.horiz&&Ft.staggerLines||void 0,!tt.axisGroup){var ue=function(ve,le,We){return vt.g(ve).attr({zIndex:We}).addClass("highcharts-".concat(Lt.toLowerCase()).concat(le," ")+(Y.isRadial?"highcharts-radial-axis".concat(le," "):"")+(te||"")).add(Ct)};tt.gridGroup=ue("grid","-grid",At.gridZIndex),tt.axisGroup=ue("axis","",At.zIndex),tt.labelGroup=ue("axis-labels","-labels",Ft.zIndex)}if(Rt||tt.isLinked?(dt.forEach(function(ve){tt.generateTick(ve)}),tt.renderUnsquish(),tt.reserveSpaceDefault=0===ht||2===ht||{1:"left",3:"right"}[ht]===tt.labelAlign,o(Ft.reserveSpace,"center"===tt.labelAlign||null,tt.reserveSpaceDefault)&&dt.forEach(function(ve){Vt=Math.max(mt[ve].getLabelSize(),Vt)}),tt.staggerLines&&(Vt*=tt.staggerLines),tt.labelOffset=Vt*(tt.opposite?-1:1)):f(mt,function(ve,le){ve.destroy(),delete mt[le]}),Xt&&Xt.text&&!1!==Xt.enabled&&(tt.addTitle(de),de&&!1!==Xt.reserveSpace)){tt.titleOffset=re=tt.axisTitle.getBBox()[St?"height":"width"];var me=Xt.offset;Ut=b(me)?0:o(Xt.margin,St?5:10)}tt.renderLine(),tt.offset=ae*o(At.offset,qt[ht]?qt[ht]+(At.margin||0):0),tt.tickRotCorr=tt.tickRotCorr||{x:0,y:0},Xt=0===ht?-tt.labelMetrics().h:2===ht?tt.tickRotCorr.y:0,Rt=Math.abs(Vt)+Ut,Vt&&(Rt=Rt-Xt+ae*(St?o(Ft.y,tt.tickRotCorr.y+8*ae):Ft.x)),tt.axisTitleMargin=o(me,Rt),tt.getMaxLabelDimensions&&(tt.maxLabelDimensions=tt.getMaxLabelDimensions(mt,dt)),"colorAxis"!==Lt&&(St=this.tickSize("tick"),qt[ht]=Math.max(qt[ht],(tt.axisTitleMargin||0)+re+ae*tt.offset,Rt,dt&&dt.length&&St?St[0]+ae*tt.offset:0),At=!tt.axisLine||At.offset?0:2*Math.floor(tt.axisLine.strokeWidth()/2),wt[kt]=Math.max(wt[kt],At)),C(this,"afterGetOffset")},ut.prototype.getLinePath=function(Y){var tt=this.chart,wt=this.opposite,St=this.offset,At=this.horiz,ht=this.left+(wt?this.width:0)+St;return St=tt.chartHeight-this.bottom-(wt?this.height:0)+St,wt&&(Y*=-1),tt.renderer.crispLine([["M",At?this.left:ht,At?St:this.top],["L",At?tt.chartWidth-this.right:ht,At?St:tt.chartHeight-this.bottom]],Y)},ut.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},ut.prototype.getTitlePosition=function(){var Y=this.horiz,tt=this.left,wt=this.top,St=this.len,At=this.options.title,ht=Y?tt:wt,mt=this.opposite,dt=this.offset,Lt=At.x,Ct=At.y,vt=this.axisTitle,kt=this.chart.renderer.fontMetrics(At.style.fontSize,vt);return vt=vt?Math.max(vt.getBBox(!1,0).height-kt.h-1,0):0,St={low:ht+(Y?0:St),middle:ht+St/2,high:ht+(Y?St:0)}[At.align],tt=(Y?wt+this.height:tt)+(Y?1:-1)*(mt?-1:1)*(this.axisTitleMargin||0)+[-vt,vt,kt.f,-vt][this.side],C(this,"afterGetTitlePosition",{titlePosition:Y={x:Y?St+Lt:tt+(mt?this.width:0)+dt+Lt,y:Y?tt+Ct-(mt?this.height:0)+dt:St+Ct}}),Y},ut.prototype.renderMinorTick=function(Y,tt){var wt=this.minorTicks;wt[Y]||(wt[Y]=new X(this,Y,"minor")),tt&&wt[Y].isNew&&wt[Y].render(null,!0),wt[Y].render(null,!1,1)},ut.prototype.renderTick=function(Y,tt,wt){var St=this.ticks;(!this.isLinked||Y>=this.min&&Y<=this.max||this.grid&&this.grid.isColumn)&&(St[Y]||(St[Y]=new X(this,Y)),wt&&St[Y].isNew&&St[Y].render(tt,!0,-1),St[Y].render(tt))},ut.prototype.render=function(){var ae,te,Y=this,tt=Y.chart,wt=Y.logarithmic,St=Y.options,At=Y.isLinked,ht=Y.tickPositions,mt=Y.axisTitle,dt=Y.ticks,Lt=Y.minorTicks,Ct=Y.alternateBands,vt=St.stackLabels,kt=St.alternateGridColor,Rt=Y.tickmarkOffset,Xt=Y.axisLine,Ft=Y.showAxis,qt=R(tt.renderer.globalAnimation);if(Y.labelEdge.length=0,Y.overlap=!1,[dt,Lt,Ct].forEach(function(re){f(re,function(Ut){Ut.isActive=!1})}),Y.hasData()||At){var de=Y.chart.hasRendered&&Y.old&&m(Y.old.min);Y.minorTickInterval&&!Y.categories&&Y.getMinorTickPositions().forEach(function(re){Y.renderMinorTick(re,de)}),ht.length&&(ht.forEach(function(re,Ut){Y.renderTick(re,Ut,de)}),Rt&&(0===Y.min||Y.single)&&(dt[-1]||(dt[-1]=new X(Y,-1,null,!0)),dt[-1].render(-1))),kt&&ht.forEach(function(re,Ut){te=typeof ht[Ut+1]<"u"?ht[Ut+1]+Rt:Y.max-Rt,Ut%2==0&&re<Y.max&&te<=Y.max+(tt.polar?-Rt:Rt)&&(Ct[re]||(Ct[re]=new G.PlotLineOrBand(Y)),ae=re+Rt,Ct[re].options={from:wt?wt.lin2log(ae):ae,to:wt?wt.lin2log(te):te,color:kt,className:"highcharts-alternate-grid"},Ct[re].render(),Ct[re].isActive=!0)}),Y._addedPlotLB||(Y._addedPlotLB=!0,(St.plotLines||[]).concat(St.plotBands||[]).forEach(function(re){Y.addPlotBandOrLine(re)}))}[dt,Lt,Ct].forEach(function(re){var Ut=[],Vt=qt.duration;f(re,function(ue,me){ue.isActive||(ue.render(me,!1,0),ue.isActive=!1,Ut.push(me))}),nt(function(){for(var ue=Ut.length;ue--;)re[Ut[ue]]&&!re[Ut[ue]].isActive&&(re[Ut[ue]].destroy(),delete re[Ut[ue]])},re!==Ct&&tt.hasRendered&&Vt?Vt:0)}),Xt&&(Xt[Xt.isPlaced?"animate":"attr"]({d:this.getLinePath(Xt.strokeWidth())}),Xt.isPlaced=!0,Xt[Ft?"show":"hide"](Ft)),mt&&Ft&&(St=Y.getTitlePosition(),mt[mt.isNew?"attr":"animate"](St),mt.isNew=!1),vt&&vt.enabled&&Y.stacking&&Y.stacking.renderStackTotals(),Y.old={len:Y.len,max:Y.max,min:Y.min,transA:Y.transA,userMax:Y.userMax,userMin:Y.userMin},Y.isDirty=!1,C(this,"afterRender")},ut.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(Y){Y.render()})),this.series.forEach(function(Y){Y.isDirty=!0})},ut.prototype.getKeepProps=function(){return this.keepProps||ut.keepProps},ut.prototype.destroy=function(Y){var tt=this,wt=tt.plotLinesAndBands,St=this.eventOptions;if(C(this,"destroy",{keepEvents:Y}),Y||V(tt),[tt.ticks,tt.minorTicks,tt.alternateBands].forEach(function(ht){I(ht)}),wt)for(Y=wt.length;Y--;)wt[Y].destroy();for(var At in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(ht){tt[ht]&&(tt[ht]=tt[ht].destroy())}),tt.plotLinesAndBandsGroups)tt.plotLinesAndBandsGroups[At]=tt.plotLinesAndBandsGroups[At].destroy();f(tt,function(ht,mt){-1===tt.getKeepProps().indexOf(mt)&&delete tt[mt]}),this.eventOptions=St},ut.prototype.drawCrosshair=function(Y,tt){var ht,wt=this.crosshair,St=o(wt&&wt.snap,!0),At=this.chart,mt=this.cross;if(C(this,"drawCrosshair",{e:Y,point:tt}),Y||(Y=this.cross&&this.cross.e),wt&&!1!==(b(tt)||!St)){if(St?b(tt)&&(ht=o("colorAxis"!==this.coll?tt.crosshairPos:null,this.isXAxis?tt.plotX:this.len-tt.plotY)):ht=Y&&(this.horiz?Y.chartX-this.pos:this.len-Y.chartY+this.pos),b(ht)){var dt={value:tt&&(this.isXAxis?tt.x:o(tt.stackY,tt.y)),translatedValue:ht};At.polar&&k(dt,{isCrosshair:!0,chartX:Y&&Y.chartX,chartY:Y&&Y.chartY,point:tt}),dt=this.getPlotLinePath(dt)||null}if(!b(dt))return void this.hideCrosshair();St=this.categories&&!this.isRadial,mt||(this.cross=mt=At.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(St?"category ":"thin ")+(wt.className||"")).attr({zIndex:o(wt.zIndex,2)}).add(),At.styledMode||(mt.attr({stroke:wt.color||(St?S.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":o(wt.width,1)}).css({"pointer-events":"none"}),wt.dashStyle&&mt.attr({dashstyle:wt.dashStyle}))),mt.show().attr({d:dt}),St&&!wt.width&&mt.attr({"stroke-width":this.transA}),this.cross.e=Y}else this.hideCrosshair();C(this,"afterDrawCrosshair",{e:Y,point:tt})},ut.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),C(this,"afterHideCrosshair")},ut.prototype.hasVerticalPanning=function(){var Y=this.chart.options.chart.panning;return!!(Y&&Y.enabled&&/y/.test(Y.type))},ut.prototype.validatePositiveValue=function(Y){return m(Y)&&0<Y},ut.prototype.update=function(Y,tt){var wt=this.chart;Y=P(this.userOptions,Y),this.destroy(!0),this.init(wt,Y),wt.isDirtyBox=!0,o(tt,!0)&&wt.redraw()},ut.prototype.remove=function(Y){for(var tt=this.chart,wt=this.coll,St=this.series,At=St.length;At--;)St[At]&&St[At].remove(!1);u(tt.axes,this),u(tt[wt],this),tt[wt].forEach(function(ht,mt){ht.options.index=ht.userOptions.index=mt}),this.destroy(),tt.isDirtyBox=!0,o(Y,!0)&&tt.redraw()},ut.prototype.setTitle=function(Y,tt){this.update({title:Y},tt)},ut.prototype.setCategories=function(Y,tt){this.update({categories:Y},tt)},ut.defaultOptions=c.defaultXAxisOptions,ut.keepProps="extKey hcEvents names series userMax userMin".split(" "),ut}()}),e(i,"Core/Axis/DateTimeAxis.js",[i["Core/Utilities.js"]],function(s){var G,c=s.addEvent,S=s.getMagnitude,M=s.normalizeTickInterval,U=s.timeUnits;return function(X){function F(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function R(h){"datetime"!==h.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new a(this))}var E=[];X.compose=function(h){return-1===E.indexOf(h)&&(E.push(h),h.keepProps.push("dateTime"),h.prototype.getTimeTicks=F,c(h,"init",R)),h};var a=function(){function h(l){this.axis=l}return h.prototype.normalizeTimeTickInterval=function(l,p){var I,x=p||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],T=U[(p=x[x.length-1])[0]],b=p[1];for(I=0;I<x.length&&(T=U[(p=x[I])[0]],b=p[1],!(x[I+1]&&l<=(T*b[b.length-1]+U[x[I+1][0]])/2));I++);return T===U.year&&l<5*T&&(b=[1,2,5]),{unitRange:T,count:l=M(l/T,b,"year"===p[0]?Math.max(S(l/T),1):1),unitName:p[0]}},h.prototype.getXDateFormat=function(l,p){var x=this.axis,T=x.chart.time;return x.closestPointRange?T.getDateFormat(x.closestPointRange,l,x.options.startOfWeek,p)||T.resolveDTLFormat(p.year).main:T.resolveDTLFormat(p.day).main},h}();X.Additions=a}(G||(G={})),G}),e(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Utilities.js"]],function(s){var U,c=s.addEvent,S=s.normalizeTickInterval,M=s.pick;return function(G){function X(a){var h=this.logarithmic;"logarithmic"!==a.userOptions.type?this.logarithmic=void 0:h||(this.logarithmic=new E(this))}function F(){var a=this.logarithmic;a&&(this.lin2val=function(h){return a.lin2log(h)},this.val2lin=function(h){return a.log2lin(h)})}var R=[];G.compose=function(a){return-1===R.indexOf(a)&&(R.push(a),a.keepProps.push("logarithmic"),c(a,"init",X),c(a,"afterInit",F)),a};var E=function(){function a(h){this.axis=h}return a.prototype.getLogTickPositions=function(h,l,p,x){var T=this.axis,b=T.len,I=T.options,u=[];if(x||(this.minorAutoInterval=void 0),.5<=h)h=Math.round(h),u=T.getLinearTickPositions(h,l,p);else if(.08<=h){var k,n=Math.floor(l),C=I=void 0;for(b=.3<h?[1,2,4]:.15<h?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n<p+1&&!C;n++){var O=b.length;for(k=0;k<O&&!C;k++){var m=this.log2lin(this.lin2log(n)*b[k]);m>l&&(!x||I<=p)&&typeof I<"u"&&u.push(I),I>p&&(C=!0),I=m}}}else l=this.lin2log(l),p=this.lin2log(p),h=x?T.getMinorTickInterval():I.tickInterval,h=M("auto"===h?null:h,this.minorAutoInterval,I.tickPixelInterval/(x?5:1)*(p-l)/((x?b/T.tickPositions.length:b)||1)),h=S(h),u=T.getLinearTickPositions(h,l,p).map(this.log2lin),x||(this.minorAutoInterval=h/5);return x||(T.tickInterval=h),u},a.prototype.lin2log=function(h){return Math.pow(10,h)},a.prototype.log2lin=function(h){return Math.log(h)/Math.LN10},a}();G.Additions=E}(U||(U={})),U}),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[i["Core/Utilities.js"]],function(s){var U,c=s.erase,S=s.extend,M=s.isNumber;return function(G){var F,X=[];G.compose=function(E,a){return F||(F=E),-1===X.indexOf(a)&&(X.push(a),S(a.prototype,R.prototype)),a};var R=function(){function E(){}return E.prototype.getPlotBandPath=function(a,h,l){void 0===l&&(l=this.options);var p=this.getPlotLinePath({value:h,force:!0,acrossPanes:l.acrossPanes}),x=[],T=this.horiz;if(h=!M(this.min)||!M(this.max)||a<this.min&&h<this.min||a>this.max&&h>this.max,a=this.getPlotLinePath({value:a,force:!0,acrossPanes:l.acrossPanes}),l=1,a&&p){if(h){var b=a.toString()===p.toString();l=0}for(h=0;h<a.length;h+=2){var I=a[h],u=a[h+1],n=p[h],k=p[h+1];"M"!==I[0]&&"L"!==I[0]||"M"!==u[0]&&"L"!==u[0]||"M"!==n[0]&&"L"!==n[0]||"M"!==k[0]&&"L"!==k[0]||(T&&n[1]===I[1]?(n[1]+=l,k[1]+=l):T||n[2]!==I[2]||(n[2]+=l,k[2]+=l),x.push(["M",I[1],I[2]],["L",u[1],u[2]],["L",k[1],k[2]],["L",n[1],n[2]],["Z"])),x.isFlat=b}}return x},E.prototype.addPlotBand=function(a){return this.addPlotBandOrLine(a,"plotBands")},E.prototype.addPlotLine=function(a){return this.addPlotBandOrLine(a,"plotLines")},E.prototype.addPlotBandOrLine=function(a,h){var l=this,p=this.userOptions,x=new F(this,a);if(this.visible&&(x=x.render()),x){if(this._addedPlotLB||(this._addedPlotLB=!0,(p.plotLines||[]).concat(p.plotBands||[]).forEach(function(b){l.addPlotBandOrLine(b)})),h){var T=p[h]||[];T.push(a),p[h]=T}this.plotLinesAndBands.push(x)}return x},E.prototype.removePlotBandOrLine=function(a){var h=this.plotLinesAndBands,l=this.options,p=this.userOptions;if(h){for(var x=h.length;x--;)h[x].id===a&&h[x].destroy();[l.plotLines||[],p.plotLines||[],l.plotBands||[],p.plotBands||[]].forEach(function(T){for(x=T.length;x--;)(T[x]||{}).id===a&&c(T,T[x])})}},E.prototype.removePlotBand=function(a){this.removePlotBandOrLine(a)},E.prototype.removePlotLine=function(a){this.removePlotBandOrLine(a)},E}()}(U||(U={})),U}),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[i["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],i["Core/Utilities.js"]],function(s,c){var S=c.arrayMax,M=c.arrayMin,U=c.defined,G=c.destroyObjectProperties,X=c.erase,F=c.fireEvent,R=c.merge,E=c.objectEach,a=c.pick;return function(){function h(l,p){this.axis=l,p&&(this.options=p,this.id=p.id)}return h.compose=function(l){return s.compose(h,l)},h.prototype.render=function(){F(this,"render");var l=this,p=l.axis,x=p.horiz,T=p.logarithmic,b=l.options,I=b.color,u=a(b.zIndex,0),n=b.events,k={},C=p.chart.renderer,O=b.label,m=l.label,A=b.to,P=b.from,D=b.value,f=l.svgElem,o=[],B=U(P)&&U(A);o=U(D);var V=!f,q={class:"highcharts-plot-"+(B?"band ":"line ")+(b.className||"")},nt=B?"bands":"lines";if(T&&(P=T.log2lin(P),A=T.log2lin(A),D=T.log2lin(D)),p.chart.styledMode||(o?(q.stroke=I||"#999999",q["stroke-width"]=a(b.width,1),b.dashStyle&&(q.dashstyle=b.dashStyle)):B&&(q.fill=I||"#e6ebf5",b.borderWidth&&(q.stroke=b.borderColor,q["stroke-width"]=b.borderWidth))),k.zIndex=u,(T=p.plotLinesAndBandsGroups[nt+="-"+u])||(p.plotLinesAndBandsGroups[nt]=T=C.g("plot-"+nt).attr(k).add()),V&&(l.svgElem=f=C.path().attr(q).add(T)),o)o=p.getPlotLinePath({value:D,lineWidth:f.strokeWidth(),acrossPanes:b.acrossPanes});else{if(!B)return;o=p.getPlotBandPath(P,A,b)}return!l.eventsAdded&&n&&(E(n,function(yt,ut){f.on(ut,function(Y){n[ut].apply(l,[Y])})}),l.eventsAdded=!0),(V||!f.d)&&o&&o.length?f.attr({d:o}):f&&(o?(f.show(),f.animate({d:o})):f.d&&(f.hide(),m&&(l.label=m=m.destroy()))),O&&(U(O.text)||U(O.formatter))&&o&&o.length&&0<p.width&&0<p.height&&!o.isFlat?(O=R({align:x&&B&&"center",x:x?!B&&4:10,verticalAlign:!x&&B&&"middle",y:x?B?16:10:B?6:-4,rotation:x&&!B&&90},O),this.renderLabel(O,o,B,u)):m&&m.hide(),l},h.prototype.renderLabel=function(l,p,x,T){var b=this.axis,I=b.chart.renderer,u=this.label;u||(this.label=u=I.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(x?"band":"line")+"-label "+(l.className||""),zIndex:T}).add(),b.chart.styledMode||u.css(R({textOverflow:"ellipsis"},l.style))),T=p.xBounds||[p[0][1],p[1][1],x?p[2][1]:p[0][1]],p=p.yBounds||[p[0][2],p[1][2],x?p[2][2]:p[0][2]],x=M(T),I=M(p),u.align(l,!1,{x,y:I,width:S(T)-x,height:S(p)-I}),u.alignValue&&"left"!==u.alignValue||(l=l.clip?b.width:b.chart.chartWidth,u.css({width:(90===u.rotation?b.height-(u.alignAttr.y-b.top):l-(u.alignAttr.x-b.left))+"px"})),u.show(!0)},h.prototype.getLabelText=function(l){return U(l.formatter)?l.formatter.call(this):l.text},h.prototype.destroy=function(){X(this.axis.plotLinesAndBands,this),delete this.axis,G(this)},h}()}),e(i,"Core/Tooltip.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(s,c,S,M,U){var G=s.format,X=c.doc,F=S.distribute,R=U.clamp,E=U.css,a=U.discardElement,h=U.extend,l=U.fireEvent,p=U.isArray,x=U.isNumber,T=U.isString,b=U.merge,I=U.pick,u=U.splat,n=U.syncTimeout;return function(){function k(C,O){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=C,this.init(C,O)}return k.prototype.applyFilter=function(){var C=this.chart;C.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+C.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},k.prototype.bodyFormatter=function(C){return C.map(function(O){var m=O.series.tooltipOptions;return(m[(O.point.formatPrefix||"point")+"Formatter"]||O.point.tooltipFormatter).call(O.point,m[(O.point.formatPrefix||"point")+"Format"]||"")})},k.prototype.cleanSplit=function(C){this.chart.series.forEach(function(O){var m=O&&O.tt;m&&(!m.isActive||C?O.tt=m.destroy():m.isActive=!1)})},k.prototype.defaultFormatter=function(C){var O=this.points||u(this),m=[C.tooltipFooterHeaderFormatter(O[0])];return(m=m.concat(C.bodyFormatter(O))).push(C.tooltipFooterHeaderFormatter(O[0],!0)),m},k.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),a(this.container)),U.clearTimeout(this.hideTimer),U.clearTimeout(this.tooltipTimeout)},k.prototype.getAnchor=function(C,O){var m=this.chart,A=m.pointer,P=m.inverted,D=m.plotTop;if(m=m.plotLeft,(C=u(C))[0].series&&C[0].series.yAxis&&!C[0].series.yAxis.options.reversedStacks&&(C=C.slice().reverse()),this.followPointer&&O)typeof O.chartX>"u"&&(O=A.normalize(O)),C=[O.chartX-m,O.chartY-D];else if(C[0].tooltipPos)C=C[0].tooltipPos;else{var f=0,o=0;C.forEach(function(B){(B=B.pos(!0))&&(f+=B[0],o+=B[1])}),f/=C.length,o/=C.length,this.shared&&1<C.length&&O&&(P?f=O.chartX:o=O.chartY),C=[f-m,o-D]}return C.map(Math.round)},k.prototype.getClassName=function(C,O,m){var A=C.series,P=A.options;return[this.options.className,"highcharts-label",m&&"highcharts-tooltip-header",O?"highcharts-tooltip-box":"highcharts-tooltip",!m&&"highcharts-color-"+I(C.colorIndex,A.colorIndex),P&&P.className].filter(T).join(" ")},k.prototype.getLabel=function(){var D,C=this,O=this.chart.styledMode,m=this.options,A=this.split&&this.allowShared,P=m.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none"),f=this.chart.renderer;if(C.label){var o=!C.label.hasClass("highcharts-label");(A&&!o||!A&&o)&&C.destroy()}if(!this.label){if(this.outside){o=this.chart.options.chart.style;var B=M.getRendererType();this.container=D=c.doc.createElement("div"),D.className="highcharts-tooltip-container",E(D,{position:"absolute",top:"1px",pointerEvents:P,zIndex:Math.max(this.options.style.zIndex||0,(o&&o.zIndex||0)+3)}),c.doc.body.appendChild(D),this.renderer=f=new B(D,0,0,o,void 0,void 0,f.styledMode)}if(A?this.label=f.g("tooltip"):(this.label=f.label("",0,0,m.shape,void 0,void 0,m.useHTML,void 0,"tooltip").attr({padding:m.padding,r:m.borderRadius}),O||this.label.attr({fill:m.backgroundColor,"stroke-width":m.borderWidth}).css(m.style).css({pointerEvents:P}).shadow(m.shadow)),O&&m.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),C.outside&&!C.split){var V=this.label,q=V.xSetter,nt=V.ySetter;V.xSetter=function(yt){q.call(V,C.distance),D.style.left=yt+"px"},V.ySetter=function(yt){nt.call(V,C.distance),D.style.top=yt+"px"}}this.label.attr({zIndex:8}).add()}return this.label},k.prototype.getPosition=function(C,O,m){var Y,A=this.chart,P=this.distance,D={},f=A.inverted&&m.h||0,o=this.outside,B=o?X.documentElement.clientWidth-2*P:A.chartWidth,V=o?Math.max(X.body.scrollHeight,X.documentElement.scrollHeight,X.body.offsetHeight,X.documentElement.offsetHeight,X.documentElement.clientHeight):A.chartHeight,q=A.pointer.getChartPosition(),nt=function(mt){var dt="x"===mt;return[mt,dt?B:V,dt?C:O].concat(o?[dt?C*q.scaleX:O*q.scaleY,dt?q.left-P+(m.plotX+A.plotLeft)*q.scaleX:q.top-P+(m.plotY+A.plotTop)*q.scaleY,0,dt?B:V]:[dt?C:O,dt?m.plotX+A.plotLeft:m.plotY+A.plotTop,dt?A.plotLeft:A.plotTop,dt?A.plotLeft+A.plotWidth:A.plotTop+A.plotHeight])},yt=nt("y"),ut=nt("x");nt=!!m.negative,!A.polar&&A.hoverSeries&&A.hoverSeries.yAxis&&A.hoverSeries.yAxis.reversed&&(nt=!nt);var tt=!this.followPointer&&I(m.ttBelow,!A.inverted===nt),wt=function(mt,dt,Lt,Ct,vt,kt,Rt){var Xt=o?"y"===mt?P*q.scaleY:P*q.scaleX:P,Ft=(Lt-Ct)/2,qt=Ct<vt-P,ae=vt+P+Ct<dt,te=vt-Xt-Lt+Ft;if(vt=vt+Xt-Ft,tt&&ae)D[mt]=vt;else if(!tt&&qt)D[mt]=te;else if(qt)D[mt]=Math.min(Rt-Ct,0>te-f?te:te-f);else{if(!ae)return!1;D[mt]=Math.max(kt,vt+f+Lt>dt?vt:vt+f)}},St=function(mt,dt,Lt,Ct,vt){var kt;return vt<P||vt>dt-P?kt=!1:D[mt]=vt<Lt/2?1:vt>dt-Ct/2?dt-Ct-2:vt-Lt/2,kt},At=function(mt){var dt=yt;yt=ut,ut=dt,Y=mt},ht=function(){!1!==wt.apply(0,yt)?!1!==St.apply(0,ut)||Y||(At(!0),ht()):Y?D.x=D.y=0:(At(!0),ht())};return(A.inverted||1<this.len)&&At(),ht(),D},k.prototype.hide=function(C){var O=this;U.clearTimeout(this.hideTimer),C=I(C,this.options.hideDelay),this.isHidden||(this.hideTimer=n(function(){O.getLabel().fadeOut(C&&void 0),O.isHidden=!0},C))},k.prototype.init=function(C,O){this.chart=C,this.options=O,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=O.split&&!C.inverted&&!C.polar,this.shared=O.shared||this.split,this.outside=I(O.outside,!(!C.scrollablePixelsX&&!C.scrollablePixelsY))},k.prototype.shouldStickOnContact=function(C){return!(this.followPointer||!this.options.stickOnContact||C&&!this.chart.pointer.inClass(C.target,"highcharts-tooltip"))},k.prototype.move=function(C,O,m,A){var P=this,D=P.now,f=!1!==P.options.animation&&!P.isHidden&&(1<Math.abs(C-D.x)||1<Math.abs(O-D.y)),o=P.followPointer||1<P.len;h(D,{x:f?(2*D.x+C)/3:C,y:f?(D.y+O)/2:O,anchorX:o?void 0:f?(2*D.anchorX+m)/3:m,anchorY:o?void 0:f?(D.anchorY+A)/2:A}),P.getLabel().attr(D),P.drawTracker(),f&&(U.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){P&&P.move(C,O,m,A)},32))},k.prototype.refresh=function(C,O){var m=this.chart,A=this.options,P=m.pointer,D=u(C),f=D[0],o=[],B=A.formatter||this.defaultFormatter,V=this.shared,q=m.styledMode,nt={};if(A.enabled&&f.series){U.clearTimeout(this.hideTimer),this.allowShared=!(!p(C)&&C.series&&C.series.noSharedTooltip),this.followPointer=!this.split&&f.series.tooltipOptions.followPointer;var yt=(C=this.getAnchor(C,O))[0],ut=C[1];if(V&&this.allowShared?(P.applyInactiveState(D),D.forEach(function(wt){wt.setState("hover"),o.push(wt.getLabelConfig())}),(nt={x:f.category,y:f.y}).points=o):nt=f.getLabelConfig(),this.len=o.length,B=B.call(nt,this),this.distance=I((V=f.series).tooltipOptions.distance,16),!1===B)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(B,D);else{var Y=yt,tt=ut;if(O&&P.isDirectTouch&&(Y=O.chartX-m.plotLeft,tt=O.chartY-m.plotTop),!m.polar&&!1!==V.options.clip&&!D.some(function(wt){return P.isDirectTouch||wt.series.shouldShowTooltip(Y,tt)}))return void this.hide();O=this.getLabel(),A.style.width&&!q||O.css({width:m.spacingBox.width+"px"}),O.attr({text:B&&B.join?B.join(""):B}),O.addClass(this.getClassName(f),!0),q||O.attr({stroke:A.borderColor||f.color||V.color||"#666666"}),this.updatePosition({plotX:yt,plotY:ut,negative:f.negative,ttBelow:f.ttBelow,h:C[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}l(this,"refresh")}},k.prototype.renderSplit=function(C,O){function m(ae,te,de,re,Ut){return void 0===Ut&&(Ut=!0),de?(te=Ct?0:Xt,ae=R(ae-re/2,mt.left,mt.right-re-(A.outside?vt:0))):(te-=kt,ae=R(ae=Ut?ae-re-St:ae+St,Ut?ae:mt.left,mt.right)),{x:ae,y:te}}var A=this,P=A.chart,D=A.chart,f=D.chartWidth,o=D.chartHeight,B=D.plotHeight,V=D.plotLeft,q=D.plotTop,nt=D.pointer,yt=D.scrollablePixelsY;yt=void 0===yt?0:yt;var Y=D.scrollingContainer,tt=(Y=void 0===Y?{scrollLeft:0,scrollTop:0}:Y).scrollLeft;Y=Y.scrollTop;var wt=D.styledMode,St=A.distance,At=A.options,ht=A.options.positioner,mt=A.outside&&"number"!=typeof D.scrollablePixelsX?X.documentElement.getBoundingClientRect():{left:tt,right:tt+f,top:Y,bottom:Y+o},dt=A.getLabel(),Lt=this.renderer||P.renderer,Ct=!(!P.xAxis[0]||!P.xAxis[0].opposite),vt=(P=nt.getChartPosition()).left;P=P.top;var kt=q+Y,Rt=0,Xt=B-yt;T(C)&&(C=[!1,C]),C=C.slice(0,O.length+1).reduce(function(ae,te,de){if(!1!==te&&""!==te){var re=(de=O[de-1]||{isHeader:!0,plotX:O[0].plotX,plotY:B,series:{}}).isHeader,Ut=re?A:de.series;te=te.toString();var Vt=Ut.tt,ue=de.isHeader,me=de.series;Vt||(Vt={padding:At.padding,r:At.borderRadius},wt||(Vt.fill=At.backgroundColor,Vt["stroke-width"]=At.borderWidth),Vt=Lt.label("",0,0,At[ue?"headerShape":"shape"],void 0,void 0,At.useHTML).addClass(A.getClassName(de,!0,ue)).attr(Vt).add(dt)),Vt.isActive=!0,Vt.attr({text:te}),wt||Vt.css(At.style).shadow(At.shadow).attr({stroke:At.borderColor||de.color||me.color||"#333333"}),te=(ue=(Ut=Ut.tt=Vt).getBBox()).width+Ut.strokeWidth(),re&&(Xt+=Rt=ue.height,Ct&&(kt-=Rt)),me=void 0===(me=de.plotX)?0:me,Vt=void 0===(Vt=de.plotY)?0:Vt;var ve=de.series;if(de.isHeader){me=V+me;var le=q+B/2}else{var We=ve.xAxis,$e=ve.yAxis;me=We.pos+R(me,-St,We.len+St),ve.shouldShowTooltip(0,$e.pos-q+Vt,{ignoreX:!0})&&(le=$e.pos+Vt)}me=R(me,mt.left-St,mt.right+St),"number"==typeof le?(ue=ue.height+1,Vt=ht?ht.call(A,te,ue,de):m(me,le,re,te),ae.push({align:ht?0:void 0,anchorX:me,anchorY:le,boxWidth:te,point:de,rank:I(Vt.rank,re?1:0),size:ue,target:Vt.y,tt:Ut,x:Vt.x})):Ut.isActive=!1}return ae},[]),!ht&&C.some(function(ae){var te=(A.outside?vt:0)+ae.anchorX;return te<mt.left&&te+ae.boxWidth<mt.right||te<vt-mt.left+ae.boxWidth&&mt.right-te>te})&&(C=C.map(function(ae){var te=m(ae.anchorX,ae.anchorY,ae.point.isHeader,ae.boxWidth,!1);return h(ae,{target:te.y,x:te.x})})),A.cleanSplit(),F(C,Xt);var Ft=vt,qt=vt;C.forEach(function(ae){var te=ae.x,de=ae.boxWidth;(ae=ae.isHeader)||(A.outside&&vt+te<Ft&&(Ft=vt+te),!ae&&A.outside&&Ft+de>qt&&(qt=vt+te))}),C.forEach(function(ae){var te=ae.x,de=ae.anchorX,re=ae.pos,Ut=ae.point.isHeader;if(re={visibility:typeof re>"u"?"hidden":"inherit",x:te,y:(re||0)+kt,anchorX:de,anchorY:ae.anchorY},A.outside&&te<de){var Vt=vt-Ft;0<Vt&&(Ut||(re.x=te+Vt,re.anchorX=de+Vt),Ut&&(re.x=(qt-Ft)/2,re.anchorX=de+Vt))}ae.tt.attr(re)}),C=A.container,yt=A.renderer,A.outside&&C&&yt&&(D=dt.getBBox(),yt.setSize(D.width+D.x,D.height+D.y,!1),C.style.left=Ft+"px",C.style.top=P+"px")},k.prototype.drawTracker=function(){if(this.shouldStickOnContact()){var C=this.chart,O=this.label,m=this.shared?C.hoverPoints:C.hoverPoint;if(O&&m){var A={x:0,y:0,width:0,height:0};m=this.getAnchor(m);var P=O.getBBox();m[0]+=C.plotLeft-O.translateX,m[1]+=C.plotTop-O.translateY,A.x=Math.min(0,m[0]),A.y=Math.min(0,m[1]),A.width=0>m[0]?Math.max(Math.abs(m[0]),P.width-m[0]):Math.max(Math.abs(m[0]),P.width),A.height=0>m[1]?Math.max(Math.abs(m[1]),P.height-Math.abs(m[1])):Math.max(Math.abs(m[1]),P.height),this.tracker?this.tracker.attr(A):(this.tracker=O.renderer.rect(A).addClass("highcharts-tracker").add(O),C.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&this.tracker.destroy()},k.prototype.styledModeFormat=function(C){return C.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')},k.prototype.tooltipFooterHeaderFormatter=function(C,O){var m=C.series,A=m.tooltipOptions,P=m.xAxis,D=P&&P.dateTime,f=A.xDateFormat,o=A[O?"footerFormat":"headerFormat"];return l(this,"headerFormatter",P={isFooter:O,labelConfig:C},function(B){D&&!f&&x(C.key)&&(f=D.getXDateFormat(C.key,A.dateTimeLabelFormats)),D&&f&&(C.point&&C.point.tooltipDateKeys||["key"]).forEach(function(V){o=o.replace("{point."+V+"}","{point."+V+":"+f+"}")}),m.chart.styledMode&&(o=this.styledModeFormat(o)),B.text=G(o,{point:C,series:m},this.chart)}),P.text},k.prototype.update=function(C){this.destroy(),b(!0,this.chart.options.tooltip.userOptions,C),this.init(this.chart,b(!0,this.options,C))},k.prototype.updatePosition=function(C){var O=this.chart,m=this.distance,A=this.options,P=O.pointer,D=this.getLabel(),f=P.getChartPosition();P=f.left;var o=f.top,B=f.scaleX;f=f.scaleY;var V=(A.positioner||this.getPosition).call(this,D.width,D.height,C),q=(C.plotX||0)+O.plotLeft;C=(C.plotY||0)+O.plotTop,this.outside&&(A.positioner&&(V.x+=P-m,V.y+=o-m),this.renderer.setSize(D.width+(m=A.borderWidth+2*m),D.height+m,!1),(1!==B||1!==f)&&(E(this.container,{transform:"scale(".concat(B,", ").concat(f,")")}),q*=B,C*=f),q+=P-V.x,C+=o-V.y),this.move(Math.round(V.x),Math.round(V.y||0),q,C)},k}()}),e(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],function(s,c,S,M,U){var G=c.animObject,X=S.defaultOptions,F=M.format,R=U.addEvent,E=U.defined,a=U.erase,h=U.extend,l=U.fireEvent,p=U.getNestedProperty,x=U.isArray,T=U.isFunction,b=U.isNumber,I=U.isObject,u=U.merge,n=U.objectEach,k=U.pick,C=U.syncTimeout,O=U.removeEvent,m=U.uniqueKey;return function(){function A(){this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}return A.prototype.animateBeforeDestroy=function(){var P=this,D={x:P.startXPos,opacity:0},f=P.getGraphicalProps();f.singular.forEach(function(o){P[o]=P[o].animate("dataLabel"===o?{x:P[o].startXPos,y:P[o].startYPos,opacity:0}:D)}),f.plural.forEach(function(o){P[o].forEach(function(B){B.element&&B.animate(h({x:P.startXPos},B.startYPos?{x:B.startXPos,y:B.startYPos}:{}))})})},A.prototype.applyOptions=function(P,D){var f=this.series,o=f.options.pointValKey||f.pointValKey;return P=A.prototype.optionsToObject.call(this,P),h(this,P),this.options=this.options?h(this.options,P):P,P.group&&delete this.group,P.dataLabels&&delete this.dataLabels,o&&(this.y=A.prototype.getNestedProperty.call(this,o)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof D>"u"&&f.xAxis&&f.xAxis.hasNames&&(this.x=f.xAxis.nameToX(this)),typeof this.x>"u"&&f?this.x=typeof D>"u"?f.autoIncrement():D:b(P.x)&&f.options.relativeXValue&&(this.x=f.autoIncrement(P.x)),this},A.prototype.destroy=function(){function P(){for(q in(D.graphic||D.graphics||D.dataLabel||D.dataLabels)&&(O(D),D.destroyElements()),D)D[q]=null}var D=this,f=D.series,o=f.chart;f=f.options.dataSorting;var q,B=o.hoverPoints,V=G(D.series.chart.renderer.globalAnimation);D.legendItem&&o.legend.destroyItem(D),B&&(D.setState(),a(B,D),B.length||(o.hoverPoints=null)),D===o.hoverPoint&&D.onMouseOut(),f&&f.enabled?(this.animateBeforeDestroy(),C(P,V.duration)):P(),o.pointCount--},A.prototype.destroyElements=function(P){var D=this;(P=D.getGraphicalProps(P)).singular.forEach(function(f){D[f]=D[f].destroy()}),P.plural.forEach(function(f){D[f].forEach(function(o){o&&o.element&&o.destroy()}),delete D[f]})},A.prototype.firePointEvent=function(P,D,f){var o=this,B=this.series.options;(B.point.events[P]||o.options&&o.options.events&&o.options.events[P])&&o.importEvents(),"click"===P&&B.allowPointSelect&&(f=function(V){o.select&&o.select(null,V.ctrlKey||V.metaKey||V.shiftKey)}),l(o,P,D,f)},A.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},A.prototype.getGraphicalProps=function(P){var B,D=this,f=[],o={singular:[],plural:[]};for((P=P||{graphic:1,dataLabel:1}).graphic&&f.push("graphic","shadowGroup"),P.dataLabel&&f.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),B=f.length;B--;){var V=f[B];D[V]&&o.singular.push(V)}return["graphic","dataLabel","connector"].forEach(function(q){var nt=q+"s";P[q]&&D[nt]&&o.plural.push(nt)}),o},A.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},A.prototype.getNestedProperty=function(P){if(P)return 0===P.indexOf("custom.")?p(P,this.options):this[P]},A.prototype.getZone=function(){var P=this.series,D=P.zones;P=P.zoneAxis||"y";var f,o=0;for(f=D[o];this[P]>=f.value;)f=D[++o];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=f&&f.color&&!this.options.color?f.color:this.nonZonedColor,f},A.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},A.prototype.init=function(P,D,f){return this.series=P,this.applyOptions(D,f),this.id=E(this.id)?this.id:m(),this.resolveColor(),P.chart.pointCount++,l(this,"afterInit"),this},A.prototype.isValid=function(){return null!==this.x&&b(this.y)},A.prototype.optionsToObject=function(P){var D=this.series,f=D.options.keys,o=f||D.pointArrayMap||["y"],B=o.length,V={},q=0,nt=0;if(b(P)||null===P)V[o[0]]=P;else if(x(P))for(!f&&P.length>B&&("string"==(D=typeof P[0])?V.name=P[0]:"number"===D&&(V.x=P[0]),q++);nt<B;)f&&typeof P[q]>"u"||(0<o[nt].indexOf(".")?A.prototype.setNestedProperty(V,P[q],o[nt]):V[o[nt]]=P[q]),q++,nt++;else"object"==typeof P&&(V=P,P.dataLabels&&(D._hasPointLabels=!0),P.marker&&(D._hasPointMarkers=!0));return V},A.prototype.pos=function(P,D){void 0===D&&(D=this.plotY);var f=this.plotX,o=this.series,B=o.chart,V=o.xAxis;o=o.yAxis;var q=0,nt=0;if(b(f)&&b(D))return P&&(q=V?V.pos:B.plotLeft,nt=o?o.pos:B.plotTop),B.inverted&&V&&o?[o.len-D+nt,V.len-f+q]:[f+q,D+nt]},A.prototype.resolveColor=function(){var P=this.series,D=P.chart.styledMode,f=P.chart.options.chart.colorCount;if(delete this.nonZonedColor,P.options.colorByPoint){if(!D){var o=(f=P.options.colors||P.chart.options.colors)[P.colorCounter];f=f.length}D=P.colorCounter,P.colorCounter++,P.colorCounter===f&&(P.colorCounter=0)}else D||(o=P.color),D=P.colorIndex;this.colorIndex=k(this.options.colorIndex,D),this.color=k(this.options.color,o)},A.prototype.setNestedProperty=function(P,D,f){return f.split(".").reduce(function(o,B,V,q){return o[B]=q.length-1===V?D:I(o[B],!0)?o[B]:{},o[B]},P),P},A.prototype.shouldDraw=function(){return!this.isNull},A.prototype.tooltipFormatter=function(P){var D=this.series,f=D.tooltipOptions,o=k(f.valueDecimals,""),B=f.valuePrefix||"",V=f.valueSuffix||"";return D.chart.styledMode&&(P=D.chart.tooltip.styledModeFormat(P)),(D.pointArrayMap||["y"]).forEach(function(q){q="{point."+q,(B||V)&&(P=P.replace(RegExp(q+"}","g"),B+q+"}"+V)),P=P.replace(RegExp(q+"}","g"),q+":,."+o+"f}")}),F(P,{point:this,series:this.series},D.chart)},A.prototype.update=function(P,D,f,o){function B(){V.applyOptions(P);var tt=nt&&V.hasMockGraphic;tt=null===V.y?!tt:tt,nt&&tt&&(V.graphic=nt.destroy(),delete V.hasMockGraphic),I(P,!0)&&(nt&&nt.element&&P&&P.marker&&typeof P.marker.symbol<"u"&&(V.graphic=nt.destroy()),P&&P.dataLabels&&V.dataLabel&&(V.dataLabel=V.dataLabel.destroy()),V.connector&&(V.connector=V.connector.destroy())),q.updateParallelArrays(V,Y=V.index),ut.data[Y]=I(ut.data[Y],!0)||I(P,!0)?V.options:k(P,ut.data[Y]),q.isDirty=q.isDirtyData=!0,!q.fixedBox&&q.hasCartesianSeries&&(yt.isDirtyBox=!0),"point"===ut.legendType&&(yt.isDirtyLegend=!0),D&&yt.redraw(f)}var Y,V=this,q=V.series,nt=V.graphic,yt=q.chart,ut=q.options;D=k(D,!0),!1===o?B():V.firePointEvent("update",{options:P},B)},A.prototype.remove=function(P,D){this.series.removePoint(this.series.data.indexOf(this),P,D)},A.prototype.select=function(P,D){var f=this,o=f.series,B=o.chart;this.selectedStaging=P=k(P,!f.selected),f.firePointEvent(P?"select":"unselect",{accumulate:D},function(){f.selected=f.options.selected=P,o.options.data[o.data.indexOf(f)]=f.options,f.setState(P&&"select"),D||B.getSelectedPoints().forEach(function(V){var q=V.series;V.selected&&V!==f&&(V.selected=V.options.selected=!1,q.options.data[q.data.indexOf(V)]=V.options,V.setState(B.hoverPoints&&q.options.inactiveOtherPoints?"inactive":""),V.firePointEvent("unselect"))})}),delete this.selectedStaging},A.prototype.onMouseOver=function(P){var D=this.series.chart,f=D.pointer;P=P?f.normalize(P):f.getChartCoordinatesFromPoint(this,D.inverted),f.runPointActions(P,this)},A.prototype.onMouseOut=function(){var P=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(P.hoverPoints||[]).forEach(function(D){D.setState()}),P.hoverPoints=P.hoverPoint=null},A.prototype.importEvents=function(){if(!this.hasImportedEvents){var P=this,D=u(P.series.options.point,P.options).events;P.events=D,n(D,function(f,o){T(f)&&R(P,o,f)}),this.hasImportedEvents=!0}},A.prototype.setState=function(P,D){var St,f=this.series,o=this.state,B=f.options.states[P||"normal"]||{},V=X.plotOptions[f.type].marker&&f.options.marker,nt=V&&V.states&&V.states[P||"normal"]||{},ut=this.marker||{},Y=f.chart,tt=V&&f.markerAttribs,wt=f.halo,At=f.stateMarkerGraphic;if(!((P=P||"")===this.state&&!D||this.selected&&"select"!==P||!1===B.enabled||P&&(!1===nt.enabled||V&&!1===V.enabled&&!1===nt.enabled)||P&&ut.states&&ut.states[P]&&!1===ut.states[P].enabled)){if(this.state=P,tt&&(St=f.markerAttribs(this,P)),this.graphic&&!this.hasMockGraphic){if(o&&this.graphic.removeClass("highcharts-point-"+o),P&&this.graphic.addClass("highcharts-point-"+P),!Y.styledMode){o=f.pointAttribs(this,P);var ht=k(Y.options.chart.animation,B.animation),mt=o.opacity;f.options.inactiveOtherPoints&&b(mt)&&((this.dataLabels||[]).forEach(function(dt){dt&&!dt.hasClass("highcharts-data-label-hidden")&&dt.animate({opacity:mt},ht)}),this.connector&&this.connector.animate({opacity:mt},ht)),this.graphic.animate(o,ht)}St&&this.graphic.animate(St,k(Y.options.chart.animation,nt.animation,V.animation)),At&&At.hide()}else P&&nt&&(V=ut.symbol||f.symbol,At&&At.currentSymbol!==V&&(At=At.destroy()),St&&(At?At[D?"animate":"attr"]({x:St.x,y:St.y}):V&&(f.stateMarkerGraphic=At=Y.renderer.symbol(V,St.x,St.y,St.width,St.height).add(f.markerGroup),At.currentSymbol=V)),!Y.styledMode&&At&&"inactive"!==this.state&&At.attr(f.pointAttribs(this,P))),At&&(At[P&&this.isInside?"show":"hide"](),At.element.point=this,At.addClass(this.getClassName(),!0));St=(At=this.graphic||At)&&At.visibility||"inherit",(B=B.halo)&&B.size&&At&&"hidden"!==St&&!this.isCluster?(wt||(f.halo=wt=Y.renderer.path().add(At.parentGroup)),wt.show()[D?"animate":"attr"]({d:this.haloPath(B.size)}),wt.attr({class:"highcharts-halo highcharts-color-"+k(this.colorIndex,f.colorIndex)+(this.className?" "+this.className:""),visibility:St,zIndex:-1}),wt.point=this,Y.styledMode||wt.attr(h({fill:this.color||f.color,"fill-opacity":B.opacity},s.filterUserAttributes(B.attributes||{})))):wt&&wt.point&&wt.point.haloPath&&wt.animate({d:wt.point.haloPath(0)},null,wt.hide),l(this,"afterSetState",{state:P})}},A.prototype.haloPath=function(P){var D=this.pos();return D?this.series.chart.renderer.symbols.circle(Math.floor(D[0])-P,D[1]-P,2*P,2*P):[]},A}()}),e(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Tooltip.js"],i["Core/Utilities.js"]],function(s,c,S,M){var U=s.parse,G=c.charts,X=c.noop,F=M.addEvent,R=M.attr,E=M.css,a=M.defined,h=M.extend,l=M.find,p=M.fireEvent,x=M.isNumber,T=M.isObject,b=M.objectEach,I=M.offset,u=M.pick,n=M.splat;return function(){function k(C,O){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=C,this.hasDragged=!1,this.options=O,this.init(C,O)}return k.prototype.applyInactiveState=function(C){var m,O=[];(C||[]).forEach(function(A){O.push(m=A.series),m.linkedParent&&O.push(m.linkedParent),m.linkedSeries&&(O=O.concat(m.linkedSeries)),m.navigatorSeries&&O.push(m.navigatorSeries)}),this.chart.series.forEach(function(A){-1===O.indexOf(A)?A.setState("inactive",!0):A.options.inactiveOtherPoints&&A.setAllPointsToState("inactive")})},k.prototype.destroy=function(){var C=this;this.eventsToUnbind.forEach(function(O){return O()}),this.eventsToUnbind=[],c.chartCount||(k.unbindDocumentMouseUp&&(k.unbindDocumentMouseUp=k.unbindDocumentMouseUp()),k.unbindDocumentTouchEnd&&(k.unbindDocumentTouchEnd=k.unbindDocumentTouchEnd())),clearInterval(C.tooltipTimeout),b(C,function(O,m){C[m]=void 0})},k.prototype.getSelectionMarkerAttrs=function(C,O){var m=this,A={args:{chartX:C,chartY:O},attrs:{},shapeType:"rect"};return p(this,"getSelectionMarkerAttrs",A,function(P){var D=m.chart,f=m.mouseDownX;f=void 0===f?0:f;var o=m.mouseDownY;o=void 0===o?0:o;var B=m.zoomHor,V=m.zoomVert;(P=P.attrs).x=D.plotLeft,P.y=D.plotTop,P.width=B?1:D.plotWidth,P.height=V?1:D.plotHeight,B&&(D=C-f,P.width=Math.abs(D),P.x=(0<D?0:D)+f),V&&(D=O-o,P.height=Math.abs(D),P.y=(0<D?0:D)+o)}),A},k.prototype.drag=function(C){var O=this.chart,m=O.options.chart,A=O.plotLeft,P=O.plotTop,D=O.plotWidth,f=O.plotHeight,o=this.mouseDownX||0,B=this.mouseDownY||0,V=T(m.panning)?m.panning&&m.panning.enabled:m.panning,q=m.panKey&&C[m.panKey+"Key"],nt=C.chartX,yt=C.chartY,ut=this.selectionMarker;ut&&ut.touch||(nt<A?nt=A:nt>A+D&&(nt=A+D),yt<P?yt=P:yt>P+f&&(yt=P+f),this.hasDragged=Math.sqrt(Math.pow(o-nt,2)+Math.pow(B-yt,2)),10<this.hasDragged&&(A=O.isInsidePlot(o-A,B-P,{visiblePlotOnly:!0}),nt=(yt=this.getSelectionMarkerAttrs(nt,yt)).shapeType,yt=yt.attrs,!O.hasCartesianSeries&&!O.mapView||!this.zoomX&&!this.zoomY||!A||q||ut||(this.selectionMarker=ut=O.renderer[nt](),ut.attr({class:"highcharts-selection-marker",zIndex:7}).add(),O.styledMode||ut.attr({fill:m.selectionMarkerFill||U("#335cad").setOpacity(.25).get()})),ut&&ut.attr(yt),A&&!ut&&V&&O.pan(C,m.panning)))},k.prototype.dragStart=function(C){var O=this.chart;O.mouseIsDown=C.type,O.cancelClick=!1,O.mouseDownX=this.mouseDownX=C.chartX,O.mouseDownY=this.mouseDownY=C.chartY},k.prototype.getSelectionBox=function(C){var O={args:{marker:C},result:{}};return p(this,"getSelectionBox",O,function(m){m.result={x:C.attr?+C.attr("x"):C.x,y:C.attr?+C.attr("y"):C.y,width:C.attr?C.attr("width"):C.width,height:C.attr?C.attr("height"):C.height}}),O.result},k.prototype.drop=function(C){var O=this,m=this.chart,A=this.hasPinched;if(this.selectionMarker){var P=this.getSelectionBox(this.selectionMarker),D=P.x,f=P.y,o=P.width,B=P.height,V={originalEvent:C,xAxis:[],yAxis:[],x:D,y:f,width:o,height:B},q=!!m.mapView;(this.hasDragged||A)&&(m.axes.forEach(function(nt){if(nt.zoomEnabled&&a(nt.min)&&(A||O[{xAxis:"zoomX",yAxis:"zoomY"}[nt.coll]])&&x(D)&&x(f)&&x(o)&&x(B)){var yt=nt.horiz,ut="touchend"===C.type?nt.minPixelPadding:0,Y=nt.toValue((yt?D:f)+ut);yt=nt.toValue((yt?D+o:f+B)-ut),V[nt.coll].push({axis:nt,min:Math.min(Y,yt),max:Math.max(Y,yt)}),q=!0}}),q&&p(m,"selection",V,function(nt){m.zoom(h(nt,A?{animation:!1}:null))})),x(m.index)&&(this.selectionMarker=this.selectionMarker.destroy()),A&&this.scaleGroups()}m&&x(m.index)&&(E(m.container,{cursor:m._cursor}),m.cancelClick=10<this.hasDragged,m.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},k.prototype.findNearestKDPoint=function(C,O,m){var A;return C.forEach(function(P){var D=!(P.noSharedTooltip&&O)&&0>P.options.findNearestPointBy.indexOf("y");if(P=P.searchPoint(m,D),(D=T(P,!0)&&P.series)&&!(D=!T(A,!0))){var f=A.dist-P.dist,o=(P.series.group&&P.series.group.zIndex)-(A.series.group&&A.series.group.zIndex);D=0<(0!=(D=A.distX-P.distX)&&O?D:0!==f?f:0!==o?o:A.series.index>P.series.index?-1:1)}D&&(A=P)}),A},k.prototype.getChartCoordinatesFromPoint=function(C,O){var m=C.series,A=m.xAxis;m=m.yAxis;var P=C.shapeArgs;if(A&&m){var D=u(C.clientX,C.plotX),f=C.plotY||0;return C.isNode&&P&&x(P.x)&&x(P.y)&&(D=P.x,f=P.y),O?{chartX:m.len+m.pos-f,chartY:A.len+A.pos-D}:{chartX:D+A.pos,chartY:f+m.pos}}if(P&&P.x&&P.y)return{chartX:P.x,chartY:P.y}},k.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var C=this.chart.container,O=I(C);this.chartPosition={left:O.left,top:O.top,scaleX:1,scaleY:1};var m=C.offsetWidth;return C=C.offsetHeight,2<m&&2<C&&(this.chartPosition.scaleX=O.width/m,this.chartPosition.scaleY=O.height/C),this.chartPosition},k.prototype.getCoordinates=function(C){var O={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(m){O[m.isXAxis?"xAxis":"yAxis"].push({axis:m,value:m.toValue(C[m.horiz?"chartX":"chartY"])})}),O},k.prototype.getHoverData=function(C,O,m,A,P,D){var f=[];A=!(!A||!C);var o=function(nt){return nt.visible&&!(!P&&nt.directTouch)&&u(nt.options.enableMouseTracking,!0)},B={chartX:D?D.chartX:void 0,chartY:D?D.chartY:void 0,shared:P};p(this,"beforeGetHoverData",B);var V=O&&!O.stickyTracking?[O]:m.filter(function(nt){return nt.stickyTracking&&(B.filter||o)(nt)}),q=A||!D?C:this.findNearestKDPoint(V,P,D);return O=q&&q.series,q&&(P&&!O.noSharedTooltip?(V=m.filter(function(nt){return B.filter?B.filter(nt):o(nt)&&!nt.noSharedTooltip})).forEach(function(nt){var yt=l(nt.points,function(ut){return ut.x===q.x&&!ut.isNull});T(yt)&&(nt.boosted&&nt.boost&&(yt=nt.boost.getPoint(yt)),f.push(yt))}):f.push(q)),p(this,"afterGetHoverData",B={hoverPoint:q}),{hoverPoint:B.hoverPoint,hoverSeries:O,hoverPoints:f}},k.prototype.getPointFromEvent=function(C){C=C.target;for(var O;C&&!O;)O=C.point,C=C.parentNode;return O},k.prototype.onTrackerMouseOut=function(C){C=C.relatedTarget||C.toElement;var O=this.chart.hoverSeries;this.isDirectTouch=!1,!O||!C||O.stickyTracking||this.inClass(C,"highcharts-tooltip")||this.inClass(C,"highcharts-series-"+O.index)&&this.inClass(C,"highcharts-tracker")||O.onMouseOut()},k.prototype.inClass=function(C,O){for(var m;C;){if(m=R(C,"class")){if(-1!==m.indexOf(O))return!0;if(-1!==m.indexOf("highcharts-container"))return!1}C=C.parentElement}},k.prototype.init=function(C,O){this.options=O,this.chart=C,this.runChartClick=!(!O.chart.events||!O.chart.events.click),this.pinchDown=[],this.lastValidTouch={},S&&(C.tooltip=new S(C,O.tooltip)),this.setDOMEvents()},k.prototype.normalize=function(C,O){var m=C.touches,A=m?m.length?m.item(0):u(m.changedTouches,C.changedTouches)[0]:C;return O||(O=this.getChartPosition()),m=A.pageX-O.left,A=A.pageY-O.top,m/=O.scaleX,A/=O.scaleY,h(C,{chartX:Math.round(m),chartY:Math.round(A)})},k.prototype.onContainerClick=function(C){var O=this.chart,m=O.hoverPoint;C=this.normalize(C);var A=O.plotLeft,P=O.plotTop;O.cancelClick||(m&&this.inClass(C.target,"highcharts-tracker")?(p(m.series,"click",h(C,{point:m})),O.hoverPoint&&m.firePointEvent("click",C)):(h(C,this.getCoordinates(C)),O.isInsidePlot(C.chartX-A,C.chartY-P,{visiblePlotOnly:!0})&&p(O,"click",C)))},k.prototype.onContainerMouseDown=function(C){var O=1==(1&(C.buttons||C.button));C=this.normalize(C),c.isFirefox&&0!==C.button&&this.onContainerMouseMove(C),(typeof C.button>"u"||O)&&(this.zoomOption(C),O&&C.preventDefault&&C.preventDefault(),this.dragStart(C))},k.prototype.onContainerMouseLeave=function(C){var O=G[u(k.hoverChartIndex,-1)],m=this.chart.tooltip;C=this.normalize(C),O&&(C.relatedTarget||C.toElement)&&(O.pointer.reset(),O.pointer.chartPosition=void 0),m&&!m.isHidden&&this.reset()},k.prototype.onContainerMouseEnter=function(C){delete this.chartPosition},k.prototype.onContainerMouseMove=function(C){var O=this.chart,m=O.tooltip;C=this.normalize(C),this.setHoverChartIndex(),C.preventDefault||(C.returnValue=!1),("mousedown"===O.mouseIsDown||this.touchSelect(C))&&this.drag(C),O.openMenu||!this.inClass(C.target,"highcharts-tracker")&&!O.isInsidePlot(C.chartX-O.plotLeft,C.chartY-O.plotTop,{visiblePlotOnly:!0})||m&&m.shouldStickOnContact(C)||(this.inClass(C.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(C))},k.prototype.onDocumentTouchEnd=function(C){var O=G[u(k.hoverChartIndex,-1)];O&&O.pointer.drop(C)},k.prototype.onContainerTouchMove=function(C){this.touchSelect(C)?this.onContainerMouseMove(C):this.touch(C)},k.prototype.onContainerTouchStart=function(C){this.touchSelect(C)?this.onContainerMouseDown(C):(this.zoomOption(C),this.touch(C,!0))},k.prototype.onDocumentMouseMove=function(C){var O=this.chart,m=O.tooltip,A=this.chartPosition;C=this.normalize(C,A),!A||O.isInsidePlot(C.chartX-O.plotLeft,C.chartY-O.plotTop,{visiblePlotOnly:!0})||m&&m.shouldStickOnContact(C)||this.inClass(C.target,"highcharts-tracker")||this.reset()},k.prototype.onDocumentMouseUp=function(C){var O=G[u(k.hoverChartIndex,-1)];O&&O.pointer.drop(C)},k.prototype.pinch=function(C){var O=this,m=O.chart,A=O.pinchDown,P=C.touches||[],D=P.length,f=O.lastValidTouch,o=O.hasZoom,B={},V=1===D&&(O.inClass(C.target,"highcharts-tracker")&&m.runTrackerClick||O.runChartClick),q={},nt=O.chart.tooltip;nt=1===D&&u(nt&&nt.options.followTouchMove,!0);var yt=O.selectionMarker;1<D?O.initiated=!0:nt&&(O.initiated=!1),o&&O.initiated&&!V&&!1!==C.cancelable&&C.preventDefault(),[].map.call(P,function(ut){return O.normalize(ut)}),"touchstart"===C.type?([].forEach.call(P,function(ut,Y){A[Y]={chartX:ut.chartX,chartY:ut.chartY}}),f.x=[A[0].chartX,A[1]&&A[1].chartX],f.y=[A[0].chartY,A[1]&&A[1].chartY],m.axes.forEach(function(ut){if(ut.zoomEnabled){var Y=m.bounds[ut.horiz?"h":"v"],tt=ut.minPixelPadding,wt=ut.toPixels(Math.min(u(ut.options.min,ut.dataMin),ut.dataMin)),St=ut.toPixels(Math.max(u(ut.options.max,ut.dataMax),ut.dataMax)),At=Math.max(wt,St);Y.min=Math.min(ut.pos,Math.min(wt,St)-tt),Y.max=Math.max(ut.pos+ut.len,At+tt)}}),O.res=!0):nt?this.runPointActions(O.normalize(C)):A.length&&(p(m,"touchpan",{originalEvent:C},function(){yt||(O.selectionMarker=yt=h({destroy:X,touch:!0},m.plotBox)),O.pinchTranslate(A,P,B,yt,q,f),O.hasPinched=o,O.scaleGroups(B,q)}),O.res&&(O.res=!1,this.reset(!1,0)))},k.prototype.pinchTranslate=function(C,O,m,A,P,D){this.zoomHor&&this.pinchTranslateDirection(!0,C,O,m,A,P,D),this.zoomVert&&this.pinchTranslateDirection(!1,C,O,m,A,P,D)},k.prototype.pinchTranslateDirection=function(C,O,m,A,P,D,f,o){var B=this.chart,V=C?"x":"y",q=C?"X":"Y",nt="chart"+q,yt=C?"width":"height",ut=B["plot"+(C?"Left":"Top")],Y=B.inverted,tt=B.bounds[C?"h":"v"],wt=1===O.length,St=O[0][nt],At=!wt&&O[1][nt];O=function(){"number"==typeof Ct&&20<Math.abs(St-At)&&(dt=o||Math.abs(Lt-Ct)/Math.abs(St-At)),mt=(ut-Lt)/dt+St,ht=B["plot"+(C?"Width":"Height")]/dt};var ht,mt,dt=o||1,Lt=m[0][nt],Ct=!wt&&m[1][nt];if(O(),(m=mt)<tt.min){m=tt.min;var vt=!0}else m+ht>tt.max&&(m=tt.max-ht,vt=!0);vt?(Lt-=.8*(Lt-f[V][0]),"number"==typeof Ct&&(Ct-=.8*(Ct-f[V][1])),O()):f[V]=[Lt,Ct],Y||(D[V]=mt-ut,D[yt]=ht),D=Y?1/dt:dt,P[yt]=ht,P[V]=m,A[Y?C?"scaleY":"scaleX":"scale"+q]=dt,A["translate"+q]=D*ut+(Lt-D*St)},k.prototype.reset=function(C,O){var m=this.chart,A=m.hoverSeries,P=m.hoverPoint,D=m.hoverPoints,f=m.tooltip,o=f&&f.shared?D:P;C&&o&&n(o).forEach(function(B){B.series.isCartesian&&typeof B.plotX>"u"&&(C=!1)}),C?f&&o&&n(o).length&&(f.refresh(o),f.shared&&D?D.forEach(function(B){B.setState(B.state,!0),B.series.isCartesian&&(B.series.xAxis.crosshair&&B.series.xAxis.drawCrosshair(null,B),B.series.yAxis.crosshair&&B.series.yAxis.drawCrosshair(null,B))}):P&&(P.setState(P.state,!0),m.axes.forEach(function(B){B.crosshair&&P.series[B.coll]===B&&B.drawCrosshair(null,P)}))):(P&&P.onMouseOut(),D&&D.forEach(function(B){B.setState()}),A&&A.onMouseOut(),f&&f.hide(O),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),m.axes.forEach(function(B){B.hideCrosshair()}),this.hoverX=m.hoverPoints=m.hoverPoint=null)},k.prototype.runPointActions=function(C,O,m){var A=this.chart,P=A.tooltip&&A.tooltip.options.enabled?A.tooltip:void 0,D=!!P&&P.shared,f=O||A.hoverPoint,o=f&&f.series||A.hoverSeries;O=this.getHoverData(f,o,A.series,(!C||"touchmove"!==C.type)&&(!!O||o&&o.directTouch&&this.isDirectTouch),D,C),f=O.hoverPoint;var B=O.hoverPoints;O=(o=O.hoverSeries)&&o.tooltipOptions.followPointer&&!o.tooltipOptions.split;var V=D&&o&&!o.noSharedTooltip;if(f&&(m||f!==A.hoverPoint||P&&P.isHidden)){if((A.hoverPoints||[]).forEach(function(q){-1===B.indexOf(q)&&q.setState()}),A.hoverSeries!==o&&o.onMouseOver(),this.applyInactiveState(B),(B||[]).forEach(function(q){q.setState("hover")}),A.hoverPoint&&A.hoverPoint.firePointEvent("mouseOut"),!f.series)return;A.hoverPoints=B,A.hoverPoint=f,f.firePointEvent("mouseOver",void 0,function(){P&&f&&P.refresh(V?B:f,C)})}else O&&P&&!P.isHidden&&(m=P.getAnchor([{}],C),A.isInsidePlot(m[0],m[1],{visiblePlotOnly:!0})&&P.updatePosition({plotX:m[0],plotY:m[1]}));this.unDocMouseMove||(this.unDocMouseMove=F(A.container.ownerDocument,"mousemove",function(q){var nt=G[k.hoverChartIndex];nt&&nt.pointer.onDocumentMouseMove(q)}),this.eventsToUnbind.push(this.unDocMouseMove)),A.axes.forEach(function(q){var yt,nt=u((q.crosshair||{}).snap,!0);nt&&((yt=A.hoverPoint)&&yt.series[q.coll]===q||(yt=l(B,function(ut){return ut.series&&ut.series[q.coll]===q}))),yt||!nt?q.drawCrosshair(C,yt):q.hideCrosshair()})},k.prototype.scaleGroups=function(C,O){var m=this.chart;m.series.forEach(function(A){var P=C||A.getPlotBox();A.group&&(A.xAxis&&A.xAxis.zoomEnabled||m.mapView)&&(A.group.attr(P),A.markerGroup&&(A.markerGroup.attr(P),A.markerGroup.clip(O?m.clipRect:null)),A.dataLabelsGroup&&A.dataLabelsGroup.attr(P))}),m.clipRect.attr(O||m.clipBox)},k.prototype.setDOMEvents=function(){var C=this,O=this.chart.container,m=O.ownerDocument;O.onmousedown=this.onContainerMouseDown.bind(this),O.onmousemove=this.onContainerMouseMove.bind(this),O.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(F(O,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(F(O,"mouseleave",this.onContainerMouseLeave.bind(this))),k.unbindDocumentMouseUp||(k.unbindDocumentMouseUp=F(m,"mouseup",this.onDocumentMouseUp.bind(this)));for(var A=this.chart.renderTo.parentElement;A&&"BODY"!==A.tagName;)this.eventsToUnbind.push(F(A,"scroll",function(){delete C.chartPosition})),A=A.parentElement;c.hasTouch&&(this.eventsToUnbind.push(F(O,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(F(O,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),k.unbindDocumentTouchEnd||(k.unbindDocumentTouchEnd=F(m,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},k.prototype.setHoverChartIndex=function(){var C=this.chart,O=c.charts[u(k.hoverChartIndex,-1)];O&&O!==C&&O.pointer.onContainerMouseLeave({relatedTarget:C.container}),O&&O.mouseIsDown||(k.hoverChartIndex=C.index)},k.prototype.touch=function(C,O){var m=this.chart;if(this.setHoverChartIndex(),1===C.touches.length)if(C=this.normalize(C),m.isInsidePlot(C.chartX-m.plotLeft,C.chartY-m.plotTop,{visiblePlotOnly:!0})&&!m.openMenu){if(O&&this.runPointActions(C),"touchmove"===C.type)var P=!!(O=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(O[0].chartX-C.chartX,2)+Math.pow(O[0].chartY-C.chartY,2));u(P,!0)&&this.pinch(C)}else O&&this.reset();else 2===C.touches.length&&this.pinch(C)},k.prototype.touchSelect=function(C){return!(!this.chart.options.chart.zooming.singleTouch||!C.touches||1!==C.touches.length)},k.prototype.zoomOption=function(C){var O=this.chart,m=O.options.chart;O=O.inverted;var A=m.zooming.type||"";/touch/.test(C.type)&&(A=u(m.zooming.pinchType,A)),this.zoomX=C=/x/.test(A),this.zoomY=m=/y/.test(A),this.zoomHor=C&&!O||m&&O,this.zoomVert=m&&!O||C&&O,this.hasZoom=C||m},k}()}),e(i,"Core/MSPointer.js",[i["Core/Globals.js"],i["Core/Pointer.js"],i["Core/Utilities.js"]],function(s,c,S){function M(){var I=[];return I.item=function(u){return this[u]},l(T,function(u){I.push({pageX:u.pageX,pageY:u.pageY,target:u.target})}),I}function U(I,u,n,k){var C=X[c.hoverChartIndex||NaN];"touch"!==I.pointerType&&I.pointerType!==I.MSPOINTER_TYPE_TOUCH||!C||(C=C.pointer,k(I),C[u]({type:n,target:I.currentTarget,preventDefault:R,touches:M()}))}var I,G=this&&this.__extends||(I=function(u,n){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,C){k.__proto__=C}||function(k,C){for(var O in C)C.hasOwnProperty(O)&&(k[O]=C[O])})(u,n)},function(u,n){function k(){this.constructor=u}I(u,n),u.prototype=null===n?Object.create(n):(k.prototype=n.prototype,new k)}),X=s.charts,F=s.doc,R=s.noop,E=s.win,a=S.addEvent,h=S.css,l=S.objectEach,p=S.pick,x=S.removeEvent,T={},b=!!E.PointerEvent;return function(I){function u(){return null!==I&&I.apply(this,arguments)||this}return G(u,I),u.isRequired=function(){return!(s.hasTouch||!E.PointerEvent&&!E.MSPointerEvent)},u.prototype.batchMSEvents=function(n){n(this.chart.container,b?"pointerdown":"MSPointerDown",this.onContainerPointerDown),n(this.chart.container,b?"pointermove":"MSPointerMove",this.onContainerPointerMove),n(F,b?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},u.prototype.destroy=function(){this.batchMSEvents(x),I.prototype.destroy.call(this)},u.prototype.init=function(n,k){I.prototype.init.call(this,n,k),this.hasZoom&&h(n.container,{"-ms-touch-action":"none","touch-action":"none"})},u.prototype.onContainerPointerDown=function(n){U(n,"onContainerTouchStart","touchstart",function(k){T[k.pointerId]={pageX:k.pageX,pageY:k.pageY,target:k.currentTarget}})},u.prototype.onContainerPointerMove=function(n){U(n,"onContainerTouchMove","touchmove",function(k){T[k.pointerId]={pageX:k.pageX,pageY:k.pageY},T[k.pointerId].target||(T[k.pointerId].target=k.currentTarget)})},u.prototype.onDocumentPointerUp=function(n){U(n,"onDocumentTouchEnd","touchend",function(k){delete T[k.pointerId]})},u.prototype.setDOMEvents=function(){var n=this.chart.tooltip;I.prototype.setDOMEvents.call(this),(this.hasZoom||p(n&&n.options.followTouchMove,!0))&&this.batchMSEvents(a)},u}(c)}),e(i,"Core/Legend/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Series/Point.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Utilities.js"]],function(s,c,S,M,U,G){var X=s.animObject,F=s.setAnimation,R=c.format,E=S.marginNames,a=U.distribute,h=G.addEvent,l=G.createElement,p=G.css,x=G.defined,T=G.discardElement,b=G.find,I=G.fireEvent,u=G.isNumber,n=G.merge,k=G.pick,C=G.relativeLength,O=G.stableSort,m=G.syncTimeout;return function(){function A(P,D){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=P,this.init(P,D)}return A.prototype.init=function(P,D){this.chart=P,this.setOptions(D),D.enabled&&(this.render(),h(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=h(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},A.prototype.setOptions=function(P){var D=k(P.padding,8);this.options=P,this.chart.styledMode||(this.itemStyle=P.itemStyle,this.itemHiddenStyle=n(this.itemStyle,P.itemHiddenStyle)),this.itemMarginTop=P.itemMarginTop||0,this.itemMarginBottom=P.itemMarginBottom||0,this.padding=D,this.initialItemY=D-5,this.symbolWidth=k(P.symbolWidth,16),this.pages=[],this.proximate="proximate"===P.layout&&!this.chart.inverted,this.baseline=void 0},A.prototype.update=function(P,D){var f=this.chart;this.setOptions(n(!0,this.options,P)),this.destroy(),f.isDirtyLegend=f.isDirtyBox=!0,k(D,!0)&&f.redraw(),I(this,"afterUpdate")},A.prototype.colorizeItem=function(P,D){var f=P.legendItem||{},o=f.group,B=f.label,V=f.line;if(f=f.symbol,o&&o[D?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var q=this.options;o=this.itemHiddenStyle.color,q=D?q.itemStyle.color:o;var nt=D&&P.color||o,yt=P.options&&P.options.marker,ut={fill:nt};B&&B.css({fill:q,color:q}),V&&V.attr({stroke:nt}),f&&(yt&&f.isMarker&&(ut=P.pointAttribs(),D||(ut.stroke=ut.fill=o)),f.attr(ut))}I(this,"afterColorizeItem",{item:P,visible:D})},A.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},A.prototype.positionItem=function(P){var D=this,f=P.legendItem||{},o=f.group,B=f.x;B=void 0===B?0:B,f=void 0===(f=f.y)?0:f;var V=this.options,q=V.symbolPadding,nt=!V.rtl;V=P.checkbox,o&&o.element&&(q={translateX:nt?B:this.legendWidth-B-2*q-4,translateY:f},o[x(o.translateY)?"animate":"attr"](q,void 0,function(){I(D,"afterPositionItem",{item:P})})),V&&(V.x=B,V.y=f)},A.prototype.destroyItem=function(P){for(var D=P.checkbox,f=P.legendItem||{},o=0,B=["group","label","line","symbol"];o<B.length;o++){var V=B[o];f[V]&&(f[V]=f[V].destroy())}D&&T(D),P.legendItem=void 0},A.prototype.destroy=function(){for(var P=0,D=this.getAllItems();P<D.length;P++)this.destroyItem(D[P]);for(P=0,D="clipRect up down pager nav box title group".split(" ");P<D.length;P++){var f=D[P];this[f]&&(this[f]=this[f].destroy())}this.display=null},A.prototype.positionCheckboxes=function(){var P=this.group&&this.group.alignAttr,D=this.clipHeight||this.legendHeight,f=this.titleHeight;if(P){var o=P.translateY;this.allItems.forEach(function(B){var V=B.checkbox;if(V){var q=o+f+V.y+(this.scrollOffset||0)+3;p(V,{left:P.translateX+B.checkboxOffset+V.x-20+"px",top:q+"px",display:this.proximate||q>o-6&&q<o+D-6?"":"none"})}},this)}},A.prototype.renderTitle=function(){var P=this.options,D=this.padding,f=P.title,o=0;f.text&&(this.title||(this.title=this.chart.renderer.label(f.text,D-3,D-4,void 0,void 0,void 0,P.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(f.style),this.title.add(this.group)),f.width||this.title.css({width:this.maxLegendWidth+"px"}),o=(P=this.title.getBBox()).height,this.offsetWidth=P.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o},A.prototype.setText=function(P){var D=this.options;P.legendItem.label.attr({text:D.labelFormat?R(D.labelFormat,P,this.chart):D.labelFormatter.call(P)})},A.prototype.renderItem=function(P){var D=P.legendItem=P.legendItem||{},f=this.chart,o=f.renderer,B=this.options,V=this.symbolWidth,q=B.symbolPadding||0,nt=this.itemStyle,yt=this.itemHiddenStyle,ut="horizontal"===B.layout?k(B.itemDistance,20):0,Y=!B.rtl,tt=!P.series,wt=!tt&&P.series.drawLegendSymbol?P.series:P,St=wt.options,At=this.createCheckboxForItem&&St&&St.showCheckbox,ht=B.useHTML,mt=P.options.className,dt=D.label;St=V+q+ut+(At?20:0),dt||(D.group=o.g("legend-item").addClass("highcharts-"+wt.type+"-series highcharts-color-"+P.colorIndex+(mt?" "+mt:"")+(tt?" highcharts-series-"+P.index:"")).attr({zIndex:1}).add(this.scrollGroup),D.label=dt=o.text("",Y?V+q:-q,this.baseline||0,ht),f.styledMode||dt.css(n(P.visible?nt:yt)),dt.attr({align:Y?"left":"right",zIndex:2}).add(D.group),this.baseline||(this.fontMetrics=o.fontMetrics(f.styledMode?12:nt.fontSize,dt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,dt.attr("y",this.baseline),this.symbolHeight=B.symbolHeight||this.fontMetrics.f,B.squareSymbol&&(this.symbolWidth=k(B.symbolWidth,Math.max(this.symbolHeight,16)),St=this.symbolWidth+q+ut+(At?20:0),Y&&dt.attr("x",this.symbolWidth+q))),wt.drawLegendSymbol(this,P),this.setItemEvents&&this.setItemEvents(P,dt,ht)),At&&!P.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(P),this.colorizeItem(P,P.visible),!f.styledMode&&nt.width||dt.css({width:(B.itemWidth||this.widthOption||f.spacingBox.width)-St+"px"}),this.setText(P),f=dt.getBBox(),o=this.fontMetrics&&this.fontMetrics.h||0,P.itemWidth=P.checkboxOffset=B.itemWidth||D.labelWidth||f.width+St,this.maxItemWidth=Math.max(this.maxItemWidth,P.itemWidth),this.totalItemWidth+=P.itemWidth,this.itemHeight=P.itemHeight=Math.round(D.labelHeight||(f.height>1.5*o?f.height:o))},A.prototype.layoutItem=function(P){var D=this.options,f=this.padding,o="horizontal"===D.layout,B=P.itemHeight,V=this.itemMarginBottom,q=this.itemMarginTop,nt=o?k(D.itemDistance,20):0,yt=this.maxLegendWidth;D=D.alignColumns&&this.totalItemWidth>yt?this.maxItemWidth:P.itemWidth;var ut=P.legendItem||{};o&&this.itemX-f+D>yt&&(this.itemX=f,this.lastLineHeight&&(this.itemY+=q+this.lastLineHeight+V),this.lastLineHeight=0),this.lastItemY=q+this.itemY+V,this.lastLineHeight=Math.max(B,this.lastLineHeight),ut.x=this.itemX,ut.y=this.itemY,o?this.itemX+=D:(this.itemY+=q+B+V,this.lastLineHeight=B),this.offsetWidth=this.widthOption||Math.max((o?this.itemX-f-(P.checkbox?0:nt):D)+f,this.offsetWidth)},A.prototype.getAllItems=function(){var P=[];return this.chart.series.forEach(function(D){var f=D&&D.options;D&&k(f.showInLegend,!x(f.linkedTo)&&void 0,!0)&&(P=P.concat((D.legendItem||{}).labels||("point"===f.legendType?D.data:D)))}),I(this,"afterGetAllItems",{allItems:P}),P},A.prototype.getAlignment=function(){var P=this.options;return this.proximate?P.align.charAt(0)+"tv":P.floating?"":P.align.charAt(0)+P.verticalAlign.charAt(0)+P.layout.charAt(0)},A.prototype.adjustMargins=function(P,D){var f=this.chart,o=this.options,B=this.getAlignment();B&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(V,q){V.test(B)&&!x(P[q])&&(f[E[q]]=Math.max(f[E[q]],f.legend[(q+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][q]*o[q%2?"x":"y"]+k(o.margin,12)+D[q]+(f.titleOffset[q]||0)))})},A.prototype.proximatePositions=function(){var P=this.chart,D=[],f="left"===this.options.align;this.allItems.forEach(function(nt){var yt,ut=f;if(nt.yAxis){nt.xAxis.options.reversed&&(ut=!ut),nt.points&&(yt=b(ut?nt.points:nt.points.slice(0).reverse(),function(tt){return u(tt.plotY)})),ut=this.itemMarginTop+nt.legendItem.label.getBBox().height+this.itemMarginBottom;var Y=nt.yAxis.top-P.plotTop;nt.visible?(yt=yt?yt.plotY:nt.yAxis.height,yt+=Y-.3*ut):yt=Y+nt.yAxis.height,D.push({target:yt,size:ut,item:nt})}},this);for(var o,B=0,V=a(D,P.plotHeight);B<V.length;B++){var q=V[B];o=q.item.legendItem||{},u(q.pos)&&(o.y=P.plotTop-P.spacing[0]+q.pos)}},A.prototype.render=function(){var P=this.chart,D=P.renderer,f=this.options,o=this.padding,B=this.getAllItems(),V=this.group,q=this.box;this.itemX=o,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=C(f.width,P.spacingBox.width-o);var nt=P.spacingBox.width-2*o-f.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(nt/=2),this.maxLegendWidth=this.widthOption||nt,V||(this.group=V=D.g("legend").addClass(f.className||"").attr({zIndex:7}).add(),this.contentGroup=D.g().attr({zIndex:1}).add(V),this.scrollGroup=D.g().add(this.contentGroup)),this.renderTitle(),O(B,function(ut,Y){return(ut.options&&ut.options.legendIndex||0)-(Y.options&&Y.options.legendIndex||0)}),f.reversed&&B.reverse(),this.allItems=B,this.display=nt=!!B.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,B.forEach(this.renderItem,this),B.forEach(this.layoutItem,this),B=(this.widthOption||this.offsetWidth)+o;var yt=this.lastItemY+this.lastLineHeight+this.titleHeight;yt=this.handleOverflow(yt),yt+=o,q||(this.box=q=D.rect().addClass("highcharts-legend-box").attr({r:f.borderRadius}).add(V)),P.styledMode||q.attr({stroke:f.borderColor,"stroke-width":f.borderWidth||0,fill:f.backgroundColor||"none"}).shadow(f.shadow),0<B&&0<yt&&q[q.placed?"animate":"attr"](q.crisp.call({},{x:0,y:0,width:B,height:yt},q.strokeWidth())),V[nt?"show":"hide"](),P.styledMode&&"none"===V.getStyle("display")&&(B=yt=0),this.legendWidth=B,this.legendHeight=yt,nt&&this.align(),this.proximate||this.positionItems(),I(this,"afterRender")},A.prototype.align=function(P){void 0===P&&(P=this.chart.spacingBox);var D=this.chart,f=this.options,o=P.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<D.titleOffset[0]?o+=D.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<D.titleOffset[2]&&(o-=D.titleOffset[2]),o!==P.y&&(P=n(P,{y:o})),D.hasRendered||(this.group.placed=!1),this.group.align(n(f,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":f.verticalAlign}),!0,P)},A.prototype.handleOverflow=function(P){var mt,dt,Lt,D=this,f=this.chart,o=f.renderer,B=this.options,V=B.y,q="top"===B.verticalAlign,nt=this.padding,yt=B.maxHeight,ut=B.navigation,Y=k(ut.animation,!0),tt=ut.arrowSize||12,wt=this.pages,St=this.allItems,At=function(kt){"number"==typeof kt?vt.attr({height:kt}):vt&&(D.clipRect=vt.destroy(),D.contentGroup.clip()),D.contentGroup.div&&(D.contentGroup.div.style.clip=kt?"rect("+nt+"px,9999px,"+(nt+kt)+"px,0)":"auto")},ht=function(kt){return D[kt]=o.circle(0,0,1.3*tt).translate(tt/2,tt/2).add(Ct),f.styledMode||D[kt].attr("fill","rgba(0,0,0,0.0001)"),D[kt]};V=f.spacingBox.height+(q?-V:V)-nt;var Ct=this.nav,vt=this.clipRect;return"horizontal"!==B.layout||"middle"===B.verticalAlign||B.floating||(V/=2),yt&&(V=Math.min(V,yt)),wt.length=0,P&&0<V&&P>V&&!1!==ut.enabled?(this.clipHeight=mt=Math.max(V-20-this.titleHeight-nt,0),this.currentPage=k(this.currentPage,1),this.fullHeight=P,St.forEach(function(kt,Rt){kt=(Lt=kt.legendItem||{}).y||0;var Xt=Math.round(Lt.label.getBBox().height),Ft=wt.length;(!Ft||kt-wt[Ft-1]>mt&&(dt||kt)!==wt[Ft-1])&&(wt.push(dt||kt),Ft++),Lt.pageIx=Ft-1,dt&&((St[Rt-1].legendItem||{}).pageIx=Ft-1),Rt===St.length-1&&kt+Xt-wt[Ft-1]>mt&&Xt<=mt&&(wt.push(kt),Lt.pageIx=Ft),kt!==dt&&(dt=kt)}),vt||(vt=D.clipRect=o.clipRect(0,nt,9999,0),D.contentGroup.clip(vt)),At(mt),Ct||(this.nav=Ct=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,tt,tt).add(Ct),ht("upTracker").on("click",function(){D.scroll(-1,Y)}),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),!f.styledMode&&ut.style&&this.pager.css(ut.style),this.pager.add(Ct),this.down=o.symbol("triangle-down",0,0,tt,tt).add(Ct),ht("downTracker").on("click",function(){D.scroll(1,Y)})),D.scroll(0),P=V):Ct&&(At(),this.nav=Ct.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),P},A.prototype.scroll=function(P,D){var f=this,o=this.chart,B=this.pages,V=B.length,q=this.clipHeight,nt=this.options.navigation,yt=this.pager,ut=this.padding,Y=this.currentPage+P;Y>V&&(Y=V),0<Y&&(typeof D<"u"&&F(D,o),this.nav.attr({translateX:ut,translateY:q+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(tt){tt.attr({class:1===Y?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),yt.attr({text:Y+"/"+V}),[this.down,this.downTracker].forEach(function(tt){tt.attr({x:18+this.pager.getBBox().width,class:Y===V?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),o.styledMode||(this.up.attr({fill:1===Y?nt.inactiveColor:nt.activeColor}),this.upTracker.css({cursor:1===Y?"default":"pointer"}),this.down.attr({fill:Y===V?nt.inactiveColor:nt.activeColor}),this.downTracker.css({cursor:Y===V?"default":"pointer"})),this.scrollOffset=-B[Y-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Y,this.positionCheckboxes(),P=X(k(D,o.renderer.globalAnimation,!0)),m(function(){I(f,"afterScroll",{currentPage:Y})},P.duration))},A.prototype.setItemEvents=function(P,D,f){var o=this,B=P.legendItem||{},V=o.chart.renderer.boxWrapper,q=P instanceof M,nt="highcharts-legend-"+(q?"point":"series")+"-active",yt=o.chart.styledMode,ut=function(tt){o.allItems.forEach(function(wt){P!==wt&&[wt].concat(wt.linkedSeries||[]).forEach(function(St){St.setState(tt,!q)})})},Y=0;for(f=f?[D,B.symbol]:[B.group];Y<f.length;Y++)(B=f[Y])&&B.on("mouseover",function(){P.visible&&ut("inactive"),P.setState("hover"),P.visible&&V.addClass(nt),yt||D.css(o.options.itemHoverStyle)}).on("mouseout",function(){o.chart.styledMode||D.css(n(P.visible?o.itemStyle:o.itemHiddenStyle)),ut(""),V.removeClass(nt),P.setState()}).on("click",function(tt){var wt=function(){P.setVisible&&P.setVisible(),ut(P.visible?"inactive":"")};V.removeClass(nt),tt={browserEvent:tt},P.firePointEvent?P.firePointEvent("legendItemClick",tt,wt):I(P,"legendItemClick",tt,wt)})},A.prototype.createCheckboxForItem=function(P){P.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:P.selected,defaultChecked:P.selected},this.options.itemCheckboxStyle,this.chart.container),h(P.checkbox,"click",function(D){I(P.series||P,"checkboxClick",{checked:D.target.checked,item:P},function(){P.select()})})},A}()}),e(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/Defaults.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(s,c,S,M){var F,U=c.defaultOptions,G=M.extendClass,X=M.merge;return function(R){function E(a,h){var l=U.plotOptions||{},p=h.defaultOptions,x=h.prototype;x.type=a,x.pointClass||(x.pointClass=S),p&&(l[a]=p),R.seriesTypes[a]=h}R.seriesTypes=s.seriesTypes,R.registerSeriesType=E,R.seriesType=function(a,h,l,p,x){var T=U.plotOptions||{};return T[a]=X(T[h=h||""],l),E(a,G(R.seriesTypes[h]||function(){},p)),R.seriesTypes[a].prototype.type=a,x&&(R.seriesTypes[a].prototype.pointClass=G(S,x)),R.seriesTypes[a]}}(F||(F={})),F}),e(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/Legend.js"],i["Core/MSPointer.js"],i["Core/Pointer.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"]],function(s,c,S,M,U,G,X,F,R,E,a,h,l,p,x){var T=s.animate,b=s.animObject,I=s.setAnimation,u=S.defaultOptions,n=S.defaultTime,k=M.numberFormat,C=U.registerEventOptions,O=G.charts,m=G.doc,A=G.marginNames,P=G.svg,D=G.win,f=a.seriesTypes,o=p.addEvent,B=p.attr,V=p.cleanRecursively,q=p.createElement,nt=p.css,yt=p.defined,ut=p.discardElement,Y=p.erase,tt=p.error,wt=p.extend,St=p.find,At=p.fireEvent,ht=p.getStyle,mt=p.isArray,dt=p.isNumber,Lt=p.isObject,Ct=p.isString,vt=p.merge,kt=p.objectEach,Rt=p.pick,Xt=p.pInt,Ft=p.relativeLength,qt=p.removeEvent,ae=p.splat,te=p.syncTimeout,de=p.uniqueKey;return s=function(){function re(Ut,Vt,ue){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Ut,Vt,ue)}return re.chart=function(Ut,Vt,ue){return new re(Ut,Vt,ue)},re.prototype.getArgs=function(Ut,Vt,ue){Ct(Ut)||Ut.nodeName?(this.renderTo=Ut,this.init(Vt,ue)):this.init(Ut,Vt)},re.prototype.init=function(Ut,Vt){var ue=Ut.plotOptions||{};At(this,"init",{args:arguments},function(){var me=vt(u,Ut),ve=me.chart;kt(me.plotOptions,function(We,$e){Lt(We)&&(We.tooltip=ue[$e]&&vt(ue[$e].tooltip)||void 0)}),me.tooltip.userOptions=Ut.chart&&Ut.chart.forExport&&Ut.tooltip.userOptions||Ut.tooltip,this.userOptions=Ut,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Vt,this.isResizing=0;var le=ve.zooming=ve.zooming||{};Ut.chart&&!Ut.chart.zooming&&(le.resetButton=ve.resetZoomButton),le.key=Rt(le.key,ve.zoomKey),le.pinchType=Rt(le.pinchType,ve.pinchType),le.singleTouch=Rt(le.singleTouch,ve.zoomBySingleTouch),le.type=Rt(le.type,ve.zoomType),this.options=me,this.axes=[],this.series=[],this.time=Ut.time&&Object.keys(Ut.time).length?new l(Ut.time):G.time,this.numberFormatter=ve.numberFormatter||k,this.styledMode=ve.styledMode,this.hasCartesianSeries=ve.showAxes,this.index=O.length,O.push(this),G.chartCount++,C(this,ve),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,At(this,"afterInit"),this.firstRender()})},re.prototype.initSeries=function(Ut){var Vt=this.options.chart,ue=f[Vt=Ut.type||Vt.type||Vt.defaultSeriesType];return ue||tt(17,!0,this,{missingModuleFor:Vt}),"function"==typeof(Vt=new ue).init&&Vt.init(this,Ut),Vt},re.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(Ut){Ut.points||Ut.data||!Ut.enabledDataSorting||Ut.setData(Ut.options.data,!1)})},re.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(Ut,Vt){return Ut.linkedSeries.length||Vt.linkedSeries.length?Vt.linkedSeries.length-Ut.linkedSeries.length:0})},re.prototype.orderSeries=function(Ut){var Vt=this.series;Ut=Ut||0;for(var ue=Vt.length;Ut<ue;++Ut)Vt[Ut]&&(Vt[Ut].index=Ut,Vt[Ut].name=Vt[Ut].getName())},re.prototype.isInsidePlot=function(Ut,Vt,ue){void 0===ue&&(ue={});var me=this.inverted,ve=this.plotBox,le=this.plotLeft,We=this.plotTop,$e=this.scrollablePlotBox,Li=0,Si=0;ue.visiblePlotOnly&&this.scrollingContainer&&(Li=(Si=this.scrollingContainer).scrollLeft,Si=Si.scrollTop);var bi=ue.series;if(ve=ue.visiblePlotOnly&&$e||ve,Ut={x:$e=ue.inverted?Vt:Ut,y:Vt=ue.inverted?Ut:Vt,isInsidePlot:!0,options:ue},!ue.ignoreX){var ji=bi&&(me&&!this.polar?bi.yAxis:bi.xAxis)||{pos:le,len:1/0};($e=ue.paneCoordinates?ji.pos+$e:le+$e)>=Math.max(Li+le,ji.pos)&&$e<=Math.min(Li+le+ve.width,ji.pos+ji.len)||(Ut.isInsidePlot=!1)}return!ue.ignoreY&&Ut.isInsidePlot&&(me=ue.axis&&!ue.axis.isXAxis&&ue.axis||bi&&(me?bi.xAxis:bi.yAxis)||{pos:We,len:1/0},(ue=ue.paneCoordinates?me.pos+Vt:We+Vt)>=Math.max(Si+We,me.pos)&&ue<=Math.min(Si+We+ve.height,me.pos+me.len)||(Ut.isInsidePlot=!1)),At(this,"afterIsInsidePlot",Ut),Ut.isInsidePlot},re.prototype.redraw=function(Ut){At(this,"beforeRedraw");var Vt=this.hasCartesianSeries?this.axes:this.colorAxis||[],ue=this.series,me=this.pointer,ve=this.legend,le=this.userOptions.legend,We=this.renderer,$e=We.isHidden(),Li=[],Si=this.isDirtyBox,bi=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),I(!!this.hasRendered&&Ut,this),$e&&this.temporaryDisplay(),this.layOutTitles(),Ut=ue.length;Ut--;){var ji=ue[Ut];if(ji.options.stacking||ji.options.centerInCategory){var ui=!0;if(ji.isDirty){var Pi=!0;break}}}if(Pi)for(Ut=ue.length;Ut--;)(ji=ue[Ut]).options.stacking&&(ji.isDirty=!0);ue.forEach(function(Ai){Ai.isDirty&&("point"===Ai.options.legendType?("function"==typeof Ai.updateTotals&&Ai.updateTotals(),bi=!0):le&&(le.labelFormatter||le.labelFormat)&&(bi=!0)),Ai.isDirtyData&&At(Ai,"updatedData")}),bi&&ve&&ve.options.enabled&&(ve.render(),this.isDirtyLegend=!1),ui&&this.getStacks(),Vt.forEach(function(Ai){Ai.updateNames(),Ai.setScale()}),this.getMargins(),Vt.forEach(function(Ai){Ai.isDirty&&(Si=!0)}),Vt.forEach(function(Ai){var ke=Ai.min+","+Ai.max;Ai.extKey!==ke&&(Ai.extKey=ke,Li.push(function(){At(Ai,"afterSetExtremes",wt(Ai.eventArgs,Ai.getExtremes())),delete Ai.eventArgs})),(Si||ui)&&Ai.redraw()}),Si&&this.drawChartBox(),At(this,"predraw"),ue.forEach(function(Ai){(Si||Ai.isDirty)&&Ai.visible&&Ai.redraw(),Ai.isDirtyData=!1}),me&&me.reset(!0),We.draw(),At(this,"redraw"),At(this,"render"),$e&&this.temporaryDisplay(!0),Li.forEach(function(Ai){Ai.call()})},re.prototype.get=function(Ut){function Vt(le){return le.id===Ut||le.options&&le.options.id===Ut}for(var ue=this.series,me=St(this.axes,Vt)||St(this.series,Vt),ve=0;!me&&ve<ue.length;ve++)me=St(ue[ve].points||[],Vt);return me},re.prototype.getAxes=function(){var Ut=this,Vt=this.options,ue=Vt.xAxis=ae(Vt.xAxis||{});Vt=Vt.yAxis=ae(Vt.yAxis||{}),At(this,"getAxes"),ue.forEach(function(me,ve){me.index=ve,me.isX=!0}),Vt.forEach(function(me,ve){me.index=ve}),ue.concat(Vt).forEach(function(me){new c(Ut,me)}),At(this,"afterGetAxes")},re.prototype.getSelectedPoints=function(){return this.series.reduce(function(Ut,Vt){return Vt.getPointsCollection().forEach(function(ue){Rt(ue.selectedStaging,ue.selected)&&Ut.push(ue)}),Ut},[])},re.prototype.getSelectedSeries=function(){return this.series.filter(function(Ut){return Ut.selected})},re.prototype.setTitle=function(Ut,Vt,ue){this.applyDescription("title",Ut),this.applyDescription("subtitle",Vt),this.applyDescription("caption",void 0),this.layOutTitles(ue)},re.prototype.applyDescription=function(Ut,Vt){var ue=this,me="title"===Ut?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};me=this.options[Ut]=vt(!this.styledMode&&{style:me},this.options[Ut],Vt);var ve=this[Ut];ve&&Vt&&(this[Ut]=ve=ve.destroy()),me&&!ve&&((ve=this.renderer.text(me.text,0,0,me.useHTML).attr({align:me.align,class:"highcharts-"+Ut,zIndex:me.zIndex||4}).add()).update=function(le){ue[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Ut]](le)},this.styledMode||ve.css(me.style),this[Ut]=ve)},re.prototype.layOutTitles=function(Ut){var Vt=[0,0,0],ue=this.renderer,me=this.spacingBox;["title","subtitle","caption"].forEach(function(le){var Si,We=this[le],$e=this.options[le],Li=$e.verticalAlign||"top";if(le="title"===le?"top"===Li?-3:0:"top"===Li?Vt[0]+2:0,We){this.styledMode||(Si=$e.style&&$e.style.fontSize),Si=ue.fontMetrics(Si,We).b,We.css({width:($e.width||me.width+($e.widthAdjust||0))+"px"});var bi=Math.round(We.getBBox($e.useHTML).height);We.align(wt({y:"bottom"===Li?Si:le+Si,height:bi},$e),!1,"spacingBox"),$e.floating||("top"===Li?Vt[0]=Math.ceil(Vt[0]+bi):"bottom"===Li&&(Vt[2]=Math.ceil(Vt[2]+bi)))}},this),Vt[0]&&"top"===(this.options.title.verticalAlign||"top")&&(Vt[0]+=this.options.title.margin),Vt[2]&&"bottom"===this.options.caption.verticalAlign&&(Vt[2]+=this.options.caption.margin);var ve=!this.titleOffset||this.titleOffset.join(",")!==Vt.join(",");this.titleOffset=Vt,At(this,"afterLayOutTitles"),!this.isDirtyBox&&ve&&(this.isDirtyBox=this.isDirtyLegend=ve,this.hasRendered&&Rt(Ut,!0)&&this.isDirtyBox&&this.redraw())},re.prototype.getChartSize=function(){var Ut=this.options.chart,Vt=Ut.width;Ut=Ut.height;var ue=this.renderTo;yt(Vt)||(this.containerWidth=ht(ue,"width")),yt(Ut)||(this.containerHeight=ht(ue,"height")),this.chartWidth=Math.max(0,Vt||this.containerWidth||600),this.chartHeight=Math.max(0,Ft(Ut,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},re.prototype.temporaryDisplay=function(Ut){var Vt=this.renderTo;if(Ut)for(;Vt&&Vt.style;)Vt.hcOrigStyle&&(nt(Vt,Vt.hcOrigStyle),delete Vt.hcOrigStyle),Vt.hcOrigDetached&&(m.body.removeChild(Vt),Vt.hcOrigDetached=!1),Vt=Vt.parentNode;else for(;Vt&&Vt.style&&(m.body.contains(Vt)||Vt.parentNode||(Vt.hcOrigDetached=!0,m.body.appendChild(Vt)),("none"===ht(Vt,"display",!1)||Vt.hcOricDetached)&&(Vt.hcOrigStyle={display:Vt.style.display,height:Vt.style.height,overflow:Vt.style.overflow},Ut={display:"block",overflow:"hidden"},Vt!==this.renderTo&&(Ut.height=0),nt(Vt,Ut),Vt.offsetWidth||Vt.style.setProperty("display","block","important")),(Vt=Vt.parentNode)!==m.body););},re.prototype.setClassName=function(Ut){this.container.className="highcharts-container "+(Ut||"")},re.prototype.getContainer=function(){var me,Ut=this.options,Vt=Ut.chart,ue=de(),ve=this.renderTo;ve||(this.renderTo=ve=Vt.renderTo),Ct(ve)&&(this.renderTo=ve=m.getElementById(ve)),ve||tt(13,!0,this);var le=Xt(B(ve,"data-highcharts-chart"));dt(le)&&O[le]&&O[le].hasRendered&&O[le].destroy(),B(ve,"data-highcharts-chart",this.index),ve.innerHTML=x.emptyHTML,Vt.skipClone||ve.offsetWidth||this.temporaryDisplay(),this.getChartSize(),le=this.chartWidth;var We=this.chartHeight;if(nt(ve,{overflow:"hidden"}),this.styledMode||(me=wt({position:"relative",overflow:"hidden",width:le+"px",height:We+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Vt.style||{})),this.container=ue=q("div",{id:ue},me,ve),this._cursor=ue.style.cursor,this.renderer=new(Vt.renderer||!P?E.getRendererType(Vt.renderer):h)(ue,le,We,void 0,Vt.forExport,Ut.exporting&&Ut.exporting.allowHTML,this.styledMode),I(void 0,this),this.setClassName(Vt.className),this.styledMode)for(var $e in Ut.defs)this.renderer.definition(Ut.defs[$e]);else this.renderer.setStyle(Vt.style);this.renderer.chartIndex=this.index,At(this,"afterGetContainer")},re.prototype.getMargins=function(Ut){var Vt=this.spacing,ue=this.margin,me=this.titleOffset;this.resetMargins(),me[0]&&!yt(ue[0])&&(this.plotTop=Math.max(this.plotTop,me[0]+Vt[0])),me[2]&&!yt(ue[2])&&(this.marginBottom=Math.max(this.marginBottom,me[2]+Vt[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ue,Vt),At(this,"getMargins"),Ut||this.getAxisMargins()},re.prototype.getAxisMargins=function(){var Ut=this,Vt=Ut.axisOffset=[0,0,0,0],ue=Ut.colorAxis,me=Ut.margin,ve=function(le){le.forEach(function(We){We.visible&&We.getOffset()})};Ut.hasCartesianSeries?ve(Ut.axes):ue&&ue.length&&ve(ue),A.forEach(function(le,We){yt(me[We])||(Ut[le]+=Vt[We])}),Ut.setChartSize()},re.prototype.reflow=function(Ut){var Vt=this,ue=Vt.options.chart,me=Vt.renderTo,ve=yt(ue.width)&&yt(ue.height),le=ue.width||ht(me,"width");ue=ue.height||ht(me,"height"),me=Ut?Ut.target:D,delete Vt.pointer.chartPosition,!ve&&!Vt.isPrinting&&le&&ue&&(me===D||me===m)&&((le!==Vt.containerWidth||ue!==Vt.containerHeight)&&(p.clearTimeout(Vt.reflowTimeout),Vt.reflowTimeout=te(function(){Vt.container&&Vt.setSize(void 0,void 0,!1)},Ut?100:0)),Vt.containerWidth=le,Vt.containerHeight=ue)},re.prototype.setReflow=function(Ut){var Vt=this;!1===Ut||this.unbindReflow?!1===Ut&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=o(D,"resize",function(ue){Vt.options&&Vt.reflow(ue)}),o(this,"destroy",this.unbindReflow))},re.prototype.setSize=function(Ut,Vt,ue){var me=this,ve=me.renderer;me.isResizing+=1,I(ue,me),ue=ve.globalAnimation,me.oldChartHeight=me.chartHeight,me.oldChartWidth=me.chartWidth,typeof Ut<"u"&&(me.options.chart.width=Ut),typeof Vt<"u"&&(me.options.chart.height=Vt),me.getChartSize(),me.styledMode||(ue?T:nt)(me.container,{width:me.chartWidth+"px",height:me.chartHeight+"px"},ue),me.setChartSize(!0),ve.setSize(me.chartWidth,me.chartHeight,ue),me.axes.forEach(function(le){le.isDirty=!0,le.setScale()}),me.isDirtyLegend=!0,me.isDirtyBox=!0,me.layOutTitles(),me.getMargins(),me.redraw(ue),me.oldChartHeight=null,At(me,"resize"),te(function(){me&&At(me,"endResize",null,function(){--me.isResizing})},b(ue).duration)},re.prototype.setChartSize=function(Ut){var Li,Si,bi,ji,Vt=this.inverted,ue=this.renderer,me=this.chartWidth,ve=this.chartHeight,le=this.options.chart,We=this.spacing,$e=this.clipOffset;this.plotLeft=Li=Math.round(this.plotLeft),this.plotTop=Si=Math.round(this.plotTop),this.plotWidth=bi=Math.max(0,Math.round(me-Li-this.marginRight)),this.plotHeight=ji=Math.max(0,Math.round(ve-Si-this.marginBottom)),this.plotSizeX=Vt?ji:bi,this.plotSizeY=Vt?bi:ji,this.plotBorderWidth=le.plotBorderWidth||0,this.spacingBox=ue.spacingBox={x:We[3],y:We[0],width:me-We[3]-We[1],height:ve-We[0]-We[2]},this.plotBox=ue.plotBox={x:Li,y:Si,width:bi,height:ji},Vt=2*Math.floor(this.plotBorderWidth/2),me=Math.ceil(Math.max(Vt,$e[3])/2),ve=Math.ceil(Math.max(Vt,$e[0])/2),this.clipBox={x:me,y:ve,width:Math.floor(this.plotSizeX-Math.max(Vt,$e[1])/2-me),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Vt,$e[2])/2-ve))},Ut||(this.axes.forEach(function(ui){ui.setAxisSize(),ui.setAxisTranslation()}),ue.alignElements()),At(this,"afterSetChartSize",{skipAxes:Ut})},re.prototype.resetMargins=function(){At(this,"resetMargins");var Ut=this,Vt=Ut.options.chart;["margin","spacing"].forEach(function(ue){var me=Vt[ue],ve=Lt(me)?me:[me,me,me,me];["Top","Right","Bottom","Left"].forEach(function(le,We){Ut[ue][We]=Rt(Vt[ue+le],ve[We])})}),A.forEach(function(ue,me){Ut[ue]=Rt(Ut.margin[me],Ut.spacing[me])}),Ut.axisOffset=[0,0,0,0],Ut.clipOffset=[0,0,0,0]},re.prototype.drawChartBox=function(){var Jt,Ut=this.options.chart,Vt=this.renderer,ue=this.chartWidth,me=this.chartHeight,ve=this.styledMode,le=this.plotBGImage,We=Ut.backgroundColor,$e=Ut.plotBackgroundColor,Li=Ut.plotBackgroundImage,Si=this.plotLeft,bi=this.plotTop,ji=this.plotWidth,ui=this.plotHeight,Pi=this.plotBox,Ai=this.clipRect,ke=this.clipBox,di=this.chartBackground,lt=this.plotBackground,Dt=this.plotBorder,he="animate";if(di||(this.chartBackground=di=Vt.rect().addClass("highcharts-background").add(),he="attr"),ve)var Te=Jt=di.strokeWidth();else Jt=(Te=Ut.borderWidth||0)+(Ut.shadow?8:0),We={fill:We||"none"},(Te||di["stroke-width"])&&(We.stroke=Ut.borderColor,We["stroke-width"]=Te),di.attr(We).shadow(Ut.shadow);di[he]({x:Jt/2,y:Jt/2,width:ue-Jt-Te%2,height:me-Jt-Te%2,r:Ut.borderRadius}),he="animate",lt||(he="attr",this.plotBackground=lt=Vt.rect().addClass("highcharts-plot-background").add()),lt[he](Pi),ve||(lt.attr({fill:$e||"none"}).shadow(Ut.plotShadow),Li&&(le?(Li!==le.attr("href")&&le.attr("href",Li),le.animate(Pi)):this.plotBGImage=Vt.image(Li,Si,bi,ji,ui).add())),Ai?Ai.animate({width:ke.width,height:ke.height}):this.clipRect=Vt.clipRect(ke),he="animate",Dt||(he="attr",this.plotBorder=Dt=Vt.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),ve||Dt.attr({stroke:Ut.plotBorderColor,"stroke-width":Ut.plotBorderWidth||0,fill:"none"}),Dt[he](Dt.crisp({x:Si,y:bi,width:ji,height:ui},-Dt.strokeWidth())),this.isDirtyBox=!1,At(this,"afterDrawChartBox")},re.prototype.propFromSeries=function(){var me,ve,le,Ut=this,Vt=Ut.options.chart,ue=Ut.options.series;["inverted","angular","polar"].forEach(function(We){for(ve=f[Vt.type||Vt.defaultSeriesType],le=Vt[We]||ve&&ve.prototype[We],me=ue&&ue.length;!le&&me--;)(ve=f[ue[me].type])&&ve.prototype[We]&&(le=!0);Ut[We]=le})},re.prototype.linkSeries=function(){var Ut=this,Vt=Ut.series;Vt.forEach(function(ue){ue.linkedSeries.length=0}),Vt.forEach(function(ue){var me=ue.options.linkedTo;Ct(me)&&(me=":previous"===me?Ut.series[ue.index-1]:Ut.get(me))&&me.linkedParent!==ue&&(me.linkedSeries.push(ue),ue.linkedParent=me,me.enabledDataSorting&&ue.setDataSortingOptions(),ue.visible=Rt(ue.options.visible,me.options.visible,ue.visible))}),At(this,"afterLinkSeries")},re.prototype.renderSeries=function(){this.series.forEach(function(Ut){Ut.translate(),Ut.render()})},re.prototype.renderLabels=function(){var Ut=this,Vt=Ut.options.labels;Vt.items&&Vt.items.forEach(function(ue){var me=wt(Vt.style,ue.style),ve=Xt(me.left)+Ut.plotLeft,le=Xt(me.top)+Ut.plotTop+12;delete me.left,delete me.top,Ut.renderer.text(ue.html,ve,le).attr({zIndex:2}).css(me).add()})},re.prototype.render=function(){var Ut=this.axes,Vt=this.colorAxis,ue=this.renderer,me=this.options,ve=function(Si){Si.forEach(function(bi){bi.visible&&bi.render()})},le=0;this.setTitle(),this.legend=new X(this,me.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),me=this.plotWidth,Ut.some(function(Si){if(Si.horiz&&Si.visible&&Si.options.labels.enabled&&Si.series.length)return le=21,!0});var We=this.plotHeight=Math.max(this.plotHeight-le,0);Ut.forEach(function(Si){Si.setScale()}),this.getAxisMargins();var $e=1.1<me/this.plotWidth,Li=1.05<We/this.plotHeight;($e||Li)&&(Ut.forEach(function(Si){(Si.horiz&&$e||!Si.horiz&&Li)&&Si.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?ve(Ut):Vt&&Vt.length&&ve(Vt),this.seriesGroup||(this.seriesGroup=ue.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},re.prototype.addCredits=function(Ut){var Vt=this,ue=vt(!0,this.options.credits,Ut);ue.enabled&&!this.credits&&(this.credits=this.renderer.text(ue.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ue.href&&(D.location.href=ue.href)}).attr({align:ue.position.align,zIndex:8}),Vt.styledMode||this.credits.css(ue.style),this.credits.add().align(ue.position),this.credits.update=function(me){Vt.credits=Vt.credits.destroy(),Vt.addCredits(me)})},re.prototype.destroy=function(){var le,Ut=this,Vt=Ut.axes,ue=Ut.series,me=Ut.container,ve=me&&me.parentNode;for(At(Ut,"destroy"),Ut.renderer.forExport?Y(O,Ut):O[Ut.index]=void 0,G.chartCount--,Ut.renderTo.removeAttribute("data-highcharts-chart"),qt(Ut),le=Vt.length;le--;)Vt[le]=Vt[le].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),le=ue.length;le--;)ue[le]=ue[le].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(We){var $e=Ut[We];$e&&$e.destroy&&(Ut[We]=$e.destroy())}),me&&(me.innerHTML=x.emptyHTML,qt(me),ve&&ut(me)),kt(Ut,function(We,$e){delete Ut[$e]})},re.prototype.firstRender=function(){var Ut=this,Vt=Ut.options;(!Ut.isReadyToRender||Ut.isReadyToRender())&&(Ut.getContainer(),Ut.resetMargins(),Ut.setChartSize(),Ut.propFromSeries(),Ut.getAxes(),(mt(Vt.series)?Vt.series:[]).forEach(function(ue){Ut.initSeries(ue)}),Ut.linkSeries(),Ut.setSeriesData(),At(Ut,"beforeRender"),R&&(Ut.pointer=F.isRequired()?new F(Ut,Vt):new R(Ut,Vt)),Ut.render(),Ut.pointer.getChartPosition(),!Ut.renderer.imgCount&&!Ut.hasLoaded&&Ut.onload(),Ut.temporaryDisplay(!0))},re.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(Ut){Ut&&typeof this.index<"u"&&Ut.apply(this,[this])},this),At(this,"load"),At(this,"render"),yt(this.index)&&this.setReflow(this.options.chart.reflow),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0},re.prototype.warnIfA11yModuleNotLoaded=function(){var Ut=this.options,Vt=this.title;Ut&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Vt&&Vt.element.textContent||"").replace(/</g,"&lt;")}),Ut.accessibility&&!1===Ut.accessibility.enabled||tt('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))},re.prototype.addSeries=function(Ut,Vt,ue){var ve,me=this;return Ut&&(Vt=Rt(Vt,!0),At(me,"addSeries",{options:Ut},function(){ve=me.initSeries(Ut),me.isDirtyLegend=!0,me.linkSeries(),ve.enabledDataSorting&&ve.setData(Ut.data,!1),At(me,"afterAddSeries",{series:ve}),Vt&&me.redraw(ue)})),ve},re.prototype.addAxis=function(Ut,Vt,ue,me){return this.createAxis(Vt?"xAxis":"yAxis",{axis:Ut,redraw:ue,animation:me})},re.prototype.addColorAxis=function(Ut,Vt,ue){return this.createAxis("colorAxis",{axis:Ut,redraw:Vt,animation:ue})},re.prototype.createAxis=function(Ut,Vt){return Ut=new c(this,vt(Vt.axis,{index:this[Ut].length,isX:"xAxis"===Ut})),Rt(Vt.redraw,!0)&&this.redraw(Vt.animation),Ut},re.prototype.showLoading=function(Ut){var Vt=this,ue=Vt.options,me=ue.loading,ve=function(){le&&nt(le,{left:Vt.plotLeft+"px",top:Vt.plotTop+"px",width:Vt.plotWidth+"px",height:Vt.plotHeight+"px"})},le=Vt.loadingDiv,We=Vt.loadingSpan;le||(Vt.loadingDiv=le=q("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Vt.container)),We||(Vt.loadingSpan=We=q("span",{className:"highcharts-loading-inner"},null,le),o(Vt,"redraw",ve)),le.className="highcharts-loading",x.setElementHTML(We,Rt(Ut,ue.lang.loading,"")),Vt.styledMode||(nt(le,wt(me.style,{zIndex:10})),nt(We,me.labelStyle),Vt.loadingShown||(nt(le,{opacity:0,display:""}),T(le,{opacity:me.style.opacity||.5},{duration:me.showDuration||0}))),Vt.loadingShown=!0,ve()},re.prototype.hideLoading=function(){var Ut=this.options,Vt=this.loadingDiv;Vt&&(Vt.className="highcharts-loading highcharts-loading-hidden",this.styledMode||T(Vt,{opacity:0},{duration:Ut.loading.hideDuration||100,complete:function(){nt(Vt,{display:"none"})}})),this.loadingShown=!1},re.prototype.update=function(Ut,Vt,ue,me){var Li,Si,ve=this,le={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},We=Ut.isResponsiveOptions,$e=[];At(ve,"update",{options:Ut}),We||ve.setResponsive(!1,!0),Ut=V(Ut,ve.options),ve.userOptions=vt(ve.userOptions,Ut);var bi=Ut.chart;if(bi){if(vt(!0,ve.options.chart,bi),"className"in bi&&ve.setClassName(bi.className),"reflow"in bi&&ve.setReflow(bi.reflow),"inverted"in bi||"polar"in bi||"type"in bi){ve.propFromSeries();var ji=!0}"alignTicks"in bi&&(ji=!0),"events"in bi&&C(this,bi),kt(bi,function(ui,Pi){-1!==ve.propsRequireUpdateSeries.indexOf("chart."+Pi)&&(Li=!0),-1!==ve.propsRequireDirtyBox.indexOf(Pi)&&(ve.isDirtyBox=!0),-1!==ve.propsRequireReflow.indexOf(Pi)&&(We?ve.isDirtyBox=!0:Si=!0)}),!ve.styledMode&&bi.style&&ve.renderer.setStyle(ve.options.chart.style||{})}!ve.styledMode&&Ut.colors&&(this.options.colors=Ut.colors),Ut.time&&(this.time===n&&(this.time=new l(Ut.time)),vt(!0,ve.options.time,Ut.time)),kt(Ut,function(ui,Pi){ve[Pi]&&"function"==typeof ve[Pi].update?ve[Pi].update(ui,!1):"function"==typeof ve[le[Pi]]?ve[le[Pi]](ui):"colors"!==Pi&&-1===ve.collectionsWithUpdate.indexOf(Pi)&&vt(!0,ve.options[Pi],Ut[Pi]),"chart"!==Pi&&-1!==ve.propsRequireUpdateSeries.indexOf(Pi)&&(Li=!0)}),this.collectionsWithUpdate.forEach(function(ui){if(Ut[ui]){var Pi=[];ve[ui].forEach(function(Ai,ke){Ai.options.isInternal||Pi.push(Rt(Ai.options.index,ke))}),ae(Ut[ui]).forEach(function(Ai,ke){var lt,di=yt(Ai.id);di&&(lt=ve.get(Ai.id)),!lt&&ve[ui]&&(lt=ve[ui][Pi?Pi[ke]:ke])&&di&&yt(lt.options.id)&&(lt=void 0),lt&&lt.coll===ui&&(lt.update(Ai,!1),ue&&(lt.touched=!0)),!lt&&ue&&ve.collectionsWithInit[ui]&&(ve.collectionsWithInit[ui][0].apply(ve,[Ai].concat(ve.collectionsWithInit[ui][1]||[]).concat([!1])).touched=!0)}),ue&&ve[ui].forEach(function(Ai){Ai.touched||Ai.options.isInternal?delete Ai.touched:$e.push(Ai)})}}),$e.forEach(function(ui){ui.chart&&ui.remove&&ui.remove(!1)}),ji&&ve.axes.forEach(function(ui){ui.update({},!1)}),Li&&ve.getSeriesOrderByLinks().forEach(function(ui){ui.chart&&ui.update({},!1)},this),ji=bi&&bi.width,bi=bi&&(Ct(bi.height)?Ft(bi.height,ji||ve.chartWidth):bi.height),Si||dt(ji)&&ji!==ve.chartWidth||dt(bi)&&bi!==ve.chartHeight?ve.setSize(ji,bi,me):Rt(Vt,!0)&&ve.redraw(me),At(ve,"afterUpdate",{options:Ut,redraw:Vt,animation:me})},re.prototype.setSubtitle=function(Ut,Vt){this.applyDescription("subtitle",Ut),this.layOutTitles(Vt)},re.prototype.setCaption=function(Ut,Vt){this.applyDescription("caption",Ut),this.layOutTitles(Vt)},re.prototype.showResetZoom=function(){function Ut(){Vt.zoomOut()}var Vt=this,ue=u.lang,me=Vt.options.chart.zooming.resetButton,ve=me.theme,le="chart"===me.relativeTo||"spacingBox"===me.relativeTo?null:"scrollablePlotBox";At(this,"beforeShowResetZoom",null,function(){Vt.resetZoomButton=Vt.renderer.button(ue.resetZoom,null,null,Ut,ve).attr({align:me.position.align,title:ue.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(me.position,!1,le)}),At(this,"afterShowResetZoom")},re.prototype.zoomOut=function(){At(this,"selection",{resetSelection:!0},this.zoom)},re.prototype.zoom=function(Ut){var ve,Vt=this,ue=Vt.pointer,me=!1;!Ut||Ut.resetSelection?(Vt.axes.forEach(function(We){ve=We.zoom()}),ue.initiated=!1):Ut.xAxis.concat(Ut.yAxis).forEach(function(We){var $e=We.axis;(ue[$e.isXAxis?"zoomX":"zoomY"]&&yt(ue.mouseDownX)&&yt(ue.mouseDownY)&&Vt.isInsidePlot(ue.mouseDownX-Vt.plotLeft,ue.mouseDownY-Vt.plotTop,{axis:$e})||!yt(Vt.inverted?ue.mouseDownX:ue.mouseDownY))&&(ve=$e.zoom(We.min,We.max),$e.displayBtn&&(me=!0))});var le=Vt.resetZoomButton;me&&!le?Vt.showResetZoom():!me&&Lt(le)&&(Vt.resetZoomButton=le.destroy()),ve&&Vt.redraw(Rt(Vt.options.chart.animation,Ut&&Ut.animation,100>Vt.pointCount))},re.prototype.pan=function(Ut,Vt){var ue=this,me=ue.hoverPoints;Vt="object"==typeof Vt?Vt:{enabled:Vt,type:"x"};var ve=ue.options.chart;ve&&ve.panning&&(ve.panning=Vt);var We,le=Vt.type;At(this,"pan",{originalEvent:Ut},function(){me&&me.forEach(function(Si){Si.setState()});var $e=ue.xAxis;"xy"===le?$e=$e.concat(ue.yAxis):"y"===le&&($e=ue.yAxis);var Li={};$e.forEach(function(Si){if(Si.options.panningEnabled&&!Si.options.isInternal){var bi=Si.horiz,ji=Ut[bi?"chartX":"chartY"],ui=ue[bi=bi?"mouseDownX":"mouseDownY"],Pi=Si.minPointOffset||0,Ai=Si.reversed&&!ue.inverted||!Si.reversed&&ue.inverted?-1:1,ke=Si.getExtremes(),di=Si.toValue(ui-ji,!0)+Pi*Ai,lt=Si.toValue(ui+Si.len-ji,!0)-(Pi*Ai||Si.isXAxis&&Si.pointRangePadding||0),Dt=lt<di;Ai=Si.hasVerticalPanning(),ui=Dt?lt:di,di=Dt?di:lt;var Jt=Si.panningState;!Ai||Si.isXAxis||Jt&&!Jt.isDirty||Si.series.forEach(function(he){var Te=he.getProcessedData(!0);Te=he.getExtremes(Te.yData,!0),Jt||(Jt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),dt(Te.dataMin)&&dt(Te.dataMax)&&(Jt.startMin=Math.min(Rt(he.options.threshold,1/0),Te.dataMin,Jt.startMin),Jt.startMax=Math.max(Rt(he.options.threshold,-1/0),Te.dataMax,Jt.startMax))}),Ai=Math.min(Rt(Jt&&Jt.startMin,ke.dataMin),Pi?ke.min:Si.toValue(Si.toPixels(ke.min)-Si.minPixelPadding)),lt=Math.max(Rt(Jt&&Jt.startMax,ke.dataMax),Pi?ke.max:Si.toValue(Si.toPixels(ke.max)+Si.minPixelPadding)),Si.panningState=Jt,Si.isOrdinal||(0<(Pi=Ai-ui)&&(di+=Pi,ui=Ai),0<(Pi=di-lt)&&(di=lt,ui-=Pi),Si.series.length&&ui!==ke.min&&di!==ke.max&&ui>=Ai&&di<=lt&&(Si.setExtremes(ui,di,!1,!1,{trigger:"pan"}),!ue.resetZoomButton&&ui!==Ai&&di!==lt&&le.match("y")&&(ue.showResetZoom(),Si.displayBtn=!1),We=!0),Li[bi]=ji)}}),kt(Li,function(Si,bi){ue[bi]=Si}),We&&ue.redraw(!1),nt(ue.container,{cursor:"move"})})},re}(),wt(s.prototype,{callbacks:[],collectionsWithInit:{xAxis:[s.prototype.addAxis,[!0]],yAxis:[s.prototype.addAxis,[!1]],series:[s.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),s}),e(i,"Core/Legend/LegendSymbol.js",[i["Core/Utilities.js"]],function(s){var U,G,c=s.extend,S=s.merge,M=s.pick;return(G=U||(U={})).drawLineMarker=function(X){var F=this.legendItem=this.legendItem||{},R=this.options,E=X.symbolWidth,a=X.symbolHeight,h=a/2,l=this.chart.renderer,p=F.group;X=X.baseline-Math.round(.3*X.fontMetrics.b);var x={},T=R.marker,b=0;this.chart.styledMode||(x={"stroke-width":Math.min(R.lineWidth||0,24)},R.dashStyle?x.dashstyle=R.dashStyle:"square"!==R.linecap&&(x["stroke-linecap"]="round")),F.line=l.path().addClass("highcharts-graph").attr(x).add(p),x["stroke-linecap"]&&(b=Math.min(F.line.strokeWidth(),E)/2),F.line.attr({d:[["M",b,X],["L",E-b,X]]}),T&&!1!==T.enabled&&E&&(R=Math.min(M(T.radius,h),h),0===this.symbol.indexOf("url")&&(T=S(T,{width:a,height:a}),R=0),F.symbol=F=l.symbol(this.symbol,E/2-R,X-R,2*R,2*R,c({context:"legend"},T)).addClass("highcharts-point").add(p),F.isMarker=!0)},G.drawRectangle=function(X,F){var R=X.symbolHeight,E=X.options.squareSymbol;(F=F.legendItem||{}).symbol=this.chart.renderer.rect(E?(X.symbolWidth-R)/2:0,X.baseline-R+1,E?R:X.symbolWidth,R,M(X.options.symbolRadius,R/2)).addClass("highcharts-point").attr({zIndex:3}).add(F.group)},U}),e(i,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),e(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(s,c,S,M,U,G,X,F,R,E){var a=s.animObject,h=s.setAnimation,l=c.defaultOptions,p=S.registerEventOptions,x=M.hasTouch,T=M.svg,b=M.win,I=F.seriesTypes,u=E.arrayMax,n=E.arrayMin,k=E.clamp,C=E.cleanRecursively,O=E.correctFloat,m=E.defined,A=E.erase,P=E.error,D=E.extend,f=E.find,o=E.fireEvent,B=E.getNestedProperty,V=E.isArray,q=E.isNumber,nt=E.isString,yt=E.merge,ut=E.objectEach,Y=E.pick,tt=E.removeEvent,wt=E.splat,St=E.syncTimeout;return s=function(){function At(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return At.prototype.init=function(ht,mt){o(this,"init",{options:mt});var dt=this,Lt=ht.series;this.eventsToUnbind=[],dt.chart=ht,dt.options=dt.setOptions(mt),mt=dt.options,dt.linkedSeries=[],dt.bindAxes(),D(dt,{name:mt.name,state:"",visible:!1!==mt.visible,selected:!0===mt.selected}),p(this,mt);var vt,Ct=mt.events;(Ct&&Ct.click||mt.point&&mt.point.events&&mt.point.events.click||mt.allowPointSelect)&&(ht.runTrackerClick=!0),dt.getColor(),dt.getSymbol(),dt.parallelArrays.forEach(function(kt){dt[kt+"Data"]||(dt[kt+"Data"]=[])}),dt.isCartesian&&(ht.hasCartesianSeries=!0),Lt.length&&(vt=Lt[Lt.length-1]),dt._i=Y(vt&&vt._i,-1)+1,dt.opacity=dt.options.opacity,ht.orderSeries(this.insert(Lt)),mt.dataSorting&&mt.dataSorting.enabled?dt.setDataSortingOptions():dt.points||dt.data||dt.setData(mt.data,!1),o(this,"afterInit")},At.prototype.is=function(ht){return I[ht]&&this instanceof I[ht]},At.prototype.insert=function(ht){var dt,mt=this.options.index;if(q(mt)){for(dt=ht.length;dt--;)if(mt>=Y(ht[dt].options.index,ht[dt]._i)){ht.splice(dt+1,0,this);break}-1===dt&&ht.unshift(this),dt+=1}else ht.push(this);return Y(dt,ht.length-1)},At.prototype.bindAxes=function(){var Lt,ht=this,mt=ht.options,dt=ht.chart;o(this,"bindAxes",null,function(){(ht.axisTypes||[]).forEach(function(Ct){var vt=0;dt[Ct].forEach(function(kt){Lt=kt.options,(mt[Ct]===vt&&!Lt.isInternal||typeof mt[Ct]<"u"&&mt[Ct]===Lt.id||typeof mt[Ct]>"u"&&0===Lt.index)&&(ht.insert(kt.series),ht[Ct]=kt,kt.isDirty=!0),Lt.isInternal||vt++}),ht[Ct]||ht.optionalAxis===Ct||P(18,!0,dt)})}),o(this,"afterBindAxes")},At.prototype.updateParallelArrays=function(ht,mt){var dt=ht.series,Lt=arguments,Ct=q(mt)?function(vt){var kt="y"===vt&&dt.toYData?dt.toYData(ht):ht[vt];dt[vt+"Data"][mt]=kt}:function(vt){Array.prototype[mt].apply(dt[vt+"Data"],Array.prototype.slice.call(Lt,2))};dt.parallelArrays.forEach(Ct)},At.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},At.prototype.autoIncrement=function(ht){var kt,mt=this.options,dt=mt.pointIntervalUnit,Lt=mt.relativeXValue,Ct=this.chart.time,vt=this.xIncrement;return vt=Y(vt,mt.pointStart,0),this.pointInterval=kt=Y(this.pointInterval,mt.pointInterval,1),Lt&&q(ht)&&(kt*=ht),dt&&(mt=new Ct.Date(vt),"day"===dt?Ct.set("Date",mt,Ct.get("Date",mt)+kt):"month"===dt?Ct.set("Month",mt,Ct.get("Month",mt)+kt):"year"===dt&&Ct.set("FullYear",mt,Ct.get("FullYear",mt)+kt),kt=mt.getTime()-vt),Lt&&q(ht)?vt+kt:(this.xIncrement=vt+kt,vt)},At.prototype.setDataSortingOptions=function(){var ht=this.options;D(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),m(ht.pointRange)||(ht.pointRange=1)},At.prototype.setOptions=function(ht){var mt=this.chart,dt=mt.options,Lt=dt.plotOptions,Ct=mt.userOptions||{};ht=yt(ht),mt=mt.styledMode;var vt={plotOptions:Lt,userOptions:ht};o(this,"setOptions",vt);var kt=vt.plotOptions[this.type],Rt=Ct.plotOptions||{};return this.userOptions=vt.userOptions,Ct=yt(kt,Lt.series,Ct.plotOptions&&Ct.plotOptions[this.type],ht),this.tooltipOptions=yt(l.tooltip,l.plotOptions.series&&l.plotOptions.series.tooltip,l.plotOptions[this.type].tooltip,dt.tooltip.userOptions,Lt.series&&Lt.series.tooltip,Lt[this.type].tooltip,ht.tooltip),this.stickyTracking=Y(ht.stickyTracking,Rt[this.type]&&Rt[this.type].stickyTracking,Rt.series&&Rt.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Ct.stickyTracking),null===kt.marker&&delete Ct.marker,this.zoneAxis=Ct.zoneAxis,Lt=this.zones=(Ct.zones||[]).slice(),!Ct.negativeColor&&!Ct.negativeFillColor||Ct.zones||(dt={value:Ct[this.zoneAxis+"Threshold"]||Ct.threshold||0,className:"highcharts-negative"},mt||(dt.color=Ct.negativeColor,dt.fillColor=Ct.negativeFillColor),Lt.push(dt)),Lt.length&&m(Lt[Lt.length-1].value)&&Lt.push(mt?{}:{color:this.color,fillColor:this.fillColor}),o(this,"afterSetOptions",{options:Ct}),Ct},At.prototype.getName=function(){return Y(this.options.name,"Series "+(this.index+1))},At.prototype.getCyclic=function(ht,mt,dt){var Lt=this.chart,Ct=this.userOptions,vt=ht+"Index",kt=ht+"Counter",Rt=dt?dt.length:Y(Lt.options.chart[ht+"Count"],Lt[ht+"Count"]);if(!mt){var Xt=Y(Ct[vt],Ct["_"+vt]);m(Xt)||(Lt.series.length||(Lt[kt]=0),Ct["_"+vt]=Xt=Lt[kt]%Rt,Lt[kt]+=1),dt&&(mt=dt[Xt])}typeof Xt<"u"&&(this[vt]=Xt),this[ht]=mt},At.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||l.plotOptions[this.type].color,this.chart.options.colors)},At.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},At.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},At.prototype.findPointIndex=function(ht,mt){var kt,Rt,dt=ht.id,Lt=ht.x,Ct=this.points,vt=this.options.dataSorting;if(dt)(vt=this.chart.get(dt))instanceof G&&(kt=vt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(kt=function(Ft){return!Ft.touched&&Ft.index===ht.index},vt&&vt.matchByName?kt=function(Ft){return!Ft.touched&&Ft.name===ht.name}:this.options.relativeXValue&&(kt=function(Ft){return!Ft.touched&&Ft.options.x===ht.x}),!(kt=f(Ct,kt))))return;if(kt){var Xt=kt&&kt.index;typeof Xt<"u"&&(Rt=!0)}return typeof Xt>"u"&&q(Lt)&&(Xt=this.xData.indexOf(Lt,mt)),-1!==Xt&&typeof Xt<"u"&&this.cropped&&(Xt=Xt>=this.cropStart?Xt-this.cropStart:Xt),!Rt&&q(Xt)&&Ct[Xt]&&Ct[Xt].touched&&(Xt=void 0),Xt},At.prototype.updateData=function(ht,mt){var Xt,Ft,qt,dt=this.options,Lt=dt.dataSorting,Ct=this.points,vt=[],kt=this.requireSorting,Rt=ht.length===Ct.length,ae=!0;if(this.xIncrement=null,ht.forEach(function(te,de){var re=m(te)&&this.pointClass.prototype.optionsToObject.call({series:this},te)||{};re.id||q(re.x)?(-1===(re=this.findPointIndex(re,qt))||typeof re>"u"?vt.push(te):Ct[re]&&te!==dt.data[re]?(Ct[re].update(te,!1,null,!1),Ct[re].touched=!0,kt&&(qt=re+1)):Ct[re]&&(Ct[re].touched=!0),(!Rt||de!==re||Lt&&Lt.enabled||this.hasDerivedData)&&(Xt=!0)):vt.push(te)},this),Xt)for(ht=Ct.length;ht--;)(Ft=Ct[ht])&&!Ft.touched&&Ft.remove&&Ft.remove(!1,mt);else!Rt||Lt&&Lt.enabled?ae=!1:(ht.forEach(function(te,de){te!==Ct[de].y&&Ct[de].update&&Ct[de].update(te,!1,null,!1)}),vt.length=0);return Ct.forEach(function(te){te&&(te.touched=!1)}),!!ae&&(vt.forEach(function(te){this.addPoint(te,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=u(this.xData),this.autoIncrement()),!0)},At.prototype.setData=function(ht,mt,dt,Lt){void 0===mt&&(mt=!0);var Ct=this,vt=Ct.points,kt=vt&&vt.length||0,Rt=Ct.options,Xt=Ct.chart,Ft=Rt.dataSorting,qt=Ct.xAxis,ae=Rt.turboThreshold,te=this.xData,de=this.yData,re=Ct.pointArrayMap;re=re&&re.length;var Vt,Ut=Rt.keys,ue=0,me=1,ve=null;if(!Xt.options.chart.allowMutatingData){Rt.data&&delete Ct.options.data,Ct.userOptions.data&&delete Ct.userOptions.data;var le=yt(!0,ht)}if(le=(ht=le||ht||[]).length,Ft&&Ft.enabled&&(ht=this.sortData(ht)),Xt.options.chart.allowMutatingData&&!1!==Lt&&le&&kt&&!Ct.cropped&&!Ct.hasGroupedData&&Ct.visible&&!Ct.boosted&&(Vt=this.updateData(ht,dt)),!Vt){if(Ct.xIncrement=null,Ct.colorCounter=0,this.parallelArrays.forEach(function(We){Ct[We+"Data"].length=0}),ae&&le>ae)if(ve=Ct.getFirstValidPoint(ht),q(ve))for(dt=0;dt<le;dt++)te[dt]=this.autoIncrement(),de[dt]=ht[dt];else if(V(ve))if(re)if(ve.length===re)for(dt=0;dt<le;dt++)te[dt]=this.autoIncrement(),de[dt]=ht[dt];else for(dt=0;dt<le;dt++)te[dt]=(Lt=ht[dt])[0],de[dt]=Lt.slice(1,re+1);else if(Ut&&(ue=0<=(ue=Ut.indexOf("x"))?ue:0,me=0<=(me=Ut.indexOf("y"))?me:1),1===ve.length&&(me=0),ue===me)for(dt=0;dt<le;dt++)te[dt]=this.autoIncrement(),de[dt]=ht[dt][me];else for(dt=0;dt<le;dt++)te[dt]=(Lt=ht[dt])[ue],de[dt]=Lt[me];else P(12,!1,Xt);else for(dt=0;dt<le;dt++)typeof ht[dt]<"u"&&(Ct.pointClass.prototype.applyOptions.apply(Lt={series:Ct},[ht[dt]]),Ct.updateParallelArrays(Lt,dt));for(de&&nt(de[0])&&P(14,!0,Xt),Ct.data=[],Ct.options.data=Ct.userOptions.data=ht,dt=kt;dt--;)vt[dt]&&vt[dt].destroy&&vt[dt].destroy();qt&&(qt.minRange=qt.userMinRange),Ct.isDirty=Xt.isDirtyBox=!0,Ct.isDirtyData=!!vt,dt=!1}"point"===Rt.legendType&&(this.processData(),this.generatePoints()),mt&&Xt.redraw(dt)},At.prototype.sortData=function(ht){var mt=this,dt=mt.options.dataSorting.sortKey||"y",Lt=function(Ct,vt){return m(vt)&&Ct.pointClass.prototype.optionsToObject.call({series:Ct},vt)||{}};return ht.forEach(function(Ct,vt){ht[vt]=Lt(mt,Ct),ht[vt].index=vt},this),ht.concat().sort(function(Ct,vt){return Ct=B(dt,Ct),(vt=B(dt,vt))<Ct?-1:vt>Ct?1:0}).forEach(function(Ct,vt){Ct.x=vt},this),mt.linkedSeries&&mt.linkedSeries.forEach(function(Ct){var vt=Ct.options,kt=vt.data;vt.dataSorting&&vt.dataSorting.enabled||!kt||(kt.forEach(function(Rt,Xt){kt[Xt]=Lt(Ct,Rt),ht[Xt]&&(kt[Xt].x=ht[Xt].x,kt[Xt].index=Xt)}),Ct.setData(kt,!1))}),ht},At.prototype.getProcessedData=function(ht){var mt=this.xAxis,dt=this.options,Lt=dt.cropThreshold,Ct=ht||this.getExtremesFromAll||dt.getExtremesFromAll,vt=this.isCartesian;ht=mt&&mt.val2lin,dt=!(!mt||!mt.logarithmic);var kt=0,Rt=this.xData,Xt=this.yData,Ft=this.requireSorting,qt=!1,ae=Rt.length;if(mt){var te=(qt=mt.getExtremes()).min,de=qt.max;qt=!(!mt.categories||mt.names.length)}if(vt&&this.sorted&&!Ct&&(!Lt||ae>Lt||this.forceCrop))if(Rt[ae-1]<te||Rt[0]>de)Rt=[],Xt=[];else if(this.yData&&(Rt[0]<te||Rt[ae-1]>de)){var re=this.cropData(this.xData,this.yData,te,de);Rt=re.xData,Xt=re.yData,kt=re.start,re=!0}for(Lt=Rt.length||1;--Lt;)if(0<(mt=dt?ht(Rt[Lt])-ht(Rt[Lt-1]):Rt[Lt]-Rt[Lt-1])&&(typeof Ut>"u"||mt<Ut))var Ut=mt;else 0>mt&&Ft&&!qt&&(P(15,!1,this.chart),Ft=!1);return{xData:Rt,yData:Xt,cropped:re,cropStart:kt,closestPointRange:Ut}},At.prototype.processData=function(ht){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!ht)return!1;ht=this.getProcessedData(),this.cropped=ht.cropped,this.cropStart=ht.cropStart,this.processedXData=ht.xData,this.processedYData=ht.yData,this.closestPointRange=this.basePointRange=ht.closestPointRange,o(this,"afterProcessData")},At.prototype.cropData=function(ht,mt,dt,Lt,Ct){var kt,vt=ht.length,Rt=0,Xt=vt;for(Ct=Y(Ct,this.cropShoulder),kt=0;kt<vt;kt++)if(ht[kt]>=dt){Rt=Math.max(0,kt-Ct);break}for(dt=kt;dt<vt;dt++)if(ht[dt]>Lt){Xt=dt+Ct;break}return{xData:ht.slice(Rt,Xt),yData:mt.slice(Rt,Xt),start:Rt,end:Xt}},At.prototype.generatePoints=function(){var ht=this.options,mt=this.processedData||ht.data,dt=this.processedXData,Lt=this.processedYData,Ct=this.pointClass,vt=dt.length,kt=this.cropStart||0,Rt=this.hasGroupedData,Xt=ht.keys,Ft=[];ht=ht.dataGrouping&&ht.dataGrouping.groupAll?kt:0;var qt,ae,te=this.data;if(!te&&!Rt){var de=[];de.length=mt.length,te=this.data=de}for(Xt&&Rt&&(this.options.keys=!1),ae=0;ae<vt;ae++){if(de=kt+ae,Rt){var re=(new Ct).init(this,[dt[ae]].concat(wt(Lt[ae])));re.dataGroup=this.groupMap[ht+ae],re.dataGroup.options&&(re.options=re.dataGroup.options,D(re,re.dataGroup.options),delete re.dataLabels)}else(re=te[de])||typeof mt[de]>"u"||(te[de]=re=(new Ct).init(this,mt[de],dt[ae]));re&&(re.index=Rt?ht+ae:de,Ft[ae]=re)}if(this.options.keys=Xt,te&&(vt!==(qt=te.length)||Rt))for(ae=0;ae<qt;ae++)ae!==kt||Rt||(ae+=vt),te[ae]&&(te[ae].destroyElements(),te[ae].plotX=void 0);this.data=te,this.points=Ft,o(this,"afterGeneratePoints")},At.prototype.getXExtremes=function(ht){return{min:n(ht),max:u(ht)}},At.prototype.getExtremes=function(ht,mt){var dt=this.xAxis,Lt=this.yAxis,Ct=this.processedXData||this.xData,vt=[],kt=this.requireSorting?this.cropShoulder:0;Lt=!!Lt&&Lt.positiveValuesOnly;var Rt,Xt=0,Ft=0,qt=0,ae=(ht=ht||this.stackedYData||this.processedYData||[]).length;if(dt){var te=dt.getExtremes();Xt=te.min,Ft=te.max}for(Rt=0;Rt<ae;Rt++){var de=Ct[Rt],re=(q(te=ht[Rt])||V(te))&&(te.length||0<te||!Lt);if(de=mt||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!dt||(Ct[Rt+kt]||de)>=Xt&&(Ct[Rt-kt]||de)<=Ft,re&&de)if(re=te.length)for(;re--;)q(te[re])&&(vt[qt++]=te[re]);else vt[qt++]=te}return ht={activeYData:vt,dataMin:n(vt),dataMax:u(vt)},o(this,"afterGetExtremes",{dataExtremes:ht}),ht},At.prototype.applyExtremes=function(){var ht=this.getExtremes();return this.dataMin=ht.dataMin,this.dataMax=ht.dataMax,ht},At.prototype.getFirstValidPoint=function(ht){for(var mt=ht.length,dt=0,Lt=null;null===Lt&&dt<mt;)Lt=ht[dt],dt++;return Lt},At.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var de,re,ht=this.options,mt=ht.stacking,dt=this.xAxis,Lt=dt.categories,Ct=this.enabledDataSorting,vt=this.yAxis,kt=this.points,Rt=kt.length,Xt=this.pointPlacementToXValue(),Ft=!!Xt,qt=ht.threshold,ae=ht.startFromThreshold?qt:0,te=this.zoneAxis||"y",Ut=Number.MAX_VALUE;for(de=0;de<Rt;de++){var Vt=kt[de],ue=Vt.x,me=void 0,ve=void 0,le=Vt.y,We=Vt.low,$e=mt&&vt.stacking&&vt.stacking.stacks[(this.negStacks&&le<(ae?0:qt)?"-":"")+this.stackKey];if((vt.positiveValuesOnly&&!vt.validatePositiveValue(le)||dt.positiveValuesOnly&&!dt.validatePositiveValue(ue))&&(Vt.isNull=!0),Vt.plotX=re=O(k(dt.translate(ue,0,0,0,1,Xt,"flags"===this.type),-1e5,1e5)),mt&&this.visible&&$e&&$e[ue]){var Li=this.getStackIndicator(Li,ue,this.index);!Vt.isNull&&Li.key&&(ve=(me=$e[ue]).points[Li.key]),me&&V(ve)&&(le=ve[1],(We=ve[0])===ae&&Li.key===$e[ue].base&&(We=Y(q(qt)?qt:vt.min)),vt.positiveValuesOnly&&m(We)&&0>=We&&(We=void 0),Vt.total=Vt.stackTotal=Y(me.total),Vt.percentage=m(Vt.y)&&me.total?Vt.y/me.total*100:void 0,Vt.stackY=le,this.irregularWidths||me.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))}if(Vt.yBottom=m(We)?k(vt.translate(We,0,1,0,1),-1e5,1e5):void 0,this.dataModify&&(le=this.dataModify.modifyValue(le,de)),Vt.plotY=void 0,q(le)&&typeof(me=vt.translate(le,!1,!0,!1,!0))<"u"&&(Vt.plotY=k(me,-1e5,1e5)),Vt.isInside=this.isPointInside(Vt),Vt.clientX=Ft?O(dt.translate(ue,0,0,0,1,Xt)):re,Vt.negative=Vt[te]<(ht[te+"Threshold"]||qt||0),Vt.category=Y(Lt&&Lt[Vt.x],Vt.x),!Vt.isNull&&!1!==Vt.visible){typeof Si<"u"&&(Ut=Math.min(Ut,Math.abs(re-Si)));var Si=re}Vt.zone=this.zones.length?Vt.getZone():void 0,!Vt.graphic&&this.group&&Ct&&(Vt.isNew=!0)}this.closestPointRangePx=Ut,o(this,"afterTranslate")},At.prototype.getValidPoints=function(ht,mt,dt){var Lt=this.chart;return(ht||this.points||[]).filter(function(Ct){return!(mt&&!Lt.isInsidePlot(Ct.plotX,Ct.plotY,{inverted:Lt.inverted}))&&!1!==Ct.visible&&(dt||!Ct.isNull)})},At.prototype.getClipBox=function(){var ht=this.chart,mt=this.xAxis,dt=this.yAxis,Lt=yt(ht.clipBox);return mt&&mt.len!==ht.plotSizeX&&(Lt.width=mt.len),dt&&dt.len!==ht.plotSizeY&&(Lt.height=dt.len),Lt},At.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},At.prototype.setClip=function(){var ht=this.chart,mt=this.group,dt=this.markerGroup,Lt=ht.sharedClips;ht=ht.renderer;var Ct=this.getClipBox(),vt=this.getSharedClipKey(),kt=Lt[vt];kt?kt.animate(Ct):Lt[vt]=kt=ht.clipRect(Ct),mt&&mt.clip(!1===this.options.clip?void 0:kt),dt&&dt.clip()},At.prototype.animate=function(ht){var mt=this.chart,dt=this.group,Lt=this.markerGroup,Ct=mt.inverted,vt=a(this.options.animation),kt=[this.getSharedClipKey(),vt.duration,vt.easing,vt.defer].join(),Rt=mt.sharedClips[kt],Xt=mt.sharedClips[kt+"m"];if(ht&&dt)vt=this.getClipBox(),Rt?Rt.attr("height",vt.height):(vt.width=0,Ct&&(vt.x=mt.plotHeight),Rt=mt.renderer.clipRect(vt),mt.sharedClips[kt]=Rt,Xt=mt.renderer.clipRect({x:-99,y:-99,width:Ct?mt.plotWidth+199:99,height:Ct?99:mt.plotHeight+199}),mt.sharedClips[kt+"m"]=Xt),dt.clip(Rt),Lt&&Lt.clip(Xt);else if(Rt&&!Rt.hasClass("highcharts-animating")){mt=this.getClipBox();var Ft=vt.step;Lt&&Lt.element.childNodes.length&&(vt.step=function(qt,ae){Ft&&Ft.apply(ae,arguments),"width"===ae.prop&&Xt&&Xt.element&&Xt.attr(Ct?"height":"width",qt+99)}),Rt.addClass("highcharts-animating").animate(mt,vt)}},At.prototype.afterAnimate=function(){var ht=this;this.setClip(),ut(this.chart.sharedClips,function(mt,dt,Lt){mt&&!ht.chart.container.querySelector('[clip-path="url(#'.concat(mt.id,')"]'))&&(mt.destroy(),delete Lt[dt])}),this.finishedAnimating=!0,o(this,"afterAnimate")},At.prototype.drawPoints=function(ht){void 0===ht&&(ht=this.points);var Xt,Ft,mt=this.chart,dt=mt.styledMode,Lt=this.colorAxis,Ct=this.options.marker,vt=this[this.specialGroup||"markerGroup"],kt=this.xAxis,Rt=Y(Ct.enabled,!(kt&&!kt.isRadial)||null,this.closestPointRangePx>=Ct.enabledThreshold*Ct.radius);if(!1!==Ct.enabled||this._hasPointMarkers)for(Xt=0;Xt<ht.length;Xt++){var qt=ht[Xt],ae=(Ft=qt.graphic)?"animate":"attr",te=qt.marker||{},de=!!qt.marker;if((Rt&&typeof te.enabled>"u"||te.enabled)&&!qt.isNull&&!1!==qt.visible){var re=Y(te.symbol,this.symbol,"rect"),Ut=this.markerAttribs(qt,qt.selected&&"select");this.enabledDataSorting&&(qt.startXPos=kt.reversed?-(Ut.width||0):kt.width);var Vt=!1!==qt.isInside;!Ft&&Vt&&(0<(Ut.width||0)||qt.hasImage)&&(qt.graphic=Ft=mt.renderer.symbol(re,Ut.x,Ut.y,Ut.width,Ut.height,de?te:Ct).add(vt),this.enabledDataSorting&&mt.hasRendered&&(Ft.attr({x:qt.startXPos}),ae="animate")),Ft&&"animate"===ae&&Ft[Vt?"show":"hide"](Vt).animate(Ut),Ft&&(te=this.pointAttribs(qt,dt||!qt.selected?void 0:"select"),dt?Lt&&Ft.css({fill:te.fill}):Ft[ae](te)),Ft&&Ft.addClass(qt.getClassName(),!0)}else Ft&&(qt.graphic=Ft.destroy())}},At.prototype.markerAttribs=function(ht,mt){var dt=this.options,Lt=dt.marker,Ct=ht.marker||{},vt=Ct.symbol||Lt.symbol,kt={},Rt=Y(Ct.radius,Lt&&Lt.radius);return mt&&(Lt=Lt.states[mt],Rt=Y((mt=Ct.states&&Ct.states[mt])&&mt.radius,Lt&&Lt.radius,Rt&&Rt+(Lt&&Lt.radiusPlus||0))),ht.hasImage=vt&&0===vt.indexOf("url"),ht.hasImage&&(Rt=0),ht=ht.pos(),q(Rt)&&ht&&(kt.x=ht[0]-Rt,kt.y=ht[1]-Rt,dt.crisp&&(kt.x=Math.floor(kt.x))),Rt&&(kt.width=kt.height=2*Rt),kt},At.prototype.pointAttribs=function(ht,mt){var dt=this.options.marker,Lt=ht&&ht.options,Ct=Lt&&Lt.marker||{},vt=Lt&&Lt.color,kt=ht&&ht.color,Rt=ht&&ht.zone&&ht.zone.color,Xt=this.color;return ht=Y(Ct.lineWidth,dt.lineWidth),Lt=1,Xt=vt||Rt||kt||Xt,vt=Ct.fillColor||dt.fillColor||Xt,kt=Ct.lineColor||dt.lineColor||Xt,dt=dt.states[mt=mt||"normal"]||{},ht=Y((mt=Ct.states&&Ct.states[mt]||{}).lineWidth,dt.lineWidth,ht+Y(mt.lineWidthPlus,dt.lineWidthPlus,0)),{stroke:kt=mt.lineColor||dt.lineColor||kt,"stroke-width":ht,fill:vt=mt.fillColor||dt.fillColor||vt,opacity:Lt=Y(mt.opacity,dt.opacity,Lt)}},At.prototype.destroy=function(ht){var kt,Rt,Xt,mt=this,dt=mt.chart,Lt=/AppleWebKit\/533/.test(b.navigator.userAgent),Ct=mt.data||[];for(o(mt,"destroy",{keepEventsForUpdate:ht}),this.removeEvents(ht),(mt.axisTypes||[]).forEach(function(Ft){(Xt=mt[Ft])&&Xt.series&&(A(Xt.series,mt),Xt.isDirty=Xt.forceRedraw=!0)}),mt.legendItem&&mt.chart.legend.destroyItem(mt),kt=Ct.length;kt--;)(Rt=Ct[kt])&&Rt.destroy&&Rt.destroy();mt.clips&&mt.clips.forEach(function(Ft){return Ft.destroy()}),E.clearTimeout(mt.animationTimeout),ut(mt,function(Ft,qt){Ft instanceof R&&!Ft.survive&&Ft[Lt&&"group"===qt?"hide":"destroy"]()}),dt.hoverSeries===mt&&(dt.hoverSeries=void 0),A(dt.series,mt),dt.orderSeries(),ut(mt,function(Ft,qt){ht&&"hcEvents"===qt||delete mt[qt]})},At.prototype.applyZones=function(){var qt,ae,te,de,re,Ut,Vt,ue,ht=this,mt=this.chart,dt=mt.renderer,Lt=this.zones,Ct=this.clips||[],vt=this.graph,kt=this.area,Rt=Math.max(mt.plotWidth,mt.plotHeight),Xt=this[(this.zoneAxis||"y")+"Axis"],Ft=mt.inverted,me=!1;if(Lt.length&&(vt||kt)&&Xt&&typeof Xt.min<"u"){var ve=Xt.reversed,le=Xt.horiz;vt&&!this.showLine&&vt.hide(),kt&&kt.hide();var We=Xt.getExtremes();Lt.forEach(function($e,Li){qt=ve?le?mt.plotWidth:0:le?0:Xt.toPixels(We.min)||0,qt=k(Y(ae,qt),0,Rt),ae=k(Math.round(Xt.toPixels(Y($e.value,We.max),!0)||0),0,Rt),me&&(qt=ae=Xt.toPixels(We.max)),de=Math.abs(qt-ae),re=Math.min(qt,ae),Ut=Math.max(qt,ae),Xt.isXAxis?(te={x:Ft?Ut:re,y:0,width:de,height:Rt},le||(te.x=mt.plotHeight-te.x)):(te={x:0,y:Ft?Ut:re,width:Rt,height:de},le&&(te.y=mt.plotWidth-te.y)),Ft&&dt.isVML&&(te=Xt.isXAxis?{x:0,y:ve?re:Ut,height:te.width,width:mt.chartWidth}:{x:te.y-mt.plotLeft-mt.spacingBox.x,y:0,width:te.height,height:mt.chartHeight}),Ct[Li]?Ct[Li].animate(te):Ct[Li]=dt.clipRect(te),Vt=ht["zone-area-"+Li],ue=ht["zone-graph-"+Li],vt&&ue&&ue.clip(Ct[Li]),kt&&Vt&&Vt.clip(Ct[Li]),me=$e.value>We.max,ht.resetZones&&0===ae&&(ae=void 0)}),this.clips=Ct}else ht.visible&&(vt&&vt.show(),kt&&kt.show())},At.prototype.plotGroup=function(ht,mt,dt,Lt,Ct){var vt=this[ht],kt=!vt;return dt={visibility:dt,zIndex:Lt||.1},typeof this.opacity>"u"||this.chart.styledMode||"inactive"===this.state||(dt.opacity=this.opacity),kt&&(this[ht]=vt=this.chart.renderer.g().add(Ct)),vt.addClass("highcharts-"+mt+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(m(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(vt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),vt.attr(dt)[kt?"attr":"animate"](this.getPlotBox(mt)),vt},At.prototype.getPlotBox=function(ht){var mt=this.xAxis,dt=this.yAxis,Lt=this.chart;return ht=Lt.inverted&&!Lt.polar&&mt&&!1!==this.invertible&&"series"===ht,Lt.inverted&&(mt=dt,dt=this.xAxis),{translateX:mt?mt.left:Lt.plotLeft,translateY:dt?dt.top:Lt.plotTop,rotation:ht?90:0,rotationOriginX:ht?(mt.len-dt.len)/2:0,rotationOriginY:ht?(mt.len+dt.len)/2:0,scaleX:ht?-1:1,scaleY:1}},At.prototype.removeEvents=function(ht){ht||tt(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(mt){mt()}),this.eventsToUnbind.length=0)},At.prototype.render=function(){var ht=this,mt=ht.chart,dt=ht.options,Lt=a(dt.animation),Ct=ht.visible?"inherit":"hidden",vt=dt.zIndex,kt=ht.hasRendered,Rt=mt.seriesGroup;mt=!ht.finishedAnimating&&mt.renderer.isSVG?Lt.duration:0,o(this,"render"),ht.plotGroup("group","series",Ct,vt,Rt),ht.markerGroup=ht.plotGroup("markerGroup","markers",Ct,vt,Rt),!1!==dt.clip&&ht.setClip(),ht.animate&&mt&&ht.animate(!0),ht.drawGraph&&(ht.drawGraph(),ht.applyZones()),ht.visible&&ht.drawPoints(),ht.drawDataLabels&&ht.drawDataLabels(),ht.redrawPoints&&ht.redrawPoints(),ht.drawTracker&&!1!==ht.options.enableMouseTracking&&ht.drawTracker(),ht.animate&&mt&&ht.animate(),kt||(mt&&Lt.defer&&(mt+=Lt.defer),ht.animationTimeout=St(function(){ht.afterAnimate()},mt||0)),ht.isDirty=!1,ht.hasRendered=!0,o(ht,"afterRender")},At.prototype.redraw=function(){var ht=this.isDirty||this.isDirtyData;this.translate(),this.render(),ht&&delete this.kdTree},At.prototype.searchPoint=function(ht,mt){var dt=this.xAxis,Lt=this.yAxis,Ct=this.chart.inverted;return this.searchKDTree({clientX:Ct?dt.len-ht.chartY+dt.pos:ht.chartX-dt.pos,plotY:Ct?Lt.len-ht.chartX+Lt.pos:ht.chartY-Lt.pos},mt,ht)},At.prototype.buildKDTree=function(ht){function mt(Ct,vt,kt){var Rt=Ct&&Ct.length;if(Rt){var Xt=dt.kdAxisArray[vt%kt];return Ct.sort(function(Ft,qt){return Ft[Xt]-qt[Xt]}),{point:Ct[Rt=Math.floor(Rt/2)],left:mt(Ct.slice(0,Rt),vt+1,kt),right:mt(Ct.slice(Rt+1),vt+1,kt)}}}this.buildingKdTree=!0;var dt=this,Lt=-1<dt.options.findNearestPointBy.indexOf("y")?2:1;delete dt.kdTree,St(function(){dt.kdTree=mt(dt.getValidPoints(null,!dt.directTouch),Lt,Lt),dt.buildingKdTree=!1},dt.options.kdNow||ht&&"touchstart"===ht.type?0:1)},At.prototype.searchKDTree=function(ht,mt,dt){var Ct=this,vt=this.kdAxisArray[0],kt=this.kdAxisArray[1],Rt=mt?"distX":"dist";if(mt=-1<Ct.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(dt),this.kdTree)return function Lt(Xt,Ft,qt,ae){var te=Ft.point,de=Ct.kdAxisArray[qt%ae],re=te,Ut=m(Xt[vt])&&m(te[vt])?Math.pow(Xt[vt]-te[vt],2):null,Vt=m(Xt[kt])&&m(te[kt])?Math.pow(Xt[kt]-te[kt],2):null;return te.dist=m(Vt=(Ut||0)+(Vt||0))?Math.sqrt(Vt):Number.MAX_VALUE,te.distX=m(Ut)?Math.sqrt(Ut):Number.MAX_VALUE,Ut=0>(de=Xt[de]-te[de])?"right":"left",Ft[Vt=0>de?"left":"right"]&&(re=(Vt=Lt(Xt,Ft[Vt],qt+1,ae))[Rt]<re[Rt]?Vt:te),Ft[Ut]&&Math.sqrt(de*de)<re[Rt]&&(re=(Xt=Lt(Xt,Ft[Ut],qt+1,ae))[Rt]<re[Rt]?Xt:re),re}(ht,this.kdTree,mt,mt)},At.prototype.pointPlacementToXValue=function(){var ht=this.options,mt=ht.pointRange,dt=this.xAxis;return"between"===(ht=ht.pointPlacement)&&(ht=dt.reversed?-.5:.5),q(ht)?ht*(mt||dt.pointRange):0},At.prototype.isPointInside=function(ht){var mt=this.chart,dt=this.xAxis,Lt=this.yAxis;return typeof ht.plotY<"u"&&typeof ht.plotX<"u"&&0<=ht.plotY&&ht.plotY<=(Lt?Lt.len:mt.plotHeight)&&0<=ht.plotX&&ht.plotX<=(dt?dt.len:mt.plotWidth)},At.prototype.drawTracker=function(){var ht=this,mt=ht.options,dt=mt.trackByArea,Lt=[].concat(dt?ht.areaPath:ht.graphPath),Ct=ht.chart,vt=Ct.pointer,kt=Ct.renderer,Rt=Ct.options.tooltip.snap,Xt=ht.tracker,Ft=function(ae){Ct.hoverSeries!==ht&&ht.onMouseOver()},qt="rgba(192,192,192,"+(T?1e-4:.002)+")";Xt?Xt.attr({d:Lt}):ht.graph&&(ht.tracker=kt.path(Lt).attr({visibility:ht.visible?"inherit":"hidden",zIndex:2}).addClass(dt?"highcharts-tracker-area":"highcharts-tracker-line").add(ht.group),Ct.styledMode||ht.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:qt,fill:dt?qt:"none","stroke-width":ht.graph.strokeWidth()+(dt?0:2*Rt)}),[ht.tracker,ht.markerGroup,ht.dataLabelsGroup].forEach(function(ae){ae&&(ae.addClass("highcharts-tracker").on("mouseover",Ft).on("mouseout",function(te){vt.onTrackerMouseOut(te)}),mt.cursor&&!Ct.styledMode&&ae.css({cursor:mt.cursor}),x)&&ae.on("touchstart",Ft)})),o(this,"afterDrawTracker")},At.prototype.addPoint=function(ht,mt,dt,Lt,Ct){var vt=this.options,kt=this.data,Rt=this.chart,Xt=this.xAxis;Xt=Xt&&Xt.hasNames&&Xt.names;var ae,Ft=vt.data,qt=this.xData;mt=Y(mt,!0);var te={series:this};this.pointClass.prototype.applyOptions.apply(te,[ht]);var de=te.x,re=qt.length;if(this.requireSorting&&de<qt[re-1])for(ae=!0;re&&qt[re-1]>de;)re--;this.updateParallelArrays(te,"splice",re,0,0),this.updateParallelArrays(te,re),Xt&&te.name&&(Xt[de]=te.name),Ft.splice(re,0,ht),(ae||this.processedData)&&(this.data.splice(re,0,null),this.processData()),"point"===vt.legendType&&this.generatePoints(),dt&&(kt[0]&&kt[0].remove?kt[0].remove(!1):(kt.shift(),this.updateParallelArrays(te,"shift"),Ft.shift())),!1!==Ct&&o(this,"addPoint",{point:te}),this.isDirtyData=this.isDirty=!0,mt&&Rt.redraw(Lt)},At.prototype.removePoint=function(ht,mt,dt){var Lt=this,Ct=Lt.data,vt=Ct[ht],kt=Lt.points,Rt=Lt.chart,Xt=function(){kt&&kt.length===Ct.length&&kt.splice(ht,1),Ct.splice(ht,1),Lt.options.data.splice(ht,1),Lt.updateParallelArrays(vt||{series:Lt},"splice",ht,1),vt&&vt.destroy(),Lt.isDirty=!0,Lt.isDirtyData=!0,mt&&Rt.redraw()};h(dt,Rt),mt=Y(mt,!0),vt?vt.firePointEvent("remove",null,Xt):Xt()},At.prototype.remove=function(ht,mt,dt,Lt){function Ct(){vt.destroy(Lt),kt.isDirtyLegend=kt.isDirtyBox=!0,kt.linkSeries(),Y(ht,!0)&&kt.redraw(mt)}var vt=this,kt=vt.chart;!1!==dt?o(vt,"remove",null,Ct):Ct()},At.prototype.update=function(ht,mt){ht=C(ht,this.userOptions),o(this,"update",{options:ht});var dt=this,Lt=dt.chart,Ct=dt.userOptions,vt=dt.initialType||dt.type,kt=Lt.options.plotOptions,Rt=I[vt].prototype,Xt=dt.finishedAnimating&&{animation:!1},Ft={},qt=["eventOptions","navigatorSeries","baseSeries"],ae=ht.type||Ct.type||Lt.options.chart.type,te=!(this.hasDerivedData||ae&&ae!==this.type||typeof ht.pointStart<"u"||typeof ht.pointInterval<"u"||typeof ht.relativeXValue<"u"||ht.joinBy||ht.mapData||dt.hasOptionChanged("dataGrouping")||dt.hasOptionChanged("pointStart")||dt.hasOptionChanged("pointInterval")||dt.hasOptionChanged("pointIntervalUnit")||dt.hasOptionChanged("keys"));if(ae=ae||vt,te&&(qt.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==ht.visible&&qt.push("area","graph"),dt.parallelArrays.forEach(function(re){qt.push(re+"Data")}),ht.data&&(ht.dataSorting&&D(dt.options.dataSorting,ht.dataSorting),this.setData(ht.data,!1))),ht=yt(Ct,Xt,{index:typeof Ct.index>"u"?dt.index:Ct.index,pointStart:Y(kt&&kt.series&&kt.series.pointStart,Ct.pointStart,dt.xData[0])},!te&&{data:dt.options.data},ht),te&&ht.data&&(ht.data=dt.options.data),(qt=["group","markerGroup","dataLabelsGroup","transformGroup","shadowGroup"].concat(qt)).forEach(function(re){qt[re]=dt[re],delete dt[re]}),kt=!1,I[ae]){if(kt=ae!==dt.type,dt.remove(!1,!1,!1,!0),kt)if(Object.setPrototypeOf)Object.setPrototypeOf(dt,I[ae].prototype);else{for(de in Xt=Object.hasOwnProperty.call(dt,"hcEvents")&&dt.hcEvents,Rt)dt[de]=void 0;D(dt,I[ae].prototype),Xt?dt.hcEvents=Xt:delete dt.hcEvents}}else P(17,!0,Lt,{missingModuleFor:ae});if(qt.forEach(function(re){dt[re]=qt[re]}),dt.init(Lt,ht),te&&this.points){if(!1===(ht=dt.options).visible)Ft.graphic=1,Ft.dataLabel=1;else if(!dt._hasPointLabels){var de=ht.dataLabels;Ct=Ct.marker||{},!(Rt=ht.marker)||!1!==Rt.enabled&&Ct.symbol===Rt.symbol&&Ct.height===Rt.height&&Ct.width===Rt.width||(Ft.graphic=1),de&&!1===de.enabled&&(Ft.dataLabel=1)}for(Ct=0,Rt=this.points;Ct<Rt.length;Ct++)(de=Rt[Ct])&&de.series&&(de.resolveColor(),Object.keys(Ft).length&&de.destroyElements(Ft),!1===ht.showInLegend&&de.legendItem&&Lt.legend.destroyItem(de))}dt.initialType=vt,Lt.linkSeries(),kt&&dt.linkedSeries.length&&(dt.isDirtyData=!0),o(this,"afterUpdate"),Y(mt,!0)&&Lt.redraw(!!te&&void 0)},At.prototype.setName=function(ht){this.name=this.options.name=this.userOptions.name=ht,this.chart.isDirtyLegend=!0},At.prototype.hasOptionChanged=function(ht){var mt=this.options[ht],dt=this.chart.options.plotOptions,Lt=this.userOptions[ht];return Lt?mt!==Lt:mt!==Y(dt&&dt[this.type]&&dt[this.type][ht],dt&&dt.series&&dt.series[ht],mt)},At.prototype.onMouseOver=function(){var ht=this.chart,mt=ht.hoverSeries;ht.pointer.setHoverChartIndex(),mt&&mt!==this&&mt.onMouseOut(),this.options.events.mouseOver&&o(this,"mouseOver"),this.setState("hover"),ht.hoverSeries=this},At.prototype.onMouseOut=function(){var ht=this.options,mt=this.chart,dt=mt.tooltip,Lt=mt.hoverPoint;mt.hoverSeries=null,Lt&&Lt.onMouseOut(),this&&ht.events.mouseOut&&o(this,"mouseOut"),!dt||this.stickyTracking||dt.shared&&!this.noSharedTooltip||dt.hide(),mt.series.forEach(function(Ct){Ct.setState("",!0)})},At.prototype.setState=function(ht,mt){var dt=this,Lt=dt.options,Ct=dt.graph,vt=Lt.inactiveOtherPoints,kt=Lt.states,Rt=Y(kt[ht||"normal"]&&kt[ht||"normal"].animation,dt.chart.options.chart.animation),Xt=Lt.lineWidth,Ft=0,qt=Lt.opacity;if(dt.state!==(ht=ht||"")&&([dt.group,dt.markerGroup,dt.dataLabelsGroup].forEach(function(ae){ae&&(dt.state&&ae.removeClass("highcharts-series-"+dt.state),ht&&ae.addClass("highcharts-series-"+ht))}),dt.state=ht,!dt.chart.styledMode)){if(kt[ht]&&!1===kt[ht].enabled)return;if(ht&&(Xt=kt[ht].lineWidth||Xt+(kt[ht].lineWidthPlus||0),qt=Y(kt[ht].opacity,qt)),Ct&&!Ct.dashstyle&&q(Xt))for(Ct.animate(Lt={"stroke-width":Xt},Rt);dt["zone-graph-"+Ft];)dt["zone-graph-"+Ft].animate(Lt,Rt),Ft+=1;vt||[dt.group,dt.markerGroup,dt.dataLabelsGroup,dt.labelBySeries].forEach(function(ae){ae&&ae.animate({opacity:qt},Rt)})}mt&&vt&&dt.points&&dt.setAllPointsToState(ht||void 0)},At.prototype.setAllPointsToState=function(ht){this.points.forEach(function(mt){mt.setState&&mt.setState(ht)})},At.prototype.setVisible=function(ht,mt){var dt=this,Lt=dt.chart,Ct=Lt.options.chart.ignoreHiddenSeries,kt=(dt.visible=ht=dt.options.visible=dt.userOptions.visible=typeof ht>"u"?!dt.visible:ht)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Rt){dt[Rt]&&dt[Rt][kt]()}),(Lt.hoverSeries===dt||(Lt.hoverPoint&&Lt.hoverPoint.series)===dt)&&dt.onMouseOut(),dt.legendItem&&Lt.legend.colorizeItem(dt,ht),dt.isDirty=!0,dt.options.stacking&&Lt.series.forEach(function(Rt){Rt.options.stacking&&Rt.visible&&(Rt.isDirty=!0)}),dt.linkedSeries.forEach(function(Rt){Rt.setVisible(ht,!1)}),Ct&&(Lt.isDirtyBox=!0),o(dt,kt),!1!==mt&&Lt.redraw()},At.prototype.show=function(){this.setVisible(!0)},At.prototype.hide=function(){this.setVisible(!1)},At.prototype.select=function(ht){this.selected=ht=this.options.selected=typeof ht>"u"?!this.selected:ht,this.checkbox&&(this.checkbox.checked=ht),o(this,ht?"select":"unselect")},At.prototype.shouldShowTooltip=function(ht,mt,dt){return void 0===dt&&(dt={}),dt.series=this,dt.visiblePlotOnly=!0,this.chart.isInsidePlot(ht,mt,dt)},At.defaultOptions=X,At.types=F.seriesTypes,At.registerType=F.registerSeriesType,At}(),D(s.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:U.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:G,requireSorting:!0,sorted:!0}),F.series=s,s}),e(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/Series.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(s,c,S,M,U,G){var X=s.stop,F=G.addEvent,R=G.createElement,E=G.defined,a=G.merge,h=G.pick;F(S,"afterSetChartSize",function(l){var p=this.options.chart.scrollablePlotArea,x=p&&p.minWidth;if(p=p&&p.minHeight,!this.renderer.forExport){if(x){if(this.scrollablePixelsX=x=Math.max(0,x-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=a(this.plotBox),this.plotBox.width=this.plotWidth+=x,this.inverted?this.clipBox.height+=x:this.clipBox.width+=x;var T={1:{name:"right",value:x}}}}else p&&(this.scrollablePixelsY=x=Math.max(0,p-this.chartHeight),E(x)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=a(this.plotBox),this.plotBox.height=this.plotHeight+=x,this.inverted?this.clipBox.width+=x:this.clipBox.height+=x,T={2:{name:"bottom",value:x}}));T&&!l.skipAxes&&this.axes.forEach(function(b){T[b.side]?b.getPlotLinePath=function(){var I=T[b.side].name,u=this[I];this[I]=u-T[b.side].value;var n=c.prototype.getPlotLinePath.apply(this,arguments);return this[I]=u,n}:(b.setAxisSize(),b.setAxisTranslation())})}}),F(S,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),S.prototype.setUpScrolling=function(){var x,l=this,p={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(p.overflowX="auto"),this.scrollablePixelsY&&(p.overflowY="auto"),this.scrollingParent=R("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=R("div",{className:"highcharts-scrolling"},p,this.scrollingParent),F(this.scrollingContainer,"scroll",function(){l.pointer&&(delete l.pointer.chartPosition,l.hoverPoint&&(x=l.hoverPoint),l.pointer.runPointActions(void 0,x,!0))}),this.innerContainer=R("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},S.prototype.moveFixedElements=function(){var T,l=this.container,p=this.fixedRenderer,x=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?T=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?T=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(T=".highcharts-yaxis"),T&&x.push(T+":not(.highcharts-radial-axis)",T+"-labels:not(.highcharts-radial-axis-labels)"),x.forEach(function(b){[].forEach.call(l.querySelectorAll(b),function(I){(I.namespaceURI===p.SVG_NS?p.box:p.box.parentNode).appendChild(I),I.style.pointerEvents="auto"})})},S.prototype.applyFixed=function(){var l=!this.fixedDiv,p=this.options.chart,x=p.scrollablePlotArea,T=U.getRendererType();l?(this.fixedDiv=R("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(p.style&&p.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=p=new T(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=p.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":h(x.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),F(this,"afterShowResetZoom",this.moveFixedElements),F(this,"afterApplyDrilldown",this.moveFixedElements),F(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||l)&&(this.scrollableDirty=!1,this.moveFixedElements()),p=this.chartWidth+(this.scrollablePixelsX||0),T=this.chartHeight+(this.scrollablePixelsY||0),X(this.container),this.container.style.width=p+"px",this.container.style.height=T+"px",this.renderer.boxWrapper.attr({width:p,height:T,viewBox:[0,0,p,T].join(" ")}),this.chartBackground.attr({width:p,height:T}),this.scrollingContainer.style.height=this.chartHeight+"px",l&&(x.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*x.scrollPositionX),x.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*x.scrollPositionY)),l=this.plotTop-(T=this.axisOffset)[0]-1,x=this.plotLeft-T[3]-1,p=this.plotTop+this.plotHeight+T[2]+1,T=this.plotLeft+this.plotWidth+T[1]+1;var b=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),I=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);l=this.scrollablePixelsX?[["M",0,l],["L",this.plotLeft-1,l],["L",this.plotLeft-1,p],["L",0,p],["Z"],["M",b,l],["L",this.chartWidth,l],["L",this.chartWidth,p],["L",b,p],["Z"]]:this.scrollablePixelsY?[["M",x,0],["L",x,this.plotTop-1],["L",T,this.plotTop-1],["L",T,0],["Z"],["M",x,I],["L",x,this.chartHeight],["L",T,this.chartHeight],["L",T,I],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:l})},F(c,"afterInit",function(){this.chart.scrollableDirty=!0}),F(M,"show",function(){this.chart.scrollableDirty=!0})}),e(i,"Core/Axis/Stacking/StackItem.js",[i["Core/FormatUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S){var M=s.format,U=c.series,G=S.destroyObjectProperties,X=S.pick,F=S.isNumber;return function(){function R(E,a,h,l,p){var x=E.chart.inverted,T=E.reversed;this.axis=E,E=this.isNegative=!!h!=!!T,this.options=a=a||{},this.x=l,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=p,this.rightCliff=this.leftCliff=0,this.alignOptions={align:a.align||(x?E?"left":"right":"center"),verticalAlign:a.verticalAlign||(x?"middle":E?"bottom":"top"),y:a.y,x:a.x},this.textAlign=a.textAlign||(x?E?"right":"left":"center")}return R.prototype.destroy=function(){G(this,this.axis)},R.prototype.render=function(E){var a=this.axis.chart,h=this.options,l=h.format;l=l?M(l,this,a):h.formatter.call(this),this.label?this.label.attr({text:l,visibility:"hidden"}):(this.label=a.renderer.label(l,null,void 0,h.shape,void 0,void 0,h.useHTML,!1,"stack-labels"),l={r:h.borderRadius||0,text:l,padding:X(h.padding,5),visibility:"hidden"},a.styledMode||(l.fill=h.backgroundColor,l.stroke=h.borderColor,l["stroke-width"]=h.borderWidth,this.label.css(h.style||{})),this.label.attr(l),this.label.added||this.label.add(E)),this.label.labelrank=a.plotSizeY},R.prototype.setOffset=function(E,a,h,l,p,x){var T=this.alignOptions,b=this.axis,I=this.label,u=this.options,n=this.textAlign,k=b.chart;E=this.getStackBox({xOffset:E,width:a,boxBottom:h,boxTop:l,defaultX:p,xAxis:x}),p=T.verticalAlign,I&&E&&(a=I.getBBox(),h=I.padding,l="justify"===X(u.overflow,"justify"),T.x=u.x||0,T.y=u.y||0,n=(p=this.adjustStackPosition({labelBox:a,verticalAlign:p,textAlign:n})).x,p=p.y,E.x-=n,E.y-=p,I.align(T,!1,E),(n=k.isInsidePlot(I.alignAttr.x+T.x+n,I.alignAttr.y+T.y+p))||(l=!1),l&&U.prototype.justifyDataLabel.call(b,I,T,I.alignAttr,a,E),I.attr({x:I.alignAttr.x,y:I.alignAttr.y,rotation:u.rotation,rotationOriginX:a.width/2,rotationOriginY:a.height/2}),X(!l&&u.crop,!0)&&(n=F(I.x)&&F(I.y)&&k.isInsidePlot(I.x-h+I.width,I.y)&&k.isInsidePlot(I.x+h,I.y)),I[n?"show":"hide"]())},R.prototype.adjustStackPosition=function(E){var a=E.labelBox,h={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:a.width/2+a.width/2*h[E.textAlign],y:a.height/2*h[E.verticalAlign]}},R.prototype.getStackBox=function(E){var a=this.axis,h=a.chart,l=E.boxTop,p=E.defaultX,x=E.xOffset,T=E.width,b=E.boxBottom;return l=a.stacking.usePercentage?100:X(l,this.total,0),l=a.toPixels(l),E=X(p,(E.xAxis||h.xAxis[0]).toPixels(this.x))+x,a=a.toPixels(b||0),a=Math.abs(l-a),b=this.isNegative,h.inverted?{x:(b?l:l-a)-h.plotLeft,y:E-h.plotTop,width:a,height:T}:{x:E-h.plotLeft,y:(b?l-a:l)-h.plotTop,width:T,height:a}},R}()}),e(i,"Core/Axis/Stacking/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(s,c,S,M,U){function G(){var D=this,f=D.inverted;D.yAxis.forEach(function(o){o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),D.series.forEach(function(o){var B=o.xAxis&&o.xAxis.options||{};!o.options.stacking||!0!==o.visible&&!1!==D.options.chart.ignoreHiddenSeries||(o.stackKey=[o.type,m(o.options.stack,""),f?B.top:B.left,f?B.height:B.width].join())})}function X(){var D=this.stacking;if(D){var f=D.stacks;O(f,function(o,B){u(o),f[B]=null}),D&&D.stackTotalGroup&&D.stackTotalGroup.destroy()}}function F(){"yAxis"!==this.coll||this.stacking||(this.stacking=new A(this))}function R(D,f,o,B){return!I(D)||D.x!==f||B&&D.stackKey!==B?D={x:f,index:0,key:B,stackKey:B}:D.index++,D.key=[o,f,D.index].join(),D}function E(){var q,D=this,f=D.stackKey,o=D.yAxis.stacking.stacks,B=D.processedXData,V=D[D.options.stacking+"Stacker"];V&&[f,"-"+f].forEach(function(nt){for(var ut,Y,yt=B.length;yt--;)q=D.getStackIndicator(q,ut=B[yt],D.index,nt),(Y=(ut=o[nt]&&o[nt][ut])&&ut.points[q.key])&&V.call(D,Y,ut,yt)})}function a(D,f,o){D[0]=b(D[0]*(f=f.total?100/f.total:0)),D[1]=b(D[1]*f),this.stackedYData[o]=D[1]}function h(){var D=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?x.setStackedPoints.call(this,"group"):D&&O(D.stacks,function(f,o){"group"===o.slice(-5)&&(O(f,function(B){return B.destroy()}),delete D.stacks[o])})}function l(D){var f=this.chart,o=D||this.options.stacking;if(o&&(!0===this.visible||!1===f.options.chart.ignoreHiddenSeries)){var B=this.processedXData,V=this.processedYData,q=[],nt=V.length,yt=this.options,ut=yt.threshold,Y=m(yt.startFromThreshold&&ut,0);yt=yt.stack;var ht,mt,tt="-"+(D=D?""+this.type+",".concat(o):this.stackKey),wt=this.negStacks,St=(f="group"===o?f.yAxis[0]:this.yAxis).stacking.stacks,At=f.stacking.oldStacks;for(f.stacking.stacksTouched+=1,mt=0;mt<nt;mt++){var dt=B[mt],Lt=V[mt],Ct=this.getStackIndicator(Ct,dt,this.index),vt=Ct.key,kt=(ht=wt&&Lt<(Y?0:ut))?tt:D;St[kt]||(St[kt]={}),St[kt][dt]||(At[kt]&&At[kt][dt]?(St[kt][dt]=At[kt][dt],St[kt][dt].total=null):St[kt][dt]=new M(f,f.options.stackLabels,!!ht,dt,yt)),kt=St[kt][dt],null!==Lt?(kt.points[vt]=kt.points[this.index]=[m(kt.cumulative,Y)],I(kt.cumulative)||(kt.base=vt),kt.touched=f.stacking.stacksTouched,0<Ct.index&&!1===this.singleStacks&&(kt.points[vt][0]=kt.points[this.index+","+dt+",0"][0])):kt.points[vt]=kt.points[this.index]=null,"percent"===o?(ht=ht?D:tt,kt.total=wt&&St[ht]&&St[ht][dt]?(ht=St[ht][dt]).total=Math.max(ht.total,kt.total)+Math.abs(Lt)||0:b(kt.total+(Math.abs(Lt)||0))):"group"===o?(k(Lt)&&(Lt=Lt[0]),null!==Lt&&(kt.total=(kt.total||0)+1)):kt.total=b(kt.total+(Lt||0)),kt.cumulative="group"===o?(kt.total||1)-1:m(kt.cumulative,Y)+(Lt||0),null!==Lt&&(kt.points[vt].push(kt.cumulative),q[mt]=kt.cumulative,kt.hasValidPoints=!0)}"percent"===o&&(f.stacking.usePercentage=!0),"group"!==o&&(this.stackedYData=q),f.stacking.oldStacks={}}}var P,D,f,p=s.getDeferredAnimation,x=S.series.prototype,T=U.addEvent,b=U.correctFloat,I=U.defined,u=U.destroyObjectProperties,n=U.fireEvent,k=U.isArray,C=U.isNumber,O=U.objectEach,m=U.pick,A=function(){function D(f){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=f}return D.prototype.buildStacks=function(){var q,f=this.axis,o=f.series,B=f.options.reversedStacks,V=o.length;for(this.usePercentage=!1,q=V;q--;){var nt=o[B?q:V-q-1];nt.setStackedPoints(),nt.setGroupedPoints()}for(q=0;q<V;q++)o[q].modifyStacks();n(f,"afterBuildStacks")},D.prototype.cleanStacks=function(){if(this.oldStacks)var f=this.stacks=this.oldStacks;O(f,function(o){O(o,function(B){B.cumulative=B.total})})},D.prototype.resetStacks=function(){var f=this;O(this.stacks,function(o){O(o,function(B,V){C(B.touched)&&B.touched<f.stacksTouched?(B.destroy(),delete o[V]):(B.total=null,B.cumulative=null)})})},D.prototype.renderStackTotals=function(){var f=this.axis,o=f.chart,B=o.renderer,V=this.stacks;f=p(o,f.options.stackLabels&&f.options.stackLabels.animation||!1);var q=this.stackTotalGroup=this.stackTotalGroup||B.g("stack-labels").attr({zIndex:6,opacity:0}).add();q.translate(o.plotLeft,o.plotTop),O(V,function(nt){O(nt,function(yt){yt.render(q)})}),q.animate({opacity:1},f)},D}();return D=P||(P={}),f=[],D.compose=function(o,B,V){-1===f.indexOf(o)&&(f.push(o),T(o,"init",F),T(o,"destroy",X)),-1===f.indexOf(B)&&(f.push(B),B.prototype.getStacks=G),-1===f.indexOf(V)&&(f.push(V),(o=V.prototype).getStackIndicator=R,o.modifyStacks=E,o.percentStacker=a,o.setGroupedPoints=h,o.setStackedPoints=l)},P}),e(i,"Series/Line/LineSeries.js",[i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S){var X,M=this&&this.__extends||(X=function(F,R){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,a){E.__proto__=a}||function(E,a){for(var h in a)a.hasOwnProperty(h)&&(E[h]=a[h])})(F,R)},function(F,R){function E(){this.constructor=F}X(F,R),F.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}),U=S.defined,G=S.merge;return S=function(X){function F(){var R=null!==X&&X.apply(this,arguments)||this;return R.data=void 0,R.options=void 0,R.points=void 0,R}return M(F,X),F.prototype.drawGraph=function(){var R=this,E=this.options,a=(this.gappedPath||this.getGraphPath).call(this),h=this.chart.styledMode,l=[["graph","highcharts-graph"]];h||l[0].push(E.lineColor||this.color||"#cccccc",E.dashStyle),(l=R.getZonesGraphs(l)).forEach(function(p,x){var T=p[0],b=R[T],I=b?"animate":"attr";b?(b.endX=R.preventGraphAnimation?null:a.xMap,b.animate({d:a})):a.length&&(R[T]=b=R.chart.renderer.path(a).addClass(p[1]).attr({zIndex:1}).add(R.group)),b&&!h&&(T={stroke:p[2],"stroke-width":E.lineWidth||0,fill:R.fillGraph&&R.color||"none"},p[3]?T.dashstyle=p[3]:"square"!==E.linecap&&(T["stroke-linecap"]=T["stroke-linejoin"]="round"),b[I](T).shadow(2>x&&E.shadow)),b&&(b.startX=a.xMap,b.isArea=a.isArea)})},F.prototype.getGraphPath=function(R,E,a){var T,h=this,l=h.options,p=[],x=[],b=l.step,I=(R=R||h.points).reversed;return I&&R.reverse(),(b={right:1,center:2}[b]||b&&3)&&I&&(b=4-b),(R=this.getValidPoints(R,!1,!(l.connectNulls&&!E&&!a))).forEach(function(u,n){var k=u.plotX,C=u.plotY,O=R[n-1];(u.leftCliff||O&&O.rightCliff)&&!a&&(T=!0),u.isNull&&!U(E)&&0<n?T=!l.connectNulls:u.isNull&&!E?T=!0:(0===n||T?n=[["M",u.plotX,u.plotY]]:h.getPointSpline?n=[h.getPointSpline(R,u,n)]:b?(n=1===b?[["L",O.plotX,C]]:2===b?[["L",(O.plotX+k)/2,O.plotY],["L",(O.plotX+k)/2,C]]:[["L",k,O.plotY]]).push(["L",k,C]):n=[["L",k,C]],x.push(u.x),b&&(x.push(u.x),2===b&&x.push(u.x)),p.push.apply(p,n),T=!1)}),p.xMap=x,h.graphPath=p},F.prototype.getZonesGraphs=function(R){return this.zones.forEach(function(E,a){a=["zone-graph-"+a,"highcharts-graph highcharts-zone-graph-"+a+" "+(E.className||"")],this.chart.styledMode||a.push(E.color||this.color,E.dashStyle||this.options.dashStyle),R.push(a)},this),R},F.defaultOptions=G(s.defaultOptions,{}),F}(s),c.registerSeriesType("line",S),S}),e(i,"Series/Area/AreaSeries.js",[i["Core/Color/Color.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S,M){var a,U=this&&this.__extends||(a=function(h,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var T in x)x.hasOwnProperty(T)&&(p[T]=x[T])})(h,l)},function(h,l){function p(){this.constructor=h}a(h,l),h.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)}),G=s.parse,X=S.seriesTypes.line;s=M.extend;var F=M.merge,R=M.objectEach,E=M.pick;return M=function(a){function h(){var l=null!==a&&a.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return U(h,a),h.prototype.drawGraph=function(){this.areaPath=[],a.prototype.drawGraph.apply(this);var l=this,p=this.areaPath,x=this.options,T=[["area","highcharts-area",this.color,x.fillColor]];this.zones.forEach(function(b,I){T.push(["zone-area-"+I,"highcharts-area highcharts-zone-area-"+I+" "+b.className,b.color||l.color,b.fillColor||x.fillColor])}),T.forEach(function(b){var I=b[0],u={},n=l[I],k=n?"animate":"attr";n?(n.endX=l.preventGraphAnimation?null:p.xMap,n.animate({d:p})):(u.zIndex=0,(n=l[I]=l.chart.renderer.path(p).addClass(b[1]).add(l.group)).isArea=!0),l.chart.styledMode||(u.fill=E(b[3],G(b[2]).setOpacity(E(x.fillOpacity,.75)).get())),n[k](u),n.startX=p.xMap,n.shiftUnit=x.step?2:1})},h.prototype.getGraphPath=function(l){var p=X.prototype.getGraphPath,x=this.options,T=x.stacking,b=this.yAxis,I=[],u=[],n=this.index,k=b.stacking.stacks[this.stackKey],C=x.threshold,O=Math.round(b.getThreshold(x.threshold));x=E(x.connectNulls,"percent"===T);var m=function(B,V,q){var nt=l[B];B=T&&k[nt.x].points[n];var yt=nt[q+"Null"]||0;if(q=nt[q+"Cliff"]||0,nt=!0,q||yt){var ut=(yt?B[0]:B[1])+q,Y=B[0]+q;nt=!!yt}else!T&&l[V]&&l[V].isNull&&(ut=Y=C);typeof ut<"u"&&(u.push({plotX:f,plotY:null===ut?O:b.getThreshold(ut),isNull:nt,isCliff:!0}),I.push({plotX:f,plotY:null===Y?O:b.getThreshold(Y),doCurve:!1}))};l=l||this.points,T&&(l=this.getStackPoints(l));for(var A=0,P=l.length;A<P;++A){T||(l[A].leftCliff=l[A].rightCliff=l[A].leftNull=l[A].rightNull=void 0);var D=l[A].isNull,f=E(l[A].rectPlotX,l[A].plotX),o=T?E(l[A].yBottom,O):O;(!D||x)&&(x||m(A,A-1,"left"),D&&!T&&x||(u.push(l[A]),I.push({x:A,plotX:f,plotY:o})),x||m(A,A+1,"right"))}return m=p.call(this,u,!0,!0),I.reversed=!0,(o=(D=p.call(this,I,!0,!0))[0])&&"M"===o[0]&&(D[0]=["L",o[1],o[2]]),(D=m.concat(D)).length&&D.push(["Z"]),p=p.call(this,u,!1,x),D.xMap=m.xMap,this.areaPath=D,p},h.prototype.getStackPoints=function(l){var p=this,x=[],T=[],b=this.xAxis,I=this.yAxis,u=I.stacking.stacks[this.stackKey],n={},k=I.series,C=k.length,O=I.options.reversedStacks?1:-1,m=k.indexOf(p);if(l=l||this.points,this.options.stacking){for(var A=0;A<l.length;A++)l[A].leftNull=l[A].rightNull=void 0,n[l[A].x]=l[A];R(u,function(D,f){null!==D.total&&T.push(f)}),T.sort(function(D,f){return D-f});var P=k.map(function(D){return D.visible});T.forEach(function(D,f){var B,V,o=0;if(n[D]&&!n[D].isNull)x.push(n[D]),[-1,1].forEach(function(nt){var yt=1===nt?"rightNull":"leftNull",ut=u[T[f+nt]],Y=0;if(ut)for(var tt=m;0<=tt&&tt<C;){var wt=k[tt].index;(B=ut.points[wt])||(wt===p.index?n[D][yt]=!0:P[tt]&&(V=u[D].points[wt])&&(Y-=V[1]-V[0])),tt+=O}n[D][1===nt?"rightCliff":"leftCliff"]=Y});else{for(var q=m;0<=q&&q<C;){if(B=u[D].points[k[q].index]){o=B[1];break}q+=O}o=E(o,0),o=I.translate(o,0,1,0,1),x.push({isNull:!0,plotX:b.translate(D,0,0,0,1),x:D,plotY:o,yBottom:o})}})}return x},h.defaultOptions=F(X.defaultOptions,{threshold:0}),h}(X),s(M.prototype,{singleStacks:!1,drawLegendSymbol:c.drawRectangle}),S.registerSeriesType("area",M),M}),e(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c){var X,S=this&&this.__extends||(X=function(F,R){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,a){E.__proto__=a}||function(E,a){for(var h in a)a.hasOwnProperty(h)&&(E[h]=a[h])})(F,R)},function(F,R){function E(){this.constructor=F}X(F,R),F.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}),M=s.seriesTypes.line,U=c.merge,G=c.pick;return c=function(X){function F(){var R=null!==X&&X.apply(this,arguments)||this;return R.data=void 0,R.options=void 0,R.points=void 0,R}return S(F,X),F.prototype.getPointSpline=function(R,E,a){var h=E.plotX||0,l=E.plotY||0,p=R[a-1];if(a=R[a+1],p&&!p.isNull&&!1!==p.doCurve&&!E.isCliff&&a&&!a.isNull&&!1!==a.doCurve&&!E.isCliff){var x=a.plotX||0,T=0,b=(1.5*h+(p.plotX||0))/2.5,I=(1.5*l+(R=p.plotY||0))/2.5,u=(1.5*l+(a=a.plotY||0))/2.5;(x=(1.5*h+x)/2.5)!==b&&(T=(u-I)*(x-h)/(x-b)+l-u),u+=T,(I+=T)>R&&I>l?u=2*l-(I=Math.max(R,l)):I<R&&I<l&&(u=2*l-(I=Math.min(R,l))),u>a&&u>l?I=2*l-(u=Math.max(a,l)):u<a&&u<l&&(I=2*l-(u=Math.min(a,l))),E.rightContX=x,E.rightContY=u}return E=["C",G(p.rightContX,p.plotX,0),G(p.rightContY,p.plotY,0),G(b,h,0),G(I,l,0),h,l],p.rightContX=p.rightContY=void 0,E},F.defaultOptions=U(M.defaultOptions),F}(M),s.registerSeriesType("spline",c),c}),e(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Spline/SplineSeries.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S,M){var E,U=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),G=S.seriesTypes,X=G.area;G=G.area.prototype;var F=M.extend,R=M.merge;return M=function(E){function a(){var h=null!==E&&E.apply(this,arguments)||this;return h.data=void 0,h.points=void 0,h.options=void 0,h}return U(a,E),a.defaultOptions=R(s.defaultOptions,X.defaultOptions),a}(s),F(M.prototype,{getGraphPath:G.getGraphPath,getStackPoints:G.getStackPoints,drawGraph:G.drawGraph,drawLegendSymbol:c.drawRectangle}),S.registerSeriesType("areaspline",M),M}),e(i,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),e(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Series/Column/ColumnSeriesDefaults.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S,M,U,G,X,F){var C,R=this&&this.__extends||(C=function(O,m){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,P){A.__proto__=P}||function(A,P){for(var D in P)P.hasOwnProperty(D)&&(A[D]=P[D])})(O,m)},function(O,m){function A(){this.constructor=O}C(O,m),O.prototype=null===m?Object.create(m):(A.prototype=m.prototype,new A)}),E=s.animObject,a=c.parse,h=M.hasTouch;s=M.noop;var l=F.clamp,p=F.defined,x=F.extend,T=F.fireEvent,b=F.isArray,I=F.isNumber,u=F.merge,n=F.pick,k=F.objectEach;return F=function(C){function O(){var m=null!==C&&C.apply(this,arguments)||this;return m.borderWidth=void 0,m.data=void 0,m.group=void 0,m.options=void 0,m.points=void 0,m}return R(O,C),O.prototype.animate=function(m){var A=this,P=this.yAxis,D=A.options,f=this.chart.inverted,o={},B=f?"translateX":"translateY";if(m)o.scaleY=.001,m=l(P.toPixels(D.threshold),P.pos,P.pos+P.len),f?o.translateX=m-P.len:o.translateY=m,A.clipBox&&A.setClip(),A.group.attr(o);else{var V=Number(A.group.attr(B));A.group.animate({scaleY:1},x(E(A.options.animation),{step:function(q,nt){A.group&&(o[B]=V+nt.pos*(P.pos-V),A.group.attr(o))}}))}},O.prototype.init=function(m,A){C.prototype.init.apply(this,arguments);var P=this;(m=P.chart).hasRendered&&m.series.forEach(function(D){D.type===P.type&&(D.isDirty=!0)})},O.prototype.getColumnMetrics=function(){var m=this,A=m.options,P=m.xAxis,D=m.yAxis,f=P.options.reversedStacks;f=P.reversed&&!f||!P.reversed&&f;var B,o={},V=0;!1===A.grouping?V=1:m.chart.series.forEach(function(ut){var Y=ut.yAxis,tt=ut.options;if(ut.type===m.type&&(ut.visible||!m.chart.options.chart.ignoreHiddenSeries)&&D.len===Y.len&&D.pos===Y.pos){if(tt.stacking&&"group"!==tt.stacking){typeof o[B=ut.stackKey]>"u"&&(o[B]=V++);var wt=o[B]}else!1!==tt.grouping&&(wt=V++);ut.columnIndex=wt}});var q=Math.min(Math.abs(P.transA)*(P.ordinal&&P.ordinal.slope||A.pointRange||P.closestPointRange||P.tickInterval||1),P.len),nt=q*A.groupPadding,yt=(q-2*nt)/(V||1);return A=Math.min(A.maxPointWidth||P.len,n(A.pointWidth,yt*(1-2*A.pointPadding))),m.columnMetrics={width:A,offset:(yt-A)/2+(nt+((m.columnIndex||0)+(f?1:0))*yt-q/2)*(f?-1:1),paddedWidth:yt,columnCount:V},m.columnMetrics},O.prototype.crispCol=function(m,A,P,D){var f=this.chart,o=this.borderWidth,B=-(o%2?.5:0);return o=o%2?.5:1,f.inverted&&f.renderer.isVML&&(o+=1),this.options.crisp&&(P=Math.round(m+P)+B,P-=m=Math.round(m)+B),D=Math.round(A+D)+o,B=.5>=Math.abs(A)&&.5<D,D-=A=Math.round(A)+o,B&&D&&(--A,D+=1),{x:m,y:A,width:P,height:D}},O.prototype.adjustForMissingColumns=function(m,A,P,D){var f=this,o=this.options.stacking;if(!P.isNull&&1<D.columnCount){var B=this.yAxis.options.reversedStacks,V=0,q=B?0:-D.columnCount;k(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(nt){if("number"==typeof P.x){var yt=nt[P.x.toString()];yt&&(nt=yt.points[f.index],o?(nt&&(V=q),yt.hasValidPoints&&(B?q++:q--)):b(nt)&&(nt=Object.keys(yt.points).filter(function(ut){return!ut.match(",")&&yt.points[ut]&&1<yt.points[ut].length}).map(parseFloat).sort(function(ut,Y){return Y-ut}),V=nt.indexOf(f.index),q=nt.length))}}),m=(P.plotX||0)+((q-1)*D.paddedWidth+A)/2-A-V*D.paddedWidth}return m},O.prototype.translate=function(){var m=this,A=m.chart,P=m.options,D=m.dense=2>m.closestPointRange*m.xAxis.transA;D=m.borderWidth=n(P.borderWidth,D?0:1);var f=m.xAxis,o=m.yAxis,B=P.threshold,V=m.translatedThreshold=o.getThreshold(B),q=n(P.minPointLength,5),nt=m.getColumnMetrics(),yt=nt.width,ut=m.pointXOffset=nt.offset,Y=m.dataMin,tt=m.dataMax,wt=m.barW=Math.max(yt,1+2*D);A.inverted&&(V-=.5),P.pointPadding&&(wt=Math.ceil(wt)),G.prototype.translate.apply(m),m.points.forEach(function(St){var At=n(St.yBottom,V),ht=999+Math.abs(At),mt=St.plotX||0;ht=l(St.plotY,-ht,o.len+ht);var dt=Math.min(ht,At),Lt=Math.max(ht,At)-dt,Ct=yt,vt=mt+ut,kt=wt;q&&Math.abs(Lt)<q&&(Lt=q,mt=!o.reversed&&!St.negative||o.reversed&&St.negative,I(B)&&I(tt)&&St.y===B&&tt<=B&&(o.min||0)<B&&(Y!==tt||(o.max||0)<=B)&&(mt=!mt),dt=Math.abs(dt-V)>q?At-q:V-(mt?q:0)),p(St.options.pointWidth)&&(Ct=kt=Math.ceil(St.options.pointWidth),vt-=Math.round((Ct-yt)/2)),P.centerInCategory&&(vt=m.adjustForMissingColumns(vt,Ct,St,nt)),St.barX=vt,St.pointWidth=Ct,St.tooltipPos=A.inverted?[l(o.len+o.pos-A.plotLeft-ht,o.pos-A.plotLeft,o.len+o.pos-A.plotLeft),f.len+f.pos-A.plotTop-vt-kt/2,Lt]:[f.left-A.plotLeft+vt+kt/2,l(ht+o.pos-A.plotTop,o.pos-A.plotTop,o.len+o.pos-A.plotTop),Lt],St.shapeType=m.pointClass.prototype.shapeType||"rect",St.shapeArgs=m.crispCol.apply(m,St.isNull?[vt,V,kt,0]:[vt,dt,kt,Lt])})},O.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},O.prototype.pointAttribs=function(m,A){var P=this.options,D=this.pointAttrToOptions||{},f=D.stroke||"borderColor",o=D["stroke-width"]||"borderWidth",B=m&&m.color||this.color,V=m&&m[f]||P[f]||B;D=m&&m.options.dashStyle||P.dashStyle;var q=m&&m[o]||P[o]||this[o]||0,nt=n(m&&m.opacity,P.opacity,1);if(m&&this.zones.length){var yt=m.getZone();B=m.options.color||yt&&(yt.color||m.nonZonedColor)||this.color,yt&&(V=yt.borderColor||V,D=yt.dashStyle||D,q=yt.borderWidth||q)}return A&&m&&(A=(m=u(P.states[A],m.options.states&&m.options.states[A]||{})).brightness,B=m.color||typeof A<"u"&&a(B).brighten(m.brightness).get()||B,V=m[f]||V,q=m[o]||q,D=m.dashStyle||D,nt=n(m.opacity,nt)),f={fill:B,stroke:V,"stroke-width":q,opacity:nt},D&&(f.dashstyle=D),f},O.prototype.drawPoints=function(m){void 0===m&&(m=this.points);var B,A=this,P=this.chart,D=A.options,f=P.renderer,o=D.animationLimit||250;m.forEach(function(V){var q=V.graphic,nt=!!q,yt=q&&P.pointCount<o?"animate":"attr";I(V.plotY)&&null!==V.y?(B=V.shapeArgs,q&&V.hasNewShapeType()&&(q=q.destroy()),A.enabledDataSorting&&(V.startXPos=A.xAxis.reversed?-(B&&B.width||0):A.xAxis.width),q||(V.graphic=q=f[V.shapeType](B).add(V.group||A.group))&&A.enabledDataSorting&&P.hasRendered&&P.pointCount<o&&(q.attr({x:V.startXPos}),nt=!0,yt="animate"),q&&nt&&q[yt](u(B)),D.borderRadius&&q[yt]({r:D.borderRadius}),P.styledMode||q[yt](A.pointAttribs(V,V.selected&&"select")).shadow(!1!==V.allowShadow&&D.shadow,null,D.stacking&&!D.borderRadius),q&&(q.addClass(V.getClassName(),!0),q.attr({visibility:V.visible?"inherit":"hidden"}))):q&&(V.graphic=q.destroy())})},O.prototype.drawTracker=function(m){void 0===m&&(m=this.points);var o,A=this,P=A.chart,D=P.pointer,f=function(B){var V=D.getPointFromEvent(B);typeof V<"u"&&(D.isDirectTouch=!0,V.onMouseOver(B))};m.forEach(function(B){o=b(B.dataLabels)?B.dataLabels:B.dataLabel?[B.dataLabel]:[],B.graphic&&(B.graphic.element.point=B),o.forEach(function(V){V.div?V.div.point=B:V.element.point=B})}),A._hasTracking||(A.trackerGroups.forEach(function(B){A[B]&&(A[B].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(V){D.onTrackerMouseOut(V)}),h&&A[B].on("touchstart",f),!P.styledMode&&A.options.cursor&&A[B].css({cursor:A.options.cursor}))}),A._hasTracking=!0),T(this,"afterDrawTracker")},O.prototype.remove=function(){var m=this,A=m.chart;A.hasRendered&&A.series.forEach(function(P){P.type===m.type&&(P.isDirty=!0)}),G.prototype.remove.apply(m,arguments)},O.defaultOptions=u(G.defaultOptions,S),O}(G),x(F.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:U.drawRectangle,getSymbol:s,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),X.registerSeriesType("column",F),F}),e(i,"Core/Series/DataLabel.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],function(s,c,S){var x,M=s.getDeferredAnimation,U=c.format,G=S.defined,X=S.extend,F=S.fireEvent,R=S.isArray,E=S.isString,a=S.merge,h=S.objectEach,l=S.pick,p=S.splat;return function(T){function b(m,A,P,D,f){var o=this,B=this.chart,V=this.isCartesian&&B.inverted,q=this.enabledDataSorting,nt=m.plotX,yt=m.plotY,ut=P.rotation,Y=P.align,tt=G(nt)&&G(yt)&&B.isInsidePlot(nt,Math.round(yt),{inverted:V,paneCoordinates:!0,series:o});yt=function(ht){q&&o.xAxis&&!wt&&o.setDataLabelStartPos(m,A,f,tt,ht)};var wt="justify"===l(P.overflow,q?"none":"justify");if(nt=this.visible&&!1!==m.visible&&G(nt)&&(m.series.forceDL||q&&!wt||tt||l(P.inside,!!this.options.stacking)&&D&&B.isInsidePlot(nt,V?D.x+1:D.y+D.height-1,{inverted:V,paneCoordinates:!0,series:o})),V=m.pos(),nt&&V){ut&&A.attr({align:Y}),Y=A.getBBox(!0);var St=[0,0],At=B.renderer.fontMetrics(B.styledMode?void 0:P.style.fontSize,A).b;D=X({x:V[0],y:Math.round(V[1]),width:0,height:0},D),X(P,{width:Y.width,height:Y.height}),ut?(wt=!1,St=B.renderer.rotCorr(At,ut),At={x:D.x+(P.x||0)+D.width/2+St.x,y:D.y+(P.y||0)+{top:0,middle:.5,bottom:1}[P.verticalAlign]*D.height},St=[Y.x-Number(A.attr("x")),Y.y-Number(A.attr("y"))],yt(At),A[f?"attr":"animate"](At)):(yt(D),A.align(P,void 0,D),At=A.alignAttr),wt&&0<=D.height?this.justifyDataLabel(A,P,At,Y,D,f):l(P.crop,!0)&&(D=At.x,yt=At.y,nt=B.isInsidePlot(D+=St[0],yt+=St[1],{paneCoordinates:!0,series:o})&&B.isInsidePlot(D+Y.width,yt+Y.height,{paneCoordinates:!0,series:o})),P.shape&&!ut&&A[f?"attr":"animate"]({anchorX:V[0],anchorY:V[1]})}f&&q&&(A.placed=!1),nt||q&&!wt?A.show():(A.hide(),A.placed=!1)}function u(m){void 0===m&&(m=this.points);var A=this,P=A.chart,D=A.options,f=A.hasRendered||0,o=P.renderer,B=P.options.chart,V=B.backgroundColor,q=o.getContrast(E(B=B.plotBackgroundColor)&&B||E(V)&&V||"#000000"),nt=D.dataLabels;if(V=nt.animation,V=nt.defer?M(P,V,A):{defer:0,duration:0},nt=k(k(P.options.plotOptions&&P.options.plotOptions.series&&P.options.plotOptions.series.dataLabels,P.options.plotOptions&&P.options.plotOptions[A.type]&&P.options.plotOptions[A.type].dataLabels),nt),F(this,"drawDataLabels"),R(nt)||nt.enabled||A._hasPointLabels){var ut=A.plotGroup("dataLabelsGroup","data-labels",f?"inherit":"hidden",nt.zIndex||6);ut.attr({opacity:+f}),!f&&(f=A.dataLabelsGroup)&&(A.visible&&ut.show(),f[D.animation?"animate":"attr"]({opacity:1},V)),m.forEach(function(Y){p(k(nt,Y.dlOptions||Y.options&&Y.options.dataLabels)).forEach(function(tt,wt){var St=tt.enabled&&(!Y.isNull||Y.dataLabelOnNull)&&function I(m,A){var P=A.filter;return!P||(A=P.operator,m=m[P.property],P=P.value,">"===A&&m>P||"<"===A&&m<P||">="===A&&m>=P||"<="===A&&m<=P||"=="===A&&m==P||"==="===A&&m===P)}(Y,tt),At=Y.connectors?Y.connectors[wt]:Y.connector,ht=Y.dataLabels?Y.dataLabels[wt]:Y.dataLabel,mt=!ht,dt=l(tt.distance,Y.labelDistance);if(St){var Lt=Y.getLabelConfig(),Ct=l(tt[Y.formatPrefix+"Format"],tt.format);Lt=G(Ct)?U(Ct,Lt,P):(tt[Y.formatPrefix+"Formatter"]||tt.formatter).call(Lt,tt),Ct=tt.style;var vt=tt.rotation;P.styledMode||(Ct.color=l(tt.color,Ct.color,A.color,"#000000"),"contrast"===Ct.color?(Y.contrastColor=o.getContrast(Y.color||A.color),Ct.color=!G(dt)&&tt.inside||0>dt||D.stacking?Y.contrastColor:q):delete Y.contrastColor,D.cursor&&(Ct.cursor=D.cursor));var kt={r:tt.borderRadius||0,rotation:vt,padding:tt.padding,zIndex:1};if(!P.styledMode){var Rt=tt.borderColor;kt.fill="auto"===(dt=tt.backgroundColor)?Y.color:dt,kt.stroke="auto"===Rt?Y.color:Rt,kt["stroke-width"]=tt.borderWidth}h(kt,function(Xt,Ft){typeof Xt>"u"&&delete kt[Ft]})}!ht||St&&G(Lt)&&!!ht.div==!!tt.useHTML&&(ht.rotation&&tt.rotation||ht.rotation===tt.rotation)||(mt=!0,Y.dataLabel=ht=Y.dataLabel&&Y.dataLabel.destroy(),Y.dataLabels&&(1===Y.dataLabels.length?delete Y.dataLabels:delete Y.dataLabels[wt]),wt||delete Y.dataLabel,At&&(Y.connector=Y.connector.destroy(),Y.connectors&&(1===Y.connectors.length?delete Y.connectors:delete Y.connectors[wt]))),St&&G(Lt)?(ht?kt.text=Lt:(Y.dataLabels=Y.dataLabels||[],ht=Y.dataLabels[wt]=vt?o.text(Lt,0,0,tt.useHTML).addClass("highcharts-data-label"):o.label(Lt,0,0,tt.shape,null,null,tt.useHTML,null,"data-label"),wt||(Y.dataLabel=ht),ht.addClass(" highcharts-data-label-color-"+Y.colorIndex+" "+(tt.className||"")+(tt.useHTML?" highcharts-tracker":""))),ht.options=tt,ht.attr(kt),P.styledMode||ht.css(Ct).shadow(tt.shadow),(wt=tt[Y.formatPrefix+"TextPath"]||tt.textPath)&&!tt.useHTML&&(ht.setTextPath(Y.getDataLabelPath&&Y.getDataLabelPath(ht)||Y.graphic,wt),Y.dataLabelPath&&!wt.enabled&&(Y.dataLabelPath=Y.dataLabelPath.destroy())),ht.added||ht.add(ut),A.alignDataLabel(Y,ht,tt,null,mt)):ht&&ht.hide()})})}F(this,"afterDrawDataLabels")}function n(m,A,P,D,f,o){var B=this.chart,V=A.align,q=A.verticalAlign,nt=m.box?0:m.padding||0,yt=A.x;yt=void 0===yt?0:yt;var ut=A.y;ut=void 0===ut?0:ut;var Y=(P.x||0)+nt;if(0>Y){"right"===V&&0<=yt?(A.align="left",A.inside=!0):yt-=Y;var tt=!0}return(Y=(P.x||0)+D.width-nt)>B.plotWidth&&("left"===V&&0>=yt?(A.align="right",A.inside=!0):yt+=B.plotWidth-Y,tt=!0),0>(Y=P.y+nt)&&("bottom"===q&&0<=ut?(A.verticalAlign="top",A.inside=!0):ut-=Y,tt=!0),(Y=(P.y||0)+D.height-nt)>B.plotHeight&&("top"===q&&0>=ut?(A.verticalAlign="bottom",A.inside=!0):ut+=B.plotHeight-Y,tt=!0),tt&&(A.x=yt,A.y=ut,m.placed=!o,m.align(A,void 0,f)),tt}function k(m,A){var D,P=[];if(R(m)&&!R(A))P=m.map(function(f){return a(f,A)});else if(R(A)&&!R(m))P=A.map(function(f){return a(m,f)});else if(R(m)||R(A))for(D=Math.max(m.length,A.length);D--;)P[D]=a(m[D],A[D]);else P=a(m,A);return P}function C(m,A,P,D,f){var o=this.chart,B=o.inverted,V=this.xAxis,q=V.reversed,nt=B?A.height/2:A.width/2;m=(m=m.pointWidth)?m/2:0,A.startXPos=B?f.x:q?-nt-m:V.width-nt+m,A.startYPos=B?q?this.yAxis.height-nt+m:-nt-m:f.y,D?"hidden"===A.visibility&&(A.show(),A.attr({opacity:0}).animate({opacity:1})):A.attr({opacity:1}).animate({opacity:0},void 0,A.hide),o.hasRendered&&(P&&A.attr({x:A.startXPos,y:A.startYPos}),A.placed=!0)}var O=[];T.compose=function(m){if(-1===O.indexOf(m)){var A=m.prototype;O.push(m),A.alignDataLabel=b,A.drawDataLabels=u,A.justifyDataLabel=n,A.setDataLabelStartPos=C}}}(x||(x={})),x}),e(i,"Series/Column/ColumnDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S){var X,M=c.series,U=S.merge,G=S.pick;return function(F){function R(a,h,l,p,x){var T=this.chart.inverted,b=a.series,I=(b.xAxis?b.xAxis.len:this.chart.plotSizeX)||0,u=a.dlBox||a.shapeArgs,n=G(a.below,a.plotY>G(this.translatedThreshold,b=(b.yAxis?b.yAxis.len:this.chart.plotSizeY)||0)),k=G(l.inside,!!this.options.stacking);u&&(0>(p=U(u)).y&&(p.height+=p.y,p.y=0),0<(u=p.y+p.height-b)&&u<p.height&&(p.height-=u),T&&(p={x:b-p.y-p.height,y:I-p.x-p.width,width:p.height,height:p.width}),k||(T?(p.x+=n?0:p.width,p.width=0):(p.y+=n?p.height:0,p.height=0))),l.align=G(l.align,!T||k?"center":n?"right":"left"),l.verticalAlign=G(l.verticalAlign,T||k?"middle":n?"top":"bottom"),M.prototype.alignDataLabel.call(this,a,h,l,p,x),l.inside&&a.contrastColor&&h.css({color:a.contrastColor})}var E=[];F.compose=function(a){s.compose(M),-1===E.indexOf(a)&&(E.push(a),a.prototype.alignDataLabel=R)}}(X||(X={})),X}),e(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S){var X,M=this&&this.__extends||(X=function(F,R){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,a){E.__proto__=a}||function(E,a){for(var h in a)a.hasOwnProperty(h)&&(E[h]=a[h])})(F,R)},function(F,R){function E(){this.constructor=F}X(F,R),F.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}),U=S.extend,G=S.merge;return S=function(X){function F(){var R=null!==X&&X.apply(this,arguments)||this;return R.data=void 0,R.options=void 0,R.points=void 0,R}return M(F,X),F.defaultOptions=G(s.defaultOptions,{}),F}(s),U(S.prototype,{inverted:!0}),c.registerSeriesType("bar",S),S}),e(i,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),e(i,"Series/Scatter/ScatterSeries.js",[i["Series/Scatter/ScatterSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S){var E,M=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),U=c.seriesTypes,G=U.column,X=U.line;U=S.addEvent;var F=S.extend,R=S.merge;return S=function(E){function a(){var h=null!==E&&E.apply(this,arguments)||this;return h.data=void 0,h.options=void 0,h.points=void 0,h}return M(a,E),a.prototype.applyJitter=function(){var h=this,l=this.options.jitter,p=this.points.length;l&&this.points.forEach(function(x,T){["x","y"].forEach(function(b,I){var u="plot"+b.toUpperCase();if(l[b]&&!x.isNull){var n=h[b+"Axis"],k=l[b]*n.transA;if(n&&!n.isLog){var C=Math.max(0,x[u]-k);n=Math.min(n.len,x[u]+k),I=1e4*Math.sin(T+I*p),x[u]=C+(n-C)*(I-Math.floor(I)),"x"===b&&(x.clientX=x.plotX)}}})})},a.prototype.drawGraph=function(){this.options.lineWidth?E.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},a.defaultOptions=R(X.defaultOptions,s),a}(X),F(S.prototype,{drawTracker:G.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),U(S,"afterTranslate",function(){this.applyJitter()}),c.registerSeriesType("scatter",S),S}),e(i,"Series/CenteredUtilities.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],function(s,c,S){var R,E,M=s.deg2rad,U=S.fireEvent,G=S.isNumber,X=S.pick,F=S.relativeLength;return(E=R||(R={})).getCenter=function(){var a=this.options,h=this.chart,l=2*(a.slicedOffset||0),p=h.plotWidth-2*l,x=h.plotHeight-2*l,T=a.center,b=Math.min(p,x),I=a.thickness,u=a.size,n=a.innerSize||0;for("string"==typeof u&&(u=parseFloat(u)),"string"==typeof n&&(n=parseFloat(n)),a=[X(T[0],"50%"),X(T[1],"50%"),X(u&&0>u?void 0:a.size,"100%"),X(n&&0>n?void 0:a.innerSize||0,"0%")],!h.angular||this instanceof c||(a[3]=0),T=0;4>T;++T)u=a[T],h=2>T||2===T&&/%$/.test(u),a[T]=F(u,[p,x,b,a[2]][T])+(h?l:0);return a[3]>a[2]&&(a[3]=a[2]),G(I)&&2*I<a[2]&&0<I&&(a[3]=a[2]-2*I),U(this,"afterGetCenter",{positions:a}),a},E.getStartAndEndRadians=function(a,h){return a=G(a)?a:0,h=G(h)&&h>a&&360>h-a?h:a+360,{start:M*(a+-90),end:M*(h+-90)}},R}),e(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(s,c,S){var a,M=this&&this.__extends||(a=function(h,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var T in x)x.hasOwnProperty(T)&&(p[T]=x[T])})(h,l)},function(h,l){function p(){this.constructor=h}a(h,l),h.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)}),U=s.setAnimation,G=S.addEvent,X=S.defined;s=S.extend;var F=S.isNumber,R=S.pick,E=S.relativeLength;return c=function(a){function h(){var l=null!==a&&a.apply(this,arguments)||this;return l.labelDistance=void 0,l.options=void 0,l.series=void 0,l}return M(h,a),h.prototype.getConnectorPath=function(){var l=this.labelPosition,p=this.series.options.dataLabels,x=this.connectorShapes,T=p.connectorShape;return x[T]&&(T=x[T]),T.call(this,{x:l.final.x,y:l.final.y,alignment:l.alignment},l.connectorPosition,p)},h.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},h.prototype.haloPath=function(l){var p=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(p.x,p.y,p.r+l,p.r+l,{innerR:p.r-1,start:p.start,end:p.end})},h.prototype.init=function(){var l=this;a.prototype.init.apply(this,arguments),this.name=R(this.name,"Slice");var p=function(x){l.slice("select"===x.type)};return G(this,"select",p),G(this,"unselect",p),this},h.prototype.isValid=function(){return F(this.y)&&0<=this.y},h.prototype.setVisible=function(l,p){var x=this,T=this.series,b=T.chart,I=T.options.ignoreHiddenPoint;p=R(p,I),l!==this.visible&&(this.visible=this.options.visible=l=typeof l>"u"?!this.visible:l,T.options.data[T.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(u){x[u]&&x[u][l?"show":"hide"](l)}),this.legendItem&&b.legend.colorizeItem(this,l),l||"hover"!==this.state||this.setState(""),I&&(T.isDirty=!0),p&&b.redraw())},h.prototype.slice=function(l,p,x){var T=this.series;U(x,T.chart),R(p,!0),this.sliced=this.options.sliced=X(l)?l:!this.sliced,T.options.data[T.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},h}(c),s(c.prototype,{connectorShapes:{fixedOffset:function(a,h,l){var p=h.breakAt;return h=h.touchingSliceAt,[["M",a.x,a.y],l.softConnector?["C",a.x+("left"===a.alignment?-5:5),a.y,2*p.x-h.x,2*p.y-h.y,p.x,p.y]:["L",p.x,p.y],["L",h.x,h.y]]},straight:function(a,h){return[["M",a.x,a.y],["L",(h=h.touchingSliceAt).x,h.y]]},crookedLine:function(a,h,l){h=h.touchingSliceAt;var p=this.series,x=p.center[0],T=p.chart.plotWidth,b=p.chart.plotLeft;p=a.alignment;var I=this.shapeArgs.r;return l=E(l.crookDistance,1),l=["L",T="left"===p?x+I+(T+b-x-I)*(1-l):b+(x-I)*l,a.y],x=!0,("left"===p?T>a.x||T<h.x:T<a.x||T>h.x)&&(x=!1),a=[["M",a.x,a.y]],x&&a.push(l),a.push(["L",h.x,h.y]),a}}}),c}),e(i,"Series/Pie/PieSeriesDefaults.js",[],function(){return{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),e(i,"Series/Pie/PieSeries.js",[i["Series/CenteredUtilities.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Series/Pie/PiePoint.js"],i["Series/Pie/PieSeriesDefaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],function(s,c,S,M,U,G,X,F,R,E){var u,a=this&&this.__extends||(u=function(n,k){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,O){C.__proto__=O}||function(C,O){for(var m in O)O.hasOwnProperty(m)&&(C[m]=O[m])})(n,k)},function(n,k){function C(){this.constructor=n}u(n,k),n.prototype=null===k?Object.create(k):(C.prototype=k.prototype,new C)}),h=s.getStartAndEndRadians;S=S.noop;var l=E.clamp,p=E.extend,x=E.fireEvent,T=E.merge,b=E.pick,I=E.relativeLength;return E=function(u){function n(){var k=null!==u&&u.apply(this,arguments)||this;return k.center=void 0,k.data=void 0,k.maxLabelDistance=void 0,k.options=void 0,k.points=void 0,k}return a(n,u),n.prototype.animate=function(k){var C=this,m=C.startAngleRad;k||C.points.forEach(function(A){var P=A.graphic,D=A.shapeArgs;P&&D&&(P.attr({r:b(A.startR,C.center&&C.center[3]/2),start:m,end:m}),P.animate({r:D.r,start:D.start,end:D.end},C.options.animation))})},n.prototype.drawEmpty=function(){var k=this.startAngleRad,C=this.endAngleRad,O=this.options;if(0===this.total&&this.center){var m=this.center[0],A=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(m,A,this.center[1]/2,0,k,C).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:R.arc(m,A,this.center[2]/2,0,{start:k,end:C,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":O.borderWidth,fill:O.fillColor||"none",stroke:O.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},n.prototype.drawPoints=function(){var k=this.chart.renderer;this.points.forEach(function(C){C.graphic&&C.hasNewShapeType()&&(C.graphic=C.graphic.destroy()),C.graphic||(C.graphic=k[C.shapeType](C.shapeArgs).add(C.series.group),C.delayedRendering=!0)})},n.prototype.generatePoints=function(){u.prototype.generatePoints.call(this),this.updateTotals()},n.prototype.getX=function(k,C,O){var m=this.center,A=this.radii?this.radii[O.index]||0:m[2]/2;return k=Math.asin(l((k-m[1])/(A+O.labelDistance),-1,1)),m[0]+(C?-1:1)*Math.cos(k)*(A+O.labelDistance)+(0<O.labelDistance?(C?-1:1)*this.options.dataLabels.padding:0)},n.prototype.hasData=function(){return!!this.processedXData.length},n.prototype.redrawPoints=function(){var A,P,D,f,k=this,C=k.chart,O=C.renderer,m=k.options.shadow;this.drawEmpty(),!m||k.shadowGroup||C.styledMode||(k.shadowGroup=O.g("shadow").attr({zIndex:-1}).add(k.group)),k.points.forEach(function(o){var B={};if(P=o.graphic,!o.isNull&&P){var V=void 0;f=o.shapeArgs,A=o.getTranslate(),C.styledMode||(V=o.shadowGroup,m&&!V&&(V=o.shadowGroup=O.g("shadow").add(k.shadowGroup)),V&&V.attr(A),D=k.pointAttribs(o,o.selected&&"select")),o.delayedRendering?(P.setRadialReference(k.center).attr(f).attr(A),C.styledMode||P.attr(D).attr({"stroke-linejoin":"round"}).shadow(m,V),o.delayedRendering=!1):(P.setRadialReference(k.center),C.styledMode||T(!0,B,D),T(!0,B,f,A),P.animate(B)),P.attr({visibility:o.visible?"inherit":"hidden"}),P.addClass(o.getClassName(),!0)}else P&&(o.graphic=P.destroy())})},n.prototype.sortByAngle=function(k,C){k.sort(function(O,m){return typeof O.angle<"u"&&(m.angle-O.angle)*C})},n.prototype.translate=function(k){x(this,"translate"),this.generatePoints();var C=this.options,O=C.slicedOffset,m=O+(C.borderWidth||0),A=h(C.startAngle,C.endAngle),P=this.startAngleRad=A.start;A=(this.endAngleRad=A.end)-P;var D=this.points,f=C.dataLabels.distance;C=C.ignoreHiddenPoint;var B,o=D.length,V=0;for(k||(this.center=k=this.getCenter()),B=0;B<o;B++){var q=D[B],nt=P+V*A;!q.isValid()||C&&!q.visible||(V+=q.percentage/100);var yt=P+V*A,ut={x:k[0],y:k[1],r:k[2]/2,innerR:k[3]/2,start:Math.round(1e3*nt)/1e3,end:Math.round(1e3*yt)/1e3};q.shapeType="arc",q.shapeArgs=ut,q.labelDistance=b(q.options.dataLabels&&q.options.dataLabels.distance,f),q.labelDistance=I(q.labelDistance,ut.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,q.labelDistance),(yt=(yt+nt)/2)>1.5*Math.PI?yt-=2*Math.PI:yt<-Math.PI/2&&(yt+=2*Math.PI),q.slicedTranslation={translateX:Math.round(Math.cos(yt)*O),translateY:Math.round(Math.sin(yt)*O)},ut=Math.cos(yt)*k[2]/2;var Y=Math.sin(yt)*k[2]/2;q.tooltipPos=[k[0]+.7*ut,k[1]+.7*Y],q.half=yt<-Math.PI/2||yt>Math.PI/2?1:0,q.angle=yt,nt=Math.min(m,q.labelDistance/5),q.labelPosition={natural:{x:k[0]+ut+Math.cos(yt)*q.labelDistance,y:k[1]+Y+Math.sin(yt)*q.labelDistance},final:{},alignment:0>q.labelDistance?"center":q.half?"right":"left",connectorPosition:{breakAt:{x:k[0]+ut+Math.cos(yt)*nt,y:k[1]+Y+Math.sin(yt)*nt},touchingSliceAt:{x:k[0]+ut,y:k[1]+Y}}}}x(this,"afterTranslate")},n.prototype.updateTotals=function(){var m,k=this.points,C=k.length,O=this.options.ignoreHiddenPoint,A=0;for(m=0;m<C;m++){var P=k[m];!P.isValid()||O&&!P.visible||(A+=P.y)}for(this.total=A,m=0;m<C;m++)(P=k[m]).percentage=0<A&&(P.visible||!O)?P.y/A*100:0,P.total=A},n.defaultOptions=T(X.defaultOptions,G),n}(X),p(E.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:M.drawRectangle,drawTracker:c.prototype.drawTracker,getCenter:s.getCenter,getSymbol:S,isCartesian:!1,noSharedTooltip:!0,pointAttribs:c.prototype.pointAttribs,pointClass:U,requireSorting:!1,searchPoint:S,trackerGroups:["group","dataLabelsGroup"]}),F.registerSeriesType("pie",E),E}),e(i,"Series/Pie/PieDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(s,c,S,M,U){var x,G=c.noop,X=S.distribute,F=M.series,R=U.arrayMax,E=U.clamp,a=U.defined,h=U.merge,l=U.pick,p=U.relativeLength;return function(T){function b(){var tt,wt,St,At,ht,mt,dt,Lt,Ct,vt,kt,Rt,C=this,O=C.data,m=C.chart,A=C.options.dataLabels||{},P=A.connectorPadding,D=m.plotWidth,f=m.plotHeight,o=m.plotLeft,B=Math.round(m.chartWidth/3),V=C.center,q=V[2]/2,nt=V[1],yt=[[],[]],ut=[0,0,0,0],Y=C.dataLabelPositioners;C.visible&&(A.enabled||C._hasPointLabels)&&(O.forEach(function(Xt){Xt.dataLabel&&Xt.visible&&Xt.dataLabel.shortened&&(Xt.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Xt.dataLabel.shortened=!1)}),F.prototype.drawDataLabels.apply(C),O.forEach(function(Xt){Xt.dataLabel&&(Xt.visible?(yt[Xt.half].push(Xt),Xt.dataLabel._pos=null,!a(A.style.width)&&!a(Xt.options.dataLabels&&Xt.options.dataLabels.style&&Xt.options.dataLabels.style.width)&&Xt.dataLabel.getBBox().width>B&&(Xt.dataLabel.css({width:Math.round(.7*B)+"px"}),Xt.dataLabel.shortened=!0)):(Xt.dataLabel=Xt.dataLabel.destroy(),Xt.dataLabels&&1===Xt.dataLabels.length&&delete Xt.dataLabels))}),yt.forEach(function(Xt,Ft){var te,qt=Xt.length,ae=[];if(qt){if(C.sortByAngle(Xt,Ft-.5),0<C.maxLabelDistance){var de=Math.max(0,nt-q-C.maxLabelDistance),re=Math.min(nt+q+C.maxLabelDistance,m.plotHeight);Xt.forEach(function(Ut){0<Ut.labelDistance&&Ut.dataLabel&&(Ut.top=Math.max(0,nt-q-Ut.labelDistance),Ut.bottom=Math.min(nt+q+Ut.labelDistance,m.plotHeight),te=Ut.dataLabel.getBBox().height||21,Ut.distributeBox={target:Ut.labelPosition.natural.y-Ut.top+te/2,size:te,rank:Ut.y},ae.push(Ut.distributeBox))}),X(ae,de=re+te-de,de/5)}for(kt=0;kt<qt;kt++){if(At=(tt=Xt[kt]).dataLabel,vt=!1===tt.visible?"hidden":"inherit",Ct=de=(mt=tt.labelPosition).natural.y,ae&&a(tt.distributeBox)&&(typeof tt.distributeBox.pos>"u"?vt="hidden":(dt=tt.distributeBox.size,Ct=Y.radialDistributionY(tt))),delete tt.positionIndex,A.justify)Lt=Y.justify(tt,q,V);else switch(A.alignTo){case"connectors":Lt=Y.alignToConnectors(Xt,Ft,D,o);break;case"plotEdges":Lt=Y.alignToPlotEdges(At,Ft,D,o);break;default:Lt=Y.radialDistributionX(C,tt,Ct,de)}At._attr={visibility:vt,align:mt.alignment},At._pos={x:Lt+l((Rt=tt.options.dataLabels||{}).x,A.x)+({left:P,right:-P}[mt.alignment]||0),y:Ct+l(Rt.y,A.y)-10},mt.final.x=Lt,mt.final.y=Ct,l(A.crop,!0)&&(ht=At.getBBox().width,de=null,Lt-ht<P&&1===Ft?(de=Math.round(ht-Lt+P),ut[3]=Math.max(de,ut[3])):Lt+ht>D-P&&0===Ft&&(de=Math.round(Lt+ht-D+P),ut[1]=Math.max(de,ut[1])),0>Ct-dt/2?ut[0]=Math.max(Math.round(dt/2-Ct),ut[0]):Ct+dt/2>f&&(ut[2]=Math.max(Math.round(Ct+dt/2-f),ut[2])),At.sideOverflow=de)}}}),0===R(ut)||this.verifyDataLabelOverflow(ut))&&(this.placeDataLabels(),this.points.forEach(function(Xt){var Ft;Rt=h(A,Xt.options.dataLabels),(wt=l(Rt.connectorWidth,1))&&(St=Xt.connector,(At=Xt.dataLabel)&&At._pos&&Xt.visible&&0<Xt.labelDistance?(vt=At._attr.visibility,(Ft=!St)&&(Xt.connector=St=m.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Xt.colorIndex+(Xt.className?" "+Xt.className:"")).add(C.dataLabelsGroup),m.styledMode||St.attr({"stroke-width":wt,stroke:Rt.connectorColor||Xt.color||"#666666"})),St[Ft?"attr":"animate"]({d:Xt.getConnectorPath()}),St.attr("visibility",vt)):St&&(Xt.connector=St.destroy()))}))}function I(){this.points.forEach(function(C){var m,O=C.dataLabel;O&&C.visible&&((m=O._pos)?(O.sideOverflow&&(O._attr.width=Math.max(O.getBBox().width-O.sideOverflow,0),O.css({width:O._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),O.shortened=!0),O.attr(O._attr),O[O.moved?"animate":"attr"](m),O.moved=!0):O&&O.attr({y:-9999})),delete C.distributeBox},this)}function u(C){var O=this.center,m=this.options,A=m.center,P=m.minSize||80,D=null!==m.size;if(!D){if(null!==A[0])var f=Math.max(O[2]-Math.max(C[1],C[3]),P);else f=Math.max(O[2]-C[1]-C[3],P),O[0]+=(C[3]-C[1])/2;null!==A[1]?f=E(f,P,O[2]-Math.max(C[0],C[2])):(f=E(f,P,O[2]-C[0]-C[2]),O[1]+=(C[0]-C[2])/2),f<O[2]?(O[2]=f,O[3]=Math.min(m.thickness?Math.max(0,f-2*m.thickness):Math.max(0,p(m.innerSize||0,f)),f),this.translate(O),this.drawDataLabels&&this.drawDataLabels()):D=!0}return D}var n=[],k={radialDistributionY:function(C){return C.top+C.distributeBox.pos},radialDistributionX:function(C,O,m,A){return C.getX(m<O.top+2||m>O.bottom-2?A:m,O.half,O)},justify:function(C,O,m){return m[0]+(C.half?-1:1)*(O+C.labelDistance)},alignToPlotEdges:function(C,O,m,A){return C=C.getBBox().width,O?C+A:m-C-A},alignToConnectors:function(C,O,m,A){var D,P=0;return C.forEach(function(f){(D=f.dataLabel.getBBox().width)>P&&(P=D)}),O?P+A:m-P-A}};T.compose=function(C){s.compose(F),-1===n.indexOf(C)&&(n.push(C),(C=C.prototype).dataLabelPositioners=k,C.alignDataLabel=G,C.drawDataLabels=b,C.placeDataLabels=I,C.verifyDataLabelOverflow=u)}}(x||(x={})),x}),e(i,"Extensions/OverlappingDataLabels.js",[i["Core/Chart/Chart.js"],i["Core/Utilities.js"]],function(s,c){function S(E,a){var h=!1;if(E){var l=E.newOpacity;E.oldOpacity!==l&&(E.alignAttr&&E.placed?(E[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),h=!0,E.alignAttr.opacity=l,E[E.isOld?"animate":"attr"](E.alignAttr,null,function(){a.styledMode||E.css({pointerEvents:l?"auto":"none"})}),U(a,"afterHideOverlappingLabel")):E.attr({opacity:l})),E.isOld=!0}return h}var U=c.fireEvent,G=c.isArray,X=c.isNumber,F=c.objectEach,R=c.pick;(0,c.addEvent)(s,"render",function(){var E=this,a=[];(this.labelCollectors||[]).forEach(function(h){a=a.concat(h())}),(this.yAxis||[]).forEach(function(h){h.stacking&&h.options.stackLabels&&!h.options.stackLabels.allowOverlap&&F(h.stacking.stacks,function(l){F(l,function(p){p.label&&a.push(p.label)})})}),(this.series||[]).forEach(function(h){var l=h.options.dataLabels;h.visible&&(!1!==l.enabled||h._hasPointLabels)&&((l=function(p){return p.forEach(function(x){x.visible&&(G(x.dataLabels)?x.dataLabels:x.dataLabel?[x.dataLabel]:[]).forEach(function(T){var b=T.options;T.labelrank=R(b.labelrank,x.labelrank,x.shapeArgs&&x.shapeArgs.height),b.allowOverlap?(T.oldOpacity=T.opacity,T.newOpacity=1,S(T,E)):a.push(T)})})})(h.nodes||[]),l(h.points))}),this.hideOverlappingLabels(a)}),s.prototype.hideOverlappingLabels=function(E){var p,x,T,a=this,h=E.length,l=a.renderer,b=!1,I=function(k){var C,A,O=k.box?0:k.padding||0,m=C=0;if(k&&(!k.alignAttr||k.placed)){var P=k.alignAttr||{x:k.attr("x"),y:k.attr("y")},D=k.parentGroup;return k.width||(C=k.getBBox(),k.width=C.width,k.height=C.height,C=l.fontMetrics(null,k.element).h),(A={left:"0",center:"0.5",right:"1"}[k.alignValue])?m=+A*(k.width-2*O):X(k.x)&&Math.round(k.x)!==k.translateX&&(m=k.x-k.translateX),{x:P.x+(D.translateX||0)+O-(m||0),y:P.y+(D.translateY||0)+O-C,width:k.width-2*O,height:k.height-2*O}}};for(x=0;x<h;x++)(p=E[x])&&(p.oldOpacity=p.opacity,p.newOpacity=1,p.absoluteBox=I(p));for(E.sort(function(k,C){return(C.labelrank||0)-(k.labelrank||0)}),x=0;x<h;x++){var u=(I=E[x])&&I.absoluteBox;for(p=x+1;p<h;++p){var n=(T=E[p])&&T.absoluteBox;!u||!n||I===T||0===I.newOpacity||0===T.newOpacity||"hidden"===I.visibility||"hidden"===T.visibility||n.x>=u.x+u.width||n.x+n.width<=u.x||n.y>=u.y+u.height||n.y+n.height<=u.y||((I.labelrank<T.labelrank?I:T).newOpacity=0)}}E.forEach(function(k){S(k,a)&&(b=!0)}),b&&U(a,"afterHideAllOverlappingLabels")}}),e(i,"Core/Responsive.js",[i["Core/Utilities.js"]],function(s){var a,c=s.extend,S=s.find,M=s.isArray,U=s.isObject,G=s.merge,X=s.objectEach,F=s.pick,R=s.splat,E=s.uniqueKey;return function(h){var l=[];h.compose=function(x){return-1===l.indexOf(x)&&(l.push(x),c(x.prototype,p.prototype)),x};var p=function(){function x(){}return x.prototype.currentOptions=function(T){var I=this,u={};return function b(n,k,C,O){var m;X(n,function(A,P){if(!O&&-1<I.collectionsWithUpdate.indexOf(P)&&k[P])for(A=R(A),C[P]=[],m=0;m<Math.max(A.length,k[P].length);m++)k[P][m]&&(void 0===A[m]?C[P][m]=k[P][m]:(C[P][m]={},b(A[m],k[P][m],C[P][m],O+1)));else U(A)?(C[P]=M(A)?[]:{},b(A,k[P]||{},C[P],O+1)):C[P]=typeof k[P]>"u"?null:k[P]})}(T,this.options,u,0),u},x.prototype.matchResponsiveRule=function(T,b){var I=T.condition;(I.callback||function(){return this.chartWidth<=F(I.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=F(I.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=F(I.minWidth,0)&&this.chartHeight>=F(I.minHeight,0)}).call(this)&&b.push(T._id)},x.prototype.setResponsive=function(T,b){var I=this,u=this.options.responsive,n=this.currentResponsive,k=[];!b&&u&&u.rules&&u.rules.forEach(function(C){typeof C._id>"u"&&(C._id=E()),I.matchResponsiveRule(C,k)},this),(b=G.apply(void 0,k.map(function(C){return S((u||{}).rules||[],function(O){return O._id===C})}).map(function(C){return C&&C.chartOptions}))).isResponsiveOptions=!0,(k=k.toString()||void 0)!==(n&&n.ruleIds)&&(n&&this.update(n.undoOptions,T,!0),k?((n=this.currentOptions(b)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:k,mergedOptions:b,undoOptions:n},this.update(b,T,!0)):this.currentResponsive=void 0)},x}()}(a||(a={})),a}),e(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Defaults.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/FormatUtilities.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Renderer/HTML/HTMLRenderer.js"],i["Core/Axis/Axis.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Axis/LogarithmicAxis.js"],i["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Tooltip.js"],i["Core/Series/Point.js"],i["Core/Pointer.js"],i["Core/MSPointer.js"],i["Core/Legend/Legend.js"],i["Core/Chart/Chart.js"],i["Core/Axis/Stacking/StackingAxis.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Column/ColumnSeries.js"],i["Series/Column/ColumnDataLabel.js"],i["Series/Pie/PieSeries.js"],i["Series/Pie/PieDataLabel.js"],i["Core/Series/DataLabel.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],function(s,c,S,M,U,G,X,F,R,E,a,h,l,p,x,T,b,I,u,n,k,C,O,m,A,P,D,f,o,B,V,q,nt,yt,ut){return s.animate=U.animate,s.animObject=U.animObject,s.getDeferredAnimation=U.getDeferredAnimation,s.setAnimation=U.setAnimation,s.stop=U.stop,s.timers=M.timers,s.AST=G,s.Axis=l,s.Chart=O,s.chart=O.chart,s.Fx=M,s.Legend=C,s.PlotLineOrBand=T,s.Point=u,s.Pointer=k.isRequired()?k:n,s.Series=P,s.StackItem=A,s.SVGElement=R,s.SVGRenderer=E,s.Tick=b,s.Time=ut,s.Tooltip=I,s.Color=yt,s.color=yt.parse,h.compose(E),a.compose(R),s.defaultOptions=S.defaultOptions,s.getOptions=S.getOptions,s.time=S.defaultTime,s.setOptions=S.setOptions,s.dateFormat=X.dateFormat,s.format=X.format,s.numberFormat=X.numberFormat,s.addEvent=c.addEvent,s.arrayMax=c.arrayMax,s.arrayMin=c.arrayMin,s.attr=c.attr,s.clearTimeout=c.clearTimeout,s.correctFloat=c.correctFloat,s.createElement=c.createElement,s.css=c.css,s.defined=c.defined,s.destroyObjectProperties=c.destroyObjectProperties,s.discardElement=c.discardElement,s.distribute=F.distribute,s.erase=c.erase,s.error=c.error,s.extend=c.extend,s.extendClass=c.extendClass,s.find=c.find,s.fireEvent=c.fireEvent,s.getMagnitude=c.getMagnitude,s.getStyle=c.getStyle,s.inArray=c.inArray,s.isArray=c.isArray,s.isClass=c.isClass,s.isDOMElement=c.isDOMElement,s.isFunction=c.isFunction,s.isNumber=c.isNumber,s.isObject=c.isObject,s.isString=c.isString,s.keys=c.keys,s.merge=c.merge,s.normalizeTickInterval=c.normalizeTickInterval,s.objectEach=c.objectEach,s.offset=c.offset,s.pad=c.pad,s.pick=c.pick,s.pInt=c.pInt,s.relativeLength=c.relativeLength,s.removeEvent=c.removeEvent,s.seriesType=D.seriesType,s.splat=c.splat,s.stableSort=c.stableSort,s.syncTimeout=c.syncTimeout,s.timeUnits=c.timeUnits,s.uniqueKey=c.uniqueKey,s.useSerialIds=c.useSerialIds,s.wrap=c.wrap,o.compose(f),q.compose(P),p.compose(l),x.compose(l),V.compose(B),T.compose(l),nt.compose(O),m.compose(l,O,P),s}),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]}),function(v){"object"==typeof module&&module.exports?(v.default=v,module.exports=v):"function"==typeof define&&define.amd?define("highcharts/highcharts-more",["highcharts"],function(e){return v(e),v.Highcharts=e,v}):v(typeof Highcharts<"u"?Highcharts:void 0)}(function(v){function e(i,s,c,S){i.hasOwnProperty(s)||(i[s]=S.apply(null,c),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}e(v=v?v._modules:{},"Extensions/Pane.js",[v["Core/Chart/Chart.js"],v["Series/CenteredUtilities.js"],v["Core/Globals.js"],v["Core/Pointer.js"],v["Core/Utilities.js"]],function(i,s,c,S,M){function U(l,p,x,T,b){var I=!0,u=x[0],n=x[1],k=Math.sqrt(Math.pow(l-u,2)+Math.pow(p-n,2));return F(T)&&F(b)&&(l=Math.atan2(X(p-n,8),X(l-u,8)),b!==T&&(I=T>b?l>=T&&l<=Math.PI||l<=b&&l>=-Math.PI:l>=T&&l<=X(b,8))),k<=Math.ceil(x[2]/2)&&I}var G=M.addEvent,X=M.correctFloat,F=M.defined,R=M.extend,E=M.merge,a=M.pick,h=M.splat;return i.prototype.collectionsWithUpdate.push("pane"),M=function(){function l(p,x){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(p,x)}return l.prototype.init=function(p,x){this.chart=x,this.background=[],x.pane.push(this),this.setOptions(p)},l.prototype.setOptions=function(p){this.options=E(this.defaultOptions,this.chart.angular?{background:{}}:void 0,p)},l.prototype.render=function(){var p=this.options,x=this.options.background,T=this.chart.renderer;if(this.group||(this.group=T.g("pane-group").attr({zIndex:p.zIndex||0}).add()),this.updateCenter(),x)for(x=h(x),p=Math.max(x.length,this.background.length||0),T=0;T<p;T++)x[T]&&this.axis?this.renderBackground(E(this.defaultBackgroundOptions,x[T]),T):this.background[T]&&(this.background[T]=this.background[T].destroy(),this.background.splice(T,1))},l.prototype.renderBackground=function(p,x){var T="animate",b={class:"highcharts-pane "+(p.className||"")};this.chart.styledMode||R(b,{fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth}),this.background[x]||(this.background[x]=this.chart.renderer.path().add(this.group),T="attr"),this.background[x][T]({d:this.axis.getPlotBandPath(p.from,p.to,p)}).attr(b)},l.prototype.updateCenter=function(p){this.center=(p||this.axis||{}).center=s.getCenter.call(this)},l.prototype.update=function(p,x){E(!0,this.options,p),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(T){T.pane===this&&(T.pane=null,T.update({},x))},this)},l}(),i.prototype.getHoverPane=function(l){var x,p=this;return l&&p.pane.forEach(function(T){U(l.chartX-p.plotLeft,l.chartY-p.plotTop,T.center)&&(x=T)}),x},G(i,"afterIsInsidePlot",function(l){if(this.polar){if(l.options.inverted){var p=[l.y,l.x];l.x=p[0],l.y=p[1]}l.isInsidePlot=this.pane.some(function(x){return U(l.x,l.y,x.center,x.axis&&x.axis.normalizedStartAngleRad,x.axis&&x.axis.normalizedEndAngleRad)})}}),G(S,"beforeGetHoverData",function(l){var p=this.chart;p.polar?(p.hoverPane=p.getHoverPane(l),l.filter=function(x){return x.visible&&!(!l.shared&&x.directTouch)&&a(x.options.enableMouseTracking,!0)&&(!p.hoverPane||x.xAxis.pane===p.hoverPane)}):p.hoverPane=void 0}),G(S,"afterGetHoverData",function(l){var p=this.chart;l.hoverPoint&&l.hoverPoint.plotX&&l.hoverPoint.plotY&&p.hoverPane&&!U(l.hoverPoint.plotX,l.hoverPoint.plotY,p.hoverPane.center)&&(l.hoverPoint=void 0)}),c.Pane=M,c.Pane}),e(v,"Series/AreaRange/AreaRangePoint.js",[v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s){var G,c=this&&this.__extends||(G=function(X,F){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,E){R.__proto__=E}||function(R,E){for(var a in E)E.hasOwnProperty(a)&&(R[a]=E[a])})(X,F)},function(X,F){function R(){this.constructor=X}G(X,F),X.prototype=null===F?Object.create(F):(R.prototype=F.prototype,new R)}),S=(i=i.seriesTypes.area.prototype).pointClass.prototype,M=s.defined,U=s.isNumber;return function(G){function X(){var F=null!==G&&G.apply(this,arguments)||this;return F.high=void 0,F.low=void 0,F.options=void 0,F.plotX=void 0,F.series=void 0,F}return c(X,G),X.prototype.setState=function(){var F=this.state,R=this.series,E=R.chart.polar;M(this.plotHigh)||(this.plotHigh=R.yAxis.toPixels(this.high,!0)),M(this.plotLow)||(this.plotLow=this.plotY=R.yAxis.toPixels(this.low,!0)),R.stateMarkerGraphic&&(R.lowerStateMarkerGraphic=R.stateMarkerGraphic,R.stateMarkerGraphic=R.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,E&&U(this.plotHighX)&&(this.plotX=this.plotHighX),S.setState.apply(this,arguments),this.state=F,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],E&&U(this.plotLowX)&&(this.plotX=this.plotLowX),R.stateMarkerGraphic&&(R.upperStateMarkerGraphic=R.stateMarkerGraphic,R.stateMarkerGraphic=R.lowerStateMarkerGraphic,R.lowerStateMarkerGraphic=void 0),S.setState.apply(this,arguments)},X.prototype.haloPath=function(){var F=this.series.chart.polar,R=[];return this.plotY=this.plotLow,F&&U(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(R=S.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,F&&U(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(R=R.concat(S.haloPath.apply(this,arguments))),R},X.prototype.isValid=function(){return U(this.low)&&U(this.high)},X}(i.pointClass)}),e(v,"Series/AreaRange/AreaRangeSeries.js",[v["Series/AreaRange/AreaRangePoint.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S){var T,M=this&&this.__extends||(T=function(b,I){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,n){u.__proto__=n}||function(u,n){for(var k in n)n.hasOwnProperty(k)&&(u[k]=n[k])})(b,I)},function(b,I){function u(){this.constructor=b}T(b,I),b.prototype=null===I?Object.create(I):(u.prototype=I.prototype,new u)});s=s.noop;var U=c.seriesTypes,G=U.area,X=U.area.prototype,F=U.column.prototype;U=S.addEvent;var R=S.defined,E=S.extend,a=S.isArray,h=S.isNumber,l=S.pick,p=S.merge,x={lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}};return S=function(T){function b(){var I=null!==T&&T.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I.lowerStateMarkerGraphic=void 0,I.xAxis=void 0,I}return M(b,T),b.prototype.toYData=function(I){return[I.low,I.high]},b.prototype.highToXY=function(I){var u=this.chart,n=this.xAxis.postTranslate(I.rectPlotX||0,this.yAxis.len-(I.plotHigh||0));I.plotHighX=n.x-u.plotLeft,I.plotHigh=n.y-u.plotTop,I.plotLowX=I.plotX},b.prototype.getGraphPath=function(I){var P,u=[],n=[],k=X.getGraphPath,C=this.options,O=this.chart.polar,m=O&&!1!==C.connectEnds,A=C.connectNulls,D=C.step;for(P=(I=I||this.points).length;P--;){var f=I[P],o=O?{plotX:f.rectPlotX,plotY:f.yBottom,doCurve:!1}:{plotX:f.plotX,plotY:f.plotY,doCurve:!1};f.isNull||m||A||I[P+1]&&!I[P+1].isNull||n.push(o);var B={polarPlotY:f.polarPlotY,rectPlotX:f.rectPlotX,yBottom:f.yBottom,plotX:l(f.plotHighX,f.plotX),plotY:f.plotHigh,isNull:f.isNull};n.push(B),u.push(B),f.isNull||m||A||I[P-1]&&!I[P-1].isNull||n.push(o)}return I=k.call(this,I),D&&(!0===D&&(D="left"),C.step={left:"right",center:"center",right:"left"}[D]),u=k.call(this,u),n=k.call(this,n),C.step=D,C=[].concat(I,u),!this.chart.polar&&n[0]&&"M"===n[0][0]&&(n[0]=["L",n[0][1],n[0][2]]),this.graphPath=C,this.areaPath=I.concat(n),C.isArea=!0,C.xMap=I.xMap,this.areaPath.xMap=I.xMap,C},b.prototype.drawDataLabels=function(){var O,m,I=this.points,u=I.length,n=[],k=this.options.dataLabels,C=this.chart.inverted;if(k){if(a(k))var A=k[0]||{enabled:!1},P=k[1]||{enabled:!1};else(A=E({},k)).x=k.xHigh,A.y=k.yHigh,(P=E({},k)).x=k.xLow,P.y=k.yLow;if(A.enabled||this._hasPointLabels){for(O=u;O--;)if(m=I[O]){var D=m.plotHigh;D=void 0===D?0:D;var f=m.plotLow;f=void 0===f?0:f,f=A.inside?D<f:D>f,m.y=m.high,m._plotY=m.plotY,m.plotY=D,n[O]=m.dataLabel,m.dataLabel=m.dataLabelUpper,m.below=f,C?A.align||(A.align=f?"right":"left"):A.verticalAlign||(A.verticalAlign=f?"top":"bottom")}for(this.options.dataLabels=A,X.drawDataLabels&&X.drawDataLabels.apply(this,arguments),O=u;O--;)(m=I[O])&&(m.dataLabelUpper=m.dataLabel,m.dataLabel=n[O],delete m.dataLabels,m.y=m.low,m.plotY=m._plotY)}if(P.enabled||this._hasPointLabels){for(O=u;O--;)(m=I[O])&&(D=void 0===(n=m.plotHigh)?0:n,f=void 0===(n=m.plotLow)?0:n,m.below=!(f=P.inside?D<f:D>f),C?P.align||(P.align=f?"left":"right"):P.verticalAlign||(P.verticalAlign=f?"bottom":"top"));this.options.dataLabels=P,X.drawDataLabels&&X.drawDataLabels.apply(this,arguments)}if(A.enabled)for(O=u;O--;)(m=I[O])&&(m.dataLabels=[m.dataLabelUpper,m.dataLabel].filter(function(o){return!!o}));this.options.dataLabels=k}},b.prototype.alignDataLabel=function(){F.alignDataLabel.apply(this,arguments)},b.prototype.drawPoints=function(){var u,I=this.points.length;for(X.drawPoints.apply(this,arguments),u=0;u<I;){var n=this.points[u];n.graphics=n.graphics||[],n.origProps={plotY:n.plotY,plotX:n.plotX,isInside:n.isInside,negative:n.negative,zone:n.zone,y:n.y},(n.graphic||n.graphics[0])&&(n.graphics[0]=n.graphic),n.graphic=n.graphics[1],n.plotY=n.plotHigh,R(n.plotHighX)&&(n.plotX=n.plotHighX),n.y=l(n.high,n.origProps.y),n.negative=n.y<(this.options.threshold||0),this.zones.length&&(n.zone=n.getZone()),this.chart.polar||(n.isInside=n.isTopInside=typeof n.plotY<"u"&&0<=n.plotY&&n.plotY<=this.yAxis.len&&0<=n.plotX&&n.plotX<=this.xAxis.len),u++}for(X.drawPoints.apply(this,arguments),u=0;u<I;)(n=this.points[u]).graphics=n.graphics||[],(n.graphic||n.graphics[1])&&(n.graphics[1]=n.graphic),n.graphic=n.graphics[0],n.origProps&&(E(n,n.origProps),delete n.origProps),u++},b.defaultOptions=p(G.defaultOptions,x),b}(G),U(S,"afterTranslate",function(){var T=this;"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(function(b){var I=b.high,u=b.plotY;b.isNull?b.plotY=void 0:(b.plotLow=u,b.plotHigh=h(I)?T.yAxis.translate(T.dataModify?T.dataModify.modifyValue(I):I,!1,!0,void 0,!0):void 0,T.dataModify&&(b.yBottom=b.plotHigh))})},{order:0}),U(S,"afterTranslate",function(){var T=this;this.points.forEach(function(b){if(T.chart.polar)T.highToXY(b),b.plotLow=b.plotY,b.tooltipPos=[((b.plotHighX||0)+(b.plotLowX||0))/2,((b.plotHigh||0)+(b.plotLow||0))/2];else{var I=b.pos(!1,b.plotLow),u=b.pos(!1,b.plotHigh);I&&u&&(I[0]=(I[0]+u[0])/2,I[1]=(I[1]+u[1])/2),b.tooltipPos=I}})},{order:3}),E(S.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:i,pointValKey:"low",setStackedPoints:s}),c.registerSeriesType("arearange",S),S}),e(v,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[v["Series/AreaRange/AreaRangeSeries.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c){var X,S=this&&this.__extends||(X=function(F,R){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,a){E.__proto__=a}||function(E,a){for(var h in a)a.hasOwnProperty(h)&&(E[h]=a[h])})(F,R)},function(F,R){function E(){this.constructor=F}X(F,R),F.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}),M=s.seriesTypes.spline.prototype,U=c.merge;c=c.extend;var G=function(X){function F(){var R=null!==X&&X.apply(this,arguments)||this;return R.options=void 0,R.data=void 0,R.points=void 0,R}return S(F,X),F.defaultOptions=U(i.defaultOptions),F}(i);return c(G.prototype,{getPointSpline:M.getPointSpline}),s.registerSeriesType("areasplinerange",G),G}),e(v,"Series/BoxPlot/BoxPlotSeries.js",[v["Series/Column/ColumnSeries.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S){var F,M=this&&this.__extends||(F=function(R,E){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var l in h)h.hasOwnProperty(l)&&(a[l]=h[l])})(R,E)},function(R,E){function a(){this.constructor=R}F(R,E),R.prototype=null===E?Object.create(E):(a.prototype=E.prototype,new a)});s=s.noop;var U=S.extend,G=S.merge,X=S.pick;return S=function(F){function R(){var E=null!==F&&F.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return M(R,F),R.prototype.pointAttribs=function(){return{}},R.prototype.translate=function(){var E=this.yAxis,a=this.pointArrayMap;F.prototype.translate.apply(this),this.points.forEach(function(h){a.forEach(function(l){null!==h[l]&&(h[l+"Plot"]=E.translate(h[l],0,1,0,1))}),h.plotHigh=h.highPlot})},R.prototype.drawPoints=function(){var p,x,T,b,I,u,k,C,O,m,P,E=this,a=E.options,h=E.chart,l=h.renderer,n=0,A=!1!==E.doQuartiles,D=E.options.whiskerLength;E.points.forEach(function(f){var o=f.graphic,B=o?"animate":"attr",V=f.shapeArgs,q={},nt={},yt={},ut={},Y=f.color||E.color;typeof f.plotY<"u"&&(k=Math.round(V.width),C=Math.floor(V.x),O=C+k,m=Math.round(k/2),p=Math.floor(A?f.q1Plot:f.lowPlot),x=Math.floor(A?f.q3Plot:f.lowPlot),T=Math.floor(f.highPlot),b=Math.floor(f.lowPlot),o||(f.graphic=o=l.g("point").add(E.group),f.stem=l.path().addClass("highcharts-boxplot-stem").add(o),D&&(f.whiskers=l.path().addClass("highcharts-boxplot-whisker").add(o)),A&&(f.box=l.path(void 0).addClass("highcharts-boxplot-box").add(o)),f.medianShape=l.path(void 0).addClass("highcharts-boxplot-median").add(o)),h.styledMode||(nt.stroke=f.stemColor||a.stemColor||Y,nt["stroke-width"]=X(f.stemWidth,a.stemWidth,a.lineWidth),nt.dashstyle=f.stemDashStyle||a.stemDashStyle||a.dashStyle,f.stem.attr(nt),D&&(yt.stroke=f.whiskerColor||a.whiskerColor||Y,yt["stroke-width"]=X(f.whiskerWidth,a.whiskerWidth,a.lineWidth),yt.dashstyle=f.whiskerDashStyle||a.whiskerDashStyle||a.dashStyle,f.whiskers.attr(yt)),A&&(q.fill=f.fillColor||a.fillColor||Y,q.stroke=a.lineColor||Y,q["stroke-width"]=a.lineWidth||0,q.dashstyle=f.boxDashStyle||a.boxDashStyle||a.dashStyle,f.box.attr(q)),ut.stroke=f.medianColor||a.medianColor||Y,ut["stroke-width"]=X(f.medianWidth,a.medianWidth,a.lineWidth),ut.dashstyle=f.medianDashStyle||a.medianDashStyle||a.dashStyle,f.medianShape.attr(ut)),u=f.stem.strokeWidth()%2/2,f.stem[B]({d:o=[["M",n=C+m+u,x],["L",n,T],["M",n,p],["L",n,b]]}),A&&(u=f.box.strokeWidth()%2/2,p=Math.floor(p)+u,x=Math.floor(x)+u,f.box[B]({d:o=[["M",C+=u,x],["L",C,p],["L",O+=u,p],["L",O,x],["L",C,x],["Z"]]})),D&&(u=f.whiskers.strokeWidth()%2/2,T+=u,b+=u,P=/%$/.test(D)?m*parseFloat(D)/100:D/2,f.whiskers[B]({d:o=[["M",n-P,T],["L",n+P,T],["M",n-P,b],["L",n+P,b]]})),I=Math.round(f.medianPlot),u=f.medianShape.strokeWidth()%2/2,f.medianShape[B]({d:o=[["M",C,I+=u],["L",O,I]]}))})},R.prototype.toYData=function(E){return[E.low,E.q1,E.median,E.q3,E.high]},R.defaultOptions=G(i.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),R}(i),U(S.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:s,setStackedPoints:s}),c.registerSeriesType("boxplot",S),S}),e(v,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),e(v,"Series/Bubble/BubbleLegendItem.js",[v["Core/Color/Color.js"],v["Core/FormatUtilities.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(i,s,c,S){var M=i.parse,U=c.noop,G=S.arrayMax,X=S.arrayMin,F=S.isNumber,R=S.merge,E=S.pick,a=S.stableSort;return function(){function h(l,p){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.fontMetrics=this.chart=void 0,this.setState=U,this.init(l,p)}return h.prototype.init=function(l,p){this.options=l,this.visible=!0,this.chart=p.chart,this.legend=p},h.prototype.addToLegend=function(l){l.splice(this.options.legendIndex,0,this)},h.prototype.drawLegendSymbol=function(l){var p=this.chart,x=E(l.options.itemDistance,20),T=this.legendItem||{},b=this.options,I=b.ranges,u=b.connectorDistance;this.fontMetrics=p.renderer.fontMetrics(b.labels.style.fontSize),I&&I.length&&F(I[0].value)?(a(I,function(n,k){return k.value-n.value}),this.ranges=I,this.setOptions(),this.render(),l=this.getMaxLabelSize(),p=2*(I=this.ranges[0].radius),u=0<(u=u-I+l.width)?u:0,this.maxLabel=l,this.movementX="left"===b.labels.align?u:0,T.labelWidth=p+u+x,T.labelHeight=p+this.fontMetrics.h/2):l.options.bubbleLegend.autoRanges=!0},h.prototype.setOptions=function(){var l=this.ranges,p=this.options,x=this.chart.series[p.seriesIndex],T=this.legend.baseline,b={zIndex:p.zIndex,"stroke-width":p.borderWidth},I={zIndex:p.zIndex,"stroke-width":p.connectorWidth},u={align:this.legend.options.rtl||"left"===p.labels.align?"right":"left",zIndex:p.zIndex},n=x.options.marker.fillOpacity,k=this.chart.styledMode;l.forEach(function(C,O){k||(b.stroke=E(C.borderColor,p.borderColor,x.color),b.fill=E(C.color,p.color,1!==n?M(x.color).setOpacity(n).get("rgba"):x.color),I.stroke=E(C.connectorColor,p.connectorColor,x.color)),l[O].radius=this.getRangeRadius(C.value),l[O]=R(l[O],{center:l[0].radius-l[O].radius+T}),k||R(!0,l[O],{bubbleAttribs:R(b),connectorAttribs:R(I),labelAttribs:u})},this)},h.prototype.getRangeRadius=function(l){var p=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,p.ranges[p.ranges.length-1].value,p.ranges[0].value,p.minSize,p.maxSize,l)},h.prototype.render=function(){var l=this.legendItem||{},p=this.chart.renderer,x=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),l.symbol=p.g("bubble-legend"),l.label=p.g("bubble-legend-item"),l.symbol.translateX=0,p=l.symbol.translateY=0;for(var T=this.ranges;p<T.length;p++){var b=T[p];b.value>=x&&this.renderRange(b)}l.symbol.add(l.label),l.label.add(l.group),this.hideOverlappingLabels()},h.prototype.renderRange=function(l){var p=this.options,x=p.labels,T=this.chart,b=T.series[p.seriesIndex],I=T.renderer,u=this.symbols;T=u.labels;var n=l.center,k=Math.abs(l.radius),C=p.connectorDistance||0,O=x.align,m=p.connectorWidth,A=this.ranges[0].radius||0,P=n-k-p.borderWidth/2+m/2,D=this.fontMetrics;D=D.f/2-(D.h-D.f)/2;var f=I.styledMode;C=this.legend.options.rtl||"left"===O?-C:C,"center"===O&&(C=0,p.connectorDistance=0,l.labelAttribs.align="center"),O=P+p.labels.y;var o=A+C+p.labels.x;u.bubbleItems.push(I.circle(A,n+((P%1?1:.5)-(m%2?0:.5)),k).attr(f?{}:l.bubbleAttribs).addClass((f?"highcharts-color-"+b.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(p.className||"")).add(this.legendItem.symbol)),u.connectors.push(I.path(I.crispLine([["M",A,P],["L",A+C,P]],p.connectorWidth)).attr(f?{}:l.connectorAttribs).addClass((f?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(p.connectorClassName||"")).add(this.legendItem.symbol)),l=I.text(this.formatLabel(l),o,O+D).attr(f?{}:l.labelAttribs).css(f?{}:x.style).addClass("highcharts-bubble-legend-labels "+(p.labels.className||"")).add(this.legendItem.symbol),T.push(l),l.placed=!0,l.alignAttr={x:o,y:O+D}},h.prototype.getMaxLabelSize=function(){var l,p;return this.symbols.labels.forEach(function(x){p=x.getBBox(!0),l=l?p.width>l.width?p:l:p}),l||{}},h.prototype.formatLabel=function(l){var p=this.options,x=p.labels.formatter,T=this.chart.numberFormatter;return(p=p.labels.format)?s.format(p,l):x?x.call(l):T(l.value,1)},h.prototype.hideOverlappingLabels=function(){var p=this.symbols;!this.options.labels.allowOverlap&&p&&(this.chart.hideOverlappingLabels(p.labels),p.labels.forEach(function(x,T){x.newOpacity?x.newOpacity!==x.oldOpacity&&p.connectors[T].show():p.connectors[T].hide()}))},h.prototype.getRanges=function(){var x,l=this.legend.bubbleLegend,p=l.options.ranges,T=Number.MAX_VALUE,b=-Number.MAX_VALUE;l.chart.series.forEach(function(u){u.isBubble&&!u.ignoreSeries&&(x=u.zData.filter(F)).length&&(T=E(u.options.zMin,Math.min(T,Math.max(X(x),!1===u.options.displayNegative?u.options.zThreshold:-Number.MAX_VALUE))),b=E(u.options.zMax,Math.max(b,G(x))))});var I=T===b?[{value:b}]:[{value:T},{value:(T+b)/2},{value:b,autoRanges:!0}];return p.length&&p[0].radius&&I.reverse(),I.forEach(function(u,n){p&&p[n]&&(I[n]=R(p[n],u))}),I},h.prototype.predictBubbleSizes=function(){var l=this.chart,p=this.fontMetrics,x=l.legend.options,T=x.floating,b=(x="horizontal"===x.layout)?l.legend.lastLineHeight:0,I=l.plotSizeX,u=l.plotSizeY,n=l.series[this.options.seriesIndex],k=n.getPxExtremes();l=Math.ceil(k.minPxSize),k=Math.ceil(k.maxPxSize);var C=Math.min(u,I);return n=n.options.maxSize,T||!/%$/.test(n)?p=k:(n=parseFloat(n),p=(C+b-p.h/2)*n/100/(n/100+1),(x&&u-p>=I||!x&&I-p>=u)&&(p=k)),[l,Math.ceil(p)]},h.prototype.updateRanges=function(l,p){var x=this.legend.options.bubbleLegend;x.minSize=l,x.maxSize=p,x.ranges=this.getRanges()},h.prototype.correctSizes=function(){var l=this.legend,p=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(p.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,p.maxPxSize),l.render())},h}()}),e(v,"Series/Bubble/BubbleLegendComposition.js",[v["Series/Bubble/BubbleLegendDefaults.js"],v["Series/Bubble/BubbleLegendItem.js"],v["Core/Defaults.js"],v["Core/Utilities.js"]],function(i,s,c,S){function M(x,T,b){var n,I=this.legend,u=0<=U(this);if(I&&I.options.enabled&&I.bubbleLegend&&I.options.bubbleLegend.autoRanges&&u){var k=I.bubbleLegend.options;u=I.bubbleLegend.predictBubbleSizes(),I.bubbleLegend.updateRanges(u[0],u[1]),k.placed||(I.group.placed=!1,I.allItems.forEach(function(C){(n=C.legendItem||{}).group&&(n.group.translateY=null)})),I.render(),this.getMargins(),this.axes.forEach(function(C){C.visible&&C.render(),k.placed||(C.setScale(),C.updateNames(),h(C.ticks,function(O){O.isNew=!0,O.isNewLabel=!0}))}),k.placed=!0,this.getMargins(),x.call(this,T,b),I.bubbleLegend.correctSizes(),R(I,G(I))}else x.call(this,T,b),I&&I.options.enabled&&I.bubbleLegend&&(I.render(),R(I,G(I)))}function U(x){x=x.series;for(var T=0;T<x.length;){if(x[T]&&x[T].isBubble&&x[T].visible&&x[T].zData.length)return T;T++}return-1}function G(x){var I,T=[],b=(x=x.allItems).length,u=0;for(I=0;I<b;I++){var n=x[I].legendItem||{},k=(x[I+1]||{}).legendItem||{};if(n.labelHeight&&(x[I].itemHeight=n.labelHeight),x[I]===x[b-1]||n.y!==k.y){for(T.push({height:0}),n=T[T.length-1];u<=I;u++)x[u].itemHeight>n.height&&(n.height=x[u].itemHeight);n.step=I}}return T}function X(x){var T=this.bubbleLegend,b=this.options,I=b.bubbleLegend,u=U(this.chart);T&&T.ranges&&T.ranges.length&&(I.ranges.length&&(I.autoRanges=!!I.ranges[0].autoRanges),this.destroyItem(T)),0<=u&&b.enabled&&I.enabled&&(I.seriesIndex=u,this.bubbleLegend=new s(I,this),this.bubbleLegend.addToLegend(x.allItems))}function F(){var x=this.chart,T=this.visible,b=this.chart.legend;b&&b.bubbleLegend&&(this.visible=!T,this.ignoreSeries=T,x=0<=U(x),b.bubbleLegend.visible!==x&&(b.update({bubbleLegend:{enabled:x}}),b.bubbleLegend.visible=x),this.visible=T)}function R(x,T){var I,u,n,k,b=x.options.rtl,C=0;x.allItems.forEach(function(O,m){(k=O.legendItem||{}).group&&(I=k.group.translateX||0,u=k.y||0,((n=O.movementX)||b&&O.ranges)&&k.group.attr({translateX:n=b?I-O.options.maxSize/2:I+n}),m>T[C].step&&C++,k.group.attr({translateY:Math.round(u+T[C].height/2)}),k.y=u+T[C].height/2)})}var E=c.setOptions,a=S.addEvent,h=S.objectEach,l=S.wrap,p=[];return{compose:function(x,T,b){-1===p.indexOf(x)&&(p.push(x),E({legend:{bubbleLegend:i}}),l(x.prototype,"drawChartBox",M)),-1===p.indexOf(T)&&(p.push(T),a(T,"afterGetAllItems",X)),-1===p.indexOf(b)&&(p.push(b),a(b,"legendItemClick",F))}}}),e(v,"Series/Bubble/BubblePoint.js",[v["Core/Series/Point.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c){var M,S=this&&this.__extends||(M=function(U,G){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,F){X.__proto__=F}||function(X,F){for(var R in F)F.hasOwnProperty(R)&&(X[R]=F[R])})(U,G)},function(U,G){function X(){this.constructor=U}M(U,G),U.prototype=null===G?Object.create(G):(X.prototype=G.prototype,new X)});return c=c.extend,s=function(M){function U(){var G=null!==M&&M.apply(this,arguments)||this;return G.options=void 0,G.series=void 0,G}return S(U,M),U.prototype.haloPath=function(G){return i.prototype.haloPath.call(this,0===G?0:(this.marker&&this.marker.radius||0)+G)},U}(s.seriesTypes.scatter.prototype.pointClass),c(s.prototype,{ttBelow:!1}),s}),e(v,"Series/Bubble/BubbleSeries.js",[v["Series/Bubble/BubbleLegendComposition.js"],v["Series/Bubble/BubblePoint.js"],v["Core/Color/Color.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S,M,U){function G(){var B,n=this,k=this.len,C=this.chart,O=this.isXAxis,m=O?"xData":"yData",A=this.min,P=this.max-A,D=0,f=k,o=k/P;this.series.forEach(function(V){if(V.bubblePadding&&(V.visible||!C.options.chart.ignoreHiddenSeries)){B=n.allowZoomOutside=!0;var q=V[m];if(O&&((V.onPoint||V).getRadii(0,0,V),V.onPoint&&(V.radii=V.onPoint.radii)),0<P)for(var nt=q.length;nt--;)if(T(q[nt])&&n.dataMin<=q[nt]&&q[nt]<=n.max){var yt=V.radii&&V.radii[nt]||0;D=Math.min((q[nt]-A)*o-yt,D),f=Math.max((q[nt]-A)*o+yt,f)}}}),B&&0<P&&!this.logarithmic&&(f-=k,o*=(k+Math.max(0,D)-Math.min(f,k))/k,[["min","userMin",D],["max","userMax",f]].forEach(function(V){typeof I(n.options[V[0]],n[V[1]])>"u"&&(n[V[0]]+=V[2]/o)}))}var n,X=this&&this.__extends||(n=function(k,C){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,m){O.__proto__=m}||function(O,m){for(var A in m)m.hasOwnProperty(A)&&(O[A]=m[A])})(k,C)},function(k,C){function O(){this.constructor=k}n(k,C),k.prototype=null===C?Object.create(C):(O.prototype=C.prototype,new O)}),F=c.parse;c=S.noop;var R=M.series,E=M.seriesTypes;S=E.column.prototype;var a=E.scatter;E=U.addEvent;var h=U.arrayMax,l=U.arrayMin,p=U.clamp,x=U.extend,T=U.isNumber,b=U.merge,I=U.pick,u=[];return U=function(n){function k(){var C=null!==n&&n.apply(this,arguments)||this;return C.data=void 0,C.maxPxSize=void 0,C.minPxSize=void 0,C.options=void 0,C.points=void 0,C.radii=void 0,C.yData=void 0,C.zData=void 0,C}return X(k,n),k.compose=function(C,O,m,A){i.compose(O,m,A),-1===u.indexOf(C)&&(u.push(C),C.prototype.beforePadding=G)},k.prototype.animate=function(C){!C&&this.points.length<this.options.animationLimit&&this.points.forEach(function(O){var m=O.graphic;m&&m.width&&(this.hasRendered||m.attr({x:O.plotX,y:O.plotY,width:1,height:1}),m.animate(this.markerAttribs(O),this.options.animation))},this)},k.prototype.getRadii=function(){var C=this,O=this.zData,m=this.yData,A=[],P=this.chart.bubbleZExtremes,D=this.getPxExtremes(),f=D.minPxSize,o=D.maxPxSize;if(!P){var q,B=Number.MAX_VALUE,V=-Number.MAX_VALUE;this.chart.series.forEach(function(ut){ut.bubblePadding&&(ut.visible||!C.chart.options.chart.ignoreHiddenSeries)&&(ut=(ut.onPoint||ut).getZExtremes())&&(B=Math.min(B||ut.zMin,ut.zMin),V=Math.max(V||ut.zMax,ut.zMax),q=!0)}),q?this.chart.bubbleZExtremes=P={zMin:B,zMax:V}:P={zMin:0,zMax:0}}var nt=0;for(D=O.length;nt<D;nt++)A.push(this.getRadius(P.zMin,P.zMax,f,o,O[nt],m&&m[nt]));this.radii=A},k.prototype.getRadius=function(C,O,m,A,P,D){var f=this.options,o="width"!==f.sizeBy,B=f.zThreshold,V=O-C,q=.5;if(null===D||null===P)return null;if(T(P)){if(f.sizeByAbsoluteValue&&(P=Math.abs(P-B),V=Math.max(O-B,Math.abs(C-B)),C=0),P<C)return m/2-1;0<V&&(q=(P-C)/V)}return o&&0<=q&&(q=Math.sqrt(q)),Math.ceil(m+q*(A-m))/2},k.prototype.hasData=function(){return!!this.processedXData.length},k.prototype.pointAttribs=function(C,O){var m=this.options.marker.fillOpacity;return C=R.prototype.pointAttribs.call(this,C,O),1!==m&&(C.fill=F(C.fill).setOpacity(m).get("rgba")),C},k.prototype.translate=function(){n.prototype.translate.call(this),this.getRadii(),this.translateBubble()},k.prototype.translateBubble=function(){for(var C=this.data,O=this.radii,m=this.getPxExtremes().minPxSize,A=C.length;A--;){var P=C[A],D=O?O[A]:0;T(D)&&D>=m/2?(P.marker=x(P.marker,{radius:D,width:2*D,height:2*D}),P.dlBox={x:P.plotX-D,y:P.plotY-D,width:2*D,height:2*D}):(P.shapeArgs=P.plotY=P.dlBox=void 0,P.isInside=!1)}},k.prototype.getPxExtremes=function(){var C=Math.min(this.chart.plotWidth,this.chart.plotHeight),O=function(A){if("string"==typeof A){var P=/%$/.test(A);A=parseInt(A,10)}return P?C*A/100:A},m=O(I(this.options.minSize,8));return{minPxSize:m,maxPxSize:O=Math.max(O(I(this.options.maxSize,"20%")),m)}},k.prototype.getZExtremes=function(){var C=this.options,O=(this.zData||[]).filter(T);if(O.length){var m=I(C.zMin,p(l(O),!1===C.displayNegative?C.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(C=I(C.zMax,h(O)),T(m)&&T(C))return{zMin:m,zMax:C}}},k.defaultOptions=b(a.defaultOptions,{dataLabels:{formatter:function(){var C=this.series.chart.numberFormatter,O=this.point.z;return T(O)?C(O,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),k}(a),x(U.prototype,{alignDataLabel:S.alignDataLabel,applyZones:c,bubblePadding:!0,buildKDTree:c,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:s,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),E(U,"updatedData",function(n){delete n.target.chart.bubbleZExtremes}),E(U,"remove",function(n){delete n.target.chart.bubbleZExtremes}),M.registerSeriesType("bubble",U),U}),e(v,"Series/ColumnRange/ColumnRangePoint.js",[v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s){var G,c=this&&this.__extends||(G=function(X,F){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,E){R.__proto__=E}||function(R,E){for(var a in E)E.hasOwnProperty(a)&&(R[a]=E[a])})(X,F)},function(X,F){function R(){this.constructor=X}G(X,F),X.prototype=null===F?Object.create(F):(R.prototype=F.prototype,new R)}),S=i.seriesTypes;i=S.column.prototype.pointClass.prototype;var M=s.extend,U=s.isNumber;return s=function(G){function X(){var F=null!==G&&G.apply(this,arguments)||this;return F.options=void 0,F.series=void 0,F}return c(X,G),X.prototype.isValid=function(){return U(this.low)},X}(S.arearange.prototype.pointClass),M(s.prototype,{setState:i.setState}),s}),e(v,"Series/ColumnRange/ColumnRangeSeries.js",[v["Series/ColumnRange/ColumnRangePoint.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S){var p,M=this&&this.__extends||(p=function(x,T){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,I){b.__proto__=I}||function(b,I){for(var u in I)I.hasOwnProperty(u)&&(b[u]=I[u])})(x,T)},function(x,T){function b(){this.constructor=x}p(x,T),x.prototype=null===T?Object.create(T):(b.prototype=T.prototype,new b)});s=s.noop;var U=c.seriesTypes,G=U.arearange,X=U.column,F=U.column.prototype,R=S.clamp;U=S.extend;var E=S.isNumber,a=S.merge,h=S.pick,l={pointRange:null,marker:null,states:{hover:{halo:!1}}};return S=function(p){function x(){return null!==p&&p.apply(this,arguments)||this}return M(x,p),x.prototype.setOptions=function(){return a(!0,arguments[0],{stacking:void 0}),G.prototype.setOptions.apply(this,arguments)},x.prototype.translate=function(){var O,m,A,P,T=this,b=this.yAxis,I=this.xAxis,u=I.startAngleRad,n=this.chart,k=this.xAxis.isRadial,C=Math.max(n.chartWidth,n.chartHeight)+999;F.translate.apply(this),this.points.forEach(function(D){var f=D.shapeArgs||{},o=T.options.minPointLength,B=D.plotY,V=b.translate(D.high,0,1,0,1);E(V)&&E(B)&&(D.plotHigh=R(V,-C,C),D.plotLow=R(B,-C,C),P=D.plotHigh,O=h(D.rectPlotY,D.plotY)-D.plotHigh,Math.abs(O)<o?(O+=m=o-O,P-=m/2):0>O&&(P-=O*=-1),k&&T.polar?(A=D.barX+u,D.shapeType="arc",D.shapeArgs=T.polar.arc(P+O,P,A,A+D.pointWidth)):(f.height=O,f.y=P,o=void 0===(o=f.x)?0:o,f=void 0===(f=f.width)?0:f,D.tooltipPos=n.inverted?[b.len+b.pos-n.plotLeft-P-O/2,I.len+I.pos-n.plotTop-o-f/2,O]:[I.left-n.plotLeft+o+f/2,b.pos-n.plotTop+P+O/2,O]))})},x.prototype.pointAttribs=function(){return F.pointAttribs.apply(this,arguments)},x.prototype.translate3dPoints=function(){return F.translate3dPoints.apply(this,arguments)},x.prototype.translate3dShapes=function(){return F.translate3dShapes.apply(this,arguments)},x.defaultOptions=a(X.defaultOptions,G.defaultOptions,l),x}(G),U(S.prototype,{directTouch:!0,pointClass:i,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:F.adjustForMissingColumns,animate:F.animate,crispCol:F.crispCol,drawGraph:s,drawPoints:F.drawPoints,getSymbol:s,drawTracker:F.drawTracker,getColumnMetrics:F.getColumnMetrics}),c.registerSeriesType("columnrange",S),S}),e(v,"Series/ColumnPyramid/ColumnPyramidSeries.js",[v["Series/Column/ColumnSeries.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c){var F,S=this&&this.__extends||(F=function(R,E){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var l in h)h.hasOwnProperty(l)&&(a[l]=h[l])})(R,E)},function(R,E){function a(){this.constructor=R}F(R,E),R.prototype=null===E?Object.create(E):(a.prototype=E.prototype,new a)}),M=i.prototype,U=c.clamp,G=c.merge,X=c.pick;return c=function(F){function R(){var E=null!==F&&F.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return S(R,F),R.prototype.translate=function(){var E=this,a=E.chart,h=E.options,l=E.dense=2>E.closestPointRange*E.xAxis.transA;l=E.borderWidth=X(h.borderWidth,l?0:1);var p=E.yAxis,x=h.threshold,T=E.translatedThreshold=p.getThreshold(x),b=X(h.minPointLength,5),I=E.getColumnMetrics(),u=I.width,n=E.barW=Math.max(u,1+2*l),k=E.pointXOffset=I.offset;a.inverted&&(T-=.5),h.pointPadding&&(n=Math.ceil(n)),M.translate.apply(E),E.points.forEach(function(C){var O=X(C.yBottom,T),m=999+Math.abs(O),A=U(C.plotY,-m,p.len+m);m=C.plotX+k;var f,P=n/2,D=Math.min(A,O);O=Math.max(A,O)-D,C.barX=m,C.pointWidth=u,C.tooltipPos=a.inverted?[p.len+p.pos-a.plotLeft-A,E.xAxis.len-m-P,O]:[m+P,A+p.pos-a.plotTop,O],A=x+(C.total||C.y),"percent"===h.stacking&&(A=x+(0>C.y)?-100:100),A=p.toPixels(A,!0);var o=(f=a.plotHeight-A-(a.plotHeight-T))?P*(D-A)/f:0,B=f?P*(D+O-A)/f:0;f=m-o+P,o=m+o+P;var V=m+B+P;B=m-B+P;var q=D-b,nt=D+O;0>C.y&&(q=D,nt=D+O+b),a.inverted&&(B=P*(A-((V=p.width-D)-O))/(f=A-(p.width-T)),o=(f=m+P+(o=P*(A-V)/f))-2*o,V=m-B+P,B=m+B+P,q=D,nt=D+O-b,0>C.y&&(nt=D+O+b)),C.shapeType="path",C.shapeArgs={x:f,y:q,width:o-f,height:O,d:[["M",f,q],["L",o,q],["L",V,nt],["L",B,nt],["Z"]]}})},R.defaultOptions=G(i.defaultOptions,{}),R}(i),s.registerSeriesType("columnpyramid",c),c}),e(v,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),e(v,"Series/ErrorBar/ErrorBarSeries.js",[v["Series/BoxPlot/BoxPlotSeries.js"],v["Series/Column/ColumnSeries.js"],v["Series/ErrorBar/ErrorBarSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S,M){var E,U=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),G=S.seriesTypes.arearange,X=M.addEvent,F=M.merge;M=M.extend;var R=function(E){function a(){var h=null!==E&&E.apply(this,arguments)||this;return h.data=void 0,h.options=void 0,h.points=void 0,h}return U(a,E),a.prototype.getColumnMetrics=function(){return this.linkedParent&&this.linkedParent.columnMetrics||s.prototype.getColumnMetrics.call(this)},a.prototype.drawDataLabels=function(){var h=this.pointValKey;G&&(G.prototype.drawDataLabels.call(this),this.data.forEach(function(l){l.y=l[h]}))},a.prototype.toYData=function(h){return[h.low,h.high]},a.defaultOptions=F(i.defaultOptions,c),a}(i);return X(R,"afterTranslate",function(){this.points.forEach(function(E){E.plotLow=E.plotY})},{order:0}),M(R.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),S.registerSeriesType("errorbar",R),R}),e(v,"Series/Gauge/GaugePoint.js",[v["Core/Series/SeriesRegistry.js"]],function(i){var c,s=this&&this.__extends||(c=function(S,M){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,G){U.__proto__=G}||function(U,G){for(var X in G)G.hasOwnProperty(X)&&(U[X]=G[X])})(S,M)},function(S,M){function U(){this.constructor=S}c(S,M),S.prototype=null===M?Object.create(M):(U.prototype=M.prototype,new U)});return function(c){function S(){var M=null!==c&&c.apply(this,arguments)||this;return M.options=void 0,M.series=void 0,M.shapeArgs=void 0,M}return s(S,c),S.prototype.setState=function(M){this.state=M},S}(i.series.prototype.pointClass)}),e(v,"Series/Gauge/GaugeSeries.js",[v["Series/Gauge/GaugePoint.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S){var l,M=this&&this.__extends||(l=function(p,x){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,b){T.__proto__=b}||function(T,b){for(var I in b)b.hasOwnProperty(I)&&(T[I]=b[I])})(p,x)},function(p,x){function T(){this.constructor=p}l(p,x),p.prototype=null===x?Object.create(x):(T.prototype=x.prototype,new T)});s=s.noop;var U=c.series,G=c.seriesTypes.column,X=S.clamp,F=S.isNumber,R=S.extend,E=S.merge,a=S.pick,h=S.pInt;return S=function(l){function p(){var x=null!==l&&l.apply(this,arguments)||this;return x.data=void 0,x.points=void 0,x.options=void 0,x.yAxis=void 0,x}return M(p,l),p.prototype.translate=function(){var x=this.yAxis,T=this.options,b=x.center;this.generatePoints(),this.points.forEach(function(I){var u=E(T.dial,I.dial),n=h(u.radius)*b[2]/200,k=h(u.baseLength)*n/100,C=h(u.rearLength)*n/100,O=u.baseWidth,m=u.topWidth,A=T.overshoot,P=x.startAngleRad+x.translate(I.y,void 0,void 0,void 0,!0);(F(A)||!1===T.wrap)&&(A=F(A)?A/180*Math.PI:0,P=X(P,x.startAngleRad-A,x.endAngleRad+A)),P=180*P/Math.PI,I.shapeType="path",I.shapeArgs={d:u.path||[["M",-C,-O/2],["L",k,-O/2],["L",n,-m/2],["L",n,m/2],["L",k,O/2],["L",-C,O/2],["Z"]],translateX:b[0],translateY:b[1],rotation:P},I.plotX=b[0],I.plotY=b[1]})},p.prototype.drawPoints=function(){var x=this,T=x.chart,b=x.yAxis.center,I=x.pivot,u=x.options,n=u.pivot,k=T.renderer;x.points.forEach(function(C){var O=C.graphic,m=C.shapeArgs,A=m.d,P=E(u.dial,C.dial);O?(O.animate(m),m.d=A):C.graphic=k[C.shapeType](m).attr({rotation:m.rotation,zIndex:1}).addClass("highcharts-dial").add(x.group),T.styledMode||C.graphic[O?"animate":"attr"]({stroke:P.borderColor,"stroke-width":P.borderWidth,fill:P.backgroundColor})}),I?I.animate({translateX:b[0],translateY:b[1]}):n&&(x.pivot=k.circle(0,0,n.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(b[0],b[1]).add(x.group),T.styledMode||x.pivot.attr({fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth}))},p.prototype.animate=function(x){var T=this;x||T.points.forEach(function(b){var I=b.graphic;I&&(I.attr({rotation:180*T.yAxis.startAngleRad/Math.PI}),I.animate({rotation:b.shapeArgs.rotation},T.options.animation))})},p.prototype.render=function(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),U.prototype.render.call(this),this.group.clip(this.chart.clipRect)},p.prototype.setData=function(x,T){U.prototype.setData.call(this,x,!1),this.processData(),this.generatePoints(),a(T,!0)&&this.chart.redraw()},p.prototype.hasData=function(){return!!this.points.length},p.defaultOptions=E(U.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),p}(U),R(S.prototype,{angular:!0,directTouch:!0,drawGraph:s,drawTracker:G.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:i,trackerGroups:["group","dataLabelsGroup"]}),c.registerSeriesType("gauge",S),S}),e(v,"Series/DragNodesComposition.js",[v["Core/Utilities.js"]],function(i){function s(){var U,G,X,M=this;M.container&&(U=c(M.container,"mousedown",function(F){var R=M.hoverPoint;R&&R.series&&R.series.hasDraggableNodes&&R.series.options.draggable&&(R.series.onMouseDown(R,F),G=c(M.container,"mousemove",function(E){return R&&R.series&&R.series.onMouseMove(R,E)}),X=c(M.container.ownerDocument,"mouseup",function(E){return G(),X(),R&&R.series&&R.series.onMouseUp(R,E)}))})),c(M,"destroy",function(){U()})}var c=i.addEvent,S=[];return{compose:function(M){-1===S.indexOf(M)&&(S.push(M),c(M,"load",s))},onMouseDown:function(M,U){U=this.chart.pointer.normalize(U),M.fixedPosition={chartX:U.chartX,chartY:U.chartY,plotX:M.plotX,plotY:M.plotY},M.inDragMode=!0},onMouseMove:function(M,U){if(M.fixedPosition&&M.inDragMode){var G=this.chart,X=G.pointer.normalize(U);U=M.fixedPosition.chartX-X.chartX,X=M.fixedPosition.chartY-X.chartY;var F=G.graphLayoutsLookup,R=void 0,E=void 0;(5<Math.abs(U)||5<Math.abs(X))&&G.isInsidePlot(R=M.fixedPosition.plotX-U,E=M.fixedPosition.plotY-X)&&(M.plotX=R,M.plotY=E,M.hasDragged=!0,this.redrawHalo(M),F.forEach(function(a){a.restartSimulation()}))}},onMouseUp:function(M,U){M.fixedPosition&&(M.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),M.inDragMode=M.hasDragged=!1,this.options.fixedDraggable||delete M.fixedPosition)},redrawHalo:function(M){M&&this.halo&&this.halo.attr({d:M.haloPath(this.options.states.hover.halo.size)})}}}),e(v,"Series/GraphLayoutComposition.js",[v["Core/Animation/AnimationUtilities.js"],v["Core/Utilities.js"]],function(i,s){function c(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(R){R.updateSimulation()}),this.redraw())}function S(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(R){R.updateSimulation(!1)}),this.redraw())}function M(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(R){R.stop()})}function U(){var R=!1,E=function(h){h.maxIterations--&&isFinite(h.temperature)&&!h.isStable()&&!h.enableSimulation&&(h.beforeStep&&h.beforeStep(),h.step(),a=!1,R=!0)};if(this.graphLayoutsLookup){for(G(!1,this),this.graphLayoutsLookup.forEach(function(h){return h.start()});!a;){var a=!0;this.graphLayoutsLookup.forEach(E)}R&&this.series.forEach(function(h){h&&h.layout&&h.render()})}}var G=i.setAnimation,X=s.addEvent,F=[];return{compose:function(R){F.indexOf(R)&&(F.push(R),X(R,"afterPrint",c),X(R,"beforePrint",S),X(R,"predraw",M),X(R,"render",U))},integrations:{},layouts:{}}}),e(v,"Series/PackedBubble/PackedBubblePoint.js",[v["Core/Chart/Chart.js"],v["Core/Series/Point.js"],v["Core/Series/SeriesRegistry.js"]],function(i,s,c){var M,S=this&&this.__extends||(M=function(U,G){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,F){X.__proto__=F}||function(X,F){for(var R in F)F.hasOwnProperty(R)&&(X[R]=F[R])})(U,G)},function(U,G){function X(){this.constructor=U}M(U,G),U.prototype=null===G?Object.create(G):(X.prototype=G.prototype,new X)});return function(M){function U(){var G=null!==M&&M.apply(this,arguments)||this;return G.degree=NaN,G.mass=NaN,G.radius=NaN,G.options=void 0,G.series=void 0,G.value=null,G}return S(U,M),U.prototype.destroy=function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),s.prototype.destroy.apply(this,arguments)},U.prototype.firePointEvent=function(){var G=this.series.options;if(this.isParentNode&&G.parentNode){var X=G.allowPointSelect;G.allowPointSelect=G.parentNode.allowPointSelect,s.prototype.firePointEvent.apply(this,arguments),G.allowPointSelect=X}else s.prototype.firePointEvent.apply(this,arguments)},U.prototype.select=function(){var G=this.series.chart;this.isParentNode?(G.getSelectedPoints=G.getSelectedParentNodes,s.prototype.select.apply(this,arguments),G.getSelectedPoints=i.prototype.getSelectedPoints):s.prototype.select.apply(this,arguments)},U}(c.seriesTypes.bubble.prototype.pointClass)}),e(v,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[v["Core/Utilities.js"]],function(i){var s=i.isNumber;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){var c=this.series.chart.numberFormatter,S=this.point.value;return s(S)?c(S,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),e(v,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(i,s,c){var S=i.getMass(),M=-c.x*s*this.diffTemperature;s=-c.y*s*this.diffTemperature,i.fromNode.fixedPosition||(i.fromNode.plotX-=M*S.fromNode/i.fromNode.degree,i.fromNode.plotY-=s*S.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.plotX+=M*S.toNode/i.toNode.degree,i.toNode.plotY+=s*S.toNode/i.toNode.degree)},attractiveForceFunction:function(i,s){return(s-i)/i},barycenter:function(){var i=this.options.gravitationalConstant,s=this.barycenter.xFactor,c=this.barycenter.yFactor;s=(s-(this.box.left+this.box.width)/2)*i,c=(c-(this.box.top+this.box.height)/2)*i,this.nodes.forEach(function(S){S.fixedPosition||(S.plotX-=s/S.mass/S.degree,S.plotY-=c/S.mass/S.degree)})},getK:function(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.5)},integrate:function(i,s){var c=-i.options.friction,S=i.options.maxSpeed,M=(s.plotX+s.dispX-s.prevX)*c;c*=s.plotY+s.dispY-s.prevY;var U=Math.abs,G=U(M)/(M||1);U=U(c)/(c||1),M=G*Math.min(S,Math.abs(M)),c=U*Math.min(S,Math.abs(c)),s.prevX=s.plotX+s.dispX,s.prevY=s.plotY+s.dispY,s.plotX+=M,s.plotY+=c,s.temperature=i.vectorLength({x:M,y:c})},repulsive:function(i,s,c){s=s*this.diffTemperature/i.mass/i.degree,i.fixedPosition||(i.plotX+=c.x*s,i.plotY+=c.y*s)},repulsiveForceFunction:function(i,s){return(s-i)/i*(s>i?1:0)}}}),e(v,"Series/PackedBubble/PackedBubbleIntegration.js",[v["Core/Globals.js"],v["Series/Networkgraph/VerletIntegration.js"]],function(i,s){return{barycenter:function(){for(var U,G,c=this.options.gravitationalConstant,S=this.box,M=this.nodes,X=0;X<M.length;X++){var F=M[X];this.options.splitSeries&&!F.isParentNode?(U=F.series.parentNode.plotX,G=F.series.parentNode.plotY):(U=S.width/2,G=S.height/2),F.fixedPosition||(F.plotX-=(F.plotX-U)*c/(F.mass*Math.sqrt(M.length)),F.plotY-=(F.plotY-G)*c/(F.mass*Math.sqrt(M.length)))}},getK:i.noop,integrate:s.integrate,repulsive:function(c,S,M,U){var G=S*this.diffTemperature/c.mass/c.degree;S=M.x*G,M=M.y*G,c.fixedPosition||(c.plotX+=S,c.plotY+=M),U.fixedPosition||(U.plotX-=S,U.plotY-=M)},repulsiveForceFunction:function(c,S,M,U){return Math.min(c,(M.marker.radius+U.marker.radius)/2)}}}),e(v,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(i,s,c,S){var M=i.getMass(),U=c.x/S*s;s*=c.y/S,i.fromNode.fixedPosition||(i.fromNode.dispX-=U*M.fromNode/i.fromNode.degree,i.fromNode.dispY-=s*M.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.dispX+=U*M.toNode/i.toNode.degree,i.toNode.dispY+=s*M.toNode/i.toNode.degree)},attractiveForceFunction:function(i,s){return i*i/s},barycenter:function(){var i=this.options.gravitationalConstant,s=this.barycenter.xFactor,c=this.barycenter.yFactor;this.nodes.forEach(function(S){if(!S.fixedPosition){var M=S.getDegree();S.dispX+=(s-S.plotX)*i*(M*=1+M/2)/S.degree,S.dispY+=(c-S.plotY)*i*M/S.degree}})},getK:function(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.3)},integrate:function(i,s){s.dispX+=s.dispX*i.options.friction,s.dispY+=s.dispY*i.options.friction;var c=s.temperature=i.vectorLength({x:s.dispX,y:s.dispY});0!==c&&(s.plotX+=s.dispX/c*Math.min(Math.abs(s.dispX),i.temperature),s.plotY+=s.dispY/c*Math.min(Math.abs(s.dispY),i.temperature))},repulsive:function(i,s,c,S){i.dispX+=c.x/S*s/i.degree,i.dispY+=c.y/S*s/i.degree},repulsiveForceFunction:function(i,s){return s*s/i}}}),e(v,"Series/Networkgraph/QuadTreeNode.js",[],function(){return function(){function i(s){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=s,this.boxSize=Math.min(s.width,s.height)}return i.prototype.divideBox=function(){var s=this.box.width/2,c=this.box.height/2;this.nodes[0]=new i({left:this.box.left,top:this.box.top,width:s,height:c}),this.nodes[1]=new i({left:this.box.left+s,top:this.box.top,width:s,height:c}),this.nodes[2]=new i({left:this.box.left+s,top:this.box.top+c,width:s,height:c}),this.nodes[3]=new i({left:this.box.left,top:this.box.top+c,width:s,height:c})},i.prototype.getBoxPosition=function(s){var c=s.plotY<this.box.top+this.box.height/2;return s.plotX<this.box.left+this.box.width/2?c?0:3:c?1:2},i.prototype.insert=function(s,c){this.isInternal?this.nodes[this.getBoxPosition(s)].insert(s,c-1):(this.isEmpty=!1,this.body?c?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,c-1),this.body=!0),this.nodes[this.getBoxPosition(s)].insert(s,c-1)):((c=new i({top:s.plotX||NaN,left:s.plotY||NaN,width:.1,height:.1})).body=s,c.isInternal=!1,this.nodes.push(c)):(this.isInternal=!1,this.body=s))},i.prototype.updateMassAndCenter=function(){var s=0,c=0,S=0;if(this.isInternal){for(var M=0,U=this.nodes;M<U.length;M++){var G=U[M];G.isEmpty||(s+=G.mass,c+=G.plotX*G.mass,S+=G.plotY*G.mass)}c/=s,S/=s}else this.body&&(s=this.body.mass,c=this.body.plotX,S=this.body.plotY);this.mass=s,this.plotX=c,this.plotY=S},i}()}),e(v,"Series/Networkgraph/QuadTree.js",[v["Series/Networkgraph/QuadTreeNode.js"]],function(i){return function(){function s(c,S,M,U){this.box={left:c,top:S,width:M,height:U},this.maxDepth=25,this.root=new i(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}return s.prototype.calculateMassAndCenter=function(){this.visitNodeRecursive(null,null,function(c){c.updateMassAndCenter()})},s.prototype.insertNodes=function(c){for(var S=0;S<c.length;S++)this.root.insert(c[S],this.maxDepth)},s.prototype.visitNodeRecursive=function(c,S,M){var U;if(c||(c=this.root),c===this.root&&S&&(U=S(c)),!1!==U){for(var G=0,X=c.nodes;G<X.length;G++){var F=X[G];if(F.isInternal){if(S&&(U=S(F)),!1===U)continue;this.visitNodeRecursive(F,S,M)}else F.body&&S&&S(F.body);M&&M(F)}c===this.root&&M&&M(c)}},s}()}),e(v,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[v["Series/Networkgraph/EulerIntegration.js"],v["Core/Globals.js"],v["Series/GraphLayoutComposition.js"],v["Series/Networkgraph/QuadTree.js"],v["Core/Utilities.js"],v["Series/Networkgraph/VerletIntegration.js"]],function(i,s,c,S,M,U){var G=s.win,X=M.clamp,F=M.defined,R=M.isFunction,E=M.pick;return function(){function a(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}return a.compose=function(h){c.compose(h),c.integrations.euler=i,c.integrations.verlet=U,c.layouts["reingold-fruchterman"]=a},a.prototype.init=function(h){this.options=h,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=c.integrations[h.integration],this.enableSimulation=h.enableSimulation,this.attractiveForce=E(h.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=E(h.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=h.approximation},a.prototype.updateSimulation=function(h){this.enableSimulation=E(h,this.options.enableSimulation)},a.prototype.start=function(){var h=this.series,l=this.options;this.currentStep=0,this.forces=h[0]&&h[0].forces||[],this.chart=h[0]&&h[0].chart,this.initialRendering&&(this.initPositions(),h.forEach(function(p){p.finishedAnimating=!0,p.render()})),this.setK(),this.resetSimulation(l),this.enableSimulation&&this.step()},a.prototype.step=function(){var h=this,l=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(var p=0,x=this.forces||[];p<x.length;p++)this[x[p]+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(p=0;p<l.length;p++)(x=l[p]).chart&&x.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&G.cancelAnimationFrame(this.simulation),this.simulation=G.requestAnimationFrame(function(){return h.step()})):this.simulation=!1}},a.prototype.stop=function(){this.simulation&&G.cancelAnimationFrame(this.simulation)},a.prototype.setArea=function(h,l,p,x){this.box={left:h,top:l,width:p,height:x}},a.prototype.setK=function(){this.k=this.options.linkLength||this.integration.getK(this)},a.prototype.addElementsToCollection=function(h,l){for(var p=0;p<h.length;p++){var x=h[p];-1===l.indexOf(x)&&l.push(x)}},a.prototype.removeElementFromCollection=function(h,l){-1!==(h=l.indexOf(h))&&l.splice(h,1)},a.prototype.clear=function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},a.prototype.resetSimulation=function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},a.prototype.restartSimulation=function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},a.prototype.setMaxIterations=function(h){this.maxIterations=E(h,this.options.maxIterations)},a.prototype.setTemperature=function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},a.prototype.setDiffTemperature=function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},a.prototype.setInitialRendering=function(h){this.initialRendering=h},a.prototype.createQuadTree=function(){this.quadTree=new S(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},a.prototype.initPositions=function(){var h=this.options.initialPositions;if(R(h)){h.call(this),h=0;for(var l=this.nodes;h<l.length;h++){var p=l[h];F(p.prevX)||(p.prevX=p.plotX),F(p.prevY)||(p.prevY=p.plotY),p.dispX=0,p.dispY=0}}else"circle"===h?this.setCircularPositions():this.setRandomPositions()},a.prototype.setCircularPositions=function(){for(var h=this.box,l=this.nodes,p=2*Math.PI/(l.length+1),x=l.filter(function(C){return 0===C.linksTo.length}),T={},b=this.options.initialPositionRadius,I=function(C){var O=0;for(C=C.linksFrom||[];O<C.length;O++){var m=C[O];T[m.toNode.id]||(T[m.toNode.id]=!0,u.push(m.toNode),I(m.toNode))}},u=[],n=0;n<x.length;n++){var k=x[n];u.push(k),I(k)}if(u.length)for(x=0;x<l.length;x++)-1===u.indexOf(n=l[x])&&u.push(n);else u=l;for(x=0,n=u.length;x<n;++x)(l=u[x]).plotX=l.prevX=E(l.plotX,h.width/2+b*Math.cos(x*p)),l.plotY=l.prevY=E(l.plotY,h.height/2+b*Math.sin(x*p)),l.dispX=0,l.dispY=0},a.prototype.setRandomPositions=function(){for(var T,h=this.box,l=this.nodes,p=l.length+1,x=function(u){return(u=u*u/Math.PI)-Math.floor(u)},b=0,I=l.length;b<I;++b)(T=l[b]).plotX=T.prevX=E(T.plotX,h.width*x(b)),T.plotY=T.prevY=E(T.plotY,h.height*x(p+b)),T.dispX=0,T.dispY=0},a.prototype.force=function(h){for(var l=[],p=1;p<arguments.length;p++)l[p-1]=arguments[p];this.integration[h].apply(this,l)},a.prototype.barycenterForces=function(){this.getBarycenter(),this.force("barycenter")},a.prototype.getBarycenter=function(){for(var h=0,l=0,p=0,x=0,T=this.nodes;x<T.length;x++){var b=T[x];l+=b.plotX*b.mass,p+=b.plotY*b.mass,h+=b.mass}return this.barycenter={x:l,y:p,xFactor:l/h,yFactor:p/h}},a.prototype.barnesHutApproximation=function(h,l){var p=this.getDistXY(h,l),x=this.vectorLength(p);if(h!==l&&0!==x)if(l.isInternal)if(l.boxSize/x<this.options.theta&&0!==x){var T=this.repulsiveForce(x,this.k);this.force("repulsive",h,T*l.mass,p,x);var b=!1}else b=!0;else T=this.repulsiveForce(x,this.k),this.force("repulsive",h,T*l.mass,p,x);return b},a.prototype.repulsiveForces=function(){var h=this;if("barnes-hut"===this.approximation)for(var l=function(O){p.quadTree.visitNodeRecursive(null,function(m){return h.barnesHutApproximation(O,m)})},p=this,x=0,T=this.nodes;x<T.length;x++){var b=T[x];l(b)}else{T=x=l=void 0;for(var I=0,u=this.nodes;I<u.length;I++){b=u[I];for(var n=0,k=this.nodes;n<k.length;n++){var C=k[n];b===C||b.fixedPosition||(T=this.getDistXY(b,C),0!==(x=this.vectorLength(T))&&(l=this.repulsiveForce(x,this.k),this.force("repulsive",b,l*C.mass,T,x)))}}}},a.prototype.attractiveForces=function(){for(var h,l,p,x=0,T=this.links;x<T.length;x++){var b=T[x];b.fromNode&&b.toNode&&(h=this.getDistXY(b.fromNode,b.toNode),0!==(l=this.vectorLength(h))&&(p=this.attractiveForce(l,this.k),this.force("attractive",b,p,h,l)))}},a.prototype.applyLimits=function(){for(var h=0,l=this.nodes;h<l.length;h++){var p=l[h];if(p.fixedPosition)break;this.integration.integrate(this,p),this.applyLimitBox(p,this.box),p.dispX=0,p.dispY=0}},a.prototype.applyLimitBox=function(h,l){var p=h.radius;h.plotX=X(h.plotX,l.left+p,l.width-p),h.plotY=X(h.plotY,l.top+p,l.height-p)},a.prototype.coolDown=function(h,l,p){return h-l*p},a.prototype.isStable=function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},a.prototype.getSystemTemperature=function(){for(var h=0,l=0,p=this.nodes;l<p.length;l++)h+=p[l].temperature;return h},a.prototype.vectorLength=function(h){return Math.sqrt(h.x*h.x+h.y*h.y)},a.prototype.getDistR=function(h,l){return h=this.getDistXY(h,l),this.vectorLength(h)},a.prototype.getDistXY=function(h,l){var p=h.plotX-l.plotX;return{x:p,y:h=h.plotY-l.plotY,absX:Math.abs(p),absY:Math.abs(h)}},a}()}),e(v,"Series/PackedBubble/PackedBubbleLayout.js",[v["Series/GraphLayoutComposition.js"],v["Series/PackedBubble/PackedBubbleIntegration.js"],v["Series/Networkgraph/ReingoldFruchtermanLayout.js"],v["Core/Utilities.js"]],function(i,s,c,S){function M(){var E=[];return this.series.forEach(function(a){a.parentNode&&a.parentNode.selected&&E.push(a.parentNode)}),E}function U(){this.allDataPoints&&delete this.allDataPoints}var E,G=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),X=S.addEvent,F=S.pick,R=[];return S=function(E){function a(){var h=null!==E&&E.apply(this,arguments)||this;return h.index=NaN,h.nodes=[],h.options=void 0,h.series=[],h}return G(a,E),a.compose=function(h){c.compose(h),i.integrations.packedbubble=s,i.layouts.packedbubble=a,-1===R.indexOf(h)&&(R.push(h),X(h,"beforeRedraw",U),h.prototype.getSelectedParentNodes=M)},a.prototype.beforeStep=function(){this.options.marker&&this.series.forEach(function(h){h&&h.calculateParentRadius()})},a.prototype.isStable=function(){var h=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>h||0>=this.temperature},a.prototype.setCircularPositions=function(){for(var T,b,h=this.box,l=this.nodes,p=2*Math.PI/(l.length+1),x=this.options.initialPositionRadius,I=0,u=0;u<l.length;u++){var n=l[u];this.options.splitSeries&&!n.isParentNode?(T=n.series.parentNode.plotX,b=n.series.parentNode.plotY):(T=h.width/2,b=h.height/2),n.plotX=n.prevX=F(n.plotX,T+x*Math.cos(n.index||I*p)),n.plotY=n.prevY=F(n.plotY,b+x*Math.sin(n.index||I*p)),n.dispX=0,n.dispY=0,I++}},a.prototype.repulsiveForces=function(){var p,x,T,h=this,l=h.options.bubblePadding;h.nodes.forEach(function(b){b.degree=b.mass,b.neighbours=0,h.nodes.forEach(function(I){p=0,b===I||b.fixedPosition||!h.options.seriesInteraction&&b.series!==I.series||(T=h.getDistXY(b,I),0>(x=h.vectorLength(T)-(b.marker.radius+I.marker.radius+l))&&(b.degree+=.01,b.neighbours++,p=h.repulsiveForce(-x/Math.sqrt(b.neighbours),h.k,b,I)),h.force("repulsive",b,p*I.mass,T,I,x))})})},a.prototype.applyLimitBox=function(h,l){if(this.options.splitSeries&&!h.isParentNode&&this.options.parentNodeLimit){var p=this.getDistXY(h,h.series.parentNode),x=h.series.parentNodeRadius-h.marker.radius-this.vectorLength(p);0>x&&x>-2*h.marker.radius&&(h.plotX-=.01*p.x,h.plotY-=.01*p.y)}E.prototype.applyLimitBox.call(this,h,l)},a}(c),i.layouts.packedbubble=S}),e(v,"Series/PackedBubble/PackedBubbleSeries.js",[v["Core/Color/Color.js"],v["Series/DragNodesComposition.js"],v["Series/GraphLayoutComposition.js"],v["Core/Globals.js"],v["Series/PackedBubble/PackedBubblePoint.js"],v["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],v["Series/PackedBubble/PackedBubbleLayout.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S,M,U,G,X,F){var C,R=this&&this.__extends||(C=function(O,m){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,P){A.__proto__=P}||function(A,P){for(var D in P)P.hasOwnProperty(D)&&(A[D]=P[D])})(O,m)},function(O,m){function A(){this.constructor=O}C(O,m),O.prototype=null===m?Object.create(m):(A.prototype=m.prototype,new A)}),E=i.parse;i=S.noop;var a=X.series.prototype,h=X.seriesTypes.bubble,l=F.addEvent,p=F.clamp,x=F.defined,T=F.extend,b=F.fireEvent,I=F.isArray,u=F.isNumber,n=F.merge,k=F.pick;return F=function(C){function O(){var m=null!==C&&C.apply(this,arguments)||this;return m.chart=void 0,m.data=void 0,m.layout=void 0,m.options=void 0,m.parentNodeMass=0,m.points=void 0,m.xData=void 0,m}return R(O,C),O.compose=function(m,A,P,D){h.compose(m,A,P,D),s.compose(A),G.compose(A)},O.prototype.accumulateAllPoints=function(){for(var P,m=this.chart,A=[],D=0,f=m.series;D<f.length;D++){var o=f[D];if(o.is("packedbubble")&&o.visible||!m.options.chart.ignoreHiddenSeries){P=o.yData||[];for(var B=0;B<P.length;B++)A.push([null,null,P[B],o.index,B,{id:B,marker:{radius:0}}])}}return A},O.prototype.addLayout=function(){var m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},A=m.type||"packedbubble",P=this.chart.options.chart,D=this.chart.graphLayoutsStorage,f=this.chart.graphLayoutsLookup;D||(this.chart.graphLayoutsStorage=D={},this.chart.graphLayoutsLookup=f=[]);var o=D[A];o||(m.enableSimulation=x(P.forExport)?!P.forExport:m.enableSimulation,D[A]=o=new c.layouts[A],o.init(m),f.splice(o.index,0,o)),this.layout=o,this.points.forEach(function(B){B.mass=2,B.degree=1,B.collisionNmb=1}),o.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),o.addElementsToCollection([this],o.series),o.addElementsToCollection(this.points,o.nodes)},O.prototype.addSeriesLayout=function(){var m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},A=m.type||"packedbubble",P=this.chart.graphLayoutsStorage,D=this.chart.graphLayoutsLookup;m=n(m,m.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});var f=P[A+"-series"];f||(P[A+"-series"]=f=new c.layouts[A],f.init(m),D.splice(f.index,0,f)),this.parentNodeLayout=f,this.createParentNodes()},O.prototype.calculateParentRadius=function(){var m=this.seriesBox();this.parentNodeRadius=p(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,m?Math.max(Math.sqrt(Math.pow(m.width,2)+Math.pow(m.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)},O.prototype.calculateZExtremes=function(){var m=this.options.zMin,A=this.options.zMax,P=1/0,D=-1/0;return m&&A||(this.chart.series.forEach(function(f){f.yData.forEach(function(o){x(o)&&(o>D&&(D=o),o<P&&(P=o))})}),m=k(m,P),A=k(A,D)),[m,A]},O.prototype.checkOverlap=function(m,A){var P=m[0]-A[0],D=m[1]-A[1];return-.001>Math.sqrt(P*P+D*D)-Math.abs(m[2]+A[2])},O.prototype.createParentNodes=function(){var o,m=this,A=this.pointClass,P=this.chart,D=this.parentNodeLayout,f=this.layout.options,B=this.parentNode,V={radius:this.parentNodeRadius,lineColor:this.color,fillColor:E(this.color).brighten(.4).get()};f.parentNodeOptions&&(V=n(f.parentNodeOptions.marker||{},V)),this.parentNodeMass=0,this.points.forEach(function(q){m.parentNodeMass+=Math.PI*Math.pow(q.marker.radius,2)}),this.calculateParentRadius(),D.nodes.forEach(function(q){q.seriesIndex===m.index&&(o=!0)}),D.setArea(0,0,P.plotWidth,P.plotHeight),o||(B||(B=(new A).init(this,{mass:this.parentNodeRadius/2,marker:V,dataLabels:{inside:!1},states:{normal:{marker:V},hover:{marker:V}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(B.plotX=this.parentNode.plotX,B.plotY=this.parentNode.plotY),this.parentNode=B,D.addElementsToCollection([this],D.series),D.addElementsToCollection([B],D.nodes))},O.prototype.deferLayout=function(){var m=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),m.splitSeries&&this.addSeriesLayout())},O.prototype.destroy=function(){var m=this;this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(function(A){A.removeElementFromCollection(m,A.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),a.destroy.apply(this,arguments)},O.prototype.drawDataLabels=function(){a.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",a.drawDataLabels.call(this,[this.parentNode]))},O.prototype.drawGraph=function(){if(this.layout&&this.layout.options.splitSeries){var m=this.chart,A=this.layout.options.parentNodeOptions.marker;A={fill:A.fillColor||E(this.color).brighten(.4).get(),opacity:A.fillOpacity,stroke:A.lineColor||this.color,"stroke-width":k(A.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,m.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var P=n({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},A);this.parentNode.graphic||(this.graph=this.parentNode.graphic=m.renderer.symbol(A.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(P)}},O.prototype.drawTracker=function(){var m=this.parentNode;if(C.prototype.drawTracker.call(this),m){var A=I(m.dataLabels)?m.dataLabels:m.dataLabel?[m.dataLabel]:[];m.graphic&&(m.graphic.element.point=m),A.forEach(function(P){P.div?P.div.point=m:P.element.point=m})}},O.prototype.getPointRadius=function(){var nt,yt,ut,Y,m=this,A=this.chart,P=this.options,D=P.useSimulation,f=Math.min(A.plotWidth,A.plotHeight),o={},B=[],V=A.allDataPoints||[],q=V.length;["minSize","maxSize"].forEach(function(wt){var St=parseInt(P[wt],10),At=/%$/.test(P[wt]);o[wt]=At?f*St/100:St*Math.sqrt(q)}),A.minRadius=nt=o.minSize/Math.sqrt(q),A.maxRadius=yt=o.maxSize/Math.sqrt(q);var tt=D?this.calculateZExtremes():[nt,yt];V.forEach(function(wt,St){ut=D?p(wt[2],tt[0],tt[1]):wt[2],0===(Y=m.getRadius(tt[0],tt[1],nt,yt,ut))&&(Y=null),V[St][2]=Y,B.push(Y)}),this.radii=B},O.prototype.init=function(){return a.init.apply(this,arguments),this.eventsToUnbind.push(l(this,"updatedData",function(){var m=this;this.chart.series.forEach(function(A){A.type===m.type&&(A.isDirty=!0)},this)})),this},O.prototype.onMouseUp=function(m){var A=m;if(A.fixedPosition&&!A.removed){var f,P=this.layout,D=this.parentNodeLayout;D&&P.options.dragBetweenSeries&&D.nodes.forEach(function(B){A&&A.marker&&B!==A.series.parentNode&&(f=P.getDistXY(A,B),0>P.vectorLength(f)-B.marker.radius-A.marker.radius&&(B.series.addPoint(n(A.options,{plotX:A.plotX,plotY:A.plotY}),!1),P.removeElementFromCollection(A,P.nodes),A.remove()))}),s.onMouseUp.apply(this,arguments)}},O.prototype.placeBubbles=function(m){var q,A=this.checkOverlap,P=this.positionBubble,D=[],f=1,o=0,B=0,V=[];if((m=m.sort(function(nt,yt){return yt[2]-nt[2]})).length){if(D.push([[0,0,m[0][2],m[0][3],m[0][4]]]),1<m.length)for(D.push([[0,0-m[1][2]-m[0][2],m[1][2],m[1][3],m[1][4]]]),q=2;q<m.length;q++)m[q][2]=m[q][2]||1,A(V=P(D[f][o],D[f-1][B],m[q]),D[f][0])?(D.push([]),B=0,D[f+1].push(P(D[f][o],D[f][0],m[q])),f++,o=0):1<f&&D[f-1][B+1]&&A(V,D[f-1][B+1])?(B++,D[f].push(P(D[f][o],D[f-1][B],m[q])),o++):(o++,D[f].push(V));this.chart.stages=D,this.chart.rawPositions=[].concat.apply([],D),this.resizeRadius(),V=this.chart.rawPositions}return V},O.prototype.pointAttribs=function(m,A){var P=this.options,D=P.marker;return m&&m.isParentNode&&P.layoutAlgorithm&&P.layoutAlgorithm.parentNodeOptions&&(D=P.layoutAlgorithm.parentNodeOptions.marker),P=D.fillOpacity,m=a.pointAttribs.call(this,m,A),1!==P&&(m["fill-opacity"]=P),m},O.prototype.positionBubble=function(m,A,P){var D=Math.sqrt,f=Math.asin,o=Math.acos,B=Math.pow,V=Math.abs;return D=D(B(m[0]-A[0],2)+B(m[1]-A[1],2)),o=o((B(D,2)+B(P[2]+A[2],2)-B(P[2]+m[2],2))/(2*(P[2]+A[2])*D)),f=f(V(m[0]-A[0])/D),m=(0>m[1]-A[1]?0:Math.PI)+o+f*(0>(m[0]-A[0])*(m[1]-A[1])?1:-1),[A[0]+(A[2]+P[2])*Math.sin(m),A[1]-(A[2]+P[2])*Math.cos(m),P[2],P[3],P[4]]},O.prototype.render=function(){var m=[];a.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(function(A){I(A.dataLabels)&&A.dataLabels.forEach(function(P){m.push(P)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(m))},O.prototype.resizeRadius=function(){for(var q,nt,m=this.chart,A=m.rawPositions,P=Math.min,D=Math.max,f=m.plotLeft,o=m.plotTop,B=m.plotHeight,V=m.plotWidth,yt=q=Number.POSITIVE_INFINITY,ut=nt=Number.NEGATIVE_INFINITY,Y=0;Y<A.length;Y++){var tt=A[Y],wt=tt[2];yt=P(yt,tt[0]-wt),ut=D(ut,tt[0]+wt),q=P(q,tt[1]-wt),nt=D(nt,tt[1]+wt)}if(P=P.apply([],[(V-f)/(tt=[ut-yt,nt-q])[0],(B-o)/tt[1]]),1e-10<Math.abs(P-1)){for(m=0;m<A.length;m++)(tt=A[m])[2]*=P;this.placeBubbles(A)}else m.diffY=B/2+o-q-(nt-q)/2,m.diffX=V/2+f-yt-(ut-yt)/2},O.prototype.seriesBox=function(){var f,m=this.chart,A=Math.max,P=Math.min,D=[m.plotLeft,m.plotLeft+m.plotWidth,m.plotTop,m.plotTop+m.plotHeight];return this.data.forEach(function(o){x(o.plotX)&&x(o.plotY)&&o.marker.radius&&(D[0]=P(D[0],o.plotX-(f=o.marker.radius)),D[1]=A(D[1],o.plotX+f),D[2]=P(D[2],o.plotY-f),D[3]=A(D[3],o.plotY+f))}),u(D.width/D.height)?D:null},O.prototype.setVisible=function(){var m=this;a.setVisible.apply(m,arguments),m.parentNodeLayout&&m.graph?m.visible?(m.graph.show(),m.parentNode.dataLabel&&m.parentNode.dataLabel.show()):(m.graph.hide(),m.parentNodeLayout.removeElementFromCollection(m.parentNode,m.parentNodeLayout.nodes),m.parentNode.dataLabel&&m.parentNode.dataLabel.hide()):m.layout&&(m.visible?m.layout.addElementsToCollection(m.points,m.layout.nodes):m.points.forEach(function(A){m.layout.removeElementFromCollection(A,m.layout.nodes)}))},O.prototype.translate=function(){var m=this.chart,A=this.data,P=this.index,D=this.options.useSimulation;if(this.processedXData=this.xData,this.generatePoints(),x(m.allDataPoints)||(m.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),D)var f=m.allDataPoints;else f=this.placeBubbles(m.allDataPoints),this.options.draggable=!1;for(var o=0,B=f;o<B.length;o++){var V=B[o];if(V[3]===P){f=A[V[4]];var q=k(V[2],void 0);D||(f.plotX=V[0]-m.plotLeft+m.diffX,f.plotY=V[1]-m.plotTop+m.diffY),u(q)&&(f.marker=T(f.marker,{radius:q,width:2*q,height:2*q}),f.radius=q)}}D&&this.deferLayout(),b(this,"afterTranslate")},O.defaultOptions=n(h.defaultOptions,U),O}(h),T(F.prototype,{pointClass:M,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],alignDataLabel:a.alignDataLabel,indexateNodes:i,onMouseDown:s.onMouseDown,onMouseMove:s.onMouseMove,redrawHalo:s.redrawHalo,searchPoint:i}),X.registerSeriesType("packedbubble",F),F}),e(v,"Series/Polygon/PolygonSeries.js",[v["Core/Globals.js"],v["Core/Legend/LegendSymbol.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S){var a,M=this&&this.__extends||(a=function(h,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var T in x)x.hasOwnProperty(T)&&(p[T]=x[T])})(h,l)},function(h,l){function p(){this.constructor=h}a(h,l),h.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)});i=i.noop;var U=c.series,G=c.seriesTypes,X=G.area,F=G.line,R=G.scatter;G=S.extend;var E=S.merge;return S=function(a){function h(){var l=null!==a&&a.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return M(h,a),h.prototype.getGraphPath=function(){for(var l=F.prototype.getGraphPath.call(this),p=l.length+1;p--;)(p===l.length||"M"===l[p][0])&&0<p&&l.splice(p,0,["Z"]);return this.areaPath=l},h.prototype.drawGraph=function(){this.options.fillColor=this.color,X.prototype.drawGraph.call(this)},h.defaultOptions=E(R.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),h}(R),G(S.prototype,{type:"polygon",drawLegendSymbol:s.drawRectangle,drawTracker:U.prototype.drawTracker,setStackedPoints:i}),c.registerSeriesType("polygon",S),S}),e(v,"Core/Axis/WaterfallAxis.js",[v["Core/Axis/Stacking/StackItem.js"],v["Core/Utilities.js"]],function(i,s){var M,c=s.addEvent,S=s.objectEach;return function(U){function G(){var a=this.waterfall.stacks;a&&(a.changed=!1,delete a.alreadyChanged)}function X(){var a=this.options.stackLabels;a&&a.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function F(){for(var a=this.axes,h=this.series,l=h.length;l--;)h[l].options.stacking&&(a.forEach(function(p){p.isXAxis||(p.waterfall.stacks.changed=!0)}),l=0)}function R(){this.waterfall||(this.waterfall=new E(this))}var E=function(){function a(h){this.axis=h,this.stacks={changed:!1}}return a.prototype.renderStackTotals=function(){var h=this.axis,l=h.waterfall.stacks,p=h.stacking&&h.stacking.stackTotalGroup,x=new i(h,h.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=x,p&&S(l,function(T){S(T,function(b,I){x.total=b.stackTotal,x.x=+I,b.label&&(x.label=b.label),i.prototype.render.call(x,p),b.label=x.label,delete x.label})}),x.total=null},a}();U.Composition=E,U.compose=function(a,h){c(a,"init",R),c(a,"afterBuildStacks",G),c(a,"afterRender",X),c(h,"beforeRedraw",F)}}(M||(M={})),M}),e(v,"Series/Waterfall/WaterfallPoint.js",[v["Series/Column/ColumnSeries.js"],v["Core/Series/Point.js"],v["Core/Utilities.js"]],function(i,s,c){var U,S=this&&this.__extends||(U=function(G,X){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,R){F.__proto__=R}||function(F,R){for(var E in R)R.hasOwnProperty(E)&&(F[E]=R[E])})(G,X)},function(G,X){function F(){this.constructor=G}U(G,X),G.prototype=null===X?Object.create(X):(F.prototype=X.prototype,new F)}),M=c.isNumber;return function(U){function G(){var X=null!==U&&U.apply(this,arguments)||this;return X.options=void 0,X.series=void 0,X}return S(G,U),G.prototype.getClassName=function(){var X=s.prototype.getClassName.call(this);return this.isSum?X+=" highcharts-sum":this.isIntermediateSum&&(X+=" highcharts-intermediate-sum"),X},G.prototype.isValid=function(){return M(this.y)||this.isSum||!!this.isIntermediateSum},G}(i.prototype.pointClass)}),e(v,"Series/Waterfall/WaterfallSeries.js",[v["Core/Axis/Axis.js"],v["Core/Chart/Chart.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"],v["Core/Axis/WaterfallAxis.js"],v["Series/Waterfall/WaterfallPoint.js"]],function(i,s,c,S,M,U){var b,G=this&&this.__extends||(b=function(I,u){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,k){n.__proto__=k}||function(n,k){for(var C in k)k.hasOwnProperty(C)&&(n[C]=k[C])})(I,u)},function(I,u){function n(){this.constructor=I}b(I,u),I.prototype=null===u?Object.create(u):(n.prototype=u.prototype,new n)}),X=c.seriesTypes,F=X.column,R=X.line,E=S.arrayMax,a=S.arrayMin,h=S.correctFloat;X=S.extend;var l=S.isNumber,p=S.merge,x=S.objectEach,T=S.pick;return S=function(b){function I(){var u=null!==b&&b.apply(this,arguments)||this;return u.chart=void 0,u.data=void 0,u.options=void 0,u.points=void 0,u.stackedYNeg=void 0,u.stackedYPos=void 0,u.stackKey=void 0,u.xData=void 0,u.yAxis=void 0,u.yData=void 0,u}return G(I,b),I.prototype.generatePoints=function(){F.prototype.generatePoints.apply(this);for(var u=0,n=this.points.length;u<n;u++){var k=this.points[u],C=this.processedYData[u];l(C)&&(k.isIntermediateSum||k.isSum)&&(k.y=h(C))}},I.prototype.translate=function(){var u=this.options,n=this.yAxis,k=T(u.minPointLength,5),C=k/2,O=u.threshold||0;u=u.stacking;var m=n.waterfall.stacks[this.stackKey],A=O,P=O;F.prototype.translate.apply(this);for(var D=this.points,f=0;f<D.length;f++){var o=D[f],B=this.processedYData[f],V=o.shapeArgs;if(V&&l(B)){var q=[0,B],nt=o.y;if(u){if(m){if(q=m[f],"overlap"===u){var yt=q.stackState[q.stateIndex--];yt=0<=nt?yt:yt-nt,Object.hasOwnProperty.call(q,"absolutePos")&&delete q.absolutePos,Object.hasOwnProperty.call(q,"absoluteNeg")&&delete q.absoluteNeg}else 0<=nt?(yt=q.threshold+q.posTotal,q.posTotal-=nt):(yt=q.threshold+q.negTotal,q.negTotal-=nt,yt-=nt),!q.posTotal&&l(q.absolutePos)&&Object.hasOwnProperty.call(q,"absolutePos")&&(q.posTotal=q.absolutePos,delete q.absolutePos),!q.negTotal&&l(q.absoluteNeg)&&Object.hasOwnProperty.call(q,"absoluteNeg")&&(q.negTotal=q.absoluteNeg,delete q.absoluteNeg);o.isSum||(q.connectorThreshold=q.threshold+q.stackTotal),n.reversed?(B=0<=nt?yt-nt:yt+nt,nt=yt):(B=yt,nt=yt-nt),o.below=B<=O,V.y=n.translate(B,!1,!0,!1,!0),V.height=Math.abs(V.y-n.translate(nt,!1,!0,!1,!0)),(nt=n.waterfall.dummyStackItem)&&(nt.x=f,nt.label=m[f].label,nt.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[f],this.stackedYPos[f],void 0,this.xAxis))}}else yt=Math.max(P,P+nt)+q[0],V.y=n.translate(yt,!1,!0,!1,!0),o.isSum?(V.y=n.translate(q[1],!1,!0,!1,!0),V.height=Math.min(n.translate(q[0],!1,!0,!1,!0),n.len)-V.y,o.below=q[1]<=O):o.isIntermediateSum?(0<=nt?(B=q[1]+A,nt=A):(B=A,nt=q[1]+A),n.reversed&&(B^=nt,B^=nt^=B),V.y=n.translate(B,!1,!0,!1,!0),V.height=Math.abs(V.y-Math.min(n.translate(nt,!1,!0,!1,!0),n.len)),A+=q[1],o.below=B<=O):(V.height=0<B?n.translate(P,!1,!0,!1,!0)-V.y:n.translate(P,!1,!0,!1,!0)-n.translate(P-B,!1,!0,!1,!0),o.below=(P+=B)<O),0>V.height&&(V.y+=V.height,V.height*=-1);o.plotY=V.y=Math.round(V.y||0)-this.borderWidth%2/2,V.height=Math.max(Math.round(V.height||0),.001),o.yBottom=V.y+V.height,V.height<=k&&!o.isNull?(V.height=k,V.y-=C,o.plotY=V.y,o.minPointLengthOffset=0>o.y?-C:C):(o.isNull&&(V.width=0),o.minPointLengthOffset=0),nt=o.plotY+(o.negative?V.height:0),o.below&&(o.plotY+=V.height),o.tooltipPos&&(this.chart.inverted?o.tooltipPos[0]=n.len-nt:o.tooltipPos[1]=nt),o.isInside=this.isPointInside(o)}}},I.prototype.processData=function(u){var A,P,D,f,o,n=this.options,k=this.yData,C=n.data,O=k.length,m=n.threshold||0;for(o=P=A=D=f=0;o<O;o++){var B=k[o],V=C&&C[o]?C[o]:{};"sum"===B||V.isSum?k[o]=h(P):"intermediateSum"===B||V.isIntermediateSum?(k[o]=h(A),A=0):(P+=B,A+=B),D=Math.min(P,D),f=Math.max(P,f)}b.prototype.processData.call(this,u),n.stacking||(this.dataMin=D+m,this.dataMax=f)},I.prototype.toYData=function(u){return u.isSum?"sum":u.isIntermediateSum?"intermediateSum":u.y},I.prototype.updateParallelArrays=function(u,n){b.prototype.updateParallelArrays.call(this,u,n),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)},I.prototype.pointAttribs=function(u,n){var k=this.options.upColor;return k&&!u.options.color&&(u.color=0<u.y?k:void 0),delete(u=F.prototype.pointAttribs.call(this,u,n)).dashstyle,u},I.prototype.getGraphPath=function(){return[["M",0,0]]},I.prototype.getCrispPath=function(){var f,u=this.data,n=this.yAxis,k=u.length,C=Math.round(this.graph.strokeWidth())%2/2,O=Math.round(this.borderWidth)%2/2,m=this.xAxis.reversed,A=this.yAxis.reversed,P=this.options.stacking,D=[];for(f=1;f<k;f++){var o=u[f].shapeArgs,B=u[f-1],V=u[f-1].shapeArgs,q=n.waterfall.stacks[this.stackKey],nt=0<B.y?-V.height:0;q&&V&&o&&(q=q[f-1],P?(q=q.connectorThreshold,nt=Math.round(n.translate(q,!1,!0,!1,!0)+(A?nt:0))-C):nt=V.y+B.minPointLengthOffset+O-C,D.push(["M",(V.x||0)+(m?0:V.width||0),nt],["L",(o.x||0)+(m&&o.width||0),nt])),V&&D.length&&(!P&&0>B.y&&!A||0<B.y&&A)&&((B=D[D.length-2])&&"number"==typeof B[2]&&(B[2]+=V.height||0),(B=D[D.length-1])&&"number"==typeof B[2]&&(B[2]+=V.height||0))}return D},I.prototype.drawGraph=function(){R.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})},I.prototype.setStackedPoints=function(){function u(At,ht,mt,dt){if(ut){if(St)for(;mt<St;mt++)ut.stackState[mt]+=dt;else ut.stackState[0]=At,St=ut.stackState.length;ut.stackState.push(ut.stackState[St-1]+ht)}}var f,o,B,n=this.options,k=this.yAxis.waterfall.stacks,C=n.threshold||0,O=C,m=O,A=this.stackKey,P=this.xData,D=P.length;this.yAxis.stacking.usePercentage=!1;var V=f=o=O;if(this.visible||!this.chart.options.chart.ignoreHiddenSeries){var q=k.changed;if((B=k.alreadyChanged)&&0>B.indexOf(A)&&(q=!0),k[A]||(k[A]={}),B=k[A])for(var nt=0;nt<D;nt++){var yt=P[nt];(!B[yt]||q)&&(B[yt]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:q&&B[yt]?B[yt].label:void 0});var ut=B[yt],Y=this.yData[nt];0<=Y?ut.posTotal+=Y:ut.negTotal+=Y;var tt=n.data[nt];yt=ut.absolutePos=ut.posTotal;var wt=ut.absoluteNeg=ut.negTotal;ut.stackTotal=yt+wt;var St=ut.stackState.length;tt&&tt.isIntermediateSum?(u(o,f,0,o),o=f,f=C,O^=m,O^=m^=O):tt&&tt.isSum?(u(C,V,St,0),O=C):(u(O,Y,0,V),tt&&(V+=Y,f+=Y)),ut.stateIndex++,ut.threshold=O,O+=ut.stackTotal}k.changed=!1,k.alreadyChanged||(k.alreadyChanged=[]),k.alreadyChanged.push(A)}},I.prototype.getExtremes=function(){var u=this.options.stacking;if(u){var n=this.yAxis;n=n.waterfall.stacks;var k=this.stackedYNeg=[],C=this.stackedYPos=[];return x(n[this.stackKey],"overlap"===u?function(O){k.push(a(O.stackState)),C.push(E(O.stackState))}:function(O){k.push(O.negTotal+O.threshold),C.push(O.posTotal+O.threshold)}),{dataMin:a(k),dataMax:E(C)}}return{dataMin:this.dataMin,dataMax:this.dataMax}},I.defaultOptions=p(F.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),I}(F),X(S.prototype,{getZonesGraphs:R.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:U}),c.registerSeriesType("waterfall",S),M.compose(i,s),S}),e(v,"Core/Axis/RadialAxis.js",[v["Core/Axis/AxisDefaults.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(i,s,c,S){var x,M=s.defaultOptions,U=c.noop,G=S.addEvent,X=S.correctFloat,F=S.defined,R=S.extend,E=S.fireEvent,a=S.merge,h=S.pick,l=S.relativeLength,p=S.wrap;return function(T){function b(){this.autoConnect=this.isCircular&&typeof h(this.userMax,this.options.max)>"u"&&X(this.endAngleRad-this.startAngleRad)===X(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function I(){var Ct=this;return function(){if(Ct.isRadial&&Ct.tickPositions&&Ct.options.labels&&!0!==Ct.options.labels.allowOverlap)return Ct.tickPositions.map(function(vt){return Ct.ticks[vt]&&Ct.ticks[vt].label}).filter(function(vt){return!!vt})}}function u(){return U}function n(Ct,vt,kt){var Rt=this.pane.center,Xt=Ct.value;if(this.isCircular){if(F(Xt))Ct.point&&(Ft=Ct.point.shapeArgs||{}).start&&(Xt=this.chart.inverted?this.translate(Ct.point.rectPlotY,!0):Ct.point.x);else{var Ft=Ct.chartX||0,qt=Ct.chartY||0;Xt=this.translate(Math.atan2(qt-kt,Ft-vt)-this.startAngleRad,!0)}Ft=(Ct=this.getPosition(Xt)).x,qt=Ct.y}else F(Xt)||(Ft=Ct.chartX,qt=Ct.chartY),F(Ft)&&F(qt)&&(kt=Rt[1]+this.chart.plotTop,Xt=this.translate(Math.min(Math.sqrt(Math.pow(Ft-vt,2)+Math.pow(qt-kt,2)),Rt[2]/2)-Rt[3]/2,!0));return[Xt,Ft||0,qt||0]}function k(Ct,vt,kt){var Rt=this.chart,Xt=this.left||0,Ft=this.top||0,qt=h(vt,(Ct=this.pane.center)[2]/2-this.offset);return typeof kt>"u"&&(kt=this.horiz?0:this.center&&-this.center[3]/2),kt&&(qt+=kt),this.isCircular||typeof vt<"u"?((vt=this.chart.renderer.symbols.arc(Xt+Ct[0],Ft+Ct[1],qt,qt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[Xt+Ct[0]],vt.yBounds=[Ft+Ct[1]-qt]):(vt=this.postTranslate(this.angleRad,qt),vt=[["M",this.center[0]+Rt.plotLeft,this.center[1]+Rt.plotTop],["L",vt.x,vt.y]]),vt}function C(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function O(Ct,vt,kt){var Rt=this.chart,Xt=function(le){if("string"==typeof le){var We=parseInt(le,10);return Ut.test(le)&&(We=We*ae/100),We}return le},Ft=this.center,qt=this.startAngleRad,ae=Ft[2]/2,te=Math.min(this.offset,0),de=this.left||0,re=this.top||0,Ut=/%$/,Vt=this.isCircular,ue=h(Xt(kt.outerRadius),ae),me=Xt(kt.innerRadius);if(Xt=h(Xt(kt.thickness),10),"polygon"===this.options.gridLineInterpolation)te=this.getPlotLinePath({value:Ct}).concat(this.getPlotLinePath({value:vt,reverse:!0}));else{if(Ct=Math.max(Ct,this.min),vt=Math.min(vt,this.max),Ct=this.translate(Ct),vt=this.translate(vt),Vt||(ue=Ct||0,me=vt||0),"circle"!==kt.shape&&Vt)kt=qt+(Ct||0),qt+=vt||0;else{kt=-Math.PI/2,qt=1.5*Math.PI;var ve=!0}te=Rt.renderer.symbols.arc(de+Ft[0],re+Ft[1],ue-=te,ue,{start:Math.min(kt,qt),end:Math.max(kt,qt),innerR:h(me,ue-(Xt-te)),open:ve}),Vt&&(Vt=(qt+kt)/2,de=de+Ft[0]+Ft[2]/2*Math.cos(Vt),te.xBounds=Vt>-Math.PI/2&&Vt<Math.PI/2?[de,Rt.plotWidth]:[0,de],te.yBounds=[re+Ft[1]+Ft[2]/2*Math.sin(Vt)],te.yBounds[0]+=Vt>-Math.PI&&0>Vt||Vt>Math.PI?-10:10)}return te}function m(Ct){var vt=this,kt=this.pane.center,Rt=this.chart,Xt=Rt.inverted,Ft=Ct.reverse,qt=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},ae=qt.innerRadius||"0%",te=qt.outerRadius||"100%",de=kt[0]+Rt.plotLeft,re=kt[1]+Rt.plotTop,Ut=this.height,Vt=Ct.isCrosshair;qt=kt[3]/2;var me,ue=Ct.value,ve=this.getPosition(ue),le=ve.x;if(ve=ve.y,Vt&&(ue=(ve=this.getCrosshairPosition(Ct,de,re))[0],le=ve[1],ve=ve[2]),this.isCircular)ue=Math.sqrt(Math.pow(le-de,2)+Math.pow(ve-re,2)),Ft="string"==typeof ae?l(ae,1):ae/ue,Rt="string"==typeof te?l(te,1):te/ue,kt&&qt&&(Ft<(qt/=ue)&&(Ft=qt),Rt<qt&&(Rt=qt)),kt=[["M",de+Ft*(le-de),re-Ft*(re-ve)],["L",le-(1-Rt)*(le-de),ve+(1-Rt)*(re-ve)]];else if((ue=this.translate(ue))&&(0>ue||ue>Ut)&&(ue=0),"circle"===this.options.gridLineInterpolation)kt=this.getLinePath(0,ue,qt);else if(kt=[],Rt[Xt?"yAxis":"xAxis"].forEach(function(We){We.pane===vt.pane&&(me=We)}),me)for(de=me.tickPositions,me.autoConnect&&(de=de.concat([de[0]])),Ft&&(de=de.slice().reverse()),ue&&(ue+=qt),re=0;re<de.length;re++)qt=me.getPosition(de[re],ue),kt.push(re?["L",qt.x,qt.y]:["M",qt.x,qt.y]);return kt}function A(Ct,vt){return Ct=this.translate(Ct),this.postTranslate(this.isCircular?Ct:this.angleRad,h(this.isCircular?vt:0>Ct?0:Ct,this.center[2]/2)-this.offset)}function P(){var Ct=this.center,vt=this.chart,kt=this.options.title;return{x:vt.plotLeft+Ct[0]+(kt.x||0),y:vt.plotTop+Ct[1]-{high:.5,middle:.25,low:0}[kt.align]*Ct[2]+(kt.y||0)}}function D(Ct){Ct.beforeSetTickPositions=b,Ct.createLabelCollector=I,Ct.getCrosshairPosition=n,Ct.getLinePath=k,Ct.getOffset=C,Ct.getPlotBandPath=O,Ct.getPlotLinePath=m,Ct.getPosition=A,Ct.getTitlePosition=P,Ct.postTranslate=ut,Ct.setAxisSize=tt,Ct.setAxisTranslation=wt,Ct.setOptions=St}function f(){var Ct=this.chart,vt=this.options,kt=this.pane,Rt=kt&&kt.options;Ct.angular&&this.isXAxis||!kt||!Ct.angular&&!Ct.polar||(Ct=2*Math.PI,kt=(h(Rt.startAngle,0)-90)*Math.PI/180,Rt=(h(Rt.endAngle,h(Rt.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(vt.angle||0)*Math.PI/180,this.startAngleRad=kt,this.endAngleRad=Rt,this.offset=vt.offset||0,Rt=(Rt%Ct+Ct)%Ct,(vt=(kt%Ct+Ct)%Ct)>Math.PI&&(vt-=Ct),Rt>Math.PI&&(Rt-=Ct),this.normalizedStartAngleRad=vt,this.normalizedEndAngleRad=Rt)}function o(Ct){this.isRadial&&(Ct.align=void 0,Ct.preventDefault())}function B(){if(this.chart&&this.chart.labelCollectors){var Ct=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=Ct&&this.chart.labelCollectors.splice(Ct,1)}}function V(Ct){var te,vt=this.chart,kt=vt.inverted,Rt=vt.angular,Xt=vt.polar,Ft=this.isXAxis,qt=this.coll,ae=Rt&&Ft;Ct=Ct.userOptions.pane||0,Ct=this.pane=vt.pane&&vt.pane[Ct],"colorAxis"===qt?this.isRadial=!1:(Rt?(ae?(this.isHidden=!0,this.createLabelCollector=u,this.getOffset=U,this.render=this.redraw=Y,this.setTitle=this.setCategories=this.setScale=U):D(this),(te=!Ft)&&(this.defaultPolarOptions=dt)):Xt&&(D(this),this.defaultPolarOptions=(te=this.horiz)?mt:a("xAxis"===qt?i.defaultXAxisOptions:i.defaultYAxisOptions,Lt),kt&&"yAxis"===qt&&(this.defaultPolarOptions.stackLabels=i.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Rt||Xt?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&vt.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Ct&&te&&(Ct.axis=this),this.isCircular=te)}function q(){this.isRadial&&this.beforeSetTickPositions()}function nt(Ct){var vt=this.label;if(vt){var kt=this.axis,Rt=vt.getBBox(),Xt=kt.options.labels,Ft=(kt.translate(this.pos)+kt.startAngleRad+Math.PI/2)/Math.PI*180%360,qt=Math.round(Ft),ae=F(Xt.y)?0:.3*-Rt.height,te=Xt.y,de=20,re=Xt.align,Ut="end",Vt=0>qt?qt+360:qt,ue=Vt,me=0,ve=0;if(kt.isRadial){var le=kt.getPosition(this.pos,kt.center[2]/2+l(h(Xt.distance,-25),kt.center[2]/2,-kt.center[2]/2));"auto"===Xt.rotation?vt.attr({rotation:Ft}):F(te)||(te=kt.chart.renderer.fontMetrics(vt.styles&&vt.styles.fontSize).b-Rt.height/2),F(re)||(kt.isCircular?(Rt.width>kt.len*kt.tickInterval/(kt.max-kt.min)&&(de=0),re=Ft>de&&Ft<180-de?"left":Ft>180+de&&Ft<360-de?"right":"center"):re="center",vt.attr({align:re})),"auto"===re&&2===kt.tickPositions.length&&kt.isCircular&&(90<Vt&&180>Vt?Vt=180-Vt:270<Vt&&360>=Vt&&(Vt=540-Vt),180<ue&&360>=ue&&(ue=360-ue),(kt.pane.options.startAngle===qt||kt.pane.options.startAngle===qt+360||kt.pane.options.startAngle===qt-360)&&(Ut="start"),re=-90<=qt&&90>=qt||-360<=qt&&-270>=qt||270<=qt&&360>=qt?"start"===Ut?"right":"left":"start"===Ut?"left":"right",70<ue&&110>ue&&(re="center"),15>Vt||180<=Vt&&195>Vt?me=.3*Rt.height:15<=Vt&&35>=Vt?me="start"===Ut?0:.75*Rt.height:195<=Vt&&215>=Vt?me="start"===Ut?.75*Rt.height:0:35<Vt&&90>=Vt?me="start"===Ut?.25*-Rt.height:Rt.height:215<Vt&&270>=Vt&&(me="start"===Ut?Rt.height:.25*-Rt.height),15>ue?ve="start"===Ut?.15*-Rt.height:.15*Rt.height:165<ue&&180>=ue&&(ve="start"===Ut?.15*Rt.height:.15*-Rt.height),vt.attr({align:re}),vt.translate(ve,me+ae)),Ct.pos.x=le.x+(Xt.x||0),Ct.pos.y=le.y+(te||0)}}}function yt(Ct){this.axis.getPosition&&R(Ct.pos,this.axis.getPosition(this.pos))}function ut(Ct,vt){var kt=this.chart,Rt=this.center;return Ct=this.startAngleRad+Ct,{x:kt.plotLeft+Rt[0]+Math.cos(Ct)*vt,y:kt.plotTop+Rt[1]+Math.sin(Ct)*vt}}function Y(){this.isDirty=!1}function tt(){if(this.constructor.prototype.setAxisSize.call(this),this.isRadial){this.pane.updateCenter(this);var Ct=this.center=this.pane.center.slice();if(this.isCircular)this.sector=this.endAngleRad-this.startAngleRad;else{var vt=this.postTranslate(this.angleRad,Ct[3]/2);Ct[0]=vt.x-this.chart.plotLeft,Ct[1]=vt.y-this.chart.plotTop}this.len=this.width=this.height=(Ct[2]-Ct[3])*h(this.sector,1)/2}}function wt(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function St(Ct){(Ct=this.options=a(this.constructor.defaultOptions,this.defaultPolarOptions,M[this.coll],Ct)).plotBands||(Ct.plotBands=[]),E(this,"afterSetOptions")}function At(Ct,vt,kt,Rt,Xt,Ft,qt){var ae=this.axis;return vt=ae.isRadial?["M",vt,kt,"L",(Ct=ae.getPosition(this.pos,ae.center[2]/2+Rt)).x,Ct.y]:Ct.call(this,vt,kt,Rt,Xt,Ft,qt)}var ht=[],mt={gridLineWidth:1,labels:{align:void 0,distance:15,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},dt={labels:{align:"center",x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},Lt={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};T.compose=function(Ct,vt){return-1===ht.indexOf(Ct)&&(ht.push(Ct),G(Ct,"afterInit",f),G(Ct,"autoLabelAlign",o),G(Ct,"destroy",B),G(Ct,"init",V),G(Ct,"initialAxisTranslation",q)),-1===ht.indexOf(vt)&&(ht.push(vt),G(vt,"afterGetLabelPosition",nt),G(vt,"afterGetPosition",yt),p(vt.prototype,"getMarkPath",At)),Ct}}(x||(x={})),x}),e(v,"Series/PolarComposition.js",[v["Core/Animation/AnimationUtilities.js"],v["Core/Globals.js"],v["Extensions/Pane.js"],v["Core/Axis/RadialAxis.js"],v["Core/Utilities.js"]],function(i,s,c,S,M){function U(ut,Y,tt,wt){var St=wt?1:0,At=0<=Y&&Y<=ut.length-1?Y:0>Y?ut.length-1+Y:0,ht=ut[Y=0>At-1?ut.length-(1+St):At-1],mt=ht.plotY,dt=(St=ut[At+1>ut.length-1?St:At+1]).plotX,Lt=St.plotY;ht=(1.5*(St=ut[At].plotX)+ht.plotX)/2.5,mt=(1.5*(At=ut[At].plotY)+mt)/2.5,dt=(1.5*St+dt)/2.5;var Ct=(1.5*At+Lt)/2.5;Lt=Math.sqrt(Math.pow(ht-St,2)+Math.pow(mt-At,2));var vt=Math.sqrt(Math.pow(dt-St,2)+Math.pow(Ct-At,2));return ht=Math.atan2(mt-At,ht-St),Ct=Math.PI/2+(ht+Math.atan2(Ct-At,dt-St))/2,Math.abs(ht-Ct)>Math.PI/2&&(Ct-=Math.PI),ht=St+Math.cos(Ct)*Lt,mt=At+Math.sin(Ct)*Lt,St={rightContX:dt=St+Math.cos(Math.PI+Ct)*vt,rightContY:Ct=At+Math.sin(Math.PI+Ct)*vt,leftContX:ht,leftContY:mt,plotX:St,plotY:At},tt&&(St.prevPointCont=U(ut,Y,!1,wt)),St}function G(){(this.pane||[]).forEach(function(ut){ut.render()})}function X(ut){var Y=ut.args[0].xAxis,tt=ut.args[0].yAxis;ut=ut.args[0].chart,Y&&tt&&("polygon"===tt.gridLineInterpolation?(Y.startOnTick=!0,Y.endOnTick=!0):"polygon"===Y.gridLineInterpolation&&ut.inverted&&(tt.startOnTick=!0,tt.endOnTick=!0))}function F(){var ut=this;this.pane||(this.pane=[]),this.options.pane=B(this.options.pane),this.options.pane.forEach(function(Y){new c(Y,ut)},this)}function R(ut){var Y=ut.args.marker,tt=this.chart.xAxis[0],wt=this.chart.yAxis[0],St=this.chart.inverted,At=St?wt:tt;if(tt=St?tt:wt,this.chart.polar){ut.preventDefault(),wt=(Y.attr?Y.attr("start"):Y.start)-At.startAngleRad,St=Y.attr?Y.attr("r"):Y.r;var ht=(Y.attr?Y.attr("end"):Y.end)-At.startAngleRad;Y=Y.attr?Y.attr("innerR"):Y.innerR,ut.result.x=wt+At.pos,ut.result.width=ht-wt,ut.result.y=tt.len+tt.pos-Y,ut.result.height=Y-St}}function E(ut){var Y=this.chart;if(Y.polar&&Y.hoverPane&&Y.hoverPane.axis){ut.preventDefault();var tt=Y.hoverPane.center,wt=this.mouseDownX||0,St=this.mouseDownY||0,At=ut.args.chartY,ht=ut.args.chartX,mt=2*Math.PI,dt=Y.hoverPane.axis.startAngleRad,Lt=Y.hoverPane.axis.endAngleRad,Ct=Y.inverted?Y.xAxis[0]:Y.yAxis[0],vt={},kt="arc";if(vt.x=tt[0]+Y.plotLeft,vt.y=tt[1]+Y.plotTop,this.zoomHor){var Rt=0<dt?Lt-dt:Math.abs(dt)+Math.abs(Lt),Xt=Math.atan2(St-Y.plotTop-tt[1],wt-Y.plotLeft-tt[0])-dt,Ft=Math.atan2(At-Y.plotTop-tt[1],ht-Y.plotLeft-tt[0])-dt;vt.r=tt[2]/2,vt.innerR=tt[3]/2,0>=Xt&&(Xt+=mt),0>=Ft&&(Ft+=mt),Ft<Xt&&(Ft=[Xt,Xt=Ft][0]),Rt<mt&&dt+Ft>Lt+(mt-Rt)/2&&(Ft=Xt,Xt=0>=dt?dt:0),mt=vt.start=Math.max(Xt+dt,dt),Xt=vt.end=Math.min(Ft+dt,Lt),"polygon"===Ct.options.gridLineInterpolation&&(Rt=mt-(Ft=Y.hoverPane.axis).startAngleRad+Ft.pos,Xt-=mt,kt=Ct.getPlotLinePath({value:Ct.max}),mt=Ft.toValue(Rt),Rt=Ft.toValue(Rt+Xt),mt<Ft.getExtremes().min&&(mt=(Xt=Ft.getExtremes()).max-(Xt.min-mt)),Rt<Ft.getExtremes().min&&(Rt=(Xt=Ft.getExtremes()).max-(Xt.min-Rt)),Rt<mt&&(Rt=[mt,mt=Rt][0]),(kt=p(kt,mt,Rt,Ft)).push(["L",tt[0]+Y.plotLeft,Y.plotTop+tt[1]]),vt.d=kt,kt="path")}this.zoomVert&&(Ft=Y.inverted?Y.xAxis[0]:Y.yAxis[0],wt=Math.sqrt(Math.pow(wt-Y.plotLeft-tt[0],2)+Math.pow(St-Y.plotTop-tt[1],2)),(At=Math.sqrt(Math.pow(ht-Y.plotLeft-tt[0],2)+Math.pow(At-Y.plotTop-tt[1],2)))<wt&&(wt=[At,At=wt][0]),At>tt[2]/2&&(At=tt[2]/2),wt<tt[3]/2&&(wt=tt[3]/2),this.zoomHor||(vt.start=dt,vt.end=Lt),vt.r=At,vt.innerR=wt,"polygon"===Ft.options.gridLineInterpolation&&(Xt=Ft.toValue(Ft.len+Ft.pos-wt),mt=Ft.toValue(Ft.len+Ft.pos-At),kt=Ft.getPlotLinePath({value:mt}).concat(Ft.getPlotLinePath({value:Xt,reverse:!0})),vt.d=kt,kt="path")),this.zoomHor&&this.zoomVert&&"polygon"===Ct.options.gridLineInterpolation&&(Xt=vt.end||0,Xt-=mt=vt.start||0,mt=(Ft=Y.hoverPane.axis).toValue(Rt=mt-Ft.startAngleRad+Ft.pos),Rt=Ft.toValue(Rt+Xt),vt.d instanceof Array&&(tt=vt.d.slice(0,vt.d.length/2),dt=vt.d.slice(vt.d.length/2,vt.d.length),dt=O([],dt,!0).reverse(),tt=p(tt,mt,Rt,Y=Y.hoverPane.axis),(dt=p(dt,mt,Rt,Y))&&(dt[0][0]="L"),dt=O([],dt,!0).reverse(),vt.d=tt.concat(dt),kt="path")),ut.attrs=vt,ut.shapeType=kt}}function a(){var ut=this.chart;ut.polar&&(this.polar=new yt(this),ut.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function h(){if(this.chart.polar&&this.xAxis){var ut=this.chart;(this.kdByAngle=ut.tooltip&&ut.tooltip.shared)?this.searchPoint=l:this.options.findNearestPointBy="xy";for(var Y=this.points,tt=Y.length;tt--;)this.preventPostTranslate||this.polar.toXY(Y[tt]),ut.hasParallelCoordinates||this.yAxis.reversed||(o(Y[tt].y,Number.MIN_VALUE)<this.yAxis.min||Y[tt].x<this.xAxis.min||Y[tt].x>this.xAxis.max?(Y[tt].isNull=!0,Y[tt].plotY=NaN):Y[tt].isNull=Y[tt].isValid&&!Y[tt].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(A(this,"afterRender",function(){if(ut.polar){var wt=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:wt[0],y:wt[1],r:wt[2]/2,innerR:wt[3]/2});else{var St=ut.renderer,At=wt[0],ht=wt[1],mt=wt[2]/2,dt=wt[3]/2;wt=V();var Lt=St.createElement("clipPath").attr({id:wt}).add(St.defs);(St=dt?St.arc(At,ht,mt,dt,0,2*Math.PI).add(Lt):St.circle(At,ht,mt).add(Lt)).id=wt,St.clipPath=Lt,this.clipCircle=St}this.group.clip(this.clipCircle),this.setClip=s.noop}})))}}function l(ut){var Y=this.chart,tt=this.xAxis;return tt=tt.pane&&tt.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(ut.chartX-(tt&&tt[0]||0)-Y.plotLeft,ut.chartY-(tt&&tt[1]||0)-Y.plotTop)})}function p(ut,Y,tt,wt){var St=wt.tickInterval,At=D(wt=wt.tickPositions,function(mt){return mt>=tt}),ht=D(O([],wt,!0).reverse(),function(mt){return mt<=Y});return P(At)||(At=wt[wt.length-1]),P(ht)||(ht=wt[0],At+=St,ut[0][0]="L",ut.unshift(ut[ut.length-3])),(ut=ut.slice(wt.indexOf(ht),wt.indexOf(At)+1))[0][0]="M",ut}function x(ut,Y){return D(this.pane||[],function(tt){return tt.options.id===Y})||ut.call(this,Y)}function T(ut,Y,tt,wt,St,At){var ht=this.chart,mt=o(wt.inside,!!this.options.stacking);ht.polar?(ut=Y.rectPlotX/Math.PI*180,ht.inverted?(this.forceDL=ht.isInsidePlot(Y.plotX,Y.plotY),mt&&Y.shapeArgs?St={x:(St=this.yAxis.postTranslate((((St=Y.shapeArgs).start||0)+(St.end||0))/2-this.xAxis.startAngleRad,Y.barX+Y.pointWidth/2)).x-ht.plotLeft,y:St.y-ht.plotTop}:Y.tooltipPos&&(St={x:Y.tooltipPos[0],y:Y.tooltipPos[1]}),wt.align=o(wt.align,"center"),wt.verticalAlign=o(wt.verticalAlign,"middle")):(null===wt.align&&(wt.align=20<ut&&160>ut?"left":200<ut&&340>ut?"right":"center"),null===wt.verticalAlign&&(wt.verticalAlign=45>ut||315<ut?"bottom":135<ut&&225>ut?"top":"middle")),Object.getPrototypeOf(Object.getPrototypeOf(this)).alignDataLabel.call(this,Y,tt,wt,St,At),this.isRadialBar&&Y.shapeArgs&&Y.shapeArgs.start===Y.shapeArgs.end?tt.hide():tt.show()):ut.call(this,Y,tt,wt,St,At)}function b(ut){var Y=this.options,tt=Y.stacking,wt=this.chart,St=this.xAxis,At=this.yAxis,ht=At.reversed,mt=At.center,dt=St.startAngleRad,Lt=St.endAngleRad-dt,Ct=0,vt=0,kt=0;if(this.preventPostTranslate=!0,ut.call(this),St.isRadial){St=(ut=this.points).length;var Rt=At.translate(At.min),Xt=At.translate(At.max);for(Y=Y.threshold||0,wt.inverted&&f(Y)&&(Ct=At.translate(Y),P(Ct)&&(0>Ct?Ct=0:Ct>Lt&&(Ct=Lt),this.translatedThreshold=Ct+dt));St--;){var Ft=(Y=ut[St]).barX,qt=Y.x,ae=Y.y;Y.shapeType="arc",wt.inverted?(Y.plotY=At.translate(ae),tt&&At.stacking?(ae=At.stacking.stacks[(0>ae?"-":"")+this.stackKey],this.visible&&ae&&ae[qt]&&!Y.isNull&&(kt=ae[qt].points[this.getStackIndicator(void 0,qt,this.index).key],vt=At.translate(kt[0]),kt=At.translate(kt[1]),P(vt)&&(vt=M.clamp(vt,0,Lt)))):(vt=Ct,kt=Y.plotY),vt>kt&&(kt=[vt,vt=kt][0]),ht?kt>Rt?kt=Rt:vt<Xt?vt=Xt:(vt>Rt||kt<Xt)&&(vt=kt=Lt):vt<Rt?vt=Rt:kt>Xt?kt=Xt:(kt<Rt||vt>Xt)&&(vt=kt=0),At.min>At.max&&(vt=kt=ht?Lt:0),vt+=dt,kt+=dt,mt&&(Y.barX=Ft+=mt[3]/2),qt=Math.max(Ft,0),ae=Math.max(Ft+Y.pointWidth,0),Y.shapeArgs={x:mt&&mt[0],y:mt&&mt[1],r:ae,innerR:qt,start:vt,end:kt},Y.opacity=vt===kt?0:void 0,Y.plotY=(P(this.translatedThreshold)&&(vt<this.translatedThreshold?vt:kt))-dt):Y.shapeArgs=this.polar.arc(Y.yBottom,Y.plotY,vt=Ft+dt,vt+Y.pointWidth),this.polar.toXY(Y),wt.inverted?(Ft=At.postTranslate(Y.rectPlotY,Ft+Y.pointWidth/2),Y.tooltipPos=[Ft.x-wt.plotLeft,Ft.y-wt.plotTop]):Y.tooltipPos=[Y.plotX,Y.plotY],mt&&(Y.ttBelow=Y.plotY>mt[1])}}}function I(ut,Y){var tt=this;if(this.chart.polar){Y=Y||this.points;for(var wt=0;wt<Y.length;wt++)if(!Y[wt].isNull){var St=wt;break}if(!1!==this.options.connectEnds&&typeof St<"u"){this.connectEnds=!0,Y.splice(Y.length,0,Y[St]);var At=!0}Y.forEach(function(ht){typeof ht.polarPlotY>"u"&&tt.polar.toXY(ht)})}return St=ut.apply(this,[].slice.call(arguments,1)),At&&Y.pop(),St}function u(ut,Y){var tt=this.chart,wt={xAxis:[],yAxis:[]};return tt.polar?tt.axes.forEach(function(St){if("colorAxis"!==St.coll){var At=St.isXAxis,ht=St.center,mt=Y.chartX-ht[0]-tt.plotLeft;ht=Y.chartY-ht[1]-tt.plotTop,wt[At?"xAxis":"yAxis"].push({axis:St,value:St.translate(At?Math.PI-Math.atan2(mt,ht):Math.sqrt(Math.pow(mt,2)+Math.pow(ht,2)),!0)})}}):wt=ut.call(this,Y),wt}function n(ut,Y){this.chart.polar||ut.call(this,Y)}function k(ut,Y){var Ct,vt,kt,Rt,tt=this,wt=this.chart,St=this.group,At=this.markerGroup,ht=this.xAxis&&this.xAxis.center,mt=wt.plotLeft,dt=wt.plotTop,Lt=this.options.animation;if(wt.polar){if(tt.isRadialBar)Y||(tt.startAngleRad=o(tt.translatedThreshold,tt.xAxis.startAngleRad),s.seriesTypes.pie.prototype.animate.call(tt,Y));else if(wt.renderer.isSVG)if(Lt=m(Lt),tt.is("column")){if(!Y){var Xt=ht[3]/2;tt.points.forEach(function(Ft){kt=(vt=Ft.shapeArgs)&&vt.r,Rt=vt&&vt.innerR,(Ct=Ft.graphic)&&vt&&(Ct.attr({r:Xt,innerR:Xt}),Ct.animate({r:kt,innerR:Rt},tt.options.animation))})}}else Y?(St.attr(ut={translateX:ht[0]+mt,translateY:ht[1]+dt,scaleX:.001,scaleY:.001}),At&&At.attr(ut)):(St.animate(ut={translateX:mt,translateY:dt,scaleX:1,scaleY:1},Lt),At&&At.animate(ut,Lt))}else ut.call(this,Y)}function C(ut,Y,tt,wt){return this.chart.polar?wt?(tt=(ut=U(Y,wt,!0,this.connectEnds)).prevPointCont&&ut.prevPointCont.rightContY,ut=["C",f(Y=ut.prevPointCont&&ut.prevPointCont.rightContX)?Y:ut.plotX,f(tt)?tt:ut.plotY,f(ut.leftContX)?ut.leftContX:ut.plotX,f(ut.leftContY)?ut.leftContY:ut.plotY,ut.plotX,ut.plotY]):ut=["M",tt.plotX,tt.plotY]:ut=ut.call(this,Y,tt,wt),ut}var O=this&&this.__spreadArray||function(ut,Y,tt){if(tt||2===arguments.length)for(var At,wt=0,St=Y.length;wt<St;wt++)!At&&wt in Y||(At||(At=Array.prototype.slice.call(Y,0,wt)),At[wt]=Y[wt]);return ut.concat(At||Array.prototype.slice.call(Y))},m=i.animObject,A=M.addEvent,P=M.defined,D=M.find,f=M.isNumber,o=M.pick,B=M.splat,V=M.uniqueKey,q=M.wrap,nt=[],yt=function(){function ut(Y){this.series=Y}return ut.compose=function(Y,tt,wt,St,At,ht,mt,dt,Lt){S.compose(Y,At),-1===nt.indexOf(tt)&&(nt.push(tt),A(tt,"afterDrawChartBox",G),A(tt,"getAxes",F),A(tt,"init",X),q(tt.prototype,"get",x)),-1===nt.indexOf(wt)&&(nt.push(wt),q(Y=wt.prototype,"getCoordinates",u),q(Y,"pinch",n),A(wt,"getSelectionMarkerAttrs",E),A(wt,"getSelectionBox",R)),-1===nt.indexOf(St)&&(nt.push(St),A(St,"afterInit",a),A(St,"afterTranslate",h,{order:2}),q(St.prototype,"animate",k)),mt&&-1===nt.indexOf(mt)&&(nt.push(mt),q(wt=mt.prototype,"alignDataLabel",T),q(wt,"animate",k),q(wt,"translate",b)),dt&&-1===nt.indexOf(dt)&&(nt.push(dt),q(dt.prototype,"getGraphPath",I)),Lt&&-1===nt.indexOf(Lt)&&(nt.push(Lt),q(dt=Lt.prototype,"getPointSpline",C),ht&&-1===nt.indexOf(ht)&&(nt.push(ht),ht.prototype.getPointSpline=dt.getPointSpline))},ut.prototype.arc=function(Y,tt,wt,St){var At=this.series,ht=At.xAxis.center,mt=At.yAxis.len,dt=ht[3]/2;return tt=mt-tt+dt,Y=mt-o(Y,mt)+dt,At.yAxis.reversed&&(0>tt&&(tt=dt),0>Y&&(Y=dt)),{x:ht[0],y:ht[1],r:tt,innerR:Y,start:wt,end:St}},ut.prototype.toXY=function(Y){var tt=this.series,wt=tt.chart,St=tt.xAxis,At=tt.yAxis,ht=Y.plotX,mt=wt.inverted,dt=Y.y,Lt=Y.plotY,Ct=mt?ht:At.len-Lt;mt&&tt&&!tt.isRadialBar&&(Y.plotY=Lt=f(dt)?At.translate(dt):0),Y.rectPlotX=ht,Y.rectPlotY=Lt,At.center&&(Ct+=At.center[3]/2),f(Lt)&&(At=mt?At.postTranslate(Lt,Ct):St.postTranslate(ht,Ct),Y.plotX=Y.polarPlotX=At.x-wt.plotLeft,Y.plotY=Y.polarPlotY=At.y-wt.plotTop),tt.kdByAngle?(0>(tt=(ht/Math.PI*180+St.pane.options.startAngle)%360)&&(tt+=360),Y.clientX=tt):Y.clientX=Y.plotX},ut}();return yt}),e(v,"masters/highcharts-more.src.js",[v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Series/Bubble/BubbleSeries.js"],v["Series/PackedBubble/PackedBubbleSeries.js"],v["Series/PolarComposition.js"]],function(i,s,c,S,M){c.compose(i.Axis,i.Chart,i.Legend,i.Series),S.compose(i.Axis,i.Chart,i.Legend,i.Series),M.compose(i.Axis,i.Chart,i.Pointer,i.Series,i.Tick,s.seriesTypes.areasplinerange,s.seriesTypes.column,s.seriesTypes.line,s.seriesTypes.spline)})}),function(v){"object"==typeof module&&module.exports?(v.default=v,module.exports=v):"function"==typeof define&&define.amd?define("highcharts/modules/exporting",["highcharts"],function(e){return v(e),v.Highcharts=e,v}):v(typeof Highcharts<"u"?Highcharts:void 0)}(function(v){function e(i,s,c,S){i.hasOwnProperty(s)||(i[s]=S.apply(null,c),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}e(v=v?v._modules:{},"Core/Chart/ChartNavigationComposition.js",[],function(){var i;return function(s){s.compose=function(S){return S.navigation||(S.navigation=new c(S)),S};var c=function(){function S(M){this.updates=[],this.chart=M}return S.prototype.addUpdate=function(M){this.chart.navigation.updates.push(M)},S.prototype.update=function(M,U){var G=this;this.updates.forEach(function(X){X.call(G.chart,M,U)})},S}();s.Additions=c}(i||(i={})),i}),e(v,"Extensions/Exporting/ExportingDefaults.js",[v["Core/Globals.js"]],function(i){return i=i.isTouchDevice,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid ".concat("#999999"),background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:i?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"}}}}),e(v,"Extensions/Exporting/ExportingSymbols.js",[],function(){var i;return function(s){function c(U,G,X,F){return[["M",U,G+2.5],["L",U+X,G+2.5],["M",U,G+F/2+.5],["L",U+X,G+F/2+.5],["M",U,G+F-1.5],["L",U+X,G+F-1.5]]}function S(U,G,X,F){return U=F/3-2,(F=[]).concat(this.circle(X-U,G,U,U),this.circle(X-U,G+U+4,U,U),this.circle(X-U,G+2*(U+4),U,U))}var M=[];s.compose=function(U){-1===M.indexOf(U)&&(M.push(U),(U=U.prototype.symbols).menu=c,U.menuball=S.bind(U))}}(i||(i={})),i}),e(v,"Extensions/Exporting/Fullscreen.js",[v["Core/Renderer/HTML/AST.js"],v["Core/Utilities.js"]],function(i,s){function c(){this.fullscreen=new G(this)}var S=s.addEvent,M=s.fireEvent,U=[],G=function(){function X(F){this.chart=F,this.isOpen=!1,F=F.renderTo,this.browserProps||("function"==typeof F.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:F.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:F.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:F.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return X.compose=function(F){-1===U.indexOf(F)&&(U.push(F),S(F,"beforeRender",c))},X.prototype.close=function(){var F=this,R=F.chart,E=R.options.chart;M(R,"fullscreenClose",null,function(){F.isOpen&&F.browserProps&&R.container.ownerDocument instanceof Document&&R.container.ownerDocument[F.browserProps.exitFullscreen](),F.unbindFullscreenEvent&&(F.unbindFullscreenEvent=F.unbindFullscreenEvent()),R.setSize(F.origWidth,F.origHeight,!1),F.origWidth=void 0,F.origHeight=void 0,E.width=F.origWidthOption,E.height=F.origHeightOption,F.origWidthOption=void 0,F.origHeightOption=void 0,F.isOpen=!1,F.setButtonText()})},X.prototype.open=function(){var F=this,R=F.chart,E=R.options.chart;M(R,"fullscreenOpen",null,function(){if(E&&(F.origWidthOption=E.width,F.origHeightOption=E.height),F.origWidth=R.chartWidth,F.origHeight=R.chartHeight,F.browserProps){var a=S(R.container.ownerDocument,F.browserProps.fullscreenChange,function(){F.isOpen?(F.isOpen=!1,F.close()):(R.setSize(null,null,!1),F.isOpen=!0,F.setButtonText())}),h=S(R,"destroy",a);F.unbindFullscreenEvent=function(){a(),h()};var l=R.renderTo[F.browserProps.requestFullscreen]();l&&l.catch(function(){alert("Full screen is not supported inside a frame.")})}})},X.prototype.setButtonText=function(){var F=this.chart,R=F.exportDivElements,E=F.options.exporting,a=E&&E.buttons&&E.buttons.contextButton.menuItems;F=F.options.lang,E&&E.menuItemDefinitions&&F&&F.exitFullscreen&&F.viewFullscreen&&a&&R&&(R=R[a.indexOf("viewFullscreen")])&&i.setElementHTML(R,this.isOpen?F.exitFullscreen:E.menuItemDefinitions.viewFullscreen.text||F.viewFullscreen)},X.prototype.toggle=function(){this.isOpen?this.close():this.open()},X}();return G}),e(v,"Core/HttpUtilities.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(i,s){var c=i.doc,S=s.createElement,M=s.discardElement,U=s.merge,G=s.objectEach,X={ajax:function(F){var R={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},E=new XMLHttpRequest;if(!F.url)return!1;E.open((F.type||"get").toUpperCase(),F.url,!0),F.headers&&F.headers["Content-Type"]||E.setRequestHeader("Content-Type",R[F.dataType||"json"]||R.text),G(F.headers,function(a,h){E.setRequestHeader(h,a)}),F.responseType&&(E.responseType=F.responseType),E.onreadystatechange=function(){if(4===E.readyState){if(200===E.status){if("blob"!==F.responseType){var a=E.responseText;if("json"===F.dataType)try{a=JSON.parse(a)}catch(h){if(h instanceof Error)return void(F.error&&F.error(E,h))}}return F.success&&F.success(a,E)}F.error&&F.error(E,E.responseText)}},F.data&&"string"!=typeof F.data&&(F.data=JSON.stringify(F.data)),E.send(F.data)},getJSON:function(F,R){X.ajax({url:F,success:R,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(F,R,E){var a=S("form",U({method:"post",action:F,enctype:"multipart/form-data"},E),{display:"none"},c.body);G(R,function(h,l){S("input",{type:"hidden",name:l,value:h},void 0,a)}),a.submit(),M(a)}};return X}),e(v,"Extensions/Exporting/Exporting.js",[v["Core/Renderer/HTML/AST.js"],v["Core/Chart/Chart.js"],v["Core/Chart/ChartNavigationComposition.js"],v["Core/Defaults.js"],v["Extensions/Exporting/ExportingDefaults.js"],v["Extensions/Exporting/ExportingSymbols.js"],v["Extensions/Exporting/Fullscreen.js"],v["Core/Globals.js"],v["Core/HttpUtilities.js"],v["Core/Utilities.js"]],function(i,s,c,S,M,U,G,X,F,R){var f,E=S.defaultOptions,a=S.setOptions,h=X.doc,l=X.SVG_NS,p=X.win,x=R.addEvent,T=R.css,b=R.createElement,I=R.discardElement,u=R.extend,n=R.find,k=R.fireEvent,C=R.isObject,O=R.merge,m=R.objectEach,A=R.pick,P=R.removeEvent,D=R.uniqueKey;return function(o){function B(te){var de=this,re=de.renderer,Ut=O(de.options.navigation.buttonOptions,te),Vt=Ut.onclick,ue=Ut.menuItems,me=Ut.symbolSize||12;if(de.btnCount||(de.btnCount=0),de.exportDivElements||(de.exportDivElements=[],de.exportSVGElements=[]),!1!==Ut.enabled&&Ut.theme){var le,ve=Ut.theme;de.styledMode||(ve.fill=A(ve.fill,"#ffffff"),ve.stroke=A(ve.stroke,"none")),Vt?le=function(Li){Li&&Li.stopPropagation(),Vt.call(de,Li)}:ue&&(le=function(Li){Li&&Li.stopPropagation(),de.contextMenu(We.menuClassName,ue,We.translateX,We.translateY,We.width,We.height,We),We.setState(2)}),Ut.text&&Ut.symbol?ve.paddingLeft=A(ve.paddingLeft,30):Ut.text||u(ve,{width:Ut.width,height:Ut.height,padding:0}),de.styledMode||(ve["stroke-linecap"]="round",ve.fill=A(ve.fill,"#ffffff"),ve.stroke=A(ve.stroke,"none"));var We=re.button(Ut.text,0,0,le,ve,void 0,void 0,void 0,void 0,Ut.useHTML).addClass(te.className).attr({title:A(de.options.lang[Ut._titleKey||Ut.titleKey],"")});if(We.menuClassName=te.menuClassName||"highcharts-menu-"+de.btnCount++,Ut.symbol){var $e=re.symbol(Ut.symbol,Ut.symbolX-me/2,Ut.symbolY-me/2,me,me,{width:me,height:me}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(We);de.styledMode||$e.attr({stroke:Ut.symbolStroke,fill:Ut.symbolFill,"stroke-width":Ut.symbolStrokeWidth||1})}We.add(de.exportingGroup).align(u(Ut,{width:We.width,x:A(Ut.x,de.buttonOffset)}),!0,"spacingBox"),de.buttonOffset+=(We.width+Ut.buttonSpacing)*("right"===Ut.align?-1:1),de.exportSVGElements.push(We,$e)}}function V(){if(this.printReverseInfo){var te=this.printReverseInfo,de=te.childNodes,re=te.origDisplay;te=te.resetParams,this.moveContainers(this.renderTo),[].forEach.call(de,function(Ut,Vt){1===Ut.nodeType&&(Ut.style.display=re[Vt]||"")}),this.isPrinting=!1,te&&this.setSize.apply(this,te),delete this.printReverseInfo,ae=void 0,k(this,"afterPrint")}}function q(){var te=h.body,de=this.options.exporting.printMaxWidth,re={childNodes:te.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),k(this,"beforePrint"),de&&this.chartWidth>de&&(re.resetParams=[this.options.chart.width,void 0,!1],this.setSize(de,void 0,!1)),[].forEach.call(re.childNodes,function(Ut,Vt){1===Ut.nodeType&&(re.origDisplay[Vt]=Ut.style.display,Ut.style.display="none")}),this.moveContainers(te),this.printReverseInfo=re}function nt(te){te.renderExporting(),x(te,"redraw",te.renderExporting),x(te,"destroy",te.destroyExport)}function yt(te,de,re,Ut,Vt,ue,me){var ve=this,le=ve.options.navigation,We=ve.chartWidth,$e=ve.chartHeight,Li="cache-"+te,Si=Math.max(Vt,ue),bi=ve[Li];if(!bi){ve.exportContextMenu=ve[Li]=bi=b("div",{className:te},{position:"absolute",zIndex:1e3,padding:Si+"px",pointerEvents:"auto"},ve.fixedDiv||ve.container);var ji=b("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},bi);ve.styledMode||T(ji,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},le.menuStyle)),bi.hideMenu=function(){T(bi,{display:"none"}),me&&me.setState(0),ve.openMenu=!1,T(ve.renderTo,{overflow:"hidden"}),T(ve.container,{overflow:"hidden"}),R.clearTimeout(bi.hideTimer),k(ve,"exportMenuHidden")},ve.exportEvents.push(x(bi,"mouseleave",function(){bi.hideTimer=p.setTimeout(bi.hideMenu,500)}),x(bi,"mouseenter",function(){R.clearTimeout(bi.hideTimer)}),x(h,"mouseup",function(ui){ve.pointer.inClass(ui.target,te)||bi.hideMenu()}),x(bi,"click",function(){ve.openMenu&&bi.hideMenu()})),de.forEach(function(ui){if("string"==typeof ui&&(ui=ve.options.exporting.menuItemDefinitions[ui]),C(ui,!0)){var Pi=void 0;ui.separator?Pi=b("hr",void 0,void 0,ji):("viewData"===ui.textKey&&ve.isDataTableVisible&&(ui.textKey="hideData"),Pi=b("li",{className:"highcharts-menu-item",onclick:function(Ai){Ai&&Ai.stopPropagation(),bi.hideMenu(),ui.onclick&&ui.onclick.apply(ve,arguments)}},void 0,ji),i.setElementHTML(Pi,ui.text||ve.options.lang[ui.textKey]),ve.styledMode||(Pi.onmouseover=function(){T(this,le.menuItemHoverStyle)},Pi.onmouseout=function(){T(this,le.menuItemStyle)},T(Pi,u({cursor:"pointer"},le.menuItemStyle||{})))),ve.exportDivElements.push(Pi)}}),ve.exportDivElements.push(ji,bi),ve.exportMenuWidth=bi.offsetWidth,ve.exportMenuHeight=bi.offsetHeight}de={display:"block"},re+ve.exportMenuWidth>We?de.right=We-re-Vt-Si+"px":de.left=re-Si+"px",Ut+ue+ve.exportMenuHeight>$e&&"top"!==me.alignOptions.verticalAlign?de.bottom=$e-Ut-Si+"px":de.top=Ut+ue-Si+"px",T(bi,de),T(ve.renderTo,{overflow:""}),T(ve.container,{overflow:""}),ve.openMenu=!0,k(ve,"exportMenuShown")}function ut(te){var Vt,de=te?te.target:this,re=de.exportSVGElements,Ut=de.exportDivElements;te=de.exportEvents,re&&(re.forEach(function(ue,me){ue&&(ue.onclick=ue.ontouchstart=null,de[Vt="cache-"+ue.menuClassName]&&delete de[Vt],re[me]=ue.destroy())}),re.length=0),de.exportingGroup&&(de.exportingGroup.destroy(),delete de.exportingGroup),Ut&&(Ut.forEach(function(ue,me){ue&&(R.clearTimeout(ue.hideTimer),P(ue,"mouseleave"),Ut[me]=ue.onmouseout=ue.onmouseover=ue.ontouchstart=ue.onclick=null,I(ue))}),Ut.length=0),te&&(te.forEach(function(ue){ue()}),te.length=0)}function Y(te,de){de=this.getSVGForExport(te,de),te=O(this.options.exporting,te),F.post(te.url,{filename:te.filename?te.filename.replace(/\//g,"-"):this.getFilename(),type:te.type,width:te.width||0,scale:te.scale,svg:de},te.formAttributes)}function tt(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function wt(){var te=this.userOptions.title&&this.userOptions.title.text,de=this.options.exporting.filename;return de?de.replace(/\//g,"-"):("string"==typeof te&&(de=te.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!de||5>de.length)&&(de="chart"),de)}function St(te){var de,re=O(this.options,te);re.plotOptions=O(this.userOptions.plotOptions,te&&te.plotOptions),re.time=O(this.userOptions.time,te&&te.time);var Ut=b("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},h.body),Vt=this.renderTo.style.width,ue=this.renderTo.style.height;Vt=re.exporting.sourceWidth||re.chart.width||/px$/.test(Vt)&&parseInt(Vt,10)||(re.isGantt?800:600),ue=re.exporting.sourceHeight||re.chart.height||/px$/.test(ue)&&parseInt(ue,10)||400,u(re.chart,{animation:!1,renderTo:Ut,forExport:!0,renderer:"SVGRenderer",width:Vt,height:ue}),re.exporting.enabled=!1,delete re.data,re.series=[],this.series.forEach(function(le){(de=O(le.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:le.visible})).isInternal||re.series.push(de)});var me={};this.axes.forEach(function(le){le.userOptions.internalKey||(le.userOptions.internalKey=D()),le.options.isInternal||(me[le.coll]||(me[le.coll]=!0,re[le.coll]=[]),re[le.coll].push(O(le.userOptions,{visible:le.visible})))});var ve=new this.constructor(re,this.callback);return te&&["xAxis","yAxis","series"].forEach(function(le){var We={};te[le]&&(We[le]=te[le],ve.update(We))}),this.axes.forEach(function(le){var We=n(ve.axes,function(Si){return Si.options.internalKey===le.userOptions.internalKey}),$e=le.getExtremes(),Li=$e.userMin;$e=$e.userMax,We&&(typeof Li<"u"&&Li!==We.min||typeof $e<"u"&&$e!==We.max)&&We.setExtremes(Li,$e,!0,!1)}),ue=ve.getChartHTML(),k(this,"getSVG",{chartCopy:ve}),ue=this.sanitizeSVG(ue,re),re=null,ve.destroy(),I(Ut),ue}function At(te,de){var re=this.options.exporting;return this.getSVG(O({chart:{borderRadius:0}},re.chartOptions,de,{exporting:{sourceWidth:te&&te.sourceWidth||re.sourceWidth,sourceHeight:te&&te.sourceHeight||re.sourceHeight}}))}function ht(te){return te.replace(/([A-Z])/g,function(de,re){return"-"+re.toLowerCase()})}function mt(){var Vt,de=Xt,re=o.inlineAllowlist,Ut={},ue=h.createElement("iframe");T(ue,{width:"1px",height:"1px",visibility:"hidden"}),h.body.appendChild(ue);var me=ue.contentWindow&&ue.contentWindow.document;me&&me.body.appendChild(me.createElementNS(l,"svg")),function te(ve){var le={};if(me&&1===ve.nodeType&&-1===qt.indexOf(ve.nodeName)){var We=p.getComputedStyle(ve,null),$e="svg"===ve.nodeName?{}:p.getComputedStyle(ve.parentNode,null);if(!Ut[ve.nodeName]){Vt=me.getElementsByTagName("svg")[0];var Li=me.createElementNS(ve.namespaceURI,ve.nodeName);Vt.appendChild(Li);var Si=p.getComputedStyle(Li,null),bi={};for(var ji in Si)"string"!=typeof Si[ji]||/^[0-9]+$/.test(ji)||(bi[ji]=Si[ji]);Ut[ve.nodeName]=bi,"text"===ve.nodeName&&delete Ut.text.fill,Vt.removeChild(Li)}for(var ui in We)if(X.isFirefox||X.isMS||X.isSafari||Object.hasOwnProperty.call(We,ui)){ji=We[ui];var Pi=ui;if(Li=Si=!1,re.length){for(bi=re.length;bi--&&!Si;)Si=re[bi].test(Pi);Li=!Si}for("transform"===Pi&&"none"===ji&&(Li=!0),bi=de.length;bi--&&!Li;)Li=de[bi].test(Pi)||"function"==typeof ji;Li||$e[Pi]===ji&&"svg"!==ve.nodeName||Ut[ve.nodeName][Pi]===ji||(Ft&&-1===Ft.indexOf(Pi)?le[Pi]=ji:ji&&ve.setAttribute(ht(Pi),ji))}T(ve,le),"svg"===ve.nodeName&&ve.setAttribute("stroke-width","1px"),"text"!==ve.nodeName&&[].forEach.call(ve.children||ve.childNodes,te)}}(this.container.querySelector("svg")),Vt.parentNode.removeChild(Vt),ue.parentNode.removeChild(ue)}function dt(te){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(de){te.appendChild(de)})}function Lt(){var te=this;te.exporting={update:function(de,re){te.isDirtyExporting=!0,O(!0,te.options.exporting,de),A(re,!0)&&te.redraw()}},c.compose(te).navigation.addUpdate(function(de,re){te.isDirtyExporting=!0,O(!0,te.options.navigation,de),A(re,!0)&&te.redraw()})}function Ct(){var te=this;te.isPrinting||(ae=te,X.isSafari||te.beforePrint(),setTimeout(function(){p.focus(),p.print(),X.isSafari||setTimeout(function(){te.afterPrint()},1e3)},1))}function vt(){var te=this,de=te.options.exporting,re=de.buttons,Ut=te.isDirtyExporting||!te.exportSVGElements;te.buttonOffset=0,te.isDirtyExporting&&te.destroyExport(),Ut&&!1!==de.enabled&&(te.exportEvents=[],te.exportingGroup=te.exportingGroup||te.renderer.g("exporting-group").attr({zIndex:3}).add(),m(re,function(Vt){te.addButton(Vt)}),te.isDirtyExporting=!1)}function kt(te,de){var re=te.indexOf("</svg>")+6,Ut=te.substr(re);return te=te.substr(0,re),de&&de.exporting&&de.exporting.allowHTML&&Ut&&(Ut='<foreignObject x="0" y="0" width="'+de.chart.width+'" height="'+de.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Ut.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",te=te.replace("</svg>",Ut+"</svg>")),te=te.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&(te=this.ieSanitizeSVG(te)),te}var Rt=[],Xt=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Ft="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");o.inlineAllowlist=[];var ae,qt=["clipPath","defs","desc"];o.compose=function(te,de){U.compose(de),G.compose(te),-1===Rt.indexOf(te)&&(Rt.push(te),(de=te.prototype).afterPrint=V,de.exportChart=Y,de.inlineStyles=mt,de.print=Ct,de.sanitizeSVG=kt,de.getChartHTML=tt,de.getSVG=St,de.getSVGForExport=At,de.getFilename=wt,de.moveContainers=dt,de.beforePrint=q,de.contextMenu=yt,de.addButton=B,de.destroyExport=ut,de.renderExporting=vt,de.callbacks.push(nt),x(te,"init",Lt),X.isSafari&&X.win.matchMedia("print").addListener(function(re){ae&&(re.matches?ae.beforePrint():ae.afterPrint())})),-1===Rt.indexOf(a)&&(Rt.push(a),E.exporting=O(M.exporting,E.exporting),E.lang=O(M.lang,E.lang),E.navigation=O(M.navigation,E.navigation))}}(f||(f={})),f}),e(v,"masters/modules/exporting.src.js",[v["Core/Globals.js"],v["Extensions/Exporting/Exporting.js"],v["Core/HttpUtilities.js"]],function(i,s,c){i.HttpUtilities=c,i.ajax=c.ajax,i.getJSON=c.getJSON,i.post=c.post,s.compose(i.Chart,i.Renderer)})}),function(v,e){"object"==typeof exports&&typeof module<"u"?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((v=typeof globalThis<"u"?globalThis:v||self).leaflet={})}(this,function(v){"use strict";function e(y){for(var H,at,Mt=1,Gt=arguments.length;Mt<Gt;Mt++)for(H in at=arguments[Mt])y[H]=at[H];return y}var i=Object.create||function(y){return s.prototype=y,new s};function s(){}function c(y,H){var at,Mt=Array.prototype.slice;return y.bind?y.bind.apply(y,Mt.call(arguments,1)):(at=Mt.call(arguments,2),function(){return y.apply(H,at.length?at.concat(Mt.call(arguments)):arguments)})}var S=0;function M(y){return"_leaflet_id"in y||(y._leaflet_id=++S),y._leaflet_id}function U(y,H,at){var Mt,Gt,be=function(){Mt=!1,Gt&&(ri.apply(at,Gt),Gt=!1)},ri=function(){Mt?Gt=arguments:(y.apply(at,arguments),setTimeout(be,H),Mt=!0)};return ri}function G(y,Gt,at){var Mt=Gt[1],be=Mt-(Gt=Gt[0]);return y===Mt&&at?y:((y-Gt)%be+be)%be+Gt}function X(){return!1}function F(y,H){return!1===H?y:(H=Math.pow(10,void 0===H?6:H),Math.round(y*H)/H)}function R(y){return y.trim?y.trim():y.replace(/^\s+|\s+$/g,"")}function E(y){return R(y).split(/\s+/)}function a(y,H){for(var at in Object.prototype.hasOwnProperty.call(y,"options")||(y.options=y.options?i(y.options):{}),H)y.options[at]=H[at];return y.options}function h(y,H,at){var Mt,Gt=[];for(Mt in y)Gt.push(encodeURIComponent(at?Mt.toUpperCase():Mt)+"="+encodeURIComponent(y[Mt]));return(H&&-1!==H.indexOf("?")?"&":"?")+Gt.join("&")}var l=/\{ *([\w_ -]+) *\}/g;function p(y,H){return y.replace(l,function(at,Mt){if(void 0===(Mt=H[Mt]))throw new Error("No value provided for variable "+at);return"function"==typeof Mt?Mt(H):Mt})}var x=Array.isArray||function(y){return"[object Array]"===Object.prototype.toString.call(y)};function T(y,H){for(var at=0;at<y.length;at++)if(y[at]===H)return at;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(y){return window["webkit"+y]||window["moz"+y]||window["ms"+y]}var u=0;function n(y){var H=+new Date,at=Math.max(0,16-(H-u));return u=H+at,window.setTimeout(y,at)}var k=window.requestAnimationFrame||I("RequestAnimationFrame")||n,C=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(y){window.clearTimeout(y)};function O(y,H,at){if(!at||k!==n)return k.call(window,c(y,H));y.call(H)}function m(y){y&&C.call(window,y)}var A={__proto__:null,extend:e,create:i,bind:c,get lastId(){return S},stamp:M,throttle:U,wrapNum:G,falseFn:X,formatNum:F,trim:R,splitWords:E,setOptions:a,getParamString:h,template:p,isArray:x,indexOf:T,emptyImageUrl:b,requestFn:k,cancelFn:C,requestAnimFrame:O,cancelAnimFrame:m};function P(){}P.extend=function(y){function H(){a(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var at,Mt=H.__super__=this.prototype,Gt=i(Mt);for(at in(Gt.constructor=H).prototype=Gt,this)Object.prototype.hasOwnProperty.call(this,at)&&"prototype"!==at&&"__super__"!==at&&(H[at]=this[at]);if(y.statics&&e(H,y.statics),y.includes){var be=y.includes;if(typeof L<"u"&&L&&L.Mixin){be=x(be)?be:[be];for(var ri=0;ri<be.length;ri++)be[ri]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}e.apply(null,[Gt].concat(y.includes))}return e(Gt,y),delete Gt.statics,delete Gt.includes,Gt.options&&(Gt.options=Mt.options?i(Mt.options):{},e(Gt.options,y.options)),Gt._initHooks=[],Gt.callInitHooks=function(){if(!this._initHooksCalled){Mt.callInitHooks&&Mt.callInitHooks.call(this),this._initHooksCalled=!0;for(var ni=0,Xi=Gt._initHooks.length;ni<Xi;ni++)Gt._initHooks[ni].call(this)}},H},P.include=function(y){var H=this.prototype.options;return e(this.prototype,y),y.options&&(this.prototype.options=H,this.mergeOptions(y.options)),this},P.mergeOptions=function(y){return e(this.prototype.options,y),this},P.addInitHook=function(y){var H=Array.prototype.slice.call(arguments,1),at="function"==typeof y?y:function(){this[y].apply(this,H)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(at),this};var D={on:function(y,H,at){if("object"==typeof y)for(var Mt in y)this._on(Mt,y[Mt],H);else for(var Gt=0,be=(y=E(y)).length;Gt<be;Gt++)this._on(y[Gt],H,at);return this},off:function(y,H,at){if(arguments.length)if("object"==typeof y)for(var Mt in y)this._off(Mt,y[Mt],H);else{y=E(y);for(var Gt=1===arguments.length,be=0,ri=y.length;be<ri;be++)Gt?this._off(y[be]):this._off(y[be],H,at)}else delete this._events;return this},_on:function(y,H,at,Mt){"function"!=typeof H?console.warn("wrong listener type: "+typeof H):!1===this._listens(y,H,at)&&(H={fn:H,ctx:at=at===this?void 0:at},Mt&&(H.once=!0),this._events=this._events||{},this._events[y]=this._events[y]||[],this._events[y].push(H))},_off:function(y,H,at){var Mt,Gt,be;if(this._events&&(Mt=this._events[y]))if(1===arguments.length){if(this._firingCount)for(Gt=0,be=Mt.length;Gt<be;Gt++)Mt[Gt].fn=X;delete this._events[y]}else"function"!=typeof H?console.warn("wrong listener type: "+typeof H):!1!==(H=this._listens(y,H,at))&&(at=Mt[H],this._firingCount&&(at.fn=X,this._events[y]=Mt=Mt.slice()),Mt.splice(H,1))},fire:function(y,H,at){if(this.listens(y,at)){var Mt=e({},H,{type:y,target:this,sourceTarget:H&&H.sourceTarget||this});if(this._events){var Gt=this._events[y];if(Gt){this._firingCount=this._firingCount+1||1;for(var be=0,ri=Gt.length;be<ri;be++){var ni=Gt[be],Xi=ni.fn;ni.once&&this.off(y,Xi,ni.ctx),Xi.call(ni.ctx||this,Mt)}this._firingCount--}}at&&this._propagateEvent(Mt)}return this},listens:function(y,H,at,Mt){"string"!=typeof y&&console.warn('"string" type argument expected');var Gt=H,be=("function"!=typeof H&&(Mt=!!H,at=Gt=void 0),this._events&&this._events[y]);if(be&&be.length&&!1!==this._listens(y,Gt,at))return!0;if(Mt)for(var ri in this._eventParents)if(this._eventParents[ri].listens(y,H,at,Mt))return!0;return!1},_listens:function(y,H,at){if(this._events){var Mt=this._events[y]||[];if(!H)return!!Mt.length;at===this&&(at=void 0);for(var Gt=0,be=Mt.length;Gt<be;Gt++)if(Mt[Gt].fn===H&&Mt[Gt].ctx===at)return Gt}return!1},once:function(y,H,at){if("object"==typeof y)for(var Mt in y)this._on(Mt,y[Mt],H,!0);else for(var Gt=0,be=(y=E(y)).length;Gt<be;Gt++)this._on(y[Gt],H,at,!0);return this},addEventParent:function(y){return this._eventParents=this._eventParents||{},this._eventParents[M(y)]=y,this},removeEventParent:function(y){return this._eventParents&&delete this._eventParents[M(y)],this},_propagateEvent:function(y){for(var H in this._eventParents)this._eventParents[H].fire(y.type,e({layer:y.target,propagatedFrom:y.target},y),!0)}},f=(D.addEventListener=D.on,D.removeEventListener=D.clearAllEventListeners=D.off,D.addOneTimeEventListener=D.once,D.fireEvent=D.fire,D.hasEventListeners=D.listens,P.extend(D));function o(y,H,at){this.x=at?Math.round(y):y,this.y=at?Math.round(H):H}var B=Math.trunc||function(y){return 0<y?Math.floor(y):Math.ceil(y)};function V(y,H,at){return y instanceof o?y:x(y)?new o(y[0],y[1]):null==y?y:"object"==typeof y&&"x"in y&&"y"in y?new o(y.x,y.y):new o(y,H,at)}function q(y,H){if(y)for(var at=H?[y,H]:y,Mt=0,Gt=at.length;Mt<Gt;Mt++)this.extend(at[Mt])}function nt(y,H){return!y||y instanceof q?y:new q(y,H)}function yt(y,H){if(y)for(var at=H?[y,H]:y,Mt=0,Gt=at.length;Mt<Gt;Mt++)this.extend(at[Mt])}function ut(y,H){return y instanceof yt?y:new yt(y,H)}function Y(y,H,at){if(isNaN(y)||isNaN(H))throw new Error("Invalid LatLng object: ("+y+", "+H+")");this.lat=+y,this.lng=+H,void 0!==at&&(this.alt=+at)}function tt(y,H,at){return y instanceof Y?y:x(y)&&"object"!=typeof y[0]?3===y.length?new Y(y[0],y[1],y[2]):2===y.length?new Y(y[0],y[1]):null:null==y?y:"object"==typeof y&&"lat"in y?new Y(y.lat,"lng"in y?y.lng:y.lon,y.alt):void 0===H?null:new Y(y,H,at)}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(y){return this.clone()._add(V(y))},_add:function(y){return this.x+=y.x,this.y+=y.y,this},subtract:function(y){return this.clone()._subtract(V(y))},_subtract:function(y){return this.x-=y.x,this.y-=y.y,this},divideBy:function(y){return this.clone()._divideBy(y)},_divideBy:function(y){return this.x/=y,this.y/=y,this},multiplyBy:function(y){return this.clone()._multiplyBy(y)},_multiplyBy:function(y){return this.x*=y,this.y*=y,this},scaleBy:function(y){return new o(this.x*y.x,this.y*y.y)},unscaleBy:function(y){return new o(this.x/y.x,this.y/y.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=B(this.x),this.y=B(this.y),this},distanceTo:function(at){var H=(at=V(at)).x-this.x;return at=at.y-this.y,Math.sqrt(H*H+at*at)},equals:function(y){return(y=V(y)).x===this.x&&y.y===this.y},contains:function(y){return y=V(y),Math.abs(y.x)<=Math.abs(this.x)&&Math.abs(y.y)<=Math.abs(this.y)},toString:function(){return"Point("+F(this.x)+", "+F(this.y)+")"}},q.prototype={extend:function(y){var H,at;if(y){if(y instanceof o||"number"==typeof y[0]||"x"in y)H=at=V(y);else if(H=(y=nt(y)).min,at=y.max,!H||!at)return this;this.min||this.max?(this.min.x=Math.min(H.x,this.min.x),this.max.x=Math.max(at.x,this.max.x),this.min.y=Math.min(H.y,this.min.y),this.max.y=Math.max(at.y,this.max.y)):(this.min=H.clone(),this.max=at.clone())}return this},getCenter:function(y){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,y)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(y){var H,at;return(y=("number"==typeof y[0]||y instanceof o?V:nt)(y))instanceof q?(H=y.min,at=y.max):H=at=y,H.x>=this.min.x&&at.x<=this.max.x&&H.y>=this.min.y&&at.y<=this.max.y},intersects:function(be){be=nt(be);var H=this.min,at=this.max,Mt=be.min,Gt=(be=be.max).x>=H.x&&Mt.x<=at.x;return be=be.y>=H.y&&Mt.y<=at.y,Gt&&be},overlaps:function(be){be=nt(be);var H=this.min,at=this.max,Mt=be.min,Gt=(be=be.max).x>H.x&&Mt.x<at.x;return be=be.y>H.y&&Mt.y<at.y,Gt&&be},isValid:function(){return!(!this.min||!this.max)},pad:function(Gt){var H=this.min,at=this.max,Mt=Math.abs(H.x-at.x)*Gt;return Gt=Math.abs(H.y-at.y)*Gt,nt(V(H.x-Mt,H.y-Gt),V(at.x+Mt,at.y+Gt))},equals:function(y){return!!y&&(y=nt(y),this.min.equals(y.getTopLeft())&&this.max.equals(y.getBottomRight()))}},yt.prototype={extend:function(y){var H,at,Mt=this._southWest,Gt=this._northEast;if(y instanceof Y)at=H=y;else{if(!(y instanceof yt))return y?this.extend(tt(y)||ut(y)):this;if(at=y._northEast,!(H=y._southWest)||!at)return this}return Mt||Gt?(Mt.lat=Math.min(H.lat,Mt.lat),Mt.lng=Math.min(H.lng,Mt.lng),Gt.lat=Math.max(at.lat,Gt.lat),Gt.lng=Math.max(at.lng,Gt.lng)):(this._southWest=new Y(H.lat,H.lng),this._northEast=new Y(at.lat,at.lng)),this},pad:function(Gt){var H=this._southWest,at=this._northEast,Mt=Math.abs(H.lat-at.lat)*Gt;return Gt=Math.abs(H.lng-at.lng)*Gt,new yt(new Y(H.lat-Mt,H.lng-Gt),new Y(at.lat+Mt,at.lng+Gt))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(y){y=("number"==typeof y[0]||y instanceof Y||"lat"in y?tt:ut)(y);var H,at,Mt=this._southWest,Gt=this._northEast;return y instanceof yt?(H=y.getSouthWest(),at=y.getNorthEast()):H=at=y,H.lat>=Mt.lat&&at.lat<=Gt.lat&&H.lng>=Mt.lng&&at.lng<=Gt.lng},intersects:function(be){be=ut(be);var H=this._southWest,at=this._northEast,Mt=be.getSouthWest(),Gt=(be=be.getNorthEast()).lat>=H.lat&&Mt.lat<=at.lat;return be=be.lng>=H.lng&&Mt.lng<=at.lng,Gt&&be},overlaps:function(be){be=ut(be);var H=this._southWest,at=this._northEast,Mt=be.getSouthWest(),Gt=(be=be.getNorthEast()).lat>H.lat&&Mt.lat<at.lat;return be=be.lng>H.lng&&Mt.lng<at.lng,Gt&&be},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(y,H){return!!y&&(y=ut(y),this._southWest.equals(y.getSouthWest(),H)&&this._northEast.equals(y.getNorthEast(),H))},isValid:function(){return!(!this._southWest||!this._northEast)}};var wt={latLngToPoint:function(y,H){return y=this.projection.project(y),H=this.scale(H),this.transformation._transform(y,H)},pointToLatLng:function(y,H){return H=this.scale(H),y=this.transformation.untransform(y,H),this.projection.unproject(y)},project:function(y){return this.projection.project(y)},unproject:function(y){return this.projection.unproject(y)},scale:function(y){return 256*Math.pow(2,y)},zoom:function(y){return Math.log(y/256)/Math.LN2},getProjectedBounds:function(y){var H;return this.infinite?null:(H=this.projection.bounds,y=this.scale(y),new q(this.transformation.transform(H.min,y),this.transformation.transform(H.max,y)))},infinite:!(Y.prototype={equals:function(y,H){return!!y&&(y=tt(y),Math.max(Math.abs(this.lat-y.lat),Math.abs(this.lng-y.lng))<=(void 0===H?1e-9:H))},toString:function(y){return"LatLng("+F(this.lat,y)+", "+F(this.lng,y)+")"},distanceTo:function(y){return St.distance(this,tt(y))},wrap:function(){return St.wrapLatLng(this)},toBounds:function(H){var at=(H=180*H/40075017)/Math.cos(Math.PI/180*this.lat);return ut([this.lat-H,this.lng-at],[this.lat+H,this.lng+at])},clone:function(){return new Y(this.lat,this.lng,this.alt)}}),wrapLatLng:function(y){var H=this.wrapLng?G(y.lng,this.wrapLng,!0):y.lng;return new Y(this.wrapLat?G(y.lat,this.wrapLat,!0):y.lat,H,y.alt)},wrapLatLngBounds:function(y){var Mt=y.getCenter(),H=this.wrapLatLng(Mt),at=Mt.lat-H.lat;return Mt=Mt.lng-H.lng,0==at&&0==Mt?y:(H=y.getSouthWest(),y=y.getNorthEast(),new yt(new Y(H.lat-at,H.lng-Mt),new Y(y.lat-at,y.lng-Mt)))}},St=e({},wt,{wrapLng:[-180,180],R:6371e3,distance:function(ri,be){var ni=Math.PI/180,at=ri.lat*ni,Mt=be.lat*ni,Gt=Math.sin((be.lat-ri.lat)*ni/2);return be=Math.sin((be.lng-ri.lng)*ni/2),ri=Gt*Gt+Math.cos(at)*Math.cos(Mt)*be*be,ni=2*Math.atan2(Math.sqrt(ri),Math.sqrt(1-ri)),this.R*ni}}),At={R:At=6378137,MAX_LATITUDE:85.0511287798,project:function(y){var H=Math.PI/180,at=this.MAX_LATITUDE;return at=Math.max(Math.min(at,y.lat),-at),at=Math.sin(at*H),new o(this.R*y.lng*H,this.R*Math.log((1+at)/(1-at))/2)},unproject:function(y){var H=180/Math.PI;return new Y((2*Math.atan(Math.exp(y.y/this.R))-Math.PI/2)*H,y.x*H/this.R)},bounds:new q([-(At*=Math.PI),-At],[At,At])};function ht(y,H,at,Mt){x(y)?(this._a=y[0],this._b=y[1],this._c=y[2],this._d=y[3]):(this._a=y,this._b=H,this._c=at,this._d=Mt)}function mt(y,H,at,Mt){return new ht(y,H,at,Mt)}ht.prototype={transform:function(y,H){return this._transform(y.clone(),H)},_transform:function(y,H){return y.x=(H=H||1)*(this._a*y.x+this._b),y.y=H*(this._c*y.y+this._d),y},untransform:function(y,H){return new o((y.x/(H=H||1)-this._b)/this._a,(y.y/H-this._d)/this._c)}};var dt=e({},St,{code:"EPSG:3857",projection:At,transformation:mt(dt=.5/(Math.PI*At.R),.5,-dt,.5)}),Lt=e({},dt,{code:"EPSG:900913"});function Ct(y){return document.createElementNS("http://www.w3.org/2000/svg",y)}function vt(y,H){for(var at,Mt,Gt,be,ri="",ni=0,Xi=y.length;ni<Xi;ni++){for(at=0,Mt=(Gt=y[ni]).length;at<Mt;at++)ri+=(at?"L":"M")+(be=Gt[at]).x+" "+be.y;ri+=H?le.svg?"z":"x":""}return ri||"M0 0"}var qo=document.documentElement.style,kt="ActiveXObject"in window,Bn=kt&&!document.addEventListener,Nr="msLaunchUri"in navigator&&!("documentMode"in document),Sr=ve("webkit"),Rt=ve("android"),Io=ve("android 2")||ve("android 3"),wo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ko=(wo=Rt&&ve("Google")&&wo<537&&!("AudioNode"in window),!!window.opera),J=!Nr&&ve("chrome"),Xt=ve("gecko")&&!Sr&&!ko&&!kt,pt=!J&&ve("safari"),z=ve("phantom"),Z="OTransition"in qo,Ft=0===navigator.platform.indexOf("Win"),Re=kt&&"transition"in qo,to="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Io,ss=(qo="MozPerspective"in qo,!window.L_DISABLE_3D&&(Re||to||qo)&&!Z&&!z),sa=(Ds=typeof orientation<"u"||ve("mobile"))&&Sr,Rs=Ds&&to,vs=!window.PointerEvent&&window.MSPointerEvent,as=!(!window.PointerEvent&&!vs),qt="ontouchstart"in window||!!window.TouchEvent,ae=!window.L_NO_TOUCH&&(qt||as),te=Ds&&ko,de=Ds&&Xt,re=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Ut=function(){var y=!1;try{var H=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("testPassiveEventSupport",X,H),window.removeEventListener("testPassiveEventSupport",X,H)}catch{}return y}(),Vt=!!document.createElement("canvas").getContext,ue=!(!document.createElementNS||!Ct("svg").createSVGRect),me=!!ue&&((me=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(me.firstChild&&me.firstChild.namespaceURI));function ve(y){return 0<=navigator.userAgent.toLowerCase().indexOf(y)}var le={ie:kt,ielt9:Bn,edge:Nr,webkit:Sr,android:Rt,android23:Io,androidStock:wo,opera:ko,chrome:J,gecko:Xt,safari:pt,phantom:z,opera12:Z,win:Ft,ie3d:Re,webkit3d:to,gecko3d:qo,any3d:ss,mobile:Ds,mobileWebkit:sa,mobileWebkit3d:Rs,msPointer:vs,pointer:as,touch:ae,touchNative:qt,mobileOpera:te,mobileGecko:de,retina:re,passiveEvents:Ut,canvas:Vt,svg:ue,vml:!ue&&function(){try{var y=document.createElement("div"),H=(y.innerHTML='<v:shape adj="1"/>',y.firstChild);return H.style.behavior="url(#default#VML)",H&&"object"==typeof H.adj}catch{return!1}}(),inlineSvg:me,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},We=le.msPointer?"MSPointerDown":"pointerdown",$e=le.msPointer?"MSPointerMove":"pointermove",Li=le.msPointer?"MSPointerUp":"pointerup",Si=le.msPointer?"MSPointerCancel":"pointercancel",bi={touchstart:We,touchmove:$e,touchend:Li,touchcancel:Si},ji={touchstart:function(y,H){H.MSPOINTER_TYPE_TOUCH&&H.pointerType===H.MSPOINTER_TYPE_TOUCH&&tn(H),Dt(y,H)},touchmove:Dt,touchend:Dt,touchcancel:Dt},ui={},Pi=!1;function ke(y){ui[y.pointerId]=y}function di(y){ui[y.pointerId]&&(ui[y.pointerId]=y)}function lt(y){delete ui[y.pointerId]}function Dt(y,H){if(H.pointerType!==(H.MSPOINTER_TYPE_MOUSE||"mouse")){for(var at in H.touches=[],ui)H.touches.push(ui[at]);H.changedTouches=[H],y(H)}}var Te,Fe,Ci,Hi,Ri,nn,gn=Pt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hn=Pt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Gn="webkitTransition"===Hn||"OTransition"===Hn?Hn+"End":"transitionend";function Ji(y){return"string"==typeof y?document.getElementById(y):y}function ci(y,H){var at=y.style[H]||y.currentStyle&&y.currentStyle[H];return"auto"===(at=at&&"auto"!==at||!document.defaultView?at:(y=document.defaultView.getComputedStyle(y,null))?y[H]:null)?null:at}function mi(y,H,at){return(y=document.createElement(y)).className=H||"",at&&at.appendChild(y),y}function yi(y){var H=y.parentNode;H&&H.removeChild(y)}function $i(y){for(;y.firstChild;)y.removeChild(y.firstChild)}function rn(y){var H=y.parentNode;H&&H.lastChild!==y&&H.appendChild(y)}function Yi(y){var H=y.parentNode;H&&H.firstChild!==y&&H.insertBefore(y,H.firstChild)}function Cn(y,H){return void 0!==y.classList?y.classList.contains(H):0<(y=it(y)).length&&new RegExp("(^|\\s)"+H+"(\\s|$)").test(y)}function Gi(y,H){var at;if(void 0!==y.classList)for(var Mt=E(H),Gt=0,be=Mt.length;Gt<be;Gt++)y.classList.add(Mt[Gt]);else Cn(y,H)||K(y,((at=it(y))?at+" ":"")+H)}function Qe(y,H){void 0!==y.classList?y.classList.remove(H):K(y,R((" "+it(y)+" ").replace(" "+H+" "," ")))}function K(y,H){void 0===y.className.baseVal?y.className=H:y.className.baseVal=H}function it(y){return void 0===(y=y.correspondingElement?y.correspondingElement:y).className.baseVal?y.className:y.className.baseVal}function gt(y,H){if("opacity"in y.style)y.style.opacity=H;else if("filter"in y.style){var at=!1,Mt="DXImageTransform.Microsoft.Alpha";try{at=y.filters.item(Mt)}catch{if(1===H)return}H=Math.round(100*H),at?(at.Enabled=100!==H,at.Opacity=H):y.style.filter+=" progid:"+Mt+"(opacity="+H+")"}}function Pt(y){for(var H=document.documentElement.style,at=0;at<y.length;at++)if(y[at]in H)return y[at];return!1}function jt(y,H,at){H=H||new o(0,0),y.style[gn]=(le.ie3d?"translate("+H.x+"px,"+H.y+"px)":"translate3d("+H.x+"px,"+H.y+"px,0)")+(at?" scale("+at+")":"")}function Kt(y,H){y._leaflet_pos=H,le.any3d?jt(y,H):(y.style.left=H.x+"px",y.style.top=H.y+"px")}function se(y){return y._leaflet_pos||new o(0,0)}function ie(){ii(window,"dragstart",tn)}function fe(){wi(window,"dragstart",tn)}function He(y){for(;-1===y.tabIndex;)y=y.parentNode;y.style&&(Ge(),nn=(Ri=y).style.outline,y.style.outline="none",ii(window,"keydown",Ge))}function Ge(){Ri&&(Ri.style.outline=nn,nn=Ri=void 0,wi(window,"keydown",Ge))}function ai(y){for(;!((y=y.parentNode).offsetWidth&&y.offsetHeight||y===document.body););return y}function ye(y){var H=y.getBoundingClientRect();return{x:H.width/y.offsetWidth||1,y:H.height/y.offsetHeight||1,boundingClientRect:H}}function ii(y,H,at,Mt){if(H&&"object"==typeof H)for(var Gt in H)Di(y,Gt,H[Gt],at);else for(var be=0,ri=(H=E(H)).length;be<ri;be++)Di(y,H[be],at,Mt);return this}Hi="onselectstart"in document?(Ci=function(){ii(window,"selectstart",tn)},function(){wi(window,"selectstart",tn)}):(Fe=Pt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),Ci=function(){var y;Fe&&(y=document.documentElement.style,Te=y[Fe],y[Fe]="none")},function(){Fe&&(document.documentElement.style[Fe]=Te,Te=void 0)}),kt={__proto__:null,TRANSFORM:gn,TRANSITION:Hn,TRANSITION_END:Gn,get:Ji,getStyle:ci,create:mi,remove:yi,empty:$i,toFront:rn,toBack:Yi,hasClass:Cn,addClass:Gi,removeClass:Qe,setClass:K,getClass:it,setOpacity:gt,testProp:Pt,setTransform:jt,setPosition:Kt,getPosition:se,get disableTextSelection(){return Ci},get enableTextSelection(){return Hi},disableImageDrag:ie,enableImageDrag:fe,preventOutline:He,restoreOutline:Ge,getSizedParentNode:ai,getScale:ye};var je="_leaflet_events";function wi(y,H,at,Mt){if(1===arguments.length)ei(y),delete y[je];else if(H&&"object"==typeof H)for(var Gt in H)si(y,Gt,H[Gt],at);else if(H=E(H),2===arguments.length)ei(y,function(ni){return-1!==T(H,ni)});else for(var be=0,ri=H.length;be<ri;be++)si(y,H[be],at,Mt);return this}function ei(y,H){for(var at in y[je]){var Mt=at.split(/\d/)[0];H&&!H(Mt)||si(y,Mt,null,null,at)}}var Bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Di(y,H,at,Mt){var Gt,be,ri=H+M(at)+(Mt?"_"+M(Mt):"");y[je]&&y[je][ri]||(be=Gt=function(ni){return at.call(Mt||y,ni||window.event)},!le.touchNative&&le.pointer&&0===H.indexOf("touch")?Gt=function Ai(y,H,at){return"touchstart"!==H||Pi||(document.addEventListener(We,ke,!0),document.addEventListener($e,di,!0),document.addEventListener(Li,lt,!0),document.addEventListener(Si,lt,!0),Pi=!0),ji[H]?(at=ji[H].bind(this,at),y.addEventListener(bi[H],at,!1),at):(console.warn("wrong event specified:",H),X)}(y,H,Gt):le.touch&&"dblclick"===H?Gt=function he(y,H){y.addEventListener("dblclick",H);var at,Mt=0;function Gt(be){var ri;1!==be.detail?at=be.detail:"mouse"===be.pointerType||be.sourceCapabilities&&!be.sourceCapabilities.firesTouchEvents||(ri=Rn(be)).some(function(ni){return ni instanceof HTMLLabelElement&&ni.attributes.for})&&!ri.some(function(ni){return ni instanceof HTMLInputElement||ni instanceof HTMLSelectElement})||((ri=Date.now())-Mt<=200?2==++at&&H(function(ni){var Xi,zi,zn={};for(zi in ni)zn[zi]=(Xi=ni[zi])&&Xi.bind?Xi.bind(ni):Xi;return(ni=zn).type="dblclick",zn.detail=2,zn.isTrusted=!1,zn._simulated=!0,zn}(be)):at=1,Mt=ri)}return y.addEventListener("click",Gt),{dblclick:H,simDblclick:Gt}}(y,Gt):"addEventListener"in y?"touchstart"===H||"touchmove"===H||"wheel"===H||"mousewheel"===H?y.addEventListener(Bi[H]||H,Gt,!!le.passiveEvents&&{passive:!1}):"mouseenter"===H||"mouseleave"===H?y.addEventListener(Bi[H],Gt=function(ni){ni=ni||window.event,Kn(y,ni)&&be(ni)},!1):y.addEventListener(H,be,!1):y.attachEvent("on"+H,Gt),y[je]=y[je]||{},y[je][ri]=Gt)}function si(y,H,ni,Mt,Gt){var be,ri;Gt=Gt||H+M(ni)+(Mt?"_"+M(Mt):""),(ni=y[je]&&y[je][Gt])&&(!le.touchNative&&le.pointer&&0===H.indexOf("touch")?(Mt=y,ri=ni,bi[be=H]?Mt.removeEventListener(bi[be],ri,!1):console.warn("wrong event specified:",be)):le.touch&&"dblclick"===H?((ri=y).removeEventListener("dblclick",(Mt=ni).dblclick),ri.removeEventListener("click",Mt.simDblclick)):"removeEventListener"in y?y.removeEventListener(Bi[H]||H,ni,!1):y.detachEvent("on"+H,ni),y[je][Gt]=null)}function pn(y){return y.stopPropagation?y.stopPropagation():y.originalEvent?y.originalEvent._stopped=!0:y.cancelBubble=!0,this}function Fi(y){return Di(y,"wheel",pn),this}function xn(y){return ii(y,"mousedown touchstart dblclick contextmenu",pn),y._leaflet_disable_click=!0,this}function tn(y){return y.preventDefault?y.preventDefault():y.returnValue=!1,this}function An(y){return tn(y),pn(y),this}function Rn(y){if(y.composedPath)return y.composedPath();for(var H=[],at=y.target;at;)H.push(at),at=at.parentNode;return H}function wn(y,H){var at,Mt;return H?(Mt=(at=ye(H)).boundingClientRect,new o((y.clientX-Mt.left)/at.x-H.clientLeft,(y.clientY-Mt.top)/at.y-H.clientTop)):new o(y.clientX,y.clientY)}var er=le.linux&&le.chrome?window.devicePixelRatio:le.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function Pn(y){return le.edge?y.wheelDeltaY/2:y.deltaY&&0===y.deltaMode?-y.deltaY/er:y.deltaY&&1===y.deltaMode?20*-y.deltaY:y.deltaY&&2===y.deltaMode?60*-y.deltaY:y.deltaX||y.deltaZ?0:y.wheelDelta?(y.wheelDeltaY||y.wheelDelta)/2:y.detail&&Math.abs(y.detail)<32765?20*-y.detail:y.detail?y.detail/-32765*60:0}function Kn(y,H){var at=H.relatedTarget;if(!at)return!0;try{for(;at&&at!==y;)at=at.parentNode}catch{return!1}return at!==y}Bn={__proto__:null,on:ii,off:wi,stopPropagation:pn,disableScrollPropagation:Fi,disableClickPropagation:xn,preventDefault:tn,stop:An,getPropagationPath:Rn,getMousePosition:wn,getWheelDelta:Pn,isExternalTarget:Kn,addListener:ii,removeListener:wi};var In=f.extend({run:function(y,H,at,Mt){this.stop(),this._el=y,this._inProgress=!0,this._duration=at||.25,this._easeOutPower=1/Math.max(Mt||.5,.2),this._startPos=se(y),this._offset=H.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(y){var H=+new Date-this._startTime,at=1e3*this._duration;H<at?this._runFrame(this._easeOut(H/at),y):(this._runFrame(1),this._complete())},_runFrame:function(y,H){y=this._startPos.add(this._offset.multiplyBy(y)),H&&y._round(),Kt(this._el,y),this.fire("step")},_complete:function(){m(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(y){return 1-Math.pow(1-y,this._easeOutPower)}}),Wi=f.extend({options:{crs:dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(y,H){H=a(this,H),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(y),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),H.maxBounds&&this.setMaxBounds(H.maxBounds),void 0!==H.zoom&&(this._zoom=this._limitZoom(H.zoom)),H.center&&void 0!==H.zoom&&this.setView(tt(H.center),H.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hn&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ii(this._proxy,Gn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(y,H,at){return H=void 0===H?this._zoom:this._limitZoom(H),y=this._limitCenter(tt(y),H,this.options.maxBounds),at=at||{},this._stop(),this._loaded&&!at.reset&&!0!==at&&(void 0!==at.animate&&(at.zoom=e({animate:at.animate},at.zoom),at.pan=e({animate:at.animate,duration:at.duration},at.pan)),this._zoom!==H?this._tryAnimatedZoom&&this._tryAnimatedZoom(y,H,at.zoom):this._tryAnimatedPan(y,at.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(y,H,at.pan&&at.pan.noMoveStart),this)},setZoom:function(y,H){return this._loaded?this.setView(this.getCenter(),y,{zoom:H}):(this._zoom=y,this)},zoomIn:function(y,H){return this.setZoom(this._zoom+(y=y||(le.any3d?this.options.zoomDelta:1)),H)},zoomOut:function(y,H){return this.setZoom(this._zoom-(y=y||(le.any3d?this.options.zoomDelta:1)),H)},setZoomAround:function(Gt,H,at){var be=this.getZoomScale(H),Mt=this.getSize().divideBy(2);return Gt=(Gt instanceof o?Gt:this.latLngToContainerPoint(Gt)).subtract(Mt).multiplyBy(1-1/be),be=this.containerPointToLatLng(Mt.add(Gt)),this.setView(be,H,{zoom:at})},_getBoundsCenterZoom:function(y,H){H=H||{},y=y.getBounds?y.getBounds():ut(y);var at=V(H.paddingTopLeft||H.padding||[0,0]),Mt=V(H.paddingBottomRight||H.padding||[0,0]),Gt=this.getBoundsZoom(y,!1,at.add(Mt));return(Gt="number"==typeof H.maxZoom?Math.min(H.maxZoom,Gt):Gt)===1/0?{center:y.getCenter(),zoom:Gt}:(H=Mt.subtract(at).divideBy(2),Mt=this.project(y.getSouthWest(),Gt),at=this.project(y.getNorthEast(),Gt),{center:this.unproject(Mt.add(at).divideBy(2).add(H),Gt),zoom:Gt})},fitBounds:function(y,H){if((y=ut(y)).isValid())return y=this._getBoundsCenterZoom(y,H),this.setView(y.center,y.zoom,H);throw new Error("Bounds are not valid.")},fitWorld:function(y){return this.fitBounds([[-90,-180],[90,180]],y)},panTo:function(y,H){return this.setView(y,this._zoom,{pan:H})},panBy:function(y,H){var at;return H=H||{},(y=V(y).round()).x||y.y?(!0===H.animate||this.getSize().contains(y)?(this._panAnim||(this._panAnim=new In,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),H.noMoveStart||this.fire("movestart"),!1!==H.animate?(Gi(this._mapPane,"leaflet-pan-anim"),at=this._getMapPanePos().subtract(y).round(),this._panAnim.run(this._mapPane,at,H.duration||.25,H.easeLinearity)):(this._rawPanBy(y),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(y)),this.getZoom()),this):this.fire("moveend")},flyTo:function(y,H,at){if(!1===(at=at||{}).animate||!le.any3d)return this.setView(y,H,at);this._stop();var Mt=this.project(this.getCenter()),Gt=this.project(y),be=this.getSize(),ri=this._zoom,ni=(y=tt(y),H=void 0===H?ri:H,Math.max(be.x,be.y)),Xi=ni*this.getZoomScale(ri,H),zi=Gt.distanceTo(Mt)||1,zn=1.42,cr=zn*zn;function kr(co){return co=(Xi*Xi-ni*ni+(co?-1:1)*cr*cr*zi*zi)/(2*(co?Xi:ni)*cr*zi),(co=Math.sqrt(co*co+1)-co)<1e-9?-18:Math.log(co)}function go(co){return(Math.exp(co)-Math.exp(-co))/2}function _s(co){return(Math.exp(co)+Math.exp(-co))/2}var Wo=kr(0),Bs=Date.now(),Xo=(kr(1)-Wo)/zn,Xs=at.duration?1e3*at.duration:1e3*Xo*.8;return this._moveStart(!0,at.noMoveStart),function co(){var ms=(Date.now()-Bs)/Xs,Cs=(1-Math.pow(1-ms,1.5))*Xo;ms<=1?(this._flyToFrame=O(co,this),this._move(this.unproject(Mt.add(Gt.subtract(Mt).multiplyBy(function Do(co){return ni*(_s(Wo)*(go(co=Wo+zn*co)/_s(co))-go(Wo))/cr}(Cs)/zi)),ri),this.getScaleZoom(ni/(ms=Cs,ni*(_s(Wo)/_s(Wo+zn*ms))),ri),{flyTo:!0})):this._move(y,H)._moveEnd(!0)}.call(this),this},flyToBounds:function(y,H){return y=this._getBoundsCenterZoom(y,H),this.flyTo(y.center,y.zoom,H)},setMaxBounds:function(y){return y=ut(y),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),y.isValid()?(this.options.maxBounds=y,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(y){var H=this.options.minZoom;return this.options.minZoom=y,this._loaded&&H!==y&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(y):this},setMaxZoom:function(y){var H=this.options.maxZoom;return this.options.maxZoom=y,this._loaded&&H!==y&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(y):this},panInsideBounds:function(Mt,H){this._enforcingBounds=!0;var at=this.getCenter();return Mt=this._limitCenter(at,this._zoom,ut(Mt)),at.equals(Mt)||this.panTo(Mt,H),this._enforcingBounds=!1,this},panInside:function(Gt,H){var be=V((H=H||{}).paddingTopLeft||H.padding||[0,0]),at=V(H.paddingBottomRight||H.padding||[0,0]),Mt=this.project(this.getCenter()),ri=(Gt=this.project(Gt),(be=nt([(ri=this.getPixelBounds()).min.add(be),ri.max.subtract(at)])).getSize());return be.contains(Gt)||(this._enforcingBounds=!0,at=Gt.subtract(be.getCenter()),be=be.extend(Gt).getSize().subtract(ri),Mt.x+=at.x<0?-be.x:be.x,Mt.y+=at.y<0?-be.y:be.y,this.panTo(this.unproject(Mt),H),this._enforcingBounds=!1),this},invalidateSize:function(y){if(!this._loaded)return this;y=e({animate:!1,pan:!0},!0===y?{animate:!0}:y);var H=this.getSize(),at=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),Gt=H.divideBy(2).round(),Mt=at.divideBy(2).round();return(Gt=Gt.subtract(Mt)).x||Gt.y?(y.animate&&y.pan?this.panBy(Gt):(y.pan&&this._rawPanBy(Gt),this.fire("move"),y.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:H,newSize:at})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(y){var H,at;return y=this._locateOptions=e({timeout:1e4,watch:!1},y),"geolocation"in navigator?(H=c(this._handleGeolocationResponse,this),at=c(this._handleGeolocationError,this),y.watch?this._locationWatchId=navigator.geolocation.watchPosition(H,at,y):navigator.geolocation.getCurrentPosition(H,at,y)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(y){var H;this._container._leaflet_id&&(H=y.code,y=y.message||(1===H?"permission denied":2===H?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:H,message:"Geolocation error: "+y+"."}))},_handleGeolocationResponse:function(y){if(this._container._leaflet_id){var H,at,Mt=new Y(y.coords.latitude,y.coords.longitude),Gt=Mt.toBounds(2*y.coords.accuracy),be=this._locateOptions,ri=(be.setView&&(H=this.getBoundsZoom(Gt),this.setView(Mt,be.maxZoom?Math.min(H,be.maxZoom):H)),{latlng:Mt,bounds:Gt,timestamp:y.timestamp});for(at in y.coords)"number"==typeof y.coords[at]&&(ri[at]=y.coords[at]);this.fire("locationfound",ri)}},addHandler:function(y,H){return H&&(H=this[y]=new H(this),this._handlers.push(H),this.options[y]&&H.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var y in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),yi(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(m(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[y].remove();for(y in this._panes)yi(this._panes[y]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(y,H){return H=mi("div","leaflet-pane"+(y?" leaflet-"+y.replace("Pane","")+"-pane":""),H||this._mapPane),y&&(this._panes[y]=H),H},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var y=this.getPixelBounds();return new yt(this.unproject(y.getBottomLeft()),this.unproject(y.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Xi,H,ni){Xi=ut(Xi),ni=V(ni||[0,0]);var zi=this.getZoom()||0,Mt=this.getMinZoom(),Gt=this.getMaxZoom(),be=Xi.getNorthWest(),ri=(Xi=Xi.getSouthEast(),ni=this.getSize().subtract(ni),Xi=nt(this.project(Xi,zi),this.project(be,zi)).getSize(),be=le.any3d?this.options.zoomSnap:1,ni.x/Xi.x);return ni=ni.y/Xi.y,Xi=H?Math.max(ri,ni):Math.min(ri,ni),zi=this.getScaleZoom(Xi,zi),be&&(zi=Math.round(zi/(be/100))*(be/100),zi=H?Math.ceil(zi/be)*be:Math.floor(zi/be)*be),Math.max(Mt,Math.min(Gt,zi))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new o(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(y,H){return new q(y=this._getTopLeftPoint(y,H),y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(y){return this.options.crs.getProjectedBounds(void 0===y?this.getZoom():y)},getPane:function(y){return"string"==typeof y?this._panes[y]:y},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(y,H){var at=this.options.crs;return H=void 0===H?this._zoom:H,at.scale(y)/at.scale(H)},getScaleZoom:function(Mt,H){var at=this.options.crs;return Mt=at.zoom(Mt*at.scale(H=void 0===H?this._zoom:H)),isNaN(Mt)?1/0:Mt},project:function(y,H){return H=void 0===H?this._zoom:H,this.options.crs.latLngToPoint(tt(y),H)},unproject:function(y,H){return H=void 0===H?this._zoom:H,this.options.crs.pointToLatLng(V(y),H)},layerPointToLatLng:function(y){return y=V(y).add(this.getPixelOrigin()),this.unproject(y)},latLngToLayerPoint:function(y){return this.project(tt(y))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(y){return this.options.crs.wrapLatLng(tt(y))},wrapLatLngBounds:function(y){return this.options.crs.wrapLatLngBounds(ut(y))},distance:function(y,H){return this.options.crs.distance(tt(y),tt(H))},containerPointToLayerPoint:function(y){return V(y).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(y){return V(y).add(this._getMapPanePos())},containerPointToLatLng:function(y){return y=this.containerPointToLayerPoint(V(y)),this.layerPointToLatLng(y)},latLngToContainerPoint:function(y){return this.layerPointToContainerPoint(this.latLngToLayerPoint(tt(y)))},mouseEventToContainerPoint:function(y){return wn(y,this._container)},mouseEventToLayerPoint:function(y){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(y))},mouseEventToLatLng:function(y){return this.layerPointToLatLng(this.mouseEventToLayerPoint(y))},_initContainer:function(y){if(!(y=this._container=Ji(y)))throw new Error("Map container not found.");if(y._leaflet_id)throw new Error("Map container is already initialized.");ii(y,"scroll",this._onScroll,this),this._containerId=M(y)},_initLayout:function(){var y=this._container,H=(this._fadeAnimated=this.options.fadeAnimation&&le.any3d,Gi(y,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),ci(y,"position"));"absolute"!==H&&"relative"!==H&&"fixed"!==H&&"sticky"!==H&&(y.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var y=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kt(this._mapPane,new o(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Gi(y.markerPane,"leaflet-zoom-hide"),Gi(y.shadowPane,"leaflet-zoom-hide"))},_resetView:function(y,H,at){Kt(this._mapPane,new o(0,0));var Mt=!this._loaded,Gt=(this._loaded=!0,H=this._limitZoom(H),this.fire("viewprereset"),this._zoom!==H);this._moveStart(Gt,at)._move(y,H)._moveEnd(Gt),this.fire("viewreset"),Mt&&this.fire("load")},_moveStart:function(y,H){return y&&this.fire("zoomstart"),H||this.fire("movestart"),this},_move:function(y,H,at,Mt){void 0===H&&(H=this._zoom);var Gt=this._zoom!==H;return this._zoom=H,this._lastCenter=y,this._pixelOrigin=this._getNewPixelOrigin(y),Mt?at&&at.pinch&&this.fire("zoom",at):((Gt||at&&at.pinch)&&this.fire("zoom",at),this.fire("move",at)),this},_moveEnd:function(y){return y&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return m(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(y){Kt(this._mapPane,this._getMapPanePos().subtract(y))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(y){this._targets={};var H=y?wi:ii;H((this._targets[M(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&H(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(y?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){m(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var y=this._getMapPanePos();Math.max(Math.abs(y.x),Math.abs(y.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(y,H){for(var at,Mt=[],Gt="mouseout"===H||"mouseover"===H,be=y.target||y.srcElement,ri=!1;be;){if((at=this._targets[M(be)])&&("click"===H||"preclick"===H)&&this._draggableMoved(at)){ri=!0;break}if(at&&at.listens(H,!0)&&(Gt&&!Kn(be,y)||(Mt.push(at),Gt))||be===this._container)break;be=be.parentNode}return Mt.length||ri||Gt||!this.listens(H,!0)?Mt:[this]},_isClickDisabled:function(y){for(;y&&y!==this._container;){if(y._leaflet_disable_click)return!0;y=y.parentNode}},_handleDOMEvent:function(y){var H,at=y.target||y.srcElement;!this._loaded||at._leaflet_disable_events||"click"===y.type&&this._isClickDisabled(at)||("mousedown"===(H=y.type)&&He(at),this._fireDOMEvent(y,H))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(y,H,at){"click"===y.type&&((ni=e({},y)).type="preclick",this._fireDOMEvent(ni,ni.type,at));var Mt=this._findEventTargets(y,H);if(at){for(var Gt=[],be=0;be<at.length;be++)at[be].listens(H,!0)&&Gt.push(at[be]);Mt=Gt.concat(Mt)}if(Mt.length){"contextmenu"===H&&tn(y);var ri,ni=Mt[0],Xi={originalEvent:y};for("keypress"!==y.type&&"keydown"!==y.type&&"keyup"!==y.type&&(Xi.containerPoint=(ri=ni.getLatLng&&(!ni._radius||ni._radius<=10))?this.latLngToContainerPoint(ni.getLatLng()):this.mouseEventToContainerPoint(y),Xi.layerPoint=this.containerPointToLayerPoint(Xi.containerPoint),Xi.latlng=ri?ni.getLatLng():this.layerPointToLatLng(Xi.layerPoint)),be=0;be<Mt.length;be++)if(Mt[be].fire(H,Xi,!0),Xi.originalEvent._stopped||!1===Mt[be].options.bubblingMouseEvents&&-1!==T(this._mouseEvents,H))return}},_draggableMoved:function(y){return(y=y.dragging&&y.dragging.enabled()?y:this).dragging&&y.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var y=0,H=this._handlers.length;y<H;y++)this._handlers[y].disable()},whenReady:function(y,H){return this._loaded?y.call(H||this,{target:this}):this.on("load",y,H),this},_getMapPanePos:function(){return se(this._mapPane)||new o(0,0)},_moved:function(){var y=this._getMapPanePos();return y&&!y.equals([0,0])},_getTopLeftPoint:function(y,H){return(y&&void 0!==H?this._getNewPixelOrigin(y,H):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(y,H){var at=this.getSize()._divideBy(2);return this.project(y,H)._subtract(at)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(y,H,at){return at=this._getNewPixelOrigin(at,H),this.project(y,H)._subtract(at)},_latLngBoundsToNewLayerBounds:function(y,H,at){return at=this._getNewPixelOrigin(at,H),nt([this.project(y.getSouthWest(),H)._subtract(at),this.project(y.getNorthWest(),H)._subtract(at),this.project(y.getSouthEast(),H)._subtract(at),this.project(y.getNorthEast(),H)._subtract(at)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(y){return this.latLngToLayerPoint(y).subtract(this._getCenterLayerPoint())},_limitCenter:function(y,H,at){var Mt,Gt;return!at||(Mt=this.project(y,H),Gt=this.getSize().divideBy(2),Gt=new q(Mt.subtract(Gt),Mt.add(Gt)),Gt=this._getBoundsOffset(Gt,at,H),Math.abs(Gt.x)<=1&&Math.abs(Gt.y)<=1)?y:this.unproject(Mt.add(Gt),H)},_limitOffset:function(y,H){var at;return H?(at=new q((at=this.getPixelBounds()).min.add(y),at.max.add(y)),y.add(this._getBoundsOffset(at,H))):y},_getBoundsOffset:function(y,H,at){return at=(H=nt(this.project(H.getNorthEast(),at),this.project(H.getSouthWest(),at))).min.subtract(y.min),H=H.max.subtract(y.max),new o(this._rebound(at.x,-H.x),this._rebound(at.y,-H.y))},_rebound:function(y,H){return 0<y+H?Math.round(y-H)/2:Math.max(0,Math.ceil(y))-Math.max(0,Math.floor(H))},_limitZoom:function(y){var H=this.getMinZoom(),at=this.getMaxZoom(),Mt=le.any3d?this.options.zoomSnap:1;return Mt&&(y=Math.round(y/Mt)*Mt),Math.max(H,Math.min(at,y))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(y,H){return y=this._getCenterOffset(y)._trunc(),!(!0!==(H&&H.animate)&&!this.getSize().contains(y)||(this.panBy(y,H),0))},_createAnimProxy:function(){var y=this._proxy=mi("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(y),this.on("zoomanim",function(H){var at=gn,Mt=this._proxy.style[at];jt(this._proxy,this.project(H.center,H.zoom),this.getZoomScale(H.zoom,1)),Mt===this._proxy.style[at]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yi(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var y=this.getCenter(),H=this.getZoom();jt(this._proxy,this.project(y,H),this.getZoomScale(H,1))},_catchTransitionEnd:function(y){this._animatingZoom&&0<=y.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(y,H,at){if(!this._animatingZoom){if(at=at||{},!this._zoomAnimated||!1===at.animate||this._nothingToAnimate()||Math.abs(H-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Mt=this.getZoomScale(H);if(Mt=this._getCenterOffset(y)._divideBy(1-1/Mt),!0!==at.animate&&!this.getSize().contains(Mt))return!1;O(function(){this._moveStart(!0,!1)._animateZoom(y,H,!0)},this)}return!0},_animateZoom:function(y,H,at,Mt){this._mapPane&&(at&&(this._animatingZoom=!0,this._animateToCenter=y,this._animateToZoom=H,Gi(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:y,zoom:H,noUpdate:Mt}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jn(y){return new Qn(y)}var Or,Qn=P.extend({options:{position:"topright"},initialize:function(y){a(this,y)},getPosition:function(){return this.options.position},setPosition:function(y){var H=this._map;return H&&H.removeControl(this),this.options.position=y,H&&H.addControl(this),this},getContainer:function(){return this._container},addTo:function(Mt){this.remove(),this._map=Mt;var H=this._container=this.onAdd(Mt),at=this.getPosition();return Mt=Mt._controlCorners[at],Gi(H,"leaflet-control"),-1!==at.indexOf("bottom")?Mt.insertBefore(H,Mt.firstChild):Mt.appendChild(H),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(yi(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(y){this._map&&y&&0<y.screenX&&0<y.screenY&&this._map.getContainer().focus()}}),Fn=(Wi.include({addControl:function(y){return y.addTo(this),this},removeControl:function(y){return y.remove(),this},_initControlPos:function(){var y=this._controlCorners={},H="leaflet-",at=this._controlContainer=mi("div",H+"control-container",this._container);function Mt(Gt,be){y[Gt+be]=mi("div",H+Gt+" "+H+be,at)}Mt("top","left"),Mt("top","right"),Mt("bottom","left"),Mt("bottom","right")},_clearControlPos:function(){for(var y in this._controlCorners)yi(this._controlCorners[y]);yi(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),Qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(y,H,at,Mt){return at<Mt?-1:Mt<at?1:0}},initialize:function(y,H,at){for(var Mt in a(this,at),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,y)this._addLayer(y[Mt],Mt);for(Mt in H)this._addLayer(H[Mt],Mt,!0)},onAdd:function(y){this._initLayout(),this._update(),(this._map=y).on("zoomend",this._checkDisabledLayers,this);for(var H=0;H<this._layers.length;H++)this._layers[H].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(y){return Qn.prototype.addTo.call(this,y),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(y,H){return this._addLayer(y,H),this._map?this._update():this},addOverlay:function(y,H){return this._addLayer(y,H,!0),this._map?this._update():this},removeLayer:function(y){return y.off("add remove",this._onLayerChange,this),(y=this._getLayer(M(y)))&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){Gi(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var y=this._map.getSize().y-(this._container.offsetTop+50);return y<this._section.clientHeight?(Gi(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=y+"px"):Qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var y="leaflet-control-layers",H=this._container=mi("div",y),at=this.options.collapsed,Mt=(H.setAttribute("aria-haspopup",!0),xn(H),Fi(H),this._section=mi("section",y+"-list")),Gt=(at&&(this._map.on("click",this.collapse,this),ii(H,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=mi("a",y+"-toggle",H));Gt.href="#",Gt.title="Layers",Gt.setAttribute("role","button"),ii(Gt,{keydown:function(be){13===be.keyCode&&this._expandSafely()},click:function(be){tn(be),this._expandSafely()}},this),at||this.expand(),this._baseLayersList=mi("div",y+"-base",Mt),this._separator=mi("div",y+"-separator",Mt),this._overlaysList=mi("div",y+"-overlays",Mt),H.appendChild(Mt)},_getLayer:function(y){for(var H=0;H<this._layers.length;H++)if(this._layers[H]&&M(this._layers[H].layer)===y)return this._layers[H]},_addLayer:function(y,H,at){this._map&&y.on("add remove",this._onLayerChange,this),this._layers.push({layer:y,name:H,overlay:at}),this.options.sortLayers&&this._layers.sort(c(function(Mt,Gt){return this.options.sortFunction(Mt.layer,Gt.layer,Mt.name,Gt.name)},this)),this.options.autoZIndex&&y.setZIndex&&(this._lastZIndex++,y.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){$i(this._baseLayersList),$i(this._overlaysList),this._layerControlInputs=[];for(var y,H,at,Mt=0,Gt=0;Gt<this._layers.length;Gt++)this._addItem(at=this._layers[Gt]),H=H||at.overlay,y=y||!at.overlay,Mt+=at.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(y=y&&1<Mt)?"":"none"),this._separator.style.display=H&&y?"":"none"}return this},_onLayerChange:function(at){this._handlingClick||this._update();var H=this._getLayer(M(at.target));(at=H.overlay?"add"===at.type?"overlayadd":"overlayremove":"add"===at.type?"baselayerchange":null)&&this._map.fire(at,H)},_createRadioElement:function(y,H){return y='<input type="radio" class="leaflet-control-layers-selector" name="'+y+'"'+(H?' checked="checked"':"")+"/>",(H=document.createElement("div")).innerHTML=y,H.firstChild},_addItem:function(y){var H,at=document.createElement("label"),Mt=this._map.hasLayer(y.layer),Gt=((y.overlay?((H=document.createElement("input")).type="checkbox",H.className="leaflet-control-layers-selector",H.defaultChecked=Mt):H=this._createRadioElement("leaflet-base-layers_"+M(this),Mt),this._layerControlInputs.push(H),H.layerId=M(y.layer),ii(H,"click",this._onInputClick,this),Mt=document.createElement("span")).innerHTML=" "+y.name,document.createElement("span"));return at.appendChild(Gt),Gt.appendChild(H),Gt.appendChild(Mt),(y.overlay?this._overlaysList:this._baseLayersList).appendChild(at),this._checkDisabledLayers(),at},_onInputClick:function(){var y,H,at=this._layerControlInputs,Mt=[],Gt=[];this._handlingClick=!0;for(var be=at.length-1;0<=be;be--)H=this._getLayer((y=at[be]).layerId).layer,y.checked?Mt.push(H):y.checked||Gt.push(H);for(be=0;be<Gt.length;be++)this._map.hasLayer(Gt[be])&&this._map.removeLayer(Gt[be]);for(be=0;be<Mt.length;be++)this._map.hasLayer(Mt[be])||this._map.addLayer(Mt[be]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var y,H,at=this._layerControlInputs,Mt=this._map.getZoom(),Gt=at.length-1;0<=Gt;Gt--)H=this._getLayer((y=at[Gt]).layerId).layer,y.disabled=void 0!==H.options.minZoom&&Mt<H.options.minZoom||void 0!==H.options.maxZoom&&Mt>H.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var y=this._section;ii(y,"click",tn),this.expand(),setTimeout(function(){wi(y,"click",tn)})}})),Vn=Qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(y){var H="leaflet-control-zoom",at=mi("div",H+" leaflet-bar"),Mt=this.options;return this._zoomInButton=this._createButton(Mt.zoomInText,Mt.zoomInTitle,H+"-in",at,this._zoomIn),this._zoomOutButton=this._createButton(Mt.zoomOutText,Mt.zoomOutTitle,H+"-out",at,this._zoomOut),this._updateDisabled(),y.on("zoomend zoomlevelschange",this._updateDisabled,this),at},onRemove:function(y){y.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(y){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(y.shiftKey?3:1))},_zoomOut:function(y){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(y.shiftKey?3:1))},_createButton:function(y,H,at,Mt,Gt){return(at=mi("a",at,Mt)).innerHTML=y,at.href="#",at.title=H,at.setAttribute("role","button"),at.setAttribute("aria-label",H),xn(at),ii(at,"click",An),ii(at,"click",Gt,this),ii(at,"click",this._refocusOnMap,this),at},_updateDisabled:function(){var y=this._map,H="leaflet-disabled";Qe(this._zoomInButton,H),Qe(this._zoomOutButton,H),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&y._zoom!==y.getMinZoom()||(Gi(this._zoomOutButton,H),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&y._zoom!==y.getMaxZoom()||(Gi(this._zoomInButton,H),this._zoomInButton.setAttribute("aria-disabled","true"))}}),Gr=(Wi.mergeOptions({zoomControl:!0}),Wi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vn,this.addControl(this.zoomControl))}),Qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(y){var H="leaflet-control-scale",at=mi("div",H),Mt=this.options;return this._addScales(Mt,H+"-line",at),y.on(Mt.updateWhenIdle?"moveend":"move",this._update,this),y.whenReady(this._update,this),at},onRemove:function(y){y.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(y,H,at){y.metric&&(this._mScale=mi("div",H,at)),y.imperial&&(this._iScale=mi("div",H,at))},_update:function(){var y=(H=this._map).getSize().y/2,H=H.distance(H.containerPointToLatLng([0,y]),H.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(H)},_updateScales:function(y){this.options.metric&&y&&this._updateMetric(y),this.options.imperial&&y&&this._updateImperial(y)},_updateMetric:function(y){var H=this._getRoundNum(y);this._updateScale(this._mScale,H<1e3?H+" m":H/1e3+" km",H/y)},_updateImperial:function(Mt){var H,at;5280<(Mt*=3.2808399)?(at=this._getRoundNum(H=Mt/5280),this._updateScale(this._iScale,at+" mi",at/H)):(at=this._getRoundNum(Mt),this._updateScale(this._iScale,at+" ft",at/Mt))},_updateScale:function(y,H,at){y.style.width=Math.round(this.options.maxWidth*at)+"px",y.innerHTML=H},_getRoundNum:function(at){var H=Math.pow(10,(Math.floor(at)+"").length-1);return H*(10<=(at/=H)?10:5<=at?5:3<=at?3:2<=at?2:1)}})),rr=Qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(y){a(this,y),this._attributions={}},onAdd:function(y){for(var H in(y.attributionControl=this)._container=mi("div","leaflet-control-attribution"),xn(this._container),y._layers)y._layers[H].getAttribution&&this.addAttribution(y._layers[H].getAttribution());return this._update(),y.on("layeradd",this._addAttribution,this),this._container},onRemove:function(y){y.off("layeradd",this._addAttribution,this)},_addAttribution:function(y){y.layer.getAttribution&&(this.addAttribution(y.layer.getAttribution()),y.layer.once("remove",function(){this.removeAttribution(y.layer.getAttribution())},this))},setPrefix:function(y){return this.options.prefix=y,this._update(),this},addAttribution:function(y){return y&&(this._attributions[y]||(this._attributions[y]=0),this._attributions[y]++,this._update()),this},removeAttribution:function(y){return y&&this._attributions[y]&&(this._attributions[y]--,this._update()),this},_update:function(){if(this._map){var y,H=[];for(y in this._attributions)this._attributions[y]&&H.push(y);var at=[];this.options.prefix&&at.push(this.options.prefix),H.length&&at.push(H.join(", ")),this._container.innerHTML=at.join(' <span aria-hidden="true">|</span> ')}}}),Br=((Wi.mergeOptions({attributionControl:!0}),Wi.addInitHook(function(){this.options.attributionControl&&(new rr).addTo(this)}),Qn.Layers=Fn,Qn.Zoom=Vn,Qn.Scale=Gr,Qn.Attribution=rr,Jn.layers=function(y,H,at){return new Fn(y,H,at)},Jn.zoom=function(y){return new Vn(y)},Jn.scale=function(y){return new Gr(y)},Jn.attribution=function(y){return new rr(y)},Nr=P.extend({initialize:function(y){this._map=y},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(y,H){return y.addHandler(H,this),this},Sr={Events:D},le.touch?"touchstart mousedown":"mousedown"),jr=f.extend({options:{clickTolerance:3},initialize:function(y,H,at,Mt){a(this,Mt),this._element=y,this._dragStartTarget=H||y,this._preventOutline=at},enable:function(){this._enabled||(ii(this._dragStartTarget,Br,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jr._dragging===this&&this.finishDrag(!0),wi(this._dragStartTarget,Br,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(y){var H,at;this._enabled&&(this._moved=!1,Cn(this._element,"leaflet-zoom-anim")||(y.touches&&1!==y.touches.length?jr._dragging===this&&this.finishDrag():jr._dragging||y.shiftKey||1!==y.which&&1!==y.button&&!y.touches||((jr._dragging=this)._preventOutline&&He(this._element),ie(),Ci(),this._moving||(this.fire("down"),at=y.touches?y.touches[0]:y,H=ai(this._element),this._startPoint=new o(at.clientX,at.clientY),this._startPos=se(this._element),this._parentScale=ye(H),at="mousedown"===y.type,ii(document,at?"mousemove":"touchmove",this._onMove,this),ii(document,at?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(y){var H;this._enabled&&(y.touches&&1<y.touches.length?this._moved=!0:!(H=new o((H=y.touches&&1===y.touches.length?y.touches[0]:y).clientX,H.clientY)._subtract(this._startPoint)).x&&!H.y||Math.abs(H.x)+Math.abs(H.y)<this.options.clickTolerance||(H.x/=this._parentScale.x,H.y/=this._parentScale.y,tn(y),this._moved||(this.fire("dragstart"),this._moved=!0,Gi(document.body,"leaflet-dragging"),this._lastTarget=y.target||y.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Gi(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(H),this._moving=!0,this._lastEvent=y,this._updatePosition()))},_updatePosition:function(){var y={originalEvent:this._lastEvent};this.fire("predrag",y),Kt(this._element,this._newPos),this.fire("drag",y)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(y){Qe(document.body,"leaflet-dragging"),this._lastTarget&&(Qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wi(document,"mousemove touchmove",this._onMove,this),wi(document,"mouseup touchend touchcancel",this._onUp,this),fe(),Hi(),this._moved&&this._moving&&this.fire("dragend",{noInertia:y,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,jr._dragging=!1}});function br(y,H){if(H&&y.length){var at=y=function(ni,Xi){for(var zi=[ni[0]],zn=1,cr=0,kr=ni.length;zn<kr;zn++)void 0,(Wo=(Do=ni[cr]).x-(go=ni[zn]).x)*Wo+(Do=Do.y-go.y)*Do>Xi&&(zi.push(ni[zn]),cr=zn);var go,Do,Wo;return cr<kr-1&&zi.push(ni[kr-1]),zi}(y,H*=H),Mt=at.length,Gt=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(Mt);Gt[0]=Gt[Mt-1]=1,function ni(Xi,zi,zn,cr,kr){var go,_s,Wo,Do=0;for(_s=cr+1;_s<=kr-1;_s++)Do<(Wo=Oo(Xi[_s],Xi[cr],Xi[kr],!0))&&(go=_s,Do=Wo);zn<Do&&(zi[go]=1,ni(Xi,zi,zn,cr,go),ni(Xi,zi,zn,go,kr))}(at,Gt,H,0,Mt-1);var be,ri=[];for(be=0;be<Mt;be++)Gt[be]&&ri.push(at[be]);return ri}return y.slice()}function Zr(y,H,at){return Math.sqrt(Oo(y,H,at,!0))}function $r(y,H,at,Mt,Gt){var be,ri,ni,Xi=Mt?Or:Wr(y,at),zi=Wr(H,at);for(Or=zi;;){if(!(Xi|zi))return[y,H];if(Xi&zi)return!1;ni=Wr(ri=Mo(y,H,be=Xi||zi,at,Gt),at),be===Xi?(y=ri,Xi=ni):(H=ri,zi=ni)}}function Mo(y,Xi,at,zn,Gt){var be,ri,ni=Xi.x-y.x,zi=(Xi=Xi.y-y.y,zn.min);return zn=zn.max,8&at?(be=y.x+ni*(zn.y-y.y)/Xi,ri=zn.y):4&at?(be=y.x+ni*(zi.y-y.y)/Xi,ri=zi.y):2&at?(be=zn.x,ri=y.y+Xi*(zn.x-y.x)/ni):1&at&&(be=zi.x,ri=y.y+Xi*(zi.x-y.x)/ni),new o(be,ri,Gt)}function Wr(y,H){var at=0;return y.x<H.min.x?at|=1:y.x>H.max.x&&(at|=2),y.y<H.min.y?at|=4:y.y>H.max.y&&(at|=8),at}function Oo(y,be,at,Mt){var Gt=be.x,ri=at.x-Gt,ni=at.y-(be=be.y),Xi=ri*ri+ni*ni;return 0<Xi&&(1<(Xi=((y.x-Gt)*ri+(y.y-be)*ni)/Xi)?(Gt=at.x,be=at.y):0<Xi&&(Gt+=ri*Xi,be+=ni*Xi)),ri=y.x-Gt,ni=y.y-be,Mt?ri*ri+ni*ni:new o(Gt,be)}function qr(y){return!x(y[0])||"object"!=typeof y[0][0]&&void 0!==y[0][0]}function Kr(y){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qr(y)}function ao(y,H){var at,Mt,Gt,be,ri;if(!y||0===y.length)throw new Error("latlngs not passed");qr(y)||(console.warn("latlngs are not flat! Only the first ring will be used"),y=y[0]);var ni,Xi=[];for(ni in y)Xi.push(H.project(tt(y[ni])));for(var zi=Xi.length,zn=0,cr=0;zn<zi-1;zn++)cr+=Xi[zn].distanceTo(Xi[zn+1])/2;if(0===cr)ri=Xi[0];else for(at=zn=0;zn<zi-1;zn++)if(cr<(at+=be=(Mt=Xi[zn]).distanceTo(Gt=Xi[zn+1]))){ri=[Gt.x-(be=(at-cr)/be)*(Gt.x-Mt.x),Gt.y-be*(Gt.y-Mt.y)];break}return H.unproject(V(ri))}function Qr(y,H,at){for(var Mt,Gt,be,ri,ni,Xi,zi,zn=[1,4,2,8],cr=0,kr=y.length;cr<kr;cr++)y[cr]._code=Wr(y[cr],H);for(be=0;be<4;be++){for(Xi=zn[be],Mt=[],cr=0,Gt=(kr=y.length)-1;cr<kr;Gt=cr++)ni=y[Gt],(ri=y[cr])._code&Xi?ni._code&Xi||((zi=Mo(ni,ri,Xi,H,at))._code=Wr(zi,H),Mt.push(zi)):(ni._code&Xi&&((zi=Mo(ni,ri,Xi,H,at))._code=Wr(zi,H),Mt.push(zi)),Mt.push(ri));y=Mt}return y}function ho(y,H){var at,Mt,Gt,be,ri;if(!y||0===y.length)throw new Error("latlngs not passed");qr(y)||(console.warn("latlngs are not flat! Only the first ring will be used"),y=y[0]);var Xi,zi=[];for(Xi in y)zi.push(H.project(tt(y[Xi])));for(var zn=zi.length,cr=be=ri=0,kr=0,go=zn-1;kr<zn;go=kr++)be+=((at=zi[kr]).x+(Mt=zi[go]).x)*(Gt=at.y*Mt.x-Mt.y*at.x),ri+=(at.y+Mt.y)*Gt,cr+=3*Gt;return H.unproject(V(0===cr?zi[0]:[be/cr,ri/cr]))}Rt={__proto__:null,simplify:br,pointToSegmentDistance:Zr,closestPointOnSegment:function(y,H,at){return Oo(y,H,at)},clipSegment:$r,_getEdgeIntersection:Mo,_getBitCode:Wr,_sqClosestPointOnSegment:Oo,isFlat:qr,_flat:Kr,polylineCenter:ao},Io={__proto__:null,clipPolygon:Qr,polygonCenter:ho},J={__proto__:null,LonLat:wo={project:function(y){return new o(y.lng,y.lat)},unproject:function(y){return new Y(y.y,y.x)},bounds:new q([-180,-90],[180,90])},Mercator:ko={R:6378137,R_MINOR:6356752.314245179,bounds:new q([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(y){var H=Math.PI/180,at=this.R,be=y.lat*H,Mt=this.R_MINOR/at,Gt=(Mt=Math.sqrt(1-Mt*Mt))*Math.sin(be);return Gt=Math.tan(Math.PI/4-be/2)/Math.pow((1-Gt)/(1+Gt),Mt/2),be=-at*Math.log(Math.max(Gt,1e-10)),new o(y.lng*H*at,be)},unproject:function(y){for(var H,at=180/Math.PI,Mt=this.R,Gt=this.R_MINOR/Mt,be=Math.sqrt(1-Gt*Gt),ri=Math.exp(-y.y/Mt),ni=Math.PI/2-2*Math.atan(ri),Xi=0,zi=.1;Xi<15&&1e-7<Math.abs(zi);Xi++)H=be*Math.sin(ni),H=Math.pow((1-H)/(1+H),be/2),ni+=zi=Math.PI/2-2*Math.atan(ri*H)-ni;return new Y(ni*at,y.x*at/Mt)}},SphericalMercator:At},pt=e({},St,{code:"EPSG:3395",projection:ko,transformation:mt(Xt=.5/(Math.PI*ko.R),.5,-Xt,.5)});var It=e({},St,{code:"EPSG:4326",projection:wo,transformation:mt(1/180,1,-1/180,.5)}),ot=(z=e({},wt,{projection:wo,transformation:mt(1,0,-1,0),scale:function(y){return Math.pow(2,y)},zoom:function(y){return Math.log(y)/Math.LN2},distance:function(y,Mt){var at=Mt.lng-y.lng;return Mt=Mt.lat-y.lat,Math.sqrt(at*at+Mt*Mt)},infinite:!0}),wt.Earth=St,wt.EPSG3395=pt,wt.EPSG3857=dt,wt.EPSG900913=Lt,wt.EPSG4326=It,wt.Simple=z,Z=f.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(y){return y.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(y){return y&&y.removeLayer(this),this},getPane:function(y){return this._map.getPane(y?this.options[y]||y:this.options.pane)},addInteractiveTarget:function(y){return this._map._targets[M(y)]=this},removeInteractiveTarget:function(y){return delete this._map._targets[M(y)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(y){var H,at=y.target;at.hasLayer(this)&&(this._map=at,this._zoomAnimated=at._zoomAnimated,this.getEvents&&(H=this.getEvents(),at.on(H,this),this.once("remove",function(){at.off(H,this)},this)),this.onAdd(at),this.fire("add"),at.fire("layeradd",{layer:this}))}}),Wi.include({addLayer:function(y){var H;if(y._layerAdd)return H=M(y),this._layers[H]||((this._layers[H]=y)._mapToAdd=this,y.beforeAdd&&y.beforeAdd(this),this.whenReady(y._layerAdd,y)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(y){var H=M(y);return this._layers[H]&&(this._loaded&&y.onRemove(this),delete this._layers[H],this._loaded&&(this.fire("layerremove",{layer:y}),y.fire("remove")),y._map=y._mapToAdd=null),this},hasLayer:function(y){return M(y)in this._layers},eachLayer:function(y,H){for(var at in this._layers)y.call(H,this._layers[at]);return this},_addLayers:function(y){for(var H=0,at=(y=y?x(y)?y:[y]:[]).length;H<at;H++)this.addLayer(y[H])},_addZoomLimit:function(y){isNaN(y.options.maxZoom)&&isNaN(y.options.minZoom)||(this._zoomBoundLayers[M(y)]=y,this._updateZoomLevels())},_removeZoomLimit:function(y){y=M(y),this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var y,H=1/0,at=-1/0,Mt=this._getZoomSpan();for(y in this._zoomBoundLayers){var Gt=this._zoomBoundLayers[y].options;H=void 0===Gt.minZoom?H:Math.min(H,Gt.minZoom),at=void 0===Gt.maxZoom?at:Math.max(at,Gt.maxZoom)}this._layersMaxZoom=at===-1/0?void 0:at,this._layersMinZoom=H===1/0?void 0:H,Mt!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),Z.extend({initialize:function(y,H){var at,Mt;if(a(this,H),this._layers={},y)for(at=0,Mt=y.length;at<Mt;at++)this.addLayer(y[at])},addLayer:function(y){var H=this.getLayerId(y);return this._layers[H]=y,this._map&&this._map.addLayer(y),this},removeLayer:function(y){return y=y in this._layers?y:this.getLayerId(y),this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(y){return("number"==typeof y?y:this.getLayerId(y))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(y){var H,at,Mt=Array.prototype.slice.call(arguments,1);for(H in this._layers)(at=this._layers[H])[y]&&at[y].apply(at,Mt);return this},onAdd:function(y){this.eachLayer(y.addLayer,y)},onRemove:function(y){this.eachLayer(y.removeLayer,y)},eachLayer:function(y,H){for(var at in this._layers)y.call(H,this._layers[at]);return this},getLayer:function(y){return this._layers[y]},getLayers:function(){var y=[];return this.eachLayer(y.push,y),y},setZIndex:function(y){return this.invoke("setZIndex",y)},getLayerId:M})),rt=ot.extend({addLayer:function(y){return this.hasLayer(y)?this:(y.addEventParent(this),ot.prototype.addLayer.call(this,y),this.fire("layeradd",{layer:y}))},removeLayer:function(y){return this.hasLayer(y)?((y=y in this._layers?this._layers[y]:y).removeEventParent(this),ot.prototype.removeLayer.call(this,y),this.fire("layerremove",{layer:y})):this},setStyle:function(y){return this.invoke("setStyle",y)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var y,H=new yt;for(y in this._layers){var at=this._layers[y];H.extend(at.getBounds?at.getBounds():at.getLatLng())}return H}}),_t=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(y){a(this,y)},createIcon:function(y){return this._createIcon("icon",y)},createShadow:function(y){return this._createIcon("shadow",y)},_createIcon:function(y,H){var at=this._getIconUrl(y);if(at)return at=this._createImg(at,H&&"IMG"===H.tagName?H:null),this._setIconStyles(at,y),!this.options.crossOrigin&&""!==this.options.crossOrigin||(at.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),at;if("icon"===y)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(y,H){var at=this.options,Mt=V(Mt="number"==typeof(Mt=at[H+"Size"])?[Mt,Mt]:Mt),Gt=V("shadow"===H&&at.shadowAnchor||at.iconAnchor||Mt&&Mt.divideBy(2,!0));y.className="leaflet-marker-"+H+" "+(at.className||""),Gt&&(y.style.marginLeft=-Gt.x+"px",y.style.marginTop=-Gt.y+"px"),Mt&&(y.style.width=Mt.x+"px",y.style.height=Mt.y+"px")},_createImg:function(y,H){return(H=H||document.createElement("img")).src=y,H},_getIconUrl:function(y){return le.retina&&this.options[y+"RetinaUrl"]||this.options[y+"Url"]}}),Et=_t.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(y){return"string"!=typeof Et.imagePath&&(Et.imagePath=this._detectIconPath()),(this.options.imagePath||Et.imagePath)+_t.prototype._getIconUrl.call(this,y)},_stripUrl:function(y){function H(at,Mt,Gt){return(Mt=Mt.exec(at))&&Mt[Gt]}return(y=H(y,/^url\((['"])?(.+)\1\)$/,2))&&H(y,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var y=mi("div","leaflet-default-icon-path",document.body),H=ci(y,"background-image")||ci(y,"backgroundImage");return document.body.removeChild(y),(H=this._stripUrl(H))?H:(y=document.querySelector('link[href$="leaflet.css"]'))?y.href.substring(0,y.href.length-11-1):""}}),Bt=Nr.extend({initialize:function(y){this._marker=y},addHooks:function(){var y=this._marker._icon;this._draggable||(this._draggable=new jr(y,y,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Gi(y,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(y){var H=this._marker,at=H._map,Mt=this._marker.options.autoPanSpeed,Gt=this._marker.options.autoPanPadding,be=se(H._icon),ri=at.getPixelBounds(),ni=at.getPixelOrigin();(ni=nt(ri.min._subtract(ni).add(Gt),ri.max._subtract(ni).subtract(Gt))).contains(be)||(Gt=V((Math.max(ni.max.x,be.x)-ni.max.x)/(ri.max.x-ni.max.x)-(Math.min(ni.min.x,be.x)-ni.min.x)/(ri.min.x-ni.min.x),(Math.max(ni.max.y,be.y)-ni.max.y)/(ri.max.y-ni.max.y)-(Math.min(ni.min.y,be.y)-ni.min.y)/(ri.min.y-ni.min.y)).multiplyBy(Mt),at.panBy(Gt,{animate:!1}),this._draggable._newPos._add(Gt),this._draggable._startPos._add(Gt),Kt(H._icon,this._draggable._newPos),this._onDrag(y),this._panRequest=O(this._adjustPan.bind(this,y)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(y){this._marker.options.autoPan&&(m(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,y)))},_onDrag:function(y){var H=this._marker,at=H._shadow,Mt=se(H._icon),Gt=H._map.layerPointToLatLng(Mt);at&&Kt(at,Mt),H._latlng=Gt,y.latlng=Gt,y.oldLatLng=this._oldLatLng,H.fire("move",y).fire("drag",y)},_onDragEnd:function(y){m(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",y)}}),Wt=Z.extend({options:{icon:new Et,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(y,H){a(this,H),this._latlng=tt(y)},onAdd:function(y){this._zoomAnimated=this._zoomAnimated&&y.options.markerZoomAnimation,this._zoomAnimated&&y.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(y){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&y.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(y){var H=this._latlng;return this._latlng=tt(y),this.update(),this.fire("move",{oldLatLng:H,latlng:this._latlng})},setZIndexOffset:function(y){return this.options.zIndexOffset=y,this.update()},getIcon:function(){return this.options.icon},setIcon:function(y){return this.options.icon=y,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var y;return this._icon&&this._map&&(y=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(y)),this},_initIcon:function(){var Mt,y=this.options,H="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),at=!1,Gt=!1;(Mt=y.icon.createIcon(this._icon))!==this._icon&&(this._icon&&this._removeIcon(),at=!0,y.title&&(Mt.title=y.title),"IMG"===Mt.tagName&&(Mt.alt=y.alt||"")),Gi(Mt,H),y.keyboard&&(Mt.tabIndex="0",Mt.setAttribute("role","button")),this._icon=Mt,y.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ii(Mt,"focus",this._panOnFocus,this),(Mt=y.icon.createShadow(this._shadow))!==this._shadow&&(this._removeShadow(),Gt=!0),Mt&&(Gi(Mt,H),Mt.alt=""),this._shadow=Mt,y.opacity<1&&this._updateOpacity(),at&&this.getPane().appendChild(this._icon),this._initInteraction(),Mt&&Gt&&this.getPane(y.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wi(this._icon,"focus",this._panOnFocus,this),yi(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yi(this._shadow),this._shadow=null},_setPos:function(y){this._icon&&Kt(this._icon,y),this._shadow&&Kt(this._shadow,y),this._zIndex=y.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(y){this._icon&&(this._icon.style.zIndex=this._zIndex+y)},_animateZoom:function(y){y=this._map._latLngToNewLayerPoint(this._latlng,y.zoom,y.center).round(),this._setPos(y)},_initInteraction:function(){var y;this.options.interactive&&(Gi(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bt&&(y=this.options.draggable,this.dragging&&(y=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bt(this),y&&this.dragging.enable()))},setOpacity:function(y){return this.options.opacity=y,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var y=this.options.opacity;this._icon&&gt(this._icon,y),this._shadow&&gt(this._shadow,y)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var y,H,at=this._map;at&&(y=(H=this.options.icon.options).iconSize?V(H.iconSize):V(0,0),H=H.iconAnchor?V(H.iconAnchor):V(0,0),at.panInside(this._latlng,{paddingTopLeft:H,paddingBottomRight:y.subtract(H)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Qt=Z.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(y){this._renderer=y.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(y){return a(this,y),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&y&&Object.prototype.hasOwnProperty.call(y,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xe=Qt.extend({options:{fill:!0,radius:10},initialize:function(y,H){a(this,H),this._latlng=tt(y),this._radius=this.options.radius},setLatLng:function(y){var H=this._latlng;return this._latlng=tt(y),this.redraw(),this.fire("move",{oldLatLng:H,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(y){return this.options.radius=this._radius=y,this.redraw()},getRadius:function(){return this._radius},setStyle:function(y){var H=y&&y.radius||this._radius;return Qt.prototype.setStyle.call(this,y),this.setRadius(H),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var at=this._radius,y=this._radiusY||at,H=this._clickTolerance();this._pxBounds=new q(this._point.subtract(at=[at+H,y+H]),this._point.add(at))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(y){return y.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Me=xe.extend({initialize:function(y,H,at){if(a(this,H="number"==typeof H?e({},at,{radius:H}):H),this._latlng=tt(y),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(y){return this._mRadius=y,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var y=[this._radius,this._radiusY||this._radius];return new yt(this._map.layerPointToLatLng(this._point.subtract(y)),this._map.layerPointToLatLng(this._point.add(y)))},setStyle:Qt.prototype.setStyle,_project:function(){var y,H,at,Mt,Gt,be=this._latlng.lng,ri=this._latlng.lat,ni=this._map,Xi=ni.options.crs;Xi.distance===St.distance?(Mt=Math.PI/180,y=ni.project([ri+(Gt=this._mRadius/St.R/Mt),be]),H=ni.project([ri-Gt,be]),H=y.add(H).divideBy(2),at=ni.unproject(H).lat,Mt=Math.acos((Math.cos(Gt*Mt)-Math.sin(ri*Mt)*Math.sin(at*Mt))/(Math.cos(ri*Mt)*Math.cos(at*Mt)))/Mt,!isNaN(Mt)&&0!==Mt||(Mt=Gt/Math.cos(Math.PI/180*ri)),this._point=H.subtract(ni.getPixelOrigin()),this._radius=isNaN(Mt)?0:H.x-ni.project([at,be-Mt]).x,this._radiusY=H.y-y.y):(Gt=Xi.unproject(Xi.project(this._latlng).subtract([this._mRadius,0])),this._point=ni.latLngToLayerPoint(this._latlng),this._radius=this._point.x-ni.latLngToLayerPoint(Gt).x),this._updateBounds()}}),Xe=Qt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(y,H){a(this,H),this._setLatLngs(y)},getLatLngs:function(){return this._latlngs},setLatLngs:function(y){return this._setLatLngs(y),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(y){for(var H=1/0,at=null,Mt=Oo,Gt=0,be=this._parts.length;Gt<be;Gt++)for(var ri=this._parts[Gt],ni=1,Xi=ri.length;ni<Xi;ni++){var zi,zn,cr=Mt(y,zi=ri[ni-1],zn=ri[ni],!0);cr<H&&(H=cr,at=Mt(y,zi,zn))}return at&&(at.distance=Math.sqrt(H)),at},getCenter:function(){if(this._map)return ao(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(y,H){return H=H||this._defaultShape(),y=tt(y),H.push(y),this._bounds.extend(y),this.redraw()},_setLatLngs:function(y){this._bounds=new yt,this._latlngs=this._convertLatLngs(y)},_defaultShape:function(){return qr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(y){for(var H=[],at=qr(y),Mt=0,Gt=y.length;Mt<Gt;Mt++)at?(H[Mt]=tt(y[Mt]),this._bounds.extend(H[Mt])):H[Mt]=this._convertLatLngs(y[Mt]);return H},_project:function(){var y=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,y),this._bounds.isValid()&&y.isValid()&&(this._rawPxBounds=y,this._updateBounds())},_updateBounds:function(){var y=new o(y=this._clickTolerance(),y);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(y,H,at){var Mt,Gt,ri=y.length;if(y[0]instanceof Y){for(Gt=[],Mt=0;Mt<ri;Mt++)Gt[Mt]=this._map.latLngToLayerPoint(y[Mt]),at.extend(Gt[Mt]);H.push(Gt)}else for(Mt=0;Mt<ri;Mt++)this._projectLatlngs(y[Mt],H,at)},_clipPoints:function(){var y=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(y))if(this.options.noClip)this._parts=this._rings;else for(var H,at,Mt,Gt,be=this._parts,ri=0,ni=0,Xi=this._rings.length;ri<Xi;ri++)for(H=0,at=(Gt=this._rings[ri]).length;H<at-1;H++)(Mt=$r(Gt[H],Gt[H+1],y,H,!0))&&(be[ni]=be[ni]||[],be[ni].push(Mt[0]),Mt[1]===Gt[H+1]&&H!==at-2||(be[ni].push(Mt[1]),ni++))},_simplifyPoints:function(){for(var y=this._parts,H=this.options.smoothFactor,at=0,Mt=y.length;at<Mt;at++)y[at]=br(y[at],H)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(y,H){var at,Mt,Gt,be,ri,ni,Xi=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(y))for(at=0,be=this._parts.length;at<be;at++)for(Mt=0,Gt=(ri=(ni=this._parts[at]).length)-1;Mt<ri;Gt=Mt++)if((H||0!==Mt)&&Zr(y,ni[Gt],ni[Mt])<=Xi)return!0;return!1}});Xe._flat=Kr;var Be=Xe.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return ho(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(H){var at=(H=Xe.prototype._convertLatLngs.call(this,H)).length;return 2<=at&&H[0]instanceof Y&&H[0].equals(H[at-1])&&H.pop(),H},_setLatLngs:function(y){Xe.prototype._setLatLngs.call(this,y),qr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(qr(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var H=this._renderer._bounds,y=new o(y=this.options.weight,y);if(H=new q(H.min.subtract(y),H.max.add(y)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(H))if(this.options.noClip)this._parts=this._rings;else for(var at,Mt=0,Gt=this._rings.length;Mt<Gt;Mt++)(at=Qr(this._rings[Mt],H,!0)).length&&this._parts.push(at)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(y){var H,at,Mt,Gt,be,ri,ni,Xi,zi=!1;if(!this._pxBounds||!this._pxBounds.contains(y))return!1;for(Gt=0,ni=this._parts.length;Gt<ni;Gt++)for(be=0,ri=(Xi=(H=this._parts[Gt]).length)-1;be<Xi;ri=be++)(at=H[be]).y>y.y!=(Mt=H[ri]).y>y.y&&y.x<(Mt.x-at.x)*(y.y-at.y)/(Mt.y-at.y)+at.x&&(zi=!zi);return zi||Xe.prototype._containsPoint.call(this,y,!0)}}),Ue=rt.extend({initialize:function(y,H){a(this,H),this._layers={},y&&this.addData(y)},addData:function(y){var H,at,Mt,Gt=x(y)?y:y.features;if(Gt){for(H=0,at=Gt.length;H<at;H++)((Mt=Gt[H]).geometries||Mt.geometry||Mt.features||Mt.coordinates)&&this.addData(Mt);return this}var be,ri=this.options;return ri.filter&&!ri.filter(y)||!(be=Ii(y,ri))?this:(be.feature=ze(y),be.defaultOptions=be.options,this.resetStyle(be),ri.onEachFeature&&ri.onEachFeature(y,be),this.addLayer(be))},resetStyle:function(y){return void 0===y?this.eachLayer(this.resetStyle,this):(y.options=e({},y.defaultOptions),this._setLayerStyle(y,this.options.style),this)},setStyle:function(y){return this.eachLayer(function(H){this._setLayerStyle(H,y)},this)},_setLayerStyle:function(y,H){y.setStyle&&("function"==typeof H&&(H=H(y.feature)),y.setStyle(H))}});function Ii(y,H){var at,Mt,Gt,be,ri="Feature"===y.type?y.geometry:y,ni=ri?ri.coordinates:null,Xi=[],zi=H&&H.pointToLayer,zn=H&&H.coordsToLatLng||Tt;if(!ni&&!ri)return null;switch(ri.type){case"Point":return on(zi,y,at=zn(ni),H);case"MultiPoint":for(Gt=0,be=ni.length;Gt<be;Gt++)at=zn(ni[Gt]),Xi.push(on(zi,y,at,H));return new rt(Xi);case"LineString":case"MultiLineString":return Mt=Yt(ni,"LineString"===ri.type?0:1,zn),new Xe(Mt,H);case"Polygon":case"MultiPolygon":return Mt=Yt(ni,"Polygon"===ri.type?1:2,zn),new Be(Mt,H);case"GeometryCollection":for(Gt=0,be=ri.geometries.length;Gt<be;Gt++){var cr=Ii({geometry:ri.geometries[Gt],type:"Feature",properties:y.properties},H);cr&&Xi.push(cr)}return new rt(Xi);case"FeatureCollection":for(Gt=0,be=ri.features.length;Gt<be;Gt++){var kr=Ii(ri.features[Gt],H);kr&&Xi.push(kr)}return new rt(Xi);default:throw new Error("Invalid GeoJSON object.")}}function on(y,H,at,Mt){return y?y(H,at):new Wt(at,Mt&&Mt.markersInheritOptions&&Mt)}function Tt(y){return new Y(y[1],y[0],y[2])}function Yt(y,H,at){for(var Mt,Gt=[],be=0,ri=y.length;be<ri;be++)Mt=H?Yt(y[be],H-1,at):(at||Tt)(y[be]),Gt.push(Mt);return Gt}function pe(y,H){return void 0!==(y=tt(y)).alt?[F(y.lng,H),F(y.lat,H),F(y.alt,H)]:[F(y.lng,H),F(y.lat,H)]}function Pe(y,H,at,Mt){for(var Gt=[],be=0,ri=y.length;be<ri;be++)Gt.push(H?Pe(y[be],qr(y[be])?0:H-1,at,Mt):pe(y[be],Mt));return!H&&at&&Gt.push(Gt[0].slice()),Gt}function Oe(y,H){return y.feature?e({},y.feature,{geometry:H}):ze(H)}function ze(y){return"Feature"===y.type||"FeatureCollection"===y.type?y:{type:"Feature",properties:{},geometry:y}}function Je(y,H){return new Ue(y,H)}Wt.include(Ft={toGeoJSON:function(y){return Oe(this,{type:"Point",coordinates:pe(this.getLatLng(),y)})}}),Me.include(Ft),xe.include(Ft),Xe.include({toGeoJSON:function(y){var H=!qr(this._latlngs);return Oe(this,{type:(H?"Multi":"")+"LineString",coordinates:Pe(this._latlngs,H?1:0,!1,y)})}}),Be.include({toGeoJSON:function(Mt){var H=!qr(this._latlngs),at=H&&!qr(this._latlngs[0]);return Mt=Pe(this._latlngs,at?2:H?1:0,!0,Mt),Oe(this,{type:(at?"Multi":"")+"Polygon",coordinates:Mt=H?Mt:[Mt]})}}),ot.include({toMultiPoint:function(y){var H=[];return this.eachLayer(function(at){H.push(at.toGeoJSON(y).geometry.coordinates)}),Oe(this,{type:"MultiPoint",coordinates:H})},toGeoJSON:function(y){var H,at,Mt=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===Mt?this.toMultiPoint(y):(H="GeometryCollection"===Mt,at=[],this.eachLayer(function(Gt){Gt.toGeoJSON&&(Gt=Gt.toGeoJSON(y),H?at.push(Gt.geometry):"FeatureCollection"===(Gt=ze(Gt)).type?at.push.apply(at,Gt.features):at.push(Gt))}),H?Oe(this,{geometries:at,type:"GeometryCollection"}):{type:"FeatureCollection",features:at})}}),Re=Je;var fi=Z.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(y,H,at){this._url=y,this._bounds=ut(H),a(this,at)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Gi(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yi(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(y){return this.options.opacity=y,this._image&&this._updateOpacity(),this},setStyle:function(y){return y.opacity&&this.setOpacity(y.opacity),this},bringToFront:function(){return this._map&&rn(this._image),this},bringToBack:function(){return this._map&&Yi(this._image),this},setUrl:function(y){return this._url=y,this._image&&(this._image.src=y),this},setBounds:function(y){return this._bounds=ut(y),this._map&&this._reset(),this},getEvents:function(){var y={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(y.zoomanim=this._animateZoom),y},setZIndex:function(y){return this.options.zIndex=y,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var y="IMG"===this._url.tagName,H=this._image=y?this._url:mi("img");Gi(H,"leaflet-image-layer"),this._zoomAnimated&&Gi(H,"leaflet-zoom-animated"),this.options.className&&Gi(H,this.options.className),H.onselectstart=X,H.onmousemove=X,H.onload=c(this.fire,this,"load"),H.onerror=c(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(H.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),y?this._url=H.src:(H.src=this._url,H.alt=this.options.alt)},_animateZoom:function(at){var H=this._map.getZoomScale(at.zoom);at=this._map._latLngBoundsToNewLayerBounds(this._bounds,at.zoom,at.center).min,jt(this._image,at,H)},_reset:function(){var y=this._image,H=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),at=H.getSize();Kt(y,H.min),y.style.width=at.x+"px",y.style.height=at.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var y=this.options.errorOverlayUrl;y&&this._url!==y&&(this._url=y,this._image.src=y)},getCenter:function(){return this._bounds.getCenter()}}),vi=fi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var y="VIDEO"===this._url.tagName,H=this._image=y?this._url:mi("video");if(Gi(H,"leaflet-image-layer"),this._zoomAnimated&&Gi(H,"leaflet-zoom-animated"),this.options.className&&Gi(H,this.options.className),H.onselectstart=X,H.onmousemove=X,H.onloadeddata=c(this.fire,this,"load"),y){for(var at=H.getElementsByTagName("source"),Mt=[],Gt=0;Gt<at.length;Gt++)Mt.push(at[Gt].src);this._url=0<at.length?Mt:[H.src]}else{x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(H.style,"objectFit")&&(H.style.objectFit="fill"),H.autoplay=!!this.options.autoplay,H.loop=!!this.options.loop,H.muted=!!this.options.muted,H.playsInline=!!this.options.playsInline;for(var be=0;be<this._url.length;be++){var ri=mi("source");ri.src=this._url[be],H.appendChild(ri)}}}}),Vi=fi.extend({_initImage:function(){var y=this._image=this._url;Gi(y,"leaflet-image-layer"),this._zoomAnimated&&Gi(y,"leaflet-zoom-animated"),this.options.className&&Gi(y,this.options.className),y.onselectstart=X,y.onmousemove=X}}),cn=Z.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(y,H){y&&(y instanceof Y||x(y))?(this._latlng=tt(y),a(this,H)):(a(this,y),this._source=H),this.options.content&&(this._content=this.options.content)},openOn:function(y){return(y=arguments.length?y:this._source._map).hasLayer(this)||y.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(y){return this._map?this.close():(arguments.length?this._source=y:y=this._source,this._prepareOpen(),this.openOn(y._map)),this},onAdd:function(y){this._zoomAnimated=y._zoomAnimated,this._container||this._initLayout(),y._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),y._fadeAnimated&&gt(this._container,1),this.bringToFront(),this.options.interactive&&(Gi(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(y){y._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(c(yi,void 0,this._container),200)):yi(this._container),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(y){return this._latlng=tt(y),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(y){return this._content=y,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var y={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(y.zoomanim=this._animateZoom),y},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rn(this._container),this},bringToBack:function(){return this._map&&Yi(this._container),this},_prepareOpen:function(y){if(!(at=this._source)._map)return!1;if(at instanceof rt){var H,at=null,Mt=this._source._layers;for(H in Mt)if(Mt[H]._map){at=Mt[H];break}if(!at)return!1;this._source=at}if(!y)if(at.getCenter)y=at.getCenter();else if(at.getLatLng)y=at.getLatLng();else{if(!at.getBounds)throw new Error("Unable to get source layer LatLng.");y=at.getBounds().getCenter()}return this.setLatLng(y),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var y=this._contentNode,H="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof H)y.innerHTML=H;else{for(;y.hasChildNodes();)y.removeChild(y.firstChild);y.appendChild(H)}this.fire("contentupdate")}},_updatePosition:function(){var y,H,at;this._map&&(H=this._map.latLngToLayerPoint(this._latlng),y=V(this.options.offset),at=this._getAnchor(),this._zoomAnimated?Kt(this._container,H.add(at)):y=y.add(H).add(at),H=this._containerBottom=-y.y,at=this._containerLeft=-Math.round(this._containerWidth/2)+y.x,this._container.style.bottom=H+"px",this._container.style.left=at+"px")},_getAnchor:function(){return[0,0]}}),_n=(Wi.include({_initOverlay:function(y,H,at,Mt){var Gt=H;return Gt instanceof y||(Gt=new y(Mt).setContent(H)),at&&Gt.setLatLng(at),Gt}}),Z.include({_initOverlay:function(y,H,at,Mt){var Gt=at;return Gt instanceof y?(a(Gt,Mt),Gt._source=this):(Gt=H&&!Mt?H:new y(Mt,this)).setContent(at),Gt}}),cn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(y){return!(y=arguments.length?y:this._source._map).hasLayer(this)&&y._popup&&y._popup.options.autoClose&&y.removeLayer(y._popup),y._popup=this,cn.prototype.openOn.call(this,y)},onAdd:function(y){cn.prototype.onAdd.call(this,y),y.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qt||this._source.on("preclick",pn))},onRemove:function(y){cn.prototype.onRemove.call(this,y),y.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qt||this._source.off("preclick",pn))},getEvents:function(){var y=cn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(y.preclick=this.close),this.options.keepInView&&(y.moveend=this._adjustPan),y},_initLayout:function(){var y="leaflet-popup",H=this._container=mi("div",y+" "+(this.options.className||"")+" leaflet-zoom-animated"),at=this._wrapper=mi("div",y+"-content-wrapper",H);this._contentNode=mi("div",y+"-content",at),xn(H),Fi(this._contentNode),ii(H,"contextmenu",pn),this._tipContainer=mi("div",y+"-tip-container",H),this._tip=mi("div",y+"-tip",this._tipContainer),this.options.closeButton&&((at=this._closeButton=mi("a",y+"-close-button",H)).setAttribute("role","button"),at.setAttribute("aria-label","Close popup"),at.href="#close",at.innerHTML='<span aria-hidden="true">&#215;</span>',ii(at,"click",function(Mt){tn(Mt),this.close()},this))},_updateLayout:function(){var y=this._contentNode,H=y.style,at=(H.width="",H.whiteSpace="nowrap",y.offsetWidth),Mt=(at=Math.min(at,this.options.maxWidth),at=Math.max(at,this.options.minWidth),H.width=at+1+"px",H.whiteSpace="",H.height="",at=y.offsetHeight,this.options.maxHeight);(Mt&&Mt<at?(H.height=Mt+"px",Gi):Qe)(y,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(H){H=this._map._latLngToNewLayerPoint(this._latlng,H.zoom,H.center);var at=this._getAnchor();Kt(this._container,H.add(at))},_adjustPan:function(){var y,H,at,Mt,Gt,be,ri,ni;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(y=this._map,H=parseInt(ci(this._container,"marginBottom"),10)||0,ni=this._containerWidth,(at=new o(this._containerLeft,-(H=this._container.offsetHeight+H)-this._containerBottom))._add(se(this._container)),at=y.layerPointToContainerPoint(at),Gt=V(this.options.autoPanPadding),Mt=V(this.options.autoPanPaddingTopLeft||Gt),Gt=V(this.options.autoPanPaddingBottomRight||Gt),be=y.getSize(),ri=0,at.x+ni+Gt.x>be.x&&(ri=at.x+ni-be.x+Gt.x),at.x-ri-Mt.x<(ni=0)&&(ri=at.x-Mt.x),at.y+H+Gt.y>be.y&&(ni=at.y+H-be.y+Gt.y),at.y-ni-Mt.y<0&&(ni=at.y-Mt.y),(ri||ni)&&(this.options.keepInView&&(this._autopanning=!0),y.fire("autopanstart").panBy([ri,ni]))))},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),kn=(Wi.mergeOptions({closePopupOnClick:!0}),Wi.include({openPopup:function(y,H,at){return this._initOverlay(_n,y,H,at).openOn(this),this},closePopup:function(y){return(y=arguments.length?y:this._popup)&&y.close(),this}}),Z.include({bindPopup:function(y,H){return this._popup=this._initOverlay(_n,this._popup,y,H),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(y){return this._popup&&(this instanceof rt||(this._popup._source=this),this._popup._prepareOpen(y||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(y){return this._popup&&this._popup.setContent(y),this},getPopup:function(){return this._popup},_openPopup:function(y){var H;this._popup&&this._map&&(An(y),this._popup._source!==(H=y.layer||y.target)||H instanceof Qt?(this._popup._source=H,this.openPopup(y.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(y.latlng))},_movePopup:function(y){this._popup.setLatLng(y.latlng)},_onKeyPress:function(y){13===y.originalEvent.keyCode&&this._openPopup(y)}}),cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(y){cn.prototype.onAdd.call(this,y),this.setOpacity(this.options.opacity),y.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(y){cn.prototype.onRemove.call(this,y),y.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var y=cn.prototype.getEvents.call(this);return this.options.permanent||(y.preclick=this.close),y},_initLayout:function(){this._contentNode=this._container=mi("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+M(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(y){var H,at=this._container,Mt=(zi=this._map).latLngToContainerPoint(zi.getCenter()),zi=zi.layerPointToContainerPoint(y),Gt=this.options.direction,be=at.offsetWidth,ri=at.offsetHeight,ni=V(this.options.offset),Xi=this._getAnchor();zi="top"===Gt?(H=be/2,ri):"bottom"===Gt?(H=be/2,0):(H="center"===Gt?be/2:"right"===Gt?0:"left"===Gt?be:zi.x<Mt.x?(Gt="right",0):(Gt="left",be+2*(ni.x+Xi.x)),ri/2),y=y.subtract(V(H,zi,!0)).add(ni).add(Xi),Qe(at,"leaflet-tooltip-right"),Qe(at,"leaflet-tooltip-left"),Qe(at,"leaflet-tooltip-top"),Qe(at,"leaflet-tooltip-bottom"),Gi(at,"leaflet-tooltip-"+Gt),Kt(at,y)},_updatePosition:function(){var y=this._map.latLngToLayerPoint(this._latlng);this._setPosition(y)},setOpacity:function(y){this.options.opacity=y,this._container&&gt(this._container,y)},_animateZoom:function(y){y=this._map._latLngToNewLayerPoint(this._latlng,y.zoom,y.center),this._setPosition(y)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),Ln=(Wi.include({openTooltip:function(y,H,at){return this._initOverlay(kn,y,H,at).openOn(this),this},closeTooltip:function(y){return y.close(),this}}),Z.include({bindTooltip:function(y,H){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(kn,this._tooltip,y,H),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(y){var H,at;!y&&this._tooltipHandlersAdded||(H=y?"off":"on",at={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?at.add=this._openTooltip:(at.mouseover=this._openTooltip,at.mouseout=this.closeTooltip,at.click=this._openTooltip,this._map?this._addFocusListeners():at.add=this._addFocusListeners),this._tooltip.options.sticky&&(at.mousemove=this._moveTooltip),this[H](at),this._tooltipHandlersAdded=!y)},openTooltip:function(y){return this._tooltip&&(this instanceof rt||(this._tooltip._source=this),this._tooltip._prepareOpen(y)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(y){return this._tooltip&&this._tooltip.setContent(y),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(y){var H=y.getElement();H&&(ii(H,"focus",function(){this._tooltip._source=y,this.openTooltip()},this),ii(H,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(y){(y=y.getElement())&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(y){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=y.layer||y.target,this.openTooltip(this._tooltip.options.sticky?y.latlng:void 0))},_moveTooltip:function(y){var H=y.latlng;this._tooltip.options.sticky&&y.originalEvent&&(y=this._map.mouseEventToContainerPoint(y.originalEvent),y=this._map.containerPointToLayerPoint(y),H=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(H)}}),_t.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(H){H=H&&"DIV"===H.tagName?H:document.createElement("div");var at=this.options;return at.html instanceof Element?($i(H),H.appendChild(at.html)):H.innerHTML=!1!==at.html?at.html:"",at.bgPos&&(at=V(at.bgPos),H.style.backgroundPosition=-at.x+"px "+-at.y+"px"),this._setIconStyles(H,"icon"),H},createShadow:function(){return null}}));_t.Default=Et;var zr=Z.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(y){a(this,y)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(y){y._addZoomLimit(this)},onRemove:function(y){this._removeAllTiles(),yi(this._container),y._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(y){return this.options.opacity=y,this._updateOpacity(),this},setZIndex:function(y){return this.options.zIndex=y,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var y;return this._map&&(this._removeAllTiles(),(y=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=y,this._updateLevels()),this._update()),this},getEvents:function(){var y={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=U(this._onMoveEnd,this.options.updateInterval,this)),y.move=this._onMove),this._zoomAnimated&&(y.zoomanim=this._animateZoom),y},createTile:function(){return document.createElement("div")},getTileSize:function(){var y=this.options.tileSize;return y instanceof o?y:new o(y,y)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(y){for(var H,at=this.getPane().children,Mt=-y(-1/0,1/0),Gt=0,be=at.length;Gt<be;Gt++)H=at[Gt].style.zIndex,at[Gt]!==this._container&&H&&(Mt=y(Mt,+H));isFinite(Mt)&&(this.options.zIndex=Mt+y(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){gt(this._container,this.options.opacity);var y,H=+new Date,at=!1,Mt=!1;for(y in this._tiles){var Gt,be=this._tiles[y];be.current&&be.loaded&&(Gt=Math.min(1,(H-be.loaded)/200),gt(be.el,Gt),Gt<1?at=!0:(be.active?Mt=!0:this._onOpaqueTile(be),be.active=!0))}Mt&&!this._noPrune&&this._pruneTiles(),at&&(m(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:X,_initContainer:function(){this._container||(this._container=mi("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var y=this._tileZoom,H=this.options.maxZoom;if(void 0!==y){for(var at in this._levels)at=Number(at),this._levels[at].el.children.length||at===y?(this._levels[at].el.style.zIndex=H-Math.abs(y-at),this._onUpdateLevel(at)):(yi(this._levels[at].el),this._removeTilesAtZoom(at),this._onRemoveLevel(at),delete this._levels[at]);var Mt=this._levels[y],Gt=this._map;return Mt||((Mt=this._levels[y]={}).el=mi("div","leaflet-tile-container leaflet-zoom-animated",this._container),Mt.el.style.zIndex=H,Mt.origin=Gt.project(Gt.unproject(Gt.getPixelOrigin()),y).round(),Mt.zoom=y,this._setZoomTransform(Mt,Gt.getCenter(),Gt.getZoom()),this._onCreateLevel(Mt)),this._level=Mt}},_onUpdateLevel:X,_onRemoveLevel:X,_onCreateLevel:X,_pruneTiles:function(){if(this._map){var y,H,at,Mt=this._map.getZoom();if(Mt>this.options.maxZoom||Mt<this.options.minZoom)this._removeAllTiles();else{for(y in this._tiles)(at=this._tiles[y]).retain=at.current;for(y in this._tiles)(at=this._tiles[y]).current&&!at.active&&(this._retainParent((H=at.coords).x,H.y,H.z,H.z-5)||this._retainChildren(H.x,H.y,H.z,H.z+2));for(y in this._tiles)this._tiles[y].retain||this._removeTile(y)}}},_removeTilesAtZoom:function(y){for(var H in this._tiles)this._tiles[H].coords.z===y&&this._removeTile(H)},_removeAllTiles:function(){for(var y in this._tiles)this._removeTile(y)},_invalidateAll:function(){for(var y in this._levels)yi(this._levels[y].el),this._onRemoveLevel(Number(y)),delete this._levels[y];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(Gt,be,ri,Mt){ri-=1;var ni=((ni=new o(+(Gt=Math.floor(Gt/2)),+(be=Math.floor(be/2)))).z=ri,this._tileCoordsToKey(ni));return(ni=this._tiles[ni])&&ni.active?ni.retain=!0:(ni&&ni.loaded&&(ni.retain=!0),Mt<ri&&this._retainParent(Gt,be,ri,Mt))},_retainChildren:function(y,H,at,Mt){for(var Gt=2*y;Gt<2*y+2;Gt++)for(var be=2*H;be<2*H+2;be++){var ri=((ri=new o(Gt,be)).z=at+1,this._tileCoordsToKey(ri));(ri=this._tiles[ri])&&ri.active?ri.retain=!0:(ri&&ri.loaded&&(ri.retain=!0),at+1<Mt&&this._retainChildren(Gt,be,at+1,Mt))}},_resetView:function(y){y=y&&(y.pinch||y.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(y){this._setView(y.center,y.zoom,!0,y.noUpdate)},_clampZoom:function(y){var H=this.options;return void 0!==H.minNativeZoom&&y<H.minNativeZoom?H.minNativeZoom:void 0!==H.maxNativeZoom&&H.maxNativeZoom<y?H.maxNativeZoom:y},_setView:function(y,H,at,Mt){var Gt=Math.round(H);Gt=void 0!==this.options.maxZoom&&Gt>this.options.maxZoom||void 0!==this.options.minZoom&&Gt<this.options.minZoom?void 0:this._clampZoom(Gt),Mt&&!(this.options.updateWhenZooming&&Gt!==this._tileZoom)||(this._tileZoom=Gt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Gt&&this._update(y),at||this._pruneTiles(),this._noPrune=!!at),this._setZoomTransforms(y,H)},_setZoomTransforms:function(y,H){for(var at in this._levels)this._setZoomTransform(this._levels[at],y,H)},_setZoomTransform:function(y,Gt,at){var Mt=this._map.getZoomScale(at,y.zoom);Gt=y.origin.multiplyBy(Mt).subtract(this._map._getNewPixelOrigin(Gt,at)).round(),le.any3d?jt(y.el,Gt,Mt):Kt(y.el,Gt)},_resetGrid:function(){var y=this._map,H=y.options.crs,at=this._tileSize=this.getTileSize(),Mt=this._tileZoom,Gt=this._map.getPixelWorldBounds(this._tileZoom);Gt&&(this._globalTileRange=this._pxBoundsToTileRange(Gt)),this._wrapX=H.wrapLng&&!this.options.noWrap&&[Math.floor(y.project([0,H.wrapLng[0]],Mt).x/at.x),Math.ceil(y.project([0,H.wrapLng[1]],Mt).x/at.y)],this._wrapY=H.wrapLat&&!this.options.noWrap&&[Math.floor(y.project([H.wrapLat[0],0],Mt).y/at.x),Math.ceil(y.project([H.wrapLat[1],0],Mt).y/at.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(at){var H=(Mt=this._map)._animatingZoom?Math.max(Mt._animateToZoom,Mt.getZoom()):Mt.getZoom(),Mt=(H=Mt.getZoomScale(H,this._tileZoom),at=Mt.project(at,this._tileZoom).floor(),Mt.getSize().divideBy(2*H));return new q(at.subtract(Mt),at.add(Mt))},_update:function(y){if(H=this._map){var at=this._clampZoom(H.getZoom());if(void 0===y&&(y=H.getCenter()),void 0!==this._tileZoom){var Mt,H=this._getTiledPixelBounds(y),Gt=this._pxBoundsToTileRange(H),be=Gt.getCenter(),ri=[],ni=(H=this.options.keepBuffer,new q(Gt.getBottomLeft().subtract([H,-H]),Gt.getTopRight().add([H,-H])));if(!(isFinite(Gt.min.x)&&isFinite(Gt.min.y)&&isFinite(Gt.max.x)&&isFinite(Gt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(Mt in this._tiles){var Xi=this._tiles[Mt].coords;Xi.z===this._tileZoom&&ni.contains(new o(Xi.x,Xi.y))||(this._tiles[Mt].current=!1)}if(1<Math.abs(at-this._tileZoom))this._setView(y,at);else{for(var zi=Gt.min.y;zi<=Gt.max.y;zi++)for(var zn=Gt.min.x;zn<=Gt.max.x;zn++){var cr,kr=new o(zn,zi);kr.z=this._tileZoom,this._isValidTile(kr)&&((cr=this._tiles[this._tileCoordsToKey(kr)])?cr.current=!0:ri.push(kr))}if(ri.sort(function(Wo,Do){return Wo.distanceTo(be)-Do.distanceTo(be)}),0!==ri.length){this._loading||(this._loading=!0,this.fire("loading"));var go=document.createDocumentFragment();for(zn=0;zn<ri.length;zn++)this._addTile(ri[zn],go);this._level.el.appendChild(go)}}}}},_isValidTile:function(y){var H=this._map.options.crs;if(!H.infinite){var at=this._globalTileRange;if(!H.wrapLng&&(y.x<at.min.x||y.x>at.max.x)||!H.wrapLat&&(y.y<at.min.y||y.y>at.max.y))return!1}return!this.options.bounds||(H=this._tileCoordsToBounds(y),ut(this.options.bounds).overlaps(H))},_keyToBounds:function(y){return this._tileCoordsToBounds(this._keyToTileCoords(y))},_tileCoordsToNwSe:function(y){var H=this._map,Mt=this.getTileSize(),at=y.scaleBy(Mt);return Mt=at.add(Mt),[H.unproject(at,y.z),H.unproject(Mt,y.z)]},_tileCoordsToBounds:function(y){return y=new yt((y=this._tileCoordsToNwSe(y))[0],y[1]),this.options.noWrap?y:this._map.wrapLatLngBounds(y)},_tileCoordsToKey:function(y){return y.x+":"+y.y+":"+y.z},_keyToTileCoords:function(H){var at=new o(+(H=H.split(":"))[0],+H[1]);return at.z=+H[2],at},_removeTile:function(y){var H=this._tiles[y];H&&(yi(H.el),delete this._tiles[y],this.fire("tileunload",{tile:H.el,coords:this._keyToTileCoords(y)}))},_initTile:function(y){Gi(y,"leaflet-tile");var H=this.getTileSize();y.style.width=H.x+"px",y.style.height=H.y+"px",y.onselectstart=X,y.onmousemove=X,le.ielt9&&this.options.opacity<1&&gt(y,this.options.opacity)},_addTile:function(y,H){var at=this._getTilePos(y),Mt=this._tileCoordsToKey(y),Gt=this.createTile(this._wrapCoords(y),c(this._tileReady,this,y));this._initTile(Gt),this.createTile.length<2&&O(c(this._tileReady,this,y,null,Gt)),Kt(Gt,at),this._tiles[Mt]={el:Gt,coords:y,current:!0},H.appendChild(Gt),this.fire("tileloadstart",{tile:Gt,coords:y})},_tileReady:function(y,H,at){H&&this.fire("tileerror",{error:H,tile:at,coords:y});var Mt=this._tileCoordsToKey(y);(at=this._tiles[Mt])&&(at.loaded=+new Date,this._map._fadeAnimated?(gt(at.el,0),m(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(at.active=!0,this._pruneTiles()),H||(Gi(at.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:at.el,coords:y})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(y){return y.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(y){var H=new o(this._wrapX?G(y.x,this._wrapX):y.x,this._wrapY?G(y.y,this._wrapY):y.y);return H.z=y.z,H},_pxBoundsToTileRange:function(y){var H=this.getTileSize();return new q(y.min.unscaleBy(H).floor(),y.max.unscaleBy(H).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var y in this._tiles)if(!this._tiles[y].loaded)return!1;return!0}}),Cr=zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(y,H){this._url=y,(H=a(this,H)).detectRetina&&le.retina&&0<H.maxZoom?(H.tileSize=Math.floor(H.tileSize/2),H.zoomReverse?(H.zoomOffset--,H.minZoom=Math.min(H.maxZoom,H.minZoom+1)):(H.zoomOffset++,H.maxZoom=Math.max(H.minZoom,H.maxZoom-1)),H.minZoom=Math.max(0,H.minZoom)):H.zoomReverse?H.minZoom=Math.min(H.maxZoom,H.minZoom):H.maxZoom=Math.max(H.minZoom,H.maxZoom),"string"==typeof H.subdomains&&(H.subdomains=H.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(y,H){return this._url===y&&void 0===H&&(H=!0),this._url=y,H||this.redraw(),this},createTile:function(y,H){var at=document.createElement("img");return ii(at,"load",c(this._tileOnLoad,this,H,at)),ii(at,"error",c(this._tileOnError,this,H,at)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(at.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(at.referrerPolicy=this.options.referrerPolicy),at.alt="",at.src=this.getTileUrl(y),at},getTileUrl:function(y){var H={r:le.retina?"@2x":"",s:this._getSubdomain(y),x:y.x,y:y.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(y=this._globalTileRange.max.y-y.y,this.options.tms&&(H.y=y),H["-y"]=y),p(this._url,e(H,this.options))},_tileOnLoad:function(y,H){le.ielt9?setTimeout(c(y,this,null,H),0):y(null,H)},_tileOnError:function(y,H,at){var Mt=this.options.errorTileUrl;Mt&&H.getAttribute("src")!==Mt&&(H.src=Mt),y(at,H)},_onTileRemove:function(y){y.tile.onload=null},_getZoomForUrl:function(){var y=this._tileZoom;return(y=this.options.zoomReverse?this.options.maxZoom-y:y)+this.options.zoomOffset},_getSubdomain:function(y){return y=Math.abs(y.x+y.y)%this.options.subdomains.length,this.options.subdomains[y]},_abortLoading:function(){var y,H,at;for(y in this._tiles)this._tiles[y].coords.z!==this._tileZoom&&((at=this._tiles[y].el).onload=X,at.onerror=X,at.complete||(at.src=b,H=this._tiles[y].coords,yi(at),delete this._tiles[y],this.fire("tileabort",{tile:at,coords:H})))},_removeTile:function(y){var H=this._tiles[y];if(H)return H.el.setAttribute("src",b),zr.prototype._removeTile.call(this,y)},_tileReady:function(y,H,at){if(this._map&&(!at||at.getAttribute("src")!==b))return zr.prototype._tileReady.call(this,y,H,at)}});function Ar(y,H){return new Cr(y,H)}var so=Cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(Gt,H){this._url=Gt;var at,Mt=e({},this.defaultWmsParams);for(at in H)at in this.options||(Mt[at]=H[at]);Gt=(H=a(this,H)).detectRetina&&le.retina?2:1;var be=this.getTileSize();Mt.width=be.x*Gt,Mt.height=be.y*Gt,this.wmsParams=Mt},onAdd:function(y){this._crs=this.options.crs||y.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code,Cr.prototype.onAdd.call(this,y)},getTileUrl:function(y){var H=this._tileCoordsToNwSe(y),at=(H=(at=nt((at=this._crs).project(H[0]),at.project(H[1]))).min,at.max);return H=(1.3<=this._wmsVersion&&this._crs===It?[H.y,H.x,at.y,at.x]:[H.x,H.y,at.x,at.y]).join(","),(at=Cr.prototype.getTileUrl.call(this,y))+h(this.wmsParams,at,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(y,H){return e(this.wmsParams,y),H||this.redraw(),this}});Cr.WMS=so,Ar.wms=function(y,H){return new so(y,H)};var mr=Z.extend({options:{padding:.1},initialize:function(y){a(this,y),M(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Gi(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var y={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(y.zoomanim=this._onAnimZoom),y},_onAnimZoom:function(y){this._updateTransform(y.center,y.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(y,H){var at=this._map.getZoomScale(H,this._zoom),Gt=this._map.getSize().multiplyBy(.5+this.options.padding),Mt=this._map.project(this._center,H);Gt=Gt.multiplyBy(-at).add(Mt).subtract(this._map._getNewPixelOrigin(y,H)),le.any3d?jt(this._container,Gt,at):Kt(this._container,Gt)},_reset:function(){for(var y in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[y]._reset()},_onZoomEnd:function(){for(var y in this._layers)this._layers[y]._project()},_updatePaths:function(){for(var y in this._layers)this._layers[y]._update()},_update:function(){var y=this.options.padding,H=this._map.getSize(),at=this._map.containerPointToLayerPoint(H.multiplyBy(-y)).round();this._bounds=new q(at,at.add(H.multiplyBy(1+2*y)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),no=mr.extend({options:{tolerance:0},getEvents:function(){var y=mr.prototype.getEvents.call(this);return y.viewprereset=this._onViewPreReset,y},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var y=this._container=document.createElement("canvas");ii(y,"mousemove",this._onMouseMove,this),ii(y,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ii(y,"mouseout",this._handleMouseOut,this),y._leaflet_disable_events=!0,this._ctx=y.getContext("2d")},_destroyContainer:function(){m(this._redrawRequest),delete this._ctx,yi(this._container),wi(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var y in this._redrawBounds=null,this._layers)this._layers[y]._update();this._redraw()}},_update:function(){var y,H,at,Mt;this._map._animatingZoom&&this._bounds||(mr.prototype._update.call(this),H=this._container,at=(y=this._bounds).getSize(),Mt=le.retina?2:1,Kt(H,y.min),H.width=Mt*at.x,H.height=Mt*at.y,H.style.width=at.x+"px",H.style.height=at.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-y.min.x,-y.min.y),this.fire("update"))},_reset:function(){mr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(y){this._updateDashArray(y),y=(this._layers[M(y)]=y)._order={layer:y,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(y){this._requestRedraw(y)},_removePath:function(y){var H=(at=y._order).next,at=at.prev;H?H.prev=at:this._drawLast=at,at?at.next=H:this._drawFirst=H,delete y._order,delete this._layers[M(y)],this._requestRedraw(y)},_updatePath:function(y){this._extendRedrawBounds(y),y._project(),y._update(),this._requestRedraw(y)},_updateStyle:function(y){this._updateDashArray(y),this._requestRedraw(y)},_updateDashArray:function(y){if("string"==typeof y.options.dashArray){for(var H,at=y.options.dashArray.split(/[, ]+/),Mt=[],Gt=0;Gt<at.length;Gt++){if(H=Number(at[Gt]),isNaN(H))return;Mt.push(H)}y.options._dashArray=Mt}else y.options._dashArray=y.options.dashArray},_requestRedraw:function(y){this._map&&(this._extendRedrawBounds(y),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(y){var H;y._pxBounds&&(H=(y.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(y._pxBounds.min.subtract([H,H])),this._redrawBounds.extend(y._pxBounds.max.add([H,H])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var y,H=this._redrawBounds;H?(y=H.getSize(),this._ctx.clearRect(H.min.x,H.min.y,y.x,y.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var y,H,at=this._redrawBounds;this._ctx.save(),at&&(H=at.getSize(),this._ctx.beginPath(),this._ctx.rect(at.min.x,at.min.y,H.x,H.y),this._ctx.clip()),this._drawing=!0;for(var Mt=this._drawFirst;Mt;Mt=Mt.next)y=Mt.layer,(!at||y._pxBounds&&y._pxBounds.intersects(at))&&y._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(y,H){if(this._drawing){var at,Mt,Gt,be,ri=y._parts,ni=ri.length,Xi=this._ctx;if(ni){for(Xi.beginPath(),at=0;at<ni;at++){for(Mt=0,Gt=ri[at].length;Mt<Gt;Mt++)Xi[Mt?"lineTo":"moveTo"]((be=ri[at][Mt]).x,be.y);H&&Xi.closePath()}this._fillStroke(Xi,y)}}},_updateCircle:function(y){var H,at,Mt,Gt;this._drawing&&!y._empty()&&(H=y._point,at=this._ctx,Mt=Math.max(Math.round(y._radius),1),1!=(Gt=(Math.max(Math.round(y._radiusY),1)||Mt)/Mt)&&(at.save(),at.scale(1,Gt)),at.beginPath(),at.arc(H.x,H.y/Gt,Mt,0,2*Math.PI,!1),1!=Gt&&at.restore(),this._fillStroke(at,y))},_fillStroke:function(y,H){var at=H.options;at.fill&&(y.globalAlpha=at.fillOpacity,y.fillStyle=at.fillColor||at.color,y.fill(at.fillRule||"evenodd")),at.stroke&&0!==at.weight&&(y.setLineDash&&y.setLineDash(H.options&&H.options._dashArray||[]),y.globalAlpha=at.opacity,y.lineWidth=at.weight,y.strokeStyle=at.color,y.lineCap=at.lineCap,y.lineJoin=at.lineJoin,y.stroke())},_onClick:function(y){for(var H,at,Mt=this._map.mouseEventToLayerPoint(y),Gt=this._drawFirst;Gt;Gt=Gt.next)(H=Gt.layer).options.interactive&&H._containsPoint(Mt)&&(("click"===y.type||"preclick"===y.type)&&this._map._draggableMoved(H)||(at=H));this._fireEvent(!!at&&[at],y)},_onMouseMove:function(y){var H;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(H=this._map.mouseEventToLayerPoint(y),this._handleMouseHover(y,H))},_handleMouseOut:function(y){var H=this._hoveredLayer;H&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([H],y,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(y,H){if(!this._mouseHoverThrottled){for(var at,Mt,Gt=this._drawFirst;Gt;Gt=Gt.next)(at=Gt.layer).options.interactive&&at._containsPoint(H)&&(Mt=at);Mt!==this._hoveredLayer&&(this._handleMouseOut(y),Mt&&(Gi(this._container,"leaflet-interactive"),this._fireEvent([Mt],y,"mouseover"),this._hoveredLayer=Mt)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],y),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(y,H,at){this._map._fireDOMEvent(H,at||H.type,y)},_bringToFront:function(y){var H,at,Mt=y._order;Mt&&(at=Mt.prev,(H=Mt.next)&&((H.prev=at)?at.next=H:H&&(this._drawFirst=H),Mt.prev=this._drawLast,(this._drawLast.next=Mt).next=null,this._drawLast=Mt,this._requestRedraw(y)))},_bringToBack:function(y){var H,at,Mt=y._order;Mt&&(H=Mt.next,(at=Mt.prev)&&((at.next=H)?H.prev=at:at&&(this._drawLast=at),Mt.prev=null,Mt.next=this._drawFirst,this._drawFirst.prev=Mt,this._drawFirst=Mt,this._requestRedraw(y)))}});function $n(y){return le.canvas?new no(y):null}var Pr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(y){return document.createElement("<lvml:"+y+' class="lvml">')}}catch{}return function(y){return document.createElement("<"+y+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),No=(to={_initContainer:function(){this._container=mi("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mr.prototype._update.call(this),this.fire("update"))},_initPath:function(y){var H=y._container=Pr("shape");Gi(H,"leaflet-vml-shape "+(this.options.className||"")),H.coordsize="1 1",y._path=Pr("path"),H.appendChild(y._path),this._updateStyle(y),this._layers[M(y)]=y},_addPath:function(y){var H=y._container;this._container.appendChild(H),y.options.interactive&&y.addInteractiveTarget(H)},_removePath:function(y){var H=y._container;yi(H),y.removeInteractiveTarget(H),delete this._layers[M(y)]},_updateStyle:function(y){var H=y._stroke,at=y._fill,Mt=y.options,Gt=y._container;Gt.stroked=!!Mt.stroke,Gt.filled=!!Mt.fill,Mt.stroke?(H=H||(y._stroke=Pr("stroke")),Gt.appendChild(H),H.weight=Mt.weight+"px",H.color=Mt.color,H.opacity=Mt.opacity,H.dashStyle=Mt.dashArray?x(Mt.dashArray)?Mt.dashArray.join(" "):Mt.dashArray.replace(/( *, *)/g," "):"",H.endcap=Mt.lineCap.replace("butt","flat"),H.joinstyle=Mt.lineJoin):H&&(Gt.removeChild(H),y._stroke=null),Mt.fill?(at=at||(y._fill=Pr("fill")),Gt.appendChild(at),at.color=Mt.fillColor||Mt.color,at.opacity=Mt.fillOpacity):at&&(Gt.removeChild(at),y._fill=null)},_updateCircle:function(y){var H=y._point.round(),at=Math.round(y._radius),Mt=Math.round(y._radiusY||at);this._setPath(y,y._empty()?"M0 0":"AL "+H.x+","+H.y+" "+at+","+Mt+" 0,23592600")},_setPath:function(y,H){y._path.v=H},_bringToFront:function(y){rn(y._container)},_bringToBack:function(y){Yi(y._container)}},le.vml?Pr:Ct),uo=mr.extend({_initContainer:function(){this._container=No("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=No("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yi(this._container),wi(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var y,H,at;this._map._animatingZoom&&this._bounds||(mr.prototype._update.call(this),H=(y=this._bounds).getSize(),at=this._container,this._svgSize&&this._svgSize.equals(H)||(this._svgSize=H,at.setAttribute("width",H.x),at.setAttribute("height",H.y)),Kt(at,y.min),at.setAttribute("viewBox",[y.min.x,y.min.y,H.x,H.y].join(" ")),this.fire("update"))},_initPath:function(y){var H=y._path=No("path");y.options.className&&Gi(H,y.options.className),y.options.interactive&&Gi(H,"leaflet-interactive"),this._updateStyle(y),this._layers[M(y)]=y},_addPath:function(y){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(y._path),y.addInteractiveTarget(y._path)},_removePath:function(y){yi(y._path),y.removeInteractiveTarget(y._path),delete this._layers[M(y)]},_updatePath:function(y){y._project(),y._update()},_updateStyle:function(at){var H=at._path;at=at.options,H&&(at.stroke?(H.setAttribute("stroke",at.color),H.setAttribute("stroke-opacity",at.opacity),H.setAttribute("stroke-width",at.weight),H.setAttribute("stroke-linecap",at.lineCap),H.setAttribute("stroke-linejoin",at.lineJoin),at.dashArray?H.setAttribute("stroke-dasharray",at.dashArray):H.removeAttribute("stroke-dasharray"),at.dashOffset?H.setAttribute("stroke-dashoffset",at.dashOffset):H.removeAttribute("stroke-dashoffset")):H.setAttribute("stroke","none"),at.fill?(H.setAttribute("fill",at.fillColor||at.color),H.setAttribute("fill-opacity",at.fillOpacity),H.setAttribute("fill-rule",at.fillRule||"evenodd")):H.setAttribute("fill","none"))},_updatePoly:function(y,H){this._setPath(y,vt(y._parts,H))},_updateCircle:function(y){var Mt=y._point,H=Math.max(Math.round(y._radius),1),at="a"+H+","+(Math.max(Math.round(y._radiusY),1)||H)+" 0 1,0 ";Mt=y._empty()?"M0 0":"M"+(Mt.x-H)+","+Mt.y+at+2*H+",0 "+at+2*-H+",0 ",this._setPath(y,Mt)},_setPath:function(y,H){y._path.setAttribute("d",H)},_bringToFront:function(y){rn(y._path)},_bringToBack:function(y){Yi(y._path)}});function yr(y){return le.svg||le.vml?new uo(y):null}le.vml&&uo.include(to),Wi.include({getRenderer:function(y){return y=(y=y.options.renderer||this._getPaneRenderer(y.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(y){var H;return"overlayPane"!==y&&void 0!==y&&(void 0===(H=this._paneRenderers[y])&&(H=this._createRenderer({pane:y}),this._paneRenderers[y]=H),H)},_createRenderer:function(y){return this.options.preferCanvas&&$n(y)||yr(y)}});var Gs=Be.extend({initialize:function(y,H){Be.prototype.initialize.call(this,this._boundsToLatLngs(y),H)},setBounds:function(y){return this.setLatLngs(this._boundsToLatLngs(y))},_boundsToLatLngs:function(y){return[(y=ut(y)).getSouthWest(),y.getNorthWest(),y.getNorthEast(),y.getSouthEast()]}});uo.create=No,uo.pointsToPath=vt,Ue.geometryToLayer=Ii,Ue.coordsToLatLng=Tt,Ue.coordsToLatLngs=Yt,Ue.latLngToCoords=pe,Ue.latLngsToCoords=Pe,Ue.getFeature=Oe,Ue.asFeature=ze,Wi.mergeOptions({boxZoom:!0}),qo=Nr.extend({initialize:function(y){this._map=y,this._container=y._container,this._pane=y._panes.overlayPane,this._resetStateTimeout=0,y.on("unload",this._destroy,this)},addHooks:function(){ii(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wi(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yi(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(y){if(!y.shiftKey||1!==y.which&&1!==y.button)return!1;this._clearDeferredResetState(),this._resetState(),Ci(),ie(),this._startPoint=this._map.mouseEventToContainerPoint(y),ii(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(H){this._moved||(this._moved=!0,this._box=mi("div","leaflet-zoom-box",this._container),Gi(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(H);var at=(H=new q(this._point,this._startPoint)).getSize();Kt(this._box,H.min),this._box.style.width=at.x+"px",this._box.style.height=at.y+"px"},_finish:function(){this._moved&&(yi(this._box),Qe(this._container,"leaflet-crosshair")),Hi(),fe(),wi(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(y){1!==y.which&&1!==y.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0),y=new yt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})))},_onKeyDown:function(y){27===y.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),Wi.addInitHook("addHandler","boxZoom",qo),Wi.mergeOptions({doubleClickZoom:!0}),ss=Nr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(y){var H=this._map,Mt=H.getZoom(),at=H.options.zoomDelta;Mt=y.originalEvent.shiftKey?Mt-at:Mt+at,"center"===H.options.doubleClickZoom?H.setZoom(Mt):H.setZoomAround(y.containerPoint,Mt)}});var Ds=(Wi.addInitHook("addHandler","doubleClickZoom",ss),Wi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),Nr.extend({addHooks:function(){var y;this._draggable||(this._draggable=new jr((y=this._map)._mapPane,y._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),y.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),y.on("zoomend",this._onZoomEnd,this),y.whenReady(this._onZoomEnd,this))),Gi(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qe(this._map._container,"leaflet-grab"),Qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var y,H=this._map;H._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(y=ut(this._map.options.maxBounds),this._offsetLimit=nt(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,H.fire("movestart").fire("dragstart"),H.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(y){var H,at;this._map.options.inertia&&(H=this._lastTime=+new Date,at=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(at),this._times.push(H),this._prunePositions(H)),this._map.fire("move",y).fire("drag",y)},_prunePositions:function(y){for(;1<this._positions.length&&50<y-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var y=this._map.getSize().divideBy(2),H=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=H.subtract(y).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(y,H){return y-(y-H)*this._viscosity},_onPreDragLimit:function(){var y,H;this._viscosity&&this._offsetLimit&&((y=this._draggable._newPos.subtract(this._draggable._startPos)).x<(H=this._offsetLimit).min.x&&(y.x=this._viscousLimit(y.x,H.min.x)),y.y<H.min.y&&(y.y=this._viscousLimit(y.y,H.min.y)),y.x>H.max.x&&(y.x=this._viscousLimit(y.x,H.max.x)),y.y>H.max.y&&(y.y=this._viscousLimit(y.y,H.max.y)),this._draggable._newPos=this._draggable._startPos.add(y))},_onPreDragWrap:function(){var Gt=this._worldWidth,y=Math.round(Gt/2),H=this._initialWorldOffset,at=((Mt=this._draggable._newPos.x)-y+H)%Gt+y-H,Mt=(Mt+y+H)%Gt-y-H;Gt=Math.abs(at+H)<Math.abs(Mt+H)?at:Mt,this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Gt},_onDragEnd:function(y){var H,at,Mt,Gt,be=this._map,ri=be.options,ni=!ri.inertia||y.noInertia||this._times.length<2;be.fire("dragend",y),!ni&&(this._prunePositions(+new Date),ni=(y=(y=this._lastPos.subtract(this._positions[0])).multiplyBy((H=ri.easeLinearity)/(ni=(this._lastTime-this._times[0])/1e3))).distanceTo([0,0]),at=Math.min(ri.inertiaMaxSpeed,ni),y=y.multiplyBy(at/ni),(Gt=y.multiplyBy(-(Mt=at/(ri.inertiaDeceleration*H))/2).round()).x||Gt.y)?(Gt=be._limitOffset(Gt,be.options.maxBounds),O(function(){be.panBy(Gt,{duration:Mt,easeLinearity:H,noMoveStart:!0,animate:!0})})):be.fire("moveend")}})),Ws=(Wi.addInitHook("addHandler","dragging",Ds),Wi.mergeOptions({keyboard:!0,keyboardPanDelta:80}),sa=Nr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(y){this._map=y,this._setPanDelta(y.options.keyboardPanDelta),this._setZoomDelta(y.options.zoomDelta)},addHooks:function(){var y=this._map._container;y.tabIndex<=0&&(y.tabIndex="0"),ii(y,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wi(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var y,H,at;this._focused||(at=document.body,y=document.documentElement,H=at.scrollTop||y.scrollTop,at=at.scrollLeft||y.scrollLeft,this._map._container.focus(),window.scrollTo(at,H))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(y){for(var H=this._panKeys={},at=this.keyCodes,Mt=0,Gt=at.left.length;Mt<Gt;Mt++)H[at.left[Mt]]=[-1*y,0];for(Mt=0,Gt=at.right.length;Mt<Gt;Mt++)H[at.right[Mt]]=[y,0];for(Mt=0,Gt=at.down.length;Mt<Gt;Mt++)H[at.down[Mt]]=[0,y];for(Mt=0,Gt=at.up.length;Mt<Gt;Mt++)H[at.up[Mt]]=[0,-1*y]},_setZoomDelta:function(y){for(var H=this._zoomKeys={},at=this.keyCodes,Mt=0,Gt=at.zoomIn.length;Mt<Gt;Mt++)H[at.zoomIn[Mt]]=y;for(Mt=0,Gt=at.zoomOut.length;Mt<Gt;Mt++)H[at.zoomOut[Mt]]=-y},_addHooks:function(){ii(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wi(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(y){if(!(y.altKey||y.ctrlKey||y.metaKey)){var H,at,Mt=y.keyCode,Gt=this._map;if(Mt in this._panKeys)Gt._panAnim&&Gt._panAnim._inProgress||(at=this._panKeys[Mt],y.shiftKey&&(at=V(at).multiplyBy(3)),Gt.options.maxBounds&&(at=Gt._limitOffset(V(at),Gt.options.maxBounds)),Gt.options.worldCopyJump?(H=Gt.wrapLatLng(Gt.unproject(Gt.project(Gt.getCenter()).add(at))),Gt.panTo(H)):Gt.panBy(at));else if(Mt in this._zoomKeys)Gt.setZoom(Gt.getZoom()+(y.shiftKey?3:1)*this._zoomKeys[Mt]);else{if(27!==Mt||!Gt._popup||!Gt._popup.options.closeOnEscapeKey)return;Gt.closePopup()}An(y)}}}),Wi.addInitHook("addHandler","keyboard",sa),Wi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),Rs=Nr.extend({addHooks:function(){ii(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wi(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(y){var at=Pn(y),H=this._map.options.wheelDebounceTime;this._delta+=at,this._lastMousePos=this._map.mouseEventToContainerPoint(y),this._startTime||(this._startTime=+new Date),at=Math.max(H-(+new Date-this._startTime),0),clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),at),An(y)},_performZoom:function(){var y=this._map,H=y.getZoom(),at=this._map.options.zoomSnap||0,Mt=(y._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel));Mt=4*Math.log(2/(1+Math.exp(-Math.abs(Mt))))/Math.LN2,at=at?Math.ceil(Mt/at)*at:Mt,Mt=y._limitZoom(H+(0<this._delta?at:-at))-H,this._delta=0,this._startTime=null,Mt&&("center"===y.options.scrollWheelZoom?y.setZoom(H+Mt):y.setZoomAround(this._lastMousePos,H+Mt))}}),Wi.addInitHook("addHandler","scrollWheelZoom",Rs),Wi.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15}),vs=Nr.extend({addHooks:function(){ii(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wi(this._map._container,"touchstart",this._onDown,this)},_onDown:function(y){var H;clearTimeout(this._holdTimeout),1===y.touches.length&&(this._startPos=this._newPos=new o((H=y.touches[0]).clientX,H.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ii(document,"touchend",tn),ii(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",H))},this),600),ii(document,"touchend touchcancel contextmenu",this._cancel,this),ii(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function y(){wi(document,"touchend",tn),wi(document,"touchend touchcancel",y)},_cancel:function(){clearTimeout(this._holdTimeout),wi(document,"touchend touchcancel contextmenu",this._cancel,this),wi(document,"touchmove",this._onMove,this)},_onMove:function(y){this._newPos=new o((y=y.touches[0]).clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(y,H){(y=new MouseEvent(y,{bubbles:!0,cancelable:!0,view:window,screenX:H.screenX,screenY:H.screenY,clientX:H.clientX,clientY:H.clientY}))._simulated=!0,H.target.dispatchEvent(y)}}),Wi.addInitHook("addHandler","tapHold",vs),Wi.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0}),as=Nr.extend({addHooks:function(){Gi(this._map._container,"leaflet-touch-zoom"),ii(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),wi(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(y){var H,at,Mt=this._map;!y.touches||2!==y.touches.length||Mt._animatingZoom||this._zooming||(H=Mt.mouseEventToContainerPoint(y.touches[0]),at=Mt.mouseEventToContainerPoint(y.touches[1]),this._centerPoint=Mt.getSize()._divideBy(2),this._startLatLng=Mt.containerPointToLatLng(this._centerPoint),"center"!==Mt.options.touchZoom&&(this._pinchStartLatLng=Mt.containerPointToLatLng(H.add(at)._divideBy(2))),this._startDist=H.distanceTo(at),this._startZoom=Mt.getZoom(),this._moved=!1,this._zooming=!0,Mt._stop(),ii(document,"touchmove",this._onTouchMove,this),ii(document,"touchend touchcancel",this._onTouchEnd,this),tn(y))},_onTouchMove:function(y){if(y.touches&&2===y.touches.length&&this._zooming){var H=this._map,at=H.mouseEventToContainerPoint(y.touches[0]),Mt=H.mouseEventToContainerPoint(y.touches[1]),Gt=at.distanceTo(Mt)/this._startDist;if(this._zoom=H.getScaleZoom(Gt,this._startZoom),!H.options.bounceAtZoomLimits&&(this._zoom<H.getMinZoom()&&Gt<1||this._zoom>H.getMaxZoom()&&1<Gt)&&(this._zoom=H._limitZoom(this._zoom)),"center"===H.options.touchZoom){if(this._center=this._startLatLng,1==Gt)return}else{if(at=at._add(Mt)._divideBy(2)._subtract(this._centerPoint),1==Gt&&0===at.x&&0===at.y)return;this._center=H.unproject(H.project(this._pinchStartLatLng,this._zoom).subtract(at),this._zoom)}this._moved||(H._moveStart(!0,!1),this._moved=!0),m(this._animRequest),Mt=c(H._move,H,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=O(Mt,this,!0),tn(y)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,m(this._animRequest),wi(document,"touchmove",this._onTouchMove,this),wi(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),Wi.addInitHook("addHandler","touchZoom",as),Wi.BoxZoom=qo,Wi.DoubleClickZoom=ss,Wi.Drag=Ds,Wi.Keyboard=sa,Wi.ScrollWheelZoom=Rs,Wi.TapHold=vs,Wi.TouchZoom=as,v.Bounds=q,v.Browser=le,v.CRS=wt,v.Canvas=no,v.Circle=Me,v.CircleMarker=xe,v.Class=P,v.Control=Qn,v.DivIcon=Ln,v.DivOverlay=cn,v.DomEvent=Bn,v.DomUtil=kt,v.Draggable=jr,v.Evented=f,v.FeatureGroup=rt,v.GeoJSON=Ue,v.GridLayer=zr,v.Handler=Nr,v.Icon=_t,v.ImageOverlay=fi,v.LatLng=Y,v.LatLngBounds=yt,v.Layer=Z,v.LayerGroup=ot,v.LineUtil=Rt,v.Map=Wi,v.Marker=Wt,v.Mixin=Sr,v.Path=Qt,v.Point=o,v.PolyUtil=Io,v.Polygon=Be,v.Polyline=Xe,v.Popup=_n,v.PosAnimation=In,v.Projection=J,v.Rectangle=Gs,v.Renderer=mr,v.SVG=uo,v.SVGOverlay=Vi,v.TileLayer=Cr,v.Tooltip=kn,v.Transformation=ht,v.Util=A,v.VideoOverlay=vi,v.bind=c,v.bounds=nt,v.canvas=$n,v.circle=function(y,H,at){return new Me(y,H,at)},v.circleMarker=function(y,H){return new xe(y,H)},v.control=Jn,v.divIcon=function(y){return new Ln(y)},v.extend=e,v.featureGroup=function(y,H){return new rt(y,H)},v.geoJSON=Je,v.geoJson=Re,v.gridLayer=function(y){return new zr(y)},v.icon=function(y){return new _t(y)},v.imageOverlay=function(y,H,at){return new fi(y,H,at)},v.latLng=tt,v.latLngBounds=ut,v.layerGroup=function(y,H){return new ot(y,H)},v.map=function(y,H){return new Wi(y,H)},v.marker=function(y,H){return new Wt(y,H)},v.point=V,v.polygon=function(y,H){return new Be(y,H)},v.polyline=function(y,H){return new Xe(y,H)},v.popup=function(y,H){return new _n(y,H)},v.rectangle=function(y,H){return new Gs(y,H)},v.setOptions=a,v.stamp=M,v.svg=yr,v.svgOverlay=function(y,H,at){return new Vi(y,H,at)},v.tileLayer=Ar,v.tooltip=function(y,H){return new kn(y,H)},v.transformation=mt,v.version="1.9.3",v.videoOverlay=function(y,H,at){return new vi(y,H,at)},window.L);v.noConflict=function(){return window.L=Ws,this},window.L=v}),function(v,e){"object"==typeof exports&&typeof module<"u"?e(exports,require("leaflet")):"function"==typeof define&&define.amd?define(["exports","leaflet"],e):e(((v=typeof globalThis<"u"?globalThis:v||self).L=v.L||{},v.L.esri={}),v.L)}(this,function(v,e){"use strict";var s=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,c=""===document.documentElement.style.pointerEvents,S={cors:s,pointerEvents:c},M={attributionWidthOffset:55},U=0;function G(lt){var Dt="";for(var Jt in lt.f=lt.f||"json",lt)if(Object.prototype.hasOwnProperty.call(lt,Jt)){var he,Te=lt[Jt],Fe=Object.prototype.toString.call(Te);Dt.length&&(Dt+="&"),he="[object Array]"===Fe?"[object Object]"===Object.prototype.toString.call(Te[0])?JSON.stringify(Te):Te.join(","):"[object Object]"===Fe?JSON.stringify(Te):"[object Date]"===Fe?Te.valueOf():Te,Dt+=encodeURIComponent(Jt)+"="+encodeURIComponent(he)}return Dt}function X(lt,Dt){var Jt=new window.XMLHttpRequest;return Jt.onerror=function(he){Jt.onreadystatechange=e.Util.falseFn,lt.call(Dt,{error:{code:500,message:"XMLHttpRequest error"}},null)},Jt.onreadystatechange=function(){var he,Te;if(4===Jt.readyState){try{he=JSON.parse(Jt.responseText)}catch{he=null,Te={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!Te&&he.error&&(Te=he.error,he=null),Jt.onerror=e.Util.falseFn,lt.call(Dt,Te,he)}},Jt.ontimeout=function(){this.onerror()},Jt}function F(lt,Dt,Jt,he){var Te=X(Jt,he);return Te.open("POST",lt),null!=he&&void 0!==he.options&&(Te.timeout=he.options.timeout),Te.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),Te.send(G(Dt)),Te}function R(lt,Dt,Jt,he){var Te=X(Jt,he);return Te.open("GET",lt+"?"+G(Dt),!0),null!=he&&void 0!==he.options&&(Te.timeout=he.options.timeout,he.options.withCredentials&&(Te.withCredentials=!0)),Te.send(null),Te}function E(lt,Dt,Jt,he){var Te=G(Dt),Fe=X(Jt,he),Ci=(lt+"?"+Te).length;if(Ci<=2e3&&S.cors?Fe.open("GET",lt+"?"+Te):Ci>2e3&&S.cors&&(Fe.open("POST",lt),Fe.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),null!=he&&void 0!==he.options&&(Fe.timeout=he.options.timeout,he.options.withCredentials&&(Fe.withCredentials=!0)),Ci<=2e3&&S.cors)Fe.send(null);else{if(!(Ci>2e3&&S.cors))return Ci<=2e3&&!S.cors?a(lt,Dt,Jt,he):void l("a request to "+lt+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy https://developers.arcgis.com/esri-leaflet/api-reference/request/");Fe.send(Te)}return Fe}function a(lt,Dt,Jt,he){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var Te="c"+U;Dt.callback="window._EsriLeafletCallbacks."+Te,window._EsriLeafletCallbacks[Te]=function(Ci){if(!0!==window._EsriLeafletCallbacks[Te]){var Hi,Ri=Object.prototype.toString.call(Ci);"[object Object]"!==Ri&&"[object Array]"!==Ri&&(Hi={error:{code:500,message:"Expected array or object as JSONP response"}},Ci=null),!Hi&&Ci.error&&(Hi=Ci,Ci=null),Jt.call(he,Hi,Ci),window._EsriLeafletCallbacks[Te]=!0}};var Fe=e.DomUtil.create("script",null,document.body);return Fe.type="text/javascript",Fe.src=lt+"?"+G(Dt),Fe.id=Te,Fe.onerror=function(Ci){Ci&&!0!==window._EsriLeafletCallbacks[Te]&&(Jt.call(he,{error:{code:500,message:"An unknown error occurred"}}),window._EsriLeafletCallbacks[Te]=!0)},e.DomUtil.addClass(Fe,"esri-leaflet-jsonp"),U++,{id:Te,url:Fe.src,abort:function(){window._EsriLeafletCallbacks._callback[Te]({code:0,message:"Request aborted."})}}}var h=S.cors?R:a;function l(){console&&console.warn&&console.warn.apply(console,arguments)}h.CORS=R,h.JSONP=a;var p={request:E,get:h,post:F},x=function(lt,Dt,Jt,he){var Ci=(he[1]-Jt[1])*(Dt[0]-lt[0])-(he[0]-Jt[0])*(Dt[1]-lt[1]);if(0!==Ci){var Hi=((he[0]-Jt[0])*(lt[1]-Jt[1])-(he[1]-Jt[1])*(lt[0]-Jt[0]))/Ci,Ri=((Dt[0]-lt[0])*(lt[1]-Jt[1])-(Dt[1]-lt[1])*(lt[0]-Jt[0]))/Ci;if(Hi>=0&&Hi<=1&&Ri>=0&&Ri<=1)return!0}return!1},T=function(lt,Dt){for(var Jt=0;Jt<lt.length-1;Jt++)for(var he=0;he<Dt.length-1;he++)if(x(lt[Jt],lt[Jt+1],Dt[he],Dt[he+1]))return!0;return!1},b=function(lt){return function(Dt,Jt){for(var he=0;he<Dt.length;he++)if(Dt[he]!==Jt[he])return!1;return!0}(lt[0],lt[lt.length-1])||lt.push(lt[0]),lt},I=function(lt){for(var Dt,Jt=0,he=0,Te=lt.length,Fe=lt[he];he<Te-1;he++)Jt+=((Dt=lt[he+1])[0]-Fe[0])*(Dt[1]+Fe[1]),Fe=Dt;return Jt>=0},u=function(lt){var Dt={};for(var Jt in lt)lt.hasOwnProperty(Jt)&&(Dt[Jt]=lt[Jt]);return Dt},n=function(lt,Dt){var Jt=T(lt,Dt),he=function(Te,Fe){for(var Ci=!1,Hi=-1,Ri=Te.length,nn=Ri-1;++Hi<Ri;nn=Hi)(Te[Hi][1]<=Fe[1]&&Fe[1]<Te[nn][1]||Te[nn][1]<=Fe[1]&&Fe[1]<Te[Hi][1])&&Fe[0]<(Te[nn][0]-Te[Hi][0])*(Fe[1]-Te[Hi][1])/(Te[nn][1]-Te[Hi][1])+Te[Hi][0]&&(Ci=!Ci);return Ci}(lt,Dt[0]);return!(Jt||!he)},k=function lt(Dt,Jt){var he={};if(Dt.features){he.type="FeatureCollection",he.features=[];for(var Te=0;Te<Dt.features.length;Te++)he.features.push(lt(Dt.features[Te],Jt))}if("number"==typeof Dt.x&&"number"==typeof Dt.y&&(he.type="Point",he.coordinates=[Dt.x,Dt.y],"number"==typeof Dt.z&&he.coordinates.push(Dt.z)),Dt.points&&(he.type="MultiPoint",he.coordinates=Dt.points.slice(0)),Dt.paths&&(1===Dt.paths.length?(he.type="LineString",he.coordinates=Dt.paths[0].slice(0)):(he.type="MultiLineString",he.coordinates=Dt.paths.slice(0))),Dt.rings&&(he=function(Fe){for(var Ci,Ri,nn=[],gn=[],Hn=0;Hn<Fe.length;Hn++){var Gn=b(Fe[Hn].slice(0));if(!(Gn.length<4))if(I(Gn)){var Ji=[Gn.slice().reverse()];nn.push(Ji)}else gn.push(Gn.slice().reverse())}for(var ci=[];gn.length;){Ri=gn.pop();var mi=!1;for(Ci=nn.length-1;Ci>=0;Ci--)if(n(nn[Ci][0],Ri)){nn[Ci].push(Ri),mi=!0;break}mi||ci.push(Ri)}for(;ci.length;){Ri=ci.pop();var yi=!1;for(Ci=nn.length-1;Ci>=0;Ci--)if(T(nn[Ci][0],Ri)){nn[Ci].push(Ri),yi=!0;break}yi||nn.push([Ri.reverse()])}return 1===nn.length?{type:"Polygon",coordinates:nn[0]}:{type:"MultiPolygon",coordinates:nn}}(Dt.rings.slice(0))),"number"==typeof Dt.xmin&&"number"==typeof Dt.ymin&&"number"==typeof Dt.xmax&&"number"==typeof Dt.ymax&&(he.type="Polygon",he.coordinates=[[[Dt.xmax,Dt.ymax],[Dt.xmin,Dt.ymax],[Dt.xmin,Dt.ymin],[Dt.xmax,Dt.ymin],[Dt.xmax,Dt.ymax]]]),(Dt.geometry||Dt.attributes)&&(he.type="Feature",he.geometry=Dt.geometry?lt(Dt.geometry):null,he.properties=Dt.attributes?u(Dt.attributes):null,Dt.attributes))try{he.id=function(Fe,Ci){for(var Hi=Ci?[Ci,"OBJECTID","FID"]:["OBJECTID","FID"],Ri=0;Ri<Hi.length;Ri++){var nn=Hi[Ri];if(nn in Fe&&("string"==typeof Fe[nn]||"number"==typeof Fe[nn]))return Fe[nn]}throw Error("No valid id attribute found")}(Dt.attributes,Jt)}catch{}return JSON.stringify(he.geometry)===JSON.stringify({})&&(he.geometry=null),Dt.spatialReference&&Dt.spatialReference.wkid&&4326!==Dt.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(Dt.spatialReference)),he},C=function(lt){var Dt=[],Jt=lt.slice(0),he=b(Jt.shift().slice(0));if(he.length>=4){I(he)||he.reverse(),Dt.push(he);for(var Te=0;Te<Jt.length;Te++){var Fe=b(Jt[Te].slice(0));Fe.length>=4&&(I(Fe)&&Fe.reverse(),Dt.push(Fe))}}return Dt},O=function lt(Dt,Jt){Jt=Jt||"OBJECTID";var he,Te={wkid:4326},Fe={};switch(Dt.type){case"Point":Fe.x=Dt.coordinates[0],Fe.y=Dt.coordinates[1],Dt.coordinates[2]&&(Fe.z=Dt.coordinates[2]),Fe.spatialReference=Te;break;case"MultiPoint":Fe.points=Dt.coordinates.slice(0),Dt.coordinates[0][2]&&(Fe.hasZ=!0),Fe.spatialReference=Te;break;case"LineString":Fe.paths=[Dt.coordinates.slice(0)],Dt.coordinates[0][2]&&(Fe.hasZ=!0),Fe.spatialReference=Te;break;case"MultiLineString":Fe.paths=Dt.coordinates.slice(0),Dt.coordinates[0][0][2]&&(Fe.hasZ=!0),Fe.spatialReference=Te;break;case"Polygon":Fe.rings=C(Dt.coordinates.slice(0)),Dt.coordinates[0][0][2]&&(Fe.hasZ=!0),Fe.spatialReference=Te;break;case"MultiPolygon":Fe.rings=function(Ci){for(var Hi=[],Ri=0;Ri<Ci.length;Ri++)for(var nn=C(Ci[Ri]),gn=nn.length-1;gn>=0;gn--){var Hn=nn[gn].slice(0);Hi.push(Hn)}return Hi}(Dt.coordinates.slice(0)),Dt.coordinates[0][0][0][2]&&(Fe.hasZ=!0),Fe.spatialReference=Te;break;case"Feature":Dt.geometry&&(Fe.geometry=lt(Dt.geometry,Jt)),Fe.attributes=Dt.properties?u(Dt.properties):{},Dt.id&&(Fe.attributes[Jt]=Dt.id);break;case"FeatureCollection":for(Fe=[],he=0;he<Dt.features.length;he++)Fe.push(lt(Dt.features[he],Jt));break;case"GeometryCollection":for(Fe=[],he=0;he<Dt.geometries.length;he++)Fe.push(lt(Dt.geometries[he],Jt))}return Fe},m='<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>';function A(lt,Dt){return O(lt,Dt)}function P(lt,Dt){return k(lt,Dt)}function D(lt){if("NaN"!==lt.xmin&&"NaN"!==lt.ymin&&"NaN"!==lt.xmax&&"NaN"!==lt.ymax){var Dt=e.latLng(lt.ymin,lt.xmin),Jt=e.latLng(lt.ymax,lt.xmax);return e.latLngBounds(Dt,Jt)}return null}function f(lt){return{xmin:(lt=e.latLngBounds(lt)).getSouthWest().lng,ymin:lt.getSouthWest().lat,xmax:lt.getNorthEast().lng,ymax:lt.getNorthEast().lat,spatialReference:{wkid:4326}}}var o=/^(OBJECTID|FID|OID|ID)$/i;function B(lt){var Dt;if(lt.objectIdFieldName)Dt=lt.objectIdFieldName;else if(lt.fields){for(var Jt=0;Jt<=lt.fields.length-1;Jt++)if("esriFieldTypeOID"===lt.fields[Jt].type){Dt=lt.fields[Jt].name;break}if(!Dt)for(Jt=0;Jt<=lt.fields.length-1;Jt++)if(lt.fields[Jt].name.match(o)){Dt=lt.fields[Jt].name;break}}return Dt}function V(lt){for(var Dt in lt.attributes)if(Dt.match(o))return Dt}function q(lt,Dt){var Jt,he=lt.features||lt.results,Te=he&&he.length;Jt=Dt||B(lt);var Fe={type:"FeatureCollection",features:[]};if(Te)for(var Ci=he.length-1;Ci>=0;Ci--){var Hi=P(he[Ci],Jt||V(he[Ci]));Fe.features.push(Hi)}return Fe}function nt(lt){return"/"!==(lt=e.Util.trim(lt))[lt.length-1]&&(lt+="/"),lt}function yt(lt){if(-1!==lt.url.indexOf("?")){lt.requestParams=lt.requestParams||{};var Dt=lt.url.substring(lt.url.indexOf("?")+1);lt.url=lt.url.split("?")[0],lt.requestParams=JSON.parse('{"'+decodeURI(Dt).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return lt.url=nt(lt.url.split("?")[0]),lt}function ut(lt){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(lt)}function Y(lt){var Dt;switch(lt){case"Point":Dt="esriGeometryPoint";break;case"MultiPoint":Dt="esriGeometryMultipoint";break;case"LineString":case"MultiLineString":Dt="esriGeometryPolyline";break;case"Polygon":case"MultiPolygon":Dt="esriGeometryPolygon"}return Dt}function tt(lt){return lt.getSize().x-M.attributionWidthOffset+"px"}function wt(lt){if(lt.attributionControl){if(lt.attributionControl._esriAttributionLayerCount||(lt.attributionControl._esriAttributionLayerCount=0),0===lt.attributionControl._esriAttributionLayerCount){if(!lt.attributionControl._esriAttributionAddedOnce){var Dt=document.createElement("style");Dt.type="text/css",Dt.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(Dt);var Jt=document.createElement("style");Jt.type="text/css",Jt.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+tt(lt)+";}",document.getElementsByTagName("head")[0].appendChild(Jt),lt.on("resize",function(he){lt.attributionControl&&(lt.attributionControl._container.style.maxWidth=tt(he.target))}),lt.attributionControl._esriAttributionAddedOnce=!0}lt.attributionControl.setPrefix(m+' | Powered by <a href="https://www.esri.com">Esri</a>'),e.DomUtil.addClass(lt.attributionControl._container,"esri-truncated-attribution:hover"),e.DomUtil.addClass(lt.attributionControl._container,"esri-truncated-attribution")}lt.attributionControl._esriAttributionLayerCount=lt.attributionControl._esriAttributionLayerCount+1}}function St(lt){lt.attributionControl&&(lt.attributionControl._esriAttributionLayerCount&&1===lt.attributionControl._esriAttributionLayerCount&&(lt.attributionControl.setPrefix(m),e.DomUtil.removeClass(lt.attributionControl._container,"esri-truncated-attribution:hover"),e.DomUtil.removeClass(lt.attributionControl._container,"esri-truncated-attribution")),lt.attributionControl._esriAttributionLayerCount=lt.attributionControl._esriAttributionLayerCount-1)}function At(lt){var Dt={geometry:null,geometryType:null};return lt instanceof e.LatLngBounds?(Dt.geometry=f(lt),Dt.geometryType="esriGeometryEnvelope",Dt):(lt.getLatLng&&(lt=lt.getLatLng()),lt instanceof e.LatLng&&(lt={type:"Point",coordinates:[lt.lng,lt.lat]}),lt instanceof e.GeoJSON&&(lt=lt.getLayers()[0].feature.geometry,Dt.geometry=A(lt),Dt.geometryType=Y(lt.type)),lt.toGeoJSON&&(lt=lt.toGeoJSON()),"Feature"===lt.type&&(lt=lt.geometry),"Point"===lt.type||"LineString"===lt.type||"Polygon"===lt.type||"MultiPolygon"===lt.type?(Dt.geometry=A(lt),Dt.geometryType=Y(lt.type),Dt):void l("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"))}function ht(lt,Dt){S.cors&&E(lt,{},e.Util.bind(function(Jt,he){if(!Jt){Dt._esriAttributions=[];for(var Te=0;Te<he.contributors.length;Te++)for(var Fe=he.contributors[Te],Ci=0;Ci<Fe.coverageAreas.length;Ci++){var Hi=Fe.coverageAreas[Ci],Ri=e.latLng(Hi.bbox[0],Hi.bbox[1]),nn=e.latLng(Hi.bbox[2],Hi.bbox[3]);Dt._esriAttributions.push({attribution:Fe.attribution,score:Hi.score,bounds:e.latLngBounds(Ri,nn),minZoom:Hi.zoomMin,maxZoom:Hi.zoomMax})}Dt._esriAttributions.sort(function(gn,Hn){return Hn.score-gn.score}),mt({target:Dt})}},this))}function mt(lt){var Dt=lt.target,Jt=Dt._esriAttributions;if(Dt&&Dt.attributionControl){var he=Dt.attributionControl._container.querySelector(".esri-dynamic-attribution");if(he&&Jt){for(var Te="",Fe=Dt.getBounds(),Ci=e.latLngBounds(Fe.getSouthWest().wrap(),Fe.getNorthEast().wrap()),Hi=Dt.getZoom(),Ri=0;Ri<Jt.length;Ri++){var nn=Jt[Ri],gn=nn.attribution;!Te.match(gn)&&nn.bounds.intersects(Ci)&&Hi>=nn.minZoom&&Hi<=nn.maxZoom&&(Te+=", "+gn)}Te=Te.substr(2),he.innerHTML=Te,he.style.maxWidth=tt(Dt),Dt.fire("attributionupdated",{attribution:Te})}}}var dt={warn:l,cleanUrl:nt,getUrlParams:yt,isArcgisOnline:ut,geojsonTypeToArcGIS:Y,responseToFeatureCollection:q,geojsonToArcGIS:A,arcgisToGeoJSON:P,boundsToExtent:f,extentToBounds:D,calcAttributionWidth:tt,setEsriAttribution:wt,_setGeometry:At,_getAttributionData:ht,_updateMapAttribution:mt,_findIdAttributeFromFeature:V,_findIdAttributeFromResponse:B},Lt=e.Class.extend({options:{proxy:!1,useCors:s},generateSetter:function(lt,Dt){return e.Util.bind(function(Jt){return this.params[lt]=Jt,this},Dt)},initialize:function(lt){if(lt.request&&lt.options?(this._service=lt,e.Util.setOptions(this,lt.options)):(e.Util.setOptions(this,lt),this.options.url=nt(lt.url)),this.params=e.Util.extend({},this.params||{}),this.setters)for(var Dt in this.setters)this[Dt]=this.generateSetter(this.setters[Dt],this)},token:function(lt){return this._service?this._service.authenticate(lt):this.params.token=lt,this},apikey:function(lt){return this.token(lt)},format:function(lt){return this.params.returnUnformattedValues=!lt,this},request:function(lt,Dt){return this.options.requestParams&&e.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,lt,Dt):this._request("request",this.path,this.params,lt,Dt)},_request:function(lt,Dt,Jt,he,Te){var Fe=this.options.proxy?this.options.proxy+"?"+this.options.url+Dt:this.options.url+Dt;return"get"!==lt&&"request"!==lt||this.options.useCors?p[lt](Fe,Jt,he,Te):p.get.JSONP(Fe,Jt,he,Te)}}),Ct=Lt.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(lt){return this._setGeometryParams(lt),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(lt){return this._setGeometryParams(lt),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(lt){return this._setGeometryParams(lt),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(lt){return this._setGeometryParams(lt),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(lt){return this._setGeometryParams(lt),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(lt){return this._setGeometryParams(lt),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(lt){return this._setGeometryParams(lt),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(lt){return this._setGeometryParams(lt),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(lt,Dt){return lt=e.latLng(lt),this.params.geometry=[lt.lng,lt.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=Dt,this.params.inSR=4326,this},where:function(lt){return this.params.where=lt,this},between:function(lt,Dt){return this.params.time=[lt.valueOf(),Dt.valueOf()],this},simplify:function(lt,Dt){var Jt=Math.abs(lt.getBounds().getWest()-lt.getBounds().getEast());return this.params.maxAllowableOffset=Jt/lt.getSize().y*Dt,this},orderBy:function(lt,Dt){return Dt=Dt||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[lt,Dt].join(" "),this},run:function(lt,Dt){return this._cleanParams(),this.options.isModern||ut(this.options.url)&&void 0===this.options.isModern?(this.params.f="geojson",this.request(function(Jt,he){this._trapSQLerrors(Jt),lt.call(Dt,Jt,he,he)},this)):this.request(function(Jt,he){this._trapSQLerrors(Jt),lt.call(Dt,Jt,he&&q(he),he)},this)},count:function(lt,Dt){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(Jt,he){lt.call(this,Jt,he&&he.count,he)},Dt)},ids:function(lt,Dt){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(Jt,he){lt.call(this,Jt,he&&he.objectIds,he)},Dt)},bounds:function(lt,Dt){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(Jt,he){he&&he.extent&&D(he.extent)?lt.call(Dt,Jt,D(he.extent),he):lt.call(Dt,Jt={message:"Invalid Bounds"},null,he)},Dt)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(lt){var Dt=e.point(lt);return this.params.pixelSize=[Dt.x,Dt.y],this},layer:function(lt){return this.path=lt+"/query",this},_trapSQLerrors:function(lt){lt&&"400"===lt.code&&l("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(lt){this.params.inSR=4326;var Dt=At(lt);this.params.geometry=Dt.geometry,this.params.geometryType=Dt.geometryType}});function vt(lt){return new Ct(lt)}var kt=Lt.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(lt,Dt){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[lt,Dt].join(":"),this},simplify:function(lt,Dt){var Jt=Math.abs(lt.getBounds().getWest()-lt.getBounds().getEast());return this.params.maxAllowableOffset=Jt/lt.getSize().y*Dt,this},run:function(lt,Dt){return this.request(function(Jt,he){lt.call(Dt,Jt,he&&q(he),he)},Dt)}});function Rt(lt){return new kt(lt)}var Xt=Lt.extend({path:"identify",between:function(lt,Dt){return this.params.time=[lt.valueOf(),Dt.valueOf()],this}}),Ft=Xt.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(lt){var Dt=f(lt.getBounds()),Jt=lt.getSize();return this.params.imageDisplay=[Jt.x,Jt.y,96],this.params.mapExtent=[Dt.xmin,Dt.ymin,Dt.xmax,Dt.ymax],this},at:function(lt){return 2===lt.length&&(lt=e.latLng(lt)),this._setGeometryParams(lt),this},layerDef:function(lt,Dt){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[lt,Dt].join(":"),this},simplify:function(lt,Dt){var Jt=Math.abs(lt.getBounds().getWest()-lt.getBounds().getEast());return this.params.maxAllowableOffset=Jt/lt.getSize().y*Dt,this},run:function(lt,Dt){return this.request(function(Jt,he){if(Jt)lt.call(Dt,Jt,void 0,he);else{var Te=q(he);he.results=he.results.reverse();for(var Fe=0;Fe<Te.features.length;Fe++)Te.features[Fe].layerId=he.results[Fe].layerId;lt.call(Dt,void 0,Te,he)}})},_setGeometryParams:function(lt){var Dt=At(lt);this.params.geometry=Dt.geometry,this.params.geometryType=Dt.geometryType}});function qt(lt){return new Ft(lt)}var ae=Xt.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(lt){return lt=e.latLng(lt),this.params.geometry=JSON.stringify({x:lt.lng,y:lt.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(lt,Dt){return this.request(function(Jt,he){lt.call(Dt,Jt,he&&this._responseToGeoJSON(he),he)},this)},_responseToGeoJSON:function(lt){var Dt=lt.location,Jt=lt.catalogItems,he=lt.catalogItemVisibilities,Te={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[Dt.x,Dt.y]},crs:{type:"EPSG",properties:{code:Dt.spatialReference.wkid}},properties:{OBJECTID:lt.objectId,name:lt.name,value:lt.value},id:lt.objectId}};if(lt.properties&&lt.properties.Values&&(Te.pixel.properties.values=lt.properties.Values),Jt&&Jt.features&&(Te.catalogItems=q(Jt),he&&he.length===Te.catalogItems.features.length))for(var Fe=he.length-1;Fe>=0;Fe--)Te.catalogItems.features[Fe].properties.catalogItemVisibility=he[Fe];return Te}});function te(lt){return new ae(lt)}var de=e.Evented.extend({options:{proxy:!1,useCors:s,timeout:0},initialize:function(lt){lt=lt||{},this._requestQueue=[],this._authenticating=!1,e.Util.setOptions(this,lt),this.options.url=nt(this.options.url)},get:function(lt,Dt,Jt,he){return this._request("get",lt,Dt,Jt,he)},post:function(lt,Dt,Jt,he){return this._request("post",lt,Dt,Jt,he)},request:function(lt,Dt,Jt,he){return this._request("request",lt,Dt,Jt,he)},metadata:function(lt,Dt){return this._request("get","",{},lt,Dt)},authenticate:function(lt){return this._authenticating=!1,this.options.token=lt,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(lt){this.options.timeout=lt},_request:function(lt,Dt,Jt,he,Te){this.fire("requeststart",{url:this.options.url+Dt,params:Jt,method:lt},!0);var Fe=this._createServiceCallback(lt,Dt,Jt,he,Te);if(this.options.token&&(Jt.token=this.options.token),this.options.requestParams&&e.Util.extend(Jt,this.options.requestParams),!this._authenticating){var Ci=this.options.proxy?this.options.proxy+"?"+this.options.url+Dt:this.options.url+Dt;return"get"!==lt&&"request"!==lt||this.options.useCors?p[lt](Ci,Jt,Fe,Te):p.get.JSONP(Ci,Jt,Fe,Te)}this._requestQueue.push([lt,Dt,Jt,he,Te])},_createServiceCallback:function(lt,Dt,Jt,he,Te){return e.Util.bind(function(Fe,Ci){!Fe||499!==Fe.code&&498!==Fe.code||(this._authenticating=!0,this._requestQueue.push([lt,Dt,Jt,he,Te]),this.fire("authenticationrequired",{authenticate:e.Util.bind(this.authenticate,this)},!0),Fe.authenticate=e.Util.bind(this.authenticate,this)),he.call(Te,Fe,Ci),Fe?this.fire("requesterror",{url:this.options.url+Dt,params:Jt,message:Fe.message,code:Fe.code,method:lt},!0):this.fire("requestsuccess",{url:this.options.url+Dt,params:Jt,response:Ci,method:lt},!0),this.fire("requestend",{url:this.options.url+Dt,params:Jt,method:lt},!0)},this)},_runQueue:function(){for(var lt=this._requestQueue.length-1;lt>=0;lt--){var Dt=this._requestQueue[lt];this[Dt.shift()].apply(this,Dt)}this._requestQueue=[]}}),re=de.extend({identify:function(){return qt(this)},find:function(){return Rt(this)},query:function(){return vt(this)}});function Ut(lt){return new re(lt)}var Vt=de.extend({query:function(){return vt(this)},identify:function(){return te(this)}});function ue(lt){return new Vt(lt)}var me=de.extend({options:{idAttribute:"OBJECTID"},query:function(){return vt(this)},addFeature:function(lt,Dt,Jt){this.addFeatures(lt,Dt,Jt)},addFeatures:function(lt,Dt,Jt){for(var he=lt.features?lt.features:[lt],Te=he.length-1;Te>=0;Te--)delete he[Te].id;return lt=A(lt),this.post("addFeatures",{features:lt=he.length>1?lt:[lt]},function(Fe,Ci){Dt&&Dt.call(Jt,Fe||Ci.addResults[0].error,Ci&&Ci.addResults?Ci.addResults.length>1?Ci.addResults:Ci.addResults[0]:void 0)},Jt)},updateFeature:function(lt,Dt,Jt){this.updateFeatures(lt,Dt,Jt)},updateFeatures:function(lt,Dt,Jt){var he=lt.features?lt.features:[lt];return lt=A(lt,this.options.idAttribute),this.post("updateFeatures",{features:lt=he.length>1?lt:[lt]},function(Te,Fe){Dt&&Dt.call(Jt,Te||Fe.updateResults[0].error,Fe&&Fe.updateResults?Fe.updateResults.length>1?Fe.updateResults:Fe.updateResults[0]:void 0)},Jt)},deleteFeature:function(lt,Dt,Jt){this.deleteFeatures(lt,Dt,Jt)},deleteFeatures:function(lt,Dt,Jt){return this.post("deleteFeatures",{objectIds:lt},function(he,Te){Dt&&Dt.call(Jt,he||Te.deleteResults[0].error,Te&&Te.deleteResults?Te.deleteResults.length>1?Te.deleteResults:Te.deleteResults[0]:void 0)},Jt)}});function ve(lt){return new me(lt)}var le="https:"!==window.location.protocol?"http:":"https:",We=e.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:le+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:le+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:c?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:le+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:le+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:le+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:le+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(lt,Dt){var Jt;if("object"==typeof lt&&lt.urlTemplate&&lt.options)Jt=lt;else{if("string"!=typeof lt||!We.TILES[lt])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');Jt=We.TILES[lt]}var he=e.Util.extend(Jt.options,Dt);e.Util.setOptions(this,he),this.options.ignoreDeprecationWarning||console.warn("WARNING: L.esri.BasemapLayer uses data services that are in mature support and are not being updated. Please use L.esri.Vector.vectorBasemapLayer instead. More info: https://esriurl.com/esri-leaflet-basemap"),this.options.token&&-1===Jt.urlTemplate.indexOf("token=")&&(Jt.urlTemplate+="?token="+this.options.token),this.options.proxy&&(Jt.urlTemplate=this.options.proxy+"?"+Jt.urlTemplate),e.TileLayer.prototype.initialize.call(this,Jt.urlTemplate,he)},onAdd:function(lt){wt(lt),"esri-labels"===this.options.pane&&this._initPane(),this.options.attributionUrl&&ht((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,lt),lt.on("moveend",mt),e.TileLayer.prototype.onAdd.call(this,lt)},onRemove:function(lt){St(lt),lt.off("moveend",mt),e.TileLayer.prototype.onRemove.call(this,lt)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var lt=this._map.createPane(this.options.pane);lt.style.pointerEvents="none",lt.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var lt='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return lt}}),$e=e.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(lt){lt=yt(lt=e.Util.setOptions(this,lt)),this.tileUrl=(lt.proxy?lt.proxy+"?":"")+lt.url+"tile/{z}/{y}/{x}"+(lt.requestParams&&Object.keys(lt.requestParams).length>0?e.Util.getParamString(lt.requestParams):""),-1!==lt.url.indexOf("{s}")&&lt.subdomains&&(lt.url=lt.url.replace("{s}",lt.subdomains[0])),this.service=Ut(lt),this.service.addEventParent(this),new RegExp(/tiles.arcgis(online)?\.com/g).test(lt.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),lt.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),e.TileLayer.prototype.initialize.call(this,this.tileUrl,lt)},getTileUrl:function(lt){var Dt=this._getZoomForUrl();return e.Util.template(this.tileUrl,e.Util.extend({s:this._getSubdomain(lt),x:lt.x,y:lt.y,z:this._lodMap&&this._lodMap[Dt]?this._lodMap[Dt]:Dt},this.options))},createTile:function(lt,Dt){var Jt=document.createElement("img");return e.DomEvent.on(Jt,"load",e.Util.bind(this._tileOnLoad,this,Dt,Jt)),e.DomEvent.on(Jt,"error",e.Util.bind(this._tileOnError,this,Dt,Jt)),this.options.crossOrigin&&(Jt.crossOrigin=""),Jt.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?Jt.src=this.getTileUrl(lt):this.once("lodmap",function(){Jt.src=this.getTileUrl(lt)},this),Jt},onAdd:function(lt){wt(lt),this._lodMap||this.metadata(function(Dt,Jt){if(!Dt&&Jt.spatialReference){var he=Jt.spatialReference.latestWkid||Jt.spatialReference.wkid;if(!this.options.attribution&&lt.attributionControl&&Jt.copyrightText&&(this.options.attribution=Jt.copyrightText,lt.attributionControl.addAttribution(this.getAttribution())),lt.options.crs!==e.CRS.EPSG3857||102100!==he&&3857!==he)lt.options.crs&&lt.options.crs.code&&lt.options.crs.code.indexOf(he)>-1||l("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/");else{this._lodMap={};for(var Te=Jt.tileInfo.lods,Fe=$e.MercatorZoomLevels,Ci=0;Ci<Te.length;Ci++){var Hi=Te[Ci];for(var Ri in Fe)if(this._withinPercentage(Hi.resolution,Fe[Ri],this.options.zoomOffsetAllowance)){this._lodMap[Ri]=Hi.level;break}}this.fire("lodmap")}}},this),e.TileLayer.prototype.onAdd.call(this,lt)},onRemove:function(lt){St(lt),e.TileLayer.prototype.onRemove.call(this,lt)},metadata:function(lt,Dt){return this.service.metadata(lt,Dt),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(lt){var Dt="?token="+lt;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,Dt):this.tileUrl+Dt,this.options.token=lt,this.service.authenticate(lt),this},_withinPercentage:function(lt,Dt,Jt){return Math.abs(lt/Dt-1)<Jt}}),Li=e.ImageOverlay.extend({onAdd:function(lt){this._topLeft=lt.getPixelBounds().min,e.ImageOverlay.prototype.onAdd.call(this,lt)},_reset:function(){this._map.options.crs===e.CRS.EPSG3857?e.ImageOverlay.prototype._reset.call(this):e.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),Si=e.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:s,attribution:null,interactive:!1,alt:""},onAdd:function(lt){wt(lt),this.options.zIndex&&(this.options.position=null),this._update=e.Util.throttle(this._update,this.options.updateInterval,this),lt.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?lt.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(Dt,Jt){!Dt&&!this.options.attribution&&lt.attributionControl&&Jt.copyrightText&&(this.options.attribution=Jt.copyrightText,lt.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(lt){St(lt),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(lt,Dt){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=e.popup(Dt),this._popupFunction=lt,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(lt){return this.options.zIndex=lt,this._currentImage&&this._currentImage.setZIndex(lt),this},_setAutoZIndex:function(lt){if(this._currentImage){for(var Dt,Jt=this._currentImage.getPane().children,he=-lt(-1/0,1/0),Te=0,Fe=Jt.length;Te<Fe;Te++)Dt=Jt[Te].style.zIndex,Jt[Te]!==this._currentImage._image&&Dt&&(he=lt(he,+Dt));isFinite(he)&&(this.options.zIndex=he+lt(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(lt){return this.options.opacity=lt,this._currentImage&&this._currentImage.setOpacity(lt),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(lt,Dt){return this.options.from=lt,this.options.to=Dt,this._update(),this},metadata:function(lt,Dt){return this.service.metadata(lt,Dt),this},authenticate:function(lt){return this.service.authenticate(lt),this},redraw:function(){this._update()},_renderImage:function(lt,Dt,Jt){if(this._map){if(Jt&&(lt="data:"+Jt+";base64,"+lt),!lt)return;var he=new Li(lt,Dt,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),Te=function(){this._map.removeLayer(he),this.fire("error"),he.off("load",Fe,this)},Fe=function(Ci){if(he.off("error",Te,this),this._map){var Hi=Ci.target,Ri=this._currentImage;Hi._bounds.equals(Dt)&&Hi._bounds.equals(this._map.getBounds())?(this._currentImage=Hi,"front"===this.options.position?this.bringToFront():"back"===this.options.position&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),Ri&&this._map&&this._map.removeLayer(Ri),Ri&&Ri._map&&Ri._map.removeLayer(Ri)):this._map.removeLayer(Hi)}this.fire("load",{bounds:Dt})};he.once("error",Te,this),he.once("load",Fe,this)}},_update:function(){if(this._map){var lt=this._map.getZoom(),Dt=this._map.getBounds();if(!(this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress))if(lt>this.options.maxZoom||lt<this.options.minZoom)this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var Jt=this._buildExportParams();e.Util.extend(Jt,this.options.requestParams),Jt?(this._requestExport(Jt,Dt),this.fire("loading",{bounds:Dt})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(lt,Dt,Jt,he){if(lt=e.latLng(lt),this._shouldRenderPopup&&this._lastClick.equals(lt)){var Te=this._popupFunction(Dt,Jt,he);Te&&this._popup.setLatLng(lt).setContent(Te).openOn(this._map)}},_resetPopupState:function(lt){this._shouldRenderPopup=!1,this._lastClick=lt.latlng},_calculateBbox:function(){var lt=this._map.getPixelBounds(),Dt=this._map.unproject(lt.getBottomLeft()),Jt=this._map.unproject(lt.getTopRight()),he=this._map.options.crs.project(Jt),Te=this._map.options.crs.project(Dt),Fe=e.bounds(he,Te);return[Fe.getBottomLeft().x,Fe.getBottomLeft().y,Fe.getTopRight().x,Fe.getTopRight().y].join(",")},_calculateImageSize:function(){var lt=this._map.getPixelBounds(),Dt=this._map.getSize(),Jt=this._map.unproject(lt.getBottomLeft()),he=this._map.unproject(lt.getTopRight()),Te=this._map.latLngToLayerPoint(he).y,Fe=this._map.latLngToLayerPoint(Jt).y;return(Te>0||Fe<Dt.y)&&(Dt.y=Fe-Te),Dt.x+","+Dt.y}}),bi=Si.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(lt){lt=yt(lt),this.service=ue(lt),this.service.addEventParent(this),e.Util.setOptions(this,lt)},setPixelType:function(lt){return this.options.pixelType=lt,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(lt){return this.options.bandIds=e.Util.isArray(lt)?lt.join(","):lt.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(lt,Dt){return this.options.noData=e.Util.isArray(lt)?lt.join(","):lt.toString(),Dt&&(this.options.noDataInterpretation=Dt),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(lt){this.options.renderingRule=lt,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(lt){this.options.mosaicRule=lt,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(lt){var Dt=e.Util.bind(function(he,Te,Fe){he||setTimeout(e.Util.bind(function(){this._renderPopup(lt.latlng,he,Te,Fe)},this),300)},this),Jt=this.identify().at(lt.latlng);this.options.mosaicRule&&Jt.setMosaicRule(this.options.mosaicRule),Jt.run(Dt),this._shouldRenderPopup=!0,this._lastClick=lt.latlng},_buildExportParams:function(){var lt=parseInt(this._map.options.crs.code.split(":")[1],10),Dt={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:lt,imageSR:lt};return this.options.from&&this.options.to&&(Dt.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(Dt.pixelType=this.options.pixelType),this.options.interpolation&&(Dt.interpolation=this.options.interpolation),this.options.compressionQuality&&(Dt.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(Dt.bandIds=this.options.bandIds),(0===this.options.noData||this.options.noData)&&(Dt.noData=this.options.noData),this.options.noDataInterpretation&&(Dt.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(Dt.token=this.service.options.token),this.options.renderingRule&&(Dt.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(Dt.mosaicRule=JSON.stringify(this.options.mosaicRule)),Dt},_requestExport:function(lt,Dt){if("json"===this.options.f)this.service.request("exportImage",lt,function(he,Te){he||(this.options.token&&(Te.href+="?token="+this.options.token),this.options.proxy&&(Te.href=this.options.proxy+"?"+Te.href),this._renderImage(Te.href,Dt))},this);else{lt.f="image";var Jt=this.options.url+"exportImage"+e.Util.getParamString(lt);this.options.proxy&&(Jt=this.options.proxy+"?"+Jt),this._renderImage(Jt,Dt)}}}),ji=Si.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(lt){lt=yt(lt),this.service=Ut(lt),this.service.addEventParent(this),e.Util.setOptions(this,lt)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(lt){return this.options.dynamicLayers=lt,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(lt){return this.options.layers=lt,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(lt){return this.options.layerDefs=lt,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(lt){return this.options.timeOptions=lt,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(lt){var Dt,Jt=e.Util.bind(function(Te,Fe,Ci){Te||setTimeout(e.Util.bind(function(){this._renderPopup(lt.latlng,Te,Fe,Ci)},this),300)},this);if((Dt=this.options.popup?this.options.popup.on(this._map).at(lt.latlng):this.identify().on(this._map).at(lt.latlng)).params.maxAllowableOffset||Dt.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||Dt.layers(this.options.layers?"visible:"+this.options.layers.join(","):"visible"),this.options.layerDefs&&"string"!=typeof this.options.layerDefs&&!Dt.params.layerDefs)for(var he in this.options.layerDefs)Object.prototype.hasOwnProperty.call(this.options.layerDefs,he)&&Dt.layerDef(he,this.options.layerDefs[he]);Dt.run(Jt),this._shouldRenderPopup=!0,this._lastClick=lt.latlng},_buildExportParams:function(){var lt=parseInt(this._map.options.crs.code.split(":")[1],10),Dt={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:lt,imageSR:lt};if(this.options.dynamicLayers&&(Dt.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(0===this.options.layers.length)return;Dt.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(Dt.layerDefs="string"==typeof this.options.layerDefs?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(Dt.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(Dt.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(Dt.token=this.service.options.token),this.options.proxy&&(Dt.proxy=this.options.proxy),this.options.disableCache&&(Dt._ts=Date.now()),Dt},_requestExport:function(lt,Dt){if("json"===this.options.f)this.service.request("export",lt,function(he,Te){he||(this.options.token&&Te.href&&(Te.href+="?token="+this.options.token),this.options.proxy&&Te.href&&(Te.href=this.options.proxy+"?"+Te.href),Te.href?this._renderImage(Te.href,Dt):this._renderImage(Te.imageData,Dt,Te.contentType))},this);else{lt.f="image";var Jt=this.options.url+"export"+e.Util.getParamString(lt);this.options.proxy&&(Jt=this.options.proxy+"?"+Jt),this._renderImage(Jt,Dt)}}}),ui=e.Layer.extend({options:{cellSize:512,updateWhenIdle:e.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(lt){e.Util.setOptions(this,lt)},onAdd:function(lt){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(lt){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var lt={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=e.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),lt.move=this._onMove),lt},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var lt=this.options.cellSize;return lt instanceof e.Point?lt:new e.Point(lt,lt)},_pruneCells:function(){if(this._map){var lt,Dt;for(lt in this._cells)(Dt=this._cells[lt]).retain=Dt.current;for(lt in this._cells)if((Dt=this._cells[lt]).current&&!Dt.active){var Jt=Dt.coords;this._retainParent(Jt.x,Jt.y,Jt.z,Jt.z-5)||this._retainChildren(Jt.x,Jt.y,Jt.z,Jt.z+2)}for(lt in this._cells)this._cells[lt].retain||this._removeCell(lt)}},_removeAllCells:function(){for(var lt in this._cells)this._removeCell(lt)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(lt,Dt,Jt,he){var Te=Math.floor(lt/2),Fe=Math.floor(Dt/2),Ci=Jt-1,Hi=new e.Point(+Te,+Fe);Hi.z=+Ci;var Ri=this._cellCoordsToKey(Hi),nn=this._cells[Ri];return nn&&nn.active?(nn.retain=!0,!0):(nn&&nn.loaded&&(nn.retain=!0),Ci>he&&this._retainParent(Te,Fe,Ci,he))},_retainChildren:function(lt,Dt,Jt,he){for(var Te=2*lt;Te<2*lt+2;Te++)for(var Fe=2*Dt;Fe<2*Dt+2;Fe++){var Ci=new e.Point(Te,Fe);Ci.z=Jt+1;var Hi=this._cellCoordsToKey(Ci),Ri=this._cells[Hi];Ri&&Ri.active?Ri.retain=!0:(Ri&&Ri.loaded&&(Ri.retain=!0),Jt+1<he&&this._retainChildren(Te,Fe,Jt+1,he))}},_resetView:function(lt){var Dt=lt&&(lt.pinch||lt.flyTo);Dt||this._setView(this._map.getCenter(),this._map.getZoom(),Dt,Dt)},_setView:function(lt,Dt,Jt,he){var Te=Math.round(Dt);he||(this._cellZoom=Te,this._abortLoading&&this._abortLoading(),this._resetGrid(),void 0!==Te&&this._update(lt),Jt||this._pruneCells(),this._noPrune=!!Jt)},_resetGrid:function(){var lt=this._map,Dt=lt.options.crs,Jt=this._cellSize=this.getCellSize(),he=this._cellZoom,Te=this._map.getPixelWorldBounds(this._cellZoom);Te&&(this._globalCellRange=this._pxBoundsToCellRange(Te)),this._wrapX=Dt.wrapLng&&!this.options.noWrap&&[Math.floor(lt.project([0,Dt.wrapLng[0]],he).x/Jt.x),Math.ceil(lt.project([0,Dt.wrapLng[1]],he).x/Jt.y)],this._wrapY=Dt.wrapLat&&!this.options.noWrap&&[Math.floor(lt.project([Dt.wrapLat[0],0],he).y/Jt.x),Math.ceil(lt.project([Dt.wrapLat[1],0],he).y/Jt.y)]},_onMoveEnd:function(lt){lt&&(lt.pinch||lt.flyTo)||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(lt){var Dt=this._map,Jt=Dt._animatingZoom?Math.max(Dt._animateToZoom,Dt.getZoom()):Dt.getZoom(),he=Dt.getZoomScale(Jt,this._cellZoom),Te=Dt.project(lt,this._cellZoom).floor(),Fe=Dt.getSize().divideBy(2*he);return new e.Bounds(Te.subtract(Fe),Te.add(Fe))},_update:function(lt){var Dt=this._map;if(Dt){var Jt=Math.round(Dt.getZoom());void 0===lt&&(lt=Dt.getCenter());var he=this._getCelldPixelBounds(lt),Te=this._pxBoundsToCellRange(he),Fe=Te.getCenter(),Ci=[],Hi=this.options.keepBuffer,Ri=new e.Bounds(Te.getBottomLeft().subtract([Hi,-Hi]),Te.getTopRight().add([Hi,-Hi]));if(!(isFinite(Te.min.x)&&isFinite(Te.min.y)&&isFinite(Te.max.x)&&isFinite(Te.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var nn in this._cells){var gn=this._cells[nn].coords;gn.z===this._cellZoom&&Ri.contains(new e.Point(gn.x,gn.y))||(this._cells[nn].current=!1)}if(Math.abs(Jt-this._cellZoom)>1)this._setView(lt,Jt);else{for(var Hn=Te.min.y;Hn<=Te.max.y;Hn++)for(var Gn=Te.min.x;Gn<=Te.max.x;Gn++){var Ji=new e.Point(Gn,Hn);if(Ji.z=this._cellZoom,this._isValidCell(Ji)){var ci=this._cells[this._cellCoordsToKey(Ji)];ci?ci.current=!0:Ci.push(Ji)}}if(Ci.sort(function($i,rn){return $i.distanceTo(Fe)-rn.distanceTo(Fe)}),0!==Ci.length)for(this._loading||(this._loading=!0),Gn=0;Gn<Ci.length;Gn++){var mi=this._cellCoordsToKey(Ci[Gn]),yi=this._keyToCellCoords(mi);this._activeCells[yi]?this._reuseCell(Ci[Gn]):this._createCell(Ci[Gn])}}}},_isValidCell:function(lt){var Dt=this._map.options.crs;if(!Dt.infinite){var Jt=this._globalCellRange;if(!Dt.wrapLng&&(lt.x<Jt.min.x||lt.x>Jt.max.x)||!Dt.wrapLat&&(lt.y<Jt.min.y||lt.y>Jt.max.y))return!1}if(!this.options.bounds)return!0;var he=this._cellCoordsToBounds(lt);return e.toLatLngBounds(this.options.bounds).overlaps(he)},_keyToBounds:function(lt){return this._cellCoordsToBounds(this._keyToCellCoords(lt))},_cellCoordsToNwSe:function(lt){var Dt=this._map,Jt=this.getCellSize(),he=lt.scaleBy(Jt),Te=he.add(Jt);return[Dt.unproject(he,lt.z),Dt.unproject(Te,lt.z)]},_cellCoordsToBounds:function(lt){var Dt=this._cellCoordsToNwSe(lt),Jt=new e.LatLngBounds(Dt[0],Dt[1]);return this.options.noWrap||(Jt=this._map.wrapLatLngBounds(Jt)),Jt},_cellCoordsToKey:function(lt){return lt.x+":"+lt.y+":"+lt.z},_keyToCellCoords:function(lt){var Dt=lt.split(":"),Jt=new e.Point(+Dt[0],+Dt[1]);return Jt.z=+Dt[2],Jt},_removeCell:function(lt){var Dt=this._cells[lt];if(Dt){var Jt=this._keyToCellCoords(lt),he=this._wrapCoords(Jt),Te=this._cellCoordsToBounds(this._wrapCoords(Jt));Dt.current=!1,delete this._cells[lt],this._activeCells[lt]=Dt,this.cellLeave(Te,he,lt),this.fire("cellleave",{key:lt,coords:he,bounds:Te})}},_reuseCell:function(lt){var Dt=this._cellCoordsToKey(lt);this._cells[Dt]=this._activeCells[Dt],this._cells[Dt].current=!0;var Jt=this._wrapCoords(lt),he=this._cellCoordsToBounds(this._wrapCoords(lt));this.cellEnter(he,Jt,Dt),this.fire("cellenter",{key:Dt,coords:Jt,bounds:he})},_createCell:function(lt){var Dt=this._cellCoordsToKey(lt),Jt=this._wrapCoords(lt),he=this._cellCoordsToBounds(this._wrapCoords(lt));this.createCell(he,Jt,Dt),this.fire("cellcreate",{key:Dt,coords:Jt,bounds:he}),this._cells[Dt]={coords:lt,current:!0},e.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(lt,Dt,Jt){var he=this._cellCoordsToKey(lt);(Jt=this._cells[he])&&(Jt.loaded=+new Date,Jt.active=!0)},_getCellPos:function(lt){return lt.scaleBy(this.getCellSize())},_wrapCoords:function(lt){var Dt=new e.Point(this._wrapX?e.Util.wrapNum(lt.x,this._wrapX):lt.x,this._wrapY?e.Util.wrapNum(lt.y,this._wrapY):lt.y);return Dt.z=lt.z,Dt},_pxBoundsToCellRange:function(lt){var Dt=this.getCellSize();return new e.Bounds(lt.min.unscaleBy(Dt).floor(),lt.max.unscaleBy(Dt).ceil().subtract([1,1]))}});function Pi(lt){this.values=[].concat(lt||[])}Pi.prototype.query=function(lt){var Dt=this.getIndex(lt);return this.values[Dt]},Pi.prototype.getIndex=function(lt){this.dirty&&this.sort();for(var Dt,Jt,he=0,Te=this.values.length-1;he<=Te;)if(Dt=(he+Te)/2|0,+(Jt=this.values[Math.round(Dt)]).value<+lt)he=Dt+1;else{if(!(+Jt.value>+lt))return Dt;Te=Dt-1}return Math.abs(~Te)},Pi.prototype.between=function(lt,Dt){var Jt=this.getIndex(lt),he=this.getIndex(Dt);if(0===Jt&&0===he)return[];for(;this.values[Jt-1]&&this.values[Jt-1].value===lt;)Jt--;for(;this.values[he+1]&&this.values[he+1].value===Dt;)he++;return this.values[he]&&this.values[he].value===Dt&&this.values[he+1]&&he++,this.values.slice(Jt,he)},Pi.prototype.insert=function(lt){return this.values.splice(this.getIndex(lt.value),0,lt),this},Pi.prototype.bulkAdd=function(lt,Dt){return this.values=this.values.concat([].concat(lt||[])),Dt?this.sort():this.dirty=!0,this},Pi.prototype.sort=function(){return this.values.sort(function(lt,Dt){return+Dt.value-+lt.value}).reverse(),this.dirty=!1,this};var Ai=ui.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(lt){if(ui.prototype.initialize.call(this,lt),lt=yt(lt),lt=e.Util.setOptions(this,lt),this.service=ve(lt),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var Dt=!1,Jt=0;Jt<this.options.fields.length;Jt++)this.options.fields[Jt].match(/^(OBJECTID|FID|OID|ID)$/i)&&(Dt=!0);!1===Dt&&l("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Pi,this._endTimeIndex=new Pi):this.options.timeField&&(this._timeIndex=new Pi),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(lt){return wt(lt),this.service.metadata(function(Dt,Jt){if(!Dt){var he=Jt.supportedQueryFormats,Te=!1;(!1===this.service.options.isModern||this.options.fetchAllFeatures)&&(Te=!0),!Te&&he&&-1!==he.indexOf("geoJSON")&&(this.service.options.isModern=!0),Jt.objectIdField&&(this.service.options.idAttribute=Jt.objectIdField),!this.options.attribution&&lt.attributionControl&&Jt.copyrightText&&(this.options.attribution=Jt.copyrightText,lt.attributionControl.addAttribution(this.getAttribution()))}},this),lt.on("zoomend",this._handleZoomChange,this),ui.prototype.onAdd.call(this,lt)},onRemove:function(lt){return St(lt),lt.off("zoomend",this._handleZoomChange,this),ui.prototype.onRemove.call(this,lt)},getAttribution:function(){return this.options.attribution},createCell:function(lt,Dt){this._visibleZoom()&&this._requestFeatures(lt,Dt)},_requestFeatures:function(lt,Dt,Jt,he){this._activeRequests++,he=he||0;var Te=this.options.where;return 1===this._activeRequests&&this.fire("loading",{bounds:lt},!0),this._buildQuery(lt,he).run(function(Fe,Ci,Hi){Hi&&Hi.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===Te&&(!Fe&&Ci&&Ci.features.length&&e.Util.requestAnimFrame(e.Util.bind(function(){this._addFeatures(Ci.features,Dt),this._postProcessFeatures(lt)},this)),Fe||!Ci||Ci.features.length||this._postProcessFeatures(lt),Fe&&this._postProcessFeatures(lt),Jt&&Jt.call(this,Fe,Ci),Hi&&(Hi.exceededTransferLimit||Hi.properties&&Hi.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(lt,Dt,Jt,he+Ci.features.length))},this)},_postProcessFeatures:function(lt){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:lt})},_cacheKey:function(lt){return lt.z+":"+lt.x+":"+lt.y},_addFeatures:function(lt,Dt){if(Dt){var Jt=this._cacheKey(Dt);this._cache[Jt]=this._cache[Jt]||[]}for(var he=lt.length-1;he>=0;he--){var Te=lt[he].id;-1===this._currentSnapshot.indexOf(Te)&&this._currentSnapshot.push(Te),void 0!==Jt&&-1===this._cache[Jt].indexOf(Te)&&this._cache[Jt].push(Te)}this.options.timeField&&this._buildTimeIndexes(lt),this.createLayers(lt)},_buildQuery:function(lt,Dt){var Jt=this.service.query().intersects(lt).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(Dt))&&(Jt=Jt.offset(Dt)),Jt.params.resultType="tile",this.options.requestParams&&e.Util.extend(Jt.params,this.options.requestParams),this.options.simplifyFactor&&Jt.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&Jt.between(this.options.from,this.options.to),Jt},setWhere:function(lt,Dt,Jt){this.options.where=lt&&lt.length?lt:"1=1";for(var he=[],Te=[],Fe=0,Ci=null,Hi=e.Util.bind(function(Gn,Ji){if(Gn&&(Ci=Gn),Ji)for(var ci=Ji.features.length-1;ci>=0;ci--)Te.push(Ji.features[ci].id);--Fe<=0&&this._visibleZoom()&&lt===this.options.where&&(this._currentSnapshot=Te,e.Util.requestAnimFrame(e.Util.bind(function(){this.removeLayers(he),this.addLayers(Te),Dt&&Dt.call(Jt,Ci)},this)))},this),Ri=this._currentSnapshot.length-1;Ri>=0;Ri--)he.push(this._currentSnapshot[Ri]);for(var nn in this._cache={},this._cells){Fe++;var gn=this._keyToCellCoords(nn),Hn=this._cellCoordsToBounds(gn);this._requestFeatures(Hn,gn,Hi)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(lt,Dt,Jt,he){var Te=this.options.from,Fe=this.options.to,Ci=0,Hi=null,Ri=e.Util.bind(function(Gn){Gn&&(Hi=Gn),this._filterExistingFeatures(Te,Fe,lt,Dt),Ci--,Jt&&Ci<=0&&Jt.call(he,Hi)},this);if(this.options.from=lt,this.options.to=Dt,this._filterExistingFeatures(Te,Fe,lt,Dt),"server"===this.options.timeFilterMode)for(var nn in this._cells){Ci++;var gn=this._keyToCellCoords(nn),Hn=this._cellCoordsToBounds(gn);this._requestFeatures(Hn,gn,Ri)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(lt,Dt,Jt,he){var Te=lt&&Dt?this._getFeaturesInTimeRange(lt,Dt):this._currentSnapshot,Fe=this._getFeaturesInTimeRange(Jt,he);if(Fe.indexOf)for(var Ci=0;Ci<Fe.length;Ci++){var Hi=Te.indexOf(Fe[Ci]);Hi>=0&&Te.splice(Hi,1)}e.Util.requestAnimFrame(e.Util.bind(function(){this.removeLayers(Te),this.addLayers(Fe)},this))},_getFeaturesInTimeRange:function(lt,Dt){var Jt,he=[];if(this.options.timeField.start&&this.options.timeField.end){var Te=this._startTimeIndex.between(lt,Dt),Fe=this._endTimeIndex.between(lt,Dt);Jt=Te.concat(Fe)}else{if(!this._timeIndex)return l("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];Jt=this._timeIndex.between(lt,Dt)}for(var Ci=Jt.length-1;Ci>=0;Ci--)he.push(Jt[Ci].id);return he},_buildTimeIndexes:function(lt){var Dt,Jt;if(this.options.timeField.start&&this.options.timeField.end){var he=[],Te=[];for(Dt=lt.length-1;Dt>=0;Dt--)he.push({id:(Jt=lt[Dt]).id,value:new Date(Jt.properties[this.options.timeField.start])}),Te.push({id:Jt.id,value:new Date(Jt.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(he),this._endTimeIndex.bulkAdd(Te)}else{var Fe=[];for(Dt=lt.length-1;Dt>=0;Dt--)Fe.push({id:(Jt=lt[Dt]).id,value:new Date(Jt.properties[this.options.timeField])});this._timeIndex.bulkAdd(Fe)}},_featureWithinTimeRange:function(lt){if(!this.options.from||!this.options.to)return!0;var Dt=+this.options.from.valueOf(),Jt=+this.options.to.valueOf();if("string"==typeof this.options.timeField){var he=+lt.properties[this.options.timeField];return he>=Dt&&he<=Jt}if(this.options.timeField.start&&this.options.timeField.end){var Te=+lt.properties[this.options.timeField.start],Fe=+lt.properties[this.options.timeField.end];return Te>=Dt&&Te<=Jt||Fe>=Dt&&Fe<=Jt||Te<=Dt&&Fe>=Jt}},_visibleZoom:function(){if(!this._map)return!1;var lt=this._map.getZoom();return!(lt>this.options.maxZoom||lt<this.options.minZoom)},_handleZoomChange:function(){if(this._visibleZoom())for(var lt in this._cells){var Jt=this._cacheKey(this._cells[lt].coords);this._cache[Jt]&&this.addLayers(this._cache[Jt])}else this.removeLayers(this._currentSnapshot),this._currentSnapshot=[]},authenticate:function(lt){return this.service.authenticate(lt),this},metadata:function(lt,Dt){return this.service.metadata(lt,Dt),this},query:function(){return this.service.query()},_getMetadata:function(lt){this._metadata?lt(void 0,this._metadata):this.metadata(e.Util.bind(function(Dt,Jt){this._metadata=Jt,lt(Dt,this._metadata)},this))},addFeature:function(lt,Dt,Jt){this.addFeatures(lt,Dt,Jt)},addFeatures:function(lt,Dt,Jt){this._getMetadata(e.Util.bind(function(he,Te){if(he)Dt&&Dt.call(this,he,null);else{var Fe=lt.features?lt.features:[lt];this.service.addFeatures(lt,e.Util.bind(function(Ci,Hi){if(!Ci){for(var Ri=Fe.length-1;Ri>=0;Ri--)Fe[Ri].properties[Te.objectIdField]=Fe.length>1?Hi[Ri].objectId:Hi.objectId,Fe[Ri].id=Fe.length>1?Hi[Ri].objectId:Hi.objectId;this._addFeatures(Fe)}Dt&&Dt.call(Jt,Ci,Hi)},this))}},this))},updateFeature:function(lt,Dt,Jt){this.updateFeatures(lt,Dt,Jt)},updateFeatures:function(lt,Dt,Jt){var he=lt.features?lt.features:[lt];this.service.updateFeatures(lt,function(Te,Fe){if(!Te){for(var Ci=he.length-1;Ci>=0;Ci--)this.removeLayers([he[Ci].id],!0);this._addFeatures(he)}Dt&&Dt.call(Jt,Te,Fe)},this)},deleteFeature:function(lt,Dt,Jt){this.deleteFeatures(lt,Dt,Jt)},deleteFeatures:function(lt,Dt,Jt){return this.service.deleteFeatures(lt,function(he,Te){var Fe=Te.length?Te:[Te];if(!he&&Fe.length>0)for(var Ci=Fe.length-1;Ci>=0;Ci--)this.removeLayers([Fe[Ci].objectId],!0);Dt&&Dt.call(Jt,he,Te)},this)}}),ke=Ai.extend({options:{cacheLayers:!0},initialize:function(lt){lt.apikey&&(lt.token=lt.apikey),Ai.prototype.initialize.call(this,lt),this._originalStyle=this.options.style,this._layers={}},onRemove:function(lt){for(var Dt in this._layers)lt.removeLayer(this._layers[Dt]),this.fire("removefeature",{feature:this._layers[Dt].feature,permanent:!1},!0);return Ai.prototype.onRemove.call(this,lt)},createNewLayer:function(lt){var Dt=e.GeoJSON.geometryToLayer(lt,this.options);return Dt&&(Dt.defaultOptions=Dt.options),Dt},_updateLayer:function(lt,Dt){var Jt=[],he=this.options.coordsToLatLng||e.GeoJSON.coordsToLatLng;switch(Dt.properties&&(lt.feature.properties=Dt.properties),Dt.geometry.type){case"Point":Jt=e.GeoJSON.coordsToLatLng(Dt.geometry.coordinates),lt.setLatLng(Jt);break;case"LineString":Jt=e.GeoJSON.coordsToLatLngs(Dt.geometry.coordinates,0,he),lt.setLatLngs(Jt);break;case"MultiLineString":case"Polygon":Jt=e.GeoJSON.coordsToLatLngs(Dt.geometry.coordinates,1,he),lt.setLatLngs(Jt);break;case"MultiPolygon":Jt=e.GeoJSON.coordsToLatLngs(Dt.geometry.coordinates,2,he),lt.setLatLngs(Jt)}this.redraw(lt.feature.id)},createLayers:function(lt){for(var Dt=lt.length-1;Dt>=0;Dt--){var Jt,he=lt[Dt],Te=this._layers[he.id];!this._visibleZoom()||!Te||this._map.hasLayer(Te)||this.options.timeField&&!this._featureWithinTimeRange(he)||(this._map.addLayer(Te),this.fire("addfeature",{feature:Te.feature},!0)),Te&&(Te.setLatLngs||Te.setLatLng)&&this._updateLayer(Te,he),Te||((Jt=this.createNewLayer(he))?(Jt.feature=he,Jt.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(Jt.feature,Jt),this._layers[Jt.feature.id]=Jt,this.setFeatureStyle(Jt.feature.id,this.options.style),this.fire("createfeature",{feature:Jt.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(he))&&this._map.addLayer(Jt)):l("invalid GeoJSON encountered"))}},addLayers:function(lt){for(var Dt=lt.length-1;Dt>=0;Dt--){var Jt=this._layers[lt[Dt]];!Jt||this.options.timeField&&!this._featureWithinTimeRange(Jt.feature)||(this._map.addLayer(Jt),this.fire("addfeature",{feature:Jt.feature},!0))}},removeLayers:function(lt,Dt){for(var Jt=lt.length-1;Jt>=0;Jt--){var he=lt[Jt],Te=this._layers[he];Te&&(this.fire("removefeature",{feature:Te.feature,permanent:Dt},!0),this._map.removeLayer(Te)),Te&&Dt&&delete this._layers[he]}},cellEnter:function(lt,Dt){this._visibleZoom()&&!this._zooming&&this._map&&e.Util.requestAnimFrame(e.Util.bind(function(){var Jt=this._cacheKey(Dt),he=this._cellCoordsToKey(Dt),Te=this._cache[Jt];this._activeCells[he]&&Te&&this.addLayers(Te)},this))},cellLeave:function(lt,Dt){this._zooming||e.Util.requestAnimFrame(e.Util.bind(function(){if(this._map){var Jt=this._cacheKey(Dt),he=this._cellCoordsToKey(Dt),Te=this._cache[Jt],Fe=this._map.getBounds();if(!this._activeCells[he]&&Te){for(var Ci=!0,Hi=0;Hi<Te.length;Hi++){var Ri=this._layers[Te[Hi]];Ri&&Ri.getBounds&&Fe.intersects(Ri.getBounds())&&(Ci=!1)}Ci&&this.removeLayers(Te,!this.options.cacheLayers),!this.options.cacheLayers&&Ci&&(delete this._cache[Jt],delete this._cells[he],delete this._activeCells[he])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(lt){this.resetFeatureStyle(lt.feature.id)},this),this},setStyle:function(lt){return this.options.style=lt,this.eachFeature(function(Dt){this.setFeatureStyle(Dt.feature.id,lt)},this),this},resetFeatureStyle:function(lt){var Dt=this._layers[lt],Jt=this._originalStyle||e.Path.prototype.options;return Dt&&(e.Util.extend(Dt.options,Dt.defaultOptions),this.setFeatureStyle(lt,Jt)),this},setFeatureStyle:function(lt,Dt){var Jt=this._layers[lt];return"function"==typeof Dt&&(Dt=Dt(Jt.feature)),Jt.setStyle&&Jt.setStyle(Dt),this},eachActiveFeature:function(lt,Dt){if(this._map){var Jt=this._map.getBounds();for(var he in this._layers)-1!==this._currentSnapshot.indexOf(this._layers[he].feature.id)&&("function"==typeof this._layers[he].getLatLng&&Jt.contains(this._layers[he].getLatLng())||"function"==typeof this._layers[he].getBounds&&Jt.intersects(this._layers[he].getBounds()))&&lt.call(Dt,this._layers[he])}return this},eachFeature:function(lt,Dt){for(var Jt in this._layers)lt.call(Dt,this._layers[Jt]);return this},getFeature:function(lt){return this._layers[lt]},bringToBack:function(){this.eachFeature(function(lt){lt.bringToBack&&lt.bringToBack()})},bringToFront:function(){this.eachFeature(function(lt){lt.bringToFront&&lt.bringToFront()})},redraw:function(lt){return lt&&this._redraw(lt),this},_redraw:function(lt){var Dt=this._layers[lt],Jt=Dt.feature;if(Dt&&Dt.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var he=this.options.pointToLayer(Jt,e.latLng(Jt.geometry.coordinates[1],Jt.geometry.coordinates[0])).options.icon;Dt.setIcon(he)}if(Dt&&Dt.setStyle&&this.options.pointToLayer){var Te=this.options.pointToLayer(Jt,e.latLng(Jt.geometry.coordinates[1],Jt.geometry.coordinates[0])).options;this.setFeatureStyle(Jt.id,Te)}Dt&&Dt.setStyle&&this.options.style&&this.resetFeatureStyle(Jt.id)}});v.BasemapLayer=We,v.DynamicMapLayer=ji,v.FeatureLayer=ke,v.FeatureLayerService=me,v.FeatureManager=Ai,v.Find=kt,v.Identify=Xt,v.IdentifyFeatures=Ft,v.IdentifyImage=ae,v.ImageMapLayer=bi,v.ImageService=Vt,v.MapService=re,v.Query=Ct,v.RasterLayer=Si,v.Service=de,v.Support=S,v.Task=Lt,v.TiledMapLayer=$e,v.Util=dt,v.VERSION="3.0.9",v.basemapLayer=function(lt,Dt){return new We(lt,Dt)},v.dynamicMapLayer=function(lt,Dt){return new ji(lt,Dt)},v.featureLayer=function(lt){return new ke(lt)},v.featureLayerService=ve,v.find=Rt,v.get=h,v.identify=function(lt){return new Xt(lt)},v.identifyFeatures=qt,v.identifyImage=te,v.imageMapLayer=function(lt,Dt){return new bi(lt,Dt)},v.imageService=ue,v.mapService=Ut,v.options=M,v.post=F,v.query=vt,v.request=E,v.service=function(lt){return lt=yt(lt),new de(lt)},v.task=function(lt){return lt=yt(lt),new Lt(lt)},v.tiledMapLayer=function(lt,Dt){return new $e(lt,Dt)},Object.defineProperty(v,"__esModule",{value:!0})}),function(v,e){"object"==typeof exports&&typeof module<"u"?e(exports,require("leaflet"),require("esri-leaflet")):"function"==typeof define&&define.amd?define(["exports","leaflet","esri-leaflet"],e):e(((v=typeof globalThis<"u"?globalThis:v||self).L=v.L||{},v.L.esri=v.L.esri||{},v.L.esri.Vector={}),v.L,v.L.esri)}(this,function(v,e,i){"use strict";function c(p,x,T){i.request(p,x.token?{token:x.token}:{},T)}function M(p,x,T){c(p,x,function(b,I){b&&console.error(b);var u,n=p;"/"===p.charAt(p.length-1)&&(n=p.slice(0,p.length-1)),U(u="/"===I.defaultStyles.charAt(0)?n+I.defaultStyles+"/root.json":n+"/"+I.defaultStyles+"/root.json",x,function(k,C){k&&console.error(k),T(null,C,u,I,p)})})}function U(p,x,T){i.request(p,x.token?{token:x.token}:{},T)}function G(p,x){i.Support.cors&&i.request(p,{},function(T,b){if(!T){x._esriAttributions=x._esriAttributions||[];for(var I=0;I<b.contributors.length;I++)for(var u=b.contributors[I],n=0;n<u.coverageAreas.length;n++){var k=u.coverageAreas[n],C=e.latLng(k.bbox[0],k.bbox[1]),O=e.latLng(k.bbox[2],k.bbox[3]);x._esriAttributions.push({attribution:u.attribution,score:k.score,bounds:e.latLngBounds(C,O),minZoom:k.zoomMin,maxZoom:k.zoomMax})}x._esriAttributions.sort(function(A,P){return P.score-A.score}),i.Util._updateMapAttribution({target:x})}})}const X=[3857,102100,102113];typeof globalThis<"u"||typeof window<"u"||typeof global<"u"&&global;var F={exports:{}};F.exports=function(){var T,b,I;function u(n,k){if(T)if(b){var C="var sharedChunk = {}; ("+T+")(sharedChunk); ("+b+")(sharedChunk);",O={};T(O),I=k(O),typeof window<"u"&&(I.workerUrl=window.URL.createObjectURL(new Blob([C],{type:"text/javascript"})))}else b=k;else T=k}return u(0,function(n){function k(t,r){return t(r={exports:{}},r.exports),r.exports}var C=O;function O(t,r,d,N){this.cx=3*t,this.bx=3*(d-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(N-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=N,this.p2x=d,this.p2y=N}O.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},O.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},O.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},O.prototype.solveCurveX=function(t,r){var d,N,W,Q,st;for(void 0===r&&(r=1e-6),W=t,st=0;st<8;st++){if(Q=this.sampleCurveX(W)-t,Math.abs(Q)<r)return W;var bt=this.sampleCurveDerivativeX(W);if(Math.abs(bt)<1e-6)break;W-=Q/bt}if((W=t)<(d=0))return d;if(W>(N=1))return N;for(;d<N;){if(Q=this.sampleCurveX(W),Math.abs(Q-t)<r)return W;t>Q?d=W:N=W,W=.5*(N-d)+d}return W},O.prototype.solve=function(t,r){return this.sampleCurveY(this.solveCurveX(t,r))};var m=A;function A(t,r){this.x=t,this.y=r}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,d=t.y-this.y;return r*r+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var r=Math.cos(t),d=Math.sin(t),N=d*this.x+r*this.y;return this.x=r*this.x-d*this.y,this.y=N,this},_rotateAround:function(t,r){var d=Math.cos(t),N=Math.sin(t),W=r.y+N*(this.x-r.x)+d*(this.y-r.y);return this.x=r.x+d*(this.x-r.x)-N*(this.y-r.y),this.y=W,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},A.convert=function(t){return t instanceof A?t:Array.isArray(t)?new A(t[0],t[1]):t};var P=typeof self<"u"?self:{},D=Math.pow(2,53)-1;function f(t,r,d,N){var W=new C(t,r,d,N);return function(Q){return W.solve(Q)}}var o=f(.25,.1,.25,1);function B(t,r,d){return Math.min(d,Math.max(r,t))}function V(t,r,d){var N=d-r,W=((t-r)%N+N)%N+r;return W===r?d:W}function q(t){for(var r=[],d=arguments.length-1;d-- >0;)r[d]=arguments[d+1];for(var N=0,W=r;N<W.length;N+=1){var Q=W[N];for(var st in Q)t[st]=Q[st]}return t}var nt=1;function yt(){return nt++}function ut(){return function t(r){return r?(r^16*Math.random()>>r/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function Y(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function tt(t,r){t.forEach(function(d){r[d]&&(r[d]=r[d].bind(r))})}function wt(t,r){return-1!==t.indexOf(r,t.length-r.length)}function St(t,r,d){var N={};for(var W in t)N[W]=r.call(d||this,t[W],W,t);return N}function At(t,r,d){var N={};for(var W in t)r.call(d||this,t[W],W,t)&&(N[W]=t[W]);return N}function ht(t){return Array.isArray(t)?t.map(ht):"object"==typeof t&&t?St(t,ht):t}var mt={};function dt(t){mt[t]||(typeof console<"u"&&console.warn(t),mt[t]=!0)}function Lt(t,r,d){return(d.y-t.y)*(r.x-t.x)>(r.y-t.y)*(d.x-t.x)}function Ct(t){for(var r=0,d=0,N=t.length,W=N-1,Q=void 0,st=void 0;d<N;W=d++)r+=((st=t[W]).x-(Q=t[d]).x)*(Q.y+st.y);return r}function vt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function kt(t){var r={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(N,W,Q,st){var bt=Q||st;return r[W]=!bt||bt.toLowerCase(),""}),r["max-age"]){var d=parseInt(r["max-age"],10);isNaN(d)?delete r["max-age"]:r["max-age"]=d}return r}var Rt=null;function Xt(t){if(null==Rt){var r=t.navigator?t.navigator.userAgent:null;Rt=!!t.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return Rt}function Ft(t){try{var r=P[t];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch{return!1}}var qt,ae,te,de,re=P.performance&&P.performance.now?P.performance.now.bind(P.performance):Date.now.bind(Date),Ut=P.requestAnimationFrame||P.mozRequestAnimationFrame||P.webkitRequestAnimationFrame||P.msRequestAnimationFrame,Vt=P.cancelAnimationFrame||P.mozCancelAnimationFrame||P.webkitCancelAnimationFrame||P.msCancelAnimationFrame,ue={now:re,frame:function(t){var r=Ut(t);return{cancel:function(){return Vt(r)}}},getImageData:function(t,r){void 0===r&&(r=0);var d=P.document.createElement("canvas"),N=d.getContext("2d");if(!N)throw new Error("failed to create canvas 2d context");return d.width=t.width,d.height=t.height,N.drawImage(t,0,0,t.width,t.height),N.getImageData(-r,-r,t.width+2*r,t.height+2*r)},resolveURL:function(t){return qt||(qt=P.document.createElement("a")),qt.href=t,qt.href},hardwareConcurrency:P.navigator&&P.navigator.hardwareConcurrency||4,get devicePixelRatio(){return P.devicePixelRatio},get prefersReducedMotion(){return!!P.matchMedia&&(null==ae&&(ae=P.matchMedia("(prefers-reduced-motion: reduce)")),ae.matches)}},me={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ve={supported:!1,testSupport:function(t){!le&&de&&(We?$e(t):te=t)}},le=!1,We=!1;function $e(t){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,de),t.isContextLost())return;ve.supported=!0}catch{}t.deleteTexture(r),le=!0}P.document&&((de=P.document.createElement("img")).onload=function(){te&&$e(te),te=null,We=!0},de.onerror=function(){le=!0,te=null},de.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Li="01",Si=function(t,r){this._transformRequestFn=t,this._customAccessToken=r,this._createSkuToken()};function bi(t){return 0===t.indexOf("mapbox:")}Si.prototype._createSkuToken=function(){var t=function(){for(var r="",d=0;d<10;d++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Li,r].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},Si.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Si.prototype.transformRequest=function(t,r){return this._transformRequestFn&&this._transformRequestFn(t,r)||{url:t}},Si.prototype.normalizeStyleURL=function(t,r){if(!bi(t))return t;var d=Ai(t);return d.path="/styles/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||r)},Si.prototype.normalizeGlyphsURL=function(t,r){if(!bi(t))return t;var d=Ai(t);return d.path="/fonts/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||r)},Si.prototype.normalizeSourceURL=function(t,r){if(!bi(t))return t;var d=Ai(t);return d.path="/v4/"+d.authority+".json",d.params.push("secure"),this._makeAPIURL(d,this._customAccessToken||r)},Si.prototype.normalizeSpriteURL=function(t,r,d,N){var W=Ai(t);return bi(t)?(W.path="/styles/v1"+W.path+"/sprite"+r+d,this._makeAPIURL(W,this._customAccessToken||N)):(W.path+=""+r+d,ke(W))},Si.prototype.normalizeTileURL=function(t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!bi(t))return t;var d=Ai(t);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,(ue.devicePixelRatio>=2||512===r?"@2x":"")+(ve.supported?".webp":"$1")),d.path=d.path.replace(/^.+\/v4\//,"/"),d.path="/v4"+d.path;var N=this._customAccessToken||function(W){for(var Q=0,st=W;Q<st.length;Q+=1){var bt=st[Q].match(/^access_token=(.*)$/);if(bt)return bt[1]}return null}(d.params)||me.ACCESS_TOKEN;return me.REQUIRE_ACCESS_TOKEN&&N&&this._skuToken&&d.params.push("sku="+this._skuToken),this._makeAPIURL(d,N)},Si.prototype.canonicalizeTileURL=function(t,r){var d=Ai(t);if(!d.path.match(/(^\/v4\/)/)||!d.path.match(/\.[\w]+$/))return t;var N="mapbox://tiles/";N+=d.path.replace("/v4/","");var W=d.params;return r&&(W=W.filter(function(Q){return!Q.match(/^access_token=/)})),W.length&&(N+="?"+W.join("&")),N},Si.prototype.canonicalizeTileset=function(t,r){for(var d=!!r&&bi(r),N=[],W=0,Q=t.tiles||[];W<Q.length;W+=1){var st=Q[W];ui(st)?N.push(this.canonicalizeTileURL(st,d)):N.push(st)}return N},Si.prototype._makeAPIURL=function(t,r){var d="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",N=Ai(me.API_URL);if(t.protocol=N.protocol,t.authority=N.authority,"http"===t.protocol){var W=t.params.indexOf("secure");W>=0&&t.params.splice(W,1)}if("/"!==N.path&&(t.path=""+N.path+t.path),!me.REQUIRE_ACCESS_TOKEN)return ke(t);if(!(r=r||me.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+d);if("s"===r[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+d);return t.params=t.params.filter(function(Q){return-1===Q.indexOf("access_token")}),t.params.push("access_token="+r),ke(t)};var ji=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function ui(t){return ji.test(t)}var Pi=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ai(t){var r=t.match(Pi);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function ke(t){var r=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+r}function di(t){if(!t)return null;var r=t.split(".");if(!r||3!==r.length)return null;try{return JSON.parse(decodeURIComponent(P.atob(r[1]).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var lt=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};lt.prototype.getStorageKey=function(t){var r,d=di(me.ACCESS_TOKEN);return r=d&&d.u?P.btoa(encodeURIComponent(d.u).replace(/%([0-9A-F]{2})/g,function(N,W){return String.fromCharCode(Number("0x"+W))})):me.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+r:"mapbox.eventData:"+r},lt.prototype.fetchEventData=function(){var t=Ft("localStorage"),r=this.getStorageKey(),d=this.getStorageKey("uuid");if(t)try{var N=P.localStorage.getItem(r);N&&(this.eventData=JSON.parse(N));var W=P.localStorage.getItem(d);W&&(this.anonId=W)}catch{dt("Unable to read from LocalStorage")}},lt.prototype.saveEventData=function(){var t=Ft("localStorage"),r=this.getStorageKey(),d=this.getStorageKey("uuid");if(t)try{P.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&P.localStorage.setItem(r,JSON.stringify(this.eventData))}catch{dt("Unable to write to LocalStorage")}},lt.prototype.processRequests=function(t){},lt.prototype.postEvent=function(t,r,d,N){var W=this;if(me.EVENTS_URL){var Q=Ai(me.EVENTS_URL);Q.params.push("access_token="+(N||me.ACCESS_TOKEN||""));var st={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.1",skuId:Li,userId:this.anonId},bt=r?q(st,r):st,Nt={url:ke(Q),headers:{"Content-Type":"text/plain"},body:JSON.stringify([bt])};this.pendingRequest=Qe(Nt,function(Ht){W.pendingRequest=null,d(Ht),W.saveEventData(),W.processRequests(N)})}},lt.prototype.queueRequest=function(t,r){this.queue.push(t),this.processRequests(r)};var Dt,Jt,he=function(t){function r(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.postMapLoadEvent=function(d,N,W,Q){this.skuToken=W,(me.EVENTS_URL&&Q||me.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(st){return bi(st)||ui(st)}))&&this.queueRequest({id:N,timestamp:Date.now()},Q)},r.prototype.processRequests=function(d){var N=this;if(!this.pendingRequest&&0!==this.queue.length){var W=this.queue.shift(),Q=W.id,st=W.timestamp;Q&&this.success[Q]||(this.anonId||this.fetchEventData(),Y(this.anonId)||(this.anonId=ut()),this.postEvent(st,{skuToken:this.skuToken},function(bt){bt||Q&&(N.success[Q]=!0)},d))}},r}(lt),Te=new(function(t){function r(d){t.call(this,"appUserTurnstile"),this._customAccessToken=d}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.postTurnstileEvent=function(d,N){me.EVENTS_URL&&me.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(W){return bi(W)||ui(W)})&&this.queueRequest(Date.now(),N)},r.prototype.processRequests=function(d){var N=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var W=di(me.ACCESS_TOKEN),Q=W?W.u:me.ACCESS_TOKEN,st=Q!==this.eventData.tokenU;Y(this.anonId)||(this.anonId=ut(),st=!0);var bt=this.queue.shift();if(this.eventData.lastSuccess){var Nt=new Date(this.eventData.lastSuccess),Ht=new Date(bt),$t=(bt-this.eventData.lastSuccess)/864e5;st=st||$t>=1||$t<-1||Nt.getDate()!==Ht.getDate()}else st=!0;if(!st)return this.processRequests();this.postEvent(bt,{"enabled.telemetry":!1},function(ee){ee||(N.eventData.lastSuccess=bt,N.eventData.tokenU=Q)},d)}},r}(lt)),Fe=Te.postTurnstileEvent.bind(Te),Ci=new he,Hi=Ci.postMapLoadEvent.bind(Ci),Ri=500,nn=50;function gn(){P.caches&&!Dt&&(Dt=P.caches.open("mapbox-tiles"))}function Hn(t){var r=t.indexOf("?");return r<0?t:t.slice(0,r)}var Gn,Ji=1/0;function ci(){return null==Gn&&(Gn=P.OffscreenCanvas&&new P.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof P.createImageBitmap),Gn}var mi={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(mi);var yi,$i,rn=function(t){function r(d,N,W){401===N&&ui(W)&&(d+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,d),this.status=N,this.url=W,this.name=this.constructor.name,this.message=d}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},r}(Error),Yi=vt()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===P.location.protocol?P.parent:P).location.href},Cn=function(t,r){if(!(/^file:/.test(d=t.url)||/^file:/.test(Yi())&&!/^\w+:/.test(d))){if(P.fetch&&P.Request&&P.AbortController&&P.Request.prototype.hasOwnProperty("signal"))return function(N,W){var Q,st=new P.AbortController,bt=new P.Request(N.url,{method:N.method||"GET",body:N.body,credentials:N.credentials,headers:N.headers,referrer:Yi(),signal:st.signal}),Nt=!1,Ht=!1,$t=(Q=bt.url).indexOf("sku=")>0&&ui(Q);"json"===N.type&&bt.headers.set("Accept","application/json");var ee=function(ge,Ee,Le){if(!Ht){if(ge&&"SecurityError"!==ge.message&&dt(ge),Ee&&Le)return ce(Ee);var qe=Date.now();P.fetch(bt).then(function(Ve){if(Ve.ok){var hi=$t?Ve.clone():null;return ce(Ve,hi,qe)}return W(new rn(Ve.statusText,Ve.status,N.url))}).catch(function(Ve){20!==Ve.code&&W(new Error(Ve.message))})}},ce=function(ge,Ee,Le){("arrayBuffer"===N.type?ge.arrayBuffer():"json"===N.type?ge.json():ge.text()).then(function(qe){Ht||(Ee&&Le&&function(Ve,hi,xi){if(gn(),Dt){var Mi={status:hi.status,statusText:hi.statusText,headers:new P.Headers};hi.headers.forEach(function(Ui,ln){return Mi.headers.set(ln,Ui)});var Ei=kt(hi.headers.get("Cache-Control")||"");Ei["no-store"]||(Ei["max-age"]&&Mi.headers.set("Expires",new Date(xi+1e3*Ei["max-age"]).toUTCString()),new Date(Mi.headers.get("Expires")).getTime()-xi<42e4||function(Ui,ln){if(void 0===Jt)try{new Response(new ReadableStream),Jt=!0}catch{Jt=!1}Jt?ln(Ui.body):Ui.blob().then(ln)}(hi,function(Ui){var ln=new P.Response(Ui,Mi);gn(),Dt&&Dt.then(function(yn){return yn.put(Hn(Ve.url),ln)}).catch(function(yn){return dt(yn.message)})}))}}(bt,Ee,Le),Nt=!0,W(null,qe,ge.headers.get("Cache-Control"),ge.headers.get("Expires")))}).catch(function(qe){Ht||W(new Error(qe.message))})};return $t?function(ge,Ee){if(gn(),!Dt)return Ee(null);var Le=Hn(ge.url);Dt.then(function(qe){qe.match(Le).then(function(Ve){var hi=function(xi){if(!xi)return!1;var Mi=new Date(xi.headers.get("Expires")||0),Ei=kt(xi.headers.get("Cache-Control")||"");return Mi>Date.now()&&!Ei["no-cache"]}(Ve);qe.delete(Le),hi&&qe.put(Le,Ve.clone()),Ee(null,Ve,hi)}).catch(Ee)}).catch(Ee)}(bt,ee):ee(null,null),{cancel:function(){Ht=!0,Nt||st.abort()}}}(t,r);if(vt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,r,void 0,!0)}var d;return function(N,W){var Q=new P.XMLHttpRequest;for(var st in Q.open(N.method||"GET",N.url,!0),"arrayBuffer"===N.type&&(Q.responseType="arraybuffer"),N.headers)Q.setRequestHeader(st,N.headers[st]);return"json"===N.type&&(Q.responseType="text",Q.setRequestHeader("Accept","application/json")),Q.withCredentials="include"===N.credentials,Q.onerror=function(){W(new Error(Q.statusText))},Q.onload=function(){if((Q.status>=200&&Q.status<300||0===Q.status)&&null!==Q.response){var bt=Q.response;if("json"===N.type)try{bt=JSON.parse(Q.response)}catch(Nt){return W(Nt)}W(null,bt,Q.getResponseHeader("Cache-Control"),Q.getResponseHeader("Expires"))}else W(new rn(Q.statusText,Q.status,N.url))},Q.send(N.body),{cancel:function(){return Q.abort()}}}(t,r)},Gi=function(t,r){return Cn(q(t,{type:"arrayBuffer"}),r)},Qe=function(t,r){return Cn(q(t,{method:"POST"}),r)},K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";yi=[],$i=0;var it=function(t,r){if(ve.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),$i>=me.MAX_PARALLEL_IMAGE_REQUESTS){var d={requestParameters:t,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return yi.push(d),d}$i++;var N=!1,W=function(){if(!N)for(N=!0,$i--;yi.length&&$i<me.MAX_PARALLEL_IMAGE_REQUESTS;){var st=yi.shift();st.cancelled||(st.cancel=it(st.requestParameters,st.callback).cancel)}},Q=Gi(t,function(st,bt,Nt,Ht){var ee,ce;W(),st?r(st):bt&&(ci()?(ee=r,ce=new P.Blob([new Uint8Array(bt)],{type:"image/png"}),P.createImageBitmap(ce).then(function(ge){ee(null,ge)}).catch(function(ge){ee(new Error("Could not load image because of "+ge.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function($t,ee,ce,ge){var Ee=new P.Image,Le=P.URL;Ee.onload=function(){ee(null,Ee),Le.revokeObjectURL(Ee.src),Ee.onload=null,P.requestAnimationFrame(function(){Ee.src=K})},Ee.onerror=function(){return ee(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var qe=new P.Blob([new Uint8Array($t)],{type:"image/png"});Ee.cacheControl=ce,Ee.expires=ge,Ee.src=$t.byteLength?Le.createObjectURL(qe):K}(bt,r,Nt,Ht))});return{cancel:function(){Q.cancel(),W()}}};function gt(t,r,d){d[t]&&-1!==d[t].indexOf(r)||(d[t]=d[t]||[],d[t].push(r))}function Pt(t,r,d){if(d&&d[t]){var N=d[t].indexOf(r);-1!==N&&d[t].splice(N,1)}}var jt=function(t,r){void 0===r&&(r={}),q(this,r),this.type=t},Kt=function(t){function r(d,N){void 0===N&&(N={}),t.call(this,"error",q({error:d},N))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(jt),se=function(){};se.prototype.on=function(t,r){return this._listeners=this._listeners||{},gt(t,r,this._listeners),this},se.prototype.off=function(t,r){return Pt(t,r,this._listeners),Pt(t,r,this._oneTimeListeners),this},se.prototype.once=function(t,r){return this._oneTimeListeners=this._oneTimeListeners||{},gt(t,r,this._oneTimeListeners),this},se.prototype.fire=function(t,r){"string"==typeof t&&(t=new jt(t,r||{}));var d=t.type;if(this.listens(d)){t.target=this;for(var N=0,W=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];N<W.length;N+=1)W[N].call(this,t);for(var Q=0,st=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];Q<st.length;Q+=1){var bt=st[Q];Pt(d,bt,this._oneTimeListeners),bt.call(this,t)}var Nt=this._eventedParent;Nt&&(q(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),Nt.fire(t))}else t instanceof Kt&&console.error(t.error);return this},se.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},se.prototype.setEventedParent=function(t,r){return this._eventedParent=t,this._eventedParentData=r,this};var ie={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},fe=function(t,r,d,N){this.message=(t?t+": ":"")+d,N&&(this.identifier=N),null!=r&&r.__line__&&(this.line=r.__line__)};function He(t){var r=t.value;return r?[new fe(t.key,r,"constants have been deprecated as of v8")]:[]}function Ge(t){for(var r=[],d=arguments.length-1;d-- >0;)r[d]=arguments[d+1];for(var N=0,W=r;N<W.length;N+=1){var Q=W[N];for(var st in Q)t[st]=Q[st]}return t}function ai(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function ye(t){if(Array.isArray(t))return t.map(ye);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var r={};for(var d in t)r[d]=ye(t[d]);return r}return ai(t)}var ii=function(t){function r(d,N){t.call(this,N),this.message=N,this.key=d}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(Error),je=function(t,r){void 0===r&&(r=[]),this.parent=t,this.bindings={};for(var d=0,N=r;d<N.length;d+=1){var W=N[d];this.bindings[W[0]]=W[1]}};je.prototype.concat=function(t){return new je(this,t)},je.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},je.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var wi={kind:"null"},ei={kind:"number"},Bi={kind:"string"},Di={kind:"boolean"},si={kind:"color"},pn={kind:"object"},Fi={kind:"value"},xn={kind:"collator"},tn={kind:"formatted"},An={kind:"resolvedImage"};function Rn(t,r){return{kind:"array",itemType:t,N:r}}function wn(t){if("array"===t.kind){var r=wn(t.itemType);return"number"==typeof t.N?"array<"+r+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+r+">"}return t.kind}var er=[wi,ei,Bi,Di,si,tn,pn,Rn(Fi),An];function Pn(t,r){if("error"===r.kind)return null;if("array"===t.kind){if("array"===r.kind&&(0===r.N&&"value"===r.itemType.kind||!Pn(t.itemType,r.itemType))&&("number"!=typeof t.N||t.N===r.N))return null}else{if(t.kind===r.kind)return null;if("value"===t.kind)for(var d=0,N=er;d<N.length;d+=1)if(!Pn(N[d],r))return null}return"Expected "+wn(t)+" but found "+wn(r)+" instead."}function Kn(t,r){return r.some(function(d){return d.kind===t.kind})}function Bn(t,r){return r.some(function(d){return"null"===d?null===t:"array"===d?Array.isArray(t):"object"===d?t&&!Array.isArray(t)&&"object"==typeof t:d===typeof t})}var In=k(function(t,r){var d={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function N(bt){return(bt=Math.round(bt))<0?0:bt>255?255:bt}function W(bt){return N("%"===bt[bt.length-1]?parseFloat(bt)/100*255:parseInt(bt))}function Q(bt){return(Nt="%"===bt[bt.length-1]?parseFloat(bt)/100:parseFloat(bt))<0?0:Nt>1?1:Nt;var Nt}function st(bt,Nt,Ht){return Ht<0?Ht+=1:Ht>1&&(Ht-=1),6*Ht<1?bt+(Nt-bt)*Ht*6:2*Ht<1?Nt:3*Ht<2?bt+(Nt-bt)*(2/3-Ht)*6:bt}try{r.parseCSSColor=function(bt){var Nt,Ht=bt.replace(/ /g,"").toLowerCase();if(Ht in d)return d[Ht].slice();if("#"===Ht[0])return 4===Ht.length?(Nt=parseInt(Ht.substr(1),16))>=0&&Nt<=4095?[(3840&Nt)>>4|(3840&Nt)>>8,240&Nt|(240&Nt)>>4,15&Nt|(15&Nt)<<4,1]:null:7===Ht.length&&(Nt=parseInt(Ht.substr(1),16))>=0&&Nt<=16777215?[(16711680&Nt)>>16,(65280&Nt)>>8,255&Nt,1]:null;var $t=Ht.indexOf("("),ee=Ht.indexOf(")");if(-1!==$t&&ee+1===Ht.length){var ce=Ht.substr(0,$t),ge=Ht.substr($t+1,ee-($t+1)).split(","),Ee=1;switch(ce){case"rgba":if(4!==ge.length)return null;Ee=Q(ge.pop());case"rgb":return 3!==ge.length?null:[W(ge[0]),W(ge[1]),W(ge[2]),Ee];case"hsla":if(4!==ge.length)return null;Ee=Q(ge.pop());case"hsl":if(3!==ge.length)return null;var Le=(parseFloat(ge[0])%360+360)%360/360,qe=Q(ge[1]),Ve=Q(ge[2]),hi=Ve<=.5?Ve*(qe+1):Ve+qe-Ve*qe,xi=2*Ve-hi;return[N(255*st(xi,hi,Le+1/3)),N(255*st(xi,hi,Le)),N(255*st(xi,hi,Le-1/3)),Ee];default:return null}}return null}}catch{}}).parseCSSColor,Wi=function(t,r,d,N){void 0===N&&(N=1),this.r=t,this.g=r,this.b=d,this.a=N};Wi.parse=function(t){if(t){if(t instanceof Wi)return t;if("string"==typeof t){var r=In(t);if(r)return new Wi(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3])}}},Wi.prototype.toString=function(){var t=this.toArray(),r=t[1],d=t[2],N=t[3];return"rgba("+Math.round(t[0])+","+Math.round(r)+","+Math.round(d)+","+N+")"},Wi.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},Wi.black=new Wi(0,0,0,1),Wi.white=new Wi(1,1,1,1),Wi.transparent=new Wi(0,0,0,0),Wi.red=new Wi(1,0,0,1);var Jn=function(t,r,d){this.sensitivity=t?r?"variant":"case":r?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Jn.prototype.compare=function(t,r){return this.collator.compare(t,r)},Jn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Or=function(t,r,d,N,W){this.text=t,this.image=r,this.scale=d,this.fontStack=N,this.textColor=W},Qn=function(t){this.sections=t};Qn.fromString=function(t){return new Qn([new Or(t,null,null,null,null)])},Qn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length})},Qn.factory=function(t){return t instanceof Qn?t:Qn.fromString(t)},Qn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(t){return t.text}).join("")},Qn.prototype.serialize=function(){for(var t=["format"],r=0,d=this.sections;r<d.length;r+=1){var N=d[r];if(N.image)t.push(["image",N.image.name]);else{t.push(N.text);var W={};N.fontStack&&(W["text-font"]=["literal",N.fontStack.split(",")]),N.scale&&(W["font-scale"]=N.scale),N.textColor&&(W["text-color"]=["rgba"].concat(N.textColor.toArray())),t.push(W)}}return t};var Fn=function(t){this.name=t.name,this.available=t.available};function Vn(t,r,d,N){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255&&"number"==typeof d&&d>=0&&d<=255?void 0===N||"number"==typeof N&&N>=0&&N<=1?null:"Invalid rgba value ["+[t,r,d,N].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof N?[t,r,d,N]:[t,r,d]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Gr(t){if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||t instanceof Wi||t instanceof Jn||t instanceof Qn||t instanceof Fn)return!0;if(Array.isArray(t)){for(var r=0,d=t;r<d.length;r+=1)if(!Gr(d[r]))return!1;return!0}if("object"==typeof t){for(var N in t)if(!Gr(t[N]))return!1;return!0}return!1}function rr(t){if(null===t)return wi;if("string"==typeof t)return Bi;if("boolean"==typeof t)return Di;if("number"==typeof t)return ei;if(t instanceof Wi)return si;if(t instanceof Jn)return xn;if(t instanceof Qn)return tn;if(t instanceof Fn)return An;if(Array.isArray(t)){for(var r,d=t.length,N=0,W=t;N<W.length;N+=1){var Q=rr(W[N]);if(r){if(r===Q)continue;r=Fi;break}r=Q}return Rn(r||Fi,d)}return pn}function Nr(t){var r=typeof t;return null===t?"":"string"===r||"number"===r||"boolean"===r?String(t):t instanceof Wi||t instanceof Qn||t instanceof Fn?t.toString():JSON.stringify(t)}Fn.prototype.toString=function(){return this.name},Fn.fromString=function(t){return t?new Fn({name:t,available:!1}):null},Fn.prototype.serialize=function(){return["image",this.name]};var Sr=function(t,r){this.type=t,this.value=r};Sr.parse=function(t,r){if(2!==t.length)return r.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!Gr(t[1]))return r.error("invalid value");var d=t[1],N=rr(d),W=r.expectedType;return"array"!==N.kind||0!==N.N||!W||"array"!==W.kind||"number"==typeof W.N&&0!==W.N||(N=W),new Sr(N,d)},Sr.prototype.evaluate=function(){return this.value},Sr.prototype.eachChild=function(){},Sr.prototype.outputDefined=function(){return!0},Sr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Wi?["rgba"].concat(this.value.toArray()):this.value instanceof Qn?this.value.serialize():this.value};var Br=function(t){this.name="ExpressionEvaluationError",this.message=t};Br.prototype.toJSON=function(){return this.message};var jr={string:Bi,number:ei,boolean:Di,object:pn},br=function(t,r){this.type=t,this.args=r};br.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var d,N=1,W=t[0];if("array"===W){var Q,st;if(t.length>2){var bt=t[1];if("string"!=typeof bt||!(bt in jr)||"object"===bt)return r.error('The item type argument of "array" must be one of string, number, boolean',1);Q=jr[bt],N++}else Q=Fi;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return r.error('The length argument to "array" must be a positive integer literal',2);st=t[2],N++}d=Rn(Q,st)}else d=jr[W];for(var Nt=[];N<t.length;N++){var Ht=r.parse(t[N],N,Fi);if(!Ht)return null;Nt.push(Ht)}return new br(d,Nt)},br.prototype.evaluate=function(t){for(var r=0;r<this.args.length;r++){var d=this.args[r].evaluate(t);if(!Pn(this.type,rr(d)))return d;if(r===this.args.length-1)throw new Br("Expected value to be of type "+wn(this.type)+", but found "+wn(rr(d))+" instead.")}return null},br.prototype.eachChild=function(t){this.args.forEach(t)},br.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},br.prototype.serialize=function(){var t=this.type,r=[t.kind];if("array"===t.kind){var d=t.itemType;if("string"===d.kind||"number"===d.kind||"boolean"===d.kind){r.push(d.kind);var N=t.N;("number"==typeof N||this.args.length>1)&&r.push(N)}}return r.concat(this.args.map(function(W){return W.serialize()}))};var Zr=function(t){this.type=tn,this.sections=t};Zr.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var d=t[1];if(!Array.isArray(d)&&"object"==typeof d)return r.error("First argument must be an image or text section.");for(var N=[],W=!1,Q=1;Q<=t.length-1;++Q){var st=t[Q];if(W&&"object"==typeof st&&!Array.isArray(st)){W=!1;var bt=null;if(st["font-scale"]&&!(bt=r.parse(st["font-scale"],1,ei)))return null;var Nt=null;if(st["text-font"]&&!(Nt=r.parse(st["text-font"],1,Rn(Bi))))return null;var Ht=null;if(st["text-color"]&&!(Ht=r.parse(st["text-color"],1,si)))return null;var $t=N[N.length-1];$t.scale=bt,$t.font=Nt,$t.textColor=Ht}else{var ee=r.parse(t[Q],1,Fi);if(!ee)return null;var ce=ee.type.kind;if("string"!==ce&&"value"!==ce&&"null"!==ce&&"resolvedImage"!==ce)return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");W=!0,N.push({content:ee,scale:null,font:null,textColor:null})}}return new Zr(N)},Zr.prototype.evaluate=function(t){return new Qn(this.sections.map(function(r){var d=r.content.evaluate(t);return rr(d)===An?new Or("",d,null,null,null):new Or(Nr(d),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)}))},Zr.prototype.eachChild=function(t){for(var r=0,d=this.sections;r<d.length;r+=1){var N=d[r];t(N.content),N.scale&&t(N.scale),N.font&&t(N.font),N.textColor&&t(N.textColor)}},Zr.prototype.outputDefined=function(){return!1},Zr.prototype.serialize=function(){for(var t=["format"],r=0,d=this.sections;r<d.length;r+=1){var N=d[r];t.push(N.content.serialize());var W={};N.scale&&(W["font-scale"]=N.scale.serialize()),N.font&&(W["text-font"]=N.font.serialize()),N.textColor&&(W["text-color"]=N.textColor.serialize()),t.push(W)}return t};var $r=function(t){this.type=An,this.input=t};$r.parse=function(t,r){if(2!==t.length)return r.error("Expected two arguments.");var d=r.parse(t[1],1,Bi);return d?new $r(d):r.error("No image name provided.")},$r.prototype.evaluate=function(t){var r=this.input.evaluate(t),d=Fn.fromString(r);return d&&t.availableImages&&(d.available=t.availableImages.indexOf(r)>-1),d},$r.prototype.eachChild=function(t){t(this.input)},$r.prototype.outputDefined=function(){return!1},$r.prototype.serialize=function(){return["image",this.input.serialize()]};var Mo={"to-boolean":Di,"to-color":si,"to-number":ei,"to-string":Bi},Wr=function(t,r){this.type=t,this.args=r};Wr.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var d=t[0];if(("to-boolean"===d||"to-string"===d)&&2!==t.length)return r.error("Expected one argument.");for(var N=Mo[d],W=[],Q=1;Q<t.length;Q++){var st=r.parse(t[Q],Q,Fi);if(!st)return null;W.push(st)}return new Wr(N,W)},Wr.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var r,d,N=0,W=this.args;N<W.length;N+=1){if(d=null,(r=W[N].evaluate(t))instanceof Wi)return r;if("string"==typeof r){var Q=t.parseColor(r);if(Q)return Q}else if(Array.isArray(r)&&!(d=r.length<3||r.length>4?"Invalid rbga value "+JSON.stringify(r)+": expected an array containing either three or four numeric values.":Vn(r[0],r[1],r[2],r[3])))return new Wi(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new Br(d||"Could not parse color from value '"+("string"==typeof r?r:String(JSON.stringify(r)))+"'")}if("number"===this.type.kind){for(var st=null,bt=0,Nt=this.args;bt<Nt.length;bt+=1){if(null===(st=Nt[bt].evaluate(t)))return 0;var Ht=Number(st);if(!isNaN(Ht))return Ht}throw new Br("Could not convert "+JSON.stringify(st)+" to number.")}return"formatted"===this.type.kind?Qn.fromString(Nr(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?Fn.fromString(Nr(this.args[0].evaluate(t))):Nr(this.args[0].evaluate(t))},Wr.prototype.eachChild=function(t){this.args.forEach(t)},Wr.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},Wr.prototype.serialize=function(){if("formatted"===this.type.kind)return new Zr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new $r(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(r){t.push(r.serialize())}),t};var Oo=["Unknown","Point","LineString","Polygon"],qr=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};qr.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},qr.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Oo[this.feature.type]:this.feature.type:null},qr.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},qr.prototype.canonicalID=function(){return this.canonical},qr.prototype.properties=function(){return this.feature&&this.feature.properties||{}},qr.prototype.parseColor=function(t){var r=this._parseColorCache[t];return r||(r=this._parseColorCache[t]=Wi.parse(t)),r};var Kr=function(t,r,d,N){this.name=t,this.type=r,this._evaluate=d,this.args=N};Kr.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Kr.prototype.eachChild=function(t){this.args.forEach(t)},Kr.prototype.outputDefined=function(){return!1},Kr.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},Kr.parse=function(t,r){var d,N=t[0],W=Kr.definitions[N];if(!W)return r.error('Unknown expression "'+N+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Q=Array.isArray(W)?W[0]:W.type,st=Array.isArray(W)?[[W[1],W[2]]]:W.overloads,bt=st.filter(function(Xn){var Sn=Xn[0];return!Array.isArray(Sn)||Sn.length===t.length-1}),Nt=null,Ht=0,$t=bt;Ht<$t.length;Ht+=1){var ee=$t[Ht],ce=ee[0],ge=ee[1];Nt=new Be(r.registry,r.path,null,r.scope);for(var Ee=[],Le=!1,qe=1;qe<t.length;qe++){var Ve=t[qe],hi=Array.isArray(ce)?ce[qe-1]:ce.type,xi=Nt.parse(Ve,1+Ee.length,hi);if(!xi){Le=!0;break}Ee.push(xi)}if(!Le)if(Array.isArray(ce)&&ce.length!==Ee.length)Nt.error("Expected "+ce.length+" arguments, but found "+Ee.length+" instead.");else{for(var Mi=0;Mi<Ee.length;Mi++){var Ei=Array.isArray(ce)?ce[Mi]:ce.type,Ui=Ee[Mi];Nt.concat(Mi+1).checkSubtype(Ei,Ui.type)}if(0===Nt.errors.length)return new Kr(N,Q,ge,Ee)}}if(1===bt.length)(d=r.errors).push.apply(d,Nt.errors);else{for(var ln=(bt.length?bt:st).map(function(Xn){var Sn;return Sn=Xn[0],Array.isArray(Sn)?"("+Sn.map(wn).join(", ")+")":"("+wn(Sn.type)+"...)"}).join(" | "),yn=[],Un=1;Un<t.length;Un++){var Tn=r.parse(t[Un],1+yn.length);if(!Tn)return null;yn.push(wn(Tn.type))}r.error("Expected arguments of type "+ln+", but found ("+yn.join(", ")+") instead.")}return null},Kr.register=function(t,r){for(var d in Kr.definitions=r,r)t[d]=Kr};var ao=function(t,r,d){this.type=xn,this.locale=d,this.caseSensitive=t,this.diacriticSensitive=r};function Qr(t,r){t[0]=Math.min(t[0],r[0]),t[1]=Math.min(t[1],r[1]),t[2]=Math.max(t[2],r[0]),t[3]=Math.max(t[3],r[1])}function ho(t,r){return!(t[0]<=r[0]||t[2]>=r[2]||t[1]<=r[1]||t[3]>=r[3])}function Io(t,r){var d=(180+t[0])/360,N=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,W=Math.pow(2,r.z);return[Math.round(d*W*8192),Math.round(N*W*8192)]}function wo(t,r,d){return r[1]>t[1]!=d[1]>t[1]&&t[0]<(d[0]-r[0])*(t[1]-r[1])/(d[1]-r[1])+r[0]}function ko(t,r){for(var d,N,W,Q,st,bt,Nt,Ht=!1,$t=0,ee=r.length;$t<ee;$t++)for(var ce=r[$t],ge=0,Ee=ce.length;ge<Ee-1;ge++){if((Q=(d=t)[0]-(N=ce[ge])[0])*(Nt=d[1]-(W=ce[ge+1])[1])-(bt=d[0]-W[0])*(st=d[1]-N[1])==0&&Q*bt<=0&&st*Nt<=0)return!1;wo(t,ce[ge],ce[ge+1])&&(Ht=!Ht)}return Ht}function J(t,r){for(var d=0;d<r.length;d++)if(ko(t,r[d]))return!0;return!1}function pt(t,r,d,N){var W=N[0]-d[0],Q=N[1]-d[1],st=(t[0]-d[0])*Q-W*(t[1]-d[1]),bt=(r[0]-d[0])*Q-W*(r[1]-d[1]);return st>0&&bt<0||st<0&&bt>0}function It(t,r,d){for(var N=0,W=d;N<W.length;N+=1)for(var Q=W[N],st=0;st<Q.length-1;++st)if((ee=[($t=Q[st+1])[0]-(Ht=Q[st])[0],$t[1]-Ht[1]])[0]*(ce=[(Nt=r)[0]-(bt=t)[0],Nt[1]-bt[1]])[1]-ee[1]*ce[0]!=0&&pt(bt,Nt,Ht,$t)&&pt(Ht,$t,bt,Nt))return!0;var bt,Nt,Ht,$t,ee,ce;return!1}function z(t,r){for(var d=0;d<t.length;++d)if(!ko(t[d],r))return!1;for(var N=0;N<t.length-1;++N)if(It(t[N],t[N+1],r))return!1;return!0}function Z(t,r){for(var d=0;d<r.length;d++)if(z(t,r[d]))return!0;return!1}function ot(t,r,d){for(var N=[],W=0;W<t.length;W++){for(var Q=[],st=0;st<t[W].length;st++){var bt=Io(t[W][st],d);Qr(r,bt),Q.push(bt)}N.push(Q)}return N}function rt(t,r,d){for(var N=[],W=0;W<t.length;W++){var Q=ot(t[W],r,d);N.push(Q)}return N}function _t(t,r,d,N){if(t[0]<d[0]||t[0]>d[2]){var W=.5*N,Q=t[0]-d[0]>W?-N:d[0]-t[0]>W?N:0;0===Q&&(Q=t[0]-d[2]>W?-N:d[2]-t[0]>W?N:0),t[0]+=Q}Qr(r,t)}function Et(t,r,d,N){for(var W=8192*Math.pow(2,N.z),Q=[8192*N.x,8192*N.y],st=[],bt=0,Nt=t;bt<Nt.length;bt+=1)for(var Ht=0,$t=Nt[bt];Ht<$t.length;Ht+=1){var ee=$t[Ht],ce=[ee.x+Q[0],ee.y+Q[1]];_t(ce,r,d,W),st.push(ce)}return st}function Bt(t,r,d,N){for(var W,Q=8192*Math.pow(2,N.z),st=[8192*N.x,8192*N.y],bt=[],Nt=0,Ht=t;Nt<Ht.length;Nt+=1){for(var $t=[],ee=0,ce=Ht[Nt];ee<ce.length;ee+=1){var ge=ce[ee],Ee=[ge.x+st[0],ge.y+st[1]];Qr(r,Ee),$t.push(Ee)}bt.push($t)}if(r[2]-r[0]<=Q/2){(W=r)[0]=W[1]=1/0,W[2]=W[3]=-1/0;for(var Le=0,qe=bt;Le<qe.length;Le+=1)for(var Ve=0,hi=qe[Le];Ve<hi.length;Ve+=1)_t(hi[Ve],r,d,Q)}return bt}ao.parse=function(t,r){if(2!==t.length)return r.error("Expected one argument.");var d=t[1];if("object"!=typeof d||Array.isArray(d))return r.error("Collator options argument must be an object.");var N=r.parse(void 0!==d["case-sensitive"]&&d["case-sensitive"],1,Di);if(!N)return null;var W=r.parse(void 0!==d["diacritic-sensitive"]&&d["diacritic-sensitive"],1,Di);if(!W)return null;var Q=null;return d.locale&&!(Q=r.parse(d.locale,1,Bi))?null:new ao(N,W,Q)},ao.prototype.evaluate=function(t){return new Jn(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ao.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ao.prototype.outputDefined=function(){return!1},ao.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Wt=function(t,r){this.type=Di,this.geojson=t,this.geometries=r};function Qt(t){if(t instanceof Kr&&("get"===t.name&&1===t.args.length||"feature-state"===t.name||"has"===t.name&&1===t.args.length||"properties"===t.name||"geometry-type"===t.name||"id"===t.name||/^filter-/.test(t.name))||t instanceof Wt)return!1;var r=!0;return t.eachChild(function(d){r&&!Qt(d)&&(r=!1)}),r}function xe(t){if(t instanceof Kr&&"feature-state"===t.name)return!1;var r=!0;return t.eachChild(function(d){r&&!xe(d)&&(r=!1)}),r}function Me(t,r){if(t instanceof Kr&&r.indexOf(t.name)>=0)return!1;var d=!0;return t.eachChild(function(N){d&&!Me(N,r)&&(d=!1)}),d}Wt.parse=function(t,r){if(2!==t.length)return r.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(Gr(t[1])){var d=t[1];if("FeatureCollection"===d.type)for(var N=0;N<d.features.length;++N){var W=d.features[N].geometry.type;if("Polygon"===W||"MultiPolygon"===W)return new Wt(d,d.features[N].geometry)}else if("Feature"===d.type){var Q=d.geometry.type;if("Polygon"===Q||"MultiPolygon"===Q)return new Wt(d,d.geometry)}else if("Polygon"===d.type||"MultiPolygon"===d.type)return new Wt(d,d)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Wt.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(r,d){var N=[1/0,1/0,-1/0,-1/0],W=[1/0,1/0,-1/0,-1/0],Q=r.canonicalID();if("Polygon"===d.type){var st=ot(d.coordinates,W,Q),bt=Et(r.geometry(),N,W,Q);if(!ho(N,W))return!1;for(var Nt=0,Ht=bt;Nt<Ht.length;Nt+=1)if(!ko(Ht[Nt],st))return!1}if("MultiPolygon"===d.type){var $t=rt(d.coordinates,W,Q),ee=Et(r.geometry(),N,W,Q);if(!ho(N,W))return!1;for(var ce=0,ge=ee;ce<ge.length;ce+=1)if(!J(ge[ce],$t))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(r,d){var N=[1/0,1/0,-1/0,-1/0],W=[1/0,1/0,-1/0,-1/0],Q=r.canonicalID();if("Polygon"===d.type){var st=ot(d.coordinates,W,Q),bt=Bt(r.geometry(),N,W,Q);if(!ho(N,W))return!1;for(var Nt=0,Ht=bt;Nt<Ht.length;Nt+=1)if(!z(Ht[Nt],st))return!1}if("MultiPolygon"===d.type){var $t=rt(d.coordinates,W,Q),ee=Bt(r.geometry(),N,W,Q);if(!ho(N,W))return!1;for(var ce=0,ge=ee;ce<ge.length;ce+=1)if(!Z(ge[ce],$t))return!1}return!0}(t,this.geometries)}return!1},Wt.prototype.eachChild=function(){},Wt.prototype.outputDefined=function(){return!0},Wt.prototype.serialize=function(){return["within",this.geojson]};var Xe=function(t,r){this.type=r.type,this.name=t,this.boundExpression=r};Xe.parse=function(t,r){if(2!==t.length||"string"!=typeof t[1])return r.error("'var' expression requires exactly one string literal argument.");var d=t[1];return r.scope.has(d)?new Xe(d,r.scope.get(d)):r.error('Unknown variable "'+d+'". Make sure "'+d+'" has been bound in an enclosing "let" expression before using it.',1)},Xe.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Xe.prototype.eachChild=function(){},Xe.prototype.outputDefined=function(){return!1},Xe.prototype.serialize=function(){return["var",this.name]};var Be=function(t,r,d,N,W){void 0===r&&(r=[]),void 0===N&&(N=new je),void 0===W&&(W=[]),this.registry=t,this.path=r,this.key=r.map(function(Q){return"["+Q+"]"}).join(""),this.scope=N,this.errors=W,this.expectedType=d};function Ue(t,r){for(var d,N=t.length-1,W=0,Q=N,st=0;W<=Q;)if((d=t[st=Math.floor((W+Q)/2)])<=r){if(st===N||r<t[st+1])return st;W=st+1}else{if(!(d>r))throw new Br("Input is not a number.");Q=st-1}return 0}Be.prototype.parse=function(t,r,d,N,W){return void 0===W&&(W={}),r?this.concat(r,d,N)._parse(t,W):this._parse(t,W)},Be.prototype._parse=function(t,r){function d(Ht,$t,ee){return"assert"===ee?new br($t,[Ht]):"coerce"===ee?new Wr($t,[Ht]):Ht}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var N=t[0];if("string"!=typeof N)return this.error("Expression name must be a string, but found "+typeof N+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var W=this.registry[N];if(W){var Q=W.parse(t,this);if(!Q)return null;if(this.expectedType){var st=this.expectedType,bt=Q.type;if("string"!==st.kind&&"number"!==st.kind&&"boolean"!==st.kind&&"object"!==st.kind&&"array"!==st.kind||"value"!==bt.kind)if("color"!==st.kind&&"formatted"!==st.kind&&"resolvedImage"!==st.kind||"value"!==bt.kind&&"string"!==bt.kind){if(this.checkSubtype(st,bt))return null}else Q=d(Q,st,r.typeAnnotation||"coerce");else Q=d(Q,st,r.typeAnnotation||"assert")}if(!(Q instanceof Sr)&&"resolvedImage"!==Q.type.kind&&function Ht($t){if($t instanceof Xe)return Ht($t.boundExpression);if($t instanceof Kr&&"error"===$t.name||$t instanceof ao||$t instanceof Wt)return!1;var ee=$t instanceof Wr||$t instanceof br,ce=!0;return $t.eachChild(function(ge){ce=ee?ce&&Ht(ge):ce&&ge instanceof Sr}),!!ce&&Qt($t)&&Me($t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(Q)){var Nt=new qr;try{Q=new Sr(Q.type,Q.evaluate(Nt))}catch(Ht){return this.error(Ht.message),null}}return Q}return this.error('Unknown expression "'+N+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Be.prototype.concat=function(t,r,d){var N="number"==typeof t?this.path.concat(t):this.path,W=d?this.scope.concat(d):this.scope;return new Be(this.registry,N,r||null,W,this.errors)},Be.prototype.error=function(t){for(var r=[],d=arguments.length-1;d-- >0;)r[d]=arguments[d+1];var N=""+this.key+r.map(function(W){return"["+W+"]"}).join("");this.errors.push(new ii(N,t))},Be.prototype.checkSubtype=function(t,r){var d=Pn(t,r);return d&&this.error(d),d};var Ii=function(t,r,d){this.type=t,this.input=r,this.labels=[],this.outputs=[];for(var N=0,W=d;N<W.length;N+=1){var Q=W[N],st=Q[1];this.labels.push(Q[0]),this.outputs.push(st)}};function on(t,r,d){return t*(1-d)+r*d}Ii.parse=function(t,r){if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");var d=r.parse(t[1],1,ei);if(!d)return null;var N=[],W=null;r.expectedType&&"value"!==r.expectedType.kind&&(W=r.expectedType);for(var Q=1;Q<t.length;Q+=2){var st=1===Q?-1/0:t[Q],bt=t[Q+1],Nt=Q,Ht=Q+1;if("number"!=typeof st)return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Nt);if(N.length&&N[N.length-1][0]>=st)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Nt);var $t=r.parse(bt,Ht,W);if(!$t)return null;W=W||$t.type,N.push([st,$t])}return new Ii(W,d,N)},Ii.prototype.evaluate=function(t){var r=this.labels,d=this.outputs;if(1===r.length)return d[0].evaluate(t);var N=this.input.evaluate(t);if(N<=r[0])return d[0].evaluate(t);var W=r.length;return N>=r[W-1]?d[W-1].evaluate(t):d[Ue(r,N)].evaluate(t)},Ii.prototype.eachChild=function(t){t(this.input);for(var r=0,d=this.outputs;r<d.length;r+=1)t(d[r])},Ii.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},Ii.prototype.serialize=function(){for(var t=["step",this.input.serialize()],r=0;r<this.labels.length;r++)r>0&&t.push(this.labels[r]),t.push(this.outputs[r].serialize());return t};var Tt=Object.freeze({__proto__:null,number:on,color:function(t,r,d){return new Wi(on(t.r,r.r,d),on(t.g,r.g,d),on(t.b,r.b,d),on(t.a,r.a,d))},array:function(t,r,d){return t.map(function(N,W){return on(N,r[W],d)})}}),Yt=6/29*3*(6/29),pe=Math.PI/180,Pe=180/Math.PI;function Oe(t){return t>.008856451679035631?Math.pow(t,1/3):t/Yt+4/29}function ze(t){return t>6/29?t*t*t:Yt*(t-4/29)}function Je(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Re(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function fi(t){var r=Re(t.r),d=Re(t.g),N=Re(t.b),W=Oe((.4124564*r+.3575761*d+.1804375*N)/.95047),Q=Oe((.2126729*r+.7151522*d+.072175*N)/1);return{l:116*Q-16,a:500*(W-Q),b:200*(Q-Oe((.0193339*r+.119192*d+.9503041*N)/1.08883)),alpha:t.a}}function vi(t){var r=(t.l+16)/116,d=isNaN(t.a)?r:r+t.a/500,N=isNaN(t.b)?r:r-t.b/200;return r=1*ze(r),d=.95047*ze(d),N=1.08883*ze(N),new Wi(Je(3.2404542*d-1.5371385*r-.4985314*N),Je(-.969266*d+1.8760108*r+.041556*N),Je(.0556434*d-.2040259*r+1.0572252*N),t.alpha)}function Vi(t,r,d){var N=r-t;return t+d*(N>180||N<-180?N-360*Math.round(N/360):N)}var cn={forward:fi,reverse:vi,interpolate:function(t,r,d){return{l:on(t.l,r.l,d),a:on(t.a,r.a,d),b:on(t.b,r.b,d),alpha:on(t.alpha,r.alpha,d)}}},_n={forward:function(t){var r=fi(t),d=r.l,N=r.a,W=r.b,Q=Math.atan2(W,N)*Pe;return{h:Q<0?Q+360:Q,c:Math.sqrt(N*N+W*W),l:d,alpha:t.a}},reverse:function(t){var r=t.h*pe,d=t.c;return vi({l:t.l,a:Math.cos(r)*d,b:Math.sin(r)*d,alpha:t.alpha})},interpolate:function(t,r,d){return{h:Vi(t.h,r.h,d),c:on(t.c,r.c,d),l:on(t.l,r.l,d),alpha:on(t.alpha,r.alpha,d)}}},kn=Object.freeze({__proto__:null,lab:cn,hcl:_n}),Ln=function(t,r,d,N,W){this.type=t,this.operator=r,this.interpolation=d,this.input=N,this.labels=[],this.outputs=[];for(var Q=0,st=W;Q<st.length;Q+=1){var bt=st[Q],Nt=bt[1];this.labels.push(bt[0]),this.outputs.push(Nt)}};function zr(t,r,d,N){var W=N-d,Q=t-d;return 0===W?0:1===r?Q/W:(Math.pow(r,Q)-1)/(Math.pow(r,W)-1)}Ln.interpolationFactor=function(t,r,d,N){var W=0;if("exponential"===t.name)W=zr(r,t.base,d,N);else if("linear"===t.name)W=zr(r,1,d,N);else if("cubic-bezier"===t.name){var Q=t.controlPoints;W=new C(Q[0],Q[1],Q[2],Q[3]).solve(zr(r,1,d,N))}return W},Ln.parse=function(t,r){var d=t[0],N=t[1],W=t[2],Q=t.slice(3);if(!Array.isArray(N)||0===N.length)return r.error("Expected an interpolation type expression.",1);if("linear"===N[0])N={name:"linear"};else if("exponential"===N[0]){var st=N[1];if("number"!=typeof st)return r.error("Exponential interpolation requires a numeric base.",1,1);N={name:"exponential",base:st}}else{if("cubic-bezier"!==N[0])return r.error("Unknown interpolation type "+String(N[0]),1,0);var bt=N.slice(1);if(4!==bt.length||bt.some(function(qe){return"number"!=typeof qe||qe<0||qe>1}))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);N={name:"cubic-bezier",controlPoints:bt}}if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(!(W=r.parse(W,2,ei)))return null;var Nt=[],Ht=null;"interpolate-hcl"===d||"interpolate-lab"===d?Ht=si:r.expectedType&&"value"!==r.expectedType.kind&&(Ht=r.expectedType);for(var $t=0;$t<Q.length;$t+=2){var ee=Q[$t],ce=Q[$t+1],ge=$t+3,Ee=$t+4;if("number"!=typeof ee)return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ge);if(Nt.length&&Nt[Nt.length-1][0]>=ee)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ge);var Le=r.parse(ce,Ee,Ht);if(!Le)return null;Ht=Ht||Le.type,Nt.push([ee,Le])}return"number"===Ht.kind||"color"===Ht.kind||"array"===Ht.kind&&"number"===Ht.itemType.kind&&"number"==typeof Ht.N?new Ln(Ht,d,N,W,Nt):r.error("Type "+wn(Ht)+" is not interpolatable.")},Ln.prototype.evaluate=function(t){var r=this.labels,d=this.outputs;if(1===r.length)return d[0].evaluate(t);var N=this.input.evaluate(t);if(N<=r[0])return d[0].evaluate(t);var W=r.length;if(N>=r[W-1])return d[W-1].evaluate(t);var Q=Ue(r,N),st=Ln.interpolationFactor(this.interpolation,N,r[Q],r[Q+1]),bt=d[Q].evaluate(t),Nt=d[Q+1].evaluate(t);return"interpolate"===this.operator?Tt[this.type.kind.toLowerCase()](bt,Nt,st):"interpolate-hcl"===this.operator?_n.reverse(_n.interpolate(_n.forward(bt),_n.forward(Nt),st)):cn.reverse(cn.interpolate(cn.forward(bt),cn.forward(Nt),st))},Ln.prototype.eachChild=function(t){t(this.input);for(var r=0,d=this.outputs;r<d.length;r+=1)t(d[r])},Ln.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},Ln.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var r=[this.operator,t,this.input.serialize()],d=0;d<this.labels.length;d++)r.push(this.labels[d],this.outputs[d].serialize());return r};var Cr=function(t,r){this.type=t,this.args=r};Cr.parse=function(t,r){if(t.length<2)return r.error("Expectected at least one argument.");var d=null,N=r.expectedType;N&&"value"!==N.kind&&(d=N);for(var W=[],Q=0,st=t.slice(1);Q<st.length;Q+=1){var bt=r.parse(st[Q],1+W.length,d,void 0,{typeAnnotation:"omit"});if(!bt)return null;d=d||bt.type,W.push(bt)}var Nt=N&&W.some(function(Ht){return Pn(N,Ht.type)});return new Cr(Nt?Fi:d,W)},Cr.prototype.evaluate=function(t){for(var r,d=null,N=0,W=0,Q=this.args;W<Q.length&&(N++,(d=Q[W].evaluate(t))&&d instanceof Fn&&!d.available&&(r||(r=d.name),d=null,N===this.args.length&&(d=r)),null===d);W+=1);return d},Cr.prototype.eachChild=function(t){this.args.forEach(t)},Cr.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},Cr.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(r){t.push(r.serialize())}),t};var Ar=function(t,r){this.type=r.type,this.bindings=[].concat(t),this.result=r};Ar.prototype.evaluate=function(t){return this.result.evaluate(t)},Ar.prototype.eachChild=function(t){for(var r=0,d=this.bindings;r<d.length;r+=1)t(d[r][1]);t(this.result)},Ar.parse=function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var d=[],N=1;N<t.length-1;N+=2){var W=t[N];if("string"!=typeof W)return r.error("Expected string, but found "+typeof W+" instead.",N);if(/[^a-zA-Z0-9_]/.test(W))return r.error("Variable names must contain only alphanumeric characters or '_'.",N);var Q=r.parse(t[N+1],N+1);if(!Q)return null;d.push([W,Q])}var st=r.parse(t[t.length-1],t.length-1,r.expectedType,d);return st?new Ar(d,st):null},Ar.prototype.outputDefined=function(){return this.result.outputDefined()},Ar.prototype.serialize=function(){for(var t=["let"],r=0,d=this.bindings;r<d.length;r+=1){var N=d[r];t.push(N[0],N[1].serialize())}return t.push(this.result.serialize()),t};var so=function(t,r,d){this.type=t,this.index=r,this.input=d};so.parse=function(t,r){if(3!==t.length)return r.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var d=r.parse(t[1],1,ei),N=r.parse(t[2],2,Rn(r.expectedType||Fi));return d&&N?new so(N.type.itemType,d,N):null},so.prototype.evaluate=function(t){var r=this.index.evaluate(t),d=this.input.evaluate(t);if(r<0)throw new Br("Array index out of bounds: "+r+" < 0.");if(r>=d.length)throw new Br("Array index out of bounds: "+r+" > "+(d.length-1)+".");if(r!==Math.floor(r))throw new Br("Array index must be an integer, but found "+r+" instead.");return d[r]},so.prototype.eachChild=function(t){t(this.index),t(this.input)},so.prototype.outputDefined=function(){return!1},so.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var mr=function(t,r){this.type=Di,this.needle=t,this.haystack=r};mr.parse=function(t,r){if(3!==t.length)return r.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var d=r.parse(t[1],1,Fi),N=r.parse(t[2],2,Fi);return d&&N?Kn(d.type,[Di,Bi,ei,wi,Fi])?new mr(d,N):r.error("Expected first argument to be of type boolean, string, number or null, but found "+wn(d.type)+" instead"):null},mr.prototype.evaluate=function(t){var r=this.needle.evaluate(t),d=this.haystack.evaluate(t);if(!d)return!1;if(!Bn(r,["boolean","string","number","null"]))throw new Br("Expected first argument to be of type boolean, string, number or null, but found "+wn(rr(r))+" instead.");if(!Bn(d,["string","array"]))throw new Br("Expected second argument to be of type array or string, but found "+wn(rr(d))+" instead.");return d.indexOf(r)>=0},mr.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},mr.prototype.outputDefined=function(){return!0},mr.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var no=function(t,r,d){this.type=ei,this.needle=t,this.haystack=r,this.fromIndex=d};no.parse=function(t,r){if(t.length<=2||t.length>=5)return r.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var d=r.parse(t[1],1,Fi),N=r.parse(t[2],2,Fi);if(!d||!N)return null;if(!Kn(d.type,[Di,Bi,ei,wi,Fi]))return r.error("Expected first argument to be of type boolean, string, number or null, but found "+wn(d.type)+" instead");if(4===t.length){var W=r.parse(t[3],3,ei);return W?new no(d,N,W):null}return new no(d,N)},no.prototype.evaluate=function(t){var r=this.needle.evaluate(t),d=this.haystack.evaluate(t);if(!Bn(r,["boolean","string","number","null"]))throw new Br("Expected first argument to be of type boolean, string, number or null, but found "+wn(rr(r))+" instead.");if(!Bn(d,["string","array"]))throw new Br("Expected second argument to be of type array or string, but found "+wn(rr(d))+" instead.");if(this.fromIndex){var N=this.fromIndex.evaluate(t);return d.indexOf(r,N)}return d.indexOf(r)},no.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},no.prototype.outputDefined=function(){return!1},no.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var $n=function(t,r,d,N,W,Q){this.inputType=t,this.type=r,this.input=d,this.cases=N,this.outputs=W,this.otherwise=Q};$n.parse=function(t,r){if(t.length<5)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return r.error("Expected an even number of arguments.");var d,N;r.expectedType&&"value"!==r.expectedType.kind&&(N=r.expectedType);for(var W={},Q=[],st=2;st<t.length-1;st+=2){var bt=t[st],Nt=t[st+1];Array.isArray(bt)||(bt=[bt]);var Ht=r.concat(st);if(0===bt.length)return Ht.error("Expected at least one branch label.");for(var $t=0,ee=bt;$t<ee.length;$t+=1){var ce=ee[$t];if("number"!=typeof ce&&"string"!=typeof ce)return Ht.error("Branch labels must be numbers or strings.");if("number"==typeof ce&&Math.abs(ce)>Number.MAX_SAFE_INTEGER)return Ht.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof ce&&Math.floor(ce)!==ce)return Ht.error("Numeric branch labels must be integer values.");if(d){if(Ht.checkSubtype(d,rr(ce)))return null}else d=rr(ce);if(void 0!==W[String(ce)])return Ht.error("Branch labels must be unique.");W[String(ce)]=Q.length}var ge=r.parse(Nt,st,N);if(!ge)return null;N=N||ge.type,Q.push(ge)}var Ee=r.parse(t[1],1,Fi);if(!Ee)return null;var Le=r.parse(t[t.length-1],t.length-1,N);return Le?"value"!==Ee.type.kind&&r.concat(1).checkSubtype(d,Ee.type)?null:new $n(d,N,Ee,W,Q,Le):null},$n.prototype.evaluate=function(t){var r=this.input.evaluate(t);return(rr(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(t)},$n.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},$n.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})&&this.otherwise.outputDefined()},$n.prototype.serialize=function(){for(var t=this,r=["match",this.input.serialize()],d=[],N={},W=0,Q=Object.keys(this.cases).sort();W<Q.length;W+=1){var st=Q[W];void 0===(ee=N[this.cases[st]])?(N[this.cases[st]]=d.length,d.push([this.cases[st],[st]])):d[ee][1].push(st)}for(var bt=function(ge){return"number"===t.inputType.kind?Number(ge):ge},Nt=0,Ht=d;Nt<Ht.length;Nt+=1){var $t=Ht[Nt],ee=$t[0],ce=$t[1];r.push(1===ce.length?bt(ce[0]):ce.map(bt)),r.push(this.outputs[outputIndex$1].serialize())}return r.push(this.otherwise.serialize()),r};var Pr=function(t,r,d){this.type=t,this.branches=r,this.otherwise=d};Pr.parse=function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return r.error("Expected an odd number of arguments.");var d;r.expectedType&&"value"!==r.expectedType.kind&&(d=r.expectedType);for(var N=[],W=1;W<t.length-1;W+=2){var Q=r.parse(t[W],W,Di);if(!Q)return null;var st=r.parse(t[W+1],W+1,d);if(!st)return null;N.push([Q,st]),d=d||st.type}var bt=r.parse(t[t.length-1],t.length-1,d);return bt?new Pr(d,N,bt):null},Pr.prototype.evaluate=function(t){for(var r=0,d=this.branches;r<d.length;r+=1){var N=d[r],W=N[1];if(N[0].evaluate(t))return W.evaluate(t)}return this.otherwise.evaluate(t)},Pr.prototype.eachChild=function(t){for(var r=0,d=this.branches;r<d.length;r+=1){var N=d[r],W=N[1];t(N[0]),t(W)}t(this.otherwise)},Pr.prototype.outputDefined=function(){return this.branches.every(function(t){return t[1].outputDefined()})&&this.otherwise.outputDefined()},Pr.prototype.serialize=function(){var t=["case"];return this.eachChild(function(r){t.push(r.serialize())}),t};var to=function(t,r,d,N){this.type=t,this.input=r,this.beginIndex=d,this.endIndex=N};function No(t,r){return"=="===t||"!="===t?"boolean"===r.kind||"string"===r.kind||"number"===r.kind||"null"===r.kind||"value"===r.kind:"string"===r.kind||"number"===r.kind||"value"===r.kind}function uo(t,r,d,N){return 0===N.compare(r,d)}function yr(t,r,d){var N="=="!==t&&"!="!==t;return function(){function W(Q,st,bt){this.type=Di,this.lhs=Q,this.rhs=st,this.collator=bt,this.hasUntypedArgument="value"===Q.type.kind||"value"===st.type.kind}return W.parse=function(Q,st){if(3!==Q.length&&4!==Q.length)return st.error("Expected two or three arguments.");var bt=Q[0],Nt=st.parse(Q[1],1,Fi);if(!Nt)return null;if(!No(bt,Nt.type))return st.concat(1).error('"'+bt+"\" comparisons are not supported for type '"+wn(Nt.type)+"'.");var Ht=st.parse(Q[2],2,Fi);if(!Ht)return null;if(!No(bt,Ht.type))return st.concat(2).error('"'+bt+"\" comparisons are not supported for type '"+wn(Ht.type)+"'.");if(Nt.type.kind!==Ht.type.kind&&"value"!==Nt.type.kind&&"value"!==Ht.type.kind)return st.error("Cannot compare types '"+wn(Nt.type)+"' and '"+wn(Ht.type)+"'.");N&&("value"===Nt.type.kind&&"value"!==Ht.type.kind?Nt=new br(Ht.type,[Nt]):"value"!==Nt.type.kind&&"value"===Ht.type.kind&&(Ht=new br(Nt.type,[Ht])));var $t=null;if(4===Q.length){if("string"!==Nt.type.kind&&"string"!==Ht.type.kind&&"value"!==Nt.type.kind&&"value"!==Ht.type.kind)return st.error("Cannot use collator to compare non-string types.");if(!($t=st.parse(Q[3],3,xn)))return null}return new W(Nt,Ht,$t)},W.prototype.evaluate=function(Q){var st=this.lhs.evaluate(Q),bt=this.rhs.evaluate(Q);if(N&&this.hasUntypedArgument){var Nt=rr(st),Ht=rr(bt);if(Nt.kind!==Ht.kind||"string"!==Nt.kind&&"number"!==Nt.kind)throw new Br('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+Nt.kind+", "+Ht.kind+") instead.")}if(this.collator&&!N&&this.hasUntypedArgument){var $t=rr(st),ee=rr(bt);if("string"!==$t.kind||"string"!==ee.kind)return r(Q,st,bt)}return this.collator?d(Q,st,bt,this.collator.evaluate(Q)):r(Q,st,bt)},W.prototype.eachChild=function(Q){Q(this.lhs),Q(this.rhs),this.collator&&Q(this.collator)},W.prototype.outputDefined=function(){return!0},W.prototype.serialize=function(){var Q=[t];return this.eachChild(function(st){Q.push(st.serialize())}),Q},W}()}to.parse=function(t,r){if(t.length<=2||t.length>=5)return r.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var d=r.parse(t[1],1,Fi),N=r.parse(t[2],2,ei);if(!d||!N)return null;if(!Kn(d.type,[Rn(Fi),Bi,Fi]))return r.error("Expected first argument to be of type array or string, but found "+wn(d.type)+" instead");if(4===t.length){var W=r.parse(t[3],3,ei);return W?new to(d.type,d,N,W):null}return new to(d.type,d,N)},to.prototype.evaluate=function(t){var r=this.input.evaluate(t),d=this.beginIndex.evaluate(t);if(!Bn(r,["string","array"]))throw new Br("Expected first argument to be of type array or string, but found "+wn(rr(r))+" instead.");if(this.endIndex){var N=this.endIndex.evaluate(t);return r.slice(d,N)}return r.slice(d)},to.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},to.prototype.outputDefined=function(){return!1},to.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Gs=yr("==",function(t,r,d){return r===d},uo),qo=yr("!=",function(t,r,d){return r!==d},function(t,r,d,N){return!uo(0,r,d,N)}),ss=yr("<",function(t,r,d){return r<d},function(t,r,d,N){return N.compare(r,d)<0}),Ds=yr(">",function(t,r,d){return r>d},function(t,r,d,N){return N.compare(r,d)>0}),sa=yr("<=",function(t,r,d){return r<=d},function(t,r,d,N){return N.compare(r,d)<=0}),Rs=yr(">=",function(t,r,d){return r>=d},function(t,r,d,N){return N.compare(r,d)>=0}),vs=function(t,r,d,N,W){this.type=Bi,this.number=t,this.locale=r,this.currency=d,this.minFractionDigits=N,this.maxFractionDigits=W};vs.parse=function(t,r){if(3!==t.length)return r.error("Expected two arguments.");var d=r.parse(t[1],1,ei);if(!d)return null;var N=t[2];if("object"!=typeof N||Array.isArray(N))return r.error("NumberFormat options argument must be an object.");var W=null;if(N.locale&&!(W=r.parse(N.locale,1,Bi)))return null;var Q=null;if(N.currency&&!(Q=r.parse(N.currency,1,Bi)))return null;var st=null;if(N["min-fraction-digits"]&&!(st=r.parse(N["min-fraction-digits"],1,ei)))return null;var bt=null;return N["max-fraction-digits"]&&!(bt=r.parse(N["max-fraction-digits"],1,ei))?null:new vs(d,W,Q,st,bt)},vs.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},vs.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},vs.prototype.outputDefined=function(){return!1},vs.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var as=function(t){this.type=ei,this.input=t};as.parse=function(t,r){if(2!==t.length)return r.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var d=r.parse(t[1],1);return d?"array"!==d.type.kind&&"string"!==d.type.kind&&"value"!==d.type.kind?r.error("Expected argument of type string or array, but found "+wn(d.type)+" instead."):new as(d):null},as.prototype.evaluate=function(t){var r=this.input.evaluate(t);if("string"==typeof r||Array.isArray(r))return r.length;throw new Br("Expected value to be of type string or array, but found "+wn(rr(r))+" instead.")},as.prototype.eachChild=function(t){t(this.input)},as.prototype.outputDefined=function(){return!1},as.prototype.serialize=function(){var t=["length"];return this.eachChild(function(r){t.push(r.serialize())}),t};var Ws={"==":Gs,"!=":qo,">":Ds,"<":ss,">=":Rs,"<=":sa,array:br,at:so,boolean:br,case:Pr,coalesce:Cr,collator:ao,format:Zr,image:$r,in:mr,"index-of":no,interpolate:Ln,"interpolate-hcl":Ln,"interpolate-lab":Ln,length:as,let:Ar,literal:Sr,match:$n,number:br,"number-format":vs,object:br,slice:to,step:Ii,string:br,"to-boolean":Wr,"to-color":Wr,"to-number":Wr,"to-string":Wr,var:Xe,within:Wt};function y(t,r){var d=r[0],N=r[1],W=r[2],Q=r[3];d=d.evaluate(t),N=N.evaluate(t),W=W.evaluate(t);var st=Q?Q.evaluate(t):1,bt=Vn(d,N,W,st);if(bt)throw new Br(bt);return new Wi(d/255*st,N/255*st,W/255*st,st)}function H(t,r){return t in r}function at(t,r){var d=r[t];return void 0===d?null:d}function Mt(t){return{type:t}}function Gt(t){return{result:"success",value:t}}function be(t){return{result:"error",value:t}}function ri(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function ni(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Xi(t){return!!t.expression&&t.expression.interpolated}function zi(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function zn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function cr(t){return t}function kr(t,r,d){return void 0!==t?t:void 0!==r?r:void 0!==d?d:void 0}function go(t,r,d,N,W){return kr(typeof d===W?N[d]:void 0,t.default,r.default)}function _s(t,r,d){if("number"!==zi(d))return kr(t.default,r.default);var N=t.stops.length;if(1===N||d<=t.stops[0][0])return t.stops[0][1];if(d>=t.stops[N-1][0])return t.stops[N-1][1];var W=Ue(t.stops.map(function(Q){return Q[0]}),d);return t.stops[W][1]}function Wo(t,r,d){var N=void 0!==t.base?t.base:1;if("number"!==zi(d))return kr(t.default,r.default);var W=t.stops.length;if(1===W||d<=t.stops[0][0])return t.stops[0][1];if(d>=t.stops[W-1][0])return t.stops[W-1][1];var ce,ge,Le,qe,Q=Ue(t.stops.map(function(ee){return ee[0]}),d),st=(ce=N,qe=d-(ge=t.stops[Q][0]),0==(Le=t.stops[Q+1][0]-ge)?0:1===ce?qe/Le:(Math.pow(ce,qe)-1)/(Math.pow(ce,Le)-1)),bt=t.stops[Q][1],Nt=t.stops[Q+1][1],Ht=Tt[r.type]||cr;if(t.colorSpace&&"rgb"!==t.colorSpace){var $t=kn[t.colorSpace];Ht=function(ee,ce){return $t.reverse($t.interpolate($t.forward(ee),$t.forward(ce),st))}}return"function"==typeof bt.evaluate?{evaluate:function(){for(var ee=[],ce=arguments.length;ce--;)ee[ce]=arguments[ce];var ge=bt.evaluate.apply(void 0,ee),Ee=Nt.evaluate.apply(void 0,ee);if(void 0!==ge&&void 0!==Ee)return Ht(ge,Ee,st)}}:Ht(bt,Nt,st)}function Do(t,r,d){return"color"===r.type?d=Wi.parse(d):"formatted"===r.type?d=Qn.fromString(d.toString()):"resolvedImage"===r.type?d=Fn.fromString(d.toString()):zi(d)===r.type||"enum"===r.type&&r.values[d]||(d=void 0),kr(d,t.default,r.default)}Kr.register(Ws,{error:[{kind:"error"},[Bi],function(t,r){throw new Br(r[0].evaluate(t))}],typeof:[Bi,[Fi],function(t,r){return wn(rr(r[0].evaluate(t)))}],"to-rgba":[Rn(ei,4),[si],function(t,r){return r[0].evaluate(t).toArray()}],rgb:[si,[ei,ei,ei],y],rgba:[si,[ei,ei,ei,ei],y],has:{type:Di,overloads:[[[Bi],function(t,r){return H(r[0].evaluate(t),t.properties())}],[[Bi,pn],function(t,r){var d=r[1];return H(r[0].evaluate(t),d.evaluate(t))}]]},get:{type:Fi,overloads:[[[Bi],function(t,r){return at(r[0].evaluate(t),t.properties())}],[[Bi,pn],function(t,r){var d=r[1];return at(r[0].evaluate(t),d.evaluate(t))}]]},"feature-state":[Fi,[Bi],function(t,r){return at(r[0].evaluate(t),t.featureState||{})}],properties:[pn,[],function(t){return t.properties()}],"geometry-type":[Bi,[],function(t){return t.geometryType()}],id:[Fi,[],function(t){return t.id()}],zoom:[ei,[],function(t){return t.globals.zoom}],"heatmap-density":[ei,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[ei,[],function(t){return t.globals.lineProgress||0}],accumulated:[Fi,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[ei,Mt(ei),function(t,r){for(var d=0,N=0,W=r;N<W.length;N+=1)d+=W[N].evaluate(t);return d}],"*":[ei,Mt(ei),function(t,r){for(var d=1,N=0,W=r;N<W.length;N+=1)d*=W[N].evaluate(t);return d}],"-":{type:ei,overloads:[[[ei,ei],function(t,r){var d=r[1];return r[0].evaluate(t)-d.evaluate(t)}],[[ei],function(t,r){return-r[0].evaluate(t)}]]},"/":[ei,[ei,ei],function(t,r){var d=r[1];return r[0].evaluate(t)/d.evaluate(t)}],"%":[ei,[ei,ei],function(t,r){var d=r[1];return r[0].evaluate(t)%d.evaluate(t)}],ln2:[ei,[],function(){return Math.LN2}],pi:[ei,[],function(){return Math.PI}],e:[ei,[],function(){return Math.E}],"^":[ei,[ei,ei],function(t,r){var d=r[1];return Math.pow(r[0].evaluate(t),d.evaluate(t))}],sqrt:[ei,[ei],function(t,r){return Math.sqrt(r[0].evaluate(t))}],log10:[ei,[ei],function(t,r){return Math.log(r[0].evaluate(t))/Math.LN10}],ln:[ei,[ei],function(t,r){return Math.log(r[0].evaluate(t))}],log2:[ei,[ei],function(t,r){return Math.log(r[0].evaluate(t))/Math.LN2}],sin:[ei,[ei],function(t,r){return Math.sin(r[0].evaluate(t))}],cos:[ei,[ei],function(t,r){return Math.cos(r[0].evaluate(t))}],tan:[ei,[ei],function(t,r){return Math.tan(r[0].evaluate(t))}],asin:[ei,[ei],function(t,r){return Math.asin(r[0].evaluate(t))}],acos:[ei,[ei],function(t,r){return Math.acos(r[0].evaluate(t))}],atan:[ei,[ei],function(t,r){return Math.atan(r[0].evaluate(t))}],min:[ei,Mt(ei),function(t,r){return Math.min.apply(Math,r.map(function(d){return d.evaluate(t)}))}],max:[ei,Mt(ei),function(t,r){return Math.max.apply(Math,r.map(function(d){return d.evaluate(t)}))}],abs:[ei,[ei],function(t,r){return Math.abs(r[0].evaluate(t))}],round:[ei,[ei],function(t,r){var d=r[0].evaluate(t);return d<0?-Math.round(-d):Math.round(d)}],floor:[ei,[ei],function(t,r){return Math.floor(r[0].evaluate(t))}],ceil:[ei,[ei],function(t,r){return Math.ceil(r[0].evaluate(t))}],"filter-==":[Di,[Bi,Fi],function(t,r){var d=r[0],N=r[1];return t.properties()[d.value]===N.value}],"filter-id-==":[Di,[Fi],function(t,r){var d=r[0];return t.id()===d.value}],"filter-type-==":[Di,[Bi],function(t,r){var d=r[0];return t.geometryType()===d.value}],"filter-<":[Di,[Bi,Fi],function(t,r){var d=r[0],N=r[1],W=t.properties()[d.value],Q=N.value;return typeof W==typeof Q&&W<Q}],"filter-id-<":[Di,[Fi],function(t,r){var d=r[0],N=t.id(),W=d.value;return typeof N==typeof W&&N<W}],"filter->":[Di,[Bi,Fi],function(t,r){var d=r[0],N=r[1],W=t.properties()[d.value],Q=N.value;return typeof W==typeof Q&&W>Q}],"filter-id->":[Di,[Fi],function(t,r){var d=r[0],N=t.id(),W=d.value;return typeof N==typeof W&&N>W}],"filter-<=":[Di,[Bi,Fi],function(t,r){var d=r[0],N=r[1],W=t.properties()[d.value],Q=N.value;return typeof W==typeof Q&&W<=Q}],"filter-id-<=":[Di,[Fi],function(t,r){var d=r[0],N=t.id(),W=d.value;return typeof N==typeof W&&N<=W}],"filter->=":[Di,[Bi,Fi],function(t,r){var d=r[0],N=r[1],W=t.properties()[d.value],Q=N.value;return typeof W==typeof Q&&W>=Q}],"filter-id->=":[Di,[Fi],function(t,r){var d=r[0],N=t.id(),W=d.value;return typeof N==typeof W&&N>=W}],"filter-has":[Di,[Fi],function(t,r){return r[0].value in t.properties()}],"filter-has-id":[Di,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[Di,[Rn(Bi)],function(t,r){return r[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Di,[Rn(Fi)],function(t,r){return r[0].value.indexOf(t.id())>=0}],"filter-in-small":[Di,[Bi,Rn(Fi)],function(t,r){var d=r[0];return r[1].value.indexOf(t.properties()[d.value])>=0}],"filter-in-large":[Di,[Bi,Rn(Fi)],function(t,r){var d=r[0],N=r[1];return function(W,Q,st,bt){for(;st<=bt;){var Nt=st+bt>>1;if(Q[Nt]===W)return!0;Q[Nt]>W?bt=Nt-1:st=Nt+1}return!1}(t.properties()[d.value],N.value,0,N.value.length-1)}],all:{type:Di,overloads:[[[Di,Di],function(t,r){var d=r[1];return r[0].evaluate(t)&&d.evaluate(t)}],[Mt(Di),function(t,r){for(var d=0,N=r;d<N.length;d+=1)if(!N[d].evaluate(t))return!1;return!0}]]},any:{type:Di,overloads:[[[Di,Di],function(t,r){var d=r[1];return r[0].evaluate(t)||d.evaluate(t)}],[Mt(Di),function(t,r){for(var d=0,N=r;d<N.length;d+=1)if(N[d].evaluate(t))return!0;return!1}]]},"!":[Di,[Di],function(t,r){return!r[0].evaluate(t)}],"is-supported-script":[Di,[Bi],function(t,r){var d=t.globals&&t.globals.isSupportedScript;return!d||d(r[0].evaluate(t))}],upcase:[Bi,[Bi],function(t,r){return r[0].evaluate(t).toUpperCase()}],downcase:[Bi,[Bi],function(t,r){return r[0].evaluate(t).toLowerCase()}],concat:[Bi,Mt(Fi),function(t,r){return r.map(function(d){return Nr(d.evaluate(t))}).join("")}],"resolved-locale":[Bi,[xn],function(t,r){return r[0].evaluate(t).resolvedLocale()}]});var Bs=function(t,r){var d;this.expression=t,this._warningHistory={},this._evaluator=new qr,this._defaultValue=r?"color"===(d=r).type&&zn(d.default)?new Wi(0,0,0,0):"color"===d.type?Wi.parse(d.default)||null:void 0===d.default?null:d.default:null,this._enumValues=r&&"enum"===r.type?r.values:null};function Xo(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Ws}function Xs(t,r){var W,Q,d=new Be(Ws,[],r?(Q={color:si,string:Bi,number:ei,enum:Bi,boolean:Di,formatted:tn,resolvedImage:An},"array"===(W=r).type?Rn(Q[W.value]||Fi,W.length):Q[W.type]):void 0),N=d.parse(t,void 0,void 0,void 0,r&&"string"===r.type?{typeAnnotation:"coerce"}:void 0);return N?Gt(new Bs(N,r)):be(d.errors)}Bs.prototype.evaluateWithoutErrorHandling=function(t,r,d,N,W,Q){return this._evaluator.globals=t,this._evaluator.feature=r,this._evaluator.featureState=d,this._evaluator.canonical=N,this._evaluator.availableImages=W||null,this._evaluator.formattedSection=Q,this.expression.evaluate(this._evaluator)},Bs.prototype.evaluate=function(t,r,d,N,W,Q){this._evaluator.globals=t,this._evaluator.feature=r||null,this._evaluator.featureState=d||null,this._evaluator.canonical=N,this._evaluator.availableImages=W||null,this._evaluator.formattedSection=Q||null;try{var st=this.expression.evaluate(this._evaluator);if(null==st||"number"==typeof st&&st!=st)return this._defaultValue;if(this._enumValues&&!(st in this._enumValues))throw new Br("Expected value to be one of "+Object.keys(this._enumValues).map(function(bt){return JSON.stringify(bt)}).join(", ")+", but found "+JSON.stringify(st)+" instead.");return st}catch(bt){return this._warningHistory[bt.message]||(this._warningHistory[bt.message]=!0,typeof console<"u"&&console.warn(bt.message)),this._defaultValue}};var co=function(t,r){this.kind=t,this._styleExpression=r,this.isStateDependent="constant"!==t&&!xe(r.expression)};co.prototype.evaluateWithoutErrorHandling=function(t,r,d,N,W,Q){return this._styleExpression.evaluateWithoutErrorHandling(t,r,d,N,W,Q)},co.prototype.evaluate=function(t,r,d,N,W,Q){return this._styleExpression.evaluate(t,r,d,N,W,Q)};var ms=function(t,r,d,N){this.kind=t,this.zoomStops=d,this._styleExpression=r,this.isStateDependent="camera"!==t&&!xe(r.expression),this.interpolationType=N};function Cs(t,r){if("error"===(t=Xs(t,r)).result)return t;var d=t.value.expression,N=Qt(d);if(!N&&!ri(r))return be([new ii("","data expressions not supported")]);var W=Me(d,["zoom"]);if(!W&&!ni(r))return be([new ii("","zoom expressions not supported")]);var Q=function st(bt){var Nt=null;if(bt instanceof Ar)Nt=st(bt.result);else if(bt instanceof Cr)for(var Ht=0,$t=bt.args;Ht<$t.length&&!(Nt=st($t[Ht]));Ht+=1);else(bt instanceof Ii||bt instanceof Ln)&&bt.input instanceof Kr&&"zoom"===bt.input.name&&(Nt=bt);return Nt instanceof ii||bt.eachChild(function(ee){var ce=st(ee);ce instanceof ii?Nt=ce:!Nt&&ce?Nt=new ii("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Nt&&ce&&Nt!==ce&&(Nt=new ii("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),Nt}(d);return Q||W?Q instanceof ii?be([Q]):Q instanceof Ln&&!Xi(r)?be([new ii("",'"interpolate" expressions cannot be used with this property')]):Gt(Q?new ms(N?"camera":"composite",t.value,Q.labels,Q instanceof Ln?Q.interpolation:void 0):new co(N?"constant":"source",t.value)):be([new ii("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}ms.prototype.evaluateWithoutErrorHandling=function(t,r,d,N,W,Q){return this._styleExpression.evaluateWithoutErrorHandling(t,r,d,N,W,Q)},ms.prototype.evaluate=function(t,r,d,N,W,Q){return this._styleExpression.evaluate(t,r,d,N,W,Q)},ms.prototype.interpolationFactor=function(t,r,d){return this.interpolationType?Ln.interpolationFactor(this.interpolationType,t,r,d):0};var Qs=function(t,r){this._parameters=t,this._specification=r,Ge(this,function d(N,W){var Q,st,bt,Nt="color"===W.type,Ht=N.stops&&"object"==typeof N.stops[0][0],$t=Ht||!(Ht||void 0!==N.property),ee=N.type||(Xi(W)?"exponential":"interval");if(Nt&&((N=Ge({},N)).stops&&(N.stops=N.stops.map(function(Tn){return[Tn[0],Wi.parse(Tn[1])]})),N.default=Wi.parse(N.default?N.default:W.default)),N.colorSpace&&"rgb"!==N.colorSpace&&!kn[N.colorSpace])throw new Error("Unknown color space: "+N.colorSpace);if("exponential"===ee)Q=Wo;else if("interval"===ee)Q=_s;else if("categorical"===ee){Q=go,st=Object.create(null);for(var ce=0,ge=N.stops;ce<ge.length;ce+=1){var Ee=ge[ce];st[Ee[0]]=Ee[1]}bt=typeof N.stops[0][0]}else{if("identity"!==ee)throw new Error('Unknown function type "'+ee+'"');Q=Do}if(Ht){for(var Le={},qe=[],Ve=0;Ve<N.stops.length;Ve++){var hi=N.stops[Ve],xi=hi[0].zoom;void 0===Le[xi]&&(Le[xi]={zoom:xi,type:N.type,property:N.property,default:N.default,stops:[]},qe.push(xi)),Le[xi].stops.push([hi[0].value,hi[1]])}for(var Mi=[],Ei=0,Ui=qe;Ei<Ui.length;Ei+=1){var ln=Ui[Ei];Mi.push([Le[ln].zoom,d(Le[ln],W)])}var yn={name:"linear"};return{kind:"composite",interpolationType:yn,interpolationFactor:Ln.interpolationFactor.bind(void 0,yn),zoomStops:Mi.map(function(Tn){return Tn[0]}),evaluate:function(Tn,Xn){var Sn=Tn.zoom;return Wo({stops:Mi,base:N.base},W,Sn).evaluate(Sn,Xn)}}}if($t){var Un="exponential"===ee?{name:"exponential",base:void 0!==N.base?N.base:1}:null;return{kind:"camera",interpolationType:Un,interpolationFactor:Ln.interpolationFactor.bind(void 0,Un),zoomStops:N.stops.map(function(Tn){return Tn[0]}),evaluate:function(Tn){return Q(N,W,Tn.zoom,st,bt)}}}return{kind:"source",evaluate:function(Tn,Xn){var Sn=Xn&&Xn.properties?Xn.properties[N.property]:void 0;return void 0===Sn?kr(N.default,W.default):Q(N,W,Sn,st,bt)}}}(this._parameters,this._specification))};function ls(t){var r=t.key,d=t.value,N=t.valueSpec||{},W=t.objectElementValidators||{},Q=t.style,st=t.styleSpec,bt=[],Nt=zi(d);if("object"!==Nt)return[new fe(r,d,"object expected, "+Nt+" found")];for(var Ht in d){var $t=Ht.split(".")[0],ee=N[$t]||N["*"],ce=void 0;if(W[$t])ce=W[$t];else if(N[$t])ce=Qi;else if(W["*"])ce=W["*"];else{if(!N["*"]){bt.push(new fe(r,d[Ht],'unknown property "'+Ht+'"'));continue}ce=Qi}bt=bt.concat(ce({key:(r&&r+".")+Ht,value:d[Ht],valueSpec:ee,style:Q,styleSpec:st,object:d,objectKey:Ht},d))}for(var ge in N)W[ge]||N[ge].required&&void 0===N[ge].default&&void 0===d[ge]&&bt.push(new fe(r,d,'missing required property "'+ge+'"'));return bt}function wa(t){var r=t.value,d=t.valueSpec,N=t.style,W=t.styleSpec,Q=t.key,st=t.arrayElementValidator||Qi;if("array"!==zi(r))return[new fe(Q,r,"array expected, "+zi(r)+" found")];if(d.length&&r.length!==d.length)return[new fe(Q,r,"array length "+d.length+" expected, length "+r.length+" found")];if(d["min-length"]&&r.length<d["min-length"])return[new fe(Q,r,"array length at least "+d["min-length"]+" expected, length "+r.length+" found")];var bt={type:d.value,values:d.values};W.$version<7&&(bt.function=d.function),"object"===zi(d.value)&&(bt=d.value);for(var Nt=[],Ht=0;Ht<r.length;Ht++)Nt=Nt.concat(st({array:r,arrayIndex:Ht,value:r[Ht],valueSpec:bt,style:N,styleSpec:W,key:Q+"["+Ht+"]"}));return Nt}function ga(t){var r=t.key,d=t.value,N=t.valueSpec,W=zi(d);return"number"===W&&d!=d&&(W="NaN"),"number"!==W?[new fe(r,d,"number expected, "+W+" found")]:"minimum"in N&&d<N.minimum?[new fe(r,d,d+" is less than the minimum value "+N.minimum)]:"maximum"in N&&d>N.maximum?[new fe(r,d,d+" is greater than the maximum value "+N.maximum)]:[]}function Ae(t){var r,d,N,W=t.valueSpec,Q=ai(t.value.type),st={},bt="categorical"!==Q&&void 0===t.value.property,Nt=!bt,Ht="array"===zi(t.value.stops)&&"array"===zi(t.value.stops[0])&&"object"===zi(t.value.stops[0][0]),$t=ls({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(ge){if("identity"===Q)return[new fe(ge.key,ge.value,'identity function may not have a "stops" property')];var Ee=[],Le=ge.value;return Ee=Ee.concat(wa({key:ge.key,value:Le,valueSpec:ge.valueSpec,style:ge.style,styleSpec:ge.styleSpec,arrayElementValidator:ee})),"array"===zi(Le)&&0===Le.length&&Ee.push(new fe(ge.key,Le,"array must have at least one stop")),Ee},default:function(ge){return Qi({key:ge.key,value:ge.value,valueSpec:W,style:ge.style,styleSpec:ge.styleSpec})}}});return"identity"===Q&&bt&&$t.push(new fe(t.key,t.value,'missing required property "property"')),"identity"===Q||t.value.stops||$t.push(new fe(t.key,t.value,'missing required property "stops"')),"exponential"===Q&&t.valueSpec.expression&&!Xi(t.valueSpec)&&$t.push(new fe(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(Nt&&!ri(t.valueSpec)?$t.push(new fe(t.key,t.value,"property functions not supported")):bt&&!ni(t.valueSpec)&&$t.push(new fe(t.key,t.value,"zoom functions not supported"))),"categorical"!==Q&&!Ht||void 0!==t.value.property||$t.push(new fe(t.key,t.value,'"property" property is required')),$t;function ee(ge){var Ee=[],Le=ge.value,qe=ge.key;if("array"!==zi(Le))return[new fe(qe,Le,"array expected, "+zi(Le)+" found")];if(2!==Le.length)return[new fe(qe,Le,"array length 2 expected, length "+Le.length+" found")];if(Ht){if("object"!==zi(Le[0]))return[new fe(qe,Le,"object expected, "+zi(Le[0])+" found")];if(void 0===Le[0].zoom)return[new fe(qe,Le,"object stop key must have zoom")];if(void 0===Le[0].value)return[new fe(qe,Le,"object stop key must have value")];if(N&&N>ai(Le[0].zoom))return[new fe(qe,Le[0].zoom,"stop zoom values must appear in ascending order")];ai(Le[0].zoom)!==N&&(N=ai(Le[0].zoom),d=void 0,st={}),Ee=Ee.concat(ls({key:qe+"[0]",value:Le[0],valueSpec:{zoom:{}},style:ge.style,styleSpec:ge.styleSpec,objectElementValidators:{zoom:ga,value:ce}}))}else Ee=Ee.concat(ce({key:qe+"[0]",value:Le[0],valueSpec:{},style:ge.style,styleSpec:ge.styleSpec},Le));return Xo(ye(Le[1]))?Ee.concat([new fe(qe+"[1]",Le[1],"expressions are not allowed in function stops.")]):Ee.concat(Qi({key:qe+"[1]",value:Le[1],valueSpec:W,style:ge.style,styleSpec:ge.styleSpec}))}function ce(ge,Ee){var Le=zi(ge.value),qe=ai(ge.value),Ve=null!==ge.value?ge.value:Ee;if(r){if(Le!==r)return[new fe(ge.key,Ve,Le+" stop domain type must match previous stop domain type "+r)]}else r=Le;if("number"!==Le&&"string"!==Le&&"boolean"!==Le)return[new fe(ge.key,Ve,"stop domain value must be a number, string, or boolean")];if("number"!==Le&&"categorical"!==Q){var hi="number expected, "+Le+" found";return ri(W)&&void 0===Q&&(hi+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new fe(ge.key,Ve,hi)]}return"categorical"!==Q||"number"!==Le||isFinite(qe)&&Math.floor(qe)===qe?"categorical"!==Q&&"number"===Le&&void 0!==d&&qe<d?[new fe(ge.key,Ve,"stop domain values must appear in ascending order")]:(d=qe,"categorical"===Q&&qe in st?[new fe(ge.key,Ve,"stop domain values must be unique")]:(st[qe]=!0,[])):[new fe(ge.key,Ve,"integer expected, found "+qe)]}}function Ke(t){var r=("property"===t.expressionContext?Cs:Xs)(ye(t.value),t.valueSpec);if("error"===r.result)return r.value.map(function(N){return new fe(""+t.key+N.key,t.value,N.message)});var d=r.value.expression||r.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!d.outputDefined())return[new fe(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!xe(d))return[new fe(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!xe(d))return[new fe(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Me(d,["zoom","feature-state"]))return[new fe(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Qt(d))return[new fe(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function pi(t){var r=t.key,d=t.value,N=t.valueSpec,W=[];return Array.isArray(N.values)?-1===N.values.indexOf(ai(d))&&W.push(new fe(r,d,"expected one of ["+N.values.join(", ")+"], "+JSON.stringify(d)+" found")):-1===Object.keys(N.values).indexOf(ai(d))&&W.push(new fe(r,d,"expected one of ["+Object.keys(N.values).join(", ")+"], "+JSON.stringify(d)+" found")),W}function Zi(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var r=0,d=t.slice(1);r<d.length;r+=1){var N=d[r];if(!Zi(N)&&"boolean"!=typeof N)return!1}return!0;default:return!0}}Qs.deserialize=function(t){return new Qs(t._parameters,t._specification)},Qs.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Ti={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function en(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};Zi(t)||(t=bn(t));var r=Xs(t,Ti);if("error"===r.result)throw new Error(r.value.map(function(d){return d.key+": "+d.message}).join(", "));return{filter:function(d,N,W){return r.value.evaluate(d,N,{},W)},needGeometry:function d(N){if(!Array.isArray(N))return!1;if("within"===N[0])return!0;for(var W=1;W<N.length;W++)if(d(N[W]))return!0;return!1}(t)}}function mn(t,r){return t<r?-1:t>r?1:0}function bn(t){if(!t)return!0;var r,d=t[0];return t.length<=1?"any"!==d:"=="===d?En(t[1],t[2],"=="):"!="===d?or(En(t[1],t[2],"==")):"<"===d||">"===d||"<="===d||">="===d?En(t[1],t[2],d):"any"===d?(r=t.slice(1),["any"].concat(r.map(bn))):"all"===d?["all"].concat(t.slice(1).map(bn)):"none"===d?["all"].concat(t.slice(1).map(bn).map(or)):"in"===d?vr(t[1],t.slice(2)):"!in"===d?or(vr(t[1],t.slice(2))):"has"===d?pr(t[1]):"!has"===d?or(pr(t[1])):"within"!==d||t}function En(t,r,d){switch(t){case"$type":return["filter-type-"+d,r];case"$id":return["filter-id-"+d,r];default:return["filter-"+d,t,r]}}function vr(t,r){if(0===r.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(function(d){return typeof d!=typeof r[0]})?["filter-in-large",t,["literal",r.sort(mn)]]:["filter-in-small",t,["literal",r]]}}function pr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function or(t){return["!",t]}function oe(t){return Zi(ye(t.value))?Ke(Ge({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function r(d){var N=d.value,W=d.key;if("array"!==zi(N))return[new fe(W,N,"array expected, "+zi(N)+" found")];var Q,st=d.styleSpec,bt=[];if(N.length<1)return[new fe(W,N,"filter array must have at least 1 element")];switch(bt=bt.concat(pi({key:W+"[0]",value:N[0],valueSpec:st.filter_operator,style:d.style,styleSpec:d.styleSpec})),ai(N[0])){case"<":case"<=":case">":case">=":N.length>=2&&"$type"===ai(N[1])&&bt.push(new fe(W,N,'"$type" cannot be use with operator "'+N[0]+'"'));case"==":case"!=":3!==N.length&&bt.push(new fe(W,N,'filter array for operator "'+N[0]+'" must have 3 elements'));case"in":case"!in":N.length>=2&&"string"!==(Q=zi(N[1]))&&bt.push(new fe(W+"[1]",N[1],"string expected, "+Q+" found"));for(var Nt=2;Nt<N.length;Nt++)Q=zi(N[Nt]),"$type"===ai(N[1])?bt=bt.concat(pi({key:W+"["+Nt+"]",value:N[Nt],valueSpec:st.geometry_type,style:d.style,styleSpec:d.styleSpec})):"string"!==Q&&"number"!==Q&&"boolean"!==Q&&bt.push(new fe(W+"["+Nt+"]",N[Nt],"string, number, or boolean expected, "+Q+" found"));break;case"any":case"all":case"none":for(var Ht=1;Ht<N.length;Ht++)bt=bt.concat(r({key:W+"["+Ht+"]",value:N[Ht],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":Q=zi(N[1]),2!==N.length?bt.push(new fe(W,N,'filter array for "'+N[0]+'" operator must have 2 elements')):"string"!==Q&&bt.push(new fe(W+"[1]",N[1],"string expected, "+Q+" found"));break;case"within":Q=zi(N[1]),2!==N.length?bt.push(new fe(W,N,'filter array for "'+N[0]+'" operator must have 2 elements')):"object"!==Q&&bt.push(new fe(W+"[1]",N[1],"object expected, "+Q+" found"))}return bt}(t)}function ft(t,r){var d=t.key,N=t.style,W=t.styleSpec,Q=t.value,st=t.objectKey,bt=W[r+"_"+t.layerType];if(!bt)return[];var Nt=st.match(/^(.*)-transition$/);if("paint"===r&&Nt&&bt[Nt[1]]&&bt[Nt[1]].transition)return Qi({key:d,value:Q,valueSpec:W.transition,style:N,styleSpec:W});var Ht,$t=t.valueSpec||bt[st];if(!$t)return[new fe(d,Q,'unknown property "'+st+'"')];if("string"===zi(Q)&&ri($t)&&!$t.tokens&&(Ht=/^{([^}]+)}$/.exec(Q)))return[new fe(d,Q,'"'+st+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ht[1])+" }`.")];var ee=[];return"symbol"===t.layerType&&("text-field"===st&&N&&!N.glyphs&&ee.push(new fe(d,Q,'use of "text-field" requires a style "glyphs" property')),"text-font"===st&&zn(ye(Q))&&"identity"===ai(Q.type)&&ee.push(new fe(d,Q,'"text-font" does not support identity functions'))),ee.concat(Qi({key:t.key,value:Q,valueSpec:$t,style:N,styleSpec:W,expressionContext:"property",propertyType:r,propertyKey:st}))}function zt(t){return ft(t,"paint")}function Se(t){return ft(t,"layout")}function oi(t){var r=[],d=t.value,N=t.key,W=t.style,Q=t.styleSpec;d.type||d.ref||r.push(new fe(N,d,'either "type" or "ref" is required'));var st,bt=ai(d.type),Nt=ai(d.ref);if(d.id)for(var Ht=ai(d.id),$t=0;$t<t.arrayIndex;$t++){var ee=W.layers[$t];ai(ee.id)===Ht&&r.push(new fe(N,d.id,'duplicate layer id "'+d.id+'", previously used at line '+ee.id.__line__))}if("ref"in d)["type","source","source-layer","filter","layout"].forEach(function(Ee){Ee in d&&r.push(new fe(N,d[Ee],'"'+Ee+'" is prohibited for ref layers'))}),W.layers.forEach(function(Ee){ai(Ee.id)===Nt&&(st=Ee)}),st?st.ref?r.push(new fe(N,d.ref,"ref cannot reference another ref layer")):bt=ai(st.type):r.push(new fe(N,d.ref,'ref layer "'+Nt+'" not found'));else if("background"!==bt)if(d.source){var ce=W.sources&&W.sources[d.source],ge=ce&&ai(ce.type);ce?"vector"===ge&&"raster"===bt?r.push(new fe(N,d.source,'layer "'+d.id+'" requires a raster source')):"raster"===ge&&"raster"!==bt?r.push(new fe(N,d.source,'layer "'+d.id+'" requires a vector source')):"vector"!==ge||d["source-layer"]?"raster-dem"===ge&&"hillshade"!==bt?r.push(new fe(N,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==bt||!d.paint||!d.paint["line-gradient"]||"geojson"===ge&&ce.lineMetrics||r.push(new fe(N,d,'layer "'+d.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):r.push(new fe(N,d,'layer "'+d.id+'" must specify a "source-layer"')):r.push(new fe(N,d.source,'source "'+d.source+'" not found'))}else r.push(new fe(N,d,'missing required property "source"'));return r=r.concat(ls({key:N,value:d,valueSpec:Q.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Qi({key:N+".type",value:d.type,valueSpec:Q.layer.type,style:t.style,styleSpec:t.styleSpec,object:d,objectKey:"type"})},filter:oe,layout:function(Ee){return ls({layer:d,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(Le){return Se(Ge({layerType:bt},Le))}}})},paint:function(Ee){return ls({layer:d,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(Le){return zt(Ge({layerType:bt},Le))}}})}}}))}function li(t){var r=t.value,d=t.key,N=zi(r);return"string"!==N?[new fe(d,r,"string expected, "+N+" found")]:[]}var gi={promoteId:function(t){var r=t.key,d=t.value;if("string"===zi(d))return li({key:r,value:d});var N=[];for(var W in d)N.push.apply(N,li({key:r+"."+W,value:d[W]}));return N}};function qi(t){var r=t.value,d=t.key,N=t.styleSpec,W=t.style;if(!r.type)return[new fe(d,r,'"type" is required')];var Q,st=ai(r.type);switch(st){case"vector":case"raster":case"raster-dem":return ls({key:d,value:r,valueSpec:N["source_"+st.replace("-","_")],style:t.style,styleSpec:N,objectElementValidators:gi});case"geojson":if(Q=ls({key:d,value:r,valueSpec:N.source_geojson,style:W,styleSpec:N,objectElementValidators:gi}),r.cluster)for(var bt in r.clusterProperties){var Nt=r.clusterProperties[bt],Ht=Nt[0],$t="string"==typeof Ht?[Ht,["accumulated"],["get",bt]]:Ht;Q.push.apply(Q,Ke({key:d+"."+bt+".map",value:Nt[1],expressionContext:"cluster-map"})),Q.push.apply(Q,Ke({key:d+"."+bt+".reduce",value:$t,expressionContext:"cluster-reduce"}))}return Q;case"video":return ls({key:d,value:r,valueSpec:N.source_video,style:W,styleSpec:N});case"image":return ls({key:d,value:r,valueSpec:N.source_image,style:W,styleSpec:N});case"canvas":return[new fe(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return pi({key:d+".type",value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:W,styleSpec:N})}}function hn(t){var r=t.value,d=t.styleSpec,N=d.light,W=t.style,Q=[],st=zi(r);if(void 0===r)return Q;if("object"!==st)return Q.concat([new fe("light",r,"object expected, "+st+" found")]);for(var bt in r){var Nt=bt.match(/^(.*)-transition$/);Q=Q.concat(Nt&&N[Nt[1]]&&N[Nt[1]].transition?Qi({key:bt,value:r[bt],valueSpec:d.transition,style:W,styleSpec:d}):N[bt]?Qi({key:bt,value:r[bt],valueSpec:N[bt],style:W,styleSpec:d}):[new fe(bt,r[bt],'unknown property "'+bt+'"')])}return Q}var vn={"*":function(){return[]},array:wa,boolean:function(t){var r=t.value,d=t.key,N=zi(r);return"boolean"!==N?[new fe(d,r,"boolean expected, "+N+" found")]:[]},number:ga,color:function(t){var r=t.key,d=t.value,N=zi(d);return"string"!==N?[new fe(r,d,"color expected, "+N+" found")]:null===In(d)?[new fe(r,d,'color expected, "'+d+'" found')]:[]},constants:He,enum:pi,filter:oe,function:Ae,layer:oi,object:ls,source:qi,light:hn,string:li,formatted:function(t){return 0===li(t).length?[]:Ke(t)},resolvedImage:function(t){return 0===li(t).length?[]:Ke(t)}};function Qi(t){var r=t.value,d=t.valueSpec,N=t.styleSpec;return d.expression&&zn(ai(r))?Ae(t):d.expression&&Xo(ye(r))?Ke(t):d.type&&vn[d.type]?vn[d.type](t):ls(Ge({},t,{valueSpec:d.type?N[d.type]:d}))}function un(t){var r=t.value,d=t.key,N=li(t);return N.length||(-1===r.indexOf("{fontstack}")&&N.push(new fe(d,r,'"glyphs" url must include a "{fontstack}" token')),-1===r.indexOf("{range}")&&N.push(new fe(d,r,'"glyphs" url must include a "{range}" token'))),N}function hr(t,r){void 0===r&&(r=ie);var d=[];return d=d.concat(Qi({key:"",value:t,valueSpec:r.$root,styleSpec:r,style:t,objectElementValidators:{glyphs:un,"*":function(){return[]}}})),t.constants&&(d=d.concat(He({key:"constants",value:t.constants,style:t,styleSpec:r}))),sr(d)}function sr(t){return[].concat(t).sort(function(r,d){return r.line-d.line})}function fr(t){return function(){for(var r=[],d=arguments.length;d--;)r[d]=arguments[d];return sr(t.apply(this,r))}}hr.source=fr(qi),hr.light=fr(hn),hr.layer=fr(oi),hr.filter=fr(oe),hr.paintProperty=fr(zt),hr.layoutProperty=fr(Se);var gr=hr,Dr=gr.light,_o=gr.paintProperty,po=gr.layoutProperty;function Ir(t,r){var d=!1;if(r&&r.length)for(var N=0,W=r;N<W.length;N+=1)t.fire(new Kt(new Error(W[N].message))),d=!0;return d}var Ur=tr;function tr(t,r,d){var N=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var W=new Int32Array(this.arrayBuffer);t=W[0],this.d=(r=W[1])+2*(d=W[2]);for(var Q=0;Q<this.d*this.d;Q++){var st=W[3+Q],bt=W[3+Q+1];N.push(st===bt?null:W.subarray(st,bt))}var Nt=W[3+N.length+1];this.keys=W.subarray(W[3+N.length],Nt),this.bboxes=W.subarray(Nt),this.insert=this._insertReadonly}else{this.d=r+2*d;for(var Ht=0;Ht<this.d*this.d;Ht++)N.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=t,this.padding=d,this.scale=r/t,this.uid=0;var $t=d/r*t;this.min=-$t,this.max=t+$t}tr.prototype.insert=function(t,r,d,N,W){this._forEachCell(r,d,N,W,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(r),this.bboxes.push(d),this.bboxes.push(N),this.bboxes.push(W)},tr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},tr.prototype._insertCell=function(t,r,d,N,W,Q){this.cells[W].push(Q)},tr.prototype.query=function(t,r,d,N,W){var Q=this.min,st=this.max;if(t<=Q&&r<=Q&&st<=d&&st<=N&&!W)return Array.prototype.slice.call(this.keys);var bt=[];return this._forEachCell(t,r,d,N,this._queryCell,bt,{},W),bt},tr.prototype._queryCell=function(t,r,d,N,W,Q,st,bt){var Nt=this.cells[W];if(null!==Nt)for(var Ht=this.keys,$t=this.bboxes,ee=0;ee<Nt.length;ee++){var ce=Nt[ee];if(void 0===st[ce]){var ge=4*ce;(bt?bt($t[ge+0],$t[ge+1],$t[ge+2],$t[ge+3]):t<=$t[ge+2]&&r<=$t[ge+3]&&d>=$t[ge+0]&&N>=$t[ge+1])?(st[ce]=!0,Q.push(Ht[ce])):st[ce]=!1}}},tr.prototype._forEachCell=function(t,r,d,N,W,Q,st,bt){for(var Nt=this._convertToCellCoord(t),Ht=this._convertToCellCoord(r),$t=this._convertToCellCoord(d),ee=this._convertToCellCoord(N),ce=Nt;ce<=$t;ce++)for(var ge=Ht;ge<=ee;ge++){var Ee=this.d*ge+ce;if((!bt||bt(this._convertFromCellCoord(ce),this._convertFromCellCoord(ge),this._convertFromCellCoord(ce+1),this._convertFromCellCoord(ge+1)))&&W.call(this,t,r,d,N,Ee,Q,st,bt))return}},tr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},tr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},tr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,r=3+this.cells.length+1+1,d=0,N=0;N<this.cells.length;N++)d+=this.cells[N].length;var W=new Int32Array(r+d+this.keys.length+this.bboxes.length);W[0]=this.extent,W[1]=this.n,W[2]=this.padding;for(var Q=r,st=0;st<t.length;st++){var bt=t[st];W[3+st]=Q,W.set(bt,Q),Q+=bt.length}return W[3+t.length]=Q,W.set(this.keys,Q),W[3+t.length+1]=Q+=this.keys.length,W.set(this.bboxes,Q),Q+=this.bboxes.length,W.buffer};var Vr=P.ImageData,fo=P.ImageBitmap,_r={};function sn(t,r,d){void 0===d&&(d={}),Object.defineProperty(r,"_classRegistryKey",{value:t,writeable:!1}),_r[t]={klass:r,omit:d.omit||[],shallow:d.shallow||[]}}for(var oo in sn("Object",Object),Ur.serialize=function(t,r){var d=t.toArrayBuffer();return r&&r.push(d),{buffer:d}},Ur.deserialize=function(t){return new Ur(t.buffer)},sn("Grid",Ur),sn("Color",Wi),sn("Error",Error),sn("ResolvedImage",Fn),sn("StylePropertyFunction",Qs),sn("StyleExpression",Bs,{omit:["_evaluator"]}),sn("ZoomDependentExpression",ms),sn("ZoomConstantExpression",co),sn("CompoundExpression",Kr,{omit:["_evaluate"]}),Ws)Ws[oo]._classRegistryKey||sn("Expression_"+oo,Ws[oo]);function gs(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function ys(t){return fo&&t instanceof fo}function To(t,r){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(gs(t)||ys(t))return r&&r.push(t),t;if(ArrayBuffer.isView(t)){var d=t;return r&&r.push(d.buffer),d}if(t instanceof Vr)return r&&r.push(t.data.buffer),t;if(Array.isArray(t)){for(var N=[],W=0,Q=t;W<Q.length;W+=1)N.push(To(Q[W],r));return N}if("object"==typeof t){var st=t.constructor,bt=st._classRegistryKey;if(!bt)throw new Error("can't serialize object of unregistered class");var Nt=st.serialize?st.serialize(t,r):{};if(!st.serialize){for(var Ht in t)if(t.hasOwnProperty(Ht)&&!(_r[bt].omit.indexOf(Ht)>=0)){var $t=t[Ht];Nt[Ht]=_r[bt].shallow.indexOf(Ht)>=0?$t:To($t,r)}t instanceof Error&&(Nt.message=t.message)}if(Nt.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==bt&&(Nt.$name=bt),Nt}throw new Error("can't serialize object of type "+typeof t)}function So(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||gs(t)||ys(t)||ArrayBuffer.isView(t)||t instanceof Vr)return t;if(Array.isArray(t))return t.map(So);if("object"==typeof t){var r=t.$name||"Object",d=_r[r].klass;if(!d)throw new Error("can't deserialize unregistered class "+r);if(d.deserialize)return d.deserialize(t);for(var N=Object.create(d.prototype),W=0,Q=Object.keys(t);W<Q.length;W+=1){var st=Q[W];if("$name"!==st){var bt=t[st];N[st]=_r[r].shallow.indexOf(st)>=0?bt:So(bt)}}return N}throw new Error("can't deserialize object of type "+typeof t)}var hs=function(){this.first=!0};hs.prototype.update=function(t,r){var d=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=r),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=d,!0))};var an={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function zs(t){for(var r=0,d=t;r<d.length;r+=1)if(Es(d[r].charCodeAt(0)))return!0;return!1}function Es(t){return!(746!==t&&747!==t&&(t<4352||!(an["Bopomofo Extended"](t)||an.Bopomofo(t)||an["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||an["CJK Compatibility Ideographs"](t)||an["CJK Compatibility"](t)||an["CJK Radicals Supplement"](t)||an["CJK Strokes"](t)||!(!an["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||an["CJK Unified Ideographs Extension A"](t)||an["CJK Unified Ideographs"](t)||an["Enclosed CJK Letters and Months"](t)||an["Hangul Compatibility Jamo"](t)||an["Hangul Jamo Extended-A"](t)||an["Hangul Jamo Extended-B"](t)||an["Hangul Jamo"](t)||an["Hangul Syllables"](t)||an.Hiragana(t)||an["Ideographic Description Characters"](t)||an.Kanbun(t)||an["Kangxi Radicals"](t)||an["Katakana Phonetic Extensions"](t)||an.Katakana(t)&&12540!==t||!(!an["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!an["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||an["Unified Canadian Aboriginal Syllabics"](t)||an["Unified Canadian Aboriginal Syllabics Extended"](t)||an["Vertical Forms"](t)||an["Yijing Hexagram Symbols"](t)||an["Yi Syllables"](t)||an["Yi Radicals"](t))))}function la(t){return!(Es(t)||(r=t,an["Latin-1 Supplement"](r)&&(167===r||169===r||174===r||177===r||188===r||189===r||190===r||215===r||247===r)||an["General Punctuation"](r)&&(8214===r||8224===r||8225===r||8240===r||8241===r||8251===r||8252===r||8258===r||8263===r||8264===r||8265===r||8273===r)||an["Letterlike Symbols"](r)||an["Number Forms"](r)||an["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||9003===r||r>=9085&&r<=9114||r>=9150&&r<=9165||9167===r||r>=9169&&r<=9179||r>=9186&&r<=9215)||an["Control Pictures"](r)&&9251!==r||an["Optical Character Recognition"](r)||an["Enclosed Alphanumerics"](r)||an["Geometric Shapes"](r)||an["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||an["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||an["CJK Symbols and Punctuation"](r)||an.Katakana(r)||an["Private Use Area"](r)||an["CJK Compatibility Forms"](r)||an["Small Form Variants"](r)||an["Halfwidth and Fullwidth Forms"](r)||8734===r||8756===r||8757===r||r>=9984&&r<=10087||r>=10102&&r<=10131||65532===r||65533===r));var r}function yo(t){return t>=1424&&t<=2303||an["Arabic Presentation Forms-A"](t)||an["Arabic Presentation Forms-B"](t)}function Fr(t,r){return!(!r&&yo(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||an.Khmer(t))}function es(t){for(var r=0,d=t;r<d.length;r+=1)if(yo(d[r].charCodeAt(0)))return!0;return!1}var xs=null,jo="unavailable",Fs=null,ol=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(jo="error"),xs&&xs(t)};function Ta(){Sa.fire(new jt("pluginStateChange",{pluginStatus:jo,pluginURL:Fs}))}var Sa=new se,sl=function(){return jo},ta=function(){if("deferred"!==jo||!Fs)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");jo="loading",Ta(),Fs&&Gi({url:Fs},function(t){t?ol(t):(jo="loaded",Ta())})},bs={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===jo||null!=bs.applyArabicShaping},isLoading:function(){return"loading"===jo},setState:function(t){jo=t.pluginStatus,Fs=t.pluginURL},isParsed:function(){return null!=bs.applyArabicShaping&&null!=bs.processBidirectionalText&&null!=bs.processStyledBidirectionalText},getPluginURL:function(){return Fs}},Er=function(t,r){this.zoom=t,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new hs,this.transition={})};Er.prototype.isSupportedScript=function(t){return function(r,d){for(var N=0,W=r;N<W.length;N+=1)if(!Fr(W[N].charCodeAt(0),d))return!1;return!0}(t,bs.isLoaded())},Er.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Er.prototype.getCrossfadeParameters=function(){var t=this.zoom,r=t-Math.floor(t),d=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*r}};var Ys=function(t,r){this.property=t,this.value=r,this.expression=function(d,N){if(zn(d))return new Qs(d,N);if(Xo(d)){var W=Cs(d,N);if("error"===W.result)throw new Error(W.value.map(function(st){return st.key+": "+st.message}).join(", "));return W.value}var Q=d;return"string"==typeof d&&"color"===N.type&&(Q=Wi.parse(d)),{kind:"constant",evaluate:function(){return Q}}}(void 0===r?t.specification.default:r,t.specification)};Ys.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Ys.prototype.possiblyEvaluate=function(t,r,d){return this.property.possiblyEvaluate(this,t,r,d)};var Zs=function(t){this.property=t,this.value=new Ys(t,void 0)};Zs.prototype.transitioned=function(t,r){return new ha(this.property,this.value,r,q({},t.transition,this.transition),t.now)},Zs.prototype.untransitioned=function(){return new ha(this.property,this.value,null,{},0)};var Ko=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Ko.prototype.getValue=function(t){return ht(this._values[t].value.value)},Ko.prototype.setValue=function(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new Zs(this._values[t].property)),this._values[t].value=new Ys(this._values[t].property,null===r?void 0:ht(r))},Ko.prototype.getTransition=function(t){return ht(this._values[t].transition)},Ko.prototype.setTransition=function(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new Zs(this._values[t].property)),this._values[t].transition=ht(r)||void 0},Ko.prototype.serialize=function(){for(var t={},r=0,d=Object.keys(this._values);r<d.length;r+=1){var N=d[r],W=this.getValue(N);void 0!==W&&(t[N]=W);var Q=this.getTransition(N);void 0!==Q&&(t[N+"-transition"]=Q)}return t},Ko.prototype.transitioned=function(t,r){for(var d=new ua(this._properties),N=0,W=Object.keys(this._values);N<W.length;N+=1){var Q=W[N];d._values[Q]=this._values[Q].transitioned(t,r._values[Q])}return d},Ko.prototype.untransitioned=function(){for(var t=new ua(this._properties),r=0,d=Object.keys(this._values);r<d.length;r+=1){var N=d[r];t._values[N]=this._values[N].untransitioned()}return t};var ha=function(t,r,d,N,W){this.property=t,this.value=r,this.begin=W+N.delay||0,this.end=this.begin+N.duration||0,t.specification.transition&&(N.delay||N.duration)&&(this.prior=d)};ha.prototype.possiblyEvaluate=function(t,r,d){var N=t.now||0,W=this.value.possiblyEvaluate(t,r,d),Q=this.prior;if(Q){if(N>this.end)return this.prior=null,W;if(this.value.isDataDriven())return this.prior=null,W;if(N<this.begin)return Q.possiblyEvaluate(t,r,d);var st=(N-this.begin)/(this.end-this.begin);return this.property.interpolate(Q.possiblyEvaluate(t,r,d),W,function(bt){if(bt<=0)return 0;if(bt>=1)return 1;var Nt=bt*bt,Ht=Nt*bt;return 4*(bt<.5?Ht:3*(bt-Nt)+Ht-.75)}(st))}return W};var ua=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};ua.prototype.possiblyEvaluate=function(t,r,d){for(var N=new ca(this._properties),W=0,Q=Object.keys(this._values);W<Q.length;W+=1){var st=Q[W];N._values[st]=this._values[st].possiblyEvaluate(t,r,d)}return N},ua.prototype.hasTransition=function(){for(var t=0,r=Object.keys(this._values);t<r.length;t+=1)if(this._values[r[t]].prior)return!0;return!1};var qs=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};qs.prototype.getValue=function(t){return ht(this._values[t].value)},qs.prototype.setValue=function(t,r){this._values[t]=new Ys(this._values[t].property,null===r?void 0:ht(r))},qs.prototype.serialize=function(){for(var t={},r=0,d=Object.keys(this._values);r<d.length;r+=1){var N=d[r],W=this.getValue(N);void 0!==W&&(t[N]=W)}return t},qs.prototype.possiblyEvaluate=function(t,r,d){for(var N=new ca(this._properties),W=0,Q=Object.keys(this._values);W<Q.length;W+=1){var st=Q[W];N._values[st]=this._values[st].possiblyEvaluate(t,r,d)}return N};var Ro=function(t,r,d){this.property=t,this.value=r,this.parameters=d};Ro.prototype.isConstant=function(){return"constant"===this.value.kind},Ro.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},Ro.prototype.evaluate=function(t,r,d,N){return this.property.evaluate(this.value,this.parameters,t,r,d,N)};var ca=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};ca.prototype.get=function(t){return this._values[t]};var jn=function(t){this.specification=t};jn.prototype.possiblyEvaluate=function(t,r){return t.expression.evaluate(r)},jn.prototype.interpolate=function(t,r,d){var N=Tt[this.specification.type];return N?N(t,r,d):t};var On=function(t,r){this.specification=t,this.overrides=r};On.prototype.possiblyEvaluate=function(t,r,d,N){return new Ro(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(r,null,{},d,N)}:t.expression,r)},On.prototype.interpolate=function(t,r,d){if("constant"!==t.value.kind||"constant"!==r.value.kind)return t;if(void 0===t.value.value||void 0===r.value.value)return new Ro(this,{kind:"constant",value:void 0},t.parameters);var N=Tt[this.specification.type];return N?new Ro(this,{kind:"constant",value:N(t.value.value,r.value.value,d)},t.parameters):t},On.prototype.evaluate=function(t,r,d,N,W,Q){return"constant"===t.kind?t.value:t.evaluate(r,d,N,W,Q)};var Ca=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.possiblyEvaluate=function(d,N,W,Q){if(void 0===d.value)return new Ro(this,{kind:"constant",value:void 0},N);if("constant"===d.expression.kind){var st=d.expression.evaluate(N,null,{},W,Q),bt="resolvedImage"===d.property.specification.type&&"string"!=typeof st?st.name:st,Nt=this._calculate(bt,bt,bt,N);return new Ro(this,{kind:"constant",value:Nt},N)}if("camera"===d.expression.kind){var Ht=this._calculate(d.expression.evaluate({zoom:N.zoom-1}),d.expression.evaluate({zoom:N.zoom}),d.expression.evaluate({zoom:N.zoom+1}),N);return new Ro(this,{kind:"constant",value:Ht},N)}return new Ro(this,d.expression,N)},r.prototype.evaluate=function(d,N,W,Q,st,bt){if("source"===d.kind){var Nt=d.evaluate(N,W,Q,st,bt);return this._calculate(Nt,Nt,Nt,N)}return"composite"===d.kind?this._calculate(d.evaluate({zoom:Math.floor(N.zoom)-1},W,Q),d.evaluate({zoom:Math.floor(N.zoom)},W,Q),d.evaluate({zoom:Math.floor(N.zoom)+1},W,Q),N):d.value},r.prototype._calculate=function(d,N,W,Q){return Q.zoom>Q.zoomHistory.lastIntegerZoom?{from:d,to:N}:{from:W,to:N}},r.prototype.interpolate=function(d){return d},r}(On),us=function(t){this.specification=t};us.prototype.possiblyEvaluate=function(t,r,d,N){if(void 0!==t.value){if("constant"===t.expression.kind){var W=t.expression.evaluate(r,null,{},d,N);return this._calculate(W,W,W,r)}return this._calculate(t.expression.evaluate(new Er(Math.floor(r.zoom-1),r)),t.expression.evaluate(new Er(Math.floor(r.zoom),r)),t.expression.evaluate(new Er(Math.floor(r.zoom+1),r)),r)}},us.prototype._calculate=function(t,r,d,N){return N.zoom>N.zoomHistory.lastIntegerZoom?{from:t,to:r}:{from:d,to:r}},us.prototype.interpolate=function(t){return t};var js=function(t){this.specification=t};js.prototype.possiblyEvaluate=function(t,r,d,N){return!!t.expression.evaluate(r,null,{},d,N)},js.prototype.interpolate=function(){return!1};var Jo=function(t){for(var r in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var d=t[r];d.specification.overridable&&this.overridableProperties.push(r);var N=this.defaultPropertyValues[r]=new Ys(d,void 0),W=this.defaultTransitionablePropertyValues[r]=new Zs(d);this.defaultTransitioningPropertyValues[r]=W.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=N.possiblyEvaluate({})}};sn("DataDrivenProperty",On),sn("DataConstantProperty",jn),sn("CrossFadedDataDrivenProperty",Ca),sn("CrossFadedProperty",us),sn("ColorRampProperty",js);var Ks=function(t){function r(d,N){if(t.call(this),this.id=d.id,this.type=d.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==d.type&&(this.metadata=d.metadata,this.minzoom=d.minzoom,this.maxzoom=d.maxzoom,"background"!==d.type&&(this.source=d.source,this.sourceLayer=d["source-layer"],this.filter=d.filter),N.layout&&(this._unevaluatedLayout=new qs(N.layout)),N.paint)){for(var W in this._transitionablePaint=new Ko(N.paint),d.paint)this.setPaintProperty(W,d.paint[W],{validate:!1});for(var Q in d.layout)this.setLayoutProperty(Q,d.layout[Q],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ca(N.paint)}}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},r.prototype.getLayoutProperty=function(d){return"visibility"===d?this.visibility:this._unevaluatedLayout.getValue(d)},r.prototype.setLayoutProperty=function(d,N,W){void 0===W&&(W={}),null!=N&&this._validate(po,"layers."+this.id+".layout."+d,d,N,W)||("visibility"!==d?this._unevaluatedLayout.setValue(d,N):this.visibility=N)},r.prototype.getPaintProperty=function(d){return wt(d,"-transition")?this._transitionablePaint.getTransition(d.slice(0,-11)):this._transitionablePaint.getValue(d)},r.prototype.setPaintProperty=function(d,N,W){if(void 0===W&&(W={}),null!=N&&this._validate(_o,"layers."+this.id+".paint."+d,d,N,W))return!1;if(wt(d,"-transition"))return this._transitionablePaint.setTransition(d.slice(0,-11),N||void 0),!1;var Q=this._transitionablePaint._values[d],st="cross-faded-data-driven"===Q.property.specification["property-type"],bt=Q.value.isDataDriven(),Nt=Q.value;this._transitionablePaint.setValue(d,N),this._handleSpecialPaintPropertyUpdate(d);var Ht=this._transitionablePaint._values[d].value;return Ht.isDataDriven()||bt||st||this._handleOverridablePaintPropertyUpdate(d,Nt,Ht)},r.prototype._handleSpecialPaintPropertyUpdate=function(d){},r.prototype._handleOverridablePaintPropertyUpdate=function(d,N,W){return!1},r.prototype.isHidden=function(d){return!!(this.minzoom&&d<this.minzoom)||!!(this.maxzoom&&d>=this.maxzoom)||"none"===this.visibility},r.prototype.updateTransitions=function(d){this._transitioningPaint=this._transitionablePaint.transitioned(d,this._transitioningPaint)},r.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},r.prototype.recalculate=function(d,N){d.getCrossfadeParameters&&(this._crossfadeParameters=d.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(d,void 0,N)),this.paint=this._transitioningPaint.possiblyEvaluate(d,void 0,N)},r.prototype.serialize=function(){var d={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(d.layout=d.layout||{},d.layout.visibility=this.visibility),At(d,function(N,W){return!(void 0===N||"layout"===W&&!Object.keys(N).length||"paint"===W&&!Object.keys(N).length)})},r.prototype._validate=function(d,N,W,Q,st){return void 0===st&&(st={}),(!st||!1!==st.validate)&&Ir(this,d.call(gr,{key:N,layerType:this.type,objectKey:W,value:Q,styleSpec:ie,style:{glyphs:!0,sprite:!0}}))},r.prototype.is3D=function(){return!1},r.prototype.isTileClipped=function(){return!1},r.prototype.hasOffscreenPass=function(){return!1},r.prototype.resize=function(){},r.prototype.isStateDependent=function(){for(var d in this.paint._values){var N=this.paint.get(d);if(N instanceof Ro&&ri(N.property.specification)&&("source"===N.value.kind||"composite"===N.value.kind)&&N.value.isStateDependent)return!0}return!1},r}(se),al={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Za=function(t,r){this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Jr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Yo(t,r){void 0===r&&(r=1);var d=0,N=0;return{members:t.map(function(W){var Q=al[W.type].BYTES_PER_ELEMENT,st=d=Mh(d,Math.max(r,Q)),bt=W.components||1;return N=Math.max(N,Q),d+=Q*bt,{name:W.name,type:W.type,components:bt,offset:st}}),size:Mh(d,Math.max(N,r)),alignment:r}}function Mh(t,r){return Math.ceil(t/r)*r}Jr.serialize=function(t,r){return t._trim(),r&&(t.isTransferred=!0,r.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Jr.deserialize=function(t){var r=Object.create(this.prototype);return r.arrayBuffer=t.arrayBuffer,r.length=t.length,r.capacity=t.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r},Jr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Jr.prototype.clear=function(){this.length=0},Jr.prototype.resize=function(t){this.reserve(t),this.length=t},Jr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}},Jr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var za=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N){var W=this.length;return this.resize(W+1),this.emplace(W,d,N)},r.prototype.emplace=function(d,N,W){var Q=2*d;return this.int16[Q+0]=N,this.int16[Q+1]=W,d},r}(Jr);za.prototype.bytesPerElement=4,sn("StructArrayLayout2i4",za);var $l=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q){var st=this.length;return this.resize(st+1),this.emplace(st,d,N,W,Q)},r.prototype.emplace=function(d,N,W,Q,st){var bt=4*d;return this.int16[bt+0]=N,this.int16[bt+1]=W,this.int16[bt+2]=Q,this.int16[bt+3]=st,d},r}(Jr);$l.prototype.bytesPerElement=8,sn("StructArrayLayout4i8",$l);var ya=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st,bt){var Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,d,N,W,Q,st,bt)},r.prototype.emplace=function(d,N,W,Q,st,bt,Nt){var Ht=6*d;return this.int16[Ht+0]=N,this.int16[Ht+1]=W,this.int16[Ht+2]=Q,this.int16[Ht+3]=st,this.int16[Ht+4]=bt,this.int16[Ht+5]=Nt,d},r}(Jr);ya.prototype.bytesPerElement=12,sn("StructArrayLayout2i4i12",ya);var Us=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st,bt){var Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,d,N,W,Q,st,bt)},r.prototype.emplace=function(d,N,W,Q,st,bt,Nt){var Ht=4*d,$t=8*d;return this.int16[Ht+0]=N,this.int16[Ht+1]=W,this.uint8[$t+4]=Q,this.uint8[$t+5]=st,this.uint8[$t+6]=bt,this.uint8[$t+7]=Nt,d},r}(Jr);Us.prototype.bytesPerElement=8,sn("StructArrayLayout2i4ub8",Us);var qa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N){var W=this.length;return this.resize(W+1),this.emplace(W,d,N)},r.prototype.emplace=function(d,N,W){var Q=2*d;return this.float32[Q+0]=N,this.float32[Q+1]=W,d},r}(Jr);qa.prototype.bytesPerElement=8,sn("StructArrayLayout2f8",qa);var da=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee){var ce=this.length;return this.resize(ce+1),this.emplace(ce,d,N,W,Q,st,bt,Nt,Ht,$t,ee)},r.prototype.emplace=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce){var ge=10*d;return this.uint16[ge+0]=N,this.uint16[ge+1]=W,this.uint16[ge+2]=Q,this.uint16[ge+3]=st,this.uint16[ge+4]=bt,this.uint16[ge+5]=Nt,this.uint16[ge+6]=Ht,this.uint16[ge+7]=$t,this.uint16[ge+8]=ee,this.uint16[ge+9]=ce,d},r}(Jr);da.prototype.bytesPerElement=20,sn("StructArrayLayout10ui20",da);var bl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge)},r.prototype.emplace=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee){var Le=12*d;return this.int16[Le+0]=N,this.int16[Le+1]=W,this.int16[Le+2]=Q,this.int16[Le+3]=st,this.uint16[Le+4]=bt,this.uint16[Le+5]=Nt,this.uint16[Le+6]=Ht,this.uint16[Le+7]=$t,this.int16[Le+8]=ee,this.int16[Le+9]=ce,this.int16[Le+10]=ge,this.int16[Le+11]=Ee,d},r}(Jr);bl.prototype.bytesPerElement=24,sn("StructArrayLayout4i4ui4i24",bl);var Ka=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W){var Q=this.length;return this.resize(Q+1),this.emplace(Q,d,N,W)},r.prototype.emplace=function(d,N,W,Q){var st=3*d;return this.float32[st+0]=N,this.float32[st+1]=W,this.float32[st+2]=Q,d},r}(Jr);Ka.prototype.bytesPerElement=12,sn("StructArrayLayout3f12",Ka);var ll=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d){var N=this.length;return this.resize(N+1),this.emplace(N,d)},r.prototype.emplace=function(d,N){return this.uint32[1*d+0]=N,d},r}(Jr);ll.prototype.bytesPerElement=4,sn("StructArrayLayout1ul4",ll);var Ql=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st,bt,Nt,Ht,$t){var ee=this.length;return this.resize(ee+1),this.emplace(ee,d,N,W,Q,st,bt,Nt,Ht,$t)},r.prototype.emplace=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee){var ce=10*d,ge=5*d;return this.int16[ce+0]=N,this.int16[ce+1]=W,this.int16[ce+2]=Q,this.int16[ce+3]=st,this.int16[ce+4]=bt,this.int16[ce+5]=Nt,this.uint32[ge+3]=Ht,this.uint16[ce+8]=$t,this.uint16[ce+9]=ee,d},r}(Jr);Ql.prototype.bytesPerElement=20,sn("StructArrayLayout6i1ul2ui20",Ql);var Ja=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st,bt){var Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,d,N,W,Q,st,bt)},r.prototype.emplace=function(d,N,W,Q,st,bt,Nt){var Ht=6*d;return this.int16[Ht+0]=N,this.int16[Ht+1]=W,this.int16[Ht+2]=Q,this.int16[Ht+3]=st,this.int16[Ht+4]=bt,this.int16[Ht+5]=Nt,d},r}(Jr);Ja.prototype.bytesPerElement=12,sn("StructArrayLayout2i2i2i12",Ja);var Fa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st){var bt=this.length;return this.resize(bt+1),this.emplace(bt,d,N,W,Q,st)},r.prototype.emplace=function(d,N,W,Q,st,bt){var Nt=4*d,Ht=8*d;return this.float32[Nt+0]=N,this.float32[Nt+1]=W,this.float32[Nt+2]=Q,this.int16[Ht+6]=st,this.int16[Ht+7]=bt,d},r}(Jr);Fa.prototype.bytesPerElement=16,sn("StructArrayLayout2f1f2i16",Fa);var th=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q){var st=this.length;return this.resize(st+1),this.emplace(st,d,N,W,Q)},r.prototype.emplace=function(d,N,W,Q,st){var bt=12*d,Nt=3*d;return this.uint8[bt+0]=N,this.uint8[bt+1]=W,this.float32[Nt+1]=Q,this.float32[Nt+2]=st,d},r}(Jr);th.prototype.bytesPerElement=12,sn("StructArrayLayout2ub2f12",th);var Aa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W){var Q=this.length;return this.resize(Q+1),this.emplace(Q,d,N,W)},r.prototype.emplace=function(d,N,W,Q){var st=3*d;return this.uint16[st+0]=N,this.uint16[st+1]=W,this.uint16[st+2]=Q,d},r}(Jr);Aa.prototype.bytesPerElement=6,sn("StructArrayLayout3ui6",Aa);var Pa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee,Le,qe,Ve,hi){var xi=this.length;return this.resize(xi+1),this.emplace(xi,d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee,Le,qe,Ve,hi)},r.prototype.emplace=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee,Le,qe,Ve,hi,xi){var Mi=24*d,Ei=12*d,Ui=48*d;return this.int16[Mi+0]=N,this.int16[Mi+1]=W,this.uint16[Mi+2]=Q,this.uint16[Mi+3]=st,this.uint32[Ei+2]=bt,this.uint32[Ei+3]=Nt,this.uint32[Ei+4]=Ht,this.uint16[Mi+10]=$t,this.uint16[Mi+11]=ee,this.uint16[Mi+12]=ce,this.float32[Ei+7]=ge,this.float32[Ei+8]=Ee,this.uint8[Ui+36]=Le,this.uint8[Ui+37]=qe,this.uint8[Ui+38]=Ve,this.uint32[Ei+10]=hi,this.int16[Mi+22]=xi,d},r}(Jr);Pa.prototype.bytesPerElement=48,sn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Pa);var wl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee,Le,qe,Ve,hi,xi,Mi,Ei,Ui,ln,yn,Un,Tn,Xn,Sn,Mr){var nr=this.length;return this.resize(nr+1),this.emplace(nr,d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee,Le,qe,Ve,hi,xi,Mi,Ei,Ui,ln,yn,Un,Tn,Xn,Sn,Mr)},r.prototype.emplace=function(d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee,Le,qe,Ve,hi,xi,Mi,Ei,Ui,ln,yn,Un,Tn,Xn,Sn,Mr,nr){var Nn=34*d,Lr=17*d;return this.int16[Nn+0]=N,this.int16[Nn+1]=W,this.int16[Nn+2]=Q,this.int16[Nn+3]=st,this.int16[Nn+4]=bt,this.int16[Nn+5]=Nt,this.int16[Nn+6]=Ht,this.int16[Nn+7]=$t,this.uint16[Nn+8]=ee,this.uint16[Nn+9]=ce,this.uint16[Nn+10]=ge,this.uint16[Nn+11]=Ee,this.uint16[Nn+12]=Le,this.uint16[Nn+13]=qe,this.uint16[Nn+14]=Ve,this.uint16[Nn+15]=hi,this.uint16[Nn+16]=xi,this.uint16[Nn+17]=Mi,this.uint16[Nn+18]=Ei,this.uint16[Nn+19]=Ui,this.uint16[Nn+20]=ln,this.uint16[Nn+21]=yn,this.uint16[Nn+22]=Un,this.uint32[Lr+12]=Tn,this.float32[Lr+13]=Xn,this.float32[Lr+14]=Sn,this.float32[Lr+15]=Mr,this.float32[Lr+16]=nr,d},r}(Jr);wl.prototype.bytesPerElement=68,sn("StructArrayLayout8i15ui1ul4f68",wl);var Ma=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d){var N=this.length;return this.resize(N+1),this.emplace(N,d)},r.prototype.emplace=function(d,N){return this.float32[1*d+0]=N,d},r}(Jr);Ma.prototype.bytesPerElement=4,sn("StructArrayLayout1f4",Ma);var ea=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W){var Q=this.length;return this.resize(Q+1),this.emplace(Q,d,N,W)},r.prototype.emplace=function(d,N,W,Q){var st=3*d;return this.int16[st+0]=N,this.int16[st+1]=W,this.int16[st+2]=Q,d},r}(Jr);ea.prototype.bytesPerElement=6,sn("StructArrayLayout3i6",ea);var eh=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W){var Q=this.length;return this.resize(Q+1),this.emplace(Q,d,N,W)},r.prototype.emplace=function(d,N,W,Q){var st=4*d;return this.uint32[2*d+0]=N,this.uint16[st+2]=W,this.uint16[st+3]=Q,d},r}(Jr);eh.prototype.bytesPerElement=8,sn("StructArrayLayout1ul2ui8",eh);var hl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N){var W=this.length;return this.resize(W+1),this.emplace(W,d,N)},r.prototype.emplace=function(d,N,W){var Q=2*d;return this.uint16[Q+0]=N,this.uint16[Q+1]=W,d},r}(Jr);hl.prototype.bytesPerElement=4,sn("StructArrayLayout2ui4",hl);var ih=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d){var N=this.length;return this.resize(N+1),this.emplace(N,d)},r.prototype.emplace=function(d,N){return this.uint16[1*d+0]=N,d},r}(Jr);ih.prototype.bytesPerElement=2,sn("StructArrayLayout1ui2",ih);var Tl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(d,N,W,Q){var st=this.length;return this.resize(st+1),this.emplace(st,d,N,W,Q)},r.prototype.emplace=function(d,N,W,Q,st){var bt=4*d;return this.float32[bt+0]=N,this.float32[bt+1]=W,this.float32[bt+2]=Q,this.float32[bt+3]=st,d},r}(Jr);Tl.prototype.bytesPerElement=16,sn("StructArrayLayout4f16",Tl);var g=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var d={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return d.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},d.x1.get=function(){return this._structArray.int16[this._pos2+2]},d.y1.get=function(){return this._structArray.int16[this._pos2+3]},d.x2.get=function(){return this._structArray.int16[this._pos2+4]},d.y2.get=function(){return this._structArray.int16[this._pos2+5]},d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.anchorPoint.get=function(){return new m(this.anchorPointX,this.anchorPointY)},Object.defineProperties(r.prototype,d),r}(Za);g.prototype.size=20;var w=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(d){return new g(this,d)},r}(Ql);sn("CollisionBoxArray",w);var _=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},d.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},d.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},d.segment.get=function(){return this._structArray.uint16[this._pos2+10]},d.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},d.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},d.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},d.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},d.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},d.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},d.placedOrientation.set=function(N){this._structArray.uint8[this._pos1+37]=N},d.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},d.hidden.set=function(N){this._structArray.uint8[this._pos1+38]=N},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},d.crossTileID.set=function(N){this._structArray.uint32[this._pos4+10]=N},d.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(r.prototype,d),r}(Za);_.prototype.size=48;var j=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(d){return new _(this,d)},r}(Pa);sn("PlacedSymbolArray",j);var et=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},d.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},d.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},d.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},d.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},d.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},d.key.get=function(){return this._structArray.uint16[this._pos2+8]},d.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},d.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},d.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},d.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},d.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},d.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},d.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},d.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},d.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},d.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},d.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},d.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},d.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},d.crossTileID.set=function(N){this._structArray.uint32[this._pos4+12]=N},d.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},d.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},d.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},d.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(r.prototype,d),r}(Za);et.prototype.size=68;var ct=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(d){return new et(this,d)},r}(wl);sn("SymbolInstanceArray",ct);var xt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getoffsetX=function(d){return this.float32[1*d+0]},r}(Ma);sn("GlyphOffsetArray",xt);var Ot=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getx=function(d){return this.int16[3*d+0]},r.prototype.gety=function(d){return this.int16[3*d+1]},r.prototype.gettileUnitDistanceFromAnchor=function(d){return this.int16[3*d+2]},r}(ea);sn("SymbolLineVertexArray",Ot);var Zt=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var d={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(r.prototype,d),r}(Za);Zt.prototype.size=8;var ne=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(d){return new Zt(this,d)},r}(eh);sn("FeatureIndexArray",ne);var _e=Yo([{name:"a_pos",components:2,type:"Int16"}],4).members,we=function(t){void 0===t&&(t=[]),this.segments=t};function Ce(t,r){return 256*(t=B(Math.floor(t),0,255))+B(Math.floor(r),0,255)}we.prototype.prepareSegment=function(t,r,d,N){var W=this.segments[this.segments.length-1];return t>we.MAX_VERTEX_ARRAY_LENGTH&&dt("Max vertices per segment is "+we.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!W||W.vertexLength+t>we.MAX_VERTEX_ARRAY_LENGTH||W.sortKey!==N)&&(W={vertexOffset:r.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},void 0!==N&&(W.sortKey=N),this.segments.push(W)),W},we.prototype.get=function(){return this.segments},we.prototype.destroy=function(){for(var t=0,r=this.segments;t<r.length;t+=1){var d=r[t];for(var N in d.vaos)d.vaos[N].destroy()}},we.simpleSegment=function(t,r,d,N){return new we([{vertexOffset:t,primitiveOffset:r,vertexLength:d,primitiveLength:N,vaos:{},sortKey:0}])},we.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,sn("SegmentVector",we);var Ne=Yo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Ie=k(function(t){t.exports=function(r,d){var N,W,Q,st,bt,Nt,Ht,$t;for(W=r.length-(N=3&r.length),Q=d,bt=3432918353,Nt=461845907,$t=0;$t<W;)Ht=255&r.charCodeAt($t)|(255&r.charCodeAt(++$t))<<8|(255&r.charCodeAt(++$t))<<16|(255&r.charCodeAt(++$t))<<24,++$t,Q=27492+(65535&(st=5*(65535&(Q=(Q^=Ht=(65535&(Ht=(Ht=(65535&Ht)*bt+(((Ht>>>16)*bt&65535)<<16)&4294967295)<<15|Ht>>>17))*Nt+(((Ht>>>16)*Nt&65535)<<16)&4294967295)<<13|Q>>>19))+((5*(Q>>>16)&65535)<<16)&4294967295))+((58964+(st>>>16)&65535)<<16);switch(Ht=0,N){case 3:Ht^=(255&r.charCodeAt($t+2))<<16;case 2:Ht^=(255&r.charCodeAt($t+1))<<8;case 1:Q^=Ht=(65535&(Ht=(Ht=(65535&(Ht^=255&r.charCodeAt($t)))*bt+(((Ht>>>16)*bt&65535)<<16)&4294967295)<<15|Ht>>>17))*Nt+(((Ht>>>16)*Nt&65535)<<16)&4294967295}return Q^=r.length,Q=2246822507*(65535&(Q^=Q>>>16))+((2246822507*(Q>>>16)&65535)<<16)&4294967295,Q=3266489909*(65535&(Q^=Q>>>13))+((3266489909*(Q>>>16)&65535)<<16)&4294967295,(Q^=Q>>>16)>>>0}}),Ze=k(function(t){t.exports=function(r,d){for(var N,W=r.length,Q=d^W,st=0;W>=4;)N=1540483477*(65535&(N=255&r.charCodeAt(st)|(255&r.charCodeAt(++st))<<8|(255&r.charCodeAt(++st))<<16|(255&r.charCodeAt(++st))<<24))+((1540483477*(N>>>16)&65535)<<16),Q=1540483477*(65535&Q)+((1540483477*(Q>>>16)&65535)<<16)^(N=1540483477*(65535&(N^=N>>>24))+((1540483477*(N>>>16)&65535)<<16)),W-=4,++st;switch(W){case 3:Q^=(255&r.charCodeAt(st+2))<<16;case 2:Q^=(255&r.charCodeAt(st+1))<<8;case 1:Q=1540483477*(65535&(Q^=255&r.charCodeAt(st)))+((1540483477*(Q>>>16)&65535)<<16)}return Q=1540483477*(65535&(Q^=Q>>>13))+((1540483477*(Q>>>16)&65535)<<16),(Q^=Q>>>15)>>>0}}),De=Ie,Ye=Ze;De.murmur3=Ie,De.murmur2=Ye;var ti=function(){this.ids=[],this.positions=[],this.indexed=!1};ti.prototype.add=function(t,r,d,N){this.ids.push(Oi(t)),this.positions.push(r,d,N)},ti.prototype.getPositions=function(t){for(var r=Oi(t),d=0,N=this.ids.length-1;d<N;){var W=d+N>>1;this.ids[W]>=r?N=W:d=W+1}for(var Q=[];this.ids[d]===r;)Q.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return Q},ti.serialize=function(t,r){var d=new Float64Array(t.ids),N=new Uint32Array(t.positions);return function W(Q,st,bt,Nt){for(;bt<Nt;){for(var Ht=Q[bt+Nt>>1],$t=bt-1,ee=Nt+1;;){do{$t++}while(Q[$t]<Ht);do{ee--}while(Q[ee]>Ht);if($t>=ee)break;ki(Q,$t,ee),ki(st,3*$t,3*ee),ki(st,3*$t+1,3*ee+1),ki(st,3*$t+2,3*ee+2)}ee-bt<Nt-ee?(W(Q,st,bt,ee),bt=ee+1):(W(Q,st,ee+1,Nt),Nt=ee)}}(d,N,0,d.length-1),r&&r.push(d.buffer,N.buffer),{ids:d,positions:N}},ti.deserialize=function(t){var r=new ti;return r.ids=t.ids,r.positions=t.positions,r.indexed=!0,r};var _i=Math.pow(2,53)-1;function Oi(t){var r=+t;return!isNaN(r)&&r<=_i?r:De(String(t))}function ki(t,r,d){var N=t[r];t[r]=t[d],t[d]=N}sn("FeaturePositionMap",ti);var Ni=function(t,r){this.gl=t.gl,this.location=r},Ki=function(t){function r(d,N){t.call(this,d,N),this.current=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))},r}(Ni),fn=function(t){function r(d,N){t.call(this,d,N),this.current=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))},r}(Ni),dn=function(t){function r(d,N){t.call(this,d,N),this.current=[0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))},r}(Ni),Mn=function(t){function r(d,N){t.call(this,d,N),this.current=[0,0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))},r}(Ni),Wn=function(t){function r(d,N){t.call(this,d,N),this.current=[0,0,0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3]))},r}(Ni),qn=function(t){function r(d,N){t.call(this,d,N),this.current=Wi.transparent}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(d){d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a))},r}(Ni),Zn=new Float32Array(16),Xr=function(t){function r(d,N){t.call(this,d,N),this.current=Zn}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(var N=1;N<16;N++)if(d[N]!==this.current[N]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}},r}(Ni);function Dn(t){return[Ce(255*t.r,255*t.g),Ce(255*t.b,255*t.a)]}var dr=function(t,r,d){this.value=t,this.uniformNames=r.map(function(N){return"u_"+N}),this.type=d};dr.prototype.setUniform=function(t,r,d){t.set(d.constantOr(this.value))},dr.prototype.getBinding=function(t,r,d){return"color"===this.type?new qn(t,r):new fn(t,r)};var Tr=function(t,r){this.uniformNames=r.map(function(d){return"u_"+d}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Tr.prototype.setConstantPatternPositions=function(t,r){this.pixelRatioFrom=r.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=r.tlbr,this.patternTo=t.tlbr},Tr.prototype.setUniform=function(t,r,d,N){var W="u_pattern_to"===N?this.patternTo:"u_pattern_from"===N?this.patternFrom:"u_pixel_ratio_to"===N?this.pixelRatioTo:"u_pixel_ratio_from"===N?this.pixelRatioFrom:null;W&&t.set(W)},Tr.prototype.getBinding=function(t,r,d){return"u_pattern"===d.substr(0,9)?new Wn(t,r):new fn(t,r)};var ur=function(t,r,d,N){this.expression=t,this.type=d,this.maxValue=0,this.paintVertexAttributes=r.map(function(W){return{name:"a_"+W,type:"Float32",components:"color"===d?2:1,offset:0}}),this.paintVertexArray=new N};ur.prototype.populatePaintArray=function(t,r,d,N,W){var Q=this.paintVertexArray.length,st=this.expression.evaluate(new Er(0),r,{},N,[],W);this.paintVertexArray.resize(t),this._setPaintValue(Q,t,st)},ur.prototype.updatePaintArray=function(t,r,d,N){var W=this.expression.evaluate({zoom:0},d,N);this._setPaintValue(t,r,W)},ur.prototype._setPaintValue=function(t,r,d){if("color"===this.type)for(var N=Dn(d),W=t;W<r;W++)this.paintVertexArray.emplace(W,N[0],N[1]);else{for(var Q=t;Q<r;Q++)this.paintVertexArray.emplace(Q,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}},ur.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ur.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var lr=function(t,r,d,N,W,Q){this.expression=t,this.uniformNames=r.map(function(st){return"u_"+st+"_t"}),this.type=d,this.useIntegerZoom=N,this.zoom=W,this.maxValue=0,this.paintVertexAttributes=r.map(function(st){return{name:"a_"+st,type:"Float32",components:"color"===d?4:2,offset:0}}),this.paintVertexArray=new Q};lr.prototype.populatePaintArray=function(t,r,d,N,W){var Q=this.expression.evaluate(new Er(this.zoom),r,{},N,[],W),st=this.expression.evaluate(new Er(this.zoom+1),r,{},N,[],W),bt=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(bt,t,Q,st)},lr.prototype.updatePaintArray=function(t,r,d,N){var W=this.expression.evaluate({zoom:this.zoom},d,N),Q=this.expression.evaluate({zoom:this.zoom+1},d,N);this._setPaintValue(t,r,W,Q)},lr.prototype._setPaintValue=function(t,r,d,N){if("color"===this.type)for(var W=Dn(d),Q=Dn(N),st=t;st<r;st++)this.paintVertexArray.emplace(st,W[0],W[1],Q[0],Q[1]);else{for(var bt=t;bt<r;bt++)this.paintVertexArray.emplace(bt,d,N);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(N))}},lr.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},lr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},lr.prototype.setUniform=function(t,r){var d=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,N=B(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);t.set(N)},lr.prototype.getBinding=function(t,r,d){return new fn(t,r)};var wr=function(t,r,d,N,W,Q){this.expression=t,this.type=r,this.useIntegerZoom=d,this.zoom=N,this.layerId=Q,this.zoomInPaintVertexArray=new W,this.zoomOutPaintVertexArray=new W};wr.prototype.populatePaintArray=function(t,r,d){var N=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(N,t,r.patterns&&r.patterns[this.layerId],d)},wr.prototype.updatePaintArray=function(t,r,d,N,W){this._setPaintValues(t,r,d.patterns&&d.patterns[this.layerId],W)},wr.prototype._setPaintValues=function(t,r,d,N){if(N&&d){var W=N[d.min],Q=N[d.mid],st=N[d.max];if(W&&Q&&st)for(var bt=t;bt<r;bt++)this.zoomInPaintVertexArray.emplace(bt,Q.tl[0],Q.tl[1],Q.br[0],Q.br[1],W.tl[0],W.tl[1],W.br[0],W.br[1],Q.pixelRatio,W.pixelRatio),this.zoomOutPaintVertexArray.emplace(bt,Q.tl[0],Q.tl[1],Q.br[0],Q.br[1],st.tl[0],st.tl[1],st.br[0],st.br[1],Q.pixelRatio,st.pixelRatio)}},wr.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,Ne.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,Ne.members,this.expression.isStateDependent))},wr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ar=function(t,r,d){this.binders={},this._buffers=[];var N=[];for(var W in t.paint._values)if(d(W)){var Q=t.paint.get(W);if(Q instanceof Ro&&ri(Q.property.specification)){var st=is(W,t.type),bt=Q.value,Nt=Q.property.specification.type,Ht=Q.property.useIntegerZoom,$t=Q.property.specification["property-type"],ee="cross-faded"===$t||"cross-faded-data-driven"===$t;if("constant"===bt.kind)this.binders[W]=ee?new Tr(bt.value,st):new dr(bt.value,st,Nt),N.push("/u_"+W);else if("source"===bt.kind||ee){var ce=Bo(W,Nt,"source");this.binders[W]=ee?new wr(bt,Nt,Ht,r,ce,t.id):new ur(bt,st,Nt,ce),N.push("/a_"+W)}else{var ge=Bo(W,Nt,"composite");this.binders[W]=new lr(bt,st,Nt,Ht,r,ge),N.push("/z_"+W)}}}this.cacheKey=N.sort().join("")};ar.prototype.getMaxValue=function(t){var r=this.binders[t];return r instanceof ur||r instanceof lr?r.maxValue:0},ar.prototype.populatePaintArrays=function(t,r,d,N,W){for(var Q in this.binders){var st=this.binders[Q];(st instanceof ur||st instanceof lr||st instanceof wr)&&st.populatePaintArray(t,r,d,N,W)}},ar.prototype.setConstantPatternPositions=function(t,r){for(var d in this.binders){var N=this.binders[d];N instanceof Tr&&N.setConstantPatternPositions(t,r)}},ar.prototype.updatePaintArrays=function(t,r,d,N,W){var Q=!1;for(var st in t)for(var bt=0,Nt=r.getPositions(st);bt<Nt.length;bt+=1){var Ht=Nt[bt],$t=d.feature(Ht.index);for(var ee in this.binders){var ce=this.binders[ee];if((ce instanceof ur||ce instanceof lr||ce instanceof wr)&&!0===ce.expression.isStateDependent){var ge=N.paint.get(ee);ce.expression=ge.value,ce.updatePaintArray(Ht.start,Ht.end,$t,t[st],W),Q=!0}}}return Q},ar.prototype.defines=function(){var t=[];for(var r in this.binders){var d=this.binders[r];(d instanceof dr||d instanceof Tr)&&t.push.apply(t,d.uniformNames.map(function(N){return"#define HAS_UNIFORM_"+N}))}return t},ar.prototype.getBinderAttributes=function(){var t=[];for(var r in this.binders){var d=this.binders[r];if(d instanceof ur||d instanceof lr)for(var N=0;N<d.paintVertexAttributes.length;N++)t.push(d.paintVertexAttributes[N].name);else if(d instanceof wr)for(var W=0;W<Ne.members.length;W++)t.push(Ne.members[W].name)}return t},ar.prototype.getBinderUniforms=function(){var t=[];for(var r in this.binders){var d=this.binders[r];if(d instanceof dr||d instanceof Tr||d instanceof lr)for(var N=0,W=d.uniformNames;N<W.length;N+=1)t.push(W[N])}return t},ar.prototype.getPaintVertexBuffers=function(){return this._buffers},ar.prototype.getUniforms=function(t,r){var d=[];for(var N in this.binders){var W=this.binders[N];if(W instanceof dr||W instanceof Tr||W instanceof lr)for(var Q=0,st=W.uniformNames;Q<st.length;Q+=1){var bt=st[Q];if(r[bt]){var Nt=W.getBinding(t,r[bt],bt);d.push({name:bt,property:N,binding:Nt})}}}return d},ar.prototype.setUniforms=function(t,r,d,N){for(var W=0,Q=r;W<Q.length;W+=1){var st=Q[W],bt=st.name,Nt=st.property;this.binders[Nt].setUniform(st.binding,N,d.get(Nt),bt)}},ar.prototype.updatePaintBuffers=function(t){for(var r in this._buffers=[],this.binders){var d=this.binders[r];if(t&&d instanceof wr){var N=2===t.fromScale?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;N&&this._buffers.push(N)}else(d instanceof ur||d instanceof lr)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}},ar.prototype.upload=function(t){for(var r in this.binders){var d=this.binders[r];(d instanceof ur||d instanceof lr||d instanceof wr)&&d.upload(t)}this.updatePaintBuffers()},ar.prototype.destroy=function(){for(var t in this.binders){var r=this.binders[t];(r instanceof ur||r instanceof lr||r instanceof wr)&&r.destroy()}};var ir=function(t,r,d){void 0===d&&(d=function(){return!0}),this.programConfigurations={};for(var N=0,W=t;N<W.length;N+=1){var Q=W[N];this.programConfigurations[Q.id]=new ar(Q,r,d)}this.needsUpload=!1,this._featureMap=new ti,this._bufferOffset=0};function is(t,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(r+"-","").replace(/-/g,"_")]}function Bo(t,r,d){var W={"line-pattern":{source:da,composite:da},"fill-pattern":{source:da,composite:da},"fill-extrusion-pattern":{source:da,composite:da}}[t];return W&&W[d]||{color:{source:qa,composite:Tl},number:{source:Ma,composite:qa}}[r][d]}ir.prototype.populatePaintArrays=function(t,r,d,N,W,Q){for(var st in this.programConfigurations)this.programConfigurations[st].populatePaintArrays(t,r,N,W,Q);void 0!==r.id&&this._featureMap.add(r.id,d,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},ir.prototype.updatePaintArrays=function(t,r,d,N){for(var W=0,Q=d;W<Q.length;W+=1){var st=Q[W];this.needsUpload=this.programConfigurations[st.id].updatePaintArrays(t,this._featureMap,r,st,N)||this.needsUpload}},ir.prototype.get=function(t){return this.programConfigurations[t]},ir.prototype.upload=function(t){if(this.needsUpload){for(var r in this.programConfigurations)this.programConfigurations[r].upload(t);this.needsUpload=!1}},ir.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},sn("ConstantBinder",dr),sn("CrossFadedConstantBinder",Tr),sn("SourceExpressionBinder",ur),sn("CrossFadedCompositeBinder",wr),sn("CompositeExpressionBinder",lr),sn("ProgramConfiguration",ar,{omit:["_buffers"]}),sn("ProgramConfigurationSet",ir);var ws=Math.pow(2,14)-1,cs=-ws-1;function Eo(t){for(var r=8192/t.extent,d=t.loadGeometry(),N=0;N<d.length;N++)for(var W=d[N],Q=0;Q<W.length;Q++){var st=W[Q],bt=Math.round(st.x*r),Nt=Math.round(st.y*r);st.x=B(bt,cs,ws),st.y=B(Nt,cs,ws),(bt<st.x||bt>st.x+1||Nt<st.y||Nt>st.y+1)&&dt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return d}function Uo(t,r){return{type:t.type,id:t.id,properties:t.properties,geometry:r?Eo(t):[]}}function Vs(t,r,d,N,W){t.emplaceBack(2*r+(N+1)/2,2*d+(W+1)/2)}var As=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new za,this.indexArray=new Aa,this.segments=new we,this.programConfigurations=new ir(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function ka(t,r){for(var d=0;d<t.length;d++)if(pa(r,t[d]))return!0;for(var N=0;N<r.length;N++)if(pa(t,r[N]))return!0;return!!ul(t,r)}function Ls(t,r,d){return!!pa(t,r)||!!Da(r,t,d)}function aa(t,r){if(1===t.length)return cl(r,t[0]);for(var d=0;d<r.length;d++)for(var N=r[d],W=0;W<N.length;W++)if(pa(t,N[W]))return!0;for(var Q=0;Q<t.length;Q++)if(cl(r,t[Q]))return!0;for(var st=0;st<r.length;st++)if(ul(t,r[st]))return!0;return!1}function ia(t,r,d){if(t.length>1){if(ul(t,r))return!0;for(var N=0;N<r.length;N++)if(Da(r[N],t,d))return!0}for(var W=0;W<t.length;W++)if(Da(t[W],r,d))return!0;return!1}function ul(t,r){if(0===t.length||0===r.length)return!1;for(var d=0;d<t.length-1;d++)for(var N=t[d],W=t[d+1],Q=0;Q<r.length-1;Q++)if($a(N,W,r[Q],r[Q+1]))return!0;return!1}function $a(t,r,d,N){return Lt(t,d,N)!==Lt(r,d,N)&&Lt(t,r,d)!==Lt(t,r,N)}function Da(t,r,d){var N=d*d;if(1===r.length)return t.distSqr(r[0])<N;for(var W=1;W<r.length;W++)if(Qa(t,r[W-1],r[W])<N)return!0;return!1}function Qa(t,r,d){var N=r.distSqr(d);if(0===N)return t.distSqr(r);var W=((t.x-r.x)*(d.x-r.x)+(t.y-r.y)*(d.y-r.y))/N;return t.distSqr(W<0?r:W>1?d:d.sub(r)._mult(W)._add(r))}function cl(t,r){for(var d,N,W,Q=!1,st=0;st<t.length;st++)for(var bt=0,Nt=(d=t[st]).length-1;bt<d.length;Nt=bt++)(N=d[bt]).y>r.y!=(W=d[Nt]).y>r.y&&r.x<(W.x-N.x)*(r.y-N.y)/(W.y-N.y)+N.x&&(Q=!Q);return Q}function pa(t,r){for(var d=!1,N=0,W=t.length-1;N<t.length;W=N++){var Q=t[N],st=t[W];Q.y>r.y!=st.y>r.y&&r.x<(st.x-Q.x)*(r.y-Q.y)/(st.y-Q.y)+Q.x&&(d=!d)}return d}function dl(t,r,d){var N=d[0],W=d[2];if(t.x<N.x&&r.x<N.x||t.x>W.x&&r.x>W.x||t.y<N.y&&r.y<N.y||t.y>W.y&&r.y>W.y)return!1;var Q=Lt(t,r,d[0]);return Q!==Lt(t,r,d[1])||Q!==Lt(t,r,d[2])||Q!==Lt(t,r,d[3])}function fa(t,r,d){var N=r.paint.get(t).value;return"constant"===N.kind?N.value:d.programConfigurations.get(r.id).getMaxValue(t)}function ns(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function va(t,r,d,N,W){if(!r[0]&&!r[1])return t;var Q=m.convert(r)._mult(W);"viewport"===d&&Q._rotate(-N);for(var st=[],bt=0;bt<t.length;bt++)st.push(t[bt].sub(Q));return st}As.prototype.populate=function(t,r,d){var N=this.layers[0],W=[],Q=null;"circle"===N.type&&(Q=N.layout.get("circle-sort-key"));for(var st=0,bt=t;st<bt.length;st+=1){var Nt=bt[st],Ht=Nt.feature,$t=Nt.id,ee=Nt.index,ce=Nt.sourceLayerIndex,ge=this.layers[0]._featureFilter.needGeometry,Ee=Uo(Ht,ge);if(this.layers[0]._featureFilter.filter(new Er(this.zoom),Ee,d)){var Le=Q?Q.evaluate(Ee,{},d):void 0,qe={id:$t,properties:Ht.properties,type:Ht.type,sourceLayerIndex:ce,index:ee,geometry:ge?Ee.geometry:Eo(Ht),patterns:{},sortKey:Le};W.push(qe)}}Q&&W.sort(function(yn,Un){return yn.sortKey-Un.sortKey});for(var Ve=0,hi=W;Ve<hi.length;Ve+=1){var xi=hi[Ve],Mi=xi.geometry,Ei=xi.index,Ui=xi.sourceLayerIndex,ln=t[Ei].feature;this.addFeature(xi,Mi,Ei,d),r.featureIndex.insert(ln,Mi,Ei,Ui,this.index)}},As.prototype.update=function(t,r,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,d)},As.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},As.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},As.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,_e),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},As.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},As.prototype.addFeature=function(t,r,d,N){for(var W=0,Q=r;W<Q.length;W+=1)for(var st=0,bt=Q[W];st<bt.length;st+=1){var Nt=bt[st],Ht=Nt.x,$t=Nt.y;if(!(Ht<0||Ht>=8192||$t<0||$t>=8192)){var ee=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),ce=ee.vertexLength;Vs(this.layoutVertexArray,Ht,$t,-1,-1),Vs(this.layoutVertexArray,Ht,$t,1,-1),Vs(this.layoutVertexArray,Ht,$t,1,1),Vs(this.layoutVertexArray,Ht,$t,-1,1),this.indexArray.emplaceBack(ce,ce+1,ce+2),this.indexArray.emplaceBack(ce,ce+3,ce+2),ee.vertexLength+=4,ee.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,d,{},N)},sn("CircleBucket",As,{omit:["layers"]});var Ea=new Jo({"circle-sort-key":new On(ie.layout_circle["circle-sort-key"])}),ja={paint:new Jo({"circle-radius":new On(ie.paint_circle["circle-radius"]),"circle-color":new On(ie.paint_circle["circle-color"]),"circle-blur":new On(ie.paint_circle["circle-blur"]),"circle-opacity":new On(ie.paint_circle["circle-opacity"]),"circle-translate":new jn(ie.paint_circle["circle-translate"]),"circle-translate-anchor":new jn(ie.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new jn(ie.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new jn(ie.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new On(ie.paint_circle["circle-stroke-width"]),"circle-stroke-color":new On(ie.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new On(ie.paint_circle["circle-stroke-opacity"])}),layout:Ea},ro=typeof Float32Array<"u"?Float32Array:Array;function Js(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Os(t,r,d){var N=r[0],W=r[1],Q=r[2],st=r[3],bt=r[4],Nt=r[5],Ht=r[6],$t=r[7],ee=r[8],ce=r[9],ge=r[10],Ee=r[11],Le=r[12],qe=r[13],Ve=r[14],hi=r[15],xi=d[0],Mi=d[1],Ei=d[2],Ui=d[3];return t[0]=xi*N+Mi*bt+Ei*ee+Ui*Le,t[1]=xi*W+Mi*Nt+Ei*ce+Ui*qe,t[2]=xi*Q+Mi*Ht+Ei*ge+Ui*Ve,t[3]=xi*st+Mi*$t+Ei*Ee+Ui*hi,t[4]=(xi=d[4])*N+(Mi=d[5])*bt+(Ei=d[6])*ee+(Ui=d[7])*Le,t[5]=xi*W+Mi*Nt+Ei*ce+Ui*qe,t[6]=xi*Q+Mi*Ht+Ei*ge+Ui*Ve,t[7]=xi*st+Mi*$t+Ei*Ee+Ui*hi,t[8]=(xi=d[8])*N+(Mi=d[9])*bt+(Ei=d[10])*ee+(Ui=d[11])*Le,t[9]=xi*W+Mi*Nt+Ei*ce+Ui*qe,t[10]=xi*Q+Mi*Ht+Ei*ge+Ui*Ve,t[11]=xi*st+Mi*$t+Ei*Ee+Ui*hi,t[12]=(xi=d[12])*N+(Mi=d[13])*bt+(Ei=d[14])*ee+(Ui=d[15])*Le,t[13]=xi*W+Mi*Nt+Ei*ce+Ui*qe,t[14]=xi*Q+Mi*Ht+Ei*ge+Ui*Ve,t[15]=xi*st+Mi*$t+Ei*Ee+Ui*hi,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,r=0,d=arguments.length;d--;)r+=t[d]*t[d];return Math.sqrt(r)});var Ua,t,lu=Os;function Sl(t,r,d){var N=r[0],W=r[1],Q=r[2],st=r[3];return t[0]=d[0]*N+d[4]*W+d[8]*Q+d[12]*st,t[1]=d[1]*N+d[5]*W+d[9]*Q+d[13]*st,t[2]=d[2]*N+d[6]*W+d[10]*Q+d[14]*st,t[3]=d[3]*N+d[7]*W+d[11]*Q+d[15]*st,t}Ua=new ro(3),ro!=Float32Array&&(Ua[0]=0,Ua[1]=0,Ua[2]=0),t=new ro(4),ro!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0);var hu=(function(){var t=new ro(2);ro!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function r(d){t.call(this,d,ja)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(d){return new As(d)},r.prototype.queryRadius=function(d){var N=d;return fa("circle-radius",this,N)+fa("circle-stroke-width",this,N)+ns(this.paint.get("circle-translate"))},r.prototype.queryIntersectsFeature=function(d,N,W,Q,st,bt,Nt,Ht){for(var $t=va(d,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),bt.angle,Nt),ee=this.paint.get("circle-radius").evaluate(N,W)+this.paint.get("circle-stroke-width").evaluate(N,W),ce="map"===this.paint.get("circle-pitch-alignment"),ge=ce?$t:function(ln,yn){return ln.map(function(Un){return pl(Un,yn)})}($t,Ht),Ee=ce?ee*Nt:ee,Le=0,qe=Q;Le<qe.length;Le+=1)for(var Ve=0,hi=qe[Le];Ve<hi.length;Ve+=1){var xi=hi[Ve],Mi=ce?xi:pl(xi,Ht),Ei=Ee,Ui=Sl([],[xi.x,xi.y,0,1],Ht);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Ei*=Ui[3]/bt.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Ei*=bt.cameraToCenterDistance/Ui[3]),Ls(ge,Mi,Ei))return!0}return!1},r}(Ks));function pl(t,r){var d=Sl([],[t.x,t.y,0,1],r);return new m(d[0]/d[3],d[1]/d[3])}var kh=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(As);function tl(t,r,d,N){var W=r.width,Q=r.height;if(N){if(N instanceof Uint8ClampedArray)N=new Uint8Array(N.buffer);else if(N.length!==W*Q*d)throw new RangeError("mismatched image size")}else N=new Uint8Array(W*Q*d);return t.width=W,t.height=Q,t.data=N,t}function Cl(t,r,d){var N=r.width,W=r.height;if(N!==t.width||W!==t.height){var Q=tl({},{width:N,height:W},d);uu(t,Q,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,N),height:Math.min(t.height,W)},d),t.width=N,t.height=W,t.data=Q.data}}function uu(t,r,d,N,W,Q){if(0===W.width||0===W.height)return r;if(W.width>t.width||W.height>t.height||d.x>t.width-W.width||d.y>t.height-W.height)throw new RangeError("out of range source coordinates for image copy");if(W.width>r.width||W.height>r.height||N.x>r.width-W.width||N.y>r.height-W.height)throw new RangeError("out of range destination coordinates for image copy");for(var st=t.data,bt=r.data,Nt=0;Nt<W.height;Nt++)for(var Ht=((d.y+Nt)*t.width+d.x)*Q,$t=((N.y+Nt)*r.width+N.x)*Q,ee=0;ee<W.width*Q;ee++)bt[$t+ee]=st[Ht+ee];return r}sn("HeatmapBucket",kh,{omit:["layers"]});var fl=function(t,r){tl(this,t,1,r)};fl.prototype.resize=function(t){Cl(this,t,1)},fl.prototype.clone=function(){return new fl({width:this.width,height:this.height},new Uint8Array(this.data))},fl.copy=function(t,r,d,N,W){uu(t,r,d,N,W,1)};var Hs=function(t,r){tl(this,t,4,r)};Hs.prototype.resize=function(t){Cl(this,t,4)},Hs.prototype.replace=function(t,r){r?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},Hs.prototype.clone=function(){return new Hs({width:this.width,height:this.height},new Uint8Array(this.data))},Hs.copy=function(t,r,d,N,W){uu(t,r,d,N,W,4)},sn("AlphaImage",fl),sn("RGBAImage",Hs);var sd={paint:new Jo({"heatmap-radius":new On(ie.paint_heatmap["heatmap-radius"]),"heatmap-weight":new On(ie.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new jn(ie.paint_heatmap["heatmap-intensity"]),"heatmap-color":new js(ie.paint_heatmap["heatmap-color"]),"heatmap-opacity":new jn(ie.paint_heatmap["heatmap-opacity"])})};function ju(t){var r={},d=t.resolution||256,N=t.clips?t.clips.length:1,W=t.image||new Hs({width:d,height:N}),Q=function(Ee,Le,qe){r[t.evaluationKey]=qe;var Ve=t.expression.evaluate(r);W.data[Ee+Le+0]=Math.floor(255*Ve.r/Ve.a),W.data[Ee+Le+1]=Math.floor(255*Ve.g/Ve.a),W.data[Ee+Le+2]=Math.floor(255*Ve.b/Ve.a),W.data[Ee+Le+3]=Math.floor(255*Ve.a)};if(t.clips)for(var st=0,bt=0;st<N;++st,bt+=4*d)for(var Nt=0,Ht=0;Nt<d;Nt++,Ht+=4){var $t=Nt/(d-1),ee=t.clips[st];Q(bt,Ht,ee.start*(1-$t)+ee.end*$t)}else for(var ce=0,ge=0;ce<d;ce++,ge+=4)Q(0,ge,ce/(d-1));return W}var ad=function(t){function r(d){t.call(this,d,sd),this._updateColorRamp()}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(d){return new kh(d)},r.prototype._handleSpecialPaintPropertyUpdate=function(d){"heatmap-color"===d&&this._updateColorRamp()},r.prototype._updateColorRamp=function(){this.colorRamp=ju({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},r.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},r}(Ks),ld={paint:new Jo({"hillshade-illumination-direction":new jn(ie.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new jn(ie.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new jn(ie.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new jn(ie.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new jn(ie.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new jn(ie.paint_hillshade["hillshade-accent-color"])})},hd=function(t){function r(d){t.call(this,d,ld)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},r}(Ks),ud=Yo([{name:"a_pos",components:2,type:"Int16"}],4).members,cu=Dh,cd=Dh;function Dh(t,r,d){d=d||2;var N,W,Q,st,bt,Nt,Ht,$t=r&&r.length,ee=$t?r[0]*d:t.length,ce=Uu(t,0,ee,d,!0),ge=[];if(!ce||ce.next===ce.prev)return ge;if($t&&(ce=function(Le,qe,Ve,hi){var xi,Mi,Ei,Ui=[];for(xi=0,Mi=qe.length;xi<Mi;xi++)(Ei=Uu(Le,qe[xi]*hi,xi<Mi-1?qe[xi+1]*hi:Le.length,hi,!1))===Ei.next&&(Ei.steiner=!0),Ui.push(_d(Ei));for(Ui.sort(gd),xi=0;xi<Ui.length;xi++)yd(Ui[xi],Ve),Ve=el(Ve,Ve.next);return Ve}(t,r,ce,d)),t.length>80*d){N=Q=t[0],W=st=t[1];for(var Ee=d;Ee<ee;Ee+=d)(bt=t[Ee])<N&&(N=bt),(Nt=t[Ee+1])<W&&(W=Nt),bt>Q&&(Q=bt),Nt>st&&(st=Nt);Ht=0!==(Ht=Math.max(Q-N,st-W))?1/Ht:0}return nh(ce,ge,d,N,W,Ht),ge}function Uu(t,r,d,N,W){var Q,st;if(W===fu(t,r,d,N)>0)for(Q=r;Q<d;Q+=N)st=Gu(Q,t[Q],t[Q+1],st);else for(Q=d-N;Q>=r;Q-=N)st=Gu(Q,t[Q],t[Q+1],st);return st&&Eh(st,st.next)&&(oh(st),st=st.next),st}function el(t,r){if(!t)return t;r||(r=t);var d,N=t;do{if(d=!1,N.steiner||!Eh(N,N.next)&&0!==$o(N.prev,N,N.next))N=N.next;else{if(oh(N),(N=r=N.prev)===N.next)break;d=!0}}while(d||N!==r);return r}function nh(t,r,d,N,W,Q,st){if(t){!st&&Q&&function($t,ee,ce,ge){var Ee=$t;do{null===Ee.z&&(Ee.z=du(Ee.x,Ee.y,ee,ce,ge)),Ee.prevZ=Ee.prev,Ee.nextZ=Ee.next,Ee=Ee.next}while(Ee!==$t);Ee.prevZ.nextZ=null,Ee.prevZ=null,function(Le){var qe,Ve,hi,xi,Mi,Ei,Ui,ln,yn=1;do{for(Ve=Le,Le=null,Mi=null,Ei=0;Ve;){for(Ei++,hi=Ve,Ui=0,qe=0;qe<yn&&(Ui++,hi=hi.nextZ);qe++);for(ln=yn;Ui>0||ln>0&&hi;)0!==Ui&&(0===ln||!hi||Ve.z<=hi.z)?(xi=Ve,Ve=Ve.nextZ,Ui--):(xi=hi,hi=hi.nextZ,ln--),Mi?Mi.nextZ=xi:Le=xi,xi.prevZ=Mi,Mi=xi;Ve=hi}Mi.nextZ=null,yn*=2}while(Ei>1)}(Ee)}(t,N,W,Q);for(var bt,Nt,Ht=t;t.prev!==t.next;)if(bt=t.prev,Nt=t.next,Q?pd(t,N,W,Q):dd(t))r.push(bt.i/d),r.push(t.i/d),r.push(Nt.i/d),oh(t),t=Nt.next,Ht=Nt.next;else if((t=Nt)===Ht){st?1===st?nh(t=fd(el(t),r,d),r,d,N,W,Q,2):2===st&&md(t,r,d,N,W,Q):nh(el(t),r,d,N,W,Q,1);break}}}function dd(t){var r=t.prev,d=t,N=t.next;if($o(r,d,N)>=0)return!1;for(var W=t.next.next;W!==t.prev;){if(Al(r.x,r.y,d.x,d.y,N.x,N.y,W.x,W.y)&&$o(W.prev,W,W.next)>=0)return!1;W=W.next}return!0}function pd(t,r,d,N){var W=t.prev,Q=t,st=t.next;if($o(W,Q,st)>=0)return!1;for(var bt=W.x>Q.x?W.x>st.x?W.x:st.x:Q.x>st.x?Q.x:st.x,Nt=W.y>Q.y?W.y>st.y?W.y:st.y:Q.y>st.y?Q.y:st.y,Ht=du(W.x<Q.x?W.x<st.x?W.x:st.x:Q.x<st.x?Q.x:st.x,W.y<Q.y?W.y<st.y?W.y:st.y:Q.y<st.y?Q.y:st.y,r,d,N),$t=du(bt,Nt,r,d,N),ee=t.prevZ,ce=t.nextZ;ee&&ee.z>=Ht&&ce&&ce.z<=$t;){if(ee!==t.prev&&ee!==t.next&&Al(W.x,W.y,Q.x,Q.y,st.x,st.y,ee.x,ee.y)&&$o(ee.prev,ee,ee.next)>=0||(ee=ee.prevZ,ce!==t.prev&&ce!==t.next&&Al(W.x,W.y,Q.x,Q.y,st.x,st.y,ce.x,ce.y)&&$o(ce.prev,ce,ce.next)>=0))return!1;ce=ce.nextZ}for(;ee&&ee.z>=Ht;){if(ee!==t.prev&&ee!==t.next&&Al(W.x,W.y,Q.x,Q.y,st.x,st.y,ee.x,ee.y)&&$o(ee.prev,ee,ee.next)>=0)return!1;ee=ee.prevZ}for(;ce&&ce.z<=$t;){if(ce!==t.prev&&ce!==t.next&&Al(W.x,W.y,Q.x,Q.y,st.x,st.y,ce.x,ce.y)&&$o(ce.prev,ce,ce.next)>=0)return!1;ce=ce.nextZ}return!0}function fd(t,r,d){var N=t;do{var W=N.prev,Q=N.next.next;!Eh(W,Q)&&Vu(W,N,N.next,Q)&&rh(W,Q)&&rh(Q,W)&&(r.push(W.i/d),r.push(N.i/d),r.push(Q.i/d),oh(N),oh(N.next),N=t=Q),N=N.next}while(N!==t);return el(N)}function md(t,r,d,N,W,Q){var st=t;do{for(var bt=st.next.next;bt!==st.prev;){if(st.i!==bt.i&&xd(st,bt)){var Nt=Hu(st,bt);return st=el(st,st.next),Nt=el(Nt,Nt.next),nh(st,r,d,N,W,Q),void nh(Nt,r,d,N,W,Q)}bt=bt.next}st=st.next}while(st!==t)}function gd(t,r){return t.x-r.x}function yd(t,r){if(r=function(N,W){var Q,st=W,bt=N.x,Nt=N.y,Ht=-1/0;do{if(Nt<=st.y&&Nt>=st.next.y&&st.next.y!==st.y){var $t=st.x+(Nt-st.y)*(st.next.x-st.x)/(st.next.y-st.y);if($t<=bt&&$t>Ht){if(Ht=$t,$t===bt){if(Nt===st.y)return st;if(Nt===st.next.y)return st.next}Q=st.x<st.next.x?st:st.next}}st=st.next}while(st!==W);if(!Q)return null;if(bt===Ht)return Q;var ee,ce=Q,ge=Q.x,Ee=Q.y,Le=1/0;st=Q;do{bt>=st.x&&st.x>=ge&&bt!==st.x&&Al(Nt<Ee?bt:Ht,Nt,ge,Ee,Nt<Ee?Ht:bt,Nt,st.x,st.y)&&(ee=Math.abs(Nt-st.y)/(bt-st.x),rh(st,N)&&(ee<Le||ee===Le&&(st.x>Q.x||st.x===Q.x&&vd(Q,st)))&&(Q=st,Le=ee)),st=st.next}while(st!==ce);return Q}(t,r)){var d=Hu(r,t);el(r,r.next),el(d,d.next)}}function vd(t,r){return $o(t.prev,t,r.prev)<0&&$o(r.next,t,t.next)<0}function du(t,r,d,N,W){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-d)*W)|t<<8))|t<<4))|t<<2))|t<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-N)*W)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function _d(t){var r=t,d=t;do{(r.x<d.x||r.x===d.x&&r.y<d.y)&&(d=r),r=r.next}while(r!==t);return d}function Al(t,r,d,N,W,Q,st,bt){return(W-st)*(r-bt)-(t-st)*(Q-bt)>=0&&(t-st)*(N-bt)-(d-st)*(r-bt)>=0&&(d-st)*(Q-bt)-(W-st)*(N-bt)>=0}function xd(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!function(d,N){var W=d;do{if(W.i!==d.i&&W.next.i!==d.i&&W.i!==N.i&&W.next.i!==N.i&&Vu(W,W.next,d,N))return!0;W=W.next}while(W!==d);return!1}(t,r)&&(rh(t,r)&&rh(r,t)&&function(d,N){var W=d,Q=!1,st=(d.x+N.x)/2,bt=(d.y+N.y)/2;do{W.y>bt!=W.next.y>bt&&W.next.y!==W.y&&st<(W.next.x-W.x)*(bt-W.y)/(W.next.y-W.y)+W.x&&(Q=!Q),W=W.next}while(W!==d);return Q}(t,r)&&($o(t.prev,t,r.prev)||$o(t,r.prev,r))||Eh(t,r)&&$o(t.prev,t,t.next)>0&&$o(r.prev,r,r.next)>0)}function $o(t,r,d){return(r.y-t.y)*(d.x-r.x)-(r.x-t.x)*(d.y-r.y)}function Eh(t,r){return t.x===r.x&&t.y===r.y}function Vu(t,r,d,N){var W=Oh($o(t,r,d)),Q=Oh($o(t,r,N)),st=Oh($o(d,N,t)),bt=Oh($o(d,N,r));return W!==Q&&st!==bt||!(0!==W||!Lh(t,d,r))||!(0!==Q||!Lh(t,N,r))||!(0!==st||!Lh(d,t,N))||!(0!==bt||!Lh(d,r,N))}function Lh(t,r,d){return r.x<=Math.max(t.x,d.x)&&r.x>=Math.min(t.x,d.x)&&r.y<=Math.max(t.y,d.y)&&r.y>=Math.min(t.y,d.y)}function Oh(t){return t>0?1:t<0?-1:0}function rh(t,r){return $o(t.prev,t,t.next)<0?$o(t,r,t.next)>=0&&$o(t,t.prev,r)>=0:$o(t,r,t.prev)<0||$o(t,t.next,r)<0}function Hu(t,r){var d=new pu(t.i,t.x,t.y),N=new pu(r.i,r.x,r.y),W=t.next,Q=r.prev;return t.next=r,r.prev=t,d.next=W,W.prev=d,N.next=d,d.prev=N,Q.next=N,N.prev=Q,N}function Gu(t,r,d,N){var W=new pu(t,r,d);return N?(W.next=N.next,W.prev=N,N.next.prev=W,N.next=W):(W.prev=W,W.next=W),W}function oh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function pu(t,r,d){this.i=t,this.x=r,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fu(t,r,d,N){for(var W=0,Q=r,st=d-N;Q<d;Q+=N)W+=(t[st]-t[Q])*(t[Q+1]+t[st+1]),st=Q;return W}function bd(t,r,d,N,W){!function Q(st,bt,Nt,Ht,$t){for(;Ht>Nt;){if(Ht-Nt>600){var ee=Ht-Nt+1,ce=bt-Nt+1,ge=Math.log(ee),Ee=.5*Math.exp(2*ge/3),Le=.5*Math.sqrt(ge*Ee*(ee-Ee)/ee)*(ce-ee/2<0?-1:1);Q(st,bt,Math.max(Nt,Math.floor(bt-ce*Ee/ee+Le)),Math.min(Ht,Math.floor(bt+(ee-ce)*Ee/ee+Le)),$t)}var qe=st[bt],Ve=Nt,hi=Ht;for(sh(st,Nt,bt),$t(st[Ht],qe)>0&&sh(st,Nt,Ht);Ve<hi;){for(sh(st,Ve,hi),Ve++,hi--;$t(st[Ve],qe)<0;)Ve++;for(;$t(st[hi],qe)>0;)hi--}0===$t(st[Nt],qe)?sh(st,Nt,hi):sh(st,++hi,Ht),hi<=bt&&(Nt=hi+1),bt<=hi&&(Ht=hi-1)}}(t,r,d||0,N||t.length-1,W||wd)}function sh(t,r,d){var N=t[r];t[r]=t[d],t[d]=N}function wd(t,r){return t<r?-1:t>r?1:0}function mu(t,r){var d=t.length;if(d<=1)return[t];for(var N,W,Q=[],st=0;st<d;st++){var bt=Ct(t[st]);0!==bt&&(t[st].area=Math.abs(bt),void 0===W&&(W=bt<0),W===bt<0?(N&&Q.push(N),N=[t[st]]):N.push(t[st]))}if(N&&Q.push(N),r>1)for(var Nt=0;Nt<Q.length;Nt++)Q[Nt].length<=r||(bd(Q[Nt],r,1,Q[Nt].length-1,Td),Q[Nt]=Q[Nt].slice(0,r));return Q}function Td(t,r){return r.area-t.area}function gu(t,r,d){for(var N=d.patternDependencies,W=!1,Q=0,st=r;Q<st.length;Q+=1){var bt=st[Q].paint.get(t+"-pattern");bt.isConstant()||(W=!0);var Nt=bt.constantOr(null);Nt&&(W=!0,N[Nt.to]=!0,N[Nt.from]=!0)}return W}function yu(t,r,d,N,W){for(var Q=W.patternDependencies,st=0,bt=r;st<bt.length;st+=1){var Nt=bt[st],Ht=Nt.paint.get(t+"-pattern").value;if("constant"!==Ht.kind){var $t=Ht.evaluate({zoom:N-1},d,{},W.availableImages),ee=Ht.evaluate({zoom:N},d,{},W.availableImages),ce=Ht.evaluate({zoom:N+1},d,{},W.availableImages);ee=ee&&ee.name?ee.name:ee,ce=ce&&ce.name?ce.name:ce,Q[$t=$t&&$t.name?$t.name:$t]=!0,Q[ee]=!0,Q[ce]=!0,d.patterns[Nt.id]={min:$t,mid:ee,max:ce}}}return d}Dh.deviation=function(t,r,d,N){var W=r&&r.length,Q=Math.abs(fu(t,0,W?r[0]*d:t.length,d));if(W)for(var st=0,bt=r.length;st<bt;st++)Q-=Math.abs(fu(t,r[st]*d,st<bt-1?r[st+1]*d:t.length,d));var Nt=0;for(st=0;st<N.length;st+=3){var Ht=N[st]*d,$t=N[st+1]*d,ee=N[st+2]*d;Nt+=Math.abs((t[Ht]-t[ee])*(t[$t+1]-t[Ht+1])-(t[Ht]-t[$t])*(t[ee+1]-t[Ht+1]))}return 0===Q&&0===Nt?0:Math.abs((Nt-Q)/Q)},Dh.flatten=function(t){for(var r=t[0][0].length,d={vertices:[],holes:[],dimensions:r},N=0,W=0;W<t.length;W++){for(var Q=0;Q<t[W].length;Q++)for(var st=0;st<r;st++)d.vertices.push(t[W][Q][st]);W>0&&d.holes.push(N+=t[W-1].length)}return d},cu.default=cd;var _a=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new za,this.indexArray=new Aa,this.indexArray2=new hl,this.programConfigurations=new ir(t.layers,t.zoom),this.segments=new we,this.segments2=new we,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};_a.prototype.populate=function(t,r,d){this.hasPattern=gu("fill",this.layers,r);for(var N=this.layers[0].layout.get("fill-sort-key"),W=[],Q=0,st=t;Q<st.length;Q+=1){var bt=st[Q],Nt=bt.feature,Ht=bt.id,$t=bt.index,ee=bt.sourceLayerIndex,ce=this.layers[0]._featureFilter.needGeometry,ge=Uo(Nt,ce);if(this.layers[0]._featureFilter.filter(new Er(this.zoom),ge,d)){var Ee=N?N.evaluate(ge,{},d,r.availableImages):void 0,Le={id:Ht,properties:Nt.properties,type:Nt.type,sourceLayerIndex:ee,index:$t,geometry:ce?ge.geometry:Eo(Nt),patterns:{},sortKey:Ee};W.push(Le)}}N&&W.sort(function(ln,yn){return ln.sortKey-yn.sortKey});for(var qe=0,Ve=W;qe<Ve.length;qe+=1){var hi=Ve[qe],xi=hi.geometry,Mi=hi.index,Ei=hi.sourceLayerIndex;if(this.hasPattern){var Ui=yu("fill",this.layers,hi,this.zoom,r);this.patternFeatures.push(Ui)}else this.addFeature(hi,xi,Mi,d,{});r.featureIndex.insert(t[Mi].feature,xi,Mi,Ei,this.index)}},_a.prototype.update=function(t,r,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,d)},_a.prototype.addFeatures=function(t,r,d){for(var N=0,W=this.patternFeatures;N<W.length;N+=1){var Q=W[N];this.addFeature(Q,Q.geometry,Q.index,r,d)}},_a.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},_a.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},_a.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ud),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},_a.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},_a.prototype.addFeature=function(t,r,d,N,W){for(var Q=0,st=mu(r,500);Q<st.length;Q+=1){for(var bt=st[Q],Nt=0,Ht=0,$t=bt;Ht<$t.length;Ht+=1)Nt+=$t[Ht].length;for(var ee=this.segments.prepareSegment(Nt,this.layoutVertexArray,this.indexArray),ce=ee.vertexLength,ge=[],Ee=[],Le=0,qe=bt;Le<qe.length;Le+=1){var Ve=qe[Le];if(0!==Ve.length){Ve!==bt[0]&&Ee.push(ge.length/2);var hi=this.segments2.prepareSegment(Ve.length,this.layoutVertexArray,this.indexArray2),xi=hi.vertexLength;this.layoutVertexArray.emplaceBack(Ve[0].x,Ve[0].y),this.indexArray2.emplaceBack(xi+Ve.length-1,xi),ge.push(Ve[0].x),ge.push(Ve[0].y);for(var Mi=1;Mi<Ve.length;Mi++)this.layoutVertexArray.emplaceBack(Ve[Mi].x,Ve[Mi].y),this.indexArray2.emplaceBack(xi+Mi-1,xi+Mi),ge.push(Ve[Mi].x),ge.push(Ve[Mi].y);hi.vertexLength+=Ve.length,hi.primitiveLength+=Ve.length}}for(var Ei=cu(ge,Ee),Ui=0;Ui<Ei.length;Ui+=3)this.indexArray.emplaceBack(ce+Ei[Ui],ce+Ei[Ui+1],ce+Ei[Ui+2]);ee.vertexLength+=Nt,ee.primitiveLength+=Ei.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,d,W,N)},sn("FillBucket",_a,{omit:["layers","patternFeatures"]});var Sd=new Jo({"fill-sort-key":new On(ie.layout_fill["fill-sort-key"])}),Cd={paint:new Jo({"fill-antialias":new jn(ie.paint_fill["fill-antialias"]),"fill-opacity":new On(ie.paint_fill["fill-opacity"]),"fill-color":new On(ie.paint_fill["fill-color"]),"fill-outline-color":new On(ie.paint_fill["fill-outline-color"]),"fill-translate":new jn(ie.paint_fill["fill-translate"]),"fill-translate-anchor":new jn(ie.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ca(ie.paint_fill["fill-pattern"])}),layout:Sd},Ad=function(t){function r(d){t.call(this,d,Cd)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.recalculate=function(d,N){t.prototype.recalculate.call(this,d,N);var W=this.paint._values["fill-outline-color"];"constant"===W.value.kind&&void 0===W.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},r.prototype.createBucket=function(d){return new _a(d)},r.prototype.queryRadius=function(){return ns(this.paint.get("fill-translate"))},r.prototype.queryIntersectsFeature=function(d,N,W,Q,st,bt,Nt){return aa(va(d,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),bt.angle,Nt),Q)},r.prototype.isTileClipped=function(){return!0},r}(Ks),Pd=Yo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Wu=Pl;function Pl(t,r,d,N,W){this.properties={},this.extent=d,this.type=0,this._pbf=t,this._geometry=-1,this._keys=N,this._values=W,t.readFields(Md,this,r)}function Md(t,r,d){1==t?r.id=d.readVarint():2==t?function(N,W){for(var Q=N.readVarint()+N.pos;N.pos<Q;){var st=W._keys[N.readVarint()],bt=W._values[N.readVarint()];W.properties[st]=bt}}(d,r):3==t?r.type=d.readVarint():4==t&&(r._geometry=d.pos)}function kd(t){for(var r,d,N=0,W=0,Q=t.length,st=Q-1;W<Q;st=W++)N+=((d=t[st]).x-(r=t[W]).x)*(r.y+d.y);return N}Pl.types=["Unknown","Point","LineString","Polygon"],Pl.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var r,d=t.readVarint()+t.pos,N=1,W=0,Q=0,st=0,bt=[];t.pos<d;){if(W<=0){var Nt=t.readVarint();N=7&Nt,W=Nt>>3}if(W--,1===N||2===N)Q+=t.readSVarint(),st+=t.readSVarint(),1===N&&(r&&bt.push(r),r=[]),r.push(new m(Q,st));else{if(7!==N)throw new Error("unknown command "+N);r&&r.push(r[0].clone())}}return r&&bt.push(r),bt},Pl.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var r=t.readVarint()+t.pos,d=1,N=0,W=0,Q=0,st=1/0,bt=-1/0,Nt=1/0,Ht=-1/0;t.pos<r;){if(N<=0){var $t=t.readVarint();d=7&$t,N=$t>>3}if(N--,1===d||2===d)(W+=t.readSVarint())<st&&(st=W),W>bt&&(bt=W),(Q+=t.readSVarint())<Nt&&(Nt=Q),Q>Ht&&(Ht=Q);else if(7!==d)throw new Error("unknown command "+d)}return[st,Nt,bt,Ht]},Pl.prototype.toGeoJSON=function(t,r,d){var N,W,Q=this.extent*Math.pow(2,d),st=this.extent*t,bt=this.extent*r,Nt=this.loadGeometry(),Ht=Pl.types[this.type];function $t(ge){for(var Ee=0;Ee<ge.length;Ee++){var Le=ge[Ee];ge[Ee]=[360*(Le.x+st)/Q-180,360/Math.PI*Math.atan(Math.exp((180-360*(Le.y+bt)/Q)*Math.PI/180))-90]}}switch(this.type){case 1:var ee=[];for(N=0;N<Nt.length;N++)ee[N]=Nt[N][0];$t(Nt=ee);break;case 2:for(N=0;N<Nt.length;N++)$t(Nt[N]);break;case 3:for(Nt=function(ge){var Ee=ge.length;if(Ee<=1)return[ge];for(var Le,qe,Ve=[],hi=0;hi<Ee;hi++){var xi=kd(ge[hi]);0!==xi&&(void 0===qe&&(qe=xi<0),qe===xi<0?(Le&&Ve.push(Le),Le=[ge[hi]]):Le.push(ge[hi]))}return Le&&Ve.push(Le),Ve}(Nt),N=0;N<Nt.length;N++)for(W=0;W<Nt[N].length;W++)$t(Nt[N][W])}1===Nt.length?Nt=Nt[0]:Ht="Multi"+Ht;var ce={type:"Feature",geometry:{type:Ht,coordinates:Nt},properties:this.properties};return"id"in this&&(ce.id=this.id),ce};var Xu=Yu;function Yu(t,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Dd,this,r),this.length=this._features.length}function Dd(t,r,d){15===t?r.version=d.readVarint():1===t?r.name=d.readString():5===t?r.extent=d.readVarint():2===t?r._features.push(d.pos):3===t?r._keys.push(d.readString()):4===t&&r._values.push(function(N){for(var W=null,Q=N.readVarint()+N.pos;N.pos<Q;){var st=N.readVarint()>>3;W=1===st?N.readString():2===st?N.readFloat():3===st?N.readDouble():4===st?N.readVarint64():5===st?N.readVarint():6===st?N.readSVarint():7===st?N.readBoolean():null}return W}(d))}function Ed(t,r,d){if(3===t){var N=new Xu(d,d.readVarint()+d.pos);N.length&&(r[N.name]=N)}}Yu.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var r=this._pbf.readVarint()+this._pbf.pos;return new Wu(this._pbf,r,this.extent,this._keys,this._values)};var Ml={VectorTile:function(t,r){this.layers=t.readFields(Ed,{},r)},VectorTileFeature:Wu,VectorTileLayer:Xu},Ld=Ml.VectorTileFeature.types,vu=Math.pow(2,13);function ah(t,r,d,N,W,Q,st,bt){t.emplaceBack(r,d,2*Math.floor(N*vu)+st,W*vu*2,Q*vu*2,Math.round(bt))}var xa=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ya,this.indexArray=new Aa,this.programConfigurations=new ir(t.layers,t.zoom),this.segments=new we,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function Od(t,r){return t.x===r.x&&(t.x<0||t.x>8192)||t.y===r.y&&(t.y<0||t.y>8192)}xa.prototype.populate=function(t,r,d){this.features=[],this.hasPattern=gu("fill-extrusion",this.layers,r);for(var N=0,W=t;N<W.length;N+=1){var Q=W[N],st=Q.feature,bt=Q.id,Nt=Q.index,Ht=Q.sourceLayerIndex,$t=this.layers[0]._featureFilter.needGeometry,ee=Uo(st,$t);if(this.layers[0]._featureFilter.filter(new Er(this.zoom),ee,d)){var ce={id:bt,sourceLayerIndex:Ht,index:Nt,geometry:$t?ee.geometry:Eo(st),properties:st.properties,type:st.type,patterns:{}};this.hasPattern?this.features.push(yu("fill-extrusion",this.layers,ce,this.zoom,r)):this.addFeature(ce,ce.geometry,Nt,d,{}),r.featureIndex.insert(st,ce.geometry,Nt,Ht,this.index,!0)}}},xa.prototype.addFeatures=function(t,r,d){for(var N=0,W=this.features;N<W.length;N+=1){var Q=W[N];this.addFeature(Q,Q.geometry,Q.index,r,d)}},xa.prototype.update=function(t,r,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,d)},xa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},xa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},xa.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Pd),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},xa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},xa.prototype.addFeature=function(t,r,d,N,W){for(var Q=0,st=mu(r,500);Q<st.length;Q+=1){for(var bt=st[Q],Nt=0,Ht=0,$t=bt;Ht<$t.length;Ht+=1)Nt+=$t[Ht].length;for(var ee=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),ce=0,ge=bt;ce<ge.length;ce+=1){var Ee=ge[ce];if(0!==Ee.length&&!((Lr=Ee).every(function(xr){return xr.x<0})||Lr.every(function(xr){return xr.x>8192})||Lr.every(function(xr){return xr.y<0})||Lr.every(function(xr){return xr.y>8192})))for(var Le=0,qe=0;qe<Ee.length;qe++){var Ve=Ee[qe];if(qe>=1){var hi=Ee[qe-1];if(!Od(Ve,hi)){ee.vertexLength+4>we.MAX_VERTEX_ARRAY_LENGTH&&(ee=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var xi=Ve.sub(hi)._perp()._unit(),Mi=hi.dist(Ve);Le+Mi>32768&&(Le=0),ah(this.layoutVertexArray,Ve.x,Ve.y,xi.x,xi.y,0,0,Le),ah(this.layoutVertexArray,Ve.x,Ve.y,xi.x,xi.y,0,1,Le),ah(this.layoutVertexArray,hi.x,hi.y,xi.x,xi.y,0,0,Le+=Mi),ah(this.layoutVertexArray,hi.x,hi.y,xi.x,xi.y,0,1,Le);var Ei=ee.vertexLength;this.indexArray.emplaceBack(Ei,Ei+2,Ei+1),this.indexArray.emplaceBack(Ei+1,Ei+2,Ei+3),ee.vertexLength+=4,ee.primitiveLength+=2}}}}if(ee.vertexLength+Nt>we.MAX_VERTEX_ARRAY_LENGTH&&(ee=this.segments.prepareSegment(Nt,this.layoutVertexArray,this.indexArray)),"Polygon"===Ld[t.type]){for(var Ui=[],ln=[],yn=ee.vertexLength,Un=0,Tn=bt;Un<Tn.length;Un+=1){var Xn=Tn[Un];if(0!==Xn.length){Xn!==bt[0]&&ln.push(Ui.length/2);for(var Sn=0;Sn<Xn.length;Sn++){var Mr=Xn[Sn];ah(this.layoutVertexArray,Mr.x,Mr.y,0,0,1,1,0),Ui.push(Mr.x),Ui.push(Mr.y)}}}for(var nr=cu(Ui,ln),Nn=0;Nn<nr.length;Nn+=3)this.indexArray.emplaceBack(yn+nr[Nn],yn+nr[Nn+2],yn+nr[Nn+1]);ee.primitiveLength+=nr.length/3,ee.vertexLength+=Nt}}var Lr;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,d,W,N)},sn("FillExtrusionBucket",xa,{omit:["layers","features"]});var Id={paint:new Jo({"fill-extrusion-opacity":new jn(ie["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new On(ie["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new jn(ie["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new jn(ie["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ca(ie["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new On(ie["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new On(ie["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new jn(ie["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Nd=function(t){function r(d){t.call(this,d,Id)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(d){return new xa(d)},r.prototype.queryRadius=function(){return ns(this.paint.get("fill-extrusion-translate"))},r.prototype.is3D=function(){return!0},r.prototype.queryIntersectsFeature=function(d,N,W,Q,st,bt,Nt,Ht){var $t=va(d,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),bt.angle,Nt),ee=this.paint.get("fill-extrusion-height").evaluate(N,W),ce=this.paint.get("fill-extrusion-base").evaluate(N,W),ge=function(Le,qe,Ve,hi){for(var xi=[],Mi=0,Ei=Le;Mi<Ei.length;Mi+=1){var Ui=Ei[Mi],ln=[Ui.x,Ui.y,0,1];Sl(ln,ln,qe),xi.push(new m(ln[0]/ln[3],ln[1]/ln[3]))}return xi}($t,Ht),Ee=function(Le,qe,Ve,hi){for(var xi=[],Mi=[],Ei=hi[8]*qe,Ui=hi[9]*qe,ln=hi[10]*qe,yn=hi[11]*qe,Un=hi[8]*Ve,Tn=hi[9]*Ve,Xn=hi[10]*Ve,Sn=hi[11]*Ve,Mr=0,nr=Le;Mr<nr.length;Mr+=1){for(var Nn=[],Lr=[],xr=0,Hr=nr[Mr];xr<Hr.length;xr+=1){var Yn=Hr[xr],eo=Yn.x,Ao=Yn.y,zo=hi[0]*eo+hi[4]*Ao+hi[12],Lo=hi[1]*eo+hi[5]*Ao+hi[13],Po=hi[2]*eo+hi[6]*Ao+hi[14],Fo=hi[3]*eo+hi[7]*Ao+hi[15],rs=Po+ln,os=Fo+yn,Ms=zo+Un,ps=Lo+Tn,ks=Po+Xn,Vo=Fo+Sn,fs=new m((zo+Ei)/os,(Lo+Ui)/os);fs.z=rs/os,Nn.push(fs);var Rr=new m(Ms/Vo,ps/Vo);Rr.z=ks/Vo,Lr.push(Rr)}xi.push(Nn),Mi.push(Lr)}return[xi,Mi]}(Q,ce,ee,Ht);return function(Le,qe,Ve){var hi=1/0;aa(Ve,qe)&&(hi=Zu(Ve,qe[0]));for(var xi=0;xi<qe.length;xi++)for(var Mi=qe[xi],Ei=Le[xi],Ui=0;Ui<Mi.length-1;Ui++){var ln=Mi[Ui],yn=[ln,Mi[Ui+1],Ei[Ui+1],Ei[Ui],ln];ka(Ve,yn)&&(hi=Math.min(hi,Zu(Ve,yn)))}return hi!==1/0&&hi}(Ee[0],Ee[1],ge)},r}(Ks);function lh(t,r){return t.x*r.x+t.y*r.y}function Zu(t,r){if(1===t.length){for(var d,N=0,W=r[N++];!d||W.equals(d);)if(!(d=r[N++]))return 1/0;for(;N<r.length;N++){var Q=r[N],st=t[0],bt=d.sub(W),Nt=Q.sub(W),Ht=st.sub(W),$t=lh(bt,bt),ee=lh(bt,Nt),ce=lh(Nt,Nt),ge=lh(Ht,bt),Ee=lh(Ht,Nt),Le=$t*ce-ee*ee,qe=(ce*ge-ee*Ee)/Le,Ve=($t*Ee-ee*ge)/Le,hi=W.z*(1-qe-Ve)+d.z*qe+Q.z*Ve;if(isFinite(hi))return hi}return 1/0}for(var xi=1/0,Mi=0,Ei=r;Mi<Ei.length;Mi+=1)xi=Math.min(xi,Ei[Mi].z);return xi}var Rd=Yo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Bd=Yo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,zd=Ml.VectorTileFeature.types,Fd=Math.cos(Math.PI/180*37.5),qu=Math.pow(2,14)/.5,Is=function(t){var r=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(d){return d.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(d){r.gradients[d.id]={}}),this.layoutVertexArray=new Us,this.layoutVertexArray2=new qa,this.indexArray=new Aa,this.programConfigurations=new ir(t.layers,t.zoom),this.segments=new we,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(d){return d.isStateDependent()}).map(function(d){return d.id})};Is.prototype.populate=function(t,r,d){this.hasPattern=gu("line",this.layers,r);for(var N=this.layers[0].layout.get("line-sort-key"),W=[],Q=0,st=t;Q<st.length;Q+=1){var bt=st[Q],Nt=bt.feature,Ht=bt.id,$t=bt.index,ee=bt.sourceLayerIndex,ce=this.layers[0]._featureFilter.needGeometry,ge=Uo(Nt,ce);if(this.layers[0]._featureFilter.filter(new Er(this.zoom),ge,d)){var Ee=N?N.evaluate(ge,{},d):void 0,Le={id:Ht,properties:Nt.properties,type:Nt.type,sourceLayerIndex:ee,index:$t,geometry:ce?ge.geometry:Eo(Nt),patterns:{},sortKey:Ee};W.push(Le)}}N&&W.sort(function(ln,yn){return ln.sortKey-yn.sortKey});for(var qe=0,Ve=W;qe<Ve.length;qe+=1){var hi=Ve[qe],xi=hi.geometry,Mi=hi.index,Ei=hi.sourceLayerIndex;if(this.hasPattern){var Ui=yu("line",this.layers,hi,this.zoom,r);this.patternFeatures.push(Ui)}else this.addFeature(hi,xi,Mi,d,{});r.featureIndex.insert(t[Mi].feature,xi,Mi,Ei,this.index)}},Is.prototype.update=function(t,r,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,d)},Is.prototype.addFeatures=function(t,r,d){for(var N=0,W=this.patternFeatures;N<W.length;N+=1){var Q=W[N];this.addFeature(Q,Q.geometry,Q.index,r,d)}},Is.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Is.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Bd)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Rd),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Is.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},Is.prototype.addFeature=function(t,r,d,N,W){var Q=this.layers[0].layout,st=Q.get("line-join").evaluate(t,{}),bt=Q.get("line-cap"),Nt=Q.get("line-miter-limit"),Ht=Q.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var $t=0,ee=r;$t<ee.length;$t+=1)this.addLine(ee[$t],t,st,bt,Nt,Ht);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,d,W,N)},Is.prototype.addLine=function(t,r,d,N,W,Q){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var st=0;st<t.length-1;st++)this.totalDistance+=t[st].dist(t[st+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var bt="Polygon"===zd[r.type],Nt=t.length;Nt>=2&&t[Nt-1].equals(t[Nt-2]);)Nt--;for(var Ht=0;Ht<Nt-1&&t[Ht].equals(t[Ht+1]);)Ht++;if(!(Nt<(bt?3:2))){"bevel"===d&&(W=1.05);var $t,ee=this.overscaling<=16?122880/(512*this.overscaling):0,ce=this.segments.prepareSegment(10*Nt,this.layoutVertexArray,this.indexArray),ge=void 0,Ee=void 0,Le=void 0,qe=void 0;this.e1=this.e2=-1,bt&&(qe=t[Ht].sub($t=t[Nt-2])._unit()._perp());for(var Ve=Ht;Ve<Nt;Ve++)if(!(Ee=Ve===Nt-1?bt?t[Ht+1]:void 0:t[Ve+1])||!t[Ve].equals(Ee)){qe&&(Le=qe),$t&&(ge=$t),$t=t[Ve],qe=Ee?Ee.sub($t)._unit()._perp():Le;var hi=(Le=Le||qe).add(qe);0===hi.x&&0===hi.y||hi._unit();var xi=Le.x*qe.x+Le.y*qe.y,Mi=hi.x*qe.x+hi.y*qe.y,Ei=0!==Mi?1/Mi:1/0,Ui=2*Math.sqrt(2-2*Mi),ln=Mi<Fd&&ge&&Ee,yn=Le.x*qe.y-Le.y*qe.x>0;if(ln&&Ve>Ht){var Un=$t.dist(ge);if(Un>2*ee){var Tn=$t.sub($t.sub(ge)._mult(ee/Un)._round());this.updateDistance(ge,Tn),this.addCurrentVertex(Tn,Le,0,0,ce),ge=Tn}}var Xn=ge&&Ee,Sn=Xn?d:bt?"butt":N;if(Xn&&"round"===Sn&&(Ei<Q?Sn="miter":Ei<=2&&(Sn="fakeround")),"miter"===Sn&&Ei>W&&(Sn="bevel"),"bevel"===Sn&&(Ei>2&&(Sn="flipbevel"),Ei<W&&(Sn="miter")),ge&&this.updateDistance(ge,$t),"miter"===Sn)hi._mult(Ei),this.addCurrentVertex($t,hi,0,0,ce);else if("flipbevel"===Sn){if(Ei>100)hi=qe.mult(-1);else{var Mr=Ei*Le.add(qe).mag()/Le.sub(qe).mag();hi._perp()._mult(Mr*(yn?-1:1))}this.addCurrentVertex($t,hi,0,0,ce),this.addCurrentVertex($t,hi.mult(-1),0,0,ce)}else if("bevel"===Sn||"fakeround"===Sn){var nr=-Math.sqrt(Ei*Ei-1),Nn=yn?nr:0,Lr=yn?0:nr;if(ge&&this.addCurrentVertex($t,Le,Nn,Lr,ce),"fakeround"===Sn)for(var xr=Math.round(180*Ui/Math.PI/20),Hr=1;Hr<xr;Hr++){var Yn=Hr/xr;if(.5!==Yn){var eo=Yn-.5;Yn+=Yn*eo*(Yn-1)*((1.0904+xi*(xi*(3.55645-1.43519*xi)-3.2452))*eo*eo+(.848013+xi*(.215638*xi-1.06021)))}var Ao=qe.sub(Le)._mult(Yn)._add(Le)._unit()._mult(yn?-1:1);this.addHalfVertex($t,Ao.x,Ao.y,!1,yn,0,ce)}Ee&&this.addCurrentVertex($t,qe,-Nn,-Lr,ce)}else if("butt"===Sn)this.addCurrentVertex($t,hi,0,0,ce);else if("square"===Sn){var zo=ge?1:-1;this.addCurrentVertex($t,hi,zo,zo,ce)}else"round"===Sn&&(ge&&(this.addCurrentVertex($t,Le,0,0,ce),this.addCurrentVertex($t,Le,1,1,ce,!0)),Ee&&(this.addCurrentVertex($t,qe,-1,-1,ce,!0),this.addCurrentVertex($t,qe,0,0,ce)));if(ln&&Ve<Nt-1){var Lo=$t.dist(Ee);if(Lo>2*ee){var Po=$t.add(Ee.sub($t)._mult(ee/Lo)._round());this.updateDistance($t,Po),this.addCurrentVertex(Po,qe,0,0,ce),$t=Po}}}}},Is.prototype.addCurrentVertex=function(t,r,d,N,W,Q){void 0===Q&&(Q=!1);var st=r.y*N-r.x,bt=-r.y-r.x*N;this.addHalfVertex(t,r.x+r.y*d,r.y-r.x*d,Q,!1,d,W),this.addHalfVertex(t,st,bt,Q,!0,-N,W),this.distance>qu/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,r,d,N,W,Q))},Is.prototype.addHalfVertex=function(t,r,d,N,W,Q,st){var bt=.5*(this.lineClips?this.scaledDistance*(qu-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(N?1:0),(t.y<<1)+(W?1:0),Math.round(63*r)+128,Math.round(63*d)+128,1+(0===Q?0:Q<0?-1:1)|(63&bt)<<2,bt>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var Nt=st.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Nt),st.primitiveLength++),W?this.e2=Nt:this.e1=Nt},Is.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Is.prototype.updateDistance=function(t,r){this.distance+=t.dist(r),this.updateScaledDistance()},sn("LineBucket",Is,{omit:["layers","patternFeatures"]});var jd=new Jo({"line-cap":new jn(ie.layout_line["line-cap"]),"line-join":new On(ie.layout_line["line-join"]),"line-miter-limit":new jn(ie.layout_line["line-miter-limit"]),"line-round-limit":new jn(ie.layout_line["line-round-limit"]),"line-sort-key":new On(ie.layout_line["line-sort-key"])}),Ku={paint:new Jo({"line-opacity":new On(ie.paint_line["line-opacity"]),"line-color":new On(ie.paint_line["line-color"]),"line-translate":new jn(ie.paint_line["line-translate"]),"line-translate-anchor":new jn(ie.paint_line["line-translate-anchor"]),"line-width":new On(ie.paint_line["line-width"]),"line-gap-width":new On(ie.paint_line["line-gap-width"]),"line-offset":new On(ie.paint_line["line-offset"]),"line-blur":new On(ie.paint_line["line-blur"]),"line-dasharray":new us(ie.paint_line["line-dasharray"]),"line-pattern":new Ca(ie.paint_line["line-pattern"]),"line-gradient":new js(ie.paint_line["line-gradient"])}),layout:jd},Ju=new(function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.possiblyEvaluate=function(d,N){return N=new Er(Math.floor(N.zoom),{now:N.now,fadeDuration:N.fadeDuration,zoomHistory:N.zoomHistory,transition:N.transition}),t.prototype.possiblyEvaluate.call(this,d,N)},r.prototype.evaluate=function(d,N,W,Q){return N=q({},N,{zoom:Math.floor(N.zoom)}),t.prototype.evaluate.call(this,d,N,W,Q)},r}(On))(Ku.paint.properties["line-width"].specification);Ju.useIntegerZoom=!0;var Ud=function(t){function r(d){t.call(this,d,Ku),this.gradientVersion=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._handleSpecialPaintPropertyUpdate=function(d){"line-gradient"===d&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ii,this.gradientVersion=(this.gradientVersion+1)%D)},r.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},r.prototype.recalculate=function(d,N){t.prototype.recalculate.call(this,d,N),this.paint._values["line-floorwidth"]=Ju.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,d)},r.prototype.createBucket=function(d){return new Is(d)},r.prototype.queryRadius=function(d){var N=d,W=$u(fa("line-width",this,N),fa("line-gap-width",this,N)),Q=fa("line-offset",this,N);return W/2+Math.abs(Q)+ns(this.paint.get("line-translate"))},r.prototype.queryIntersectsFeature=function(d,N,W,Q,st,bt,Nt){var Ht=va(d,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),bt.angle,Nt),$t=Nt/2*$u(this.paint.get("line-width").evaluate(N,W),this.paint.get("line-gap-width").evaluate(N,W)),ee=this.paint.get("line-offset").evaluate(N,W);return ee&&(Q=function(ce,ge){for(var Ee=[],Le=new m(0,0),qe=0;qe<ce.length;qe++){for(var Ve=ce[qe],hi=[],xi=0;xi<Ve.length;xi++){var Mi=Ve[xi],Ei=Ve[xi+1],Ui=0===xi?Le:Mi.sub(Ve[xi-1])._unit()._perp(),ln=xi===Ve.length-1?Le:Ei.sub(Mi)._unit()._perp(),yn=Ui._add(ln)._unit();yn._mult(1/(yn.x*ln.x+yn.y*ln.y)),hi.push(yn._mult(ge)._add(Mi))}Ee.push(hi)}return Ee}(Q,ee*Nt)),function(ce,ge,Ee){for(var Le=0;Le<ge.length;Le++){var qe=ge[Le];if(ce.length>=3)for(var Ve=0;Ve<qe.length;Ve++)if(pa(ce,qe[Ve]))return!0;if(ia(ce,qe,Ee))return!0}return!1}(Ht,Q,$t)},r.prototype.isTileClipped=function(){return!0},r}(Ks);function $u(t,r){return r>0?r+2*t:t}var Vd=Yo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Hd=Yo([{name:"a_projected_pos",components:3,type:"Float32"}],4),Gd=(Yo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Yo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Qu=(Yo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Yo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Wd=Yo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Xd(t,r,d){return t.sections.forEach(function(N){var W,st,bt;N.text=(W=N.text,st=d,"uppercase"===(bt=r.layout.get("text-transform").evaluate(st,{}))?W=W.toLocaleUpperCase():"lowercase"===bt&&(W=W.toLocaleLowerCase()),bs.applyArabicShaping&&(W=bs.applyArabicShaping(W)),W)}),t}Yo([{name:"triangle",components:3,type:"Uint16"}]),Yo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Yo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Yo([{type:"Float32",name:"offsetX"}]),Yo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var hh={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},tc=function(t,r,d,N,W){var Q,st,bt=8*W-N-1,Nt=(1<<bt)-1,Ht=Nt>>1,$t=-7,ee=d?W-1:0,ce=d?-1:1,ge=t[r+ee];for(ee+=ce,Q=ge&(1<<-$t)-1,ge>>=-$t,$t+=bt;$t>0;Q=256*Q+t[r+ee],ee+=ce,$t-=8);for(st=Q&(1<<-$t)-1,Q>>=-$t,$t+=N;$t>0;st=256*st+t[r+ee],ee+=ce,$t-=8);if(0===Q)Q=1-Ht;else{if(Q===Nt)return st?NaN:1/0*(ge?-1:1);st+=Math.pow(2,N),Q-=Ht}return(ge?-1:1)*st*Math.pow(2,Q-N)},ec=function(t,r,d,N,W,Q){var st,bt,Nt,Ht=8*Q-W-1,$t=(1<<Ht)-1,ee=$t>>1,ce=23===W?Math.pow(2,-24)-Math.pow(2,-77):0,ge=N?0:Q-1,Ee=N?1:-1,Le=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(bt=isNaN(r)?1:0,st=$t):(st=Math.floor(Math.log(r)/Math.LN2),r*(Nt=Math.pow(2,-st))<1&&(st--,Nt*=2),(r+=st+ee>=1?ce/Nt:ce*Math.pow(2,1-ee))*Nt>=2&&(st++,Nt/=2),st+ee>=$t?(bt=0,st=$t):st+ee>=1?(bt=(r*Nt-1)*Math.pow(2,W),st+=ee):(bt=r*Math.pow(2,ee-1)*Math.pow(2,W),st=0));W>=8;t[d+ge]=255&bt,ge+=Ee,bt/=256,W-=8);for(st=st<<W|bt,Ht+=W;Ht>0;t[d+ge]=255&st,ge+=Ee,st/=256,Ht-=8);t[d+ge-Ee]|=128*Le},Ih=xo;function xo(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}xo.Varint=0,xo.Fixed64=1,xo.Bytes=2,xo.Fixed32=5;var ic=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Va(t){return t.type===xo.Bytes?t.readVarint()+t.pos:t.pos+1}function nc(t,r,d){var N=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));d.realloc(N);for(var W=d.pos-1;W>=t;W--)d.buf[W+N]=d.buf[W]}function Yd(t,r){for(var d=0;d<t.length;d++)r.writeVarint(t[d])}function Zd(t,r){for(var d=0;d<t.length;d++)r.writeSVarint(t[d])}function qd(t,r){for(var d=0;d<t.length;d++)r.writeFloat(t[d])}function Kd(t,r){for(var d=0;d<t.length;d++)r.writeDouble(t[d])}function Jd(t,r){for(var d=0;d<t.length;d++)r.writeBoolean(t[d])}function $d(t,r){for(var d=0;d<t.length;d++)r.writeFixed32(t[d])}function Qd(t,r){for(var d=0;d<t.length;d++)r.writeSFixed32(t[d])}function tp(t,r){for(var d=0;d<t.length;d++)r.writeFixed64(t[d])}function ep(t,r){for(var d=0;d<t.length;d++)r.writeSFixed64(t[d])}function Nh(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+16777216*t[r+3]}function Dl(t,r,d){t[d]=r,t[d+1]=r>>>8,t[d+2]=r>>>16,t[d+3]=r>>>24}function rc(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+(t[r+3]<<24)}function ip(t,r,d){1===t&&d.readMessage(np,r)}function np(t,r,d){if(3===t){var N=d.readMessage(rp,{}),W=N.width,Q=N.height,st=N.left,bt=N.top,Nt=N.advance;r.push({id:N.id,bitmap:new fl({width:W+6,height:Q+6},N.bitmap),metrics:{width:W,height:Q,left:st,top:bt,advance:Nt}})}}function rp(t,r,d){1===t?r.id=d.readVarint():2===t?r.bitmap=d.readBytes():3===t?r.width=d.readVarint():4===t?r.height=d.readVarint():5===t?r.left=d.readSVarint():6===t?r.top=d.readSVarint():7===t&&(r.advance=d.readVarint())}function oc(t){for(var r=0,d=0,N=0,W=t;N<W.length;N+=1){var Q=W[N];r+=Q.w*Q.h,d=Math.max(d,Q.w)}t.sort(function(Le,qe){return qe.h-Le.h});for(var st=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),d),h:1/0}],bt=0,Nt=0,Ht=0,$t=t;Ht<$t.length;Ht+=1)for(var ee=$t[Ht],ce=st.length-1;ce>=0;ce--){var ge=st[ce];if(!(ee.w>ge.w||ee.h>ge.h)){if(ee.x=ge.x,ee.y=ge.y,Nt=Math.max(Nt,ee.y+ee.h),bt=Math.max(bt,ee.x+ee.w),ee.w===ge.w&&ee.h===ge.h){var Ee=st.pop();ce<st.length&&(st[ce]=Ee)}else ee.h===ge.h?(ge.x+=ee.w,ge.w-=ee.w):ee.w===ge.w?(ge.y+=ee.h,ge.h-=ee.h):(st.push({x:ge.x+ee.w,y:ge.y,w:ge.w-ee.w,h:ee.h}),ge.y+=ee.h,ge.h-=ee.h);break}}return{w:bt,h:Nt,fill:r/(bt*Nt)||0}}xo.prototype={destroy:function(){this.buf=null},readFields:function(t,r,d){for(d=d||this.length;this.pos<d;){var N=this.readVarint(),W=N>>3,Q=this.pos;this.type=7&N,t(W,r,this),this.pos===Q&&this.skip(N)}return r},readMessage:function(t,r){return this.readFields(t,r,this.readVarint()+this.pos)},readFixed32:function(){var t=Nh(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=rc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Nh(this.buf,this.pos)+4294967296*Nh(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Nh(this.buf,this.pos)+4294967296*rc(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=tc(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=tc(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var r,d,N=this.buf;return r=127&(d=N[this.pos++]),d<128?r:(r|=(127&(d=N[this.pos++]))<<7,d<128?r:(r|=(127&(d=N[this.pos++]))<<14,d<128?r:(r|=(127&(d=N[this.pos++]))<<21,d<128?r:function(W,Q,st){var bt,Nt,Ht=st.buf;if(bt=(112&(Nt=Ht[st.pos++]))>>4,Nt<128||(bt|=(127&(Nt=Ht[st.pos++]))<<3,Nt<128)||(bt|=(127&(Nt=Ht[st.pos++]))<<10,Nt<128)||(bt|=(127&(Nt=Ht[st.pos++]))<<17,Nt<128)||(bt|=(127&(Nt=Ht[st.pos++]))<<24,Nt<128)||(bt|=(1&(Nt=Ht[st.pos++]))<<31,Nt<128))return function kl(t,r,d){return d?4294967296*r+(t>>>0):4294967296*(r>>>0)+(t>>>0)}(W,bt,Q);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(d=N[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,r=this.pos;return this.pos=t,t-r>=12&&ic?ic.decode(this.buf.subarray(r,t)):function(d,N,W){for(var Q="",st=N;st<W;){var bt,Nt,Ht,$t=d[st],ee=null,ce=$t>239?4:$t>223?3:$t>191?2:1;if(st+ce>W)break;1===ce?$t<128&&(ee=$t):2===ce?128==(192&(bt=d[st+1]))&&(ee=(31&$t)<<6|63&bt)<=127&&(ee=null):3===ce?(Nt=d[st+2],128==(192&(bt=d[st+1]))&&128==(192&Nt)&&((ee=(15&$t)<<12|(63&bt)<<6|63&Nt)<=2047||ee>=55296&&ee<=57343)&&(ee=null)):4===ce&&(Nt=d[st+2],Ht=d[st+3],128==(192&(bt=d[st+1]))&&128==(192&Nt)&&128==(192&Ht)&&((ee=(15&$t)<<18|(63&bt)<<12|(63&Nt)<<6|63&Ht)<=65535||ee>=1114112)&&(ee=null)),null===ee?(ee=65533,ce=1):ee>65535&&(ee-=65536,Q+=String.fromCharCode(ee>>>10&1023|55296),ee=56320|1023&ee),Q+=String.fromCharCode(ee),st+=ce}return Q}(this.buf,r,t)},readBytes:function(){var t=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,t);return this.pos=t,r},readPackedVarint:function(t,r){if(this.type!==xo.Bytes)return t.push(this.readVarint(r));var d=Va(this);for(t=t||[];this.pos<d;)t.push(this.readVarint(r));return t},readPackedSVarint:function(t){if(this.type!==xo.Bytes)return t.push(this.readSVarint());var r=Va(this);for(t=t||[];this.pos<r;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==xo.Bytes)return t.push(this.readBoolean());var r=Va(this);for(t=t||[];this.pos<r;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==xo.Bytes)return t.push(this.readFloat());var r=Va(this);for(t=t||[];this.pos<r;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==xo.Bytes)return t.push(this.readDouble());var r=Va(this);for(t=t||[];this.pos<r;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==xo.Bytes)return t.push(this.readFixed32());var r=Va(this);for(t=t||[];this.pos<r;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==xo.Bytes)return t.push(this.readSFixed32());var r=Va(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==xo.Bytes)return t.push(this.readFixed64());var r=Va(this);for(t=t||[];this.pos<r;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==xo.Bytes)return t.push(this.readSFixed64());var r=Va(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed64());return t},skip:function(t){var r=7&t;if(r===xo.Varint)for(;this.buf[this.pos++]>127;);else if(r===xo.Bytes)this.pos=this.readVarint()+this.pos;else if(r===xo.Fixed32)this.pos+=4;else{if(r!==xo.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(t,r){this.writeVarint(t<<3|r)},realloc:function(t){for(var r=this.length||16;r<this.pos+t;)r*=2;if(r!==this.length){var d=new Uint8Array(r);d.set(this.buf),this.buf=d,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Dl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Dl(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Dl(this.buf,-1&t,this.pos),Dl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Dl(this.buf,-1&t,this.pos),Dl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(r,d){var N,W,Q,bt;if(r>=0?(N=r%4294967296|0,W=r/4294967296|0):(W=~(-r/4294967296),4294967295^(N=~(-r%4294967296))?N=N+1|0:(N=0,W=W+1|0)),r>=0x10000000000000000||r<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),Q=N,(bt=d).buf[bt.pos++]=127&Q|128,Q>>>=7,bt.buf[bt.pos++]=127&Q|128,Q>>>=7,bt.buf[bt.pos++]=127&Q|128,Q>>>=7,bt.buf[bt.pos++]=127&Q|128,bt.buf[bt.pos]=127&(Q>>>=7),function(Q,st){var bt=(7&Q)<<4;st.buf[st.pos++]|=bt|((Q>>>=3)?128:0),Q&&(st.buf[st.pos++]=127&Q|((Q>>>=7)?128:0),Q&&(st.buf[st.pos++]=127&Q|((Q>>>=7)?128:0),Q&&(st.buf[st.pos++]=127&Q|((Q>>>=7)?128:0),Q&&(st.buf[st.pos++]=127&Q|((Q>>>=7)?128:0),Q&&(st.buf[st.pos++]=127&Q)))))}(W,d)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var r=this.pos;this.pos=function(N,W,Q){for(var st,bt,Nt=0;Nt<W.length;Nt++){if((st=W.charCodeAt(Nt))>55295&&st<57344){if(!bt){st>56319||Nt+1===W.length?(N[Q++]=239,N[Q++]=191,N[Q++]=189):bt=st;continue}if(st<56320){N[Q++]=239,N[Q++]=191,N[Q++]=189,bt=st;continue}st=bt-55296<<10|st-56320|65536,bt=null}else bt&&(N[Q++]=239,N[Q++]=191,N[Q++]=189,bt=null);st<128?N[Q++]=st:(st<2048?N[Q++]=st>>6|192:(st<65536?N[Q++]=st>>12|224:(N[Q++]=st>>18|240,N[Q++]=st>>12&63|128),N[Q++]=st>>6&63|128),N[Q++]=63&st|128)}return Q}(this.buf,t,this.pos);var d=this.pos-r;d>=128&&nc(r,d,this),this.pos=r-1,this.writeVarint(d),this.pos+=d},writeFloat:function(t){this.realloc(4),ec(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),ec(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var r=t.length;this.writeVarint(r),this.realloc(r);for(var d=0;d<r;d++)this.buf[this.pos++]=t[d]},writeRawMessage:function(t,r){this.pos++;var d=this.pos;t(r,this);var N=this.pos-d;N>=128&&nc(d,N,this),this.pos=d-1,this.writeVarint(N),this.pos+=N},writeMessage:function(t,r,d){this.writeTag(t,xo.Bytes),this.writeRawMessage(r,d)},writePackedVarint:function(t,r){r.length&&this.writeMessage(t,Yd,r)},writePackedSVarint:function(t,r){r.length&&this.writeMessage(t,Zd,r)},writePackedBoolean:function(t,r){r.length&&this.writeMessage(t,Jd,r)},writePackedFloat:function(t,r){r.length&&this.writeMessage(t,qd,r)},writePackedDouble:function(t,r){r.length&&this.writeMessage(t,Kd,r)},writePackedFixed32:function(t,r){r.length&&this.writeMessage(t,$d,r)},writePackedSFixed32:function(t,r){r.length&&this.writeMessage(t,Qd,r)},writePackedFixed64:function(t,r){r.length&&this.writeMessage(t,tp,r)},writePackedSFixed64:function(t,r){r.length&&this.writeMessage(t,ep,r)},writeBytesField:function(t,r){this.writeTag(t,xo.Bytes),this.writeBytes(r)},writeFixed32Field:function(t,r){this.writeTag(t,xo.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(t,r){this.writeTag(t,xo.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(t,r){this.writeTag(t,xo.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(t,r){this.writeTag(t,xo.Fixed64),this.writeSFixed64(r)},writeVarintField:function(t,r){this.writeTag(t,xo.Varint),this.writeVarint(r)},writeSVarintField:function(t,r){this.writeTag(t,xo.Varint),this.writeSVarint(r)},writeStringField:function(t,r){this.writeTag(t,xo.Bytes),this.writeString(r)},writeFloatField:function(t,r){this.writeTag(t,xo.Fixed32),this.writeFloat(r)},writeDoubleField:function(t,r){this.writeTag(t,xo.Fixed64),this.writeDouble(r)},writeBooleanField:function(t,r){this.writeVarintField(t,Boolean(r))}};var Rh=function(t,r){var d=r.pixelRatio,N=r.version,W=r.stretchX,Q=r.stretchY,st=r.content;this.paddedRect=t,this.pixelRatio=d,this.stretchX=W,this.stretchY=Q,this.content=st,this.version=N},uh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};uh.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},uh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},uh.tlbr.get=function(){return this.tl.concat(this.br)},uh.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Rh.prototype,uh);var ch=function(t,r){var d={},N={};this.haveRenderCallbacks=[];var W=[];this.addImages(t,d,W),this.addImages(r,N,W);var Q=oc(W),st=new Hs({width:Q.w||1,height:Q.h||1});for(var bt in t){var Nt=t[bt],Ht=d[bt].paddedRect;Hs.copy(Nt.data,st,{x:0,y:0},{x:Ht.x+1,y:Ht.y+1},Nt.data)}for(var $t in r){var ee=r[$t],ce=N[$t].paddedRect,ge=ce.x+1,Ee=ce.y+1,Le=ee.data.width,qe=ee.data.height;Hs.copy(ee.data,st,{x:0,y:0},{x:ge,y:Ee},ee.data),Hs.copy(ee.data,st,{x:0,y:qe-1},{x:ge,y:Ee-1},{width:Le,height:1}),Hs.copy(ee.data,st,{x:0,y:0},{x:ge,y:Ee+qe},{width:Le,height:1}),Hs.copy(ee.data,st,{x:Le-1,y:0},{x:ge-1,y:Ee},{width:1,height:qe}),Hs.copy(ee.data,st,{x:0,y:0},{x:ge+Le,y:Ee},{width:1,height:qe})}this.image=st,this.iconPositions=d,this.patternPositions=N};ch.prototype.addImages=function(t,r,d){for(var N in t){var W=t[N],Q={x:0,y:0,w:W.data.width+2,h:W.data.height+2};d.push(Q),r[N]=new Rh(Q,W),W.hasRenderCallback&&this.haveRenderCallbacks.push(N)}},ch.prototype.patchUpdatedImages=function(t,r){for(var d in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[d],t.getImage(d),r),this.patchUpdatedImage(this.patternPositions[d],t.getImage(d),r)},ch.prototype.patchUpdatedImage=function(t,r,d){if(t&&r&&t.version!==r.version){t.version=r.version;var N=t.tl;d.update(r.data,void 0,{x:N[0],y:N[1]})}},sn("ImagePosition",Rh),sn("ImageAtlas",ch);var na={horizontal:1,vertical:2,horizontalOnly:3},El=function(){this.scale=1,this.fontStack="",this.imageName=null};El.forText=function(t,r){var d=new El;return d.scale=t||1,d.fontStack=r,d},El.forImage=function(t){var r=new El;return r.imageName=t,r};var Ps=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Bh(t,r,d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee,Le){var qe,Ve=Ps.fromFeature(t,W);ee===na.vertical&&Ve.verticalizePunctuation();var hi=bs.processBidirectionalText,xi=bs.processStyledBidirectionalText;if(hi&&1===Ve.sections.length){qe=[];for(var Mi=0,Ei=hi(Ve.toString(),_u(Ve,Ht,Q,r,N,ge,Ee));Mi<Ei.length;Mi+=1){var Ui=Ei[Mi],ln=new Ps;ln.text=Ui,ln.sections=Ve.sections;for(var yn=0;yn<Ui.length;yn++)ln.sectionIndex.push(0);qe.push(ln)}}else if(xi){qe=[];for(var Un=0,Tn=xi(Ve.text,Ve.sectionIndex,_u(Ve,Ht,Q,r,N,ge,Ee));Un<Tn.length;Un+=1){var Xn=Tn[Un],Sn=new Ps;Sn.text=Xn[0],Sn.sectionIndex=Xn[1],Sn.sections=Ve.sections,qe.push(Sn)}}else qe=function(Nn,Lr){for(var xr=[],Hr=Nn.text,Yn=0,eo=0,Ao=Lr;eo<Ao.length;eo+=1){var zo=Ao[eo];xr.push(Nn.substring(Yn,zo)),Yn=zo}return Yn<Hr.length&&xr.push(Nn.substring(Yn,Hr.length)),xr}(Ve,_u(Ve,Ht,Q,r,N,ge,Ee));var Mr=[],nr={positionedLines:Mr,text:Ve.toString(),top:$t[1],bottom:$t[1],left:$t[0],right:$t[0],writingMode:ee,iconsInText:!1,verticalizable:!1};return function(Nn,Lr,xr,Hr,Yn,eo,Ao,zo,Lo,Po,Fo,rs){for(var os=0,Ms=-17,ps=0,ks=0,Vo="right"===zo?1:"left"===zo?0:.5,fs=0,Rr=0,vo=Yn;Rr<vo.length;Rr+=1){var lo=vo[Rr];lo.trim();var Yr=lo.getMaxScale(),Ns=24*(Yr-1),Ts={positionedGlyphs:[],lineOffset:0};Nn.positionedLines[fs]=Ts;var bo=Ts.positionedGlyphs,Zo=0;if(lo.length()){for(var Ss=0;Ss<lo.length();Ss++){var io=lo.getSection(Ss),La=lo.getSectionIndex(Ss),ra=lo.getCharCode(Ss),Oa=0,Ho=null,Ia=null,ma=null,Fl=24,vl=!(Lo===na.horizontal||!Fo&&!Es(ra)||Fo&&(zh[ra]||(Xa=ra,an.Arabic(Xa)||an["Arabic Supplement"](Xa)||an["Arabic Extended-A"](Xa)||an["Arabic Presentation Forms-A"](Xa)||an["Arabic Presentation Forms-B"](Xa))));if(io.imageName){var jl=Hr[io.imageName];if(!jl)continue;ma=io.imageName,Nn.iconsInText=Nn.iconsInText||!0,Ia=jl.paddedRect;var Wa=jl.displaySize;io.scale=24*io.scale/rs,Oa=Ns+(24-Wa[1]*io.scale),Fl=(Ho={width:Wa[0],height:Wa[1],left:1,top:-3,advance:vl?Wa[1]:Wa[0]}).advance;var Ul=vl?Wa[0]*io.scale-24*Yr:Wa[1]*io.scale-24*Yr;Ul>0&&Ul>Zo&&(Zo=Ul)}else{var Yh=xr[io.fontStack],Vl=Yh&&Yh[ra];if(Vl&&Vl.rect)Ia=Vl.rect,Ho=Vl.metrics;else{var fh=Lr[io.fontStack],Zh=fh&&fh[ra];if(!Zh)continue;Ho=Zh.metrics}Oa=24*(Yr-io.scale)}vl?(Nn.verticalizable=!0,bo.push({glyph:ra,imageName:ma,x:os,y:Ms+Oa,vertical:vl,scale:io.scale,fontStack:io.fontStack,sectionIndex:La,metrics:Ho,rect:Ia}),os+=Fl*io.scale+Po):(bo.push({glyph:ra,imageName:ma,x:os,y:Ms+Oa,vertical:vl,scale:io.scale,fontStack:io.fontStack,sectionIndex:La,metrics:Ho,rect:Ia}),os+=Ho.advance*io.scale+Po)}0!==bo.length&&(ps=Math.max(os-Po,ps),sp(bo,0,bo.length-1,Vo,Zo)),os=0;var qh=eo*Yr+Zo;Ts.lineOffset=Math.max(Zo,Ns),Ms+=qh,ks=Math.max(qh,ks),++fs}else Ms+=eo,++fs}var Xa,mh=Ms- -17,Hl=xu(Ao),nl=Hl.horizontalAlign,Gl=Hl.verticalAlign;(function(Kh,Jh,gh,yh,$h,vh,_h,xh,Qh){var Wl,tu=(Jh-gh)*$h;Wl=vh!==_h?-xh*yh- -17:(-yh*Qh+.5)*_h;for(var Xl=0,bh=Kh;Xl<bh.length;Xl+=1)for(var _l=0,wh=bh[Xl].positionedGlyphs;_l<wh.length;_l+=1){var Yl=wh[_l];Yl.x+=tu,Yl.y+=Wl}})(Nn.positionedLines,Vo,nl,Gl,ps,ks,eo,mh,Yn.length),Nn.top+=-Gl*mh,Nn.bottom=Nn.top+mh,Nn.left+=-nl*ps,Nn.right=Nn.left+ps}(nr,r,d,N,qe,st,bt,Nt,ee,Ht,ce,Le),!function(Nn){for(var Lr=0,xr=Nn;Lr<xr.length;Lr+=1)if(0!==xr[Lr].positionedGlyphs.length)return!1;return!0}(Mr)&&nr}Ps.fromFeature=function(t,r){for(var d=new Ps,N=0;N<t.sections.length;N++){var W=t.sections[N];W.image?d.addImageSection(W):d.addTextSection(W,r)}return d},Ps.prototype.length=function(){return this.text.length},Ps.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Ps.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Ps.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Ps.prototype.verticalizePunctuation=function(){this.text=function(t){for(var r="",d=0;d<t.length;d++){var N=t.charCodeAt(d+1)||null,W=t.charCodeAt(d-1)||null;r+=N&&la(N)&&!hh[t[d+1]]||W&&la(W)&&!hh[t[d-1]]||!hh[t[d]]?t[d]:hh[t[d]]}return r}(this.text)},Ps.prototype.trim=function(){for(var t=0,r=0;r<this.text.length&&zh[this.text.charCodeAt(r)];r++)t++;for(var d=this.text.length,N=this.text.length-1;N>=0&&N>=t&&zh[this.text.charCodeAt(N)];N--)d--;this.text=this.text.substring(t,d),this.sectionIndex=this.sectionIndex.slice(t,d)},Ps.prototype.substring=function(t,r){var d=new Ps;return d.text=this.text.substring(t,r),d.sectionIndex=this.sectionIndex.slice(t,r),d.sections=this.sections,d},Ps.prototype.toString=function(){return this.text},Ps.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(r,d){return Math.max(r,t.sections[d].scale)},0)},Ps.prototype.addTextSection=function(t,r){this.text+=t.text,this.sections.push(El.forText(t.scale,t.fontStack||r));for(var d=this.sections.length-1,N=0;N<t.text.length;++N)this.sectionIndex.push(d)},Ps.prototype.addImageSection=function(t){var r=t.image?t.image.name:"";if(0!==r.length){var d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(El.forImage(r)),this.sectionIndex.push(this.sections.length-1)):dt("Reached maximum number of images 6401")}else dt("Can't add FormattedSection with an empty image.")},Ps.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var zh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},$s={};function sc(t,r,d,N,W,Q){if(r.imageName){var st=N[r.imageName];return st?st.displaySize[0]*r.scale*24/Q+W:0}var bt=d[r.fontStack],Nt=bt&&bt[t];return Nt?Nt.metrics.advance*r.scale+W:0}function ac(t,r,d,N){var W=Math.pow(t-r,2);return N?t<r?W/2:2*W:W+Math.abs(d)*d}function op(t,r,d){var N=0;return 10===t&&(N-=1e4),d&&(N+=150),40!==t&&65288!==t||(N+=50),41!==r&&65289!==r||(N+=50),N}function lc(t,r,d,N,W,Q){for(var st=null,bt=ac(r,d,W,Q),Nt=0,Ht=N;Nt<Ht.length;Nt+=1){var $t=Ht[Nt],ee=ac(r-$t.x,d,W,Q)+$t.badness;ee<=bt&&(st=$t,bt=ee)}return{index:t,x:r,priorBreak:st,badness:bt}}function _u(t,r,d,N,W,Q,st){if("point"!==Q)return[];if(!t)return[];for(var bt,Nt=[],Ht=function(qe,Ve,hi,xi,Mi,Ei){for(var Ui=0,ln=0;ln<qe.length();ln++){var yn=qe.getSection(ln);Ui+=sc(qe.getCharCode(ln),yn,xi,Mi,Ve,Ei)}return Ui/Math.max(1,Math.ceil(Ui/hi))}(t,r,d,N,W,st),$t=t.text.indexOf("\u200b")>=0,ee=0,ce=0;ce<t.length();ce++){var ge=t.getSection(ce),Ee=t.getCharCode(ce);if(zh[Ee]||(ee+=sc(Ee,ge,N,W,r,st)),ce<t.length()-1){var Le=!((bt=Ee)<11904||!(an["Bopomofo Extended"](bt)||an.Bopomofo(bt)||an["CJK Compatibility Forms"](bt)||an["CJK Compatibility Ideographs"](bt)||an["CJK Compatibility"](bt)||an["CJK Radicals Supplement"](bt)||an["CJK Strokes"](bt)||an["CJK Symbols and Punctuation"](bt)||an["CJK Unified Ideographs Extension A"](bt)||an["CJK Unified Ideographs"](bt)||an["Enclosed CJK Letters and Months"](bt)||an["Halfwidth and Fullwidth Forms"](bt)||an.Hiragana(bt)||an["Ideographic Description Characters"](bt)||an["Kangxi Radicals"](bt)||an["Katakana Phonetic Extensions"](bt)||an.Katakana(bt)||an["Vertical Forms"](bt)||an["Yi Radicals"](bt)||an["Yi Syllables"](bt)));($s[Ee]||Le||ge.imageName)&&Nt.push(lc(ce+1,ee,Ht,Nt,op(Ee,t.getCharCode(ce+1),Le&&$t),!1))}}return function qe(Ve){return Ve?qe(Ve.priorBreak).concat(Ve.index):[]}(lc(t.length(),ee,Ht,Nt,0,!0))}function xu(t){var r=.5,d=.5;switch(t){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:r,verticalAlign:d}}function sp(t,r,d,N,W){if(N||W)for(var Q=t[d],st=(t[d].x+Q.metrics.advance*Q.scale)*N,bt=r;bt<=d;bt++)t[bt].x-=st,t[bt].y+=W}function hc(t,r,d,N,W,Q){var st,bt=t.image;if(bt.content){var Nt=bt.content,Ht=bt.pixelRatio||1;st=[Nt[0]/Ht,Nt[1]/Ht,bt.displaySize[0]-Nt[2]/Ht,bt.displaySize[1]-Nt[3]/Ht]}var $t,ee,ce,ge,Ee=r.left*Q,Le=r.right*Q;"width"===d||"both"===d?(ge=W[0]+Ee-N[3],ee=W[0]+Le+N[1]):ee=(ge=W[0]+(Ee+Le-bt.displaySize[0])/2)+bt.displaySize[0];var qe=r.top*Q,Ve=r.bottom*Q;return"height"===d||"both"===d?($t=W[1]+qe-N[0],ce=W[1]+Ve+N[2]):ce=($t=W[1]+(qe+Ve-bt.displaySize[1])/2)+bt.displaySize[1],{image:bt,top:$t,right:ee,bottom:ce,left:ge,collisionPadding:st}}$s[10]=!0,$s[32]=!0,$s[38]=!0,$s[40]=!0,$s[41]=!0,$s[43]=!0,$s[45]=!0,$s[47]=!0,$s[173]=!0,$s[183]=!0,$s[8203]=!0,$s[8208]=!0,$s[8211]=!0,$s[8231]=!0;var Ll=function(t){function r(d,N,W,Q){t.call(this,d,N),this.angle=W,void 0!==Q&&(this.segment=Q)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.clone=function(){return new r(this.x,this.y,this.angle,this.segment)},r}(m);function bu(t,r){var d=r.expression;if("constant"===d.kind)return{kind:"constant",layoutSize:d.evaluate(new Er(t+1))};if("source"===d.kind)return{kind:"source"};for(var N=d.zoomStops,W=d.interpolationType,Q=0;Q<N.length&&N[Q]<=t;)Q++;for(var st=Q=Math.max(0,Q-1);st<N.length&&N[st]<t+1;)st++;st=Math.min(N.length-1,st);var bt=N[Q],Nt=N[st];return"composite"===d.kind?{kind:"composite",minZoom:bt,maxZoom:Nt,interpolationType:W}:{kind:"camera",minZoom:bt,maxZoom:Nt,minSize:d.evaluate(new Er(bt)),maxSize:d.evaluate(new Er(Nt)),interpolationType:W}}function uc(t,r,d){var N=r.uSize,W=d.lowerSize;return"source"===t.kind?W/128:"composite"===t.kind?on(W/128,d.upperSize/128,r.uSizeT):N}function cc(t,r){var d=0,N=0;if("constant"===t.kind)N=t.layoutSize;else if("source"!==t.kind){var W=t.interpolationType,Q=W?B(Ln.interpolationFactor(W,r,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?N=on(t.minSize,t.maxSize,Q):d=Q}return{uSizeT:d,uSize:N}}sn("Anchor",Ll);var ap=Object.freeze({__proto__:null,getSizeData:bu,evaluateSizeForFeature:uc,evaluateSizeForZoom:cc,SIZE_PACK_FACTOR:128});function dc(t,r,d,N,W){if(void 0===r.segment)return!0;for(var Q=r,st=r.segment+1,bt=0;bt>-d/2;){if(--st<0)return!1;bt-=t[st].dist(Q),Q=t[st]}bt+=t[st].dist(t[st+1]),st++;for(var Nt=[],Ht=0;bt<d/2;){var $t=t[st],ee=t[st+1];if(!ee)return!1;var ce=t[st-1].angleTo($t)-$t.angleTo(ee);for(ce=Math.abs((ce+3*Math.PI)%(2*Math.PI)-Math.PI),Nt.push({distance:bt,angleDelta:ce}),Ht+=ce;bt-Nt[0].distance>N;)Ht-=Nt.shift().angleDelta;if(Ht>W)return!1;st++,bt+=$t.dist(ee)}return!0}function pc(t){for(var r=0,d=0;d<t.length-1;d++)r+=t[d].dist(t[d+1]);return r}function fc(t,r,d){return t?.6*r*d:0}function mc(t,r){return Math.max(t?t.right-t.left:0,r?r.right-r.left:0)}function lp(t,r,d,N,W,Q){for(var st=fc(d,W,Q),bt=mc(d,N)*Q,Nt=0,Ht=pc(t)/2,$t=0;$t<t.length-1;$t++){var ee=t[$t],ce=t[$t+1],ge=ee.dist(ce);if(Nt+ge>Ht){var Ee=(Ht-Nt)/ge,Le=on(ee.x,ce.x,Ee),qe=on(ee.y,ce.y,Ee),Ve=new Ll(Le,qe,ce.angleTo(ee),$t);return Ve._round(),!st||dc(t,Ve,bt,st,r)?Ve:void 0}Nt+=ge}}function hp(t,r,d,N,W,Q,st,bt,Nt){var Ht=fc(N,Q,st),$t=mc(N,W),ee=$t*st,ce=0===t[0].x||t[0].x===Nt||0===t[0].y||t[0].y===Nt;return r-ee<r/4&&(r=ee+r/4),function ge(Ee,Le,qe,Ve,hi,xi,Mi,Ei,Ui){for(var ln=xi/2,yn=pc(Ee),Un=0,Tn=Le-qe,Xn=[],Sn=0;Sn<Ee.length-1;Sn++){for(var Mr=Ee[Sn],nr=Ee[Sn+1],Nn=Mr.dist(nr),Lr=nr.angleTo(Mr);Tn+qe<Un+Nn;){var xr=((Tn+=qe)-Un)/Nn,Hr=on(Mr.x,nr.x,xr),Yn=on(Mr.y,nr.y,xr);if(Hr>=0&&Hr<Ui&&Yn>=0&&Yn<Ui&&Tn-ln>=0&&Tn+ln<=yn){var eo=new Ll(Hr,Yn,Lr,Sn);eo._round(),Ve&&!dc(Ee,eo,xi,Ve,hi)||Xn.push(eo)}}Un+=Nn}return Ei||Xn.length||Mi||(Xn=ge(Ee,Un/2,qe,Ve,hi,xi,Mi,!0,Ui)),Xn}(t,ce?r/2*bt%r:($t/2+2*Q)*st*bt%r,r,Ht,d,ee,ce,!1,Nt)}function gc(t,r,d,N,W){for(var Q=[],st=0;st<t.length;st++)for(var bt=t[st],Nt=void 0,Ht=0;Ht<bt.length-1;Ht++){var $t=bt[Ht],ee=bt[Ht+1];$t.x<r&&ee.x<r||($t.x<r?$t=new m(r,$t.y+(r-$t.x)/(ee.x-$t.x)*(ee.y-$t.y))._round():ee.x<r&&(ee=new m(r,$t.y+(r-$t.x)/(ee.x-$t.x)*(ee.y-$t.y))._round()),$t.y<d&&ee.y<d||($t.y<d?$t=new m($t.x+(d-$t.y)/(ee.y-$t.y)*(ee.x-$t.x),d)._round():ee.y<d&&(ee=new m($t.x+(d-$t.y)/(ee.y-$t.y)*(ee.x-$t.x),d)._round()),$t.x>=N&&ee.x>=N||($t.x>=N?$t=new m(N,$t.y+(N-$t.x)/(ee.x-$t.x)*(ee.y-$t.y))._round():ee.x>=N&&(ee=new m(N,$t.y+(N-$t.x)/(ee.x-$t.x)*(ee.y-$t.y))._round()),$t.y>=W&&ee.y>=W||($t.y>=W?$t=new m($t.x+(W-$t.y)/(ee.y-$t.y)*(ee.x-$t.x),W)._round():ee.y>=W&&(ee=new m($t.x+(W-$t.y)/(ee.y-$t.y)*(ee.x-$t.x),W)._round()),Nt&&$t.equals(Nt[Nt.length-1])||Q.push(Nt=[$t]),Nt.push(ee)))))}return Q}function yc(t,r,d,N){var W=[],Q=t.image,st=Q.pixelRatio,bt=Q.paddedRect.w-2,Nt=Q.paddedRect.h-2,Ht=t.right-t.left,$t=t.bottom-t.top,ee=Q.stretchX||[[0,bt]],ce=Q.stretchY||[[0,Nt]],ge=function(Hr,Yn){return Hr+Yn[1]-Yn[0]},Ee=ee.reduce(ge,0),Le=ce.reduce(ge,0),qe=bt-Ee,Ve=Nt-Le,hi=0,xi=Ee,Mi=0,Ei=Le,Ui=0,ln=qe,yn=0,Un=Ve;if(Q.content&&N){var Tn=Q.content;hi=Fh(ee,0,Tn[0]),Mi=Fh(ce,0,Tn[1]),xi=Fh(ee,Tn[0],Tn[2]),Ei=Fh(ce,Tn[1],Tn[3]),Ui=Tn[0]-hi,yn=Tn[1]-Mi,ln=Tn[2]-Tn[0]-xi,Un=Tn[3]-Tn[1]-Ei}var Xn=function(Hr,Yn,eo,Ao){var zo=jh(Hr.stretch-hi,xi,Ht,t.left),Lo=Uh(Hr.fixed-Ui,ln,Hr.stretch,Ee),Po=jh(Yn.stretch-Mi,Ei,$t,t.top),Fo=Uh(Yn.fixed-yn,Un,Yn.stretch,Le),rs=jh(eo.stretch-hi,xi,Ht,t.left),os=Uh(eo.fixed-Ui,ln,eo.stretch,Ee),Ms=jh(Ao.stretch-Mi,Ei,$t,t.top),ps=Uh(Ao.fixed-yn,Un,Ao.stretch,Le),ks=new m(zo,Po),Vo=new m(rs,Po),fs=new m(rs,Ms),Rr=new m(zo,Ms),vo=new m(Lo/st,Fo/st),lo=new m(os/st,ps/st),Yr=r*Math.PI/180;if(Yr){var Ns=Math.sin(Yr),Ts=Math.cos(Yr),bo=[Ts,-Ns,Ns,Ts];ks._matMult(bo),Vo._matMult(bo),Rr._matMult(bo),fs._matMult(bo)}var Zo=Hr.stretch+Hr.fixed,Ss=Yn.stretch+Yn.fixed;return{tl:ks,tr:Vo,bl:Rr,br:fs,tex:{x:Q.paddedRect.x+1+Zo,y:Q.paddedRect.y+1+Ss,w:eo.stretch+eo.fixed-Zo,h:Ao.stretch+Ao.fixed-Ss},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:vo,pixelOffsetBR:lo,minFontScaleX:ln/st/Ht,minFontScaleY:Un/st/$t,isSDF:d}};if(N&&(Q.stretchX||Q.stretchY))for(var Sn=vc(ee,qe,Ee),Mr=vc(ce,Ve,Le),nr=0;nr<Sn.length-1;nr++)for(var Nn=Sn[nr],Lr=Sn[nr+1],xr=0;xr<Mr.length-1;xr++)W.push(Xn(Nn,Mr[xr],Lr,Mr[xr+1]));else W.push(Xn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:bt+1},{fixed:0,stretch:Nt+1}));return W}function Fh(t,r,d){for(var N=0,W=0,Q=t;W<Q.length;W+=1){var st=Q[W];N+=Math.max(r,Math.min(d,st[1]))-Math.max(r,Math.min(d,st[0]))}return N}function vc(t,r,d){for(var N=[{fixed:-1,stretch:0}],W=0,Q=t;W<Q.length;W+=1){var st=Q[W],bt=st[0],Nt=st[1],Ht=N[N.length-1];N.push({fixed:bt-Ht.stretch,stretch:Ht.stretch}),N.push({fixed:bt-Ht.stretch,stretch:Ht.stretch+(Nt-bt)})}return N.push({fixed:r+1,stretch:d}),N}function jh(t,r,d,N){return t/r*d+N}function Uh(t,r,d,N){return t-r*d/N}var Vh=function(t,r,d,N,W,Q,st,bt,Nt,Ht){if(this.boxStartIndex=t.length,Nt){var $t=Q.top,ee=Q.bottom,ce=Q.collisionPadding;ce&&($t-=ce[1],ee+=ce[3]);var ge=ee-$t;ge>0&&(ge=Math.max(10,ge),this.circleDiameter=ge)}else{var Ee=Q.top*st-bt,Le=Q.bottom*st+bt,qe=Q.left*st-bt,Ve=Q.right*st+bt,hi=Q.collisionPadding;if(hi&&(qe-=hi[0]*st,Ee-=hi[1]*st,Ve+=hi[2]*st,Le+=hi[3]*st),Ht){var xi=new m(qe,Ee),Mi=new m(Ve,Ee),Ei=new m(qe,Le),Ui=new m(Ve,Le),ln=Ht*Math.PI/180;xi._rotate(ln),Mi._rotate(ln),Ei._rotate(ln),Ui._rotate(ln),qe=Math.min(xi.x,Mi.x,Ei.x,Ui.x),Ve=Math.max(xi.x,Mi.x,Ei.x,Ui.x),Ee=Math.min(xi.y,Mi.y,Ei.y,Ui.y),Le=Math.max(xi.y,Mi.y,Ei.y,Ui.y)}t.emplaceBack(r.x,r.y,qe,Ee,Ve,Le,d,N,W)}this.boxEndIndex=t.length},Ol=function(t,r){if(void 0===t&&(t=[]),void 0===r&&(r=up),this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(var d=(this.length>>1)-1;d>=0;d--)this._down(d)};function up(t,r){return t<r?-1:t>r?1:0}function cp(t,r,d){void 0===r&&(r=1),void 0===d&&(d=!1);for(var N=1/0,W=1/0,Q=-1/0,st=-1/0,bt=t[0],Nt=0;Nt<bt.length;Nt++){var Ht=bt[Nt];(!Nt||Ht.x<N)&&(N=Ht.x),(!Nt||Ht.y<W)&&(W=Ht.y),(!Nt||Ht.x>Q)&&(Q=Ht.x),(!Nt||Ht.y>st)&&(st=Ht.y)}var $t=Math.min(Q-N,st-W),ee=$t/2,ce=new Ol([],dp);if(0===$t)return new m(N,W);for(var ge=N;ge<Q;ge+=$t)for(var Ee=W;Ee<st;Ee+=$t)ce.push(new Il(ge+ee,Ee+ee,ee,t));for(var Le=function(hi){for(var xi=0,Mi=0,Ei=0,Ui=hi[0],ln=0,yn=Ui.length,Un=yn-1;ln<yn;Un=ln++){var Tn=Ui[ln],Xn=Ui[Un],Sn=Tn.x*Xn.y-Xn.x*Tn.y;Mi+=(Tn.x+Xn.x)*Sn,Ei+=(Tn.y+Xn.y)*Sn,xi+=3*Sn}return new Il(Mi/xi,Ei/xi,0,hi)}(t),qe=ce.length;ce.length;){var Ve=ce.pop();(Ve.d>Le.d||!Le.d)&&(Le=Ve,d&&console.log("found best %d after %d probes",Math.round(1e4*Ve.d)/1e4,qe)),Ve.max-Le.d<=r||(ce.push(new Il(Ve.p.x-(ee=Ve.h/2),Ve.p.y-ee,ee,t)),ce.push(new Il(Ve.p.x+ee,Ve.p.y-ee,ee,t)),ce.push(new Il(Ve.p.x-ee,Ve.p.y+ee,ee,t)),ce.push(new Il(Ve.p.x+ee,Ve.p.y+ee,ee,t)),qe+=4)}return d&&(console.log("num probes: "+qe),console.log("best distance: "+Le.d)),Le.p}function dp(t,r){return r.max-t.max}function Il(t,r,d,N){this.p=new m(t,r),this.h=d,this.d=function(W,Q){for(var st=!1,bt=1/0,Nt=0;Nt<Q.length;Nt++)for(var Ht=Q[Nt],$t=0,ee=Ht.length,ce=ee-1;$t<ee;ce=$t++){var ge=Ht[$t],Ee=Ht[ce];ge.y>W.y!=Ee.y>W.y&&W.x<(Ee.x-ge.x)*(W.y-ge.y)/(Ee.y-ge.y)+ge.x&&(st=!st),bt=Math.min(bt,Qa(W,ge,Ee))}return(st?1:-1)*Math.sqrt(bt)}(this.p,N),this.max=this.d+this.h*Math.SQRT2}Ol.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Ol.prototype.pop=function(){if(0!==this.length){var t=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),t}},Ol.prototype.peek=function(){return this.data[0]},Ol.prototype._up=function(t){for(var r=this.data,d=this.compare,N=r[t];t>0;){var W=t-1>>1,Q=r[W];if(d(N,Q)>=0)break;r[t]=Q,t=W}r[t]=N},Ol.prototype._down=function(t){for(var r=this.data,d=this.compare,N=this.length>>1,W=r[t];t<N;){var Q=1+(t<<1),st=r[Q],bt=Q+1;if(bt<this.length&&d(r[bt],st)<0&&(Q=bt,st=r[bt]),d(st,W)>=0)break;r[t]=st,t=Q}r[t]=W};var wu=Number.POSITIVE_INFINITY;function _c(t,r){return r[1]!==wu?function(d,N,W){var Q=0,st=0;switch(N=Math.abs(N),W=Math.abs(W),d){case"top-right":case"top-left":case"top":st=W-7;break;case"bottom-right":case"bottom-left":case"bottom":st=7-W}switch(d){case"top-right":case"bottom-right":case"right":Q=-N;break;case"top-left":case"bottom-left":case"left":Q=N}return[Q,st]}(t,r[0],r[1]):function(d,N){var W=0,Q=0;N<0&&(N=0);var st=N/Math.sqrt(2);switch(d){case"top-right":case"top-left":Q=st-7;break;case"bottom-right":case"bottom-left":Q=7-st;break;case"bottom":Q=7-N;break;case"top":Q=N-7}switch(d){case"top-right":case"bottom-right":W=-st;break;case"top-left":case"bottom-left":W=st;break;case"left":W=N;break;case"right":W=-N}return[W,Q]}(t,r[0])}function Tu(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function xc(t,r,d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee){var Le=function(Mi,Ei,Ui,ln,yn,Un,Tn,Xn){for(var Sn=ln.layout.get("text-rotate").evaluate(Un,{})*Math.PI/180,Mr=[],nr=0,Nn=Ei.positionedLines;nr<Nn.length;nr+=1)for(var Lr=Nn[nr],xr=0,Hr=Lr.positionedGlyphs;xr<Hr.length;xr+=1){var Yn=Hr[xr];if(Yn.rect){var eo=Yn.rect||{},Ao=4,zo=!0,Lo=1,Po=0,Fo=(yn||Xn)&&Yn.vertical,rs=Yn.metrics.advance*Yn.scale/2;if(Xn&&Ei.verticalizable&&(Po=Lr.lineOffset/2-(Yn.imageName?-(24-Yn.metrics.width*Yn.scale)/2:24*(Yn.scale-1))),Yn.imageName){var os=Tn[Yn.imageName];zo=os.sdf,Ao=1/(Lo=os.pixelRatio)}var Ms=yn?[Yn.x+rs,Yn.y]:[0,0],ps=yn?[0,0]:[Yn.x+rs+Ui[0],Yn.y+Ui[1]-Po],ks=[0,0];Fo&&(ks=ps,ps=[0,0]);var Vo=(Yn.metrics.left-Ao)*Yn.scale-rs+ps[0],fs=(-Yn.metrics.top-Ao)*Yn.scale+ps[1],Rr=Vo+eo.w*Yn.scale/Lo,vo=fs+eo.h*Yn.scale/Lo,lo=new m(Vo,fs),Yr=new m(Rr,fs),Ns=new m(Vo,vo),Ts=new m(Rr,vo);if(Fo){var bo=new m(-rs,rs- -17),Zo=-Math.PI/2,Ss=12-rs,io=new m(22-Ss,-(Yn.imageName?Ss:0)),La=new(Function.prototype.bind.apply(m,[null].concat(ks)));lo._rotateAround(Zo,bo)._add(io)._add(La),Yr._rotateAround(Zo,bo)._add(io)._add(La),Ns._rotateAround(Zo,bo)._add(io)._add(La),Ts._rotateAround(Zo,bo)._add(io)._add(La)}if(Sn){var ra=Math.sin(Sn),Oa=Math.cos(Sn),Ho=[Oa,-ra,ra,Oa];lo._matMult(Ho),Yr._matMult(Ho),Ns._matMult(Ho),Ts._matMult(Ho)}var Ia=new m(0,0),ma=new m(0,0);Mr.push({tl:lo,tr:Yr,bl:Ns,br:Ts,tex:eo,writingMode:Ei.writingMode,glyphOffset:Ms,sectionIndex:Yn.sectionIndex,isSDF:zo,pixelOffsetTL:Ia,pixelOffsetBR:ma,minFontScaleX:0,minFontScaleY:0})}}return Mr}(0,d,bt,W,Q,st,N,t.allowVerticalPlacement),qe=t.textSizeData,Ve=null;"source"===qe.kind?(Ve=[128*W.layout.get("text-size").evaluate(st,{})])[0]>32640&&dt(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===qe.kind&&((Ve=[128*ge.compositeTextSizes[0].evaluate(st,{},Ee),128*ge.compositeTextSizes[1].evaluate(st,{},Ee)])[0]>32640||Ve[1]>32640)&&dt(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,Le,Ve,bt,Q,st,Ht,r,Nt.lineStartIndex,Nt.lineLength,ce,Ee);for(var hi=0,xi=$t;hi<xi.length;hi+=1)ee[xi[hi]]=t.text.placedSymbolArray.length-1;return 4*Le.length}function bc(t){for(var r in t)return t[r];return null}function pp(t,r,d,N){var W=t.compareText;if(r in W){for(var Q=W[r],st=Q.length-1;st>=0;st--)if(N.dist(Q[st])<d)return!0}else W[r]=[];return W[r].push(N),!1}var fp=Ml.VectorTileFeature.types,mp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Hh(t,r,d,N,W,Q,st,bt,Nt,Ht,$t,ee,ce){var ge=bt?Math.min(32640,Math.round(bt[0])):0,Ee=bt?Math.min(32640,Math.round(bt[1])):0;t.emplaceBack(r,d,Math.round(32*N),Math.round(32*W),Q,st,(ge<<1)+(Nt?1:0),Ee,16*Ht,16*$t,256*ee,256*ce)}function Su(t,r,d){t.emplaceBack(r.x,r.y,d),t.emplaceBack(r.x,r.y,d),t.emplaceBack(r.x,r.y,d),t.emplaceBack(r.x,r.y,d)}function gp(t){for(var r=0,d=t.sections;r<d.length;r+=1)if(es(d[r].text))return!0;return!1}var Nl=function(t){this.layoutVertexArray=new bl,this.indexArray=new Aa,this.programConfigurations=t,this.segments=new we,this.dynamicLayoutVertexArray=new Ka,this.opacityVertexArray=new ll,this.placedSymbolArray=new j};Nl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Nl.prototype.upload=function(t,r,d,N){this.isEmpty()||(d&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Vd.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Hd.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,mp,!0),this.opacityVertexBuffer.itemSize=1),(d||N)&&this.programConfigurations.upload(t))},Nl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},sn("SymbolBuffers",Nl);var dh=function(t,r,d){this.layoutVertexArray=new t,this.layoutAttributes=r,this.indexArray=new d,this.segments=new we,this.collisionVertexArray=new th};dh.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Gd.members,!0)},dh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},sn("CollisionBuffers",dh);var mo=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(Q){return Q.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Js([]),this.placementViewportMatrix=Js([]);var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=bu(this.zoom,r["text-size"]),this.iconSizeData=bu(this.zoom,r["icon-size"]);var d=this.layers[0].layout,N=d.get("symbol-sort-key"),W=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==W&&void 0!==N.constantOr(1),this.sortFeaturesByY=("viewport-y"===W||"auto"===W&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===d.get("symbol-placement")&&(this.writingModes=d.get("text-writing-mode").map(function(Q){return na[Q]})),this.stateDependentLayerIds=this.layers.filter(function(Q){return Q.isStateDependent()}).map(function(Q){return Q.id}),this.sourceID=t.sourceID};mo.prototype.createArrays=function(){this.text=new Nl(new ir(this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new Nl(new ir(this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.glyphOffsetArray=new xt,this.lineVertexArray=new Ot,this.symbolInstances=new ct},mo.prototype.calculateGlyphDependencies=function(t,r,d,N,W){for(var Q=0;Q<t.length;Q++)if(r[t.charCodeAt(Q)]=!0,(d||N)&&W){var st=hh[t.charAt(Q)];st&&(r[st.charCodeAt(0)]=!0)}},mo.prototype.populate=function(t,r,d){var N=this.layers[0],W=N.layout,Q=W.get("text-font"),st=W.get("text-field"),bt=W.get("icon-image"),Nt=("constant"!==st.value.kind||st.value.value instanceof Qn&&!st.value.value.isEmpty()||st.value.value.toString().length>0)&&("constant"!==Q.value.kind||Q.value.value.length>0),Ht="constant"!==bt.value.kind||!!bt.value.value||Object.keys(bt.parameters).length>0,$t=W.get("symbol-sort-key");if(this.features=[],Nt||Ht){for(var ee=r.iconDependencies,ce=r.glyphDependencies,ge=r.availableImages,Ee=new Er(this.zoom),Le=0,qe=t;Le<qe.length;Le+=1){var Ve=qe[Le],hi=Ve.feature,xi=Ve.id,Mi=Ve.index,Ei=Ve.sourceLayerIndex,Ui=N._featureFilter.needGeometry,ln=Uo(hi,Ui);if(N._featureFilter.filter(Ee,ln,d)){Ui||(ln.geometry=Eo(hi));var yn=void 0;if(Nt){var Un=N.getValueAndResolveTokens("text-field",ln,d,ge),Tn=Qn.factory(Un);gp(Tn)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===sl()||this.hasRTLText&&bs.isParsed())&&(yn=Xd(Tn,N,ln))}var Xn=void 0;if(Ht){var Sn=N.getValueAndResolveTokens("icon-image",ln,d,ge);Xn=Sn instanceof Fn?Sn:Fn.fromString(Sn)}if(yn||Xn){var Mr=this.sortFeaturesByKey?$t.evaluate(ln,{},d):void 0;if(this.features.push({id:xi,text:yn,icon:Xn,index:Mi,sourceLayerIndex:Ei,geometry:ln.geometry,properties:hi.properties,type:fp[hi.type],sortKey:Mr}),Xn&&(ee[Xn.name]=!0),yn){var nr=Q.evaluate(ln,{},d).join(","),Nn="map"===W.get("text-rotation-alignment")&&"point"!==W.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(na.vertical)>=0;for(var Lr=0,xr=yn.sections;Lr<xr.length;Lr+=1){var Hr=xr[Lr];if(Hr.image)ee[Hr.image.name]=!0;else{var Yn=zs(yn.toString()),eo=Hr.fontStack||nr,Ao=ce[eo]=ce[eo]||{};this.calculateGlyphDependencies(Hr.text,Ao,Nn,this.allowVerticalPlacement,Yn)}}}}}}"line"===W.get("symbol-placement")&&(this.features=function(zo){var Lo={},Po={},Fo=[],rs=0;function os(bo){Fo.push(zo[bo]),rs++}function Ms(bo,Zo,Ss){var io=Po[bo];return delete Po[bo],Po[Zo]=io,Fo[io].geometry[0].pop(),Fo[io].geometry[0]=Fo[io].geometry[0].concat(Ss[0]),io}function ps(bo,Zo,Ss){var io=Lo[Zo];return delete Lo[Zo],Lo[bo]=io,Fo[io].geometry[0].shift(),Fo[io].geometry[0]=Ss[0].concat(Fo[io].geometry[0]),io}function ks(bo,Zo,Ss){var io=Ss?Zo[0][Zo[0].length-1]:Zo[0][0];return bo+":"+io.x+":"+io.y}for(var Vo=0;Vo<zo.length;Vo++){var fs=zo[Vo],Rr=fs.geometry,vo=fs.text?fs.text.toString():null;if(vo){var lo=ks(vo,Rr),Yr=ks(vo,Rr,!0);if(lo in Po&&Yr in Lo&&Po[lo]!==Lo[Yr]){var Ns=ps(lo,Yr,Rr),Ts=Ms(lo,Yr,Fo[Ns].geometry);delete Lo[lo],delete Po[Yr],Po[ks(vo,Fo[Ts].geometry,!0)]=Ts,Fo[Ns].geometry=null}else lo in Po?Ms(lo,Yr,Rr):Yr in Lo?ps(lo,Yr,Rr):(os(Vo),Lo[lo]=rs-1,Po[Yr]=rs-1)}else os(Vo)}return Fo.filter(function(bo){return bo.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(zo,Lo){return zo.sortKey-Lo.sortKey})}},mo.prototype.update=function(t,r,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,r,this.layers,d),this.icon.programConfigurations.updatePaintArrays(t,r,this.layers,d))},mo.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},mo.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mo.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mo.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mo.prototype.addToLineVertexArray=function(t,r){var d=this.lineVertexArray.length;if(void 0!==t.segment){for(var N=t.dist(r[t.segment+1]),W=t.dist(r[t.segment]),Q={},st=t.segment+1;st<r.length;st++)Q[st]={x:r[st].x,y:r[st].y,tileUnitDistanceFromAnchor:N},st<r.length-1&&(N+=r[st+1].dist(r[st]));for(var bt=t.segment||0;bt>=0;bt--)Q[bt]={x:r[bt].x,y:r[bt].y,tileUnitDistanceFromAnchor:W},bt>0&&(W+=r[bt-1].dist(r[bt]));for(var Nt=0;Nt<r.length;Nt++){var Ht=Q[Nt];this.lineVertexArray.emplaceBack(Ht.x,Ht.y,Ht.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}},mo.prototype.addSymbols=function(t,r,d,N,W,Q,st,bt,Nt,Ht,$t,ee){for(var ce=t.indexArray,ge=t.layoutVertexArray,Ee=t.segments.prepareSegment(4*r.length,ge,ce,this.canOverlap?Q.sortKey:void 0),Le=this.glyphOffsetArray.length,qe=Ee.vertexLength,Ve=this.allowVerticalPlacement&&st===na.vertical?Math.PI/2:0,hi=Q.text&&Q.text.sections,xi=0;xi<r.length;xi++){var Mi=r[xi],Ei=Mi.tl,Ui=Mi.tr,ln=Mi.bl,yn=Mi.br,Un=Mi.tex,Tn=Mi.pixelOffsetTL,Xn=Mi.pixelOffsetBR,Sn=Mi.minFontScaleX,Mr=Mi.minFontScaleY,nr=Mi.glyphOffset,Nn=Mi.isSDF,Lr=Mi.sectionIndex,xr=Ee.vertexLength,Hr=nr[1];Hh(ge,bt.x,bt.y,Ei.x,Hr+Ei.y,Un.x,Un.y,d,Nn,Tn.x,Tn.y,Sn,Mr),Hh(ge,bt.x,bt.y,Ui.x,Hr+Ui.y,Un.x+Un.w,Un.y,d,Nn,Xn.x,Tn.y,Sn,Mr),Hh(ge,bt.x,bt.y,ln.x,Hr+ln.y,Un.x,Un.y+Un.h,d,Nn,Tn.x,Xn.y,Sn,Mr),Hh(ge,bt.x,bt.y,yn.x,Hr+yn.y,Un.x+Un.w,Un.y+Un.h,d,Nn,Xn.x,Xn.y,Sn,Mr),Su(t.dynamicLayoutVertexArray,bt,Ve),ce.emplaceBack(xr,xr+1,xr+2),ce.emplaceBack(xr+1,xr+2,xr+3),Ee.vertexLength+=4,Ee.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(nr[0]),xi!==r.length-1&&Lr===r[xi+1].sectionIndex||t.programConfigurations.populatePaintArrays(ge.length,Q,Q.index,{},ee,hi&&hi[Lr])}t.placedSymbolArray.emplaceBack(bt.x,bt.y,Le,this.glyphOffsetArray.length-Le,qe,Nt,Ht,bt.segment,d?d[0]:0,d?d[1]:0,N[0],N[1],st,0,!1,0,$t)},mo.prototype._addCollisionDebugVertex=function(t,r,d,N,W,Q){return r.emplaceBack(0,0),t.emplaceBack(d.x,d.y,N,W,Math.round(Q.x),Math.round(Q.y))},mo.prototype.addCollisionDebugVertices=function(t,r,d,N,W,Q,st){var bt=W.segments.prepareSegment(4,W.layoutVertexArray,W.indexArray),Nt=bt.vertexLength,Ht=W.layoutVertexArray,$t=W.collisionVertexArray,ee=st.anchorX,ce=st.anchorY;this._addCollisionDebugVertex(Ht,$t,Q,ee,ce,new m(t,r)),this._addCollisionDebugVertex(Ht,$t,Q,ee,ce,new m(d,r)),this._addCollisionDebugVertex(Ht,$t,Q,ee,ce,new m(d,N)),this._addCollisionDebugVertex(Ht,$t,Q,ee,ce,new m(t,N)),bt.vertexLength+=4;var ge=W.indexArray;ge.emplaceBack(Nt,Nt+1),ge.emplaceBack(Nt+1,Nt+2),ge.emplaceBack(Nt+2,Nt+3),ge.emplaceBack(Nt+3,Nt),bt.primitiveLength+=4},mo.prototype.addDebugCollisionBoxes=function(t,r,d,N){for(var W=t;W<r;W++){var Q=this.collisionBoxArray.get(W);this.addCollisionDebugVertices(Q.x1,Q.y1,Q.x2,Q.y2,N?this.textCollisionBox:this.iconCollisionBox,Q.anchorPoint,d)}},mo.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dh(Ja,Qu.members,hl),this.iconCollisionBox=new dh(Ja,Qu.members,hl);for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}},mo.prototype._deserializeCollisionBoxesForSymbol=function(t,r,d,N,W,Q,st,bt,Nt){for(var Ht={},$t=r;$t<d;$t++){var ee=t.get($t);Ht.textBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},Ht.textFeatureIndex=ee.featureIndex;break}for(var ce=N;ce<W;ce++){var ge=t.get(ce);Ht.verticalTextBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},Ht.verticalTextFeatureIndex=ge.featureIndex;break}for(var Ee=Q;Ee<st;Ee++){var Le=t.get(Ee);Ht.iconBox={x1:Le.x1,y1:Le.y1,x2:Le.x2,y2:Le.y2,anchorPointX:Le.anchorPointX,anchorPointY:Le.anchorPointY},Ht.iconFeatureIndex=Le.featureIndex;break}for(var qe=bt;qe<Nt;qe++){var Ve=t.get(qe);Ht.verticalIconBox={x1:Ve.x1,y1:Ve.y1,x2:Ve.x2,y2:Ve.y2,anchorPointX:Ve.anchorPointX,anchorPointY:Ve.anchorPointY},Ht.verticalIconFeatureIndex=Ve.featureIndex;break}return Ht},mo.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var r=0;r<this.symbolInstances.length;r++){var d=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}},mo.prototype.hasTextData=function(){return this.text.segments.get().length>0},mo.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mo.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mo.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mo.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mo.prototype.addIndicesForPlacedSymbol=function(t,r){for(var d=t.placedSymbolArray.get(r),N=d.vertexStartIndex+4*d.numGlyphs,W=d.vertexStartIndex;W<N;W+=4)t.indexArray.emplaceBack(W,W+1,W+2),t.indexArray.emplaceBack(W+1,W+2,W+3)},mo.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var r=Math.sin(t),d=Math.cos(t),N=[],W=[],Q=[],st=0;st<this.symbolInstances.length;++st){Q.push(st);var bt=this.symbolInstances.get(st);N.push(0|Math.round(r*bt.anchorX+d*bt.anchorY)),W.push(bt.featureIndex)}return Q.sort(function(Nt,Ht){return N[Nt]-N[Ht]||W[Ht]-W[Nt]}),Q},mo.prototype.addToSortKeyRanges=function(t,r){var d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===r?d.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:t,symbolInstanceEnd:t+1})},mo.prototype.sortFeatures=function(t){var r=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var d=0,N=this.symbolInstanceIndexes;d<N.length;d+=1){var W=this.symbolInstances.get(N[d]);this.featureSortOrder.push(W.featureIndex),[W.rightJustifiedTextSymbolIndex,W.centerJustifiedTextSymbolIndex,W.leftJustifiedTextSymbolIndex].forEach(function(Q,st,bt){Q>=0&&bt.indexOf(Q)===st&&r.addIndicesForPlacedSymbol(r.text,Q)}),W.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,W.verticalPlacedTextSymbolIndex),W.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,W.placedIconSymbolIndex),W.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,W.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},sn("SymbolBucket",mo,{omit:["layers","collisionBoxArray","features","compareText"]}),mo.MAX_GLYPHS=65535,mo.addDynamicAttributes=Su;var yp=new Jo({"symbol-placement":new jn(ie.layout_symbol["symbol-placement"]),"symbol-spacing":new jn(ie.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new jn(ie.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new On(ie.layout_symbol["symbol-sort-key"]),"symbol-z-order":new jn(ie.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new jn(ie.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new jn(ie.layout_symbol["icon-ignore-placement"]),"icon-optional":new jn(ie.layout_symbol["icon-optional"]),"icon-rotation-alignment":new jn(ie.layout_symbol["icon-rotation-alignment"]),"icon-size":new On(ie.layout_symbol["icon-size"]),"icon-text-fit":new jn(ie.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new jn(ie.layout_symbol["icon-text-fit-padding"]),"icon-image":new On(ie.layout_symbol["icon-image"]),"icon-rotate":new On(ie.layout_symbol["icon-rotate"]),"icon-padding":new jn(ie.layout_symbol["icon-padding"]),"icon-keep-upright":new jn(ie.layout_symbol["icon-keep-upright"]),"icon-offset":new On(ie.layout_symbol["icon-offset"]),"icon-anchor":new On(ie.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new jn(ie.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new jn(ie.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new jn(ie.layout_symbol["text-rotation-alignment"]),"text-field":new On(ie.layout_symbol["text-field"]),"text-font":new On(ie.layout_symbol["text-font"]),"text-size":new On(ie.layout_symbol["text-size"]),"text-max-width":new On(ie.layout_symbol["text-max-width"]),"text-line-height":new jn(ie.layout_symbol["text-line-height"]),"text-letter-spacing":new On(ie.layout_symbol["text-letter-spacing"]),"text-justify":new On(ie.layout_symbol["text-justify"]),"text-radial-offset":new On(ie.layout_symbol["text-radial-offset"]),"text-variable-anchor":new jn(ie.layout_symbol["text-variable-anchor"]),"text-anchor":new On(ie.layout_symbol["text-anchor"]),"text-max-angle":new jn(ie.layout_symbol["text-max-angle"]),"text-writing-mode":new jn(ie.layout_symbol["text-writing-mode"]),"text-rotate":new On(ie.layout_symbol["text-rotate"]),"text-padding":new jn(ie.layout_symbol["text-padding"]),"text-keep-upright":new jn(ie.layout_symbol["text-keep-upright"]),"text-transform":new On(ie.layout_symbol["text-transform"]),"text-offset":new On(ie.layout_symbol["text-offset"]),"text-allow-overlap":new jn(ie.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new jn(ie.layout_symbol["text-ignore-placement"]),"text-optional":new jn(ie.layout_symbol["text-optional"])}),Cu={paint:new Jo({"icon-opacity":new On(ie.paint_symbol["icon-opacity"]),"icon-color":new On(ie.paint_symbol["icon-color"]),"icon-halo-color":new On(ie.paint_symbol["icon-halo-color"]),"icon-halo-width":new On(ie.paint_symbol["icon-halo-width"]),"icon-halo-blur":new On(ie.paint_symbol["icon-halo-blur"]),"icon-translate":new jn(ie.paint_symbol["icon-translate"]),"icon-translate-anchor":new jn(ie.paint_symbol["icon-translate-anchor"]),"text-opacity":new On(ie.paint_symbol["text-opacity"]),"text-color":new On(ie.paint_symbol["text-color"],{runtimeType:si,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new On(ie.paint_symbol["text-halo-color"]),"text-halo-width":new On(ie.paint_symbol["text-halo-width"]),"text-halo-blur":new On(ie.paint_symbol["text-halo-blur"]),"text-translate":new jn(ie.paint_symbol["text-translate"]),"text-translate-anchor":new jn(ie.paint_symbol["text-translate-anchor"])}),layout:yp},Rl=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:wi,this.defaultValue=t};Rl.prototype.evaluate=function(t){if(t.formattedSection){var r=this.defaultValue.property.overrides;if(r&&r.hasOverride(t.formattedSection))return r.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},Rl.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},Rl.prototype.outputDefined=function(){return!1},Rl.prototype.serialize=function(){return null},sn("FormatSectionOverride",Rl,{omit:["defaultValue"]});var vp=function(t){function r(d){t.call(this,d,Cu)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.recalculate=function(d,N){if(t.prototype.recalculate.call(this,d,N),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var W=this.layout.get("text-writing-mode");if(W){for(var Q=[],st=0,bt=W;st<bt.length;st+=1){var Nt=bt[st];Q.indexOf(Nt)<0&&Q.push(Nt)}this.layout._values["text-writing-mode"]=Q}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},r.prototype.getValueAndResolveTokens=function(d,N,W,Q){var Nt,st=this.layout.get(d).evaluate(N,{},W,Q),bt=this._unevaluatedLayout._values[d];return bt.isDataDriven()||Xo(bt.value)||!st?st:(Nt=N.properties,st.replace(/{([^{}]+)}/g,function($t,ee){return ee in Nt?String(Nt[ee]):""}))},r.prototype.createBucket=function(d){return new mo(d)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype._setPaintOverrides=function(){for(var d=0,N=Cu.paint.overridableProperties;d<N.length;d+=1){var W=N[d];if(r.hasPaintOverride(this.layout,W)){var Q,st=this.paint.get(W),bt=new Rl(st),Nt=new Bs(bt,st.property.specification);Q="constant"===st.value.kind||"source"===st.value.kind?new co("source",Nt):new ms("composite",Nt,st.value.zoomStops,st.value._interpolationType),this.paint._values[W]=new Ro(st.property,Q,st.parameters)}}},r.prototype._handleOverridablePaintPropertyUpdate=function(d,N,W){return!(!this.layout||N.isDataDriven()||W.isDataDriven())&&r.hasPaintOverride(this.layout,d)},r.hasPaintOverride=function(d,N){var W=d.get("text-field"),Q=Cu.paint.properties[N],st=!1,bt=function($t){for(var ee=0,ce=$t;ee<ce.length;ee+=1)if(Q.overrides&&Q.overrides.hasOverride(ce[ee]))return void(st=!0)};if("constant"===W.value.kind&&W.value.value instanceof Qn)bt(W.value.value.sections);else if("source"===W.value.kind){var Nt=function($t){st||($t instanceof Sr&&rr($t.value)===tn?bt($t.value.sections):$t instanceof Zr?bt($t.sections):$t.eachChild(Nt))},Ht=W.value;Ht._styleExpression&&Nt(Ht._styleExpression.expression)}return st},r}(Ks),_p={paint:new Jo({"background-color":new jn(ie.paint_background["background-color"]),"background-pattern":new us(ie.paint_background["background-pattern"]),"background-opacity":new jn(ie.paint_background["background-opacity"])})},xp=function(t){function r(d){t.call(this,d,_p)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(Ks),bp={paint:new Jo({"raster-opacity":new jn(ie.paint_raster["raster-opacity"]),"raster-hue-rotate":new jn(ie.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new jn(ie.paint_raster["raster-brightness-min"]),"raster-brightness-max":new jn(ie.paint_raster["raster-brightness-max"]),"raster-saturation":new jn(ie.paint_raster["raster-saturation"]),"raster-contrast":new jn(ie.paint_raster["raster-contrast"]),"raster-resampling":new jn(ie.paint_raster["raster-resampling"]),"raster-fade-duration":new jn(ie.paint_raster["raster-fade-duration"])})},wp=function(t){function r(d){t.call(this,d,bp)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(Ks),Tp=function(t){function r(d){t.call(this,d,{}),this.implementation=d}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},r.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},r.prototype.recalculate=function(){},r.prototype.updateTransitions=function(){},r.prototype.hasTransition=function(){},r.prototype.serialize=function(){},r.prototype.onAdd=function(d){this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},r.prototype.onRemove=function(d){this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},r}(Ks),Sp={circle:hu,heatmap:ad,hillshade:hd,fill:Ad,"fill-extrusion":Nd,line:Ud,symbol:vp,background:xp,raster:wp},wc=P.HTMLImageElement,Tc=P.HTMLCanvasElement,Sc=P.HTMLVideoElement,Cc=P.ImageData,Gh=P.ImageBitmap,ml=function(t,r,d,N){this.context=t,this.format=d,this.texture=t.gl.createTexture(),this.update(r,N)};ml.prototype.update=function(t,r,d){var N=t.width,W=t.height,Q=!(this.size&&this.size[0]===N&&this.size[1]===W||d),st=this.context,bt=st.gl;if(this.useMipmap=Boolean(r&&r.useMipmap),bt.bindTexture(bt.TEXTURE_2D,this.texture),st.pixelStoreUnpackFlipY.set(!1),st.pixelStoreUnpack.set(1),st.pixelStoreUnpackPremultiplyAlpha.set(this.format===bt.RGBA&&(!r||!1!==r.premultiply)),Q)this.size=[N,W],t instanceof wc||t instanceof Tc||t instanceof Sc||t instanceof Cc||Gh&&t instanceof Gh?bt.texImage2D(bt.TEXTURE_2D,0,this.format,this.format,bt.UNSIGNED_BYTE,t):bt.texImage2D(bt.TEXTURE_2D,0,this.format,N,W,0,this.format,bt.UNSIGNED_BYTE,t.data);else{var Nt=d||{x:0,y:0},Ht=Nt.x,$t=Nt.y;t instanceof wc||t instanceof Tc||t instanceof Sc||t instanceof Cc||Gh&&t instanceof Gh?bt.texSubImage2D(bt.TEXTURE_2D,0,Ht,$t,bt.RGBA,bt.UNSIGNED_BYTE,t):bt.texSubImage2D(bt.TEXTURE_2D,0,Ht,$t,N,W,bt.RGBA,bt.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&bt.generateMipmap(bt.TEXTURE_2D)},ml.prototype.bind=function(t,r,d){var N=this.context.gl;N.bindTexture(N.TEXTURE_2D,this.texture),d!==N.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=N.LINEAR),t!==this.filter&&(N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,t),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,d||t),this.filter=t),r!==this.wrap&&(N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,r),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,r),this.wrap=r)},ml.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ml.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Au=function(t){var r=this;this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){r._triggered=!1,r._callback()})};Au.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){t._triggered=!1,t._callback()},0))},Au.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Bl=function(t,r,d){this.target=t,this.parent=r,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},tt(["receive","process"],this),this.invoker=new Au(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=vt()?t:P};function Ac(t,r,d){var N=2*Math.PI*6378137/256/Math.pow(2,d);return[t*N-2*Math.PI*6378137/2,r*N-2*Math.PI*6378137/2]}Bl.prototype.send=function(t,r,d,N,W){var Q=this;void 0===W&&(W=!1);var st=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[st]=d);var bt=Xt(this.globalScope)?void 0:[];return this.target.postMessage({id:st,type:t,hasCallback:!!d,targetMapId:N,mustQueue:W,sourceMapId:this.mapId,data:To(r,bt)},bt),{cancel:function(){d&&delete Q.callbacks[st],Q.target.postMessage({id:st,type:"<cancel>",targetMapId:N,sourceMapId:Q.mapId})}}},Bl.prototype.receive=function(t){var r=t.data,d=r.id;if(d&&(!r.targetMapId||this.mapId===r.targetMapId))if("<cancel>"===r.type){delete this.tasks[d];var N=this.cancelCallbacks[d];delete this.cancelCallbacks[d],N&&N()}else vt()||r.mustQueue?(this.tasks[d]=r,this.taskQueue.push(d),this.invoker.trigger()):this.processTask(d,r)},Bl.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),r=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),r&&this.processTask(t,r)}},Bl.prototype.processTask=function(t,r){var d=this;if("<response>"===r.type){var N=this.callbacks[t];delete this.callbacks[t],N&&(r.error?N(So(r.error)):N(null,So(r.data)))}else{var W=!1,Q=Xt(this.globalScope)?void 0:[],st=r.hasCallback?function($t,ee){W=!0,delete d.cancelCallbacks[t],d.target.postMessage({id:t,type:"<response>",sourceMapId:d.mapId,error:$t?To($t):null,data:To(ee,Q)},Q)}:function($t){W=!0},bt=null,Nt=So(r.data);if(this.parent[r.type])bt=this.parent[r.type](r.sourceMapId,Nt,st);else if(this.parent.getWorkerSource){var Ht=r.type.split(".");bt=this.parent.getWorkerSource(r.sourceMapId,Ht[0],Nt.source)[Ht[1]](Nt,st)}else st(new Error("Could not find function "+r.type));!W&&bt&&bt.cancel&&(this.cancelCallbacks[t]=bt.cancel)}},Bl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Qo=function(t,r){t&&(r?this.setSouthWest(t).setNorthEast(r):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Qo.prototype.setNorthEast=function(t){return this._ne=t instanceof Co?new Co(t.lng,t.lat):Co.convert(t),this},Qo.prototype.setSouthWest=function(t){return this._sw=t instanceof Co?new Co(t.lng,t.lat):Co.convert(t),this},Qo.prototype.extend=function(t){var r,d,N=this._sw,W=this._ne;if(t instanceof Co)r=t,d=t;else{if(!(t instanceof Qo))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Qo.convert(t)):this.extend(Co.convert(t)):this;if(d=t._ne,!(r=t._sw)||!d)return this}return N||W?(N.lng=Math.min(r.lng,N.lng),N.lat=Math.min(r.lat,N.lat),W.lng=Math.max(d.lng,W.lng),W.lat=Math.max(d.lat,W.lat)):(this._sw=new Co(r.lng,r.lat),this._ne=new Co(d.lng,d.lat)),this},Qo.prototype.getCenter=function(){return new Co((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Qo.prototype.getSouthWest=function(){return this._sw},Qo.prototype.getNorthEast=function(){return this._ne},Qo.prototype.getNorthWest=function(){return new Co(this.getWest(),this.getNorth())},Qo.prototype.getSouthEast=function(){return new Co(this.getEast(),this.getSouth())},Qo.prototype.getWest=function(){return this._sw.lng},Qo.prototype.getSouth=function(){return this._sw.lat},Qo.prototype.getEast=function(){return this._ne.lng},Qo.prototype.getNorth=function(){return this._ne.lat},Qo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Qo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Qo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Qo.prototype.contains=function(t){var r=Co.convert(t),d=r.lng,N=r.lat,W=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(W=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=N&&N<=this._ne.lat&&W},Qo.convert=function(t){return!t||t instanceof Qo?t:new Qo(t)};var Co=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid LngLat object: ("+t+", "+r+")");if(this.lng=+t,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Co.prototype.wrap=function(){return new Co(V(this.lng,-180,180),this.lat)},Co.prototype.toArray=function(){return[this.lng,this.lat]},Co.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Co.prototype.distanceTo=function(t){var r=Math.PI/180,d=this.lat*r,N=t.lat*r,W=Math.sin(d)*Math.sin(N)+Math.cos(d)*Math.cos(N)*Math.cos((t.lng-this.lng)*r);return 6371008.8*Math.acos(Math.min(W,1))},Co.prototype.toBounds=function(t){void 0===t&&(t=0);var r=360*t/40075017,d=r/Math.cos(Math.PI/180*this.lat);return new Qo(new Co(this.lng-d,this.lat-r),new Co(this.lng+d,this.lat+r))},Co.convert=function(t){if(t instanceof Co)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Co(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Co(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Pc=2*Math.PI*6371008.8;function Mc(t){return Pc*Math.cos(t*Math.PI/180)}function kc(t){return(180+t)/360}function Dc(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Ec(t,r){return t/Mc(r)}function Pu(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var gl=function(t,r,d){void 0===d&&(d=0),this.x=+t,this.y=+r,this.z=+d};gl.fromLngLat=function(t,r){void 0===r&&(r=0);var d=Co.convert(t);return new gl(kc(d.lng),Dc(d.lat),Ec(r,d.lat))},gl.prototype.toLngLat=function(){return new Co(360*this.x-180,Pu(this.y))},gl.prototype.toAltitude=function(){return this.z*Mc(Pu(this.y))},gl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Pc*(t=Pu(this.y),1/Math.cos(t*Math.PI/180));var t};var yl=function(t,r,d){this.z=t,this.x=r,this.y=d,this.key=ph(0,t,t,r,d)};yl.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},yl.prototype.url=function(t,r){var d,N,W,Q,st,bt=(N=this.y,W=this.z,Q=Ac(256*(d=this.x),256*(N=Math.pow(2,W)-N-1),W),st=Ac(256*(d+1),256*(N+1),W),Q[0]+","+Q[1]+","+st[0]+","+st[1]),Nt=function(Ht,$t,ee){for(var ce,ge="",Ee=Ht;Ee>0;Ee--)ge+=($t&(ce=1<<Ee-1)?1:0)+(ee&ce?2:0);return ge}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===r?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",Nt).replace("{bbox-epsg-3857}",bt)},yl.prototype.getTilePoint=function(t){var r=Math.pow(2,this.z);return new m(8192*(t.x*r-this.x),8192*(t.y*r-this.y))},yl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Lc=function(t,r){this.wrap=t,this.canonical=r,this.key=ph(t,r.z,r.z,r.x,r.y)},ts=function(t,r,d,N,W){this.overscaledZ=t,this.wrap=r,this.canonical=new yl(d,+N,+W),this.key=ph(r,t,d,N,W)};function ph(t,r,d,N,W){(t*=2)<0&&(t=-1*t-1);var Q=1<<d;return(Q*Q*t+Q*W+N).toString(36)+d.toString(36)+r.toString(36)}ts.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},ts.prototype.scaledTo=function(t){var r=this.canonical.z-t;return t>this.canonical.z?new ts(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ts(t,this.wrap,t,this.canonical.x>>r,this.canonical.y>>r)},ts.prototype.calculateScaledKey=function(t,r){var d=this.canonical.z-t;return t>this.canonical.z?ph(this.wrap*+r,t,this.canonical.z,this.canonical.x,this.canonical.y):ph(this.wrap*+r,t,t,this.canonical.x>>d,this.canonical.y>>d)},ts.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var r=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>r&&t.canonical.y===this.canonical.y>>r},ts.prototype.children=function(t){if(this.overscaledZ>=t)return[new ts(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var r=this.canonical.z+1,d=2*this.canonical.x,N=2*this.canonical.y;return[new ts(r,this.wrap,r,d,N),new ts(r,this.wrap,r,d+1,N),new ts(r,this.wrap,r,d,N+1),new ts(r,this.wrap,r,d+1,N+1)]},ts.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},ts.prototype.wrapped=function(){return new ts(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ts.prototype.unwrapTo=function(t){return new ts(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},ts.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ts.prototype.toUnwrapped=function(){return new Lc(this.wrap,this.canonical)},ts.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ts.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new gl(t.x-this.wrap,t.y))},sn("CanonicalTileID",yl),sn("OverscaledTileID",ts,{omit:["posMatrix"]});var Ha=function(t,r,d){if(this.uid=t,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(d&&"mapbox"!==d&&"terrarium"!==d)return dt('"'+d+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=r.height;var N=this.dim=r.height-2;this.data=new Uint32Array(r.data.buffer),this.encoding=d||"mapbox";for(var W=0;W<N;W++)this.data[this._idx(-1,W)]=this.data[this._idx(0,W)],this.data[this._idx(N,W)]=this.data[this._idx(N-1,W)],this.data[this._idx(W,-1)]=this.data[this._idx(W,0)],this.data[this._idx(W,N)]=this.data[this._idx(W,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)]};Ha.prototype.get=function(t,r){var d=new Uint8Array(this.data.buffer),N=4*this._idx(t,r);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(d[N],d[N+1],d[N+2])},Ha.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Ha.prototype._idx=function(t,r){if(t<-1||t>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(t+1)},Ha.prototype._unpackMapbox=function(t,r,d){return(256*t*256+256*r+d)/10-1e4},Ha.prototype._unpackTerrarium=function(t,r,d){return 256*t+r+d/256-32768},Ha.prototype.getPixels=function(){return new Hs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ha.prototype.backfillBorder=function(t,r,d){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var N=r*this.dim,W=r*this.dim+this.dim,Q=d*this.dim,st=d*this.dim+this.dim;switch(r){case-1:N=W-1;break;case 1:W=N+1}switch(d){case-1:Q=st-1;break;case 1:st=Q+1}for(var bt=-r*this.dim,Nt=-d*this.dim,Ht=Q;Ht<st;Ht++)for(var $t=N;$t<W;$t++)this.data[this._idx($t,Ht)]=t.data[this._idx($t+bt,Ht+Nt)]},sn("DEMData",Ha);var Wh=function(t){this._stringToNumber={},this._numberToString=[];for(var r=0;r<t.length;r++){var d=t[r];this._stringToNumber[d]=r,this._numberToString[r]=d}};Wh.prototype.encode=function(t){return this._stringToNumber[t]},Wh.prototype.decode=function(t){return this._numberToString[t]};var Xh=function(t,r,d,N,W){this.type="Feature",this._vectorTileFeature=t,t._z=r,t._x=d,t._y=N,this.properties=t.properties,this.id=W},Mu={geometry:{configurable:!0}};Mu.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Mu.geometry.set=function(t){this._geometry=t},Xh.prototype.toJSON=function(){var t={geometry:this.geometry};for(var r in this)"_geometry"!==r&&"_vectorTileFeature"!==r&&(t[r]=this[r]);return t},Object.defineProperties(Xh.prototype,Mu);var zl=function(){this.state={},this.stateChanges={},this.deletedStates={}};zl.prototype.updateState=function(t,r,d){var N=String(r);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][N]=this.stateChanges[t][N]||{},q(this.stateChanges[t][N],d),null===this.deletedStates[t])for(var W in this.deletedStates[t]={},this.state[t])W!==N&&(this.deletedStates[t][W]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][N])for(var Q in this.deletedStates[t][N]={},this.state[t][N])d[Q]||(this.deletedStates[t][N][Q]=null);else for(var st in d)this.deletedStates[t]&&this.deletedStates[t][N]&&null===this.deletedStates[t][N][st]&&delete this.deletedStates[t][N][st]},zl.prototype.removeFeatureState=function(t,r,d){if(null!==this.deletedStates[t]){var N=String(r);if(this.deletedStates[t]=this.deletedStates[t]||{},d&&void 0!==r)null!==this.deletedStates[t][N]&&(this.deletedStates[t][N]=this.deletedStates[t][N]||{},this.deletedStates[t][N][d]=null);else if(void 0!==r)if(this.stateChanges[t]&&this.stateChanges[t][N])for(d in this.deletedStates[t][N]={},this.stateChanges[t][N])this.deletedStates[t][N][d]=null;else this.deletedStates[t][N]=null;else this.deletedStates[t]=null}},zl.prototype.getState=function(t,r){var d=String(r),N=q({},(this.state[t]||{})[d],(this.stateChanges[t]||{})[d]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var W=this.deletedStates[t][r];if(null===W)return{};for(var Q in W)delete N[Q]}return N},zl.prototype.initializeTileState=function(t,r){t.setFeatureState(this.state,r)},zl.prototype.coalesceChanges=function(t,r){var d={};for(var N in this.stateChanges){this.state[N]=this.state[N]||{};var W={};for(var Q in this.stateChanges[N])this.state[N][Q]||(this.state[N][Q]={}),q(this.state[N][Q],this.stateChanges[N][Q]),W[Q]=this.state[N][Q];d[N]=W}for(var st in this.deletedStates){this.state[st]=this.state[st]||{};var bt={};if(null===this.deletedStates[st])for(var Nt in this.state[st])bt[Nt]={},this.state[st][Nt]={};else for(var Ht in this.deletedStates[st]){if(null===this.deletedStates[st][Ht])this.state[st][Ht]={};else for(var $t=0,ee=Object.keys(this.deletedStates[st][Ht]);$t<ee.length;$t+=1)delete this.state[st][Ht][ee[$t]];bt[Ht]=this.state[st][Ht]}d[st]=d[st]||{},q(d[st],bt)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(d).length)for(var ce in t)t[ce].setFeatureState(d,r)};var Ga=function(t,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Ur(8192,16,0),this.grid3D=new Ur(8192,16,0),this.featureIndexArray=new ne,this.promoteId=r};function Oc(t,r,d,N,W){return St(t,function(Q,st){var bt=r instanceof ca?r.get(st):null;return bt&&bt.evaluate?bt.evaluate(d,N,W):bt})}function Ic(t){for(var r=1/0,d=1/0,N=-1/0,W=-1/0,Q=0,st=t;Q<st.length;Q+=1){var bt=st[Q];r=Math.min(r,bt.x),d=Math.min(d,bt.y),N=Math.max(N,bt.x),W=Math.max(W,bt.y)}return{minX:r,minY:d,maxX:N,maxY:W}}function Cp(t,r){return r-t}Ga.prototype.insert=function(t,r,d,N,W,Q){var st=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,N,W);for(var bt=Q?this.grid3D:this.grid,Nt=0;Nt<r.length;Nt++){for(var Ht=r[Nt],$t=[1/0,1/0,-1/0,-1/0],ee=0;ee<Ht.length;ee++){var ce=Ht[ee];$t[0]=Math.min($t[0],ce.x),$t[1]=Math.min($t[1],ce.y),$t[2]=Math.max($t[2],ce.x),$t[3]=Math.max($t[3],ce.y)}$t[0]<8192&&$t[1]<8192&&$t[2]>=0&&$t[3]>=0&&bt.insert(st,$t[0],$t[1],$t[2],$t[3])}},Ga.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ml.VectorTile(new Ih(this.rawTileData)).layers,this.sourceLayerCoder=new Wh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ga.prototype.query=function(t,r,d,N){var W=this;this.loadVTLayers();for(var Q=t.params||{},st=8192/t.tileSize/t.scale,bt=en(Q.filter),Nt=t.queryGeometry,Ht=t.queryPadding*st,$t=Ic(Nt),ee=this.grid.query($t.minX-Ht,$t.minY-Ht,$t.maxX+Ht,$t.maxY+Ht),ce=Ic(t.cameraQueryGeometry),Ee=0,Le=this.grid3D.query(ce.minX-Ht,ce.minY-Ht,ce.maxX+Ht,ce.maxY+Ht,function(Mi,Ei,Ui,ln){return function(yn,Un,Tn,Xn,Sn){for(var Mr=0,nr=yn;Mr<nr.length;Mr+=1){var Nn=nr[Mr];if(Un<=Nn.x&&Tn<=Nn.y&&Xn>=Nn.x&&Sn>=Nn.y)return!0}var Lr=[new m(Un,Tn),new m(Un,Sn),new m(Xn,Sn),new m(Xn,Tn)];if(yn.length>2)for(var xr=0,Hr=Lr;xr<Hr.length;xr+=1)if(pa(yn,Hr[xr]))return!0;for(var Yn=0;Yn<yn.length-1;Yn++)if(dl(yn[Yn],yn[Yn+1],Lr))return!0;return!1}(t.cameraQueryGeometry,Mi-Ht,Ei-Ht,Ui+Ht,ln+Ht)});Ee<Le.length;Ee+=1)ee.push(Le[Ee]);ee.sort(Cp);for(var qe,Ve={},hi=function(Mi){var Ei=ee[Mi];if(Ei!==qe){qe=Ei;var Ui=W.featureIndexArray.get(Ei),ln=null;W.loadMatchingFeature(Ve,Ui.bucketIndex,Ui.sourceLayerIndex,Ui.featureIndex,bt,Q.layers,Q.availableImages,r,d,N,function(yn,Un,Tn){return ln||(ln=Eo(yn)),Un.queryIntersectsFeature(Nt,yn,Tn,ln,W.z,t.transform,st,t.pixelPosMatrix)})}},xi=0;xi<ee.length;xi++)hi(xi);return Ve},Ga.prototype.loadMatchingFeature=function(t,r,d,N,W,Q,st,bt,Nt,Ht,$t){var ee=this.bucketLayerIDs[r];if(!Q||function(yn,Un){for(var Tn=0;Tn<yn.length;Tn++)if(Un.indexOf(yn[Tn])>=0)return!0;return!1}(Q,ee)){var ce=this.sourceLayerCoder.decode(d),ge=this.vtLayers[ce].feature(N);if(W.needGeometry){var Ee=Uo(ge,!0);if(!W.filter(new Er(this.tileID.overscaledZ),Ee,this.tileID.canonical))return}else if(!W.filter(new Er(this.tileID.overscaledZ),ge))return;for(var Le=this.getId(ge,ce),qe=0;qe<ee.length;qe++){var Ve=ee[qe];if(!(Q&&Q.indexOf(Ve)<0)){var hi=bt[Ve];if(hi){var xi={};void 0!==Le&&Ht&&(xi=Ht.getState(hi.sourceLayer||"_geojsonTileLayer",Le));var Mi=q({},Nt[Ve]);Mi.paint=Oc(Mi.paint,hi.paint,ge,xi,st),Mi.layout=Oc(Mi.layout,hi.layout,ge,xi,st);var Ei=!$t||$t(ge,hi,xi);if(Ei){var Ui=new Xh(ge,this.z,this.x,this.y,Le);Ui.layer=Mi;var ln=t[Ve];void 0===ln&&(ln=t[Ve]=[]),ln.push({featureIndex:N,feature:Ui,intersectionZ:Ei})}}}}}},Ga.prototype.lookupSymbolFeatures=function(t,r,d,N,W,Q,st,bt){var Nt={};this.loadVTLayers();for(var Ht=en(W),$t=0,ee=t;$t<ee.length;$t+=1)this.loadMatchingFeature(Nt,d,N,ee[$t],Ht,Q,st,bt,r);return Nt},Ga.prototype.hasLayer=function(t){for(var r=0,d=this.bucketLayerIDs;r<d.length;r+=1)for(var N=0,W=d[r];N<W.length;N+=1)if(t===W[N])return!0;return!1},Ga.prototype.getId=function(t,r){var d=t.id;return this.promoteId&&"boolean"==typeof(d=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[r]])&&(d=Number(d)),d},sn("FeatureIndex",Ga,{omit:["rawTileData","sourceLayerCoder"]});var ds=function(t,r){this.tileID=t,this.uid=yt(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ds.prototype.registerFadeDuration=function(t){var r=t+this.timeAdded;r<ue.now()||this.fadeEndTime&&r<this.fadeEndTime||(this.fadeEndTime=r)},ds.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ds.prototype.loadVectorData=function(t,r,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var N in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(Ht,$t){var ee={};if(!$t)return ee;for(var ce=function(){var Le=Ee[ge],qe=Le.layerIds.map(function(xi){return $t.getLayer(xi)}).filter(Boolean);if(0!==qe.length){Le.layers=qe,Le.stateDependentLayerIds&&(Le.stateDependentLayers=Le.stateDependentLayerIds.map(function(xi){return qe.filter(function(Mi){return Mi.id===xi})[0]}));for(var Ve=0,hi=qe;Ve<hi.length;Ve+=1)ee[hi[Ve].id]=Le}},ge=0,Ee=Ht;ge<Ee.length;ge+=1)ce();return ee}(t.buckets,r.style),this.hasSymbolBuckets=!1,this.buckets){var W=this.buckets[N];if(W instanceof mo){if(this.hasSymbolBuckets=!0,!d)break;W.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Q in this.buckets){var st=this.buckets[Q];if(st instanceof mo&&st.hasRTLText){this.hasRTLText=!0,bs.isLoading()||bs.isLoaded()||"deferred"!==sl()||ta();break}}for(var bt in this.queryPadding=0,this.buckets){var Nt=this.buckets[bt];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(bt).queryRadius(Nt))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new w},ds.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ds.prototype.getBucket=function(t){return this.buckets[t.id]},ds.prototype.upload=function(t){for(var r in this.buckets){var d=this.buckets[r];d.uploadPending()&&d.upload(t)}var N=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ml(t,this.imageAtlas.image,N.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ml(t,this.glyphAtlasImage,N.ALPHA),this.glyphAtlasImage=null)},ds.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},ds.prototype.queryRenderedFeatures=function(t,r,d,N,W,Q,st,bt,Nt,Ht){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:N,cameraQueryGeometry:W,scale:Q,tileSize:this.tileSize,pixelPosMatrix:Ht,transform:bt,params:st,queryPadding:this.queryPadding*Nt},t,r,d):{}},ds.prototype.querySourceFeatures=function(t,r){var d=this.latestFeatureIndex;if(d&&d.rawTileData){var N=d.loadVTLayers(),W=r?r.sourceLayer:"",Q=N._geojsonTileLayer||N[W];if(Q)for(var st=en(r&&r.filter),bt=this.tileID.canonical,Nt=bt.z,Ht=bt.x,$t=bt.y,ee={z:Nt,x:Ht,y:$t},ce=0;ce<Q.length;ce++){var ge=Q.feature(ce);if(st.needGeometry){var Ee=Uo(ge,!0);if(!st.filter(new Er(this.tileID.overscaledZ),Ee,this.tileID.canonical))continue}else if(!st.filter(new Er(this.tileID.overscaledZ),ge))continue;var Le=d.getId(ge,W),qe=new Xh(ge,Nt,Ht,$t,Le);qe.tile=ee,t.push(qe)}}},ds.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ds.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ds.prototype.setExpiryData=function(t){var r=this.expirationTime;if(t.cacheControl){var d=kt(t.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var N=Date.now(),W=!1;if(this.expirationTime>N)W=!1;else if(r)if(this.expirationTime<r)W=!0;else{var Q=this.expirationTime-r;Q?this.expirationTime=N+Math.max(Q,3e4):W=!0}else W=!0;W?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ds.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ds.prototype.setFeatureState=function(t,r){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var d=this.latestFeatureIndex.loadVTLayers();for(var N in this.buckets)if(r.style.hasLayer(N)){var W=this.buckets[N],Q=W.layers[0].sourceLayer||"_geojsonTileLayer",st=d[Q],bt=t[Q];if(st&&bt&&0!==Object.keys(bt).length){W.update(bt,st,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Nt=r&&r.style&&r.style.getLayer(N);Nt&&(this.queryPadding=Math.max(this.queryPadding,Nt.queryRadius(W)))}}}},ds.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ds.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ue.now()},ds.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ds.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=ue.now()+t},ds.prototype.setDependencies=function(t,r){for(var d={},N=0,W=r;N<W.length;N+=1)d[W[N]]=!0;this.dependencies[t]=d},ds.prototype.hasDependency=function(t,r){for(var d=0,N=t;d<N.length;d+=1){var W=this.dependencies[N[d]];if(W)for(var Q=0,st=r;Q<st.length;Q+=1)if(W[st[Q]])return!0}return!1};var il=P.performance,Nc=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},il.mark(this._marks.start)};Nc.prototype.finish=function(){il.mark(this._marks.end);var t=il.getEntriesByName(this._marks.measure);return 0===t.length&&(il.measure(this._marks.measure,this._marks.start,this._marks.end),t=il.getEntriesByName(this._marks.measure),il.clearMarks(this._marks.start),il.clearMarks(this._marks.end),il.clearMeasures(this._marks.measure)),t},n.Actor=Bl,n.AlphaImage=fl,n.CanonicalTileID=yl,n.CollisionBoxArray=w,n.Color=Wi,n.DEMData=Ha,n.DataConstantProperty=jn,n.DictionaryCoder=Wh,n.EXTENT=8192,n.ErrorEvent=Kt,n.EvaluationParameters=Er,n.Event=jt,n.Evented=se,n.FeatureIndex=Ga,n.FillBucket=_a,n.FillExtrusionBucket=xa,n.ImageAtlas=ch,n.ImagePosition=Rh,n.LineBucket=Is,n.LngLat=Co,n.LngLatBounds=Qo,n.MercatorCoordinate=gl,n.ONE_EM=24,n.OverscaledTileID=ts,n.Point=m,n.Point$1=m,n.Properties=Jo,n.Protobuf=Ih,n.RGBAImage=Hs,n.RequestManager=Si,n.RequestPerformance=Nc,n.ResourceType=mi,n.SegmentVector=we,n.SourceFeatureState=zl,n.StructArrayLayout1ui2=ih,n.StructArrayLayout2f1f2i16=Fa,n.StructArrayLayout2i4=za,n.StructArrayLayout3ui6=Aa,n.StructArrayLayout4i8=$l,n.SymbolBucket=mo,n.Texture=ml,n.Tile=ds,n.Transitionable=Ko,n.Uniform1f=fn,n.Uniform1i=Ki,n.Uniform2f=dn,n.Uniform3f=Mn,n.Uniform4f=Wn,n.UniformColor=qn,n.UniformMatrix4f=Xr,n.UnwrappedTileID=Lc,n.ValidationError=fe,n.WritingMode=na,n.ZoomHistory=hs,n.add=function(t,r,d){return t[0]=r[0]+d[0],t[1]=r[1]+d[1],t[2]=r[2]+d[2],t},n.addDynamicAttributes=Su,n.asyncAll=function(t,r,d){if(!t.length)return d(null,[]);var N=t.length,W=new Array(t.length),Q=null;t.forEach(function(st,bt){r(st,function(Nt,Ht){Nt&&(Q=Nt),W[bt]=Ht,0==--N&&d(Q,W)})})},n.bezier=f,n.bindAll=tt,n.browser=ue,n.cacheEntryPossiblyAdded=function(t){++Ji>nn&&(t.getActor().send("enforceCacheSizeLimit",Ri),Ji=0)},n.clamp=B,n.clearTileCache=function(t){var r=P.caches.delete("mapbox-tiles");t&&r.catch(t).then(function(){return t()})},n.clipLine=gc,n.clone=function(t){var r=new ro(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},n.clone$1=ht,n.clone$2=function(t){var r=new ro(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},n.collisionCircleLayout=Wd,n.config=me,n.create=function(){var t=new ro(16);return ro!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},n.create$1=function(){var t=new ro(9);return ro!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},n.create$2=function(){var t=new ro(4);return ro!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},n.createCommonjsModule=k,n.createExpression=Xs,n.createLayout=Yo,n.createStyleLayer=function(t){return"custom"===t.type?new Tp(t):new Sp[t.type](t)},n.cross=function(t,r,d){var N=r[0],W=r[1],Q=r[2],st=d[0],bt=d[1],Nt=d[2];return t[0]=W*Nt-Q*bt,t[1]=Q*st-N*Nt,t[2]=N*bt-W*st,t},n.deepEqual=function t(r,d){if(Array.isArray(r)){if(!Array.isArray(d)||r.length!==d.length)return!1;for(var N=0;N<r.length;N++)if(!t(r[N],d[N]))return!1;return!0}if("object"==typeof r&&null!==r&&null!==d){if("object"!=typeof d||Object.keys(r).length!==Object.keys(d).length)return!1;for(var W in r)if(!t(r[W],d[W]))return!1;return!0}return r===d},n.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},n.dot$1=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},n.ease=o,n.emitValidationErrors=Ir,n.endsWith=wt,n.enforceCacheSizeLimit=function(t){gn(),Dt&&Dt.then(function(r){r.keys().then(function(d){for(var N=0;N<d.length-t;N++)r.delete(d[N])})})},n.evaluateSizeForFeature=uc,n.evaluateSizeForZoom=cc,n.evaluateVariableOffset=_c,n.evented=Sa,n.extend=q,n.featureFilter=en,n.filterObject=At,n.fromRotation=function(t,r){var d=Math.sin(r),N=Math.cos(r);return t[0]=N,t[1]=d,t[2]=0,t[3]=-d,t[4]=N,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.getAnchorAlignment=xu,n.getAnchorJustification=Tu,n.getArrayBuffer=Gi,n.getImage=it,n.getJSON=function(t,r){return Cn(q(t,{type:"json"}),r)},n.getRTLTextPluginStatus=sl,n.getReferrer=Yi,n.getVideo=function(t,r){var d,N,W=P.document.createElement("video");W.muted=!0,W.onloadstart=function(){r(null,W)};for(var Q=0;Q<t.length;Q++){var st=P.document.createElement("source");d=t[Q],N=void 0,(N=P.document.createElement("a")).href=d,(N.protocol!==P.document.location.protocol||N.host!==P.document.location.host)&&(W.crossOrigin="Anonymous"),st.src=t[Q],W.appendChild(st)}return{cancel:function(){}}},n.identity=Js,n.invert=function(t,r){var d=r[0],N=r[1],W=r[2],Q=r[3],st=r[4],bt=r[5],Nt=r[6],Ht=r[7],$t=r[8],ee=r[9],ce=r[10],ge=r[11],Ee=r[12],Le=r[13],qe=r[14],Ve=r[15],hi=d*bt-N*st,xi=d*Nt-W*st,Mi=d*Ht-Q*st,Ei=N*Nt-W*bt,Ui=N*Ht-Q*bt,ln=W*Ht-Q*Nt,yn=$t*Le-ee*Ee,Un=$t*qe-ce*Ee,Tn=$t*Ve-ge*Ee,Xn=ee*qe-ce*Le,Sn=ee*Ve-ge*Le,Mr=ce*Ve-ge*qe,nr=hi*Mr-xi*Sn+Mi*Xn+Ei*Tn-Ui*Un+ln*yn;return nr?(t[0]=(bt*Mr-Nt*Sn+Ht*Xn)*(nr=1/nr),t[1]=(W*Sn-N*Mr-Q*Xn)*nr,t[2]=(Le*ln-qe*Ui+Ve*Ei)*nr,t[3]=(ce*Ui-ee*ln-ge*Ei)*nr,t[4]=(Nt*Tn-st*Mr-Ht*Un)*nr,t[5]=(d*Mr-W*Tn+Q*Un)*nr,t[6]=(qe*Mi-Ee*ln-Ve*xi)*nr,t[7]=($t*ln-ce*Mi+ge*xi)*nr,t[8]=(st*Sn-bt*Tn+Ht*yn)*nr,t[9]=(N*Tn-d*Sn-Q*yn)*nr,t[10]=(Ee*Ui-Le*Mi+Ve*hi)*nr,t[11]=(ee*Mi-$t*Ui-ge*hi)*nr,t[12]=(bt*Un-st*Xn-Nt*yn)*nr,t[13]=(d*Xn-N*Un+W*yn)*nr,t[14]=(Le*xi-Ee*Ei-qe*hi)*nr,t[15]=($t*Ei-ee*xi+ce*hi)*nr,t):null},n.isChar=an,n.isMapboxURL=bi,n.keysDifference=function(t,r){var d=[];for(var N in t)N in r||d.push(N);return d},n.makeRequest=Cn,n.mapObject=St,n.mercatorXfromLng=kc,n.mercatorYfromLat=Dc,n.mercatorZfromAltitude=Ec,n.mul=lu,n.multiply=Os,n.mvt=Ml,n.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},n.normalize=function(t,r){var d=r[0],N=r[1],W=r[2],Q=d*d+N*N+W*W;return Q>0&&(Q=1/Math.sqrt(Q)),t[0]=r[0]*Q,t[1]=r[1]*Q,t[2]=r[2]*Q,t},n.number=on,n.offscreenCanvasSupported=ci,n.ortho=function(t,r,d,N,W,Q,st){var bt=1/(r-d),Nt=1/(N-W),Ht=1/(Q-st);return t[0]=-2*bt,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*Nt,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*Ht,t[11]=0,t[12]=(r+d)*bt,t[13]=(W+N)*Nt,t[14]=(st+Q)*Ht,t[15]=1,t},n.parseGlyphPBF=function(t){return new Ih(t).readFields(ip,[])},n.pbf=Ih,n.performSymbolLayout=function(t,r,d,N,W,Q,st){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var bt=t.layers[0].layout,Nt=t.layers[0]._unevaluatedLayout._values,Ht={};if("composite"===t.textSizeData.kind){var $t=t.textSizeData,ee=$t.maxZoom;Ht.compositeTextSizes=[Nt["text-size"].possiblyEvaluate(new Er($t.minZoom),st),Nt["text-size"].possiblyEvaluate(new Er(ee),st)]}if("composite"===t.iconSizeData.kind){var ce=t.iconSizeData,ge=ce.maxZoom;Ht.compositeIconSizes=[Nt["icon-size"].possiblyEvaluate(new Er(ce.minZoom),st),Nt["icon-size"].possiblyEvaluate(new Er(ge),st)]}Ht.layoutTextSize=Nt["text-size"].possiblyEvaluate(new Er(t.zoom+1),st),Ht.layoutIconSize=Nt["icon-size"].possiblyEvaluate(new Er(t.zoom+1),st),Ht.textMaxSize=Nt["text-size"].possiblyEvaluate(new Er(18));for(var Ee=24*bt.get("text-line-height"),Le="map"===bt.get("text-rotation-alignment")&&"point"!==bt.get("symbol-placement"),qe=bt.get("text-keep-upright"),Ve=bt.get("text-size"),hi=function(){var Ei=Mi[xi],Ui=bt.get("text-font").evaluate(Ei,{},st).join(","),ln=Ve.evaluate(Ei,{},st),yn=Ht.layoutTextSize.evaluate(Ei,{},st),Un=Ht.layoutIconSize.evaluate(Ei,{},st),Tn={horizontal:{},vertical:void 0},Xn=Ei.text,Sn=[0,0];if(Xn){var Mr=Xn.toString(),nr=24*bt.get("text-letter-spacing").evaluate(Ei,{},st),Nn=function(Rr){for(var vo=0,lo=Rr;vo<lo.length;vo+=1)if(Yr=lo[vo].charCodeAt(0),an.Arabic(Yr)||an["Arabic Supplement"](Yr)||an["Arabic Extended-A"](Yr)||an["Arabic Presentation Forms-A"](Yr)||an["Arabic Presentation Forms-B"](Yr))return!1;var Yr;return!0}(Mr)?nr:0,Lr=bt.get("text-anchor").evaluate(Ei,{},st),xr=bt.get("text-variable-anchor");if(!xr){var Hr=bt.get("text-radial-offset").evaluate(Ei,{},st);Sn=Hr?_c(Lr,[24*Hr,wu]):bt.get("text-offset").evaluate(Ei,{},st).map(function(Rr){return 24*Rr})}var Yn=Le?"center":bt.get("text-justify").evaluate(Ei,{},st),eo=bt.get("symbol-placement"),Ao="point"===eo?24*bt.get("text-max-width").evaluate(Ei,{},st):0,zo=function(){t.allowVerticalPlacement&&zs(Mr)&&(Tn.vertical=Bh(Xn,r,d,W,Ui,Ao,Ee,Lr,"left",Nn,Sn,na.vertical,!0,eo,yn,ln))};if(!Le&&xr){for(var Lo="auto"===Yn?xr.map(function(Rr){return Tu(Rr)}):[Yn],Po=!1,Fo=0;Fo<Lo.length;Fo++){var rs=Lo[Fo];if(!Tn.horizontal[rs])if(Po)Tn.horizontal[rs]=Tn.horizontal[0];else{var os=Bh(Xn,r,d,W,Ui,Ao,Ee,"center",rs,Nn,Sn,na.horizontal,!1,eo,yn,ln);os&&(Tn.horizontal[rs]=os,Po=1===os.positionedLines.length)}}zo()}else{"auto"===Yn&&(Yn=Tu(Lr));var Ms=Bh(Xn,r,d,W,Ui,Ao,Ee,Lr,Yn,Nn,Sn,na.horizontal,!1,eo,yn,ln);Ms&&(Tn.horizontal[Yn]=Ms),zo(),zs(Mr)&&Le&&qe&&(Tn.vertical=Bh(Xn,r,d,W,Ui,Ao,Ee,Lr,Yn,Nn,Sn,na.vertical,!1,eo,yn,ln))}}var Rr,vo,Yr,Ns,Ts,ps=void 0,ks=!1;if(Ei.icon&&Ei.icon.name){var Vo=N[Ei.icon.name];Vo&&(Rr=W[Ei.icon.name],vo=bt.get("icon-offset").evaluate(Ei,{},st),Yr=xu(bt.get("icon-anchor").evaluate(Ei,{},st)),ps={image:Rr,top:Ts=vo[1]-Rr.displaySize[1]*Yr.verticalAlign,bottom:Ts+Rr.displaySize[1],left:Ns=vo[0]-Rr.displaySize[0]*Yr.horizontalAlign,right:Ns+Rr.displaySize[0]},ks=Vo.sdf,void 0===t.sdfIcons?t.sdfIcons=Vo.sdf:t.sdfIcons!==Vo.sdf&&dt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Vo.pixelRatio!==t.pixelRatio||0!==bt.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var fs=bc(Tn.horizontal)||Tn.vertical;t.iconsInText=!!fs&&fs.iconsInText,(fs||ps)&&function(Rr,vo,lo,Yr,Ns,Ts,bo,Zo,Ss,io,La){var ra=Ts.textMaxSize.evaluate(vo,{});void 0===ra&&(ra=bo);var Oa,Ho=Rr.layers[0].layout,Ia=Ho.get("icon-offset").evaluate(vo,{},La),ma=bc(lo.horizontal),Fl=bo/24,vl=Rr.tilePixelRatio*Fl,jl=Rr.tilePixelRatio*ra/24,Wa=Rr.tilePixelRatio*Zo,Ul=Rr.tilePixelRatio*Ho.get("symbol-spacing"),Yh=Ho.get("text-padding")*Rr.tilePixelRatio,Vl=Ho.get("icon-padding")*Rr.tilePixelRatio,fh=Ho.get("text-max-angle")/180*Math.PI,Zh="map"===Ho.get("text-rotation-alignment")&&"point"!==Ho.get("symbol-placement"),qh="map"===Ho.get("icon-rotation-alignment")&&"point"!==Ho.get("symbol-placement"),Xa=Ho.get("symbol-placement"),mh=Ul/2,Hl=Ho.get("icon-text-fit");Yr&&"none"!==Hl&&(Rr.allowVerticalPlacement&&lo.vertical&&(Oa=hc(Yr,lo.vertical,Hl,Ho.get("icon-text-fit-padding"),Ia,Fl)),ma&&(Yr=hc(Yr,ma,Hl,Ho.get("icon-text-fit-padding"),Ia,Fl)));var nl=function(Ap,Th){Th.x<0||Th.x>=8192||Th.y<0||Th.y>=8192||function(Go,ba,Pp,rl,Lu,zc,eu,Na,iu,Sh,nu,ru,Ou,Fc,Ch,jc,Uc,Vc,Hc,Gc,oa,ou,Wc,Ra,Mp){var Xc,xl,Zl,ql,Kl,Jl=Go.addToLineVertexArray(ba,Pp),Yc=0,Zc=0,qc=0,Kc=0,Iu=-1,Nu=-1,Ya={},Jc=De(""),Ru=0,Bu=0;if(void 0===Na._unevaluatedLayout.getValue("text-radial-offset")?(Ru=(Xc=Na.layout.get("text-offset").evaluate(oa,{},Ra).map(function(Ph){return 24*Ph}))[0],Bu=Xc[1]):(Ru=24*Na.layout.get("text-radial-offset").evaluate(oa,{},Ra),Bu=wu),Go.allowVerticalPlacement&&rl.vertical){var $c=Na.layout.get("text-rotate").evaluate(oa,{},Ra)+90;ql=new Vh(iu,ba,Sh,nu,ru,rl.vertical,Ou,Fc,Ch,$c),eu&&(Kl=new Vh(iu,ba,Sh,nu,ru,eu,Uc,Vc,Ch,$c))}if(Lu){var zu=Na.layout.get("icon-rotate").evaluate(oa,{}),Qc="none"!==Na.layout.get("icon-text-fit"),td=yc(Lu,zu,Wc,Qc),Fu=eu?yc(eu,zu,Wc,Qc):void 0;Zl=new Vh(iu,ba,Sh,nu,ru,Lu,Uc,Vc,!1,zu),Yc=4*td.length;var ed=Go.iconSizeData,Ah=null;"source"===ed.kind?(Ah=[128*Na.layout.get("icon-size").evaluate(oa,{})])[0]>32640&&dt(Go.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===ed.kind&&((Ah=[128*ou.compositeIconSizes[0].evaluate(oa,{},Ra),128*ou.compositeIconSizes[1].evaluate(oa,{},Ra)])[0]>32640||Ah[1]>32640)&&dt(Go.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Go.addSymbols(Go.icon,td,Ah,Gc,Hc,oa,!1,ba,Jl.lineStartIndex,Jl.lineLength,-1,Ra),Iu=Go.icon.placedSymbolArray.length-1,Fu&&(Zc=4*Fu.length,Go.addSymbols(Go.icon,Fu,Ah,Gc,Hc,oa,na.vertical,ba,Jl.lineStartIndex,Jl.lineLength,-1,Ra),Nu=Go.icon.placedSymbolArray.length-1)}for(var id in rl.horizontal){var su=rl.horizontal[id];if(!xl){Jc=De(su.text);var kp=Na.layout.get("text-rotate").evaluate(oa,{},Ra);xl=new Vh(iu,ba,Sh,nu,ru,su,Ou,Fc,Ch,kp)}var nd=1===su.positionedLines.length;if(qc+=xc(Go,ba,su,zc,Na,Ch,oa,jc,Jl,rl.vertical?na.horizontal:na.horizontalOnly,nd?Object.keys(rl.horizontal):[id],Ya,Iu,ou,Ra),nd)break}rl.vertical&&(Kc+=xc(Go,ba,rl.vertical,zc,Na,Ch,oa,jc,Jl,na.vertical,["vertical"],Ya,Nu,ou,Ra));var Dp=xl?xl.boxStartIndex:Go.collisionBoxArray.length,Ep=xl?xl.boxEndIndex:Go.collisionBoxArray.length,Lp=ql?ql.boxStartIndex:Go.collisionBoxArray.length,Op=ql?ql.boxEndIndex:Go.collisionBoxArray.length,Ip=Zl?Zl.boxStartIndex:Go.collisionBoxArray.length,Np=Zl?Zl.boxEndIndex:Go.collisionBoxArray.length,Rp=Kl?Kl.boxStartIndex:Go.collisionBoxArray.length,Bp=Kl?Kl.boxEndIndex:Go.collisionBoxArray.length,Ba=-1,au=function(Ph,od){return Ph&&Ph.circleDiameter?Math.max(Ph.circleDiameter,od):od};Ba=au(xl,Ba),Ba=au(ql,Ba),Ba=au(Zl,Ba);var rd=(Ba=au(Kl,Ba))>-1?1:0;rd&&(Ba*=Mp/24),Go.glyphOffsetArray.length>=mo.MAX_GLYPHS&&dt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==oa.sortKey&&Go.addToSortKeyRanges(Go.symbolInstances.length,oa.sortKey),Go.symbolInstances.emplaceBack(ba.x,ba.y,Ya.right>=0?Ya.right:-1,Ya.center>=0?Ya.center:-1,Ya.left>=0?Ya.left:-1,Ya.vertical||-1,Iu,Nu,Jc,Dp,Ep,Lp,Op,Ip,Np,Rp,Bp,Sh,qc,Kc,Yc,Zc,rd,0,Ou,Ru,Bu,Ba)}(Rr,Th,Ap,lo,Yr,Ns,Oa,Rr.layers[0],Rr.collisionBoxArray,vo.index,vo.sourceLayerIndex,Rr.index,vl,Yh,Zh,Ss,Wa,Vl,qh,Ia,vo,Ts,io,La,bo)};if("line"===Xa)for(var Gl=0,Kh=gc(vo.geometry,0,0,8192,8192);Gl<Kh.length;Gl+=1)for(var Jh=Kh[Gl],gh=0,yh=hp(Jh,Ul,fh,lo.vertical||ma,Yr,24,jl,Rr.overscaling,8192);gh<yh.length;gh+=1){var $h=yh[gh];ma&&pp(Rr,ma.text,mh,$h)||nl(Jh,$h)}else if("line-center"===Xa)for(var vh=0,_h=vo.geometry;vh<_h.length;vh+=1){var xh=_h[vh];if(xh.length>1){var Qh=lp(xh,fh,lo.vertical||ma,Yr,24,jl);Qh&&nl(xh,Qh)}}else if("Polygon"===vo.type)for(var Wl=0,tu=mu(vo.geometry,0);Wl<tu.length;Wl+=1){var Xl=tu[Wl],bh=cp(Xl,16);nl(Xl[0],new Ll(bh.x,bh.y,0))}else if("LineString"===vo.type)for(var _l=0,wh=vo.geometry;_l<wh.length;_l+=1){var Yl=wh[_l];nl(Yl,new Ll(Yl[0].x,Yl[0].y,0))}else if("Point"===vo.type)for(var ku=0,Rc=vo.geometry;ku<Rc.length;ku+=1)for(var Du=0,Bc=Rc[ku];Du<Bc.length;Du+=1){var Eu=Bc[Du];nl([Eu],new Ll(Eu.x,Eu.y,0))}}(t,Ei,Tn,ps,N,Ht,yn,Un,Sn,ks,st)},xi=0,Mi=t.features;xi<Mi.length;xi+=1)hi();Q&&t.generateCollisionDebugBuffers()},n.perspective=function(t,r,d,N,W){var Q,st=1/Math.tan(r/2);return t[0]=st/d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=st,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=W&&W!==1/0?(t[10]=(W+N)*(Q=1/(N-W)),t[14]=2*W*N*Q):(t[10]=-1,t[14]=-2*N),t},n.pick=function(t,r){for(var d={},N=0;N<r.length;N++){var W=r[N];W in t&&(d[W]=t[W])}return d},n.plugin=bs,n.polygonIntersectsPolygon=ka,n.postMapLoadEvent=Hi,n.postTurnstileEvent=Fe,n.potpack=oc,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.register=sn,n.registerForPluginStateChange=function(t){return t({pluginStatus:jo,pluginURL:Fs}),Sa.on("pluginStateChange",t),t},n.renderColorRamp=ju,n.rotate=function(t,r,d){var N=r[0],W=r[1],Q=r[2],st=r[3],bt=Math.sin(d),Nt=Math.cos(d);return t[0]=N*Nt+Q*bt,t[1]=W*Nt+st*bt,t[2]=N*-bt+Q*Nt,t[3]=W*-bt+st*Nt,t},n.rotateX=function(t,r,d){var N=Math.sin(d),W=Math.cos(d),Q=r[4],st=r[5],bt=r[6],Nt=r[7],Ht=r[8],$t=r[9],ee=r[10],ce=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=Q*W+Ht*N,t[5]=st*W+$t*N,t[6]=bt*W+ee*N,t[7]=Nt*W+ce*N,t[8]=Ht*W-Q*N,t[9]=$t*W-st*N,t[10]=ee*W-bt*N,t[11]=ce*W-Nt*N,t},n.rotateZ=function(t,r,d){var N=Math.sin(d),W=Math.cos(d),Q=r[0],st=r[1],bt=r[2],Nt=r[3],Ht=r[4],$t=r[5],ee=r[6],ce=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=Q*W+Ht*N,t[1]=st*W+$t*N,t[2]=bt*W+ee*N,t[3]=Nt*W+ce*N,t[4]=Ht*W-Q*N,t[5]=$t*W-st*N,t[6]=ee*W-bt*N,t[7]=ce*W-Nt*N,t},n.scale=function(t,r,d){var N=d[0],W=d[1],Q=d[2];return t[0]=r[0]*N,t[1]=r[1]*N,t[2]=r[2]*N,t[3]=r[3]*N,t[4]=r[4]*W,t[5]=r[5]*W,t[6]=r[6]*W,t[7]=r[7]*W,t[8]=r[8]*Q,t[9]=r[9]*Q,t[10]=r[10]*Q,t[11]=r[11]*Q,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},n.scale$1=function(t,r,d){return t[0]=r[0]*d,t[1]=r[1]*d,t[2]=r[2]*d,t[3]=r[3]*d,t},n.scale$2=function(t,r,d){return t[0]=r[0]*d,t[1]=r[1]*d,t[2]=r[2]*d,t},n.setCacheLimits=function(t,r){Ri=t,nn=r},n.setRTLTextPlugin=function(t,r,d){if(void 0===d&&(d=!1),"deferred"===jo||"loading"===jo||"loaded"===jo)throw new Error("setRTLTextPlugin cannot be called multiple times.");Fs=ue.resolveURL(t),jo="deferred",xs=r,Ta(),d||ta()},n.sphericalToCartesian=function(t){var r=t[0],d=t[1],N=t[2];return d+=90,d*=Math.PI/180,N*=Math.PI/180,{x:r*Math.cos(d)*Math.sin(N),y:r*Math.sin(d)*Math.sin(N),z:r*Math.cos(N)}},n.sqrLen=function(t){var r=t[0],d=t[1];return r*r+d*d},n.styleSpec=ie,n.sub=function(t,r,d){return t[0]=r[0]-d[0],t[1]=r[1]-d[1],t[2]=r[2]-d[2],t},n.symbolSize=ap,n.transformMat3=function(t,r,d){var N=r[0],W=r[1],Q=r[2];return t[0]=N*d[0]+W*d[3]+Q*d[6],t[1]=N*d[1]+W*d[4]+Q*d[7],t[2]=N*d[2]+W*d[5]+Q*d[8],t},n.transformMat4=Sl,n.translate=function(t,r,d){var N,W,Q,st,bt,Nt,Ht,$t,ee,ce,ge,Ee,Le=d[0],qe=d[1],Ve=d[2];return r===t?(t[12]=r[0]*Le+r[4]*qe+r[8]*Ve+r[12],t[13]=r[1]*Le+r[5]*qe+r[9]*Ve+r[13],t[14]=r[2]*Le+r[6]*qe+r[10]*Ve+r[14],t[15]=r[3]*Le+r[7]*qe+r[11]*Ve+r[15]):(W=r[1],Q=r[2],st=r[3],bt=r[4],Nt=r[5],Ht=r[6],$t=r[7],ee=r[8],ce=r[9],ge=r[10],Ee=r[11],t[0]=N=r[0],t[1]=W,t[2]=Q,t[3]=st,t[4]=bt,t[5]=Nt,t[6]=Ht,t[7]=$t,t[8]=ee,t[9]=ce,t[10]=ge,t[11]=Ee,t[12]=N*Le+bt*qe+ee*Ve+r[12],t[13]=W*Le+Nt*qe+ce*Ve+r[13],t[14]=Q*Le+Ht*qe+ge*Ve+r[14],t[15]=st*Le+$t*qe+Ee*Ve+r[15]),t},n.triggerPluginCompletionEvent=ol,n.uniqueId=yt,n.validateCustomStyleLayer=function(t){var r=[],d=t.id;return void 0===d&&r.push({message:"layers."+d+': missing required property "id"'}),void 0===t.render&&r.push({message:"layers."+d+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&r.push({message:"layers."+d+': property "renderingMode" must be either "2d" or "3d"'}),r},n.validateLight=Dr,n.validateStyle=gr,n.values=function(t){var r=[];for(var d in t)r.push(t[d]);return r},n.vectorTile=Ml,n.version="1.13.1",n.warnOnce=dt,n.webpSupported=ve,n.window=P,n.wrap=V}),u(0,function(n){function k(K){var it=typeof K;if("number"===it||"boolean"===it||"string"===it||null==K)return JSON.stringify(K);if(Array.isArray(K)){for(var gt="[",Pt=0,jt=K;Pt<jt.length;Pt+=1)gt+=k(jt[Pt])+",";return gt+"]"}for(var Kt=Object.keys(K).sort(),se="{",ie=0;ie<Kt.length;ie++)se+=JSON.stringify(Kt[ie])+":"+k(K[Kt[ie]])+",";return se+"}"}function C(K){for(var it="",gt=0,Pt=n.refProperties;gt<Pt.length;gt+=1)it+="/"+k(K[Pt[gt]]);return it}var O=function(K){this.keyCache={},K&&this.replace(K)};O.prototype.replace=function(K){this._layerConfigs={},this._layers={},this.update(K,[])},O.prototype.update=function(K,it){for(var gt=this,Pt=0,jt=K;Pt<jt.length;Pt+=1){var Kt=jt[Pt];this._layerConfigs[Kt.id]=Kt;var se=this._layers[Kt.id]=n.createStyleLayer(Kt);se._featureFilter=n.featureFilter(se.filter),this.keyCache[Kt.id]&&delete this.keyCache[Kt.id]}for(var ie=0,fe=it;ie<fe.length;ie+=1){var He=fe[ie];delete this.keyCache[He],delete this._layerConfigs[He],delete this._layers[He]}this.familiesBySource={};for(var Ge=0,ai=function(Di,si){for(var pn={},Fi=0;Fi<Di.length;Fi++){var xn=si&&si[Di[Fi].id]||C(Di[Fi]);si&&(si[Di[Fi].id]=xn);var tn=pn[xn];tn||(tn=pn[xn]=[]),tn.push(Di[Fi])}var An=[];for(var Rn in pn)An.push(pn[Rn]);return An}(n.values(this._layerConfigs),this.keyCache);Ge<ai.length;Ge+=1){var ye=ai[Ge].map(function(Di){return gt._layers[Di.id]}),ii=ye[0];if("none"!==ii.visibility){var je=ii.source||"",wi=this.familiesBySource[je];wi||(wi=this.familiesBySource[je]={});var ei=ii.sourceLayer||"_geojsonTileLayer",Bi=wi[ei];Bi||(Bi=wi[ei]=[]),Bi.push(ye)}}};var m=function(K){var it={},gt=[];for(var Pt in K){var jt=K[Pt],Kt=it[Pt]={};for(var se in jt){var ie=jt[+se];if(ie&&0!==ie.bitmap.width&&0!==ie.bitmap.height){var fe={x:0,y:0,w:ie.bitmap.width+2,h:ie.bitmap.height+2};gt.push(fe),Kt[se]={rect:fe,metrics:ie.metrics}}}}var He=n.potpack(gt),Ge=new n.AlphaImage({width:He.w||1,height:He.h||1});for(var ai in K){var ye=K[ai];for(var ii in ye){var je=ye[+ii];if(je&&0!==je.bitmap.width&&0!==je.bitmap.height){var wi=it[ai][ii].rect;n.AlphaImage.copy(je.bitmap,Ge,{x:0,y:0},{x:wi.x+1,y:wi.y+1},je.bitmap)}}}this.image=Ge,this.positions=it};n.register("GlyphAtlas",m);var A=function(K){this.tileID=new n.OverscaledTileID(K.tileID.overscaledZ,K.tileID.wrap,K.tileID.canonical.z,K.tileID.canonical.x,K.tileID.canonical.y),this.uid=K.uid,this.zoom=K.zoom,this.pixelRatio=K.pixelRatio,this.tileSize=K.tileSize,this.source=K.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=K.showCollisionBoxes,this.collectResourceTiming=!!K.collectResourceTiming,this.returnDependencies=!!K.returnDependencies,this.promoteId=K.promoteId};function P(K,it,gt){for(var Pt=new n.EvaluationParameters(it),jt=0,Kt=K;jt<Kt.length;jt+=1)Kt[jt].recalculate(Pt,gt)}function D(K,it){var gt=n.getArrayBuffer(K.request,function(Pt,jt,Kt,se){Pt?it(Pt):jt&&it(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(jt)),rawData:jt,cacheControl:Kt,expires:se})});return function(){gt.cancel(),it()}}A.prototype.parse=function(K,it,gt,Pt,jt){var Kt=this;this.status="parsing",this.data=K,this.collisionBoxArray=new n.CollisionBoxArray;var se=new n.DictionaryCoder(Object.keys(K.layers).sort()),ie=new n.FeatureIndex(this.tileID,this.promoteId);ie.bucketLayerIDs=[];var fe,He,Ge,ai,ye={},ii={featureIndex:ie,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:gt},je=it.familiesBySource[this.source];for(var wi in je){var ei=K.layers[wi];if(ei){1===ei.version&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+wi+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Bi=se.encode(wi),Di=[],si=0;si<ei.length;si++){var pn=ei.feature(si),Fi=ie.getId(pn,wi);Di.push({feature:pn,id:Fi,index:si,sourceLayerIndex:Bi})}for(var xn=0,tn=je[wi];xn<tn.length;xn+=1){var An=tn[xn],Rn=An[0];Rn.minzoom&&this.zoom<Math.floor(Rn.minzoom)||Rn.maxzoom&&this.zoom>=Rn.maxzoom||"none"!==Rn.visibility&&(P(An,this.zoom,gt),(ye[Rn.id]=Rn.createBucket({index:ie.bucketLayerIDs.length,layers:An,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Bi,sourceID:this.source})).populate(Di,ii,this.tileID.canonical),ie.bucketLayerIDs.push(An.map(function(Bn){return Bn.id})))}}}var wn=n.mapObject(ii.glyphDependencies,function(Bn){return Object.keys(Bn).map(Number)});Object.keys(wn).length?Pt.send("getGlyphs",{uid:this.uid,stacks:wn},function(Bn,In){fe||(fe=Bn,He=In,Kn.call(Kt))}):He={};var er=Object.keys(ii.iconDependencies);er.length?Pt.send("getImages",{icons:er,source:this.source,tileID:this.tileID,type:"icons"},function(Bn,In){fe||(fe=Bn,Ge=In,Kn.call(Kt))}):Ge={};var Pn=Object.keys(ii.patternDependencies);function Kn(){if(fe)return jt(fe);if(He&&Ge&&ai){var Bn=new m(He),In=new n.ImageAtlas(Ge,ai);for(var Wi in ye){var Jn=ye[Wi];Jn instanceof n.SymbolBucket?(P(Jn.layers,this.zoom,gt),n.performSymbolLayout(Jn,He,Bn.positions,Ge,In.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Jn.hasPattern&&(Jn instanceof n.LineBucket||Jn instanceof n.FillBucket||Jn instanceof n.FillExtrusionBucket)&&(P(Jn.layers,this.zoom,gt),Jn.addFeatures(ii,this.tileID.canonical,In.patternPositions))}this.status="done",jt(null,{buckets:n.values(ye).filter(function(Or){return!Or.isEmpty()}),featureIndex:ie,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Bn.image,imageAtlas:In,glyphMap:this.returnDependencies?He:null,iconMap:this.returnDependencies?Ge:null,glyphPositions:this.returnDependencies?Bn.positions:null})}}Pn.length?Pt.send("getImages",{icons:Pn,source:this.source,tileID:this.tileID,type:"patterns"},function(Bn,In){fe||(fe=Bn,ai=In,Kn.call(Kt))}):ai={},Kn.call(this)};var f=function(K,it,gt,Pt){this.actor=K,this.layerIndex=it,this.availableImages=gt,this.loadVectorData=Pt||D,this.loading={},this.loaded={}};f.prototype.loadTile=function(K,it){var gt=this,Pt=K.uid;this.loading||(this.loading={});var jt=!!(K&&K.request&&K.request.collectResourceTiming)&&new n.RequestPerformance(K.request),Kt=this.loading[Pt]=new A(K);Kt.abort=this.loadVectorData(K,function(se,ie){if(delete gt.loading[Pt],se||!ie)return Kt.status="done",gt.loaded[Pt]=Kt,it(se);var fe=ie.rawData,He={};ie.expires&&(He.expires=ie.expires),ie.cacheControl&&(He.cacheControl=ie.cacheControl);var Ge={};if(jt){var ai=jt.finish();ai&&(Ge.resourceTiming=JSON.parse(JSON.stringify(ai)))}Kt.vectorTile=ie.vectorTile,Kt.parse(ie.vectorTile,gt.layerIndex,gt.availableImages,gt.actor,function(ye,ii){if(ye||!ii)return it(ye);it(null,n.extend({rawTileData:fe.slice(0)},ii,He,Ge))}),gt.loaded=gt.loaded||{},gt.loaded[Pt]=Kt})},f.prototype.reloadTile=function(K,it){var gt=this,Pt=this.loaded,jt=K.uid,Kt=this;if(Pt&&Pt[jt]){var se=Pt[jt];se.showCollisionBoxes=K.showCollisionBoxes;var ie=function(fe,He){var Ge=se.reloadCallback;Ge&&(delete se.reloadCallback,se.parse(se.vectorTile,Kt.layerIndex,gt.availableImages,Kt.actor,Ge)),it(fe,He)};"parsing"===se.status?se.reloadCallback=ie:"done"===se.status&&(se.vectorTile?se.parse(se.vectorTile,this.layerIndex,this.availableImages,this.actor,ie):ie())}},f.prototype.abortTile=function(K,it){var gt=this.loading,Pt=K.uid;gt&&gt[Pt]&&gt[Pt].abort&&(gt[Pt].abort(),delete gt[Pt]),it()},f.prototype.removeTile=function(K,it){var gt=this.loaded,Pt=K.uid;gt&&gt[Pt]&&delete gt[Pt],it()};var o=n.window.ImageBitmap,B=function(){this.loaded={}};function V(K,it){if(0!==K.length){q(K[0],it);for(var gt=1;gt<K.length;gt++)q(K[gt],!it)}}function q(K,it){for(var gt=0,Pt=0,jt=K.length,Kt=jt-1;Pt<jt;Kt=Pt++)gt+=(K[Pt][0]-K[Kt][0])*(K[Kt][1]+K[Pt][1]);gt>=0!=!!it&&K.reverse()}B.prototype.loadTile=function(K,it){var gt=K.uid,Pt=K.encoding,jt=K.rawImageData,Kt=o&&jt instanceof o?this.getImageData(jt):jt,se=new n.DEMData(gt,Kt,Pt);this.loaded=this.loaded||{},this.loaded[gt]=se,it(null,se)},B.prototype.getImageData=function(K){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(K.width,K.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=K.width,this.offscreenCanvas.height=K.height,this.offscreenCanvasContext.drawImage(K,0,0,K.width,K.height);var it=this.offscreenCanvasContext.getImageData(-1,-1,K.width+2,K.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:it.width,height:it.height},it.data)},B.prototype.removeTile=function(K){var it=this.loaded,gt=K.uid;it&&it[gt]&&delete it[gt]};var nt=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,yt=function(K){this._feature=K,this.extent=n.EXTENT,this.type=K.type,this.properties=K.tags,"id"in K&&!isNaN(K.id)&&(this.id=parseInt(K.id,10))};yt.prototype.loadGeometry=function(){if(1===this._feature.type){for(var K=[],it=0,gt=this._feature.geometry;it<gt.length;it+=1){var Pt=gt[it];K.push([new n.Point$1(Pt[0],Pt[1])])}return K}for(var jt=[],Kt=0,se=this._feature.geometry;Kt<se.length;Kt+=1){for(var ie=[],fe=0,He=se[Kt];fe<He.length;fe+=1){var Ge=He[fe];ie.push(new n.Point$1(Ge[0],Ge[1]))}jt.push(ie)}return jt},yt.prototype.toGeoJSON=function(K,it,gt){return nt.call(this,K,it,gt)};var ut=function(K){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=K.length,this._features=K};ut.prototype.feature=function(K){return new yt(this._features[K])};var Y=n.vectorTile.VectorTileFeature,tt=wt;function wt(K,it){this.options=it||{},this.features=K,this.length=K.length}function St(K,it){this.id="number"==typeof K.id?K.id:void 0,this.type=K.type,this.rawGeometry=1===K.type?[K.geometry]:K.geometry,this.properties=K.tags,this.extent=it||4096}wt.prototype.feature=function(K){return new St(this.features[K],this.options.extent)},St.prototype.loadGeometry=function(){var K=this.rawGeometry;this.geometry=[];for(var it=0;it<K.length;it++){for(var gt=K[it],Pt=[],jt=0;jt<gt.length;jt++)Pt.push(new n.Point$1(gt[jt][0],gt[jt][1]));this.geometry.push(Pt)}return this.geometry},St.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var K=this.geometry,it=1/0,gt=-1/0,Pt=1/0,jt=-1/0,Kt=0;Kt<K.length;Kt++)for(var se=K[Kt],ie=0;ie<se.length;ie++){var fe=se[ie];it=Math.min(it,fe.x),gt=Math.max(gt,fe.x),Pt=Math.min(Pt,fe.y),jt=Math.max(jt,fe.y)}return[it,Pt,gt,jt]},St.prototype.toGeoJSON=Y.prototype.toGeoJSON;var At=mt,ht=tt;function mt(K){var it=new n.pbf;return function(gt,Pt){for(var jt in gt.layers)Pt.writeMessage(3,dt,gt.layers[jt])}(K,it),it.finish()}function dt(K,it){var gt;it.writeVarintField(15,K.version||1),it.writeStringField(1,K.name||""),it.writeVarintField(5,K.extent||4096);var Pt={keys:[],values:[],keycache:{},valuecache:{}};for(gt=0;gt<K.length;gt++)Pt.feature=K.feature(gt),it.writeMessage(2,Lt,Pt);var jt=Pt.keys;for(gt=0;gt<jt.length;gt++)it.writeStringField(3,jt[gt]);var Kt=Pt.values;for(gt=0;gt<Kt.length;gt++)it.writeMessage(4,Xt,Kt[gt])}function Lt(K,it){var gt=K.feature;void 0!==gt.id&&it.writeVarintField(1,gt.id),it.writeMessage(2,Ct,K),it.writeVarintField(3,gt.type),it.writeMessage(4,Rt,gt)}function Ct(K,it){var gt=K.feature,Pt=K.keys,jt=K.values,Kt=K.keycache,se=K.valuecache;for(var ie in gt.properties){var fe=Kt[ie];void 0===fe&&(Pt.push(ie),Kt[ie]=fe=Pt.length-1),it.writeVarint(fe);var He=gt.properties[ie],Ge=typeof He;"string"!==Ge&&"boolean"!==Ge&&"number"!==Ge&&(He=JSON.stringify(He));var ai=Ge+":"+He,ye=se[ai];void 0===ye&&(jt.push(He),se[ai]=ye=jt.length-1),it.writeVarint(ye)}}function vt(K,it){return(it<<3)+(7&K)}function kt(K){return K<<1^K>>31}function Rt(K,it){for(var gt=K.loadGeometry(),Pt=K.type,jt=0,Kt=0,se=gt.length,ie=0;ie<se;ie++){var fe=gt[ie],He=1;1===Pt&&(He=fe.length),it.writeVarint(vt(1,He));for(var Ge=3===Pt?fe.length-1:fe.length,ai=0;ai<Ge;ai++){1===ai&&1!==Pt&&it.writeVarint(vt(2,Ge-1));var ye=fe[ai].x-jt,ii=fe[ai].y-Kt;it.writeVarint(kt(ye)),it.writeVarint(kt(ii)),jt+=ye,Kt+=ii}3===Pt&&it.writeVarint(vt(7,1))}}function Xt(K,it){var gt=typeof K;"string"===gt?it.writeStringField(1,K):"boolean"===gt?it.writeBooleanField(7,K):"number"===gt&&(K%1!=0?it.writeDoubleField(3,K):K<0?it.writeSVarintField(6,K):it.writeVarintField(5,K))}function Ft(K,it,gt,Pt){qt(K,gt,Pt),qt(it,2*gt,2*Pt),qt(it,2*gt+1,2*Pt+1)}function qt(K,it,gt){var Pt=K[it];K[it]=K[gt],K[gt]=Pt}function ae(K,it,gt,Pt){var jt=K-gt,Kt=it-Pt;return jt*jt+Kt*Kt}At.fromVectorTileJs=mt,At.fromGeojsonVt=function(K,it){it=it||{};var gt={};for(var Pt in K)gt[Pt]=new tt(K[Pt].features,it),gt[Pt].name=Pt,gt[Pt].version=it.version,gt[Pt].extent=it.extent;return mt({layers:gt})},At.GeoJSONWrapper=ht;var te=function(K){return K[0]},de=function(K){return K[1]},re=function(K,it,gt,Pt,jt){void 0===it&&(it=te),void 0===gt&&(gt=de),void 0===Pt&&(Pt=64),void 0===jt&&(jt=Float64Array),this.nodeSize=Pt,this.points=K;for(var Kt=K.length<65536?Uint16Array:Uint32Array,se=this.ids=new Kt(K.length),ie=this.coords=new jt(2*K.length),fe=0;fe<K.length;fe++)se[fe]=fe,ie[2*fe]=it(K[fe]),ie[2*fe+1]=gt(K[fe]);!function He(Ge,ai,ye,ii,je,wi){if(!(je-ii<=ye)){var ei=ii+je>>1;(function Bi(Di,si,pn,Fi,xn,tn){for(;xn>Fi;){if(xn-Fi>600){var An=xn-Fi+1,Rn=pn-Fi+1,wn=Math.log(An),er=.5*Math.exp(2*wn/3),Pn=.5*Math.sqrt(wn*er*(An-er)/An)*(Rn-An/2<0?-1:1);Bi(Di,si,pn,Math.max(Fi,Math.floor(pn-Rn*er/An+Pn)),Math.min(xn,Math.floor(pn+(An-Rn)*er/An+Pn)),tn)}var Kn=si[2*pn+tn],Bn=Fi,In=xn;for(Ft(Di,si,Fi,pn),si[2*xn+tn]>Kn&&Ft(Di,si,Fi,xn);Bn<In;){for(Ft(Di,si,Bn,In),Bn++,In--;si[2*Bn+tn]<Kn;)Bn++;for(;si[2*In+tn]>Kn;)In--}si[2*Fi+tn]===Kn?Ft(Di,si,Fi,In):Ft(Di,si,++In,xn),In<=pn&&(Fi=In+1),pn<=In&&(xn=In-1)}})(Ge,ai,ei,ii,je,wi%2),He(Ge,ai,ye,ii,ei-1,wi+1),He(Ge,ai,ye,ei+1,je,wi+1)}}(se,ie,Pt,0,se.length-1,0)};re.prototype.range=function(K,it,gt,Pt){return function(jt,Kt,se,ie,fe,He,Ge){for(var ai,ye,ii=[0,jt.length-1,0],je=[];ii.length;){var wi=ii.pop(),ei=ii.pop(),Bi=ii.pop();if(ei-Bi<=Ge)for(var Di=Bi;Di<=ei;Di++)ye=Kt[2*Di+1],(ai=Kt[2*Di])>=se&&ai<=fe&&ye>=ie&&ye<=He&&je.push(jt[Di]);else{var si=Math.floor((Bi+ei)/2);ye=Kt[2*si+1],(ai=Kt[2*si])>=se&&ai<=fe&&ye>=ie&&ye<=He&&je.push(jt[si]);var pn=(wi+1)%2;(0===wi?se<=ai:ie<=ye)&&(ii.push(Bi),ii.push(si-1),ii.push(pn)),(0===wi?fe>=ai:He>=ye)&&(ii.push(si+1),ii.push(ei),ii.push(pn))}}return je}(this.ids,this.coords,K,it,gt,Pt,this.nodeSize)},re.prototype.within=function(K,it,gt){return function(Pt,jt,Kt,se,ie,fe){for(var He=[0,Pt.length-1,0],Ge=[],ai=ie*ie;He.length;){var ye=He.pop(),ii=He.pop(),je=He.pop();if(ii-je<=fe)for(var wi=je;wi<=ii;wi++)ae(jt[2*wi],jt[2*wi+1],Kt,se)<=ai&&Ge.push(Pt[wi]);else{var ei=Math.floor((je+ii)/2),Bi=jt[2*ei],Di=jt[2*ei+1];ae(Bi,Di,Kt,se)<=ai&&Ge.push(Pt[ei]);var si=(ye+1)%2;(0===ye?Kt-ie<=Bi:se-ie<=Di)&&(He.push(je),He.push(ei-1),He.push(si)),(0===ye?Kt+ie>=Bi:se+ie>=Di)&&(He.push(ei+1),He.push(ii),He.push(si))}}return Ge}(this.ids,this.coords,K,it,gt,this.nodeSize)};var Ut={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(K){return K}},Vt=function(K){this.options=Li(Object.create(Ut),K),this.trees=new Array(this.options.maxZoom+1)};function ue(K,it,gt,Pt,jt){return{x:K,y:it,zoom:1/0,id:gt,parentId:-1,numPoints:Pt,properties:jt}}function me(K,it){var gt=K.geometry.coordinates,Pt=gt[1];return{x:We(gt[0]),y:$e(Pt),zoom:1/0,index:it,parentId:-1}}function ve(K){return{type:"Feature",id:K.id,properties:le(K),geometry:{type:"Point",coordinates:[(Pt=K.x,360*(Pt-.5)),(it=K.y,gt=(180-360*it)*Math.PI/180,360*Math.atan(Math.exp(gt))/Math.PI-90)]}};var it,gt,Pt}function le(K){var it=K.numPoints,gt=it>=1e4?Math.round(it/1e3)+"k":it>=1e3?Math.round(it/100)/10+"k":it;return Li(Li({},K.properties),{cluster:!0,cluster_id:K.id,point_count:it,point_count_abbreviated:gt})}function We(K){return K/360+.5}function $e(K){var it=Math.sin(K*Math.PI/180),gt=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return gt<0?0:gt>1?1:gt}function Li(K,it){for(var gt in it)K[gt]=it[gt];return K}function Si(K){return K.x}function bi(K){return K.y}function ji(K,it,gt,Pt,jt,Kt){var se=jt-gt,ie=Kt-Pt;if(0!==se||0!==ie){var fe=((K-gt)*se+(it-Pt)*ie)/(se*se+ie*ie);fe>1?(gt=jt,Pt=Kt):fe>0&&(gt+=se*fe,Pt+=ie*fe)}return(se=K-gt)*se+(ie=it-Pt)*ie}function ui(K,it,gt,Pt){var jt={id:void 0===K?null:K,type:it,geometry:gt,tags:Pt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Kt){var se=Kt.geometry,ie=Kt.type;if("Point"===ie||"MultiPoint"===ie||"LineString"===ie)Pi(Kt,se);else if("Polygon"===ie||"MultiLineString"===ie)for(var fe=0;fe<se.length;fe++)Pi(Kt,se[fe]);else if("MultiPolygon"===ie)for(fe=0;fe<se.length;fe++)for(var He=0;He<se[fe].length;He++)Pi(Kt,se[fe][He])}(jt),jt}function Pi(K,it){for(var gt=0;gt<it.length;gt+=3)K.minX=Math.min(K.minX,it[gt]),K.minY=Math.min(K.minY,it[gt+1]),K.maxX=Math.max(K.maxX,it[gt]),K.maxY=Math.max(K.maxY,it[gt+1])}function Ai(K,it,gt,Pt){if(it.geometry){var jt=it.geometry.coordinates,Kt=it.geometry.type,se=Math.pow(gt.tolerance/((1<<gt.maxZoom)*gt.extent),2),ie=[],fe=it.id;if(gt.promoteId?fe=it.properties[gt.promoteId]:gt.generateId&&(fe=Pt||0),"Point"===Kt)ke(jt,ie);else if("MultiPoint"===Kt)for(var He=0;He<jt.length;He++)ke(jt[He],ie);else if("LineString"===Kt)di(jt,ie,se,!1);else if("MultiLineString"===Kt){if(gt.lineMetrics){for(He=0;He<jt.length;He++)di(jt[He],ie=[],se,!1),K.push(ui(fe,"LineString",ie,it.properties));return}lt(jt,ie,se,!1)}else if("Polygon"===Kt)lt(jt,ie,se,!0);else{if("MultiPolygon"!==Kt){if("GeometryCollection"===Kt){for(He=0;He<it.geometry.geometries.length;He++)Ai(K,{id:fe,geometry:it.geometry.geometries[He],properties:it.properties},gt,Pt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(He=0;He<jt.length;He++){var Ge=[];lt(jt[He],Ge,se,!0),ie.push(Ge)}}K.push(ui(fe,Kt,ie,it.properties))}}function ke(K,it){it.push(Dt(K[0])),it.push(Jt(K[1])),it.push(0)}function di(K,it,gt,Pt){for(var jt,Kt,se=0,ie=0;ie<K.length;ie++){var fe=Dt(K[ie][0]),He=Jt(K[ie][1]);it.push(fe),it.push(He),it.push(0),ie>0&&(se+=Pt?(jt*He-fe*Kt)/2:Math.sqrt(Math.pow(fe-jt,2)+Math.pow(He-Kt,2))),jt=fe,Kt=He}var Ge=it.length-3;it[2]=1,function ai(ye,ii,je,wi){for(var ei,Bi=wi,Di=je-ii>>1,si=je-ii,pn=ye[ii],Fi=ye[ii+1],xn=ye[je],tn=ye[je+1],An=ii+3;An<je;An+=3){var Rn=ji(ye[An],ye[An+1],pn,Fi,xn,tn);if(Rn>Bi)ei=An,Bi=Rn;else if(Rn===Bi){var wn=Math.abs(An-Di);wn<si&&(ei=An,si=wn)}}Bi>wi&&(ei-ii>3&&ai(ye,ii,ei,wi),ye[ei+2]=Bi,je-ei>3&&ai(ye,ei,je,wi))}(it,0,Ge,gt),it[Ge+2]=1,it.size=Math.abs(se),it.start=0,it.end=it.size}function lt(K,it,gt,Pt){for(var jt=0;jt<K.length;jt++){var Kt=[];di(K[jt],Kt,gt,Pt),it.push(Kt)}}function Dt(K){return K/360+.5}function Jt(K){var it=Math.sin(K*Math.PI/180),gt=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return gt<0?0:gt>1?1:gt}function he(K,it,gt,Pt,jt,Kt,se,ie){if(Pt/=it,Kt>=(gt/=it)&&se<Pt)return K;if(se<gt||Kt>=Pt)return null;for(var fe=[],He=0;He<K.length;He++){var Ge=K[He],ai=Ge.geometry,ye=Ge.type,ii=0===jt?Ge.minX:Ge.minY,je=0===jt?Ge.maxX:Ge.maxY;if(ii>=gt&&je<Pt)fe.push(Ge);else if(!(je<gt||ii>=Pt)){var wi=[];if("Point"===ye||"MultiPoint"===ye)Te(ai,wi,gt,Pt,jt);else if("LineString"===ye)Fe(ai,wi,gt,Pt,jt,!1,ie.lineMetrics);else if("MultiLineString"===ye)Hi(ai,wi,gt,Pt,jt,!1);else if("Polygon"===ye)Hi(ai,wi,gt,Pt,jt,!0);else if("MultiPolygon"===ye)for(var ei=0;ei<ai.length;ei++){var Bi=[];Hi(ai[ei],Bi,gt,Pt,jt,!0),Bi.length&&wi.push(Bi)}if(wi.length){if(ie.lineMetrics&&"LineString"===ye){for(ei=0;ei<wi.length;ei++)fe.push(ui(Ge.id,ye,wi[ei],Ge.tags));continue}"LineString"!==ye&&"MultiLineString"!==ye||(1===wi.length?(ye="LineString",wi=wi[0]):ye="MultiLineString"),"Point"!==ye&&"MultiPoint"!==ye||(ye=3===wi.length?"Point":"MultiPoint"),fe.push(ui(Ge.id,ye,wi,Ge.tags))}}}return fe.length?fe:null}function Te(K,it,gt,Pt,jt){for(var Kt=0;Kt<K.length;Kt+=3){var se=K[Kt+jt];se>=gt&&se<=Pt&&(it.push(K[Kt]),it.push(K[Kt+1]),it.push(K[Kt+2]))}}function Fe(K,it,gt,Pt,jt,Kt,se){for(var ie,fe,He=Ci(K),Ge=0===jt?nn:gn,ai=K.start,ye=0;ye<K.length-3;ye+=3){var ii=K[ye],je=K[ye+1],wi=K[ye+2],ei=K[ye+3],Bi=K[ye+4],Di=0===jt?ii:je,si=0===jt?ei:Bi,pn=!1;se&&(ie=Math.sqrt(Math.pow(ii-ei,2)+Math.pow(je-Bi,2))),Di<gt?si>gt&&(fe=Ge(He,ii,je,ei,Bi,gt),se&&(He.start=ai+ie*fe)):Di>Pt?si<Pt&&(fe=Ge(He,ii,je,ei,Bi,Pt),se&&(He.start=ai+ie*fe)):Ri(He,ii,je,wi),si<gt&&Di>=gt&&(fe=Ge(He,ii,je,ei,Bi,gt),pn=!0),si>Pt&&Di<=Pt&&(fe=Ge(He,ii,je,ei,Bi,Pt),pn=!0),!Kt&&pn&&(se&&(He.end=ai+ie*fe),it.push(He),He=Ci(K)),se&&(ai+=ie)}var Fi=K.length-3;ii=K[Fi],je=K[Fi+1],wi=K[Fi+2],(Di=0===jt?ii:je)>=gt&&Di<=Pt&&Ri(He,ii,je,wi),Fi=He.length-3,Kt&&Fi>=3&&(He[Fi]!==He[0]||He[Fi+1]!==He[1])&&Ri(He,He[0],He[1],He[2]),He.length&&it.push(He)}function Ci(K){var it=[];return it.size=K.size,it.start=K.start,it.end=K.end,it}function Hi(K,it,gt,Pt,jt,Kt){for(var se=0;se<K.length;se++)Fe(K[se],it,gt,Pt,jt,Kt,!1)}function Ri(K,it,gt,Pt){K.push(it),K.push(gt),K.push(Pt)}function nn(K,it,gt,Pt,jt,Kt){var se=(Kt-it)/(Pt-it);return K.push(Kt),K.push(gt+(jt-gt)*se),K.push(1),se}function gn(K,it,gt,Pt,jt,Kt){var se=(Kt-gt)/(jt-gt);return K.push(it+(Pt-it)*se),K.push(Kt),K.push(1),se}function Hn(K,it){for(var gt=[],Pt=0;Pt<K.length;Pt++){var jt,Kt=K[Pt],se=Kt.type;if("Point"===se||"MultiPoint"===se||"LineString"===se)jt=Gn(Kt.geometry,it);else if("MultiLineString"===se||"Polygon"===se){jt=[];for(var ie=0;ie<Kt.geometry.length;ie++)jt.push(Gn(Kt.geometry[ie],it))}else if("MultiPolygon"===se)for(jt=[],ie=0;ie<Kt.geometry.length;ie++){for(var fe=[],He=0;He<Kt.geometry[ie].length;He++)fe.push(Gn(Kt.geometry[ie][He],it));jt.push(fe)}gt.push(ui(Kt.id,se,jt,Kt.tags))}return gt}function Gn(K,it){var gt=[];gt.size=K.size,void 0!==K.start&&(gt.start=K.start,gt.end=K.end);for(var Pt=0;Pt<K.length;Pt+=3)gt.push(K[Pt]+it,K[Pt+1],K[Pt+2]);return gt}function Ji(K,it){if(K.transformed)return K;var gt,Pt,jt,Kt=1<<K.z,se=K.x,ie=K.y;for(gt=0;gt<K.features.length;gt++){var fe=K.features[gt],He=fe.geometry,Ge=fe.type;if(fe.geometry=[],1===Ge)for(Pt=0;Pt<He.length;Pt+=2)fe.geometry.push(ci(He[Pt],He[Pt+1],it,Kt,se,ie));else for(Pt=0;Pt<He.length;Pt++){var ai=[];for(jt=0;jt<He[Pt].length;jt+=2)ai.push(ci(He[Pt][jt],He[Pt][jt+1],it,Kt,se,ie));fe.geometry.push(ai)}}return K.transformed=!0,K}function ci(K,it,gt,Pt,jt,Kt){return[Math.round(gt*(K*Pt-jt)),Math.round(gt*(it*Pt-Kt))]}function mi(K,it,gt,Pt,jt){for(var Kt=it===jt.maxZoom?0:jt.tolerance/((1<<it)*jt.extent),se={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:gt,y:Pt,z:it,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ie=0;ie<K.length;ie++){se.numFeatures++,yi(se,K[ie],Kt,jt);var fe=K[ie].minX,He=K[ie].minY,Ge=K[ie].maxX,ai=K[ie].maxY;fe<se.minX&&(se.minX=fe),He<se.minY&&(se.minY=He),Ge>se.maxX&&(se.maxX=Ge),ai>se.maxY&&(se.maxY=ai)}return se}function yi(K,it,gt,Pt){var jt=it.geometry,Kt=it.type,se=[];if("Point"===Kt||"MultiPoint"===Kt)for(var ie=0;ie<jt.length;ie+=3)se.push(jt[ie]),se.push(jt[ie+1]),K.numPoints++,K.numSimplified++;else if("LineString"===Kt)$i(se,jt,K,gt,!1,!1);else if("MultiLineString"===Kt||"Polygon"===Kt)for(ie=0;ie<jt.length;ie++)$i(se,jt[ie],K,gt,"Polygon"===Kt,0===ie);else if("MultiPolygon"===Kt)for(var fe=0;fe<jt.length;fe++){var He=jt[fe];for(ie=0;ie<He.length;ie++)$i(se,He[ie],K,gt,!0,0===ie)}if(se.length){var Ge=it.tags||null;if("LineString"===Kt&&Pt.lineMetrics){for(var ai in Ge={},it.tags)Ge[ai]=it.tags[ai];Ge.mapbox_clip_start=jt.start/jt.size,Ge.mapbox_clip_end=jt.end/jt.size}var ye={geometry:se,type:"Polygon"===Kt||"MultiPolygon"===Kt?3:"LineString"===Kt||"MultiLineString"===Kt?2:1,tags:Ge};null!==it.id&&(ye.id=it.id),K.features.push(ye)}}function $i(K,it,gt,Pt,jt,Kt){var se=Pt*Pt;if(Pt>0&&it.size<(jt?se:Pt))gt.numPoints+=it.length/3;else{for(var ie=[],fe=0;fe<it.length;fe+=3)(0===Pt||it[fe+2]>se)&&(gt.numSimplified++,ie.push(it[fe]),ie.push(it[fe+1])),gt.numPoints++;jt&&function(He,Ge){for(var ai=0,ye=0,ii=He.length,je=ii-2;ye<ii;je=ye,ye+=2)ai+=(He[ye]-He[je])*(He[ye+1]+He[je+1]);if(ai>0===Ge)for(ye=0,ii=He.length;ye<ii/2;ye+=2){var wi=He[ye],ei=He[ye+1];He[ye]=He[ii-2-ye],He[ye+1]=He[ii-1-ye],He[ii-2-ye]=wi,He[ii-1-ye]=ei}}(ie,Kt),K.push(ie)}}function rn(K,it){var gt=(it=this.options=function(jt,Kt){for(var se in Kt)jt[se]=Kt[se];return jt}(Object.create(this.options),it)).debug;if(gt&&console.time("preprocess data"),it.maxZoom<0||it.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(it.promoteId&&it.generateId)throw new Error("promoteId and generateId cannot be used together.");var jt,Kt,se,ie,fe,He,Pt=function(jt,Kt){var se=[];if("FeatureCollection"===jt.type)for(var ie=0;ie<jt.features.length;ie++)Ai(se,jt.features[ie],Kt,ie);else Ai(se,"Feature"===jt.type?jt:{geometry:jt},Kt);return se}(K,it);this.tiles={},this.tileCoords=[],gt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",it.indexMaxZoom,it.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(jt=Pt,Kt=it,se=Kt.buffer/Kt.extent,ie=jt,fe=he(jt,1,-1-se,se,0,-1,2,Kt),He=he(jt,1,1-se,2+se,0,-1,2,Kt),(fe||He)&&(ie=he(jt,1,-se,1+se,0,-1,2,Kt)||[],fe&&(ie=Hn(fe,1).concat(ie)),He&&(ie=ie.concat(Hn(He,-1)))),Pt=ie).length&&this.splitTile(Pt,0,0,0),gt&&(Pt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Yi(K,it,gt){return 32*((1<<K)*gt+it)+K}function Cn(K,it){var gt=K.tileID.canonical;if(!this._geoJSONIndex)return it(null,null);var Pt=this._geoJSONIndex.getTile(gt.z,gt.x,gt.y);if(!Pt)return it(null,null);var jt=new ut(Pt.features),Kt=At(jt);0===Kt.byteOffset&&Kt.byteLength===Kt.buffer.byteLength||(Kt=new Uint8Array(Kt)),it(null,{vectorTile:jt,rawData:Kt.buffer})}Vt.prototype.load=function(K){var it=this.options,gt=it.log,Pt=it.minZoom,jt=it.maxZoom,Kt=it.nodeSize;gt&&console.time("total time");var se="prepare "+K.length+" points";gt&&console.time(se),this.points=K;for(var ie=[],fe=0;fe<K.length;fe++)K[fe].geometry&&ie.push(me(K[fe],fe));this.trees[jt+1]=new re(ie,Si,bi,Kt,Float32Array),gt&&console.timeEnd(se);for(var He=jt;He>=Pt;He--){var Ge=+Date.now();ie=this._cluster(ie,He),this.trees[He]=new re(ie,Si,bi,Kt,Float32Array),gt&&console.log("z%d: %d clusters in %dms",He,ie.length,+Date.now()-Ge)}return gt&&console.timeEnd("total time"),this},Vt.prototype.getClusters=function(K,it){var gt=((K[0]+180)%360+360)%360-180,Pt=Math.max(-90,Math.min(90,K[1])),jt=180===K[2]?180:((K[2]+180)%360+360)%360-180,Kt=Math.max(-90,Math.min(90,K[3]));if(K[2]-K[0]>=360)gt=-180,jt=180;else if(gt>jt){var se=this.getClusters([gt,Pt,180,Kt],it),ie=this.getClusters([-180,Pt,jt,Kt],it);return se.concat(ie)}for(var fe=this.trees[this._limitZoom(it)],He=[],Ge=0,ai=fe.range(We(gt),$e(Kt),We(jt),$e(Pt));Ge<ai.length;Ge+=1){var ye=fe.points[ai[Ge]];He.push(ye.numPoints?ve(ye):this.points[ye.index])}return He},Vt.prototype.getChildren=function(K){var it=this._getOriginId(K),gt=this._getOriginZoom(K),Pt="No cluster with the specified id.",jt=this.trees[gt];if(!jt)throw new Error(Pt);var Kt=jt.points[it];if(!Kt)throw new Error(Pt);for(var se=this.options.radius/(this.options.extent*Math.pow(2,gt-1)),ie=[],fe=0,He=jt.within(Kt.x,Kt.y,se);fe<He.length;fe+=1){var Ge=jt.points[He[fe]];Ge.parentId===K&&ie.push(Ge.numPoints?ve(Ge):this.points[Ge.index])}if(0===ie.length)throw new Error(Pt);return ie},Vt.prototype.getLeaves=function(K,it,gt){var Pt=[];return this._appendLeaves(Pt,K,it=it||10,gt=gt||0,0),Pt},Vt.prototype.getTile=function(K,it,gt){var Pt=this.trees[this._limitZoom(K)],jt=Math.pow(2,K),Kt=this.options,se=Kt.radius/Kt.extent,ie=(gt-se)/jt,fe=(gt+1+se)/jt,He={features:[]};return this._addTileFeatures(Pt.range((it-se)/jt,ie,(it+1+se)/jt,fe),Pt.points,it,gt,jt,He),0===it&&this._addTileFeatures(Pt.range(1-se/jt,ie,1,fe),Pt.points,jt,gt,jt,He),it===jt-1&&this._addTileFeatures(Pt.range(0,ie,se/jt,fe),Pt.points,-1,gt,jt,He),He.features.length?He:null},Vt.prototype.getClusterExpansionZoom=function(K){for(var it=this._getOriginZoom(K)-1;it<=this.options.maxZoom;){var gt=this.getChildren(K);if(it++,1!==gt.length)break;K=gt[0].properties.cluster_id}return it},Vt.prototype._appendLeaves=function(K,it,gt,Pt,jt){for(var Kt=0,se=this.getChildren(it);Kt<se.length;Kt+=1){var ie=se[Kt],fe=ie.properties;if(fe&&fe.cluster?jt+fe.point_count<=Pt?jt+=fe.point_count:jt=this._appendLeaves(K,fe.cluster_id,gt,Pt,jt):jt<Pt?jt++:K.push(ie),K.length===gt)break}return jt},Vt.prototype._addTileFeatures=function(K,it,gt,Pt,jt,Kt){for(var se=0,ie=K;se<ie.length;se+=1){var fe=it[ie[se]],He=fe.numPoints,Ge={type:1,geometry:[[Math.round(this.options.extent*(fe.x*jt-gt)),Math.round(this.options.extent*(fe.y*jt-Pt))]],tags:He?le(fe):this.points[fe.index].properties},ai=void 0;He?ai=fe.id:this.options.generateId?ai=fe.index:this.points[fe.index].id&&(ai=this.points[fe.index].id),void 0!==ai&&(Ge.id=ai),Kt.features.push(Ge)}},Vt.prototype._limitZoom=function(K){return Math.max(this.options.minZoom,Math.min(+K,this.options.maxZoom+1))},Vt.prototype._cluster=function(K,it){for(var gt=[],Pt=this.options,jt=Pt.reduce,Kt=Pt.minPoints,se=Pt.radius/(Pt.extent*Math.pow(2,it)),ie=0;ie<K.length;ie++){var fe=K[ie];if(!(fe.zoom<=it)){fe.zoom=it;for(var He=this.trees[it+1],Ge=He.within(fe.x,fe.y,se),ai=fe.numPoints||1,ye=ai,ii=0,je=Ge;ii<je.length;ii+=1){var wi=He.points[je[ii]];wi.zoom>it&&(ye+=wi.numPoints||1)}if(ye>=Kt){for(var ei=fe.x*ai,Bi=fe.y*ai,Di=jt&&ai>1?this._map(fe,!0):null,si=(ie<<5)+(it+1)+this.points.length,pn=0,Fi=Ge;pn<Fi.length;pn+=1){var xn=He.points[Fi[pn]];if(!(xn.zoom<=it)){xn.zoom=it;var tn=xn.numPoints||1;ei+=xn.x*tn,Bi+=xn.y*tn,xn.parentId=si,jt&&(Di||(Di=this._map(fe,!0)),jt(Di,this._map(xn)))}}fe.parentId=si,gt.push(ue(ei/ye,Bi/ye,si,ye,Di))}else if(gt.push(fe),ye>1)for(var An=0,Rn=Ge;An<Rn.length;An+=1){var wn=He.points[Rn[An]];wn.zoom<=it||(wn.zoom=it,gt.push(wn))}}}return gt},Vt.prototype._getOriginId=function(K){return K-this.points.length>>5},Vt.prototype._getOriginZoom=function(K){return(K-this.points.length)%32},Vt.prototype._map=function(K,it){if(K.numPoints)return it?Li({},K.properties):K.properties;var gt=this.points[K.index].properties,Pt=this.options.map(gt);return it&&Pt===gt?Li({},Pt):Pt},rn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},rn.prototype.splitTile=function(K,it,gt,Pt,jt,Kt,se){for(var ie=[K,it,gt,Pt],fe=this.options,He=fe.debug;ie.length;){Pt=ie.pop(),gt=ie.pop(),it=ie.pop(),K=ie.pop();var Ge=1<<it,ai=Yi(it,gt,Pt),ye=this.tiles[ai];if(!ye&&(He>1&&console.time("creation"),ye=this.tiles[ai]=mi(K,it,gt,Pt,fe),this.tileCoords.push({z:it,x:gt,y:Pt}),He)){He>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",it,gt,Pt,ye.numFeatures,ye.numPoints,ye.numSimplified),console.timeEnd("creation"));var ii="z"+it;this.stats[ii]=(this.stats[ii]||0)+1,this.total++}if(ye.source=K,jt){if(it===fe.maxZoom||it===jt)continue;var je=1<<jt-it;if(gt!==Math.floor(Kt/je)||Pt!==Math.floor(se/je))continue}else if(it===fe.indexMaxZoom||ye.numPoints<=fe.indexMaxPoints)continue;if(ye.source=null,0!==K.length){He>1&&console.time("clipping");var wi,ei,Bi,Di,si,pn,Fi=.5*fe.buffer/fe.extent,xn=.5-Fi,tn=.5+Fi,An=1+Fi;wi=ei=Bi=Di=null,si=he(K,Ge,gt-Fi,gt+tn,0,ye.minX,ye.maxX,fe),pn=he(K,Ge,gt+xn,gt+An,0,ye.minX,ye.maxX,fe),K=null,si&&(wi=he(si,Ge,Pt-Fi,Pt+tn,1,ye.minY,ye.maxY,fe),ei=he(si,Ge,Pt+xn,Pt+An,1,ye.minY,ye.maxY,fe),si=null),pn&&(Bi=he(pn,Ge,Pt-Fi,Pt+tn,1,ye.minY,ye.maxY,fe),Di=he(pn,Ge,Pt+xn,Pt+An,1,ye.minY,ye.maxY,fe),pn=null),He>1&&console.timeEnd("clipping"),ie.push(wi||[],it+1,2*gt,2*Pt),ie.push(ei||[],it+1,2*gt,2*Pt+1),ie.push(Bi||[],it+1,2*gt+1,2*Pt),ie.push(Di||[],it+1,2*gt+1,2*Pt+1)}}},rn.prototype.getTile=function(K,it,gt){var Pt=this.options,jt=Pt.extent,Kt=Pt.debug;if(K<0||K>24)return null;var se=1<<K,ie=Yi(K,it=(it%se+se)%se,gt);if(this.tiles[ie])return Ji(this.tiles[ie],jt);Kt>1&&console.log("drilling down to z%d-%d-%d",K,it,gt);for(var fe,He=K,Ge=it,ai=gt;!fe&&He>0;)He--,Ge=Math.floor(Ge/2),ai=Math.floor(ai/2),fe=this.tiles[Yi(He,Ge,ai)];return fe&&fe.source?(Kt>1&&console.log("found parent tile z%d-%d-%d",He,Ge,ai),Kt>1&&console.time("drilling down"),this.splitTile(fe.source,He,Ge,ai,K,it,gt),Kt>1&&console.timeEnd("drilling down"),this.tiles[ie]?Ji(this.tiles[ie],jt):null):null};var Gi=function(K){function it(gt,Pt,jt,Kt){K.call(this,gt,Pt,jt,Cn),Kt&&(this.loadGeoJSON=Kt)}return K&&(it.__proto__=K),(it.prototype=Object.create(K&&K.prototype)).constructor=it,it.prototype.loadData=function(gt,Pt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Pt,this._pendingLoadDataParams=gt,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},it.prototype._loadData=function(){var gt=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Pt=this._pendingCallback,jt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Kt=!!(jt&&jt.request&&jt.request.collectResourceTiming)&&new n.RequestPerformance(jt.request);this.loadGeoJSON(jt,function(se,ie){if(se||!ie)return Pt(se);if("object"!=typeof ie)return Pt(new Error("Input data given to '"+jt.source+"' is not a valid GeoJSON object."));!function ye(ii,je){var wi,ei=ii&&ii.type;if("FeatureCollection"===ei)for(wi=0;wi<ii.features.length;wi++)ye(ii.features[wi],je);else if("GeometryCollection"===ei)for(wi=0;wi<ii.geometries.length;wi++)ye(ii.geometries[wi],je);else if("Feature"===ei)ye(ii.geometry,je);else if("Polygon"===ei)V(ii.coordinates,je);else if("MultiPolygon"===ei)for(wi=0;wi<ii.coordinates.length;wi++)V(ii.coordinates[wi],je);return ii}(ie,!0);try{if(jt.filter){var fe=n.createExpression(jt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===fe.result)throw new Error(fe.value.map(function(ye){return ye.key+": "+ye.message}).join(", "));var He=ie.features.filter(function(ye){return fe.value.evaluate({zoom:0},ye)});ie={type:"FeatureCollection",features:He}}gt._geoJSONIndex=jt.cluster?new Vt(function(ye){var ii=ye.superclusterOptions,je=ye.clusterProperties;if(!je||!ii)return ii;for(var wi={},ei={},Bi={accumulated:null,zoom:0},Di={properties:null},si=Object.keys(je),pn=0,Fi=si;pn<Fi.length;pn+=1){var xn=Fi[pn],tn=je[xn],An=tn[0],Rn=n.createExpression(tn[1]),wn=n.createExpression("string"==typeof An?[An,["accumulated"],["get",xn]]:An);wi[xn]=Rn.value,ei[xn]=wn.value}return ii.map=function(er){Di.properties=er;for(var Pn={},Kn=0,Bn=si;Kn<Bn.length;Kn+=1){var In=Bn[Kn];Pn[In]=wi[In].evaluate(Bi,Di)}return Pn},ii.reduce=function(er,Pn){Di.properties=Pn;for(var Kn=0,Bn=si;Kn<Bn.length;Kn+=1){var In=Bn[Kn];Bi.accumulated=er[In],er[In]=ei[In].evaluate(Bi,Di)}},ii}(jt)).load(ie.features):new rn(ye=ie,jt.geojsonVtOptions)}catch(ye){return Pt(ye)}var ye;gt.loaded={};var Ge={};if(Kt){var ai=Kt.finish();ai&&(Ge.resourceTiming={},Ge.resourceTiming[jt.source]=JSON.parse(JSON.stringify(ai)))}Pt(null,Ge)})}},it.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},it.prototype.reloadTile=function(gt,Pt){var jt=this.loaded;return jt&&jt[gt.uid]?K.prototype.reloadTile.call(this,gt,Pt):this.loadTile(gt,Pt)},it.prototype.loadGeoJSON=function(gt,Pt){if(gt.request)n.getJSON(gt.request,Pt);else{if("string"!=typeof gt.data)return Pt(new Error("Input data given to '"+gt.source+"' is not a valid GeoJSON object."));try{return Pt(null,JSON.parse(gt.data))}catch{return Pt(new Error("Input data given to '"+gt.source+"' is not a valid GeoJSON object."))}}},it.prototype.removeSource=function(gt,Pt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Pt()},it.prototype.getClusterExpansionZoom=function(gt,Pt){try{Pt(null,this._geoJSONIndex.getClusterExpansionZoom(gt.clusterId))}catch(jt){Pt(jt)}},it.prototype.getClusterChildren=function(gt,Pt){try{Pt(null,this._geoJSONIndex.getChildren(gt.clusterId))}catch(jt){Pt(jt)}},it.prototype.getClusterLeaves=function(gt,Pt){try{Pt(null,this._geoJSONIndex.getLeaves(gt.clusterId,gt.limit,gt.offset))}catch(jt){Pt(jt)}},it}(f),Qe=function(K){var it=this;this.self=K,this.actor=new n.Actor(K,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:Gi},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(gt,Pt){if(it.workerSourceTypes[gt])throw new Error('Worker source with name "'+gt+'" already registered.');it.workerSourceTypes[gt]=Pt},this.self.registerRTLTextPlugin=function(gt){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=gt.applyArabicShaping,n.plugin.processBidirectionalText=gt.processBidirectionalText,n.plugin.processStyledBidirectionalText=gt.processStyledBidirectionalText}};return Qe.prototype.setReferrer=function(K,it){this.referrer=it},Qe.prototype.setImages=function(K,it,gt){for(var Pt in this.availableImages[K]=it,this.workerSources[K]){var jt=this.workerSources[K][Pt];for(var Kt in jt)jt[Kt].availableImages=it}gt()},Qe.prototype.setLayers=function(K,it,gt){this.getLayerIndex(K).replace(it),gt()},Qe.prototype.updateLayers=function(K,it,gt){this.getLayerIndex(K).update(it.layers,it.removedIds),gt()},Qe.prototype.loadTile=function(K,it,gt){this.getWorkerSource(K,it.type,it.source).loadTile(it,gt)},Qe.prototype.loadDEMTile=function(K,it,gt){this.getDEMWorkerSource(K,it.source).loadTile(it,gt)},Qe.prototype.reloadTile=function(K,it,gt){this.getWorkerSource(K,it.type,it.source).reloadTile(it,gt)},Qe.prototype.abortTile=function(K,it,gt){this.getWorkerSource(K,it.type,it.source).abortTile(it,gt)},Qe.prototype.removeTile=function(K,it,gt){this.getWorkerSource(K,it.type,it.source).removeTile(it,gt)},Qe.prototype.removeDEMTile=function(K,it){this.getDEMWorkerSource(K,it.source).removeTile(it)},Qe.prototype.removeSource=function(K,it,gt){if(this.workerSources[K]&&this.workerSources[K][it.type]&&this.workerSources[K][it.type][it.source]){var Pt=this.workerSources[K][it.type][it.source];delete this.workerSources[K][it.type][it.source],void 0!==Pt.removeSource?Pt.removeSource(it,gt):gt()}},Qe.prototype.loadWorkerSource=function(K,it,gt){try{this.self.importScripts(it.url),gt()}catch(Pt){gt(Pt.toString())}},Qe.prototype.syncRTLPluginState=function(K,it,gt){try{n.plugin.setState(it);var Pt=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&null!=Pt){this.self.importScripts(Pt);var jt=n.plugin.isParsed();gt(jt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Pt),jt)}}catch(Kt){gt(Kt.toString())}},Qe.prototype.getAvailableImages=function(K){var it=this.availableImages[K];return it||(it=[]),it},Qe.prototype.getLayerIndex=function(K){var it=this.layerIndexes[K];return it||(it=this.layerIndexes[K]=new O),it},Qe.prototype.getWorkerSource=function(K,it,gt){var Pt=this;return this.workerSources[K]||(this.workerSources[K]={}),this.workerSources[K][it]||(this.workerSources[K][it]={}),this.workerSources[K][it][gt]||(this.workerSources[K][it][gt]=new this.workerSourceTypes[it]({send:function(jt,Kt,se){Pt.actor.send(jt,Kt,se,K)}},this.getLayerIndex(K),this.getAvailableImages(K))),this.workerSources[K][it][gt]},Qe.prototype.getDEMWorkerSource=function(K,it){return this.demWorkerSources[K]||(this.demWorkerSources[K]={}),this.demWorkerSources[K][it]||(this.demWorkerSources[K][it]=new B),this.demWorkerSources[K][it]},Qe.prototype.enforceCacheSizeLimit=function(K,it){n.enforceCacheSizeLimit(it)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Qe(self)),Qe}),u(0,function(n){var k=n.createCommonjsModule(function(g){function w(et){return!_(et)}function _(et){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var xt,Ot,Zt=new Blob([""],{type:"text/javascript"}),ne=URL.createObjectURL(Zt);try{Ot=new Worker(ne),xt=!0}catch{xt=!1}return Ot&&Ot.terminate(),URL.revokeObjectURL(ne),xt}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var xt=document.createElement("canvas");xt.width=xt.height=1;var Ot=xt.getContext("2d");if(!Ot)return!1;var Zt=Ot.getImageData(0,0,1,1);return Zt&&Zt.width===xt.width}()?(void 0===j[ct=et&&et.failIfMajorPerformanceCaveat]&&(j[ct]=function(xt){var ne,_e,we,Ot=(ne=xt,_e=document.createElement("canvas"),(we=Object.create(w.webGLContextAttributes)).failIfMajorPerformanceCaveat=ne,_e.probablySupportsContext?_e.probablySupportsContext("webgl",we)||_e.probablySupportsContext("experimental-webgl",we):_e.supportsContext?_e.supportsContext("webgl",we)||_e.supportsContext("experimental-webgl",we):_e.getContext("webgl",we)||_e.getContext("experimental-webgl",we));if(!Ot)return!1;var Zt=Ot.createShader(Ot.VERTEX_SHADER);return!(!Zt||Ot.isContextLost())&&(Ot.shaderSource(Zt,"void main() {}"),Ot.compileShader(Zt),!0===Ot.getShaderParameter(Zt,Ot.COMPILE_STATUS))}(ct)),j[ct]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var ct}g.exports?g.exports=w:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=w,window.mapboxgl.notSupportedReason=_);var j={};w.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),C={create:function(g,w,_){var j=n.window.document.createElement(g);return void 0!==w&&(j.className=w),_&&_.appendChild(j),j},createNS:function(g,w){return n.window.document.createElementNS(g,w)}},O=n.window.document&&n.window.document.documentElement.style;function m(g){if(!O)return g[0];for(var w=0;w<g.length;w++)if(g[w]in O)return g[w];return g[0]}var A,P=m(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);C.disableDrag=function(){O&&P&&(A=O[P],O[P]="none")},C.enableDrag=function(){O&&P&&(O[P]=A)};var D=m(["transform","WebkitTransform"]);C.setTransform=function(g,w){g.style[D]=w};var f=!1;try{var o=Object.defineProperty({},"passive",{get:function(){f=!0}});n.window.addEventListener("test",o,o),n.window.removeEventListener("test",o,o)}catch{f=!1}C.addEventListener=function(g,w,_,j){void 0===j&&(j={}),g.addEventListener(w,_,"passive"in j&&f?j:j.capture)},C.removeEventListener=function(g,w,_,j){void 0===j&&(j={}),g.removeEventListener(w,_,"passive"in j&&f?j:j.capture)};var B=function(g){g.preventDefault(),g.stopPropagation(),n.window.removeEventListener("click",B,!0)};function V(g){var w=g.userImage;return!!(w&&w.render&&w.render())&&(g.data.replace(new Uint8Array(w.data.buffer)),!0)}C.suppressClick=function(){n.window.addEventListener("click",B,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",B,!0)},0)},C.mousePos=function(g,w){var _=g.getBoundingClientRect();return new n.Point(w.clientX-_.left-g.clientLeft,w.clientY-_.top-g.clientTop)},C.touchPos=function(g,w){for(var _=g.getBoundingClientRect(),j=[],et=0;et<w.length;et++)j.push(new n.Point(w[et].clientX-_.left-g.clientLeft,w[et].clientY-_.top-g.clientTop));return j},C.mouseButton=function(g){return void 0!==n.window.InstallTrigger&&2===g.button&&g.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:g.button},C.remove=function(g){g.parentNode&&g.parentNode.removeChild(g)};var q=function(g){function w(){g.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.isLoaded=function(){return this.loaded},w.prototype.setLoaded=function(_){if(this.loaded!==_&&(this.loaded=_,_)){for(var j=0,et=this.requestors;j<et.length;j+=1){var ct=et[j];this._notify(ct.ids,ct.callback)}this.requestors=[]}},w.prototype.getImage=function(_){return this.images[_]},w.prototype.addImage=function(_,j){this._validate(_,j)&&(this.images[_]=j)},w.prototype._validate=function(_,j){var et=!0;return this._validateStretch(j.stretchX,j.data&&j.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+_+'" has invalid "stretchX" value'))),et=!1),this._validateStretch(j.stretchY,j.data&&j.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+_+'" has invalid "stretchY" value'))),et=!1),this._validateContent(j.content,j)||(this.fire(new n.ErrorEvent(new Error('Image "'+_+'" has invalid "content" value'))),et=!1),et},w.prototype._validateStretch=function(_,j){if(!_)return!0;for(var et=0,ct=0,xt=_;ct<xt.length;ct+=1){var Ot=xt[ct];if(Ot[0]<et||Ot[1]<Ot[0]||j<Ot[1])return!1;et=Ot[1]}return!0},w.prototype._validateContent=function(_,j){return!(_&&(4!==_.length||_[0]<0||j.data.width<_[0]||_[1]<0||j.data.height<_[1]||_[2]<0||j.data.width<_[2]||_[3]<0||j.data.height<_[3]||_[2]<_[0]||_[3]<_[1]))},w.prototype.updateImage=function(_,j){j.version=this.images[_].version+1,this.images[_]=j,this.updatedImages[_]=!0},w.prototype.removeImage=function(_){var j=this.images[_];delete this.images[_],delete this.patterns[_],j.userImage&&j.userImage.onRemove&&j.userImage.onRemove()},w.prototype.listImages=function(){return Object.keys(this.images)},w.prototype.getImages=function(_,j){var et=!0;if(!this.isLoaded())for(var ct=0,xt=_;ct<xt.length;ct+=1)this.images[xt[ct]]||(et=!1);this.isLoaded()||et?this._notify(_,j):this.requestors.push({ids:_,callback:j})},w.prototype._notify=function(_,j){for(var et={},ct=0,xt=_;ct<xt.length;ct+=1){var Ot=xt[ct];this.images[Ot]||this.fire(new n.Event("styleimagemissing",{id:Ot}));var Zt=this.images[Ot];Zt?et[Ot]={data:Zt.data.clone(),pixelRatio:Zt.pixelRatio,sdf:Zt.sdf,version:Zt.version,stretchX:Zt.stretchX,stretchY:Zt.stretchY,content:Zt.content,hasRenderCallback:Boolean(Zt.userImage&&Zt.userImage.render)}:n.warnOnce('Image "'+Ot+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}j(null,et)},w.prototype.getPixelSize=function(){var _=this.atlasImage;return{width:_.width,height:_.height}},w.prototype.getPattern=function(_){var j=this.patterns[_],et=this.getImage(_);if(!et)return null;if(j&&j.position.version===et.version)return j.position;if(j)j.position.version=et.version;else{var ct={w:et.data.width+2,h:et.data.height+2,x:0,y:0},xt=new n.ImagePosition(ct,et);this.patterns[_]={bin:ct,position:xt}}return this._updatePatternAtlas(),this.patterns[_].position},w.prototype.bind=function(_){var j=_.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(_,this.atlasImage,j.RGBA),this.atlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE)},w.prototype._updatePatternAtlas=function(){var _=[];for(var j in this.patterns)_.push(this.patterns[j].bin);var et=n.potpack(_),ct=et.w,xt=et.h,Ot=this.atlasImage;for(var Zt in Ot.resize({width:ct||1,height:xt||1}),this.patterns){var ne=this.patterns[Zt].bin,_e=ne.x+1,we=ne.y+1,Ce=this.images[Zt].data,Ne=Ce.width,Ie=Ce.height;n.RGBAImage.copy(Ce,Ot,{x:0,y:0},{x:_e,y:we},{width:Ne,height:Ie}),n.RGBAImage.copy(Ce,Ot,{x:0,y:Ie-1},{x:_e,y:we-1},{width:Ne,height:1}),n.RGBAImage.copy(Ce,Ot,{x:0,y:0},{x:_e,y:we+Ie},{width:Ne,height:1}),n.RGBAImage.copy(Ce,Ot,{x:Ne-1,y:0},{x:_e-1,y:we},{width:1,height:Ie}),n.RGBAImage.copy(Ce,Ot,{x:0,y:0},{x:_e+Ne,y:we},{width:1,height:Ie})}this.dirty=!0},w.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},w.prototype.dispatchRenderCallbacks=function(_){for(var j=0,et=_;j<et.length;j+=1){var ct=et[j];if(!this.callbackDispatchedThisFrame[ct]){this.callbackDispatchedThisFrame[ct]=!0;var xt=this.images[ct];V(xt)&&this.updateImage(ct,xt)}}},w}(n.Evented),nt=Y,yt=Y,ut=1e20;function Y(g,w,_,j,et,ct){this.fontSize=g||24,this.buffer=void 0===w?3:w,this.cutoff=j||.25,this.fontFamily=et||"sans-serif",this.fontWeight=ct||"normal",this.radius=_||8;var xt=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=xt,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(xt*xt),this.gridInner=new Float64Array(xt*xt),this.f=new Float64Array(xt),this.d=new Float64Array(xt),this.z=new Float64Array(xt+1),this.v=new Int16Array(xt),this.middle=Math.round(xt/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function tt(g,w,_,j,et,ct,xt){for(var Ot=0;Ot<w;Ot++){for(var Zt=0;Zt<_;Zt++)j[Zt]=g[Zt*w+Ot];for(wt(j,et,ct,xt,_),Zt=0;Zt<_;Zt++)g[Zt*w+Ot]=et[Zt]}for(Zt=0;Zt<_;Zt++){for(Ot=0;Ot<w;Ot++)j[Ot]=g[Zt*w+Ot];for(wt(j,et,ct,xt,w),Ot=0;Ot<w;Ot++)g[Zt*w+Ot]=Math.sqrt(et[Ot])}}function wt(g,w,_,j,et){_[0]=0,j[0]=-ut,j[1]=+ut;for(var ct=1,xt=0;ct<et;ct++){for(var Ot=(g[ct]+ct*ct-(g[_[xt]]+_[xt]*_[xt]))/(2*ct-2*_[xt]);Ot<=j[xt];)xt--,Ot=(g[ct]+ct*ct-(g[_[xt]]+_[xt]*_[xt]))/(2*ct-2*_[xt]);_[++xt]=ct,j[xt]=Ot,j[xt+1]=+ut}for(ct=0,xt=0;ct<et;ct++){for(;j[xt+1]<ct;)xt++;w[ct]=(ct-_[xt])*(ct-_[xt])+g[_[xt]]}}Y.prototype.draw=function(g){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(g,this.buffer,this.middle);for(var w=this.ctx.getImageData(0,0,this.size,this.size),_=new Uint8ClampedArray(this.size*this.size),j=0;j<this.size*this.size;j++){var et=w.data[4*j+3]/255;this.gridOuter[j]=1===et?0:0===et?ut:Math.pow(Math.max(0,.5-et),2),this.gridInner[j]=1===et?ut:0===et?0:Math.pow(Math.max(0,et-.5),2)}for(tt(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),tt(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),j=0;j<this.size*this.size;j++)_[j]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[j]-this.gridInner[j])/this.radius+this.cutoff))));return _},nt.default=yt;var St=function(g,w){this.requestManager=g,this.localIdeographFontFamily=w,this.entries={}};St.prototype.setURL=function(g){this.url=g},St.prototype.getGlyphs=function(g,w){var _=this,j=[];for(var et in g)for(var ct=0,xt=g[et];ct<xt.length;ct+=1)j.push({stack:et,id:xt[ct]});n.asyncAll(j,function(Ot,Zt){var ne=Ot.stack,_e=Ot.id,we=_.entries[ne];we||(we=_.entries[ne]={glyphs:{},requests:{},ranges:{}});var Ce=we.glyphs[_e];if(void 0===Ce){if(Ce=_._tinySDF(we,ne,_e))return we.glyphs[_e]=Ce,void Zt(null,{stack:ne,id:_e,glyph:Ce});var Ne=Math.floor(_e/256);if(256*Ne>65535)Zt(new Error("glyphs > 65535 not supported"));else if(we.ranges[Ne])Zt(null,{stack:ne,id:_e,glyph:Ce});else{var Ie=we.requests[Ne];Ie||(Ie=we.requests[Ne]=[],St.loadGlyphRange(ne,Ne,_.url,_.requestManager,function(Ze,De){if(De){for(var Ye in De)_._doesCharSupportLocalGlyph(+Ye)||(we.glyphs[+Ye]=De[+Ye]);we.ranges[Ne]=!0}for(var ti=0,_i=Ie;ti<_i.length;ti+=1)(0,_i[ti])(Ze,De);delete we.requests[Ne]})),Ie.push(function(Ze,De){Ze?Zt(Ze):De&&Zt(null,{stack:ne,id:_e,glyph:De[_e]||null})})}}else Zt(null,{stack:ne,id:_e,glyph:Ce})},function(Ot,Zt){if(Ot)w(Ot);else if(Zt){for(var ne={},_e=0,we=Zt;_e<we.length;_e+=1){var Ce=we[_e],Ne=Ce.stack,Ie=Ce.id,Ze=Ce.glyph;(ne[Ne]||(ne[Ne]={}))[Ie]=Ze&&{id:Ze.id,bitmap:Ze.bitmap.clone(),metrics:Ze.metrics}}w(null,ne)}})},St.prototype._doesCharSupportLocalGlyph=function(g){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](g)||n.isChar["Hangul Syllables"](g)||n.isChar.Hiragana(g)||n.isChar.Katakana(g))},St.prototype._tinySDF=function(g,w,_){var j=this.localIdeographFontFamily;if(j&&this._doesCharSupportLocalGlyph(_)){var et=g.tinySDF;if(!et){var ct="400";/bold/i.test(w)?ct="900":/medium/i.test(w)?ct="500":/light/i.test(w)&&(ct="200"),et=g.tinySDF=new St.TinySDF(24,3,8,.25,j,ct)}return{id:_,bitmap:new n.AlphaImage({width:30,height:30},et.draw(String.fromCharCode(_))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},St.loadGlyphRange=function(g,w,_,j,et){var ct=256*w,xt=ct+255,Ot=j.transformRequest(j.normalizeGlyphsURL(_).replace("{fontstack}",g).replace("{range}",ct+"-"+xt),n.ResourceType.Glyphs);n.getArrayBuffer(Ot,function(Zt,ne){if(Zt)et(Zt);else if(ne){for(var _e={},we=0,Ce=n.parseGlyphPBF(ne);we<Ce.length;we+=1){var Ne=Ce[we];_e[Ne.id]=Ne}et(null,_e)}})},St.TinySDF=nt;var At=function(){this.specification=n.styleSpec.light.position};At.prototype.possiblyEvaluate=function(g,w){return n.sphericalToCartesian(g.expression.evaluate(w))},At.prototype.interpolate=function(g,w,_){return{x:n.number(g.x,w.x,_),y:n.number(g.y,w.y,_),z:n.number(g.z,w.z,_)}};var ht=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new At,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),mt=function(g){function w(_){g.call(this),this._transitionable=new n.Transitionable(ht),this.setLight(_),this._transitioning=this._transitionable.untransitioned()}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getLight=function(){return this._transitionable.serialize()},w.prototype.setLight=function(_,j){if(void 0===j&&(j={}),!this._validate(n.validateLight,_,j))for(var et in _){var ct=_[et];n.endsWith(et,"-transition")?this._transitionable.setTransition(et.slice(0,-11),ct):this._transitionable.setValue(et,ct)}},w.prototype.updateTransitions=function(_){this._transitioning=this._transitionable.transitioned(_,this._transitioning)},w.prototype.hasTransition=function(){return this._transitioning.hasTransition()},w.prototype.recalculate=function(_){this.properties=this._transitioning.possiblyEvaluate(_)},w.prototype._validate=function(_,j,et){return(!et||!1!==et.validate)&&n.emitValidationErrors(this,_.call(n.validateStyle,n.extend({value:j,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},w}(n.Evented),dt=function(g,w){this.width=g,this.height=w,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};dt.prototype.getDash=function(g,w){var _=g.join(",")+String(w);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(g,w)),this.dashEntry[_]},dt.prototype.getDashRanges=function(g,w,_){var j=[],et=g.length%2==1?-g[g.length-1]*_:0,ct=g[0]*_,xt=!0;j.push({left:et,right:ct,isDash:xt,zeroLength:0===g[0]});for(var Ot=g[0],Zt=1;Zt<g.length;Zt++){var ne=g[Zt];j.push({left:et=Ot*_,right:ct=(Ot+=ne)*_,isDash:xt=!xt,zeroLength:0===ne})}return j},dt.prototype.addRoundDash=function(g,w,_){for(var j=w/2,et=-_;et<=_;et++)for(var ct=this.width*(this.nextRow+_+et),xt=0,Ot=g[xt],Zt=0;Zt<this.width;Zt++){Zt/Ot.right>1&&(Ot=g[++xt]);var ne=Math.abs(Zt-Ot.left),_e=Math.abs(Zt-Ot.right),we=Math.min(ne,_e),Ce=void 0,Ne=et/_*(j+1);if(Ot.isDash){var Ie=j-Math.abs(Ne);Ce=Math.sqrt(we*we+Ie*Ie)}else Ce=j-Math.sqrt(we*we+Ne*Ne);this.data[ct+Zt]=Math.max(0,Math.min(255,Ce+128))}},dt.prototype.addRegularDash=function(g){for(var w=g.length-1;w>=0;--w){var _=g[w],j=g[w+1];_.zeroLength?g.splice(w,1):j&&j.isDash===_.isDash&&(j.left=_.left,g.splice(w,1))}var et=g[0],ct=g[g.length-1];et.isDash===ct.isDash&&(et.left=ct.left-this.width,ct.right=et.right+this.width);for(var xt=this.width*this.nextRow,Ot=0,Zt=g[Ot],ne=0;ne<this.width;ne++){ne/Zt.right>1&&(Zt=g[++Ot]);var _e=Math.abs(ne-Zt.left),we=Math.abs(ne-Zt.right),Ce=Math.min(_e,we);this.data[xt+ne]=Math.max(0,Math.min(255,(Zt.isDash?Ce:-Ce)+128))}},dt.prototype.addDash=function(g,w){var _=w?7:0,j=2*_+1;if(this.nextRow+j>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var et=0,ct=0;ct<g.length;ct++)et+=g[ct];if(0!==et){var xt=this.width/et,Ot=this.getDashRanges(g,this.width,xt);w?this.addRoundDash(Ot,xt,_):this.addRegularDash(Ot)}var Zt={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:et};return this.nextRow+=j,this.dirty=!0,Zt},dt.prototype.bind=function(g){var w=g.gl;this.texture?(w.bindTexture(w.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,w.texSubImage2D(w.TEXTURE_2D,0,0,0,this.width,this.height,w.ALPHA,w.UNSIGNED_BYTE,this.data))):(this.texture=w.createTexture(),w.bindTexture(w.TEXTURE_2D,this.texture),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.REPEAT),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.REPEAT),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR),w.texImage2D(w.TEXTURE_2D,0,w.ALPHA,this.width,this.height,0,w.ALPHA,w.UNSIGNED_BYTE,this.data))};var Lt=function g(w,_){this.workerPool=w,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var j=this.workerPool.acquire(this.id),et=0;et<j.length;et++){var ct=new g.Actor(j[et],_,this.id);ct.name="Worker "+et,this.actors.push(ct)}};function Ct(g,w,_){var j=function(et,ct){if(et)return _(et);if(ct){var xt=n.pick(n.extend(ct,g),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ct.vector_layers&&(xt.vectorLayers=ct.vector_layers,xt.vectorLayerIds=xt.vectorLayers.map(function(Ot){return Ot.id})),xt.tiles=w.canonicalizeTileset(xt,g.url),_(null,xt)}};return g.url?n.getJSON(w.transformRequest(w.normalizeSourceURL(g.url),n.ResourceType.Source),j):n.browser.frame(function(){return j(null,g)})}Lt.prototype.broadcast=function(g,w,_){n.asyncAll(this.actors,function(j,et){j.send(g,w,et)},_=_||function(){})},Lt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Lt.prototype.remove=function(){this.actors.forEach(function(g){g.remove()}),this.actors=[],this.workerPool.release(this.id)},Lt.Actor=n.Actor;var vt=function(g,w,_){this.bounds=n.LngLatBounds.convert(this.validateBounds(g)),this.minzoom=w||0,this.maxzoom=_||24};vt.prototype.validateBounds=function(g){return Array.isArray(g)&&4===g.length?[Math.max(-180,g[0]),Math.max(-90,g[1]),Math.min(180,g[2]),Math.min(90,g[3])]:[-180,-90,180,90]},vt.prototype.contains=function(g){var w=Math.pow(2,g.z),_=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*w),j=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*w),et=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*w),ct=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*w);return g.x>=_&&g.x<et&&g.y>=j&&g.y<ct};var kt=function(g){function w(_,j,et,ct){if(g.call(this),this.id=_,this.dispatcher=et,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(j,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},j),this._collectResourceTiming=j.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ct)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.load=function(){var _=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ct(this._options,this.map._requestManager,function(j,et){_._tileJSONRequest=null,_._loaded=!0,j?_.fire(new n.ErrorEvent(j)):et&&(n.extend(_,et),et.bounds&&(_.tileBounds=new vt(et.bounds,_.minzoom,_.maxzoom)),n.postTurnstileEvent(et.tiles,_.map._requestManager._customAccessToken),n.postMapLoadEvent(et.tiles,_.map._getMapId(),_.map._requestManager._skuToken,_.map._requestManager._customAccessToken),_.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),_.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},w.prototype.loaded=function(){return this._loaded},w.prototype.hasTile=function(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)},w.prototype.onAdd=function(_){this.map=_,this.load()},w.prototype.setSourceProperty=function(_){this._tileJSONRequest&&this._tileJSONRequest.cancel(),_(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},w.prototype.setTiles=function(_){var j=this;return this.setSourceProperty(function(){j._options.tiles=_}),this},w.prototype.setUrl=function(_){var j=this;return this.setSourceProperty(function(){j.url=_,j._options.url=_}),this},w.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},w.prototype.serialize=function(){return n.extend({},this._options)},w.prototype.loadTile=function(_,j){var et=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme)),ct={request:this.map._requestManager.transformRequest(et,n.ResourceType.Tile),uid:_.uid,tileID:_.tileID,zoom:_.tileID.overscaledZ,tileSize:this.tileSize*_.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function xt(Ot,Zt){return delete _.request,_.aborted?j(null):Ot&&404!==Ot.status?j(Ot):(Zt&&Zt.resourceTiming&&(_.resourceTiming=Zt.resourceTiming),this.map._refreshExpiredTiles&&Zt&&_.setExpiryData(Zt),_.loadVectorData(Zt,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),j(null),void(_.reloadCallback&&(this.loadTile(_,_.reloadCallback),_.reloadCallback=null)))}ct.request.collectResourceTiming=this._collectResourceTiming,_.actor&&"expired"!==_.state?"loading"===_.state?_.reloadCallback=j:_.request=_.actor.send("reloadTile",ct,xt.bind(this)):(_.actor=this.dispatcher.getActor(),_.request=_.actor.send("loadTile",ct,xt.bind(this)))},w.prototype.abortTile=function(_){_.request&&(_.request.cancel(),delete _.request),_.actor&&_.actor.send("abortTile",{uid:_.uid,type:this.type,source:this.id},void 0)},w.prototype.unloadTile=function(_){_.unloadVectorData(),_.actor&&_.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id},void 0)},w.prototype.hasTransition=function(){return!1},w}(n.Evented),Rt=function(g){function w(_,j,et,ct){g.call(this),this.id=_,this.dispatcher=et,this.setEventedParent(ct),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},j),n.extend(this,n.pick(j,["url","scheme","tileSize"]))}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.load=function(){var _=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ct(this._options,this.map._requestManager,function(j,et){_._tileJSONRequest=null,_._loaded=!0,j?_.fire(new n.ErrorEvent(j)):et&&(n.extend(_,et),et.bounds&&(_.tileBounds=new vt(et.bounds,_.minzoom,_.maxzoom)),n.postTurnstileEvent(et.tiles),n.postMapLoadEvent(et.tiles,_.map._getMapId(),_.map._requestManager._skuToken),_.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),_.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},w.prototype.loaded=function(){return this._loaded},w.prototype.onAdd=function(_){this.map=_,this.load()},w.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},w.prototype.serialize=function(){return n.extend({},this._options)},w.prototype.hasTile=function(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)},w.prototype.loadTile=function(_,j){var et=this,ct=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);_.request=n.getImage(this.map._requestManager.transformRequest(ct,n.ResourceType.Tile),function(xt,Ot){if(delete _.request,_.aborted)_.state="unloaded",j(null);else if(xt)_.state="errored",j(xt);else if(Ot){et.map._refreshExpiredTiles&&_.setExpiryData(Ot),delete Ot.cacheControl,delete Ot.expires;var Zt=et.map.painter.context,ne=Zt.gl;_.texture=et.map.painter.getTileTexture(Ot.width),_.texture?_.texture.update(Ot,{useMipmap:!0}):(_.texture=new n.Texture(Zt,Ot,ne.RGBA,{useMipmap:!0}),_.texture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE,ne.LINEAR_MIPMAP_NEAREST),Zt.extTextureFilterAnisotropic&&ne.texParameterf(ne.TEXTURE_2D,Zt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Zt.extTextureFilterAnisotropicMax)),_.state="loaded",n.cacheEntryPossiblyAdded(et.dispatcher),j(null)}})},w.prototype.abortTile=function(_,j){_.request&&(_.request.cancel(),delete _.request),j()},w.prototype.unloadTile=function(_,j){_.texture&&this.map.painter.saveTileTexture(_.texture),j()},w.prototype.hasTransition=function(){return!1},w}(n.Evented),Xt=function(g){function w(_,j,et,ct){g.call(this,_,j,et,ct),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},j),this.encoding=j.encoding||"mapbox"}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},w.prototype.loadTile=function(_,j){var et=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function ct(xt,Ot){xt&&(_.state="errored",j(xt)),Ot&&(_.dem=Ot,_.needsHillshadePrepare=!0,_.state="loaded",j(null))}_.request=n.getImage(this.map._requestManager.transformRequest(et,n.ResourceType.Tile),function(xt,Ot){if(delete _.request,_.aborted)_.state="unloaded",j(null);else if(xt)_.state="errored",j(xt);else if(Ot){this.map._refreshExpiredTiles&&_.setExpiryData(Ot),delete Ot.cacheControl,delete Ot.expires;var Zt=n.window.ImageBitmap&&Ot instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported()?Ot:n.browser.getImageData(Ot,1),ne={uid:_.uid,coord:_.tileID,source:this.id,rawImageData:Zt,encoding:this.encoding};_.actor&&"expired"!==_.state||(_.actor=this.dispatcher.getActor(),_.actor.send("loadDEMTile",ne,ct.bind(this)))}}.bind(this)),_.neighboringTiles=this._getNeighboringTiles(_.tileID)},w.prototype._getNeighboringTiles=function(_){var j=_.canonical,et=Math.pow(2,j.z),ct=(j.x-1+et)%et,xt=0===j.x?_.wrap-1:_.wrap,Ot=(j.x+1+et)%et,Zt=j.x+1===et?_.wrap+1:_.wrap,ne={};return ne[new n.OverscaledTileID(_.overscaledZ,xt,j.z,ct,j.y).key]={backfilled:!1},ne[new n.OverscaledTileID(_.overscaledZ,Zt,j.z,Ot,j.y).key]={backfilled:!1},j.y>0&&(ne[new n.OverscaledTileID(_.overscaledZ,xt,j.z,ct,j.y-1).key]={backfilled:!1},ne[new n.OverscaledTileID(_.overscaledZ,_.wrap,j.z,j.x,j.y-1).key]={backfilled:!1},ne[new n.OverscaledTileID(_.overscaledZ,Zt,j.z,Ot,j.y-1).key]={backfilled:!1}),j.y+1<et&&(ne[new n.OverscaledTileID(_.overscaledZ,xt,j.z,ct,j.y+1).key]={backfilled:!1},ne[new n.OverscaledTileID(_.overscaledZ,_.wrap,j.z,j.x,j.y+1).key]={backfilled:!1},ne[new n.OverscaledTileID(_.overscaledZ,Zt,j.z,Ot,j.y+1).key]={backfilled:!1}),ne},w.prototype.unloadTile=function(_){_.demTexture&&this.map.painter.saveTileTexture(_.demTexture),_.fbo&&(_.fbo.destroy(),delete _.fbo),_.dem&&delete _.dem,delete _.neighboringTiles,_.state="unloaded",_.actor&&_.actor.send("removeDEMTile",{uid:_.uid,source:this.id})},w}(Rt),Ft=function(g){function w(_,j,et,ct){g.call(this),this.id=_,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=et.getActor(),this.setEventedParent(ct),this._data=j.data,this._options=n.extend({},j),this._collectResourceTiming=j.collectResourceTiming,this._resourceTiming=[],void 0!==j.maxzoom&&(this.maxzoom=j.maxzoom),j.type&&(this.type=j.type),j.attribution&&(this.attribution=j.attribution),this.promoteId=j.promoteId;var xt=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:j.cluster||!1,geojsonVtOptions:{buffer:(void 0!==j.buffer?j.buffer:128)*xt,tolerance:(void 0!==j.tolerance?j.tolerance:.375)*xt,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:j.lineMetrics||!1,generateId:j.generateId||!1},superclusterOptions:{maxZoom:void 0!==j.clusterMaxZoom?Math.min(j.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,j.clusterMinPoints||2),extent:n.EXTENT,radius:(j.clusterRadius||50)*xt,log:!1,generateId:j.generateId||!1},clusterProperties:j.clusterProperties,filter:j.filter},j.workerOptions)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.load=function(){var _=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(j){if(j)_.fire(new n.ErrorEvent(j));else{var et={dataType:"source",sourceDataType:"metadata"};_._collectResourceTiming&&_._resourceTiming&&_._resourceTiming.length>0&&(et.resourceTiming=_._resourceTiming,_._resourceTiming=[]),_.fire(new n.Event("data",et))}})},w.prototype.onAdd=function(_){this.map=_,this.load()},w.prototype.setData=function(_){var j=this;return this._data=_,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(et){if(et)j.fire(new n.ErrorEvent(et));else{var ct={dataType:"source",sourceDataType:"content"};j._collectResourceTiming&&j._resourceTiming&&j._resourceTiming.length>0&&(ct.resourceTiming=j._resourceTiming,j._resourceTiming=[]),j.fire(new n.Event("data",ct))}}),this},w.prototype.getClusterExpansionZoom=function(_,j){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_,source:this.id},j),this},w.prototype.getClusterChildren=function(_,j){return this.actor.send("geojson.getClusterChildren",{clusterId:_,source:this.id},j),this},w.prototype.getClusterLeaves=function(_,j,et,ct){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_,limit:j,offset:et},ct),this},w.prototype._updateWorkerData=function(_){var j=this;this._loaded=!1;var et=n.extend({},this.workerOptions),ct=this._data;"string"==typeof ct?(et.request=this.map._requestManager.transformRequest(n.browser.resolveURL(ct),n.ResourceType.Source),et.request.collectResourceTiming=this._collectResourceTiming):et.data=JSON.stringify(ct),this.actor.send(this.type+".loadData",et,function(xt,Ot){j._removed||Ot&&Ot.abandoned||(j._loaded=!0,Ot&&Ot.resourceTiming&&Ot.resourceTiming[j.id]&&(j._resourceTiming=Ot.resourceTiming[j.id].slice(0)),j.actor.send(j.type+".coalesce",{source:et.source},null),_(xt))})},w.prototype.loaded=function(){return this._loaded},w.prototype.loadTile=function(_,j){var et=this,ct=_.actor?"reloadTile":"loadTile";_.actor=this.actor,_.request=this.actor.send(ct,{type:this.type,uid:_.uid,tileID:_.tileID,zoom:_.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(xt,Ot){return delete _.request,_.unloadVectorData(),_.aborted?j(null):xt?j(xt):(_.loadVectorData(Ot,et.map.painter,"reloadTile"===ct),j(null))})},w.prototype.abortTile=function(_){_.request&&(_.request.cancel(),delete _.request),_.aborted=!0},w.prototype.unloadTile=function(_){_.unloadVectorData(),this.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})},w.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},w.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},w.prototype.hasTransition=function(){return!1},w}(n.Evented),qt=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ae=function(g){function w(_,j,et,ct){g.call(this),this.id=_,this.dispatcher=et,this.coordinates=j.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ct),this.options=j}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.load=function(_,j){var et=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(ct,xt){et._loaded=!0,ct?et.fire(new n.ErrorEvent(ct)):xt&&(et.image=xt,_&&(et.coordinates=_),j&&j(),et._finishLoading())})},w.prototype.loaded=function(){return this._loaded},w.prototype.updateImage=function(_){var j=this;return this.image&&_.url?(this.options.url=_.url,this.load(_.coordinates,function(){j.texture=null}),this):this},w.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},w.prototype.onAdd=function(_){this.map=_,this.load()},w.prototype.setCoordinates=function(_){var j=this;this.coordinates=_;var et=_.map(n.MercatorCoordinate.fromLngLat);this.tileID=function(xt){for(var Ot=1/0,Zt=1/0,ne=-1/0,_e=-1/0,we=0,Ce=xt;we<Ce.length;we+=1){var Ne=Ce[we];Ot=Math.min(Ot,Ne.x),Zt=Math.min(Zt,Ne.y),ne=Math.max(ne,Ne.x),_e=Math.max(_e,Ne.y)}var Ie=Math.max(ne-Ot,_e-Zt),Ze=Math.max(0,Math.floor(-Math.log(Ie)/Math.LN2)),De=Math.pow(2,Ze);return new n.CanonicalTileID(Ze,Math.floor((Ot+ne)/2*De),Math.floor((Zt+_e)/2*De))}(et),this.minzoom=this.maxzoom=this.tileID.z;var ct=et.map(function(xt){return j.tileID.getTilePoint(xt)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(ct[0].x,ct[0].y,0,0),this._boundsArray.emplaceBack(ct[1].x,ct[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(ct[3].x,ct[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(ct[2].x,ct[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},w.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var _=this.map.painter.context,j=_.gl;for(var et in this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,qt.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(_,this.image,j.RGBA),this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE)),this.tiles){var ct=this.tiles[et];"loaded"!==ct.state&&(ct.state="loaded",ct.texture=this.texture)}}},w.prototype.loadTile=function(_,j){this.tileID&&this.tileID.equals(_.tileID.canonical)?(this.tiles[String(_.tileID.wrap)]=_,_.buckets={},j(null)):(_.state="errored",j(null))},w.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},w.prototype.hasTransition=function(){return!1},w}(n.Evented),te=function(g){function w(_,j,et,ct){g.call(this,_,j,et,ct),this.roundZoom=!0,this.type="video",this.options=j}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.load=function(){var _=this;this._loaded=!1;var j=this.options;this.urls=[];for(var et=0,ct=j.urls;et<ct.length;et+=1)this.urls.push(this.map._requestManager.transformRequest(ct[et],n.ResourceType.Source).url);n.getVideo(this.urls,function(xt,Ot){_._loaded=!0,xt?_.fire(new n.ErrorEvent(xt)):Ot&&(_.video=Ot,_.video.loop=!0,_.video.addEventListener("playing",function(){_.map.triggerRepaint()}),_.map&&_.video.play(),_._finishLoading())})},w.prototype.pause=function(){this.video&&this.video.pause()},w.prototype.play=function(){this.video&&this.video.play()},w.prototype.seek=function(_){if(this.video){var j=this.video.seekable;_<j.start(0)||_>j.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+j.start(0)+" and "+j.end(0)+"-second mark."))):this.video.currentTime=_}},w.prototype.getVideo=function(){return this.video},w.prototype.onAdd=function(_){this.map||(this.map=_,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},w.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var _=this.map.painter.context,j=_.gl;for(var et in this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,qt.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE),j.texSubImage2D(j.TEXTURE_2D,0,0,0,j.RGBA,j.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(_,this.video,j.RGBA),this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE)),this.tiles){var ct=this.tiles[et];"loaded"!==ct.state&&(ct.state="loaded",ct.texture=this.texture)}}},w.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},w.prototype.hasTransition=function(){return this.video&&!this.video.paused},w}(ae),de=function(g){function w(_,j,et,ct){g.call(this,_,j,et,ct),j.coordinates?Array.isArray(j.coordinates)&&4===j.coordinates.length&&!j.coordinates.some(function(xt){return!Array.isArray(xt)||2!==xt.length||xt.some(function(Ot){return"number"!=typeof Ot})})||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+_,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+_,null,'missing required property "coordinates"'))),j.animate&&"boolean"!=typeof j.animate&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+_,null,'optional "animate" property must be a boolean value'))),j.canvas?"string"==typeof j.canvas||j.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+_,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+_,null,'missing required property "canvas"'))),this.options=j,this.animate=void 0===j.animate||j.animate}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},w.prototype.getCanvas=function(){return this.canvas},w.prototype.onAdd=function(_){this.map=_,this.load(),this.canvas&&this.animate&&this.play()},w.prototype.onRemove=function(){this.pause()},w.prototype.prepare=function(){var _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var j=this.map.painter.context,et=j.gl;for(var ct in this.boundsBuffer||(this.boundsBuffer=j.createVertexBuffer(this._boundsArray,qt.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(j,this.canvas,et.RGBA,{premultiply:!0}),this.tiles){var xt=this.tiles[ct];"loaded"!==xt.state&&(xt.state="loaded",xt.texture=this.texture)}}},w.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},w.prototype.hasTransition=function(){return this._playing},w.prototype._hasInvalidDimensions=function(){for(var _=0,j=[this.canvas.width,this.canvas.height];_<j.length;_+=1){var et=j[_];if(isNaN(et)||et<=0)return!0}return!1},w}(ae),re={vector:kt,raster:Rt,"raster-dem":Xt,geojson:Ft,video:te,image:ae,canvas:de};function Ut(g,w){var _=n.identity([]);return n.translate(_,_,[1,1,0]),n.scale(_,_,[.5*g.width,.5*g.height,1]),n.multiply(_,_,g.calculatePosMatrix(w.toUnwrapped()))}function Vt(g,w,_,j,et,ct){var xt=function(Ze,De,Ye){if(Ze)for(var ti=0,_i=Ze;ti<_i.length;ti+=1){var Oi=De[_i[ti]];if(Oi&&Oi.source===Ye&&"fill-extrusion"===Oi.type)return!0}else for(var ki in De){var Ni=De[ki];if(Ni.source===Ye&&"fill-extrusion"===Ni.type)return!0}return!1}(et&&et.layers,w,g.id),Ot=ct.maxPitchScaleFactor(),Zt=g.tilesIn(j,Ot,xt);Zt.sort(ue);for(var ne=[],_e=0,we=Zt;_e<we.length;_e+=1){var Ce=we[_e];ne.push({wrappedTileID:Ce.tileID.wrapped().key,queryResults:Ce.tile.queryRenderedFeatures(w,_,g._state,Ce.queryGeometry,Ce.cameraQueryGeometry,Ce.scale,et,ct,Ot,Ut(g.transform,Ce.tileID))})}var Ne=function(Ze){for(var De={},Ye={},ti=0,_i=Ze;ti<_i.length;ti+=1){var Oi=_i[ti],ki=Oi.queryResults,Ni=Oi.wrappedTileID,Ki=Ye[Ni]=Ye[Ni]||{};for(var fn in ki)for(var dn=ki[fn],Mn=Ki[fn]=Ki[fn]||{},Wn=De[fn]=De[fn]||[],qn=0,Zn=dn;qn<Zn.length;qn+=1){var Xr=Zn[qn];Mn[Xr.featureIndex]||(Mn[Xr.featureIndex]=!0,Wn.push(Xr))}}return De}(ne);for(var Ie in Ne)Ne[Ie].forEach(function(Ze){var De=Ze.feature,Ye=g.getFeatureState(De.layer["source-layer"],De.id);De.source=De.layer.source,De.layer["source-layer"]&&(De.sourceLayer=De.layer["source-layer"]),De.state=Ye});return Ne}function ue(g,w){var _=g.tileID,j=w.tileID;return _.overscaledZ-j.overscaledZ||_.canonical.y-j.canonical.y||_.wrap-j.wrap||_.canonical.x-j.canonical.x}var me=function(g,w){this.max=g,this.onRemove=w,this.reset()};me.prototype.reset=function(){for(var g in this.data)for(var w=0,_=this.data[g];w<_.length;w+=1){var j=_[w];j.timeout&&clearTimeout(j.timeout),this.onRemove(j.value)}return this.data={},this.order=[],this},me.prototype.add=function(g,w,_){var j=this,et=g.wrapped().key;void 0===this.data[et]&&(this.data[et]=[]);var ct={value:w,timeout:void 0};if(void 0!==_&&(ct.timeout=setTimeout(function(){j.remove(g,ct)},_)),this.data[et].push(ct),this.order.push(et),this.order.length>this.max){var xt=this._getAndRemoveByKey(this.order[0]);xt&&this.onRemove(xt)}return this},me.prototype.has=function(g){return g.wrapped().key in this.data},me.prototype.getAndRemove=function(g){return this.has(g)?this._getAndRemoveByKey(g.wrapped().key):null},me.prototype._getAndRemoveByKey=function(g){var w=this.data[g].shift();return w.timeout&&clearTimeout(w.timeout),0===this.data[g].length&&delete this.data[g],this.order.splice(this.order.indexOf(g),1),w.value},me.prototype.getByKey=function(g){var w=this.data[g];return w?w[0].value:null},me.prototype.get=function(g){return this.has(g)?this.data[g.wrapped().key][0].value:null},me.prototype.remove=function(g,w){if(!this.has(g))return this;var _=g.wrapped().key,j=void 0===w?0:this.data[_].indexOf(w),et=this.data[_][j];return this.data[_].splice(j,1),et.timeout&&clearTimeout(et.timeout),0===this.data[_].length&&delete this.data[_],this.onRemove(et.value),this.order.splice(this.order.indexOf(_),1),this},me.prototype.setMaxSize=function(g){for(this.max=g;this.order.length>this.max;){var w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this},me.prototype.filter=function(g){var w=[];for(var _ in this.data)for(var j=0,et=this.data[_];j<et.length;j+=1){var ct=et[j];g(ct.value)||w.push(ct)}for(var xt=0,Ot=w;xt<Ot.length;xt+=1){var Zt=Ot[xt];this.remove(Zt.value.tileID,Zt)}};var ve=function(g,w,_){this.context=g;var j=g.gl;this.buffer=j.createBuffer(),this.dynamicDraw=Boolean(_),this.context.unbindVAO(),g.bindElementBuffer.set(this.buffer),j.bufferData(j.ELEMENT_ARRAY_BUFFER,w.arrayBuffer,this.dynamicDraw?j.DYNAMIC_DRAW:j.STATIC_DRAW),this.dynamicDraw||delete w.arrayBuffer};ve.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ve.prototype.updateData=function(g){var w=this.context.gl;this.context.unbindVAO(),this.bind(),w.bufferSubData(w.ELEMENT_ARRAY_BUFFER,0,g.arrayBuffer)},ve.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var le={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},We=function(g,w,_,j){this.length=w.length,this.attributes=_,this.itemSize=w.bytesPerElement,this.dynamicDraw=j,this.context=g;var et=g.gl;this.buffer=et.createBuffer(),g.bindVertexBuffer.set(this.buffer),et.bufferData(et.ARRAY_BUFFER,w.arrayBuffer,this.dynamicDraw?et.DYNAMIC_DRAW:et.STATIC_DRAW),this.dynamicDraw||delete w.arrayBuffer};We.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},We.prototype.updateData=function(g){var w=this.context.gl;this.bind(),w.bufferSubData(w.ARRAY_BUFFER,0,g.arrayBuffer)},We.prototype.enableAttributes=function(g,w){for(var _=0;_<this.attributes.length;_++){var j=w.attributes[this.attributes[_].name];void 0!==j&&g.enableVertexAttribArray(j)}},We.prototype.setVertexAttribPointers=function(g,w,_){for(var j=0;j<this.attributes.length;j++){var et=this.attributes[j],ct=w.attributes[et.name];void 0!==ct&&g.vertexAttribPointer(ct,et.components,g[le[et.type]],!1,this.itemSize,et.offset+this.itemSize*(_||0))}},We.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var $e=function(g){this.gl=g.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};$e.prototype.get=function(){return this.current},$e.prototype.set=function(g){},$e.prototype.getDefault=function(){return this.default},$e.prototype.setDefault=function(){this.set(this.default)};var Li=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return n.Color.transparent},w.prototype.set=function(_){var j=this.current;(_.r!==j.r||_.g!==j.g||_.b!==j.b||_.a!==j.a||this.dirty)&&(this.gl.clearColor(_.r,_.g,_.b,_.a),this.current=_,this.dirty=!1)},w}($e),Si=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return 1},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.clearDepth(_),this.current=_,this.dirty=!1)},w}($e),bi=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return 0},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.clearStencil(_),this.current=_,this.dirty=!1)},w}($e),ji=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return[!0,!0,!0,!0]},w.prototype.set=function(_){var j=this.current;(_[0]!==j[0]||_[1]!==j[1]||_[2]!==j[2]||_[3]!==j[3]||this.dirty)&&(this.gl.colorMask(_[0],_[1],_[2],_[3]),this.current=_,this.dirty=!1)},w}($e),ui=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return!0},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.depthMask(_),this.current=_,this.dirty=!1)},w}($e),Pi=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return 255},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.stencilMask(_),this.current=_,this.dirty=!1)},w}($e),Ai=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},w.prototype.set=function(_){var j=this.current;(_.func!==j.func||_.ref!==j.ref||_.mask!==j.mask||this.dirty)&&(this.gl.stencilFunc(_.func,_.ref,_.mask),this.current=_,this.dirty=!1)},w}($e),ke=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){var _=this.gl;return[_.KEEP,_.KEEP,_.KEEP]},w.prototype.set=function(_){var j=this.current;(_[0]!==j[0]||_[1]!==j[1]||_[2]!==j[2]||this.dirty)&&(this.gl.stencilOp(_[0],_[1],_[2]),this.current=_,this.dirty=!1)},w}($e),di=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return!1},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;_?j.enable(j.STENCIL_TEST):j.disable(j.STENCIL_TEST),this.current=_,this.dirty=!1}},w}($e),lt=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return[0,1]},w.prototype.set=function(_){var j=this.current;(_[0]!==j[0]||_[1]!==j[1]||this.dirty)&&(this.gl.depthRange(_[0],_[1]),this.current=_,this.dirty=!1)},w}($e),Dt=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return!1},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;_?j.enable(j.DEPTH_TEST):j.disable(j.DEPTH_TEST),this.current=_,this.dirty=!1}},w}($e),Jt=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return this.gl.LESS},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.depthFunc(_),this.current=_,this.dirty=!1)},w}($e),he=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return!1},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;_?j.enable(j.BLEND):j.disable(j.BLEND),this.current=_,this.dirty=!1}},w}($e),Te=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){var _=this.gl;return[_.ONE,_.ZERO]},w.prototype.set=function(_){var j=this.current;(_[0]!==j[0]||_[1]!==j[1]||this.dirty)&&(this.gl.blendFunc(_[0],_[1]),this.current=_,this.dirty=!1)},w}($e),Fe=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return n.Color.transparent},w.prototype.set=function(_){var j=this.current;(_.r!==j.r||_.g!==j.g||_.b!==j.b||_.a!==j.a||this.dirty)&&(this.gl.blendColor(_.r,_.g,_.b,_.a),this.current=_,this.dirty=!1)},w}($e),Ci=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return this.gl.FUNC_ADD},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.blendEquation(_),this.current=_,this.dirty=!1)},w}($e),Hi=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return!1},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;_?j.enable(j.CULL_FACE):j.disable(j.CULL_FACE),this.current=_,this.dirty=!1}},w}($e),Ri=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return this.gl.BACK},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.cullFace(_),this.current=_,this.dirty=!1)},w}($e),nn=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return this.gl.CCW},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.frontFace(_),this.current=_,this.dirty=!1)},w}($e),gn=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return null},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.useProgram(_),this.current=_,this.dirty=!1)},w}($e),Hn=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return this.gl.TEXTURE0},w.prototype.set=function(_){(_!==this.current||this.dirty)&&(this.gl.activeTexture(_),this.current=_,this.dirty=!1)},w}($e),Gn=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){var _=this.gl;return[0,0,_.drawingBufferWidth,_.drawingBufferHeight]},w.prototype.set=function(_){var j=this.current;(_[0]!==j[0]||_[1]!==j[1]||_[2]!==j[2]||_[3]!==j[3]||this.dirty)&&(this.gl.viewport(_[0],_[1],_[2],_[3]),this.current=_,this.dirty=!1)},w}($e),Ji=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return null},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;j.bindFramebuffer(j.FRAMEBUFFER,_),this.current=_,this.dirty=!1}},w}($e),ci=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return null},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;j.bindRenderbuffer(j.RENDERBUFFER,_),this.current=_,this.dirty=!1}},w}($e),mi=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return null},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;j.bindTexture(j.TEXTURE_2D,_),this.current=_,this.dirty=!1}},w}($e),yi=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return null},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;j.bindBuffer(j.ARRAY_BUFFER,_),this.current=_,this.dirty=!1}},w}($e),$i=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return null},w.prototype.set=function(_){var j=this.gl;j.bindBuffer(j.ELEMENT_ARRAY_BUFFER,_),this.current=_,this.dirty=!1},w}($e),rn=function(g){function w(_){g.call(this,_),this.vao=_.extVertexArrayObject}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return null},w.prototype.set=function(_){this.vao&&(_!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(_),this.current=_,this.dirty=!1)},w}($e),Yi=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return 4},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;j.pixelStorei(j.UNPACK_ALIGNMENT,_),this.current=_,this.dirty=!1}},w}($e),Cn=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return!1},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_),this.current=_,this.dirty=!1}},w}($e),Gi=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return!1},w.prototype.set=function(_){if(_!==this.current||this.dirty){var j=this.gl;j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,_),this.current=_,this.dirty=!1}},w}($e),Qe=function(g){function w(_,j){g.call(this,_),this.context=_,this.parent=j}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getDefault=function(){return null},w}($e),K=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.setDirty=function(){this.dirty=!0},w.prototype.set=function(_){if(_!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var j=this.gl;j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,_,0),this.current=_,this.dirty=!1}},w}(Qe),it=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.set=function(_){if(_!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var j=this.gl;j.framebufferRenderbuffer(j.FRAMEBUFFER,j.DEPTH_ATTACHMENT,j.RENDERBUFFER,_),this.current=_,this.dirty=!1}},w}(Qe),gt=function(g,w,_,j){this.context=g,this.width=w,this.height=_;var et=this.framebuffer=g.gl.createFramebuffer();this.colorAttachment=new K(g,et),j&&(this.depthAttachment=new it(g,et))};gt.prototype.destroy=function(){var g=this.context.gl,w=this.colorAttachment.get();if(w&&g.deleteTexture(w),this.depthAttachment){var _=this.depthAttachment.get();_&&g.deleteRenderbuffer(_)}g.deleteFramebuffer(this.framebuffer)};var Pt=function(g,w,_){this.func=g,this.mask=w,this.range=_};Pt.ReadOnly=!1,Pt.ReadWrite=!0,Pt.disabled=new Pt(519,Pt.ReadOnly,[0,1]);var jt=function(g,w,_,j,et,ct){this.test=g,this.ref=w,this.mask=_,this.fail=j,this.depthFail=et,this.pass=ct};jt.disabled=new jt({func:519,mask:0},0,0,7680,7680,7680);var Kt=function(g,w,_){this.blendFunction=g,this.blendColor=w,this.mask=_};Kt.disabled=new Kt(Kt.Replace=[1,0],n.Color.transparent,[!1,!1,!1,!1]),Kt.unblended=new Kt(Kt.Replace,n.Color.transparent,[!0,!0,!0,!0]),Kt.alphaBlended=new Kt([1,771],n.Color.transparent,[!0,!0,!0,!0]);var se=function(g,w,_){this.enable=g,this.mode=w,this.frontFace=_};se.disabled=new se(!1,1029,2305),se.backCCW=new se(!0,1029,2305);var ie=function(g){this.gl=g,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Li(this),this.clearDepth=new Si(this),this.clearStencil=new bi(this),this.colorMask=new ji(this),this.depthMask=new ui(this),this.stencilMask=new Pi(this),this.stencilFunc=new Ai(this),this.stencilOp=new ke(this),this.stencilTest=new di(this),this.depthRange=new lt(this),this.depthTest=new Dt(this),this.depthFunc=new Jt(this),this.blend=new he(this),this.blendFunc=new Te(this),this.blendColor=new Fe(this),this.blendEquation=new Ci(this),this.cullFace=new Hi(this),this.cullFaceSide=new Ri(this),this.frontFace=new nn(this),this.program=new gn(this),this.activeTexture=new Hn(this),this.viewport=new Gn(this),this.bindFramebuffer=new Ji(this),this.bindRenderbuffer=new ci(this),this.bindTexture=new mi(this),this.bindVertexBuffer=new yi(this),this.bindElementBuffer=new $i(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new rn(this),this.pixelStoreUnpack=new Yi(this),this.pixelStoreUnpackPremultiplyAlpha=new Cn(this),this.pixelStoreUnpackFlipY=new Gi(this),this.extTextureFilterAnisotropic=g.getExtension("EXT_texture_filter_anisotropic")||g.getExtension("MOZ_EXT_texture_filter_anisotropic")||g.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=g.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=g.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(g.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=g.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=g.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=g.getParameter(g.MAX_TEXTURE_SIZE)};ie.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},ie.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},ie.prototype.createIndexBuffer=function(g,w){return new ve(this,g,w)},ie.prototype.createVertexBuffer=function(g,w,_){return new We(this,g,w,_)},ie.prototype.createRenderbuffer=function(g,w,_){var j=this.gl,et=j.createRenderbuffer();return this.bindRenderbuffer.set(et),j.renderbufferStorage(j.RENDERBUFFER,g,w,_),this.bindRenderbuffer.set(null),et},ie.prototype.createFramebuffer=function(g,w,_){return new gt(this,g,w,_)},ie.prototype.clear=function(g){var w=g.color,_=g.depth,j=this.gl,et=0;w&&(et|=j.COLOR_BUFFER_BIT,this.clearColor.set(w),this.colorMask.set([!0,!0,!0,!0])),void 0!==_&&(et|=j.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(_),this.depthMask.set(!0)),j.clear(et)},ie.prototype.setCullFace=function(g){!1===g.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(g.mode),this.frontFace.set(g.frontFace))},ie.prototype.setDepthMode=function(g){g.func!==this.gl.ALWAYS||g.mask?(this.depthTest.set(!0),this.depthFunc.set(g.func),this.depthMask.set(g.mask),this.depthRange.set(g.range)):this.depthTest.set(!1)},ie.prototype.setStencilMode=function(g){g.test.func!==this.gl.ALWAYS||g.mask?(this.stencilTest.set(!0),this.stencilMask.set(g.mask),this.stencilOp.set([g.fail,g.depthFail,g.pass]),this.stencilFunc.set({func:g.test.func,ref:g.ref,mask:g.test.mask})):this.stencilTest.set(!1)},ie.prototype.setColorMode=function(g){n.deepEqual(g.blendFunction,Kt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(g.blendFunction),this.blendColor.set(g.blendColor)),this.colorMask.set(g.mask)},ie.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var fe=function(g){function w(_,j,et){var ct=this;g.call(this),this.id=_,this.dispatcher=et,this.on("data",function(xt){"source"===xt.dataType&&"metadata"===xt.sourceDataType&&(ct._sourceLoaded=!0),ct._sourceLoaded&&!ct._paused&&"source"===xt.dataType&&"content"===xt.sourceDataType&&(ct.reload(),ct.transform&&ct.update(ct.transform))}),this.on("error",function(){ct._sourceErrored=!0}),this._source=function(xt,Ot,Zt,ne){var _e=new re[Ot.type](xt,Ot,Zt,ne);if(_e.id!==xt)throw new Error("Expected Source id to be "+xt+" instead of "+_e.id);return n.bindAll(["load","abort","unload","serialize","prepare"],_e),_e}(_,j,et,this),this._tiles={},this._cache=new me(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.onAdd=function(_){this.map=_,this._maxTileCacheSize=_?_._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(_)},w.prototype.onRemove=function(_){this._source&&this._source.onRemove&&this._source.onRemove(_)},w.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var _ in this._tiles){var j=this._tiles[_];if("loaded"!==j.state&&"errored"!==j.state)return!1}return!0},w.prototype.getSource=function(){return this._source},w.prototype.pause=function(){this._paused=!0},w.prototype.resume=function(){if(this._paused){var _=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,_&&this.reload(),this.transform&&this.update(this.transform)}},w.prototype._loadTile=function(_,j){return this._source.loadTile(_,j)},w.prototype._unloadTile=function(_){if(this._source.unloadTile)return this._source.unloadTile(_,function(){})},w.prototype._abortTile=function(_){if(this._source.abortTile)return this._source.abortTile(_,function(){})},w.prototype.serialize=function(){return this._source.serialize()},w.prototype.prepare=function(_){for(var j in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var et=this._tiles[j];et.upload(_),et.prepare(this.map.style.imageManager)}},w.prototype.getIds=function(){return n.values(this._tiles).map(function(_){return _.tileID}).sort(He).map(function(_){return _.key})},w.prototype.getRenderableIds=function(_){var j=this,et=[];for(var ct in this._tiles)this._isIdRenderable(ct,_)&&et.push(this._tiles[ct]);return _?et.sort(function(xt,Ot){var Zt=xt.tileID,ne=Ot.tileID,_e=new n.Point(Zt.canonical.x,Zt.canonical.y)._rotate(j.transform.angle),we=new n.Point(ne.canonical.x,ne.canonical.y)._rotate(j.transform.angle);return Zt.overscaledZ-ne.overscaledZ||we.y-_e.y||we.x-_e.x}).map(function(xt){return xt.tileID.key}):et.map(function(xt){return xt.tileID}).sort(He).map(function(xt){return xt.key})},w.prototype.hasRenderableParent=function(_){var j=this.findLoadedParent(_,0);return!!j&&this._isIdRenderable(j.tileID.key)},w.prototype._isIdRenderable=function(_,j){return this._tiles[_]&&this._tiles[_].hasData()&&!this._coveredTiles[_]&&(j||!this._tiles[_].holdingForFade())},w.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var _ in this._cache.reset(),this._tiles)"errored"!==this._tiles[_].state&&this._reloadTile(_,"reloading")},w.prototype._reloadTile=function(_,j){var et=this._tiles[_];et&&("loading"!==et.state&&(et.state=j),this._loadTile(et,this._tileLoaded.bind(this,et,_,j)))},w.prototype._tileLoaded=function(_,j,et,ct){if(ct)return _.state="errored",void(404!==ct.status?this._source.fire(new n.ErrorEvent(ct,{tile:_})):this.update(this.transform));_.timeAdded=n.browser.now(),"expired"===et&&(_.refreshedUponExpiration=!0),this._setTileReloadTimer(j,_),"raster-dem"===this.getSource().type&&_.dem&&this._backfillDEM(_),this._state.initializeTileState(_,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:_,coord:_.tileID}))},w.prototype._backfillDEM=function(_){for(var j=this.getRenderableIds(),et=0;et<j.length;et++){var ct=j[et];if(_.neighboringTiles&&_.neighboringTiles[ct]){var xt=this.getTileByID(ct);Ot(_,xt),Ot(xt,_)}}function Ot(Zt,ne){Zt.needsHillshadePrepare=!0;var _e=ne.tileID.canonical.x-Zt.tileID.canonical.x,we=ne.tileID.canonical.y-Zt.tileID.canonical.y,Ce=Math.pow(2,Zt.tileID.canonical.z),Ne=ne.tileID.key;0===_e&&0===we||Math.abs(we)>1||(Math.abs(_e)>1&&(1===Math.abs(_e+Ce)?_e+=Ce:1===Math.abs(_e-Ce)&&(_e-=Ce)),ne.dem&&Zt.dem&&(Zt.dem.backfillBorder(ne.dem,_e,we),Zt.neighboringTiles&&Zt.neighboringTiles[Ne]&&(Zt.neighboringTiles[Ne].backfilled=!0)))}},w.prototype.getTile=function(_){return this.getTileByID(_.key)},w.prototype.getTileByID=function(_){return this._tiles[_]},w.prototype._retainLoadedChildren=function(_,j,et,ct){for(var xt in this._tiles){var Ot=this._tiles[xt];if(!(ct[xt]||!Ot.hasData()||Ot.tileID.overscaledZ<=j||Ot.tileID.overscaledZ>et)){for(var Zt=Ot.tileID;Ot&&Ot.tileID.overscaledZ>j+1;){var ne=Ot.tileID.scaledTo(Ot.tileID.overscaledZ-1);(Ot=this._tiles[ne.key])&&Ot.hasData()&&(Zt=ne)}for(var _e=Zt;_e.overscaledZ>j;)if(_[(_e=_e.scaledTo(_e.overscaledZ-1)).key]){ct[Zt.key]=Zt;break}}}},w.prototype.findLoadedParent=function(_,j){if(_.key in this._loadedParentTiles){var et=this._loadedParentTiles[_.key];return et&&et.tileID.overscaledZ>=j?et:null}for(var ct=_.overscaledZ-1;ct>=j;ct--){var xt=_.scaledTo(ct),Ot=this._getLoadedTile(xt);if(Ot)return Ot}},w.prototype._getLoadedTile=function(_){var j=this._tiles[_.key];return j&&j.hasData()?j:this._cache.getByKey(_.wrapped().key)},w.prototype.updateCacheSize=function(_){var j=Math.ceil(_.width/this._source.tileSize)+1,et=Math.ceil(_.height/this._source.tileSize)+1,ct=Math.floor(j*et*5),xt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,ct):ct;this._cache.setMaxSize(xt)},w.prototype.handleWrapJump=function(_){var j=Math.round((_-(void 0===this._prevLng?_:this._prevLng))/360);if(this._prevLng=_,j){var et={};for(var ct in this._tiles){var xt=this._tiles[ct];xt.tileID=xt.tileID.unwrapTo(xt.tileID.wrap+j),et[xt.tileID.key]=xt}for(var Ot in this._tiles=et,this._timers)clearTimeout(this._timers[Ot]),delete this._timers[Ot];for(var Zt in this._tiles)this._setTileReloadTimer(Zt,this._tiles[Zt])}},w.prototype.update=function(_){var j=this;if(this.transform=_,this._sourceLoaded&&!this._paused){var et;this.updateCacheSize(_),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?et=_.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ki){return new n.OverscaledTileID(Ki.canonical.z,Ki.wrap,Ki.canonical.z,Ki.canonical.x,Ki.canonical.y)}):(et=_.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(et=et.filter(function(Ki){return j._source.hasTile(Ki)}))):et=[];var ct=_.coveringZoomLevel(this._source),xt=Math.max(ct-w.maxOverzooming,this._source.minzoom),Ot=Math.max(ct+w.maxUnderzooming,this._source.minzoom),Zt=this._updateRetainedTiles(et,ct);if(Ge(this._source.type)){for(var ne={},_e={},we=0,Ce=Object.keys(Zt);we<Ce.length;we+=1){var Ne=Ce[we],Ie=Zt[Ne],Ze=this._tiles[Ne];if(Ze&&!(Ze.fadeEndTime&&Ze.fadeEndTime<=n.browser.now())){var De=this.findLoadedParent(Ie,xt);De&&(this._addTile(De.tileID),ne[De.tileID.key]=De.tileID),_e[Ne]=Ie}}for(var Ye in this._retainLoadedChildren(_e,ct,Ot,Zt),ne)Zt[Ye]||(this._coveredTiles[Ye]=!0,Zt[Ye]=ne[Ye])}for(var ti in Zt)this._tiles[ti].clearFadeHold();for(var _i=0,Oi=n.keysDifference(this._tiles,Zt);_i<Oi.length;_i+=1){var ki=Oi[_i],Ni=this._tiles[ki];Ni.hasSymbolBuckets&&!Ni.holdingForFade()?Ni.setHoldDuration(this.map._fadeDuration):Ni.hasSymbolBuckets&&!Ni.symbolFadeFinished()||this._removeTile(ki)}this._updateLoadedParentTileCache()}},w.prototype.releaseSymbolFadeTiles=function(){for(var _ in this._tiles)this._tiles[_].holdingForFade()&&this._removeTile(_)},w.prototype._updateRetainedTiles=function(_,j){for(var et={},ct={},xt=Math.max(j-w.maxOverzooming,this._source.minzoom),Ot=Math.max(j+w.maxUnderzooming,this._source.minzoom),Zt={},ne=0,_e=_;ne<_e.length;ne+=1){var we=_e[ne],Ce=this._addTile(we);et[we.key]=we,Ce.hasData()||j<this._source.maxzoom&&(Zt[we.key]=we)}this._retainLoadedChildren(Zt,j,Ot,et);for(var Ne=0,Ie=_;Ne<Ie.length;Ne+=1){var Ze=Ie[Ne],De=this._tiles[Ze.key];if(!De.hasData()){if(j+1>this._source.maxzoom){var Ye=Ze.children(this._source.maxzoom)[0],ti=this.getTile(Ye);if(ti&&ti.hasData()){et[Ye.key]=Ye;continue}}else{var _i=Ze.children(this._source.maxzoom);if(et[_i[0].key]&&et[_i[1].key]&&et[_i[2].key]&&et[_i[3].key])continue}for(var Oi=De.wasRequested(),ki=Ze.overscaledZ-1;ki>=xt;--ki){var Ni=Ze.scaledTo(ki);if(ct[Ni.key]||(ct[Ni.key]=!0,!(De=this.getTile(Ni))&&Oi&&(De=this._addTile(Ni)),De&&(et[Ni.key]=Ni,Oi=De.wasRequested(),De.hasData())))break}}}return et},w.prototype._updateLoadedParentTileCache=function(){for(var _ in this._loadedParentTiles={},this._tiles){for(var j=[],et=void 0,ct=this._tiles[_].tileID;ct.overscaledZ>0;){if(ct.key in this._loadedParentTiles){et=this._loadedParentTiles[ct.key];break}j.push(ct.key);var xt=ct.scaledTo(ct.overscaledZ-1);if(et=this._getLoadedTile(xt))break;ct=xt}for(var Ot=0,Zt=j;Ot<Zt.length;Ot+=1)this._loadedParentTiles[Zt[Ot]]=et}},w.prototype._addTile=function(_){var j=this._tiles[_.key];if(j)return j;(j=this._cache.getAndRemove(_))&&(this._setTileReloadTimer(_.key,j),j.tileID=_,this._state.initializeTileState(j,this.map?this.map.painter:null),this._cacheTimers[_.key]&&(clearTimeout(this._cacheTimers[_.key]),delete this._cacheTimers[_.key],this._setTileReloadTimer(_.key,j)));var et=Boolean(j);return et||(j=new n.Tile(_,this._source.tileSize*_.overscaleFactor()),this._loadTile(j,this._tileLoaded.bind(this,j,_.key,j.state))),j?(j.uses++,this._tiles[_.key]=j,et||this._source.fire(new n.Event("dataloading",{tile:j,coord:j.tileID,dataType:"source"})),j):null},w.prototype._setTileReloadTimer=function(_,j){var et=this;_ in this._timers&&(clearTimeout(this._timers[_]),delete this._timers[_]);var ct=j.getExpiryTimeout();ct&&(this._timers[_]=setTimeout(function(){et._reloadTile(_,"expired"),delete et._timers[_]},ct))},w.prototype._removeTile=function(_){var j=this._tiles[_];j&&(j.uses--,delete this._tiles[_],this._timers[_]&&(clearTimeout(this._timers[_]),delete this._timers[_]),j.uses>0||(j.hasData()&&"reloading"!==j.state?this._cache.add(j.tileID,j,j.getExpiryTimeout()):(j.aborted=!0,this._abortTile(j),this._unloadTile(j))))},w.prototype.clearTiles=function(){for(var _ in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(_);this._cache.reset()},w.prototype.tilesIn=function(_,j,et){var ct=this,xt=[],Ot=this.transform;if(!Ot)return xt;for(var Zt=et?Ot.getCameraQueryGeometry(_):_,ne=_.map(function(ki){return Ot.pointCoordinate(ki)}),_e=Zt.map(function(ki){return Ot.pointCoordinate(ki)}),we=this.getIds(),Ce=1/0,Ne=1/0,Ie=-1/0,Ze=-1/0,De=0,Ye=_e;De<Ye.length;De+=1){var ti=Ye[De];Ce=Math.min(Ce,ti.x),Ne=Math.min(Ne,ti.y),Ie=Math.max(Ie,ti.x),Ze=Math.max(Ze,ti.y)}for(var _i=function(ki){var Ni=ct._tiles[we[ki]];if(!Ni.holdingForFade()){var Ki=Ni.tileID,fn=Math.pow(2,Ot.zoom-Ni.tileID.overscaledZ),dn=j*Ni.queryPadding*n.EXTENT/Ni.tileSize/fn,Mn=[Ki.getTilePoint(new n.MercatorCoordinate(Ce,Ne)),Ki.getTilePoint(new n.MercatorCoordinate(Ie,Ze))];if(Mn[0].x-dn<n.EXTENT&&Mn[0].y-dn<n.EXTENT&&Mn[1].x+dn>=0&&Mn[1].y+dn>=0){var Wn=ne.map(function(Zn){return Ki.getTilePoint(Zn)}),qn=_e.map(function(Zn){return Ki.getTilePoint(Zn)});xt.push({tile:Ni,tileID:Ki,queryGeometry:Wn,cameraQueryGeometry:qn,scale:fn})}}},Oi=0;Oi<we.length;Oi++)_i(Oi);return xt},w.prototype.getVisibleCoordinates=function(_){for(var j=this,et=this.getRenderableIds(_).map(function(Zt){return j._tiles[Zt].tileID}),ct=0,xt=et;ct<xt.length;ct+=1){var Ot=xt[ct];Ot.posMatrix=this.transform.calculatePosMatrix(Ot.toUnwrapped())}return et},w.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ge(this._source.type))for(var _ in this._tiles){var j=this._tiles[_];if(void 0!==j.fadeEndTime&&j.fadeEndTime>=n.browser.now())return!0}return!1},w.prototype.setFeatureState=function(_,j,et){this._state.updateState(_=_||"_geojsonTileLayer",j,et)},w.prototype.removeFeatureState=function(_,j,et){this._state.removeFeatureState(_=_||"_geojsonTileLayer",j,et)},w.prototype.getFeatureState=function(_,j){return this._state.getState(_=_||"_geojsonTileLayer",j)},w.prototype.setDependencies=function(_,j,et){var ct=this._tiles[_];ct&&ct.setDependencies(j,et)},w.prototype.reloadTilesForDependencies=function(_,j){for(var et in this._tiles)this._tiles[et].hasDependency(_,j)&&this._reloadTile(et,"reloading");this._cache.filter(function(ct){return!ct.hasDependency(_,j)})},w}(n.Evented);function He(g,w){var _=Math.abs(2*g.wrap)-+(g.wrap<0),j=Math.abs(2*w.wrap)-+(w.wrap<0);return g.overscaledZ-w.overscaledZ||j-_||w.canonical.y-g.canonical.y||w.canonical.x-g.canonical.x}function Ge(g){return"raster"===g||"image"===g||"video"===g}function ai(){return new n.window.Worker(Tl.workerUrl)}fe.maxOverzooming=10,fe.maxUnderzooming=3;var ye="mapboxgl_preloaded_worker_pool",ii=function(){this.active={}};ii.prototype.acquire=function(g){if(!this.workers)for(this.workers=[];this.workers.length<ii.workerCount;)this.workers.push(new ai);return this.active[g]=!0,this.workers.slice()},ii.prototype.release=function(g){delete this.active[g],0===this.numActive()&&(this.workers.forEach(function(w){w.terminate()}),this.workers=null)},ii.prototype.isPreloaded=function(){return!!this.active[ye]},ii.prototype.numActive=function(){return Object.keys(this.active).length};var je,wi=Math.floor(n.browser.hardwareConcurrency/2);function ei(){return je||(je=new ii),je}function Bi(g,w){var _={};for(var j in g)"ref"!==j&&(_[j]=g[j]);return n.refProperties.forEach(function(et){et in w&&(_[et]=w[et])}),_}function Di(g){g=g.slice();for(var w=Object.create(null),_=0;_<g.length;_++)w[g[_].id]=g[_];for(var j=0;j<g.length;j++)"ref"in g[j]&&(g[j]=Bi(g[j],w[g[j].ref]));return g}ii.workerCount=Math.max(Math.min(wi,6),1);var si={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function pn(g,w,_){_.push({command:si.addSource,args:[g,w[g]]})}function Fi(g,w,_){w.push({command:si.removeSource,args:[g]}),_[g]=!0}function xn(g,w,_,j){Fi(g,_,j),pn(g,w,_)}function tn(g,w,_){var j;for(j in g[_])if(g[_].hasOwnProperty(j)&&"data"!==j&&!n.deepEqual(g[_][j],w[_][j]))return!1;for(j in w[_])if(w[_].hasOwnProperty(j)&&"data"!==j&&!n.deepEqual(g[_][j],w[_][j]))return!1;return!0}function An(g,w,_,j,et,ct){var xt;for(xt in w=w||{},g=g||{})g.hasOwnProperty(xt)&&(n.deepEqual(g[xt],w[xt])||_.push({command:ct,args:[j,xt,w[xt],et]}));for(xt in w)w.hasOwnProperty(xt)&&!g.hasOwnProperty(xt)&&(n.deepEqual(g[xt],w[xt])||_.push({command:ct,args:[j,xt,w[xt],et]}))}function Rn(g){return g.id}function wn(g,w){return g[w.id]=w,g}var er=function(g,w){this.reset(g,w)};er.prototype.reset=function(g,w){this.points=g||[],this._distances=[0];for(var _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(w||0,.5*this.length),this.paddedLength=this.length-2*this.padding},er.prototype.lerp=function(g){if(1===this.points.length)return this.points[0];g=n.clamp(g,0,1);for(var w=1,_=this._distances[w],j=g*this.paddedLength+this.padding;_<j&&w<this._distances.length;)_=this._distances[++w];var et=w-1,ct=this._distances[et],xt=_-ct,Ot=xt>0?(j-ct)/xt:0;return this.points[et].mult(1-Ot).add(this.points[w].mult(Ot))};var Pn=function(g,w,_){var j=this.boxCells=[],et=this.circleCells=[];this.xCellCount=Math.ceil(g/_),this.yCellCount=Math.ceil(w/_);for(var ct=0;ct<this.xCellCount*this.yCellCount;ct++)j.push([]),et.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=g,this.height=w,this.xScale=this.xCellCount/g,this.yScale=this.yCellCount/w,this.boxUid=0,this.circleUid=0};function Kn(g,w,_,j,et){var ct=n.create();return w?(n.scale(ct,ct,[1/et,1/et,1]),_||n.rotateZ(ct,ct,j.angle)):n.multiply(ct,j.labelPlaneMatrix,g),ct}function Bn(g,w,_,j,et){if(w){var ct=n.clone(g);return n.scale(ct,ct,[et,et,1]),_||n.rotateZ(ct,ct,-j.angle),ct}return j.glCoordMatrix}function In(g,w){var _=[g.x,g.y,0,1];Br(_,_,w);var j=_[3];return{point:new n.Point(_[0]/j,_[1]/j),signedDistanceFromCamera:j}}function Wi(g,w){return.5+g/w*.5}function Jn(g,w){var _=g[0]/g[3],j=g[1]/g[3];return _>=-w[0]&&_<=w[0]&&j>=-w[1]&&j<=w[1]}function Or(g,w,_,j,et,ct,xt,Ot){var Zt=j?g.textSizeData:g.iconSizeData,ne=n.evaluateSizeForZoom(Zt,_.transform.zoom),_e=[256/_.width*2+1,256/_.height*2+1],we=j?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;we.clear();for(var Ce=g.lineVertexArray,Ne=j?g.text.placedSymbolArray:g.icon.placedSymbolArray,Ie=_.transform.width/_.transform.height,Ze=!1,De=0;De<Ne.length;De++){var Ye=Ne.get(De);if(Ye.hidden||Ye.writingMode===n.WritingMode.vertical&&!Ze)Sr(Ye.numGlyphs,we);else{Ze=!1;var ti=[Ye.anchorX,Ye.anchorY,0,1];if(n.transformMat4(ti,ti,w),Jn(ti,_e)){var _i=Wi(_.transform.cameraToCenterDistance,ti[3]),Oi=n.evaluateSizeForFeature(Zt,ne,Ye),ki=xt?Oi/_i:Oi*_i,Ni=new n.Point(Ye.anchorX,Ye.anchorY),Ki=In(Ni,et).point,fn={},dn=Vn(Ye,ki,!1,Ot,w,et,ct,g.glyphOffsetArray,Ce,we,Ki,Ni,fn,Ie);Ze=dn.useVertical,(dn.notEnoughRoom||Ze||dn.needsFlipping&&Vn(Ye,ki,!0,Ot,w,et,ct,g.glyphOffsetArray,Ce,we,Ki,Ni,fn,Ie).notEnoughRoom)&&Sr(Ye.numGlyphs,we)}else Sr(Ye.numGlyphs,we)}}j?g.text.dynamicLayoutVertexBuffer.updateData(we):g.icon.dynamicLayoutVertexBuffer.updateData(we)}function Qn(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e){var we=Ot.glyphStartIndex+Ot.numGlyphs,Ce=Ot.lineStartIndex,Ne=Ot.lineStartIndex+Ot.lineLength,Ie=w.getoffsetX(Ot.glyphStartIndex),Ze=w.getoffsetX(we-1),De=rr(g*Ie,_,j,et,ct,xt,Ot.segment,Ce,Ne,Zt,ne,_e);if(!De)return null;var Ye=rr(g*Ze,_,j,et,ct,xt,Ot.segment,Ce,Ne,Zt,ne,_e);return Ye?{first:De,last:Ye}:null}function Fn(g,w,_,j){return g===n.WritingMode.horizontal&&Math.abs(_.y-w.y)>Math.abs(_.x-w.x)*j?{useVertical:!0}:(g===n.WritingMode.vertical?w.y<_.y:w.x>_.x)?{needsFlipping:!0}:null}function Vn(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e,we,Ce,Ne){var Ie,Ze=w/24,De=g.lineOffsetX*Ze,Ye=g.lineOffsetY*Ze;if(g.numGlyphs>1){var ti=g.glyphStartIndex+g.numGlyphs,_i=g.lineStartIndex,Oi=g.lineStartIndex+g.lineLength,ki=Qn(Ze,Ot,De,Ye,_,_e,we,g,Zt,ct,Ce);if(!ki)return{notEnoughRoom:!0};var Ni=In(ki.first.point,xt).point,Ki=In(ki.last.point,xt).point;if(j&&!_){var fn=Fn(g.writingMode,Ni,Ki,Ne);if(fn)return fn}Ie=[ki.first];for(var dn=g.glyphStartIndex+1;dn<ti-1;dn++)Ie.push(rr(Ze*Ot.getoffsetX(dn),De,Ye,_,_e,we,g.segment,_i,Oi,Zt,ct,Ce));Ie.push(ki.last)}else{if(j&&!_){var Mn=In(we,et).point,Wn=g.lineStartIndex+g.segment+1,qn=new n.Point(Zt.getx(Wn),Zt.gety(Wn)),Zn=In(qn,et),Xr=Zn.signedDistanceFromCamera>0?Zn.point:Gr(we,qn,Mn,1,et),Dn=Fn(g.writingMode,Mn,Xr,Ne);if(Dn)return Dn}var dr=rr(Ze*Ot.getoffsetX(g.glyphStartIndex),De,Ye,_,_e,we,g.segment,g.lineStartIndex,g.lineStartIndex+g.lineLength,Zt,ct,Ce);if(!dr)return{notEnoughRoom:!0};Ie=[dr]}for(var Tr=0,ur=Ie;Tr<ur.length;Tr+=1){var lr=ur[Tr];n.addDynamicAttributes(ne,lr.point,lr.angle)}return{}}function Gr(g,w,_,j,et){var ct=In(g.add(g.sub(w)._unit()),et).point,xt=_.sub(ct);return _.add(xt._mult(j/xt.mag()))}function rr(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e,we){var Ce=j?g-w:g+w,Ne=Ce>0?1:-1,Ie=0;j&&(Ne*=-1,Ie=Math.PI),Ne<0&&(Ie+=Math.PI);for(var Ze=Ne>0?Ot+xt:Ot+xt+1,De=et,Ye=et,ti=0,_i=0,Oi=Math.abs(Ce),ki=[];ti+_i<=Oi;){if((Ze+=Ne)<Ot||Ze>=Zt)return null;if(Ye=De,ki.push(De),void 0===(De=we[Ze])){var Ni=new n.Point(ne.getx(Ze),ne.gety(Ze)),Ki=In(Ni,_e);if(Ki.signedDistanceFromCamera>0)De=we[Ze]=Ki.point;else{var fn=Ze-Ne;De=Gr(0===ti?ct:new n.Point(ne.getx(fn),ne.gety(fn)),Ni,Ye,Oi-ti+1,_e)}}ti+=_i,_i=Ye.dist(De)}var dn=(Oi-ti)/_i,Mn=De.sub(Ye),Wn=Mn.mult(dn)._add(Ye);Wn._add(Mn._unit()._perp()._mult(_*Ne));var qn=Ie+Math.atan2(De.y-Ye.y,De.x-Ye.x);return ki.push(Wn),{point:Wn,angle:qn,path:ki}}Pn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Pn.prototype.insert=function(g,w,_,j,et){this._forEachCell(w,_,j,et,this._insertBoxCell,this.boxUid++),this.boxKeys.push(g),this.bboxes.push(w),this.bboxes.push(_),this.bboxes.push(j),this.bboxes.push(et)},Pn.prototype.insertCircle=function(g,w,_,j){this._forEachCell(w-j,_-j,w+j,_+j,this._insertCircleCell,this.circleUid++),this.circleKeys.push(g),this.circles.push(w),this.circles.push(_),this.circles.push(j)},Pn.prototype._insertBoxCell=function(g,w,_,j,et,ct){this.boxCells[et].push(ct)},Pn.prototype._insertCircleCell=function(g,w,_,j,et,ct){this.circleCells[et].push(ct)},Pn.prototype._query=function(g,w,_,j,et,ct){if(_<0||g>this.width||j<0||w>this.height)return!et&&[];var xt=[];if(g<=0&&w<=0&&this.width<=_&&this.height<=j){if(et)return!0;for(var Ot=0;Ot<this.boxKeys.length;Ot++)xt.push({key:this.boxKeys[Ot],x1:this.bboxes[4*Ot],y1:this.bboxes[4*Ot+1],x2:this.bboxes[4*Ot+2],y2:this.bboxes[4*Ot+3]});for(var Zt=0;Zt<this.circleKeys.length;Zt++){var ne=this.circles[3*Zt],_e=this.circles[3*Zt+1],we=this.circles[3*Zt+2];xt.push({key:this.circleKeys[Zt],x1:ne-we,y1:_e-we,x2:ne+we,y2:_e+we})}return ct?xt.filter(ct):xt}return this._forEachCell(g,w,_,j,this._queryCell,xt,{hitTest:et,seenUids:{box:{},circle:{}}},ct),et?xt.length>0:xt},Pn.prototype._queryCircle=function(g,w,_,j,et){var ct=g-_,xt=g+_,Ot=w-_,Zt=w+_;if(xt<0||ct>this.width||Zt<0||Ot>this.height)return!j&&[];var ne=[];return this._forEachCell(ct,Ot,xt,Zt,this._queryCellCircle,ne,{hitTest:j,circle:{x:g,y:w,radius:_},seenUids:{box:{},circle:{}}},et),j?ne.length>0:ne},Pn.prototype.query=function(g,w,_,j,et){return this._query(g,w,_,j,!1,et)},Pn.prototype.hitTest=function(g,w,_,j,et){return this._query(g,w,_,j,!0,et)},Pn.prototype.hitTestCircle=function(g,w,_,j){return this._queryCircle(g,w,_,!0,j)},Pn.prototype._queryCell=function(g,w,_,j,et,ct,xt,Ot){var Zt=xt.seenUids,ne=this.boxCells[et];if(null!==ne)for(var _e=this.bboxes,we=0,Ce=ne;we<Ce.length;we+=1){var Ne=Ce[we];if(!Zt.box[Ne]){Zt.box[Ne]=!0;var Ie=4*Ne;if(g<=_e[Ie+2]&&w<=_e[Ie+3]&&_>=_e[Ie+0]&&j>=_e[Ie+1]&&(!Ot||Ot(this.boxKeys[Ne]))){if(xt.hitTest)return ct.push(!0),!0;ct.push({key:this.boxKeys[Ne],x1:_e[Ie],y1:_e[Ie+1],x2:_e[Ie+2],y2:_e[Ie+3]})}}}var Ze=this.circleCells[et];if(null!==Ze)for(var De=this.circles,Ye=0,ti=Ze;Ye<ti.length;Ye+=1){var _i=ti[Ye];if(!Zt.circle[_i]){Zt.circle[_i]=!0;var Oi=3*_i;if(this._circleAndRectCollide(De[Oi],De[Oi+1],De[Oi+2],g,w,_,j)&&(!Ot||Ot(this.circleKeys[_i]))){if(xt.hitTest)return ct.push(!0),!0;var ki=De[Oi],Ni=De[Oi+1],Ki=De[Oi+2];ct.push({key:this.circleKeys[_i],x1:ki-Ki,y1:Ni-Ki,x2:ki+Ki,y2:Ni+Ki})}}}},Pn.prototype._queryCellCircle=function(g,w,_,j,et,ct,xt,Ot){var Zt=xt.circle,ne=xt.seenUids,_e=this.boxCells[et];if(null!==_e)for(var we=this.bboxes,Ce=0,Ne=_e;Ce<Ne.length;Ce+=1){var Ie=Ne[Ce];if(!ne.box[Ie]){ne.box[Ie]=!0;var Ze=4*Ie;if(this._circleAndRectCollide(Zt.x,Zt.y,Zt.radius,we[Ze+0],we[Ze+1],we[Ze+2],we[Ze+3])&&(!Ot||Ot(this.boxKeys[Ie])))return ct.push(!0),!0}}var De=this.circleCells[et];if(null!==De)for(var Ye=this.circles,ti=0,_i=De;ti<_i.length;ti+=1){var Oi=_i[ti];if(!ne.circle[Oi]){ne.circle[Oi]=!0;var ki=3*Oi;if(this._circlesCollide(Ye[ki],Ye[ki+1],Ye[ki+2],Zt.x,Zt.y,Zt.radius)&&(!Ot||Ot(this.circleKeys[Oi])))return ct.push(!0),!0}}},Pn.prototype._forEachCell=function(g,w,_,j,et,ct,xt,Ot){for(var Zt=this._convertToXCellCoord(g),ne=this._convertToYCellCoord(w),_e=this._convertToXCellCoord(_),we=this._convertToYCellCoord(j),Ce=Zt;Ce<=_e;Ce++)for(var Ne=ne;Ne<=we;Ne++)if(et.call(this,g,w,_,j,this.xCellCount*Ne+Ce,ct,xt,Ot))return},Pn.prototype._convertToXCellCoord=function(g){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(g*this.xScale)))},Pn.prototype._convertToYCellCoord=function(g){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(g*this.yScale)))},Pn.prototype._circlesCollide=function(g,w,_,j,et,ct){var xt=j-g,Ot=et-w,Zt=_+ct;return Zt*Zt>xt*xt+Ot*Ot},Pn.prototype._circleAndRectCollide=function(g,w,_,j,et,ct,xt){var Ot=(ct-j)/2,Zt=Math.abs(g-(j+Ot));if(Zt>Ot+_)return!1;var ne=(xt-et)/2,_e=Math.abs(w-(et+ne));if(_e>ne+_)return!1;if(Zt<=Ot||_e<=ne)return!0;var we=Zt-Ot,Ce=_e-ne;return we*we+Ce*Ce<=_*_};var Nr=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Sr(g,w){for(var _=0;_<g;_++){var j=w.length;w.resize(j+4),w.float32.set(Nr,3*j)}}function Br(g,w,_){var j=w[0],et=w[1];return g[0]=_[0]*j+_[4]*et+_[12],g[1]=_[1]*j+_[5]*et+_[13],g[3]=_[3]*j+_[7]*et+_[15],g}var jr=function(g,w,_){void 0===w&&(w=new Pn(g.width+200,g.height+200,25)),void 0===_&&(_=new Pn(g.width+200,g.height+200,25)),this.transform=g,this.grid=w,this.ignoredGrid=_,this.pitchfactor=Math.cos(g._pitch)*g.cameraToCenterDistance,this.screenRightBoundary=g.width+100,this.screenBottomBoundary=g.height+100,this.gridRightBoundary=g.width+200,this.gridBottomBoundary=g.height+200};function br(g,w,_){return w*(n.EXTENT/(g.tileSize*Math.pow(2,_-g.tileID.overscaledZ)))}jr.prototype.placeCollisionBox=function(g,w,_,j,et){var ct=this.projectAndGetPerspectiveRatio(j,g.anchorPointX,g.anchorPointY),xt=_*ct.perspectiveRatio,Ot=g.x1*xt+ct.point.x,Zt=g.y1*xt+ct.point.y,ne=g.x2*xt+ct.point.x,_e=g.y2*xt+ct.point.y;return!this.isInsideGrid(Ot,Zt,ne,_e)||!w&&this.grid.hitTest(Ot,Zt,ne,_e,et)?{box:[],offscreen:!1}:{box:[Ot,Zt,ne,_e],offscreen:this.isOffscreen(Ot,Zt,ne,_e)}},jr.prototype.placeCollisionCircles=function(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e,we,Ce){var Ne=[],Ie=new n.Point(w.anchorX,w.anchorY),Ze=In(Ie,ct),De=Wi(this.transform.cameraToCenterDistance,Ze.signedDistanceFromCamera),Ye=(ne?et/De:et*De)/n.ONE_EM,ti=In(Ie,xt).point,_i=Qn(Ye,j,w.lineOffsetX*Ye,w.lineOffsetY*Ye,!1,ti,Ie,w,_,xt,{}),Oi=!1,ki=!1,Ni=!0;if(_i){for(var Ki=.5*we*De+Ce,fn=new n.Point(-100,-100),dn=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),Mn=new er,Wn=_i.first,qn=_i.last,Zn=[],Xr=Wn.path.length-1;Xr>=1;Xr--)Zn.push(Wn.path[Xr]);for(var Dn=1;Dn<qn.path.length;Dn++)Zn.push(qn.path[Dn]);var dr=2.5*Ki;if(Ot){var Tr=Zn.map(function(ia){return In(ia,Ot)});Zn=Tr.some(function(ia){return ia.signedDistanceFromCamera<=0})?[]:Tr.map(function(ia){return ia.point})}var ur=[];if(Zn.length>0){for(var lr=Zn[0].clone(),wr=Zn[0].clone(),ar=1;ar<Zn.length;ar++)lr.x=Math.min(lr.x,Zn[ar].x),lr.y=Math.min(lr.y,Zn[ar].y),wr.x=Math.max(wr.x,Zn[ar].x),wr.y=Math.max(wr.y,Zn[ar].y);ur=lr.x>=fn.x&&wr.x<=dn.x&&lr.y>=fn.y&&wr.y<=dn.y?[Zn]:wr.x<fn.x||lr.x>dn.x||wr.y<fn.y||lr.y>dn.y?[]:n.clipLine([Zn],fn.x,fn.y,dn.x,dn.y)}for(var ir=0,is=ur;ir<is.length;ir+=1){var Bo;Mn.reset(is[ir],.25*Ki),Bo=Mn.length<=.5*Ki?1:Math.ceil(Mn.paddedLength/dr)+1;for(var ws=0;ws<Bo;ws++){var cs=ws/Math.max(Bo-1,1),Eo=Mn.lerp(cs),Uo=Eo.x+100,Vs=Eo.y+100;Ne.push(Uo,Vs,Ki,0);var As=Uo-Ki,ka=Vs-Ki,Ls=Uo+Ki,aa=Vs+Ki;if(Ni=Ni&&this.isOffscreen(As,ka,Ls,aa),ki=ki||this.isInsideGrid(As,ka,Ls,aa),!g&&this.grid.hitTestCircle(Uo,Vs,Ki,_e)&&(Oi=!0,!Zt))return{circles:[],offscreen:!1,collisionDetected:Oi}}}}return{circles:!Zt&&Oi||!ki?[]:Ne,offscreen:Ni,collisionDetected:Oi}},jr.prototype.queryRenderedSymbols=function(g){if(0===g.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var w=[],_=1/0,j=1/0,et=-1/0,ct=-1/0,xt=0,Ot=g;xt<Ot.length;xt+=1){var Zt=Ot[xt],ne=new n.Point(Zt.x+100,Zt.y+100);_=Math.min(_,ne.x),j=Math.min(j,ne.y),et=Math.max(et,ne.x),ct=Math.max(ct,ne.y),w.push(ne)}for(var _e={},we={},Ce=0,Ne=this.grid.query(_,j,et,ct).concat(this.ignoredGrid.query(_,j,et,ct));Ce<Ne.length;Ce+=1){var Ie=Ne[Ce],Ze=Ie.key;if(void 0===_e[Ze.bucketInstanceId]&&(_e[Ze.bucketInstanceId]={}),!_e[Ze.bucketInstanceId][Ze.featureIndex]){var De=[new n.Point(Ie.x1,Ie.y1),new n.Point(Ie.x2,Ie.y1),new n.Point(Ie.x2,Ie.y2),new n.Point(Ie.x1,Ie.y2)];n.polygonIntersectsPolygon(w,De)&&(_e[Ze.bucketInstanceId][Ze.featureIndex]=!0,void 0===we[Ze.bucketInstanceId]&&(we[Ze.bucketInstanceId]=[]),we[Ze.bucketInstanceId].push(Ze.featureIndex))}}return we},jr.prototype.insertCollisionBox=function(g,w,_,j,et){(w?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:j,collisionGroupID:et},g[0],g[1],g[2],g[3])},jr.prototype.insertCollisionCircles=function(g,w,_,j,et){for(var ct=w?this.ignoredGrid:this.grid,xt={bucketInstanceId:_,featureIndex:j,collisionGroupID:et},Ot=0;Ot<g.length;Ot+=4)ct.insertCircle(xt,g[Ot],g[Ot+1],g[Ot+2])},jr.prototype.projectAndGetPerspectiveRatio=function(g,w,_){var j=[w,_,0,1];return Br(j,j,g),{point:new n.Point((j[0]/j[3]+1)/2*this.transform.width+100,(-j[1]/j[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/j[3]*.5}},jr.prototype.isOffscreen=function(g,w,_,j){return _<100||g>=this.screenRightBoundary||j<100||w>this.screenBottomBoundary},jr.prototype.isInsideGrid=function(g,w,_,j){return _>=0&&g<this.gridRightBoundary&&j>=0&&w<this.gridBottomBoundary},jr.prototype.getViewportMatrix=function(){var g=n.identity([]);return n.translate(g,g,[-100,-100,0]),g};var Zr=function(g,w,_,j){this.opacity=g?Math.max(0,Math.min(1,g.opacity+(g.placed?w:-w))):j&&_?1:0,this.placed=_};Zr.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var $r=function(g,w,_,j,et){this.text=new Zr(g?g.text:null,w,_,et),this.icon=new Zr(g?g.icon:null,w,j,et)};$r.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Mo=function(g,w,_){this.text=g,this.icon=w,this.skipFade=_},Wr=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},Oo=function(g,w,_,j,et){this.bucketInstanceId=g,this.featureIndex=w,this.sourceLayerIndex=_,this.bucketIndex=j,this.tileID=et},qr=function(g){this.crossSourceCollisions=g,this.maxGroupID=0,this.collisionGroups={}};function Kr(g,w,_,j,et){var ct=n.getAnchorAlignment(g),xt=-(ct.horizontalAlign-.5)*w,Ot=-(ct.verticalAlign-.5)*_,Zt=n.evaluateVariableOffset(g,j);return new n.Point(xt+Zt[0]*et,Ot+Zt[1]*et)}function ao(g,w,_,j,et,ct){var xt=g.x1,Ot=g.x2,Zt=g.y1,ne=g.y2,_e=g.anchorPointX,we=g.anchorPointY,Ce=new n.Point(w,_);return j&&Ce._rotate(et?ct:-ct),{x1:xt+Ce.x,y1:Zt+Ce.y,x2:Ot+Ce.x,y2:ne+Ce.y,anchorPointX:_e,anchorPointY:we}}qr.prototype.get=function(g){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[g]){var w=++this.maxGroupID;this.collisionGroups[g]={ID:w,predicate:function(_){return _.collisionGroupID===w}}}return this.collisionGroups[g]};var Qr=function(g,w,_,j){this.transform=g.clone(),this.collisionIndex=new jr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=w,this.retainedQueryData={},this.collisionGroups=new qr(_),this.collisionCircleArrays={},this.prevPlacement=j,j&&(j.prevPlacement=void 0),this.placedOrientations={}};function ho(g,w,_,j,et){g.emplaceBack(w?1:0,_?1:0,j||0,et||0),g.emplaceBack(w?1:0,_?1:0,j||0,et||0),g.emplaceBack(w?1:0,_?1:0,j||0,et||0),g.emplaceBack(w?1:0,_?1:0,j||0,et||0)}Qr.prototype.getBucketParts=function(g,w,_,j){var et=_.getBucket(w),ct=_.latestFeatureIndex;if(et&&ct&&w.id===et.layerIds[0]){var xt=_.collisionBoxArray,Ot=et.layers[0].layout,Zt=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),ne=_.tileSize/n.EXTENT,_e=this.transform.calculatePosMatrix(_.tileID.toUnwrapped()),we="map"===Ot.get("text-pitch-alignment"),Ce="map"===Ot.get("text-rotation-alignment"),Ne=br(_,1,this.transform.zoom),Ie=Kn(_e,we,Ce,this.transform,Ne),Ze=null;if(we){var De=Bn(_e,we,Ce,this.transform,Ne);Ze=n.multiply([],this.transform.labelPlaneMatrix,De)}this.retainedQueryData[et.bucketInstanceId]=new Oo(et.bucketInstanceId,ct,et.sourceLayerIndex,et.index,_.tileID);var Ye={bucket:et,layout:Ot,posMatrix:_e,textLabelPlaneMatrix:Ie,labelToScreenMatrix:Ze,scale:Zt,textPixelRatio:ne,holdingForFade:_.holdingForFade(),collisionBoxArray:xt,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(et.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(et.sourceID)};if(j)for(var ti=0,_i=et.sortKeyRanges;ti<_i.length;ti+=1){var Oi=_i[ti];g.push({sortKey:Oi.sortKey,symbolInstanceStart:Oi.symbolInstanceStart,symbolInstanceEnd:Oi.symbolInstanceEnd,parameters:Ye})}else g.push({symbolInstanceStart:0,symbolInstanceEnd:et.symbolInstances.length,parameters:Ye})}},Qr.prototype.attemptAnchorPlacement=function(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e,we,Ce,Ne,Ie){var Ze,De=[we.textOffset0,we.textOffset1],Ye=Kr(g,_,j,De,et),ti=this.collisionIndex.placeCollisionBox(ao(w,Ye.x,Ye.y,ct,xt,this.transform.angle),_e,Ot,Zt,ne.predicate);if(!Ie||0!==this.collisionIndex.placeCollisionBox(ao(Ie,Ye.x,Ye.y,ct,xt,this.transform.angle),_e,Ot,Zt,ne.predicate).box.length)return ti.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[we.crossTileID]&&this.prevPlacement.placements[we.crossTileID]&&this.prevPlacement.placements[we.crossTileID].text&&(Ze=this.prevPlacement.variableOffsets[we.crossTileID].anchor),this.variableOffsets[we.crossTileID]={textOffset:De,width:_,height:j,anchor:g,textBoxScale:et,prevAnchor:Ze},this.markUsedJustification(Ce,g,we,Ne),Ce.allowVerticalPlacement&&(this.markUsedOrientation(Ce,Ne,we),this.placedOrientations[we.crossTileID]=Ne),{shift:Ye,placedGlyphBoxes:ti}):void 0},Qr.prototype.placeLayerBucketPart=function(g,w,_){var j=this,et=g.parameters,ct=et.bucket,xt=et.layout,Ot=et.posMatrix,Zt=et.textLabelPlaneMatrix,ne=et.labelToScreenMatrix,_e=et.textPixelRatio,we=et.holdingForFade,Ce=et.collisionBoxArray,Ne=et.partiallyEvaluatedTextSize,Ie=et.collisionGroup,Ze=xt.get("text-optional"),De=xt.get("icon-optional"),Ye=xt.get("text-allow-overlap"),ti=xt.get("icon-allow-overlap"),_i="map"===xt.get("text-rotation-alignment"),Oi="map"===xt.get("text-pitch-alignment"),ki="none"!==xt.get("icon-text-fit"),Ni="viewport-y"===xt.get("symbol-z-order"),Ki=Ye&&(ti||!ct.hasIconData()||De),fn=ti&&(Ye||!ct.hasTextData()||Ze);!ct.collisionArrays&&Ce&&ct.deserializeCollisionBoxes(Ce);var dn=function(Dn,dr){if(!w[Dn.crossTileID])if(we)j.placements[Dn.crossTileID]=new Mo(!1,!1,!1);else{var Tr,ur=!1,lr=!1,wr=!0,ar=null,ir={box:null,offscreen:null},is={box:null,offscreen:null},Bo=null,ws=null,cs=0,Eo=0,Uo=0;dr.textFeatureIndex?cs=dr.textFeatureIndex:Dn.useRuntimeCollisionCircles&&(cs=Dn.featureIndex),dr.verticalTextFeatureIndex&&(Eo=dr.verticalTextFeatureIndex);var Vs=dr.textBox;if(Vs){var As=function(ro){var Js=n.WritingMode.horizontal;if(ct.allowVerticalPlacement&&!ro&&j.prevPlacement){var Os=j.prevPlacement.placedOrientations[Dn.crossTileID];Os&&(j.placedOrientations[Dn.crossTileID]=Os,j.markUsedOrientation(ct,Js=Os,Dn))}return Js},ka=function(ro,Js){if(ct.allowVerticalPlacement&&Dn.numVerticalGlyphVertices>0&&dr.verticalTextBox)for(var Os=0,Ua=ct.writingModes;Os<Ua.length&&(Ua[Os]===n.WritingMode.vertical?(ir=Js(),is=ir):ir=ro(),!(ir&&ir.box&&ir.box.length));Os+=1);else ir=ro()};if(xt.get("text-variable-anchor")){var Ls=xt.get("text-variable-anchor");if(j.prevPlacement&&j.prevPlacement.variableOffsets[Dn.crossTileID]){var aa=j.prevPlacement.variableOffsets[Dn.crossTileID];Ls.indexOf(aa.anchor)>0&&(Ls=Ls.filter(function(ro){return ro!==aa.anchor})).unshift(aa.anchor)}var ia=function(ro,Js,Os){for(var Ua=ro.x2-ro.x1,lu=ro.y2-ro.y1,Sl=Dn.textBoxScale,hu=ki&&!ti?Js:null,pl={box:[],offscreen:!1},kh=Ye?2*Ls.length:Ls.length,tl=0;tl<kh;++tl){var Cl=j.attemptAnchorPlacement(Ls[tl%Ls.length],ro,Ua,lu,Sl,_i,Oi,_e,Ot,Ie,tl>=Ls.length,Dn,ct,Os,hu);if(Cl&&(pl=Cl.placedGlyphBoxes)&&pl.box&&pl.box.length){ur=!0,ar=Cl.shift;break}}return pl};ka(function(){return ia(Vs,dr.iconBox,n.WritingMode.horizontal)},function(){var ro=dr.verticalTextBox;return ct.allowVerticalPlacement&&!(ir&&ir.box&&ir.box.length)&&Dn.numVerticalGlyphVertices>0&&ro?ia(ro,dr.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}}),ir&&(ur=ir.box,wr=ir.offscreen);var ul=As(ir&&ir.box);if(!ur&&j.prevPlacement){var $a=j.prevPlacement.variableOffsets[Dn.crossTileID];$a&&(j.variableOffsets[Dn.crossTileID]=$a,j.markUsedJustification(ct,$a.anchor,Dn,ul))}}else{var Da=function(ro,Js){var Os=j.collisionIndex.placeCollisionBox(ro,Ye,_e,Ot,Ie.predicate);return Os&&Os.box&&Os.box.length&&(j.markUsedOrientation(ct,Js,Dn),j.placedOrientations[Dn.crossTileID]=Js),Os};ka(function(){return Da(Vs,n.WritingMode.horizontal)},function(){var ro=dr.verticalTextBox;return ct.allowVerticalPlacement&&Dn.numVerticalGlyphVertices>0&&ro?Da(ro,n.WritingMode.vertical):{box:null,offscreen:null}}),As(ir&&ir.box&&ir.box.length)}}if(ur=(Tr=ir)&&Tr.box&&Tr.box.length>0,wr=Tr&&Tr.offscreen,Dn.useRuntimeCollisionCircles){var Qa=ct.text.placedSymbolArray.get(Dn.centerJustifiedTextSymbolIndex),cl=n.evaluateSizeForFeature(ct.textSizeData,Ne,Qa),pa=xt.get("text-padding");Bo=j.collisionIndex.placeCollisionCircles(Ye,Qa,ct.lineVertexArray,ct.glyphOffsetArray,cl,Ot,Zt,ne,_,Oi,Ie.predicate,Dn.collisionCircleDiameter,pa),ur=Ye||Bo.circles.length>0&&!Bo.collisionDetected,wr=wr&&Bo.offscreen}if(dr.iconFeatureIndex&&(Uo=dr.iconFeatureIndex),dr.iconBox){var dl=function(ro){var Js=ki&&ar?ao(ro,ar.x,ar.y,_i,Oi,j.transform.angle):ro;return j.collisionIndex.placeCollisionBox(Js,ti,_e,Ot,Ie.predicate)};lr=is&&is.box&&is.box.length&&dr.verticalIconBox?(ws=dl(dr.verticalIconBox)).box.length>0:(ws=dl(dr.iconBox)).box.length>0,wr=wr&&ws.offscreen}var fa=Ze||0===Dn.numHorizontalGlyphVertices&&0===Dn.numVerticalGlyphVertices,ns=De||0===Dn.numIconVertices;if(fa||ns?ns?fa||(lr=lr&&ur):ur=lr&&ur:lr=ur=lr&&ur,ur&&Tr&&Tr.box&&j.collisionIndex.insertCollisionBox(Tr.box,xt.get("text-ignore-placement"),ct.bucketInstanceId,is&&is.box&&Eo?Eo:cs,Ie.ID),lr&&ws&&j.collisionIndex.insertCollisionBox(ws.box,xt.get("icon-ignore-placement"),ct.bucketInstanceId,Uo,Ie.ID),Bo&&(ur&&j.collisionIndex.insertCollisionCircles(Bo.circles,xt.get("text-ignore-placement"),ct.bucketInstanceId,cs,Ie.ID),_)){var va=ct.bucketInstanceId,Ea=j.collisionCircleArrays[va];void 0===Ea&&(Ea=j.collisionCircleArrays[va]=new Wr);for(var ja=0;ja<Bo.circles.length;ja+=4)Ea.circles.push(Bo.circles[ja+0]),Ea.circles.push(Bo.circles[ja+1]),Ea.circles.push(Bo.circles[ja+2]),Ea.circles.push(Bo.collisionDetected?1:0)}j.placements[Dn.crossTileID]=new Mo(ur||Ki,lr||fn,wr||ct.justReloaded),w[Dn.crossTileID]=!0}};if(Ni)for(var Mn=ct.getSortedSymbolIndexes(this.transform.angle),Wn=Mn.length-1;Wn>=0;--Wn){var qn=Mn[Wn];dn(ct.symbolInstances.get(qn),ct.collisionArrays[qn])}else for(var Zn=g.symbolInstanceStart;Zn<g.symbolInstanceEnd;Zn++)dn(ct.symbolInstances.get(Zn),ct.collisionArrays[Zn]);if(_&&ct.bucketInstanceId in this.collisionCircleArrays){var Xr=this.collisionCircleArrays[ct.bucketInstanceId];n.invert(Xr.invProjMatrix,Ot),Xr.viewportMatrix=this.collisionIndex.getViewportMatrix()}ct.justReloaded=!1},Qr.prototype.markUsedJustification=function(g,w,_,j){var et;et=j===n.WritingMode.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[n.getAnchorJustification(w)];for(var ct=0,xt=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];ct<xt.length;ct+=1){var Ot=xt[ct];Ot>=0&&(g.text.placedSymbolArray.get(Ot).crossTileID=et>=0&&Ot!==et?0:_.crossTileID)}},Qr.prototype.markUsedOrientation=function(g,w,_){for(var j=w===n.WritingMode.horizontal||w===n.WritingMode.horizontalOnly?w:0,et=w===n.WritingMode.vertical?w:0,ct=0,xt=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];ct<xt.length;ct+=1)g.text.placedSymbolArray.get(xt[ct]).placedOrientation=j;_.verticalPlacedTextSymbolIndex&&(g.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=et)},Qr.prototype.commit=function(g){this.commitTime=g,this.zoomAtLastRecencyCheck=this.transform.zoom;var w=this.prevPlacement,_=!1;this.prevZoomAdjustment=w?w.zoomAdjustment(this.transform.zoom):0;var j=w?w.symbolFadeChange(g):1,et=w?w.opacities:{},ct=w?w.variableOffsets:{},xt=w?w.placedOrientations:{};for(var Ot in this.placements){var Zt=this.placements[Ot],ne=et[Ot];ne?(this.opacities[Ot]=new $r(ne,j,Zt.text,Zt.icon),_=_||Zt.text!==ne.text.placed||Zt.icon!==ne.icon.placed):(this.opacities[Ot]=new $r(null,j,Zt.text,Zt.icon,Zt.skipFade),_=_||Zt.text||Zt.icon)}for(var _e in et){var we=et[_e];if(!this.opacities[_e]){var Ce=new $r(we,j,!1,!1);Ce.isHidden()||(this.opacities[_e]=Ce,_=_||we.text.placed||we.icon.placed)}}for(var Ne in ct)this.variableOffsets[Ne]||!this.opacities[Ne]||this.opacities[Ne].isHidden()||(this.variableOffsets[Ne]=ct[Ne]);for(var Ie in xt)this.placedOrientations[Ie]||!this.opacities[Ie]||this.opacities[Ie].isHidden()||(this.placedOrientations[Ie]=xt[Ie]);_?this.lastPlacementChangeTime=g:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=w?w.lastPlacementChangeTime:g)},Qr.prototype.updateLayerOpacities=function(g,w){for(var _={},j=0,et=w;j<et.length;j+=1){var ct=et[j],xt=ct.getBucket(g);xt&&ct.latestFeatureIndex&&g.id===xt.layerIds[0]&&this.updateBucketOpacities(xt,_,ct.collisionBoxArray)}},Qr.prototype.updateBucketOpacities=function(g,w,_){var j=this;g.hasTextData()&&g.text.opacityVertexArray.clear(),g.hasIconData()&&g.icon.opacityVertexArray.clear(),g.hasIconCollisionBoxData()&&g.iconCollisionBox.collisionVertexArray.clear(),g.hasTextCollisionBoxData()&&g.textCollisionBox.collisionVertexArray.clear();var et=g.layers[0].layout,ct=new $r(null,0,!1,!1,!0),xt=et.get("text-allow-overlap"),Ot=et.get("icon-allow-overlap"),Zt=et.get("text-variable-anchor"),ne="map"===et.get("text-rotation-alignment"),_e="map"===et.get("text-pitch-alignment"),we="none"!==et.get("icon-text-fit"),Ce=new $r(null,0,xt&&(Ot||!g.hasIconData()||et.get("icon-optional")),Ot&&(xt||!g.hasTextData()||et.get("text-optional")),!0);!g.collisionArrays&&_&&(g.hasIconCollisionBoxData()||g.hasTextCollisionBoxData())&&g.deserializeCollisionBoxes(_);for(var Ne=function(Ye,ti,_i){for(var Oi=0;Oi<ti/4;Oi++)Ye.opacityVertexArray.emplaceBack(_i)},Ie=function(Ye){var ti=g.symbolInstances.get(Ye),_i=ti.numHorizontalGlyphVertices,Oi=ti.numVerticalGlyphVertices,ki=ti.crossTileID,Ni=j.opacities[ki];w[ki]?Ni=ct:Ni||(j.opacities[ki]=Ni=Ce),w[ki]=!0;var Ki=ti.numIconVertices>0,fn=j.placedOrientations[ti.crossTileID],dn=fn===n.WritingMode.vertical,Mn=fn===n.WritingMode.horizontal||fn===n.WritingMode.horizontalOnly;if(_i>0||Oi>0){var Wn=Z(Ni.text);Ne(g.text,_i,dn?ot:Wn),Ne(g.text,Oi,Mn?ot:Wn);var qn=Ni.text.isHidden();[ti.rightJustifiedTextSymbolIndex,ti.centerJustifiedTextSymbolIndex,ti.leftJustifiedTextSymbolIndex].forEach(function(ir){ir>=0&&(g.text.placedSymbolArray.get(ir).hidden=qn||dn?1:0)}),ti.verticalPlacedTextSymbolIndex>=0&&(g.text.placedSymbolArray.get(ti.verticalPlacedTextSymbolIndex).hidden=qn||Mn?1:0);var Zn=j.variableOffsets[ti.crossTileID];Zn&&j.markUsedJustification(g,Zn.anchor,ti,fn);var Xr=j.placedOrientations[ti.crossTileID];Xr&&(j.markUsedJustification(g,"left",ti,Xr),j.markUsedOrientation(g,Xr,ti))}if(Ki){var Dn=Z(Ni.icon),dr=!(we&&ti.verticalPlacedIconSymbolIndex&&dn);ti.placedIconSymbolIndex>=0&&(Ne(g.icon,ti.numIconVertices,dr?Dn:ot),g.icon.placedSymbolArray.get(ti.placedIconSymbolIndex).hidden=Ni.icon.isHidden()),ti.verticalPlacedIconSymbolIndex>=0&&(Ne(g.icon,ti.numVerticalIconVertices,dr?ot:Dn),g.icon.placedSymbolArray.get(ti.verticalPlacedIconSymbolIndex).hidden=Ni.icon.isHidden())}if(g.hasIconCollisionBoxData()||g.hasTextCollisionBoxData()){var Tr=g.collisionArrays[Ye];if(Tr){var ur=new n.Point(0,0);if(Tr.textBox||Tr.verticalTextBox){var lr=!0;if(Zt){var wr=j.variableOffsets[ki];wr?(ur=Kr(wr.anchor,wr.width,wr.height,wr.textOffset,wr.textBoxScale),ne&&ur._rotate(_e?j.transform.angle:-j.transform.angle)):lr=!1}Tr.textBox&&ho(g.textCollisionBox.collisionVertexArray,Ni.text.placed,!lr||dn,ur.x,ur.y),Tr.verticalTextBox&&ho(g.textCollisionBox.collisionVertexArray,Ni.text.placed,!lr||Mn,ur.x,ur.y)}var ar=Boolean(!Mn&&Tr.verticalIconBox);Tr.iconBox&&ho(g.iconCollisionBox.collisionVertexArray,Ni.icon.placed,ar,we?ur.x:0,we?ur.y:0),Tr.verticalIconBox&&ho(g.iconCollisionBox.collisionVertexArray,Ni.icon.placed,!ar,we?ur.x:0,we?ur.y:0)}}},Ze=0;Ze<g.symbolInstances.length;Ze++)Ie(Ze);if(g.sortFeatures(this.transform.angle),this.retainedQueryData[g.bucketInstanceId]&&(this.retainedQueryData[g.bucketInstanceId].featureSortOrder=g.featureSortOrder),g.hasTextData()&&g.text.opacityVertexBuffer&&g.text.opacityVertexBuffer.updateData(g.text.opacityVertexArray),g.hasIconData()&&g.icon.opacityVertexBuffer&&g.icon.opacityVertexBuffer.updateData(g.icon.opacityVertexArray),g.hasIconCollisionBoxData()&&g.iconCollisionBox.collisionVertexBuffer&&g.iconCollisionBox.collisionVertexBuffer.updateData(g.iconCollisionBox.collisionVertexArray),g.hasTextCollisionBoxData()&&g.textCollisionBox.collisionVertexBuffer&&g.textCollisionBox.collisionVertexBuffer.updateData(g.textCollisionBox.collisionVertexArray),g.bucketInstanceId in this.collisionCircleArrays){var De=this.collisionCircleArrays[g.bucketInstanceId];g.placementInvProjMatrix=De.invProjMatrix,g.placementViewportMatrix=De.viewportMatrix,g.collisionCircleArray=De.circles,delete this.collisionCircleArrays[g.bucketInstanceId]}},Qr.prototype.symbolFadeChange=function(g){return 0===this.fadeDuration?1:(g-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Qr.prototype.zoomAdjustment=function(g){return Math.max(0,(this.transform.zoom-g)/1.5)},Qr.prototype.hasTransitions=function(g){return this.stale||g-this.lastPlacementChangeTime<this.fadeDuration},Qr.prototype.stillRecent=function(g,w){var _=this.zoomAtLastRecencyCheck===w?1-this.zoomAdjustment(w):1;return this.zoomAtLastRecencyCheck=w,this.commitTime+this.fadeDuration*_>g},Qr.prototype.setStale=function(){this.stale=!0};var Io=Math.pow(2,25),wo=Math.pow(2,24),ko=Math.pow(2,17),J=Math.pow(2,16),pt=Math.pow(2,9),It=Math.pow(2,8),z=Math.pow(2,1);function Z(g){if(0===g.opacity&&!g.placed)return 0;if(1===g.opacity&&g.placed)return 4294967295;var w=g.placed?1:0,_=Math.floor(127*g.opacity);return _*Io+w*wo+_*ko+w*J+_*pt+w*It+_*z+w}var ot=0,rt=function(g){this._sortAcrossTiles="viewport-y"!==g.layout.get("symbol-z-order")&&void 0!==g.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};rt.prototype.continuePlacement=function(g,w,_,j,et){for(var ct=this._bucketParts;this._currentTileIndex<g.length;)if(w.getBucketParts(ct,j,g[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,et())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ct.sort(function(xt,Ot){return xt.sortKey-Ot.sortKey}));this._currentPartIndex<ct.length;)if(w.placeLayerBucketPart(ct[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,et())return!0;return!1};var _t=function(g,w,_,j,et,ct,xt){this.placement=new Qr(g,et,ct,xt),this._currentPlacementIndex=w.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=j,this._done=!1};_t.prototype.isDone=function(){return this._done},_t.prototype.continuePlacement=function(g,w,_){for(var j=this,et=n.browser.now(),ct=function(){var Zt=n.browser.now()-et;return!j._forceFullPlacement&&Zt>2};this._currentPlacementIndex>=0;){var xt=w[g[this._currentPlacementIndex]],Ot=this.placement.collisionIndex.transform.zoom;if("symbol"===xt.type&&(!xt.minzoom||xt.minzoom<=Ot)&&(!xt.maxzoom||xt.maxzoom>Ot)){if(this._inProgressLayer||(this._inProgressLayer=new rt(xt)),this._inProgressLayer.continuePlacement(_[xt.source],this.placement,this._showCollisionBoxes,xt,ct))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},_t.prototype.commit=function(g){return this.placement.commit(g),this.placement};var Et=512/n.EXTENT/2,Bt=function(g,w,_){this.tileID=g,this.indexedSymbolInstances={},this.bucketInstanceId=_;for(var j=0;j<w.length;j++){var et=w.get(j),ct=et.key;this.indexedSymbolInstances[ct]||(this.indexedSymbolInstances[ct]=[]),this.indexedSymbolInstances[ct].push({crossTileID:et.crossTileID,coord:this.getScaledCoordinates(et,g)})}};Bt.prototype.getScaledCoordinates=function(g,w){var _=Et/Math.pow(2,w.canonical.z-this.tileID.canonical.z);return{x:Math.floor((w.canonical.x*n.EXTENT+g.anchorX)*_),y:Math.floor((w.canonical.y*n.EXTENT+g.anchorY)*_)}},Bt.prototype.findMatches=function(g,w,_){for(var j=this.tileID.canonical.z<w.canonical.z?1:Math.pow(2,this.tileID.canonical.z-w.canonical.z),et=0;et<g.length;et++){var ct=g.get(et);if(!ct.crossTileID){var xt=this.indexedSymbolInstances[ct.key];if(xt)for(var Ot=this.getScaledCoordinates(ct,w),Zt=0,ne=xt;Zt<ne.length;Zt+=1){var _e=ne[Zt];if(Math.abs(_e.coord.x-Ot.x)<=j&&Math.abs(_e.coord.y-Ot.y)<=j&&!_[_e.crossTileID]){_[_e.crossTileID]=!0,ct.crossTileID=_e.crossTileID;break}}}}};var Wt=function(){this.maxCrossTileID=0};Wt.prototype.generate=function(){return++this.maxCrossTileID};var Qt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Qt.prototype.handleWrapJump=function(g){var w=Math.round((g-this.lng)/360);if(0!==w)for(var _ in this.indexes){var j=this.indexes[_],et={};for(var ct in j){var xt=j[ct];xt.tileID=xt.tileID.unwrapTo(xt.tileID.wrap+w),et[xt.tileID.key]=xt}this.indexes[_]=et}this.lng=g},Qt.prototype.addBucket=function(g,w,_){if(this.indexes[g.overscaledZ]&&this.indexes[g.overscaledZ][g.key]){if(this.indexes[g.overscaledZ][g.key].bucketInstanceId===w.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(g.overscaledZ,this.indexes[g.overscaledZ][g.key])}for(var j=0;j<w.symbolInstances.length;j++)w.symbolInstances.get(j).crossTileID=0;this.usedCrossTileIDs[g.overscaledZ]||(this.usedCrossTileIDs[g.overscaledZ]={});var et=this.usedCrossTileIDs[g.overscaledZ];for(var ct in this.indexes){var xt=this.indexes[ct];if(Number(ct)>g.overscaledZ)for(var Ot in xt){var Zt=xt[Ot];Zt.tileID.isChildOf(g)&&Zt.findMatches(w.symbolInstances,g,et)}else{var ne=xt[g.scaledTo(Number(ct)).key];ne&&ne.findMatches(w.symbolInstances,g,et)}}for(var _e=0;_e<w.symbolInstances.length;_e++){var we=w.symbolInstances.get(_e);we.crossTileID||(we.crossTileID=_.generate(),et[we.crossTileID]=!0)}return void 0===this.indexes[g.overscaledZ]&&(this.indexes[g.overscaledZ]={}),this.indexes[g.overscaledZ][g.key]=new Bt(g,w.symbolInstances,w.bucketInstanceId),!0},Qt.prototype.removeBucketCrossTileIDs=function(g,w){for(var _ in w.indexedSymbolInstances)for(var j=0,et=w.indexedSymbolInstances[_];j<et.length;j+=1)delete this.usedCrossTileIDs[g][et[j].crossTileID]},Qt.prototype.removeStaleBuckets=function(g){var w=!1;for(var _ in this.indexes){var j=this.indexes[_];for(var et in j)g[j[et].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,j[et]),delete j[et],w=!0)}return w};var xe=function(){this.layerIndexes={},this.crossTileIDs=new Wt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};xe.prototype.addLayer=function(g,w,_){var j=this.layerIndexes[g.id];void 0===j&&(j=this.layerIndexes[g.id]=new Qt);var et=!1,ct={};j.handleWrapJump(_);for(var xt=0,Ot=w;xt<Ot.length;xt+=1){var Zt=Ot[xt],ne=Zt.getBucket(g);ne&&g.id===ne.layerIds[0]&&(ne.bucketInstanceId||(ne.bucketInstanceId=++this.maxBucketInstanceId),j.addBucket(Zt.tileID,ne,this.crossTileIDs)&&(et=!0),ct[ne.bucketInstanceId]=!0)}return j.removeStaleBuckets(ct)&&(et=!0),et},xe.prototype.pruneUnusedLayers=function(g){var w={};for(var _ in g.forEach(function(j){w[j]=!0}),this.layerIndexes)w[_]||delete this.layerIndexes[_]};var Me=function(g,w){return n.emitValidationErrors(g,w&&w.filter(function(_){return"source.canvas"!==_.identifier}))},Xe=n.pick(si,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Be=n.pick(si,["setCenter","setZoom","setBearing","setPitch"]),Ue=function(){var g={},w=n.styleSpec.$version;for(var _ in n.styleSpec.$root){var j,et=n.styleSpec.$root[_];et.required&&null!=(j="version"===_?w:"array"===et.type?[]:{})&&(g[_]=j)}return g}(),Ii=function(g){function w(_,j){var et=this;void 0===j&&(j={}),g.call(this),this.map=_,this.dispatcher=new Lt(ei(),this),this.imageManager=new q,this.imageManager.setEventedParent(this),this.glyphManager=new St(_._requestManager,j.localIdeographFontFamily),this.lineAtlas=new dt(256,512),this.crossTileSymbolIndex=new xe,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var ct=this;this._rtlTextPluginCallback=w.registerForPluginStateChange(function(xt){ct.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:xt.pluginStatus,pluginURL:xt.pluginURL},function(Ot,Zt){if(n.triggerPluginCompletionEvent(Ot),Zt&&Zt.every(function(_e){return _e}))for(var ne in ct.sourceCaches)ct.sourceCaches[ne].reload()})}),this.on("data",function(xt){if("source"===xt.dataType&&"metadata"===xt.sourceDataType){var Ot=et.sourceCaches[xt.sourceId];if(Ot){var Zt=Ot.getSource();if(Zt&&Zt.vectorLayerIds)for(var ne in et._layers){var _e=et._layers[ne];_e.source===Zt.id&&et._validateLayer(_e)}}}})}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.loadURL=function(_,j){var et=this;void 0===j&&(j={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var ct="boolean"==typeof j.validate?j.validate:!n.isMapboxURL(_);_=this.map._requestManager.normalizeStyleURL(_,j.accessToken);var xt=this.map._requestManager.transformRequest(_,n.ResourceType.Style);this._request=n.getJSON(xt,function(Ot,Zt){et._request=null,Ot?et.fire(new n.ErrorEvent(Ot)):Zt&&et._load(Zt,ct)})},w.prototype.loadJSON=function(_,j){var et=this;void 0===j&&(j={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){et._request=null,et._load(_,!1!==j.validate)})},w.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(Ue,!1)},w.prototype._load=function(_,j){if(!j||!Me(this,n.validateStyle(_))){for(var et in this._loaded=!0,this.stylesheet=_,_.sources)this.addSource(et,_.sources[et],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs);var ct=Di(this.stylesheet.layers);this._order=ct.map(function(ne){return ne.id}),this._layers={},this._serializedLayers={};for(var xt=0,Ot=ct;xt<Ot.length;xt+=1){var Zt=Ot[xt];(Zt=n.createStyleLayer(Zt)).setEventedParent(this,{layer:{id:Zt.id}}),this._layers[Zt.id]=Zt,this._serializedLayers[Zt.id]=Zt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new mt(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},w.prototype._loadSprite=function(_){var j=this;this._spriteRequest=function(et,ct,xt){var Ot,Zt,ne,_e=n.browser.devicePixelRatio>1?"@2x":"",we=n.getJSON(ct.transformRequest(ct.normalizeSpriteURL(et,_e,".json"),n.ResourceType.SpriteJSON),function(Ie,Ze){we=null,ne||(ne=Ie,Ot=Ze,Ne())}),Ce=n.getImage(ct.transformRequest(ct.normalizeSpriteURL(et,_e,".png"),n.ResourceType.SpriteImage),function(Ie,Ze){Ce=null,ne||(ne=Ie,Zt=Ze,Ne())});function Ne(){if(ne)xt(ne);else if(Ot&&Zt){var Ie=n.browser.getImageData(Zt),Ze={};for(var De in Ot){var Ye=Ot[De],ti=Ye.width,_i=Ye.height,Oi=Ye.x,ki=Ye.y,Ni=Ye.sdf,Ki=Ye.pixelRatio,fn=Ye.stretchX,dn=Ye.stretchY,Mn=Ye.content,Wn=new n.RGBAImage({width:ti,height:_i});n.RGBAImage.copy(Ie,Wn,{x:Oi,y:ki},{x:0,y:0},{width:ti,height:_i}),Ze[De]={data:Wn,pixelRatio:Ki,sdf:Ni,stretchX:fn,stretchY:dn,content:Mn}}xt(null,Ze)}}return{cancel:function(){we&&(we.cancel(),we=null),Ce&&(Ce.cancel(),Ce=null)}}}(_,this.map._requestManager,function(et,ct){if(j._spriteRequest=null,et)j.fire(new n.ErrorEvent(et));else if(ct)for(var xt in ct)j.imageManager.addImage(xt,ct[xt]);j.imageManager.setLoaded(!0),j._availableImages=j.imageManager.listImages(),j.dispatcher.broadcast("setImages",j._availableImages),j.fire(new n.Event("data",{dataType:"style"}))})},w.prototype._validateLayer=function(_){var j=this.sourceCaches[_.source];if(j){var et=_.sourceLayer;if(et){var ct=j.getSource();("geojson"===ct.type||ct.vectorLayerIds&&-1===ct.vectorLayerIds.indexOf(et))&&this.fire(new n.ErrorEvent(new Error('Source layer "'+et+'" does not exist on source "'+ct.id+'" as specified by style layer "'+_.id+'"')))}}},w.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var _ in this.sourceCaches)if(!this.sourceCaches[_].loaded())return!1;return!!this.imageManager.isLoaded()},w.prototype._serializeLayers=function(_){for(var j=[],et=0,ct=_;et<ct.length;et+=1){var xt=this._layers[ct[et]];"custom"!==xt.type&&j.push(xt.serialize())}return j},w.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var _ in this.sourceCaches)if(this.sourceCaches[_].hasTransition())return!0;for(var j in this._layers)if(this._layers[j].hasTransition())return!0;return!1},w.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},w.prototype.update=function(_){if(this._loaded){var j=this._changed;if(this._changed){var et=Object.keys(this._updatedLayers),ct=Object.keys(this._removedLayers);for(var xt in(et.length||ct.length)&&this._updateWorkerLayers(et,ct),this._updatedSources){var Ot=this._updatedSources[xt];"reload"===Ot?this._reloadSource(xt):"clear"===Ot&&this._clearSource(xt)}for(var Zt in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[Zt].updateTransitions(_);this.light.updateTransitions(_),this._resetUpdates()}var ne={};for(var _e in this.sourceCaches){var we=this.sourceCaches[_e];ne[_e]=we.used,we.used=!1}for(var Ce=0,Ne=this._order;Ce<Ne.length;Ce+=1){var Ie=this._layers[Ne[Ce]];Ie.recalculate(_,this._availableImages),!Ie.isHidden(_.zoom)&&Ie.source&&(this.sourceCaches[Ie.source].used=!0)}for(var Ze in ne){var De=this.sourceCaches[Ze];ne[Ze]!==De.used&&De.fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Ze}))}this.light.recalculate(_),this.z=_.zoom,j&&this.fire(new n.Event("data",{dataType:"style"}))}},w.prototype._updateTilesForChangedImages=function(){var _=Object.keys(this._changedImages);if(_.length){for(var j in this.sourceCaches)this.sourceCaches[j].reloadTilesForDependencies(["icons","patterns"],_);this._changedImages={}}},w.prototype._updateWorkerLayers=function(_,j){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(_),removedIds:j})},w.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},w.prototype.setState=function(_){var j=this;if(this._checkLoaded(),Me(this,n.validateStyle(_)))return!1;(_=n.clone$1(_)).layers=Di(_.layers);var et=function(xt,Ot){if(!xt)return[{command:si.setStyle,args:[Ot]}];var Zt=[];try{if(!n.deepEqual(xt.version,Ot.version))return[{command:si.setStyle,args:[Ot]}];n.deepEqual(xt.center,Ot.center)||Zt.push({command:si.setCenter,args:[Ot.center]}),n.deepEqual(xt.zoom,Ot.zoom)||Zt.push({command:si.setZoom,args:[Ot.zoom]}),n.deepEqual(xt.bearing,Ot.bearing)||Zt.push({command:si.setBearing,args:[Ot.bearing]}),n.deepEqual(xt.pitch,Ot.pitch)||Zt.push({command:si.setPitch,args:[Ot.pitch]}),n.deepEqual(xt.sprite,Ot.sprite)||Zt.push({command:si.setSprite,args:[Ot.sprite]}),n.deepEqual(xt.glyphs,Ot.glyphs)||Zt.push({command:si.setGlyphs,args:[Ot.glyphs]}),n.deepEqual(xt.transition,Ot.transition)||Zt.push({command:si.setTransition,args:[Ot.transition]}),n.deepEqual(xt.light,Ot.light)||Zt.push({command:si.setLight,args:[Ot.light]});var ne={},_e=[];!function(Ce,Ne,Ie,Ze){var De;for(De in Ne=Ne||{},Ce=Ce||{})Ce.hasOwnProperty(De)&&(Ne.hasOwnProperty(De)||Fi(De,Ie,Ze));for(De in Ne)Ne.hasOwnProperty(De)&&(Ce.hasOwnProperty(De)?n.deepEqual(Ce[De],Ne[De])||("geojson"===Ce[De].type&&"geojson"===Ne[De].type&&tn(Ce,Ne,De)?Ie.push({command:si.setGeoJSONSourceData,args:[De,Ne[De].data]}):xn(De,Ne,Ie,Ze)):pn(De,Ne,Ie))}(xt.sources,Ot.sources,_e,ne);var we=[];xt.layers&&xt.layers.forEach(function(Ce){ne[Ce.source]?Zt.push({command:si.removeLayer,args:[Ce.id]}):we.push(Ce)}),Zt=Zt.concat(_e),function(Ce,Ne,Ie){Ne=Ne||[];var Ze,De,Ye,ti,_i,Oi,ki,Ni=(Ce=Ce||[]).map(Rn),Ki=Ne.map(Rn),fn=Ce.reduce(wn,{}),dn=Ne.reduce(wn,{}),Mn=Ni.slice(),Wn=Object.create(null);for(Ze=0,De=0;Ze<Ni.length;Ze++)dn.hasOwnProperty(Ye=Ni[Ze])?De++:(Ie.push({command:si.removeLayer,args:[Ye]}),Mn.splice(Mn.indexOf(Ye,De),1));for(Ze=0,De=0;Ze<Ki.length;Ze++)Mn[Mn.length-1-Ze]!==(Ye=Ki[Ki.length-1-Ze])&&(fn.hasOwnProperty(Ye)?(Ie.push({command:si.removeLayer,args:[Ye]}),Mn.splice(Mn.lastIndexOf(Ye,Mn.length-De),1)):De++,Ie.push({command:si.addLayer,args:[dn[Ye],Oi=Mn[Mn.length-Ze]]}),Mn.splice(Mn.length-Ze,0,Ye),Wn[Ye]=!0);for(Ze=0;Ze<Ki.length;Ze++)if(ti=fn[Ye=Ki[Ze]],_i=dn[Ye],!Wn[Ye]&&!n.deepEqual(ti,_i))if(n.deepEqual(ti.source,_i.source)&&n.deepEqual(ti["source-layer"],_i["source-layer"])&&n.deepEqual(ti.type,_i.type)){for(ki in An(ti.layout,_i.layout,Ie,Ye,null,si.setLayoutProperty),An(ti.paint,_i.paint,Ie,Ye,null,si.setPaintProperty),n.deepEqual(ti.filter,_i.filter)||Ie.push({command:si.setFilter,args:[Ye,_i.filter]}),n.deepEqual(ti.minzoom,_i.minzoom)&&n.deepEqual(ti.maxzoom,_i.maxzoom)||Ie.push({command:si.setLayerZoomRange,args:[Ye,_i.minzoom,_i.maxzoom]}),ti)ti.hasOwnProperty(ki)&&"layout"!==ki&&"paint"!==ki&&"filter"!==ki&&"metadata"!==ki&&"minzoom"!==ki&&"maxzoom"!==ki&&(0===ki.indexOf("paint.")?An(ti[ki],_i[ki],Ie,Ye,ki.slice(6),si.setPaintProperty):n.deepEqual(ti[ki],_i[ki])||Ie.push({command:si.setLayerProperty,args:[Ye,ki,_i[ki]]}));for(ki in _i)_i.hasOwnProperty(ki)&&!ti.hasOwnProperty(ki)&&"layout"!==ki&&"paint"!==ki&&"filter"!==ki&&"metadata"!==ki&&"minzoom"!==ki&&"maxzoom"!==ki&&(0===ki.indexOf("paint.")?An(ti[ki],_i[ki],Ie,Ye,ki.slice(6),si.setPaintProperty):n.deepEqual(ti[ki],_i[ki])||Ie.push({command:si.setLayerProperty,args:[Ye,ki,_i[ki]]}))}else Ie.push({command:si.removeLayer,args:[Ye]}),Oi=Mn[Mn.lastIndexOf(Ye)+1],Ie.push({command:si.addLayer,args:[_i,Oi]})}(we,Ot.layers,Zt)}catch(Ce){console.warn("Unable to compute style diff:",Ce),Zt=[{command:si.setStyle,args:[Ot]}]}return Zt}(this.serialize(),_).filter(function(xt){return!(xt.command in Be)});if(0===et.length)return!1;var ct=et.filter(function(xt){return!(xt.command in Xe)});if(ct.length>0)throw new Error("Unimplemented: "+ct.map(function(xt){return xt.command}).join(", ")+".");return et.forEach(function(xt){"setTransition"!==xt.command&&j[xt.command].apply(j,xt.args)}),this.stylesheet=_,!0},w.prototype.addImage=function(_,j){if(this.getImage(_))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(_,j),this._afterImageUpdated(_)},w.prototype.updateImage=function(_,j){this.imageManager.updateImage(_,j)},w.prototype.getImage=function(_){return this.imageManager.getImage(_)},w.prototype.removeImage=function(_){if(!this.getImage(_))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(_),this._afterImageUpdated(_)},w.prototype._afterImageUpdated=function(_){this._availableImages=this.imageManager.listImages(),this._changedImages[_]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))},w.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},w.prototype.addSource=function(_,j,et){var ct=this;if(void 0===et&&(et={}),this._checkLoaded(),void 0!==this.sourceCaches[_])throw new Error("There is already a source with this ID");if(!j.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(j).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(j.type)>=0&&this._validate(n.validateStyle.source,"sources."+_,j,null,et))){this.map&&this.map._collectResourceTiming&&(j.collectResourceTiming=!0);var xt=this.sourceCaches[_]=new fe(_,j,this.dispatcher);xt.style=this,xt.setEventedParent(this,function(){return{isSourceLoaded:ct.loaded(),source:xt.serialize(),sourceId:_}}),xt.onAdd(this.map),this._changed=!0}},w.prototype.removeSource=function(_){if(this._checkLoaded(),void 0===this.sourceCaches[_])throw new Error("There is no source with this ID");for(var j in this._layers)if(this._layers[j].source===_)return this.fire(new n.ErrorEvent(new Error('Source "'+_+'" cannot be removed while layer "'+j+'" is using it.')));var et=this.sourceCaches[_];delete this.sourceCaches[_],delete this._updatedSources[_],et.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:_})),et.setEventedParent(null),et.clearTiles(),et.onRemove&&et.onRemove(this.map),this._changed=!0},w.prototype.setGeoJSONSourceData=function(_,j){this._checkLoaded(),this.sourceCaches[_].getSource().setData(j),this._changed=!0},w.prototype.getSource=function(_){return this.sourceCaches[_]&&this.sourceCaches[_].getSource()},w.prototype.addLayer=function(_,j,et){void 0===et&&(et={}),this._checkLoaded();var ct=_.id;if(this.getLayer(ct))this.fire(new n.ErrorEvent(new Error('Layer with id "'+ct+'" already exists on this map')));else{var xt;if("custom"===_.type){if(Me(this,n.validateCustomStyleLayer(_)))return;xt=n.createStyleLayer(_)}else{if("object"==typeof _.source&&(this.addSource(ct,_.source),_=n.clone$1(_),_=n.extend(_,{source:ct})),this._validate(n.validateStyle.layer,"layers."+ct,_,{arrayIndex:-1},et))return;xt=n.createStyleLayer(_),this._validateLayer(xt),xt.setEventedParent(this,{layer:{id:ct}}),this._serializedLayers[xt.id]=xt.serialize()}var Ot=j?this._order.indexOf(j):this._order.length;if(j&&-1===Ot)this.fire(new n.ErrorEvent(new Error('Layer with id "'+j+'" does not exist on this map.')));else{if(this._order.splice(Ot,0,ct),this._layerOrderChanged=!0,this._layers[ct]=xt,this._removedLayers[ct]&&xt.source&&"custom"!==xt.type){var Zt=this._removedLayers[ct];delete this._removedLayers[ct],Zt.type!==xt.type?this._updatedSources[xt.source]="clear":(this._updatedSources[xt.source]="reload",this.sourceCaches[xt.source].pause())}this._updateLayer(xt),xt.onAdd&&xt.onAdd(this.map)}}},w.prototype.moveLayer=function(_,j){if(this._checkLoaded(),this._changed=!0,this._layers[_]){if(_!==j){var et=this._order.indexOf(_);this._order.splice(et,1);var ct=j?this._order.indexOf(j):this._order.length;j&&-1===ct?this.fire(new n.ErrorEvent(new Error('Layer with id "'+j+'" does not exist on this map.'))):(this._order.splice(ct,0,_),this._layerOrderChanged=!0)}}else this.fire(new n.ErrorEvent(new Error("The layer '"+_+"' does not exist in the map's style and cannot be moved.")))},w.prototype.removeLayer=function(_){this._checkLoaded();var j=this._layers[_];if(j){j.setEventedParent(null);var et=this._order.indexOf(_);this._order.splice(et,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[_]=j,delete this._layers[_],delete this._serializedLayers[_],delete this._updatedLayers[_],delete this._updatedPaintProps[_],j.onRemove&&j.onRemove(this.map)}else this.fire(new n.ErrorEvent(new Error("The layer '"+_+"' does not exist in the map's style and cannot be removed.")))},w.prototype.getLayer=function(_){return this._layers[_]},w.prototype.hasLayer=function(_){return _ in this._layers},w.prototype.setLayerZoomRange=function(_,j,et){this._checkLoaded();var ct=this.getLayer(_);ct?ct.minzoom===j&&ct.maxzoom===et||(null!=j&&(ct.minzoom=j),null!=et&&(ct.maxzoom=et),this._updateLayer(ct)):this.fire(new n.ErrorEvent(new Error("The layer '"+_+"' does not exist in the map's style and cannot have zoom extent.")))},w.prototype.setFilter=function(_,j,et){void 0===et&&(et={}),this._checkLoaded();var ct=this.getLayer(_);if(ct){if(!n.deepEqual(ct.filter,j))return null==j?(ct.filter=void 0,void this._updateLayer(ct)):void(this._validate(n.validateStyle.filter,"layers."+ct.id+".filter",j,null,et)||(ct.filter=n.clone$1(j),this._updateLayer(ct)))}else this.fire(new n.ErrorEvent(new Error("The layer '"+_+"' does not exist in the map's style and cannot be filtered.")))},w.prototype.getFilter=function(_){return n.clone$1(this.getLayer(_).filter)},w.prototype.setLayoutProperty=function(_,j,et,ct){void 0===ct&&(ct={}),this._checkLoaded();var xt=this.getLayer(_);xt?n.deepEqual(xt.getLayoutProperty(j),et)||(xt.setLayoutProperty(j,et,ct),this._updateLayer(xt)):this.fire(new n.ErrorEvent(new Error("The layer '"+_+"' does not exist in the map's style and cannot be styled.")))},w.prototype.getLayoutProperty=function(_,j){var et=this.getLayer(_);if(et)return et.getLayoutProperty(j);this.fire(new n.ErrorEvent(new Error("The layer '"+_+"' does not exist in the map's style.")))},w.prototype.setPaintProperty=function(_,j,et,ct){void 0===ct&&(ct={}),this._checkLoaded();var xt=this.getLayer(_);xt?n.deepEqual(xt.getPaintProperty(j),et)||(xt.setPaintProperty(j,et,ct)&&this._updateLayer(xt),this._changed=!0,this._updatedPaintProps[_]=!0):this.fire(new n.ErrorEvent(new Error("The layer '"+_+"' does not exist in the map's style and cannot be styled.")))},w.prototype.getPaintProperty=function(_,j){return this.getLayer(_).getPaintProperty(j)},w.prototype.setFeatureState=function(_,j){this._checkLoaded();var et=_.source,ct=_.sourceLayer,xt=this.sourceCaches[et];if(void 0!==xt){var Ot=xt.getSource().type;"geojson"===Ot&&ct?this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==Ot||ct?(void 0===_.id&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),xt.setFeatureState(ct,_.id,j)):this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+et+"' does not exist in the map's style.")))},w.prototype.removeFeatureState=function(_,j){this._checkLoaded();var et=_.source,ct=this.sourceCaches[et];if(void 0!==ct){var xt=ct.getSource().type,Ot="vector"===xt?_.sourceLayer:void 0;"vector"!==xt||Ot?j&&"string"!=typeof _.id&&"number"!=typeof _.id?this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):ct.removeFeatureState(Ot,_.id,j):this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+et+"' does not exist in the map's style.")))},w.prototype.getFeatureState=function(_){this._checkLoaded();var j=_.source,et=_.sourceLayer,ct=this.sourceCaches[j];if(void 0!==ct){if("vector"!==ct.getSource().type||et)return void 0===_.id&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),ct.getFeatureState(et,_.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+j+"' does not exist in the map's style.")))},w.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},w.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(_){return _.serialize()}),layers:this._serializeLayers(this._order)},function(_){return void 0!==_})},w.prototype._updateLayer=function(_){this._updatedLayers[_.id]=!0,_.source&&!this._updatedSources[_.source]&&"raster"!==this.sourceCaches[_.source].getSource().type&&(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause()),this._changed=!0},w.prototype._flattenAndSortRenderedFeatures=function(_){for(var j=this,et=function(fn){return"fill-extrusion"===j._layers[fn].type},ct={},xt=[],Ot=this._order.length-1;Ot>=0;Ot--){var Zt=this._order[Ot];if(et(Zt)){ct[Zt]=Ot;for(var ne=0,_e=_;ne<_e.length;ne+=1){var we=_e[ne][Zt];if(we)for(var Ce=0,Ne=we;Ce<Ne.length;Ce+=1)xt.push(Ne[Ce])}}}xt.sort(function(fn,dn){return dn.intersectionZ-fn.intersectionZ});for(var Ie=[],Ze=this._order.length-1;Ze>=0;Ze--){var De=this._order[Ze];if(et(De))for(var Ye=xt.length-1;Ye>=0;Ye--){var ti=xt[Ye].feature;if(ct[ti.layer.id]<Ze)break;Ie.push(ti),xt.pop()}else for(var _i=0,Oi=_;_i<Oi.length;_i+=1){var ki=Oi[_i][De];if(ki)for(var Ni=0,Ki=ki;Ni<Ki.length;Ni+=1)Ie.push(Ki[Ni].feature)}}return Ie},w.prototype.queryRenderedFeatures=function(_,j,et){j&&j.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",j.filter,null,j);var ct={};if(j&&j.layers){if(!Array.isArray(j.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var xt=0,Ot=j.layers;xt<Ot.length;xt+=1){var Zt=Ot[xt],ne=this._layers[Zt];if(!ne)return this.fire(new n.ErrorEvent(new Error("The layer '"+Zt+"' does not exist in the map's style and cannot be queried for features."))),[];ct[ne.source]=!0}}var _e=[];for(var we in j.availableImages=this._availableImages,this.sourceCaches)j.layers&&!ct[we]||_e.push(Vt(this.sourceCaches[we],this._layers,this._serializedLayers,_,j,et));return this.placement&&_e.push(function(Ce,Ne,Ie,Ze,De,Ye,ti){for(var _i={},Oi=Ye.queryRenderedSymbols(Ze),ki=[],Ni=0,Ki=Object.keys(Oi).map(Number);Ni<Ki.length;Ni+=1)ki.push(ti[Ki[Ni]]);ki.sort(ue);for(var fn=function(){var Zn=Mn[dn],Xr=Zn.featureIndex.lookupSymbolFeatures(Oi[Zn.bucketInstanceId],Ne,Zn.bucketIndex,Zn.sourceLayerIndex,De.filter,De.layers,De.availableImages,Ce);for(var Dn in Xr){var dr=_i[Dn]=_i[Dn]||[],Tr=Xr[Dn];Tr.sort(function(wr,ar){var ir=Zn.featureSortOrder;if(ir){var is=ir.indexOf(wr.featureIndex);return ir.indexOf(ar.featureIndex)-is}return ar.featureIndex-wr.featureIndex});for(var ur=0,lr=Tr;ur<lr.length;ur+=1)dr.push(lr[ur])}},dn=0,Mn=ki;dn<Mn.length;dn+=1)fn();var Wn=function(Zn){_i[Zn].forEach(function(Xr){var Dn=Xr.feature,dr=Ie[Ce[Zn].source].getFeatureState(Dn.layer["source-layer"],Dn.id);Dn.source=Dn.layer.source,Dn.layer["source-layer"]&&(Dn.sourceLayer=Dn.layer["source-layer"]),Dn.state=dr})};for(var qn in _i)Wn(qn);return _i}(this._layers,this._serializedLayers,this.sourceCaches,_,j,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_e)},w.prototype.querySourceFeatures=function(_,j){j&&j.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",j.filter,null,j);var et=this.sourceCaches[_];return et?function(ct,xt){for(var Ot=ct.getRenderableIds().map(function(Ne){return ct.getTileByID(Ne)}),Zt=[],ne={},_e=0;_e<Ot.length;_e++){var we=Ot[_e],Ce=we.tileID.canonical.key;ne[Ce]||(ne[Ce]=!0,we.querySourceFeatures(Zt,xt))}return Zt}(et,j):[]},w.prototype.addSourceType=function(_,j,et){return w.getSourceType(_)?et(new Error('A source type called "'+_+'" already exists.')):(w.setSourceType(_,j),j.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:_,url:j.workerSourceURL},et):et(null,null))},w.prototype.getLight=function(){return this.light.getLight()},w.prototype.setLight=function(_,j){void 0===j&&(j={}),this._checkLoaded();var et=this.light.getLight(),ct=!1;for(var xt in _)if(!n.deepEqual(_[xt],et[xt])){ct=!0;break}if(ct){var Ot={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(_,j),this.light.updateTransitions(Ot)}},w.prototype._validate=function(_,j,et,ct,xt){return void 0===xt&&(xt={}),(!xt||!1!==xt.validate)&&Me(this,_.call(n.validateStyle,n.extend({key:j,style:this.serialize(),value:et,styleSpec:n.styleSpec},ct)))},w.prototype._remove=function(){for(var _ in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[_].setEventedParent(null);for(var j in this.sourceCaches)this.sourceCaches[j].clearTiles(),this.sourceCaches[j].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},w.prototype._clearSource=function(_){this.sourceCaches[_].clearTiles()},w.prototype._reloadSource=function(_){this.sourceCaches[_].resume(),this.sourceCaches[_].reload()},w.prototype._updateSources=function(_){for(var j in this.sourceCaches)this.sourceCaches[j].update(_)},w.prototype._generateCollisionBoxes=function(){for(var _ in this.sourceCaches)this._reloadSource(_)},w.prototype._updatePlacement=function(_,j,et,ct,xt){void 0===xt&&(xt=!1);for(var Ot=!1,Zt=!1,ne={},_e=0,we=this._order;_e<we.length;_e+=1){var Ce=this._layers[we[_e]];if("symbol"===Ce.type){if(!ne[Ce.source]){var Ne=this.sourceCaches[Ce.source];ne[Ce.source]=Ne.getRenderableIds(!0).map(function(ti){return Ne.getTileByID(ti)}).sort(function(ti,_i){return _i.tileID.overscaledZ-ti.tileID.overscaledZ||(ti.tileID.isLessThan(_i.tileID)?-1:1)})}var Ie=this.crossTileSymbolIndex.addLayer(Ce,ne[Ce.source],_.center.lng);Ot=Ot||Ie}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((xt=xt||this._layerOrderChanged||0===et)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),_.zoom))&&(this.pauseablePlacement=new _t(_,this._order,xt,j,et,ct,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ne),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),Zt=!0),Ot&&this.pauseablePlacement.placement.setStale()),Zt||Ot)for(var Ze=0,De=this._order;Ze<De.length;Ze+=1){var Ye=this._layers[De[Ze]];"symbol"===Ye.type&&this.placement.updateLayerOpacities(Ye,ne[Ye.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now())},w.prototype._releaseSymbolFadeTiles=function(){for(var _ in this.sourceCaches)this.sourceCaches[_].releaseSymbolFadeTiles()},w.prototype.getImages=function(_,j,et){this.imageManager.getImages(j.icons,et),this._updateTilesForChangedImages();var ct=this.sourceCaches[j.source];ct&&ct.setDependencies(j.tileID.key,j.type,j.icons)},w.prototype.getGlyphs=function(_,j,et){this.glyphManager.getGlyphs(j.stacks,et)},w.prototype.getResource=function(_,j,et){return n.makeRequest(j,et)},w}(n.Evented);Ii.getSourceType=function(g){return re[g]},Ii.setSourceType=function(g,w){re[g]=w},Ii.registerForPluginStateChange=n.registerForPluginStateChange;var on=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),Tt=yr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Yt=yr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),pe=yr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Pe=yr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Oe=yr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ze=yr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Je=yr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Re=yr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),fi=yr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),vi=yr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Vi=yr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),cn=yr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),_n=yr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),kn=yr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Ln=yr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),zr=yr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Cr=yr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ar=yr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),so=yr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),mr=yr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),no=yr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),$n=yr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Pr=yr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),to=yr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),No=yr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),uo=yr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function yr(g,w){var _=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,j=w.match(/attribute ([\w]+) ([\w]+)/g),et=g.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ct=w.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),xt=ct?ct.concat(et):et,Ot={};return{fragmentSource:g=g.replace(_,function(Zt,ne,_e,we,Ce){return Ot[Ce]=!0,"define"===ne?"\n#ifndef HAS_UNIFORM_u_"+Ce+"\nvarying "+_e+" "+we+" "+Ce+";\n#else\nuniform "+_e+" "+we+" u_"+Ce+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+Ce+"\n    "+_e+" "+we+" "+Ce+" = u_"+Ce+";\n#endif\n"}),vertexSource:w=w.replace(_,function(Zt,ne,_e,we,Ce){var Ne="float"===we?"vec2":"vec4",Ie=Ce.match(/color/)?"color":Ne;return Ot[Ce]?"define"===ne?"\n#ifndef HAS_UNIFORM_u_"+Ce+"\nuniform lowp float u_"+Ce+"_t;\nattribute "+_e+" "+Ne+" a_"+Ce+";\nvarying "+_e+" "+we+" "+Ce+";\n#else\nuniform "+_e+" "+we+" u_"+Ce+";\n#endif\n":"vec4"===Ie?"\n#ifndef HAS_UNIFORM_u_"+Ce+"\n    "+Ce+" = a_"+Ce+";\n#else\n    "+_e+" "+we+" "+Ce+" = u_"+Ce+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+Ce+"\n    "+Ce+" = unpack_mix_"+Ie+"(a_"+Ce+", u_"+Ce+"_t);\n#else\n    "+_e+" "+we+" "+Ce+" = u_"+Ce+";\n#endif\n":"define"===ne?"\n#ifndef HAS_UNIFORM_u_"+Ce+"\nuniform lowp float u_"+Ce+"_t;\nattribute "+_e+" "+Ne+" a_"+Ce+";\n#else\nuniform "+_e+" "+we+" u_"+Ce+";\n#endif\n":"vec4"===Ie?"\n#ifndef HAS_UNIFORM_u_"+Ce+"\n    "+_e+" "+we+" "+Ce+" = a_"+Ce+";\n#else\n    "+_e+" "+we+" "+Ce+" = u_"+Ce+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+Ce+"\n    "+_e+" "+we+" "+Ce+" = unpack_mix_"+Ie+"(a_"+Ce+", u_"+Ce+"_t);\n#else\n    "+_e+" "+we+" "+Ce+" = u_"+Ce+";\n#endif\n"}),staticAttributes:j,staticUniforms:xt}}var Gs=Object.freeze({__proto__:null,prelude:Tt,background:Yt,backgroundPattern:pe,circle:Pe,clippingMask:Oe,heatmap:ze,heatmapTexture:Je,collisionBox:Re,collisionCircle:fi,debug:vi,fill:Vi,fillOutline:cn,fillOutlinePattern:_n,fillPattern:kn,fillExtrusion:Ln,fillExtrusionPattern:zr,hillshadePrepare:Cr,hillshade:Ar,line:so,lineGradient:mr,linePattern:no,lineSDF:$n,raster:Pr,symbolIcon:to,symbolSDF:No,symbolTextAndIcon:uo}),qo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function ss(g){for(var w=[],_=0;_<g.length;_++)if(null!==g[_]){var j=g[_].split(" ");w.push(j.pop())}return w}qo.prototype.bind=function(g,w,_,j,et,ct,xt,Ot){this.context=g;for(var Zt=this.boundPaintVertexBuffers.length!==j.length,ne=0;!Zt&&ne<j.length;ne++)this.boundPaintVertexBuffers[ne]!==j[ne]&&(Zt=!0);g.extVertexArrayObject&&this.vao&&this.boundProgram===w&&this.boundLayoutVertexBuffer===_&&!Zt&&this.boundIndexBuffer===et&&this.boundVertexOffset===ct&&this.boundDynamicVertexBuffer===xt&&this.boundDynamicVertexBuffer2===Ot?(g.bindVertexArrayOES.set(this.vao),xt&&xt.bind(),et&&et.dynamicDraw&&et.bind(),Ot&&Ot.bind()):this.freshBind(w,_,j,et,ct,xt,Ot)},qo.prototype.freshBind=function(g,w,_,j,et,ct,xt){var Ot,Zt=g.numAttributes,ne=this.context,_e=ne.gl;if(ne.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ne.extVertexArrayObject.createVertexArrayOES(),ne.bindVertexArrayOES.set(this.vao),Ot=0,this.boundProgram=g,this.boundLayoutVertexBuffer=w,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=j,this.boundVertexOffset=et,this.boundDynamicVertexBuffer=ct,this.boundDynamicVertexBuffer2=xt;else{Ot=ne.currentNumAttributes||0;for(var we=Zt;we<Ot;we++)_e.disableVertexAttribArray(we)}w.enableAttributes(_e,g);for(var Ce=0,Ne=_;Ce<Ne.length;Ce+=1)Ne[Ce].enableAttributes(_e,g);ct&&ct.enableAttributes(_e,g),xt&&xt.enableAttributes(_e,g),w.bind(),w.setVertexAttribPointers(_e,g,et);for(var Ie=0,Ze=_;Ie<Ze.length;Ie+=1){var De=Ze[Ie];De.bind(),De.setVertexAttribPointers(_e,g,et)}ct&&(ct.bind(),ct.setVertexAttribPointers(_e,g,et)),j&&j.bind(),xt&&(xt.bind(),xt.setVertexAttribPointers(_e,g,et)),ne.currentNumAttributes=Zt},qo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ds=function(g,w,_,j,et,ct){var xt=g.gl;this.program=xt.createProgram();for(var Ot=ss(_.staticAttributes),Zt=j?j.getBinderAttributes():[],ne=Ot.concat(Zt),_e=_.staticUniforms?ss(_.staticUniforms):[],we=j?j.getBinderUniforms():[],Ce=[],Ne=0,Ie=_e.concat(we);Ne<Ie.length;Ne+=1){var Ze=Ie[Ne];Ce.indexOf(Ze)<0&&Ce.push(Ze)}var De=j?j.defines():[];ct&&De.push("#define OVERDRAW_INSPECTOR;");var Ye=De.concat(Tt.fragmentSource,_.fragmentSource).join("\n"),ti=De.concat(Tt.vertexSource,_.vertexSource).join("\n"),_i=xt.createShader(xt.FRAGMENT_SHADER);if(xt.isContextLost())this.failedToCreate=!0;else{xt.shaderSource(_i,Ye),xt.compileShader(_i),xt.attachShader(this.program,_i);var Oi=xt.createShader(xt.VERTEX_SHADER);if(xt.isContextLost())this.failedToCreate=!0;else{xt.shaderSource(Oi,ti),xt.compileShader(Oi),xt.attachShader(this.program,Oi),this.attributes={};var ki={};this.numAttributes=ne.length;for(var Ni=0;Ni<this.numAttributes;Ni++)ne[Ni]&&(xt.bindAttribLocation(this.program,Ni,ne[Ni]),this.attributes[ne[Ni]]=Ni);xt.linkProgram(this.program),xt.deleteShader(Oi),xt.deleteShader(_i);for(var Ki=0;Ki<Ce.length;Ki++){var fn=Ce[Ki];if(fn&&!ki[fn]){var dn=xt.getUniformLocation(this.program,fn);dn&&(ki[fn]=dn)}}this.fixedUniforms=et(g,ki),this.binderUniforms=j?j.getUniforms(g,ki):[]}}};function sa(g,w,_){var j=1/br(_,1,w.transform.tileZoom),et=Math.pow(2,_.tileID.overscaledZ),ct=_.tileSize*Math.pow(2,w.transform.tileZoom)/et,xt=ct*(_.tileID.canonical.x+_.tileID.wrap*et),Ot=ct*_.tileID.canonical.y;return{u_image:0,u_texsize:_.imageAtlasTexture.size,u_scale:[j,g.fromScale,g.toScale],u_fade:g.t,u_pixel_coord_upper:[xt>>16,Ot>>16],u_pixel_coord_lower:[65535&xt,65535&Ot]}}Ds.prototype.draw=function(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e,we,Ce,Ne,Ie,Ze){var De,Ye=g.gl;if(!this.failedToCreate){for(var ti in g.program.set(this.program),g.setDepthMode(_),g.setStencilMode(j),g.setColorMode(et),g.setCullFace(ct),this.fixedUniforms)this.fixedUniforms[ti].set(xt[ti]);Ne&&Ne.setUniforms(g,this.binderUniforms,we,{zoom:Ce});for(var _i=(De={},De[Ye.LINES]=2,De[Ye.TRIANGLES]=3,De[Ye.LINE_STRIP]=1,De)[w],Oi=0,ki=_e.get();Oi<ki.length;Oi+=1){var Ni=ki[Oi],Ki=Ni.vaos||(Ni.vaos={});(Ki[Ot]||(Ki[Ot]=new qo)).bind(g,this,Zt,Ne?Ne.getPaintVertexBuffers():[],ne,Ni.vertexOffset,Ie,Ze),Ye.drawElements(w,Ni.primitiveLength*_i,Ye.UNSIGNED_SHORT,Ni.primitiveOffset*_i*2)}}};var Rs=function(g,w,_,j){var et=w.style.light,ct=et.properties.get("position"),xt=[ct.x,ct.y,ct.z],Ot=n.create$1();"viewport"===et.properties.get("anchor")&&n.fromRotation(Ot,-w.transform.angle),n.transformMat3(xt,xt,Ot);var Zt=et.properties.get("color");return{u_matrix:g,u_lightpos:xt,u_lightintensity:et.properties.get("intensity"),u_lightcolor:[Zt.r,Zt.g,Zt.b],u_vertical_gradient:+_,u_opacity:j}},vs=function(g,w,_,j,et,ct,xt){return n.extend(Rs(g,w,_,j),sa(ct,w,xt),{u_height_factor:-Math.pow(2,et.overscaledZ)/xt.tileSize/8})},as=function(g){return{u_matrix:g}},Ws=function(g,w,_,j){return n.extend(as(g),sa(_,w,j))},y=function(g,w){return{u_matrix:g,u_world:w}},H=function(g,w,_,j,et){return n.extend(Ws(g,w,_,j),{u_world:et})},at=function(g,w,_,j){var et,ct,xt=g.transform;if("map"===j.paint.get("circle-pitch-alignment")){var Ot=br(_,1,xt.zoom);et=!0,ct=[Ot,Ot]}else et=!1,ct=xt.pixelsToGLUnits;return{u_camera_to_center_distance:xt.cameraToCenterDistance,u_scale_with_map:+("map"===j.paint.get("circle-pitch-scale")),u_matrix:g.translatePosMatrix(w.posMatrix,_,j.paint.get("circle-translate"),j.paint.get("circle-translate-anchor")),u_pitch_with_map:+et,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:ct}},Mt=function(g,w,_){var j=br(_,1,w.zoom),et=Math.pow(2,w.zoom-_.tileID.overscaledZ),ct=_.tileID.overscaleFactor();return{u_matrix:g,u_camera_to_center_distance:w.cameraToCenterDistance,u_pixels_to_tile_units:j,u_extrude_scale:[w.pixelsToGLUnits[0]/(j*et),w.pixelsToGLUnits[1]/(j*et)],u_overscale_factor:ct}},Gt=function(g,w,_){return{u_matrix:g,u_inv_matrix:w,u_camera_to_center_distance:_.cameraToCenterDistance,u_viewport_size:[_.width,_.height]}},be=function(g,w,_){return void 0===_&&(_=1),{u_matrix:g,u_color:w,u_overlay:0,u_overlay_scale:_}},ri=function(g){return{u_matrix:g}},ni=function(g,w,_,j){return{u_matrix:g,u_extrude_scale:br(w,1,_),u_intensity:j}},Xi=function(g,w,_){var j=g.transform;return{u_matrix:go(g,w,_),u_ratio:1/br(w,1,j.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/j.pixelsToGLUnits[0],1/j.pixelsToGLUnits[1]]}},zi=function(g,w,_,j){return n.extend(Xi(g,w,_),{u_image:0,u_image_height:j})},zn=function(g,w,_,j){var et=g.transform,ct=kr(w,et);return{u_matrix:go(g,w,_),u_texsize:w.imageAtlasTexture.size,u_ratio:1/br(w,1,et.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[ct,j.fromScale,j.toScale],u_fade:j.t,u_units_to_pixels:[1/et.pixelsToGLUnits[0],1/et.pixelsToGLUnits[1]]}},cr=function(g,w,_,j,et){var ct=g.lineAtlas,xt=kr(w,g.transform),Ot="round"===_.layout.get("line-cap"),Zt=ct.getDash(j.from,Ot),ne=ct.getDash(j.to,Ot),_e=Zt.width*et.fromScale,we=ne.width*et.toScale;return n.extend(Xi(g,w,_),{u_patternscale_a:[xt/_e,-Zt.height/2],u_patternscale_b:[xt/we,-ne.height/2],u_sdfgamma:ct.width/(256*Math.min(_e,we)*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Zt.y,u_tex_y_b:ne.y,u_mix:et.t})};function kr(g,w){return 1/br(g,1,w.tileZoom)}function go(g,w,_){return g.translatePosMatrix(w.tileID.posMatrix,w,_.paint.get("line-translate"),_.paint.get("line-translate-anchor"))}var _s=function(g,w,_,j,et){return{u_matrix:g,u_tl_parent:w,u_scale_parent:_,u_buffer_scale:1,u_fade_t:j.mix,u_opacity:j.opacity*et.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:et.paint.get("raster-brightness-min"),u_brightness_high:et.paint.get("raster-brightness-max"),u_saturation_factor:(xt=et.paint.get("raster-saturation"),xt>0?1-1/(1.001-xt):-xt),u_contrast_factor:(ct=et.paint.get("raster-contrast"),ct>0?1/(1-ct):1+ct),u_spin_weights:Wo(et.paint.get("raster-hue-rotate"))};var ct,xt};function Wo(g){g*=Math.PI/180;var w=Math.sin(g),_=Math.cos(g);return[(2*_+1)/3,(-Math.sqrt(3)*w-_+1)/3,(Math.sqrt(3)*w-_+1)/3]}var Do,Bs=function(g,w,_,j,et,ct,xt,Ot,Zt,ne){var _e=et.transform;return{u_is_size_zoom_constant:+("constant"===g||"source"===g),u_is_size_feature_constant:+("constant"===g||"camera"===g),u_size_t:w?w.uSizeT:0,u_size:w?w.uSize:0,u_camera_to_center_distance:_e.cameraToCenterDistance,u_pitch:_e.pitch/360*2*Math.PI,u_rotate_symbol:+_,u_aspect_ratio:_e.width/_e.height,u_fade_change:et.options.fadeDuration?et.symbolFadeChange:1,u_matrix:ct,u_label_plane_matrix:xt,u_coord_matrix:Ot,u_is_text:+Zt,u_pitch_with_map:+j,u_texsize:ne,u_texture:0}},Xo=function(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e){var we=et.transform;return n.extend(Bs(g,w,_,j,et,ct,xt,Ot,Zt,ne),{u_gamma_scale:j?Math.cos(we._pitch)*we.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+_e})},Xs=function(g,w,_,j,et,ct,xt,Ot,Zt,ne){return n.extend(Xo(g,w,_,j,et,ct,xt,Ot,!0,Zt,!0),{u_texsize_icon:ne,u_texture_icon:1})},co=function(g,w,_){return{u_matrix:g,u_opacity:w,u_color:_}},ms=function(g,w,_,j,et,ct){return n.extend((Ot=ct,ne=et,_e=(Zt=_).imageManager.getPattern((xt=j).from.toString()),we=Zt.imageManager.getPattern(xt.to.toString()),Ne=(Ce=Zt.imageManager.getPixelSize()).width,Ie=Ce.height,Ze=Math.pow(2,ne.tileID.overscaledZ),Ye=(De=ne.tileSize*Math.pow(2,Zt.transform.tileZoom)/Ze)*(ne.tileID.canonical.x+ne.tileID.wrap*Ze),ti=De*ne.tileID.canonical.y,{u_image:0,u_pattern_tl_a:_e.tl,u_pattern_br_a:_e.br,u_pattern_tl_b:we.tl,u_pattern_br_b:we.br,u_texsize:[Ne,Ie],u_mix:Ot.t,u_pattern_size_a:_e.displaySize,u_pattern_size_b:we.displaySize,u_scale_a:Ot.fromScale,u_scale_b:Ot.toScale,u_tile_units_to_pixels:1/br(ne,1,Zt.transform.tileZoom),u_pixel_coord_upper:[Ye>>16,ti>>16],u_pixel_coord_lower:[65535&Ye,65535&ti]}),{u_matrix:g,u_opacity:w});var xt,Ot,Zt,ne,_e,we,Ce,Ne,Ie,Ze,De,Ye,ti},Cs={fillExtrusion:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_lightpos:new n.Uniform3f(g,w.u_lightpos),u_lightintensity:new n.Uniform1f(g,w.u_lightintensity),u_lightcolor:new n.Uniform3f(g,w.u_lightcolor),u_vertical_gradient:new n.Uniform1f(g,w.u_vertical_gradient),u_opacity:new n.Uniform1f(g,w.u_opacity)}},fillExtrusionPattern:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_lightpos:new n.Uniform3f(g,w.u_lightpos),u_lightintensity:new n.Uniform1f(g,w.u_lightintensity),u_lightcolor:new n.Uniform3f(g,w.u_lightcolor),u_vertical_gradient:new n.Uniform1f(g,w.u_vertical_gradient),u_height_factor:new n.Uniform1f(g,w.u_height_factor),u_image:new n.Uniform1i(g,w.u_image),u_texsize:new n.Uniform2f(g,w.u_texsize),u_pixel_coord_upper:new n.Uniform2f(g,w.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(g,w.u_pixel_coord_lower),u_scale:new n.Uniform3f(g,w.u_scale),u_fade:new n.Uniform1f(g,w.u_fade),u_opacity:new n.Uniform1f(g,w.u_opacity)}},fill:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix)}},fillPattern:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_image:new n.Uniform1i(g,w.u_image),u_texsize:new n.Uniform2f(g,w.u_texsize),u_pixel_coord_upper:new n.Uniform2f(g,w.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(g,w.u_pixel_coord_lower),u_scale:new n.Uniform3f(g,w.u_scale),u_fade:new n.Uniform1f(g,w.u_fade)}},fillOutline:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_world:new n.Uniform2f(g,w.u_world)}},fillOutlinePattern:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_world:new n.Uniform2f(g,w.u_world),u_image:new n.Uniform1i(g,w.u_image),u_texsize:new n.Uniform2f(g,w.u_texsize),u_pixel_coord_upper:new n.Uniform2f(g,w.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(g,w.u_pixel_coord_lower),u_scale:new n.Uniform3f(g,w.u_scale),u_fade:new n.Uniform1f(g,w.u_fade)}},circle:function(g,w){return{u_camera_to_center_distance:new n.Uniform1f(g,w.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(g,w.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(g,w.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(g,w.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(g,w.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(g,w.u_matrix)}},collisionBox:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_camera_to_center_distance:new n.Uniform1f(g,w.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(g,w.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(g,w.u_extrude_scale),u_overscale_factor:new n.Uniform1f(g,w.u_overscale_factor)}},collisionCircle:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_inv_matrix:new n.UniformMatrix4f(g,w.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(g,w.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(g,w.u_viewport_size)}},debug:function(g,w){return{u_color:new n.UniformColor(g,w.u_color),u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_overlay:new n.Uniform1i(g,w.u_overlay),u_overlay_scale:new n.Uniform1f(g,w.u_overlay_scale)}},clippingMask:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix)}},heatmap:function(g,w){return{u_extrude_scale:new n.Uniform1f(g,w.u_extrude_scale),u_intensity:new n.Uniform1f(g,w.u_intensity),u_matrix:new n.UniformMatrix4f(g,w.u_matrix)}},heatmapTexture:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_world:new n.Uniform2f(g,w.u_world),u_image:new n.Uniform1i(g,w.u_image),u_color_ramp:new n.Uniform1i(g,w.u_color_ramp),u_opacity:new n.Uniform1f(g,w.u_opacity)}},hillshade:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_image:new n.Uniform1i(g,w.u_image),u_latrange:new n.Uniform2f(g,w.u_latrange),u_light:new n.Uniform2f(g,w.u_light),u_shadow:new n.UniformColor(g,w.u_shadow),u_highlight:new n.UniformColor(g,w.u_highlight),u_accent:new n.UniformColor(g,w.u_accent)}},hillshadePrepare:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_image:new n.Uniform1i(g,w.u_image),u_dimension:new n.Uniform2f(g,w.u_dimension),u_zoom:new n.Uniform1f(g,w.u_zoom),u_unpack:new n.Uniform4f(g,w.u_unpack)}},line:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_ratio:new n.Uniform1f(g,w.u_ratio),u_device_pixel_ratio:new n.Uniform1f(g,w.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(g,w.u_units_to_pixels)}},lineGradient:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_ratio:new n.Uniform1f(g,w.u_ratio),u_device_pixel_ratio:new n.Uniform1f(g,w.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(g,w.u_units_to_pixels),u_image:new n.Uniform1i(g,w.u_image),u_image_height:new n.Uniform1f(g,w.u_image_height)}},linePattern:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_texsize:new n.Uniform2f(g,w.u_texsize),u_ratio:new n.Uniform1f(g,w.u_ratio),u_device_pixel_ratio:new n.Uniform1f(g,w.u_device_pixel_ratio),u_image:new n.Uniform1i(g,w.u_image),u_units_to_pixels:new n.Uniform2f(g,w.u_units_to_pixels),u_scale:new n.Uniform3f(g,w.u_scale),u_fade:new n.Uniform1f(g,w.u_fade)}},lineSDF:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_ratio:new n.Uniform1f(g,w.u_ratio),u_device_pixel_ratio:new n.Uniform1f(g,w.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(g,w.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(g,w.u_patternscale_a),u_patternscale_b:new n.Uniform2f(g,w.u_patternscale_b),u_sdfgamma:new n.Uniform1f(g,w.u_sdfgamma),u_image:new n.Uniform1i(g,w.u_image),u_tex_y_a:new n.Uniform1f(g,w.u_tex_y_a),u_tex_y_b:new n.Uniform1f(g,w.u_tex_y_b),u_mix:new n.Uniform1f(g,w.u_mix)}},raster:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_tl_parent:new n.Uniform2f(g,w.u_tl_parent),u_scale_parent:new n.Uniform1f(g,w.u_scale_parent),u_buffer_scale:new n.Uniform1f(g,w.u_buffer_scale),u_fade_t:new n.Uniform1f(g,w.u_fade_t),u_opacity:new n.Uniform1f(g,w.u_opacity),u_image0:new n.Uniform1i(g,w.u_image0),u_image1:new n.Uniform1i(g,w.u_image1),u_brightness_low:new n.Uniform1f(g,w.u_brightness_low),u_brightness_high:new n.Uniform1f(g,w.u_brightness_high),u_saturation_factor:new n.Uniform1f(g,w.u_saturation_factor),u_contrast_factor:new n.Uniform1f(g,w.u_contrast_factor),u_spin_weights:new n.Uniform3f(g,w.u_spin_weights)}},symbolIcon:function(g,w){return{u_is_size_zoom_constant:new n.Uniform1i(g,w.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(g,w.u_is_size_feature_constant),u_size_t:new n.Uniform1f(g,w.u_size_t),u_size:new n.Uniform1f(g,w.u_size),u_camera_to_center_distance:new n.Uniform1f(g,w.u_camera_to_center_distance),u_pitch:new n.Uniform1f(g,w.u_pitch),u_rotate_symbol:new n.Uniform1i(g,w.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(g,w.u_aspect_ratio),u_fade_change:new n.Uniform1f(g,w.u_fade_change),u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(g,w.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(g,w.u_coord_matrix),u_is_text:new n.Uniform1i(g,w.u_is_text),u_pitch_with_map:new n.Uniform1i(g,w.u_pitch_with_map),u_texsize:new n.Uniform2f(g,w.u_texsize),u_texture:new n.Uniform1i(g,w.u_texture)}},symbolSDF:function(g,w){return{u_is_size_zoom_constant:new n.Uniform1i(g,w.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(g,w.u_is_size_feature_constant),u_size_t:new n.Uniform1f(g,w.u_size_t),u_size:new n.Uniform1f(g,w.u_size),u_camera_to_center_distance:new n.Uniform1f(g,w.u_camera_to_center_distance),u_pitch:new n.Uniform1f(g,w.u_pitch),u_rotate_symbol:new n.Uniform1i(g,w.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(g,w.u_aspect_ratio),u_fade_change:new n.Uniform1f(g,w.u_fade_change),u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(g,w.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(g,w.u_coord_matrix),u_is_text:new n.Uniform1i(g,w.u_is_text),u_pitch_with_map:new n.Uniform1i(g,w.u_pitch_with_map),u_texsize:new n.Uniform2f(g,w.u_texsize),u_texture:new n.Uniform1i(g,w.u_texture),u_gamma_scale:new n.Uniform1f(g,w.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(g,w.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(g,w.u_is_halo)}},symbolTextAndIcon:function(g,w){return{u_is_size_zoom_constant:new n.Uniform1i(g,w.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(g,w.u_is_size_feature_constant),u_size_t:new n.Uniform1f(g,w.u_size_t),u_size:new n.Uniform1f(g,w.u_size),u_camera_to_center_distance:new n.Uniform1f(g,w.u_camera_to_center_distance),u_pitch:new n.Uniform1f(g,w.u_pitch),u_rotate_symbol:new n.Uniform1i(g,w.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(g,w.u_aspect_ratio),u_fade_change:new n.Uniform1f(g,w.u_fade_change),u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(g,w.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(g,w.u_coord_matrix),u_is_text:new n.Uniform1i(g,w.u_is_text),u_pitch_with_map:new n.Uniform1i(g,w.u_pitch_with_map),u_texsize:new n.Uniform2f(g,w.u_texsize),u_texsize_icon:new n.Uniform2f(g,w.u_texsize_icon),u_texture:new n.Uniform1i(g,w.u_texture),u_texture_icon:new n.Uniform1i(g,w.u_texture_icon),u_gamma_scale:new n.Uniform1f(g,w.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(g,w.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(g,w.u_is_halo)}},background:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_opacity:new n.Uniform1f(g,w.u_opacity),u_color:new n.UniformColor(g,w.u_color)}},backgroundPattern:function(g,w){return{u_matrix:new n.UniformMatrix4f(g,w.u_matrix),u_opacity:new n.Uniform1f(g,w.u_opacity),u_image:new n.Uniform1i(g,w.u_image),u_pattern_tl_a:new n.Uniform2f(g,w.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(g,w.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(g,w.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(g,w.u_pattern_br_b),u_texsize:new n.Uniform2f(g,w.u_texsize),u_mix:new n.Uniform1f(g,w.u_mix),u_pattern_size_a:new n.Uniform2f(g,w.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(g,w.u_pattern_size_b),u_scale_a:new n.Uniform1f(g,w.u_scale_a),u_scale_b:new n.Uniform1f(g,w.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(g,w.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(g,w.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(g,w.u_tile_units_to_pixels)}}};function Qs(g,w,_,j,et,ct,xt){for(var Ot=g.context,Zt=Ot.gl,ne=g.useProgram("collisionBox"),_e=[],we=0,Ce=0,Ne=0;Ne<j.length;Ne++){var Ie=j[Ne],Ze=w.getTile(Ie),De=Ze.getBucket(_);if(De){var Ye=Ie.posMatrix;0===et[0]&&0===et[1]||(Ye=g.translatePosMatrix(Ie.posMatrix,Ze,et,ct));var ti=xt?De.textCollisionBox:De.iconCollisionBox,_i=De.collisionCircleArray;if(_i.length>0){var Oi=n.create(),ki=Ye;n.mul(Oi,De.placementInvProjMatrix,g.transform.glCoordMatrix),n.mul(Oi,Oi,De.placementViewportMatrix),_e.push({circleArray:_i,circleOffset:Ce,transform:ki,invTransform:Oi}),Ce=we+=_i.length/4}ti&&ne.draw(Ot,Zt.LINES,Pt.disabled,jt.disabled,g.colorModeForRenderPass(),se.disabled,Mt(Ye,g.transform,Ze),_.id,ti.layoutVertexBuffer,ti.indexBuffer,ti.segments,null,g.transform.zoom,null,null,ti.collisionVertexBuffer)}}if(xt&&_e.length){var Ni=g.useProgram("collisionCircle"),Ki=new n.StructArrayLayout2f1f2i16;Ki.resize(4*we),Ki._trim();for(var fn=0,dn=0,Mn=_e;dn<Mn.length;dn+=1)for(var Wn=Mn[dn],qn=0;qn<Wn.circleArray.length/4;qn++){var Zn=4*qn,Xr=Wn.circleArray[Zn+0],Dn=Wn.circleArray[Zn+1],dr=Wn.circleArray[Zn+2],Tr=Wn.circleArray[Zn+3];Ki.emplace(fn++,Xr,Dn,dr,Tr,0),Ki.emplace(fn++,Xr,Dn,dr,Tr,1),Ki.emplace(fn++,Xr,Dn,dr,Tr,2),Ki.emplace(fn++,Xr,Dn,dr,Tr,3)}(!Do||Do.length<2*we)&&(Do=function(Bo){var ws=2*Bo,cs=new n.StructArrayLayout3ui6;cs.resize(ws),cs._trim();for(var Eo=0;Eo<ws;Eo++){var Uo=6*Eo;cs.uint16[Uo+0]=4*Eo+0,cs.uint16[Uo+1]=4*Eo+1,cs.uint16[Uo+2]=4*Eo+2,cs.uint16[Uo+3]=4*Eo+2,cs.uint16[Uo+4]=4*Eo+3,cs.uint16[Uo+5]=4*Eo+0}return cs}(we));for(var ur=Ot.createIndexBuffer(Do,!0),lr=Ot.createVertexBuffer(Ki,n.collisionCircleLayout.members,!0),wr=0,ar=_e;wr<ar.length;wr+=1){var ir=ar[wr],is=Gt(ir.transform,ir.invTransform,g.transform);Ni.draw(Ot,Zt.TRIANGLES,Pt.disabled,jt.disabled,g.colorModeForRenderPass(),se.disabled,is,_.id,lr,ur,n.SegmentVector.simpleSegment(0,2*ir.circleOffset,ir.circleArray.length,ir.circleArray.length/2),null,g.transform.zoom,null,null,null)}lr.destroy(),ur.destroy()}}var ls=n.identity(new Float32Array(16));function wa(g,w,_,j,et,ct){var xt=n.getAnchorAlignment(g),Ot=-(xt.horizontalAlign-.5)*w,Zt=-(xt.verticalAlign-.5)*_,ne=n.evaluateVariableOffset(g,j);return new n.Point((Ot/et+ne[0])*ct,(Zt/et+ne[1])*ct)}function ga(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e){var we=g.text.placedSymbolArray,Ce=g.text.dynamicLayoutVertexArray,Ne=g.icon.dynamicLayoutVertexArray,Ie={};Ce.clear();for(var Ze=0;Ze<we.length;Ze++){var De=we.get(Ze),Ye=De.hidden||!De.crossTileID||g.allowVerticalPlacement&&!De.placedOrientation?null:j[De.crossTileID];if(Ye){var ti=new n.Point(De.anchorX,De.anchorY),_i=In(ti,_?Ot:xt),Oi=Wi(ct.cameraToCenterDistance,_i.signedDistanceFromCamera),ki=et.evaluateSizeForFeature(g.textSizeData,ne,De)*Oi/n.ONE_EM;_&&(ki*=g.tilePixelRatio/Zt);for(var Ni=wa(Ye.anchor,Ye.width,Ye.height,Ye.textOffset,Ye.textBoxScale,ki),Ki=_?In(ti.add(Ni),xt).point:_i.point.add(w?Ni.rotate(-ct.angle):Ni),fn=g.allowVerticalPlacement&&De.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,dn=0;dn<De.numGlyphs;dn++)n.addDynamicAttributes(Ce,Ki,fn);_e&&De.associatedIconIndex>=0&&(Ie[De.associatedIconIndex]={shiftedAnchor:Ki,angle:fn})}else Sr(De.numGlyphs,Ce)}if(_e){Ne.clear();for(var Mn=g.icon.placedSymbolArray,Wn=0;Wn<Mn.length;Wn++){var qn=Mn.get(Wn);if(qn.hidden)Sr(qn.numGlyphs,Ne);else{var Zn=Ie[Wn];if(Zn)for(var Xr=0;Xr<qn.numGlyphs;Xr++)n.addDynamicAttributes(Ne,Zn.shiftedAnchor,Zn.angle);else Sr(qn.numGlyphs,Ne)}}g.icon.dynamicLayoutVertexBuffer.updateData(Ne)}g.text.dynamicLayoutVertexBuffer.updateData(Ce)}function Ae(g,w,_){return _.iconsInText&&w?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function Ke(g,w,_,j,et,ct,xt,Ot,Zt,ne,_e,we){for(var Ce=g.context,Ne=Ce.gl,Ie=g.transform,Ze="map"===Ot,De="map"===Zt,Ye=Ze&&"point"!==_.layout.get("symbol-placement"),ti=Ze&&!De&&!Ye,_i=void 0!==_.layout.get("symbol-sort-key").constantOr(1),Oi=!1,ki=g.depthModeForSublayer(0,Pt.ReadOnly),Ni=_.layout.get("text-variable-anchor"),Ki=[],fn=0,dn=j;fn<dn.length;fn+=1){var Mn=dn[fn],Wn=w.getTile(Mn),qn=Wn.getBucket(_);if(qn){var Zn=et?qn.text:qn.icon;if(Zn&&Zn.segments.get().length){var Xr=Zn.programConfigurations.get(_.id),Dn=et||qn.sdfIcons,dr=et?qn.textSizeData:qn.iconSizeData,Tr=De||0!==Ie.pitch,ur=g.useProgram(Ae(Dn,et,qn),Xr),lr=n.evaluateSizeForZoom(dr,Ie.zoom),wr=void 0,ar=[0,0],ir=void 0,is=void 0,Bo=null,ws=void 0;if(et)ir=Wn.glyphAtlasTexture,is=Ne.LINEAR,wr=Wn.glyphAtlasTexture.size,qn.iconsInText&&(ar=Wn.imageAtlasTexture.size,Bo=Wn.imageAtlasTexture,ws=Tr||g.options.rotating||g.options.zooming||"composite"===dr.kind||"camera"===dr.kind?Ne.LINEAR:Ne.NEAREST);else{var cs=1!==_.layout.get("icon-size").constantOr(0)||qn.iconsNeedLinear;ir=Wn.imageAtlasTexture,is=Dn||g.options.rotating||g.options.zooming||cs||Tr?Ne.LINEAR:Ne.NEAREST,wr=Wn.imageAtlasTexture.size}var Eo=br(Wn,1,g.transform.zoom),Uo=Kn(Mn.posMatrix,De,Ze,g.transform,Eo),Vs=Bn(Mn.posMatrix,De,Ze,g.transform,Eo),As=Ni&&qn.hasTextData(),ka="none"!==_.layout.get("icon-text-fit")&&As&&qn.hasIconData();Ye&&Or(qn,Mn.posMatrix,g,et,Uo,Vs,De,ne);var Ls=g.translatePosMatrix(Mn.posMatrix,Wn,ct,xt),aa=Ye||et&&Ni||ka?ls:Uo,ia=g.translatePosMatrix(Vs,Wn,ct,xt,!0),ul=Dn&&0!==_.paint.get(et?"text-halo-width":"icon-halo-width").constantOr(1),$a={program:ur,buffers:Zn,uniformValues:Dn?qn.iconsInText?Xs(dr.kind,lr,ti,De,g,Ls,aa,ia,wr,ar):Xo(dr.kind,lr,ti,De,g,Ls,aa,ia,et,wr,!0):Bs(dr.kind,lr,ti,De,g,Ls,aa,ia,et,wr),atlasTexture:ir,atlasTextureIcon:Bo,atlasInterpolation:is,atlasInterpolationIcon:ws,isSDF:Dn,hasHalo:ul};if(_i&&qn.canOverlap){Oi=!0;for(var Da=0,Qa=Zn.segments.get();Da<Qa.length;Da+=1){var cl=Qa[Da];Ki.push({segments:new n.SegmentVector([cl]),sortKey:cl.sortKey,state:$a})}}else Ki.push({segments:Zn.segments,sortKey:0,state:$a})}}}Oi&&Ki.sort(function(Ea,ja){return Ea.sortKey-ja.sortKey});for(var pa=0,dl=Ki;pa<dl.length;pa+=1){var fa=dl[pa],ns=fa.state;if(Ce.activeTexture.set(Ne.TEXTURE0),ns.atlasTexture.bind(ns.atlasInterpolation,Ne.CLAMP_TO_EDGE),ns.atlasTextureIcon&&(Ce.activeTexture.set(Ne.TEXTURE1),ns.atlasTextureIcon&&ns.atlasTextureIcon.bind(ns.atlasInterpolationIcon,Ne.CLAMP_TO_EDGE)),ns.isSDF){var va=ns.uniformValues;ns.hasHalo&&(va.u_is_halo=1,pi(ns.buffers,fa.segments,_,g,ns.program,ki,_e,we,va)),va.u_is_halo=0}pi(ns.buffers,fa.segments,_,g,ns.program,ki,_e,we,ns.uniformValues)}}function pi(g,w,_,j,et,ct,xt,Ot,Zt){var ne=j.context;et.draw(ne,ne.gl.TRIANGLES,ct,xt,Ot,se.disabled,Zt,_.id,g.layoutVertexBuffer,g.indexBuffer,w,_.paint,j.transform.zoom,g.programConfigurations.get(_.id),g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer)}function Zi(g,w,_,j,et,ct,xt){var Ot,Zt,ne,_e,we,Ce=g.context.gl,Ne=_.paint.get("fill-pattern"),Ie=Ne&&Ne.constantOr(1),Ze=_.getCrossfadeParameters();xt?(Zt=Ie&&!_.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ot=Ce.LINES):(Zt=Ie?"fillPattern":"fill",Ot=Ce.TRIANGLES);for(var De=0,Ye=j;De<Ye.length;De+=1){var ti=Ye[De],_i=w.getTile(ti);if(!Ie||_i.patternsLoaded()){var Oi=_i.getBucket(_);if(Oi){var ki=Oi.programConfigurations.get(_.id),Ni=g.useProgram(Zt,ki);Ie&&(g.context.activeTexture.set(Ce.TEXTURE0),_i.imageAtlasTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),ki.updatePaintBuffers(Ze));var Ki=Ne.constantOr(null);if(Ki&&_i.imageAtlas){var fn=_i.imageAtlas,dn=fn.patternPositions[Ki.to.toString()],Mn=fn.patternPositions[Ki.from.toString()];dn&&Mn&&ki.setConstantPatternPositions(dn,Mn)}var Wn=g.translatePosMatrix(ti.posMatrix,_i,_.paint.get("fill-translate"),_.paint.get("fill-translate-anchor"));if(xt){_e=Oi.indexBuffer2,we=Oi.segments2;var qn=[Ce.drawingBufferWidth,Ce.drawingBufferHeight];ne="fillOutlinePattern"===Zt&&Ie?H(Wn,g,Ze,_i,qn):y(Wn,qn)}else _e=Oi.indexBuffer,we=Oi.segments,ne=Ie?Ws(Wn,g,Ze,_i):as(Wn);Ni.draw(g.context,Ot,et,g.stencilModeForClipping(ti),ct,se.disabled,ne,_.id,Oi.layoutVertexBuffer,_e,we,_.paint,g.transform.zoom,ki)}}}}function Ti(g,w,_,j,et,ct,xt){for(var Ot=g.context,Zt=Ot.gl,ne=_.paint.get("fill-extrusion-pattern"),_e=ne.constantOr(1),we=_.getCrossfadeParameters(),Ce=_.paint.get("fill-extrusion-opacity"),Ne=0,Ie=j;Ne<Ie.length;Ne+=1){var Ze=Ie[Ne],De=w.getTile(Ze),Ye=De.getBucket(_);if(Ye){var ti=Ye.programConfigurations.get(_.id),_i=g.useProgram(_e?"fillExtrusionPattern":"fillExtrusion",ti);_e&&(g.context.activeTexture.set(Zt.TEXTURE0),De.imageAtlasTexture.bind(Zt.LINEAR,Zt.CLAMP_TO_EDGE),ti.updatePaintBuffers(we));var Oi=ne.constantOr(null);if(Oi&&De.imageAtlas){var ki=De.imageAtlas,Ni=ki.patternPositions[Oi.to.toString()],Ki=ki.patternPositions[Oi.from.toString()];Ni&&Ki&&ti.setConstantPatternPositions(Ni,Ki)}var fn=g.translatePosMatrix(Ze.posMatrix,De,_.paint.get("fill-extrusion-translate"),_.paint.get("fill-extrusion-translate-anchor")),dn=_.paint.get("fill-extrusion-vertical-gradient"),Mn=_e?vs(fn,g,dn,Ce,Ze,we,De):Rs(fn,g,dn,Ce);_i.draw(Ot,Ot.gl.TRIANGLES,et,ct,xt,se.backCCW,Mn,_.id,Ye.layoutVertexBuffer,Ye.indexBuffer,Ye.segments,_.paint,g.transform.zoom,ti)}}}function en(g,w,_,j,et,ct){var xt=g.context,Ot=xt.gl,Zt=w.fbo;if(Zt){var ne=g.useProgram("hillshade");xt.activeTexture.set(Ot.TEXTURE0),Ot.bindTexture(Ot.TEXTURE_2D,Zt.colorAttachment.get());var _e=function(we,Ce,Ne){var Ie=Ne.paint.get("hillshade-shadow-color"),Ze=Ne.paint.get("hillshade-highlight-color"),De=Ne.paint.get("hillshade-accent-color"),Ye=Ne.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Ne.paint.get("hillshade-illumination-anchor")&&(Ye-=we.transform.angle);var ti,_i,Oi,ki=!we.options.moving;return{u_matrix:we.transform.calculatePosMatrix(Ce.tileID.toUnwrapped(),ki),u_image:0,u_latrange:(ti=Ce.tileID,_i=Math.pow(2,ti.canonical.z),Oi=ti.canonical.y,[new n.MercatorCoordinate(0,Oi/_i).toLngLat().lat,new n.MercatorCoordinate(0,(Oi+1)/_i).toLngLat().lat]),u_light:[Ne.paint.get("hillshade-exaggeration"),Ye],u_shadow:Ie,u_highlight:Ze,u_accent:De}}(g,w,_);ne.draw(xt,Ot.TRIANGLES,j,et,ct,se.disabled,_e,_.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}}function mn(g,w,_,j,et,ct){var Ze,De,Ye,ti,xt=g.context,Ot=xt.gl,Zt=w.dem;if(Zt&&Zt.data){var ne=Zt.dim,_e=Zt.stride,we=Zt.getPixels();if(xt.activeTexture.set(Ot.TEXTURE1),xt.pixelStoreUnpackPremultiplyAlpha.set(!1),w.demTexture=w.demTexture||g.getTileTexture(_e),w.demTexture){var Ce=w.demTexture;Ce.update(we,{premultiply:!1}),Ce.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE)}else w.demTexture=new n.Texture(xt,we,Ot.RGBA,{premultiply:!1}),w.demTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE);xt.activeTexture.set(Ot.TEXTURE0);var Ne=w.fbo;if(!Ne){var Ie=new n.Texture(xt,{width:ne,height:ne,data:null},Ot.RGBA);Ie.bind(Ot.LINEAR,Ot.CLAMP_TO_EDGE),(Ne=w.fbo=xt.createFramebuffer(ne,ne,!0)).colorAttachment.set(Ie.texture)}xt.bindFramebuffer.set(Ne.framebuffer),xt.viewport.set([0,0,ne,ne]),g.useProgram("hillshadePrepare").draw(xt,Ot.TRIANGLES,j,et,ct,se.disabled,(Ze=w.tileID,Ye=(De=Zt).stride,ti=n.create(),n.ortho(ti,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(ti,ti,[0,-n.EXTENT,0]),{u_matrix:ti,u_image:1,u_dimension:[Ye,Ye],u_zoom:Ze.overscaledZ,u_unpack:De.getUnpackVector()}),_.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments),w.needsHillshadePrepare=!1}}function bn(g,w,_,j,et){var ct=j.paint.get("raster-fade-duration");if(ct>0){var xt=n.browser.now(),Ot=(xt-g.timeAdded)/ct,Zt=w?(xt-w.timeAdded)/ct:-1,ne=_.getSource(),_e=et.coveringZoomLevel({tileSize:ne.tileSize,roundZoom:ne.roundZoom}),we=!w||Math.abs(w.tileID.overscaledZ-_e)>Math.abs(g.tileID.overscaledZ-_e),Ce=we&&g.refreshedUponExpiration?1:n.clamp(we?Ot:1-Zt,0,1);return g.refreshedUponExpiration&&Ot>=1&&(g.refreshedUponExpiration=!1),w?{opacity:1,mix:1-Ce}:{opacity:Ce,mix:0}}return{opacity:1,mix:0}}var En=new n.Color(1,0,0,1),vr=new n.Color(0,1,0,1),pr=new n.Color(0,0,1,1),or=new n.Color(1,0,1,1),oe=new n.Color(0,1,1,1);function ft(g,w,_,j){Se(g,0,w+_/2,g.transform.width,_,j)}function zt(g,w,_,j){Se(g,w-_/2,0,_,g.transform.height,j)}function Se(g,w,_,j,et,ct){var xt=g.context,Ot=xt.gl;Ot.enable(Ot.SCISSOR_TEST),Ot.scissor(w*n.browser.devicePixelRatio,_*n.browser.devicePixelRatio,j*n.browser.devicePixelRatio,et*n.browser.devicePixelRatio),xt.clear({color:ct}),Ot.disable(Ot.SCISSOR_TEST)}function oi(g,w,_){var j=g.context,et=j.gl,ct=_.posMatrix,xt=g.useProgram("debug"),Ot=Pt.disabled,Zt=jt.disabled,ne=g.colorModeForRenderPass();j.activeTexture.set(et.TEXTURE0),g.emptyTexture.bind(et.LINEAR,et.CLAMP_TO_EDGE),xt.draw(j,et.LINE_STRIP,Ot,Zt,ne,se.disabled,be(ct,n.Color.red),"$debug",g.debugBuffer,g.tileBorderIndexBuffer,g.debugSegments);var _e=w.getTileByID(_.key).latestRawTileData,we=Math.floor((_e&&_e.byteLength||0)/1024),Ce=w.getTile(_).tileSize,Ne=512/Math.min(Ce,512)*(_.overscaledZ/g.transform.zoom)*.5,Ie=_.canonical.toString();_.overscaledZ!==_.canonical.z&&(Ie+=" => "+_.overscaledZ),function(Ze,De){Ze.initDebugOverlayCanvas();var Ye=Ze.debugOverlayCanvas,ti=Ze.context.gl,_i=Ze.debugOverlayCanvas.getContext("2d");_i.clearRect(0,0,Ye.width,Ye.height),_i.shadowColor="white",_i.shadowBlur=2,_i.lineWidth=1.5,_i.strokeStyle="white",_i.textBaseline="top",_i.font="bold 36px Open Sans, sans-serif",_i.fillText(De,5,5),_i.strokeText(De,5,5),Ze.debugOverlayTexture.update(Ye),Ze.debugOverlayTexture.bind(ti.LINEAR,ti.CLAMP_TO_EDGE)}(g,Ie+" "+we+"kb"),xt.draw(j,et.TRIANGLES,Ot,Zt,Kt.alphaBlended,se.disabled,be(ct,n.Color.transparent,Ne),"$debug",g.debugBuffer,g.quadTriangleIndexBuffer,g.debugSegments)}var li={symbol:function(g,w,_,j,et){if("translucent"===g.renderPass){var ct=jt.disabled,xt=g.colorModeForRenderPass();_.layout.get("text-variable-anchor")&&function(Ot,Zt,ne,_e,we,Ce,Ne){for(var Ie=Zt.transform,Ze="map"===we,De="map"===Ce,Ye=0,ti=Ot;Ye<ti.length;Ye+=1){var _i=ti[Ye],Oi=_e.getTile(_i),ki=Oi.getBucket(ne);if(ki&&ki.text&&ki.text.segments.get().length){var Ni=n.evaluateSizeForZoom(ki.textSizeData,Ie.zoom),Ki=br(Oi,1,Zt.transform.zoom),fn=Kn(_i.posMatrix,De,Ze,Zt.transform,Ki),dn="none"!==ne.layout.get("icon-text-fit")&&ki.hasIconData();if(Ni){var Mn=Math.pow(2,Ie.zoom-Oi.tileID.overscaledZ);ga(ki,Ze,De,Ne,n.symbolSize,Ie,fn,_i.posMatrix,Mn,Ni,dn)}}}}(j,g,_,w,_.layout.get("text-rotation-alignment"),_.layout.get("text-pitch-alignment"),et),0!==_.paint.get("icon-opacity").constantOr(1)&&Ke(g,w,_,j,!1,_.paint.get("icon-translate"),_.paint.get("icon-translate-anchor"),_.layout.get("icon-rotation-alignment"),_.layout.get("icon-pitch-alignment"),_.layout.get("icon-keep-upright"),ct,xt),0!==_.paint.get("text-opacity").constantOr(1)&&Ke(g,w,_,j,!0,_.paint.get("text-translate"),_.paint.get("text-translate-anchor"),_.layout.get("text-rotation-alignment"),_.layout.get("text-pitch-alignment"),_.layout.get("text-keep-upright"),ct,xt),w.map.showCollisionBoxes&&(Qs(g,w,_,j,_.paint.get("text-translate"),_.paint.get("text-translate-anchor"),!0),Qs(g,w,_,j,_.paint.get("icon-translate"),_.paint.get("icon-translate-anchor"),!1))}},circle:function(g,w,_,j){if("translucent"===g.renderPass){var et=_.paint.get("circle-opacity"),ct=_.paint.get("circle-stroke-width"),xt=_.paint.get("circle-stroke-opacity"),Ot=void 0!==_.layout.get("circle-sort-key").constantOr(1);if(0!==et.constantOr(1)||0!==ct.constantOr(1)&&0!==xt.constantOr(1)){for(var Zt=g.context,ne=Zt.gl,_e=g.depthModeForSublayer(0,Pt.ReadOnly),we=jt.disabled,Ce=g.colorModeForRenderPass(),Ne=[],Ie=0;Ie<j.length;Ie++){var Ze=j[Ie],De=w.getTile(Ze),Ye=De.getBucket(_);if(Ye){var ti=Ye.programConfigurations.get(_.id),_i={programConfiguration:ti,program:g.useProgram("circle",ti),layoutVertexBuffer:Ye.layoutVertexBuffer,indexBuffer:Ye.indexBuffer,uniformValues:at(g,Ze,De,_)};if(Ot)for(var Oi=0,ki=Ye.segments.get();Oi<ki.length;Oi+=1){var Ni=ki[Oi];Ne.push({segments:new n.SegmentVector([Ni]),sortKey:Ni.sortKey,state:_i})}else Ne.push({segments:Ye.segments,sortKey:0,state:_i})}}Ot&&Ne.sort(function(Wn,qn){return Wn.sortKey-qn.sortKey});for(var Ki=0,fn=Ne;Ki<fn.length;Ki+=1){var dn=fn[Ki],Mn=dn.state;Mn.program.draw(Zt,ne.TRIANGLES,_e,we,Ce,se.disabled,Mn.uniformValues,_.id,Mn.layoutVertexBuffer,Mn.indexBuffer,dn.segments,_.paint,g.transform.zoom,Mn.programConfiguration)}}}},heatmap:function(g,w,_,j){if(0!==_.paint.get("heatmap-opacity"))if("offscreen"===g.renderPass){var et=g.context,ct=et.gl,xt=jt.disabled,Ot=new Kt([ct.ONE,ct.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(Ne,Ie,Ze){var De=Ne.gl;Ne.activeTexture.set(De.TEXTURE1),Ne.viewport.set([0,0,Ie.width/4,Ie.height/4]);var _i,Oi,ki,Ni,Ki,Ye=Ze.heatmapFbo;if(Ye)De.bindTexture(De.TEXTURE_2D,Ye.colorAttachment.get()),Ne.bindFramebuffer.set(Ye.framebuffer);else{var ti=De.createTexture();De.bindTexture(De.TEXTURE_2D,ti),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,De.CLAMP_TO_EDGE),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,De.CLAMP_TO_EDGE),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,De.LINEAR),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,De.LINEAR),ki=ti,Ni=Ye=Ze.heatmapFbo=Ne.createFramebuffer(Ie.width/4,Ie.height/4,!1),(Ki=(_i=Ne).gl).texImage2D(Ki.TEXTURE_2D,0,Ki.RGBA,(Oi=Ie).width/4,Oi.height/4,0,Ki.RGBA,_i.extRenderToTextureHalfFloat?_i.extTextureHalfFloat.HALF_FLOAT_OES:Ki.UNSIGNED_BYTE,null),Ni.colorAttachment.set(ki)}})(et,g,_),et.clear({color:n.Color.transparent});for(var Zt=0;Zt<j.length;Zt++){var ne=j[Zt];if(!w.hasRenderableParent(ne)){var _e=w.getTile(ne),we=_e.getBucket(_);if(we){var Ce=we.programConfigurations.get(_.id);g.useProgram("heatmap",Ce).draw(et,ct.TRIANGLES,Pt.disabled,xt,Ot,se.disabled,ni(ne.posMatrix,_e,g.transform.zoom,_.paint.get("heatmap-intensity")),_.id,we.layoutVertexBuffer,we.indexBuffer,we.segments,_.paint,g.transform.zoom,Ce)}}}et.viewport.set([0,0,g.width,g.height])}else"translucent"===g.renderPass&&(g.context.setColorMode(g.colorModeForRenderPass()),function(Ne,Ie){var Ze=Ne.context,De=Ze.gl,Ye=Ie.heatmapFbo;if(Ye){Ze.activeTexture.set(De.TEXTURE0),De.bindTexture(De.TEXTURE_2D,Ye.colorAttachment.get()),Ze.activeTexture.set(De.TEXTURE1);var ti=Ie.colorRampTexture;ti||(ti=Ie.colorRampTexture=new n.Texture(Ze,Ie.colorRamp,De.RGBA)),ti.bind(De.LINEAR,De.CLAMP_TO_EDGE),Ne.useProgram("heatmapTexture").draw(Ze,De.TRIANGLES,Pt.disabled,jt.disabled,Ne.colorModeForRenderPass(),se.disabled,function(_i,Oi,ki,Ni){var Ki=n.create();n.ortho(Ki,0,_i.width,_i.height,0,0,1);var fn=_i.context.gl;return{u_matrix:Ki,u_world:[fn.drawingBufferWidth,fn.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Oi.paint.get("heatmap-opacity")}}(Ne,Ie),Ie.id,Ne.viewportBuffer,Ne.quadTriangleIndexBuffer,Ne.viewportSegments,Ie.paint,Ne.transform.zoom)}}(g,_))},line:function(g,w,_,j){if("translucent"===g.renderPass){var et=_.paint.get("line-opacity"),ct=_.paint.get("line-width");if(0!==et.constantOr(1)&&0!==ct.constantOr(1))for(var xt=g.depthModeForSublayer(0,Pt.ReadOnly),Ot=g.colorModeForRenderPass(),Zt=_.paint.get("line-dasharray"),ne=_.paint.get("line-pattern"),_e=ne.constantOr(1),we=_.paint.get("line-gradient"),Ce=_.getCrossfadeParameters(),Ne=_e?"linePattern":Zt?"lineSDF":we?"lineGradient":"line",Ie=g.context,Ze=Ie.gl,De=!0,Ye=0,ti=j;Ye<ti.length;Ye+=1){var _i=ti[Ye],Oi=w.getTile(_i);if(!_e||Oi.patternsLoaded()){var ki=Oi.getBucket(_);if(ki){var Ni=ki.programConfigurations.get(_.id),Ki=g.context.program.get(),fn=g.useProgram(Ne,Ni),dn=De||fn.program!==Ki,Mn=ne.constantOr(null);if(Mn&&Oi.imageAtlas){var Wn=Oi.imageAtlas,qn=Wn.patternPositions[Mn.to.toString()],Zn=Wn.patternPositions[Mn.from.toString()];qn&&Zn&&Ni.setConstantPatternPositions(qn,Zn)}var Xr=_e?zn(g,Oi,_,Ce):Zt?cr(g,Oi,_,Zt,Ce):we?zi(g,Oi,_,ki.lineClipsArray.length):Xi(g,Oi,_);if(_e)Ie.activeTexture.set(Ze.TEXTURE0),Oi.imageAtlasTexture.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE),Ni.updatePaintBuffers(Ce);else if(Zt&&(dn||g.lineAtlas.dirty))Ie.activeTexture.set(Ze.TEXTURE0),g.lineAtlas.bind(Ie);else if(we){var Dn=ki.gradients[_.id],dr=Dn.texture;if(_.gradientVersion!==Dn.version){var Tr=256;if(_.stepInterpolant){var ur=w.getSource().maxzoom,lr=_i.canonical.z===ur?Math.ceil(1<<g.transform.maxZoom-_i.canonical.z):1;Tr=n.clamp(n.nextPowerOfTwo(ki.maxLineLength/n.EXTENT*1024*lr),256,Ie.maxTextureSize)}Dn.gradient=n.renderColorRamp({expression:_.gradientExpression(),evaluationKey:"lineProgress",resolution:Tr,image:Dn.gradient||void 0,clips:ki.lineClipsArray}),Dn.texture?Dn.texture.update(Dn.gradient):Dn.texture=new n.Texture(Ie,Dn.gradient,Ze.RGBA),Dn.version=_.gradientVersion,dr=Dn.texture}Ie.activeTexture.set(Ze.TEXTURE0),dr.bind(_.stepInterpolant?Ze.NEAREST:Ze.LINEAR,Ze.CLAMP_TO_EDGE)}fn.draw(Ie,Ze.TRIANGLES,xt,g.stencilModeForClipping(_i),Ot,se.disabled,Xr,_.id,ki.layoutVertexBuffer,ki.indexBuffer,ki.segments,_.paint,g.transform.zoom,Ni,ki.layoutVertexBuffer2),De=!1}}}}},fill:function(g,w,_,j){var et=_.paint.get("fill-color"),ct=_.paint.get("fill-opacity");if(0!==ct.constantOr(1)){var xt=g.colorModeForRenderPass(),Ot=_.paint.get("fill-pattern"),Zt=g.opaquePassEnabledForLayer()&&!Ot.constantOr(1)&&1===et.constantOr(n.Color.transparent).a&&1===ct.constantOr(0)?"opaque":"translucent";if(g.renderPass===Zt){var ne=g.depthModeForSublayer(1,"opaque"===g.renderPass?Pt.ReadWrite:Pt.ReadOnly);Zi(g,w,_,j,ne,xt,!1)}if("translucent"===g.renderPass&&_.paint.get("fill-antialias")){var _e=g.depthModeForSublayer(_.getPaintProperty("fill-outline-color")?2:0,Pt.ReadOnly);Zi(g,w,_,j,_e,xt,!0)}}},"fill-extrusion":function(g,w,_,j){var et=_.paint.get("fill-extrusion-opacity");if(0!==et&&"translucent"===g.renderPass){var ct=new Pt(g.context.gl.LEQUAL,Pt.ReadWrite,g.depthRangeFor3D);if(1!==et||_.paint.get("fill-extrusion-pattern").constantOr(1))Ti(g,w,_,j,ct,jt.disabled,Kt.disabled),Ti(g,w,_,j,ct,g.stencilModeFor3D(),g.colorModeForRenderPass());else{var xt=g.colorModeForRenderPass();Ti(g,w,_,j,ct,jt.disabled,xt)}}},hillshade:function(g,w,_,j){if("offscreen"===g.renderPass||"translucent"===g.renderPass){for(var et=g.context,ct=g.depthModeForSublayer(0,Pt.ReadOnly),xt=g.colorModeForRenderPass(),Ot="translucent"===g.renderPass?g.stencilConfigForOverlap(j):[{},j],Zt=Ot[0],ne=0,_e=Ot[1];ne<_e.length;ne+=1){var we=_e[ne],Ce=w.getTile(we);Ce.needsHillshadePrepare&&"offscreen"===g.renderPass?mn(g,Ce,_,ct,jt.disabled,xt):"translucent"===g.renderPass&&en(g,Ce,_,ct,Zt[we.overscaledZ],xt)}et.viewport.set([0,0,g.width,g.height])}},raster:function(g,w,_,j){if("translucent"===g.renderPass&&0!==_.paint.get("raster-opacity")&&j.length)for(var et=g.context,ct=et.gl,xt=w.getSource(),Ot=g.useProgram("raster"),Zt=g.colorModeForRenderPass(),ne=xt instanceof ae?[{},j]:g.stencilConfigForOverlap(j),_e=ne[0],we=ne[1],Ce=we[we.length-1].overscaledZ,Ne=!g.options.moving,Ie=0,Ze=we;Ie<Ze.length;Ie+=1){var De=Ze[Ie],Ye=g.depthModeForSublayer(De.overscaledZ-Ce,1===_.paint.get("raster-opacity")?Pt.ReadWrite:Pt.ReadOnly,ct.LESS),ti=w.getTile(De),_i=g.transform.calculatePosMatrix(De.toUnwrapped(),Ne);ti.registerFadeDuration(_.paint.get("raster-fade-duration"));var Oi=w.findLoadedParent(De,0),ki=bn(ti,Oi,w,_,g.transform),Ni=void 0,Ki=void 0,fn="nearest"===_.paint.get("raster-resampling")?ct.NEAREST:ct.LINEAR;et.activeTexture.set(ct.TEXTURE0),ti.texture.bind(fn,ct.CLAMP_TO_EDGE,ct.LINEAR_MIPMAP_NEAREST),et.activeTexture.set(ct.TEXTURE1),Oi?(Oi.texture.bind(fn,ct.CLAMP_TO_EDGE,ct.LINEAR_MIPMAP_NEAREST),Ni=Math.pow(2,Oi.tileID.overscaledZ-ti.tileID.overscaledZ),Ki=[ti.tileID.canonical.x*Ni%1,ti.tileID.canonical.y*Ni%1]):ti.texture.bind(fn,ct.CLAMP_TO_EDGE,ct.LINEAR_MIPMAP_NEAREST);var dn=_s(_i,Ki||[0,0],Ni||1,ki,_);xt instanceof ae?Ot.draw(et,ct.TRIANGLES,Ye,jt.disabled,Zt,se.disabled,dn,_.id,xt.boundsBuffer,g.quadTriangleIndexBuffer,xt.boundsSegments):Ot.draw(et,ct.TRIANGLES,Ye,_e[De.overscaledZ],Zt,se.disabled,dn,_.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}},background:function(g,w,_){var j=_.paint.get("background-color"),et=_.paint.get("background-opacity");if(0!==et){var ct=g.context,xt=ct.gl,Ot=g.transform,Zt=Ot.tileSize,ne=_.paint.get("background-pattern");if(!g.isPatternMissing(ne)){var _e=!ne&&1===j.a&&1===et&&g.opaquePassEnabledForLayer()?"opaque":"translucent";if(g.renderPass===_e){var we=jt.disabled,Ce=g.depthModeForSublayer(0,"opaque"===_e?Pt.ReadWrite:Pt.ReadOnly),Ne=g.colorModeForRenderPass(),Ie=g.useProgram(ne?"backgroundPattern":"background"),Ze=Ot.coveringTiles({tileSize:Zt});ne&&(ct.activeTexture.set(xt.TEXTURE0),g.imageManager.bind(g.context));for(var De=_.getCrossfadeParameters(),Ye=0,ti=Ze;Ye<ti.length;Ye+=1){var _i=ti[Ye],Oi=g.transform.calculatePosMatrix(_i.toUnwrapped()),ki=ne?ms(Oi,et,g,ne,{tileID:_i,tileSize:Zt},De):co(Oi,et,j);Ie.draw(ct,xt.TRIANGLES,Ce,we,Ne,se.disabled,ki,_.id,g.tileExtentBuffer,g.quadTriangleIndexBuffer,g.tileExtentSegments)}}}}},debug:function(g,w,_){for(var j=0;j<_.length;j++)oi(g,w,_[j])},custom:function(g,w,_){var j=g.context,et=_.implementation;if("offscreen"===g.renderPass){var ct=et.prerender;ct&&(g.setCustomLayerDefaults(),j.setColorMode(g.colorModeForRenderPass()),ct.call(et,j.gl,g.transform.customLayerMatrix()),j.setDirty(),g.setBaseState())}else if("translucent"===g.renderPass){g.setCustomLayerDefaults(),j.setColorMode(g.colorModeForRenderPass()),j.setStencilMode(jt.disabled);var xt="3d"===et.renderingMode?new Pt(g.context.gl.LEQUAL,Pt.ReadWrite,g.depthRangeFor3D):g.depthModeForSublayer(0,Pt.ReadOnly);j.setDepthMode(xt),et.render(j.gl,g.transform.customLayerMatrix()),j.setDirty(),g.setBaseState(),j.bindFramebuffer.set(null)}}},gi=function(g,w){this.context=new ie(g),this.transform=w,this._tileTextures={},this.setup(),this.numSublayers=fe.maxUnderzooming+fe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new xe,this.gpuTimers={}};gi.prototype.resize=function(g,w){if(this.width=g*n.browser.devicePixelRatio,this.height=w*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var _=0,j=this.style._order;_<j.length;_+=1)this.style._layers[j[_]].resize()},gi.prototype.setup=function(){var g=this.context,w=new n.StructArrayLayout2i4;w.emplaceBack(0,0),w.emplaceBack(n.EXTENT,0),w.emplaceBack(0,n.EXTENT),w.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=g.createVertexBuffer(w,on.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var _=new n.StructArrayLayout2i4;_.emplaceBack(0,0),_.emplaceBack(n.EXTENT,0),_.emplaceBack(0,n.EXTENT),_.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=g.createVertexBuffer(_,on.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var j=new n.StructArrayLayout4i8;j.emplaceBack(0,0,0,0),j.emplaceBack(n.EXTENT,0,n.EXTENT,0),j.emplaceBack(0,n.EXTENT,0,n.EXTENT),j.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=g.createVertexBuffer(j,qt.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var et=new n.StructArrayLayout2i4;et.emplaceBack(0,0),et.emplaceBack(1,0),et.emplaceBack(0,1),et.emplaceBack(1,1),this.viewportBuffer=g.createVertexBuffer(et,on.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var ct=new n.StructArrayLayout1ui2;ct.emplaceBack(0),ct.emplaceBack(1),ct.emplaceBack(3),ct.emplaceBack(2),ct.emplaceBack(0),this.tileBorderIndexBuffer=g.createIndexBuffer(ct);var xt=new n.StructArrayLayout3ui6;xt.emplaceBack(0,1,2),xt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=g.createIndexBuffer(xt),this.emptyTexture=new n.Texture(g,{width:1,height:1,data:new Uint8Array([0,0,0,0])},g.gl.RGBA);var Ot=this.context.gl;this.stencilClearMode=new jt({func:Ot.ALWAYS,mask:0},0,255,Ot.ZERO,Ot.ZERO,Ot.ZERO)},gi.prototype.clearStencil=function(){var g=this.context,w=g.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var _=n.create();n.ortho(_,0,this.width,this.height,0,0,1),n.scale(_,_,[w.drawingBufferWidth,w.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(g,w.TRIANGLES,Pt.disabled,this.stencilClearMode,Kt.disabled,se.disabled,ri(_),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},gi.prototype._renderTileClippingMasks=function(g,w){if(this.currentStencilSource!==g.source&&g.isTileClipped()&&w&&w.length){this.currentStencilSource=g.source;var _=this.context,j=_.gl;this.nextStencilID+w.length>256&&this.clearStencil(),_.setColorMode(Kt.disabled),_.setDepthMode(Pt.disabled);var et=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var ct=0,xt=w;ct<xt.length;ct+=1){var Ot=xt[ct],Zt=this._tileClippingMaskIDs[Ot.key]=this.nextStencilID++;et.draw(_,j.TRIANGLES,Pt.disabled,new jt({func:j.ALWAYS,mask:0},Zt,255,j.KEEP,j.KEEP,j.REPLACE),Kt.disabled,se.disabled,ri(Ot.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},gi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var g=this.nextStencilID++,w=this.context.gl;return new jt({func:w.NOTEQUAL,mask:255},g,255,w.KEEP,w.KEEP,w.REPLACE)},gi.prototype.stencilModeForClipping=function(g){var w=this.context.gl;return new jt({func:w.EQUAL,mask:255},this._tileClippingMaskIDs[g.key],0,w.KEEP,w.KEEP,w.REPLACE)},gi.prototype.stencilConfigForOverlap=function(g){var w,_=this.context.gl,j=g.sort(function(Zt,ne){return ne.overscaledZ-Zt.overscaledZ}),et=j[j.length-1].overscaledZ,ct=j[0].overscaledZ-et+1;if(ct>1){this.currentStencilSource=void 0,this.nextStencilID+ct>256&&this.clearStencil();for(var xt={},Ot=0;Ot<ct;Ot++)xt[Ot+et]=new jt({func:_.GEQUAL,mask:255},Ot+this.nextStencilID,255,_.KEEP,_.KEEP,_.REPLACE);return this.nextStencilID+=ct,[xt,j]}return[(w={},w[et]=jt.disabled,w),j]},gi.prototype.colorModeForRenderPass=function(){var g=this.context.gl;return this._showOverdrawInspector?new Kt([g.CONSTANT_COLOR,g.ONE],new n.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Kt.unblended:Kt.alphaBlended},gi.prototype.depthModeForSublayer=function(g,w,_){if(!this.opaquePassEnabledForLayer())return Pt.disabled;var j=1-((1+this.currentLayer)*this.numSublayers+g)*this.depthEpsilon;return new Pt(_||this.context.gl.LEQUAL,w,[j,j])},gi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},gi.prototype.render=function(g,w){var _=this;this.style=g,this.options=w,this.lineAtlas=g.lineAtlas,this.imageManager=g.imageManager,this.glyphManager=g.glyphManager,this.symbolFadeChange=g.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var j=this.style._order,et=this.style.sourceCaches;for(var ct in et){var xt=et[ct];xt.used&&xt.prepare(this.context)}var Ot,Zt,ne={},_e={},we={};for(var Ce in et){var Ne=et[Ce];ne[Ce]=Ne.getVisibleCoordinates(),_e[Ce]=ne[Ce].slice().reverse(),we[Ce]=Ne.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Ie=0;Ie<j.length;Ie++)if(this.style._layers[j[Ie]].is3D()){this.opaquePassCutoff=Ie;break}this.renderPass="offscreen";for(var Ze=0,De=j;Ze<De.length;Ze+=1){var Ye=this.style._layers[De[Ze]];if(Ye.hasOffscreenPass()&&!Ye.isHidden(this.transform.zoom)){var ti=_e[Ye.source];("custom"===Ye.type||ti.length)&&this.renderLayer(this,et[Ye.source],Ye,ti)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:w.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=w.showOverdrawInspector,this.depthRangeFor3D=[0,1-(g._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=j.length-1;this.currentLayer>=0;this.currentLayer--){var _i=this.style._layers[j[this.currentLayer]],Oi=et[_i.source],ki=ne[_i.source];this._renderTileClippingMasks(_i,ki),this.renderLayer(this,Oi,_i,ki)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<j.length;this.currentLayer++){var Ni=this.style._layers[j[this.currentLayer]],Ki=et[Ni.source],fn=("symbol"===Ni.type?we:_e)[Ni.source];this._renderTileClippingMasks(Ni,ne[Ni.source]),this.renderLayer(this,Ki,Ni,fn)}this.options.showTileBoundaries&&(n.values(this.style._layers).forEach(function(dn){dn.source&&!dn.isHidden(_.transform.zoom)&&(dn.source!==(Zt&&Zt.id)&&(Zt=_.style.sourceCaches[dn.source]),(!Ot||Ot.getSource().maxzoom<Zt.getSource().maxzoom)&&(Ot=Zt))}),Ot&&li.debug(this,Ot,Ot.getVisibleCoordinates())),this.options.showPadding&&function(dn){var Mn=dn.transform.padding;ft(dn,dn.transform.height-(Mn.top||0),3,En),ft(dn,Mn.bottom||0,3,vr),zt(dn,Mn.left||0,3,pr),zt(dn,dn.transform.width-(Mn.right||0),3,or);var qn,Zn,Xr,Dn,Wn=dn.transform.centerPoint;Se(qn=dn,(Zn=Wn.x)-1,(Xr=dn.transform.height-Wn.y)-10,2,20,Dn=oe),Se(qn,Zn-10,Xr-1,20,2,Dn)}(this),this.context.setDefault()},gi.prototype.renderLayer=function(g,w,_,j){_.isHidden(this.transform.zoom)||("background"===_.type||"custom"===_.type||j.length)&&(this.id=_.id,this.gpuTimingStart(_),li[_.type](g,w,_,j,this.style.placement.variableOffsets),this.gpuTimingEnd())},gi.prototype.gpuTimingStart=function(g){if(this.options.gpuTiming){var w=this.context.extTimerQuery,_=this.gpuTimers[g.id];_||(_=this.gpuTimers[g.id]={calls:0,cpuTime:0,query:w.createQueryEXT()}),_.calls++,w.beginQueryEXT(w.TIME_ELAPSED_EXT,_.query)}},gi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var g=this.context.extTimerQuery;g.endQueryEXT(g.TIME_ELAPSED_EXT)}},gi.prototype.collectGpuTimers=function(){var g=this.gpuTimers;return this.gpuTimers={},g},gi.prototype.queryGpuTimers=function(g){var w={};for(var _ in g){var j=g[_],et=this.context.extTimerQuery,ct=et.getQueryObjectEXT(j.query,et.QUERY_RESULT_EXT)/1e6;et.deleteQueryEXT(j.query),w[_]=ct}return w},gi.prototype.translatePosMatrix=function(g,w,_,j,et){if(!_[0]&&!_[1])return g;var ct=et?"map"===j?this.transform.angle:0:"viewport"===j?-this.transform.angle:0;if(ct){var xt=Math.sin(ct),Ot=Math.cos(ct);_=[_[0]*Ot-_[1]*xt,_[0]*xt+_[1]*Ot]}var Zt=[et?_[0]:br(w,_[0],this.transform.zoom),et?_[1]:br(w,_[1],this.transform.zoom),0],ne=new Float32Array(16);return n.translate(ne,g,Zt),ne},gi.prototype.saveTileTexture=function(g){var w=this._tileTextures[g.size[0]];w?w.push(g):this._tileTextures[g.size[0]]=[g]},gi.prototype.getTileTexture=function(g){var w=this._tileTextures[g];return w&&w.length>0?w.pop():null},gi.prototype.isPatternMissing=function(g){if(!g)return!1;if(!g.from||!g.to)return!0;var w=this.imageManager.getPattern(g.from.toString()),_=this.imageManager.getPattern(g.to.toString());return!w||!_},gi.prototype.useProgram=function(g,w){this.cache=this.cache||{};var _=""+g+(w?w.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[_]||(this.cache[_]=new Ds(this.context,g,Gs[g],w,Cs[g],this._showOverdrawInspector)),this.cache[_]},gi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},gi.prototype.setBaseState=function(){var g=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(g.FUNC_ADD)},gi.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},gi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var qi=function(g,w){this.points=g,this.planes=w};qi.fromInvProjectionMatrix=function(g,w,_){var j=Math.pow(2,_),et=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(xt){return n.transformMat4([],xt,g)}).map(function(xt){return n.scale$1([],xt,1/xt[3]/w*j)}),ct=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(xt){var Ot=n.sub([],et[xt[0]],et[xt[1]]),Zt=n.sub([],et[xt[2]],et[xt[1]]),ne=n.normalize([],n.cross([],Ot,Zt)),_e=-n.dot(ne,et[xt[1]]);return ne.concat(_e)});return new qi(et,ct)};var hn=function(g,w){this.min=g,this.max=w,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};hn.prototype.quadrant=function(g){for(var w=[g%2==0,g<2],_=n.clone$2(this.min),j=n.clone$2(this.max),et=0;et<w.length;et++)_[et]=w[et]?this.min[et]:this.center[et],j[et]=w[et]?this.center[et]:this.max[et];return j[2]=this.max[2],new hn(_,j)},hn.prototype.distanceX=function(g){return Math.max(Math.min(this.max[0],g[0]),this.min[0])-g[0]},hn.prototype.distanceY=function(g){return Math.max(Math.min(this.max[1],g[1]),this.min[1])-g[1]},hn.prototype.intersects=function(g){for(var w=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],_=!0,j=0;j<g.planes.length;j++){for(var et=g.planes[j],ct=0,xt=0;xt<w.length;xt++)ct+=n.dot$1(et,w[xt])>=0;if(0===ct)return 0;ct!==w.length&&(_=!1)}if(_)return 2;for(var Ot=0;Ot<3;Ot++){for(var Zt=Number.MAX_VALUE,ne=-Number.MAX_VALUE,_e=0;_e<g.points.length;_e++){var we=g.points[_e][Ot]-this.min[Ot];Zt=Math.min(Zt,we),ne=Math.max(ne,we)}if(ne<0||Zt>this.max[Ot]-this.min[Ot])return 0}return 1};var vn=function(g,w,_,j){if(void 0===g&&(g=0),void 0===w&&(w=0),void 0===_&&(_=0),void 0===j&&(j=0),isNaN(g)||g<0||isNaN(w)||w<0||isNaN(_)||_<0||isNaN(j)||j<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=g,this.bottom=w,this.left=_,this.right=j};vn.prototype.interpolate=function(g,w,_){return null!=w.top&&null!=g.top&&(this.top=n.number(g.top,w.top,_)),null!=w.bottom&&null!=g.bottom&&(this.bottom=n.number(g.bottom,w.bottom,_)),null!=w.left&&null!=g.left&&(this.left=n.number(g.left,w.left,_)),null!=w.right&&null!=g.right&&(this.right=n.number(g.right,w.right,_)),this},vn.prototype.getCenter=function(g,w){var _=n.clamp((this.left+g-this.right)/2,0,g),j=n.clamp((this.top+w-this.bottom)/2,0,w);return new n.Point(_,j)},vn.prototype.equals=function(g){return this.top===g.top&&this.bottom===g.bottom&&this.left===g.left&&this.right===g.right},vn.prototype.clone=function(){return new vn(this.top,this.bottom,this.left,this.right)},vn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Qi=function(g,w,_,j,et){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===et||et,this._minZoom=g||0,this._maxZoom=w||22,this._minPitch=_??0,this._maxPitch=j??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new vn,this._posMatrixCache={},this._alignedPosMatrixCache={}},un={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Qi.prototype.clone=function(){var g=new Qi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return g.tileSize=this.tileSize,g.latRange=this.latRange,g.width=this.width,g.height=this.height,g._center=this._center,g.zoom=this.zoom,g.angle=this.angle,g._fov=this._fov,g._pitch=this._pitch,g._unmodified=this._unmodified,g._edgeInsets=this._edgeInsets.clone(),g._calcMatrices(),g},un.minZoom.get=function(){return this._minZoom},un.minZoom.set=function(g){this._minZoom!==g&&(this._minZoom=g,this.zoom=Math.max(this.zoom,g))},un.maxZoom.get=function(){return this._maxZoom},un.maxZoom.set=function(g){this._maxZoom!==g&&(this._maxZoom=g,this.zoom=Math.min(this.zoom,g))},un.minPitch.get=function(){return this._minPitch},un.minPitch.set=function(g){this._minPitch!==g&&(this._minPitch=g,this.pitch=Math.max(this.pitch,g))},un.maxPitch.get=function(){return this._maxPitch},un.maxPitch.set=function(g){this._maxPitch!==g&&(this._maxPitch=g,this.pitch=Math.min(this.pitch,g))},un.renderWorldCopies.get=function(){return this._renderWorldCopies},un.renderWorldCopies.set=function(g){void 0===g?g=!0:null===g&&(g=!1),this._renderWorldCopies=g},un.worldSize.get=function(){return this.tileSize*this.scale},un.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},un.size.get=function(){return new n.Point(this.width,this.height)},un.bearing.get=function(){return-this.angle/Math.PI*180},un.bearing.set=function(g){var w=-n.wrap(g,-180,180)*Math.PI/180;this.angle!==w&&(this._unmodified=!1,this.angle=w,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},un.pitch.get=function(){return this._pitch/Math.PI*180},un.pitch.set=function(g){var w=n.clamp(g,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==w&&(this._unmodified=!1,this._pitch=w,this._calcMatrices())},un.fov.get=function(){return this._fov/Math.PI*180},un.fov.set=function(g){g=Math.max(.01,Math.min(60,g)),this._fov!==g&&(this._unmodified=!1,this._fov=g/180*Math.PI,this._calcMatrices())},un.zoom.get=function(){return this._zoom},un.zoom.set=function(g){var w=Math.min(Math.max(g,this.minZoom),this.maxZoom);this._zoom!==w&&(this._unmodified=!1,this._zoom=w,this.scale=this.zoomScale(w),this.tileZoom=Math.floor(w),this.zoomFraction=w-this.tileZoom,this._constrain(),this._calcMatrices())},un.center.get=function(){return this._center},un.center.set=function(g){g.lat===this._center.lat&&g.lng===this._center.lng||(this._unmodified=!1,this._center=g,this._constrain(),this._calcMatrices())},un.padding.get=function(){return this._edgeInsets.toJSON()},un.padding.set=function(g){this._edgeInsets.equals(g)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,g,1),this._calcMatrices())},un.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Qi.prototype.isPaddingEqual=function(g){return this._edgeInsets.equals(g)},Qi.prototype.interpolatePadding=function(g,w,_){this._unmodified=!1,this._edgeInsets.interpolate(g,w,_),this._constrain(),this._calcMatrices()},Qi.prototype.coveringZoomLevel=function(g){var w=(g.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/g.tileSize));return Math.max(0,w)},Qi.prototype.getVisibleUnwrappedCoordinates=function(g){var w=[new n.UnwrappedTileID(0,g)];if(this._renderWorldCopies)for(var _=this.pointCoordinate(new n.Point(0,0)),j=this.pointCoordinate(new n.Point(this.width,0)),et=this.pointCoordinate(new n.Point(this.width,this.height)),ct=this.pointCoordinate(new n.Point(0,this.height)),xt=Math.floor(Math.min(_.x,j.x,et.x,ct.x)),Ot=Math.floor(Math.max(_.x,j.x,et.x,ct.x)),Zt=xt-1;Zt<=Ot+1;Zt++)0!==Zt&&w.push(new n.UnwrappedTileID(Zt,g));return w},Qi.prototype.coveringTiles=function(g){var w=this.coveringZoomLevel(g),_=w;if(void 0!==g.minzoom&&w<g.minzoom)return[];void 0!==g.maxzoom&&w>g.maxzoom&&(w=g.maxzoom);var j=n.MercatorCoordinate.fromLngLat(this.center),et=Math.pow(2,w),ct=[et*j.x,et*j.y,0],xt=qi.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,w),Ot=g.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ot=w);var Zt=function(dn){return{aabb:new hn([dn*et,0,0],[(dn+1)*et,et,0]),zoom:0,x:0,y:0,wrap:dn,fullyVisible:!1}},ne=[],_e=[],we=w,Ce=g.reparseOverscaled?_:w;if(this._renderWorldCopies)for(var Ne=1;Ne<=3;Ne++)ne.push(Zt(-Ne)),ne.push(Zt(Ne));for(ne.push(Zt(0));ne.length>0;){var Ie=ne.pop(),Ze=Ie.x,De=Ie.y,Ye=Ie.fullyVisible;if(!Ye){var ti=Ie.aabb.intersects(xt);if(0===ti)continue;Ye=2===ti}var _i=Ie.aabb.distanceX(ct),Oi=Ie.aabb.distanceY(ct),ki=Math.max(Math.abs(_i),Math.abs(Oi));if(Ie.zoom===we||ki>3+(1<<we-Ie.zoom)-2&&Ie.zoom>=Ot)_e.push({tileID:new n.OverscaledTileID(Ie.zoom===we?Ce:Ie.zoom,Ie.wrap,Ie.zoom,Ze,De),distanceSq:n.sqrLen([ct[0]-.5-Ze,ct[1]-.5-De])});else for(var Ni=0;Ni<4;Ni++){var Ki=(Ze<<1)+Ni%2,fn=(De<<1)+(Ni>>1);ne.push({aabb:Ie.aabb.quadrant(Ni),zoom:Ie.zoom+1,x:Ki,y:fn,wrap:Ie.wrap,fullyVisible:Ye})}}return _e.sort(function(dn,Mn){return dn.distanceSq-Mn.distanceSq}).map(function(dn){return dn.tileID})},Qi.prototype.resize=function(g,w){this.width=g,this.height=w,this.pixelsToGLUnits=[2/g,-2/w],this._constrain(),this._calcMatrices()},un.unmodified.get=function(){return this._unmodified},Qi.prototype.zoomScale=function(g){return Math.pow(2,g)},Qi.prototype.scaleZoom=function(g){return Math.log(g)/Math.LN2},Qi.prototype.project=function(g){var w=n.clamp(g.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(g.lng)*this.worldSize,n.mercatorYfromLat(w)*this.worldSize)},Qi.prototype.unproject=function(g){return new n.MercatorCoordinate(g.x/this.worldSize,g.y/this.worldSize).toLngLat()},un.point.get=function(){return this.project(this.center)},Qi.prototype.setLocationAtPoint=function(g,w){var _=this.pointCoordinate(w),j=this.pointCoordinate(this.centerPoint),et=this.locationCoordinate(g),ct=new n.MercatorCoordinate(et.x-(_.x-j.x),et.y-(_.y-j.y));this.center=this.coordinateLocation(ct),this._renderWorldCopies&&(this.center=this.center.wrap())},Qi.prototype.locationPoint=function(g){return this.coordinatePoint(this.locationCoordinate(g))},Qi.prototype.pointLocation=function(g){return this.coordinateLocation(this.pointCoordinate(g))},Qi.prototype.locationCoordinate=function(g){return n.MercatorCoordinate.fromLngLat(g)},Qi.prototype.coordinateLocation=function(g){return g.toLngLat()},Qi.prototype.pointCoordinate=function(g){var w=[g.x,g.y,0,1],_=[g.x,g.y,1,1];n.transformMat4(w,w,this.pixelMatrixInverse),n.transformMat4(_,_,this.pixelMatrixInverse);var j=w[3],et=_[3],ct=w[1]/j,xt=_[1]/et,Ot=w[2]/j,Zt=_[2]/et,ne=Ot===Zt?0:(0-Ot)/(Zt-Ot);return new n.MercatorCoordinate(n.number(w[0]/j,_[0]/et,ne)/this.worldSize,n.number(ct,xt,ne)/this.worldSize)},Qi.prototype.coordinatePoint=function(g){var w=[g.x*this.worldSize,g.y*this.worldSize,0,1];return n.transformMat4(w,w,this.pixelMatrix),new n.Point(w[0]/w[3],w[1]/w[3])},Qi.prototype.getBounds=function(){return(new n.LngLatBounds).extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},Qi.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Qi.prototype.setMaxBounds=function(g){g?(this.lngRange=[g.getWest(),g.getEast()],this.latRange=[g.getSouth(),g.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Qi.prototype.calculatePosMatrix=function(g,w){void 0===w&&(w=!1);var _=g.key,j=w?this._alignedPosMatrixCache:this._posMatrixCache;if(j[_])return j[_];var et=g.canonical,ct=this.worldSize/this.zoomScale(et.z),xt=et.x+Math.pow(2,et.z)*g.wrap,Ot=n.identity(new Float64Array(16));return n.translate(Ot,Ot,[xt*ct,et.y*ct,0]),n.scale(Ot,Ot,[ct/n.EXTENT,ct/n.EXTENT,1]),n.multiply(Ot,w?this.alignedProjMatrix:this.projMatrix,Ot),j[_]=new Float32Array(Ot),j[_]},Qi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Qi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var g,w,_,j,et=-90,ct=90,xt=-180,Ot=180,Zt=this.size,ne=this._unmodified;if(this.latRange){var _e=this.latRange;et=n.mercatorYfromLat(_e[1])*this.worldSize,g=(ct=n.mercatorYfromLat(_e[0])*this.worldSize)-et<Zt.y?Zt.y/(ct-et):0}if(this.lngRange){var we=this.lngRange;xt=n.mercatorXfromLng(we[0])*this.worldSize,w=(Ot=n.mercatorXfromLng(we[1])*this.worldSize)-xt<Zt.x?Zt.x/(Ot-xt):0}var Ce=this.point,Ne=Math.max(w||0,g||0);if(Ne)return this.center=this.unproject(new n.Point(w?(Ot+xt)/2:Ce.x,g?(ct+et)/2:Ce.y)),this.zoom+=this.scaleZoom(Ne),this._unmodified=ne,void(this._constraining=!1);if(this.latRange){var Ie=Ce.y,Ze=Zt.y/2;Ie-Ze<et&&(j=et+Ze),Ie+Ze>ct&&(j=ct-Ze)}if(this.lngRange){var De=Ce.x,Ye=Zt.x/2;De-Ye<xt&&(_=xt+Ye),De+Ye>Ot&&(_=Ot-Ye)}void 0===_&&void 0===j||(this.center=this.unproject(new n.Point(void 0!==_?_:Ce.x,void 0!==j?j:Ce.y))),this._unmodified=ne,this._constraining=!1}},Qi.prototype._calcMatrices=function(){if(this.height){var g=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var w=Math.PI/2+this._pitch,_=this._fov*(.5+g.y/this.height),j=Math.sin(_)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-w-_,.01,Math.PI-.01)),et=this.point,ct=et.x,xt=et.y,Ot=1.01*(Math.cos(Math.PI/2-this._pitch)*j+this.cameraToCenterDistance),Zt=this.height/50,ne=new Float64Array(16);n.perspective(ne,this._fov,this.width/this.height,Zt,Ot),ne[8]=2*-g.x/this.width,ne[9]=2*g.y/this.height,n.scale(ne,ne,[1,-1,1]),n.translate(ne,ne,[0,0,-this.cameraToCenterDistance]),n.rotateX(ne,ne,this._pitch),n.rotateZ(ne,ne,this.angle),n.translate(ne,ne,[-ct,-xt,0]),this.mercatorMatrix=n.scale([],ne,[this.worldSize,this.worldSize,this.worldSize]),n.scale(ne,ne,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ne,this.invProjMatrix=n.invert([],this.projMatrix);var _e=this.width%2/2,we=this.height%2/2,Ce=Math.cos(this.angle),Ne=Math.sin(this.angle),Ie=ct-Math.round(ct)+Ce*_e+Ne*we,Ze=xt-Math.round(xt)+Ce*we+Ne*_e,De=new Float64Array(ne);if(n.translate(De,De,[Ie>.5?Ie-1:Ie,Ze>.5?Ze-1:Ze,0]),this.alignedProjMatrix=De,ne=n.create(),n.scale(ne,ne,[this.width/2,-this.height/2,1]),n.translate(ne,ne,[1,-1,0]),this.labelPlaneMatrix=ne,ne=n.create(),n.scale(ne,ne,[1,-1,1]),n.translate(ne,ne,[-1,-1,0]),n.scale(ne,ne,[2/this.width,2/this.height,1]),this.glCoordMatrix=ne,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ne=n.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ne,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Qi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var g=this.pointCoordinate(new n.Point(0,0)),w=[g.x*this.worldSize,g.y*this.worldSize,0,1];return n.transformMat4(w,w,this.pixelMatrix)[3]/this.cameraToCenterDistance},Qi.prototype.getCameraPoint=function(){var g=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,g))},Qi.prototype.getCameraQueryGeometry=function(g){var w=this.getCameraPoint();if(1===g.length)return[g[0],w];for(var _=w.x,j=w.y,et=w.x,ct=w.y,xt=0,Ot=g;xt<Ot.length;xt+=1){var Zt=Ot[xt];_=Math.min(_,Zt.x),j=Math.min(j,Zt.y),et=Math.max(et,Zt.x),ct=Math.max(ct,Zt.y)}return[new n.Point(_,j),new n.Point(et,j),new n.Point(et,ct),new n.Point(_,ct),new n.Point(_,j)]},Object.defineProperties(Qi.prototype,un);var hr=function(g){var w,_,j,et;this._hashName=g&&encodeURIComponent(g),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(w=this._updateHashUnthrottled.bind(this),_=!1,j=null,et=function(){j=null,_&&(w(),j=setTimeout(et,300),_=!1)},function(){return _=!0,j||et(),j})};hr.prototype.addTo=function(g){return this._map=g,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},hr.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},hr.prototype.getHashString=function(g){var w=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,j=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),et=Math.pow(10,j),ct=Math.round(w.lng*et)/et,xt=Math.round(w.lat*et)/et,Ot=this._map.getBearing(),Zt=this._map.getPitch(),ne="";if(ne+=g?"/"+ct+"/"+xt+"/"+_:_+"/"+xt+"/"+ct,(Ot||Zt)&&(ne+="/"+Math.round(10*Ot)/10),Zt&&(ne+="/"+Math.round(Zt)),this._hashName){var _e=this._hashName,we=!1,Ce=n.window.location.hash.slice(1).split("&").map(function(Ne){var Ie=Ne.split("=")[0];return Ie===_e?(we=!0,Ie+"="+ne):Ne}).filter(function(Ne){return Ne});return we||Ce.push(_e+"="+ne),"#"+Ce.join("&")}return"#"+ne},hr.prototype._getCurrentHash=function(){var g,w=this,_=n.window.location.hash.replace("#","");return this._hashName?(_.split("&").map(function(j){return j.split("=")}).forEach(function(j){j[0]===w._hashName&&(g=j)}),(g&&g[1]||"").split("/")):_.split("/")},hr.prototype._onHashChange=function(){var g=this._getCurrentHash();if(g.length>=3&&!g.some(function(_){return isNaN(_)})){var w=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(g[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+g[2],+g[1]],zoom:+g[0],bearing:w,pitch:+(g[4]||0)}),!0}return!1},hr.prototype._updateHashUnthrottled=function(){var g=n.window.location.href.replace(/(#.+)?$/,this.getHashString());try{n.window.history.replaceState(n.window.history.state,null,g)}catch{}};var sr={linearity:.3,easing:n.bezier(0,0,.3,1)},fr=n.extend({deceleration:2500,maxSpeed:1400},sr),gr=n.extend({deceleration:20,maxSpeed:1400},sr),Dr=n.extend({deceleration:1e3,maxSpeed:360},sr),_o=n.extend({deceleration:1e3,maxSpeed:90},sr),po=function(g){this._map=g,this.clear()};function Ir(g,w){(!g.duration||g.duration<w.duration)&&(g.duration=w.duration,g.easing=w.easing)}function Ur(g,w,_){var j=_.maxSpeed,et=_.linearity,ct=_.deceleration,xt=n.clamp(g*et/(w/1e3),-j,j),Ot=Math.abs(xt)/(ct*et);return{easing:_.easing,duration:1e3*Ot,amount:xt*(Ot/2)}}po.prototype.clear=function(){this._inertiaBuffer=[]},po.prototype.record=function(g){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:g})},po.prototype._drainInertiaBuffer=function(){for(var g=this._inertiaBuffer,w=n.browser.now();g.length>0&&w-g[0].time>160;)g.shift()},po.prototype._onMoveEnd=function(g){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var w={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},_=0,j=this._inertiaBuffer;_<j.length;_+=1){var et=j[_].settings;w.zoom+=et.zoomDelta||0,w.bearing+=et.bearingDelta||0,w.pitch+=et.pitchDelta||0,et.panDelta&&w.pan._add(et.panDelta),et.around&&(w.around=et.around),et.pinchAround&&(w.pinchAround=et.pinchAround)}var ct=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,xt={};if(w.pan.mag()){var Ot=Ur(w.pan.mag(),ct,n.extend({},fr,g||{}));xt.offset=w.pan.mult(Ot.amount/w.pan.mag()),xt.center=this._map.transform.center,Ir(xt,Ot)}if(w.zoom){var Zt=Ur(w.zoom,ct,gr);xt.zoom=this._map.transform.zoom+Zt.amount,Ir(xt,Zt)}if(w.bearing){var ne=Ur(w.bearing,ct,Dr);xt.bearing=this._map.transform.bearing+n.clamp(ne.amount,-179,179),Ir(xt,ne)}if(w.pitch){var _e=Ur(w.pitch,ct,_o);xt.pitch=this._map.transform.pitch+_e.amount,Ir(xt,_e)}if(xt.zoom||xt.bearing){var we=void 0===w.pinchAround?w.around:w.pinchAround;xt.around=we?this._map.unproject(we):this._map.getCenter()}return this.clear(),n.extend(xt,{noMoveStart:!0})}};var tr=function(g){function w(j,et,ct,xt){void 0===xt&&(xt={});var Ot=C.mousePos(et.getCanvasContainer(),ct),Zt=et.unproject(Ot);g.call(this,j,n.extend({point:Ot,lngLat:Zt,originalEvent:ct},xt)),this._defaultPrevented=!1,this.target=et}g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w;var _={defaultPrevented:{configurable:!0}};return w.prototype.preventDefault=function(){this._defaultPrevented=!0},_.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(w.prototype,_),w}(n.Event),Vr=function(g){function w(j,et,ct){var xt="touchend"===j?ct.changedTouches:ct.touches,Ot=C.touchPos(et.getCanvasContainer(),xt),Zt=Ot.map(function(we){return et.unproject(we)}),ne=Ot.reduce(function(we,Ce,Ne,Ie){return we.add(Ce.div(Ie.length))},new n.Point(0,0)),_e=et.unproject(ne);g.call(this,j,{points:Ot,point:ne,lngLats:Zt,lngLat:_e,originalEvent:ct}),this._defaultPrevented=!1}g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w;var _={defaultPrevented:{configurable:!0}};return w.prototype.preventDefault=function(){this._defaultPrevented=!0},_.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(w.prototype,_),w}(n.Event),fo=function(g){function w(j,et,ct){g.call(this,j,{originalEvent:ct}),this._defaultPrevented=!1}g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w;var _={defaultPrevented:{configurable:!0}};return w.prototype.preventDefault=function(){this._defaultPrevented=!0},_.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(w.prototype,_),w}(n.Event),_r=function(g,w){this._map=g,this._clickTolerance=w.clickTolerance};_r.prototype.reset=function(){delete this._mousedownPos},_r.prototype.wheel=function(g){return this._firePreventable(new fo(g.type,this._map,g))},_r.prototype.mousedown=function(g,w){return this._mousedownPos=w,this._firePreventable(new tr(g.type,this._map,g))},_r.prototype.mouseup=function(g){this._map.fire(new tr(g.type,this._map,g))},_r.prototype.click=function(g,w){this._mousedownPos&&this._mousedownPos.dist(w)>=this._clickTolerance||this._map.fire(new tr(g.type,this._map,g))},_r.prototype.dblclick=function(g){return this._firePreventable(new tr(g.type,this._map,g))},_r.prototype.mouseover=function(g){this._map.fire(new tr(g.type,this._map,g))},_r.prototype.mouseout=function(g){this._map.fire(new tr(g.type,this._map,g))},_r.prototype.touchstart=function(g){return this._firePreventable(new Vr(g.type,this._map,g))},_r.prototype.touchmove=function(g){this._map.fire(new Vr(g.type,this._map,g))},_r.prototype.touchend=function(g){this._map.fire(new Vr(g.type,this._map,g))},_r.prototype.touchcancel=function(g){this._map.fire(new Vr(g.type,this._map,g))},_r.prototype._firePreventable=function(g){if(this._map.fire(g),g.defaultPrevented)return{}},_r.prototype.isEnabled=function(){return!0},_r.prototype.isActive=function(){return!1},_r.prototype.enable=function(){},_r.prototype.disable=function(){};var sn=function(g){this._map=g};sn.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},sn.prototype.mousemove=function(g){this._map.fire(new tr(g.type,this._map,g))},sn.prototype.mousedown=function(){this._delayContextMenu=!0},sn.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new tr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},sn.prototype.contextmenu=function(g){this._delayContextMenu?this._contextMenuEvent=g:this._map.fire(new tr(g.type,this._map,g)),this._map.listens("contextmenu")&&g.preventDefault()},sn.prototype.isEnabled=function(){return!0},sn.prototype.isActive=function(){return!1},sn.prototype.enable=function(){},sn.prototype.disable=function(){};var oo=function(g,w){this._map=g,this._el=g.getCanvasContainer(),this._container=g.getContainer(),this._clickTolerance=w.clickTolerance||1};function gs(g,w){for(var _={},j=0;j<g.length;j++)_[g[j].identifier]=w[j];return _}oo.prototype.isEnabled=function(){return!!this._enabled},oo.prototype.isActive=function(){return!!this._active},oo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},oo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},oo.prototype.mousedown=function(g,w){this.isEnabled()&&g.shiftKey&&0===g.button&&(C.disableDrag(),this._startPos=this._lastPos=w,this._active=!0)},oo.prototype.mousemoveWindow=function(g,w){if(this._active){var _=w;if(!(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)){var j=this._startPos;this._lastPos=_,this._box||(this._box=C.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",g));var et=Math.min(j.x,_.x),ct=Math.max(j.x,_.x),xt=Math.min(j.y,_.y),Ot=Math.max(j.y,_.y);C.setTransform(this._box,"translate("+et+"px,"+xt+"px)"),this._box.style.width=ct-et+"px",this._box.style.height=Ot-xt+"px"}}},oo.prototype.mouseupWindow=function(g,w){var _=this;if(this._active&&0===g.button){var j=this._startPos,et=w;if(this.reset(),C.suppressClick(),j.x!==et.x||j.y!==et.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:g})),{cameraAnimation:function(ct){return ct.fitScreenCoordinates(j,et,_._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",g)}},oo.prototype.keydown=function(g){this._active&&27===g.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",g))},oo.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(C.remove(this._box),this._box=null),C.enableDrag(),delete this._startPos,delete this._lastPos},oo.prototype._fireEvent=function(g,w){return this._map.fire(new n.Event(g,{originalEvent:w}))};var ys=function(g){this.reset(),this.numTouches=g.numTouches};ys.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ys.prototype.touchstart=function(g,w,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=g.timeStamp),_.length===this.numTouches&&(this.centroid=function(j){for(var et=new n.Point(0,0),ct=0,xt=j;ct<xt.length;ct+=1)et._add(xt[ct]);return et.div(j.length)}(w),this.touches=gs(_,w)))},ys.prototype.touchmove=function(g,w,_){if(!this.aborted&&this.centroid){var j=gs(_,w);for(var et in this.touches){var ct=j[et];(!ct||ct.dist(this.touches[et])>30)&&(this.aborted=!0)}}},ys.prototype.touchend=function(g,w,_){if((!this.centroid||g.timeStamp-this.startTime>500)&&(this.aborted=!0),0===_.length){var j=!this.aborted&&this.centroid;if(this.reset(),j)return j}};var To=function(g){this.singleTap=new ys(g),this.numTaps=g.numTaps,this.reset()};To.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},To.prototype.touchstart=function(g,w,_){this.singleTap.touchstart(g,w,_)},To.prototype.touchmove=function(g,w,_){this.singleTap.touchmove(g,w,_)},To.prototype.touchend=function(g,w,_){var j=this.singleTap.touchend(g,w,_);if(j){var et=g.timeStamp-this.lastTime<500,ct=!this.lastTap||this.lastTap.dist(j)<30;if(et&&ct||this.reset(),this.count++,this.lastTime=g.timeStamp,this.lastTap=j,this.count===this.numTaps)return this.reset(),j}};var So=function(){this._zoomIn=new To({numTouches:1,numTaps:2}),this._zoomOut=new To({numTouches:2,numTaps:1}),this.reset()};So.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},So.prototype.touchstart=function(g,w,_){this._zoomIn.touchstart(g,w,_),this._zoomOut.touchstart(g,w,_)},So.prototype.touchmove=function(g,w,_){this._zoomIn.touchmove(g,w,_),this._zoomOut.touchmove(g,w,_)},So.prototype.touchend=function(g,w,_){var j=this,et=this._zoomIn.touchend(g,w,_),ct=this._zoomOut.touchend(g,w,_);return et?(this._active=!0,g.preventDefault(),setTimeout(function(){return j.reset()},0),{cameraAnimation:function(xt){return xt.easeTo({duration:300,zoom:xt.getZoom()+1,around:xt.unproject(et)},{originalEvent:g})}}):ct?(this._active=!0,g.preventDefault(),setTimeout(function(){return j.reset()},0),{cameraAnimation:function(xt){return xt.easeTo({duration:300,zoom:xt.getZoom()-1,around:xt.unproject(ct)},{originalEvent:g})}}):void 0},So.prototype.touchcancel=function(){this.reset()},So.prototype.enable=function(){this._enabled=!0},So.prototype.disable=function(){this._enabled=!1,this.reset()},So.prototype.isEnabled=function(){return this._enabled},So.prototype.isActive=function(){return this._active};var hs={0:1,2:2},an=function(g){this.reset(),this._clickTolerance=g.clickTolerance||1};an.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},an.prototype._correctButton=function(g,w){return!1},an.prototype._move=function(g,w){return{}},an.prototype.mousedown=function(g,w){if(!this._lastPoint){var _=C.mouseButton(g);this._correctButton(g,_)&&(this._lastPoint=w,this._eventButton=_)}},an.prototype.mousemoveWindow=function(g,w){var j,ct,_=this._lastPoint;if(_)if(g.preventDefault(),ct=hs[this._eventButton],void 0===(j=g).buttons||(j.buttons&ct)!==ct)this.reset();else if(this._moved||!(w.dist(_)<this._clickTolerance))return this._moved=!0,this._lastPoint=w,this._move(_,w)},an.prototype.mouseupWindow=function(g){this._lastPoint&&C.mouseButton(g)===this._eventButton&&(this._moved&&C.suppressClick(),this.reset())},an.prototype.enable=function(){this._enabled=!0},an.prototype.disable=function(){this._enabled=!1,this.reset()},an.prototype.isEnabled=function(){return this._enabled},an.prototype.isActive=function(){return this._active};var zs=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.mousedown=function(_,j){g.prototype.mousedown.call(this,_,j),this._lastPoint&&(this._active=!0)},w.prototype._correctButton=function(_,j){return 0===j&&!_.ctrlKey},w.prototype._move=function(_,j){return{around:j,panDelta:j.sub(_)}},w}(an),Es=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype._correctButton=function(_,j){return 0===j&&_.ctrlKey||2===j},w.prototype._move=function(_,j){var et=.8*(j.x-_.x);if(et)return this._active=!0,{bearingDelta:et}},w.prototype.contextmenu=function(_){_.preventDefault()},w}(an),la=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype._correctButton=function(_,j){return 0===j&&_.ctrlKey||2===j},w.prototype._move=function(_,j){var et=-.5*(j.y-_.y);if(et)return this._active=!0,{pitchDelta:et}},w.prototype.contextmenu=function(_){_.preventDefault()},w}(an),yo=function(g){this._minTouches=1,this._clickTolerance=g.clickTolerance||1,this.reset()};yo.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},yo.prototype.touchstart=function(g,w,_){return this._calculateTransform(g,w,_)},yo.prototype.touchmove=function(g,w,_){if(this._active&&!(_.length<this._minTouches))return g.preventDefault(),this._calculateTransform(g,w,_)},yo.prototype.touchend=function(g,w,_){this._calculateTransform(g,w,_),this._active&&_.length<this._minTouches&&this.reset()},yo.prototype.touchcancel=function(){this.reset()},yo.prototype._calculateTransform=function(g,w,_){_.length>0&&(this._active=!0);var j=gs(_,w),et=new n.Point(0,0),ct=new n.Point(0,0),xt=0;for(var Ot in j){var Zt=j[Ot],ne=this._touches[Ot];ne&&(et._add(Zt),ct._add(Zt.sub(ne)),xt++,j[Ot]=Zt)}if(this._touches=j,!(xt<this._minTouches)&&ct.mag()){var _e=ct.div(xt);if(this._sum._add(_e),!(this._sum.mag()<this._clickTolerance))return{around:et.div(xt),panDelta:_e}}},yo.prototype.enable=function(){this._enabled=!0},yo.prototype.disable=function(){this._enabled=!1,this.reset()},yo.prototype.isEnabled=function(){return this._enabled},yo.prototype.isActive=function(){return this._active};var Fr=function(){this.reset()};function es(g,w,_){for(var j=0;j<g.length;j++)if(g[j].identifier===_)return w[j]}function xs(g,w){return Math.log(g/w)/Math.LN2}Fr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Fr.prototype._start=function(g){},Fr.prototype._move=function(g,w,_){return{}},Fr.prototype.touchstart=function(g,w,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([w[0],w[1]]))},Fr.prototype.touchmove=function(g,w,_){if(this._firstTwoTouches){g.preventDefault();var j=this._firstTwoTouches,et=j[1],ct=es(_,w,j[0]),xt=es(_,w,et);if(ct&&xt){var Ot=this._aroundCenter?null:ct.add(xt).div(2);return this._move([ct,xt],Ot,g)}}},Fr.prototype.touchend=function(g,w,_){if(this._firstTwoTouches){var j=this._firstTwoTouches,et=j[1],ct=es(_,w,j[0]),xt=es(_,w,et);ct&&xt||(this._active&&C.suppressClick(),this.reset())}},Fr.prototype.touchcancel=function(){this.reset()},Fr.prototype.enable=function(g){this._enabled=!0,this._aroundCenter=!!g&&"center"===g.around},Fr.prototype.disable=function(){this._enabled=!1,this.reset()},Fr.prototype.isEnabled=function(){return this._enabled},Fr.prototype.isActive=function(){return this._active};var jo=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.reset=function(){g.prototype.reset.call(this),delete this._distance,delete this._startDistance},w.prototype._start=function(_){this._startDistance=this._distance=_[0].dist(_[1])},w.prototype._move=function(_,j){var et=this._distance;if(this._distance=_[0].dist(_[1]),this._active||!(Math.abs(xs(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:xs(this._distance,et),pinchAround:j}},w}(Fr);function Fs(g,w){return 180*g.angleWith(w)/Math.PI}var ol=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.reset=function(){g.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},w.prototype._start=function(_){this._startVector=this._vector=_[0].sub(_[1]),this._minDiameter=_[0].dist(_[1])},w.prototype._move=function(_,j){var et=this._vector;if(this._vector=_[0].sub(_[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Fs(this._vector,et),pinchAround:j}},w.prototype._isBelowThreshold=function(_){this._minDiameter=Math.min(this._minDiameter,_.mag());var j=25/(Math.PI*this._minDiameter)*360,et=Fs(_,this._startVector);return Math.abs(et)<j},w}(Fr);function Ta(g){return Math.abs(g.y)>Math.abs(g.x)}var Sa=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.reset=function(){g.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},w.prototype._start=function(_){this._lastPoints=_,Ta(_[0].sub(_[1]))&&(this._valid=!1)},w.prototype._move=function(_,j,et){var ct=_[0].sub(this._lastPoints[0]),xt=_[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(ct,xt,et.timeStamp),this._valid)return this._lastPoints=_,this._active=!0,{pitchDelta:(ct.y+xt.y)/2*-.5}},w.prototype.gestureBeginsVertically=function(_,j,et){if(void 0!==this._valid)return this._valid;var ct=_.mag()>=2,xt=j.mag()>=2;if(ct||xt){if(!ct||!xt)return void 0===this._firstMove&&(this._firstMove=et),et-this._firstMove<100&&void 0;var Ot=_.y>0==j.y>0;return Ta(_)&&Ta(j)&&Ot}},w}(Fr),sl={panStep:100,bearingStep:15,pitchStep:10},ta=function(){var g=sl;this._panStep=g.panStep,this._bearingStep=g.bearingStep,this._pitchStep=g.pitchStep,this._rotationDisabled=!1};function bs(g){return g*(2-g)}ta.prototype.reset=function(){this._active=!1},ta.prototype.keydown=function(g){var w=this;if(!(g.altKey||g.ctrlKey||g.metaKey)){var _=0,j=0,et=0,ct=0,xt=0;switch(g.keyCode){case 61:case 107:case 171:case 187:_=1;break;case 189:case 109:case 173:_=-1;break;case 37:g.shiftKey?j=-1:(g.preventDefault(),ct=-1);break;case 39:g.shiftKey?j=1:(g.preventDefault(),ct=1);break;case 38:g.shiftKey?et=1:(g.preventDefault(),xt=-1);break;case 40:g.shiftKey?et=-1:(g.preventDefault(),xt=1);break;default:return}return this._rotationDisabled&&(j=0,et=0),{cameraAnimation:function(Ot){var Zt=Ot.getZoom();Ot.easeTo({duration:300,easeId:"keyboardHandler",easing:bs,zoom:_?Math.round(Zt)+_*(g.shiftKey?2:1):Zt,bearing:Ot.getBearing()+j*w._bearingStep,pitch:Ot.getPitch()+et*w._pitchStep,offset:[-ct*w._panStep,-xt*w._panStep],center:Ot.getCenter()},{originalEvent:g})}}}},ta.prototype.enable=function(){this._enabled=!0},ta.prototype.disable=function(){this._enabled=!1,this.reset()},ta.prototype.isEnabled=function(){return this._enabled},ta.prototype.isActive=function(){return this._active},ta.prototype.disableRotation=function(){this._rotationDisabled=!0},ta.prototype.enableRotation=function(){this._rotationDisabled=!1};var Er=function(g,w){this._map=g,this._el=g.getCanvasContainer(),this._handler=w,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,n.bindAll(["_onTimeout"],this)};Er.prototype.setZoomRate=function(g){this._defaultZoomRate=g},Er.prototype.setWheelZoomRate=function(g){this._wheelZoomRate=g},Er.prototype.isEnabled=function(){return!!this._enabled},Er.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Er.prototype.isZooming=function(){return!!this._zooming},Er.prototype.enable=function(g){this.isEnabled()||(this._enabled=!0,this._aroundCenter=g&&"center"===g.around)},Er.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Er.prototype.wheel=function(g){if(this.isEnabled()){var w=g.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*g.deltaY:g.deltaY,_=n.browser.now(),j=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,0!==w&&w%4.000244140625==0?this._type="wheel":0!==w&&Math.abs(w)<4?this._type="trackpad":j>400?(this._type=null,this._lastValue=w,this._timeout=setTimeout(this._onTimeout,40,g)):this._type||(this._type=Math.abs(j*w)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,w+=this._lastValue)),g.shiftKey&&w&&(w/=4),this._type&&(this._lastWheelEvent=g,this._delta-=w,this._active||this._start(g)),g.preventDefault()}},Er.prototype._onTimeout=function(g){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(g)},Er.prototype._start=function(g){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var w=C.mousePos(this._el,g);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(w)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Er.prototype.renderFrame=function(){var g=this;if(this._frameId&&(this._frameId=null,this.isActive())){var w=this._map.transform;if(0!==this._delta){var _="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,j=2/(1+Math.exp(-Math.abs(this._delta*_)));this._delta<0&&0!==j&&(j=1/j);var et="number"==typeof this._targetZoom?w.zoomScale(this._targetZoom):w.scale;this._targetZoom=Math.min(w.maxZoom,Math.max(w.minZoom,w.scaleZoom(et*j))),"wheel"===this._type&&(this._startZoom=w.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ct,xt="number"==typeof this._targetZoom?this._targetZoom:w.zoom,Ot=this._startZoom,Zt=this._easing,ne=!1;if("wheel"===this._type&&Ot&&Zt){var _e=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),we=Zt(_e);ct=n.number(Ot,xt,we),_e<1?this._frameId||(this._frameId=!0):ne=!0}else ct=xt,ne=!0;return this._active=!0,ne&&(this._active=!1,this._finishTimeout=setTimeout(function(){g._zooming=!1,g._handler._triggerRenderFrame(),delete g._targetZoom,delete g._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ne,zoomDelta:ct-w.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Er.prototype._smoothOutEasing=function(g){var w=n.ease;if(this._prevEase){var _=this._prevEase,j=(n.browser.now()-_.start)/_.duration,et=_.easing(j+.01)-_.easing(j),ct=.27/Math.sqrt(et*et+1e-4)*.01,xt=Math.sqrt(.0729-ct*ct);w=n.bezier(ct,xt,.25,1)}return this._prevEase={start:n.browser.now(),duration:g,easing:w},w},Er.prototype.reset=function(){this._active=!1};var Ys=function(g,w){this._clickZoom=g,this._tapZoom=w};Ys.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ys.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ys.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ys.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Zs=function(){this.reset()};Zs.prototype.reset=function(){this._active=!1},Zs.prototype.dblclick=function(g,w){return g.preventDefault(),{cameraAnimation:function(_){_.easeTo({duration:300,zoom:_.getZoom()+(g.shiftKey?-1:1),around:_.unproject(w)},{originalEvent:g})}}},Zs.prototype.enable=function(){this._enabled=!0},Zs.prototype.disable=function(){this._enabled=!1,this.reset()},Zs.prototype.isEnabled=function(){return this._enabled},Zs.prototype.isActive=function(){return this._active};var Ko=function(){this._tap=new To({numTouches:1,numTaps:1}),this.reset()};Ko.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ko.prototype.touchstart=function(g,w,_){this._swipePoint||(this._tapTime&&g.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?_.length>0&&(this._swipePoint=w[0],this._swipeTouch=_[0].identifier):this._tap.touchstart(g,w,_))},Ko.prototype.touchmove=function(g,w,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;var j=w[0],et=j.y-this._swipePoint.y;return this._swipePoint=j,g.preventDefault(),this._active=!0,{zoomDelta:et/128}}}else this._tap.touchmove(g,w,_)},Ko.prototype.touchend=function(g,w,_){this._tapTime?this._swipePoint&&0===_.length&&this.reset():this._tap.touchend(g,w,_)&&(this._tapTime=g.timeStamp)},Ko.prototype.touchcancel=function(){this.reset()},Ko.prototype.enable=function(){this._enabled=!0},Ko.prototype.disable=function(){this._enabled=!1,this.reset()},Ko.prototype.isEnabled=function(){return this._enabled},Ko.prototype.isActive=function(){return this._active};var ha=function(g,w,_){this._el=g,this._mousePan=w,this._touchPan=_};ha.prototype.enable=function(g){this._inertiaOptions=g||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ha.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ha.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ha.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ua=function(g,w,_){this._pitchWithRotate=g.pitchWithRotate,this._mouseRotate=w,this._mousePitch=_};ua.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ua.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ua.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ua.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var qs=function(g,w,_,j){this._el=g,this._touchZoom=w,this._touchRotate=_,this._tapDragZoom=j,this._rotationDisabled=!1,this._enabled=!0};qs.prototype.enable=function(g){this._touchZoom.enable(g),this._rotationDisabled||this._touchRotate.enable(g),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},qs.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},qs.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},qs.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},qs.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},qs.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ro=function(g){return g.zoom||g.drag||g.pitch||g.rotate},ca=function(g){function w(){g.apply(this,arguments)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w}(n.Event);function jn(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}var On=function(g,w){this._map=g,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new po(g),this._bearingSnap=w.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(w),n.bindAll(["handleEvent","handleWindowEvent"],this);var _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[n.window,"blur",void 0]];for(var j=0,et=this._listeners;j<et.length;j+=1){var ct=et[j],xt=ct[0];C.addEventListener(xt,ct[1],xt===n.window.document?this.handleWindowEvent:this.handleEvent,ct[2])}};On.prototype.destroy=function(){for(var g=0,w=this._listeners;g<w.length;g+=1){var _=w[g],j=_[0];C.removeEventListener(j,_[1],j===n.window.document?this.handleWindowEvent:this.handleEvent,_[2])}},On.prototype._addDefaultHandlers=function(g){var w=this._map,_=w.getCanvasContainer();this._add("mapEvent",new _r(w,g));var j=w.boxZoom=new oo(w,g);this._add("boxZoom",j);var et=new So,ct=new Zs;w.doubleClickZoom=new Ys(ct,et),this._add("tapZoom",et),this._add("clickZoom",ct);var xt=new Ko;this._add("tapDragZoom",xt);var Ot=w.touchPitch=new Sa;this._add("touchPitch",Ot);var Zt=new Es(g),ne=new la(g);w.dragRotate=new ua(g,Zt,ne),this._add("mouseRotate",Zt,["mousePitch"]),this._add("mousePitch",ne,["mouseRotate"]);var _e=new zs(g),we=new yo(g);w.dragPan=new ha(_,_e,we),this._add("mousePan",_e),this._add("touchPan",we,["touchZoom","touchRotate"]);var Ce=new ol,Ne=new jo;w.touchZoomRotate=new qs(_,Ne,Ce,xt),this._add("touchRotate",Ce,["touchPan","touchZoom"]),this._add("touchZoom",Ne,["touchPan","touchRotate"]);var Ie=w.scrollZoom=new Er(w,this);this._add("scrollZoom",Ie,["mousePan"]);var Ze=w.keyboard=new ta;this._add("keyboard",Ze),this._add("blockableMapEvent",new sn(w));for(var De=0,Ye=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];De<Ye.length;De+=1){var ti=Ye[De];g.interactive&&g[ti]&&w[ti].enable(g[ti])}},On.prototype._add=function(g,w,_){this._handlers.push({handlerName:g,handler:w,allowed:_}),this._handlersById[g]=w},On.prototype.stop=function(g){if(!this._updatingCamera){for(var w=0,_=this._handlers;w<_.length;w+=1)_[w].handler.reset();this._inertia.clear(),this._fireEvents({},{},g),this._changes=[]}},On.prototype.isActive=function(){for(var g=0,w=this._handlers;g<w.length;g+=1)if(w[g].handler.isActive())return!0;return!1},On.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},On.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},On.prototype.isMoving=function(){return Boolean(Ro(this._eventsInProgress))||this.isZooming()},On.prototype._blockedByActive=function(g,w,_){for(var j in g)if(j!==_&&(!w||w.indexOf(j)<0))return!0;return!1},On.prototype.handleWindowEvent=function(g){this.handleEvent(g,g.type+"Window")},On.prototype._getMapTouches=function(g){for(var w=[],_=0,j=g;_<j.length;_+=1){var et=j[_];this._el.contains(et.target)&&w.push(et)}return w},On.prototype.handleEvent=function(g,w){if("blur"!==g.type){this._updatingCamera=!0;for(var _="renderFrame"===g.type?void 0:g,j={needsRenderFrame:!1},et={},ct={},xt=g.touches?this._getMapTouches(g.touches):void 0,Ot=xt?C.touchPos(this._el,xt):C.mousePos(this._el,g),Zt=0,ne=this._handlers;Zt<ne.length;Zt+=1){var _e=ne[Zt],we=_e.handlerName,Ce=_e.handler,Ne=_e.allowed;if(Ce.isEnabled()){var Ie=void 0;this._blockedByActive(ct,Ne,we)?Ce.reset():Ce[w||g.type]&&(Ie=Ce[w||g.type](g,Ot,xt),this.mergeHandlerResult(j,et,Ie,we,_),Ie&&Ie.needsRenderFrame&&this._triggerRenderFrame()),(Ie||Ce.isActive())&&(ct[we]=Ce)}}var Ze={};for(var De in this._previousActiveHandlers)ct[De]||(Ze[De]=_);this._previousActiveHandlers=ct,(Object.keys(Ze).length||jn(j))&&(this._changes.push([j,et,Ze]),this._triggerRenderFrame()),(Object.keys(ct).length||jn(j))&&this._map._stop(!0),this._updatingCamera=!1;var Ye=j.cameraAnimation;Ye&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ye(this._map))}else this.stop(!0)},On.prototype.mergeHandlerResult=function(g,w,_,j,et){if(_){n.extend(g,_);var ct={handlerName:j,originalEvent:_.originalEvent||et};void 0!==_.zoomDelta&&(w.zoom=ct),void 0!==_.panDelta&&(w.drag=ct),void 0!==_.pitchDelta&&(w.pitch=ct),void 0!==_.bearingDelta&&(w.rotate=ct)}},On.prototype._applyChanges=function(){for(var g={},w={},_={},j=0,et=this._changes;j<et.length;j+=1){var ct=et[j],xt=ct[0],Ot=ct[1],Zt=ct[2];xt.panDelta&&(g.panDelta=(g.panDelta||new n.Point(0,0))._add(xt.panDelta)),xt.zoomDelta&&(g.zoomDelta=(g.zoomDelta||0)+xt.zoomDelta),xt.bearingDelta&&(g.bearingDelta=(g.bearingDelta||0)+xt.bearingDelta),xt.pitchDelta&&(g.pitchDelta=(g.pitchDelta||0)+xt.pitchDelta),void 0!==xt.around&&(g.around=xt.around),void 0!==xt.pinchAround&&(g.pinchAround=xt.pinchAround),xt.noInertia&&(g.noInertia=xt.noInertia),n.extend(w,Ot),n.extend(_,Zt)}this._updateMapTransform(g,w,_),this._changes=[]},On.prototype._updateMapTransform=function(g,w,_){var j=this._map,et=j.transform;if(!jn(g))return this._fireEvents(w,_,!0);var ct=g.panDelta,xt=g.zoomDelta,Ot=g.bearingDelta,Zt=g.pitchDelta,ne=g.around,_e=g.pinchAround;void 0!==_e&&(ne=_e),j._stop(!0),ne=ne||j.transform.centerPoint;var we=et.pointLocation(ct?ne.sub(ct):ne);Ot&&(et.bearing+=Ot),Zt&&(et.pitch+=Zt),xt&&(et.zoom+=xt),et.setLocationAtPoint(we,ne),this._map._update(),g.noInertia||this._inertia.record(g),this._fireEvents(w,_,!0)},On.prototype._fireEvents=function(g,w,_){var j=this,et=Ro(this._eventsInProgress),ct=Ro(g),xt={};for(var Ot in g)this._eventsInProgress[Ot]||(xt[Ot+"start"]=g[Ot].originalEvent),this._eventsInProgress[Ot]=g[Ot];for(var Zt in!et&&ct&&this._fireEvent("movestart",ct.originalEvent),xt)this._fireEvent(Zt,xt[Zt]);for(var ne in ct&&this._fireEvent("move",ct.originalEvent),g)this._fireEvent(ne,g[ne].originalEvent);var _e,we={};for(var Ce in this._eventsInProgress){var Ne=this._eventsInProgress[Ce],Ie=Ne.handlerName,Ze=Ne.originalEvent;this._handlersById[Ie].isActive()||(delete this._eventsInProgress[Ce],we[Ce+"end"]=_e=w[Ie]||Ze)}for(var De in we)this._fireEvent(De,we[De]);var Ye=Ro(this._eventsInProgress);if(_&&(et||ct)&&!Ye){this._updatingCamera=!0;var ti=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),_i=function(Oi){return 0!==Oi&&-j._bearingSnap<Oi&&Oi<j._bearingSnap};ti?(_i(ti.bearing||this._map.getBearing())&&(ti.bearing=0),this._map.easeTo(ti,{originalEvent:_e})):(this._map.fire(new n.Event("moveend",{originalEvent:_e})),_i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},On.prototype._fireEvent=function(g,w){this._map.fire(new n.Event(g,w?{originalEvent:w}:{}))},On.prototype._requestFrame=function(){var g=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(w){delete g._frameId,g.handleEvent(new ca("renderFrame",{timeStamp:w})),g._applyChanges()})},On.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var Ca=function(g){function w(_,j){g.call(this),this._moving=!1,this._zooming=!1,this.transform=_,this._bearingSnap=j.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},w.prototype.setCenter=function(_,j){return this.jumpTo({center:_},j)},w.prototype.panBy=function(_,j,et){return _=n.Point.convert(_).mult(-1),this.panTo(this.transform.center,n.extend({offset:_},j),et)},w.prototype.panTo=function(_,j,et){return this.easeTo(n.extend({center:_},j),et)},w.prototype.getZoom=function(){return this.transform.zoom},w.prototype.setZoom=function(_,j){return this.jumpTo({zoom:_},j),this},w.prototype.zoomTo=function(_,j,et){return this.easeTo(n.extend({zoom:_},j),et)},w.prototype.zoomIn=function(_,j){return this.zoomTo(this.getZoom()+1,_,j),this},w.prototype.zoomOut=function(_,j){return this.zoomTo(this.getZoom()-1,_,j),this},w.prototype.getBearing=function(){return this.transform.bearing},w.prototype.setBearing=function(_,j){return this.jumpTo({bearing:_},j),this},w.prototype.getPadding=function(){return this.transform.padding},w.prototype.setPadding=function(_,j){return this.jumpTo({padding:_},j),this},w.prototype.rotateTo=function(_,j,et){return this.easeTo(n.extend({bearing:_},j),et)},w.prototype.resetNorth=function(_,j){return this.rotateTo(0,n.extend({duration:1e3},_),j),this},w.prototype.resetNorthPitch=function(_,j){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},_),j),this},w.prototype.snapToNorth=function(_,j){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(_,j):this},w.prototype.getPitch=function(){return this.transform.pitch},w.prototype.setPitch=function(_,j){return this.jumpTo({pitch:_},j),this},w.prototype.cameraForBounds=function(_,j){_=n.LngLatBounds.convert(_);var et=j&&j.bearing||0;return this._cameraForBoxAndBearing(_.getNorthWest(),_.getSouthEast(),et,j)},w.prototype._cameraForBoxAndBearing=function(_,j,et,ct){var xt={top:0,bottom:0,right:0,left:0};if("number"==typeof(ct=n.extend({padding:xt,offset:[0,0],maxZoom:this.transform.maxZoom},ct)).padding){var Ot=ct.padding;ct.padding={top:Ot,bottom:Ot,right:Ot,left:Ot}}ct.padding=n.extend(xt,ct.padding);var Zt=this.transform,ne=Zt.padding,_e=Zt.project(n.LngLat.convert(_)),we=Zt.project(n.LngLat.convert(j)),Ce=_e.rotate(-et*Math.PI/180),Ne=we.rotate(-et*Math.PI/180),Ie=new n.Point(Math.max(Ce.x,Ne.x),Math.max(Ce.y,Ne.y)),Ze=new n.Point(Math.min(Ce.x,Ne.x),Math.min(Ce.y,Ne.y)),De=Ie.sub(Ze),Ye=(Zt.width-(ne.left+ne.right+ct.padding.left+ct.padding.right))/De.x,ti=(Zt.height-(ne.top+ne.bottom+ct.padding.top+ct.padding.bottom))/De.y;if(!(ti<0||Ye<0)){var _i=Math.min(Zt.scaleZoom(Zt.scale*Math.min(Ye,ti)),ct.maxZoom),Oi="number"==typeof ct.offset.x?new n.Point(ct.offset.x,ct.offset.y):n.Point.convert(ct.offset),ki=new n.Point((ct.padding.left-ct.padding.right)/2,(ct.padding.top-ct.padding.bottom)/2).rotate(et*Math.PI/180),Ni=Oi.add(ki).mult(Zt.scale/Zt.zoomScale(_i));return{center:Zt.unproject(_e.add(we).div(2).sub(Ni)),zoom:_i,bearing:et}}n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},w.prototype.fitBounds=function(_,j,et){return this._fitInternal(this.cameraForBounds(_,j),j,et)},w.prototype.fitScreenCoordinates=function(_,j,et,ct,xt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(_)),this.transform.pointLocation(n.Point.convert(j)),et,ct),ct,xt)},w.prototype._fitInternal=function(_,j,et){return _?(delete(j=n.extend(_,j)).padding,j.linear?this.easeTo(j,et):this.flyTo(j,et)):this},w.prototype.jumpTo=function(_,j){this.stop();var et=this.transform,ct=!1,xt=!1,Ot=!1;return"zoom"in _&&et.zoom!==+_.zoom&&(ct=!0,et.zoom=+_.zoom),void 0!==_.center&&(et.center=n.LngLat.convert(_.center)),"bearing"in _&&et.bearing!==+_.bearing&&(xt=!0,et.bearing=+_.bearing),"pitch"in _&&et.pitch!==+_.pitch&&(Ot=!0,et.pitch=+_.pitch),null==_.padding||et.isPaddingEqual(_.padding)||(et.padding=_.padding),this.fire(new n.Event("movestart",j)).fire(new n.Event("move",j)),ct&&this.fire(new n.Event("zoomstart",j)).fire(new n.Event("zoom",j)).fire(new n.Event("zoomend",j)),xt&&this.fire(new n.Event("rotatestart",j)).fire(new n.Event("rotate",j)).fire(new n.Event("rotateend",j)),Ot&&this.fire(new n.Event("pitchstart",j)).fire(new n.Event("pitch",j)).fire(new n.Event("pitchend",j)),this.fire(new n.Event("moveend",j))},w.prototype.easeTo=function(_,j){var et=this;this._stop(!1,_.easeId),(!1===(_=n.extend({offset:[0,0],duration:500,easing:n.ease},_)).animate||!_.essential&&n.browser.prefersReducedMotion)&&(_.duration=0);var ct=this.transform,xt=this.getZoom(),Ot=this.getBearing(),Zt=this.getPitch(),ne=this.getPadding(),_e="zoom"in _?+_.zoom:xt,we="bearing"in _?this._normalizeBearing(_.bearing,Ot):Ot,Ce="pitch"in _?+_.pitch:Zt,Ne="padding"in _?_.padding:ct.padding,Ie=n.Point.convert(_.offset),Ze=ct.centerPoint.add(Ie),De=ct.pointLocation(Ze),Ye=n.LngLat.convert(_.center||De);this._normalizeCenter(Ye);var ti,_i,Oi=ct.project(De),ki=ct.project(Ye).sub(Oi),Ni=ct.zoomScale(_e-xt);_.around&&(ti=n.LngLat.convert(_.around),_i=ct.locationPoint(ti));var Ki={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||_e!==xt,this._rotating=this._rotating||Ot!==we,this._pitching=this._pitching||Ce!==Zt,this._padding=!ct.isPaddingEqual(Ne),this._easeId=_.easeId,this._prepareEase(j,_.noMoveStart,Ki),this._ease(function(fn){if(et._zooming&&(ct.zoom=n.number(xt,_e,fn)),et._rotating&&(ct.bearing=n.number(Ot,we,fn)),et._pitching&&(ct.pitch=n.number(Zt,Ce,fn)),et._padding&&(ct.interpolatePadding(ne,Ne,fn),Ze=ct.centerPoint.add(Ie)),ti)ct.setLocationAtPoint(ti,_i);else{var dn=ct.zoomScale(ct.zoom-xt),Mn=_e>xt?Math.min(2,Ni):Math.max(.5,Ni),Wn=Math.pow(Mn,1-fn),qn=ct.unproject(Oi.add(ki.mult(fn*Wn)).mult(dn));ct.setLocationAtPoint(ct.renderWorldCopies?qn.wrap():qn,Ze)}et._fireMoveEvents(j)},function(fn){et._afterEase(j,fn)},_),this},w.prototype._prepareEase=function(_,j,et){void 0===et&&(et={}),this._moving=!0,j||et.moving||this.fire(new n.Event("movestart",_)),this._zooming&&!et.zooming&&this.fire(new n.Event("zoomstart",_)),this._rotating&&!et.rotating&&this.fire(new n.Event("rotatestart",_)),this._pitching&&!et.pitching&&this.fire(new n.Event("pitchstart",_))},w.prototype._fireMoveEvents=function(_){this.fire(new n.Event("move",_)),this._zooming&&this.fire(new n.Event("zoom",_)),this._rotating&&this.fire(new n.Event("rotate",_)),this._pitching&&this.fire(new n.Event("pitch",_))},w.prototype._afterEase=function(_,j){if(!this._easeId||!j||this._easeId!==j){delete this._easeId;var et=this._zooming,ct=this._rotating,xt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,et&&this.fire(new n.Event("zoomend",_)),ct&&this.fire(new n.Event("rotateend",_)),xt&&this.fire(new n.Event("pitchend",_)),this.fire(new n.Event("moveend",_))}},w.prototype.flyTo=function(_,j){var et=this;if(!_.essential&&n.browser.prefersReducedMotion){var ct=n.pick(_,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ct,j)}this.stop(),_=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},_);var xt=this.transform,Ot=this.getZoom(),Zt=this.getBearing(),ne=this.getPitch(),_e=this.getPadding(),we="zoom"in _?n.clamp(+_.zoom,xt.minZoom,xt.maxZoom):Ot,Ce="bearing"in _?this._normalizeBearing(_.bearing,Zt):Zt,Ne="pitch"in _?+_.pitch:ne,Ie="padding"in _?_.padding:xt.padding,Ze=xt.zoomScale(we-Ot),De=n.Point.convert(_.offset),Ye=xt.centerPoint.add(De),ti=xt.pointLocation(Ye),_i=n.LngLat.convert(_.center||ti);this._normalizeCenter(_i);var Oi=xt.project(ti),ki=xt.project(_i).sub(Oi),Ni=_.curve,Ki=Math.max(xt.width,xt.height),fn=Ki/Ze,dn=ki.mag();if("minZoom"in _){var Mn=n.clamp(Math.min(_.minZoom,Ot,we),xt.minZoom,xt.maxZoom),Wn=Ki/xt.zoomScale(Mn-Ot);Ni=Math.sqrt(Wn/dn*2)}var qn=Ni*Ni;function Zn(ar){var ir=(fn*fn-Ki*Ki+(ar?-1:1)*qn*qn*dn*dn)/(2*(ar?fn:Ki)*qn*dn);return Math.log(Math.sqrt(ir*ir+1)-ir)}function Xr(ar){return(Math.exp(ar)-Math.exp(-ar))/2}function Dn(ar){return(Math.exp(ar)+Math.exp(-ar))/2}var dr=Zn(0),Tr=function(ar){return Dn(dr)/Dn(dr+Ni*ar)},ur=function(ar){return Ki*((Dn(dr)*(Xr(ir=dr+Ni*ar)/Dn(ir))-Xr(dr))/qn)/dn;var ir},lr=(Zn(1)-dr)/Ni;if(Math.abs(dn)<1e-6||!isFinite(lr)){if(Math.abs(Ki-fn)<1e-6)return this.easeTo(_,j);var wr=fn<Ki?-1:1;lr=Math.abs(Math.log(fn/Ki))/Ni,ur=function(){return 0},Tr=function(ar){return Math.exp(wr*Ni*ar)}}return _.duration="duration"in _?+_.duration:1e3*lr/("screenSpeed"in _?+_.screenSpeed/Ni:+_.speed),_.maxDuration&&_.duration>_.maxDuration&&(_.duration=0),this._zooming=!0,this._rotating=Zt!==Ce,this._pitching=Ne!==ne,this._padding=!xt.isPaddingEqual(Ie),this._prepareEase(j,!1),this._ease(function(ar){var ir=ar*lr,is=1/Tr(ir);xt.zoom=1===ar?we:Ot+xt.scaleZoom(is),et._rotating&&(xt.bearing=n.number(Zt,Ce,ar)),et._pitching&&(xt.pitch=n.number(ne,Ne,ar)),et._padding&&(xt.interpolatePadding(_e,Ie,ar),Ye=xt.centerPoint.add(De));var Bo=1===ar?_i:xt.unproject(Oi.add(ki.mult(ur(ir))).mult(is));xt.setLocationAtPoint(xt.renderWorldCopies?Bo.wrap():Bo,Ye),et._fireMoveEvents(j)},function(){return et._afterEase(j)},_),this},w.prototype.isEasing=function(){return!!this._easeFrameId},w.prototype.stop=function(){return this._stop()},w.prototype._stop=function(_,j){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var et=this._onEaseEnd;delete this._onEaseEnd,et.call(this,j)}if(!_){var ct=this.handlers;ct&&ct.stop(!1)}return this},w.prototype._ease=function(_,j,et){!1===et.animate||0===et.duration?(_(1),j()):(this._easeStart=n.browser.now(),this._easeOptions=et,this._onEaseFrame=_,this._onEaseEnd=j,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},w.prototype._renderFrameCallback=function(){var _=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(_)),_<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},w.prototype._normalizeBearing=function(_,j){_=n.wrap(_,-180,180);var et=Math.abs(_-j);return Math.abs(_-360-j)<et&&(_-=360),Math.abs(_+360-j)<et&&(_+=360),_},w.prototype._normalizeCenter=function(_){var j=this.transform;if(j.renderWorldCopies&&!j.lngRange){var et=_.lng-j.center.lng;_.lng+=et>180?-360:et<-180?360:0}},w}(n.Evented),us=function(g){void 0===g&&(g={}),this.options=g,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};us.prototype.getDefaultPosition=function(){return"bottom-right"},us.prototype.onAdd=function(g){var w=this.options&&this.options.compact;return this._map=g,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=C.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),w&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===w&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},us.prototype.onRemove=function(){C.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},us.prototype._setElementTitle=function(g,w){var _=this._map._getUIString("AttributionControl."+w);g.title=_,g.setAttribute("aria-label",_)},us.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},us.prototype._updateEditLink=function(){var g=this._editLink;g||(g=this._editLink=this._container.querySelector(".mapbox-improve-map"));var w=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(g){var _=w.reduce(function(j,et,ct){return et.value&&(j+=et.key+"="+et.value+(ct<w.length-1?"&":"")),j},"?");g.href=n.config.FEEDBACK_URL+"/"+_+(this._map._hash?this._map._hash.getHashString(!0):""),g.rel="noopener nofollow",this._setElementTitle(g,"MapFeedback")}},us.prototype._updateData=function(g){!g||"metadata"!==g.sourceDataType&&"visibility"!==g.sourceDataType&&"style"!==g.dataType||(this._updateAttributions(),this._updateEditLink())},us.prototype._updateAttributions=function(){if(this._map.style){var g=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?g=g.concat(this.options.customAttribution.map(function(Ot){return"string"!=typeof Ot?"":Ot})):"string"==typeof this.options.customAttribution&&g.push(this.options.customAttribution)),this._map.style.stylesheet){var w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}var _=this._map.style.sourceCaches;for(var j in _){var et=_[j];if(et.used){var ct=et.getSource();ct.attribution&&g.indexOf(ct.attribution)<0&&g.push(ct.attribution)}}g.sort(function(Ot,Zt){return Ot.length-Zt.length});var xt=(g=g.filter(function(Ot,Zt){for(var ne=Zt+1;ne<g.length;ne++)if(g[ne].indexOf(Ot)>=0)return!1;return!0})).join(" | ");xt!==this._attribHTML&&(this._attribHTML=xt,g.length?(this._innerContainer.innerHTML=xt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},us.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var js=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};js.prototype.onAdd=function(g){this._map=g,this._container=C.create("div","mapboxgl-ctrl");var w=C.create("a","mapboxgl-ctrl-logo");return w.target="_blank",w.rel="noopener nofollow",w.href="https://www.mapbox.com/",w.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),w.setAttribute("rel","noopener nofollow"),this._container.appendChild(w),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},js.prototype.onRemove=function(){C.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},js.prototype.getDefaultPosition=function(){return"bottom-left"},js.prototype._updateLogo=function(g){g&&"metadata"!==g.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},js.prototype._logoRequired=function(){if(this._map.style){var g=this._map.style.sourceCaches;for(var w in g)if(g[w].getSource().mapbox_logo)return!0;return!1}},js.prototype._updateCompact=function(){var g=this._container.children;if(g.length){var w=g[0];this._map.getCanvasContainer().offsetWidth<250?w.classList.add("mapboxgl-compact"):w.classList.remove("mapboxgl-compact")}};var Jo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Jo.prototype.add=function(g){var w=++this._id;return this._queue.push({callback:g,id:w,cancelled:!1}),w},Jo.prototype.remove=function(g){for(var w=this._currentlyRunning,_=0,j=w?this._queue.concat(w):this._queue;_<j.length;_+=1){var et=j[_];if(et.id===g)return void(et.cancelled=!0)}},Jo.prototype.run=function(g){void 0===g&&(g=0);var w=this._currentlyRunning=this._queue;this._queue=[];for(var _=0,j=w;_<j.length;_+=1){var et=j[_];if(!et.cancelled&&(et.callback(g),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Jo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ks={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},al=n.window.HTMLImageElement,Za=n.window.HTMLElement,Jr=n.window.ImageBitmap,Yo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Mh=function(g){function w(j){var et=this;if(null!=(j=n.extend({},Yo,j)).minZoom&&null!=j.maxZoom&&j.minZoom>j.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=j.minPitch&&null!=j.maxPitch&&j.minPitch>j.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=j.minPitch&&j.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=j.maxPitch&&j.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var ct=new Qi(j.minZoom,j.maxZoom,j.minPitch,j.maxPitch,j.renderWorldCopies);if(g.call(this,ct,j),this._interactive=j.interactive,this._maxTileCacheSize=j.maxTileCacheSize,this._failIfMajorPerformanceCaveat=j.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=j.preserveDrawingBuffer,this._antialias=j.antialias,this._trackResize=j.trackResize,this._bearingSnap=j.bearingSnap,this._refreshExpiredTiles=j.refreshExpiredTiles,this._fadeDuration=j.fadeDuration,this._crossSourceCollisions=j.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=j.collectResourceTiming,this._renderTaskQueue=new Jo,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},Ks,j.locale),this._clickTolerance=j.clickTolerance,this._requestManager=new n.RequestManager(j.transformRequest,j.accessToken),"string"==typeof j.container){if(this._container=n.window.document.getElementById(j.container),!this._container)throw new Error("Container '"+j.container+"' not found.")}else{if(!(j.container instanceof Za))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=j.container}if(j.maxBounds&&this.setMaxBounds(j.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return et._update(!1)}),this.on("moveend",function(){return et._update(!1)}),this.on("zoom",function(){return et._update(!0)}),void 0!==n.window&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new On(this,j),this._hash=j.hash&&new hr("string"==typeof j.hash&&j.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:j.center,zoom:j.zoom,bearing:j.bearing,pitch:j.pitch}),j.bounds&&(this.resize(),this.fitBounds(j.bounds,n.extend({},j.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=j.localIdeographFontFamily,j.style&&this.setStyle(j.style,{localIdeographFontFamily:j.localIdeographFontFamily}),j.attributionControl&&this.addControl(new us({customAttribution:j.customAttribution})),this.addControl(new js,j.logoPosition),this.on("style.load",function(){et.transform.unmodified&&et.jumpTo(et.style.stylesheet)}),this.on("data",function(xt){et._update("style"===xt.dataType),et.fire(new n.Event(xt.dataType+"data",xt))}),this.on("dataloading",function(xt){et.fire(new n.Event(xt.dataType+"dataloading",xt))})}g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w;var _={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return w.prototype._getMapId=function(){return this._mapId},w.prototype.addControl=function(j,et){if(void 0===et&&(et=j.getDefaultPosition?j.getDefaultPosition():"top-right"),!j||!j.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var ct=j.onAdd(this);this._controls.push(j);var xt=this._controlPositions[et];return-1!==et.indexOf("bottom")?xt.insertBefore(ct,xt.firstChild):xt.appendChild(ct),this},w.prototype.removeControl=function(j){if(!j||!j.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var et=this._controls.indexOf(j);return et>-1&&this._controls.splice(et,1),j.onRemove(this),this},w.prototype.hasControl=function(j){return this._controls.indexOf(j)>-1},w.prototype.resize=function(j){var et=this._containerDimensions(),ct=et[0],xt=et[1];this._resizeCanvas(ct,xt),this.transform.resize(ct,xt),this.painter.resize(ct,xt);var Ot=!this._moving;return Ot&&(this.stop(),this.fire(new n.Event("movestart",j)).fire(new n.Event("move",j))),this.fire(new n.Event("resize",j)),Ot&&this.fire(new n.Event("moveend",j)),this},w.prototype.getBounds=function(){return this.transform.getBounds()},w.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},w.prototype.setMaxBounds=function(j){return this.transform.setMaxBounds(n.LngLatBounds.convert(j)),this._update()},w.prototype.setMinZoom=function(j){if((j=j??-2)>=-2&&j<=this.transform.maxZoom)return this.transform.minZoom=j,this._update(),this.getZoom()<j&&this.setZoom(j),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},w.prototype.getMinZoom=function(){return this.transform.minZoom},w.prototype.setMaxZoom=function(j){if((j=j??22)>=this.transform.minZoom)return this.transform.maxZoom=j,this._update(),this.getZoom()>j&&this.setZoom(j),this;throw new Error("maxZoom must be greater than the current minZoom")},w.prototype.getMaxZoom=function(){return this.transform.maxZoom},w.prototype.setMinPitch=function(j){if((j=j??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(j>=0&&j<=this.transform.maxPitch)return this.transform.minPitch=j,this._update(),this.getPitch()<j&&this.setPitch(j),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},w.prototype.getMinPitch=function(){return this.transform.minPitch},w.prototype.setMaxPitch=function(j){if((j=j??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(j>=this.transform.minPitch)return this.transform.maxPitch=j,this._update(),this.getPitch()>j&&this.setPitch(j),this;throw new Error("maxPitch must be greater than the current minPitch")},w.prototype.getMaxPitch=function(){return this.transform.maxPitch},w.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},w.prototype.setRenderWorldCopies=function(j){return this.transform.renderWorldCopies=j,this._update()},w.prototype.project=function(j){return this.transform.locationPoint(n.LngLat.convert(j))},w.prototype.unproject=function(j){return this.transform.pointLocation(n.Point.convert(j))},w.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},w.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},w.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},w.prototype._createDelegatedListener=function(j,et,ct){var xt,Ot=this;if("mouseenter"===j||"mouseover"===j){var Zt=!1;return{layer:et,listener:ct,delegates:{mousemove:function(_e){var we=Ot.getLayer(et)?Ot.queryRenderedFeatures(_e.point,{layers:[et]}):[];we.length?Zt||(Zt=!0,ct.call(Ot,new tr(j,Ot,_e.originalEvent,{features:we}))):Zt=!1},mouseout:function(){Zt=!1}}}}if("mouseleave"===j||"mouseout"===j){var ne=!1;return{layer:et,listener:ct,delegates:{mousemove:function(_e){(Ot.getLayer(et)?Ot.queryRenderedFeatures(_e.point,{layers:[et]}):[]).length?ne=!0:ne&&(ne=!1,ct.call(Ot,new tr(j,Ot,_e.originalEvent)))},mouseout:function(_e){ne&&(ne=!1,ct.call(Ot,new tr(j,Ot,_e.originalEvent)))}}}}return{layer:et,listener:ct,delegates:(xt={},xt[j]=function(_e){var we=Ot.getLayer(et)?Ot.queryRenderedFeatures(_e.point,{layers:[et]}):[];we.length&&(_e.features=we,ct.call(Ot,_e),delete _e.features)},xt)}},w.prototype.on=function(j,et,ct){if(void 0===ct)return g.prototype.on.call(this,j,et);var xt=this._createDelegatedListener(j,et,ct);for(var Ot in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[j]=this._delegatedListeners[j]||[],this._delegatedListeners[j].push(xt),xt.delegates)this.on(Ot,xt.delegates[Ot]);return this},w.prototype.once=function(j,et,ct){if(void 0===ct)return g.prototype.once.call(this,j,et);var xt=this._createDelegatedListener(j,et,ct);for(var Ot in xt.delegates)this.once(Ot,xt.delegates[Ot]);return this},w.prototype.off=function(j,et,ct){var xt=this;return void 0===ct?g.prototype.off.call(this,j,et):(this._delegatedListeners&&this._delegatedListeners[j]&&function(Ot){for(var Zt=Ot[j],ne=0;ne<Zt.length;ne++){var _e=Zt[ne];if(_e.layer===et&&_e.listener===ct){for(var we in _e.delegates)xt.off(we,_e.delegates[we]);return Zt.splice(ne,1),xt}}}(this._delegatedListeners),this)},w.prototype.queryRenderedFeatures=function(j,et){if(!this.style)return[];var ct;if(void 0!==et||void 0===j||j instanceof n.Point||Array.isArray(j)||(et=j,j=void 0),et=et||{},(j=j||[[0,0],[this.transform.width,this.transform.height]])instanceof n.Point||"number"==typeof j[0])ct=[n.Point.convert(j)];else{var xt=n.Point.convert(j[0]),Ot=n.Point.convert(j[1]);ct=[xt,new n.Point(Ot.x,xt.y),Ot,new n.Point(xt.x,Ot.y),xt]}return this.style.queryRenderedFeatures(ct,et,this.transform)},w.prototype.querySourceFeatures=function(j,et){return this.style.querySourceFeatures(j,et)},w.prototype.setStyle=function(j,et){return!1!==(et=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},et)).diff&&et.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&j?(this._diffStyle(j,et),this):(this._localIdeographFontFamily=et.localIdeographFontFamily,this._updateStyle(j,et))},w.prototype._getUIString=function(j){var et=this._locale[j];if(null==et)throw new Error("Missing UI string '"+j+"'");return et},w.prototype._updateStyle=function(j,et){return this.style&&(this.style.setEventedParent(null),this.style._remove()),j?(this.style=new Ii(this,et||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof j?this.style.loadURL(j):this.style.loadJSON(j),this):(delete this.style,this)},w.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ii(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},w.prototype._diffStyle=function(j,et){var ct=this;if("string"==typeof j){var xt=this._requestManager.normalizeStyleURL(j),Ot=this._requestManager.transformRequest(xt,n.ResourceType.Style);n.getJSON(Ot,function(Zt,ne){Zt?ct.fire(new n.ErrorEvent(Zt)):ne&&ct._updateDiff(ne,et)})}else"object"==typeof j&&this._updateDiff(j,et)},w.prototype._updateDiff=function(j,et){try{this.style.setState(j)&&this._update(!0)}catch(ct){n.warnOnce("Unable to perform style diff: "+(ct.message||ct.error||ct)+".  Rebuilding the style from scratch."),this._updateStyle(j,et)}},w.prototype.getStyle=function(){if(this.style)return this.style.serialize()},w.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},w.prototype.addSource=function(j,et){return this._lazyInitEmptyStyle(),this.style.addSource(j,et),this._update(!0)},w.prototype.isSourceLoaded=function(j){var et=this.style&&this.style.sourceCaches[j];if(void 0!==et)return et.loaded();this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+j+"'")))},w.prototype.areTilesLoaded=function(){var j=this.style&&this.style.sourceCaches;for(var et in j){var ct=j[et]._tiles;for(var xt in ct){var Ot=ct[xt];if("loaded"!==Ot.state&&"errored"!==Ot.state)return!1}}return!0},w.prototype.addSourceType=function(j,et,ct){return this._lazyInitEmptyStyle(),this.style.addSourceType(j,et,ct)},w.prototype.removeSource=function(j){return this.style.removeSource(j),this._update(!0)},w.prototype.getSource=function(j){return this.style.getSource(j)},w.prototype.addImage=function(j,et,ct){void 0===ct&&(ct={});var xt=ct.pixelRatio;void 0===xt&&(xt=1);var Ot=ct.sdf;void 0===Ot&&(Ot=!1);var Zt=ct.stretchX,ne=ct.stretchY,_e=ct.content;if(this._lazyInitEmptyStyle(),et instanceof al||Jr&&et instanceof Jr){var we=n.browser.getImageData(et);this.style.addImage(j,{data:new n.RGBAImage({width:we.width,height:we.height},we.data),pixelRatio:xt,stretchX:Zt,stretchY:ne,content:_e,sdf:Ot,version:0})}else{if(void 0===et.width||void 0===et.height)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Ce=et;this.style.addImage(j,{data:new n.RGBAImage({width:et.width,height:et.height},new Uint8Array(et.data)),pixelRatio:xt,stretchX:Zt,stretchY:ne,content:_e,sdf:Ot,version:0,userImage:Ce}),Ce.onAdd&&Ce.onAdd(this,j)}},w.prototype.updateImage=function(j,et){var ct=this.style.getImage(j);if(!ct)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var xt=et instanceof al||Jr&&et instanceof Jr?n.browser.getImageData(et):et,Ot=xt.width,Zt=xt.height,ne=xt.data;return void 0===Ot||void 0===Zt?this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):Ot!==ct.data.width||Zt!==ct.data.height?this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(ct.data.replace(ne,!(et instanceof al||Jr&&et instanceof Jr)),void this.style.updateImage(j,ct))},w.prototype.hasImage=function(j){return j?!!this.style.getImage(j):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},w.prototype.removeImage=function(j){this.style.removeImage(j)},w.prototype.loadImage=function(j,et){n.getImage(this._requestManager.transformRequest(j,n.ResourceType.Image),et)},w.prototype.listImages=function(){return this.style.listImages()},w.prototype.addLayer=function(j,et){return this._lazyInitEmptyStyle(),this.style.addLayer(j,et),this._update(!0)},w.prototype.moveLayer=function(j,et){return this.style.moveLayer(j,et),this._update(!0)},w.prototype.removeLayer=function(j){return this.style.removeLayer(j),this._update(!0)},w.prototype.getLayer=function(j){return this.style.getLayer(j)},w.prototype.setLayerZoomRange=function(j,et,ct){return this.style.setLayerZoomRange(j,et,ct),this._update(!0)},w.prototype.setFilter=function(j,et,ct){return void 0===ct&&(ct={}),this.style.setFilter(j,et,ct),this._update(!0)},w.prototype.getFilter=function(j){return this.style.getFilter(j)},w.prototype.setPaintProperty=function(j,et,ct,xt){return void 0===xt&&(xt={}),this.style.setPaintProperty(j,et,ct,xt),this._update(!0)},w.prototype.getPaintProperty=function(j,et){return this.style.getPaintProperty(j,et)},w.prototype.setLayoutProperty=function(j,et,ct,xt){return void 0===xt&&(xt={}),this.style.setLayoutProperty(j,et,ct,xt),this._update(!0)},w.prototype.getLayoutProperty=function(j,et){return this.style.getLayoutProperty(j,et)},w.prototype.setLight=function(j,et){return void 0===et&&(et={}),this._lazyInitEmptyStyle(),this.style.setLight(j,et),this._update(!0)},w.prototype.getLight=function(){return this.style.getLight()},w.prototype.setFeatureState=function(j,et){return this.style.setFeatureState(j,et),this._update()},w.prototype.removeFeatureState=function(j,et){return this.style.removeFeatureState(j,et),this._update()},w.prototype.getFeatureState=function(j){return this.style.getFeatureState(j)},w.prototype.getContainer=function(){return this._container},w.prototype.getCanvasContainer=function(){return this._canvasContainer},w.prototype.getCanvas=function(){return this._canvas},w.prototype._containerDimensions=function(){var j=0,et=0;return this._container&&(j=this._container.clientWidth||400,et=this._container.clientHeight||300),[j,et]},w.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},w.prototype._setupContainer=function(){var j=this._container;j.classList.add("mapboxgl-map"),(this._missingCSSCanary=C.create("div","mapboxgl-canary",j)).style.visibility="hidden",this._detectMissingCSS();var et=this._canvasContainer=C.create("div","mapboxgl-canvas-container",j);this._interactive&&et.classList.add("mapboxgl-interactive"),this._canvas=C.create("canvas","mapboxgl-canvas",et),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ct=this._containerDimensions();this._resizeCanvas(ct[0],ct[1]);var xt=this._controlContainer=C.create("div","mapboxgl-control-container",j),Ot=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Zt){Ot[Zt]=C.create("div","mapboxgl-ctrl-"+Zt,xt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},w.prototype._resizeCanvas=function(j,et){var ct=n.browser.devicePixelRatio||1;this._canvas.width=ct*j,this._canvas.height=ct*et,this._canvas.style.width=j+"px",this._canvas.style.height=et+"px"},w.prototype._setupPainter=function(){var j=n.extend({},k.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),et=this._canvas.getContext("webgl",j)||this._canvas.getContext("experimental-webgl",j);et?(this.painter=new gi(et,this.transform),n.webpSupported.testSupport(et)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))},w.prototype._contextLost=function(j){j.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:j}))},w.prototype._contextRestored=function(j){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:j}))},w.prototype._onMapScroll=function(j){if(j.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},w.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},w.prototype._update=function(j){return this.style?(this._styleDirty=this._styleDirty||j,this._sourcesDirty=!0,this.triggerRepaint(),this):this},w.prototype._requestRenderFrame=function(j){return this._update(),this._renderTaskQueue.add(j)},w.prototype._cancelRenderFrame=function(j){this._renderTaskQueue.remove(j)},w.prototype._render=function(j){var et,ct=this,xt=0,Ot=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(et=Ot.createQueryEXT(),Ot.beginQueryEXT(Ot.TIME_ELAPSED_EXT,et),xt=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(j),!this._removed){var Zt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var ne=this.transform.zoom,_e=n.browser.now();this.style.zoomHistory.update(ne,_e);var we=new n.EvaluationParameters(ne,{now:_e,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ce=we.crossFadingFactor();1===Ce&&Ce===this._crossFadingFactor||(Zt=!0,this._crossFadingFactor=Ce),this.style.update(we)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||Zt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Ne=n.browser.now()-xt;Ot.endQueryEXT(Ot.TIME_ELAPSED_EXT,et),setTimeout(function(){var De=Ot.getQueryObjectEXT(et,Ot.QUERY_RESULT_EXT)/1e6;Ot.deleteQueryEXT(et),ct.fire(new n.Event("gpu-timing-frame",{cpuTime:Ne,gpuTime:De}))},50)}if(this.listens("gpu-timing-layer")){var Ie=this.painter.collectGpuTimers();setTimeout(function(){var De=ct.painter.queryGpuTimers(Ie);ct.fire(new n.Event("gpu-timing-layer",{layerTimes:De}))},50)}var Ze=this._sourcesDirty||this._styleDirty||this._placementDirty;return Ze||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new n.Event("idle")),!this._loaded||this._fullyLoaded||Ze||(this._fullyLoaded=!0),this}},w.prototype.remove=function(){this._hash&&this._hash.remove();for(var j=0,et=this._controls;j<et.length;j+=1)et[j].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==n.window&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var ct=this.painter.context.gl.getExtension("WEBGL_lose_context");ct&&ct.loseContext(),za(this._canvasContainer),za(this._controlContainer),za(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},w.prototype.triggerRepaint=function(){var j=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(et){j._frame=null,j._render(et)}))},w.prototype._onWindowOnline=function(){this._update()},w.prototype._onWindowResize=function(j){this._trackResize&&this.resize({originalEvent:j})._update()},_.showTileBoundaries.get=function(){return!!this._showTileBoundaries},_.showTileBoundaries.set=function(j){this._showTileBoundaries!==j&&(this._showTileBoundaries=j,this._update())},_.showPadding.get=function(){return!!this._showPadding},_.showPadding.set=function(j){this._showPadding!==j&&(this._showPadding=j,this._update())},_.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},_.showCollisionBoxes.set=function(j){this._showCollisionBoxes!==j&&(this._showCollisionBoxes=j,j?this.style._generateCollisionBoxes():this._update())},_.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},_.showOverdrawInspector.set=function(j){this._showOverdrawInspector!==j&&(this._showOverdrawInspector=j,this._update())},_.repaint.get=function(){return!!this._repaint},_.repaint.set=function(j){this._repaint!==j&&(this._repaint=j,this.triggerRepaint())},_.vertices.get=function(){return!!this._vertices},_.vertices.set=function(j){this._vertices=j,this._update()},w.prototype._setCacheLimits=function(j,et){n.setCacheLimits(j,et)},_.version.get=function(){return n.version},Object.defineProperties(w.prototype,_),w}(Ca);function za(g){g.parentNode&&g.parentNode.removeChild(g)}var $l={showCompass:!0,showZoom:!0,visualizePitch:!1},ya=function(g){var w=this;this.options=n.extend({},$l,g),this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(_){return _.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(_){return w._map.zoomIn({},{originalEvent:_})}),C.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(_){return w._map.zoomOut({},{originalEvent:_})}),C.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(_){w.options.visualizePitch?w._map.resetNorthPitch({},{originalEvent:_}):w._map.resetNorth({},{originalEvent:_})}),this._compassIcon=C.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ya.prototype._updateZoomButtons=function(){var g=this._map.getZoom(),w=g===this._map.getMaxZoom(),_=g===this._map.getMinZoom();this._zoomInButton.disabled=w,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",w.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},ya.prototype._rotateCompassArrow=function(){var g=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=g},ya.prototype.onAdd=function(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Us(this._map,this._compass,this.options.visualizePitch)),this._container},ya.prototype.onRemove=function(){C.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ya.prototype._createButton=function(g,w){var _=C.create("button",g,this._container);return _.type="button",_.addEventListener("click",w),_},ya.prototype._setButtonTitle=function(g,w){var _=this._map._getUIString("NavigationControl."+w);g.title=_,g.setAttribute("aria-label",_)};var Us=function(g,w,_){void 0===_&&(_=!1),this._clickTolerance=10,this.element=w,this.mouseRotate=new Es({clickTolerance:g.dragRotate._mouseRotate._clickTolerance}),this.map=g,_&&(this.mousePitch=new la({clickTolerance:g.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),C.addEventListener(w,"mousedown",this.mousedown),C.addEventListener(w,"touchstart",this.touchstart,{passive:!1}),C.addEventListener(w,"touchmove",this.touchmove),C.addEventListener(w,"touchend",this.touchend),C.addEventListener(w,"touchcancel",this.reset)};function qa(g,w,_){if(g=new n.LngLat(g.lng,g.lat),w){var j=new n.LngLat(g.lng-360,g.lat),et=new n.LngLat(g.lng+360,g.lat),ct=_.locationPoint(g).distSqr(w);_.locationPoint(j).distSqr(w)<ct?g=j:_.locationPoint(et).distSqr(w)<ct&&(g=et)}for(;Math.abs(g.lng-_.center.lng)>180;){var xt=_.locationPoint(g);if(xt.x>=0&&xt.y>=0&&xt.x<=_.width&&xt.y<=_.height)break;g.lng>_.center.lng?g.lng-=360:g.lng+=360}return g}Us.prototype.down=function(g,w){this.mouseRotate.mousedown(g,w),this.mousePitch&&this.mousePitch.mousedown(g,w),C.disableDrag()},Us.prototype.move=function(g,w){var _=this.map,j=this.mouseRotate.mousemoveWindow(g,w);if(j&&j.bearingDelta&&_.setBearing(_.getBearing()+j.bearingDelta),this.mousePitch){var et=this.mousePitch.mousemoveWindow(g,w);et&&et.pitchDelta&&_.setPitch(_.getPitch()+et.pitchDelta)}},Us.prototype.off=function(){var g=this.element;C.removeEventListener(g,"mousedown",this.mousedown),C.removeEventListener(g,"touchstart",this.touchstart,{passive:!1}),C.removeEventListener(g,"touchmove",this.touchmove),C.removeEventListener(g,"touchend",this.touchend),C.removeEventListener(g,"touchcancel",this.reset),this.offTemp()},Us.prototype.offTemp=function(){C.enableDrag(),C.removeEventListener(n.window,"mousemove",this.mousemove),C.removeEventListener(n.window,"mouseup",this.mouseup)},Us.prototype.mousedown=function(g){this.down(n.extend({},g,{ctrlKey:!0,preventDefault:function(){return g.preventDefault()}}),C.mousePos(this.element,g)),C.addEventListener(n.window,"mousemove",this.mousemove),C.addEventListener(n.window,"mouseup",this.mouseup)},Us.prototype.mousemove=function(g){this.move(g,C.mousePos(this.element,g))},Us.prototype.mouseup=function(g){this.mouseRotate.mouseupWindow(g),this.mousePitch&&this.mousePitch.mouseupWindow(g),this.offTemp()},Us.prototype.touchstart=function(g){1!==g.targetTouches.length?this.reset():(this._startPos=this._lastPos=C.touchPos(this.element,g.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return g.preventDefault()}},this._startPos))},Us.prototype.touchmove=function(g){1!==g.targetTouches.length?this.reset():(this._lastPos=C.touchPos(this.element,g.targetTouches)[0],this.move({preventDefault:function(){return g.preventDefault()}},this._lastPos))},Us.prototype.touchend=function(g){0===g.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Us.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var da={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function bl(g,w,_){var j=g.classList;for(var et in da)j.remove("mapboxgl-"+_+"-anchor-"+et);j.add("mapboxgl-"+_+"-anchor-"+w)}var Ka,ll=function(g){function w(_,j){if(g.call(this),(_ instanceof n.window.HTMLElement||j)&&(_=n.extend({element:_},j)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=_&&_.anchor||"center",this._color=_&&_.color||"#3FB1CE",this._scale=_&&_.scale||1,this._draggable=_&&_.draggable||!1,this._clickTolerance=_&&_.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=_&&_.rotation||0,this._rotationAlignment=_&&_.rotationAlignment||"auto",this._pitchAlignment=_&&_.pitchAlignment&&"auto"!==_.pitchAlignment?_.pitchAlignment:this._rotationAlignment,_&&_.element)this._element=_.element,this._offset=n.Point.convert(_&&_.offset||[0,0]);else{this._defaultMarker=!0,this._element=C.create("div"),this._element.setAttribute("aria-label","Map marker");var et=C.createNS("http://www.w3.org/2000/svg","svg");et.setAttributeNS(null,"display","block"),et.setAttributeNS(null,"height","41px"),et.setAttributeNS(null,"width","27px"),et.setAttributeNS(null,"viewBox","0 0 27 41");var ct=C.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"stroke","none"),ct.setAttributeNS(null,"stroke-width","1"),ct.setAttributeNS(null,"fill","none"),ct.setAttributeNS(null,"fill-rule","evenodd");var xt=C.createNS("http://www.w3.org/2000/svg","g");xt.setAttributeNS(null,"fill-rule","nonzero");var Ot=C.createNS("http://www.w3.org/2000/svg","g");Ot.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ot.setAttributeNS(null,"fill","#000000");for(var Zt=0,ne=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];Zt<ne.length;Zt+=1){var _e=ne[Zt],we=C.createNS("http://www.w3.org/2000/svg","ellipse");we.setAttributeNS(null,"opacity","0.04"),we.setAttributeNS(null,"cx","10.5"),we.setAttributeNS(null,"cy","5.80029008"),we.setAttributeNS(null,"rx",_e.rx),we.setAttributeNS(null,"ry",_e.ry),Ot.appendChild(we)}var Ce=C.createNS("http://www.w3.org/2000/svg","g");Ce.setAttributeNS(null,"fill",this._color);var Ne=C.createNS("http://www.w3.org/2000/svg","path");Ne.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ce.appendChild(Ne);var Ie=C.createNS("http://www.w3.org/2000/svg","g");Ie.setAttributeNS(null,"opacity","0.25"),Ie.setAttributeNS(null,"fill","#000000");var Ze=C.createNS("http://www.w3.org/2000/svg","path");Ze.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ie.appendChild(Ze);var De=C.createNS("http://www.w3.org/2000/svg","g");De.setAttributeNS(null,"transform","translate(6.0, 7.0)"),De.setAttributeNS(null,"fill","#FFFFFF");var Ye=C.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"transform","translate(8.0, 8.0)");var ti=C.createNS("http://www.w3.org/2000/svg","circle");ti.setAttributeNS(null,"fill","#000000"),ti.setAttributeNS(null,"opacity","0.25"),ti.setAttributeNS(null,"cx","5.5"),ti.setAttributeNS(null,"cy","5.5"),ti.setAttributeNS(null,"r","5.4999962");var _i=C.createNS("http://www.w3.org/2000/svg","circle");_i.setAttributeNS(null,"fill","#FFFFFF"),_i.setAttributeNS(null,"cx","5.5"),_i.setAttributeNS(null,"cy","5.5"),_i.setAttributeNS(null,"r","5.4999962"),Ye.appendChild(ti),Ye.appendChild(_i),xt.appendChild(Ot),xt.appendChild(Ce),xt.appendChild(Ie),xt.appendChild(De),xt.appendChild(Ye),et.appendChild(xt),et.setAttributeNS(null,"height",41*this._scale+"px"),et.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(et),this._offset=n.Point.convert(_&&_.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Oi){Oi.preventDefault()}),this._element.addEventListener("mousedown",function(Oi){Oi.preventDefault()}),bl(this._element,this._anchor,"marker"),this._popup=null}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.addTo=function(_){return this.remove(),this._map=_,_.getCanvasContainer().appendChild(this._element),_.on("move",this._update),_.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},w.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),C.remove(this._element),this._popup&&this._popup.remove(),this},w.prototype.getLngLat=function(){return this._lngLat},w.prototype.setLngLat=function(_){return this._lngLat=n.LngLat.convert(_),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},w.prototype.getElement=function(){return this._element},w.prototype.setPopup=function(_){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),_){if(!("offset"in _.options)){var j=Math.sqrt(Math.pow(13.5,2)/2);_.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[j,-1*(24.6+j)],"bottom-right":[-j,-1*(24.6+j)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=_,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},w.prototype._onKeyPress=function(_){var j=_.code,et=_.charCode||_.keyCode;"Space"!==j&&"Enter"!==j&&32!==et&&13!==et||this.togglePopup()},w.prototype._onMapClick=function(_){var j=_.originalEvent.target,et=this._element;this._popup&&(j===et||et.contains(j))&&this.togglePopup()},w.prototype.getPopup=function(){return this._popup},w.prototype.togglePopup=function(){var _=this._popup;return _?(_.isOpen()?_.remove():_.addTo(this._map),this):this},w.prototype._update=function(_){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=qa(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var j="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?j="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(j="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var et="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?et="rotateX(0deg)":"map"===this._pitchAlignment&&(et="rotateX("+this._map.getPitch()+"deg)"),_&&"moveend"!==_.type||(this._pos=this._pos.round()),C.setTransform(this._element,da[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+et+" "+j)}},w.prototype.getOffset=function(){return this._offset},w.prototype.setOffset=function(_){return this._offset=n.Point.convert(_),this._update(),this},w.prototype._onMove=function(_){if(!this._isDragging){var j=this._clickTolerance||this._map._clickTolerance;this._isDragging=_.point.dist(this._pointerdownPos)>=j}this._isDragging&&(this._pos=_.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))},w.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new n.Event("dragend")),this._state="inactive"},w.prototype._addDragHandler=function(_){this._element.contains(_.originalEvent.target)&&(_.preventDefault(),this._positionDelta=_.point.sub(this._pos).add(this._offset),this._pointerdownPos=_.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},w.prototype.setDraggable=function(_){return this._draggable=!!_,this._map&&(_?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},w.prototype.isDraggable=function(){return this._draggable},w.prototype.setRotation=function(_){return this._rotation=_||0,this._update(),this},w.prototype.getRotation=function(){return this._rotation},w.prototype.setRotationAlignment=function(_){return this._rotationAlignment=_||"auto",this._update(),this},w.prototype.getRotationAlignment=function(){return this._rotationAlignment},w.prototype.setPitchAlignment=function(_){return this._pitchAlignment=_&&"auto"!==_?_:this._rotationAlignment,this._update(),this},w.prototype.getPitchAlignment=function(){return this._pitchAlignment},w}(n.Evented),Ql={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ja=0,Fa=!1,th=function(g){function w(_){g.call(this),this.options=n.extend({},Ql,_),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.onAdd=function(_){var j;return this._map=_,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),j=this._setupUI,void 0!==Ka?j(Ka):void 0!==n.window.navigator.permissions?n.window.navigator.permissions.query({name:"geolocation"}).then(function(et){j(Ka="denied"!==et.state)}):j(Ka=!!n.window.navigator.geolocation),this._container},w.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),C.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ja=0,Fa=!1},w.prototype._isOutOfMapMaxBounds=function(_){var j=this._map.getMaxBounds(),et=_.coords;return j&&(et.longitude<j.getWest()||et.longitude>j.getEast()||et.latitude<j.getSouth()||et.latitude>j.getNorth())},w.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},w.prototype._onSuccess=function(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(_),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",_)),this._finish()}},w.prototype._updateCamera=function(_){var j=new n.LngLat(_.coords.longitude,_.coords.latitude),et=_.coords.accuracy,ct=this._map.getBearing(),xt=n.extend({bearing:ct},this.options.fitBoundsOptions);this._map.fitBounds(j.toBounds(et),xt,{geolocateSource:!0})},w.prototype._updateMarker=function(_){if(_){var j=new n.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(j).addTo(this._map),this._userLocationDotMarker.setLngLat(j).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},w.prototype._updateCircleRadius=function(){var _=this._map._container.clientHeight/2,j=this._map.unproject([0,_]),et=this._map.unproject([1,_]),ct=j.distanceTo(et),xt=Math.ceil(2*this._accuracy/ct);this._circleElement.style.width=xt+"px",this._circleElement.style.height=xt+"px"},w.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},w.prototype._onError=function(_){if(this._map){if(this.options.trackUserLocation)if(1===_.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var j=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=j,this._geolocateButton.setAttribute("aria-label",j),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===_.code&&Fa)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",_)),this._finish()}},w.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},w.prototype._setupUI=function(_){var j=this;if(this._container.addEventListener("contextmenu",function(xt){return xt.preventDefault()}),this._geolocateButton=C.create("button","mapboxgl-ctrl-geolocate",this._container),C.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===_){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var et=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=et,this._geolocateButton.setAttribute("aria-label",et)}else{var ct=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=ct,this._geolocateButton.setAttribute("aria-label",ct)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new ll(this._dotElement),this._circleElement=C.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ll({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(xt){xt.geolocateSource||"ACTIVE_LOCK"!==j._watchState||xt.originalEvent&&"resize"===xt.originalEvent.type||(j._watchState="BACKGROUND",j._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),j._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),j.fire(new n.Event("trackuserlocationend")))})},w.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ja--,Fa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var _;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ja>1?(_={maximumAge:6e5,timeout:0},Fa=!0):(_=this.options.positionOptions,Fa=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},w.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},w}(n.Evented),Aa={maxWidth:100,unit:"metric"},Pa=function(g){this.options=n.extend({},Aa,g),n.bindAll(["_onMove","setUnit"],this)};function wl(g,w,_){var j=_&&_.maxWidth||100,et=g._container.clientHeight/2,ct=g.unproject([0,et]),xt=g.unproject([j,et]),Ot=ct.distanceTo(xt);if(_&&"imperial"===_.unit){var Zt=3.2808*Ot;Zt>5280?Ma(w,j,Zt/5280,g._getUIString("ScaleControl.Miles")):Ma(w,j,Zt,g._getUIString("ScaleControl.Feet"))}else _&&"nautical"===_.unit?Ma(w,j,Ot/1852,g._getUIString("ScaleControl.NauticalMiles")):Ot>=1e3?Ma(w,j,Ot/1e3,g._getUIString("ScaleControl.Kilometers")):Ma(w,j,Ot,g._getUIString("ScaleControl.Meters"))}function Ma(g,w,_,j){var et,ct,xt,Zt,ne,Ot=(et=_,(ct=Math.pow(10,(""+Math.floor(et)).length-1))*(xt=(xt=et/ct)>=10?10:xt>=5?5:xt>=3?3:xt>=2?2:xt>=1?1:(Zt=xt,ne=Math.pow(10,Math.ceil(-Math.log(Zt)/Math.LN10)),Math.round(Zt*ne)/ne)));g.style.width=w*(Ot/_)+"px",g.innerHTML=Ot+"&nbsp;"+j}Pa.prototype.getDefaultPosition=function(){return"bottom-left"},Pa.prototype._onMove=function(){wl(this._map,this._container,this.options)},Pa.prototype.onAdd=function(g){return this._map=g,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",g.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Pa.prototype.onRemove=function(){C.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Pa.prototype.setUnit=function(g){this.options.unit=g,wl(this._map,this._container,this.options)};var ea=function(g){this._fullscreen=!1,g&&g.container&&(g.container instanceof n.window.HTMLElement?this._container=g.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};ea.prototype.onAdd=function(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ea.prototype.onRemove=function(){C.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ea.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},ea.prototype._setupUI=function(){var g=this._fullscreenButton=C.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);C.create("span","mapboxgl-ctrl-icon",g).setAttribute("aria-hidden",!0),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ea.prototype._updateTitle=function(){var g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.title=g},ea.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ea.prototype._isFullscreen=function(){return this._fullscreen},ea.prototype._changeIcon=function(){(n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ea.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var eh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},hl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),ih=function(g){function w(_){g.call(this),this.options=n.extend(Object.create(eh),_),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return g&&(w.__proto__=g),(w.prototype=Object.create(g&&g.prototype)).constructor=w,w.prototype.addTo=function(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},w.prototype.isOpen=function(){return!!this._map},w.prototype.remove=function(){return this._content&&C.remove(this._content),this._container&&(C.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},w.prototype.getLngLat=function(){return this._lngLat},w.prototype.setLngLat=function(_){return this._lngLat=n.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},w.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},w.prototype.getElement=function(){return this._container},w.prototype.setText=function(_){return this.setDOMContent(n.window.document.createTextNode(_))},w.prototype.setHTML=function(_){var j,et=n.window.document.createDocumentFragment(),ct=n.window.document.createElement("body");for(ct.innerHTML=_;j=ct.firstChild;)et.appendChild(j);return this.setDOMContent(et)},w.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},w.prototype.setMaxWidth=function(_){return this.options.maxWidth=_,this._update(),this},w.prototype.setDOMContent=function(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=C.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this},w.prototype.addClassName=function(_){this._container&&this._container.classList.add(_)},w.prototype.removeClassName=function(_){this._container&&this._container.classList.remove(_)},w.prototype.setOffset=function(_){return this.options.offset=_,this._update(),this},w.prototype.toggleClassName=function(_){if(this._container)return this._container.classList.toggle(_)},w.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=C.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},w.prototype._onMouseUp=function(_){this._update(_.point)},w.prototype._onMouseMove=function(_){this._update(_.point)},w.prototype._onDrag=function(_){this._update(_.point)},w.prototype._update=function(_){var j=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=C.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=C.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(we){return j._container.classList.add(we)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qa(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||_)){var et=this._pos=this._trackPointer&&_?_:this._map.project(this._lngLat),ct=this.options.anchor,xt=function we(Ce){if(Ce){if("number"==typeof Ce){var Ne=Math.round(Math.sqrt(.5*Math.pow(Ce,2)));return{center:new n.Point(0,0),top:new n.Point(0,Ce),"top-left":new n.Point(Ne,Ne),"top-right":new n.Point(-Ne,Ne),bottom:new n.Point(0,-Ce),"bottom-left":new n.Point(Ne,-Ne),"bottom-right":new n.Point(-Ne,-Ne),left:new n.Point(Ce,0),right:new n.Point(-Ce,0)}}if(Ce instanceof n.Point||Array.isArray(Ce)){var Ie=n.Point.convert(Ce);return{center:Ie,top:Ie,"top-left":Ie,"top-right":Ie,bottom:Ie,"bottom-left":Ie,"bottom-right":Ie,left:Ie,right:Ie}}return{center:n.Point.convert(Ce.center||[0,0]),top:n.Point.convert(Ce.top||[0,0]),"top-left":n.Point.convert(Ce["top-left"]||[0,0]),"top-right":n.Point.convert(Ce["top-right"]||[0,0]),bottom:n.Point.convert(Ce.bottom||[0,0]),"bottom-left":n.Point.convert(Ce["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(Ce["bottom-right"]||[0,0]),left:n.Point.convert(Ce.left||[0,0]),right:n.Point.convert(Ce.right||[0,0])}}return we(new n.Point(0,0))}(this.options.offset);if(!ct){var Ot,Zt=this._container.offsetWidth,ne=this._container.offsetHeight;Ot=et.y+xt.bottom.y<ne?["top"]:et.y>this._map.transform.height-ne?["bottom"]:[],et.x<Zt/2?Ot.push("left"):et.x>this._map.transform.width-Zt/2&&Ot.push("right"),ct=0===Ot.length?"bottom":Ot.join("-")}var _e=et.add(xt[ct]).round();C.setTransform(this._container,da[ct]+" translate("+_e.x+"px,"+_e.y+"px)"),bl(this._container,ct,"popup")}},w.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var _=this._container.querySelector(hl);_&&_.focus()}},w.prototype._onClose=function(){this.remove()},w}(n.Evented),Tl={version:n.version,supported:k,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:Mh,NavigationControl:ya,GeolocateControl:th,AttributionControl:us,ScaleControl:Pa,FullscreenControl:ea,Popup:ih,Marker:ll,Style:Ii,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:function(){ei().acquire(ye)},clearPrewarmedResources:function(){var g=je;g&&(g.isPreloaded()&&1===g.numActive()?(g.release(ye),je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(g){n.config.ACCESS_TOKEN=g},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(g){n.config.API_URL=g},get workerCount(){return ii.workerCount},set workerCount(g){ii.workerCount=g},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(g){n.config.MAX_PARALLEL_IMAGE_REQUESTS=g},clearStorage:function(g){n.clearTileCache(g)},workerUrl:""};return Tl}),I}();var R=F.exports,E=e.Layer.extend({options:{updateInterval:32,padding:.1,interactive:!1,opacity:1},initialize:function(p){e.setOptions(this,p),this._throttledUpdate=e.Util.throttle(this._update,this.options.updateInterval,this)},onAdd:function(p){this._container||this._initContainer(),this.getPane().appendChild(this._container),this._initGL(),this._offset=this._map.containerPointToLayerPoint([0,0]),p.options.zoomAnimation&&e.DomEvent.on(p._proxy,e.DomUtil.TRANSITION_END,this._transitionEnd,this)},onRemove:function(p){this._map._proxy&&this._map.options.zoomAnimation&&e.DomEvent.off(this._map._proxy,e.DomUtil.TRANSITION_END,this._transitionEnd,this),this.getPane().removeChild(this._container),this._glMap.remove(),this._glMap=null},getEvents:function(){return{move:this._throttledUpdate,zoomanim:this._animateZoom,zoom:this._pinchZoom,zoomstart:this._zoomStart,zoomend:this._zoomEnd}},getMapboxMap:function(){return this._glMap},getCanvas:function(){return this._glMap.getCanvas()},getSize:function(){return this._map.getSize().multiplyBy(1+2*this.options.padding)},getOpacity:function(){return this.options.opacity},setOpacity:function(p){this.options.opacity=p,this._container.style.opacity=p},getBounds:function(){var p=this.getSize().multiplyBy(.5),x=this._map.latLngToContainerPoint(this._map.getCenter());return e.latLngBounds(this._map.containerPointToLatLng(x.subtract(p)),this._map.containerPointToLatLng(x.add(p)))},getContainer:function(){return this._container},_initContainer:function(){var p=this._container=e.DomUtil.create("div","leaflet-gl-layer"),x=this.getSize(),T=this._map.getSize().multiplyBy(this.options.padding);p.style.width=x.x+"px",p.style.height=x.y+"px",p.style.position="absolute",p.style.opacity=this.options.opacity;var b=this._map.containerPointToLayerPoint([0,0]).subtract(T);e.DomUtil.setPosition(p,b)},_initGL:function(){var p=this._map.getCenter(),x=e.extend({},this.options,{container:this._container,center:[p.lng,p.lat],zoom:this._map.getZoom()-1,attributionControl:!1});this._glMap=new R.Map(x),this._glMap.once("styledata",function(b){this.fire("styleLoaded")}.bind(this)),this._glMap.transform.latRange=null,this._glMap.transform.maxValidLatitude=1/0,this._transformGL(this._glMap),this._glMap._actualCanvas=this._glMap._canvas.canvas?this._glMap._canvas.canvas:this._glMap._canvas;var T=this._glMap._actualCanvas;e.DomUtil.addClass(T,"leaflet-image-layer"),e.DomUtil.addClass(T,"leaflet-zoom-animated"),this.options.interactive&&e.DomUtil.addClass(T,"leaflet-interactive"),this.options.className&&e.DomUtil.addClass(T,this.options.className)},_update:function(p){if(this._offset=this._map.containerPointToLayerPoint([0,0]),!this._zooming){var x=this.getSize(),T=this._container,b=this._glMap,I=this._map.getSize().multiplyBy(this.options.padding),u=this._map.containerPointToLayerPoint([0,0]).subtract(I);e.DomUtil.setPosition(T,u),this._transformGL(b),b.transform.width!==x.x||b.transform.height!==x.y?(T.style.width=x.x+"px",T.style.height=x.y+"px",null!=b._resize?b._resize():b.resize()):null!=b._update?b._update():b.update()}},_transformGL:function(p){var x=this._map.getCenter(),T=p.transform;T.center=R.LngLat.convert([x.lng,x.lat]),T.zoom=this._map.getZoom()-1},_pinchZoom:function(p){this._glMap.jumpTo({zoom:this._map.getZoom()-1,center:this._map.getCenter()})},_animateZoom:function(p){var x=this._map.getZoomScale(p.zoom),T=this._map.getSize().multiplyBy(this.options.padding*x),b=this.getSize()._divideBy(2),I=this._map.project(p.center,p.zoom)._subtract(b)._add(this._map._getMapPanePos().add(T))._round(),u=this._map.project(this._map.getBounds().getNorthWest(),p.zoom)._subtract(I);e.DomUtil.setTransform(this._glMap._actualCanvas,u.subtract(this._offset),x)},_zoomStart:function(p){this._zooming=!0},_zoomEnd:function(){var p=this._map.getZoomScale(this._map.getZoom());e.DomUtil.setTransform(this._glMap._actualCanvas,null,p),this._zooming=!1,this._update()},_transitionEnd:function(p){e.Util.requestAnimFrame(function(){var x=this._map.getZoom(),T=this._map.getCenter(),b=this._map.latLngToContainerPoint(this._map.getBounds().getNorthWest());e.DomUtil.setTransform(this._glMap._actualCanvas,b,1),this._glMap.once("moveend",e.Util.bind(function(){this._zoomEnd()},this)),this._glMap.jumpTo({center:T,zoom:x-1})},this)}});function a(p){return new E(p)}var h=e.Layer.extend({options:{key:"ArcGIS:Streets"},initialize:function(p,x){if(x&&e.setOptions(this,x),this.options.apiKey&&(this.options.apikey=this.options.apiKey),this.options.token&&(this.options.apikey=this.options.token),!this.options.apikey&&!this.options.token)throw new Error("API Key or token is required for vectorBasemapLayer.");p&&(this.options.key=p),this._createLayer()},_createLayer:function(){var x,T,b=(T="https://basemaps-api.arcgis.com/arcgis/rest/services/styles/"+this.options.key+"?type=style",(x=this.options.apikey)&&(T=T+"&apiKey="+x),T);this._mapboxGL=a({style:b,pane:this.options.pane,opacity:this.options.opacity}),this._ready=!0,this.fire("ready",{},!0),this._mapboxGL.on("styleLoaded",function(I){this._setupAttribution()}.bind(this))},_setupAttribution:function(){var p=this._map;if(i.Util.setEsriAttribution(p),32===this.options.key.length){var x=this._mapboxGL.getMapboxMap().style.stylesheet.sources,T=[];Object.keys(x).forEach(function(b){T.push(x[b].attribution),x[b].copyrightText&&x[b].copyrightText&&""!==x[b].copyrightText&&x[b].attribution!==x[b].copyrightText&&T.push(x[b].copyrightText)}),p.attributionControl.addAttribution('<span class="">'+T.join(", ")+"</span>")}else if(this.options.attributionUrls||(this.options.attributionUrls=this._getAttributionUrls(this.options.key)),this._map&&this.options.attributionUrls){if(this._map.attributionControl){for(let b=0;b<this.options.attributionUrls.length;b++)G(this.options.attributionUrls[b],p);p.attributionControl.addAttribution('<span class="esri-dynamic-attribution"></span>')}i.Util._updateMapAttribution({target:this._map})}},_getAttributionUrls:function(p){return 0===p.indexOf("OSM:")?["https://static.arcgis.com/attribution/Vector/OpenStreetMap_v2"]:0===p.indexOf("ArcGIS:Imagery")?["https://static.arcgis.com/attribution/World_Imagery","https://static.arcgis.com/attribution/Vector/World_Basemap_v2"]:["https://static.arcgis.com/attribution/Vector/World_Basemap_v2"]},onAdd:function(p){this._map=p,this._initPane(),this._ready?this._asyncAdd():this.once("ready",function(){this._asyncAdd()},this)},_initPane:function(){if(this.options.pane||(this.options.pane=this.options.key.indexOf(":Labels")>-1?"esri-labels":"tilePane"),!this._map.getPane(this.options.pane)){var p=this._map.createPane(this.options.pane);p.style.pointerEvents="none",p.style.zIndex="esri-labels"===this.options.pane?550:500}},onRemove:function(p){if(p.off("moveend",i.Util._updateMapAttribution),p.removeLayer(this._mapboxGL),p.attributionControl){var x=document.getElementsByClassName("esri-dynamic-attribution");x&&x.length>0&&p.attributionControl.removeAttribution(x[0].outerHTML)}},_asyncAdd:function(){var p=this._map;p.on("moveend",i.Util._updateMapAttribution),this._mapboxGL.addTo(p,this)}}),l=e.Layer.extend({options:{pane:"overlayPane",portalUrl:"https://www.arcgis.com"},initialize:function(p,x){if(x&&e.setOptions(this,x),this.options.apiKey&&(this.options.apikey=this.options.apiKey),this.options.apikey&&(this.options.token=this.options.apikey),!p)throw new Error("An ITEM ID or SERVICE URL is required for vectorTileLayer.");p&&(this.options.key=p),this._createLayer()},_createLayer:function(){!function s(p,x,T){var b,I,u,n;/^https?:\/\//.test(p)&&/\/VectorTileServer\/?$/.test(p)?M(p,x,T):(u=T,U(n=(I=x).portalUrl+"/sharing/rest/content/items/"+(b=p)+"/resources/styles/root.json",I,function(k,C){!function S(p,x,T){i.request(x.portalUrl+"/sharing/rest/content/items/"+p,x.token?{token:x.token}:{},T)}(b,I,k?function(O,m){O&&console.error(O),M(m.url,I,u)}:function(O,m){O&&console.error(O),c(m.url,I,function(A,P){u(A,C,n,P,m.url)})})}))}(this.options.key,this.options,function(p,x,T,b){if(p)throw new Error(p);if(X.indexOf(b.tileInfo.spatialReference.wkid)>=0||console.warn('This layer is not guaranteed to display properly because its service does not use the Web Mercator projection. The "tileInfo.spatialReference" property is:',b.tileInfo.spatialReference,"\nMore information is available at https://docs.mapbox.com/help/glossary/projection/ and https://github.com/Esri/esri-leaflet-vector/issues/94."),x=function(n,k,C,O){for(var m=Object.keys(n.sources),A=0;A<m.length;A++){var P=n.sources[m[A]];-1===P.url.indexOf("http")&&(P.url=k.replace("/resources/styles/root.json","")),"/"===P.url.charAt(P.url.length-1)&&(P.url=P.url.slice(0,P.url.length-1)),P.tiles||(C.tiles&&"/"!==C.tiles[0].charAt(0)&&(C.tiles[0]="/"+C.tiles[0]),P.tiles=[P.url+C.tiles[0]]),P.url+="?f=json",P.url+=O?"&token="+O:"",P.tiles[0]+=O?"?token="+O:"",P.minzoom=C.tileInfo.lods[0].level,P.maxzoom=C.tileInfo.lods[C.tileInfo.lods.length-1].level}var D=n.sources[m[m.length-1]];D.attribution=C.copyrightText||"",D.copyrightText=C.copyrightText||"";for(var f=0;f<n.layers.length;f++){var o=n.layers[f];o.layout&&o.layout["text-font"]&&o.layout["text-font"].length>1&&(o.layout["text-font"]=[o.layout["text-font"][0]])}return n.sprite&&-1===n.sprite.indexOf("http")&&(n.sprite=k.replace("styles/root.json",n.sprite.replace("../","")),n.sprite+=O?"?token="+O:""),n.glyphs&&-1===n.glyphs.indexOf("http")&&(n.glyphs=k.replace("styles/root.json",n.glyphs.replace("../","")),n.glyphs+=O?"?token="+O:""),n}(x,T,b,this.options.token),!this.getAttribution()){var u=Object.keys(x.sources);this.options.attribution=x.sources[u[u.length-1]].attribution,this._map&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution())}this.options.style&&"function"==typeof this.options.style&&(x=this.options.style(x)),this._mapboxGL=a({style:x,pane:this.options.pane,opacity:this.options.opacity}),this._ready=!0,this.fire("ready",{},!0)}.bind(this))},onAdd:function(p){this._map=p,this._ready?this._asyncAdd():this.once("ready",function(){this._asyncAdd()},this)},onRemove:function(p){p.removeLayer(this._mapboxGL)},_asyncAdd:function(){this._mapboxGL.addTo(this._map,this)}});v.VERSION="3.1.5",v.VectorBasemapLayer=h,v.VectorTileLayer=l,v.vectorBasemapLayer=function(p,x){return new h(p,x)},v.vectorTileLayer=function(p,x){return new l(p,x)},Object.defineProperty(v,"__esModule",{value:!0})}),function(v,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=v.document?e(v,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}:e(v)}(typeof window<"u"?window:this,function(v,e){"use strict";var i=[],s=Object.getPrototypeOf,c=i.slice,S=i.flat?function(z){return i.flat.call(z)}:function(z){return i.concat.apply([],z)},M=i.push,U=i.indexOf,G={},X=G.toString,F=G.hasOwnProperty,R=F.toString,E=R.call(Object),a={},h=function(z){return"function"==typeof z&&"number"!=typeof z.nodeType&&"function"!=typeof z.item},l=function(z){return null!=z&&z===z.window},p=v.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function T(z,Z,ot){var rt,_t,Et=(ot=ot||p).createElement("script");if(Et.text=z,Z)for(rt in x)(_t=Z[rt]||Z.getAttribute&&Z.getAttribute(rt))&&Et.setAttribute(rt,_t);ot.head.appendChild(Et).parentNode.removeChild(Et)}function b(z){return null==z?z+"":"object"==typeof z||"function"==typeof z?G[X.call(z)]||"object":typeof z}var I="3.6.1",u=function(z,Z){return new u.fn.init(z,Z)};function n(z){var Z=!!z&&"length"in z&&z.length,ot=b(z);return!h(z)&&!l(z)&&("array"===ot||0===Z||"number"==typeof Z&&0<Z&&Z-1 in z)}u.fn=u.prototype={jquery:I,constructor:u,length:0,toArray:function(){return c.call(this)},get:function(z){return null==z?c.call(this):z<0?this[z+this.length]:this[z]},pushStack:function(z){var Z=u.merge(this.constructor(),z);return Z.prevObject=this,Z},each:function(z){return u.each(this,z)},map:function(z){return this.pushStack(u.map(this,function(Z,ot){return z.call(Z,ot,Z)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(u.grep(this,function(z,Z){return(Z+1)%2}))},odd:function(){return this.pushStack(u.grep(this,function(z,Z){return Z%2}))},eq:function(z){var Z=this.length,ot=+z+(z<0?Z:0);return this.pushStack(0<=ot&&ot<Z?[this[ot]]:[])},end:function(){return this.prevObject||this.constructor()},push:M,sort:i.sort,splice:i.splice},u.extend=u.fn.extend=function(){var z,Z,ot,rt,_t,Et,Bt=arguments[0]||{},Wt=1,Qt=arguments.length,xe=!1;for("boolean"==typeof Bt&&(xe=Bt,Bt=arguments[Wt]||{},Wt++),"object"==typeof Bt||h(Bt)||(Bt={}),Wt===Qt&&(Bt=this,Wt--);Wt<Qt;Wt++)if(null!=(z=arguments[Wt]))for(Z in z)rt=z[Z],"__proto__"!==Z&&Bt!==rt&&(xe&&rt&&(u.isPlainObject(rt)||(_t=Array.isArray(rt)))?(ot=Bt[Z],Et=_t&&!Array.isArray(ot)?[]:_t||u.isPlainObject(ot)?ot:{},_t=!1,Bt[Z]=u.extend(xe,Et,rt)):void 0!==rt&&(Bt[Z]=rt));return Bt},u.extend({expando:"jQuery"+(I+Math.random()).replace(/\D/g,""),isReady:!0,error:function(z){throw new Error(z)},noop:function(){},isPlainObject:function(z){var Z,ot;return!(!z||"[object Object]"!==X.call(z)||(Z=s(z))&&("function"!=typeof(ot=F.call(Z,"constructor")&&Z.constructor)||R.call(ot)!==E))},isEmptyObject:function(z){var Z;for(Z in z)return!1;return!0},globalEval:function(z,Z,ot){T(z,{nonce:Z&&Z.nonce},ot)},each:function(z,Z){var ot,rt=0;if(n(z))for(ot=z.length;rt<ot&&!1!==Z.call(z[rt],rt,z[rt]);rt++);else for(rt in z)if(!1===Z.call(z[rt],rt,z[rt]))break;return z},makeArray:function(z,Z){var ot=Z||[];return null!=z&&(n(Object(z))?u.merge(ot,"string"==typeof z?[z]:z):M.call(ot,z)),ot},inArray:function(z,Z,ot){return null==Z?-1:U.call(Z,z,ot)},merge:function(z,Z){for(var ot=+Z.length,rt=0,_t=z.length;rt<ot;rt++)z[_t++]=Z[rt];return z.length=_t,z},grep:function(z,Z,ot){for(var rt=[],_t=0,Et=z.length,Bt=!ot;_t<Et;_t++)!Z(z[_t],_t)!==Bt&&rt.push(z[_t]);return rt},map:function(z,Z,ot){var rt,_t,Et=0,Bt=[];if(n(z))for(rt=z.length;Et<rt;Et++)null!=(_t=Z(z[Et],Et,ot))&&Bt.push(_t);else for(Et in z)null!=(_t=Z(z[Et],Et,ot))&&Bt.push(_t);return S(Bt)},guid:1,support:a}),"function"==typeof Symbol&&(u.fn[Symbol.iterator]=i[Symbol.iterator]),u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(z,Z){G["[object "+Z+"]"]=Z.toLowerCase()});var k=function(z){var Z,ot,rt,_t,Et,Bt,Wt,Qt,xe,Me,Xe,Be,Ue,Ii,on,Tt,Yt,pe,Pe,Oe="sizzle"+1*new Date,ze=z.document,Je=0,Re=0,fi=zn(),vi=zn(),Vi=zn(),cn=zn(),_n=function(Ae,Ke){return Ae===Ke&&(Xe=!0),0},kn={}.hasOwnProperty,Ln=[],zr=Ln.pop,Cr=Ln.push,Ar=Ln.push,so=Ln.slice,mr=function(Ae,Ke){for(var pi=0,Zi=Ae.length;pi<Zi;pi++)if(Ae[pi]===Ke)return pi;return-1},no="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$n="[\\x20\\t\\r\\n\\f]",Pr="(?:\\\\[\\da-fA-F]{1,6}"+$n+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",to="\\["+$n+"*("+Pr+")(?:"+$n+"*([*^$|!~]?=)"+$n+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Pr+"))|)"+$n+"*\\]",No=":("+Pr+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+to+")*)|.*)\\)|)",uo=new RegExp($n+"+","g"),yr=new RegExp("^"+$n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$n+"+$","g"),Gs=new RegExp("^"+$n+"*,"+$n+"*"),qo=new RegExp("^"+$n+"*([>+~]|"+$n+")"+$n+"*"),ss=new RegExp($n+"|>"),Ds=new RegExp(No),sa=new RegExp("^"+Pr+"$"),Rs={ID:new RegExp("^#("+Pr+")"),CLASS:new RegExp("^\\.("+Pr+")"),TAG:new RegExp("^("+Pr+"|[*])"),ATTR:new RegExp("^"+to),PSEUDO:new RegExp("^"+No),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$n+"*(even|odd|(([+-]|)(\\d*)n|)"+$n+"*(?:([+-]|)"+$n+"*(\\d+)|))"+$n+"*\\)|)","i"),bool:new RegExp("^(?:"+no+")$","i"),needsContext:new RegExp("^"+$n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$n+"*((?:-\\d)?\\d*)"+$n+"*\\)|)(?=[^-]|$)","i")},vs=/HTML$/i,as=/^(?:input|select|textarea|button)$/i,Ws=/^h\d$/i,y=/^[^{]+\{\s*\[native \w/,H=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,at=/[+~]/,Mt=new RegExp("\\\\[\\da-fA-F]{1,6}"+$n+"?|\\\\([^\\r\\n\\f])","g"),Gt=function(Ae,Ke){var pi="0x"+Ae.slice(1)-65536;return Ke||(pi<0?String.fromCharCode(pi+65536):String.fromCharCode(pi>>10|55296,1023&pi|56320))},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ri=function(Ae,Ke){return Ke?"\0"===Ae?"\ufffd":Ae.slice(0,-1)+"\\"+Ae.charCodeAt(Ae.length-1).toString(16)+" ":"\\"+Ae},ni=function(){Be()},Xi=Cs(function(Ae){return!0===Ae.disabled&&"fieldset"===Ae.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Ar.apply(Ln=so.call(ze.childNodes),ze.childNodes)}catch{Ar={apply:Ln.length?function(Ke,pi){Cr.apply(Ke,so.call(pi))}:function(Ke,pi){for(var Zi=Ke.length,Ti=0;Ke[Zi++]=pi[Ti++];);Ke.length=Zi-1}}}function zi(Ae,Ke,pi,Zi){var Ti,en,mn,bn,En,vr,pr,or=Ke&&Ke.ownerDocument,oe=Ke?Ke.nodeType:9;if(pi=pi||[],"string"!=typeof Ae||!Ae||1!==oe&&9!==oe&&11!==oe)return pi;if(!Zi&&(Be(Ke),Ke=Ke||Ue,on)){if(11!==oe&&(En=H.exec(Ae)))if(Ti=En[1]){if(9===oe){if(!(mn=Ke.getElementById(Ti)))return pi;if(mn.id===Ti)return pi.push(mn),pi}else if(or&&(mn=or.getElementById(Ti))&&Pe(Ke,mn)&&mn.id===Ti)return pi.push(mn),pi}else{if(En[2])return Ar.apply(pi,Ke.getElementsByTagName(Ae)),pi;if((Ti=En[3])&&ot.getElementsByClassName&&Ke.getElementsByClassName)return Ar.apply(pi,Ke.getElementsByClassName(Ti)),pi}if(ot.qsa&&!cn[Ae+" "]&&(!Tt||!Tt.test(Ae))&&(1!==oe||"object"!==Ke.nodeName.toLowerCase())){if(pr=Ae,or=Ke,1===oe&&(ss.test(Ae)||qo.test(Ae))){for((or=at.test(Ae)&&Xs(Ke.parentNode)||Ke)===Ke&&ot.scope||((bn=Ke.getAttribute("id"))?bn=bn.replace(be,ri):Ke.setAttribute("id",bn=Oe)),en=(vr=Bt(Ae)).length;en--;)vr[en]=(bn?"#"+bn:":scope")+" "+ms(vr[en]);pr=vr.join(",")}try{return Ar.apply(pi,or.querySelectorAll(pr)),pi}catch{cn(Ae,!0)}finally{bn===Oe&&Ke.removeAttribute("id")}}}return Qt(Ae.replace(yr,"$1"),Ke,pi,Zi)}function zn(){var Ae=[];return function Ke(pi,Zi){return Ae.push(pi+" ")>rt.cacheLength&&delete Ke[Ae.shift()],Ke[pi+" "]=Zi}}function cr(Ae){return Ae[Oe]=!0,Ae}function kr(Ae){var Ke=Ue.createElement("fieldset");try{return!!Ae(Ke)}catch{return!1}finally{Ke.parentNode&&Ke.parentNode.removeChild(Ke),Ke=null}}function go(Ae,Ke){for(var pi=Ae.split("|"),Zi=pi.length;Zi--;)rt.attrHandle[pi[Zi]]=Ke}function _s(Ae,Ke){var pi=Ke&&Ae,Zi=pi&&1===Ae.nodeType&&1===Ke.nodeType&&Ae.sourceIndex-Ke.sourceIndex;if(Zi)return Zi;if(pi)for(;pi=pi.nextSibling;)if(pi===Ke)return-1;return Ae?1:-1}function Wo(Ae){return function(Ke){return"input"===Ke.nodeName.toLowerCase()&&Ke.type===Ae}}function Do(Ae){return function(Ke){var pi=Ke.nodeName.toLowerCase();return("input"===pi||"button"===pi)&&Ke.type===Ae}}function Bs(Ae){return function(Ke){return"form"in Ke?Ke.parentNode&&!1===Ke.disabled?"label"in Ke?"label"in Ke.parentNode?Ke.parentNode.disabled===Ae:Ke.disabled===Ae:Ke.isDisabled===Ae||Ke.isDisabled!==!Ae&&Xi(Ke)===Ae:Ke.disabled===Ae:"label"in Ke&&Ke.disabled===Ae}}function Xo(Ae){return cr(function(Ke){return Ke=+Ke,cr(function(pi,Zi){for(var Ti,en=Ae([],pi.length,Ke),mn=en.length;mn--;)pi[Ti=en[mn]]&&(pi[Ti]=!(Zi[Ti]=pi[Ti]))})})}function Xs(Ae){return Ae&&typeof Ae.getElementsByTagName<"u"&&Ae}for(Z in ot=zi.support={},Et=zi.isXML=function(Ae){var pi=Ae&&(Ae.ownerDocument||Ae).documentElement;return!vs.test(Ae&&Ae.namespaceURI||pi&&pi.nodeName||"HTML")},Be=zi.setDocument=function(Ae){var Ke,pi,Zi=Ae?Ae.ownerDocument||Ae:ze;return Zi!=Ue&&9===Zi.nodeType&&Zi.documentElement&&(Ii=(Ue=Zi).documentElement,on=!Et(Ue),ze!=Ue&&(pi=Ue.defaultView)&&pi.top!==pi&&(pi.addEventListener?pi.addEventListener("unload",ni,!1):pi.attachEvent&&pi.attachEvent("onunload",ni)),ot.scope=kr(function(Ti){return Ii.appendChild(Ti).appendChild(Ue.createElement("div")),typeof Ti.querySelectorAll<"u"&&!Ti.querySelectorAll(":scope fieldset div").length}),ot.attributes=kr(function(Ti){return Ti.className="i",!Ti.getAttribute("className")}),ot.getElementsByTagName=kr(function(Ti){return Ti.appendChild(Ue.createComment("")),!Ti.getElementsByTagName("*").length}),ot.getElementsByClassName=y.test(Ue.getElementsByClassName),ot.getById=kr(function(Ti){return Ii.appendChild(Ti).id=Oe,!Ue.getElementsByName||!Ue.getElementsByName(Oe).length}),ot.getById?(rt.filter.ID=function(Ti){var en=Ti.replace(Mt,Gt);return function(mn){return mn.getAttribute("id")===en}},rt.find.ID=function(Ti,en){if(typeof en.getElementById<"u"&&on){var mn=en.getElementById(Ti);return mn?[mn]:[]}}):(rt.filter.ID=function(Ti){var en=Ti.replace(Mt,Gt);return function(mn){var bn=typeof mn.getAttributeNode<"u"&&mn.getAttributeNode("id");return bn&&bn.value===en}},rt.find.ID=function(Ti,en){if(typeof en.getElementById<"u"&&on){var mn,bn,En,vr=en.getElementById(Ti);if(vr){if((mn=vr.getAttributeNode("id"))&&mn.value===Ti)return[vr];for(En=en.getElementsByName(Ti),bn=0;vr=En[bn++];)if((mn=vr.getAttributeNode("id"))&&mn.value===Ti)return[vr]}return[]}}),rt.find.TAG=ot.getElementsByTagName?function(Ti,en){return typeof en.getElementsByTagName<"u"?en.getElementsByTagName(Ti):ot.qsa?en.querySelectorAll(Ti):void 0}:function(Ti,en){var mn,bn=[],En=0,vr=en.getElementsByTagName(Ti);if("*"===Ti){for(;mn=vr[En++];)1===mn.nodeType&&bn.push(mn);return bn}return vr},rt.find.CLASS=ot.getElementsByClassName&&function(Ti,en){if(typeof en.getElementsByClassName<"u"&&on)return en.getElementsByClassName(Ti)},Yt=[],Tt=[],(ot.qsa=y.test(Ue.querySelectorAll))&&(kr(function(Ti){var en;Ii.appendChild(Ti).innerHTML="<a id='"+Oe+"'></a><select id='"+Oe+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ti.querySelectorAll("[msallowcapture^='']").length&&Tt.push("[*^$]="+$n+"*(?:''|\"\")"),Ti.querySelectorAll("[selected]").length||Tt.push("\\["+$n+"*(?:value|"+no+")"),Ti.querySelectorAll("[id~="+Oe+"-]").length||Tt.push("~="),(en=Ue.createElement("input")).setAttribute("name",""),Ti.appendChild(en),Ti.querySelectorAll("[name='']").length||Tt.push("\\["+$n+"*name"+$n+"*="+$n+"*(?:''|\"\")"),Ti.querySelectorAll(":checked").length||Tt.push(":checked"),Ti.querySelectorAll("a#"+Oe+"+*").length||Tt.push(".#.+[+~]"),Ti.querySelectorAll("\\\f"),Tt.push("[\\r\\n\\f]")}),kr(function(Ti){Ti.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var en=Ue.createElement("input");en.setAttribute("type","hidden"),Ti.appendChild(en).setAttribute("name","D"),Ti.querySelectorAll("[name=d]").length&&Tt.push("name"+$n+"*[*^$|!~]?="),2!==Ti.querySelectorAll(":enabled").length&&Tt.push(":enabled",":disabled"),Ii.appendChild(Ti).disabled=!0,2!==Ti.querySelectorAll(":disabled").length&&Tt.push(":enabled",":disabled"),Ti.querySelectorAll("*,:x"),Tt.push(",.*:")})),(ot.matchesSelector=y.test(pe=Ii.matches||Ii.webkitMatchesSelector||Ii.mozMatchesSelector||Ii.oMatchesSelector||Ii.msMatchesSelector))&&kr(function(Ti){ot.disconnectedMatch=pe.call(Ti,"*"),pe.call(Ti,"[s!='']:x"),Yt.push("!=",No)}),Tt=Tt.length&&new RegExp(Tt.join("|")),Yt=Yt.length&&new RegExp(Yt.join("|")),Ke=y.test(Ii.compareDocumentPosition),Pe=Ke||y.test(Ii.contains)?function(Ti,en){var mn=9===Ti.nodeType?Ti.documentElement:Ti,bn=en&&en.parentNode;return Ti===bn||!(!bn||1!==bn.nodeType||!(mn.contains?mn.contains(bn):Ti.compareDocumentPosition&&16&Ti.compareDocumentPosition(bn)))}:function(Ti,en){if(en)for(;en=en.parentNode;)if(en===Ti)return!0;return!1},_n=Ke?function(Ti,en){if(Ti===en)return Xe=!0,0;var mn=!Ti.compareDocumentPosition-!en.compareDocumentPosition;return mn||(1&(mn=(Ti.ownerDocument||Ti)==(en.ownerDocument||en)?Ti.compareDocumentPosition(en):1)||!ot.sortDetached&&en.compareDocumentPosition(Ti)===mn?Ti==Ue||Ti.ownerDocument==ze&&Pe(ze,Ti)?-1:en==Ue||en.ownerDocument==ze&&Pe(ze,en)?1:Me?mr(Me,Ti)-mr(Me,en):0:4&mn?-1:1)}:function(Ti,en){if(Ti===en)return Xe=!0,0;var mn,bn=0,En=Ti.parentNode,vr=en.parentNode,pr=[Ti],or=[en];if(!En||!vr)return Ti==Ue?-1:en==Ue?1:En?-1:vr?1:Me?mr(Me,Ti)-mr(Me,en):0;if(En===vr)return _s(Ti,en);for(mn=Ti;mn=mn.parentNode;)pr.unshift(mn);for(mn=en;mn=mn.parentNode;)or.unshift(mn);for(;pr[bn]===or[bn];)bn++;return bn?_s(pr[bn],or[bn]):pr[bn]==ze?-1:or[bn]==ze?1:0}),Ue},zi.matches=function(Ae,Ke){return zi(Ae,null,null,Ke)},zi.matchesSelector=function(Ae,Ke){if(Be(Ae),ot.matchesSelector&&on&&!cn[Ke+" "]&&(!Yt||!Yt.test(Ke))&&(!Tt||!Tt.test(Ke)))try{var pi=pe.call(Ae,Ke);if(pi||ot.disconnectedMatch||Ae.document&&11!==Ae.document.nodeType)return pi}catch{cn(Ke,!0)}return 0<zi(Ke,Ue,null,[Ae]).length},zi.contains=function(Ae,Ke){return(Ae.ownerDocument||Ae)!=Ue&&Be(Ae),Pe(Ae,Ke)},zi.attr=function(Ae,Ke){(Ae.ownerDocument||Ae)!=Ue&&Be(Ae);var pi=rt.attrHandle[Ke.toLowerCase()],Zi=pi&&kn.call(rt.attrHandle,Ke.toLowerCase())?pi(Ae,Ke,!on):void 0;return void 0!==Zi?Zi:ot.attributes||!on?Ae.getAttribute(Ke):(Zi=Ae.getAttributeNode(Ke))&&Zi.specified?Zi.value:null},zi.escape=function(Ae){return(Ae+"").replace(be,ri)},zi.error=function(Ae){throw new Error("Syntax error, unrecognized expression: "+Ae)},zi.uniqueSort=function(Ae){var Ke,pi=[],Zi=0,Ti=0;if(Xe=!ot.detectDuplicates,Me=!ot.sortStable&&Ae.slice(0),Ae.sort(_n),Xe){for(;Ke=Ae[Ti++];)Ke===Ae[Ti]&&(Zi=pi.push(Ti));for(;Zi--;)Ae.splice(pi[Zi],1)}return Me=null,Ae},_t=zi.getText=function(Ae){var Ke,pi="",Zi=0,Ti=Ae.nodeType;if(Ti){if(1===Ti||9===Ti||11===Ti){if("string"==typeof Ae.textContent)return Ae.textContent;for(Ae=Ae.firstChild;Ae;Ae=Ae.nextSibling)pi+=_t(Ae)}else if(3===Ti||4===Ti)return Ae.nodeValue}else for(;Ke=Ae[Zi++];)pi+=_t(Ke);return pi},(rt=zi.selectors={cacheLength:50,createPseudo:cr,match:Rs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ae){return Ae[1]=Ae[1].replace(Mt,Gt),Ae[3]=(Ae[3]||Ae[4]||Ae[5]||"").replace(Mt,Gt),"~="===Ae[2]&&(Ae[3]=" "+Ae[3]+" "),Ae.slice(0,4)},CHILD:function(Ae){return Ae[1]=Ae[1].toLowerCase(),"nth"===Ae[1].slice(0,3)?(Ae[3]||zi.error(Ae[0]),Ae[4]=+(Ae[4]?Ae[5]+(Ae[6]||1):2*("even"===Ae[3]||"odd"===Ae[3])),Ae[5]=+(Ae[7]+Ae[8]||"odd"===Ae[3])):Ae[3]&&zi.error(Ae[0]),Ae},PSEUDO:function(Ae){var Ke,pi=!Ae[6]&&Ae[2];return Rs.CHILD.test(Ae[0])?null:(Ae[3]?Ae[2]=Ae[4]||Ae[5]||"":pi&&Ds.test(pi)&&(Ke=Bt(pi,!0))&&(Ke=pi.indexOf(")",pi.length-Ke)-pi.length)&&(Ae[0]=Ae[0].slice(0,Ke),Ae[2]=pi.slice(0,Ke)),Ae.slice(0,3))}},filter:{TAG:function(Ae){var Ke=Ae.replace(Mt,Gt).toLowerCase();return"*"===Ae?function(){return!0}:function(pi){return pi.nodeName&&pi.nodeName.toLowerCase()===Ke}},CLASS:function(Ae){var Ke=fi[Ae+" "];return Ke||(Ke=new RegExp("(^|"+$n+")"+Ae+"("+$n+"|$)"))&&fi(Ae,function(pi){return Ke.test("string"==typeof pi.className&&pi.className||typeof pi.getAttribute<"u"&&pi.getAttribute("class")||"")})},ATTR:function(Ae,Ke,pi){return function(Zi){var Ti=zi.attr(Zi,Ae);return null==Ti?"!="===Ke:!Ke||(Ti+="","="===Ke?Ti===pi:"!="===Ke?Ti!==pi:"^="===Ke?pi&&0===Ti.indexOf(pi):"*="===Ke?pi&&-1<Ti.indexOf(pi):"$="===Ke?pi&&Ti.slice(-pi.length)===pi:"~="===Ke?-1<(" "+Ti.replace(uo," ")+" ").indexOf(pi):"|="===Ke&&(Ti===pi||Ti.slice(0,pi.length+1)===pi+"-"))}},CHILD:function(Ae,Ke,pi,Zi,Ti){var en="nth"!==Ae.slice(0,3),mn="last"!==Ae.slice(-4),bn="of-type"===Ke;return 1===Zi&&0===Ti?function(En){return!!En.parentNode}:function(En,vr,pr){var or,oe,ft,zt,Se,oi,li=en!==mn?"nextSibling":"previousSibling",gi=En.parentNode,qi=bn&&En.nodeName.toLowerCase(),hn=!pr&&!bn,vn=!1;if(gi){if(en){for(;li;){for(zt=En;zt=zt[li];)if(bn?zt.nodeName.toLowerCase()===qi:1===zt.nodeType)return!1;oi=li="only"===Ae&&!oi&&"nextSibling"}return!0}if(oi=[mn?gi.firstChild:gi.lastChild],mn&&hn){for(vn=(Se=(or=(oe=(ft=(zt=gi)[Oe]||(zt[Oe]={}))[zt.uniqueID]||(ft[zt.uniqueID]={}))[Ae]||[])[0]===Je&&or[1])&&or[2],zt=Se&&gi.childNodes[Se];zt=++Se&&zt&&zt[li]||(vn=Se=0)||oi.pop();)if(1===zt.nodeType&&++vn&&zt===En){oe[Ae]=[Je,Se,vn];break}}else if(hn&&(vn=Se=(or=(oe=(ft=(zt=En)[Oe]||(zt[Oe]={}))[zt.uniqueID]||(ft[zt.uniqueID]={}))[Ae]||[])[0]===Je&&or[1]),!1===vn)for(;(zt=++Se&&zt&&zt[li]||(vn=Se=0)||oi.pop())&&((bn?zt.nodeName.toLowerCase()!==qi:1!==zt.nodeType)||!++vn||(hn&&((oe=(ft=zt[Oe]||(zt[Oe]={}))[zt.uniqueID]||(ft[zt.uniqueID]={}))[Ae]=[Je,vn]),zt!==En)););return(vn-=Ti)===Zi||vn%Zi==0&&0<=vn/Zi}}},PSEUDO:function(Ae,Ke){var pi,Zi=rt.pseudos[Ae]||rt.setFilters[Ae.toLowerCase()]||zi.error("unsupported pseudo: "+Ae);return Zi[Oe]?Zi(Ke):1<Zi.length?(pi=[Ae,Ae,"",Ke],rt.setFilters.hasOwnProperty(Ae.toLowerCase())?cr(function(Ti,en){for(var mn,bn=Zi(Ti,Ke),En=bn.length;En--;)Ti[mn=mr(Ti,bn[En])]=!(en[mn]=bn[En])}):function(Ti){return Zi(Ti,0,pi)}):Zi}},pseudos:{not:cr(function(Ae){var Ke=[],pi=[],Zi=Wt(Ae.replace(yr,"$1"));return Zi[Oe]?cr(function(Ti,en,mn,bn){for(var En,vr=Zi(Ti,null,bn,[]),pr=Ti.length;pr--;)(En=vr[pr])&&(Ti[pr]=!(en[pr]=En))}):function(Ti,en,mn){return Ke[0]=Ti,Zi(Ke,null,mn,pi),Ke[0]=null,!pi.pop()}}),has:cr(function(Ae){return function(Ke){return 0<zi(Ae,Ke).length}}),contains:cr(function(Ae){return Ae=Ae.replace(Mt,Gt),function(Ke){return-1<(Ke.textContent||_t(Ke)).indexOf(Ae)}}),lang:cr(function(Ae){return sa.test(Ae||"")||zi.error("unsupported lang: "+Ae),Ae=Ae.replace(Mt,Gt).toLowerCase(),function(Ke){var pi;do{if(pi=on?Ke.lang:Ke.getAttribute("xml:lang")||Ke.getAttribute("lang"))return(pi=pi.toLowerCase())===Ae||0===pi.indexOf(Ae+"-")}while((Ke=Ke.parentNode)&&1===Ke.nodeType);return!1}}),target:function(Ae){var Ke=z.location&&z.location.hash;return Ke&&Ke.slice(1)===Ae.id},root:function(Ae){return Ae===Ii},focus:function(Ae){return Ae===Ue.activeElement&&(!Ue.hasFocus||Ue.hasFocus())&&!!(Ae.type||Ae.href||~Ae.tabIndex)},enabled:Bs(!1),disabled:Bs(!0),checked:function(Ae){var Ke=Ae.nodeName.toLowerCase();return"input"===Ke&&!!Ae.checked||"option"===Ke&&!!Ae.selected},selected:function(Ae){return!0===Ae.selected},empty:function(Ae){for(Ae=Ae.firstChild;Ae;Ae=Ae.nextSibling)if(Ae.nodeType<6)return!1;return!0},parent:function(Ae){return!rt.pseudos.empty(Ae)},header:function(Ae){return Ws.test(Ae.nodeName)},input:function(Ae){return as.test(Ae.nodeName)},button:function(Ae){var Ke=Ae.nodeName.toLowerCase();return"input"===Ke&&"button"===Ae.type||"button"===Ke},text:function(Ae){var Ke;return"input"===Ae.nodeName.toLowerCase()&&"text"===Ae.type&&(null==(Ke=Ae.getAttribute("type"))||"text"===Ke.toLowerCase())},first:Xo(function(){return[0]}),last:Xo(function(Ae,Ke){return[Ke-1]}),eq:Xo(function(Ae,Ke,pi){return[pi<0?pi+Ke:pi]}),even:Xo(function(Ae,Ke){for(var pi=0;pi<Ke;pi+=2)Ae.push(pi);return Ae}),odd:Xo(function(Ae,Ke){for(var pi=1;pi<Ke;pi+=2)Ae.push(pi);return Ae}),lt:Xo(function(Ae,Ke,pi){for(var Zi=pi<0?pi+Ke:Ke<pi?Ke:pi;0<=--Zi;)Ae.push(Zi);return Ae}),gt:Xo(function(Ae,Ke,pi){for(var Zi=pi<0?pi+Ke:pi;++Zi<Ke;)Ae.push(Zi);return Ae})}}).pseudos.nth=rt.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})rt.pseudos[Z]=Wo(Z);for(Z in{submit:!0,reset:!0})rt.pseudos[Z]=Do(Z);function co(){}function ms(Ae){for(var Ke=0,pi=Ae.length,Zi="";Ke<pi;Ke++)Zi+=Ae[Ke].value;return Zi}function Cs(Ae,Ke,pi){var Zi=Ke.dir,Ti=Ke.next,en=Ti||Zi,mn=pi&&"parentNode"===en,bn=Re++;return Ke.first?function(En,vr,pr){for(;En=En[Zi];)if(1===En.nodeType||mn)return Ae(En,vr,pr);return!1}:function(En,vr,pr){var or,oe,ft,zt=[Je,bn];if(pr){for(;En=En[Zi];)if((1===En.nodeType||mn)&&Ae(En,vr,pr))return!0}else for(;En=En[Zi];)if(1===En.nodeType||mn)if(oe=(ft=En[Oe]||(En[Oe]={}))[En.uniqueID]||(ft[En.uniqueID]={}),Ti&&Ti===En.nodeName.toLowerCase())En=En[Zi]||En;else{if((or=oe[en])&&or[0]===Je&&or[1]===bn)return zt[2]=or[2];if((oe[en]=zt)[2]=Ae(En,vr,pr))return!0}return!1}}function Qs(Ae){return 1<Ae.length?function(Ke,pi,Zi){for(var Ti=Ae.length;Ti--;)if(!Ae[Ti](Ke,pi,Zi))return!1;return!0}:Ae[0]}function ls(Ae,Ke,pi,Zi,Ti){for(var en,mn=[],bn=0,En=Ae.length,vr=null!=Ke;bn<En;bn++)(en=Ae[bn])&&(pi&&!pi(en,Zi,Ti)||(mn.push(en),vr&&Ke.push(bn)));return mn}function wa(Ae,Ke,pi,Zi,Ti,en){return Zi&&!Zi[Oe]&&(Zi=wa(Zi)),Ti&&!Ti[Oe]&&(Ti=wa(Ti,en)),cr(function(mn,bn,En,vr){var pr,or,oe,ft=[],zt=[],Se=bn.length,oi=mn||function(qi,hn,vn){for(var Qi=0,un=hn.length;Qi<un;Qi++)zi(qi,hn[Qi],vn);return vn}(Ke||"*",En.nodeType?[En]:En,[]),li=!Ae||!mn&&Ke?oi:ls(oi,ft,Ae,En,vr),gi=pi?Ti||(mn?Ae:Se||Zi)?[]:bn:li;if(pi&&pi(li,gi,En,vr),Zi)for(pr=ls(gi,zt),Zi(pr,[],En,vr),or=pr.length;or--;)(oe=pr[or])&&(gi[zt[or]]=!(li[zt[or]]=oe));if(mn){if(Ti||Ae){if(Ti){for(pr=[],or=gi.length;or--;)(oe=gi[or])&&pr.push(li[or]=oe);Ti(null,gi=[],pr,vr)}for(or=gi.length;or--;)(oe=gi[or])&&-1<(pr=Ti?mr(mn,oe):ft[or])&&(mn[pr]=!(bn[pr]=oe))}}else gi=ls(gi===bn?gi.splice(Se,gi.length):gi),Ti?Ti(null,bn,gi,vr):Ar.apply(bn,gi)})}function ga(Ae){for(var Ke,pi,Zi,Ti=Ae.length,en=rt.relative[Ae[0].type],mn=en||rt.relative[" "],bn=en?1:0,En=Cs(function(or){return or===Ke},mn,!0),vr=Cs(function(or){return-1<mr(Ke,or)},mn,!0),pr=[function(or,oe,ft){var zt=!en&&(ft||oe!==xe)||((Ke=oe).nodeType?En(or,oe,ft):vr(or,oe,ft));return Ke=null,zt}];bn<Ti;bn++)if(pi=rt.relative[Ae[bn].type])pr=[Cs(Qs(pr),pi)];else{if((pi=rt.filter[Ae[bn].type].apply(null,Ae[bn].matches))[Oe]){for(Zi=++bn;Zi<Ti&&!rt.relative[Ae[Zi].type];Zi++);return wa(1<bn&&Qs(pr),1<bn&&ms(Ae.slice(0,bn-1).concat({value:" "===Ae[bn-2].type?"*":""})).replace(yr,"$1"),pi,bn<Zi&&ga(Ae.slice(bn,Zi)),Zi<Ti&&ga(Ae=Ae.slice(Zi)),Zi<Ti&&ms(Ae))}pr.push(pi)}return Qs(pr)}return co.prototype=rt.filters=rt.pseudos,rt.setFilters=new co,Bt=zi.tokenize=function(Ae,Ke){var pi,Zi,Ti,en,mn,bn,En,vr=vi[Ae+" "];if(vr)return Ke?0:vr.slice(0);for(mn=Ae,bn=[],En=rt.preFilter;mn;){for(en in pi&&!(Zi=Gs.exec(mn))||(Zi&&(mn=mn.slice(Zi[0].length)||mn),bn.push(Ti=[])),pi=!1,(Zi=qo.exec(mn))&&(pi=Zi.shift(),Ti.push({value:pi,type:Zi[0].replace(yr," ")}),mn=mn.slice(pi.length)),rt.filter)!(Zi=Rs[en].exec(mn))||En[en]&&!(Zi=En[en](Zi))||(pi=Zi.shift(),Ti.push({value:pi,type:en,matches:Zi}),mn=mn.slice(pi.length));if(!pi)break}return Ke?mn.length:mn?zi.error(Ae):vi(Ae,bn).slice(0)},Wt=zi.compile=function(Ae,Ke){var pi,Zi,Ti,en,mn,bn,En=[],vr=[],pr=Vi[Ae+" "];if(!pr){for(Ke||(Ke=Bt(Ae)),pi=Ke.length;pi--;)(pr=ga(Ke[pi]))[Oe]?En.push(pr):vr.push(pr);(pr=Vi(Ae,(Zi=vr,en=0<(Ti=En).length,mn=0<Zi.length,bn=function(or,oe,ft,zt,Se){var oi,li,gi,qi=0,hn="0",vn=or&&[],Qi=[],un=xe,hr=or||mn&&rt.find.TAG("*",Se),sr=Je+=null==un?1:Math.random()||.1,fr=hr.length;for(Se&&(xe=oe==Ue||oe||Se);hn!==fr&&null!=(oi=hr[hn]);hn++){if(mn&&oi){for(li=0,oe||oi.ownerDocument==Ue||(Be(oi),ft=!on);gi=Zi[li++];)if(gi(oi,oe||Ue,ft)){zt.push(oi);break}Se&&(Je=sr)}en&&((oi=!gi&&oi)&&qi--,or&&vn.push(oi))}if(qi+=hn,en&&hn!==qi){for(li=0;gi=Ti[li++];)gi(vn,Qi,oe,ft);if(or){if(0<qi)for(;hn--;)vn[hn]||Qi[hn]||(Qi[hn]=zr.call(zt));Qi=ls(Qi)}Ar.apply(zt,Qi),Se&&!or&&0<Qi.length&&1<qi+Ti.length&&zi.uniqueSort(zt)}return Se&&(Je=sr,xe=un),vn},en?cr(bn):bn))).selector=Ae}return pr},Qt=zi.select=function(Ae,Ke,pi,Zi){var Ti,en,mn,bn,En,vr="function"==typeof Ae&&Ae,pr=!Zi&&Bt(Ae=vr.selector||Ae);if(pi=pi||[],1===pr.length){if(2<(en=pr[0]=pr[0].slice(0)).length&&"ID"===(mn=en[0]).type&&9===Ke.nodeType&&on&&rt.relative[en[1].type]){if(!(Ke=(rt.find.ID(mn.matches[0].replace(Mt,Gt),Ke)||[])[0]))return pi;vr&&(Ke=Ke.parentNode),Ae=Ae.slice(en.shift().value.length)}for(Ti=Rs.needsContext.test(Ae)?0:en.length;Ti--&&!rt.relative[bn=(mn=en[Ti]).type];)if((En=rt.find[bn])&&(Zi=En(mn.matches[0].replace(Mt,Gt),at.test(en[0].type)&&Xs(Ke.parentNode)||Ke))){if(en.splice(Ti,1),!(Ae=Zi.length&&ms(en)))return Ar.apply(pi,Zi),pi;break}}return(vr||Wt(Ae,pr))(Zi,Ke,!on,pi,!Ke||at.test(Ae)&&Xs(Ke.parentNode)||Ke),pi},ot.sortStable=Oe.split("").sort(_n).join("")===Oe,ot.detectDuplicates=!!Xe,Be(),ot.sortDetached=kr(function(Ae){return 1&Ae.compareDocumentPosition(Ue.createElement("fieldset"))}),kr(function(Ae){return Ae.innerHTML="<a href='#'></a>","#"===Ae.firstChild.getAttribute("href")})||go("type|href|height|width",function(Ae,Ke,pi){if(!pi)return Ae.getAttribute(Ke,"type"===Ke.toLowerCase()?1:2)}),ot.attributes&&kr(function(Ae){return Ae.innerHTML="<input/>",Ae.firstChild.setAttribute("value",""),""===Ae.firstChild.getAttribute("value")})||go("value",function(Ae,Ke,pi){if(!pi&&"input"===Ae.nodeName.toLowerCase())return Ae.defaultValue}),kr(function(Ae){return null==Ae.getAttribute("disabled")})||go(no,function(Ae,Ke,pi){var Zi;if(!pi)return!0===Ae[Ke]?Ke.toLowerCase():(Zi=Ae.getAttributeNode(Ke))&&Zi.specified?Zi.value:null}),zi}(v);u.find=k,u.expr=k.selectors,u.expr[":"]=u.expr.pseudos,u.uniqueSort=u.unique=k.uniqueSort,u.text=k.getText,u.isXMLDoc=k.isXML,u.contains=k.contains,u.escapeSelector=k.escape;var C=function(z,Z,ot){for(var rt=[],_t=void 0!==ot;(z=z[Z])&&9!==z.nodeType;)if(1===z.nodeType){if(_t&&u(z).is(ot))break;rt.push(z)}return rt},O=function(z,Z){for(var ot=[];z;z=z.nextSibling)1===z.nodeType&&z!==Z&&ot.push(z);return ot},m=u.expr.match.needsContext;function A(z,Z){return z.nodeName&&z.nodeName.toLowerCase()===Z.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(z,Z,ot){return h(Z)?u.grep(z,function(rt,_t){return!!Z.call(rt,_t,rt)!==ot}):Z.nodeType?u.grep(z,function(rt){return rt===Z!==ot}):"string"!=typeof Z?u.grep(z,function(rt){return-1<U.call(Z,rt)!==ot}):u.filter(Z,z,ot)}u.filter=function(z,Z,ot){var rt=Z[0];return ot&&(z=":not("+z+")"),1===Z.length&&1===rt.nodeType?u.find.matchesSelector(rt,z)?[rt]:[]:u.find.matches(z,u.grep(Z,function(_t){return 1===_t.nodeType}))},u.fn.extend({find:function(z){var Z,ot,rt=this.length,_t=this;if("string"!=typeof z)return this.pushStack(u(z).filter(function(){for(Z=0;Z<rt;Z++)if(u.contains(_t[Z],this))return!0}));for(ot=this.pushStack([]),Z=0;Z<rt;Z++)u.find(z,_t[Z],ot);return 1<rt?u.uniqueSort(ot):ot},filter:function(z){return this.pushStack(D(this,z||[],!1))},not:function(z){return this.pushStack(D(this,z||[],!0))},is:function(z){return!!D(this,"string"==typeof z&&m.test(z)?u(z):z||[],!1).length}});var f,o=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(u.fn.init=function(z,Z,ot){var rt,_t;if(!z)return this;if(ot=ot||f,"string"==typeof z){if(!(rt="<"===z[0]&&">"===z[z.length-1]&&3<=z.length?[null,z,null]:o.exec(z))||!rt[1]&&Z)return!Z||Z.jquery?(Z||ot).find(z):this.constructor(Z).find(z);if(rt[1]){if(u.merge(this,u.parseHTML(rt[1],(Z=Z instanceof u?Z[0]:Z)&&Z.nodeType?Z.ownerDocument||Z:p,!0)),P.test(rt[1])&&u.isPlainObject(Z))for(rt in Z)h(this[rt])?this[rt](Z[rt]):this.attr(rt,Z[rt]);return this}return(_t=p.getElementById(rt[2]))&&(this[0]=_t,this.length=1),this}return z.nodeType?(this[0]=z,this.length=1,this):h(z)?void 0!==ot.ready?ot.ready(z):z(u):u.makeArray(z,this)}).prototype=u.fn,f=u(p);var B=/^(?:parents|prev(?:Until|All))/,V={children:!0,contents:!0,next:!0,prev:!0};function q(z,Z){for(;(z=z[Z])&&1!==z.nodeType;);return z}u.fn.extend({has:function(z){var Z=u(z,this),ot=Z.length;return this.filter(function(){for(var rt=0;rt<ot;rt++)if(u.contains(this,Z[rt]))return!0})},closest:function(z,Z){var ot,rt=0,_t=this.length,Et=[],Bt="string"!=typeof z&&u(z);if(!m.test(z))for(;rt<_t;rt++)for(ot=this[rt];ot&&ot!==Z;ot=ot.parentNode)if(ot.nodeType<11&&(Bt?-1<Bt.index(ot):1===ot.nodeType&&u.find.matchesSelector(ot,z))){Et.push(ot);break}return this.pushStack(1<Et.length?u.uniqueSort(Et):Et)},index:function(z){return z?"string"==typeof z?U.call(u(z),this[0]):U.call(this,z.jquery?z[0]:z):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(z,Z){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(z,Z))))},addBack:function(z){return this.add(null==z?this.prevObject:this.prevObject.filter(z))}}),u.each({parent:function(z){var Z=z.parentNode;return Z&&11!==Z.nodeType?Z:null},parents:function(z){return C(z,"parentNode")},parentsUntil:function(z,Z,ot){return C(z,"parentNode",ot)},next:function(z){return q(z,"nextSibling")},prev:function(z){return q(z,"previousSibling")},nextAll:function(z){return C(z,"nextSibling")},prevAll:function(z){return C(z,"previousSibling")},nextUntil:function(z,Z,ot){return C(z,"nextSibling",ot)},prevUntil:function(z,Z,ot){return C(z,"previousSibling",ot)},siblings:function(z){return O((z.parentNode||{}).firstChild,z)},children:function(z){return O(z.firstChild)},contents:function(z){return null!=z.contentDocument&&s(z.contentDocument)?z.contentDocument:(A(z,"template")&&(z=z.content||z),u.merge([],z.childNodes))}},function(z,Z){u.fn[z]=function(ot,rt){var _t=u.map(this,Z,ot);return"Until"!==z.slice(-5)&&(rt=ot),rt&&"string"==typeof rt&&(_t=u.filter(rt,_t)),1<this.length&&(V[z]||u.uniqueSort(_t),B.test(z)&&_t.reverse()),this.pushStack(_t)}});var nt=/[^\x20\t\r\n\f]+/g;function yt(z){return z}function ut(z){throw z}function Y(z,Z,ot,rt){var _t;try{z&&h(_t=z.promise)?_t.call(z).done(Z).fail(ot):z&&h(_t=z.then)?_t.call(z,Z,ot):Z.apply(void 0,[z].slice(rt))}catch(Et){ot.apply(void 0,[Et])}}u.Callbacks=function(z){var ot;z="string"==typeof z?(ot={},u.each(z.match(nt)||[],function(Be,Ue){ot[Ue]=!0}),ot):u.extend({},z);var rt,_t,Et,Bt,Wt=[],Qt=[],xe=-1,Me=function(){for(Bt=Bt||z.once,Et=rt=!0;Qt.length;xe=-1)for(_t=Qt.shift();++xe<Wt.length;)!1===Wt[xe].apply(_t[0],_t[1])&&z.stopOnFalse&&(xe=Wt.length,_t=!1);z.memory||(_t=!1),rt=!1,Bt&&(Wt=_t?[]:"")},Xe={add:function(){return Wt&&(_t&&!rt&&(xe=Wt.length-1,Qt.push(_t)),function Be(Ue){u.each(Ue,function(Ii,on){h(on)?z.unique&&Xe.has(on)||Wt.push(on):on&&on.length&&"string"!==b(on)&&Be(on)})}(arguments),_t&&!rt&&Me()),this},remove:function(){return u.each(arguments,function(Be,Ue){for(var Ii;-1<(Ii=u.inArray(Ue,Wt,Ii));)Wt.splice(Ii,1),Ii<=xe&&xe--}),this},has:function(Be){return Be?-1<u.inArray(Be,Wt):0<Wt.length},empty:function(){return Wt&&(Wt=[]),this},disable:function(){return Bt=Qt=[],Wt=_t="",this},disabled:function(){return!Wt},lock:function(){return Bt=Qt=[],_t||rt||(Wt=_t=""),this},locked:function(){return!!Bt},fireWith:function(Be,Ue){return Bt||(Ue=[Be,(Ue=Ue||[]).slice?Ue.slice():Ue],Qt.push(Ue),rt||Me()),this},fire:function(){return Xe.fireWith(this,arguments),this},fired:function(){return!!Et}};return Xe},u.extend({Deferred:function(z){var Z=[["notify","progress",u.Callbacks("memory"),u.Callbacks("memory"),2],["resolve","done",u.Callbacks("once memory"),u.Callbacks("once memory"),0,"resolved"],["reject","fail",u.Callbacks("once memory"),u.Callbacks("once memory"),1,"rejected"]],ot="pending",rt={state:function(){return ot},always:function(){return _t.done(arguments).fail(arguments),this},catch:function(Et){return rt.then(null,Et)},pipe:function(){var Et=arguments;return u.Deferred(function(Bt){u.each(Z,function(Wt,Qt){var xe=h(Et[Qt[4]])&&Et[Qt[4]];_t[Qt[1]](function(){var Me=xe&&xe.apply(this,arguments);Me&&h(Me.promise)?Me.promise().progress(Bt.notify).done(Bt.resolve).fail(Bt.reject):Bt[Qt[0]+"With"](this,xe?[Me]:arguments)})}),Et=null}).promise()},then:function(Et,Bt,Wt){var Qt=0;function xe(Me,Xe,Be,Ue){return function(){var Ii=this,on=arguments,Tt=function(){var pe,Pe;if(!(Me<Qt)){if((pe=Be.apply(Ii,on))===Xe.promise())throw new TypeError("Thenable self-resolution");h(Pe=pe&&("object"==typeof pe||"function"==typeof pe)&&pe.then)?Ue?Pe.call(pe,xe(Qt,Xe,yt,Ue),xe(Qt,Xe,ut,Ue)):(Qt++,Pe.call(pe,xe(Qt,Xe,yt,Ue),xe(Qt,Xe,ut,Ue),xe(Qt,Xe,yt,Xe.notifyWith))):(Be!==yt&&(Ii=void 0,on=[pe]),(Ue||Xe.resolveWith)(Ii,on))}},Yt=Ue?Tt:function(){try{Tt()}catch(pe){u.Deferred.exceptionHook&&u.Deferred.exceptionHook(pe,Yt.stackTrace),Qt<=Me+1&&(Be!==ut&&(Ii=void 0,on=[pe]),Xe.rejectWith(Ii,on))}};Me?Yt():(u.Deferred.getStackHook&&(Yt.stackTrace=u.Deferred.getStackHook()),v.setTimeout(Yt))}}return u.Deferred(function(Me){Z[0][3].add(xe(0,Me,h(Wt)?Wt:yt,Me.notifyWith)),Z[1][3].add(xe(0,Me,h(Et)?Et:yt)),Z[2][3].add(xe(0,Me,h(Bt)?Bt:ut))}).promise()},promise:function(Et){return null!=Et?u.extend(Et,rt):rt}},_t={};return u.each(Z,function(Et,Bt){var Wt=Bt[2],Qt=Bt[5];rt[Bt[1]]=Wt.add,Qt&&Wt.add(function(){ot=Qt},Z[3-Et][2].disable,Z[3-Et][3].disable,Z[0][2].lock,Z[0][3].lock),Wt.add(Bt[3].fire),_t[Bt[0]]=function(){return _t[Bt[0]+"With"](this===_t?void 0:this,arguments),this},_t[Bt[0]+"With"]=Wt.fireWith}),rt.promise(_t),z&&z.call(_t,_t),_t},when:function(z){var Z=arguments.length,ot=Z,rt=Array(ot),_t=c.call(arguments),Et=u.Deferred(),Bt=function(Wt){return function(Qt){rt[Wt]=this,_t[Wt]=1<arguments.length?c.call(arguments):Qt,--Z||Et.resolveWith(rt,_t)}};if(Z<=1&&(Y(z,Et.done(Bt(ot)).resolve,Et.reject,!Z),"pending"===Et.state()||h(_t[ot]&&_t[ot].then)))return Et.then();for(;ot--;)Y(_t[ot],Bt(ot),Et.reject);return Et.promise()}});var tt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;u.Deferred.exceptionHook=function(z,Z){v.console&&v.console.warn&&z&&tt.test(z.name)&&v.console.warn("jQuery.Deferred exception: "+z.message,z.stack,Z)},u.readyException=function(z){v.setTimeout(function(){throw z})};var wt=u.Deferred();function St(){p.removeEventListener("DOMContentLoaded",St),v.removeEventListener("load",St),u.ready()}u.fn.ready=function(z){return wt.then(z).catch(function(Z){u.readyException(Z)}),this},u.extend({isReady:!1,readyWait:1,ready:function(z){(!0===z?--u.readyWait:u.isReady)||(u.isReady=!0)!==z&&0<--u.readyWait||wt.resolveWith(p,[u])}}),u.ready.then=wt.then,"complete"===p.readyState||"loading"!==p.readyState&&!p.documentElement.doScroll?v.setTimeout(u.ready):(p.addEventListener("DOMContentLoaded",St),v.addEventListener("load",St));var At=function(z,Z,ot,rt,_t,Et,Bt){var Wt=0,Qt=z.length,xe=null==ot;if("object"===b(ot))for(Wt in _t=!0,ot)At(z,Z,Wt,ot[Wt],!0,Et,Bt);else if(void 0!==rt&&(_t=!0,h(rt)||(Bt=!0),xe&&(Bt?(Z.call(z,rt),Z=null):(xe=Z,Z=function(Me,Xe,Be){return xe.call(u(Me),Be)})),Z))for(;Wt<Qt;Wt++)Z(z[Wt],ot,Bt?rt:rt.call(z[Wt],Wt,Z(z[Wt],ot)));return _t?z:xe?Z.call(z):Qt?Z(z[0],ot):Et},ht=/^-ms-/,mt=/-([a-z])/g;function dt(z,Z){return Z.toUpperCase()}function Lt(z){return z.replace(ht,"ms-").replace(mt,dt)}var Ct=function(z){return 1===z.nodeType||9===z.nodeType||!+z.nodeType};function vt(){this.expando=u.expando+vt.uid++}vt.uid=1,vt.prototype={cache:function(z){var Z=z[this.expando];return Z||(Z={},Ct(z)&&(z.nodeType?z[this.expando]=Z:Object.defineProperty(z,this.expando,{value:Z,configurable:!0}))),Z},set:function(z,Z,ot){var rt,_t=this.cache(z);if("string"==typeof Z)_t[Lt(Z)]=ot;else for(rt in Z)_t[Lt(rt)]=Z[rt];return _t},get:function(z,Z){return void 0===Z?this.cache(z):z[this.expando]&&z[this.expando][Lt(Z)]},access:function(z,Z,ot){return void 0===Z||Z&&"string"==typeof Z&&void 0===ot?this.get(z,Z):(this.set(z,Z,ot),void 0!==ot?ot:Z)},remove:function(z,Z){var ot,rt=z[this.expando];if(void 0!==rt){if(void 0!==Z)for((ot=(Z=Array.isArray(Z)?Z.map(Lt):(Z=Lt(Z))in rt?[Z]:Z.match(nt)||[]).length);ot--;)delete rt[Z[ot]];(void 0===Z||u.isEmptyObject(rt))&&(z.nodeType?z[this.expando]=void 0:delete z[this.expando])}},hasData:function(z){var Z=z[this.expando];return void 0!==Z&&!u.isEmptyObject(Z)}};var kt=new vt,Rt=new vt,Xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ft=/[A-Z]/g;function qt(z,Z,ot){var rt,_t;if(void 0===ot&&1===z.nodeType)if(rt="data-"+Z.replace(Ft,"-$&").toLowerCase(),"string"==typeof(ot=z.getAttribute(rt))){try{ot="true"===(_t=ot)||"false"!==_t&&("null"===_t?null:_t===+_t+""?+_t:Xt.test(_t)?JSON.parse(_t):_t)}catch{}Rt.set(z,Z,ot)}else ot=void 0;return ot}u.extend({hasData:function(z){return Rt.hasData(z)||kt.hasData(z)},data:function(z,Z,ot){return Rt.access(z,Z,ot)},removeData:function(z,Z){Rt.remove(z,Z)},_data:function(z,Z,ot){return kt.access(z,Z,ot)},_removeData:function(z,Z){kt.remove(z,Z)}}),u.fn.extend({data:function(z,Z){var ot,rt,_t,Et=this[0],Bt=Et&&Et.attributes;if(void 0===z){if(this.length&&(_t=Rt.get(Et),1===Et.nodeType&&!kt.get(Et,"hasDataAttrs"))){for(ot=Bt.length;ot--;)Bt[ot]&&0===(rt=Bt[ot].name).indexOf("data-")&&(rt=Lt(rt.slice(5)),qt(Et,rt,_t[rt]));kt.set(Et,"hasDataAttrs",!0)}return _t}return"object"==typeof z?this.each(function(){Rt.set(this,z)}):At(this,function(Wt){var Qt;if(Et&&void 0===Wt)return void 0!==(Qt=Rt.get(Et,z))||void 0!==(Qt=qt(Et,z))?Qt:void 0;this.each(function(){Rt.set(this,z,Wt)})},null,Z,1<arguments.length,null,!0)},removeData:function(z){return this.each(function(){Rt.remove(this,z)})}}),u.extend({queue:function(z,Z,ot){var rt;if(z)return rt=kt.get(z,Z=(Z||"fx")+"queue"),ot&&(!rt||Array.isArray(ot)?rt=kt.access(z,Z,u.makeArray(ot)):rt.push(ot)),rt||[]},dequeue:function(z,Z){var ot=u.queue(z,Z=Z||"fx"),rt=ot.length,_t=ot.shift(),Et=u._queueHooks(z,Z);"inprogress"===_t&&(_t=ot.shift(),rt--),_t&&("fx"===Z&&ot.unshift("inprogress"),delete Et.stop,_t.call(z,function(){u.dequeue(z,Z)},Et)),!rt&&Et&&Et.empty.fire()},_queueHooks:function(z,Z){var ot=Z+"queueHooks";return kt.get(z,ot)||kt.access(z,ot,{empty:u.Callbacks("once memory").add(function(){kt.remove(z,[Z+"queue",ot])})})}}),u.fn.extend({queue:function(z,Z){var ot=2;return"string"!=typeof z&&(Z=z,z="fx",ot--),arguments.length<ot?u.queue(this[0],z):void 0===Z?this:this.each(function(){var rt=u.queue(this,z,Z);u._queueHooks(this,z),"fx"===z&&"inprogress"!==rt[0]&&u.dequeue(this,z)})},dequeue:function(z){return this.each(function(){u.dequeue(this,z)})},clearQueue:function(z){return this.queue(z||"fx",[])},promise:function(z,Z){var ot,rt=1,_t=u.Deferred(),Et=this,Bt=this.length,Wt=function(){--rt||_t.resolveWith(Et,[Et])};for("string"!=typeof z&&(Z=z,z=void 0),z=z||"fx";Bt--;)(ot=kt.get(Et[Bt],z+"queueHooks"))&&ot.empty&&(rt++,ot.empty.add(Wt));return Wt(),_t.promise(Z)}});var ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),de=["Top","Right","Bottom","Left"],re=p.documentElement,Ut=function(z){return u.contains(z.ownerDocument,z)},Vt={composed:!0};re.getRootNode&&(Ut=function(z){return u.contains(z.ownerDocument,z)||z.getRootNode(Vt)===z.ownerDocument});var ue=function(z,Z){return"none"===(z=Z||z).style.display||""===z.style.display&&Ut(z)&&"none"===u.css(z,"display")};function me(z,Z,ot,rt){var _t,Et,Bt=20,Wt=rt?function(){return rt.cur()}:function(){return u.css(z,Z,"")},Qt=Wt(),xe=ot&&ot[3]||(u.cssNumber[Z]?"":"px"),Me=z.nodeType&&(u.cssNumber[Z]||"px"!==xe&&+Qt)&&te.exec(u.css(z,Z));if(Me&&Me[3]!==xe){for(xe=xe||Me[3],Me=+(Qt/=2)||1;Bt--;)u.style(z,Z,Me+xe),(1-Et)*(1-(Et=Wt()/Qt||.5))<=0&&(Bt=0),Me/=Et;u.style(z,Z,(Me*=2)+xe),ot=ot||[]}return ot&&(Me=+Me||+Qt||0,_t=ot[1]?Me+(ot[1]+1)*ot[2]:+ot[2],rt&&(rt.unit=xe,rt.start=Me,rt.end=_t)),_t}var ve={};function le(z,Z){for(var ot,rt,_t,Et,Bt,Wt,Qt,xe=[],Me=0,Xe=z.length;Me<Xe;Me++)(rt=z[Me]).style&&(ot=rt.style.display,Z?("none"===ot&&(xe[Me]=kt.get(rt,"display")||null,xe[Me]||(rt.style.display="")),""===rt.style.display&&ue(rt)&&(xe[Me]=(Qt=Bt=Et=void 0,Bt=(_t=rt).ownerDocument,(Qt=ve[Wt=_t.nodeName])||(Et=Bt.body.appendChild(Bt.createElement(Wt)),Qt=u.css(Et,"display"),Et.parentNode.removeChild(Et),"none"===Qt&&(Qt="block"),ve[Wt]=Qt)))):"none"!==ot&&(xe[Me]="none",kt.set(rt,"display",ot)));for(Me=0;Me<Xe;Me++)null!=xe[Me]&&(z[Me].style.display=xe[Me]);return z}u.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(z){return"boolean"==typeof z?z?this.show():this.hide():this.each(function(){ue(this)?u(this).show():u(this).hide()})}});var We,$e,Li=/^(?:checkbox|radio)$/i,Si=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,bi=/^$|^module$|\/(?:java|ecma)script/i;We=p.createDocumentFragment().appendChild(p.createElement("div")),($e=p.createElement("input")).setAttribute("type","radio"),$e.setAttribute("checked","checked"),$e.setAttribute("name","t"),We.appendChild($e),a.checkClone=We.cloneNode(!0).cloneNode(!0).lastChild.checked,We.innerHTML="<textarea>x</textarea>",a.noCloneChecked=!!We.cloneNode(!0).lastChild.defaultValue,We.innerHTML="<option></option>",a.option=!!We.lastChild;var ji={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ui(z,Z){var ot;return ot=typeof z.getElementsByTagName<"u"?z.getElementsByTagName(Z||"*"):typeof z.querySelectorAll<"u"?z.querySelectorAll(Z||"*"):[],void 0===Z||Z&&A(z,Z)?u.merge([z],ot):ot}function Pi(z,Z){for(var ot=0,rt=z.length;ot<rt;ot++)kt.set(z[ot],"globalEval",!Z||kt.get(Z[ot],"globalEval"))}ji.tbody=ji.tfoot=ji.colgroup=ji.caption=ji.thead,ji.th=ji.td,a.option||(ji.optgroup=ji.option=[1,"<select multiple='multiple'>","</select>"]);var Ai=/<|&#?\w+;/;function ke(z,Z,ot,rt,_t){for(var Et,Bt,Wt,Qt,xe,Me,Xe=Z.createDocumentFragment(),Be=[],Ue=0,Ii=z.length;Ue<Ii;Ue++)if((Et=z[Ue])||0===Et)if("object"===b(Et))u.merge(Be,Et.nodeType?[Et]:Et);else if(Ai.test(Et)){for(Bt=Bt||Xe.appendChild(Z.createElement("div")),Wt=(Si.exec(Et)||["",""])[1].toLowerCase(),Bt.innerHTML=(Qt=ji[Wt]||ji._default)[1]+u.htmlPrefilter(Et)+Qt[2],Me=Qt[0];Me--;)Bt=Bt.lastChild;u.merge(Be,Bt.childNodes),(Bt=Xe.firstChild).textContent=""}else Be.push(Z.createTextNode(Et));for(Xe.textContent="",Ue=0;Et=Be[Ue++];)if(rt&&-1<u.inArray(Et,rt))_t&&_t.push(Et);else if(xe=Ut(Et),Bt=ui(Xe.appendChild(Et),"script"),xe&&Pi(Bt),ot)for(Me=0;Et=Bt[Me++];)bi.test(Et.type||"")&&ot.push(Et);return Xe}var di=/^([^.]*)(?:\.(.+)|)/;function lt(){return!0}function Dt(){return!1}function Jt(z,Z){return z===function(){try{return p.activeElement}catch{}}()==("focus"===Z)}function he(z,Z,ot,rt,_t,Et){var Bt,Wt;if("object"==typeof Z){for(Wt in"string"!=typeof ot&&(rt=rt||ot,ot=void 0),Z)he(z,Wt,ot,rt,Z[Wt],Et);return z}if(null==rt&&null==_t?(_t=ot,rt=ot=void 0):null==_t&&("string"==typeof ot?(_t=rt,rt=void 0):(_t=rt,rt=ot,ot=void 0)),!1===_t)_t=Dt;else if(!_t)return z;return 1===Et&&(Bt=_t,(_t=function(Qt){return u().off(Qt),Bt.apply(this,arguments)}).guid=Bt.guid||(Bt.guid=u.guid++)),z.each(function(){u.event.add(this,Z,_t,rt,ot)})}function Te(z,Z,ot){ot?(kt.set(z,Z,!1),u.event.add(z,Z,{namespace:!1,handler:function(rt){var _t,Et,Bt=kt.get(this,Z);if(1&rt.isTrigger&&this[Z]){if(Bt.length)(u.event.special[Z]||{}).delegateType&&rt.stopPropagation();else if(Bt=c.call(arguments),kt.set(this,Z,Bt),_t=ot(this,Z),this[Z](),Bt!==(Et=kt.get(this,Z))||_t?kt.set(this,Z,!1):Et={},Bt!==Et)return rt.stopImmediatePropagation(),rt.preventDefault(),Et&&Et.value}else Bt.length&&(kt.set(this,Z,{value:u.event.trigger(u.extend(Bt[0],u.Event.prototype),Bt.slice(1),this)}),rt.stopImmediatePropagation())}})):void 0===kt.get(z,Z)&&u.event.add(z,Z,lt)}u.event={global:{},add:function(z,Z,ot,rt,_t){var Et,Bt,Wt,Qt,xe,Me,Xe,Be,Ue,Ii,on,Tt=kt.get(z);if(Ct(z))for(ot.handler&&(ot=(Et=ot).handler,_t=Et.selector),_t&&u.find.matchesSelector(re,_t),ot.guid||(ot.guid=u.guid++),(Qt=Tt.events)||(Qt=Tt.events=Object.create(null)),(Bt=Tt.handle)||(Bt=Tt.handle=function(Yt){return typeof u<"u"&&u.event.triggered!==Yt.type?u.event.dispatch.apply(z,arguments):void 0}),xe=(Z=(Z||"").match(nt)||[""]).length;xe--;)Ue=on=(Wt=di.exec(Z[xe])||[])[1],Ii=(Wt[2]||"").split(".").sort(),Ue&&(Xe=u.event.special[Ue]||{},Xe=u.event.special[Ue=(_t?Xe.delegateType:Xe.bindType)||Ue]||{},Me=u.extend({type:Ue,origType:on,data:rt,handler:ot,guid:ot.guid,selector:_t,needsContext:_t&&u.expr.match.needsContext.test(_t),namespace:Ii.join(".")},Et),(Be=Qt[Ue])||((Be=Qt[Ue]=[]).delegateCount=0,Xe.setup&&!1!==Xe.setup.call(z,rt,Ii,Bt)||z.addEventListener&&z.addEventListener(Ue,Bt)),Xe.add&&(Xe.add.call(z,Me),Me.handler.guid||(Me.handler.guid=ot.guid)),_t?Be.splice(Be.delegateCount++,0,Me):Be.push(Me),u.event.global[Ue]=!0)},remove:function(z,Z,ot,rt,_t){var Et,Bt,Wt,Qt,xe,Me,Xe,Be,Ue,Ii,on,Tt=kt.hasData(z)&&kt.get(z);if(Tt&&(Qt=Tt.events)){for(xe=(Z=(Z||"").match(nt)||[""]).length;xe--;)if(Ue=on=(Wt=di.exec(Z[xe])||[])[1],Ii=(Wt[2]||"").split(".").sort(),Ue){for(Xe=u.event.special[Ue]||{},Be=Qt[Ue=(rt?Xe.delegateType:Xe.bindType)||Ue]||[],Wt=Wt[2]&&new RegExp("(^|\\.)"+Ii.join("\\.(?:.*\\.|)")+"(\\.|$)"),Bt=Et=Be.length;Et--;)Me=Be[Et],!_t&&on!==Me.origType||ot&&ot.guid!==Me.guid||Wt&&!Wt.test(Me.namespace)||rt&&rt!==Me.selector&&("**"!==rt||!Me.selector)||(Be.splice(Et,1),Me.selector&&Be.delegateCount--,Xe.remove&&Xe.remove.call(z,Me));Bt&&!Be.length&&(Xe.teardown&&!1!==Xe.teardown.call(z,Ii,Tt.handle)||u.removeEvent(z,Ue,Tt.handle),delete Qt[Ue])}else for(Ue in Qt)u.event.remove(z,Ue+Z[xe],ot,rt,!0);u.isEmptyObject(Qt)&&kt.remove(z,"handle events")}},dispatch:function(z){var Z,ot,rt,_t,Et,Bt,Wt=new Array(arguments.length),Qt=u.event.fix(z),xe=(kt.get(this,"events")||Object.create(null))[Qt.type]||[],Me=u.event.special[Qt.type]||{};for(Wt[0]=Qt,Z=1;Z<arguments.length;Z++)Wt[Z]=arguments[Z];if(Qt.delegateTarget=this,!Me.preDispatch||!1!==Me.preDispatch.call(this,Qt)){for(Bt=u.event.handlers.call(this,Qt,xe),Z=0;(_t=Bt[Z++])&&!Qt.isPropagationStopped();)for(Qt.currentTarget=_t.elem,ot=0;(Et=_t.handlers[ot++])&&!Qt.isImmediatePropagationStopped();)Qt.rnamespace&&!1!==Et.namespace&&!Qt.rnamespace.test(Et.namespace)||(Qt.handleObj=Et,Qt.data=Et.data,void 0!==(rt=((u.event.special[Et.origType]||{}).handle||Et.handler).apply(_t.elem,Wt))&&!1===(Qt.result=rt)&&(Qt.preventDefault(),Qt.stopPropagation()));return Me.postDispatch&&Me.postDispatch.call(this,Qt),Qt.result}},handlers:function(z,Z){var ot,rt,_t,Et,Bt,Wt=[],Qt=Z.delegateCount,xe=z.target;if(Qt&&xe.nodeType&&!("click"===z.type&&1<=z.button))for(;xe!==this;xe=xe.parentNode||this)if(1===xe.nodeType&&("click"!==z.type||!0!==xe.disabled)){for(Et=[],Bt={},ot=0;ot<Qt;ot++)void 0===Bt[_t=(rt=Z[ot]).selector+" "]&&(Bt[_t]=rt.needsContext?-1<u(_t,this).index(xe):u.find(_t,this,null,[xe]).length),Bt[_t]&&Et.push(rt);Et.length&&Wt.push({elem:xe,handlers:Et})}return xe=this,Qt<Z.length&&Wt.push({elem:xe,handlers:Z.slice(Qt)}),Wt},addProp:function(z,Z){Object.defineProperty(u.Event.prototype,z,{enumerable:!0,configurable:!0,get:h(Z)?function(){if(this.originalEvent)return Z(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[z]},set:function(ot){Object.defineProperty(this,z,{enumerable:!0,configurable:!0,writable:!0,value:ot})}})},fix:function(z){return z[u.expando]?z:new u.Event(z)},special:{load:{noBubble:!0},click:{setup:function(z){var Z=this||z;return Li.test(Z.type)&&Z.click&&A(Z,"input")&&Te(Z,"click",lt),!1},trigger:function(z){var Z=this||z;return Li.test(Z.type)&&Z.click&&A(Z,"input")&&Te(Z,"click"),!0},_default:function(z){var Z=z.target;return Li.test(Z.type)&&Z.click&&A(Z,"input")&&kt.get(Z,"click")||A(Z,"a")}},beforeunload:{postDispatch:function(z){void 0!==z.result&&z.originalEvent&&(z.originalEvent.returnValue=z.result)}}}},u.removeEvent=function(z,Z,ot){z.removeEventListener&&z.removeEventListener(Z,ot)},u.Event=function(z,Z){if(!(this instanceof u.Event))return new u.Event(z,Z);z&&z.type?(this.originalEvent=z,this.type=z.type,this.isDefaultPrevented=z.defaultPrevented||void 0===z.defaultPrevented&&!1===z.returnValue?lt:Dt,this.target=z.target&&3===z.target.nodeType?z.target.parentNode:z.target,this.currentTarget=z.currentTarget,this.relatedTarget=z.relatedTarget):this.type=z,Z&&u.extend(this,Z),this.timeStamp=z&&z.timeStamp||Date.now(),this[u.expando]=!0},u.Event.prototype={constructor:u.Event,isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,isSimulated:!1,preventDefault:function(){var z=this.originalEvent;this.isDefaultPrevented=lt,z&&!this.isSimulated&&z.preventDefault()},stopPropagation:function(){var z=this.originalEvent;this.isPropagationStopped=lt,z&&!this.isSimulated&&z.stopPropagation()},stopImmediatePropagation:function(){var z=this.originalEvent;this.isImmediatePropagationStopped=lt,z&&!this.isSimulated&&z.stopImmediatePropagation(),this.stopPropagation()}},u.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},u.event.addProp),u.each({focus:"focusin",blur:"focusout"},function(z,Z){u.event.special[z]={setup:function(){return Te(this,z,Jt),!1},trigger:function(){return Te(this,z),!0},_default:function(ot){return kt.get(ot.target,z)},delegateType:Z}}),u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(z,Z){u.event.special[z]={delegateType:Z,bindType:Z,handle:function(ot){var rt,_t=ot.relatedTarget,Et=ot.handleObj;return _t&&(_t===this||u.contains(this,_t))||(ot.type=Et.origType,rt=Et.handler.apply(this,arguments),ot.type=Z),rt}}}),u.fn.extend({on:function(z,Z,ot,rt){return he(this,z,Z,ot,rt)},one:function(z,Z,ot,rt){return he(this,z,Z,ot,rt,1)},off:function(z,Z,ot){var rt,_t;if(z&&z.preventDefault&&z.handleObj)return rt=z.handleObj,u(z.delegateTarget).off(rt.namespace?rt.origType+"."+rt.namespace:rt.origType,rt.selector,rt.handler),this;if("object"==typeof z){for(_t in z)this.off(_t,Z,z[_t]);return this}return!1!==Z&&"function"!=typeof Z||(ot=Z,Z=void 0),!1===ot&&(ot=Dt),this.each(function(){u.event.remove(this,z,ot,Z)})}});var Fe=/<script|<style|<link/i,Ci=/checked\s*(?:[^=]|=\s*.checked.)/i,Hi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ri(z,Z){return A(z,"table")&&A(11!==Z.nodeType?Z:Z.firstChild,"tr")&&u(z).children("tbody")[0]||z}function nn(z){return z.type=(null!==z.getAttribute("type"))+"/"+z.type,z}function gn(z){return"true/"===(z.type||"").slice(0,5)?z.type=z.type.slice(5):z.removeAttribute("type"),z}function Hn(z,Z){var ot,rt,_t,Et,Bt,Wt;if(1===Z.nodeType){if(kt.hasData(z)&&(Wt=kt.get(z).events))for(_t in kt.remove(Z,"handle events"),Wt)for(ot=0,rt=Wt[_t].length;ot<rt;ot++)u.event.add(Z,_t,Wt[_t][ot]);Rt.hasData(z)&&(Et=Rt.access(z),Bt=u.extend({},Et),Rt.set(Z,Bt))}}function Gn(z,Z,ot,rt){Z=S(Z);var _t,Et,Bt,Wt,Qt,xe,Me=0,Xe=z.length,Be=Xe-1,Ue=Z[0],Ii=h(Ue);if(Ii||1<Xe&&"string"==typeof Ue&&!a.checkClone&&Ci.test(Ue))return z.each(function(on){var Tt=z.eq(on);Ii&&(Z[0]=Ue.call(this,on,Tt.html())),Gn(Tt,Z,ot,rt)});if(Xe&&(Et=(_t=ke(Z,z[0].ownerDocument,!1,z,rt)).firstChild,1===_t.childNodes.length&&(_t=Et),Et||rt)){for(Wt=(Bt=u.map(ui(_t,"script"),nn)).length;Me<Xe;Me++)Qt=_t,Me!==Be&&(Qt=u.clone(Qt,!0,!0),Wt&&u.merge(Bt,ui(Qt,"script"))),ot.call(z[Me],Qt,Me);if(Wt)for(xe=Bt[Bt.length-1].ownerDocument,u.map(Bt,gn),Me=0;Me<Wt;Me++)bi.test((Qt=Bt[Me]).type||"")&&!kt.access(Qt,"globalEval")&&u.contains(xe,Qt)&&(Qt.src&&"module"!==(Qt.type||"").toLowerCase()?u._evalUrl&&!Qt.noModule&&u._evalUrl(Qt.src,{nonce:Qt.nonce||Qt.getAttribute("nonce")},xe):T(Qt.textContent.replace(Hi,""),Qt,xe))}return z}function Ji(z,Z,ot){for(var rt,_t=Z?u.filter(Z,z):z,Et=0;null!=(rt=_t[Et]);Et++)ot||1!==rt.nodeType||u.cleanData(ui(rt)),rt.parentNode&&(ot&&Ut(rt)&&Pi(ui(rt,"script")),rt.parentNode.removeChild(rt));return z}u.extend({htmlPrefilter:function(z){return z},clone:function(z,Z,ot){var rt,_t,Et,Bt,Wt,Qt,xe,Me=z.cloneNode(!0),Xe=Ut(z);if(!(a.noCloneChecked||1!==z.nodeType&&11!==z.nodeType||u.isXMLDoc(z)))for(Bt=ui(Me),rt=0,_t=(Et=ui(z)).length;rt<_t;rt++)Wt=Et[rt],"input"===(xe=(Qt=Bt[rt]).nodeName.toLowerCase())&&Li.test(Wt.type)?Qt.checked=Wt.checked:"input"!==xe&&"textarea"!==xe||(Qt.defaultValue=Wt.defaultValue);if(Z)if(ot)for(Et=Et||ui(z),Bt=Bt||ui(Me),rt=0,_t=Et.length;rt<_t;rt++)Hn(Et[rt],Bt[rt]);else Hn(z,Me);return 0<(Bt=ui(Me,"script")).length&&Pi(Bt,!Xe&&ui(z,"script")),Me},cleanData:function(z){for(var Z,ot,rt,_t=u.event.special,Et=0;void 0!==(ot=z[Et]);Et++)if(Ct(ot)){if(Z=ot[kt.expando]){if(Z.events)for(rt in Z.events)_t[rt]?u.event.remove(ot,rt):u.removeEvent(ot,rt,Z.handle);ot[kt.expando]=void 0}ot[Rt.expando]&&(ot[Rt.expando]=void 0)}}}),u.fn.extend({detach:function(z){return Ji(this,z,!0)},remove:function(z){return Ji(this,z)},text:function(z){return At(this,function(Z){return void 0===Z?u.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=Z)})},null,z,arguments.length)},append:function(){return Gn(this,arguments,function(z){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ri(this,z).appendChild(z)})},prepend:function(){return Gn(this,arguments,function(z){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var Z=Ri(this,z);Z.insertBefore(z,Z.firstChild)}})},before:function(){return Gn(this,arguments,function(z){this.parentNode&&this.parentNode.insertBefore(z,this)})},after:function(){return Gn(this,arguments,function(z){this.parentNode&&this.parentNode.insertBefore(z,this.nextSibling)})},empty:function(){for(var z,Z=0;null!=(z=this[Z]);Z++)1===z.nodeType&&(u.cleanData(ui(z,!1)),z.textContent="");return this},clone:function(z,Z){return z=null!=z&&z,Z=Z??z,this.map(function(){return u.clone(this,z,Z)})},html:function(z){return At(this,function(Z){var ot=this[0]||{},rt=0,_t=this.length;if(void 0===Z&&1===ot.nodeType)return ot.innerHTML;if("string"==typeof Z&&!Fe.test(Z)&&!ji[(Si.exec(Z)||["",""])[1].toLowerCase()]){Z=u.htmlPrefilter(Z);try{for(;rt<_t;rt++)1===(ot=this[rt]||{}).nodeType&&(u.cleanData(ui(ot,!1)),ot.innerHTML=Z);ot=0}catch{}}ot&&this.empty().append(Z)},null,z,arguments.length)},replaceWith:function(){var z=[];return Gn(this,arguments,function(Z){var ot=this.parentNode;u.inArray(this,z)<0&&(u.cleanData(ui(this)),ot&&ot.replaceChild(Z,this))},z)}}),u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(z,Z){u.fn[z]=function(ot){for(var rt,_t=[],Et=u(ot),Bt=Et.length-1,Wt=0;Wt<=Bt;Wt++)rt=Wt===Bt?this:this.clone(!0),u(Et[Wt])[Z](rt),M.apply(_t,rt.get());return this.pushStack(_t)}});var ci=new RegExp("^("+ae+")(?!px)[a-z%]+$","i"),mi=/^--/,yi=function(z){var Z=z.ownerDocument.defaultView;return Z&&Z.opener||(Z=v),Z.getComputedStyle(z)},$i=function(z,Z,ot){var rt,_t,Et={};for(_t in Z)Et[_t]=z.style[_t],z.style[_t]=Z[_t];for(_t in rt=ot.call(z),Z)z.style[_t]=Et[_t];return rt},rn=new RegExp(de.join("|"),"i"),Yi="[\\x20\\t\\r\\n\\f]",Cn=new RegExp("^"+Yi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Yi+"+$","g");function Gi(z,Z,ot){var rt,_t,Et,Bt,Wt=mi.test(Z),Qt=z.style;return(ot=ot||yi(z))&&(Bt=ot.getPropertyValue(Z)||ot[Z],Wt&&(Bt=Bt.replace(Cn,"$1")),""!==Bt||Ut(z)||(Bt=u.style(z,Z)),!a.pixelBoxStyles()&&ci.test(Bt)&&rn.test(Z)&&(rt=Qt.width,_t=Qt.minWidth,Et=Qt.maxWidth,Qt.minWidth=Qt.maxWidth=Qt.width=Bt,Bt=ot.width,Qt.width=rt,Qt.minWidth=_t,Qt.maxWidth=Et)),void 0!==Bt?Bt+"":Bt}function Qe(z,Z){return{get:function(){if(!z())return(this.get=Z).apply(this,arguments);delete this.get}}}!function(){function z(){if(xe){Qt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",xe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(Qt).appendChild(xe);var Me=v.getComputedStyle(xe);ot="1%"!==Me.top,Wt=12===Z(Me.marginLeft),xe.style.right="60%",Et=36===Z(Me.right),rt=36===Z(Me.width),xe.style.position="absolute",_t=12===Z(xe.offsetWidth/3),re.removeChild(Qt),xe=null}}function Z(Me){return Math.round(parseFloat(Me))}var ot,rt,_t,Et,Bt,Wt,Qt=p.createElement("div"),xe=p.createElement("div");xe.style&&(xe.style.backgroundClip="content-box",xe.cloneNode(!0).style.backgroundClip="",a.clearCloneStyle="content-box"===xe.style.backgroundClip,u.extend(a,{boxSizingReliable:function(){return z(),rt},pixelBoxStyles:function(){return z(),Et},pixelPosition:function(){return z(),ot},reliableMarginLeft:function(){return z(),Wt},scrollboxSize:function(){return z(),_t},reliableTrDimensions:function(){var Me,Xe,Be,Ue;return null==Bt&&(Me=p.createElement("table"),Xe=p.createElement("tr"),Be=p.createElement("div"),Me.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Xe.style.cssText="border:1px solid",Xe.style.height="1px",Be.style.height="9px",Be.style.display="block",re.appendChild(Me).appendChild(Xe).appendChild(Be),Ue=v.getComputedStyle(Xe),Bt=parseInt(Ue.height,10)+parseInt(Ue.borderTopWidth,10)+parseInt(Ue.borderBottomWidth,10)===Xe.offsetHeight,re.removeChild(Me)),Bt}}))}();var K=["Webkit","Moz","ms"],it=p.createElement("div").style,gt={};function Pt(z){return u.cssProps[z]||gt[z]||(z in it?z:gt[z]=function(ot){for(var rt=ot[0].toUpperCase()+ot.slice(1),_t=K.length;_t--;)if((ot=K[_t]+rt)in it)return ot}(z)||z)}var jt=/^(none|table(?!-c[ea]).+)/,Kt={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"};function ie(z,Z,ot){var rt=te.exec(Z);return rt?Math.max(0,rt[2]-(ot||0))+(rt[3]||"px"):Z}function fe(z,Z,ot,rt,_t,Et){var Bt="width"===Z?1:0,Wt=0,Qt=0;if(ot===(rt?"border":"content"))return 0;for(;Bt<4;Bt+=2)"margin"===ot&&(Qt+=u.css(z,ot+de[Bt],!0,_t)),rt?("content"===ot&&(Qt-=u.css(z,"padding"+de[Bt],!0,_t)),"margin"!==ot&&(Qt-=u.css(z,"border"+de[Bt]+"Width",!0,_t))):(Qt+=u.css(z,"padding"+de[Bt],!0,_t),"padding"!==ot?Qt+=u.css(z,"border"+de[Bt]+"Width",!0,_t):Wt+=u.css(z,"border"+de[Bt]+"Width",!0,_t));return!rt&&0<=Et&&(Qt+=Math.max(0,Math.ceil(z["offset"+Z[0].toUpperCase()+Z.slice(1)]-Et-Qt-Wt-.5))||0),Qt}function He(z,Z,ot){var rt=yi(z),_t=(!a.boxSizingReliable()||ot)&&"border-box"===u.css(z,"boxSizing",!1,rt),Et=_t,Bt=Gi(z,Z,rt),Wt="offset"+Z[0].toUpperCase()+Z.slice(1);if(ci.test(Bt)){if(!ot)return Bt;Bt="auto"}return(!a.boxSizingReliable()&&_t||!a.reliableTrDimensions()&&A(z,"tr")||"auto"===Bt||!parseFloat(Bt)&&"inline"===u.css(z,"display",!1,rt))&&z.getClientRects().length&&(_t="border-box"===u.css(z,"boxSizing",!1,rt),(Et=Wt in z)&&(Bt=z[Wt])),(Bt=parseFloat(Bt)||0)+fe(z,Z,ot||(_t?"border":"content"),Et,rt,Bt)+"px"}function Ge(z,Z,ot,rt,_t){return new Ge.prototype.init(z,Z,ot,rt,_t)}u.extend({cssHooks:{opacity:{get:function(z,Z){if(Z){var ot=Gi(z,"opacity");return""===ot?"1":ot}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(z,Z,ot,rt){if(z&&3!==z.nodeType&&8!==z.nodeType&&z.style){var _t,Et,Bt,Wt=Lt(Z),Qt=mi.test(Z),xe=z.style;if(Qt||(Z=Pt(Wt)),Bt=u.cssHooks[Z]||u.cssHooks[Wt],void 0===ot)return Bt&&"get"in Bt&&void 0!==(_t=Bt.get(z,!1,rt))?_t:xe[Z];"string"==(Et=typeof ot)&&(_t=te.exec(ot))&&_t[1]&&(ot=me(z,Z,_t),Et="number"),null!=ot&&ot==ot&&("number"!==Et||Qt||(ot+=_t&&_t[3]||(u.cssNumber[Wt]?"":"px")),a.clearCloneStyle||""!==ot||0!==Z.indexOf("background")||(xe[Z]="inherit"),Bt&&"set"in Bt&&void 0===(ot=Bt.set(z,ot,rt))||(Qt?xe.setProperty(Z,ot):xe[Z]=ot))}},css:function(z,Z,ot,rt){var _t,Et,Bt,Wt=Lt(Z);return mi.test(Z)||(Z=Pt(Wt)),(Bt=u.cssHooks[Z]||u.cssHooks[Wt])&&"get"in Bt&&(_t=Bt.get(z,!0,ot)),void 0===_t&&(_t=Gi(z,Z,rt)),"normal"===_t&&Z in se&&(_t=se[Z]),""===ot||ot?(Et=parseFloat(_t),!0===ot||isFinite(Et)?Et||0:_t):_t}}),u.each(["height","width"],function(z,Z){u.cssHooks[Z]={get:function(ot,rt,_t){if(rt)return!jt.test(u.css(ot,"display"))||ot.getClientRects().length&&ot.getBoundingClientRect().width?He(ot,Z,_t):$i(ot,Kt,function(){return He(ot,Z,_t)})},set:function(ot,rt,_t){var Et,Bt=yi(ot),Wt=!a.scrollboxSize()&&"absolute"===Bt.position,Qt=(Wt||_t)&&"border-box"===u.css(ot,"boxSizing",!1,Bt),xe=_t?fe(ot,Z,_t,Qt,Bt):0;return Qt&&Wt&&(xe-=Math.ceil(ot["offset"+Z[0].toUpperCase()+Z.slice(1)]-parseFloat(Bt[Z])-fe(ot,Z,"border",!1,Bt)-.5)),xe&&(Et=te.exec(rt))&&"px"!==(Et[3]||"px")&&(ot.style[Z]=rt,rt=u.css(ot,Z)),ie(0,rt,xe)}}}),u.cssHooks.marginLeft=Qe(a.reliableMarginLeft,function(z,Z){if(Z)return(parseFloat(Gi(z,"marginLeft"))||z.getBoundingClientRect().left-$i(z,{marginLeft:0},function(){return z.getBoundingClientRect().left}))+"px"}),u.each({margin:"",padding:"",border:"Width"},function(z,Z){u.cssHooks[z+Z]={expand:function(ot){for(var rt=0,_t={},Et="string"==typeof ot?ot.split(" "):[ot];rt<4;rt++)_t[z+de[rt]+Z]=Et[rt]||Et[rt-2]||Et[0];return _t}},"margin"!==z&&(u.cssHooks[z+Z].set=ie)}),u.fn.extend({css:function(z,Z){return At(this,function(ot,rt,_t){var Et,Bt,Wt={},Qt=0;if(Array.isArray(rt)){for(Et=yi(ot),Bt=rt.length;Qt<Bt;Qt++)Wt[rt[Qt]]=u.css(ot,rt[Qt],!1,Et);return Wt}return void 0!==_t?u.style(ot,rt,_t):u.css(ot,rt)},z,Z,1<arguments.length)}}),((u.Tween=Ge).prototype={constructor:Ge,init:function(z,Z,ot,rt,_t,Et){this.elem=z,this.prop=ot,this.easing=_t||u.easing._default,this.options=Z,this.start=this.now=this.cur(),this.end=rt,this.unit=Et||(u.cssNumber[ot]?"":"px")},cur:function(){var z=Ge.propHooks[this.prop];return z&&z.get?z.get(this):Ge.propHooks._default.get(this)},run:function(z){var Z,ot=Ge.propHooks[this.prop];return this.pos=Z=this.options.duration?u.easing[this.easing](z,this.options.duration*z,0,1,this.options.duration):z,this.now=(this.end-this.start)*Z+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ot&&ot.set?ot.set(this):Ge.propHooks._default.set(this),this}}).init.prototype=Ge.prototype,(Ge.propHooks={_default:{get:function(z){var Z;return 1!==z.elem.nodeType||null!=z.elem[z.prop]&&null==z.elem.style[z.prop]?z.elem[z.prop]:(Z=u.css(z.elem,z.prop,""))&&"auto"!==Z?Z:0},set:function(z){u.fx.step[z.prop]?u.fx.step[z.prop](z):1!==z.elem.nodeType||!u.cssHooks[z.prop]&&null==z.elem.style[Pt(z.prop)]?z.elem[z.prop]=z.now:u.style(z.elem,z.prop,z.now+z.unit)}}}).scrollTop=Ge.propHooks.scrollLeft={set:function(z){z.elem.nodeType&&z.elem.parentNode&&(z.elem[z.prop]=z.now)}},u.easing={linear:function(z){return z},swing:function(z){return.5-Math.cos(z*Math.PI)/2},_default:"swing"},u.fx=Ge.prototype.init,u.fx.step={};var ai,ye,ii,je,wi=/^(?:toggle|show|hide)$/,ei=/queueHooks$/;function Bi(){ye&&(!1===p.hidden&&v.requestAnimationFrame?v.requestAnimationFrame(Bi):v.setTimeout(Bi,u.fx.interval),u.fx.tick())}function Di(){return v.setTimeout(function(){ai=void 0}),ai=Date.now()}function si(z,Z){var ot,rt=0,_t={height:z};for(Z=Z?1:0;rt<4;rt+=2-Z)_t["margin"+(ot=de[rt])]=_t["padding"+ot]=z;return Z&&(_t.opacity=_t.width=z),_t}function pn(z,Z,ot){for(var rt,_t=(Fi.tweeners[Z]||[]).concat(Fi.tweeners["*"]),Et=0,Bt=_t.length;Et<Bt;Et++)if(rt=_t[Et].call(ot,Z,z))return rt}function Fi(z,Z,ot){var rt,_t,Et=0,Bt=Fi.prefilters.length,Wt=u.Deferred().always(function(){delete Qt.elem}),Qt=function(){if(_t)return!1;for(var Xe=ai||Di(),Be=Math.max(0,xe.startTime+xe.duration-Xe),Ue=1-(Be/xe.duration||0),Ii=0,on=xe.tweens.length;Ii<on;Ii++)xe.tweens[Ii].run(Ue);return Wt.notifyWith(z,[xe,Ue,Be]),Ue<1&&on?Be:(on||Wt.notifyWith(z,[xe,1,0]),Wt.resolveWith(z,[xe]),!1)},xe=Wt.promise({elem:z,props:u.extend({},Z),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},ot),originalProperties:Z,originalOptions:ot,startTime:ai||Di(),duration:ot.duration,tweens:[],createTween:function(Xe,Be){var Ue=u.Tween(z,xe.opts,Xe,Be,xe.opts.specialEasing[Xe]||xe.opts.easing);return xe.tweens.push(Ue),Ue},stop:function(Xe){var Be=0,Ue=Xe?xe.tweens.length:0;if(_t)return this;for(_t=!0;Be<Ue;Be++)xe.tweens[Be].run(1);return Xe?(Wt.notifyWith(z,[xe,1,0]),Wt.resolveWith(z,[xe,Xe])):Wt.rejectWith(z,[xe,Xe]),this}}),Me=xe.props;for(function(Xe,Be){var Ue,Ii,on,Tt,Yt;for(Ue in Xe)if(on=Be[Ii=Lt(Ue)],Tt=Xe[Ue],Array.isArray(Tt)&&(on=Tt[1],Tt=Xe[Ue]=Tt[0]),Ue!==Ii&&(Xe[Ii]=Tt,delete Xe[Ue]),(Yt=u.cssHooks[Ii])&&"expand"in Yt)for(Ue in Tt=Yt.expand(Tt),delete Xe[Ii],Tt)Ue in Xe||(Xe[Ue]=Tt[Ue],Be[Ue]=on);else Be[Ii]=on}(Me,xe.opts.specialEasing);Et<Bt;Et++)if(rt=Fi.prefilters[Et].call(xe,z,Me,xe.opts))return h(rt.stop)&&(u._queueHooks(xe.elem,xe.opts.queue).stop=rt.stop.bind(rt)),rt;return u.map(Me,pn,xe),h(xe.opts.start)&&xe.opts.start.call(z,xe),xe.progress(xe.opts.progress).done(xe.opts.done,xe.opts.complete).fail(xe.opts.fail).always(xe.opts.always),u.fx.timer(u.extend(Qt,{elem:z,anim:xe,queue:xe.opts.queue})),xe}u.Animation=u.extend(Fi,{tweeners:{"*":[function(z,Z){var ot=this.createTween(z,Z);return me(ot.elem,z,te.exec(Z),ot),ot}]},tweener:function(z,Z){h(z)?(Z=z,z=["*"]):z=z.match(nt);for(var ot,rt=0,_t=z.length;rt<_t;rt++)(Fi.tweeners[ot=z[rt]]=Fi.tweeners[ot]||[]).unshift(Z)},prefilters:[function(z,Z,ot){var rt,_t,Et,Bt,Wt,Qt,xe,Me,Xe="width"in Z||"height"in Z,Be=this,Ue={},Ii=z.style,on=z.nodeType&&ue(z),Tt=kt.get(z,"fxshow");for(rt in ot.queue||(null==(Bt=u._queueHooks(z,"fx")).unqueued&&(Bt.unqueued=0,Wt=Bt.empty.fire,Bt.empty.fire=function(){Bt.unqueued||Wt()}),Bt.unqueued++,Be.always(function(){Be.always(function(){Bt.unqueued--,u.queue(z,"fx").length||Bt.empty.fire()})})),Z)if(wi.test(_t=Z[rt])){if(delete Z[rt],Et=Et||"toggle"===_t,_t===(on?"hide":"show")){if("show"!==_t||!Tt||void 0===Tt[rt])continue;on=!0}Ue[rt]=Tt&&Tt[rt]||u.style(z,rt)}if((Qt=!u.isEmptyObject(Z))||!u.isEmptyObject(Ue))for(rt in Xe&&1===z.nodeType&&(ot.overflow=[Ii.overflow,Ii.overflowX,Ii.overflowY],null==(xe=Tt&&Tt.display)&&(xe=kt.get(z,"display")),"none"===(Me=u.css(z,"display"))&&(xe?Me=xe:(le([z],!0),xe=z.style.display||xe,Me=u.css(z,"display"),le([z]))),("inline"===Me||"inline-block"===Me&&null!=xe)&&"none"===u.css(z,"float")&&(Qt||(Be.done(function(){Ii.display=xe}),null==xe&&(xe="none"===(Me=Ii.display)?"":Me)),Ii.display="inline-block")),ot.overflow&&(Ii.overflow="hidden",Be.always(function(){Ii.overflow=ot.overflow[0],Ii.overflowX=ot.overflow[1],Ii.overflowY=ot.overflow[2]})),Qt=!1,Ue)Qt||(Tt?"hidden"in Tt&&(on=Tt.hidden):Tt=kt.access(z,"fxshow",{display:xe}),Et&&(Tt.hidden=!on),on&&le([z],!0),Be.done(function(){for(rt in on||le([z]),kt.remove(z,"fxshow"),Ue)u.style(z,rt,Ue[rt])})),Qt=pn(on?Tt[rt]:0,rt,Be),rt in Tt||(Tt[rt]=Qt.start,on&&(Qt.end=Qt.start,Qt.start=0))}],prefilter:function(z,Z){Z?Fi.prefilters.unshift(z):Fi.prefilters.push(z)}}),u.speed=function(z,Z,ot){var rt=z&&"object"==typeof z?u.extend({},z):{complete:ot||!ot&&Z||h(z)&&z,duration:z,easing:ot&&Z||Z&&!h(Z)&&Z};return u.fx.off?rt.duration=0:"number"!=typeof rt.duration&&(rt.duration=rt.duration in u.fx.speeds?u.fx.speeds[rt.duration]:u.fx.speeds._default),null!=rt.queue&&!0!==rt.queue||(rt.queue="fx"),rt.old=rt.complete,rt.complete=function(){h(rt.old)&&rt.old.call(this),rt.queue&&u.dequeue(this,rt.queue)},rt},u.fn.extend({fadeTo:function(z,Z,ot,rt){return this.filter(ue).css("opacity",0).show().end().animate({opacity:Z},z,ot,rt)},animate:function(z,Z,ot,rt){var _t=u.isEmptyObject(z),Et=u.speed(Z,ot,rt),Bt=function(){var Wt=Fi(this,u.extend({},z),Et);(_t||kt.get(this,"finish"))&&Wt.stop(!0)};return Bt.finish=Bt,_t||!1===Et.queue?this.each(Bt):this.queue(Et.queue,Bt)},stop:function(z,Z,ot){var rt=function(_t){var Et=_t.stop;delete _t.stop,Et(ot)};return"string"!=typeof z&&(ot=Z,Z=z,z=void 0),Z&&this.queue(z||"fx",[]),this.each(function(){var _t=!0,Et=null!=z&&z+"queueHooks",Bt=u.timers,Wt=kt.get(this);if(Et)Wt[Et]&&Wt[Et].stop&&rt(Wt[Et]);else for(Et in Wt)Wt[Et]&&Wt[Et].stop&&ei.test(Et)&&rt(Wt[Et]);for(Et=Bt.length;Et--;)Bt[Et].elem!==this||null!=z&&Bt[Et].queue!==z||(Bt[Et].anim.stop(ot),_t=!1,Bt.splice(Et,1));!_t&&ot||u.dequeue(this,z)})},finish:function(z){return!1!==z&&(z=z||"fx"),this.each(function(){var Z,ot=kt.get(this),rt=ot[z+"queue"],_t=ot[z+"queueHooks"],Et=u.timers,Bt=rt?rt.length:0;for(ot.finish=!0,u.queue(this,z,[]),_t&&_t.stop&&_t.stop.call(this,!0),Z=Et.length;Z--;)Et[Z].elem===this&&Et[Z].queue===z&&(Et[Z].anim.stop(!0),Et.splice(Z,1));for(Z=0;Z<Bt;Z++)rt[Z]&&rt[Z].finish&&rt[Z].finish.call(this);delete ot.finish})}}),u.each(["toggle","show","hide"],function(z,Z){var ot=u.fn[Z];u.fn[Z]=function(rt,_t,Et){return null==rt||"boolean"==typeof rt?ot.apply(this,arguments):this.animate(si(Z,!0),rt,_t,Et)}}),u.each({slideDown:si("show"),slideUp:si("hide"),slideToggle:si("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(z,Z){u.fn[z]=function(ot,rt,_t){return this.animate(Z,ot,rt,_t)}}),u.timers=[],u.fx.tick=function(){var z,Z=0,ot=u.timers;for(ai=Date.now();Z<ot.length;Z++)(z=ot[Z])()||ot[Z]!==z||ot.splice(Z--,1);ot.length||u.fx.stop(),ai=void 0},u.fx.timer=function(z){u.timers.push(z),u.fx.start()},u.fx.interval=13,u.fx.start=function(){ye||(ye=!0,Bi())},u.fx.stop=function(){ye=null},u.fx.speeds={slow:600,fast:200,_default:400},u.fn.delay=function(z,Z){return z=u.fx&&u.fx.speeds[z]||z,this.queue(Z=Z||"fx",function(ot,rt){var _t=v.setTimeout(ot,z);rt.stop=function(){v.clearTimeout(_t)}})},ii=p.createElement("input"),je=p.createElement("select").appendChild(p.createElement("option")),ii.type="checkbox",a.checkOn=""!==ii.value,a.optSelected=je.selected,(ii=p.createElement("input")).value="t",ii.type="radio",a.radioValue="t"===ii.value;var xn,tn=u.expr.attrHandle;u.fn.extend({attr:function(z,Z){return At(this,u.attr,z,Z,1<arguments.length)},removeAttr:function(z){return this.each(function(){u.removeAttr(this,z)})}}),u.extend({attr:function(z,Z,ot){var rt,_t,Et=z.nodeType;if(3!==Et&&8!==Et&&2!==Et)return typeof z.getAttribute>"u"?u.prop(z,Z,ot):(1===Et&&u.isXMLDoc(z)||(_t=u.attrHooks[Z.toLowerCase()]||(u.expr.match.bool.test(Z)?xn:void 0)),void 0!==ot?null===ot?void u.removeAttr(z,Z):_t&&"set"in _t&&void 0!==(rt=_t.set(z,ot,Z))?rt:(z.setAttribute(Z,ot+""),ot):_t&&"get"in _t&&null!==(rt=_t.get(z,Z))?rt:null==(rt=u.find.attr(z,Z))?void 0:rt)},attrHooks:{type:{set:function(z,Z){if(!a.radioValue&&"radio"===Z&&A(z,"input")){var ot=z.value;return z.setAttribute("type",Z),ot&&(z.value=ot),Z}}}},removeAttr:function(z,Z){var ot,rt=0,_t=Z&&Z.match(nt);if(_t&&1===z.nodeType)for(;ot=_t[rt++];)z.removeAttribute(ot)}}),xn={set:function(z,Z,ot){return!1===Z?u.removeAttr(z,ot):z.setAttribute(ot,ot),ot}},u.each(u.expr.match.bool.source.match(/\w+/g),function(z,Z){var ot=tn[Z]||u.find.attr;tn[Z]=function(rt,_t,Et){var Bt,Wt,Qt=_t.toLowerCase();return Et||(Wt=tn[Qt],tn[Qt]=Bt,Bt=null!=ot(rt,_t,Et)?Qt:null,tn[Qt]=Wt),Bt}});var An=/^(?:input|select|textarea|button)$/i,Rn=/^(?:a|area)$/i;function wn(z){return(z.match(nt)||[]).join(" ")}function er(z){return z.getAttribute&&z.getAttribute("class")||""}function Pn(z){return Array.isArray(z)?z:"string"==typeof z&&z.match(nt)||[]}u.fn.extend({prop:function(z,Z){return At(this,u.prop,z,Z,1<arguments.length)},removeProp:function(z){return this.each(function(){delete this[u.propFix[z]||z]})}}),u.extend({prop:function(z,Z,ot){var rt,_t,Et=z.nodeType;if(3!==Et&&8!==Et&&2!==Et)return 1===Et&&u.isXMLDoc(z)||(_t=u.propHooks[Z=u.propFix[Z]||Z]),void 0!==ot?_t&&"set"in _t&&void 0!==(rt=_t.set(z,ot,Z))?rt:z[Z]=ot:_t&&"get"in _t&&null!==(rt=_t.get(z,Z))?rt:z[Z]},propHooks:{tabIndex:{get:function(z){var Z=u.find.attr(z,"tabindex");return Z?parseInt(Z,10):An.test(z.nodeName)||Rn.test(z.nodeName)&&z.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),a.optSelected||(u.propHooks.selected={get:function(z){return null},set:function(z){}}),u.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){u.propFix[this.toLowerCase()]=this}),u.fn.extend({addClass:function(z){var Z,ot,rt,_t,Et,Bt;return h(z)?this.each(function(Wt){u(this).addClass(z.call(this,Wt,er(this)))}):(Z=Pn(z)).length?this.each(function(){if(rt=er(this),ot=1===this.nodeType&&" "+wn(rt)+" "){for(Et=0;Et<Z.length;Et++)ot.indexOf(" "+(_t=Z[Et])+" ")<0&&(ot+=_t+" ");Bt=wn(ot),rt!==Bt&&this.setAttribute("class",Bt)}}):this},removeClass:function(z){var Z,ot,rt,_t,Et,Bt;return h(z)?this.each(function(Wt){u(this).removeClass(z.call(this,Wt,er(this)))}):arguments.length?(Z=Pn(z)).length?this.each(function(){if(rt=er(this),ot=1===this.nodeType&&" "+wn(rt)+" "){for(Et=0;Et<Z.length;Et++)for(_t=Z[Et];-1<ot.indexOf(" "+_t+" ");)ot=ot.replace(" "+_t+" "," ");Bt=wn(ot),rt!==Bt&&this.setAttribute("class",Bt)}}):this:this.attr("class","")},toggleClass:function(z,Z){var ot,rt,_t,Et,Bt=typeof z,Wt="string"===Bt||Array.isArray(z);return h(z)?this.each(function(Qt){u(this).toggleClass(z.call(this,Qt,er(this),Z),Z)}):"boolean"==typeof Z&&Wt?Z?this.addClass(z):this.removeClass(z):(ot=Pn(z),this.each(function(){if(Wt)for(Et=u(this),_t=0;_t<ot.length;_t++)Et.hasClass(rt=ot[_t])?Et.removeClass(rt):Et.addClass(rt);else void 0!==z&&"boolean"!==Bt||((rt=er(this))&&kt.set(this,"__className__",rt),this.setAttribute&&this.setAttribute("class",rt||!1===z?"":kt.get(this,"__className__")||""))}))},hasClass:function(z){var Z,ot,rt=0;for(Z=" "+z+" ";ot=this[rt++];)if(1===ot.nodeType&&-1<(" "+wn(er(ot))+" ").indexOf(Z))return!0;return!1}});var Kn=/\r/g;u.fn.extend({val:function(z){var Z,ot,rt,_t=this[0];return arguments.length?(rt=h(z),this.each(function(Et){var Bt;1===this.nodeType&&(null==(Bt=rt?z.call(this,Et,u(this).val()):z)?Bt="":"number"==typeof Bt?Bt+="":Array.isArray(Bt)&&(Bt=u.map(Bt,function(Wt){return null==Wt?"":Wt+""})),(Z=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()])&&"set"in Z&&void 0!==Z.set(this,Bt,"value")||(this.value=Bt))})):_t?(Z=u.valHooks[_t.type]||u.valHooks[_t.nodeName.toLowerCase()])&&"get"in Z&&void 0!==(ot=Z.get(_t,"value"))?ot:"string"==typeof(ot=_t.value)?ot.replace(Kn,""):ot??"":void 0}}),u.extend({valHooks:{option:{get:function(z){return u.find.attr(z,"value")??wn(u.text(z))}},select:{get:function(z){var Z,ot,rt,_t=z.options,Et=z.selectedIndex,Bt="select-one"===z.type,Wt=Bt?null:[],Qt=Bt?Et+1:_t.length;for(rt=Et<0?Qt:Bt?Et:0;rt<Qt;rt++)if(((ot=_t[rt]).selected||rt===Et)&&!ot.disabled&&(!ot.parentNode.disabled||!A(ot.parentNode,"optgroup"))){if(Z=u(ot).val(),Bt)return Z;Wt.push(Z)}return Wt},set:function(z,Z){for(var ot,rt,_t=z.options,Et=u.makeArray(Z),Bt=_t.length;Bt--;)((rt=_t[Bt]).selected=-1<u.inArray(u.valHooks.option.get(rt),Et))&&(ot=!0);return ot||(z.selectedIndex=-1),Et}}}}),u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(z,Z){if(Array.isArray(Z))return z.checked=-1<u.inArray(u(z).val(),Z)}},a.checkOn||(u.valHooks[this].get=function(z){return null===z.getAttribute("value")?"on":z.value})}),a.focusin="onfocusin"in v;var Bn=/^(?:focusinfocus|focusoutblur)$/,In=function(z){z.stopPropagation()};u.extend(u.event,{trigger:function(z,Z,ot,rt){var _t,Et,Bt,Wt,Qt,xe,Me,Xe,Be=[ot||p],Ue=F.call(z,"type")?z.type:z,Ii=F.call(z,"namespace")?z.namespace.split("."):[];if(Et=Xe=Bt=ot=ot||p,3!==ot.nodeType&&8!==ot.nodeType&&!Bn.test(Ue+u.event.triggered)&&(-1<Ue.indexOf(".")&&(Ue=(Ii=Ue.split(".")).shift(),Ii.sort()),Qt=Ue.indexOf(":")<0&&"on"+Ue,(z=z[u.expando]?z:new u.Event(Ue,"object"==typeof z&&z)).isTrigger=rt?2:3,z.namespace=Ii.join("."),z.rnamespace=z.namespace?new RegExp("(^|\\.)"+Ii.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,z.result=void 0,z.target||(z.target=ot),Z=null==Z?[z]:u.makeArray(Z,[z]),Me=u.event.special[Ue]||{},rt||!Me.trigger||!1!==Me.trigger.apply(ot,Z))){if(!rt&&!Me.noBubble&&!l(ot)){for(Bn.test((Wt=Me.delegateType||Ue)+Ue)||(Et=Et.parentNode);Et;Et=Et.parentNode)Be.push(Et),Bt=Et;Bt===(ot.ownerDocument||p)&&Be.push(Bt.defaultView||Bt.parentWindow||v)}for(_t=0;(Et=Be[_t++])&&!z.isPropagationStopped();)Xe=Et,z.type=1<_t?Wt:Me.bindType||Ue,(xe=(kt.get(Et,"events")||Object.create(null))[z.type]&&kt.get(Et,"handle"))&&xe.apply(Et,Z),(xe=Qt&&Et[Qt])&&xe.apply&&Ct(Et)&&(z.result=xe.apply(Et,Z),!1===z.result&&z.preventDefault());return z.type=Ue,rt||z.isDefaultPrevented()||Me._default&&!1!==Me._default.apply(Be.pop(),Z)||!Ct(ot)||Qt&&h(ot[Ue])&&!l(ot)&&((Bt=ot[Qt])&&(ot[Qt]=null),u.event.triggered=Ue,z.isPropagationStopped()&&Xe.addEventListener(Ue,In),ot[Ue](),z.isPropagationStopped()&&Xe.removeEventListener(Ue,In),u.event.triggered=void 0,Bt&&(ot[Qt]=Bt)),z.result}},simulate:function(z,Z,ot){var rt=u.extend(new u.Event,ot,{type:z,isSimulated:!0});u.event.trigger(rt,null,Z)}}),u.fn.extend({trigger:function(z,Z){return this.each(function(){u.event.trigger(z,Z,this)})},triggerHandler:function(z,Z){var ot=this[0];if(ot)return u.event.trigger(z,Z,ot,!0)}}),a.focusin||u.each({focus:"focusin",blur:"focusout"},function(z,Z){var ot=function(rt){u.event.simulate(Z,rt.target,u.event.fix(rt))};u.event.special[Z]={setup:function(){var rt=this.ownerDocument||this.document||this,_t=kt.access(rt,Z);_t||rt.addEventListener(z,ot,!0),kt.access(rt,Z,(_t||0)+1)},teardown:function(){var rt=this.ownerDocument||this.document||this,_t=kt.access(rt,Z)-1;_t?kt.access(rt,Z,_t):(rt.removeEventListener(z,ot,!0),kt.remove(rt,Z))}}});var Wi=v.location,Jn={guid:Date.now()},Or=/\?/;u.parseXML=function(z){var Z,ot;if(!z||"string"!=typeof z)return null;try{Z=(new v.DOMParser).parseFromString(z,"text/xml")}catch{}return ot=Z&&Z.getElementsByTagName("parsererror")[0],Z&&!ot||u.error("Invalid XML: "+(ot?u.map(ot.childNodes,function(rt){return rt.textContent}).join("\n"):z)),Z};var Qn=/\[\]$/,Fn=/\r?\n/g,Vn=/^(?:submit|button|image|reset|file)$/i,Gr=/^(?:input|select|textarea|keygen)/i;function rr(z,Z,ot,rt){var _t;if(Array.isArray(Z))u.each(Z,function(Et,Bt){ot||Qn.test(z)?rt(z,Bt):rr(z+"["+("object"==typeof Bt&&null!=Bt?Et:"")+"]",Bt,ot,rt)});else if(ot||"object"!==b(Z))rt(z,Z);else for(_t in Z)rr(z+"["+_t+"]",Z[_t],ot,rt)}u.param=function(z,Z){var ot,rt=[],_t=function(Et,Bt){var Wt=h(Bt)?Bt():Bt;rt[rt.length]=encodeURIComponent(Et)+"="+encodeURIComponent(Wt??"")};if(null==z)return"";if(Array.isArray(z)||z.jquery&&!u.isPlainObject(z))u.each(z,function(){_t(this.name,this.value)});else for(ot in z)rr(ot,z[ot],Z,_t);return rt.join("&")},u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var z=u.prop(this,"elements");return z?u.makeArray(z):this}).filter(function(){var z=this.type;return this.name&&!u(this).is(":disabled")&&Gr.test(this.nodeName)&&!Vn.test(z)&&(this.checked||!Li.test(z))}).map(function(z,Z){var ot=u(this).val();return null==ot?null:Array.isArray(ot)?u.map(ot,function(rt){return{name:Z.name,value:rt.replace(Fn,"\r\n")}}):{name:Z.name,value:ot.replace(Fn,"\r\n")}}).get()}});var Nr=/%20/g,Sr=/#.*$/,Br=/([?&])_=[^&]*/,jr=/^(.*?):[ \t]*([^\r\n]*)$/gm,br=/^(?:GET|HEAD)$/,Zr=/^\/\//,$r={},Mo={},Wr="*/".concat("*"),Oo=p.createElement("a");function qr(z){return function(Z,ot){"string"!=typeof Z&&(ot=Z,Z="*");var rt,_t=0,Et=Z.toLowerCase().match(nt)||[];if(h(ot))for(;rt=Et[_t++];)"+"===rt[0]?(rt=rt.slice(1)||"*",(z[rt]=z[rt]||[]).unshift(ot)):(z[rt]=z[rt]||[]).push(ot)}}function Kr(z,Z,ot,rt){var _t={},Et=z===Mo;function Bt(Wt){var Qt;return _t[Wt]=!0,u.each(z[Wt]||[],function(xe,Me){var Xe=Me(Z,ot,rt);return"string"!=typeof Xe||Et||_t[Xe]?Et?!(Qt=Xe):void 0:(Z.dataTypes.unshift(Xe),Bt(Xe),!1)}),Qt}return Bt(Z.dataTypes[0])||!_t["*"]&&Bt("*")}function ao(z,Z){var ot,rt,_t=u.ajaxSettings.flatOptions||{};for(ot in Z)void 0!==Z[ot]&&((_t[ot]?z:rt||(rt={}))[ot]=Z[ot]);return rt&&u.extend(!0,z,rt),z}Oo.href=Wi.href,u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wi.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(z,Z){return Z?ao(ao(z,u.ajaxSettings),Z):ao(u.ajaxSettings,z)},ajaxPrefilter:qr($r),ajaxTransport:qr(Mo),ajax:function(z,Z){"object"==typeof z&&(Z=z,z=void 0);var ot,rt,_t,Et,Bt,Wt,Qt,xe,Me,Xe,Be=u.ajaxSetup({},Z=Z||{}),Ue=Be.context||Be,Ii=Be.context&&(Ue.nodeType||Ue.jquery)?u(Ue):u.event,on=u.Deferred(),Tt=u.Callbacks("once memory"),Yt=Be.statusCode||{},pe={},Pe={},Oe="canceled",ze={readyState:0,getResponseHeader:function(Re){var fi;if(Qt){if(!Et)for(Et={};fi=jr.exec(_t);)Et[fi[1].toLowerCase()+" "]=(Et[fi[1].toLowerCase()+" "]||[]).concat(fi[2]);fi=Et[Re.toLowerCase()+" "]}return null==fi?null:fi.join(", ")},getAllResponseHeaders:function(){return Qt?_t:null},setRequestHeader:function(Re,fi){return null==Qt&&(Re=Pe[Re.toLowerCase()]=Pe[Re.toLowerCase()]||Re,pe[Re]=fi),this},overrideMimeType:function(Re){return null==Qt&&(Be.mimeType=Re),this},statusCode:function(Re){var fi;if(Re)if(Qt)ze.always(Re[ze.status]);else for(fi in Re)Yt[fi]=[Yt[fi],Re[fi]];return this},abort:function(Re){var fi=Re||Oe;return ot&&ot.abort(fi),Je(0,fi),this}};if(on.promise(ze),Be.url=((z||Be.url||Wi.href)+"").replace(Zr,Wi.protocol+"//"),Be.type=Z.method||Z.type||Be.method||Be.type,Be.dataTypes=(Be.dataType||"*").toLowerCase().match(nt)||[""],null==Be.crossDomain){Wt=p.createElement("a");try{Wt.href=Be.url,Wt.href=Wt.href,Be.crossDomain=Oo.protocol+"//"+Oo.host!=Wt.protocol+"//"+Wt.host}catch{Be.crossDomain=!0}}if(Be.data&&Be.processData&&"string"!=typeof Be.data&&(Be.data=u.param(Be.data,Be.traditional)),Kr($r,Be,Z,ze),Qt)return ze;for(Me in(xe=u.event&&Be.global)&&0==u.active++&&u.event.trigger("ajaxStart"),Be.type=Be.type.toUpperCase(),Be.hasContent=!br.test(Be.type),rt=Be.url.replace(Sr,""),Be.hasContent?Be.data&&Be.processData&&0===(Be.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Be.data=Be.data.replace(Nr,"+")):(Xe=Be.url.slice(rt.length),Be.data&&(Be.processData||"string"==typeof Be.data)&&(rt+=(Or.test(rt)?"&":"?")+Be.data,delete Be.data),!1===Be.cache&&(rt=rt.replace(Br,"$1"),Xe=(Or.test(rt)?"&":"?")+"_="+Jn.guid+++Xe),Be.url=rt+Xe),Be.ifModified&&(u.lastModified[rt]&&ze.setRequestHeader("If-Modified-Since",u.lastModified[rt]),u.etag[rt]&&ze.setRequestHeader("If-None-Match",u.etag[rt])),(Be.data&&Be.hasContent&&!1!==Be.contentType||Z.contentType)&&ze.setRequestHeader("Content-Type",Be.contentType),ze.setRequestHeader("Accept",Be.dataTypes[0]&&Be.accepts[Be.dataTypes[0]]?Be.accepts[Be.dataTypes[0]]+("*"!==Be.dataTypes[0]?", "+Wr+"; q=0.01":""):Be.accepts["*"]),Be.headers)ze.setRequestHeader(Me,Be.headers[Me]);if(Be.beforeSend&&(!1===Be.beforeSend.call(Ue,ze,Be)||Qt))return ze.abort();if(Oe="abort",Tt.add(Be.complete),ze.done(Be.success),ze.fail(Be.error),ot=Kr(Mo,Be,Z,ze)){if(ze.readyState=1,xe&&Ii.trigger("ajaxSend",[ze,Be]),Qt)return ze;Be.async&&0<Be.timeout&&(Bt=v.setTimeout(function(){ze.abort("timeout")},Be.timeout));try{Qt=!1,ot.send(pe,Je)}catch(Re){if(Qt)throw Re;Je(-1,Re)}}else Je(-1,"No Transport");function Je(Re,fi,vi,Vi){var cn,_n,kn,Ln,zr,Cr=fi;Qt||(Qt=!0,Bt&&v.clearTimeout(Bt),ot=void 0,_t=Vi||"",ze.readyState=0<Re?4:0,cn=200<=Re&&Re<300||304===Re,vi&&(Ln=function(Ar,so,mr){for(var no,$n,Pr,to,No=Ar.contents,uo=Ar.dataTypes;"*"===uo[0];)uo.shift(),void 0===no&&(no=Ar.mimeType||so.getResponseHeader("Content-Type"));if(no)for($n in No)if(No[$n]&&No[$n].test(no)){uo.unshift($n);break}if(uo[0]in mr)Pr=uo[0];else{for($n in mr){if(!uo[0]||Ar.converters[$n+" "+uo[0]]){Pr=$n;break}to||(to=$n)}Pr=Pr||to}if(Pr)return Pr!==uo[0]&&uo.unshift(Pr),mr[Pr]}(Be,ze,vi)),!cn&&-1<u.inArray("script",Be.dataTypes)&&u.inArray("json",Be.dataTypes)<0&&(Be.converters["text script"]=function(){}),Ln=function(Ar,so,mr,no){var $n,Pr,to,No,uo,yr={},Gs=Ar.dataTypes.slice();if(Gs[1])for(to in Ar.converters)yr[to.toLowerCase()]=Ar.converters[to];for(Pr=Gs.shift();Pr;)if(Ar.responseFields[Pr]&&(mr[Ar.responseFields[Pr]]=so),!uo&&no&&Ar.dataFilter&&(so=Ar.dataFilter(so,Ar.dataType)),uo=Pr,Pr=Gs.shift())if("*"===Pr)Pr=uo;else if("*"!==uo&&uo!==Pr){if(!(to=yr[uo+" "+Pr]||yr["* "+Pr]))for($n in yr)if((No=$n.split(" "))[1]===Pr&&(to=yr[uo+" "+No[0]]||yr["* "+No[0]])){!0===to?to=yr[$n]:!0!==yr[$n]&&(Pr=No[0],Gs.unshift(No[1]));break}if(!0!==to)if(to&&Ar.throws)so=to(so);else try{so=to(so)}catch(qo){return{state:"parsererror",error:to?qo:"No conversion from "+uo+" to "+Pr}}}return{state:"success",data:so}}(Be,Ln,ze,cn),cn?(Be.ifModified&&((zr=ze.getResponseHeader("Last-Modified"))&&(u.lastModified[rt]=zr),(zr=ze.getResponseHeader("etag"))&&(u.etag[rt]=zr)),204===Re||"HEAD"===Be.type?Cr="nocontent":304===Re?Cr="notmodified":(Cr=Ln.state,_n=Ln.data,cn=!(kn=Ln.error))):(kn=Cr,!Re&&Cr||(Cr="error",Re<0&&(Re=0))),ze.status=Re,ze.statusText=(fi||Cr)+"",cn?on.resolveWith(Ue,[_n,Cr,ze]):on.rejectWith(Ue,[ze,Cr,kn]),ze.statusCode(Yt),Yt=void 0,xe&&Ii.trigger(cn?"ajaxSuccess":"ajaxError",[ze,Be,cn?_n:kn]),Tt.fireWith(Ue,[ze,Cr]),xe&&(Ii.trigger("ajaxComplete",[ze,Be]),--u.active||u.event.trigger("ajaxStop")))}return ze},getJSON:function(z,Z,ot){return u.get(z,Z,ot,"json")},getScript:function(z,Z){return u.get(z,void 0,Z,"script")}}),u.each(["get","post"],function(z,Z){u[Z]=function(ot,rt,_t,Et){return h(rt)&&(Et=Et||_t,_t=rt,rt=void 0),u.ajax(u.extend({url:ot,type:Z,dataType:Et,data:rt,success:_t},u.isPlainObject(ot)&&ot))}}),u.ajaxPrefilter(function(z){var Z;for(Z in z.headers)"content-type"===Z.toLowerCase()&&(z.contentType=z.headers[Z]||"")}),u._evalUrl=function(z,Z,ot){return u.ajax({url:z,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(rt){u.globalEval(rt,Z,ot)}})},u.fn.extend({wrapAll:function(z){var Z;return this[0]&&(h(z)&&(z=z.call(this[0])),Z=u(z,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Z.insertBefore(this[0]),Z.map(function(){for(var ot=this;ot.firstElementChild;)ot=ot.firstElementChild;return ot}).append(this)),this},wrapInner:function(z){return h(z)?this.each(function(Z){u(this).wrapInner(z.call(this,Z))}):this.each(function(){var Z=u(this),ot=Z.contents();ot.length?ot.wrapAll(z):Z.append(z)})},wrap:function(z){var Z=h(z);return this.each(function(ot){u(this).wrapAll(Z?z.call(this,ot):z)})},unwrap:function(z){return this.parent(z).not("body").each(function(){u(this).replaceWith(this.childNodes)}),this}}),u.expr.pseudos.hidden=function(z){return!u.expr.pseudos.visible(z)},u.expr.pseudos.visible=function(z){return!!(z.offsetWidth||z.offsetHeight||z.getClientRects().length)},u.ajaxSettings.xhr=function(){try{return new v.XMLHttpRequest}catch{}};var Qr={0:200,1223:204},ho=u.ajaxSettings.xhr();a.cors=!!ho&&"withCredentials"in ho,a.ajax=ho=!!ho,u.ajaxTransport(function(z){var Z,ot;if(a.cors||ho&&!z.crossDomain)return{send:function(rt,_t){var Et,Bt=z.xhr();if(Bt.open(z.type,z.url,z.async,z.username,z.password),z.xhrFields)for(Et in z.xhrFields)Bt[Et]=z.xhrFields[Et];for(Et in z.mimeType&&Bt.overrideMimeType&&Bt.overrideMimeType(z.mimeType),z.crossDomain||rt["X-Requested-With"]||(rt["X-Requested-With"]="XMLHttpRequest"),rt)Bt.setRequestHeader(Et,rt[Et]);Z=function(Wt){return function(){Z&&(Z=ot=Bt.onload=Bt.onerror=Bt.onabort=Bt.ontimeout=Bt.onreadystatechange=null,"abort"===Wt?Bt.abort():"error"===Wt?"number"!=typeof Bt.status?_t(0,"error"):_t(Bt.status,Bt.statusText):_t(Qr[Bt.status]||Bt.status,Bt.statusText,"text"!==(Bt.responseType||"text")||"string"!=typeof Bt.responseText?{binary:Bt.response}:{text:Bt.responseText},Bt.getAllResponseHeaders()))}},Bt.onload=Z(),ot=Bt.onerror=Bt.ontimeout=Z("error"),void 0!==Bt.onabort?Bt.onabort=ot:Bt.onreadystatechange=function(){4===Bt.readyState&&v.setTimeout(function(){Z&&ot()})},Z=Z("abort");try{Bt.send(z.hasContent&&z.data||null)}catch(Wt){if(Z)throw Wt}},abort:function(){Z&&Z()}}}),u.ajaxPrefilter(function(z){z.crossDomain&&(z.contents.script=!1)}),u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(z){return u.globalEval(z),z}}}),u.ajaxPrefilter("script",function(z){void 0===z.cache&&(z.cache=!1),z.crossDomain&&(z.type="GET")}),u.ajaxTransport("script",function(z){var Z,ot;if(z.crossDomain||z.scriptAttrs)return{send:function(rt,_t){Z=u("<script>").attr(z.scriptAttrs||{}).prop({charset:z.scriptCharset,src:z.url}).on("load error",ot=function(Et){Z.remove(),ot=null,Et&&_t("error"===Et.type?404:200,Et.type)}),p.head.appendChild(Z[0])},abort:function(){ot&&ot()}}});var Io,wo=[],ko=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var z=wo.pop()||u.expando+"_"+Jn.guid++;return this[z]=!0,z}}),u.ajaxPrefilter("json jsonp",function(z,Z,ot){var rt,_t,Et,Bt=!1!==z.jsonp&&(ko.test(z.url)?"url":"string"==typeof z.data&&0===(z.contentType||"").indexOf("application/x-www-form-urlencoded")&&ko.test(z.data)&&"data");if(Bt||"jsonp"===z.dataTypes[0])return rt=z.jsonpCallback=h(z.jsonpCallback)?z.jsonpCallback():z.jsonpCallback,Bt?z[Bt]=z[Bt].replace(ko,"$1"+rt):!1!==z.jsonp&&(z.url+=(Or.test(z.url)?"&":"?")+z.jsonp+"="+rt),z.converters["script json"]=function(){return Et||u.error(rt+" was not called"),Et[0]},z.dataTypes[0]="json",_t=v[rt],v[rt]=function(){Et=arguments},ot.always(function(){void 0===_t?u(v).removeProp(rt):v[rt]=_t,z[rt]&&(z.jsonpCallback=Z.jsonpCallback,wo.push(rt)),Et&&h(_t)&&_t(Et[0]),Et=_t=void 0}),"script"}),a.createHTMLDocument=((Io=p.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Io.childNodes.length),u.parseHTML=function(z,Z,ot){return"string"!=typeof z?[]:("boolean"==typeof Z&&(ot=Z,Z=!1),Z||(a.createHTMLDocument?((rt=(Z=p.implementation.createHTMLDocument("")).createElement("base")).href=p.location.href,Z.head.appendChild(rt)):Z=p),Et=!ot&&[],(_t=P.exec(z))?[Z.createElement(_t[1])]:(_t=ke([z],Z,Et),Et&&Et.length&&u(Et).remove(),u.merge([],_t.childNodes)));var rt,_t,Et},u.fn.load=function(z,Z,ot){var rt,_t,Et,Bt=this,Wt=z.indexOf(" ");return-1<Wt&&(rt=wn(z.slice(Wt)),z=z.slice(0,Wt)),h(Z)?(ot=Z,Z=void 0):Z&&"object"==typeof Z&&(_t="POST"),0<Bt.length&&u.ajax({url:z,type:_t||"GET",dataType:"html",data:Z}).done(function(Qt){Et=arguments,Bt.html(rt?u("<div>").append(u.parseHTML(Qt)).find(rt):Qt)}).always(ot&&function(Qt,xe){Bt.each(function(){ot.apply(this,Et||[Qt.responseText,xe,Qt])})}),this},u.expr.pseudos.animated=function(z){return u.grep(u.timers,function(Z){return z===Z.elem}).length},u.offset={setOffset:function(z,Z,ot){var rt,_t,Et,Bt,Wt,Qt,xe=u.css(z,"position"),Me=u(z),Xe={};"static"===xe&&(z.style.position="relative"),Wt=Me.offset(),Et=u.css(z,"top"),Qt=u.css(z,"left"),("absolute"===xe||"fixed"===xe)&&-1<(Et+Qt).indexOf("auto")?(Bt=(rt=Me.position()).top,_t=rt.left):(Bt=parseFloat(Et)||0,_t=parseFloat(Qt)||0),h(Z)&&(Z=Z.call(z,ot,u.extend({},Wt))),null!=Z.top&&(Xe.top=Z.top-Wt.top+Bt),null!=Z.left&&(Xe.left=Z.left-Wt.left+_t),"using"in Z?Z.using.call(z,Xe):Me.css(Xe)}},u.fn.extend({offset:function(z){if(arguments.length)return void 0===z?this:this.each(function(_t){u.offset.setOffset(this,z,_t)});var Z,ot,rt=this[0];return rt?rt.getClientRects().length?{top:(Z=rt.getBoundingClientRect()).top+(ot=rt.ownerDocument.defaultView).pageYOffset,left:Z.left+ot.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var z,Z,ot,rt=this[0],_t={top:0,left:0};if("fixed"===u.css(rt,"position"))Z=rt.getBoundingClientRect();else{for(Z=this.offset(),ot=rt.ownerDocument,z=rt.offsetParent||ot.documentElement;z&&(z===ot.body||z===ot.documentElement)&&"static"===u.css(z,"position");)z=z.parentNode;z&&z!==rt&&1===z.nodeType&&((_t=u(z).offset()).top+=u.css(z,"borderTopWidth",!0),_t.left+=u.css(z,"borderLeftWidth",!0))}return{top:Z.top-_t.top-u.css(rt,"marginTop",!0),left:Z.left-_t.left-u.css(rt,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var z=this.offsetParent;z&&"static"===u.css(z,"position");)z=z.offsetParent;return z||re})}}),u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(z,Z){var ot="pageYOffset"===Z;u.fn[z]=function(rt){return At(this,function(_t,Et,Bt){var Wt;if(l(_t)?Wt=_t:9===_t.nodeType&&(Wt=_t.defaultView),void 0===Bt)return Wt?Wt[Z]:_t[Et];Wt?Wt.scrollTo(ot?Wt.pageXOffset:Bt,ot?Bt:Wt.pageYOffset):_t[Et]=Bt},z,rt,arguments.length)}}),u.each(["top","left"],function(z,Z){u.cssHooks[Z]=Qe(a.pixelPosition,function(ot,rt){if(rt)return rt=Gi(ot,Z),ci.test(rt)?u(ot).position()[Z]+"px":rt})}),u.each({Height:"height",Width:"width"},function(z,Z){u.each({padding:"inner"+z,content:Z,"":"outer"+z},function(ot,rt){u.fn[rt]=function(_t,Et){var Bt=arguments.length&&(ot||"boolean"!=typeof _t),Wt=ot||(!0===_t||!0===Et?"margin":"border");return At(this,function(Qt,xe,Me){var Xe;return l(Qt)?0===rt.indexOf("outer")?Qt["inner"+z]:Qt.document.documentElement["client"+z]:9===Qt.nodeType?(Xe=Qt.documentElement,Math.max(Qt.body["scroll"+z],Xe["scroll"+z],Qt.body["offset"+z],Xe["offset"+z],Xe["client"+z])):void 0===Me?u.css(Qt,xe,Wt):u.style(Qt,xe,Me,Wt)},Z,Bt?_t:void 0,Bt)}})}),u.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(z,Z){u.fn[Z]=function(ot){return this.on(Z,ot)}}),u.fn.extend({bind:function(z,Z,ot){return this.on(z,null,Z,ot)},unbind:function(z,Z){return this.off(z,null,Z)},delegate:function(z,Z,ot,rt){return this.on(Z,z,ot,rt)},undelegate:function(z,Z,ot){return 1===arguments.length?this.off(z,"**"):this.off(Z,z||"**",ot)},hover:function(z,Z){return this.mouseenter(z).mouseleave(Z||z)}}),u.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(z,Z){u.fn[Z]=function(ot,rt){return 0<arguments.length?this.on(Z,null,ot,rt):this.trigger(Z)}});var J=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;u.proxy=function(z,Z){var ot,rt,_t;if("string"==typeof Z&&(ot=z[Z],Z=z,z=ot),h(z))return rt=c.call(arguments,2),(_t=function(){return z.apply(Z||this,rt.concat(c.call(arguments)))}).guid=z.guid=z.guid||u.guid++,_t},u.holdReady=function(z){z?u.readyWait++:u.ready(!0)},u.isArray=Array.isArray,u.parseJSON=JSON.parse,u.nodeName=A,u.isFunction=h,u.isWindow=l,u.camelCase=Lt,u.type=b,u.now=Date.now,u.isNumeric=function(z){var Z=u.type(z);return("number"===Z||"string"===Z)&&!isNaN(z-parseFloat(z))},u.trim=function(z){return null==z?"":(z+"").replace(J,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return u});var pt=v.jQuery,It=v.$;return u.noConflict=function(z){return v.$===u&&(v.$=It),z&&v.jQuery===u&&(v.jQuery=pt),u},typeof e>"u"&&(v.jQuery=v.$=u),u}),function(v,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.feather=e():v.feather=e()}(typeof self<"u"?self:this,function(){return function(v){var e={};function i(s){if(e[s])return e[s].exports;var c=e[s]={i:s,l:!1,exports:{}};return v[s].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=v,i.c=e,i.d=function(s,c,S){i.o(s,c)||Object.defineProperty(s,c,{configurable:!1,enumerable:!0,get:S})},i.r=function(s){Object.defineProperty(s,"__esModule",{value:!0})},i.n=function(s){var c=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(c,"a",c),c},i.o=function(s,c){return Object.prototype.hasOwnProperty.call(s,c)},i.p="",i(i.s=80)}([function(v,e,i){(function(s){var c="object",S=function(M){return M&&M.Math==Math&&M};v.exports=S(typeof globalThis==c&&globalThis)||S(typeof window==c&&window)||S(typeof self==c&&self)||S(typeof s==c&&s)||Function("return this")()}).call(this,i(75))},function(v,e){var i={}.hasOwnProperty;v.exports=function(s,c){return i.call(s,c)}},function(v,e,i){var s=i(0),c=i(11),S=i(33),M=i(62),U=s.Symbol,G=c("wks");v.exports=function(X){return G[X]||(G[X]=M&&U[X]||(M?U:S)("Symbol."+X))}},function(v,e,i){var s=i(6);v.exports=function(c){if(!s(c))throw TypeError(String(c)+" is not an object");return c}},function(v,e){v.exports=function(i){try{return!!i()}catch{return!0}}},function(v,e,i){var s=i(8),c=i(7),S=i(10);v.exports=s?function(M,U,G){return c.f(M,U,S(1,G))}:function(M,U,G){return M[U]=G,M}},function(v,e){v.exports=function(i){return"object"==typeof i?null!==i:"function"==typeof i}},function(v,e,i){var s=i(8),c=i(35),S=i(3),M=i(18),U=Object.defineProperty;e.f=s?U:function(G,X,F){if(S(G),X=M(X,!0),S(F),c)try{return U(G,X,F)}catch{}if("get"in F||"set"in F)throw TypeError("Accessors not supported");return"value"in F&&(G[X]=F.value),G}},function(v,e,i){var s=i(4);v.exports=!s(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(v,e){v.exports={}},function(v,e){v.exports=function(i,s){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:s}}},function(v,e,i){var s=i(0),c=i(19),S=i(17),M=s["__core-js_shared__"]||c("__core-js_shared__",{});(v.exports=function(U,G){return M[U]||(M[U]=void 0!==G?G:{})})("versions",[]).push({version:"3.1.3",mode:S?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(v,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=M(i(43)),c=M(i(41)),S=M(i(40));function M(U){return U&&U.__esModule?U:{default:U}}e.default=Object.keys(c.default).map(function(U){return new s.default(U,c.default[U],S.default[U])}).reduce(function(U,G){return U[G.name]=G,U},{})},function(v,e){v.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(v,e,i){var s=i(72),c=i(20);v.exports=function(S){return s(c(S))}},function(v,e){v.exports={}},function(v,e,i){var s=i(11),c=i(33),S=s("keys");v.exports=function(M){return S[M]||(S[M]=c(M))}},function(v,e){v.exports=!1},function(v,e,i){var s=i(6);v.exports=function(c,S){if(!s(c))return c;var M,U;if(S&&"function"==typeof(M=c.toString)&&!s(U=M.call(c))||"function"==typeof(M=c.valueOf)&&!s(U=M.call(c))||!S&&"function"==typeof(M=c.toString)&&!s(U=M.call(c)))return U;throw TypeError("Can't convert object to primitive value")}},function(v,e,i){var s=i(0),c=i(5);v.exports=function(S,M){try{c(s,S,M)}catch{s[S]=M}return M}},function(v,e){v.exports=function(i){if(null==i)throw TypeError("Can't call method on "+i);return i}},function(v,e){var i=Math.ceil,s=Math.floor;v.exports=function(c){return isNaN(c=+c)?0:(c>0?s:i)(c)}},function(v,e,i){var s;!function(){"use strict";var c=function(){function S(){}function M(F,R){for(var E=R.length,a=0;a<E;++a)X(F,R[a])}S.prototype=Object.create(null);var U={}.hasOwnProperty,G=/\s+/;function X(F,R){if(R){var E=typeof R;"string"===E?function(a,h){for(var l=h.split(G),p=l.length,x=0;x<p;++x)a[l[x]]=!0}(F,R):Array.isArray(R)?M(F,R):"object"===E?function(a,h){for(var l in h)U.call(h,l)&&(a[l]=!!h[l])}(F,R):"number"===E&&(F[R]=!0)}}return function(){for(var F=arguments.length,R=Array(F),E=0;E<F;E++)R[E]=arguments[E];var a=new S;M(a,R);var h=[];for(var l in a)a[l]&&h.push(l);return h.join(" ")}}();void 0!==v&&v.exports?v.exports=c:void 0===(s=function(){return c}.apply(e,[]))||(v.exports=s)}()},function(v,e,i){var s=i(7).f,c=i(1),S=i(2)("toStringTag");v.exports=function(M,U,G){M&&!c(M=G?M:M.prototype,S)&&s(M,S,{configurable:!0,value:U})}},function(v,e,i){var s=i(20);v.exports=function(c){return Object(s(c))}},function(v,e,i){var s=i(1),c=i(24),S=i(16),M=i(63),U=S("IE_PROTO"),G=Object.prototype;v.exports=M?Object.getPrototypeOf:function(X){return X=c(X),s(X,U)?X[U]:"function"==typeof X.constructor&&X instanceof X.constructor?X.constructor.prototype:X instanceof Object?G:null}},function(v,e,i){"use strict";var s,c,S,M=i(25),U=i(5),G=i(1),X=i(2),F=i(17),R=X("iterator"),E=!1;[].keys&&("next"in(S=[].keys())?(c=M(M(S)))!==Object.prototype&&(s=c):E=!0),null==s&&(s={}),F||G(s,R)||U(s,R,function(){return this}),v.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:E}},function(v,e,i){var s=i(21),c=Math.min;v.exports=function(S){return S>0?c(s(S),9007199254740991):0}},function(v,e,i){var s=i(1),c=i(14),S=i(68),M=i(15),U=S(!1);v.exports=function(G,X){var F,R=c(G),E=0,a=[];for(F in R)!s(M,F)&&s(R,F)&&a.push(F);for(;X.length>E;)s(R,F=X[E++])&&(~U(a,F)||a.push(F));return a}},function(v,e,i){var s=i(0),c=i(11),S=i(5),M=i(1),U=i(19),G=i(36),X=i(37),F=X.get,R=X.enforce,E=String(G).split("toString");c("inspectSource",function(a){return G.call(a)}),(v.exports=function(a,h,l,p){var x=!!p&&!!p.unsafe,T=!!p&&!!p.enumerable,b=!!p&&!!p.noTargetGet;"function"==typeof l&&("string"!=typeof h||M(l,"name")||S(l,"name",h),R(l).source=E.join("string"==typeof h?h:"")),a!==s?(x?!b&&a[h]&&(T=!0):delete a[h],T?a[h]=l:S(a,h,l)):T?a[h]=l:U(h,l)})(Function.prototype,"toString",function(){return"function"==typeof this&&F(this).source||G.call(this)})},function(v,e){var i={}.toString;v.exports=function(s){return i.call(s).slice(8,-1)}},function(v,e,i){var s=i(8),c=i(73),S=i(10),M=i(14),U=i(18),G=i(1),X=i(35),F=Object.getOwnPropertyDescriptor;e.f=s?F:function(R,E){if(R=M(R),E=U(E,!0),X)try{return F(R,E)}catch{}if(G(R,E))return S(!c.f.call(R,E),R[E])}},function(v,e,i){var s=i(0),c=i(31).f,S=i(5),M=i(29),U=i(19),G=i(71),X=i(65);v.exports=function(F,R){var E,a,h,l,p,x=F.target,T=F.global,b=F.stat;if(E=T?s:b?s[x]||U(x,{}):(s[x]||{}).prototype)for(a in R){if(l=R[a],h=F.noTargetGet?(p=c(E,a))&&p.value:E[a],!X(T?a:x+(b?".":"#")+a,F.forced)&&void 0!==h){if(typeof l==typeof h)continue;G(l,h)}(F.sham||h&&h.sham)&&S(l,"sham",!0),M(E,a,l,F)}}},function(v,e){var i=0,s=Math.random();v.exports=function(c){return"Symbol(".concat(void 0===c?"":c,")_",(++i+s).toString(36))}},function(v,e,i){var s=i(0),c=i(6),S=s.document,M=c(S)&&c(S.createElement);v.exports=function(U){return M?S.createElement(U):{}}},function(v,e,i){var s=i(8),c=i(4),S=i(34);v.exports=!s&&!c(function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})},function(v,e,i){var s=i(11);v.exports=s("native-function-to-string",Function.toString)},function(v,e,i){var s,c,S,M=i(76),U=i(0),G=i(6),X=i(5),F=i(1),R=i(16),E=i(15);if(M){var h=new(0,U.WeakMap),l=h.get,p=h.has,x=h.set;s=function(b,I){return x.call(h,b,I),I},c=function(b){return l.call(h,b)||{}},S=function(b){return p.call(h,b)}}else{var T=R("state");E[T]=!0,s=function(b,I){return X(b,T,I),I},c=function(b){return F(b,T)?b[T]:{}},S=function(b){return F(b,T)}}v.exports={set:s,get:c,has:S,enforce:function(b){return S(b)?c(b):s(b,{})},getterFor:function(b){return function(I){var u;if(!G(I)||(u=c(I)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return u}}}},function(v,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(U){for(var G=1;G<arguments.length;G++){var X=arguments[G];for(var F in X)Object.prototype.hasOwnProperty.call(X,F)&&(U[F]=X[F])}return U},c=M(i(22)),S=M(i(12));function M(U){return U&&U.__esModule?U:{default:U}}e.default=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var G=document.querySelectorAll("[data-feather]");Array.from(G).forEach(function(X){return function(F){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=Array.from(F.attributes).reduce(function(x,T){return x[T.name]=T.value,x},{}),a=E["data-feather"];delete E["data-feather"];var h=S.default[a].toSvg(s({},R,E,{class:(0,c.default)(R.class,E.class)})),l=(new DOMParser).parseFromString(h,"image/svg+xml").querySelector("svg");F.parentNode.replaceChild(l,F)}(X,U)})}},function(v,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,S=(s=i(12))&&s.__esModule?s:{default:s};e.default=function(M){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!M)throw new Error("The required `key` (icon name) parameter is missing.");if(!S.default[M])throw new Error("No icon matching '"+M+"'. See the complete list of icons at https://feathericons.com");return S.default[M].toSvg(U)}},function(v){v.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-bouy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},function(v){v.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},function(v){v.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},function(v,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(X){for(var F=1;F<arguments.length;F++){var R=arguments[F];for(var E in R)Object.prototype.hasOwnProperty.call(R,E)&&(X[E]=R[E])}return X},c=function(){function X(F,R){for(var E=0;E<R.length;E++){var a=R[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(F,a.key,a)}}return function(F,R,E){return R&&X(F.prototype,R),E&&X(F,E),F}}(),S=U(i(22)),M=U(i(42));function U(X){return X&&X.__esModule?X:{default:X}}var G=function(){function X(F,R){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(function(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")})(this,X),this.name=F,this.contents=R,this.tags=E,this.attrs=s({},M.default,{class:"feather feather-"+F})}return c(X,[{key:"toSvg",value:function(){var R,F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"<svg "+(R=s({},this.attrs,F,{class:(0,S.default)(this.attrs.class,F.class)}),Object.keys(R).map(function(E){return E+'="'+R[E]+'"'}).join(" ")+">")+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),X}();e.default=G},function(v,e,i){"use strict";var s=M(i(12)),c=M(i(39)),S=M(i(38));function M(U){return U&&U.__esModule?U:{default:U}}v.exports={icons:s.default,toSvg:c.default,replace:S.default}},function(v,e,i){v.exports=i(0)},function(v,e,i){var s=i(2)("iterator"),c=!1;try{var S=0,M={next:function(){return{done:!!S++}},return:function(){c=!0}};M[s]=function(){return this},Array.from(M,function(){throw 2})}catch{}v.exports=function(U,G){if(!G&&!c)return!1;var X=!1;try{var F={};F[s]=function(){return{next:function(){return{done:X=!0}}}},U(F)}catch{}return X}},function(v,e,i){var s=i(30),c=i(2)("toStringTag"),S="Arguments"==s(function(){return arguments}());v.exports=function(M){var U,G,X;return void 0===M?"Undefined":null===M?"Null":"string"==typeof(G=function(F,R){try{return F[R]}catch{}}(U=Object(M),c))?G:S?s(U):"Object"==(X=s(U))&&"function"==typeof U.callee?"Arguments":X}},function(v,e,i){var s=i(47),c=i(9),S=i(2)("iterator");v.exports=function(M){if(null!=M)return M[S]||M["@@iterator"]||c[s(M)]}},function(v,e,i){"use strict";var s=i(18),c=i(7),S=i(10);v.exports=function(M,U,G){var X=s(U);X in M?c.f(M,X,S(0,G)):M[X]=G}},function(v,e,i){var s=i(2),c=i(9),S=s("iterator"),M=Array.prototype;v.exports=function(U){return void 0!==U&&(c.Array===U||M[S]===U)}},function(v,e,i){var s=i(3);v.exports=function(c,S,M,U){try{return U?S(s(M)[0],M[1]):S(M)}catch(X){var G=c.return;throw void 0!==G&&s(G.call(c)),X}}},function(v,e){v.exports=function(i){if("function"!=typeof i)throw TypeError(String(i)+" is not a function");return i}},function(v,e,i){var s=i(52);v.exports=function(c,S,M){if(s(c),void 0===S)return c;switch(M){case 0:return function(){return c.call(S)};case 1:return function(U){return c.call(S,U)};case 2:return function(U,G){return c.call(S,U,G)};case 3:return function(U,G,X){return c.call(S,U,G,X)}}return function(){return c.apply(S,arguments)}}},function(v,e,i){"use strict";var s=i(53),c=i(24),S=i(51),M=i(50),U=i(27),G=i(49),X=i(48);v.exports=function(F){var R,E,a,h,l=c(F),p="function"==typeof this?this:Array,x=arguments.length,T=x>1?arguments[1]:void 0,b=void 0!==T,I=0,u=X(l);if(b&&(T=s(T,x>2?arguments[2]:void 0,2)),null==u||p==Array&&M(u))for(E=new p(R=U(l.length));R>I;I++)G(E,I,b?T(l[I],I):l[I]);else for(h=u.call(l),E=new p;!(a=h.next()).done;I++)G(E,I,b?S(h,T,[a.value,I],!0):a.value);return E.length=I,E}},function(v,e,i){var s=i(32),c=i(54);s({target:"Array",stat:!0,forced:!i(46)(function(S){Array.from(S)})},{from:c})},function(v,e,i){var s=i(6),c=i(3);v.exports=function(S,M){if(c(S),!s(M)&&null!==M)throw TypeError("Can't set "+String(M)+" as a prototype")}},function(v,e,i){var s=i(56);v.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,S=!1,M={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(M,[]),S=M instanceof Array}catch{}return function(U,G){return s(U,G),S?c.call(U,G):U.__proto__=G,U}}():void 0)},function(v,e,i){var s=i(0).document;v.exports=s&&s.documentElement},function(v,e,i){var s=i(28),c=i(13);v.exports=Object.keys||function(S){return s(S,c)}},function(v,e,i){var s=i(8),c=i(7),S=i(3),M=i(59);v.exports=s?Object.defineProperties:function(U,G){S(U);for(var X,F=M(G),R=F.length,E=0;R>E;)c.f(U,X=F[E++],G[X]);return U}},function(v,e,i){var s=i(3),c=i(60),S=i(13),M=i(15),U=i(58),G=i(34),X=i(16)("IE_PROTO"),F=function(){},R=function(){var E,a=G("iframe"),h=S.length;for(a.style.display="none",U.appendChild(a),a.src=String("javascript:"),(E=a.contentWindow.document).open(),E.write("<script>document.F=Object<\/script>"),E.close(),R=E.F;h--;)delete R.prototype[S[h]];return R()};v.exports=Object.create||function(E,a){var h;return null!==E?(F.prototype=s(E),h=new F,F.prototype=null,h[X]=E):h=R(),void 0===a?h:c(h,a)},M[X]=!0},function(v,e,i){var s=i(4);v.exports=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())})},function(v,e,i){var s=i(4);v.exports=!s(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},function(v,e,i){"use strict";var s=i(26).IteratorPrototype,c=i(61),S=i(10),M=i(23),U=i(9),G=function(){return this};v.exports=function(X,F,R){var E=F+" Iterator";return X.prototype=c(s,{next:S(1,R)}),M(X,E,!1,!0),U[E]=G,X}},function(v,e,i){var s=i(4),c=/#|\.prototype\./,S=function(F,R){var E=U[M(F)];return E==X||E!=G&&("function"==typeof R?s(R):!!R)},M=S.normalize=function(F){return String(F).replace(c,".").toLowerCase()},U=S.data={},G=S.NATIVE="N",X=S.POLYFILL="P";v.exports=S},function(v,e){e.f=Object.getOwnPropertySymbols},function(v,e,i){var s=i(21),c=Math.max,S=Math.min;v.exports=function(M,U){var G=s(M);return G<0?c(G+U,0):S(G,U)}},function(v,e,i){var s=i(14),c=i(27),S=i(67);v.exports=function(M){return function(U,G,X){var F,R=s(U),E=c(R.length),a=S(X,E);if(M&&G!=G){for(;E>a;)if((F=R[a++])!=F)return!0}else for(;E>a;a++)if((M||a in R)&&R[a]===G)return M||a||0;return!M&&-1}}},function(v,e,i){var s=i(28),c=i(13).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(S){return s(S,c)}},function(v,e,i){var s=i(0),c=i(69),S=i(66),M=i(3),U=s.Reflect;v.exports=U&&U.ownKeys||function(G){var X=c.f(M(G)),F=S.f;return F?X.concat(F(G)):X}},function(v,e,i){var s=i(1),c=i(70),S=i(31),M=i(7);v.exports=function(U,G){for(var X=c(G),F=M.f,R=S.f,E=0;E<X.length;E++){var a=X[E];s(U,a)||F(U,a,R(G,a))}}},function(v,e,i){var s=i(4),c=i(30),S="".split;v.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(M){return"String"==c(M)?S.call(M,""):Object(M)}:Object},function(v,e,i){"use strict";var s={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,S=c&&!s.call({1:2},1);e.f=S?function(M){var U=c(this,M);return!!U&&U.enumerable}:s},function(v,e,i){"use strict";var s=i(32),c=i(64),S=i(25),M=i(57),U=i(23),G=i(5),X=i(29),F=i(2),R=i(17),E=i(9),a=i(26),h=a.IteratorPrototype,l=a.BUGGY_SAFARI_ITERATORS,p=F("iterator"),x=function(){return this};v.exports=function(T,b,I,u,n,k,C){c(I,b,u);var O,m,A,P=function(nt){if(nt===n&&V)return V;if(!l&&nt in o)return o[nt];switch(nt){case"keys":case"values":case"entries":return function(){return new I(this,nt)}}return function(){return new I(this)}},D=b+" Iterator",f=!1,o=T.prototype,B=o[p]||o["@@iterator"]||n&&o[n],V=!l&&B||P(n),q="Array"==b&&o.entries||B;if(q&&(O=S(q.call(new T)),h!==Object.prototype&&O.next&&(R||S(O)===h||(M?M(O,h):"function"!=typeof O[p]&&G(O,p,x)),U(O,D,!0,!0),R&&(E[D]=x))),"values"==n&&B&&"values"!==B.name&&(f=!0,V=function(){return B.call(this)}),R&&!C||o[p]===V||G(o,p,V),E[b]=V,n)if(m={values:P("values"),keys:k?V:P("keys"),entries:P("entries")},C)for(A in m)!l&&!f&&A in o||X(o,A,m[A]);else s({target:b,proto:!0,forced:l||f},m);return m}},function(v,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{"object"==typeof window&&(i=window)}v.exports=i},function(v,e,i){var s=i(0),c=i(36),S=s.WeakMap;v.exports="function"==typeof S&&/native code/.test(c.call(S))},function(v,e,i){var s=i(21),c=i(20);v.exports=function(S,M,U){var G,X,F=String(c(S)),R=s(M),E=F.length;return R<0||R>=E?U?"":void 0:(G=F.charCodeAt(R))<55296||G>56319||R+1===E||(X=F.charCodeAt(R+1))<56320||X>57343?U?F.charAt(R):G:U?F.slice(R,R+2):X-56320+(G-55296<<10)+65536}},function(v,e,i){"use strict";var s=i(77),c=i(37),S=i(74),M=c.set,U=c.getterFor("String Iterator");S(String,"String",function(G){M(this,{type:"String Iterator",string:String(G),index:0})},function(){var G,X=U(this),F=X.string,R=X.index;return R>=F.length?{value:void 0,done:!0}:(G=s(F,R,!0),X.index+=G.length,{value:G,done:!1})})},function(v,e,i){i(78),i(55);var s=i(45);v.exports=s.Array.from},function(v,e,i){i(79),v.exports=i(44)}])}),function(v){"object"==typeof module&&module.exports?(v.default=v,module.exports=v):"function"==typeof define&&define.amd?define("highcharts/modules/export-data",["highcharts","highcharts/modules/exporting"],function(e){return v(e),v.Highcharts=e,v}):v(typeof Highcharts<"u"?Highcharts:void 0)}(function(v){function e(i,s,c,S){i.hasOwnProperty(s)||(i[s]=S.apply(null,c),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}e(v=v?v._modules:{},"Extensions/ExportData/ExportDataDefaults.js",[],function(){return{exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table"}}}),e(v,"Extensions/DownloadURL.js",[v["Core/Globals.js"]],function(i){var s=i.isSafari,c=i.win,S=c.document,M=c.URL||c.webkitURL||c,U=i.dataURLtoBlob=function(G){if((G=G.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<G.length&&c.atob&&c.ArrayBuffer&&c.Uint8Array&&c.Blob&&M.createObjectURL){var X=c.atob(G[3]),F=new c.ArrayBuffer(X.length);F=new c.Uint8Array(F);for(var R=0;R<F.length;++R)F[R]=X.charCodeAt(R);return G=new c.Blob([F],{type:G[1]}),M.createObjectURL(G)}};return i=i.downloadURL=function(G,X){var F=c.navigator,R=S.createElement("a");if("string"==typeof G||G instanceof String||!F.msSaveOrOpenBlob){if(G="".concat(G),F=/Edge\/\d+/.test(F.userAgent),(s&&"string"==typeof G&&0===G.indexOf("data:application/pdf")||F||2e6<G.length)&&!(G=U(G)||""))throw Error("Failed to convert to blob");if(typeof R.download<"u")R.href=G,R.download=X,S.body.appendChild(R),R.click(),S.body.removeChild(R);else try{var E=c.open(G,"chart");if(typeof E>"u"||null===E)throw Error("Failed to open window")}catch{c.location.href=G}}else F.msSaveOrOpenBlob(G,X)},{dataURLtoBlob:U,downloadURL:i}}),e(v,"Extensions/ExportData/ExportData.js",[v["Core/Renderer/HTML/AST.js"],v["Extensions/ExportData/ExportDataDefaults.js"],v["Core/Globals.js"],v["Core/Defaults.js"],v["Extensions/DownloadURL.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(i,s,c,S,M,U,G){function X(){var St=this.getCSV(!0);m(T(St,"text/csv")||"data:text/csv,\ufeff"+encodeURIComponent(St),this.getFilename()+".csv")}function F(){var St='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";m(T(St,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+k.btoa(unescape(encodeURIComponent(St))),this.getFilename()+".xls")}function R(St){var At="",ht=this.getDataRows(),mt=this.options.exporting.csv,dt=tt(mt.decimalPoint,","!==mt.itemDelimiter&&St?1.1.toLocaleString()[1]:"."),Lt=tt(mt.itemDelimiter,","===dt?";":","),Ct=mt.lineDelimiter;return ht.forEach(function(vt,kt){for(var Rt,Xt=vt.length;Xt--;)"string"==typeof(Rt=vt[Xt])&&(Rt='"'+Rt+'"'),"number"==typeof Rt&&"."!==dt&&(Rt=Rt.toString().replace(".",dt)),vt[Xt]=Rt;vt.length=ht.length?ht[0].length:0,At+=vt.join(Lt),kt<ht.length-1&&(At+=Ct)}),At}function E(St){var re,At=this.hasParallelCoordinates,ht=this.time,mt=this.options.exporting&&this.options.exporting.csv||{},dt=this.xAxis,Lt={},Ct=[],vt=[],kt=[],Rt=this.options.lang.exportData,Xt=Rt.categoryHeader,Ft=Rt.categoryDatetimeHeader,qt=function(le,We,$e){if(mt.columnHeaderFormatter){var Li=mt.columnHeaderFormatter(le,We,$e);if(!1!==Li)return Li}return le?le instanceof A?St?{columnTitle:1<$e?We:le.name,topLevelColumnTitle:le.name}:le.name+(1<$e?" ("+We+")":""):le.options.title&&le.options.title.text||(le.dateTime?Ft:Xt):Xt},ae=function(le,We,$e){var Li={},Si={};return We.forEach(function(bi){var ji=(le.keyToAxis&&le.keyToAxis[bi]||bi)+"Axis";ji=Y($e)?le.chart[ji][$e]:le[ji],Li[bi]=ji&&ji.categories||[],Si[bi]=ji&&ji.dateTime}),{categoryMap:Li,dateTimeValueAxisMap:Si}},de=[],Ut=0;for(ve in this.series.forEach(function(le){var ui,We=le.xAxis,$e=le.options.keys||function(le,We){return le.data.filter(function($e){return typeof $e.y<"u"&&$e.name}).length&&We&&!We.categories&&!le.keyToAxis?le.pointArrayMap&&le.pointArrayMap.filter(function($e){return"x"===$e}).length?(le.pointArrayMap.unshift("x"),le.pointArrayMap):["x","y"]:le.pointArrayMap||["y"]}(le,We),Li=$e.length,Si=!le.requireSorting&&{},bi=dt.indexOf(We),ji=ae(le,$e);if(!1!==le.options.includeInDataExport&&!le.options.isInternal&&!1!==le.visible){for(yt(de,function(Ai){return Ai[0]===bi})||de.push([bi,Ut]),ui=0;ui<Li;)re=qt(le,$e[ui],$e.length),kt.push(re.columnTitle||re),St&&vt.push(re.topLevelColumnTitle||re),ui++;var Pi={chart:le.chart,autoIncrement:le.autoIncrement,options:le.options,pointArrayMap:le.pointArrayMap,index:le.index};le.options.data.forEach(function(Ai,ke){var di={series:Pi};At&&(ji=ae(le,$e,ke)),le.pointClass.prototype.applyOptions.apply(di,[Ai]);var lt=di.x;for(q(Lt[lt])&&Lt[lt].seriesIndices.includes(Pi.index)&&(Ai=Object.keys(Lt).filter(function(Dt){return Lt[Dt].seriesIndices.includes(Pi.index)&&lt}).filter(function(Dt){return 0===Dt.indexOf(String(lt))}),lt=lt.toString()+","+Ai.length),Ai=le.data[ke]&&le.data[ke].name,ui=0,(!We||"name"===le.exportKey||!At&&We&&We.hasNames&&Ai)&&(lt=Ai),Si&&(Si[lt]&&(lt+="|"+ke),Si[lt]=!0),Lt[lt]||(Lt[lt]=[],Lt[lt].xValues=[]),Lt[lt].x=di.x,Lt[lt].name=Ai,Lt[lt].xValues[bi]=di.x,q(Lt[lt].seriesIndices)||(Lt[lt].seriesIndices=[]),Lt[lt].seriesIndices=u(u([],Lt[lt].seriesIndices,!0),[Pi.index],!1);ui<Li;)Lt[lt][Ut+ui]=tt(ji.categoryMap[ke=$e[ui]][Ai=di[ke]],ji.dateTimeValueAxisMap[ke]?ht.dateFormat(mt.dateFormat,Ai):null,Ai),ui++}),Ut+=ui}}),Lt)Object.hasOwnProperty.call(Lt,ve)&&Ct.push(Lt[ve]);for(Rt=St?[vt,kt]:[kt],Ut=de.length;Ut--;){var Vt=de[Ut][0],ue=de[Ut][1],me=dt[Vt];Ct.sort(function(le,We){return le.xValues[Vt]-We.xValues[Vt]});var ve=qt(me);Rt[0].splice(ue,0,ve),St&&Rt[1]&&Rt[1].splice(ue,0,ve),Ct.forEach(function(le){var We=le.name;me&&!q(We)&&(me.dateTime?(le.x instanceof Date&&(le.x=le.x.getTime()),We=ht.dateFormat(mt.dateFormat,le.x)):We=me.categories?tt(me.names[le.x],me.categories[le.x],le.x):le.x),le.splice(ue,0,We)})}return Rt=Rt.concat(Ct),ut(this,"exportData",{dataRows:Rt}),Rt}function a(St){var At=function(ht){if(!ht.tagName||"#text"===ht.tagName)return ht.textContent||"";var mt=ht.attributes,dt="<".concat(ht.tagName);return mt&&Object.keys(mt).forEach(function(Lt){var Ct=mt[Lt];dt+=" ".concat(Lt,'="').concat(Ct,'"')}),dt+=">",dt+=ht.textContent||"",(ht.children||[]).forEach(function(Lt){dt+=At(Lt)}),dt+="</".concat(ht.tagName,">")};return St=this.getTableAST(St),At(St)}function h(St){var At=0,ht=[],mt=this.options,dt=St?1.1.toLocaleString()[1]:".",Lt=tt(mt.exporting.useMultiLevelHeaders,!0);St=this.getDataRows(Lt);var Ct=Lt?St.shift():null,vt=St.shift(),kt=function(qt,ae,te,de){var re=tt(de,"");return ae="highcharts-text"+(ae?" "+ae:""),"number"==typeof re?(re=re.toString(),","===dt&&(re=re.replace(".",dt)),ae="highcharts-number"):de||(ae="highcharts-empty"),{tagName:qt,attributes:te=nt({class:ae},te),textContent:re}};!1!==mt.exporting.tableCaption&&ht.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:tt(mt.exporting.tableCaption,mt.title.text?mt.title.text:"Chart")});for(var Rt=0,Xt=St.length;Rt<Xt;++Rt)St[Rt].length>At&&(At=St[Rt].length);ht.push(function(qt,ae,te){var de=[],re=0;te=te||ae&&ae.length;var Vt,Ut=0;if(Vt=Lt&&qt&&ae){t:if(Vt=qt.length,ae.length===Vt){for(;Vt--;)if(qt[Vt]!==ae[Vt]){Vt=!1;break t}Vt=!0}else Vt=!1;Vt=!Vt}if(Vt){for(Vt=[];re<te;++re){var ue=qt[re],me=qt[re+1];ue===me?++Ut:Ut?(Vt.push(kt("th","highcharts-table-topheading",{scope:"col",colspan:Ut+1},ue)),Ut=0):(ue===ae[re]?mt.exporting.useRowspanHeaders?(me=2,delete ae[re]):(me=1,ae[re]=""):me=1,ue=kt("th","highcharts-table-topheading",{scope:"col"},ue),1<me&&ue.attributes&&(ue.attributes.valign="top",ue.attributes.rowspan=me),Vt.push(ue))}de.push({tagName:"tr",children:Vt})}if(ae){for(Vt=[],re=0,te=ae.length;re<te;++re)typeof ae[re]<"u"&&Vt.push(kt("th",null,{scope:"col"},ae[re]));de.push({tagName:"tr",children:Vt})}return{tagName:"thead",children:de}}(Ct,vt,Math.max(At,vt.length)));var Ft=[];return St.forEach(function(qt){for(var ae=[],te=0;te<At;te++)ae.push(kt(te?"td":"th",null,te?{}:{scope:"row"},qt[te]));Ft.push({tagName:"tr",children:ae})}),ht.push({tagName:"tbody",children:Ft}),ht={tree:{tagName:"table",id:"highcharts-data-table-".concat(this.index),children:ht}},ut(this,"aftergetTableAST",ht),ht.tree}function l(){this.toggleDataTable(!1)}function p(St){var At=(St=tt(St,!this.isDataTableVisible))&&!this.dataTableDiv;if(At&&(this.dataTableDiv=n.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv){var ht=this.dataTableDiv.style,mt=ht.display;ht.display=St?"block":"none",St&&(this.dataTableDiv.innerHTML=i.emptyHTML,new i([this.getTableAST()]).addToDOM(this.dataTableDiv),ut(this,"afterViewData",{element:this.dataTableDiv,wasHidden:At||mt!==ht.display}))}this.isDataTableVisible=St,At=this.exportDivElements,mt=(ht=this.options.exporting)&&ht.buttons&&ht.buttons.contextButton.menuItems,St=this.options.lang,ht&&ht.menuItemDefinitions&&St&&St.viewData&&St.hideData&&mt&&At&&(At=At[mt.indexOf("viewData")])&&i.setElementHTML(At,this.isDataTableVisible?St.hideData:St.viewData)}function x(){this.toggleDataTable(!0)}function T(St,At){var ht=k.navigator,mt=-1<ht.userAgent.indexOf("WebKit")&&0>ht.userAgent.indexOf("Chrome"),dt=k.URL||k.webkitURL||k;try{if(ht.msSaveOrOpenBlob&&k.MSBlobBuilder){var Lt=new k.MSBlobBuilder;return Lt.append(St),Lt.getBlob("image/svg+xml")}if(!mt)return dt.createObjectURL(new k.Blob(["\ufeff"+St],{type:At}))}catch{}}function b(){var St=this,At=St.dataTableDiv,ht=document.querySelectorAll("thead")[0].querySelectorAll("tr")[0];At&&ht.childNodes.forEach(function(dt){var Lt=dt.closest("table");dt.addEventListener("click",function(){var Ct=u([],At.querySelectorAll("tr:not(thead tr)"),!0),vt=u([],dt.parentNode.children,!0);Ct.sort(function(dt,Lt){return function(Ct,vt){var kt=(Lt?Ct:vt).children[dt].textContent;return Ct=(Lt?vt:Ct).children[dt].textContent,""===kt||""===Ct||isNaN(kt)||isNaN(Ct)?kt.toString().localeCompare(Ct):kt-Ct}}(vt.indexOf(dt),St.ascendingOrderInTable=!St.ascendingOrderInTable)).forEach(function(kt){Lt.appendChild(kt)}),vt.forEach(function(kt){["highcharts-sort-ascending","highcharts-sort-descending"].forEach(function(Rt){kt.classList.contains(Rt)&&kt.classList.remove(Rt)})}),dt.classList.add(St.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending")})})}function I(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&this.viewData()}var u=this&&this.__spreadArray||function(St,At,ht){if(ht||2===arguments.length)for(var Lt,mt=0,dt=At.length;mt<dt;mt++)!Lt&&mt in At||(Lt||(Lt=Array.prototype.slice.call(At,0,mt)),Lt[mt]=At[mt]);return St.concat(Lt||Array.prototype.slice.call(At))},n=c.doc,k=c.win,C=S.getOptions,O=S.setOptions,m=M.downloadURL,A=U.series,P=(c=U.seriesTypes).arearange,D=c.gantt,f=c.map,o=c.mapbubble,B=c.treemap,V=G.addEvent,q=G.defined,nt=G.extend,yt=G.find,ut=G.fireEvent,Y=G.isNumber,tt=G.pick,wt=[];return{compose:function(St){-1===wt.indexOf(St)&&(wt.push(St),V(St,"afterViewData",b),V(St,"render",I),(St=St.prototype).downloadCSV=X,St.downloadXLS=F,St.getCSV=R,St.getDataRows=E,St.getTable=a,St.getTableAST=h,St.hideData=l,St.toggleDataTable=p,St.viewData=x),-1===wt.indexOf(O)&&(wt.push(O),(St=C().exporting)&&(nt(St.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.toggleDataTable()}}}),St.buttons&&St.buttons.contextButton.menuItems&&St.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),O(s)),P&&-1===wt.indexOf(P)&&(wt.push(P),P.prototype.keyToAxis={low:"y",high:"y"}),D&&-1===wt.indexOf(D)&&(wt.push(D),D.prototype.keyToAxis={start:"x",end:"x"}),f&&-1===wt.indexOf(f)&&(wt.push(f),f.prototype.exportKey="name"),o&&-1===wt.indexOf(o)&&(wt.push(o),o.prototype.exportKey="name"),B&&-1===wt.indexOf(B)&&(wt.push(B),B.prototype.exportKey="name")}}}),e(v,"masters/modules/export-data.src.js",[v["Core/Globals.js"],v["Extensions/ExportData/ExportData.js"]],function(i,s){s.compose(i.Chart)})}),function(){var v;window.AmCharts?v=window.AmCharts:(v={},window.AmCharts=v,v.themes={},v.maps={},v.inheriting={},v.charts=[],v.onReadyArray=[],v.useUTC=!1,v.updateRate=60,v.uid=0,v.lang={},v.translations={},v.mapTranslations={},v.windows={},v.initHandlers=[],v.amString="am",v.pmString="pm"),v.Class=function(e){var i=function(){arguments[0]!==v.inheriting&&(this.events={},this.construct.apply(this,arguments))};for(var s in e.inherits?(i.prototype=new e.inherits(v.inheriting),i.base=e.inherits.prototype,delete e.inherits):(i.prototype.createEvents=function(){for(var c=0;c<arguments.length;c++)this.events[arguments[c]]=[]},i.prototype.listenTo=function(c,S,M){this.removeListener(c,S,M),c.events[S].push({handler:M,scope:this})},i.prototype.addListener=function(c,S,M){this.removeListener(this,c,S),c&&this.events[c]&&this.events[c].push({handler:S,scope:M})},i.prototype.removeListener=function(c,S,M){if(c&&c.events&&(c=c.events[S]))for(S=c.length-1;0<=S;S--)c[S].handler===M&&c.splice(S,1)},i.prototype.fire=function(c){for(var S=this.events[c.type],M=0;M<S.length;M++){var U=S[M];U.handler.call(U.scope,c)}}),e)i.prototype[s]=e[s];return i},v.addChart=function(e){window.requestAnimationFrame?v.animationRequested||(v.animationRequested=!0,window.requestAnimationFrame(v.update)):v.updateInt||(v.updateInt=setInterval(function(){v.update()},Math.round(1e3/v.updateRate))),v.charts.push(e)},v.removeChart=function(e){for(var i=v.charts,s=i.length-1;0<=s;s--)i[s]==e&&i.splice(s,1);0===i.length&&(v.requestAnimation&&(window.cancelAnimationFrame(v.requestAnimation),v.animationRequested=!1),v.updateInt&&(clearInterval(v.updateInt),v.updateInt=NaN))},v.isModern=!0,v.getIEVersion=function(){var i,e=0;return"Microsoft Internet Explorer"==navigator.appName&&(i=navigator.userAgent,null!==/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(i)&&(e=parseFloat(RegExp.$1))),e},v.applyLang=function(e,i){var s=v.translations;i.dayNames=v.extend({},v.dayNames),i.shortDayNames=v.extend({},v.shortDayNames),i.monthNames=v.extend({},v.monthNames),i.shortMonthNames=v.extend({},v.shortMonthNames),i.amString="am",i.pmString="pm",s&&(s=s[e])&&(v.lang=s,i.langObj=s,s.monthNames&&(i.dayNames=v.extend({},s.dayNames),i.shortDayNames=v.extend({},s.shortDayNames),i.monthNames=v.extend({},s.monthNames),i.shortMonthNames=v.extend({},s.shortMonthNames)),s.am&&(i.amString=s.am),s.pm&&(i.pmString=s.pm)),v.amString=i.amString,v.pmString=i.pmString},v.IEversion=v.getIEVersion(),9>v.IEversion&&0<v.IEversion&&(v.isModern=!1,v.isIE=!0),v.dx=0,v.dy=0,(document.addEventListener||window.opera)&&(v.isNN=!0,v.isIE=!1,v.dx=.5,v.dy=.5),document.attachEvent&&(v.isNN=!1,v.isIE=!0,v.isModern||(v.dx=0,v.dy=0)),window.chrome&&(v.chrome=!0),v.handleMouseUp=function(e){for(var i=v.charts,s=0;s<i.length;s++){var c=i[s];c&&c.handleReleaseOutside&&c.handleReleaseOutside(e)}},v.handleMouseMove=function(e){for(var i=v.charts,s=0;s<i.length;s++){var c=i[s];c&&c.handleMouseMove&&c.handleMouseMove(e)}},v.handleKeyUp=function(e){for(var i=v.charts,s=0;s<i.length;s++){var c=i[s];c&&c.handleKeyUp&&c.handleKeyUp(e)}},v.handleWheel=function(e){for(var i=v.charts,s=0;s<i.length;s++){var c=i[s];if(c&&c.mouseIsOver){(c.mouseWheelScrollEnabled||c.mouseWheelZoomEnabled)&&c.handleWheel&&(c.handleMouseMove(e),c.handleWheel(e));break}}},v.resetMouseOver=function(){for(var e=v.charts,i=0;i<e.length;i++){var s=e[i];s&&(s.mouseIsOver=!1)}},v.ready=function(e){v.onReadyArray.push(e)},v.handleLoad=function(){v.isReady=!0;for(var e=v.onReadyArray,i=0;i<e.length;i++){var s=e[i];isNaN(v.processDelay)?s():setTimeout(s,v.processDelay*i)}v.onReadyArray=[]},v.addInitHandler=function(e,i){v.initHandlers.push({method:e,types:i})},v.callInitHandler=function(e){var i=v.initHandlers;if(v.initHandlers)for(var s=0;s<i.length;s++){var c=i[s];c.types?v.isInArray(c.types,e.type)&&c.method(e):c.method(e)}},v.getUniqueId=function(){return v.uid++,"AmChartsEl-"+v.uid},v.addGlobalListeners=function(){v.globalListenersAdded||(v.globalListenersAdded=!0,v.isNN&&(document.addEventListener("mousemove",v.handleMouseMove),document.addEventListener("keyup",v.handleKeyUp),document.addEventListener("mouseup",v.handleMouseUp,!0),window.addEventListener("load",v.handleLoad,!0)),v.isIE&&(document.attachEvent("onmousemove",v.handleMouseMove),document.attachEvent("onmouseup",v.handleMouseUp),window.attachEvent("onload",v.handleLoad)))},v.addGlobalListeners(),v.addWheelListeners=function(){v.wheelIsListened||(v.isNN&&(window.addEventListener("DOMMouseScroll",v.handleWheel,{passive:!1,useCapture:!0}),document.addEventListener("mousewheel",v.handleWheel,{passive:!1,useCapture:!0})),v.isIE&&document.attachEvent("onmousewheel",v.handleWheel)),v.wheelIsListened=!0},v.clear=function(){var e=v.charts;if(e)for(var i=e.length-1;0<=i;i--)e[i].clear();v.updateInt&&clearInterval(v.updateInt),v.requestAnimation&&window.cancelAnimationFrame(v.requestAnimation),v.charts=[],v.isNN&&(document.removeEventListener("mousemove",v.handleMouseMove,!0),document.removeEventListener("keyup",v.handleKeyUp,!0),document.removeEventListener("mouseup",v.handleMouseUp,!0),window.removeEventListener("load",v.handleLoad,!0),window.removeEventListener("DOMMouseScroll",v.handleWheel,!0),document.removeEventListener("mousewheel",v.handleWheel,!0)),v.isIE&&(document.detachEvent("onmousemove",v.handleMouseMove),document.detachEvent("onmouseup",v.handleMouseUp),window.detachEvent("onload",v.handleLoad)),v.globalListenersAdded=!1,v.wheelIsListened=!1},v.makeChart=function(e,i,s){var M,c=i.type,S=i.theme;switch(v.addGlobalListeners(),v.isString(S)&&(i.theme=S=v.themes[S]),c){case"serial":M=new v.AmSerialChart(S);break;case"xy":M=new v.AmXYChart(S);break;case"pie":M=new v.AmPieChart(S);break;case"radar":M=new v.AmRadarChart(S);break;case"gauge":M=new v.AmAngularGauge(S);break;case"funnel":M=new v.AmFunnelChart(S);break;case"map":M=new v.AmMap(S);break;case"stock":M=new v.AmStockChart(S);break;case"gantt":M=new v.AmGanttChart(S)}return v.extend(M,i),v.isReady?isNaN(s)?M.write(e):setTimeout(function(){v.realWrite(M,e)},s):v.ready(function(){isNaN(s)?M.write(e):setTimeout(function(){v.realWrite(M,e)},s)}),M},v.realWrite=function(e,i){e.write(i)},v.updateCount=0,v.validateAt=Math.round(v.updateRate/10),v.update=function(){var e=v.charts;v.updateCount++;var i=!1;if(v.updateCount==v.validateAt&&(i=!0,v.updateCount=0),e)for(var s=e.length-1;0<=s;s--)e[s].update&&e[s].update(),i&&(e[s].autoResize?e[s].validateSize&&e[s].validateSize():e[s].premeasure&&e[s].premeasure());window.requestAnimationFrame&&(v.requestAnimation=window.requestAnimationFrame(v.update))},"complete"==document.readyState&&v.handleLoad()}(),function(){var v=window.AmCharts;v.toBoolean=function(e,i){if(void 0===e)return i;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!e}},v.removeFromArray=function(e,i){var s;if(void 0!==i&&void 0!==e)for(s=e.length-1;0<=s;s--)e[s]==i&&e.splice(s,1)},v.getPath=function(){var e=document.getElementsByTagName("script");if(e)for(var i=0;i<e.length;i++){var s=e[i].src;if(-1!==s.search(/\/(amcharts|ammap)\.js/))return s.replace(/\/(amcharts|ammap)\.js.*/,"/")}},v.normalizeUrl=function(e){return""!==e&&-1===e.search(/\/$/)?e+"/":e},v.isAbsolute=function(e){return 0===e.search(/^http[s]?:|^\//)},v.isInArray=function(e,i){for(var s=0;s<e.length;s++)if(e[s]==i)return!0;return!1},v.getDecimals=function(e){var i=0;return isNaN(e)||(-1!=(e=String(e)).indexOf("e-")?i=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(i=e.split(".")[1].length)),i},v.wordwrap=function(e,i,s,c){var S,M,U,G;if(e+="",1>i)return e;for(S=-1,e=(G=e.split(/\r\n|\n|\r/)).length;++S<e;G[S]+=U){for(U=G[S],G[S]="";U.length>i;G[S]+=v.trim(U.slice(0,M))+((U=U.slice(M)).length?s:""))M=2==c||(M=U.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:M.input.length-M[0].length||1==c&&i||M.input.length+(M=U.slice(i).match(/^\S*/))[0].length;U=v.trim(U)}return G.join(s)},v.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},v.wrappedText=function(e,i,s,c,S,M,U,G){var X=v.text(e,i,s,c,S,M,U);if(X){var F=X.getBBox();if(F.width>G){var R="\n";v.isModern||(R="<br>"),2<(G=Math.floor(G/(F.width/i.length)))&&(G-=2),i=v.wordwrap(i,G,R,!0),X.remove(),X=v.text(e,i,s,c,S,M,U)}}return X},v.getStyle=function(e,i){var s="";if(document.defaultView&&document.defaultView.getComputedStyle)try{s=document.defaultView.getComputedStyle(e,"").getPropertyValue(i)}catch{}else e.currentStyle&&(i=i.replace(/\-(\w)/g,function(c,S){return S.toUpperCase()}),s=e.currentStyle[i]);return s},v.removePx=function(e){if(void 0!==e)return Number(e.substring(0,e.length-2))},v.getURL=function(e,i){if(e)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=e;else if("_parent"==i&&window.parent)window.parent.location.href=e;else if("_blank"==i)window.open(e);else{var s=document.getElementsByName(i)[0];s?s.src=e:(s=v.windows[i])&&s.opener&&!s.opener.closed?s.location.href=e:v.windows[i]=window.open(e)}else window.location.href=e},v.ifArray=function(e){return!!(e&&"object"==typeof e&&0<e.length)},v.callMethod=function(e,i){var s;for(s=0;s<i.length;s++){var c=i[s];if(c){c[e]&&c[e]();var M,S=c.length;if(0<S)for(M=0;M<S;M++){var U=c[M];U&&U[e]&&U[e]()}}}},v.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))},v.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){var i;for(e=e.split(","),i=0;i<e.length;i++){var s=e[i].substring(e[i].length-6,e[i].length);e[i]="#"+s}}else e="#"+(e=e.substring(e.length-6,e.length));return e},v.toCoordinate=function(e,i,s){var c;return void 0!==e&&(e=String(e),s&&s<i&&(i=s),c=Number(e),-1!=e.indexOf("!")&&(c=i-Number(e.substr(1))),-1!=e.indexOf("%")&&(c=i*Number(e.substr(0,e.length-1))/100)),c},v.fitToBounds=function(e,i,s){return e<i&&(e=i),e>s&&(e=s),e},v.isDefined=function(e){return void 0!==e},v.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")},v.roundTo=function(e,i){if(0>i)return e;var s=Math.pow(10,i);return Math.round(e*s)/s},v.toFixed=function(e,i){var s=!1;0>e&&(s=!0,e=Math.abs(e));var c=String(Math.round(e*Math.pow(10,i)));if(0<i){var M,S=c.length;if(S<i)for(M=0;M<i-S;M++)c="0"+c;return""===(S=c.substring(0,c.length-i))&&(S=0),c=S+"."+c.substring(c.length-i,c.length),s?"-"+c:c}return String(c)},v.formatDuration=function(e,i,s,c,S,M){var U=v.intervals,G=M.decimalSeparator;if(e>=U[i].contains){var X=e-Math.floor(e/U[i].contains)*U[i].contains;return"ss"==i?1==(X=v.formatNumber(X,M)).split(G)[0].length&&(X="0"+X):X=v.roundTo(X,M.precision),("mm"==i||"hh"==i)&&10>X&&(X="0"+X),s=X+""+c[i]+s,e=Math.floor(e/U[i].contains),v.formatDuration(e,i=U[i].nextInterval,s,c,S,M)}if("ss"==i&&1==(e=v.formatNumber(e,M)).split(G)[0].length&&(e="0"+e),"mm"==i&&(e=v.roundTo(e,M.precision)),("mm"==i||"hh"==i)&&10>e&&(e="0"+e),s=e+""+c[i]+s,U[S].count>U[i].count)for(e=U[i].count;e<U[S].count;e++)"ss"==(i=U[i].nextInterval)||"mm"==i||"hh"==i?s="00"+c[i]+s:"DD"==i&&(s="0"+c[i]+s);return":"==s.charAt(s.length-1)&&(s=s.substring(0,s.length-1)),s},v.formatNumber=function(e,i,s,c,S){e=v.roundTo(e,i.precision),isNaN(s)&&(s=i.precision);var U,M=i.decimalSeparator;null==M&&(M=","),null==(i=i.thousandsSeparator)&&(i=" "),U=0>e?"-":"",e=Math.abs(e);var X=!1;-1!=(G=String(e)).indexOf("e")&&(X=!0),0<=s&&!X&&(G=v.toFixed(e,s));var F="";if(X)F=G;else{var R,G=G.split(".");for(R=(X=String(G[0])).length;0<=R;R-=3)F=R!=X.length?0!==R?X.substring(R-3,R)+i+F:X.substring(R-3,R)+F:X.substring(R-3,R);void 0!==G[1]&&(F=F+M+G[1]),void 0!==s&&0<s&&"0"!=F&&(F=v.addZeroes(F,M,s))}return F=U+F,""===U&&!0===c&&0!==e&&(F="+"+F),!0===S&&(F+="%"),F},v.addZeroes=function(e,i,s){return void 0===(e=e.split(i))[1]&&0<s&&(e[1]="0"),e[1].length<s?(e[1]+="0",v.addZeroes(e[0]+i+e[1],i,s)):void 0!==e[1]?e[0]+i+e[1]:e[0]},v.scientificToNormal=function(e){var i,s;if("-"==(e=String(e).split("e"))[1].substr(0,1)){for(i="0.",s=0;s<Math.abs(Number(e[1]))-1;s++)i+="0";i+=e[0].split(".").join("")}else{var c=0;for((i=e[0].split("."))[1]&&(c=i[1].length),i=e[0].split(".").join(""),s=0;s<Math.abs(Number(e[1]))-c;s++)i+="0"}return i},v.toScientific=function(e,i){if(0===e)return"0";var s=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),c=String(c).split(".").join(i);return String(c)+"e"+s},v.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},v.hitTest=function(e,i,s){var c=!1,S=e.x,M=e.x+e.width,U=e.y,G=e.y+e.height,X=v.isInRectangle;return c||(c=X(S,U,i)),c||(c=X(S,G,i)),c||(c=X(M,U,i)),c||(c=X(M,G,i)),c||!0===s||(c=v.hitTest(i,e,!0)),c},v.isInRectangle=function(e,i,s){return e>=s.x-5&&e<=s.x+s.width+5&&i>=s.y-5&&i<=s.y+s.height+5},v.isPercents=function(e){if(-1!=String(e).indexOf("%"))return!0},v.formatValue=function(e,i,s,c,S,M,U,G){var X;if(i)for(void 0===S&&(S=""),X=0;X<s.length;X++){var F=s[X],R=i[F];void 0!==R&&(R=M?v.addPrefix(R,G,U,c):v.formatNumber(R,c),e=e.replace(new RegExp("\\[\\["+S+F+"\\]\\]","g"),R))}return e},v.formatDataContextValue=function(e,i){if(e){var c,s=e.match(/\[\[.*?\]\]/g);for(c=0;c<s.length;c++){var S;void 0!==i[S=(S=s[c]).substr(2,S.length-4)]&&(e=e.replace(new RegExp("\\[\\["+S+"\\]\\]","g"),i[S]))}}return e},v.massReplace=function(e,i){for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];void 0===c&&(c=""),e=e.replace(s,c)}return e},v.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")},v.addPrefix=function(e,i,s,c,S){var G,X,F,M=v.formatNumber(e,c),U="";if(0===e)return"0";if(0>e&&(U="-"),1<(e=Math.abs(e))){for(G=i.length-1;-1<G;G--)if(e>=i[G].number&&(X=e/i[G].number,1>(F=Number(c.precision))&&(F=1),s=v.roundTo(X,F),F=v.formatNumber(s,{precision:-1,decimalSeparator:c.decimalSeparator,thousandsSeparator:c.thousandsSeparator}),!S||X==s)){M=U+""+F+i[G].prefix;break}}else for(G=0;G<s.length;G++)if(e<=s[G].number){X=e/s[G].number,F=Math.abs(Math.floor(Math.log(X)*Math.LOG10E)),M=U+""+(X=v.roundTo(X,F))+s[G].prefix;break}return M},v.remove=function(e){e&&e.remove()},v.getEffect=function(e){return">"==e&&(e="easeOutSine"),"<"==e&&(e="easeInSine"),"elastic"==e&&(e="easeOutElastic"),e},v.getObjById=function(e,i){var s,c;for(c=0;c<e.length;c++){var S=e[c];if(S.id==i){s=S;break}}return s},v.applyTheme=function(e,i,s){i||(i=v.theme);try{i=JSON.parse(JSON.stringify(i))}catch{}i&&i[s]&&v.extend(e,i[s])},v.isString=function(e){return"string"==typeof e},v.extend=function(e,i,s){var c;for(c in e||(e={}),i)s&&e.hasOwnProperty(c)||(e[c]=i[c]);return e},v.copyProperties=function(e,i){for(var s in e)e.hasOwnProperty(s)&&"events"!=s&&void 0!==e[s]&&"function"!=typeof e[s]&&"cname"!=s&&(i[s]=e[s])},v.processObject=function(e,i,s,c){if(!(e instanceof i)&&(e=c?v.extend(new i(s),e):v.extend(e,new i(s),!0)).listeners)for(var S in e.listeners)e.addListener((i=e.listeners[S]).event,i.method);return e},v.fixNewLines=function(e){var i=RegExp("\\n","g");return e&&(e=e.replace(i,"<br />")),e},v.fixBrakes=function(e){if(v.isModern){var i=RegExp("<br>","g");e&&(e=e.replace(i,"\n"))}else e=v.fixNewLines(e);return e},v.deleteObject=function(e,i){if(e&&(null==i&&(i=20),0!==i))if("[object Array]"===Object.prototype.toString.call(e))for(var s=0;s<e.length;s++)v.deleteObject(e[s],i-1),e[s]=null;else if(e&&!e.tagName)try{for(s in e.theme=null,e)e[s]&&("object"==typeof e[s]&&v.deleteObject(e[s],i-1),"function"!=typeof e[s]&&(e[s]=null))}catch{}},v.bounce=function(e,i,s,c,S){return(i/=S)<1/2.75?7.5625*c*i*i+s:i<2/2.75?c*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?c*(7.5625*(i-=2.25/2.75)*i+.9375)+s:c*(7.5625*(i-=2.625/2.75)*i+.984375)+s},v.easeInOutQuad=function(e,i,s,c,S){return 1>(i/=S/2)?c/2*i*i+s:-c/2*(--i*(i-2)-1)+s},v.easeInSine=function(e,i,s,c,S){return-c*Math.cos(i/S*(Math.PI/2))+c+s},v.easeOutSine=function(e,i,s,c,S){return c*Math.sin(i/S*(Math.PI/2))+s},v.easeOutElastic=function(e,i,s,c,S){e=1.70158;var M=0,U=c;return 0===i?s:1==(i/=S)?s+c:(M||(M=.3*S),U<Math.abs(c)?(U=c,e=M/4):e=M/(2*Math.PI)*Math.asin(c/U),U*Math.pow(2,-10*i)*Math.sin(2*(i*S-e)*Math.PI/M)+c+s)},v.fixStepE=function(e){e=e.toExponential(0).split("e");var i=Number(e[1]);return 9==Number(e[0])&&i++,v.generateNumber(1,i)},v.generateNumber=function(e,i){var c,S,s="";for(c=0>i?Math.abs(i)-1:Math.abs(i),S=0;S<c;S++)s+="0";return Number(0>i?"0."+s+String(e):String(e)+s)},v.setCN=function(e,i,s,c){if(e.addClassNames&&i&&(i=i.node)&&s){var S=i.getAttribute("class");e=e.classNamePrefix+"-",c&&(e=""),i.setAttribute("class",S?S+" "+e+s:e+s)}},v.removeCN=function(e,i,s){i&&(i=i.node)&&s&&(i=i.classList)&&i.remove(e.classNamePrefix+"-"+s)},v.parseDefs=function(e,i){for(var s in e){var c=typeof e[s];if(0<e[s].length&&"object"==c)for(var S=0;S<e[s].length;S++)c=document.createElementNS(v.SVG_NS,s),i.appendChild(c),v.parseDefs(e[s][S],c);else"object"==c?(c=document.createElementNS(v.SVG_NS,s),i.appendChild(c),v.parseDefs(e[s],c)):i.setAttribute(s,e[s])}}}(),function(){var v=window.AmCharts;v.AxisBase=v.Class({construct:function(e){this.createEvents("clickItem","rollOverItem","rollOutItem","rollOverGuide","rollOutGuide","clickGuide"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.titleWidth=0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},v.applyTheme(this,e,"AxisBase")},zoom:function(e,i){this.start=e,this.end=i,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var e=this.position;"H"==this.orientation?("left"==e&&(e="bottom"),"right"==e&&(e="top")):("bottom"==e&&(e="left"),"top"==e&&(e="right")),this.position=e},init:function(){this.createBalloon()},draw:function(){var e=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var i=e.container,s=i.set();e.gridSet.push(s),this.set=s,i=i.set(),e.axesLabelsSet.push(i),this.labelsSet=i,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?3>(e=this.height/this.minVerticalGap)&&(e=3):e=this.width/this.minHorizontalGap,this.gridCountR=Math.max(e,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(e){this.orientation=e?"H":"V"},addTitle:function(){var e=this.title;if(this.titleLabel=null,e){var i=this.chart,s=this.titleColor;void 0===s&&(s=i.color);var c=this.titleFontSize;isNaN(c)&&(c=i.fontSize+1),e=v.text(i.container,e,s,i.fontFamily,c,this.titleAlign,this.titleBold),v.setCN(i,e,this.bcn+"title"),this.titleLabel=e}},positionTitle:function(){var e=this.titleLabel;if(e){var i,s,U={};0<(c=this.labelsSet).length()?U=c.getBBox():(U.x=0,U.y=0,U.width=this.width,U.height=this.height,v.VML&&(U.y+=this.y,U.x+=this.x)),c.push(e);var c=U.x,S=U.y;v.VML&&(S-=this.y,c-=this.x);var M=U.width,G=(U=U.height,this.width),X=this.height,F=0,R=e.getBBox().height/2,E=this.inside,a=this.titleAlign;switch(this.position){case"top":i="left"==a?-1:"right"==a?G:G/2,s=S-10-R;break;case"bottom":i="left"==a?-1:"right"==a?G:G/2,s=S+U+10+R;break;case"left":i=c-10-R,E&&(i-=5),F=-90,s=("left"==a?X+1:"right"==a?-1:X/2)+this.titleDY,this.titleWidth=R+10;break;case"right":i=c+M+10+R,E&&(i+=7),s=("left"==a?X+2:"right"==a?-2:X/2)+this.titleDY,this.titleWidth=R+10,F=-90}this.marginsChanged?(e.translate(i,s),this.tx=i,this.ty=s):e.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(F=this.titleRotation),0!==F&&e.rotate(F)}},pushAxisItem:function(e,i){var s=this,c=e.graphics();0<c.length()&&(i?s.labelsSet.push(c):s.set.push(c)),(c=e.getLabel())&&(s.labelsSet.push(c),c.click(function(S){s.handleMouse(S,e,"clickItem")}).touchend(function(S){s.handleMouse(S,e,"clickItem")}).mouseover(function(S){s.handleMouse(S,e,"rollOverItem")}).mouseout(function(S){s.handleMouse(S,e,"rollOutItem")}))},handleMouse:function(e,i,s){this.fire({type:s,value:i.value,serialDataItem:i.serialDataItem,axis:this,target:i.label,chart:this.chart,event:e})},addGuide:function(e){for(var i=this.guides,s=!1,c=i.length,S=0;S<i.length;S++)i[S]==e&&(s=!0,c=S);(e=v.processObject(e,v.Guide,this.theme)).id||(e.id="guideAuto"+c+"_"+(new Date).getTime()),s||i.push(e)},removeGuide:function(e){var s,i=this.guides;for(s=0;s<i.length;s++)i[s]==e&&i.splice(s,1)},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var s={x:0,y:0,width:0,height:0};e.graphics&&(s=e.graphics.getBBox());var c=e.fillColor;void 0===c&&(c=e.lineColor),this.chart.showBalloon(e.balloonText,c,!0,this.x+s.x+s.width/2,s=this.y+s.y+s.height/2),this.fire({type:"rollOverGuide",guide:e,chart:this.chart})},handleGuideOut:function(e){this.chart.hideBalloon(),this.fire({type:"rollOutGuide",guide:e,chart:this.chart})},handleGuideClick:function(e){this.chart.hideBalloon(),this.fire({type:"clickGuide",guide:e,chart:this.chart})},addEventListeners:function(e,i){var s=this;e.mouseover(function(){s.handleGuideOver(i)}),e.mouseup(function(){s.handleGuideClick(i)}),e.touchstart(function(){s.handleGuideOver(i)}),e.mouseout(function(){s.handleGuideOut(i)})},getBBox:function(){var e;return this.labelsSet&&(e=this.labelsSet.getBBox()),e?v.VML||(e={x:e.x+this.x,y:e.y+this.y,width:e.width,height:e.height}):e={x:0,y:0,width:0,height:0},e},destroy:function(){v.remove(this.set),v.remove(this.labelsSet);var e=this.axisLine;e&&v.remove(e.axisSet),v.remove(this.grid0)},chooseMinorFrequency:function(e){for(var i=10;0<i;i--)if(e/i==Math.round(e/i))return e/i},parseDatesDraw:function(){var e,S,X,F,R,E,a,i=this.chart,s=this.showFirstLabel,c=this.showLastLabel,M="",U=v.extractPeriod(this.minPeriod),G=v.getPeriodDuration(U.period,U.count),h=this.firstDayOfWeek,l=this.boldPeriodBeginning;e=this.minorGridEnabled;var p,T,I,x=this.gridAlpha,b=(I=this.choosePeriod(0)).period,u=v.getPeriodDuration(b,I=I.count);u<G&&(b=U.period,I=U.count,u=G),"WW"==(U=b)&&(U="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var n=Math.ceil(this.timeDifference/u)+5,k=X=v.resetDateToMin(new Date(this.startTime-u),b,I,h).getTime();(U==b&&1==I&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(R=u*this.stepWidth,this.autoWrap&&!this.centerLabels&&(R=-R)),this.cellWidth=G*this.stepWidth,G=-1,(E=Math.round(X/u))/2==Math.round(E/2)&&(G=-2,X-=u),E=this.firstTime;var C=0,O=0;if(e&&1<I&&(p=this.chooseMinorFrequency(I),T=v.getPeriodDuration(b,p),"DD"==b&&(T+=v.getPeriodDuration("hh")),"fff"==b&&(T=1)),0<this.gridCountR)for(n-5-G>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),e=G;e<=n;e++){if(a=E+u*(e+Math.floor((k-E)/u))-C,"DD"==b&&(a+=36e5),a=v.resetDateToMin(new Date(a),b,I,h).getTime(),"MM"==b&&(S=(a-X)/u,1.5<=(a-X)/u&&(a=a-(S-1)*u+v.getPeriodDuration("DD",3),a=v.resetDateToMin(new Date(a),b,1).getTime(),C+=u)),S=(a-this.startTime)*this.stepWidth,"radar"==i.type){if(0>(S=this.axisWidth-S)||S>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(O=-u*this.stepWidth/2):"date"==this.type&&(S=this.axisWidth-S);if(M=!1,this.nextPeriod[U]&&(M=this.checkPeriodChange(this.nextPeriod[U],1,a,X,U)),X=!1,M&&this.markPeriodChange?(M=this.dateFormatsObject[this.nextPeriod[U]],this.twoLineMode&&(M=v.fixBrakes(M=this.dateFormatsObject[U]+"\n"+M)),X=!0):M=this.dateFormatsObject[U],l||(X=!1),this.currentDateFormat=M,M=v.formatDate(new Date(a),M,i),(e==G&&!s||e==n&&!c)&&(M=" "),this.labelFunction&&(M=this.labelFunction(M,new Date(a),this,b,I,F).toString()),this.boldLabels&&(X=!0),F=new this.axisItemRenderer(this,S,M,!1,R,O,!1,X),this.pushAxisItem(F),F=X=a,!isNaN(p))for(S=1;S<I;S+=p)this.gridAlpha=this.minorGridAlpha,M=a+T*S,M=v.resetDateToMin(new Date(M),b,p,h).getTime(),M=new this.axisItemRenderer(this,(M-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(M);this.gridAlpha=x}},choosePeriod:function(e){var i=v.getPeriodDuration(this.periods[e].period,this.periods[e].count),s=this.periods;return this.timeDifference<i&&0<e?s[e-1]:Math.ceil(this.timeDifference/i)<=this.gridCountR?s[e]:e+1<s.length?this.choosePeriod(e+1):s[e]},getStepWidth:function(e){var i;return this.startOnAxis?(i=this.axisWidth/(e-1),1==e&&(i=this.axisWidth)):i=this.axisWidth/e,i},timeZoom:function(e,i){this.startTime=e,this.endTime=i},minDuration:function(){var e=v.extractPeriod(this.minPeriod);return v.getPeriodDuration(e.period,e.count)},checkPeriodChange:function(e,i,s,c,S){s=new Date(s);var M=new Date(c),U=this.firstDayOfWeek;return c=i,"DD"==e&&(i=1),s=v.resetDateToMin(s,e,i,U).getTime(),i=v.resetDateToMin(M,e,i,U).getTime(),!("DD"==e&&"hh"!=S&&s-i<v.getPeriodDuration(e,c)-v.getPeriodDuration("hh",1))&&s!=i},generateDFObject:function(){var e;for(this.dateFormatsObject={},e=0;e<this.dateFormats.length;e++){var i=this.dateFormats[e];this.dateFormatsObject[i.period]=i.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(e){return e},showBalloon:function(e,i,s,c){var M,S=this.offset;switch(this.position){case"bottom":i=this.height+S;break;case"top":i=-S;break;case"left":e=-S;break;case"right":e=this.width+S}if(s||(s=this.currentDateFormat),"V"==this.orientation){if(0>i||i>this.height)return;if(isNaN(i))return void this.hideBalloon();i=this.adjustBalloonCoordinate(i,c),c=this.coordinateToValue(i)}else{if(0>e||e>this.width)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,c),c=this.coordinateToValue(e)}(S=this.chart.chartCursor)&&(M=S.index),this.balloon&&void 0!==c&&this.balloon.enabled&&(this.balloonTextFunction?(("date"==this.type||!0===this.parseDates)&&(c=new Date(c)),c=this.balloonTextFunction(c)):this.balloonText?c=this.formatBalloonText(this.balloonText,M,s):isNaN(c)||(c=this.formatValue(c,s)),(e!=this.prevBX||i!=this.prevBY)&&(this.balloon.setPosition(e,i),this.prevBX=e,this.prevBY=i,c&&this.balloon.showBalloon(c)))},adjustBalloonCoordinate:function(e){return e},createBalloon:function(){var e=this.chart,i=e.chartCursor;i&&("mouse"!=(i=i.cursorPosition)&&(this.stickBalloonToCategory=!0),"start"==i&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),v.extend(this.balloon,e.balloon,!0))},setBalloonBounds:function(){var e=this.balloon;if(e){var i=this.chart;e.cornerRadius=0,e.shadowAlpha=0,e.borderThickness=1,e.borderAlpha=1,e.adjustBorderColor=!1,e.showBullet=!1,this.balloon=e,e.chart=i,e.mainSet=i.plotBalloonsSet,e.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(e.pointerWidth=0),e.className=this.id,i="V","V"==this.orientation&&(i="H"),this.stickBalloonToCategory||(e.animationDuration=0);var s,c,S,M,U=this.inside,G=this.width,X=this.height;switch(this.position){case"bottom":s=0,c=G,U?(S=0,M=X):(S=X,M=X+1e3);break;case"top":s=0,c=G,U?(S=0,M=X):(S=-1e3,M=0);break;case"left":S=0,M=X,U?(s=0,c=G):(s=-1e3,c=0);break;case"right":S=0,M=X,U?(s=0,c=G):(s=G,c=G+1e3)}e.drop||(e.pointerOrientation=i),e.setBounds(s,S,c,M)}}})}(),function(){var v=window.AmCharts;v.ValueAxis=v.Class({inherits:v.AxisBase,construct:function(e){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),v.ValueAxis.base.construct.call(this,e),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,v.applyTheme(this,e,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var e=this.chart;"xy"!=e.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(v.isString(this.synchronizeWith)&&(this.synchronizeWith=e.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),(0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)||isNaN(this.fullMin)&&isNaN(this.fullMax))&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){v.ValueAxis.base.draw.call(this);var e=this.chart,i=this.set;this.labelRotationR=this.labelRotation,v.setCN(e,this.set,"value-axis value-axis-"+this.id),v.setCN(e,this.labelsSet,"value-axis value-axis-"+this.id),v.setCN(e,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var s=this.type;if("duration"==s&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==s&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var G=this.treatZeroAs,X=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<X&&(X=this.minimum),this.logMin=X,this.minReal<X&&(this.minReal=X),isNaN(this.minReal)&&(this.minReal=X),0<G&&0===X&&(this.minReal=X=G),0>=X||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:e})}this.grid0=null;var c,S,M=e.dx,U=e.dy;if(G=!1,X=this.logarithmic,isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||this.min==1/0||this.max==-1/0)G=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var x,F=this.labelFrequency,R=this.showFirstLabel,E=this.showLastLabel,a=1,h=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){S=this.fullMin;var p=this.fullMax;isNaN(this.minimum)||(S=this.minimum),isNaN(this.maximum)||(p=this.maximum),p=Math.log(p)*Math.LOG10E-Math.log(S)*Math.LOG10E;var l=Math.log(this.max)/Math.LN10-Math.log(S)*Math.LOG10E;this.relativeStart=v.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(S)*Math.LOG10E)/p,5),this.relativeEnd=v.roundTo(l/p,5)}else this.relativeStart=v.roundTo(v.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=v.roundTo(v.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5);p=Math.round((this.maxCalc-this.minCalc)/this.step)+1,!0===X?(x=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/x,x>this.logGridLimit&&(p=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,h=Math.round(Math.log(this.minReal)*Math.LOG10E),p>this.gridCountR&&(a=Math.ceil(p/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var T,I,b=0;for(1>this.step&&-1<this.step&&(b=v.getDecimals(this.step)),this.integersOnly&&(b=0),b>this.maxDecCount&&(b=this.maxDecCount),l=this.precision,isNaN(l)||(b=l),isNaN(this.maxZoom)&&(this.max=v.roundTo(this.max,this.maxDecCount),this.min=v.roundTo(this.min,this.maxDecCount)),(S={}).precision=b,S.decimalSeparator=e.nf.decimalSeparator,S.thousandsSeparator=e.nf.thousandsSeparator,this.numberFormatter=S,this.exponential=!1,S=h;S<p;S+=a){var u=v.roundTo(this.step*S+this.min,b);-1!=String(u).indexOf("e")&&(this.exponential=!0)}if(this.duration&&(this.maxInterval=v.getMaxInterval(this.max,this.duration)),b=this.step,u=this.minorGridAlpha,this.minorGridEnabled&&(I=this.getMinorGridStep(b,this.stepWidth*b)),this.autoGridCount||0!==this.gridCount)if("date"==s)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(p>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),s=this.minCalc,X&&(p++,s=this.maxCalc-p*b),this.gridCountReal=p,S=this.startCount=h;S<p;S+=a)if(h=v.roundTo(h=b*S+s,this.maxDecCount+1),(!this.integersOnly||Math.round(h)==h)&&(isNaN(l)||Number(v.toFixed(h,l))==h)){if(!0===X)if(x>this.logGridLimit){if((h=Math.pow(10,S))>this.max)continue}else if(0>=h&&0>=(h=s+b*S+b/2))continue;var n;if(T=this.formatValue(h,!1,S),Math.round(S/F)!=S/F&&(T=void 0),(0===S&&!R||S==p-1&&!E)&&(T=" "),c=this.getCoordinate(h),this.rotate&&this.autoWrap&&(n=this.stepWidth*b-10),T=new this.axisItemRenderer(this,c,T,void 0,n,void 0,void 0,this.boldLabels),this.pushAxisItem(T),h==this.baseValue&&"radar"!=e.type){var k,C,O=this.width,m=this.height;"H"==this.orientation?0<=c&&c<=O+1&&(k=[c,c,c+M],C=[m,0,U]):0<=c&&c<=m+1&&(k=[0,O,O+M],C=[c,c,c+U]),k&&(c=v.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(c=this.zeroGridAlpha),(c=v.line(e.container,k,C,this.gridColor,c,1,this.dashLength)).translate(this.x,this.y),this.grid0=c,e.axesSet.push(c),c.toBack(),v.setCN(e,c,this.bcn+"zero-grid-"+this.id),v.setCN(e,c,this.bcn+"zero-grid"))}if(!isNaN(I)&&0<u&&S<p-1){for(c=b/I,X&&(I=v.roundTo(I=b*(S+a)+this.minCalc,this.maxDecCount+1),x>this.logGridLimit&&(I=Math.pow(10,S+a)),I=(I-h)/(c=9)),O=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,m=1;m<c;m++){var A=this.getCoordinate(h+I*m);A=new this.axisItemRenderer(this,A,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(A)}this.gridAlpha=O}}if(0<(n=(x=this.guides).length)){for(k=this.fillAlpha,S=this.fillAlpha=0;S<n;S++)M=NaN,I=(C=x[S]).above,isNaN(C.toValue)||(M=this.getCoordinate(C.toValue),T=new this.axisItemRenderer(this,M,"",!0,NaN,NaN,C),this.pushAxisItem(T,I)),U=NaN,isNaN(C.value)||(U=this.getCoordinate(C.value),T=new this.axisItemRenderer(this,U,C.label,!0,NaN,(M-U)/2,C),this.pushAxisItem(T,I)),isNaN(M)&&(M=3+(U-=3)),T&&(F=T.label)&&this.addEventListeners(F,C),isNaN(M-U)||0>U&&0>M||(M=new this.guideFillRenderer(this,U,M,C),this.pushAxisItem(M,I),I=M.graphics(),C.graphics=I,this.addEventListeners(I,C));this.fillAlpha=k}T=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(T=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(T=this.max),X&&T<this.minReal&&(T=this.minReal),this.baseCoord=this.getCoordinate(T,!0),(T={type:"axisChanged",target:this,chart:e}).min=X?this.minReal:this.min,T.max=this.max,this.fire(T),this.axisCreated=!0}X=this.axisLine.set,T=this.labelsSet,i.translate(this.x,this.y),T.translate(this.x,this.y),this.positionTitle(),"radar"!=e.type&&X.toFront(),!this.visible||G?(i.hide(),X.hide(),T.hide()):(i.show(),X.show(),T.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=v.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=v.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(e,i,s){var c=this.exponential,S=this.logarithmic,M=this.numberFormatter,U=this.chart;if(M)return!0===this.logarithmic&&(c=-1!=String(e).indexOf("e")),this.useScientificNotation&&(c=!0),this.usePrefixes&&(c=!1),c?(c=(s=-1==String(e).indexOf("e")?e.toExponential(15):String(e)).split("e"),s=Number(c[0]),c=Number(c[1]),s=v.roundTo(s,14),i||isNaN(this.precision)||(s=v.roundTo(s,this.precision)),10==s&&(s=1,c+=1),s=s+"e"+c,0===e&&(s="0"),1==e&&(s="1")):(S&&((c=String(e).split("."))[1]?(M.precision=c[1].length,0>s&&(M.precision=Math.abs(s)),i&&1<e&&(M.precision=0),i||isNaN(this.precision)||(M.precision=this.precision)):M.precision=-1),s=this.usePrefixes?v.addPrefix(e,U.prefixesOfBigNumbers,U.prefixesOfSmallNumbers,M,!i):v.formatNumber(e,M,M.precision)),this.duration&&(i&&(M.precision=0),s=v.formatDuration(e,this.duration,"",this.durationUnits,this.maxInterval,M)),"date"==this.type&&(s=v.formatDate(new Date(e),this.currentDateFormat,U)),this.recalculateToPercents?s+="%":(i=this.unit)&&(s="left"==this.unitPosition?i+s:s+i),this.labelFunction&&(s="date"==this.type?this.labelFunction(s,new Date(e),this).toString():this.labelFunction(e,s,this).toString()),s},getMinorGridStep:function(e,i){var s=[5,4,2];60>i&&s.shift();for(var c=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),S=0;S<s.length;S++){var M=e/s[S],U=Math.floor(Math.log(Math.abs(M))*Math.LOG10E);if(!(1<Math.abs(c-U)))if(1>e){if((U=Math.pow(10,-U)*M)==Math.round(U))return M}else if(M==Math.round(M))return M}return 1},stackGraphs:function(e){var i=this.stackType;"stacked"==i&&(i="regular"),"line"==i&&(i="none"),"100% stacked"==i&&(i="100%"),this.stackType=i;var U,X,F,R,E,a,s=[],c=[],S=[],M=[],G=this.chart.graphs,h=this.baseValue,l=!1;if(("line"==e||"step"==e||"smoothedLine"==e)&&(l=!0),l&&("regular"==i||"100%"==i))for(E=0;E<G.length;E++)(R=G[E]).stackGraph=null,R.hidden||(F=R.type,R.chart==this.chart&&R.valueAxis==this&&e==F&&R.stackable&&(X&&(R.stackGraph=X),X=R));for(X=this.end+10,R=v.fitToBounds(R=this.start-10,0,E=this.data.length-1),X=v.fitToBounds(X,0,E),a=R;a<=X;a++){var p=0;for(E=0;E<G.length;E++)if((R=G[E]).hidden)R.newStack&&(S[a]=NaN,c[a]=NaN);else if(F=R.type,R.chart==this.chart&&R.valueAxis==this&&e==F&&R.stackable)if(U=(F=this.data[a].axes[this.id].graphs[R.id]).values.value,isNaN(U))R.newStack&&(S[a]=NaN,c[a]=NaN);else{var x=v.getDecimals(U);p<x&&(p=x),isNaN(M[a])?M[a]=Math.abs(U):M[a]+=Math.abs(U),M[a]=v.roundTo(M[a],p),x=R.fillToGraph,l&&x&&(x=this.data[a].axes[this.id].graphs[x.id])&&(F.values.open=x.values.value),"regular"==i&&(l&&(isNaN(s[a])?(s[a]=U,F.values.close=U,F.values.open=this.baseValue):(F.values.close=isNaN(U)?s[a]:U+s[a],F.values.open=s[a],s[a]=F.values.close)),"column"==e&&(R.newStack&&(S[a]=NaN,c[a]=NaN),F.values.close=U,0>U?(F.values.close=U,isNaN(c[a])?F.values.open=h:(F.values.close+=c[a],F.values.open=c[a]),c[a]=F.values.close):(F.values.close=U,isNaN(S[a])?F.values.open=h:(F.values.close+=S[a],F.values.open=S[a]),S[a]=F.values.close)))}}for(a=this.start;a<=this.end;a++)for(E=0;E<G.length;E++)(R=G[E]).hidden?R.newStack&&(S[a]=NaN,c[a]=NaN):(F=R.type,R.chart==this.chart&&R.valueAxis==this&&e==F&&R.stackable&&(U=(F=this.data[a].axes[this.id].graphs[R.id]).values.value,isNaN(U)||(F.values.percents=s=U/M[a]*100,F.values.total=M[a],R.newStack&&(S[a]=NaN,c[a]=NaN),"100%"==i&&(isNaN(c[a])&&(c[a]=0),isNaN(S[a])&&(S[a]=0),0>s?(F.values.close=v.fitToBounds(s+c[a],-100,100),F.values.open=c[a],c[a]=F.values.close):(F.values.close=v.fitToBounds(s+S[a],-100,100),F.values.open=S[a],S[a]=F.values.close)))))},recalculate:function(){var s,e=this.chart,i=e.graphs;for(s=0;s<i.length;s++){var c=i[s];if(c.valueAxis==this){var S="value";("candlestick"==c.type||"ohlc"==c.type)&&(S="open");var M,U,F,G=this.end+2;if(G=v.fitToBounds(this.end+1,0,this.data.length-1),0<(X=this.start)&&X--,U=this.start,c.compareFromStart&&(U=0),!isNaN(e.startTime)&&(F=e.categoryAxis)){var R=F.minDuration(),E=(R=new Date(e.startTime+R/2),v.resetDateToMin(new Date(e.startTime),F.minPeriod).getTime());v.resetDateToMin(new Date(R),F.minPeriod).getTime()>E&&U++}for((F=e.recalculateFromDate)&&(F=v.getDate(F,e.dataDateFormat,"fff"),U=e.getClosestIndex(e.chartData,"time",F.getTime(),!0,0,e.chartData.length),G=e.chartData.length-1),F=U;F<=G&&(M=(U=this.data[F].axes[this.id].graphs[c.id]).values[S],c.recalculateValue&&(M=U.dataContext[c.valueField+c.recalculateValue]),isNaN(M));F++);for(this.recBaseValue=M,S=X;S<=G;S++){(U=this.data[S].axes[this.id].graphs[c.id]).percents={};var a,X=U.values;for(a in X)U.percents[a]="percents"!=a?X[a]/M*100-100:X[a]}}}},getMinMax:function(){var c,e=!1,i=this.chart,s=i.graphs;for(c=0;c<s.length;c++){var S=s[c].type;("line"==S||"step"==S||"smoothedLine"==S)&&this.expandMinMax&&(e=!0)}if(e&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==i.type&&(!0!==i.categoryAxis.parseDates||e||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),e=this.minMaxMultiplier,i=this.getExtremes(this.start,this.end),this.min=i.min,this.max=i.max,this.minRR=this.min,this.maxRR=this.max,this.min-=e=(this.max-this.min)*(e-1),this.max+=e,e=this.guides.length,this.includeGuidesInMinMax&&0<e)for(i=0;i<e;i++)(s=this.guides[i]).toValue<this.min&&(this.min=s.toValue),s.value<this.min&&(this.min=s.value),s.toValue>this.max&&(this.max=s.toValue),s.value>this.max&&(this.max=s.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(e=this.max,this.max=this.min,this.min=e),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),e=this.min,i=this.max,c=0==(s=this.max-this.min)?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/c)*c+c),isNaN(this.minimum)&&(this.min=Math.floor(this.min/c)*c-c),0>this.min&&0<=e&&(this.min=0),0<this.max&&0>=i&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),s=this.max-this.min,c=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E))/10,this.step=Math.ceil(s/this.gridCountR/c)*c,s=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),s=v.fixStepE(s),5<(c=Math.ceil(this.step/s))&&(c=10),5>=c&&2<c&&(c=5),this.step=Math.ceil(this.step/(s*c))*s*c,isNaN(this.setStep)||(this.step=this.setStep),1>s?(this.maxDecCount=Math.abs(Math.log(Math.abs(s))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=v.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=e&&(this.min=0),0<this.max&&0>=i&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),s=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=s),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E))):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<e&&(this.minReal=this.min=10*e)))},getExtremes:function(e,i){var s,c,S;for(S=e;S<=i;S++){var U,M=this.data[S].axes[this.id].graphs;for(U in M)if(M.hasOwnProperty(U)){var X,G=this.chart.graphsById[U];if(G.includeInMinMax&&(!G.hidden||this.includeHidden))if(isNaN(s)&&(s=1/0),isNaN(c)&&(c=-1/0),this.foundGraphs=!0,G=M[U].values,this.recalculateToPercents&&(G=M[U].percents),this.minMaxField)(X=G[this.minMaxField])<s&&(s=X),X>c&&(c=X);else for(var F in G)G.hasOwnProperty(F)&&"percents"!=F&&"total"!=F&&"error"!=F&&((X=G[F])<s&&(s=X),X>c&&(c=X))}}return{min:s,max:c}},zoomOut:function(e){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,e)},zoomToRelativeValues:function(e,i,s){if(this.reversed){var S=e;e=1-i,i=1-S}var c=this.fullMax,M=(S=this.fullMin)+(c-S)*e,U=S+(c-S)*i;return 0<=this.minimum&&0>M&&(M=0),this.logarithmic&&(isNaN(this.minimum)||(S=this.minimum),isNaN(this.maximum)||(c=this.maximum),c=Math.log(c)*Math.LOG10E-Math.log(S)*Math.LOG10E,M=Math.pow(10,c*e+Math.log(S)*Math.LOG10E),U=Math.pow(10,c*i+Math.log(S)*Math.LOG10E)),this.zoomToValues(M,U,s)},zoomToValues:function(e,i,s){if(i<e){var S=i;i=e,e=S}if(this.relativeStart=v.roundTo((e-(S=this.fullMin))/((c=this.fullMax)-S),9),this.relativeEnd=v.roundTo((i-S)/(c-S),9),this.logarithmic){isNaN(this.minimum)||(S=this.minimum),isNaN(this.maximum)||(c=this.maximum);var c=Math.log(c)*Math.LOG10E-Math.log(S)*Math.LOG10E,M=Math.log(i)/Math.LN10-Math.log(S)*Math.LOG10E;this.relativeStart=v.roundTo((Math.log(e)/Math.LN10-Math.log(S)*Math.LOG10E)/c,9),this.relativeEnd=v.roundTo(M/c,9)}if(this.minZoom!=e||this.maxZoom!=i)return this.minZoom=e,this.maxZoom=i,(S={type:"axisZoomed"}).chart=this.chart,S.valueAxis=this,S.startValue=e,S.endValue=i,S.relativeStart=this.relativeStart,S.relativeEnd=this.relativeEnd,this.prevStartValue==e&&this.prevEndValue==i||this.fire(S),this.prevStartValue=e,this.prevEndValue=i,s||(v.copyProperties(S,e={}),e.type="axisIntZoomed",this.fire(e)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(e){if(isNaN(e))return NaN;var i=this.axisWidth,s=this.stepWidth,c=this.reversed,S=this.rotate,M=this.min;return!0===this.logarithmic?Math.pow(10,(S?!0===c?(i-e)/s:e/s:!0===c?e/s:(i-e)/s)+Math.log(this.minReal)*Math.LOG10E):!0===c?S?M-(e-i)/s:e/s+M:S?e/s+M:M-(e-i)/s},getCoordinate:function(e,i){if(isNaN(e))return NaN;var s=this.rotate,c=this.reversed,S=this.axisWidth,M=this.stepWidth,U=this.min,G=this.minReal;return!0===this.logarithmic?(0===e&&(e=this.treatZeroAs),U=Math.log(e)*Math.LOG10E-Math.log(G)*Math.LOG10E,s=s?!0===c?S-M*U:M*U:!0===c?M*U:S-M*U):s=!0===c?s?S-M*(e-U):M*(e-U):s?M*(e-U):S-M*(e-U),1e7<Math.abs(s)&&(s=s/Math.abs(s)*1e7),i||(s=Math.round(s)),s},synchronizeWithAxis:function(e){this.synchronizeWith=e,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){v.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var e=(s=this.synchronizeWith).min,i=s.max,s=s.step,c=this.synchronizationMultiplier;c&&(this.min=e*c,this.max=i*c,this.step=s*c,e=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=e=Math.round(e),this.draw())}}})}(),function(){var v=window.AmCharts;v.RecAxis=v.Class({construct:function(e){var i=e.chart,s=e.axisThickness,c=e.axisColor,S=e.axisAlpha,M=e.offset,U=e.dx,G=e.dy,X=e.x,F=e.y,R=e.height,E=e.width,a=i.container;"H"==e.orientation?(c=v.line(a,[0,E],[0,0],c,S,s),this.axisWidth=e.width,"bottom"==e.position?(G=s/2+M+R+F-1,s=X):(G=-s/2-M+F+G,s=U+X)):(this.axisWidth=e.height,"right"==e.position?(c=v.line(a,[0,0,-U],[0,R,R-G],c,S,s),G=F+G,s=s/2+M+U+E+X-1):(c=v.line(a,[0,0],[0,R],c,S,s),G=F,s=-s/2-M+X)),c.translate(s,G),(s=i.container.set()).push(c),i.axesSet.push(s),v.setCN(i,c,e.bcn+"line"),this.axisSet=s,this.set=c}})}(),function(){var v=window.AmCharts;v.RecItem=v.Class({construct:function(e,i,s,c,S,M,U,G,X,F,R,E){i=Math.round(i);var a=e.chart;this.value=s,null==s&&(s=""),X||(X=0),null==c&&(c=!0);var h=a.fontFamily,l=e.fontSize;null==l&&(l=a.fontSize);var p=e.color;null==p&&(p=a.color),void 0!==R&&(p=R);var x=e.chart.container,T=x.set();this.set=T;var b=e.axisThickness,I=e.axisColor,u=e.axisAlpha,n=e.tickLength,k=e.gridAlpha,C=e.gridThickness,O=e.gridColor,m=e.dashLength,A=e.fillColor,P=e.fillAlpha,D=e.labelsEnabled;R=e.labelRotationR;var St,At,f=e.counter,o=e.inside,B=e.labelOffset,V=e.dx,q=e.dy,nt=e.orientation,yt=e.position,ut=e.previousCoord,Y=e.height,tt=e.width,wt=e.offset;U?(void 0!==U.id&&(E=a.classNamePrefix+"-guide-"+U.id),D=!0,isNaN(U.tickLength)||(n=U.tickLength),null!=U.lineColor&&(O=U.lineColor),null!=U.color&&(p=U.color),isNaN(U.lineAlpha)||(k=U.lineAlpha),isNaN(U.dashLength)||(m=U.dashLength),isNaN(U.lineThickness)||(C=U.lineThickness),!0===U.inside&&(o=!0,0<wt&&(wt=0)),isNaN(U.labelRotation)||(R=U.labelRotation),isNaN(U.fontSize)||(l=U.fontSize),U.position&&(yt=U.position),void 0!==U.boldLabel&&(G=U.boldLabel),isNaN(U.labelOffset)||(B=U.labelOffset)):""===s&&(n=0),F&&!isNaN(e.minorTickLength)&&(n=e.minorTickLength);var ht="start";0<S&&(ht="middle"),e.centerLabels&&(ht="middle");var dt,Lt,Ft,mt=R*Math.PI/180,Ct=0,vt=0,kt=0,Rt=dt=0,Xt=0;"V"==nt&&(R=0),D&&""!==s&&(Rt=(ht=(Ft=e.autoWrap&&0===R?v.wrappedText(x,s,p,h,l,ht,G,Math.abs(S),0):v.text(x,s,p,h,l,ht,G)).getBBox()).width,Xt=ht.height),"H"==nt?(0<=i&&i<=tt+1&&(0<n&&0<u&&i+X<=tt+1&&(St=v.line(x,[i+X,i+X],[0,n],I,u,C),T.push(St)),0<k&&(At=v.line(x,[i,i+V,i+V],[Y,Y+q,q],O,k,C,m),T.push(At))),vt=0,Ct=i,U&&90==R&&o&&(Ct-=l),!1===c?(ht="start",vt="bottom"==yt?o?vt+n:vt-n:o?vt-n:vt+n,Ct+=3,0<S&&(Ct+=S/2-3,ht="middle"),0<R&&(ht="middle")):ht="middle",1==f&&0<P&&!U&&!F&&ut<tt&&0<(dt=(c=v.fitToBounds(i,0,tt))-(ut=v.fitToBounds(ut,0,tt)))&&((Lt=v.rect(x,dt,e.height,A,P)).translate(c-dt+V,q),T.push(Lt)),"bottom"==yt?(vt+=Y+l/2+wt,o?(0<R?(vt=Y-Rt/2*Math.sin(mt)-n-3,e.centerRotatedLabels||(Ct+=Rt/2*Math.cos(mt)-4+2)):0>R?(vt=Y+Rt*Math.sin(mt)-n-3+2,Ct+=-Rt*Math.cos(mt)-Xt*Math.sin(mt)-4):vt-=n+l+3+3,vt-=B):(0<R?(vt=Y+Rt/2*Math.sin(mt)+n+3,e.centerRotatedLabels||(Ct-=Rt/2*Math.cos(mt))):0>R?(vt=Y+n+3-Rt/2*Math.sin(mt)+2,Ct+=Rt/2*Math.cos(mt)):vt+=n+b+3+3,vt+=B)):(vt+=q+l/2-wt,Ct+=V,o?(0<R?(vt=Rt/2*Math.sin(mt)+n+3,e.centerRotatedLabels||(Ct-=Rt/2*Math.cos(mt))):vt+=n+3,vt+=B):(0<R?(vt=-Rt/2*Math.sin(mt)-n-6,e.centerRotatedLabels||(Ct+=Rt/2*Math.cos(mt))):vt-=n+l+3+b+3,vt-=B)),"bottom"==yt?dt=(o?Y-n-1:Y+b-1)+wt:(kt=V,dt=(o?q:q-n-b+1)-wt),M&&(Ct+=M),l=Ct,0<R&&(l+=Rt/2*Math.cos(mt)),Ft&&(M=0,o&&(M=Rt/2*Math.cos(mt)),l+M>tt+2||0>l)&&(Ft.remove(),Ft=null)):(0<=i&&i<=Y+1&&(0<n&&0<u&&i+X<=Y+1&&(St=v.line(x,[0,n+1],[i+X,i+X],I,u,C),T.push(St)),0<k&&(At=v.line(x,[0,V,tt+V],[i,i+q,i+q],O,k,C,m),T.push(At))),ht="end",(!0===o&&"left"==yt||!1===o&&"right"==yt)&&(ht="start"),vt=i-Xt/2+2,1==f&&0<P&&!U&&!F&&(c=v.fitToBounds(i,0,Y),ut=v.fitToBounds(ut,0,Y),(Lt=v.polygon(x,[0,e.width,e.width,0],[0,0,mt=c-ut,mt],A,P)).translate(V,c-mt+q),T.push(Lt)),vt+=l/2,"right"==yt?(Ct+=V+tt+wt,vt+=q,o?(M||(vt-=l/2+3),Ct=Ct-(n+4)-B):(Ct+=n+4+b,vt-=2,Ct+=B)):o?(Ct+=n+4-wt,M||(vt-=l/2+3),U&&(Ct+=V,vt+=q),Ct+=B):(Ct+=-n-b-4-2-wt,vt-=2,Ct-=B),St&&("right"==yt?(kt+=V+wt+tt-1,dt+=q,kt=o?kt-b:kt+b):(kt-=wt,o||(kt-=n+b))),M&&(vt+=M),o=-3,"right"==yt&&(o+=q),Ft&&(vt>Y+1||vt<o-l/10)&&(Ft.remove(),Ft=null)),St&&(St.translate(kt,dt),v.setCN(a,St,e.bcn+"tick"),v.setCN(a,St,E,!0),U&&v.setCN(a,St,"guide")),!1===e.visible&&(St&&St.remove(),Ft&&(Ft.remove(),Ft=null)),Ft&&(Ft.attr({"text-anchor":ht}),Ft.translate(Ct,vt,NaN,!0),0!==R&&Ft.rotate(-R,e.chart.backgroundColor),e.allLabels.push(Ft),this.label=Ft,v.setCN(a,Ft,e.bcn+"label"),v.setCN(a,Ft,E,!0),U&&v.setCN(a,Ft,"guide")),At&&(v.setCN(a,At,e.bcn+"grid"),v.setCN(a,At,E,!0),U&&v.setCN(a,At,"guide")),Lt&&(v.setCN(a,Lt,e.bcn+"fill"),v.setCN(a,Lt,E,!0)),F?At&&v.setCN(a,At,e.bcn+"grid-minor"):(e.counter=0===f?1:0,e.previousCoord=i),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var v=window.AmCharts;v.RecFill=v.Class({construct:function(e,i,s,c){var S=e.dx,M=e.dy,U=e.orientation,G=0;if(s<i){var F=i;i=s,s=F}var X=c.fillAlpha;isNaN(X)&&(X=0),F=e.chart.container;var R=c.fillColor;"V"==U?(i=v.fitToBounds(i,0,e.height),s=v.fitToBounds(s,0,e.height)):(i=v.fitToBounds(i,0,e.width),s=v.fitToBounds(s,0,e.width)),s-=i,isNaN(s)&&(s=4,G=2,X=0),0>s&&"object"==typeof R&&(R=R.join(",").split(",").reverse()),"V"==U?(U=v.rect(F,e.width,s,R,X)).translate(S,i-G+M):(U=v.rect(F,s,e.height,R,X)).translate(i-G+S,M),v.setCN(e.chart,U,"guide-fill"),c.id&&v.setCN(e.chart,U,"guide-fill-"+c.id),this.set=F.set([U])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var v=window.AmCharts;v.AmChart=v.Class({construct:function(e){this.svgIcons=this.tapToActivate=!0,this.theme=e,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.21.15",v.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var i=document.createElement("div"),s=i.style;s.overflow="hidden",s.position="relative",s.textAlign="left",this.chartDiv=i,(s=(i=document.createElement("div")).style).overflow="hidden",s.position="relative",s.textAlign="left",this.legendDiv=i,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"\u03bc"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new v.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},v.applyTheme(this,e,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(e,i,s){this.accessible&&e&&(s&&e.setAttr("role",s),e.setAttr("aria-label",i))},drawBackground:function(){v.remove(this.background);var e=this.container,i=this.backgroundColor,s=this.backgroundAlpha,c=this.set;v.isModern||0!==s||(s=.001);var S=this.updateWidth();this.realWidth=S;var M=this.updateHeight();this.realHeight=M,i=v.polygon(e,[0,S-1,S-1,0],[0,0,M-1,M-1],i,s,1,this.borderColor,this.borderAlpha),v.setCN(this,i,"bg"),this.background=i,c.push(i),(i=this.backgroundImage)&&(e=e.image(i,0,0,S,M),v.setCN(this,i,"bg-image"),this.bgImg=e,c.push(e))},drawTitles:function(e){var i=this.titles;if(this.titleHeight=0,v.ifArray(i)){var c,s=20;for(c=0;c<i.length;c++){var S;if(!1!==(S=v.processObject(S=i[c],v.Title,this.theme)).enabled){var M=S.color;void 0===M&&(M=this.color);var U=S.size;isNaN(U)&&(U=this.fontSize+2),isNaN(S.alpha);var G=this.marginLeft,X=!0;void 0!==S.bold&&(X=S.bold),(M=v.wrappedText(this.container,S.text,M,this.fontFamily,U,"middle",X,this.realWidth-35-this.marginRight-G)).translate(G+(this.realWidth-this.marginRight-G)/2,s),M.node.style.pointerEvents="none",S.sprite=M,void 0!==S.tabIndex&&M.setAttr("tabindex",S.tabIndex),v.setCN(this,M,"title"),S.id&&v.setCN(this,M,"title-"+S.id),M.attr({opacity:S.alpha}),s+=M.getBBox().height+5,e?M.remove():this.freeLabelsSet.push(M)}}this.titleHeight=s-10}},write:function(e){var i=this;if(i.listeners)for(var s=0;s<i.listeners.length;s++){var c=i.listeners[s];i.addListener(c.event,c.method)}i.fire({type:"buildStarted",chart:i}),i.afterWriteTO&&clearTimeout(i.afterWriteTO),0<i.processTimeout?i.afterWriteTO=setTimeout(function(){i.afterWrite.call(i,e)},i.processTimeout):i.afterWrite(e)},afterWrite:function(e){var i;if(i="object"!=typeof e?document.getElementById(e):e){for(;i.firstChild;)i.removeChild(i.firstChild);this.div=i,i.style.overflow="hidden",i.style.textAlign="left";var s=this.legendDiv,c=this.legend,S=s.style,M=(e=this.chartDiv).style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var U,G=document.createElement("div");if((U=G.style).position="relative",this.containerDiv=G,G.className=this.classNamePrefix+"-main-div",e.className=this.classNamePrefix+"-chart-div",i.appendChild(G),(i=this.exportConfig)&&v.AmExport&&!this.AmExport&&(this.AmExport=new v.AmExport(this,i)),this.amExport&&v.AmExport&&(this.AmExport=v.extend(this.amExport,new v.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),c){if((c=this.addLegend(c,c.divId)).enabled)switch(S.left=null,S.top=null,S.right=null,M.left=null,M.right=null,M.top=null,S.position="relative",M.position="relative",U.width="100%",U.height="100%",c.position){case"bottom":G.appendChild(e),G.appendChild(s);break;case"top":G.appendChild(s),G.appendChild(e);break;case"absolute":S.position="absolute",M.position="absolute",void 0!==c.left&&(S.left=c.left+"px"),void 0!==c.right&&(S.right=c.right+"px"),void 0!==c.top&&(S.top=c.top+"px"),void 0!==c.bottom&&(S.bottom=c.bottom+"px"),c.marginLeft=0,c.marginRight=0,G.appendChild(e),G.appendChild(s);break;case"right":S.position="relative",M.position="absolute",G.appendChild(e),G.appendChild(s);break;case"left":S.position="absolute",M.position="relative",G.appendChild(e),G.appendChild(s);break;case"outside":G.appendChild(e)}else G.appendChild(e);this.prevLegendPosition=c.position}else G.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&v.addWheelListeners(),this.initChart()}},createLabelsSet:function(){v.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=v.processObject(this.balloon,v.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=v.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=v.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(v.callInitHandler(this),this.initHC=!0),v.applyLang(this.language,this);var e=this.numberFormatter;e&&(isNaN(e.precision)||(this.precision=e.precision),void 0!==e.thousandsSeparator&&(this.thousandsSeparator=e.thousandsSeparator),void 0!==e.decimalSeparator&&(this.decimalSeparator=e.decimalSeparator)),(e=this.percentFormatter)&&!isNaN(e.precision)&&(this.percentPrecision=e.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(e=this.container)?(e.container.innerHTML="",e.width=this.realWidth,e.height=this.realHeight,e.addDefs(this),this.chartDiv.appendChild(e.container)):e=new v.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=e,this.extension=".png",this.svgIcons&&v.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),e.chart=this,v.VML||v.SVG?(e.handDrawn=this.handDrawn,e.handDrawScatter=this.handDrawScatter,e.handDrawThickness=this.handDrawThickness,v.remove(this.set),this.set=e.set(),v.remove(this.gridSet),this.gridSet=e.set(),v.remove(this.cursorLineSet),this.cursorLineSet=e.set(),v.remove(this.graphsBehindSet),this.graphsBehindSet=e.set(),v.remove(this.bulletBehindSet),this.bulletBehindSet=e.set(),v.remove(this.columnSet),this.columnSet=e.set(),v.remove(this.graphsSet),this.graphsSet=e.set(),v.remove(this.trendLinesSet),this.trendLinesSet=e.set(),v.remove(this.axesSet),this.axesSet=e.set(),v.remove(this.cursorSet),this.cursorSet=e.set(),v.remove(this.scrollbarsSet),this.scrollbarsSet=e.set(),v.remove(this.bulletSet),this.bulletSet=e.set(),v.remove(this.freeLabelsSet),this.freeLabelsSet=e.set(),v.remove(this.axesLabelsSet),this.axesLabelsSet=e.set(),v.remove(this.balloonsSet),this.balloonsSet=e.set(),v.remove(this.plotBalloonsSet),this.plotBalloonsSet=e.set(),v.remove(this.zoomButtonSet),this.zoomButtonSet=e.set(),v.remove(this.zbSet),this.zbSet=null,v.remove(this.linkSet),this.linkSet=e.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var e=this.div;if(e){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch{}var i=e.offsetWidth,s=e.offsetHeight;e.clientHeight&&(i=e.clientWidth,s=e.clientHeight),(i!=this.mw||s!=this.mh)&&(this.mw=i,this.mh=s,this.measure())}},measure:function(){if(e=this.div){var i=this.chartDiv,S=e.offsetWidth,c=e.offsetHeight,s=this.container;e.clientHeight&&(S=e.clientWidth,c=e.clientHeight),c=Math.round(c),S=Math.round(S);var e=Math.round(v.toCoordinate(this.width,S)),M=Math.round(v.toCoordinate(this.height,c));(S!=this.previousWidth||c!=this.previousHeight)&&0<e&&0<M&&(i.style.width=e+"px",i.style.height=M+"px",i.style.padding=0,s&&s.setSize(e,M),this.balloon=v.processObject(this.balloon,v.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,M),this.updateWidth(),this.balloon.chart=this,this.realWidth=e,this.realHeight=M,this.divRealWidth=S,this.divRealHeight=c}},checkDisplay:function(){if(this.autoDisplay&&this.container){var e=v.rect(this.container,10,10),i=e.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),e.remove()}},checkTransform:function(e){if(this.autoTransform&&window.getComputedStyle&&e){if(e.style&&(i=window.getComputedStyle(e,null))&&(i=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform"))&&"none"!==i){var i=(s=i.split("(")[1].split(")")[0].split(","))[0],s=s[1];i=Math.sqrt(i*i+s*s),isNaN(i)||(this.cssScale*=i)}e.parentNode&&this.checkTransform(e.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy&&this.legend.destroy()},clearTimeOuts:function(){var i,e=this.timeOuts;if(e)for(i=0;i<e.length;i++)clearTimeout(e[i]);this.timeOuts=[]},clear:function(e){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch{}if(v.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),e||v.removeChart(this),e=this.div)for(;e.firstChild;)e.removeChild(e.firstChild);this.legend&&this.legend.destroy&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(e){"auto"==e&&v.isNN&&(e="default"),this.chartDiv.style.cursor=e,this.legendDiv.style.cursor=e},redrawLabels:function(){this.labels=[];var i,e=this.allLabels;for(this.createLabelsSet(),i=0;i<e.length;i++)this.drawLabel(e[i])},drawLabel:function(e){var i=this;if(i.container&&!1!==e.enabled){var R=(e=v.processObject(e,v.Label,i.theme)).y,s=e.text,c=e.align,S=e.size,M=e.color,U=e.rotation,G=e.alpha,X=e.bold,F=v.toCoordinate(e.x,i.realWidth);F||(F=0),(R=v.toCoordinate(R,i.realHeight))||(R=0),void 0===M&&(M=i.color),isNaN(S)&&(S=i.fontSize),c||(c="start"),"left"==c&&(c="start"),"right"==c&&(c="end"),"center"==c&&(c="middle",U?R=i.realHeight-R+R/2:F=i.realWidth/2-F),void 0===G&&(G=1),void 0===U&&(U=0),R+=S/2,(s=v.text(i.container,s,M,i.fontFamily,S,c,X,G)).translate(F,R),void 0!==e.tabIndex&&s.setAttr("tabindex",e.tabIndex),v.setCN(i,s,"label"),e.id&&v.setCN(i,s,"label-"+e.id),0!==U&&s.rotate(U),e.url?(s.setAttr("cursor","pointer"),s.click(function(){v.getURL(e.url,i.urlTarget)})):s.node.style.pointerEvents="none",i.labelsSet.push(s),i.labels.push(s)}},addLabel:function(e,i,s,c,S,M,U,G,X,F){e={x:e,y:i,text:s,align:c,size:S,color:M,alpha:G,rotation:U,bold:X,url:F,enabled:!0},this.container&&this.drawLabel(e),this.allLabels.push(e)},clearLabels:function(){var i,e=this.labels;for(i=e.length-1;0<=i;i--)e[i].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var i,e=this.divRealHeight;return(i=this.legend)&&("top"==(i=i.position)||"bottom"==i)&&((0>(e-=this.legendDiv.offsetHeight)||isNaN(e))&&(e=0),this.chartDiv.style.height=e+"px"),e},updateWidth:function(){var e=this.divRealWidth,i=this.divRealHeight,s=this.legend;if(s){var c=(M=this.legendDiv).offsetWidth;isNaN(s.width)||(c=s.width),s.ieW&&(c=s.ieW);var S=M.offsetHeight,M=M.style,U=this.chartDiv.style,G=s.position;("right"==G||"left"==G)&&void 0===s.divId&&((0>(e-=c)||isNaN(e))&&(e=0),U.width=e+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,this.realHeight),"left"==G?(U.left=c+"px",M.left="0px"):(U.left="0px",M.left=e+"px"),i>S&&(M.top=(i-S)/2+"px"))}return e},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(e,i,s,c,S){return isNaN(i)&&(i=this.fontSize+2),this.titles.push(e={text:e,size:i,color:s,alpha:c,bold:S,enabled:!0}),e},handleWheel:function(e){var i=0;e||(e=window.event),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&this.handleWheelReal(i,e.shiftKey),e.preventDefault&&e.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(e){var i=this,s=(new Date).getTime();if(e)if(e.touches)i.isTouchEvent=!0;else if(!i.isTouchEvent)return!0;if(s-i.touchStartTime>i.touchClickDuration)return!0;setTimeout(function(){i.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var e=this,i=e.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(i.addEventListener("touchstart",function(s){e.handleTouchStart.call(e,s)},!0),i.addEventListener("touchmove",function(s){e.handleMouseMove.call(e,s)},!0),i.addEventListener("touchend",function(s){e.handleTouchEnd.call(e,s)},!0),e.docfn1=function(s){e.handleDocTouchStart.call(e,s)},e.docfn2=function(s){e.handleDocTouchEnd.call(e,s)},document.addEventListener("touchstart",e.docfn1,!0),document.addEventListener("touchend",e.docfn2,!0)),i.addEventListener("mousedown",function(s){e.mouseIsOver=!0,e.handleMouseMove.call(e,s),e.handleMouseDown.call(e,s),e.handleDocTouchStart.call(e,s)},!0),i.addEventListener("mouseover",function(s){e.handleMouseOver.call(e,s)},!0),i.addEventListener("mouseout",function(s){e.handleMouseOut.call(e,s)},!0),i.addEventListener("mouseup",function(s){e.handleDocTouchEnd.call(e,s)},!0)):(i.attachEvent("onmousedown",function(s){e.handleMouseDown.call(e,s)}),i.attachEvent("onmouseover",function(s){e.handleMouseOver.call(e,s)}),i.attachEvent("onmouseout",function(s){e.handleMouseOut.call(e,s)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),!this.chartRendered&&0<this.divRealWidth&&0<this.divRealHeight&&(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var e=this;if(e.premeasure(),e.checkDisplay(),e.cssScale=1,e.cssAngle=0,e.checkTransform(e.div),e.divRealWidth!=e.previousWidth||e.divRealHeight!=e.previousHeight){var i=e.legend;if(0<e.realWidth&&0<e.realHeight){if(e.sizeChanged=!0,i){e.legendInitTO&&clearTimeout(e.legendInitTO);var s=setTimeout(function(){i.invalidateSize()},10);e.timeOuts.push(s),e.legendInitTO=s}e.marginsUpdated=!1,clearTimeout(e.initTO),s=setTimeout(function(){e.initChart()},10),e.timeOuts.push(s),e.initTO=s}e.renderFix(),i&&i.renderFix&&i.renderFix(),e.positionCred(),clearTimeout(e.resizedTO),e.resizedTO=setTimeout(function(){e.fire({type:"resized",chart:e})},10),e.previousHeight=e.divRealHeight,e.previousWidth=e.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1,clearTimeout(e.validateTO);var i=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(i),e.validateTO=i},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(e))},validateNow:function(e,i){this.initTO&&clearTimeout(this.initTO),e&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=i,this.chartRendered=!1;var s=this.legend;s&&s.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,s.invalidateSize&&(s.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(e){e.hidden=!1,this.initChart()},hideItem:function(e){e.hidden=!0,this.initChart()},hideBalloon:function(){var e=this;clearTimeout(e.hoverInt),clearTimeout(e.balloonTO),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide&&e.hide()},showBalloon:function(e,i,s,c,S){var M=this;clearTimeout(M.balloonTO),clearTimeout(M.hoverInt),M.balloonTO=setTimeout(function(){M.showBalloonReal.call(M,e,i,s,c,S)},1)},showBalloonReal:function(e,i,s,c,S){this.handleMouseMove();var M=this.balloon;M.enabled&&(M.followCursor(!1),M.changeColor(i),!s||M.fixedPosition?(M.setPosition(c,S),isNaN(c)||isNaN(S)?M.followCursor(!0):M.followCursor(!1)):M.followCursor(!0),e&&M.showBalloon(e))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),v.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var e=this;v.resetMouseOver(),e.outTO&&clearTimeout(e.outTO),e.outTO=setTimeout(function(){e.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(e){var i,s,c,S;if(e||(e=window.event),this.mouse2Y=this.mouse2X=NaN,e){if(e.touches){var M=e.touches.item(1);if(M&&this.panEventsEnabled&&this.boundingRect&&(c=M.clientX-this.boundingRect.left,S=M.clientY-this.boundingRect.top),!(e=e.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&e.clientX&&(i=e.clientX-this.boundingRect.left,s=e.clientY-this.boundingRect.top),isNaN(c)?this.mouseX=i:(this.mouseX=Math.min(i,c),this.mouse2X=Math.max(i,c)),isNaN(S)?this.mouseY=s:(this.mouseY=Math.min(s,S),this.mouse2Y=Math.max(s,S)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(e){this.hideBalloonReal(),e&&(e.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(e),this.handleMouseDown(e))},handleTouchEnd:function(e){this.wasTouched=!0,this.handleMouseMove(e),v.resetMouseOver(),this.handleReleaseOutside(e)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(e){v.resetMouseOver(),this.mouseIsOver=!0,e&&e.preventDefault&&(this.panEventsEnabled?e.preventDefault():e.touches||e.preventDefault())},handleKeyUp:function(e){},addLegend:function(e,i){var s;return(e=v.processObject(e,v.AmLegend,this.theme)).divId=i,e.ieW=0,s="object"!=typeof i&&i?document.getElementById(i):i,this.legend=e,e.chart=this,s?(e.div=s,e.position="outside",e.autoMargins=!1):e.div=this.legendDiv,e},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(v.isPercents(this.width)||v.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!v.VML){var e=this.container;e&&e.renderFix()}},getSVG:function(){if(v.hasSVG)return this.container},animate:function(e,i,s,c,S,M,U){return e["an_"+i]&&v.removeFromArray(this.animations,e["an_"+i]),e["an_"+i]=s={obj:e,frame:0,attribute:i,from:s,to:c,time:S,effect:M,suffix:U},this.animations.push(s),s},setLegendData:function(e){var i=this.legend;i&&i.setData(e)},stopAnim:function(e){v.removeFromArray(this.animations,e)},updateAnimations:function(){var e;if(this.container&&this.container.update(),this.animations)for(e=this.animations.length-1;0<=e;e--){var i=this.animations[e],c=i.frame+1,S=i.obj,M=i.attribute;if(c<=(s=v.updateRate*i.time)){i.frame++;var U=Number(i.from),G=Number(i.to)-U,s=v[i.effect](0,c,U,G,s);0===G?(this.animations.splice(e,1),S.node.style[M]=Number(i.to)+i.suffix):S.node.style[M]=s+i.suffix}else S.node.style[M]=Number(i.to)+i.suffix,S.animationFinished=!0,this.animations.splice(e,1)}},update:function(){this.updateAnimations();var e=this.animatable;if(0<e.length){for(var i=!0,s=e.length-1;0<=s;s--){var c=e[s];c&&(c.animationFinished?e.splice(s,1):i=!1)}i&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch{return!0}},brr:function(){if(!this.hideCredits){var s,e="amcharts.com";if(2<=(i=window.location.hostname.split(".")).length&&(s=i[i.length-2]+"."+i[i.length-1]),this.amLink&&(i=this.amLink.parentNode)&&i.removeChild(this.amLink),s!=e||!0===this.inIframe()){s=e="http://www."+e;var i="JavaScript charts",c="JS chart by amCharts";"ammap"==this.product&&(s=e+"/javascript-maps/",i="Interactive JavaScript maps",c="JS map by amCharts"),e=document.createElement("a"),c=document.createTextNode(c),e.setAttribute("href",s),e.setAttribute("title",i),this.urlTarget&&e.setAttribute("target",this.urlTarget),e.appendChild(c),this.chartDiv.appendChild(e),this.amLink=e,(e=e.style).position="absolute",e.textDecoration="none",e.color=this.color,e.fontFamily=this.fontFamily,e.fontSize="11px",e.opacity=.7,e.display="block",this.positionCred()}}},positionCred:function(){if(e=this.amLink){var i=this.creditsPosition,s=e.style,c=e.offsetWidth,e=e.offsetHeight,S=0,M=0,U=this.realWidth,G=this.realHeight;("serial"==(X=this.type)||"xy"==X||"gantt"==X)&&(U=(S=this.marginLeftReal)+this.plotAreaWidth,G=(M=this.marginTopReal)+this.plotAreaHeight);var X=5+S,F=M+5;"bottom-left"==i&&(X=5+S,F=G-e-3),"bottom-right"==i&&(X=U-c-5,F=G-e-3),"top-right"==i&&(X=U-c-5,F=M+5),s.left=X+"px",s.top=F+"px"}}}),v.Slice=v.Class({construct:function(){}}),v.SerialDataItem=v.Class({construct:function(){}}),v.GraphDataItem=v.Class({construct:function(){}}),v.Guide=v.Class({construct:function(e){this.cname="Guide",v.applyTheme(this,e,this.cname)}}),v.Title=v.Class({construct:function(e){this.cname="Title",v.applyTheme(this,e,this.cname)}}),v.Label=v.Class({construct:function(e){this.cname="Label",v.applyTheme(this,e,this.cname)}})}(),function(){var v=window.AmCharts;v.AmGraph=v.Class({construct:function(e){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.minDistance=.8,this.tcc=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,v.applyTheme(this,e,this.cname)},init:function(){this.createBalloon()},draw:function(){var e=this.chart;e.isRolledOverBullet=!1;var i=e.type;if(e.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator});var s=e.container;this.container=s,this.destroy();var c=s.set();this.set=c,c.translate(this.x,this.y);var S=s.set();this.bulletSet=S,S.translate(this.x,this.y),this.behindColumns?(e.graphsBehindSet.push(c),e.bulletBehindSet.push(S)):(e.graphsSet.push(c),e.bulletSet.push(S));var M=this.bulletAxis;v.isString(M)&&(this.bulletAxis=e.getValueAxisById(M)),s=s.set(),v.remove(this.columnsSet),this.columnsSet=s,v.setCN(e,c,"graph-"+this.type),v.setCN(e,c,"graph-"+this.id),v.setCN(e,S,"graph-"+this.type),v.setCN(e,S,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],(S=this.labelPosition)||(M=this.valueAxis.stackType,S="top","column"==this.type&&(e.rotate&&(S="right"),"100%"==M||"regular"==M)&&(S="middle"),this.labelPosition=S),v.ifArray(this.data)&&(e=!1,"xy"==i?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph()),c.push(s)}},createGraph:function(){var e=this,i=e.chart;e.startAlpha=i.startAlpha,e.seqAn=i.sequencedAnimation,e.baseCoord=e.valueAxis.baseCoord,void 0===e.fillAlphas&&(e.fillAlphas=0),e.bulletColorR=e.bulletColor,void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor),void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha),("step"==s||v.VML)&&(e.noRounding=!1);var s=i.type;if("gantt"==s&&(s="serial"),clearTimeout(e.playedTO),!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(s){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph()}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var S,e=[],i=[],s=this.xAxis,c=this.yAxis;for(this.pmh=c.height,this.pmw=s.width,this.pmy=this.pmx=0,S=this.start;S<=this.end;S++){var M=this.data[S].axes[s.id].graphs[this.id],U=(X=M.values).x,G=X.y,X=s.getCoordinate(U,this.noRounding),F=c.getCoordinate(G,this.noRounding);if(!isNaN(U)&&!isNaN(G)&&(e.push(X),i.push(F),M.x=X,M.y=F,U=this.createBullet(M,X,F,S),G=this.labelText)){G=this.createLabel(M,G);var R=0;U&&(R=U.size),this.positionLabel(M,X,F,G,R)}}this.drawLineGraph(e,i),this.launchAnimation()},createRadarGraph:function(){var M,U,G,X,F,e=this.valueAxis.stackType,i=[],s=[],c=[],S=[];for(F=this.start;F<=this.end;F++){var E,a,R=this.data[F].axes[this.valueAxis.id].graphs[this.id];if("none"==e||"3d"==e?E=R.values.value:(E=R.values.close,a=R.values.open),isNaN(E))this.connect||(this.drawLineGraph(i,s,c,S),i=[],s=[],c=[],S=[]);else{var h=this.valueAxis.getCoordinate(E,this.noRounding)-this.height,l=-360/(this.end-this.start+1)*F;if("middle"==this.valueAxis.pointPosition&&(l-=180/(this.end-this.start+1)),E=(h*=this.valueAxis.rMultiplier)*Math.sin(l/180*Math.PI),h*=Math.cos(l/180*Math.PI),i.push(E),s.push(h),!isNaN(a)){var p,x=(p=(p=this.valueAxis.getCoordinate(a,this.noRounding)-this.height)*this.valueAxis.rMultiplier)*Math.sin(l/180*Math.PI);l=p*Math.cos(l/180*Math.PI),c.push(x),S.push(l),isNaN(G)&&(G=x),isNaN(X)&&(X=l)}l=this.createBullet(R,E,h,F),R.x=E,R.y=h,(x=this.labelText)&&(x=this.createLabel(R,x),p=0,l&&(p=l.size),this.positionLabel(R,E,h,x,p)),isNaN(M)&&(M=E),isNaN(U)&&(U=h)}}i.push(M),s.push(U),isNaN(G)||(c.push(G),S.push(X)),this.drawLineGraph(i,s,c,S),this.launchAnimation()},positionLabel:function(e,i,s,c,S){if(c){var M=this.chart,U=this.valueAxis,G="middle",X=!1,F=this.labelPosition,R=c.getBBox(),E=this.chart.rotate,a=e.isNegative;switch(void 0===(h=this.fontSize)&&(h=this.chart.fontSize),s-=R.height/2-h/2-1,void 0!==e.labelIsNegative&&(a=e.labelIsNegative),F){case"right":F=E&&a?"left":"right";break;case"top":F=E?"top":a?"bottom":"top";break;case"bottom":F=E?"bottom":a?"top":"bottom";break;case"left":F=E&&a?"right":"left"}var h,l=0,p=0;(h=e.columnGraphics)&&(l=h.x,p=h.y);var x=this.labelOffset;switch(F){case"right":G="start",i+=S/2+x;break;case"top":s=U.reversed?s+(S/2+R.height/2+x):s-(S/2+R.height/2+x);break;case"bottom":s=U.reversed?s-(S/2+R.height/2+x):s+(S/2+R.height/2+x);break;case"left":G="end",i-=S/2+x;break;case"inside":"column"==this.type&&(X=!0,E?a?(G="end",i=l-3-x):(G="start",i=l+3+x):s=a?p+7+x:p-10-x);break;case"middle":"column"==this.type&&(X=!0,E?i-=(i-l)/2+x-3:s-=(s-p)/2+x-3)}return"auto"!=this.labelAnchor&&(G=this.labelAnchor),c.attr({"text-anchor":G}),this.labelRotation&&c.rotate(this.labelRotation),c.translate(i,s),!this.showAllValueLabels&&h&&X&&((R=c.getBBox()).height>e.columnHeight||R.width>e.columnWidth)&&(c.remove(),c=null),c&&"radar"!=M.type&&(E?((0>s||s>this.height)&&(c.remove(),c=null),!this.showAllValueLabels&&c&&(0>i||i>this.width)&&(c.remove(),c=null)):((0>i||i>this.width)&&(c.remove(),c=null),!this.showAllValueLabels&&c&&(0>s||s>this.height)&&(c.remove(),c=null))),c&&this.allBullets.push(c),c}},getGradRotation:function(){var e=270;return"horizontal"==this.gradientOrientation&&(e=0),this.gradientRotation=e},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var e=this.chart,i=this.id,s=this.index,c=this.data,S=this.chart.container,M=this.valueAxis,U=this.type,G=this.columnWidthReal,X=this.showBulletsAt;isNaN(this.columnWidth)||(G=this.columnWidth),isNaN(G)&&(G=.8);var I,u,n,k,O,F=this.useNegativeColorIfDown,R=this.width,E=this.height,a=this.y,h=this.rotate,l=this.columnCount,p=v.toCoordinate(this.cornerRadiusTop,G/2),x=this.connect,T=[],b=[],C=this.chart.graphs.length,m=this.dx/this.tcc,A=this.dy/this.tcc,P=M.stackType,D=this.start,f=this.end,o=this.scrollbar,B="graph-column-";o&&(B="scrollbar-graph-column-");var At,V=this.categoryAxis,q=this.baseCoord,nt=this.negativeBase,yt=this.columnIndex,ut=this.lineThickness,Y=this.lineAlpha,tt=this.lineColorR,wt=this.dashLength,St=this.set,ht=this.getGradRotation(),mt=this.chart.columnSpacing,dt=V.cellWidth,Lt=(dt*G-l)/l;mt>Lt&&(mt=Lt);var Ct,vt,kt,Rt=E,Xt=R,Ft=0,qt=0,ae=0,te=0,de=0,re=0,Ut=this.fillColorsR,Vt=this.negativeFillColors,ue=this.negativeLineColor,me=this.fillAlphas,ve=this.negativeFillAlphas;"object"==typeof me&&(me=me[0]),"object"==typeof ve&&(ve=ve[0]);var le=this.noRounding;"step"==U&&(le=!1);var We=M.getCoordinate(M.min);if(M.logarithmic&&(We=M.getCoordinate(M.minReal)),this.minCoord=We,this.resetBullet&&(this.bullet="none"),!(o||"line"!=U&&"smoothedLine"!=U&&"step"!=U||(1==c.length&&"step"!=U&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!Vt&&null==ue||F))){var $e=nt;$e>M.max&&($e=M.max),$e<M.min&&($e=M.min),M.logarithmic&&($e=M.minReal);var Li=M.getCoordinate($e)+.5,Si=M.getCoordinate(M.max);h?(Rt=E,Xt=Math.abs(Si-Li),ae=E,te=Math.abs(We-Li),re=qt=0,M.reversed?(Ft=0,de=Li):(Ft=Li,de=0)):(Xt=R,Rt=Math.abs(Si-Li),te=R,ae=Math.abs(We-Li),de=Ft=0,M.reversed?(re=a,qt=Li):re=Li)}var bi=Math.round;this.pmx=bi(Ft),this.pmy=bi(qt),this.pmh=bi(Rt),this.pmw=bi(Xt),this.nmx=bi(de),this.nmy=bi(re),this.nmh=bi(ae),this.nmw=bi(te),v.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(l=1),1>(G="column"==U?(dt*G-mt*(l-1))/l:dt*G)&&(G=1);var ui,ji=this.fixedColumnWidth;if(isNaN(ji)||(G=ji),"line"==U||"step"==U||"smoothedLine"==U){if(0<D){for(ui=D-1;-1<ui;ui--)if(kt=(vt=(Ct=c[ui]).axes[M.id].graphs[i]).values.value,!isNaN(kt)){D=ui;break}if(this.lineColorField)for(ui=D;-1<ui;ui--)if((vt=(Ct=c[ui]).axes[M.id].graphs[i]).lineColor){this.lineColorSwitched=vt.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(ui=D;-1<ui;ui--)if((vt=(Ct=c[ui]).axes[M.id].graphs[i]).fillColors){this.fillColorsSwitched=vt.fillColors;break}if(this.dashLengthField)for(ui=D;-1<ui;ui--)if(vt=(Ct=c[ui]).axes[M.id].graphs[i],!isNaN(vt.dashLength)){this.dashLengthSwitched=vt.dashLength;break}}if(f<c.length-1)for(ui=f+1;ui<c.length;ui++)if(kt=(vt=(Ct=c[ui]).axes[M.id].graphs[i]).values.value,!isNaN(kt)){f=ui;break}}f<c.length-1&&f++;var Pi=[],Ai=[],ke=!1;("line"==U||"step"==U||"smoothedLine"==U)&&(this.stackable&&"regular"==P||"100%"==P||this.fillToGraph)&&(ke=!0);var di=this.noStepRisers,lt=-1e3,Dt=-1e3,Jt=this.minDistance,he=!0,Te=!1;for(ui=D;ui<=f;ui++){(vt=(Ct=c[ui]).axes[M.id].graphs[i]).index=ui;var Fe,Ci=NaN;if(F&&null==this.openField)for(var Hi=ui+1;Hi<c.length&&(!c[Hi]||!(Fe=c[ui+1].axes[M.id].graphs[i])||!Fe.values||(Ci=Fe.values.value,isNaN(Ci)));Hi++);var Ri,nn,gn,Hn,Ge,ai,Gn=NaN,Ji=NaN,ci=NaN,mi=NaN,yi=NaN,$i=NaN,rn=NaN,Yi=NaN,Cn=NaN,Gi=NaN,Qe=NaN,K=NaN,it=NaN,gt=NaN,Pt=NaN,jt=NaN,Kt=NaN,se=void 0,ie=Ut,fe=me,He=tt,ye=this.proCandlesticks,ii=this.topRadius,je=E-1,wi=R-1,ei=this.pattern;null!=vt.pattern&&(ei=vt.pattern),isNaN(vt.alpha)||(fe=vt.alpha),isNaN(vt.dashLength)||(wt=vt.dashLength);var Bi=vt.values;if(M.recalculateToPercents&&(Bi=vt.percents),"none"==P&&(yt=isNaN(vt.columnIndex)?this.columnIndex:vt.columnIndex),Bi){if(gt=this.stackable&&"none"!=P&&"3d"!=P?Bi.close:Bi.value,("candlestick"==U||"ohlc"==U)&&(gt=Bi.close,rn=M.getCoordinate(jt=Bi.low),Cn=M.getCoordinate(Pt=Bi.high)),Kt=Bi.open,ci=M.getCoordinate(gt,le),isNaN(Kt)||(yi=M.getCoordinate(Kt,le),F&&"regular"!=P&&"100%"!=P&&(Ci=Kt,Kt=yi=NaN)),F&&(null==this.openField?Fe&&(Fe.isNegative=Ci<gt,isNaN(Ci)&&(vt.isNegative=!he)):vt.isNegative=Ci>gt),!o)switch(this.showBalloonAt){case"close":vt.y=ci;break;case"open":vt.y=yi;break;case"high":vt.y=Cn;break;case"low":vt.y=rn}Gn=Ct.x[V.id];var Di=this.periodSpan-1;"step"!=U||isNaN(Ct.cellWidth)||(dt=Ct.cellWidth);var si=Math.floor(dt/2)+Math.floor(Di*dt/2),pn=si;if("left"==this.stepDirection&&(Gn-=(2*dt+Di*dt)/2),"center"==this.stepDirection&&(Gn-=dt/2),"start"==this.pointPosition&&(Gn-=dt/2+Math.floor(Di*dt/2),si=0,pn=Math.floor(dt)+Math.floor(Di*dt)),"end"==this.pointPosition&&(Gn+=dt/2+Math.floor(Di*dt/2),si=Math.floor(dt)+Math.floor(Di*dt),pn=0),di){var xn=this.columnWidth;isNaN(xn)||(si*=xn,pn*=xn)}o||(vt.x=Gn),-1e5>Gn&&(Gn=-1e5),Gn>R+1e5&&(Gn=R+1e5),h?(Ji=ci,mi=yi,yi=ci=Gn,isNaN(Kt)&&!this.fillToGraph&&(mi=q),$i=rn,Yi=Cn):(mi=Ji=Gn,isNaN(Kt)&&!this.fillToGraph&&(yi=q)),(!ye&&gt<Kt||ye&&gt<At)&&(vt.isNegative=!0,Vt&&(ie=Vt),ve&&(fe=ve),null!=ue&&(He=ue)),Te=!1,isNaN(gt)||(F?gt>Ci?(he&&(Te=!0),he=!1):(he||(Te=!0),he=!0):vt.isNegative=gt<nt,At=gt);var tn=!1;switch(o&&e.chartScrollbar.ignoreCustomColors&&(tn=!0),tn||(null!=vt.color&&(ie=vt.color),vt.fillColors&&(ie=vt.fillColors)),ci=v.fitToBounds(ci,-3e4,3e4),U){case"line":isNaN(gt)?x||(this.drawLineGraph(T,b,Pi,Ai),T=[],b=[],Pi=[],Ai=[]):((Math.abs(Ji-lt)>=Jt||Math.abs(ci-Dt)>=Jt)&&(T.push(Ji),b.push(ci),lt=Ji,Dt=ci),Gi=Ji,Qe=ci,K=Ji,it=ci,!ke||isNaN(yi)||isNaN(mi)||(Pi.push(mi),Ai.push(yi)),(Te||null!=vt.lineColor&&vt.lineColor!=this.lineColorSwitched||null!=vt.fillColors&&vt.fillColors!=this.fillColorsSwitched||!isNaN(vt.dashLength))&&(this.drawLineGraph(T,b,Pi,Ai),T=[Ji],b=[ci],Pi=[],Ai=[],!ke||isNaN(yi)||isNaN(mi)||(Pi.push(mi),Ai.push(yi)),F?(he?(this.lineColorSwitched=tt,this.fillColorsSwitched=Ut):(this.lineColorSwitched=ue,this.fillColorsSwitched=Vt),void 0===this.bulletColor&&(this.bulletColorSwitched=tt)):(this.lineColorSwitched=vt.lineColor,this.fillColorsSwitched=vt.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=vt.dashLength),vt.gap&&(this.drawLineGraph(T,b,Pi,Ai),T=[],b=[],Pi=[],Ai=[],Dt=lt=-1e3));break;case"smoothedLine":isNaN(gt)?x||(this.drawSmoothedGraph(T,b,Pi,Ai),T=[],b=[],Pi=[],Ai=[]):((Math.abs(Ji-lt)>=Jt||Math.abs(ci-Dt)>=Jt)&&(T.push(Ji),b.push(ci),lt=Ji,Dt=ci),Gi=Ji,Qe=ci,K=Ji,it=ci,!ke||isNaN(yi)||isNaN(mi)||(Pi.push(mi),Ai.push(yi)),(Te||null!=vt.lineColor&&vt.lineColor!=this.lineColorSwitched||null!=vt.fillColors&&vt.fillColors!=this.fillColorsSwitched||!isNaN(vt.dashLength))&&(this.drawSmoothedGraph(T,b,Pi,Ai),T=[Ji],b=[ci],Pi=[],Ai=[],!ke||isNaN(yi)||isNaN(mi)||(Pi.push(mi),Ai.push(yi)),this.lineColorSwitched=vt.lineColor,this.fillColorsSwitched=vt.fillColors,this.dashLengthSwitched=vt.dashLength),vt.gap&&(this.drawSmoothedGraph(T,b,Pi,Ai),T=[],b=[],Pi=[],Ai=[]));break;case"step":if(isNaN(gt))x||((1>=this.periodSpan||1<this.periodSpan&&Ji-I>si+pn)&&(I=u=NaN),this.drawLineGraph(T,b,Pi,Ai),T=[],b=[],Pi=[],Ai=[]);else{if(h?(isNaN(I)||(T.push(I),b.push(ci-si)),b.push(ci-si),T.push(Ji),b.push(ci+pn),T.push(Ji),!ke||isNaN(yi)||isNaN(mi)||(isNaN(n)||(Pi.push(n),Ai.push(yi-si)),Pi.push(mi),Ai.push(yi-si),Pi.push(mi),Ai.push(yi+pn))):(isNaN(u)||(b.push(u),T.push(Ji-si)),T.push(Ji-si),b.push(ci),T.push(Ji+pn),b.push(ci),!ke||isNaN(yi)||isNaN(mi)||(isNaN(k)||(Pi.push(mi-si),Ai.push(k)),Pi.push(mi-si),Ai.push(yi),Pi.push(mi+pn),Ai.push(yi))),I=Ji,u=ci,n=mi,k=yi,Gi=Ji,Qe=ci,K=Ji,it=ci,Te||null!=vt.lineColor||null!=vt.fillColors||!isNaN(vt.dashLength)){var An=T[T.length-2],Rn=b[b.length-2];T.pop(),b.pop(),Pi.pop(),Ai.pop(),this.drawLineGraph(T,b,Pi,Ai),T=[An],b=[Rn],Pi=[],Ai=[],ke&&(Pi=[An,An+si+pn],Ai=[k,k]),h?(b.push(ci+pn),T.push(Ji)):(T.push(Ji+pn),b.push(ci)),this.lineColorSwitched=vt.lineColor,this.fillColorsSwitched=vt.fillColors,this.dashLengthSwitched=vt.dashLength,F&&(he?(this.lineColorSwitched=tt,this.fillColorsSwitched=Ut):(this.lineColorSwitched=ue,this.fillColorsSwitched=Vt))}(di||vt.gap)&&(I=u=NaN,vt.gap&&2>=T.length||this.drawLineGraph(T,b,Pi,Ai),T=[],b=[],Pi=[],Ai=[])}break;case"column":if(Ge=He,null!=vt.lineColor&&(Ge=vt.lineColor),!isNaN(gt)){F||(vt.isNegative=gt<nt),vt.isNegative&&(Vt&&(ie=Vt),null!=ue&&(Ge=ue));var Kn,wn=M.min,er=M.max,Pn=Kt;if(isNaN(Pn)&&(Pn=nt),!(gt<wn&&Pn<wn||gt>er&&Pn>er))if(h){"3d"==P?(nn=ci-(l/2-this.depthCount+1)*(G+mt)+mt/2+A*yt,Ri=mi+m*yt,Kn=yt):(nn=Math.floor(ci-(l/2-yt)*(G+mt)+mt/2),Ri=mi,Kn=0),Gi=Ji,Qe=nn+G/2,K=Ji,it=nn+G/2,nn+(gn=G)>E+Kn*A&&(gn=E-nn+Kn*A),nn<Kn*A&&(gn+=nn,nn=Kn*A),Hn=Ji-mi;var Bn=Ri;Ri=v.fitToBounds(Ri,0,R),Hn=v.fitToBounds(Hn+=Bn-Ri,-Ri,R-Ri+m*yt),vt.labelIsNegative=0>Hn,0===Hn&&1/gt==-1/0&&(vt.labelIsNegative=!0),isNaN(Ct.percentWidthValue)||(Qe=(nn=Gn-(gn=this.height*Ct.percentWidthValue/100)/2)+gn/2),gn=v.roundTo(gn,2),Hn=v.roundTo(Hn,2),nn<E&&0<gn&&(se=new v.Cuboid(S,Hn,gn,m-e.d3x,A-e.d3y,ie,fe,ut,Ge,Y,ht,p,h,wt,ei,ii,B),vt.columnWidth=Math.abs(Hn),vt.columnHeight=Math.abs(gn))}else{"3d"==P?(Ri=Ji-(l/2-this.depthCount+1)*(G+mt)+mt/2+m*yt,nn=yi+A*yt,Kn=yt):(Ri=Ji-(l/2-yt)*(G+mt)+mt/2,nn=yi,Kn=0),Gi=Ri+G/2,Qe=ci,K=Ri+G/2,it=ci,Ri+(gn=G)>R+Kn*m&&(gn=R-Ri+Kn*m),Ri<Kn*m&&(gn+=Ri-Kn*m,Ri=Kn*m),vt.labelIsNegative=0<(Hn=ci-yi),0===Hn&&1/gt!=1/Math.abs(gt)&&(vt.labelIsNegative=!0);var In=nn;nn=v.fitToBounds(nn,this.dy,E),Hn=v.fitToBounds(Hn+=In-nn,A*Kn-nn,E-nn),isNaN(Ct.percentWidthValue)||(Gi=(Ri=Gn-(gn=this.width*Ct.percentWidthValue/100)/2)+gn/2),gn=v.roundTo(gn,2),Hn=v.roundTo(Hn,2),Ri<R+yt*m&&0<gn&&(this.showOnAxis&&(nn-=A/2),se=new v.Cuboid(S,gn,Hn,m-e.d3x,A-e.d3y,ie,fe,ut,Ge,this.lineAlpha,ht,p,h,wt,ei,ii,B),vt.columnHeight=Math.abs(Hn),vt.columnWidth=Math.abs(gn))}se&&(ai=se.set,v.setCN(e,se.set,"graph-"+this.type),v.setCN(e,se.set,"graph-"+this.id),vt.className&&v.setCN(e,se.set,vt.className,!0),vt.columnGraphics=ai,Ri=v.roundTo(Ri,2),nn=v.roundTo(nn,2),ai.translate(Ri,nn),(vt.url||this.showHandOnHover)&&ai.setAttr("cursor","pointer"),o||("none"==P&&(O=h?(this.end+1-ui)*C-s:C*ui+s),"3d"==P&&(h?(O=(this.end+1-ui)*C-s-1e3*this.depthCount,Gi+=m*yt,K+=m*yt,vt.y+=m*yt):(O=(C-s)*(ui+1)+1e3*this.depthCount,Qe+=A*yt,it+=A*yt,vt.y+=A*yt)),("regular"==P||"100%"==P)&&(O=h?0<Bi.value?(this.end+1-ui)*C+s+1e3*this.depthCount:(this.end+1-ui)*C-s+1e3*this.depthCount:0<Bi.value?C*ui+s:C*ui-s),this.columnsArray.push({column:se,depth:O}),vt.x=h?nn+gn/2:Ri+gn/2,this.ownColumns.push(se),this.animateColumns(se,ui,Ji,mi,ci,yi),this.addListeners(ai,vt),void 0!==this.tabIndex&&ai.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(ai))}break;case"candlestick":if(!isNaN(Kt)&&!isNaN(gt)){var Wi,Jn;if(Ge=He,null!=vt.lineColor&&(Ge=vt.lineColor),Gi=Ji,it=Qe=ci,K=Ji,h){if("open"==X&&(K=mi),"high"==X&&(K=Yi),"low"==X&&(K=$i),Ji=v.fitToBounds(Ji,0,wi),mi=v.fitToBounds(mi,0,wi),$i=v.fitToBounds($i,0,wi),Yi=v.fitToBounds(Yi,0,wi),0===Ji&&0===mi&&0===$i&&0===Yi||Ji==wi&&mi==wi&&$i==wi&&Yi==wi)continue;var Or,Qn;Ri=mi,(nn=ci-G/2)+(gn=G)>E&&(gn=E-nn),0>nn&&(gn+=nn,nn=0),nn<E&&0<gn&&(gt>Kt?(Or=[Ji,Yi],Qn=[mi,$i]):(Or=[mi,Yi],Qn=[Ji,$i]),!isNaN(Yi)&&!isNaN($i)&&ci<E&&0<ci&&(Wi=v.line(S,Or,[ci,ci],Ge,Y,ut),Jn=v.line(S,Qn,[ci,ci],Ge,Y,ut)),se=new v.Cuboid(S,Hn=Ji-mi,gn,m,A,ie,me,ut,Ge,Y,ht,p,h,wt,ei,ii,B))}else{if("open"==X&&(it=yi),"high"==X&&(it=Cn),"low"==X&&(it=rn),ci=v.fitToBounds(ci,0,je),yi=v.fitToBounds(yi,0,je),rn=v.fitToBounds(rn,0,je),Cn=v.fitToBounds(Cn,0,je),0===ci&&0===yi&&0===rn&&0===Cn||ci==je&&yi==je&&rn==je&&Cn==je)continue;var Fn,Vn;if(nn=yi+ut/2,(Ri=Ji-G/2)+(gn=G)>R&&(gn=R-Ri),0>Ri&&(gn+=Ri,Ri=0),Hn=ci-yi,Ri<R&&0<gn)ye&&gt>=Kt&&(fe=0),se=new v.Cuboid(S,gn,Hn,m,A,ie,fe,ut,Ge,Y,ht,p,h,wt,ei,ii,B),gt>Kt?(Fn=[ci,Cn],Vn=[yi,rn]):(Fn=[yi,Cn],Vn=[ci,rn]),!isNaN(Cn)&&!isNaN(rn)&&Ji<R&&0<Ji&&(Wi=v.line(S,[Ji,Ji],Fn,Ge,Y,ut),Jn=v.line(S,[Ji,Ji],Vn,Ge,Y,ut),v.setCN(e,Wi,this.bcn+"line-high"),vt.className&&v.setCN(e,Wi,vt.className,!0),v.setCN(e,Jn,this.bcn+"line-low"),vt.className&&v.setCN(e,Jn,vt.className,!0))}se&&(vt.columnGraphics=ai=se.set,St.push(ai),ai.translate(Ri,nn-ut/2),(vt.url||this.showHandOnHover)&&ai.setAttr("cursor","pointer"),Wi&&(St.push(Wi),St.push(Jn)),o||(vt.x=h?nn+gn/2:Ri+gn/2,this.animateColumns(se,ui,Ji,mi,ci,yi),this.addListeners(ai,vt),void 0!==this.tabIndex&&ai.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Kt)||isNaN(Pt)||isNaN(jt)||isNaN(gt))){var rr,Nr,Sr,Gr=S.set();if(St.push(Gr),gt<Kt&&(vt.isNegative=!0,null!=ue&&(He=ue)),null!=vt.lineColor&&(He=vt.lineColor),h){if(it=ci,K=Ji,"open"==X&&(K=mi),"high"==X&&(K=Yi),"low"==X&&(K=$i),$i=v.fitToBounds($i,0,wi),Yi=v.fitToBounds(Yi,0,wi),0===Ji&&0===mi&&0===$i&&0===Yi||Ji==wi&&mi==wi&&$i==wi&&Yi==wi)continue;var Br=v.fitToBounds(Br=ci-G/2,0,E),jr=v.fitToBounds(ci,0,E),br=v.fitToBounds(br=ci+G/2,0,E);0<=mi&&mi<=wi&&(Nr=v.line(S,[mi,mi],[Br,jr],He,Y,ut,wt)),0<ci&&ci<E&&(rr=v.line(S,[$i,Yi],[ci,ci],He,Y,ut,wt)),0<=Ji&&Ji<=wi&&(Sr=v.line(S,[Ji,Ji],[jr,br],He,Y,ut,wt))}else{it=ci,"open"==X&&(it=yi),"high"==X&&(it=Cn),"low"==X&&(it=rn),K=Ji,rn=v.fitToBounds(rn,0,je),Cn=v.fitToBounds(Cn,0,je);var Zr=v.fitToBounds(Zr=Ji-G/2,0,R),$r=v.fitToBounds(Ji,0,R),Mo=v.fitToBounds(Mo=Ji+G/2,0,R);0<=yi&&yi<=je&&(Nr=v.line(S,[Zr,$r],[yi,yi],He,Y,ut,wt)),0<Ji&&Ji<R&&(rr=v.line(S,[Ji,Ji],[rn,Cn],He,Y,ut,wt)),0<=ci&&ci<=je&&(Sr=v.line(S,[$r,Mo],[ci,ci],He,Y,ut,wt))}St.push(Nr),St.push(rr),St.push(Sr),v.setCN(e,Nr,this.bcn+"stroke-open"),v.setCN(e,Sr,this.bcn+"stroke-close"),v.setCN(e,rr,this.bcn+"stroke"),vt.className&&v.setCN(e,Gr,vt.className,!0),rr&&this.addListeners(rr,vt),Sr&&this.addListeners(Sr,vt),Nr&&this.addListeners(Nr,vt),Gi=Ji,Qe=ci}}if(!o&&!isNaN(gt)){var Wr=this.hideBulletsCount;if(this.end-this.start<=Wr||0===Wr){var Oo=this.createBullet(vt,K,it,ui),qr=this.labelText;if(qr&&!isNaN(Gi)&&!isNaN(Gi)){var Kr=this.createLabel(vt,qr),ao=0;Oo&&(ao=Oo.size),this.positionLabel(vt,Gi,Qe,Kr,ao)}if("regular"==P||"100%"==P){var Qr=M.totalText;if(Qr){var ho=this.createLabel(vt,Qr,M.totalTextColor);if(v.setCN(e,ho,this.bcn+"label-total"),this.allBullets.push(ho),ho){var J,pt,Io=ho.getBBox(),wo=Io.width,ko=Io.height,It=M.totalTextOffset,z=M.totals[ui];z&&z.remove();var Z=0;"column"!=U&&(Z=this.bulletSize),h?(pt=Qe,J=0>gt?Ji-wo/2-2-Z-It:Ji+wo/2+3+Z+It):(J=Gi,pt=0>gt?ci+ko/2+Z+It:ci-ko/2-3-Z-It),ho.translate(J,pt),M.totals[ui]=ho,h?(0>pt||pt>E)&&ho.remove():(0>J||J>R)&&ho.remove()}}}}}}}this.lastDataItem=vt,("line"==U||"step"==U||"smoothedLine"==U)&&("smoothedLine"==U?this.drawSmoothedGraph(T,b,Pi,Ai):this.drawLineGraph(T,b,Pi,Ai),o||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,i){var s=this,c=s.chart.startDuration;0<c&&!s.animationPlayed&&(s.seqAn?(e.set.hide(),s.animationArray.push(e),c=setTimeout(function(){s.animate.call(s)},c/(s.end-s.start+1)*(i-s.start)*1e3),s.timeOuts.push(c)):s.animate(e),s.chart.animatable.push(e))},createLabel:function(e,i,s){var c=this.chart,S=e.labelColor;S||(S=this.color),S||(S=c.color),s&&(S=s),void 0===(s=this.fontSize)&&(this.fontSize=s=c.fontSize);var M=this.labelFunction;if(i=c.formatString(i,e),i=v.cleanFromEmpty(i),M&&(i=M(e,i)),void 0!==i&&""!==i)return(e=v.text(this.container,i,S,c.fontFamily,s)).node.style.pointerEvents="none",v.setCN(c,e,this.bcn+"label"),this.bulletSet.push(e),e},positiveClip:function(e){e.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(e){e.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(e,i,s,c){var S=this;if(1<e.length){var M=S.noRounding,a=S.set,U=S.chart,G=S.container,X=G.set(),F=G.set();a.push(F),a.push(X);var R=S.lineAlpha,E=S.lineThickness,h=(a=S.fillAlphas,S.lineColorR),l=S.negativeLineAlpha;isNaN(l)&&(l=R),(p=S.lineColorSwitched)&&(h=p);var p=S.fillColorsR;(T=S.fillColorsSwitched)&&(p=T);var x=S.dashLength;(T=S.dashLengthSwitched)&&(x=T);var T=S.negativeLineColor,b=S.negativeFillColors,I=S.negativeFillAlphas,u=S.baseCoord;0!==S.negativeBase&&((u=S.valueAxis.getCoordinate(S.negativeBase,M))>S.height&&(u=S.height),0>u&&(u=0)),(R=v.line(G,e,i,h,R,E,x,!1,!1,M)).node.setAttribute("stroke-linejoin","round"),v.setCN(U,R,S.bcn+"stroke"),X.push(R),X.click(function(n){S.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){S.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){S.handleGraphEvent(n,"rollOutGraph")}).touchmove(function(n){S.chart.handleMouseMove(n)}).touchend(function(n){S.chart.handleTouchEnd(n)}),void 0===T||S.useNegativeColorIfDown||((E=v.line(G,e,i,T,l,E,x,!1,!1,M)).node.setAttribute("stroke-linejoin","round"),v.setCN(U,E,S.bcn+"stroke"),v.setCN(U,E,S.bcn+"stroke-negative"),F.push(E)),(0<a||0<I)&&(E=e.join(";").split(";"),l=i.join(";").split(";"),"serial"==(R=U.type)||"radar"==R?0<s.length?(s.reverse(),c.reverse(),E=e.concat(s),l=i.concat(c)):"radar"==R?(l.push(0),E.push(0)):S.rotate?(l.push(l[l.length-1]),E.push(u),l.push(l[0]),E.push(u),l.push(l[0]),E.push(E[0])):(E.push(E[E.length-1]),l.push(u),E.push(E[0]),l.push(u),E.push(e[0]),l.push(l[0])):"xy"==R&&(i=S.fillToAxis)&&(v.isString(i)&&(i=U.getValueAxisById(i)),"H"==i.orientation?(u="top"==i.position?0:i.height,E.push(E[E.length-1]),l.push(u),E.push(E[0]),l.push(u),E.push(e[0]),l.push(l[0])):(u="left"==i.position?0:i.width,l.push(l[l.length-1]),E.push(u),l.push(l[0]),E.push(u),l.push(l[0]),E.push(E[0]))),e=S.gradientRotation,0<a&&((i=v.polygon(G,E,l,p,a,1,"#000",0,e,M)).pattern(S.pattern,NaN,U.path),v.setCN(U,i,S.bcn+"fill"),X.push(i),i.toBack()),(b||void 0!==T)&&(isNaN(I)&&(I=a),b||(b=T),M=v.polygon(G,E,l,b,I,1,"#000",0,e,M),v.setCN(U,M,S.bcn+"fill"),v.setCN(U,M,S.bcn+"fill-negative"),M.pattern(S.pattern,NaN,U.path),F.push(M),M.toBack(),F.click(function(n){S.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){S.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){S.handleGraphEvent(n,"rollOutGraph")}).touchmove(function(n){S.chart.handleMouseMove(n)}).touchend(function(n){S.chart.handleTouchEnd(n)}))),S.applyMask(F,X)}},applyMask:function(e,i){var s=e.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(i),0<s&&this.negativeClip(e))},drawSmoothedGraph:function(e,i,s,c){if(1<e.length){var R=this.set,S=this.chart,M=this.container,U=M.set(),G=M.set();R.push(G),R.push(U);var X=this.lineAlpha,F=this.lineThickness,E=(R=this.dashLength,this.fillAlphas),a=this.lineColorR,h=this.fillColorsR,l=this.negativeLineColor,p=this.negativeFillColors,x=this.negativeFillAlphas,T=this.baseCoord,b=this.lineColorSwitched;b&&(a=b),(b=this.fillColorsSwitched)&&(h=b);var I=this.negativeLineAlpha;isNaN(I)&&(I=X),b=this.getGradRotation(),X=new v.Bezier(M,e,i,a,X,F,h,0,R,void 0,b),v.setCN(S,X,this.bcn+"stroke"),U.push(X.path),void 0!==l&&(F=new v.Bezier(M,e,i,l,I,F,h,0,R,void 0,b),v.setCN(S,F,this.bcn+"stroke"),v.setCN(S,F,this.bcn+"stroke-negative"),G.push(F.path)),0<E&&(F=e.join(";").split(";"),X=i.join(";").split(";"),a="",0<s.length?(s.push("M"),c.push("M"),s.reverse(),c.reverse(),F=e.concat(s),X=i.concat(c)):(this.rotate?(a+=" L"+T+","+i[i.length-1],a+=" L"+T+","+i[0]):(a+=" L"+e[e.length-1]+","+T,a+=" L"+e[0]+","+T),a+=" L"+e[0]+","+i[0]),e=new v.Bezier(M,F,X,NaN,0,0,h,E,R,a,b),v.setCN(S,e,this.bcn+"fill"),e.path.pattern(this.pattern,NaN,S.path),U.push(e.path),p||void 0!==l)&&(x||(x=E),p||(p=l),(M=new v.Bezier(M,F,X,NaN,0,0,p,x,R,a,b)).path.pattern(this.pattern,NaN,S.path),v.setCN(S,M,this.bcn+"fill"),v.setCN(S,M,this.bcn+"fill-negative"),G.push(M.path)),this.applyMask(G,U)}},launchAnimation:function(){var e=this,i=e.chart.startDuration;if(0<i&&!e.animationPlayed){var s=e.set,c=e.bulletSet;v.VML||(s.attr({opacity:e.startAlpha}),c.attr({opacity:e.startAlpha})),s.hide(),c.hide(),e.seqAn?(i=setTimeout(function(){e.animateGraphs.call(e)},e.index*i*1e3),e.timeOuts.push(i)):e.animateGraphs()}},animateGraphs:function(){var e=this.chart,i=this.set,s=this.bulletSet,c=this.x,S=this.y;i.show(),s.show();var M=e.startDuration,U=e.startEffect;i&&(this.rotate?(i.translate(-1e3,S),s.translate(-1e3,S)):(i.translate(c,-1e3),s.translate(c,-1e3)),i.animate({opacity:1,translate:c+","+S},M,U),s.animate({opacity:1,translate:c+","+S},M,U),e.animatable.push(i))},animate:function(e){var i=this.chart,s=this.animationArray;!e&&0<s.length&&(e=s[0],s.shift()),s=v[v.getEffect(i.startEffect)],i=i.startDuration,e&&(this.rotate?e.animateWidth(i,s):e.animateHeight(i,s),e.set.show())},legendKeyColor:function(){var e=this.legendColor,i=this.lineAlpha;return void 0===e&&(e=this.lineColorR,0===i&&(i=this.fillColorsR)&&(e="object"==typeof i?i[0]:i)),e},legendKeyAlpha:function(){var e=this.legendAlpha;return void 0===e&&(this.fillAlphas>(e=this.lineAlpha)&&(e=this.fillAlphas),0===e&&(e=this.bulletAlpha),0===e&&(e=1)),e},createBullet:function(e,i,s){if(!isNaN(i)&&!isNaN(s)&&("none"!=this.bullet||this.customBullet||e.bullet||e.customBullet)){var c=this.chart,S=this.container,M=this.bulletOffset,U=this.bulletSize;isNaN(e.bulletSize)||(U=e.bulletSize);var F,R=e.values.value,G=this.maxValue,E=this.minValue,a=this.maxBulletSize,X=this.minBulletSize;isNaN(G)||(isNaN(R)||(U=(R-E)/(G-E)*(a-X)+X),E==G&&(U=a)),G=U,this.bulletAxis&&(U=e.values.error,isNaN(U)||(R=U),U=this.bulletAxis.stepWidth*R),U<this.minBulletSize&&(U=this.minBulletSize),this.rotate?i=e.isNegative?i-M:i+M:s=e.isNegative?s+M:s-M,X=this.bulletColorR,e.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=e.lineColor),this.bulletColorSwitched&&(X=this.bulletColorSwitched),e.isNegative&&void 0!==this.bulletColorNegative&&(X=this.bulletColorNegative),void 0!==e.color&&(X=e.color),"xy"==c.type&&this.valueField&&(F=this.pattern,e.pattern&&(F=e.pattern)),M=this.bullet,e.bullet&&(M=e.bullet),R=this.bulletBorderThickness,a=this.bulletBorderAlpha;var h=this.bulletAlpha;(E=this.bulletBorderColorR)||(E=X),this.useLineColorForBulletBorder&&(E=this.lineColorR,e.isNegative&&this.negativeLineColor&&(E=this.negativeLineColor),this.lineColorSwitched&&(E=this.lineColorSwitched));var l=e.alpha;return isNaN(l)||(h=l),F=v.bullet(S,M,U,X,h,R,E,a,G,0,F,c.path),G=this.customBullet,e.customBullet&&(G=e.customBullet),G&&(F&&F.remove(),"function"==typeof G?((G=new G).chart=c,e.bulletConfig&&(G.availableSpace=s,G.graph=this,G.graphDataItem=e,G.bulletY=s,e.bulletConfig.minCoord=this.minCoord-s,G.bulletConfig=e.bulletConfig),G.write(S),F&&G.showBullet&&G.set.push(F),e.customBulletGraphics=G.cset,F=G.set):(F=S.set(),G=S.image(G,0,0,U,U),F.push(G),this.centerCustomBullets&&G.translate(-U/2,-U/2))),F&&((e.url||this.showHandOnHover)&&F.setAttr("cursor","pointer"),("serial"==c.type||"gantt"==c.type)&&(-.5>i||i>this.width||s<-U/2||s>this.height)&&(F.remove(),F=null),F&&(this.bulletSet.push(F),F.translate(i,s),this.addListeners(F,e),this.allBullets.push(F)),e.bx=i,e.by=s,v.setCN(c,F,this.bcn+"bullet"),e.className&&v.setCN(c,F,e.className,!0)),F?(F.size=U||0,(c=this.bulletHitAreaSize)&&((S=v.circle(S,c,"#FFFFFF",.001,0)).translate(i,s),e.hitBullet=S,this.bulletSet.push(S),this.addListeners(S,e)),e.bulletGraphics=F,void 0!==this.tabIndex&&F.setAttr("tabindex",this.tabIndex)):F={size:0},F.graphDataItem=e,F}},showBullets:function(){var i,e=this.allBullets;for(this.bulletsHidden=!1,i=0;i<e.length;i++)e[i].show()},hideBullets:function(){var i,e=this.allBullets;for(this.bulletsHidden=!0,i=0;i<e.length;i++)e[i].hide()},showCustomBullets:function(){var i,e=this.allBullets;for(this.customBulletsHidden=!1,i=0;i<e.length;i++){var s=e[i].graphDataItem;s&&s.customBulletGraphics&&s.customBulletGraphics.show()}},hideCustomBullets:function(){var i,e=this.allBullets;for(this.customBulletsHidden=!0,i=0;i<e.length;i++){var s=e[i].graphDataItem;s&&s.customBulletGraphics&&s.customBulletGraphics.hide()}},addListeners:function(e,i){var s=this;e.mouseover(function(M){s.handleRollOver(i,M)}).mouseout(function(M){s.handleRollOut(i,M)}).touchend(function(M){s.handleRollOver(i,M),s.chart.panEventsEnabled&&s.handleClick(i,M)}).touchstart(function(M){s.handleRollOver(i,M)}).click(function(M){s.handleClick(i,M)}).dblclick(function(M){s.handleDoubleClick(i,M)}).contextmenu(function(M){s.handleRightClick(i,M)});var c=s.chart;if(c.accessible&&s.accessibleLabel){var S=c.formatString(s.accessibleLabel,i);c.makeAccessible(e,S)}},handleRollOver:function(e,i){if(this.handleGraphEvent(i,"rollOverGraph"),e){var s=this.chart;e.bulletConfig&&(s.isRolledOverBullet=!0);var c={type:"rollOverGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(c),s.fire(c),clearTimeout(s.hoverInt),(s=s.chartCursor)&&s.valueBalloonsEnabled||this.showGraphBalloon(e,"V",!0)}},handleRollOut:function(e,i){var s=this.chart;if(e){var c={type:"rollOutGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(c),s.fire(c),s.isRolledOverBullet=!1}this.handleGraphEvent(i,"rollOutGraph"),(s=s.chartCursor)&&s.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(e,i){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(i)){if(e){var s={type:"clickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(s),this.chart.fire(s),v.getURL(e.url,this.urlTarget)}this.handleGraphEvent(i,"clickGraph")}},handleGraphEvent:function(e,i){var s={type:i,graph:this,target:this,chart:this.chart,event:e};this.fire(s),this.chart.fire(s)},handleRightClick:function(e,i){if(e){var s={type:"rightClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(s),this.chart.fire(s)}},handleDoubleClick:function(e,i){if(e){var s={type:"doubleClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(s),this.chart.fire(s)}},zoom:function(e,i){this.start=e,this.end=i,this.draw()},changeOpacity:function(e){var s,i=this.set;if(i&&i.setAttr("opacity",e),i=this.ownColumns)for(s=0;s<i.length;s++){var c=i[s].set;c&&c.setAttr("opacity",e)}(i=this.bulletSet)&&i.setAttr("opacity",e)},destroy:function(){v.remove(this.set),v.remove(this.bulletSet);var i,e=this.timeOuts;if(e)for(i=0;i<e.length;i++)clearTimeout(e[i]);this.timeOuts=[]},createBalloon:function(){var e=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var i=this.balloon;v.extend(i,e.balloon,!0),i.chart=e,i.mainSet=e.plotBalloonsSet,i.className=this.id},hideBalloon:function(){var e=this,i=e.chart;i.chartCursor&&i.chartCursor.valueBalloonsEnabled||i.hideBalloon(),clearTimeout(e.hoverInt),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},i.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(v.isModern){var e=this.resizedDItem;if(e){var i=e.bulletGraphics;if(i&&!i.doNotScale){i.translate(e.bx,e.by,1);var s=this.bulletAlpha;isNaN(e.alpha)||(s=e.alpha),i.setAttr("fill-opacity",s),i.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(e,i,s,c,S){if(e){var M=this.chart,U=this.balloon,G=0,X=0,R=!0;if((F=M.chartCursor)&&F.valueBalloonsEnabled||(U=M.balloon,G=this.x,X=this.y,R=!1),clearTimeout(this.hoverInt),M.chartCursor&&(this.currentDataItem=e,"serial"==M.type&&M.isRolledOverBullet&&M.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(e,c,S),U&&U.enabled&&this.showBalloon&&!this.hidden){var F=M.formatString(this.balloonText,e,!0),E=this.balloonFunction;E&&(F=E(e,e.graph)),F&&(F=v.cleanFromEmpty(F)),F&&""!==F?(c=M.getBalloonColor(this,e),U.drop||(U.pointerOrientation=i),i=e.x,S=e.y,M.rotate&&(i=e.y,S=e.x),i+=G,S+=X,isNaN(i)||isNaN(S)?this.hideBalloonReal():(e=this.width,E=this.height,R&&U.setBounds(G,X,e+G,E+X),U.changeColor(c),U.setPosition(i,S),U.fixPrevious(),U.fixedPosition&&(s=!1),!s&&"radar"!=M.type&&(i<G-.5||i>e+G||S<X-.5||S>E+X)?(U.showBalloon(F),U.hide(0)):(U.followCursor(s),U.showBalloon(F)))):(this.hideBalloonReal(),U.hide(),this.resizeBullet(e,c,S))}else this.hideBalloonReal()}},resizeBullet:function(e,i,s){if(this.fixBulletSize(),e&&v.isModern&&(1!=i||!isNaN(s))){var c=e.bulletGraphics;c&&!c.doNotScale&&(c.translate(e.bx,e.by,i),isNaN(s)||(c.setAttr("fill-opacity",s),c.setAttr("stroke-opacity",s)),this.resizedDItem=e)}}})}(),function(){var v=window.AmCharts;v.ChartCursor=v.Class({construct:function(e){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,v.applyTheme(this,e,this.cname)},draw:function(){this.destroy();var e=this.chart;e.panRequired=!0;var i=e.container;this.rotate=e.rotate,this.container=i,this.prevLineHeight=this.prevLineWidth=NaN,(i=i.set()).translate(this.x,this.y),this.set=i,e.cursorSet.push(i),this.createElements(),v.isString(this.limitToGraph)&&(this.limitToGraph=v.getObjById(e.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=e.valueAxes[0])},createElements:function(){var U,G,e=this,i=e.chart,s=i.dx,c=i.dy,S=e.width,M=e.height,X=e.cursorAlpha,F=e.valueLineAlpha;e.rotate?(U=F,G=X):(G=F,U=X),"xy"==i.type&&(G=X,void 0!==F&&(G=F),U=X),e.vvLine=v.line(e.container,[s,0,0],[c,0,M],e.cursorColor,U,1),v.setCN(i,e.vvLine,"cursor-line"),v.setCN(i,e.vvLine,"cursor-line-vertical"),e.hhLine=v.line(e.container,[0,S,S+s],[0,0,c],e.cursorColor,G,1),v.setCN(i,e.hhLine,"cursor-line"),v.setCN(i,e.hhLine,"cursor-line-horizontal"),e.vLine=e.rotate?e.vvLine:e.hhLine,e.set.push(e.vvLine),e.set.push(e.hhLine),e.set.node.style.pointerEvents="none",e.fullLines=e.container.set(),(i=i.cursorLineSet).push(e.fullLines),i.translate(e.x,e.y),i.clipRect(-1,-1,S+2,M+2),void 0!==e.tabIndex&&(i.setAttr("tabindex",e.tabIndex),i.keyup(function(R){e.handleKeys(R)}).focus(function(R){e.showCursor()}).blur(function(R){e.hideCursor()})),e.set.clipRect(0,0,S,M)},handleKeys:function(e){var i=this.prevIndex,s=this.chart;if(s){var c=s.chartData;c&&(isNaN(i)&&(i=c.length-1),37!=e.keyCode&&40!=e.keyCode||i--,39!=e.keyCode&&38!=e.keyCode||i++,i=v.fitToBounds(i,s.startIndex,s.endIndex),(e=this.chart.chartData[i])&&this.setPosition(e.x.categoryAxis),this.prevIndex=i)}},update:function(){var e=this.chart;if(e){var c,i=e.mouseX-this.x,s=e.mouseY-this.y;if(this.mouseX=i,this.mouseY=s,this.mouse2X=e.mouse2X-this.x,this.mouse2Y=e.mouse2Y-this.y,e.chartData&&0<e.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=c=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(e.rotate||!this.limitToGraph)&&this.vvLine.translate(i,0),!this.hhLine||!isNaN(this.fy)||e.rotate&&this.limitToGraph||this.hhLine.translate(0,s),isNaN(this.mouse2X)?this.dispatchMovedEvent(i,s):c=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}c&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(v.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var i,e=(i=this.chart).marginTop;this.drawingLine=v.line(this.container,[this.drawStartX+(i=i.marginLeft),this.mouseX+i],[this.drawStartY+e,this.mouseY+e],this.cursorColor,1,1)}},fixWidth:function(e){if(this.fullWidth&&this.prevLineWidth!=e){var i=this.vvLine,s=0;i&&(i.remove(),s=i.x),(i=this.container.set()).translate(s,0),s=v.rect(this.container,e,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),v.setCN(this.chart,s,"cursor-fill"),s.translate(-e/2-1,0),i.push(s),this.vvLine=i,this.fullLines.push(i),this.prevLineWidth=e}},fixHeight:function(e){if(this.fullWidth&&this.prevLineHeight!=e){var i=this.hhLine,s=0;i&&(i.remove(),s=i.y),(i=this.container.set()).translate(0,s),(s=v.rect(this.container,this.width,e,this.cursorColor,this.cursorAlpha)).translate(0,-e/2),i.push(s),this.fullLines.push(i),this.hhLine=i,this.prevLineHeight=e}},fixVLine:function(e,i){if(!isNaN(e)&&this.vvLine){if(isNaN(this.prevLineX)){var s=0,c=this.mouseX;if(this.limitToGraph){var S=this.chart.categoryAxis;S&&(this.chart.rotate||(s="bottom"==S.position?this.height:-this.height),c=e)}this.vvLine.translate(c,s)}else this.prevLineX!=e&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=e,this.prevLineX!=e&&(s=this.animationDuration,this.zooming&&(s=0),this.vvLine.stop(),this.vvLine.animate({translate:e+","+i},s,"easeOutSine"),this.prevLineX=e,this.prevLineY=i)}},fixHLine:function(e,i){if(!isNaN(e)&&this.hhLine){if(isNaN(this.prevLineY)){var s=0,c=this.mouseY;if(this.limitToGraph){var S=this.chart.categoryAxis;S&&(this.chart.rotate&&(s="right"==S.position?this.width:-this.width),c=e)}this.hhLine.translate(s,c)}else this.prevLineY!=e&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=e,this.prevLineY!=e&&(s=this.animationDuration,this.zooming&&(s=0),this.hhLine.stop(),this.hhLine.animate({translate:i+","+e},s,"easeOutSine"),this.prevLineY=e,this.prevLineX=i)}},hideCursor:function(e){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),e?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(e){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),e||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var S=this.mouseX,M=this.mouseY;isNaN(this.fx)||(S=this.fx),isNaN(this.fy)||(M=this.fy),this.clearSelection();var U,e=this.mouseX0,i=this.mouseY0,s=this.width,c=this.height;(S=v.fitToBounds(S,0,s))<e&&(U=S,S=e,e=U),(M=v.fitToBounds(M,0,c))<i&&(U=M,M=i,i=U),this.hZoomEnabled?s=S-e:e=0,this.vZoomEnabled?c=M-i:i=0,isNaN(this.mouse2X)&&0<Math.abs(s)&&0<Math.abs(c)&&(S=this.chart,M=v.rect(this.container,s,c,this.cursorColor,this.selectionAlpha),v.setCN(S,M,"cursor-selection"),M.width=s,M.height=c,M.translate(e,i),this.set.push(M),this.selection=M),this.updateFullLine()}},mouseIsOver:function(){var e=this.mouseX,i=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||this.chart.mouseIsOver&&0<e&&e<this.width&&0<i&&i<this.height||(this.handleMouseOut(),!1)},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var e={chart:this.chart,target:this,type:"zoomStarted"};e.x=this.mouseX/this.width,e.y=this.mouseY/this.height,this.index0=e.index=this.index,this.timestamp0=this.timestamp,this.fire(e)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,v.remove(this.drawingLine);var e=this.drawStartX,i=this.drawStartY,s=this.mouseX,c=this.mouseY,S=this.chart;(2<Math.abs(e-s)||2<Math.abs(i-c))&&this.fire({type:"draw",target:this,chart:S,initialX:e,initialY:i,finalX:s,finalY:c})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(e){if(!this.pan&&(i=this.selection)&&3<Math.abs(i.width)&&3<Math.abs(i.height)){var s=Math.min(this.index,this.index0),c=Math.max(this.index,this.index0),S=s,M=c,U=this.chart,G=U.chartData,X=U.categoryAxis;X&&X.parseDates&&!X.equalSpacing&&(S=G[s]?G[s].time:Math.min(this.timestamp0,this.timestamp),M=G[c]?U.getEndTime(G[c].time):Math.max(this.timestamp0,this.timestamp));var F,i={type:e,chart:this.chart,target:this,end:M,start:S,startIndex:s,endIndex:c,selectionHeight:i.height,selectionWidth:i.width,selectionY:i.y,selectionX:i.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(i.startX=this.mouseX0/this.width,i.endX=this.mouseX/this.width,F=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(i.startY=1-this.mouseY0/this.height,i.endY=1-this.mouseY/this.height,F=!0),F&&(this.prevY=this.prevX=NaN,this.fire(i),"selected"!=e&&this.clearSelection()),this.hideCursor()}},dispatchMovedEvent:function(e,i,s,c){if(e=Math.round(e),i=Math.round(i),!this.isHidden&&(e!=this.prevX||i!=this.prevY||"changed"==s)){s||(s="moved");var S=this.fx,M=this.fy;isNaN(S)&&(S=e),isNaN(M)&&(M=i);var U=!1;this.zooming&&this.pan&&(U=!0),U={hidden:this.isHidden,type:s,chart:this.chart,target:this,x:e,y:i,finalX:S,finalY:M,zooming:this.zooming,panning:U,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:c,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(U.position=i,U.finalPosition=M):(U.position=e,U.finalPosition=S),this.prevX=e,this.prevY=i,c?this.chart.handleCursorMove(U):(this.fire(U),"changed"==s&&this.chart.fire(U))}},dispatchPanEvent:function(){if(this.mouseIsDown){var e=v.roundTo((this.mouseX-this.mouseX0)/this.width,3),i=v.roundTo((this.mouseY-this.mouseY0)/this.height,3),s=v.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),c=v.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),S=!1;0!==Math.abs(e)&&0!==Math.abs(i)&&(S=!0),(this.prevDeltaX==e||this.prevDeltaY==i)&&(S=!1),isNaN(s)||isNaN(c)||(0!==Math.abs(s)&&0!==Math.abs(c)&&(S=!0),this.prevDelta2X!=s&&this.prevDelta2Y!=c)||(S=!1),S&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:e,deltaY:i,delta2X:s,delta2Y:c,index:this.index}),this.prevDeltaX=e,this.prevDeltaY=i,this.prevDelta2X=s,this.prevDelta2Y=c)}},clearSelection:function(){var e=this.selection;e&&(e.width=0,e.height=0,e.remove())},destroy:function(){this.clear(),v.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),v.remove(this.set)},clear:function(){},setTimestamp:function(e){this.timestamp=e},setIndex:function(e,i){e!=this.index&&(this.index=e,i||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(e){var i=this.chart.categoryAxis;i&&this.setPosition(i.categoryToCoordinate(e),e)},setPosition:function(e,i){var S,M,s=this.chart,c=s.categoryAxis;c&&(void 0===i&&(i=c.coordinateToValue(e)),c.showBalloonAt(i,e),this.forceShow=!0,c.stickBalloonToCategory?s.rotate?this.fixHLine(e,0):this.fixVLine(e,0):(this.showCursor(),s.rotate?this.hhLine.translate(0,e):this.vvLine.translate(e,0)),s.rotate?S=e:M=e,s.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(M,S,"moved",!0))},enableDrawing:function(e){this.enabled=!e,this.hideCursor(),this.drawing=e},syncWithCursor:function(e,i){clearTimeout(this.syncTO),e&&(e.isHidden?this.hideCursor(!0):this.syncWithCursorReal(e,i))},isZooming:function(e){this.zooming=e},syncWithCursorReal:function(e,i){var s=e.vvLine,c=e.hhLine;this.index=e.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=i,this.justReleased=e.justReleased,this.zooming=e.zooming,this.index0=e.index0,this.mouseX0=e.mouseX0,this.mouseY0=e.mouseY0,this.mouse2X0=e.mouse2X0,this.mouse2Y0=e.mouse2Y0,this.timestamp0=e.timestamp0,this.prevDeltaX=e.prevDeltaX,this.prevDeltaY=e.prevDeltaY,this.prevDelta2X=e.prevDelta2X,this.prevDelta2Y=e.prevDelta2Y,this.fx=e.fx,this.fy=e.fy,e.zooming&&this.updateSelection();var S=e.mouseX,M=e.mouseY;this.rotate?(S=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&c&&(isNaN(e.fy)?this.hhLine.translate(0,e.mouseY):this.fixHLine(e.fy,0))):(M=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&s&&(isNaN(e.fx)?this.vvLine.translate(e.mouseX,0):this.fixVLine(e.fx,0))),this.dispatchMovedEvent(S,M,"moved",!0)}})}(),function(){var v=window.AmCharts;v.SimpleChartScrollbar=v.Class({construct:function(e){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,v.applyTheme(this,e,"SimpleChartScrollbar")},getPercents:function(){var e=(c=this.getDBox()).x,i=c.y,s=c.width,c=c.height;this.rotate?(e=1-i/this.height,i=1-(i+c)/this.height):(i=e/this.width,e=(e+s)/this.width),this.percentStart=i,this.percentEnd=e},draw:function(){var e=this;if(e.destroy(),e.enabled){var i=e.chart.container,s=e.rotate,c=e.chart;c.panRequired=!0;var M,U,S=i.set();if(e.set=S,v.setCN(c,S,s?"scrollbar-vertical":"scrollbar-horizontal"),c.scrollbarsSet.push(S),s?(M=e.scrollbarHeight,U=c.plotAreaHeight):(U=e.scrollbarHeight,M=c.plotAreaWidth),e.width=M,(e.height=U)&&M){var G,X=v.rect(i,M,U,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);v.setCN(c,X,"scrollbar-bg"),e.bg=X,S.push(X),X=v.rect(i,M,U,"#000",.005),S.push(X),e.invisibleBg=X,X.click(function(){e.handleBgClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}).touchend(function(){e.handleBgClick()}),X=v.rect(i,M,U,e.selectedBackgroundColor,e.selectedBackgroundAlpha),v.setCN(c,X,"scrollbar-bg-selected"),e.selectedBG=X,S.push(X),M=v.rect(i,M,U,"#000",.005),e.dragger=M,S.push(M),M.mousedown(function(h){e.handleDragStart(h)}).mouseup(function(){e.handleDragStop()}).mouseover(function(){e.handleDraggerOver()}).mouseout(function(){e.handleMouseOut()}).touchstart(function(h){e.handleDragStart(h)}).touchend(function(){e.handleDragStop()}),U=c.pathToImages,X=e.dragIcon.replace(/\.[a-z]*$/i,""),v.isAbsolute(X)&&(U=""),s?(G=U+X+"H"+c.extension,U=e.dragIconWidth,s=e.dragIconHeight):(G=U+X+c.extension,s=e.dragIconWidth,U=e.dragIconHeight),X=i.image(G,0,0,s,U),v.setCN(c,X,"scrollbar-grip-left"),G=i.image(G,0,0,s,U),v.setCN(c,G,"scrollbar-grip-right");var F=10,R=20;c.panEventsEnabled&&(F=25,R=e.scrollbarHeight);var E=v.rect(i,F,R,"#000",.005),a=v.rect(i,F,R,"#000",.005);a.translate(-(F-s)/2,-(R-U)/2),E.translate(-(F-s)/2,-(R-U)/2),s=i.set([X,a]),i=i.set([G,E]),e.iconLeft=s,S.push(e.iconLeft),e.iconRight=i,S.push(i),e.updateGripCursor(!1),c.makeAccessible(s,e.accessibleLabel),c.makeAccessible(i,e.accessibleLabel),c.makeAccessible(M,e.accessibleLabel),s.setAttr("role","menuitem"),i.setAttr("role","menuitem"),M.setAttr("role","menuitem"),void 0!==e.tabIndex&&(s.setAttr("tabindex",e.tabIndex),s.keyup(function(h){e.handleKeys(h,1,0)})),void 0!==e.tabIndex&&(M.setAttr("tabindex",e.tabIndex),M.keyup(function(h){e.handleKeys(h,1,1)})),void 0!==e.tabIndex&&(i.setAttr("tabindex",e.tabIndex),i.keyup(function(h){e.handleKeys(h,0,1)})),s.mousedown(function(){e.leftDragStart()}).mouseup(function(){e.leftDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.leftDragStart()}).touchend(function(){e.leftDragStop()}),i.mousedown(function(){e.rightDragStart()}).mouseup(function(){e.rightDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.rightDragStart()}).touchend(function(){e.rightDragStop()}),v.ifArray(c.chartData)?S.show():S.hide(),e.hideDragIcons(),e.clipDragger(!1)}S.translate(e.x,e.y),S.node.style.msTouchAction="none",S.node.style.touchAction="none"}},handleKeys:function(e,i,s){this.getPercents();var M=this.percentStart,S=this.percentEnd;if(this.rotate){var c=S;S=M,M=c}(37==e.keyCode||40==e.keyCode)&&(M-=.02*i,S-=.02*s),(39==e.keyCode||38==e.keyCode)&&(M+=.02*i,S+=.02*s),this.rotate&&(e=S,S=M,M=e),isNaN(S)||isNaN(M)||this.percentZoom(M,S,!0)},updateScrollbarSize:function(e,i){if(!isNaN(e)&&!isNaN(i)){e=Math.round(e),i=Math.round(i);var c,S,M,U,G,s=this.dragger;this.rotate?(c=0,S=e,M=this.width+1,U=i-e,s.setAttr("height",i-e),s.setAttr("y",S)):(S=0,M=i-e,U=this.height+1,G=i-e,s.setAttr("x",c=e),s.setAttr("width",G)),this.clipAndUpdate(c,S,M,U)}},update:function(){var e,s,c,i=!1,S=this.x,M=this.y,U=this.dragger;if(G=this.getDBox()){s=G.x+S,c=G.y+M;var X=G.width,G=G.height,F=this.rotate,R=this.width,E=this.height,a=(h=this.chart).mouseX,h=h.mouseY;if(e=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var l=this.initialCoord;F?(0>(e=l+(h-e))&&(e=0),e>(l=E-G)&&(e=l),U.setAttr("y",e)):(0>(e=l+(a-e))&&(e=0),(e>(l=R-X)||isNaN(e))&&(e=l),U.setAttr("x",e)),this.clipDragger(!0)}this.resizingRight&&(F?(e=h-c,!isNaN(this.maxHeight)&&e>this.maxHeight&&(e=this.maxHeight),e+c>E+M&&(e=E-c+M),0>e?(this.resizingRight=!1,i=this.resizingLeft=!0):((0===e||isNaN(e))&&(e=.1),U.setAttr("height",e))):(e=a-s,!isNaN(this.maxWidth)&&e>this.maxWidth&&(e=this.maxWidth),e+s>R+S&&(e=R-s+S),0>e?(this.resizingRight=!1,i=this.resizingLeft=!0):((0===e||isNaN(e))&&(e=.1),U.setAttr("width",e))),this.clipDragger(!0)),this.resizingLeft&&(F?(s=c,(c=h)<M&&(c=M),isNaN(c)&&(c=M),c>E+M&&(c=E+M),e=!0===i?s-c:G+s-c,!isNaN(this.maxHeight)&&e>this.maxHeight&&(e=this.maxHeight,c=s),0>e?(this.resizingRight=!0,this.resizingLeft=!1,U.setAttr("y",s+G-M)):((0===e||isNaN(e))&&(e=.1),U.setAttr("y",c-M),U.setAttr("height",e))):((c=a)<S&&(c=S),isNaN(c)&&(c=S),c>R+S&&(c=R+S),e=!0===i?s-c:X+s-c,!isNaN(this.maxWidth)&&e>this.maxWidth&&(e=this.maxWidth,c=s),0>e?(this.resizingRight=!0,this.resizingLeft=!1,U.setAttr("x",s+X-S)):((0===e||isNaN(e))&&(e=.1),U.setAttr("x",c-S),U.setAttr("width",e))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(e){if(i=this.getDBox()){var s=i.x,c=i.y,S=i.width,i=i.height,M=!1;this.rotate?(s=0,S=this.width+1,(this.clipY!=c||this.clipH!=i)&&(M=!0)):(c=0,i=this.height+1,(this.clipX!=s||this.clipW!=S)&&(M=!0)),M&&this.clipAndUpdate(s,c,S,i),e&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent())}},maskGraphs:function(){},clipAndUpdate:function(e,i,s,c){this.clipX=e,this.clipY=i,this.clipW=s,this.clipH=c,this.selectedBG.setAttr("width",s),this.selectedBG.setAttr("height",c),this.selectedBG.translate(e,i),this.updateDragIconPositions(),this.maskGraphs(e,i,s,c)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart;e.hideBalloon();var i=(S=this.getDBox()).x,s=S.y,c=S.width,S=S.height;this.getPercents(),this.rotate?(i=s,c=this.height/S):c=this.width/c,e={type:"zoomed",position:i,chart:e,target:this,multiplier:c,relativeStart:this.percentStart,relativeEnd:this.percentEnd},(this.percentStart!=this.prevPercentStart||this.percentEnd!=this.prevPercentEnd||this.prevMultiplier!=c)&&(this.fire(e),this.prevPercentStart=this.percentStart,this.prevPercentEnd=this.percentEnd,this.prevMultiplier=c)}},updateDragIconPositions:function(){var M,U,e=this.getDBox(),i=e.x,s=e.y,c=this.iconLeft,S=this.iconRight,G=this.scrollbarHeight;this.rotate?(c.translate((G-(U=this.dragIconHeight))/2,s-(M=this.dragIconWidth)/2),S.translate((G-U)/2,s+e.height-M/2)):(c.translate(i-(U=this.dragIconWidth)/2,(G-(M=this.dragIconHeight))/2),S.translate(i-U/2+e.width,(G-M)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){!this.resizingLeft&&!this.resizingRight&&!this.dragging&&((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(e){this.fire({type:e,chart:this.chart,target:this})},percentZoom:function(e,i,s){var c,S;e=v.fitToBounds(e,0,i),i=v.fitToBounds(i,e,1),this.dragger&&this.enabled&&(this.dragger.stop(),isNaN(e)&&(e=0),isNaN(i)&&(i=1),this.rotate?(i=(c=this.height)-c*i,S=c-c*e):(S=(c=this.width)*i,i=c*e),this.updateScrollbarSize(i,S),this.clipDragger(!1),this.getPercents(),s&&this.dispatchScrollbarEvent())},destroy:function(){this.clear(),v.remove(this.set),v.remove(this.iconRight),v.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var e=this.chart;this.dragger.stop(),this.removeCursors(),v.isModern&&(this.dragger.node.style.cssText=this.dragCursorDown),this.dragging=!0;var i=this.getDBox();this.rotate?(this.initialCoord=i.y,this.initialMouse=e.mouseY):(this.initialCoord=i.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),v.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),v.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(e){v.isModern&&(e=this.rotate?e?this.vResizeCursorDown:this.vResizeCursorHover:e?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&(this.iconRight.node.style.cssText=e),this.iconLeft&&(this.iconLeft.node.style.cssText=e))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var e=this;if(!e.resizingRight&&!e.resizingLeft){e.zooming=!0;var i,s,c=e.scrollDuration,S=e.dragger,M=(i=e.getDBox()).height,U=i.width;s=e.chart;var X=e.x,F=e.rotate;F?(i="y",s=v.fitToBounds(s=s.mouseY-M/2-e.y,0,e.height-M)):(i="x",s=v.fitToBounds(s=s.mouseX-U/2-X,0,e.width-U)),e.updateOnReleaseOnly?(e.skipEvent=!1,S.setAttr(i,s),e.dispatchScrollbarEvent(),e.clipDragger()):(e.animating=!0,s=Math.round(s),S.animate(F?{y:s}:{x:s},c,">"),e.forceClip=!0,clearTimeout(e.forceTO),e.forceTO=setTimeout(function(){e.stopForceClip.call(e)},5e3*c))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var v=window.AmCharts;v.ChartScrollbar=v.Class({inherits:v.SimpleChartScrollbar,construct:function(e){this.cname="ChartScrollbar",v.ChartScrollbar.base.construct.call(this,e),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",v.applyTheme(this,e,this.cname)},init:function(){var e=this.categoryAxis,i=this.chart,s=this.gridAxis;e||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,(e=new v.CategoryAxis).id="scrollbar"):((e=new v.ValueAxis).data=i.chartData,e.id=s.id,e.type=s.type,e.maximumDate=s.maximumDate,e.minimumDate=s.minimumDate,e.minPeriod=s.minPeriod,e.minMaxField=s.minMaxField),this.categoryAxis=e),e.chart=i;var c=i.categoryAxis;c&&(e.firstDayOfWeek=c.firstDayOfWeek),e.dateFormats=s.dateFormats,e.markPeriodChange=s.markPeriodChange,e.boldPeriodBeginning=s.boldPeriodBeginning,e.labelFunction=s.labelFunction,e.axisItemRenderer=v.RecItem,e.axisRenderer=v.RecAxis,e.guideFillRenderer=v.RecFill,e.inside=!0,e.fontSize=this.fontSize,e.tickLength=0,e.axisAlpha=0,v.isString(this.graph)&&(this.graph=v.getObjById(i.graphs,this.graph)),(e=this.graph)&&this.catScrollbar&&((s=this.valueAxis)||(this.valueAxis=s=new v.ValueAxis,s.visible=!1,s.scrollbar=!0,s.axisItemRenderer=v.RecItem,s.axisRenderer=v.RecAxis,s.guideFillRenderer=v.RecFill,s.labelsEnabled=!1,s.chart=i),(i=this.unselectedGraph)||((i=new v.AmGraph).scrollbar=!0,this.unselectedGraph=i,i.negativeBase=e.negativeBase,i.noStepRisers=e.noStepRisers),(i=this.selectedGraph)||((i=new v.AmGraph).scrollbar=!0,this.selectedGraph=i,i.negativeBase=e.negativeBase,i.noStepRisers=e.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var e=this;if(v.ChartScrollbar.base.draw.call(e),e.enabled){e.scrollbarCreated||e.init();var i=e.chart,s=i.chartData,c=e.categoryAxis,S=e.rotate,M=e.x,U=e.y,G=e.width,X=e.height,F=e.gridAxis,R=e.set;if(c.setOrientation(!S),c.parseDates=F.parseDates,"ValueAxis"==e.categoryAxis.cname&&(c.rotate=!S),c.equalSpacing=F.equalSpacing,c.minPeriod=F.minPeriod,c.startOnAxis=F.startOnAxis,c.width=G-1,c.height=X,c.gridCount=e.gridCount,c.gridColor=e.gridColor,c.gridAlpha=e.gridAlpha,c.color=e.color,c.tickLength=0,c.axisAlpha=0,c.autoGridCount=e.autoGridCount,c.parseDates&&!c.equalSpacing&&c.timeZoom(i.firstTime,i.lastTime),c.minimum=e.gridAxis.fullMin,c.maximum=e.gridAxis.fullMax,c.strictMinMax=!0,c.zoom(0,s.length-1),(F=e.graph)&&e.catScrollbar){var h,E=e.valueAxis,a=F.valueAxis;for(E.id=a.id,E.rotate=S,E.setOrientation(S),E.width=G,E.height=X,E.dataProvider=s,E.reversed=a.reversed,E.logarithmic=a.logarithmic,E.gridAlpha=0,E.axisAlpha=0,R.push(E.set),S?(E.y=U,E.x=0):(E.x=M,E.y=0),M=1/0,U=-1/0,h=0;h<s.length;h++){var p,l=s[h].axes[a.id].graphs[F.id].values;for(p in l)if(l.hasOwnProperty(p)&&"percents"!=p&&"total"!=p){var x=l[p];x<M&&(M=x),x>U&&(U=x)}}M!=1/0&&(E.minimum=M),U!=-1/0&&(E.maximum=U+.1*(U-M)),M==U&&(--E.minimum,E.maximum+=1),void 0!==e.minimum&&(E.minimum=e.minimum),void 0!==e.maximum&&(E.maximum=e.maximum),E.zoom(0,s.length-1),(p=e.unselectedGraph).id=F.id,p.bcn="scrollbar-graph-",p.rotate=S,p.chart=i,p.data=s,p.valueAxis=E,p.chart=F.chart,p.categoryAxis=e.categoryAxis,p.periodSpan=F.periodSpan,p.valueField=F.valueField,p.openField=F.openField,p.closeField=F.closeField,p.highField=F.highField,p.lowField=F.lowField,p.lineAlpha=e.graphLineAlpha,p.lineColorR=e.graphLineColor,p.fillAlphas=e.graphFillAlpha,p.fillColorsR=e.graphFillColor,p.connect=F.connect,p.hidden=F.hidden,p.width=G,p.height=X,p.pointPosition=F.pointPosition,p.stepDirection=F.stepDirection,p.periodSpan=F.periodSpan,(a=e.selectedGraph).id=F.id,a.bcn=p.bcn+"selected-",a.rotate=S,a.chart=i,a.data=s,a.valueAxis=E,a.chart=F.chart,a.categoryAxis=c,a.periodSpan=F.periodSpan,a.valueField=F.valueField,a.openField=F.openField,a.closeField=F.closeField,a.highField=F.highField,a.lowField=F.lowField,a.lineAlpha=e.selectedGraphLineAlpha,a.lineColorR=e.selectedGraphLineColor,a.fillAlphas=e.selectedGraphFillAlpha,a.fillColorsR=e.selectedGraphFillColor,a.connect=F.connect,a.hidden=F.hidden,a.width=G,a.height=X,a.pointPosition=F.pointPosition,a.stepDirection=F.stepDirection,a.periodSpan=F.periodSpan,(i=e.graphType)||(i=F.type),p.type=i,a.type=i,p.zoom(0,s=s.length-1),a.zoom(0,s),a.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),p.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),R.push(p.set),R.push(a.set)}R.push(c.set),R.push(c.labelsSet),e.bg.toBack(),e.invisibleBg.toFront(),e.dragger.toFront(),e.iconLeft.toFront(),e.iconRight.toFront()}},timeZoom:function(e,i,s){this.startTime=e,this.endTime=i,this.timeDifference=i-e,this.skipEvent=!v.toBoolean(s),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(e,i){this.start=e,this.end=i,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)v.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var i,s,e=this.chart.chartData;i=(G=this.dragger.getBBox()).x;var F=G.y,c=G.width,G=G.height,S=this.chart;this.rotate?(i=F,s=G):s=c,(c={type:"zoomed",target:this}).chart=S;var M=this.categoryAxis,U=this.stepWidth,X=(G=S.minSelectedTime,S.maxSelectedTime);F=!1,M.parseDates&&!M.equalSpacing?(e=S.lastTime,S=S.firstTime,(M=Math.round(i/U)+S)>(i=this.dragging?M+this.timeDifference:Math.round((i+s)/U)+S)&&(M=i),0<G&&i-M<G&&(M=(i=Math.round(M+(i-M)/2))-(F=Math.round(G/2)),i+=F,F=!0),0<X&&i-M>X&&(M=(i=Math.round(M+(i-M)/2))-(F=Math.round(X/2)),i+=F,F=!0),i>e&&(i=e),i-G<M&&(M=i-G),M<S&&(M=S),M+G>i&&(i=M+G),(M!=this.startTime||i!=this.endTime)&&(this.startTime=M,this.endTime=i,c.start=M,c.end=i,c.startDate=new Date(M),c.endDate=new Date(i),this.fire(c))):(X=U/2,M.startOnAxis||(i+=X,s-=X),G=M.xToIndex(i),M.startOnAxis||(i=M.getCoordinate(G)-X),i=M.xToIndex(i+s),(G!=this.start||this.end!=i)&&(M.startOnAxis&&(this.resizingRight&&G==i&&i++,this.resizingLeft&&G==i&&(0<G?G--:i=1)),i==e.length&&(i=e.length-1),G==i&&i==e.length-1&&(G=i-1),this.start=G,this.end=this.dragging?this.start+this.difference:i,c.start=this.start,c.end=this.end,M.parseDates&&(e[this.start]&&(c.startDate=new Date(e[this.start].time)),e[this.end]&&(c.endDate=new Date(e[this.end].time))),this.fire(c)),this.percentStart=G,this.percentEnd=i),F&&this.zoomScrollbar(!0)}},zoomScrollbar:function(e){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||e)&&this.dragger&&this.enabled){var i,s,c=this.chart;e=c.chartData;var S=this.categoryAxis;S.parseDates&&!S.equalSpacing?(i=(e=S.stepWidth)*(this.startTime-(s=c.firstTime)),s=e*(this.endTime-s)):(e[this.start]&&(i=e[this.start].x[S.id]),e[this.end]&&(s=e[this.end].x[S.id]),e=S.stepWidth,S.startOnAxis||(i-=c=e/2,s+=c)),this.stepWidth=e,isNaN(i)||isNaN(s)||this.updateScrollbarSize(i,s)}},maskGraphs:function(e,i,s,c){var S=this.selectedGraph;S&&S.set.clipRect(e,i,s,c)},handleDragStart:function(){v.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){v.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var v=window.AmCharts;v.AmBalloon=v.Class({construct:function(e){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,v.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,v.applyTheme(this,e,this.cname)},draw:function(){var e=this.pointToX,i=this.pointToY;v.isModern||(this.drop=!1);var s=this.chart;if(v.VML&&(this.fadeOutDuration=0),this.xAnim&&s.stopAnim(this.xAnim),this.yAnim&&s.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(e)){var c=this.follow,S=s.container,M=this.set;if(v.remove(M),this.removeDiv(),(M=S.set()).node.style.pointerEvents="none",this.set=M,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):s.balloonsSet.push(M),this.show){var U=this.l,C=this.t,G=this.r,O=this.b,X=this.fillColor,F=this.borderColor,R=X;null!=(p=this.balloonColor)&&(this.adjustBorderColor?R=F=p:X=p);var P=this.horizontalPadding,o=this.verticalPadding,E=this.pointerWidth,a=this.pointerOrientation,h=this.cornerRadius,l=s.fontFamily;null==(k=this.fontSize)&&(k=s.fontSize);var p=document.createElement("div"),x=s.classNamePrefix;p.className=x+"-balloon-div",this.className&&(p.className=p.className+" "+x+"-balloon-div-"+this.className),x=p.style,this.disableMouseEvents&&(x.pointerEvents="none"),x.position="absolute";var T=this.minWidth,b=document.createElement("div");p.appendChild(b);var I=b.style;isNaN(T)||(I.minWidth=T-2*P+"px"),I.textAlign=this.textAlign,I.maxWidth=this.maxWidth+"px",I.fontSize=k+"px",I.color=this.color,I.fontFamily=l,b.innerHTML=this.text,s.chartDiv.appendChild(p),this.textDiv=p,I=p.offsetWidth;var u=p.offsetHeight;p.clientHeight&&(I=p.clientWidth,u=p.clientHeight),l=u+2*o,b=I+2*P,!isNaN(T)&&b<T&&(b=T),window.opera&&(l+=2);var n=!1,k=this.offsetY;s.handDrawn&&(k+=s.handDrawScatter+2),"H"!=a?(T=e-b/2,i<C+l+10&&"down"!=a?(n=!0,c&&(i+=k),k=i+E,this.deltaSignY=-1):(c&&(i-=k),k=i-l-E,this.deltaSignY=1)):(2*E>l&&(E=l/2),k=i-l/2,e<U+(G-U)/2?(T=e+E,this.deltaSignX=-1):(T=e-b-E,this.deltaSignX=1)),k+l>=O&&(k=O-l),k<C&&(k=C),T<U&&(T=U),T+b>G&&(T=G-b),C=k+o,O=T+P;var f,m=this.shadowAlpha,A=this.shadowColor,B=(P=this.borderThickness,o=this.fillAlpha,this.borderAlpha);this.showBullet&&(f=v.circle(S,this.bulletSize,R,o),M.push(f)),this.drop?(U=b/1.6,G=0,"V"==a&&(a="down"),"H"==a&&(a="left"),"down"==a&&(T=e+1,k=i-U-U/3),"up"==a&&(G=180,T=e+1,k=i+U+U/3),"left"==a&&(G=270,T=e+U+U/3+2,k=i),"right"==a&&(G=90,T=e-U-U/3+2,k=i),C=k-u/2+1,O=T-I/2-1,X=v.drop(S,U,G,X,o,P,F,B)):0<h||0===E?(0<m&&(e=v.rect(S,b,l,X,0,P+1,A,m,h),v.isModern?e.translate(1,1):e.translate(4,4),M.push(e)),X=v.rect(S,b,l,X,o,P,F,B,h)):(R=[],h=[],"H"!=a?((U=e-T)>b-E&&(U=b-E),U<E&&(U=E),R=[0,U-E,e-T,U+E,b,b,0,0],h=n?[0,0,i-k,0,0,l,l,0]:[l,l,i-k,l,l,0,0,l]):((a=i-k)>l-E&&(a=l-E),a<E&&(a=E),h=[0,a-E,i-k,a+E,l,l,0,0],R=e<U+(G-U)/2?[0,0,T<e?0:e-T,0,0,b,b,0]:[b,b,T+b>e?b:e-T,b,b,0,0,b]),0<m&&((e=v.polygon(S,R,h,X,0,P,A,m)).translate(1,1),M.push(e)),X=v.polygon(S,R,h,X,o,P,F,B)),this.bg=X,M.push(X),X.toFront(),v.setCN(s,X,"balloon-bg"),this.className&&v.setCN(s,X,"balloon-bg-"+this.className),S=1*this.deltaSignX,C+=this.sdy,x.left=(O+=this.sdx)+"px",x.top=C+"px",M.translate(T-S,k,1,!0),X=X.getBBox(),this.bottom=k+l+1,this.yPos=X.y+k,f&&f.translate(this.pointToX-T+S,i-k),i=this.animationDuration,0<this.animationDuration&&!c&&!isNaN(this.prevX)&&(M.translate(this.prevX,this.prevY,NaN,!0),M.animate({translate:T-S+","+k},i,"easeOutSine"),p&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=s.animate({node:p},"left",this.prevTX,O,i,"easeOutSine","px"),this.yAnim=s.animate({node:p},"top",this.prevTY,C,i,"easeOutSine","px"))),this.prevX=T-S,this.prevY=k,this.prevTX=O,this.prevTY=C}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var i=this.chart.mouseY-this.sdy;if(this.pointToX=e=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,this.pointToY=i,e!=this.previousX||i!=this.previousY)if(this.previousX=e,this.previousY=i,0===this.cornerRadius)this.draw();else{var s=this.set;if(s){var e,c=s.getBBox(),S=i-c.height-10;(e-=c.width/2)<this.l&&(e=this.l),e>this.r-c.width&&(e=this.r-c.width),S<this.t&&(S=i+10),s.translate(e,S),(i=this.textDiv.style).left=e+this.horizontalPadding+"px",i.top=S+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,i,s,c){this.l=e,this.t=i,this.r=s,this.b=c,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){(this.text!=e||this.positionChanged)&&(this.text=e,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),e=this.chart,this.fadeAnim1&&e.stopAnim(this.fadeAnim1),this.fadeAnim2&&e.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(e){var i=this;i.text=void 0,isNaN(e)&&(e=i.fadeOutDuration);var s=i.chart;if(0<e&&!i.isHiding){i.isHiding=!0,i.destroyTO&&clearTimeout(i.destroyTO),i.destroyTO=setTimeout(function(){i.destroy.call(i)},1e3*e),i.follow=!1,i.show=!1;var c=i.set;c&&(c.setAttr("opacity",i.fillAlpha),i.fadeAnim1=c.animate({opacity:0},e,"easeInSine")),i.textDiv&&(i.fadeAnim2=s.animate({node:i.textDiv},"opacity",1,0,e,"easeInSine",""))}else i.show=!1,i.follow=!1,i.destroy()},setPosition:function(e,i){(e!=this.pointToX||i!=this.pointToY)&&(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=e,this.pointToY=i,this.positionChanged=!0)},followCursor:function(e){var i=this;i.follow=e,clearInterval(i.interval);var s=i.chart.mouseX-i.sdx,c=i.chart.mouseY-i.sdy;!isNaN(s)&&e&&(i.pointToX=s-i.offsetX*i.deltaSignX,i.pointToY=c,i.followMouse(),i.interval=setInterval(function(){i.followMouse.call(i)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),v.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var v=window.AmCharts;v.AmCoordinateChart=v.Class({inherits:v.AmChart,construct:function(e){v.AmCoordinateChart.base.construct.call(this,e),this.theme=e,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,v.applyTheme(this,e,"AmCoordinateChart")},initChart:function(){v.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var e=this.categoryAxis;e&&(this.categoryAxis=v.processObject(e,v.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),v.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var e=new v.ValueAxis;this.addValueAxis(e)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(e){if(this.chartData=[],e)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var i=e.length/this.processCount;this.parseCount=Math.ceil(i)-1;for(var s=0;s<i;s++)this.delayParseSerialData(e,s)}else this.parseCount=0,this.parsePartSerialData(e,0,e.length,0);else this.onDataUpdated()},delayParseSerialData:function(e,i){var s=this,c=s.processCount;setTimeout(function(){s.parsePartSerialData.call(s,e,i*c,(i+1)*c,i)},s.processTimeout)},parsePartSerialData:function(e,i,s,c){s>e.length&&(s=e.length);var S=this.graphs,M={},U=this.seriesIdField;U||(U=this.categoryField);var X,R,E,a,G=!1,F=this.categoryAxis;F&&(G=F.parseDates,R=F.forceShowField,a=F.classNameField,E=F.labelColorField,X=F.categoryFunction);var h,l,x,p={};G&&(h=v.extractPeriod(F.minPeriod),x=v.getPeriodDuration(l=h.period,h=h.count));var T={};this.lookupTable=T;var b,I=this.dataDateFormat,u={};for(b=i;b<s;b++){var n={},k=e[b];if(i=k[this.categoryField],n.dataContext=k,n.category=X?X(i,k,F):String(i),R&&(n.forceShow=k[R]),a&&(n.className=k[a]),E&&(n.labelColor=k[E]),T[k[U]]=n,!G||(F.categoryFunction?i=F.categoryFunction(i,k,F):(!I||i instanceof Date||(i=i.toString()+" |"),i=v.getDate(i,I,F.minPeriod)),i=v.resetDateToMin(i,l,h,F.firstDayOfWeek),n.category=i,n.time=i.getTime(),!isNaN(n.time))){var O,C=this.valueAxes;for(n.axes={},n.x={},O=0;O<C.length;O++){var A,m=C[O].id;for(n.axes[m]={},n.axes[m].graphs={},A=0;A<S.length;A++){var P=(i=S[A]).id,D=1.1;isNaN(i.gapPeriod)||(D=i.gapPeriod);var f=i.periodValue;if(i.valueAxis.id==m){n.axes[m].graphs[P]={};var o={};o.index=b;var B=k;if(i.dataProvider&&(B=M),o.values=this.processValues(B,i,f),!i.connect||i.forceGap&&!isNaN(i.gapPeriod))if(u&&u[P]&&0<D&&n.time-p[P]>=x*D&&(u[P].gap=!0),i.forceGap){var V;for(V in D=0,o.values)D++;0<D&&(p[P]=n.time,u[P]=o)}else p[P]=n.time,u[P]=o;this.processFields(i,o,B),o.category=n.category,o.serialDataItem=n,o.graph=i,n.axes[m].graphs[P]=o}}}this.chartData[b]=n}}if(this.parseCount==c){for(e=0;e<S.length;e++)(i=S[e]).dataProvider&&this.parseGraphData(i);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(e,i,s){var S,c={},M=!1;"candlestick"!=i.type&&"ohlc"!=i.type||""===s||(M=!0);for(var U="value error open close low high".split(" "),G=0;G<U.length;G++){var X=U[G];"value"!=X&&"error"!=X&&M&&(s=X.charAt(0).toUpperCase()+X.slice(1));var F=e[i[X+"Field"]+s];null!==F&&(S=Number(F),isNaN(S)||(c[X]=S),"date"==i.valueAxis.type&&void 0!==F&&(S=v.getDate(F,i.chart.dataDateFormat),c[X]=S.getTime()))}return c},parseGraphData:function(e){var c,i=e.dataProvider,s=e.seriesIdField;for(s||(s=this.seriesIdField),s||(s=this.categoryField),c=0;c<i.length;c++){var S=i[c],M=this.lookupTable[String(S[s])],U=e.valueAxis.id;M&&((U=M.axes[U].graphs[e.id]).serialDataItem=M,U.values=this.processValues(S,e,e.periodValue),this.processFields(e,U,S))}},addValueAxis:function(e){e.chart=this,this.valueAxes.push(e),this.validateData()},removeValueAxesAndGraphs:function(){var i,e=this.valueAxes;for(i=e.length-1;-1<i;i--)this.removeValueAxis(e[i])},removeValueAxis:function(e){var s,i=this.graphs;for(s=i.length-1;0<=s;s--){var c=i[s];c&&c.valueAxis==e&&this.removeGraph(c)}for(s=(i=this.valueAxes).length-1;0<=s;s--)i[s]==e&&i.splice(s,1);this.validateData()},addGraph:function(e){this.graphs.push(e),this.chooseGraphColor(e,this.graphs.length-1),this.validateData()},removeGraph:function(e){var s,i=this.graphs;for(s=i.length-1;0<=s;s--)i[s]==e&&(i.splice(s,1),e.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var i,e=this.valueAxes;for(i=0;i<e.length;i++){var s=v.processObject(s=e[i],v.ValueAxis,this.theme);e[i]=s,s.chart=this,s.init(),this.listenTo(s,"axisIntZoomed",this.handleValueAxisZoom),s.id||(s.id="valueAxisAuto"+i+"_"+(new Date).getTime()),void 0===s.usePrefixes&&(s.usePrefixes=this.usePrefixes)}},processGuides:function(){var e=this.guides,i=this.categoryAxis;if(e)for(var s=0;s<e.length;s++){var c=e[s];(void 0!==c.category||void 0!==c.date)&&i&&i.addGuide(c),c.id||(c.id="guideAuto"+s+"_"+(new Date).getTime());var S=c.valueAxis;S?(v.isString(S)&&(S=this.getValueAxisById(S)),S?S.addGuide(c):this.valueAxes[0].addGuide(c)):isNaN(c.value)||this.valueAxes[0].addGuide(c)}},processGraphs:function(){var i,e=this.graphs;for(this.graphsById={},i=0;i<e.length;i++){var s=v.processObject(s=e[i],v.AmGraph,this.theme);e[i]=s,this.chooseGraphColor(s,i),s.chart=this,s.init(),v.isString(s.valueAxis)&&(s.valueAxis=this.getValueAxisById(s.valueAxis)),s.valueAxis||(s.valueAxis=this.valueAxes[0]),s.id||(s.id="graphAuto"+i+"_"+(new Date).getTime()),this.graphsById[s.id]=s}},formatString:function(e,i,s){var c=i.graph,S=c.valueAxis;if(S.duration&&S.maxInterval&&i.values.value){var M=S.numberFormatter;M||(M=chart.nf),S=v.formatDuration(i.values.value,S.duration,"",S.durationUnits,S.maxInterval,M),e=e.split("[[value]]").join(S)}return e=v.massReplace(e,{"[[title]]":c.title,"[[description]]":i.description}),e=s?v.fixNewLines(e):v.fixBrakes(e),v.cleanFromEmpty(e)},getBalloonColor:function(e,i,s){var c=e.lineColor,S=e.balloonColor;return s&&(S=c),"object"==typeof(s=e.fillColorsR)?c=s[0]:void 0!==s&&(c=s),i.isNegative&&(s=e.negativeLineColor,"object"==typeof(e=e.negativeFillColors)?s=e[0]:void 0!==e&&(s=e),void 0!==s&&(c=s)),void 0!==i.color&&(c=i.color),void 0!==i.lineColor&&(c=i.lineColor),void 0!==(i=i.fillColors)&&(c=i,v.ifArray(i)&&(c=i[0])),void 0===S&&(S=c),S},getGraphById:function(e){return v.getObjById(this.graphs,e)},getValueAxisById:function(e){return v.getObjById(this.valueAxes,e)},processFields:function(e,i,s){if(e.itemColors){var c=e.itemColors,S=i.index;i.color=S<c.length?c[S]:v.randomColor()}for(c="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),S=0;S<c.length;S++){var M=c[S],U=e[M+"Field"];U&&v.isDefined(U=s[U])&&(i[M]=U)}i.dataContext=s},chooseGraphColor:function(e,i){var s;e.lineColor?e.lineColorR=e.lineColor:(s=this.colors.length>i?this.colors[i]:e.lineColorR?e.lineColorR:v.randomColor(),e.lineColorR=s),e.fillColorsR=e.fillColors?e.fillColors:e.lineColorR,e.bulletBorderColorR=e.bulletBorderColor?e.bulletBorderColor:e.useLineColorForBulletBorder?e.lineColorR:e.bulletColor,e.bulletColorR=e.bulletColor?e.bulletColor:e.lineColorR,(s=this.patterns)&&(e.pattern=s[i])},handleLegendEvent:function(e){var i=e.type;if(e=e.dataItem){var s=e.hidden,c=e.showBalloon;switch(i){case"clickMarker":this.textClickEnabled&&(c?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":c?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":s||this.highlightGraph(e);break;case"rollOutItem":s||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var i=this.graphs;if(i){var s,c=.2;if(this.legend&&(c=this.legend.rollOverGraphAlpha),1!=c)for(s=0;s<i.length;s++){var S=i[s];S!=e&&S.changeOpacity(c)}}},unhighlightGraph:function(){var e,i;if(this.legend&&(e=this.legend.rollOverGraphAlpha),1!=e)for(e=this.graphs,i=0;i<e.length;i++)e[i].changeOpacity(1)},showGraph:function(e){e.switchable&&(e.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(e){e.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),e.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(e){e.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(e){e.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){this.animatable=[];var i,e=this.graphs;if(e)for(i=0;i<e.length;i++)e[i].animationPlayed=!1},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var v=window.AmCharts;v.TrendLine=v.Class({construct:function(e){this.cname="TrendLine",this.createEvents("click","rollOver","rollOut"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,v.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var c,S,M,U,i=e.chart,s=i.container,G=e.categoryAxis,X=e.initialDate,F=e.initialCategory,R=e.finalDate,E=e.finalCategory,a=e.valueAxis,h=e.valueAxisX,l=e.initialXValue,p=e.finalXValue,x=e.initialValue,T=e.finalValue,b=a.recalculateToPercents,I=i.dataDateFormat;G&&(X&&(X=v.getDate(X,I,"fff"),e.initialDate=X,c=G.dateToCoordinate(X)),F&&(c=G.categoryToCoordinate(F)),R&&(R=v.getDate(R,I,"fff"),e.finalDate=R,S=G.dateToCoordinate(R)),E&&(S=G.categoryToCoordinate(E))),h&&!b&&(isNaN(l)||(c=h.getCoordinate(l)),isNaN(p)||(S=h.getCoordinate(p))),a&&!b&&(isNaN(x)||(M=a.getCoordinate(x)),isNaN(T)||(U=a.getCoordinate(T))),isNaN(c)||isNaN(S)||isNaN(M)||isNaN(M)||(i.rotate?(G=[M,U],U=[c,S]):(G=[c,S],U=[M,U]),M=v.line(s,G,U,e.lineColor,e.lineAlpha,e.lineThickness,e.dashLength),c=G,S=U,0==(R=G[1]-G[0])&&(R=.01),0==(E=U[1]-U[0])&&(E=.01),X=R/Math.abs(R),F=E/Math.abs(E),E=90*Math.PI/180-Math.asin(R/(R*E/Math.abs(R*E)*Math.sqrt(Math.pow(R,2)+Math.pow(E,2)))),R=Math.abs(5*Math.cos(E)),E=Math.abs(5*Math.sin(E)),c.push(G[1]-X*E,G[0]-X*E),S.push(U[1]+F*R,U[0]+F*R),U=v.polygon(s,c,S,"#ffffff",.005,0),(s=s.set([U,M])).translate(i.marginLeftReal,i.marginTopReal),i.trendLinesSet.push(s),v.setCN(i,M,"trend-line"),v.setCN(i,M,"trend-line-"+e.id),e.line=M,e.set=s,(M=e.initialImage)&&((M=v.processObject(M,v.Image,e.theme)).chart=i,M.draw(),M.translate(c[0]+M.offsetX,S[0]+M.offsetY),s.push(M.set)),(M=e.finalImage)&&((M=v.processObject(M,v.Image,e.theme)).chart=i,M.draw(),M.translate(c[1]+M.offsetX,S[1]+M.offsetY),s.push(M.set)),s.mouseup(function(){e.handleLineClick()}).mouseover(function(){e.handleLineOver()}).mouseout(function(){e.handleLineOut()}),s.touchend&&s.touchend(function(){e.handleLineClick()}),s.clipRect(0,0,i.plotAreaWidth,i.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var e=this.rollOverColor;void 0!==e&&this.line.attr({stroke:e}),this.balloonText&&(clearTimeout(this.chart.hoverInt),e=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+e.x+e.width/2,this.y+e.y+e.height/2)),this.fire({type:"rollOver",trendLine:this,chart:this.chart})},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon(),this.fire({type:"rollOut",trendLine:this,chart:this.chart})},destroy:function(){v.remove(this.set)}})}(),function(){var v=window.AmCharts;v.Image=v.Class({construct:function(e){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,v.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.set&&e.set.remove();var s,c,i=e.chart.container;e.set=i.set(),e.url?(s=i.image(e.url,0,0,e.width,e.height),c=1):e.svgPath&&((s=i.path(e.svgPath)).setAttr("fill",e.color),s.setAttr("stroke",e.outlineColor),i=s.getBBox(),c=Math.min(e.width/i.width,e.height/i.height)),s&&(s.setAttr("opacity",e.opacity),e.set.rotate(e.rotation),s.translate(-e.width/2,-e.height/2,c),e.balloonText&&s.mouseover(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}).mouseout(function(){e.chart.hideBalloon()}).touchend(function(){e.chart.hideBalloon()}).touchstart(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}),e.set.push(s))},translate:function(e,i){this.set&&this.set.translate(e,i)}})}(),function(){var v=window.AmCharts;v.circle=function(e,i,s,c,S,M,U,G,X){return 0>=i&&(i=.001),(null==S||0===S)&&(S=.01),void 0===M&&(M="#000000"),void 0===U&&(U=0),c={fill:s,stroke:M,"fill-opacity":c,"stroke-width":S,"stroke-opacity":U},e=isNaN(X)?e.circle(0,0,i).attr(c):e.ellipse(0,0,i,X).attr(c),G&&e.gradient("radialGradient",[s,v.adjustLuminosity(s,-.6)]),e},v.text=function(e,i,s,c,S,M,U,G){return M||(M="middle"),"right"==M&&(M="end"),"left"==M&&(M="start"),isNaN(G)&&(G=1),void 0!==i&&(i=String(i),v.isIE&&!v.isModern&&(i=(i=i.replace("&amp;","&")).replace("&","&amp;"))),s={fill:s,"font-family":c,"font-size":S+"px",opacity:G},!0===U&&(s["font-weight"]="bold"),s["text-anchor"]=M,e.text(i,s)},v.polygon=function(e,i,s,c,S,M,U,G,X,F,R){isNaN(M)&&(M=.01),isNaN(G)&&(G=S);var E=c,a=!1;for("object"==typeof E&&1<E.length&&(a=!0,E=E[0]),void 0===U&&(U=E),S={fill:E,stroke:U,"fill-opacity":S,"stroke-width":M,"stroke-opacity":G},void 0!==R&&0<R&&(S["stroke-dasharray"]=R),R=v.dx,M=v.dy,e.handDrawn&&(i=(s=v.makeHD(i,s,e.handDrawScatter))[0],s=s[1]),U=Math.round,F&&(U=Number),G="M"+(U(i[0])+R)+","+(U(s[0])+M),E=1;E<i.length;E++)F&&(i[E]=v.roundTo(i[E],5),s[E]=v.roundTo(s[E],5)),G+=" L"+(U(i[E])+R)+","+(U(s[E])+M);return e=e.path(G+" Z").attr(S),a&&e.gradient("linearGradient",c,X),e},v.rect=function(e,i,s,c,S,M,U,G,X,F,R){if(isNaN(i)||isNaN(s))return e.set();isNaN(M)&&(M=0),void 0===X&&(X=0),void 0===F&&(F=270),isNaN(S)&&(S=0);var E=c,a=!1;"object"==typeof E&&(E=E[0],a=!0),void 0===U&&(U=E),void 0===G&&(G=S),i=Math.round(i),s=Math.round(s);var h=0,l=0;return 0>i&&(h=-(i=Math.abs(i))),0>s&&(l=-(s=Math.abs(s))),h+=v.dx,l+=v.dy,S={fill:E,stroke:U,"fill-opacity":S,"stroke-opacity":G},void 0!==R&&0<R&&(S["stroke-dasharray"]=R),e=e.rect(h,l,i,s,X,M).attr(S),a&&e.gradient("linearGradient",c,F),e},v.bullet=function(e,i,s,c,S,M,U,G,X,F,R,E,a){var h;switch("circle"==i&&(i="round"),i){case"round":h=v.circle(e,s/2,c,S,M,U,G);break;case"square":h=v.polygon(e,[-s/2,s/2,s/2,-s/2],[s/2,s/2,-s/2,-s/2],c,S,M,U,G,F-180,void 0,a);break;case"rectangle":h=v.polygon(e,[-s,s,s,-s],[s/2,s/2,-s/2,-s/2],c,S,M,U,G,F-180,void 0,a);break;case"diamond":h=v.polygon(e,[-s/2,0,s/2,0],[0,-s/2,0,s/2],c,S,M,U,G);break;case"triangleUp":h=v.triangle(e,s,0,c,S,M,U,G);break;case"triangleDown":h=v.triangle(e,s,180,c,S,M,U,G);break;case"triangleLeft":h=v.triangle(e,s,270,c,S,M,U,G);break;case"triangleRight":h=v.triangle(e,s,90,c,S,M,U,G);break;case"bubble":h=v.circle(e,s/2,c,S,M,U,G,!0);break;case"line":h=v.line(e,[-s/2,s/2],[0,0],c,S,M,U,G);break;case"yError":(h=e.set()).push(v.line(e,[0,0],[-s/2,s/2],c,S,M)),h.push(v.line(e,[-X,X],[-s/2,-s/2],c,S,M)),h.push(v.line(e,[-X,X],[s/2,s/2],c,S,M));break;case"xError":(h=e.set()).push(v.line(e,[-s/2,s/2],[0,0],c,S,M)),h.push(v.line(e,[-s/2,-s/2],[-X,X],c,S,M)),h.push(v.line(e,[s/2,s/2],[-X,X],c,S,M))}return h&&h.pattern(R,NaN,E),h},v.triangle=function(e,i,s,c,S,M,U,G){var X;return(void 0===M||0===M)&&(M=1),void 0===U&&(U="#000"),void 0===G&&(G=0),c={fill:c,stroke:U,"fill-opacity":S,"stroke-width":M,"stroke-opacity":G},i/=2,0===s&&(X=" M"+-i+","+i+" L0,"+-i+" L"+i+","+i+" Z"),180==s&&(X=" M"+-i+","+-i+" L0,"+i+" L"+i+","+-i+" Z"),90==s&&(X=" M"+-i+","+-i+" L"+i+",0 L"+-i+","+i+" Z"),270==s&&(X=" M"+-i+",0 L"+i+","+i+" L"+i+","+-i+" Z"),e.path(X).attr(c)},v.line=function(e,i,s,c,S,M,U,G,X,F,R){if(e.handDrawn&&!R)return v.handDrawnLine(e,i,s,c,S,M,U,G,X,F,R);for(M={fill:"none","stroke-width":M},void 0!==U&&0<U&&(M["stroke-dasharray"]=U),isNaN(S)||(M["stroke-opacity"]=S),c&&(M.stroke=c),c=Math.round,F&&(c=Number,i[0]=v.roundTo(i[0],5),s[0]=v.roundTo(s[0],5)),F=v.dx,S=v.dy,U="M"+(c(i[0])+F)+","+(c(s[0])+S),G=1;G<i.length;G++)i[G]=v.roundTo(i[G],5),s[G]=v.roundTo(s[G],5),U+=" L"+(c(i[G])+F)+","+(c(s[G])+S);return v.VML?e.path(U,void 0,!0).attr(M):(X&&(U+=" M0,0 L0,0"),e.path(U).attr(M))},v.makeHD=function(e,i,s){for(var c=[],S=[],M=1;M<e.length;M++)for(var U=Number(e[M-1]),G=Number(i[M-1]),F=Number(e[M]),R=Number(i[M]),X=Math.round(Math.sqrt(Math.pow(F-U,2)+Math.pow(R-G,2))/50)+1,E=(F=(F-U)/X,R=(R-G)/X,0);E<=X;E++){var a=G+E*R+Math.random()*s;c.push(U+E*F+Math.random()*s),S.push(a)}return[c,S]},v.handDrawnLine=function(e,i,s,c,S,M,U,G,X,F){var R,E=e.set();for(R=1;R<i.length;R++)for(var a=(h=v.makeHD(a=[i[R-1],i[R]],h=[s[R-1],s[R]],e.handDrawScatter))[0],h=h[1],l=1;l<a.length;l++)E.push(v.line(e,[a[l-1],a[l]],[h[l-1],h[l]],c,S,M+Math.random()*e.handDrawThickness-e.handDrawThickness/2,U,G,X,F,!0));return E},v.doNothing=function(e){return e},v.drop=function(e,i,s,c,S,M,U,G){var X=.005555555555555556*Math.PI,F=s-20,R=Math.sin(F*X)*i,E=Math.cos(F*X)*i,l=.8*i,p=-i/3,x=i/3;return 0===s&&(p=-p,x=0),180==s&&(x=0),90==s&&(p=0),270==s&&(p=0,x=-x),s={fill:c,stroke:U,"stroke-width":M,"stroke-opacity":G,"fill-opacity":S},i="M"+R+","+E+" A"+i+","+i+",0,1,1,"+Math.sin((F+40)*X)*i+","+Math.cos((F+40)*X)*i+" A"+l+","+l+",0,0,0,"+(Math.sin((F+20)*X)*i+x)+","+(Math.cos((F+20)*X)*i+p),e.path(i+=" A"+l+","+l+",0,0,0,"+R+","+E,void 0,void 0,"1000,1000").attr(s)},v.wedge=function(e,i,s,c,S,M,U,G,X,F,R,E,a,h){var l=Math.round;M=l(M),U=l(U),G=l(G);var p=l(U/M*G),x=v.VML;359.94<(T=359.5+M/100)&&(T=359.94),S>=T&&(S=T);var P,D,O=1/180*Math.PI,T=i+Math.sin(c*O)*G,b=s-Math.cos(c*O)*p,I=i+Math.sin(c*O)*M,u=s-Math.cos(c*O)*U,n=i+Math.sin((c+S)*O)*M,k=s-Math.cos((c+S)*O)*U,C=i+Math.sin((c+S)*O)*G,m=(O=s-Math.cos((c+S)*O)*p,{fill:v.adjustLuminosity(F.fill,-.2),"stroke-opacity":0,"fill-opacity":F["fill-opacity"]}),A=0;if(180<Math.abs(S)&&(A=1),c=e.set(),x&&(T=l(10*T),I=l(10*I),n=l(10*n),C=l(10*C),b=l(10*b),u=l(10*u),k=l(10*k),O=l(10*O),i=l(10*i),X=l(10*X),s=l(10*s),M*=10,U*=10,G*=10,p*=10,1>Math.abs(S)&&1>=Math.abs(n-I)&&1>=Math.abs(k-u)&&(P=!0)),S="",E&&(m["fill-opacity"]=0,m["stroke-opacity"]=F["stroke-opacity"]/2,m.stroke=F.stroke),0<X){D=" M"+T+","+(b+X)+" L"+I+","+(u+X),x?(P||(D+=" A"+(i-M)+","+(X+s-U)+","+(i+M)+","+(X+s+U)+","+I+","+(u+X)+","+n+","+(k+X)),D+=" L"+C+","+(O+X),0<G&&(P||(D+=" B"+(i-G)+","+(X+s-p)+","+(i+G)+","+(X+s+p)+","+C+","+(X+O)+","+T+","+(X+b)))):(D+=" A"+M+","+U+",0,"+A+",1,"+n+","+(k+X)+" L"+C+","+(O+X),0<G&&(D+=" A"+G+","+p+",0,"+A+",0,"+T+","+(b+X))),D+=" Z";var f=X;x&&(f/=10);for(var o=0;o<f;o+=10){var B=e.path(D,void 0,void 0,"1000,1000").attr(m);c.push(B),B.translate(0,-o)}D=e.path(" M"+T+","+b+" L"+T+","+(b+X)+" L"+I+","+(u+X)+" L"+I+","+u+" L"+T+","+b+" Z",void 0,void 0,"1000,1000").attr(m),X=e.path(" M"+n+","+k+" L"+n+","+(k+X)+" L"+C+","+(O+X)+" L"+C+","+O+" L"+n+","+k+" Z",void 0,void 0,"1000,1000").attr(m),c.push(D),c.push(X)}if(x?(P||(S=" A"+l(i-M)+","+l(s-U)+","+l(i+M)+","+l(s+U)+","+l(I)+","+l(u)+","+l(n)+","+l(k)),U=" M"+l(T)+","+l(b)+" L"+l(I)+","+l(u)+S+" L"+l(C)+","+l(O)):U=" M"+T+","+b+" L"+I+","+u+" A"+M+","+U+",0,"+A+",1,"+n+","+k+" L"+C+","+O,0<G&&(x?P||(U+=" B"+(i-G)+","+(s-p)+","+(i+G)+","+(s+p)+","+C+","+O+","+T+","+b):U+=" A"+G+","+p+",0,"+A+",0,"+T+","+b),e.handDrawn&&(G=v.line(e,[T,I],[b,u],F.stroke,F.thickness*Math.random()*e.handDrawThickness,F["stroke-opacity"]),c.push(G)),e=e.path(U+" Z",void 0,void 0,"1000,1000").attr(F),R){for(G=[],p=0;p<R.length;p++)G.push(v.adjustLuminosity(F.fill,R[p]));"radial"!=h||v.isModern||(G=[]),0<G.length&&e.gradient(h+"Gradient",G)}return v.isModern&&"radial"==h&&e.grad&&(e.grad.setAttribute("gradientUnits","userSpaceOnUse"),e.grad.setAttribute("r",M),e.grad.setAttribute("cx",i),e.grad.setAttribute("cy",s)),e.pattern(E,NaN,a),c.wedge=e,c.push(e),c},v.rgb2hex=function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},v.adjustLuminosity=function(e,i){e&&-1!=e.indexOf("rgb")&&(e=v.rgb2hex(e)),6>(e=String(e).replace(/[^0-9a-f]/gi,"")).length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])),i=i||0;var c,S,s="#";for(S=0;3>S;S++)c=parseInt(e.substr(2*S,2),16),s+=("00"+(c=Math.round(Math.min(Math.max(0,c+c*i),255)).toString(16))).substr(c.length);return s}}(),function(){var v=window.AmCharts;v.Bezier=v.Class({construct:function(e,i,s,c,S,M,U,G,X,F,R){var l,p,E=e.chart,a=v.bezierX,h=v.bezierY;for(isNaN(E.bezierX)||(a=E.bezierX),isNaN(E.bezierY)||(h=E.bezierY),isNaN(a)&&(E.rotate?(a=20,h=4):(h=20,a=4)),"object"==typeof U&&1<U.length&&(p=!0,l=U,U=U[0]),"object"==typeof G&&(G=G[0]),0===G&&(U="none"),M={fill:U,"fill-opacity":G,"stroke-width":M},void 0!==X&&0<X&&(M["stroke-dasharray"]=X),isNaN(S)||(M["stroke-opacity"]=S),c&&(M.stroke=c),c="M"+Math.round(i[0])+","+Math.round(s[0])+" ",S=[],X=0;X<i.length;X++)isNaN(i[X])||isNaN(s[X])?(c+=this.drawSegment(S,a,h),X<i.length-1&&(c+="L"+i[X+1]+","+s[X+1]+" "),S=[]):S.push({x:Number(i[X]),y:Number(s[X])});c+=this.drawSegment(S,a,h),F&&(c+=F),this.path=e.path(c).attr(M),this.node=this.path.node,p&&this.path.gradient("linearGradient",l,R)},drawSegment:function(e,i,s){var c="";if(2<e.length)for(var S=0;S<e.length-1;S++){var M=[],U=e[S-1],G=e[S],X=e[S+1],F=e[S+2];0===S?(M.push({x:G.x,y:G.y}),M.push({x:G.x,y:G.y}),M.push({x:X.x,y:X.y}),M.push({x:F.x,y:F.y})):S>=e.length-2?(M.push({x:U.x,y:U.y}),M.push({x:G.x,y:G.y}),M.push({x:X.x,y:X.y}),M.push({x:X.x,y:X.y})):(M.push({x:U.x,y:U.y}),M.push({x:G.x,y:G.y}),M.push({x:X.x,y:X.y}),M.push({x:F.x,y:F.y})),U=[],G=Math.round,U.push({x:G(M[1].x),y:G(M[1].y)}),U.push({x:G((i*M[1].x-M[0].x+M[2].x)/i),y:G((s*M[1].y-M[0].y+M[2].y)/s)}),U.push({x:G((M[1].x+i*M[2].x-M[3].x)/i),y:G((M[1].y+s*M[2].y-M[3].y)/s)}),U.push({x:G(M[2].x),y:G(M[2].y)}),c+="C"+U[1].x+","+U[1].y+","+U[2].x+","+U[2].y+","+U[3].x+","+U[3].y+" "}else 1<e.length&&(c+="L"+e[1].x+","+e[1].y);return c}})}(),function(){var v=window.AmCharts;v.AmDraw=v.Class({construct:function(e,i,s,c){v.SVG_NS="http://www.w3.org/2000/svg",v.SVG_XLINK="http://www.w3.org/1999/xlink",v.hasSVG=!!document.createElementNS&&!!document.createElementNS(v.SVG_NS,"svg").createSVGRect,1>i&&(i=10),1>s&&(s=10),this.div=e,this.width=i,this.height=s,this.rBin=document.createElement("div"),v.hasSVG?(v.SVG=!0,i=this.createSvgElement("svg"),e.appendChild(i),this.container=i,this.addDefs(c),this.R=new v.SVGRenderer(this)):v.isIE&&v.VMLRenderer&&(v.VML=!0,v.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?((i=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),v.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new v.VMLRenderer(this,c),this.R.disableSelection(e))},createSvgElement:function(e){return document.createElementNS(v.SVG_NS,e)},circle:function(e,i,s,c){var S=new v.AmDObject("circle",this);return S.attr({r:s,cx:e,cy:i}),this.addToContainer(S.node,c),S},ellipse:function(e,i,s,c,S){var M=new v.AmDObject("ellipse",this);return M.attr({rx:s,ry:c,cx:e,cy:i}),this.addToContainer(M.node,S),M},setSize:function(e,i){0<e&&0<i&&(this.container.style.width=e+"px",this.container.style.height=i+"px")},rect:function(e,i,s,c,S,M,U){var G=new v.AmDObject("rect",this);return v.VML&&(S=Math.round(100*S/Math.min(s,c)),s+=2*M,c+=2*M,G.bw=M,G.node.style.marginLeft=-M,G.node.style.marginTop=-M),1>s&&(s=1),1>c&&(c=1),G.attr({x:e,y:i,width:s,height:c,rx:S,ry:S,"stroke-width":M}),this.addToContainer(G.node,U),G},image:function(e,i,s,c,S,M){var U=new v.AmDObject("image",this);return U.attr({x:i,y:s,width:c,height:S}),this.R.path(U,e),this.addToContainer(U.node,M),U},addToContainer:function(e,i){i||(i=this.container),i.appendChild(e)},text:function(e,i,s){return this.R.text(e,i,s)},path:function(e,i,s,c){var S=new v.AmDObject("path",this);return c||(c="100,100"),S.attr({cs:c}),S.attr(s?{dd:e}:{d:e}),this.addToContainer(S.node,i),S},set:function(e){return this.R.set(e)},remove:function(e){if(e){var i=this.rBin;i.appendChild(e),i.innerHTML=""}},renderFix:function(){var e=this.container,i=e.style;i.top="0px",i.left="0px";try{var s=e.getBoundingClientRect(),c=s.left-Math.round(s.left),S=s.top-Math.round(s.top);c&&(i.left=c+"px"),S&&(i.top=S+"px")}catch{}},update:function(){this.R.update()},addDefs:function(e){if(v.hasSVG){var i=this.createSvgElement("desc"),s=this.container;if(s.setAttribute("version","1.1"),s.style.position="absolute",this.setSize(this.width,this.height),e.accessibleTitle){var c=this.createSvgElement("text");s.appendChild(c),c.innerHTML=e.accessibleTitle,c.style.opacity=0}v.rtl&&(s.setAttribute("direction","rtl"),s.style.left="auto",s.style.right="0px"),e&&(e.addCodeCredits&&i.appendChild(document.createTextNode("JavaScript chart by amCharts "+e.version)),e.accessibleDescription&&(i.innerHTML="",i.appendChild(document.createTextNode(e.accessibleDescription))),s.appendChild(i),e.defs&&(i=this.createSvgElement("defs"),s.appendChild(i),v.parseDefs(e.defs,i),this.defs=i))}}})}(),function(){var v=window.AmCharts;v.AmDObject=v.Class({construct:function(e,i){this.D=i,this.R=i.R,this.node=this.R.create(this,e),this.y=this.x=0,this.scale=1},attr:function(e){return this.R.attr(this,e),this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,i){return this.R.setAttr(this,e,i),this},clipRect:function(e,i,s,c){this.R.clipRect(this,e,i,s,c)},translate:function(e,i,s,c){c||(e=Math.round(e),i=Math.round(i)),this.R.move(this,e,i,s),this.x=e,this.y=i,this.scale=s,this.angle&&this.rotate(this.angle)},rotate:function(e,i){this.R.rotate(this,e,i),this.angle=e},animate:function(e,i,s){for(var c in e)if(e.hasOwnProperty(c)){var S=c,M=e[c];s=v.getEffect(s),this.R.animate(this,S,M,i,s)}},push:function(e){if(e){var i=this.node;i.appendChild(e.node);var s=e.clipPath;s&&i.appendChild(s),(e=e.grad)&&i.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var i=e.parentNode;i&&i.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var i=e.parentNode;if(i){var s=i.firstChild;s&&i.insertBefore(e,s)}}},mouseover:function(e){return this.R.addListener(this,"mouseover",e),this},mouseout:function(e){return this.R.addListener(this,"mouseout",e),this},click:function(e){return this.R.addListener(this,"click",e),this},dblclick:function(e){return this.R.addListener(this,"dblclick",e),this},mousedown:function(e){return this.R.addListener(this,"mousedown",e),this},mouseup:function(e){return this.R.addListener(this,"mouseup",e),this},touchmove:function(e){return this.R.addListener(this,"touchmove",e),this},touchstart:function(e){return this.R.addListener(this,"touchstart",e),this},touchend:function(e){return this.R.addListener(this,"touchend",e),this},keyup:function(e){return this.R.addListener(this,"keyup",e),this},focus:function(e){return this.R.addListener(this,"focus",e),this},blur:function(e){return this.R.addListener(this,"blur",e),this},contextmenu:function(e){return this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e),this},stop:function(){v.removeFromArray(this.R.animations,this.an_translate),v.removeFromArray(this.R.animations,this.an_y),v.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(e,i,s){this.R.gradient(this,e,i,s)},pattern:function(e,i,s){e&&this.R.pattern(this,e,i,s)}})}(),function(){var v=window.AmCharts;v.VMLRenderer=v.Class({construct:function(e,i){this.chart=i,this.D=e,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,i){var s;if("group"==i)s=document.createElement("div"),e.type="div";else if("text"==i)s=document.createElement("div"),e.type="text";else if("image"==i)s=document.createElement("img"),e.type="image";else{e.type="shape",e.shapeType=this.cNames[i],s=document.createElement("amvml:"+this.cNames[i]);var c=document.createElement("amvml:stroke");s.appendChild(c),e.stroke=c;var S=document.createElement("amvml:fill");s.appendChild(S),e.fill=S,S.className="amvml",c.className="amvml",s.className="amvml"}return s.style.position="absolute",s.style.top=0,s.style.left=0,s},path:function(e,i){e.node.setAttribute("src",i)},setAttr:function(e,i,s){if(void 0!==s){var c;8===document.documentMode&&(c=!0);var S=e.node,M=e.type,U=S.style;"r"==i&&(U.width=2*s,U.height=2*s),"oval"==e.shapeType&&("rx"==i&&(U.width=2*s),"ry"==i&&(U.height=2*s)),"roundrect"==e.shapeType&&("width"!=i&&"height"!=i||--s),"cursor"==i&&(U.cursor=s),"cx"==i&&(U.left=s-v.removePx(U.width)/2),"cy"==i&&(U.top=s-v.removePx(U.height)/2);var G=this.styleMap[i];if("width"==G&&0>s&&(s=0),void 0!==G&&(U[G]=s),"text"==M&&("text-anchor"==i&&(e.anchor=s,G=S.clientWidth,"end"==s&&(U.marginLeft=-G+"px"),"middle"==s&&(U.marginLeft=-G/2+"px",U.textAlign="center"),"start"==s&&(U.marginLeft="0px")),"fill"==i&&(U.color=s),"font-weight"==i&&(U.fontWeight=s)),U=e.children)for(G=0;G<U.length;G++)U[G].setAttr(i,s);"shape"==M&&("cs"==i&&(S.style.width="100px",S.style.height="100px",S.setAttribute("coordsize",s)),"d"==i&&S.setAttribute("path",this.svgPathToVml(s)),"dd"==i&&S.setAttribute("path",s),M=e.stroke,e=e.fill,"stroke"==i&&(c?M.color=s:M.setAttribute("color",s)),"stroke-width"==i&&(c?M.weight=s:M.setAttribute("weight",s)),"stroke-opacity"==i&&(c?M.opacity=s:M.setAttribute("opacity",s)),"stroke-dasharray"==i&&(U="solid",0<s&&3>s&&(U="dot"),3<=s&&6>=s&&(U="dash"),6<s&&(U="longdash"),c?M.dashstyle=U:M.setAttribute("dashstyle",U)),("fill-opacity"==i||"opacity"==i)&&(0===s?c?e.on=!1:e.setAttribute("on",!1):c?e.opacity=s:e.setAttribute("opacity",s)),"fill"==i&&(c?e.color=s:e.setAttribute("color",s)),"rx"==i&&(c?S.arcSize=s+"%":S.setAttribute("arcsize",s+"%")))}},attr:function(e,i){for(var s in i)i.hasOwnProperty(s)&&this.setAttr(e,s,i[s])},text:function(e,i,s){var c=new v.AmDObject("text",this.D),S=c.node;return S.style.whiteSpace="pre",S.innerHTML=e,this.D.addToContainer(S,s),this.attr(c,i),c},getBBox:function(e){return this.getBox(e.node)},getBox:function(e){var M,i=e.offsetLeft,s=e.offsetTop,c=e.offsetWidth,S=e.offsetHeight;if(e.hasChildNodes()){var U,G,X;for(X=0;X<e.childNodes.length;X++){var F=(M=this.getBox(e.childNodes[X])).x;isNaN(F)||(isNaN(U)||F<U)&&(U=F);var R=M.y;isNaN(R)||(isNaN(G)||R<G)&&(G=R),F=M.width+F,isNaN(F)||(c=Math.max(c,F)),M=M.height+R,isNaN(M)||(S=Math.max(S,M))}0>U&&(i+=U),0>G&&(s+=G)}return{x:i,y:s,width:c,height:S}},setText:function(e,i){var s=e.node;s&&(s.innerHTML=i),this.setAttr(e,"text-anchor",e.anchor)},addListener:function(e,i,s){e.node["on"+i]=s},move:function(e,i,s){var c=e.node,S=c.style;"text"==e.type&&(s-=v.removePx(S.fontSize)/2-1),"oval"==e.shapeType&&(i-=v.removePx(S.width)/2,s-=v.removePx(S.height)/2),e=e.bw,isNaN(e)||(i-=e,s-=e),isNaN(i)||isNaN(s)||(c.style.left=i+"px",c.style.top=s+"px")},svgPathToVml:function(e){var i=e.split(" ");e="";var s,S,c=Math.round;for(S=0;S<i.length;S++){var U,M=(U=i[S]).substring(0,1),G=(U=U.substring(1)).split(","),X=c(G[0])+","+c(G[1]);if("M"==M&&(e+=" m "+X),"L"==M&&(e+=" l "+X),"Z"==M&&(e+=" x e"),"Q"==M){var F=s.length,R=s[F-1],E=G[0],a=G[1],h=(X=G[2],G[3]);e+=" c "+(s=c(s[F-2]/3+2/3*E))+","+(R=c(R/3+2/3*a))+","+(E=c(2/3*E+X/3))+","+(a=c(2/3*a+h/3))+","+X+","+h}"C"==M&&(e+=" c "+G[0]+","+G[1]+","+G[2]+","+G[3]+","+G[4]+","+G[5]),"A"==M&&(e+=" wa "+U),"B"==M&&(e+=" at "+U),s=G}return e},animate:function(e,i,s,c,S){var M=e.node,U=this.chart;if(e.animationFinished=!1,"translate"==i){i=s.split(","),s=i[1];var G=M.offsetTop;U.animate(e,"left",M.offsetLeft,i[0],c,S,"px"),U.animate(e,"top",G,s,c,S,"px")}},clipRect:function(e,i,s,c,S){e=e.node,0===i&&0===s?(e.style.width=c+"px",e.style.height=S+"px",e.style.overflow="hidden"):e.style.clip="rect("+s+"px "+(i+c)+"px "+(s+S)+"px "+i+"px)"},rotate:function(e,i,s){if(0!==Number(i)){e=(X=e.node).style,s||(s=this.getBGColor(X.parentNode)),e.backgroundColor=s,e.paddingLeft=1,s=i*Math.PI/180;var c=Math.cos(s),S=Math.sin(s),M=v.removePx(e.left),U=v.removePx(e.top),G=X.offsetWidth,X=X.offsetHeight;i/=Math.abs(i),e.left=M+G/2-G/2*Math.cos(s)-i*X/2*Math.sin(s)+3,e.top=U-i*G/2*Math.sin(s)+i*X/2*Math.sin(s),e.cssText=e.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+c+"', M12='"+-S+"', M21='"+S+"', M22='"+c+"', sizingmethod='auto expand');"}},getBGColor:function(e){var i="#FFFFFF";if(e.style){var s=e.style.backgroundColor;""!==s?i=s:e.parentNode&&(i=this.getBGColor(e.parentNode))}return i},set:function(e){var s,i=new v.AmDObject("group",this.D);if(this.D.container.appendChild(i.node),e)for(s=0;s<e.length;s++)i.push(e[s]);return i},gradient:function(e,i,s,c){var M,S="";for("radialGradient"==i&&(i="gradientradial",s.reverse()),"linearGradient"==i&&(i="gradient"),M=0;M<s.length;M++)S+=Math.round(100*M/(s.length-1))+"% "+s[M],M<s.length-1&&(S+=",");e=e.fill,90==c?c=0:270==c?c=180:180==c?c=90:0===c&&(c=270),8===document.documentMode?(e.type=i,e.angle=c):(e.setAttribute("type",i),e.setAttribute("angle",c)),S&&(e.colors.value=S)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),this.D.remove(e.node)},disableSelection:function(e){e.onselectstart=function(){return!1},e.style.cursor="default"},pattern:function(e,i,s,c){s=e.node,e=e.fill;var S="none";i.color&&(S=i.color),s.fillColor=S,v.isAbsolute(i=i.url)||(i=c+i),8===document.documentMode?(e.type="tile",e.src=i):(e.setAttribute("type","tile"),e.setAttribute("src",i))},update:function(){}})}(),function(){var v=window.AmCharts;v.SVGRenderer=v.Class({construct:function(e){this.D=e,this.animations=[]},create:function(e,i){return document.createElementNS(v.SVG_NS,i)},attr:function(e,i){for(var s in i)i.hasOwnProperty(s)&&this.setAttr(e,s,i[s])},setAttr:function(e,i,s){void 0!==s&&e.node.setAttribute(i,s)},animate:function(e,i,s,c,S){e.animationFinished=!1;var M=e.node;e["an_"+i]&&v.removeFromArray(this.animations,e["an_"+i]),"translate"==i?0===(M=(M=(M=(M=M.getAttribute("transform"))?String(M).substring(10,M.length-1):"0,0").split(", ").join(" ")).split(" ").join(","))&&(M="0,0"):M=Number(M.getAttribute(i)),this.animations.push(s={obj:e,frame:0,attribute:i,from:M,to:s,time:c,effect:S}),e["an_"+i]=s},update:function(){var e,i=this.animations;for(e=i.length-1;0<=e;e--){var G,X,F,s=i[e],c=s.time*v.updateRate,S=s.frame+1,M=s.obj,U=s.attribute;if(S<=c){if(s.frame++,"translate"==U){if(G=s.from.split(","),U=Number(G[0]),G=Number(G[1]),isNaN(G)&&(G=0),X=s.to.split(","),F=Number(X[0]),X=Number(X[1]),F=F-U==0?F:Math.round(v[s.effect](0,S,U,F-U,c)),s=X-G==0?X:Math.round(v[s.effect](0,S,G,X-G,c)),U="transform",isNaN(F)||isNaN(s))continue;s="translate("+F+","+s+")"}else X=Number(s.from),G=Number(s.to),s=v[s.effect](0,S,X,F=G-X,c),isNaN(s)&&(s=G),0===F&&this.animations.splice(e,1);this.setAttr(M,U,s)}else"translate"==U?(X=s.to.split(","),F=Number(X[0]),X=Number(X[1]),M.translate(F,X)):(G=Number(s.to),this.setAttr(M,U,G)),M.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch{}return{width:0,height:0,x:0,y:0}},path:function(e,i){e.node.setAttributeNS(v.SVG_XLINK,"xlink:href",i)},clipRect:function(e,i,s,c,S){var M=e.node,U=e.clipPath;U&&this.D.remove(U);var G=M.parentNode;G&&(M=document.createElementNS(v.SVG_NS,"clipPath"),U=v.getUniqueId(),M.setAttribute("id",U),this.D.rect(i,s,c,S,0,0,M),G.appendChild(M),i="#",v.baseHref&&!v.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(e,"clip-path","url("+i+U+")"),this.clipPathC++,e.clipPath=M)},text:function(e,i,s){var c=new v.AmDObject("text",this.D);e=String(e).split("\n");var M,S=v.removePx(i["font-size"]);for(M=0;M<e.length;M++){var U=this.create(null,"tspan");U.appendChild(document.createTextNode(e[M])),U.setAttribute("y",(S+2)*M+Math.round(S/2)),U.setAttribute("x",0),c.node.appendChild(U)}return c.node.setAttribute("y",Math.round(S/2)),this.attr(c,i),this.D.addToContainer(c.node,s),c},setText:function(e,i){var s=e.node;s&&(s.removeChild(s.firstChild),s.appendChild(document.createTextNode(i)))},move:function(e,i,s,c){isNaN(i)&&(i=0),isNaN(s)&&(s=0),i="translate("+i+","+s+")",c&&(i=i+" scale("+c+")"),this.setAttr(e,"transform",i)},rotate:function(e,i){var s=e.node.getAttribute("transform"),c="rotate("+i+")";s&&(c=s+" "+c),this.setAttr(e,"transform",c)},set:function(e){var s,i=new v.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),e)for(s=0;s<e.length;s++)i.push(e[s]);return i},addListener:function(e,i,s){e.node["on"+i]=s},gradient:function(e,i,s,c){var S=e.node,M=e.grad;if(M&&this.D.remove(M),i=document.createElementNS(v.SVG_NS,i),M=v.getUniqueId(),i.setAttribute("id",M),!isNaN(c)){var U=0,G=0,X=0,F=0;90==c?X=100:270==c?F=100:180==c?U=100:0===c&&(G=100),i.setAttribute("x1",U+"%"),i.setAttribute("x2",G+"%"),i.setAttribute("y1",X+"%"),i.setAttribute("y2",F+"%")}for(c=0;c<s.length;c++)U=document.createElementNS(v.SVG_NS,"stop"),G=100*c/(s.length-1),0===c&&(G=0),U.setAttribute("offset",G+"%"),U.setAttribute("stop-color",s[c]),i.appendChild(U);S.parentNode.appendChild(i),s="#",v.baseHref&&!v.isIE&&(s=this.removeTarget(window.location.href)+s),S.setAttribute("fill","url("+s+M+")"),e.grad=i},removeTarget:function(e){return e.split("#")[0]},pattern:function(e,i,s,c){var S=e.node;isNaN(s)&&(s=1),(M=e.patternNode)&&this.D.remove(M);var M=document.createElementNS(v.SVG_NS,"pattern"),U=v.getUniqueId(),G=i;i.url&&(G=i.url),v.isAbsolute(G)||-1!=G.indexOf("data:image")||(G=c+G),c=Number(i.width),isNaN(c)&&(c=4);var X=Number(i.height);isNaN(X)&&(X=4),c/=s,X/=s,s=i.x,isNaN(s)&&(s=0);var F=-Math.random()*Number(i.randomX);isNaN(F)||(s=F),F=i.y,isNaN(F)&&(F=0);var R=-Math.random()*Number(i.randomY);isNaN(R)||(F=R),M.setAttribute("id",U),M.setAttribute("width",c),M.setAttribute("height",X),M.setAttribute("patternUnits","userSpaceOnUse"),M.setAttribute("xlink:href",G),i.color&&((R=document.createElementNS(v.SVG_NS,"rect")).setAttributeNS(null,"height",c),R.setAttributeNS(null,"width",X),R.setAttributeNS(null,"fill",i.color),M.appendChild(R)),this.D.image(G,0,0,c,X,M).translate(s,F),G="#",v.baseHref&&!v.isIE&&(G=this.removeTarget(window.location.href)+G),S.setAttribute("fill","url("+G+U+")"),e.patternNode=M,S.parentNode.appendChild(M)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),e.grad&&this.D.remove(e.grad),e.patternNode&&this.D.remove(e.patternNode),this.D.remove(e.node)}})}(),function(){var v=window.AmCharts;v.AmLegend=v.Class({construct:function(e){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,v.applyTheme(this,e,this.cname)},setData:function(e){this.legendData=e,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[],this.enabled&&(v.ifArray(this.legendData)||v.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var e=this.chart,i=this.position,s=this.width,c=e.divRealWidth,S=e.divRealHeight,M=this.div,U=this.legendData;if(this.data&&(U=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=e.fontSize),this.maxColumnsReal=this.maxColumns,"right"==i||"left"==i)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=e.marginRight,this.marginLeft=e.marginLeft;var G=e.autoMarginOffset;"bottom"==i?(this.marginBottom=G,this.marginTop=0):(this.marginTop=G,this.marginBottom=0)}if(s=void 0!==s?v.toCoordinate(s,c):"right"!=i&&"left"!=i?e.realWidth:0<this.ieW?this.ieW:e.realWidth,"outside"==i?(s=M.offsetWidth,S=M.offsetHeight,M.clientHeight&&(s=M.clientWidth,S=M.clientHeight)):(isNaN(s)||(M.style.width=s+"px"),M.className="amChartsLegend "+e.classNamePrefix+"-legend-div"),this.divWidth=s,(i=this.container)?(i.container.innerHTML="",M.appendChild(i.container),i.width=s,i.height=S,i.setSize(s,S),i.addDefs(e)):i=new v.AmDraw(M,s,S,e),this.container=i,this.lx=0,this.ly=8,(S=this.markerSize)>this.fontSize&&(this.ly=S/2-1),0<S&&(this.lx+=S+this.markerLabelGap),this.titleWidth=0,(S=this.title)&&(S=v.text(this.container,S,this.color,e.fontFamily,this.fontSize,"start",!0),v.setCN(e,S,"legend-title"),S.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),e=S.getBBox(),this.titleWidth=e.width+15,this.titleHeight=e.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(e=0;e<U.length;e++)this.createEntry(U[e]);for(e=this.index=0;e<U.length;e++)this.createValue(U[e])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var e=this.position,i=this.marginLeft+this.titleWidth,s=this.marginRight,c=this.marginTop,S=this.marginBottom,M=this.horizontalGap,U=this.div,G=this.divWidth,X=this.maxColumnsReal,F=this.verticalGap,R=this.spacing,E=G-s-i,a=0,h=0,l=this.container;this.set&&this.set.remove();var p=l.set();this.set=p;var x=l.set();p.push(x);var b,I,T=this.entries;for(I=0;I<T.length;I++)(u=(b=T[I].getBBox()).width)>a&&(a=u),(b=b.height)>h&&(h=b);var u=h=0,n=M,k=0,C=0;for(I=0;I<T.length;I++){var m,O=T[I];this.reversedOrder&&(O=T[T.length-I-1]),b=O.getBBox(),this.equalWidths?m=u*(a+R+this.markerLabelGap):(m=n,n=n+b.width+M+R),m+b.width>E&&0<I&&0!==u&&(h++,n=(m=u=0)+b.width+M+R,k=k+C+F,C=0),b.height>C&&(C=b.height),O.translate(m,k),u++,!isNaN(X)&&u>=X&&(u=0,h++,k=k+C+F,n=M,C=0),x.push(O)}X=(b=x.getBBox()).height+2*F-1,"left"==e||"right"==e?(U.style.width=(G=(R=b.width+2*M)+i+s)+"px",this.ieW=G):R=G-i-s-1,s=v.polygon(this.container,[0,R,R,0],[0,0,X,X],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),v.setCN(this.chart,s,"legend-bg"),p.push(s),p.translate(i,c),s.toBack(),i=M,("top"==e||"bottom"==e||"absolute"==e||"outside"==e)&&("center"==this.align?i=M+(R-b.width)/2:"right"==this.align&&(i=M+R-b.width)),x.translate(i,F+1),this.titleHeight>X&&(X=this.titleHeight),0>(c=X+c+S+1)&&(c=0),"absolute"!=e&&"outside"!=e&&c>this.chart.divRealHeight&&(U.style.top="0px"),U.style.height=Math.round(c)+"px",l.setSize(this.divWidth,c)},createEntry:function(e){if(!1!==e.visibleInLegend&&!e.hideFromLegend){var i=this,s=i.chart,c=i.useGraphSettings,S=e.markerType;S&&(c=!1),e.legendEntryWidth=i.markerSize,S||(S=i.markerType);var G,M=e.color,U=e.alpha;e.legendKeyColor&&(M=e.legendKeyColor()),e.legendKeyAlpha&&(U=e.legendKeyAlpha()),!0===e.hidden&&(G=M=i.markerDisabledColor);var F,X=e.pattern,R=e.customMarker;R||(R=i.customMarker);var T,b,E=i.container,a=i.markerSize,h=0,l=0,p=a/2;if(c)c=e.type,i.switchType=void 0,"line"==c||"step"==c||"smoothedLine"==c||"ohlc"==c?(F=E.set(),e.hidden||(M=e.lineColorR,G=e.bulletBorderColorR),h=v.line(E,[0,2*a],[a/2,a/2],M,e.lineAlpha,e.lineThickness,e.dashLength),v.setCN(s,h,"graph-stroke"),F.push(h),e.bullet&&(e.hidden||(M=e.bulletColorR),h=v.bullet(E,e.bullet,e.bulletSize,M,e.bulletAlpha,e.bulletBorderThickness,G,e.bulletBorderAlpha))&&(v.setCN(s,h,"graph-bullet"),h.translate(a+1,a/2),F.push(h)),p=0,h=a,l=a/3):(e.getGradRotation&&0===(F=e.getGradRotation())&&(F=180),h=e.fillColorsR,!0===e.hidden&&(h=M),(F=i.createMarker("rectangle",h,e.fillAlphas,e.lineThickness,M,e.lineAlpha,F,X,e.dashLength))&&F.translate(p=a,a/2),h=a),v.setCN(s,F,"graph-"+c),v.setCN(s,F,"graph-"+e.id);else if(R)F=E.image(R,0,0,a,a);else{var x;isNaN(i.gradientRotation)||(x=180+i.gradientRotation),(F=i.createMarker(S,M,U,void 0,void 0,void 0,x,X))&&F.translate(a/2,a/2)}v.setCN(s,F,"legend-marker"),i.addListeners(F,e),E=E.set([F]),i.switchable&&e.switchable&&E.setAttr("cursor","pointer"),void 0!==e.id&&v.setCN(s,E,"legend-item-"+e.id),v.setCN(s,E,e.className,!0),(G=i.switchType)&&"none"!=G&&0<a&&("x"==G?(T=i.createX()).translate(a/2,a/2):T=i.createV(),T.dItem=e,!0!==e.hidden?"x"==G?T.hide():T.show():"x"!=G&&T.hide(),i.switchable||T.hide(),i.addListeners(T,e),e.legendSwitch=T,E.push(T),v.setCN(s,T,"legend-switch")),G=i.color,e.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(G=i.selectedColor),i.useMarkerColorForLabels&&!X&&(G=M),!0===e.hidden&&(G=i.markerDisabledColor),M=v.massReplace(i.labelText,{"[[title]]":e.title}),void 0!==i.tabIndex&&(E.setAttr("tabindex",i.tabIndex),E.setAttr("role","menuitem"),E.keyup(function(I){13==I.keyCode&&i.clickMarker(e,I)})),s.accessible&&i.accessibleLabel&&(X=v.massReplace(i.accessibleLabel,{"[[title]]":e.title}),s.makeAccessible(E,X)),X=i.fontSize,F&&(a<=X&&(F.translate(p,a=a/2+i.ly-X/2+(X+2-a)/2-l),T&&T.translate(T.x,a)),e.legendEntryWidth=F.getBBox().width),M&&(M=v.fixBrakes(M),e.legendTextReal=M,b=i.labelWidth,b=isNaN(b)?v.text(i.container,M,G,s.fontFamily,X,"start"):v.wrappedText(i.container,M,G,s.fontFamily,X,"start",!1,b,0),v.setCN(s,b,"legend-label"),b.translate(i.lx+h,i.ly),E.push(b),i.labelDx=h,s=b.getBBox().width,i.maxLabelWidth<s&&(i.maxLabelWidth=s)),i.entries[i.index]=E,e.legendEntry=i.entries[i.index],e.legendMarker=F,e.legendLabel=b,i.index++}},addListeners:function(e,i){var s=this;e&&e.mouseover(function(c){s.rollOverMarker(i,c)}).mouseout(function(c){s.rollOutMarker(i,c)}).click(function(c){s.clickMarker(i,c)})},rollOverMarker:function(e,i){this.switchable&&this.dispatch("rollOverMarker",e,i),this.dispatch("rollOverItem",e,i)},rollOutMarker:function(e,i){this.switchable&&this.dispatch("rollOutMarker",e,i),this.dispatch("rollOutItem",e,i)},clickMarker:function(e,i){this.switchable&&this.dispatch(!0===e.hidden?"showItem":"hideItem",e,i),this.dispatch("clickMarker",e,i)},rollOverLabel:function(e,i){e.hidden||this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,i)},rollOutLabel:function(e,i){if(!e.hidden&&this.textClickEnabled&&e.legendLabel){var s=this.color;void 0!==this.selectedColor&&e.showBalloon&&(s=this.selectedColor),this.useMarkerColorForLabels&&void 0===(s=e.lineColor)&&(s=e.color),e.legendLabel.attr({fill:s})}this.dispatch("rollOutItem",e,i)},clickLabel:function(e,i){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,i):this.switchable&&this.dispatch(!0===e.hidden?"showItem":"hideItem",e,i)},dispatch:function(e,i,s){e={type:e,dataItem:i,target:this,event:s,chart:this.chart},this.chart&&this.chart.handleLegendEvent(e),this.fire(e)},createValue:function(e){var i=this,s=i.fontSize,c=i.chart;if(!1!==e.visibleInLegend&&!e.hideFromLegend){var S=i.maxLabelWidth,M=0;i.forceWidth&&(S=i.labelWidth),i.equalWidths||(i.valueAlign="left"),M={x:0,y:0,width:0,height:0},e.legendLabel&&(M=e.legendLabel.getBBox()),"left"==i.valueAlign&&(S=M.width),M=M.height;var U=S,G=i.markerSize;if(G<s+7&&(G=s+7,v.VML&&(G+=3)),i.valueText&&0<i.valueWidth){var X=i.color;i.useMarkerColorForValues&&(X=e.color,e.legendKeyColor&&(X=e.legendKeyColor())),!0===e.hidden&&(X=i.markerDisabledColor),S=S+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth;var R="end";"left"==i.valueAlign&&(S-=i.valueWidth,R="start"),s=v.text(i.container,i.valueText,X,i.chart.fontFamily,s,R),v.setCN(c,s,"legend-value"),s.translate(S,i.ly),i.entries[i.index].push(s),U+=i.valueWidth+2*i.markerLabelGap,s.dItem=e,i.valueLabels.push(s),G<M+5&&(G=M+5)}i.index++,(c=i.container.rect(e.legendEntryWidth,0,U,G,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005})).dItem=e,i.entries[i.index-1].push(c),c.mouseover(function(E){i.rollOverLabel(e,E)}).mouseout(function(E){i.rollOutLabel(e,E)}).click(function(E){i.clickLabel(e,E)})}},createV:function(){var e=this.markerSize;return v.polygon(this.container,[e/5,e/2,e-e/5,e/2],[e/3,e-e/5,e/5,e/1.7],this.switchColor)},createX:function(){var e={stroke:this.switchColor,"stroke-width":3},i=this.container,s=v.line(i,[-(c=(this.markerSize-4)/2),c],[-c,c]).attr(e),c=v.line(i,[-c,c],[c,-c]).attr(e);return this.container.set([s,c])},createMarker:function(e,i,s,c,S,M,U,G,X){var F=this.markerSize,R=this.container;return S||(S=this.markerBorderColor),S||(S=i),isNaN(c)&&(c=this.markerBorderThickness),isNaN(M)&&(M=this.markerBorderAlpha),v.bullet(R,e,F,i,s,c,S,M,F,U,G,this.chart.path,X)},validateNow:function(){this.invalidateSize()},updateValues:function(){var s,e=this.valueLabels,i=this.chart,c=this.data;if(e)for(s=0;s<e.length;s++){var S=e[s],M=S.dItem;M.periodDataItem=void 0,M.periodPercentDataItem=void 0;var U=" ";if(c)S.text(M.value?M.value:"");else{var G=null;if(void 0!==M.type){var X=this.periodValueText;M.legendPeriodValueText&&(X=M.legendPeriodValueText),M.legendPeriodValueTextR&&(X=M.legendPeriodValueTextR),(G=M.currentDataItem)?(U=this.valueText,M.legendValueText&&(U=M.legendValueText),M.legendValueTextR&&(U=M.legendValueTextR),U=i.formatString(U,G)):X&&i.formatPeriodString&&(X=v.massReplace(X,{"[[title]]":M.title}),U=i.formatPeriodString(X,M))}else U=i.formatString(this.valueText,M);X=M,G&&(X=G);var R,F=this.valueFunction;F&&(U=F(X,U,i.periodDataItem)),this.useMarkerColorForLabels&&!G&&M.lastDataItem&&(G=M.lastDataItem),G?R=i.getBalloonColor(M,G):M.legendKeyColor&&(R=M.legendKeyColor()),M.legendColorFunction&&(R=M.legendColorFunction(X,U,M.periodDataItem,M.periodPercentDataItem)),S.text(U),!M.pattern&&(this.useMarkerColorForValues&&S.setAttr("fill",R),this.useMarkerColorForLabels)&&((S=M.legendMarker)&&(S.setAttr("fill",R),S.setAttr("stroke",R)),(S=M.legendLabel)&&S.setAttr("fill",M.hidden?this.markerDisabledColor:R))}}},renderFix:function(){if(!v.VML&&this.enabled){var e=this.container;e&&e.renderFix()}},destroy:function(){this.div.innerHTML="",v.remove(this.set)}})}(),function(){var v=window.AmCharts;v.formatMilliseconds=function(e,i){if(-1!=e.indexOf("fff")){var s=i.getMilliseconds(),c=String(s);10>s&&(c="00"+s),10<=s&&100>s&&(c="0"+s),e=e.replace(/fff/g,c)}return e},v.extractPeriod=function(e){var i=v.stripNumbers(e),s=1;return i!=e&&(s=Number(e.slice(0,e.indexOf(i)))),{period:i,count:s}},v.getDate=function(e,i,s){return e instanceof Date?v.newDate(e,s):i&&isNaN(e)?v.stringToDate(e,i):new Date(e)},v.daysInMonth=function(e){return new Date(e.getYear(),e.getMonth()+1,0).getDate()},v.newDate=function(e,i){return i&&-1==i.indexOf("fff")?new Date(e):new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},v.resetDateToMin=function(e,i,s,c){var S,M,U,G,X,F,R;switch(void 0===c&&(c=1),v.useUTC?(S=e.getUTCFullYear(),M=e.getUTCMonth(),U=e.getUTCDate(),G=e.getUTCHours(),X=e.getUTCMinutes(),F=e.getUTCSeconds(),R=e.getUTCMilliseconds(),e=e.getUTCDay()):(S=e.getFullYear(),M=e.getMonth(),U=e.getDate(),G=e.getHours(),X=e.getMinutes(),F=e.getSeconds(),R=e.getMilliseconds(),e=e.getDay()),i){case"YYYY":S=Math.floor(S/s)*s,M=0,U=1,R=F=X=G=0;break;case"MM":M=Math.floor(M/s)*s,U=1,R=F=X=G=0;break;case"WW":U=e>=c?U-e+c:U-(7+e)+c,R=F=X=G=0;break;case"DD":R=F=X=G=0;break;case"hh":G=Math.floor(G/s)*s,R=F=X=0;break;case"mm":X=Math.floor(X/s)*s,R=F=0;break;case"ss":F=Math.floor(F/s)*s,R=0;break;case"fff":R=Math.floor(R/s)*s}return v.useUTC?((e=new Date).setUTCFullYear(S,M,U),e.setUTCHours(G,X,F,R)):e=new Date(S,M,U,G,X,F,R),e},v.getPeriodDuration=function(e,i){var s;switch(void 0===i&&(i=1),e){case"YYYY":s=316224e5;break;case"MM":s=26784e5;break;case"WW":s=6048e5;break;case"DD":s=864e5;break;case"hh":s=36e5;break;case"mm":s=6e4;break;case"ss":s=1e3;break;case"fff":s=1}return s*i},v.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},v.getMaxInterval=function(e,i){var s=v.intervals;return e>=s[i].contains?(e=Math.round(e/s[i].contains),v.getMaxInterval(e,i=s[i].nextInterval)):"ss"==i?s[i].nextInterval:i},v.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),v.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),v.monthNames="January February March April May June July August September October November December".split(" "),v.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),v.getWeekNumber=function(e){(e=new Date(e)).setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var i=new Date(e.getFullYear(),0,1);return Math.ceil(((e-i)/864e5+1)/7)},v.stringToDate=function(e,i){var s={},c=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],S=!0;-1!=(M=i.indexOf("AA"))&&(e.substr(M,2),"pm"==e.toLowerCase&&(S=!1));var U,G,X,M=i;for(X=0;X<c.length;X++)s[G=c[X].period]=0,"date"==G&&(s[G]=1);for(X=0;X<c.length;X++)if(G=c[X].period,-1!=i.indexOf(U=c[X].pattern)){var F=v.getFromDateString(U,e,M);i=i.replace(U,""),("KK"==U||"K"==U||"LL"==U||"L"==U)&&(S||(F+=12)),s[G]=F}return v.useUTC?((c=new Date).setUTCFullYear(s.year,s.month,s.date),c.setUTCHours(s.hours,s.minutes,s.seconds,s.milliseconds)):c=new Date(s.year,s.month,s.date,s.hours,s.minutes,s.seconds,s.milliseconds),c},v.getFromDateString=function(e,i,s){if(void 0!==i)return s=s.indexOf(e),"0"==(i=(i=String(i)).substr(s,e.length)).charAt(0)&&(i=i.substr(1,i.length-1)),i=Number(i),isNaN(i)&&(i=0),-1!=e.indexOf("M")&&i--,i},v.formatDate=function(e,i,s){s||(s=v);var c,S,M,U,G,X,F,R,E=v.getWeekNumber(e);v.useUTC?(c=e.getUTCFullYear(),S=e.getUTCMonth(),M=e.getUTCDate(),U=e.getUTCDay(),G=e.getUTCHours(),X=e.getUTCMinutes(),F=e.getUTCSeconds(),R=e.getUTCMilliseconds()):(c=e.getFullYear(),S=e.getMonth(),M=e.getDate(),U=e.getDay(),G=e.getHours(),X=e.getMinutes(),F=e.getSeconds(),R=e.getMilliseconds());var a=String(c).substr(2,2),h="0"+U;i=i.replace(/W/g,E),24==(E=G)&&(E=0);var l=E;10>l&&(l="0"+l),i=(i=i.replace(/JJ/g,l)).replace(/J/g,E),0===(l=G)&&(l=24,-1!=i.indexOf("H")&&0==--M&&((c=new Date(e)).setDate(c.getDate()-1),S=c.getMonth(),M=c.getDate(),c=c.getFullYear())),e=S+1,9>S&&(e="0"+e),E=M,10>M&&(E="0"+M);var p=l;return 10>p&&(p="0"+p),i=(i=i.replace(/HH/g,p)).replace(/H/g,l),11<(l=G)&&(l-=12),10>(p=l)&&(p="0"+p),i=(i=i.replace(/KK/g,p)).replace(/K/g,l),0===(l=G)&&(l=12),12<l&&(l-=12),10>(p=l)&&(p="0"+p),i=(i=i.replace(/LL/g,p)).replace(/L/g,l),10>(l=X)&&(l="0"+l),i=(i=i.replace(/NN/g,l)).replace(/N/g,X),10>(X=F)&&(X="0"+X),i=(i=i.replace(/SS/g,X)).replace(/S/g,F),10>(F=R)?F="00"+F:100>F&&(F="0"+F),10>(X=R)&&(X="00"+X),(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/A/g,"@A@")).replace(/QQQ/g,F)).replace(/QQ/g,X)).replace(/Q/g,R)).replace(/YYYY/g,"@IIII@")).replace(/YY/g,"@II@")).replace(/MMMM/g,"@XXXX@")).replace(/MMM/g,"@XXX@")).replace(/MM/g,"@XX@")).replace(/M/g,"@X@")).replace(/DD/g,"@RR@")).replace(/D/g,"@R@")).replace(/EEEE/g,"@PPPP@")).replace(/EEE/g,"@PPP@")).replace(/EE/g,"@PP@")).replace(/E/g,"@P@")).replace(/@IIII@/g,c)).replace(/@II@/g,a)).replace(/@XXXX@/g,s.monthNames[S])).replace(/@XXX@/g,s.shortMonthNames[S])).replace(/@XX@/g,e)).replace(/@X@/g,S+1)).replace(/@RR@/g,E)).replace(/@R@/g,M)).replace(/@PPPP@/g,s.dayNames[U])).replace(/@PPP@/g,s.shortDayNames[U])).replace(/@PP@/g,h)).replace(/@P@/g,U)).replace(/@A@/g,12>G?s.amString:s.pmString)},v.changeDate=function(e,i,s,c,S){if(v.useUTC)return v.changeUTCDate(e,i,s,c,S);var M=-1;switch(void 0===c&&(c=!0),void 0===S&&(S=!1),!0===c&&(M=1),i){case"YYYY":e.setFullYear(e.getFullYear()+s*M),c||S||e.setDate(e.getDate()+1);break;case"MM":i=e.getMonth();var U=e.getFullYear();e.setMonth(i+s*M);var G=e.getMonth();if(c&&G-i>s)for(;e.getMonth()-i>s;)e.setDate(e.getDate()-1);U==e.getFullYear()&&e.getMonth()>i+s*M&&e.setDate(e.getDate()-1),c||S||e.setDate(e.getDate()+1);break;case"DD":e.setDate(e.getDate()+s*M);break;case"WW":e.setDate(e.getDate()+s*M*7);break;case"hh":e.setHours(e.getHours()+s*M);break;case"mm":e.setMinutes(e.getMinutes()+s*M);break;case"ss":e.setSeconds(e.getSeconds()+s*M);break;case"fff":e.setMilliseconds(e.getMilliseconds()+s*M)}return e},v.changeUTCDate=function(e,i,s,c,S){var M=-1;switch(void 0===c&&(c=!0),void 0===S&&(S=!1),!0===c&&(M=1),i){case"YYYY":e.setUTCFullYear(e.getUTCFullYear()+s*M),c||S||e.setUTCDate(e.getUTCDate()+1);break;case"MM":i=e.getUTCMonth(),e.setUTCMonth(e.getUTCMonth()+s*M),e.getUTCMonth()>i+s*M&&e.setUTCDate(e.getUTCDate()-1),c||S||e.setUTCDate(e.getUTCDate()+1);break;case"DD":e.setUTCDate(e.getUTCDate()+s*M);break;case"WW":e.setUTCDate(e.getUTCDate()+s*M*7);break;case"hh":e.setUTCHours(e.getUTCHours()+s*M);break;case"mm":e.setUTCMinutes(e.getUTCMinutes()+s*M);break;case"ss":e.setUTCSeconds(e.getUTCSeconds()+s*M);break;case"fff":e.setUTCMilliseconds(e.getUTCMilliseconds()+s*M)}return e}}(),function(){var v=window.AmCharts;v.AmRectangularChart=v.Class({inherits:v.AmCoordinateChart,construct:function(e){v.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,v.applyTheme(this,e,"AmRectangularChart")},initChart:function(){v.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(v.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),v.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var i,e={};if("xy"==this.type){var s=this.xAxes,c=this.yAxes;for(i=0;i<s.length;i++){var S=s[i];S.ignoreAxisWidth||(S.setOrientation(!0),S.fixAxisPosition(),e[S.position]=!0)}for(i=0;i<c.length;i++)(s=c[i]).ignoreAxisWidth||(s.setOrientation(!1),s.fixAxisPosition(),e[s.position]=!0)}else{for(c=this.valueAxes,i=0;i<c.length;i++)(s=c[i]).ignoreAxisWidth||(s.setOrientation(this.rotate),s.fixAxisPosition(),e[s.position]=!0);(i=this.categoryAxis)&&!i.ignoreAxisWidth&&(i.setOrientation(!this.rotate),i.fixAxisPosition(),i.fixAxisPosition(),e[i.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var i,F,e=this.valueAxes,s=this.autoMarginOffset,c=this.fixMargins,S=this.realWidth,M=this.realHeight,U=s,G=s,X=S;for(i=M,F=0;F<e.length;F++)e[F].handleSynchronization(),i=this.getAxisBounds(e[F],U,X,G,i),U=Math.round(i.l),X=Math.round(i.r),G=Math.round(i.t),i=Math.round(i.b);(e=this.categoryAxis)&&(i=this.getAxisBounds(e,U,X,G,i),U=Math.round(i.l),X=Math.round(i.r),G=Math.round(i.t),i=Math.round(i.b)),c.left&&U<s&&(this.marginLeft=Math.round(-U+s),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),c.right&&X>=S-s&&(this.marginRight=Math.round(X-S+s),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),c.top&&G<s+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-G+s+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),c.bottom&&i>M-s&&(this.marginBottom=Math.round(this.marginBottom+i-M+s),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(e,i,s,c,S){if(!e.ignoreAxisWidth){var M=e.labelsSet,U=e.tickLength;if(e.inside&&(U=0),M)switch(M=e.getBBox(),e.position){case"top":c>(e=M.y)&&(c=e);break;case"bottom":S<(e=M.y+M.height)&&(S=e);break;case"right":s<(e=M.x+M.width+U+3)&&(s=e);break;case"left":i>(e=M.x-U)&&(i=e)}}return{l:i,t:c,r:s,b:S}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var i=e.container.set();e.zoomButtonSet.push(i);var E,s=e.color,c=e.fontSize,S=e.zoomOutButtonImageSize,M=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),U=e.langObj.zoomOutText||e.zoomOutText,G=e.zoomOutButtonColor,X=e.zoomOutButtonAlpha,R=e.zoomOutButtonFontSize,F=e.zoomOutButtonPadding;isNaN(R)||(c=R),(R=e.zoomOutButtonFontColor)&&(s=R),(R=e.zoomOutButton)&&(R.fontSize&&(c=R.fontSize),R.color&&(s=R.color),R.backgroundColor&&(G=R.backgroundColor),isNaN(R.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=R.backgroundAlpha));var a=R=0;for(a=e.pathToImages,M&&((v.isAbsolute(M)||void 0===a)&&(a=""),E=e.container.image(a+M+e.extension,0,0,S,S),v.setCN(e,E,"zoom-out-image"),i.push(E),R=(E=E.getBBox()).width+5),void 0!==U&&(s=v.text(e.container,U,s,e.fontFamily,c,"start"),v.setCN(e,s,"zoom-out-label"),c=s.getBBox(),s.translate(R,a=E?E.height/2-3:c.height/2),i.push(s)),E=i.getBBox(),s=1,v.isModern||(s=0),(G=v.rect(e.container,E.width+2*F+5,E.height+2*F-2,G,1,1,G,s)).setAttr("opacity",X),G.translate(-F,-F),v.setCN(e,G,"zoom-out-bg"),i.push(G),G.toBack(),e.zbBG=G,E=G.getBBox(),i.translate(e.marginLeftReal+e.plotAreaWidth-E.width+F,e.marginTopReal+F),i.hide(),i.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),X=0;X<i.length;X++)i[X].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(i.setAttr("tabindex",e.zoomOutButtonTabIndex),i.setAttr("role","menuitem"),i.keyup(function(h){13==h.keyCode&&e.clickZB()})),e.zbSet=i}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,i=this.dy,s=this.marginLeftReal,c=this.marginTopReal,S=this.plotAreaWidth-1,M=this.plotAreaHeight-1,U=this.plotAreaFillColors,G=this.plotAreaFillAlphas,X=this.plotAreaBorderColor,F=this.plotAreaBorderAlpha;"object"==typeof G&&(G=G[0]),U=v.polygon(this.container,[0,S,S,0,0],[0,0,M,M,0],U,G,1,X,F,this.plotAreaGradientAngle),v.setCN(this,U,"plot-area"),U.translate(s+e,c+i),this.set.push(U),0!==e&&0!==i&&("object"==typeof(U=this.plotAreaFillColors)&&(U=U[0]),U=v.adjustLuminosity(U,-.15),S=v.polygon(this.container,[0,e,S+e,S,0],[0,i,i,0,0],U,G,1,X,F),v.setCN(this,S,"plot-area-bottom"),S.translate(s,c+M),this.set.push(S),e=v.polygon(this.container,[0,0,e,e,0],[0,M,M+i,i,0],U,G,1,X,F),v.setCN(this,e,"plot-area-left"),e.translate(s,c),this.set.push(e)),(s=this.bbset)&&this.scrollbarOnly&&s.remove()},updatePlotArea:function(){var s=this.updateWidth(),c=this.updateHeight(),e=this.container;this.realWidth=s,this.realWidth=c,e&&this.container.setSize(s,c);var i=this.marginTopReal;1>(s=s-(e=this.marginLeftReal)-this.marginRightReal-this.dx)&&(s=1),1>(c=c-i-this.marginBottomReal)&&(c=1),this.plotAreaWidth=Math.round(s),this.plotAreaHeight=Math.round(c),this.plotBalloonsSet.translate(e,i)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=e),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var i,e=this.valueAxes;for(i=0;i<e.length;i++){var s=e[i];this.setAxisRenderers(s),this.updateObjectSize(s)}},setAxisRenderers:function(e){e.axisRenderer=v.RecAxis,e.guideFillRenderer=v.RecFill,e.axisItemRenderer=v.RecItem,e.marginsChanged=!0},updateGraphs:function(){var i,e=this.graphs;for(i=0;i<e.length;i++){var s=e[i];s.index=i,s.rotate=this.rotate,this.updateObjectSize(s)}},updateObjectSize:function(e){e.width=this.plotAreaWidth-1,e.height=this.plotAreaHeight-1,e.x=this.marginLeftReal,e.y=this.marginTopReal,e.dx=this.dx,e.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=v.processObject(e,v.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=v.processObject(e,v.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){v.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var i,e=this.trendLines;for(i=0;i<e.length;i++){var s=e[i];s.valueAxis.recalculateToPercents?s.set&&s.set.hide():(s.x=this.marginLeftReal,s.y=this.marginTopReal,s.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(e){this.trendLines.push(e)},zoomOutValueAxes:function(){for(var e=this.valueAxes,i=0;i<e.length;i++)e[i].zoomOut()},removeTrendLine:function(e){var s,i=this.trendLines;for(s=i.length-1;0<=s;s--)i[s]==e&&i.splice(s,1)},adjustMargins:function(e,i){var c=e.scrollbarHeight+e.offset;e.enabled&&("top"==e.position?i?this.marginLeftReal+=c:this.marginTopReal+=c:i?this.marginRightReal+=c:this.marginBottomReal+=c)},getScrollbarPosition:function(e,i,s){var c="bottom",S="top";e.oppositeAxis||(S=c,c="top"),e.position=i?"bottom"==s||"left"==s?c:S:"top"==s||"right"==s?c:S},updateChartScrollbar:function(e,i){if(e){e.rotate=i;var s=this.marginTopReal,c=this.marginLeftReal,S=e.scrollbarHeight,M=this.dx,U=this.dy,G=e.offset;"top"==e.position?i?(e.y=s,e.x=c-S-G):(e.y=s-S+U-G,e.x=c+M):i?(e.y=s+U,e.x=c+this.plotAreaWidth+M+G):(e.y=s+this.plotAreaHeight+G,e.x=this.marginLeftReal)}},showZB:function(e){var i=this.zbSet;e&&""!==(i=this.zoomOutText)&&i&&this.drawZoomOutButton(),(i=this.zbSet)&&(this.zoomButtonSet.push(i),e?i.show():i.hide(),this.rollOutZB())},handleReleaseOutside:function(e){v.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){v.AmRectangularChart.base.handleMouseDown.call(this,e);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(e)},update:function(){v.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(e){this.relativeZoomValueAxes(e.target.valueAxes,e.relativeStart,e.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(e){if(e&&e.enabled){var i=e.valueAxes[0],s=i.relativeStart,c=i.relativeEnd;i.reversed&&(c=1-s,s=1-i.relativeEnd),e.percentZoom(s,c)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var i,e=this.valueAxes;for(i=0;i<e.length;i++)e[i].zoom(this.start,this.end);for(e=this.graphs,i=0;i<e.length;i++)e[i].zoom(this.start,this.end);(i=this.chartCursor)&&i.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(e,i){if((c=e.relativeStart)>(S=e.relativeEnd))var s=c,c=S,S=s;this.relativeZoomValueAxes(i,c,S),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,i,s){if(this.hideBalloonReal(),(i=v.fitToBounds(i,0,1))>(s=v.fitToBounds(s,0,1))){var c=i;i=s,s=c}var S=v.getDecimals(c=1/this.maxZoomFactor)+4;if(s-i<c&&(i=(s=i+(s-i)/2)-c/2,1<(s+=c/2)&&(i-=s-1,s=1),0>i&&(i=0,s=c)),i=v.roundTo(i,S),s=v.roundTo(s,S),c=!1,e){for(S=0;S<e.length;S++){var M=e[S].zoomToRelativeValues(i,s,!0);M&&(c=M)}this.showZB()}return c},addChartCursor:function(e){v.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(e){var i,s=this.valueAxes;for(i=0;i<s.length;i++)if(!e.panning){var c=s[i];c&&c.showBalloon&&c.showBalloon(e.x,e.y)}},handleCursorZoom:function(e){if(this.skipZoomed)this.skipZoomed=!1;else{var i=this.startX0,s=this.endX0,c=this.endY0,S=this.startY0,M=e.startX,U=e.endX,G=e.startY,X=e.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(i+M*(s-i),i+U*(s-i),S+G*(c-S),S+X*(c-S),e)}},handleCursorHide:function(){var e,i=this.valueAxes;for(e=0;e<i.length;e++)i[e].hideBalloon();for(i=this.graphs,e=0;e<i.length;e++)i[e].hideBalloonReal()}})}(),function(){var v=window.AmCharts;v.AmSerialChart=v.Class({inherits:v.AmRectangularChart,construct:function(e){this.type="serial",v.AmSerialChart.base.construct.call(this,e),this.cname="AmSerialChart",this.theme=e,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new v.CategoryAxis(e);i.chart=this,this.categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,v.applyTheme(this,e,this.cname)},initChart:function(){v.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var c,e=this.countColumns(),i=this.chartData,s=this.graphs;for(c=0;c<s.length;c++){var S=s[c];S.data=i,S.columnCount=e}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var i,s,e=this.valueAxes;if(0<e.length){var c=0;for(s=0;s<e.length;s++)c<(i=e[s]).gridCountReal&&(c=i.gridCountReal);var S=!1;for(s=0;s<e.length;s++)if((i=e[s]).gridCountReal<c){var M=(c-i.gridCountReal)/2,U=S=M;M-Math.round(M)!=0&&(S-=.5,U+=.5),0<=i.min&&0>i.min-S*i.step&&(U+=S,S=0),0>=i.max&&0<i.max+U*i.step&&(S+=U,U=0),M=v.getDecimals(i.step),i.minimum=v.roundTo(i.min-S*i.step,M),i.maximum=v.roundTo(i.max+U*i.step,M),i.setStep=i.step,S=i.strictMinMax=!0}for(S&&this.updateAfterValueZoom(),s=0;s<e.length;s++)(i=e[s]).minimum=NaN,i.maximum=NaN,i.setStep=NaN,i.strictMinMax=!1}}},handleWheelReal:function(e,i){if(!this.wheelBusy){var s=this.categoryAxis,c=s.parseDates,S=s.minDuration(),M=1,U=1;if(this.mouseWheelZoomEnabled?i||(M=-1):i&&(M=-1),G=this.chartCursor)if(G.mouseIsOver()){var X=G.mouseX,G=G.mouseY;M!=U&&(M*=X=this.rotate?G/this.plotAreaHeight:X/this.plotAreaWidth,U*=1-X),X=.05*(this.end-this.start),c&&(X=.05*(this.endTime-this.startTime)/S),1>X&&(X=1),M*=X,U*=X,(!c||s.equalSpacing)&&(M=Math.round(M),U=Math.round(U)),G=this.chartData.length,s=this.lastTime,X=this.firstTime,0>e?c?(G=this.endTime-this.startTime,c=this.startTime+M*S,S=this.endTime+U*S,0<U&&0<M&&S>=s&&(S=s,c=s-G),this.zoomToDates(new Date(c),new Date(S))):(0<U&&0<M&&this.end>=G-1&&(M=U=0),this.zoomToIndexes(c=this.start+M,S=this.end+U)):c?(G=this.endTime-this.startTime,c=this.startTime-M*S,S=this.endTime-U*S,0<U&&0<M&&c<=X&&(c=X,S=X+G),this.zoomToDates(new Date(c),new Date(S))):(0<U&&0<M&&1>this.start&&(M=U=0),this.zoomToIndexes(c=this.start-M,S=this.end-U))}else this.handleMouseOut()}},validateData:function(e){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN);var i=e=!1,s=!1,c=this.chartScrollbar;c&&(c.dragging&&(e=!0,c.handleDragStop()),c.resizingRight&&(s=!0,c.rightDragStop()),c.resizingLeft&&(i=!0,c.leftDragStop())),v.AmSerialChart.base.validateData.call(this),e&&c.handleDragStart(),s&&c.rightDragStart(),i&&c.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){v.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(v.ifArray(e)){!(i=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||i.draw(),(i=this.valueScrollbar)&&i.draw();var s,c,i=e.length-1;(s=this.categoryAxis).parseDates&&!s.equalSpacing?(s=this.startTime,c=this.endTime,(isNaN(s)||isNaN(c))&&(s=this.firstTime,c=this.lastTime)):(s=this.start,c=this.end,(isNaN(s)||isNaN(c))&&(c=s=NaN),isNaN(s)&&(isNaN(this.startTime)||(s=this.getClosestIndex(e,"time",this.startTime,!0,0,e.length))),isNaN(c)&&(isNaN(this.endTime)||(c=this.getClosestIndex(e,"time",this.endTime,!1,0,e.length))),(isNaN(s)||isNaN(c))&&(s=0,c=i)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(s,c)}}else this.cleanChart()},cleanChart:function(){v.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,i,s){e.chart=this,e.id=s,e.rotate=i,e.setOrientation(!this.rotate),e.init(),this.setAxisRenderers(e),this.updateObjectSize(e)},updateValueAxes:function(){v.AmSerialChart.base.updateValueAxes.call(this);var i,e=this.valueAxes;for(i=0;i<e.length;i++){var s=e[i],c=this.rotate;s.rotate=c,s.setOrientation(c),(!(c=this.categoryAxis).startOnAxis||c.parseDates)&&(s.expandMinMax=!0)}},getStartTime:function(e){var i=this.categoryAxis;return v.resetDateToMin(new Date(e),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(e){var i=v.extractPeriod(this.categoryAxis.minPeriod);return v.changeDate(new Date(e),i.period,i.count,!0).getTime()-1},updateMargins:function(){v.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate)),(e=this.valueScrollbar)&&(this.getScrollbarPosition(e,!this.rotate,this.valueAxes[0].position),this.adjustMargins(e,!this.rotate))},updateScrollbars:function(){v.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,i){var s=this.categoryAxis;s.parseDates&&!s.equalSpacing?(this.timeZoom(e,i),isNaN(e)&&this.zoomOutValueAxes()):this.indexZoom(e,i),(s=this.chartCursor)&&(s.pan||s.hideCursorReal()),this.updateLegendValues()},timeZoom:function(e,i){var s=this.maxSelectedTime;if(isNaN(s)||(i!=this.endTime&&i-e>s&&(e=i-s),e!=this.startTime&&i-e>s&&(i=e+s)),0<(c=this.minSelectedTime)&&i-e<c){var c,S=Math.round(e+(i-e)/2);e=S-(c=Math.round(c/2)),i=S+c}if(S=this.categoryAxis,v.ifArray(c=this.chartData)&&(e!=this.startTime||i!=this.endTime)){var M=S.minDuration(),U=this.firstTime,G=this.lastTime;e||(e=U,isNaN(s)||(e=G-s)),i||(i=G),e>G&&(e=G),i<U&&(i=U),e<U&&(e=U),i>G&&(i=G),i<e&&(i=e+M),i-e<M/5&&(i<G?i=e+M/5:e=i-M/5),this.startTime=e,this.endTime=i,M=this.getClosestIndex(c,"time",e,!0,0,s=c.length-1),c=this.getClosestIndex(c,"time",i,!1,M,s),S.timeZoom(e,i),S.zoom(M,c),this.start=v.fitToBounds(M,0,s),this.end=v.fitToBounds(c,0,s),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var e,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(e=!0),this.endTime<this.lastTime&&(e=!0)),0<this.start&&(e=!0),this.end<this.chartData.length-1&&(e=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==v.roundTo(i.relativeStart,3)&&(e=!0),1!=v.roundTo(i.relativeEnd,3)&&(e=!0))),v.AmSerialChart.base.showZB.call(this,e)},updateAfterValueZoom:function(){v.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(e,i){var s=this.maxSelectedSeries,c=!1;if(isNaN(s)||(i!=this.end&&i-e>s&&(e=i-s,c=!0),e!=this.start&&i-e>s&&(i=e+s,c=!0)),c&&(c=this.chartScrollbar)&&c.dragger){var S=c.dragger.getBBox();c.maxWidth=S.width,c.maxHeight=S.height}(e!=this.start||i!=this.end)&&(c=this.chartData.length-1,isNaN(e)&&(e=0,isNaN(s)||(e=c-s)),isNaN(i)&&(i=c),i<e&&(i=e),i>c&&(i=c),e>c&&(e=c-1),0>e&&(e=0),this.start=e,this.end=i,this.categoryAxis.zoom(e,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(0!==e||i!=this.chartData.length-1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){v.AmSerialChart.base.updateGraphs.call(this);var i,e=this.graphs;for(i=0;i<e.length;i++){var s=e[i];s.columnWidthReal=this.columnWidth,s.categoryAxis=this.categoryAxis,v.isString(s.fillToGraph)&&(s.fillToGraph=this.graphsById[s.fillToGraph])}},zoomAxesAndGraphs:function(){v.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var e,s,i=this.graphs;for(this.columnsArray=[],e=0;e<i.length;e++){var S,c=(s=i[e]).columnsArray;if(c)for(S=0;S<c.length;S++)this.columnsArray.push(c[S])}if(this.columnsArray.sort(this.compareDepth),i=this.columnsSet,0<this.columnsArray.length){for(c=this.container.set(),this.columnSet.push(c),e=0;e<this.columnsArray.length;e++)c.push(this.columnsArray[e].column.set);s&&c.translate(s.x,s.y),this.columnsSet=c}v.remove(i)}},compareDepth:function(e,i){return e.depth>i.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,i=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var s=e.dragger;s&&s.stop()}this.zoomedByScrollbar=!1,i.parseDates&&!i.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var i,e=this.trendLines;for(i=0;i<e.length;i++){var s=v.processObject(s=e[i],v.TrendLine,this.theme);e[i]=s,s.chart=this,s.id||(s.id="trendLineAuto"+i+"_"+(new Date).getTime()),v.isString(s.valueAxis)&&(s.valueAxis=this.getValueAxisById(s.valueAxis)),s.valueAxis||(s.valueAxis=this.valueAxes[0]),s.categoryAxis=this.categoryAxis}},validateNow:function(e,i){e&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),v.AmSerialChart.base.validateNow.call(this,e,i)},countColumns:function(){var c,S,U,G,e=0,i=this.valueAxes.length,s=this.graphs.length,M=!1;for(G=0;G<i;G++){var X=(S=this.valueAxes[G]).stackType,F=0;if("100%"==X||"regular"==X)for(M=!1,U=0;U<s;U++)(c=this.graphs[U]).tcc=1,c.valueAxis==S&&"column"==c.type&&(!M&&c.stackable&&(e++,M=!0),(!c.stackable&&c.clustered||c.newStack&&0!==F)&&e++,c.columnIndex=e-1,c.clustered||(c.columnIndex=0),F++);if("none"==X||"3d"==X){for(F=!1,U=0;U<s;U++)(c=this.graphs[U]).valueAxis==S&&"column"==c.type&&(c.clustered?(c.tcc=1,c.newStack&&(e=0),c.hidden||(c.columnIndex=e,e++)):c.hidden||(F=!0,c.tcc=1,c.columnIndex=0));F&&0===e&&(e=1)}if("3d"==X){for(S=1,F=0;F<s;F++)(c=this.graphs[F]).newStack&&S++,c.depthCount=S,c.tcc=e;e=S}if("regular"==X||"100%"==X)for(S=10,F=0;F<s;F++)(c=this.graphs[F]).newStack&&S--,c.depthCount=S,c.tcc=e}return e},parseData:function(){v.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var s,i=this.chartData;for(s=0;s<i.length;s++)if(i[s].category==e)return s},handleScrollbarZoom:function(e){this.zoomedByScrollbar=!0,this.zoom(e.start,e.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime),e.startIndex=this.start,e.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=e.startDate,this.endDate=e.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var s,i=v.extractPeriod((s=this.categoryAxis).minPeriod).period;e.startValue=v.formatDate(e.startDate,s=s.dateFormatsObject[i],this),e.endValue=v.formatDate(e.endDate,s,this),e.chart=this,e.target=this,this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var e=this.chartData;if(v.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var i={chart:this,target:this,type:"zoomed"};i.startIndex=this.start,i.endIndex=this.end,i.startValue=e[this.start].category,i.endValue=e[this.end].category,this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(e,i,s,c,S,M){0>S&&(S=0),M>e.length-1&&(M=e.length-1);var U=S+Math.round((M-S)/2),G=e[U][i];return s==G?U:1>=M-S?c||Math.abs(e[S][i]-s)<Math.abs(e[M][i]-s)?S:M:s==G?U:s<G?this.getClosestIndex(e,i,s,c,S,U):this.getClosestIndex(e,i,s,c,U,M)},zoomToIndexes:function(e,i){var s=this.chartData;if(s){var c=s.length;0<c&&(0>e&&(e=0),i>c-1&&(i=c-1),(c=this.categoryAxis).parseDates&&!c.equalSpacing?this.zoom(s[e].time,this.getEndTime(s[i].time)):this.zoom(e,i))}},zoomToDates:function(e,i){var s=this.chartData;if(s)if(this.categoryAxis.equalSpacing){var c=this.getClosestIndex(s,"time",e.getTime(),!0,0,s.length);i=v.resetDateToMin(i,this.categoryAxis.minPeriod,1),s=this.getClosestIndex(s,"time",i.getTime(),!1,0,s.length),this.zoom(c,s)}else this.zoom(e.getTime(),i.getTime())},zoomToCategoryValues:function(e,i){this.chartData&&this.zoom(this.getCategoryIndexByValue(e),this.getCategoryIndexByValue(i))},formatPeriodString:function(e,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};var s=["value","open","low","high","close"],c="value open low high close average sum count".split(" "),S=i.valueAxis,M=this.chartData,U=i.numberFormatter;U||(U=this.nf);for(var G=0;G<s.length;G++){for(var h,l,p,x,T,b,I,u,n,k,X=s[G],F=0,R=0,E=0,a=0,C=this.start;C<=this.end;C++)if(O=M[C]){var m=O.axes[S.id].graphs[i.id];if(m){if(m.values){var A=m.values[X],O=O.x.categoryAxis;this.rotate?(0>O||O>m.graph.height)&&(A=NaN):(0>O||O>m.graph.width)&&(A=NaN),isNaN(A)||(isNaN(h)&&(h=A),l=A,(isNaN(p)||p>A)&&(p=A),(isNaN(x)||x<A)&&(x=A),T=v.getDecimals(F),O=v.getDecimals(A),T=(F=v.roundTo(F+=A,Math.max(T,O)))/++R)}m.percents&&(m=m.percents[X],!isNaN(m))&&(isNaN(b)&&(b=m),I=m,(isNaN(u)||u>m)&&(u=m),(isNaN(n)||n<m)&&(n=m),k=v.getDecimals(E),A=v.getDecimals(m),k=(E=v.roundTo(E+=m,Math.max(k,A)))/++a)}}E={open:b,close:I,high:n,low:u,average:k,sum:E,count:a},e=v.formatValue(e,F={open:h,close:l,high:x,low:p,average:T,sum:F,count:R},c,U,X+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=v.formatValue(e,E,c,this.pf,"percents\\."+X+"\\."),i.periodDataItem[X]=F,i.periodPercentDataItem[X]=E}}return v.cleanFromEmpty(e)},formatString:function(e,i,s){if(i){var c=i.graph;if(void 0!==e){if(-1!=e.indexOf("[[category]]")){var S=i.serialDataItem.category;if(this.categoryAxis.parseDates){var M=this.balloonDateFormat,U=this.chartCursor;U&&U.categoryBalloonDateFormat&&(M=U.categoryBalloonDateFormat),-1!=(M=v.formatDate(S,M,this)).indexOf("fff")&&(M=v.formatMilliseconds(M,S)),S=M}e=e.replace(/\[\[category\]\]/g,String(S.replace("$","$$$")))}(S=c.numberFormatter)||(S=this.nf),(U=(M=i.graph.valueAxis).duration)&&!isNaN(i.values.value)&&M.maxInterval&&(U=v.formatDuration(i.values.value,U,"",M.durationUnits,M.maxInterval,S),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),U)),"date"==M.type&&(M=v.formatDate(new Date(i.values.value),c.dateFormat,this),U=RegExp("\\[\\[value\\]\\]","g"),e=e.replace(U,M),M=v.formatDate(new Date(i.values.open),c.dateFormat,this),U=RegExp("\\[\\[open\\]\\]","g"),e=e.replace(U,M)),c="value open low high close total".split(" "),e=v.formatValue(e,i.percents,c,M=this.pf,"percents\\."),e=v.formatValue(e,i.values,c,S,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(e=v.formatValue(e,i.values,["percents"],M)).indexOf("[[")&&(e=v.formatDataContextValue(e,i.dataContext)),-1!=e.indexOf("[[")&&i.graph.customData&&(e=v.formatDataContextValue(e,i.graph.customData)),e=v.AmSerialChart.base.formatString.call(this,e,i,s)}return e}},updateChartCursor:function(){v.AmSerialChart.base.updateChartCursor.call(this);var e=this.chartCursor,i=this.categoryAxis;if(e){var s=e.categoryBalloonAlpha,c=e.categoryBalloonColor,S=e.color;void 0===c&&(c=e.cursorColor);var M=e.valueZoomable,U=e.zoomable,G=e.valueLineEnabled;if(this.rotate?(e.vLineEnabled=G,e.hZoomEnabled=M,e.vZoomEnabled=U):(e.hLineEnabled=G,e.vZoomEnabled=M,e.hZoomEnabled=U),e.valueLineBalloonEnabled)for(G=0;G<this.valueAxes.length;G++)(U=(M=this.valueAxes[G]).balloon)||(U={}),(U=v.extend(U,this.balloon,!0)).fillColor=c,U.balloonColor=c,U.fillAlpha=s,U.borderColor=c,U.color=S,M.balloon=U;else for(U=0;U<this.valueAxes.length;U++)(M=this.valueAxes[U]).balloon&&(M.balloon=null);i&&(i.balloonTextFunction=e.categoryBalloonFunction,e.categoryLineAxis=i,i.balloonText=e.categoryBalloonText,e.categoryBalloonEnabled&&((U=i.balloon)||(U={}),(U=v.extend(U,this.balloon,!0)).fillColor=c,U.balloonColor=c,U.fillAlpha=s,U.borderColor=c,U.color=S,i.balloon=U),i.balloon&&(i.balloon.enabled=e.categoryBalloonEnabled))}},addChartScrollbar:function(e){v.callMethod("destroy",[this.chartScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight),e.gridAxis=this.categoryAxis,this.chartScrollbar=e},addValueScrollbar:function(e){v.callMethod("destroy",[this.valueScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarValueZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted));var i=e.scrollbarHeight;this.rotate?void 0===e.height&&(e.height=i):void 0===e.width&&(e.width=i),e.gridAxis||(e.gridAxis=this.valueAxes[0]),e.valueAxes=this.valueAxes,this.valueScrollbar=e},removeChartScrollbar:function(){v.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){v.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(e){v.AmSerialChart.base.handleReleaseOutside.call(this,e),v.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){v.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){v.AmSerialChart.base.processScrollbars.call(this);var e=this.valueScrollbar;e&&((e=v.processObject(e,v.ChartScrollbar,this.theme)).id="valueScrollbar",this.addValueScrollbar(e))},handleValueAxisZoom:function(e){this.handleValueAxisZoomReal(e,this.valueAxes)},zoomOut:function(){v.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(e){var i=e.index,s=this.chartData,c=e.graph;if(i+1<s.length)for(i+=1;i<s.length;i++)if((e=s[i])&&(e=e.axes[c.valueAxis.id].graphs[c.id],!isNaN(e.y)))return e},handleCursorZoomReal:function(e,i,s,c,S){var U,G,M=S.target;this.rotate?(isNaN(e)||isNaN(i)||this.relativeZoomValueAxes(this.valueAxes,e,i)&&this.updateAfterValueZoom(),M.vZoomEnabled&&(U=S.start,G=S.end)):(isNaN(s)||isNaN(c)||this.relativeZoomValueAxes(this.valueAxes,s,c)&&this.updateAfterValueZoom(),M.hZoomEnabled&&(U=S.start,G=S.end)),isNaN(U)||isNaN(G)||((e=this.categoryAxis).parseDates&&!e.equalSpacing?this.zoomToDates(new Date(U),new Date(G)):this.zoomToIndexes(U,G))},handleCursorZoomStarted:function(){if(e=this.valueAxes){var e,i=(e=e[0]).relativeStart,s=e.relativeEnd;e.reversed&&(i=1-e.relativeEnd,s=1-e.relativeStart),this.rotate?(this.startX0=i,this.endX0=s):(this.startY0=i,this.endY0=s)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(e){v.AmSerialChart.base.handleCursorMove.call(this,e);var i=e.target,s=this.categoryAxis;if(e.panning)this.handleCursorHide(e);else if(this.chartData&&!i.isHidden){var S,c=this.graphs;if(c&&(S=s.xToIndex(this.rotate?e.y:e.x),S=this.chartData[S])){var M,U,G,X;if(i.oneBalloonOnly&&i.valueBalloonsEnabled){var F=1/0;for(M=c.length-1;0<=M;M--)if((U=c[M]).balloon.enabled&&U.showBalloon&&!U.hidden){if(G=S.axes[G=U.valueAxis.id].graphs[U.id],i.showNextAvailable&&isNaN(G.y)&&!(G=this.getNextItem(G)))continue;G=G.y,"top"==U.showBalloonAt&&(G=0),"bottom"==U.showBalloonAt&&(G=this.height);var E=i.mouseY;(G=this.rotate?Math.abs(i.mouseX-G):Math.abs(E-G))<F&&(F=G,X=U)}i.mostCloseGraph=X}if(this.prevCursorItem!=S||X!=this.prevMostCloseGraph){for(F=[],M=0;M<c.length;M++)G=S.axes[G=(U=c[M]).valueAxis.id].graphs[U.id],i.showNextAvailable&&isNaN(G.y)&&!(G=this.getNextItem(G))&&U.balloon?U.balloon.hide():X&&U!=X?(U.showGraphBalloon(G,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),U.balloon.hide(0)):i.valueBalloonsEnabled?(U.balloon.showBullet=i.bulletsEnabled,U.balloon.bulletSize=i.bulletSize/2,e.hideBalloons||(U.showGraphBalloon(G,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),U.balloon.set&&F.push({balloon:U.balloon,y:U.balloon.pointToY}))):(U.currentDataItem=G,U.resizeBullet(G,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(F),this.prevCursorItem=S}this.prevMostCloseGraph=X}c=v.fitToBounds(e.x,0,i.width),X=v.fitToBounds(e.y,0,i.height),s.showBalloon(c,X,i.categoryBalloonDateFormat,e.skip),this.updateLegendValues()}},handleCursorHide:function(e){var i;for(v.AmSerialChart.base.handleCursorHide.call(this,e),e=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),e&&e.hideBalloon(),e=this.graphs,i=0;i<e.length;i++)e[i].currentDataItem=null},handleCursorPanning:function(e){var s,R,E,i=e.target,c=e.deltaX,S=e.deltaY,M=e.delta2X,U=e.delta2Y;if(e=!1,this.rotate){isNaN(M)&&(M=c,e=!0);var G=(X=this.endX0)-(s=this.startX0),X=X-G*M,F=G;e||(F=0),e=v.fitToBounds(s-G*c,0,1-F)}else isNaN(U)&&(U=S,e=!0),X=this.endY0,X+=(G=X-(s=this.startY0))*S,F=G,e||(F=0),e=v.fitToBounds(s+G*U,0,1-F);s=v.fitToBounds(X,F,1),i.valueZoomable&&(R=this.relativeZoomValueAxes(this.valueAxes,e,s)),s=this.categoryAxis,this.rotate&&(c=S,M=U),e=!1,isNaN(M)&&(M=c,e=!0),i.zoomable&&(0<Math.abs(c)||0<Math.abs(M))&&(s.parseDates&&!s.equalSpacing?(M*=s=(S=this.endTime0)-(U=this.startTime0),G=this.firstTime,X=this.lastTime,F=s,e||(F=0),e=Math.round(v.fitToBounds(U-s*c,G,X-F)),M=Math.round(v.fitToBounds(S-M,G+F,X)),(this.startTime!=e||this.endTime!=M)&&(E={chart:this,target:i,type:"zoomed",start:e,end:M},this.skipZoomed=!0,i.fire(E),this.zoom(e,M),E=!0)):(s=(S=this.end0)-(U=this.start0),c=Math.round(s*c),M=Math.round(s*M),e||(s=0),e=v.fitToBounds(U-c,0,(G=this.chartData.length-1)-s),s=v.fitToBounds(S-M,s,G),(this.start!=e||this.end!=s)&&(this.skipZoomed=!0,i.fire({chart:this,target:i,type:"zoomed",start:e,end:s}),this.zoom(e,s),E=!0))),!E&&R&&this.updateAfterValueZoom()},arrangeBalloons:function(e){var i=this.plotAreaHeight;e.sort(this.compareY);var s,c,S,M=this.plotAreaWidth,U=e.length;for(s=0;s<U;s++)(c=e[s].balloon).setBounds(0,0,M,i),c.restorePrevious(),c.draw(),i=c.yPos-3;for(e.reverse(),s=0;s<U;s++){i=(c=e[s].balloon).bottom;var G=c.bottom-c.yPos;0<s&&i-G<S+3&&c.setBounds&&(c.setBounds(0,S+3,M,S+G+3),c.restorePrevious(),c.draw()),c.set&&c.set.show(),S=c.bottom}},compareY:function(e,i){return e.y<i.y?1:-1}})}(),function(){var v=window.AmCharts;v.Cuboid=v.Class({construct:function(e,i,s,c,S,M,U,G,X,F,R,E,a,h,l,p,x){this.set=e.set(),this.container=e,this.h=Math.round(s),this.w=Math.round(i),this.dx=c,this.dy=S,this.colors=M,this.alpha=U,this.bwidth=G,this.bcolor=X,this.balpha=F,this.dashLength=h,this.topRadius=p,this.pattern=l,this.rotate=a,this.bcn=x,a?0>i&&0===R&&(R=180):0>s&&270==R&&(R=90),this.gradientRotation=R,0===c&&0===S&&(this.cornerRadius=E),this.draw()},draw:function(){var e=this.set;e.clear();var i=this.container,s=i.chart,c=this.w,S=this.h,M=this.dx,U=this.dy,G=this.colors,X=this.alpha,F=this.bwidth,R=this.bcolor,E=this.balpha,a=this.gradientRotation,h=this.cornerRadius,l=this.dashLength,p=this.pattern,x=this.topRadius,T=this.bcn,b=G,I=G;"object"==typeof G&&(b=G[0],I=G[G.length-1]);var u,n,k,C,O,m,A,P,D,f=X;p&&(X=0);var o,B,V,q,nt=this.rotate;if(0<Math.abs(M)||0<Math.abs(U))if(isNaN(x))A=I,I=v.adjustLuminosity(b,-.2),I=v.adjustLuminosity(b,-.2),u=v.polygon(i,[0,M,c+M,c,0],[0,U,U,0,0],I,X,1,R,0,a),0<E&&(D=v.line(i,[0,M,c+M],[0,U,U],R,E,F,l)),(n=v.polygon(i,[0,0,c,c,0],[0,S,S,0,0],I,X,1,R,0,a)).translate(M,U),0<E&&(k=v.line(i,[M,M],[U,U+S],R,E,F,l)),C=v.polygon(i,[0,0,M,M,0],[0,S,S+U,U,0],I,X,1,R,0,a),O=v.polygon(i,[c,c,c+M,c+M,c],[0,S,S+U,U,0],I,X,1,R,0,a),0<E&&(m=v.line(i,[c,c+M,c+M,c],[0,U,S+U,S],R,E,F,l)),I=v.adjustLuminosity(A,.2),A=v.polygon(i,[0,M,c+M,c,0],[S,S+U,S+U,S,S],I,X,1,R,0,a),0<E&&(P=v.line(i,[0,M,c+M],[S,S+U,S+U],R,E,F,l));else{var yt,ut,Y;nt?(yt=S/2,I=M/2,Y=S/2,ut=c+M/2,B=Math.abs(S/2),o=Math.abs(M/2)):(I=c/2,yt=U/2,ut=c/2,Y=S+U/2+1,o=Math.abs(c/2),B=Math.abs(U/2)),V=o*x,q=B*x,.1<o&&.1<o&&(u=v.circle(i,o,b,X,F,R,E,!1,B)).translate(I,yt),.1<V&&.1<V&&(A=v.circle(i,V,v.adjustLuminosity(b,.5),X,F,R,E,!1,q)).translate(ut,Y)}for(X=f,1>Math.abs(S)&&(S=0),1>Math.abs(c)&&(c=0),!isNaN(x)&&(0<Math.abs(M)||0<Math.abs(U))?(G={fill:G=[b],stroke:R,"stroke-width":F,"stroke-opacity":E,"fill-opacity":X},nt?(X="M0,0 L"+c+","+(S/2-S/2*x),F=" B",0<c&&(F=" A"),v.VML?X=(X+=F+Math.round(c-V)+","+Math.round(S/2-q)+","+Math.round(c+V)+","+Math.round(S/2+q)+","+c+",0,"+c+","+S)+" L0,"+S+(F+Math.round(-o))+","+Math.round(S/2-B)+","+Math.round(o)+","+Math.round(S/2+B)+",0,"+S+",0,0":(X+="A"+V+","+q+",0,0,0,"+c+","+(S-S/2*(1-x))+"L0,"+S,X+="A"+o+","+B+",0,0,1,0,0"),o=90):(X="M0,0 L"+(F=c/2-c/2*x)+","+S,v.VML?(X="M0,0 L"+F+","+S,F=" B",0>S&&(F=" A"),X+=F+Math.round(c/2-V)+","+Math.round(S-q)+","+Math.round(c/2+V)+","+Math.round(S+q)+",0,"+S+","+c+","+S,X+=" L"+c+",0",X+=F+Math.round(c/2+o)+","+Math.round(B)+","+Math.round(c/2-o)+","+Math.round(-B)+","+c+",0,0,0"):(X+="A"+V+","+q+",0,0,0,"+(c-c/2*(1-x))+","+S+"L"+c+",0",X+="A"+o+","+B+",0,0,1,0,0"),o=180),(i=i.path(X).attr(G)).gradient("linearGradient",[b,v.adjustLuminosity(b,-.3),v.adjustLuminosity(b,-.3),b],o),nt?i.translate(M/2,0):i.translate(0,U/2)):i=0===S?v.line(i,[0,c],[0,0],R,E,F,l):0===c?v.line(i,[0,0],[0,S],R,E,F,l):0<h?v.rect(i,c,S,G,X,F,R,E,h,a,l):v.polygon(i,[0,0,c,c,0],[0,S,S,0,0],G,X,F,R,E,a,!1,l),c=isNaN(x)?0>S?[u,D,n,k,C,O,m,A,P,i]:[A,P,n,k,C,O,u,D,m,i]:nt?0<c?[u,i,A]:[A,i,u]:0>S?[u,i,A]:[A,i,u],v.setCN(s,i,T+"front"),v.setCN(s,n,T+"back"),v.setCN(s,A,T+"top"),v.setCN(s,u,T+"bottom"),v.setCN(s,C,T+"left"),v.setCN(s,O,T+"right"),u=0;u<c.length;u++)(n=c[u])&&(e.push(n),v.setCN(s,n,T+"element"));p&&i.pattern(p,NaN,s.path)},width:function(e){isNaN(e)&&(e=0),this.w=Math.round(e),this.draw()},height:function(e){isNaN(e)&&(e=0),this.h=Math.round(e),this.draw()},animateHeight:function(e,i){var s=this;s.animationFinished=!1,s.easing=i,s.totalFrames=e*v.updateRate,s.rh=s.h,s.frame=0,s.height(1),setTimeout(function(){s.updateHeight.call(s)},1e3/v.updateRate)},updateHeight:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rh-1,i),e.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateHeight.call(e)}):setTimeout(function(){e.updateHeight.call(e)},1e3/v.updateRate)):(e.height(e.rh),e.animationFinished=!0)},animateWidth:function(e,i){var s=this;s.animationFinished=!1,s.easing=i,s.totalFrames=e*v.updateRate,s.rw=s.w,s.frame=0,s.width(1),setTimeout(function(){s.updateWidth.call(s)},1e3/v.updateRate)},updateWidth:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rw-1,i),e.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateWidth.call(e)}):setTimeout(function(){e.updateWidth.call(e)},1e3/v.updateRate)):(e.width(e.rw),e.animationFinished=!0)}})}(),function(){var v=window.AmCharts;v.CategoryAxis=v.Class({inherits:v.AxisBase,construct:function(e){this.cname="CategoryAxis",v.CategoryAxis.base.construct.call(this,e),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,v.applyTheme(this,e,this.cname)},draw:function(){v.CategoryAxis.base.draw.call(this),this.generateDFObject();var e=this.chart.chartData;if(this.data=e,this.labelRotationR=this.labelRotation,this.type=null,v.ifArray(e)){var i,s=this.chart;"scrollbar"!=this.id?(v.setCN(s,this.set,"category-axis"),v.setCN(s,this.labelsSet,"category-axis"),v.setCN(s,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var R,h,l,p,x,T,c=this.start,S=this.labelFrequency,M=0,U=this.end-c+1,G=this.gridCountR,X=this.showFirstLabel,F=this.showLastLabel,E="",a=(E=v.extractPeriod(this.minPeriod),v.getPeriodDuration(E.period,E.count)),b=this.rotate,I=this.firstDayOfWeek,u=this.boldPeriodBeginning;i=v.resetDateToMin(new Date(e[e.length-1].time+1.05*a),this.minPeriod,1,I).getTime(),this.firstTime=s.firstTime,this.endTime>i&&(this.endTime=i),T=this.minorGridEnabled,l=this.gridAlpha;var n=0,k=0;if(this.widthField)for(i=this.start;i<=this.end;i++)if(x=this.data[i]){var C=Number(this.data[i].dataContext[this.widthField]);isNaN(C)||(n+=C,x.widthValue=C)}if(this.parseDates&&!this.equalSpacing)this.lastTime=e[e.length-1].time,this.maxTime=v.resetDateToMin(new Date(this.lastTime+1.05*a),this.minPeriod,1,I).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(M=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,i=this.choosePeriod(0),(i=v.getPeriodDuration(S=i.period,h=i.count))<a&&(S=E.period,h=E.count,i=a),"WW"==(l=S)&&(l="DD"),this.currentDateFormat=this.dateFormatsObject[l],this.stepWidth=this.getStepWidth(U),G=Math.ceil(this.timeDifference/i)+1,E=v.resetDateToMin(new Date(this.startTime-i),S,h,I).getTime(),this.cellWidth=this.getStepWidth(U),c=-1,(U=Math.round(E/i))/2==Math.round(U/2)&&(c=-2,E-=i),(U=this.start)/2==Math.round(U/2)&&U--,0>U&&(U=0),(k=this.end+2)>=this.data.length&&(k=this.data.length),e=!1,e=!X,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),C=U,this.data[U].time!=v.resetDateToMin(new Date(this.data[U].time),S,h,I).getTime()){a=0;var O=E;for(i=U;i<k;i++)this.checkPeriodChange(S,h,x=this.data[i].time,O)&&(2<=++a&&(C=i,i=k),O=x)}if(T&&1<h&&(x=this.chooseMinorFrequency(h),v.getPeriodDuration(S,x)),0<this.gridCountR)for(i=U;i<k;i++)this.checkPeriodChange(S,h,x=this.data[i].time,E)&&i>=C&&(U=this.getCoordinate(i-this.start),T=!1,this.nextPeriod[l]&&(T=this.checkPeriodChange(this.nextPeriod[l],1,x,E,l))&&v.resetDateToMin(new Date(x),this.nextPeriod[l],1,I).getTime()!=x&&(T=!1),a=!1,T&&this.markPeriodChange?(T=this.dateFormatsObject[this.nextPeriod[l]],a=!0):T=this.dateFormatsObject[l],E=v.formatDate(new Date(x),T,s),(i==c&&!X||i==G&&!F)&&(E=" "),e?e=!1:(u||(a=!1),U-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(E=this.labelFunction(E,new Date(x),this,S,h,p)),this.boldLabels&&(a=!0),T=(R=new this.axisItemRenderer(this,U,E,void 0,void 0,void 0,void 0,a)).graphics(),this.pushAxisItem(R),T=T.getBBox().width,v.isModern||(T-=U),this.previousPos=U+T)),p=E=x)}}else if(this.cellWidth=this.getStepWidth(U),U<G&&(G=U),M+=this.start,this.stepWidth=this.getStepWidth(U),0<G)for(I=Math.floor(U/G),x=this.chooseMinorFrequency(I),(U=M)/2==Math.round(U/2)&&U--,0>U&&(U=0),u=0,this.widthField&&(U=this.start,I=1),this.end-U+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),i=U;i<=this.end+2;i++){if(G=!1,0<=i&&i<this.data.length?(E=(h=this.data[i]).category,G=h.forceShow):E="",T&&!isNaN(x)){if(i/x!=Math.round(i/x)&&!G)continue;i/I==Math.round(i/I)||G||(this.gridAlpha=this.minorGridAlpha,E=void 0)}else if(i/I!=Math.round(i/I)&&!G)continue;U=this.getCoordinate(i-M),G=0,"start"==this.gridPosition&&(U-=this.cellWidth/2,G=this.cellWidth/2),R=!0,p=G,"start"==this.tickPosition&&(p=0,R=!1,G=0),(i==c&&!X||i==this.end&&!F)&&(E=void 0),Math.round(u/S)!=u/S&&(E=void 0),u++,e=this.cellWidth,b&&(e=NaN,this.ignoreAxisWidth||!s.autoMargins)&&(e="right"==this.position?s.marginRight-this.titleWidth:s.marginLeft-this.titleWidth,e-=this.tickLength+10),this.labelFunction&&h&&(E=this.labelFunction(E,h,this)),E=v.fixBrakes(E),a=!1,this.boldLabels&&(a=!0),i>this.end&&"start"==this.tickPosition&&(E=" "),this.rotate&&this.inside&&(G-=2),isNaN(h.widthValue)||(h.percentWidthValue=h.widthValue/n*100,U=k,k+=e=this.rotate?this.height*h.widthValue/n:this.width*h.widthValue/n,p=G=e/2),(R=new this.axisItemRenderer(this,U,E,R,e,G,void 0,a,p,!1,h.labelColor,h.className)).serialDataItem=h,this.pushAxisItem(R),this.gridAlpha=l}for(i=X=0;i<this.data.length;i++)(x=this.data[i])&&(this.parseDates&&!this.equalSpacing?(F=x.time,c=this.cellWidth,"MM"==this.minPeriod&&(c=864e5*v.daysInMonth(new Date(F))*this.stepWidth,x.cellWidth=c),F=Math.round((F-this.startTime)*this.stepWidth+c/2)):F=this.getCoordinate(i-M),x.x[this.id]=F);if(this.widthField)for(i=this.start;i<=this.end;i++)(x=this.data[i]).percentWidthValue=(c=x.widthValue)/n*100,this.rotate?(F=this.height*c/n/2+X,X=this.height*c/n+X):(F=this.width*c/n/2+X,X=this.width*c/n+X),x.x[this.id]=F;for(n=this.guides.length,i=0;i<n;i++)I=I=I=T=c=NaN,F=(X=this.guides[i]).above,X.toCategory&&(I=s.getCategoryIndexByValue(X.toCategory),isNaN(I)||(c=this.getCoordinate(I-M),X.expand&&(c+=this.cellWidth/2),R=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,X),this.pushAxisItem(R,F))),X.category&&(I=s.getCategoryIndexByValue(X.category),isNaN(I)||(T=this.getCoordinate(I-M),X.expand&&(T-=this.cellWidth/2),R=new this.axisItemRenderer(this,T,X.label,!0,NaN,I=(c-T)/2,X),this.pushAxisItem(R,F))),u=s.dataDateFormat,X.toDate&&(!u||X.toDate instanceof Date||(X.toDate=X.toDate.toString()+" |"),X.toDate=v.getDate(X.toDate,u),this.equalSpacing?(I=s.getClosestIndex(this.data,"time",X.toDate.getTime(),!1,0,this.data.length-1),isNaN(I)||(c=this.getCoordinate(I-M))):c=(X.toDate.getTime()-this.startTime)*this.stepWidth,R=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,X),this.pushAxisItem(R,F)),X.date&&(!u||X.date instanceof Date||(X.date=X.date.toString()+" |"),X.date=v.getDate(X.date,u),this.equalSpacing?(I=s.getClosestIndex(this.data,"time",X.date.getTime(),!1,0,this.data.length-1),isNaN(I)||(T=this.getCoordinate(I-M))):T=(X.date.getTime()-this.startTime)*this.stepWidth,I=(c-T)/2,R=!0,X.toDate&&(R=!1),R="H"==this.orientation?new this.axisItemRenderer(this,T,X.label,R,2*I,NaN,X):new this.axisItemRenderer(this,T,X.label,!1,NaN,I,X),this.pushAxisItem(R,F)),R&&(I=R.label)&&this.addEventListeners(I,X),(0<c||0<T)&&(I=!1,this.rotate?(c<this.height||T<this.height)&&(I=!0):(c<this.width||T<this.width)&&(I=!0),I&&(T=(c=new this.guideFillRenderer(this,T,c,X)).graphics(),this.pushAxisItem(c,F),X.graphics=T,T.index=i,this.addEventListeners(T,X)));(s=s.chartCursor)&&(b?s.fixHeight(this.cellWidth):(s.fixWidth(this.cellWidth),s.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=m}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(b=this.axisLine.set)&&b.toFront();var m=this.getBBox().height;2<m-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(e){var M,G,i=this.data,s=this.chart,c=s.rotate,S=this.stepWidth;if(this.parseDates&&!this.equalSpacing)e=this.startTime+Math.round(e/S)-this.minDuration()/2,M=s.getClosestIndex(i,"time",e,!1,this.start,this.end+1);else if(this.widthField)for(s=1/0,S=this.start;S<=this.end;S++){var U=this.data[S];U&&(U=Math.abs(U.x[this.id]-e))<s&&(s=U,M=S)}else this.startOnAxis||(e-=S/2),M=this.start+Math.round(e/S);return i[M=v.fitToBounds(M,0,i.length-1)]&&(G=i[M].x[this.id]),c?G>this.height+1&&M--:G>this.width+1&&M--,0>G&&M++,v.fitToBounds(M,0,i.length-1)},dateToCoordinate:function(e){return this.parseDates&&!this.equalSpacing?(e.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(e=this.chart.getClosestIndex(this.data,"time",e.getTime(),!1,0,this.data.length-1),this.getCoordinate(e-this.start)):NaN},categoryToCoordinate:function(e){return this.chart?this.parseDates?this.dateToCoordinate(new Date(e)):(e=this.chart.getCategoryIndexByValue(e),isNaN(e)?void 0:this.getCoordinate(e-this.start)):NaN},coordinateToDate:function(e){return this.equalSpacing?(e=this.xToIndex(e),new Date(this.data[e].time)):new Date(this.startTime+e/this.stepWidth)},coordinateToValue:function(e){if(e=this.xToIndex(e),e=this.data[e])return this.parseDates?e.time:e.category},getCoordinate:function(e){return e*=this.stepWidth,this.startOnAxis||(e+=this.stepWidth/2),Math.round(e)},formatValue:function(e,i){return i||(i=this.currentDateFormat),this.parseDates&&(e=v.formatDate(new Date(e),i,this.chart)),e},showBalloonAt:function(e,i){return void 0===i&&(i=this.parseDates?this.dateToCoordinate(new Date(e)):this.categoryToCoordinate(e)),this.adjustBalloonCoordinate(i)},formatBalloonText:function(e,i,s){var c="",S="",M=this.chart,U=this.data[i];if(U)if(this.parseDates)c=v.formatDate(U.category,s,M),i=v.changeDate(new Date(U.category),this.minPeriod,1),S=v.formatDate(i,s,M),-1!=c.indexOf("fff")&&(c=v.formatMilliseconds(c,U.category),S=v.formatMilliseconds(S,i));else{var G;this.data[i+1]&&(G=this.data[i+1]),c=v.fixNewLines(U.category),G&&(S=v.fixNewLines(G.category))}return(e=e.replace(/\[\[category\]\]/g,String(c))).replace(/\[\[toCategory\]\]/g,String(S))},adjustBalloonCoordinate:function(e,i){var s=this.xToIndex(e),c=this.chart.chartCursor;if(this.stickBalloonToCategory){var S=this.data[s];S&&(e=S.x[this.id]),this.stickBalloonToStart&&(e-=this.cellWidth/2);var M=0;if(c){var U=c.limitToGraph;U&&(U.hidden||(M=S.axes[U.valueAxis.id].graphs[U.id].y)),this.rotate?("left"==this.position?(U&&(M-=c.width),0<M&&(M=0)):0>M&&(M=0),c.fixHLine(e,M)):("top"==this.position?(U&&(M-=c.height),0<M&&(M=0)):0>M&&(M=0),c.fullWidth&&(e+=1),c.fixVLine(e,M))}}return c&&!i&&(c.setIndex(s),this.parseDates&&c.setTimestamp(this.coordinateToDate(e).getTime())),e}})}(),AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}},function(){var v,e,i,s,c,S={3145:function(R,E,a){"use strict";a.d(E,{UZ:function(){return p},cP:function(){return l},i_:function(){return h}});const h=new class{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.3.0"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};function l(x){h.licenses.push(x)}function p(){let x;for(;x=h.rootElements.pop();)x.dispose()}},6493:function(R,E,a){"use strict";a.d(E,{f:function(){return Gi}});var h=a(8777),l=a(2036),p=a(4431),x=a(1706),T=a(6881),b=a(7449),I=a(5071),u=a(7652);class n{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(K=>{I.each(K,it=>{I.each(this._targets,gt=>{gt.target===it.target&&gt.callback()})})})}addTarget(K,it){this._observer.observe(K,{box:"border-box"}),this._targets.push({target:K,callback:it})}removeTarget(K){this._observer.unobserve(K),I.keepIf(this._targets,it=>it.target!==K)}}class k{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(K,it){if(null===this._timer){let gt=null;const Pt=()=>{const jt=Date.now();(null===gt||jt>gt+k.delay)&&(gt=jt,I.each(this._targets,Kt=>{let se=Kt.target.getBoundingClientRect();se.width===Kt.size.width&&se.height===Kt.size.height||(Kt.size=se,Kt.callback())})),this._timer=0===this._targets.length?null:requestAnimationFrame(Pt)};this._timer=requestAnimationFrame(Pt)}this._targets.push({target:K,callback:it,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}removeTarget(K){I.keepIf(this._targets,it=>it.target!==K),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(k,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let C=null;class O{constructor(K,it){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=(null===C&&(C=typeof ResizeObserver<"u"?new n:new k),C),this._element=K,this._listener=u.onZoom(it),this._sensor.addTarget(K,it)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}var m=a(9821),A=a(1479),P=a(7142),D=a(2876),f=a(780),o=a(6460),B=a(798),V=a(6331),q=a(3100);class nt extends V.JH{_setDefaults(){this.setPrivate("defaultLocale",q.Z),super._setDefaults()}translate(K,it,...gt){it||(it=this._root.locale||this.getPrivate("defaultLocale"));let Pt=K,jt=it[K];if(null===jt)Pt="";else if(null!=jt)jt&&(Pt=jt);else if(it!==this.getPrivate("defaultLocale"))return this.translate(K,this.getPrivate("defaultLocale"),...gt);if(gt.length)for(let Kt=gt.length,se=0;se<Kt;++se)Pt=Pt.split("%"+(se+1)).join(gt[se]);return Pt}translateAny(K,it,...gt){return this.translate(K,it,...gt)}setTranslationAny(K,it,gt){(gt||this._root.locale)[K]=it}translateEmpty(K,it,...gt){let Pt=this.translate(K,it,...gt);return Pt==K?"":Pt}translateFunc(K,it){return this._root.locale[K]?this._root.locale[K]:it!==this.getPrivate("defaultLocale")?this.translateFunc(K,this.getPrivate("defaultLocale")):()=>""}translateAll(K,it){return this.isDefault()?K:I.map(K,gt=>this.translate(gt,it))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}var yt=a(9770),ut=a(3783),Y=a(4680),tt=a(1112);class wt{constructor(K=1,it=0,gt=0,Pt=1,jt=0,Kt=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=K,this.b=it,this.c=gt,this.d=Pt,this.tx=jt,this.ty=Kt}setTransform(K,it,gt,Pt,jt,Kt=1){this.a=Math.cos(jt)*Kt,this.b=Math.sin(jt)*Kt,this.c=-Math.sin(jt)*Kt,this.d=Math.cos(jt)*Kt,this.tx=K-(gt*this.a+Pt*this.c),this.ty=it-(gt*this.b+Pt*this.d)}apply(K){return{x:this.a*K.x+this.c*K.y+this.tx,y:this.b*K.x+this.d*K.y+this.ty}}applyInverse(K){const it=1/(this.a*this.d+this.c*-this.b);return{x:this.d*it*K.x+-this.c*it*K.y+(this.ty*this.c-this.tx*this.d)*it,y:this.a*it*K.y+-this.b*it*K.x+(-this.ty*this.a+this.tx*this.b)*it}}append(K){const it=this.a,gt=this.b,Pt=this.c,jt=this.d;this.a=K.a*it+K.b*Pt,this.b=K.a*gt+K.b*jt,this.c=K.c*it+K.d*Pt,this.d=K.c*gt+K.d*jt,this.tx=K.tx*it+K.ty*Pt+this.tx,this.ty=K.tx*gt+K.ty*jt+this.ty}prepend(K){const it=this.tx;if(1!==K.a||0!==K.b||0!==K.c||1!==K.d){const gt=this.a,Pt=this.c;this.a=gt*K.a+this.b*K.c,this.b=gt*K.b+this.b*K.d,this.c=Pt*K.a+this.d*K.c,this.d=Pt*K.b+this.d*K.d}this.tx=it*K.a+this.ty*K.c+K.tx,this.ty=it*K.b+this.ty*K.d+K.ty}copyFrom(K){this.a=K.a,this.b=K.b,this.c=K.c,this.d=K.d,this.tx=K.tx,this.ty=K.ty}}var St=a(6245),At=a(7255),ht=a(256),mt=a(5040),dt=a(751),Lt=2*Math.PI,Ct=function(Qe,K,it,gt,Pt,jt,Kt){var se=Qe.x,ie=Qe.y;return{x:gt*(se*=K)-Pt*(ie*=it)+jt,y:Pt*se+gt*ie+Kt}},vt=function(Qe,K){var it=1.5707963267948966===K?.551915024494:-1.5707963267948966===K?-.551915024494:1.3333333333333333*Math.tan(K/4),gt=Math.cos(Qe),Pt=Math.sin(Qe),jt=Math.cos(Qe+K),Kt=Math.sin(Qe+K);return[{x:gt-Pt*it,y:Pt+gt*it},{x:jt+Kt*it,y:Kt-jt*it},{x:jt,y:Kt}]},kt=function(Qe,K,it,gt){var Pt=Qe*it+K*gt;return Pt>1&&(Pt=1),Pt<-1&&(Pt=-1),(Qe*gt-K*it<0?-1:1)*Math.acos(Pt)},Rt=function(Qe){var K=Qe.px,it=Qe.py,gt=Qe.cx,Pt=Qe.cy,jt=Qe.rx,Kt=Qe.ry,se=Qe.xAxisRotation,ie=void 0===se?0:se,fe=Qe.largeArcFlag,He=void 0===fe?0:fe,Ge=Qe.sweepFlag,ai=void 0===Ge?0:Ge,ye=[];if(0===jt||0===Kt)return[];var ii=Math.sin(ie*Lt/360),je=Math.cos(ie*Lt/360),wi=je*(K-gt)/2+ii*(it-Pt)/2,ei=-ii*(K-gt)/2+je*(it-Pt)/2;if(0===wi&&0===ei)return[];jt=Math.abs(jt),Kt=Math.abs(Kt);var Bi=Math.pow(wi,2)/Math.pow(jt,2)+Math.pow(ei,2)/Math.pow(Kt,2);Bi>1&&(jt*=Math.sqrt(Bi),Kt*=Math.sqrt(Bi));var si=function(er,Pn){if(Array.isArray(er))return er;if(Symbol.iterator in Object(er))return function(Kn,Bn){var In=[],Wi=!0,Jn=!1,Or=void 0;try{for(var Qn,Fn=Kn[Symbol.iterator]();!(Wi=(Qn=Fn.next()).done)&&(In.push(Qn.value),4!==In.length);Wi=!0);}catch(Vn){Jn=!0,Or=Vn}finally{try{!Wi&&Fn.return&&Fn.return()}finally{if(Jn)throw Or}}return In}(er);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(er,Pn,Kn,Bn,In,Wi,Jn,Or,Qn,Fn,Vn,Gr){var rr=Math.pow(In,2),Nr=Math.pow(Wi,2),Sr=Math.pow(Vn,2),Br=Math.pow(Gr,2),jr=rr*Nr-rr*Br-Nr*Sr;jr<0&&(jr=0),jr/=rr*Br+Nr*Sr;var br=(jr=Math.sqrt(jr)*(Jn===Or?-1:1))*In/Wi*Gr,Zr=jr*-Wi/In*Vn,$r=Fn*br-Qn*Zr+(er+Kn)/2,Mo=Qn*br+Fn*Zr+(Pn+Bn)/2,Wr=(Vn-br)/In,Oo=(Gr-Zr)/Wi,qr=(-Vn-br)/In,Kr=(-Gr-Zr)/Wi,ao=kt(1,0,Wr,Oo),Qr=kt(Wr,Oo,qr,Kr);return 0===Or&&Qr>0&&(Qr-=Lt),1===Or&&Qr<0&&(Qr+=Lt),[$r,Mo,ao,Qr]}(K,it,gt,Pt,jt,Kt,He,ai,ii,je,wi,ei)),pn=si[0],Fi=si[1],xn=si[2],tn=si[3],An=Math.abs(tn)/(Lt/4);Math.abs(1-An)<1e-7&&(An=1);var Rn=Math.max(Math.ceil(An),1);tn/=Rn;for(var wn=0;wn<Rn;wn++)ye.push(vt(xn,tn)),xn+=tn;return ye.map(function(er){var Pn=Ct(er[0],jt,Kt,je,ii,pn,Fi),Kn=Pn.x,Bn=Pn.y,In=Ct(er[1],jt,Kt,je,ii,pn,Fi),Wi=In.x,Jn=In.y,Or=Ct(er[2],jt,Kt,je,ii,pn,Fi);return{x1:Kn,y1:Bn,x2:Wi,y2:Jn,x:Or.x,y:Or.y}})};function Xt(Qe,K,it){if(K!==it)throw new Error("Required "+it+" arguments for "+Qe+" but got "+K)}function Ft(Qe,K,it){if(K<it)throw new Error("Required at least "+it+" arguments for "+Qe+" but got "+K)}function qt(Qe,K,it){if(Ft(Qe,K,it),K%it!=0)throw new Error("Arguments for "+Qe+" must be in pairs of "+it)}function ae(Qe){for(let K=0;K<Qe.length;K+=7){let it=K+3,gt=Qe[it];if(gt.length>1){const Pt=/^([01])([01])(.*)$/.exec(gt);null!==Pt&&(Qe.splice(it,0,Pt[1]),++it,Qe.splice(it,0,Pt[2]),++it,Pt[3].length>0?Qe[it]=Pt[3]:Qe.splice(it,1))}if(++it,gt=Qe[it],gt.length>1){const Pt=/^([01])(.+)$/.exec(gt);null!==Pt&&(Qe.splice(it,0,Pt[1]),++it,Qe[it]=Pt[2])}}}function te(Qe){if(0===Qe||1===Qe)return Qe;throw new Error("Flag must be 0 or 1")}function de(Qe,K){for(;(!Qe.interactive||K(Qe))&&Qe._parent;)Qe=Qe._parent}function re(Qe,K,it){return u.addEventListener(Qe,u.getRendererEvent(K),gt=>{let Pt=gt.touches;Pt?(0==Pt.length&&(Pt=gt.changedTouches),it(I.copy(Pt))):it([gt])})}function Ut(Qe){const K=document.createElement("canvas");K.width=1,K.height=1;const it=K.getContext("2d",{willReadFrequently:!0});it.drawImage(Qe,0,0,1,1);try{return it.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+Qe.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Vt(Qe){Qe.width=0,Qe.height=0,Qe.style.width="0px",Qe.style.height="0px"}class ue{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(K){this._x=K}set y(K){this._y=K}}class me extends b.KK{constructor(K){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new ue}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new wt}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new wt}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new wt}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=K}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let K=this;for(;;){if(K._layer)return K._layer;if(!K._parent)return this._renderer.defaultLayer;K=K._parent}}setLayer(K,it){null==K?this._layer=void 0:(this._layer=this._renderer.getLayer(K,!0),this._layer.visible=!0,this._layer.margin=it,it&&u.setInteractive(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(K){}_getColorId(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(){return 0==this.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(){return this._isInteractive()}contains(K){for(;;){if(K===this)return!0;if(!K._parent)return!1;K=K._parent}}toGlobal(K){return this._matrix.apply(K)}toLocal(K){return this._matrix.applyInverse(K)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(K){this._setMatrix();const it=this.getLocalMatrix(),gt=it.apply({x:K.left,y:K.top}),Pt=it.apply({x:K.right,y:K.top}),jt=it.apply({x:K.right,y:K.bottom}),Kt=it.apply({x:K.left,y:K.bottom});return{left:Math.min(gt.x,Pt.x,jt.x,Kt.x),top:Math.min(gt.y,Pt.y,jt.y,Kt.y),right:Math.max(gt.x,Pt.x,jt.x,Kt.x),bottom:Math.max(gt.y,Pt.y,jt.y,Kt.y)}}on(K,it,gt){return this.interactive?this._renderer._addEvent(this,K,it,gt):new b.ku(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(K,it){const gt=this._matrix;let Pt=gt.tx*it,jt=gt.ty*it;this.crisp&&(Pt=Math.floor(Pt)+.5,jt=Math.floor(jt)+.5),K.setTransform(gt.a*it,gt.b*it,gt.c*it,gt.d*it,Pt,jt)}_transformMargin(K,it,gt){const Pt=this._matrix;K.setTransform(Pt.a*it,Pt.b*it,Pt.c*it,Pt.d*it,(Pt.tx+gt.left)*it,(Pt.ty+gt.top)*it)}_transformLayer(K,it,gt){gt.margin?this._transformMargin(K,gt.scale||it,gt.margin):this._transform(K,gt.scale||it)}render(K){if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();const it=this._renderer.resolution,gt=this._renderer.layers,Pt=this._renderer._ghostLayer,jt=Pt.context,Kt=this.mask;Kt&&Kt._setMatrix(),I.each(gt,se=>{if(se){const ie=se.context;ie.save(),Kt&&(Kt._transformLayer(ie,it,se),Kt._runPath(ie),ie.clip()),ie.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(ie,it,se),this.filter&&(ie.filter=this.filter)}}),jt.save(),Kt&&this._isInteractiveMask()&&(Kt._transformMargin(jt,it,Pt.margin),Kt._runPath(jt),jt.clip()),this._transformMargin(jt,it,Pt.margin),this._render(K),jt.restore(),I.each(gt,se=>{se&&se.context.restore()})}}_render(K){!1===this.exportable&&((this._layer||K).tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(K=>K.value===this)}shouldCancelTouch(){const K=this._renderer;return!(K.tapToActivate&&!K._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}class ve extends me{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(){return this.interactiveChildren||super._isInteractiveMask()}addChild(K){K._parent=this,this._children.push(K),K._layer&&this.registerChildLayer(K._layer)}addChildAt(K,it){K._parent=this,this._children.splice(it,0,K),K._layer&&this.registerChildLayer(K._layer)}removeChild(K){K._parent=void 0,I.removeFirst(this._children,K)}_render(K){super._render(K);const it=this._renderer;this.interactive&&this.interactiveChildren&&++it._forceInteractive;const gt=this._layer||K;I.each(this._children,Pt=>{Pt.compoundAlpha=this.compoundAlpha*this.alpha,Pt.render(gt)}),this.interactive&&this.interactiveChildren&&--it._forceInteractive}registerChildLayer(K){this._childLayers||(this._childLayers=[]),I.pushOne(this._childLayers,K),this._parent&&this._parent.registerChildLayer(K)}markDirtyLayer(K=!1){super.markDirtyLayer(),K&&this._childLayers&&I.each(this._childLayers,it=>it.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&I.each(this._childLayers,K=>{K.dirty=!0})}}function le(Qe,K){Qe.left=Math.min(Qe.left,K.x),Qe.top=Math.min(Qe.top,K.y),Qe.right=Math.max(Qe.right,K.x),Qe.bottom=Math.max(Qe.bottom,K.y)}class We{colorize(K,it){}path(K){}addBounds(K){}}class $e extends We{constructor(K){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:K})}colorize(K,it){K.fillStyle=void 0!==it?it:this.color}}class Li extends We{constructor(K){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:K})}colorize(K,it){K.fill(),this.clearShadow&&(K.shadowColor="",K.shadowBlur=0,K.shadowOffsetX=0,K.shadowOffsetY=0)}}class Si extends We{colorize(K,it){K.stroke()}}class bi extends We{constructor(K,it,gt){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:gt})}colorize(K,it){K.strokeStyle=void 0!==it?it:this.color,K.lineWidth=this.width,this.lineJoin&&(K.lineJoin=this.lineJoin)}}class ji extends We{constructor(K){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:K})}colorize(K,it){K.setLineDash(this.dash)}}class ui extends We{constructor(K){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:K})}colorize(K,it){K.lineDashOffset=this.dashOffset}}class Pi extends We{constructor(K,it,gt,Pt){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:Pt})}path(K){K.rect(this.x,this.y,this.width,this.height)}addBounds(K){const it=this.x,gt=this.y,Pt=it+this.width,jt=gt+this.height;le(K,{x:it,y:gt}),le(K,{x:Pt,y:gt}),le(K,{x:it,y:jt}),le(K,{x:Pt,y:jt})}}class Ai extends We{constructor(K,it,gt){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:gt})}path(K){K.moveTo(this.x+this.radius,this.y),K.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(K){le(K,{x:this.x-this.radius,y:this.y-this.radius}),le(K,{x:this.x+this.radius,y:this.y+this.radius})}}class ke extends We{constructor(K,it,gt,Pt){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:Pt})}path(K){K.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}addBounds(K){le(K,{x:this.x-this.radiusX,y:this.y-this.radiusY}),le(K,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class di extends We{constructor(K,it,gt,Pt,jt,Kt){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:Pt}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:jt}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:Kt})}path(K){this.radius>0&&K.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(K){let it=dt.getArcBounds(this.cx,this.cy,this.startAngle*dt.DEGREES,this.endAngle*dt.DEGREES,this.radius);le(K,{x:it.left,y:it.top}),le(K,{x:it.right,y:it.bottom})}}class lt extends We{constructor(K,it,gt,Pt,jt){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:Pt}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:jt})}path(K){this.radius>0&&K.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(K){}}class Dt extends We{constructor(K,it){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:it})}path(K){K.lineTo(this.x,this.y)}addBounds(K){le(K,{x:this.x,y:this.y})}}class Jt extends We{constructor(K,it){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:it})}path(K){K.moveTo(this.x,this.y)}addBounds(K){le(K,{x:this.x,y:this.y})}}class he extends We{path(K){K.closePath()}}class Te extends We{constructor(K,it,gt,Pt,jt,Kt){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:Pt}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:jt}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:Kt})}path(K){K.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(K){le(K,{x:this.cpX,y:this.cpY}),le(K,{x:this.cpX2,y:this.cpY2}),le(K,{x:this.toX,y:this.toY})}}class Fe extends We{constructor(K,it,gt,Pt){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:Pt})}path(K){K.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(K){le(K,{x:this.cpX,y:this.cpY}),le(K,{x:this.toX,y:this.toY})}}class Ci extends We{constructor(K,it,gt,Pt,jt){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:Pt}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:jt})}colorize(K,it){this.opacity&&(K.fillStyle=this.color),K.shadowColor=this.color,K.shadowBlur=this.blur,K.shadowOffsetX=this.offsetX,K.shadowOffsetY=this.offsetY}}class Hi extends We{constructor(K,it,gt,Pt,jt){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:Pt}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:jt})}path(K){K.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(K){le(K,{x:this.x,y:this.y}),le(K,{x:this.width,y:this.height})}}class Ri extends me{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:Y.b.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(K){this._operations.push(K)}beginFill(K,it=1){this._fillAlpha=it,K?K instanceof tt.Il?this._pushOp(new $e(K.toCSS(it))):(this.isMeasured=!0,this._pushOp(new $e(K))):this._pushOp(new $e("rgba(0, 0, 0, "+it+")"))}endFill(){this._pushOp(new Li(this._hasShadows))}endStroke(){this._pushOp(new Si)}lineStyle(K=0,it,gt=1,Pt){this._strokeAlpha=gt,this._pushOp(new bi(K,it?it instanceof tt.Il?it.toCSS(gt):it:"rgba(0, 0, 0, "+gt+")",Pt))}setLineDash(K){this._pushOp(new ji(K||[]))}setLineDashOffset(K=0){this._pushOp(new ui(K))}drawRect(K,it,gt,Pt){this._pushOp(new Pi(K,it,gt,Pt))}drawCircle(K,it,gt){this._pushOp(new Ai(K,it,gt))}drawEllipse(K,it,gt,Pt){this._pushOp(new ke(K,it,gt,Pt))}arc(K,it,gt,Pt,jt,Kt=!1){this._pushOp(new di(K,it,gt,Pt,jt,Kt))}arcTo(K,it,gt,Pt,jt){this._pushOp(new lt(K,it,gt,Pt,jt))}lineTo(K,it){this._pushOp(new Dt(K,it))}moveTo(K,it){this._pushOp(new Jt(K,it))}bezierCurveTo(K,it,gt,Pt,jt,Kt){this._pushOp(new Te(K,it,gt,Pt,jt,Kt))}quadraticCurveTo(K,it,gt,Pt){this._pushOp(new Fe(K,it,gt,Pt))}closePath(){this._pushOp(new he)}shadow(K,it=0,gt=0,Pt=0,jt){this._hasShadows=!0,this._pushOp(new Ci(K.toCSS(jt||this._fillAlpha||this._strokeAlpha),it,gt,Pt))}image(K,it,gt,Pt,jt){this._pushOp(new Hi(K,it,gt,Pt,jt))}svgPath(K){let it=0,gt=0,Pt=null,jt=null,Kt=null,se=null;const ie=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,fe=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let He;for(;null!==(He=ie.exec(K));){const Ge=He[1],ai=He[2],ye=[];for(;null!==(He=fe.exec(ai));)ye.push(He[1]);switch("S"!==Ge&&"s"!==Ge&&"C"!==Ge&&"c"!==Ge&&(Pt=null,jt=null),"Q"!==Ge&&"q"!==Ge&&"T"!==Ge&&"t"!==Ge&&(Kt=null,se=null),Ge){case"M":qt(Ge,ye.length,2),it=+ye[0],gt=+ye[1],this.moveTo(it,gt);for(let je=2;je<ye.length;je+=2)it=+ye[je],gt=+ye[je+1],this.lineTo(it,gt);break;case"m":qt(Ge,ye.length,2),it+=+ye[0],gt+=+ye[1],this.moveTo(it,gt);for(let je=2;je<ye.length;je+=2)it+=+ye[je],gt+=+ye[je+1],this.lineTo(it,gt);break;case"L":qt(Ge,ye.length,2);for(let je=0;je<ye.length;je+=2)it=+ye[je],gt=+ye[je+1],this.lineTo(it,gt);break;case"l":qt(Ge,ye.length,2);for(let je=0;je<ye.length;je+=2)it+=+ye[je],gt+=+ye[je+1],this.lineTo(it,gt);break;case"H":Ft(Ge,ye.length,1);for(let je=0;je<ye.length;++je)it=+ye[je],this.lineTo(it,gt);break;case"h":Ft(Ge,ye.length,1);for(let je=0;je<ye.length;++je)it+=+ye[je],this.lineTo(it,gt);break;case"V":Ft(Ge,ye.length,1);for(let je=0;je<ye.length;++je)gt=+ye[je],this.lineTo(it,gt);break;case"v":Ft(Ge,ye.length,1);for(let je=0;je<ye.length;++je)gt+=+ye[je],this.lineTo(it,gt);break;case"C":qt(Ge,ye.length,6);for(let je=0;je<ye.length;je+=6)Pt=+ye[je+2],jt=+ye[je+3],it=+ye[je+4],gt=+ye[je+5],this.bezierCurveTo(+ye[je],+ye[je+1],Pt,jt,it,gt);break;case"c":qt(Ge,ye.length,6);for(let je=0;je<ye.length;je+=6){const wi=+ye[je]+it,ei=+ye[je+1]+gt;Pt=+ye[je+2]+it,jt=+ye[je+3]+gt,it+=+ye[je+4],gt+=+ye[je+5],this.bezierCurveTo(wi,ei,Pt,jt,it,gt)}break;case"S":qt(Ge,ye.length,4),null!==Pt&&null!==jt||(Pt=it,jt=gt);for(let je=0;je<ye.length;je+=4){const wi=2*it-Pt,ei=2*gt-jt;Pt=+ye[je],jt=+ye[je+1],it=+ye[je+2],gt=+ye[je+3],this.bezierCurveTo(wi,ei,Pt,jt,it,gt)}break;case"s":qt(Ge,ye.length,4),null!==Pt&&null!==jt||(Pt=it,jt=gt);for(let je=0;je<ye.length;je+=4){const wi=2*it-Pt,ei=2*gt-jt;Pt=+ye[je]+it,jt=+ye[je+1]+gt,it+=+ye[je+2],gt+=+ye[je+3],this.bezierCurveTo(wi,ei,Pt,jt,it,gt)}break;case"Q":qt(Ge,ye.length,4);for(let je=0;je<ye.length;je+=4)Kt=+ye[je],se=+ye[je+1],it=+ye[je+2],gt=+ye[je+3],this.quadraticCurveTo(Kt,se,it,gt);break;case"q":qt(Ge,ye.length,4);for(let je=0;je<ye.length;je+=4)Kt=+ye[je]+it,se=+ye[je+1]+gt,it+=+ye[je+2],gt+=+ye[je+3],this.quadraticCurveTo(Kt,se,it,gt);break;case"T":qt(Ge,ye.length,2),null!==Kt&&null!==se||(Kt=it,se=gt);for(let je=0;je<ye.length;je+=2)Kt=2*it-Kt,se=2*gt-se,it=+ye[je],gt=+ye[je+1],this.quadraticCurveTo(Kt,se,it,gt);break;case"t":qt(Ge,ye.length,2),null!==Kt&&null!==se||(Kt=it,se=gt);for(let je=0;je<ye.length;je+=2)Kt=2*it-Kt,se=2*gt-se,it+=+ye[je],gt+=+ye[je+1],this.quadraticCurveTo(Kt,se,it,gt);break;case"A":case"a":const ii="a"===Ge;ae(ye),qt(Ge,ye.length,7);for(let je=0;je<ye.length;je+=7){let wi=+ye[je+5],ei=+ye[je+6];ii&&(wi+=it,ei+=gt);const Bi=Rt({px:it,py:gt,rx:+ye[je],ry:+ye[je+1],xAxisRotation:+ye[je+2],largeArcFlag:te(+ye[je+3]),sweepFlag:te(+ye[je+4]),cx:wi,cy:ei});I.each(Bi,Di=>{this.bezierCurveTo(Di.x1,Di.y1,Di.x2,Di.y2,Di.x,Di.y),it=Di.x,gt=Di.y})}break;case"Z":case"z":Xt(Ge,ye.length,0),this.closePath()}}}_runPath(K){K.beginPath(),I.each(this._operations,it=>{it.path(K)})}_render(K){super._render(K);const it=this._layer||K,gt=it.dirty,Pt=this._isInteractive();if(gt||Pt){const jt=it.context,Kt=this._renderer._ghostLayer.context;let se;gt&&(jt.globalCompositeOperation=this.blendMode,jt.beginPath()),Pt&&(Kt.beginPath(),se=this._getColorId()),I.each(this._operations,ie=>{gt&&(ie.path(jt),ie.colorize(jt,void 0)),Pt&&(ie.path(Kt),ie.colorize(Kt,se))})}}renderDetached(K){if(this.visible){this._setMatrix(),K.save();const it=this.mask;it&&(it._setMatrix(),it._transform(K,1),it._runPath(K),K.clip()),K.globalAlpha=this.compoundAlpha*this.alpha,this._transform(K,1),this.filter&&(K.filter=this.filter),K.globalCompositeOperation=this.blendMode,K.beginPath(),I.each(this._operations,gt=>{gt.path(K),gt.colorize(K,void 0)}),K.restore()}}_addBounds(K){this.visible&&this.isMeasured&&I.each(this._operations,it=>{it.addBounds(K)})}}class nn extends me{constructor(K,it,gt){super(K),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=it,this.style=gt}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(K){this.style.textAlign&&(K.textAlign=this.style.textAlign),this.style.direction&&(K.direction=this.style.direction),this.style.textBaseline&&(K.textBaseline=this.style.textBaseline)}_prerender(K,it=!1,gt=!1){super._render(K);const Pt=K.context,jt=this._renderer._ghostLayer.context,Kt=this.style;let se=this._getFontStyle(void 0,gt);Pt.font=se,this._isInteractive()&&!it&&(jt.font=se),Kt.fill&&(Pt.fillStyle=Kt.fill instanceof tt.Il?Kt.fill.toCSS(null!=Kt.fillOpacity?Kt.fillOpacity:1):Kt.fill),Kt.shadowColor&&(K.context.shadowColor=Kt.shadowColor.toCSS(Kt.shadowOpacity||1)),Kt.shadowBlur&&(K.context.shadowBlur=Kt.shadowBlur),Kt.shadowOffsetX&&(K.context.shadowOffsetX=Kt.shadowOffsetX),Kt.shadowOffsetY&&(K.context.shadowOffsetY=Kt.shadowOffsetY),this._shared(Pt),this._isInteractive()&&!it&&(jt.fillStyle=this._getColorId(),this._shared(jt))}_getFontStyle(K,it=!1){const gt=this.style;let Pt=[];return K&&K.fontVariant?Pt.push(K.fontVariant):gt.fontVariant&&Pt.push(gt.fontVariant),it||(K&&K.fontWeight?Pt.push(K.fontWeight):gt.fontWeight&&Pt.push(gt.fontWeight)),K&&K.fontStyle?Pt.push(K.fontStyle):gt.fontStyle&&Pt.push(gt.fontStyle),K&&K.fontSize?(mt.isNumber(K.fontSize)&&(K.fontSize=K.fontSize+"px"),Pt.push(K.fontSize)):gt.fontSize&&(mt.isNumber(gt.fontSize)&&(gt.fontSize=gt.fontSize+"px"),Pt.push(gt.fontSize)),K&&K.fontFamily?Pt.push(K.fontFamily):gt.fontFamily?Pt.push(gt.fontFamily):Pt.length&&Pt.push("Arial"),Pt.join(" ")}_render(K){const it=this._layer||K;if(this._textInfo||this._measure(it),this._textVisible){const gt=this._isInteractive(),Pt=it.context,jt=it.dirty,Kt=this._renderer._ghostLayer.context;Pt.save(),Kt.save(),this._prerender(it),I.each(this._textInfo,(se,ie)=>{I.each(se.textChunks,(fe,He)=>{if(fe.style&&(Pt.save(),Kt.save(),Pt.font=fe.style,this._isInteractive()&&(Kt.font=fe.style)),fe.fill&&(Pt.save(),Pt.fillStyle=fe.fill.toCSS()),jt&&Pt.fillText(fe.text,fe.offsetX,se.offsetY+fe.offsetY),"underline"==fe.textDecoration||"line-through"==fe.textDecoration){let Ge,ai=1,ye=1,ii=fe.height,je=fe.offsetX;switch(this.style.textAlign){case"right":case"end":je-=fe.width;break;case"center":je-=fe.width/2}if(fe.style)switch(At.V.getTextStyle(fe.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":ai=2}ii&&(ye=ii/20),Ge="line-through"==fe.textDecoration?ai+se.offsetY+fe.offsetY-fe.height/2:ai+1.5*ye+se.offsetY+fe.offsetY,Pt.save(),Pt.beginPath(),fe.fill?Pt.strokeStyle=fe.fill.toCSS():this.style.fill&&this.style.fill instanceof tt.Il&&(Pt.strokeStyle=this.style.fill.toCSS()),Pt.lineWidth=ai*ye,Pt.moveTo(je,Ge),Pt.lineTo(je+fe.width,Ge),Pt.stroke(),Pt.restore()}gt&&this.interactive&&Kt.fillText(fe.text,fe.offsetX,se.offsetY+fe.offsetY),fe.fill&&Pt.restore(),fe.style&&(Pt.restore(),Kt.restore())})}),Pt.restore(),Kt.restore()}}_addBounds(K){if(this.visible&&this.isMeasured){const it=this._measure(this.getLayer());le(K,{x:it.left,y:it.top}),le(K,{x:it.right,y:it.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(K){const it=K.context,gt=this._renderer._ghostLayer.context,Pt="rtl"==this.style.direction;this._textInfo=[];const jt=this.style.oversizedBehavior,Kt=this.style.maxWidth,se=mt.isNumber(Kt)&&"truncate"==jt,ie=mt.isNumber(Kt)&&("wrap"==jt||"wrap-no-break"==jt);it.save(),gt.save(),this._prerender(K,!0,this._ignoreFontWeight());const fe="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",He=this.text.toString().replace(/\r/g,"").split(/\n/);let Ge,ai=!0,ye=0,ii=0,je=0;I.each(He,(ei,Bi)=>{let Di;for(Di=""==ei?[{type:"value",text:""}]:At.V.chunk(ei,!1,this.style.ignoreFormatting);Di.length>0;){let si={offsetY:je,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const pn=this._measureText(fe,it);let xn;si.height=pn.actualBoundingBoxAscent+pn.actualBoundingBoxDescent,si.ascent=pn.actualBoundingBoxAscent;let tn,An,Rn,wn=this.style.textDecoration,er=!1,Pn=!0,Kn=[];I.eachContinue(Di,(Bn,In)=>{if("format"==Bn.type)if("[/]"==Bn.text)ai||(it.restore(),gt.restore(),ai=!0),tn=void 0,Ge=void 0,An=void 0,wn=this.style.textDecoration,Rn=void 0,xn=Bn.text;else{ai||(it.restore(),gt.restore());let Wi=At.V.getTextStyle(Bn.text);const Jn=this._getFontStyle(Wi);it.save(),gt.save(),it.font=Jn,Ge=Jn,xn=Bn.text,Wi.textDecoration&&(wn=Wi.textDecoration),Wi.fill&&(tn=Wi.fill),Wi.width&&(An=mt.toNumber(Wi.width)),Wi.verticalAlign&&(Rn=Wi.verticalAlign),ai=!1;const Or=this._measureText(fe,it),Qn=Or.actualBoundingBoxAscent+Or.actualBoundingBoxDescent;Qn>si.height&&(si.height=Qn),Or.actualBoundingBoxAscent>si.ascent&&(si.ascent=Or.actualBoundingBoxAscent)}else if("value"==Bn.type&&!er){const Wi=this._measureText(Bn.text,it);let Jn=Wi.actualBoundingBoxLeft+Wi.actualBoundingBoxRight;if(se){let Vn=Pn||this.style.breakWords||!1;const Gr=this.style.ellipsis||"",rr=this._measureText(Gr,it),Nr=rr.actualBoundingBoxLeft+rr.actualBoundingBoxRight;si.width+Jn>Kt&&(Bn.text=this._truncateText(it,Bn.text,Kt-si.width-Nr,Vn),Bn.text+=Gr,er=!0)}else if(ie&&si.width+Jn>Kt){const Gr=this._truncateText(it,Bn.text,Kt-si.width,!1,Pn&&"wrap-no-break"!=this.style.oversizedBehavior);if(""==Gr)return this._textVisible=!0,!1;Kn=Di.slice(In+1),u.trim(Gr)!=u.trim(Bn.text)&&(Kn.unshift({type:"value",text:Bn.text.substr(Gr.length)}),xn&&Kn.unshift({type:"format",text:xn})),Bn.text=u.trim(Gr),Di=[],er=!0}let Or=1,Qn=1;if(Ge&&An&&An>Jn){const Vn=Jn/An;switch(this.style.textAlign){case"right":case"end":Or=Vn;break;case"center":Or=Vn,Qn=Vn;break;default:Qn=Vn}Jn=An}const Fn=Wi.actualBoundingBoxAscent+Wi.actualBoundingBoxDescent;Fn>si.height&&(si.height=Fn),Wi.actualBoundingBoxAscent>si.ascent&&(si.ascent=Wi.actualBoundingBoxAscent),si.width+=Jn,si.left+=Wi.actualBoundingBoxLeft/Or,si.right+=Wi.actualBoundingBoxRight/Qn,si.textChunks.push({style:Ge,fill:tn,text:Bn.text,width:Jn,height:Fn,left:Wi.actualBoundingBoxLeft,right:Wi.actualBoundingBoxRight,ascent:Wi.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:wn,verticalAlign:Rn}),Pn=!1}return!0}),this.style.lineHeight instanceof St.gG?(si.height*=this.style.lineHeight.value,si.ascent*=this.style.lineHeight.value):(si.height*=this.style.lineHeight||1.2,si.ascent*=this.style.lineHeight||1.2),ye<si.left&&(ye=si.left),ii<si.right&&(ii=si.right),this._textInfo.push(si),je+=si.height,Di=Kn||[]}}),ai||(it.restore(),gt.restore()),I.each(this._textInfo,(ei,Bi)=>{let Di=0;I.each(ei.textChunks,si=>{if(si.offsetX=Di+si.left-ei.left,si.offsetY+=ei.height-ei.height*(this.style.baselineRatio||.19),Di+=si.width,si.verticalAlign)switch(si.verticalAlign){case"super":si.offsetY-=ei.height/2-si.height/2;break;case"sub":si.offsetY+=si.height/2}})});const wi={left:Pt?-ii:-ye,top:0,right:Pt?ye:ii,bottom:je};if("none"!==jt){const ei=this._fitRatio(wi);if(ei<1)if("fit"==jt)mt.isNumber(this.style.minScale)&&ei<this.style.minScale?this._textVisible=!1:(this._originalScale&&1!=this._originalScale||(this._originalScale=this.scale),this.scale=ei,this._textVisible=!0);else if("hide"==jt)this._textVisible=!1;else{switch(this.style.textAlign){case"right":case"end":wi.left=-Kt,wi.right=0;break;case"center":wi.left=-Kt/2,wi.right=Kt/2;break;default:wi.left=0,wi.right=Kt}this.scale=this._originalScale||1,this._originalScale=void 0,this._textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this._textVisible=!0}return it.restore(),gt.restore(),wi}_fitRatio(K){const it=this.style.maxWidth,gt=this.style.maxHeight;return mt.isNumber(it)||mt.isNumber(gt)?Math.min(it/(K.right-K.left)||1,gt/(K.bottom-K.top)||1):1}_truncateText(K,it,gt,Pt=!1,jt=!0){let Kt;do{if(Pt)it=it.slice(0,-1);else{let ie=it.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if(""==ie&&jt)Pt=!0;else{if(""==ie)return it;it=ie}}const se=this._measureText(it,K);Kt=se.actualBoundingBoxLeft+se.actualBoundingBoxRight}while(Kt>gt&&""!=it);return it}_measureText(K,it){let gt=it.measureText(K),Pt={};if(null==gt.actualBoundingBoxAscent){const Kt=document.createElement("div");Kt.innerText=K,Kt.style.visibility="hidden",Kt.style.position="absolute",Kt.style.top="-1000000px;",Kt.style.fontFamily=this.style.fontFamily||"",Kt.style.fontSize=this.style.fontSize+"",document.body.appendChild(Kt);const se=Kt.getBoundingClientRect();document.body.removeChild(Kt);const ie=se.height,fe=gt.width;Pt={actualBoundingBoxAscent:ie,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:fe,fontBoundingBoxAscent:ie,fontBoundingBoxDescent:0,width:fe}}else Pt={actualBoundingBoxAscent:gt.actualBoundingBoxAscent,actualBoundingBoxDescent:gt.actualBoundingBoxDescent,actualBoundingBoxLeft:gt.actualBoundingBoxLeft,actualBoundingBoxRight:gt.actualBoundingBoxRight,fontBoundingBoxAscent:gt.actualBoundingBoxAscent,fontBoundingBoxDescent:gt.actualBoundingBoxDescent,width:gt.width};const jt=gt.width;switch(this.style.textAlign){case"right":case"end":Pt.actualBoundingBoxLeft=jt,Pt.actualBoundingBoxRight=0;break;case"center":Pt.actualBoundingBoxLeft=jt/2,Pt.actualBoundingBoxRight=jt/2;break;default:Pt.actualBoundingBoxLeft=0,Pt.actualBoundingBoxRight=jt}return Pt}}class gn{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:(0,St.aQ)(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\xe2\u20ac\xa6"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Hn extends nn{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(K){"circular"===this.textType?this._renderCircular(K):super._render(K)}_renderCircular(K){if(this._textVisible){const it=this._layer||K;this._prerender(it);const gt=this._isInteractive(),Pt=it.context,jt=it.dirty,Kt=this._renderer._ghostLayer.context;Pt.save(),gt&&Kt.save();let se=this.radius||0,ie=this.startAngle||0,fe=0,He=this.orientation,Ge="auto"==He?"auto":"inward"==He;const ai=this.inside,ye=this.style.textAlign||"left",ii=this.kerning||0;let je="left"==ye?1:-1;const wi=!this._textReversed;if(this._textInfo||this._measure(it),"auto"==Ge){let ei=0,Bi=0;I.each(this._textInfo,(Di,si)=>{const pn=ie+Di.width/(se-Di.height)/2*-je;pn>ei&&(ei=pn)}),Bi="left"==ye?(ei+fe/2)*dt.DEGREES:"right"==ye?(ei-fe/2)*dt.DEGREES:ie*dt.DEGREES,Bi=dt.normalizeAngle(Bi),Ge=Bi>=270||Bi<=90}1==Ge&&wi&&(this._textInfo.reverse(),this._textReversed=!0),I.each(this._textInfo,(ei,Bi)=>{const Di=ei.height;ai||(se+=Di),(-1==je&&Ge||1==je&&!Ge)&&wi&&ei.textChunks.reverse();let si=ie;fe=0,"center"==ye&&(si+=ei.width/(se-Di)/2*-je,fe=si-ie),si+=Math.PI*(Ge?0:1),Pt.save(),gt&&Kt.save(),Pt.rotate(si),gt&&Kt.rotate(si);let pn=0;I.each(ei.textChunks,(Fi,xn)=>{const tn=Fi.text,An=Fi.width;pn=An/2/(se-Di)*je,Pt.rotate(pn),gt&&Kt.rotate(pn),Fi.style&&(Pt.save(),Kt.save(),Pt.font=Fi.style,gt&&(Kt.font=Fi.style)),Fi.fill&&(Pt.save(),Pt.fillStyle=Fi.fill.toCSS()),Pt.textBaseline="middle",Pt.textAlign="center",gt&&(Kt.textBaseline="middle",Kt.textAlign="center"),jt&&Pt.fillText(tn,0,(Ge?1:-1)*(0-se+Di/2)),gt&&Kt.fillText(tn,0,(Ge?1:-1)*(0-se+Di/2)),Fi.fill&&Pt.restore(),Fi.style&&(Pt.restore(),Kt.restore()),pn=(An/2+ii)/(se-Di)*je,Pt.rotate(pn),gt&&Kt.rotate(pn)}),Pt.restore(),gt&&Kt.restore(),ai&&(se-=Di)}),Pt.restore(),gt&&Kt.restore()}}_measure(K){return"circular"===this.textType?this._measureCircular(K):super._measure(K)}_measureCircular(K){const it=K.context,gt=this._renderer._ghostLayer.context,Pt="rtl"==this.style.direction,jt=this.style.oversizedBehavior,Kt=this.style.maxWidth,se=mt.isNumber(Kt)&&"truncate"==jt,ie=this.style.ellipsis||"";let fe;this._textVisible=!0,this._textInfo=[],this._textReversed=!1,it.save(),gt.save(),this._prerender(K,!0);const He=this.text.toString().replace(/\r/g,"").split(/\n/);let Ge=!0,ai=0,ye=0;return I.each(He,(ii,je)=>{let wi,ei,Bi,Di=At.V.chunk(ii,!1,this.style.ignoreFormatting),si={offsetY:ye,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};I.each(Di,(pn,Fi)=>{if("format"==pn.type){if("[/]"==pn.text)Ge||(it.restore(),gt.restore(),Ge=!0),ei=void 0,wi=void 0,Bi=void 0;else{let xn=At.V.getTextStyle(pn.text);const tn=this._getFontStyle(xn);it.save(),gt.save(),it.font=tn,wi=tn,xn.fill&&(ei=xn.fill),xn.width&&(Bi=mt.toNumber(xn.width)),Ge=!1}se&&(fe=this._measureText(ie,it))}else if("value"==pn.type){const xn=pn.text.match(/./gu)||[];Pt&&xn.reverse();for(let tn=0;tn<xn.length;tn++){const An=xn[tn],Rn=this._measureText(An,it);let wn=Rn.width;wi&&Bi&&Bi>wn&&(wn=Bi);const er=Rn.actualBoundingBoxAscent+Rn.actualBoundingBoxDescent;if(er>si.height&&(si.height=er),Rn.actualBoundingBoxAscent>si.ascent&&(si.ascent=Rn.actualBoundingBoxAscent),si.width+=wn,si.left+=Rn.actualBoundingBoxLeft,si.right+=Rn.actualBoundingBoxRight,si.textChunks.push({style:wi,fill:ei,text:An,width:wn,height:er+Rn.actualBoundingBoxDescent,left:Rn.actualBoundingBoxLeft,right:Rn.actualBoundingBoxRight,ascent:Rn.actualBoundingBoxAscent,offsetX:0,offsetY:er,textDecoration:void 0}),ai+=wn,se){fe||(fe=this._measureText(ie,it));const Pn=fe.actualBoundingBoxLeft+fe.actualBoundingBoxRight;if(ai+=Pn,ai+Pn>Kt){1==si.textChunks.length?this._textVisible=!1:(si.width+=Pn,si.left+=fe.actualBoundingBoxLeft,si.right+=fe.actualBoundingBoxRight,si.textChunks.push({style:wi,fill:ei,text:ie,width:Pn,height:er+fe.actualBoundingBoxDescent,left:fe.actualBoundingBoxLeft,right:fe.actualBoundingBoxRight,ascent:fe.actualBoundingBoxAscent,offsetX:0,offsetY:er,textDecoration:void 0}));break}}if(Pt)break}}}),si.height*=this.style.lineHeight instanceof St.gG?this.style.lineHeight.value:this.style.lineHeight||1.2,this._textInfo.push(si),ye+=si.height}),Ge||(it.restore(),gt.restore()),"hide"==jt&&ai>Kt&&(this._textVisible=!1),I.each(this._textInfo,ii=>{I.each(ii.textChunks,je=>{je.offsetY+=Math.round((ii.height-je.height+(ii.ascent-je.ascent))/2)})}),it.restore(),gt.restore(),{left:0,top:0,right:0,bottom:0}}}class Gn extends me{constructor(K,it){super(K),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=it}_dispose(){super._dispose(),this._imageMask&&Vt(this._imageMask)}getLocalBounds(){if(!this._localBounds){let K=0,it=0;this.width&&(K=this.width),this.height&&(it=this.height),this._localBounds={left:0,top:0,right:K,bottom:it},this._addBounds(this._localBounds)}return this._localBounds}_render(K){if(super._render(K),this.image){const it=this._layer||K;if(void 0===this.tainted&&(this.tainted=Ut(this.image),it.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(it.dirty&&(this.shadowColor&&(it.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(it.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(it.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(it.context.shadowOffsetY=this.shadowOffsetY),it.context.drawImage(this.image,0,0,this.width||this.image.naturalWidth,this.height||this.image.naturalHeight)),this.interactive&&this._isInteractive()){const gt=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(gt,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(K){if(void 0===this._imageMask){const it=this.width||K.naturalWidth,gt=this.height||K.naturalHeight,Pt=document.createElement("canvas");Pt.width=it,Pt.height=gt;const jt=Pt.getContext("2d");jt.imageSmoothingEnabled=!1,jt.fillStyle=this._getColorId(),jt.fillRect(0,0,it,gt),Ut(K)||(jt.globalCompositeOperation="destination-in",jt.drawImage(K,0,0,it,gt)),this._imageMask=Pt}return this._imageMask}}class Ji{constructor(K,it,gt,Pt){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:K}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:it}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:gt}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:Pt}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.id=u.supports("touchevents")&&K instanceof Touch?K.identifier:null}}class ci extends b.rk{constructor(K){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new mi}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_clientWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_clientHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.resolution=K??window.devicePixelRatio,this.view.style.position="absolute",this.view.appendChild(this._layerDom),this._disposers.push(new b.ku(()=>{ht.each(this._events,(it,gt)=>{gt.disposer.dispose()}),I.each(this.layers,it=>{Vt(it.view),it.exportableView&&Vt(it.exportableView)}),Vt(this._ghostLayer.view),Vt(this._patternCanvas)})),this._disposers.push(u.onZoom(()=>{null==K&&(this.resolution=window.devicePixelRatio)})),u.supports("touchevents")){const it=gt=>{0!==this._dragging.length&&I.eachContinue(this._dragging,Pt=>!Pt.value.shouldCancelTouch()||(gt.preventDefault(),!1)),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(u.addEventListener(window,"touchstart",it,{passive:!1})),this._disposers.push(u.addEventListener(this.view,"touchstart",it,{passive:!1})),this._disposers.push(u.addEventListener(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(u.addEventListener(window,"click",gt=>{this._touchActive=!1},{passive:!0})),this._disposers.push(u.addEventListener(this.view,"click",gt=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}u.supports("wheelevents")&&this._disposers.push(u.addEventListener(this.view,"wheel",it=>{let gt=!1;this._hovering.forEach(Pt=>{if(Pt.wheelable)return gt=!0,!1}),gt&&it.preventDefault()},{passive:!1}))}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(K){K?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(K,it,gt,Pt){return this.defaultLayer.context.createLinearGradient(K,it,gt,Pt)}createRadialGradient(K,it,gt,Pt,jt,Kt){return this.defaultLayer.context.createRadialGradient(K,it,gt,Pt,jt,Kt)}createPattern(K,it,gt,Pt,jt){return this._patternCanvas.width=Pt,this._patternCanvas.height=jt,this._patternContext.clearRect(0,0,Pt,jt),it.renderDetached(this._patternContext),K.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,gt)}makeContainer(){return new ve(this)}makeGraphics(){return new Ri(this)}makeText(K,it){return new nn(this,K,it)}makeTextStyle(){return new gn}makeRadialText(K,it){return new Hn(this,K,it)}makePicture(K){return new Gn(this,K)}resizeLayer(K){K.dirty=!0,K.resize(this._clientWidth,this._clientHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._clientWidth,this._clientHeight,this.resolution)}resize(K,it){this._clientWidth=K,this._clientHeight=it,this._width=Math.floor(K*this.resolution),this._height=Math.floor(it*this.resolution),I.each(this.layers,gt=>{gt&&this.resizeLayer(gt)}),this.resizeGhost(),this.view.style.width=K+"px",this.view.style.height=it+"px"}createDetachedLayer(K=!1){const it=document.createElement("canvas"),gt=it.getContext("2d",{willReadFrequently:K}),Pt=new yi(it,gt);return it.style.position="absolute",it.style.top="0px",it.style.left="0px",Pt}getLayerByOrder(K){const it=this.layers,gt=it.length;for(let Pt=0;Pt<gt;Pt++){const jt=it[Pt];if(jt.order==K)return jt}}getLayer(K,it=!0){let gt=this.getLayerByOrder(K);if(gt)return gt;const Pt=this.createDetachedLayer(99==K);Pt.order=K,Pt.visible=it,Pt.visible&&this._width&&(Pt.view.width=this._width,Pt.view.style.width=this._clientWidth+"px",Pt.view.height=this._height,Pt.view.style.height=this._clientHeight+"px");const jt=this.layers;jt.push(Pt),jt.sort((ie,fe)=>ie.order>fe.order?1:ie.order<fe.order?-1:0);const Kt=jt.length;let se;for(let ie=I.indexOf(jt,Pt)+1;ie<Kt;ie++)if(jt[ie].visible){se=jt[ie];break}return Pt.visible&&(void 0===se?this._layerDom.appendChild(Pt.view):this._layerDom.insertBefore(Pt.view,se.view)),Pt}render(K){if(this._dirtyLayers.length=0,I.each(this.layers,it=>{it&&it.dirty&&it.visible&&(this._dirtyLayers.push(it),it.clear())}),this._ghostLayer.clear(),K.render(this.defaultLayer),this._ghostLayer.context.restore(),I.each(this.layers,it=>{if(it){const gt=it.context;gt.beginPath(),gt.moveTo(0,0),gt.stroke()}}),I.each(this._dirtyLayers,it=>{it.context.restore(),it.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const it=this._lastPointerMoveEvent.native;I.each(this._lastPointerMoveEvent.events,gt=>{this._dispatchGlobalMousemove(gt,it)})}}paintId(K){const it=function(Pt){const jt=[0,0,0];for(let Kt=0;Kt<24;Kt++)jt[Kt%3]<<=1,jt[Kt%3]|=1&Pt,Pt>>=1;return(0|jt[2])+(jt[1]<<8)+(jt[0]<<16)}(++this._colorId),gt=tt.Il.fromHex(it).toCSS();return this._colorMap[gt]=K,gt}_removeObject(K){void 0!==K._colorId&&delete this._colorMap[K._colorId]}_adjustBoundingBox(K){const it=this._ghostLayer.margin;return new DOMRect(K.left-it.left,K.top-it.top,K.width+it.left+it.right,K.height+it.top+it.bottom)}getEvent(K,it=!0){const gt=this.view.getBoundingClientRect(),Pt={x:K.clientX||0,y:K.clientY||0};return new Ji(K,Pt,{x:Pt.x-(it?gt.left:0),y:Pt.y-(it?gt.top:0)},this._adjustBoundingBox(gt))}_getHitTarget(K,it){if(!(0===it.width||0===it.height||K.x<it.left||K.x>it.right||K.y<it.top||K.y>it.bottom)){const gt=this._ghostLayer.getImageData(K,it);if(0===gt.data[0]&&0===gt.data[1]&&0===gt.data[2])return!1;const Pt=tt.Il.fromRGB(gt.data[0],gt.data[1],gt.data[2]).toCSS();return this._colorMap[Pt]}}_withEvents(K,it){const gt=this._events[K];if(void 0!==gt){gt.dispatching=!0;try{it(gt)}finally{gt.dispatching=!1,gt.cleanup&&(gt.cleanup=!1,I.keepIf(gt.callbacks,Pt=>!Pt.disposed),0===gt.callbacks.length&&(gt.disposer.dispose(),delete this._events[K]))}}}_dispatchEventAll(K,it){this.interactionsEnabled&&this._withEvents(K,gt=>{I.each(gt.callbacks,Pt=>{Pt.disposed||Pt.callback.call(Pt.context,it)})})}_dispatchEvent(K,it,gt){if(!this.interactionsEnabled)return!1;let Pt=!1;return this._withEvents(K,jt=>{I.each(jt.callbacks,Kt=>{Kt.disposed||Kt.object!==it||(Kt.callback.call(Kt.context,gt),Pt=!0)})}),Pt}_dispatchMousedown(K){const it=K.button;if(0!=it&&2!=it&&1!=it&&void 0!==it)return;const gt=this.getEvent(K),Pt=this._getHitTarget(gt.originalPoint,gt.bbox);if(Pt){const jt=gt.id;let Kt=!1;de(Pt,se=>{const ie={id:jt,value:se};return this._mousedown.push(ie),!Kt&&this._dispatchEvent("pointerdown",se,gt)&&(Kt=!0,this._dragging.some(fe=>fe.value===se&&fe.id===jt)||this._dragging.push(ie)),!0})}}_dispatchGlobalMousemove(K,it){const gt=this.getEvent(K),Pt=this._getHitTarget(gt.originalPoint,gt.bbox);gt.native=it,Pt?(this._hovering.forEach(jt=>{jt.contains(Pt)||(this._hovering.delete(jt),jt.cursorOverStyle&&u.setStyle(document.body,"cursor",jt._replacedCursorStyle),this._dispatchEvent("pointerout",jt,gt))}),gt.native&&de(Pt,jt=>(this._hovering.has(jt)||(this._hovering.add(jt),jt.cursorOverStyle&&(jt._replacedCursorStyle=u.getStyle(document.body,"cursor"),u.setStyle(document.body,"cursor",jt.cursorOverStyle)),this._dispatchEvent("pointerover",jt,gt)),!0))):(this._hovering.forEach(jt=>{jt.cursorOverStyle&&u.setStyle(document.body,"cursor",jt._replacedCursorStyle),this._dispatchEvent("pointerout",jt,gt)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",gt)}_dispatchGlobalMouseup(K,it){const gt=this.getEvent(K);gt.native=it,this._dispatchEventAll("globalpointerup",gt)}_dispatchDragMove(K){if(0!==this._dragging.length){const it=this.getEvent(K),gt=it.id;this._dragging.forEach(Pt=>{Pt.id===gt&&this._dispatchEvent("pointermove",Pt.value,it)})}}_dispatchDragEnd(K){const it=K.button;let gt;if(0==it||void 0===it)gt="click";else if(2==it)gt="rightclick";else{if(1!=it)return;gt="middleclick"}const Pt=this.getEvent(K),jt=Pt.id;if(0!==this._mousedown.length){const Kt=this._getHitTarget(Pt.originalPoint,Pt.bbox);Kt&&this._mousedown.forEach(se=>{se.id===jt&&se.value.contains(Kt)&&this._dispatchEvent(gt,se.value,Pt)}),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach(Kt=>{Kt.id===jt&&this._dispatchEvent("pointerup",Kt.value,Pt)}),this._dragging.length=0)}_dispatchDoubleClick(K){const it=this.getEvent(K),gt=this._getHitTarget(it.originalPoint,it.bbox);gt&&de(gt,Pt=>!this._dispatchEvent("dblclick",Pt,it))}_dispatchWheel(K){const it=this.getEvent(K),gt=this._getHitTarget(it.originalPoint,it.bbox);gt&&de(gt,Pt=>!this._dispatchEvent("wheel",Pt,it))}_makeSharedEvent(K,it){if(void 0===this._listeners[K]){const gt=it();this._listeners[K]=new b.DM(()=>{delete this._listeners[K],gt.dispose()})}return this._listeners[K].increment()}_onPointerEvent(K,it){let gt=!1,Pt=null;function jt(){Pt=null,gt=!1}return new b.FV([new b.ku(()=>{null!==Pt&&clearTimeout(Pt),jt()}),u.addEventListener(this.view,u.getRendererEvent(K),Kt=>{gt=!0,null!==Pt&&clearTimeout(Pt),Pt=window.setTimeout(jt,0)}),re(window,K,Kt=>{null!==Pt&&(clearTimeout(Pt),Pt=null),it(Kt,gt),gt=!1})])}_initEvent(K){switch(K){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const it=(gt,Pt)=>{this._lastPointerMoveEvent={events:gt,native:Pt},I.each(gt,jt=>{this._dispatchGlobalMousemove(jt,Pt)})};return new b.FV([this._onPointerEvent("pointerdown",it),this._onPointerEvent("pointermove",it)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{var it=this._onPointerEvent("pointerup",(Pt,jt)=>{I.each(Pt,Kt=>{this._dispatchGlobalMouseup(Kt,jt)}),this._lastPointerMoveEvent={events:Pt,native:jt}}),gt=this._onPointerEvent("pointercancel",(Pt,jt)=>{I.each(Pt,Kt=>{this._dispatchGlobalMouseup(Kt,jt)}),this._lastPointerMoveEvent={events:Pt,native:jt}});return new b.ku(()=>{it.dispose(),gt.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const it=re(this.view,"pointerdown",Kt=>{I.each(Kt,se=>{this._dispatchMousedown(se)})}),gt=this._onPointerEvent("pointermove",Kt=>{I.each(Kt,se=>{this._dispatchDragMove(se)})}),Pt=this._onPointerEvent("pointerup",Kt=>{I.each(Kt,se=>{this._dispatchDragEnd(se)})}),jt=this._onPointerEvent("pointercancel",Kt=>{I.each(Kt,se=>{this._dispatchDragEnd(se)})});return new b.ku(()=>{it.dispose(),gt.dispose(),Pt.dispose(),jt.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",it=>{I.each(it,gt=>{this._dispatchDoubleClick(gt)})}));case"wheel":return this._makeSharedEvent("wheel",()=>u.addEventListener(window,u.getRendererEvent("wheel"),it=>{this._dispatchWheel(it)},{passive:!1}))}}_addEvent(K,it,gt,Pt){let jt=this._events[it];void 0===jt&&(jt=this._events[it]={disposer:this._initEvent(it),callbacks:[],dispatching:!1,cleanup:!1});const Kt={object:K,context:Pt,callback:gt,disposed:!1};return jt.callbacks.push(Kt),new b.ku(()=>{Kt.disposed=!0,jt.dispatching?jt.cleanup=!0:(I.removeFirst(jt.callbacks,Kt),0===jt.callbacks.length&&(jt.disposer.dispose(),delete this._events[it]))})}getCanvas(K,it){this.render(K),it||(it={});let gt=this.resolution;if(it.minWidth&&it.minWidth>this._width){let ye=it.minWidth/this._width;ye>gt&&(gt=ye*this.resolution)}if(it.minHeight&&it.minHeight>this._height){let ye=it.minHeight/this._height;ye>gt&&(gt=ye*this.resolution)}if(it.maxWidth&&it.maxWidth<this._width){let ye=it.maxWidth/this._width;ye<gt&&(gt=ye*this.resolution)}if(it.maxHeight&&it.maxHeight>this._height){let ye=it.maxHeight/this._height;ye<gt&&(gt=ye*this.resolution)}it.maintainPixelRatio&&(gt/=this.resolution);const Pt=[];let jt=!1,Kt=this._width,se=this._height;const ie=document.createElement("canvas");gt!=this.resolution&&(jt=!0,Kt=this._width*gt/this.resolution,se=this._height*gt/this.resolution),ie.width=Kt,ie.height=se,ie.style.position="fixed",ie.style.top="-10000px",this.view.appendChild(ie),Pt.push(ie);const fe=ie.getContext("2d");let He=0,Ge=0,ai=!1;return I.each(this.layers,ye=>{ye&&ye.visible&&(ye.tainted||jt)&&(ai=!0,ye.exportableView=ye.view,ye.exportableContext=ye.context,ye.view=document.createElement("canvas"),ye.view.style.position="fixed",ye.view.style.top="-10000px",this.view.appendChild(ye.view),Pt.push(ye.view),ye.view.width=Kt,ye.view.height=se,ye.context=ye.view.getContext("2d"),ye.dirty=!0,ye.scale=gt)}),ai&&(this._omitTainted=!0,this.render(K),this._omitTainted=!1),I.each(this.layers,ye=>{ye&&ye.visible&&(fe.drawImage(ye.view,0,0),ye.exportableView&&(ye.view=ye.exportableView,ye.exportableView=void 0),ye.exportableContext&&(ye.context=ye.exportableContext,ye.exportableContext=void 0),He<ye.view.clientWidth&&(He=ye.view.clientWidth),Ge<ye.view.clientHeight&&(Ge=ye.view.clientHeight),ye.scale=void 0)}),ie.style.width=He+"px",ie.style.height=Ge+"px",I.each(Pt,ye=>{ye.style.position="",ye.style.top="",this.view.removeChild(ye)}),ie}}class mi{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(K,it,gt){K+=this.margin.left+this.margin.right,it+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(K*gt),this._height=Math.floor(it*gt),this.view.width=this._width,this.view.style.width=K+"px",this.view.height=this._height,this.view.style.height=it+"px"}getImageData(K,it){return this.context.getImageData(Math.round((K.x-it.left)/it.width*this._width),Math.round((K.y-it.top)/it.height*this._height),1,1)}setMargin(K){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,I.each(K,it=>{it.margin&&(this.margin.left=Math.max(this.margin.left,it.margin.left),this.margin.right=Math.max(this.margin.right,it.margin.right),this.margin.top=Math.max(this.margin.top,it.margin.top),this.margin.bottom=Math.max(this.margin.bottom,it.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class yi{constructor(K,it){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=K,this.context=it}resize(K,it,gt){null!=this.width&&(K=this.width),null!=this.height&&(it=this.height),this.margin?(K+=this.margin.left+this.margin.right,it+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(K*gt),this._height=Math.floor(it*gt),this.view.width=this._width,this.view.style.width=K+"px",this.view.height=this._height,this.view.style.height=it+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}var $i=a(2132),rn=a(3145),Yi=a(3540);function Cn(Qe,K){null==Qe?requestAnimationFrame(K):setTimeout(()=>{requestAnimationFrame(K)},1e3/Qe)}class Gi{constructor(K,it={},gt){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new yt.p}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:nt.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:q.Z}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:f.e.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:o.C.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:B.$.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:x.Z.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:p.G.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:T.M.new(this,{})}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!gt)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");let Pt,jt;if(0==it.accessible&&(this._a11yD=!0),null==it.useSafeResolution&&(it.useSafeResolution=!0),it.useSafeResolution&&(Pt=u.getSafeResolution()),this._renderer=new ci(Pt),jt=K instanceof HTMLElement?K:document.getElementById(K),I.each(rn.i_.rootElements,ie=>{if(ie.dom===jt)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=m.v.new(this,{}),null===jt)throw new Error("Could not find HTML element with id `"+K+"`");this.dom=jt;let Kt=document.createElement("div");Kt.style.position="relative",Kt.style.height="100%",jt.appendChild(Kt);const se=it.tooltipContainerBounds;se&&(this._tooltipContainerSettings=se),this._inner=Kt,this._updateComputedStyles(),rn.i_.rootElements.push(this)}static new(K,it){const gt=new Gi(K,it,!0);return gt._init(),gt}moveDOM(K){let it;if(it=K instanceof HTMLElement?K:document.getElementById(K),it){for(;this.dom.childNodes.length>0;)it.appendChild(this.dom.childNodes[0]);this.dom=it,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const it=this.dom.offsetHeight;this.dom.offsetWidth<=150||it<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const K=this.tooltipContainer.children.push(h.W.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:(0,St.aQ)(100),centerY:St.AQ,tooltipText:"Created using amCharts 5",tooltipX:St.AQ,cursorOverStyle:"pointer",background:P.A.new(this,{fill:(0,tt.$_)(4671320),fillOpacity:0,tooltipY:5})})),it=D.u.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});it.label.setAll({fontSize:12}),it.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),K.set("tooltip",it),K.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),K.states.create("hover",{}),K.children.push(A.T.new(this,{stroke:(0,tt.$_)(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:(0,tt.$_)(3976191)}),K.children.push(A.T.new(this,{stroke:(0,tt.$_)(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:(0,tt.$_)(4671320)}),this._logo=K,this._handleLogo()}}_init(){const K=this._renderer,it=this.dom.getBoundingClientRect(),gt=Math.floor(it.width),Pt=Math.floor(it.height),jt=h.W.new(this,{visible:!0,width:gt,height:Pt});this._rootContainer=jt,this._rootContainer._defaultThemes.push(ut.X.new(this));const Kt=jt.children.push(h.W.new(this,{visible:!0,width:St.AQ,height:St.AQ}));this.container=Kt,K.resize(gt,Pt),this._inner.appendChild(K.view),this._initResizeSensor();const se=document.createElement("div");if(this._htmlElementContainer=se,se.className="am5-html-container",se.style.position="absolute",se.style.pointerEvents="none",this._tooltipContainerSettings||(se.style.overflow="hidden"),this._inner.appendChild(se),!0!==this._a11yD){const ie=document.createElement("div");ie.className="am5-reader-container",ie.setAttribute("role","alert"),ie.style.zIndex="-100000",ie.style.opacity="0",ie.style.position="absolute",ie.style.top="0",this._readerAlertElement=ie,this._inner.appendChild(this._readerAlertElement);const fe=document.createElement("div");fe.className="am5-focus-container",fe.style.position="absolute",fe.style.pointerEvents="none",fe.style.top="0px",fe.style.left="0px",fe.style.overflow="hidden",fe.style.width=gt+"px",fe.style.height=Pt+"px",fe.setAttribute("role","application"),u.setInteractive(fe,!1),this._focusElementContainer=fe,this._inner.appendChild(this._focusElementContainer);const He=document.createElement("div");this._tooltipElementContainer=He,He.className="am5-tooltip-container",this._inner.appendChild(He),u.supports("keyboardevents")&&(this._disposers.push(u.addEventListener(window,"keydown",Ge=>{16==Ge.keyCode&&(this._isShift=!0)})),this._disposers.push(u.addEventListener(window,"keyup",Ge=>{16==Ge.keyCode&&(this._isShift=!1)})),this._disposers.push(u.addEventListener(fe,"keydown",Ge=>{const ai=this._focusedSprite;if(ai){27==Ge.keyCode&&(u.blur(),this._focusedSprite=void 0);let ye=0,ii=0;switch(Ge.keyCode){case 13:Ge.preventDefault();const je=K.getEvent(new MouseEvent("click"));return void ai.events.dispatch("click",{type:"click",originalEvent:je.event,point:je.point,simulated:!0,target:ai});case 37:ye=-6;break;case 39:ye=6;break;case 38:ii=-6;break;case 40:ii=6;break;default:return}if(0!=ye||0!=ii){if(Ge.preventDefault(),!ai.isDragging()){this._keyboardDragPoint={x:0,y:0};const ei=K.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));ai.events.isEnabled("pointerdown")&&ai.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:ei.event,point:ei.point,simulated:!0,target:ai})}const je=this._keyboardDragPoint;je.x+=ye,je.y+=ii;const wi=K.getEvent(new MouseEvent("mousemove",{clientX:je.x,clientY:je.y}),!1);ai.events.isEnabled("globalpointermove")&&ai.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:wi.event,point:wi.point,simulated:!0,target:ai})}}})),this._disposers.push(u.addEventListener(fe,"keyup",Ge=>{if(this._focusedSprite){const ai=this._focusedSprite,ye=Ge.keyCode;switch(ye){case 37:case 39:case 38:case 40:if(ai.isDragging()){const ii=this._keyboardDragPoint,je=K.getEvent(new MouseEvent("mouseup",{clientX:ii.x,clientY:ii.y}));return ai.events.isEnabled("globalpointerup")&&ai.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:je.event,point:je.point,simulated:!0,target:ai}),void(this._keyboardDragPoint=void 0)}if(ai.get("focusableGroup")){const ii=ai.get("focusableGroup"),je=this._tabindexes.filter(Bi=>Bi.get("focusableGroup")==ii);let wi=je.indexOf(ai);const ei=je.length-1;wi+=39==ye||40==ye?1:-1,wi<0?wi=ei:wi>ei&&(wi=0),u.focus(je[wi].getPrivate("focusElement").dom)}}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new O(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const K=this.dom.getBoundingClientRect(),it=Math.floor(K.width),gt=Math.floor(K.height);if(it>0&&gt>0){const Pt=this._htmlElementContainer;if(Pt.style.width=it+"px",Pt.style.height=gt+"px",!0!==this._a11yD){const Kt=this._focusElementContainer;Kt.style.width=it+"px",Kt.style.height=gt+"px"}this._renderer.resize(it,gt);const jt=this._rootContainer;jt.setPrivate("width",it),jt.setPrivate("height",gt),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(K){I.each(this._tickers,it=>{it(K)})}_runAnimations(K){I.keepIf(this._animations,it=>it._runAnimation(K))}_runDirties(){let K={};for(;this._isDirtyParents;)this._isDirtyParents=!1,ht.keys(this._dirtyParents).forEach(Kt=>{const se=this._dirtyParents[Kt];delete this._dirtyParents[Kt],se.isDisposed()||(K[se.uid]=se,se._prepareChildren())});ht.keys(K).forEach(Kt=>{K[Kt]._updateChildren()});const it=[];ht.keys(this._dirty).forEach(Kt=>{const se=this._dirty[Kt];se.isDisposed()?delete this._dirty[se.uid]:(it.push(se),se._beforeChanged())}),it.forEach(Kt=>{Kt._changed(),delete this._dirty[Kt.uid],Kt._clearDirty()}),this._isDirty=!1;const gt={},Pt=[];ht.keys(this._dirtyBounds).forEach(Kt=>{const se=this._dirtyBounds[Kt];delete this._dirtyBounds[Kt],se.isDisposed()||(gt[se.uid]=se.depth(),Pt.push(se))}),Pt.sort((Kt,se)=>Yi.qu(gt[se.uid],gt[Kt.uid])),Pt.forEach(Kt=>{Kt._updateBounds()});const jt=this._dirtyPositions;ht.keys(jt).forEach(Kt=>{const se=jt[Kt];delete jt[Kt],se.isDisposed()||se._updatePosition()}),it.forEach(Kt=>{Kt._afterChanged()})}_renderFrame(K){return!this._updateTick||(this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:K}),this._checkComputedStyles(),this._runTickers(K),this._runAnimations(K),this._runDirties(),this._render(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:K}),0===this._tickers.length&&0===this._animations.length&&!this._isDirty)}_runTicker(K){this.isDisposed()||(this.animationTime=K,this._renderFrame(K)?(this._ticker=null,this.animationTime=null):Cn(this.fps,this._ticker))}_runTickerNow(){if(!this.isDisposed())for(;;){const K=performance.now();if(this.animationTime=K,this._renderFrame(K)){this.animationTime=null;break}}}_startTicker(){null===this._ticker&&(this.animationTime=null,this._ticker=K=>{this._runTicker(K)},Cn(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(K){this._updateTick=K,K&&this._startTicker()}_addDirtyEntity(K){void 0===this._dirty[K.uid]&&(this._isDirty=!0,this._dirty[K.uid]=K,this._startTicker())}_addDirtyParent(K){void 0===this._dirtyParents[K.uid]&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[K.uid]=K,this._startTicker())}_addDirtyBounds(K){void 0===this._dirtyBounds[K.uid]&&(this._isDirty=!0,this._dirtyBounds[K.uid]=K,this._startTicker())}_addDirtyPosition(K){void 0===this._dirtyPositions[K.uid]&&(this._isDirty=!0,this._dirtyPositions[K.uid]=K,this._startTicker())}_addAnimation(K){-1===this._animations.indexOf(K)&&(this._animations.push(K),this._startTicker())}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(K){return this._tickers.push(K),this._startTicker(),new b.ku(()=>{I.removeFirst(this._tickers,K)})}markDirtyGlobal(K){K||(K=this.container),K.walkChildren(it=>{it instanceof h.W&&this.markDirtyGlobal(it),it.markDirty(),it.markDirtyBounds()})}width(){return Math.floor(this.dom.getBoundingClientRect().width)}height(){return Math.floor(this.dom.getBoundingClientRect().height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),I.each(this._disposers,K=>{K.dispose()}),this._inner&&u.removeElement(this._inner),I.remove(rn.i_.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(K){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=u.stripTags(K))}setThemes(K){this._rootContainer.set("themes",K);const it=this.tooltipContainer;it&&it._applyThemes();const gt=this.interfaceColors;gt&&gt._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const K=this._tooltipContainerSettings,it=this._rootContainer.children.push(h.W.new(this,{position:"absolute",isMeasured:!1,width:St.AQ,height:St.AQ,layer:K?35:30,layerMargin:K||void 0}));this.tooltipContainer=it;const gt=D.u.new(this,{});this.container.set("tooltip",gt),gt.hide(0),this._tooltip=gt}}_registerTabindexOrder(K){1!=this._a11yD&&(K.get("focusable")?I.pushOne(this._tabindexes,K):I.remove(this._tabindexes,K),this._invalidateTabindexes())}_unregisterTabindexOrder(K){1!=this._a11yD&&(I.remove(this._tabindexes,K),this._invalidateTabindexes())}_invalidateTabindexes(){if(1==this._a11yD)return;this._tabindexes.sort((it,gt)=>{const Pt=it.get("tabindexOrder",0),jt=gt.get("tabindexOrder",0);return Pt==jt?0:Pt>jt?1:-1});const K=[];I.each(this._tabindexes,(it,gt)=>{it.getPrivate("focusElement")?this._moveFocusElement(gt,it):this._makeFocusElement(gt,it);const Pt=it.get("focusableGroup");Pt&&(-1!==K.indexOf(Pt)?it.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):K.push(Pt))})}_updateCurrentFocus(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(K,it){if(1==this._a11yD||(it||(it=K.getPrivate("focusElement").dom),!it))return;K.get("visible")&&"tooltip"!=K.get("role")&&!K.isHidden()?"-1"!=it.getAttribute("tabindex")&&it.setAttribute("tabindex",""+this.tabindex):it.removeAttribute("tabindex");const gt=K.get("role");gt?it.setAttribute("role",gt):it.removeAttribute("role");const Pt=K.get("ariaLabel");if(Pt){const ye=(0,$i.q)(K,Pt);it.setAttribute("aria-label",ye)}else it.removeAttribute("aria-label");const jt=K.get("ariaLive");jt?it.setAttribute("aria-live",jt):it.removeAttribute("aria-live");const Kt=K.get("ariaChecked");null!=Kt?it.setAttribute("aria-checked",Kt?"true":"false"):it.removeAttribute("aria-checked"),K.get("ariaHidden")?it.setAttribute("aria-hidden","hidden"):it.removeAttribute("aria-hidden");const se=K.get("ariaOrientation");se?it.setAttribute("aria-orientation",se):it.removeAttribute("aria-orientation");const ie=K.get("ariaValueNow");ie?it.setAttribute("aria-valuenow",ie):it.removeAttribute("aria-valuenow");const fe=K.get("ariaValueMin");fe?it.setAttribute("aria-valuemin",fe):it.removeAttribute("aria-valuemin");const He=K.get("ariaValueMax");He?it.setAttribute("aria-valuemax",He):it.removeAttribute("aria-valuemax");const Ge=K.get("ariaValueText");Ge?it.setAttribute("aria-valuetext",Ge):it.removeAttribute("aria-valuetext");const ai=K.get("ariaControls");ai?it.setAttribute("aria-controls",ai):it.removeAttribute("aria-controls")}_makeFocusElement(K,it){if(it.getPrivate("focusElement")||1==this._a11yD)return;const gt=document.createElement("div");"tooltip"!=it.get("role")&&(gt.tabIndex=this.tabindex),gt.style.position="absolute",u.setInteractive(gt,!1);const Pt=[];it.setPrivate("focusElement",{dom:gt,disposers:Pt}),this._decorateFocusElement(it),Pt.push(u.addEventListener(gt,"focus",jt=>{this._handleFocus(jt,K)})),Pt.push(u.addEventListener(gt,"blur",jt=>{this._handleBlur(jt,K)})),this._moveFocusElement(K,it)}_removeFocusElement(K){if(1==this._a11yD)return;I.remove(this._tabindexes,K);const it=K.getPrivate("focusElement");it&&(this._focusElementContainer.removeChild(it.dom),I.each(it.disposers,gt=>{gt.dispose()}))}_hideFocusElement(K){1!=this._a11yD&&(K.getPrivate("focusElement").dom.style.display="none")}_moveFocusElement(K,it){if(1==this._a11yD)return;const gt=this._focusElementContainer,Pt=it.getPrivate("focusElement").dom;if(Pt===this._focusElementContainer.children[K])return;const jt=this._focusElementContainer.children[K+1];jt?gt.insertBefore(Pt,jt):gt.append(Pt)}_positionFocusElement(K){if(1==this._a11yD)return;const it=K.globalBounds(),gt=it.right==it.left?K.width():it.right-it.left,Pt=it.top==it.bottom?K.height():it.bottom-it.top,jt=K.getPrivate("focusElement").dom;jt.style.top=it.top-2+"px",jt.style.left=it.left-2+"px",jt.style.width=gt+4+"px",jt.style.height=Pt+4+"px"}_handleFocus(K,it){if(1==this._a11yD)return;const gt=this._tabindexes[it];gt.isVisibleDeep()?(this._positionFocusElement(gt),this._focusedSprite=gt,gt.events.isEnabled("focus")&&gt.events.dispatch("focus",{type:"focus",originalEvent:K,target:gt})):this._focusNext(K.target,this._isShift?-1:1)}_focusNext(K,it){if(1==this._a11yD)return;var gt=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let Pt=gt.indexOf(K)+it;Pt<0?Pt=gt.length-1:Pt>=gt.length&&(Pt=0),gt[Pt].focus()}_handleBlur(K,it){if(1==this._a11yD)return;const gt=this._focusedSprite;gt&&gt.events.isEnabled("blur")&&gt.events.dispatch("blur",{type:"blur",originalEvent:K,target:gt}),this._focusedSprite=void 0}updateTooltip(K){if(1==this._a11yD)return;const it=u.stripTags(K._getText());let gt=K.getPrivate("tooltipElement");"tooltip"==K.get("role")&&""!=it?(gt||(gt=this._makeTooltipElement(K)),gt.innerHTML!=it&&(gt.innerHTML=it)):gt&&(gt.remove(),K.removePrivate("tooltipElement"))}_makeTooltipElement(K){const it=this._tooltipElementContainer,gt=document.createElement("div");return gt.style.position="absolute",gt.style.top="-1000000px",gt.style.opacity="0.0000001",u.setInteractive(gt,!1),this._decorateFocusElement(K,gt),it.append(gt),K.setPrivate("tooltipElement",gt),gt}_removeTooltipElement(K){if(1==this._a11yD)return;const it=K.getPrivate("tooltipElement");if(it){const gt=it.parentElement;gt&&gt.removeChild(it)}}_invalidateAccessibility(K){if(1==this._a11yD)return;this._focusElementDirty=!0;const it=K.getPrivate("focusElement");K.get("focusable")?it&&(this._decorateFocusElement(K),this._positionFocusElement(K)):it&&this._removeFocusElement(K)}focused(K){return this._focusedSprite===K}documentPointToRoot(K){const it=this.dom.getBoundingClientRect();return{x:K.x-it.left,y:K.y-it.top}}rootPointToDocument(K){const it=this.dom.getBoundingClientRect();return{x:K.x+it.left,y:K.y+it.top}}addDisposer(K){return this._disposers.push(K),K}_updateComputedStyles(){const K=window.getComputedStyle(this.dom);let it="";ht.each(K,(Pt,jt)=>{mt.isString(Pt)&&Pt.match(/^font/)&&(it+=jt)});const gt=it!=this._fontHash;return gt&&(this._fontHash=it),gt}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(K){K instanceof h.W?K.children.each(it=>{this._invalidateLabelBounds(it)}):K instanceof l.x&&K.markDirtyBounds()}_hasLicense(){for(let K=0;K<rn.i_.licenses.length;K++)if(rn.i_.licenses[K].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(K){this._renderer.debugGhostView=K}set tapToActivate(K){this._renderer.tapToActivate=K}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(K){this._renderer.tapToActivateTimeout=K}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(K){const it=this._htmlElementContainer,gt=document.createElement("div");return K.setPrivate("htmlElement",gt),gt.style.position="absolute",gt.style.overflow="auto",gt.style.boxSizing="border-box",u.setInteractive(gt,!0),K.events.isEnabled("click")&&this._disposers.push(u.addEventListener(gt,"click",Pt=>{const jt=this._renderer.getEvent(Pt);K.events.dispatch("click",{type:"click",originalEvent:jt.event,point:jt.point,simulated:!1,target:K})})),this._positionHTMLElement(K),it.append(gt),I.pushOne(this._htmlEnabledContainers,K),gt}_positionHTMLElements(){I.each(this._htmlEnabledContainers,K=>{this._positionHTMLElement(K)})}_positionHTMLElement(K){const it=K.getPrivate("htmlElement");if(it){I.each(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],Ge=>{const ai=K.get(Ge);it.style[Ge]=ai?ai+"px":""});const Pt=K.compositeOpacity();setTimeout(()=>{it.style.opacity=Pt+""},10);const jt=K.isVisibleDeep();jt&&(it.style.display="block");const Kt=K.globalBounds();it.style.top=Kt.top+"px",it.style.left=Kt.left+"px";const se=K.get("width"),ie=K.get("height");let fe=0,He=0;if(se&&(fe=K.width()),ie&&(He=K.height()),se&&ie)K.removePrivate("minWidth"),K.removePrivate("minHeight");else{it.style.width="",it.style.height="";const Ge=it.getBoundingClientRect();fe=Ge.width,He=Ge.height,K._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},K.setPrivate("minWidth",fe),K.setPrivate("minHeight",He)}fe>0&&(it.style.minWidth=fe+"px"),He>0&&(it.style.minHeight=He+"px"),jt&&0!=Pt||(it.style.display="none")}}_setHTMLContent(K,it){let gt=K.getPrivate("htmlElement");gt||(gt=this._makeHTMLElement(K)),gt.innerHTML!=it&&(gt.innerHTML=it)}_removeHTMLContent(K){let it=K.getPrivate("htmlElement");it&&this._htmlElementContainer.removeChild(it),I.remove(this._htmlEnabledContainers,K)}}},3409:function(R,E,a){"use strict";a.d(E,{Q:function(){return x}});var h=a(5769),l=a(3540),p=a(5071);class x{constructor(b,I){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=b,!I)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(b){const I=new this(b,!0);return I.setupDefaultRules(),I}setupDefaultRules(){}_lookupRules(b){return this._rules[b]}ruleRaw(b,I=[]){let u=this._rules[b];u||(u=this._rules[b]=[]),I.sort(l.qu);const{index:n,found:k}=p.getSortedIndex(u,C=>{const O=l.qu(C.tags.length,I.length);return 0===O?l.wq(C.tags,I,l.qu):O});if(k)return u[n].template;{const C=h.YS.new({});return u.splice(n,0,{tags:I,template:C}),C}}rule(b,I=[]){return this.ruleRaw(b,I)}}},5108:function(R,E,a){"use strict";a.d(E,{g:function(){return l}});var h=a(6331);class l extends h.JH{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const x=this.get("sprite");x&&(x.setAll({position:"absolute",role:"figure"}),this._disposers.push(x))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([l.className])})},8054:function(R,E,a){"use strict";a.d(E,{z:function(){return x}});var h=a(3497),l=a(8777),p=a(7652);class x extends l.W{_afterNew(){this._settings.themeTags=p.mergeTags(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",h.c.new(this._root,{themeTags:p.mergeTags(this._settings.themeTags,["background"])}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const b=this._prevSettings.icon,I=this.get("icon");I!==b&&(this._disposeProperty("icon"),b&&b.dispose(),I&&this.children.push(I),this._prevSettings.icon=I)}if(this.isDirty("label")){const b=this._prevSettings.label,I=this.get("label");I!==b&&(this._disposeProperty("label"),b&&b.dispose(),I&&this.children.push(I),this._prevSettings.label=I)}}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.W.classNames.concat([x.className])})},1337:function(R,E,a){"use strict";a.d(E,{k:function(){return p}});var h=a(8777),l=a(6245);class p extends h.W{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(h.W.new(this._root,{width:l.AQ,height:l.AQ,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:h.W.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:l.AQ,height:l.AQ})})}}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.W.classNames.concat([p.className])})},8035:function(R,E,a){"use strict";a.d(E,{C:function(){return l}});var h=a(1479);class l extends h.T{_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,this.get("radius",10))}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.T.classNames.concat([l.className])})},9361:function(R,E,a){"use strict";a.d(E,{w:function(){return u},z:function(){return I}});var h=a(5125),l=a(6331),p=a(8777),x=a(9582),T=a(5071),b=a(256);class I extends l.Zr{constructor(k,C,O){super(O),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=C,this.component=k,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(k){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,k)}hide(k){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,k)}isHidden(){return!this.get("visible")}}class u extends p.W{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new x.k}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(k){k.incrementRef(),this._data.decrementRef(),this._data=k}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(k=>{const C=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===k.type)T.each(C,O=>{O.dispose()}),C.length=0,this._onDataClear();else if("push"===k.type){const O=new I(this,k.newValue,this._makeDataItem(k.newValue));C.push(O),this.processDataItem(O)}else if("setIndex"===k.type){const O=C[k.index],m=this._makeDataItem(k.newValue);b.keys(m).forEach(A=>{O.animate({key:A,to:m[A],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),O.dataContext=k.newValue}else if("insertIndex"===k.type){const O=new I(this,k.newValue,this._makeDataItem(k.newValue));C.splice(k.index,0,O),this.processDataItem(O)}else if("removeIndex"===k.type)C[k.index].dispose(),C.splice(k.index,1);else{if("moveIndex"!==k.type)throw new Error("Unknown IStreamEvent type");{const O=C[k.oldIndex];C.splice(k.oldIndex,1),C.splice(k.newIndex,0,O)}}this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},T.each(this.valueFields,k=>{this.get(k+"Field")&&(this._valueFields.push(k),this._valueFieldsF[k]={fieldKey:k+"Field",workingKey:k+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},T.each(this.fields,k=>{this.get(k+"Field")&&(this._fields.push(k),this._fieldsF[k]=k+"Field")}))}get dataItems(){return this._dataItems}processDataItem(k){}_makeDataItem(k){const C={};return this._valueFields&&T.each(this._valueFields,O=>{const m=this.get(this._valueFieldsF[O].fieldKey);C[O]=k[m],C[this._valueFieldsF[O].workingKey]=C[O]}),this._fields&&T.each(this._fields,O=>{const m=this.get(this._fieldsF[O]);C[O]=k[m]}),C}makeDataItem(k){let C=new I(this,void 0,k);return this.processDataItem(C),C}pushDataItem(k){const C=this.makeDataItem(k);return this._mainDataItems.push(C),C}disposeDataItem(k){}showDataItem(k,C){return(0,h.mG)(this,void 0,void 0,function*(){k.set("visible",!0)})}hideDataItem(k,C){return(0,h.mG)(this,void 0,void 0,function*(){k.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const k="datavalidated";this.events.isEnabled(k)&&this.events.dispatch(k,{type:k,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(k){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.W.classNames.concat([u.className])})},8777:function(R,E,a){"use strict";a.d(E,{W:function(){return m}});var h=a(7144),l=a(5071);class p extends h.aV{constructor(P){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=P,this._events=this.events.onAll(D=>{if("clear"===D.type)l.each(D.oldValues,f=>{this._onRemoved(f)});else if("push"===D.type)this._onInserted(D.newValue);else if("setIndex"===D.type)this._onRemoved(D.oldValue),this._onInserted(D.newValue,D.index);else if("insertIndex"===D.type)this._onInserted(D.newValue,D.index);else if("removeIndex"===D.type)this._onRemoved(D.oldValue);else{if("moveIndex"!==D.type)throw new Error("Unknown IListEvent type");this._onRemoved(D.value),this._onInserted(D.value,D.newIndex)}})}_onInserted(P,D){P._setParent(this._container,!0);const f=this._container._childrenDisplay;void 0===D?f.addChild(P._display):f.addChildAt(P._display,D)}_onRemoved(P){this._container._childrenDisplay.removeChild(P._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),l.each(this.values,P=>{P.dispose()}))}}var x=a(6245),T=a(4596),b=a(7142),I=a(4431),u=a(1706),n=a(6881),k=a(2132),C=a(5040),O=a(7652);class m extends T.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new p(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){l.eachReverse(this.allChildren(),P=>{P.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(P=>{P.removePrivate("x"),P.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(P=>{P.markDirtyPosition()}),this.isDirty("maskContent")){const P=this._childrenDisplay;let D=this._contentMask;this.get("maskContent")?D||(D=b.A.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=D,P.addChildAt(D._display,0),P.mask=D._display):D&&(P.removeChild(D._display),P.mask=null,D.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),l.each(this._percentageSizeChildren,P=>{P._updateSize()}),l.each(this._percentagePositionChildren,P=>{P.markDirtyPosition(),P._updateSize()}),this.updateBackground()}updateBackground(){const P=this.get("background");let D=this._localBounds;if(D&&!this.isHidden()){let f=D.left,o=D.top,B=D.right-f,V=D.bottom-o,q=this.get("maxWidth"),nt=this.get("maxHeight");nt&&V>nt&&(V=nt),q&&B>q&&(B=q);let yt=this.width(),ut=this.height();P&&(P.setAll({width:B,height:V,x:f,y:o}),this._display.interactive&&(P._display.interactive=!0));const Y=this._contentMask;Y&&Y.setAll({width:yt+1,height:ut+1});const tt=this.get("verticalScrollbar");if(tt){tt.set("height",ut),tt.set("x",yt-tt.width()-tt.get("marginRight",0)),tt.set("end",tt.get("start",0)+ut/this._contentHeight);const wt=tt.get("background");wt&&wt.setAll({width:tt.width(),height:ut});let St=!0;this._contentHeight<=ut&&(St=!1),tt.setPrivate("visible",St)}}}_applyThemes(){return!!super._applyThemes()&&(this.eachChildren(P=>{P._applyThemes()}),!0)}_applyState(P){super._applyState(P),this.get("setStateOnChildren")&&this.eachChildren(D=>{D.states.apply(P)})}_applyStateAnimated(P,D){super._applyStateAnimated(P,D),this.get("setStateOnChildren")&&this.eachChildren(f=>{f.states.applyAnimate(P,D)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){let P=this.get("width"),D=this.get("height"),f=this.getPrivate("width"),o=this.getPrivate("height"),B={left:0,top:0,right:this.width(),bottom:this.height()},V=this.get("layout"),q=!1,nt=!1;if((V instanceof I.G||V instanceof n.M)&&(q=!0),V instanceof u.Z&&(nt=!0),null==P&&null==f||null==D&&null==o||this.get("verticalScrollbar")){let yt=Number.MAX_VALUE,ut=yt,Y=-yt,tt=yt,wt=-yt;const St=this.get("paddingLeft",0),At=this.get("paddingTop",0),ht=this.get("paddingRight",0),mt=this.get("paddingBottom",0);this.children.each(dt=>{if("absolute"!=dt.get("position")&&dt.get("isMeasured")){let Lt=dt.adjustedLocalBounds(),Ct=dt.x(),vt=dt.y(),kt=Ct+Lt.left,Rt=Ct+Lt.right,Xt=vt+Lt.top,Ft=vt+Lt.bottom;q&&(kt-=dt.get("marginLeft",0),Rt+=dt.get("marginRight",0)),nt&&(Xt-=dt.get("marginTop",0),Ft+=dt.get("marginBottom",0)),kt<ut&&(ut=kt),Rt>Y&&(Y=Rt),Xt<tt&&(tt=Xt),Ft>wt&&(wt=Ft)}}),ut==yt&&(ut=0),Y==-yt&&(Y=0),tt==yt&&(tt=0),wt==-yt&&(wt=0),B.left=ut-St,B.top=tt-At,B.right=Y+ht,B.bottom=wt+mt}this._contentWidth=B.right-B.left,this._contentHeight=B.bottom-B.top,C.isNumber(P)&&(B.left=0,B.right=P),C.isNumber(f)&&(B.left=0,B.right=f),C.isNumber(D)&&(B.top=0,B.bottom=D),C.isNumber(o)&&(B.top=0,B.bottom=o),this._localBounds=B}_updateBounds(){const P=this.get("layout");P&&P.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const P=this.innerWidth(),D=this.innerHeight();if(P!=this._prevWidth||D!=this._prevHeight){let f=this.get("layout"),o=!1,B=!1;f&&((f instanceof I.G||f instanceof n.M)&&(o=!0),f instanceof u.Z&&(B=!0)),l.each(this._percentageSizeChildren,V=>{if(!o){let q=V.get("width");q instanceof x.gG&&V.setPrivate("width",q.value*P)}if(!B){let q=V.get("height");q instanceof x.gG&&V.setPrivate("height",q.value*D)}}),l.each(this._percentagePositionChildren,V=>{V.markDirtyPosition(),V.markDirtyBounds()}),this._prevWidth=P,this._prevHeight=D,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateChildren(){if(this.isDirty("html")){const D=this.get("html");D&&""!==D?this._root._setHTMLContent(this,(0,k.q)(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){const D=this.get("verticalScrollbar");if(D){D._setParent(this),D.children.removeValue(D.startGrip),D.children.removeValue(D.endGrip),this.set("maskContent",!0),this.set("paddingRight",D.width()+D.get("marginRight",0)+D.get("marginLeft",0));let f=this.get("background");f||(f=this.set("background",b.A.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",o=>{const B=o.originalEvent;if(!O.isLocalEvent(B,this))return;B.preventDefault();const V=B.deltaY/5e3,q=D.get("start",0),nt=D.get("end",1);q+V>0&&nt+V<1&&(D.set("start",q+V),D.set("end",nt+V))}),this._disposers.push(this._vsbd0),this._vsbd1=D.events.on("rangechanged",()=>{let o=this._contentHeight;const B=this._childrenDisplay,V=this._contentMask;B.y=-D.get("start")*o,B.markDirtyLayer(),V&&(V._display.y=-B.y,B.mask=V._display)}),this._disposers.push(this._vsbd1),this._display.addChild(D._display)}else{const f=this._prevSettings.verticalScrollbar;f&&(this._display.removeChild(f._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose(),this._childrenDisplay.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0))}}if(this.isDirty("background")){const D=this._prevSettings.background;D&&this._display.removeChild(D._display);const f=this.get("background");f instanceof T.j&&(f.set("isMeasured",!1),f._setParent(this),this._display.addChildAt(f._display,0))}if(this.isDirty("mask")){const D=this.get("mask"),f=this._prevSettings.mask;if(f&&(this._display.removeChild(f._display),f!=D&&f.dispose()),D){var P=D.parent;P&&P.children.removeValue(D),D._setParent(this),this._display.addChildAt(D._display,0),this._childrenDisplay.mask=D._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(P=>{P._processTemplateField()})}walkChildren(P){this.children.each(D=>{D instanceof m&&D.walkChildren(P),P(D)})}eachChildren(P){const D=this.get("background");D&&P(D);const f=this.get("verticalScrollbar");f&&P(f);const o=this.get("mask");o&&P(o),this.children.values.forEach(B=>{P(B)})}allChildren(){const P=[];return this.eachChildren(D=>{P.push(D)}),P}_setDataItem(P){const D=P!==this._dataItem;super._setDataItem(P);const f=this.get("html","");f&&""!==f&&D&&this._root._setHTMLContent(this,(0,k.q)(this,f))}}Object.defineProperty(m,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(m,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:T.j.classNames.concat([m.className])})},2433:function(R,E,a){"use strict";a.d(E,{P:function(){return l}});var h=a(1479);class l extends h.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radiusX")||this.isDirty("radiusY")||this.isDirty("rotation"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawEllipse(0,0,Math.abs(this.get("radiusX")),Math.abs(this.get("radiusY")))}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Ellipse"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.T.classNames.concat([l.className])})},1479:function(R,E,a){"use strict";a.d(E,{T:function(){return I},u:function(){return b}});var h=a(4429),l=a(4596),p=a(4680),x=a(5040),T=a(5071);const b=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset"];class I extends l.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const n=this.get("fillGradient");if(n){this._display.isMeasured=!0;const k=n.get("target");k&&(this._disposers.push(k.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(k.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const n=this.get("strokeGradient");if(n){this._display.isMeasured=!0;const k=n.get("target");k&&(this._disposers.push(k.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(k.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let n=this.get("strokeDasharray");x.isNumber(n)&&(n=n<.5?[0]:[n]),this._display.setLineDash(n);const k=this.get("strokeDashoffset");k&&this._display.setLineDashOffset(k);const C=this.get("blendMode",p.b.NORMAL);this._display.blendMode=C;const O=this.get("draw");O&&O(this._display,this);const m=this.get("svgPath");null!=m&&this._display.svgPath(m)}}_afterChanged(){if(super._afterChanged(),this._clear){const n=this.get("fill"),k=this.get("fillGradient"),C=this.get("fillPattern"),O=this.get("fillOpacity"),m=this.get("stroke"),A=this.get("strokeGradient"),P=this.get("strokePattern"),D=this.get("shadowColor"),f=this.get("shadowBlur"),o=this.get("shadowOffsetX"),B=this.get("shadowOffsetY"),V=this.get("shadowOpacity");if(D&&(f||o||B)&&this._display.shadow(D,f,o,B,V),C){let q=!1;!n||C.get("fill")&&!C.get("fillInherited")||(C.set("fill",n),C.set("fillInherited",!0),q=!0),!m||C.get("color")&&!C.get("colorInherited")||(C.set("color",m),C.set("colorInherited",!0),q=!0),q&&C._changed();const nt=C.pattern;nt&&(this._display.beginFill(nt,O),this._display.endFill(),C instanceof h.v&&C.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}else if(k){if(n){const nt=k.get("stops",[]);nt.length&&T.each(nt,yt=>{yt.color&&!yt.colorInherited||!n||(yt.color=n,yt.colorInherited=!0),(null==yt.opacity||yt.opacityInherited)&&(yt.opacity=O,yt.opacityInherited=!0)})}const q=k.getFill(this);q&&(this._display.beginFill(q,O),this._display.endFill())}else n&&(this._display.beginFill(n,O),this._display.endFill());if(m||A||P){const q=this.get("strokeOpacity");let nt=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(nt/=this.get("scale",1)),this.get("crisp")&&(nt/=this._root._renderer.resolution);const yt=this.get("lineJoin");if(P){let ut=!1;!m||P.get("color")&&!P.get("colorInherited")||(P.set("color",m),P.set("colorInherited",!0),ut=!0),ut&&P._changed();const Y=P.pattern;Y&&(this._display.lineStyle(nt,Y,q,yt),this._display.endStroke(),P instanceof h.v&&P.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}else if(A){const ut=A.get("stops",[]);ut.length&&T.each(ut,tt=>{tt.color&&!tt.colorInherited||!m||(tt.color=m,tt.colorInherited=!0),(null==tt.opacity||tt.opacityInherited)&&(tt.opacity=q,tt.opacityInherited=!0)});const Y=A.getFill(this);Y&&(this._display.lineStyle(nt,Y,q,yt),this._display.endStroke())}else m&&(this._display.lineStyle(nt,m,q,yt),this._display.endStroke())}}this._clear=!1}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.j.classNames.concat([I.className])})},6881:function(R,E,a){"use strict";a.d(E,{M:function(){return x}});var h=a(2010),l=a(5071),p=a(751);class x extends h.A{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(b){let I=b.get("paddingLeft",0),u=b.get("paddingRight",0),n=b.get("paddingTop",0),k=b.maxWidth()-I-u,C=k,O=1;(0,h.j)(b,B=>{if(B.get("visible")&&B.getPrivate("visible")&&!B.get("forceHidden")&&"absolute"!=B.get("position")){let V=B.width();V<C&&(C=V),V>O&&(O=V)}}),C=p.fitToRange(C,1,k),O=p.fitToRange(O,1,k);let m=1;m=this.get("fixedWidthGrid")?k/O:k/C,m=Math.max(1,Math.floor(m)),m=Math.min(this.get("maxColumns",Number.MAX_VALUE),m);let A=this.getColumnWidths(b,m,O,k),P=n,D=0,f=0;m=A.length;let o=I;(0,h.j)(b,B=>{if("relative"==B.get("position")&&B.isVisible()){const V=B.get("marginTop",0),q=B.get("marginBottom",0);let nt=B.adjustedLocalBounds(),yt=B.get("marginLeft",0),ut=B.get("marginRight",0),tt=P+V-nt.top;B.setPrivate("x",o+yt-nt.left),B.setPrivate("y",tt),o+=A[D]+ut,f=Math.max(f,B.height()+V+q),D++,D>=m&&(D=0,o=I,P+=f)}})}getColumnWidths(b,I,u,n){let k=0,C=[],O=0;return(0,h.j)(b,m=>{let A=m.adjustedLocalBounds();"absolute"!=m.get("position")&&m.isVisible()&&(C[O]=this.get("fixedWidthGrid")?u:Math.max(0|C[O],A.right-A.left+m.get("marginLeft",0)+m.get("marginRight",0)),O<b.children.length-1&&(O++,O==I&&(O=0)))}),l.each(C,m=>{k+=m}),k>n?I>2?this.getColumnWidths(b,I-=1,u,n):[n]:C}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.A.classNames.concat([x.className])})},4431:function(R,E,a){"use strict";a.d(E,{G:function(){return x}});var h=a(2010),l=a(5040),p=a(6245);class x extends h.A{updateContainer(b){let I=b.get("paddingLeft",0),u=b.innerWidth(),n=0;(0,h.j)(b,C=>{if(C.isVisible()&&"relative"==C.get("position")){let O=C.get("width");if(O instanceof p.gG){n+=O.value;let m=u*O.value,A=C.get("minWidth",C.getPrivate("minWidth",-1/0));A>m&&(u-=A,n-=O.value);let P=C.get("maxWidth",C.getPrivate("maxWidth",1/0));m>P&&(u-=P,n-=O.value)}else l.isNumber(O)||(O=C.width()),u-=O+C.get("marginLeft",0)+C.get("marginRight",0)}}),u<0&&(u=.01),(0,h.j)(b,C=>{if(C.isVisible()&&"relative"==C.get("position")){let O=C.get("width");if(O instanceof p.gG){let m=u*O.value/n-C.get("marginLeft",0)-C.get("marginRight",0),A=C.get("minWidth",C.getPrivate("minWidth",-1/0)),P=C.get("maxWidth",C.getPrivate("maxWidth",1/0));m=Math.min(Math.max(A,m),P),C.setPrivate("width",m)}}});let k=I;(0,h.j)(b,C=>{if("relative"==C.get("position"))if(C.isVisible()){let O=C.adjustedLocalBounds(),m=C.get("marginLeft",0),A=C.get("marginRight",0),P=C.get("maxWidth"),D=O.left,f=O.right;P&&f-D>P&&(f=D+P);let o=k+m-D;C.setPrivate("x",o),k=o+f+A}else C.setPrivate("x",void 0)})}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.A.classNames.concat([x.className])})},962:function(R,E,a){"use strict";a.d(E,{_:function(){return b}});var h=a(2036),l=a(6245),p=a(8777),x=a(5071),T=a(5040);class b extends p.W{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),x.each(this._textKeys,u=>{const n=this.get(u);null!=n&&this._text.set(u,n)}),""!==this.get("html","")&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(h.x.new(this._root,{}))}_updateChildren(){if(super._updateChildren(),x.each(this._textKeys,u=>{this._text.set(u,this.get(u))}),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),""!==this.get("html","")?this._text.set("text",""):this._text.set("text",this.get("text")),this.isDirty("textAlign")||this.isDirty("width")){const u=this.get("textAlign");let n;null!=this.get("width")?n="right"==u?l.AQ:"center"==u?l.CI:0:"left"==u||"start"==u?n=this.get("paddingLeft"):"right"!=u&&"end"!=u||(n=-this.get("paddingRight")),this.text.set("x",n)}}_setMaxDimentions(){const u=this.get("rotation"),n=90==u||270==u||-90==u,k=this.get("maxWidth",this.getPrivate("maxWidth",1/0));T.isNumber(k)?this.text.set(n?"maxHeight":"maxWidth",k-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(n?"maxHeight":"maxWidth",void 0);const C=this.get("maxHeight",this.getPrivate("maxHeight",1/0));T.isNumber(C)?this.text.set(n?"maxWidth":"maxHeight",C-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(n?"maxWidth":"maxHeight",void 0)}_setDataItem(u){super._setDataItem(u),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}getText(){return this._text._getText()}}Object.defineProperty(b,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(b,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.W.classNames.concat([b.className])})},2010:function(R,E,a){"use strict";a.d(E,{A:function(){return p},j:function(){return l}});var h=a(6331);function l(x,T){x.get("reverseChildren",!1)?x.children.eachReverse(T):x.children.each(T)}class p extends h.JH{}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([p.className])})},3105:function(R,E,a){"use strict";a.d(E,{D:function(){return u}});var h=a(3399),l=a(8777),p=a(962),x=a(3497),T=a(5769),b=a(7144),I=a(7652);class u extends h.F{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new b.o(T.YS.new({}),()=>l.W._new(this._root,{themeTags:I.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:I.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:x.c.new(this._root,{themeTags:I.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:I.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template]))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new b.o(T.YS.new({}),()=>l.W._new(this._root,{themeTags:I.mergeTags(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new b.o(T.YS.new({}),()=>p._._new(this._root,{themeTags:I.mergeTags(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template]))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new b.o(T.YS.new({}),()=>p._._new(this._root,{themeTags:I.mergeTags(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template]))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new b.o(T.YS.new({}),()=>x.c._new(this._root,{themeTags:I.mergeTags(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template]))})}_afterNew(){this._settings.themeTags=I.mergeTags(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(k){const C=this.children.push(this.itemContainers.make());return C._setDataItem(k),this.itemContainers.push(C),C.states.create("disabled",{}),C}makeMarker(){const k=this.markers.make();return this.markers.push(k),k.states.create("disabled",{}),k}makeLabel(){const k=this.labels.make();return k.states.create("disabled",{}),k}makeValueLabel(){const k=this.valueLabels.make();return k.states.create("disabled",{}),k}makeMarkerRectangle(){const k=this.markerRectangles.make();return k.states.create("disabled",{}),k}processDataItem(k){super.processDataItem(k);const C=this.makeItemContainer(k),O=this.get("nameField"),m=this.get("fillField"),A=this.get("strokeField");if(C){const D=this.get("clickTarget","itemContainer"),f=k.dataContext;f&&f.set&&f.set("legendDataItem",k),C._setDataItem(k),k.set("itemContainer",C);const o=this.makeMarker();if(o){C.children.push(o),o._setDataItem(k),k.set("marker",o);const q=this.get("useDefaultMarker"),nt=o.children.push(this.makeMarkerRectangle());let yt=k.get("fill"),ut=k.get("stroke");k.set("markerRectangle",nt),f&&f.get&&(yt=f.get(m,yt),ut=f.get(A,ut)),ut||(ut=yt),q?f.on&&(f.on(m,()=>{nt.set("fill",f.get(m))}),f.on(A,()=>{nt.set("stroke",f.get(A))})):f&&f.createLegendMarker&&f.createLegendMarker(),nt.setAll({fill:yt,stroke:ut});const Y=f.component;Y&&Y.updateLegendMarker&&Y.updateLegendMarker(f)}const B=this.makeLabel();if(B){C.children.push(B),B._setDataItem(k),k.set("label",B),B.text.on("text",()=>{C.set("ariaLabel",B.text._getText()+"; "+this._t("Press ENTER to toggle"))}),f&&f.get&&k.set("name",f.get(O));let q=k.get("name");q&&B.set("text",q)}const V=this.makeValueLabel();if(V&&(C.children.push(V),V._setDataItem(k),k.set("valueLabel",V)),f&&f.show&&(this._disposers.push(f.on("visible",q=>{C.set("disabled",!q)})),f.get("visible")||C.set("disabled",!0),"none"!=D)){var P=C;"marker"==D&&(P=o),this._addClickEvents(P,f,k)}this.children.values.sort((q,nt)=>{var yt=q.dataItem.dataContext,ut=nt.dataItem.dataContext;if(yt&&ut){var Y=this.data.indexOf(yt),tt=this.data.indexOf(ut);if(Y>tt)return 1;if(Y<tt)return-1}return 0}),f&&f.updateLegendValue&&f.updateLegendValue()}}_addClickEvents(k,C,O){k.set("cursorOverStyle","pointer"),k.events.on("pointerover",()=>{const m=C.component;m&&m.hoverDataItem&&m.hoverDataItem(C)}),k.events.on("pointerout",()=>{const m=C.component;m&&m.hoverDataItem&&m.unhoverDataItem(C)}),k.events.on("click",()=>{const m=O.get("label").text._getText();C.show&&C.isHidden&&(C.isHidden()||!1===C.get("visible"))?(C.show(),k.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,m))):C.hide&&(C.hide(),k.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,m)))})}disposeDataItem(k){super.disposeDataItem(k);const C=k.dataContext;C&&C.get&&C.get("legendDataItem")==k&&C.set("legendDataItem",void 0);let O=k.get("itemContainer");O&&(this.itemContainers.removeValue(O),O.dispose());let m=k.get("marker");m&&(this.markers.removeValue(m),m.dispose());let A=k.get("markerRectangle");A&&(this.markerRectangles.removeValue(A),A.dispose());let P=k.get("label");P&&(this.labels.removeValue(P),P.dispose());let D=k.get("valueLabel");D&&(this.valueLabels.removeValue(D),D.dispose())}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.F.classNames.concat([u.className])})},2077:function(R,E,a){"use strict";a.d(E,{x:function(){return x}});var h=a(1479);function l(T,b){for(let I=0,u=b.length;I<u;I++){const n=b[I];if(n.length>0){let k=n[0];if(k.length>0){let C=k[0];T.moveTo(C.x,C.y);for(let O=0,m=n.length;O<m;O++)p(T,n[O])}}}}function p(T,b){for(let I=0,u=b.length;I<u;I++){const n=b[I];T.lineTo(n.x,n.y)}}class x extends h.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const b=this.get("points"),I=this.get("segments");if(b&&b.length>0){let u=b[0];this._display.moveTo(u.x,u.y),l(this._display,[[b]])}else if(I)l(this._display,I);else if(!this.get("draw")){let u=this.width(),n=this.height();this._display.moveTo(0,0),this._display.lineTo(u,n)}}}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.T.classNames.concat([x.className])})},8289:function(R,E,a){"use strict";a.d(E,{G:function(){return l}});class h{constructor(u,n){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=u,this._tension=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b(this,this._t0,T(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(u,n){let k=NaN;if(n=+n,(u=+u)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(u,n):this._context.moveTo(u,n);break;case 1:this._point=2;break;case 2:this._point=3,b(this,T(this,k=x(this,u,n)),k);break;default:b(this,this._t0,k=x(this,u,n))}this._x0=this._x1,this._x1=u,this._y0=this._y1,this._y1=n,this._t0=k}}}function l(I){return function(u){return new h(u,I)}}function p(I){return I<0?-1:1}function x(I,u,n){let k=I._x1-I._x0,C=u-I._x1,O=(I._y1-I._y0)/(k||C<0&&-0),m=(n-I._y1)/(C||k<0&&-0),A=(O*C+m*k)/(k+C);return(p(O)+p(m))*Math.min(Math.abs(O),Math.abs(m),.5*Math.abs(A))||0}function T(I,u){let n=I._x1-I._x0;return n?(3*(I._y1-I._y0)/n-u)/2:u}function b(I,u,n){let k=I._x0,O=I._x1,m=I._y1,A=(O-k)/1.5*(1-I._tension);I._context.bezierCurveTo(k+A,I._y0+A*u,O-A,m-A*n,O,m)}},5892:function(R,E,a){"use strict";a.d(E,{$:function(){return l}});class h{constructor(u,n){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=u,this._tension=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b(this,this._t0,T(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(u,n){[u,n]=[n,u];let k=NaN;if(n=+n,(u=+u)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,u):this._context.moveTo(n,u);break;case 1:this._point=2;break;case 2:this._point=3,b(this,T(this,k=x(this,u,n)),k);break;default:b(this,this._t0,k=x(this,u,n))}this._x0=this._x1,this._x1=u,this._y0=this._y1,this._y1=n,this._t0=k}}}function l(I){function u(n){return new h(n,I)}return u.tension=function(n){return l(+n)},u}function p(I){return I<0?-1:1}function x(I,u,n){let k=I._x1-I._x0,C=u-I._x1,O=(I._y1-I._y0)/(k||C<0&&-0),m=(n-I._y1)/(C||k<0&&-0),A=(O*C+m*k)/(k+C);return(p(O)+p(m))*Math.min(Math.abs(O),Math.abs(m),.5*Math.abs(A))||0}function T(I,u){let n=I._x1-I._x0;return n?(3*(I._y1-I._y0)/n-u)/2:u}function b(I,u,n){let k=I._x0,O=I._x1,m=I._y1,A=(O-k)/1.5*(1-I._tension);I._context.bezierCurveTo(I._y0+A*u,k+A,m-A*n,O-A,m,O)}},5021:function(R,E,a){"use strict";a.d(E,{t:function(){return p}});var h=a(4596),l=a(5040);class p extends h.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makePicture(void 0)})}_changed(){if(super._changed(),this.isDirty("width")){const T=this.get("width");this._display.width=l.isNumber(T)?T:void 0}if(this.isDirty("height")){const T=this.get("height");this._display.height=l.isNumber(T)?T:void 0}if(this.isDirty("shadowColor")){this._display.clear();const T=this.get("shadowColor");this._display.shadowColor=T??void 0}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),this.isDirty("src")&&(this._display.clear(),this._load())}_load(){const T=this.get("src");if(T){const b=new Image;b.src=T,b.decode().then(()=>{this._display.image=b,this._updateSize()}).catch(I=>{})}}_updateSize(){super._updateSize();const T=this._display.image;if(T){let b=this.getPrivate("width",this.get("width")),I=this.getPrivate("height",this.get("height"));const u=T.width&&T.height?T.width/T.height:0;l.isNumber(b)&&l.isNumber(I)?(this._display.width=b,this._display.height=I):l.isNumber(b)&&u?I=b/u:l.isNumber(I)&&u?b=I*u:(b=T.width,I=T.height),l.isNumber(b)&&(this._display.width=b),l.isNumber(I)&&(this._display.height=I),this.markDirtyBounds(),this.markDirty()}}}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.j.classNames.concat([p.className])})},8931:function(R,E,a){"use strict";a.d(E,{i:function(){return p}});var h=a(1479),l=a(751);class p extends h.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let T=this.width(),b=this.height();if(T>0&&b>0){let I=this.get("cornerRadius",8);I=l.fitToRange(I,0,Math.min(T/2,b/2));let u=this.get("pointerX",0),n=this.get("pointerY",0),k=this.get("pointerBaseWidth",15)/2,C=0,O=0,m=0,A=(u-C)*(b-O)-(n-O)*(T-C),P=(u-m)*(0-b)-(n-b)*(T-m);const D=this._display;if(D.moveTo(I,0),A>0&&P>0){let f=Math.round(l.fitToRange(u,I+k,T-k-I));n=l.fitToRange(n,-1/0,0),D.lineTo(f-k,0),D.lineTo(u,n),D.lineTo(f+k,0)}if(D.lineTo(T-I,0),D.arcTo(T,0,T,I,I),A>0&&P<0){let f=Math.round(l.fitToRange(n,I+k,b-k-I));u=l.fitToRange(u,T,1/0),D.lineTo(T,I),D.lineTo(T,Math.max(f-k,I)),D.lineTo(u,n),D.lineTo(T,f+k)}if(D.lineTo(T,b-I),D.arcTo(T,b,T-I,b,I),A<0&&P<0){let f=Math.round(l.fitToRange(u,I+k,T-k-I));n=l.fitToRange(n,b,1/0),D.lineTo(T-I,b),D.lineTo(f+k,b),D.lineTo(u,n),D.lineTo(f-k,b)}if(D.lineTo(I,b),D.arcTo(0,b,0,b-I,I),A<0&&P>0){let f=Math.round(l.fitToRange(n,I+k,b-I-k));u=l.fitToRange(u,-1/0,0),D.lineTo(0,b-I),D.lineTo(0,f+k),D.lineTo(u,n),D.lineTo(0,Math.max(f-k,I))}D.lineTo(0,I),D.arcTo(0,0,I,0,I),D.closePath()}}}}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.T.classNames.concat([p.className])})},815:function(R,E,a){"use strict";a.d(E,{x:function(){return b}});var h=a(6245),l=a(962),p=a(4244),x=a(751),T=a(7652);class b extends l._{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(p.f.new(this._root,{}))}baseRadius(){const u=this.getPrivate("radius",0),n=this.getPrivate("innerRadius",0),k=this.get("baseRadius",0);return n+T.relativeToValue(k,u-n)}radius(){const u=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(u?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const u=this.get("textType","adjusted"),n=this.get("inside",!1),k=this.get("orientation");let C=x.normalizeAngle(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",n);const O=x.sin(C),m=x.cos(C);let A=this.baseRadius(),P=this.radius();if(this._display.angle=0,"circular"==u)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",k),this._text.set("radius",P);else{0==A&&(C=0,P=0);let D=P*m,f=P*O;"radial"==u?(this.setRaw("x",D),this.setRaw("y",f),C<90||C>270||"auto"!=k?(this._display.angle=C,this._flipped=!1):(this._display.angle=C+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==u?(this.setRaw("centerX",h.CI),this.setRaw("centerY",h.CI),this.setRaw("x",D),this.setRaw("y",f)):"regular"==u&&(this.setRaw("x",D),this.setRaw("y",f))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const u=this.get("textType","regular"),n=this.get("inside",!1);let k=0,C=0,O=this.get("labelAngle",0),m=this.localBounds(),A=m.right-m.left,P=m.bottom-m.top;if("radial"==u){if(this._flipped){let D=this.get("centerX");D instanceof h.gG&&(A*=1-2*D.value),k=A*x.cos(O),C=A*x.sin(O)}}else n||"adjusted"!=u||(k=A/2*x.cos(O),C=P/2*x.sin(O));this.setRaw("dx",k),this.setRaw("dy",C),super._updatePosition()}get text(){return this._text}}Object.defineProperty(b,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(b,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l._.classNames.concat([b.className])})},4244:function(R,E,a){"use strict";a.d(E,{f:function(){return p}});var h=a(2036),l=a(751);class p extends h.x{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*l.RADIANS,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.x.classNames.concat([p.className])})},7142:function(R,E,a){"use strict";a.d(E,{A:function(){return l}});var h=a(1479);class l extends h.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.T.classNames.concat([l.className])})},3497:function(R,E,a){"use strict";a.d(E,{c:function(){return T}});var h=a(5040),l=a(751),p=a(7652),x=a(7142);class T extends x.A{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let I=this.width(),u=this.height(),n=I,k=u,C=n/Math.abs(I),O=k/Math.abs(u);if(h.isNumber(n)&&h.isNumber(k)){let m=Math.min(n,k)/2,A=p.relativeToValue(this.get("cornerRadiusTL",8),m),P=p.relativeToValue(this.get("cornerRadiusTR",8),m),D=p.relativeToValue(this.get("cornerRadiusBR",8),m),f=p.relativeToValue(this.get("cornerRadiusBL",8),m),o=Math.min(Math.abs(n/2),Math.abs(k/2));A=l.fitToRange(A,0,o),P=l.fitToRange(P,0,o),D=l.fitToRange(D,0,o),f=l.fitToRange(f,0,o);const B=this._display;B.moveTo(A*C,0),B.lineTo(n-P*C,0),P>0&&B.arcTo(n,0,n,P*O,P),B.lineTo(n,k-D*O),D>0&&B.arcTo(n,k,n-D*C,k,D),B.lineTo(f*C,k),f>0&&B.arcTo(0,k,0,k-f*O,f),B.lineTo(0,A*O),A>0&&B.arcTo(0,0,A*C,0,A),B.closePath()}}}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x.A.classNames.concat([T.className])})},6001:function(R,E,a){"use strict";a.d(E,{L:function(){return I}});var h=a(3497),l=a(8777),p=a(1479),x=a(8054),T=a(5040),b=a(7652);class I extends l.W{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=b.mergeTags(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=h.c.new(this._root,{themeTags:b.mergeTags(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(x.z.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:p.T.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(h.c.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(n){n&&this._disposers.push(n.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const n=this.startGrip,k=this.endGrip,C=this.thumb,O=this.get("background");O&&this._disposers.push(O.events.on("click",m=>{this.setPrivateRaw("isBusy",!0);const A=this._display.toLocal(m.point),P=this.width(),D=this.height(),f=this.get("orientation");let o,B,V;o="vertical"==f?(A.y-C.height()/2)/D:(A.x-C.width()/2)/P,"vertical"==f?(B=o*D,V="y"):(B=o*P,V="x");const q=this.get("animationDuration",0);q>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:V,to:B,duration:q,easing:this.get("animationEasing")}))):(this.thumb.set(V,B),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(C.events.on("dblclick",m=>{if(!b.isLocalEvent(m.originalEvent,this))return;const A=this.get("animationDuration",0),P=this.get("animationEasing");this.animate({key:"start",to:0,duration:A,easing:P}),this.animate({key:"end",to:1,duration:A,easing:P})})),this._disposers.push(n.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(k.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(C.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(n.events.on("globalpointerup",()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1})),this._disposers.push(k.events.on("globalpointerup",()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1})),this._disposers.push(C.events.on("globalpointerup",()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1})),this._disposers.push(n.on("x",()=>{this._updateThumb()})),this._disposers.push(k.on("x",()=>{this._updateThumb()})),this._disposers.push(n.on("y",()=>{this._updateThumb()})),this._disposers.push(k.on("y",()=>{this._updateThumb()})),this._disposers.push(C.events.on("positionchanged",()=>{this._updateGripsByThumb()})),"vertical"==this.get("orientation")?(n.set("x",0),k.set("x",0),this._disposers.push(C.adapters.add("y",m=>Math.max(Math.min(Number(m),this.height()-C.height()),0))),this._disposers.push(C.adapters.add("x",m=>this.width()/2)),this._disposers.push(n.adapters.add("x",m=>this.width()/2)),this._disposers.push(k.adapters.add("x",m=>this.width()/2)),this._disposers.push(n.adapters.add("y",m=>Math.max(Math.min(Number(m),this.height()),0))),this._disposers.push(k.adapters.add("y",m=>Math.max(Math.min(Number(m),this.height()),0)))):(n.set("y",0),k.set("y",0),this._disposers.push(C.adapters.add("x",m=>Math.max(Math.min(Number(m),this.width()-C.width()),0))),this._disposers.push(C.adapters.add("y",m=>this.height()/2)),this._disposers.push(n.adapters.add("y",m=>this.height()/2)),this._disposers.push(k.adapters.add("y",m=>this.height()/2)),this._disposers.push(n.adapters.add("x",m=>Math.max(Math.min(Number(m),this.width()),0))),this._disposers.push(k.adapters.add("x",m=>Math.max(Math.min(Number(m),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const n="rangechanged";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const n=this.startGrip,k=this.endGrip,C=this.get("orientation"),O=this.height(),m=this.width();"vertical"==C?(n.set("y",O*this.get("start",0)),k.set("y",O*this.get("end",1))):(n.set("x",m*this.get("start",0)),k.set("x",m*this.get("end",1)));const A=this.getPrivate("positionTextFunction"),P=Math.round(100*this.get("start",0)),D=Math.round(100*this.get("end",0));let f,o;A?(f=A.call(this,this.get("start",0)),o=A.call(this,this.get("end",0))):(f=P+"%",o=D+"%"),n.set("ariaLabel",this._t("From %1",void 0,f)),n.set("ariaValueNow",""+P),n.set("ariaValueText",P+"%"),n.set("ariaValueMin","0"),n.set("ariaValueMax","100"),k.set("ariaLabel",this._t("To %1",void 0,o)),k.set("ariaValueNow",""+D),k.set("ariaValueText",D+"%"),k.set("ariaValueMin","0"),k.set("ariaValueMax","100")}_updateThumb(){const n=this.thumb,k=this.startGrip,C=this.endGrip,O=this.height(),m=this.width();let A=k.x(),P=C.x(),D=k.y(),f=C.y(),o=0,B=1;"vertical"==this.get("orientation")?T.isNumber(D)&&T.isNumber(f)&&(this._thumbBusy||n.isDragging()||(n.set("height",f-D),n.set("y",D)),o=D/O,B=f/O):T.isNumber(A)&&T.isNumber(P)&&(this._thumbBusy||n.isDragging()||(n.set("width",P-A),n.set("x",A)),o=A/m,B=P/m),!this.getPrivate("isBusy")||this.get("start")==o&&this.get("end")==B||(this.set("start",o),this.set("end",B));const V=this.getPrivate("positionTextFunction"),q=Math.round(100*this.get("start",0)),nt=Math.round(100*this.get("end",0));let yt,ut;V?(yt=V.call(this,this.get("start",0)),ut=V.call(this,this.get("end",0))):(yt=q+"%",ut=nt+"%"),n.set("ariaLabel",this._t("From %1 to %2",void 0,yt,ut)),n.set("ariaValueNow",""+q),n.set("ariaValueText",q+"%")}_updateGripsByThumb(){const n=this.thumb,k=this.startGrip,C=this.endGrip;if("vertical"==this.get("orientation")){const O=n.height();k.set("y",n.y()),C.set("y",n.y()+O)}else{const O=n.width();k.set("x",n.x()),C.set("x",n.x()+O)}}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.W.classNames.concat([I.className])})},5829:function(R,E,a){"use strict";a.d(E,{j:function(){return b}});var h=a(1337),l=a(8777),p=a(7144),x=a(6245),T=a(5071);class b extends h.k{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:l.W.new(this._root,{width:x.AQ,height:x.AQ,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new p.dn})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const u=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(n=>{if("clear"===n.type){T.each(n.oldValues,C=>{this._removeSeries(C)});const k=this.get("colors");k&&k.reset()}else if("push"===n.type)u.moveValue(n.newValue),this._processSeries(n.newValue);else if("setIndex"===n.type)u.setIndex(n.index,n.newValue),this._processSeries(n.newValue);else if("insertIndex"===n.type)u.insertIndex(n.index,n.newValue),this._processSeries(n.newValue);else if("removeIndex"===n.type)this._removeSeries(n.oldValue);else{if("moveIndex"!==n.type)throw new Error("Unknown IListEvent type");u.moveValue(n.value,n.newIndex),this._processSeries(n.value)}}))}_processSeries(u){u.chart=this,u._placeBulletsContainer(this)}_removeSeries(u){u.isDisposed()||(this.seriesContainer.children.removeValue(u),u._removeBulletsContainer())}}Object.defineProperty(b,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(b,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.k.classNames.concat([b.className])})},3399:function(R,E,a){"use strict";a.d(E,{F:function(){return O}});var h=a(5125),l=a(9361),p=a(7144),x=a(1112),T=a(6490),b=a(6245),I=a(5071),u=a(5040),n=a(1926),k=a(8777),C=a(962);class O extends l.w{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new p.aV}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:k.W.new(this._root,{width:b.AQ,height:b.AQ,position:"absolute"})})}_afterNew(){this.valueFields.push("value"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(A=>{if("clear"===A.type)this._handleBullets(this.dataItems);else if("push"===A.type)this._handleBullets(this.dataItems);else if("setIndex"===A.type)this._handleBullets(this.dataItems);else if("insertIndex"===A.type)this._handleBullets(this.dataItems);else if("removeIndex"===A.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==A.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let A=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),A)}endIndex(){let A=this.dataItems.length;return Math.min(this.getPrivate("endIndex",A),A)}_handleBullets(A){I.each(A,P=>{const D=P.bullets;D&&(I.each(D,f=>{f.dispose()}),P.bullets=void 0)}),this.markDirtyValues()}getDataItemById(A){return I.find(this.dataItems,P=>P.get("id")==A)}_makeBullets(A){this._shouldMakeBullet(A)&&(A.bullets=[],this.bullets.each(P=>{this._makeBullet(A,P)}))}_shouldMakeBullet(A){return!0}_makeBullet(A,P,D){const f=P(this._root,this,A);if(f){let o=f.get("sprite");o&&(o._setDataItem(A),o.setRaw("position","absolute"),this.bulletsContainer.children.push(o)),f._index=D,f.series=this,A.bullets.push(f)}return f}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let A=this.startIndex(),P=this.endIndex();if(this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const D=this.getPrivate("baseValueSeries");D&&this._disposers.push(D.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0)),this._psi==A&&this._pei==P||this._selectionAggregatesCalculated||(0===A&&P===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(A,P),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let D=this.get("tooltip");D&&(D.hide(0),D.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let D;const f=this.get("legendDataItem");if(f&&(D=f.get("markerRectangle"),D&&this.isVisible())){if(this.isDirty("stroke")){let o=this.get("stroke");D.set("stroke",o)}if(this.isDirty("fill")){let o=this.get("fill");D.set("fill",o)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let D=this.startIndex(),f=this.endIndex();f<this.dataItems.length&&f++;for(let o=D;o<f;o++){let B=this.dataItems[o];B.bullets||this._makeBullets(B)}}}_calculateAggregates(A,P){let D=this._valueFields;if(!D)throw new Error("No value fields are set for the series.");const f={},o={},B={},V={},q={},nt={},yt={},ut={},Y={};I.each(D,tt=>{f[tt]=0,o[tt]=0,B[tt]=0}),I.each(D,tt=>{let wt=tt+"Change",St=tt+"ChangePercent",At=tt+"ChangePrevious",ht=tt+"ChangePreviousPercent",mt=tt+"ChangeSelection",dt=tt+"ChangeSelectionPercent",Lt="valueY";"valueX"!=tt&&"openValueX"!=tt&&"lowValueX"!=tt&&"highValueX"!=tt||(Lt="valueX");const Ct=this.getPrivate("baseValueSeries");for(let vt=A;vt<P;vt++){const kt=this.dataItems[vt];let Rt=kt.get(tt);null!=Rt&&(B[tt]++,f[tt]+=Rt,o[tt]+=Math.abs(Rt),ut[tt]=f[tt]/B[tt],(V[tt]>Rt||null==V[tt])&&(V[tt]=Rt),(q[tt]<Rt||null==q[tt])&&(q[tt]=Rt),yt[tt]=Rt,null==nt[tt]&&(nt[tt]=Rt,Y[tt]=Rt,Ct&&(nt[Lt]=Ct._getBase(Lt))),0===A&&(kt.setRaw(wt,Rt-nt[Lt]),kt.setRaw(St,(Rt-nt[Lt])/nt[Lt]*100)),kt.setRaw(At,Rt-Y[Lt]),kt.setRaw(ht,(Rt-Y[Lt])/Y[Lt]*100),kt.setRaw(mt,Rt-nt[Lt]),kt.setRaw(dt,(Rt-nt[Lt])/nt[Lt]*100),Y[tt]=Rt)}}),I.each(D,tt=>{this.setPrivate(tt+"AverageSelection",ut[tt]),this.setPrivate(tt+"CountSelection",B[tt]),this.setPrivate(tt+"SumSelection",f[tt]),this.setPrivate(tt+"AbsoluteSumSelection",o[tt]),this.setPrivate(tt+"LowSelection",V[tt]),this.setPrivate(tt+"HighSelection",q[tt]),this.setPrivate(tt+"OpenSelection",nt[tt]),this.setPrivate(tt+"CloseSelection",yt[tt])}),0===A&&P===this.dataItems.length&&I.each(D,tt=>{this.setPrivate(tt+"Average",ut[tt]),this.setPrivate(tt+"Count",B[tt]),this.setPrivate(tt+"Sum",f[tt]),this.setPrivate(tt+"AbsoluteSum",o[tt]),this.setPrivate(tt+"Low",V[tt]),this.setPrivate(tt+"High",q[tt]),this.setPrivate(tt+"Open",nt[tt]),this.setPrivate(tt+"Close",yt[tt])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const A=this.get("heatRules");if(this._valuesDirty&&A&&A.length>0&&I.each(A,P=>{const D=P.minValue||this.getPrivate(P.dataField+"Low")||0,f=P.maxValue||this.getPrivate(P.dataField+"High")||0;I.each(P.target._entities,o=>{const B=o.dataItem.get(P.dataField);if(!u.isNumber(B))return void(P.neutral&&o.set(P.key,P.neutral));let V,q;V=P.logarithmic?(Math.log(B)*Math.LOG10E-Math.log(D)*Math.LOG10E)/(Math.log(f)*Math.LOG10E-Math.log(D)*Math.LOG10E):(B-D)/(f-D),!u.isNumber(B)||u.isNumber(V)&&Math.abs(V)!=1/0||(V=.5),u.isNumber(P.min)?q=P.min+(P.max-P.min)*V:P.min instanceof x.Il?q=x.Il.interpolate(V,P.min,P.max):P.min instanceof b.gG&&(q=(0,T.Wn)(V,P.min,P.max)),P.customFunction?P.customFunction.call(this,o,D,f,B):o.set(P.key,q)})}),this.bullets.length>0){let P=this.dataItems.length,D=this.startIndex(),f=this.endIndex();f<P&&f++,D>0&&D--;for(let o=0;o<D;o++)this._hideBullets(this.dataItems[o]);for(let o=D;o<f;o++)this._positionBullets(this.dataItems[o]);for(let o=f;o<P;o++)this._hideBullets(this.dataItems[o])}}_positionBullets(A){A.bullets&&I.each(A.bullets,P=>{this._positionBullet(P);const D=P.get("sprite");P.get("dynamic")&&(D&&(D._markDirtyKey("fill"),D.markDirtySize()),D instanceof k.W&&D.walkChildren(f=>{f._markDirtyKey("fill"),f.markDirtySize(),f instanceof C._&&f.text.markDirtyText()})),D instanceof C._&&D.get("populateText")&&D.text.markDirtyText()})}_hideBullets(A){A.bullets&&I.each(A.bullets,P=>{let D=P.get("sprite");D&&D.setPrivate("visible",!1)})}_positionBullet(A){}_placeBulletsContainer(A){A.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const A=this.bulletsContainer;A.parent&&A.parent.children.removeValue(A)}disposeDataItem(A){const P=A.bullets;P&&I.each(P,D=>{D.dispose()})}_getItemReaderLabel(){return""}showDataItem(A,P){const D=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,h.mG)(this,void 0,void 0,function*(){const f=[D.showDataItem.call(this,A,P)],o=A.bullets;o&&I.each(o,B=>{f.push(B.get("sprite").show(P))}),yield Promise.all(f)})}hideDataItem(A,P){const D=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,h.mG)(this,void 0,void 0,function*(){const f=[D.hideDataItem.call(this,A,P)],o=A.bullets;o&&I.each(o,B=>{f.push(B.get("sprite").hide(P))}),yield Promise.all(f)})}_sequencedShowHide(A,P){return(0,h.mG)(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(u.isNumber(P)||(P=this.get("interpolationDuration",0)),P>0){const D=this.startIndex(),f=this.endIndex();yield Promise.all(I.map(this.dataItems,(o,B)=>(0,h.mG)(this,void 0,void 0,function*(){let V=P||0;(B<D-10||B>f+10)&&(V=0);let q=this.get("sequencedDelay",0)+V/(f-D);yield n.sleep(q*(B-D)),A?yield this.showDataItem(o,V):yield this.hideDataItem(o,V)})))}else yield Promise.all(I.map(this.dataItems,D=>A?this.showDataItem(D,0):this.hideDataItem(D,0)))})}updateLegendValue(A){if(A){const P=A.get("legendDataItem");if(P){const D=P.get("valueLabel");if(D){const o=D.text;let B="";D._setDataItem(A),B=this.get("legendValueText",o.get("text","")),D.set("text",B),o.markDirtyText()}const f=P.get("label");if(f){const o=f.text;let B="";f._setDataItem(A),B=this.get("legendLabelText",o.get("text","")),f.set("text",B),o.markDirtyText()}}}}updateLegendMarker(A){}_onHide(){super._onHide();const A=this.getTooltip();A&&A.hide()}hoverDataItem(A){}unhoverDataItem(A){}_getBase(A){const P=this.dataItems[this.startIndex()];return P?P.get(A):0}}Object.defineProperty(O,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(O,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.w.classNames.concat([O.className])})},5863:function(R,E,a){"use strict";a.d(E,{p:function(){return b}});var h=a(1479),l=a(5040),p=a(6245),x=a(832),T=a(751);class b extends h.T{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:(0,x.Z)()})}_getTooltipPoint(){let u=this.get("tooltipX"),n=this.get("tooltipY"),k=0,C=0;l.isNumber(u)&&(k=u),l.isNumber(n)&&(C=n);let O=this.get("radius",0),m=this.get("innerRadius",0);return O+=this.get("dRadius",0),m+=this.get("dInnerRadius",0),m<0&&(m=O+m),u instanceof p.gG&&(k=this.ix*(m+(O-m)*u.value)),n instanceof p.gG&&(C=this.iy*(m+(O-m)*n.value)),this.get("arc")>=360&&0==m&&(k=0,C=0),{x:k,y:C}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let u=this.get("startAngle",0),n=this.get("arc",0);const k=this._generator;n<0&&(u+=n,n*=-1),n>.1&&k.cornerRadius(this.get("cornerRadius",0)),k.context(this._display);let C=this.get("radius",0),O=this.get("innerRadius",0),m=this.get("dRadius",0),A=this.get("dInnerRadius",0);C+=m,O+=A,O<0&&(O=C+O),k({innerRadius:O,outerRadius:C,startAngle:(u+90)*T.RADIANS,endAngle:(u+n+90)*T.RADIANS});let P=u+n/2;this.ix=T.cos(P),this.iy=T.sin(P)}if(this.isDirty("shiftRadius")){const u=this.get("shiftRadius",0);this.setRaw("dx",this.ix*u),this.setRaw("dy",this.iy*u),this.markDirtyPosition()}}}Object.defineProperty(b,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(b,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.T.classNames.concat([b.className])})},4596:function(R,E,a){"use strict";a.d(E,{j:function(){return A}});var h=a(5125),l=a(6331),p=a(5769),x=a(6245),T=a(9770),b=a(7449),I=a(6490),u=a(7652),n=a(5071),k=a(5040),C=a(256),O=a(751);class m extends T.p{constructor(D){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=D}_makePointerEvent(D,f){return{type:D,originalEvent:f.event,point:f.point,simulated:f.simulated,native:f.native,target:this._sprite}}_onRenderer(D,f){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let o=this._rendererDisposers[D];if(void 0===o){const B=this._sprite._display.on(D,V=>{f.call(this,V)});o=this._rendererDisposers[D]=new b.DM(()=>{delete this._rendererDisposers[D],B.dispose()})}return o.increment()}_on(D,f,o,B,V,q){const nt=super._on(D,f,o,B,V,q),yt=m.RENDERER_EVENTS[f];return void 0!==yt&&(nt.disposer=new b.FV([nt.disposer,this._onRenderer(f,yt)])),nt}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(D,f){const o=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(D,f),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(D,f)}finally{this._dispatchParents=o}}}Object.defineProperty(m,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(P){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",P))&&this.dispatch("click",this._makePointerEvent("click",P))},rightclick:function(P){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",P))},middleclick:function(P){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",P))},dblclick:function(P){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",P))},pointerover:function(P){this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",P))},pointerout:function(P){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",P))},pointerdown:function(P){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",P))},pointerup:function(P){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",P))},globalpointerup:function(P){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",P))},globalpointermove:function(P){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",P))},wheel:function(P){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:P.event,point:P.point})}}});class A extends l.JH{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}_markDirtyKey(D){super._markDirtyKey(D),"x"!=D&&"y"!=D&&"dx"!=D&&"dy"!=D||(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(D){super._markDirtyPrivateKey(D),"x"!=D&&"y"!=D||this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new m(this)}_processTemplateField(){let D;const f=this.get("templateField");if(f){const o=this.dataItem;if(o){const B=o.dataContext;B&&(D=B[f],D instanceof p.YS||!D||(D=p.YS.new(D)))}}this._templateField!==D&&(this._removeTemplateField(),this._templateField=D,D&&D._setObjectTemplate(this),this._applyTemplates())}_setDataItem(D){const f=this._dataItem;this._dataItem=D,this._processTemplateField();const o="dataitemchanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,oldDataItem:f,newDataItem:D})}set dataItem(D){this._setDataItem(D)}get dataItem(){if(this._dataItem)return this._dataItem;{let D=this._parent;for(;D;){if(D._dataItem)return D._dataItem;D=D._parent}}}_addPercentageSizeChildren(){let D=this.parent;D&&(this.get("width")instanceof x.gG||this.get("height")instanceof x.gG?n.pushOne(D._percentageSizeChildren,this):n.removeFirst(D._percentageSizeChildren,this))}_addPercentagePositionChildren(){let D=this.parent;D&&(this.get("x")instanceof x.gG||this.get("y")instanceof x.gG?n.pushOne(D._percentagePositionChildren,this):n.removeFirst(D._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const D=this._localBounds;if(D){const f=this.get("centerX");null!=f&&(this._display.pivot.x=D.left+u.relativeToValue(f,D.right-D.left));const o=this.get("centerY");null!=o&&(this._display.pivot.y=D.top+u.relativeToValue(o,D.bottom-D.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const D=this._prevSettings.tooltip;D&&D.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const D=this._tooltipMoveDp;D&&(D.dispose(),this._tooltipMoveDp=void 0);const f=this._tooltipPointerDp;f&&(f.dispose(),this._tooltipPointerDp=void 0),"pointer"==this.get("tooltipPosition")&&(this._tooltipPointerDp=new b.FV([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",o=>{this.showTooltip(o.point)})}),this.events.on("pointerout",()=>{const o=this._tooltipMoveDp;o&&(o.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const D=this._display,f=this.events;if(this.isDirty("draggable")){const o=this.get("draggable");o?(this.set("interactive",!0),this._dragDp=new b.FV([f.on("pointerdown",B=>{this.dragStart(B)}),f.on("globalpointermove",B=>{this.dragMove(B)}),f.on("globalpointerup",B=>{this.dragStop(B)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),D.cancelTouch=!!o}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const o=this.get("tooltipText"),B=this.get("tooltipHTML"),V=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(o||B)&&("click"==V?this._tooltipDp=new b.FV([f.on("click",()=>{this.setTimeout(()=>this.showTooltip(),10)}),u.addEventListener(document,"click",q=>{this.hideTooltip()})]):"always"==V||(this._tooltipDp=new b.FV([f.on("pointerover",()=>{this.showTooltip()}),f.on("pointerout",()=>{this.hideTooltip()})])))}if(this.isDirty("toggleKey")){let o=this.get("toggleKey");o&&"none"!=o?this._toggleDp=f.on("click",()=>{this._isDragging||this.set(o,!this.get(o))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(D.alpha=Math.max(0,this.get("opacity",1))),this.isDirty("rotation")&&(this.markDirtyBounds(),D.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),D.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?D.visible=!0:(D.visible=!1,this.hideTooltip()),this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const o=this.parent;o&&(this.isDirty("width")&&this.get("width")instanceof x.gG||this.isDirty("height")&&this.get("height")instanceof x.gG)&&(o.markDirty(),o._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const o=this.get("wheelable");o&&this.set("interactive",!0),D.wheelable=!!o}if((this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(D.filter=this.get("filter")),this.isDirty("cursorOverStyle")&&(D.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new b.FV([f.on("focus",()=>{this.showTooltip()}),f.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(D.exportable=this.get("exportable")),this.isDirty("interactive")){const o=this.events;this.get("interactive")?this._hoverDp=new b.FV([o.on("click",B=>{u.isTouchEvent(B.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:B.target,originalEvent:B.originalEvent,point:B.point,simulated:B.simulated})},10))}),o.on("globalpointerup",B=>{u.isTouchEvent(B.originalEvent)&&(this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip()),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:B.target,originalEvent:B.originalEvent,point:B.point,simulated:B.simulated})),this._isDown&&this._handleUp(B)}),o.on("pointerover",()=>{this._handleOver()}),o.on("pointerout",()=>{this._handleOut()}),o.on("pointerdown",B=>{this._handleDown(B)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",!1)),"always"==this.get("showTooltipOn")&&this._display.visible&&this.showTooltip()}dragStart(D){this._dragEvent=D,this.events.stopParentDispatch()}dragStop(D){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const f="dragstop";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this,originalEvent:D.originalEvent,point:D.point,simulated:D.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"))}_handleUp(D){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const f=u.getPointerId(D.originalEvent);delete this._downPoints[f],0==C.keys(this._downPoints).length&&(this._isDown=!1)}}_hasMoved(D){const f=u.getPointerId(D.originalEvent),o=this._downPoints[f];if(o){const B=Math.abs(o.x-D.point.x),V=Math.abs(o.y-D.point.y);return B>5||V>5}return!1}_hasDown(){return C.keys(this._downPoints).length>0}_handleDown(D){const f=this.parent;if(f&&!this.get("draggable")&&f._handleDown(D),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:D.point.x,y:D.point.y},this._isDown=!0;const o=u.getPointerId(D.originalEvent);this._downPoints[o]={x:D.point.x,y:D.point.y}}}dragMove(D){let f=this._dragEvent;if(f){if(f.simulated&&!D.simulated)return!0;let o=0,B=this.parent;for(;null!=B;)o+=B.get("rotation",0),B=B.parent;let V=D.point.x-f.point.x,q=D.point.y-f.point.y;const nt=this.events;if(f.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=D,this._dragPoint={x:this.x(),y:this.y()};const yt="dragstart";nt.isEnabled(yt)&&nt.dispatch(yt,{type:yt,target:this,originalEvent:D.originalEvent,point:D.point,simulated:D.simulated})}if(this._isDragging){let yt=this._dragPoint;this.set("x",yt.x+V*O.cos(o)+q*O.sin(o)),this.set("y",yt.y+q*O.cos(o)-V*O.sin(o));const ut="dragged";nt.isEnabled(ut)&&nt.dispatch(ut,{type:ut,target:this,originalEvent:D.originalEvent,point:D.point,simulated:D.simulated})}else if(Math.hypot(V,q)>5){this._isDragging=!0,this._dragEvent=D,this._dragPoint={x:this.x(),y:this.y()};const yt="dragstart";nt.isEnabled(yt)&&nt.dispatch(yt,{type:yt,target:this,originalEvent:D.originalEvent,point:D.point,simulated:D.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let D=this.parent,f=0;for(;;){if(!D)return f;++f,D=D.parent}}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const D=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),D.isMeasured=!0,D.invalidateBounds();const f=this.parent;f&&"absolute"!=this.get("position")&&(null==f.get("width")||null==f.get("height")||f.get("layout"))&&f.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const D=this._adjustedLocalBounds;let f;if(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),f=this._adjustedLocalBounds):(f={left:0,right:0,top:0,bottom:0},this._localBounds=f,this._adjustedLocalBounds=f),!D||D.left!==f.left||D.top!==f.top||D.right!==f.right||D.bottom!==f.bottom){const o="boundschanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}_fixMinBounds(D){let f=this.get("minWidth",this.getPrivate("minWidth")),o=this.get("minHeight",this.getPrivate("minHeight"));k.isNumber(f)&&D.right-D.left<f&&(D.right=D.left+f),k.isNumber(o)&&D.bottom-D.top<o&&(D.bottom=D.top+o);let B=this.getPrivate("width"),V=this.getPrivate("height");k.isNumber(B)&&(D.right=D.left+B),k.isNumber(V)&&(D.bottom=D.top+V)}_removeParent(D){D&&(D.children.removeValue(this),n.removeFirst(D._percentageSizeChildren,this),n.removeFirst(D._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.showTooltip(),this._handleOver()}unhover(){this.hideTooltip(),this._handleOut()}showTooltip(D){const f=this.getTooltip(),o=this.get("tooltipText"),B=this.get("tooltipHTML");if((o||B)&&f){const V=this.get("tooltipPosition"),q=this.getPrivate("tooltipTarget",this);"fixed"!=V&&D||(this._display._setMatrix(),D=this.toGlobal(q._getTooltipPoint())),f.set("pointTo",D),f.set("tooltipTarget",q),f.get("x")||f.set("x",D.x),f.get("y")||f.set("y",D.y),o&&f.label.set("text",o),B&&f.label.set("html",B);const nt=this.dataItem;if(nt&&f.label._setDataItem(nt),"always"==this.get("showTooltipOn")&&(D.x<0||D.x>this._root.width()||D.y<0||D.y>this._root.height()))return void this.hideTooltip();f.label.text.markDirtyText();const yt=f.show();return this.setPrivateRaw("showingTooltip",!0),yt}}hideTooltip(){const D=this.getTooltip();if(D&&D.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)){let f=D.get("keepTargetHover")&&0==D.get("stateAnimationDuration",0)?400:void 0;const o=D.hide(f);return this.setPrivateRaw("showingTooltip",!1),o}}_getTooltipPoint(){const D=this._localBounds;if(D){let f=0,o=0;return this.get("isMeasured")?(f=D.left+u.relativeToValue(this.get("tooltipX",0),D.right-D.left),o=D.top+u.relativeToValue(this.get("tooltipY",0),D.bottom-D.top)):(f=u.relativeToValue(this.get("tooltipX",0),this.width()),o=u.relativeToValue(this.get("tooltipY",0),this.height())),{x:f,y:o}}return{x:0,y:0}}getTooltip(){let D=this.get("tooltip");if(D)return D;{let f=this.parent;if(f)return f.getTooltip()}}_updatePosition(){const D=this.parent;let f=this.get("dx",0),o=this.get("dy",0),B=this.get("x"),V=this.getPrivate("x"),q=0,nt=0;const yt=this.get("position");B instanceof x.gG&&(B=D?D.innerWidth()*B.value+D.get("paddingLeft",0):0),k.isNumber(B)?q=B+f:null!=V?q=V:D&&"relative"==yt&&(q=D.get("paddingLeft",0)+f);let ut=this.get("y"),Y=this.getPrivate("y");ut instanceof x.gG&&(ut=D?D.innerHeight()*ut.value+D.get("paddingTop",0):0),k.isNumber(ut)?nt=ut+o:null!=Y?nt=Y:D&&"relative"==yt&&(nt=D.get("paddingTop",0)+o);const tt=this._display;if(tt.x!=q||tt.y!=nt){tt.invalidateBounds(),tt.x=q,tt.y=nt;const wt="positionchanged";this.events.isEnabled(wt)&&this.events.dispatch(wt,{type:wt,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let D=this.get("x"),f=this.getPrivate("x");const o=this.parent;return o?D instanceof x.gG?u.relativeToValue(D,o.innerWidth())+o.get("paddingLeft",0):k.isNumber(D)?D:f??o.get("paddingLeft",this._display.x):this._display.x}y(){let D=this.getPrivate("y");if(null!=D)return D;let f=this.get("y");const o=this.parent;return o?f instanceof x.gG?u.relativeToValue(f,o.innerHeight())+o.get("paddingTop",0):k.isNumber(f)?f:D??o.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const D=this.get("tooltip");D&&D.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const D=this._adjustedLocalBounds,f=this.x(),o=this.y();return{left:D.left+f,right:D.right+f,top:D.top+o,bottom:D.bottom+o}}globalBounds(){const D=this.localBounds(),f=this.toGlobal({x:D.left,y:D.top}),o=this.toGlobal({x:D.right,y:D.top}),B=this.toGlobal({x:D.right,y:D.bottom}),V=this.toGlobal({x:D.left,y:D.bottom});return{left:Math.min(f.x,o.x,B.x,V.x),top:Math.min(f.y,o.y,B.y,V.y),right:Math.max(f.x,o.x,B.x,V.x),bottom:Math.max(f.y,o.y,B.y,V.y)}}_onShow(D){}_onHide(D){}appear(D,f){return(0,h.mG)(this,void 0,void 0,function*(){return yield this.hide(0),f?new Promise((o,B)=>{this.setTimeout(()=>{o(this.show(D))},f)}):this.show(D)})}show(D){return(0,h.mG)(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(D);const f=this.states.applyAnimate("default",D);yield(0,I.ne)(f),this._isShowing=!1}})}hide(D){return(0,h.mG)(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let f=this.states.lookup("hidden");f||(f=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(D);const o=this.states.applyAnimate("hidden",D);yield(0,I.ne)(o),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const D=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*D:D}width(){let D=this.get("width"),f=this.get("maxWidth",this.getPrivate("maxWidth")),o=this.get("minWidth",this.getPrivate("minWidth")),B=this.getPrivate("width"),V=0;if(k.isNumber(B))V=B;else if(null==D)this._adjustedLocalBounds&&(V=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(D instanceof x.gG){const q=this.parent;V=q?q.innerWidth()*D.value:this._root.width()*D.value}else k.isNumber(D)&&(V=D);return k.isNumber(o)&&(V=Math.max(o,V)),k.isNumber(f)&&(V=Math.min(f,V)),V}maxWidth(){let D=this.get("maxWidth",this.getPrivate("maxWidth"));if(k.isNumber(D))return D;{let o=this.get("width");if(k.isNumber(o))return o}const f=this.parent;return f?f.innerWidth():this._root.width()}maxHeight(){let D=this.get("maxHeight",this.getPrivate("maxHeight"));if(k.isNumber(D))return D;{let o=this.get("height");if(k.isNumber(o))return o}const f=this.parent;return f?f.innerHeight():this._root.height()}height(){let D=this.get("height"),f=this.get("maxHeight",this.getPrivate("maxHeight")),o=this.get("minHeight",this.getPrivate("minHeight")),B=this.getPrivate("height"),V=0;if(k.isNumber(B))V=B;else if(null==D)this._adjustedLocalBounds&&(V=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(D instanceof x.gG){const q=this.parent;V=q?q.innerHeight()*D.value:this._root.height()*D.value}else k.isNumber(D)&&(V=D);return k.isNumber(o)&&(V=Math.max(o,V)),k.isNumber(f)&&(V=Math.min(f,V)),V}_findStaticTemplate(D){return this._templateField&&D(this._templateField)?this._templateField:super._findStaticTemplate(D)}_walkParents(D){this._parent&&this._walkParent(D)}_walkParent(D){this._parent&&this._parent._walkParent(D),D(this)}get parent(){return this._parent}_setParent(D,f=!1){const o=this._parent;D!==o&&(this.markDirtyBounds(),D.markDirty(),this._parent=D,f&&(this._removeParent(o),D&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(D){return this._display.toGlobal(D)}toLocal(D){return this._display.toLocal(D)}_getDownPoint(){const D=this._getDownPointId();if(D)return this._downPoints[D]}_getDownPointId(){if(this._downPoints)return C.keysOrdered(this._downPoints,(D,f)=>D>f?1:D<f?-1:0)[0]}toFront(){const D=this.parent;D&&D.children.moveValue(this,D.children.length-1)}toBack(){const D=this.parent;D&&D.children.moveValue(this,0)}}Object.defineProperty(A,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(A,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.JH.classNames.concat([A.className])})},1195:function(R,E,a){"use strict";a.d(E,{b:function(){return I}});var h=a(8777),l=a(6245),p=a(3497),x=a(7142),T=a(1112),b=a(751);class I extends h.W{constructor(){super(...arguments),Object.defineProperty(this,"rectangle",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(x.A.new(this._root,{themeTags:["rectangle"],fillOpacity:0,fill:(0,T.$_)(16777215)}))}),Object.defineProperty(this,"gripL",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("left")}),Object.defineProperty(this,"gripR",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("right")}),Object.defineProperty(this,"gripT",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("top")}),Object.defineProperty(this,"gripB",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("bottom")}),Object.defineProperty(this,"_is",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_iw",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_positionDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHover",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this.addTag("resizer"),this.set("visible",!1),this.gripL.events.on("dragged",n=>{this._resize(n.target,-1)}),this.gripR.events.on("dragged",n=>{this._resize(n.target,1)}),this.gripL.events.on("dragstart",n=>{this._resizeStart(n.target)}),this.gripR.events.on("dragstart",n=>{this._resizeStart(n.target)}),this.gripT.events.on("dragged",n=>{this._rotate(n,90)}),this.gripB.events.on("dragged",n=>{this._rotate(n,-90)}),this.gripT.events.on("dragstart",n=>{this._resizeStart(n.target)}),this.gripB.events.on("dragstart",n=>{this._resizeStart(n.target)})}_resizeStart(n){const k=this.get("sprite");k&&(this._is=k.get("scale",1),this._ix=n.x(),this._iw=this.width()/2)}_resize(n,k){const C=this.get("sprite"),O=this.get("spriteTemplate");if(C){const m=Math.max(.01,this._is*(1+k*(n.x()-this._ix)/this._iw));O?O.set("scale",m):C.set("scale",m),C.states.lookup("default").set("scale",m),this._updatePositions()}}_rotate(n,k){const C=this.get("sprite"),O=this.get("spriteTemplate");if(C){const m=this.parent;if(m){const A=this.get("rotationStep",10);let P=Math.round((b.getAngle({x:this.x(),y:this.y()},m.toLocal(n.point))+k)/A)*A;O?O.set("rotation",P):C.set("rotation",P),C.states.lookup("default").set("rotation",P),this._updatePositions()}}}_createGrip(n){const k=this.children.push(h.W.new(this._root,{themeTags:["grip",n],setStateOnChildren:!0,draggable:!0}));return k.children.push(p.c.new(this._root,{themeTags:["outline"],centerX:l.CI,centerY:l.CI})),k.children.push(p.c.new(this._root,{centerX:l.CI,centerY:l.CI})),k}_updateChildren(){if(super._updateChildren(),this.isDirty("sprite")){const n=this.get("sprite");if(n){this.show(0),this.setPrivate("visible",!0),this._updatePositions();const k=n.parent;k&&k.children.moveValue(this,0),this._positionDP=n.events.on("positionchanged",()=>{this._updatePositions()})}else this.hide(0),this.setPrivate("visible",!1),this._positionDP&&this._positionDP.dispose()}(this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation"))&&this._updatePositions()}_updatePositions(){const n=this.get("sprite");if(n){let k=n.localBounds(),C=n.get("scale",1),O=20,m=(k.right-k.left)*C+O,A=(k.bottom-k.top)*C+O,P=n.get("rotation",0);const D=this.rectangle;let f=n.get("centerX",l.CI),o=n.get("centerY",l.CI),B=0;f instanceof l.gG&&(B=f.value);let V=0;o instanceof l.gG&&(V=o.value),D.setAll({centerX:f,centerY:o,width:m,height:A}),this.setAll({x:n.x()+O*(B-.5)*b.cos(P)-O*(V-.5)*b.sin(P),y:n.y()+O*(V-.5)*b.cos(P)+O*(B-.5)*b.sin(P),width:m,height:A,rotation:P}),this.gripT.setAll({x:(.5-B)*m,y:-V*A}),this.gripB.setAll({x:(.5-B)*m,y:(1-V)*A}),this.gripL.setAll({x:-B*m,y:(.5-V)*A}),this.gripR.setAll({x:(1-B)*m,y:(.5-V)*A}),this.rectangle.setAll({width:m,height:A})}}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SpriteResizer"}),Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.W.classNames.concat([I.className])})},2036:function(R,E,a){"use strict";a.d(E,{x:function(){return T}});var h=a(4596),l=a(2132),p=a(5071),x=a(7449);class T extends h.j{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){this.get("text")?super._updateBounds():this._adjustedLocalBounds={left:0,right:0,top:0,bottom:0}}_changed(){super._changed(),this._display.clear();let I=this.textStyle;if(this.isDirty("opacity")){let u=this.get("opacity",1);this._display.alpha=u}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),"tooltip"==this.get("role")&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new x.ku(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(I.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(I.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(I.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(I.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(I.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(I.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){let u=this.get("fill");u&&(I.fill=u)}if(this.isDirty("fillOpacity")){let u=this.get("fillOpacity",1);u&&(I.fillOpacity=u)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(I.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(I.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),p.each(this._textStyles,u=>{this._dirty[u]&&(I[u]=this.get(u),this.markDirtyBounds())}),I.fontSize=this.get("fontSize"),I.fontFamily=this.get("fontFamily"),this._display.style=I,this.isDirty("role")&&"tooltip"==this.get("role")&&this._root.updateTooltip(this)}_getText(){const I=this.get("text","");return this.get("populateText")?(0,l.q)(this,I):I}markDirtyText(){this._display.text=this._getText(),"tooltip"==this.get("role")&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(I){super._setDataItem(I),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.j.classNames.concat([T.className])})},2438:function(R,E,a){"use strict";a.d(E,{d:function(){return l}});var h=a(2077);class l extends h.x{}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.x.classNames.concat([l.className])})},2876:function(R,E,a){"use strict";a.d(E,{u:function(){return k}});var h=a(7449),l=a(962),p=a(8931),x=a(8777),T=a(6245),b=a(1112),I=a(751),u=a(5071),n=a(7652);class k extends x.W{constructor(O,m,A,P=[]){super(O,m,A,P),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=n.mergeTags(this._settings.themeTags,["tooltip"]),super._afterNew(),this.set("background",p.i.new(this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(l._.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._root._tooltips.push(this)}get label(){return this._label}dispose(){super.dispose(),u.remove(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),null!=this.get("labelText")&&this.label.set("text",this.get("labelText")),null!=this.get("labelHTML")&&this.label.set("html",this.get("labelHTML"))}_changed(){if(super._changed(),this.isDirty("pointTo")&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const O=this.get("background");this._keepHoverDp=new h.FV([O.events.on("pointerover",m=>{let A=this.get("tooltipTarget");A&&(A.parent&&A.parent.getPrivate("tooltipTarget")==A&&(A=A.parent),A.hover())}),O.events.on("pointerout",m=>{let A=this.get("tooltipTarget");A&&(A.parent&&A.parent.getPrivate("tooltipTarget")==A&&(A=A.parent),A.unhover())})])}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let O=this.get("tooltipTarget");const m=this.get("background");let A,P;O&&m&&(A=O.get("fill"),P=O.get("stroke"),null==A&&(A=P),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=A&&m.set("fill",A),this._fillDp=O.on("fill",D=>{null!=D&&(m.set("fill",D),this._updateTextColor(D))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=A&&m.set("stroke",A),this._strokeDp=O.on("fill",D=>{null!=D&&m.set("stroke",D)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=A&&this.label.set("fill",A),this._labelDp=O.on("fill",D=>{null!=D&&this.label.set("fill",D)}),this._disposers.push(this._labelDp))),this._updateTextColor(A)}_updateTextColor(O){this.get("autoTextColor")&&(null==O&&(O=this.get("background").get("fill")),null==O&&(O=this._root.interfaceColors.get("background")),O instanceof b.Il&&this.label.set("fill",b.Il.alternative(O,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(O){super._setDataItem(O),this.label._setDataItem(O)}_updateBackground(){super.updateBackground();const O=this._root.container;if(O){let m=.5,A=.5,P=this.get("centerX");P instanceof T.gG&&(m=P.value);let D=this.get("centerY");D instanceof T.gG&&(A=D.value);let f=O.width(),o=O.height(),B=this.parent,V=0,q=0;if(B){V=B.x(),q=B.y();const Xt=B.get("layerMargin");Xt&&(V+=Xt.left||0,q+=Xt.top||0,f+=(Xt.left||0)+(Xt.right||0),o+=(Xt.top||0)+(Xt.bottom||0))}const nt=this.get("bounds",{left:-V,top:-q,right:f-V,bottom:o-q});this._updateBounds();let yt=this.width(),ut=this.height();0===yt&&(yt=this._w),0===ut&&(ut=this._h);let Y=this.get("pointTo",{x:f/2,y:o/2}),tt=Y.x,wt=Y.y,St=this.get("pointerOrientation"),At=this.get("background"),ht=0,mt=0,dt=0;At instanceof p.i&&(ht=At.get("pointerLength",0),mt=At.get("strokeWidth",0)/2,dt=mt);let Lt=0,Ct=0,vt=nt.right-nt.left,kt=nt.bottom-nt.top;"horizontal"==St||"left"==St||"right"==St?(mt=0,"horizontal"==St?tt>nt.left+vt/2?(tt-=yt*(1-m)+ht,dt*=-1):tt+=yt*m+ht:"left"==St?tt+=yt*(1-m)+ht:(tt-=yt*m+ht,dt*=-1)):(dt=0,"vertical"==St?wt>nt.top+ut/2+ht?wt-=ut*(1-A)+ht:(wt+=ut*A+ht,mt*=-1):"down"==St?wt-=ut*(1-A)+ht:(wt+=ut*A+ht,mt*=-1)),tt=I.fitToRange(tt,nt.left+yt*m,nt.left+vt-yt*(1-m))+dt,wt=I.fitToRange(wt,nt.top+ut*A,nt.top+kt-ut*(1-A))-mt,Lt=Y.x-tt+yt*m+dt,Ct=Y.y-wt+ut*A-mt,this._fx=tt,this._fy=wt;const Rt=this.get("animationDuration",0);if(Rt>0&&this.get("visible")&&this.get("opacity")>.1){const Xt=this.get("animationEasing");this.animate({key:"x",to:tt,duration:Rt,easing:Xt}),this.animate({key:"y",to:wt,duration:Rt,easing:Xt})}else this.set("x",tt),this.set("y",wt);At instanceof p.i&&(At.set("pointerX",Lt),At.set("pointerY",Ct)),yt>0&&(this._w=yt),ut>0&&(this._h=ut)}}}Object.defineProperty(k,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(k,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x.W.classNames.concat([k.className])})},1706:function(R,E,a){"use strict";a.d(E,{Z:function(){return x}});var h=a(2010),l=a(5040),p=a(6245);class x extends h.A{updateContainer(b){let I=b.get("paddingTop",0),u=b.innerHeight(),n=0;(0,h.j)(b,C=>{if(C.isVisible()&&"relative"==C.get("position")){let O=C.get("height");if(O instanceof p.gG){n+=O.value;let m=u*O.value,A=C.get("minHeight",C.getPrivate("minHeight",-1/0));A>m&&(u-=A,n-=O.value);let P=C.get("maxHeight",C.getPrivate("maxHeight",1/0));m>P&&(u-=P,n-=O.value)}else l.isNumber(O)||(O=C.height()),u-=O+C.get("marginTop",0)+C.get("marginBottom",0)}}),u<0&&(u=.01),(0,h.j)(b,C=>{if(C.isVisible()&&"relative"==C.get("position")){let O=C.get("height");if(O instanceof p.gG){let m=u*O.value/n-C.get("marginTop",0)-C.get("marginBottom",0),A=C.get("minHeight",C.getPrivate("minHeight",-1/0)),P=C.get("maxHeight",C.getPrivate("maxHeight",1/0));m=Math.min(Math.max(A,m),P),C.setPrivate("height",m)}}});let k=I;(0,h.j)(b,C=>{if("relative"==C.get("position"))if(C.isVisible()){let O=C.adjustedLocalBounds(),m=C.get("marginTop",0),A=O.top,P=O.bottom,D=C.get("maxHeight");D&&P-A>D&&(P=A+D);let f=C.get("marginBottom",0),o=k+m-A;C.setPrivate("y",o),k=o+P+f}else C.setPrivate("y",void 0)})}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.A.classNames.concat([x.className])})},4680:function(R,E,a){"use strict";var h,l;a.d(E,{b:function(){return h}}),(l=h||(h={})).ADD="lighter",l.COLOR="color",l.COLOR_BURN="color-burn",l.COLOR_DODGE="color-dodge",l.DARKEN="darken",l.DIFFERENCE="difference",l.DST_OVER="destination-over",l.EXCLUSION="exclusion",l.HARD_LIGHT="hard-light",l.HUE="hue",l.LIGHTEN="lighten",l.LUMINOSITY="luminosity",l.MULTIPLY="multiply",l.NORMAL="source-over",l.OVERLAY="overlay",l.SATURATION="saturation",l.SCREEN="screen",l.SOFT_LIGHT="soft-light",l.SRC_ATOP="source-atop",l.XOR="xor"},1437:function(R,E,a){"use strict";a.d(E,{p:function(){return l}});var h=a(6331);class l extends h.JH{_afterNew(){super._afterNewApplyThemes()}getFill(x){return{addColorStop:(T,b)=>{}}}_changed(){super._changed()}getBounds(x){const T=this.get("target");if(T){let b=T.globalBounds();const I=x.toLocal({x:b.left,y:b.top}),u=x.toLocal({x:b.right,y:b.top}),n=x.toLocal({x:b.right,y:b.bottom}),k=x.toLocal({x:b.left,y:b.bottom});return{left:Math.min(I.x,u.x,n.x,k.x),top:Math.min(I.y,u.y,n.y,k.y),right:Math.max(I.x,u.x,n.x,k.x),bottom:Math.max(I.y,u.y,n.y,k.y)}}return x._display.getLocalBounds()}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Gradient"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([l.className])})},1747:function(R,E,a){"use strict";a.d(E,{o:function(){return b}});var h=a(1437),l=a(1112),p=a(5071),x=a(5040),T=a(751);class b extends h.p{getFill(u){const n=this.get("rotation",0);let k=this.getBounds(u),C=k.left||0,O=k.right||0,m=k.top||0,A=k.bottom||0,P=T.cos(n),D=T.sin(n),B=Math.max(P*(O-C),D*(A-m));const V=this._root._renderer.createLinearGradient(C,m,C+B*P,m+B*D),q=this.get("stops");if(q){let nt=0;p.each(q,yt=>{let ut=yt.offset;x.isNumber(ut)||(ut=nt/(q.length-1));let Y=yt.opacity;x.isNumber(Y)||(Y=1);let tt=yt.color;if(tt){const wt=yt.lighten;wt&&(tt=l.Il.lighten(tt,wt));const St=yt.brighten;St&&(tt=l.Il.brighten(tt,St)),V.addColorStop(ut,"rgba("+tt.r+","+tt.g+","+tt.b+","+Y+")")}nt++})}return V}}Object.defineProperty(b,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinearGradient"}),Object.defineProperty(b,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.p.classNames.concat([b.className])})},3437:function(R,E,a){"use strict";a.d(E,{c:function(){return l}});var h=a(6331);class l extends h.JH{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("color")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fill")||this.isDirty("fillOpacity"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const x=this.get("repetition",""),T=this.get("width",100),b=this.get("height",100),I=this.get("fill"),u=this.get("fillOpacity",1);this._display.clear(),this._backgroundDisplay.clear(),I&&u>0&&(this._backgroundDisplay.beginFill(I,u),this._backgroundDisplay.drawRect(0,0,T,b),this._backgroundDisplay.endFill()),this._display.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(this._display,this._backgroundDisplay,x,T,b)}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([l.className])})},4429:function(R,E,a){"use strict";a.d(E,{v:function(){return l}});var h=a(3437);class l extends h.c{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load()}_draw(){super._draw();const x=this._image;if(x){const T=this.get("width",100),b=this.get("height",100),I=this.get("fit","image");let u=0,n=0;"pattern"==I?(u=T,n=b):(u=x.width,n=x.height,"image"==I&&(this.set("width",u),this.set("height",n)));let k=0,C=0;this.get("centered",!0)&&(k=T/2-u/2,C=b/2-n/2),this._display.image(x,u,n,k,C)}}_load(){const x=this.get("src");if(x){const T=new Image;T.src=x,T.decode().then(()=>{this._image=T,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(b=>{})}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.c.classNames.concat([l.className])})},6490:function(R,E,a){"use strict";a.d(E,{Wn:function(){return u},XG:function(){return k},ne:function(){return T},w6:function(){return b}});var h=a(5125),l=a(6245),p=a(1112),x=a(256);function T(C){return(0,h.mG)(this,void 0,void 0,function*(){if(void 0!==C){const O=[];x.each(C,(m,A)=>{O.push(A.waitForStop())}),yield Promise.all(O)}})}function b(C,O,m){return O+C*(m-O)}function I(C,O,m){return C>=1?m:O}function u(C,O,m){return new l.gG(b(C,O.percent,m.percent))}function n(C,O,m){return p.Il.interpolate(C,O,m)}function k(C,O){return"number"==typeof C&&"number"==typeof O?b:C instanceof l.gG&&O instanceof l.gG?u:C instanceof p.Il&&O instanceof p.Il?n:I}},5071:function(R,E,a){"use strict";a.r(E),a.d(E,{add:function(){return f},any:function(){return p},copy:function(){return nt},each:function(){return T},eachContinue:function(){return I},eachReverse:function(){return b},find:function(){return St},findIndex:function(){return tt},findIndexReverse:function(){return wt},findMap:function(){return ht},findReverse:function(){return At},first:function(){return k},getFirstSortedIndex:function(){return Lt},getSortedIndex:function(){return dt},has:function(){return q},indexOf:function(){return l},insert:function(){return C},insertIndex:function(){return ut},keepIf:function(){return Ct},last:function(){return n},map:function(){return x},move:function(){return D},pushAll:function(){return m},pushOne:function(){return o},remove:function(){return A},removeFirst:function(){return P},removeIndex:function(){return Y},replace:function(){return B},setIndex:function(){return O},shiftLeft:function(){return u},shuffle:function(){return mt},slice:function(){return yt},toArray:function(){return V}});var h=a(5040);function l(vt,kt){const Rt=vt.length;for(let Xt=0;Xt<Rt;++Xt)if(vt[Xt]===kt)return Xt;return-1}function p(vt,kt){const Rt=vt.length;for(let Xt=0;Xt<Rt;++Xt)if(kt(vt[Xt]))return!0;return!1}function x(vt,kt){const Rt=vt.length,Xt=new Array(Rt);for(let Ft=0;Ft<Rt;++Ft)Xt[Ft]=kt(vt[Ft],Ft);return Xt}function T(vt,kt){const Rt=vt.length;for(let Xt=0;Xt<Rt;++Xt)kt(vt[Xt],Xt)}function b(vt,kt){let Rt=vt.length;for(;Rt>0;)--Rt,kt(vt[Rt],Rt)}function I(vt,kt){const Rt=vt.length;for(let Xt=0;Xt<Rt&&kt(vt[Xt],Xt);++Xt);}function u(vt,kt){const Rt=vt.length;for(let Xt=kt;Xt<Rt;++Xt)vt[Xt-kt]=vt[Xt];vt.length=Rt-kt}function n(vt){const kt=vt.length;return kt?vt[kt-1]:void 0}function k(vt){return vt[0]}function C(vt,kt,Rt){Rt=Math.max(0,Math.min(Rt,vt.length)),vt.splice(Rt,0,kt)}function O(vt,kt,Rt){A(vt,kt),C(vt,kt,Rt)}function m(vt,kt){const Rt=kt.length;for(let Xt=0;Xt<Rt;++Xt)vt.push(kt[Xt])}function A(vt,kt){let Rt=!1,Xt=0;for(;;){if(Xt=vt.indexOf(kt,Xt),-1===Xt)return Rt;Rt=!0,vt.splice(Xt,1)}}function P(vt,kt){let Rt=vt.indexOf(kt);return-1!==Rt&&(vt.splice(Rt,1),!0)}function D(vt,kt,Rt){let Xt=l(vt,kt);-1!==Xt&&Y(vt,Xt),null==Rt?vt.push(kt):ut(vt,Rt,kt)}function f(vt,kt,Rt){h.isNumber(Rt)?0===Rt?vt.unshift(kt):vt.splice(Rt,0,kt):vt.push(kt)}function o(vt,kt){-1===vt.indexOf(kt)&&vt.push(kt)}function B(vt,kt,Rt){let Xt=vt.indexOf(kt);-1!==Xt&&vt.splice(Xt,1),h.isNumber(Rt)?vt.splice(Rt,0,kt):vt.push(kt)}function V(vt){return Array.isArray(vt)?vt:[vt]}function q(vt,kt){return-1!==l(vt,kt)}function nt(vt){const kt=vt.length,Rt=new Array(kt);for(let Xt=0;Xt<kt;++Xt)Rt[Xt]=vt[Xt];return Rt}function yt(vt,kt,Rt=vt.length){const Xt=new Array(Rt-kt);for(let Ft=kt;Ft<Rt;++Ft)Xt[Ft-kt]=vt[Ft];return Xt}function ut(vt,kt,Rt){vt.splice(kt,0,Rt)}function Y(vt,kt){vt.splice(kt,1)}function tt(vt,kt){const Rt=vt.length;for(let Xt=0;Xt<Rt;++Xt)if(kt(vt[Xt],Xt))return Xt;return-1}function wt(vt,kt){let Rt=vt.length;for(;Rt>0;)if(--Rt,kt(vt[Rt],Rt))return Rt;return-1}function St(vt,kt){const Rt=tt(vt,kt);if(-1!==Rt)return vt[Rt]}function At(vt,kt){const Rt=wt(vt,kt);if(-1!==Rt)return vt[Rt]}function ht(vt,kt){const Rt=vt.length;for(let Xt=0;Xt<Rt;++Xt){const Ft=kt(vt[Xt],Xt);if(void 0!==Ft)return Ft}}function mt(vt){let kt,Rt,Xt=vt.length;for(;0!==Xt;)Rt=Math.floor(Math.random()*Xt),Xt-=1,kt=vt[Xt],vt[Xt]=vt[Rt],vt[Rt]=kt}function dt(vt,kt){let Rt=0,Xt=vt.length,Ft=!1;for(;Rt<Xt;){const qt=Rt+Xt>>1,ae=kt(vt[qt]);ae<0?Rt=qt+1:0===ae?(Ft=!0,Rt=qt+1):Xt=qt}return{found:Ft,index:Ft?Rt-1:Rt}}function Lt(vt,kt){let Rt=0,Xt=vt.length,Ft=!1;for(;Rt<Xt;){const qt=Rt+Xt>>1,ae=kt(vt[qt]);ae<0?Rt=qt+1:(0===ae&&(Ft=!0),Xt=qt)}return{found:Ft,index:Rt}}function Ct(vt,kt){let Rt=vt.length;for(;Rt>0;)--Rt,kt(vt[Rt])||vt.splice(Rt,1)}},1112:function(R,E,a){"use strict";a.d(E,{$_:function(){return T},Il:function(){return b}});var h=a(6490),l=a(7652),p=a(5040);function x(I){return"#"===I[0]&&(I=I.substr(1)),3==I.length&&(I=I[0].repeat(2)+I[1].repeat(2)+I[2].repeat(2)),parseInt(I,16)}function T(I){return b.fromAny(I)}class b{constructor(u){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=0|u}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return 255&this._hex}toCSS(u=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+u+")"}toCSSHex(){return"#"+l.padString(this.r.toString(16),2)+l.padString(this.g.toString(16),2)+l.padString(this.b.toString(16),2)}toHSL(u=1){return l.rgbToHsl({r:this.r,g:this.g,b:this.b,a:u})}static fromHSL(u,n,k){const C=l.hslToRgb({h:u,s:n,l:k});return this.fromRGB(C.r,C.g,C.b)}toString(){return this.toCSSHex()}static fromHex(u){return new b(u)}static fromRGB(u,n,k){return new b((0|k)+(n<<8)+(u<<16))}static fromString(u){return new b(x(u))}static fromCSS(u){return new b(function(n){let k=(n=n.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(k)k.push("1");else if(k=n.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!k)return 0;let C="";for(let O=1;O<=3;O++){let m=parseInt(k[O]).toString(16);1==m.length&&(m="0"+m),C+=m}return x(C)}(u))}static fromAny(u){if(p.isString(u)){if("#"==u[0])return b.fromString(u);if("rgb"==u.substr(0,3))return b.fromCSS(u)}else{if(p.isNumber(u))return b.fromHex(u);if(u instanceof b)return b.fromHex(u.hex)}throw new Error("Unknown color syntax: "+u)}static alternative(u,n,k){const C=l.alternativeColor({r:u.r,g:u.g,b:u.b},n?{r:n.r,g:n.g,b:n.b}:void 0,k?{r:k.r,g:k.g,b:k.b}:void 0);return this.fromRGB(C.r,C.g,C.b)}static interpolate(u,n,k,C="rgb"){if("hsl"==C){const O=n.toHSL(),m=k.toHSL();return b.fromHSL((0,h.w6)(u,O.h,m.h),(0,h.w6)(u,O.s,m.s),(0,h.w6)(u,O.l,m.l))}return b.fromRGB((0,h.w6)(u,n.r,k.r),(0,h.w6)(u,n.g,k.g),(0,h.w6)(u,n.b,k.b))}static lighten(u,n){const k=l.lighten({r:u.r,g:u.g,b:u.b},n);return b.fromRGB(k.r,k.g,k.b)}static brighten(u,n){const k=l.brighten({r:u.r,g:u.g,b:u.b},n);return b.fromRGB(k.r,k.g,k.b)}static saturate(u,n){const k=l.saturate({r:u.r,g:u.g,b:u.b},n);return b.fromRGB(k.r,k.g,k.b)}}},2754:function(R,E,a){"use strict";a.d(E,{U:function(){return p}});var h=a(6331),l=a(1112);class p extends h.JH{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const T=this.getPrivate("currentPass"),b=this.get("colors",[this.get("baseColor",l.Il.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",b.length);const I=this.getPrivate("numColors"),u=this.get("passOptions"),n=this.get("reuse");for(let k=0;k<I;k++)if(n)b.push(b[k]);else{const C=b[k].toHSL();let O=C.h+(u.hue||0)*T;for(;O>1;)O-=1;let m=C.s+(u.saturation||0)*T;m>1&&(m=1),m<0&&(m=0);let A=C.l+(u.lightness||0)*T;for(;A>1;)A-=1;b.push(l.Il.fromHSL(O,m,A))}}getIndex(T){const b=this.get("colors",[]),I=this.get("saturation");return T>=b.length?(this.generateColors(),this.getIndex(T)):null!=I?l.Il.saturate(b[T],I):b[T]}next(){let T=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",T+this.get("step",1)),this.getIndex(T)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([p.className])})},9582:function(R,E,a){"use strict";a.d(E,{Q:function(){return p},k:function(){return l}});var h=a(7144);class l extends h.aV{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(T){this.processor&&this.processor.processRow(T),super._onPush(T)}_onInsertIndex(T,b){this.processor&&this.processor.processRow(b),super._onInsertIndex(T,b)}_onSetIndex(T,b,I){this.processor&&this.processor.processRow(I),super._onSetIndex(T,b,I)}}class p{constructor(T){Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=T}incrementRef(){}decrementRef(){}}},6460:function(R,E,a){"use strict";a.d(E,{C:function(){return b}});var h=a(6331),l=a(7255),p=a(462),x=a(5040),T=a(7652);class b extends h.JH{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(u,n){let k;void 0!==n&&""!==n||(n=this.get("dateFormat","yyyy-MM-dd"));let C=u;if(x.isObject(n))try{const A=this.get("intlLocales");return A?new Intl.DateTimeFormat(A,n).format(C):new Intl.DateTimeFormat(void 0,n).format(C)}catch{return"Invalid"}let O=this.parseFormat(n);const m=this._root.timezone;return m&&!this._root.utc&&(C=m.convertLocal(C)),x.isNumber(C.getTime())?(k=this.applyFormat(C,O),this.get("capitalize")&&(k=k.replace(/^.{1}/,k.substr(0,1).toUpperCase())),k):"Invalid date"}applyFormat(u,n){let k,C,O,m,A,P,D,f,o=n.template,B=u.getTime();this._root.utc?(k=u.getUTCFullYear(),C=u.getUTCMonth(),O=u.getUTCDay(),m=u.getUTCDate(),A=u.getUTCHours(),P=u.getUTCMinutes(),D=u.getUTCSeconds(),f=u.getUTCMilliseconds()):(k=u.getFullYear(),C=u.getMonth(),O=u.getDay(),m=u.getDate(),A=u.getHours(),P=u.getMinutes(),D=u.getSeconds(),f=u.getMilliseconds());for(let V=0,q=n.parts.length;V<q;V++){let nt="";switch(n.parts[V]){case"G":nt=this._t(k<0?"_era_bc":"_era_ad");break;case"yyyy":nt=Math.abs(k).toString(),k<0&&(nt+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":nt=Math.abs(k).toString().substr(-n.parts[V].length),k<0&&(nt+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let yt=T.getWeekYear(u,this._root.utc);nt="YYYY"==n.parts[V]?Math.abs(yt).toString():Math.abs(yt).toString().substr(-n.parts[V].length),yt<0&&(nt+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":nt=""+Math.ceil((u.getMonth()+1)/3);break;case"MMMMM":nt=this._t(this._getMonth(C)).substr(0,1);break;case"MMMM":nt=this._t(this._getMonth(C));break;case"MMM":nt=this._t(this._getShortMonth(C));break;case"MM":nt=T.padString(C+1,2,"0");break;case"M":nt=(C+1).toString();break;case"ww":nt=T.padString(T.getWeek(u,this._root.utc),2,"0");break;case"w":nt=T.getWeek(u,this._root.utc).toString();break;case"W":nt=T.getMonthWeek(u,this._root.utc).toString();break;case"dd":nt=T.padString(m,2,"0");break;case"d":nt=m.toString();break;case"DD":case"DDD":nt=T.padString(T.getYearDay(u,this._root.utc).toString(),n.parts[V].length,"0");break;case"D":nt=T.getYearDay(u,this._root.utc).toString();break;case"t":nt=this._root.language.translateFunc("_dateOrd").call(this,m);break;case"E":nt=(O||7).toString();break;case"EE":nt=T.padString((O||7).toString(),2,"0");break;case"EEE":case"eee":nt=this._t(this._getShortWeekday(O));break;case"EEEE":case"eeee":nt=this._t(this._getWeekday(O));break;case"EEEEE":case"eeeee":nt=this._t(this._getShortWeekday(O)).substr(0,1);break;case"e":case"ee":nt=(O-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==n.parts[V]&&(nt=T.padString(nt,2,"0"));break;case"a":nt=this._t(A>=12?"PM":"AM");break;case"aa":nt=this._t(A>=12?"P.M.":"A.M.");break;case"aaa":nt=this._t(A>=12?"P":"A");break;case"h":nt=T.get12Hours(A).toString();break;case"hh":nt=T.padString(T.get12Hours(A),2,"0");break;case"H":nt=A.toString();break;case"HH":nt=T.padString(A,2,"0");break;case"K":nt=T.get12Hours(A,0).toString();break;case"KK":nt=T.padString(T.get12Hours(A,0),2,"0");break;case"k":nt=(A+1).toString();break;case"kk":nt=T.padString(A+1,2,"0");break;case"m":nt=P.toString();break;case"mm":nt=T.padString(P,2,"0");break;case"s":nt=D.toString();break;case"ss":nt=T.padString(D,2,"0");break;case"S":case"SS":case"SSS":nt=Math.round(f/1e3*Math.pow(10,n.parts[V].length)).toString();break;case"x":nt=B.toString();break;case"n":case"nn":case"nnn":nt=T.padString(f,n.parts[V].length,"0");break;case"z":nt=T.getTimeZone(u,!1,!1,this._root.utc);break;case"zz":nt=T.getTimeZone(u,!0,!1,this._root.utc);break;case"zzz":nt=T.getTimeZone(u,!1,!0,this._root.utc);break;case"zzzz":nt=T.getTimeZone(u,!0,!0,this._root.utc);break;case"Z":case"ZZ":let ut=this._root.utc?"UTC":this._root.timezone;ut instanceof p.r&&(ut=ut.name);const Y=ut?T.getTimezoneOffset(ut):u.getTimezoneOffset();let tt=Math.abs(Y)/60,wt=Math.floor(tt),St=60*tt-60*wt;this._root.utc&&(wt=0,St=0),"Z"==n.parts[V]?(nt="GMT",nt+=Y>0?"-":"+",nt+=T.padString(wt,2)+":"+T.padString(St,2)):(nt=Y>0?"-":"+",nt+=T.padString(wt,2)+T.padString(St,2));break;case"i":nt=u.toISOString();break;case"I":nt=u.toUTCString()}o=o.replace(x.PLACEHOLDER,nt)}return o}parseFormat(u){let n={template:"",parts:[]},k=l.V.chunk(u,!0);for(let C=0;C<k.length;C++){let O=k[C];if("value"===O.type){if(O.text.match(/^date$/i)){let A=this.get("dateFormat","yyyy-MM-dd");x.isString(A)||(A="yyyy-MM-dd"),O.text=A}let m=O.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(m)for(let A=0;A<m.length;A++)n.parts.push(m[A]),O.text=O.text.replace(m[A],x.PLACEHOLDER)}n.template+=O.text}return n}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(u){return this._months()[u]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(u){return this._shortMonths()[u]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(u){return this._weekdays()[u]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(u){return this._shortWeekdays()[u]}parse(u,n){if(u instanceof Date)return u;if(x.isNumber(u))return new Date(u);let k;x.isString(u)||(u=u.toString());let C="";n=(n=T.cleanFormat(n)).substr(0,u.length);let O=this.parseFormat(n),m={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},A={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},P=0,D=0;for(let B=0;B<O.parts.length;B++){switch(D=B+P+1,O.parts[B]){case"yyyy":case"YYYY":C+="([0-9]{4})",m.year=D;break;case"yyy":case"YYY":C+="([0-9]{3})",m.year3=D;break;case"yy":case"YY":C+="([0-9]{2})",m.year2=D;break;case"y":case"Y":C+="([0-9]{1})",m.year1=D;break;case"MMMM":C+="("+this.getStringList(this._months()).join("|")+")",m.monthLong=D;break;case"MMM":C+="("+this.getStringList(this._shortMonths()).join("|")+")",m.monthShort=D;break;case"MM":case"M":C+="([0-9]{2}|[0-9]{1})",m.month=D;break;case"ww":case"w":C+="([0-9]{2}|[0-9]{1})",m.week=D;break;case"dd":case"d":C+="([0-9]{2}|[0-9]{1})",m.day=D;break;case"DDD":case"DD":case"D":C+="([0-9]{3}|[0-9]{2}|[0-9]{1})",m.yearDay=D;break;case"dddd":C+="("+this.getStringList(this._weekdays()).join("|")+")",m.weekdayLong=D;break;case"ddd":C+="("+this.getStringList(this._shortWeekdays()).join("|")+")",m.weekdayShort=D;break;case"aaa":case"aa":case"a":C+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",m.am=D;break;case"hh":case"h":C+="([0-9]{2}|[0-9]{1})",m.hour12Base1=D;break;case"HH":case"H":C+="([0-9]{2}|[0-9]{1})",m.hourBase0=D;break;case"KK":case"K":C+="([0-9]{2}|[0-9]{1})",m.hour12Base0=D;break;case"kk":case"k":C+="([0-9]{2}|[0-9]{1})",m.hourBase1=D;break;case"mm":case"m":C+="([0-9]{2}|[0-9]{1})",m.minute=D;break;case"ss":case"s":C+="([0-9]{2}|[0-9]{1})",m.second=D;break;case"SSS":case"SS":case"S":C+="([0-9]{3}|[0-9]{2}|[0-9]{1})",m.millisecond=D,m.millisecondDigits=O.parts[B].length;break;case"nnn":case"nn":case"n":C+="([0-9]{3}|[0-9]{2}|[0-9]{1})",m.millisecond=D;break;case"x":C+="([0-9]{1,})",m.timestamp=D;break;case"Z":C+="GMT([-+]+[0-9]{2}:[0-9]{2})",m.zone=D;break;case"ZZ":C+="([\\-+]+[0-9]{2}[0-9]{2})",m.zone=D;break;case"i":C+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",m.iso=D,P+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":P--}C+="[^0-9]*"}let f=new RegExp(C),o=u.match(f);if(o){if(m.year>-1&&(A.year=parseInt(o[m.year])),m.year3>-1){let B=parseInt(o[m.year3]);B+=1e3,A.year=B}if(m.year2>-1){let B=parseInt(o[m.year2]);B+=B>50?1e3:2e3,A.year=B}if(m.year1>-1){let B=parseInt(o[m.year1]);B=10*Math.floor((new Date).getFullYear()/10)+B,A.year=B}if(m.monthLong>-1&&(A.month=this.resolveMonth(o[m.monthLong])),m.monthShort>-1&&(A.month=this.resolveShortMonth(o[m.monthShort])),m.month>-1&&(A.month=parseInt(o[m.month])-1),m.week>-1&&-1===m.day&&(A.month=0,A.day=T.getDayFromWeek(parseInt(o[m.week]),A.year,1,this._root.utc)),m.day>-1&&(A.day=parseInt(o[m.day])),m.yearDay>-1&&(A.month=0,A.day=parseInt(o[m.yearDay])),m.hourBase0>-1&&(A.hour=parseInt(o[m.hourBase0])),m.hourBase1>-1&&(A.hour=parseInt(o[m.hourBase1])-1),m.hour12Base0>-1){let B=parseInt(o[m.hour12Base0]);11==B&&(B=0),m.am>-1&&!this.isAm(o[m.am])&&(B+=12),A.hour=B}if(m.hour12Base1>-1){let B=parseInt(o[m.hour12Base1]);12==B&&(B=0),m.am>-1&&!this.isAm(o[m.am])&&(B+=12),A.hour=B}if(m.minute>-1&&(A.minute=parseInt(o[m.minute])),m.second>-1&&(A.second=parseInt(o[m.second])),m.millisecond>-1){let B=parseInt(o[m.millisecond]);2==m.millisecondDigits?B*=10:1==m.millisecondDigits&&(B*=100),A.millisecond=B}if(m.timestamp>-1){A.timestamp=parseInt(o[m.timestamp]);const B=new Date(A.timestamp);A.year=B.getUTCFullYear(),A.month=B.getUTCMonth(),A.day=B.getUTCDate(),A.hour=B.getUTCHours(),A.minute=B.getUTCMinutes(),A.second=B.getUTCSeconds(),A.millisecond=B.getUTCMilliseconds()}m.zone>-1&&(A.offset=this.resolveTimezoneOffset(new Date(A.year,A.month,A.day),o[m.zone])),m.iso>-1&&(A.year=x.toNumber(o[m.iso+0]),A.month=x.toNumber(o[m.iso+1])-1,A.day=x.toNumber(o[m.iso+2]),A.hour=x.toNumber(o[m.iso+3]),A.minute=x.toNumber(o[m.iso+4]),A.second=x.toNumber(o[m.iso+5]),A.millisecond=x.toNumber(o[m.iso+6]),"Z"==o[m.iso+7]||"z"==o[m.iso+7]?A.utc=!0:""!=o[m.iso+7]&&(A.offset=this.resolveTimezoneOffset(new Date(A.year,A.month,A.day),o[m.iso+7]))),k=A.utc?new Date(Date.UTC(A.year,A.month,A.day,A.hour,A.minute,A.second,A.millisecond)):new Date(A.year,A.month,A.day,A.hour,A.minute+A.offset,A.second,A.millisecond)}else k=new Date(u);return k}resolveTimezoneOffset(u,n){if(n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let k=n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),C=k[1],m=k[3],A=60*parseInt(k[2])+parseInt(m);return"+"==C&&(A*=-1),A-(u||new Date).getTimezoneOffset()}return 0}resolveMonth(u){let n=this._months().indexOf(u);return n>-1||!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._months()).indexOf(u),n>-1)?n:0}resolveShortMonth(u){let n=this._shortMonths().indexOf(u);return n>-1?n:(n=this._months().indexOf(u),n>-1||this._root.language&&!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._shortMonths()).indexOf(u),n>-1)?n:0)}isAm(u){return this.getStringList(["AM","A.M.","A"]).indexOf(u.toUpperCase())>-1}getStringList(u){let n=[];for(let k=0;k<u.length;k++)n.push(T.escapeForRgex(this._root.language?this._t(u[k]):u[k]));return n}}},7449:function(R,E,a){"use strict";a.d(E,{DM:function(){return I},FV:function(){return T},KK:function(){return l},cx:function(){return b},ku:function(){return p},rk:function(){return x}});var h=a(5071);class l{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class p{constructor(n){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=n}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class x extends l{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){h.each(this._disposers,n=>{n.dispose()})}}class T extends l{constructor(n){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=n}_dispose(){h.each(this._disposers,n=>{n.dispose()})}}class b extends l{constructor(){super(...arguments),Object.defineProperty(this,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_dispose(){null!=this._disposer&&(this._disposer.dispose(),this._disposer=void 0)}get(){return this._value}set(n,k){null!=this._disposer&&this._disposer.dispose(),this._disposer=k,this._value=n}reset(){this.set(void 0,void 0)}}class I extends p{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new p(()=>{--this._counter,0===this._counter&&this.dispose()})}}},798:function(R,E,a){"use strict";a.d(E,{$:function(){return b}});var h=a(6331),l=a(7255),p=a(256),x=a(7652),T=a(5040);class b extends h.JH{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const u="_duration_millisecond",n="_duration_second",k="_duration_minute",C="_duration_hour",O="_duration_day",m="_duration_week",A="_duration_month",P="_minute",D="_hour",f="_day",o="_week",B="_week",V="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(u),second:this._t(u+"_second"),minute:this._t(u+P),hour:this._t(u+D),day:this._t(u+f),week:this._t(u+o),month:this._t(u+B),year:this._t(u+V)},second:{second:this._t(n),minute:this._t(n+P),hour:this._t(n+D),day:this._t(n+f),week:this._t(n+o),month:this._t(n+B),year:this._t(n+V)},minute:{minute:this._t(k),hour:this._t(k+D),day:this._t(k+f),week:this._t(k+o),month:this._t(k+B),year:this._t(k+V)},hour:{hour:this._t(C),day:this._t(C+f),week:this._t(C+o),month:this._t(C+B),year:this._t(C+V)},day:{day:this._t(O),week:this._t(O+o),month:this._t(O+B),year:this._t(O+V)},week:{week:this._t(m),month:this._t(m+B),year:this._t(m+V)},month:{month:this._t(A),year:this._t(A+V)},year:{year:this._t("_duration_year")}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(u,n,k){let C=k||this.get("baseUnit");void 0!==n&&""!==n||(n=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(T.toNumber(u),void 0,C)),n=x.cleanFormat(n);let O,m=this.parseFormat(n,C),A=Number(u);O=A>this.get("negativeBase")?m.positive:A<this.get("negativeBase")?m.negative:m.zero;let P=this.applyFormat(A,O);return""!==O.color&&(P="["+O.color+"]"+P+"[/]"),P}parseFormat(u,n){let k=n||this.get("baseUnit"),C={positive:{color:"",template:"",parts:[],source:"",baseUnit:k,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:k,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:k,parsed:!1,absolute:!1}},O=(u=u.replace("||",T.PLACEHOLDER2)).split("|");return C.positive.source=O[0],void 0===O[2]?C.zero=C.positive:C.zero.source=O[2],void 0===O[1]?C.negative=C.positive:C.negative.source=O[1],p.each(C,(m,A)=>{if(A.parsed)return;let P=A.source,D=[];D=A.source.match(/^\[([^\]]*)\]/),D&&D.length&&""!==D[0]&&(P=A.source.substr(D[0].length),A.color=D[1]);let f=l.V.chunk(P,!0);for(let o=0;o<f.length;o++){let B=f[o];if(B.text=B.text.replace(T.PLACEHOLDER2,"|"),"value"===B.type){B.text.match(/[yYMdDwhHKkmsSn]+a/)&&(A.absolute=!0,B.text=B.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let V=B.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(V)for(let q=0;q<V.length;q++)null==V[q]&&(V[q]=this._unitAliases[V[q]]),A.parts.push(V[q]),B.text=B.text.replace(V[q],T.PLACEHOLDER)}A.template+=B.text}A.parsed=!0}),C}applyFormat(u,n){let k=!n.absolute&&u<this.get("negativeBase");u=Math.abs(u);let C=this.toTimeStamp(u,n.baseUnit),O=n.template;for(let m=0,A=n.parts.length;m<A;m++){let P=n.parts[m],D=this._toTimeUnit(P.substr(0,1)),f=P.length,o=Math.floor(C/this._getUnitValue(D));O=O.replace(T.PLACEHOLDER,x.padString(o,f,"0")),C-=o*this._getUnitValue(D)}return k&&(O="-"+O),O}toTimeStamp(u,n){return u*this._getUnitValue(n)}_toTimeUnit(u){switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(u,n,k){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(k||(k=this.get("baseUnit")),null!=n&&u!=n){u=Math.abs(u),n=Math.abs(n);let C=this.getValueUnit(Math.max(u,n),k);return this.get("durationFormats")[k][C]}{let C=this.getValueUnit(u,k);return this.get("durationFormats")[k][C]}}getValueUnit(u,n){let k;n||(n=this.get("baseUnit"));let C=this.getMilliseconds(u,n);return p.eachContinue(this._getUnitValues(),(O,m)=>{if(O==n||k){if(C/m<=1)return k||(k=O),!1;k=O}return!0}),k}getMilliseconds(u,n){return n||(n=this.get("baseUnit")),u*this._getUnitValue(n)}_getUnitValue(u){return this._getUnitValues()[u]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}},9395:function(R,E,a){"use strict";a.r(E),a.d(E,{bounce:function(){return m},circle:function(){return u},cubic:function(){return x},elastic:function(){return D},exp:function(){return b},inOut:function(){return C},linear:function(){return l},out:function(){return k},pow:function(){return T},quad:function(){return p},sine:function(){return I},yoyo:function(){return n}});var h=a(751);function l(f){return f}function p(f){return f*f}function x(f){return f*f*f}function T(f,o){return Math.pow(f,o)}function b(f){return Math.pow(2,10*f-10)}function I(f){return 1-Math.cos(f*h.HALFPI)}function u(f){return 1-Math.sqrt(1-f*f)}function n(f){return function(o){return f(o<.5?2*o:2*(1-o))}}function k(f){return function(o){return 1-f(1-o)}}function C(f){return function(o){return o<=.5?f(2*o)/2:1-f(2*(1-o))/2}}let O=7.5625;function m(f){return 1-((o=1-f)<.36363636363636365?O*o*o:o<.7272727272727273?O*(o-=.5454545454545454)*o+.75:o<.9090909090909091?O*(o-=.8181818181818182)*o+.9375:O*(o-=.9545454545454546)*o+.984375);var o}let A=.3/(2*Math.PI),P=Math.asin(1)*A;function D(f){let o=f;return 1*Math.pow(2,10*--o)*Math.sin((P-o)/A)}},6331:function(R,E,a){"use strict";a.d(E,{JH:function(){return P},Zr:function(){return A}});var h=a(7449),l=a(9770),p=a(6490),x=a(256),T=a(9395);class b{constructor(f,o){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=f,this._settings=o}get(f,o){const B=this._settings[f];return void 0!==B?B:o}setRaw(f,o){this._settings[f]=o}set(f,o){this._userSettings[f]=!0,this.setRaw(f,o)}remove(f){delete this._userSettings[f],delete this._settings[f]}setAll(f){x.keys(f).forEach(o=>{this.set(o,f[o])})}_eachSetting(f){x.each(this._settings,f)}apply(){const f={stateAnimationEasing:!0,stateAnimationDuration:!0},o=this._entity.states.lookup("default");this._eachSetting((B,V)=>{f[B]||(f[B]=!0,this!==o&&(B in o._settings||(o._settings[B]=this._entity.get(B))),this._entity.set(B,V))})}applyAnimate(f){null==f&&(f=this._settings.stateAnimationDuration),null==f&&(f=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let o=this._settings.stateAnimationEasing;null==o&&(o=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",T.cubic)));const B=this._entity.states.lookup("default"),V={stateAnimationEasing:!0,stateAnimationDuration:!0},q={};return this._eachSetting((nt,yt)=>{if(!V[nt]){V[nt]=!0,this!=B&&(nt in B._settings||(B._settings[nt]=this._entity.get(nt)));const ut=this._entity.animate({key:nt,to:yt,duration:f,easing:o});ut&&(q[nt]=ut)}}),q}}class I{constructor(f){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=f}lookup(f){return this._states[f]}create(f,o){const B=this._states[f];if(B)return B.setAll(o),B;{const V=new b(this._entity,o);return this._states[f]=V,V}}remove(f){delete this._states[f]}apply(f){const o=this._states[f];o&&o.apply(),this._entity._applyState(f)}applyAnimate(f,o){let B;const V=this._states[f];return V&&(B=V.applyAnimate(o)),this._entity._applyStateAnimated(f,o),B}}var u=a(3145),n=a(5071),k=a(3540);class C{constructor(f){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=f}add(f,o){let B=this._callbacks[f];return void 0===B&&(B=this._callbacks[f]=[]),B.push(o),this._entity._markDirtyKey(f),new h.ku(()=>{n.removeFirst(B,o)&&this._entity._markDirtyKey(f)})}remove(f){const o=this._callbacks[f];void 0!==o&&(delete this._callbacks[f],0!==o.length&&this._entity._markDirtyKey(f))}enable(f){this._disabled[f]&&(delete this._disabled[f],this._entity._markDirtyKey(f))}disable(f){this._disabled[f]||(this._disabled[f]=!0,this._entity._markDirtyKey(f))}fold(f,o){if(!this._disabled[f]){const B=this._callbacks[f];if(void 0!==B)for(let V=0,q=B.length;V<q;++V)o=B[V](o,this._entity,f)}return o}}class O{constructor(f,o,B,V,q,nt,yt){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new l.p}),this._animation=f,this._from=o,this._to=B,this._duration=V,this._easing=q,this._loops=nt,this._interpolate=(0,p.XG)(o,B),this._oldTime=yt}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){this._stopped||this._playing||(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((f,o)=>{if(this._stopped)f();else{const V=this.events.on("stopped",()=>{V.dispose(),f()})}})}_checkEnded(){return!(this._loops>1&&(--this._loops,1))}_run(f){null!==this._oldTime&&(this._time+=f-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=f}_reset(f){this._oldTime=f,this._time=0}_value(f){return this._interpolate(this._easing(f),this._from,this._to)}}let m=0;class A{constructor(f){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++m}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=f}_checkDirty(){x.keys(this._settings).forEach(f=>{this._userProperties[f]=!0,this._markDirtyKey(f)})}resetUserSettings(){this._userProperties={}}_runAnimation(f){if(this.isDisposed())return!1;{let o=!1;return x.each(this._animatingSettings,(B,V)=>{if(V._stopped)this._stopAnimation(B);else if(V._playing){V._run(f);const q=V.percentage;q>=1?V._checkEnded()?this.set(B,V._value(1)):(o=!0,V._reset(f),this._set(B,V._value(1))):(o=!0,this._set(B,V._value(q)))}}),x.each(this._animatingPrivateSettings,(B,V)=>{if(V._stopped)this._stopAnimationPrivate(B);else if(V._playing){V._run(f);const q=V.percentage;q>=1?V._checkEnded()?this.setPrivate(B,V._value(1)):(o=!0,V._reset(f),this._setPrivate(B,V._value(1))):(o=!0,this._setPrivate(B,V._value(q)))}}),o}}_markDirtyKey(f){this.markDirty()}_markDirtyPrivateKey(f){this.markDirty()}on(f,o){let B=this._settingEvents[f];return void 0===B&&(B=this._settingEvents[f]=[]),B.push(o),new h.ku(()=>{n.removeFirst(B,o),0===B.length&&delete this._settingEvents[f]})}onPrivate(f,o){let B=this._privateSettingEvents[f];return void 0===B&&(B=this._privateSettingEvents[f]=[]),B.push(o),new h.ku(()=>{n.removeFirst(B,o),0===B.length&&delete this._privateSettingEvents[f]})}getRaw(f,o){const B=this._settings[f];return void 0!==B?B:o}get(f,o){return this.getRaw(f,o)}_sendKeyEvent(f,o){const B=this._settingEvents[f];void 0!==B&&n.each(B,V=>{V(o,this,f)})}_sendPrivateKeyEvent(f,o){const B=this._privateSettingEvents[f];void 0!==B&&n.each(B,V=>{V(o,this,f)})}_setRaw(f,o,B){this._prevSettings[f]=o,this._sendKeyEvent(f,B)}setRaw(f,o){const B=this._settings[f];this._settings[f]=o,B!==o&&this._setRaw(f,B,o)}_set(f,o){const B=this._settings[f];this._settings[f]=o,B!==o&&(this._setRaw(f,B,o),this._markDirtyKey(f))}_stopAnimation(f){const o=this._animatingSettings[f];o&&(delete this._animatingSettings[f],o.stop())}set(f,o){return this._set(f,o),this._stopAnimation(f),o}remove(f){f in this._settings&&(this._prevSettings[f]=this._settings[f],delete this._settings[f],this._sendKeyEvent(f,void 0),this._markDirtyKey(f)),this._stopAnimation(f)}removeAll(){n.each(x.keys(this._settings),f=>{this.remove(f)})}getPrivate(f,o){const B=this._privateSettings[f];return void 0!==B?B:o}_setPrivateRaw(f,o,B){this._prevPrivateSettings[f]=o,this._sendPrivateKeyEvent(f,B)}setPrivateRaw(f,o){const B=this._privateSettings[f];this._privateSettings[f]=o,B!==o&&this._setPrivateRaw(f,B,o)}_setPrivate(f,o){const B=this._privateSettings[f];this._privateSettings[f]=o,B!==o&&(this._setPrivateRaw(f,B,o),this._markDirtyPrivateKey(f))}_stopAnimationPrivate(f){const o=this._animatingPrivateSettings[f];o&&(o.stop(),delete this._animatingPrivateSettings[f])}setPrivate(f,o){return this._setPrivate(f,o),this._stopAnimationPrivate(f),o}removePrivate(f){f in this._privateSettings&&(this._prevPrivateSettings[f]=this._privateSettings[f],delete this._privateSettings[f],this._markDirtyPrivateKey(f)),this._stopAnimationPrivate(f)}setAll(f){x.each(f,(o,B)=>{this.set(o,B)})}animate(f){const o=f.key,B=f.to,V=f.duration||0,q=f.loops||1,nt=void 0===f.from?this.get(o):f.from,yt=void 0===f.easing?T.linear:f.easing;if(0===V)this.set(o,B);else{if(void 0!==nt&&nt!==B){this.set(o,nt);const Y=this._animatingSettings[o]=new O(this,nt,B,V,yt,q,this._animationTime());return this._startAnimation(),Y}this.set(o,B)}const ut=new O(this,nt,B,V,yt,q,null);return ut.stop(),ut}animatePrivate(f){const o=f.key,B=f.to,V=f.duration||0,q=f.loops||1,nt=void 0===f.from?this.getPrivate(o):f.from,yt=void 0===f.easing?T.linear:f.easing;if(0===V)this.setPrivate(o,B);else{if(void 0!==nt&&nt!==B){this.setPrivate(o,nt);const Y=this._animatingPrivateSettings[o]=new O(this,nt,B,V,yt,q,this._animationTime());return this._startAnimation(),Y}this.setPrivate(o,B)}const ut=new O(this,nt,B,V,yt,q,null);return ut.stop(),ut}_dispose(){}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class P extends A{constructor(f,o,B,V=[]){if(super(o),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new I(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new C(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!B)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=f,this._internalTemplates=V,o.id&&this._registerId(o.id)}static new(f,o,B){const V=new this(f,o,!0);return V._template=B,V._afterNew(),V}static _new(f,o,B=[]){const V=new this(f,o,!0,B);return V._afterNew(),V}_afterNew(){this._checkDirty();let f=!1;const o=this._template;o&&(f=!0,o._setObjectTemplate(this)),n.each(this._internalTemplates,B=>{f=!0,B._setObjectTemplate(this)}),f&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const f=this._template;f&&f._setObjectTemplate(this),n.each(this._internalTemplates,o=>{o._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new l.p}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefault(f,o){f in this._settings||super.set(f,o)}_setRawDefault(f,o){f in this._settings||super.setRaw(f,o)}_clearDirty(){x.keys(this._dirty).forEach(f=>{this._dirty[f]=!1}),x.keys(this._dirtyPrivate).forEach(f=>{this._dirtyPrivate[f]=!1})}isDirty(f){return!!this._dirty[f]}isPrivateDirty(f){return!!this._dirtyPrivate[f]}_markDirtyKey(f){this._dirty[f]=!0,super._markDirtyKey(f)}_markDirtyPrivateKey(f){this._dirtyPrivate[f]=!0,super._markDirtyKey(f)}isType(f){return-1!==this.classNames.indexOf(f)}_pushPropertyDisposer(f,o){let B=this._disposerProperties[f];return void 0===B&&(B=this._disposerProperties[f]=[]),B.push(o),o}_disposeProperty(f){const o=this._disposerProperties[f];void 0!==o&&(n.each(o,B=>{B.dispose()}),delete this._disposerProperties[f])}set template(f){const o=this._template;o!==f&&(this._template=f,o&&o._removeObjectTemplate(this),f&&f._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(f){}_applyStateAnimated(f,o){}get(f,o){const B=this.adapters.fold(f,this._settings[f]);return void 0!==B?B:o}isUserSetting(f){return this._userProperties[f]||!1}set(f,o){return this._userProperties[f]=!0,super.set(f,o)}setRaw(f,o){this._userProperties[f]=!0,super.setRaw(f,o)}_setSoft(f,o){return this._userProperties[f]?o:super.set(f,o)}remove(f){delete this._userProperties[f],this._removeTemplateProperty(f)}setPrivate(f,o){return this._userPrivateProperties[f]=!0,super.setPrivate(f,o)}setPrivateRaw(f,o){this._userPrivateProperties[f]=!0,super.setPrivateRaw(f,o)}removePrivate(f){delete this._userPrivateProperties[f],this._removeTemplatePrivateProperty(f)}_setTemplateProperty(f,o,B){this._userProperties[o]||f===this._findTemplateByKey(o)&&super.set(o,B)}_setTemplatePrivateProperty(f,o,B){this._userPrivateProperties[o]||f===this._findTemplateByPrivateKey(o)&&super.setPrivate(o,B)}_removeTemplateProperty(f){if(!this._userProperties[f]){const o=this._findTemplateByKey(f);o?super.set(f,o._settings[f]):super.remove(f)}}_removeTemplatePrivateProperty(f){if(!this._userPrivateProperties[f]){const o=this._findTemplateByPrivateKey(f);o?super.setPrivate(f,o._privateSettings[f]):super.removePrivate(f)}}_walkParents(f){f(this._root._rootContainer),f(this)}_applyStateByKey(f){const o=this.states.create(f,{}),B={};this._eachTemplate(V=>{const q=V.states.lookup(f);q&&q._apply(o,B)}),x.each(o._settings,V=>{B[V]||o._userSettings[V]||o.remove(V)})}_applyTemplate(f,o){this._templateDisposers.push(f._apply(this,o)),x.each(f._settings,(B,V)=>{o.settings[B]||this._userProperties[B]||(o.settings[B]=!0,super.set(B,V))}),x.each(f._privateSettings,(B,V)=>{o.privateSettings[B]||this._userPrivateProperties[B]||(o.privateSettings[B]=!0,super.setPrivate(B,V))}),this._runSetup&&f.setup&&(this._runSetup=!1,f.setup(this))}_findStaticTemplate(f){if(this._template&&f(this._template))return this._template}_eachTemplate(f){this._findStaticTemplate(o=>(f(o),!1)),n.eachReverse(this._internalTemplates,f),n.each(this._templates,f)}_applyTemplates(f=!0){f&&this._disposeTemplates();const o={settings:{},privateSettings:{},states:{}};this._eachTemplate(B=>{this._applyTemplate(B,o)}),f&&(x.each(this._settings,B=>{this._userProperties[B]||o.settings[B]||super.remove(B)}),x.each(this._privateSettings,B=>{this._userPrivateProperties[B]||o.privateSettings[B]||super.removePrivate(B)}))}_findTemplate(f){const o=this._findStaticTemplate(f);if(void 0===o){const B=n.findReverse(this._internalTemplates,f);return void 0===B?n.find(this._templates,f):B}return o}_findTemplateByKey(f){return this._findTemplate(o=>f in o._settings)}_findTemplateByPrivateKey(f){return this._findTemplate(o=>f in o._privateSettings)}_disposeTemplates(){n.each(this._templateDisposers,f=>{f.dispose()}),this._templateDisposers.length=0}_removeTemplates(){n.each(this._templates,f=>{f._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(){let f=!1;const o=[];let B=[];const V=new Set,q=this.get("themeTagsSelf");return q&&n.each(q,nt=>{V.add(nt)}),this._walkParents(nt=>{nt===this._root._rootContainer&&(f=!0),nt._defaultThemes.length>0&&o.push(nt._defaultThemes);const yt=nt.get("themes");yt&&B.push(yt);const ut=nt.get("themeTags");ut&&n.each(ut,Y=>{V.add(Y)})}),B=o.concat(B),this._removeTemplates(),f&&n.eachReverse(this.classNames,nt=>{const yt=[];n.each(B,ut=>{n.each(ut,Y=>{const tt=Y._lookupRules(nt);tt&&n.eachReverse(tt,wt=>{if(wt.tags.every(St=>V.has(St))){const St=n.getFirstSortedIndex(yt,At=>{const ht=k.qu(wt.tags.length,At.tags.length);return 0===ht?k.wq(wt.tags,At.tags,k.qu):ht});yt.splice(St.index,0,wt)}})})}),n.each(yt,ut=>{this._templates.push(ut.template),ut.template._setObjectTemplate(this)})}),this._applyTemplates(),f&&(this._runSetup=!1),f}_changed(){}_beforeChanged(){if(this.isDirty("id")){const f=this.get("id");f&&this._registerId(f);const o=this._prevSettings.id;o&&delete u.i_.entitiesById[o]}}_registerId(f){if(u.i_.entitiesById[f]&&u.i_.entitiesById[f]!==this)throw new Error('An entity with id "'+f+'" already exists.');u.i_.entitiesById[f]=this}_afterChanged(){}addDisposer(f){return this._disposers.push(f),f}_dispose(){super._dispose();const f=this._template;f&&f._removeObjectTemplate(this),n.each(this._internalTemplates,B=>{B._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(B=>{B.dispose()}),x.each(this._disposerProperties,(B,V)=>{n.each(V,q=>{q.dispose()})});const o=this.get("id");o&&delete u.i_.entitiesById[o]}setTimeout(f,o){const B=setTimeout(()=>{this.removeDispose(V),f()},o),V=new h.ku(()=>{clearTimeout(B)});return this._disposers.push(V),V}removeDispose(f){if(!this.isDisposed()){let o=n.indexOf(this._disposers,f);o>-1&&this._disposers.splice(o,1)}f.dispose()}hasTag(f){return-1!==n.indexOf(this.get("themeTags",[]),f)}addTag(f){if(!this.hasTag(f)){const o=this.get("themeTags",[]);o.push(f),this.set("themeTags",o)}}removeTag(f){if(this.hasTag(f)){const o=this.get("themeTags",[]);n.remove(o,f),this.set("themeTags",o)}}_t(f,o,...B){return this._root.language.translate(f,o,...B)}get root(){return this._root}}Object.defineProperty(P,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(P,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]})},9770:function(R,E,a){"use strict";a.d(E,{p:function(){return x}});var h=a(7449),l=a(5071),p=a(5040);class x{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const b=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{l.each(b,I=>{I.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return 0!==this._listeners.length}hasListenersByType(b){return l.any(this._listeners,I=>(null===I.type||I.type===b)&&!I.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(b){delete this._disabled[b]}disableType(b,I=1/0){this._disabled[b]=I}_removeListener(b){if(0===this._iterating){const I=this._listeners.indexOf(b);if(-1===I)throw new Error("Invalid state: could not remove listener");this._listeners.splice(I,1)}else this._killed.push(b)}_removeExistingListener(b,I,u,n){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(k=>{k.once!==b||k.type!==I||void 0!==u&&k.callback!==u||k.context!==n||k.disposer.dispose()})}isEnabled(b){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(b)&&void 0===this._disabled[b]}removeType(b){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(I=>{I.type===b&&I.disposer.dispose()})}has(b,I,u){return-1!==l.findIndex(this._listeners,n=>!0!==n.once&&n.type===b&&(void 0===I||n.callback===I)&&n.context===u)}_shouldDispatch(b){if(this._disposed)throw new Error("EventDispatcher is disposed");const I=this._disabled[b];return p.isNumber(I)?(I<=1?delete this._disabled[b]:--this._disabled[b],!1):this._enabled}_eachListener(b){++this._iterating;try{l.each(this._listeners,b)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(l.each(this._killed,I=>{this._removeListener(I)}),this._killed.length=0)}}dispatch(b,I){this._shouldDispatch(b)&&this._eachListener(u=>{u.killed||null!==u.type&&u.type!==b||u.dispatch(b,I)})}_on(b,I,u,n,k,C){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(b,I,u,n);const O={type:I,callback:u,context:n,shouldClone:k,dispatch:C,killed:!1,once:b,disposer:new h.ku(()=>{O.killed=!0,this._removeListener(O)})};return this._listeners.push(O),O}onAll(b,I,u=!0){return this._on(!1,null,b,I,u,(n,k)=>b.call(I,k)).disposer}on(b,I,u,n=!0){return this._on(!1,b,I,u,n,(k,C)=>I.call(u,C)).disposer}once(b,I,u,n=!0){const k=this._on(!0,b,I,u,n,(C,O)=>{k.disposer.dispose(),I.call(u,O)});return k.disposer}off(b,I,u){this._removeExistingListener(!1,b,I,u)}copyFrom(b){if(this._disposed)throw new Error("EventDispatcher is disposed");if(b===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const I=[];return l.each(b._listeners,u=>{!u.killed&&u.shouldClone&&I.push(null===u.type?this.onAll(u.callback,u.context):u.once?this.once(u.type,u.callback,u.context):this.on(u.type,u.callback,u.context))}),new h.FV(I)}}},9821:function(R,E,a){"use strict";a.d(E,{v:function(){return l}});var h=a(6331);class l extends h.JH{}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([l.className])})},7144:function(R,E,a){"use strict";a.d(E,{aV:function(){return x},dn:function(){return T},o:function(){return b}});var h=a(9770),l=a(5071);function p(I,u){if(!(I>=0&&I<u))throw new Error("Index out of bounds: "+I)}class x{constructor(u=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new h.p}),this._values=u}get values(){return this._values}contains(u){return-1!==this._values.indexOf(u)}removeValue(u){let n=0,k=this._values.length;for(;n<k;)this._values[n]===u?(this.removeIndex(n),--k):++n}indexOf(u){return l.indexOf(this._values,u)}get length(){return this._values.length}hasIndex(u){return u>=0&&u<this._values.length}getIndex(u){return this._values[u]}_onPush(u){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:u})}_onInsertIndex(u,n){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:u,newValue:n})}_onSetIndex(u,n,k){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:u,oldValue:n,newValue:k})}_onRemoveIndex(u,n){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:u,oldValue:n})}_onMoveIndex(u,n,k){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:u,newIndex:n,value:k})}_onClear(u){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:u})}setIndex(u,n){p(u,this._values.length);const k=this._values[u];return k!==n&&(this._values[u]=n,this._onSetIndex(u,k,n)),k}insertIndex(u,n){return p(u,this._values.length+1),l.insertIndex(this._values,u,n),this._onInsertIndex(u,n),n}swap(u,n){const k=this._values.length;if(p(u,k),p(n,k),u!==n){const C=this._values[u],O=this._values[n];this._values[u]=O,this._onSetIndex(u,C,O),this._values[n]=C,this._onSetIndex(n,O,C)}}removeIndex(u){p(u,this._values.length);const n=this._values[u];return l.removeIndex(this._values,u),this._onRemoveIndex(u,n),n}moveValue(u,n){let k=this.indexOf(u);if(-1!==k)if(l.removeIndex(this._values,k),null==n){const C=this._values.length;this._values.push(u),this._onMoveIndex(k,C,u)}else l.insertIndex(this._values,n,u),this._onMoveIndex(k,n,u);else null==n?(this._values.push(u),this._onPush(u)):(l.insertIndex(this._values,n,u),this._onInsertIndex(n,u));return u}push(u){return this._values.push(u),this._onPush(u),u}unshift(u){return this.insertIndex(0,u),u}pushAll(u){l.each(u,n=>{this.push(n)})}copyFrom(u){this.pushAll(u._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(u){const n=this._values;this._values=[],this._onClear(n),l.each(u,k=>{this._values.push(k),this._onPush(k)})}clear(){this.setAll([])}*[Symbol.iterator](){const u=this._values.length;for(let n=0;n<u;++n)yield this._values[n]}each(u){l.each(this._values,u)}eachReverse(u){l.eachReverse(this._values,u)}}class T extends x{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(u,n,k){this.autoDispose&&n.dispose(),super._onSetIndex(u,n,k)}_onRemoveIndex(u,n){this.autoDispose&&n.dispose(),super._onRemoveIndex(u,n)}_onClear(u){this.autoDispose&&l.each(u,n=>{n.dispose()}),super._onClear(u)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.autoDispose&&l.each(this._values,u=>{u.dispose()}))}}class b extends T{constructor(u,n){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=u,this.make=n}}},751:function(R,E,a){"use strict";a.r(E),a.d(E,{DEGREES:function(){return T},HALFPI:function(){return p},PI:function(){return l},RADIANS:function(){return x},boundsOverlap:function(){return ut},ceil:function(){return I},closest:function(){return yt},cos:function(){return m},fitAngleToRange:function(){return o},fitToRange:function(){return k},getAngle:function(){return V},getArcBounds:function(){return P},getArcPoint:function(){return D},getCubicControlPointA:function(){return u},getCubicControlPointB:function(){return n},getPointOnLine:function(){return nt},getPointOnQuadraticCurve:function(){return q},inBounds:function(){return B},mergeBounds:function(){return f},normalizeAngle:function(){return A},round:function(){return b},sin:function(){return C},tan:function(){return O}});var h=a(5040);const l=Math.PI,p=l/2,x=l/180,T=180/l;function b(Y,tt,wt){if(!(0,h.isNumber)(tt)||tt<=0){let St=Math.round(Y);return wt&&St-Y==.5&&St--,St}{let St=Math.pow(10,tt);return Math.round(Y*St)/St}}function I(Y,tt){if(!(0,h.isNumber)(tt)||tt<=0)return Math.ceil(Y);{let wt=Math.pow(10,tt);return Math.ceil(Y*wt)/wt}}function u(Y,tt,wt,St,At){return{x:(tt.x/St-Y.x+wt.x)*St,y:(tt.y/At-Y.y+wt.y)*At}}function n(Y,tt,wt,St,At){return{x:(Y.x+tt.x/St-wt.x)*St,y:(Y.y+tt.y/At-wt.y)*At}}function k(Y,tt,wt){return Math.min(Math.max(Y,tt),wt)}function C(Y){return Math.sin(x*Y)}function O(Y){return Math.tan(x*Y)}function m(Y){return Math.cos(x*Y)}function A(Y){return(Y%=360)<0&&(Y+=360),Y}function P(Y,tt,wt,St,At){let ht=Number.MAX_VALUE,mt=Number.MAX_VALUE,dt=-Number.MAX_VALUE,Lt=-Number.MAX_VALUE,Ct=[];Ct.push(D(At,wt)),Ct.push(D(At,St));let vt=Math.min(90*Math.floor(wt/90),90*Math.floor(St/90)),kt=Math.max(90*Math.ceil(wt/90),90*Math.ceil(St/90));for(let Rt=vt;Rt<=kt;Rt+=90)Rt>=wt&&Rt<=St&&Ct.push(D(At,Rt));for(let Rt=0;Rt<Ct.length;Rt++){let Xt=Ct[Rt];Xt.x<ht&&(ht=Xt.x),Xt.y<mt&&(mt=Xt.y),Xt.x>dt&&(dt=Xt.x),Xt.y>Lt&&(Lt=Xt.y)}return{left:Y+ht,top:tt+mt,right:Y+dt,bottom:tt+Lt}}function D(Y,tt){return{x:Y*m(tt),y:Y*C(tt)}}function f(Y){const tt=Y.length;if(tt>0){let wt=Y[0],St=wt.left,At=wt.top,ht=wt.right,mt=wt.bottom;if(tt>1)for(let dt=1;dt<tt;dt++)wt=Y[dt],St=Math.min(wt.left,St),ht=Math.max(wt.right,ht),At=Math.min(wt.top,At),mt=Math.max(wt.bottom,mt);return{left:St,right:ht,top:At,bottom:mt}}return{left:0,right:0,top:0,bottom:0}}function o(Y,tt,wt){if(tt>wt){let At=tt;tt=wt,wt=At}Y=A(Y);let St=(tt-A(tt))/360;return Y<tt&&(Y+=360*(St+1)),Y>wt&&(Y-360>tt?Y-=360:Y=Y<tt+(wt-tt)/2+180?wt:tt),Y<tt&&(Y=Y>tt+(wt-tt)/2-180?tt:wt),Y}function B(Y,tt){return Y.x>=tt.left&&Y.y>=tt.top&&Y.x<=tt.right&&Y.y<=tt.bottom}function V(Y,tt){tt||(tt={x:2*Y.x,y:2*Y.y});let At=Math.atan2(tt.y-Y.y,tt.x-Y.x)*T;return At<0&&(At+=360),A(At)}function q(Y,tt,wt,St){return{x:(1-St)*(1-St)*Y.x+2*(1-St)*St*wt.x+St*St*tt.x,y:(1-St)*(1-St)*Y.y+2*(1-St)*St*wt.y+St*St*tt.y}}function nt(Y,tt,wt){return{x:Y.x+(tt.x-Y.x)*wt,y:Y.y+(tt.y-Y.y)*wt}}function yt(Y,tt){return Y.reduce(function(wt,St){return Math.abs(St-tt)<Math.abs(wt-tt)?St:wt})}function ut(Y,tt){return!(Y.bottom<tt.top||tt.bottom<Y.top||Y.right<tt.left||tt.right<Y.left)}},8219:function(R,E,a){"use strict";a.d(E,{u:function(){return T}});var h=a(6331),l=a(7652),p=a(7449);let x;class T extends h.JH{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),function(O,m,A){const P=m.interfaceColors,D=P.get("secondaryButton").toCSS(),f=P.get("text").toCSS(),o=P.get("alternativeBackground").toCSS(.45);if(!x){const B=new p.FV([new l.StyleRule(O,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"}),new l.StyleRule(O,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:P.get("background").toCSS(.5),"z-index":"100"}),new l.StyleRule(O,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:P.get("background").toCSS(.5),"z-index":"101"}),new l.StyleRule(O,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"}),new l.StyleRule(O,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"left","white-space":"normal",background:P.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+o,"box-shadow":"0px 0px 36px 0px "+o,color:f}),new l.StyleRule(O,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"}),new l.StyleRule(O,".am5-modal-table",{display:"table",margin:"1em 0"}),new l.StyleRule(O,".am5-modal-table-row",{display:"table-row"}),new l.StyleRule(O,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"}),new l.StyleRule(O,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"}),new l.StyleRule(O,".am5-modal-table-cell > *",{"vertical-align":"middle"}),new l.StyleRule(O,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+D,"border-radius":"4px",padding:"3px 5px",margin:"2px"}),new l.StyleRule(O,".am5-modal-input-narrow",{width:"50px"}),new l.StyleRule(O,".am5-modal-button",{"font-weight":"400",color:P.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+P.get("secondaryButtonStroke").toCSS(),background:P.get("secondaryButton").toCSS()}),new l.StyleRule(O,".am5-modal-button:hover",{background:P.get("secondaryButtonHover").toCSS()}),new l.StyleRule(O,".am5-modal-button.am5-modal-primary",{color:P.get("primaryButtonText").toCSS(),border:"1px solid "+P.get("primaryButtonStroke").toCSS(),background:P.get("primaryButton").toCSS()}),new l.StyleRule(O,".am5-modal-button.am5-modal-primary:hover",{background:P.get("primaryButtonHover").toCSS()})]);x=new p.DM(()=>{x=void 0,B.dispose()})}x.increment()}(l.getShadowRoot(this._root.dom),this._root);const I=document.createElement("div");I.className="am5-modal",I.style.display="none",this.root._inner.appendChild(I),this.setPrivate("container",I);const u=document.createElement("div");u.className="am5-modal-curtain",I.appendChild(u),this.setPrivate("curtain",u),l.addEventListener(u,"click",()=>{this.cancel()});const n=document.createElement("div");n.className="am5-modal-wrapper",I.appendChild(n),this.setPrivate("wrapper",n);const k=document.createElement("div");k.className="am5-modal-content",n.appendChild(k),this.setPrivate("content",k);const C=this.get("content");C&&(k.innerHTML=C),l.supports("keyboardevents")&&this._disposers.push(l.addEventListener(document,"keydown",O=>{this.isOpen()&&27==O.keyCode&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return"none"!=this.getPrivate("container").style.display}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}dispose(){super.dispose(),this.root.dom.removeChild(this.getPrivate("container"))}}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"}),Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([T.className])})},780:function(R,E,a){"use strict";a.d(E,{e:function(){return b}});var h=a(6331),l=a(7255),p=a(256),x=a(7652),T=a(5040);class b extends h.JH{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const u="_big_number_suffix_",n="_small_number_suffix_",k="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(u+"3")},{number:1e6,suffix:this._t(u+"6")},{number:1e9,suffix:this._t(u+"9")},{number:1e12,suffix:this._t(u+"12")},{number:1e15,suffix:this._t(u+"15")},{number:1e18,suffix:this._t(u+"18")},{number:1e21,suffix:this._t(u+"21")},{number:1e24,suffix:this._t(u+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(n+"24")},{number:1e-21,suffix:this._t(n+"21")},{number:1e-18,suffix:this._t(n+"18")},{number:1e-15,suffix:this._t(n+"15")},{number:1e-12,suffix:this._t(n+"12")},{number:1e-9,suffix:this._t(n+"9")},{number:1e-6,suffix:this._t(n+"6")},{number:.001,suffix:this._t(n+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(k+"B")},{number:1024,suffix:this._t(k+"KB")},{number:1048576,suffix:this._t(k+"MB")},{number:1073741824,suffix:this._t(k+"GB")},{number:1099511627776,suffix:this._t(k+"TB")},{number:0x4000000000000,suffix:this._t(k+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(u,n,k){let C;(null==n||T.isString(n)&&"number"===n.toLowerCase())&&(n=this.get("numberFormat",""));let O=Number(u);if(T.isObject(n))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),n).format(O):new Intl.NumberFormat(void 0,n).format(O)}catch{return"Invalid"}else{n=x.cleanFormat(n);let m,A=this.parseFormat(n,this._root.language);m=O>this.get("negativeBase")?A.positive:O<this.get("negativeBase")?A.negative:A.zero,null==k||m.mod||(m=p.copy(m),m.decimals.active=0==O?0:k),C=m.template.split(T.PLACEHOLDER).join(this.applyFormat(O,m))}return C}parseFormat(u,n){const k=n.translateEmpty("_thousandSeparator"),C=n.translateEmpty("_decimalSeparator");let O={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:k},decimals:{active:-1,passive:-1,separator:C},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:k},decimals:{active:-1,passive:-1,separator:C},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:k},decimals:{active:-1,passive:-1,separator:C},template:"",source:"",parsed:!1}},m=(u=u.replace("||",T.PLACEHOLDER2)).split("|");return O.positive.source=m[0],void 0===m[2]?O.zero=O.positive:O.zero.source=m[2],void 0===m[1]?O.negative=O.positive:O.negative.source=m[1],p.each(O,(A,P)=>{if(P.parsed)return;let D=P.source;"number"===D.toLowerCase()&&(D=this.get("numberFormat","#,###.#####"));let f=l.V.chunk(D,!0);for(let o=0;o<f.length;o++){let B=f[o];if(B.text=B.text.replace(T.PLACEHOLDER2,"|"),"value"===B.type){let V=B.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP\xe2\u20ac\xb0!]?/);if(V)if(null===V||""===V[0])P.template+=B.text;else{let q=V[0].match(/[abespABESP%\xe2\u20ac\xb0!]{2}|[abespABESP%\xe2\u20ac\xb0]{1}$/);q&&(P.mod=q[0].toLowerCase(),P.modSpacing=!!V[0].match(/[ ]{1}[abespABESP%\xe2\u20ac\xb0!]{1}$/));let nt=V[0].split(".");if(""!==nt[0]){P.thousands.active=(nt[0].match(/0/g)||[]).length,P.thousands.passive=(nt[0].match(/\#/g)||[]).length+P.thousands.active;let yt=nt[0].split(",");1===yt.length||(P.thousands.interval=(yt.pop()||"").length,0===P.thousands.interval&&(P.thousands.interval=-1))}void 0===nt[1]||(P.decimals.active=(nt[1].match(/0/g)||[]).length,P.decimals.passive=(nt[1].match(/\#/g)||[]).length+P.decimals.active),P.template+=B.text.split(V[0]).join(T.PLACEHOLDER)}}else P.template+=B.text}P.parsed=!0}),O}applyFormat(u,n){let k=u<0;u=Math.abs(u);let C="",O="",m=n.mod?n.mod.split(""):[];if(-1!==m.indexOf("b")){let o=this.applyPrefix(u,this.get("bytePrefixes"),-1!==m.indexOf("!"));u=o[0],C=o[1],O=o[2],n.modSpacing&&(O=" "+O)}else if(-1!==m.indexOf("a")){let o=this.applyPrefix(u,u<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),-1!==m.indexOf("!"));u=o[0],C=o[1],O=o[2],n.modSpacing&&(O=" "+O)}else if(-1!==m.indexOf("p")){let o=Math.min(u.toString().length+2,21);u=parseFloat(u.toPrecision(o)),C=this._root.language.translate("_percentPrefix"),O=this._root.language.translate("_percentSuffix"),""==C&&""==O&&(O="%")}else if(-1!==m.indexOf("%")){let o=Math.min(u.toString().length+2,21);u*=100,u=parseFloat(u.toPrecision(o)),O="%"}else if(-1!==m.indexOf("\xe2\u20ac\xb0")){let o=Math.min(u.toString().length+3,21);u*=1e3,u=parseFloat(u.toPrecision(o)),O="\xe2\u20ac\xb0"}if(-1!==m.indexOf("e")){let o;o=n.decimals.passive>=0?u.toExponential(n.decimals.passive).split("e"):u.toExponential().split("e"),u=Number(o[0]),O="e"+o[1],n.modSpacing&&(O=" "+O)}else if(0===n.decimals.passive)u=Math.round(u);else if(n.decimals.passive>0){let o=Math.pow(10,n.decimals.passive);u=Math.round(u*o)/o}let A="",P=T.numberToString(u).split("."),D=P[0];if(D.length<n.thousands.active&&(D=Array(n.thousands.active-D.length+1).join("0")+D),n.thousands.interval>0){let o=[],B=D.split("").reverse().join("");for(let V=0,q=D.length;V<=q;V+=n.thousands.interval){let nt=B.substr(V,n.thousands.interval).split("").reverse().join("");""!==nt&&o.unshift(nt)}D=o.join(n.thousands.separator)}A+=D,1===P.length&&P.push("");let f=P[1];return f.length<n.decimals.active&&(f+=Array(n.decimals.active-f.length+1).join("0")),""!==f&&(A+=n.decimals.separator+f),""===A&&(A="0"),0!==u&&k&&-1===m.indexOf("s")&&(A="-"+A),C&&(A=C+A),O&&(A+=O),A}applyPrefix(u,n,k=!1){let C=u,O="",m="",A=!1,P=1;for(let D=0,f=n.length;D<f;D++)n[D].number<=u&&(0===n[D].number?C=0:(C=u/n[D].number,P=n[D].number),O=n[D].prefix,m=n[D].suffix,A=!0);return!A&&k&&n.length&&0!=u&&(C=u/n[0].number,O=n[0].prefix,m=n[0].suffix,A=!0),A&&(C=parseFloat(C.toPrecision(Math.min(P.toString().length+Math.floor(C).toString().replace(/[^0-9]*/g,"").length,21)))),[C,O,m]}escape(u){return u.replace("||",T.PLACEHOLDER2)}unescape(u){return u.replace(T.PLACEHOLDER2,"|")}}},256:function(R,E,a){"use strict";a.r(E),a.d(E,{copy:function(){return x},each:function(){return T},eachContinue:function(){return b},eachOrdered:function(){return I},hasKey:function(){return u},keys:function(){return l},keysOrdered:function(){return p},softCopyProperties:function(){return n}});var h=a(5071);function l(k){return Object.keys(k)}function p(k,C){return l(k).sort(C)}function x(k){return Object.assign({},k)}function T(k,C){l(k).forEach(O=>{C(O,k[O])})}function b(k,C){for(let O in k)if(u(k,O)&&!C(O,k[O]))break}function I(k,C,O){h.each(p(k,O),m=>{C(m,k[m])})}function u(k,C){return{}.hasOwnProperty.call(k,C)}function n(k,C){return T(k,(O,m)=>{null!=m&&null==C[O]&&(C[O]=m)}),C}},3540:function(R,E,a){"use strict";function h(x,T){return x===T?0:x<T?-1:1}function l(x,T,b){const I=x.length,u=T.length,n=Math.min(I,u);for(let k=0;k<n;++k){const C=b(x[k],T[k]);if(0!==C)return C}return h(I,u)}function p(x,T){return x===T?0:x<T?-1:1}a.d(E,{HO:function(){return p},qu:function(){return h},wq:function(){return l}})},6245:function(R,E,a){"use strict";a.d(E,{AQ:function(){return x},CI:function(){return T},aQ:function(){return l},gG:function(){return h},p0:function(){return p}});class h{constructor(I){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=I}get value(){return this._value/100}get percent(){return this._value}toString(){return this._value+"%"}interpolate(I,u){return I+this.value*(u-I)}static normalize(I,u,n){return I instanceof h?I:new h(u===n?0:100*Math.min(Math.max(1/(n-u)*(I-u),0),1))}}function l(b){return new h(b)}const p=l(0),x=l(100),T=l(50)},2132:function(R,E,a){"use strict";a.d(E,{q:function(){return T}});var h=a(5040),l=a(7652),p=a(4596),x=a(7255);function T(n,k){if(null!=k){let C,O=(k=x.V.escape(k=""+k)).match(/\{([^}]+)\}/g);if(O)for(C=0;C<O.length;C++){let m=b(n,O[C].replace(/\{([^}]+)\}/,"$1"),"");null==m&&(m=""),k=k.split(O[C]).join(m)}k=x.V.unescape(k)}else k="";return k}function b(n,k,C){let O;const m=n.dataItem;let A,P=[],D=/([^.]+)\(([^)]*)\)|([^.]+)/g;for(;A=D.exec(k),null!==A;)if(A[3]){P.push({prop:A[3]});const f=n.getDateFormatter().get("dateFields",[]),o=n.getNumberFormatter().get("numericFields",[]),B=n.getDurationFormatter().get("durationFields",[]);-1!==f.indexOf(A[3])?P.push({method:"formatDate",params:[]}):-1!==o.indexOf(A[3])?P.push({method:"formatNumber",params:[]}):-1!==B.indexOf(A[3])&&P.push({method:"formatDuration",params:[]})}else{let f=[];if(""!=l.trim(A[2])){let o,B=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g;for(;o=B.exec(A[2]),null!==o;)f.push(o[1]||o[2]||o[3])}P.push({method:A[1],params:f})}if(m){O=u(n,P,m._settings),(null==O||h.isObject(O))&&(O=u(n,P,m));let f=m.dataContext;null==O&&f&&(O=u(n,P,f),null==O&&(O=u(n,[{prop:k}],f)),null==O&&f.dataContext&&(O=u(n,P,f.dataContext))),null==O&&m.component&&m.component.dataItem!==m&&(O=b(m.component,k,C))}return null==O&&(O=u(n,P,n)),null==O&&n.parent&&(O=b(n.parent,k,C)),O}function I(n,k){const C=n.getPrivate("customData");if(h.isObject(C))return C[k]}function u(n,k,C,O){let m=C,A=!1;for(let P=0,D=k.length;P<D;P++){let f=k[P];if(f.prop){if(m instanceof p.j){let o=m.get(f.prop);null==o&&(o=m.getPrivate(f.prop)),null==o&&(o=I(m,f.prop)),null==o&&(o=m[f.prop]),m=o}else if(m.get){let o=m.get(f.prop);null==o&&(o=m[f.prop]),m=o}else m=m[f.prop];if(null==m)return}else switch(f.method){case"formatNumber":let o=h.toNumber(m);null!=o&&(m=n.getNumberFormatter().format(o,O||f.params[0]||void 0),A=!0);break;case"formatDate":let B=h.toDate(m);if(!h.isDate(B)||h.isNaN(B.getTime()))return;null!=B&&(m=n.getDateFormatter().format(B,O||f.params[0]||void 0),A=!0);break;case"formatDuration":let V=h.toNumber(m);null!=V&&(m=n.getDurationFormatter().format(V,O||f.params[0]||void 0,f.params[1]||void 0),A=!0);break;case"urlEncode":case"encodeURIComponent":m=encodeURIComponent(m);break;default:m[f.method]&&m[f.method].apply(C,f.params)}}if(!A){let P=[{method:"",params:O}];if(null==O)h.isNumber(m)?(P[0].method="formatNumber",P[0].params=""):h.isDate(m)&&(P[0].method="formatDate",P[0].params="");else{let D=l.getFormat(O);"number"===D?P[0].method="formatNumber":"date"===D?P[0].method="formatDate":"duration"===D&&(P[0].method="formatDuration")}P[0].method&&(m=u(n,P,m))}return m}},5769:function(R,E,a){"use strict";a.d(E,{YS:function(){return u}});var h=a(9770),l=a(7449),p=a(5071),x=a(256);class T{constructor(k,C,O){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=k,this._template=C,this._settings=O}get(k,C){const O=this._settings[k];return void 0!==O?O:C}set(k,C){this._settings[k]=C,this._template._stateChanged(this._name)}remove(k){delete this._settings[k],this._template._stateChanged(this._name)}setAll(k){x.keys(k).forEach(C=>{this._settings[C]=k[C]}),this._template._stateChanged(this._name)}_apply(k,C){x.each(this._settings,(O,m)=>{C[O]||k._userSettings[O]||(C[O]=!0,k.setRaw(O,m))})}}class b{constructor(k){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=k}lookup(k){return this._states[k]}create(k,C){const O=this._states[k];if(O)return O.setAll(C),O;{const m=new T(k,this._template,C);return this._states[k]=m,this._template._stateChanged(k),m}}remove(k){delete this._states[k],this._template._stateChanged(k)}_apply(k,C){x.each(this._states,(O,m)=>{let A=C.states[O];null==A&&(A=C.states[O]={});const P=k.states.create(O,{});m._apply(P,A)})}}class I{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(k,C){let O=this._callbacks[k];return void 0===O&&(O=this._callbacks[k]=[]),O.push(C),new l.ku(()=>{p.removeFirst(O,C),0===O.length&&delete this._callbacks[k]})}remove(k){void 0!==this._callbacks[k]&&delete this._callbacks[k]}_apply(k){const C=[];return x.each(this._callbacks,(O,m)=>{p.each(m,A=>{C.push(k.adapters.add(O,A))})}),new l.FV(C)}}class u{constructor(k,C){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new b(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new I}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new h.p}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!C)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=k}static new(k){return new u(k,!0)}get(k,C){const O=this._settings[k];return void 0!==O?O:C}setRaw(k,C){this._settings[k]=C}set(k,C){this._settings[k]!==C&&(this.setRaw(k,C),this._entities.forEach(O=>{O._setTemplateProperty(this,k,C)}))}remove(k){k in this._settings&&(delete this._settings[k],this._entities.forEach(C=>{C._removeTemplateProperty(k)}))}removeAll(){x.each(this._settings,(k,C)=>{this.remove(k)})}getPrivate(k,C){const O=this._privateSettings[k];return void 0!==O?O:C}setPrivateRaw(k,C){return this._privateSettings[k]=C,C}setPrivate(k,C){return this._privateSettings[k]!==C&&(this.setPrivateRaw(k,C),this._entities.forEach(O=>{O._setTemplatePrivateProperty(this,k,C)})),C}removePrivate(k){k in this._privateSettings&&(delete this._privateSettings[k],this._entities.forEach(C=>{C._removeTemplatePrivateProperty(k)}))}setAll(k){x.each(k,(C,O)=>{this.set(C,O)})}on(k,C){let O=this._settingEvents[k];return void 0===O&&(O=this._settingEvents[k]=[]),O.push(C),new l.ku(()=>{p.removeFirst(O,C),0===O.length&&delete this._settingEvents[k]})}onPrivate(k,C){let O=this._privateSettingEvents[k];return void 0===O&&(O=this._privateSettingEvents[k]=[]),O.push(C),new l.ku(()=>{p.removeFirst(O,C),0===O.length&&delete this._privateSettingEvents[k]})}_apply(k,C){const O=[];return x.each(this._settingEvents,(m,A)=>{p.each(A,P=>{O.push(k.on(m,P))})}),x.each(this._privateSettingEvents,(m,A)=>{p.each(A,P=>{O.push(k.onPrivate(m,P))})}),this.states._apply(k,C),O.push(this.adapters._apply(k)),O.push(k.events.copyFrom(this.events)),new l.FV(O)}_setObjectTemplate(k){this._entities.push(k)}_removeObjectTemplate(k){p.remove(this._entities,k)}_stateChanged(k){this._entities.forEach(C=>{C._applyStateByKey(k)})}}},7255:function(R,E,a){"use strict";a.d(E,{V:function(){return p}});var h=a(1112),l=a(5040);class p{static escape(T){return T.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(T){return T.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(T){return T.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(T,b=!1,I=!1){let u=[];T=this.escape(T);let n=b?T.split("'"):[T];for(let k=0;k<n.length;k++){let C=n[k];if(""!==C)if(k%2==0){C=C.replace(/\]\[/g,"]"+l.PLACEHOLDER+"["),C=C.replace(/\[\]/g,"[ ]");let O=C.split(/[\[\]]+/);for(let m=0;m<O.length;m++){let A=this.cleanUp(this.unescape(O[m]));A!==l.PLACEHOLDER&&""!==A&&u.push(m%2==0?{type:"value",text:A}:{type:I?"value":"format",text:"["+A+"]"})}}else{let O=C.split(/[\[\]]+/);for(let m=0;m<O.length;m++){let A=this.cleanUp(this.unescape(O[m]));""!==A&&(m%2==0?u.push({type:"text",text:A}):this.isImage(A)?u.push({type:"image",text:"["+A+"]"}):u.push({type:"format",text:"["+A+"]"}))}}}return u}static isImage(T){return!!T.match(/img[ ]?:/)}static getTextStyle(T){let b={};if(""==T||"[ ]"==T)return{};const I=T.match(/('[^']*')|("[^"]*")/gi);if(I)for(let n=0;n<I.length;n++)T=T.replace(I[n],I[n].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let u=T.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!u)return{};for(let n=0;n<u.length;n++)if(u[n].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))b.fontWeight=u[n];else if(u[n].match(/^(underline|line-through)$/i))b.textDecoration=u[n];else if("/"!=u[n])if(u[n].match(/:/)){const k=u[n].replace("+"," ").split(/:[ ]*/);b[k[0]]=k[1]}else b.fill=h.Il.fromString(u[n]);return b}}Object.defineProperty(p,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"})},1926:function(R,E,a){"use strict";a.r(E),a.d(E,{add:function(){return m},checkChange:function(){return O},chooseInterval:function(){return P},copy:function(){return C},getDateIntervalDuration:function(){return u},getDuration:function(){return b},getIntervalDuration:function(){return I},getNextUnit:function(){return T},getTime:function(){return k},getUnitValue:function(){return D},now:function(){return n},round:function(){return A},sleep:function(){return p},timeUnitDurations:function(){return x}});var h=a(5040),l=a(7652);function p(f){return new Promise((o,B)=>{setTimeout(o,f)})}let x={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function T(f){switch(f){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function b(f,o){return null==o&&(o=1),x[f]*o}function I(f){return f?x[f.timeUnit]*f.count:0}function u(f,o,B,V,q){const nt=f.timeUnit,yt=f.count;if("hour"==nt||"minute"==nt||"second"==nt||"millisecond"==nt)return x[f.timeUnit]*f.count;{const ut=A(new Date(o.getTime()),nt,yt,B,V,void 0,q).getTime();let Y=ut+yt*b(nt)*1.05;return Y=A(new Date(Y),nt,1,B,V,void 0,q).getTime(),Y-ut}}function n(){return new Date}function k(){return n().getTime()}function C(f){return new Date(f.getTime())}function O(f,o,B,V,q){if(o-f>b(B,1.2))return!0;let nt=new Date(f),yt=new Date(o);q&&(nt=q.convertLocal(nt),yt=q.convertLocal(yt));let ut=0,Y=0;V||"millisecond"==B||(ut=nt.getTimezoneOffset(),nt.setUTCMinutes(nt.getUTCMinutes()-ut),Y=yt.getTimezoneOffset(),yt.setUTCMinutes(yt.getUTCMinutes()-Y));let tt=!1;switch(B){case"year":nt.getUTCFullYear()!=yt.getUTCFullYear()&&(tt=!0);break;case"month":(nt.getUTCFullYear()!=yt.getUTCFullYear()||nt.getUTCMonth()!=yt.getUTCMonth())&&(tt=!0);break;case"day":(nt.getUTCMonth()!=yt.getUTCMonth()||nt.getUTCDate()!=yt.getUTCDate())&&(tt=!0);break;case"hour":nt.getUTCHours()!=yt.getUTCHours()&&(tt=!0);break;case"minute":nt.getUTCMinutes()!=yt.getUTCMinutes()&&(tt=!0);break;case"second":nt.getUTCSeconds()!=yt.getUTCSeconds()&&(tt=!0);break;case"millisecond":nt.getTime()!=yt.getTime()&&(tt=!0)}if(tt)return tt;let wt=T(B);return!!wt&&O(f,o,wt,V,q)}function m(f,o,B,V,q){let nt=0;switch(V||"millisecond"==o||(nt=f.getTimezoneOffset(),q&&(nt-=q.offsetUTC(f)),f.setUTCMinutes(f.getUTCMinutes()-nt)),o){case"day":let yt=f.getUTCDate();f.setUTCDate(yt+B);break;case"second":let ut=f.getUTCSeconds();f.setUTCSeconds(ut+B);break;case"millisecond":let Y=f.getUTCMilliseconds();f.setUTCMilliseconds(Y+B);break;case"hour":let tt=f.getUTCHours();f.setUTCHours(tt+B);break;case"minute":let wt=f.getUTCMinutes();f.setUTCMinutes(wt+B);break;case"year":let St=f.getUTCFullYear();f.setUTCFullYear(St+B);break;case"month":let At=f.getUTCMonth();f.setUTCMonth(At+B);break;case"week":let ht=f.getUTCDate();f.setUTCDate(ht+7*B)}if(!V&&"millisecond"!=o&&(f.setUTCMinutes(f.getUTCMinutes()+nt),"day"==o||"week"==o||"month"==o||"year"==o)){let yt=f.getTimezoneOffset();if(q&&(yt+=q.offsetUTC(f)),yt!=nt){let ut=yt-nt;f.setUTCMinutes(f.getUTCMinutes()+ut),f.getTimezoneOffset()!=yt&&f.setUTCMinutes(f.getUTCMinutes()-ut)}}return f}function A(f,o,B,V,q,nt,yt){if(!yt||q){let ut=0;switch(q||"millisecond"==o||(ut=f.getTimezoneOffset(),f.setUTCMinutes(f.getUTCMinutes()-ut)),o){case"day":let Y=f.getUTCDate();if(B>1){if(nt){nt=A(nt,"day",1);let Ct=f.getTime()-nt.getTime(),vt=Math.floor(Ct/b("day")/B),kt=b("day",vt*B);f.setTime(nt.getTime()+kt-ut*b("minute"))}}else f.setUTCDate(Y);f.setUTCHours(0,0,0,0);break;case"second":let tt=f.getUTCSeconds();B>1&&(tt=Math.floor(tt/B)*B),f.setUTCSeconds(tt,0);break;case"millisecond":if(1==B)return f;let wt=f.getUTCMilliseconds();wt=Math.floor(wt/B)*B,f.setUTCMilliseconds(wt);break;case"hour":let St=f.getUTCHours();B>1&&(St=Math.floor(St/B)*B),f.setUTCHours(St,0,0,0);break;case"minute":let At=f.getUTCMinutes();B>1&&(At=Math.floor(At/B)*B),f.setUTCMinutes(At,0,0);break;case"month":let ht=f.getUTCMonth();B>1&&(ht=Math.floor(ht/B)*B),f.setUTCMonth(ht,1),f.setUTCHours(0,0,0,0);break;case"year":let mt=f.getUTCFullYear();B>1&&(mt=Math.floor(mt/B)*B),f.setUTCFullYear(mt,0,1),f.setUTCHours(0,0,0,0);break;case"week":let dt=f.getUTCDate(),Lt=f.getUTCDay();h.isNumber(V)||(V=1),dt=Lt>=V?dt-Lt+V:dt-(7+Lt)+V,f.setUTCDate(dt),f.setUTCHours(0,0,0,0)}if(!q&&"millisecond"!=o&&(f.setUTCMinutes(f.getUTCMinutes()+ut),"day"==o||"week"==o||"month"==o||"year"==o)){let Y=f.getTimezoneOffset();if(Y!=ut){let tt=Y-ut;f.setUTCMinutes(f.getUTCMinutes()+tt)}}return f}{if(isNaN(f.getTime()))return f;let ut=yt.offsetUTC(f),Y=f.getTimezoneOffset(),tt=yt.parseDate(f),wt=tt.year,St=tt.month,At=tt.day,ht=tt.hour,mt=tt.minute,dt=tt.second,Lt=tt.millisecond,Ct=tt.weekday;switch(o){case"day":if(B>1&&nt){nt=A(nt,"day",1,V,q,void 0,yt);let kt=f.getTime()-nt.getTime(),Rt=Math.floor(kt/b("day")/B),Xt=b("day",Rt*B);f.setTime(nt.getTime()+Xt),tt=yt.parseDate(f),wt=tt.year,St=tt.month,At=tt.day}ht=0,mt=ut-Y,dt=0,Lt=0;break;case"second":mt+=ut-Y,B>1&&(dt=Math.floor(dt/B)*B),Lt=0;break;case"millisecond":mt+=ut-Y,B>1&&(Lt=Math.floor(Lt/B)*B);break;case"hour":B>1&&(ht=Math.floor(ht/B)*B),mt=ut-Y,dt=0,Lt=0;break;case"minute":B>1&&(mt=Math.floor(mt/B)*B),mt+=ut-Y,dt=0,Lt=0;break;case"month":B>1&&(St=Math.floor(St/B)*B),At=1,ht=0,mt=ut-Y,dt=0,Lt=0;break;case"year":B>1&&(wt=Math.floor(wt/B)*B),St=0,At=1,ht=0,mt=ut-Y,dt=0,Lt=0;break;case"week":h.isNumber(V)||(V=1),At=Ct>=V?At-Ct+V:At-(7+Ct)+V,ht=0,mt=ut-Y,dt=0,Lt=0}let vt=(f=new Date(wt,St,At,ht,mt,dt,Lt)).getTimezoneOffset();return vt!=Y&&f.setTime(f.getTime()+6e4*(Y-vt)),f}}function P(f,o,B,V){let q=I(V[f]),nt=V.length-1;if(f>=nt)return Object.assign({},V[nt]);let yt=Math.ceil(o/q);return o<q&&f>0?Object.assign({},V[f-1]):yt<=B?Object.assign({},V[f]):f+1<V.length?P(f+1,o,B,V):Object.assign({},V[f])}function D(f,o){switch(o){case"day":return f.getDate();case"second":return f.getSeconds();case"millisecond":return f.getMilliseconds();case"hour":return f.getHours();case"minute":return f.getMinutes();case"month":return f.getMonth();case"year":return f.getFullYear();case"week":return l.getWeek(f)}}},462:function(R,E,a){"use strict";function h(x,T){let b=0,I=0,u=1,n=0,k=0,C=0,O=0,m=0;return x.formatToParts(T).forEach(A=>{switch(A.type){case"year":b=+A.value;break;case"month":I=+A.value-1;break;case"day":u=+A.value;break;case"hour":n=+A.value;break;case"minute":k=+A.value;break;case"second":C=+A.value;break;case"fractionalSecond":O=+A.value;break;case"weekday":switch(A.value){case"Sun":m=0;break;case"Mon":m=1;break;case"Tue":m=2;break;case"Wed":m=3;break;case"Thu":m=4;break;case"Fri":m=5;break;case"Sat":m=6}}}),24===n&&(n=0),{year:b,month:I,day:u,hour:n,minute:k,second:C,millisecond:O,weekday:m}}function l(x,T){const{year:b,month:I,day:u,hour:n,minute:k,second:C,millisecond:O}=h(x,T);return Date.UTC(b,I,u,n,k,C,O)}a.d(E,{r:function(){return p}});class p{constructor(T,b){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!b)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=T,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:T,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(T){return new this(T,!0)}convertLocal(T){const b=this.offsetUTC(T),I=T.getTimezoneOffset(),u=new Date(T);u.setUTCMinutes(u.getUTCMinutes()-(b-I));const n=u.getTimezoneOffset();return I!=n&&u.setUTCMinutes(u.getUTCMinutes()+n-I),u}offsetUTC(T){return(l(this._utc,T)-l(this._dtf,T))/6e4}parseDate(T){return h(this._dtf,T)}}},5040:function(R,E,a){"use strict";function h(A){return Number(A)!==A}function l(A){return{}.toString.call(A)}function p(A){if(null!=A&&!n(A)){let P=Number(A);return h(P)&&u(A)&&""!=A?p(A.replace(/[^0-9.\-]+/g,"")):P}return A}function x(A){if(I(A))return new Date(A);if(n(A))return new Date(A);{let P=Number(A);return n(P)?new Date(P):new Date(A)}}function T(A){if(h(A))return"NaN";if(A===1/0)return"Infinity";if(A===-1/0)return"-Infinity";if(0===A&&1/A==-1/0)return"-0";let P=A<0;A=Math.abs(A);let D,f=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+A),o=f[1],B=f[2]||"";if(void 0===f[3])D=""===B?o:o+"."+B;else{let V=+f[3];if(A<1)D="0."+b("0",V-1)+o+B;else{let q=V-B.length;D=0===q?o+B:q<0?o+B.slice(0,q)+"."+B.slice(q):o+B+b("0",q)}}return P?"-"+D:D}function b(A,P){return new Array(P+1).join(A)}function I(A){return"[object Date]"===l(A)}function u(A){return"string"==typeof A}function n(A){return"number"==typeof A&&Number(A)==A}function k(A){return"object"==typeof A&&null!==A}function C(A){return Array.isArray(A)}a.r(E),a.d(E,{PLACEHOLDER:function(){return O},PLACEHOLDER2:function(){return m},getType:function(){return l},isArray:function(){return C},isDate:function(){return I},isNaN:function(){return h},isNumber:function(){return n},isObject:function(){return k},isString:function(){return u},numberToString:function(){return T},repeat:function(){return b},toDate:function(){return x},toNumber:function(){return p}});const O="__\xc2\xa7\xc2\xa7\xc2\xa7__",m="__\xc2\xa7\xc2\xa7\xc2\xa7\xc2\xa7__"},7652:function(R,E,a){"use strict";a.r(E),a.d(E,{StyleRule:function(){return nt},StyleSheet:function(){return yt},addClass:function(){return ut},addEventListener:function(){return I},addSpacing:function(){return Ft},alternativeColor:function(){return ui},blur:function(){return C},brighten:function(){return Li},capitalizeFirst:function(){return me},cleanFormat:function(){return vt},contains:function(){return f},decimalPlaces:function(){return At},escapeForRgex:function(){return Xt},focus:function(){return O},get12Hours:function(){return Ut},getBrightnessStep:function(){return Si},getDayFromWeek:function(){return re},getFormat:function(){return Ct},getLightnessStep:function(){return $e},getMonthWeek:function(){return de},getPointerId:function(){return k},getRendererEvent:function(){return m},getSafeResolution:function(){return wt},getShadowRoot:function(){return V},getStyle:function(){return D},getTimeZone:function(){return Vt},getTimezoneOffset:function(){return ue},getWeek:function(){return ae},getWeekYear:function(){return te},getYearDay:function(){return qt},hslToRgb:function(){return ve},iOS:function(){return tt},isLight:function(){return bi},isLocalEvent:function(){return o},isTouchEvent:function(){return A},lighten:function(){return We},mergeTags:function(){return Pi},onZoom:function(){return u},padString:function(){return ht},plainText:function(){return Rt},ready:function(){return T},relativeToValue:function(){return St},removeClass:function(){return Y},removeElement:function(){return b},rgbToHsl:function(){return le},sameBounds:function(){return Ai},saturate:function(){return ji},setInteractive:function(){return B},setStyle:function(){return P},stripTags:function(){return kt},supports:function(){return n},trim:function(){return Lt},trimLeft:function(){return mt},trimRight:function(){return dt}});var h=a(5040),l=a(5071),p=a(256),x=a(7449);function T(ke){if("loading"!==document.readyState)ke();else{const di=()=>{"loading"!==document.readyState&&(document.removeEventListener("readystatechange",di),ke())};document.addEventListener("readystatechange",di)}}function b(ke){ke.parentNode&&ke.parentNode.removeChild(ke)}function I(ke,di,lt,Dt){return ke.addEventListener(di,lt,Dt||!1),new x.ku(()=>{ke.removeEventListener(di,lt,Dt||!1)})}function u(ke){return I(window,"resize",di=>{ke()})}function n(ke){switch(ke){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function k(ke){return ke.pointerId||0}function C(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let ke=document.createElement("button");ke.style.position="fixed",ke.style.top="0px",ke.style.left="-10000px",document.body.appendChild(ke),ke.focus(),ke.blur(),document.body.removeChild(ke)}}function O(ke){ke&&ke.focus()}function m(ke){if(n("pointerevents"))return ke;if(n("touchevents"))switch(ke){case"pointerover":case"pointerdown":return"touchstart";case"pointerout":case"pointerup":return"touchend";case"pointermove":return"touchmove";case"click":return"click";case"dblclick":return"dblclick"}else if(n("mouseevents"))switch(ke){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return ke}function A(ke){if(typeof Touch<"u"&&ke instanceof Touch)return!0;if(typeof PointerEvent<"u"&&ke instanceof PointerEvent&&null!=ke.pointerType)switch(ke.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(ke instanceof MouseEvent)}else if(null!=ke.type&&ke.type.match(/^mouse/))return!1;return!0}function P(ke,di,lt){ke.style[di]=lt}function D(ke,di){return ke.style[di]}function f(ke,di){let lt=di;for(;;){if(ke===lt)return!0;if(null===lt.parentNode){if(null==lt.host)return!1;lt=lt.host}else lt=lt.parentNode}}function o(ke,di){return ke.target&&f(di.root.dom,ke.target)}function B(ke,di){ke.style.pointerEvents=di?"auto":"none"}function V(ke){let di=ke;for(;;){if(null===di.parentNode)return null!=di.host?di:null;di=di.parentNode}}let q;class nt extends x.KK{constructor(di,lt,Dt,Jt=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=function(he,Te=""){if(null===he){if(null==q){const Fe=document.createElement("style");Fe.type="text/css",""!=Te&&Fe.setAttribute("nonce",Te),document.head.appendChild(Fe),q=Fe.sheet}return q}{const Fe=document.createElement("style");return Fe.type="text/css",""!=Te&&Fe.setAttribute("nonce",Te),he.appendChild(Fe),Fe.sheet}}(di,Jt);try{this._rule=function(he,Te){const Fe=he.cssRules.length;return he.insertRule(Te+"{}",Fe),he.cssRules[Fe]}(this._root,lt),p.each(Dt,(he,Te)=>{this.setStyle(he,Te)})}catch{this._rule=new CSSStyleRule}}set selector(di){this._rule.selectorText=di}get selector(){return this._rule.selectorText}_dispose(){const di=l.indexOf(this._root.cssRules,this._rule);if(-1===di)throw new Error("Could not dispose StyleRule");this._root.deleteRule(di)}_setVendorPrefixName(di,lt){const Dt=this._rule.style;Dt.setProperty("-webkit-"+di,lt,""),Dt.setProperty("-moz-"+di,lt,""),Dt.setProperty("-ms-"+di,lt,""),Dt.setProperty("-o-"+di,lt,""),Dt.setProperty(di,lt,"")}setStyle(di,lt){"transition"===di?this._setVendorPrefixName(di,lt):this._rule.style.setProperty(di,lt,"")}}class yt extends x.KK{constructor(di,lt,Dt=""){super(),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._element=function(Jt,he,Te=""){const Fe=document.createElement("style");return Fe.type="text/css",""!=Te&&Fe.setAttribute("nonce",Te),Fe.textContent=he,null===Jt?document.head.appendChild(Fe):Jt.appendChild(Fe),Fe}(di,lt,Dt)}_dispose(){this._element.parentNode&&this._element.parentNode.removeChild(this._element)}}function ut(ke,di){if(ke)if(ke.classList){const lt=di.split(" ");l.each(lt,Dt=>{ke.classList.add(Dt)})}else{let lt=ke.getAttribute("class");ke.setAttribute("class",lt?lt.split(" ").filter(Dt=>Dt!==di).join(" ")+" "+di:di)}}function Y(ke,di){if(ke)if(ke.classList)ke.classList.remove(di);else{let lt=ke.getAttribute("class");lt&&ke.setAttribute("class",lt.split(" ").filter(Dt=>Dt!==di).join(" "))}}function tt(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function wt(){return tt()?1:void 0}function St(ke,di){return h.isNumber(ke)?ke:null!=ke&&h.isNumber(ke.value)&&h.isNumber(di)?di*ke.value:0}function At(ke){let di=(""+ke).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return di?Math.max(0,(di[1]?di[1].length:0)-(di[2]?+di[2]:0)):0}function ht(ke,di=0,lt="0"){return"string"!=typeof ke&&(ke=ke.toString()),di>ke.length?Array(di-ke.length+1).join(lt)+ke:ke}function mt(ke){return ke.replace(/^[\s]*/,"")}function dt(ke){return ke.replace(/[\s]*$/,"")}function Lt(ke){return mt(dt(ke))}function Ct(ke){if(void 0===ke)return"string";let di=(ke=(ke=(ke=ke.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return di?di[1]:"number"===ke?"number":"date"===ke?"date":"duration"===ke?"duration":ke.match(/[#0]/)?"number":ke.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function vt(ke){return ke.replace(/\/(date|number|duration)$/i,"")}function kt(ke){return ke&&ke.replace(/<[^>]*>/g,"")}function Rt(ke){return ke&&kt((""+ke).replace(/[\n\r]+/g,". "))}function Xt(ke){return ke.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Ft(ke){let di="";for(let lt=0;lt<ke.length;lt++){const Dt=ke.charAt(lt);Dt.toUpperCase()==Dt&&0!=lt&&(di+=" "),di+=Dt}return di}function qt(ke,di=!1){const lt=new Date(ke.getFullYear(),0,0),Dt=ke.getTime()-lt.getTime()+60*(lt.getTimezoneOffset()-ke.getTimezoneOffset())*1e3;return Math.floor(Dt/864e5)}function ae(ke,di=!1){const lt=new Date(Date.UTC(ke.getFullYear(),ke.getMonth(),ke.getDate())),Dt=lt.getUTCDay()||7;lt.setUTCDate(lt.getUTCDate()+4-Dt);const Jt=new Date(Date.UTC(lt.getUTCFullYear(),0,1));return Math.ceil(((lt.getTime()-Jt.getTime())/864e5+1)/7)}function te(ke,di=!1){const lt=new Date(Date.UTC(ke.getFullYear(),ke.getMonth(),ke.getDate())),Dt=lt.getUTCDay()||7;return lt.setUTCDate(lt.getUTCDate()+4-Dt),new Date(Date.UTC(lt.getUTCFullYear(),0,1)).getFullYear()}function de(ke,di=!1){const lt=ae(new Date(ke.getFullYear(),ke.getMonth(),1),di);let Dt=ae(ke,di);return 1==Dt&&(Dt=53),Dt-lt+1}function re(ke,di,lt=1,Dt=!1){let Jt=new Date(di,0,4,0,0,0,0);return Dt&&Jt.setUTCFullYear(di),7*ke+lt-((Jt.getDay()||7)+3)}function Ut(ke,di){return ke>12?ke-=12:0===ke&&(ke=12),null!=di?ke+(di-1):ke}function Vt(ke,di=!1,lt=!1,Dt=!1){if(Dt)return di?"Coordinated Universal Time":"UTC";let Jt=ke.toLocaleString("UTC"),he=ke.toLocaleString("UTC",{timeZoneName:di?"long":"short"}).substr(Jt.length);return!1===lt&&(he=he.replace(/ (standard|daylight|summer|winter) /i," ")),he}function ue(ke){const di=new Date(Date.UTC(2012,0,1,0,0,0,0)),lt=new Date(di.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(di.toLocaleString("en-US",{timeZone:ke})).getTime()-lt.getTime())/6e4*-1}function me(ke){return ke.charAt(0).toUpperCase()+ke.slice(1)}function ve(ke){let di,lt,Dt,Jt=ke.h,he=ke.s,Te=ke.l;if(0==he)di=lt=Dt=Te;else{let Fe=function(Ri,nn,gn){return gn<0&&(gn+=1),gn>1&&(gn-=1),gn<.16666666666666666?Ri+6*(nn-Ri)*gn:gn<.5?nn:gn<.6666666666666666?Ri+(nn-Ri)*(.6666666666666666-gn)*6:Ri},Ci=Te<.5?Te*(1+he):Te+he-Te*he,Hi=2*Te-Ci;di=Fe(Hi,Ci,Jt+.3333333333333333),lt=Fe(Hi,Ci,Jt),Dt=Fe(Hi,Ci,Jt-.3333333333333333)}return{r:Math.round(255*di),g:Math.round(255*lt),b:Math.round(255*Dt)}}function le(ke){let di=ke.r/255,lt=ke.g/255,Dt=ke.b/255,Jt=Math.max(di,lt,Dt),he=Math.min(di,lt,Dt),Te=0,Fe=0,Ci=(Jt+he)/2;if(Jt===he)Te=Fe=0;else{let Hi=Jt-he;switch(Fe=Ci>.5?Hi/(2-Jt-he):Hi/(Jt+he),Jt){case di:Te=(lt-Dt)/Hi+(lt<Dt?6:0);break;case lt:Te=(Dt-di)/Hi+2;break;case Dt:Te=(di-lt)/Hi+4}Te/=6}return{h:Te,s:Fe,l:Ci}}function We(ke,di){return ke&&{r:Math.max(0,Math.min(255,ke.r+$e(ke.r,di))),g:Math.max(0,Math.min(255,ke.g+$e(ke.g,di))),b:Math.max(0,Math.min(255,ke.b+$e(ke.b,di))),a:ke.a}}function $e(ke,di){return Math.round((di>0?255-ke:ke)*di)}function Li(ke,di){if(ke){let lt=$e(Math.min(Math.max(ke.r,ke.g,ke.b),230),di);return{r:Math.max(0,Math.min(255,Math.round(ke.r+lt))),g:Math.max(0,Math.min(255,Math.round(ke.g+lt))),b:Math.max(0,Math.min(255,Math.round(ke.b+lt))),a:ke.a}}return ke}function Si(ke,di){return Math.round(255*di)}function bi(ke){return(299*ke.r+587*ke.g+114*ke.b)/1e3>=128}function ji(ke,di){if(void 0===ke||1==di)return ke;let lt=le(ke);return lt.s=di,ve(lt)}function ui(ke,di={r:255,g:255,b:255},lt={r:255,g:255,b:255}){let Dt=di,Jt=lt;return bi(lt)&&(Dt=lt,Jt=di),bi(ke)?Jt:Dt}function Pi(ke,di){return ke||(ke=[]),[...ke,...di].filter((lt,Dt,Jt)=>Jt.indexOf(lt)===Dt)}function Ai(ke,di){return!!di&&ke.left==di.left&&ke.right==di.right&&ke.top==di.top&&ke.bottom==di.bottom}},3360:function(R,E,a){"use strict";a.d(E,{z:function(){return f}});var h=a(5125),l=a(6331),p=a(4596),x=a(8777),T=a(1112),b=a(6245),I=a(5769),u=a(5040),n=a(5071),k=a(256),C={AccumulationDistribution:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.AccumulationDistribution),AccumulativeSwingIndex:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.AccumulativeSwingIndex),Annotator:()=>Promise.resolve().then(function(){if(!a.m[396]){var o=new Error("Module '396' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(396)}).then(o=>o.Annotator),Aroon:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Aroon),AverageSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.AverageSeries),AwesomeOscillator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.AwesomeOscillator),Axis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.Axis),AxisBullet:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisBullet),AxisLabel:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisLabel),AxisLabelRadial:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisLabelRadial),AxisRenderer:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisRenderer),AxisRendererCircular:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.AxisRendererCircular),AxisRendererRadial:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.AxisRendererRadial),AxisRendererX:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisRendererX),AxisRendererY:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisRendererY),AxisTick:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.AxisTick),BaseColumnSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.BaseColumnSeries),BollingerBands:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.BollingerBands),BreadcrumbBar:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.BreadcrumbBar),Bullet:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Bullet),Button:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Button),CalloutSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.CalloutSeries),Candlestick:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.Candlestick),CandlestickSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.CandlestickSeries),CategoryAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.CategoryAxis),CategoryDateAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.CategoryDateAxis),ChaikinMoneyFlow:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ChaikinMoneyFlow),ChaikinOscillator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ChaikinOscillator),Chart:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Chart),ChartIndicator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ChartIndicator),Chord:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.Chord),ChordDirected:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordDirected),ChordLink:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordLink),ChordLinkDirected:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordLinkDirected),ChordNodes:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordNodes),ChordNonRibbon:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.ChordNonRibbon),Circle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Circle),CirclePattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.CirclePattern),ClockHand:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.ClockHand),ColorControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ColorControl),ColorSet:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.ColorSet),ColumnSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.ColumnSeries),CommodityChannelIndex:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.CommodityChannelIndex),ComparisonControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ComparisonControl),Component:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Component),Container:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Container),DateAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.DateAxis),DateRangeSelector:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DateRangeSelector),DisparityIndex:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DisparityIndex),DoodleSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DoodleSeries),DrawingControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DrawingControl),DrawingSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DrawingSeries),DrawingToolControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DrawingToolControl),Dropdown:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Dropdown),DropdownColors:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DropdownColors),DropdownList:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DropdownList),DropdownListControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.DropdownListControl),DurationAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.DurationAxis),Ellipse:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Ellipse),EllipseSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.EllipseSeries),Entity:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Entity),Exporting:()=>Promise.resolve().then(function(){if(!a.m[396]){var o=new Error("Module '396' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(396)}).then(o=>o.Exporting),ExportingMenu:()=>Promise.resolve().then(function(){if(!a.m[396]){var o=new Error("Module '396' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(396)}).then(o=>o.ExportingMenu),FibonacciSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.FibonacciSeries),FibonacciTimezoneSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.FibonacciTimezoneSeries),Flow:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.Flow),FlowLink:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.FlowLink),FlowNode:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.FlowNode),FlowNodes:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.FlowNodes),ForceDirected:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.ForceDirected),FunnelSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.FunnelSeries),FunnelSlice:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.FunnelSlice),GaplessDateAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.GaplessDateAxis),Gradient:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Gradient),Graphics:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Graphics),GraticuleSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.GraticuleSeries),Grid:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.Grid),GridLayout:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.GridLayout),HeatLegend:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.HeatLegend),Hierarchy:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Hierarchy),HierarchyLink:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.HierarchyLink),HierarchyNode:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.HierarchyNode),HorizontalLayout:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.HorizontalLayout),HorizontalLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.HorizontalLineSeries),HorizontalRaySeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.HorizontalRaySeries),IconControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.IconControl),IconSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.IconSeries),Indicator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Indicator),IndicatorControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.IndicatorControl),InterfaceColors:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.InterfaceColors),IntervalControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.IntervalControl),Label:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Label),LabelSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.LabelSeries),Layout:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Layout),Legend:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Legend),Line:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Line),LinePattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.LinePattern),LineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.LineSeries),LinearGradient:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.LinearGradient),LinkedHierarchy:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.LinkedHierarchy),LinkedHierarchyNode:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.LinkedHierarchyNode),MACD:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MACD),MapChart:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapChart),MapLine:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapLine),MapLineSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapLineSeries),MapPointSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapPointSeries),MapPolygon:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapPolygon),MapPolygonSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapPolygonSeries),MapSeries:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.MapSeries),MedianPrice:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MedianPrice),Modal:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Modal),MovingAverage:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MovingAverage),MovingAverageDeviation:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MovingAverageDeviation),MovingAverageEnvelope:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.MovingAverageEnvelope),OHLC:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.OHLC),OHLCSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.OHLCSeries),OnBalanceVolume:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.OnBalanceVolume),Pack:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Pack),PanelControls:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.PanelControls),Partition:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Partition),PathPattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.PathPattern),Pattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Pattern),PercentChart:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PercentChart),PercentSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PercentSeries),PeriodSelector:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.PeriodSelector),PictorialStackedSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PictorialStackedSeries),Picture:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Picture),PicturePattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.PicturePattern),PieChart:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PieChart),PieSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PieSeries),PointedRectangle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.PointedRectangle),PolylineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.PolylineSeries),PyramidSeries:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.PyramidSeries),QuadrantLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.QuadrantLineSeries),RadarChart:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.RadarChart),RadarColumnSeries:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.RadarColumnSeries),RadarCursor:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.RadarCursor),RadarLineSeries:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.RadarLineSeries),RadialGradient:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RadialGradient),RadialLabel:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RadialLabel),RadialText:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RadialText),Rectangle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Rectangle),RectanglePattern:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RectanglePattern),RectangleSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.RectangleSeries),RegressionSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.RegressionSeries),RelativeStrengthIndex:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.RelativeStrengthIndex),ResetControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ResetControl),RoundedRectangle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.RoundedRectangle),Sankey:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.Sankey),SankeyLink:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.SankeyLink),SankeyNodes:()=>Promise.resolve().then(function(){if(!a.m[7984]){var o=new Error("Module '7984' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(7984)}).then(o=>o.SankeyNodes),Scrollbar:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Scrollbar),SerialChart:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.SerialChart),Series:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Series),SeriesTypeControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.SeriesTypeControl),SettingsControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.SettingsControl),SettingsModal:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.SettingsModal),SimpleLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.SimpleLineSeries),Slice:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Slice),SliceGrouper:()=>Promise.resolve().then(function(){if(!a.m[1790]){var o=new Error("Module '1790' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(1790)}).then(o=>o.SliceGrouper),SlicedChart:()=>Promise.resolve().then(function(){if(!a.m[2536]){var o=new Error("Module '2536' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2536)}).then(o=>o.SlicedChart),Slider:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Slider),SmoothedRadarLineSeries:()=>Promise.resolve().then(function(){if(!a.m[2051]){var o=new Error("Module '2051' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(2051)}).then(o=>o.SmoothedRadarLineSeries),SmoothedXLineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.SmoothedXLineSeries),SmoothedXYLineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.SmoothedXYLineSeries),SmoothedYLineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.SmoothedYLineSeries),Sprite:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Sprite),SpriteResizer:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.SpriteResizer),StandardDeviation:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StandardDeviation),Star:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Star),StepLineSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.StepLineSeries),StochasticOscillator:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StochasticOscillator),StockChart:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockChart),StockControl:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockControl),StockLegend:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockLegend),StockPanel:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockPanel),StockToolbar:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.StockToolbar),Sunburst:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Sunburst),Text:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Text),Tick:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Tick),Tooltip:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Tooltip),Tree:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Tree),Treemap:()=>Promise.resolve().then(function(){if(!a.m[8613]){var o=new Error("Module '8613' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8613)}).then(o=>o.Treemap),TrendLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.TrendLineSeries),Triangle:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.Triangle),Trix:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Trix),TypicalPrice:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.TypicalPrice),VWAP:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.VWAP),ValueAxis:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.ValueAxis),Venn:()=>Promise.resolve().then(function(){if(!a.m[8034]){var o=new Error("Module '8034' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(8034)}).then(o=>o.Venn),VerticalLayout:()=>Promise.resolve().then(function(){if(!a.m[9852]){var o=new Error("Module '9852' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(9852)}).then(o=>o.VerticalLayout),VerticalLineSeries:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.VerticalLineSeries),Volume:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.Volume),WilliamsR:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.WilliamsR),WordCloud:()=>Promise.resolve().then(function(){if(!a.m[6769]){var o=new Error("Module '6769' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6769)}).then(o=>o.WordCloud),XYChart:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.XYChart),XYChartScrollbar:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.XYChartScrollbar),XYCursor:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.XYCursor),XYSeries:()=>Promise.resolve().then(function(){if(!a.m[3955]){var o=new Error("Module '3955' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(3955)}).then(o=>o.XYSeries),ZigZag:()=>Promise.resolve().then(function(){if(!a.m[721]){var o=new Error("Module '721' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(721)}).then(o=>o.ZigZag),ZoomControl:()=>Promise.resolve().then(function(){if(!a.m[6970]){var o=new Error("Module '6970' is not available (weak dependency)");throw o.code="MODULE_NOT_FOUND",o}return a(6970)}).then(o=>o.ZoomControl)};function O(o){return u.isObject(o)}function m(o,B){if("#"===o[0]){const V=o.slice(1);if("#"===o[1])return{isValue:!0,value:V};{const q=V.split(/\./g);let nt=function(yt,ut){let Y=yt.length;for(;Y--;){const tt=yt[Y];if(ut in tt)return tt[ut]}throw new Error("Could not find ref #"+ut)}(B,q[0]);for(let yt=1;yt<q.length;++yt)nt=nt[q[yt]];return{isValue:!0,value:nt}}}return{isValue:!0,value:o}}function A(o,B){B.adapters&&n.each(B.adapters,V=>{o.adapters.add(V.key,V.callback)}),B.properties&&n.each(B.properties,V=>{V(o)}),o instanceof x.W&&B.children&&B.children.forEach(V=>{null==V.index?o.children.push(V.value):o.children.insertIndex(V.index,V.value)})}function P(o,B){if(!B.construct)return B.value;const V=B.construct.new(o,B.settings||{});return A(V,B),V}class D{constructor(){Object.defineProperty(this,"_caching",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_cache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_delayed",{enumerable:!0,configurable:!0,writable:!0,value:[]})}afterParse(){this._delayed.forEach(B=>{B()})}getClass(B){return this._cache[B]}storeClass(B){return(0,h.mG)(this,void 0,void 0,function*(){const V=C[B];this._cache[B]=yield V()})}cacheClass(B){let V=this._caching[B];return null==V&&(V=this._caching[B]=this.storeClass(B)),V}parseAsyncArray(B){return(0,h.mG)(this,void 0,void 0,function*(){yield Promise.all(n.map(B,V=>this.parseAsync(V)))})}parseAsyncObject(B){return(0,h.mG)(this,void 0,void 0,function*(){yield Promise.all(n.map(k.keys(B),V=>this.parseAsync(B[V])))})}parseAsyncRefs(B){return(0,h.mG)(this,void 0,void 0,function*(){u.isArray(B)?yield Promise.all(n.map(B,V=>this.parseAsyncRefs(V))):yield this.parseAsyncObject(B)})}parseAsync(B){return(0,h.mG)(this,void 0,void 0,function*(){u.isArray(B)?yield this.parseAsyncArray(B):O(B)&&("Color"===B.type||"Percent"===B.type||("Template"===B.type?yield Promise.all([B.refs?this.parseAsyncRefs(B.refs):Promise.resolve(void 0),B.settings?this.parseAsyncObject(B.settings):Promise.resolve(void 0)]):!0===B.__parse?yield this.parseAsyncObject(B):yield Promise.all([B.type?this.cacheClass(B.type):Promise.resolve(void 0),B.refs?this.parseAsyncRefs(B.refs):Promise.resolve(void 0),B.settings?this.parseAsyncObject(B.settings):Promise.resolve(void 0),B.properties?this.parseAsyncObject(B.properties):Promise.resolve(void 0),B.children?this.parseAsyncArray(B.children):Promise.resolve(void 0)])))})}parseArray(B,V,q){return n.map(V,nt=>this.parse(B,nt,q))}parseChildren(B,V,q){return n.map(V,nt=>this.parseChild(B,nt,q))}parseSetting(B,V,q,nt){if("layout"===V)switch(q){case"horizontal":return B.horizontalLayout;case"vertical":return B.verticalLayout;case"grid":return B.gridLayout}return this.parse(B,q,nt)}parseSettings(B,V,q){const nt={};return n.each(k.keys(V),yt=>{nt[yt]=this.parseSetting(B,yt,V[yt],q)}),nt}parseProperties(B,V,q){return n.map(k.keys(V),nt=>{const yt=this.parseValue(B,V[nt],q);return ut=>{const Y=()=>{const tt=ut[nt];if(tt&&tt instanceof l.JH){if(yt.isValue)throw new Error("Cannot merge value into Entity");yt.settings&&tt.setAll(yt.settings),A(tt,yt)}else yt.isValue?tt&&u.isArray(yt.value)?n.each(yt.value,wt=>{tt.push(wt)}):ut[nt]=yt.value:ut[nt]=P(B,yt)};"data"===nt?this._delayed.push(Y):Y()}})}parseRefsObject(B,V,q){const nt={};return n.each(k.keys(V),yt=>{nt[yt]=this.parse(B,V[yt],q)}),nt}parseRefs(B,V,q){if(u.isArray(V)){const nt=V.length;for(let yt=0;yt<nt;++yt)q=q.concat([this.parseRefsObject(B,V[yt],q)])}else q=q.concat([this.parseRefsObject(B,V,q)]);return q}parseChild(B,V,q){if(u.isString(V))return{index:void 0,value:m(V,q).value};if(null!=V.ref)return{index:V.index??void 0,value:m(V.ref,q).value};{const nt=this.parseEntity(B,V,q);return{index:nt.index,value:P(B,nt)}}}parseEntity(B,V,q){V.refs&&(q=this.parseRefs(B,V.refs,q));const nt=V.type?this.getClass(V.type):void 0,yt=V.settings?this.parseSettings(B,V.settings,q):void 0,ut=V.properties?this.parseProperties(B,V.properties,q):void 0,Y=V.children?this.parseChildren(B,V.children,q):void 0;return{isValue:!1,type:V.type,construct:nt,settings:yt,adapters:V.adapters,children:Y,properties:ut,index:V.index??void 0,value:V}}parseValue(B,V,q){if(V instanceof l.JH)return{isValue:!0,value:V};if(u.isArray(V))return{isValue:!0,value:this.parseArray(B,V,q)};if(O(V)){if("Color"===V.type)return{isValue:!0,value:T.Il.fromAny(V.value)};if("Percent"===V.type)return{isValue:!0,value:new b.gG(V.value)};if("Template"===V.type){V.refs&&(q=this.parseRefs(B,V.refs,q));const nt=V.settings?this.parseSettings(B,V.settings,q):{};return{isValue:!0,value:I.YS.new(nt)}}return!0===V.__parse?{isValue:!0,value:this.parseSettings(B,V,q)}:this.parseEntity(B,V,q)}return u.isString(V)?m(V,q):{isValue:!0,value:V}}parse(B,V,q){const nt=this.parseValue(B,V,q);return nt.isValue?nt.value:P(B,nt)}}class f{constructor(B,V){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!V)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=B}static new(B){return new this(B,!0)}parse(B,V={}){return(0,h.mG)(this,void 0,void 0,function*(){const q=new D;yield q.parseAsync(B);const nt=q.parse(this._root,B,[]);if(V.parent){if(!(nt instanceof p.j))throw new Error("When using the parent setting, the entity must be a Sprite");V.parent.children.push(nt)}return q.afterParse(),nt})}parseString(B,V={}){return(0,h.mG)(this,void 0,void 0,function*(){return yield this.parse(JSON.parse(B),V)})}}},6890:function(R,E,a){"use strict";a.d(E,{e:function(){return n}});var h=a(6331),l=a(9361),p=a(1112),x=a(6245),T=a(5769),b=a(5040),I=a(5071),u=a(256);class n extends h.JH{constructor(){super(...arguments),Object.defineProperty(this,"_refs",{enumerable:!0,configurable:!0,writable:!0,value:{}})}serialize(C,O=0,m=!1){if(O>this.get("maxDepth",2))return;if(!1===C||!0===C)return C;if(b.isArray(C)){const P=[];return I.each(C,D=>{P.push(this.serialize(D,O,m))}),P}const A={};if(C instanceof h.JH){A.type=C.className;let P=u.keys(C._settings);const D=this.get("includeSettings",[]),f=this.get("excludeSettings",[]);D.length?P=D:f.length&&(P=P.filter(o=>-1===f.indexOf(o))),P=P.filter(o=>C.isUserSetting(o)),P.length&&(A.settings={},I.each(P,o=>{A.settings[o]=this.serialize(C.get(o),O+1,m)}))}else if(C instanceof T.YS){A.type="Template";let P=u.keys(C._settings);return P.length&&(A.settings={},I.each(P,D=>{A.settings[D]=this.serialize(C.get(D),O+1)})),A}return C instanceof l.w&&C.data.length&&(A.properties={data:this.serialize(C.data.values,1,!0)}),C instanceof p.Il?{type:"Color",value:C.toCSSHex()}:C instanceof x.gG?{type:"Percent",value:C.percent}:b.isString(C)||b.isNumber(C)?C:(b.isObject(C)&&m&&u.each(C,(P,D)=>{A[P]=this.serialize(D,O+1,m)}),0==O&&u.keys(this._refs).length&&(A.refs=this._refs),A)}}Object.defineProperty(n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Serializer"}),Object.defineProperty(n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([n.className])})},3783:function(R,E,a){"use strict";a.d(E,{X:function(){return I},v:function(){return b}});var h=a(3409),l=a(6245),p=a(1112),x=a(6881),T=a(9395);function b(u,n,k,C){u.set(n,k.get(C)),k.on(C,O=>{u.set(n,O)})}class I extends h.Q{setupDefaultRules(){super.setupDefaultRules();const n=this._root.language,k=this._root.interfaceColors,C=this._root.horizontalLayout,O=this._root.verticalLayout,m=this.rule.bind(this);m("InterfaceColors").setAll({stroke:p.Il.fromHex(15066597),fill:p.Il.fromHex(15987699),primaryButton:p.Il.fromHex(6788316),primaryButtonHover:p.Il.fromHex(6779356),primaryButtonDown:p.Il.fromHex(6872182),primaryButtonActive:p.Il.fromHex(6872182),primaryButtonText:p.Il.fromHex(16777215),primaryButtonStroke:p.Il.fromHex(16777215),secondaryButton:p.Il.fromHex(14277081),secondaryButtonHover:p.Il.fromHex(10724259),secondaryButtonDown:p.Il.fromHex(9276813),secondaryButtonActive:p.Il.fromHex(15132390),secondaryButtonText:p.Il.fromHex(0),secondaryButtonStroke:p.Il.fromHex(16777215),grid:p.Il.fromHex(0),background:p.Il.fromHex(16777215),alternativeBackground:p.Il.fromHex(0),text:p.Il.fromHex(0),alternativeText:p.Il.fromHex(16777215),disabled:p.Il.fromHex(11382189),positive:p.Il.fromHex(5288704),negative:p.Il.fromHex(11730944)});{const A=m("ColorSet");A.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[p.Il.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),A.setPrivate("currentStep",0),A.setPrivate("currentPass",0)}m("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:T.out(T.cubic)}),m("Component").setAll({interpolationDuration:0,interpolationEasing:T.out(T.cubic)}),m("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:l.CI,tooltipY:l.CI,tooltipPosition:"fixed",isMeasured:!0}),m("Sprite").states.create("default",{visible:!0,opacity:1}),m("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),m("Graphics").setAll({strokeWidth:1}),m("Chart").setAll({width:l.AQ,height:l.AQ,interactiveChildren:!1}),m("Sprite",["horizontal","center"]).setAll({centerX:l.CI,x:l.CI}),m("Sprite",["vertical","center"]).setAll({centerY:l.CI,y:l.CI}),m("Container",["horizontal","layout"]).setAll({layout:C}),m("Container",["vertical","layout"]).setAll({layout:O}),m("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),m("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),m("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),m("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),m("LinearGradient").setAll({rotation:90}),m("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:x.M.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),m("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:C,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:n.translate("Press ENTER to toggle"),role:"checkbox"});{const A=m("Rectangle",["legend","item","background"]);A.setAll({fillOpacity:0}),b(A,"fill",k,"background")}m("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:l.CI,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),m("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:l.AQ,height:l.AQ,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const A=m("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});b(A,"fill",k,"disabled"),b(A,"stroke",k,"disabled")}m("Label",["legend","label"]).setAll({centerY:l.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),b(m("Label",["legend","label"]).states.create("disabled",{}),"fill",k,"disabled"),m("Label",["legend","value","label"]).setAll({centerY:l.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:l.AQ,populateText:!0}),b(m("Label",["legend","value","label"]).states.create("disabled",{}),"fill",k,"disabled"),m("HeatLegend").setAll({stepCount:1}),m("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),m("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:l.AQ,width:15}),m("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:l.AQ,height:15}),m("HeatLegend",["vertical"]).setAll({height:l.AQ}),m("HeatLegend",["horizontal"]).setAll({width:l.AQ}),m("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),m("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const A=m("Label");A.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),b(A,"fill",k,"text")}m("RadialLabel").setAll({textType:"regular",centerY:l.CI,centerX:l.CI,inside:!1,radius:0,baseRadius:l.AQ,orientation:"auto",textAlign:"center"}),m("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),m("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),m("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const A=m("Tick");A.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute"}),b(A,"stroke",k,"grid")}m("Bullet").setAll({locationX:.5,locationY:.5}),m("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:l.CI,centerY:l.CI,animationEasing:T.out(T.cubic),exportable:!1}),m("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:p.Il.fromHex(16777215)});{const A=m("Label",["tooltip"]);A.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),b(A,"fill",k,"alternativeText")}m("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:C,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),m("Button").states.create("hover",{}),m("Button").states.create("down",{stateAnimationDuration:0}),m("Button").states.create("active",{});{const A=m("RoundedRectangle",["button","background"]);b(A,"fill",k,"primaryButton"),b(A,"stroke",k,"primaryButtonStroke")}b(m("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",k,"primaryButtonHover"),b(m("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",k,"primaryButtonDown"),b(m("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",k,"primaryButtonActive"),b(m("Graphics",["button","icon"]),"stroke",k,"primaryButtonText"),b(m("Label",["button"]),"fill",k,"primaryButtonText"),m("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:l.AQ,role:"button",ariaLabel:n.translate("Zoom Out"),layer:30});{const A=m("RoundedRectangle",["background","button","zoom"]);A.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),b(A,"fill",k,"primaryButton")}b(m("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",k,"primaryButtonHover"),b(m("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",k,"primaryButtonDown");{const A=m("Graphics",["icon","button","zoom"]);A.setAll({crisp:!0,strokeOpacity:.7,draw:P=>{P.moveTo(0,0),P.lineTo(12,0)}}),b(A,"stroke",k,"primaryButtonText")}m("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:l.CI,centerY:l.CI,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:n.translate("Use up and down arrows to move selection")});{const A=m("RoundedRectangle",["background","resize","button"]);A.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),b(A,"fill",k,"secondaryButton"),b(A,"stroke",k,"secondaryButtonStroke")}b(m("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",k,"secondaryButtonHover"),b(m("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",k,"secondaryButtonDown");{const A=m("Graphics",["resize","button","icon"]);A.setAll({crisp:!0,strokeOpacity:.5,draw:P=>{P.moveTo(0,.5),P.lineTo(0,12.5),P.moveTo(4,.5),P.lineTo(4,12.5)}}),b(A,"stroke",k,"secondaryButtonText")}m("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),m("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),m("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:n.translate("Play"),toggleKey:"active"});{const A=m("RoundedRectangle",["play","background"]);A.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),b(A,"fill",k,"primaryButton")}{const A=m("Graphics",["play","icon"]);A.setAll({stateAnimationDuration:0,dx:1,draw:P=>{P.moveTo(0,-5),P.lineTo(8,0),P.lineTo(0,5),P.lineTo(0,-5)}}),b(A,"fill",k,"primaryButtonText")}m("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),m("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:A=>{A.moveTo(-4,-5),A.lineTo(-1,-5),A.lineTo(-1,5),A.lineTo(-4,5),A.lineTo(-4,-5),A.moveTo(4,-5),A.lineTo(1,-5),A.lineTo(1,5),A.lineTo(4,5),A.lineTo(4,-5)}}),m("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:n.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const A=m("RoundedRectangle",["switch","background"]);A.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),b(A,"fill",k,"primaryButton")}{const A=m("Circle",["switch","icon"]);A.setAll({radius:8,centerY:0,centerX:0,dx:0}),b(A,"fill",k,"primaryButtonText")}m("Graphics",["switch","icon"]).states.create("active",{dx:16}),m("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:T.out(T.cubic)}),m("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:l.AQ}),m("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:l.AQ}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const A=m("RoundedRectangle",["scrollbar","main","background"]);A.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),b(A,"fill",k,"fill")}{const A=m("RoundedRectangle",["scrollbar","thumb"]);A.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),b(A,"fill",k,"secondaryButton")}b(m("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",k,"secondaryButtonHover"),b(m("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",k,"secondaryButtonDown"),m("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:l.CI,width:l.AQ,centerX:l.CI,ariaLabel:n.translate("Use up and down arrows to move selection")}),m("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:l.CI,centerY:l.CI,height:l.AQ,ariaLabel:n.translate("Use left and right arrows to move selection")});{const A=m("PointedRectangle",["axis","tooltip","background"]);A.setAll({cornerRadius:0}),b(A,"fill",k,"alternativeBackground")}m("Label",["axis","tooltip"]).setAll({role:void 0}),m("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),m("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),m("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),m("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),m("Star").setAll({spikes:5,innerRadius:5,radius:10}),m("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),m("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),m("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),m("SpriteResizer").setAll({rotationStep:10}),m("Container",["resizer","grip"]).states.create("hover",{});{const A=m("RoundedRectangle",["resizer","grip"]);A.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),b(A,"fill",k,"background"),b(A,"stroke",k,"alternativeBackground")}{const A=m("RoundedRectangle",["resizer","grip","outline"]);A.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),A.states.create("hover",{fillOpacity:.3}),b(A,"fill",k,"alternativeBackground")}m("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),m("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const A=m("Rectangle",["resizer","rectangle"]);A.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),b(A,"stroke",k,"alternativeBackground")}}}},9852:function(R,E,a){"use strict";a.r(E),a.d(E,{ArrayDisposer:function(){return u.rk},Bullet:function(){return n.g},Button:function(){return k.z},CSVParser:function(){return Dt},Chart:function(){return de.k},Circle:function(){return C.C},CirclePattern:function(){return Si},Color:function(){return yt.Il},ColorSet:function(){return Ai.U},Component:function(){return P.w},Container:function(){return D.W},CounterDisposer:function(){return u.DM},DataItem:function(){return P.z},DataProcessor:function(){return Jt},DateFormatter:function(){return he.C},Disposer:function(){return u.ku},DurationFormatter:function(){return Te.$},Ellipse:function(){return O.P},Entity:function(){return I.JH},Gradient:function(){return ve.p},Graphics:function(){return m.T},GridLayout:function(){return f.M},HeatLegend:function(){return wt},HorizontalLayout:function(){return St.G},InterfaceColors:function(){return Fe.v},JSONParser:function(){return lt},JsonData:function(){return ke.Q},Label:function(){return o._},Layout:function(){return At.A},Legend:function(){return ht.D},Line:function(){return mt.x},LinePattern:function(){return bi},LinearGradient:function(){return Y.o},ListData:function(){return ke.k},Modal:function(){return b.u},MultiDisposer:function(){return u.FV},MutableValueDisposer:function(){return u.cx},NumberFormatter:function(){return Ci.e},PathPattern:function(){return Pi},Pattern:function(){return $e.c},Percent:function(){return B.gG},Picture:function(){return dt.t},PicturePattern:function(){return ji.v},PointedRectangle:function(){return Lt.i},RadialGradient:function(){return We},RadialLabel:function(){return Ct.x},RadialText:function(){return vt.f},Rectangle:function(){return kt.A},RectanglePattern:function(){return ui},Root:function(){return l.f},RoundedRectangle:function(){return V.c},Scrollbar:function(){return Xt.L},SerialChart:function(){return re.j},Series:function(){return te.F},Slice:function(){return qt.p},Slider:function(){return Ft},Sprite:function(){return ae.j},SpriteResizer:function(){return Ri.b},Star:function(){return A},Template:function(){return q.YS},Text:function(){return Ut.x},TextFormatter:function(){return Hi.V},Theme:function(){return p.Q},Tick:function(){return Vt.d},Timezone:function(){return me.r},Tooltip:function(){return ut.u},Triangle:function(){return Rt},VerticalLayout:function(){return ue.Z},addLicense:function(){return x.cP},array:function(){return le},color:function(){return yt.$_},disposeAllRootElements:function(){return x.UZ},ease:function(){return nn},math:function(){return Li},net:function(){return h},object:function(){return di},p0:function(){return B.p0},p100:function(){return B.AQ},p50:function(){return B.CI},percent:function(){return B.aQ},ready:function(){return T.ready},registry:function(){return x.i_},time:function(){return Gn},type:function(){return tt},utils:function(){return T}});var h={};a.r(h),a.d(h,{load:function(){return gn},readBlob:function(){return Hn}});var l=a(6493),p=a(3409),x=a(3145),T=a(7652),b=a(8219),I=a(6331),u=a(7449),n=a(5108),k=a(8054),C=a(8035),O=a(2433),m=a(1479);class A extends m.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("spikes"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const ci=this._display,mi=this.get("radius",0),yi=T.relativeToValue(this.get("innerRadius",0),mi),$i=this.get("spikes",0),rn=Math.PI/$i;let Yi=Math.PI/2*3;ci.moveTo(0,-mi);for(let Cn=0;Cn<$i;Cn++)ci.lineTo(Math.cos(Yi)*mi,Math.sin(Yi)*mi),Yi+=rn,ci.lineTo(Math.cos(Yi)*yi,Math.sin(Yi)*yi),Yi+=rn;ci.lineTo(0,-mi),ci.closePath()}}}Object.defineProperty(A,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Star"}),Object.defineProperty(A,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:m.T.classNames.concat([A.className])});var P=a(9361),D=a(8777),f=a(6881),o=a(962),B=a(6245),V=a(3497),q=a(5769),nt=a(7144),yt=a(1112),ut=a(2876),Y=a(1747),tt=a(5040);class wt extends D.W{constructor(){super(...arguments),Object.defineProperty(this,"labelContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(D.W.new(this._root,{}))}),Object.defineProperty(this,"markerContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(D.W.new(this._root,{}))}),Object.defineProperty(this,"startLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(o._.new(this._root,{themeTags:["start"]}))}),Object.defineProperty(this,"endLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(o._.new(this._root,{themeTags:["end"]}))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new nt.o(q.YS.new({}),()=>V.c._new(this._root,{themeTags:T.mergeTags(this.markers.template.get("themeTags",[]),[this.get("orientation"),"heatlegend","marker"])},[this.markers.template]))})}_afterNew(){this._settings.themeTags=T.mergeTags(this._settings.themeTags,["heatlegend",this._settings.orientation]),super._afterNew(),this.set("tooltip",ut.u.new(this._root,{themeTags:["heatlegend"]}))}makeMarker(){const ci=this.markers.make();return ci.states.create("disabled",{}),ci}showValue(ci,mi,yi){const $i=this.getTooltip();if($i&&tt.isNumber(ci)){const rn=this.get("startValue",0),Yi=(ci-rn)/(this.get("endValue",1)-rn),Cn=this.get("startColor"),Gi=this.get("endColor");let Qe;mi||(mi=this.getNumberFormatter().format(ci)),yi||(yi=yt.Il.interpolate(Yi,Cn,Gi)),$i.label.set("text",mi),Qe="vertical"==this.get("orientation")?this.markerContainer.toGlobal({x:0,y:this.innerHeight()*(1-Yi)}):this.markerContainer.toGlobal({x:this.innerWidth()*Yi,y:0});let K=$i.get("background");K&&K.set("fill",yt.Il.interpolate(Yi,Cn,Gi)),$i.set("pointTo",Qe),$i.show()}}_prepareChildren(){super._prepareChildren();const ci=this.labelContainer,mi=this.get("orientation"),yi=this.startLabel,$i=this.endLabel,rn=this.getTooltip();if(this.isDirty("orientation")&&("vertical"==mi?(this.markerContainer.setAll({layout:this._root.verticalLayout,height:B.AQ}),this.set("layout",this._root.horizontalLayout),yi.setAll({y:B.AQ,x:void 0,centerY:B.AQ,centerX:B.AQ}),$i.setAll({y:0,x:void 0,centerY:0,centerX:B.AQ}),ci.setAll({height:B.AQ,width:void 0}),rn&&rn.set("pointerOrientation","horizontal")):(this.markerContainer.setAll({layout:this._root.horizontalLayout,width:B.AQ}),this.set("layout",this._root.verticalLayout),yi.setAll({x:0,y:void 0,centerX:0,centerY:0}),$i.setAll({x:B.AQ,y:void 0,centerX:B.AQ,centerY:0}),ci.setAll({width:B.AQ,height:void 0}),rn&&rn.set("pointerOrientation","vertical"))),this.isDirty("stepCount")){const Yi=this.get("stepCount",1),Cn=this.get("startColor"),Gi=this.get("endColor");if(this.markerContainer.children.clear(),Yi>1)for(let Qe=0;Qe<Yi;Qe++){const K=this.makeMarker();"vertical"==mi?this.markerContainer.children.moveValue(K,0):this.markerContainer.children.push(K),Cn&&Gi&&K.set("fill",yt.Il.interpolate(Qe/Yi,Cn,Gi))}else if(1==Yi){const Qe=this.makeMarker();this.markerContainer.children.push(Qe);const K=Y.o.new(this._root,{stops:[{color:Cn},{color:Gi}]});if("vertical"==mi){K.set("rotation",90);let it=K.get("stops");it&&it.reverse()}else K.set("rotation",0);Cn&&Gi&&Qe.set("fillGradient",K)}}(this.isDirty("startText")||this.isDirty("startValue"))&&yi.set("text",this.get("startText",this.getNumberFormatter().format(this.get("startValue",0)))),(this.isDirty("endText")||this.isDirty("endValue"))&&$i.set("text",this.get("endText",this.getNumberFormatter().format(this.get("endValue",1))))}}Object.defineProperty(wt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HeatLegend"}),Object.defineProperty(wt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:D.W.classNames.concat([wt.className])});var St=a(4431),At=a(2010),ht=a(3105),mt=a(2077),dt=a(5021),Lt=a(8931),Ct=a(815),vt=a(4244),kt=a(7142);class Rt extends m.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){const ci=this.width(),mi=this.height(),yi=this._display;yi.moveTo(-ci/2,mi/2),yi.lineTo(0,-mi/2),yi.lineTo(ci/2,mi/2),yi.lineTo(-ci/2,mi/2),yi.closePath()}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(Rt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Triangle"}),Object.defineProperty(Rt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:m.T.classNames.concat([Rt.className])});var Xt=a(6001);class Ft extends Xt.L{_afterNew(){this._addOrientationClass(),super._afterNew(),this.endGrip.setPrivate("visible",!1),this.thumb.setPrivate("visible",!1)}updateGrips(){super.updateGrips();const ci=this.startGrip;this.endGrip.setAll({x:ci.x(),y:ci.y()}),this.setRaw("end",this.get("start"))}}Object.defineProperty(Ft,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slider"}),Object.defineProperty(Ft,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Xt.L.classNames.concat([Ft.className])});var qt=a(5863),ae=a(4596),te=a(3399),de=a(1337),re=a(5829),Ut=a(2036),Vt=a(2438),ue=a(1706),me=a(462),ve=a(1437),le=a(5071);class We extends ve.p{getFill(ci){const mi=this.getBounds(ci);let yi=0,$i=0;const Gi=(mi.right||0)-(mi.left||0),Qe=(mi.bottom||0)-(mi.top||0);let K=ci.get("radius");tt.isNumber(K)?(yi=0,$i=0):(K=Math.min(Gi,Qe)/2,yi=Gi/2,$i=Qe/2);let it=this.get("x"),gt=this.get("y");null!=it&&(yi=T.relativeToValue(it,Gi)),null!=gt&&($i=T.relativeToValue(gt,Qe));const Pt=this._root._renderer.createRadialGradient(yi,$i,0,yi,$i,K),jt=this.get("stops");if(jt){let Kt=0;le.each(jt,se=>{let ie=se.offset;tt.isNumber(ie)||(ie=Kt/(jt.length-1));let fe=se.opacity;tt.isNumber(fe)||(fe=1);let He=se.color;if(He){const Ge=se.lighten;Ge&&(He=yt.Il.lighten(He,Ge));const ai=se.brighten;ai&&(He=yt.Il.brighten(He,ai)),Pt.addColorStop(ie,"rgba("+He.r+","+He.g+","+He.b+","+fe+")")}Kt++})}return Pt}}Object.defineProperty(We,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialGradient"}),Object.defineProperty(We,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ve.p.classNames.concat([We.className])});var $e=a(3437),Li=a(751);class Si extends $e.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const ci=this.get("checkered",!1),mi=this.get("centered",!0),yi=this.get("gap",0),$i=this.get("rotation",0);let rn=this.get("width",100),Yi=this.get("height",100),Cn=this.get("radius",3),Gi=2*Cn+yi,Qe=2*Cn+yi,K=Math.round(rn/Gi),it=Math.round(Yi/Qe);Gi=rn/K,Qe=Yi/it,0!=$i&&(this._display.x=Gi*Li.cos($i),this._display.y=Qe*Li.sin($i));const gt=this.get("color"),Pt=this.get("colorOpacity");(gt||Pt)&&this._display.beginFill(gt,Pt);for(let jt=0==$i?0:2*-it;jt<2*it;jt++)for(let Kt=0==$i?0:2*-K;Kt<2*K;Kt++)if(!ci||1!=(1&jt)&&1!=(1&Kt)||1==(1&jt)&&1==(1&Kt)){let se=Kt*Gi,ie=jt*Qe;mi&&(se+=Gi+yi/2,ie+=Qe+yi/2),this._display.drawCircle(se-Cn,ie-Cn,Cn)}ci?(rn=rn/2-2*yi,Yi=Yi/2-2*yi):(rn-=yi,Yi-=yi),(gt||Pt)&&this._display.endFill()}}Object.defineProperty(Si,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CirclePattern"}),Object.defineProperty(Si,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$e.c.classNames.concat([Si.className])});class bi extends $e.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const ci=this.get("width",100),mi=this.get("height",100),yi=this.get("gap",0),$i=this.get("strokeWidth",1);if(yi){let Cn=yi+$i,Gi=mi/Cn;for(let Qe=-Gi;Qe<2*Gi;Qe++){const K=Math.round(Qe*Cn-Cn/2)+.5;this._display.moveTo(-ci,K),this._display.lineTo(2*ci,K)}}else this._display.moveTo(0,0),this._display.lineTo(ci,0);this._display.lineStyle($i,this.get("color"),this.get("colorOpacity"));let rn=this.get("strokeDasharray");tt.isNumber(rn)&&(rn=rn<.5?[0]:[rn]),this._display.setLineDash(rn);const Yi=this.get("strokeDashoffset");Yi&&this._display.setLineDashOffset(Yi),this._display.endStroke()}}Object.defineProperty(bi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"}),Object.defineProperty(bi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$e.c.classNames.concat([bi.className])});var ji=a(4429);class ui extends $e.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const ci=this.get("checkered",!1),mi=this.get("centered",!0),yi=this.get("gap",0),$i=this.get("rotation",0);let rn=this.get("width",100),Yi=this.get("height",100),Cn=this.get("maxWidth",5),Gi=this.get("maxHeight",5),Qe=Cn+yi,K=Gi+yi,it=Math.round(rn/Qe),gt=Math.round(Yi/K);Qe=rn/it,K=Yi/gt,0!=$i&&(this._display.x=Qe/2*Li.cos($i),this._display.y=-K/2*Li.sin($i));for(let Kt=0==$i?0:2*-gt;Kt<2*gt;Kt++)for(let se=0==$i?0:2*-it;se<2*it;se++)if(!ci||1!=(1&Kt)&&1!=(1&se)||1==(1&Kt)&&1==(1&se)){let ie=se*Qe,fe=Kt*K;mi&&(ie+=(Qe-Cn)/2,fe+=(K-Gi)/2),this._display.drawRect(ie,fe,Cn,Gi)}ci?(rn=rn/2-2*yi,Yi=Yi/2-2*yi):(rn-=yi,Yi-=yi);const Pt=this.get("color"),jt=this.get("colorOpacity");(Pt||jt)&&(this._display.beginFill(Pt,jt),this._display.endFill())}}Object.defineProperty(ui,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectanglePattern"}),Object.defineProperty(ui,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$e.c.classNames.concat([ui.className])});class Pi extends $e.c{_beforeChanged(){super._beforeChanged(),this.isDirty("svgPath")&&(this._clear=!0)}_draw(){super._draw();const ci=this.get("svgPath");null!=ci&&this._display.svgPath(ci);const mi=this.get("color"),yi=this.get("colorOpacity");(mi||yi)&&(this._display.beginFill(mi,yi),this._display.endFill())}}Object.defineProperty(Pi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PathPattern"}),Object.defineProperty(Pi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$e.c.classNames.concat([Pi.className])});var Ai=a(2754),ke=a(9582),di=a(256);class lt{static parse(ci,mi){mi=this._applyDefaults(mi);try{if(tt.isString(ci)){let yi=JSON.parse(ci);return mi.reverse&&tt.isArray(yi)&&yi.reverse(),yi}if(tt.isArray(ci)||tt.isObject(ci))return ci;throw"Unable to parse JSON data"}catch{return}}static _applyDefaults(ci){const mi={};return ci||(ci={}),di.each({reverse:!1},(yi,$i)=>{mi[yi]=ci[yi]||$i}),mi}}class Dt{static parse(ci,mi){mi=this._applyDefaults(mi);let yi,$i,rn,Yi=this.CSVToArray(ci,mi.delimiter),Cn=[],Gi=[];for($i=0;$i<mi.skipRows;$i++)Yi.shift();if(mi.useColumnNames){Gi=Yi.shift();for(let Qe=0;Qe<Gi.length;Qe++)yi=null!=Gi[Qe]?Gi[Qe].replace(/^\s+|\s+$/gm,""):"",""===yi&&(yi="col"+Qe),Gi[Qe]=yi}for(;rn=mi.reverse?Yi.pop():Yi.shift(),rn;){if(mi.skipEmpty&&1===rn.length&&""===rn[0])continue;let Qe={};for($i=0;$i<rn.length;$i++)yi=void 0===Gi[$i]?"col"+$i:Gi[$i],Qe[yi]=rn[$i];Cn.push(Qe)}return Cn}static CSVToArray(ci,mi){mi=mi||",";let yi=new RegExp("(\\"+mi+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+mi+"\\r\\n]*))","gi"),$i=[[]],rn=null;for(;rn=yi.exec(ci),rn;){let Yi,Cn=rn[1];Cn.length&&Cn!==mi&&$i.push([]),Yi=rn[2]?rn[2].replace(new RegExp('""',"g"),'"'):rn[3],$i[$i.length-1].push(Yi)}return $i}static _applyDefaults(ci){const mi={};return ci||(ci={}),di.each({delimiter:",",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},(yi,$i)=>{mi[yi]=ci[yi]||$i}),mi}}class Jt extends I.JH{constructor(){super(...arguments),Object.defineProperty(this,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=null!=this.get("emptyAs")),this._checkDeepFeatures()}_checkDeepFeatures(){const ci=[];le.each(["dateFields","numericFields","colorFields"],mi=>{le.each(this.get(mi,[]),yi=>{const $i=yi.split(".");for($i.pop();$i.length>0;)ci.push($i.join(".")),$i.pop()})}),this._checkDeep=ci.length>0,this.setPrivate("deepFields",ci)}processMany(ci){tt.isArray(ci)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&le.each(ci,mi=>{this.processRow(mi)})}processRow(ci,mi=""){di.each(ci,(yi,$i)=>{const rn=mi+yi;this._checkEmpty&&(ci[yi]=this._maybeToEmpty(ci[yi])),this._checkNumbers&&(ci[yi]=this._maybeToNumber(rn,ci[yi])),this._checkDates&&(ci[yi]=this._maybeToDate(rn,ci[yi])),this._checkColors&&(ci[yi]=this._maybeToColor(rn,ci[yi])),this._checkDeep&&-1!==this.getPrivate("deepFields",[]).indexOf(rn)&&tt.isObject(ci[yi])&&this.processRow(ci[yi],rn+".")})}_maybeToNumber(ci,mi){return-1!==this.get("numericFields").indexOf(ci)?tt.toNumber(mi):mi}_maybeToDate(ci,mi){return-1!==this.get("dateFields").indexOf(ci)?this._root.dateFormatter.parse(mi,this.get("dateFormat","")).getTime():mi}_maybeToEmpty(ci){return null!=ci&&""!=ci||null==this.get("emptyAs")?ci:this.get("emptyAs")}_maybeToColor(ci,mi){return-1!==this.get("colorFields").indexOf(ci)?yt.Il.fromAny(mi):mi}}var he=a(6460),Te=a(798),Fe=a(9821),Ci=a(780),Hi=a(7255),Ri=a(1195),nn=a(9395);function gn(Ji,ci,mi){return new Promise((yi,$i)=>{let rn=null!=mi&&"blob"==mi.responseType,Yi=new XMLHttpRequest;if(Yi.onload=()=>{if(200===Yi.status){let Cn,Gi;if(rn)return Gi=Yi.response,void Hn(Gi).then(K=>{let it={xhr:Yi,error:!1,response:K,blob:Gi,type:Yi.getResponseHeader("Content-Type"),target:ci};yi(it)});Cn=Yi.responseText||Yi.response;let Qe={xhr:Yi,error:!1,response:Cn,blob:Gi,type:Yi.getResponseHeader("Content-Type"),target:ci};yi(Qe)}else $i({xhr:Yi,error:!0,type:Yi.getResponseHeader("Content-Type"),target:ci})},Yi.onerror=()=>{$i({xhr:Yi,error:!0,type:Yi.getResponseHeader("Content-Type"),target:ci})},Yi.open("GET",Ji,!0),mi&&mi.withCredentials&&(Yi.withCredentials=!0),null!=mi){if(null!=mi.requestHeaders)for(let Cn=0;Cn<mi.requestHeaders.length;Cn++){let Gi=mi.requestHeaders[Cn];Yi.setRequestHeader(Gi.key,Gi.value)}null!=mi.responseType&&(Yi.responseType=mi.responseType)}Yi.send()})}function Hn(Ji){return new Promise((ci,mi)=>{const yi=new FileReader;yi.onload=$i=>{ci(yi.result)},yi.onerror=$i=>{mi($i)},yi.readAsText(Ji)})}var Gn=a(1926)},3100:function(R,E){"use strict";E.Z={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\xce\xbc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(a){let h="th";if(a<11||a>13)switch(a%10){case 1:h="st";break;case 2:h="nd";break;case 3:h="rd"}return h},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""}},9629:function(R){var E=function(a){"use strict";var h,l=Object.prototype,p=l.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},T=x.iterator||"@@iterator",b=x.asyncIterator||"@@asyncIterator",I=x.toStringTag||"@@toStringTag";function u(mt,dt,Lt){return Object.defineProperty(mt,dt,{value:Lt,enumerable:!0,configurable:!0,writable:!0}),mt[dt]}try{u({},"")}catch{u=function(dt,Lt,Ct){return dt[Lt]=Ct}}function n(mt,dt,Lt,Ct){var Xt,Ft,qt,ae,kt=Object.create((dt&&dt.prototype instanceof D?dt:D).prototype),Rt=new St(Ct||[]);return kt._invoke=(Xt=mt,Ft=Lt,qt=Rt,ae=C,function(te,de){if(ae===m)throw new Error("Generator is already running");if(ae===A){if("throw"===te)throw de;return ht()}for(qt.method=te,qt.arg=de;;){var re=qt.delegate;if(re){var Ut=Y(re,qt);if(Ut){if(Ut===P)continue;return Ut}}if("next"===qt.method)qt.sent=qt._sent=qt.arg;else if("throw"===qt.method){if(ae===C)throw ae=A,qt.arg;qt.dispatchException(qt.arg)}else"return"===qt.method&&qt.abrupt("return",qt.arg);ae=m;var Vt=k(Xt,Ft,qt);if("normal"===Vt.type){if(ae=qt.done?A:O,Vt.arg===P)continue;return{value:Vt.arg,done:qt.done}}"throw"===Vt.type&&(ae=A,qt.method="throw",qt.arg=Vt.arg)}}),kt}function k(mt,dt,Lt){try{return{type:"normal",arg:mt.call(dt,Lt)}}catch(Ct){return{type:"throw",arg:Ct}}}a.wrap=n;var C="suspendedStart",O="suspendedYield",m="executing",A="completed",P={};function D(){}function f(){}function o(){}var B={};u(B,T,function(){return this});var V=Object.getPrototypeOf,q=V&&V(V(At([])));q&&q!==l&&p.call(q,T)&&(B=q);var nt=o.prototype=D.prototype=Object.create(B);function yt(mt){["next","throw","return"].forEach(function(dt){u(mt,dt,function(Lt){return this._invoke(dt,Lt)})})}function ut(mt,dt){function Lt(vt,kt,Rt,Xt){var Ft=k(mt[vt],mt,kt);if("throw"!==Ft.type){var qt=Ft.arg,ae=qt.value;return ae&&"object"==typeof ae&&p.call(ae,"__await")?dt.resolve(ae.__await).then(function(te){Lt("next",te,Rt,Xt)},function(te){Lt("throw",te,Rt,Xt)}):dt.resolve(ae).then(function(te){qt.value=te,Rt(qt)},function(te){return Lt("throw",te,Rt,Xt)})}Xt(Ft.arg)}var Ct;this._invoke=function(vt,kt){function Rt(){return new dt(function(Xt,Ft){Lt(vt,kt,Xt,Ft)})}return Ct=Ct?Ct.then(Rt,Rt):Rt()}}function Y(mt,dt){var Lt=mt.iterator[dt.method];if(Lt===h){if(dt.delegate=null,"throw"===dt.method){if(mt.iterator.return&&(dt.method="return",dt.arg=h,Y(mt,dt),"throw"===dt.method))return P;dt.method="throw",dt.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var Ct=k(Lt,mt.iterator,dt.arg);if("throw"===Ct.type)return dt.method="throw",dt.arg=Ct.arg,dt.delegate=null,P;var vt=Ct.arg;return vt?vt.done?(dt[mt.resultName]=vt.value,dt.next=mt.nextLoc,"return"!==dt.method&&(dt.method="next",dt.arg=h),dt.delegate=null,P):vt:(dt.method="throw",dt.arg=new TypeError("iterator result is not an object"),dt.delegate=null,P)}function tt(mt){var dt={tryLoc:mt[0]};1 in mt&&(dt.catchLoc=mt[1]),2 in mt&&(dt.finallyLoc=mt[2],dt.afterLoc=mt[3]),this.tryEntries.push(dt)}function wt(mt){var dt=mt.completion||{};dt.type="normal",delete dt.arg,mt.completion=dt}function St(mt){this.tryEntries=[{tryLoc:"root"}],mt.forEach(tt,this),this.reset(!0)}function At(mt){if(mt){var dt=mt[T];if(dt)return dt.call(mt);if("function"==typeof mt.next)return mt;if(!isNaN(mt.length)){var Lt=-1,Ct=function vt(){for(;++Lt<mt.length;)if(p.call(mt,Lt))return vt.value=mt[Lt],vt.done=!1,vt;return vt.value=h,vt.done=!0,vt};return Ct.next=Ct}}return{next:ht}}function ht(){return{value:h,done:!0}}return f.prototype=o,u(nt,"constructor",o),u(o,"constructor",f),f.displayName=u(o,I,"GeneratorFunction"),a.isGeneratorFunction=function(mt){var dt="function"==typeof mt&&mt.constructor;return!!dt&&(dt===f||"GeneratorFunction"===(dt.displayName||dt.name))},a.mark=function(mt){return Object.setPrototypeOf?Object.setPrototypeOf(mt,o):(mt.__proto__=o,u(mt,I,"GeneratorFunction")),mt.prototype=Object.create(nt),mt},a.awrap=function(mt){return{__await:mt}},yt(ut.prototype),u(ut.prototype,b,function(){return this}),a.AsyncIterator=ut,a.async=function(mt,dt,Lt,Ct,vt){void 0===vt&&(vt=Promise);var kt=new ut(n(mt,dt,Lt,Ct),vt);return a.isGeneratorFunction(dt)?kt:kt.next().then(function(Rt){return Rt.done?Rt.value:kt.next()})},yt(nt),u(nt,I,"Generator"),u(nt,T,function(){return this}),u(nt,"toString",function(){return"[object Generator]"}),a.keys=function(mt){var dt=[];for(var Lt in mt)dt.push(Lt);return dt.reverse(),function Ct(){for(;dt.length;){var vt=dt.pop();if(vt in mt)return Ct.value=vt,Ct.done=!1,Ct}return Ct.done=!0,Ct}},a.values=At,St.prototype={constructor:St,reset:function(mt){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(wt),!mt)for(var dt in this)"t"===dt.charAt(0)&&p.call(this,dt)&&!isNaN(+dt.slice(1))&&(this[dt]=h)},stop:function(){this.done=!0;var mt=this.tryEntries[0].completion;if("throw"===mt.type)throw mt.arg;return this.rval},dispatchException:function(mt){if(this.done)throw mt;var dt=this;function Lt(Ft,qt){return kt.type="throw",kt.arg=mt,dt.next=Ft,qt&&(dt.method="next",dt.arg=h),!!qt}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var vt=this.tryEntries[Ct],kt=vt.completion;if("root"===vt.tryLoc)return Lt("end");if(vt.tryLoc<=this.prev){var Rt=p.call(vt,"catchLoc"),Xt=p.call(vt,"finallyLoc");if(Rt&&Xt){if(this.prev<vt.catchLoc)return Lt(vt.catchLoc,!0);if(this.prev<vt.finallyLoc)return Lt(vt.finallyLoc)}else if(Rt){if(this.prev<vt.catchLoc)return Lt(vt.catchLoc,!0)}else{if(!Xt)throw new Error("try statement without catch or finally");if(this.prev<vt.finallyLoc)return Lt(vt.finallyLoc)}}}},abrupt:function(mt,dt){for(var Lt=this.tryEntries.length-1;Lt>=0;--Lt){var Ct=this.tryEntries[Lt];if(Ct.tryLoc<=this.prev&&p.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var vt=Ct;break}}vt&&("break"===mt||"continue"===mt)&&vt.tryLoc<=dt&&dt<=vt.finallyLoc&&(vt=null);var kt=vt?vt.completion:{};return kt.type=mt,kt.arg=dt,vt?(this.method="next",this.next=vt.finallyLoc,P):this.complete(kt)},complete:function(mt,dt){if("throw"===mt.type)throw mt.arg;return"break"===mt.type||"continue"===mt.type?this.next=mt.arg:"return"===mt.type?(this.rval=this.arg=mt.arg,this.method="return",this.next="end"):"normal"===mt.type&&dt&&(this.next=dt),P},finish:function(mt){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var Lt=this.tryEntries[dt];if(Lt.finallyLoc===mt)return this.complete(Lt.completion,Lt.afterLoc),wt(Lt),P}},catch:function(mt){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var Lt=this.tryEntries[dt];if(Lt.tryLoc===mt){var Ct=Lt.completion;if("throw"===Ct.type){var vt=Ct.arg;wt(Lt)}return vt}}throw new Error("illegal catch attempt")},delegateYield:function(mt,dt,Lt){return this.delegate={iterator:At(mt),resultName:dt,nextLoc:Lt},"next"===this.method&&(this.arg=h),P}},a}(R.exports);try{regeneratorRuntime=E}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=E:Function("r","regeneratorRuntime = r")(E)}},5125:function(R,E,a){"use strict";function h(l,p,x,T){return new(x||(x=Promise))(function(b,I){function u(C){try{k(T.next(C))}catch(O){I(O)}}function n(C){try{k(T.throw(C))}catch(O){I(O)}}function k(C){var O;C.done?b(C.value):(O=C.value,O instanceof x?O:new x(function(m){m(O)})).then(u,n)}k((T=T.apply(l,p||[])).next())})}a.d(E,{mG:function(){return h}})},8494:function(R,E,a){"use strict";a.r(E),a.d(E,{am5:function(){return m}});const h=window.Promise,l=h&&h.prototype.then,p=h&&h.prototype.catch,x=h&&h.prototype.finally,T=h&&h.reject,b=h&&h.resolve,I=h&&h.allSettled,u=h&&h.all,n=h&&h.race,k=window.fetch,C=String.prototype.startsWith,O=String.prototype.endsWith;a(9629);const m=a(9852);var A;a.p=(A=function(){if(document.currentScript)return document.currentScript;var P=document.getElementsByTagName("script");return P[P.length-1]}().src,/(.*\/)[^\/]*$/.exec(A)[1]),h&&(window.Promise=h,l&&(h.prototype.then=l),p&&(h.prototype.catch=p),x&&(h.prototype.finally=x),T&&(h.reject=T),b&&(h.resolve=b),I&&(h.allSettled=I),u&&(h.all=u),n&&(h.race=n)),k&&(window.fetch=k),C&&(String.prototype.startsWith=C),O&&(String.prototype.endsWith=O)},4138:function(R,E){"use strict";var a={value:()=>{}};function h(){for(var b,I=0,u=arguments.length,n={};I<u;++I){if(!(b=arguments[I]+"")||b in n||/[\s.]/.test(b))throw new Error("illegal type: "+b);n[b]=[]}return new l(n)}function l(b){this._=b}function p(b,I){return b.trim().split(/^|\s+/).map(function(u){var n="",k=u.indexOf(".");if(k>=0&&(n=u.slice(k+1),u=u.slice(0,k)),u&&!I.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:n}})}function x(b,I){for(var u,n=0,k=b.length;n<k;++n)if((u=b[n]).name===I)return u.value}function T(b,I,u){for(var n=0,k=b.length;n<k;++n)if(b[n].name===I){b[n]=a,b=b.slice(0,n).concat(b.slice(n+1));break}return null!=u&&b.push({name:I,value:u}),b}l.prototype=h.prototype={constructor:l,on:function(b,I){var u,n=this._,k=p(b+"",n),C=-1,O=k.length;if(!(arguments.length<2)){if(null!=I&&"function"!=typeof I)throw new Error("invalid callback: "+I);for(;++C<O;)if(u=(b=k[C]).type)n[u]=T(n[u],b.name,I);else if(null==I)for(u in n)n[u]=T(n[u],b.name,null);return this}for(;++C<O;)if((u=(b=k[C]).type)&&(u=x(n[u],b.name)))return u},copy:function(){var b={},I=this._;for(var u in I)b[u]=I[u].slice();return new l(b)},call:function(b,I){if((u=arguments.length-2)>0)for(var u,n,k=new Array(u),C=0;C<u;++C)k[C]=arguments[C+2];if(!this._.hasOwnProperty(b))throw new Error("unknown type: "+b);for(C=0,u=(n=this._[b]).length;C<u;++C)n[C].value.apply(I,k)},apply:function(b,I,u){if(!this._.hasOwnProperty(b))throw new Error("unknown type: "+b);for(var n=this._[b],k=0,C=n.length;k<C;++k)n[k].value.apply(I,u)}},E.Z=h},5493:function(R,E){"use strict";const a=Math.PI,h=2*a,l=1e-6,p=h-l;function x(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function T(){return new x}x.prototype=T.prototype={constructor:x,moveTo:function(b,I){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+I)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(b,I){this._+="L"+(this._x1=+b)+","+(this._y1=+I)},quadraticCurveTo:function(b,I,u,n){this._+="Q"+ +b+","+ +I+","+(this._x1=+u)+","+(this._y1=+n)},bezierCurveTo:function(b,I,u,n,k,C){this._+="C"+ +b+","+ +I+","+ +u+","+ +n+","+(this._x1=+k)+","+(this._y1=+C)},arcTo:function(b,I,u,n,k){var C=this._x1,O=this._y1,m=(u=+u)-(b=+b),A=(n=+n)-(I=+I),P=C-b,D=O-I,f=P*P+D*D;if((k=+k)<0)throw new Error("negative radius: "+k);if(null===this._x1)this._+="M"+(this._x1=b)+","+(this._y1=I);else if(f>l)if(Math.abs(D*m-A*P)>l&&k){var o=u-C,B=n-O,V=m*m+A*A,q=o*o+B*B,nt=Math.sqrt(V),yt=Math.sqrt(f),ut=k*Math.tan((a-Math.acos((V+f-q)/(2*nt*yt)))/2),Y=ut/yt,tt=ut/nt;Math.abs(Y-1)>l&&(this._+="L"+(b+Y*P)+","+(I+Y*D)),this._+="A"+k+","+k+",0,0,"+ +(D*o>P*B)+","+(this._x1=b+tt*m)+","+(this._y1=I+tt*A)}else this._+="L"+(this._x1=b)+","+(this._y1=I)},arc:function(b,I,u,n,k,C){b=+b,I=+I,C=!!C;var O=(u=+u)*Math.cos(n),m=u*Math.sin(n),A=b+O,P=I+m,D=1^C,f=C?n-k:k-n;if(u<0)throw new Error("negative radius: "+u);null===this._x1?this._+="M"+A+","+P:(Math.abs(this._x1-A)>l||Math.abs(this._y1-P)>l)&&(this._+="L"+A+","+P),u&&(f<0&&(f=f%h+h),f>p?this._+="A"+u+","+u+",0,1,"+D+","+(b-O)+","+(I-m)+"A"+u+","+u+",0,1,"+D+","+(this._x1=A)+","+(this._y1=P):f>l&&(this._+="A"+u+","+u+",0,"+ +(f>=a)+","+D+","+(this._x1=b+u*Math.cos(k))+","+(this._y1=I+u*Math.sin(k))))},rect:function(b,I,u,n){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+I)+"h"+ +u+"v"+ +n+"h"+-u+"Z"},toString:function(){return this._}},E.Z=T},832:function(R,E,a){"use strict";a.d(E,{Z:function(){return yt}});var h=a(5493),l=a(3141);const p=Math.abs,x=Math.atan2,T=Math.cos,b=Math.max,I=Math.min,u=Math.sin,n=Math.sqrt,k=1e-12,C=Math.PI,O=C/2,m=2*C;function A(ut){return ut>1?0:ut<-1?C:Math.acos(ut)}function P(ut){return ut>=1?O:ut<=-1?-O:Math.asin(ut)}function D(ut){return ut.innerRadius}function f(ut){return ut.outerRadius}function o(ut){return ut.startAngle}function B(ut){return ut.endAngle}function V(ut){return ut&&ut.padAngle}function q(ut,Y,tt,wt,St,At,ht,mt){var dt=tt-ut,Lt=wt-Y,Ct=ht-St,vt=mt-At,kt=vt*dt-Ct*Lt;if(!(kt*kt<k))return[ut+(kt=(Ct*(Y-At)-vt*(ut-St))/kt)*dt,Y+kt*Lt]}function nt(ut,Y,tt,wt,St,At,ht){var mt=ut-tt,dt=Y-wt,Lt=(ht?At:-At)/n(mt*mt+dt*dt),Ct=Lt*dt,vt=-Lt*mt,kt=ut+Ct,Rt=Y+vt,Xt=tt+Ct,Ft=wt+vt,qt=(kt+Xt)/2,ae=(Rt+Ft)/2,te=Xt-kt,de=Ft-Rt,re=te*te+de*de,Ut=St-At,Vt=kt*Ft-Xt*Rt,ue=(de<0?-1:1)*n(b(0,Ut*Ut*re-Vt*Vt)),me=(Vt*de-te*ue)/re,ve=(-Vt*te-de*ue)/re,le=(Vt*de+te*ue)/re,We=(-Vt*te+de*ue)/re,$e=me-qt,Li=ve-ae,Si=le-qt,bi=We-ae;return $e*$e+Li*Li>Si*Si+bi*bi&&(me=le,ve=We),{cx:me,cy:ve,x01:-Ct,y01:-vt,x11:me*(St/Ut-1),y11:ve*(St/Ut-1)}}function yt(){var ut=D,Y=f,tt=(0,l.Z)(0),wt=null,St=o,At=B,ht=V,mt=null;function dt(){var Lt,Ct,vt=+ut.apply(this,arguments),kt=+Y.apply(this,arguments),Rt=St.apply(this,arguments)-O,Xt=At.apply(this,arguments)-O,Ft=p(Xt-Rt),qt=Xt>Rt;if(mt||(mt=Lt=(0,h.Z)()),kt<vt&&(Ct=kt,kt=vt,vt=Ct),kt>k)if(Ft>m-k)mt.moveTo(kt*T(Rt),kt*u(Rt)),mt.arc(0,0,kt,Rt,Xt,!qt),vt>k&&(mt.moveTo(vt*T(Xt),vt*u(Xt)),mt.arc(0,0,vt,Xt,Rt,qt));else{var ae,te,de=Rt,re=Xt,Ut=Rt,Vt=Xt,ue=Ft,me=Ft,ve=ht.apply(this,arguments)/2,le=ve>k&&(wt?+wt.apply(this,arguments):n(vt*vt+kt*kt)),We=I(p(kt-vt)/2,+tt.apply(this,arguments)),$e=We,Li=We;if(le>k){var Si=P(le/vt*u(ve)),bi=P(le/kt*u(ve));(ue-=2*Si)>k?(Ut+=Si*=qt?1:-1,Vt-=Si):(ue=0,Ut=Vt=(Rt+Xt)/2),(me-=2*bi)>k?(de+=bi*=qt?1:-1,re-=bi):(me=0,de=re=(Rt+Xt)/2)}var ji=kt*T(de),ui=kt*u(de),Pi=vt*T(Vt),Ai=vt*u(Vt);if(We>k){var ke,di=kt*T(re),lt=kt*u(re),Dt=vt*T(Ut),Jt=vt*u(Ut);if(Ft<C&&(ke=q(ji,ui,Dt,Jt,di,lt,Pi,Ai))){var he=ji-ke[0],Te=ui-ke[1],Fe=di-ke[0],Ci=lt-ke[1],Hi=1/u(A((he*Fe+Te*Ci)/(n(he*he+Te*Te)*n(Fe*Fe+Ci*Ci)))/2),Ri=n(ke[0]*ke[0]+ke[1]*ke[1]);$e=I(We,(vt-Ri)/(Hi-1)),Li=I(We,(kt-Ri)/(Hi+1))}}me>k?Li>k?(ae=nt(Dt,Jt,ji,ui,kt,Li,qt),te=nt(di,lt,Pi,Ai,kt,Li,qt),mt.moveTo(ae.cx+ae.x01,ae.cy+ae.y01),Li<We?mt.arc(ae.cx,ae.cy,Li,x(ae.y01,ae.x01),x(te.y01,te.x01),!qt):(mt.arc(ae.cx,ae.cy,Li,x(ae.y01,ae.x01),x(ae.y11,ae.x11),!qt),mt.arc(0,0,kt,x(ae.cy+ae.y11,ae.cx+ae.x11),x(te.cy+te.y11,te.cx+te.x11),!qt),mt.arc(te.cx,te.cy,Li,x(te.y11,te.x11),x(te.y01,te.x01),!qt))):(mt.moveTo(ji,ui),mt.arc(0,0,kt,de,re,!qt)):mt.moveTo(ji,ui),vt>k&&ue>k?$e>k?(ae=nt(Pi,Ai,di,lt,vt,-$e,qt),te=nt(ji,ui,Dt,Jt,vt,-$e,qt),mt.lineTo(ae.cx+ae.x01,ae.cy+ae.y01),$e<We?mt.arc(ae.cx,ae.cy,$e,x(ae.y01,ae.x01),x(te.y01,te.x01),!qt):(mt.arc(ae.cx,ae.cy,$e,x(ae.y01,ae.x01),x(ae.y11,ae.x11),!qt),mt.arc(0,0,vt,x(ae.cy+ae.y11,ae.cx+ae.x11),x(te.cy+te.y11,te.cx+te.x11),qt),mt.arc(te.cx,te.cy,$e,x(te.y11,te.x11),x(te.y01,te.x01),!qt))):mt.arc(0,0,vt,Vt,Ut,qt):mt.lineTo(Pi,Ai)}else mt.moveTo(0,0);if(mt.closePath(),Lt)return mt=null,Lt+""||null}return dt.centroid=function(){var Lt=(+ut.apply(this,arguments)+ +Y.apply(this,arguments))/2,Ct=(+St.apply(this,arguments)+ +At.apply(this,arguments))/2-C/2;return[T(Ct)*Lt,u(Ct)*Lt]},dt.innerRadius=function(Lt){return arguments.length?(ut="function"==typeof Lt?Lt:(0,l.Z)(+Lt),dt):ut},dt.outerRadius=function(Lt){return arguments.length?(Y="function"==typeof Lt?Lt:(0,l.Z)(+Lt),dt):Y},dt.cornerRadius=function(Lt){return arguments.length?(tt="function"==typeof Lt?Lt:(0,l.Z)(+Lt),dt):tt},dt.padRadius=function(Lt){return arguments.length?(wt=null==Lt?null:"function"==typeof Lt?Lt:(0,l.Z)(+Lt),dt):wt},dt.startAngle=function(Lt){return arguments.length?(St="function"==typeof Lt?Lt:(0,l.Z)(+Lt),dt):St},dt.endAngle=function(Lt){return arguments.length?(At="function"==typeof Lt?Lt:(0,l.Z)(+Lt),dt):At},dt.padAngle=function(Lt){return arguments.length?(ht="function"==typeof Lt?Lt:(0,l.Z)(+Lt),dt):ht},dt.context=function(Lt){return arguments.length?(mt=Lt??null,dt):mt},dt}},3794:function(R,E,a){"use strict";a.d(E,{Z:function(){return I}});var h=a(5493),l=a(8457),p=a(3141),x=a(964),T=a(774),b=a(6758);function I(u,n,k){var C=null,O=(0,p.Z)(!0),m=null,A=x.Z,P=null;function D(o){var B,V,q,nt,yt,ut=(o=(0,l.Z)(o)).length,Y=!1,tt=new Array(ut),wt=new Array(ut);for(null==m&&(P=A(yt=(0,h.Z)())),B=0;B<=ut;++B){if(!(B<ut&&O(nt=o[B],B,o))===Y)if(Y=!Y)V=B,P.areaStart(),P.lineStart();else{for(P.lineEnd(),P.lineStart(),q=B-1;q>=V;--q)P.point(tt[q],wt[q]);P.lineEnd(),P.areaEnd()}Y&&(tt[B]=+u(nt,B,o),wt[B]=+n(nt,B,o),P.point(C?+C(nt,B,o):tt[B],k?+k(nt,B,o):wt[B]))}if(yt)return P=null,yt+""||null}function f(){return(0,T.Z)().defined(O).curve(A).context(m)}return u="function"==typeof u?u:void 0===u?b.x:(0,p.Z)(+u),n="function"==typeof n?n:(0,p.Z)(void 0===n?0:+n),k="function"==typeof k?k:void 0===k?b.y:(0,p.Z)(+k),D.x=function(o){return arguments.length?(u="function"==typeof o?o:(0,p.Z)(+o),C=null,D):u},D.x0=function(o){return arguments.length?(u="function"==typeof o?o:(0,p.Z)(+o),D):u},D.x1=function(o){return arguments.length?(C=null==o?null:"function"==typeof o?o:(0,p.Z)(+o),D):C},D.y=function(o){return arguments.length?(n="function"==typeof o?o:(0,p.Z)(+o),k=null,D):n},D.y0=function(o){return arguments.length?(n="function"==typeof o?o:(0,p.Z)(+o),D):n},D.y1=function(o){return arguments.length?(k=null==o?null:"function"==typeof o?o:(0,p.Z)(+o),D):k},D.lineX0=D.lineY0=function(){return f().x(u).y(n)},D.lineY1=function(){return f().x(u).y(k)},D.lineX1=function(){return f().x(C).y(n)},D.defined=function(o){return arguments.length?(O="function"==typeof o?o:(0,p.Z)(!!o),D):O},D.curve=function(o){return arguments.length?(A=o,null!=m&&(P=A(m)),D):A},D.context=function(o){return arguments.length?(null==o?m=P=null:P=A(m=o),D):m},D}},8457:function(R,E,a){"use strict";function h(l){return"object"==typeof l&&"length"in l?l:Array.from(l)}a.d(E,{Z:function(){return h}})},3141:function(R,E,a){"use strict";function h(l){return function(){return l}}a.d(E,{Z:function(){return h}})},964:function(R,E,a){"use strict";function h(p){this._context=p}function l(p){return new h(p)}a.d(E,{Z:function(){return l}}),h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(p,x){switch(p=+p,x=+x,this._point){case 0:this._point=1,this._line?this._context.lineTo(p,x):this._context.moveTo(p,x);break;case 1:this._point=2;default:this._context.lineTo(p,x)}}}},774:function(R,E,a){"use strict";a.d(E,{Z:function(){return b}});var h=a(5493),l=a(8457),p=a(3141),x=a(964),T=a(6758);function b(I,u){var n=(0,p.Z)(!0),k=null,C=x.Z,O=null;function m(A){var P,D,f,o=(A=(0,l.Z)(A)).length,B=!1;for(null==k&&(O=C(f=(0,h.Z)())),P=0;P<=o;++P)!(P<o&&n(D=A[P],P,A))===B&&((B=!B)?O.lineStart():O.lineEnd()),B&&O.point(+I(D,P,A),+u(D,P,A));if(f)return O=null,f+""||null}return I="function"==typeof I?I:void 0===I?T.x:(0,p.Z)(I),u="function"==typeof u?u:void 0===u?T.y:(0,p.Z)(u),m.x=function(A){return arguments.length?(I="function"==typeof A?A:(0,p.Z)(+A),m):I},m.y=function(A){return arguments.length?(u="function"==typeof A?A:(0,p.Z)(+A),m):u},m.defined=function(A){return arguments.length?(n="function"==typeof A?A:(0,p.Z)(!!A),m):n},m.curve=function(A){return arguments.length?(C=A,null!=k&&(O=C(k)),m):C},m.context=function(A){return arguments.length?(null==A?k=O=null:O=C(k=A),m):k},m}},6758:function(R,E,a){"use strict";function h(p){return p[0]}function l(p){return p[1]}a.d(E,{x:function(){return h},y:function(){return l}})},7738:function(R,E,a){"use strict";a.d(E,{B7:function(){return m},HT:function(){return A},zO:function(){return C}});var h,l,p=0,x=0,T=0,b=0,I=0,u=0,n="object"==typeof performance&&performance.now?performance:Date,k="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function C(){return I||(k(O),I=n.now()+u)}function O(){I=0}function m(){this._call=this._time=this._next=null}function A(o,B,V){var q=new m;return q.restart(o,B,V),q}function P(){I=(b=n.now())+u,p=x=0;try{!function(){C(),++p;for(var o,B=h;B;)(o=I-B._time)>=0&&B._call.call(void 0,o),B=B._next;--p}()}finally{p=0,function(){for(var o,B,V=h,q=1/0;V;)V._call?(q>V._time&&(q=V._time),o=V,V=V._next):(B=V._next,V._next=null,V=o?o._next=B:h=B);l=o,f(q)}(),I=0}}function D(){var o=n.now(),B=o-b;B>1e3&&(u-=B,b=o)}function f(o){p||(x&&(x=clearTimeout(x)),o-I>24?(o<1/0&&(x=setTimeout(P,o-n.now()-u)),T&&(T=clearInterval(T))):(T||(b=n.now(),T=setInterval(D,1e3)),p=1,k(P)))}m.prototype=A.prototype={constructor:m,restart:function(o,B,V){if("function"!=typeof o)throw new TypeError("callback is not a function");V=(null==V?C():+V)+(null==B?0:+B),this._next||l===this||(l?l._next=this:h=this,l=this),this._call=o,this._time=V,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},7896:function(R,E,a){"use strict";function h(){}function l(Tt){return null==Tt?h:function(){return this.querySelector(Tt)}}function p(Tt){return null==Tt?[]:Array.isArray(Tt)?Tt:Array.from(Tt)}function x(){return[]}function T(Tt){return null==Tt?x:function(){return this.querySelectorAll(Tt)}}function b(Tt){return function(){return this.matches(Tt)}}function I(Tt){return function(Yt){return Yt.matches(Tt)}}var u=Array.prototype.find;function n(){return this.firstElementChild}var k=Array.prototype.filter;function C(){return Array.from(this.children)}function O(Tt){return new Array(Tt.length)}function m(Tt,Yt){this.ownerDocument=Tt.ownerDocument,this.namespaceURI=Tt.namespaceURI,this._next=null,this._parent=Tt,this.__data__=Yt}function A(Tt){return function(){return Tt}}function P(Tt,Yt,pe,Pe,Oe,ze){for(var Je,Re=0,fi=Yt.length,vi=ze.length;Re<vi;++Re)(Je=Yt[Re])?(Je.__data__=ze[Re],Pe[Re]=Je):pe[Re]=new m(Tt,ze[Re]);for(;Re<fi;++Re)(Je=Yt[Re])&&(Oe[Re]=Je)}function D(Tt,Yt,pe,Pe,Oe,ze,Je){var Re,fi,vi,Vi=new Map,cn=Yt.length,_n=ze.length,kn=new Array(cn);for(Re=0;Re<cn;++Re)(fi=Yt[Re])&&(kn[Re]=vi=Je.call(fi,fi.__data__,Re,Yt)+"",Vi.has(vi)?Oe[Re]=fi:Vi.set(vi,fi));for(Re=0;Re<_n;++Re)vi=Je.call(Tt,ze[Re],Re,ze)+"",(fi=Vi.get(vi))?(Pe[Re]=fi,fi.__data__=ze[Re],Vi.delete(vi)):pe[Re]=new m(Tt,ze[Re]);for(Re=0;Re<cn;++Re)(fi=Yt[Re])&&Vi.get(kn[Re])===fi&&(Oe[Re]=fi)}function f(Tt){return Tt.__data__}function o(Tt){return"object"==typeof Tt&&"length"in Tt?Tt:Array.from(Tt)}function B(Tt,Yt){return Tt<Yt?-1:Tt>Yt?1:Tt>=Yt?0:NaN}m.prototype={constructor:m,appendChild:function(Tt){return this._parent.insertBefore(Tt,this._next)},insertBefore:function(Tt,Yt){return this._parent.insertBefore(Tt,Yt)},querySelector:function(Tt){return this._parent.querySelector(Tt)},querySelectorAll:function(Tt){return this._parent.querySelectorAll(Tt)}};var V="http://www.w3.org/1999/xhtml",q={svg:"http://www.w3.org/2000/svg",xhtml:V,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(Tt){var Yt=Tt+="",pe=Yt.indexOf(":");return pe>=0&&"xmlns"!==(Yt=Tt.slice(0,pe))&&(Tt=Tt.slice(pe+1)),q.hasOwnProperty(Yt)?{space:q[Yt],local:Tt}:Tt}function yt(Tt){return function(){this.removeAttribute(Tt)}}function ut(Tt){return function(){this.removeAttributeNS(Tt.space,Tt.local)}}function Y(Tt,Yt){return function(){this.setAttribute(Tt,Yt)}}function tt(Tt,Yt){return function(){this.setAttributeNS(Tt.space,Tt.local,Yt)}}function wt(Tt,Yt){return function(){var pe=Yt.apply(this,arguments);null==pe?this.removeAttribute(Tt):this.setAttribute(Tt,pe)}}function St(Tt,Yt){return function(){var pe=Yt.apply(this,arguments);null==pe?this.removeAttributeNS(Tt.space,Tt.local):this.setAttributeNS(Tt.space,Tt.local,pe)}}function At(Tt){return Tt.ownerDocument&&Tt.ownerDocument.defaultView||Tt.document&&Tt||Tt.defaultView}function ht(Tt){return function(){this.style.removeProperty(Tt)}}function mt(Tt,Yt,pe){return function(){this.style.setProperty(Tt,Yt,pe)}}function dt(Tt,Yt,pe){return function(){var Pe=Yt.apply(this,arguments);null==Pe?this.style.removeProperty(Tt):this.style.setProperty(Tt,Pe,pe)}}function Lt(Tt,Yt){return Tt.style.getPropertyValue(Yt)||At(Tt).getComputedStyle(Tt,null).getPropertyValue(Yt)}function Ct(Tt){return function(){delete this[Tt]}}function vt(Tt,Yt){return function(){this[Tt]=Yt}}function kt(Tt,Yt){return function(){var pe=Yt.apply(this,arguments);null==pe?delete this[Tt]:this[Tt]=pe}}function Rt(Tt){return Tt.trim().split(/^|\s+/)}function Xt(Tt){return Tt.classList||new Ft(Tt)}function Ft(Tt){this._node=Tt,this._names=Rt(Tt.getAttribute("class")||"")}function qt(Tt,Yt){for(var pe=Xt(Tt),Pe=-1,Oe=Yt.length;++Pe<Oe;)pe.add(Yt[Pe])}function ae(Tt,Yt){for(var pe=Xt(Tt),Pe=-1,Oe=Yt.length;++Pe<Oe;)pe.remove(Yt[Pe])}function te(Tt){return function(){qt(this,Tt)}}function de(Tt){return function(){ae(this,Tt)}}function re(Tt,Yt){return function(){(Yt.apply(this,arguments)?qt:ae)(this,Tt)}}function Ut(){this.textContent=""}function Vt(Tt){return function(){this.textContent=Tt}}function ue(Tt){return function(){var Yt=Tt.apply(this,arguments);this.textContent=Yt??""}}function me(){this.innerHTML=""}function ve(Tt){return function(){this.innerHTML=Tt}}function le(Tt){return function(){var Yt=Tt.apply(this,arguments);this.innerHTML=Yt??""}}function We(){this.nextSibling&&this.parentNode.appendChild(this)}function $e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Li(Tt){return function(){var Yt=this.ownerDocument,pe=this.namespaceURI;return pe===V&&Yt.documentElement.namespaceURI===V?Yt.createElement(Tt):Yt.createElementNS(pe,Tt)}}function Si(Tt){return function(){return this.ownerDocument.createElementNS(Tt.space,Tt.local)}}function bi(Tt){var Yt=nt(Tt);return(Yt.local?Si:Li)(Yt)}function ji(){return null}function ui(){var Tt=this.parentNode;Tt&&Tt.removeChild(this)}function Pi(){var Tt=this.cloneNode(!1),Yt=this.parentNode;return Yt?Yt.insertBefore(Tt,this.nextSibling):Tt}function Ai(){var Tt=this.cloneNode(!0),Yt=this.parentNode;return Yt?Yt.insertBefore(Tt,this.nextSibling):Tt}function ke(Tt){return Tt.trim().split(/^|\s+/).map(function(Yt){var pe="",Pe=Yt.indexOf(".");return Pe>=0&&(pe=Yt.slice(Pe+1),Yt=Yt.slice(0,Pe)),{type:Yt,name:pe}})}function di(Tt){return function(){var Yt=this.__on;if(Yt){for(var pe,Pe=0,Oe=-1,ze=Yt.length;Pe<ze;++Pe)pe=Yt[Pe],Tt.type&&pe.type!==Tt.type||pe.name!==Tt.name?Yt[++Oe]=pe:this.removeEventListener(pe.type,pe.listener,pe.options);++Oe?Yt.length=Oe:delete this.__on}}}function lt(Tt,Yt,pe){return function(){var Pe,fi,Oe=this.__on,ze=(fi=Yt,function(vi){fi.call(this,vi,this.__data__)});if(Oe)for(var Je=0,Re=Oe.length;Je<Re;++Je)if((Pe=Oe[Je]).type===Tt.type&&Pe.name===Tt.name)return this.removeEventListener(Pe.type,Pe.listener,Pe.options),this.addEventListener(Pe.type,Pe.listener=ze,Pe.options=pe),void(Pe.value=Yt);this.addEventListener(Tt.type,ze,pe),Pe={type:Tt.type,name:Tt.name,value:Yt,listener:ze,options:pe},Oe?Oe.push(Pe):this.__on=[Pe]}}function Dt(Tt,Yt,pe){var Pe=At(Tt),Oe=Pe.CustomEvent;"function"==typeof Oe?Oe=new Oe(Yt,pe):(Oe=Pe.document.createEvent("Event"),pe?(Oe.initEvent(Yt,pe.bubbles,pe.cancelable),Oe.detail=pe.detail):Oe.initEvent(Yt,!1,!1)),Tt.dispatchEvent(Oe)}function Jt(Tt,Yt){return function(){return Dt(this,Tt,Yt)}}function he(Tt,Yt){return function(){return Dt(this,Tt,Yt.apply(this,arguments))}}Ft.prototype={add:function(Tt){this._names.indexOf(Tt)<0&&(this._names.push(Tt),this._node.setAttribute("class",this._names.join(" ")))},remove:function(Tt){var Yt=this._names.indexOf(Tt);Yt>=0&&(this._names.splice(Yt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(Tt){return this._names.indexOf(Tt)>=0}};var Te=[null];function Fe(Tt,Yt){this._groups=Tt,this._parents=Yt}function Ci(){return new Fe([[document.documentElement]],Te)}Fe.prototype=Ci.prototype={constructor:Fe,select:function(Tt){"function"!=typeof Tt&&(Tt=l(Tt));for(var Yt=this._groups,pe=Yt.length,Pe=new Array(pe),Oe=0;Oe<pe;++Oe)for(var ze,Je,Re=Yt[Oe],fi=Re.length,vi=Pe[Oe]=new Array(fi),Vi=0;Vi<fi;++Vi)(ze=Re[Vi])&&(Je=Tt.call(ze,ze.__data__,Vi,Re))&&("__data__"in ze&&(Je.__data__=ze.__data__),vi[Vi]=Je);return new Fe(Pe,this._parents)},selectAll:function(Tt){var Vi;Tt="function"==typeof Tt?(Vi=Tt,function(){return p(Vi.apply(this,arguments))}):T(Tt);for(var Yt=this._groups,pe=Yt.length,Pe=[],Oe=[],ze=0;ze<pe;++ze)for(var Je,Re=Yt[ze],fi=Re.length,vi=0;vi<fi;++vi)(Je=Re[vi])&&(Pe.push(Tt.call(Je,Je.__data__,vi,Re)),Oe.push(Je));return new Fe(Pe,Oe)},selectChild:function(Tt){return this.select(null==Tt?n:(Yt="function"==typeof Tt?Tt:I(Tt),function(){return u.call(this.children,Yt)}));var Yt},selectChildren:function(Tt){return this.selectAll(null==Tt?C:(Yt="function"==typeof Tt?Tt:I(Tt),function(){return k.call(this.children,Yt)}));var Yt},filter:function(Tt){"function"!=typeof Tt&&(Tt=b(Tt));for(var Yt=this._groups,pe=Yt.length,Pe=new Array(pe),Oe=0;Oe<pe;++Oe)for(var ze,Je=Yt[Oe],Re=Je.length,fi=Pe[Oe]=[],vi=0;vi<Re;++vi)(ze=Je[vi])&&Tt.call(ze,ze.__data__,vi,Je)&&fi.push(ze);return new Fe(Pe,this._parents)},data:function(Tt,Yt){if(!arguments.length)return Array.from(this,f);var pe=Yt?D:P,Pe=this._parents,Oe=this._groups;"function"!=typeof Tt&&(Tt=A(Tt));for(var ze=Oe.length,Je=new Array(ze),Re=new Array(ze),fi=new Array(ze),vi=0;vi<ze;++vi){var Vi=Pe[vi],cn=Oe[vi],_n=cn.length,kn=o(Tt.call(Vi,Vi&&Vi.__data__,vi,Pe)),Ln=kn.length,zr=Re[vi]=new Array(Ln),Cr=Je[vi]=new Array(Ln),Ar=fi[vi]=new Array(_n);pe(Vi,cn,zr,Cr,Ar,kn,Yt);for(var so,mr,no=0,$n=0;no<Ln;++no)if(so=zr[no]){for(no>=$n&&($n=no+1);!(mr=Cr[$n])&&++$n<Ln;);so._next=mr||null}}return(Je=new Fe(Je,Pe))._enter=Re,Je._exit=fi,Je},enter:function(){return new Fe(this._enter||this._groups.map(O),this._parents)},exit:function(){return new Fe(this._exit||this._groups.map(O),this._parents)},join:function(Tt,Yt,pe){var Pe=this.enter(),Oe=this,ze=this.exit();return"function"==typeof Tt?(Pe=Tt(Pe))&&(Pe=Pe.selection()):Pe=Pe.append(Tt+""),null!=Yt&&(Oe=Yt(Oe))&&(Oe=Oe.selection()),null==pe?ze.remove():pe(ze),Pe&&Oe?Pe.merge(Oe).order():Oe},merge:function(Tt){for(var Yt=Tt.selection?Tt.selection():Tt,pe=this._groups,Pe=Yt._groups,Oe=pe.length,Je=Math.min(Oe,Pe.length),Re=new Array(Oe),fi=0;fi<Je;++fi)for(var vi,Vi=pe[fi],cn=Pe[fi],_n=Vi.length,kn=Re[fi]=new Array(_n),Ln=0;Ln<_n;++Ln)(vi=Vi[Ln]||cn[Ln])&&(kn[Ln]=vi);for(;fi<Oe;++fi)Re[fi]=pe[fi];return new Fe(Re,this._parents)},selection:function(){return this},order:function(){for(var Tt=this._groups,Yt=-1,pe=Tt.length;++Yt<pe;)for(var Pe,Oe=Tt[Yt],ze=Oe.length-1,Je=Oe[ze];--ze>=0;)(Pe=Oe[ze])&&(Je&&4^Pe.compareDocumentPosition(Je)&&Je.parentNode.insertBefore(Pe,Je),Je=Pe);return this},sort:function(Tt){function Yt(cn,_n){return cn&&_n?Tt(cn.__data__,_n.__data__):!cn-!_n}Tt||(Tt=B);for(var pe=this._groups,Pe=pe.length,Oe=new Array(Pe),ze=0;ze<Pe;++ze){for(var Je,Re=pe[ze],fi=Re.length,vi=Oe[ze]=new Array(fi),Vi=0;Vi<fi;++Vi)(Je=Re[Vi])&&(vi[Vi]=Je);vi.sort(Yt)}return new Fe(Oe,this._parents).order()},call:function(){var Tt=arguments[0];return arguments[0]=this,Tt.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var Tt=this._groups,Yt=0,pe=Tt.length;Yt<pe;++Yt)for(var Pe=Tt[Yt],Oe=0,ze=Pe.length;Oe<ze;++Oe){var Je=Pe[Oe];if(Je)return Je}return null},size:function(){let Tt=0;for(const Yt of this)++Tt;return Tt},empty:function(){return!this.node()},each:function(Tt){for(var Yt=this._groups,pe=0,Pe=Yt.length;pe<Pe;++pe)for(var Oe,ze=Yt[pe],Je=0,Re=ze.length;Je<Re;++Je)(Oe=ze[Je])&&Tt.call(Oe,Oe.__data__,Je,ze);return this},attr:function(Tt,Yt){var pe=nt(Tt);if(arguments.length<2){var Pe=this.node();return pe.local?Pe.getAttributeNS(pe.space,pe.local):Pe.getAttribute(pe)}return this.each((null==Yt?pe.local?ut:yt:"function"==typeof Yt?pe.local?St:wt:pe.local?tt:Y)(pe,Yt))},style:function(Tt,Yt,pe){return arguments.length>1?this.each((null==Yt?ht:"function"==typeof Yt?dt:mt)(Tt,Yt,pe??"")):Lt(this.node(),Tt)},property:function(Tt,Yt){return arguments.length>1?this.each((null==Yt?Ct:"function"==typeof Yt?kt:vt)(Tt,Yt)):this.node()[Tt]},classed:function(Tt,Yt){var pe=Rt(Tt+"");if(arguments.length<2){for(var Pe=Xt(this.node()),Oe=-1,ze=pe.length;++Oe<ze;)if(!Pe.contains(pe[Oe]))return!1;return!0}return this.each(("function"==typeof Yt?re:Yt?te:de)(pe,Yt))},text:function(Tt){return arguments.length?this.each(null==Tt?Ut:("function"==typeof Tt?ue:Vt)(Tt)):this.node().textContent},html:function(Tt){return arguments.length?this.each(null==Tt?me:("function"==typeof Tt?le:ve)(Tt)):this.node().innerHTML},raise:function(){return this.each(We)},lower:function(){return this.each($e)},append:function(Tt){var Yt="function"==typeof Tt?Tt:bi(Tt);return this.select(function(){return this.appendChild(Yt.apply(this,arguments))})},insert:function(Tt,Yt){var pe="function"==typeof Tt?Tt:bi(Tt),Pe=null==Yt?ji:"function"==typeof Yt?Yt:l(Yt);return this.select(function(){return this.insertBefore(pe.apply(this,arguments),Pe.apply(this,arguments)||null)})},remove:function(){return this.each(ui)},clone:function(Tt){return this.select(Tt?Ai:Pi)},datum:function(Tt){return arguments.length?this.property("__data__",Tt):this.node().__data__},on:function(Tt,Yt,pe){var Pe,Oe,ze=ke(Tt+""),Je=ze.length;if(!(arguments.length<2)){for(Re=Yt?lt:di,Pe=0;Pe<Je;++Pe)this.each(Re(ze[Pe],Yt,pe));return this}var Re=this.node().__on;if(Re)for(var fi,vi=0,Vi=Re.length;vi<Vi;++vi)for(Pe=0,fi=Re[vi];Pe<Je;++Pe)if((Oe=ze[Pe]).type===fi.type&&Oe.name===fi.name)return fi.value},dispatch:function(Tt,Yt){return this.each(("function"==typeof Yt?he:Jt)(Tt,Yt))},[Symbol.iterator]:function*(){for(var Tt=this._groups,Yt=0,pe=Tt.length;Yt<pe;++Yt)for(var Pe,Oe=Tt[Yt],ze=0,Je=Oe.length;ze<Je;++ze)(Pe=Oe[ze])&&(yield Pe)}};var Hi=Ci,Ri=a(4138),nn=a(7738);function gn(Tt,Yt,pe){var Pe=new nn.B7;return Pe.restart(Oe=>{Pe.stop(),Tt(Oe+Yt)},Yt=null==Yt?0:+Yt,pe),Pe}var Hn=(0,Ri.Z)("start","end","cancel","interrupt"),Gn=[];function Ji(Tt,Yt,pe,Pe,Oe,ze){var Je=Tt.__transition;if(Je){if(pe in Je)return}else Tt.__transition={};!function(Re,fi,vi){var Vi,cn=Re.__transition;function _n(zr){var Cr,Ar,so,mr;if(1!==vi.state)return Ln();for(Cr in cn)if((mr=cn[Cr]).name===vi.name){if(3===mr.state)return gn(_n);4===mr.state?(mr.state=6,mr.timer.stop(),mr.on.call("interrupt",Re,Re.__data__,mr.index,mr.group),delete cn[Cr]):+Cr<fi&&(mr.state=6,mr.timer.stop(),mr.on.call("cancel",Re,Re.__data__,mr.index,mr.group),delete cn[Cr])}if(gn(function(){3===vi.state&&(vi.state=4,vi.timer.restart(kn,vi.delay,vi.time),kn(zr))}),vi.state=2,vi.on.call("start",Re,Re.__data__,vi.index,vi.group),2===vi.state){for(vi.state=3,Vi=new Array(so=vi.tween.length),Cr=0,Ar=-1;Cr<so;++Cr)(mr=vi.tween[Cr].value.call(Re,Re.__data__,vi.index,vi.group))&&(Vi[++Ar]=mr);Vi.length=Ar+1}}function kn(zr){for(var Cr=zr<vi.duration?vi.ease.call(null,zr/vi.duration):(vi.timer.restart(Ln),vi.state=5,1),Ar=-1,so=Vi.length;++Ar<so;)Vi[Ar].call(Re,Cr);5===vi.state&&(vi.on.call("end",Re,Re.__data__,vi.index,vi.group),Ln())}function Ln(){for(var zr in vi.state=6,vi.timer.stop(),delete cn[fi],cn)return;delete Re.__transition}cn[fi]=vi,vi.timer=(0,nn.HT)(function(zr){vi.state=1,vi.timer.restart(_n,vi.delay,vi.time),vi.delay<=zr&&_n(zr-vi.delay)},0,vi.time)}(Tt,pe,{name:Yt,index:Pe,group:Oe,on:Hn,tween:Gn,time:ze.time,delay:ze.delay,duration:ze.duration,ease:ze.ease,timer:null,state:0})}function ci(Tt,Yt){var pe=yi(Tt,Yt);if(pe.state>0)throw new Error("too late; already scheduled");return pe}function mi(Tt,Yt){var pe=yi(Tt,Yt);if(pe.state>3)throw new Error("too late; already running");return pe}function yi(Tt,Yt){var pe=Tt.__transition;if(!pe||!(pe=pe[Yt]))throw new Error("transition not found");return pe}function $i(Tt,Yt){return Tt=+Tt,Yt=+Yt,function(pe){return Tt*(1-pe)+Yt*pe}}var rn,Yi=180/Math.PI,Cn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gi(Tt,Yt,pe,Pe,Oe,ze){var Je,Re,fi;return(Je=Math.sqrt(Tt*Tt+Yt*Yt))&&(Tt/=Je,Yt/=Je),(fi=Tt*pe+Yt*Pe)&&(pe-=Tt*fi,Pe-=Yt*fi),(Re=Math.sqrt(pe*pe+Pe*Pe))&&(pe/=Re,Pe/=Re,fi/=Re),Tt*Pe<Yt*pe&&(Tt=-Tt,Yt=-Yt,fi=-fi,Je=-Je),{translateX:Oe,translateY:ze,rotate:Math.atan2(Yt,Tt)*Yi,skewX:Math.atan(fi)*Yi,scaleX:Je,scaleY:Re}}function Qe(Tt,Yt,pe,Pe){function Oe(ze){return ze.length?ze.pop()+" ":""}return function(ze,Je){var vi,Vi,cn,Re=[],fi=[];return ze=Tt(ze),Je=Tt(Je),function(vi,Vi,cn,_n,kn,Ln){if(vi!==cn||Vi!==_n){var zr=kn.push("translate(",null,Yt,null,pe);Ln.push({i:zr-4,x:$i(vi,cn)},{i:zr-2,x:$i(Vi,_n)})}else(cn||_n)&&kn.push("translate("+cn+Yt+_n+pe)}(ze.translateX,ze.translateY,Je.translateX,Je.translateY,Re,fi),cn=Re,(vi=ze.rotate)!==(Vi=Je.rotate)?(vi-Vi>180?Vi+=360:Vi-vi>180&&(vi+=360),fi.push({i:cn.push(Oe(cn)+"rotate(",null,Pe)-2,x:$i(vi,Vi)})):Vi&&cn.push(Oe(cn)+"rotate("+Vi+Pe),function(vi,Vi,cn,_n){vi!==Vi?_n.push({i:cn.push(Oe(cn)+"skewX(",null,Pe)-2,x:$i(vi,Vi)}):Vi&&cn.push(Oe(cn)+"skewX("+Vi+Pe)}(ze.skewX,Je.skewX,Re,fi),function(vi,Vi,cn,_n,kn,Ln){if(vi!==cn||Vi!==_n){var zr=kn.push(Oe(kn)+"scale(",null,",",null,")");Ln.push({i:zr-4,x:$i(vi,cn)},{i:zr-2,x:$i(Vi,_n)})}else 1===cn&&1===_n||kn.push(Oe(kn)+"scale("+cn+","+_n+")")}(ze.scaleX,ze.scaleY,Je.scaleX,Je.scaleY,Re,fi),ze=Je=null,function(vi){for(var Vi,cn=-1,_n=fi.length;++cn<_n;)Re[(Vi=fi[cn]).i]=Vi.x(vi);return Re.join("")}}}var K=Qe(function(Tt){const Yt=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(Tt+"");return Yt.isIdentity?Cn:Gi(Yt.a,Yt.b,Yt.c,Yt.d,Yt.e,Yt.f)},"px, ","px)","deg)"),it=Qe(function(Tt){return null==Tt?Cn:(rn||(rn=document.createElementNS("http://www.w3.org/2000/svg","g")),rn.setAttribute("transform",Tt),(Tt=rn.transform.baseVal.consolidate())?Gi((Tt=Tt.matrix).a,Tt.b,Tt.c,Tt.d,Tt.e,Tt.f):Cn)},", ",")",")");function gt(Tt,Yt){var pe,Pe;return function(){var Oe=mi(this,Tt),ze=Oe.tween;if(ze!==pe)for(var Je=0,Re=(Pe=pe=ze).length;Je<Re;++Je)if(Pe[Je].name===Yt){(Pe=Pe.slice()).splice(Je,1);break}Oe.tween=Pe}}function Pt(Tt,Yt,pe){var Pe,Oe;if("function"!=typeof pe)throw new Error;return function(){var ze=mi(this,Tt),Je=ze.tween;if(Je!==Pe){Oe=(Pe=Je).slice();for(var Re={name:Yt,value:pe},fi=0,vi=Oe.length;fi<vi;++fi)if(Oe[fi].name===Yt){Oe[fi]=Re;break}fi===vi&&Oe.push(Re)}ze.tween=Oe}}function jt(Tt,Yt,pe){var Pe=Tt._id;return Tt.each(function(){var Oe=mi(this,Pe);(Oe.value||(Oe.value={}))[Yt]=pe.apply(this,arguments)}),function(Oe){return yi(Oe,Pe).value[Yt]}}function Kt(Tt,Yt,pe){Tt.prototype=Yt.prototype=pe,pe.constructor=Tt}function se(Tt,Yt){var pe=Object.create(Tt.prototype);for(var Pe in Yt)pe[Pe]=Yt[Pe];return pe}function ie(){}var He=1/.7,Ge="\\s*([+-]?\\d+)\\s*",ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ii=/^#([0-9a-f]{3,8})$/,je=new RegExp(`^rgb\\(${Ge},${Ge},${Ge}\\)$`),wi=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),ei=new RegExp(`^rgba\\(${Ge},${Ge},${Ge},${ai}\\)$`),Bi=new RegExp(`^rgba\\(${ye},${ye},${ye},${ai}\\)$`),Di=new RegExp(`^hsl\\(${ai},${ye},${ye}\\)$`),si=new RegExp(`^hsla\\(${ai},${ye},${ye},${ai}\\)$`),pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fi(){return this.rgb().formatHex()}function xn(){return this.rgb().formatRgb()}function tn(Tt){var Yt,pe;return Tt=(Tt+"").trim().toLowerCase(),(Yt=ii.exec(Tt))?(pe=Yt[1].length,Yt=parseInt(Yt[1],16),6===pe?An(Yt):3===pe?new Pn(Yt>>8&15|Yt>>4&240,Yt>>4&15|240&Yt,(15&Yt)<<4|15&Yt,1):8===pe?Rn(Yt>>24&255,Yt>>16&255,Yt>>8&255,(255&Yt)/255):4===pe?Rn(Yt>>12&15|Yt>>8&240,Yt>>8&15|Yt>>4&240,Yt>>4&15|240&Yt,((15&Yt)<<4|15&Yt)/255):null):(Yt=je.exec(Tt))?new Pn(Yt[1],Yt[2],Yt[3],1):(Yt=wi.exec(Tt))?new Pn(255*Yt[1]/100,255*Yt[2]/100,255*Yt[3]/100,1):(Yt=ei.exec(Tt))?Rn(Yt[1],Yt[2],Yt[3],Yt[4]):(Yt=Bi.exec(Tt))?Rn(255*Yt[1]/100,255*Yt[2]/100,255*Yt[3]/100,Yt[4]):(Yt=Di.exec(Tt))?Or(Yt[1],Yt[2]/100,Yt[3]/100,1):(Yt=si.exec(Tt))?Or(Yt[1],Yt[2]/100,Yt[3]/100,Yt[4]):pn.hasOwnProperty(Tt)?An(pn[Tt]):"transparent"===Tt?new Pn(NaN,NaN,NaN,0):null}function An(Tt){return new Pn(Tt>>16&255,Tt>>8&255,255&Tt,1)}function Rn(Tt,Yt,pe,Pe){return Pe<=0&&(Tt=Yt=pe=NaN),new Pn(Tt,Yt,pe,Pe)}function wn(Tt){return Tt instanceof ie||(Tt=tn(Tt)),Tt?new Pn((Tt=Tt.rgb()).r,Tt.g,Tt.b,Tt.opacity):new Pn}function er(Tt,Yt,pe,Pe){return 1===arguments.length?wn(Tt):new Pn(Tt,Yt,pe,Pe??1)}function Pn(Tt,Yt,pe,Pe){this.r=+Tt,this.g=+Yt,this.b=+pe,this.opacity=+Pe}function Kn(){return`#${Jn(this.r)}${Jn(this.g)}${Jn(this.b)}`}function Bn(){const Tt=In(this.opacity);return`${1===Tt?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${1===Tt?")":`, ${Tt})`}`}function In(Tt){return isNaN(Tt)?1:Math.max(0,Math.min(1,Tt))}function Wi(Tt){return Math.max(0,Math.min(255,Math.round(Tt)||0))}function Jn(Tt){return((Tt=Wi(Tt))<16?"0":"")+Tt.toString(16)}function Or(Tt,Yt,pe,Pe){return Pe<=0?Tt=Yt=pe=NaN:pe<=0||pe>=1?Tt=Yt=NaN:Yt<=0&&(Tt=NaN),new Fn(Tt,Yt,pe,Pe)}function Qn(Tt){if(Tt instanceof Fn)return new Fn(Tt.h,Tt.s,Tt.l,Tt.opacity);if(Tt instanceof ie||(Tt=tn(Tt)),!Tt)return new Fn;if(Tt instanceof Fn)return Tt;var Yt=(Tt=Tt.rgb()).r/255,pe=Tt.g/255,Pe=Tt.b/255,Oe=Math.min(Yt,pe,Pe),ze=Math.max(Yt,pe,Pe),Je=NaN,Re=ze-Oe,fi=(ze+Oe)/2;return Re?(Je=Yt===ze?(pe-Pe)/Re+6*(pe<Pe):pe===ze?(Pe-Yt)/Re+2:(Yt-pe)/Re+4,Re/=fi<.5?ze+Oe:2-ze-Oe,Je*=60):Re=fi>0&&fi<1?0:Je,new Fn(Je,Re,fi,Tt.opacity)}function Fn(Tt,Yt,pe,Pe){this.h=+Tt,this.s=+Yt,this.l=+pe,this.opacity=+Pe}function Vn(Tt){return(Tt=(Tt||0)%360)<0?Tt+360:Tt}function Gr(Tt){return Math.max(0,Math.min(1,Tt||0))}function rr(Tt,Yt,pe){return 255*(Tt<60?Yt+(pe-Yt)*Tt/60:Tt<180?pe:Tt<240?Yt+(pe-Yt)*(240-Tt)/60:Yt)}function Nr(Tt,Yt,pe,Pe,Oe){var ze=Tt*Tt,Je=ze*Tt;return((1-3*Tt+3*ze-Je)*Yt+(4-6*ze+3*Je)*pe+(1+3*Tt+3*ze-3*Je)*Pe+Je*Oe)/6}Kt(ie,tn,{copy(Tt){return Object.assign(new this.constructor,this,Tt)},displayable(){return this.rgb().displayable()},hex:Fi,formatHex:Fi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Qn(this).formatHsl()},formatRgb:xn,toString:xn}),Kt(Pn,er,se(ie,{brighter(Tt){return Tt=null==Tt?He:Math.pow(He,Tt),new Pn(this.r*Tt,this.g*Tt,this.b*Tt,this.opacity)},darker(Tt){return Tt=null==Tt?.7:Math.pow(.7,Tt),new Pn(this.r*Tt,this.g*Tt,this.b*Tt,this.opacity)},rgb(){return this},clamp(){return new Pn(Wi(this.r),Wi(this.g),Wi(this.b),In(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kn,formatHex:Kn,formatHex8:function(){return`#${Jn(this.r)}${Jn(this.g)}${Jn(this.b)}${Jn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Bn,toString:Bn})),Kt(Fn,function(Tt,Yt,pe,Pe){return 1===arguments.length?Qn(Tt):new Fn(Tt,Yt,pe,Pe??1)},se(ie,{brighter(Tt){return Tt=null==Tt?He:Math.pow(He,Tt),new Fn(this.h,this.s,this.l*Tt,this.opacity)},darker(Tt){return Tt=null==Tt?.7:Math.pow(.7,Tt),new Fn(this.h,this.s,this.l*Tt,this.opacity)},rgb(){var Tt=this.h%360+360*(this.h<0),Yt=isNaN(Tt)||isNaN(this.s)?0:this.s,pe=this.l,Pe=pe+(pe<.5?pe:1-pe)*Yt,Oe=2*pe-Pe;return new Pn(rr(Tt>=240?Tt-240:Tt+120,Oe,Pe),rr(Tt,Oe,Pe),rr(Tt<120?Tt+240:Tt-120,Oe,Pe),this.opacity)},clamp(){return new Fn(Vn(this.h),Gr(this.s),Gr(this.l),In(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const Tt=In(this.opacity);return`${1===Tt?"hsl(":"hsla("}${Vn(this.h)}, ${100*Gr(this.s)}%, ${100*Gr(this.l)}%${1===Tt?")":`, ${Tt})`}`}}));var Sr=Tt=>()=>Tt;function Br(Tt,Yt){var Pe,Oe,pe=Yt-Tt;return pe?(Pe=Tt,Oe=pe,function(ze){return Pe+ze*Oe}):Sr(isNaN(Tt)?Yt:Tt)}var jr=function Tt(Yt){var Oe,pe=1==(Oe=+(Oe=Yt))?Br:function(ze,Je){return Je-ze?(Re=ze,fi=Je,vi=Oe,Re=Math.pow(Re,vi),fi=Math.pow(fi,vi)-Re,vi=1/vi,function(Vi){return Math.pow(Re+Vi*fi,vi)}):Sr(isNaN(ze)?Je:ze);var Re,fi,vi};function Pe(Oe,ze){var Je=pe((Oe=er(Oe)).r,(ze=er(ze)).r),Re=pe(Oe.g,ze.g),fi=pe(Oe.b,ze.b),vi=Br(Oe.opacity,ze.opacity);return function(Vi){return Oe.r=Je(Vi),Oe.g=Re(Vi),Oe.b=fi(Vi),Oe.opacity=vi(Vi),Oe+""}}return Pe.gamma=Tt,Pe}(1);function br(Tt){return function(Yt){var pe,Pe,Oe=Yt.length,ze=new Array(Oe),Je=new Array(Oe),Re=new Array(Oe);for(pe=0;pe<Oe;++pe)Pe=er(Yt[pe]),ze[pe]=Pe.r||0,Je[pe]=Pe.g||0,Re[pe]=Pe.b||0;return ze=Tt(ze),Je=Tt(Je),Re=Tt(Re),Pe.opacity=1,function(fi){return Pe.r=ze(fi),Pe.g=Je(fi),Pe.b=Re(fi),Pe+""}}}br(function(Tt){var Yt=Tt.length-1;return function(pe){var Pe=pe<=0?pe=0:pe>=1?(pe=1,Yt-1):Math.floor(pe*Yt),Oe=Tt[Pe],ze=Tt[Pe+1];return Nr((pe-Pe/Yt)*Yt,Pe>0?Tt[Pe-1]:2*Oe-ze,Oe,ze,Pe<Yt-1?Tt[Pe+2]:2*ze-Oe)}}),br(function(Tt){var Yt=Tt.length;return function(pe){var Pe=Math.floor(((pe%=1)<0?++pe:pe)*Yt);return Nr((pe-Pe/Yt)*Yt,Tt[(Pe+Yt-1)%Yt],Tt[Pe%Yt],Tt[(Pe+1)%Yt],Tt[(Pe+2)%Yt])}});var Zr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$r=new RegExp(Zr.source,"g");function Mo(Tt,Yt){var pe,Pe,Oe,vi,ze=Zr.lastIndex=$r.lastIndex=0,Je=-1,Re=[],fi=[];for(Tt+="",Yt+="";(pe=Zr.exec(Tt))&&(Pe=$r.exec(Yt));)(Oe=Pe.index)>ze&&(Oe=Yt.slice(ze,Oe),Re[Je]?Re[Je]+=Oe:Re[++Je]=Oe),(pe=pe[0])===(Pe=Pe[0])?Re[Je]?Re[Je]+=Pe:Re[++Je]=Pe:(Re[++Je]=null,fi.push({i:Je,x:$i(pe,Pe)})),ze=$r.lastIndex;return ze<Yt.length&&(Oe=Yt.slice(ze),Re[Je]?Re[Je]+=Oe:Re[++Je]=Oe),Re.length<2?fi[0]?(vi=fi[0].x,function(Vi){return vi(Vi)+""}):function(vi){return function(){return vi}}(Yt):(Yt=fi.length,function(vi){for(var Vi,cn=0;cn<Yt;++cn)Re[(Vi=fi[cn]).i]=Vi.x(vi);return Re.join("")})}function Wr(Tt,Yt){var pe;return("number"==typeof Yt?$i:Yt instanceof tn?jr:(pe=tn(Yt))?(Yt=pe,jr):Mo)(Tt,Yt)}function Oo(Tt){return function(){this.removeAttribute(Tt)}}function qr(Tt){return function(){this.removeAttributeNS(Tt.space,Tt.local)}}function Kr(Tt,Yt,pe){var Pe,Oe,ze=pe+"";return function(){var Je=this.getAttribute(Tt);return Je===ze?null:Je===Pe?Oe:Oe=Yt(Pe=Je,pe)}}function ao(Tt,Yt,pe){var Pe,Oe,ze=pe+"";return function(){var Je=this.getAttributeNS(Tt.space,Tt.local);return Je===ze?null:Je===Pe?Oe:Oe=Yt(Pe=Je,pe)}}function Qr(Tt,Yt,pe){var Pe,Oe,ze;return function(){var Je,Re,fi=pe(this);if(null!=fi)return(Je=this.getAttribute(Tt))===(Re=fi+"")?null:Je===Pe&&Re===Oe?ze:(Oe=Re,ze=Yt(Pe=Je,fi));this.removeAttribute(Tt)}}function ho(Tt,Yt,pe){var Pe,Oe,ze;return function(){var Je,Re,fi=pe(this);if(null!=fi)return(Je=this.getAttributeNS(Tt.space,Tt.local))===(Re=fi+"")?null:Je===Pe&&Re===Oe?ze:(Oe=Re,ze=Yt(Pe=Je,fi));this.removeAttributeNS(Tt.space,Tt.local)}}function Io(Tt,Yt){return function(pe){this.setAttribute(Tt,Yt.call(this,pe))}}function wo(Tt,Yt){return function(pe){this.setAttributeNS(Tt.space,Tt.local,Yt.call(this,pe))}}function ko(Tt,Yt){var pe,Pe;function Oe(){var ze=Yt.apply(this,arguments);return ze!==Pe&&(pe=(Pe=ze)&&wo(Tt,ze)),pe}return Oe._value=Yt,Oe}function J(Tt,Yt){var pe,Pe;function Oe(){var ze=Yt.apply(this,arguments);return ze!==Pe&&(pe=(Pe=ze)&&Io(Tt,ze)),pe}return Oe._value=Yt,Oe}function pt(Tt,Yt){return function(){ci(this,Tt).delay=+Yt.apply(this,arguments)}}function It(Tt,Yt){return Yt=+Yt,function(){ci(this,Tt).delay=Yt}}function z(Tt,Yt){return function(){mi(this,Tt).duration=+Yt.apply(this,arguments)}}function Z(Tt,Yt){return Yt=+Yt,function(){mi(this,Tt).duration=Yt}}function ot(Tt,Yt){if("function"!=typeof Yt)throw new Error;return function(){mi(this,Tt).ease=Yt}}function rt(Tt,Yt,pe){var Pe,Oe,ze=(Yt+"").trim().split(/^|\s+/).every(function(Re){var fi=Re.indexOf(".");return fi>=0&&(Re=Re.slice(0,fi)),!Re||"start"===Re})?ci:mi;return function(){var Je=ze(this,Tt),Re=Je.on;Re!==Pe&&(Oe=(Pe=Re).copy()).on(Yt,pe),Je.on=Oe}}var _t=Hi.prototype.constructor;function Et(Tt){return function(){this.style.removeProperty(Tt)}}function Bt(Tt,Yt,pe){return function(Pe){this.style.setProperty(Tt,Yt.call(this,Pe),pe)}}function Wt(Tt,Yt,pe){var Pe,Oe;function ze(){var Je=Yt.apply(this,arguments);return Je!==Oe&&(Pe=(Oe=Je)&&Bt(Tt,Je,pe)),Pe}return ze._value=Yt,ze}function Qt(Tt){return function(Yt){this.textContent=Tt.call(this,Yt)}}function xe(Tt){var Yt,pe;function Pe(){var Oe=Tt.apply(this,arguments);return Oe!==pe&&(Yt=(pe=Oe)&&Qt(Oe)),Yt}return Pe._value=Tt,Pe}var Me=0;function Xe(Tt,Yt,pe,Pe){this._groups=Tt,this._parents=Yt,this._name=pe,this._id=Pe}function Be(){return++Me}var Ue=Hi.prototype;Xe.prototype=function(Tt){return Hi().transition(Tt)}.prototype={constructor:Xe,select:function(Tt){var Yt=this._name,pe=this._id;"function"!=typeof Tt&&(Tt=l(Tt));for(var Pe=this._groups,Oe=Pe.length,ze=new Array(Oe),Je=0;Je<Oe;++Je)for(var Re,fi,vi=Pe[Je],Vi=vi.length,cn=ze[Je]=new Array(Vi),_n=0;_n<Vi;++_n)(Re=vi[_n])&&(fi=Tt.call(Re,Re.__data__,_n,vi))&&("__data__"in Re&&(fi.__data__=Re.__data__),cn[_n]=fi,Ji(cn[_n],Yt,pe,_n,cn,yi(Re,pe)));return new Xe(ze,this._parents,Yt,pe)},selectAll:function(Tt){var Yt=this._name,pe=this._id;"function"!=typeof Tt&&(Tt=T(Tt));for(var Pe=this._groups,Oe=Pe.length,ze=[],Je=[],Re=0;Re<Oe;++Re)for(var fi,vi=Pe[Re],Vi=vi.length,cn=0;cn<Vi;++cn)if(fi=vi[cn]){for(var _n,kn=Tt.call(fi,fi.__data__,cn,vi),Ln=yi(fi,pe),zr=0,Cr=kn.length;zr<Cr;++zr)(_n=kn[zr])&&Ji(_n,Yt,pe,zr,kn,Ln);ze.push(kn),Je.push(fi)}return new Xe(ze,Je,Yt,pe)},selectChild:Ue.selectChild,selectChildren:Ue.selectChildren,filter:function(Tt){"function"!=typeof Tt&&(Tt=b(Tt));for(var Yt=this._groups,pe=Yt.length,Pe=new Array(pe),Oe=0;Oe<pe;++Oe)for(var ze,Je=Yt[Oe],Re=Je.length,fi=Pe[Oe]=[],vi=0;vi<Re;++vi)(ze=Je[vi])&&Tt.call(ze,ze.__data__,vi,Je)&&fi.push(ze);return new Xe(Pe,this._parents,this._name,this._id)},merge:function(Tt){if(Tt._id!==this._id)throw new Error;for(var Yt=this._groups,pe=Tt._groups,Pe=Yt.length,ze=Math.min(Pe,pe.length),Je=new Array(Pe),Re=0;Re<ze;++Re)for(var fi,vi=Yt[Re],Vi=pe[Re],cn=vi.length,_n=Je[Re]=new Array(cn),kn=0;kn<cn;++kn)(fi=vi[kn]||Vi[kn])&&(_n[kn]=fi);for(;Re<Pe;++Re)Je[Re]=Yt[Re];return new Xe(Je,this._parents,this._name,this._id)},selection:function(){return new _t(this._groups,this._parents)},transition:function(){for(var Tt=this._name,Yt=this._id,pe=Be(),Pe=this._groups,Oe=Pe.length,ze=0;ze<Oe;++ze)for(var Je,Re=Pe[ze],fi=Re.length,vi=0;vi<fi;++vi)if(Je=Re[vi]){var Vi=yi(Je,Yt);Ji(Je,Tt,pe,vi,Re,{time:Vi.time+Vi.delay+Vi.duration,delay:0,duration:Vi.duration,ease:Vi.ease})}return new Xe(Pe,this._parents,Tt,pe)},call:Ue.call,nodes:Ue.nodes,node:Ue.node,size:Ue.size,empty:Ue.empty,each:Ue.each,on:function(Tt,Yt){var pe=this._id;return arguments.length<2?yi(this.node(),pe).on.on(Tt):this.each(rt(pe,Tt,Yt))},attr:function(Tt,Yt){var pe=nt(Tt),Pe="transform"===pe?it:Wr;return this.attrTween(Tt,"function"==typeof Yt?(pe.local?ho:Qr)(pe,Pe,jt(this,"attr."+Tt,Yt)):null==Yt?(pe.local?qr:Oo)(pe):(pe.local?ao:Kr)(pe,Pe,Yt))},attrTween:function(Tt,Yt){var pe="attr."+Tt;if(arguments.length<2)return(pe=this.tween(pe))&&pe._value;if(null==Yt)return this.tween(pe,null);if("function"!=typeof Yt)throw new Error;var Pe=nt(Tt);return this.tween(pe,(Pe.local?ko:J)(Pe,Yt))},style:function(Tt,Yt,pe){var Oe,ze,Je,Re,fi,Pe="transform"==(Tt+="")?K:Wr;return null==Yt?this.styleTween(Tt,(Oe=Tt,ze=Pe,function(){var vi=Lt(this,Oe),Vi=(this.style.removeProperty(Oe),Lt(this,Oe));return vi===Vi?null:vi===Je&&Vi===Re?fi:fi=ze(Je=vi,Re=Vi)})).on("end.style."+Tt,Et(Tt)):"function"==typeof Yt?this.styleTween(Tt,function(Oe,ze,Je){var Re,fi,vi;return function(){var Vi=Lt(this,Oe),cn=Je(this),_n=cn+"";return null==cn&&(this.style.removeProperty(Oe),_n=cn=Lt(this,Oe)),Vi===_n?null:Vi===Re&&_n===fi?vi:(fi=_n,vi=ze(Re=Vi,cn))}}(Tt,Pe,jt(this,"style."+Tt,Yt))).each(function(Oe,ze){var Je,Re,fi,vi,Vi="style."+ze,cn="end."+Vi;return function(){var _n=mi(this,Oe),kn=_n.on,Ln=null==_n.value[Vi]?vi||(vi=Et(ze)):void 0;kn===Je&&fi===Ln||(Re=(Je=kn).copy()).on(cn,fi=Ln),_n.on=Re}}(this._id,Tt)):this.styleTween(Tt,function(Oe,ze,Je){var Re,fi,vi=Je+"";return function(){var Vi=Lt(this,Oe);return Vi===vi?null:Vi===Re?fi:fi=ze(Re=Vi,Je)}}(Tt,Pe,Yt),pe).on("end.style."+Tt,null)},styleTween:function(Tt,Yt,pe){var Pe="style."+(Tt+="");if(arguments.length<2)return(Pe=this.tween(Pe))&&Pe._value;if(null==Yt)return this.tween(Pe,null);if("function"!=typeof Yt)throw new Error;return this.tween(Pe,Wt(Tt,Yt,pe??""))},text:function(Tt){return this.tween("text","function"==typeof Tt?(Yt=jt(this,"text",Tt),function(){var pe=Yt(this);this.textContent=pe??""}):function(Yt){return function(){this.textContent=Yt}}(null==Tt?"":Tt+""));var Yt},textTween:function(Tt){var Yt="text";if(arguments.length<1)return(Yt=this.tween(Yt))&&Yt._value;if(null==Tt)return this.tween(Yt,null);if("function"!=typeof Tt)throw new Error;return this.tween(Yt,xe(Tt))},remove:function(){return this.on("end.remove",(Tt=this._id,function(){var Yt=this.parentNode;for(var pe in this.__transition)if(+pe!==Tt)return;Yt&&Yt.removeChild(this)}));var Tt},tween:function(Tt,Yt){var pe=this._id;if(Tt+="",arguments.length<2){for(var Pe,Oe=yi(this.node(),pe).tween,ze=0,Je=Oe.length;ze<Je;++ze)if((Pe=Oe[ze]).name===Tt)return Pe.value;return null}return this.each((null==Yt?gt:Pt)(pe,Tt,Yt))},delay:function(Tt){var Yt=this._id;return arguments.length?this.each(("function"==typeof Tt?pt:It)(Yt,Tt)):yi(this.node(),Yt).delay},duration:function(Tt){var Yt=this._id;return arguments.length?this.each(("function"==typeof Tt?z:Z)(Yt,Tt)):yi(this.node(),Yt).duration},ease:function(Tt){var Yt=this._id;return arguments.length?this.each(ot(Yt,Tt)):yi(this.node(),Yt).ease},easeVarying:function(Tt){if("function"!=typeof Tt)throw new Error;return this.each((Yt=this._id,pe=Tt,function(){var Pe=pe.apply(this,arguments);if("function"!=typeof Pe)throw new Error;mi(this,Yt).ease=Pe}));var Yt,pe},end:function(){var Tt,Yt,pe=this,Pe=pe._id,Oe=pe.size();return new Promise(function(ze,Je){var Re={value:Je},fi={value:function(){0==--Oe&&ze()}};pe.each(function(){var vi=mi(this,Pe),Vi=vi.on;Vi!==Tt&&((Yt=(Tt=Vi).copy())._.cancel.push(Re),Yt._.interrupt.push(Re),Yt._.end.push(fi)),vi.on=Yt}),0===Oe&&ze()})},[Symbol.iterator]:Ue[Symbol.iterator]};var Ii={time:null,delay:0,duration:250,ease:function(Tt){return((Tt*=2)<=1?Tt*Tt*Tt:(Tt-=2)*Tt*Tt+2)/2}};function on(Tt,Yt){for(var pe;!(pe=Tt.__transition)||!(pe=pe[Yt]);)if(!(Tt=Tt.parentNode))throw new Error(`transition ${Yt} not found`);return pe}Hi.prototype.interrupt=function(Tt){return this.each(function(){!function(Yt,pe){var Pe,Oe,ze,Je=Yt.__transition,Re=!0;if(Je){for(ze in pe=null==pe?null:pe+"",Je)(Pe=Je[ze]).name===pe?(Oe=Pe.state>2&&Pe.state<5,Pe.state=6,Pe.timer.stop(),Pe.on.call(Oe?"interrupt":"cancel",Yt,Yt.__data__,Pe.index,Pe.group),delete Je[ze]):Re=!1;Re&&delete Yt.__transition}}(this,Tt)})},Hi.prototype.transition=function(Tt){var Yt,pe;Tt instanceof Xe?(Yt=Tt._id,Tt=Tt._name):(Yt=Be(),(pe=Ii).time=(0,nn.zO)(),Tt=null==Tt?null:Tt+"");for(var Pe=this._groups,Oe=Pe.length,ze=0;ze<Oe;++ze)for(var Je,Re=Pe[ze],fi=Re.length,vi=0;vi<fi;++vi)(Je=Re[vi])&&Ji(Je,Tt,Yt,vi,Re,pe||on(Je,Yt));return new Xe(Pe,this._parents,Tt,Yt)}}},M={};function U(R){var E=M[R];if(void 0!==E)return E.exports;var a=M[R]={exports:{}};return S[R].call(a.exports,a,a.exports,U),a.exports}U.m=S,v=[],U.O=function(R,E,a,h){if(!E){var l=1/0;for(b=0;b<v.length;b++){E=v[b][0],a=v[b][1],h=v[b][2];for(var p=!0,x=0;x<E.length;x++)(!1&h||l>=h)&&Object.keys(U.O).every(function(I){return U.O[I](E[x])})?E.splice(x--,1):(p=!1,h<l&&(l=h));if(p){v.splice(b--,1);var T=a();void 0!==T&&(R=T)}}return R}h=h||0;for(var b=v.length;b>0&&v[b-1][2]>h;b--)v[b]=v[b-1];v[b]=[E,a,h]},U.n=function(R){var E=R&&R.__esModule?function(){return R.default}:function(){return R};return U.d(E,{a:E}),E},i=Object.getPrototypeOf?function(R){return Object.getPrototypeOf(R)}:function(R){return R.__proto__},U.t=function(R,E){if(1&E&&(R=this(R)),8&E||"object"==typeof R&&R&&(4&E&&R.__esModule||16&E&&"function"==typeof R.then))return R;var a=Object.create(null);U.r(a);var h={};e=e||[null,i({}),i([]),i(i)];for(var l=2&E&&R;"object"==typeof l&&!~e.indexOf(l);l=i(l))Object.getOwnPropertyNames(l).forEach(function(p){h[p]=function(){return R[p]}});return h.default=function(){return R},U.d(a,h),a},U.d=function(R,E){for(var a in E)U.o(E,a)&&!U.o(R,a)&&Object.defineProperty(R,a,{enumerable:!0,get:E[a]})},U.f={},U.e=function(R){return Promise.all(Object.keys(U.f).reduce(function(E,a){return U.f[a](R,E),E},[]))},U.u=function(R){return"deps/"+{643:"pdfmake",4297:"xlsx",4384:"markerjs2"}[R]+".js"},U.o=function(R,E){return Object.prototype.hasOwnProperty.call(R,E)},s={},c="@amcharts/amcharts5:",U.l=function(R,E,a,h){if(s[R])s[R].push(E);else{var l,p;if(void 0!==a)for(var x=document.getElementsByTagName("script"),T=0;T<x.length;T++){var b=x[T];if(b.getAttribute("src")==R||b.getAttribute("data-webpack")==c+a){l=b;break}}l||(p=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,U.nc&&l.setAttribute("nonce",U.nc),l.setAttribute("data-webpack",c+a),l.src=R),s[R]=[E];var I=function(n,k){l.onerror=l.onload=null,clearTimeout(u);var C=s[R];if(delete s[R],l.parentNode&&l.parentNode.removeChild(l),C&&C.forEach(function(O){return O(k)}),n)return n(k)},u=setTimeout(I.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=I.bind(null,l.onerror),l.onload=I.bind(null,l.onload),p&&document.head.appendChild(l)}},U.r=function(R){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})},U.p="",function(){var R={4826:0};U.f.j=function(h,l){var p=U.o(R,h)?R[h]:void 0;if(0!==p)if(p)l.push(p[2]);else{var x=new Promise(function(I,u){p=R[h]=[I,u]});l.push(p[2]=x);var T=U.p+U.u(h),b=new Error;U.l(T,function(I){if(U.o(R,h)&&(0!==(p=R[h])&&(R[h]=void 0),p)){var u=I&&("load"===I.type?"missing":I.type),n=I&&I.target&&I.target.src;b.message="Loading chunk "+h+" failed.\n("+u+": "+n+")",b.name="ChunkLoadError",b.type=u,b.request=n,p[1](b)}},"chunk-"+h,h)}},U.O.j=function(h){return 0===R[h]};var E=function(h,l){var p,x,T=l[0],b=l[1],I=l[2],u=0;if(T.some(function(k){return 0!==R[k]})){for(p in b)U.o(b,p)&&(U.m[p]=b[p]);if(I)var n=I(U)}for(h&&h(l);u<T.length;u++)U.o(R,x=T[u])&&R[x]&&R[x][0](),R[x]=0;return U.O(n)},a=self.webpackChunk_am5=self.webpackChunk_am5||[];a.forEach(E.bind(null,0)),a.push=E.bind(null,a.push.bind(a))}();var G=U(8494);G=U.O(G);var X=window;for(var F in G)X[F]=G[F];G.__esModule&&Object.defineProperty(X,"__esModule",{value:!0})}(),(self.webpackChunk_am5=self.webpackChunk_am5||[]).push([[6450],{6901:function(v,e,i){i.d(e,{z:function(){return x}});var s=i(55),c=i(8777),S=i(7142),M=i(5829),U=i(7144),G=i(6245),X=i(1112),F=i(8054),R=i(1479),E=i(5071),a=i(5040),h=i(3540),l=i(256),p=i(7652);class x extends M.j{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new U.dn}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new U.dn}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(c.W.new(this._root,{width:G.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(c.W.new(this._root,{width:G.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(c.W.new(this._root,{height:G.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(c.W.new(this._root,{width:G.AQ,height:G.AQ,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:c.W.new(this._root,{width:G.AQ,height:G.AQ,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(c.W.new(this._root,{height:G.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(c.W.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(F.z.new(this._root,{themeTags:["zoom"],icon:R.T.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(s.l.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const b=this._root;let I=this._root.verticalLayout;const u=this.zoomOutButton;u.events.on("click",()=>{this.zoomOut()}),u.set("opacity",0),u.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",I);const n=this.plotContainer;n.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),n.children.push(this.topGridContainer),n.children.push(this.bulletsContainer),n.set("interactive",!0),n.set("interactiveChildren",!1),n.set("background",S.A.new(b,{themeTags:["xy","background"],fill:X.Il.fromHex(0),fillOpacity:0})),this._disposers.push(n.events.on("pointerdown",k=>{this._handlePlotDown(k.originalEvent)})),this._disposers.push(n.events.on("globalpointerup",k=>{this._handlePlotUp(k.originalEvent)})),this._disposers.push(n.events.on("globalpointermove",k=>{this._handlePlotMove(k.originalEvent)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(b){const I=b.get("xAxis");I&&(E.remove(I.series,b),I.markDirtyExtremes());const u=b.get("yAxis");u&&(E.remove(u.series,b),u.markDirtyExtremes());const n=this.get("cursor");if(n){const k=n.get("snapToSeries");k&&E.remove(k,b)}super._removeSeries(b)}handleWheel(b){const I=this.get("wheelX"),u=this.get("wheelY"),n=this.plotContainer,k=b.originalEvent;if(!p.isLocalEvent(k,this))return;k.preventDefault();const C=n.toLocal(this._root.documentPointToRoot({x:k.clientX,y:k.clientY})),O=this.get("wheelStep",.2),m=k.deltaY/100,A=k.deltaX/100,P=this.get("wheelZoomPositionX"),D=this.get("wheelZoomPositionY");"zoomX"!==I&&"zoomXY"!==I||0==A||this.xAxes.each(f=>{if(f.get("zoomX")){let o=f.get("start"),B=f.get("end"),V=f.fixPosition(C.x/n.width());null!=P&&(V=P);let q=o-O*(B-o)*A*V,nt=B+O*(B-o)*A*(1-V);1/(nt-q)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(q,nt))}}),"zoomX"!==u&&"zoomXY"!==u||0==m||this.xAxes.each(f=>{if(f.get("zoomX")){let o=f.get("start"),B=f.get("end"),V=f.fixPosition(C.x/n.width());null!=P&&(V=P);let q=o-O*(B-o)*m*V,nt=B+O*(B-o)*m*(1-V);1/(nt-q)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(q,nt))}}),"zoomY"!==I&&"zoomXY"!==I||0==A||this.yAxes.each(f=>{if(f.get("zoomY")){let o=f.get("start"),B=f.get("end"),V=f.fixPosition(C.y/n.height());null!=D&&(V=D);let q=o-O*(B-o)*A*V,nt=B+O*(B-o)*A*(1-V);1/(nt-q)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(q,nt))}}),"zoomY"!==u&&"zoomXY"!==u||0==m||this.yAxes.each(f=>{if(f.get("zoomY")){let o=f.get("start"),B=f.get("end"),V=f.fixPosition(C.y/n.height());null!=D&&(V=D);let q=o-O*(B-o)*m*V,nt=B+O*(B-o)*m*(1-V);1/(nt-q)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(q,nt))}}),"panX"!==I&&"panXY"!==I||0==A||this.xAxes.each(f=>{if(f.get("panX")){let o=f.get("start"),B=f.get("end"),V=this._getWheelSign(f)*O*(B-o)*A,q=o+V,nt=B+V,yt=this._fixWheel(q,nt);q=yt[0],nt=yt[1],this._handleWheelAnimation(f.zoom(q,nt))}}),"panX"!==u&&"panXY"!==u||0==m||this.xAxes.each(f=>{if(f.get("panX")){let o=f.get("start"),B=f.get("end"),V=this._getWheelSign(f)*O*(B-o)*m,q=o+V,nt=B+V,yt=this._fixWheel(q,nt);q=yt[0],nt=yt[1],this._handleWheelAnimation(f.zoom(q,nt))}}),"panY"!==I&&"panXY"!==I||0==A||this.yAxes.each(f=>{if(f.get("panY")){let o=f.get("start"),B=f.get("end"),V=this._getWheelSign(f)*O*(B-o)*A,q=o+V,nt=B+V,yt=this._fixWheel(q,nt);q=yt[0],nt=yt[1],this._handleWheelAnimation(f.zoom(q,nt))}}),"panY"!==u&&"panXY"!==u||0==m||this.yAxes.each(f=>{if(f.get("panY")){let o=f.get("start"),B=f.get("end"),V=this._getWheelSign(f)*O*(B-o)*m,q=o-V,nt=B-V,yt=this._fixWheel(q,nt);q=yt[0],nt=yt[1],this._handleWheelAnimation(f.zoom(q,nt))}})}_handleSetWheel(){const b=this.get("wheelX"),I=this.get("wheelY");"none"!==b||"none"!==I?(this._wheelDp=this.plotContainer.events.on("wheel",n=>{this.handleWheel(n)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(b){let I=1;return b.get("renderer").get("inversed")&&(I=-1),I}_fixWheel(b,I){const u=I-b;return b<0&&(I=(b=0)+u),I>1&&(b=(I=1)-u),[b,I]}_handlePlotDown(b){const I=this.plotContainer;let u=I.toLocal(this._root.documentPointToRoot({x:b.clientX,y:b.clientY}));if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&b.pointerId&&l.keys(I._downPoints).length>0){const n=this.xAxes.getIndex(0),k=this.yAxes.getIndex(0);n&&(this._downStartX=n.get("start",0),this._downEndX=n.get("end",1)),k&&(this._downStartY=k.get("start",0),this._downEndY=k.get("end",1))}if((this.get("panX")||this.get("panY"))&&u.x>=0&&u.y>=0&&u.x<=I.width()&&u.y<=this.height()){this._downPoint={x:b.clientX,y:b.clientY};const n=this.get("panX"),k=this.get("panY");n&&this.xAxes.each(O=>{O._panStart=O.get("start"),O._panEnd=O.get("end")}),k&&this.yAxes.each(O=>{O._panStart=O.get("start"),O._panEnd=O.get("end")});const C="panstarted";this.events.isEnabled(C)&&this.events.dispatch(C,{type:C,target:this,originalEvent:b})}}_handleWheelAnimation(b){b?b.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const b="wheelended";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this})}_handlePlotUp(b){const I=this._downPoint;if(I&&(this.get("panX")||this.get("panY"))){let u=this.plotContainer.toLocal(this._root.documentPointToRoot({x:b.clientX,y:b.clientY}));if(u.x==I.x&&u.y==I.y){const k="pancancelled";this.events.isEnabled(k)&&this.events.dispatch(k,{type:k,target:this,originalEvent:b})}const n="panended";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:b})}this._downPoint=void 0,this.xAxes.each(u=>{u._isPanning=!1}),this.yAxes.each(u=>{u._isPanning=!1})}_handlePlotMove(b){const I=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const n=b.pointerId;if(n&&(this._movePoints[n]=this._root.documentPointToRoot({x:b.clientX,y:b.clientY}),l.keys(I._downPoints).length>1))return void this._handlePinch()}let u=this._downPoint;if(u){u=I.toLocal(this._root.documentPointToRoot(u));let n=I.toLocal(this._root.documentPointToRoot({x:b.clientX,y:b.clientY}));const k=this.get("panX"),C=this.get("panY");if(k){let O=this.get("scrollbarX");O&&O.events.disableType("rangechanged"),this.xAxes.each(m=>{if(m.get("panX")){m._isPanning=!0;let A=m._panStart,P=m._panEnd,D=(P-A)*(u.x-n.x)/I.width();m.get("renderer").get("inversed")&&(D*=-1);let f=A+D,o=P+D;o-f<1+2*m.get("maxDeviation",1)&&(m.set("start",f),m.set("end",o))}}),O&&O.events.enableType("rangechanged")}if(C){let O=this.get("scrollbarY");O&&O.events.disableType("rangechanged"),this.yAxes.each(m=>{if(m.get("panY")){m._isPanning=!0;let A=m._panStart,P=m._panEnd,D=(P-A)*(u.y-n.y)/I.height();m.get("renderer").get("inversed")&&(D*=-1);let f=A-D,o=P-D;o-f<1+2*m.get("maxDeviation",1)&&(m.set("start",f),m.set("end",o))}}),O&&O.events.enableType("rangechanged")}}}_handlePinch(){const b=this.plotContainer;let I=0,u=[],n=[];if(l.each(b._downPoints,(k,C)=>{u[I]=C;let O=this._movePoints[k];O&&(n[I]=O),I++}),u.length>1&&n.length>1){const k=b.width(),C=b.height();let O=u[0],m=u[1],A=n[0],P=n[1];if(O&&m&&A&&P){if(A=b.toLocal(A),P=b.toLocal(P),O=b.toLocal(O),m=b.toLocal(m),this.get("pinchZoomX")){const D=this._downStartX,f=this._downEndX;if(null!=D&&null!=f){O.x>m.x&&([O,m]=[m,O],[A,P]=[P,A]);let o=D+O.x/k*(f-D),B=D+m.x/k*(f-D),V=D+A.x/k*(f-D),q=D+P.x/k*(f-D),nt=Math.max(.001,B-o)/Math.max(.001,q-V),yt=D*nt+o-V*nt,ut=f*nt+B-q*nt;this.xAxes.each(Y=>{let tt=Y.fixPosition(yt),wt=Y.fixPosition(ut);Y.zoom(tt,wt,0)})}}if(this.get("pinchZoomY")){const D=this._downStartY,f=this._downEndY;if(null!=D&&null!=f){O.y<m.y&&([O,m]=[m,O],[A,P]=[P,A]);let o=D+(1-O.y/C)*(f-D),B=D+(1-m.y/C)*(f-D),V=D+(1-A.y/C)*(f-D),q=D+(1-P.y/C)*(f-D),nt=Math.max(.001,B-o)/Math.max(.001,q-V),yt=D*nt+o-V*nt,ut=f*nt+B-q*nt;this.yAxes.each(Y=>{let tt=Y.fixPosition(yt),wt=Y.fixPosition(ut);Y.zoom(tt,wt,0)})}}}}}_handleCursorPosition(){const b=this.get("cursor");if(b){const I=b.getPrivate("point");let u=b.get("snapToSeries");if(b._downPoint&&(u=void 0),u&&I){const n=b.get("snapToSeriesBy"),k=[];E.each(u,m=>{if(!m.isHidden()&&!m.isHiding())if("x!"!=n&&"y!"!=n){const A=m.startIndex(),P=m.endIndex();for(let D=A;D<P;D++){const f=m.dataItems[D];f&&!f.isHidden()&&k.push(f)}}else{const A=m.get("tooltipDataItem");A&&k.push(A)}});let C,O=1/0;if(E.each(k,m=>{const A=m.get("point");if(A){let P=0;P="x"==n||"x!"==n?Math.abs(I.x-A.x):"y"==n||"y!"==n?Math.abs(I.y-A.y):Math.hypot(I.x-A.x,I.y-A.y),P<O&&(O=P,C=m)}}),E.each(u,m=>{const A=m.get("tooltip");A&&A._setDataItem(void 0)}),C){let m=C.component;m.showDataItemTooltip(C);const A=C.get("point");A&&b.handleMove(m.toGlobal({x:A.x-m.x(),y:A.y-m.y()}),!0)}}}}_updateCursor(){let b=this.get("cursor");b&&b.handleMove()}_addCursor(b){this.plotContainer.children.push(b)}_prepareChildren(){if(super._prepareChildren(),this.series.each(b=>{this._colorize(b)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const b=this._prevSettings.cursor,I=this.get("cursor");I!==b&&(this._disposeProperty("cursor"),b&&b.dispose(),I&&(I._setChart(this),this._addCursor(I),this._pushPropertyDisposer("cursor",I.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=I)}if(this.isDirty("scrollbarX")){const b=this._prevSettings.scrollbarX,I=this.get("scrollbarX");I!==b&&(this._disposeProperty("scrollbarX"),b&&b.dispose(),I&&(I.parent||this.topAxesContainer.children.push(I),this._pushPropertyDisposer("scrollbarX",I.events.on("rangechanged",u=>{this._handleScrollbar(this.xAxes,u.start,u.end,u.grip)})),I.setPrivate("positionTextFunction",u=>{const n=this.xAxes.getIndex(0);return n&&n.getTooltipText(u)||""})),this._prevSettings.scrollbarX=I)}if(this.isDirty("scrollbarY")){const b=this._prevSettings.scrollbarY,I=this.get("scrollbarY");I!==b&&(this._disposeProperty("scrollbarY"),b&&b.dispose(),I&&(I.parent||this.rightAxesContainer.children.push(I),this._pushPropertyDisposer("scrollbarY",I.events.on("rangechanged",u=>{this._handleScrollbar(this.yAxes,u.start,u.end,u.grip)})),I.setPrivate("positionTextFunction",u=>{const n=this.yAxes.getIndex(0);return n&&n.getTooltipText(u)||""})),this._prevSettings.scrollbarY=I)}this._handleZoomOut()}_processSeries(b){super._processSeries(b),this._colorize(b)}_colorize(b){const I=this.get("colors");if(I&&null==b.get("fill")){const u=I.next();b._setSoft("stroke",u),b._setSoft("fill",u)}}_handleCursorSelectEnd(){const b=this.get("cursor"),I=b.get("behavior"),u=b.getPrivate("downPositionX",0),n=b.getPrivate("downPositionY",0),k=b.getPrivate("positionX",.5),C=b.getPrivate("positionY",.5);this.xAxes.each(O=>{if("zoomX"===I||"zoomXY"===I){let m=O.toAxisPosition(u),A=O.toAxisPosition(k);O.zoom(m,A)}O.setPrivate("updateScrollbar",!0)}),this.yAxes.each(O=>{if("zoomY"===I||"zoomXY"===I){let m=O.toAxisPosition(n),A=O.toAxisPosition(C);O.zoom(m,A)}O.setPrivate("updateScrollbar",!0)})}_handleScrollbar(b,I,u,n){b.each(k=>{let C=k.fixPosition(I),O=k.fixPosition(u),m=k.zoom(C,O,void 0,n);const A="updateScrollbar";k.setPrivateRaw(A,!1),m?m.events.on("stopped",()=>{k.setPrivateRaw(A,!0)}):k.setPrivateRaw(A,!0)})}_processAxis(b,I){return b.events.onAll(u=>{if("clear"===u.type)E.each(u.oldValues,n=>{this._removeAxis(n)});else if("push"===u.type)I.children.push(u.newValue),u.newValue.processChart(this);else if("setIndex"===u.type)I.children.setIndex(u.index,u.newValue),u.newValue.processChart(this);else if("insertIndex"===u.type)I.children.insertIndex(u.index,u.newValue),u.newValue.processChart(this);else if("removeIndex"===u.type)this._removeAxis(u.oldValue);else{if("moveIndex"!==u.type)throw new Error("Unknown IListEvent type");I.children.moveValue(u.value,u.newIndex),u.value.processChart(this)}})}_removeAxis(b){if(!b.isDisposed()){const I=b.parent;I&&I.children.removeValue(b);const u=b.gridContainer,n=u.parent;n&&n.children.removeValue(u);const k=b.topGridContainer,C=k.parent;C&&C.children.removeValue(k)}}_updateChartLayout(){const b=this.leftAxesContainer.width(),I=this.rightAxesContainer.width(),u=this.bottomAxesContainer;u.set("paddingLeft",b),u.set("paddingRight",I);const n=this.topAxesContainer;n.set("paddingLeft",b),n.set("paddingRight",I)}processAxis(b){}_handleAxisSelection(b,I){let u=b.fixPosition(b.get("start",0)),n=b.fixPosition(b.get("end",1));if(u>n&&([u,n]=[n,u]),-1!=this.xAxes.indexOf(b)){if(I||b.getPrivate("updateScrollbar")){let k=this.get("scrollbarX");!k||k.getPrivate("isBusy")&&!I||(k.setRaw("start",u),k.setRaw("end",n),k.updateGrips())}}else if(-1!=this.yAxes.indexOf(b)&&(I||b.getPrivate("updateScrollbar"))){let k=this.get("scrollbarY");!k||k.getPrivate("isBusy")&&!I||(k.setRaw("start",u),k.setRaw("end",n),k.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let b=this.zoomOutButton;if(b&&b.parent){let I=!1;this.xAxes.each(u=>{0==u.get("start")&&1==u.get("end")||(I=!0)}),this.yAxes.each(u=>{0==u.get("start")&&1==u.get("end")||(I=!0)}),I?b.isHidden()&&b.show():b.hide()}}inPlot(b){const I=this.plotContainer,u=this.getPrivate("otherCharts",this._otherCharts),n=I.toGlobal(b);if(b.x>=-.5&&b.y>=-.5&&b.x<=I.width()+.5&&b.y<=I.height()+.5)return!0;if(u)for(let k=u.length-1;k>=0;k--){const C=u[k];if(C!=this){const O=C.plotContainer,m=this._root.rootPointToDocument(n),A=C._root.documentPointToRoot(m),P=O.toLocal(A);if(P.x>=-.1&&P.y>=-.1&&P.x<=O.width()+.1&&P.y<=O.height()+.1)return!0}}return!1}arrangeTooltips(){const b=this.plotContainer,I=b.width(),u=b.height(),n=this.height();let k=b._display.toGlobal({x:0,y:0}),C=b._display.toGlobal({x:I,y:u});const O=[];let m,A,P=0,D=1/0,f=this._movePoint,o=this.get("maxTooltipDistance"),B=this.get("maxTooltipDistanceBy","xy");a.isNumber(o)&&this.series.each(q=>{const nt=q.get("tooltip");if(nt){let yt=nt.get("pointTo");if(yt){let ut=Math.hypot(f.x-yt.x,f.y-yt.y);"x"==B?ut=Math.abs(f.x-yt.x):"y"==B&&(ut=Math.abs(f.y-yt.y)),ut<D&&(D=ut,m=q,A=yt)}}});const V=[];if(this.series.each(q=>{const nt=q.get("tooltip");if(nt){let yt=!1,ut=nt.get("pointTo");if(ut){if(o>=0){let Y=nt.get("pointTo");if(Y&&q!=m){let tt=Math.hypot(A.x-Y.x,A.y-Y.y);"x"==B?tt=Math.abs(A.x-Y.x):"y"==B&&(tt=Math.abs(A.y-Y.y)),tt>o&&(yt=!0)}}else-1==o&&q!=m&&(yt=!0);this.inPlot(this._tooltipToLocal(ut))&&nt.dataItem?yt||(P+=ut.y):yt=!0,yt||q.isHidden()||q.isHiding()?nt.hide(0):(nt.show(),O.push(nt),V.push(q))}}}),this.setPrivate("tooltipSeries",V),this.get("arrangeTooltips")){const q=this._root.tooltipContainer;if(P/O.length>u/2+k.y){O.sort((ut,Y)=>h.HO(Y.get("pointTo").y,ut.get("pointTo").y));let yt=C.y;if(E.each(O,ut=>{let Y=ut.height(),tt=ut.get("centerY");tt instanceof G.gG&&(Y*=tt.value),Y+=ut.get("marginBottom",0),ut.set("bounds",{left:k.x,top:k.y,right:C.x,bottom:yt}),ut.setPrivate("customData",{left:k.x,top:k.y,right:C.x,bottom:yt}),yt=Math.min(yt-Y,ut._fy-Y),ut.parent==q&&q.children.moveValue(ut,0)}),yt<0){O.reverse();let ut=yt;E.each(O,Y=>{let tt=Y.get("bounds");if(tt){let wt=tt.top-yt,St=tt.bottom-yt;wt<ut&&(wt=ut,St=wt+Y.height()),Y.set("bounds",{left:tt.left,top:wt,right:tt.right,bottom:St}),ut=tt.bottom-yt+Y.get("marginBottom",0)}})}}else{O.reverse(),O.sort((ut,Y)=>h.HO(ut.get("pointTo").y,Y.get("pointTo").y));let yt=0;if(E.each(O,ut=>{let Y=ut.height(),tt=ut.get("centerY");tt instanceof G.gG&&(Y*=tt.value),Y+=ut.get("marginBottom",0),ut.set("bounds",{left:k.x,top:yt,right:C.x,bottom:Math.max(k.y+n,yt+Y)}),ut.parent==q&&q.children.moveValue(ut,0),yt=Math.max(yt+Y,ut._fy+Y)}),yt>n){O.reverse();let ut=n;E.each(O,Y=>{let tt=Y.get("bounds");if(tt){let wt=tt.top-(n-yt),St=tt.bottom-(n-yt);St>ut&&(St=ut,wt=St-Y.height()),Y.set("bounds",{left:tt.left,top:wt,right:tt.right,bottom:St}),ut=St-Y.height()-Y.get("marginBottom",0)}})}}}}_tooltipToLocal(b){return this.plotContainer.toLocal(b)}zoomOut(){this.xAxes.each(b=>{b.setPrivate("updateScrollbar",!0),b.zoom(0,1)}),this.yAxes.each(b=>{b.setPrivate("updateScrollbar",!0),b.zoom(0,1)})}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.j.classNames.concat([x.className])})},55:function(v,e,i){i.d(e,{l:function(){return E}});var s=i(3409),c=i(6245),S=i(2754),M=i(3783),U=i(1926),G=i(5040),X=i(751),F=i(256),R=i(5071);class E extends s.Q{setupDefaultRules(){super.setupDefaultRules();const h=this._root.interfaceColors,l=this._root.language,p=this.rule.bind(this);p("XYChart").setAll({colors:S.U.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),p("XYSeries").setAll({legendLabelText:"{name}"}),p("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:S.U.new(this._root,{saturation:0})});{const u=p("Graphics",["scrollbar","overlay"]);u.setAll({fillOpacity:.5}),(0,M.v)(u,"fill",h,"background")}p("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),p("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),p("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),p("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),p("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),p("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),p("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:c.AQ,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),p("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),p("AxisLabel",["x"]).setAll({centerY:0}),p("AxisLabel",["x","inside"]).setAll({centerY:c.AQ}),p("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),p("AxisLabel",["x","opposite"]).setAll({centerY:c.AQ}),p("AxisLabel",["y"]).setAll({centerX:c.AQ}),p("AxisLabel",["y","inside"]).setAll({centerX:0}),p("AxisLabel",["y","inside","opposite"]).setAll({centerX:c.AQ}),p("AxisLabel",["y","opposite"]).setAll({centerX:0}),p("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),p("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),p("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),p("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const u=p("Grid",["cursor","x"]);u.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:l.translate("Use left and right arrows to move selection")}),(0,M.v)(u,"stroke",h,"alternativeBackground")}{const u=p("Grid",["cursor","y"]);u.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:l.translate("Use up and down arrows to move selection")}),(0,M.v)(u,"stroke",h,"alternativeBackground")}{const u=p("Graphics",["cursor","selection"]);u.setAll({fillOpacity:.15}),(0,M.v)(u,"fill",h,"alternativeBackground")}p("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),p("AxisLabel").setAll({location:.5,multiLocation:0,centerX:c.CI,centerY:c.CI,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),p("Container",["axis","header"]).setAll({layer:30}),p("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const u=p("AxisRenderer");u.setAll({crisp:!0,strokeOpacity:0}),(0,M.v)(u,"stroke",h,"grid")}p("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:c.AQ}),p("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:c.AQ});{const u=p("Rectangle",["axis","thumb"]);u.setAll({fillOpacity:0}),(0,M.v)(u,"fill",h,"alternativeBackground"),u.states.create("hover",{fillOpacity:.1})}p("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),p("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const u=p("Grid");u.setAll({location:0,strokeOpacity:.15,crisp:!0}),(0,M.v)(u,"stroke",h,"grid")}p("Grid",["base"]).setAll({strokeOpacity:.3});{const u=p("Graphics",["axis","fill"]);u.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),(0,M.v)(u,"fill",h,"alternativeBackground")}p("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),p("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),p("Grid",["series","range"]).setAll({visible:!1}),p("AxisTick",["series","range"]).setAll({visible:!1,crisp:!0}),p("AxisLabel",["series","range"]).setAll({visible:!1});{const u=p("AxisTick");u.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),(0,M.v)(u,"stroke",h,"grid")}p("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(u,n)=>{const k=u.get("axisFill");k&&(G.isNumber(n)&&n%2!=0?k.setPrivate("visible",!1):k.setPrivate("visible",!0))}});const x=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],T={millisecond:l.translate("_date_millisecond"),second:l.translate("_date_second"),minute:l.translate("_date_minute"),hour:l.translate("_date_hour"),day:l.translate("_date_day"),week:l.translate("_date_day"),month:l.translate("_date_month"),year:l.translate("_date_year")},b={millisecond:l.translate("_date_millisecond"),second:l.translate("_date_second"),minute:l.translate("_date_minute"),hour:l.translate("_date_day"),day:l.translate("_date_day"),week:l.translate("_date_day"),month:l.translate("_date_month")+" "+l.translate("_date_year"),year:l.translate("_date_year")},I={millisecond:l.translate("_date_millisecond_full"),second:l.translate("_date_second_full"),minute:l.translate("_date_minute_full"),hour:l.translate("_date_hour_full"),day:l.translate("_date_day_full"),week:l.translate("_date_week_full"),month:l.translate("_date_month_full"),year:l.translate("_date_year")};p("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:R.copy(x),dateFormats:F.copy(T),periodChangeDateFormats:F.copy(b)}),p("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:R.copy(x),dateFormats:F.copy(T),periodChangeDateFormats:F.copy(b),tooltipDateFormats:I,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:u=>{const n=u.get("axisFill");if(n){const k=u.component,C=u.get("value"),O=u.get("endValue"),m=k.intervalDuration(),A=k.getPrivate("baseInterval"),P=k.getPrivate("gridInterval",A);let D=k.getPrivate("min",0);if(D=U.round(new Date(D),P.timeUnit,P.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=C&&null!=O){const f=Math.round(Math.round((C-D)/m))/2;f==Math.round(f)?n.setPrivate("visible",!0):n.setPrivate("visible",!1)}}}}),p("GaplessDateAxis").setAll({fillRule:u=>{const n=u.get("axisFill");if(n){const k=u.get("index");let C=!1;G.isNumber(k)&&k%2!=0||(C=!0),n.setPrivate("visible",C)}}}),p("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:u=>{const n=u.get("axisFill");if(n){const k=u.component,C=u.get("value"),O=k.getPrivate("step");G.isNumber(C)&&G.isNumber(O)&&(X.round(C/O/2,5)==Math.round(C/O/2)?n.setPrivate("visible",!1):n.setPrivate("visible",!0))}}}),p("DurationAxis").setAll({baseUnit:"second"}),p("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),p("BaseColumnSeries").setAll({adjustBulletPosition:!0}),p("ColumnSeries").setAll({clustered:!0}),p("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:(0,c.aQ)(70),height:(0,c.aQ)(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),p("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),p("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),p("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),p("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(u,n)=>{const k=n.parent;if(k){const C=k.height(),O=k.width();u.moveTo(0,C/2),u.lineTo(O,C/2)}}});{const u=p("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});(0,M.v)(u,"stroke",h,"disabled")}p("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(u,n)=>{const k=n.parent;if(k){const C=k.height(),O=k.width();u.moveTo(0,0),u.lineTo(O,0),u.lineTo(O,C),u.lineTo(0,C),u.lineTo(0,0)}}});{const u=p("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});(0,M.v)(u,"stroke",h,"disabled")}p("SmoothedXYLineSeries").setAll({tension:.5}),p("SmoothedXLineSeries").setAll({tension:.5}),p("SmoothedYLineSeries").setAll({tension:.5}),p("Candlestick").setAll({position:"absolute",isMeasured:!1,width:(0,c.aQ)(50),height:(0,c.aQ)(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),p("OHLC").setAll({width:(0,c.aQ)(80),height:(0,c.aQ)(80)}),p("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const u=p("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});(0,M.v)(u,"fill",h,"positive"),(0,M.v)(u,"stroke",h,"positive")}{const u=p("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});(0,M.v)(u,"fill",h,"negative"),(0,M.v)(u,"stroke",h,"negative")}p("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),p("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const u=p("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});(0,M.v)(u,"fill",h,"positive"),(0,M.v)(u,"stroke",h,"positive")}{const u=p("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});(0,M.v)(u,"fill",h,"negative"),(0,M.v)(u,"stroke",h,"negative")}}}},3355:function(v,e,i){i.d(e,{L:function(){return E}});var s=i(8777),c=i(6245),S=i(1479),M=i(8943),U=i(5040),G=i(7652),X=i(751),F=i(5071),R=i(256);class E extends s.W{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(M.r.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(M.r.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(S.T.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=G.mergeTags(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:c.AQ,height:c.AQ,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",h=>this._handleLineFocus(h.target))),this._disposers.push(this.lineX.events.on("blur",h=>this._handleLineBlur(h.target))),this._disposers.push(this.lineY.events.on("focus",h=>this._handleLineFocus(h.target))),this._disposers.push(this.lineY.events.on("blur",h=>this._handleLineBlur(h.target))),G.supports("keyboardevents")&&this._disposers.push(G.addEventListener(document,"keydown",h=>{this._handleLineMove(h.keyCode)}))}_setUpTouch(){const h=this.chart;h&&(h.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let h=this.lineX.x(),l=!0;(h<0||h>this.width())&&(l=!1),this.lineX.setPrivate("visible",l)}_handleYLine(){let h=this.lineY.y(),l=!0;(h<0||h>this.height())&&(l=!1),this.lineY.setPrivate("visible",l)}_handleLineMove(h){let l="",p=0,x=.1;const T=this.chart;this._root.focused(this.lineX)?(T&&T.xAxes.length&&(x=T.xAxes.getIndex(0).getCellWidthPosition()),p=this.getPrivate("positionX",0),l="positionX",37==h?p-=x:39==h&&(p+=x)):this._root.focused(this.lineY)&&(T&&T.yAxes.length&&(x=T.yAxes.getIndex(0).getCellWidthPosition()),p=this.getPrivate("positionY",0),l="positionY",38==h?p-=x:40==h&&(p+=x)),p<0?p=0:p>1&&(p=1),""!=l&&this.set(l,p)}_handleLineFocus(h){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(h){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const h=this.get("xAxis");if(h){const l=h.get("tooltip");l&&(this._tooltipX=!0,this._disposers.push(l.on("pointTo",()=>{this._updateXLine(l)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const h=this.get("yAxis");if(h){const l=h.get("tooltip");l&&(this._tooltipY=!0,this._disposers.push(l.on("pointTo",()=>{this._updateYLine(l)})))}}}_handleSyncWith(){const h=this.chart;if(h){const l=this.get("syncWith"),p=[];l&&F.each(l,x=>{const T=x.chart;T&&p.push(T)}),h._otherCharts=p}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const h=this.get("positionX"),l=this.get("positionY");null==h&&null==l?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(h){let l=X.round(this._display.toLocal(h.get("pointTo",{x:0,y:0})).x,2);this._toX!=l&&(this.lineX.animate({key:"x",to:l,duration:h.get("animationDuration",0),easing:h.get("animationEasing")}),this._toX=l)}_updateYLine(h){let l=X.round(this._display.toLocal(h.get("pointTo",{x:0,y:0})).y,2);this._toY!=l&&(this.lineY.animate({key:"y",to:l,duration:h.get("animationDuration",0),easing:h.get("animationEasing")}),this._toY=l)}_drawLines(){this.lineX.set("draw",h=>{h.moveTo(0,0),h.lineTo(0,this.height())}),this.lineY.set("draw",h=>{h.moveTo(0,0),h.lineTo(this.width(),0)})}_setChart(h){this.chart=h,this._handleSyncWith();const l=h.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())},50))}),G.supports("touchevents")&&(this._disposers.push(l.events.on("click",x=>{G.isTouchEvent(x.originalEvent)&&this._handleMove(x.originalEvent)})),this._setUpTouch()),this._disposers.push(l.events.on("pointerdown",x=>{this._handleCursorDown(x.originalEvent)})),this._disposers.push(l.events.on("globalpointerup",x=>{this._handleCursorUp(x.originalEvent),x.native||this.isHidden()||this._handleMove(x.originalEvent)})),this._disposers.push(l.events.on("globalpointermove",x=>{(this.get("syncWith")||0!=R.keys(l._downPoints).length||x.native||!this.isHidden())&&this._handleMove(x.originalEvent)}));const p=this.parent;p&&p.children.moveValue(this.selection)}_inPlot(h){const l=this.chart;return!!l&&l.inPlot(h)}_handleCursorDown(h){const l=this._root.documentPointToRoot({x:h.clientX,y:h.clientY});let p=this._display.toLocal(l);const x=this.chart;if(this.selection.set("draw",()=>{}),x&&this._inPlot(p)){if(this._downPoint=p,"none"!=this.get("behavior")){this.selection.show();const I="selectstarted";this.events.isEnabled(I)&&this.events.dispatch(I,{type:I,target:this})}let T=this._getPosition(p).x,b=this._getPosition(p).y;this.setPrivate("downPositionX",T),this.setPrivate("downPositionY",b)}}_handleCursorUp(h){if(this._downPoint){const l=this.get("behavior","none");if("none"!=l){"z"===l.charAt(0)&&this.selection.hide();const p=this._root.documentPointToRoot({x:h.clientX,y:h.clientY});let x=this._display.toLocal(p);const T=this._downPoint,b=this.get("moveThreshold",1);if(x&&T){let I=!1;if("zoomX"!==l&&"zoomXY"!==l&&"selectX"!==l&&"selectXY"!==l||Math.abs(x.x-T.x)>b&&(I=!0),"zoomY"!==l&&"zoomXY"!==l&&"selectY"!==l&&"selectXY"!==l||Math.abs(x.y-T.y)>b&&(I=!0),I){const u="selectended";this.events.isEnabled(u)&&this.events.dispatch(u,{type:u,target:this})}}}}this._downPoint=void 0}_handleMove(h){if(this.getPrivate("visible")){const l=this.chart;if(l&&R.keys(l.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const p=this._root.documentPointToRoot({x:h.clientX,y:h.clientY}),x=this._lastPoint;if(Math.round(x.x)===Math.round(p.x)&&Math.round(x.y)===Math.round(p.y))return;this._lastPoint=p,this.setPrivate("lastPoint",p),this.handleMove({x:p.x,y:p.y})}}_getPosition(h){return{x:h.x/this.width(),y:h.y/this.height()}}handleMove(h,l){h||(h=this._movePoint);const p=this.get("alwaysShow");if(!h)return void this.hide(0);this._movePoint=h;let x=this._display.toLocal(h),T=this.chart;if(T&&this._inPlot(x)){T._movePoint=h,this.isHidden()&&(this.show(),"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",()=>{}));let b=x.x,I=x.y,u=this._getPosition(x);this.setPrivate("point",x);let n=this.get("snapToSeries");this._downPoint&&(n=void 0);let k=this.get("positionX"),C=u.x;U.isNumber(k)&&(C=k);let O=this.get("positionY"),m=u.y;U.isNumber(O)&&(m=O),this.setPrivate("positionX",C),this.setPrivate("positionY",m);const A=this._getPoint(C,m);if(b=A.x,I=A.y,T.xAxes.each(P=>{P._handleCursorPosition(C,n),p&&P.handleCursorShow()}),T.yAxes.each(P=>{P._handleCursorPosition(m,n),p&&P.handleCursorShow()}),!l){T._handleCursorPosition();const P="cursormoved";this.events.isEnabled(P)&&this.events.dispatch(P,{type:P,target:this})}this._updateLines(b,I),T.arrangeTooltips()}else if(!this._downPoint&&!p){this.hide(0);const b="cursorhidden";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(x)}_getPoint(h,l){return{x:this.width()*h,y:this.height()*l}}_updateLines(h,l){this._tooltipX||this.lineX.set("x",h),this._tooltipY||this.lineY.set("y",l),this._drawLines()}_updateSelection(h){const l=this.selection,p=this.get("behavior"),x=this.width(),T=this.height();h.x<0&&(h.x=0),h.x>x&&(h.x=x),h.y<0&&(h.y=0),h.y>T&&(h.y=T),l.set("draw",b=>{const I=this._downPoint;I&&("zoomXY"===p||"selectXY"===p?(b.moveTo(I.x,I.y),b.lineTo(I.x,h.y),b.lineTo(h.x,h.y),b.lineTo(h.x,I.y),b.lineTo(I.x,I.y)):"zoomX"===p||"selectX"===p?(b.moveTo(I.x,0),b.lineTo(I.x,T),b.lineTo(h.x,T),b.lineTo(h.x,0),b.lineTo(I.x,0)):"zoomY"!==p&&"selectY"!==p||(b.moveTo(0,I.y),b.lineTo(x,I.y),b.lineTo(x,h.y),b.lineTo(0,h.y),b.lineTo(0,I.y)))})}_onHide(){if(this.isHidden()){let h=this.chart;h&&(h.xAxes.each(l=>{l.handleCursorHide()}),h.yAxes.each(l=>{l.handleCursorHide()}),h.series.each(l=>{l.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let h=this.chart;h&&(h.xAxes.each(l=>{l.handleCursorShow()}),h.yAxes.each(l=>{l.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(E,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(E,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.W.classNames.concat([E.className])})},6515:function(v,e,i){i.d(e,{R:function(){return R}});var s=i(9361),c=i(8777),S=i(6245),M=i(7144),U=i(7142),G=i(5071),X=i(5040),F=i(7652);class R extends s.w{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.W.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:c.W.new(this._root,{width:S.AQ,height:S.AQ})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:c.W.new(this._root,{width:S.AQ,height:S.AQ})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.W.new(this._root,{isMeasured:!1,width:S.AQ,height:S.AQ,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new M.aV}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.W.new(this._root,{themeTags:["axis","header"],position:"absolute",background:U.A.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(h=>{if("clear"===h.type)G.each(h.oldValues,l=>{this.disposeDataItem(l)});else if("push"===h.type)this._processAxisRange(h.newValue,["range"]);else if("setIndex"===h.type)this._processAxisRange(h.newValue,["range"]);else if("insertIndex"===h.type)this._processAxisRange(h.newValue,["range"]);else if("removeIndex"===h.type)this.disposeDataItem(h.oldValue);else{if("moveIndex"!==h.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(h.value,["range"])}}));const a=this.get("renderer");a&&(a.axis=this,a.processAxis()),this.children.push(a),this.ghostLabel=a.makeLabel(new s.z(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.set("opacity",0)}zoom(a,h,l,p){if(this.get("start")!==a||this.get("end")!=h){let x=this._sAnimation,T=this._eAnimation,b=this.get("maxDeviation",.5)*Math.min(1,h-a);a<-b&&(a=-b),h>1+b&&(h=1+b),a>h&&([a,h]=[h,a]),X.isNumber(l)||(l=this.get("interpolationDuration",0)),p||(p="end");let I=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=I;1===h&&0!==a&&(p=a<this.get("start")?"start":"end"),0===a&&1!==h&&(p=h>this.get("end")?"end":"start");let n=this.get("minZoomCount"),k=this.get("maxZoomCount");X.isNumber(n)&&(I=u/n);let C=1;if(X.isNumber(k)&&(C=u/k),"start"===p?(k>0&&1/(h-a)<C&&(h=a+1/C),1/(h-a)>I&&(h=a+1/I),h>1&&h-a<1/I&&(a=h-1/I)):(k>0&&1/(h-a)<C&&(a=h-1/C),1/(h-a)>I&&(a=h-1/I),a<0&&h-a<1/I&&(h=a+1/I)),1/(h-a)>I&&(h=a+1/I),1/(h-a)>I&&(a=h-1/I),null!=k&&null!=n&&a==this.get("start")&&h==this.get("end")){const O=this.chart;O&&O._handleAxisSelection(this,!0)}if((x&&x.playing&&x.to==a||this.get("start")==a)&&(T&&T.playing&&T.to==h||this.get("end")==h))return;if(l>0){let O,m,A=this.get("interpolationEasing");if(this.get("start")!=a&&(O=this.animate({key:"start",to:a,duration:l,easing:A})),this.get("end")!=h&&(m=this.animate({key:"end",to:h,duration:l,easing:A})),this._sAnimation=O,this._eAnimation=m,O)return O;if(m)return m}else this.set("start",a),this.set("end",h),this._root.events.once("frameended",()=>{this._markDirtyKey("start"),this._root._markDirty()})}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(a,h){a.setRaw("isRange",!0),this._createAssets(a,h),this._rangesDirty=!0,this._prepareDataItem(a);const l=a.get("above"),p=this.topGridContainer,x=a.get("grid");l&&x&&p.children.moveValue(x);const T=a.get("axisFill");l&&T&&p.children.moveValue(T)}_prepareDataItem(a,h){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(a=>{this._prepareDataItem(a)}),G.each(this._seriesAxisRanges,a=>{this._prepareDataItem(a)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){this.chart._updateCursor();let h=this.get("start",0),l=this.get("end",1),p=this.get("maxDeviation",.5)*Math.min(1,l-h);if(h<-p){let x=h+p;h=-p,this.setRaw("start",h),this.isDirty("end")&&this.setRaw("end",l-x)}if(l>1+p){let x=l-1-p;l=1+p,this.setRaw("end",l),this.isDirty("start")&&this.setRaw("start",h-x)}}const a=this.get("renderer");if(a._start=this.get("start"),a._end=this.get("end"),a._inversed=a.get("inversed",!1),a._axisLength=a.axisLength()/(a._end-a._start),a._updateLC(),this.isDirty("tooltip")){const h=this.get("tooltip");if(h){const l=a.get("themeTags");h.addTag("axis"),h.addTag(this.className.toLowerCase()),h._applyThemes(),l&&(h.set("themeTags",F.mergeTags(h.get("themeTags"),l)),h.label._applyThemes())}}}_updateTooltipBounds(){const a=this.get("tooltip");a&&this.get("renderer").updateTooltipBounds(a)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(a){this.chart=a,this.get("renderer").chart=a,a.gridContainer.children.push(this.gridContainer),a.topGridContainer.children.push(this.topGridContainer),a.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{a._handleAxisSelection(this)}),this.on("end",()=>{a._handleAxisSelection(this)}),a.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),a.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),a.processAxis(this)}hideDataItem(a){return this._toggleDataItem(a,!1),super.hideDataItem(a)}showDataItem(a){return this._toggleDataItem(a,!0),super.showDataItem(a)}_toggleDataItem(a,h){const l=a.get("label");l&&l.setPrivate("visible",h);const p=a.get("grid");p&&p.setPrivate("visible",h);const x=a.get("tick");x&&x.setPrivate("visible",h);const T=a.get("axisFill");T&&T.setPrivate("visible",h);const b=a.get("bullet");if(b){const I=b.get("sprite");I&&I.setPrivate("visible",h)}}_createAssets(a,h){const l=this.get("renderer");a.get("label")||l.makeLabel(a,h),a.get("grid")||l.makeGrid(a,h),a.get("tick")||l.makeTick(a,h),a.get("axisFill")||l.makeAxisFill(a,h),this._processBullet(a)}_processBullet(a){let h=a.get("bullet"),l=this.get("bullet");if(h||!l||a.get("isRange")||(h=l(this._root,this,a)),h){h.axis=this;const p=h.get("sprite");p&&(p._setDataItem(a),a.setRaw("bullet",h),p.parent||this.bulletsContainer.children.push(p))}}_afterChanged(){super._afterChanged();const a=this.chart;a&&(a._updateChartLayout(),a.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions()}disposeDataItem(a){super.disposeDataItem(a);const h=this.get("renderer"),l=a.get("label");l&&(h.labels.removeValue(l),l.dispose());const p=a.get("tick");p&&(h.ticks.removeValue(p),p.dispose());const x=a.get("grid");x&&(h.grid.removeValue(x),x.dispose());const T=a.get("axisFill");T&&(h.axisFills.removeValue(T),T.dispose());const b=a.get("bullet");b&&b.dispose()}_updateGhost(){const a=this.ghostLabel;if(!a.isHidden()){const p=a.localBounds(),x=p.right-p.left;let T=a.get("text");G.each(this.dataItems,b=>{const I=b.get("label");if(I&&!I.isHidden()){const u=I.localBounds();u.right-u.left>x&&(T=I.text._getText())}}),a.set("text",T)}let h=this.get("start",0),l=this.get("end",1);this.get("renderer").updateLabel(a,h+.5*(l-h))}_handleCursorPosition(a,h){a=this.get("renderer").toAxisPosition(a),this._cursorPosition=a,this._snapToSeries=h,this.updateTooltip()}updateTooltip(){const a=this._snapToSeries;let h=this._cursorPosition;const l=this.get("tooltip"),p=this.get("renderer");X.isNumber(h)&&(G.each(this.series,x=>{if(x.get("baseAxis")===this){const T=this.getSeriesItem(x,h,this.get("tooltipLocation"));x.setRaw("tooltipDataItem",T),a&&-1!=a.indexOf(x)?(x.updateLegendMarker(T),x.updateLegendValue(T)):x.showDataItemTooltip(T)}}),l&&(p.updateTooltipBounds(l),this.get("snapTooltip")&&(h=this.roundAxisPosition(h,this.get("tooltipLocation",.5))),X.isNaN(h)?l.hide(0):(this.setPrivateRaw("tooltipPosition",h),this._updateTooltipText(l,h),p.positionTooltip(l,h),h<this.get("start")||h>this.get("end")?l.hide(0):l.show(0))))}_updateTooltipText(a,h){a.label.set("text",this.getTooltipText(h))}roundAxisPosition(a,h){return a}handleCursorShow(){let a=this.get("tooltip");a&&a.show()}handleCursorHide(){let a=this.get("tooltip");a&&a.hide()}processSeriesDataItem(a,h){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(a){const h=this.get("renderer");return h.toAxisPosition(a/h.axisLength())}toAxisPosition(a){return this.get("renderer").toAxisPosition(a)}fixPosition(a){return this.get("renderer").fixPosition(a)}shouldGap(a,h,l,p){return!1}createAxisRange(a){return this.axisRanges.push(a)}_groupSeriesData(a){}getCellWidthPosition(){return.05}}Object.defineProperty(R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.w.classNames.concat([R.className])})},6293:function(v,e,i){i.d(e,{k:function(){return c}});var s=i(962);class c extends s._{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s._.classNames.concat([c.className])})},9084:function(v,e,i){i.d(e,{p:function(){return c}});var s=i(815);class c extends s.x{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.x.classNames.concat([c.className])})},6275:function(v,e,i){i.d(e,{Y:function(){return F}});var s=i(1479),c=i(5769),S=i(7144),M=i(4714),U=i(8943),G=i(6293),X=i(7652);class F extends s.T{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new S.o(c.YS.new({}),()=>M.T._new(this._root,{themeTags:X.mergeTags(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template]))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new S.o(c.YS.new({}),()=>U.r._new(this._root,{themeTags:X.mergeTags(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template]))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new S.o(c.YS.new({}),()=>s.T._new(this._root,{themeTags:X.mergeTags(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new S.o(c.YS.new({}),()=>G.k._new(this._root,{themeTags:X.mergeTags(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(E,a){const h=this.ticks.make();return h._setDataItem(E),E.setRaw("tick",h),h.set("themeTags",X.mergeTags(h.get("themeTags"),a)),this.axis.labelsContainer.children.push(h),this.ticks.push(h),h}makeGrid(E,a){const h=this.grid.make();return h._setDataItem(E),E.setRaw("grid",h),h.set("themeTags",X.mergeTags(h.get("themeTags"),a)),this.axis.gridContainer.children.push(h),this.grid.push(h),h}makeAxisFill(E,a){const h=this.axisFills.make();return h._setDataItem(E),h.set("themeTags",X.mergeTags(h.get("themeTags"),a)),this.axis.gridContainer.children.push(h),E.setRaw("axisFill",h),this.axisFills.push(h),h}makeLabel(E,a){const h=this.labels.make();return h.set("themeTags",X.mergeTags(h.get("themeTags"),a)),this.axis.labelsContainer.children.moveValue(h,0),h._setDataItem(E),E.setRaw("label",h),this.labels.push(h),h}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const E=this.thumb;E&&(this._disposers.push(E.events.on("pointerdown",a=>{this._handleThumbDown(a.originalEvent)})),this._disposers.push(E.events.on("globalpointerup",a=>{this._handleThumbUp(a.originalEvent)})),this._disposers.push(E.events.on("globalpointermove",a=>{this._handleThumbMove(a.originalEvent)})))}_changed(){if(super._changed(),this.isDirty("pan")){const E=this.thumb;if(E){const a=this.axis.labelsContainer,h=this.get("pan");"zoom"==h?a.children.push(E):"none"==h&&a.children.removeValue(E)}}}_handleThumbDown(E){this._thumbDownPoint=this.toLocal(this._root.documentPointToRoot({x:E.clientX,y:E.clientY}));const a=this.axis;this._downStart=a.get("start"),this._downEnd=a.get("end")}_handleThumbUp(E){this._thumbDownPoint=void 0}_handleThumbMove(E){const a=this._thumbDownPoint;if(a){const h=this.toLocal(this._root.documentPointToRoot({x:E.clientX,y:E.clientY})),l=this._downStart,p=this._downEnd,x=this._getPan(h,a)*Math.min(1,p-l)/2;this.axis.setAll({start:l-x,end:p+x})}}_getPan(E,a){return 0}positionToCoordinate(E){return this._inversed?(this._end-E)*this._axisLength:(E-this._start)*this._axisLength}updateTooltipBounds(E){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(E){const a=this._start||0,h=this._end||1;return E*=h-a,this.get("inversed")?h-E:a+E}fixPosition(E){return this.get("inversed")?1-E:E}_updateLC(){}toggleVisibility(E,a,h,l){let p=this.axis;const x=p.get("start",0),T=p.get("end",1);E.setPrivate("visible",!(a<x+(T-x)*(h-1e-4)||a>x+(T-x)*(l+1e-4)))}_positionTooltip(E,a){const h=this.chart;h&&(h.inPlot(a)?E.set("pointTo",this._display.toGlobal(a)):E.hide())}processAxis(){}}Object.defineProperty(F,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(F,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.T.classNames.concat([F.className])})},6284:function(v,e,i){i.d(e,{n:function(){return G}});var s=i(6275),c=i(6245),S=i(5040),M=i(7652),U=i(7142);class G extends s.Y{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:U.A.new(this._root,{width:c.AQ,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const F=this.grid.template;F.set("height",c.AQ),F.set("width",0),F.set("draw",(R,E)=>{R.moveTo(0,0),R.lineTo(0,E.height())}),this.set("draw",(R,E)=>{R.moveTo(0,0),R.lineTo(E.width(),0)})}_changed(){super._changed();const F=this.axis;F.ghostLabel.setPrivate("visible",!this.get("inside"));const R="opposite",E="inside";if(this.isDirty(R)||this.isDirty(E)){const a=this.chart,h=F.children;if(this.get(E)?F.addTag(E):F.removeTag(E),a){if(this.get(R)){const l=a.topAxesContainer.children;-1==l.indexOf(F)&&l.insertIndex(0,F),F.addTag(R),h.moveValue(this)}else{const l=a.bottomAxesContainer.children;-1==l.indexOf(F)&&l.moveValue(F),F.removeTag(R),h.moveValue(this,0)}F.ghostLabel._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}F.markDirtySize()}this.thumb.setPrivate("height",F.labelsContainer.height())}_getPan(F,R){return(R.x-F.x)/this.width()}toAxisPosition(F){const R=this._start||0,E=this._end||1;return F=(F-=this._ls)*(E-R)/this._lc,this.get("inversed")?E-F:R+F}_updateLC(){const F=this.axis,R=F.parent;if(R){const E=R.innerWidth();this._lc=this.axisLength()/E,this._ls=(F.x()-R.get("paddingLeft",0))/E}}_updatePositions(){const F=this.axis;F.gridContainer.set("x",F.x()-M.relativeToValue(F.get("centerX",0),F.width())-F.parent.get("paddingLeft",0)),F.bulletsContainer.set("y",this.y());const R=F.chart;if(R){const E=R.plotContainer,a=F.axisHeader;let h=F.get("marginLeft",0),l=F.x()-h;const p=F.parent;p&&(l-=p.get("paddingLeft",0)),a.children.length>0?(h=F.axisHeader.width(),F.set("marginLeft",h+1)):a.set("width",h),a.setAll({x:l,y:-1,height:E.height()+2})}}processAxis(){super.processAxis();const F=this.axis;F.set("width",c.AQ);const R=this._root.verticalLayout;F.set("layout",R),F.labelsContainer.set("width",c.AQ),F.axisHeader.setAll({layout:R})}axisLength(){return this.axis.width()}positionToPoint(F){return{x:this.positionToCoordinate(F),y:0}}updateTick(F,R,E,a){if(F){S.isNumber(R)||(R=0);let h=.5;h=S.isNumber(a)&&a>1?F.get("multiLocation",h):F.get("location",h),S.isNumber(E)&&E!=R&&(R+=(E-R)*h),F.set("x",this.positionToCoordinate(R));let l=F.get("length",0);const p=F.get("inside",this.get("inside",!1));this.get("opposite")?(F.set("y",c.AQ),p||(l*=-1)):(F.set("y",0),p&&(l*=-1)),F.set("draw",x=>{x.moveTo(0,0),x.lineTo(0,l)}),this.toggleVisibility(F,R,F.get("minPosition",0),F.get("maxPosition",1))}}updateLabel(F,R,E,a){if(F){let h=.5;h=S.isNumber(a)&&a>1?F.get("multiLocation",h):F.get("location",h),S.isNumber(R)||(R=0);const l=F.get("inside",this.get("inside",!1));this.get("opposite")?l?(F.set("position","absolute"),F.set("y",0)):(F.set("position","relative"),F.set("y",c.AQ)):l?(F.set("y",0),F.set("position","absolute")):(F.set("y",void 0),F.set("position","relative")),S.isNumber(E)&&E!=R&&(R+=(E-R)*h),F.set("x",this.positionToCoordinate(R)),this.toggleVisibility(F,R,F.get("minPosition",0),F.get("maxPosition",1))}}updateGrid(F,R,E){if(F){S.isNumber(R)||(R=0);let a=F.get("location",.5);S.isNumber(E)&&E!=R&&(R+=(E-R)*a),F.set("x",this.positionToCoordinate(R)),this.toggleVisibility(F,R,0,1)}}updateBullet(F,R,E){if(F){const a=F.get("sprite");if(a){S.isNumber(R)||(R=0);let h=F.get("location",.5);S.isNumber(E)&&E!=R&&(R+=(E-R)*h);let l=this.axis.roundAxisPosition(R,h),p=this.axis._bullets[l],x=-1;if(this.get("opposite")&&(x=1),F.get("stacked"))if(p){let T=p.get("sprite");T&&a.set("y",T.y()+T.height()*x)}else a.set("y",0);this.axis._bullets[l]=F,a.set("x",this.positionToCoordinate(R)),this.toggleVisibility(a,R,0,1)}}}updateFill(F,R,E){if(F){S.isNumber(R)||(R=0),S.isNumber(E)||(E=1);let a=this.positionToCoordinate(R),h=this.positionToCoordinate(E);this.fillDrawMethod(F,a,h)}}fillDrawMethod(F,R,E){F.set("draw",a=>{const h=this.axis.gridContainer.height(),l=this.width();E<R&&([E,R]=[R,E]),R>l||E<0||(a.moveTo(R,0),a.lineTo(E,0),a.lineTo(E,h),a.lineTo(R,h),a.lineTo(R,0))})}positionTooltip(F,R){this._positionTooltip(F,{x:this.positionToCoordinate(R),y:0})}updateTooltipBounds(F){const R=this.get("inside"),E=1e5;let a=this._display.toGlobal({x:0,y:0}),h=a.x,l=0,p=this.axisLength(),x=E,T="up";this.get("opposite")?R?(T="up",l=a.y,x=E):(T="down",l=a.y-E,x=E):R?(T="down",l=a.y-E,x=E):(T="up",l=a.y,x=E);const b={left:h,right:h+p,top:l,bottom:l+x},I=F.get("bounds");M.sameBounds(b,I)||(F.set("bounds",b),F.set("pointerOrientation",T))}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.Y.classNames.concat([G.className])})},7909:function(v,e,i){i.d(e,{j:function(){return G}});var s=i(6275),c=i(6245),S=i(5040),M=i(7652),U=i(7142);class G extends s.Y{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:U.A.new(this._root,{height:c.AQ,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const F=this.grid.template;F.set("width",c.AQ),F.set("height",0),F.set("draw",(R,E)=>{R.moveTo(0,0),R.lineTo(E.width(),0)}),this.set("draw",(R,E)=>{R.moveTo(0,0),R.lineTo(0,E.height())})}_getPan(F,R){return(F.y-R.y)/this.height()}_changed(){super._changed();const F=this.axis;F.ghostLabel.setPrivate("visible",!this.get("inside"));const R=this.thumb,E="opposite",a="inside",h=this.chart;if(this.isDirty(E)||this.isDirty(a)){const p=F.children;if(this.get(a)?F.addTag(a):F.removeTag(a),h){if(this.get(E)){const x=h.rightAxesContainer.children;-1==x.indexOf(F)&&x.moveValue(F,0),F.addTag(E),p.moveValue(this,0)}else{const x=h.leftAxesContainer.children;-1==x.indexOf(F)&&x.moveValue(F),F.removeTag(E),p.moveValue(this)}F.ghostLabel._applyThemes(),this.labels.each(x=>{x._applyThemes()}),this.root._markDirtyRedraw()}F.markDirtySize()}var l=F.labelsContainer.width();h&&(this.get(E)?R.set("centerX",0):R.set("centerX",l)),R.setPrivate("width",l)}processAxis(){super.processAxis();const F=this.axis;null==F.get("height")&&F.set("height",c.AQ);const R=this._root.horizontalLayout;F.set("layout",R),F.labelsContainer.set("height",c.AQ),F.axisHeader.set("layout",R)}_updatePositions(){const F=this.axis;F.gridContainer.set("y",F.y()-M.relativeToValue(F.get("centerY",0),F.height())),F.bulletsContainer.set("x",this.x());const R=F.chart;if(R){const E=R.plotContainer,a=F.axisHeader;let h=F.get("marginTop",0);a.children.length>0?(h=F.axisHeader.height(),F.set("marginTop",h+1)):a.set("height",h),a.setAll({y:F.y()-h,x:-1,width:E.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(F){return{x:0,y:this.positionToCoordinate(F)}}updateLabel(F,R,E,a){if(F){S.isNumber(R)||(R=0);let h=.5;h=S.isNumber(a)&&a>1?F.get("multiLocation",h):F.get("location",h);const l=this.get("opposite"),p=F.get("inside",this.get("inside",!1));l?(F.set("x",0),F.set("position",p?"absolute":"relative")):p?(F.set("x",0),F.set("position","absolute")):(F.set("x",void 0),F.set("position","relative")),S.isNumber(E)&&E!=R&&(R+=(E-R)*h),F.set("y",this.positionToCoordinate(R)),this.toggleVisibility(F,R,F.get("minPosition",0),F.get("maxPosition",1))}}updateGrid(F,R,E){if(F){S.isNumber(R)||(R=0);let a=F.get("location",.5);S.isNumber(E)&&E!=R&&(R+=(E-R)*a),F.set("y",this.positionToCoordinate(R)),this.toggleVisibility(F,R,0,1)}}updateTick(F,R,E,a){if(F){S.isNumber(R)||(R=0);let h=.5;h=S.isNumber(a)&&a>1?F.get("multiLocation",h):F.get("location",h),S.isNumber(E)&&E!=R&&(R+=(E-R)*h),F.set("y",this.positionToCoordinate(R));let l=F.get("length",0);const p=F.get("inside",this.get("inside",!1));this.get("opposite")?(F.set("x",0),p&&(l*=-1)):p||(l*=-1),F.set("draw",x=>{x.moveTo(0,0),x.lineTo(l,0)}),this.toggleVisibility(F,R,F.get("minPosition",0),F.get("maxPosition",1))}}updateBullet(F,R,E){if(F){const a=F.get("sprite");if(a){S.isNumber(R)||(R=0);let h=F.get("location",.5);S.isNumber(E)&&E!=R&&(R+=(E-R)*h);let l=this.axis.roundAxisPosition(R,h),p=this.axis._bullets[l],x=1;if(this.get("opposite")&&(x=-1),F.get("stacked"))if(p){let T=p.get("sprite");T&&a.set("x",T.x()+T.width()*x)}else a.set("x",0);this.axis._bullets[l]=F,a.set("y",this.positionToCoordinate(R)),this.toggleVisibility(a,R,0,1)}}}updateFill(F,R,E){if(F){S.isNumber(R)||(R=0),S.isNumber(E)||(E=1);let a=this.positionToCoordinate(R),h=this.positionToCoordinate(E);this.fillDrawMethod(F,a,h)}}fillDrawMethod(F,R,E){F.set("draw",a=>{const h=this.axis.gridContainer.width(),l=this.height();E<R&&([E,R]=[R,E]),R>l||E<0||(a.moveTo(0,R),a.lineTo(h,R),a.lineTo(h,E),a.lineTo(0,E),a.lineTo(0,R))})}positionToCoordinate(F){return this._inversed?(F-this._start)*this._axisLength:(this._end-F)*this._axisLength}positionTooltip(F,R){this._positionTooltip(F,{x:0,y:this.positionToCoordinate(R)})}updateTooltipBounds(F){const R=this.get("inside"),E=1e5;let a=this._display.toGlobal({x:0,y:0}),h=a.y,l=0,p=this.axisLength(),x=E,T="right";this.get("opposite")?R?(T="right",l=a.x-E,x=E):(T="left",l=a.x,x=E):R?(T="left",l=a.x,x=E):(T="right",l=a.x-E,x=E);const b={left:l,right:l+x,top:h,bottom:h+p},I=F.get("bounds");M.sameBounds(b,I)||(F.set("bounds",b),F.set("pointerOrientation",T))}_updateLC(){const F=this.axis,R=F.parent;if(R){const E=R.innerHeight();this._lc=this.axisLength()/E,this._ls=F.y()/E}}toAxisPosition(F){const R=this._start||0,E=this._end||1;return F=(F-=this._ls)*(E-R)/this._lc,this.get("inversed")?R+F:E-F}fixPosition(F){return this.get("inversed")?F:1-F}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.Y.classNames.concat([G.className])})},4714:function(v,e,i){i.d(e,{T:function(){return c}});var s=i(2438);class c extends s.d{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.d.classNames.concat([c.className])})},5638:function(v,e,i){i.d(e,{S:function(){return R}});var s=i(9361),c=i(7261),S=i(5040),M=i(3540),U=i(5071),G=i(256),X=i(7652),F=i(1926);class R extends c.m{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=X.mergeTags(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(a){this.setPrivateRaw("baseInterval",a),this._baseDuration=F.getIntervalDuration(a)}_fixZoomFactor(){var a=this.get("maxZoomFactor");this.setPrivateRaw("maxZoomFactor",null!=a&&a!=1/0?a:Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const a=this.getPrivate("min"),h=this.getPrivate("max");if(S.isNumber(a)&&S.isNumber(h)){this._fixZoomFactor();const l=this.getPrivate("groupInterval");if(this._setBaseInterval(l||this.get("baseInterval")),this.isDirty("groupInterval")){let p=this.get("groupInterval");p&&this.setRaw("groupIntervals",[p])}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))U.each(this.series,p=>{this._groupSeriesData(p)}),this._handleRangeChange();else{let p=this.get("baseInterval"),x=p.timeUnit+p.count;U.each(this.series,T=>{T.setDataSet(x)}),this._setBaseInterval(p),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(a){if(this.get("groupData")&&!a.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let h=[],l=this.baseMainDuration(),p=this.get("groupIntervals");U.each(p,P=>{F.getIntervalDuration(P)>l&&h.push(P)}),a._dataSets={};const x=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let T;const b=a.get("baseAxis");a.get("xAxis")===b?T=a._valueYFields:a.get("yAxis")===b&&(T=a._valueXFields);let I=a._mainDataItems,u=this.get("baseInterval");a._dataSets[u.timeUnit+u.count]=I;const k=a.get("groupDataCallback");let C=a.get("groupDataWithOriginals",!1);k&&(C=!0);const O=this._root.locale.firstDayOfWeek,m=this._root.utc,A=this._root.timezone;U.each(h,P=>{let D,f=-1/0,o=P.timeUnit+P.count;a._dataSets[o]=[];let B={},V={},q={},nt={};U.each(T,tt=>{B[tt]=0,V[tt]=0,q[tt]=a.get(tt+"Grouped"),nt[tt]=tt+"Working"});let yt,ut,Y=F.getDuration(P.timeUnit);I[0]&&(yt=new Date(I[0].get(x))),U.each(I,tt=>{let wt,St=tt.get(x),At=F.round(new Date(St),P.timeUnit,P.count,O,m,yt,A).getTime();f<At-Y/24?(wt=G.copy(tt.dataContext),D=new s.z(a,wt,a._makeDataItem(wt)),D.setRaw(x,At),a._dataSets[o].push(D),U.each(T,ht=>{let mt=tt.get(ht);S.isNumber(mt)?(D.setRaw(ht,mt),D.setRaw(nt[ht],mt),V[ht]=1,B[ht]=mt):(B[ht]=0,V[ht]=0)}),C&&D.set("originals",[tt]),k&&ut&&k(ut,P),ut=D):(U.each(T,ht=>{let mt=q[ht],dt=tt.get(ht);if(void 0!==dt){let Lt=D.get(ht);switch(mt){case"close":D.setRaw(ht,dt);break;case"sum":D.setRaw(ht,Lt+dt);break;case"open":break;case"low":dt<Lt&&D.setRaw(ht,dt);break;case"high":dt>Lt&&D.setRaw(ht,dt);break;case"average":V[ht]++,B[ht]+=dt,D.setRaw(ht,B[ht]/V[ht]);break;case"extreme":Math.abs(dt)>Math.abs(Lt)&&D.setRaw(ht,dt)}D.setRaw(nt[ht],D.get(ht));let Ct=G.copy(tt.dataContext);Ct[x]=At,D.dataContext=Ct}}),C&&D.get("originals").push(tt)),f=At}),k&&ut&&k(ut,P)}),a._dataSetId&&a.setDataSet(a._dataSetId),this.markDirtySize()}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(a){let h=this.get("baseInterval"),l=F.chooseInterval(0,a,this.get("groupCount",1/0),this.get("groupIntervals"));return F.getIntervalDuration(l)<F.getIntervalDuration(h)&&(l=Object.assign({},h)),l}getIntervalMax(a){return this._intervalMax[a.timeUnit+a.count]}getIntervalMin(a){return this._intervalMin[a.timeUnit+a.count]}_handleRangeChange(){super._handleRangeChange();let a=Math.round(this.getPrivate("selectionMin")),h=Math.round(this.getPrivate("selectionMax"));if(S.isNumber(a)&&S.isNumber(h)){if(0==this.get("endLocation")&&(h+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let l=h-a+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration()),p=this.get("groupInterval");p||(p=this.getGroupInterval(l));let x=this.getPrivate("groupInterval");if(p&&(!x||x.timeUnit!==p.timeUnit||x.count!==p.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",p),this._setBaseInterval(p);let T=p.timeUnit+p.count;U.each(this.series,b=>{b.get("baseAxis")===this&&b.setDataSet(T)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const b="groupintervalchanged";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this})})})}}U.each(this.series,l=>{if(l.get("baseAxis")===this){let p=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),x=U.getSortedIndex(l.dataItems,O=>M.qu(O.get(p),a)).index;x>0&&(x-=1),h+=this.baseDuration()*(1-this.get("endLocation",1));let T=U.getSortedIndex(l.dataItems,O=>M.qu(O.get(p),h)).index,b=T;b>0&&b--;const I=l.dataItems[x],u=l.dataItems[b];let n,k;I&&(k=I.get(p)),u&&(n=u.get(p));let C=!1;null!=n&&null!=k&&(n<a||k>h)&&(C=!0),l.setPrivate("outOfSelection",C),l.setPrivate("startIndex",x),l.setPrivate("endIndex",T)}})}}_adjustMinMax(a,h,l,p){return{min:a,max:h,step:(h-a)/l}}intervalDuration(){return this._intervalDuration}_saveMinMax(a,h){let l=this.getPrivate("groupInterval");l||(l=this.get("baseInterval"));let p=l.timeUnit+l.count;this._intervalMin[p]=a,this._intervalMax[p]=h}_getM(a){return"month"==a||"year"==a||"day"==a?1.05:1.01}_prepareAxisItems(){const a=this.getPrivate("min"),h=this.getPrivate("max");if(S.isNumber(a)&&S.isNumber(h)){const l=Math.round(this.getPrivate("selectionMin")),p=Math.round(this.getPrivate("selectionMax")),x=this.get("renderer"),T=this.getPrivate("baseInterval");let b=l,I=0;const u=this.get("gridIntervals");let n=F.chooseInterval(0,p-l,x.gridCount(),u);F.getIntervalDuration(n)<this.baseDuration()&&(n=Object.assign({},T));const k=F.getIntervalDuration(n);this._intervalDuration=k;const C=F.getNextUnit(n.timeUnit),O=this._root.locale.firstDayOfWeek,m=this._root.utc,A=this._root.timezone;b=F.round(new Date(l-k),n.timeUnit,n.count,O,m,new Date(a),A).getTime();let P,D=b-k;const f=this.get("dateFormats");for(this.setPrivateRaw("gridInterval",n);b<p+k;){let o;this.dataItems.length<I+1?(o=new s.z(this,void 0,{}),this._dataItems.push(o),this.processDataItem(o)):o=this.dataItems[I],this._createAssets(o,[]),o.isHidden()&&o.show(),o.setRaw("value",b);let B=b+F.getDuration(n.timeUnit,n.count*this._getM(n.timeUnit));B=F.round(new Date(B),n.timeUnit,1,O,m,void 0,A).getTime(),o.setRaw("endValue",B);let V=new Date(b);P=f[n.timeUnit],C&&this.get("markUnitChange")&&S.isNumber(D)&&"year"!=n.timeUnit&&F.checkChange(b,D,C,m,A)&&(P=this.get("periodChangeDateFormats")[n.timeUnit]);const q=o.get("label");if(q&&q.set("text",this._root.dateFormatter.format(V,P)),this._prepareDataItem(o,n.count),D=b,b=B,b==D)break;I++}for(let o=I;o<this.dataItems.length;o++)this.dataItems[o].hide();U.each(this.series,o=>{o.inited&&o._markDirtyAxes()})}this._updateGhost()}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(a){const h=this.getPrivate("baseInterval"),l=this._root.locale.firstDayOfWeek,p=this._root.timezone,x=this._root.utc,T=h.timeUnit;let b=F.round(new Date(a),T,h.count,l,x,void 0,p).getTime(),I=b+F.getDuration(T,h.count*this._getM(T));return I=F.round(new Date(I),T,1,l,x,void 0,p).getTime(),b+(I-b)*this.get("startLocation",0)}_fixMax(a){const h=this.getPrivate("baseInterval"),l=this._root.locale.firstDayOfWeek,p=this._root.timezone,x=this._root.utc,T=h.timeUnit;let b=F.round(new Date(a),T,h.count,l,x,void 0,p).getTime(),I=b+F.getDuration(T,h.count*this._getM(T));return I=F.round(new Date(I),T,1,l,x,void 0,p).getTime(),b+(I-b)*this.get("endLocation",1)}_updateDates(a){}baseDuration(){return this._baseDuration}baseMainDuration(){return F.getIntervalDuration(this.get("baseInterval"))}processSeriesDataItem(a,h){const l=this.getPrivate("baseInterval");a.open||(a.open={}),a.close||(a.close={}),U.each(h,p=>{let x=a.get(p);if(S.isNumber(x)){let T=a.open[p],b=a.close[p];if(!(x>=T&&x<=b)){const I=this._root.locale.firstDayOfWeek,u=this._root.utc,n=this._root.timezone,k=l.timeUnit,C=l.count;T=F.round(new Date(x),k,C,I,u,void 0,n).getTime(),b=T+F.getDuration(k,C*this._getM(k)),b=F.round(new Date(b),k,1,I,u,void 0,n).getTime(),a.open[p]=T,a.close[p]=b}this._updateDates(T)}})}getDataItemPositionX(a,h,l,p){let x,T;a.open&&a.close?(x=a.open[h],T=a.close[h]):(x=a.get(h),T=x);let b=x+(T-x)*l;return b=this._baseValue+(b-this._baseValue)*p,this.valueToPosition(b)}getDataItemCoordinateX(a,h,l,p){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(a,h,l,p))}getDataItemPositionY(a,h,l,p){let x,T;a.open&&a.close?(x=a.open[h],T=a.close[h]):(x=a.get(h),T=x);let b=x+(T-x)*l;return b=this._baseValue+(b-this._baseValue)*p,this.valueToPosition(b)}getDataItemCoordinateY(a,h,l,p){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(a,h,l,p))}roundAxisPosition(a,h){let l=this.positionToValue(a);l-=(h-.5)*this.baseDuration();let p=this.getPrivate("baseInterval");if(!S.isNaN(l)){const x=this._root.locale.firstDayOfWeek,T=p.timeUnit,b=this._root.utc,I=this._root.timezone,u=p.count;l=F.round(new Date(l),T,u,x,b,new Date(this.getPrivate("min",0)),I).getTime();let n=F.getDateIntervalDuration(p,new Date(l),x,b,I);return I&&(l=F.round(new Date(l+.05*this.baseDuration()),T,u,x,b,new Date(this.getPrivate("min",0)),I).getTime(),n=F.getDateIntervalDuration(p,new Date(l+n*h),x,b,I)),this.valueToPosition(l+n*h)}return NaN}getTooltipText(a){if(null!=this.getPrivate("min")){let h=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],l=this.positionToValue(a),p=new Date(l),x=this.getPrivate("baseInterval"),T=F.getDateIntervalDuration(x,p,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return this._root.dateFormatter.format(new Date(l+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*T),this.get("tooltipDateFormat",h))}return""}getSeriesItem(a,h,l){let p=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),x=this.positionToValue(h);null==l&&(l=.5),x-=(l-.5)*this.baseDuration();const T=U.getSortedIndex(a.dataItems,b=>{var I=0;return b.open&&(I=b.open[p]),M.qu(I,x)});if(a.get("snapTooltip")){let b=a.dataItems[T.index-1],I=a.dataItems[T.index];if(b&&I&&b.open&&I.close){let n=I.close[p];if(Math.abs(x-b.open[p])>Math.abs(x-n))return I}if(b)return b;if(I)return I}else{const b=a.dataItems[T.index-1];if(b&&b.open&&b.close){let u=b.close[p];if(x>=b.open[p]&&x<=u)return b}}}shouldGap(a,h,l,p){const x=a.get(p);return h.get(p)-x>this.baseDuration()*l}zoomToDates(a,h,l){this.zoomToValues(a.getTime(),h.getTime(),l)}positionToDate(a){return new Date(this.positionToValue(a))}dateToPosition(a){return this.valueToPosition(a.getTime())}getCellWidthPosition(){let a=this.getPrivate("selectionMax",this.getPrivate("max")),h=this.getPrivate("selectionMin",this.getPrivate("min"));return S.isNumber(a)&&S.isNumber(h)?this.baseDuration()/(a-h):.05}}Object.defineProperty(R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.m.classNames.concat([R.className])})},8701:function(v,e,i){i.d(e,{J:function(){return X}});var s=i(5638),c=i(9361),S=i(5071),M=i(3540),U=i(1926),G=i(5040);class X extends s.S{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_dates",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.valueFields.push("date"),super._afterNew()}_updateDates(R){const E=this._dates,a=S.getSortedIndex(E,h=>M.qu(h,R));a.found||S.insertIndex(E,a.index,R)}_updateAllDates(){this._dates.length=0,S.each(this.series,R=>{let E="valueX";R.get("yAxis")==this&&(E="valueY"),S.each(R.dataItems,a=>{let h=a.get(E);G.isNumber(h)&&a.open&&this._updateDates(a.open[E])})})}valueToPosition(R){const E=this._dates,a=this.get("startLocation",0),h=this.get("endLocation",1),l=E.length-a-(1-h),p=S.getSortedIndex(E,T=>M.qu(T,R));let x=p.index;if(p.found)return(x-a)/l;{x>0&&(x-=1);let T=E[x],b=0;return b=T>R?T-R:R-T,(x-a)/l+b/this.baseDuration()/l}}valueToIndex(R){const a=S.getSortedIndex(this._dates,l=>M.qu(l,R));let h=a.index;return a.found||h>0&&(h-=1),h}positionToValue(R){const E=this.get("startLocation",0),a=this.get("endLocation",1);let h=Math.round(this._dates.length-E-(1-a)),l=R*h,p=Math.floor(l);return p<0&&(p=0),p>h-1&&(p=h-1),this._dates[p]+(l-p+E)*this.baseDuration()}_fixZoomFactor(){this.setPrivateRaw("maxZoomFactor",this._dates.length-this.get("startLocation",0)-(1-this.get("endLocation",1)))}_prepareAxisItems(){let R=this.getPrivate("selectionMin",0),E=this.getPrivate("selectionMax",0);if(G.isNumber(R)&&G.isNumber(E)){this._seriesValuesDirty&&(this._seriesValuesDirty=!1,this._updateAllDates());const a=this._dates,h=this.get("renderer"),l=a.length;let p=this.valueToIndex(R);p>0&&p--;let x=this.valueToIndex(E);x<l-1&&x++;let T=h.axisLength()/Math.max(h.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),b=Math.min(l,Math.ceil((x-p)/T));b=Math.max(1,b),p=Math.floor(p/b)*b,this._frequency=b;for(let B=0,V=this.dataItems.length;B<V;B++)this.dataItems[B].hide();let I=E-R-((E-R)/this.baseDuration()-(x-p))*this.baseDuration(),u=U.chooseInterval(0,I,T,this.get("gridIntervals"));const n=this.getPrivate("baseInterval");let k=U.getIntervalDuration(u);k<this.baseDuration()&&(u=Object.assign({},n),k=U.getIntervalDuration(u)),this._intervalDuration=k;const C=this.get("dateFormats");let O=[],m=new Date;this._dates[0]&&(m=new Date(this._dates[0]));let A=U.round(new Date(this.getPrivate("min",0)),u.timeUnit,u.count,this._root.locale.firstDayOfWeek,this._root.utc,m,this._root.timezone),P=U.add(A,u.timeUnit,-1,this._root.utc,this._root.timezone).getTime(),D=this.getPrivate("selectionMax"),f=-1/0,o=(this.get("end",1)-this.get("start",0))/T;for(;P<=D;){let B=this.valueToIndex(P),V=this._dates[B];if(V<P)for(let yt=B,ut=this._dates.length;yt<ut;yt++)if(this._dates[yt]>=P){B=yt;break}let q=this.valueToPosition(V);q-f>=.95*o&&(S.move(O,B),f=q);let nt=P;if(P+=U.getDuration(u.timeUnit,u.count*this._getM(u.timeUnit)),P=U.round(new Date(P),u.timeUnit,u.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),P==nt)break}if(O.length>0){let B=0,V=P-10*k;const q=U.getNextUnit(u.timeUnit);S.each(O,nt=>{let yt;this.dataItems.length<B+1?(yt=new c.z(this,void 0,{}),this._dataItems.push(yt),this.processDataItem(yt)):yt=this.dataItems[B];let ut=a[nt],Y=new Date(ut),tt=ut;if(B<O.length-1?tt=a[O[B+1]]:tt+=k,yt.setRaw("value",ut),yt.setRaw("endValue",tt),yt.setRaw("index",B),nt>p-100&&nt<x+100){let wt=C[u.timeUnit];wt=C[u.timeUnit],q&&this.get("markUnitChange")&&G.isNumber(V)&&"year"!=u.timeUnit&&U.checkChange(ut,V,q,this._root.utc,this._root.timezone)&&(wt=this.get("periodChangeDateFormats")[u.timeUnit]),this._createAssets(yt,[]);const St=yt.get("label");St&&St.set("text",this._root.dateFormatter.format(Y,wt)),yt.isHidden()&&yt.show(),this._prepareDataItem(yt,u.count)}B++,V=ut})}S.each(this.series,B=>{B.inited&&B._markDirtyAxes()})}this._updateGhost()}}Object.defineProperty(X,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GaplessDateAxis"}),Object.defineProperty(X,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.S.classNames.concat([X.className])})},8943:function(v,e,i){i.d(e,{r:function(){return c}});var s=i(1479);class c extends s.T{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.T.classNames.concat([c.className])})},7261:function(v,e,i){i.d(e,{m:function(){return F}});var s=i(9361),c=i(6515),S=i(7449),M=i(5040),U=i(5071),G=i(751),X=i(7652);class F extends c.R{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=X.mergeTags(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let E=this.get("syncWithAxis");E&&(this._syncDp=new S.FV([E.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),E.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("min")||this.isDirty("max")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(this._getMinMax(),this.ghostLabel.set("text",""),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_groupData(){}_formatText(E){const a=this.get("numberFormat"),h=this.getNumberFormatter();let l="";return l=a?h.format(E,a):h.format(E,void 0,this.getPrivate("stepDecimalPlaces")),l}_prepareAxisItems(){const E=this.getPrivate("min"),a=this.getPrivate("max");if(M.isNumber(E)&&M.isNumber(a)){const h=this.get("logarithmic"),l=this.getPrivate("step"),p=this.getPrivate("selectionMin"),x=this.getPrivate("selectionMax")+l;let T=p-l,b=0,I=1,u=E;if(h){if(T=this._minLogAdjusted,T<p)for(;T<p;)T+=l;u=T,u<=0&&(u=1,l<1&&(u=l)),I=Math.log(x-l)*Math.LOG10E-Math.log(u)*Math.LOG10E,I>2&&(T=Math.pow(10,Math.log(u)*Math.LOG10E-5))}let n=-1/0;for(;T<x;){let k;this.dataItems.length<b+1?(k=new s.z(this,void 0,{}),this._dataItems.push(k),this.processDataItem(k)):k=this.dataItems[b],this._createAssets(k,[]),k.isHidden()&&k.show(),k.setRaw("value",T);const C=k.get("label");if(C&&C.set("text",this._formatText(T)),this._prepareDataItem(k),h&&I>2?T=Math.pow(10,Math.log(u)*Math.LOG10E+b-5):T+=l,n==T)break;let O=Math.pow(10,Math.floor(Math.log(Math.abs(l))*Math.LOG10E));if(O<1){let m=Math.round(Math.abs(Math.log(Math.abs(O))*Math.LOG10E))+2;T=G.round(T,m)}b++,n=T}for(let k=b;k<this.dataItems.length;k++)this.dataItems[k].hide();U.each(this.series,k=>{k.inited&&k._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(E,a){let h=this.get("renderer"),l=E.get("value"),p=E.get("endValue"),x=this.valueToPosition(l),T=x,b=this.valueToPosition(l+this.getPrivate("step"));M.isNumber(p)&&(T=this.valueToPosition(p),b=T),E.get("isRange")&&null==p&&(b=x),h.updateLabel(E.get("label"),x,T,a);const I=E.get("grid");if(h.updateGrid(I,x,T),I&&(l==this.get("baseValue",0)?(I.addTag("base"),I._applyThemes()):I.hasTag("base")&&(I.removeTag("base"),I._applyThemes())),h.updateTick(E.get("tick"),x,T,a),h.updateFill(E.get("axisFill"),x,b),this._processBullet(E),h.updateBullet(E.get("bullet"),x,T),!E.get("isRange")){const u=this.get("fillRule");u&&u(E)}}_handleRangeChange(){let E=this.positionToValue(this.get("start",0)),a=this.positionToValue(this.get("end",1));const h=this.get("renderer").gridCount();let l=this._adjustMinMax(E,a,h,!0),p=X.decimalPlaces(l.step);this.setPrivateRaw("stepDecimalPlaces",p),E=G.round(E,p),a=G.round(a,p),l=this._adjustMinMax(E,a,h,!0);let x=l.step;E=l.min,a=l.max,this.getPrivate("selectionMin")===E&&this.getPrivate("selectionMax")===a&&this.getPrivate("step")===x||(this.setPrivateRaw("selectionMin",E),this.setPrivateRaw("selectionMax",a),this.setPrivateRaw("step",x))}positionToValue(E){const a=this.getPrivate("min"),h=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(E*(Math.log(h)*Math.LOG10E-Math.log(a)*Math.LOG10E)+Math.log(a)*Math.LOG10E)/Math.LOG10E):E*(h-a)+a}valueToPosition(E){const a=this.getPrivate("min"),h=this.getPrivate("max");if(this.get("logarithmic")){if(E<=0){let l=this.get("treatZeroAs");M.isNumber(l)&&(E=l)}return(Math.log(E)*Math.LOG10E-Math.log(a)*Math.LOG10E)/(Math.log(h)*Math.LOG10E-Math.log(a)*Math.LOG10E)}return(E-a)/(h-a)}valueToFinalPosition(E){const a=this.getPrivate("minFinal"),h=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(E<=0){let l=this.get("treatZeroAs");M.isNumber(l)&&(E=l)}return(Math.log(E)*Math.LOG10E-Math.log(a)*Math.LOG10E)/(Math.log(h)*Math.LOG10E-Math.log(a)*Math.LOG10E)}return(E-a)/(h-a)}getX(E,a,h){const l=this.valueToPosition(E=h+(E-h)*a);return this._settings.renderer.positionToCoordinate(l)}getY(E,a,h){const l=this.valueToPosition(E=h+(E-h)*a);return this._settings.renderer.positionToCoordinate(l)}getDataItemCoordinateX(E,a,h,l){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(E,a,h,l))}getDataItemPositionX(E,a,h,l){let p=E.get(a);return p=E.get("stackToItemX")?p*l+E.component.getStackedXValueWorking(E,a):this._baseValue+(p-this._baseValue)*l,this.valueToPosition(p)}getDataItemCoordinateY(E,a,h,l){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(E,a,h,l))}getDataItemPositionY(E,a,h,l){let p=E.get(a);return p=E.get("stackToItemY")?p*l+E.component.getStackedYValueWorking(E,a):this._baseValue+(p-this._baseValue)*l,this.valueToPosition(p)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const E=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),a=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let h=this.get("baseValue",0);return h<E&&(h=E),h>a&&(h=a),h}cellEndValue(E){return E}fixSmallStep(E){return 1+E===1?this.fixSmallStep(E*=2):E}_fixMin(E){return E}_fixMax(E){return E}_calculateTotals(){if(this.get("calculateTotals")){let E=this.series[0];if(E){let a=E.startIndex();if(E.dataItems.length>0){a>0&&a--;let h,l,p=E.endIndex();p<E.dataItems.length&&p++,E.get("yAxis")==this?(h="valueY",l="vcy"):E.get("xAxis")==this&&(h="valueX",l="vcx");let x=h+"Working";if(h)for(let T=a;T<p;T++){let b=0,I=0;U.each(this.series,u=>{if(!u.get("excludeFromTotal")){let n=u.dataItems[T];if(n){let k=n.get(x)*u.get(l);M.isNaN(k)||(b+=k,I+=Math.abs(k))}}}),U.each(this.series,u=>{if(!u.get("excludeFromTotal")){let n=u.dataItems[T];if(n){let k=n.get(x)*u.get(l);M.isNaN(k)||(n.set(h+"Total",I),n.set(h+"Sum",b),n.set(h+"TotalPercent",k/I*100))}}})}}}}}_getSelectionMinMax(){const E=this.getPrivate("minFinal"),a=this.getPrivate("maxFinal"),h=this.get("min"),l=this.get("max");let p=this.get("extraMin",0),x=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(p=.1),null==this.get("extraMax")&&(x=.2));const T=this.get("renderer").gridCount(),b=this.get("strictMinMaxSelection"),I=this.get("strictMinMax");if(M.isNumber(E)&&M.isNumber(a)){let u=a,n=E;if(U.each(this.series,f=>{if(!f.get("ignoreMinMax")){let o,B;const V=f.getPrivate("outOfSelection");f.get("xAxis")===this?V||(o=f.getPrivate("selectionMinX",f.getPrivate("minX")),B=f.getPrivate("selectionMaxX",f.getPrivate("maxX"))):f.get("yAxis")===this&&(V||(o=f.getPrivate("selectionMinY",f.getPrivate("minY")),B=f.getPrivate("selectionMaxY",f.getPrivate("maxY")))),f.isHidden()||f.isShowing()||(M.isNumber(o)&&(u=Math.min(u,o)),M.isNumber(B)&&(n=Math.max(n,B)))}}),this.axisRanges.each(f=>{if(f.get("affectsMinMax")){let o=f.get("value");null!=o&&(u=Math.min(u,o),n=Math.max(n,o)),o=f.get("endValue"),null!=o&&(u=Math.min(u,o),n=Math.max(n,o))}}),u>n&&([u,n]=[n,u]),M.isNumber(h)?u=I?h:E:I&&M.isNumber(this._minReal)&&(u=this._minReal),M.isNumber(l)?n=I?l:a:I&&M.isNumber(this._maxReal)&&(n=this._maxReal),u===n){u-=this._deltaMinMax,n+=this._deltaMinMax;let f=this._adjustMinMax(u,n,T,I);u=f.min,n=f.max}let k=u,C=n;u-=(n-u)*p,n+=(n-u)*x;let O=this._adjustMinMax(u,n,T);u=O.min,n=O.max,u=G.fitToRange(u,E,a),n=G.fitToRange(n,E,a),O=this._adjustMinMax(u,n,T,!0),I||(u=O.min,n=O.max);const m=this.get("syncWithAxis");m&&(O=this._syncAxes(u,n,O.step,m.getPrivate("selectionMinFinal",m.getPrivate("minFinal",0)),m.getPrivate("selectionMaxFinal",m.getPrivate("maxFinal",1)),m.getPrivate("selectionStepFinal",m.getPrivate("step",1))),u=O.min,n=O.max),I&&(M.isNumber(h)&&(u=Math.max(u,h)),M.isNumber(l)&&(n=Math.min(n,l))),b&&(u=k-(n-u)*p,n=C+(n-u)*x),this.get("logarithmic")&&(u<=0&&(u=k*(1-Math.min(p,.99))),u<E&&(u=E),n>a&&(n=a));let A=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),P=G.round(this.valueToFinalPosition(u),A),D=G.round(this.valueToFinalPosition(n),A);this.setPrivateRaw("selectionMinFinal",u),this.setPrivateRaw("selectionMaxFinal",n),this.setPrivateRaw("selectionStepFinal",O.step),this.zoom(P,D)}}_getMinMax(){let E=this.get("min"),a=this.get("max"),h=1/0,l=-1/0,p=this.get("extraMin",0),x=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(p=.1),null==this.get("extraMax")&&(x=.2));let T=1/0;if(U.each(this.series,f=>{if(!f.get("ignoreMinMax")){let o,B;if(f.get("xAxis")===this?(o=f.getPrivate("minX"),B=f.getPrivate("maxX")):f.get("yAxis")===this&&(o=f.getPrivate("minY"),B=f.getPrivate("maxY")),M.isNumber(o)&&M.isNumber(B)){h=Math.min(h,o),l=Math.max(l,B);let V=B-o;V<=0&&(V=Math.abs(B/100)),V<T&&(T=V)}}}),this.axisRanges.each(f=>{if(f.get("affectsMinMax")){let o=f.get("value");null!=o&&(h=Math.min(h,o),l=Math.max(l,o)),o=f.get("endValue"),null!=o&&(h=Math.min(h,o),l=Math.max(l,o))}}),this.get("logarithmic")){let f=this.get("treatZeroAs");M.isNumber(f)&&h<=0&&(h=f),h<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===h&&0===l&&(l=.9,h=-.9),M.isNumber(E)&&(h=E),M.isNumber(a)&&(l=a),h===1/0||l===-1/0)return;const b=h,I=l;let u=this.adapters.fold("min",h),n=this.adapters.fold("max",l);M.isNumber(u)&&(h=u),M.isNumber(n)&&(l=n),h=this._fixMin(h),l=this._fixMax(l),l-h<=1/Math.pow(10,15)&&(l-h!=0?this._deltaMinMax=(l-h)/2:this._getDelta(l),h-=this._deltaMinMax,l+=this._deltaMinMax),h-=(l-h)*p,l+=(l-h)*x,this.get("logarithmic")&&(h<0&&b>=0&&(h=0),l>0&&I<=0&&(l=0)),this._minReal=h,this._maxReal=l;let k=this.get("strictMinMax"),C=this.get("strictMinMaxSelection",!1);C&&(k=C);let O=k;M.isNumber(a)&&(O=!0);let m=this.get("renderer").gridCount(),A=this._adjustMinMax(h,l,m,O);h=A.min,l=A.max,A=this._adjustMinMax(h,l,m,!0),h=A.min,l=A.max,k&&(h=M.isNumber(E)?E:this._minReal,l=M.isNumber(a)?a:this._maxReal,l-h<=1e-8&&(h-=this._deltaMinMax,l+=this._deltaMinMax),h-=(l-h)*p,l+=(l-h)*x),u=this.adapters.fold("min",h),n=this.adapters.fold("max",l),M.isNumber(u)&&(h=u),M.isNumber(n)&&(l=n),T==1/0&&(T=l-h);let P=Math.round(Math.abs(Math.log(Math.abs(l-h))*Math.LOG10E))+5;h=G.round(h,P),l=G.round(l,P);const D=this.get("syncWithAxis");if(D&&(A=this._syncAxes(h,l,A.step,D.getPrivate("minFinal",D.getPrivate("min",0)),D.getPrivate("maxFinal",D.getPrivate("max",1)),D.getPrivate("step",1)),h=A.min,l=A.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((l-h)/T*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=h,h=this._minReal,l=this._maxReal,h<=0&&(h=b*(1-Math.min(p,.99)))),M.isNumber(h)&&M.isNumber(l)&&(this.getPrivate("minFinal")!==h||this.getPrivate("maxFinal")!==l)){this.setPrivate("minFinal",h),this.setPrivate("maxFinal",l),this._saveMinMax(h,l);const f=this.get("interpolationDuration",0),o=this.get("interpolationEasing");this.animatePrivate({key:"min",to:h,duration:f,easing:o}),this.animatePrivate({key:"max",to:l,duration:f,easing:o})}}_fixZoomFactor(){}_getDelta(E){let a=Math.log(Math.abs(E))*Math.LOG10E,h=Math.pow(10,Math.floor(a));h/=10,this._deltaMinMax=h}_saveMinMax(E,a){}_adjustMinMax(E,a,h,l){h<=1&&(h=1),h=Math.round(h);let p=E,x=a,T=a-E;0===T&&(T=Math.abs(a));let b=Math.log(Math.abs(T))*Math.LOG10E,I=Math.pow(10,Math.floor(b));I/=10;let u=I;l&&(u=0),l?(E=Math.floor(E/I)*I,a=Math.ceil(a/I)*I):(E=Math.ceil(E/I)*I-u,a=Math.floor(a/I)*I+u),E<0&&p>=0&&(E=0),a>0&&x<=0&&(a=0),b=Math.log(Math.abs(T))*Math.LOG10E,I=Math.pow(10,Math.floor(b)),I/=100;let n=Math.ceil(T/h/I)*I,k=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E)),C=Math.ceil(n/k);C>5?C=10:C<=5&&C>2&&(C=5),n=Math.ceil(n/(k*C))*k*C;let O=this.get("maxPrecision");if(M.isNumber(O)){let D=G.ceil(n,O);O<Number.MAX_VALUE&&n!==D&&(n=D)}let m=0;k<1&&(m=Math.round(Math.abs(Math.log(Math.abs(k))*Math.LOG10E))+1,n=G.round(n,m));let A,P=Math.floor(E/n);return E=G.round(n*P,m),A=l?Math.floor(a/n):Math.ceil(a/n),A===P&&A++,(a=G.round(n*A,m))<x&&(a+=n),E>p&&(E-=n),n=this.fixSmallStep(n),{min:E,max:a,step:n}}getTooltipText(E){const a=this.get("tooltipNumberFormat",this.get("numberFormat")),h=this.getNumberFormatter(),l=this.get("extraTooltipPrecision",0),p=this.getPrivate("stepDecimalPlaces",0)+l,x=G.round(this.positionToValue(E),p);return a?h.format(x,a):h.format(x,void 0,p)}getSeriesItem(E,a){let h,l,p=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),x=this.positionToValue(a);if(U.each(E.dataItems,(T,b)=>{const I=Math.abs(T.get(p)-x);(void 0===h||I<l)&&(h=b,l=I)}),null!=h)return E.dataItems[h]}zoomToValues(E,a,h){const l=this.getPrivate("minFinal",0),p=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((E-l)/(p-l),(a-l)/(p-l),h)}_syncAxes(E,a,h,l,p,x){if(this.get("syncWithAxis")){let T=Math.round(p-l)/x,b=Math.round((a-E)/h),I=this.get("renderer").gridCount();if(M.isNumber(T)&&M.isNumber(b)){let u=!1,n=0,k=.01*(a-E),C=E,O=a,m=h;for(;1!=u;)if(u=this._checkSync(C,O,m,T),n++,n>500&&(u=!0),u)E=C,a=O,h=m;else{n/3==Math.round(n/3)?(C=E-k*n,E>=0&&C<0&&(C=0)):(O=a+k*n,O<=0&&O>0&&(O=0));let A=this._adjustMinMax(C,O,I,!0);C=A.min,O=A.max,m=A.step}}}return{min:E,max:a,step:h}}_checkSync(E,a,h,l){let p=(a-E)/h;for(let x=1;x<l;x++)if(G.round(p/x,1)==l||p*x==l)return!0;return!1}}Object.defineProperty(F,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(F,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.R.classNames.concat([F.className])})},757:function(v,e,i){i.d(e,{d:function(){return X}});var s=i(5125),c=i(4604),S=i(6245),M=i(1479),U=i(5071),G=i(5040);class X extends c.o{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(R,E){return this.makeColumn(E,R)}_makeFieldNames(){super._makeFieldNames();const R=this.get("xAxis"),E=this.get("yAxis"),a="CategoryAxis",h="ValueAxis";R.isType(a)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),R.isType(h)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),E.isType(a)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),E.isType(h)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const R=this.get("xAxis"),E=this.get("yAxis"),a=this.dataItems.length,h=Math.max(0,this.startIndex()-2),l=Math.min(this.endIndex()+2,a-1);if(R.inited&&E.inited)for(let p=h;p<=l;p++)this._createGraphics(this.dataItems[p])}_updateChildren(){const R=this.chart;R&&(this._ph=R.plotContainer.height(),this._pw=R.plotContainer.width());const E=this.get("xAxis"),a=this.get("yAxis"),h=this.get("baseAxis"),l=this.columns.template;this.isDirty("fill")&&null==l.get("fill")&&l.set("fill",this.get("fill")),this.isDirty("stroke")&&null==l.get("stroke")&&l.set("stroke",this.get("stroke"));let p=0,x=0,T=0;U.each(h.series,A=>{if(A instanceof X){const P=A.get("stacked");P&&0==T&&x++,!P&&A.get("clustered")&&x++}A===this&&(p=x-1),T++}),this.get("clustered")||(p=0,x=1),0===x&&(x=1,p=0);const b=E.get("renderer"),I=a.get("renderer"),u="cellStartLocation",n="cellEndLocation",k=b.get(u,0),C=b.get(n,1),O=I.get(u,0),m=I.get(n,1);if(this._aLocationX0=k+p/x*(C-k),this._aLocationX1=k+(p+1)/x*(C-k),this._aLocationY0=O+p/x*(m-O),this._aLocationY1=O+(p+1)/x*(m-O),E.inited&&a.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const A=this.dataItems.length;let P=Math.max(0,this.startIndex()-2),D=Math.min(this.endIndex()+2,A-1);for(let o=0;o<P;o++)this._toggleColumn(this.dataItems[o],!1);let f=this.dataItems[P];for(let o=P;o<=D;o++){let B=this.dataItems[o];if(null!=B.get("valueX")&&null!=B.get("valueY")){if(f=B,o>0&&P>0)for(let V=o-1;V>=0;V--){let q=this.dataItems[V];if(null!=q.get("valueX")&&null!=q.get("valueY")){f=q;break}}break}this._toggleColumn(B,!1)}for(let o=P;o<=D;o++){let B=this.dataItems[o];this._updateGraphics(B,f),null!=B.get("valueX")&&null!=B.get("valueY")&&(f=B)}for(let o=D+1;o<A;o++)this._toggleColumn(this.dataItems[o],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(R){let E=R.get("graphics");if(!E){E=this._makeGraphics(this.columns,R),R.set("graphics",E),E._setDataItem(R);const a=R.get("legendDataItem");if(a){const h=a.get("markerRectangle");h&&h.setAll({fill:E.get("fill"),stroke:E.get("stroke")})}this.axisRanges.each(h=>{const l=h.container,p=R.get("rangeGraphics",[]);R.set("rangeGraphics",p);const x=this._makeGraphics(h.columns,R);p.push(x),x.setPrivate("list",h.columns),l.children.push(x)})}}_updateGraphics(R,E){let a=R.get("graphics");const h=this._xField,l=this._yField,p=R.get(h),x=R.get(l);if(null!=p&&null!=x){const T=this._xOpenField,b=this._yOpenField,I=this.get("locationX",R.get("locationX",.5)),u=this.get("locationY",R.get("locationY",.5)),n=this.get("openLocationX",R.get("openLocationX",I)),k=this.get("openLocationY",R.get("openLocationY",u)),C=a.get("width"),O=a.get("height"),m=this.get("stacked"),A=this.get("xAxis"),P=this.get("yAxis"),D=this.get("baseAxis"),f=A.get("start"),o=A.get("end"),B=P.get("start"),V=P.get("end");let q,nt,yt,ut,Y=this.get("vcy",1),tt=this.get("vcx",1),wt=!1,St=!1;if(P.isType("CategoryAxis")&&A.isType("CategoryAxis")){let ht=this._aLocationX0+n-.5,mt=this._aLocationX1+I-.5;if(C instanceof S.gG){let dt=(mt-ht)*(1-C.value)/2;ht+=dt,mt-=dt}if(q=A.getDataItemPositionX(R,T,ht,tt),nt=A.getDataItemPositionX(R,h,mt,tt),ht=this._aLocationY0+k-.5,mt=this._aLocationY1+u-.5,O instanceof S.gG){let dt=(mt-ht)*(1-O.value)/2;ht+=dt,mt-=dt}yt=P.getDataItemPositionY(R,b,ht,Y),ut=P.getDataItemPositionY(R,l,mt,Y),R.setRaw("point",{x:q+(nt-q)/2,y:yt+(ut-yt)/2})}else if(A===D){let ht=this._aLocationX0+n-.5,mt=this._aLocationX1+I-.5;if(C instanceof S.gG){let dt=(mt-ht)*(1-C.value)/2;ht+=dt,mt-=dt}if(q=A.getDataItemPositionX(R,T,ht,tt),nt=A.getDataItemPositionX(R,h,mt,tt),yt=P.getDataItemPositionY(R,l,u,Y),this._yOpenField!==this._yField)ut=P.getDataItemPositionY(R,b,k,Y);else if(m){let dt=R.get("stackToItemY");ut=dt?P.getDataItemPositionY(dt,l,k,dt.component.get("vcy")):P.basePosition()}else ut=P.basePosition();R.setRaw("point",{x:q+(nt-q)/2,y:yt}),St=!0}else if(P===D){let ht=this._aLocationY0+k-.5,mt=this._aLocationY1+u-.5;if(O instanceof S.gG){let dt=(mt-ht)*(1-O.value)/2;ht+=dt,mt-=dt}if(yt=P.getDataItemPositionY(R,b,ht,Y),ut=P.getDataItemPositionY(R,l,mt,Y),nt=A.getDataItemPositionX(R,h,I,tt),this._xOpenField!==this._xField)q=A.getDataItemPositionX(R,T,n,tt);else if(m){let dt=R.get("stackToItemX");q=dt?A.getDataItemPositionX(dt,h,n,dt.component.get("vcx")):A.basePosition()}else q=A.basePosition();wt=!0,R.setRaw("point",{x:nt,y:yt+(ut-yt)/2})}this._updateSeriesGraphics(R,a,q,nt,yt,ut,wt,St),q<f&&nt<f||q>o&&nt>o||yt<B&&ut<B||yt>V&&ut>V||G.isNaN(q)||G.isNaN(yt)?this._toggleColumn(R,!1):this._toggleColumn(R,!0);let At=R.get("rangeGraphics");At&&U.each(At,ht=>{this._updateSeriesGraphics(R,ht,q,nt,yt,ut,wt,St)}),this._applyGraphicsStates(R,E)}}_updateSeriesGraphics(R,E,a,h,l,p,x,T){const b=E.get("width"),I=E.get("height"),u=E.get("maxWidth"),n=E.get("maxHeight"),k=this.getPoint(a,l),C=this.getPoint(h,p),O=R.get("point");if(O){const m=this.getPoint(O.x,O.y);O.x=m.x+this._x,O.y=m.y+this._y}if(a=k.x,h=C.x,l=k.y,p=C.y,G.isNumber(b)){const m=(h-a-b)/2;a+=m,h-=m}if(G.isNumber(u)&&u<Math.abs(h-a)){const m=(h-a-u)/2;a+=m,h-=m}if(G.isNumber(I)){const m=(p-l-I)/2;l+=m,p-=m}if(G.isNumber(n)&&n<Math.abs(p-l)){const m=(p-l-n)/2;l+=m,p-=m}this.get("adjustBulletPosition")&&(x&&(h=Math.min(Math.max(0,h),this._pw),a=Math.min(Math.max(0,a),this._pw)),T&&(l=Math.min(Math.max(0,l),this._ph),p=Math.min(Math.max(0,p),this._ph))),R.setRaw("left",a),R.setRaw("right",h),R.setRaw("top",l),R.setRaw("bottom",p),E.setPrivate("width",h-a),E.setPrivate("height",p-l),E.set("x",a),E.set("y",p-(p-l))}_handleDataSetChange(){super._handleDataSetChange(),U.each(this._dataItems,R=>{this._toggleColumn(R,!1)})}_applyGraphicsStates(R,E){const a=R.get("graphics"),h=a.states.lookup("dropFromOpen"),l=a.states.lookup("riseFromOpen"),p=a.states.lookup("dropFromPrevious"),x=a.states.lookup("riseFromPrevious");if(h||p||l||x){const T=this.get("xAxis"),b=this.get("yAxis"),I=this.get("baseAxis");let u,n,k;I===T&&b.isType("ValueAxis")?(u=R.get(this._yOpenField),n=R.get(this._yField),k=E.get(this._yField)):I===b&&T.isType("ValueAxis")&&(u=R.get(this._xOpenField),n=R.get(this._xField),k=E.get(this._xField)),G.isNumber(u)&&G.isNumber(n)&&(n<u?h&&h.apply():l&&l.apply(),G.isNumber(k)&&(n<k?p&&p.apply():x&&x.apply()))}}disposeDataItem(R){super.disposeDataItem(R);const E=R.get("graphics");E&&(this.columns.removeValue(E),E.dispose());const a=R.get("rangeGraphics");a&&U.each(a,h=>{const l=h.getPrivate("list");l&&l.removeValue(h),h.dispose()})}hideDataItem(R,E){const a=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,s.mG)(this,void 0,void 0,function*(){const h=[a.hideDataItem.call(this,R,E)],l=R.get("graphics");l&&h.push(l.hide(E));const p=R.get("rangeGraphics");p&&U.each(p,x=>{h.push(x.hide(E))}),yield Promise.all(h)})}_toggleColumn(R,E){const a=R.get("graphics");a&&a.setPrivate("visible",E);const h=R.get("rangeGraphics");h&&U.each(h,p=>{p.setPrivate("visible",E)});const l=R.bullets;l&&U.each(l,p=>{p.setPrivate("hidden",!E)})}showDataItem(R,E){const a=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,s.mG)(this,void 0,void 0,function*(){const h=[a.showDataItem.call(this,R,E)],l=R.get("graphics");l&&h.push(l.show(E));const p=R.get("rangeGraphics");p&&U.each(p,x=>{h.push(x.show(E))}),yield Promise.all(h)})}updateLegendMarker(R){let E=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!R){const a=this.dataItems[this.endIndex()-1];a&&(R=a)}if(E){let a=this.columns.template;if(R){let l=R.get("graphics");l&&(a=l)}const h=E.get("markerRectangle");h&&(E.get("itemContainer").get("disabled")||U.each(M.u,l=>{h.set(l,a.get(l,this.get(l)))}))}}_getTooltipTarget(R){return"bullet"==this.get("seriesTooltipTarget")?super._getTooltipTarget(R):R.get("graphics")||this}}Object.defineProperty(X,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(X,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.o.classNames.concat([X.className])})},2976:function(v,e,i){i.d(e,{j:function(){return c}});var s=i(3497);class c extends s.c{_beforeChanged(){super._beforeChanged(),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}_draw(){super._draw();const M=this._display;M.moveTo(this.get("lowX0",0),this.get("lowY0",0)),M.lineTo(this.get("lowX1",0),this.get("lowY1",0)),M.moveTo(this.get("highX0",0),this.get("highY0",0)),M.lineTo(this.get("highX1",0),this.get("highY1",0))}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.c.classNames.concat([c.className])})},2312:function(v,e,i){i.d(e,{$:function(){return X}});var s=i(62),c=i(2976),S=i(5769),M=i(7144),U=i(7652),G=i(5071);class X extends s.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new M.o(S.YS.new({themeTags:["autocolor"]}),()=>c.j._new(this._root,{themeTags:U.mergeTags(this.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template]))})}makeColumn(R,E){const a=this.mainContainer.children.push(E.make());return a._setDataItem(R),E.push(a),a}_updateGraphics(R,E){super._updateGraphics(R,E);const a=this.getRaw("xAxis"),h=this.getRaw("yAxis"),l=this.getRaw("baseAxis");let p,x,T,b,I,u,n,k,C,O=this.get("vcy",1),m=this.get("vcx",1),A=this.get("locationX",R.get("locationX",.5)),P=this.get("locationY",R.get("locationY",.5)),D=this.get("openLocationX",R.get("openLocationX",A)),f=this.get("openLocationY",R.get("openLocationY",P));if(h===l){let o=a.getDataItemPositionX(R,this._xOpenField,1,m),B=a.getDataItemPositionX(R,this._xField,1,m);x=a.getDataItemPositionX(R,this._xLowField,1,m),u=a.getDataItemPositionX(R,this._xHighField,1,m),I=Math.max(o,B),p=Math.min(o,B);let V=this._aLocationY0+f-.5;T=h.getDataItemPositionY(R,this._yField,V+(this._aLocationY1+P-.5-V)/2,O),b=T,n=T,k=T,C="horizontal"}else{let o=h.getDataItemPositionY(R,this._yOpenField,1,O),B=h.getDataItemPositionY(R,this._yField,1,O);b=h.getDataItemPositionY(R,this._yLowField,1,O),k=h.getDataItemPositionY(R,this._yHighField,1,O),n=Math.max(o,B),T=Math.min(o,B);let V=this._aLocationX0+D-.5;p=a.getDataItemPositionX(R,this._xField,V+(this._aLocationX1+A-.5-V)/2,m),x=p,I=p,u=p,C="vertical"}this._updateCandleGraphics(R,p,x,T,b,I,u,n,k,C)}_updateCandleGraphics(R,E,a,h,l,p,x,T,b,I){let u=R.get("graphics");if(u){let n=this.getPoint(E,h),k=this.getPoint(a,l),C=this.getPoint(p,T),O=this.getPoint(x,b),m=u.x(),A=u.y();u.set("lowX0",n.x-m),u.set("lowY0",n.y-A),u.set("lowX1",k.x-m),u.set("lowY1",k.y-A),u.set("highX0",C.x-m),u.set("highY0",C.y-A),u.set("highX1",O.x-m),u.set("highY1",O.y-A),u.set("orientation",I);let P=R.get("rangeGraphics");P&&G.each(P,D=>{D.set("lowX0",n.x-m),D.set("lowY0",n.y-A),D.set("lowX1",k.x-m),D.set("lowY1",k.y-A),D.set("highX0",C.x-m),D.set("highY0",C.y-A),D.set("highX1",O.x-m),D.set("highY1",O.y-A),D.set("orientation",I)})}}_processAxisRange(R){super._processAxisRange(R),R.columns=new M.o(S.YS.new({}),()=>c.j._new(this._root,{themeTags:U.mergeTags(R.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template,R.columns.template]))}}Object.defineProperty(X,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"}),Object.defineProperty(X,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.d.classNames.concat([X.className])})},62:function(v,e,i){i.d(e,{d:function(){return G}});var s=i(757),c=i(5769),S=i(7144),M=i(3497),U=i(7652);class G extends s.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new S.o(c.YS.new({}),()=>M.c._new(this._root,{position:"absolute",themeTags:U.mergeTags(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template]))})}makeColumn(F,R){const E=this.mainContainer.children.push(R.make());return E._setDataItem(F),R.push(E),E}_processAxisRange(F){super._processAxisRange(F),F.columns=new S.o(c.YS.new({}),()=>M.c._new(this._root,{position:"absolute",themeTags:U.mergeTags(F.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,F.columns.template]))}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.d.classNames.concat([G.className])})},2338:function(v,e,i){i.d(e,{e:function(){return l}});var s=i(4604),c=i(1479),S=i(774),M=i(3794),U=i(5769),G=i(7144),X=i(1112),F=i(9361),R=i(7142),E=i(5040),a=i(5071),h=i(7652);class l extends s.o{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:(0,S.Z)()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:(0,M.Z)()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:new G.o(U.YS.new({}),()=>c.T._new(this._root,{themeTags:h.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template]))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:new G.o(U.YS.new({}),()=>c.T._new(this._root,{themeTags:h.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template]))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(x){return x[3]}),this._fillGenerator.x0(function(x){return x[2]}),this._fillGenerator.y1(function(x){return x[1]}),this._fillGenerator.x1(function(x){return x[0]}),super._afterNew()}makeStroke(x){const T=this.mainContainer.children.push(x.make());return x.push(T),T}makeFill(x){const T=this.mainContainer.children.push(x.make());return x.push(T),T}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let x=this.get("xAxis"),T=this.get("yAxis");if(this.isDirty("stroke")){const b=this.get("stroke");this.strokes.template.set("stroke",b);const I=this._legendStroke;I&&I.states.lookup("default").set("stroke",b)}if(this.isDirty("fill")){const b=this.get("fill");this.fills.template.set("fill",b);const I=this._legendFill;I&&I.states.lookup("default").set("fill",b)}if(this.isDirty("curveFactory")){const b=this.get("curveFactory");b&&(this._strokeGenerator.curve(b),this._fillGenerator.curve(b))}if(x.inited&&T.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(m=>{m.setPrivate("visible",!1)}),this.strokes.each(m=>{m.setPrivate("visible",!1)}),this.axisRanges.each(m=>{let A=m.fills;A&&A.each(D=>{D.setPrivate("visible",!1)});let P=m.strokes;P&&P.each(D=>{D.setPrivate("visible",!1)})});let b=this.startIndex(),I=this.strokes.template.get("templateField"),u=this.fills.template.get("templateField"),n=!0,k=!0;I&&(n=!1),u&&(k=!1);for(let m=b-1;m>=0;m--){let A=this.dataItems[m],P=!0,D=A.dataContext;if(I&&D[I]&&(n=!0),u&&D[u]&&(k=!0),a.each(this._valueFields,f=>{E.isNumber(A.get(f))||(P=!1)}),P&&n&&k){b=m;break}}let C=this.dataItems.length,O=this.endIndex();if(O<C){O++;for(let m=O;m<C;m++){let A=this.dataItems[m],P=!0;if(a.each(this._valueFields,D=>{E.isNumber(A.get(D))||(P=!1)}),P){O=m+1;break}}}if(b>0&&b--,this._endIndex=O,this._clearGraphics(),this._sindex=0,this._dindex=b,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<O-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear()}_startSegment(x){let T=this._endIndex,b=T;const I=this.get("autoGapCount"),u=this.get("connect"),n=this.makeFill(this.fills),k=this._fillTemplate;k&&k!=this.fills.template&&(n.template=k),n.setPrivate("visible",!0);const O=this.makeStroke(this.strokes),m=this._strokeTemplate;m&&m!=this.strokes.template&&(O.template=m),O.setPrivate("visible",!0);let A=this.get("xAxis"),P=this.get("yAxis"),D=this.get("baseAxis"),f=this.get("vcx",1),o=this.get("vcy",1),B=this._xField,V=this._yField,q=this._xOpenField,nt=this._yOpenField;const yt=this.get("openValueXField"),ut=this.get("openValueYField");yt||(q=this._xField),ut||(nt=this._yField);const Y=this.get("stacked"),tt=A.basePosition(),wt=P.basePosition();let St;St=D===P?this._yField:this._xField;const At=[];let ht=[];At.push(ht);const mt=this.strokes.template.get("templateField"),dt=this.fills.template.get("templateField");let Lt=this.get("locationX",.5),Ct=this.get("locationY",.5),vt=this.get("openLocationX",Lt),kt=this.get("openLocationY",Ct);const Rt=this.get("minDistance",0);let Xt,Ft=this.fills.template.get("visible");this.axisRanges.length>0&&(Ft=!0);let qt=!1;(Y||yt||ut)&&(qt=!0);const ae={points:ht,segments:At,stacked:Y,getOpen:qt,basePosX:tt,basePosY:wt,fillVisible:Ft,xField:B,yField:V,xOpenField:q,yOpenField:nt,vcx:f,vcy:o,baseAxis:D,xAxis:A,yAxis:P,locationX:Lt,locationY:Ct,openLocationX:vt,openLocationY:kt,minDistance:Rt};for(Xt=x;Xt<b;Xt++){this._dindex=Xt;const te=this._dataItems[Xt];let de=te.get(B),re=te.get(V);if(null==de||null==re?u||(ht=[],At.push(ht),ae.points=ht):this._getPoints(te,ae),mt){let Ut=te.dataContext[mt];if(Ut){if(Ut instanceof U.YS||(Ut=U.YS.new(Ut)),this._strokeTemplate=Ut,Xt>x){b=Xt;break}O.template=Ut}}if(dt){let Ut=te.dataContext[dt];if(Ut){if(Ut instanceof U.YS||(Ut=U.YS.new(Ut)),this._fillTemplate=Ut,Xt>x){b=Xt;break}n.template=Ut}}if(!u){let Ut=this.dataItems[Xt+1];Ut&&D.shouldGap(te,Ut,I,St)&&(ht=[],At.push(ht),ae.points=ht)}}n.setRaw("userData",[x,Xt]),O.setRaw("userData",[x,Xt]),Xt===T&&this._endLine(ht,At[0][0]),O&&this._drawStroke(O,At),n&&this._drawFill(n,At),this.axisRanges.each(te=>{const de=te.container,Ut=this.makeFill(te.fills);de&&de.children.push(Ut),Ut.setPrivate("visible",!0),this._drawFill(Ut,At);const ue=this.makeStroke(te.strokes);de&&de.children.push(ue),ue.setPrivate("visible",!0),this._drawStroke(ue,At),Ut.setRaw("userData",[x,Xt]),ue.setRaw("userData",[x,Xt])})}_getPoints(x,T){let b=T.points,I=x.get("locationX",T.locationX),u=x.get("locationY",T.locationY),n=T.xAxis.getDataItemPositionX(x,T.xField,I,T.vcx),k=T.yAxis.getDataItemPositionY(x,T.yField,u,T.vcy);if(this._shouldInclude(n)){const C=this.getPoint(n,k),O=[C.x,C.y];if(C.x+=this._x,C.y+=this._y,x.set("point",C),T.fillVisible){let m=n,A=k;if(T.baseAxis===T.xAxis?A=T.basePosY:T.baseAxis===T.yAxis&&(m=T.basePosX),T.getOpen){let D=x.get(T.xOpenField),f=x.get(T.yOpenField);if(null!=D&&null!=f){let o=x.get("openLocationX",T.openLocationX),B=x.get("openLocationY",T.openLocationY);if(T.stacked){let V=x.get("stackToItemX"),q=x.get("stackToItemY");V?(m=T.xAxis.getDataItemPositionX(V,T.xField,o,V.component.get("vcx")),E.isNaN(m)&&(m=T.basePosX)):m=T.yAxis===T.baseAxis?T.basePosX:T.xAxis.getDataItemPositionX(x,T.xOpenField,o,T.vcx),q?(A=T.yAxis.getDataItemPositionY(q,T.yField,B,q.component.get("vcy")),E.isNaN(A)&&(A=T.basePosY)):A=T.xAxis===T.baseAxis?T.basePosY:T.yAxis.getDataItemPositionY(x,T.yOpenField,B,T.vcy)}else m=T.xAxis.getDataItemPositionX(x,T.xOpenField,o,T.vcx),A=T.yAxis.getDataItemPositionY(x,T.yOpenField,B,T.vcy)}}let P=this.getPoint(m,A);O[2]=P.x,O[3]=P.y}if(T.minDistance>0){const P=O[2],D=O[3],f=this._previousPoint,V=f[2],q=f[3];(Math.hypot(O[0]-f[0],O[1]-f[1])>T.minDistance||P&&D&&Math.hypot(P-V,D-q)>T.minDistance)&&(b.push(O),this._previousPoint=O)}else b.push(O)}}_endLine(x,T){}_drawStroke(x,T){x.get("visible")&&x.set("draw",b=>{a.each(T,I=>{this._strokeGenerator.context(b),this._strokeGenerator(I)})})}_drawFill(x,T){x.get("visible")&&x.set("draw",b=>{a.each(T,I=>{this._fillGenerator.context(b),this._fillGenerator(I)})})}_processAxisRange(x){super._processAxisRange(x),x.fills=new G.o(U.YS.new({}),()=>c.T._new(this._root,{themeTags:h.mergeTags(x.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,x.fills.template])),x.strokes=new G.o(U.YS.new({}),()=>c.T._new(this._root,{themeTags:h.mergeTags(x.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,x.strokes.template]))}createLegendMarker(x){const T=this.get("legendDataItem");if(T){const b=T.get("marker"),I=T.get("markerRectangle");I&&I.setPrivate("visible",!1),b.set("background",R.A.new(b._root,{fillOpacity:0,fill:(0,X.$_)(0)}));const u=b.children.push(c.T._new(b._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=u;const n=b.children.push(c.T._new(b._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=n;const k=this._root.interfaceColors.get("disabled");if(u.states.create("disabled",{fill:k,stroke:k}),n.states.create("disabled",{fill:k,stroke:k}),this.bullets.length>0){const C=this.bullets.getIndex(0);if(C){const O=C(b._root,this,new F.z(this,{},{}));if(O){const m=O.get("sprite");m instanceof c.T&&m.states.create("disabled",{fill:k,stroke:k}),m&&(m.set("tooltipText",void 0),m.set("tooltipHTML",void 0),b.children.push(m),m.setAll({x:b.width()/2,y:b.height()/2}))}}}}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.o.classNames.concat([l.className])})},4604:function(v,e,i){i.d(e,{o:function(){return a}});var s=i(5125),c=i(9361),S=i(3399),M=i(7144),U=i(8777),G=i(1479),X=i(5040),F=i(256),R=i(5071),E=i(7652);class a extends S.F{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(U.W.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new M.aV}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new c.z(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){if(this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this._settings.xAxis.series.push(this),this._settings.yAxis.series.push(this),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(l=>{if("clear"===l.type)R.each(l.oldValues,p=>{this._removeAxisRange(p)});else if("push"===l.type)this._processAxisRange(l.newValue);else if("setIndex"===l.type)this._processAxisRange(l.newValue);else if("insertIndex"===l.type)this._processAxisRange(l.newValue);else if("removeIndex"===l.type)this._removeAxisRange(l.oldValue);else{if("moveIndex"!==l.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(l.value)}})),!this.get("baseAxis")){const l=this.get("xAxis"),p=this.get("yAxis");p.isType("CategoryAxis")||p.isType("DateAxis")?this.set("baseAxis",p):this.set("baseAxis",l)}this.states.create("hidden",{opacity:1,visible:!1}),this._makeFieldNames()}_processAxisRange(l){const p=U.W.new(this._root,{});l.container=p,this.children.push(p),l.series=this;const x=l.axisDataItem;x.setRaw("isRange",!0);const T=x.component;if(T){T._processAxisRange(x,["range","series"]);const b=x.get("bullet");if(b){const u=b.get("sprite");u&&u.setPrivate("visible",!1)}const I=x.get("axisFill");I&&p.set("mask",I),T._seriesAxisRanges.push(x)}}_removeAxisRange(l){const p=l.axisDataItem,x=p.component;x.disposeDataItem(p),R.remove(x._seriesAxisRanges,p);const T=l.container;T&&T.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&R.each(this.valueXFields,l=>{if(this.get(l+"Field")){this._valueXFields.push(l);let p=this.get(l+"Show");this.__valueXShowFields.push(p),-1!=p.indexOf("Working")?this._valueXShowFields.push(p.split("Working")[0]):this._valueXShowFields.push(p)}}),this.valueYFields&&R.each(this.valueYFields,l=>{if(this.get(l+"Field")){this._valueYFields.push(l);let p=this.get(l+"Show");this.__valueYShowFields.push(p),-1!=p.indexOf("Working")?this._valueYShowFields.push(p.split("Working")[0]):this._valueYShowFields.push(p)}})}_dispose(){super._dispose();const l=this.chart;l&&l.series.removeValue(this),R.removeFirst(this.get("xAxis").series,this),R.removeFirst(this.get("yAxis").series,this)}_min(l,p){let x=(b=p,null==(T=this.getPrivate(l))?b:null==b?T:b<T?b:T);var T,b;this.setPrivate(l,x)}_max(l,p){let x=(b=p,null==(T=this.getPrivate(l))?b:null==b?T:b>T?b:T);var T,b;this.setPrivate(l,x)}_shouldMakeBullet(l){return!(!this.get("xAxis").inited||!this.get("yAxis").inited)&&null!=l.get(this._xField)&&null!=l.get(this._yField)}_makeFieldNames(){const l=this.get("xAxis"),p=this.get("yAxis"),x=l.getPrivate("name"),T=E.capitalizeFirst(x),b=p.getPrivate("name"),I=E.capitalizeFirst(b),u=l.get("renderer").getPrivate("letter"),n=p.get("renderer").getPrivate("letter"),k="open",C="low",O="high",m="Show";"ValueAxis"===l.className?(this._xField=this.get(x+u+m),this._xOpenField=this.get(k+T+u+m),this._xLowField=this.get(C+T+u+m),this._xHighField=this.get(O+T+u+m)):(this._xField=x+u,this._xOpenField=k+T+u,this._xLowField=C+T+u,this._xHighField=O+T+u),"ValueAxis"===p.className?(this._yField=this.get(b+n+m),this._yOpenField=this.get(k+I+n+m),this._yLowField=this.get(C+I+n+m),this._yHighField=this.get(O+I+n+m)):(this._yField=b+n,this._yOpenField=k+I+n,this._yLowField=C+I+n,this._yHighField=O+I+n)}_fixVC(){const l=this.get("xAxis"),p=this.get("yAxis"),x=this.get("baseAxis"),T=this.states.lookup("hidden"),b=this.get("sequencedInterpolation");if(T){let I=0;b&&(I=.999999999999),l===x?T.set("vcy",I):(p===x||T.set("vcy",I),T.set("vcx",I))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_prepareChildren(){super._prepareChildren(),(this.isDirty("valueYShow")||this.isDirty("valueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const l=this.get("xAxis"),p=this.get("yAxis"),x=this.get("baseAxis");let T,b;switch(this.get("tooltipPositionX")){case"open":T=this._xOpenField;break;case"low":T=this._xLowField;break;case"high":T=this._xHighField;break;default:T=this._xField}switch(this._tooltipFieldX=T,this.get("tooltipPositionY")){case"open":b=this._yOpenField;break;case"low":b=this._yLowField;break;case"high":b=this._yHighField;break;default:b=this._yField}this._tooltipFieldY=b,this.isDirty("baseAxis")&&this._fixVC(),this.set("x",l.x()-E.relativeToValue(l.get("centerX",0),l.width())-l.parent.get("paddingLeft",0)),this.set("y",p.y()-E.relativeToValue(p.get("centerY",0),p.height())-p.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x());const I=this.get("stacked");if(this.isDirty("stacked")&&(I?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,I&&this._stack(),R.each(this.dataItems,u=>{R.each(this._valueXShowFields,n=>{let k=u.get(n);null!=k&&(I&&(k+=this.getStackedXValue(u,n)),this._min("minX",k),this._max("maxX",k))}),R.each(this._valueYShowFields,n=>{let k=u.get(n);null!=k&&(I&&(k+=this.getStackedYValue(u,n)),this._min("minY",k),this._max("maxY",k))}),l.processSeriesDataItem(u,this._valueXFields),p.processSeriesDataItem(u,this._valueYFields)}),l._seriesValuesDirty=!0,p._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&l.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&p.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(l._groupSeriesData(this),p._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty){let u=this.startIndex(),n=this.endIndex(),k=this.get("minBulletDistance",0);if(k>0&&x&&(this._showBullets=x.get("renderer").axisLength()/(n-u)>k),(this._psi!=u||this._pei!=n||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const C=this.get("vcx",1),O=this.get("vcy",1),m=this.get("stacked",!1),A=this.getPrivate("outOfSelection");if(x===l)if(p._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),A)p.markDirtySelectionExtremes();else for(let P=u;P<n;P++)this.processYSelectionDataItem(this.dataItems[P],O,m);else if(x===p)if(l._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),A)p.markDirtySelectionExtremes();else for(let P=u;P<n;P++)this.processXSelectionDataItem(this.dataItems[P],C,m);if(x===l){if("valueYWorking"!==this.get("valueYShow")){const P=this.getPrivate("selectionMinY");null!=P&&(this.setPrivateRaw("minY",P),p.markDirtyExtremes());const D=this.getPrivate("selectionMaxY");null!=D&&(this.setPrivateRaw("maxY",D),p.markDirtyExtremes())}}else if(x===p&&"valueXWorking"!==this.get("valueXShow")){const P=this.getPrivate("selectionMinX");null!=P&&(this.setPrivateRaw("minX",P),p.markDirtyExtremes());const D=this.getPrivate("selectionMaxX");null!=D&&(this.setPrivateRaw("maxX",D),l.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&l.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&p.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let l=this._mainContainerMask;null==l&&(l=this.children.push(G.T.new(this._root,{})),this._mainContainerMask=l,l.set("draw",(p,x)=>{const T=this.parent;if(T){const b=this._root.container.width(),I=this._root.container.height();p.moveTo(-b,-I),p.lineTo(-b,2*I),p.lineTo(2*b,2*I),p.lineTo(2*b,-I),p.lineTo(-b,-I),this.axisRanges.each(u=>{const n=u.axisDataItem.get("axisFill");if(T&&n){let k=n.get("draw");k&&k(p,x)}})}this.mainContainer._display.mask=l._display})),l.markDirty(),l._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const l=this.chart;if(l){const p=l.series.indexOf(this);if(this._couldStackTo=[],p>0){let x;for(let T=p-1;T>=0&&(x=l.series.getIndex(T),x.get("xAxis")!==this.get("xAxis")||x.get("yAxis")!==this.get("yAxis")||x.className!==this.className||(this._couldStackTo.push(x),x.get("stacked")));T--);}this._stackDataItems()}}_unstack(){F.each(this._reallyStackedTo,(l,p)=>{delete p._stackedSeries[this.uid]}),this._reallyStackedTo={},R.each(this.dataItems,l=>{l.setRaw("stackToItemY",void 0),l.setRaw("stackToItemX",void 0)})}_stackDataItems(){const l=this.get("baseAxis"),p=this.get("xAxis"),x=this.get("yAxis");let T,b;l===p?(T="valueY",b="stackToItemY"):l===x&&(T="valueX",b="stackToItemX");let I=this._couldStackTo.length,u=0;const n=this.get("stackToNegative");this._reallyStackedTo={},R.each(this.dataItems,k=>{for(let C=0;C<I;C++){let O=this._couldStackTo[C],m=O.dataItems[u],A=k.get(T);if(m){let P=m.get(T);if(n){if(!X.isNumber(A))break;if(X.isNumber(P)){if(A>=0&&P>=0){k.setRaw(b,m),this._reallyStackedTo[O.uid]=O,O._stackedSeries[this.uid]=this;break}if(A<0&&P<0){k.setRaw(b,m),this._reallyStackedTo[O.uid]=O,O._stackedSeries[this.uid]=this;break}}}else if(X.isNumber(A)&&X.isNumber(P)){k.setRaw(b,m),this._reallyStackedTo[O.uid]=O,O._stackedSeries[this.uid]=this;break}}}u++})}processXSelectionDataItem(l,p,x){R.each(this.__valueXShowFields,T=>{let b=l.get(T);null!=b&&(x&&(b+=this.getStackedXValueWorking(l,T)),this._min("selectionMinX",b),this._max("selectionMaxX",b*p))})}processYSelectionDataItem(l,p,x){R.each(this.__valueYShowFields,T=>{let b=l.get(T);null!=b&&(x&&(b+=this.getStackedYValueWorking(l,T)),this._min("selectionMinY",b),this._max("selectionMaxY",b*p))})}getStackedYValueWorking(l,p){const x=l.get("stackToItemY");if(x){const T=x.component;return x.get(p,0)*T.get("vcy",1)+this.getStackedYValueWorking(x,p)}return 0}getStackedXValueWorking(l,p){const x=l.get("stackToItemX");if(x){const T=x.component;return x.get(p,0)*T.get("vcx",1)+this.getStackedXValueWorking(x,p)}return 0}getStackedYValue(l,p){const x=l.get("stackToItemY");return x?x.get(p,0)+this.getStackedYValue(x,p):0}getStackedXValue(l,p){const x=l.get("stackToItemX");return x?x.get(p,0)+this.getStackedXValue(x,p):0}createLegendMarker(l){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(l){let p=l.get("sprite");if(p){let x=p.dataItem,T=l.get("locationX",x.get("locationX",.5)),b=l.get("locationY",x.get("locationY",.5)),I=this.get("xAxis"),u=this.get("yAxis");const n=I.getDataItemPositionX(x,this._xField,T,this.get("vcx",1)),k=u.getDataItemPositionY(x,this._yField,b,this.get("vcy",1));let C=this.getPoint(n,k),O=x.get("left",C.x),m=x.get("right",C.x),A=x.get("top",C.y),P=x.get("bottom",C.y);if(this._shouldShowBullet(n,k)){l.getPrivate("hidden")?p.setPrivate("visible",!1):p.setPrivate("visible",!0);let D=m-O,f=P-A;p.isType("Label")&&(p.setPrivate("maxWidth",Math.abs(D)),p.setPrivate("maxHeight",Math.abs(f)));let B=P-f*b;p.set("x",O+D*T),p.set("y",B)}else p.setPrivate("visible",!1)}}_shouldShowBullet(l,p){return this._showBullets}setDataSet(l){if(this._dataSets[l]){this._handleDataSetChange(),this._dataItems=this._dataSets[l],this._markDataSetDirty(),this._dataSetId=l;const p="datasetchanged";this.events.isEnabled(p)&&this.events.dispatch(p,{type:p,target:this,id:l})}}_handleDataSetChange(){this.bullets.length>0&&R.each(this._dataItems,l=>{let p=l.bullets;p&&R.each(p,x=>{let T=x.get("sprite");T&&T.setPrivate("visible",!1)})}),this._selectionProcessed=!1}show(l){const p=Object.create(null,{show:{get:()=>super.show}});return(0,s.mG)(this,void 0,void 0,function*(){this._fixVC();let x=[];x.push(p.show.call(this,l).then(()=>{this._isShowing=!1;let T=this.get("xAxis"),b=this.get("yAxis"),I=this.get("baseAxis");b!==I&&b.markDirtySelectionExtremes(),T!==I&&T.markDirtySelectionExtremes()})),x.push(this.bulletsContainer.show(l)),x.push(this._sequencedShowHide(!0,l)),yield Promise.all(x)})}hide(l){const p=Object.create(null,{hide:{get:()=>super.hide}});return(0,s.mG)(this,void 0,void 0,function*(){this._fixVC();let x=[];x.push(p.hide.call(this,l).then(()=>{this._isHiding=!1})),x.push(this.bulletsContainer.hide(l)),x.push(this._sequencedShowHide(!1,l)),yield Promise.all(x)})}showDataItem(l,p){const x=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,s.mG)(this,void 0,void 0,function*(){const T=[x.showDataItem.call(this,l,p)];X.isNumber(p)||(p=this.get("stateAnimationDuration",0));const b=this.get("stateAnimationEasing");R.each(this._valueFields,I=>{T.push(l.animate({key:I+"Working",to:l.get(I),duration:p,easing:b}).waitForStop())}),yield Promise.all(T)})}hideDataItem(l,p){const x=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,s.mG)(this,void 0,void 0,function*(){const T=[x.hideDataItem.call(this,l,p)],b=this.states.create("hidden",{});X.isNumber(p)||(p=b.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const I=b.get("stateAnimationEasing",this.get("stateAnimationEasing")),u=this.get("xAxis"),n=this.get("yAxis"),k=this.get("baseAxis"),C=this.get("stacked");if(k!==u&&k||R.each(this._valueYFields,O=>{let m=n.getPrivate("min"),A=n.baseValue();X.isNumber(m)&&m>A&&(A=m),C&&(A=0),null!=l.get(O)&&T.push(l.animate({key:O+"Working",to:A,duration:p,easing:I}).waitForStop())}),k===n||!k){let O=u.getPrivate("min"),m=u.baseValue();X.isNumber(O)&&O>m&&(m=O),C&&(m=0),R.each(this._valueXFields,A=>{null!=l.get(A)&&T.push(l.animate({key:A+"Working",to:m,duration:p,easing:I}).waitForStop())})}yield Promise.all(T)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const l=this._stackedSeries;l&&F.each(l,(p,x)=>{x._stackDirty||x._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(l){this.updateLegendMarker(l),this.updateLegendValue(l);const p=this.get("tooltip");if(p)if(this.isHidden())this.hideTooltip();else if(p._setDataItem(l),l){let x=this.get("locationX",0),T=this.get("locationY",1),b=l.get("locationX",x),I=l.get("locationY",T);const u=this.get("xAxis"),n=this.get("yAxis"),k=this.get("vcx",1),C=this.get("vcy",1),O=u.getDataItemPositionX(l,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*b,k),m=n.getDataItemPositionY(l,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*I,C),A=this.getPoint(O,m);let P=!0;if(R.each(this._valueFields,D=>{null==l.get(D)&&(P=!1)}),P){const D=this.chart;D&&D.inPlot(A)?(p.label.text.markDirtyText(),p.set("tooltipTarget",this._getTooltipTarget(l)),p.set("pointTo",this._display.toGlobal({x:A.x,y:A.y}))):p._setDataItem(void 0)}else p._setDataItem(void 0)}}hideTooltip(){const l=this.get("tooltip");return l&&l.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(l){if("bullet"==this.get("seriesTooltipTarget")){const p=l.bullets;if(p&&p.length>0){const x=p[0].get("sprite");if(x)return x}}return this}updateLegendValue(l){const p=this.get("legendDataItem");if(p){const x=p.get("label");if(x){let b="";l?(x._setDataItem(l),b=this.get("legendLabelText",x.get("text",this.get("name","")))):(x._setDataItem(this._emptyDataItem),b=this.get("legendRangeLabelText",this.get("legendLabelText",x.get("text",this.get("name",""))))),x.set("text",b)}const T=p.get("valueLabel");if(T){let b="";l?(T._setDataItem(l),b=this.get("legendValueText",T.get("text",""))):(T._setDataItem(this._emptyDataItem),b=this.get("legendRangeValueText",T.get("text",""))),T.set("text",b)}}}_getItemReaderLabel(){let l="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(l+=".formatDate()"),l+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(l+=".formatDate()"),l+="}",l}getPoint(l,p){let x=this.get("xAxis").get("renderer").positionToCoordinate(l),T=this.get("yAxis").get("renderer").positionToCoordinate(p),b=999999999;return T<-b&&(T=-b),T>b&&(T=b),x<-b&&(x=-b),x>b&&(x=b),{x,y:T}}_shouldInclude(l){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(l){return this.axisRanges.push({axisDataItem:l})}}Object.defineProperty(a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:S.F.classNames.concat([a.className])})},3955:function(v,e,i){i.r(e),i.d(e,{Axis:function(){return F.R},AxisBullet:function(){return k},AxisLabel:function(){return C.k},AxisLabelRadial:function(){return O.p},AxisRenderer:function(){return P.Y},AxisRendererX:function(){return D.n},AxisRendererY:function(){return f.j},AxisTick:function(){return m.T},BaseColumnSeries:function(){return X.d},Candlestick:function(){return B.j},CandlestickSeries:function(){return V.$},CategoryAxis:function(){return l},CategoryDateAxis:function(){return x},ColumnSeries:function(){return Y.d},DateAxis:function(){return T.S},DefaultTheme:function(){return Rt.l},DurationAxis:function(){return u},GaplessDateAxis:function(){return b.J},Grid:function(){return A.r},LineSeries:function(){return tt.e},OHLC:function(){return q},OHLCSeries:function(){return ut},SmoothedXLineSeries:function(){return ht},SmoothedXYLineSeries:function(){return dt},SmoothedYLineSeries:function(){return St},StepLineSeries:function(){return kt},ValueAxis:function(){return I.m},XYChart:function(){return s.z},XYChartScrollbar:function(){return U},XYCursor:function(){return G.L},XYSeries:function(){return o.o}});var s=i(6901),c=i(6001),S=i(1479),M=i(7652);class U extends c.L{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.z.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(S.T.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=M.mergeTags(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const Ft=this.children;Ft.moveValue(this.thumb),Ft.moveValue(this.startGrip),Ft.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const qt=this.chart.plotContainer;qt.set("interactive",!1),qt.remove("background"),qt.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",Ft=>{const qt=this.startGrip,ae=this.endGrip;let te=qt.x(),de=qt.y(),re=ae.x(),Ut=ae.y();const Vt=this.height(),ue=this.width();te>re&&([te,re]=[re,te]),de>Ut&&([de,Ut]=[Ut,de]),"horizontal"===this.get("orientation")?(Ft.moveTo(0,0),Ft.lineTo(te,0),Ft.lineTo(te,Vt),Ft.lineTo(0,Vt),Ft.lineTo(0,0),Ft.moveTo(re,0),Ft.lineTo(ue,0),Ft.lineTo(ue,Vt),Ft.lineTo(re,Vt),Ft.lineTo(re,0)):(Ft.moveTo(0,0),Ft.lineTo(0,de),Ft.lineTo(ue,de),Ft.lineTo(ue,0),Ft.lineTo(0,0),Ft.moveTo(0,Ut),Ft.lineTo(0,Vt),Ft.lineTo(ue,Vt),Ft.lineTo(ue,Ut),Ft.lineTo(0,Ut))})}}Object.defineProperty(U,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(U,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.L.classNames.concat([U.className])});var G=i(3355),X=i(757),F=i(6515),R=i(5071),E=i(5040),a=i(751),h=i(2132);class l extends F.R{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const Ft=this.dataItems.length;let qt=0;this._valuesDirty&&(this._itemMap={},R.each(this.dataItems,ae=>{ae.setRaw("index",qt),this._itemMap[ae.get("category")]=ae,qt++}),this.setPrivateRaw("maxZoomFactor",Ft)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*Ft),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*Ft),Ft)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){R.each(this.series,Ft=>{let qt=this.dataItems[this.startIndex()].get("category"),ae=this.dataItems[this.endIndex()-1].get("category"),te=Ft.get("baseAxis"),de=Ft.get("xAxis"),re=Ft.get("yAxis");if(de instanceof l&&re instanceof l)Ft._markDirtyAxes();else if(te===this){let Ut,Vt,ue=re;if(de===te?(Ft.get("categoryXField")&&(Ut="categoryX"),Ft.get("openCategoryXField")&&(Vt="openCategoryX")):re===te&&(Ft.get("categoryYField")&&(Ut="categoryY"),Ft.get("openCategoryYField")&&(Vt="openCategoryY"),ue=de),"ValueAxis"==ue.className&&(Ut||Vt)){let me,ve;for(let Li=0,Si=Ft.dataItems.length;Li<Si;Li++){let bi=Ft.dataItems[Li];if(Ut&&bi.get(Ut)===qt){me=bi;break}if(Vt&&bi.get(Vt)===qt){me=bi;break}}for(let Li=Ft.dataItems.length-1;Li>=0;Li--){let Si=Ft.dataItems[Li];if(Ut&&Si.get(Ut)===ae){ve=Si;break}if(Vt&&Si.get(Vt)===ae){ve=Si;break}}let le=0,We=Ft.dataItems.length;me&&(le=Ft.dataItems.indexOf(me)),ve&&(We=Ft.dataItems.indexOf(ve)+1),Ft.setPrivate("startIndex",le),Ft.setPrivate("endIndex",We);let $e=!1;for(let Li=le;Li<We;Li++){const Si=Ft.dataItems[Li];if(R.each(Ft.__valueXShowFields,bi=>{null!=Si.get(bi)&&($e=!0)}),R.each(Ft.__valueYShowFields,bi=>{null!=Si.get(bi)&&($e=!0)}),$e)break}Ft.setPrivate("outOfSelection",!$e)}Ft._markDirtyAxes()}})}_prepareAxisItems(){const Ft=this.get("renderer"),qt=this.dataItems.length;let ae=this.startIndex();ae>0&&ae--;let te=this.endIndex();te<qt&&te++;let de=Ft.axisLength()/Math.max(Ft.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),re=Math.max(1,Math.min(qt,Math.ceil((te-ae)/de)));ae=Math.floor(ae/re)*re,this._frequency=re;for(let Vt=0;Vt<qt;Vt++)this.dataItems[Vt].hide();let Ut=this.dataItems[ae].get("index",0);for(let Vt=ae;Vt<te;Vt+=re){let ue=this.dataItems[Vt];this._createAssets(ue,[]),ue.isHidden()&&ue.show(),this._prepareDataItem(ue,Ut,re),Ut++}this._updateGhost()}_prepareDataItem(Ft,qt,ae){let te=this.get("renderer"),de=Ft.get("categoryLocation",0),re=Ft.get("endCategoryLocation",1),Ut=Ft.get("index");E.isNumber(Ut)||(Ut=this.categoryToIndex(Ft.get("category")));let Vt,ue=this.indexToPosition(Ut,de),me=Ft.get("endCategory");me?(Vt=this.categoryToIndex(me),E.isNumber(Vt)||(Vt=Ut)):Vt=Ut;let ve,le,We=this.indexToPosition(Vt,re);ve=Ft.get("isRange")?Vt:Ut+this._frequency-1,le=this.indexToPosition(ve,re),te.updateLabel(Ft.get("label"),ue,We,ae),te.updateGrid(Ft.get("grid"),ue,We),te.updateTick(Ft.get("tick"),ue,We,ae),te.updateFill(Ft.get("axisFill"),ue,le),this._processBullet(Ft),te.updateBullet(Ft.get("bullet"),ue,We);const $e=this.get("fillRule");$e&&$e(Ft,qt)}startIndex(){let Ft=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),Ft-1)}endIndex(){let Ft=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",Ft),Ft))}baseValue(){}basePosition(){return 0}getX(Ft){let qt=this._itemMap[Ft];return qt?this._settings.renderer.positionToCoordinate(this.indexToPosition(qt.get("index",0))):NaN}getY(Ft){let qt=this._itemMap[Ft];return qt?this._settings.renderer.positionToCoordinate(this.indexToPosition(qt.get("index",0))):NaN}getDataItemPositionX(Ft,qt,ae,te){const de=Ft.get(qt),re=this._itemMap[de];return re?this.indexToPosition(re.get("index",0),ae):NaN}getDataItemCoordinateX(Ft,qt,ae,te){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(Ft,qt,ae,te))}getDataItemPositionY(Ft,qt,ae,te){const de=Ft.get(qt),re=this._itemMap[de];return re?this.indexToPosition(re.get("index",0),ae):NaN}getDataItemCoordinateY(Ft,qt,ae,te){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(Ft,qt,ae,te))}indexToPosition(Ft,qt){E.isNumber(qt)||(qt=.5);let ae=this.dataItems.length,te=this.get("startLocation",0);ae-=te,ae-=1-this.get("endLocation",1);let de=(Ft+qt-te)/ae,re=this.dataItems[Ft];return re&&(de+=re.get("deltaPosition",0)),de}categoryToIndex(Ft){let qt=this._itemMap[Ft];return qt?qt.get("index"):NaN}dataItemToPosition(Ft){return this.indexToPosition(Ft.get("index"))}roundAxisPosition(Ft,qt){return this.indexToPosition(this.axisPositionToIndex(Ft+=(.5-qt)/this.dataItems.length),qt)}axisPositionToIndex(Ft){let qt=this.dataItems.length;return a.fitToRange(Math.floor(Ft*qt),0,qt-1)}getTooltipText(Ft){const qt=this.dataItems[this.axisPositionToIndex(Ft)];if(qt){const ae=qt.get("label");if(ae)return(0,h.q)(ae,this.get("tooltipText",""))}}_updateTooltipText(Ft,qt){Ft._setDataItem(this.dataItems[this.axisPositionToIndex(qt)]),Ft.label.text.markDirtyText()}getSeriesItem(Ft,qt){if(this.dataItems.length>0){let ae=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),te=this.axisPositionToIndex(qt),de=Ft.dataItems[te],re=this.dataItems[te],Ut=re.get("category");if(de&&re&&de.get(ae)===Ut)return de;for(let Vt=0,ue=Ft.dataItems.length;Vt<ue;Vt++){let me=Ft.dataItems[Vt];if(me.get(ae)===Ut)return me}}}zoomToIndexes(Ft,qt,ae){let te=this.dataItems.length;this.zoom(Ft/te,qt/te,ae)}zoomToCategories(Ft,qt,ae){this.zoomToIndexes(this.categoryToIndex(Ft),this.categoryToIndex(qt)+1,ae)}getCellWidthPosition(){return 1/this.dataItems.length*(this.get("end",1)-this.get("start",0))}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:F.R.classNames.concat([l.className])});var p=i(1926);class x extends l{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),super._afterNew()}_prepareAxisItems(){this.setPrivateRaw("baseInterval",this.get("baseInterval"));const Ft=this.get("renderer"),qt=this.dataItems.length;let ae=this.startIndex();ae>0&&ae--;let te=this.endIndex();te<qt&&te++;let de=Ft.axisLength()/Math.max(Ft.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),re=Math.min(qt,Math.ceil((te-ae)/de));ae=Math.floor(ae/re)*re,this._frequency=re;for(let Pi=0;Pi<qt;Pi++)this.dataItems[Pi].hide();let Ut=Number(this.dataItems[ae].get("category")),Vt=Number(this.dataItems[te-1].get("category")),ue=Vt-Ut;te-ae<de&&(ue=Vt-Ut-((Vt-Ut)/this.baseDuration()-(te-ae))*this.baseDuration());let me=p.chooseInterval(0,ue,de,this.get("gridIntervals"));const ve=p.getNextUnit(me.timeUnit),le=this.getPrivate("baseInterval");p.getIntervalDuration(me)<this.baseDuration()&&(me=Object.assign({},le));const We=this.get("dateFormats");let $e,Li=-1/0,Si=-1/0,bi=-1/0,ji=[],ui=!1;for(let Pi=ae;Pi<te;Pi++){let Ai=this.dataItems[Pi],ke=Ai.get("index"),di=!1,lt=Number(Ai.get("category")),Dt=new Date(lt),Jt=p.getUnitValue(Dt,me.timeUnit);$e=We[me.timeUnit];let he=!1;"year"!=me.timeUnit&&"week"!=me.timeUnit&&ve&&this.get("markUnitChange")&&E.isNumber(Li)&&p.checkChange(lt,Li,ve,this._root.utc)&&($e=this.get("periodChangeDateFormats")[me.timeUnit],ke-.5*re<Si&&ji.pop(),ji.push({format:$e,dataItem:Ai}),ui=!0,he=!0,Si=ke,bi=Jt);let Te=!1;"day"===me.timeUnit||"week"===me.timeUnit?ke-Si>=re&&(Te=!0):Jt%me.count==0&&Jt!=bi&&(Te=!0),!he&&Te&&(ke-.7*re<Si&&ui&&(di=!0),di||(ji.push({format:$e,dataItem:Ai}),Si=ke,bi=Jt),ui=!1),Li=lt}if(ji.length>0){let Pi=ji[0].dataItem.get("index",0);R.each(ji,Ai=>{const ke=Ai.dataItem,di=Ai.format;this._createAssets(ke,[]),ke.isHidden()&&ke.show();let lt=Number(ke.get("category")),Dt=new Date(lt);const Jt=ke.get("label");Jt&&Jt.set("text",this._root.dateFormatter.format(Dt,di)),Pi++,this._prepareDataItem(ke,Pi,re)})}}baseDuration(){return p.getIntervalDuration(this.getPrivate("baseInterval"))}getTooltipText(Ft){let qt=this.dataItems[this.axisPositionToIndex(Ft)];if(qt){let ae=this.get("dateFormats")[this.getPrivate("baseInterval").timeUnit];return this._root.dateFormatter.format(new Date(qt.get("category",0)),this.get("tooltipDateFormat",ae))}}_updateTooltipText(Ft,qt){Ft.label.set("text",this.getTooltipText(qt))}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryDateAxis"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.classNames.concat([x.className])});var T=i(5638),b=i(8701),I=i(7261);class u extends I.m{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._settings.themeTags=M.mergeTags(this._settings.themeTags,["axis"]),super._afterNew()}_adjustMinMax(Ft,qt,ae,te){let de;const re=this.getDurationFormatter(),Ut=this.get("baseUnit");if(this.setRaw("maxPrecision",0),"millisecond"==Ut||"second"==Ut||"minute"==Ut||"hour"==Ut){ae<=1&&(ae=1),ae=Math.round(ae);let Vt=qt-Ft;0===Vt&&(Vt=Math.abs(qt));let ue=Vt/ae,me=[60,30,20,15,10,2,1],ve=1;"hour"==Ut&&(me=[24,12,6,4,2,1]);for(let Si of me)if(Vt/Si>ae){ve=Si;break}let le=Math.ceil((qt-Ft)/ve/ae),We=Math.log(Math.abs(le))*Math.LOG10E,$e=Math.pow(10,Math.floor(We))/10;le=a.closest(me,le/$e)*$e,ue=ve*le,de={min:Ft=Math.floor(Ft/ue)*ue,max:qt=Math.ceil(qt/ue)*ue,step:ue}}else de=super._adjustMinMax(Ft,qt,ae,te);return this.setPrivateRaw("durationFormat",re.getFormat(de.step,de.max,Ut)),de}_formatText(Ft){return this.getDurationFormatter().format(Ft,this.getPrivate("durationFormat"),this.get("baseUnit"))}getTooltipText(Ft){const qt=this.getDurationFormatter(),ae=this.get("extraTooltipPrecision",0),te=this.getPrivate("stepDecimalPlaces",0)+ae,de=a.round(this.positionToValue(Ft),te);return qt.format(de,this.getPrivate("durationFormat"),this.get("baseUnit"))}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DurationAxis"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:I.m.classNames.concat([u.className])});var n=i(6331);class k extends n.JH{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const Ft=this.get("sprite");if(this.isDirty("sprite")&&Ft&&(Ft.setAll({position:"absolute",role:"figure"}),this._disposers.push(Ft)),this.isDirty("location")){const qt=Ft.dataItem;this.axis&&Ft&&qt&&this.axis._prepareDataItem(qt)}}}Object.defineProperty(k,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(k,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:n.JH.classNames.concat([k.className])});var C=i(6293),O=i(9084),m=i(4714),A=i(8943),P=i(6275),D=i(6284),f=i(7909),o=i(4604),B=i(2976),V=i(2312);class q extends B.j{_draw(){const Ft=this._display;Ft.moveTo(this.get("lowX1",0),this.get("lowY1",0)),Ft.lineTo(this.get("highX1",0),this.get("highY1",0));let qt=this.width(),ae=this.height();if("vertical"==this.get("orientation")){let te=ae,de=0;Ft.moveTo(0,te),Ft.lineTo(qt/2,te),Ft.moveTo(qt/2,de),Ft.lineTo(qt,de)}else{let te=0,de=qt;Ft.moveTo(te,0),Ft.lineTo(te,ae/2),Ft.moveTo(de,ae/2),Ft.lineTo(de,ae)}}}Object.defineProperty(q,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLC"}),Object.defineProperty(q,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:B.j.classNames.concat([q.className])});var nt=i(5769),yt=i(7144);class ut extends V.${constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new yt.o(nt.YS.new({themeTags:["autocolor"]}),()=>q._new(this._root,{themeTags:M.mergeTags(this.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template]))})}makeColumn(Ft,qt){const ae=this.mainContainer.children.push(qt.make());return ae._setDataItem(Ft),qt.push(ae),ae}_processAxisRange(Ft){super._processAxisRange(Ft),Ft.columns=new yt.o(nt.YS.new({}),()=>q._new(this._root,{themeTags:M.mergeTags(Ft.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template,Ft.columns.template]))}}Object.defineProperty(ut,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLCSeries"}),Object.defineProperty(ut,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.$.classNames.concat([ut.className])});var Y=i(62),tt=i(2338),wt=i(5892);class St extends tt.e{_afterNew(){this._setDefault("curveFactory",(0,wt.$)(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",(0,wt.$)(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(St,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedYLineSeries"}),Object.defineProperty(St,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tt.e.classNames.concat([St.className])});var At=i(8289);class ht extends tt.e{_afterNew(){this._setDefault("curveFactory",(0,At.G)(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",(0,At.G)(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(ht,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXLineSeries"}),Object.defineProperty(ht,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tt.e.classNames.concat([ht.className])});var mt=i(2818);class dt extends tt.e{_afterNew(){this._setDefault("curveFactory",mt.ZP.tension(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",mt.ZP.tension(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(dt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXYLineSeries"}),Object.defineProperty(dt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tt.e.classNames.concat([dt.className])});var Lt=i(6245);function Ct(Xt,Ft){this._context=Xt,this._t=Ft}function vt(Xt){return new Ct(Xt,1)}Ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Xt,Ft){switch(Xt=+Xt,Ft=+Ft,this._point){case 0:this._point=1,this._line?this._context.lineTo(Xt,Ft):this._context.moveTo(Xt,Ft);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,Ft),this._context.lineTo(Xt,Ft);else{var qt=this._x*(1-this._t)+Xt*this._t;this._context.lineTo(qt,this._y),this._context.lineTo(qt,Ft)}}this._x=Xt,this._y=Ft}};class kt extends tt.e{_afterNew(){this._setDefault("curveFactory",vt),super._afterNew()}_getPoints(Ft,qt){let ae=qt.points,te=this.get("stepWidth",Lt.AQ).value/2,de=Ft.get("locationX",qt.locationX),re=Ft.get("locationY",qt.locationY),Ut=de,Vt=re;qt.baseAxis===qt.xAxis?(de-=te,Ut+=te):qt.baseAxis===qt.yAxis&&(re-=te,Vt+=te);let ue=qt.xAxis.getDataItemPositionX(Ft,qt.xField,de,qt.vcx),me=qt.yAxis.getDataItemPositionY(Ft,qt.yField,re,qt.vcy),ve=qt.xAxis.getDataItemPositionX(Ft,qt.xField,Ut,qt.vcx),le=qt.yAxis.getDataItemPositionY(Ft,qt.yField,Vt,qt.vcy);if(this._shouldInclude(ue)){const We=this.getPoint(ue,me),$e=[We.x,We.y],Li=this.getPoint(ve,le),Si=[Li.x,Li.y];if(qt.fillVisible){let bi=ue,ji=me,ui=ve,Pi=le;if(qt.baseAxis===qt.xAxis?(ji=qt.basePosY,Pi=qt.basePosY):qt.baseAxis===qt.yAxis&&(bi=qt.basePosX,ui=qt.basePosX),qt.getOpen){let di=Ft.get(qt.xOpenField),lt=Ft.get(qt.yOpenField);if(null!=di&&null!=lt)if(de=Ft.get("openLocationX",qt.openLocationX),re=Ft.get("openLocationY",qt.openLocationY),Ut=de,Vt=re,qt.baseAxis===qt.xAxis?(de-=te,Ut+=te):qt.baseAxis===qt.yAxis&&(re-=te,Vt+=te),qt.stacked){let Dt=Ft.get("stackToItemX"),Jt=Ft.get("stackToItemY");Dt?(bi=qt.xAxis.getDataItemPositionX(Dt,qt.xField,de,Dt.component.get("vcx")),ui=qt.xAxis.getDataItemPositionX(Dt,qt.xField,Ut,Dt.component.get("vcx"))):qt.yAxis===qt.baseAxis?(bi=qt.basePosX,ui=qt.basePosX):qt.baseAxis===qt.yAxis&&(bi=qt.xAxis.getDataItemPositionX(Ft,qt.xOpenField,de,qt.vcx),ui=qt.xAxis.getDataItemPositionX(Ft,qt.xOpenField,Ut,qt.vcx)),Jt?(ji=qt.yAxis.getDataItemPositionY(Jt,qt.yField,re,Jt.component.get("vcy")),Pi=qt.yAxis.getDataItemPositionY(Jt,qt.yField,Vt,Jt.component.get("vcy"))):qt.xAxis===qt.baseAxis?(ji=qt.basePosY,Pi=qt.basePosY):qt.baseAxis===qt.yAxis&&(ji=qt.yAxis.getDataItemPositionY(Ft,qt.yOpenField,re,qt.vcy),Pi=qt.yAxis.getDataItemPositionY(Ft,qt.yOpenField,Vt,qt.vcy))}else bi=qt.xAxis.getDataItemPositionX(Ft,qt.xOpenField,de,qt.vcx),ji=qt.yAxis.getDataItemPositionY(Ft,qt.yOpenField,re,qt.vcy),ui=qt.xAxis.getDataItemPositionX(Ft,qt.xOpenField,Ut,qt.vcx),Pi=qt.yAxis.getDataItemPositionY(Ft,qt.yOpenField,Vt,qt.vcy)}let Ai=this.getPoint(bi,ji),ke=this.getPoint(ui,Pi);$e[2]=Ai.x,$e[3]=Ai.y,Si[2]=ke.x,Si[3]=ke.y}ae.push($e),ae.push(Si),Ft.set("point",{x:$e[0]+(Si[0]-$e[0])/2,y:$e[1]+(Si[1]-$e[1])/2})}this.get("noRisers")&&(qt.points=[],qt.segments.push(ae))}}Object.defineProperty(kt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"}),Object.defineProperty(kt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tt.e.classNames.concat([kt.className])});var Rt=i(55)},7825:function(v,e,i){i.r(e),i.d(e,{am5xy:function(){return s}});const s=i(3955)},2818:function(v,e,i){function s(S,M,U){S._context.bezierCurveTo(S._x1+S._k*(S._x2-S._x0),S._y1+S._k*(S._y2-S._y0),S._x2+S._k*(S._x1-M),S._y2+S._k*(S._y1-U),S._x2,S._y2)}function c(S,M){this._context=S,this._k=(1-M)/6}i.d(e,{xm:function(){return s}}),c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:s(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(S,M){switch(S=+S,M=+M,this._point){case 0:this._point=1,this._line?this._context.lineTo(S,M):this._context.moveTo(S,M);break;case 1:this._point=2,this._x1=S,this._y1=M;break;case 2:this._point=3;default:s(this,S,M)}this._x0=this._x1,this._x1=this._x2,this._x2=S,this._y0=this._y1,this._y1=this._y2,this._y2=M}},e.ZP=function S(M){function U(G){return new c(G,M)}return U.tension=function(G){return S(+G)},U}(0)}},function(v){var e=v(v.s=7825),i=window;for(var s in e)i[s]=e[s];e.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})}]),(self.webpackChunk_am5=self.webpackChunk_am5||[]).push([[4837],{9295:function(v,e,i){i.r(e),i.d(e,{am5themes_Animated:function(){return S}});var s=i(3409);const S=class c extends s.Q{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500)}}}},function(v){var e=v(v.s=9295),i=window;for(var s in e)i[s]=e[s];e.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})}]),function(v){"object"==typeof module&&module.exports?(v.default=v,module.exports=v):"function"==typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(e){return v(e),v.Highcharts=e,v}):v(typeof Highcharts<"u"?Highcharts:void 0)}(function(v){function e(i,s,c,S){i.hasOwnProperty(s)||(i[s]=S.apply(null,c),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}e(v=v?v._modules:{},"Accessibility/Utils/HTMLUtilities.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(i,s){function c(F){if("function"==typeof U.MouseEvent)return new U.MouseEvent(F.type,F);if(M.createEvent){var R=M.createEvent("MouseEvent");if(R.initMouseEvent)return R.initMouseEvent(F.type,F.bubbles,F.cancelable,F.view||U,F.detail,F.screenX,F.screenY,F.clientX,F.clientY,F.ctrlKey,F.altKey,F.shiftKey,F.metaKey,F.button,F.relatedTarget),R}return S(F.type)}function S(F,R,E){return R=R||{x:0,y:0},"function"==typeof U.MouseEvent?new U.MouseEvent(F,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:E||X,view:U,detail:"click"===F?1:0,screenX:R.x,screenY:R.y,clientX:R.x,clientY:R.y}):M.createEvent&&(E=M.createEvent("MouseEvent")).initMouseEvent?(E.initMouseEvent(F,!0,!0,U,"click"===F?1:0,R.x,R.y,R.x,R.y,!1,!1,!1,!1,0,null),E):{type:F}}var M=i.doc,U=i.win,G=s.css,X=U.EventTarget&&new U.EventTarget||"none";return{addClass:function(F,R){F.classList?F.classList.add(R):0>F.className.indexOf(R)&&(F.className+=" "+R)},cloneMouseEvent:c,cloneTouchEvent:function(F){var R=function(E){for(var a=[],h=0;h<E.length;++h){var l=E.item(h);l&&a.push(l)}return a};return"function"==typeof U.TouchEvent?(R=new U.TouchEvent(F.type,{touches:R(F.touches),targetTouches:R(F.targetTouches),changedTouches:R(F.changedTouches),ctrlKey:F.ctrlKey,shiftKey:F.shiftKey,altKey:F.altKey,metaKey:F.metaKey,bubbles:F.bubbles,cancelable:F.cancelable,composed:F.composed,detail:F.detail,view:F.view}),F.defaultPrevented&&R.preventDefault(),R):((R=c(F)).touches=F.touches,R.changedTouches=F.changedTouches,R.targetTouches=F.targetTouches,R)},escapeStringForHTML:function(F){return F.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(F){return M.getElementById(F)},getFakeMouseEvent:S,getHeadingTagNameForElement:function(F){var R=function(a){return a=parseInt(a.slice(1),10),"h"+Math.min(6,a+1)},E=function(a){var h;t:{for(h=a;h=h.previousSibling;){var l=h.tagName||"";if(/H[1-6]/.test(l)){h=l;break t}}h=""}return h?R(h):(a=a.parentElement)?/H[1-6]/.test(h=a.tagName)?R(h):E(a):"p"};return E(F)},removeChildNodes:function(F){for(;F.lastChild;)F.removeChild(F.lastChild)},removeClass:function(F,R){F.classList?F.classList.remove(R):F.className=F.className.replace(new RegExp(R,"g"),"")},removeElement:function(F){F&&F.parentNode&&F.parentNode.removeChild(F)},reverseChildNodes:function(F){for(var R=F.childNodes.length;R--;)F.appendChild(F.childNodes[R])},simulatedEventTarget:X,stripHTMLTagsFromString:function(F){return"string"==typeof F?F.replace(/<\/?[^>]+(>|$)/g,""):F},visuallyHideElement:function(F){G(F,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),e(v,"Accessibility/A11yI18n.js",[v["Core/FormatUtilities.js"],v["Core/Utilities.js"]],function(i,s){var U,c=i.format,S=s.getNestedProperty,M=s.pick;return function(G){function F(a,h,l){var p=function(u,n){var k=(u=u.slice(n||0)).indexOf("{"),C=u.indexOf("}");if(-1<k&&C>k)return{statement:u.substring(k+1,C),begin:n+k+1,end:n+C}},x=[],T=0;do{var b=p(a,T),I=a.substring(T,b&&b.begin-1);I.length&&x.push({value:I,type:"constant"}),b&&x.push({value:b.statement,type:"statement"}),T=b?b.end+1:T+1}while(b);return x.forEach(function(u){"statement"===u.type&&(u.value=function X(a,h){var l=a.indexOf("#each("),p=a.indexOf("#plural("),x=a.indexOf("["),T=a.indexOf("]");if(-1<l){if(T=a.slice(l).indexOf(")")+l,p=a.substring(0,l),x=a.substring(T+1),T=a.substring(l+6,T).split(","),l=Number(T[1]),a="",h=S(T[0],h))for(l=0>(l=isNaN(l)?h.length:l)?h.length+l:Math.min(l,h.length),T=0;T<l;++T)a+=p+h[T]+x;return a.length?a:""}if(-1<p){switch(x=a.slice(p).indexOf(")")+p,p=a.substring(p+8,x).split(","),Number(S(p[0],h))){case 0:a=M(p[4],p[1]);break;case 1:a=M(p[2],p[1]);break;case 2:a=M(p[3],p[1]);break;default:a=p[1]}return a?(h=a).trim&&h.trim()||h.replace(/^\s+|\s+$/g,""):""}return-1<x?(p=a.substring(0,x),x=Number(a.substring(x+1,T)),a=void 0,h=S(p,h),!isNaN(x)&&h&&(0>x?typeof(a=h[h.length+x])>"u"&&(a=h[0]):typeof(a=h[x])>"u"&&(a=h[h.length-1])),typeof a<"u"?a:""):"{"+a+"}"}(u.value,h))}),c(x.reduce(function(u,n){return u+n.value},""),h,l)}function R(a,h){a=a.split(".");for(var l=this.options.lang,p=0;p<a.length;++p)l=l&&l[a[p]];return"string"==typeof l?F(l,h,this):""}var E=[];G.compose=function(a){return-1===E.indexOf(a)&&(E.push(a),a.prototype.langFormat=R),a},G.i18nFormat=F}(U||(U={})),U}),e(v,"Accessibility/Utils/ChartUtilities.js",[v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(i,s,c){function G(p){if(p.points&&p.points.length)return(p=h(p.points,function(x){return!!x.graphic}))&&p.graphic&&p.graphic.element}function X(p){var x=G(p);return x&&x.parentNode||p.graph&&p.graph.element||p.group&&p.group.element}var R=i.doc,E=s.stripHTMLTagsFromString,a=c.defined,h=c.find,l=c.fireEvent;return{fireEventOnWrappedOrUnwrappedElement:function S(p,x){var T=x.type,b=p.hcEvents;R.createEvent&&(p.dispatchEvent||p.fireEvent)?p.dispatchEvent?p.dispatchEvent(x):p.fireEvent(T,x):b&&b[T]?l(p,T,x):p.element&&S(p.element,x)},getChartTitle:function(p){return E(p.options.title.text||p.langFormat("accessibility.defaultChartTitle",{chart:p}))},getAxisDescription:function(p){return p&&(p.userOptions&&p.userOptions.accessibility&&p.userOptions.accessibility.description||p.axisTitle&&p.axisTitle.textStr||p.options.id||p.categories&&"categories"||p.dateTime&&"Time"||"values")},getAxisRangeDescription:function(p){var x=p.options||{};return x.accessibility&&typeof x.accessibility.rangeDescription<"u"?x.accessibility.rangeDescription:p.categories?(x=p.chart,p=p.dataMax&&p.dataMin?x.langFormat("accessibility.axis.rangeCategories",{chart:x,axis:p,numCategories:p.dataMax-p.dataMin+1}):""):!p.dateTime||0!==p.min&&0!==p.dataMin?function U(p){var x=p.chart,T=x.options,b=T&&T.accessibility&&T.accessibility.screenReaderSection.axisRangeDateFormat||"",I={min:p.dataMin||p.min||0,max:p.dataMax||p.max||0};return T=function(u){return p.dateTime?x.time.dateFormat(b,I[u]):I[u].toString()},x.langFormat("accessibility.axis.rangeFromTo",{chart:x,axis:p,rangeFrom:T("min"),rangeTo:T("max")})}(p):function M(p){var x=p.chart,T={},b="Seconds";T.Seconds=((p.dataMax||p.max||0)-(p.dataMin||p.min||0))/1e3,T.Minutes=T.Seconds/60,T.Hours=T.Minutes/60,T.Days=T.Hours/24,["Minutes","Hours","Days"].forEach(function(u){2<T[u]&&(b=u)});var I=T[b].toFixed("Seconds"!==b&&"Minutes"!==b?1:0);return x.langFormat("accessibility.axis.timeRange"+b,{chart:x,axis:p,range:I.replace(".0","")})}(p)},getPointFromXY:function(p,x,T){for(var I,b=p.length;b--;)if(I=h(p[b].points||[],function(u){return u.x===x&&u.y===T}))return I},getSeriesFirstPointElement:G,getSeriesFromName:function(p,x){return x?(p.series||[]).filter(function(T){return T.name===x}):p.series},getSeriesA11yElement:X,unhideChartElementFromAT:function F(p,x){x.setAttribute("aria-hidden",!1),x!==p.renderTo&&x.parentNode&&x.parentNode!==R.body&&(Array.prototype.forEach.call(x.parentNode.childNodes,function(T){T.hasAttribute("aria-hidden")||T.setAttribute("aria-hidden",!0)}),F(p,x.parentNode))},hideSeriesFromAT:function(p){(p=X(p))&&p.setAttribute("aria-hidden",!0)},scrollToPoint:function(p){var x=p.series.xAxis,T=p.series.yAxis,b=x&&x.scrollbar?x:T;if((x=b&&b.scrollbar)&&a(x.to)&&a(x.from)){if(T=x.to-x.from,a(b.dataMin)&&a(b.dataMax)){var I=b.toPixels(b.dataMin),u=b.toPixels(b.dataMax);p=(b.toPixels(p["xAxis"===b.coll?"x":"y"]||0)-I)/(u-I)}else p=0;x.updatePosition(p-T/2,p+T/2),l(x,"changed",{from:x.from,to:x.to,trigger:"scrollbar",DOMEvent:null})}}}}),e(v,"Accessibility/Utils/DOMElementProvider.js",[v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(i,s){var c=i.doc,S=s.removeElement;return function(){function M(){this.elements=[]}return M.prototype.createElement=function(){var U=c.createElement.apply(c,arguments);return this.elements.push(U),U},M.prototype.destroyCreatedElements=function(){this.elements.forEach(function(U){S(U)}),this.elements=[]},M}()}),e(v,"Accessibility/Utils/EventProvider.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(i,s){var c=s.addEvent;return function(){function S(){this.eventRemovers=[]}return S.prototype.addEvent=function(){var M=c.apply(i,arguments);return this.eventRemovers.push(M),M},S.prototype.removeAddedEvents=function(){this.eventRemovers.forEach(function(M){return M()}),this.eventRemovers=[]},S}()}),e(v,"Accessibility/AccessibilityComponent.js",[v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/DOMElementProvider.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(i,s,c,S,M){var U=i.fireEventOnWrappedOrUnwrappedElement,G=S.getFakeMouseEvent;return(i=M.extend)((S=function(){function X(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}return X.prototype.initBase=function(F,R){this.chart=F,this.eventProvider=new c,this.domElementProvider=new s,this.proxyProvider=R,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}},X.prototype.addEvent=function(F,R,E,a){return this.eventProvider.addEvent(F,R,E,a)},X.prototype.createElement=function(F,R){return this.domElementProvider.createElement(F,R)},X.prototype.fakeClickEvent=function(F){var R=G("click");U(F,R)},X.prototype.destroyBase=function(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()},X}()).prototype,{init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}}),S}),e(v,"Accessibility/KeyboardNavigationHandler.js",[v["Core/Utilities.js"]],function(i){var s=i.find;return function(){function c(S,M){this.chart=S,this.keyCodeMap=M.keyCodeMap||[],this.validate=M.validate,this.init=M.init,this.terminate=M.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}return c.prototype.run=function(S){var M=S.which||S.keyCode,U=this.response.noHandler,G=s(this.keyCodeMap,function(X){return-1<X[0].indexOf(M)});return G?U=G[1].call(this,M,S):9===M&&(U=this.response[S.shiftKey?"prev":"next"]),U},c}()}),e(v,"Accessibility/Components/ContainerComponent.js",[v["Accessibility/AccessibilityComponent.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,S,M){var E,U=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),G=c.unhideChartElementFromAT,X=c.getChartTitle,F=S.doc,R=M.stripHTMLTagsFromString;return function(E){function a(){return null!==E&&E.apply(this,arguments)||this}return U(a,E),a.prototype.onChartUpdate=function(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()},a.prototype.handleSVGTitleElement=function(){var h=this.chart,l="highcharts-title-"+h.index,p=R(h.langFormat("accessibility.svgContainerTitle",{chartTitle:X(h)}));if(p.length){var x=this.svgTitleElement=this.svgTitleElement||F.createElementNS("http://www.w3.org/2000/svg","title");x.textContent=p,x.id=l,h.renderTo.insertBefore(x,h.renderTo.firstChild)}},a.prototype.setSVGContainerLabel=function(){var h=this.chart,l=h.langFormat("accessibility.svgContainerLabel",{chartTitle:X(h)});h.renderer.box&&l.length&&h.renderer.box.setAttribute("aria-label",l)},a.prototype.setGraphicContainerAttrs=function(){var h=this.chart,l=h.langFormat("accessibility.graphicContainerLabel",{chartTitle:X(h)});l.length&&h.container.setAttribute("aria-label",l)},a.prototype.setRenderToAttrs=function(){var h=this.chart,l="disabled"!==h.options.accessibility.landmarkVerbosity,p=h.langFormat("accessibility.chartContainerLabel",{title:X(h),chart:h});p&&(h.renderTo.setAttribute("role",l?"region":"group"),h.renderTo.setAttribute("aria-label",p))},a.prototype.makeCreditsAccessible=function(){var h=this.chart,l=h.credits;l&&(l.textStr&&l.element.setAttribute("aria-label",h.langFormat("accessibility.credits",{creditsStr:R(l.textStr)})),G(h,l.element))},a.prototype.getKeyboardNavigation=function(){var h=this.chart;return new s(h,{keyCodeMap:[],validate:function(){return!0},init:function(){var l=h.accessibility;l&&l.keyboardNavigation.tabindexContainer.focus()}})},a.prototype.destroy=function(){this.chart.renderTo.setAttribute("aria-hidden",!0)},a}(i)}),e(v,"Accessibility/FocusBorder.js",[v["Core/Renderer/SVG/SVGLabel.js"],v["Core/Utilities.js"]],function(i,s){var M,c=s.addEvent,S=s.pick;return function(U){function G(){var x=this.focusElement,T=this.options.accessibility.keyboardNavigation.focusBorder;x&&(x.removeFocusBorder(),T.enabled&&x.addFocusBorder(T.margin,{stroke:T.style.color,strokeWidth:T.style.lineWidth,r:T.style.borderRadius}))}function X(x,T){var b=this.options.accessibility.keyboardNavigation.focusBorder;(T=T||x.element)&&T.focus&&(T.hcEvents&&T.hcEvents.focusin||c(T,"focusin",function(){}),T.focus(),b.hideBrowserFocusOutline&&(T.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=x,this.renderFocusBorder()}function R(x,T){this.focusBorder&&this.removeFocusBorder();var b=this.getBBox(),I=S(x,3),u=this.parentGroup,n=this.scaleX||u&&u.scaleX,k=this.scaleY||u&&u.scaleY;n=(n?!k:k)?Math.abs(n||k||1):(Math.abs(n||1)+Math.abs(k||1))/2,b.x+=this.translateX?this.translateX:0,b.y+=this.translateY?this.translateY:0,k=b.x-I;var C=b.y-I,O=b.width+2*I,m=b.height+2*I,A=this instanceof i;if("text"===this.element.nodeName||A){var P=!!this.rotation;if(A)var D={x:P?1:0,y:0};else{var f=D=0;"middle"===this.attr("text-anchor")?D=f=.5:this.rotation?D=.25:f=.75,D={x:D,y:f}}f=+this.attr("x");var o=+this.attr("y");isNaN(f)||(k=f-b.width*D.x-I),isNaN(o)||(C=o-b.height*D.y-I),A&&P&&(A=O,O=m,m=A,isNaN(f)||(k=f-b.height*D.x-I),isNaN(o)||(C=o-b.width*D.y-I))}this.focusBorder=this.renderer.rect(k,C,O,m,parseInt((T&&T.r||0).toString(),10)/n).addClass("highcharts-focus-border").attr({zIndex:99}).add(u),this.renderer.styledMode||this.focusBorder.attr({stroke:T&&T.stroke,"stroke-width":(T&&T.strokeWidth||0)/n}),function E(x){for(var T=[],b=1;b<arguments.length;b++)T[b-1]=arguments[b];x.focusBorderUpdateHooks||(x.focusBorderUpdateHooks={},p.forEach(function(I){var u=x[I+="Setter"]||x._defaultSetter;x.focusBorderUpdateHooks[I]=u,x[I]=function(){var n=u.apply(x,arguments);return x.addFocusBorder.apply(x,T),n}}))}(this,x,T),function F(x){if(!x.focusBorderDestroyHook){var T=x.destroy;x.destroy=function(){return x.focusBorder&&x.focusBorder.destroy&&x.focusBorder.destroy(),T.apply(x,arguments)},x.focusBorderDestroyHook=T}}(this)}function a(){(function h(x){x.focusBorderUpdateHooks&&(Object.keys(x.focusBorderUpdateHooks).forEach(function(T){var b=x.focusBorderUpdateHooks[T];b===x._defaultSetter?delete x[T]:x[T]=b}),delete x.focusBorderUpdateHooks)})(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}var l=[],p="x y transform width height r d stroke-width".split(" ");U.compose=function(x,T){-1===l.indexOf(x)&&(l.push(x),(x=x.prototype).renderFocusBorder=G,x.setFocusToElement=X),-1===l.indexOf(T)&&(l.push(T),(T=T.prototype).addFocusBorder=R,T.removeFocusBorder=a)}}(M||(M={})),M}),e(v,"Accessibility/Utils/Announcer.js",[v["Core/Renderer/HTML/AST.js"],v["Accessibility/Utils/DOMElementProvider.js"],v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(i,s,c,S,M){var U=c.doc,G=S.addClass,X=S.visuallyHideElement,F=M.attr;return function(){function R(E,a){this.chart=E,this.domElementProvider=new s,this.announceRegion=this.addAnnounceRegion(a)}return R.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},R.prototype.announce=function(E){var a=this;i.setElementHTML(this.announceRegion,E),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(function(){a.announceRegion.innerHTML=i.emptyHTML,delete a.clearAnnouncementRegionTimer},1e3)},R.prototype.addAnnounceRegion=function(E){var a=this.chart.announcerContainer||this.createAnnouncerContainer(),h=this.domElementProvider.createElement("div");return F(h,{"aria-hidden":!1,"aria-live":E}),this.chart.styledMode?G(h,"highcharts-visually-hidden"):X(h),a.appendChild(h),h},R.prototype.createAnnouncerContainer=function(){var E=this.chart,a=U.createElement("div");return F(a,{"aria-hidden":!1,class:"highcharts-announcer-container"}),a.style.position="relative",E.renderTo.insertBefore(a,E.renderTo.firstChild),E.announcerContainer=a},R}()}),e(v,"Accessibility/Components/AnnotationsA11y.js",[v["Accessibility/Utils/HTMLUtilities.js"]],function(i){function s(X){return(X.annotations||[]).reduce(function(F,R){return R.options&&!1!==R.options.visible&&(F=F.concat(R.labels)),F},[])}function c(X){return X.options&&X.options.accessibility&&X.options.accessibility.description||X.graphic&&X.graphic.text&&X.graphic.text.textStr||""}function S(X){var F=X.options&&X.options.accessibility&&X.options.accessibility.description;if(F)return F;F=X.chart;var R=c(X),E=X.points.filter(function(l){return!!l.graphic}).map(function(l){var p=l.accessibility&&l.accessibility.valueDescription||l.graphic&&l.graphic.element&&l.graphic.element.getAttribute("aria-label")||"";return((l=l&&l.series.name||"")?l+", ":"")+"data point "+p}).filter(function(l){return!!l}),a=E.length,h="accessibility.screenReaderSection.annotations.description"+(1<a?"MultiplePoints":a?"SinglePoint":"NoPoints");return X={annotationText:R,annotation:X,numPoints:a,annotationPoint:E[0],additionalAnnotationPoints:E.slice(1)},F.langFormat(h,X)}function M(X){return s(X).map(function(F){return(F=U(G(S(F))))?"<li>".concat(F,"</li>"):""})}var U=i.escapeStringForHTML,G=i.stripHTMLTagsFromString;return{getAnnotationsInfoHTML:function(X){var F=X.annotations;return F&&F.length?(X=M(X),'<ul style="list-style-type: none">'.concat(X.join(" "),"</ul>")):""},getAnnotationLabelDescription:S,getAnnotationListItems:M,getPointAnnotationTexts:function(X){var F=s(X.series.chart).filter(function(R){return-1<R.points.indexOf(X)});return F.length?F.map(function(R){return"".concat(c(R))}):[]}}}),e(v,"Accessibility/Components/InfoRegionsComponent.js",[v["Accessibility/A11yI18n.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/Announcer.js"],v["Accessibility/Components/AnnotationsA11y.js"],v["Core/Renderer/HTML/AST.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Core/FormatUtilities.js"],v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(i,s,c,S,M,U,G,X,F,R){var P,a=this&&this.__extends||(P=function(D,f){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,B){o.__proto__=B}||function(o,B){for(var V in B)B.hasOwnProperty(V)&&(o[V]=B[V])})(D,f)},function(D,f){function o(){this.constructor=D}P(D,f),D.prototype=null===f?Object.create(f):(o.prototype=f.prototype,new o)}),h=S.getAnnotationsInfoHTML,l=U.getAxisDescription,p=U.getAxisRangeDescription,x=U.getChartTitle,T=U.unhideChartElementFromAT,b=G.format,I=X.doc,u=F.addClass,n=F.getElement,k=F.getHeadingTagNameForElement,C=F.stripHTMLTagsFromString,O=F.visuallyHideElement,m=R.attr,A=R.pick;return function(P){function D(){var f=null!==P&&P.apply(this,arguments)||this;return f.announcer=void 0,f.screenReaderSections={},f}return a(D,P),D.prototype.init=function(){var f=this.chart,o=this;this.initRegionsDefinitions(),this.addEvent(f,"aftergetTableAST",function(B){o.onDataTableCreated(B)}),this.addEvent(f,"afterViewData",function(B){B.wasHidden&&(o.dataTableDiv=B.element,setTimeout(function(){o.focusDataTable()},300))}),this.announcer=new c(f,"assertive")},D.prototype.initRegionsDefinitions=function(){var f=this;this.screenReaderSections={before:{element:null,buildContent:function(o){var B=o.options.accessibility.screenReaderSection.beforeChartFormatter;return B?B(o):f.defaultBeforeChartFormatter(o)},insertIntoDOM:function(o,B){B.renderTo.insertBefore(o,B.renderTo.firstChild)},afterInserted:function(){typeof f.sonifyButtonId<"u"&&f.initSonifyButton(f.sonifyButtonId),typeof f.dataTableButtonId<"u"&&f.initDataTableButton(f.dataTableButtonId)}},after:{element:null,buildContent:function(o){var B=o.options.accessibility.screenReaderSection.afterChartFormatter;return B?B(o):f.defaultAfterChartFormatter()},insertIntoDOM:function(o,B){B.renderTo.insertBefore(o,B.container.nextSibling)},afterInserted:function(){f.chart.accessibility&&f.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}},D.prototype.onChartRender=function(){var f=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(o){f.updateScreenReaderSection(o)})},D.prototype.getLinkedDescriptionElement=function(){var f=this.chart.options.accessibility.linkedDescription;if(f){if("string"!=typeof f)return f;if(f=b(f,this.chart),1===(f=I.querySelectorAll(f)).length)return f[0]}},D.prototype.setLinkedDescriptionAttrs=function(){var f=this.linkedDescriptionElement;f&&(f.setAttribute("aria-hidden","true"),u(f,"highcharts-linked-description"))},D.prototype.updateScreenReaderSection=function(f){var o=this.chart,B=this.screenReaderSections[f],V=B.buildContent(o),q=B.element=B.element||this.createElement("div"),nt=q.firstChild||this.createElement("div");V?(this.setScreenReaderSectionAttribs(q,f),M.setElementHTML(nt,V),q.appendChild(nt),B.insertIntoDOM(q,o),o.styledMode?u(nt,"highcharts-visually-hidden"):O(nt),T(o,nt),B.afterInserted&&B.afterInserted()):(q.parentNode&&q.parentNode.removeChild(q),B.element=null)},D.prototype.setScreenReaderSectionAttribs=function(f,o){var B=this.chart,V=B.langFormat("accessibility.screenReaderSection."+o+"RegionLabel",{chart:B,chartTitle:x(B)});o="highcharts-screen-reader-region-".concat(o,"-").concat(B.index),m(f,{id:o,"aria-label":V||void 0}),f.style.position="relative",V&&f.setAttribute("role","all"===B.options.accessibility.landmarkVerbosity?"region":"group")},D.prototype.defaultBeforeChartFormatter=function(){var f=this.chart,o=f.options.accessibility.screenReaderSection.beforeChartFormat;if(!o)return"";var B=this.getAxesDescription(),V=f.sonify&&f.options.sonification&&f.options.sonification.enabled,q="highcharts-a11y-sonify-data-btn-"+f.index,nt="hc-linkto-highcharts-data-table-"+f.index,yt=h(f),ut=f.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:f});return B={headingTagName:k(f.renderTo),chartTitle:x(f),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:B.xAxis,yAxisDescription:B.yAxis,playAsSoundButton:V?this.getSonifyButtonText(q):"",viewTableButton:f.getCSV?this.getDataTableButtonText(nt):"",annotationsTitle:yt?ut:"",annotationsList:yt},f=i.i18nFormat(o,B,f),this.dataTableButtonId=nt,this.sonifyButtonId=q,f.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},D.prototype.defaultAfterChartFormatter=function(){var f=this.chart,o=f.options.accessibility.screenReaderSection.afterChartFormat;if(!o)return"";var B={endOfChartMarker:this.getEndOfChartMarkerText()};return i.i18nFormat(o,B,f).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},D.prototype.getLinkedDescription=function(){var f=this.linkedDescriptionElement;return C(f&&f.innerHTML||"")},D.prototype.getLongdescText=function(){var f=this.chart.options,o=f.caption;o=o&&o.text;var B=this.getLinkedDescription();return f.accessibility.description||B||o||""},D.prototype.getTypeDescriptionText=function(){var f=this.chart;return f.types?f.options.accessibility.typeDescription||function E(P,D){var f=D[0],o=P.series&&P.series[0]||{};if(o={numSeries:P.series.length,numPoints:o.points&&o.points.length,chart:P,mapTitle:P.mapView&&P.mapView.geoMap&&P.mapView.geoMap.title},!f)return P.langFormat("accessibility.chartTypes.emptyChart",o);if("map"===f)return P.langFormat(o.mapTitle?"accessibility.chartTypes.mapTypeDescription":"accessibility.chartTypes.unknownMap",o);if(1<P.types.length)return P.langFormat("accessibility.chartTypes.combinationChart",o);f=P.langFormat("accessibility.seriesTypeDescriptions."+(D=D[0]),o);var B=P.series&&2>P.series.length?"Single":"Multiple";return(P.langFormat("accessibility.chartTypes."+D+B,o)||P.langFormat("accessibility.chartTypes.default"+B,o))+(f?" "+f:"")}(f,f.types):""},D.prototype.getDataTableButtonText=function(f){var o=this.chart;return'<button id="'+f+'">'+(o=o.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:o,chartTitle:x(o)}))+"</button>"},D.prototype.getSonifyButtonText=function(f){var o=this.chart;return o.options.sonification&&!1===o.options.sonification.enabled?"":'<button id="'+f+'">'+(o=o.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:o,chartTitle:x(o)}))+"</button>"},D.prototype.getSubtitleText=function(){var f=this.chart.options.subtitle;return C(f&&f.text||"")},D.prototype.getEndOfChartMarkerText=function(){var f=this.chart,o=f.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:f});return'<div id="highcharts-end-of-chart-marker-'+f.index+'">'+o+"</div>"},D.prototype.onDataTableCreated=function(f){var o=this.chart;if(o.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");var B=f.tree.attributes||{};B.tabindex=-1,B.summary=o.langFormat("accessibility.table.tableSummary",{chart:o}),f.tree.attributes=B}},D.prototype.focusDataTable=function(){var f=this.dataTableDiv;(f=f&&f.getElementsByTagName("table")[0])&&f.focus&&f.focus()},D.prototype.initSonifyButton=function(f){var o=this,B=this.sonifyButton=n(f),V=this.chart,q=function(nt){B&&(B.setAttribute("aria-hidden","true"),B.setAttribute("aria-label","")),nt.preventDefault(),nt.stopPropagation(),nt=V.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:V}),o.announcer.announce(nt),setTimeout(function(){B&&(B.removeAttribute("aria-hidden"),B.removeAttribute("aria-label")),V.sonify&&V.sonify()},1e3)};B&&V&&(B.setAttribute("tabindex",-1),B.onclick=function(nt){(V.options.accessibility&&V.options.accessibility.screenReaderSection.onPlayAsSoundClick||q).call(this,nt,V)})},D.prototype.initDataTableButton=function(f){var o=this.viewDataTableButton=n(f),B=this.chart;f=f.replace("hc-linkto-",""),o&&(m(o,{tabindex:-1,"aria-expanded":!!n(f)}),o.onclick=B.options.accessibility.screenReaderSection.onViewDataTableClick||function(){B.viewData()})},D.prototype.getAxesDescription=function(){var f=this.chart,o=function(nt,yt){return 1<(nt=f[nt]).length||nt[0]&&A(nt[0].options.accessibility&&nt[0].options.accessibility.enabled,yt)},B=!!f.types&&0>f.types.indexOf("map")&&0>f.types.indexOf("treemap")&&0>f.types.indexOf("tilemap"),V=!!f.hasCartesianSeries,q=o("xAxis",!f.angular&&V&&B);return o=o("yAxis",V&&B),B={},q&&(B.xAxis=this.getAxisDescriptionText("xAxis")),o&&(B.yAxis=this.getAxisDescriptionText("yAxis")),B},D.prototype.getAxisDescriptionText=function(f){var o=this.chart,B=o[f];return o.langFormat("accessibility.axis."+f+"Description"+(1<B.length?"Plural":"Singular"),{chart:o,names:B.map(function(V){return l(V)}),ranges:B.map(function(V){return p(V)}),numAxes:B.length})},D.prototype.destroy=function(){this.announcer&&this.announcer.destroy()},D}(s)}),e(v,"Accessibility/Components/MenuComponent.js",[v["Core/Chart/Chart.js"],v["Core/Utilities.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,S,M,U){var a,G=this&&this.__extends||(a=function(h,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var T in x)x.hasOwnProperty(T)&&(p[T]=x[T])})(h,l)},function(h,l){function p(){this.constructor=h}a(h,l),h.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)}),X=s.attr,F=M.getChartTitle,R=M.unhideChartElementFromAT,E=U.getFakeMouseEvent;return s=function(a){function h(){return null!==a&&a.apply(this,arguments)||this}return G(h,a),h.prototype.init=function(){var l=this.chart,p=this;this.addEvent(l,"exportMenuShown",function(){p.onMenuShown()}),this.addEvent(l,"exportMenuHidden",function(){p.onMenuHidden()}),this.createProxyGroup()},h.prototype.onMenuHidden=function(){var l=this.chart.exportContextMenu;l&&l.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")},h.prototype.onMenuShown=function(){var l=this.chart,p=l.exportContextMenu;p&&(this.addAccessibleContextMenuAttribs(),R(l,p)),this.setExportButtonExpandedState("true")},h.prototype.setExportButtonExpandedState=function(l){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",l)},h.prototype.onChartRender=function(){var l=this.chart,p=l.focusElement,x=l.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&p&&p===l.exportingGroup&&(p.focusBorder?l.setFocusToElement(p,this.exportButtonProxy.buttonElement):x&&x.keyboardNavigation.tabindexContainer.focus())},h.prototype.proxyMenuButton=function(){var l=this.chart,x=l.exportSVGElements&&l.exportSVGElements[0],T=l.options.exporting,b=l.exportSVGElements&&l.exportSVGElements[0];T&&!1!==T.enabled&&T.accessibility&&T.accessibility.enabled&&b&&b.element&&x&&(this.exportButtonProxy=this.proxyProvider.addProxyElement("chartMenu",{click:x},{"aria-label":l.langFormat("accessibility.exporting.menuButtonLabel",{chart:l,chartTitle:F(l)}),"aria-expanded":!1,title:l.options.lang.contextButtonTitle||null}))},h.prototype.createProxyGroup=function(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")},h.prototype.addAccessibleContextMenuAttribs=function(){var l=this.chart,p=l.exportDivElements;p&&p.length&&(p.forEach(function(x){x&&("LI"!==x.tagName||x.children&&x.children.length?x.setAttribute("aria-hidden","true"):x.setAttribute("tabindex",-1))}),(p=p[0]&&p[0].parentNode)&&X(p,{"aria-hidden":void 0,"aria-label":l.langFormat("accessibility.exporting.chartMenuLabel",{chart:l}),role:"list"}))},h.prototype.getKeyboardNavigation=function(){var l=this.keyCodes,p=this.chart,x=this;return new S(p,{keyCodeMap:[[[l.left,l.up],function(){return x.onKbdPrevious(this)}],[[l.right,l.down],function(){return x.onKbdNext(this)}],[[l.enter,l.space],function(){return x.onKbdClick(this)}]],validate:function(){return!!p.exporting&&!1!==p.options.exporting.enabled&&!1!==p.options.exporting.accessibility.enabled},init:function(){var T=x.exportButtonProxy,b=x.chart.exportingGroup;T&&b&&p.setFocusToElement(b,T.buttonElement)},terminate:function(){p.hideExportMenu()}})},h.prototype.onKbdPrevious=function(l){var p=this.chart,x=p.options.accessibility;l=l.response;for(var T=p.highlightedExportItemIx||0;T--;)if(p.highlightExportItem(T))return l.success;return x.keyboardNavigation.wrapAround?(p.highlightLastExportItem(),l.success):l.prev},h.prototype.onKbdNext=function(l){var p=this.chart,x=p.options.accessibility;l=l.response;for(var T=(p.highlightedExportItemIx||0)+1;T<p.exportDivElements.length;++T)if(p.highlightExportItem(T))return l.success;return x.keyboardNavigation.wrapAround?(p.highlightExportItem(0),l.success):l.next},h.prototype.onKbdClick=function(l){var p=this.chart,T=(p.exportSVGElements&&p.exportSVGElements[0]).element;return p.openMenu?this.fakeClickEvent(p.exportDivElements[p.highlightedExportItemIx]):(this.fakeClickEvent(T),p.highlightExportItem(0)),l.response.success},h}(c),function(a){function h(){var b=this.exportSVGElements&&this.exportSVGElements[0];b&&(b=b.element).onclick&&b.onclick(E("click"))}function l(){var b=this.exportDivElements;b&&this.exportContextMenu&&this.openMenu&&(b.forEach(function(I){I&&"highcharts-menu-item"===I.className&&I.onmouseout&&I.onmouseout(E("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function p(b){var I=this.exportDivElements&&this.exportDivElements[b],u=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(I&&"LI"===I.tagName&&(!I.children||!I.children.length)){var n=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return I.focus&&n&&I.focus(),u&&u.onmouseout&&u.onmouseout(E("mouseout")),I.onmouseover&&I.onmouseover(E("mouseover")),this.highlightedExportItemIx=b,!0}return!1}function x(){if(this.exportDivElements)for(var b=this.exportDivElements.length;b--;)if(this.highlightExportItem(b))return!0;return!1}var T=[];a.compose=function(b){-1===T.indexOf(b)&&(T.push(b),(b=i.prototype).hideExportMenu=l,b.highlightExportItem=p,b.highlightLastExportItem=x,b.showExportMenu=h)}}(s||(s={})),s}),e(v,"Accessibility/KeyboardNavigation.js",[v["Core/Globals.js"],v["Accessibility/Components/MenuComponent.js"],v["Core/Utilities.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,S,M){var U=i.doc,G=i.win,X=c.addEvent,F=c.fireEvent,R=M.getElement,E=M.simulatedEventTarget;return function(a){function h(){var x=this;F(this,"dismissPopupContent",{},function(){x.tooltip&&x.tooltip.hide(0),x.hideExportMenu()})}function l(x){27===(x.which||x.keyCode)&&i.charts&&i.charts.forEach(function(T){T&&T.dismissPopupContent&&T.dismissPopupContent()})}var p=[];a.compose=function(x){return s.compose(x),-1===p.indexOf(x)&&(p.push(x),x.prototype.dismissPopupContent=h),-1===p.indexOf(U)&&(p.push(U),X(U,"keydown",l)),x}}((c=function(){function a(h,l){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(h,l)}return a.prototype.init=function(h,l){var p=this,x=this.eventProvider=new S;this.chart=h,this.components=l,this.modules=[],this.currentModuleIx=0,this.update(),x.addEvent(this.tabindexContainer,"keydown",function(T){return p.onKeydown(T)}),x.addEvent(this.tabindexContainer,"focus",function(T){return p.onFocus(T)}),["mouseup","touchend"].forEach(function(T){return x.addEvent(U,T,function(b){return p.onMouseUp(b)})}),["mousedown","touchstart"].forEach(function(T){return x.addEvent(h.renderTo,T,function(){p.isClickingChart=!0})}),x.addEvent(h.renderTo,"mouseover",function(){p.pointerIsOverChart=!0}),x.addEvent(h.renderTo,"mouseout",function(){p.pointerIsOverChart=!1})},a.prototype.update=function(h){var l=this.chart.options.accessibility;l=l&&l.keyboardNavigation;var p=this.components;this.updateContainerTabindex(),l&&l.enabled&&h&&h.length?(this.modules=h.reduce(function(x,T){return T=p[T].getKeyboardNavigation(),x.concat(T)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())},a.prototype.updateExitAnchor=function(){var h="highcharts-end-of-chart-marker-".concat(this.chart.index);h=R(h),this.removeExitAnchor(),h?(this.makeElementAnExitAnchor(h),this.exitAnchor=h):this.createExitAnchor()},a.prototype.move=function(h){var l=this.modules&&this.modules[this.currentModuleIx];if(l&&l.terminate&&l.terminate(h),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=h,l=this.modules&&this.modules[this.currentModuleIx]){if(l.validate&&!l.validate())return this.move(h);if(l.init)return l.init(h),!0}return this.currentModuleIx=0,this.exiting=!0,0<h?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1},a.prototype.onFocus=function(h){h=h.relatedTarget&&this.chart.container.contains(h.relatedTarget),this.exiting||this.tabbingInBackwards||this.isClickingChart||h||null!==(h=this.getFirstValidModuleIx())&&(this.currentModuleIx=h,this.modules[h].init(1)),this.exiting=!1},a.prototype.onMouseUp=function(h){if(delete this.isClickingChart,!this.keyboardReset&&h.relatedTarget!==E){if(h=this.chart,!this.pointerIsOverChart){var l=this.modules&&this.modules[this.currentModuleIx||0];l&&l.terminate&&l.terminate(),this.currentModuleIx=0}h.focusElement&&(h.focusElement.removeFocusBorder(),delete h.focusElement),this.keyboardReset=!0}},a.prototype.onKeydown=function(h){h=h||G.event;var p,l=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];if(this.exiting=this.keyboardReset=!1,l){var x=l.run(h);x===l.response.success?p=!0:x===l.response.prev?p=this.move(-1):x===l.response.next&&(p=this.move(1)),p&&(h.preventDefault(),h.stopPropagation())}},a.prototype.updateContainerTabindex=function(){var h=this.chart.options.accessibility;h=!((h=h&&h.keyboardNavigation)&&!1===h.enabled);var l=this.chart,p=l.container;l.renderTo.hasAttribute("tabindex")&&(p.removeAttribute("tabindex"),p=l.renderTo),this.tabindexContainer=p;var x=p.getAttribute("tabindex");h&&!x?p.setAttribute("tabindex","0"):h||l.container.removeAttribute("tabindex")},a.prototype.createExitAnchor=function(){var h=this.chart,l=this.exitAnchor=U.createElement("div");h.renderTo.appendChild(l),this.makeElementAnExitAnchor(l)},a.prototype.makeElementAnExitAnchor=function(h){var l=this.tabindexContainer.getAttribute("tabindex")||0;h.setAttribute("class","highcharts-exit-anchor"),h.setAttribute("tabindex",l),h.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(h)},a.prototype.removeExitAnchor=function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)},a.prototype.addExitAnchorEventsToEl=function(h){var l=this.chart,p=this;this.eventProvider.addEvent(h,"focus",function(x){var T=!((x=x||G.event).relatedTarget&&l.container.contains(x.relatedTarget)||p.exiting);l.focusElement&&delete l.focusElement,T?(p.tabbingInBackwards=!0,p.tabindexContainer.focus(),delete p.tabbingInBackwards,x.preventDefault(),p.modules&&p.modules.length&&(p.currentModuleIx=p.modules.length-1,(x=p.modules[p.currentModuleIx])&&x.validate&&!x.validate()?p.move(-1):x&&x.init(-1))):p.exiting=!1})},a.prototype.getFirstValidModuleIx=function(){for(var h=this.modules.length,l=0;l<h;++l){var p=this.modules[l];if(!p.validate||p.validate())return l}return null},a.prototype.destroy=function(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")},a}())||(c={})),c}),e(v,"Accessibility/Components/LegendComponent.js",[v["Core/Animation/AnimationUtilities.js"],v["Core/Globals.js"],v["Core/Legend/Legend.js"],v["Core/Utilities.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,S,M,U,G,X){function F(C){var O=C.legend&&C.legend.allItems,m=C.options.legend.accessibility||{};return C=C.colorAxis&&C.colorAxis.some(function(A){return!A.dataClasses||!A.dataClasses.length}),!(!O||!O.length||C||!1===m.enabled)}function R(C,O){var m=O.legendItem||{};O.setState(C?"hover":"",!0),O=0;for(var A=["group","label","symbol"];O<A.length;O++){var P=m[A[O]];(P=P&&P.element||P)&&p(P,C?"mouseover":"mouseout")}}var C,E=this&&this.__extends||(C=function(O,m){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,P){A.__proto__=P}||function(A,P){for(var D in P)P.hasOwnProperty(D)&&(A[D]=P[D])})(O,m)},function(O,m){function A(){this.constructor=O}C(O,m),O.prototype=null===m?Object.create(m):(A.prototype=m.prototype,new A)}),a=i.animObject,h=s.doc,l=S.addEvent,p=S.fireEvent,x=S.isNumber,T=S.pick,b=S.syncTimeout,I=G.getChartTitle,u=X.stripHTMLTagsFromString,n=X.addClass,k=X.removeClass;return i=function(C){function O(){var m=null!==C&&C.apply(this,arguments)||this;return m.highlightedLegendItemIx=NaN,m.proxyGroup=null,m}return E(O,C),O.prototype.init=function(){var m=this;this.recreateProxies(),this.addEvent(c,"afterScroll",function(){this.chart===m.chart&&(m.proxyProvider.updateGroupProxyElementPositions("legend"),m.updateLegendItemProxyVisibility(),-1<m.highlightedLegendItemIx&&this.chart.highlightLegendItem(m.highlightedLegendItemIx))}),this.addEvent(c,"afterPositionItem",function(A){this.chart===m.chart&&this.chart.renderer&&m.updateProxyPositionForItem(A.item)}),this.addEvent(c,"afterRender",function(){this.chart===m.chart&&this.chart.renderer&&m.recreateProxies()&&b(function(){return m.proxyProvider.updateGroupProxyElementPositions("legend")},a(T(this.chart.renderer.globalAnimation,!0)).duration)})},O.prototype.updateLegendItemProxyVisibility=function(){var f,m=this.chart,A=m.legend,P=A.currentPage||1,D=A.clipHeight||0;(A.allItems||[]).forEach(function(o){if(o.a11yProxyElement){var B=A.pages&&A.pages.length,V=o.a11yProxyElement.element,q=!1;f=o.legendItem||{},B&&(o=f.pageIx||0,q=(B=f.y||0)+(q=f.label?Math.round(f.label.getBBox().height):0)-A.pages[o]>D||o!==P-1),q?m.styledMode?n(V,"highcharts-a11y-invisible"):V.style.visibility="hidden":(k(V,"highcharts-a11y-invisible"),V.style.visibility="")}})},O.prototype.onChartRender=function(){F(this.chart)||this.removeProxies()},O.prototype.highlightAdjacentLegendPage=function(m){var A=this.chart,P=A.legend,D=P.pages||[];if(0<(m=(P.currentPage||1)+m)&&m<=D.length)for(var f=D=0,o=P.allItems;f<o.length;f++)((o[f].legendItem||{}).pageIx||0)+1===m&&(P=A.highlightLegendItem(D))&&(this.highlightedLegendItemIx=D),++D},O.prototype.updateProxyPositionForItem=function(m){m.a11yProxyElement&&m.a11yProxyElement.refreshPosition()},O.prototype.recreateProxies=function(){var m=h.activeElement,A=this.proxyGroup;return m=m&&A&&A.contains(m),this.removeProxies(),!!F(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),m&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)},O.prototype.removeProxies=function(){this.proxyProvider.removeGroup("legend")},O.prototype.updateLegendTitle=function(){var m=this.chart,A=u((m.legend&&m.legend.options.title&&m.legend.options.title.text||"").replace(/<br ?\/?>/g," "));m=m.langFormat("accessibility.legend.legendLabel"+(A?"":"NoTitle"),{chart:m,legendTitle:A,chartTitle:I(m)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":m})},O.prototype.addLegendProxyGroup=function(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})},O.prototype.proxyLegendItems=function(){var A,m=this;((this.chart.legend||{}).allItems||[]).forEach(function(P){(A=P.legendItem||{}).label&&A.label.element&&m.proxyLegendItem(P)})},O.prototype.proxyLegendItem=function(m){var A=m.legendItem||{};if(A.label&&A.group){var P=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:u(m.name),item:m});m.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:A.label,visual:(A.group.div?A.label:A.group).element},{tabindex:-1,"aria-pressed":m.visible,"aria-label":P})}},O.prototype.getKeyboardNavigation=function(){var m=this.keyCodes,A=this,P=this.chart;return new U(P,{keyCodeMap:[[[m.left,m.right,m.up,m.down],function(D){return A.onKbdArrowKey(this,D)}],[[m.enter,m.space],function(){return A.onKbdClick(this)}],[[m.pageDown,m.pageUp],function(D){return A.highlightAdjacentLegendPage(D===m.pageDown?1:-1),this.response.success}]],validate:function(){return A.shouldHaveLegendNavigation()},init:function(){P.highlightLegendItem(0),A.highlightedLegendItemIx=0},terminate:function(){A.highlightedLegendItemIx=-1,P.legend.allItems.forEach(function(D){return R(!1,D)})}})},O.prototype.onKbdArrowKey=function(m,A){var P=this.keyCodes,D=m.response,f=this.chart,o=f.options.accessibility,B=f.legend.allItems.length;return f.highlightLegendItem(this.highlightedLegendItemIx+(A=A===P.left||A===P.up?-1:1))?(this.highlightedLegendItemIx+=A,D.success):(1<B&&o.keyboardNavigation.wrapAround&&m.init(A),D.success)},O.prototype.onKbdClick=function(m){var A=this.chart.legend.allItems[this.highlightedLegendItemIx];return A&&A.a11yProxyElement&&A.a11yProxyElement.click(),m.response.success},O.prototype.shouldHaveLegendNavigation=function(){if(!F(this.chart))return!1;var m=this.chart,A=(m.options.legend||{}).accessibility||{};return!!(m.legend.display&&A.keyboardNavigation&&A.keyboardNavigation.enabled)},O}(M),function(C){function O(P){var D=this.legend.allItems,f=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,o=D[P],B=o.legendItem||{};return!!o&&(x(f)&&D[f]&&R(!1,D[f]),f=(D=this.legend).currentPage,typeof(P=(D.allItems[P].legendItem||{}).pageIx)<"u"&&P+1!==f&&D.scroll(1+P-f),P=o.a11yProxyElement&&o.a11yProxyElement.buttonElement,(B=B.label)&&B.element&&P&&this.setFocusToElement(B,P),R(!0,o),!0)}function m(P){var D=P.item;this.chart.options.accessibility.enabled&&D&&D.a11yProxyElement&&D.a11yProxyElement.buttonElement.setAttribute("aria-pressed",P.visible?"true":"false")}var A=[];C.compose=function(P,D){-1===A.indexOf(P)&&(A.push(P),P.prototype.highlightLegendItem=O),-1===A.indexOf(D)&&(A.push(D),l(D,"afterColorizeItem",m))}}(i||(i={})),i}),e(v,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[v["Accessibility/Components/AnnotationsA11y.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Core/FormatUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(i,s,c,S,M){function G(o){var B=o.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==B&&o.points&&o.points.length>=B)}function R(o,B){var V=o.series,q=V.chart;o=q.options.accessibility.point||{};var nt=V.options.accessibility&&V.options.accessibility.point||{};return V=V.tooltipOptions||{},q=q.options.lang,P(B)?C(B,nt.valueDecimals||o.valueDecimals||V.valueDecimals||-1,q.decimalPoint,q.accessibility.thousandsSep||q.thousandsSep):B}function a(o,B){return o.chart.langFormat("accessibility.series."+B+"Description",{name:b(o[B]),series:o})}function l(o){var B=o.series,V=1<B.chart.series.length||B.options.name,q=o.series,nt=q.chart,yt=q.options.accessibility;if(yt=yt&&yt.point&&yt.point.valueDescriptionFormat||nt.options.accessibility.point.valueDescriptionFormat,q=D(q.xAxis&&q.xAxis.options.accessibility&&q.xAxis.options.accessibility.enabled,!nt.angular)){var ut=o.series,Y=ut.chart,tt=ut.options.accessibility&&ut.options.accessibility.point||{},wt=Y.options.accessibility.point||{};(ut=ut.xAxis&&ut.xAxis.dateTime)?(ut=ut.getXDateFormat(o.x||0,Y.options.tooltip.dateTimeLabelFormats),tt=tt.dateFormatter&&tt.dateFormatter(o)||wt.dateFormatter&&wt.dateFormatter(o)||tt.dateFormat||wt.dateFormat||ut,Y=Y.time.dateFormat(tt,o.x||0,void 0)):Y=void 0,tt=(o.series.xAxis||{}).categories&&f(o.category)&&(""+o.category).replace("<br/>"," "),wt=f(o.id)&&0>(""+o.id).indexOf("highcharts-"),ut="x, "+o.x,Y=o.name||Y||tt||(wt?o.id:ut)}else Y="";tt=f(o.index)?o.index+1:"";var St=(wt=o.series).chart.options.accessibility.point||{},At=wt.chart.options.accessibility&&wt.chart.options.accessibility.point||{},ht=wt.tooltipOptions||{};return ut=At.valuePrefix||St.valuePrefix||ht.valuePrefix||"",St=At.valueSuffix||St.valueSuffix||ht.valueSuffix||"",At=R(o,o[typeof o.value<"u"?"value":"y"]),wt=o.isNull?wt.chart.langFormat("accessibility.series.nullPointValue",{point:o}):wt.pointArrayMap?function h(o,B,V){var q=B||"",nt=V||"";return o.series.pointArrayMap.reduce(function(yt,ut){yt+=yt.length?", ":"";var Y=R(o,D(o[ut],o.options[ut]));return yt+(ut+": ")+q+Y+nt},"")}(o,ut,St):ut+At+St,nt=k(yt,{point:o,index:tt,xDescription:Y,value:wt,separator:q?", ":""},nt),yt=(yt=o.options&&o.options.accessibility&&o.options.accessibility.description)?" "+yt:"",B=V?" "+B.name+".":"",V=o.series.chart,Y={point:o,annotations:q=T(o)},V=q.length?V.langFormat("accessibility.series.pointAnnotationsDescription",Y):"",o.accessibility=o.accessibility||{},o.accessibility.valueDescription=nt,nt+yt+B+(V?" "+V:"")}function x(o){var B=o.chart,V=B.types||[],q=function E(o){var B=(o.options.accessibility||{}).description;return B&&o.chart.langFormat("accessibility.series.description",{description:B,series:o})||""}(o),nt=function(wt){return B[wt]&&1<B[wt].length&&o[wt]},yt=o.index+1,ut=a(o,"xAxis"),Y=a(o,"yAxis"),tt={seriesNumber:yt,series:o,chart:B};return tt=B.langFormat("accessibility.series.summary."+o.type+(V=1<V.length?"Combination":""),tt)||B.langFormat("accessibility.series.summary.default"+V,tt),nt=(nt("yAxis")?" "+Y+".":"")+(nt("xAxis")?" "+ut+".":""),k(B.options.accessibility.series.descriptionFormat||"",{seriesDescription:tt,authorDescription:q?" "+q:"",axisDescription:nt,series:o,chart:B,seriesNumber:yt},void 0)}var T=i.getPointAnnotationTexts,b=s.getAxisDescription,I=s.getSeriesFirstPointElement,u=s.getSeriesA11yElement,n=s.unhideChartElementFromAT,k=c.format,C=c.numberFormat,O=S.reverseChildNodes,m=S.stripHTMLTagsFromString,A=M.find,P=M.isNumber,D=M.pick,f=M.defined;return{defaultPointDescriptionFormatter:l,defaultSeriesDescriptionFormatter:x,describeSeries:function(o){var B=o.chart,V=I(o),q=u(o),nt=B.is3d&&B.is3d();q&&(q.lastChild!==V||nt||O(q),function p(o){var B=function X(o){var B=o.options.accessibility||{};return!G(o)&&!B.exposeAsGroupOnly}(o),V=function F(o){var B=o.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!o.points||!(o.points.length<B.pointNavigationEnabledThreshold||!1===B.pointNavigationEnabledThreshold))}(o),q=o.chart.options.accessibility.point.describeNull;(B||V)&&o.points.forEach(function(nt){var yt;if(!(yt=nt.graphic&&nt.graphic.element)){var ut=nt.series;if(yt=ut&&ut.chart,ut=ut&&ut.is("sunburst"),yt=yt&&yt.options.accessibility.point.describeNull,yt=nt.isNull&&!ut&&yt){ut=nt.series;var Y=function U(o){var B=o.index;return o.series&&o.series.data&&f(B)&&A(o.series.data,function(V){return!!(V&&typeof V.index<"u"&&V.index>B&&V.graphic&&V.graphic.element)})||null}(nt);ut=(yt=Y&&Y.graphic)?yt.parentGroup:ut.graph||ut.group,Y=Y?{x:D(nt.plotX,Y.plotX,0),y:D(nt.plotY,Y.plotY,0)}:{x:D(nt.plotX,0),y:D(nt.plotY,0)},(Y=nt.series.chart.renderer.rect(Y.x,Y.y,1,1)).attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ut&&ut.element?(nt.graphic=Y,nt.hasMockGraphic=!0,Y.add(ut),ut.element.insertBefore(Y.element,yt?yt.element:null),yt=Y.element):yt=void 0}}ut=nt.options&&nt.options.accessibility&&!1===nt.options.accessibility.enabled,yt&&(nt.isNull&&!q?yt.setAttribute("aria-hidden",!0):(yt.setAttribute("tabindex","-1"),o.chart.styledMode||(yt.style.outline="none"),B&&!ut?(ut=(Y=nt.series).chart.options.accessibility.point||{},nt=m((Y=Y.options.accessibility&&Y.options.accessibility.point||{}).descriptionFormatter&&Y.descriptionFormatter(nt)||ut.descriptionFormatter&&ut.descriptionFormatter(nt)||l(nt)),yt.setAttribute("role","img"),yt.setAttribute("aria-label",nt)):yt.setAttribute("aria-hidden",!0)))})}(o),n(B,q),B=(nt=o.chart).options.chart,V=1<nt.series.length,nt=nt.options.accessibility.series.describeSingleSeries,B.options3d&&B.options3d.enabled&&V||!(V||nt||(o.options.accessibility||{}).exposeAsGroupOnly||G(o))?q.removeAttribute("aria-label"):(V=(B=o.chart.options.accessibility).landmarkVerbosity,q.setAttribute("role",(o.options.accessibility||{}).exposeAsGroupOnly?"img":"all"===V?"region":"group"),q.setAttribute("tabindex","-1"),o.chart.styledMode||(q.style.outline="none"),q.setAttribute("aria-label",m(B.series.descriptionFormatter&&B.series.descriptionFormatter(o)||x(o)))))}}}),e(v,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/Utils/Announcer.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(i,s,c,S,M,U){var F=s.addEvent,R=s.defined,E=S.getChartTitle,a=U.defaultPointDescriptionFormatter,h=U.defaultSeriesDescriptionFormatter;return function(l){function p(T){var b=this.chart,I=this.newDataAnnouncer;I&&I.chart===b&&b.options.accessibility.announceNewData.enabled&&(I.dirty.newPoint=R(I.dirty.newPoint)?void 0:T.point)}function x(){var T=this.chart,b=this.newDataAnnouncer;b&&b.chart===T&&T.options.accessibility.announceNewData.enabled&&(b.dirty.hasDirty=!0,b.dirty.allSeries[this.name+this.index]=this)}l.composedClasses=[],l.compose=function(T){-1===l.composedClasses.indexOf(T)&&(l.composedClasses.push(T),F(T,"addPoint",p),F(T,"updatedData",x))}}((s=function(){function l(p){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=p}return l.prototype.init=function(){var p=this.chart,x=p.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new M,this.announcer=new c(p,x),this.addEventListeners()},l.prototype.destroy=function(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()},l.prototype.addEventListeners=function(){var p=this,x=this.chart,T=this.eventProvider;T.addEvent(x,"afterApplyDrilldown",function(){p.lastAnnouncementTime=0}),T.addEvent(x,"afterAddSeries",function(b){p.onSeriesAdded(b.series)}),T.addEvent(x,"redraw",function(){p.announceDirtyData()})},l.prototype.onSeriesAdded=function(p){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[p.name+p.index]=p,this.dirty.newSeries=R(this.dirty.newSeries)?void 0:p)},l.prototype.announceDirtyData=function(){var p=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){var x=this.dirty.newPoint;x&&(x=function G(l){var p=l.series.data.filter(function(x){return l.x===x.x&&l.y===x.y});return 1===p.length?p[0]:l}(x)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(function(T){return p.dirty.allSeries[T]}),this.dirty.newSeries,x),this.dirty={allSeries:{}}}},l.prototype.queueAnnouncement=function(p,x,T){var b=this,I=this.chart.options.accessibility.announceNewData;if(I.enabled){var u=+new Date;I=Math.max(0,I.minAnnounceInterval-(u-this.lastAnnouncementTime)),p=function X(l,p){var x=(l||[]).concat(p||[]).reduce(function(T,b){return T[b.name+b.index]=b,T},{});return Object.keys(x).map(function(T){return x[T]})}(this.queuedAnnouncement&&this.queuedAnnouncement.series,p),(x=this.buildAnnouncementMessage(p,x,T))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:u,message:x,series:p},this.queuedAnnouncementTimer=setTimeout(function(){b&&b.announcer&&(b.lastAnnouncementTime=+new Date,b.announcer.announce(b.queuedAnnouncement.message),delete b.queuedAnnouncement,delete b.queuedAnnouncementTimer)},I))}},l.prototype.buildAnnouncementMessage=function(p,x,T){var b=this.chart,I=b.options.accessibility.announceNewData;return I.announcementFormatter&&!1!==(p=I.announcementFormatter(p,x,T))?p.length?p:null:(p=i.charts&&1<i.charts.length?"Multiple":"Single",p=x?"newSeriesAnnounce"+p:T?"newPointAnnounce"+p:"newDataAnnounce",I=E(b),b.langFormat("accessibility.announceNewData."+p,{chartTitle:I,seriesDesc:x?h(x):null,pointDesc:T?a(T):null,point:T,series:x}))},l}())||(s={})),s}),e(v,"Accessibility/ProxyElement.js",[v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(i,s,c,S,M){var U=i.doc,G=s.attr,X=s.css,F=s.merge,R=S.fireEventOnWrappedOrUnwrappedElement,E=M.cloneMouseEvent,a=M.cloneTouchEvent,h=M.getFakeMouseEvent,l=M.removeElement;return function(){function p(x,T,b,I){this.chart=x,this.target=T,this.groupType=b,b="ul"===b,this.eventProvider=new c;var u=b?U.createElement("li"):null,n=this.buttonElement=U.createElement("button");x.styledMode||this.hideButtonVisually(n),u?(b&&!x.styledMode&&(u.style.listStyle="none"),u.appendChild(n),this.element=u):this.element=n,this.updateTarget(T,I)}return p.prototype.click=function(){var x=this.getTargetPosition();x.x+=x.width/2,x.y+=x.height/2,x=h("click",x),R(this.target.click,x)},p.prototype.updateTarget=function(x,T){this.target=x,this.updateCSSClassName();var b=T||{};Object.keys(b).forEach(function(I){null===b[I]&&delete b[I]}),G(this.buttonElement,F({"aria-label":this.getTargetAttr(x.click,"aria-label")},b)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,x.click),this.refreshPosition()},p.prototype.refreshPosition=function(){var x=this.getTargetPosition();X(this.buttonElement,{width:(x.width||1)+"px",height:(x.height||1)+"px",left:(Math.round(x.x)||0)+"px",top:(Math.round(x.y)||0)+"px"})},p.prototype.remove=function(){this.eventProvider.removeAddedEvents(),l(this.element)},p.prototype.updateCSSClassName=function(){var x=this.chart.legend;x=-1<((x=x.group&&x.group.div)&&x.className||"").indexOf("highcharts-no-tooltip");var T=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=x||T?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"},p.prototype.addProxyEventsToButton=function(x,T){var b=this;"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(function(I){var u=0===I.indexOf("touch");b.eventProvider.addEvent(x,I,function(n){var k=u?a(n):E(n);T&&R(T,k),n.stopPropagation(),u||n.preventDefault()},{passive:!1})})},p.prototype.hideButtonVisually=function(x){X(x,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})},p.prototype.getTargetPosition=function(){var x=this.target.click;if(x=x.element?x.element:x,x=this.target.visual||x,this.chart.renderTo&&x&&x.getBoundingClientRect){x=x.getBoundingClientRect();var T=this.chart.pointer.getChartPosition();return{x:(x.left-T.left)/T.scaleX,y:(x.top-T.top)/T.scaleY,width:x.right/T.scaleX-x.left/T.scaleX,height:x.bottom/T.scaleY-x.top/T.scaleY}}return{x:0,y:0,width:1,height:1}},p.prototype.getTargetAttr=function(x,T){return x.element?x.element.getAttribute(T):x.getAttribute(T)},p}()}),e(v,"Accessibility/ProxyProvider.js",[v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/DOMElementProvider.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/ProxyElement.js"]],function(i,s,c,S,M,U){var G=i.doc,X=s.attr,F=s.css,R=c.unhideChartElementFromAT,E=M.removeElement,a=M.removeChildNodes;return function(){function h(l){this.chart=l,this.domElementProvider=new S,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}return h.prototype.addProxyElement=function(l,p,x){var T=this.groups[l];if(!T)throw Error("ProxyProvider.addProxyElement: Invalid group key "+l);return l=new U(this.chart,p,T.type,x),T.proxyContainerElement.appendChild(l.element),T.proxyElements.push(l),l},h.prototype.addGroup=function(l,p,x){var T=this.groups[l];if(T)return T.groupElement;if(T=this.domElementProvider.createElement(p),x&&x.role&&"div"!==p){var b=this.domElementProvider.createElement("div");b.appendChild(T)}else b=T;return b.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+l.replace(/\W/g,"-"),this.groups[l]={proxyContainerElement:T,groupElement:b,type:p,proxyElements:[]},X(b,x||{}),"ul"===p&&T.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(b),this.updateGroupOrder(this.groupOrder),b},h.prototype.updateGroupAttrs=function(l,p){var x=this.groups[l];if(!x)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+l);X(x.groupElement,p)},h.prototype.updateGroupOrder=function(l){var p=this;if(this.groupOrder=l.slice(),!this.isDOMOrderGroupOrder()){var x=l.indexOf("series"),T=-1<x?l.slice(0,x):l,b=-1<x?l.slice(x+1):[];l=G.activeElement,["before","after"].forEach(function(I){var u=p["before"===I?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];I="before"===I?T:b,a(u),I.forEach(function(n){(n=p.groups[n])&&u.appendChild(n.groupElement)})}),(this.beforeChartProxyPosContainer.contains(l)||this.afterChartProxyPosContainer.contains(l))&&l&&l.focus&&l.focus()}},h.prototype.clearGroup=function(l){var p=this.groups[l];if(!p)throw Error("ProxyProvider.clearGroup: Invalid group key "+l);a(p.proxyContainerElement)},h.prototype.removeGroup=function(l){var p=this.groups[l];p&&(E(p.groupElement),delete this.groups[l])},h.prototype.update=function(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()},h.prototype.updateProxyElementPositions=function(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))},h.prototype.updateGroupProxyElementPositions=function(l){(l=this.groups[l])&&l.proxyElements.forEach(function(p){return p.refreshPosition()})},h.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},h.prototype.createProxyPosContainer=function(l){var p=this.domElementProvider.createElement("div");return p.setAttribute("aria-hidden","false"),p.className="highcharts-a11y-proxy-container"+(l?"-"+l:""),F(p,{top:"0",left:"0"}),this.chart.styledMode||(p.style.whiteSpace="nowrap",p.style.position="absolute"),p},h.prototype.getCurrentGroupOrderInDOM=function(){var l=this,p=function(T){var b=[];T=T.children;for(var I=0;I<T.length;++I){t:{for(var u=T[I],n=Object.keys(l.groups),k=n.length;k--;){var C=n[k],O=l.groups[C];if(O&&u===O.groupElement){u=C;break t}}u=void 0}u&&b.push(u)}return b},x=p(this.beforeChartProxyPosContainer);return p=p(this.afterChartProxyPosContainer),x.push("series"),x.concat(p)},h.prototype.isDOMOrderGroupOrder=function(){var l=this,p=this.getCurrentGroupOrderInDOM(),x=this.groupOrder.filter(function(b){return"series"===b||!!l.groups[b]}),T=p.length;if(T!==x.length)return!1;for(;T--;)if(p[T]!==x[T])return!1;return!0},h.prototype.updatePosContainerPositions=function(){var l=this.chart;if(!l.renderer.forExport){var p=l.renderer.box;l.container.insertBefore(this.afterChartProxyPosContainer,p.nextSibling),l.container.insertBefore(this.beforeChartProxyPosContainer,p),R(this.chart,this.afterChartProxyPosContainer),R(this.chart,this.beforeChartProxyPosContainer)}},h}()}),e(v,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}}),e(v,"Stock/RangeSelector/RangeSelectorComposition.js",[v["Core/Defaults.js"],v["Stock/RangeSelector/RangeSelectorDefaults.js"],v["Core/Utilities.js"]],function(i,s,c){function S(){var O=this.range,m=O.type,A=this.max,P=this.chart.time,D=function(V,q){var nt="year"===m?"FullYear":"Month",yt=new P.Date(V),ut=P.get(nt,yt);return P.set(nt,yt,ut+q),ut===P.get(nt,yt)&&P.set("Date",yt,0),yt.getTime()-V};if(b(O))var f=A-O,o=O;else O&&(f=A+D(A,-(O.count||1)),this.chart&&(this.chart.fixedRange=A-f));var B=u(this.dataMin,Number.MIN_VALUE);return b(f)||(f=B),f<=B&&(f=B,typeof o>"u"&&(o=D(f,O.count)),this.newMax=Math.min(f+o,u(this.dataMax,Number.MAX_VALUE))),b(A)?!b(O)&&O&&O._offsetMin&&(f+=O._offsetMin):f=void 0,f}function M(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new C(this))}function U(){var O=this.axes,m=this.rangeSelector;m&&(b(m.deferredYTDClick)&&(m.clickButton(m.deferredYTDClick),delete m.deferredYTDClick),O.forEach(function(A){A.updateNames(),A.setScale()}),this.getAxisMargins(),m.render(),O=m.options.verticalAlign,m.options.floating||("bottom"===O?this.extraBottomMargin=!0:"middle"!==O&&(this.extraTopMargin=!0)))}function G(O){var m,A,P,D,f=O.rangeSelector,o=function(){f&&(m=O.xAxis[0].getExtremes(),A=O.legend,D=f&&f.options.verticalAlign,b(m.min)&&f.render(m.min,m.max),A.display&&"top"===D&&D===A.options.verticalAlign&&((P=I(O.spacingBox)).y="vertical"===A.options.layout?O.plotTop:P.y+f.getHeight(),A.group.placed=!1,A.align(P)))};f&&(T(n,function(B){return B[0]===O})||n.push([O,[l(O.xAxis[0],"afterSetExtremes",function(B){f&&f.render(B.min,B.max)}),l(O,"redraw",o)]]),o())}function X(){for(var O=0,m=n.length;O<m;++O){var A=n[O];if(A[0]===this){A[1].forEach(function(P){return P()}),n.splice(O,1);break}}}function F(){var O=this.rangeSelector;O&&(O=O.getHeight(),this.extraTopMargin&&(this.plotTop+=O),this.extraBottomMargin&&(this.marginBottom+=O))}function R(){var O=this.rangeSelector;O&&!O.options.floating&&(O.render(),"bottom"===(O=O.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==O&&(this.extraTopMargin=!0))}function E(O){var m=O.options.rangeSelector;O=this.extraBottomMargin;var A=this.extraTopMargin,P=this.rangeSelector;m&&m.enabled&&!p(P)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=P=new C(this)),this.extraTopMargin=this.extraBottomMargin=!1,P&&(G(this),m=m&&m.verticalAlign||P.options&&P.options.verticalAlign,P.options.floating||("bottom"===m?this.extraBottomMargin=!0:"middle"!==m&&(this.extraTopMargin=!0)),this.extraBottomMargin!==O||this.extraTopMargin!==A)&&(this.isDirtyBox=!0)}var C,a=i.defaultOptions,h=i.setOptions,l=c.addEvent,p=c.defined,x=c.extend,T=c.find,b=c.isNumber,I=c.merge,u=c.pick,n=[],k=[];return{compose:function(O,m,A){C=A,-1===k.indexOf(O)&&(k.push(O),O.prototype.minFromRange=S),-1===k.indexOf(m)&&(k.push(m),l(m,"afterGetContainer",M),l(m,"beforeRender",U),l(m,"destroy",X),l(m,"getMargins",F),l(m,"render",R),l(m,"update",E),m.prototype.callbacks.push(G)),-1===k.indexOf(h)&&(x(a,{rangeSelector:s.rangeSelector}),x(a.lang,s.lang))}}}),e(v,"Stock/RangeSelector/RangeSelector.js",[v["Core/Axis/Axis.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Stock/RangeSelector/RangeSelectorComposition.js"],v["Core/Renderer/SVG/SVGElement.js"],v["Core/Utilities.js"]],function(i,s,c,S,M,U){var X=s.defaultOptions,F=U.addEvent,R=U.createElement,E=U.css,a=U.defined,h=U.destroyObjectProperties,l=U.discardElement,p=U.extend,x=U.fireEvent,T=U.isNumber,b=U.merge,I=U.objectEach,u=U.pad,n=U.pick,k=U.pInt,C=U.splat;return s=function(){function O(m){this.buttons=void 0,this.buttonOptions=O.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=m,this.init(m)}return O.compose=function(m,A){S.compose(m,A,O)},O.prototype.clickButton=function(m,A){var P=this.chart,D=this.buttonOptions[m],f=P.xAxis[0],o=P.scroller&&P.scroller.getUnionExtremes()||f||{},B=D.type,V=D.dataGrouping,q=o.dataMin,nt=o.dataMax,yt=f&&Math.round(Math.min(f.max,n(nt,f.max)));o=D._range;var ut,Y=!0;if(null!==q&&null!==nt){if(P.fixedRange=o,this.setSelected(m),V&&(this.forcedDataGrouping=!0,i.prototype.setDataGrouping.call(f||{chart:this.chart},V,!1),this.frozenStates=D.preserveDataGrouping),"month"===B||"year"===B)if(f){var tt=f.minFromRange.call(B={range:D,max:yt,chart:P,dataMin:q,dataMax:nt});T(B.newMax)&&(yt=B.newMax),Y=!1}else o=D;else if(o)tt=Math.max(yt-o,q),yt=Math.min(tt+o,nt),Y=!1;else if("ytd"===B){if(!f)return void(this.deferredYTDClick=m);(typeof nt>"u"||typeof q>"u")&&(q=Number.MAX_VALUE,nt=Number.MIN_VALUE,P.series.forEach(function(ht){(ht=ht.xData)&&(q=Math.min(ht[0],q),nt=Math.max(ht[ht.length-1],nt))}),A=!1),tt=ut=(B=this.getYTDExtremes(nt,q,P.time.useUTC)).min,yt=B.max}else"all"===B&&f&&(P.navigator&&P.navigator.baseSeries[0]&&(P.navigator.baseSeries[0].xAxis.options.range=void 0),tt=q,yt=nt);if(Y&&D._offsetMin&&a(tt)&&(tt+=D._offsetMin),D._offsetMax&&a(yt)&&(yt+=D._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=m+1),f)f.setExtremes(tt,yt,n(A,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:D});else{var wt=C(P.options.xAxis)[0],St=wt.range;wt.range=o;var At=wt.min;wt.min=ut,F(P,"load",function(){wt.range=St,wt.min=At})}x(this,"afterBtnClick")}},O.prototype.setSelected=function(m){this.selected=this.options.selected=m},O.prototype.init=function(m){var A=this,P=m.options.rangeSelector,D=P.buttons||A.defaultButtons.slice(),f=P.selected,o=function(){var B=A.minInput,V=A.maxInput;B&&B.blur&&x(B,"blur"),V&&V.blur&&x(V,"blur")};A.chart=m,A.options=P,A.buttons=[],A.buttonOptions=D,this.eventsToUnbind=[],this.eventsToUnbind.push(F(m.container,"mousedown",o)),this.eventsToUnbind.push(F(m,"resize",o)),D.forEach(A.computeButtonRange),typeof f<"u"&&D[f]&&this.clickButton(f,!1),this.eventsToUnbind.push(F(m,"load",function(){m.xAxis&&m.xAxis[0]&&F(m.xAxis[0],"setExtremes",function(B){this.max-this.min!==m.fixedRange&&"rangeSelectorButton"!==B.trigger&&"updatedData"!==B.trigger&&A.forcedDataGrouping&&!A.frozenStates&&this.setDataGrouping(!1,!1)})}))},O.prototype.updateButtonStates=function(){var m=this,A=this.chart,P=this.dropdown,D=A.xAxis[0],f=Math.round(D.max-D.min),o=!D.hasVisibleSeries,B=A.scroller&&A.scroller.getUnionExtremes()||D,V=B.dataMin,q=B.dataMax,nt=(A=m.getYTDExtremes(q,V,A.time.useUTC)).min,yt=A.max,ut=m.selected,Y=m.options.allButtonsEnabled,tt=m.buttons,wt=T(ut);m.buttonOptions.forEach(function(St,At){var ht=St._range,mt=St.type,dt=St.count||1,Lt=tt[At],Ct=St._offsetMax-St._offsetMin,vt=At===ut,kt=ht>q-V,Rt=ht<D.minRange;St=0;var Xt=!1,Ft=!1;ht=ht===f,("month"===mt||"year"===mt)&&f+36e5>=864e5*{month:28,year:365}[mt]*dt-Ct&&f-36e5<=864e5*{month:31,year:366}[mt]*dt+Ct?ht=!0:"ytd"===mt?(ht=yt-nt+Ct===f,Xt=!vt):"all"===mt&&(ht=D.max-D.min>=q-V,Ft=!vt&&wt&&ht),dt=vt&&ht||ht&&!wt&&!Xt||vt&&m.frozenStates,(mt=!Y&&(kt||Rt||Ft||o))?St=3:dt&&(wt=!0,St=2),Lt.state!==St&&(Lt.setState(St),P&&(P.options[At+1].disabled=mt,2===St&&(P.selectedIndex=At+1)),0===St&&ut===At&&m.setSelected())})},O.prototype.computeButtonRange=function(m){var A=m.type,P=m.count||1,D={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};D[A]?m._range=D[A]*P:("month"===A||"year"===A)&&(m._range=864e5*{month:30,year:365}[A]*P),m._offsetMin=n(m.offsetMin,0),m._offsetMax=n(m.offsetMax,0),m._range+=m._offsetMax-m._offsetMin},O.prototype.getInputValue=function(m){var P=this.chart.time;return(m="min"===m?this.minInput:this.maxInput)?("text"===m.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(m.value,P.useUTC,P):0},O.prototype.setInputValue=function(m,A){var P=this.options,D=this.chart.time,f="min"===m?this.minInput:this.maxInput;if(m="min"===m?this.minDateBox:this.maxDateBox,f){var o=f.getAttribute("data-hc-time");o=a(o)?Number(o):void 0,a(A)&&(a(o)&&f.setAttribute("data-hc-time-previous",o),f.setAttribute("data-hc-time",A),o=A),f.value=D.dateFormat(this.inputTypeFormats[f.type]||P.inputEditDateFormat,o),m&&m.attr({text:D.dateFormat(P.inputDateFormat,o)})}},O.prototype.setInputExtremes=function(m,A,P){if(m="min"===m?this.minInput:this.maxInput){var D=this.inputTypeFormats[m.type],f=this.chart.time;D&&(A=f.dateFormat(D,A),m.min!==A&&(m.min=A),P=f.dateFormat(D,P),m.max!==P&&(m.max=P))}},O.prototype.showInput=function(m){var A="min"===m?this.minDateBox:this.maxDateBox;if((m="min"===m?this.minInput:this.maxInput)&&A&&this.inputGroup){var P="text"===m.type,D=this.inputGroup,f=D.translateX;D=D.translateY;var o=this.options.inputBoxWidth;E(m,{width:P?A.width+(o?-2:20)+"px":"auto",height:P?A.height-2+"px":"auto",border:"2px solid silver"}),E(m,P&&o?{left:f+A.x+"px",top:D+"px"}:{left:Math.min(Math.round(A.x+f-(m.offsetWidth-A.width)/2),this.chart.chartWidth-m.offsetWidth)+"px",top:D-(m.offsetHeight-A.height)/2+"px"})}},O.prototype.hideInput=function(m){(m="min"===m?this.minInput:this.maxInput)&&E(m,{top:"-9999em",border:0,width:"1px",height:"1px"})},O.prototype.defaultInputDateParser=function(m,A,P){var f,D=m.split("/").join("-").split(" ").join("T");return-1===D.indexOf("T")&&(D+="T00:00"),A?D+="Z":((f=c.isSafari)&&(f=!(6<(f=D).length&&(f.lastIndexOf("-")===f.length-6||f.lastIndexOf("+")===f.length-6))),f&&(D+=0>=(f=new Date(D).getTimezoneOffset()/60)?"+".concat(u(-f),":00"):"-".concat(u(f),":00"))),D=Date.parse(D),T(D)||(m=m.split("-"),D=Date.UTC(k(m[0]),k(m[1])-1,k(m[2]))),P&&A&&T(D)&&(D+=P.getTimezoneOffset(D)),D},O.prototype.drawInput=function(m){function A(){var tt=o.maxInput,wt=o.minInput,St=P.xAxis[0],At=P.scroller&&P.scroller.xAxis?P.scroller.xAxis:St,ht=At.dataMin;At=At.dataMax;var mt=o.getInputValue(m);mt!==Number(ut.getAttribute("data-hc-time-previous"))&&T(mt)&&(ut.setAttribute("data-hc-time-previous",mt),nt&&tt&&T(ht)?mt>Number(tt.getAttribute("data-hc-time"))?mt=void 0:mt<ht&&(mt=ht):wt&&T(At)&&(mt<Number(wt.getAttribute("data-hc-time"))?mt=void 0:mt>At&&(mt=At)),typeof mt<"u"&&St.setExtremes(nt?mt:St.min,nt?St.max:mt,void 0,void 0,{trigger:"rangeSelectorInput"}))}var P=this.chart,D=this.div,f=this.inputGroup,o=this,B=P.renderer.style||{},V=P.renderer,q=P.options.rangeSelector,nt="min"===m,yt=X.lang[nt?"rangeSelectorFrom":"rangeSelectorTo"]||"";yt=V.label(yt,0).addClass("highcharts-range-label").attr({padding:yt?2:0,height:yt?q.inputBoxHeight:0}).add(f),V=V.label("",0).addClass("highcharts-range-input").attr({padding:2,width:q.inputBoxWidth,height:q.inputBoxHeight,"text-align":"center"}).on("click",function(){o.showInput(m),o[m+"Input"].focus()}),P.styledMode||V.attr({stroke:q.inputBoxBorderColor,"stroke-width":1}),V.add(f);var ut=R("input",{name:m,className:"highcharts-range-selector"},void 0,D);ut.setAttribute("type",function G(O){if(-1!==O.indexOf("%L"))return"text";var m="aAdewbBmoyY".split("").some(function(P){return-1!==O.indexOf("%"+P)}),A="HkIlMS".split("").some(function(P){return-1!==O.indexOf("%"+P)});return m&&A?"datetime-local":m?"date":A?"time":"text"}(q.inputDateFormat||"%b %e, %Y")),P.styledMode||(yt.css(b(B,q.labelStyle)),V.css(b({color:"#333333"},B,q.inputStyle)),E(ut,p({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:B.fontSize,fontFamily:B.fontFamily,top:"-9999em"},q.inputStyle))),ut.onfocus=function(){o.showInput(m)},ut.onblur=function(){ut===c.doc.activeElement&&A(),o.hideInput(m),o.setInputValue(m),ut.blur()};var Y=!1;return ut.onchange=function(){Y||(A(),o.hideInput(m),ut.blur())},ut.onkeypress=function(tt){13===tt.keyCode&&A()},ut.onkeydown=function(tt){Y=!0,38!==tt.keyCode&&40!==tt.keyCode||A()},ut.onkeyup=function(){Y=!1},{dateBox:V,input:ut,label:yt}},O.prototype.getPosition=function(){var m=this.chart,A=m.options.rangeSelector;return{buttonTop:(m="top"===A.verticalAlign?m.plotTop-m.axisOffset[0]:0)+A.buttonPosition.y,inputTop:m+A.inputPosition.y-10}},O.prototype.getYTDExtremes=function(m,A,P){var D=this.chart.time,f=new D.Date(m),o=D.get("FullYear",f);return P=P?D.Date.UTC(o,0,1):+new D.Date(o,0,1),A=Math.max(A,P),f=f.getTime(),{max:Math.min(m||f,f),min:A}},O.prototype.render=function(m,A){var P=this.chart,D=P.renderer,f=P.container,o=P.options,B=o.rangeSelector,V=n(o.chart.style&&o.chart.style.zIndex,0)+1;if(o=B.inputEnabled,!1!==B.enabled){if(this.rendered||(this.group=D.g("range-selector-group").attr({zIndex:7}).add(),this.div=R("div",void 0,{position:"relative",height:0,zIndex:V}),this.buttonOptions.length&&this.renderButtons(),f.parentNode&&f.parentNode.insertBefore(this.div,f),o&&(this.inputGroup=D.g("input-group").add(this.group),D=this.drawInput("min"),this.minDateBox=D.dateBox,this.minLabel=D.label,this.minInput=D.input,D=this.drawInput("max"),this.maxDateBox=D.dateBox,this.maxLabel=D.label,this.maxInput=D.input)),o&&(this.setInputValue("min",m),this.setInputValue("max",A),m=P.scroller&&P.scroller.getUnionExtremes()||P.xAxis[0]||{},a(m.dataMin)&&a(m.dataMax)&&(P=P.xAxis[0].minRange||0,this.setInputExtremes("min",m.dataMin,Math.min(m.dataMax,this.getInputValue("max"))-P),this.setInputExtremes("max",Math.max(m.dataMin,this.getInputValue("min"))+P,m.dataMax)),this.inputGroup)){var q=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(nt){if(nt){var yt=nt.getBBox().width;yt&&(nt.attr({x:q}),q+=yt+B.inputSpacing)}})}this.alignElements(),this.rendered=!0}},O.prototype.renderButtons=function(){var m=this,A=this.buttons,P=this.options,D=X.lang,f=this.chart.renderer,o=b(P.buttonTheme),B=o&&o.states,V=o.width||28;delete o.width,delete o.states,this.buttonGroup=f.g("range-selector-buttons").add(this.group);var q=this.dropdown=R("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);F(q,"touchstart",function(){q.style.fontSize="16px"}),[[c.isMS?"mouseover":"mouseenter"],[c.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(nt){var yt=nt[0],ut=nt[1];F(q,yt,function(){var Y=A[m.currentButtonIndex()];Y&&x(Y.element,ut||yt)})}),this.zoomText=f.label(D&&D.rangeSelectorZoom||"",0).attr({padding:P.buttonTheme.padding,height:P.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(P.labelStyle),o["stroke-width"]=n(o["stroke-width"],0)),R("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,q),this.buttonOptions.forEach(function(nt,yt){R("option",{textContent:nt.title||nt.text},void 0,q),A[yt]=f.button(nt.text,0,0,function(ut){var tt,Y=nt.events&&nt.events.click;Y&&(tt=Y.call(nt,ut)),!1!==tt&&m.clickButton(yt),m.isActive=!0},o,B&&B.hover,B&&B.select,B&&B.disabled).attr({"text-align":"center",width:V}).add(m.buttonGroup),nt.title&&A[yt].attr("title",nt.title)})},O.prototype.alignElements=function(){var m=this,A=this.buttonGroup,P=this.buttons,D=this.chart,f=this.group,o=this.inputGroup,B=this.options,V=this.zoomText,q=D.options,nt=q.exporting&&!1!==q.exporting.enabled&&q.navigation&&q.navigation.buttonOptions;q=B.buttonPosition;var yt=B.inputPosition,ut=B.verticalAlign,Y=function(At,ht){return nt&&m.titleCollision(D)&&"top"===ut&&"right"===ht.align&&ht.y-At.getBBox().height-12<(nt.y||0)+(nt.height||0)+D.spacing[0]?-40:0},tt=D.plotLeft;if(f&&q&&yt){var wt=q.x-D.spacing[3];if(A){if(this.positionButtons(),!this.initialButtonGroupWidth){var St=0;V&&(St+=V.getBBox().width+5),P.forEach(function(At,ht){St+=At.width,ht!==P.length-1&&(St+=B.buttonSpacing)}),this.initialButtonGroupWidth=St}tt-=D.spacing[3],this.updateButtonStates(),V=Y(A,q),this.alignButtonGroup(V),f.placed=A.placed=D.hasLoaded}A=0,o&&(A=Y(o,yt),"left"===yt.align?wt=tt:"right"===yt.align&&(wt=-Math.max(D.axisOffset[1],-A)),o.align({y:yt.y,width:o.getBBox().width,align:yt.align,x:yt.x+wt-2},!0,D.spacingBox),o.placed=D.hasLoaded),this.handleCollision(A),f.align({verticalAlign:ut},!0,D.spacingBox),o=f.alignAttr.translateY,A=f.getBBox().height+20,Y=0,"bottom"===ut&&(Y=o-(A=A+(Y=(Y=D.legend&&D.legend.options)&&"bottom"===Y.verticalAlign&&Y.enabled&&!Y.floating?D.legend.legendHeight+n(Y.margin,10):0)-20)-(B.floating?0:B.y)-(D.titleOffset?D.titleOffset[2]:0)-10),"top"===ut?(B.floating&&(Y=0),D.titleOffset&&D.titleOffset[0]&&(Y=D.titleOffset[0]),Y+=D.margin[0]-D.spacing[0]||0):"middle"===ut&&(yt.y===q.y?Y=o:(yt.y||q.y)&&(Y=0>yt.y||0>q.y?Y-Math.min(yt.y,q.y):o-A)),f.translate(B.x,B.y+Math.floor(Y)),q=this.minInput,yt=this.maxInput,o=this.dropdown,B.inputEnabled&&q&&yt&&(q.style.marginTop=f.translateY+"px",yt.style.marginTop=f.translateY+"px"),o&&(o.style.marginTop=f.translateY+"px")}},O.prototype.alignButtonGroup=function(m,A){var P=this.chart,D=this.buttonGroup,f=this.options.buttonPosition,o=P.plotLeft-P.spacing[3],B=f.x-P.spacing[3];"right"===f.align?B+=m-o:"center"===f.align&&(B-=o/2),D&&D.align({y:f.y,width:n(A,this.initialButtonGroupWidth),align:f.align,x:B},!0,P.spacingBox)},O.prototype.positionButtons=function(){var m=this.buttons,A=this.chart,P=this.options,D=this.zoomText,f=A.hasLoaded?"animate":"attr",o=P.buttonPosition,B=A=A.plotLeft;for(D&&"hidden"!==D.visibility&&(D[f]({x:n(A+o.x,A)}),B+=o.x+D.getBBox().width+5),D=0,o=this.buttonOptions.length;D<o;++D)"hidden"!==m[D].visibility?(m[D][f]({x:B}),B+=m[D].width+P.buttonSpacing):m[D][f]({x:A})},O.prototype.handleCollision=function(m){var A=this,P=this.chart,D=this.buttonGroup,f=this.inputGroup,o=this.options,B=o.buttonPosition,V=o.dropdown,q=o.inputPosition;o=function(){var ut=0;return A.buttons.forEach(function(Y){(Y=Y.getBBox()).width>ut&&(ut=Y.width)}),ut};var nt=function(ut){if(f&&D){var Y=f.alignAttr.translateX+f.alignOptions.x-m+f.getBBox().x+2,tt=f.alignOptions.width,wt=D.alignAttr.translateX+D.getBBox().x;return wt+ut>Y&&Y+tt>wt&&B.y<q.y+f.getBBox().height}return!1},yt=function(){f&&D&&f.attr({translateX:f.alignAttr.translateX+(P.axisOffset[1]>=-m?0:-m),translateY:f.alignAttr.translateY+D.getBBox().height+10})};if(D){if("always"===V)return this.collapseButtons(m),void(nt(o())&&yt());"never"===V&&this.expandButtons()}f&&D?q.align===B.align||nt(this.initialButtonGroupWidth+20)?"responsive"===V?(this.collapseButtons(m),nt(o())&&yt()):yt():"responsive"===V&&this.expandButtons():D&&"responsive"===V&&(this.initialButtonGroupWidth>P.plotWidth?this.collapseButtons(m):this.expandButtons())},O.prototype.collapseButtons=function(m){var A=this.buttons,P=this.buttonOptions,D=this.chart,f=this.dropdown,o=this.options,B=this.zoomText,V=D.userOptions.rangeSelector&&D.userOptions.rangeSelector.buttonTheme||{},q=function(yt){return{text:yt?yt+" \u25be":"\u25be",width:"auto",paddingLeft:n(o.buttonTheme.paddingLeft,V.padding,8),paddingRight:n(o.buttonTheme.paddingRight,V.padding,8)}};B&&B.hide();var nt=!1;P.forEach(function(yt,ut){2!==(ut=A[ut]).state?ut.hide():(ut.show(),ut.attr(q(yt.text)),nt=!0)}),nt||(f&&(f.selectedIndex=0),A[0].show(),A[0].attr(q(this.zoomText&&this.zoomText.textStr))),P=o.buttonPosition.align,this.positionButtons(),"right"!==P&&"center"!==P||this.alignButtonGroup(m,A[this.currentButtonIndex()].getBBox().width),this.showDropdown()},O.prototype.expandButtons=function(){var m=this.buttons,A=this.buttonOptions,P=this.options,D=this.zoomText;this.hideDropdown(),D&&D.show(),A.forEach(function(f,o){(o=m[o]).show(),o.attr({text:f.text,width:P.buttonTheme.width||28,paddingLeft:n(P.buttonTheme.paddingLeft,"unset"),paddingRight:n(P.buttonTheme.paddingRight,"unset")}),2>o.state&&o.setState(0)}),this.positionButtons()},O.prototype.currentButtonIndex=function(){var m=this.dropdown;return m&&0<m.selectedIndex?m.selectedIndex-1:0},O.prototype.showDropdown=function(){var m=this.buttonGroup,A=this.buttons,P=this.chart,D=this.dropdown;if(m&&D){var f=m.translateX;m=m.translateY,A=A[this.currentButtonIndex()].getBBox(),E(D,{left:P.plotLeft+f+"px",top:m+.5+"px",width:A.width+"px",height:A.height+"px"}),this.hasVisibleDropdown=!0}},O.prototype.hideDropdown=function(){var m=this.dropdown;m&&(E(m,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},O.prototype.getHeight=function(){var m=this.options,A=this.group,P=m.y,D=m.buttonPosition.y,f=m.inputPosition.y;return m.height?m.height:(this.alignElements(),m=A?A.getBBox(!0).height+13+P:0,A=Math.min(f,D),(0>f&&0>D||0<f&&0<D)&&(m+=Math.abs(A)),m)},O.prototype.titleCollision=function(m){return!(m.options.title.text||m.options.subtitle.text)},O.prototype.update=function(m){var A=this.chart;b(!0,A.options.rangeSelector,m),this.destroy(),this.init(A),this.render()},O.prototype.destroy=function(){var m=this,A=m.minInput,P=m.maxInput;m.eventsToUnbind&&(m.eventsToUnbind.forEach(function(D){return D()}),m.eventsToUnbind=void 0),h(m.buttons),A&&(A.onfocus=A.onblur=A.onchange=null),P&&(P.onfocus=P.onblur=P.onchange=null),I(m,function(D,f){D&&"chart"!==f&&(D instanceof M?D.destroy():D instanceof window.HTMLElement&&l(D)),D!==O.prototype[f]&&(m[f]=null)},this)},O}(),p(s.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),s}),e(v,"Accessibility/Components/RangeSelectorComponent.js",[v["Stock/RangeSelector/RangeSelector.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/Announcer.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Core/Utilities.js"]],function(i,s,c,S,M,U){var a,G=this&&this.__extends||(a=function(h,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var T in x)x.hasOwnProperty(T)&&(p[T]=x[T])})(h,l)},function(h,l){function p(){this.constructor=h}a(h,l),h.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)}),X=c.unhideChartElementFromAT,F=c.getAxisRangeDescription,R=U.addEvent,E=U.attr;return s=function(a){function h(){var l=null!==a&&a.apply(this,arguments)||this;return l.announcer=void 0,l}return G(h,a),h.prototype.init=function(){this.announcer=new S(this.chart,"polite")},h.prototype.onChartUpdate=function(){var l=this.chart,p=this,x=l.rangeSelector;x&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),x.buttons&&x.buttons.length&&x.buttons.forEach(function(T){p.setRangeButtonAttrs(T)}),x.maxInput&&x.minInput&&["minInput","maxInput"].forEach(function(T,b){(T=x[T])&&(X(l,T),p.setRangeInputAttrs(T,"accessibility.rangeSelector."+(b?"max":"min")+"InputLabel"))}))},h.prototype.updateSelectorVisibility=function(){var l=this.chart,p=l.rangeSelector,x=p&&p.dropdown,T=p&&p.buttons||[];p&&p.hasVisibleDropdown&&x?(X(l,x),T.forEach(function(b){return b.element.setAttribute("aria-hidden",!0)})):(x&&x.setAttribute("aria-hidden",!0),T.forEach(function(b){return X(l,b.element)}))},h.prototype.setDropdownAttrs=function(){var l=this.chart,p=l.rangeSelector&&l.rangeSelector.dropdown;p&&(l=l.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:l.options.lang.rangeSelectorZoom}),p.setAttribute("aria-label",l),p.setAttribute("tabindex",-1))},h.prototype.setRangeButtonAttrs=function(l){E(l.element,{tabindex:-1,role:"button"})},h.prototype.setRangeInputAttrs=function(l,p){var x=this.chart;E(l,{tabindex:-1,"aria-label":x.langFormat(p,{chart:x})})},h.prototype.onButtonNavKbdArrowKey=function(l,p){var x=l.response,T=this.keyCodes,b=this.chart,I=b.options.accessibility.keyboardNavigation.wrapAround;return b.highlightRangeSelectorButton(b.highlightedRangeSelectorItemIx+(p=p===T.left||p===T.up?-1:1))?x.success:I?(l.init(p),x.success):x[0<p?"next":"prev"]},h.prototype.onButtonNavKbdClick=function(l){l=l.response;var p=this.chart;return 3!==p.oldRangeSelectorItemState&&this.fakeClickEvent(p.rangeSelector.buttons[p.highlightedRangeSelectorItemIx].element),l.success},h.prototype.onAfterBtnClick=function(){var l=this.chart,p=F(l.xAxis[0]);(l=l.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:l,axisRangeDescription:p}))&&this.announcer.announce(l)},h.prototype.onInputKbdMove=function(l){var p=this.chart,x=p.rangeSelector,T=p.highlightedInputRangeIx=(p.highlightedInputRangeIx||0)+l;1<T||0>T?p.accessibility&&(p.accessibility.keyboardNavigation.tabindexContainer.focus(),p.accessibility.keyboardNavigation.move(l)):x&&(l=x[T?"maxDateBox":"minDateBox"],x=x[T?"maxInput":"minInput"],l&&x&&p.setFocusToElement(l,x))},h.prototype.onInputNavInit=function(l){var p=this,x=this,T=this.chart,b=0<l?0:1,I=T.rangeSelector,u=I&&I[b?"maxDateBox":"minDateBox"];if(l=I&&I.minInput,I=I&&I.maxInput,T.highlightedInputRangeIx=b,u&&l&&I){T.setFocusToElement(u,b?I:l),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();var n=R(l,"keydown",T=function(C){(C.which||C.keyCode)===p.keyCodes.tab&&(C.preventDefault(),C.stopPropagation(),x.onInputKbdMove(C.shiftKey?-1:1))}),k=R(I,"keydown",T);this.removeInputKeydownHandler=function(){n(),k()}}},h.prototype.onInputNavTerminate=function(){var l=this.chart.rangeSelector||{};l.maxInput&&l.hideInput("max"),l.minInput&&l.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)},h.prototype.initDropdownNav=function(){var l=this,p=this.chart,x=p.rangeSelector,T=x&&x.dropdown;x&&T&&(p.setFocusToElement(x.buttonGroup,T),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=R(T,"keydown",function(b){var I=p.accessibility;(b.which||b.keyCode)===l.keyCodes.tab&&(b.preventDefault(),b.stopPropagation(),I&&(I.keyboardNavigation.tabindexContainer.focus(),I.keyboardNavigation.move(b.shiftKey?-1:1)))}))},h.prototype.getRangeSelectorButtonNavigation=function(){var l=this.chart,p=this.keyCodes,x=this;return new M(l,{keyCodeMap:[[[p.left,p.right,p.up,p.down],function(T){return x.onButtonNavKbdArrowKey(this,T)}],[[p.enter,p.space],function(){return x.onButtonNavKbdClick(this)}]],validate:function(){return!!(l.rangeSelector&&l.rangeSelector.buttons&&l.rangeSelector.buttons.length)},init:function(T){var b=l.rangeSelector;b&&b.hasVisibleDropdown?x.initDropdownNav():b&&(b=b.buttons.length-1,l.highlightRangeSelectorButton(0<T?0:b))},terminate:function(){x.removeDropdownKeydownHandler&&(x.removeDropdownKeydownHandler(),delete x.removeDropdownKeydownHandler)}})},h.prototype.getRangeSelectorInputNavigation=function(){var l=this.chart,p=this;return new M(l,{keyCodeMap:[],validate:function(){return!!(l.rangeSelector&&l.rangeSelector.inputGroup&&"hidden"!==l.rangeSelector.inputGroup.element.style.visibility&&!1!==l.options.rangeSelector.inputEnabled&&l.rangeSelector.minInput&&l.rangeSelector.maxInput)},init:function(x){p.onInputNavInit(x)},terminate:function(){p.onInputNavTerminate()}})},h.prototype.getKeyboardNavigation=function(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]},h.prototype.destroy=function(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()},h}(s),function(a){function h(x){var T=this.rangeSelector&&this.rangeSelector.buttons||[],b=this.highlightedRangeSelectorItemIx,I=this.rangeSelector&&this.rangeSelector.selected;return typeof b<"u"&&T[b]&&b!==I&&T[b].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=x,!!T[x]&&(this.setFocusToElement(T[x].box,T[x].element),x!==I&&(this.oldRangeSelectorItemState=T[x].state,T[x].setState(1)),!0)}function l(){var x=this.chart.accessibility;if(x&&x.components.rangeSelector)return x.components.rangeSelector.onAfterBtnClick()}var p=[];a.compose=function(x,T){-1===p.indexOf(x)&&(p.push(x),x.prototype.highlightRangeSelectorButton=h),-1===p.indexOf(T)&&(p.push(T),R(i,"afterBtnClick",l))}}(s||(s={})),s}),e(v,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[v["Core/Utilities.js"]],function(i){var S,s=i.addEvent,c=i.merge;return function(M){function U(a){c(!0,a,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function G(a){return a.marker.states&&a.marker.states.normal&&a.marker.states.normal.opacity}function X(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(function(a){a.graphic&&(a.graphic[a.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),a.graphic[!1===a.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function F(a){this.resetA11yMarkerOptions=c(a.options.marker||{},this.userOptions.marker||{})}function R(){var a=this.options,h=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if((h=this.chart.options.accessibility.enabled&&h)&&(h=this.points.length<(h=this.chart.options.accessibility).series.pointDescriptionEnabledThreshold||!1===h.series.pointDescriptionEnabledThreshold),h){if(a.marker&&!1===a.marker.enabled&&(this.a11yMarkersForced=!0,U(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(a=this.points.length;a--;){var l=(h=this.points[a]).options,p=h.hasForcedA11yMarker;delete h.hasForcedA11yMarker,l.marker&&(p=p&&0===G(l),l.marker.enabled&&!p?(c(!0,l.marker,{states:{normal:{opacity:G(l)||1}}}),h.hasForcedA11yMarker=!1):!1===l.marker.enabled&&(U(l),h.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(a=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:a.enabled,states:{normal:{opacity:a.states&&a.states.normal&&a.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}var E=[];M.compose=function(a){-1===E.indexOf(a)&&(E.push(a),s(a,"afterSetOptions",F),s(a,"render",R),s(a,"afterRender",X))}}(S||(S={})),S}),e(v,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[v["Core/Series/Point.js"],v["Core/Series/Series.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Utils/ChartUtilities.js"]],function(i,s,c,S,M,U,G,X){function F(k){var C=k.index,O=k.series.points,m=O.length;if(O[C]===k)return C;for(;m--;)if(O[m]===k)return m}function R(k){var C=k.chart.options.accessibility.keyboardNavigation.seriesNavigation,O=k.options.accessibility||{},m=O.keyboardNavigation;return m&&!1===m.enabled||!1===O.enabled||!1===k.options.enableMouseTracking||!k.visible||C.pointNavigationEnabledThreshold&&C.pointNavigationEnabledThreshold<=k.points.length}function E(k){return k.isNull&&k.series.chart.options.accessibility.keyboardNavigation.seriesNavigation.skipNullPoints||!1===k.visible||!1===k.isInside||k.options.accessibility&&!1===k.options.accessibility.enabled||R(k.series)}function a(k){for(var C=(k=k.series||[]).length,O=0;O<C;++O)if(!R(k[O])){t:{for(var m=k[O].points||[],A=m.length,P=0;P<A;++P)if(!E(m[P])){m=m[P];break t}m=null}if(m)return m}return null}function h(k){for(var C=k.series.length,O=!1;C--&&(k.highlightedPoint=k.series[C].points[k.series[C].points.length-1],!(O=k.series[C].highlightNextValidPoint())););return O}function l(k){return delete k.highlightedPoint,!!(k=a(k))&&k.highlight()}var p=c.seriesTypes,x=S.doc,T=M.defined,b=M.fireEvent,I=X.getPointFromXY,u=X.getSeriesFromName,n=X.scrollToPoint;return function(k){function C(o){var B=this.series,V=this.highlightedPoint,q=V&&F(V)||0,yt=this.series&&this.series[this.series.length-1];if(yt=yt&&yt.points&&yt.points[yt.points.length-1],!B[0]||!B[0].points)return!1;if(V){if(B=B[V.series.index+(o?1:-1)],!(q=(V&&V.series.points||[])[q+(o?1:-1)])&&B&&(q=B.points[o?0:B.points.length-1]),!q)return!1}else q=o?B[0].points[0]:yt;return E(q)?(this.highlightedPoint=R(B=q.series)?o?B.points[B.points.length-1]:B.points[0]:q,this.highlightAdjacentPoint(o)):q.highlight()}function O(o){var q,B=this.highlightedPoint,V=1/0;return!(!T(B.plotX)||!T(B.plotY))&&(this.series.forEach(function(nt){R(nt)||nt.points.forEach(function(yt){if(T(yt.plotY)&&T(yt.plotX)&&yt!==B){var ut=yt.plotY-B.plotY,Y=Math.abs(yt.plotX-B.plotX);Y=Math.abs(ut)*Math.abs(ut)+Y*Y*4,nt.yAxis&&nt.yAxis.reversed&&(ut*=-1),!(0>=ut&&o||0<=ut&&!o||5>Y||E(yt))&&Y<V&&(V=Y,q=yt)}})}),!!q&&q.highlight())}function m(o){var B=this.highlightedPoint,V=this.series&&this.series[this.series.length-1],q=V&&V.points&&V.points[V.points.length-1];return this.highlightedPoint?!(!(V=this.series[B.series.index+(o?-1:1)])||(q=function A(o,B,V,q){var nt=1/0,yt=B.points.length,ut=function(wt){return!(T(wt.plotX)&&T(wt.plotY))};if(!ut(o)){for(;yt--;){var Y=B.points[yt];if(!ut(Y)&&(Y=(o.plotX-Y.plotX)*(o.plotX-Y.plotX)*(V||1)+(o.plotY-Y.plotY)*(o.plotY-Y.plotY)*(q||1))<nt){nt=Y;var tt=yt}}return T(tt)?B.points[tt]:void 0}}(B,V,4),!q))&&(R(V)?(q.highlight(),(o=this.highlightAdjacentSeries(o))||(B.highlight(),!1)):(q.highlight(),q.series.highlightNextValidPoint())):(V=o?this.series&&this.series[0]:V,!!(q=o?V&&V.points&&V.points[0]:q)&&q.highlight())}function P(o){void 0===o&&(o=!0);var B=this.series.chart;return!this.isNull&&o?this.onMouseOver():B.tooltip&&B.tooltip.hide(0),n(this),this.graphic&&(B.setFocusToElement(this.graphic),!o&&B.focusElement&&B.focusElement.removeFocusBorder()),B.highlightedPoint=this,this}function D(){var o=this.chart.highlightedPoint,B=(o&&o.series)===this?F(o):0,V=(o=this.points).length;if(o&&V){for(var q=B;q<V;++q)if(!E(o[q]))return o[q].highlight();for(;0<=B;--B)if(!E(o[B]))return o[B].highlight()}return!1}var f=[];k.compose=function(o,B,V){-1===f.indexOf(o)&&(f.push(o),(o=o.prototype).highlightAdjacentPoint=C,o.highlightAdjacentPointVertical=O,o.highlightAdjacentSeries=m),-1===f.indexOf(B)&&(f.push(B),B.prototype.highlight=P),-1===f.indexOf(V)&&(f.push(V),(B=V.prototype).keyboardMoveVertical=!0,["column","gantt","pie"].forEach(function(q){p[q]&&(p[q].prototype.keyboardMoveVertical=!1)}),B.highlightNextValidPoint=D)}}((c=function(){function k(C,O){this.keyCodes=O,this.chart=C}return k.prototype.init=function(){var C=this,O=this.chart,m=this.eventProvider=new G;m.addEvent(s,"destroy",function(){return C.onSeriesDestroy(this)}),m.addEvent(O,"afterApplyDrilldown",function(){var A=a(this);A&&A.highlight(!1)}),m.addEvent(O,"drilldown",function(A){var P=(A=A.point).series;C.lastDrilledDownPoint={x:A.x,y:A.y,seriesName:P?P.name:""}}),m.addEvent(O,"drillupall",function(){setTimeout(function(){C.onDrillupAll()},10)}),m.addEvent(i,"afterSetState",function(){var A=this.graphic&&this.graphic.element,P=x.activeElement,D=P&&P.getAttribute("class");D=D&&-1<D.indexOf("highcharts-a11y-proxy-button"),O.highlightedPoint===this&&P!==A&&!D&&A&&A.focus&&A.focus()})},k.prototype.onDrillupAll=function(){var A,C=this.lastDrilledDownPoint,O=this.chart,m=C&&u(O,C.seriesName);C&&m&&T(C.x)&&T(C.y)&&(A=I(m,C.x,C.y)),A=A||a(O),O.container&&O.container.focus(),A&&A.highlight&&A.highlight(!1)},k.prototype.getKeyboardNavigationHandler=function(){var C=this,O=this.keyCodes,m=this.chart,A=m.inverted;return new U(m,{keyCodeMap:[[A?[O.up,O.down]:[O.left,O.right],function(P){return C.onKbdSideways(this,P)}],[A?[O.left,O.right]:[O.up,O.down],function(P){return C.onKbdVertical(this,P)}],[[O.enter,O.space],function(P,D){return(P=m.highlightedPoint)&&(D.point=P,b(P.series,"click",D),P.firePointEvent("click")),this.response.success}],[[O.home],function(){return l(m),this.response.success}],[[O.end],function(){return h(m),this.response.success}],[[O.pageDown,O.pageUp],function(P){return m.highlightAdjacentSeries(P===O.pageDown),this.response.success}]],init:function(){return C.onHandlerInit(this)},validate:function(){return!!a(m)},terminate:function(){return C.onHandlerTerminate()}})},k.prototype.onKbdSideways=function(C,O){var m=this.keyCodes;return this.attemptHighlightAdjacentPoint(C,O===m.right||O===m.down)},k.prototype.onHandlerInit=function(C){var O=this.chart;return O.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&O.highlightedPoint?O.highlightedPoint.highlight():l(O),C.response.success},k.prototype.onKbdVertical=function(C,O){var m=this.chart,A=this.keyCodes;return O=O===A.down||O===A.right,(A=m.options.accessibility.keyboardNavigation.seriesNavigation).mode&&"serialize"===A.mode?this.attemptHighlightAdjacentPoint(C,O):(m[m.highlightedPoint&&m.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](O),C.response.success)},k.prototype.onHandlerTerminate=function(){var C=this.chart,O=C.options.accessibility.keyboardNavigation;C.tooltip&&C.tooltip.hide(0);var m=C.highlightedPoint&&C.highlightedPoint.series;m&&m.onMouseOut&&m.onMouseOut(),C.highlightedPoint&&C.highlightedPoint.onMouseOut&&C.highlightedPoint.onMouseOut(),O.seriesNavigation.rememberPointFocus||delete C.highlightedPoint},k.prototype.attemptHighlightAdjacentPoint=function(C,O){var m=this.chart,A=m.options.accessibility.keyboardNavigation.wrapAround;return m.highlightAdjacentPoint(O)||A&&(O?l(m):h(m))?C.response.success:C.response[O?"next":"prev"]},k.prototype.onSeriesDestroy=function(C){var O=this.chart;O.highlightedPoint&&O.highlightedPoint.series===C&&(delete O.highlightedPoint,O.focusElement&&O.focusElement.removeFocusBorder())},k.prototype.destroy=function(){this.eventProvider.removeAddedEvents()},k}())||(c={})),c}),e(v,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],v["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],v["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],v["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"],v["Core/Tooltip.js"]],function(i,s,c,S,M,U,G){var E,X=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),F=s.hideSeriesFromAT,R=M.describeSeries;return function(E){function a(){return null!==E&&E.apply(this,arguments)||this}return X(a,E),a.compose=function(h,l,p){S.compose(p),c.compose(p),U.compose(h,l,p)},a.prototype.init=function(){this.newDataAnnouncer=new S(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new U(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()},a.prototype.hideTooltipFromATWhenShown=function(){var h=this;this.addEvent(G,"refresh",function(){this.chart===h.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})},a.prototype.hideSeriesLabelsFromATWhenShown=function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(h){h.labelBySeries&&h.labelBySeries.attr("aria-hidden",!0)})})},a.prototype.onChartRender=function(){this.chart.series.forEach(function(h){!1!==(h.options.accessibility&&h.options.accessibility.enabled)&&h.visible?R(h):F(h)})},a.prototype.getKeyboardNavigation=function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},a.prototype.destroy=function(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()},a}(i)}),e(v,"Accessibility/Components/ZoomComponent.js",[v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Core/Utilities.js"]],function(i,s,c,S,M){var E,U=this&&this.__extends||(E=function(a,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var x in p)p.hasOwnProperty(x)&&(l[x]=p[x])})(a,h)},function(a,h){function l(){this.constructor=a}E(a,h),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)}),G=s.unhideChartElementFromAT,X=c.getFakeMouseEvent,F=M.attr,R=M.pick;return function(E){function a(){var h=null!==E&&E.apply(this,arguments)||this;return h.focusedMapNavButtonIx=-1,h}return U(a,E),a.prototype.init=function(){var h=this,l=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(function(p){h.addEvent(l,p,function(){h.updateProxyOverlays()})})},a.prototype.onChartUpdate=function(){var h=this.chart,l=this;h.mapNavigation&&h.mapNavigation.navButtons.forEach(function(p,x){G(h,p.element),l.setMapNavButtonAttrs(p.element,"accessibility.zoom.mapZoom"+(x?"Out":"In"))})},a.prototype.setMapNavButtonAttrs=function(h,l){var p=this.chart;l=p.langFormat(l,{chart:p}),F(h,{tabindex:-1,role:"button","aria-label":l})},a.prototype.onChartRender=function(){this.updateProxyOverlays()},a.prototype.updateProxyOverlays=function(){var h=this.chart;this.proxyProvider.clearGroup("zoom"),h.resetZoomButton&&this.createZoomProxyButton(h.resetZoomButton,"resetZoomProxyButton",h.langFormat("accessibility.zoom.resetZoomButton",{chart:h})),h.drillUpButton&&h.breadcrumbs&&h.breadcrumbs.list&&this.createZoomProxyButton(h.drillUpButton,"drillUpProxyButton",h.langFormat("accessibility.drillUpButton",{chart:h,buttonText:h.breadcrumbs.getButtonText(h.breadcrumbs.list[h.breadcrumbs.list.length-1])}))},a.prototype.createZoomProxyButton=function(h,l,p){this[l]=this.proxyProvider.addProxyElement("zoom",{click:h},{"aria-label":p,tabindex:-1})},a.prototype.getMapZoomNavigation=function(){var h=this.keyCodes,l=this.chart,p=this;return new S(l,{keyCodeMap:[[[h.up,h.down,h.left,h.right],function(x){return p.onMapKbdArrow(this,x)}],[[h.tab],function(x,T){return p.onMapKbdTab(this,T)}],[[h.space,h.enter],function(){return p.onMapKbdClick(this)}]],validate:function(){return!!(l.mapView&&l.mapNavigation&&l.mapNavigation.navButtons.length)},init:function(x){return p.onMapNavInit(x)}})},a.prototype.onMapKbdArrow=function(h,l){var p=this.chart,x=this.keyCodes,T=p.container,b=l===x.up||l===x.down;return l=(b?p.plotHeight:p.plotWidth)/10*(l===x.left||l===x.up?1:-1),x=10*Math.random(),p={x:T.offsetLeft+p.plotLeft+p.plotWidth/2+x,y:T.offsetTop+p.plotTop+p.plotHeight/2+x},b=b?{x:p.x,y:p.y+l}:{x:p.x+l,y:p.y},[X("mousedown",p),X("mousemove",b),X("mouseup",b)].forEach(function(I){return T.dispatchEvent(I)}),h.response.success},a.prototype.onMapKbdTab=function(h,l){var p=this.chart;h=h.response;var x=(l=l.shiftKey)&&!this.focusedMapNavButtonIx||!l&&this.focusedMapNavButtonIx;return p.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),x?(p.mapView&&p.mapView.zoomBy(),h[l?"prev":"next"]):(this.focusedMapNavButtonIx+=l?-1:1,p.setFocusToElement((l=p.mapNavigation.navButtons[this.focusedMapNavButtonIx]).box,l.element),l.setState(2),h.success)},a.prototype.onMapKbdClick=function(h){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),h.response.success},a.prototype.onMapNavInit=function(h){var l=this.chart,p=l.mapNavigation.navButtons[0];l.setFocusToElement((p=0<h?p:l.mapNavigation.navButtons[1]).box,p.element),p.setState(2),this.focusedMapNavButtonIx=0<h?0:1},a.prototype.simpleButtonNavigation=function(h,l,p){var x=this.keyCodes,T=this,b=this.chart;return new S(b,{keyCodeMap:[[[x.tab,x.up,x.down,x.left,x.right],function(I,u){return this.response[I===x.tab&&u.shiftKey||I===x.left||I===x.up?"prev":"next"]}],[[x.space,x.enter],function(){var I=p(this,b);return R(I,this.response.success)}]],validate:function(){return b[h]&&b[h].box&&T[l].buttonElement},init:function(){b.setFocusToElement(b[h].box,T[l].buttonElement)}})},a.prototype.getKeyboardNavigation=function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(h,l){l.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(h,l){return l.drillUp(),h.response.prev}),this.getMapZoomNavigation()]},a}(i)}),e(v,"Accessibility/HighContrastMode.js",[v["Core/Globals.js"]],function(i){var s=i.doc,c=i.isMS,S=i.win;return{isHighContrastModeActive:function(){var M=/(Edg)/.test(S.navigator.userAgent);if(S.matchMedia&&M)return S.matchMedia("(-ms-high-contrast: active)").matches;if(c&&S.getComputedStyle){(M=s.createElement("div")).style.backgroundImage="url(".concat("data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",")"),s.body.appendChild(M);var U=(M.currentStyle||S.getComputedStyle(M)).backgroundImage;return s.body.removeChild(M),"none"===U}return S.matchMedia&&S.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(M){M.highContrastModeActive=!0;var U=M.options.accessibility.highContrastTheme;M.update(U,!1),M.series.forEach(function(G){var X=U.plotOptions[G.type]||{};G.update({color:X.color||"windowText",colors:[X.color||"windowText"],borderColor:X.borderColor||"window"}),G.points.forEach(function(F){F.options&&F.options.color&&F.update({color:X.color||"windowText",borderColor:X.borderColor||"window"},!1)})}),M.redraw()}}}),e(v,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),e(v,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#335cad",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),e(v,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),e(v,"Accessibility/Options/DeprecatedOptions.js",[v["Core/Utilities.js"]],function(i){function s(F,R,E){for(var a,h=0;h<R.length-1;++h)F=F[a=R[h]]=X(F[a],{});F[R[R.length-1]]=E}function c(F,R,E,a){function h(x,T){return T.reduce(function(b,I){return b[I]},x)}var l=h(F.options,R),p=h(F.options,E);Object.keys(a).forEach(function(x){var T,b=l[x];typeof b<"u"&&(s(p,a[x],b),G(32,!1,F,((T={})[R.join(".")+"."+x]=E.join(".")+"."+a[x].join("."),T)))})}var G=i.error,X=i.pick;return function(F){(function S(F){var R=F.options.chart,E=F.options.accessibility||{};["description","typeDescription"].forEach(function(a){var h;R[a]&&(E[a]=R[a],G(32,!1,F,((h={})["chart.".concat(a)]="use accessibility.".concat(a),h)))})})(F),function M(F){F.axes.forEach(function(R){(R=R.options)&&R.description&&(R.accessibility=R.accessibility||{},R.accessibility.description=R.description,G(32,!1,F,{"axis.description":"use axis.accessibility.description"}))})}(F),F.series&&function U(F){var R={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};F.series.forEach(function(E){Object.keys(R).forEach(function(a){var h,l=E.options[a];"accessibility.pointDescriptionFormatter"===a&&(l=E.options.accessibility&&E.options.accessibility.pointDescriptionFormatter),typeof l<"u"&&(s(E.options,R[a],"skipKeyboardNavigation"===a?!l:l),G(32,!1,F,((h={})["series.".concat(a)]="series."+R[a].join("."),h)))})})}(F),c(F,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),c(F,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),c(F,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),e(v,"Accessibility/Accessibility.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/A11yI18n.js"],v["Accessibility/Components/ContainerComponent.js"],v["Accessibility/FocusBorder.js"],v["Accessibility/Components/InfoRegionsComponent.js"],v["Accessibility/KeyboardNavigation.js"],v["Accessibility/Components/LegendComponent.js"],v["Accessibility/Components/MenuComponent.js"],v["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],v["Accessibility/ProxyProvider.js"],v["Accessibility/Components/RangeSelectorComponent.js"],v["Accessibility/Components/SeriesComponent/SeriesComponent.js"],v["Accessibility/Components/ZoomComponent.js"],v["Accessibility/HighContrastMode.js"],v["Accessibility/HighContrastTheme.js"],v["Accessibility/Options/A11yDefaults.js"],v["Accessibility/Options/LangDefaults.js"],v["Accessibility/Options/DeprecatedOptions.js"]],function(i,s,c,S,M,U,G,X,F,R,E,a,h,l,p,x,T,b,I,u,n){i=i.defaultOptions;var k=s.doc,C=c.addEvent,O=c.extend,m=c.fireEvent,A=c.merge,P=S.removeElement;return function(D){function f(){this.accessibility&&this.accessibility.destroy()}function o(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var yt=this.accessibility;yt&&!yt.zombie&&(yt.proxyProvider.updateProxyElementPositions(),yt.getComponentOrder().forEach(function(ut){yt.components[ut].onChartRender()}))}function B(yt){(yt=yt.options.accessibility)&&(yt.customComponents&&(this.options.accessibility.customComponents=yt.customComponents,delete yt.customComponents),A(!0,this.options.accessibility,yt),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function V(){var yt=this.accessibility,ut=this.options.accessibility;ut&&ut.enabled?yt&&!yt.zombie?yt.update():(this.accessibility=yt=new D(this),!yt.zombie&&yt.update()):yt?(yt.destroy&&yt.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function q(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}var nt=[];D.i18nFormat=M.i18nFormat,D.compose=function(yt,ut,Y,tt,wt,St){F.compose(yt),a.compose(tt),R.compose(yt,ut),E.compose(yt),p.compose(yt,Y,tt),M.compose(yt),G.compose(yt,wt),St&&l.compose(yt,St),-1===nt.indexOf(yt)&&(nt.push(yt),yt.prototype.updateA11yEnabled=V,C(yt,"destroy",f),C(yt,"render",o),C(yt,"update",B),["addSeries","init"].forEach(function(At){C(yt,At,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(function(At){C(yt,At,function(){var ht=this.accessibility;ht&&!ht.zombie&&ht.update()})})),-1===nt.indexOf(Y)&&(nt.push(Y),C(Y,"update",q)),-1===nt.indexOf(tt)&&(nt.push(tt),["update","updatedData","remove"].forEach(function(At){C(tt,At,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}}((s=function(){function D(f){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(f)}return D.prototype.init=function(f){this.chart=f,k.addEventListener&&f.renderer.isSVG?(n(f),this.proxyProvider=new h(this.chart),this.initComponents(),this.keyboardNavigation=new F(f,this.components)):(this.zombie=!0,this.components={},f.renderTo.setAttribute("aria-hidden",!0))},D.prototype.initComponents=function(){var f=this.chart,o=this.proxyProvider,B=f.options.accessibility;this.components={container:new U,infoRegions:new X,legend:new R,chartMenu:new E,rangeSelector:new l,series:new p,zoom:new x},B.customComponents&&O(this.components,B.customComponents);var V=this.components;this.getComponentOrder().forEach(function(q){V[q].initBase(f,o),V[q].init()})},D.prototype.getComponentOrder=function(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var f=Object.keys(this.components).filter(function(o){return"series"!==o});return["series"].concat(f)},D.prototype.update=function(){var f=this.components,o=this.chart,B=o.options.accessibility;m(o,"beforeA11yUpdate"),o.types=this.getChartTypes(),this.proxyProvider.updateGroupOrder(B=B.keyboardNavigation.order),this.getComponentOrder().forEach(function(V){f[V].onChartUpdate(),m(o,"afterA11yComponentUpdate",{name:V,component:f[V]})}),this.keyboardNavigation.update(B),!o.highContrastModeActive&&T.isHighContrastModeActive()&&T.setHighContrastTheme(o),m(o,"afterA11yUpdate",{accessibility:this})},D.prototype.destroy=function(){var f=this.chart||{},o=this.components;Object.keys(o).forEach(function(B){o[B].destroy(),o[B].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),f.announcerContainer&&P(f.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),f.renderTo&&f.renderTo.setAttribute("aria-hidden",!0),f.focusElement&&f.focusElement.removeFocusBorder()},D.prototype.getChartTypes=function(){var f={};return this.chart.series.forEach(function(o){f[o.type]=1}),Object.keys(f)},D}())||(s={})),A(!0,i,I,{accessibility:{highContrastTheme:b},lang:u}),s}),e(v,"masters/modules/accessibility.src.js",[v["Core/Globals.js"],v["Accessibility/Accessibility.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(i,s,c,S,M,U,G){i.i18nFormat=s.i18nFormat,i.A11yChartUtilities=S,i.A11yHTMLUtilities=M,i.AccessibilityComponent=c,i.KeyboardNavigationHandler=U,i.SeriesAccessibilityDescriber=G,s.compose(i.Chart,i.Legend,i.Point,i.Series,i.SVGElement,i.RangeSelector)})}),function(v){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return v(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e=e||window,i=i||(typeof window<"u"?require("jquery"):require("jquery")(e)),v(i,e,e.document)}:window.DataTable=v(jQuery,window,document)}(function(v,e,i,s){"use strict";function c(J){var pt=parseInt(J,10);return!isNaN(pt)&&isFinite(J)?pt:null}function S(J,pt,It){var z="string"==typeof J;return!!u(J)||(pt&&z&&(J=n(J,pt)),It&&z&&(J=J.replace(I,"")),!isNaN(parseFloat(J))&&isFinite(J))}function M(J,pt,It){var z;return!!u(J)||(u(z=J)||"string"==typeof z)&&!!S(J.replace(x,""),pt,It)||null}function U(J,pt,It,z){var Z=[],ot=0,rt=pt.length;if(z!==s)for(;ot<rt;ot++)J[pt[ot]][It]&&Z.push(J[pt[ot]][It][z]);else for(;ot<rt;ot++)Z.push(J[pt[ot]][It]);return Z}function G(J,pt){var It,z=[];pt===s?(pt=0,It=J):(It=pt,pt=J);for(var Z=pt;Z<It;Z++)z.push(Z);return z}function X(J){for(var pt=[],It=0,z=J.length;It<z;It++)J[It]&&pt.push(J[It]);return pt}function F(J,pt){return-1!==this.indexOf(J,pt=pt===s?0:pt)}var R,E,a,h=function(J,pt){if(this instanceof h)return v(J).DataTable(pt);pt=J,this.$=function(rt,_t){return this.api(!0).$(rt,_t)},this._=function(rt,_t){return this.api(!0).rows(rt,_t).data()},this.api=function(rt){return new Vn(rt?Bi(this[R.iApiIndex]):this)},this.fnAddData=function(Bt,_t){var Et=this.api(!0);return Bt=(Array.isArray(Bt)&&(Array.isArray(Bt[0])||v.isPlainObject(Bt[0]))?Et.rows:Et.row).add(Bt),_t!==s&&!_t||Et.draw(),Bt.flatten().toArray()},this.fnAdjustColumnSizing=function(rt){var _t=this.api(!0).columns.adjust(),Et=_t.settings()[0],Bt=Et.oScroll;rt===s||rt?_t.draw(!1):""===Bt.sX&&""===Bt.sY||Gi(Et)},this.fnClearTable=function(rt){var _t=this.api(!0).clear();rt!==s&&!rt||_t.draw()},this.fnClose=function(rt){this.api(!0).row(rt).child.hide()},this.fnDeleteRow=function(Wt,_t,Et){var Bt=this.api(!0),Qt=(Wt=Bt.rows(Wt)).settings()[0],xe=Qt.aoData[Wt[0][0]];return Wt.remove(),_t&&_t.call(this,Qt,xe),Et!==s&&!Et||Bt.draw(),xe},this.fnDestroy=function(rt){this.api(!0).destroy(rt)},this.fnDraw=function(rt){this.api(!0).draw(rt)},this.fnFilter=function(rt,_t,Et,Bt,Wt,Qt){var xe=this.api(!0);(null===_t||_t===s?xe:xe.column(_t)).search(rt,Et,Bt,Qt),xe.draw()},this.fnGetData=function(rt,_t){var Et,Bt=this.api(!0);return rt!==s?(Et=rt.nodeName?rt.nodeName.toLowerCase():"",_t!==s||"td"==Et||"th"==Et?Bt.cell(rt,_t).data():Bt.row(rt).data()||null):Bt.data().toArray()},this.fnGetNodes=function(rt){var _t=this.api(!0);return rt!==s?_t.row(rt).node():_t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(rt){var _t=this.api(!0),Et=rt.nodeName.toUpperCase();return"TR"==Et?_t.row(rt).index():"TD"==Et||"TH"==Et?[(Et=_t.cell(rt).index()).row,Et.columnVisible,Et.column]:null},this.fnIsOpen=function(rt){return this.api(!0).row(rt).child.isShown()},this.fnOpen=function(rt,_t,Et){return this.api(!0).row(rt).child(_t,Et).show().child()[0]},this.fnPageChange=function(rt,_t){rt=this.api(!0).page(rt),_t!==s&&!_t||rt.draw(!1)},this.fnSetColumnVis=function(rt,_t,Et){rt=this.api(!0).column(rt).visible(_t),Et!==s&&!Et||rt.columns.adjust().draw()},this.fnSettings=function(){return Bi(this[R.iApiIndex])},this.fnSort=function(rt){this.api(!0).order(rt).draw()},this.fnSortListener=function(rt,_t,Et){this.api(!0).order.listener(rt,_t,Et)},this.fnUpdate=function(rt,_t,Et,Bt,Wt){var Qt=this.api(!0);return(Et===s||null===Et?Qt.row(_t):Qt.cell(_t,Et)).data(rt),Wt!==s&&!Wt||Qt.columns.adjust(),Bt!==s&&!Bt||Qt.draw(),0},this.fnVersionCheck=R.fnVersionCheck;var It,z=this,Z=pt===s,ot=this.length;for(It in Z&&(pt={}),this.oApi=this.internal=R.internal,h.ext.internal)It&&(this[It]=ko(It));return this.each(function(){var rt=1<ot?pn({},pt,!0):pt,_t=0,Et=this.getAttribute("id"),Bt=!1,Wt=h.defaults,Qt=v(this);if("table"!=this.nodeName.toLowerCase())Di(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{o(Wt),B(Wt.column),P(Wt,Wt,!0),P(Wt.column,Wt.column,!0),P(Wt,v.extend(rt,Qt.data()),!0);for(var xe=h.settings,Me=(_t=0,xe.length);_t<Me;_t++){var Xe=xe[_t];if(Xe.nTable==this||Xe.nTHead&&Xe.nTHead.parentNode==this||Xe.nTFoot&&Xe.nTFoot.parentNode==this){if(Z||(rt.bRetrieve!==s?rt:Wt).bRetrieve)return Xe.oInstance;if((rt.bDestroy!==s?rt:Wt).bDestroy){Xe.oInstance.fnDestroy();break}return void Di(Xe,0,"Cannot reinitialise DataTable",3)}if(Xe.sTableId==this.id){xe.splice(_t,1);break}}null!==Et&&""!==Et||(Et="DataTables_Table_"+h.ext._unique++,this.id=Et);var Ii,on,Tt=v.extend(!0,{},h.models.oSettings,{sDestroyWidth:Qt[0].style.width,sInstance:Et,sTableId:Et}),Yt=(Tt.nTable=this,Tt.oApi=z.internal,Tt.oInit=rt,xe.push(Tt),Tt.oInstance=1===z.length?z:Qt.dataTable(),o(rt),D(rt.oLanguage),rt.aLengthMenu&&!rt.iDisplayLength&&(rt.iDisplayLength=(Array.isArray(rt.aLengthMenu[0])?rt.aLengthMenu[0]:rt.aLengthMenu)[0]),rt=pn(v.extend(!0,{},Wt),rt),si(Tt.oFeatures,rt,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),si(Tt,rt,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),si(Tt.oScroll,rt,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),si(Tt.oLanguage,rt,"fnInfoCallback"),xn(Tt,"aoDrawCallback",rt.fnDrawCallback,"user"),xn(Tt,"aoServerParams",rt.fnServerParams,"user"),xn(Tt,"aoStateSaveParams",rt.fnStateSaveParams,"user"),xn(Tt,"aoStateLoadParams",rt.fnStateLoadParams,"user"),xn(Tt,"aoStateLoaded",rt.fnStateLoaded,"user"),xn(Tt,"aoRowCallback",rt.fnRowCallback,"user"),xn(Tt,"aoRowCreatedCallback",rt.fnCreatedRow,"user"),xn(Tt,"aoHeaderCallback",rt.fnHeaderCallback,"user"),xn(Tt,"aoFooterCallback",rt.fnFooterCallback,"user"),xn(Tt,"aoInitComplete",rt.fnInitComplete,"user"),xn(Tt,"aoPreDrawCallback",rt.fnPreDrawCallback,"user"),Tt.rowIdFn=Xt(rt.rowId),V(Tt),Tt.oClasses),pe=(v.extend(Yt,h.ext.classes,rt.oClasses),Qt.addClass(Yt.sTable),Tt.iInitDisplayStart===s&&(Tt.iInitDisplayStart=rt.iDisplayStart,Tt._iDisplayStart=rt.iDisplayStart),null!==rt.iDeferLoading&&(Tt.bDeferLoading=!0,Et=Array.isArray(rt.iDeferLoading),Tt._iRecordsDisplay=Et?rt.iDeferLoading[0]:rt.iDeferLoading,Tt._iRecordsTotal=Et?rt.iDeferLoading[1]:rt.iDeferLoading),Tt.oLanguage),Pe=(v.extend(!0,pe,rt.oLanguage),pe.sUrl?(v.ajax({dataType:"json",url:pe.sUrl,success:function(Re){P(Wt.oLanguage,Re),D(Re),v.extend(!0,pe,Re,Tt.oInit.oLanguage),tn(Tt,null,"i18n",[Tt]),Gn(Tt)},error:function(){Gn(Tt)}}),Bt=!0):tn(Tt,null,"i18n",[Tt]),null===rt.asStripeClasses&&(Tt.asStripeClasses=[Yt.sStripeOdd,Yt.sStripeEven]),Et=Tt.asStripeClasses,Qt.children("tbody").find("tr").eq(0)),Oe=(-1!==v.inArray(!0,v.map(Et,function(Re,fi){return Pe.hasClass(Re)}))&&(v("tbody tr",this).removeClass(Et.join(" ")),Tt.asDestroyStripes=Et.slice()),[]);if(0!==(Et=this.getElementsByTagName("thead")).length&&($e(Tt.aoHeader,Et[0]),Oe=Li(Tt)),null===rt.aoColumns)for(Ii=[],_t=0,Me=Oe.length;_t<Me;_t++)Ii.push(null);else Ii=rt.aoColumns;for(_t=0,Me=Ii.length;_t<Me;_t++)nt(Tt,Oe?Oe[_t]:null);ht(Tt,rt.aoColumnDefs,Ii,function(Re,fi){yt(Tt,Re,fi)}),Pe.length&&(on=function(Re,fi){return null!==Re.getAttribute("data-"+fi)?fi:null},v(Pe[0]).children("th, td").each(function(Re,fi){var vi,Vi=Tt.aoColumns[Re];Vi||Di(Tt,0,"Incorrect column count",18),Vi.mData===Re&&(vi=on(fi,"sort")||on(fi,"order"),fi=on(fi,"filter")||on(fi,"search"),null===vi&&null===fi||(Vi.mData={_:Re+".display",sort:null!==vi?Re+".@data-"+vi:s,type:null!==vi?Re+".@data-"+vi:s,filter:null!==fi?Re+".@data-"+fi:s},yt(Tt,Re)))}));var ze=Tt.oFeatures;Et=function(){if(rt.aaSorting===s){var Re=Tt.aaSorting;for(_t=0,Me=Re.length;_t<Me;_t++)Re[_t][1]=Tt.aoColumns[_t].asSorting[0]}ye(Tt),ze.bSort&&xn(Tt,"aoDrawCallback",function(){var cn,_n;Tt.bSorted&&(cn=ie(Tt),_n={},v.each(cn,function(kn,Ln){_n[Ln.src]=Ln.dir}),tn(Tt,null,"order",[Tt,cn,_n]),He(Tt))}),xn(Tt,"aoDrawCallback",function(){(Tt.bSorted||"ssp"===wn(Tt)||ze.bDeferRender)&&ye(Tt)},"sc");var Vi,fi=Qt.children("caption").each(function(){this._captionSide=v(this).css("caption-side")}),vi=(0===(Vi=Qt.children("thead")).length&&(Vi=v("<thead/>").appendTo(Qt)),Tt.nTHead=Vi[0],Qt.children("tbody"));if(0===(Vi=0===(0===vi.length&&(vi=v("<tbody/>").insertAfter(Vi)),Tt.nTBody=vi[0],Vi=Qt.children("tfoot")).length&&0<fi.length&&(""!==Tt.oScroll.sX||""!==Tt.oScroll.sY)?v("<tfoot/>").appendTo(Qt):Vi).length||0===Vi.children().length?Qt.addClass(Yt.sNoFooter):0<Vi.length&&(Tt.nTFoot=Vi[0],$e(Tt.aoFooter,Tt.nTFoot)),rt.aaData)for(_t=0;_t<rt.aaData.length;_t++)mt(Tt,rt.aaData[_t]);else!Tt.bDeferLoading&&"dom"!=wn(Tt)||dt(Tt,v(Tt.nTBody).children("tr"));Tt.aiDisplay=Tt.aiDisplayMaster.slice(),!(Tt.bInitialised=!0)===Bt&&Gn(Tt)},xn(Tt,"aoDrawCallback",je,"state_save"),rt.bStateSave?(ze.bStateSave=!0,wi(Tt,0,Et)):Et()}}),z=null,this},l={},p=/[\r\n\u2028]/g,x=/<.*?>/g,T=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,b=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),I=/['\u00A0,$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,u=function(J){return!J||!0===J||"-"===J},n=function(J,pt){return l[pt]||(l[pt]=new RegExp(he(pt),"g")),"string"==typeof J&&"."!==pt?J.replace(/\./g,"").replace(l[pt],"."):J},k=function(J,pt,It){var z=[],Z=0,ot=J.length;if(It!==s)for(;Z<ot;Z++)J[Z]&&J[Z][pt]&&z.push(J[Z][pt][It]);else for(;Z<ot;Z++)J[Z]&&z.push(J[Z][pt]);return z},O=function(J){if(function(J){if(!(J.length<2))for(var pt=J.slice().sort(),It=pt[0],z=1,Z=pt.length;z<Z;z++){if(pt[z]===It)return!1;It=pt[z]}return!0}(J))return J.slice();var pt,It,z,Z=[],ot=J.length,rt=0;t:for(It=0;It<ot;It++){for(pt=J[It],z=0;z<rt;z++)if(Z[z]===pt)continue t;Z.push(pt),rt++}return Z},m=function(J,pt){if(Array.isArray(pt))for(var It=0;It<pt.length;It++)m(J,pt[It]);else J.push(pt);return J};function A(J){var pt,It,z={};v.each(J,function(Z,ot){(pt=Z.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(pt[1]+" ")&&(It=Z.replace(pt[0],pt[2].toLowerCase()),z[It]=Z,"o"===pt[1])&&A(J[Z])}),J._hungarianMap=z}function P(J,pt,It){var z;J._hungarianMap||A(J),v.each(pt,function(Z,ot){(z=J._hungarianMap[Z])===s||!It&&pt[z]!==s||("o"===z.charAt(0)?(pt[z]||(pt[z]={}),v.extend(!0,pt[z],pt[Z]),P(J[z],pt[z],It)):pt[z]=pt[Z])})}function D(J){var pt,It=h.defaults.oLanguage,z=It.sDecimal;z&&Mo(z),J&&(pt=J.sZeroRecords,!J.sEmptyTable&&pt&&"No data available in table"===It.sEmptyTable&&si(J,J,"sZeroRecords","sEmptyTable"),!J.sLoadingRecords&&pt&&"Loading..."===It.sLoadingRecords&&si(J,J,"sZeroRecords","sLoadingRecords"),J.sInfoThousands&&(J.sThousands=J.sInfoThousands),pt=J.sDecimal)&&z!==pt&&Mo(pt)}Array.isArray||(Array.isArray=function(J){return"[object Array]"===Object.prototype.toString.call(J)}),Array.prototype.includes||(Array.prototype.includes=F),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=F),h.util={throttle:function(J,pt){var It,z,Z=pt!==s?pt:200;return function(){var ot=this,rt=+new Date,_t=arguments;It&&rt<It+Z?(clearTimeout(z),z=setTimeout(function(){It=s,J.apply(ot,_t)},Z)):(It=rt,J.apply(ot,_t))}},escapeRegex:function(J){return J.replace(b,"\\$1")},set:function(J){var pt;return v.isPlainObject(J)?h.util.set(J._):null===J?function(){}:"function"==typeof J?function(It,z,Z){J(It,"set",z,Z)}:"string"!=typeof J||-1===J.indexOf(".")&&-1===J.indexOf("[")&&-1===J.indexOf("(")?function(It,z){It[J]=z}:(pt=function(It,z,Z){for(var ot,rt,_t,Et,Bt=Rt(Z),Wt=(Z=Bt[Bt.length-1],0),Qt=Bt.length-1;Wt<Qt;Wt++){if("__proto__"===Bt[Wt]||"constructor"===Bt[Wt])throw new Error("Cannot set prototype values");if(ot=Bt[Wt].match(vt),rt=Bt[Wt].match(kt),ot){if(Bt[Wt]=Bt[Wt].replace(vt,""),It[Bt[Wt]]=[],(ot=Bt.slice()).splice(0,Wt+1),Et=ot.join("."),Array.isArray(z))for(var xe=0,Me=z.length;xe<Me;xe++)pt(_t={},z[xe],Et),It[Bt[Wt]].push(_t);else It[Bt[Wt]]=z;return}rt&&(Bt[Wt]=Bt[Wt].replace(kt,""),It=It[Bt[Wt]](z)),null!==It[Bt[Wt]]&&It[Bt[Wt]]!==s||(It[Bt[Wt]]={}),It=It[Bt[Wt]]}Z.match(kt)?It[Z.replace(kt,"")](z):It[Z.replace(vt,"")]=z},function(It,z){return pt(It,z,J)})},get:function(J){var pt,It;return v.isPlainObject(J)?(pt={},v.each(J,function(z,Z){Z&&(pt[z]=h.util.get(Z))}),function(z,Z,ot,rt){var _t=pt[Z]||pt._;return _t!==s?_t(z,Z,ot,rt):z}):null===J?function(z){return z}:"function"==typeof J?function(z,Z,ot,rt){return J(z,Z,ot,rt)}:"string"!=typeof J||-1===J.indexOf(".")&&-1===J.indexOf("[")&&-1===J.indexOf("(")?function(z,Z){return z[J]}:(It=function(z,Z,ot){var rt,_t,Et;if(""!==ot)for(var Bt=Rt(ot),Wt=0,Qt=Bt.length;Wt<Qt;Wt++){if(Xe=Bt[Wt].match(vt),rt=Bt[Wt].match(kt),Xe){if(Bt[Wt]=Bt[Wt].replace(vt,""),""!==Bt[Wt]&&(z=z[Bt[Wt]]),_t=[],Bt.splice(0,Wt+1),Et=Bt.join("."),Array.isArray(z))for(var xe=0,Me=z.length;xe<Me;xe++)_t.push(It(z[xe],Z,Et));var Xe=Xe[0].substring(1,Xe[0].length-1);z=""===Xe?_t:_t.join(Xe);break}if(rt)Bt[Wt]=Bt[Wt].replace(kt,""),z=z[Bt[Wt]]();else{if(null===z||z[Bt[Wt]]===s)return s;z=z[Bt[Wt]]}}return z},function(z,Z){return It(z,Z,J)})}};var f=function(J,pt,It){J[pt]!==s&&(J[It]=J[pt])};function o(J){f(J,"ordering","bSort"),f(J,"orderMulti","bSortMulti"),f(J,"orderClasses","bSortClasses"),f(J,"orderCellsTop","bSortCellsTop"),f(J,"order","aaSorting"),f(J,"orderFixed","aaSortingFixed"),f(J,"paging","bPaginate"),f(J,"pagingType","sPaginationType"),f(J,"pageLength","iDisplayLength"),f(J,"searching","bFilter"),"boolean"==typeof J.sScrollX&&(J.sScrollX=J.sScrollX?"100%":""),"boolean"==typeof J.scrollX&&(J.scrollX=J.scrollX?"100%":"");var pt=J.aoSearchCols;if(pt)for(var It=0,z=pt.length;It<z;It++)pt[It]&&P(h.models.oSearch,pt[It])}function B(J){f(J,"orderable","bSortable"),f(J,"orderData","aDataSort"),f(J,"orderSequence","asSorting"),f(J,"orderDataType","sortDataType");var pt=J.aDataSort;"number"!=typeof pt||Array.isArray(pt)||(J.aDataSort=[pt])}function V(J){var pt,It,z,Z;h.__browser||(h.__browser=pt={},Z=(z=(It=v("<div/>").css({position:"fixed",top:0,left:-1*v(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(v("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(v("<div/>").css({width:"100%",height:10}))).appendTo("body")).children()).children(),pt.barWidth=z[0].offsetWidth-z[0].clientWidth,pt.bScrollOversize=100===Z[0].offsetWidth&&100!==z[0].clientWidth,pt.bScrollbarLeft=1!==Math.round(Z.offset().left),pt.bBounding=!!It[0].getBoundingClientRect().width,It.remove()),v.extend(J.oBrowser,h.__browser),J.oScroll.iBarWidth=h.__browser.barWidth}function q(J,pt,It,z,Z,ot){var rt,_t=z,Et=!1;for(It!==s&&(rt=It,Et=!0);_t!==Z;)J.hasOwnProperty(_t)&&(rt=Et?pt(rt,J[_t],_t,J):J[_t],Et=!0,_t+=ot);return rt}function nt(J,pt){var It=J.aoColumns.length,z=v.extend({},h.models.oColumn,z=h.defaults.column,{nTh:pt||i.createElement("th"),sTitle:z.sTitle||(pt?pt.innerHTML:""),aDataSort:z.aDataSort||[It],mData:z.mData||It,idx:It});(J.aoColumns.push(z),z=J.aoPreSearchCols)[It]=v.extend({},h.models.oSearch,z[It]),yt(J,It,v(pt).data())}function yt(J,Z,Qt){function z(xe){return"string"==typeof xe&&-1!==xe.indexOf("@")}var ot=J.oClasses,rt=v((Z=J.aoColumns[Z]).nTh),_t=(!Z.sWidthOrig&&(Z.sWidthOrig=rt.attr("width")||null,Wt=(rt.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/))&&(Z.sWidthOrig=Wt[1]),Qt!==s&&null!==Qt&&(B(Qt),P(h.defaults.column,Qt,!0),Qt.mDataProp===s||Qt.mData||(Qt.mData=Qt.mDataProp),Qt.sType&&(Z._sManualType=Qt.sType),Qt.className&&!Qt.sClass&&(Qt.sClass=Qt.className),Qt.sClass&&rt.addClass(Qt.sClass),Wt=Z.sClass,v.extend(Z,Qt),si(Z,Qt,"sWidth","sWidthOrig"),Wt!==Z.sClass&&(Z.sClass=Wt+" "+Z.sClass),Qt.iDataSort!==s&&(Z.aDataSort=[Qt.iDataSort]),si(Z,Qt,"aDataSort")),Z.mData),Et=Xt(_t),Bt=Z.mRender?Xt(Z.mRender):null,Wt=(Z._bAttrSrc=v.isPlainObject(_t)&&(z(_t.sort)||z(_t.type)||z(_t.filter)),Z._setter=null,Z.fnGetData=function(xe,Me,Xe){var Be=Et(xe,Me,s,Xe);return Bt&&Me?Bt(Be,Me,xe,Xe):Be},Z.fnSetData=function(xe,Me,Xe){return Ft(_t)(xe,Me,Xe)},"number"!=typeof _t&&(J._rowReadObject=!0),J.oFeatures.bSort||(Z.bSortable=!1,rt.addClass(ot.sSortableNone)),-1!==v.inArray("asc",Z.asSorting));Qt=-1!==v.inArray("desc",Z.asSorting),Z.bSortable&&(Wt||Qt)?Wt&&!Qt?(Z.sSortingClass=ot.sSortableAsc,Z.sSortingClassJUI=ot.sSortJUIAscAllowed):!Wt&&Qt?(Z.sSortingClass=ot.sSortableDesc,Z.sSortingClassJUI=ot.sSortJUIDescAllowed):(Z.sSortingClass=ot.sSortable,Z.sSortingClassJUI=ot.sSortJUI):(Z.sSortingClass=ot.sSortableNone,Z.sSortingClassJUI="")}function ut(J){if(!1!==J.oFeatures.bAutoWidth){var pt=J.aoColumns;it(J);for(var It=0,z=pt.length;It<z;It++)pt[It].nTh.style.width=pt[It].sWidth}var Z=J.oScroll;""===Z.sY&&""===Z.sX||Gi(J),tn(J,null,"column-sizing",[J])}function Y(J,pt){return"number"==typeof(J=St(J,"bVisible"))[pt]?J[pt]:null}function tt(J,pt){return J=St(J,"bVisible"),-1!==(pt=v.inArray(pt,J))?pt:null}function wt(J){var pt=0;return v.each(J.aoColumns,function(It,z){z.bVisible&&"none"!==v(z.nTh).css("display")&&pt++}),pt}function St(J,pt){var It=[];return v.map(J.aoColumns,function(z,Z){z[pt]&&It.push(Z)}),It}function At(J){for(var pt,It,z,Z,ot,rt,_t,Et=J.aoColumns,Bt=J.aoData,Wt=h.ext.type.detect,Qt=0,xe=Et.length;Qt<xe;Qt++)if(_t=[],!(ot=Et[Qt]).sType&&ot._sManualType)ot.sType=ot._sManualType;else if(!ot.sType){for(pt=0,It=Wt.length;pt<It;pt++){for(z=0,Z=Bt.length;z<Z&&(_t[z]===s&&(_t[z]=Lt(J,z,Qt,"type")),(rt=Wt[pt](_t[z],J))||pt===Wt.length-1)&&("html"!==rt||u(_t[z]));z++);if(rt){ot.sType=rt;break}}ot.sType||(ot.sType="string")}}function ht(J,pt,It,z){var Z,ot,rt,_t,Et=J.aoColumns;if(pt)for(Z=pt.length-1;0<=Z;Z--)for(var Bt,Wt=(Bt=pt[Z]).target!==s?Bt.target:Bt.targets!==s?Bt.targets:Bt.aTargets,Qt=0,xe=(Wt=Array.isArray(Wt)?Wt:[Wt]).length;Qt<xe;Qt++)if("number"==typeof Wt[Qt]&&0<=Wt[Qt]){for(;Et.length<=Wt[Qt];)nt(J);z(Wt[Qt],Bt)}else if("number"==typeof Wt[Qt]&&Wt[Qt]<0)z(Et.length+Wt[Qt],Bt);else if("string"==typeof Wt[Qt])for(rt=0,_t=Et.length;rt<_t;rt++)"_all"!=Wt[Qt]&&!v(Et[rt].nTh).hasClass(Wt[Qt])||z(rt,Bt);if(It)for(Z=0,ot=It.length;Z<ot;Z++)z(Z,It[Z])}function mt(J,pt,It,z){for(var Z=J.aoData.length,ot=v.extend(!0,{},h.models.oRow,{src:It?"dom":"data",idx:Z}),rt=(ot._aData=pt,J.aoData.push(ot),J.aoColumns),_t=0,Et=rt.length;_t<Et;_t++)rt[_t].sType=null;return J.aiDisplayMaster.push(Z),(pt=J.rowIdFn(pt))!==s&&(J.aIds[pt]=ot),!It&&J.oFeatures.bDeferRender||Ut(J,Z,It,z),Z}function dt(J,pt){var It;return(pt=pt instanceof v?pt:v(pt)).map(function(z,Z){return It=re(J,Z),mt(J,It.data,Z,It.cells)})}function Lt(J,pt,It,z){"search"===z?z="filter":"order"===z&&(z="sort");var Z=J.iDraw,ot=J.aoColumns[It],rt=J.aoData[pt]._aData,_t=ot.sDefaultContent,Et=ot.fnGetData(rt,z,{settings:J,row:pt,col:It});if(Et===s)return J.iDrawError!=Z&&null===_t&&(Di(J,0,"Requested unknown parameter "+("function"==typeof ot.mData?"{function}":"'"+ot.mData+"'")+" for row "+pt+", column "+It,4),J.iDrawError=Z),_t;if(Et!==rt&&null!==Et||null===_t||z===s){if("function"==typeof Et)return Et.call(rt)}else Et=_t;return null===Et&&"display"===z?"":"filter"===z&&(pt=h.ext.type.search)[ot.sType]?pt[ot.sType](Et):Et}function Ct(J,pt,It,z){J.aoColumns[It].fnSetData(J.aoData[pt]._aData,z,{settings:J,row:pt,col:It})}var vt=/\[.*?\]$/,kt=/\(\)$/;function Rt(J){return v.map(J.match(/(\\.|[^\.])+/g)||[""],function(pt){return pt.replace(/\\\./g,".")})}var Xt=h.util.get,Ft=h.util.set;function qt(J){return k(J.aoData,"_aData")}function ae(J){J.aoData.length=0,J.aiDisplayMaster.length=0,J.aiDisplay.length=0,J.aIds={}}function te(J,pt,It){for(var z=-1,Z=0,ot=J.length;Z<ot;Z++)J[Z]==pt?z=Z:J[Z]>pt&&J[Z]--;-1!=z&&It===s&&J.splice(z,1)}function de(J,pt,It,z){function Z(Wt,Qt){for(;Wt.childNodes.length;)Wt.removeChild(Wt.firstChild);Wt.innerHTML=Lt(J,pt,Qt,"display")}var ot,rt,_t=J.aoData[pt];if("dom"!==It&&(It&&"auto"!==It||"dom"!==_t.src)){var Et=_t.anCells;if(Et)if(z!==s)Z(Et[z],z);else for(ot=0,rt=Et.length;ot<rt;ot++)Z(Et[ot],ot)}else _t._aData=re(J,_t,z,z===s?s:_t._aData).data;_t._aSortData=null,_t._aFilterData=null;var Bt=J.aoColumns;if(z!==s)Bt[z].sType=null;else{for(ot=0,rt=Bt.length;ot<rt;ot++)Bt[ot].sType=null;Vt(J,_t)}}function re(J,Ue,It,z){function Z(Ii,on){var Tt;"string"==typeof Ii&&-1!==(Tt=Ii.indexOf("@"))&&(Tt=Ii.substring(Tt+1),Ft(Ii)(z,on.getAttribute(Tt)))}function ot(Ii){It!==s&&It!==Qt||(_t=xe[Qt],Et=Ii.innerHTML.trim(),_t&&_t._bAttrSrc?(Ft(_t.mData._)(z,Et),Z(_t.mData.sort,Ii),Z(_t.mData.type,Ii),Z(_t.mData.filter,Ii)):Me?(_t._setter||(_t._setter=Ft(_t.mData)),_t._setter(z,Et)):z[Qt]=Et),Qt++}var rt,_t,Et,Bt=[],Wt=Ue.firstChild,Qt=0,xe=J.aoColumns,Me=J._rowReadObject;if(z=z!==s?z:Me?{}:[],Wt)for(;Wt;)"TD"!=(rt=Wt.nodeName.toUpperCase())&&"TH"!=rt||(ot(Wt),Bt.push(Wt)),Wt=Wt.nextSibling;else for(var Xe=0,Be=(Bt=Ue.anCells).length;Xe<Be;Xe++)ot(Bt[Xe]);return(Ue=Ue.firstChild?Ue:Ue.nTr)&&(Ue=Ue.getAttribute("id"))&&Ft(J.rowId)(z,Ue),{data:z,cells:Bt}}function Ut(J,pt,It,z){var Z,ot,rt,_t,Et,Bt,Wt=J.aoData[pt],Qt=Wt._aData,xe=[];if(null===Wt.nTr){for(Z=It||i.createElement("tr"),Wt.nTr=Z,Wt.anCells=xe,Z._DT_RowIndex=pt,Vt(J,Wt),_t=0,Et=J.aoColumns.length;_t<Et;_t++)rt=J.aoColumns[_t],(ot=(Bt=!It)?i.createElement(rt.sCellType):z[_t])||Di(J,0,"Incorrect column count",18),ot._DT_CellIndex={row:pt,column:_t},xe.push(ot),!Bt&&(!rt.mRender&&rt.mData===_t||v.isPlainObject(rt.mData)&&rt.mData._===_t+".display")||(ot.innerHTML=Lt(J,pt,_t,"display")),rt.sClass&&(ot.className+=" "+rt.sClass),rt.bVisible&&!It?Z.appendChild(ot):!rt.bVisible&&It&&ot.parentNode.removeChild(ot),rt.fnCreatedCell&&rt.fnCreatedCell.call(J.oInstance,ot,Lt(J,pt,_t),Qt,pt,_t);tn(J,"aoRowCreatedCallback",null,[Z,Qt,pt,xe])}}function Vt(J,pt){var It=pt.nTr,z=pt._aData;It&&((J=J.rowIdFn(z))&&(It.id=J),z.DT_RowClass&&(J=z.DT_RowClass.split(" "),pt.__rowc=pt.__rowc?O(pt.__rowc.concat(J)):J,v(It).removeClass(pt.__rowc.join(" ")).addClass(z.DT_RowClass)),z.DT_RowAttr&&v(It).attr(z.DT_RowAttr),z.DT_RowData)&&v(It).data(z.DT_RowData)}function ue(J){var pt,It,z,Z=J.nTHead,ot=J.nTFoot,rt=0===v("th, td",Z).length,_t=J.oClasses,Et=J.aoColumns;for(rt&&(It=v("<tr/>").appendTo(Z)),Wt=0,Qt=Et.length;Wt<Qt;Wt++)pt=v((z=Et[Wt]).nTh).addClass(z.sClass),rt&&pt.appendTo(It),J.oFeatures.bSort&&(pt.addClass(z.sSortingClass),!1!==z.bSortable)&&(pt.attr("tabindex",J.iTabIndex).attr("aria-controls",J.sTableId),ai(J,z.nTh,Wt)),z.sTitle!=pt[0].innerHTML&&pt.html(z.sTitle),Rn(J,"header")(J,pt,z,_t);if(rt&&$e(J.aoHeader,Z),v(Z).children("tr").children("th, td").addClass(_t.sHeaderTH),v(ot).children("tr").children("th, td").addClass(_t.sFooterTH),null!==ot)for(var Bt=J.aoFooter[0],Wt=0,Qt=Bt.length;Wt<Qt;Wt++)(z=Et[Wt])?(z.nTf=Bt[Wt].cell,z.sClass&&v(z.nTf).addClass(z.sClass)):Di(J,0,"Incorrect column count",18)}function me(J,pt,It){var z,Z,ot,rt,_t,Et,Bt,Wt,Qt,xe=[],Me=[],Xe=J.aoColumns.length;if(pt){for(It===s&&(It=!1),z=0,Z=pt.length;z<Z;z++){for(xe[z]=pt[z].slice(),xe[z].nTr=pt[z].nTr,ot=Xe-1;0<=ot;ot--)J.aoColumns[ot].bVisible||It||xe[z].splice(ot,1);Me.push([])}for(z=0,Z=xe.length;z<Z;z++){if(Bt=xe[z].nTr)for(;Et=Bt.firstChild;)Bt.removeChild(Et);for(ot=0,rt=xe[z].length;ot<rt;ot++)if(Qt=Wt=1,Me[z][ot]===s){for(Bt.appendChild(xe[z][ot].cell),Me[z][ot]=1;xe[z+Wt]!==s&&xe[z][ot].cell==xe[z+Wt][ot].cell;)Me[z+Wt][ot]=1,Wt++;for(;xe[z][ot+Qt]!==s&&xe[z][ot].cell==xe[z][ot+Qt].cell;){for(_t=0;_t<Wt;_t++)Me[z+_t][ot+Qt]=1;Qt++}v(xe[z][ot].cell).attr("rowspan",Wt).attr("colspan",Qt)}}}}function ve(J,pt){It="ssp"==wn(Et=J),(_t=Et.iInitDisplayStart)!==s&&-1!==_t&&(Et._iDisplayStart=!It&&_t>=Et.fnRecordsDisplay()?0:_t,Et.iInitDisplayStart=-1);var It=tn(J,"aoPreDrawCallback","preDraw",[J]);if(-1!==v.inArray(!1,It))Yi(J,!1);else{var z=[],Z=0,ot=J.asStripeClasses,rt=ot.length,_t=J.oLanguage,Et="ssp"==wn(J),Bt=J.aiDisplay,Wt=(It=J._iDisplayStart,J.fnDisplayEnd());if(J.bDrawing=!0,J.bDeferLoading)J.bDeferLoading=!1,J.iDraw++,Yi(J,!1);else if(Et){if(!J.bDestroying&&!pt)return void bi(J)}else J.iDraw++;if(0!==Bt.length)for(var Qt=Et?J.aoData.length:Wt,xe=Et?0:It;xe<Qt;xe++){var Me,Xe=Bt[xe],Be=J.aoData[Xe],Ue=(null===Be.nTr&&Ut(J,Xe),Be.nTr);0!==rt&&Be._sRowStripe!=(Me=ot[Z%rt])&&(v(Ue).removeClass(Be._sRowStripe).addClass(Me),Be._sRowStripe=Me),tn(J,"aoRowCallback",null,[Ue,Be._aData,Z,xe,Xe]),z.push(Ue),Z++}else pt=_t.sZeroRecords,1==J.iDraw&&"ajax"==wn(J)?pt=_t.sLoadingRecords:_t.sEmptyTable&&0===J.fnRecordsTotal()&&(pt=_t.sEmptyTable),z[0]=v("<tr/>",{class:rt?ot[0]:""}).append(v("<td />",{valign:"top",colSpan:wt(J),class:J.oClasses.sRowEmpty}).html(pt))[0];tn(J,"aoHeaderCallback","header",[v(J.nTHead).children("tr")[0],qt(J),It,Wt,Bt]),tn(J,"aoFooterCallback","footer",[v(J.nTFoot).children("tr")[0],qt(J),It,Wt,Bt]),(Et=v(J.nTBody)).children().detach(),Et.append(v(z)),tn(J,"aoDrawCallback","draw",[J]),J.bSorted=!1,J.bFiltered=!1,J.bDrawing=!1}}function le(J,pt){var It=(z=J.oFeatures).bSort,z=z.bFilter;It&&fe(J),z?ke(J,J.oPreviousSearch):J.aiDisplay=J.aiDisplayMaster.slice(),!0!==pt&&(J._iDisplayStart=0),J._drawHold=pt,ve(J),J._drawHold=!1}function We(J){for(var pt,It,z,Z,ot,rt,_t,Et=J.oClasses,Bt=v(J.nTable),Wt=(Bt=v("<div/>").insertBefore(Bt),J.oFeatures),Qt=v("<div/>",{id:J.sTableId+"_wrapper",class:Et.sWrapper+(J.nTFoot?"":" "+Et.sNoFooter)}),xe=(J.nHolding=Bt[0],J.nTableWrapper=Qt[0],J.nTableReinsertBefore=J.nTable.nextSibling,J.sDom.split("")),Me=0;Me<xe.length;Me++){if(pt=null,"<"==(It=xe[Me])){if(z=v("<div/>")[0],"'"==(Z=xe[Me+1])||'"'==Z){for(ot="",rt=2;xe[Me+rt]!=Z;)ot+=xe[Me+rt],rt++;"H"==ot?ot=Et.sJUIHeader:"F"==ot&&(ot=Et.sJUIFooter),-1!=ot.indexOf(".")?(_t=ot.split("."),z.id=_t[0].substr(1,_t[0].length-1),z.className=_t[1]):"#"==ot.charAt(0)?z.id=ot.substr(1,ot.length-1):z.className=ot,Me+=rt}Qt.append(z),Qt=v(z)}else if(">"==It)Qt=Qt.parent();else if("l"==It&&Wt.bPaginate&&Wt.bLengthChange)pt=mi(J);else if("f"==It&&Wt.bFilter)pt=Ai(J);else if("r"==It&&Wt.bProcessing)pt=rn(J);else if("t"==It)pt=Cn(J);else if("i"==It&&Wt.bInfo)pt=nn(J);else if("p"==It&&Wt.bPaginate)pt=yi(J);else if(0!==h.ext.feature.length)for(var Xe=h.ext.feature,Be=0,Ue=Xe.length;Be<Ue;Be++)if(It==Xe[Be].cFeature){pt=Xe[Be].fnInit(J);break}pt&&((_t=J.aanFeatures)[It]||(_t[It]=[]),_t[It].push(pt),Qt.append(pt))}Bt.replaceWith(Qt),J.nHolding=null}function $e(J,pt){var It,z,Z,ot,rt,_t,Et,Bt,Wt,Qt,xe=v(pt).children("tr");for(J.splice(0,J.length),Z=0,_t=xe.length;Z<_t;Z++)J.push([]);for(Z=0,_t=xe.length;Z<_t;Z++)for(z=(It=xe[Z]).firstChild;z;){if("TD"==z.nodeName.toUpperCase()||"TH"==z.nodeName.toUpperCase())for(Bt=(Bt=+z.getAttribute("colspan"))&&0!=Bt&&1!=Bt?Bt:1,Wt=(Wt=+z.getAttribute("rowspan"))&&0!=Wt&&1!=Wt?Wt:1,Et=function(Me,Xe,Be){for(var Ue=Me[Xe];Ue[Be];)Be++;return Be}(J,Z,0),Qt=1==Bt,rt=0;rt<Bt;rt++)for(ot=0;ot<Wt;ot++)J[Z+ot][Et+rt]={cell:z,unique:Qt},J[Z+ot].nTr=It;z=z.nextSibling}}function Li(J,pt,It){var z=[];It||(It=J.aoHeader,pt&&$e(It=[],pt));for(var Z=0,ot=It.length;Z<ot;Z++)for(var rt=0,_t=It[Z].length;rt<_t;rt++)!It[Z][rt].unique||z[rt]&&J.bSortCellsTop||(z[rt]=It[Z][rt].cell);return z}function Si(J,pt,It){function z(Wt){var Qt=J.jqXHR?J.jqXHR.status:null;(null===Wt||"number"==typeof Qt&&204==Qt)&&Pi(J,Wt={},[]),(Qt=Wt.error||Wt.sError)&&Di(J,0,Qt),J.json=Wt,tn(J,null,"xhr",[J,Wt,J.jqXHR]),It(Wt)}tn(J,"aoServerParams","serverParams",[pt]),pt&&Array.isArray(pt)&&(Z={},ot=/(.*?)\[\]$/,v.each(pt,function(Wt,Qt){var xe=Qt.name.match(ot);xe?(Z[xe=xe[0]]||(Z[xe]=[]),Z[xe].push(Qt.value)):Z[Qt.name]=Qt.value}),pt=Z);var Z,ot,rt,_t=J.ajax,Et=J.oInstance,Bt=(v.isPlainObject(_t)&&_t.data&&(Bt="function"==typeof(rt=_t.data)?rt(pt,J):rt,pt="function"==typeof rt&&Bt?Bt:v.extend(!0,pt,Bt),delete _t.data),{data:pt,success:z,dataType:"json",cache:!1,type:J.sServerMethod,error:function(Wt,Qt,xe){var Me=tn(J,null,"xhr",[J,null,J.jqXHR]);-1===v.inArray(!0,Me)&&("parsererror"==Qt?Di(J,0,"Invalid JSON response",1):4===Wt.readyState&&Di(J,0,"Ajax error",7)),Yi(J,!1)}});J.oAjaxData=pt,tn(J,null,"preXhr",[J,pt]),J.fnServerData?J.fnServerData.call(Et,J.sAjaxSource,v.map(pt,function(Wt,Qt){return{name:Qt,value:Wt}}),z,J):J.sAjaxSource||"string"==typeof _t?J.jqXHR=v.ajax(v.extend(Bt,{url:_t||J.sAjaxSource})):"function"==typeof _t?J.jqXHR=_t.call(Et,pt,z,J):(J.jqXHR=v.ajax(v.extend(Bt,_t)),_t.data=rt)}function bi(J){J.iDraw++,Yi(J,!0),Si(J,ji(J),function(pt){ui(J,pt)})}function ji(J){for(var pt,It,z,Z=J.aoColumns,ot=Z.length,rt=J.oFeatures,_t=J.oPreviousSearch,Et=J.aoPreSearchCols,Bt=[],Wt=ie(J),Qt=J._iDisplayStart,xe=!1!==rt.bPaginate?J._iDisplayLength:-1,Me=function(Ue,Ii){Bt.push({name:Ue,value:Ii})},Xe=(Me("sEcho",J.iDraw),Me("iColumns",ot),Me("sColumns",k(Z,"sName").join(",")),Me("iDisplayStart",Qt),Me("iDisplayLength",xe),{draw:J.iDraw,columns:[],order:[],start:Qt,length:xe,search:{value:_t.sSearch,regex:_t.bRegex}}),Be=0;Be<ot;Be++)Xe.columns.push({data:pt="function"==typeof(It=Z[Be]).mData?"function":It.mData,name:It.sName,searchable:It.bSearchable,orderable:It.bSortable,search:{value:(z=Et[Be]).sSearch,regex:z.bRegex}}),Me("mDataProp_"+Be,pt),rt.bFilter&&(Me("sSearch_"+Be,z.sSearch),Me("bRegex_"+Be,z.bRegex),Me("bSearchable_"+Be,It.bSearchable)),rt.bSort&&Me("bSortable_"+Be,It.bSortable);return rt.bFilter&&(Me("sSearch",_t.sSearch),Me("bRegex",_t.bRegex)),rt.bSort&&(v.each(Wt,function(Ue,Ii){Xe.order.push({column:Ii.col,dir:Ii.dir}),Me("iSortCol_"+Ue,Ii.col),Me("sSortDir_"+Ue,Ii.dir)}),Me("iSortingCols",Wt.length)),null===(Qt=h.ext.legacy.ajax)?J.sAjaxSource?Bt:Xe:Qt?Bt:Xe}function ui(J,pt){function It(Bt,Wt){return pt[Bt]!==s?pt[Bt]:pt[Wt]}var z=Pi(J,pt),Z=It("sEcho","draw"),ot=It("iTotalRecords","recordsTotal"),rt=It("iTotalDisplayRecords","recordsFiltered");if(Z!==s){if(+Z<J.iDraw)return;J.iDraw=+Z}z=z||[],ae(J),J._iRecordsTotal=parseInt(ot,10),J._iRecordsDisplay=parseInt(rt,10);for(var _t=0,Et=z.length;_t<Et;_t++)mt(J,z[_t]);J.aiDisplay=J.aiDisplayMaster.slice(),ve(J,!0),J._bInitComplete||Ji(J,pt),Yi(J,!1)}function Pi(J,pt,It){if(J=v.isPlainObject(J.ajax)&&J.ajax.dataSrc!==s?J.ajax.dataSrc:J.sAjaxDataProp,!It)return"data"===J?pt.aaData||pt[J]:""!==J?Xt(J)(pt):pt;Ft(J)(pt,It)}function Ai(J){function pt(Wt){var Qt=this.value||"";Z.return&&"Enter"!==Wt.key||Qt!=Z.sSearch&&(ke(J,{sSearch:Qt,bRegex:Z.bRegex,bSmart:Z.bSmart,bCaseInsensitive:Z.bCaseInsensitive,return:Z.return}),J._iDisplayStart=0,ve(J))}var It=J.sTableId,z=J.oLanguage,Z=J.oPreviousSearch,ot=J.aanFeatures,_t='<input type="search" class="'+(Et=J.oClasses).sFilterInput+'"/>',rt=(rt=z.sSearch).match(/_INPUT_/)?rt.replace("_INPUT_",_t):rt+_t,Et=(_t=v("<div/>",{id:ot.f?null:It+"_filter",class:Et.sFilter}).append(v("<label/>").append(rt)),null!==J.searchDelay?J.searchDelay:"ssp"===wn(J)?400:0),Bt=v("input",_t).val(Z.sSearch).attr("placeholder",z.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",Et?gt(pt,Et):pt).on("mouseup",function(Wt){setTimeout(function(){pt.call(Bt[0],Wt)},10)}).on("keypress.DT",function(Wt){if(13==Wt.keyCode)return!1}).attr("aria-controls",It);return v(J.nTable).on("search.dt.DT",function(Wt,Qt){if(J===Qt)try{Bt[0]!==i.activeElement&&Bt.val(Z.sSearch)}catch{}}),_t[0]}function ke(J,pt,It){function z(Et){ot.sSearch=Et.sSearch,ot.bRegex=Et.bRegex,ot.bSmart=Et.bSmart,ot.bCaseInsensitive=Et.bCaseInsensitive,ot.return=Et.return}function Z(Et){return Et.bEscapeRegex!==s?!Et.bEscapeRegex:Et.bRegex}var ot=J.oPreviousSearch,rt=J.aoPreSearchCols;if(At(J),"ssp"!=wn(J)){Dt(J,pt.sSearch,It,Z(pt),pt.bSmart,pt.bCaseInsensitive),z(pt);for(var _t=0;_t<rt.length;_t++)lt(J,rt[_t].sSearch,_t,Z(rt[_t]),rt[_t].bSmart,rt[_t].bCaseInsensitive);di(J)}else z(pt);J.bFiltered=!0,tn(J,null,"search",[J])}function di(J){for(var pt,It,z=h.ext.search,Z=J.aiDisplay,ot=0,rt=z.length;ot<rt;ot++){for(var _t=[],Et=0,Bt=Z.length;Et<Bt;Et++)z[ot](J,(pt=J.aoData[It=Z[Et]])._aFilterData,It,pt._aData,Et)&&_t.push(It);Z.length=0,v.merge(Z,_t)}}function lt(J,pt,It,z,Z,ot){if(""!==pt){for(var _t=[],Et=J.aiDisplay,Bt=Jt(pt,z,Z,ot),Wt=0;Wt<Et.length;Wt++)Bt.test(J.aoData[Et[Wt]]._aFilterData[It])&&_t.push(Et[Wt]);J.aiDisplay=_t}}function Dt(J,pt,It,z,Wt,Qt){var rt,_t,Et,Bt=Jt(pt,z,Wt,Qt),xe=(Wt=J.oPreviousSearch.sSearch,Qt=J.aiDisplayMaster,[]);if(0!==h.ext.search.length&&(It=!0),_t=Ci(J),pt.length<=0)J.aiDisplay=Qt.slice();else{for((_t||It||z||Wt.length>pt.length||0!==pt.indexOf(Wt)||J.bSorted)&&(J.aiDisplay=Qt.slice()),rt=J.aiDisplay,Et=0;Et<rt.length;Et++)Bt.test(J.aoData[rt[Et]]._sFilterRow)&&xe.push(rt[Et]);J.aiDisplay=xe}}function Jt(J,pt,It,z){return J=pt?J:he(J),It&&(J="^(?=.*?"+v.map(J.match(/"[^"]+"|[^ ]+/g)||[""],function(Z){var ot;return(Z='"'===Z.charAt(0)&&(ot=Z.match(/^"(.*)"$/))?ot[1]:Z).replace('"',"")}).join(")(?=.*?")+").*$"),new RegExp(J,z?"i":"")}var he=h.util.escapeRegex,Te=v("<div>")[0],Fe=Te.textContent!==s;function Ci(J){for(var pt,It,z,Z,ot,rt=J.aoColumns,_t=!1,Et=0,Bt=J.aoData.length;Et<Bt;Et++)if(!(ot=J.aoData[Et])._aFilterData){for(z=[],pt=0,It=rt.length;pt<It;pt++)rt[pt].bSearchable?"string"!=typeof(Z=null===(Z=Lt(J,Et,pt,"filter"))?"":Z)&&Z.toString&&(Z=Z.toString()):Z="",Z.indexOf&&-1!==Z.indexOf("&")&&(Te.innerHTML=Z,Z=Fe?Te.textContent:Te.innerText),Z.replace&&(Z=Z.replace(/[\r\n\u2028]/g,"")),z.push(Z);ot._aFilterData=z,ot._sFilterRow=z.join("  "),_t=!0}return _t}function Hi(J){return{search:J.sSearch,smart:J.bSmart,regex:J.bRegex,caseInsensitive:J.bCaseInsensitive}}function Ri(J){return{sSearch:J.search,bSmart:J.smart,bRegex:J.regex,bCaseInsensitive:J.caseInsensitive}}function nn(J){var pt=J.sTableId,It=J.aanFeatures.i,z=v("<div/>",{class:J.oClasses.sInfo,id:It?null:pt+"_info"});return It||(J.aoDrawCallback.push({fn:gn,sName:"information"}),z.attr("role","status").attr("aria-live","polite"),v(J.nTable).attr("aria-describedby",pt+"_info")),z[0]}function gn(J){var pt,It,z,Z,ot,rt,_t=J.aanFeatures.i;0!==_t.length&&(rt=J.oLanguage,pt=J._iDisplayStart+1,It=J.fnDisplayEnd(),z=J.fnRecordsTotal(),ot=(Z=J.fnRecordsDisplay())?rt.sInfo:rt.sInfoEmpty,Z!==z&&(ot+=" "+rt.sInfoFiltered),ot=Hn(J,ot+=rt.sInfoPostFix),null!==(rt=rt.fnInfoCallback)&&(ot=rt.call(J.oInstance,J,pt,It,z,Z,ot)),v(_t).html(ot))}function Hn(J,pt){var It=J.fnFormatNumber,z=J._iDisplayStart+1,Z=J._iDisplayLength,ot=J.fnRecordsDisplay(),rt=-1===Z;return pt.replace(/_START_/g,It.call(J,z)).replace(/_END_/g,It.call(J,J.fnDisplayEnd())).replace(/_MAX_/g,It.call(J,J.fnRecordsTotal())).replace(/_TOTAL_/g,It.call(J,ot)).replace(/_PAGE_/g,It.call(J,rt?1:Math.ceil(z/Z))).replace(/_PAGES_/g,It.call(J,rt?1:Math.ceil(ot/Z)))}function Gn(J){var pt,It,z,Z=J.iInitDisplayStart,ot=J.aoColumns,rt=J.oFeatures,_t=J.bDeferLoading;if(J.bInitialised){for(We(J),ue(J),me(J,J.aoHeader),me(J,J.aoFooter),Yi(J,!0),rt.bAutoWidth&&it(J),pt=0,It=ot.length;pt<It;pt++)(z=ot[pt]).sWidth&&(z.nTh.style.width=se(z.sWidth));tn(J,null,"preInit",[J]),le(J),"ssp"==(rt=wn(J))&&!_t||("ajax"==rt?Si(J,[],function(Et){var Bt=Pi(J,Et);for(pt=0;pt<Bt.length;pt++)mt(J,Bt[pt]);J.iInitDisplayStart=Z,le(J),Yi(J,!1),Ji(J,Et)}):(Yi(J,!1),Ji(J)))}else setTimeout(function(){Gn(J)},200)}function Ji(J,pt){J._bInitComplete=!0,(pt||J.oInit.aaData)&&ut(J),tn(J,null,"plugin-init",[J,pt]),tn(J,"aoInitComplete","init",[J,pt])}function ci(J,pt){pt=parseInt(pt,10),J._iDisplayLength=pt,An(J),tn(J,null,"length",[J,pt])}function mi(J){for(var pt=J.oClasses,It=J.sTableId,z=J.aLengthMenu,Z=Array.isArray(z[0]),ot=Z?z[0]:z,rt=Z?z[1]:z,_t=v("<select/>",{name:It+"_length","aria-controls":It,class:pt.sLengthSelect}),Et=0,Bt=ot.length;Et<Bt;Et++)_t[0][Et]=new Option("number"==typeof rt[Et]?J.fnFormatNumber(rt[Et]):rt[Et],ot[Et]);var Wt=v("<div><label/></div>").addClass(pt.sLength);return J.aanFeatures.l||(Wt[0].id=It+"_length"),Wt.children().append(J.oLanguage.sLengthMenu.replace("_MENU_",_t[0].outerHTML)),v("select",Wt).val(J._iDisplayLength).on("change.DT",function(Qt){ci(J,v(this).val()),ve(J)}),v(J.nTable).on("length.dt.DT",function(Qt,xe,Me){J===xe&&v("select",Wt).val(Me)}),Wt[0]}function yi(J){function pt(rt){ve(rt)}var It=h.ext.pager[Z=J.sPaginationType],z="function"==typeof It,Z=v("<div/>").addClass(J.oClasses.sPaging+Z)[0],ot=J.aanFeatures;return z||It.fnInit(J,Z,pt),ot.p||(Z.id=J.sTableId+"_paginate",J.aoDrawCallback.push({fn:function(rt){if(z)for(var _t=rt._iDisplayStart,Et=rt._iDisplayLength,Bt=rt.fnRecordsDisplay(),Wt=-1===Et,Qt=Wt?0:Math.ceil(_t/Et),xe=Wt?1:Math.ceil(Bt/Et),Me=It(Qt,xe),Xe=0,Be=ot.p.length;Xe<Be;Xe++)Rn(rt,"pageButton")(rt,ot.p[Xe],Xe,Me,Qt,xe);else It.fnUpdate(rt,pt)},sName:"pagination"})),Z}function $i(J,pt,It){var z=J._iDisplayStart,Z=J._iDisplayLength,ot=(0===(ot=J.fnRecordsDisplay())||-1===Z?z=0:"number"==typeof pt?ot<(z=pt*Z)&&(z=0):"first"==pt?z=0:"previous"==pt?(z=0<=Z?z-Z:0)<0&&(z=0):"next"==pt?z+Z<ot&&(z+=Z):"last"==pt?z=Math.floor((ot-1)/Z)*Z:Di(J,0,"Unknown paging action: "+pt,5),J._iDisplayStart!==z);return J._iDisplayStart=z,ot?(tn(J,null,"page",[J]),It&&ve(J)):tn(J,null,"page-nc",[J]),ot}function rn(J){return v("<div/>",{id:J.aanFeatures.r?null:J.sTableId+"_processing",class:J.oClasses.sProcessing}).html(J.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(J.nTable)[0]}function Yi(J,pt){J.oFeatures.bProcessing&&v(J.aanFeatures.r).css("display",pt?"block":"none"),tn(J,null,"processing",[J,pt])}function Cn(J){var pt,It,z,Z,ot,rt,_t,Et,Bt,Wt,Qt,xe,Me=v(J.nTable),Xe=J.oScroll;return""===Xe.sX&&""===Xe.sY?J.nTable:(pt=Xe.sX,It=Xe.sY,z=J.oClasses,ot=(Z=Me.children("caption")).length?Z[0]._captionSide:null,Et=v(Me[0].cloneNode(!1)),rt=v(Me[0].cloneNode(!1)),Bt=function(Be){return Be?se(Be):null},(_t=Me.children("tfoot")).length||(_t=null),Et=v(Qt="<div/>",{class:z.sScrollWrapper}).append(v(Qt,{class:z.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:pt?Bt(pt):"100%"}).append(v(Qt,{class:z.sScrollHeadInner}).css({"box-sizing":"content-box",width:Xe.sXInner||"100%"}).append(Et.removeAttr("id").css("margin-left",0).append("top"===ot?Z:null).append(Me.children("thead"))))).append(v(Qt,{class:z.sScrollBody}).css({position:"relative",overflow:"auto",width:Bt(pt)}).append(Me)),_t&&Et.append(v(Qt,{class:z.sScrollFoot}).css({overflow:"hidden",border:0,width:pt?Bt(pt):"100%"}).append(v(Qt,{class:z.sScrollFootInner}).append(rt.removeAttr("id").css("margin-left",0).append("bottom"===ot?Z:null).append(Me.children("tfoot"))))),Bt=Et.children(),Wt=Bt[0],Qt=Bt[1],xe=_t?Bt[2]:null,pt&&v(Qt).on("scroll.DT",function(Be){var Ue=this.scrollLeft;Wt.scrollLeft=Ue,_t&&(xe.scrollLeft=Ue)}),v(Qt).css("max-height",It),Xe.bCollapse||v(Qt).css("height",It),J.nScrollHead=Wt,J.nScrollBody=Qt,J.nScrollFoot=xe,J.aoDrawCallback.push({fn:Gi,sName:"scrolling"}),Et[0])}function Gi(J){function pt(kn){(kn=kn.style).paddingTop="0",kn.paddingBottom="0",kn.borderTopWidth="0",kn.borderBottomWidth="0",kn.height=0}var It,z,Z,ot,rt,_t=(Wt=J.oScroll).sX,Et=Wt.sXInner,Bt=Wt.sY,Wt=Wt.iBarWidth,Qt=v(J.nScrollHead),xe=Qt[0].style,Me=(Xe=Qt.children("div"))[0].style,Xe=Xe.children("table"),Be=J.nScrollBody,Ue=v(Be),Ii=Be.style,on=v(J.nScrollFoot).children("div"),Tt=on.children("table"),Yt=v(J.nTHead),pe=v(J.nTable),Pe=pe[0],Oe=Pe.style,ze=J.nTFoot?v(J.nTFoot):null,Je=J.oBrowser,Re=Je.bScrollOversize,fi=(k(J.aoColumns,"nTh"),[]),vi=[],Vi=[],cn=[],_n=Be.scrollHeight>Be.clientHeight;J.scrollBarVis!==_n&&J.scrollBarVis!==s?(J.scrollBarVis=_n,ut(J)):(J.scrollBarVis=_n,pe.children("thead, tfoot").remove(),ze&&(_n=ze.clone().prependTo(pe),rt=ze.find("tr"),z=_n.find("tr"),_n.find("[id]").removeAttr("id")),_n=Yt.clone().prependTo(pe),Yt=Yt.find("tr"),It=_n.find("tr"),_n.find("th, td").removeAttr("tabindex"),_n.find("[id]").removeAttr("id"),_t||(Ii.width="100%",Qt[0].style.width="100%"),v.each(Li(J,_n),function(kn,Ln){Z=Y(J,kn),Ln.style.width=J.aoColumns[Z].sWidth}),ze&&Qe(function(kn){kn.style.width=""},z),Qt=pe.outerWidth(),""===_t?(Oe.width="100%",Re&&(pe.find("tbody").height()>Be.offsetHeight||"scroll"==Ue.css("overflow-y"))&&(Oe.width=se(pe.outerWidth()-Wt)),Qt=pe.outerWidth()):""!==Et&&(Oe.width=se(Et),Qt=pe.outerWidth()),Qe(pt,It),Qe(function(kn){var Ln=e.getComputedStyle?e.getComputedStyle(kn).width:se(v(kn).width());Vi.push(kn.innerHTML),fi.push(Ln)},It),Qe(function(kn,Ln){kn.style.width=fi[Ln]},Yt),v(It).css("height",0),ze&&(Qe(pt,z),Qe(function(kn){cn.push(kn.innerHTML),vi.push(se(v(kn).css("width")))},z),Qe(function(kn,Ln){kn.style.width=vi[Ln]},rt),v(z).height(0)),Qe(function(kn,Ln){kn.innerHTML='<div class="dataTables_sizing">'+Vi[Ln]+"</div>",kn.childNodes[0].style.height="0",kn.childNodes[0].style.overflow="hidden",kn.style.width=fi[Ln]},It),ze&&Qe(function(kn,Ln){kn.innerHTML='<div class="dataTables_sizing">'+cn[Ln]+"</div>",kn.childNodes[0].style.height="0",kn.childNodes[0].style.overflow="hidden",kn.style.width=vi[Ln]},z),Math.round(pe.outerWidth())<Math.round(Qt)?(ot=Be.scrollHeight>Be.offsetHeight||"scroll"==Ue.css("overflow-y")?Qt+Wt:Qt,Re&&(Be.scrollHeight>Be.offsetHeight||"scroll"==Ue.css("overflow-y"))&&(Oe.width=se(ot-Wt)),""!==_t&&""===Et||Di(J,1,"Possible column misalignment",6)):ot="100%",Ii.width=se(ot),xe.width=se(ot),ze&&(J.nScrollFoot.style.width=se(ot)),Bt||Re&&(Ii.height=se(Pe.offsetHeight+Wt)),_n=pe.outerWidth(),Xe[0].style.width=se(_n),Me.width=se(_n),Yt=pe.height()>Be.clientHeight||"scroll"==Ue.css("overflow-y"),Me[rt="padding"+(Je.bScrollbarLeft?"Left":"Right")]=Yt?Wt+"px":"0px",ze&&(Tt[0].style.width=se(_n),on[0].style.width=se(_n),on[0].style[rt]=Yt?Wt+"px":"0px"),pe.children("colgroup").insertBefore(pe.children("thead")),Ue.trigger("scroll"),!J.bSorted&&!J.bFiltered||J._drawHold||(Be.scrollTop=0))}function Qe(J,pt,It){for(var z,Z,ot=0,rt=0,_t=pt.length;rt<_t;){for(z=pt[rt].firstChild,Z=It?It[rt].firstChild:null;z;)1===z.nodeType&&(It?J(z,Z,ot):J(z,ot),ot++),z=z.nextSibling,Z=It?Z.nextSibling:null;rt++}}var K=/<.*?>/g;function it(J){var pt,It,z=J.nTable,Z=J.aoColumns,ot=(_t=J.oScroll).sY,rt=_t.sX,_t=_t.sXInner,Et=Z.length,Bt=St(J,"bVisible"),Wt=v("th",J.nTHead),Qt=z.getAttribute("width"),xe=z.parentNode,Me=!1,Xe=J.oBrowser,Be=Xe.bScrollOversize;for((Ue=z.style.width)&&-1!==Ue.indexOf("%")&&(Qt=Ue),pe=0;pe<Bt.length;pe++)null!==(pt=Z[Bt[pe]]).sWidth&&(pt.sWidth=Pt(pt.sWidthOrig,xe),Me=!0);if(Be||!Me&&!rt&&!ot&&Et==wt(J)&&Et==Wt.length)for(pe=0;pe<Et;pe++){var Ii=Y(J,pe);null!==Ii&&(Z[Ii].sWidth=se(Wt.eq(pe).width()))}else{var Ue,on=((Ue=v(z).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove(),v("<tr/>").appendTo(Ue.find("tbody")));for(Ue.find("thead, tfoot").remove(),Ue.append(v(J.nTHead).clone()).append(v(J.nTFoot).clone()),Ue.find("tfoot th, tfoot td").css("width",""),Wt=Li(J,Ue.find("thead")[0]),pe=0;pe<Bt.length;pe++)Wt[pe].style.width=null!==(pt=Z[Bt[pe]]).sWidthOrig&&""!==pt.sWidthOrig?se(pt.sWidthOrig):"",pt.sWidthOrig&&rt&&v(Wt[pe]).append(v("<div/>").css({width:pt.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(J.aoData.length)for(pe=0;pe<Bt.length;pe++)pt=Z[It=Bt[pe]],v(jt(J,It)).clone(!1).append(pt.sContentPadding).appendTo(on);v("[name]",Ue).removeAttr("name");for(var Tt=v("<div/>").css(rt||ot?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(Ue).appendTo(xe),Yt=(rt&&_t?Ue.width(_t):rt?(Ue.css("width","auto"),Ue.removeAttr("width"),Ue.width()<xe.clientWidth&&Qt&&Ue.width(xe.clientWidth)):ot?Ue.width(xe.clientWidth):Qt&&Ue.width(Qt),0),pe=0;pe<Bt.length;pe++){var Oe,Pe=(Oe=v(Wt[pe])).outerWidth()-Oe.width();Yt+=Oe=Xe.bBounding?Math.ceil(Wt[pe].getBoundingClientRect().width):Oe.outerWidth(),Z[Bt[pe]].sWidth=se(Oe-Pe)}z.style.width=se(Yt),Tt.remove()}Qt&&(z.style.width=se(Qt)),!Qt&&!rt||J._reszEvt||(_t=function(){v(e).on("resize.DT-"+J.sInstance,gt(function(){ut(J)}))},Be?setTimeout(_t,1e3):_t(),J._reszEvt=!0)}var gt=h.util.throttle;function Pt(J,pt){return J?(pt=(J=v("<div/>").css("width",se(J)).appendTo(pt||i.body))[0].offsetWidth,J.remove(),pt):0}function jt(J,pt){var It,z=Kt(J,pt);return z<0?null:(It=J.aoData[z]).nTr?It.anCells[pt]:v("<td/>").html(Lt(J,z,pt,"display"))[0]}function Kt(J,pt){for(var It,z=-1,Z=-1,ot=0,rt=J.aoData.length;ot<rt;ot++)(It=(It=(It=Lt(J,ot,pt,"display")+"").replace(K,"")).replace(/&nbsp;/g," ")).length>z&&(z=It.length,Z=ot);return Z}function se(J){return null===J?"0px":"number"==typeof J?J<0?"0px":J+"px":J.match(/\d$/)?J+"px":J}function ie(J){function pt(Xe){Xe.length&&!Array.isArray(Xe[0])?Me.push(Xe):v.merge(Me,Xe)}var It,z,Z,ot,rt,_t,Et,Bt=[],Wt=J.aoColumns,Qt=J.aaSortingFixed,xe=v.isPlainObject(Qt),Me=[];for(Array.isArray(Qt)&&pt(Qt),xe&&Qt.pre&&pt(Qt.pre),pt(J.aaSorting),xe&&Qt.post&&pt(Qt.post),It=0;It<Me.length;It++)for(Z=(ot=Wt[Et=Me[It][z=0]].aDataSort).length;z<Z;z++)_t=Wt[rt=ot[z]].sType||"string",Me[It]._idx===s&&(Me[It]._idx=v.inArray(Me[It][1],Wt[rt].asSorting)),Bt.push({src:Et,col:rt,dir:Me[It][1],index:Me[It]._idx,type:_t,formatter:h.ext.type.order[_t+"-pre"]});return Bt}function fe(J){var pt,It,z,Z,ot,rt=[],_t=h.ext.type.order,Et=J.aoData,Bt=0,Wt=J.aiDisplayMaster;for(At(J),pt=0,It=(ot=ie(J)).length;pt<It;pt++)(Z=ot[pt]).formatter&&Bt++,ii(J,Z.col);if("ssp"!=wn(J)&&0!==ot.length){for(pt=0,z=Wt.length;pt<z;pt++)rt[Wt[pt]]=pt;Wt.sort(Bt===ot.length?function(Qt,xe){for(var Me,Xe,Be,Ue,Ii=ot.length,on=Et[Qt]._aSortData,Tt=Et[xe]._aSortData,Yt=0;Yt<Ii;Yt++)if(0!=(Be=(Me=on[(Ue=ot[Yt]).col])<(Xe=Tt[Ue.col])?-1:Xe<Me?1:0))return"asc"===Ue.dir?Be:-Be;return(Me=rt[Qt])<(Xe=rt[xe])?-1:Xe<Me?1:0}:function(Qt,xe){for(var Me,Xe,Be,Ue=ot.length,Ii=Et[Qt]._aSortData,on=Et[xe]._aSortData,Tt=0;Tt<Ue;Tt++)if(Me=Ii[(Be=ot[Tt]).col],0!==(Be=(_t[Be.type+"-"+Be.dir]||_t["string-"+Be.dir])(Me,Xe=on[Be.col])))return Be;return(Me=rt[Qt])<(Xe=rt[xe])?-1:Xe<Me?1:0})}J.bSorted=!0}function He(J){for(var pt=J.aoColumns,It=ie(J),z=J.oLanguage.oAria,Z=0,ot=pt.length;Z<ot;Z++){var rt=pt[Z],_t=rt.asSorting,Et=rt.ariaTitle||rt.sTitle.replace(/<.*?>/g,""),Bt=rt.nTh;Bt.removeAttribute("aria-sort"),rt=rt.bSortable?Et+("asc"===(0<It.length&&It[0].col==Z&&(Bt.setAttribute("aria-sort","asc"==It[0].dir?"ascending":"descending"),_t[It[0].index+1])||_t[0])?z.sSortAscending:z.sSortDescending):Et,Bt.setAttribute("aria-label",rt)}}function Ge(J,pt,It,z){function Z(Bt,Wt){var Qt=Bt._idx;return(Qt=Qt===s?v.inArray(Bt[1],Et):Qt)+1<Et.length?Qt+1:Wt?null:0}var ot,rt=J.aoColumns[pt],_t=J.aaSorting,Et=rt.asSorting;"number"==typeof _t[0]&&(_t=J.aaSorting=[_t]),It&&J.oFeatures.bSortMulti?-1!==(rt=v.inArray(pt,k(_t,"0")))?null===(ot=null===(ot=Z(_t[rt],!0))&&1===_t.length?0:ot)?_t.splice(rt,1):(_t[rt][1]=Et[ot],_t[rt]._idx=ot):(_t.push([pt,Et[0],0]),_t[_t.length-1]._idx=0):_t.length&&_t[0][0]==pt?(ot=Z(_t[0]),_t.length=1,_t[0][1]=Et[ot],_t[0]._idx=ot):(_t.length=0,_t.push([pt,Et[0]]),_t[0]._idx=0),le(J),"function"==typeof z&&z(J)}function ai(J,pt,It,z){var Z=J.aoColumns[It];Fi(pt,{},function(ot){!1!==Z.bSortable&&(J.oFeatures.bProcessing?(Yi(J,!0),setTimeout(function(){Ge(J,It,ot.shiftKey,z),"ssp"!==wn(J)&&Yi(J,!1)},0)):Ge(J,It,ot.shiftKey,z))})}function ye(J){var pt,It,Z=J.aLastSort,ot=J.oClasses.sSortColumn,rt=ie(J),_t=J.oFeatures;if(_t.bSort&&_t.bSortClasses){for(pt=0,It=Z.length;pt<It;pt++)v(k(J.aoData,"anCells",Z[pt].src)).removeClass(ot+(pt<2?pt+1:3));for(pt=0,It=rt.length;pt<It;pt++)v(k(J.aoData,"anCells",rt[pt].src)).addClass(ot+(pt<2?pt+1:3))}J.aLastSort=rt}function ii(J,pt){for(var It,z,Z,ot=J.aoColumns[pt],rt=h.ext.order[ot.sSortDataType],_t=(rt&&(It=rt.call(J.oInstance,J,pt,tt(J,pt))),h.ext.type.order[ot.sType+"-pre"]),Et=0,Bt=J.aoData.length;Et<Bt;Et++)(z=J.aoData[Et])._aSortData||(z._aSortData=[]),z._aSortData[pt]&&!rt||(Z=rt?It[Et]:Lt(J,Et,pt,"sort"),z._aSortData[pt]=_t?_t(Z):Z)}function je(J){var pt;J._bLoadingState||(pt={time:+new Date,start:J._iDisplayStart,length:J._iDisplayLength,order:v.extend(!0,[],J.aaSorting),search:Hi(J.oPreviousSearch),columns:v.map(J.aoColumns,function(It,z){return{visible:It.bVisible,search:Hi(J.aoPreSearchCols[z])}})},J.oSavedState=pt,tn(J,"aoStateSaveParams","stateSaveParams",[J,pt]),J.oFeatures.bStateSave&&!J.bDestroying&&J.fnStateSaveCallback.call(J.oInstance,J,pt))}function wi(J,pt,It){var z;if(J.oFeatures.bStateSave)return(z=J.fnStateLoadCallback.call(J.oInstance,J,function(Z){ei(J,Z,It)}))!==s&&ei(J,z,It),!0;It()}function ei(J,pt,It){var z,Z,ot=J.aoColumns,rt=(J._bLoadingState=!0,J._bInitComplete?new h.Api(J):null);if(pt&&pt.time){var _t=tn(J,"aoStateLoadParams","stateLoadParams",[J,pt]);if(-1!==v.inArray(!1,_t))J._bLoadingState=!1;else if(0<(_t=J.iStateDuration)&&pt.time<+new Date-1e3*_t)J._bLoadingState=!1;else if(pt.columns&&ot.length!==pt.columns.length)J._bLoadingState=!1;else{if(J.oLoadedState=v.extend(!0,{},pt),pt.length!==s&&(rt?rt.page.len(pt.length):J._iDisplayLength=pt.length),pt.start!==s&&(null===rt?(J._iDisplayStart=pt.start,J.iInitDisplayStart=pt.start):$i(J,pt.start/J._iDisplayLength)),pt.order!==s&&(J.aaSorting=[],v.each(pt.order,function(Bt,Wt){J.aaSorting.push(Wt[0]>=ot.length?[0,Wt[1]]:Wt)})),pt.search!==s&&v.extend(J.oPreviousSearch,Ri(pt.search)),pt.columns){for(z=0,Z=pt.columns.length;z<Z;z++){var Et=pt.columns[z];Et.visible!==s&&(rt?rt.column(z).visible(Et.visible,!1):ot[z].bVisible=Et.visible),Et.search!==s&&v.extend(J.aoPreSearchCols[z],Ri(Et.search))}rt&&rt.columns.adjust()}J._bLoadingState=!1,tn(J,"aoStateLoaded","stateLoaded",[J,pt])}}else J._bLoadingState=!1;It()}function Bi(It){var pt=h.settings;return-1!==(It=v.inArray(It,k(pt,"nTable")))?pt[It]:null}function Di(J,pt,It,z){if(It="DataTables warning: "+(J?"table id="+J.sTableId+" - ":"")+It,z&&(It+=". For more information about this error, please see http://datatables.net/tn/"+z),pt)e.console&&console.log&&console.log(It);else if(pt=(pt=h.ext).sErrMode||pt.errMode,J&&tn(J,null,"error",[J,z,It]),"alert"==pt)alert(It);else{if("throw"==pt)throw new Error(It);"function"==typeof pt&&pt(J,z,It)}}function si(J,pt,It,z){Array.isArray(It)?v.each(It,function(Z,ot){Array.isArray(ot)?si(J,pt,ot[0],ot[1]):si(J,pt,ot)}):(z===s&&(z=It),pt[It]!==s&&(J[z]=pt[It]))}function pn(J,pt,It){var z,Z;for(Z in pt)pt.hasOwnProperty(Z)&&(v.isPlainObject(z=pt[Z])?(v.isPlainObject(J[Z])||(J[Z]={}),v.extend(!0,J[Z],z)):J[Z]=It&&"data"!==Z&&"aaData"!==Z&&Array.isArray(z)?z.slice():z);return J}function Fi(J,pt,It){v(J).on("click.DT",pt,function(z){v(J).trigger("blur"),It(z)}).on("keypress.DT",pt,function(z){13===z.which&&(z.preventDefault(),It(z))}).on("selectstart.DT",function(){return!1})}function xn(J,pt,It,z){It&&J[pt].push({fn:It,sName:z})}function tn(J,pt,It,z){var Z=[];return pt&&(Z=v.map(J[pt].slice().reverse(),function(ot,rt){return ot.fn.apply(J.oInstance,z)})),null!==It&&(pt=v.Event(It+".dt"),v(J.nTable).trigger(pt,z),Z.push(pt.result)),Z}function An(J){var pt=J._iDisplayStart,It=J.fnDisplayEnd(),z=J._iDisplayLength;It<=pt&&(pt=It-z),pt-=pt%z,J._iDisplayStart=pt=-1===z||pt<0?0:pt}function Rn(It,pt){var z=h.ext.renderer[pt];return v.isPlainObject(It=It.renderer)&&It[pt]?z[It[pt]]||z._:"string"==typeof It&&z[It]||z._}function wn(J){return J.oFeatures.bServerSide?"ssp":J.ajax||J.sAjaxSource?"ajax":"dom"}function er(J,pt){var It;return Array.isArray(J)?v.map(J,function(z){return er(z,pt)}):"number"==typeof J?[pt[J]]:(It=v.map(pt,function(z,Z){return z.nTable}),v(It).filter(J).map(function(z){var Z=v.inArray(this,It);return pt[Z]}).toArray())}function Pn(J,pt,It){var z,Z;It&&(z=new Vn(J)).one("draw",function(){It(z.ajax.json())}),"ssp"==wn(J)?le(J,pt):(Yi(J,!0),(Z=J.jqXHR)&&4!==Z.readyState&&Z.abort(),Si(J,[],function(ot){ae(J);for(var rt=Pi(J,ot),_t=0,Et=rt.length;_t<Et;_t++)mt(J,rt[_t]);le(J,pt),Yi(J,!1)}))}function Kn(J,pt,It,z,Z){for(var ot,rt,_t,Et,Bt=[],Wt=typeof pt,Qt=0,xe=(pt=pt&&"string"!=Wt&&"function"!=Wt&&pt.length!==s?pt:[pt]).length;Qt<xe;Qt++)for(_t=0,Et=(rt=pt[Qt]&&pt[Qt].split&&!pt[Qt].match(/[\[\(:]/)?pt[Qt].split(","):[pt[Qt]]).length;_t<Et;_t++)(ot=It("string"==typeof rt[_t]?rt[_t].trim():rt[_t]))&&ot.length&&(Bt=Bt.concat(ot));var Me=R.selector[J];if(Me.length)for(Qt=0,xe=Me.length;Qt<xe;Qt++)Bt=Me[Qt](z,Z,Bt);return O(Bt)}function Bn(J){return(J=J||{}).filter&&J.search===s&&(J.search=J.filter),v.extend({search:"none",order:"current",page:"all"},J)}function In(J){for(var pt=0,It=J.length;pt<It;pt++)if(0<J[pt].length)return J[0]=J[pt],J[0].length=1,J.length=1,J.context=[J.context[pt]],J;return J.length=0,J}function Jn(J,pt){var It=J.context;if(It.length&&J.length&&(z=It[0].aoData[J[0]])._details){(z._detailsShow=pt)?(z._details.insertAfter(z.nTr),v(z.nTr).addClass("dt-hasChild")):(z._details.detach(),v(z.nTr).removeClass("dt-hasChild")),tn(It[0],null,"childRow",[pt,J.row(J[0])]);var z,Z=It[0],ot=new Vn(Z),rt=Z.aoData;ot.off((pt="draw"+(z=".dt.DT_details"))+" "+(J="column-sizing"+z)+" "+(z="destroy"+z)),k(rt,"_details").length>0&&(ot.on(pt,function(Wt,Qt){Z===Qt&&ot.rows({page:"current"}).eq(0).each(function(xe){var Me=rt[xe];Me._detailsShow&&Me._details.insertAfter(Me.nTr)})}),ot.on(J,function(Wt,Qt,xe,Me){if(Z===Qt)for(var Xe,Be=wt(Qt),Ue=0,Ii=rt.length;Ue<Ii;Ue++)(Xe=rt[Ue])._details&&Xe._details.children("td[colspan]").attr("colspan",Be)}),ot.on(z,function(Wt,Qt){if(Z===Qt)for(var xe=0,Me=rt.length;xe<Me;xe++)rt[xe]._details&&Nr(ot,xe)})),rr(It)}}function Or(J,pt,It,z,Z){for(var ot=[],rt=0,_t=Z.length;rt<_t;rt++)ot.push(Lt(J,Z[rt],pt));return ot}var Qn=[],Fn=Array.prototype,Vn=function(J,pt){if(!(this instanceof Vn))return new Vn(J,pt);function It(rt){var _t,Et,Bt,Wt;Wt=v.map(Bt=h.settings,function(Qt,xe){return Qt.nTable}),(rt=rt?rt.nTable&&rt.oApi?[rt]:rt.nodeName&&"table"===rt.nodeName.toLowerCase()?-1!==(_t=v.inArray(rt,Wt))?[Bt[_t]]:null:rt&&"function"==typeof rt.settings?rt.settings().toArray():("string"==typeof rt?Et=v(rt):rt instanceof v&&(Et=rt),Et?Et.map(function(Qt){return-1!==(_t=v.inArray(this,Wt))?Bt[_t]:null}).toArray():void 0):[])&&z.push.apply(z,rt)}var z=[];if(Array.isArray(J))for(var Z=0,ot=J.length;Z<ot;Z++)It(J[Z]);else It(J);this.context=O(z),pt&&v.merge(this,pt),this.selector={rows:null,cols:null,opts:null},Vn.extend(this,this,Qn)},Gr=(h.Api=Vn,v.extend(Vn.prototype,{any:function(){return 0!==this.count()},concat:Fn.concat,context:[],count:function(){return this.flatten().length},each:function(J){for(var pt=0,It=this.length;pt<It;pt++)J.call(this,this[pt],pt,this);return this},eq:function(J){var pt=this.context;return pt.length>J?new Vn(pt[J],this[J]):null},filter:function(J){var pt=[];if(Fn.filter)pt=Fn.filter.call(this,J,this);else for(var It=0,z=this.length;It<z;It++)J.call(this,this[It],It,this)&&pt.push(this[It]);return new Vn(this.context,pt)},flatten:function(){var J=[];return new Vn(this.context,J.concat.apply(J,this.toArray()))},join:Fn.join,indexOf:Fn.indexOf||function(J,pt){for(var It=pt||0,z=this.length;It<z;It++)if(this[It]===J)return It;return-1},iterator:function(J,pt,It,z){var Z,ot,rt,_t,Et,Bt,Wt,Qt,xe=[],Me=this.context,Xe=this.selector;for("string"==typeof J&&(z=It,It=pt,pt=J,J=!1),ot=0,rt=Me.length;ot<rt;ot++){var Be=new Vn(Me[ot]);if("table"===pt)(Z=It.call(Be,Me[ot],ot))!==s&&xe.push(Z);else if("columns"===pt||"rows"===pt)(Z=It.call(Be,Me[ot],this[ot],ot))!==s&&xe.push(Z);else if("column"===pt||"column-rows"===pt||"row"===pt||"cell"===pt)for(Wt=this[ot],"column-rows"===pt&&(Bt=Gr(Me[ot],Xe.opts)),_t=0,Et=Wt.length;_t<Et;_t++)Qt=Wt[_t],(Z="cell"===pt?It.call(Be,Me[ot],Qt.row,Qt.column,ot,_t):It.call(Be,Me[ot],Qt,ot,_t,Bt))!==s&&xe.push(Z)}return xe.length||z?((J=(z=new Vn(Me,J?xe.concat.apply([],xe):xe)).selector).rows=Xe.rows,J.cols=Xe.cols,J.opts=Xe.opts,z):this},lastIndexOf:Fn.lastIndexOf||function(J,pt){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(J){var pt=[];if(Fn.map)pt=Fn.map.call(this,J,this);else for(var It=0,z=this.length;It<z;It++)pt.push(J.call(this,this[It],It));return new Vn(this.context,pt)},pluck:function(J){let pt=h.util.get(J);return this.map(function(It){return pt(It)})},pop:Fn.pop,push:Fn.push,reduce:Fn.reduce||function(J,pt){return q(this,J,pt,0,this.length,1)},reduceRight:Fn.reduceRight||function(J,pt){return q(this,J,pt,this.length-1,-1,-1)},reverse:Fn.reverse,selector:null,shift:Fn.shift,slice:function(){return new Vn(this.context,this)},sort:Fn.sort,splice:Fn.splice,toArray:function(){return Fn.slice.call(this)},to$:function(){return v(this)},toJQuery:function(){return v(this)},unique:function(){return new Vn(this.context,O(this))},unshift:Fn.unshift}),Vn.extend=function(J,pt,It){if(It.length&&pt&&(pt instanceof Vn||pt.__dt_wrapper))for(var z,Z=0,ot=It.length;Z<ot;Z++)pt[(z=It[Z]).name]="function"===z.type?function(rt,_t,Et){return function(){var Bt=_t.apply(rt,arguments);return Vn.extend(Bt,Bt,Et.methodExt),Bt}}(J,z.val,z):"object"===z.type?{}:z.val,pt[z.name].__dt_wrapper=!0,Vn.extend(J,pt[z.name],z.propExt)},Vn.register=E=function(J,pt){if(Array.isArray(J))for(var It=0,z=J.length;It<z;It++)Vn.register(J[It],pt);else for(var Z=J.split("."),ot=Qn,rt=0,_t=Z.length;rt<_t;rt++){var Et,Bt,Wt=function(Qt,xe){for(var Me=0,Xe=Qt.length;Me<Xe;Me++)if(Qt[Me].name===xe)return Qt[Me];return null}(ot,Bt=(Et=-1!==Z[rt].indexOf("()"))?Z[rt].replace("()",""):Z[rt]);Wt||ot.push(Wt={name:Bt,val:{},methodExt:[],propExt:[],type:"object"}),rt===_t-1?(Wt.val=pt,Wt.type="function"==typeof pt?"function":v.isPlainObject(pt)?"object":"other"):ot=Et?Wt.methodExt:Wt.propExt}},Vn.registerPlural=a=function(J,pt,It){Vn.register(J,It),Vn.register(pt,function(){var z=It.apply(this,arguments);return z===this?this:z instanceof Vn?z.length?Array.isArray(z[0])?new Vn(z.context,z[0]):z[0]:s:z})},E("tables()",function(J){return J!==s&&null!==J?new Vn(er(J,this.context)):this}),E("table()",function(pt){var It=(pt=this.tables(pt)).context;return It.length?new Vn(It[0]):pt}),a("tables().nodes()","table().node()",function(){return this.iterator("table",function(J){return J.nTable},1)}),a("tables().body()","table().body()",function(){return this.iterator("table",function(J){return J.nTBody},1)}),a("tables().header()","table().header()",function(){return this.iterator("table",function(J){return J.nTHead},1)}),a("tables().footer()","table().footer()",function(){return this.iterator("table",function(J){return J.nTFoot},1)}),a("tables().containers()","table().container()",function(){return this.iterator("table",function(J){return J.nTableWrapper},1)}),E("draw()",function(J){return this.iterator("table",function(pt){"page"===J?ve(pt):le(pt,!1===(J="string"==typeof J?"full-hold"!==J:J))})}),E("page()",function(J){return J===s?this.page.info().page:this.iterator("table",function(pt){$i(pt,J)})}),E("page.info()",function(J){var pt,It,z,Z,ot;return 0===this.context.length?s:(It=(pt=this.context[0])._iDisplayStart,z=pt.oFeatures.bPaginate?pt._iDisplayLength:-1,Z=pt.fnRecordsDisplay(),{page:(ot=-1===z)?0:Math.floor(It/z),pages:ot?1:Math.ceil(Z/z),start:It,end:pt.fnDisplayEnd(),length:z,recordsTotal:pt.fnRecordsTotal(),recordsDisplay:Z,serverSide:"ssp"===wn(pt)})}),E("page.len()",function(J){return J===s?0!==this.context.length?this.context[0]._iDisplayLength:s:this.iterator("table",function(pt){ci(pt,J)})}),E("ajax.json()",function(){var J=this.context;if(0<J.length)return J[0].json}),E("ajax.params()",function(){var J=this.context;if(0<J.length)return J[0].oAjaxData}),E("ajax.reload()",function(J,pt){return this.iterator("table",function(It){Pn(It,!1===pt,J)})}),E("ajax.url()",function(J){var pt=this.context;return J===s?0===pt.length?s:(pt=pt[0]).ajax?v.isPlainObject(pt.ajax)?pt.ajax.url:pt.ajax:pt.sAjaxSource:this.iterator("table",function(It){v.isPlainObject(It.ajax)?It.ajax.url=J:It.ajax=J})}),E("ajax.url().load()",function(J,pt){return this.iterator("table",function(It){Pn(It,!1===pt,J)})}),function(J,Et){var It,z=[],Z=J.aiDisplay,ot=J.aiDisplayMaster,rt=Et.search,_t=Et.order;if(Et=Et.page,"ssp"==wn(J))return"removed"===rt?[]:G(0,ot.length);if("current"==Et)for(Wt=J._iDisplayStart,Qt=J.fnDisplayEnd();Wt<Qt;Wt++)z.push(Z[Wt]);else if("current"==_t||"applied"==_t){if("none"==rt)z=ot.slice();else if("applied"==rt)z=Z.slice();else if("removed"==rt){for(var Bt={},Wt=0,Qt=Z.length;Wt<Qt;Wt++)Bt[Z[Wt]]=null;z=v.map(ot,function(xe){return Bt.hasOwnProperty(xe)?null:xe})}}else if("index"==_t||"original"==_t)for(Wt=0,Qt=J.aoData.length;Wt<Qt;Wt++)("none"==rt||-1===(It=v.inArray(Wt,Z))&&"removed"==rt||0<=It&&"applied"==rt)&&z.push(Wt);return z}),rr=(E("rows()",function(J,pt){J===s?J="":v.isPlainObject(J)&&(pt=J,J=""),pt=Bn(pt);var It=this.iterator("table",function(z){return Kn("row",J,function(_t){var Et=c(_t),Bt=Z.aoData;if(null!==Et&&!ot)return[Et];if(rt=rt||Gr(Z,ot),null!==Et&&-1!==v.inArray(Et,rt))return[Et];if(null===_t||_t===s||""===_t)return rt;if("function"==typeof _t)return v.map(rt,function(Qt){var xe=Bt[Qt];return _t(Qt,xe._aData,xe.nTr)?Qt:null});if(_t.nodeName)return Wt=_t._DT_CellIndex,(Et=_t._DT_RowIndex)!==s?Bt[Et]&&Bt[Et].nTr===_t?[Et]:[]:Wt?Bt[Wt.row]&&Bt[Wt.row].nTr===_t.parentNode?[Wt.row]:[]:(Et=v(_t).closest("*[data-dt-row]")).length?[Et.data("dt-row")]:[];if("string"==typeof _t&&"#"===_t.charAt(0)){var Wt=Z.aIds[_t.replace(/^#/,"")];if(Wt!==s)return[Wt.idx]}return Et=X(U(Z.aoData,rt,"nTr")),v(Et).filter(_t).map(function(){return this._DT_RowIndex}).toArray()},Z=z,ot=pt);var Z,ot,rt},1);return It.selector.rows=J,It.selector.opts=pt,It}),E("rows().nodes()",function(){return this.iterator("row",function(J,pt){return J.aoData[pt].nTr||s},1)}),E("rows().data()",function(){return this.iterator(!0,"rows",function(J,pt){return U(J.aoData,pt,"_aData")},1)}),a("rows().cache()","row().cache()",function(J){return this.iterator("row",function(pt,It){return pt=pt.aoData[It],"search"===J?pt._aFilterData:pt._aSortData},1)}),a("rows().invalidate()","row().invalidate()",function(J){return this.iterator("row",function(pt,It){de(pt,It,J)})}),a("rows().indexes()","row().index()",function(){return this.iterator("row",function(J,pt){return pt},1)}),a("rows().ids()","row().id()",function(J){for(var pt=[],It=this.context,z=0,Z=It.length;z<Z;z++)for(var ot=0,rt=this[z].length;ot<rt;ot++){var _t=It[z].rowIdFn(It[z].aoData[this[z][ot]]._aData);pt.push((!0===J?"#":"")+_t)}return new Vn(It,pt)}),a("rows().remove()","row().remove()",function(){var J=this;return this.iterator("row",function(pt,It,z){var Z,ot,rt,_t,Et,Bt,Wt=pt.aoData,Qt=Wt[It];for(Wt.splice(It,1),Z=0,ot=Wt.length;Z<ot;Z++)if(Bt=(Et=Wt[Z]).anCells,null!==Et.nTr&&(Et.nTr._DT_RowIndex=Z),null!==Bt)for(rt=0,_t=Bt.length;rt<_t;rt++)Bt[rt]._DT_CellIndex.row=Z;te(pt.aiDisplayMaster,It),te(pt.aiDisplay,It),te(J[z],It,!1),0<pt._iRecordsDisplay&&pt._iRecordsDisplay--,An(pt),(z=pt.rowIdFn(Qt._aData))!==s&&delete pt.aIds[z]}),this.iterator("table",function(pt){for(var It=0,z=pt.aoData.length;It<z;It++)pt.aoData[It].idx=It}),this}),E("rows.add()",function(J){var pt=this.iterator("table",function(z){for(var Z,ot=[],rt=0,_t=J.length;rt<_t;rt++)(Z=J[rt]).nodeName&&"TR"===Z.nodeName.toUpperCase()?ot.push(dt(z,Z)[0]):ot.push(mt(z,Z));return ot},1),It=this.rows(-1);return It.pop(),v.merge(It,pt),It}),E("row()",function(J,pt){return In(this.rows(J,pt))}),E("row().data()",function(J){var pt,It=this.context;return J===s?It.length&&this.length?It[0].aoData[this[0]]._aData:s:((pt=It[0].aoData[this[0]])._aData=J,Array.isArray(J)&&pt.nTr&&pt.nTr.id&&Ft(It[0].rowId)(J,pt.nTr.id),de(It[0],this[0],"data"),this)}),E("row().node()",function(){var J=this.context;return J.length&&this.length&&J[0].aoData[this[0]].nTr||null}),E("row.add()",function(J){J instanceof v&&J.length&&(J=J[0]);var pt=this.iterator("table",function(It){return J.nodeName&&"TR"===J.nodeName.toUpperCase()?dt(It,J)[0]:mt(It,J)});return this.row(pt[0])}),v(i).on("plugin-init.dt",function(J,pt){var It=new Vn(pt),z="on-plugin-init";const Z="stateSaveParams."+z,ot="destroy."+z;It.on(Z,function(rt,_t,Et){for(var Bt=_t.rowIdFn,Wt=_t.aoData,Qt=[],xe=0;xe<Wt.length;xe++)Wt[xe]._detailsShow&&Qt.push("#"+Bt(Wt[xe]._aData));Et.childRows=Qt}),It.on(ot,function(){It.off(Z+" "+ot)}),(z=It.state.loaded())&&z.childRows&&It.rows(v.map(z.childRows,function(rt){return rt.replace(/:/g,"\\:")})).every(function(){tn(pt,null,"requestChild",[this])})}),h.util.throttle(function(J){je(J[0])},500)),Nr=function(J,pt){var It=J.context;It.length&&(pt=It[0].aoData[pt!==s?pt:J[0]])&&pt._details&&(pt._details.remove(),pt._detailsShow=s,pt._details=s,v(pt.nTr).removeClass("dt-hasChild"),rr(It))},Sr="row().child",Br=Sr+"()",jr=(E(Br,function(J,pt){var It=this.context;return J===s?It.length&&this.length?It[0].aoData[this[0]]._details:s:(!0===J?this.child.show():!1===J?Nr(this):It.length&&this.length&&function Wi(J,pt,It,z){var ot=[];(function Z(rt,_t){var Et;if(Array.isArray(rt)||rt instanceof v)for(var Bt=0,Wt=rt.length;Bt<Wt;Bt++)Z(rt[Bt],_t);else rt.nodeName&&"tr"===rt.nodeName.toLowerCase()?ot.push(rt):(Et=v("<tr><td></td></tr>").addClass(_t),v("td",Et).addClass(_t).html(rt)[0].colSpan=wt(J),ot.push(Et[0]))})(It,z),pt._details&&pt._details.detach(),pt._details=v(ot),pt._detailsShow&&pt._details.insertAfter(pt.nTr)}(It[0],It[0].aoData[this[0]],J,pt),this)}),E([Sr+".show()",Br+".show()"],function(J){return Jn(this,!0),this}),E([Sr+".hide()",Br+".hide()"],function(){return Jn(this,!1),this}),E([Sr+".remove()",Br+".remove()"],function(){return Nr(this),this}),E(Sr+".isShown()",function(){var J=this.context;return J.length&&this.length&&J[0].aoData[this[0]]._detailsShow||!1}),/^([^:]+):(name|visIdx|visible)$/),br=(E("columns()",function(J,pt){J===s?J="":v.isPlainObject(J)&&(pt=J,J=""),pt=Bn(pt);var It=this.iterator("table",function(z){return ot=J,rt=pt,_t=(Z=z).aoColumns,Et=k(_t,"sName"),Bt=k(_t,"nTh"),Kn("column",ot,function(Wt){var Qt,xe=c(Wt);if(""===Wt)return G(_t.length);if(null!==xe)return[0<=xe?xe:_t.length+xe];if("function"==typeof Wt)return Qt=Gr(Z,rt),v.map(_t,function(Ue,Ii){return Wt(Ii,Or(Z,Ii,0,0,Qt),Bt[Ii])?Ii:null});var Me="string"==typeof Wt?Wt.match(jr):"";if(Me)switch(Me[2]){case"visIdx":case"visible":var Xe,Be=parseInt(Me[1],10);return Be<0?[(Xe=v.map(_t,function(Ue,Ii){return Ue.bVisible?Ii:null}))[Xe.length+Be]]:[Y(Z,Be)];case"name":return v.map(Et,function(Ue,Ii){return Ue===Me[1]?Ii:null});default:return[]}return Wt.nodeName&&Wt._DT_CellIndex?[Wt._DT_CellIndex.column]:(xe=v(Bt).filter(Wt).map(function(){return v.inArray(this,Bt)}).toArray()).length||!Wt.nodeName?xe:(xe=v(Wt).closest("*[data-dt-column]")).length?[xe.data("dt-column")]:[]},Z,rt);var Z,ot,rt,_t,Et,Bt},1);return It.selector.cols=J,It.selector.opts=pt,It}),a("columns().header()","column().header()",function(J,pt){return this.iterator("column",function(It,z){return It.aoColumns[z].nTh},1)}),a("columns().footer()","column().footer()",function(J,pt){return this.iterator("column",function(It,z){return It.aoColumns[z].nTf},1)}),a("columns().data()","column().data()",function(){return this.iterator("column-rows",Or,1)}),a("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(J,pt){return J.aoColumns[pt].mData},1)}),a("columns().cache()","column().cache()",function(J){return this.iterator("column-rows",function(pt,It,z,Z,ot){return U(pt.aoData,ot,"search"===J?"_aFilterData":"_aSortData",It)},1)}),a("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(J,pt,It,z,Z){return U(J.aoData,Z,"anCells",pt)},1)}),a("columns().visible()","column().visible()",function(J,pt){var It=this,z=this.iterator("column",function(Z,Bt){if(J===s)return Z.aoColumns[Bt].bVisible;var rt,_t,Et=Bt,Wt=Z.aoColumns,Qt=Wt[Et],xe=Z.aoData;if((Bt=J)===s);else if(Qt.bVisible!==Bt){if(Bt)for(var Me=v.inArray(!0,k(Wt,"bVisible"),Et+1),Xe=0,Be=xe.length;Xe<Be;Xe++)rt=xe[Xe].anCells,(_t=xe[Xe].nTr)&&_t.insertBefore(rt[Et],rt[Me]||null);else v(k(Z.aoData,"anCells",Et)).detach();Qt.bVisible=Bt}});return J!==s&&this.iterator("table",function(Z){me(Z,Z.aoHeader),me(Z,Z.aoFooter),Z.aiDisplay.length||v(Z.nTBody).find("td[colspan]").attr("colspan",wt(Z)),je(Z),It.iterator("column",function(ot,rt){tn(ot,null,"column-visibility",[ot,rt,J,pt])}),pt!==s&&!pt||It.columns.adjust()}),z}),a("columns().indexes()","column().index()",function(J){return this.iterator("column",function(pt,It){return"visible"===J?tt(pt,It):It},1)}),E("columns.adjust()",function(){return this.iterator("table",function(J){ut(J)},1)}),E("column.index()",function(J,pt){var It;if(0!==this.context.length)return It=this.context[0],"fromVisible"===J||"toData"===J?Y(It,pt):"fromData"===J||"toVisible"===J?tt(It,pt):void 0}),E("column()",function(J,pt){return In(this.columns(J,pt))}),E("cells()",function(J,pt,It){var z,Z,ot,rt,_t,Et,Bt;return v.isPlainObject(J)&&(J.row===s?(It=J,J=null):(It=pt,pt=null)),v.isPlainObject(pt)&&(It=pt,pt=null),null===pt||pt===s?this.iterator("table",function(Wt){return Qt=Wt,Wt=J,xe=Bn(It),Yt=Qt.aoData,pe=Gr(Qt,xe),Pe=X(U(Yt,pe,"anCells")),Oe=v(m([],Pe)),ze=Qt.aoColumns.length,Kn("cell",Wt,function(Je){var Re,fi="function"==typeof Je;if(null===Je||Je===s||fi){for(Xe=[],Be=0,Ue=pe.length;Be<Ue;Be++)for(Me=pe[Be],Ii=0;Ii<ze;Ii++)on={row:Me,column:Ii},(!fi||(Tt=Yt[Me],Je(on,Lt(Qt,Me,Ii),Tt.anCells?Tt.anCells[Ii]:null)))&&Xe.push(on);return Xe}return v.isPlainObject(Je)?Je.column!==s&&Je.row!==s&&-1!==v.inArray(Je.row,pe)?[Je]:[]:(Re=Oe.filter(Je).map(function(vi,Vi){return{row:Vi._DT_CellIndex.row,column:Vi._DT_CellIndex.column}}).toArray()).length||!Je.nodeName?Re:(Tt=v(Je).closest("*[data-dt-row]")).length?[{row:Tt.data("dt-row"),column:Tt.data("dt-column")}]:[]},Qt,xe);var Qt,xe,Me,Xe,Be,Ue,Ii,on,Tt,Yt,pe,Pe,Oe,ze}):(z=this.columns(pt,Bt=It?{page:It.page,order:It.order,search:It.search}:{}),Z=this.rows(J,Bt),Bt=this.iterator("table",function(Wt,Qt){var xe=[];for(ot=0,rt=Z[Qt].length;ot<rt;ot++)for(_t=0,Et=z[Qt].length;_t<Et;_t++)xe.push({row:Z[Qt][ot],column:z[Qt][_t]});return xe},1),Bt=It&&It.selected?this.cells(Bt,It):Bt,v.extend(Bt.selector,{cols:pt,rows:J,opts:It}),Bt)}),a("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(J,pt,It){return(J=J.aoData[pt])&&J.anCells?J.anCells[It]:s},1)}),E("cells().data()",function(){return this.iterator("cell",function(J,pt,It){return Lt(J,pt,It)},1)}),a("cells().cache()","cell().cache()",function(J){return J="search"===J?"_aFilterData":"_aSortData",this.iterator("cell",function(pt,It,z){return pt.aoData[It][J][z]},1)}),a("cells().render()","cell().render()",function(J){return this.iterator("cell",function(pt,It,z){return Lt(pt,It,z,J)},1)}),a("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(J,pt,It){return{row:pt,column:It,columnVisible:tt(J,It)}},1)}),a("cells().invalidate()","cell().invalidate()",function(J){return this.iterator("cell",function(pt,It,z){de(pt,It,J,z)})}),E("cell()",function(J,pt,It){return In(this.cells(J,pt,It))}),E("cell().data()",function(J){var pt=this.context,It=this[0];return J===s?pt.length&&It.length?Lt(pt[0],It[0].row,It[0].column):s:(Ct(pt[0],It[0].row,It[0].column,J),de(pt[0],It[0].row,"data",It[0].column),this)}),E("order()",function(J,pt){var It=this.context;return J===s?0!==It.length?It[0].aaSorting:s:("number"==typeof J?J=[[J,pt]]:J.length&&!Array.isArray(J[0])&&(J=Array.prototype.slice.call(arguments)),this.iterator("table",function(z){z.aaSorting=J.slice()}))}),E("order.listener()",function(J,pt,It){return this.iterator("table",function(z){ai(z,J,pt,It)})}),E("order.fixed()",function(J){var pt;return J?this.iterator("table",function(It){It.aaSortingFixed=v.extend(!0,{},J)}):(pt=(pt=this.context).length?pt[0].aaSortingFixed:s,Array.isArray(pt)?{pre:pt}:pt)}),E(["columns().order()","column().order()"],function(J){var pt=this;return this.iterator("table",function(It,z){var Z=[];v.each(pt[z],function(ot,rt){Z.push([rt,J])}),It.aaSorting=Z})}),E("search()",function(J,pt,It,z){var Z=this.context;return J===s?0!==Z.length?Z[0].oPreviousSearch.sSearch:s:this.iterator("table",function(ot){ot.oFeatures.bFilter&&ke(ot,v.extend({},ot.oPreviousSearch,{sSearch:J+"",bRegex:null!==pt&&pt,bSmart:null===It||It,bCaseInsensitive:null===z||z}),1)})}),a("columns().search()","column().search()",function(J,pt,It,z){return this.iterator("column",function(Z,ot){var rt=Z.aoPreSearchCols;if(J===s)return rt[ot].sSearch;Z.oFeatures.bFilter&&(v.extend(rt[ot],{sSearch:J+"",bRegex:null!==pt&&pt,bSmart:null===It||It,bCaseInsensitive:null===z||z}),ke(Z,Z.oPreviousSearch,1))})}),E("state()",function(){return this.context.length?this.context[0].oSavedState:null}),E("state.clear()",function(){return this.iterator("table",function(J){J.fnStateSaveCallback.call(J.oInstance,J,{})})}),E("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),E("state.save()",function(){return this.iterator("table",function(J){je(J)})}),h.versionCheck=h.fnVersionCheck=function(J){for(var pt,It,z=h.version.split("."),Z=J.split("."),ot=0,rt=Z.length;ot<rt;ot++)if((pt=parseInt(z[ot],10)||0)!==(It=parseInt(Z[ot],10)||0))return It<pt;return!0},h.isDataTable=h.fnIsDataTable=function(J){var pt=v(J).get(0),It=!1;return J instanceof h.Api||(v.each(h.settings,function(z,Z){var ot=Z.nScrollHead?v("table",Z.nScrollHead)[0]:null,rt=Z.nScrollFoot?v("table",Z.nScrollFoot)[0]:null;Z.nTable!==pt&&ot!==pt&&rt!==pt||(It=!0)}),It)},h.tables=h.fnTables=function(J){var pt=!1,It=(v.isPlainObject(J)&&(pt=J.api,J=J.visible),v.map(h.settings,function(z){if(!J||v(z.nTable).is(":visible"))return z.nTable}));return pt?new Vn(It):It},h.camelToHungarian=P,E("$()",function(J,pt){return pt=this.rows(pt).nodes(),pt=v(pt),v([].concat(pt.filter(J).toArray(),pt.find(J).toArray()))}),v.each(["on","one","off"],function(J,pt){E(pt+"()",function(){var It=Array.prototype.slice.call(arguments),z=(It[0]=v.map(It[0].split(/\s/),function(Z){return Z.match(/\.dt\b/)?Z:Z+".dt"}).join(" "),v(this.tables().nodes()));return z[pt].apply(z,It),this})}),E("clear()",function(){return this.iterator("table",function(J){ae(J)})}),E("settings()",function(){return new Vn(this.context,this.context)}),E("init()",function(){var J=this.context;return J.length?J[0].oInit:null}),E("data()",function(){return this.iterator("table",function(J){return k(J.aoData,"_aData")}).flatten()}),E("destroy()",function(J){return J=J||!1,this.iterator("table",function(pt){var It,z=pt.oClasses,Z=pt.nTable,rt=pt.nTBody,Bt=pt.nTHead,Et=pt.nTFoot,ot=v(Z),_t=(rt=v(rt),v(pt.nTableWrapper)),Wt=v.map(pt.aoData,function(Qt){return Qt.nTr});pt.bDestroying=!0,tn(pt,"aoDestroyCallback","destroy",[pt]),J||new Vn(pt).columns().visible(!0),_t.off(".DT").find(":not(tbody *)").off(".DT"),v(e).off(".DT-"+pt.sInstance),Z!=Bt.parentNode&&(ot.children("thead").detach(),ot.append(Bt)),Et&&Z!=Et.parentNode&&(ot.children("tfoot").detach(),ot.append(Et)),pt.aaSorting=[],pt.aaSortingFixed=[],ye(pt),v(Wt).removeClass(pt.asStripeClasses.join(" ")),v("th, td",Bt).removeClass(z.sSortable+" "+z.sSortableAsc+" "+z.sSortableDesc+" "+z.sSortableNone),rt.children().detach(),rt.append(Wt),Et=pt.nTableWrapper.parentNode,-1!==(ot[Bt=J?"remove":"detach"](),_t[Bt](),!J&&Et&&(Et.insertBefore(Z,pt.nTableReinsertBefore),ot.css("width",pt.sDestroyWidth).removeClass(z.sTable),It=pt.asDestroyStripes.length)&&rt.children().each(function(Qt){v(this).addClass(pt.asDestroyStripes[Qt%It])}),Wt=v.inArray(pt,h.settings))&&h.settings.splice(Wt,1)})}),v.each(["column","row","cell"],function(J,pt){E(pt+"s().every()",function(It){var z=this.selector.opts,Z=this;return this.iterator(pt,function(ot,rt,_t,Et,Bt){It.call(Z[pt](rt,"cell"===pt?_t:z,"cell"===pt?z:s),rt,_t,Et,Bt)})})}),E("i18n()",function(Z,pt,It){var z=this.context[0];return(Z=Xt(Z)(z.oLanguage))===s&&(Z=pt),(Z=It!==s&&v.isPlainObject(Z)?Z[It]!==s?Z[It]:Z._:Z).replace("%d",It)}),h.version="1.13.1",h.settings=[],h.models={},h.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},h.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},h.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},h.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(J){return J.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(J){try{return JSON.parse((-1===J.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+J.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(J,pt){try{(-1===J.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+J.sInstance+"_"+location.pathname,JSON.stringify(pt))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:v.extend({},h.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},A(h.defaults),h.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},A(h.defaults.column),h.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:s,oAjaxData:s,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==wn(this)?+this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==wn(this)?+this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var J=this._iDisplayLength,pt=this._iDisplayStart,It=pt+J,z=this.aiDisplay.length,Z=this.oFeatures,ot=Z.bPaginate;return Z.bServerSide?!1===ot||-1===J?pt+z:Math.min(pt+J,this._iRecordsDisplay):!ot||z<It||-1===J?z:It},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},h.ext=R={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:h.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:h.version},v.extend(R,{afnFiltering:R.search,aTypes:R.type.detect,ofnSearch:R.type.search,oSort:R.type.order,afnSortData:R.order,aoFeatures:R.feature,oApi:R.internal,oStdClasses:R.classes,oPagination:R.pager}),v.extend(h.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),h.ext.pager);function Zr(J,pt){var It=[],z=br.numbers_length,Z=Math.floor(z/2);return pt<=z?It=G(0,pt):J<=Z?((It=G(0,z-2)).push("ellipsis"),It.push(pt-1)):((pt-1-Z<=J?It=G(pt-(z-2),pt):((It=G(J-Z+2,J+Z-1)).push("ellipsis"),It.push(pt-1),It)).splice(0,0,"ellipsis"),It.splice(0,0,0)),It.DT_el="span",It}function $r(J,pt,It,z){return 0===J||J&&"-"!==J?+(J=(J=pt?n(J,pt):J).replace&&(It&&(J=J.replace(It,"")),z)?J.replace(z,""):J):-1/0}function Mo(J){v.each({num:function(pt){return $r(pt,J)},"num-fmt":function(pt){return $r(pt,J,I)},"html-num":function(pt){return $r(pt,J,x)},"html-num-fmt":function(pt){return $r(pt,J,x,I)}},function(pt,It){R.type.order[pt+J+"-pre"]=It,pt.match(/^html\-/)&&(R.type.search[pt+J]=R.type.search.html)})}function Wr(J){return"string"==typeof(J=Array.isArray(J)?J.join(","):J)?J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):J}function Oo(J,pt,It,z,Z){return e.moment?J[pt](Z):e.luxon?J[It](Z):z?J[z](Z):J}v.extend(br,{simple:function(J,pt){return["previous","next"]},full:function(J,pt){return["first","previous","next","last"]},numbers:function(J,pt){return[Zr(J,pt)]},simple_numbers:function(J,pt){return["previous",Zr(J,pt),"next"]},full_numbers:function(J,pt){return["first","previous",Zr(J,pt),"next","last"]},first_last_numbers:function(J,pt){return["first",Zr(J,pt),"last"]},_numbers:Zr,numbers_length:7}),v.extend(!0,h.ext.renderer,{pageButton:{_:function(J,pt,It,z,Z,ot){var _t,Et,Bt,Wt=J.oClasses,Qt=J.oLanguage.oPaginate,xe=J.oLanguage.oAria.paginate||{};try{Bt=v(pt).find(i.activeElement).data("dt-idx")}catch{}(function rt(Me,Xe){for(var Be,Ue,Ii=Wt.sPageButtonDisabled,on=function(Pe){$i(J,Pe.data.action,!0)},Tt=0,Yt=Xe.length;Tt<Yt;Tt++)if(Be=Xe[Tt],Array.isArray(Be))rt(v("<"+(Be.DT_el||"div")+"/>").appendTo(Me),Be);else{switch(_t=null,Et=Be,Ue=J.iTabIndex,Be){case"ellipsis":Me.append('<span class="ellipsis">&#x2026;</span>');break;case"first":_t=Qt.sFirst,0===Z&&(Ue=-1,Et+=" "+Ii);break;case"previous":_t=Qt.sPrevious,0===Z&&(Ue=-1,Et+=" "+Ii);break;case"next":_t=Qt.sNext,0!==ot&&Z!==ot-1||(Ue=-1,Et+=" "+Ii);break;case"last":_t=Qt.sLast,0!==ot&&Z!==ot-1||(Ue=-1,Et+=" "+Ii);break;default:_t=J.fnFormatNumber(Be+1),Et=Z===Be?Wt.sPageButtonActive:""}null!==_t&&Fi(v("<a>",{class:Wt.sPageButton+" "+Et,"aria-controls":J.sTableId,"aria-label":xe[Be],"data-dt-idx":Be,tabindex:Ue,id:0===It&&"string"==typeof Be?J.sTableId+"_"+Be:null}).html(_t).appendTo(Me),{action:Be},on)}})(v(pt).empty(),z),Bt!==s&&v(pt).find("[data-dt-idx="+Bt+"]").trigger("focus")}}}),v.extend(h.ext.type.detect,[function(J,pt){return S(J,pt=pt.oLanguage.sDecimal)?"num"+pt:null},function(J,pt){var It;return(!J||J instanceof Date||T.test(J))&&(null!==(It=Date.parse(J))&&!isNaN(It)||u(J))?"date":null},function(J,pt){return S(J,pt=pt.oLanguage.sDecimal,!0)?"num-fmt"+pt:null},function(J,pt){return M(J,pt=pt.oLanguage.sDecimal)?"html-num"+pt:null},function(J,pt){return M(J,pt=pt.oLanguage.sDecimal,!0)?"html-num-fmt"+pt:null},function(J,pt){return u(J)||"string"==typeof J&&-1!==J.indexOf("<")?"html":null}]),v.extend(h.ext.type.search,{html:function(J){return u(J)?J:"string"==typeof J?J.replace(p," ").replace(x,""):""},string:function(J){return u(J)||"string"!=typeof J?J:J.replace(p," ")}}),v.extend(R.type.order,{"date-pre":function(J){return J=Date.parse(J),isNaN(J)?-1/0:J},"html-pre":function(J){return u(J)?"":J.replace?J.replace(/<.*?>/g,"").toLowerCase():J+""},"string-pre":function(J){return u(J)?"":"string"==typeof J?J.toLowerCase():J.toString?J.toString():""},"string-asc":function(J,pt){return J<pt?-1:pt<J?1:0},"string-desc":function(J,pt){return J<pt?1:pt<J?-1:0}}),Mo(""),v.extend(!0,h.ext.renderer,{header:{_:function(J,pt,It,z){v(J.nTable).on("order.dt.DT",function(Z,ot,rt,_t){J===ot&&(ot=It.idx,pt.removeClass(z.sSortAsc+" "+z.sSortDesc).addClass("asc"==_t[ot]?z.sSortAsc:"desc"==_t[ot]?z.sSortDesc:It.sSortingClass))})},jqueryui:function(J,pt,It,z){v("<div/>").addClass(z.sSortJUIWrapper).append(pt.contents()).append(v("<span/>").addClass(z.sSortIcon+" "+It.sSortingClassJUI)).appendTo(pt),v(J.nTable).on("order.dt.DT",function(Z,ot,rt,_t){J===ot&&(ot=It.idx,pt.removeClass(z.sSortAsc+" "+z.sSortDesc).addClass("asc"==_t[ot]?z.sSortAsc:"desc"==_t[ot]?z.sSortDesc:It.sSortingClass),pt.find("span."+z.sSortIcon).removeClass(z.sSortJUIAsc+" "+z.sSortJUIDesc+" "+z.sSortJUI+" "+z.sSortJUIAscAllowed+" "+z.sSortJUIDescAllowed).addClass("asc"==_t[ot]?z.sSortJUIAsc:"desc"==_t[ot]?z.sSortJUIDesc:It.sSortingClassJUI))})}}});var qr=!1;function Kr(J,pt,It){var z;if(e.moment){if(!(z=e.moment.utc(J,pt,It,!0)).isValid())return null}else if(e.luxon){if(!(z=pt&&"string"==typeof J?e.luxon.DateTime.fromFormat(J,pt):e.luxon.DateTime.fromISO(J)).isValid)return null;z.setLocale(It)}else pt?(qr||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),qr=!0):z=new Date(J);return z}function ao(J){return function(pt,It,z,Z){0===arguments.length?(z="en",pt=It=null):1===arguments.length?(z="en",It=pt,pt=null):2===arguments.length&&(z=It,It=pt,pt=null);var ot="datetime-"+It;return h.ext.type.order[ot]||(h.ext.type.detect.unshift(function(rt){return rt===ot&&ot}),h.ext.type.order[ot+"-asc"]=function(rt,_t){return(rt=rt.valueOf())===(_t=_t.valueOf())?0:rt<_t?-1:1},h.ext.type.order[ot+"-desc"]=function(rt,_t){return(rt=rt.valueOf())===(_t=_t.valueOf())?0:_t<rt?-1:1}),function(rt,_t){var Et;return null!==rt&&rt!==s||(rt="--now"===Z?(Et=new Date,new Date(Date.UTC(Et.getFullYear(),Et.getMonth(),Et.getDate(),Et.getHours(),Et.getMinutes(),Et.getSeconds()))):""),"type"===_t?ot:""===rt?"sort"!==_t?"":Kr("0000-01-01 00:00:00",null,z):(null===It||pt!==It||"sort"===_t||"type"===_t||rt instanceof Date)&&null!==(Et=Kr(rt,pt,z))?"sort"===_t?Et:(rt=null===It?Oo(Et,"toDate","toJSDate","")[J]():Oo(Et,"format","toFormat","toISOString",It),"display"===_t?Wr(rt):rt):rt}}}var Qr=",",ho=".";if(Intl)try{for(var Io=(new Intl.NumberFormat).formatToParts(100000.1),wo=0;wo<Io.length;wo++)"group"===Io[wo].type?Qr=Io[wo].value:"decimal"===Io[wo].type&&(ho=Io[wo].value)}catch{}function ko(J){return function(){var pt=[Bi(this[h.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return h.ext.internal[J].apply(this,pt)}}return h.datetime=function(J,pt){var It="datetime-detect-"+J;pt=pt||"en",h.ext.type.order[It]||(h.ext.type.detect.unshift(function(z){var Z=Kr(z,J,pt);return!(""!==z&&!Z)&&It}),h.ext.type.order[It+"-pre"]=function(z){return Kr(z,J,pt)||0})},h.render={date:ao("toLocaleDateString"),datetime:ao("toLocaleString"),time:ao("toLocaleTimeString"),number:function(J,pt,It,z,Z){return null!==J&&J!==s||(J=Qr),null!==pt&&pt!==s||(pt=ho),{display:function(ot){if("number"!=typeof ot&&"string"!=typeof ot||""===ot||null===ot)return ot;var rt=ot<0?"-":"",_t=parseFloat(ot);return isNaN(_t)?Wr(ot):(_t=_t.toFixed(It),ot=Math.abs(_t),_t=parseInt(ot,10),ot=It?pt+(ot-_t).toFixed(It).substring(2):"",(rt=0===_t&&0===parseFloat(ot)?"":rt)+(z||"")+_t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,J)+ot+(Z||""))}}},text:function(){return{display:Wr,filter:Wr}}},v.extend(h.ext.internal,{_fnExternApiFunc:ko,_fnBuildAjax:Si,_fnAjaxUpdate:bi,_fnAjaxParameters:ji,_fnAjaxUpdateDraw:ui,_fnAjaxDataSrc:Pi,_fnAddColumn:nt,_fnColumnOptions:yt,_fnAdjustColumnSizing:ut,_fnVisibleToColumnIndex:Y,_fnColumnIndexToVisible:tt,_fnVisbleColumns:wt,_fnGetColumns:St,_fnColumnTypes:At,_fnApplyColumnDefs:ht,_fnHungarianMap:A,_fnCamelToHungarian:P,_fnLanguageCompat:D,_fnBrowserDetect:V,_fnAddData:mt,_fnAddTr:dt,_fnNodeToDataIndex:function(J,pt){return pt._DT_RowIndex!==s?pt._DT_RowIndex:null},_fnNodeToColumnIndex:function(J,pt,It){return v.inArray(It,J.aoData[pt].anCells)},_fnGetCellData:Lt,_fnSetCellData:Ct,_fnSplitObjNotation:Rt,_fnGetObjectDataFn:Xt,_fnSetObjectDataFn:Ft,_fnGetDataMaster:qt,_fnClearTable:ae,_fnDeleteIndex:te,_fnInvalidate:de,_fnGetRowElements:re,_fnCreateTr:Ut,_fnBuildHead:ue,_fnDrawHead:me,_fnDraw:ve,_fnReDraw:le,_fnAddOptionsHtml:We,_fnDetectHeader:$e,_fnGetUniqueThs:Li,_fnFeatureHtmlFilter:Ai,_fnFilterComplete:ke,_fnFilterCustom:di,_fnFilterColumn:lt,_fnFilter:Dt,_fnFilterCreateSearch:Jt,_fnEscapeRegex:he,_fnFilterData:Ci,_fnFeatureHtmlInfo:nn,_fnUpdateInfo:gn,_fnInfoMacros:Hn,_fnInitialise:Gn,_fnInitComplete:Ji,_fnLengthChange:ci,_fnFeatureHtmlLength:mi,_fnFeatureHtmlPaginate:yi,_fnPageChange:$i,_fnFeatureHtmlProcessing:rn,_fnProcessingDisplay:Yi,_fnFeatureHtmlTable:Cn,_fnScrollDraw:Gi,_fnApplyToChildren:Qe,_fnCalculateColumnWidths:it,_fnThrottle:gt,_fnConvertToWidth:Pt,_fnGetWidestNode:jt,_fnGetMaxLenString:Kt,_fnStringToCss:se,_fnSortFlatten:ie,_fnSort:fe,_fnSortAria:He,_fnSortListener:Ge,_fnSortAttachListener:ai,_fnSortingClasses:ye,_fnSortData:ii,_fnSaveState:je,_fnLoadState:wi,_fnImplementState:ei,_fnSettingsFromNode:Bi,_fnLog:Di,_fnMap:si,_fnBindAction:Fi,_fnCallbackReg:xn,_fnCallbackFire:tn,_fnLengthOverflow:An,_fnRenderer:Rn,_fnDataSource:wn,_fnRowAttributes:Vt,_fnExtend:pn,_fnCalculateEnd:function(){}}),((v.fn.dataTable=h).$=v).fn.dataTableSettings=h.settings,v.fn.dataTableExt=h.ext,v.fn.DataTable=function(J){return v(this).dataTable(J).api()},v.each(h,function(J,pt){v.fn.DataTable[J]=pt}),h}),function(v){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return v(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e=e||window,(i=i||(typeof window<"u"?require("jquery"):require("jquery")(e))).fn.dataTable||require("datatables.net")(e,i),v(i,0,e.document)}:v(jQuery,window,document)}(function(v,e,i,s){"use strict";var c,S,M,U,G=v.fn.dataTable;function X(R,E){var a=this;if(S&&S.versionCheck&&S.versionCheck("1.10.0"))return R=new S.Api(R),this.classes=c.extend(!0,{},X.classes),this.c=c.extend(!0,{},X.defaults,E),E&&E.left!==s||this.c.leftColumns===s||(this.c.left=this.c.leftColumns),E&&E.right!==s||this.c.rightColumns===s||(this.c.right=this.c.rightColumns),this.s={barWidth:0,dt:R,rtl:"rtl"===c("body").css("direction")},E={bottom:"0px",display:"block",position:"absolute",width:this.s.barWidth+1+"px"},this.dom={leftBottomBlocker:c("<div>").css(E).css("left",0).addClass(this.classes.leftBottomBlocker),leftTopBlocker:c("<div>").css(E).css({left:0,top:0}).addClass(this.classes.leftTopBlocker),rightBottomBlocker:c("<div>").css(E).css("right",0).addClass(this.classes.rightBottomBlocker),rightTopBlocker:c("<div>").css(E).css({right:0,top:0}).addClass(this.classes.rightTopBlocker)},this.s.dt.settings()[0]._bInitComplete?(this._addStyles(),this._setKeyTableListener()):R.one("init.dt",function(){a._addStyles(),a._setKeyTableListener()}),R.on("column-sizing.dt",function(){return a._addStyles()}),R.settings()[0]._fixedColumns=this;throw new Error("StateRestore requires DataTables 1.10 or newer")}function F(R,E){void 0===E&&(E=null),R=new G.Api(R),E=E||R.init().fixedColumns||G.defaults.fixedColumns,new M(R,E)}return X.prototype.left=function(R){return R!==s&&(this.c.left=R,this._addStyles()),this.c.left},X.prototype.right=function(R){return R!==s&&(this.c.right=R,this._addStyles()),this.c.right},X.prototype._addStyles=function(){this.s.dt.settings()[0].oScroll.sY&&(E=c(this.s.dt.table().node()).closest("div.dataTables_scrollBody")[0],a=this.s.dt.settings()[0].oBrowser.barWidth,this.s.barWidth=E.offsetWidth-E.clientWidth>=a?a:0,this.dom.rightTopBlocker.css("width",this.s.barWidth+1),this.dom.leftTopBlocker.css("width",this.s.barWidth+1),this.dom.rightBottomBlocker.css("width",this.s.barWidth+1),this.dom.leftBottomBlocker.css("width",this.s.barWidth+1));for(var R=null,E=this.s.dt.column(0).header(),a=null,h=(null!==E&&(a=(E=c(E)).outerHeight()+1,R=c(E.closest("div.dataTables_scroll")).css("position","relative")),this.s.dt.column(0).footer()),l=null,p=(null!==h&&(l=(h=c(h)).outerHeight(),null===R)&&(R=c(h.closest("div.dataTables_scroll")).css("position","relative")),this.s.dt.columns().data().toArray().length),x=0,T=0,b=c(this.s.dt.table().node()).children("tbody").children("tr"),I=0,u=new Map,n=0;n<p;n++){var k=this.s.dt.column(n);if(0<n&&u.set(n-1,I),k.visible()){var C=c(k.header()),O=c(k.footer());if(n-I<this.c.left){if(c(this.s.dt.table().node()).addClass(this.classes.tableFixedLeft),R.addClass(this.classes.tableFixedLeft),0<n-I)for(var m=n;m+1<p;){if((yt=this.s.dt.column(m-1,{page:"current"})).visible()){x+=c(yt.nodes()[0]).outerWidth(),T+=yt.header()||yt.footer()?c(yt.header()).outerWidth():0;break}m--}for(var A=0,P=b;A<P.length;A++)c(c(P[A]).children()[n-I]).css(this._getCellCSS(!1,x,"left")).addClass(this.classes.fixedLeft);C.css(this._getCellCSS(!0,T,"left")).addClass(this.classes.fixedLeft),O.css(this._getCellCSS(!0,T,"left")).addClass(this.classes.fixedLeft)}else{for(var f=0,o=b;f<o.length;f++)(St=c(c(o[f]).children()[n-I])).hasClass(this.classes.fixedLeft)&&St.css(this._clearCellCSS("left")).removeClass(this.classes.fixedLeft);C.hasClass(this.classes.fixedLeft)&&C.css(this._clearCellCSS("left")).removeClass(this.classes.fixedLeft),O.hasClass(this.classes.fixedLeft)&&O.css(this._clearCellCSS("left")).removeClass(this.classes.fixedLeft)}}else I++}var B=0,V=0,q=0;for(n=p-1;0<=n;n--)if((k=this.s.dt.column(n)).visible()){C=c(k.header()),O=c(k.footer());var nt=u.get(n);if(nt===s&&(nt=I),n+q>=p-this.c.right){var yt;if(c(this.s.dt.table().node()).addClass(this.classes.tableFixedRight),R.addClass(this.classes.tableFixedRight),n+1+q<p)for(m=n;m+1<p;){if((yt=this.s.dt.column(m+1,{page:"current"})).visible()){B+=c(yt.nodes()[0]).outerWidth(),V+=yt.header()||yt.footer()?c(yt.header()).outerWidth():0;break}m++}for(var ut=0,Y=b;ut<Y.length;ut++)c(c(Y[ut]).children()[n-nt]).css(this._getCellCSS(!1,B,"right")).addClass(this.classes.fixedRight);C.css(this._getCellCSS(!0,V,"right")).addClass(this.classes.fixedRight),O.css(this._getCellCSS(!0,V,"right")).addClass(this.classes.fixedRight)}else{for(var tt=0,wt=b;tt<wt.length;tt++){var St;(St=c(c(wt[tt]).children()[n-nt])).hasClass(this.classes.fixedRight)&&St.css(this._clearCellCSS("right")).removeClass(this.classes.fixedRight)}C.hasClass(this.classes.fixedRight)&&C.css(this._clearCellCSS("right")).removeClass(this.classes.fixedRight),O.hasClass(this.classes.fixedRight)&&O.css(this._clearCellCSS("right")).removeClass(this.classes.fixedRight)}}else q++;E&&(this.s.rtl?(this.dom.leftTopBlocker.outerHeight(a),R.append(this.dom.leftTopBlocker)):(this.dom.rightTopBlocker.outerHeight(a),R.append(this.dom.rightTopBlocker))),h&&(this.s.rtl?(this.dom.leftBottomBlocker.outerHeight(l),R.append(this.dom.leftBottomBlocker)):(this.dom.rightBottomBlocker.outerHeight(l),R.append(this.dom.rightBottomBlocker)))},X.prototype._getCellCSS=function(R,E,a){return"left"===a?this.s.rtl?{position:"sticky",right:E+"px"}:{left:E+"px",position:"sticky"}:this.s.rtl?{left:E+(R?this.s.barWidth:0)+"px",position:"sticky"}:{position:"sticky",right:E+(R?this.s.barWidth:0)+"px"}},X.prototype._clearCellCSS=function(R){return"left"===R?this.s.rtl?{position:"",right:""}:{left:"",position:""}:this.s.rtl?{left:"",position:""}:{position:"",right:""}},X.prototype._setKeyTableListener=function(){var R=this;this.s.dt.on("key-focus",function(E,a,h){var l,p,x,T=c(h.node()).offset(),b=c(c(R.s.dt.table().node()).closest("div.dataTables_scrollBody"));0<R.c.left&&(l=(p=c(R.s.dt.column(R.c.left-1).header())).offset(),p=p.outerWidth(),T.left<l.left+p)&&(x=b.scrollLeft(),b.scrollLeft(x-(l.left+p-T.left))),0<R.c.right&&(l=R.s.dt.columns().data().toArray().length,p=c(h.node()).outerWidth(),h=c(R.s.dt.column(l-R.c.right).header()).offset(),T.left+p>h.left)&&(x=b.scrollLeft(),b.scrollLeft(x-(h.left-(T.left+p))))}),this.s.dt.on("draw",function(){R._addStyles()}),this.s.dt.on("column-reorder",function(){R._addStyles()}),this.s.dt.on("column-visibility",function(E,a,h,l,p){p&&!a.bDestroying&&setTimeout(function(){R._addStyles()},50)})},X.version="4.2.1",X.classes={fixedLeft:"dtfc-fixed-left",fixedRight:"dtfc-fixed-right",leftBottomBlocker:"dtfc-left-bottom-blocker",leftTopBlocker:"dtfc-left-top-blocker",rightBottomBlocker:"dtfc-right-bottom-blocker",rightTopBlocker:"dtfc-right-top-blocker",tableFixedLeft:"dtfc-has-left",tableFixedRight:"dtfc-has-right"},X.defaults={i18n:{button:"FixedColumns"},left:1,right:0},S=(c=v).fn.dataTable,v.fn.dataTable.FixedColumns=M=X,v.fn.DataTable.FixedColumns=M,(U=G.Api.register)("fixedColumns()",function(){return this}),U("fixedColumns().left()",function(R){var E=this.context[0];return R!==s?(E._fixedColumns.left(R),this):E._fixedColumns.left()}),U("fixedColumns().right()",function(R){var E=this.context[0];return R!==s?(E._fixedColumns.right(R),this):E._fixedColumns.right()}),G.ext.buttons.fixedColumns={action:function(R,E,a,h){v(a).attr("active")?(v(a).removeAttr("active").removeClass("active"),E.fixedColumns().left(0),E.fixedColumns().right(0)):(v(a).attr("active","true").addClass("active"),E.fixedColumns().left(h.config.left),E.fixedColumns().right(h.config.right))},config:{left:1,right:0},init:function(R,E,a){R.settings()[0]._fixedColumns===s&&F(R.settings(),a),v(E).attr("active","true").addClass("active"),R.button(E).text(a.text||R.i18n("buttons.fixedColumns",R.settings()[0]._fixedColumns.c.i18n.button))},text:null},v(i).on("plugin-init.dt",function(R,E){"dt"!==R.namespace||!E.oInit.fixedColumns&&!G.defaults.fixedColumns||E._fixedColumns||F(E,null)}),G});