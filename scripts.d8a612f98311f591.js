function _createForOfIteratorHelper(xt,Pt){var j;if(typeof Symbol>"u"||null==xt[Symbol.iterator]){if(Array.isArray(xt)||(j=_unsupportedIterableToArray(xt))||Pt&&xt&&"number"==typeof xt.length){j&&(xt=j);var ot=0,nt=function(){};return{s:nt,n:function(){return ot>=xt.length?{done:!0}:{done:!1,value:xt[ot++]}},e:function(Ot){throw Ot},f:nt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Rt,Ct=!0,zt=!1;return{s:function(){j=xt[Symbol.iterator]()},n:function(){var Ot=j.next();return Ct=Ot.done,Ot},e:function(Ot){zt=!0,Rt=Ot},f:function(){try{!Ct&&null!=j.return&&j.return()}finally{if(zt)throw Rt}}}}function _unsupportedIterableToArray(xt,Pt){if(xt){if("string"==typeof xt)return _arrayLikeToArray(xt,Pt);var j=Object.prototype.toString.call(xt).slice(8,-1);if("Object"===j&&xt.constructor&&(j=xt.constructor.name),"Map"===j||"Set"===j)return Array.from(xt);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return _arrayLikeToArray(xt,Pt)}}function _arrayLikeToArray(xt,Pt){(null==Pt||Pt>xt.length)&&(Pt=xt.length);for(var j=0,ot=new Array(Pt);j<Pt;j++)ot[j]=xt[j];return ot}!function(xt,Pt){"object"==typeof exports&&typeof module<"u"?module.exports=Pt():"function"==typeof define&&define.amd?define(Pt):(xt=typeof globalThis<"u"?globalThis:xt||self).bootstrap=Pt()}(this,function(){"use strict";const xt="transitionend",Pt=At=>{let _=At.getAttribute("data-bs-target");if(!_||"#"===_){let it=At.getAttribute("href");if(!it||!it.includes("#")&&!it.startsWith("."))return null;it.includes("#")&&!it.startsWith("#")&&(it=`#${it.split("#")[1]}`),_=it&&"#"!==it?it.trim():null}return _},j=At=>{const _=Pt(At);return _&&document.querySelector(_)?_:null},ot=At=>{const _=Pt(At);return _?document.querySelector(_):null},nt=At=>{At.dispatchEvent(new Event(xt))},Ct=At=>!(!At||"object"!=typeof At)&&(void 0!==At.jquery&&(At=At[0]),void 0!==At.nodeType),zt=At=>Ct(At)?At.jquery?At[0]:At:"string"==typeof At&&At.length>0?document.querySelector(At):null,Rt=At=>{if(!Ct(At)||0===At.getClientRects().length)return!1;const _="visible"===getComputedStyle(At).getPropertyValue("visibility"),it=At.closest("details:not([open])");if(!it)return _;if(it!==At){const Xt=At.closest("summary");if(Xt&&Xt.parentNode!==it||null===Xt)return!1}return _},Dt=At=>!At||At.nodeType!==Node.ELEMENT_NODE||!!At.classList.contains("disabled")||(void 0!==At.disabled?At.disabled:At.hasAttribute("disabled")&&"false"!==At.getAttribute("disabled")),Ot=At=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof At.getRootNode){const _=At.getRootNode();return _ instanceof ShadowRoot?_:null}return At instanceof ShadowRoot?At:At.parentNode?Ot(At.parentNode):null},J=()=>{},at=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,F=[],R=()=>"rtl"===document.documentElement.dir,$=At=>{var _;_=()=>{const it=at();if(it){const Xt=At.NAME,Pe=it.fn[Xt];it.fn[Xt]=At.jQueryInterface,it.fn[Xt].Constructor=At,it.fn[Xt].noConflict=()=>(it.fn[Xt]=Pe,At.jQueryInterface)}},"loading"===document.readyState?(F.length||document.addEventListener("DOMContentLoaded",()=>{for(const it of F)it()}),F.push(_)):_()},O=At=>{"function"==typeof At&&At()},V=(At,_,it=!0)=>{if(!it)return void O(At);const Xt=(Re=>{if(!Re)return 0;let{transitionDuration:ci,transitionDelay:wi}=window.getComputedStyle(Re);const Oi=Number.parseFloat(ci),fi=Number.parseFloat(wi);return Oi||fi?(ci=ci.split(",")[0],wi=wi.split(",")[0],1e3*(Number.parseFloat(ci)+Number.parseFloat(wi))):0})(_)+5;let Pe=!1;const Le=({target:Re})=>{Re===_&&(Pe=!0,_.removeEventListener(xt,Le),O(At))};_.addEventListener(xt,Le),setTimeout(()=>{Pe||nt(_)},Xt)},Y=(At,_,it,Xt)=>{const Pe=At.length;let Le=At.indexOf(_);return-1===Le?!it&&Xt?At[Pe-1]:At[0]:(Le+=it?1:-1,Xt&&(Le=(Le+Pe)%Pe),At[Math.max(0,Math.min(Le,Pe-1))])},K=/[^.]*(?=\..*)\.|.*/,dt=/\..*/,g=/::\d+$/,h={};let rt=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},G=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function A(At,_){return _&&`${_}::${rt++}`||At.uidEvent||rt++}function D(At){const _=A(At);return At.uidEvent=_,h[_]=h[_]||{},h[_]}function b(At,_,it=null){return Object.values(At).find(Xt=>Xt.callable===_&&Xt.delegationSelector===it)}function W(At,_,it){const Xt="string"==typeof _,Pe=Xt?it:_||it;let Le=I(At);return G.has(Le)||(Le=At),[Xt,Pe,Le]}function k(At,_,it,Xt,Pe){if("string"!=typeof _||!At)return;let[Le,Re,ci]=W(_,it,Xt);var Cn;_ in T&&(Cn=Re,Re=function(Mn){if(!Mn.relatedTarget||Mn.relatedTarget!==Mn.delegateTarget&&!Mn.delegateTarget.contains(Mn.relatedTarget))return Cn.call(this,Mn)});const wi=D(At),Oi=wi[ci]||(wi[ci]={}),fi=b(Oi,Re,Le?it:null);if(fi)return void(fi.oneOff=fi.oneOff&&Pe);const Si=A(Re,_.replace(K,"")),vn=Le?function(pn,Cn,Mn){return function Zn(Rr){const Ar=pn.querySelectorAll(Cn);for(let{target:Xn}=Rr;Xn&&Xn!==this;Xn=Xn.parentNode)for(const er of Ar)if(er===Xn)return vt(Rr,{delegateTarget:Xn}),Zn.oneOff&&B.off(pn,Rr.type,Cn,Mn),Mn.apply(Xn,[Rr])}}(At,it,Re):function(pn,Cn){return function Mn(Zn){return vt(Zn,{delegateTarget:pn}),Mn.oneOff&&B.off(pn,Zn.type,Cn),Cn.apply(pn,[Zn])}}(At,Re);vn.delegationSelector=Le?it:null,vn.callable=Re,vn.oneOff=Pe,vn.uidEvent=Si,Oi[Si]=vn,At.addEventListener(ci,vn,Le)}function P(At,_,it,Xt,Pe){const Le=b(_[it],Xt,Pe);Le&&(At.removeEventListener(it,Le,Boolean(Pe)),delete _[it][Le.uidEvent])}function Q(At,_,it,Xt){const Pe=_[it]||{};for(const Le of Object.keys(Pe))if(Le.includes(Xt)){const Re=Pe[Le];P(At,_,it,Re.callable,Re.delegationSelector)}}function I(At){return At=At.replace(dt,""),T[At]||At}const B={on(At,_,it,Xt){k(At,_,it,Xt,!1)},one(At,_,it,Xt){k(At,_,it,Xt,!0)},off(At,_,it,Xt){if("string"!=typeof _||!At)return;const[Pe,Le,Re]=W(_,it,Xt),ci=Re!==_,wi=D(At),Oi=wi[Re]||{},fi=_.startsWith(".");if(void 0===Le){if(fi)for(const Si of Object.keys(wi))Q(At,wi,Si,_.slice(1));for(const Si of Object.keys(Oi)){const vn=Si.replace(g,"");if(!ci||_.includes(vn)){const pn=Oi[Si];P(At,wi,Re,pn.callable,pn.delegationSelector)}}}else{if(!Object.keys(Oi).length)return;P(At,wi,Re,Le,Pe?it:null)}},trigger(At,_,it){if("string"!=typeof _||!At)return null;const Xt=at();let Pe=null,Le=!0,Re=!0,ci=!1;_!==I(_)&&Xt&&(Pe=Xt.Event(_,it),Xt(At).trigger(Pe),Le=!Pe.isPropagationStopped(),Re=!Pe.isImmediatePropagationStopped(),ci=Pe.isDefaultPrevented());let wi=new Event(_,{bubbles:Le,cancelable:!0});return wi=vt(wi,it),ci&&wi.preventDefault(),Re&&At.dispatchEvent(wi),wi.defaultPrevented&&Pe&&Pe.preventDefault(),wi}};function vt(At,_){for(const[it,Xt]of Object.entries(_||{}))try{At[it]=Xt}catch{Object.defineProperty(At,it,{configurable:!0,get:()=>Xt})}return At}const Ut=new Map,It={set(At,_,it){Ut.has(At)||Ut.set(At,new Map);const Xt=Ut.get(At);Xt.has(_)||0===Xt.size?Xt.set(_,it):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Xt.keys())[0]}.`)},get:(At,_)=>Ut.has(At)&&Ut.get(At).get(_)||null,remove(At,_){if(!Ut.has(At))return;const it=Ut.get(At);it.delete(_),0===it.size&&Ut.delete(At)}};function E(At){if("true"===At)return!0;if("false"===At)return!1;if(At===Number(At).toString())return Number(At);if(""===At||"null"===At)return null;if("string"!=typeof At)return At;try{return JSON.parse(decodeURIComponent(At))}catch{return At}}function U(At){return At.replace(/[A-Z]/g,_=>`-${_.toLowerCase()}`)}const mt={setDataAttribute(At,_,it){At.setAttribute(`data-bs-${U(_)}`,it)},removeDataAttribute(At,_){At.removeAttribute(`data-bs-${U(_)}`)},getDataAttributes(At){if(!At)return{};const _={},it=Object.keys(At.dataset).filter(Xt=>Xt.startsWith("bs")&&!Xt.startsWith("bsConfig"));for(const Xt of it){let Pe=Xt.replace(/^bs/,"");Pe=Pe.charAt(0).toLowerCase()+Pe.slice(1,Pe.length),_[Pe]=E(At.dataset[Xt])}return _},getDataAttribute:(At,_)=>E(At.getAttribute(`data-bs-${U(_)}`))};class ct{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(_){return _=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _}_mergeConfigObj(_,it){const Xt=Ct(it)?mt.getDataAttribute(it,"config"):{};return{...this.constructor.Default,..."object"==typeof Xt?Xt:{},...Ct(it)?mt.getDataAttributes(it):{},..."object"==typeof _?_:{}}}_typeCheckConfig(_,it=this.constructor.DefaultType){for(const Pe of Object.keys(it)){const Le=it[Pe],Re=_[Pe],ci=Ct(Re)?"element":null==(Xt=Re)?`${Xt}`:Object.prototype.toString.call(Xt).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Le).test(ci))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Pe}" provided type "${ci}" but expected type "${Le}".`)}var Xt}}class ft extends ct{constructor(_,it){super(),(_=zt(_))&&(this._element=_,this._config=this._getConfig(it),It.set(this._element,this.constructor.DATA_KEY,this))}dispose(){It.remove(this._element,this.constructor.DATA_KEY),B.off(this._element,this.constructor.EVENT_KEY);for(const _ of Object.getOwnPropertyNames(this))this[_]=null}_queueCallback(_,it,Xt=!0){V(_,it,Xt)}_getConfig(_){return _=this._mergeConfigObj(_,this._element),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}static getInstance(_){return It.get(zt(_),this.DATA_KEY)}static getOrCreateInstance(_,it={}){return this.getInstance(_)||new this(_,"object"==typeof it?it:null)}static get VERSION(){return"5.2.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(_){return`${_}${this.EVENT_KEY}`}}const M=(At,_="hide")=>{const Xt=At.NAME;B.on(document,`click.dismiss${At.EVENT_KEY}`,`[data-bs-dismiss="${Xt}"]`,function(Pe){if(["A","AREA"].includes(this.tagName)&&Pe.preventDefault(),Dt(this))return;const Le=ot(this)||this.closest(`.${Xt}`);At.getOrCreateInstance(Le)[_]()})};class tt extends ft{static get NAME(){return"alert"}close(){if(B.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const _=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,_)}_destroyElement(){this._element.remove(),B.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(_){return this.each(function(){const it=tt.getOrCreateInstance(this);if("string"==typeof _){if(void 0===it[_]||_.startsWith("_")||"constructor"===_)throw new TypeError(`No method named "${_}"`);it[_](this)}})}}M(tt,"close"),$(tt);const X='[data-bs-toggle="button"]';class St extends ft{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(_){return this.each(function(){const it=St.getOrCreateInstance(this);"toggle"===_&&it[_]()})}}B.on(document,"click.bs.button.data-api",X,At=>{At.preventDefault();const _=At.target.closest(X);St.getOrCreateInstance(_).toggle()}),$(St);const yt={find:(At,_=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(_,At)),findOne:(At,_=document.documentElement)=>Element.prototype.querySelector.call(_,At),children:(At,_)=>[].concat(...At.children).filter(it=>it.matches(_)),parents(At,_){const it=[];let Xt=At.parentNode.closest(_);for(;Xt;)it.push(Xt),Xt=Xt.parentNode.closest(_);return it},prev(At,_){let it=At.previousElementSibling;for(;it;){if(it.matches(_))return[it];it=it.previousElementSibling}return[]},next(At,_){let it=At.nextElementSibling;for(;it;){if(it.matches(_))return[it];it=it.nextElementSibling}return[]},focusableChildren(At){const _=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(it=>`${it}:not([tabindex^="-"])`).join(",");return this.find(_,At).filter(it=>!Dt(it)&&Rt(it))}},jt={endCallback:null,leftCallback:null,rightCallback:null},kt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ie extends ct{constructor(_,it){super(),this._element=_,_&&ie.isSupported()&&(this._config=this._getConfig(it),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return jt}static get DefaultType(){return kt}static get NAME(){return"swipe"}dispose(){B.off(this._element,".bs.swipe")}_start(_){this._supportPointerEvents?this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX):this._deltaX=_.touches[0].clientX}_end(_){this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX-this._deltaX),this._handleSwipe(),O(this._config.endCallback)}_move(_){this._deltaX=_.touches&&_.touches.length>1?0:_.touches[0].clientX-this._deltaX}_handleSwipe(){const _=Math.abs(this._deltaX);if(_<=40)return;const it=_/this._deltaX;this._deltaX=0,it&&O(it>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(B.on(this._element,"pointerdown.bs.swipe",_=>this._start(_)),B.on(this._element,"pointerup.bs.swipe",_=>this._end(_)),this._element.classList.add("pointer-event")):(B.on(this._element,"touchstart.bs.swipe",_=>this._start(_)),B.on(this._element,"touchmove.bs.swipe",_=>this._move(_)),B.on(this._element,"touchend.bs.swipe",_=>this._end(_)))}_eventIsPointerPenTouch(_){return this._supportPointerEvents&&("pen"===_.pointerType||"touch"===_.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const pe="next",Fe="prev",je="left",Ce="right",$t="slid.bs.carousel",de="carousel",Qt="active",Et={ArrowLeft:Ce,ArrowRight:je},Lt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ne={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class re extends ft{constructor(_,it){super(_,it),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=yt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===de&&this.cycle()}static get Default(){return Lt}static get DefaultType(){return ne}static get NAME(){return"carousel"}next(){this._slide(pe)}nextWhenVisible(){!document.hidden&&Rt(this._element)&&this.next()}prev(){this._slide(Fe)}pause(){this._isSliding&&nt(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?B.one(this._element,$t,()=>this.cycle()):this.cycle())}to(_){const it=this._getItems();if(_>it.length-1||_<0)return;if(this._isSliding)return void B.one(this._element,$t,()=>this.to(_));const Xt=this._getItemIndex(this._getActive());Xt!==_&&this._slide(_>Xt?pe:Fe,it[_])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(_){return _.defaultInterval=_.interval,_}_addEventListeners(){this._config.keyboard&&B.on(this._element,"keydown.bs.carousel",_=>this._keydown(_)),"hover"===this._config.pause&&(B.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),B.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&ie.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const it of yt.find(".carousel-item img",this._element))B.on(it,"dragstart.bs.carousel",Xt=>Xt.preventDefault());this._swipeHelper=new ie(this._element,{leftCallback:()=>this._slide(this._directionToOrder(je)),rightCallback:()=>this._slide(this._directionToOrder(Ce)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(_){if(/input|textarea/i.test(_.target.tagName))return;const it=Et[_.key];it&&(_.preventDefault(),this._slide(this._directionToOrder(it)))}_getItemIndex(_){return this._getItems().indexOf(_)}_setActiveIndicatorElement(_){if(!this._indicatorsElement)return;const it=yt.findOne(".active",this._indicatorsElement);it.classList.remove(Qt),it.removeAttribute("aria-current");const Xt=yt.findOne(`[data-bs-slide-to="${_}"]`,this._indicatorsElement);Xt&&(Xt.classList.add(Qt),Xt.setAttribute("aria-current","true"))}_updateInterval(){const _=this._activeElement||this._getActive();if(!_)return;const it=Number.parseInt(_.getAttribute("data-bs-interval"),10);this._config.interval=it||this._config.defaultInterval}_slide(_,it=null){if(this._isSliding)return;const Xt=this._getActive(),Pe=_===pe,Le=it||Y(this._getItems(),Xt,Pe,this._config.wrap);if(Le===Xt)return;const Re=this._getItemIndex(Le),ci=Si=>B.trigger(this._element,Si,{relatedTarget:Le,direction:this._orderToDirection(_),from:this._getItemIndex(Xt),to:Re});if(ci("slide.bs.carousel").defaultPrevented||!Xt||!Le)return;const wi=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Re),this._activeElement=Le;const Oi=Pe?"carousel-item-start":"carousel-item-end",fi=Pe?"carousel-item-next":"carousel-item-prev";Le.classList.add(fi),Xt.classList.add(Oi),Le.classList.add(Oi),this._queueCallback(()=>{Le.classList.remove(Oi,fi),Le.classList.add(Qt),Xt.classList.remove(Qt,fi,Oi),this._isSliding=!1,ci($t)},Xt,this._isAnimated()),wi&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return yt.findOne(".active.carousel-item",this._element)}_getItems(){return yt.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(_){return R()?_===je?Fe:pe:_===je?pe:Fe}_orderToDirection(_){return R()?_===Fe?je:Ce:_===Fe?Ce:je}static jQueryInterface(_){return this.each(function(){const it=re.getOrCreateInstance(this,_);if("number"!=typeof _){if("string"==typeof _){if(void 0===it[_]||_.startsWith("_")||"constructor"===_)throw new TypeError(`No method named "${_}"`);it[_]()}}else it.to(_)})}}B.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(At){const _=ot(this);if(!_||!_.classList.contains(de))return;At.preventDefault();const it=re.getOrCreateInstance(_),Xt=this.getAttribute("data-bs-slide-to");return Xt?(it.to(Xt),void it._maybeEnableCycle()):"next"===mt.getDataAttribute(this,"slide")?(it.next(),void it._maybeEnableCycle()):(it.prev(),void it._maybeEnableCycle())}),B.on(window,"load.bs.carousel.data-api",()=>{const At=yt.find('[data-bs-ride="carousel"]');for(const _ of At)re.getOrCreateInstance(_)}),$(re);const le="show",ee="collapse",Ue="collapsing",Ke='[data-bs-toggle="collapse"]',Ii={parent:null,toggle:!0},ai={parent:"(null|element)",toggle:"boolean"};class li extends ft{constructor(_,it){super(_,it),this._isTransitioning=!1,this._triggerArray=[];const Xt=yt.find(Ke);for(const Pe of Xt){const Le=j(Pe),Re=yt.find(Le).filter(ci=>ci===this._element);null!==Le&&Re.length&&this._triggerArray.push(Pe)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ii}static get DefaultType(){return ai}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Pe=>Pe!==this._element).map(Pe=>li.getOrCreateInstance(Pe,{toggle:!1}))),_.length&&_[0]._isTransitioning||B.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const Pe of _)Pe.hide();const it=this._getDimension();this._element.classList.remove(ee),this._element.classList.add(Ue),this._element.style[it]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Xt=`scroll${it[0].toUpperCase()+it.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ue),this._element.classList.add(ee,le),this._element.style[it]="",B.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[it]=`${this._element[Xt]}px`}hide(){if(this._isTransitioning||!this._isShown()||B.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const _=this._getDimension();this._element.style[_]=`${this._element.getBoundingClientRect()[_]}px`,this._element.classList.add(Ue),this._element.classList.remove(ee,le);for(const it of this._triggerArray){const Xt=ot(it);Xt&&!this._isShown(Xt)&&this._addAriaAndCollapsedClass([it],!1)}this._isTransitioning=!0,this._element.style[_]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ue),this._element.classList.add(ee),B.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(_=this._element){return _.classList.contains(le)}_configAfterMerge(_){return _.toggle=Boolean(_.toggle),_.parent=zt(_.parent),_}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const _=this._getFirstLevelChildren(Ke);for(const it of _){const Xt=ot(it);Xt&&this._addAriaAndCollapsedClass([it],this._isShown(Xt))}}_getFirstLevelChildren(_){const it=yt.find(":scope .collapse .collapse",this._config.parent);return yt.find(_,this._config.parent).filter(Xt=>!it.includes(Xt))}_addAriaAndCollapsedClass(_,it){if(_.length)for(const Xt of _)Xt.classList.toggle("collapsed",!it),Xt.setAttribute("aria-expanded",it)}static jQueryInterface(_){const it={};return"string"==typeof _&&/show|hide/.test(_)&&(it.toggle=!1),this.each(function(){const Xt=li.getOrCreateInstance(this,it);if("string"==typeof _){if(void 0===Xt[_])throw new TypeError(`No method named "${_}"`);Xt[_]()}})}}B.on(document,"click.bs.collapse.data-api",Ke,function(At){("A"===At.target.tagName||At.delegateTarget&&"A"===At.delegateTarget.tagName)&&At.preventDefault();const _=j(this),it=yt.find(_);for(const Xt of it)li.getOrCreateInstance(Xt,{toggle:!1}).toggle()}),$(li);var Pi="top",hi="bottom",Di="right",bi="left",On="auto",jn=[Pi,hi,Di,bi],x="start",H="end",wt="clippingParents",Gt="viewport",se="popper",Me="reference",ii=jn.reduce(function(At,_){return At.concat([_+"-"+x,_+"-"+H])},[]),ki=[].concat(jn,[On]).reduce(function(At,_){return At.concat([_,_+"-"+x,_+"-"+H])},[]),Ni="beforeRead",hr="afterRead",xr="beforeMain",eo="afterMain",Br="beforeWrite",Yn="afterWrite",So=[Ni,"read",hr,xr,"main",eo,Br,"write",Yn];function jr(At){return At?(At.nodeName||"").toLowerCase():null}function Or(At){if(null==At)return window;if("[object Window]"!==At.toString()){var _=At.ownerDocument;return _&&_.defaultView||window}return At}function Ro(At){return At instanceof Or(At).Element||At instanceof Element}function rn(At){return At instanceof Or(At).HTMLElement||At instanceof HTMLElement}function An(At){return typeof ShadowRoot<"u"&&(At instanceof Or(At).ShadowRoot||At instanceof ShadowRoot)}const gt={name:"applyStyles",enabled:!0,phase:"write",fn:function(At){var _=At.state;Object.keys(_.elements).forEach(function(it){var Xt=_.styles[it]||{},Pe=_.attributes[it]||{},Le=_.elements[it];rn(Le)&&jr(Le)&&(Object.assign(Le.style,Xt),Object.keys(Pe).forEach(function(Re){var ci=Pe[Re];!1===ci?Le.removeAttribute(Re):Le.setAttribute(Re,!0===ci?"":ci)}))})},effect:function(At){var _=At.state,it={popper:{position:_.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_.elements.popper.style,it.popper),_.styles=it,_.elements.arrow&&Object.assign(_.elements.arrow.style,it.arrow),function(){Object.keys(_.elements).forEach(function(Xt){var Pe=_.elements[Xt],Le=_.attributes[Xt]||{},Re=Object.keys(_.styles.hasOwnProperty(Xt)?_.styles[Xt]:it[Xt]).reduce(function(ci,wi){return ci[wi]="",ci},{});rn(Pe)&&jr(Pe)&&(Object.assign(Pe.style,Re),Object.keys(Le).forEach(function(ci){Pe.removeAttribute(ci)}))})}},requires:["computeStyles"]};function Mt(At){return At.split("-")[0]}var Ft=Math.max,Yt=Math.min,oe=Math.round;function ge(){var At=navigator.userAgentData;return null!=At&&At.brands?At.brands.map(function(_){return _.brand+"/"+_.version}).join(" "):navigator.userAgent}function Te(){return!/^((?!chrome|android).)*safari/i.test(ge())}function qt(At,_,it){void 0===_&&(_=!1),void 0===it&&(it=!1);var Xt=At.getBoundingClientRect(),Pe=1,Le=1;_&&rn(At)&&(Pe=At.offsetWidth>0&&oe(Xt.width)/At.offsetWidth||1,Le=At.offsetHeight>0&&oe(Xt.height)/At.offsetHeight||1);var Re=(Ro(At)?Or(At):window).visualViewport,ci=!Te()&&it,wi=(Xt.left+(ci&&Re?Re.offsetLeft:0))/Pe,Oi=(Xt.top+(ci&&Re?Re.offsetTop:0))/Le,fi=Xt.width/Pe,Si=Xt.height/Le;return{width:fi,height:Si,top:Oi,right:wi+fi,bottom:Oi+Si,left:wi,x:wi,y:Oi}}function fe(At){var _=qt(At),it=At.offsetWidth,Xt=At.offsetHeight;return Math.abs(_.width-it)<=1&&(it=_.width),Math.abs(_.height-Xt)<=1&&(Xt=_.height),{x:At.offsetLeft,y:At.offsetTop,width:it,height:Xt}}function Oe(At,_){var it=_.getRootNode&&_.getRootNode();if(At.contains(_))return!0;if(it&&An(it)){var Xt=_;do{if(Xt&&At.isSameNode(Xt))return!0;Xt=Xt.parentNode||Xt.host}while(Xt)}return!1}function ei(At){return Or(At).getComputedStyle(At)}function pi(At){return["table","td","th"].indexOf(jr(At))>=0}function He(At){return((Ro(At)?At.ownerDocument:At.document)||window.document).documentElement}function qe(At){return"html"===jr(At)?At:At.assignedSlot||At.parentNode||(An(At)?At.host:null)||He(At)}function Ri(At){return rn(At)&&"fixed"!==ei(At).position?At.offsetParent:null}function mi(At){for(var _=Or(At),it=Ri(At);it&&pi(it)&&"static"===ei(it).position;)it=Ri(it);return it&&("html"===jr(it)||"body"===jr(it)&&"static"===ei(it).position)?_:it||function(Xt){var Pe=/firefox/i.test(ge());if(/Trident/i.test(ge())&&rn(Xt)&&"fixed"===ei(Xt).position)return null;var Le=qe(Xt);for(An(Le)&&(Le=Le.host);rn(Le)&&["html","body"].indexOf(jr(Le))<0;){var Re=ei(Le);if("none"!==Re.transform||"none"!==Re.perspective||"paint"===Re.contain||-1!==["transform","perspective"].indexOf(Re.willChange)||Pe&&"filter"===Re.willChange||Pe&&Re.filter&&"none"!==Re.filter)return Le;Le=Le.parentNode}return null}(At)||_}function $e(At){return["top","bottom"].indexOf(At)>=0?"x":"y"}function Li(At,_,it){return Ft(At,Yt(_,it))}function Ci(At){return Object.assign({},{top:0,right:0,bottom:0,left:0},At)}function Ai(At,_){return _.reduce(function(it,Xt){return it[Xt]=At,it},{})}const ln={name:"arrow",enabled:!0,phase:"main",fn:function(At){var _,In,gi,it=At.state,Xt=At.name,Pe=At.options,Le=it.elements.arrow,Re=it.modifiersData.popperOffsets,ci=Mt(it.placement),wi=$e(ci),Oi=[bi,Di].indexOf(ci)>=0?"height":"width";if(Le&&Re){var fi=(gi=it,Ci("number"!=typeof(In="function"==typeof(In=Pe.padding)?In(Object.assign({},gi.rects,{placement:gi.placement})):In)?In:Ai(In,jn))),Si=fe(Le),vn="y"===wi?Pi:bi,pn="y"===wi?hi:Di,Cn=it.rects.reference[Oi]+it.rects.reference[wi]-Re[wi]-it.rects.popper[Oi],Mn=Re[wi]-it.rects.reference[wi],Zn=mi(Le),Rr=Zn?"y"===wi?Zn.clientHeight||0:Zn.clientWidth||0:0,an=Rr/2-Si[Oi]/2+(Cn/2-Mn/2),ir=Li(fi[vn],an,Rr-Si[Oi]-fi[pn]);it.modifiersData[Xt]=((_={})[wi]=ir,_.centerOffset=ir-an,_)}},effect:function(At){var _=At.state,it=At.options.element,Xt=void 0===it?"[data-popper-arrow]":it;null!=Xt&&("string"!=typeof Xt||(Xt=_.elements.popper.querySelector(Xt)))&&Oe(_.elements.popper,Xt)&&(_.elements.arrow=Xt)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _i(At){return At.split("-")[1]}var En={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fn(At){var _,it=At.popper,Xt=At.popperRect,Pe=At.placement,Le=At.variation,Re=At.offsets,ci=At.position,wi=At.gpuAcceleration,Oi=At.adaptive,fi=At.roundOffsets,Si=At.isFixed,vn=Re.x,pn=void 0===vn?0:vn,Cn=Re.y,Mn=void 0===Cn?0:Cn,Zn="function"==typeof fi?fi({x:pn,y:Mn}):{x:pn,y:Mn};pn=Zn.x,Mn=Zn.y;var Rr=Re.hasOwnProperty("x"),Ar=Re.hasOwnProperty("y"),Xn=bi,er=Pi,an=window;if(Oi){var ir=mi(it),Er="clientHeight",In="clientWidth";ir===Or(it)&&"static"!==ei(ir=He(it)).position&&"absolute"===ci&&(Er="scrollHeight",In="scrollWidth"),(Pe===Pi||(Pe===bi||Pe===Di)&&Le===H)&&(er=hi,Mn-=(Si&&ir===an&&an.visualViewport?an.visualViewport.height:ir[Er])-Xt.height,Mn*=wi?1:-1),Pe!==bi&&(Pe!==Pi&&Pe!==hi||Le!==H)||(Xn=Di,pn-=(Si&&ir===an&&an.visualViewport?an.visualViewport.width:ir[In])-Xt.width,pn*=wi?1:-1)}var gi,ns,Yr,Wo,gr=Object.assign({position:ci},Oi&&En),is=!0===fi?(Yr=(ns={x:pn,y:Mn}).y,Wo=window.devicePixelRatio||1,{x:oe(ns.x*Wo)/Wo||0,y:oe(Yr*Wo)/Wo||0}):{x:pn,y:Mn};return pn=is.x,Mn=is.y,Object.assign({},gr,wi?((gi={})[er]=Ar?"0":"",gi[Xn]=Rr?"0":"",gi.transform=(an.devicePixelRatio||1)<=1?"translate("+pn+"px, "+Mn+"px)":"translate3d("+pn+"px, "+Mn+"px, 0)",gi):((_={})[er]=Ar?Mn+"px":"",_[Xn]=Rr?pn+"px":"",_.transform="",_))}const mn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(At){var _=At.state,it=At.options,Xt=it.gpuAcceleration,Pe=void 0===Xt||Xt,Le=it.adaptive,Re=void 0===Le||Le,ci=it.roundOffsets,wi=void 0===ci||ci,Oi={placement:Mt(_.placement),variation:_i(_.placement),popper:_.elements.popper,popperRect:_.rects.popper,gpuAcceleration:Pe,isFixed:"fixed"===_.options.strategy};null!=_.modifiersData.popperOffsets&&(_.styles.popper=Object.assign({},_.styles.popper,fn(Object.assign({},Oi,{offsets:_.modifiersData.popperOffsets,position:_.options.strategy,adaptive:Re,roundOffsets:wi})))),null!=_.modifiersData.arrow&&(_.styles.arrow=Object.assign({},_.styles.arrow,fn(Object.assign({},Oi,{offsets:_.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:wi})))),_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-placement":_.placement})},data:{}};var Vn={passive:!0};const Sn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(At){var _=At.state,it=At.instance,Xt=At.options,Pe=Xt.scroll,Le=void 0===Pe||Pe,Re=Xt.resize,ci=void 0===Re||Re,wi=Or(_.elements.popper),Oi=[].concat(_.scrollParents.reference,_.scrollParents.popper);return Le&&Oi.forEach(function(fi){fi.addEventListener("scroll",it.update,Vn)}),ci&&wi.addEventListener("resize",it.update,Vn),function(){Le&&Oi.forEach(function(fi){fi.removeEventListener("scroll",it.update,Vn)}),ci&&wi.removeEventListener("resize",it.update,Vn)}},data:{}};var Ur={left:"right",right:"left",bottom:"top",top:"bottom"};function qn(At){return At.replace(/left|right|bottom|top/g,function(_){return Ur[_]})}var Mr={start:"end",end:"start"};function Jn(At){return At.replace(/start|end/g,function(_){return Mr[_]})}function kn(At){var _=Or(At);return{scrollLeft:_.pageXOffset,scrollTop:_.pageYOffset}}function Gi(At){return qt(He(At)).left+kn(At).scrollLeft}function Vr(At){var _=ei(At);return/auto|scroll|overlay|hidden/.test(_.overflow+_.overflowY+_.overflowX)}function gs(At){return["html","body","#document"].indexOf(jr(At))>=0?At.ownerDocument.body:rn(At)&&Vr(At)?At:gs(qe(At))}function rr(At,_){var it;void 0===_&&(_=[]);var Xt=gs(At),Pe=Xt===(null==(it=At.ownerDocument)?void 0:it.body),Le=Or(Xt),Re=Pe?[Le].concat(Le.visualViewport||[],Vr(Xt)?Xt:[]):Xt,ci=_.concat(Re);return Pe?ci:ci.concat(rr(qe(Re)))}function io(At){return Object.assign({},At,{left:At.x,top:At.y,right:At.x+At.width,bottom:At.y+At.height})}function Ws(At,_,it){return _===Gt?io(function(Xt,Pe){var Le=Or(Xt),Re=He(Xt),ci=Le.visualViewport,wi=Re.clientWidth,Oi=Re.clientHeight,fi=0,Si=0;if(ci){wi=ci.width,Oi=ci.height;var vn=Te();(vn||!vn&&"fixed"===Pe)&&(fi=ci.offsetLeft,Si=ci.offsetTop)}return{width:wi,height:Oi,x:fi+Gi(Xt),y:Si}}(At,it)):Ro(_)?((Le=qt(Xt=_,!1,"fixed"===it)).top=Le.top+Xt.clientTop,Le.left=Le.left+Xt.clientLeft,Le.bottom=Le.top+Xt.clientHeight,Le.right=Le.left+Xt.clientWidth,Le.width=Xt.clientWidth,Le.height=Xt.clientHeight,Le.x=Le.left,Le.y=Le.top,Le):io(function(Xt){var Pe,Le=He(Xt),Re=kn(Xt),ci=null==(Pe=Xt.ownerDocument)?void 0:Pe.body,wi=Ft(Le.scrollWidth,Le.clientWidth,ci?ci.scrollWidth:0,ci?ci.clientWidth:0),Oi=Ft(Le.scrollHeight,Le.clientHeight,ci?ci.scrollHeight:0,ci?ci.clientHeight:0),fi=-Re.scrollLeft+Gi(Xt),Si=-Re.scrollTop;return"rtl"===ei(ci||Le).direction&&(fi+=Ft(Le.clientWidth,ci?ci.clientWidth:0)-wi),{width:wi,height:Oi,x:fi,y:Si}}(He(At)));var Xt,Le}function Ds(At){var _,it=At.reference,Xt=At.element,Pe=At.placement,Le=Pe?Mt(Pe):null,Re=Pe?_i(Pe):null,ci=it.x+it.width/2-Xt.width/2,wi=it.y+it.height/2-Xt.height/2;switch(Le){case Pi:_={x:ci,y:it.y-Xt.height};break;case hi:_={x:ci,y:it.y+it.height};break;case Di:_={x:it.x+it.width,y:wi};break;case bi:_={x:it.x-Xt.width,y:wi};break;default:_={x:it.x,y:it.y}}var Oi=Le?$e(Le):null;if(null!=Oi){var fi="y"===Oi?"height":"width";switch(Re){case x:_[Oi]=_[Oi]-(it[fi]/2-Xt[fi]/2);break;case H:_[Oi]=_[Oi]+(it[fi]/2-Xt[fi]/2)}}return _}function ur(At,_){void 0===_&&(_={});var Xr,Yr,Wo,vi,Qn,Bo,as,Ms,xs,Ir,Xt=_.placement,Pe=void 0===Xt?At.placement:Xt,Le=_.strategy,Re=void 0===Le?At.strategy:Le,ci=_.boundary,wi=void 0===ci?wt:ci,Oi=_.rootBoundary,fi=void 0===Oi?Gt:Oi,Si=_.elementContext,vn=void 0===Si?se:Si,pn=_.altBoundary,Cn=void 0!==pn&&pn,Mn=_.padding,Zn=void 0===Mn?0:Mn,Rr=Ci("number"!=typeof Zn?Zn:Ai(Zn,jn)),Xn=At.rects.popper,er=At.elements[Cn?vn===se?Me:se:vn],an=(Xr=Ro(er)?er:er.contextElement||He(At.elements.popper),Wo=fi,vi=Re,Ms="clippingParents"===(Yr=wi)?(Bo=rr(qe(Qn=Xr)),Ro(as=["absolute","fixed"].indexOf(ei(Qn).position)>=0&&rn(Qn)?mi(Qn):Qn)?Bo.filter(function(vo){return Ro(vo)&&Oe(vo,as)&&"body"!==jr(vo)}):[]):[].concat(Yr),Ir=(xs=[].concat(Ms,[Wo])).reduce(function(Qn,Bo){var as=Ws(Xr,Bo,vi);return Qn.top=Ft(as.top,Qn.top),Qn.right=Yt(as.right,Qn.right),Qn.bottom=Yt(as.bottom,Qn.bottom),Qn.left=Ft(as.left,Qn.left),Qn},Ws(Xr,xs[0],vi)),Ir.width=Ir.right-Ir.left,Ir.height=Ir.bottom-Ir.top,Ir.x=Ir.left,Ir.y=Ir.top,Ir),ir=qt(At.elements.reference),Er=Ds({reference:ir,element:Xn,strategy:"absolute",placement:Pe}),In=io(Object.assign({},Xn,Er)),gi=vn===se?In:ir,gr={top:an.top-gi.top+Rr.top,bottom:gi.bottom-an.bottom+Rr.bottom,left:an.left-gi.left+Rr.left,right:gi.right-an.right+Rr.right},is=At.modifiersData.offset;if(vn===se&&is){var ns=is[Pe];Object.keys(gr).forEach(function(Xr){var Yr=[Di,hi].indexOf(Xr)>=0?1:-1,Wo=[Pi,hi].indexOf(Xr)>=0?"y":"x";gr[Xr]+=ns[Wo]*Yr})}return gr}const Gr={name:"flip",enabled:!0,phase:"main",fn:function(At){var _=At.state,it=At.options,Xt=At.name;if(!_.modifiersData[Xt]._skip){for(var Pe=it.mainAxis,Le=void 0===Pe||Pe,Re=it.altAxis,ci=void 0===Re||Re,wi=it.fallbackPlacements,Oi=it.padding,fi=it.boundary,Si=it.rootBoundary,vn=it.altBoundary,pn=it.flipVariations,Cn=void 0===pn||pn,Mn=it.allowedAutoPlacements,Zn=_.options.placement,Rr=Mt(Zn),Ar=wi||(Rr!==Zn&&Cn?function(Qn){if(Mt(Qn)===On)return[];var Bo=qn(Qn);return[Jn(Qn),Bo,Jn(Bo)]}(Zn):[qn(Zn)]),Xn=[Zn].concat(Ar).reduce(function(Qn,Bo){return Qn.concat(Mt(Bo)===On?function po(At,_){void 0===_&&(_={});var Pe=_.boundary,Le=_.rootBoundary,Re=_.padding,ci=_.flipVariations,wi=_.allowedAutoPlacements,Oi=void 0===wi?ki:wi,fi=_i(_.placement),Si=fi?ci?ii:ii.filter(function(Cn){return _i(Cn)===fi}):jn,vn=Si.filter(function(Cn){return Oi.indexOf(Cn)>=0});0===vn.length&&(vn=Si);var pn=vn.reduce(function(Cn,Mn){return Cn[Mn]=ur(At,{placement:Mn,boundary:Pe,rootBoundary:Le,padding:Re})[Mt(Mn)],Cn},{});return Object.keys(pn).sort(function(Cn,Mn){return pn[Cn]-pn[Mn]})}(_,{placement:Bo,boundary:fi,rootBoundary:Si,padding:Oi,flipVariations:Cn,allowedAutoPlacements:Mn}):Bo)},[]),er=_.rects.reference,an=_.rects.popper,ir=new Map,Er=!0,In=Xn[0],gi=0;gi<Xn.length;gi++){var gr=Xn[gi],is=Mt(gr),ns=_i(gr)===x,Xr=[Pi,hi].indexOf(is)>=0,Yr=Xr?"width":"height",Wo=ur(_,{placement:gr,boundary:fi,rootBoundary:Si,altBoundary:vn,padding:Oi}),vi=Xr?ns?Di:bi:ns?hi:Pi;er[Yr]>an[Yr]&&(vi=qn(vi));var Ms=qn(vi),xs=[];if(Le&&xs.push(Wo[is]<=0),ci&&xs.push(Wo[vi]<=0,Wo[Ms]<=0),xs.every(function(Qn){return Qn})){In=gr,Er=!1;break}ir.set(gr,xs)}if(Er)for(var sa=function(Qn){var Bo=Xn.find(function(as){var vo=ir.get(as);if(vo)return vo.slice(0,Qn).every(function(Ps){return Ps})});if(Bo)return In=Bo,"break"},Ir=Cn?3:1;Ir>0&&"break"!==sa(Ir);Ir--);_.placement!==In&&(_.modifiersData[Xt]._skip=!0,_.placement=In,_.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Hr(At,_,it){return void 0===it&&(it={x:0,y:0}),{top:At.top-_.height-it.y,right:At.right-_.width+it.x,bottom:At.bottom-_.height+it.y,left:At.left-_.width-it.x}}function Qr(At){return[Pi,Di,hi,bi].some(function(_){return At[_]>=0})}const yr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(At){var _=At.state,it=At.name,Xt=_.rects.reference,Pe=_.rects.popper,Le=_.modifiersData.preventOverflow,Re=ur(_,{elementContext:"reference"}),ci=ur(_,{altBoundary:!0}),wi=Hr(Re,Xt),Oi=Hr(ci,Pe,Le),fi=Qr(wi),Si=Qr(Oi);_.modifiersData[it]={referenceClippingOffsets:wi,popperEscapeOffsets:Oi,isReferenceHidden:fi,hasPopperEscaped:Si},_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-reference-hidden":fi,"data-popper-escaped":Si})}},Vo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(At){var _=At.state,Xt=At.name,Pe=At.options.offset,Le=void 0===Pe?[0,0]:Pe,Re=ki.reduce(function(fi,Si){return fi[Si]=(pn=_.rects,Cn=Le,Mn=Mt(vn=Si),Zn=[bi,Pi].indexOf(Mn)>=0?-1:1,Ar=(Ar=(Rr="function"==typeof Cn?Cn(Object.assign({},pn,{placement:vn})):Cn)[0])||0,Xn=((Xn=Rr[1])||0)*Zn,[bi,Di].indexOf(Mn)>=0?{x:Xn,y:Ar}:{x:Ar,y:Xn}),fi;var vn,pn,Cn,Mn,Zn,Rr,Ar,Xn},{}),ci=Re[_.placement],Oi=ci.y;null!=_.modifiersData.popperOffsets&&(_.modifiersData.popperOffsets.x+=ci.x,_.modifiersData.popperOffsets.y+=Oi),_.modifiersData[Xt]=Re}},fo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(At){var _=At.state;_.modifiersData[At.name]=Ds({reference:_.rects.reference,element:_.rects.popper,strategy:"absolute",placement:_.placement})},data:{}},Cs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(At){var cr,Eo,_=At.state,it=At.options,Xt=At.name,Pe=it.mainAxis,Le=void 0===Pe||Pe,Re=it.altAxis,ci=void 0!==Re&&Re,vn=it.tether,pn=void 0===vn||vn,Cn=it.tetherOffset,Mn=void 0===Cn?0:Cn,Zn=ur(_,{boundary:it.boundary,rootBoundary:it.rootBoundary,padding:it.padding,altBoundary:it.altBoundary}),Rr=Mt(_.placement),Ar=_i(_.placement),Xn=!Ar,er=$e(Rr),an="x"===er?"y":"x",ir=_.modifiersData.popperOffsets,Er=_.rects.reference,In=_.rects.popper,gi="function"==typeof Mn?Mn(Object.assign({},_.rects,{placement:_.placement})):Mn,gr="number"==typeof gi?{mainAxis:gi,altAxis:gi}:Object.assign({mainAxis:0,altAxis:0},gi),is=_.modifiersData.offset?_.modifiersData.offset[_.placement]:null,ns={x:0,y:0};if(ir){if(Le){var Xr,Yr="y"===er?Pi:bi,Wo="y"===er?hi:Di,vi="y"===er?"height":"width",Ms=ir[er],xs=Ms+Zn[Yr],sa=Ms-Zn[Wo],Ir=pn?-In[vi]/2:0,Qn=Ar===x?Er[vi]:In[vi],Bo=Ar===x?-In[vi]:-Er[vi],as=_.elements.arrow,vo=pn&&as?fe(as):{width:0,height:0},Ps=_.modifiersData["arrow#persistent"]?_.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},rl=Ps[Yr],wa=Ps[Wo],Sa=Li(0,Er[vi],vo[vi]),ol=Xn?Er[vi]/2-Ir-Sa-rl-gr.mainAxis:Qn-Sa-rl-gr.mainAxis,Ys=Xn?-Er[vi]/2+Ir+Sa+wa+gr.mainAxis:Bo+Sa+wa+gr.mainAxis,ls=_.elements.arrow&&mi(_.elements.arrow),Us=null!=(Xr=is?.[er])?Xr:0,Vs=Ms+Ys-Us,Lo=Li(pn?Yt(xs,Ms+ol-Us-(ls?"y"===er?ls.clientTop||0:ls.clientLeft||0:0)):xs,Ms,pn?Ft(sa,Vs):sa);ir[er]=Lo,ns[er]=Lo-Ms}if(ci){var aa,lo=ir[an],ha="y"===an?"height":"width",Ji=lo+Zn["x"===er?Pi:bi],Xi=lo-Zn["x"===er?hi:Di],Ta=-1!==[Pi,bi].indexOf(Rr),Xo=null!=(aa=is?.[an])?aa:0,Ls=Ta?Ji:lo-Er[ha]-In[ha]-Xo+gr.altAxis,Io=Ta?lo+Er[ha]+In[ha]-Xo-gr.altAxis:Xi,Zs=pn&&Ta?(Eo=Li(Ls,lo,cr=Io))>cr?cr:Eo:Li(pn?Ls:Ji,lo,pn?Io:Xi);ir[an]=Zs,ns[an]=Zs-lo}_.modifiersData[Xt]=ns}},requiresIfExists:["offset"]};function no(At,_,it){void 0===it&&(it=!1);var Xt,Pe,Si,vn,pn,Cn,Le=rn(_),Re=rn(_)&&(vn=(Si=_).getBoundingClientRect(),pn=oe(vn.width)/Si.offsetWidth||1,Cn=oe(vn.height)/Si.offsetHeight||1,1!==pn||1!==Cn),ci=He(_),wi=qt(At,Re,it),Oi={scrollLeft:0,scrollTop:0},fi={x:0,y:0};return(Le||!Le&&!it)&&(("body"!==jr(_)||Vr(ci))&&(Oi=(Xt=_)!==Or(Xt)&&rn(Xt)?{scrollLeft:(Pe=Xt).scrollLeft,scrollTop:Pe.scrollTop}:kn(Xt)),rn(_)?((fi=qt(_,!0)).x+=_.clientLeft,fi.y+=_.clientTop):ci&&(fi.x=Gi(ci))),{x:wi.left+Oi.scrollLeft-fi.x,y:wi.top+Oi.scrollTop-fi.y,width:wi.width,height:wi.height}}function Rs(At){var _=new Map,it=new Set,Xt=[];function Pe(Le){it.add(Le.name),[].concat(Le.requires||[],Le.requiresIfExists||[]).forEach(function(Re){if(!it.has(Re)){var ci=_.get(Re);ci&&Pe(ci)}}),Xt.push(Le)}return At.forEach(function(Le){_.set(Le.name,Le)}),At.forEach(function(Le){it.has(Le.name)||Pe(Le)}),Xt}var qr={placement:"bottom",modifiers:[],strategy:"absolute"};function Wr(){for(var At=arguments.length,_=new Array(At),it=0;it<At;it++)_[it]=arguments[it];return!_.some(function(Xt){return!(Xt&&"function"==typeof Xt.getBoundingClientRect)})}function To(At){void 0===At&&(At={});var it=At.defaultModifiers,Xt=void 0===it?[]:it,Pe=At.defaultOptions,Le=void 0===Pe?qr:Pe;return function(Re,ci,wi){void 0===wi&&(wi=Le);var Oi,fi,Si={placement:"bottom",orderedModifiers:[],options:Object.assign({},qr,Le),modifiersData:{},elements:{reference:Re,popper:ci},attributes:{},styles:{}},vn=[],pn=!1,Cn={state:Si,setOptions:function(Zn){var Rr="function"==typeof Zn?Zn(Si.options):Zn;Mn(),Si.options=Object.assign({},Le,Si.options,Rr),Si.scrollParents={reference:Ro(Re)?rr(Re):Re.contextElement?rr(Re.contextElement):[],popper:rr(ci)};var Ar,Xn,an,ir,er=(Ar=[].concat(Xt,Si.options.modifiers),Xn=Ar.reduce(function(an,ir){var Er=an[ir.name];return an[ir.name]=Er?Object.assign({},Er,ir,{options:Object.assign({},Er.options,ir.options),data:Object.assign({},Er.data,ir.data)}):ir,an},{}),an=Object.keys(Xn).map(function(an){return Xn[an]}),ir=Rs(an),So.reduce(function(Er,In){return Er.concat(ir.filter(function(gi){return gi.phase===In}))},[]));return Si.orderedModifiers=er.filter(function(an){return an.enabled}),Si.orderedModifiers.forEach(function(an){var Er=an.options,gi=an.effect;if("function"==typeof gi){var gr=gi({state:Si,name:an.name,instance:Cn,options:void 0===Er?{}:Er});vn.push(gr||function(){})}}),Cn.update()},forceUpdate:function(){if(!pn){var Zn=Si.elements,Rr=Zn.reference,Ar=Zn.popper;if(Wr(Rr,Ar)){Si.rects={reference:no(Rr,mi(Ar),"fixed"===Si.options.strategy),popper:fe(Ar)},Si.reset=!1,Si.placement=Si.options.placement,Si.orderedModifiers.forEach(function(gi){return Si.modifiersData[gi.name]=Object.assign({},gi.data)});for(var Xn=0;Xn<Si.orderedModifiers.length;Xn++)if(!0!==Si.reset){var er=Si.orderedModifiers[Xn],an=er.fn,ir=er.options;"function"==typeof an&&(Si=an({state:Si,options:void 0===ir?{}:ir,name:er.name,instance:Cn})||Si)}else Si.reset=!1,Xn=-1}}},update:(Oi=function(){return new Promise(function(Zn){Cn.forceUpdate(),Zn(Si)})},function(){return fi||(fi=new Promise(function(Zn){Promise.resolve().then(function(){fi=void 0,Zn(Oi())})})),fi}),destroy:function(){Mn(),pn=!0}};if(!Wr(Re,ci))return Cn;function Mn(){vn.forEach(function(Zn){return Zn()}),vn=[]}return Cn.setOptions(wi).then(function(Zn){!pn&&wi.onFirstUpdate&&wi.onFirstUpdate(Zn)}),Cn}}var mo=To(),Qo=To({defaultModifiers:[Sn,fo,mn,gt]}),Bs=To({defaultModifiers:[Sn,fo,mn,gt,Vo,Gr,Cs,ln,yr]});const vs=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:To,detectOverflow:ur,createPopperBase:mo,createPopper:Bs,createPopperLite:Qo,top:Pi,bottom:hi,right:Di,left:bi,auto:On,basePlacements:jn,start:x,end:H,clippingParents:wt,viewport:Gt,popper:se,reference:Me,variationPlacements:ii,placements:ki,beforeRead:Ni,read:"read",afterRead:hr,beforeMain:xr,main:"main",afterMain:eo,beforeWrite:Br,write:"write",afterWrite:Yn,modifierPhases:So,applyStyles:gt,arrow:ln,computeStyles:mn,eventListeners:Sn,flip:Gr,hide:yr,offset:Vo,popperOffsets:fo,preventOverflow:Cs},Symbol.toStringTag,{value:"Module"})),ts="dropdown",oa="ArrowUp",ea="ArrowDown",fa="click.bs.dropdown.data-api",f="keydown.bs.dropdown.data-api",C="show",q='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',et=`${q}.show`,Tt=".dropdown-menu",Vt=R()?"top-end":"top-start",Jt=R()?"top-start":"top-end",Se=R()?"bottom-end":"bottom-start",xe=R()?"bottom-start":"bottom-end",De=R()?"left-start":"right-start",Je=R()?"right-start":"left-start",si={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ze={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ge extends ft{constructor(_,it){super(_,it),this._popper=null,this._parent=this._element.parentNode,this._menu=yt.next(this._element,Tt)[0]||yt.prev(this._element,Tt)[0]||yt.findOne(Tt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return si}static get DefaultType(){return Ze}static get NAME(){return ts}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Dt(this._element)||this._isShown())return;const _={relatedTarget:this._element};if(!B.trigger(this._element,"show.bs.dropdown",_).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const it of[].concat(...document.body.children))B.on(it,"mouseover",J);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(C),this._element.classList.add(C),B.trigger(this._element,"shown.bs.dropdown",_)}}hide(){!Dt(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(_){if(!B.trigger(this._element,"hide.bs.dropdown",_).defaultPrevented){if("ontouchstart"in document.documentElement)for(const it of[].concat(...document.body.children))B.off(it,"mouseover",J);this._popper&&this._popper.destroy(),this._menu.classList.remove(C),this._element.classList.remove(C),this._element.setAttribute("aria-expanded","false"),mt.removeDataAttribute(this._menu,"popper"),B.trigger(this._element,"hidden.bs.dropdown",_)}}_getConfig(_){if("object"==typeof(_=super._getConfig(_)).reference&&!Ct(_.reference)&&"function"!=typeof _.reference.getBoundingClientRect)throw new TypeError(`${ts.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return _}_createPopper(){if(void 0===vs)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;"parent"===this._config.reference?_=this._parent:Ct(this._config.reference)?_=zt(this._config.reference):"object"==typeof this._config.reference&&(_=this._config.reference);const it=this._getPopperConfig();this._popper=Bs(_,this._menu,it)}_isShown(){return this._menu.classList.contains(C)}_getPlacement(){const _=this._parent;if(_.classList.contains("dropend"))return De;if(_.classList.contains("dropstart"))return Je;if(_.classList.contains("dropup-center"))return"top";if(_.classList.contains("dropdown-center"))return"bottom";const it="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return _.classList.contains("dropup")?it?Jt:Vt:it?xe:Se}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:_}=this._config;return"string"==typeof _?_.split(",").map(it=>Number.parseInt(it,10)):"function"==typeof _?it=>_(it,this._element):_}_getPopperConfig(){const _={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(mt.setDataAttribute(this._menu,"popper","static"),_.modifiers=[{name:"applyStyles",enabled:!1}]),{..._,..."function"==typeof this._config.popperConfig?this._config.popperConfig(_):this._config.popperConfig}}_selectMenuItem({key:_,target:it}){const Xt=yt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Pe=>Rt(Pe));Xt.length&&Y(Xt,it,_===ea,!Xt.includes(it)).focus()}static jQueryInterface(_){return this.each(function(){const it=Ge.getOrCreateInstance(this,_);if("string"==typeof _){if(void 0===it[_])throw new TypeError(`No method named "${_}"`);it[_]()}})}static clearMenus(_){if(2===_.button||"keyup"===_.type&&"Tab"!==_.key)return;const it=yt.find(et);for(const Xt of it){const Pe=Ge.getInstance(Xt);if(!Pe||!1===Pe._config.autoClose)continue;const Le=_.composedPath(),Re=Le.includes(Pe._menu);if(Le.includes(Pe._element)||"inside"===Pe._config.autoClose&&!Re||"outside"===Pe._config.autoClose&&Re||Pe._menu.contains(_.target)&&("keyup"===_.type&&"Tab"===_.key||/input|select|option|textarea|form/i.test(_.target.tagName)))continue;const ci={relatedTarget:Pe._element};"click"===_.type&&(ci.clickEvent=_),Pe._completeHide(ci)}}static dataApiKeydownHandler(_){const it=/input|textarea/i.test(_.target.tagName),Xt="Escape"===_.key,Pe=[oa,ea].includes(_.key);if(!Pe&&!Xt||it&&!Xt)return;_.preventDefault();const Le=this.matches(q)?this:yt.prev(this,q)[0]||yt.next(this,q)[0]||yt.findOne(q,_.delegateTarget.parentNode),Re=Ge.getOrCreateInstance(Le);if(Pe)return _.stopPropagation(),Re.show(),void Re._selectMenuItem(_);Re._isShown()&&(_.stopPropagation(),Re.hide(),Le.focus())}}B.on(document,f,q,Ge.dataApiKeydownHandler),B.on(document,f,Tt,Ge.dataApiKeydownHandler),B.on(document,fa,Ge.clearMenus),B.on(document,"keyup.bs.dropdown.data-api",Ge.clearMenus),B.on(document,fa,q,function(At){At.preventDefault(),Ge.getOrCreateInstance(this).toggle()}),$(Ge);const Bi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vi=".sticky-top",Wi="padding-right",vr="margin-right";class Fr{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Wi,it=>it+_),this._setElementAttributes(Bi,Wi,it=>it+_),this._setElementAttributes(Vi,vr,it=>it-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Wi),this._resetElementAttributes(Bi,Wi),this._resetElementAttributes(Vi,vr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,it,Xt){const Pe=this.getWidth();this._applyManipulationCallback(_,Le=>{if(Le!==this._element&&window.innerWidth>Le.clientWidth+Pe)return;this._saveInitialAttribute(Le,it);const Re=window.getComputedStyle(Le).getPropertyValue(it);Le.style.setProperty(it,`${Xt(Number.parseFloat(Re))}px`)})}_saveInitialAttribute(_,it){const Xt=_.style.getPropertyValue(it);Xt&&mt.setDataAttribute(_,it,Xt)}_resetElementAttributes(_,it){this._applyManipulationCallback(_,Xt=>{const Pe=mt.getDataAttribute(Xt,it);null!==Pe?(mt.removeDataAttribute(Xt,it),Xt.style.setProperty(it,Pe)):Xt.style.removeProperty(it)})}_applyManipulationCallback(_,it){if(Ct(_))it(_);else for(const Xt of yt.find(_,this._element))it(Xt)}}const $n="mousedown.bs.backdrop",xn={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},go={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Gn extends ct{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return xn}static get DefaultType(){return go}static get NAME(){return"backdrop"}show(_){if(!this._config.isVisible)return void O(_);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{O(_)})}hide(_){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),O(_)})):O(_)}dispose(){this._isAppended&&(B.off(this._element,$n),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add("fade"),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=zt(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),B.on(_,$n,()=>{O(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){V(_,this._getElement(),this._config.isAnimated)}}const _r=".bs.focustrap",As="backward",ia={autofocus:!0,trapElement:null},Sr={autofocus:"boolean",trapElement:"element"};class Mo extends ct{constructor(_){super(),this._config=this._getConfig(_),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ia}static get DefaultType(){return Sr}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),B.off(document,_r),B.on(document,"focusin.bs.focustrap",_=>this._handleFocusin(_)),B.on(document,"keydown.tab.bs.focustrap",_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,B.off(document,_r))}_handleFocusin(_){const{trapElement:it}=this._config;if(_.target===document||_.target===it||it.contains(_.target))return;const Xt=yt.focusableChildren(it);0===Xt.length?it.focus():this._lastTabNavDirection===As?Xt[Xt.length-1].focus():Xt[0].focus()}_handleKeydown(_){"Tab"===_.key&&(this._lastTabNavDirection=_.shiftKey?As:"forward")}}const rs="hidden.bs.modal",or="show.bs.modal",qo="modal-open",sr="modal-static",to={backdrop:!0,focus:!0,keyboard:!0},br={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Dr extends ft{constructor(_,it){super(_,it),this._dialog=yt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Fr,this._addEventListeners()}static get Default(){return to}static get DefaultType(){return br}static get NAME(){return"modal"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||this._isTransitioning||B.trigger(this._element,or,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(qo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(_)))}hide(){this._isShown&&!this._isTransitioning&&(B.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const _ of[window,this._dialog])B.off(_,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Gn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Mo({trapElement:this._element})}_showElement(_){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const it=yt.findOne(".modal-body",this._dialog);it&&(it.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,B.trigger(this._element,"shown.bs.modal",{relatedTarget:_})},this._dialog,this._isAnimated())}_addEventListeners(){B.on(this._element,"keydown.dismiss.bs.modal",_=>{if("Escape"===_.key)return this._config.keyboard?(_.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),B.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),B.on(this._element,"mousedown.dismiss.bs.modal",_=>{B.one(this._element,"click.dismiss.bs.modal",it=>{this._element===_.target&&this._element===it.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(qo),this._resetAdjustments(),this._scrollBar.reset(),B.trigger(this._element,rs)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(B.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const _=this._element.scrollHeight>document.documentElement.clientHeight,it=this._element.style.overflowY;"hidden"===it||this._element.classList.contains(sr)||(_||(this._element.style.overflowY="hidden"),this._element.classList.add(sr),this._queueCallback(()=>{this._element.classList.remove(sr),this._queueCallback(()=>{this._element.style.overflowY=it},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const _=this._element.scrollHeight>document.documentElement.clientHeight,it=this._scrollBar.getWidth(),Xt=it>0;if(Xt&&!_){const Pe=R()?"paddingLeft":"paddingRight";this._element.style[Pe]=`${it}px`}if(!Xt&&_){const Pe=R()?"paddingRight":"paddingLeft";this._element.style[Pe]=`${it}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(_,it){return this.each(function(){const Xt=Dr.getOrCreateInstance(this,_);if("string"==typeof _){if(void 0===Xt[_])throw new TypeError(`No method named "${_}"`);Xt[_](it)}})}}B.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(At){const _=ot(this);["A","AREA"].includes(this.tagName)&&At.preventDefault(),B.one(_,or,Xt=>{Xt.defaultPrevented||B.one(_,rs,()=>{Rt(this)&&this.focus()})});const it=yt.findOne(".modal.show");it&&Dr.getInstance(it).hide(),Dr.getOrCreateInstance(_).toggle(this)}),M(Dr),$(Dr);const Fn="showing",ao=".offcanvas.show",Tr="hidePrevented.bs.offcanvas",Pn="hidden.bs.offcanvas",js={backdrop:!0,keyboard:!0,scroll:!1},Po={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Zo extends ft{constructor(_,it){super(_,it),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return js}static get DefaultType(){return Po}static get NAME(){return"offcanvas"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||B.trigger(this._element,"show.bs.offcanvas",{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Fr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Fn),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Fn),B.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:_})},this._element,!0))}hide(){this._isShown&&(B.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Fr).reset(),B.trigger(this._element,Pn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const _=Boolean(this._config.backdrop);return new Gn({className:"offcanvas-backdrop",isVisible:_,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_?()=>{"static"!==this._config.backdrop?this.hide():B.trigger(this._element,Tr)}:null})}_initializeFocusTrap(){return new Mo({trapElement:this._element})}_addEventListeners(){B.on(this._element,"keydown.dismiss.bs.offcanvas",_=>{"Escape"===_.key&&(this._config.keyboard?this.hide():B.trigger(this._element,Tr))})}static jQueryInterface(_){return this.each(function(){const it=Zo.getOrCreateInstance(this,_);if("string"==typeof _){if(void 0===it[_]||_.startsWith("_")||"constructor"===_)throw new TypeError(`No method named "${_}"`);it[_](this)}})}}B.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(At){const _=ot(this);if(["A","AREA"].includes(this.tagName)&&At.preventDefault(),Dt(this))return;B.one(_,Pn,()=>{Rt(this)&&this.focus()});const it=yt.findOne(ao);it&&it!==_&&Zo.getInstance(it).hide(),Zo.getOrCreateInstance(_).toggle(this)}),B.on(window,"load.bs.offcanvas.data-api",()=>{for(const At of yt.find(ao))Zo.getOrCreateInstance(At).show()}),B.on(window,"resize.bs.offcanvas",()=>{for(const At of yt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(At).position&&Zo.getOrCreateInstance(At).hide()}),M(Zo),$(Zo);const _s=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),na=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Es=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,os=(At,_)=>{const it=At.nodeName.toLowerCase();return _.includes(it)?!_s.has(it)||Boolean(na.test(At.nodeValue)||Es.test(At.nodeValue)):_.filter(Xt=>Xt instanceof RegExp).some(Xt=>Xt.test(it))},Go={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Fs={allowList:Go,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},r={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},u={entry:"(string|element|function|null)",selector:"(string|element)"};class y extends ct{constructor(_){super(),this._config=this._getConfig(_)}static get Default(){return Fs}static get DefaultType(){return r}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(_=>this._resolvePossibleFunction(_)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(_){return this._checkContent(_),this._config.content={...this._config.content,..._},this}toHtml(){const _=document.createElement("div");_.innerHTML=this._maybeSanitize(this._config.template);for(const[Pe,Le]of Object.entries(this._config.content))this._setContent(_,Le,Pe);const it=_.children[0],Xt=this._resolvePossibleFunction(this._config.extraClass);return Xt&&it.classList.add(...Xt.split(" ")),it}_typeCheckConfig(_){super._typeCheckConfig(_),this._checkContent(_.content)}_checkContent(_){for(const[it,Xt]of Object.entries(_))super._typeCheckConfig({selector:it,entry:Xt},u)}_setContent(_,it,Xt){const Pe=yt.findOne(Xt,_);Pe&&((it=this._resolvePossibleFunction(it))?Ct(it)?this._putElementInTemplate(zt(it),Pe):this._config.html?Pe.innerHTML=this._maybeSanitize(it):Pe.textContent=it:Pe.remove())}_maybeSanitize(_){return this._config.sanitize?function(it,Xt,Pe){if(!it.length)return it;if(Pe&&"function"==typeof Pe)return Pe(it);const Le=(new window.DOMParser).parseFromString(it,"text/html"),Re=[].concat(...Le.body.querySelectorAll("*"));for(const ci of Re){const wi=ci.nodeName.toLowerCase();if(!Object.keys(Xt).includes(wi)){ci.remove();continue}const Oi=[].concat(...ci.attributes),fi=[].concat(Xt["*"]||[],Xt[wi]||[]);for(const Si of Oi)os(Si,fi)||ci.removeAttribute(Si.nodeName)}return Le.body.innerHTML}(_,this._config.allowList,this._config.sanitizeFn):_}_resolvePossibleFunction(_){return"function"==typeof _?_(this):_}_putElementInTemplate(_,it){if(this._config.html)return it.innerHTML="",void it.append(_);it.textContent=_.textContent}}const z=new Set(["sanitize","allowList","sanitizeFn"]),lt="fade",Ht="show",Ee="hide.bs.modal",oi="hover",Ki={AUTO:"auto",TOP:"top",RIGHT:R()?"left":"right",BOTTOM:"bottom",LEFT:R()?"right":"left"},bn={allowList:Go,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Un={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Lr extends ft{constructor(_,it){if(void 0===vs)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(_,it),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return bn}static get DefaultType(){return Un}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),B.off(this._element.closest(".modal"),Ee,this._hideModalHandler),this.tip&&this.tip.remove(),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const _=B.trigger(this._element,this.constructor.eventName("show")),it=(Ot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(_.defaultPrevented||!it)return;this.tip&&(this.tip.remove(),this.tip=null);const Xt=this._getTipElement();this._element.setAttribute("aria-describedby",Xt.getAttribute("id"));const{container:Pe}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Pe.append(Xt),B.trigger(this._element,this.constructor.eventName("inserted"))),this._popper?this._popper.update():this._popper=this._createPopper(Xt),Xt.classList.add(Ht),"ontouchstart"in document.documentElement)for(const Le of[].concat(...document.body.children))B.on(Le,"mouseover",J);this._queueCallback(()=>{B.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown()||B.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;const _=this._getTipElement();if(_.classList.remove(Ht),"ontouchstart"in document.documentElement)for(const it of[].concat(...document.body.children))B.off(it,"mouseover",J);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||_.remove(),this._element.removeAttribute("aria-describedby"),B.trigger(this._element,this.constructor.eventName("hidden")),this._disposePopper())},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(_){const it=this._getTemplateFactory(_).toHtml();if(!it)return null;it.classList.remove(lt,Ht),it.classList.add(`bs-${this.constructor.NAME}-auto`);const Xt=(Pe=>{do{Pe+=Math.floor(1e6*Math.random())}while(document.getElementById(Pe));return Pe})(this.constructor.NAME).toString();return it.setAttribute("id",Xt),this._isAnimated()&&it.classList.add(lt),it}setContent(_){this._newContent=_,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(_){return this._templateFactory?this._templateFactory.changeContent(_):this._templateFactory=new y({...this._config,content:_,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(_){return this.constructor.getOrCreateInstance(_.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(lt)}_isShown(){return this.tip&&this.tip.classList.contains(Ht)}_createPopper(_){const it="function"==typeof this._config.placement?this._config.placement.call(this,_,this._element):this._config.placement,Xt=Ki[it.toUpperCase()];return Bs(this._element,_,this._getPopperConfig(Xt))}_getOffset(){const{offset:_}=this._config;return"string"==typeof _?_.split(",").map(it=>Number.parseInt(it,10)):"function"==typeof _?it=>_(it,this._element):_}_resolvePossibleFunction(_){return"function"==typeof _?_.call(this._element):_}_getPopperConfig(_){const it={placement:_,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Xt=>{this._getTipElement().setAttribute("data-popper-placement",Xt.state.placement)}}]};return{...it,..."function"==typeof this._config.popperConfig?this._config.popperConfig(it):this._config.popperConfig}}_setListeners(){const _=this._config.trigger.split(" ");for(const it of _)if("click"===it)B.on(this._element,this.constructor.eventName("click"),this._config.selector,Xt=>{this._initializeOnDelegatedTarget(Xt).toggle()});else if("manual"!==it){const Xt=this.constructor.eventName(it===oi?"mouseenter":"focusin"),Pe=this.constructor.eventName(it===oi?"mouseleave":"focusout");B.on(this._element,Xt,this._config.selector,Le=>{const Re=this._initializeOnDelegatedTarget(Le);Re._activeTrigger["focusin"===Le.type?"focus":oi]=!0,Re._enter()}),B.on(this._element,Pe,this._config.selector,Le=>{const Re=this._initializeOnDelegatedTarget(Le);Re._activeTrigger["focusout"===Le.type?"focus":oi]=Re._element.contains(Le.relatedTarget),Re._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},B.on(this._element.closest(".modal"),Ee,this._hideModalHandler)}_fixTitle(){const _=this._element.getAttribute("title");_&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",_),this._element.setAttribute("data-bs-original-title",_),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(_,it){clearTimeout(this._timeout),this._timeout=setTimeout(_,it)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(_){const it=mt.getDataAttributes(this._element);for(const Xt of Object.keys(it))z.has(Xt)&&delete it[Xt];return _={...it,..."object"==typeof _&&_?_:{}},_=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _.container=!1===_.container?document.body:zt(_.container),"number"==typeof _.delay&&(_.delay={show:_.delay,hide:_.delay}),"number"==typeof _.title&&(_.title=_.title.toString()),"number"==typeof _.content&&(_.content=_.content.toString()),_}_getDelegateConfig(){const _={};for(const it in this._config)this.constructor.Default[it]!==this._config[it]&&(_[it]=this._config[it]);return _.selector=!1,_.trigger="manual",_}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(_){return this.each(function(){const it=Lr.getOrCreateInstance(this,_);if("string"==typeof _){if(void 0===it[_])throw new TypeError(`No method named "${_}"`);it[_]()}})}}$(Lr);const ss={...Lr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Co={...Lr.DefaultType,content:"(null|string|element|function)"};class ro extends Lr{static get Default(){return ss}static get DefaultType(){return Co}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(_){return this.each(function(){const it=ro.getOrCreateInstance(this,_);if("string"==typeof _){if(void 0===it[_])throw new TypeError(`No method named "${_}"`);it[_]()}})}}$(ro);const ks="click.bs.scrollspy",Ao="active",Cr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},es={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ps extends ft{constructor(_,it){super(_,it),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Cr}static get DefaultType(){return es}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const _ of this._observableSections.values())this._observer.observe(_)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(_){return _.target=zt(_.target)||document.body,_.rootMargin=_.offset?`${_.offset}px 0px -30%`:_.rootMargin,"string"==typeof _.threshold&&(_.threshold=_.threshold.split(",").map(it=>Number.parseFloat(it))),_}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(B.off(this._config.target,ks),B.on(this._config.target,ks,"[href]",_=>{const it=this._observableSections.get(_.target.hash);if(it){_.preventDefault();const Xt=this._rootElement||window,Pe=it.offsetTop-this._element.offsetTop;if(Xt.scrollTo)return void Xt.scrollTo({top:Pe,behavior:"smooth"});Xt.scrollTop=Pe}}))}_getNewObserver(){return new IntersectionObserver(it=>this._observerCallback(it),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(_){const it=Re=>this._targetLinks.get(`#${Re.target.id}`),Xt=Re=>{this._previousScrollData.visibleEntryTop=Re.target.offsetTop,this._process(it(Re))},Pe=(this._rootElement||document.documentElement).scrollTop,Le=Pe>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Pe;for(const Re of _){if(!Re.isIntersecting){this._activeTarget=null,this._clearActiveClass(it(Re));continue}const ci=Re.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Le&&ci){if(Xt(Re),!Pe)return}else Le||ci||Xt(Re)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const _=yt.find("[href]",this._config.target);for(const it of _){if(!it.hash||Dt(it))continue;const Xt=yt.findOne(it.hash,this._element);Rt(Xt)&&(this._targetLinks.set(it.hash,it),this._observableSections.set(it.hash,Xt))}}_process(_){this._activeTarget!==_&&(this._clearActiveClass(this._config.target),this._activeTarget=_,_.classList.add(Ao),this._activateParents(_),B.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:_}))}_activateParents(_){if(_.classList.contains("dropdown-item"))yt.findOne(".dropdown-toggle",_.closest(".dropdown")).classList.add(Ao);else for(const it of yt.parents(_,".nav, .list-group"))for(const Xt of yt.prev(it,".nav-link, .nav-item > .nav-link, .list-group-item"))Xt.classList.add(Ao)}_clearActiveClass(_){_.classList.remove(Ao);const it=yt.find("[href].active",_);for(const Xt of it)Xt.classList.remove(Ao)}static jQueryInterface(_){return this.each(function(){const it=ps.getOrCreateInstance(this,_);if("string"==typeof _){if(void 0===it[_]||_.startsWith("_")||"constructor"===_)throw new TypeError(`No method named "${_}"`);it[_]()}})}}B.on(window,"load.bs.scrollspy.data-api",()=>{for(const At of yt.find('[data-bs-spy="scroll"]'))ps.getOrCreateInstance(At)}),$(ps);const Xs="ArrowLeft",Ho="ArrowRight",ba="ArrowUp",ma="ArrowDown",te="active",ze="show",ui='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ve=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${ui}`;class yi extends ft{constructor(_){super(_),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),B.on(this._element,"keydown.bs.tab",it=>this._keydown(it)))}static get NAME(){return"tab"}show(){const _=this._element;if(this._elemIsActive(_))return;const it=this._getActiveElem(),Xt=it?B.trigger(it,"hide.bs.tab",{relatedTarget:_}):null;B.trigger(_,"show.bs.tab",{relatedTarget:it}).defaultPrevented||Xt&&Xt.defaultPrevented||(this._deactivate(it,_),this._activate(_,it))}_activate(_,it){_&&(_.classList.add(te),this._activate(ot(_)),this._queueCallback(()=>{"tab"===_.getAttribute("role")?(_.removeAttribute("tabindex"),_.setAttribute("aria-selected",!0),this._toggleDropDown(_,!0),B.trigger(_,"shown.bs.tab",{relatedTarget:it})):_.classList.add(ze)},_,_.classList.contains("fade")))}_deactivate(_,it){_&&(_.classList.remove(te),_.blur(),this._deactivate(ot(_)),this._queueCallback(()=>{"tab"===_.getAttribute("role")?(_.setAttribute("aria-selected",!1),_.setAttribute("tabindex","-1"),this._toggleDropDown(_,!1),B.trigger(_,"hidden.bs.tab",{relatedTarget:it})):_.classList.remove(ze)},_,_.classList.contains("fade")))}_keydown(_){if(![Xs,Ho,ba,ma].includes(_.key))return;_.stopPropagation(),_.preventDefault();const it=[Ho,ma].includes(_.key),Xt=Y(this._getChildren().filter(Pe=>!Dt(Pe)),_.target,it,!0);Xt&&(Xt.focus({preventScroll:!0}),yi.getOrCreateInstance(Xt).show())}_getChildren(){return yt.find(Ve,this._parent)}_getActiveElem(){return this._getChildren().find(_=>this._elemIsActive(_))||null}_setInitialAttributes(_,it){this._setAttributeIfNotExists(_,"role","tablist");for(const Xt of it)this._setInitialAttributesOnChild(Xt)}_setInitialAttributesOnChild(_){_=this._getInnerElement(_);const it=this._elemIsActive(_),Xt=this._getOuterElement(_);_.setAttribute("aria-selected",it),Xt!==_&&this._setAttributeIfNotExists(Xt,"role","presentation"),it||_.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(_,"role","tab"),this._setInitialAttributesOnTargetPanel(_)}_setInitialAttributesOnTargetPanel(_){const it=ot(_);it&&(this._setAttributeIfNotExists(it,"role","tabpanel"),_.id&&this._setAttributeIfNotExists(it,"aria-labelledby",`#${_.id}`))}_toggleDropDown(_,it){const Xt=this._getOuterElement(_);if(!Xt.classList.contains("dropdown"))return;const Pe=(Le,Re)=>{const ci=yt.findOne(Le,Xt);ci&&ci.classList.toggle(Re,it)};Pe(".dropdown-toggle",te),Pe(".dropdown-menu",ze),Xt.setAttribute("aria-expanded",it)}_setAttributeIfNotExists(_,it,Xt){_.hasAttribute(it)||_.setAttribute(it,Xt)}_elemIsActive(_){return _.classList.contains(te)}_getInnerElement(_){return _.matches(Ve)?_:yt.findOne(Ve,_)}_getOuterElement(_){return _.closest(".nav-item, .list-group-item")||_}static jQueryInterface(_){return this.each(function(){const it=yi.getOrCreateInstance(this);if("string"==typeof _){if(void 0===it[_]||_.startsWith("_")||"constructor"===_)throw new TypeError(`No method named "${_}"`);it[_]()}})}}B.on(document,"click.bs.tab",ui,function(At){["A","AREA"].includes(this.tagName)&&At.preventDefault(),Dt(this)||yi.getOrCreateInstance(this).show()}),B.on(window,"load.bs.tab",()=>{for(const At of yt.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))yi.getOrCreateInstance(At)}),$(yi);const ji="show",Hi="showing",Ln={animation:"boolean",autohide:"boolean",delay:"number"},Tn={animation:!0,autohide:!0,delay:5e3};class cn extends ft{constructor(_,it){super(_,it),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Tn}static get DefaultType(){return Ln}static get NAME(){return"toast"}show(){B.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(ji,Hi),this._queueCallback(()=>{this._element.classList.remove(Hi),B.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(B.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Hi),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Hi,ji),B.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ji),super.dispose()}isShown(){return this._element.classList.contains(ji)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(_,it){switch(_.type){case"mouseover":case"mouseout":this._hasMouseInteraction=it;break;case"focusin":case"focusout":this._hasKeyboardInteraction=it}if(it)return void this._clearTimeout();const Xt=_.relatedTarget;this._element===Xt||this._element.contains(Xt)||this._maybeScheduleHide()}_setListeners(){B.on(this._element,"mouseover.bs.toast",_=>this._onInteraction(_,!0)),B.on(this._element,"mouseout.bs.toast",_=>this._onInteraction(_,!1)),B.on(this._element,"focusin.bs.toast",_=>this._onInteraction(_,!0)),B.on(this._element,"focusout.bs.toast",_=>this._onInteraction(_,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(_){return this.each(function(){const it=cn.getOrCreateInstance(this,_);if("string"==typeof _){if(void 0===it[_])throw new TypeError(`No method named "${_}"`);it[_](this)}})}}return M(cn),$(cn),{Alert:tt,Button:St,Carousel:re,Collapse:li,Dropdown:Ge,Modal:Dr,Offcanvas:Zo,Popover:ro,ScrollSpy:ps,Tab:yi,Toast:cn,Tooltip:Lr}}),function(xt,Pt){"object"==typeof exports&&typeof module<"u"?Pt(exports):"function"==typeof define&&define.amd?define(["exports"],Pt):Pt((xt=typeof globalThis<"u"?globalThis:xt||self).leaflet={})}(this,function(xt){"use strict";function Pt(r){for(var u,y,z=1,lt=arguments.length;z<lt;z++)for(u in y=arguments[z])r[u]=y[u];return r}var j=Object.create||function(r){return ot.prototype=r,new ot};function ot(){}function nt(r,u){var y,z=Array.prototype.slice;return r.bind?r.bind.apply(r,z.call(arguments,1)):(y=z.call(arguments,2),function(){return r.apply(u,y.length?y.concat(z.call(arguments)):arguments)})}var Ct=0;function zt(r){return"_leaflet_id"in r||(r._leaflet_id=++Ct),r._leaflet_id}function Rt(r,u,y){var z,lt,Ht=function(){z=!1,lt&&(ke.apply(y,lt),lt=!1)},ke=function(){z?lt=arguments:(r.apply(y,arguments),setTimeout(Ht,u),z=!0)};return ke}function Dt(r,lt,y){var z=lt[1],Ht=z-(lt=lt[0]);return r===z&&y?r:((r-lt)%Ht+Ht)%Ht+lt}function Ot(){return!1}function J(r,u){return!1===u?r:(u=Math.pow(10,void 0===u?6:u),Math.round(r*u)/u)}function ht(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function at(r){return ht(r).split(/\s+/)}function F(r,u){for(var y in Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?j(r.options):{}),u)r.options[y]=u[y];return r.options}function R(r,u,y){var z,lt=[];for(z in r)lt.push(encodeURIComponent(y?z.toUpperCase():z)+"="+encodeURIComponent(r[z]));return(u&&-1!==u.indexOf("?")?"&":"?")+lt.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function O(r,u){return r.replace($,function(y,z){if(void 0===(z=u[z]))throw new Error("No value provided for variable "+y);return"function"==typeof z?z(u):z})}var V=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};function Y(r,u){for(var y=0;y<r.length;y++)if(r[y]===u)return y;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function dt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var g=0;function h(r){var u=+new Date,y=Math.max(0,16-(u-g));return g=u+y,window.setTimeout(r,y)}var rt=window.requestAnimationFrame||dt("RequestAnimationFrame")||h,T=window.cancelAnimationFrame||dt("CancelAnimationFrame")||dt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function G(r,u,y){if(!y||rt!==h)return rt.call(window,nt(r,u));r.call(u)}function A(r){r&&T.call(window,r)}var D={__proto__:null,extend:Pt,create:j,bind:nt,get lastId(){return Ct},stamp:zt,throttle:Rt,wrapNum:Dt,falseFn:Ot,formatNum:J,trim:ht,splitWords:at,setOptions:F,getParamString:R,template:O,isArray:V,indexOf:Y,emptyImageUrl:K,requestFn:rt,cancelFn:T,requestAnimFrame:G,cancelAnimFrame:A};function b(){}b.extend=function(r){function u(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var y,z=u.__super__=this.prototype,lt=j(z);for(y in(lt.constructor=u).prototype=lt,this)Object.prototype.hasOwnProperty.call(this,y)&&"prototype"!==y&&"__super__"!==y&&(u[y]=this[y]);if(r.statics&&Pt(u,r.statics),r.includes){var Ht=r.includes;if(typeof L<"u"&&L&&L.Mixin){Ht=V(Ht)?Ht:[Ht];for(var ke=0;ke<Ht.length;ke++)Ht[ke]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}Pt.apply(null,[lt].concat(r.includes))}return Pt(lt,r),delete lt.statics,delete lt.includes,lt.options&&(lt.options=z.options?j(z.options):{},Pt(lt.options,r.options)),lt._initHooks=[],lt.callInitHooks=function(){if(!this._initHooksCalled){z.callInitHooks&&z.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ee=0,oi=lt._initHooks.length;Ee<oi;Ee++)lt._initHooks[Ee].call(this)}},u},b.include=function(r){var u=this.prototype.options;return Pt(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},b.mergeOptions=function(r){return Pt(this.prototype.options,r),this},b.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),y="function"==typeof r?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};var W={on:function(r,u,y){if("object"==typeof r)for(var z in r)this._on(z,r[z],u);else for(var lt=0,Ht=(r=at(r)).length;lt<Ht;lt++)this._on(r[lt],u,y);return this},off:function(r,u,y){if(arguments.length)if("object"==typeof r)for(var z in r)this._off(z,r[z],u);else{r=at(r);for(var lt=1===arguments.length,Ht=0,ke=r.length;Ht<ke;Ht++)lt?this._off(r[Ht]):this._off(r[Ht],u,y)}else delete this._events;return this},_on:function(r,u,y,z){"function"!=typeof u?console.warn("wrong listener type: "+typeof u):!1===this._listens(r,u,y)&&(u={fn:u,ctx:y=y===this?void 0:y},z&&(u.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(u))},_off:function(r,u,y){var z,lt,Ht;if(this._events&&(z=this._events[r]))if(1===arguments.length){if(this._firingCount)for(lt=0,Ht=z.length;lt<Ht;lt++)z[lt].fn=Ot;delete this._events[r]}else"function"!=typeof u?console.warn("wrong listener type: "+typeof u):!1!==(u=this._listens(r,u,y))&&(y=z[u],this._firingCount&&(y.fn=Ot,this._events[r]=z=z.slice()),z.splice(u,1))},fire:function(r,u,y){if(this.listens(r,y)){var z=Pt({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var lt=this._events[r];if(lt){this._firingCount=this._firingCount+1||1;for(var Ht=0,ke=lt.length;Ht<ke;Ht++){var Ee=lt[Ht],oi=Ee.fn;Ee.once&&this.off(r,oi,Ee.ctx),oi.call(Ee.ctx||this,z)}this._firingCount--}}y&&this._propagateEvent(z)}return this},listens:function(r,u,y,z){"string"!=typeof r&&console.warn('"string" type argument expected');var lt=u,Ht=("function"!=typeof u&&(z=!!u,y=lt=void 0),this._events&&this._events[r]);if(Ht&&Ht.length&&!1!==this._listens(r,lt,y))return!0;if(z)for(var ke in this._eventParents)if(this._eventParents[ke].listens(r,u,y,z))return!0;return!1},_listens:function(r,u,y){if(this._events){var z=this._events[r]||[];if(!u)return!!z.length;y===this&&(y=void 0);for(var lt=0,Ht=z.length;lt<Ht;lt++)if(z[lt].fn===u&&z[lt].ctx===y)return lt}return!1},once:function(r,u,y){if("object"==typeof r)for(var z in r)this._on(z,r[z],u,!0);else for(var lt=0,Ht=(r=at(r)).length;lt<Ht;lt++)this._on(r[lt],u,y,!0);return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[zt(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[zt(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,Pt({layer:r.target,propagatedFrom:r.target},r),!0)}},k=(W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens,b.extend(W));function P(r,u,y){this.x=y?Math.round(r):r,this.y=y?Math.round(u):u}var Q=Math.trunc||function(r){return 0<r?Math.floor(r):Math.ceil(r)};function I(r,u,y){return r instanceof P?r:V(r)?new P(r[0],r[1]):null==r?r:"object"==typeof r&&"x"in r&&"y"in r?new P(r.x,r.y):new P(r,u,y)}function B(r,u){if(r)for(var y=u?[r,u]:r,z=0,lt=y.length;z<lt;z++)this.extend(y[z])}function vt(r,u){return!r||r instanceof B?r:new B(r,u)}function Ut(r,u){if(r)for(var y=u?[r,u]:r,z=0,lt=y.length;z<lt;z++)this.extend(y[z])}function It(r,u){return r instanceof Ut?r:new Ut(r,u)}function E(r,u,y){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,void 0!==y&&(this.alt=+y)}function U(r,u,y){return r instanceof E?r:V(r)&&"object"!=typeof r[0]?3===r.length?new E(r[0],r[1],r[2]):2===r.length?new E(r[0],r[1]):null:null==r?r:"object"==typeof r&&"lat"in r?new E(r.lat,"lng"in r?r.lng:r.lon,r.alt):void 0===u?null:new E(r,u,y)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(r){return this.clone()._add(I(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(I(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new P(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new P(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(y){var u=(y=I(y)).x-this.x;return y=y.y-this.y,Math.sqrt(u*u+y*y)},equals:function(r){return(r=I(r)).x===this.x&&r.y===this.y},contains:function(r){return r=I(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+J(this.x)+", "+J(this.y)+")"}},B.prototype={extend:function(r){var u,y;if(r){if(r instanceof P||"number"==typeof r[0]||"x"in r)u=y=I(r);else if(u=(r=vt(r)).min,y=r.max,!u||!y)return this;this.min||this.max?(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)):(this.min=u.clone(),this.max=y.clone())}return this},getCenter:function(r){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,y;return(r=("number"==typeof r[0]||r instanceof P?I:vt)(r))instanceof B?(u=r.min,y=r.max):u=y=r,u.x>=this.min.x&&y.x<=this.max.x&&u.y>=this.min.y&&y.y<=this.max.y},intersects:function(Ht){Ht=vt(Ht);var u=this.min,y=this.max,z=Ht.min,lt=(Ht=Ht.max).x>=u.x&&z.x<=y.x;return Ht=Ht.y>=u.y&&z.y<=y.y,lt&&Ht},overlaps:function(Ht){Ht=vt(Ht);var u=this.min,y=this.max,z=Ht.min,lt=(Ht=Ht.max).x>u.x&&z.x<y.x;return Ht=Ht.y>u.y&&z.y<y.y,lt&&Ht},isValid:function(){return!(!this.min||!this.max)},pad:function(lt){var u=this.min,y=this.max,z=Math.abs(u.x-y.x)*lt;return lt=Math.abs(u.y-y.y)*lt,vt(I(u.x-z,u.y-lt),I(y.x+z,y.y+lt))},equals:function(r){return!!r&&(r=vt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight()))}},Ut.prototype={extend:function(r){var u,y,z=this._southWest,lt=this._northEast;if(r instanceof E)y=u=r;else{if(!(r instanceof Ut))return r?this.extend(U(r)||It(r)):this;if(y=r._northEast,!(u=r._southWest)||!y)return this}return z||lt?(z.lat=Math.min(u.lat,z.lat),z.lng=Math.min(u.lng,z.lng),lt.lat=Math.max(y.lat,lt.lat),lt.lng=Math.max(y.lng,lt.lng)):(this._southWest=new E(u.lat,u.lng),this._northEast=new E(y.lat,y.lng)),this},pad:function(lt){var u=this._southWest,y=this._northEast,z=Math.abs(u.lat-y.lat)*lt;return lt=Math.abs(u.lng-y.lng)*lt,new Ut(new E(u.lat-z,u.lng-lt),new E(y.lat+z,y.lng+lt))},getCenter:function(){return new E((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new E(this.getNorth(),this.getWest())},getSouthEast:function(){return new E(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){r=("number"==typeof r[0]||r instanceof E||"lat"in r?U:It)(r);var u,y,z=this._southWest,lt=this._northEast;return r instanceof Ut?(u=r.getSouthWest(),y=r.getNorthEast()):u=y=r,u.lat>=z.lat&&y.lat<=lt.lat&&u.lng>=z.lng&&y.lng<=lt.lng},intersects:function(Ht){Ht=It(Ht);var u=this._southWest,y=this._northEast,z=Ht.getSouthWest(),lt=(Ht=Ht.getNorthEast()).lat>=u.lat&&z.lat<=y.lat;return Ht=Ht.lng>=u.lng&&z.lng<=y.lng,lt&&Ht},overlaps:function(Ht){Ht=It(Ht);var u=this._southWest,y=this._northEast,z=Ht.getSouthWest(),lt=(Ht=Ht.getNorthEast()).lat>u.lat&&z.lat<y.lat;return Ht=Ht.lng>u.lng&&z.lng<y.lng,lt&&Ht},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return!!r&&(r=It(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u))},isValid:function(){return!(!this._southWest||!this._northEast)}};var mt={latLngToPoint:function(r,u){return r=this.projection.project(r),u=this.scale(u),this.transformation._transform(r,u)},pointToLatLng:function(r,u){return u=this.scale(u),r=this.transformation.untransform(r,u),this.projection.unproject(r)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){var u;return this.infinite?null:(u=this.projection.bounds,r=this.scale(r),new B(this.transformation.transform(u.min,r),this.transformation.transform(u.max,r)))},infinite:!(E.prototype={equals:function(r,u){return!!r&&(r=U(r),Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng))<=(void 0===u?1e-9:u))},toString:function(r){return"LatLng("+J(this.lat,r)+", "+J(this.lng,r)+")"},distanceTo:function(r){return ct.distance(this,U(r))},wrap:function(){return ct.wrapLatLng(this)},toBounds:function(u){var y=(u=180*u/40075017)/Math.cos(Math.PI/180*this.lat);return It([this.lat-u,this.lng-y],[this.lat+u,this.lng+y])},clone:function(){return new E(this.lat,this.lng,this.alt)}}),wrapLatLng:function(r){var u=this.wrapLng?Dt(r.lng,this.wrapLng,!0):r.lng;return new E(this.wrapLat?Dt(r.lat,this.wrapLat,!0):r.lat,u,r.alt)},wrapLatLngBounds:function(r){var z=r.getCenter(),u=this.wrapLatLng(z),y=z.lat-u.lat;return z=z.lng-u.lng,0==y&&0==z?r:(u=r.getSouthWest(),r=r.getNorthEast(),new Ut(new E(u.lat-y,u.lng-z),new E(r.lat-y,r.lng-z)))}},ct=Pt({},mt,{wrapLng:[-180,180],R:6371e3,distance:function(ke,Ht){var Ee=Math.PI/180,y=ke.lat*Ee,z=Ht.lat*Ee,lt=Math.sin((Ht.lat-ke.lat)*Ee/2);return Ht=Math.sin((Ht.lng-ke.lng)*Ee/2),ke=lt*lt+Math.cos(y)*Math.cos(z)*Ht*Ht,Ee=2*Math.atan2(Math.sqrt(ke),Math.sqrt(1-ke)),this.R*Ee}}),ft={R:ft=6378137,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,y=this.MAX_LATITUDE;return y=Math.max(Math.min(y,r.lat),-y),y=Math.sin(y*u),new P(this.R*r.lng*u,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var u=180/Math.PI;return new E((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:new B([-(ft*=Math.PI),-ft],[ft,ft])};function M(r,u,y,z){V(r)?(this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3]):(this._a=r,this._b=u,this._c=y,this._d=z)}function tt(r,u,y,z){return new M(r,u,y,z)}M.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return r.x=(u=u||1)*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return new P((r.x/(u=u||1)-this._b)/this._a,(r.y/u-this._d)/this._c)}};var X=Pt({},ct,{code:"EPSG:3857",projection:ft,transformation:tt(X=.5/(Math.PI*ft.R),.5,-X,.5)}),St=Pt({},X,{code:"EPSG:900913"});function yt(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function jt(r,u){for(var y,z,lt,Ht,ke="",Ee=0,oi=r.length;Ee<oi;Ee++){for(y=0,z=(lt=r[Ee]).length;y<z;y++)ke+=(y?"L":"M")+(Ht=lt[y]).x+" "+Ht.y;ke+=u?ee.svg?"z":"x":""}return ke||"M0 0"}var Po=document.documentElement.style,kt="ActiveXObject"in window,Jn=kt&&!document.addEventListener,po="msLaunchUri"in navigator&&!("documentMode"in document),Gr=le("webkit"),ie=le("android"),Bs=le("android 2")||le("android 3"),vs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ts=(vs=ie&&le("Google")&&vs<537&&!("AudioNode"in window),!!window.opera),oa=!po&&le("chrome"),pe=le("gecko")&&!Gr&&!ts&&!kt,ea=!oa&&le("safari"),f=le("phantom"),C="OTransition"in Po,Fe=0===navigator.platform.indexOf("Win"),Gn=kt&&"transition"in Po,pr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bs,Zo=(Po="MozPerspective"in Po,!window.L_DISABLE_3D&&(Gn||pr||Po)&&!C&&!f),na=(_s=typeof orientation<"u"||le("mobile"))&&Gr,Es=_s&&pr,os=!window.PointerEvent&&window.MSPointerEvent,Go=!(!window.PointerEvent&&!os),je="ontouchstart"in window||!!window.TouchEvent,Ce=!window.L_NO_TOUCH&&(je||Go),$t=_s&&ts,de=_s&&pe,Qt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Et=function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",Ot,u),window.removeEventListener("testPassiveEventSupport",Ot,u)}catch{}return r}(),Lt=!!document.createElement("canvas").getContext,ne=!(!document.createElementNS||!yt("svg").createSVGRect),re=!!ne&&((re=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(re.firstChild&&re.firstChild.namespaceURI));function le(r){return 0<=navigator.userAgent.toLowerCase().indexOf(r)}var ee={ie:kt,ielt9:Jn,edge:po,webkit:Gr,android:ie,android23:Bs,androidStock:vs,opera:ts,chrome:oa,gecko:pe,safari:ea,phantom:f,opera12:C,win:Fe,ie3d:Gn,webkit3d:pr,gecko3d:Po,any3d:Zo,mobile:_s,mobileWebkit:na,mobileWebkit3d:Es,msPointer:os,pointer:Go,touch:Ce,touchNative:je,mobileOpera:$t,mobileGecko:de,retina:Qt,passiveEvents:Et,canvas:Lt,svg:ne,vml:!ne&&function(){try{var r=document.createElement("div"),u=(r.innerHTML='<v:shape adj="1"/>',r.firstChild);return u.style.behavior="url(#default#VML)",u&&"object"==typeof u.adj}catch{return!1}}(),inlineSvg:re,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ue=ee.msPointer?"MSPointerDown":"pointerdown",Ke=ee.msPointer?"MSPointerMove":"pointermove",Ii=ee.msPointer?"MSPointerUp":"pointerup",ai=ee.msPointer?"MSPointerCancel":"pointercancel",li={touchstart:Ue,touchmove:Ke,touchend:Ii,touchcancel:ai},Pi={touchstart:function(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&fn(u),H(r,u)},touchmove:H,touchend:H,touchcancel:H},hi={},Di=!1;function On(r){hi[r.pointerId]=r}function jn(r){hi[r.pointerId]&&(hi[r.pointerId]=r)}function x(r){delete hi[r.pointerId]}function H(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){for(var y in u.touches=[],hi)u.touches.push(hi[y]);u.changedTouches=[u],r(u)}}var se,Me,ii,ki,Ni,sn,hr=Yt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xr=Yt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),tr="webkitTransition"===xr||"OTransition"===xr?xr+"End":"transitionend";function eo(r){return"string"==typeof r?document.getElementById(r):r}function Br(r,u){var y=r.style[u]||r.currentStyle&&r.currentStyle[u];return"auto"===(y=y&&"auto"!==y||!document.defaultView?y:(r=document.defaultView.getComputedStyle(r,null))?r[u]:null)?null:y}function Rn(r,u,y){return(r=document.createElement(r)).className=u||"",y&&y.appendChild(r),r}function Yn(r){var u=r.parentNode;u&&u.removeChild(r)}function So(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function jr(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Or(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function Ro(r,u){return void 0!==r.classList?r.classList.contains(u):0<(r=Mt(r)).length&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(r)}function rn(r,u){var y;if(void 0!==r.classList)for(var z=at(u),lt=0,Ht=z.length;lt<Ht;lt++)r.classList.add(z[lt]);else Ro(r,u)||gt(r,((y=Mt(r))?y+" ":"")+u)}function An(r,u){void 0!==r.classList?r.classList.remove(u):gt(r,ht((" "+Mt(r)+" ").replace(" "+u+" "," ")))}function gt(r,u){void 0===r.className.baseVal?r.className=u:r.className.baseVal=u}function Mt(r){return void 0===(r=r.correspondingElement?r.correspondingElement:r).className.baseVal?r.className:r.className.baseVal}function Ft(r,u){if("opacity"in r.style)r.style.opacity=u;else if("filter"in r.style){var y=!1,z="DXImageTransform.Microsoft.Alpha";try{y=r.filters.item(z)}catch{if(1===u)return}u=Math.round(100*u),y?(y.Enabled=100!==u,y.Opacity=u):r.style.filter+=" progid:"+z+"(opacity="+u+")"}}function Yt(r){for(var u=document.documentElement.style,y=0;y<r.length;y++)if(r[y]in u)return r[y];return!1}function oe(r,u,y){u=u||new P(0,0),r.style[hr]=(ee.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(y?" scale("+y+")":"")}function ge(r,u){r._leaflet_pos=u,ee.any3d?oe(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Te(r){return r._leaflet_pos||new P(0,0)}function qt(){qe(window,"dragstart",fn)}function fe(){mi(window,"dragstart",fn)}function Oe(r){for(;-1===r.tabIndex;)r=r.parentNode;r.style&&(ei(),sn=(Ni=r).style.outline,r.style.outline="none",qe(window,"keydown",ei))}function ei(){Ni&&(Ni.style.outline=sn,sn=Ni=void 0,mi(window,"keydown",ei))}function pi(r){for(;!((r=r.parentNode).offsetWidth&&r.offsetHeight||r===document.body););return r}function He(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}function qe(r,u,y,z){if(u&&"object"==typeof u)for(var lt in u)Ci(r,lt,u[lt],y);else for(var Ht=0,ke=(u=at(u)).length;Ht<ke;Ht++)Ci(r,u[Ht],y,z);return this}ki="onselectstart"in document?(ii=function(){qe(window,"selectstart",fn)},function(){mi(window,"selectstart",fn)}):(Me=Yt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),ii=function(){var r;Me&&(r=document.documentElement.style,se=r[Me],r[Me]="none")},function(){Me&&(document.documentElement.style[Me]=se,se=void 0)}),kt={__proto__:null,TRANSFORM:hr,TRANSITION:xr,TRANSITION_END:tr,get:eo,getStyle:Br,create:Rn,remove:Yn,empty:So,toFront:jr,toBack:Or,hasClass:Ro,addClass:rn,removeClass:An,setClass:gt,getClass:Mt,setOpacity:Ft,testProp:Yt,setTransform:oe,setPosition:ge,getPosition:Te,get disableTextSelection(){return ii},get enableTextSelection(){return ki},disableImageDrag:qt,enableImageDrag:fe,preventOutline:Oe,restoreOutline:ei,getSizedParentNode:pi,getScale:He};var Ri="_leaflet_events";function mi(r,u,y,z){if(1===arguments.length)$e(r),delete r[Ri];else if(u&&"object"==typeof u)for(var lt in u)Ai(r,lt,u[lt],y);else if(u=at(u),2===arguments.length)$e(r,function(Ee){return-1!==Y(u,Ee)});else for(var Ht=0,ke=u.length;Ht<ke;Ht++)Ai(r,u[Ht],y,z);return this}function $e(r,u){for(var y in r[Ri]){var z=y.split(/\d/)[0];u&&!u(z)||Ai(r,z,null,null,y)}}var Li={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ci(r,u,y,z){var lt,Ht,ke=u+zt(y)+(z?"_"+zt(z):"");r[Ri]&&r[Ri][ke]||(Ht=lt=function(Ee){return y.call(z||r,Ee||window.event)},!ee.touchNative&&ee.pointer&&0===u.indexOf("touch")?lt=function bi(r,u,y){return"touchstart"!==u||Di||(document.addEventListener(Ue,On,!0),document.addEventListener(Ke,jn,!0),document.addEventListener(Ii,x,!0),document.addEventListener(ai,x,!0),Di=!0),Pi[u]?(y=Pi[u].bind(this,y),r.addEventListener(li[u],y,!1),y):(console.warn("wrong event specified:",u),Ot)}(r,u,lt):ee.touch&&"dblclick"===u?lt=function Gt(r,u){r.addEventListener("dblclick",u);var y,z=0;function lt(Ht){var ke;1!==Ht.detail?y=Ht.detail:"mouse"===Ht.pointerType||Ht.sourceCapabilities&&!Ht.sourceCapabilities.firesTouchEvents||(ke=Vn(Ht)).some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!ke.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement})||((ke=Date.now())-z<=200?2==++y&&u(function(Ee){var oi,ni,Ki={};for(ni in Ee)Ki[ni]=(oi=Ee[ni])&&oi.bind?oi.bind(Ee):oi;return(Ee=Ki).type="dblclick",Ki.detail=2,Ki.isTrusted=!1,Ki._simulated=!0,Ki}(Ht)):y=1,z=ke)}return r.addEventListener("click",lt),{dblclick:u,simDblclick:lt}}(r,lt):"addEventListener"in r?"touchstart"===u||"touchmove"===u||"wheel"===u||"mousewheel"===u?r.addEventListener(Li[u]||u,lt,!!ee.passiveEvents&&{passive:!1}):"mouseenter"===u||"mouseleave"===u?r.addEventListener(Li[u],lt=function(Ee){Ee=Ee||window.event,Mr(r,Ee)&&Ht(Ee)},!1):r.addEventListener(u,Ht,!1):r.attachEvent("on"+u,lt),r[Ri]=r[Ri]||{},r[Ri][ke]=lt)}function Ai(r,u,Ee,z,lt){var Ht,ke;lt=lt||u+zt(Ee)+(z?"_"+zt(z):""),(Ee=r[Ri]&&r[Ri][lt])&&(!ee.touchNative&&ee.pointer&&0===u.indexOf("touch")?(z=r,ke=Ee,li[Ht=u]?z.removeEventListener(li[Ht],ke,!1):console.warn("wrong event specified:",Ht)):ee.touch&&"dblclick"===u?((ke=r).removeEventListener("dblclick",(z=Ee).dblclick),ke.removeEventListener("click",z.simDblclick)):"removeEventListener"in r?r.removeEventListener(Li[u]||u,Ee,!1):r.detachEvent("on"+u,Ee),r[Ri][lt]=null)}function ln(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function _i(r){return Ci(r,"wheel",ln),this}function En(r){return qe(r,"mousedown touchstart dblclick contextmenu",ln),r._leaflet_disable_click=!0,this}function fn(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function mn(r){return fn(r),ln(r),this}function Vn(r){if(r.composedPath)return r.composedPath();for(var u=[],y=r.target;y;)u.push(y),y=y.parentNode;return u}function Sn(r,u){var y,z;return u?(z=(y=He(u)).boundingClientRect,new P((r.clientX-z.left)/y.x-u.clientLeft,(r.clientY-z.top)/y.y-u.clientTop)):new P(r.clientX,r.clientY)}var Ur=ee.linux&&ee.chrome?window.devicePixelRatio:ee.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function qn(r){return ee.edge?r.wheelDeltaY/2:r.deltaY&&0===r.deltaMode?-r.deltaY/Ur:r.deltaY&&1===r.deltaMode?20*-r.deltaY:r.deltaY&&2===r.deltaMode?60*-r.deltaY:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?20*-r.detail:r.detail?r.detail/-32765*60:0}function Mr(r,u){var y=u.relatedTarget;if(!y)return!0;try{for(;y&&y!==r;)y=y.parentNode}catch{return!1}return y!==r}Jn={__proto__:null,on:qe,off:mi,stopPropagation:ln,disableScrollPropagation:_i,disableClickPropagation:En,preventDefault:fn,stop:mn,getPropagationPath:Vn,getMousePosition:Sn,getWheelDelta:qn,isExternalTarget:Mr,addListener:qe,removeListener:mi};var kn=k.extend({run:function(r,u,y,z){this.stop(),this._el=r,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=Te(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,y=1e3*this._duration;u<y?this._runFrame(this._easeOut(u/y),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){r=this._startPos.add(this._offset.multiplyBy(r)),u&&r._round(),ge(this._el,r),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Gi=k.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=F(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=nt(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),void 0!==u.zoom&&(this._zoom=this._limitZoom(u.zoom)),u.center&&void 0!==u.zoom&&this.setView(U(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xr&&ee.any3d&&!ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),qe(this._proxy,tr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,y){return u=void 0===u?this._zoom:this._limitZoom(u),r=this._limitCenter(U(r),u,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&!0!==y&&(void 0!==y.animate&&(y.zoom=Pt({animate:y.animate},y.zoom),y.pan=Pt({animate:y.animate,duration:y.duration},y.pan)),this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,y.zoom):this._tryAnimatedPan(r,y.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(r,u,y.pan&&y.pan.noMoveStart),this)},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return this.setZoom(this._zoom+(r=r||(ee.any3d?this.options.zoomDelta:1)),u)},zoomOut:function(r,u){return this.setZoom(this._zoom-(r=r||(ee.any3d?this.options.zoomDelta:1)),u)},setZoomAround:function(lt,u,y){var Ht=this.getZoomScale(u),z=this.getSize().divideBy(2);return lt=(lt instanceof P?lt:this.latLngToContainerPoint(lt)).subtract(z).multiplyBy(1-1/Ht),Ht=this.containerPointToLatLng(z.add(lt)),this.setView(Ht,u,{zoom:y})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():It(r);var y=I(u.paddingTopLeft||u.padding||[0,0]),z=I(u.paddingBottomRight||u.padding||[0,0]),lt=this.getBoundsZoom(r,!1,y.add(z));return(lt="number"==typeof u.maxZoom?Math.min(u.maxZoom,lt):lt)===1/0?{center:r.getCenter(),zoom:lt}:(u=z.subtract(y).divideBy(2),z=this.project(r.getSouthWest(),lt),y=this.project(r.getNorthEast(),lt),{center:this.unproject(z.add(y).divideBy(2).add(u),lt),zoom:lt})},fitBounds:function(r,u){if((r=It(r)).isValid())return r=this._getBoundsCenterZoom(r,u),this.setView(r.center,r.zoom,u);throw new Error("Bounds are not valid.")},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){var y;return u=u||{},(r=I(r).round()).x||r.y?(!0===u.animate||this.getSize().contains(r)?(this._panAnim||(this._panAnim=new kn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),!1!==u.animate?(rn(this._mapPane,"leaflet-pan-anim"),y=this._getMapPanePos().subtract(r).round(),this._panAnim.run(this._mapPane,y,u.duration||.25,u.easeLinearity)):(this._rawPanBy(r),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this):this.fire("moveend")},flyTo:function(r,u,y){if(!1===(y=y||{}).animate||!ee.any3d)return this.setView(r,u,y);this._stop();var z=this.project(this.getCenter()),lt=this.project(r),Ht=this.getSize(),ke=this._zoom,Ee=(r=U(r),u=void 0===u?ke:u,Math.max(Ht.x,Ht.y)),oi=Ee*this.getZoomScale(ke,u),ni=lt.distanceTo(z)||1,Ki=1.42,bn=Ki*Ki;function Un(Cr){return Cr=(oi*oi-Ee*Ee+(Cr?-1:1)*bn*bn*ni*ni)/(2*(Cr?oi:Ee)*bn*ni),(Cr=Math.sqrt(Cr*Cr+1)-Cr)<1e-9?-18:Math.log(Cr)}function Lr(Cr){return(Math.exp(Cr)-Math.exp(-Cr))/2}function ss(Cr){return(Math.exp(Cr)+Math.exp(-Cr))/2}var Co=Un(0),ks=Date.now(),Ao=(Un(1)-Co)/Ki,Ns=y.duration?1e3*y.duration:1e3*Ao*.8;return this._moveStart(!0,y.noMoveStart),function Cr(){var es=(Date.now()-ks)/Ns,ps=(1-Math.pow(1-es,1.5))*Ao;es<=1?(this._flyToFrame=G(Cr,this),this._move(this.unproject(z.add(lt.subtract(z).multiplyBy(function ro(Cr){return Ee*(ss(Co)*(Lr(Cr=Co+Ki*Cr)/ss(Cr))-Lr(Co))/bn}(ps)/ni)),ke),this.getScaleZoom(Ee/(es=ps,Ee*(ss(Co)/ss(Co+Ki*es))),ke),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}.call(this),this},flyToBounds:function(r,u){return r=this._getBoundsCenterZoom(r,u),this.flyTo(r.center,r.zoom,u)},setMaxBounds:function(r){return r=It(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(z,u){this._enforcingBounds=!0;var y=this.getCenter();return z=this._limitCenter(y,this._zoom,It(z)),y.equals(z)||this.panTo(z,u),this._enforcingBounds=!1,this},panInside:function(lt,u){var Ht=I((u=u||{}).paddingTopLeft||u.padding||[0,0]),y=I(u.paddingBottomRight||u.padding||[0,0]),z=this.project(this.getCenter()),ke=(lt=this.project(lt),(Ht=vt([(ke=this.getPixelBounds()).min.add(Ht),ke.max.subtract(y)])).getSize());return Ht.contains(lt)||(this._enforcingBounds=!0,y=lt.subtract(Ht.getCenter()),Ht=Ht.extend(lt).getSize().subtract(ke),z.x+=y.x<0?-Ht.x:Ht.x,z.y+=y.y<0?-Ht.y:Ht.y,this.panTo(this.unproject(z),u),this._enforcingBounds=!1),this},invalidateSize:function(r){if(!this._loaded)return this;r=Pt({animate:!1,pan:!0},!0===r?{animate:!0}:r);var u=this.getSize(),y=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),lt=u.divideBy(2).round(),z=y.divideBy(2).round();return(lt=lt.subtract(z)).x||lt.y?(r.animate&&r.pan?this.panBy(lt):(r.pan&&this._rawPanBy(lt),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(nt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:y})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){var u,y;return r=this._locateOptions=Pt({timeout:1e4,watch:!1},r),"geolocation"in navigator?(u=nt(this._handleGeolocationResponse,this),y=nt(this._handleGeolocationError,this),r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,y,r):navigator.geolocation.getCurrentPosition(u,y,r)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){var u;this._container._leaflet_id&&(u=r.code,r=r.message||(1===u?"permission denied":2===u?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+r+"."}))},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u,y,z=new E(r.coords.latitude,r.coords.longitude),lt=z.toBounds(2*r.coords.accuracy),Ht=this._locateOptions,ke=(Ht.setView&&(u=this.getBoundsZoom(lt),this.setView(z,Ht.maxZoom?Math.min(u,Ht.maxZoom):u)),{latlng:z,bounds:lt,timestamp:r.timestamp});for(y in r.coords)"number"==typeof r.coords[y]&&(ke[y]=r.coords[y]);this.fire("locationfound",ke)}},addHandler:function(r,u){return u&&(u=this[r]=new u(this),this._handlers.push(u),this.options[r]&&u.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var r in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Yn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[r].remove();for(r in this._panes)Yn(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){return u=Rn("div","leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),u||this._mapPane),r&&(this._panes[r]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds();return new Ut(this.unproject(r.getBottomLeft()),this.unproject(r.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(oi,u,Ee){oi=It(oi),Ee=I(Ee||[0,0]);var ni=this.getZoom()||0,z=this.getMinZoom(),lt=this.getMaxZoom(),Ht=oi.getNorthWest(),ke=(oi=oi.getSouthEast(),Ee=this.getSize().subtract(Ee),oi=vt(this.project(oi,ni),this.project(Ht,ni)).getSize(),Ht=ee.any3d?this.options.zoomSnap:1,Ee.x/oi.x);return Ee=Ee.y/oi.y,oi=u?Math.max(ke,Ee):Math.min(ke,Ee),ni=this.getScaleZoom(oi,ni),Ht&&(ni=Math.round(ni/(Ht/100))*(Ht/100),ni=u?Math.ceil(ni/Ht)*Ht:Math.floor(ni/Ht)*Ht),Math.max(z,Math.min(lt,ni))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){return new B(r=this._getTopLeftPoint(r,u),r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(void 0===r?this.getZoom():r)},getPane:function(r){return"string"==typeof r?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var y=this.options.crs;return u=void 0===u?this._zoom:u,y.scale(r)/y.scale(u)},getScaleZoom:function(z,u){var y=this.options.crs;return z=y.zoom(z*y.scale(u=void 0===u?this._zoom:u)),isNaN(z)?1/0:z},project:function(r,u){return u=void 0===u?this._zoom:u,this.options.crs.latLngToPoint(U(r),u)},unproject:function(r,u){return u=void 0===u?this._zoom:u,this.options.crs.pointToLatLng(I(r),u)},layerPointToLatLng:function(r){return r=I(r).add(this.getPixelOrigin()),this.unproject(r)},latLngToLayerPoint:function(r){return this.project(U(r))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(U(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(It(r))},distance:function(r,u){return this.options.crs.distance(U(r),U(u))},containerPointToLayerPoint:function(r){return I(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return I(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){return r=this.containerPointToLayerPoint(I(r)),this.layerPointToLatLng(r)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(r)))},mouseEventToContainerPoint:function(r){return Sn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){if(!(r=this._container=eo(r)))throw new Error("Map container not found.");if(r._leaflet_id)throw new Error("Map container is already initialized.");qe(r,"scroll",this._onScroll,this),this._containerId=zt(r)},_initLayout:function(){var r=this._container,u=(this._fadeAnimated=this.options.fadeAnimation&&ee.any3d,rn(r,"leaflet-container"+(ee.touch?" leaflet-touch":"")+(ee.retina?" leaflet-retina":"")+(ee.ielt9?" leaflet-oldie":"")+(ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),Br(r,"position"));"absolute"!==u&&"relative"!==u&&"fixed"!==u&&"sticky"!==u&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ge(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rn(r.markerPane,"leaflet-zoom-hide"),rn(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,y){ge(this._mapPane,new P(0,0));var z=!this._loaded,lt=(this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset"),this._zoom!==u);this._moveStart(lt,y)._move(r,u)._moveEnd(lt),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,y,z){void 0===u&&(u=this._zoom);var lt=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),z?y&&y.pinch&&this.fire("zoom",y):((lt||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ge(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={};var u=r?mi:qe;u((this._targets[zt(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),ee.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var y,z=[],lt="mouseout"===u||"mouseover"===u,Ht=r.target||r.srcElement,ke=!1;Ht;){if((y=this._targets[zt(Ht)])&&("click"===u||"preclick"===u)&&this._draggableMoved(y)){ke=!0;break}if(y&&y.listens(u,!0)&&(lt&&!Mr(Ht,r)||(z.push(y),lt))||Ht===this._container)break;Ht=Ht.parentNode}return z.length||ke||lt||!this.listens(u,!0)?z:[this]},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u,y=r.target||r.srcElement;!this._loaded||y._leaflet_disable_events||"click"===r.type&&this._isClickDisabled(y)||("mousedown"===(u=r.type)&&Oe(y),this._fireDOMEvent(r,u))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,y){"click"===r.type&&((Ee=Pt({},r)).type="preclick",this._fireDOMEvent(Ee,Ee.type,y));var z=this._findEventTargets(r,u);if(y){for(var lt=[],Ht=0;Ht<y.length;Ht++)y[Ht].listens(u,!0)&&lt.push(y[Ht]);z=lt.concat(z)}if(z.length){"contextmenu"===u&&fn(r);var ke,Ee=z[0],oi={originalEvent:r};for("keypress"!==r.type&&"keydown"!==r.type&&"keyup"!==r.type&&(oi.containerPoint=(ke=Ee.getLatLng&&(!Ee._radius||Ee._radius<=10))?this.latLngToContainerPoint(Ee.getLatLng()):this.mouseEventToContainerPoint(r),oi.layerPoint=this.containerPointToLayerPoint(oi.containerPoint),oi.latlng=ke?Ee.getLatLng():this.layerPointToLatLng(oi.layerPoint)),Ht=0;Ht<z.length;Ht++)if(z[Ht].fire(u,oi,!0),oi.originalEvent._stopped||!1===z[Ht].options.bubblingMouseEvents&&-1!==Y(this._mouseEvents,u))return}},_draggableMoved:function(r){return(r=r.dragging&&r.dragging.enabled()?r:this).dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Te(this._mapPane)||new P(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){return(r&&void 0!==u?this._getNewPixelOrigin(r,u):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var y=this.getSize()._divideBy(2);return this.project(r,u)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,y){return y=this._getNewPixelOrigin(y,u),this.project(r,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(r,u,y){return y=this._getNewPixelOrigin(y,u),vt([this.project(r.getSouthWest(),u)._subtract(y),this.project(r.getNorthWest(),u)._subtract(y),this.project(r.getSouthEast(),u)._subtract(y),this.project(r.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,y){var z,lt;return!y||(z=this.project(r,u),lt=this.getSize().divideBy(2),lt=new B(z.subtract(lt),z.add(lt)),lt=this._getBoundsOffset(lt,y,u),Math.abs(lt.x)<=1&&Math.abs(lt.y)<=1)?r:this.unproject(z.add(lt),u)},_limitOffset:function(r,u){var y;return u?(y=new B((y=this.getPixelBounds()).min.add(r),y.max.add(r)),r.add(this._getBoundsOffset(y,u))):r},_getBoundsOffset:function(r,u,y){return y=(u=vt(this.project(u.getNorthEast(),y),this.project(u.getSouthWest(),y))).min.subtract(r.min),u=u.max.subtract(r.max),new P(this._rebound(y.x,-u.x),this._rebound(y.y,-u.y))},_rebound:function(r,u){return 0<r+u?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),y=this.getMaxZoom(),z=ee.any3d?this.options.zoomSnap:1;return z&&(r=Math.round(r/z)*z),Math.max(u,Math.min(y,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){An(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){return r=this._getCenterOffset(r)._trunc(),!(!0!==(u&&u.animate)&&!this.getSize().contains(r)||(this.panBy(r,u),0))},_createAnimProxy:function(){var r=this._proxy=Rn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var y=hr,z=this._proxy.style[y];oe(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),z===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();oe(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&0<=r.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,y){if(!this._animatingZoom){if(y=y||{},!this._zoomAnimated||!1===y.animate||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(u);if(z=this._getCenterOffset(r)._divideBy(1-1/z),!0!==y.animate&&!this.getSize().contains(z))return!1;G(function(){this._moveStart(!0,!1)._animateZoom(r,u,!0)},this)}return!0},_animateZoom:function(r,u,y,z){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,rn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(nt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&An(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vr(r){return new rr(r)}var gs,rr=b.extend({options:{position:"topright"},initialize:function(r){F(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(z){this.remove(),this._map=z;var u=this._container=this.onAdd(z),y=this.getPosition();return z=z._controlCorners[y],rn(u,"leaflet-control"),-1!==y.indexOf("bottom")?z.insertBefore(u,z.firstChild):z.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(Yn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(r){this._map&&r&&0<r.screenX&&0<r.screenY&&this._map.getContainer().focus()}}),io=(Gi.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",y=this._controlContainer=Rn("div",u+"control-container",this._container);function z(lt,Ht){r[lt+Ht]=Rn("div",u+lt+" "+u+Ht,y)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Yn(this._controlCorners[r]);Yn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),rr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,y,z){return y<z?-1:z<y?1:0}},initialize:function(r,u,y){for(var z in F(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,r)this._addLayer(r[z],z);for(z in u)this._addLayer(u[z],z,!0)},onAdd:function(r){this._initLayout(),this._update(),(this._map=r).on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return rr.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){return r.off("add remove",this._onLayerChange,this),(r=this._getLayer(zt(r)))&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){rn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(rn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):An(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return An(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Rn("div",r),y=this.options.collapsed,z=(u.setAttribute("aria-haspopup",!0),En(u),_i(u),this._section=Rn("section",r+"-list")),lt=(y&&(this._map.on("click",this.collapse,this),qe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=Rn("a",r+"-toggle",u));lt.href="#",lt.title="Layers",lt.setAttribute("role","button"),qe(lt,{keydown:function(Ht){13===Ht.keyCode&&this._expandSafely()},click:function(Ht){fn(Ht),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=Rn("div",r+"-base",z),this._separator=Rn("div",r+"-separator",z),this._overlaysList=Rn("div",r+"-overlays",z),u.appendChild(z)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&zt(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,y){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:y}),this.options.sortLayers&&this._layers.sort(nt(function(z,lt){return this.options.sortFunction(z.layer,lt.layer,z.name,lt.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){So(this._baseLayersList),So(this._overlaysList),this._layerControlInputs=[];for(var r,u,y,z=0,lt=0;lt<this._layers.length;lt++)this._addItem(y=this._layers[lt]),u=u||y.overlay,r=r||!y.overlay,z+=y.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(r=r&&1<z)?"":"none"),this._separator.style.display=u&&r?"":"none"}return this},_onLayerChange:function(y){this._handlingClick||this._update();var u=this._getLayer(zt(y.target));(y=u.overlay?"add"===y.type?"overlayadd":"overlayremove":"add"===y.type?"baselayerchange":null)&&this._map.fire(y,u)},_createRadioElement:function(r,u){return r='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",(u=document.createElement("div")).innerHTML=r,u.firstChild},_addItem:function(r){var u,y=document.createElement("label"),z=this._map.hasLayer(r.layer),lt=((r.overlay?((u=document.createElement("input")).type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=z):u=this._createRadioElement("leaflet-base-layers_"+zt(this),z),this._layerControlInputs.push(u),u.layerId=zt(r.layer),qe(u,"click",this._onInputClick,this),z=document.createElement("span")).innerHTML=" "+r.name,document.createElement("span"));return y.appendChild(lt),lt.appendChild(u),lt.appendChild(z),(r.overlay?this._overlaysList:this._baseLayersList).appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){var r,u,y=this._layerControlInputs,z=[],lt=[];this._handlingClick=!0;for(var Ht=y.length-1;0<=Ht;Ht--)u=this._getLayer((r=y[Ht]).layerId).layer,r.checked?z.push(u):r.checked||lt.push(u);for(Ht=0;Ht<lt.length;Ht++)this._map.hasLayer(lt[Ht])&&this._map.removeLayer(lt[Ht]);for(Ht=0;Ht<z.length;Ht++)this._map.hasLayer(z[Ht])||this._map.addLayer(z[Ht]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var r,u,y=this._layerControlInputs,z=this._map.getZoom(),lt=y.length-1;0<=lt;lt--)u=this._getLayer((r=y[lt]).layerId).layer,r.disabled=void 0!==u.options.minZoom&&z<u.options.minZoom||void 0!==u.options.maxZoom&&z>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;qe(r,"click",fn),this.expand(),setTimeout(function(){mi(r,"click",fn)})}})),Ws=rr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",y=Rn("div",u+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,u+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,u+"-out",y,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,y,z,lt){return(y=Rn("a",y,z)).innerHTML=r,y.href="#",y.title=u,y.setAttribute("role","button"),y.setAttribute("aria-label",u),En(y),qe(y,"click",mn),qe(y,"click",lt,this),qe(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";An(this._zoomInButton,u),An(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&r._zoom!==r.getMinZoom()||(rn(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&r._zoom!==r.getMaxZoom()||(rn(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}}),Ds=(Gi.mergeOptions({zoomControl:!0}),Gi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ws,this.addControl(this.zoomControl))}),rr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",y=Rn("div",u),z=this.options;return this._addScales(z,u+"-line",y),r.on(z.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),y},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,y){r.metric&&(this._mScale=Rn("div",u,y)),r.imperial&&(this._iScale=Rn("div",u,y))},_update:function(){var r=(u=this._map).getSize().y/2,u=u.distance(u.containerPointToLatLng([0,r]),u.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r);this._updateScale(this._mScale,u<1e3?u+" m":u/1e3+" km",u/r)},_updateImperial:function(z){var u,y;5280<(z*=3.2808399)?(y=this._getRoundNum(u=z/5280),this._updateScale(this._iScale,y+" mi",y/u)):(y=this._getRoundNum(z),this._updateScale(this._iScale,y+" ft",y/z))},_updateScale:function(r,u,y){r.style.width=Math.round(this.options.maxWidth*y)+"px",r.innerHTML=u},_getRoundNum:function(y){var u=Math.pow(10,(Math.floor(y)+"").length-1);return u*(10<=(y/=u)?10:5<=y?5:3<=y?3:2<=y?2:1)}})),ur=rr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ee.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(r){F(this,r),this._attributions={}},onAdd:function(r){for(var u in(r.attributionControl=this)._container=Rn("div","leaflet-control-attribution"),En(this._container),r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r&&(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update()),this},removeAttribution:function(r){return r&&this._attributions[r]&&(this._attributions[r]--,this._update()),this},_update:function(){if(this._map){var r,u=[];for(r in this._attributions)this._attributions[r]&&u.push(r);var y=[];this.options.prefix&&y.push(this.options.prefix),u.length&&y.push(u.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}}),Hr=((Gi.mergeOptions({attributionControl:!0}),Gi.addInitHook(function(){this.options.attributionControl&&(new ur).addTo(this)}),rr.Layers=io,rr.Zoom=Ws,rr.Scale=Ds,rr.Attribution=ur,Vr.layers=function(r,u,y){return new io(r,u,y)},Vr.zoom=function(r){return new Ws(r)},Vr.scale=function(r){return new Ds(r)},Vr.attribution=function(r){return new ur(r)},po=b.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(r,u){return r.addHandler(u,this),this},Gr={Events:W},ee.touch?"touchstart mousedown":"mousedown"),Qr=k.extend({options:{clickTolerance:3},initialize:function(r,u,y,z){F(this,z),this._element=r,this._dragStartTarget=u||r,this._preventOutline=y},enable:function(){this._enabled||(qe(this._dragStartTarget,Hr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qr._dragging===this&&this.finishDrag(!0),mi(this._dragStartTarget,Hr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){var u,y;this._enabled&&(this._moved=!1,Ro(this._element,"leaflet-zoom-anim")||(r.touches&&1!==r.touches.length?Qr._dragging===this&&this.finishDrag():Qr._dragging||r.shiftKey||1!==r.which&&1!==r.button&&!r.touches||((Qr._dragging=this)._preventOutline&&Oe(this._element),qt(),ii(),this._moving||(this.fire("down"),y=r.touches?r.touches[0]:r,u=pi(this._element),this._startPoint=new P(y.clientX,y.clientY),this._startPos=Te(this._element),this._parentScale=He(u),y="mousedown"===r.type,qe(document,y?"mousemove":"touchmove",this._onMove,this),qe(document,y?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(r){var u;this._enabled&&(r.touches&&1<r.touches.length?this._moved=!0:!(u=new P((u=r.touches&&1===r.touches.length?r.touches[0]:r).clientX,u.clientY)._subtract(this._startPoint)).x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,fn(r),this._moved||(this.fire("dragstart"),this._moved=!0,rn(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition()))},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ge(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){An(document.body,"leaflet-dragging"),this._lastTarget&&(An(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mi(document,"mousemove touchmove",this._onMove,this),mi(document,"mouseup touchend touchcancel",this._onUp,this),fe(),ki(),this._moved&&this._moving&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Qr._dragging=!1}});function yr(r,u){if(u&&r.length){var y=r=function(Ee,oi){for(var ni=[Ee[0]],Ki=1,bn=0,Un=Ee.length;Ki<Un;Ki++)void 0,(Co=(ro=Ee[bn]).x-(Lr=Ee[Ki]).x)*Co+(ro=ro.y-Lr.y)*ro>oi&&(ni.push(Ee[Ki]),bn=Ki);var Lr,ro,Co;return bn<Un-1&&ni.push(Ee[Un-1]),ni}(r,u*=u),z=y.length,lt=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(z);lt[0]=lt[z-1]=1,function Ee(oi,ni,Ki,bn,Un){var Lr,ss,Co,ro=0;for(ss=bn+1;ss<=Un-1;ss++)ro<(Co=Rs(oi[ss],oi[bn],oi[Un],!0))&&(Lr=ss,ro=Co);Ki<ro&&(ni[Lr]=1,Ee(oi,ni,Ki,bn,Lr),Ee(oi,ni,Ki,Lr,Un))}(y,lt,u,0,z-1);var Ht,ke=[];for(Ht=0;Ht<z;Ht++)lt[Ht]&&ke.push(y[Ht]);return ke}return r.slice()}function Vo(r,u,y){return Math.sqrt(Rs(r,u,y,!0))}function fo(r,u,y,z,lt){var Ht,ke,Ee,oi=z?gs:no(r,y),ni=no(u,y);for(gs=ni;;){if(!(oi|ni))return[r,u];if(oi&ni)return!1;Ee=no(ke=Cs(r,u,Ht=oi||ni,y,lt),y),Ht===oi?(r=ke,oi=Ee):(u=ke,ni=Ee)}}function Cs(r,oi,y,Ki,lt){var Ht,ke,Ee=oi.x-r.x,ni=(oi=oi.y-r.y,Ki.min);return Ki=Ki.max,8&y?(Ht=r.x+Ee*(Ki.y-r.y)/oi,ke=Ki.y):4&y?(Ht=r.x+Ee*(ni.y-r.y)/oi,ke=ni.y):2&y?(Ht=Ki.x,ke=r.y+oi*(Ki.x-r.x)/Ee):1&y&&(Ht=ni.x,ke=r.y+oi*(ni.x-r.x)/Ee),new P(Ht,ke,lt)}function no(r,u){var y=0;return r.x<u.min.x?y|=1:r.x>u.max.x&&(y|=2),r.y<u.min.y?y|=4:r.y>u.max.y&&(y|=8),y}function Rs(r,Ht,y,z){var lt=Ht.x,ke=y.x-lt,Ee=y.y-(Ht=Ht.y),oi=ke*ke+Ee*Ee;return 0<oi&&(1<(oi=((r.x-lt)*ke+(r.y-Ht)*Ee)/oi)?(lt=y.x,Ht=y.y):0<oi&&(lt+=ke*oi,Ht+=Ee*oi)),ke=r.x-lt,Ee=r.y-Ht,z?ke*ke+Ee*Ee:new P(lt,Ht)}function qr(r){return!V(r[0])||"object"!=typeof r[0][0]&&void 0!==r[0][0]}function Wr(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qr(r)}function To(r,u){var y,z,lt,Ht,ke;if(!r||0===r.length)throw new Error("latlngs not passed");qr(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ee,oi=[];for(Ee in r)oi.push(u.project(U(r[Ee])));for(var ni=oi.length,Ki=0,bn=0;Ki<ni-1;Ki++)bn+=oi[Ki].distanceTo(oi[Ki+1])/2;if(0===bn)ke=oi[0];else for(y=Ki=0;Ki<ni-1;Ki++)if(bn<(y+=Ht=(z=oi[Ki]).distanceTo(lt=oi[Ki+1]))){ke=[lt.x-(Ht=(y-bn)/Ht)*(lt.x-z.x),lt.y-Ht*(lt.y-z.y)];break}return u.unproject(I(ke))}function mo(r,u,y){for(var z,lt,Ht,ke,Ee,oi,ni,Ki=[1,4,2,8],bn=0,Un=r.length;bn<Un;bn++)r[bn]._code=no(r[bn],u);for(Ht=0;Ht<4;Ht++){for(oi=Ki[Ht],z=[],bn=0,lt=(Un=r.length)-1;bn<Un;lt=bn++)Ee=r[lt],(ke=r[bn])._code&oi?Ee._code&oi||((ni=Cs(Ee,ke,oi,u,y))._code=no(ni,u),z.push(ni)):(Ee._code&oi&&((ni=Cs(Ee,ke,oi,u,y))._code=no(ni,u),z.push(ni)),z.push(ke));r=z}return r}function Qo(r,u){var y,z,lt,Ht,ke;if(!r||0===r.length)throw new Error("latlngs not passed");qr(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var oi,ni=[];for(oi in r)ni.push(u.project(U(r[oi])));for(var Ki=ni.length,bn=Ht=ke=0,Un=0,Lr=Ki-1;Un<Ki;Lr=Un++)Ht+=((y=ni[Un]).x+(z=ni[Lr]).x)*(lt=y.y*z.x-z.y*y.x),ke+=(y.y+z.y)*lt,bn+=3*lt;return u.unproject(I(0===bn?ni[0]:[Ht/bn,ke/bn]))}ie={__proto__:null,simplify:yr,pointToSegmentDistance:Vo,closestPointOnSegment:function(r,u,y){return Rs(r,u,y)},clipSegment:fo,_getEdgeIntersection:Cs,_getBitCode:no,_sqClosestPointOnSegment:Rs,isFlat:qr,_flat:Wr,polylineCenter:To},Bs={__proto__:null,clipPolygon:mo,polygonCenter:Qo},oa={__proto__:null,LonLat:vs={project:function(r){return new P(r.lng,r.lat)},unproject:function(r){return new E(r.y,r.x)},bounds:new B([-180,-90],[180,90])},Mercator:ts={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(r){var u=Math.PI/180,y=this.R,Ht=r.lat*u,z=this.R_MINOR/y,lt=(z=Math.sqrt(1-z*z))*Math.sin(Ht);return lt=Math.tan(Math.PI/4-Ht/2)/Math.pow((1-lt)/(1+lt),z/2),Ht=-y*Math.log(Math.max(lt,1e-10)),new P(r.lng*u*y,Ht)},unproject:function(r){for(var u,y=180/Math.PI,z=this.R,lt=this.R_MINOR/z,Ht=Math.sqrt(1-lt*lt),ke=Math.exp(-r.y/z),Ee=Math.PI/2-2*Math.atan(ke),oi=0,ni=.1;oi<15&&1e-7<Math.abs(ni);oi++)u=Ht*Math.sin(Ee),u=Math.pow((1-u)/(1+u),Ht/2),Ee+=ni=Math.PI/2-2*Math.atan(ke*u)-Ee;return new E(Ee*y,r.x*y/z)}},SphericalMercator:ft},ea=Pt({},ct,{code:"EPSG:3395",projection:ts,transformation:tt(pe=.5/(Math.PI*ts.R),.5,-pe,.5)});var fa=Pt({},ct,{code:"EPSG:4326",projection:vs,transformation:tt(1/180,1,-1/180,.5)}),q=(f=Pt({},mt,{projection:vs,transformation:tt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,z){var y=z.lng-r.lng;return z=z.lat-r.lat,Math.sqrt(y*y+z*z)},infinite:!0}),mt.Earth=ct,mt.EPSG3395=ea,mt.EPSG3857=X,mt.EPSG900913=St,mt.EPSG4326=fa,mt.Simple=f,C=k.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[zt(r)]=this},removeInteractiveTarget:function(r){return delete this._map._targets[zt(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u,y=r.target;y.hasLayer(this)&&(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents&&(u=this.getEvents(),y.on(u,this),this.once("remove",function(){y.off(u,this)},this)),this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this}))}}),Gi.include({addLayer:function(r){var u;if(r._layerAdd)return u=zt(r),this._layers[u]||((this._layers[u]=r)._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(r){var u=zt(r);return this._layers[u]&&(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null),this},hasLayer:function(r){return zt(r)in this._layers},eachLayer:function(r,u){for(var y in this._layers)r.call(u,this._layers[y]);return this},_addLayers:function(r){for(var u=0,y=(r=r?V(r)?r:[r]:[]).length;u<y;u++)this.addLayer(r[u])},_addZoomLimit:function(r){isNaN(r.options.maxZoom)&&isNaN(r.options.minZoom)||(this._zoomBoundLayers[zt(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){r=zt(r),this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var r,u=1/0,y=-1/0,z=this._getZoomSpan();for(r in this._zoomBoundLayers){var lt=this._zoomBoundLayers[r].options;u=void 0===lt.minZoom?u:Math.min(u,lt.minZoom),y=void 0===lt.maxZoom?y:Math.max(y,lt.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=u===1/0?void 0:u,z!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),C.extend({initialize:function(r,u){var y,z;if(F(this,u),this._layers={},r)for(y=0,z=r.length;y<z;y++)this.addLayer(r[y])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){return r=r in this._layers?r:this.getLayerId(r),this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(r){return("number"==typeof r?r:this.getLayerId(r))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u,y,z=Array.prototype.slice.call(arguments,1);for(u in this._layers)(y=this._layers[u])[r]&&y[r].apply(y,z);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var y in this._layers)r.call(u,this._layers[y]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:zt})),et=q.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),q.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?((r=r in this._layers?this._layers[r]:r).removeEventParent(this),q.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r,u=new Ut;for(r in this._layers){var y=this._layers[r];u.extend(y.getBounds?y.getBounds():y.getLatLng())}return u}}),Tt=b.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){F(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var y=this._getIconUrl(r);if(y)return y=this._createImg(y,u&&"IMG"===u.tagName?u:null),this._setIconStyles(y,r),!this.options.crossOrigin&&""!==this.options.crossOrigin||(y.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),y;if("icon"===r)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(r,u){var y=this.options,z=I(z="number"==typeof(z=y[u+"Size"])?[z,z]:z),lt=I("shadow"===u&&y.shadowAnchor||y.iconAnchor||z&&z.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(y.className||""),lt&&(r.style.marginLeft=-lt.x+"px",r.style.marginTop=-lt.y+"px"),z&&(r.style.width=z.x+"px",r.style.height=z.y+"px")},_createImg:function(r,u){return(u=u||document.createElement("img")).src=r,u},_getIconUrl:function(r){return ee.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}}),Vt=Tt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return"string"!=typeof Vt.imagePath&&(Vt.imagePath=this._detectIconPath()),(this.options.imagePath||Vt.imagePath)+Tt.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){function u(y,z,lt){return(z=z.exec(y))&&z[lt]}return(r=u(r,/^url\((['"])?(.+)\1\)$/,2))&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Rn("div","leaflet-default-icon-path",document.body),u=Br(r,"background-image")||Br(r,"backgroundImage");return document.body.removeChild(r),(u=this._stripUrl(u))?u:(r=document.querySelector('link[href$="leaflet.css"]'))?r.href.substring(0,r.href.length-11-1):""}}),Jt=po.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Qr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rn(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&An(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,y=u._map,z=this._marker.options.autoPanSpeed,lt=this._marker.options.autoPanPadding,Ht=Te(u._icon),ke=y.getPixelBounds(),Ee=y.getPixelOrigin();(Ee=vt(ke.min._subtract(Ee).add(lt),ke.max._subtract(Ee).subtract(lt))).contains(Ht)||(lt=I((Math.max(Ee.max.x,Ht.x)-Ee.max.x)/(ke.max.x-Ee.max.x)-(Math.min(Ee.min.x,Ht.x)-Ee.min.x)/(ke.min.x-Ee.min.x),(Math.max(Ee.max.y,Ht.y)-Ee.max.y)/(ke.max.y-Ee.max.y)-(Math.min(Ee.min.y,Ht.y)-Ee.min.y)/(ke.min.y-Ee.min.y)).multiplyBy(z),y.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),ge(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=G(this._adjustPan.bind(this,r)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,y=u._shadow,z=Te(u._icon),lt=u._map.layerPointToLatLng(z);y&&ge(y,z),u._latlng=lt,r.latlng=lt,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Se=C.extend({options:{icon:new Vt,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){F(this,u),this._latlng=U(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=U(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var r;return this._icon&&this._map&&(r=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(r)),this},_initIcon:function(){var z,r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=!1,lt=!1;(z=r.icon.createIcon(this._icon))!==this._icon&&(this._icon&&this._removeIcon(),y=!0,r.title&&(z.title=r.title),"IMG"===z.tagName&&(z.alt=r.alt||"")),rn(z,u),r.keyboard&&(z.tabIndex="0",z.setAttribute("role","button")),this._icon=z,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qe(z,"focus",this._panOnFocus,this),(z=r.icon.createShadow(this._shadow))!==this._shadow&&(this._removeShadow(),lt=!0),z&&(rn(z,u),z.alt=""),this._shadow=z,r.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&lt&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mi(this._icon,"focus",this._panOnFocus,this),Yn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yn(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ge(this._icon,r),this._shadow&&ge(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){r=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round(),this._setPos(r)},_initInteraction:function(){var r;this.options.interactive&&(rn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jt&&(r=this.options.draggable,this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jt(this),r&&this.dragging.enable()))},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ft(this._icon,r),this._shadow&&Ft(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r,u,y=this._map;y&&(r=(u=this.options.icon.options).iconSize?I(u.iconSize):I(0,0),u=u.iconAnchor?I(u.iconAnchor):I(0,0),y.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:r.subtract(u)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),xe=C.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return F(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),De=xe.extend({options:{fill:!0,radius:10},initialize:function(r,u){F(this,u),this._latlng=U(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=U(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return xe.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var y=this._radius,r=this._radiusY||y,u=this._clickTolerance();this._pxBounds=new B(this._point.subtract(y=[y+u,r+u]),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Je=De.extend({initialize:function(r,u,y){if(F(this,u="number"==typeof u?Pt({},y,{radius:u}):u),this._latlng=U(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ut(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:xe.prototype.setStyle,_project:function(){var r,u,y,z,lt,Ht=this._latlng.lng,ke=this._latlng.lat,Ee=this._map,oi=Ee.options.crs;oi.distance===ct.distance?(z=Math.PI/180,r=Ee.project([ke+(lt=this._mRadius/ct.R/z),Ht]),u=Ee.project([ke-lt,Ht]),u=r.add(u).divideBy(2),y=Ee.unproject(u).lat,z=Math.acos((Math.cos(lt*z)-Math.sin(ke*z)*Math.sin(y*z))/(Math.cos(ke*z)*Math.cos(y*z)))/z,!isNaN(z)&&0!==z||(z=lt/Math.cos(Math.PI/180*ke)),this._point=u.subtract(Ee.getPixelOrigin()),this._radius=isNaN(z)?0:u.x-Ee.project([y,Ht-z]).x,this._radiusY=u.y-r.y):(lt=oi.unproject(oi.project(this._latlng).subtract([this._mRadius,0])),this._point=Ee.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Ee.latLngToLayerPoint(lt).x),this._updateBounds()}}),si=xe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){F(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,y=null,z=Rs,lt=0,Ht=this._parts.length;lt<Ht;lt++)for(var ke=this._parts[lt],Ee=1,oi=ke.length;Ee<oi;Ee++){var ni,Ki,bn=z(r,ni=ke[Ee-1],Ki=ke[Ee],!0);bn<u&&(u=bn,y=z(r,ni,Ki))}return y&&(y.distance=Math.sqrt(u)),y},getCenter:function(){if(this._map)return To(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=U(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ut,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return qr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],y=qr(r),z=0,lt=r.length;z<lt;z++)y?(u[z]=U(r[z]),this._bounds.extend(u[z])):u[z]=this._convertLatLngs(r[z]);return u},_project:function(){var r=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=new P(r=this._clickTolerance(),r);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(r,u,y){var z,lt,ke=r.length;if(r[0]instanceof E){for(lt=[],z=0;z<ke;z++)lt[z]=this._map.latLngToLayerPoint(r[z]),y.extend(lt[z]);u.push(lt)}else for(z=0;z<ke;z++)this._projectLatlngs(r[z],u,y)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(r))if(this.options.noClip)this._parts=this._rings;else for(var u,y,z,lt,Ht=this._parts,ke=0,Ee=0,oi=this._rings.length;ke<oi;ke++)for(u=0,y=(lt=this._rings[ke]).length;u<y-1;u++)(z=fo(lt[u],lt[u+1],r,u,!0))&&(Ht[Ee]=Ht[Ee]||[],Ht[Ee].push(z[0]),z[1]===lt[u+1]&&u!==y-2||(Ht[Ee].push(z[1]),Ee++))},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,y=0,z=r.length;y<z;y++)r[y]=yr(r[y],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var y,z,lt,Ht,ke,Ee,oi=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(r))for(y=0,Ht=this._parts.length;y<Ht;y++)for(z=0,lt=(ke=(Ee=this._parts[y]).length)-1;z<ke;lt=z++)if((u||0!==z)&&Vo(r,Ee[lt],Ee[z])<=oi)return!0;return!1}});si._flat=Wr;var Ze=si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return Qo(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(u){var y=(u=si.prototype._convertLatLngs.call(this,u)).length;return 2<=y&&u[0]instanceof E&&u[0].equals(u[y-1])&&u.pop(),u},_setLatLngs:function(r){si.prototype._setLatLngs.call(this,r),qr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(qr(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var u=this._renderer._bounds,r=new P(r=this.options.weight,r);if(u=new B(u.min.subtract(r),u.max.add(r)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(u))if(this.options.noClip)this._parts=this._rings;else for(var y,z=0,lt=this._rings.length;z<lt;z++)(y=mo(this._rings[z],u,!0)).length&&this._parts.push(y)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u,y,z,lt,Ht,ke,Ee,oi,ni=!1;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(lt=0,Ee=this._parts.length;lt<Ee;lt++)for(Ht=0,ke=(oi=(u=this._parts[lt]).length)-1;Ht<oi;ke=Ht++)(y=u[Ht]).y>r.y!=(z=u[ke]).y>r.y&&r.x<(z.x-y.x)*(r.y-y.y)/(z.y-y.y)+y.x&&(ni=!ni);return ni||si.prototype._containsPoint.call(this,r,!0)}}),Ge=et.extend({initialize:function(r,u){F(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u,y,z,lt=V(r)?r:r.features;if(lt){for(u=0,y=lt.length;u<y;u++)((z=lt[u]).geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var Ht,ke=this.options;return ke.filter&&!ke.filter(r)||!(Ht=Bi(r,ke))?this:(Ht.feature=xn(r),Ht.defaultOptions=Ht.options,this.resetStyle(Ht),ke.onEachFeature&&ke.onEachFeature(r,Ht),this.addLayer(Ht))},resetStyle:function(r){return void 0===r?this.eachLayer(this.resetStyle,this):(r.options=Pt({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&("function"==typeof u&&(u=u(r.feature)),r.setStyle(u))}});function Bi(r,u){var y,z,lt,Ht,ke="Feature"===r.type?r.geometry:r,Ee=ke?ke.coordinates:null,oi=[],ni=u&&u.pointToLayer,Ki=u&&u.coordsToLatLng||Wi;if(!Ee&&!ke)return null;switch(ke.type){case"Point":return Vi(ni,r,y=Ki(Ee),u);case"MultiPoint":for(lt=0,Ht=Ee.length;lt<Ht;lt++)y=Ki(Ee[lt]),oi.push(Vi(ni,r,y,u));return new et(oi);case"LineString":case"MultiLineString":return z=vr(Ee,"LineString"===ke.type?0:1,Ki),new si(z,u);case"Polygon":case"MultiPolygon":return z=vr(Ee,"Polygon"===ke.type?1:2,Ki),new Ze(z,u);case"GeometryCollection":for(lt=0,Ht=ke.geometries.length;lt<Ht;lt++){var bn=Bi({geometry:ke.geometries[lt],type:"Feature",properties:r.properties},u);bn&&oi.push(bn)}return new et(oi);case"FeatureCollection":for(lt=0,Ht=ke.features.length;lt<Ht;lt++){var Un=Bi(ke.features[lt],u);Un&&oi.push(Un)}return new et(oi);default:throw new Error("Invalid GeoJSON object.")}}function Vi(r,u,y,z){return r?r(u,y):new Se(y,z&&z.markersInheritOptions&&z)}function Wi(r){return new E(r[1],r[0],r[2])}function vr(r,u,y){for(var z,lt=[],Ht=0,ke=r.length;Ht<ke;Ht++)z=u?vr(r[Ht],u-1,y):(y||Wi)(r[Ht]),lt.push(z);return lt}function Fr(r,u){return void 0!==(r=U(r)).alt?[J(r.lng,u),J(r.lat,u),J(r.alt,u)]:[J(r.lng,u),J(r.lat,u)]}function yo(r,u,y,z){for(var lt=[],Ht=0,ke=r.length;Ht<ke;Ht++)lt.push(u?yo(r[Ht],qr(r[Ht])?0:u-1,y,z):Fr(r[Ht],z));return!u&&y&&lt.push(lt[0].slice()),lt}function $n(r,u){return r.feature?Pt({},r.feature,{geometry:u}):xn(u)}function xn(r){return"Feature"===r.type||"FeatureCollection"===r.type?r:{type:"Feature",properties:{},geometry:r}}function go(r,u){return new Ge(r,u)}Se.include(Fe={toGeoJSON:function(r){return $n(this,{type:"Point",coordinates:Fr(this.getLatLng(),r)})}}),Je.include(Fe),De.include(Fe),si.include({toGeoJSON:function(r){var u=!qr(this._latlngs);return $n(this,{type:(u?"Multi":"")+"LineString",coordinates:yo(this._latlngs,u?1:0,!1,r)})}}),Ze.include({toGeoJSON:function(z){var u=!qr(this._latlngs),y=u&&!qr(this._latlngs[0]);return z=yo(this._latlngs,y?2:u?1:0,!0,z),$n(this,{type:(y?"Multi":"")+"Polygon",coordinates:z=u?z:[z]})}}),q.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(y){u.push(y.toGeoJSON(r).geometry.coordinates)}),$n(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u,y,z=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===z?this.toMultiPoint(r):(u="GeometryCollection"===z,y=[],this.eachLayer(function(lt){lt.toGeoJSON&&(lt=lt.toGeoJSON(r),u?y.push(lt.geometry):"FeatureCollection"===(lt=xn(lt)).type?y.push.apply(y,lt.features):y.push(lt))}),u?$n(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y})}}),Gn=go;var _r=C.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,y){this._url=r,this._bounds=It(u),F(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&jr(this._image),this},bringToBack:function(){return this._map&&Or(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=It(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r="IMG"===this._url.tagName,u=this._image=r?this._url:Rn("img");rn(u,"leaflet-image-layer"),this._zoomAnimated&&rn(u,"leaflet-zoom-animated"),this.options.className&&rn(u,this.options.className),u.onselectstart=Ot,u.onmousemove=Ot,u.onload=nt(this.fire,this,"load"),u.onerror=nt(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r?this._url=u.src:(u.src=this._url,u.alt=this.options.alt)},_animateZoom:function(y){var u=this._map.getZoomScale(y.zoom);y=this._map._latLngBoundsToNewLayerBounds(this._bounds,y.zoom,y.center).min,oe(this._image,y,u)},_reset:function(){var r=this._image,u=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=u.getSize();ge(r,u.min),r.style.width=y.x+"px",r.style.height=y.y+"px"},_updateOpacity:function(){Ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),As=_r.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r="VIDEO"===this._url.tagName,u=this._image=r?this._url:Rn("video");if(rn(u,"leaflet-image-layer"),this._zoomAnimated&&rn(u,"leaflet-zoom-animated"),this.options.className&&rn(u,this.options.className),u.onselectstart=Ot,u.onmousemove=Ot,u.onloadeddata=nt(this.fire,this,"load"),r){for(var y=u.getElementsByTagName("source"),z=[],lt=0;lt<y.length;lt++)z.push(y[lt].src);this._url=0<y.length?z:[u.src]}else{V(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var Ht=0;Ht<this._url.length;Ht++){var ke=Rn("source");ke.src=this._url[Ht],u.appendChild(ke)}}}}),ia=_r.extend({_initImage:function(){var r=this._image=this._url;rn(r,"leaflet-image-layer"),this._zoomAnimated&&rn(r,"leaflet-zoom-animated"),this.options.className&&rn(r,this.options.className),r.onselectstart=Ot,r.onmousemove=Ot}}),Sr=C.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof E||V(r))?(this._latlng=U(r),F(this,u)):(F(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return(r=arguments.length?r:this._source._map).hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ft(this._container,1),this.bringToFront(),this.options.interactive&&(rn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ft(this._container,0),this._removeTimeout=setTimeout(nt(Yn,void 0,this._container),200)):Yn(this._container),this.options.interactive&&(An(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=U(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&jr(this._container),this},bringToBack:function(){return this._map&&Or(this._container),this},_prepareOpen:function(r){if(!(y=this._source)._map)return!1;if(y instanceof et){var u,y=null,z=this._source._layers;for(u in z)if(z[u]._map){y=z[u];break}if(!y)return!1;this._source=y}if(!r)if(y.getCenter)r=y.getCenter();else if(y.getLatLng)r=y.getLatLng();else{if(!y.getBounds)throw new Error("Unable to get source layer LatLng.");r=y.getBounds().getCenter()}return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof u)r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){var r,u,y;this._map&&(u=this._map.latLngToLayerPoint(this._latlng),r=I(this.options.offset),y=this._getAnchor(),this._zoomAnimated?ge(this._container,u.add(y)):r=r.add(u).add(y),u=this._containerBottom=-r.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+r.x,this._container.style.bottom=u+"px",this._container.style.left=y+"px")},_getAnchor:function(){return[0,0]}}),Mo=(Gi.include({_initOverlay:function(r,u,y,z){var lt=u;return lt instanceof r||(lt=new r(z).setContent(u)),y&&lt.setLatLng(y),lt}}),C.include({_initOverlay:function(r,u,y,z){var lt=y;return lt instanceof r?(F(lt,z),lt._source=this):(lt=u&&!z?u:new r(z,this)).setContent(y),lt}}),Sr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return!(r=arguments.length?r:this._source._map).hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Sr.prototype.openOn.call(this,r)},onAdd:function(r){Sr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xe||this._source.on("preclick",ln))},onRemove:function(r){Sr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xe||this._source.off("preclick",ln))},getEvents:function(){var r=Sr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Rn("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=Rn("div",r+"-content-wrapper",u);this._contentNode=Rn("div",r+"-content",y),En(u),_i(this._contentNode),qe(u,"contextmenu",ln),this._tipContainer=Rn("div",r+"-tip-container",u),this._tip=Rn("div",r+"-tip",this._tipContainer),this.options.closeButton&&((y=this._closeButton=Rn("a",r+"-close-button",u)).setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',qe(y,"click",function(z){fn(z),this.close()},this))},_updateLayout:function(){var r=this._contentNode,u=r.style,y=(u.width="",u.whiteSpace="nowrap",r.offsetWidth),z=(y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),u.width=y+1+"px",u.whiteSpace="",u.height="",y=r.offsetHeight,this.options.maxHeight);(z&&z<y?(u.height=z+"px",rn):An)(r,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){u=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);var y=this._getAnchor();ge(this._container,u.add(y))},_adjustPan:function(){var r,u,y,z,lt,Ht,ke,Ee;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(r=this._map,u=parseInt(Br(this._container,"marginBottom"),10)||0,Ee=this._containerWidth,(y=new P(this._containerLeft,-(u=this._container.offsetHeight+u)-this._containerBottom))._add(Te(this._container)),y=r.layerPointToContainerPoint(y),lt=I(this.options.autoPanPadding),z=I(this.options.autoPanPaddingTopLeft||lt),lt=I(this.options.autoPanPaddingBottomRight||lt),Ht=r.getSize(),ke=0,y.x+Ee+lt.x>Ht.x&&(ke=y.x+Ee-Ht.x+lt.x),y.x-ke-z.x<(Ee=0)&&(ke=y.x-z.x),y.y+u+lt.y>Ht.y&&(Ee=y.y+u-Ht.y+lt.y),y.y-Ee-z.y<0&&(Ee=y.y-z.y),(ke||Ee)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([ke,Ee]))))},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),rs=(Gi.mergeOptions({closePopupOnClick:!0}),Gi.include({openPopup:function(r,u,y){return this._initOverlay(Mo,r,u,y).openOn(this),this},closePopup:function(r){return(r=arguments.length?r:this._popup)&&r.close(),this}}),C.include({bindPopup:function(r,u){return this._popup=this._initOverlay(Mo,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof et||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){var u;this._popup&&this._map&&(mn(r),this._popup._source!==(u=r.layer||r.target)||u instanceof xe?(this._popup._source=u,this.openPopup(r.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng))},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){13===r.originalEvent.keyCode&&this._openPopup(r)}}),Sr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Sr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Sr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Sr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){this._contentNode=this._container=Rn("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+zt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,y=this._container,z=(ni=this._map).latLngToContainerPoint(ni.getCenter()),ni=ni.layerPointToContainerPoint(r),lt=this.options.direction,Ht=y.offsetWidth,ke=y.offsetHeight,Ee=I(this.options.offset),oi=this._getAnchor();ni="top"===lt?(u=Ht/2,ke):"bottom"===lt?(u=Ht/2,0):(u="center"===lt?Ht/2:"right"===lt?0:"left"===lt?Ht:ni.x<z.x?(lt="right",0):(lt="left",Ht+2*(Ee.x+oi.x)),ke/2),r=r.subtract(I(u,ni,!0)).add(Ee).add(oi),An(y,"leaflet-tooltip-right"),An(y,"leaflet-tooltip-left"),An(y,"leaflet-tooltip-top"),An(y,"leaflet-tooltip-bottom"),rn(y,"leaflet-tooltip-"+lt),ge(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ft(this._container,r)},_animateZoom:function(r){r=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),this._setPosition(r)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),or=(Gi.include({openTooltip:function(r,u,y){return this._initOverlay(rs,r,u,y).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),C.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rs,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){var u,y;!r&&this._tooltipHandlersAdded||(u=r?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[u](y),this._tooltipHandlersAdded=!r)},openTooltip:function(r){return this._tooltip&&(this instanceof et||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=r.getElement();u&&(qe(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),qe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){(r=r.getElement())&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0))},_moveTooltip:function(r){var u=r.latlng;this._tooltip.options.sticky&&r.originalEvent&&(r=this._map.mouseEventToContainerPoint(r.originalEvent),r=this._map.containerPointToLayerPoint(r),u=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(u)}}),Tt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){u=u&&"DIV"===u.tagName?u:document.createElement("div");var y=this.options;return y.html instanceof Element?(So(u),u.appendChild(y.html)):u.innerHTML=!1!==y.html?y.html:"",y.bgPos&&(y=I(y.bgPos),u.style.backgroundPosition=-y.x+"px "+-y.y+"px"),this._setIconStyles(u,"icon"),u},createShadow:function(){return null}}));Tt.Default=Vt;var qo=C.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){F(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Yn(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(jr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Or(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var r;return this._map&&(this._removeAllTiles(),(r=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()),this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Rt(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof P?r:new P(r,r)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u,y=this.getPane().children,z=-r(-1/0,1/0),lt=0,Ht=y.length;lt<Ht;lt++)u=y[lt].style.zIndex,y[lt]!==this._container&&u&&(z=r(z,+u));isFinite(z)&&(this.options.zIndex=z+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ee.ielt9){Ft(this._container,this.options.opacity);var r,u=+new Date,y=!1,z=!1;for(r in this._tiles){var lt,Ht=this._tiles[r];Ht.current&&Ht.loaded&&(lt=Math.min(1,(u-Ht.loaded)/200),Ft(Ht.el,lt),lt<1?y=!0:(Ht.active?z=!0:this._onOpaqueTile(Ht),Ht.active=!0))}z&&!this._noPrune&&this._pruneTiles(),y&&(A(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:Ot,_initContainer:function(){this._container||(this._container=Rn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(void 0!==r){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===r?(this._levels[y].el.style.zIndex=u-Math.abs(r-y),this._onUpdateLevel(y)):(Yn(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var z=this._levels[r],lt=this._map;return z||((z=this._levels[r]={}).el=Rn("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=u,z.origin=lt.project(lt.unproject(lt.getPixelOrigin()),r).round(),z.zoom=r,this._setZoomTransform(z,lt.getCenter(),lt.getZoom()),this._onCreateLevel(z)),this._level=z}},_onUpdateLevel:Ot,_onRemoveLevel:Ot,_onCreateLevel:Ot,_pruneTiles:function(){if(this._map){var r,u,y,z=this._map.getZoom();if(z>this.options.maxZoom||z<this.options.minZoom)this._removeAllTiles();else{for(r in this._tiles)(y=this._tiles[r]).retain=y.current;for(r in this._tiles)(y=this._tiles[r]).current&&!y.active&&(this._retainParent((u=y.coords).x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2));for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Yn(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(lt,Ht,ke,z){ke-=1;var Ee=((Ee=new P(+(lt=Math.floor(lt/2)),+(Ht=Math.floor(Ht/2)))).z=ke,this._tileCoordsToKey(Ee));return(Ee=this._tiles[Ee])&&Ee.active?Ee.retain=!0:(Ee&&Ee.loaded&&(Ee.retain=!0),z<ke&&this._retainParent(lt,Ht,ke,z))},_retainChildren:function(r,u,y,z){for(var lt=2*r;lt<2*r+2;lt++)for(var Ht=2*u;Ht<2*u+2;Ht++){var ke=((ke=new P(lt,Ht)).z=y+1,this._tileCoordsToKey(ke));(ke=this._tiles[ke])&&ke.active?ke.retain=!0:(ke&&ke.loaded&&(ke.retain=!0),y+1<z&&this._retainChildren(lt,Ht,y+1,z))}},_resetView:function(r){r=r&&(r.pinch||r.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return void 0!==u.minNativeZoom&&r<u.minNativeZoom?u.minNativeZoom:void 0!==u.maxNativeZoom&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,y,z){var lt=Math.round(u);lt=void 0!==this.options.maxZoom&&lt>this.options.maxZoom||void 0!==this.options.minZoom&&lt<this.options.minZoom?void 0:this._clampZoom(lt),z&&!(this.options.updateWhenZooming&&lt!==this._tileZoom)||(this._tileZoom=lt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==lt&&this._update(r),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var y in this._levels)this._setZoomTransform(this._levels[y],r,u)},_setZoomTransform:function(r,lt,y){var z=this._map.getZoomScale(y,r.zoom);lt=r.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(lt,y)).round(),ee.any3d?oe(r.el,lt,z):ge(r.el,lt)},_resetGrid:function(){var r=this._map,u=r.options.crs,y=this._tileSize=this.getTileSize(),z=this._tileZoom,lt=this._map.getPixelWorldBounds(this._tileZoom);lt&&(this._globalTileRange=this._pxBoundsToTileRange(lt)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],z).x/y.x),Math.ceil(r.project([0,u.wrapLng[1]],z).x/y.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],z).y/y.x),Math.ceil(r.project([u.wrapLat[1],0],z).y/y.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(y){var u=(z=this._map)._animatingZoom?Math.max(z._animateToZoom,z.getZoom()):z.getZoom(),z=(u=z.getZoomScale(u,this._tileZoom),y=z.project(y,this._tileZoom).floor(),z.getSize().divideBy(2*u));return new B(y.subtract(z),y.add(z))},_update:function(r){if(u=this._map){var y=this._clampZoom(u.getZoom());if(void 0===r&&(r=u.getCenter()),void 0!==this._tileZoom){var z,u=this._getTiledPixelBounds(r),lt=this._pxBoundsToTileRange(u),Ht=lt.getCenter(),ke=[],Ee=(u=this.options.keepBuffer,new B(lt.getBottomLeft().subtract([u,-u]),lt.getTopRight().add([u,-u])));if(!(isFinite(lt.min.x)&&isFinite(lt.min.y)&&isFinite(lt.max.x)&&isFinite(lt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(z in this._tiles){var oi=this._tiles[z].coords;oi.z===this._tileZoom&&Ee.contains(new P(oi.x,oi.y))||(this._tiles[z].current=!1)}if(1<Math.abs(y-this._tileZoom))this._setView(r,y);else{for(var ni=lt.min.y;ni<=lt.max.y;ni++)for(var Ki=lt.min.x;Ki<=lt.max.x;Ki++){var bn,Un=new P(Ki,ni);Un.z=this._tileZoom,this._isValidTile(Un)&&((bn=this._tiles[this._tileCoordsToKey(Un)])?bn.current=!0:ke.push(Un))}if(ke.sort(function(Co,ro){return Co.distanceTo(Ht)-ro.distanceTo(Ht)}),0!==ke.length){this._loading||(this._loading=!0,this.fire("loading"));var Lr=document.createDocumentFragment();for(Ki=0;Ki<ke.length;Ki++)this._addTile(ke[Ki],Lr);this._level.el.appendChild(Lr)}}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var y=this._globalTileRange;if(!u.wrapLng&&(r.x<y.min.x||r.x>y.max.x)||!u.wrapLat&&(r.y<y.min.y||r.y>y.max.y))return!1}return!this.options.bounds||(u=this._tileCoordsToBounds(r),It(this.options.bounds).overlaps(u))},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,z=this.getTileSize(),y=r.scaleBy(z);return z=y.add(z),[u.unproject(y,r.z),u.unproject(z,r.z)]},_tileCoordsToBounds:function(r){return r=new Ut((r=this._tileCoordsToNwSe(r))[0],r[1]),this.options.noWrap?r:this._map.wrapLatLngBounds(r)},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(u){var y=new P(+(u=u.split(":"))[0],+u[1]);return y.z=+u[2],y},_removeTile:function(r){var u=this._tiles[r];u&&(Yn(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){rn(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=Ot,r.onmousemove=Ot,ee.ielt9&&this.options.opacity<1&&Ft(r,this.options.opacity)},_addTile:function(r,u){var y=this._getTilePos(r),z=this._tileCoordsToKey(r),lt=this.createTile(this._wrapCoords(r),nt(this._tileReady,this,r));this._initTile(lt),this.createTile.length<2&&G(nt(this._tileReady,this,r,null,lt)),ge(lt,y),this._tiles[z]={el:lt,coords:r,current:!0},u.appendChild(lt),this.fire("tileloadstart",{tile:lt,coords:r})},_tileReady:function(r,u,y){u&&this.fire("tileerror",{error:u,tile:y,coords:r});var z=this._tileCoordsToKey(r);(y=this._tiles[z])&&(y.loaded=+new Date,this._map._fadeAnimated?(Ft(y.el,0),A(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),u||(rn(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ee.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(nt(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new P(this._wrapX?Dt(r.x,this._wrapX):r.x,this._wrapY?Dt(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new B(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}}),Pr=qo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,(u=F(this,u)).detectRetina&&ee.retina&&0<u.maxZoom?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),"string"==typeof u.subdomains&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&void 0===u&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var y=document.createElement("img");return qe(y,"load",nt(this._tileOnLoad,this,u,y)),qe(y,"error",nt(this._tileOnError,this,u,y)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(y.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(r),y},getTileUrl:function(r){var u={r:ee.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(r=this._globalTileRange.max.y-r.y,this.options.tms&&(u.y=r),u["-y"]=r),O(this._url,Pt(u,this.options))},_tileOnLoad:function(r,u){ee.ielt9?setTimeout(nt(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,y){var z=this.options.errorTileUrl;z&&u.getAttribute("src")!==z&&(u.src=z),r(y,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom;return(r=this.options.zoomReverse?this.options.maxZoom-r:r)+this.options.zoomOffset},_getSubdomain:function(r){return r=Math.abs(r.x+r.y)%this.options.subdomains.length,this.options.subdomains[r]},_abortLoading:function(){var r,u,y;for(r in this._tiles)this._tiles[r].coords.z!==this._tileZoom&&((y=this._tiles[r].el).onload=Ot,y.onerror=Ot,y.complete||(y.src=K,u=this._tiles[r].coords,Yn(y),delete this._tiles[r],this.fire("tileabort",{tile:y,coords:u})))},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",K),qo.prototype._removeTile.call(this,r)},_tileReady:function(r,u,y){if(this._map&&(!y||y.getAttribute("src")!==K))return qo.prototype._tileReady.call(this,r,u,y)}});function sr(r,u){return new Pr(r,u)}var to=Pr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(lt,u){this._url=lt;var y,z=Pt({},this.defaultWmsParams);for(y in u)y in this.options||(z[y]=u[y]);lt=(u=F(this,u)).detectRetina&&ee.retina?2:1;var Ht=this.getTileSize();z.width=Ht.x*lt,z.height=Ht.y*lt,this.wmsParams=z},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code,Pr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),y=(u=(y=vt((y=this._crs).project(u[0]),y.project(u[1]))).min,y.max);return u=(1.3<=this._wmsVersion&&this._crs===fa?[u.y,u.x,y.y,y.x]:[u.x,u.y,y.x,y.y]).join(","),(y=Pr.prototype.getTileUrl.call(this,r))+R(this.wmsParams,y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+u},setParams:function(r,u){return Pt(this.wmsParams,r),u||this.redraw(),this}});Pr.WMS=to,sr.wms=function(r,u){return new to(r,u)};var br=C.extend({options:{padding:.1},initialize:function(r){F(this,r),zt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&rn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var y=this._map.getZoomScale(u,this._zoom),lt=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,u);lt=lt.multiplyBy(-y).add(z).subtract(this._map._getNewPixelOrigin(r,u)),ee.any3d?oe(this._container,lt,y):ge(this._container,lt)},_reset:function(){for(var r in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),y=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new B(y,y.add(u.multiplyBy(1+2*r)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Dr=br.extend({options:{tolerance:0},getEvents:function(){var r=br.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){br.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");qe(r,"mousemove",this._onMouseMove,this),qe(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),qe(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,Yn(this._container),mi(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var r in this._redrawBounds=null,this._layers)this._layers[r]._update();this._redraw()}},_update:function(){var r,u,y,z;this._map._animatingZoom&&this._bounds||(br.prototype._update.call(this),u=this._container,y=(r=this._bounds).getSize(),z=ee.retina?2:1,ge(u,r.min),u.width=z*y.x,u.height=z*y.y,u.style.width=y.x+"px",u.style.height=y.y+"px",ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update"))},_reset:function(){br.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),r=(this._layers[zt(r)]=r)._order={layer:r,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=(y=r._order).next,y=y.prev;u?u.prev=y:this._drawLast=y,y?y.next=u:this._drawFirst=u,delete r._order,delete this._layers[zt(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if("string"==typeof r.options.dashArray){for(var u,y=r.options.dashArray.split(/[, ]+/),z=[],lt=0;lt<y.length;lt++){if(u=Number(y[lt]),isNaN(u))return;z.push(u)}r.options._dashArray=z}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(r){var u;r._pxBounds&&(u=(r.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r,u=this._redrawBounds;u?(r=u.getSize(),this._ctx.clearRect(u.min.x,u.min.y,r.x,r.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var r,u,y=this._redrawBounds;this._ctx.save(),y&&(u=y.getSize(),this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,u.x,u.y),this._ctx.clip()),this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)r=z.layer,(!y||r._pxBounds&&r._pxBounds.intersects(y))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var y,z,lt,Ht,ke=r._parts,Ee=ke.length,oi=this._ctx;if(Ee){for(oi.beginPath(),y=0;y<Ee;y++){for(z=0,lt=ke[y].length;z<lt;z++)oi[z?"lineTo":"moveTo"]((Ht=ke[y][z]).x,Ht.y);u&&oi.closePath()}this._fillStroke(oi,r)}}},_updateCircle:function(r){var u,y,z,lt;this._drawing&&!r._empty()&&(u=r._point,y=this._ctx,z=Math.max(Math.round(r._radius),1),1!=(lt=(Math.max(Math.round(r._radiusY),1)||z)/z)&&(y.save(),y.scale(1,lt)),y.beginPath(),y.arc(u.x,u.y/lt,z,0,2*Math.PI,!1),1!=lt&&y.restore(),this._fillStroke(y,r))},_fillStroke:function(r,u){var y=u.options;y.fill&&(r.globalAlpha=y.fillOpacity,r.fillStyle=y.fillColor||y.color,r.fill(y.fillRule||"evenodd")),y.stroke&&0!==y.weight&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=y.opacity,r.lineWidth=y.weight,r.strokeStyle=y.color,r.lineCap=y.lineCap,r.lineJoin=y.lineJoin,r.stroke())},_onClick:function(r){for(var u,y,z=this._map.mouseEventToLayerPoint(r),lt=this._drawFirst;lt;lt=lt.next)(u=lt.layer).options.interactive&&u._containsPoint(z)&&(("click"===r.type||"preclick"===r.type)&&this._map._draggableMoved(u)||(y=u));this._fireEvent(!!y&&[y],r)},_onMouseMove:function(r){var u;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(u=this._map.mouseEventToLayerPoint(r),this._handleMouseHover(r,u))},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(An(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var y,z,lt=this._drawFirst;lt;lt=lt.next)(y=lt.layer).options.interactive&&y._containsPoint(u)&&(z=y);z!==this._hoveredLayer&&(this._handleMouseOut(r),z&&(rn(this._container,"leaflet-interactive"),this._fireEvent([z],r,"mouseover"),this._hoveredLayer=z)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],r),this._mouseHoverThrottled=!0,setTimeout(nt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,y){this._map._fireDOMEvent(u,y||u.type,r)},_bringToFront:function(r){var u,y,z=r._order;z&&(y=z.prev,(u=z.next)&&((u.prev=y)?y.next=u:u&&(this._drawFirst=u),z.prev=this._drawLast,(this._drawLast.next=z).next=null,this._drawLast=z,this._requestRedraw(r)))},_bringToBack:function(r){var u,y,z=r._order;z&&(u=z.next,(y=z.prev)&&((y.next=u)?u.prev=y:y&&(this._drawLast=y),z.prev=null,z.next=this._drawFirst,this._drawFirst.prev=z,this._drawFirst=z,this._requestRedraw(r)))}});function yn(r){return ee.canvas?new Dr(r):null}var Fn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ao=(pr={_initContainer:function(){this._container=Rn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(br.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Fn("shape");rn(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Fn("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[zt(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;Yn(u),r.removeInteractiveTarget(u),delete this._layers[zt(r)]},_updateStyle:function(r){var u=r._stroke,y=r._fill,z=r.options,lt=r._container;lt.stroked=!!z.stroke,lt.filled=!!z.fill,z.stroke?(u=u||(r._stroke=Fn("stroke")),lt.appendChild(u),u.weight=z.weight+"px",u.color=z.color,u.opacity=z.opacity,u.dashStyle=z.dashArray?V(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):"",u.endcap=z.lineCap.replace("butt","flat"),u.joinstyle=z.lineJoin):u&&(lt.removeChild(u),r._stroke=null),z.fill?(y=y||(r._fill=Fn("fill")),lt.appendChild(y),y.color=z.fillColor||z.color,y.opacity=z.fillOpacity):y&&(lt.removeChild(y),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),y=Math.round(r._radius),z=Math.round(r._radiusY||y);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+y+","+z+" 0,23592600")},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){jr(r._container)},_bringToBack:function(r){Or(r._container)}},ee.vml?Fn:yt),Tr=br.extend({_initContainer:function(){this._container=ao("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ao("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yn(this._container),mi(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var r,u,y;this._map._animatingZoom&&this._bounds||(br.prototype._update.call(this),u=(r=this._bounds).getSize(),y=this._container,this._svgSize&&this._svgSize.equals(u)||(this._svgSize=u,y.setAttribute("width",u.x),y.setAttribute("height",u.y)),ge(y,r.min),y.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update"))},_initPath:function(r){var u=r._path=ao("path");r.options.className&&rn(u,r.options.className),r.options.interactive&&rn(u,"leaflet-interactive"),this._updateStyle(r),this._layers[zt(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Yn(r._path),r.removeInteractiveTarget(r._path),delete this._layers[zt(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(y){var u=y._path;y=y.options,u&&(y.stroke?(u.setAttribute("stroke",y.color),u.setAttribute("stroke-opacity",y.opacity),u.setAttribute("stroke-width",y.weight),u.setAttribute("stroke-linecap",y.lineCap),u.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?u.setAttribute("stroke-dasharray",y.dashArray):u.removeAttribute("stroke-dasharray"),y.dashOffset?u.setAttribute("stroke-dashoffset",y.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),y.fill?(u.setAttribute("fill",y.fillColor||y.color),u.setAttribute("fill-opacity",y.fillOpacity),u.setAttribute("fill-rule",y.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,jt(r._parts,u))},_updateCircle:function(r){var z=r._point,u=Math.max(Math.round(r._radius),1),y="a"+u+","+(Math.max(Math.round(r._radiusY),1)||u)+" 0 1,0 ";z=r._empty()?"M0 0":"M"+(z.x-u)+","+z.y+y+2*u+",0 "+y+2*-u+",0 ",this._setPath(r,z)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){jr(r._path)},_bringToBack:function(r){Or(r._path)}});function Pn(r){return ee.svg||ee.vml?new Tr(r):null}ee.vml&&Tr.include(pr),Gi.include({getRenderer:function(r){return r=(r=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(r){var u;return"overlayPane"!==r&&void 0!==r&&(void 0===(u=this._paneRenderers[r])&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u)},_createRenderer:function(r){return this.options.preferCanvas&&yn(r)||Pn(r)}});var js=Ze.extend({initialize:function(r,u){Ze.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return[(r=It(r)).getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});Tr.create=ao,Tr.pointsToPath=jt,Ge.geometryToLayer=Bi,Ge.coordsToLatLng=Wi,Ge.coordsToLatLngs=vr,Ge.latLngToCoords=Fr,Ge.latLngsToCoords=yo,Ge.getFeature=$n,Ge.asFeature=xn,Gi.mergeOptions({boxZoom:!0}),Po=po.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mi(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||1!==r.which&&1!==r.button)return!1;this._clearDeferredResetState(),this._resetState(),ii(),qt(),this._startPoint=this._map.mouseEventToContainerPoint(r),qe(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Rn("div","leaflet-zoom-box",this._container),rn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var y=(u=new B(this._point,this._startPoint)).getSize();ge(this._box,u.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Yn(this._box),An(this._container,"leaflet-crosshair")),ki(),fe(),mi(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){1!==r.which&&1!==r.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(nt(this._resetState,this),0),r=new Ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})))},_onKeyDown:function(r){27===r.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),Gi.addInitHook("addHandler","boxZoom",Po),Gi.mergeOptions({doubleClickZoom:!0}),Zo=po.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,z=u.getZoom(),y=u.options.zoomDelta;z=r.originalEvent.shiftKey?z-y:z+y,"center"===u.options.doubleClickZoom?u.setZoom(z):u.setZoomAround(r.containerPoint,z)}});var _s=(Gi.addInitHook("addHandler","doubleClickZoom",Zo),Gi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),po.extend({addHooks:function(){var r;this._draggable||(this._draggable=new Qr((r=this._map)._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))),rn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){An(this._map._container,"leaflet-grab"),An(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r,u=this._map;u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(r=It(this._map.options.maxBounds),this._offsetLimit=vt(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){var u,y;this._map.options.inertia&&(u=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(y),this._times.push(u),this._prunePositions(u)),this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;1<this._positions.length&&50<r-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){var r,u;this._viscosity&&this._offsetLimit&&((r=this._draggable._newPos.subtract(this._draggable._startPos)).x<(u=this._offsetLimit).min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r))},_onPreDragWrap:function(){var lt=this._worldWidth,r=Math.round(lt/2),u=this._initialWorldOffset,y=((z=this._draggable._newPos.x)-r+u)%lt+r-u,z=(z+r+u)%lt-r-u;lt=Math.abs(y+u)<Math.abs(z+u)?y:z,this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=lt},_onDragEnd:function(r){var u,y,z,lt,Ht=this._map,ke=Ht.options,Ee=!ke.inertia||r.noInertia||this._times.length<2;Ht.fire("dragend",r),!Ee&&(this._prunePositions(+new Date),Ee=(r=(r=this._lastPos.subtract(this._positions[0])).multiplyBy((u=ke.easeLinearity)/(Ee=(this._lastTime-this._times[0])/1e3))).distanceTo([0,0]),y=Math.min(ke.inertiaMaxSpeed,Ee),r=r.multiplyBy(y/Ee),(lt=r.multiplyBy(-(z=y/(ke.inertiaDeceleration*u))/2).round()).x||lt.y)?(lt=Ht._limitOffset(lt,Ht.options.maxBounds),G(function(){Ht.panBy(lt,{duration:z,easeLinearity:u,noMoveStart:!0,animate:!0})})):Ht.fire("moveend")}})),Fs=(Gi.addInitHook("addHandler","dragging",_s),Gi.mergeOptions({keyboard:!0,keyboardPanDelta:80}),na=po.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),qe(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mi(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var r,u,y;this._focused||(y=document.body,r=document.documentElement,u=y.scrollTop||r.scrollTop,y=y.scrollLeft||r.scrollLeft,this._map._container.focus(),window.scrollTo(y,u))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){for(var u=this._panKeys={},y=this.keyCodes,z=0,lt=y.left.length;z<lt;z++)u[y.left[z]]=[-1*r,0];for(z=0,lt=y.right.length;z<lt;z++)u[y.right[z]]=[r,0];for(z=0,lt=y.down.length;z<lt;z++)u[y.down[z]]=[0,r];for(z=0,lt=y.up.length;z<lt;z++)u[y.up[z]]=[0,-1*r]},_setZoomDelta:function(r){for(var u=this._zoomKeys={},y=this.keyCodes,z=0,lt=y.zoomIn.length;z<lt;z++)u[y.zoomIn[z]]=r;for(z=0,lt=y.zoomOut.length;z<lt;z++)u[y.zoomOut[z]]=-r},_addHooks:function(){qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mi(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u,y,z=r.keyCode,lt=this._map;if(z in this._panKeys)lt._panAnim&&lt._panAnim._inProgress||(y=this._panKeys[z],r.shiftKey&&(y=I(y).multiplyBy(3)),lt.options.maxBounds&&(y=lt._limitOffset(I(y),lt.options.maxBounds)),lt.options.worldCopyJump?(u=lt.wrapLatLng(lt.unproject(lt.project(lt.getCenter()).add(y))),lt.panTo(u)):lt.panBy(y));else if(z in this._zoomKeys)lt.setZoom(lt.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[z]);else{if(27!==z||!lt._popup||!lt._popup.options.closeOnEscapeKey)return;lt.closePopup()}mn(r)}}}),Gi.addInitHook("addHandler","keyboard",na),Gi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),Es=po.extend({addHooks:function(){qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mi(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var y=qn(r),u=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date),y=Math.max(u-(+new Date-this._startTime),0),clearTimeout(this._timer),this._timer=setTimeout(nt(this._performZoom,this),y),mn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),y=this._map.options.zoomSnap||0,z=(r._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel));z=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,y=y?Math.ceil(z/y)*y:z,z=r._limitZoom(u+(0<this._delta?y:-y))-u,this._delta=0,this._startTime=null,z&&("center"===r.options.scrollWheelZoom?r.setZoom(u+z):r.setZoomAround(this._lastMousePos,u+z))}}),Gi.addInitHook("addHandler","scrollWheelZoom",Es),Gi.mergeOptions({tapHold:ee.touchNative&&ee.safari&&ee.mobile,tapTolerance:15}),os=po.extend({addHooks:function(){qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mi(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){var u;clearTimeout(this._holdTimeout),1===r.touches.length&&(this._startPos=this._newPos=new P((u=r.touches[0]).clientX,u.clientY),this._holdTimeout=setTimeout(nt(function(){this._cancel(),this._isTapValid()&&(qe(document,"touchend",fn),qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),600),qe(document,"touchend touchcancel contextmenu",this._cancel,this),qe(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function r(){mi(document,"touchend",fn),mi(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),mi(document,"touchend touchcancel contextmenu",this._cancel,this),mi(document,"touchmove",this._onMove,this)},_onMove:function(r){this._newPos=new P((r=r.touches[0]).clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){(r=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY}))._simulated=!0,u.target.dispatchEvent(r)}}),Gi.addInitHook("addHandler","tapHold",os),Gi.mergeOptions({touchZoom:ee.touch,bounceAtZoomLimits:!0}),Go=po.extend({addHooks:function(){rn(this._map._container,"leaflet-touch-zoom"),qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){An(this._map._container,"leaflet-touch-zoom"),mi(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u,y,z=this._map;!r.touches||2!==r.touches.length||z._animatingZoom||this._zooming||(u=z.mouseEventToContainerPoint(r.touches[0]),y=z.mouseEventToContainerPoint(r.touches[1]),this._centerPoint=z.getSize()._divideBy(2),this._startLatLng=z.containerPointToLatLng(this._centerPoint),"center"!==z.options.touchZoom&&(this._pinchStartLatLng=z.containerPointToLatLng(u.add(y)._divideBy(2))),this._startDist=u.distanceTo(y),this._startZoom=z.getZoom(),this._moved=!1,this._zooming=!0,z._stop(),qe(document,"touchmove",this._onTouchMove,this),qe(document,"touchend touchcancel",this._onTouchEnd,this),fn(r))},_onTouchMove:function(r){if(r.touches&&2===r.touches.length&&this._zooming){var u=this._map,y=u.mouseEventToContainerPoint(r.touches[0]),z=u.mouseEventToContainerPoint(r.touches[1]),lt=y.distanceTo(z)/this._startDist;if(this._zoom=u.getScaleZoom(lt,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&lt<1||this._zoom>u.getMaxZoom()&&1<lt)&&(this._zoom=u._limitZoom(this._zoom)),"center"===u.options.touchZoom){if(this._center=this._startLatLng,1==lt)return}else{if(y=y._add(z)._divideBy(2)._subtract(this._centerPoint),1==lt&&0===y.x&&0===y.y)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),A(this._animRequest),z=nt(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=G(z,this,!0),fn(r)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,A(this._animRequest),mi(document,"touchmove",this._onTouchMove,this),mi(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),Gi.addInitHook("addHandler","touchZoom",Go),Gi.BoxZoom=Po,Gi.DoubleClickZoom=Zo,Gi.Drag=_s,Gi.Keyboard=na,Gi.ScrollWheelZoom=Es,Gi.TapHold=os,Gi.TouchZoom=Go,xt.Bounds=B,xt.Browser=ee,xt.CRS=mt,xt.Canvas=Dr,xt.Circle=Je,xt.CircleMarker=De,xt.Class=b,xt.Control=rr,xt.DivIcon=or,xt.DivOverlay=Sr,xt.DomEvent=Jn,xt.DomUtil=kt,xt.Draggable=Qr,xt.Evented=k,xt.FeatureGroup=et,xt.GeoJSON=Ge,xt.GridLayer=qo,xt.Handler=po,xt.Icon=Tt,xt.ImageOverlay=_r,xt.LatLng=E,xt.LatLngBounds=Ut,xt.Layer=C,xt.LayerGroup=q,xt.LineUtil=ie,xt.Map=Gi,xt.Marker=Se,xt.Mixin=Gr,xt.Path=xe,xt.Point=P,xt.PolyUtil=Bs,xt.Polygon=Ze,xt.Polyline=si,xt.Popup=Mo,xt.PosAnimation=kn,xt.Projection=oa,xt.Rectangle=js,xt.Renderer=br,xt.SVG=Tr,xt.SVGOverlay=ia,xt.TileLayer=Pr,xt.Tooltip=rs,xt.Transformation=M,xt.Util=D,xt.VideoOverlay=As,xt.bind=nt,xt.bounds=vt,xt.canvas=yn,xt.circle=function(r,u,y){return new Je(r,u,y)},xt.circleMarker=function(r,u){return new De(r,u)},xt.control=Vr,xt.divIcon=function(r){return new or(r)},xt.extend=Pt,xt.featureGroup=function(r,u){return new et(r,u)},xt.geoJSON=go,xt.geoJson=Gn,xt.gridLayer=function(r){return new qo(r)},xt.icon=function(r){return new Tt(r)},xt.imageOverlay=function(r,u,y){return new _r(r,u,y)},xt.latLng=U,xt.latLngBounds=It,xt.layerGroup=function(r,u){return new q(r,u)},xt.map=function(r,u){return new Gi(r,u)},xt.marker=function(r,u){return new Se(r,u)},xt.point=I,xt.polygon=function(r,u){return new Ze(r,u)},xt.polyline=function(r,u){return new si(r,u)},xt.popup=function(r,u){return new Mo(r,u)},xt.rectangle=function(r,u){return new js(r,u)},xt.setOptions=F,xt.stamp=zt,xt.svg=Pn,xt.svgOverlay=function(r,u,y){return new ia(r,u,y)},xt.tileLayer=sr,xt.tooltip=function(r,u){return new rs(r,u)},xt.transformation=tt,xt.version="1.9.3",xt.videoOverlay=function(r,u,y){return new As(r,u,y)},window.L);xt.noConflict=function(){return window.L=Fs,this},window.L=xt}),function(xt,Pt){"object"==typeof exports&&typeof module<"u"?Pt(exports,require("leaflet")):"function"==typeof define&&define.amd?define(["exports","leaflet"],Pt):Pt(((xt=typeof globalThis<"u"?globalThis:xt||self).L=xt.L||{},xt.L.esri={}),xt.L)}(this,function(xt,Pt){"use strict";var ot=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,nt=""===document.documentElement.style.pointerEvents,Ct={cors:ot,pointerEvents:nt},zt={attributionWidthOffset:55},Rt=0;function Dt(x){var H="";for(var wt in x.f=x.f||"json",x)if(Object.prototype.hasOwnProperty.call(x,wt)){var Gt,se=x[wt],Me=Object.prototype.toString.call(se);H.length&&(H+="&"),Gt="[object Array]"===Me?"[object Object]"===Object.prototype.toString.call(se[0])?JSON.stringify(se):se.join(","):"[object Object]"===Me?JSON.stringify(se):"[object Date]"===Me?se.valueOf():se,H+=encodeURIComponent(wt)+"="+encodeURIComponent(Gt)}return H}function Ot(x,H){var wt=new window.XMLHttpRequest;return wt.onerror=function(Gt){wt.onreadystatechange=Pt.Util.falseFn,x.call(H,{error:{code:500,message:"XMLHttpRequest error"}},null)},wt.onreadystatechange=function(){var Gt,se;if(4===wt.readyState){try{Gt=JSON.parse(wt.responseText)}catch{Gt=null,se={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!se&&Gt.error&&(se=Gt.error,Gt=null),wt.onerror=Pt.Util.falseFn,x.call(H,se,Gt)}},wt.ontimeout=function(){this.onerror()},wt}function J(x,H,wt,Gt){var se=Ot(wt,Gt);return se.open("POST",x),null!=Gt&&void 0!==Gt.options&&(se.timeout=Gt.options.timeout),se.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),se.send(Dt(H)),se}function ht(x,H,wt,Gt){var se=Ot(wt,Gt);return se.open("GET",x+"?"+Dt(H),!0),null!=Gt&&void 0!==Gt.options&&(se.timeout=Gt.options.timeout,Gt.options.withCredentials&&(se.withCredentials=!0)),se.send(null),se}function at(x,H,wt,Gt){var se=Dt(H),Me=Ot(wt,Gt),ii=(x+"?"+se).length;if(ii<=2e3&&Ct.cors?Me.open("GET",x+"?"+se):ii>2e3&&Ct.cors&&(Me.open("POST",x),Me.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),null!=Gt&&void 0!==Gt.options&&(Me.timeout=Gt.options.timeout,Gt.options.withCredentials&&(Me.withCredentials=!0)),ii<=2e3&&Ct.cors)Me.send(null);else{if(!(ii>2e3&&Ct.cors))return ii<=2e3&&!Ct.cors?F(x,H,wt,Gt):void $("a request to "+x+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy https://developers.arcgis.com/esri-leaflet/api-reference/request/");Me.send(se)}return Me}function F(x,H,wt,Gt){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var se="c"+Rt;H.callback="window._EsriLeafletCallbacks."+se,window._EsriLeafletCallbacks[se]=function(ii){if(!0!==window._EsriLeafletCallbacks[se]){var ki,Ni=Object.prototype.toString.call(ii);"[object Object]"!==Ni&&"[object Array]"!==Ni&&(ki={error:{code:500,message:"Expected array or object as JSONP response"}},ii=null),!ki&&ii.error&&(ki=ii,ii=null),wt.call(Gt,ki,ii),window._EsriLeafletCallbacks[se]=!0}};var Me=Pt.DomUtil.create("script",null,document.body);return Me.type="text/javascript",Me.src=x+"?"+Dt(H),Me.id=se,Me.onerror=function(ii){ii&&!0!==window._EsriLeafletCallbacks[se]&&(wt.call(Gt,{error:{code:500,message:"An unknown error occurred"}}),window._EsriLeafletCallbacks[se]=!0)},Pt.DomUtil.addClass(Me,"esri-leaflet-jsonp"),Rt++,{id:se,url:Me.src,abort:function(){window._EsriLeafletCallbacks._callback[se]({code:0,message:"Request aborted."})}}}var R=Ct.cors?ht:F;function $(){console&&console.warn&&console.warn.apply(console,arguments)}R.CORS=ht,R.JSONP=F;var O={request:at,get:R,post:J},V=function(x,H,wt,Gt){var ii=(Gt[1]-wt[1])*(H[0]-x[0])-(Gt[0]-wt[0])*(H[1]-x[1]);if(0!==ii){var ki=((Gt[0]-wt[0])*(x[1]-wt[1])-(Gt[1]-wt[1])*(x[0]-wt[0]))/ii,Ni=((H[0]-x[0])*(x[1]-wt[1])-(H[1]-x[1])*(x[0]-wt[0]))/ii;if(ki>=0&&ki<=1&&Ni>=0&&Ni<=1)return!0}return!1},Y=function(x,H){for(var wt=0;wt<x.length-1;wt++)for(var Gt=0;Gt<H.length-1;Gt++)if(V(x[wt],x[wt+1],H[Gt],H[Gt+1]))return!0;return!1},K=function(x){return function(H,wt){for(var Gt=0;Gt<H.length;Gt++)if(H[Gt]!==wt[Gt])return!1;return!0}(x[0],x[x.length-1])||x.push(x[0]),x},dt=function(x){for(var H,wt=0,Gt=0,se=x.length,Me=x[Gt];Gt<se-1;Gt++)wt+=((H=x[Gt+1])[0]-Me[0])*(H[1]+Me[1]),Me=H;return wt>=0},g=function(x){var H={};for(var wt in x)x.hasOwnProperty(wt)&&(H[wt]=x[wt]);return H},h=function(x,H){var wt=Y(x,H),Gt=function(se,Me){for(var ii=!1,ki=-1,Ni=se.length,sn=Ni-1;++ki<Ni;sn=ki)(se[ki][1]<=Me[1]&&Me[1]<se[sn][1]||se[sn][1]<=Me[1]&&Me[1]<se[ki][1])&&Me[0]<(se[sn][0]-se[ki][0])*(Me[1]-se[ki][1])/(se[sn][1]-se[ki][1])+se[ki][0]&&(ii=!ii);return ii}(x,H[0]);return!(wt||!Gt)},rt=function x(H,wt){var Gt={};if(H.features){Gt.type="FeatureCollection",Gt.features=[];for(var se=0;se<H.features.length;se++)Gt.features.push(x(H.features[se],wt))}if("number"==typeof H.x&&"number"==typeof H.y&&(Gt.type="Point",Gt.coordinates=[H.x,H.y],"number"==typeof H.z&&Gt.coordinates.push(H.z)),H.points&&(Gt.type="MultiPoint",Gt.coordinates=H.points.slice(0)),H.paths&&(1===H.paths.length?(Gt.type="LineString",Gt.coordinates=H.paths[0].slice(0)):(Gt.type="MultiLineString",Gt.coordinates=H.paths.slice(0))),H.rings&&(Gt=function(Me){for(var ii,Ni,sn=[],hr=[],xr=0;xr<Me.length;xr++){var tr=K(Me[xr].slice(0));if(!(tr.length<4))if(dt(tr)){var eo=[tr.slice().reverse()];sn.push(eo)}else hr.push(tr.slice().reverse())}for(var Br=[];hr.length;){Ni=hr.pop();var Rn=!1;for(ii=sn.length-1;ii>=0;ii--)if(h(sn[ii][0],Ni)){sn[ii].push(Ni),Rn=!0;break}Rn||Br.push(Ni)}for(;Br.length;){Ni=Br.pop();var Yn=!1;for(ii=sn.length-1;ii>=0;ii--)if(Y(sn[ii][0],Ni)){sn[ii].push(Ni),Yn=!0;break}Yn||sn.push([Ni.reverse()])}return 1===sn.length?{type:"Polygon",coordinates:sn[0]}:{type:"MultiPolygon",coordinates:sn}}(H.rings.slice(0))),"number"==typeof H.xmin&&"number"==typeof H.ymin&&"number"==typeof H.xmax&&"number"==typeof H.ymax&&(Gt.type="Polygon",Gt.coordinates=[[[H.xmax,H.ymax],[H.xmin,H.ymax],[H.xmin,H.ymin],[H.xmax,H.ymin],[H.xmax,H.ymax]]]),(H.geometry||H.attributes)&&(Gt.type="Feature",Gt.geometry=H.geometry?x(H.geometry):null,Gt.properties=H.attributes?g(H.attributes):null,H.attributes))try{Gt.id=function(Me,ii){for(var ki=ii?[ii,"OBJECTID","FID"]:["OBJECTID","FID"],Ni=0;Ni<ki.length;Ni++){var sn=ki[Ni];if(sn in Me&&("string"==typeof Me[sn]||"number"==typeof Me[sn]))return Me[sn]}throw Error("No valid id attribute found")}(H.attributes,wt)}catch{}return JSON.stringify(Gt.geometry)===JSON.stringify({})&&(Gt.geometry=null),H.spatialReference&&H.spatialReference.wkid&&4326!==H.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(H.spatialReference)),Gt},T=function(x){var H=[],wt=x.slice(0),Gt=K(wt.shift().slice(0));if(Gt.length>=4){dt(Gt)||Gt.reverse(),H.push(Gt);for(var se=0;se<wt.length;se++){var Me=K(wt[se].slice(0));Me.length>=4&&(dt(Me)&&Me.reverse(),H.push(Me))}}return H},G=function x(H,wt){wt=wt||"OBJECTID";var Gt,se={wkid:4326},Me={};switch(H.type){case"Point":Me.x=H.coordinates[0],Me.y=H.coordinates[1],H.coordinates[2]&&(Me.z=H.coordinates[2]),Me.spatialReference=se;break;case"MultiPoint":Me.points=H.coordinates.slice(0),H.coordinates[0][2]&&(Me.hasZ=!0),Me.spatialReference=se;break;case"LineString":Me.paths=[H.coordinates.slice(0)],H.coordinates[0][2]&&(Me.hasZ=!0),Me.spatialReference=se;break;case"MultiLineString":Me.paths=H.coordinates.slice(0),H.coordinates[0][0][2]&&(Me.hasZ=!0),Me.spatialReference=se;break;case"Polygon":Me.rings=T(H.coordinates.slice(0)),H.coordinates[0][0][2]&&(Me.hasZ=!0),Me.spatialReference=se;break;case"MultiPolygon":Me.rings=function(ii){for(var ki=[],Ni=0;Ni<ii.length;Ni++)for(var sn=T(ii[Ni]),hr=sn.length-1;hr>=0;hr--){var xr=sn[hr].slice(0);ki.push(xr)}return ki}(H.coordinates.slice(0)),H.coordinates[0][0][0][2]&&(Me.hasZ=!0),Me.spatialReference=se;break;case"Feature":H.geometry&&(Me.geometry=x(H.geometry,wt)),Me.attributes=H.properties?g(H.properties):{},H.id&&(Me.attributes[wt]=H.id);break;case"FeatureCollection":for(Me=[],Gt=0;Gt<H.features.length;Gt++)Me.push(x(H.features[Gt],wt));break;case"GeometryCollection":for(Me=[],Gt=0;Gt<H.geometries.length;Gt++)Me.push(x(H.geometries[Gt],wt))}return Me},A='<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>';function D(x,H){return G(x,H)}function b(x,H){return rt(x,H)}function W(x){if("NaN"!==x.xmin&&"NaN"!==x.ymin&&"NaN"!==x.xmax&&"NaN"!==x.ymax){var H=Pt.latLng(x.ymin,x.xmin),wt=Pt.latLng(x.ymax,x.xmax);return Pt.latLngBounds(H,wt)}return null}function k(x){return{xmin:(x=Pt.latLngBounds(x)).getSouthWest().lng,ymin:x.getSouthWest().lat,xmax:x.getNorthEast().lng,ymax:x.getNorthEast().lat,spatialReference:{wkid:4326}}}var P=/^(OBJECTID|FID|OID|ID)$/i;function Q(x){var H;if(x.objectIdFieldName)H=x.objectIdFieldName;else if(x.fields){for(var wt=0;wt<=x.fields.length-1;wt++)if("esriFieldTypeOID"===x.fields[wt].type){H=x.fields[wt].name;break}if(!H)for(wt=0;wt<=x.fields.length-1;wt++)if(x.fields[wt].name.match(P)){H=x.fields[wt].name;break}}return H}function I(x){for(var H in x.attributes)if(H.match(P))return H}function B(x,H){var wt,Gt=x.features||x.results,se=Gt&&Gt.length;wt=H||Q(x);var Me={type:"FeatureCollection",features:[]};if(se)for(var ii=Gt.length-1;ii>=0;ii--){var ki=b(Gt[ii],wt||I(Gt[ii]));Me.features.push(ki)}return Me}function vt(x){return"/"!==(x=Pt.Util.trim(x))[x.length-1]&&(x+="/"),x}function Ut(x){if(-1!==x.url.indexOf("?")){x.requestParams=x.requestParams||{};var H=x.url.substring(x.url.indexOf("?")+1);x.url=x.url.split("?")[0],x.requestParams=JSON.parse('{"'+decodeURI(H).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return x.url=vt(x.url.split("?")[0]),x}function It(x){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(x)}function E(x){var H;switch(x){case"Point":H="esriGeometryPoint";break;case"MultiPoint":H="esriGeometryMultipoint";break;case"LineString":case"MultiLineString":H="esriGeometryPolyline";break;case"Polygon":case"MultiPolygon":H="esriGeometryPolygon"}return H}function U(x){return x.getSize().x-zt.attributionWidthOffset+"px"}function mt(x){if(x.attributionControl){if(x.attributionControl._esriAttributionLayerCount||(x.attributionControl._esriAttributionLayerCount=0),0===x.attributionControl._esriAttributionLayerCount){if(!x.attributionControl._esriAttributionAddedOnce){var H=document.createElement("style");H.type="text/css",H.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(H);var wt=document.createElement("style");wt.type="text/css",wt.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+U(x)+";}",document.getElementsByTagName("head")[0].appendChild(wt),x.on("resize",function(Gt){x.attributionControl&&(x.attributionControl._container.style.maxWidth=U(Gt.target))}),x.attributionControl._esriAttributionAddedOnce=!0}x.attributionControl.setPrefix(A+' | Powered by <a href="https://www.esri.com">Esri</a>'),Pt.DomUtil.addClass(x.attributionControl._container,"esri-truncated-attribution:hover"),Pt.DomUtil.addClass(x.attributionControl._container,"esri-truncated-attribution")}x.attributionControl._esriAttributionLayerCount=x.attributionControl._esriAttributionLayerCount+1}}function ct(x){x.attributionControl&&(x.attributionControl._esriAttributionLayerCount&&1===x.attributionControl._esriAttributionLayerCount&&(x.attributionControl.setPrefix(A),Pt.DomUtil.removeClass(x.attributionControl._container,"esri-truncated-attribution:hover"),Pt.DomUtil.removeClass(x.attributionControl._container,"esri-truncated-attribution")),x.attributionControl._esriAttributionLayerCount=x.attributionControl._esriAttributionLayerCount-1)}function ft(x){var H={geometry:null,geometryType:null};return x instanceof Pt.LatLngBounds?(H.geometry=k(x),H.geometryType="esriGeometryEnvelope",H):(x.getLatLng&&(x=x.getLatLng()),x instanceof Pt.LatLng&&(x={type:"Point",coordinates:[x.lng,x.lat]}),x instanceof Pt.GeoJSON&&(x=x.getLayers()[0].feature.geometry,H.geometry=D(x),H.geometryType=E(x.type)),x.toGeoJSON&&(x=x.toGeoJSON()),"Feature"===x.type&&(x=x.geometry),"Point"===x.type||"LineString"===x.type||"Polygon"===x.type||"MultiPolygon"===x.type?(H.geometry=D(x),H.geometryType=E(x.type),H):void $("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"))}function M(x,H){Ct.cors&&at(x,{},Pt.Util.bind(function(wt,Gt){if(!wt){H._esriAttributions=[];for(var se=0;se<Gt.contributors.length;se++)for(var Me=Gt.contributors[se],ii=0;ii<Me.coverageAreas.length;ii++){var ki=Me.coverageAreas[ii],Ni=Pt.latLng(ki.bbox[0],ki.bbox[1]),sn=Pt.latLng(ki.bbox[2],ki.bbox[3]);H._esriAttributions.push({attribution:Me.attribution,score:ki.score,bounds:Pt.latLngBounds(Ni,sn),minZoom:ki.zoomMin,maxZoom:ki.zoomMax})}H._esriAttributions.sort(function(hr,xr){return xr.score-hr.score}),tt({target:H})}},this))}function tt(x){var H=x.target,wt=H._esriAttributions;if(H&&H.attributionControl){var Gt=H.attributionControl._container.querySelector(".esri-dynamic-attribution");if(Gt&&wt){for(var se="",Me=H.getBounds(),ii=Pt.latLngBounds(Me.getSouthWest().wrap(),Me.getNorthEast().wrap()),ki=H.getZoom(),Ni=0;Ni<wt.length;Ni++){var sn=wt[Ni],hr=sn.attribution;!se.match(hr)&&sn.bounds.intersects(ii)&&ki>=sn.minZoom&&ki<=sn.maxZoom&&(se+=", "+hr)}se=se.substr(2),Gt.innerHTML=se,Gt.style.maxWidth=U(H),H.fire("attributionupdated",{attribution:se})}}}var X={warn:$,cleanUrl:vt,getUrlParams:Ut,isArcgisOnline:It,geojsonTypeToArcGIS:E,responseToFeatureCollection:B,geojsonToArcGIS:D,arcgisToGeoJSON:b,boundsToExtent:k,extentToBounds:W,calcAttributionWidth:U,setEsriAttribution:mt,_setGeometry:ft,_getAttributionData:M,_updateMapAttribution:tt,_findIdAttributeFromFeature:I,_findIdAttributeFromResponse:Q},St=Pt.Class.extend({options:{proxy:!1,useCors:ot},generateSetter:function(x,H){return Pt.Util.bind(function(wt){return this.params[x]=wt,this},H)},initialize:function(x){if(x.request&&x.options?(this._service=x,Pt.Util.setOptions(this,x.options)):(Pt.Util.setOptions(this,x),this.options.url=vt(x.url)),this.params=Pt.Util.extend({},this.params||{}),this.setters)for(var H in this.setters)this[H]=this.generateSetter(this.setters[H],this)},token:function(x){return this._service?this._service.authenticate(x):this.params.token=x,this},apikey:function(x){return this.token(x)},format:function(x){return this.params.returnUnformattedValues=!x,this},request:function(x,H){return this.options.requestParams&&Pt.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,x,H):this._request("request",this.path,this.params,x,H)},_request:function(x,H,wt,Gt,se){var Me=this.options.proxy?this.options.proxy+"?"+this.options.url+H:this.options.url+H;return"get"!==x&&"request"!==x||this.options.useCors?O[x](Me,wt,Gt,se):O.get.JSONP(Me,wt,Gt,se)}}),yt=St.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(x){return this._setGeometryParams(x),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(x){return this._setGeometryParams(x),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(x){return this._setGeometryParams(x),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(x){return this._setGeometryParams(x),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(x){return this._setGeometryParams(x),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(x){return this._setGeometryParams(x),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(x){return this._setGeometryParams(x),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(x){return this._setGeometryParams(x),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(x,H){return x=Pt.latLng(x),this.params.geometry=[x.lng,x.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=H,this.params.inSR=4326,this},where:function(x){return this.params.where=x,this},between:function(x,H){return this.params.time=[x.valueOf(),H.valueOf()],this},simplify:function(x,H){var wt=Math.abs(x.getBounds().getWest()-x.getBounds().getEast());return this.params.maxAllowableOffset=wt/x.getSize().y*H,this},orderBy:function(x,H){return H=H||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[x,H].join(" "),this},run:function(x,H){return this._cleanParams(),this.options.isModern||It(this.options.url)&&void 0===this.options.isModern?(this.params.f="geojson",this.request(function(wt,Gt){this._trapSQLerrors(wt),x.call(H,wt,Gt,Gt)},this)):this.request(function(wt,Gt){this._trapSQLerrors(wt),x.call(H,wt,Gt&&B(Gt),Gt)},this)},count:function(x,H){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(wt,Gt){x.call(this,wt,Gt&&Gt.count,Gt)},H)},ids:function(x,H){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(wt,Gt){x.call(this,wt,Gt&&Gt.objectIds,Gt)},H)},bounds:function(x,H){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(wt,Gt){Gt&&Gt.extent&&W(Gt.extent)?x.call(H,wt,W(Gt.extent),Gt):x.call(H,wt={message:"Invalid Bounds"},null,Gt)},H)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(x){var H=Pt.point(x);return this.params.pixelSize=[H.x,H.y],this},layer:function(x){return this.path=x+"/query",this},_trapSQLerrors:function(x){x&&"400"===x.code&&$("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(x){this.params.inSR=4326;var H=ft(x);this.params.geometry=H.geometry,this.params.geometryType=H.geometryType}});function jt(x){return new yt(x)}var kt=St.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(x,H){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[x,H].join(":"),this},simplify:function(x,H){var wt=Math.abs(x.getBounds().getWest()-x.getBounds().getEast());return this.params.maxAllowableOffset=wt/x.getSize().y*H,this},run:function(x,H){return this.request(function(wt,Gt){x.call(H,wt,Gt&&B(Gt),Gt)},H)}});function ie(x){return new kt(x)}var pe=St.extend({path:"identify",between:function(x,H){return this.params.time=[x.valueOf(),H.valueOf()],this}}),Fe=pe.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(x){var H=k(x.getBounds()),wt=x.getSize();return this.params.imageDisplay=[wt.x,wt.y,96],this.params.mapExtent=[H.xmin,H.ymin,H.xmax,H.ymax],this},at:function(x){return 2===x.length&&(x=Pt.latLng(x)),this._setGeometryParams(x),this},layerDef:function(x,H){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[x,H].join(":"),this},simplify:function(x,H){var wt=Math.abs(x.getBounds().getWest()-x.getBounds().getEast());return this.params.maxAllowableOffset=wt/x.getSize().y*H,this},run:function(x,H){return this.request(function(wt,Gt){if(wt)x.call(H,wt,void 0,Gt);else{var se=B(Gt);Gt.results=Gt.results.reverse();for(var Me=0;Me<se.features.length;Me++)se.features[Me].layerId=Gt.results[Me].layerId;x.call(H,void 0,se,Gt)}})},_setGeometryParams:function(x){var H=ft(x);this.params.geometry=H.geometry,this.params.geometryType=H.geometryType}});function je(x){return new Fe(x)}var Ce=pe.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(x){return x=Pt.latLng(x),this.params.geometry=JSON.stringify({x:x.lng,y:x.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(x,H){return this.request(function(wt,Gt){x.call(H,wt,Gt&&this._responseToGeoJSON(Gt),Gt)},this)},_responseToGeoJSON:function(x){var H=x.location,wt=x.catalogItems,Gt=x.catalogItemVisibilities,se={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[H.x,H.y]},crs:{type:"EPSG",properties:{code:H.spatialReference.wkid}},properties:{OBJECTID:x.objectId,name:x.name,value:x.value},id:x.objectId}};if(x.properties&&x.properties.Values&&(se.pixel.properties.values=x.properties.Values),wt&&wt.features&&(se.catalogItems=B(wt),Gt&&Gt.length===se.catalogItems.features.length))for(var Me=Gt.length-1;Me>=0;Me--)se.catalogItems.features[Me].properties.catalogItemVisibility=Gt[Me];return se}});function $t(x){return new Ce(x)}var de=Pt.Evented.extend({options:{proxy:!1,useCors:ot,timeout:0},initialize:function(x){x=x||{},this._requestQueue=[],this._authenticating=!1,Pt.Util.setOptions(this,x),this.options.url=vt(this.options.url)},get:function(x,H,wt,Gt){return this._request("get",x,H,wt,Gt)},post:function(x,H,wt,Gt){return this._request("post",x,H,wt,Gt)},request:function(x,H,wt,Gt){return this._request("request",x,H,wt,Gt)},metadata:function(x,H){return this._request("get","",{},x,H)},authenticate:function(x){return this._authenticating=!1,this.options.token=x,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(x){this.options.timeout=x},_request:function(x,H,wt,Gt,se){this.fire("requeststart",{url:this.options.url+H,params:wt,method:x},!0);var Me=this._createServiceCallback(x,H,wt,Gt,se);if(this.options.token&&(wt.token=this.options.token),this.options.requestParams&&Pt.Util.extend(wt,this.options.requestParams),!this._authenticating){var ii=this.options.proxy?this.options.proxy+"?"+this.options.url+H:this.options.url+H;return"get"!==x&&"request"!==x||this.options.useCors?O[x](ii,wt,Me,se):O.get.JSONP(ii,wt,Me,se)}this._requestQueue.push([x,H,wt,Gt,se])},_createServiceCallback:function(x,H,wt,Gt,se){return Pt.Util.bind(function(Me,ii){!Me||499!==Me.code&&498!==Me.code||(this._authenticating=!0,this._requestQueue.push([x,H,wt,Gt,se]),this.fire("authenticationrequired",{authenticate:Pt.Util.bind(this.authenticate,this)},!0),Me.authenticate=Pt.Util.bind(this.authenticate,this)),Gt.call(se,Me,ii),Me?this.fire("requesterror",{url:this.options.url+H,params:wt,message:Me.message,code:Me.code,method:x},!0):this.fire("requestsuccess",{url:this.options.url+H,params:wt,response:ii,method:x},!0),this.fire("requestend",{url:this.options.url+H,params:wt,method:x},!0)},this)},_runQueue:function(){for(var x=this._requestQueue.length-1;x>=0;x--){var H=this._requestQueue[x];this[H.shift()].apply(this,H)}this._requestQueue=[]}}),Qt=de.extend({identify:function(){return je(this)},find:function(){return ie(this)},query:function(){return jt(this)}});function Et(x){return new Qt(x)}var Lt=de.extend({query:function(){return jt(this)},identify:function(){return $t(this)}});function ne(x){return new Lt(x)}var re=de.extend({options:{idAttribute:"OBJECTID"},query:function(){return jt(this)},addFeature:function(x,H,wt){this.addFeatures(x,H,wt)},addFeatures:function(x,H,wt){for(var Gt=x.features?x.features:[x],se=Gt.length-1;se>=0;se--)delete Gt[se].id;return x=D(x),this.post("addFeatures",{features:x=Gt.length>1?x:[x]},function(Me,ii){H&&H.call(wt,Me||ii.addResults[0].error,ii&&ii.addResults?ii.addResults.length>1?ii.addResults:ii.addResults[0]:void 0)},wt)},updateFeature:function(x,H,wt){this.updateFeatures(x,H,wt)},updateFeatures:function(x,H,wt){var Gt=x.features?x.features:[x];return x=D(x,this.options.idAttribute),this.post("updateFeatures",{features:x=Gt.length>1?x:[x]},function(se,Me){H&&H.call(wt,se||Me.updateResults[0].error,Me&&Me.updateResults?Me.updateResults.length>1?Me.updateResults:Me.updateResults[0]:void 0)},wt)},deleteFeature:function(x,H,wt){this.deleteFeatures(x,H,wt)},deleteFeatures:function(x,H,wt){return this.post("deleteFeatures",{objectIds:x},function(Gt,se){H&&H.call(wt,Gt||se.deleteResults[0].error,se&&se.deleteResults?se.deleteResults.length>1?se.deleteResults:se.deleteResults[0]:void 0)},wt)}});function le(x){return new re(x)}var ee="https:"!==window.location.protocol?"http:":"https:",Ue=Pt.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:ee+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:ee+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:nt?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:nt?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:nt?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:nt?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:nt?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:nt?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:nt?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:ee+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:ee+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:ee+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:ee+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(x,H){var wt;if("object"==typeof x&&x.urlTemplate&&x.options)wt=x;else{if("string"!=typeof x||!Ue.TILES[x])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');wt=Ue.TILES[x]}var Gt=Pt.Util.extend(wt.options,H);Pt.Util.setOptions(this,Gt),this.options.ignoreDeprecationWarning||console.warn("WARNING: L.esri.BasemapLayer uses data services that are in mature support and are not being updated. Please use L.esri.Vector.vectorBasemapLayer instead. More info: https://esriurl.com/esri-leaflet-basemap"),this.options.token&&-1===wt.urlTemplate.indexOf("token=")&&(wt.urlTemplate+="?token="+this.options.token),this.options.proxy&&(wt.urlTemplate=this.options.proxy+"?"+wt.urlTemplate),Pt.TileLayer.prototype.initialize.call(this,wt.urlTemplate,Gt)},onAdd:function(x){mt(x),"esri-labels"===this.options.pane&&this._initPane(),this.options.attributionUrl&&M((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,x),x.on("moveend",tt),Pt.TileLayer.prototype.onAdd.call(this,x)},onRemove:function(x){ct(x),x.off("moveend",tt),Pt.TileLayer.prototype.onRemove.call(this,x)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var x=this._map.createPane(this.options.pane);x.style.pointerEvents="none",x.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var x='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return x}}),Ke=Pt.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(x){x=Ut(x=Pt.Util.setOptions(this,x)),this.tileUrl=(x.proxy?x.proxy+"?":"")+x.url+"tile/{z}/{y}/{x}"+(x.requestParams&&Object.keys(x.requestParams).length>0?Pt.Util.getParamString(x.requestParams):""),-1!==x.url.indexOf("{s}")&&x.subdomains&&(x.url=x.url.replace("{s}",x.subdomains[0])),this.service=Et(x),this.service.addEventParent(this),new RegExp(/tiles.arcgis(online)?\.com/g).test(x.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),x.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),Pt.TileLayer.prototype.initialize.call(this,this.tileUrl,x)},getTileUrl:function(x){var H=this._getZoomForUrl();return Pt.Util.template(this.tileUrl,Pt.Util.extend({s:this._getSubdomain(x),x:x.x,y:x.y,z:this._lodMap&&this._lodMap[H]?this._lodMap[H]:H},this.options))},createTile:function(x,H){var wt=document.createElement("img");return Pt.DomEvent.on(wt,"load",Pt.Util.bind(this._tileOnLoad,this,H,wt)),Pt.DomEvent.on(wt,"error",Pt.Util.bind(this._tileOnError,this,H,wt)),this.options.crossOrigin&&(wt.crossOrigin=""),wt.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?wt.src=this.getTileUrl(x):this.once("lodmap",function(){wt.src=this.getTileUrl(x)},this),wt},onAdd:function(x){mt(x),this._lodMap||this.metadata(function(H,wt){if(!H&&wt.spatialReference){var Gt=wt.spatialReference.latestWkid||wt.spatialReference.wkid;if(!this.options.attribution&&x.attributionControl&&wt.copyrightText&&(this.options.attribution=wt.copyrightText,x.attributionControl.addAttribution(this.getAttribution())),x.options.crs!==Pt.CRS.EPSG3857||102100!==Gt&&3857!==Gt)x.options.crs&&x.options.crs.code&&x.options.crs.code.indexOf(Gt)>-1||$("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/");else{this._lodMap={};for(var se=wt.tileInfo.lods,Me=Ke.MercatorZoomLevels,ii=0;ii<se.length;ii++){var ki=se[ii];for(var Ni in Me)if(this._withinPercentage(ki.resolution,Me[Ni],this.options.zoomOffsetAllowance)){this._lodMap[Ni]=ki.level;break}}this.fire("lodmap")}}},this),Pt.TileLayer.prototype.onAdd.call(this,x)},onRemove:function(x){ct(x),Pt.TileLayer.prototype.onRemove.call(this,x)},metadata:function(x,H){return this.service.metadata(x,H),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(x){var H="?token="+x;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,H):this.tileUrl+H,this.options.token=x,this.service.authenticate(x),this},_withinPercentage:function(x,H,wt){return Math.abs(x/H-1)<wt}}),Ii=Pt.ImageOverlay.extend({onAdd:function(x){this._topLeft=x.getPixelBounds().min,Pt.ImageOverlay.prototype.onAdd.call(this,x)},_reset:function(){this._map.options.crs===Pt.CRS.EPSG3857?Pt.ImageOverlay.prototype._reset.call(this):Pt.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),ai=Pt.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:ot,attribution:null,interactive:!1,alt:""},onAdd:function(x){mt(x),this.options.zIndex&&(this.options.position=null),this._update=Pt.Util.throttle(this._update,this.options.updateInterval,this),x.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?x.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(H,wt){!H&&!this.options.attribution&&x.attributionControl&&wt.copyrightText&&(this.options.attribution=wt.copyrightText,x.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(x){ct(x),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(x,H){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=Pt.popup(H),this._popupFunction=x,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(x){return this.options.zIndex=x,this._currentImage&&this._currentImage.setZIndex(x),this},_setAutoZIndex:function(x){if(this._currentImage){for(var H,wt=this._currentImage.getPane().children,Gt=-x(-1/0,1/0),se=0,Me=wt.length;se<Me;se++)H=wt[se].style.zIndex,wt[se]!==this._currentImage._image&&H&&(Gt=x(Gt,+H));isFinite(Gt)&&(this.options.zIndex=Gt+x(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(x){return this.options.opacity=x,this._currentImage&&this._currentImage.setOpacity(x),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(x,H){return this.options.from=x,this.options.to=H,this._update(),this},metadata:function(x,H){return this.service.metadata(x,H),this},authenticate:function(x){return this.service.authenticate(x),this},redraw:function(){this._update()},_renderImage:function(x,H,wt){if(this._map){if(wt&&(x="data:"+wt+";base64,"+x),!x)return;var Gt=new Ii(x,H,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),se=function(){this._map.removeLayer(Gt),this.fire("error"),Gt.off("load",Me,this)},Me=function(ii){if(Gt.off("error",se,this),this._map){var ki=ii.target,Ni=this._currentImage;ki._bounds.equals(H)&&ki._bounds.equals(this._map.getBounds())?(this._currentImage=ki,"front"===this.options.position?this.bringToFront():"back"===this.options.position&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),Ni&&this._map&&this._map.removeLayer(Ni),Ni&&Ni._map&&Ni._map.removeLayer(Ni)):this._map.removeLayer(ki)}this.fire("load",{bounds:H})};Gt.once("error",se,this),Gt.once("load",Me,this)}},_update:function(){if(this._map){var x=this._map.getZoom(),H=this._map.getBounds();if(!(this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress))if(x>this.options.maxZoom||x<this.options.minZoom)this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var wt=this._buildExportParams();Pt.Util.extend(wt,this.options.requestParams),wt?(this._requestExport(wt,H),this.fire("loading",{bounds:H})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(x,H,wt,Gt){if(x=Pt.latLng(x),this._shouldRenderPopup&&this._lastClick.equals(x)){var se=this._popupFunction(H,wt,Gt);se&&this._popup.setLatLng(x).setContent(se).openOn(this._map)}},_resetPopupState:function(x){this._shouldRenderPopup=!1,this._lastClick=x.latlng},_calculateBbox:function(){var x=this._map.getPixelBounds(),H=this._map.unproject(x.getBottomLeft()),wt=this._map.unproject(x.getTopRight()),Gt=this._map.options.crs.project(wt),se=this._map.options.crs.project(H),Me=Pt.bounds(Gt,se);return[Me.getBottomLeft().x,Me.getBottomLeft().y,Me.getTopRight().x,Me.getTopRight().y].join(",")},_calculateImageSize:function(){var x=this._map.getPixelBounds(),H=this._map.getSize(),wt=this._map.unproject(x.getBottomLeft()),Gt=this._map.unproject(x.getTopRight()),se=this._map.latLngToLayerPoint(Gt).y,Me=this._map.latLngToLayerPoint(wt).y;return(se>0||Me<H.y)&&(H.y=Me-se),H.x+","+H.y}}),li=ai.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(x){x=Ut(x),this.service=ne(x),this.service.addEventParent(this),Pt.Util.setOptions(this,x)},setPixelType:function(x){return this.options.pixelType=x,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(x){return this.options.bandIds=Pt.Util.isArray(x)?x.join(","):x.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(x,H){return this.options.noData=Pt.Util.isArray(x)?x.join(","):x.toString(),H&&(this.options.noDataInterpretation=H),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(x){this.options.renderingRule=x,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(x){this.options.mosaicRule=x,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(x){var H=Pt.Util.bind(function(Gt,se,Me){Gt||setTimeout(Pt.Util.bind(function(){this._renderPopup(x.latlng,Gt,se,Me)},this),300)},this),wt=this.identify().at(x.latlng);this.options.mosaicRule&&wt.setMosaicRule(this.options.mosaicRule),wt.run(H),this._shouldRenderPopup=!0,this._lastClick=x.latlng},_buildExportParams:function(){var x=parseInt(this._map.options.crs.code.split(":")[1],10),H={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:x,imageSR:x};return this.options.from&&this.options.to&&(H.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(H.pixelType=this.options.pixelType),this.options.interpolation&&(H.interpolation=this.options.interpolation),this.options.compressionQuality&&(H.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(H.bandIds=this.options.bandIds),(0===this.options.noData||this.options.noData)&&(H.noData=this.options.noData),this.options.noDataInterpretation&&(H.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(H.token=this.service.options.token),this.options.renderingRule&&(H.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(H.mosaicRule=JSON.stringify(this.options.mosaicRule)),H},_requestExport:function(x,H){if("json"===this.options.f)this.service.request("exportImage",x,function(Gt,se){Gt||(this.options.token&&(se.href+="?token="+this.options.token),this.options.proxy&&(se.href=this.options.proxy+"?"+se.href),this._renderImage(se.href,H))},this);else{x.f="image";var wt=this.options.url+"exportImage"+Pt.Util.getParamString(x);this.options.proxy&&(wt=this.options.proxy+"?"+wt),this._renderImage(wt,H)}}}),Pi=ai.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(x){x=Ut(x),this.service=Et(x),this.service.addEventParent(this),Pt.Util.setOptions(this,x)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(x){return this.options.dynamicLayers=x,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(x){return this.options.layers=x,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(x){return this.options.layerDefs=x,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(x){return this.options.timeOptions=x,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(x){var H,wt=Pt.Util.bind(function(se,Me,ii){se||setTimeout(Pt.Util.bind(function(){this._renderPopup(x.latlng,se,Me,ii)},this),300)},this);if((H=this.options.popup?this.options.popup.on(this._map).at(x.latlng):this.identify().on(this._map).at(x.latlng)).params.maxAllowableOffset||H.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||H.layers(this.options.layers?"visible:"+this.options.layers.join(","):"visible"),this.options.layerDefs&&"string"!=typeof this.options.layerDefs&&!H.params.layerDefs)for(var Gt in this.options.layerDefs)Object.prototype.hasOwnProperty.call(this.options.layerDefs,Gt)&&H.layerDef(Gt,this.options.layerDefs[Gt]);H.run(wt),this._shouldRenderPopup=!0,this._lastClick=x.latlng},_buildExportParams:function(){var x=parseInt(this._map.options.crs.code.split(":")[1],10),H={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:x,imageSR:x};if(this.options.dynamicLayers&&(H.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(0===this.options.layers.length)return;H.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(H.layerDefs="string"==typeof this.options.layerDefs?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(H.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(H.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(H.token=this.service.options.token),this.options.proxy&&(H.proxy=this.options.proxy),this.options.disableCache&&(H._ts=Date.now()),H},_requestExport:function(x,H){if("json"===this.options.f)this.service.request("export",x,function(Gt,se){Gt||(this.options.token&&se.href&&(se.href+="?token="+this.options.token),this.options.proxy&&se.href&&(se.href=this.options.proxy+"?"+se.href),se.href?this._renderImage(se.href,H):this._renderImage(se.imageData,H,se.contentType))},this);else{x.f="image";var wt=this.options.url+"export"+Pt.Util.getParamString(x);this.options.proxy&&(wt=this.options.proxy+"?"+wt),this._renderImage(wt,H)}}}),hi=Pt.Layer.extend({options:{cellSize:512,updateWhenIdle:Pt.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(x){Pt.Util.setOptions(this,x)},onAdd:function(x){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(x){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var x={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Pt.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),x.move=this._onMove),x},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var x=this.options.cellSize;return x instanceof Pt.Point?x:new Pt.Point(x,x)},_pruneCells:function(){if(this._map){var x,H;for(x in this._cells)(H=this._cells[x]).retain=H.current;for(x in this._cells)if((H=this._cells[x]).current&&!H.active){var wt=H.coords;this._retainParent(wt.x,wt.y,wt.z,wt.z-5)||this._retainChildren(wt.x,wt.y,wt.z,wt.z+2)}for(x in this._cells)this._cells[x].retain||this._removeCell(x)}},_removeAllCells:function(){for(var x in this._cells)this._removeCell(x)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(x,H,wt,Gt){var se=Math.floor(x/2),Me=Math.floor(H/2),ii=wt-1,ki=new Pt.Point(+se,+Me);ki.z=+ii;var Ni=this._cellCoordsToKey(ki),sn=this._cells[Ni];return sn&&sn.active?(sn.retain=!0,!0):(sn&&sn.loaded&&(sn.retain=!0),ii>Gt&&this._retainParent(se,Me,ii,Gt))},_retainChildren:function(x,H,wt,Gt){for(var se=2*x;se<2*x+2;se++)for(var Me=2*H;Me<2*H+2;Me++){var ii=new Pt.Point(se,Me);ii.z=wt+1;var ki=this._cellCoordsToKey(ii),Ni=this._cells[ki];Ni&&Ni.active?Ni.retain=!0:(Ni&&Ni.loaded&&(Ni.retain=!0),wt+1<Gt&&this._retainChildren(se,Me,wt+1,Gt))}},_resetView:function(x){var H=x&&(x.pinch||x.flyTo);H||this._setView(this._map.getCenter(),this._map.getZoom(),H,H)},_setView:function(x,H,wt,Gt){var se=Math.round(H);Gt||(this._cellZoom=se,this._abortLoading&&this._abortLoading(),this._resetGrid(),void 0!==se&&this._update(x),wt||this._pruneCells(),this._noPrune=!!wt)},_resetGrid:function(){var x=this._map,H=x.options.crs,wt=this._cellSize=this.getCellSize(),Gt=this._cellZoom,se=this._map.getPixelWorldBounds(this._cellZoom);se&&(this._globalCellRange=this._pxBoundsToCellRange(se)),this._wrapX=H.wrapLng&&!this.options.noWrap&&[Math.floor(x.project([0,H.wrapLng[0]],Gt).x/wt.x),Math.ceil(x.project([0,H.wrapLng[1]],Gt).x/wt.y)],this._wrapY=H.wrapLat&&!this.options.noWrap&&[Math.floor(x.project([H.wrapLat[0],0],Gt).y/wt.x),Math.ceil(x.project([H.wrapLat[1],0],Gt).y/wt.y)]},_onMoveEnd:function(x){x&&(x.pinch||x.flyTo)||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(x){var H=this._map,wt=H._animatingZoom?Math.max(H._animateToZoom,H.getZoom()):H.getZoom(),Gt=H.getZoomScale(wt,this._cellZoom),se=H.project(x,this._cellZoom).floor(),Me=H.getSize().divideBy(2*Gt);return new Pt.Bounds(se.subtract(Me),se.add(Me))},_update:function(x){var H=this._map;if(H){var wt=Math.round(H.getZoom());void 0===x&&(x=H.getCenter());var Gt=this._getCelldPixelBounds(x),se=this._pxBoundsToCellRange(Gt),Me=se.getCenter(),ii=[],ki=this.options.keepBuffer,Ni=new Pt.Bounds(se.getBottomLeft().subtract([ki,-ki]),se.getTopRight().add([ki,-ki]));if(!(isFinite(se.min.x)&&isFinite(se.min.y)&&isFinite(se.max.x)&&isFinite(se.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var sn in this._cells){var hr=this._cells[sn].coords;hr.z===this._cellZoom&&Ni.contains(new Pt.Point(hr.x,hr.y))||(this._cells[sn].current=!1)}if(Math.abs(wt-this._cellZoom)>1)this._setView(x,wt);else{for(var xr=se.min.y;xr<=se.max.y;xr++)for(var tr=se.min.x;tr<=se.max.x;tr++){var eo=new Pt.Point(tr,xr);if(eo.z=this._cellZoom,this._isValidCell(eo)){var Br=this._cells[this._cellCoordsToKey(eo)];Br?Br.current=!0:ii.push(eo)}}if(ii.sort(function(So,jr){return So.distanceTo(Me)-jr.distanceTo(Me)}),0!==ii.length)for(this._loading||(this._loading=!0),tr=0;tr<ii.length;tr++){var Rn=this._cellCoordsToKey(ii[tr]),Yn=this._keyToCellCoords(Rn);this._activeCells[Yn]?this._reuseCell(ii[tr]):this._createCell(ii[tr])}}}},_isValidCell:function(x){var H=this._map.options.crs;if(!H.infinite){var wt=this._globalCellRange;if(!H.wrapLng&&(x.x<wt.min.x||x.x>wt.max.x)||!H.wrapLat&&(x.y<wt.min.y||x.y>wt.max.y))return!1}if(!this.options.bounds)return!0;var Gt=this._cellCoordsToBounds(x);return Pt.toLatLngBounds(this.options.bounds).overlaps(Gt)},_keyToBounds:function(x){return this._cellCoordsToBounds(this._keyToCellCoords(x))},_cellCoordsToNwSe:function(x){var H=this._map,wt=this.getCellSize(),Gt=x.scaleBy(wt),se=Gt.add(wt);return[H.unproject(Gt,x.z),H.unproject(se,x.z)]},_cellCoordsToBounds:function(x){var H=this._cellCoordsToNwSe(x),wt=new Pt.LatLngBounds(H[0],H[1]);return this.options.noWrap||(wt=this._map.wrapLatLngBounds(wt)),wt},_cellCoordsToKey:function(x){return x.x+":"+x.y+":"+x.z},_keyToCellCoords:function(x){var H=x.split(":"),wt=new Pt.Point(+H[0],+H[1]);return wt.z=+H[2],wt},_removeCell:function(x){var H=this._cells[x];if(H){var wt=this._keyToCellCoords(x),Gt=this._wrapCoords(wt),se=this._cellCoordsToBounds(this._wrapCoords(wt));H.current=!1,delete this._cells[x],this._activeCells[x]=H,this.cellLeave(se,Gt,x),this.fire("cellleave",{key:x,coords:Gt,bounds:se})}},_reuseCell:function(x){var H=this._cellCoordsToKey(x);this._cells[H]=this._activeCells[H],this._cells[H].current=!0;var wt=this._wrapCoords(x),Gt=this._cellCoordsToBounds(this._wrapCoords(x));this.cellEnter(Gt,wt,H),this.fire("cellenter",{key:H,coords:wt,bounds:Gt})},_createCell:function(x){var H=this._cellCoordsToKey(x),wt=this._wrapCoords(x),Gt=this._cellCoordsToBounds(this._wrapCoords(x));this.createCell(Gt,wt,H),this.fire("cellcreate",{key:H,coords:wt,bounds:Gt}),this._cells[H]={coords:x,current:!0},Pt.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(x,H,wt){var Gt=this._cellCoordsToKey(x);(wt=this._cells[Gt])&&(wt.loaded=+new Date,wt.active=!0)},_getCellPos:function(x){return x.scaleBy(this.getCellSize())},_wrapCoords:function(x){var H=new Pt.Point(this._wrapX?Pt.Util.wrapNum(x.x,this._wrapX):x.x,this._wrapY?Pt.Util.wrapNum(x.y,this._wrapY):x.y);return H.z=x.z,H},_pxBoundsToCellRange:function(x){var H=this.getCellSize();return new Pt.Bounds(x.min.unscaleBy(H).floor(),x.max.unscaleBy(H).ceil().subtract([1,1]))}});function Di(x){this.values=[].concat(x||[])}Di.prototype.query=function(x){var H=this.getIndex(x);return this.values[H]},Di.prototype.getIndex=function(x){this.dirty&&this.sort();for(var H,wt,Gt=0,se=this.values.length-1;Gt<=se;)if(H=(Gt+se)/2|0,+(wt=this.values[Math.round(H)]).value<+x)Gt=H+1;else{if(!(+wt.value>+x))return H;se=H-1}return Math.abs(~se)},Di.prototype.between=function(x,H){var wt=this.getIndex(x),Gt=this.getIndex(H);if(0===wt&&0===Gt)return[];for(;this.values[wt-1]&&this.values[wt-1].value===x;)wt--;for(;this.values[Gt+1]&&this.values[Gt+1].value===H;)Gt++;return this.values[Gt]&&this.values[Gt].value===H&&this.values[Gt+1]&&Gt++,this.values.slice(wt,Gt)},Di.prototype.insert=function(x){return this.values.splice(this.getIndex(x.value),0,x),this},Di.prototype.bulkAdd=function(x,H){return this.values=this.values.concat([].concat(x||[])),H?this.sort():this.dirty=!0,this},Di.prototype.sort=function(){return this.values.sort(function(x,H){return+H.value-+x.value}).reverse(),this.dirty=!1,this};var bi=hi.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(x){if(hi.prototype.initialize.call(this,x),x=Ut(x),x=Pt.Util.setOptions(this,x),this.service=le(x),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var H=!1,wt=0;wt<this.options.fields.length;wt++)this.options.fields[wt].match(/^(OBJECTID|FID|OID|ID)$/i)&&(H=!0);!1===H&&$("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Di,this._endTimeIndex=new Di):this.options.timeField&&(this._timeIndex=new Di),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(x){return mt(x),this.service.metadata(function(H,wt){if(!H){var Gt=wt.supportedQueryFormats,se=!1;(!1===this.service.options.isModern||this.options.fetchAllFeatures)&&(se=!0),!se&&Gt&&-1!==Gt.indexOf("geoJSON")&&(this.service.options.isModern=!0),wt.objectIdField&&(this.service.options.idAttribute=wt.objectIdField),!this.options.attribution&&x.attributionControl&&wt.copyrightText&&(this.options.attribution=wt.copyrightText,x.attributionControl.addAttribution(this.getAttribution()))}},this),x.on("zoomend",this._handleZoomChange,this),hi.prototype.onAdd.call(this,x)},onRemove:function(x){return ct(x),x.off("zoomend",this._handleZoomChange,this),hi.prototype.onRemove.call(this,x)},getAttribution:function(){return this.options.attribution},createCell:function(x,H){this._visibleZoom()&&this._requestFeatures(x,H)},_requestFeatures:function(x,H,wt,Gt){this._activeRequests++,Gt=Gt||0;var se=this.options.where;return 1===this._activeRequests&&this.fire("loading",{bounds:x},!0),this._buildQuery(x,Gt).run(function(Me,ii,ki){ki&&ki.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===se&&(!Me&&ii&&ii.features.length&&Pt.Util.requestAnimFrame(Pt.Util.bind(function(){this._addFeatures(ii.features,H),this._postProcessFeatures(x)},this)),Me||!ii||ii.features.length||this._postProcessFeatures(x),Me&&this._postProcessFeatures(x),wt&&wt.call(this,Me,ii),ki&&(ki.exceededTransferLimit||ki.properties&&ki.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(x,H,wt,Gt+ii.features.length))},this)},_postProcessFeatures:function(x){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:x})},_cacheKey:function(x){return x.z+":"+x.x+":"+x.y},_addFeatures:function(x,H){if(H){var wt=this._cacheKey(H);this._cache[wt]=this._cache[wt]||[]}for(var Gt=x.length-1;Gt>=0;Gt--){var se=x[Gt].id;-1===this._currentSnapshot.indexOf(se)&&this._currentSnapshot.push(se),void 0!==wt&&-1===this._cache[wt].indexOf(se)&&this._cache[wt].push(se)}this.options.timeField&&this._buildTimeIndexes(x),this.createLayers(x)},_buildQuery:function(x,H){var wt=this.service.query().intersects(x).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(H))&&(wt=wt.offset(H)),wt.params.resultType="tile",this.options.requestParams&&Pt.Util.extend(wt.params,this.options.requestParams),this.options.simplifyFactor&&wt.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&wt.between(this.options.from,this.options.to),wt},setWhere:function(x,H,wt){this.options.where=x&&x.length?x:"1=1";for(var Gt=[],se=[],Me=0,ii=null,ki=Pt.Util.bind(function(tr,eo){if(tr&&(ii=tr),eo)for(var Br=eo.features.length-1;Br>=0;Br--)se.push(eo.features[Br].id);--Me<=0&&this._visibleZoom()&&x===this.options.where&&(this._currentSnapshot=se,Pt.Util.requestAnimFrame(Pt.Util.bind(function(){this.removeLayers(Gt),this.addLayers(se),H&&H.call(wt,ii)},this)))},this),Ni=this._currentSnapshot.length-1;Ni>=0;Ni--)Gt.push(this._currentSnapshot[Ni]);for(var sn in this._cache={},this._cells){Me++;var hr=this._keyToCellCoords(sn),xr=this._cellCoordsToBounds(hr);this._requestFeatures(xr,hr,ki)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(x,H,wt,Gt){var se=this.options.from,Me=this.options.to,ii=0,ki=null,Ni=Pt.Util.bind(function(tr){tr&&(ki=tr),this._filterExistingFeatures(se,Me,x,H),ii--,wt&&ii<=0&&wt.call(Gt,ki)},this);if(this.options.from=x,this.options.to=H,this._filterExistingFeatures(se,Me,x,H),"server"===this.options.timeFilterMode)for(var sn in this._cells){ii++;var hr=this._keyToCellCoords(sn),xr=this._cellCoordsToBounds(hr);this._requestFeatures(xr,hr,Ni)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(x,H,wt,Gt){var se=x&&H?this._getFeaturesInTimeRange(x,H):this._currentSnapshot,Me=this._getFeaturesInTimeRange(wt,Gt);if(Me.indexOf)for(var ii=0;ii<Me.length;ii++){var ki=se.indexOf(Me[ii]);ki>=0&&se.splice(ki,1)}Pt.Util.requestAnimFrame(Pt.Util.bind(function(){this.removeLayers(se),this.addLayers(Me)},this))},_getFeaturesInTimeRange:function(x,H){var wt,Gt=[];if(this.options.timeField.start&&this.options.timeField.end){var se=this._startTimeIndex.between(x,H),Me=this._endTimeIndex.between(x,H);wt=se.concat(Me)}else{if(!this._timeIndex)return $("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];wt=this._timeIndex.between(x,H)}for(var ii=wt.length-1;ii>=0;ii--)Gt.push(wt[ii].id);return Gt},_buildTimeIndexes:function(x){var H,wt;if(this.options.timeField.start&&this.options.timeField.end){var Gt=[],se=[];for(H=x.length-1;H>=0;H--)Gt.push({id:(wt=x[H]).id,value:new Date(wt.properties[this.options.timeField.start])}),se.push({id:wt.id,value:new Date(wt.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(Gt),this._endTimeIndex.bulkAdd(se)}else{var Me=[];for(H=x.length-1;H>=0;H--)Me.push({id:(wt=x[H]).id,value:new Date(wt.properties[this.options.timeField])});this._timeIndex.bulkAdd(Me)}},_featureWithinTimeRange:function(x){if(!this.options.from||!this.options.to)return!0;var H=+this.options.from.valueOf(),wt=+this.options.to.valueOf();if("string"==typeof this.options.timeField){var Gt=+x.properties[this.options.timeField];return Gt>=H&&Gt<=wt}if(this.options.timeField.start&&this.options.timeField.end){var se=+x.properties[this.options.timeField.start],Me=+x.properties[this.options.timeField.end];return se>=H&&se<=wt||Me>=H&&Me<=wt||se<=H&&Me>=wt}},_visibleZoom:function(){if(!this._map)return!1;var x=this._map.getZoom();return!(x>this.options.maxZoom||x<this.options.minZoom)},_handleZoomChange:function(){if(this._visibleZoom())for(var x in this._cells){var wt=this._cacheKey(this._cells[x].coords);this._cache[wt]&&this.addLayers(this._cache[wt])}else this.removeLayers(this._currentSnapshot),this._currentSnapshot=[]},authenticate:function(x){return this.service.authenticate(x),this},metadata:function(x,H){return this.service.metadata(x,H),this},query:function(){return this.service.query()},_getMetadata:function(x){this._metadata?x(void 0,this._metadata):this.metadata(Pt.Util.bind(function(H,wt){this._metadata=wt,x(H,this._metadata)},this))},addFeature:function(x,H,wt){this.addFeatures(x,H,wt)},addFeatures:function(x,H,wt){this._getMetadata(Pt.Util.bind(function(Gt,se){if(Gt)H&&H.call(this,Gt,null);else{var Me=x.features?x.features:[x];this.service.addFeatures(x,Pt.Util.bind(function(ii,ki){if(!ii){for(var Ni=Me.length-1;Ni>=0;Ni--)Me[Ni].properties[se.objectIdField]=Me.length>1?ki[Ni].objectId:ki.objectId,Me[Ni].id=Me.length>1?ki[Ni].objectId:ki.objectId;this._addFeatures(Me)}H&&H.call(wt,ii,ki)},this))}},this))},updateFeature:function(x,H,wt){this.updateFeatures(x,H,wt)},updateFeatures:function(x,H,wt){var Gt=x.features?x.features:[x];this.service.updateFeatures(x,function(se,Me){if(!se){for(var ii=Gt.length-1;ii>=0;ii--)this.removeLayers([Gt[ii].id],!0);this._addFeatures(Gt)}H&&H.call(wt,se,Me)},this)},deleteFeature:function(x,H,wt){this.deleteFeatures(x,H,wt)},deleteFeatures:function(x,H,wt){return this.service.deleteFeatures(x,function(Gt,se){var Me=se.length?se:[se];if(!Gt&&Me.length>0)for(var ii=Me.length-1;ii>=0;ii--)this.removeLayers([Me[ii].objectId],!0);H&&H.call(wt,Gt,se)},this)}}),On=bi.extend({options:{cacheLayers:!0},initialize:function(x){x.apikey&&(x.token=x.apikey),bi.prototype.initialize.call(this,x),this._originalStyle=this.options.style,this._layers={}},onRemove:function(x){for(var H in this._layers)x.removeLayer(this._layers[H]),this.fire("removefeature",{feature:this._layers[H].feature,permanent:!1},!0);return bi.prototype.onRemove.call(this,x)},createNewLayer:function(x){var H=Pt.GeoJSON.geometryToLayer(x,this.options);return H&&(H.defaultOptions=H.options),H},_updateLayer:function(x,H){var wt=[],Gt=this.options.coordsToLatLng||Pt.GeoJSON.coordsToLatLng;switch(H.properties&&(x.feature.properties=H.properties),H.geometry.type){case"Point":wt=Pt.GeoJSON.coordsToLatLng(H.geometry.coordinates),x.setLatLng(wt);break;case"LineString":wt=Pt.GeoJSON.coordsToLatLngs(H.geometry.coordinates,0,Gt),x.setLatLngs(wt);break;case"MultiLineString":case"Polygon":wt=Pt.GeoJSON.coordsToLatLngs(H.geometry.coordinates,1,Gt),x.setLatLngs(wt);break;case"MultiPolygon":wt=Pt.GeoJSON.coordsToLatLngs(H.geometry.coordinates,2,Gt),x.setLatLngs(wt)}this.redraw(x.feature.id)},createLayers:function(x){for(var H=x.length-1;H>=0;H--){var wt,Gt=x[H],se=this._layers[Gt.id];!this._visibleZoom()||!se||this._map.hasLayer(se)||this.options.timeField&&!this._featureWithinTimeRange(Gt)||(this._map.addLayer(se),this.fire("addfeature",{feature:se.feature},!0)),se&&(se.setLatLngs||se.setLatLng)&&this._updateLayer(se,Gt),se||((wt=this.createNewLayer(Gt))?(wt.feature=Gt,wt.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(wt.feature,wt),this._layers[wt.feature.id]=wt,this.setFeatureStyle(wt.feature.id,this.options.style),this.fire("createfeature",{feature:wt.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(Gt))&&this._map.addLayer(wt)):$("invalid GeoJSON encountered"))}},addLayers:function(x){for(var H=x.length-1;H>=0;H--){var wt=this._layers[x[H]];!wt||this.options.timeField&&!this._featureWithinTimeRange(wt.feature)||(this._map.addLayer(wt),this.fire("addfeature",{feature:wt.feature},!0))}},removeLayers:function(x,H){for(var wt=x.length-1;wt>=0;wt--){var Gt=x[wt],se=this._layers[Gt];se&&(this.fire("removefeature",{feature:se.feature,permanent:H},!0),this._map.removeLayer(se)),se&&H&&delete this._layers[Gt]}},cellEnter:function(x,H){this._visibleZoom()&&!this._zooming&&this._map&&Pt.Util.requestAnimFrame(Pt.Util.bind(function(){var wt=this._cacheKey(H),Gt=this._cellCoordsToKey(H),se=this._cache[wt];this._activeCells[Gt]&&se&&this.addLayers(se)},this))},cellLeave:function(x,H){this._zooming||Pt.Util.requestAnimFrame(Pt.Util.bind(function(){if(this._map){var wt=this._cacheKey(H),Gt=this._cellCoordsToKey(H),se=this._cache[wt],Me=this._map.getBounds();if(!this._activeCells[Gt]&&se){for(var ii=!0,ki=0;ki<se.length;ki++){var Ni=this._layers[se[ki]];Ni&&Ni.getBounds&&Me.intersects(Ni.getBounds())&&(ii=!1)}ii&&this.removeLayers(se,!this.options.cacheLayers),!this.options.cacheLayers&&ii&&(delete this._cache[wt],delete this._cells[Gt],delete this._activeCells[Gt])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(x){this.resetFeatureStyle(x.feature.id)},this),this},setStyle:function(x){return this.options.style=x,this.eachFeature(function(H){this.setFeatureStyle(H.feature.id,x)},this),this},resetFeatureStyle:function(x){var H=this._layers[x],wt=this._originalStyle||Pt.Path.prototype.options;return H&&(Pt.Util.extend(H.options,H.defaultOptions),this.setFeatureStyle(x,wt)),this},setFeatureStyle:function(x,H){var wt=this._layers[x];return"function"==typeof H&&(H=H(wt.feature)),wt.setStyle&&wt.setStyle(H),this},eachActiveFeature:function(x,H){if(this._map){var wt=this._map.getBounds();for(var Gt in this._layers)-1!==this._currentSnapshot.indexOf(this._layers[Gt].feature.id)&&("function"==typeof this._layers[Gt].getLatLng&&wt.contains(this._layers[Gt].getLatLng())||"function"==typeof this._layers[Gt].getBounds&&wt.intersects(this._layers[Gt].getBounds()))&&x.call(H,this._layers[Gt])}return this},eachFeature:function(x,H){for(var wt in this._layers)x.call(H,this._layers[wt]);return this},getFeature:function(x){return this._layers[x]},bringToBack:function(){this.eachFeature(function(x){x.bringToBack&&x.bringToBack()})},bringToFront:function(){this.eachFeature(function(x){x.bringToFront&&x.bringToFront()})},redraw:function(x){return x&&this._redraw(x),this},_redraw:function(x){var H=this._layers[x],wt=H.feature;if(H&&H.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var Gt=this.options.pointToLayer(wt,Pt.latLng(wt.geometry.coordinates[1],wt.geometry.coordinates[0])).options.icon;H.setIcon(Gt)}if(H&&H.setStyle&&this.options.pointToLayer){var se=this.options.pointToLayer(wt,Pt.latLng(wt.geometry.coordinates[1],wt.geometry.coordinates[0])).options;this.setFeatureStyle(wt.id,se)}H&&H.setStyle&&this.options.style&&this.resetFeatureStyle(wt.id)}});xt.BasemapLayer=Ue,xt.DynamicMapLayer=Pi,xt.FeatureLayer=On,xt.FeatureLayerService=re,xt.FeatureManager=bi,xt.Find=kt,xt.Identify=pe,xt.IdentifyFeatures=Fe,xt.IdentifyImage=Ce,xt.ImageMapLayer=li,xt.ImageService=Lt,xt.MapService=Qt,xt.Query=yt,xt.RasterLayer=ai,xt.Service=de,xt.Support=Ct,xt.Task=St,xt.TiledMapLayer=Ke,xt.Util=X,xt.VERSION="3.0.9",xt.basemapLayer=function(x,H){return new Ue(x,H)},xt.dynamicMapLayer=function(x,H){return new Pi(x,H)},xt.featureLayer=function(x){return new On(x)},xt.featureLayerService=le,xt.find=ie,xt.get=R,xt.identify=function(x){return new pe(x)},xt.identifyFeatures=je,xt.identifyImage=$t,xt.imageMapLayer=function(x,H){return new li(x,H)},xt.imageService=ne,xt.mapService=Et,xt.options=zt,xt.post=J,xt.query=jt,xt.request=at,xt.service=function(x){return x=Ut(x),new de(x)},xt.task=function(x){return x=Ut(x),new St(x)},xt.tiledMapLayer=function(x,H){return new Ke(x,H)},Object.defineProperty(xt,"__esModule",{value:!0})}),function(xt,Pt){"object"==typeof exports&&typeof module<"u"?Pt(exports,require("leaflet"),require("esri-leaflet")):"function"==typeof define&&define.amd?define(["exports","leaflet","esri-leaflet"],Pt):Pt(((xt=typeof globalThis<"u"?globalThis:xt||self).L=xt.L||{},xt.L.esri=xt.L.esri||{},xt.L.esri.Vector={}),xt.L,xt.L.esri)}(this,function(xt,Pt,j){"use strict";function nt(O,V,Y){j.request(O,V.token?{token:V.token}:{},Y)}function zt(O,V,Y){nt(O,V,function(K,dt){K&&console.error(K);var g,h=O;"/"===O.charAt(O.length-1)&&(h=O.slice(0,O.length-1)),Rt(g="/"===dt.defaultStyles.charAt(0)?h+dt.defaultStyles+"/root.json":h+"/"+dt.defaultStyles+"/root.json",V,function(rt,T){rt&&console.error(rt),Y(null,T,g,dt,O)})})}function Rt(O,V,Y){j.request(O,V.token?{token:V.token}:{},Y)}function Dt(O,V){j.Support.cors&&j.request(O,{},function(Y,K){if(!Y){V._esriAttributions=V._esriAttributions||[];for(var dt=0;dt<K.contributors.length;dt++)for(var g=K.contributors[dt],h=0;h<g.coverageAreas.length;h++){var rt=g.coverageAreas[h],T=Pt.latLng(rt.bbox[0],rt.bbox[1]),G=Pt.latLng(rt.bbox[2],rt.bbox[3]);V._esriAttributions.push({attribution:g.attribution,score:rt.score,bounds:Pt.latLngBounds(T,G),minZoom:rt.zoomMin,maxZoom:rt.zoomMax})}V._esriAttributions.sort(function(D,b){return b.score-D.score}),j.Util._updateMapAttribution({target:V})}})}const Ot=[3857,102100,102113];typeof globalThis<"u"||typeof window<"u"||typeof global<"u"&&global;var J={exports:{}};J.exports=function(){var Y,K,dt;function g(h,rt){if(Y)if(K){var T="var sharedChunk = {}; ("+Y+")(sharedChunk); ("+K+")(sharedChunk);",G={};Y(G),dt=rt(G),typeof window<"u"&&(dt.workerUrl=window.URL.createObjectURL(new Blob([T],{type:"text/javascript"})))}else K=rt;else Y=rt}return g(0,function(h){function rt(t,e){return t(e={exports:{}},e.exports),e.exports}var T=G;function G(t,e,i,a){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(a-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=a,this.p2x=i,this.p2y=a}G.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},G.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},G.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},G.prototype.solveCurveX=function(t,e){var i,a,c,p,m;for(void 0===e&&(e=1e-6),c=t,m=0;m<8;m++){if(p=this.sampleCurveX(c)-t,Math.abs(p)<e)return c;var S=this.sampleCurveDerivativeX(c);if(Math.abs(S)<1e-6)break;c-=p/S}if((c=t)<(i=0))return i;if(c>(a=1))return a;for(;i<a;){if(p=this.sampleCurveX(c),Math.abs(p-t)<e)return c;t>p?i=c:a=c,c=.5*(a-i)+i}return c},G.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var A=D;function D(t,e){this.x=t,this.y=e}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),a=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=a,this},_rotateAround:function(t,e){var i=Math.cos(t),a=Math.sin(t),c=e.y+a*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-a*(this.y-e.y),this.y=c,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},D.convert=function(t){return t instanceof D?t:Array.isArray(t)?new D(t[0],t[1]):t};var b=typeof self<"u"?self:{},W=Math.pow(2,53)-1;function k(t,e,i,a){var c=new T(t,e,i,a);return function(p){return c.solve(p)}}var P=k(.25,.1,.25,1);function Q(t,e,i){return Math.min(i,Math.max(e,t))}function I(t,e,i){var a=i-e,c=((t-e)%a+a)%a+e;return c===e?i:c}function B(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var a=0,c=e;a<c.length;a+=1){var p=c[a];for(var m in p)t[m]=p[m]}return t}var vt=1;function Ut(){return vt++}function It(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function E(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function U(t,e){t.forEach(function(i){e[i]&&(e[i]=e[i].bind(e))})}function mt(t,e){return-1!==t.indexOf(e,t.length-e.length)}function ct(t,e,i){var a={};for(var c in t)a[c]=e.call(i||this,t[c],c,t);return a}function ft(t,e,i){var a={};for(var c in t)e.call(i||this,t[c],c,t)&&(a[c]=t[c]);return a}function M(t){return Array.isArray(t)?t.map(M):"object"==typeof t&&t?ct(t,M):t}var tt={};function X(t){tt[t]||(typeof console<"u"&&console.warn(t),tt[t]=!0)}function St(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function yt(t){for(var e=0,i=0,a=t.length,c=a-1,p=void 0,m=void 0;i<a;c=i++)e+=((m=t[c]).x-(p=t[i]).x)*(p.y+m.y);return e}function jt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function kt(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(a,c,p,m){var S=p||m;return e[c]=!S||S.toLowerCase(),""}),e["max-age"]){var i=parseInt(e["max-age"],10);isNaN(i)?delete e["max-age"]:e["max-age"]=i}return e}var ie=null;function pe(t){if(null==ie){var e=t.navigator?t.navigator.userAgent:null;ie=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return ie}function Fe(t){try{var e=b[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch{return!1}}var je,Ce,$t,de,Qt=b.performance&&b.performance.now?b.performance.now.bind(b.performance):Date.now.bind(Date),Et=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame,Lt=b.cancelAnimationFrame||b.mozCancelAnimationFrame||b.webkitCancelAnimationFrame||b.msCancelAnimationFrame,ne={now:Qt,frame:function(t){var e=Et(t);return{cancel:function(){return Lt(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var i=b.document.createElement("canvas"),a=i.getContext("2d");if(!a)throw new Error("failed to create canvas 2d context");return i.width=t.width,i.height=t.height,a.drawImage(t,0,0,t.width,t.height),a.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return je||(je=b.document.createElement("a")),je.href=t,je.href},hardwareConcurrency:b.navigator&&b.navigator.hardwareConcurrency||4,get devicePixelRatio(){return b.devicePixelRatio},get prefersReducedMotion(){return!!b.matchMedia&&(null==Ce&&(Ce=b.matchMedia("(prefers-reduced-motion: reduce)")),Ce.matches)}},re={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},le={supported:!1,testSupport:function(t){!ee&&de&&(Ue?Ke(t):$t=t)}},ee=!1,Ue=!1;function Ke(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,de),t.isContextLost())return;le.supported=!0}catch{}t.deleteTexture(e),ee=!0}b.document&&((de=b.document.createElement("img")).onload=function(){$t&&Ke($t),$t=null,Ue=!0},de.onerror=function(){ee=!0,$t=null},de.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Ii="01",ai=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function li(t){return 0===t.indexOf("mapbox:")}ai.prototype._createSkuToken=function(){var t=function(){for(var e="",i=0;i<10;i++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ii,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},ai.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},ai.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},ai.prototype.normalizeStyleURL=function(t,e){if(!li(t))return t;var i=bi(t);return i.path="/styles/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||e)},ai.prototype.normalizeGlyphsURL=function(t,e){if(!li(t))return t;var i=bi(t);return i.path="/fonts/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||e)},ai.prototype.normalizeSourceURL=function(t,e){if(!li(t))return t;var i=bi(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),this._makeAPIURL(i,this._customAccessToken||e)},ai.prototype.normalizeSpriteURL=function(t,e,i,a){var c=bi(t);return li(t)?(c.path="/styles/v1"+c.path+"/sprite"+e+i,this._makeAPIURL(c,this._customAccessToken||a)):(c.path+=""+e+i,On(c))},ai.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!li(t))return t;var i=bi(t);i.path=i.path.replace(/(\.(png|jpg)\d*)(?=$)/,(ne.devicePixelRatio>=2||512===e?"@2x":"")+(le.supported?".webp":"$1")),i.path=i.path.replace(/^.+\/v4\//,"/"),i.path="/v4"+i.path;var a=this._customAccessToken||function(c){for(var p=0,m=c;p<m.length;p+=1){var S=m[p].match(/^access_token=(.*)$/);if(S)return S[1]}return null}(i.params)||re.ACCESS_TOKEN;return re.REQUIRE_ACCESS_TOKEN&&a&&this._skuToken&&i.params.push("sku="+this._skuToken),this._makeAPIURL(i,a)},ai.prototype.canonicalizeTileURL=function(t,e){var i=bi(t);if(!i.path.match(/(^\/v4\/)/)||!i.path.match(/\.[\w]+$/))return t;var a="mapbox://tiles/";a+=i.path.replace("/v4/","");var c=i.params;return e&&(c=c.filter(function(p){return!p.match(/^access_token=/)})),c.length&&(a+="?"+c.join("&")),a},ai.prototype.canonicalizeTileset=function(t,e){for(var i=!!e&&li(e),a=[],c=0,p=t.tiles||[];c<p.length;c+=1){var m=p[c];hi(m)?a.push(this.canonicalizeTileURL(m,i)):a.push(m)}return a},ai.prototype._makeAPIURL=function(t,e){var i="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",a=bi(re.API_URL);if(t.protocol=a.protocol,t.authority=a.authority,"http"===t.protocol){var c=t.params.indexOf("secure");c>=0&&t.params.splice(c,1)}if("/"!==a.path&&(t.path=""+a.path+t.path),!re.REQUIRE_ACCESS_TOKEN)return On(t);if(!(e=e||re.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+i);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+i);return t.params=t.params.filter(function(p){return-1===p.indexOf("access_token")}),t.params.push("access_token="+e),On(t)};var Pi=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function hi(t){return Pi.test(t)}var Di=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function bi(t){var e=t.match(Di);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function On(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function jn(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(b.atob(e[1]).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var x=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};x.prototype.getStorageKey=function(t){var e,i=jn(re.ACCESS_TOKEN);return e=i&&i.u?b.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,function(a,c){return String.fromCharCode(Number("0x"+c))})):re.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},x.prototype.fetchEventData=function(){var t=Fe("localStorage"),e=this.getStorageKey(),i=this.getStorageKey("uuid");if(t)try{var a=b.localStorage.getItem(e);a&&(this.eventData=JSON.parse(a));var c=b.localStorage.getItem(i);c&&(this.anonId=c)}catch{X("Unable to read from LocalStorage")}},x.prototype.saveEventData=function(){var t=Fe("localStorage"),e=this.getStorageKey(),i=this.getStorageKey("uuid");if(t)try{b.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&b.localStorage.setItem(e,JSON.stringify(this.eventData))}catch{X("Unable to write to LocalStorage")}},x.prototype.processRequests=function(t){},x.prototype.postEvent=function(t,e,i,a){var c=this;if(re.EVENTS_URL){var p=bi(re.EVENTS_URL);p.params.push("access_token="+(a||re.ACCESS_TOKEN||""));var m={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.1",skuId:Ii,userId:this.anonId},S=e?B(m,e):m,Z={url:On(p),headers:{"Content-Type":"text/plain"},body:JSON.stringify([S])};this.pendingRequest=An(Z,function(st){c.pendingRequest=null,i(st),c.saveEventData(),c.processRequests(a)})}},x.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var H,wt,Gt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(i,a,c,p){this.skuToken=c,(re.EVENTS_URL&&p||re.ACCESS_TOKEN&&Array.isArray(i)&&i.some(function(m){return li(m)||hi(m)}))&&this.queueRequest({id:a,timestamp:Date.now()},p)},e.prototype.processRequests=function(i){var a=this;if(!this.pendingRequest&&0!==this.queue.length){var c=this.queue.shift(),p=c.id,m=c.timestamp;p&&this.success[p]||(this.anonId||this.fetchEventData(),E(this.anonId)||(this.anonId=It()),this.postEvent(m,{skuToken:this.skuToken},function(S){S||p&&(a.success[p]=!0)},i))}},e}(x),se=new(function(t){function e(i){t.call(this,"appUserTurnstile"),this._customAccessToken=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(i,a){re.EVENTS_URL&&re.ACCESS_TOKEN&&Array.isArray(i)&&i.some(function(c){return li(c)||hi(c)})&&this.queueRequest(Date.now(),a)},e.prototype.processRequests=function(i){var a=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var c=jn(re.ACCESS_TOKEN),p=c?c.u:re.ACCESS_TOKEN,m=p!==this.eventData.tokenU;E(this.anonId)||(this.anonId=It(),m=!0);var S=this.queue.shift();if(this.eventData.lastSuccess){var Z=new Date(this.eventData.lastSuccess),st=new Date(S),pt=(S-this.eventData.lastSuccess)/864e5;m=m||pt>=1||pt<-1||Z.getDate()!==st.getDate()}else m=!0;if(!m)return this.processRequests();this.postEvent(S,{"enabled.telemetry":!1},function(_t){_t||(a.eventData.lastSuccess=S,a.eventData.tokenU=p)},i)}},e}(x)),Me=se.postTurnstileEvent.bind(se),ii=new Gt,ki=ii.postMapLoadEvent.bind(ii),Ni=500,sn=50;function hr(){b.caches&&!H&&(H=b.caches.open("mapbox-tiles"))}function xr(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var tr,eo=1/0;function Br(){return null==tr&&(tr=b.OffscreenCanvas&&new b.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof b.createImageBitmap),tr}var Rn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Rn);var Yn,So,jr=function(t){function e(i,a,c){401===a&&hi(c)&&(i+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,i),this.status=a,this.url=c,this.name=this.constructor.name,this.message=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),Or=jt()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===b.location.protocol?b.parent:b).location.href},Ro=function(t,e){if(!(/^file:/.test(i=t.url)||/^file:/.test(Or())&&!/^\w+:/.test(i))){if(b.fetch&&b.Request&&b.AbortController&&b.Request.prototype.hasOwnProperty("signal"))return function(a,c){var p,m=new b.AbortController,S=new b.Request(a.url,{method:a.method||"GET",body:a.body,credentials:a.credentials,headers:a.headers,referrer:Or(),signal:m.signal}),Z=!1,st=!1,pt=(p=S.url).indexOf("sku=")>0&&hi(p);"json"===a.type&&S.headers.set("Accept","application/json");var _t=function(Nt,he,ue){if(!st){if(Nt&&"SecurityError"!==Nt.message&&X(Nt),he&&ue)return Bt(he);var be=Date.now();b.fetch(S).then(function(ye){if(ye.ok){var Ie=pt?ye.clone():null;return Bt(ye,Ie,be)}return c(new jr(ye.statusText,ye.status,a.url))}).catch(function(ye){20!==ye.code&&c(new Error(ye.message))})}},Bt=function(Nt,he,ue){("arrayBuffer"===a.type?Nt.arrayBuffer():"json"===a.type?Nt.json():Nt.text()).then(function(be){st||(he&&ue&&function(ye,Ie,Ne){if(hr(),H){var We={status:Ie.status,statusText:Ie.statusText,headers:new b.Headers};Ie.headers.forEach(function(ri,xi){return We.headers.set(xi,ri)});var Ye=kt(Ie.headers.get("Cache-Control")||"");Ye["no-store"]||(Ye["max-age"]&&We.headers.set("Expires",new Date(Ne+1e3*Ye["max-age"]).toUTCString()),new Date(We.headers.get("Expires")).getTime()-Ne<42e4||function(ri,xi){if(void 0===wt)try{new Response(new ReadableStream),wt=!0}catch{wt=!1}wt?xi(ri.body):ri.blob().then(xi)}(Ie,function(ri){var xi=new b.Response(ri,We);hr(),H&&H.then(function(zi){return zi.put(xr(ye.url),xi)}).catch(function(zi){return X(zi.message)})}))}}(S,he,ue),Z=!0,c(null,be,Nt.headers.get("Cache-Control"),Nt.headers.get("Expires")))}).catch(function(be){st||c(new Error(be.message))})};return pt?function(Nt,he){if(hr(),!H)return he(null);var ue=xr(Nt.url);H.then(function(be){be.match(ue).then(function(ye){var Ie=function(Ne){if(!Ne)return!1;var We=new Date(Ne.headers.get("Expires")||0),Ye=kt(Ne.headers.get("Cache-Control")||"");return We>Date.now()&&!Ye["no-cache"]}(ye);be.delete(ue),Ie&&be.put(ue,ye.clone()),he(null,ye,Ie)}).catch(he)}).catch(he)}(S,_t):_t(null,null),{cancel:function(){st=!0,Z||m.abort()}}}(t,e);if(jt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var i;return function(a,c){var p=new b.XMLHttpRequest;for(var m in p.open(a.method||"GET",a.url,!0),"arrayBuffer"===a.type&&(p.responseType="arraybuffer"),a.headers)p.setRequestHeader(m,a.headers[m]);return"json"===a.type&&(p.responseType="text",p.setRequestHeader("Accept","application/json")),p.withCredentials="include"===a.credentials,p.onerror=function(){c(new Error(p.statusText))},p.onload=function(){if((p.status>=200&&p.status<300||0===p.status)&&null!==p.response){var S=p.response;if("json"===a.type)try{S=JSON.parse(p.response)}catch(Z){return c(Z)}c(null,S,p.getResponseHeader("Cache-Control"),p.getResponseHeader("Expires"))}else c(new jr(p.statusText,p.status,a.url))},p.send(a.body),{cancel:function(){return p.abort()}}}(t,e)},rn=function(t,e){return Ro(B(t,{type:"arrayBuffer"}),e)},An=function(t,e){return Ro(B(t,{method:"POST"}),e)},gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Yn=[],So=0;var Mt=function(t,e){if(le.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),So>=re.MAX_PARALLEL_IMAGE_REQUESTS){var i={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return Yn.push(i),i}So++;var a=!1,c=function(){if(!a)for(a=!0,So--;Yn.length&&So<re.MAX_PARALLEL_IMAGE_REQUESTS;){var m=Yn.shift();m.cancelled||(m.cancel=Mt(m.requestParameters,m.callback).cancel)}},p=rn(t,function(m,S,Z,st){var _t,Bt;c(),m?e(m):S&&(Br()?(_t=e,Bt=new b.Blob([new Uint8Array(S)],{type:"image/png"}),b.createImageBitmap(Bt).then(function(Nt){_t(null,Nt)}).catch(function(Nt){_t(new Error("Could not load image because of "+Nt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(pt,_t,Bt,Nt){var he=new b.Image,ue=b.URL;he.onload=function(){_t(null,he),ue.revokeObjectURL(he.src),he.onload=null,b.requestAnimationFrame(function(){he.src=gt})},he.onerror=function(){return _t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var be=new b.Blob([new Uint8Array(pt)],{type:"image/png"});he.cacheControl=Bt,he.expires=Nt,he.src=pt.byteLength?ue.createObjectURL(be):gt}(S,e,Z,st))});return{cancel:function(){p.cancel(),c()}}};function Ft(t,e,i){i[t]&&-1!==i[t].indexOf(e)||(i[t]=i[t]||[],i[t].push(e))}function Yt(t,e,i){if(i&&i[t]){var a=i[t].indexOf(e);-1!==a&&i[t].splice(a,1)}}var oe=function(t,e){void 0===e&&(e={}),B(this,e),this.type=t},ge=function(t){function e(i,a){void 0===a&&(a={}),t.call(this,"error",B({error:i},a))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(oe),Te=function(){};Te.prototype.on=function(t,e){return this._listeners=this._listeners||{},Ft(t,e,this._listeners),this},Te.prototype.off=function(t,e){return Yt(t,e,this._listeners),Yt(t,e,this._oneTimeListeners),this},Te.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},Ft(t,e,this._oneTimeListeners),this},Te.prototype.fire=function(t,e){"string"==typeof t&&(t=new oe(t,e||{}));var i=t.type;if(this.listens(i)){t.target=this;for(var a=0,c=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];a<c.length;a+=1)c[a].call(this,t);for(var p=0,m=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];p<m.length;p+=1){var S=m[p];Yt(i,S,this._oneTimeListeners),S.call(this,t)}var Z=this._eventedParent;Z&&(B(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),Z.fire(t))}else t instanceof ge&&console.error(t.error);return this},Te.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Te.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var qt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},fe=function(t,e,i,a){this.message=(t?t+": ":"")+i,a&&(this.identifier=a),null!=e&&e.__line__&&(this.line=e.__line__)};function Oe(t){var e=t.value;return e?[new fe(t.key,e,"constants have been deprecated as of v8")]:[]}function ei(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var a=0,c=e;a<c.length;a+=1){var p=c[a];for(var m in p)t[m]=p[m]}return t}function pi(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function He(t){if(Array.isArray(t))return t.map(He);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var i in t)e[i]=He(t[i]);return e}return pi(t)}var qe=function(t){function e(i,a){t.call(this,a),this.message=a,this.key=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Ri=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var i=0,a=e;i<a.length;i+=1){var c=a[i];this.bindings[c[0]]=c[1]}};Ri.prototype.concat=function(t){return new Ri(this,t)},Ri.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Ri.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var mi={kind:"null"},$e={kind:"number"},Li={kind:"string"},Ci={kind:"boolean"},Ai={kind:"color"},ln={kind:"object"},_i={kind:"value"},En={kind:"collator"},fn={kind:"formatted"},mn={kind:"resolvedImage"};function Vn(t,e){return{kind:"array",itemType:t,N:e}}function Sn(t){if("array"===t.kind){var e=Sn(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Ur=[mi,$e,Li,Ci,Ai,fn,ln,Vn(_i),mn];function qn(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!qn(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var i=0,a=Ur;i<a.length;i+=1)if(!qn(a[i],e))return null}return"Expected "+Sn(t)+" but found "+Sn(e)+" instead."}function Mr(t,e){return e.some(function(i){return i.kind===t.kind})}function Jn(t,e){return e.some(function(i){return"null"===i?null===t:"array"===i?Array.isArray(t):"object"===i?t&&!Array.isArray(t)&&"object"==typeof t:i===typeof t})}var kn=rt(function(t,e){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function a(S){return(S=Math.round(S))<0?0:S>255?255:S}function c(S){return a("%"===S[S.length-1]?parseFloat(S)/100*255:parseInt(S))}function p(S){return(Z="%"===S[S.length-1]?parseFloat(S)/100:parseFloat(S))<0?0:Z>1?1:Z;var Z}function m(S,Z,st){return st<0?st+=1:st>1&&(st-=1),6*st<1?S+(Z-S)*st*6:2*st<1?Z:3*st<2?S+(Z-S)*(2/3-st)*6:S}try{e.parseCSSColor=function(S){var Z,st=S.replace(/ /g,"").toLowerCase();if(st in i)return i[st].slice();if("#"===st[0])return 4===st.length?(Z=parseInt(st.substr(1),16))>=0&&Z<=4095?[(3840&Z)>>4|(3840&Z)>>8,240&Z|(240&Z)>>4,15&Z|(15&Z)<<4,1]:null:7===st.length&&(Z=parseInt(st.substr(1),16))>=0&&Z<=16777215?[(16711680&Z)>>16,(65280&Z)>>8,255&Z,1]:null;var pt=st.indexOf("("),_t=st.indexOf(")");if(-1!==pt&&_t+1===st.length){var Bt=st.substr(0,pt),Nt=st.substr(pt+1,_t-(pt+1)).split(","),he=1;switch(Bt){case"rgba":if(4!==Nt.length)return null;he=p(Nt.pop());case"rgb":return 3!==Nt.length?null:[c(Nt[0]),c(Nt[1]),c(Nt[2]),he];case"hsla":if(4!==Nt.length)return null;he=p(Nt.pop());case"hsl":if(3!==Nt.length)return null;var ue=(parseFloat(Nt[0])%360+360)%360/360,be=p(Nt[1]),ye=p(Nt[2]),Ie=ye<=.5?ye*(be+1):ye+be-ye*be,Ne=2*ye-Ie;return[a(255*m(Ne,Ie,ue+1/3)),a(255*m(Ne,Ie,ue)),a(255*m(Ne,Ie,ue-1/3)),he];default:return null}}return null}}catch{}}).parseCSSColor,Gi=function(t,e,i,a){void 0===a&&(a=1),this.r=t,this.g=e,this.b=i,this.a=a};Gi.parse=function(t){if(t){if(t instanceof Gi)return t;if("string"==typeof t){var e=kn(t);if(e)return new Gi(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},Gi.prototype.toString=function(){var t=this.toArray(),e=t[1],i=t[2],a=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(i)+","+a+")"},Gi.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},Gi.black=new Gi(0,0,0,1),Gi.white=new Gi(1,1,1,1),Gi.transparent=new Gi(0,0,0,0),Gi.red=new Gi(1,0,0,1);var Vr=function(t,e,i){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Vr.prototype.compare=function(t,e){return this.collator.compare(t,e)},Vr.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var gs=function(t,e,i,a,c){this.text=t,this.image=e,this.scale=i,this.fontStack=a,this.textColor=c},rr=function(t){this.sections=t};rr.fromString=function(t){return new rr([new gs(t,null,null,null,null)])},rr.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length})},rr.factory=function(t){return t instanceof rr?t:rr.fromString(t)},rr.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(t){return t.text}).join("")},rr.prototype.serialize=function(){for(var t=["format"],e=0,i=this.sections;e<i.length;e+=1){var a=i[e];if(a.image)t.push(["image",a.image.name]);else{t.push(a.text);var c={};a.fontStack&&(c["text-font"]=["literal",a.fontStack.split(",")]),a.scale&&(c["font-scale"]=a.scale),a.textColor&&(c["text-color"]=["rgba"].concat(a.textColor.toArray())),t.push(c)}}return t};var io=function(t){this.name=t.name,this.available=t.available};function Ws(t,e,i,a){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===a||"number"==typeof a&&a>=0&&a<=1?null:"Invalid rgba value ["+[t,e,i,a].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof a?[t,e,i,a]:[t,e,i]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Ds(t){if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||t instanceof Gi||t instanceof Vr||t instanceof rr||t instanceof io)return!0;if(Array.isArray(t)){for(var e=0,i=t;e<i.length;e+=1)if(!Ds(i[e]))return!1;return!0}if("object"==typeof t){for(var a in t)if(!Ds(t[a]))return!1;return!0}return!1}function ur(t){if(null===t)return mi;if("string"==typeof t)return Li;if("boolean"==typeof t)return Ci;if("number"==typeof t)return $e;if(t instanceof Gi)return Ai;if(t instanceof Vr)return En;if(t instanceof rr)return fn;if(t instanceof io)return mn;if(Array.isArray(t)){for(var e,i=t.length,a=0,c=t;a<c.length;a+=1){var p=ur(c[a]);if(e){if(e===p)continue;e=_i;break}e=p}return Vn(e||_i,i)}return ln}function po(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof Gi||t instanceof rr||t instanceof io?t.toString():JSON.stringify(t)}io.prototype.toString=function(){return this.name},io.fromString=function(t){return t?new io({name:t,available:!1}):null},io.prototype.serialize=function(){return["image",this.name]};var Gr=function(t,e){this.type=t,this.value=e};Gr.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!Ds(t[1]))return e.error("invalid value");var i=t[1],a=ur(i),c=e.expectedType;return"array"!==a.kind||0!==a.N||!c||"array"!==c.kind||"number"==typeof c.N&&0!==c.N||(a=c),new Gr(a,i)},Gr.prototype.evaluate=function(){return this.value},Gr.prototype.eachChild=function(){},Gr.prototype.outputDefined=function(){return!0},Gr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Gi?["rgba"].concat(this.value.toArray()):this.value instanceof rr?this.value.serialize():this.value};var Hr=function(t){this.name="ExpressionEvaluationError",this.message=t};Hr.prototype.toJSON=function(){return this.message};var Qr={string:Li,number:$e,boolean:Ci,object:ln},yr=function(t,e){this.type=t,this.args=e};yr.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i,a=1,c=t[0];if("array"===c){var p,m;if(t.length>2){var S=t[1];if("string"!=typeof S||!(S in Qr)||"object"===S)return e.error('The item type argument of "array" must be one of string, number, boolean',1);p=Qr[S],a++}else p=_i;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);m=t[2],a++}i=Vn(p,m)}else i=Qr[c];for(var Z=[];a<t.length;a++){var st=e.parse(t[a],a,_i);if(!st)return null;Z.push(st)}return new yr(i,Z)},yr.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var i=this.args[e].evaluate(t);if(!qn(this.type,ur(i)))return i;if(e===this.args.length-1)throw new Hr("Expected value to be of type "+Sn(this.type)+", but found "+Sn(ur(i))+" instead.")}return null},yr.prototype.eachChild=function(t){this.args.forEach(t)},yr.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},yr.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var i=t.itemType;if("string"===i.kind||"number"===i.kind||"boolean"===i.kind){e.push(i.kind);var a=t.N;("number"==typeof a||this.args.length>1)&&e.push(a)}}return e.concat(this.args.map(function(c){return c.serialize()}))};var Vo=function(t){this.type=fn,this.sections=t};Vo.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i=t[1];if(!Array.isArray(i)&&"object"==typeof i)return e.error("First argument must be an image or text section.");for(var a=[],c=!1,p=1;p<=t.length-1;++p){var m=t[p];if(c&&"object"==typeof m&&!Array.isArray(m)){c=!1;var S=null;if(m["font-scale"]&&!(S=e.parse(m["font-scale"],1,$e)))return null;var Z=null;if(m["text-font"]&&!(Z=e.parse(m["text-font"],1,Vn(Li))))return null;var st=null;if(m["text-color"]&&!(st=e.parse(m["text-color"],1,Ai)))return null;var pt=a[a.length-1];pt.scale=S,pt.font=Z,pt.textColor=st}else{var _t=e.parse(t[p],1,_i);if(!_t)return null;var Bt=_t.type.kind;if("string"!==Bt&&"value"!==Bt&&"null"!==Bt&&"resolvedImage"!==Bt)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");c=!0,a.push({content:_t,scale:null,font:null,textColor:null})}}return new Vo(a)},Vo.prototype.evaluate=function(t){return new rr(this.sections.map(function(e){var i=e.content.evaluate(t);return ur(i)===mn?new gs("",i,null,null,null):new gs(po(i),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)}))},Vo.prototype.eachChild=function(t){for(var e=0,i=this.sections;e<i.length;e+=1){var a=i[e];t(a.content),a.scale&&t(a.scale),a.font&&t(a.font),a.textColor&&t(a.textColor)}},Vo.prototype.outputDefined=function(){return!1},Vo.prototype.serialize=function(){for(var t=["format"],e=0,i=this.sections;e<i.length;e+=1){var a=i[e];t.push(a.content.serialize());var c={};a.scale&&(c["font-scale"]=a.scale.serialize()),a.font&&(c["text-font"]=a.font.serialize()),a.textColor&&(c["text-color"]=a.textColor.serialize()),t.push(c)}return t};var fo=function(t){this.type=mn,this.input=t};fo.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var i=e.parse(t[1],1,Li);return i?new fo(i):e.error("No image name provided.")},fo.prototype.evaluate=function(t){var e=this.input.evaluate(t),i=io.fromString(e);return i&&t.availableImages&&(i.available=t.availableImages.indexOf(e)>-1),i},fo.prototype.eachChild=function(t){t(this.input)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){return["image",this.input.serialize()]};var Cs={"to-boolean":Ci,"to-color":Ai,"to-number":$e,"to-string":Li},no=function(t,e){this.type=t,this.args=e};no.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i=t[0];if(("to-boolean"===i||"to-string"===i)&&2!==t.length)return e.error("Expected one argument.");for(var a=Cs[i],c=[],p=1;p<t.length;p++){var m=e.parse(t[p],p,_i);if(!m)return null;c.push(m)}return new no(a,c)},no.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,i,a=0,c=this.args;a<c.length;a+=1){if(i=null,(e=c[a].evaluate(t))instanceof Gi)return e;if("string"==typeof e){var p=t.parseColor(e);if(p)return p}else if(Array.isArray(e)&&!(i=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":Ws(e[0],e[1],e[2],e[3])))return new Gi(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new Hr(i||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var m=null,S=0,Z=this.args;S<Z.length;S+=1){if(null===(m=Z[S].evaluate(t)))return 0;var st=Number(m);if(!isNaN(st))return st}throw new Hr("Could not convert "+JSON.stringify(m)+" to number.")}return"formatted"===this.type.kind?rr.fromString(po(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?io.fromString(po(this.args[0].evaluate(t))):po(this.args[0].evaluate(t))},no.prototype.eachChild=function(t){this.args.forEach(t)},no.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},no.prototype.serialize=function(){if("formatted"===this.type.kind)return new Vo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new fo(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(e){t.push(e.serialize())}),t};var Rs=["Unknown","Point","LineString","Polygon"],qr=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};qr.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},qr.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Rs[this.feature.type]:this.feature.type:null},qr.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},qr.prototype.canonicalID=function(){return this.canonical},qr.prototype.properties=function(){return this.feature&&this.feature.properties||{}},qr.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Gi.parse(t)),e};var Wr=function(t,e,i,a){this.name=t,this.type=e,this._evaluate=i,this.args=a};Wr.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Wr.prototype.eachChild=function(t){this.args.forEach(t)},Wr.prototype.outputDefined=function(){return!1},Wr.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},Wr.parse=function(t,e){var i,a=t[0],c=Wr.definitions[a];if(!c)return e.error('Unknown expression "'+a+'". If you wanted a literal array, use ["literal", [...]].',0);for(var p=Array.isArray(c)?c[0]:c.type,m=Array.isArray(c)?[[c[1],c[2]]]:c.overloads,S=m.filter(function(tn){var Ui=tn[0];return!Array.isArray(Ui)||Ui.length===t.length-1}),Z=null,st=0,pt=S;st<pt.length;st+=1){var _t=pt[st],Bt=_t[0],Nt=_t[1];Z=new Ze(e.registry,e.path,null,e.scope);for(var he=[],ue=!1,be=1;be<t.length;be++){var ye=t[be],Ie=Array.isArray(Bt)?Bt[be-1]:Bt.type,Ne=Z.parse(ye,1+he.length,Ie);if(!Ne){ue=!0;break}he.push(Ne)}if(!ue)if(Array.isArray(Bt)&&Bt.length!==he.length)Z.error("Expected "+Bt.length+" arguments, but found "+he.length+" instead.");else{for(var We=0;We<he.length;We++){var Ye=Array.isArray(Bt)?Bt[We]:Bt.type,ri=he[We];Z.concat(We+1).checkSubtype(Ye,ri.type)}if(0===Z.errors.length)return new Wr(a,p,Nt,he)}}if(1===S.length)(i=e.errors).push.apply(i,Z.errors);else{for(var xi=(S.length?S:m).map(function(tn){var Ui;return Ui=tn[0],Array.isArray(Ui)?"("+Ui.map(Sn).join(", ")+")":"("+Sn(Ui.type)+"...)"}).join(" | "),zi=[],$i=1;$i<t.length;$i++){var Fi=e.parse(t[$i],1+zi.length);if(!Fi)return null;zi.push(Sn(Fi.type))}e.error("Expected arguments of type "+xi+", but found ("+zi.join(", ")+") instead.")}return null},Wr.register=function(t,e){for(var i in Wr.definitions=e,e)t[i]=Wr};var To=function(t,e,i){this.type=En,this.locale=i,this.caseSensitive=t,this.diacriticSensitive=e};function mo(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Qo(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Bs(t,e){var i=(180+t[0])/360,a=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,c=Math.pow(2,e.z);return[Math.round(i*c*8192),Math.round(a*c*8192)]}function vs(t,e,i){return e[1]>t[1]!=i[1]>t[1]&&t[0]<(i[0]-e[0])*(t[1]-e[1])/(i[1]-e[1])+e[0]}function ts(t,e){for(var i,a,c,p,m,S,Z,st=!1,pt=0,_t=e.length;pt<_t;pt++)for(var Bt=e[pt],Nt=0,he=Bt.length;Nt<he-1;Nt++){if((p=(i=t)[0]-(a=Bt[Nt])[0])*(Z=i[1]-(c=Bt[Nt+1])[1])-(S=i[0]-c[0])*(m=i[1]-a[1])==0&&p*S<=0&&m*Z<=0)return!1;vs(t,Bt[Nt],Bt[Nt+1])&&(st=!st)}return st}function oa(t,e){for(var i=0;i<e.length;i++)if(ts(t,e[i]))return!0;return!1}function ea(t,e,i,a){var c=a[0]-i[0],p=a[1]-i[1],m=(t[0]-i[0])*p-c*(t[1]-i[1]),S=(e[0]-i[0])*p-c*(e[1]-i[1]);return m>0&&S<0||m<0&&S>0}function fa(t,e,i){for(var a=0,c=i;a<c.length;a+=1)for(var p=c[a],m=0;m<p.length-1;++m)if((_t=[(pt=p[m+1])[0]-(st=p[m])[0],pt[1]-st[1]])[0]*(Bt=[(Z=e)[0]-(S=t)[0],Z[1]-S[1]])[1]-_t[1]*Bt[0]!=0&&ea(S,Z,st,pt)&&ea(st,pt,S,Z))return!0;var S,Z,st,pt,_t,Bt;return!1}function f(t,e){for(var i=0;i<t.length;++i)if(!ts(t[i],e))return!1;for(var a=0;a<t.length-1;++a)if(fa(t[a],t[a+1],e))return!1;return!0}function C(t,e){for(var i=0;i<e.length;i++)if(f(t,e[i]))return!0;return!1}function q(t,e,i){for(var a=[],c=0;c<t.length;c++){for(var p=[],m=0;m<t[c].length;m++){var S=Bs(t[c][m],i);mo(e,S),p.push(S)}a.push(p)}return a}function et(t,e,i){for(var a=[],c=0;c<t.length;c++){var p=q(t[c],e,i);a.push(p)}return a}function Tt(t,e,i,a){if(t[0]<i[0]||t[0]>i[2]){var c=.5*a,p=t[0]-i[0]>c?-a:i[0]-t[0]>c?a:0;0===p&&(p=t[0]-i[2]>c?-a:i[2]-t[0]>c?a:0),t[0]+=p}mo(e,t)}function Vt(t,e,i,a){for(var c=8192*Math.pow(2,a.z),p=[8192*a.x,8192*a.y],m=[],S=0,Z=t;S<Z.length;S+=1)for(var st=0,pt=Z[S];st<pt.length;st+=1){var _t=pt[st],Bt=[_t.x+p[0],_t.y+p[1]];Tt(Bt,e,i,c),m.push(Bt)}return m}function Jt(t,e,i,a){for(var c,p=8192*Math.pow(2,a.z),m=[8192*a.x,8192*a.y],S=[],Z=0,st=t;Z<st.length;Z+=1){for(var pt=[],_t=0,Bt=st[Z];_t<Bt.length;_t+=1){var Nt=Bt[_t],he=[Nt.x+m[0],Nt.y+m[1]];mo(e,he),pt.push(he)}S.push(pt)}if(e[2]-e[0]<=p/2){(c=e)[0]=c[1]=1/0,c[2]=c[3]=-1/0;for(var ue=0,be=S;ue<be.length;ue+=1)for(var ye=0,Ie=be[ue];ye<Ie.length;ye+=1)Tt(Ie[ye],e,i,p)}return S}To.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var i=t[1];if("object"!=typeof i||Array.isArray(i))return e.error("Collator options argument must be an object.");var a=e.parse(void 0!==i["case-sensitive"]&&i["case-sensitive"],1,Ci);if(!a)return null;var c=e.parse(void 0!==i["diacritic-sensitive"]&&i["diacritic-sensitive"],1,Ci);if(!c)return null;var p=null;return i.locale&&!(p=e.parse(i.locale,1,Li))?null:new To(a,c,p)},To.prototype.evaluate=function(t){return new Vr(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},To.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},To.prototype.outputDefined=function(){return!1},To.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Se=function(t,e){this.type=Ci,this.geojson=t,this.geometries=e};function xe(t){if(t instanceof Wr&&("get"===t.name&&1===t.args.length||"feature-state"===t.name||"has"===t.name&&1===t.args.length||"properties"===t.name||"geometry-type"===t.name||"id"===t.name||/^filter-/.test(t.name))||t instanceof Se)return!1;var e=!0;return t.eachChild(function(i){e&&!xe(i)&&(e=!1)}),e}function De(t){if(t instanceof Wr&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild(function(i){e&&!De(i)&&(e=!1)}),e}function Je(t,e){if(t instanceof Wr&&e.indexOf(t.name)>=0)return!1;var i=!0;return t.eachChild(function(a){i&&!Je(a,e)&&(i=!1)}),i}Se.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(Ds(t[1])){var i=t[1];if("FeatureCollection"===i.type)for(var a=0;a<i.features.length;++a){var c=i.features[a].geometry.type;if("Polygon"===c||"MultiPolygon"===c)return new Se(i,i.features[a].geometry)}else if("Feature"===i.type){var p=i.geometry.type;if("Polygon"===p||"MultiPolygon"===p)return new Se(i,i.geometry)}else if("Polygon"===i.type||"MultiPolygon"===i.type)return new Se(i,i)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Se.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(e,i){var a=[1/0,1/0,-1/0,-1/0],c=[1/0,1/0,-1/0,-1/0],p=e.canonicalID();if("Polygon"===i.type){var m=q(i.coordinates,c,p),S=Vt(e.geometry(),a,c,p);if(!Qo(a,c))return!1;for(var Z=0,st=S;Z<st.length;Z+=1)if(!ts(st[Z],m))return!1}if("MultiPolygon"===i.type){var pt=et(i.coordinates,c,p),_t=Vt(e.geometry(),a,c,p);if(!Qo(a,c))return!1;for(var Bt=0,Nt=_t;Bt<Nt.length;Bt+=1)if(!oa(Nt[Bt],pt))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(e,i){var a=[1/0,1/0,-1/0,-1/0],c=[1/0,1/0,-1/0,-1/0],p=e.canonicalID();if("Polygon"===i.type){var m=q(i.coordinates,c,p),S=Jt(e.geometry(),a,c,p);if(!Qo(a,c))return!1;for(var Z=0,st=S;Z<st.length;Z+=1)if(!f(st[Z],m))return!1}if("MultiPolygon"===i.type){var pt=et(i.coordinates,c,p),_t=Jt(e.geometry(),a,c,p);if(!Qo(a,c))return!1;for(var Bt=0,Nt=_t;Bt<Nt.length;Bt+=1)if(!C(Nt[Bt],pt))return!1}return!0}(t,this.geometries)}return!1},Se.prototype.eachChild=function(){},Se.prototype.outputDefined=function(){return!0},Se.prototype.serialize=function(){return["within",this.geojson]};var si=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};si.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var i=t[1];return e.scope.has(i)?new si(i,e.scope.get(i)):e.error('Unknown variable "'+i+'". Make sure "'+i+'" has been bound in an enclosing "let" expression before using it.',1)},si.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},si.prototype.eachChild=function(){},si.prototype.outputDefined=function(){return!1},si.prototype.serialize=function(){return["var",this.name]};var Ze=function(t,e,i,a,c){void 0===e&&(e=[]),void 0===a&&(a=new Ri),void 0===c&&(c=[]),this.registry=t,this.path=e,this.key=e.map(function(p){return"["+p+"]"}).join(""),this.scope=a,this.errors=c,this.expectedType=i};function Ge(t,e){for(var i,a=t.length-1,c=0,p=a,m=0;c<=p;)if((i=t[m=Math.floor((c+p)/2)])<=e){if(m===a||e<t[m+1])return m;c=m+1}else{if(!(i>e))throw new Hr("Input is not a number.");p=m-1}return 0}Ze.prototype.parse=function(t,e,i,a,c){return void 0===c&&(c={}),e?this.concat(e,i,a)._parse(t,c):this._parse(t,c)},Ze.prototype._parse=function(t,e){function i(st,pt,_t){return"assert"===_t?new yr(pt,[st]):"coerce"===_t?new no(pt,[st]):st}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var a=t[0];if("string"!=typeof a)return this.error("Expression name must be a string, but found "+typeof a+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var c=this.registry[a];if(c){var p=c.parse(t,this);if(!p)return null;if(this.expectedType){var m=this.expectedType,S=p.type;if("string"!==m.kind&&"number"!==m.kind&&"boolean"!==m.kind&&"object"!==m.kind&&"array"!==m.kind||"value"!==S.kind)if("color"!==m.kind&&"formatted"!==m.kind&&"resolvedImage"!==m.kind||"value"!==S.kind&&"string"!==S.kind){if(this.checkSubtype(m,S))return null}else p=i(p,m,e.typeAnnotation||"coerce");else p=i(p,m,e.typeAnnotation||"assert")}if(!(p instanceof Gr)&&"resolvedImage"!==p.type.kind&&function st(pt){if(pt instanceof si)return st(pt.boundExpression);if(pt instanceof Wr&&"error"===pt.name||pt instanceof To||pt instanceof Se)return!1;var _t=pt instanceof no||pt instanceof yr,Bt=!0;return pt.eachChild(function(Nt){Bt=_t?Bt&&st(Nt):Bt&&Nt instanceof Gr}),!!Bt&&xe(pt)&&Je(pt,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(p)){var Z=new qr;try{p=new Gr(p.type,p.evaluate(Z))}catch(st){return this.error(st.message),null}}return p}return this.error('Unknown expression "'+a+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Ze.prototype.concat=function(t,e,i){var a="number"==typeof t?this.path.concat(t):this.path,c=i?this.scope.concat(i):this.scope;return new Ze(this.registry,a,e||null,c,this.errors)},Ze.prototype.error=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var a=""+this.key+e.map(function(c){return"["+c+"]"}).join("");this.errors.push(new qe(a,t))},Ze.prototype.checkSubtype=function(t,e){var i=qn(t,e);return i&&this.error(i),i};var Bi=function(t,e,i){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var a=0,c=i;a<c.length;a+=1){var p=c[a],m=p[1];this.labels.push(p[0]),this.outputs.push(m)}};function Vi(t,e,i){return t*(1-i)+e*i}Bi.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var i=e.parse(t[1],1,$e);if(!i)return null;var a=[],c=null;e.expectedType&&"value"!==e.expectedType.kind&&(c=e.expectedType);for(var p=1;p<t.length;p+=2){var m=1===p?-1/0:t[p],S=t[p+1],Z=p,st=p+1;if("number"!=typeof m)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(a.length&&a[a.length-1][0]>=m)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Z);var pt=e.parse(S,st,c);if(!pt)return null;c=c||pt.type,a.push([m,pt])}return new Bi(c,i,a)},Bi.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var a=this.input.evaluate(t);if(a<=e[0])return i[0].evaluate(t);var c=e.length;return a>=e[c-1]?i[c-1].evaluate(t):i[Ge(e,a)].evaluate(t)},Bi.prototype.eachChild=function(t){t(this.input);for(var e=0,i=this.outputs;e<i.length;e+=1)t(i[e])},Bi.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},Bi.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Wi=Object.freeze({__proto__:null,number:Vi,color:function(t,e,i){return new Gi(Vi(t.r,e.r,i),Vi(t.g,e.g,i),Vi(t.b,e.b,i),Vi(t.a,e.a,i))},array:function(t,e,i){return t.map(function(a,c){return Vi(a,e[c],i)})}}),vr=6/29*3*(6/29),Fr=Math.PI/180,yo=180/Math.PI;function $n(t){return t>.008856451679035631?Math.pow(t,1/3):t/vr+4/29}function xn(t){return t>6/29?t*t*t:vr*(t-4/29)}function go(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Gn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _r(t){var e=Gn(t.r),i=Gn(t.g),a=Gn(t.b),c=$n((.4124564*e+.3575761*i+.1804375*a)/.95047),p=$n((.2126729*e+.7151522*i+.072175*a)/1);return{l:116*p-16,a:500*(c-p),b:200*(p-$n((.0193339*e+.119192*i+.9503041*a)/1.08883)),alpha:t.a}}function As(t){var e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,a=isNaN(t.b)?e:e-t.b/200;return e=1*xn(e),i=.95047*xn(i),a=1.08883*xn(a),new Gi(go(3.2404542*i-1.5371385*e-.4985314*a),go(-.969266*i+1.8760108*e+.041556*a),go(.0556434*i-.2040259*e+1.0572252*a),t.alpha)}function ia(t,e,i){var a=e-t;return t+i*(a>180||a<-180?a-360*Math.round(a/360):a)}var Sr={forward:_r,reverse:As,interpolate:function(t,e,i){return{l:Vi(t.l,e.l,i),a:Vi(t.a,e.a,i),b:Vi(t.b,e.b,i),alpha:Vi(t.alpha,e.alpha,i)}}},Mo={forward:function(t){var e=_r(t),i=e.l,a=e.a,c=e.b,p=Math.atan2(c,a)*yo;return{h:p<0?p+360:p,c:Math.sqrt(a*a+c*c),l:i,alpha:t.a}},reverse:function(t){var e=t.h*Fr,i=t.c;return As({l:t.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})},interpolate:function(t,e,i){return{h:ia(t.h,e.h,i),c:Vi(t.c,e.c,i),l:Vi(t.l,e.l,i),alpha:Vi(t.alpha,e.alpha,i)}}},rs=Object.freeze({__proto__:null,lab:Sr,hcl:Mo}),or=function(t,e,i,a,c){this.type=t,this.operator=e,this.interpolation=i,this.input=a,this.labels=[],this.outputs=[];for(var p=0,m=c;p<m.length;p+=1){var S=m[p],Z=S[1];this.labels.push(S[0]),this.outputs.push(Z)}};function qo(t,e,i,a){var c=a-i,p=t-i;return 0===c?0:1===e?p/c:(Math.pow(e,p)-1)/(Math.pow(e,c)-1)}or.interpolationFactor=function(t,e,i,a){var c=0;if("exponential"===t.name)c=qo(e,t.base,i,a);else if("linear"===t.name)c=qo(e,1,i,a);else if("cubic-bezier"===t.name){var p=t.controlPoints;c=new T(p[0],p[1],p[2],p[3]).solve(qo(e,1,i,a))}return c},or.parse=function(t,e){var i=t[0],a=t[1],c=t[2],p=t.slice(3);if(!Array.isArray(a)||0===a.length)return e.error("Expected an interpolation type expression.",1);if("linear"===a[0])a={name:"linear"};else if("exponential"===a[0]){var m=a[1];if("number"!=typeof m)return e.error("Exponential interpolation requires a numeric base.",1,1);a={name:"exponential",base:m}}else{if("cubic-bezier"!==a[0])return e.error("Unknown interpolation type "+String(a[0]),1,0);var S=a.slice(1);if(4!==S.length||S.some(function(be){return"number"!=typeof be||be<0||be>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);a={name:"cubic-bezier",controlPoints:S}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(c=e.parse(c,2,$e)))return null;var Z=[],st=null;"interpolate-hcl"===i||"interpolate-lab"===i?st=Ai:e.expectedType&&"value"!==e.expectedType.kind&&(st=e.expectedType);for(var pt=0;pt<p.length;pt+=2){var _t=p[pt],Bt=p[pt+1],Nt=pt+3,he=pt+4;if("number"!=typeof _t)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Nt);if(Z.length&&Z[Z.length-1][0]>=_t)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Nt);var ue=e.parse(Bt,he,st);if(!ue)return null;st=st||ue.type,Z.push([_t,ue])}return"number"===st.kind||"color"===st.kind||"array"===st.kind&&"number"===st.itemType.kind&&"number"==typeof st.N?new or(st,i,a,c,Z):e.error("Type "+Sn(st)+" is not interpolatable.")},or.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var a=this.input.evaluate(t);if(a<=e[0])return i[0].evaluate(t);var c=e.length;if(a>=e[c-1])return i[c-1].evaluate(t);var p=Ge(e,a),m=or.interpolationFactor(this.interpolation,a,e[p],e[p+1]),S=i[p].evaluate(t),Z=i[p+1].evaluate(t);return"interpolate"===this.operator?Wi[this.type.kind.toLowerCase()](S,Z,m):"interpolate-hcl"===this.operator?Mo.reverse(Mo.interpolate(Mo.forward(S),Mo.forward(Z),m)):Sr.reverse(Sr.interpolate(Sr.forward(S),Sr.forward(Z),m))},or.prototype.eachChild=function(t){t(this.input);for(var e=0,i=this.outputs;e<i.length;e+=1)t(i[e])},or.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},or.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],i=0;i<this.labels.length;i++)e.push(this.labels[i],this.outputs[i].serialize());return e};var Pr=function(t,e){this.type=t,this.args=e};Pr.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var i=null,a=e.expectedType;a&&"value"!==a.kind&&(i=a);for(var c=[],p=0,m=t.slice(1);p<m.length;p+=1){var S=e.parse(m[p],1+c.length,i,void 0,{typeAnnotation:"omit"});if(!S)return null;i=i||S.type,c.push(S)}var Z=a&&c.some(function(st){return qn(a,st.type)});return new Pr(Z?_i:i,c)},Pr.prototype.evaluate=function(t){for(var e,i=null,a=0,c=0,p=this.args;c<p.length&&(a++,(i=p[c].evaluate(t))&&i instanceof io&&!i.available&&(e||(e=i.name),i=null,a===this.args.length&&(i=e)),null===i);c+=1);return i},Pr.prototype.eachChild=function(t){this.args.forEach(t)},Pr.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},Pr.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize())}),t};var sr=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};sr.prototype.evaluate=function(t){return this.result.evaluate(t)},sr.prototype.eachChild=function(t){for(var e=0,i=this.bindings;e<i.length;e+=1)t(i[e][1]);t(this.result)},sr.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var i=[],a=1;a<t.length-1;a+=2){var c=t[a];if("string"!=typeof c)return e.error("Expected string, but found "+typeof c+" instead.",a);if(/[^a-zA-Z0-9_]/.test(c))return e.error("Variable names must contain only alphanumeric characters or '_'.",a);var p=e.parse(t[a+1],a+1);if(!p)return null;i.push([c,p])}var m=e.parse(t[t.length-1],t.length-1,e.expectedType,i);return m?new sr(i,m):null},sr.prototype.outputDefined=function(){return this.result.outputDefined()},sr.prototype.serialize=function(){for(var t=["let"],e=0,i=this.bindings;e<i.length;e+=1){var a=i[e];t.push(a[0],a[1].serialize())}return t.push(this.result.serialize()),t};var to=function(t,e,i){this.type=t,this.index=e,this.input=i};to.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,$e),a=e.parse(t[2],2,Vn(e.expectedType||_i));return i&&a?new to(a.type.itemType,i,a):null},to.prototype.evaluate=function(t){var e=this.index.evaluate(t),i=this.input.evaluate(t);if(e<0)throw new Hr("Array index out of bounds: "+e+" < 0.");if(e>=i.length)throw new Hr("Array index out of bounds: "+e+" > "+(i.length-1)+".");if(e!==Math.floor(e))throw new Hr("Array index must be an integer, but found "+e+" instead.");return i[e]},to.prototype.eachChild=function(t){t(this.index),t(this.input)},to.prototype.outputDefined=function(){return!1},to.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var br=function(t,e){this.type=Ci,this.needle=t,this.haystack=e};br.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,_i),a=e.parse(t[2],2,_i);return i&&a?Mr(i.type,[Ci,Li,$e,mi,_i])?new br(i,a):e.error("Expected first argument to be of type boolean, string, number or null, but found "+Sn(i.type)+" instead"):null},br.prototype.evaluate=function(t){var e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!i)return!1;if(!Jn(e,["boolean","string","number","null"]))throw new Hr("Expected first argument to be of type boolean, string, number or null, but found "+Sn(ur(e))+" instead.");if(!Jn(i,["string","array"]))throw new Hr("Expected second argument to be of type array or string, but found "+Sn(ur(i))+" instead.");return i.indexOf(e)>=0},br.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},br.prototype.outputDefined=function(){return!0},br.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Dr=function(t,e,i){this.type=$e,this.needle=t,this.haystack=e,this.fromIndex=i};Dr.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,_i),a=e.parse(t[2],2,_i);if(!i||!a)return null;if(!Mr(i.type,[Ci,Li,$e,mi,_i]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+Sn(i.type)+" instead");if(4===t.length){var c=e.parse(t[3],3,$e);return c?new Dr(i,a,c):null}return new Dr(i,a)},Dr.prototype.evaluate=function(t){var e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!Jn(e,["boolean","string","number","null"]))throw new Hr("Expected first argument to be of type boolean, string, number or null, but found "+Sn(ur(e))+" instead.");if(!Jn(i,["string","array"]))throw new Hr("Expected second argument to be of type array or string, but found "+Sn(ur(i))+" instead.");if(this.fromIndex){var a=this.fromIndex.evaluate(t);return i.indexOf(e,a)}return i.indexOf(e)},Dr.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},Dr.prototype.outputDefined=function(){return!1},Dr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var yn=function(t,e,i,a,c,p){this.inputType=t,this.type=e,this.input=i,this.cases=a,this.outputs=c,this.otherwise=p};yn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var i,a;e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType);for(var c={},p=[],m=2;m<t.length-1;m+=2){var S=t[m],Z=t[m+1];Array.isArray(S)||(S=[S]);var st=e.concat(m);if(0===S.length)return st.error("Expected at least one branch label.");for(var pt=0,_t=S;pt<_t.length;pt+=1){var Bt=_t[pt];if("number"!=typeof Bt&&"string"!=typeof Bt)return st.error("Branch labels must be numbers or strings.");if("number"==typeof Bt&&Math.abs(Bt)>Number.MAX_SAFE_INTEGER)return st.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Bt&&Math.floor(Bt)!==Bt)return st.error("Numeric branch labels must be integer values.");if(i){if(st.checkSubtype(i,ur(Bt)))return null}else i=ur(Bt);if(void 0!==c[String(Bt)])return st.error("Branch labels must be unique.");c[String(Bt)]=p.length}var Nt=e.parse(Z,m,a);if(!Nt)return null;a=a||Nt.type,p.push(Nt)}var he=e.parse(t[1],1,_i);if(!he)return null;var ue=e.parse(t[t.length-1],t.length-1,a);return ue?"value"!==he.type.kind&&e.concat(1).checkSubtype(i,he.type)?null:new yn(i,a,he,c,p,ue):null},yn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(ur(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},yn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},yn.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})&&this.otherwise.outputDefined()},yn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],i=[],a={},c=0,p=Object.keys(this.cases).sort();c<p.length;c+=1){var m=p[c];void 0===(_t=a[this.cases[m]])?(a[this.cases[m]]=i.length,i.push([this.cases[m],[m]])):i[_t][1].push(m)}for(var S=function(Nt){return"number"===t.inputType.kind?Number(Nt):Nt},Z=0,st=i;Z<st.length;Z+=1){var pt=st[Z],_t=pt[0],Bt=pt[1];e.push(1===Bt.length?S(Bt[0]):Bt.map(S)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var Fn=function(t,e,i){this.type=t,this.branches=e,this.otherwise=i};Fn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var a=[],c=1;c<t.length-1;c+=2){var p=e.parse(t[c],c,Ci);if(!p)return null;var m=e.parse(t[c+1],c+1,i);if(!m)return null;a.push([p,m]),i=i||m.type}var S=e.parse(t[t.length-1],t.length-1,i);return S?new Fn(i,a,S):null},Fn.prototype.evaluate=function(t){for(var e=0,i=this.branches;e<i.length;e+=1){var a=i[e],c=a[1];if(a[0].evaluate(t))return c.evaluate(t)}return this.otherwise.evaluate(t)},Fn.prototype.eachChild=function(t){for(var e=0,i=this.branches;e<i.length;e+=1){var a=i[e],c=a[1];t(a[0]),t(c)}t(this.otherwise)},Fn.prototype.outputDefined=function(){return this.branches.every(function(t){return t[1].outputDefined()})&&this.otherwise.outputDefined()},Fn.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize())}),t};var pr=function(t,e,i,a){this.type=t,this.input=e,this.beginIndex=i,this.endIndex=a};function ao(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Tr(t,e,i,a){return 0===a.compare(e,i)}function Pn(t,e,i){var a="=="!==t&&"!="!==t;return function(){function c(p,m,S){this.type=Ci,this.lhs=p,this.rhs=m,this.collator=S,this.hasUntypedArgument="value"===p.type.kind||"value"===m.type.kind}return c.parse=function(p,m){if(3!==p.length&&4!==p.length)return m.error("Expected two or three arguments.");var S=p[0],Z=m.parse(p[1],1,_i);if(!Z)return null;if(!ao(S,Z.type))return m.concat(1).error('"'+S+"\" comparisons are not supported for type '"+Sn(Z.type)+"'.");var st=m.parse(p[2],2,_i);if(!st)return null;if(!ao(S,st.type))return m.concat(2).error('"'+S+"\" comparisons are not supported for type '"+Sn(st.type)+"'.");if(Z.type.kind!==st.type.kind&&"value"!==Z.type.kind&&"value"!==st.type.kind)return m.error("Cannot compare types '"+Sn(Z.type)+"' and '"+Sn(st.type)+"'.");a&&("value"===Z.type.kind&&"value"!==st.type.kind?Z=new yr(st.type,[Z]):"value"!==Z.type.kind&&"value"===st.type.kind&&(st=new yr(Z.type,[st])));var pt=null;if(4===p.length){if("string"!==Z.type.kind&&"string"!==st.type.kind&&"value"!==Z.type.kind&&"value"!==st.type.kind)return m.error("Cannot use collator to compare non-string types.");if(!(pt=m.parse(p[3],3,En)))return null}return new c(Z,st,pt)},c.prototype.evaluate=function(p){var m=this.lhs.evaluate(p),S=this.rhs.evaluate(p);if(a&&this.hasUntypedArgument){var Z=ur(m),st=ur(S);if(Z.kind!==st.kind||"string"!==Z.kind&&"number"!==Z.kind)throw new Hr('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+Z.kind+", "+st.kind+") instead.")}if(this.collator&&!a&&this.hasUntypedArgument){var pt=ur(m),_t=ur(S);if("string"!==pt.kind||"string"!==_t.kind)return e(p,m,S)}return this.collator?i(p,m,S,this.collator.evaluate(p)):e(p,m,S)},c.prototype.eachChild=function(p){p(this.lhs),p(this.rhs),this.collator&&p(this.collator)},c.prototype.outputDefined=function(){return!0},c.prototype.serialize=function(){var p=[t];return this.eachChild(function(m){p.push(m.serialize())}),p},c}()}pr.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,_i),a=e.parse(t[2],2,$e);if(!i||!a)return null;if(!Mr(i.type,[Vn(_i),Li,_i]))return e.error("Expected first argument to be of type array or string, but found "+Sn(i.type)+" instead");if(4===t.length){var c=e.parse(t[3],3,$e);return c?new pr(i.type,i,a,c):null}return new pr(i.type,i,a)},pr.prototype.evaluate=function(t){var e=this.input.evaluate(t),i=this.beginIndex.evaluate(t);if(!Jn(e,["string","array"]))throw new Hr("Expected first argument to be of type array or string, but found "+Sn(ur(e))+" instead.");if(this.endIndex){var a=this.endIndex.evaluate(t);return e.slice(i,a)}return e.slice(i)},pr.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},pr.prototype.outputDefined=function(){return!1},pr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var js=Pn("==",function(t,e,i){return e===i},Tr),Po=Pn("!=",function(t,e,i){return e!==i},function(t,e,i,a){return!Tr(0,e,i,a)}),Zo=Pn("<",function(t,e,i){return e<i},function(t,e,i,a){return a.compare(e,i)<0}),_s=Pn(">",function(t,e,i){return e>i},function(t,e,i,a){return a.compare(e,i)>0}),na=Pn("<=",function(t,e,i){return e<=i},function(t,e,i,a){return a.compare(e,i)<=0}),Es=Pn(">=",function(t,e,i){return e>=i},function(t,e,i,a){return a.compare(e,i)>=0}),os=function(t,e,i,a,c){this.type=Li,this.number=t,this.locale=e,this.currency=i,this.minFractionDigits=a,this.maxFractionDigits=c};os.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var i=e.parse(t[1],1,$e);if(!i)return null;var a=t[2];if("object"!=typeof a||Array.isArray(a))return e.error("NumberFormat options argument must be an object.");var c=null;if(a.locale&&!(c=e.parse(a.locale,1,Li)))return null;var p=null;if(a.currency&&!(p=e.parse(a.currency,1,Li)))return null;var m=null;if(a["min-fraction-digits"]&&!(m=e.parse(a["min-fraction-digits"],1,$e)))return null;var S=null;return a["max-fraction-digits"]&&!(S=e.parse(a["max-fraction-digits"],1,$e))?null:new os(i,c,p,m,S)},os.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},os.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},os.prototype.outputDefined=function(){return!1},os.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var Go=function(t){this.type=$e,this.input=t};Go.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1);return i?"array"!==i.type.kind&&"string"!==i.type.kind&&"value"!==i.type.kind?e.error("Expected argument of type string or array, but found "+Sn(i.type)+" instead."):new Go(i):null},Go.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e||Array.isArray(e))return e.length;throw new Hr("Expected value to be of type string or array, but found "+Sn(ur(e))+" instead.")},Go.prototype.eachChild=function(t){t(this.input)},Go.prototype.outputDefined=function(){return!1},Go.prototype.serialize=function(){var t=["length"];return this.eachChild(function(e){t.push(e.serialize())}),t};var Fs={"==":js,"!=":Po,">":_s,"<":Zo,">=":Es,"<=":na,array:yr,at:to,boolean:yr,case:Fn,coalesce:Pr,collator:To,format:Vo,image:fo,in:br,"index-of":Dr,interpolate:or,"interpolate-hcl":or,"interpolate-lab":or,length:Go,let:sr,literal:Gr,match:yn,number:yr,"number-format":os,object:yr,slice:pr,step:Bi,string:yr,"to-boolean":no,"to-color":no,"to-number":no,"to-string":no,var:si,within:Se};function r(t,e){var i=e[0],a=e[1],c=e[2],p=e[3];i=i.evaluate(t),a=a.evaluate(t),c=c.evaluate(t);var m=p?p.evaluate(t):1,S=Ws(i,a,c,m);if(S)throw new Hr(S);return new Gi(i/255*m,a/255*m,c/255*m,m)}function u(t,e){return t in e}function y(t,e){var i=e[t];return void 0===i?null:i}function z(t){return{type:t}}function lt(t){return{result:"success",value:t}}function Ht(t){return{result:"error",value:t}}function ke(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Ee(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function oi(t){return!!t.expression&&t.expression.interpolated}function ni(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Ki(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function bn(t){return t}function Un(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function Lr(t,e,i,a,c){return Un(typeof i===c?a[i]:void 0,t.default,e.default)}function ss(t,e,i){if("number"!==ni(i))return Un(t.default,e.default);var a=t.stops.length;if(1===a||i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[a-1][0])return t.stops[a-1][1];var c=Ge(t.stops.map(function(p){return p[0]}),i);return t.stops[c][1]}function Co(t,e,i){var a=void 0!==t.base?t.base:1;if("number"!==ni(i))return Un(t.default,e.default);var c=t.stops.length;if(1===c||i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[c-1][0])return t.stops[c-1][1];var Bt,Nt,ue,be,p=Ge(t.stops.map(function(_t){return _t[0]}),i),m=(Bt=a,be=i-(Nt=t.stops[p][0]),0==(ue=t.stops[p+1][0]-Nt)?0:1===Bt?be/ue:(Math.pow(Bt,be)-1)/(Math.pow(Bt,ue)-1)),S=t.stops[p][1],Z=t.stops[p+1][1],st=Wi[e.type]||bn;if(t.colorSpace&&"rgb"!==t.colorSpace){var pt=rs[t.colorSpace];st=function(_t,Bt){return pt.reverse(pt.interpolate(pt.forward(_t),pt.forward(Bt),m))}}return"function"==typeof S.evaluate?{evaluate:function(){for(var _t=[],Bt=arguments.length;Bt--;)_t[Bt]=arguments[Bt];var Nt=S.evaluate.apply(void 0,_t),he=Z.evaluate.apply(void 0,_t);if(void 0!==Nt&&void 0!==he)return st(Nt,he,m)}}:st(S,Z,m)}function ro(t,e,i){return"color"===e.type?i=Gi.parse(i):"formatted"===e.type?i=rr.fromString(i.toString()):"resolvedImage"===e.type?i=io.fromString(i.toString()):ni(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),Un(i,t.default,e.default)}Wr.register(Fs,{error:[{kind:"error"},[Li],function(t,e){throw new Hr(e[0].evaluate(t))}],typeof:[Li,[_i],function(t,e){return Sn(ur(e[0].evaluate(t)))}],"to-rgba":[Vn($e,4),[Ai],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Ai,[$e,$e,$e],r],rgba:[Ai,[$e,$e,$e,$e],r],has:{type:Ci,overloads:[[[Li],function(t,e){return u(e[0].evaluate(t),t.properties())}],[[Li,ln],function(t,e){var i=e[1];return u(e[0].evaluate(t),i.evaluate(t))}]]},get:{type:_i,overloads:[[[Li],function(t,e){return y(e[0].evaluate(t),t.properties())}],[[Li,ln],function(t,e){var i=e[1];return y(e[0].evaluate(t),i.evaluate(t))}]]},"feature-state":[_i,[Li],function(t,e){return y(e[0].evaluate(t),t.featureState||{})}],properties:[ln,[],function(t){return t.properties()}],"geometry-type":[Li,[],function(t){return t.geometryType()}],id:[_i,[],function(t){return t.id()}],zoom:[$e,[],function(t){return t.globals.zoom}],"heatmap-density":[$e,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[$e,[],function(t){return t.globals.lineProgress||0}],accumulated:[_i,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[$e,z($e),function(t,e){for(var i=0,a=0,c=e;a<c.length;a+=1)i+=c[a].evaluate(t);return i}],"*":[$e,z($e),function(t,e){for(var i=1,a=0,c=e;a<c.length;a+=1)i*=c[a].evaluate(t);return i}],"-":{type:$e,overloads:[[[$e,$e],function(t,e){var i=e[1];return e[0].evaluate(t)-i.evaluate(t)}],[[$e],function(t,e){return-e[0].evaluate(t)}]]},"/":[$e,[$e,$e],function(t,e){var i=e[1];return e[0].evaluate(t)/i.evaluate(t)}],"%":[$e,[$e,$e],function(t,e){var i=e[1];return e[0].evaluate(t)%i.evaluate(t)}],ln2:[$e,[],function(){return Math.LN2}],pi:[$e,[],function(){return Math.PI}],e:[$e,[],function(){return Math.E}],"^":[$e,[$e,$e],function(t,e){var i=e[1];return Math.pow(e[0].evaluate(t),i.evaluate(t))}],sqrt:[$e,[$e],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[$e,[$e],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[$e,[$e],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[$e,[$e],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[$e,[$e],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[$e,[$e],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[$e,[$e],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[$e,[$e],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[$e,[$e],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[$e,[$e],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[$e,z($e),function(t,e){return Math.min.apply(Math,e.map(function(i){return i.evaluate(t)}))}],max:[$e,z($e),function(t,e){return Math.max.apply(Math,e.map(function(i){return i.evaluate(t)}))}],abs:[$e,[$e],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[$e,[$e],function(t,e){var i=e[0].evaluate(t);return i<0?-Math.round(-i):Math.round(i)}],floor:[$e,[$e],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[$e,[$e],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[Ci,[Li,_i],function(t,e){var i=e[0],a=e[1];return t.properties()[i.value]===a.value}],"filter-id-==":[Ci,[_i],function(t,e){var i=e[0];return t.id()===i.value}],"filter-type-==":[Ci,[Li],function(t,e){var i=e[0];return t.geometryType()===i.value}],"filter-<":[Ci,[Li,_i],function(t,e){var i=e[0],a=e[1],c=t.properties()[i.value],p=a.value;return typeof c==typeof p&&c<p}],"filter-id-<":[Ci,[_i],function(t,e){var i=e[0],a=t.id(),c=i.value;return typeof a==typeof c&&a<c}],"filter->":[Ci,[Li,_i],function(t,e){var i=e[0],a=e[1],c=t.properties()[i.value],p=a.value;return typeof c==typeof p&&c>p}],"filter-id->":[Ci,[_i],function(t,e){var i=e[0],a=t.id(),c=i.value;return typeof a==typeof c&&a>c}],"filter-<=":[Ci,[Li,_i],function(t,e){var i=e[0],a=e[1],c=t.properties()[i.value],p=a.value;return typeof c==typeof p&&c<=p}],"filter-id-<=":[Ci,[_i],function(t,e){var i=e[0],a=t.id(),c=i.value;return typeof a==typeof c&&a<=c}],"filter->=":[Ci,[Li,_i],function(t,e){var i=e[0],a=e[1],c=t.properties()[i.value],p=a.value;return typeof c==typeof p&&c>=p}],"filter-id->=":[Ci,[_i],function(t,e){var i=e[0],a=t.id(),c=i.value;return typeof a==typeof c&&a>=c}],"filter-has":[Ci,[_i],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Ci,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[Ci,[Vn(Li)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Ci,[Vn(_i)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Ci,[Li,Vn(_i)],function(t,e){var i=e[0];return e[1].value.indexOf(t.properties()[i.value])>=0}],"filter-in-large":[Ci,[Li,Vn(_i)],function(t,e){var i=e[0],a=e[1];return function(c,p,m,S){for(;m<=S;){var Z=m+S>>1;if(p[Z]===c)return!0;p[Z]>c?S=Z-1:m=Z+1}return!1}(t.properties()[i.value],a.value,0,a.value.length-1)}],all:{type:Ci,overloads:[[[Ci,Ci],function(t,e){var i=e[1];return e[0].evaluate(t)&&i.evaluate(t)}],[z(Ci),function(t,e){for(var i=0,a=e;i<a.length;i+=1)if(!a[i].evaluate(t))return!1;return!0}]]},any:{type:Ci,overloads:[[[Ci,Ci],function(t,e){var i=e[1];return e[0].evaluate(t)||i.evaluate(t)}],[z(Ci),function(t,e){for(var i=0,a=e;i<a.length;i+=1)if(a[i].evaluate(t))return!0;return!1}]]},"!":[Ci,[Ci],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Ci,[Li],function(t,e){var i=t.globals&&t.globals.isSupportedScript;return!i||i(e[0].evaluate(t))}],upcase:[Li,[Li],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Li,[Li],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Li,z(_i),function(t,e){return e.map(function(i){return po(i.evaluate(t))}).join("")}],"resolved-locale":[Li,[En],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var ks=function(t,e){var i;this.expression=t,this._warningHistory={},this._evaluator=new qr,this._defaultValue=e?"color"===(i=e).type&&Ki(i.default)?new Gi(0,0,0,0):"color"===i.type?Gi.parse(i.default)||null:void 0===i.default?null:i.default:null,this._enumValues=e&&"enum"===e.type?e.values:null};function Ao(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Fs}function Ns(t,e){var c,p,i=new Ze(Fs,[],e?(p={color:Ai,string:Li,number:$e,enum:Li,boolean:Ci,formatted:fn,resolvedImage:mn},"array"===(c=e).type?Vn(p[c.value]||_i,c.length):p[c.type]):void 0),a=i.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return a?lt(new ks(a,e)):Ht(i.errors)}ks.prototype.evaluateWithoutErrorHandling=function(t,e,i,a,c,p){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=i,this._evaluator.canonical=a,this._evaluator.availableImages=c||null,this._evaluator.formattedSection=p,this.expression.evaluate(this._evaluator)},ks.prototype.evaluate=function(t,e,i,a,c,p){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=i||null,this._evaluator.canonical=a,this._evaluator.availableImages=c||null,this._evaluator.formattedSection=p||null;try{var m=this.expression.evaluate(this._evaluator);if(null==m||"number"==typeof m&&m!=m)return this._defaultValue;if(this._enumValues&&!(m in this._enumValues))throw new Hr("Expected value to be one of "+Object.keys(this._enumValues).map(function(S){return JSON.stringify(S)}).join(", ")+", but found "+JSON.stringify(m)+" instead.");return m}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console<"u"&&console.warn(S.message)),this._defaultValue}};var Cr=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!De(e.expression)};Cr.prototype.evaluateWithoutErrorHandling=function(t,e,i,a,c,p){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,a,c,p)},Cr.prototype.evaluate=function(t,e,i,a,c,p){return this._styleExpression.evaluate(t,e,i,a,c,p)};var es=function(t,e,i,a){this.kind=t,this.zoomStops=i,this._styleExpression=e,this.isStateDependent="camera"!==t&&!De(e.expression),this.interpolationType=a};function ps(t,e){if("error"===(t=Ns(t,e)).result)return t;var i=t.value.expression,a=xe(i);if(!a&&!ke(e))return Ht([new qe("","data expressions not supported")]);var c=Je(i,["zoom"]);if(!c&&!Ee(e))return Ht([new qe("","zoom expressions not supported")]);var p=function m(S){var Z=null;if(S instanceof sr)Z=m(S.result);else if(S instanceof Pr)for(var st=0,pt=S.args;st<pt.length&&!(Z=m(pt[st]));st+=1);else(S instanceof Bi||S instanceof or)&&S.input instanceof Wr&&"zoom"===S.input.name&&(Z=S);return Z instanceof qe||S.eachChild(function(_t){var Bt=m(_t);Bt instanceof qe?Z=Bt:!Z&&Bt?Z=new qe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Z&&Bt&&Z!==Bt&&(Z=new qe("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),Z}(i);return p||c?p instanceof qe?Ht([p]):p instanceof or&&!oi(e)?Ht([new qe("",'"interpolate" expressions cannot be used with this property')]):lt(p?new es(a?"camera":"composite",t.value,p.labels,p instanceof or?p.interpolation:void 0):new Cr(a?"constant":"source",t.value)):Ht([new qe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}es.prototype.evaluateWithoutErrorHandling=function(t,e,i,a,c,p){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,a,c,p)},es.prototype.evaluate=function(t,e,i,a,c,p){return this._styleExpression.evaluate(t,e,i,a,c,p)},es.prototype.interpolationFactor=function(t,e,i){return this.interpolationType?or.interpolationFactor(this.interpolationType,t,e,i):0};var Xs=function(t,e){this._parameters=t,this._specification=e,ei(this,function i(a,c){var p,m,S,Z="color"===c.type,st=a.stops&&"object"==typeof a.stops[0][0],pt=st||!(st||void 0!==a.property),_t=a.type||(oi(c)?"exponential":"interval");if(Z&&((a=ei({},a)).stops&&(a.stops=a.stops.map(function(Fi){return[Fi[0],Gi.parse(Fi[1])]})),a.default=Gi.parse(a.default?a.default:c.default)),a.colorSpace&&"rgb"!==a.colorSpace&&!rs[a.colorSpace])throw new Error("Unknown color space: "+a.colorSpace);if("exponential"===_t)p=Co;else if("interval"===_t)p=ss;else if("categorical"===_t){p=Lr,m=Object.create(null);for(var Bt=0,Nt=a.stops;Bt<Nt.length;Bt+=1){var he=Nt[Bt];m[he[0]]=he[1]}S=typeof a.stops[0][0]}else{if("identity"!==_t)throw new Error('Unknown function type "'+_t+'"');p=ro}if(st){for(var ue={},be=[],ye=0;ye<a.stops.length;ye++){var Ie=a.stops[ye],Ne=Ie[0].zoom;void 0===ue[Ne]&&(ue[Ne]={zoom:Ne,type:a.type,property:a.property,default:a.default,stops:[]},be.push(Ne)),ue[Ne].stops.push([Ie[0].value,Ie[1]])}for(var We=[],Ye=0,ri=be;Ye<ri.length;Ye+=1){var xi=ri[Ye];We.push([ue[xi].zoom,i(ue[xi],c)])}var zi={name:"linear"};return{kind:"composite",interpolationType:zi,interpolationFactor:or.interpolationFactor.bind(void 0,zi),zoomStops:We.map(function(Fi){return Fi[0]}),evaluate:function(Fi,tn){var Ui=Fi.zoom;return Co({stops:We,base:a.base},c,Ui).evaluate(Ui,tn)}}}if(pt){var $i="exponential"===_t?{name:"exponential",base:void 0!==a.base?a.base:1}:null;return{kind:"camera",interpolationType:$i,interpolationFactor:or.interpolationFactor.bind(void 0,$i),zoomStops:a.stops.map(function(Fi){return Fi[0]}),evaluate:function(Fi){return p(a,c,Fi.zoom,m,S)}}}return{kind:"source",evaluate:function(Fi,tn){var Ui=tn&&tn.properties?tn.properties[a.property]:void 0;return void 0===Ui?Un(a.default,c.default):p(a,c,Ui,m,S)}}}(this._parameters,this._specification))};function Ho(t){var e=t.key,i=t.value,a=t.valueSpec||{},c=t.objectElementValidators||{},p=t.style,m=t.styleSpec,S=[],Z=ni(i);if("object"!==Z)return[new fe(e,i,"object expected, "+Z+" found")];for(var st in i){var pt=st.split(".")[0],_t=a[pt]||a["*"],Bt=void 0;if(c[pt])Bt=c[pt];else if(a[pt])Bt=fi;else if(c["*"])Bt=c["*"];else{if(!a["*"]){S.push(new fe(e,i[st],'unknown property "'+st+'"'));continue}Bt=fi}S=S.concat(Bt({key:(e&&e+".")+st,value:i[st],valueSpec:_t,style:p,styleSpec:m,object:i,objectKey:st},i))}for(var Nt in a)c[Nt]||a[Nt].required&&void 0===a[Nt].default&&void 0===i[Nt]&&S.push(new fe(e,i,'missing required property "'+Nt+'"'));return S}function ba(t){var e=t.value,i=t.valueSpec,a=t.style,c=t.styleSpec,p=t.key,m=t.arrayElementValidator||fi;if("array"!==ni(e))return[new fe(p,e,"array expected, "+ni(e)+" found")];if(i.length&&e.length!==i.length)return[new fe(p,e,"array length "+i.length+" expected, length "+e.length+" found")];if(i["min-length"]&&e.length<i["min-length"])return[new fe(p,e,"array length at least "+i["min-length"]+" expected, length "+e.length+" found")];var S={type:i.value,values:i.values};c.$version<7&&(S.function=i.function),"object"===ni(i.value)&&(S=i.value);for(var Z=[],st=0;st<e.length;st++)Z=Z.concat(m({array:e,arrayIndex:st,value:e[st],valueSpec:S,style:a,styleSpec:c,key:p+"["+st+"]"}));return Z}function ma(t){var e=t.key,i=t.value,a=t.valueSpec,c=ni(i);return"number"===c&&i!=i&&(c="NaN"),"number"!==c?[new fe(e,i,"number expected, "+c+" found")]:"minimum"in a&&i<a.minimum?[new fe(e,i,i+" is less than the minimum value "+a.minimum)]:"maximum"in a&&i>a.maximum?[new fe(e,i,i+" is greater than the maximum value "+a.maximum)]:[]}function te(t){var e,i,a,c=t.valueSpec,p=pi(t.value.type),m={},S="categorical"!==p&&void 0===t.value.property,Z=!S,st="array"===ni(t.value.stops)&&"array"===ni(t.value.stops[0])&&"object"===ni(t.value.stops[0][0]),pt=Ho({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(Nt){if("identity"===p)return[new fe(Nt.key,Nt.value,'identity function may not have a "stops" property')];var he=[],ue=Nt.value;return he=he.concat(ba({key:Nt.key,value:ue,valueSpec:Nt.valueSpec,style:Nt.style,styleSpec:Nt.styleSpec,arrayElementValidator:_t})),"array"===ni(ue)&&0===ue.length&&he.push(new fe(Nt.key,ue,"array must have at least one stop")),he},default:function(Nt){return fi({key:Nt.key,value:Nt.value,valueSpec:c,style:Nt.style,styleSpec:Nt.styleSpec})}}});return"identity"===p&&S&&pt.push(new fe(t.key,t.value,'missing required property "property"')),"identity"===p||t.value.stops||pt.push(new fe(t.key,t.value,'missing required property "stops"')),"exponential"===p&&t.valueSpec.expression&&!oi(t.valueSpec)&&pt.push(new fe(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(Z&&!ke(t.valueSpec)?pt.push(new fe(t.key,t.value,"property functions not supported")):S&&!Ee(t.valueSpec)&&pt.push(new fe(t.key,t.value,"zoom functions not supported"))),"categorical"!==p&&!st||void 0!==t.value.property||pt.push(new fe(t.key,t.value,'"property" property is required')),pt;function _t(Nt){var he=[],ue=Nt.value,be=Nt.key;if("array"!==ni(ue))return[new fe(be,ue,"array expected, "+ni(ue)+" found")];if(2!==ue.length)return[new fe(be,ue,"array length 2 expected, length "+ue.length+" found")];if(st){if("object"!==ni(ue[0]))return[new fe(be,ue,"object expected, "+ni(ue[0])+" found")];if(void 0===ue[0].zoom)return[new fe(be,ue,"object stop key must have zoom")];if(void 0===ue[0].value)return[new fe(be,ue,"object stop key must have value")];if(a&&a>pi(ue[0].zoom))return[new fe(be,ue[0].zoom,"stop zoom values must appear in ascending order")];pi(ue[0].zoom)!==a&&(a=pi(ue[0].zoom),i=void 0,m={}),he=he.concat(Ho({key:be+"[0]",value:ue[0],valueSpec:{zoom:{}},style:Nt.style,styleSpec:Nt.styleSpec,objectElementValidators:{zoom:ma,value:Bt}}))}else he=he.concat(Bt({key:be+"[0]",value:ue[0],valueSpec:{},style:Nt.style,styleSpec:Nt.styleSpec},ue));return Ao(He(ue[1]))?he.concat([new fe(be+"[1]",ue[1],"expressions are not allowed in function stops.")]):he.concat(fi({key:be+"[1]",value:ue[1],valueSpec:c,style:Nt.style,styleSpec:Nt.styleSpec}))}function Bt(Nt,he){var ue=ni(Nt.value),be=pi(Nt.value),ye=null!==Nt.value?Nt.value:he;if(e){if(ue!==e)return[new fe(Nt.key,ye,ue+" stop domain type must match previous stop domain type "+e)]}else e=ue;if("number"!==ue&&"string"!==ue&&"boolean"!==ue)return[new fe(Nt.key,ye,"stop domain value must be a number, string, or boolean")];if("number"!==ue&&"categorical"!==p){var Ie="number expected, "+ue+" found";return ke(c)&&void 0===p&&(Ie+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new fe(Nt.key,ye,Ie)]}return"categorical"!==p||"number"!==ue||isFinite(be)&&Math.floor(be)===be?"categorical"!==p&&"number"===ue&&void 0!==i&&be<i?[new fe(Nt.key,ye,"stop domain values must appear in ascending order")]:(i=be,"categorical"===p&&be in m?[new fe(Nt.key,ye,"stop domain values must be unique")]:(m[be]=!0,[])):[new fe(Nt.key,ye,"integer expected, found "+be)]}}function we(t){var e=("property"===t.expressionContext?ps:Ns)(He(t.value),t.valueSpec);if("error"===e.result)return e.value.map(function(a){return new fe(""+t.key+a.key,t.value,a.message)});var i=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!i.outputDefined())return[new fe(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!De(i))return[new fe(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!De(i))return[new fe(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Je(i,["zoom","feature-state"]))return[new fe(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!xe(i))return[new fe(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ze(t){var e=t.key,i=t.value,a=t.valueSpec,c=[];return Array.isArray(a.values)?-1===a.values.indexOf(pi(i))&&c.push(new fe(e,i,"expected one of ["+a.values.join(", ")+"], "+JSON.stringify(i)+" found")):-1===Object.keys(a.values).indexOf(pi(i))&&c.push(new fe(e,i,"expected one of ["+Object.keys(a.values).join(", ")+"], "+JSON.stringify(i)+" found")),c}function ui(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,i=t.slice(1);e<i.length;e+=1){var a=i[e];if(!ui(a)&&"boolean"!=typeof a)return!1}return!0;default:return!0}}Xs.deserialize=function(t){return new Xs(t._parameters,t._specification)},Xs.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Ve={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function yi(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};ui(t)||(t=ji(t));var e=Ns(t,Ve);if("error"===e.result)throw new Error(e.value.map(function(i){return i.key+": "+i.message}).join(", "));return{filter:function(i,a,c){return e.value.evaluate(i,a,{},c)},needGeometry:function i(a){if(!Array.isArray(a))return!1;if("within"===a[0])return!0;for(var c=1;c<a.length;c++)if(i(a[c]))return!0;return!1}(t)}}function Mi(t,e){return t<e?-1:t>e?1:0}function ji(t){if(!t)return!0;var e,i=t[0];return t.length<=1?"any"!==i:"=="===i?Hi(t[1],t[2],"=="):"!="===i?cn(Hi(t[1],t[2],"==")):"<"===i||">"===i||"<="===i||">="===i?Hi(t[1],t[2],i):"any"===i?(e=t.slice(1),["any"].concat(e.map(ji))):"all"===i?["all"].concat(t.slice(1).map(ji)):"none"===i?["all"].concat(t.slice(1).map(ji).map(cn)):"in"===i?Ln(t[1],t.slice(2)):"!in"===i?cn(Ln(t[1],t.slice(2))):"has"===i?Tn(t[1]):"!has"===i?cn(Tn(t[1])):"within"!==i||t}function Hi(t,e,i){switch(t){case"$type":return["filter-type-"+i,e];case"$id":return["filter-id-"+i,e];default:return["filter-"+i,t,e]}}function Ln(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(i){return typeof i!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(Mi)]]:["filter-in-small",t,["literal",e]]}}function Tn(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function cn(t){return["!",t]}function At(t){return ui(He(t.value))?we(ei({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(i){var a=i.value,c=i.key;if("array"!==ni(a))return[new fe(c,a,"array expected, "+ni(a)+" found")];var p,m=i.styleSpec,S=[];if(a.length<1)return[new fe(c,a,"filter array must have at least 1 element")];switch(S=S.concat(ze({key:c+"[0]",value:a[0],valueSpec:m.filter_operator,style:i.style,styleSpec:i.styleSpec})),pi(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&"$type"===pi(a[1])&&S.push(new fe(c,a,'"$type" cannot be use with operator "'+a[0]+'"'));case"==":case"!=":3!==a.length&&S.push(new fe(c,a,'filter array for operator "'+a[0]+'" must have 3 elements'));case"in":case"!in":a.length>=2&&"string"!==(p=ni(a[1]))&&S.push(new fe(c+"[1]",a[1],"string expected, "+p+" found"));for(var Z=2;Z<a.length;Z++)p=ni(a[Z]),"$type"===pi(a[1])?S=S.concat(ze({key:c+"["+Z+"]",value:a[Z],valueSpec:m.geometry_type,style:i.style,styleSpec:i.styleSpec})):"string"!==p&&"number"!==p&&"boolean"!==p&&S.push(new fe(c+"["+Z+"]",a[Z],"string, number, or boolean expected, "+p+" found"));break;case"any":case"all":case"none":for(var st=1;st<a.length;st++)S=S.concat(e({key:c+"["+st+"]",value:a[st],style:i.style,styleSpec:i.styleSpec}));break;case"has":case"!has":p=ni(a[1]),2!==a.length?S.push(new fe(c,a,'filter array for "'+a[0]+'" operator must have 2 elements')):"string"!==p&&S.push(new fe(c+"[1]",a[1],"string expected, "+p+" found"));break;case"within":p=ni(a[1]),2!==a.length?S.push(new fe(c,a,'filter array for "'+a[0]+'" operator must have 2 elements')):"object"!==p&&S.push(new fe(c+"[1]",a[1],"object expected, "+p+" found"))}return S}(t)}function _(t,e){var i=t.key,a=t.style,c=t.styleSpec,p=t.value,m=t.objectKey,S=c[e+"_"+t.layerType];if(!S)return[];var Z=m.match(/^(.*)-transition$/);if("paint"===e&&Z&&S[Z[1]]&&S[Z[1]].transition)return fi({key:i,value:p,valueSpec:c.transition,style:a,styleSpec:c});var st,pt=t.valueSpec||S[m];if(!pt)return[new fe(i,p,'unknown property "'+m+'"')];if("string"===ni(p)&&ke(pt)&&!pt.tokens&&(st=/^{([^}]+)}$/.exec(p)))return[new fe(i,p,'"'+m+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(st[1])+" }`.")];var _t=[];return"symbol"===t.layerType&&("text-field"===m&&a&&!a.glyphs&&_t.push(new fe(i,p,'use of "text-field" requires a style "glyphs" property')),"text-font"===m&&Ki(He(p))&&"identity"===pi(p.type)&&_t.push(new fe(i,p,'"text-font" does not support identity functions'))),_t.concat(fi({key:t.key,value:p,valueSpec:pt,style:a,styleSpec:c,expressionContext:"property",propertyType:e,propertyKey:m}))}function it(t){return _(t,"paint")}function Xt(t){return _(t,"layout")}function Pe(t){var e=[],i=t.value,a=t.key,c=t.style,p=t.styleSpec;i.type||i.ref||e.push(new fe(a,i,'either "type" or "ref" is required'));var m,S=pi(i.type),Z=pi(i.ref);if(i.id)for(var st=pi(i.id),pt=0;pt<t.arrayIndex;pt++){var _t=c.layers[pt];pi(_t.id)===st&&e.push(new fe(a,i.id,'duplicate layer id "'+i.id+'", previously used at line '+_t.id.__line__))}if("ref"in i)["type","source","source-layer","filter","layout"].forEach(function(he){he in i&&e.push(new fe(a,i[he],'"'+he+'" is prohibited for ref layers'))}),c.layers.forEach(function(he){pi(he.id)===Z&&(m=he)}),m?m.ref?e.push(new fe(a,i.ref,"ref cannot reference another ref layer")):S=pi(m.type):e.push(new fe(a,i.ref,'ref layer "'+Z+'" not found'));else if("background"!==S)if(i.source){var Bt=c.sources&&c.sources[i.source],Nt=Bt&&pi(Bt.type);Bt?"vector"===Nt&&"raster"===S?e.push(new fe(a,i.source,'layer "'+i.id+'" requires a raster source')):"raster"===Nt&&"raster"!==S?e.push(new fe(a,i.source,'layer "'+i.id+'" requires a vector source')):"vector"!==Nt||i["source-layer"]?"raster-dem"===Nt&&"hillshade"!==S?e.push(new fe(a,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==S||!i.paint||!i.paint["line-gradient"]||"geojson"===Nt&&Bt.lineMetrics||e.push(new fe(a,i,'layer "'+i.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new fe(a,i,'layer "'+i.id+'" must specify a "source-layer"')):e.push(new fe(a,i.source,'source "'+i.source+'" not found'))}else e.push(new fe(a,i,'missing required property "source"'));return e=e.concat(Ho({key:a,value:i,valueSpec:p.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return fi({key:a+".type",value:i.type,valueSpec:p.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"})},filter:At,layout:function(he){return Ho({layer:i,key:he.key,value:he.value,style:he.style,styleSpec:he.styleSpec,objectElementValidators:{"*":function(ue){return Xt(ei({layerType:S},ue))}}})},paint:function(he){return Ho({layer:i,key:he.key,value:he.value,style:he.style,styleSpec:he.styleSpec,objectElementValidators:{"*":function(ue){return it(ei({layerType:S},ue))}}})}}}))}function Le(t){var e=t.value,i=t.key,a=ni(e);return"string"!==a?[new fe(i,e,"string expected, "+a+" found")]:[]}var Re={promoteId:function(t){var e=t.key,i=t.value;if("string"===ni(i))return Le({key:e,value:i});var a=[];for(var c in i)a.push.apply(a,Le({key:e+"."+c,value:i[c]}));return a}};function ci(t){var e=t.value,i=t.key,a=t.styleSpec,c=t.style;if(!e.type)return[new fe(i,e,'"type" is required')];var p,m=pi(e.type);switch(m){case"vector":case"raster":case"raster-dem":return Ho({key:i,value:e,valueSpec:a["source_"+m.replace("-","_")],style:t.style,styleSpec:a,objectElementValidators:Re});case"geojson":if(p=Ho({key:i,value:e,valueSpec:a.source_geojson,style:c,styleSpec:a,objectElementValidators:Re}),e.cluster)for(var S in e.clusterProperties){var Z=e.clusterProperties[S],st=Z[0],pt="string"==typeof st?[st,["accumulated"],["get",S]]:st;p.push.apply(p,we({key:i+"."+S+".map",value:Z[1],expressionContext:"cluster-map"})),p.push.apply(p,we({key:i+"."+S+".reduce",value:pt,expressionContext:"cluster-reduce"}))}return p;case"video":return Ho({key:i,value:e,valueSpec:a.source_video,style:c,styleSpec:a});case"image":return Ho({key:i,value:e,valueSpec:a.source_image,style:c,styleSpec:a});case"canvas":return[new fe(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ze({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:c,styleSpec:a})}}function wi(t){var e=t.value,i=t.styleSpec,a=i.light,c=t.style,p=[],m=ni(e);if(void 0===e)return p;if("object"!==m)return p.concat([new fe("light",e,"object expected, "+m+" found")]);for(var S in e){var Z=S.match(/^(.*)-transition$/);p=p.concat(Z&&a[Z[1]]&&a[Z[1]].transition?fi({key:S,value:e[S],valueSpec:i.transition,style:c,styleSpec:i}):a[S]?fi({key:S,value:e[S],valueSpec:a[S],style:c,styleSpec:i}):[new fe(S,e[S],'unknown property "'+S+'"')])}return p}var Oi={"*":function(){return[]},array:ba,boolean:function(t){var e=t.value,i=t.key,a=ni(e);return"boolean"!==a?[new fe(i,e,"boolean expected, "+a+" found")]:[]},number:ma,color:function(t){var e=t.key,i=t.value,a=ni(i);return"string"!==a?[new fe(e,i,"color expected, "+a+" found")]:null===kn(i)?[new fe(e,i,'color expected, "'+i+'" found')]:[]},constants:Oe,enum:ze,filter:At,function:te,layer:Pe,object:Ho,source:ci,light:wi,string:Le,formatted:function(t){return 0===Le(t).length?[]:we(t)},resolvedImage:function(t){return 0===Le(t).length?[]:we(t)}};function fi(t){var e=t.value,i=t.valueSpec,a=t.styleSpec;return i.expression&&Ki(pi(e))?te(t):i.expression&&Ao(He(e))?we(t):i.type&&Oi[i.type]?Oi[i.type](t):Ho(ei({},t,{valueSpec:i.type?a[i.type]:i}))}function Si(t){var e=t.value,i=t.key,a=Le(t);return a.length||(-1===e.indexOf("{fontstack}")&&a.push(new fe(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&a.push(new fe(i,e,'"glyphs" url must include a "{range}" token'))),a}function vn(t,e){void 0===e&&(e=qt);var i=[];return i=i.concat(fi({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Si,"*":function(){return[]}}})),t.constants&&(i=i.concat(Oe({key:"constants",value:t.constants,style:t,styleSpec:e}))),pn(i)}function pn(t){return[].concat(t).sort(function(e,i){return e.line-i.line})}function Cn(t){return function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return pn(t.apply(this,e))}}vn.source=Cn(ci),vn.light=Cn(wi),vn.layer=Cn(Pe),vn.filter=Cn(At),vn.paintProperty=Cn(it),vn.layoutProperty=Cn(Xt);var Mn=vn,Zn=Mn.light,Rr=Mn.paintProperty,Ar=Mn.layoutProperty;function Xn(t,e){var i=!1;if(e&&e.length)for(var a=0,c=e;a<c.length;a+=1)t.fire(new ge(new Error(c[a].message))),i=!0;return i}var er=an;function an(t,e,i){var a=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var c=new Int32Array(this.arrayBuffer);t=c[0],this.d=(e=c[1])+2*(i=c[2]);for(var p=0;p<this.d*this.d;p++){var m=c[3+p],S=c[3+p+1];a.push(m===S?null:c.subarray(m,S))}var Z=c[3+a.length+1];this.keys=c.subarray(c[3+a.length],Z),this.bboxes=c.subarray(Z),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var st=0;st<this.d*this.d;st++)a.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var pt=i/e*t;this.min=-pt,this.max=t+pt}an.prototype.insert=function(t,e,i,a,c){this._forEachCell(e,i,a,c,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(a),this.bboxes.push(c)},an.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},an.prototype._insertCell=function(t,e,i,a,c,p){this.cells[c].push(p)},an.prototype.query=function(t,e,i,a,c){var p=this.min,m=this.max;if(t<=p&&e<=p&&m<=i&&m<=a&&!c)return Array.prototype.slice.call(this.keys);var S=[];return this._forEachCell(t,e,i,a,this._queryCell,S,{},c),S},an.prototype._queryCell=function(t,e,i,a,c,p,m,S){var Z=this.cells[c];if(null!==Z)for(var st=this.keys,pt=this.bboxes,_t=0;_t<Z.length;_t++){var Bt=Z[_t];if(void 0===m[Bt]){var Nt=4*Bt;(S?S(pt[Nt+0],pt[Nt+1],pt[Nt+2],pt[Nt+3]):t<=pt[Nt+2]&&e<=pt[Nt+3]&&i>=pt[Nt+0]&&a>=pt[Nt+1])?(m[Bt]=!0,p.push(st[Bt])):m[Bt]=!1}}},an.prototype._forEachCell=function(t,e,i,a,c,p,m,S){for(var Z=this._convertToCellCoord(t),st=this._convertToCellCoord(e),pt=this._convertToCellCoord(i),_t=this._convertToCellCoord(a),Bt=Z;Bt<=pt;Bt++)for(var Nt=st;Nt<=_t;Nt++){var he=this.d*Nt+Bt;if((!S||S(this._convertFromCellCoord(Bt),this._convertFromCellCoord(Nt),this._convertFromCellCoord(Bt+1),this._convertFromCellCoord(Nt+1)))&&c.call(this,t,e,i,a,he,p,m,S))return}},an.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},an.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},an.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,i=0,a=0;a<this.cells.length;a++)i+=this.cells[a].length;var c=new Int32Array(e+i+this.keys.length+this.bboxes.length);c[0]=this.extent,c[1]=this.n,c[2]=this.padding;for(var p=e,m=0;m<t.length;m++){var S=t[m];c[3+m]=p,c.set(S,p),p+=S.length}return c[3+t.length]=p,c.set(this.keys,p),c[3+t.length+1]=p+=this.keys.length,c.set(this.bboxes,p),p+=this.bboxes.length,c.buffer};var ir=b.ImageData,Er=b.ImageBitmap,In={};function gi(t,e,i){void 0===i&&(i={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),In[t]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}for(var gr in gi("Object",Object),er.serialize=function(t,e){var i=t.toArrayBuffer();return e&&e.push(i),{buffer:i}},er.deserialize=function(t){return new er(t.buffer)},gi("Grid",er),gi("Color",Gi),gi("Error",Error),gi("ResolvedImage",io),gi("StylePropertyFunction",Xs),gi("StyleExpression",ks,{omit:["_evaluator"]}),gi("ZoomDependentExpression",es),gi("ZoomConstantExpression",Cr),gi("CompoundExpression",Wr,{omit:["_evaluate"]}),Fs)Fs[gr]._classRegistryKey||gi("Expression_"+gr,Fs[gr]);function is(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function ns(t){return Er&&t instanceof Er}function Xr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(is(t)||ns(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var i=t;return e&&e.push(i.buffer),i}if(t instanceof ir)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var a=[],c=0,p=t;c<p.length;c+=1)a.push(Xr(p[c],e));return a}if("object"==typeof t){var m=t.constructor,S=m._classRegistryKey;if(!S)throw new Error("can't serialize object of unregistered class");var Z=m.serialize?m.serialize(t,e):{};if(!m.serialize){for(var st in t)if(t.hasOwnProperty(st)&&!(In[S].omit.indexOf(st)>=0)){var pt=t[st];Z[st]=In[S].shallow.indexOf(st)>=0?pt:Xr(pt,e)}t instanceof Error&&(Z.message=t.message)}if(Z.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==S&&(Z.$name=S),Z}throw new Error("can't serialize object of type "+typeof t)}function Yr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||is(t)||ns(t)||ArrayBuffer.isView(t)||t instanceof ir)return t;if(Array.isArray(t))return t.map(Yr);if("object"==typeof t){var e=t.$name||"Object",i=In[e].klass;if(!i)throw new Error("can't deserialize unregistered class "+e);if(i.deserialize)return i.deserialize(t);for(var a=Object.create(i.prototype),c=0,p=Object.keys(t);c<p.length;c+=1){var m=p[c];if("$name"!==m){var S=t[m];a[m]=In[e].shallow.indexOf(m)>=0?S:Yr(S)}}return a}throw new Error("can't deserialize object of type "+typeof t)}var Wo=function(){this.first=!0};Wo.prototype.update=function(t,e){var i=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=i,!0))};var vi={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Ms(t){for(var e=0,i=t;e<i.length;e+=1)if(xs(i[e].charCodeAt(0)))return!0;return!1}function xs(t){return!(746!==t&&747!==t&&(t<4352||!(vi["Bopomofo Extended"](t)||vi.Bopomofo(t)||vi["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||vi["CJK Compatibility Ideographs"](t)||vi["CJK Compatibility"](t)||vi["CJK Radicals Supplement"](t)||vi["CJK Strokes"](t)||!(!vi["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||vi["CJK Unified Ideographs Extension A"](t)||vi["CJK Unified Ideographs"](t)||vi["Enclosed CJK Letters and Months"](t)||vi["Hangul Compatibility Jamo"](t)||vi["Hangul Jamo Extended-A"](t)||vi["Hangul Jamo Extended-B"](t)||vi["Hangul Jamo"](t)||vi["Hangul Syllables"](t)||vi.Hiragana(t)||vi["Ideographic Description Characters"](t)||vi.Kanbun(t)||vi["Kangxi Radicals"](t)||vi["Katakana Phonetic Extensions"](t)||vi.Katakana(t)&&12540!==t||!(!vi["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!vi["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||vi["Unified Canadian Aboriginal Syllabics"](t)||vi["Unified Canadian Aboriginal Syllabics Extended"](t)||vi["Vertical Forms"](t)||vi["Yijing Hexagram Symbols"](t)||vi["Yi Syllables"](t)||vi["Yi Radicals"](t))))}function sa(t){return!(xs(t)||(e=t,vi["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||vi["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||vi["Letterlike Symbols"](e)||vi["Number Forms"](e)||vi["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||vi["Control Pictures"](e)&&9251!==e||vi["Optical Character Recognition"](e)||vi["Enclosed Alphanumerics"](e)||vi["Geometric Shapes"](e)||vi["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||vi["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||vi["CJK Symbols and Punctuation"](e)||vi.Katakana(e)||vi["Private Use Area"](e)||vi["CJK Compatibility Forms"](e)||vi["Small Form Variants"](e)||vi["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e));var e}function Ir(t){return t>=1424&&t<=2303||vi["Arabic Presentation Forms-A"](t)||vi["Arabic Presentation Forms-B"](t)}function Qn(t,e){return!(!e&&Ir(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||vi.Khmer(t))}function Bo(t){for(var e=0,i=t;e<i.length;e+=1)if(Ir(i[e].charCodeAt(0)))return!0;return!1}var as=null,vo="unavailable",Ps=null,rl=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(vo="error"),as&&as(t)};function wa(){Sa.fire(new oe("pluginStateChange",{pluginStatus:vo,pluginURL:Ps}))}var Sa=new Te,ol=function(){return vo},Ys=function(){if("deferred"!==vo||!Ps)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");vo="loading",wa(),Ps&&rn({url:Ps},function(t){t?rl(t):(vo="loaded",wa())})},ls={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===vo||null!=ls.applyArabicShaping},isLoading:function(){return"loading"===vo},setState:function(t){vo=t.pluginStatus,Ps=t.pluginURL},isParsed:function(){return null!=ls.applyArabicShaping&&null!=ls.processBidirectionalText&&null!=ls.processStyledBidirectionalText},getPluginURL:function(){return Ps}},Hn=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wo,this.transition={})};Hn.prototype.isSupportedScript=function(t){return function(e,i){for(var a=0,c=e;a<c.length;a+=1)if(!Qn(c[a].charCodeAt(0),i))return!1;return!0}(t,ls.isLoaded())},Hn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Hn.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),i=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*e}};var Us=function(t,e){this.property=t,this.value=e,this.expression=function(i,a){if(Ki(i))return new Xs(i,a);if(Ao(i)){var c=ps(i,a);if("error"===c.result)throw new Error(c.value.map(function(m){return m.key+": "+m.message}).join(", "));return c.value}var p=i;return"string"==typeof i&&"color"===a.type&&(p=Gi.parse(i)),{kind:"constant",evaluate:function(){return p}}}(void 0===e?t.specification.default:e,t.specification)};Us.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Us.prototype.possiblyEvaluate=function(t,e,i){return this.property.possiblyEvaluate(this,t,e,i)};var Vs=function(t){this.property=t,this.value=new Us(t,void 0)};Vs.prototype.transitioned=function(t,e){return new aa(this.property,this.value,e,B({},t.transition,this.transition),t.now)},Vs.prototype.untransitioned=function(){return new aa(this.property,this.value,null,{},0)};var Lo=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Lo.prototype.getValue=function(t){return M(this._values[t].value.value)},Lo.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Vs(this._values[t].property)),this._values[t].value=new Us(this._values[t].property,null===e?void 0:M(e))},Lo.prototype.getTransition=function(t){return M(this._values[t].transition)},Lo.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Vs(this._values[t].property)),this._values[t].transition=M(e)||void 0},Lo.prototype.serialize=function(){for(var t={},e=0,i=Object.keys(this._values);e<i.length;e+=1){var a=i[e],c=this.getValue(a);void 0!==c&&(t[a]=c);var p=this.getTransition(a);void 0!==p&&(t[a+"-transition"]=p)}return t},Lo.prototype.transitioned=function(t,e){for(var i=new la(this._properties),a=0,c=Object.keys(this._values);a<c.length;a+=1){var p=c[a];i._values[p]=this._values[p].transitioned(t,e._values[p])}return i},Lo.prototype.untransitioned=function(){for(var t=new la(this._properties),e=0,i=Object.keys(this._values);e<i.length;e+=1){var a=i[e];t._values[a]=this._values[a].untransitioned()}return t};var aa=function(t,e,i,a,c){this.property=t,this.value=e,this.begin=c+a.delay||0,this.end=this.begin+a.duration||0,t.specification.transition&&(a.delay||a.duration)&&(this.prior=i)};aa.prototype.possiblyEvaluate=function(t,e,i){var a=t.now||0,c=this.value.possiblyEvaluate(t,e,i),p=this.prior;if(p){if(a>this.end)return this.prior=null,c;if(this.value.isDataDriven())return this.prior=null,c;if(a<this.begin)return p.possiblyEvaluate(t,e,i);var m=(a-this.begin)/(this.end-this.begin);return this.property.interpolate(p.possiblyEvaluate(t,e,i),c,function(S){if(S<=0)return 0;if(S>=1)return 1;var Z=S*S,st=Z*S;return 4*(S<.5?st:3*(S-Z)+st-.75)}(m))}return c};var la=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};la.prototype.possiblyEvaluate=function(t,e,i){for(var a=new ha(this._properties),c=0,p=Object.keys(this._values);c<p.length;c+=1){var m=p[c];a._values[m]=this._values[m].possiblyEvaluate(t,e,i)}return a},la.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var qs=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};qs.prototype.getValue=function(t){return M(this._values[t].value)},qs.prototype.setValue=function(t,e){this._values[t]=new Us(this._values[t].property,null===e?void 0:M(e))},qs.prototype.serialize=function(){for(var t={},e=0,i=Object.keys(this._values);e<i.length;e+=1){var a=i[e],c=this.getValue(a);void 0!==c&&(t[a]=c)}return t},qs.prototype.possiblyEvaluate=function(t,e,i){for(var a=new ha(this._properties),c=0,p=Object.keys(this._values);c<p.length;c+=1){var m=p[c];a._values[m]=this._values[m].possiblyEvaluate(t,e,i)}return a};var lo=function(t,e,i){this.property=t,this.value=e,this.parameters=i};lo.prototype.isConstant=function(){return"constant"===this.value.kind},lo.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},lo.prototype.evaluate=function(t,e,i,a){return this.property.evaluate(this.value,this.parameters,t,e,i,a)};var ha=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};ha.prototype.get=function(t){return this._values[t]};var Ji=function(t){this.specification=t};Ji.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Ji.prototype.interpolate=function(t,e,i){var a=Wi[this.specification.type];return a?a(t,e,i):t};var Xi=function(t,e){this.specification=t,this.overrides=e};Xi.prototype.possiblyEvaluate=function(t,e,i,a){return new lo(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},i,a)}:t.expression,e)},Xi.prototype.interpolate=function(t,e,i){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new lo(this,{kind:"constant",value:void 0},t.parameters);var a=Wi[this.specification.type];return a?new lo(this,{kind:"constant",value:a(t.value.value,e.value.value,i)},t.parameters):t},Xi.prototype.evaluate=function(t,e,i,a,c,p){return"constant"===t.kind?t.value:t.evaluate(e,i,a,c,p)};var Ta=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(i,a,c,p){if(void 0===i.value)return new lo(this,{kind:"constant",value:void 0},a);if("constant"===i.expression.kind){var m=i.expression.evaluate(a,null,{},c,p),S="resolvedImage"===i.property.specification.type&&"string"!=typeof m?m.name:m,Z=this._calculate(S,S,S,a);return new lo(this,{kind:"constant",value:Z},a)}if("camera"===i.expression.kind){var st=this._calculate(i.expression.evaluate({zoom:a.zoom-1}),i.expression.evaluate({zoom:a.zoom}),i.expression.evaluate({zoom:a.zoom+1}),a);return new lo(this,{kind:"constant",value:st},a)}return new lo(this,i.expression,a)},e.prototype.evaluate=function(i,a,c,p,m,S){if("source"===i.kind){var Z=i.evaluate(a,c,p,m,S);return this._calculate(Z,Z,Z,a)}return"composite"===i.kind?this._calculate(i.evaluate({zoom:Math.floor(a.zoom)-1},c,p),i.evaluate({zoom:Math.floor(a.zoom)},c,p),i.evaluate({zoom:Math.floor(a.zoom)+1},c,p),a):i.value},e.prototype._calculate=function(i,a,c,p){return p.zoom>p.zoomHistory.lastIntegerZoom?{from:i,to:a}:{from:c,to:a}},e.prototype.interpolate=function(i){return i},e}(Xi),Xo=function(t){this.specification=t};Xo.prototype.possiblyEvaluate=function(t,e,i,a){if(void 0!==t.value){if("constant"===t.expression.kind){var c=t.expression.evaluate(e,null,{},i,a);return this._calculate(c,c,c,e)}return this._calculate(t.expression.evaluate(new Hn(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Hn(Math.floor(e.zoom),e)),t.expression.evaluate(new Hn(Math.floor(e.zoom+1),e)),e)}},Xo.prototype._calculate=function(t,e,i,a){return a.zoom>a.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}},Xo.prototype.interpolate=function(t){return t};var Ls=function(t){this.specification=t};Ls.prototype.possiblyEvaluate=function(t,e,i,a){return!!t.expression.evaluate(e,null,{},i,a)},Ls.prototype.interpolate=function(){return!1};var Io=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var i=t[e];i.specification.overridable&&this.overridableProperties.push(e);var a=this.defaultPropertyValues[e]=new Us(i,void 0),c=this.defaultTransitionablePropertyValues[e]=new Vs(i);this.defaultTransitioningPropertyValues[e]=c.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=a.possiblyEvaluate({})}};gi("DataDrivenProperty",Xi),gi("DataConstantProperty",Ji),gi("CrossFadedDataDrivenProperty",Ta),gi("CrossFadedProperty",Xo),gi("ColorRampProperty",Ls);var Zs=function(t){function e(i,a){if(t.call(this),this.id=i.id,this.type=i.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==i.type&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,"background"!==i.type&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),a.layout&&(this._unevaluatedLayout=new qs(a.layout)),a.paint)){for(var c in this._transitionablePaint=new Lo(a.paint),i.paint)this.setPaintProperty(c,i.paint[c],{validate:!1});for(var p in i.layout)this.setLayoutProperty(p,i.layout[p],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ha(a.paint)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(i){return"visibility"===i?this.visibility:this._unevaluatedLayout.getValue(i)},e.prototype.setLayoutProperty=function(i,a,c){void 0===c&&(c={}),null!=a&&this._validate(Ar,"layers."+this.id+".layout."+i,i,a,c)||("visibility"!==i?this._unevaluatedLayout.setValue(i,a):this.visibility=a)},e.prototype.getPaintProperty=function(i){return mt(i,"-transition")?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)},e.prototype.setPaintProperty=function(i,a,c){if(void 0===c&&(c={}),null!=a&&this._validate(Rr,"layers."+this.id+".paint."+i,i,a,c))return!1;if(mt(i,"-transition"))return this._transitionablePaint.setTransition(i.slice(0,-11),a||void 0),!1;var p=this._transitionablePaint._values[i],m="cross-faded-data-driven"===p.property.specification["property-type"],S=p.value.isDataDriven(),Z=p.value;this._transitionablePaint.setValue(i,a),this._handleSpecialPaintPropertyUpdate(i);var st=this._transitionablePaint._values[i].value;return st.isDataDriven()||S||m||this._handleOverridablePaintPropertyUpdate(i,Z,st)},e.prototype._handleSpecialPaintPropertyUpdate=function(i){},e.prototype._handleOverridablePaintPropertyUpdate=function(i,a,c){return!1},e.prototype.isHidden=function(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(i,a){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,a)},e.prototype.serialize=function(){var i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),ft(i,function(a,c){return!(void 0===a||"layout"===c&&!Object.keys(a).length||"paint"===c&&!Object.keys(a).length)})},e.prototype._validate=function(i,a,c,p,m){return void 0===m&&(m={}),(!m||!1!==m.validate)&&Xn(this,i.call(Mn,{key:a,layerType:this.type,objectKey:c,value:p,styleSpec:qt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var i in this.paint._values){var a=this.paint.get(i);if(a instanceof lo&&ke(a.property.specification)&&("source"===a.value.kind||"composite"===a.value.kind)&&a.value.isStateDependent)return!0}return!1},e}(Te),sl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Wa=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},cr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Eo(t,e){void 0===e&&(e=1);var i=0,a=0;return{members:t.map(function(c){var p=sl[c.type].BYTES_PER_ELEMENT,m=i=Eh(i,Math.max(e,p)),S=c.components||1;return a=Math.max(a,p),i+=p*S,{name:c.name,type:c.type,components:S,offset:m}}),size:Eh(i,Math.max(a,e)),alignment:e}}function Eh(t,e){return Math.ceil(t/e)*e}cr.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},cr.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},cr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},cr.prototype.clear=function(){this.length=0},cr.prototype.resize=function(t){this.reserve(t),this.length=t},cr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},cr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ba=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a){var c=this.length;return this.resize(c+1),this.emplace(c,i,a)},e.prototype.emplace=function(i,a,c){var p=2*i;return this.int16[p+0]=a,this.int16[p+1]=c,i},e}(cr);Ba.prototype.bytesPerElement=4,gi("StructArrayLayout2i4",Ba);var Jl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p){var m=this.length;return this.resize(m+1),this.emplace(m,i,a,c,p)},e.prototype.emplace=function(i,a,c,p,m){var S=4*i;return this.int16[S+0]=a,this.int16[S+1]=c,this.int16[S+2]=p,this.int16[S+3]=m,i},e}(cr);Jl.prototype.bytesPerElement=8,gi("StructArrayLayout4i8",Jl);var ya=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m,S){var Z=this.length;return this.resize(Z+1),this.emplace(Z,i,a,c,p,m,S)},e.prototype.emplace=function(i,a,c,p,m,S,Z){var st=6*i;return this.int16[st+0]=a,this.int16[st+1]=c,this.int16[st+2]=p,this.int16[st+3]=m,this.int16[st+4]=S,this.int16[st+5]=Z,i},e}(cr);ya.prototype.bytesPerElement=12,gi("StructArrayLayout2i4i12",ya);var Is=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m,S){var Z=this.length;return this.resize(Z+1),this.emplace(Z,i,a,c,p,m,S)},e.prototype.emplace=function(i,a,c,p,m,S,Z){var st=4*i,pt=8*i;return this.int16[st+0]=a,this.int16[st+1]=c,this.uint8[pt+4]=p,this.uint8[pt+5]=m,this.uint8[pt+6]=S,this.uint8[pt+7]=Z,i},e}(cr);Is.prototype.bytesPerElement=8,gi("StructArrayLayout2i4ub8",Is);var Xa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a){var c=this.length;return this.resize(c+1),this.emplace(c,i,a)},e.prototype.emplace=function(i,a,c){var p=2*i;return this.float32[p+0]=a,this.float32[p+1]=c,i},e}(cr);Xa.prototype.bytesPerElement=8,gi("StructArrayLayout2f8",Xa);var ua=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m,S,Z,st,pt,_t){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,i,a,c,p,m,S,Z,st,pt,_t)},e.prototype.emplace=function(i,a,c,p,m,S,Z,st,pt,_t,Bt){var Nt=10*i;return this.uint16[Nt+0]=a,this.uint16[Nt+1]=c,this.uint16[Nt+2]=p,this.uint16[Nt+3]=m,this.uint16[Nt+4]=S,this.uint16[Nt+5]=Z,this.uint16[Nt+6]=st,this.uint16[Nt+7]=pt,this.uint16[Nt+8]=_t,this.uint16[Nt+9]=Bt,i},e}(cr);ua.prototype.bytesPerElement=20,gi("StructArrayLayout10ui20",ua);var xl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt){var he=this.length;return this.resize(he+1),this.emplace(he,i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt)},e.prototype.emplace=function(i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he){var ue=12*i;return this.int16[ue+0]=a,this.int16[ue+1]=c,this.int16[ue+2]=p,this.int16[ue+3]=m,this.uint16[ue+4]=S,this.uint16[ue+5]=Z,this.uint16[ue+6]=st,this.uint16[ue+7]=pt,this.int16[ue+8]=_t,this.int16[ue+9]=Bt,this.int16[ue+10]=Nt,this.int16[ue+11]=he,i},e}(cr);xl.prototype.bytesPerElement=24,gi("StructArrayLayout4i4ui4i24",xl);var Ya=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c){var p=this.length;return this.resize(p+1),this.emplace(p,i,a,c)},e.prototype.emplace=function(i,a,c,p){var m=3*i;return this.float32[m+0]=a,this.float32[m+1]=c,this.float32[m+2]=p,i},e}(cr);Ya.prototype.bytesPerElement=12,gi("StructArrayLayout3f12",Ya);var al=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i){var a=this.length;return this.resize(a+1),this.emplace(a,i)},e.prototype.emplace=function(i,a){return this.uint32[1*i+0]=a,i},e}(cr);al.prototype.bytesPerElement=4,gi("StructArrayLayout1ul4",al);var $l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m,S,Z,st,pt){var _t=this.length;return this.resize(_t+1),this.emplace(_t,i,a,c,p,m,S,Z,st,pt)},e.prototype.emplace=function(i,a,c,p,m,S,Z,st,pt,_t){var Bt=10*i,Nt=5*i;return this.int16[Bt+0]=a,this.int16[Bt+1]=c,this.int16[Bt+2]=p,this.int16[Bt+3]=m,this.int16[Bt+4]=S,this.int16[Bt+5]=Z,this.uint32[Nt+3]=st,this.uint16[Bt+8]=pt,this.uint16[Bt+9]=_t,i},e}(cr);$l.prototype.bytesPerElement=20,gi("StructArrayLayout6i1ul2ui20",$l);var Ka=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m,S){var Z=this.length;return this.resize(Z+1),this.emplace(Z,i,a,c,p,m,S)},e.prototype.emplace=function(i,a,c,p,m,S,Z){var st=6*i;return this.int16[st+0]=a,this.int16[st+1]=c,this.int16[st+2]=p,this.int16[st+3]=m,this.int16[st+4]=S,this.int16[st+5]=Z,i},e}(cr);Ka.prototype.bytesPerElement=12,gi("StructArrayLayout2i2i2i12",Ka);var ja=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m){var S=this.length;return this.resize(S+1),this.emplace(S,i,a,c,p,m)},e.prototype.emplace=function(i,a,c,p,m,S){var Z=4*i,st=8*i;return this.float32[Z+0]=a,this.float32[Z+1]=c,this.float32[Z+2]=p,this.int16[st+6]=m,this.int16[st+7]=S,i},e}(cr);ja.prototype.bytesPerElement=16,gi("StructArrayLayout2f1f2i16",ja);var Ql=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p){var m=this.length;return this.resize(m+1),this.emplace(m,i,a,c,p)},e.prototype.emplace=function(i,a,c,p,m){var S=12*i,Z=3*i;return this.uint8[S+0]=a,this.uint8[S+1]=c,this.float32[Z+1]=p,this.float32[Z+2]=m,i},e}(cr);Ql.prototype.bytesPerElement=12,gi("StructArrayLayout2ub2f12",Ql);var Ca=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c){var p=this.length;return this.resize(p+1),this.emplace(p,i,a,c)},e.prototype.emplace=function(i,a,c,p){var m=3*i;return this.uint16[m+0]=a,this.uint16[m+1]=c,this.uint16[m+2]=p,i},e}(cr);Ca.prototype.bytesPerElement=6,gi("StructArrayLayout3ui6",Ca);var Aa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he,ue,be,ye,Ie){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he,ue,be,ye,Ie)},e.prototype.emplace=function(i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he,ue,be,ye,Ie,Ne){var We=24*i,Ye=12*i,ri=48*i;return this.int16[We+0]=a,this.int16[We+1]=c,this.uint16[We+2]=p,this.uint16[We+3]=m,this.uint32[Ye+2]=S,this.uint32[Ye+3]=Z,this.uint32[Ye+4]=st,this.uint16[We+10]=pt,this.uint16[We+11]=_t,this.uint16[We+12]=Bt,this.float32[Ye+7]=Nt,this.float32[Ye+8]=he,this.uint8[ri+36]=ue,this.uint8[ri+37]=be,this.uint8[ri+38]=ye,this.uint32[Ye+10]=Ie,this.int16[We+22]=Ne,i},e}(cr);Aa.prototype.bytesPerElement=48,gi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Aa);var bl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he,ue,be,ye,Ie,Ne,We,Ye,ri,xi,zi,$i,Fi,tn,Ui,Nn){var un=this.length;return this.resize(un+1),this.emplace(un,i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he,ue,be,ye,Ie,Ne,We,Ye,ri,xi,zi,$i,Fi,tn,Ui,Nn)},e.prototype.emplace=function(i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he,ue,be,ye,Ie,Ne,We,Ye,ri,xi,zi,$i,Fi,tn,Ui,Nn,un){var Yi=34*i,Wn=17*i;return this.int16[Yi+0]=a,this.int16[Yi+1]=c,this.int16[Yi+2]=p,this.int16[Yi+3]=m,this.int16[Yi+4]=S,this.int16[Yi+5]=Z,this.int16[Yi+6]=st,this.int16[Yi+7]=pt,this.uint16[Yi+8]=_t,this.uint16[Yi+9]=Bt,this.uint16[Yi+10]=Nt,this.uint16[Yi+11]=he,this.uint16[Yi+12]=ue,this.uint16[Yi+13]=be,this.uint16[Yi+14]=ye,this.uint16[Yi+15]=Ie,this.uint16[Yi+16]=Ne,this.uint16[Yi+17]=We,this.uint16[Yi+18]=Ye,this.uint16[Yi+19]=ri,this.uint16[Yi+20]=xi,this.uint16[Yi+21]=zi,this.uint16[Yi+22]=$i,this.uint32[Wn+12]=Fi,this.float32[Wn+13]=tn,this.float32[Wn+14]=Ui,this.float32[Wn+15]=Nn,this.float32[Wn+16]=un,i},e}(cr);bl.prototype.bytesPerElement=68,gi("StructArrayLayout8i15ui1ul4f68",bl);var Ea=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i){var a=this.length;return this.resize(a+1),this.emplace(a,i)},e.prototype.emplace=function(i,a){return this.float32[1*i+0]=a,i},e}(cr);Ea.prototype.bytesPerElement=4,gi("StructArrayLayout1f4",Ea);var Ks=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c){var p=this.length;return this.resize(p+1),this.emplace(p,i,a,c)},e.prototype.emplace=function(i,a,c,p){var m=3*i;return this.int16[m+0]=a,this.int16[m+1]=c,this.int16[m+2]=p,i},e}(cr);Ks.prototype.bytesPerElement=6,gi("StructArrayLayout3i6",Ks);var th=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c){var p=this.length;return this.resize(p+1),this.emplace(p,i,a,c)},e.prototype.emplace=function(i,a,c,p){var m=4*i;return this.uint32[2*i+0]=a,this.uint16[m+2]=c,this.uint16[m+3]=p,i},e}(cr);th.prototype.bytesPerElement=8,gi("StructArrayLayout1ul2ui8",th);var ll=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a){var c=this.length;return this.resize(c+1),this.emplace(c,i,a)},e.prototype.emplace=function(i,a,c){var p=2*i;return this.uint16[p+0]=a,this.uint16[p+1]=c,i},e}(cr);ll.prototype.bytesPerElement=4,gi("StructArrayLayout2ui4",ll);var eh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i){var a=this.length;return this.resize(a+1),this.emplace(a,i)},e.prototype.emplace=function(i,a){return this.uint16[1*i+0]=a,i},e}(cr);eh.prototype.bytesPerElement=2,gi("StructArrayLayout1ui2",eh);var wl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(i,a,c,p){var m=this.length;return this.resize(m+1),this.emplace(m,i,a,c,p)},e.prototype.emplace=function(i,a,c,p,m){var S=4*i;return this.float32[S+0]=a,this.float32[S+1]=c,this.float32[S+2]=p,this.float32[S+3]=m,i},e}(cr);wl.prototype.bytesPerElement=16,gi("StructArrayLayout4f16",wl);var n=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return i.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},i.x1.get=function(){return this._structArray.int16[this._pos2+2]},i.y1.get=function(){return this._structArray.int16[this._pos2+3]},i.x2.get=function(){return this._structArray.int16[this._pos2+4]},i.y2.get=function(){return this._structArray.int16[this._pos2+5]},i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.anchorPoint.get=function(){return new A(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,i),e}(Wa);n.prototype.size=20;var s=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(i){return new n(this,i)},e}($l);gi("CollisionBoxArray",s);var o=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},i.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},i.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},i.segment.get=function(){return this._structArray.uint16[this._pos2+10]},i.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},i.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},i.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},i.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},i.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},i.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},i.placedOrientation.set=function(a){this._structArray.uint8[this._pos1+37]=a},i.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},i.hidden.set=function(a){this._structArray.uint8[this._pos1+38]=a},i.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},i.crossTileID.set=function(a){this._structArray.uint32[this._pos4+10]=a},i.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,i),e}(Wa);o.prototype.size=48;var l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(i){return new o(this,i)},e}(Aa);gi("PlacedSymbolArray",l);var d=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},i.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},i.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},i.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},i.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},i.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},i.key.get=function(){return this._structArray.uint16[this._pos2+8]},i.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},i.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},i.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},i.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},i.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},i.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},i.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},i.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},i.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},i.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},i.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},i.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},i.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},i.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},i.crossTileID.set=function(a){this._structArray.uint32[this._pos4+12]=a},i.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},i.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},i.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},i.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,i),e}(Wa);d.prototype.size=68;var v=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(i){return new d(this,i)},e}(bl);gi("SymbolInstanceArray",v);var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(i){return this.float32[1*i+0]},e}(Ea);gi("GlyphOffsetArray",w);var N=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(i){return this.int16[3*i+0]},e.prototype.gety=function(i){return this.int16[3*i+1]},e.prototype.gettileUnitDistanceFromAnchor=function(i){return this.int16[3*i+2]},e}(Ks);gi("SymbolLineVertexArray",N);var ut=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,i),e}(Wa);ut.prototype.size=8;var bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(i){return new ut(this,i)},e}(th);gi("FeatureIndexArray",bt);var Zt=Eo([{name:"a_pos",components:2,type:"Int16"}],4).members,Wt=function(t){void 0===t&&(t=[]),this.segments=t};function Kt(t,e){return 256*(t=Q(Math.floor(t),0,255))+Q(Math.floor(e),0,255)}Wt.prototype.prepareSegment=function(t,e,i,a){var c=this.segments[this.segments.length-1];return t>Wt.MAX_VERTEX_ARRAY_LENGTH&&X("Max vertices per segment is "+Wt.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!c||c.vertexLength+t>Wt.MAX_VERTEX_ARRAY_LENGTH||c.sortKey!==a)&&(c={vertexOffset:e.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},void 0!==a&&(c.sortKey=a),this.segments.push(c)),c},Wt.prototype.get=function(){return this.segments},Wt.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var i=e[t];for(var a in i.vaos)i.vaos[a].destroy()}},Wt.simpleSegment=function(t,e,i,a){return new Wt([{vertexOffset:t,primitiveOffset:e,vertexLength:i,primitiveLength:a,vaos:{},sortKey:0}])},Wt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,gi("SegmentVector",Wt);var me=Eo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ce=rt(function(t){t.exports=function(e,i){var a,c,p,m,S,Z,st,pt;for(c=e.length-(a=3&e.length),p=i,S=3432918353,Z=461845907,pt=0;pt<c;)st=255&e.charCodeAt(pt)|(255&e.charCodeAt(++pt))<<8|(255&e.charCodeAt(++pt))<<16|(255&e.charCodeAt(++pt))<<24,++pt,p=27492+(65535&(m=5*(65535&(p=(p^=st=(65535&(st=(st=(65535&st)*S+(((st>>>16)*S&65535)<<16)&4294967295)<<15|st>>>17))*Z+(((st>>>16)*Z&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(m>>>16)&65535)<<16);switch(st=0,a){case 3:st^=(255&e.charCodeAt(pt+2))<<16;case 2:st^=(255&e.charCodeAt(pt+1))<<8;case 1:p^=st=(65535&(st=(st=(65535&(st^=255&e.charCodeAt(pt)))*S+(((st>>>16)*S&65535)<<16)&4294967295)<<15|st>>>17))*Z+(((st>>>16)*Z&65535)<<16)&4294967295}return p^=e.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0}}),_e=rt(function(t){t.exports=function(e,i){for(var a,c=e.length,p=i^c,m=0;c>=4;)a=1540483477*(65535&(a=255&e.charCodeAt(m)|(255&e.charCodeAt(++m))<<8|(255&e.charCodeAt(++m))<<16|(255&e.charCodeAt(++m))<<24))+((1540483477*(a>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),c-=4,++m;switch(c){case 3:p^=(255&e.charCodeAt(m+2))<<16;case 2:p^=(255&e.charCodeAt(m+1))<<8;case 1:p=1540483477*(65535&(p^=255&e.charCodeAt(m)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0}}),ae=ce,ve=_e;ae.murmur3=ce,ae.murmur2=ve;var Ae=function(){this.ids=[],this.positions=[],this.indexed=!1};Ae.prototype.add=function(t,e,i,a){this.ids.push(Qe(t)),this.positions.push(e,i,a)},Ae.prototype.getPositions=function(t){for(var e=Qe(t),i=0,a=this.ids.length-1;i<a;){var c=i+a>>1;this.ids[c]>=e?a=c:i=c+1}for(var p=[];this.ids[i]===e;)p.push({index:this.positions[3*i],start:this.positions[3*i+1],end:this.positions[3*i+2]}),i++;return p},Ae.serialize=function(t,e){var i=new Float64Array(t.ids),a=new Uint32Array(t.positions);return function c(p,m,S,Z){for(;S<Z;){for(var st=p[S+Z>>1],pt=S-1,_t=Z+1;;){do{pt++}while(p[pt]<st);do{_t--}while(p[_t]>st);if(pt>=_t)break;Xe(p,pt,_t),Xe(m,3*pt,3*_t),Xe(m,3*pt+1,3*_t+1),Xe(m,3*pt+2,3*_t+2)}_t-S<Z-_t?(c(p,m,S,_t),S=_t+1):(c(p,m,_t+1,Z),Z=_t)}}(i,a,0,i.length-1),e&&e.push(i.buffer,a.buffer),{ids:i,positions:a}},Ae.deserialize=function(t){var e=new Ae;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var Be=Math.pow(2,53)-1;function Qe(t){var e=+t;return!isNaN(e)&&e<=Be?e:ae(String(t))}function Xe(t,e,i){var a=t[e];t[e]=t[i],t[i]=a}gi("FeaturePositionMap",Ae);var ti=function(t,e){this.gl=t.gl,this.location=e},di=function(t){function e(i,a){t.call(this,i,a),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(i){this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i))},e}(ti),Ei=function(t){function e(i,a){t.call(this,i,a),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))},e}(ti),Ti=function(t){function e(i,a){t.call(this,i,a),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(i){i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1]))},e}(ti),qi=function(t){function e(i,a){t.call(this,i,a),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2]))},e}(ti),Qi=function(t){function e(i,a){t.call(this,i,a),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))},e}(ti),on=function(t){function e(i,a){t.call(this,i,a),this.current=Gi.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))},e}(ti),nn=new Float32Array(16),ar=function(t){function e(i,a){t.call(this,i,a),this.current=nn}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(i){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(var a=1;a<16;a++)if(i[a]!==this.current[a]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}},e}(ti);function Zi(t){return[Kt(255*t.r,255*t.g),Kt(255*t.b,255*t.a)]}var wn=function(t,e,i){this.value=t,this.uniformNames=e.map(function(a){return"u_"+a}),this.type=i};wn.prototype.setUniform=function(t,e,i){t.set(i.constantOr(this.value))},wn.prototype.getBinding=function(t,e,i){return"color"===this.type?new on(t,e):new Ei(t,e)};var Bn=function(t,e){this.uniformNames=e.map(function(i){return"u_"+i}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Bn.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},Bn.prototype.setUniform=function(t,e,i,a){var c="u_pattern_to"===a?this.patternTo:"u_pattern_from"===a?this.patternFrom:"u_pixel_ratio_to"===a?this.pixelRatioTo:"u_pixel_ratio_from"===a?this.pixelRatioFrom:null;c&&t.set(c)},Bn.prototype.getBinding=function(t,e,i){return"u_pattern"===i.substr(0,9)?new Qi(t,e):new Ei(t,e)};var _n=function(t,e,i,a){this.expression=t,this.type=i,this.maxValue=0,this.paintVertexAttributes=e.map(function(c){return{name:"a_"+c,type:"Float32",components:"color"===i?2:1,offset:0}}),this.paintVertexArray=new a};_n.prototype.populatePaintArray=function(t,e,i,a,c){var p=this.paintVertexArray.length,m=this.expression.evaluate(new Hn(0),e,{},a,[],c);this.paintVertexArray.resize(t),this._setPaintValue(p,t,m)},_n.prototype.updatePaintArray=function(t,e,i,a){var c=this.expression.evaluate({zoom:0},i,a);this._setPaintValue(t,e,c)},_n.prototype._setPaintValue=function(t,e,i){if("color"===this.type)for(var a=Zi(i),c=t;c<e;c++)this.paintVertexArray.emplace(c,a[0],a[1]);else{for(var p=t;p<e;p++)this.paintVertexArray.emplace(p,i);this.maxValue=Math.max(this.maxValue,Math.abs(i))}},_n.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},_n.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var gn=function(t,e,i,a,c,p){this.expression=t,this.uniformNames=e.map(function(m){return"u_"+m+"_t"}),this.type=i,this.useIntegerZoom=a,this.zoom=c,this.maxValue=0,this.paintVertexAttributes=e.map(function(m){return{name:"a_"+m,type:"Float32",components:"color"===i?4:2,offset:0}}),this.paintVertexArray=new p};gn.prototype.populatePaintArray=function(t,e,i,a,c){var p=this.expression.evaluate(new Hn(this.zoom),e,{},a,[],c),m=this.expression.evaluate(new Hn(this.zoom+1),e,{},a,[],c),S=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(S,t,p,m)},gn.prototype.updatePaintArray=function(t,e,i,a){var c=this.expression.evaluate({zoom:this.zoom},i,a),p=this.expression.evaluate({zoom:this.zoom+1},i,a);this._setPaintValue(t,e,c,p)},gn.prototype._setPaintValue=function(t,e,i,a){if("color"===this.type)for(var c=Zi(i),p=Zi(a),m=t;m<e;m++)this.paintVertexArray.emplace(m,c[0],c[1],p[0],p[1]);else{for(var S=t;S<e;S++)this.paintVertexArray.emplace(S,i,a);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(a))}},gn.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},gn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},gn.prototype.setUniform=function(t,e){var i=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,a=Q(this.expression.interpolationFactor(i,this.zoom,this.zoom+1),0,1);t.set(a)},gn.prototype.getBinding=function(t,e,i){return new Ei(t,e)};var Dn=function(t,e,i,a,c,p){this.expression=t,this.type=e,this.useIntegerZoom=i,this.zoom=a,this.layerId=p,this.zoomInPaintVertexArray=new c,this.zoomOutPaintVertexArray=new c};Dn.prototype.populatePaintArray=function(t,e,i){var a=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(a,t,e.patterns&&e.patterns[this.layerId],i)},Dn.prototype.updatePaintArray=function(t,e,i,a,c){this._setPaintValues(t,e,i.patterns&&i.patterns[this.layerId],c)},Dn.prototype._setPaintValues=function(t,e,i,a){if(a&&i){var c=a[i.min],p=a[i.mid],m=a[i.max];if(c&&p&&m)for(var S=t;S<e;S++)this.zoomInPaintVertexArray.emplace(S,p.tl[0],p.tl[1],p.br[0],p.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],p.pixelRatio,c.pixelRatio),this.zoomOutPaintVertexArray.emplace(S,p.tl[0],p.tl[1],p.br[0],p.br[1],m.tl[0],m.tl[1],m.br[0],m.br[1],p.pixelRatio,m.pixelRatio)}},Dn.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,me.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,me.members,this.expression.isStateDependent))},Dn.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var dn=function(t,e,i){this.binders={},this._buffers=[];var a=[];for(var c in t.paint._values)if(i(c)){var p=t.paint.get(c);if(p instanceof lo&&ke(p.property.specification)){var m=jo(c,t.type),S=p.value,Z=p.property.specification.type,st=p.property.useIntegerZoom,pt=p.property.specification["property-type"],_t="cross-faded"===pt||"cross-faded-data-driven"===pt;if("constant"===S.kind)this.binders[c]=_t?new Bn(S.value,m):new wn(S.value,m,Z),a.push("/u_"+c);else if("source"===S.kind||_t){var Bt=ho(c,Z,"source");this.binders[c]=_t?new Dn(S,Z,st,e,Bt,t.id):new _n(S,m,Z,Bt),a.push("/a_"+c)}else{var Nt=ho(c,Z,"composite");this.binders[c]=new gn(S,m,Z,st,e,Nt),a.push("/z_"+c)}}}this.cacheKey=a.sort().join("")};dn.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof _n||e instanceof gn?e.maxValue:0},dn.prototype.populatePaintArrays=function(t,e,i,a,c){for(var p in this.binders){var m=this.binders[p];(m instanceof _n||m instanceof gn||m instanceof Dn)&&m.populatePaintArray(t,e,i,a,c)}},dn.prototype.setConstantPatternPositions=function(t,e){for(var i in this.binders){var a=this.binders[i];a instanceof Bn&&a.setConstantPatternPositions(t,e)}},dn.prototype.updatePaintArrays=function(t,e,i,a,c){var p=!1;for(var m in t)for(var S=0,Z=e.getPositions(m);S<Z.length;S+=1){var st=Z[S],pt=i.feature(st.index);for(var _t in this.binders){var Bt=this.binders[_t];if((Bt instanceof _n||Bt instanceof gn||Bt instanceof Dn)&&!0===Bt.expression.isStateDependent){var Nt=a.paint.get(_t);Bt.expression=Nt.value,Bt.updatePaintArray(st.start,st.end,pt,t[m],c),p=!0}}}return p},dn.prototype.defines=function(){var t=[];for(var e in this.binders){var i=this.binders[e];(i instanceof wn||i instanceof Bn)&&t.push.apply(t,i.uniformNames.map(function(a){return"#define HAS_UNIFORM_"+a}))}return t},dn.prototype.getBinderAttributes=function(){var t=[];for(var e in this.binders){var i=this.binders[e];if(i instanceof _n||i instanceof gn)for(var a=0;a<i.paintVertexAttributes.length;a++)t.push(i.paintVertexAttributes[a].name);else if(i instanceof Dn)for(var c=0;c<me.members.length;c++)t.push(me.members[c].name)}return t},dn.prototype.getBinderUniforms=function(){var t=[];for(var e in this.binders){var i=this.binders[e];if(i instanceof wn||i instanceof Bn||i instanceof gn)for(var a=0,c=i.uniformNames;a<c.length;a+=1)t.push(c[a])}return t},dn.prototype.getPaintVertexBuffers=function(){return this._buffers},dn.prototype.getUniforms=function(t,e){var i=[];for(var a in this.binders){var c=this.binders[a];if(c instanceof wn||c instanceof Bn||c instanceof gn)for(var p=0,m=c.uniformNames;p<m.length;p+=1){var S=m[p];if(e[S]){var Z=c.getBinding(t,e[S],S);i.push({name:S,property:a,binding:Z})}}}return i},dn.prototype.setUniforms=function(t,e,i,a){for(var c=0,p=e;c<p.length;c+=1){var m=p[c],S=m.name,Z=m.property;this.binders[Z].setUniform(m.binding,a,i.get(Z),S)}},dn.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var i=this.binders[e];if(t&&i instanceof Dn){var a=2===t.fromScale?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;a&&this._buffers.push(a)}else(i instanceof _n||i instanceof gn)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}},dn.prototype.upload=function(t){for(var e in this.binders){var i=this.binders[e];(i instanceof _n||i instanceof gn||i instanceof Dn)&&i.upload(t)}this.updatePaintBuffers()},dn.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof _n||e instanceof gn||e instanceof Dn)&&e.destroy()}};var hn=function(t,e,i){void 0===i&&(i=function(){return!0}),this.programConfigurations={};for(var a=0,c=t;a<c.length;a+=1){var p=c[a];this.programConfigurations[p.id]=new dn(p,e,i)}this.needsUpload=!1,this._featureMap=new Ae,this._bufferOffset=0};function jo(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function ho(t,e,i){var c={"line-pattern":{source:ua,composite:ua},"fill-pattern":{source:ua,composite:ua},"fill-extrusion-pattern":{source:ua,composite:ua}}[t];return c&&c[i]||{color:{source:Xa,composite:wl},number:{source:Ea,composite:Xa}}[e][i]}hn.prototype.populatePaintArrays=function(t,e,i,a,c,p){for(var m in this.programConfigurations)this.programConfigurations[m].populatePaintArrays(t,e,a,c,p);void 0!==e.id&&this._featureMap.add(e.id,i,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},hn.prototype.updatePaintArrays=function(t,e,i,a){for(var c=0,p=i;c<p.length;c+=1){var m=p[c];this.needsUpload=this.programConfigurations[m.id].updatePaintArrays(t,this._featureMap,e,m,a)||this.needsUpload}},hn.prototype.get=function(t){return this.programConfigurations[t]},hn.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},hn.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},gi("ConstantBinder",wn),gi("CrossFadedConstantBinder",Bn),gi("SourceExpressionBinder",_n),gi("CrossFadedCompositeBinder",Dn),gi("CompositeExpressionBinder",gn),gi("ProgramConfiguration",dn,{omit:["_buffers"]}),gi("ProgramConfigurationSet",hn);var hs=Math.pow(2,14)-1,Yo=-hs-1;function oo(t){for(var e=8192/t.extent,i=t.loadGeometry(),a=0;a<i.length;a++)for(var c=i[a],p=0;p<c.length;p++){var m=c[p],S=Math.round(m.x*e),Z=Math.round(m.y*e);m.x=Q(S,Yo,hs),m.y=Q(Z,Yo,hs),(S<m.x||S>m.x+1||Z<m.y||Z>m.y+1)&&X("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return i}function _o(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?oo(t):[]}}function zs(t,e,i,a,c){t.emplaceBack(2*e+(a+1)/2,2*i+(c+1)/2)}var ds=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ba,this.indexArray=new Ca,this.segments=new Wt,this.programConfigurations=new hn(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function ka(t,e){for(var i=0;i<t.length;i++)if(ca(e,t[i]))return!0;for(var a=0;a<e.length;a++)if(ca(t,e[a]))return!0;return!!hl(t,e)}function bs(t,e,i){return!!ca(t,e)||!!Ma(e,t,i)}function ra(t,e){if(1===t.length)return ul(e,t[0]);for(var i=0;i<e.length;i++)for(var a=e[i],c=0;c<a.length;c++)if(ca(t,a[c]))return!0;for(var p=0;p<t.length;p++)if(ul(e,t[p]))return!0;for(var m=0;m<e.length;m++)if(hl(t,e[m]))return!0;return!1}function Js(t,e,i){if(t.length>1){if(hl(t,e))return!0;for(var a=0;a<e.length;a++)if(Ma(e[a],t,i))return!0}for(var c=0;c<t.length;c++)if(Ma(t[c],e,i))return!0;return!1}function hl(t,e){if(0===t.length||0===e.length)return!1;for(var i=0;i<t.length-1;i++)for(var a=t[i],c=t[i+1],p=0;p<e.length-1;p++)if(Ja(a,c,e[p],e[p+1]))return!0;return!1}function Ja(t,e,i,a){return St(t,i,a)!==St(e,i,a)&&St(t,e,i)!==St(t,e,a)}function Ma(t,e,i){var a=i*i;if(1===e.length)return t.distSqr(e[0])<a;for(var c=1;c<e.length;c++)if($a(t,e[c-1],e[c])<a)return!0;return!1}function $a(t,e,i){var a=e.distSqr(i);if(0===a)return t.distSqr(e);var c=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/a;return t.distSqr(c<0?e:c>1?i:i.sub(e)._mult(c)._add(e))}function ul(t,e){for(var i,a,c,p=!1,m=0;m<t.length;m++)for(var S=0,Z=(i=t[m]).length-1;S<i.length;Z=S++)(a=i[S]).y>e.y!=(c=i[Z]).y>e.y&&e.x<(c.x-a.x)*(e.y-a.y)/(c.y-a.y)+a.x&&(p=!p);return p}function ca(t,e){for(var i=!1,a=0,c=t.length-1;a<t.length;c=a++){var p=t[a],m=t[c];p.y>e.y!=m.y>e.y&&e.x<(m.x-p.x)*(e.y-p.y)/(m.y-p.y)+p.x&&(i=!i)}return i}function cl(t,e,i){var a=i[0],c=i[2];if(t.x<a.x&&e.x<a.x||t.x>c.x&&e.x>c.x||t.y<a.y&&e.y<a.y||t.y>c.y&&e.y>c.y)return!1;var p=St(t,e,i[0]);return p!==St(t,e,i[1])||p!==St(t,e,i[2])||p!==St(t,e,i[3])}function pa(t,e,i){var a=e.paint.get(t).value;return"constant"===a.kind?a.value:i.programConfigurations.get(e.id).getMaxValue(t)}function Fo(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ga(t,e,i,a,c){if(!e[0]&&!e[1])return t;var p=A.convert(e)._mult(c);"viewport"===i&&p._rotate(-a);for(var m=[],S=0;S<t.length;S++)m.push(t[S].sub(p));return m}ds.prototype.populate=function(t,e,i){var a=this.layers[0],c=[],p=null;"circle"===a.type&&(p=a.layout.get("circle-sort-key"));for(var m=0,S=t;m<S.length;m+=1){var Z=S[m],st=Z.feature,pt=Z.id,_t=Z.index,Bt=Z.sourceLayerIndex,Nt=this.layers[0]._featureFilter.needGeometry,he=_o(st,Nt);if(this.layers[0]._featureFilter.filter(new Hn(this.zoom),he,i)){var ue=p?p.evaluate(he,{},i):void 0,be={id:pt,properties:st.properties,type:st.type,sourceLayerIndex:Bt,index:_t,geometry:Nt?he.geometry:oo(st),patterns:{},sortKey:ue};c.push(be)}}p&&c.sort(function(zi,$i){return zi.sortKey-$i.sortKey});for(var ye=0,Ie=c;ye<Ie.length;ye+=1){var Ne=Ie[ye],We=Ne.geometry,Ye=Ne.index,ri=Ne.sourceLayerIndex,xi=t[Ye].feature;this.addFeature(Ne,We,Ye,i),e.featureIndex.insert(xi,We,Ye,ri,this.index)}},ds.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},ds.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ds.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ds.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Zt),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ds.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ds.prototype.addFeature=function(t,e,i,a){for(var c=0,p=e;c<p.length;c+=1)for(var m=0,S=p[c];m<S.length;m+=1){var Z=S[m],st=Z.x,pt=Z.y;if(!(st<0||st>=8192||pt<0||pt>=8192)){var _t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),Bt=_t.vertexLength;zs(this.layoutVertexArray,st,pt,-1,-1),zs(this.layoutVertexArray,st,pt,1,-1),zs(this.layoutVertexArray,st,pt,1,1),zs(this.layoutVertexArray,st,pt,-1,1),this.indexArray.emplaceBack(Bt,Bt+1,Bt+2),this.indexArray.emplaceBack(Bt,Bt+3,Bt+2),_t.vertexLength+=4,_t.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,{},a)},gi("CircleBucket",ds,{omit:["layers"]});var Pa=new Io({"circle-sort-key":new Xi(qt.layout_circle["circle-sort-key"])}),Fa={paint:new Io({"circle-radius":new Xi(qt.paint_circle["circle-radius"]),"circle-color":new Xi(qt.paint_circle["circle-color"]),"circle-blur":new Xi(qt.paint_circle["circle-blur"]),"circle-opacity":new Xi(qt.paint_circle["circle-opacity"]),"circle-translate":new Ji(qt.paint_circle["circle-translate"]),"circle-translate-anchor":new Ji(qt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ji(qt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ji(qt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Xi(qt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Xi(qt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Xi(qt.paint_circle["circle-stroke-opacity"])}),layout:Pa},mr=typeof Float32Array<"u"?Float32Array:Array;function Gs(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ws(t,e,i){var a=e[0],c=e[1],p=e[2],m=e[3],S=e[4],Z=e[5],st=e[6],pt=e[7],_t=e[8],Bt=e[9],Nt=e[10],he=e[11],ue=e[12],be=e[13],ye=e[14],Ie=e[15],Ne=i[0],We=i[1],Ye=i[2],ri=i[3];return t[0]=Ne*a+We*S+Ye*_t+ri*ue,t[1]=Ne*c+We*Z+Ye*Bt+ri*be,t[2]=Ne*p+We*st+Ye*Nt+ri*ye,t[3]=Ne*m+We*pt+Ye*he+ri*Ie,t[4]=(Ne=i[4])*a+(We=i[5])*S+(Ye=i[6])*_t+(ri=i[7])*ue,t[5]=Ne*c+We*Z+Ye*Bt+ri*be,t[6]=Ne*p+We*st+Ye*Nt+ri*ye,t[7]=Ne*m+We*pt+Ye*he+ri*Ie,t[8]=(Ne=i[8])*a+(We=i[9])*S+(Ye=i[10])*_t+(ri=i[11])*ue,t[9]=Ne*c+We*Z+Ye*Bt+ri*be,t[10]=Ne*p+We*st+Ye*Nt+ri*ye,t[11]=Ne*m+We*pt+Ye*he+ri*Ie,t[12]=(Ne=i[12])*a+(We=i[13])*S+(Ye=i[14])*_t+(ri=i[15])*ue,t[13]=Ne*c+We*Z+Ye*Bt+ri*be,t[14]=Ne*p+We*st+Ye*Nt+ri*ye,t[15]=Ne*m+We*pt+Ye*he+ri*Ie,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,i=arguments.length;i--;)e+=t[i]*t[i];return Math.sqrt(e)});var Na,t,au=ws;function Sl(t,e,i){var a=e[0],c=e[1],p=e[2],m=e[3];return t[0]=i[0]*a+i[4]*c+i[8]*p+i[12]*m,t[1]=i[1]*a+i[5]*c+i[9]*p+i[13]*m,t[2]=i[2]*a+i[6]*c+i[10]*p+i[14]*m,t[3]=i[3]*a+i[7]*c+i[11]*p+i[15]*m,t}Na=new mr(3),mr!=Float32Array&&(Na[0]=0,Na[1]=0,Na[2]=0),t=new mr(4),mr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0);var lu=(function(){var t=new mr(2);mr!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(i){t.call(this,i,Fa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(i){return new ds(i)},e.prototype.queryRadius=function(i){var a=i;return pa("circle-radius",this,a)+pa("circle-stroke-width",this,a)+Fo(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(i,a,c,p,m,S,Z,st){for(var pt=ga(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,Z),_t=this.paint.get("circle-radius").evaluate(a,c)+this.paint.get("circle-stroke-width").evaluate(a,c),Bt="map"===this.paint.get("circle-pitch-alignment"),Nt=Bt?pt:function(xi,zi){return xi.map(function($i){return pl($i,zi)})}(pt,st),he=Bt?_t*Z:_t,ue=0,be=p;ue<be.length;ue+=1)for(var ye=0,Ie=be[ue];ye<Ie.length;ye+=1){var Ne=Ie[ye],We=Bt?Ne:pl(Ne,st),Ye=he,ri=Sl([],[Ne.x,Ne.y,0,1],st);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Ye*=ri[3]/S.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Ye*=S.cameraToCenterDistance/ri[3]),bs(Nt,We,Ye))return!0}return!1},e}(Zs));function pl(t,e){var i=Sl([],[t.x,t.y,0,1],e);return new A(i[0]/i[3],i[1]/i[3])}var kh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(ds);function Qa(t,e,i,a){var c=e.width,p=e.height;if(a){if(a instanceof Uint8ClampedArray)a=new Uint8Array(a.buffer);else if(a.length!==c*p*i)throw new RangeError("mismatched image size")}else a=new Uint8Array(c*p*i);return t.width=c,t.height=p,t.data=a,t}function Tl(t,e,i){var a=e.width,c=e.height;if(a!==t.width||c!==t.height){var p=Qa({},{width:a,height:c},i);hu(t,p,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,a),height:Math.min(t.height,c)},i),t.width=a,t.height=c,t.data=p.data}}function hu(t,e,i,a,c,p){if(0===c.width||0===c.height)return e;if(c.width>t.width||c.height>t.height||i.x>t.width-c.width||i.y>t.height-c.height)throw new RangeError("out of range source coordinates for image copy");if(c.width>e.width||c.height>e.height||a.x>e.width-c.width||a.y>e.height-c.height)throw new RangeError("out of range destination coordinates for image copy");for(var m=t.data,S=e.data,Z=0;Z<c.height;Z++)for(var st=((i.y+Z)*t.width+i.x)*p,pt=((a.y+Z)*e.width+a.x)*p,_t=0;_t<c.width*p;_t++)S[pt+_t]=m[st+_t];return e}gi("HeatmapBucket",kh,{omit:["layers"]});var dl=function(t,e){Qa(this,t,1,e)};dl.prototype.resize=function(t){Tl(this,t,1)},dl.prototype.clone=function(){return new dl({width:this.width,height:this.height},new Uint8Array(this.data))},dl.copy=function(t,e,i,a,c){hu(t,e,i,a,c,1)};var Os=function(t,e){Qa(this,t,4,e)};Os.prototype.resize=function(t){Tl(this,t,4)},Os.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},Os.prototype.clone=function(){return new Os({width:this.width,height:this.height},new Uint8Array(this.data))},Os.copy=function(t,e,i,a,c){hu(t,e,i,a,c,4)},gi("AlphaImage",dl),gi("RGBAImage",Os);var op={paint:new Io({"heatmap-radius":new Xi(qt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Xi(qt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ji(qt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ls(qt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ji(qt.paint_heatmap["heatmap-opacity"])})};function Fu(t){var e={},i=t.resolution||256,a=t.clips?t.clips.length:1,c=t.image||new Os({width:i,height:a}),p=function(he,ue,be){e[t.evaluationKey]=be;var ye=t.expression.evaluate(e);c.data[he+ue+0]=Math.floor(255*ye.r/ye.a),c.data[he+ue+1]=Math.floor(255*ye.g/ye.a),c.data[he+ue+2]=Math.floor(255*ye.b/ye.a),c.data[he+ue+3]=Math.floor(255*ye.a)};if(t.clips)for(var m=0,S=0;m<a;++m,S+=4*i)for(var Z=0,st=0;Z<i;Z++,st+=4){var pt=Z/(i-1),_t=t.clips[m];p(S,st,_t.start*(1-pt)+_t.end*pt)}else for(var Bt=0,Nt=0;Bt<i;Bt++,Nt+=4)p(0,Nt,Bt/(i-1));return c}var sp=function(t){function e(i){t.call(this,i,op),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(i){return new kh(i)},e.prototype._handleSpecialPaintPropertyUpdate=function(i){"heatmap-color"===i&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=Fu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Zs),ap={paint:new Io({"hillshade-illumination-direction":new Ji(qt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ji(qt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ji(qt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ji(qt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ji(qt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ji(qt.paint_hillshade["hillshade-accent-color"])})},lp=function(t){function e(i){t.call(this,i,ap)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Zs),hp=Eo([{name:"a_pos",components:2,type:"Int16"}],4).members,uu=Mh,up=Mh;function Mh(t,e,i){i=i||2;var a,c,p,m,S,Z,st,pt=e&&e.length,_t=pt?e[0]*i:t.length,Bt=Nu(t,0,_t,i,!0),Nt=[];if(!Bt||Bt.next===Bt.prev)return Nt;if(pt&&(Bt=function(ue,be,ye,Ie){var Ne,We,Ye,ri=[];for(Ne=0,We=be.length;Ne<We;Ne++)(Ye=Nu(ue,be[Ne]*Ie,Ne<We-1?be[Ne+1]*Ie:ue.length,Ie,!1))===Ye.next&&(Ye.steiner=!0),ri.push(vp(Ye));for(ri.sort(mp),Ne=0;Ne<ri.length;Ne++)yp(ri[Ne],ye),ye=tl(ye,ye.next);return ye}(t,e,Bt,i)),t.length>80*i){a=p=t[0],c=m=t[1];for(var he=i;he<_t;he+=i)(S=t[he])<a&&(a=S),(Z=t[he+1])<c&&(c=Z),S>p&&(p=S),Z>m&&(m=Z);st=0!==(st=Math.max(p-a,m-c))?1/st:0}return ih(Bt,Nt,i,a,c,st),Nt}function Nu(t,e,i,a,c){var p,m;if(c===du(t,e,i,a)>0)for(p=e;p<i;p+=a)m=qu(p,t[p],t[p+1],m);else for(p=i-a;p>=e;p-=a)m=qu(p,t[p],t[p+1],m);return m&&Ph(m,m.next)&&(rh(m),m=m.next),m}function tl(t,e){if(!t)return t;e||(e=t);var i,a=t;do{if(i=!1,a.steiner||!Ph(a,a.next)&&0!==zo(a.prev,a,a.next))a=a.next;else{if(rh(a),(a=e=a.prev)===a.next)break;i=!0}}while(i||a!==e);return e}function ih(t,e,i,a,c,p,m){if(t){!m&&p&&function(pt,_t,Bt,Nt){var he=pt;do{null===he.z&&(he.z=cu(he.x,he.y,_t,Bt,Nt)),he.prevZ=he.prev,he.nextZ=he.next,he=he.next}while(he!==pt);he.prevZ.nextZ=null,he.prevZ=null,function(ue){var be,ye,Ie,Ne,We,Ye,ri,xi,zi=1;do{for(ye=ue,ue=null,We=null,Ye=0;ye;){for(Ye++,Ie=ye,ri=0,be=0;be<zi&&(ri++,Ie=Ie.nextZ);be++);for(xi=zi;ri>0||xi>0&&Ie;)0!==ri&&(0===xi||!Ie||ye.z<=Ie.z)?(Ne=ye,ye=ye.nextZ,ri--):(Ne=Ie,Ie=Ie.nextZ,xi--),We?We.nextZ=Ne:ue=Ne,Ne.prevZ=We,We=Ne;ye=Ie}We.nextZ=null,zi*=2}while(Ye>1)}(he)}(t,a,c,p);for(var S,Z,st=t;t.prev!==t.next;)if(S=t.prev,Z=t.next,p?pp(t,a,c,p):cp(t))e.push(S.i/i),e.push(t.i/i),e.push(Z.i/i),rh(t),t=Z.next,st=Z.next;else if((t=Z)===st){m?1===m?ih(t=dp(tl(t),e,i),e,i,a,c,p,2):2===m&&fp(t,e,i,a,c,p):ih(tl(t),e,i,a,c,p,1);break}}}function cp(t){var e=t.prev,i=t,a=t.next;if(zo(e,i,a)>=0)return!1;for(var c=t.next.next;c!==t.prev;){if(Cl(e.x,e.y,i.x,i.y,a.x,a.y,c.x,c.y)&&zo(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function pp(t,e,i,a){var c=t.prev,p=t,m=t.next;if(zo(c,p,m)>=0)return!1;for(var S=c.x>p.x?c.x>m.x?c.x:m.x:p.x>m.x?p.x:m.x,Z=c.y>p.y?c.y>m.y?c.y:m.y:p.y>m.y?p.y:m.y,st=cu(c.x<p.x?c.x<m.x?c.x:m.x:p.x<m.x?p.x:m.x,c.y<p.y?c.y<m.y?c.y:m.y:p.y<m.y?p.y:m.y,e,i,a),pt=cu(S,Z,e,i,a),_t=t.prevZ,Bt=t.nextZ;_t&&_t.z>=st&&Bt&&Bt.z<=pt;){if(_t!==t.prev&&_t!==t.next&&Cl(c.x,c.y,p.x,p.y,m.x,m.y,_t.x,_t.y)&&zo(_t.prev,_t,_t.next)>=0||(_t=_t.prevZ,Bt!==t.prev&&Bt!==t.next&&Cl(c.x,c.y,p.x,p.y,m.x,m.y,Bt.x,Bt.y)&&zo(Bt.prev,Bt,Bt.next)>=0))return!1;Bt=Bt.nextZ}for(;_t&&_t.z>=st;){if(_t!==t.prev&&_t!==t.next&&Cl(c.x,c.y,p.x,p.y,m.x,m.y,_t.x,_t.y)&&zo(_t.prev,_t,_t.next)>=0)return!1;_t=_t.prevZ}for(;Bt&&Bt.z<=pt;){if(Bt!==t.prev&&Bt!==t.next&&Cl(c.x,c.y,p.x,p.y,m.x,m.y,Bt.x,Bt.y)&&zo(Bt.prev,Bt,Bt.next)>=0)return!1;Bt=Bt.nextZ}return!0}function dp(t,e,i){var a=t;do{var c=a.prev,p=a.next.next;!Ph(c,p)&&Uu(c,a,a.next,p)&&nh(c,p)&&nh(p,c)&&(e.push(c.i/i),e.push(a.i/i),e.push(p.i/i),rh(a),rh(a.next),a=t=p),a=a.next}while(a!==t);return tl(a)}function fp(t,e,i,a,c,p){var m=t;do{for(var S=m.next.next;S!==m.prev;){if(m.i!==S.i&&_p(m,S)){var Z=Vu(m,S);return m=tl(m,m.next),Z=tl(Z,Z.next),ih(m,e,i,a,c,p),void ih(Z,e,i,a,c,p)}S=S.next}m=m.next}while(m!==t)}function mp(t,e){return t.x-e.x}function yp(t,e){if(e=function(a,c){var p,m=c,S=a.x,Z=a.y,st=-1/0;do{if(Z<=m.y&&Z>=m.next.y&&m.next.y!==m.y){var pt=m.x+(Z-m.y)*(m.next.x-m.x)/(m.next.y-m.y);if(pt<=S&&pt>st){if(st=pt,pt===S){if(Z===m.y)return m;if(Z===m.next.y)return m.next}p=m.x<m.next.x?m:m.next}}m=m.next}while(m!==c);if(!p)return null;if(S===st)return p;var _t,Bt=p,Nt=p.x,he=p.y,ue=1/0;m=p;do{S>=m.x&&m.x>=Nt&&S!==m.x&&Cl(Z<he?S:st,Z,Nt,he,Z<he?st:S,Z,m.x,m.y)&&(_t=Math.abs(Z-m.y)/(S-m.x),nh(m,a)&&(_t<ue||_t===ue&&(m.x>p.x||m.x===p.x&&gp(p,m)))&&(p=m,ue=_t)),m=m.next}while(m!==Bt);return p}(t,e)){var i=Vu(e,t);tl(e,e.next),tl(i,i.next)}}function gp(t,e){return zo(t.prev,t,e.prev)<0&&zo(e.next,t,t.next)<0}function cu(t,e,i,a,c){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*c)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-a)*c)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function vp(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function Cl(t,e,i,a,c,p,m,S){return(c-m)*(e-S)-(t-m)*(p-S)>=0&&(t-m)*(a-S)-(i-m)*(e-S)>=0&&(i-m)*(p-S)-(c-m)*(a-S)>=0}function _p(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(i,a){var c=i;do{if(c.i!==i.i&&c.next.i!==i.i&&c.i!==a.i&&c.next.i!==a.i&&Uu(c,c.next,i,a))return!0;c=c.next}while(c!==i);return!1}(t,e)&&(nh(t,e)&&nh(e,t)&&function(i,a){var c=i,p=!1,m=(i.x+a.x)/2,S=(i.y+a.y)/2;do{c.y>S!=c.next.y>S&&c.next.y!==c.y&&m<(c.next.x-c.x)*(S-c.y)/(c.next.y-c.y)+c.x&&(p=!p),c=c.next}while(c!==i);return p}(t,e)&&(zo(t.prev,t,e.prev)||zo(t,e.prev,e))||Ph(t,e)&&zo(t.prev,t,t.next)>0&&zo(e.prev,e,e.next)>0)}function zo(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Ph(t,e){return t.x===e.x&&t.y===e.y}function Uu(t,e,i,a){var c=Ih(zo(t,e,i)),p=Ih(zo(t,e,a)),m=Ih(zo(i,a,t)),S=Ih(zo(i,a,e));return c!==p&&m!==S||!(0!==c||!Lh(t,i,e))||!(0!==p||!Lh(t,a,e))||!(0!==m||!Lh(i,t,a))||!(0!==S||!Lh(i,e,a))}function Lh(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function Ih(t){return t>0?1:t<0?-1:0}function nh(t,e){return zo(t.prev,t,t.next)<0?zo(t,e,t.next)>=0&&zo(t,t.prev,e)>=0:zo(t,e,t.prev)<0||zo(t,t.next,e)<0}function Vu(t,e){var i=new pu(t.i,t.x,t.y),a=new pu(e.i,e.x,e.y),c=t.next,p=e.prev;return t.next=e,e.prev=t,i.next=c,c.prev=i,a.next=i,i.prev=a,p.next=a,a.prev=p,a}function qu(t,e,i,a){var c=new pu(t,e,i);return a?(c.next=a.next,c.prev=a,a.next.prev=c,a.next=c):(c.prev=c,c.next=c),c}function rh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function pu(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function du(t,e,i,a){for(var c=0,p=e,m=i-a;p<i;p+=a)c+=(t[m]-t[p])*(t[p+1]+t[m+1]),m=p;return c}function xp(t,e,i,a,c){!function p(m,S,Z,st,pt){for(;st>Z;){if(st-Z>600){var _t=st-Z+1,Bt=S-Z+1,Nt=Math.log(_t),he=.5*Math.exp(2*Nt/3),ue=.5*Math.sqrt(Nt*he*(_t-he)/_t)*(Bt-_t/2<0?-1:1);p(m,S,Math.max(Z,Math.floor(S-Bt*he/_t+ue)),Math.min(st,Math.floor(S+(_t-Bt)*he/_t+ue)),pt)}var be=m[S],ye=Z,Ie=st;for(oh(m,Z,S),pt(m[st],be)>0&&oh(m,Z,st);ye<Ie;){for(oh(m,ye,Ie),ye++,Ie--;pt(m[ye],be)<0;)ye++;for(;pt(m[Ie],be)>0;)Ie--}0===pt(m[Z],be)?oh(m,Z,Ie):oh(m,++Ie,st),Ie<=S&&(Z=Ie+1),S<=Ie&&(st=Ie-1)}}(t,e,i||0,a||t.length-1,c||bp)}function oh(t,e,i){var a=t[e];t[e]=t[i],t[i]=a}function bp(t,e){return t<e?-1:t>e?1:0}function fu(t,e){var i=t.length;if(i<=1)return[t];for(var a,c,p=[],m=0;m<i;m++){var S=yt(t[m]);0!==S&&(t[m].area=Math.abs(S),void 0===c&&(c=S<0),c===S<0?(a&&p.push(a),a=[t[m]]):a.push(t[m]))}if(a&&p.push(a),e>1)for(var Z=0;Z<p.length;Z++)p[Z].length<=e||(xp(p[Z],e,1,p[Z].length-1,wp),p[Z]=p[Z].slice(0,e));return p}function wp(t,e){return e.area-t.area}function mu(t,e,i){for(var a=i.patternDependencies,c=!1,p=0,m=e;p<m.length;p+=1){var S=m[p].paint.get(t+"-pattern");S.isConstant()||(c=!0);var Z=S.constantOr(null);Z&&(c=!0,a[Z.to]=!0,a[Z.from]=!0)}return c}function yu(t,e,i,a,c){for(var p=c.patternDependencies,m=0,S=e;m<S.length;m+=1){var Z=S[m],st=Z.paint.get(t+"-pattern").value;if("constant"!==st.kind){var pt=st.evaluate({zoom:a-1},i,{},c.availableImages),_t=st.evaluate({zoom:a},i,{},c.availableImages),Bt=st.evaluate({zoom:a+1},i,{},c.availableImages);_t=_t&&_t.name?_t.name:_t,Bt=Bt&&Bt.name?Bt.name:Bt,p[pt=pt&&pt.name?pt.name:pt]=!0,p[_t]=!0,p[Bt]=!0,i.patterns[Z.id]={min:pt,mid:_t,max:Bt}}}return i}Mh.deviation=function(t,e,i,a){var c=e&&e.length,p=Math.abs(du(t,0,c?e[0]*i:t.length,i));if(c)for(var m=0,S=e.length;m<S;m++)p-=Math.abs(du(t,e[m]*i,m<S-1?e[m+1]*i:t.length,i));var Z=0;for(m=0;m<a.length;m+=3){var st=a[m]*i,pt=a[m+1]*i,_t=a[m+2]*i;Z+=Math.abs((t[st]-t[_t])*(t[pt+1]-t[st+1])-(t[st]-t[pt])*(t[_t+1]-t[st+1]))}return 0===p&&0===Z?0:Math.abs((Z-p)/p)},Mh.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},a=0,c=0;c<t.length;c++){for(var p=0;p<t[c].length;p++)for(var m=0;m<e;m++)i.vertices.push(t[c][p][m]);c>0&&i.holes.push(a+=t[c-1].length)}return i},uu.default=up;var va=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ba,this.indexArray=new Ca,this.indexArray2=new ll,this.programConfigurations=new hn(t.layers,t.zoom),this.segments=new Wt,this.segments2=new Wt,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};va.prototype.populate=function(t,e,i){this.hasPattern=mu("fill",this.layers,e);for(var a=this.layers[0].layout.get("fill-sort-key"),c=[],p=0,m=t;p<m.length;p+=1){var S=m[p],Z=S.feature,st=S.id,pt=S.index,_t=S.sourceLayerIndex,Bt=this.layers[0]._featureFilter.needGeometry,Nt=_o(Z,Bt);if(this.layers[0]._featureFilter.filter(new Hn(this.zoom),Nt,i)){var he=a?a.evaluate(Nt,{},i,e.availableImages):void 0,ue={id:st,properties:Z.properties,type:Z.type,sourceLayerIndex:_t,index:pt,geometry:Bt?Nt.geometry:oo(Z),patterns:{},sortKey:he};c.push(ue)}}a&&c.sort(function(xi,zi){return xi.sortKey-zi.sortKey});for(var be=0,ye=c;be<ye.length;be+=1){var Ie=ye[be],Ne=Ie.geometry,We=Ie.index,Ye=Ie.sourceLayerIndex;if(this.hasPattern){var ri=yu("fill",this.layers,Ie,this.zoom,e);this.patternFeatures.push(ri)}else this.addFeature(Ie,Ne,We,i,{});e.featureIndex.insert(t[We].feature,Ne,We,Ye,this.index)}},va.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},va.prototype.addFeatures=function(t,e,i){for(var a=0,c=this.patternFeatures;a<c.length;a+=1){var p=c[a];this.addFeature(p,p.geometry,p.index,e,i)}},va.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},va.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},va.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,hp),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},va.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},va.prototype.addFeature=function(t,e,i,a,c){for(var p=0,m=fu(e,500);p<m.length;p+=1){for(var S=m[p],Z=0,st=0,pt=S;st<pt.length;st+=1)Z+=pt[st].length;for(var _t=this.segments.prepareSegment(Z,this.layoutVertexArray,this.indexArray),Bt=_t.vertexLength,Nt=[],he=[],ue=0,be=S;ue<be.length;ue+=1){var ye=be[ue];if(0!==ye.length){ye!==S[0]&&he.push(Nt.length/2);var Ie=this.segments2.prepareSegment(ye.length,this.layoutVertexArray,this.indexArray2),Ne=Ie.vertexLength;this.layoutVertexArray.emplaceBack(ye[0].x,ye[0].y),this.indexArray2.emplaceBack(Ne+ye.length-1,Ne),Nt.push(ye[0].x),Nt.push(ye[0].y);for(var We=1;We<ye.length;We++)this.layoutVertexArray.emplaceBack(ye[We].x,ye[We].y),this.indexArray2.emplaceBack(Ne+We-1,Ne+We),Nt.push(ye[We].x),Nt.push(ye[We].y);Ie.vertexLength+=ye.length,Ie.primitiveLength+=ye.length}}for(var Ye=uu(Nt,he),ri=0;ri<Ye.length;ri+=3)this.indexArray.emplaceBack(Bt+Ye[ri],Bt+Ye[ri+1],Bt+Ye[ri+2]);_t.vertexLength+=Z,_t.primitiveLength+=Ye.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,c,a)},gi("FillBucket",va,{omit:["layers","patternFeatures"]});var Sp=new Io({"fill-sort-key":new Xi(qt.layout_fill["fill-sort-key"])}),Tp={paint:new Io({"fill-antialias":new Ji(qt.paint_fill["fill-antialias"]),"fill-opacity":new Xi(qt.paint_fill["fill-opacity"]),"fill-color":new Xi(qt.paint_fill["fill-color"]),"fill-outline-color":new Xi(qt.paint_fill["fill-outline-color"]),"fill-translate":new Ji(qt.paint_fill["fill-translate"]),"fill-translate-anchor":new Ji(qt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ta(qt.paint_fill["fill-pattern"])}),layout:Sp},Cp=function(t){function e(i){t.call(this,i,Tp)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(i,a){t.prototype.recalculate.call(this,i,a);var c=this.paint._values["fill-outline-color"];"constant"===c.value.kind&&void 0===c.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(i){return new va(i)},e.prototype.queryRadius=function(){return Fo(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(i,a,c,p,m,S,Z){return ra(ga(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,Z),p)},e.prototype.isTileClipped=function(){return!0},e}(Zs),Ap=Eo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Zu=Al;function Al(t,e,i,a,c){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=a,this._values=c,t.readFields(Ep,this,e)}function Ep(t,e,i){1==t?e.id=i.readVarint():2==t?function(a,c){for(var p=a.readVarint()+a.pos;a.pos<p;){var m=c._keys[a.readVarint()],S=c._values[a.readVarint()];c.properties[m]=S}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function kp(t){for(var e,i,a=0,c=0,p=t.length,m=p-1;c<p;m=c++)a+=((i=t[m]).x-(e=t[c]).x)*(e.y+i.y);return a}Al.types=["Unknown","Point","LineString","Polygon"],Al.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,a=1,c=0,p=0,m=0,S=[];t.pos<i;){if(c<=0){var Z=t.readVarint();a=7&Z,c=Z>>3}if(c--,1===a||2===a)p+=t.readSVarint(),m+=t.readSVarint(),1===a&&(e&&S.push(e),e=[]),e.push(new A(p,m));else{if(7!==a)throw new Error("unknown command "+a);e&&e.push(e[0].clone())}}return e&&S.push(e),S},Al.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,a=0,c=0,p=0,m=1/0,S=-1/0,Z=1/0,st=-1/0;t.pos<e;){if(a<=0){var pt=t.readVarint();i=7&pt,a=pt>>3}if(a--,1===i||2===i)(c+=t.readSVarint())<m&&(m=c),c>S&&(S=c),(p+=t.readSVarint())<Z&&(Z=p),p>st&&(st=p);else if(7!==i)throw new Error("unknown command "+i)}return[m,Z,S,st]},Al.prototype.toGeoJSON=function(t,e,i){var a,c,p=this.extent*Math.pow(2,i),m=this.extent*t,S=this.extent*e,Z=this.loadGeometry(),st=Al.types[this.type];function pt(Nt){for(var he=0;he<Nt.length;he++){var ue=Nt[he];Nt[he]=[360*(ue.x+m)/p-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+S)/p)*Math.PI/180))-90]}}switch(this.type){case 1:var _t=[];for(a=0;a<Z.length;a++)_t[a]=Z[a][0];pt(Z=_t);break;case 2:for(a=0;a<Z.length;a++)pt(Z[a]);break;case 3:for(Z=function(Nt){var he=Nt.length;if(he<=1)return[Nt];for(var ue,be,ye=[],Ie=0;Ie<he;Ie++){var Ne=kp(Nt[Ie]);0!==Ne&&(void 0===be&&(be=Ne<0),be===Ne<0?(ue&&ye.push(ue),ue=[Nt[Ie]]):ue.push(Nt[Ie]))}return ue&&ye.push(ue),ye}(Z),a=0;a<Z.length;a++)for(c=0;c<Z[a].length;c++)pt(Z[a][c])}1===Z.length?Z=Z[0]:st="Multi"+st;var Bt={type:"Feature",geometry:{type:st,coordinates:Z},properties:this.properties};return"id"in this&&(Bt.id=this.id),Bt};var Gu=Hu;function Hu(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Mp,this,e),this.length=this._features.length}function Mp(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(a){for(var c=null,p=a.readVarint()+a.pos;a.pos<p;){var m=a.readVarint()>>3;c=1===m?a.readString():2===m?a.readFloat():3===m?a.readDouble():4===m?a.readVarint64():5===m?a.readVarint():6===m?a.readSVarint():7===m?a.readBoolean():null}return c}(i))}function Pp(t,e,i){if(3===t){var a=new Gu(i,i.readVarint()+i.pos);a.length&&(e[a.name]=a)}}Hu.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Zu(this._pbf,e,this.extent,this._keys,this._values)};var El={VectorTile:function(t,e){this.layers=t.readFields(Pp,{},e)},VectorTileFeature:Zu,VectorTileLayer:Gu},Lp=El.VectorTileFeature.types,gu=Math.pow(2,13);function sh(t,e,i,a,c,p,m,S){t.emplaceBack(e,i,2*Math.floor(a*gu)+m,c*gu*2,p*gu*2,Math.round(S))}var _a=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ya,this.indexArray=new Ca,this.programConfigurations=new hn(t.layers,t.zoom),this.segments=new Wt,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function Ip(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}_a.prototype.populate=function(t,e,i){this.features=[],this.hasPattern=mu("fill-extrusion",this.layers,e);for(var a=0,c=t;a<c.length;a+=1){var p=c[a],m=p.feature,S=p.id,Z=p.index,st=p.sourceLayerIndex,pt=this.layers[0]._featureFilter.needGeometry,_t=_o(m,pt);if(this.layers[0]._featureFilter.filter(new Hn(this.zoom),_t,i)){var Bt={id:S,sourceLayerIndex:st,index:Z,geometry:pt?_t.geometry:oo(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(yu("fill-extrusion",this.layers,Bt,this.zoom,e)):this.addFeature(Bt,Bt.geometry,Z,i,{}),e.featureIndex.insert(m,Bt.geometry,Z,st,this.index,!0)}}},_a.prototype.addFeatures=function(t,e,i){for(var a=0,c=this.features;a<c.length;a+=1){var p=c[a];this.addFeature(p,p.geometry,p.index,e,i)}},_a.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},_a.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},_a.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},_a.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ap),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},_a.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},_a.prototype.addFeature=function(t,e,i,a,c){for(var p=0,m=fu(e,500);p<m.length;p+=1){for(var S=m[p],Z=0,st=0,pt=S;st<pt.length;st+=1)Z+=pt[st].length;for(var _t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Bt=0,Nt=S;Bt<Nt.length;Bt+=1){var he=Nt[Bt];if(0!==he.length&&!((Wn=he).every(function(zn){return zn.x<0})||Wn.every(function(zn){return zn.x>8192})||Wn.every(function(zn){return zn.y<0})||Wn.every(function(zn){return zn.y>8192})))for(var ue=0,be=0;be<he.length;be++){var ye=he[be];if(be>=1){var Ie=he[be-1];if(!Ip(ye,Ie)){_t.vertexLength+4>Wt.MAX_VERTEX_ARRAY_LENGTH&&(_t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Ne=ye.sub(Ie)._perp()._unit(),We=Ie.dist(ye);ue+We>32768&&(ue=0),sh(this.layoutVertexArray,ye.x,ye.y,Ne.x,Ne.y,0,0,ue),sh(this.layoutVertexArray,ye.x,ye.y,Ne.x,Ne.y,0,1,ue),sh(this.layoutVertexArray,Ie.x,Ie.y,Ne.x,Ne.y,0,0,ue+=We),sh(this.layoutVertexArray,Ie.x,Ie.y,Ne.x,Ne.y,0,1,ue);var Ye=_t.vertexLength;this.indexArray.emplaceBack(Ye,Ye+2,Ye+1),this.indexArray.emplaceBack(Ye+1,Ye+2,Ye+3),_t.vertexLength+=4,_t.primitiveLength+=2}}}}if(_t.vertexLength+Z>Wt.MAX_VERTEX_ARRAY_LENGTH&&(_t=this.segments.prepareSegment(Z,this.layoutVertexArray,this.indexArray)),"Polygon"===Lp[t.type]){for(var ri=[],xi=[],zi=_t.vertexLength,$i=0,Fi=S;$i<Fi.length;$i+=1){var tn=Fi[$i];if(0!==tn.length){tn!==S[0]&&xi.push(ri.length/2);for(var Ui=0;Ui<tn.length;Ui++){var Nn=tn[Ui];sh(this.layoutVertexArray,Nn.x,Nn.y,0,0,1,1,0),ri.push(Nn.x),ri.push(Nn.y)}}}for(var un=uu(ri,xi),Yi=0;Yi<un.length;Yi+=3)this.indexArray.emplaceBack(zi+un[Yi],zi+un[Yi+2],zi+un[Yi+1]);_t.primitiveLength+=un.length/3,_t.vertexLength+=Z}}var Wn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,c,a)},gi("FillExtrusionBucket",_a,{omit:["layers","features"]});var zp={paint:new Io({"fill-extrusion-opacity":new Ji(qt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Xi(qt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ji(qt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ji(qt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ta(qt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Xi(qt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Xi(qt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ji(qt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Op=function(t){function e(i){t.call(this,i,zp)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(i){return new _a(i)},e.prototype.queryRadius=function(){return Fo(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(i,a,c,p,m,S,Z,st){var pt=ga(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,Z),_t=this.paint.get("fill-extrusion-height").evaluate(a,c),Bt=this.paint.get("fill-extrusion-base").evaluate(a,c),Nt=function(ue,be,ye,Ie){for(var Ne=[],We=0,Ye=ue;We<Ye.length;We+=1){var ri=Ye[We],xi=[ri.x,ri.y,0,1];Sl(xi,xi,be),Ne.push(new A(xi[0]/xi[3],xi[1]/xi[3]))}return Ne}(pt,st),he=function(ue,be,ye,Ie){for(var Ne=[],We=[],Ye=Ie[8]*be,ri=Ie[9]*be,xi=Ie[10]*be,zi=Ie[11]*be,$i=Ie[8]*ye,Fi=Ie[9]*ye,tn=Ie[10]*ye,Ui=Ie[11]*ye,Nn=0,un=ue;Nn<un.length;Nn+=1){for(var Yi=[],Wn=[],zn=0,nr=un[Nn];zn<nr.length;zn+=1){var en=nr[zn],dr=en.x,Jr=en.y,uo=Ie[0]*dr+Ie[4]*Jr+Ie[12],so=Ie[1]*dr+Ie[5]*Jr+Ie[13],$r=Ie[2]*dr+Ie[6]*Jr+Ie[14],co=Ie[3]*dr+Ie[7]*Jr+Ie[15],No=$r+xi,Uo=co+zi,ms=uo+$i,Jo=so+Fi,ys=$r+tn,xo=co+Ui,$o=new A((uo+Ye)/Uo,(so+ri)/Uo);$o.z=No/Uo,Yi.push($o);var Kn=new A(ms/xo,Jo/xo);Kn.z=ys/xo,Wn.push(Kn)}Ne.push(Yi),We.push(Wn)}return[Ne,We]}(p,Bt,_t,st);return function(ue,be,ye){var Ie=1/0;ra(ye,be)&&(Ie=Wu(ye,be[0]));for(var Ne=0;Ne<be.length;Ne++)for(var We=be[Ne],Ye=ue[Ne],ri=0;ri<We.length-1;ri++){var xi=We[ri],zi=[xi,We[ri+1],Ye[ri+1],Ye[ri],xi];ka(ye,zi)&&(Ie=Math.min(Ie,Wu(ye,zi)))}return Ie!==1/0&&Ie}(he[0],he[1],Nt)},e}(Zs);function ah(t,e){return t.x*e.x+t.y*e.y}function Wu(t,e){if(1===t.length){for(var i,a=0,c=e[a++];!i||c.equals(i);)if(!(i=e[a++]))return 1/0;for(;a<e.length;a++){var p=e[a],m=t[0],S=i.sub(c),Z=p.sub(c),st=m.sub(c),pt=ah(S,S),_t=ah(S,Z),Bt=ah(Z,Z),Nt=ah(st,S),he=ah(st,Z),ue=pt*Bt-_t*_t,be=(Bt*Nt-_t*he)/ue,ye=(pt*he-_t*Nt)/ue,Ie=c.z*(1-be-ye)+i.z*be+p.z*ye;if(isFinite(Ie))return Ie}return 1/0}for(var Ne=1/0,We=0,Ye=e;We<Ye.length;We+=1)Ne=Math.min(Ne,Ye[We].z);return Ne}var Dp=Eo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Rp=Eo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Bp=El.VectorTileFeature.types,jp=Math.cos(Math.PI/180*37.5),Xu=Math.pow(2,14)/.5,Ss=function(t){var e=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(i){return i.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(i){e.gradients[i.id]={}}),this.layoutVertexArray=new Is,this.layoutVertexArray2=new Xa,this.indexArray=new Ca,this.programConfigurations=new hn(t.layers,t.zoom),this.segments=new Wt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(i){return i.isStateDependent()}).map(function(i){return i.id})};Ss.prototype.populate=function(t,e,i){this.hasPattern=mu("line",this.layers,e);for(var a=this.layers[0].layout.get("line-sort-key"),c=[],p=0,m=t;p<m.length;p+=1){var S=m[p],Z=S.feature,st=S.id,pt=S.index,_t=S.sourceLayerIndex,Bt=this.layers[0]._featureFilter.needGeometry,Nt=_o(Z,Bt);if(this.layers[0]._featureFilter.filter(new Hn(this.zoom),Nt,i)){var he=a?a.evaluate(Nt,{},i):void 0,ue={id:st,properties:Z.properties,type:Z.type,sourceLayerIndex:_t,index:pt,geometry:Bt?Nt.geometry:oo(Z),patterns:{},sortKey:he};c.push(ue)}}a&&c.sort(function(xi,zi){return xi.sortKey-zi.sortKey});for(var be=0,ye=c;be<ye.length;be+=1){var Ie=ye[be],Ne=Ie.geometry,We=Ie.index,Ye=Ie.sourceLayerIndex;if(this.hasPattern){var ri=yu("line",this.layers,Ie,this.zoom,e);this.patternFeatures.push(ri)}else this.addFeature(Ie,Ne,We,i,{});e.featureIndex.insert(t[We].feature,Ne,We,Ye,this.index)}},Ss.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},Ss.prototype.addFeatures=function(t,e,i){for(var a=0,c=this.patternFeatures;a<c.length;a+=1){var p=c[a];this.addFeature(p,p.geometry,p.index,e,i)}},Ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ss.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Rp)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Dp),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ss.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},Ss.prototype.addFeature=function(t,e,i,a,c){var p=this.layers[0].layout,m=p.get("line-join").evaluate(t,{}),S=p.get("line-cap"),Z=p.get("line-miter-limit"),st=p.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var pt=0,_t=e;pt<_t.length;pt+=1)this.addLine(_t[pt],t,m,S,Z,st);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,c,a)},Ss.prototype.addLine=function(t,e,i,a,c,p){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var m=0;m<t.length-1;m++)this.totalDistance+=t[m].dist(t[m+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var S="Polygon"===Bp[e.type],Z=t.length;Z>=2&&t[Z-1].equals(t[Z-2]);)Z--;for(var st=0;st<Z-1&&t[st].equals(t[st+1]);)st++;if(!(Z<(S?3:2))){"bevel"===i&&(c=1.05);var pt,_t=this.overscaling<=16?122880/(512*this.overscaling):0,Bt=this.segments.prepareSegment(10*Z,this.layoutVertexArray,this.indexArray),Nt=void 0,he=void 0,ue=void 0,be=void 0;this.e1=this.e2=-1,S&&(be=t[st].sub(pt=t[Z-2])._unit()._perp());for(var ye=st;ye<Z;ye++)if(!(he=ye===Z-1?S?t[st+1]:void 0:t[ye+1])||!t[ye].equals(he)){be&&(ue=be),pt&&(Nt=pt),pt=t[ye],be=he?he.sub(pt)._unit()._perp():ue;var Ie=(ue=ue||be).add(be);0===Ie.x&&0===Ie.y||Ie._unit();var Ne=ue.x*be.x+ue.y*be.y,We=Ie.x*be.x+Ie.y*be.y,Ye=0!==We?1/We:1/0,ri=2*Math.sqrt(2-2*We),xi=We<jp&&Nt&&he,zi=ue.x*be.y-ue.y*be.x>0;if(xi&&ye>st){var $i=pt.dist(Nt);if($i>2*_t){var Fi=pt.sub(pt.sub(Nt)._mult(_t/$i)._round());this.updateDistance(Nt,Fi),this.addCurrentVertex(Fi,ue,0,0,Bt),Nt=Fi}}var tn=Nt&&he,Ui=tn?i:S?"butt":a;if(tn&&"round"===Ui&&(Ye<p?Ui="miter":Ye<=2&&(Ui="fakeround")),"miter"===Ui&&Ye>c&&(Ui="bevel"),"bevel"===Ui&&(Ye>2&&(Ui="flipbevel"),Ye<c&&(Ui="miter")),Nt&&this.updateDistance(Nt,pt),"miter"===Ui)Ie._mult(Ye),this.addCurrentVertex(pt,Ie,0,0,Bt);else if("flipbevel"===Ui){if(Ye>100)Ie=be.mult(-1);else{var Nn=Ye*ue.add(be).mag()/ue.sub(be).mag();Ie._perp()._mult(Nn*(zi?-1:1))}this.addCurrentVertex(pt,Ie,0,0,Bt),this.addCurrentVertex(pt,Ie.mult(-1),0,0,Bt)}else if("bevel"===Ui||"fakeround"===Ui){var un=-Math.sqrt(Ye*Ye-1),Yi=zi?un:0,Wn=zi?0:un;if(Nt&&this.addCurrentVertex(pt,ue,Yi,Wn,Bt),"fakeround"===Ui)for(var zn=Math.round(180*ri/Math.PI/20),nr=1;nr<zn;nr++){var en=nr/zn;if(.5!==en){var dr=en-.5;en+=en*dr*(en-1)*((1.0904+Ne*(Ne*(3.55645-1.43519*Ne)-3.2452))*dr*dr+(.848013+Ne*(.215638*Ne-1.06021)))}var Jr=be.sub(ue)._mult(en)._add(ue)._unit()._mult(zi?-1:1);this.addHalfVertex(pt,Jr.x,Jr.y,!1,zi,0,Bt)}he&&this.addCurrentVertex(pt,be,-Yi,-Wn,Bt)}else if("butt"===Ui)this.addCurrentVertex(pt,Ie,0,0,Bt);else if("square"===Ui){var uo=Nt?1:-1;this.addCurrentVertex(pt,Ie,uo,uo,Bt)}else"round"===Ui&&(Nt&&(this.addCurrentVertex(pt,ue,0,0,Bt),this.addCurrentVertex(pt,ue,1,1,Bt,!0)),he&&(this.addCurrentVertex(pt,be,-1,-1,Bt,!0),this.addCurrentVertex(pt,be,0,0,Bt)));if(xi&&ye<Z-1){var so=pt.dist(he);if(so>2*_t){var $r=pt.add(he.sub(pt)._mult(_t/so)._round());this.updateDistance(pt,$r),this.addCurrentVertex($r,be,0,0,Bt),pt=$r}}}}},Ss.prototype.addCurrentVertex=function(t,e,i,a,c,p){void 0===p&&(p=!1);var m=e.y*a-e.x,S=-e.y-e.x*a;this.addHalfVertex(t,e.x+e.y*i,e.y-e.x*i,p,!1,i,c),this.addHalfVertex(t,m,S,p,!0,-a,c),this.distance>Xu/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,i,a,c,p))},Ss.prototype.addHalfVertex=function(t,e,i,a,c,p,m){var S=.5*(this.lineClips?this.scaledDistance*(Xu-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(a?1:0),(t.y<<1)+(c?1:0),Math.round(63*e)+128,Math.round(63*i)+128,1+(0===p?0:p<0?-1:1)|(63&S)<<2,S>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var Z=m.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Z),m.primitiveLength++),c?this.e2=Z:this.e1=Z},Ss.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ss.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},gi("LineBucket",Ss,{omit:["layers","patternFeatures"]});var Fp=new Io({"line-cap":new Ji(qt.layout_line["line-cap"]),"line-join":new Xi(qt.layout_line["line-join"]),"line-miter-limit":new Ji(qt.layout_line["line-miter-limit"]),"line-round-limit":new Ji(qt.layout_line["line-round-limit"]),"line-sort-key":new Xi(qt.layout_line["line-sort-key"])}),Yu={paint:new Io({"line-opacity":new Xi(qt.paint_line["line-opacity"]),"line-color":new Xi(qt.paint_line["line-color"]),"line-translate":new Ji(qt.paint_line["line-translate"]),"line-translate-anchor":new Ji(qt.paint_line["line-translate-anchor"]),"line-width":new Xi(qt.paint_line["line-width"]),"line-gap-width":new Xi(qt.paint_line["line-gap-width"]),"line-offset":new Xi(qt.paint_line["line-offset"]),"line-blur":new Xi(qt.paint_line["line-blur"]),"line-dasharray":new Xo(qt.paint_line["line-dasharray"]),"line-pattern":new Ta(qt.paint_line["line-pattern"]),"line-gradient":new Ls(qt.paint_line["line-gradient"])}),layout:Fp},Ku=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(i,a){return a=new Hn(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,zoomHistory:a.zoomHistory,transition:a.transition}),t.prototype.possiblyEvaluate.call(this,i,a)},e.prototype.evaluate=function(i,a,c,p){return a=B({},a,{zoom:Math.floor(a.zoom)}),t.prototype.evaluate.call(this,i,a,c,p)},e}(Xi))(Yu.paint.properties["line-width"].specification);Ku.useIntegerZoom=!0;var Np=function(t){function e(i){t.call(this,i,Yu),this.gradientVersion=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(i){"line-gradient"===i&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Bi,this.gradientVersion=(this.gradientVersion+1)%W)},e.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},e.prototype.recalculate=function(i,a){t.prototype.recalculate.call(this,i,a),this.paint._values["line-floorwidth"]=Ku.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)},e.prototype.createBucket=function(i){return new Ss(i)},e.prototype.queryRadius=function(i){var a=i,c=Ju(pa("line-width",this,a),pa("line-gap-width",this,a)),p=pa("line-offset",this,a);return c/2+Math.abs(p)+Fo(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(i,a,c,p,m,S,Z){var st=ga(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,Z),pt=Z/2*Ju(this.paint.get("line-width").evaluate(a,c),this.paint.get("line-gap-width").evaluate(a,c)),_t=this.paint.get("line-offset").evaluate(a,c);return _t&&(p=function(Bt,Nt){for(var he=[],ue=new A(0,0),be=0;be<Bt.length;be++){for(var ye=Bt[be],Ie=[],Ne=0;Ne<ye.length;Ne++){var We=ye[Ne],Ye=ye[Ne+1],ri=0===Ne?ue:We.sub(ye[Ne-1])._unit()._perp(),xi=Ne===ye.length-1?ue:Ye.sub(We)._unit()._perp(),zi=ri._add(xi)._unit();zi._mult(1/(zi.x*xi.x+zi.y*xi.y)),Ie.push(zi._mult(Nt)._add(We))}he.push(Ie)}return he}(p,_t*Z)),function(Bt,Nt,he){for(var ue=0;ue<Nt.length;ue++){var be=Nt[ue];if(Bt.length>=3)for(var ye=0;ye<be.length;ye++)if(ca(Bt,be[ye]))return!0;if(Js(Bt,be,he))return!0}return!1}(st,p,pt)},e.prototype.isTileClipped=function(){return!0},e}(Zs);function Ju(t,e){return e>0?e+2*t:t}var Up=Eo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vp=Eo([{name:"a_projected_pos",components:3,type:"Float32"}],4),qp=(Eo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Eo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),$u=(Eo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Eo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Zp=Eo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Gp(t,e,i){return t.sections.forEach(function(a){var c,m,S;a.text=(c=a.text,m=i,"uppercase"===(S=e.layout.get("text-transform").evaluate(m,{}))?c=c.toLocaleUpperCase():"lowercase"===S&&(c=c.toLocaleLowerCase()),ls.applyArabicShaping&&(c=ls.applyArabicShaping(c)),c)}),t}Eo([{name:"triangle",components:3,type:"Uint16"}]),Eo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Eo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Eo([{type:"Float32",name:"offsetX"}]),Eo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var lh={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Qu=function(t,e,i,a,c){var p,m,S=8*c-a-1,Z=(1<<S)-1,st=Z>>1,pt=-7,_t=i?c-1:0,Bt=i?-1:1,Nt=t[e+_t];for(_t+=Bt,p=Nt&(1<<-pt)-1,Nt>>=-pt,pt+=S;pt>0;p=256*p+t[e+_t],_t+=Bt,pt-=8);for(m=p&(1<<-pt)-1,p>>=-pt,pt+=a;pt>0;m=256*m+t[e+_t],_t+=Bt,pt-=8);if(0===p)p=1-st;else{if(p===Z)return m?NaN:1/0*(Nt?-1:1);m+=Math.pow(2,a),p-=st}return(Nt?-1:1)*m*Math.pow(2,p-a)},tc=function(t,e,i,a,c,p){var m,S,Z,st=8*p-c-1,pt=(1<<st)-1,_t=pt>>1,Bt=23===c?Math.pow(2,-24)-Math.pow(2,-77):0,Nt=a?0:p-1,he=a?1:-1,ue=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(S=isNaN(e)?1:0,m=pt):(m=Math.floor(Math.log(e)/Math.LN2),e*(Z=Math.pow(2,-m))<1&&(m--,Z*=2),(e+=m+_t>=1?Bt/Z:Bt*Math.pow(2,1-_t))*Z>=2&&(m++,Z/=2),m+_t>=pt?(S=0,m=pt):m+_t>=1?(S=(e*Z-1)*Math.pow(2,c),m+=_t):(S=e*Math.pow(2,_t-1)*Math.pow(2,c),m=0));c>=8;t[i+Nt]=255&S,Nt+=he,S/=256,c-=8);for(m=m<<c|S,st+=c;st>0;t[i+Nt]=255&m,Nt+=he,m/=256,st-=8);t[i+Nt-he]|=128*ue},zh=Nr;function Nr(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Nr.Varint=0,Nr.Fixed64=1,Nr.Bytes=2,Nr.Fixed32=5;var ec=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ua(t){return t.type===Nr.Bytes?t.readVarint()+t.pos:t.pos+1}function ic(t,e,i){var a=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(a);for(var c=i.pos-1;c>=t;c--)i.buf[c+a]=i.buf[c]}function Hp(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Wp(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function Xp(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function Yp(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function Kp(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function Jp(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function $p(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function Qp(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function td(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function Oh(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Ml(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function nc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function ed(t,e,i){1===t&&i.readMessage(id,e)}function id(t,e,i){if(3===t){var a=i.readMessage(nd,{}),c=a.width,p=a.height,m=a.left,S=a.top,Z=a.advance;e.push({id:a.id,bitmap:new dl({width:c+6,height:p+6},a.bitmap),metrics:{width:c,height:p,left:m,top:S,advance:Z}})}}function nd(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}function rc(t){for(var e=0,i=0,a=0,c=t;a<c.length;a+=1){var p=c[a];e+=p.w*p.h,i=Math.max(i,p.w)}t.sort(function(ue,be){return be.h-ue.h});for(var m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}],S=0,Z=0,st=0,pt=t;st<pt.length;st+=1)for(var _t=pt[st],Bt=m.length-1;Bt>=0;Bt--){var Nt=m[Bt];if(!(_t.w>Nt.w||_t.h>Nt.h)){if(_t.x=Nt.x,_t.y=Nt.y,Z=Math.max(Z,_t.y+_t.h),S=Math.max(S,_t.x+_t.w),_t.w===Nt.w&&_t.h===Nt.h){var he=m.pop();Bt<m.length&&(m[Bt]=he)}else _t.h===Nt.h?(Nt.x+=_t.w,Nt.w-=_t.w):_t.w===Nt.w?(Nt.y+=_t.h,Nt.h-=_t.h):(m.push({x:Nt.x+_t.w,y:Nt.y,w:Nt.w-_t.w,h:_t.h}),Nt.y+=_t.h,Nt.h-=_t.h);break}}return{w:S,h:Z,fill:e/(S*Z)||0}}Nr.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var a=this.readVarint(),c=a>>3,p=this.pos;this.type=7&a,t(c,e,this),this.pos===p&&this.skip(a)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Oh(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=nc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Oh(this.buf,this.pos)+4294967296*Oh(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Oh(this.buf,this.pos)+4294967296*nc(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Qu(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Qu(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,a=this.buf;return e=127&(i=a[this.pos++]),i<128?e:(e|=(127&(i=a[this.pos++]))<<7,i<128?e:(e|=(127&(i=a[this.pos++]))<<14,i<128?e:(e|=(127&(i=a[this.pos++]))<<21,i<128?e:function(c,p,m){var S,Z,st=m.buf;if(S=(112&(Z=st[m.pos++]))>>4,Z<128||(S|=(127&(Z=st[m.pos++]))<<3,Z<128)||(S|=(127&(Z=st[m.pos++]))<<10,Z<128)||(S|=(127&(Z=st[m.pos++]))<<17,Z<128)||(S|=(127&(Z=st[m.pos++]))<<24,Z<128)||(S|=(1&(Z=st[m.pos++]))<<31,Z<128))return function kl(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}(c,S,p);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=a[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&ec?ec.decode(this.buf.subarray(e,t)):function(i,a,c){for(var p="",m=a;m<c;){var S,Z,st,pt=i[m],_t=null,Bt=pt>239?4:pt>223?3:pt>191?2:1;if(m+Bt>c)break;1===Bt?pt<128&&(_t=pt):2===Bt?128==(192&(S=i[m+1]))&&(_t=(31&pt)<<6|63&S)<=127&&(_t=null):3===Bt?(Z=i[m+2],128==(192&(S=i[m+1]))&&128==(192&Z)&&((_t=(15&pt)<<12|(63&S)<<6|63&Z)<=2047||_t>=55296&&_t<=57343)&&(_t=null)):4===Bt&&(Z=i[m+2],st=i[m+3],128==(192&(S=i[m+1]))&&128==(192&Z)&&128==(192&st)&&((_t=(15&pt)<<18|(63&S)<<12|(63&Z)<<6|63&st)<=65535||_t>=1114112)&&(_t=null)),null===_t?(_t=65533,Bt=1):_t>65535&&(_t-=65536,p+=String.fromCharCode(_t>>>10&1023|55296),_t=56320|1023&_t),p+=String.fromCharCode(_t),m+=Bt}return p}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Nr.Bytes)return t.push(this.readVarint(e));var i=Ua(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Nr.Bytes)return t.push(this.readSVarint());var e=Ua(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Nr.Bytes)return t.push(this.readBoolean());var e=Ua(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Nr.Bytes)return t.push(this.readFloat());var e=Ua(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Nr.Bytes)return t.push(this.readDouble());var e=Ua(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Nr.Bytes)return t.push(this.readFixed32());var e=Ua(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Nr.Bytes)return t.push(this.readSFixed32());var e=Ua(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Nr.Bytes)return t.push(this.readFixed64());var e=Ua(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Nr.Bytes)return t.push(this.readSFixed64());var e=Ua(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Nr.Varint)for(;this.buf[this.pos++]>127;);else if(e===Nr.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Nr.Fixed32)this.pos+=4;else{if(e!==Nr.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Ml(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Ml(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Ml(this.buf,-1&t,this.pos),Ml(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Ml(this.buf,-1&t,this.pos),Ml(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(e,i){var a,c,p,S;if(e>=0?(a=e%4294967296|0,c=e/4294967296|0):(c=~(-e/4294967296),4294967295^(a=~(-e%4294967296))?a=a+1|0:(a=0,c=c+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");i.realloc(10),p=a,(S=i).buf[S.pos++]=127&p|128,p>>>=7,S.buf[S.pos++]=127&p|128,p>>>=7,S.buf[S.pos++]=127&p|128,p>>>=7,S.buf[S.pos++]=127&p|128,S.buf[S.pos]=127&(p>>>=7),function(p,m){var S=(7&p)<<4;m.buf[m.pos++]|=S|((p>>>=3)?128:0),p&&(m.buf[m.pos++]=127&p|((p>>>=7)?128:0),p&&(m.buf[m.pos++]=127&p|((p>>>=7)?128:0),p&&(m.buf[m.pos++]=127&p|((p>>>=7)?128:0),p&&(m.buf[m.pos++]=127&p|((p>>>=7)?128:0),p&&(m.buf[m.pos++]=127&p)))))}(c,i)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(a,c,p){for(var m,S,Z=0;Z<c.length;Z++){if((m=c.charCodeAt(Z))>55295&&m<57344){if(!S){m>56319||Z+1===c.length?(a[p++]=239,a[p++]=191,a[p++]=189):S=m;continue}if(m<56320){a[p++]=239,a[p++]=191,a[p++]=189,S=m;continue}m=S-55296<<10|m-56320|65536,S=null}else S&&(a[p++]=239,a[p++]=191,a[p++]=189,S=null);m<128?a[p++]=m:(m<2048?a[p++]=m>>6|192:(m<65536?a[p++]=m>>12|224:(a[p++]=m>>18|240,a[p++]=m>>12&63|128),a[p++]=m>>6&63|128),a[p++]=63&m|128)}return p}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&ic(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),tc(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),tc(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var a=this.pos-i;a>=128&&ic(i,a,this),this.pos=i-1,this.writeVarint(a),this.pos+=a},writeMessage:function(t,e,i){this.writeTag(t,Nr.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Hp,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Wp,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Kp,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Xp,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Yp,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Jp,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,$p,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Qp,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,td,e)},writeBytesField:function(t,e){this.writeTag(t,Nr.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Nr.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Nr.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Nr.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Nr.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Nr.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Nr.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Nr.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Nr.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Nr.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Dh=function(t,e){var i=e.pixelRatio,a=e.version,c=e.stretchX,p=e.stretchY,m=e.content;this.paddedRect=t,this.pixelRatio=i,this.stretchX=c,this.stretchY=p,this.content=m,this.version=a},hh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};hh.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},hh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},hh.tlbr.get=function(){return this.tl.concat(this.br)},hh.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Dh.prototype,hh);var uh=function(t,e){var i={},a={};this.haveRenderCallbacks=[];var c=[];this.addImages(t,i,c),this.addImages(e,a,c);var p=rc(c),m=new Os({width:p.w||1,height:p.h||1});for(var S in t){var Z=t[S],st=i[S].paddedRect;Os.copy(Z.data,m,{x:0,y:0},{x:st.x+1,y:st.y+1},Z.data)}for(var pt in e){var _t=e[pt],Bt=a[pt].paddedRect,Nt=Bt.x+1,he=Bt.y+1,ue=_t.data.width,be=_t.data.height;Os.copy(_t.data,m,{x:0,y:0},{x:Nt,y:he},_t.data),Os.copy(_t.data,m,{x:0,y:be-1},{x:Nt,y:he-1},{width:ue,height:1}),Os.copy(_t.data,m,{x:0,y:0},{x:Nt,y:he+be},{width:ue,height:1}),Os.copy(_t.data,m,{x:ue-1,y:0},{x:Nt-1,y:he},{width:1,height:be}),Os.copy(_t.data,m,{x:0,y:0},{x:Nt+ue,y:he},{width:1,height:be})}this.image=m,this.iconPositions=i,this.patternPositions=a};uh.prototype.addImages=function(t,e,i){for(var a in t){var c=t[a],p={x:0,y:0,w:c.data.width+2,h:c.data.height+2};i.push(p),e[a]=new Dh(p,c),c.hasRenderCallback&&this.haveRenderCallbacks.push(a)}},uh.prototype.patchUpdatedImages=function(t,e){for(var i in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[i],t.getImage(i),e),this.patchUpdatedImage(this.patternPositions[i],t.getImage(i),e)},uh.prototype.patchUpdatedImage=function(t,e,i){if(t&&e&&t.version!==e.version){t.version=e.version;var a=t.tl;i.update(e.data,void 0,{x:a[0],y:a[1]})}},gi("ImagePosition",Dh),gi("ImageAtlas",uh);var $s={horizontal:1,vertical:2,horizontalOnly:3},Pl=function(){this.scale=1,this.fontStack="",this.imageName=null};Pl.forText=function(t,e){var i=new Pl;return i.scale=t||1,i.fontStack=e,i},Pl.forImage=function(t){var e=new Pl;return e.imageName=t,e};var fs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Rh(t,e,i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he,ue){var be,ye=fs.fromFeature(t,c);_t===$s.vertical&&ye.verticalizePunctuation();var Ie=ls.processBidirectionalText,Ne=ls.processStyledBidirectionalText;if(Ie&&1===ye.sections.length){be=[];for(var We=0,Ye=Ie(ye.toString(),vu(ye,st,p,e,a,Nt,he));We<Ye.length;We+=1){var ri=Ye[We],xi=new fs;xi.text=ri,xi.sections=ye.sections;for(var zi=0;zi<ri.length;zi++)xi.sectionIndex.push(0);be.push(xi)}}else if(Ne){be=[];for(var $i=0,Fi=Ne(ye.text,ye.sectionIndex,vu(ye,st,p,e,a,Nt,he));$i<Fi.length;$i+=1){var tn=Fi[$i],Ui=new fs;Ui.text=tn[0],Ui.sectionIndex=tn[1],Ui.sections=ye.sections,be.push(Ui)}}else be=function(Yi,Wn){for(var zn=[],nr=Yi.text,en=0,dr=0,Jr=Wn;dr<Jr.length;dr+=1){var uo=Jr[dr];zn.push(Yi.substring(en,uo)),en=uo}return en<nr.length&&zn.push(Yi.substring(en,nr.length)),zn}(ye,vu(ye,st,p,e,a,Nt,he));var Nn=[],un={positionedLines:Nn,text:ye.toString(),top:pt[1],bottom:pt[1],left:pt[0],right:pt[0],writingMode:_t,iconsInText:!1,verticalizable:!1};return function(Yi,Wn,zn,nr,en,dr,Jr,uo,so,$r,co,No){for(var Uo=0,ms=-17,Jo=0,ys=0,xo="right"===uo?1:"left"===uo?0:.5,$o=0,Kn=0,zr=en;Kn<zr.length;Kn+=1){var wr=zr[Kn];wr.trim();var lr=wr.getMaxScale(),Ts=24*(lr-1),us={positionedGlyphs:[],lineOffset:0};Yi.positionedLines[$o]=us;var Zr=us.positionedGlyphs,ko=0;if(wr.length()){for(var cs=0;cs<wr.length();cs++){var fr=wr.getSection(cs),La=wr.getSectionIndex(cs),Qs=wr.getCharCode(cs),Ia=0,bo=null,za=null,da=null,jl=24,gl=!(so===$s.horizontal||!co&&!xs(Qs)||co&&(Bh[Qs]||(Ga=Qs,vi.Arabic(Ga)||vi["Arabic Supplement"](Ga)||vi["Arabic Extended-A"](Ga)||vi["Arabic Presentation Forms-A"](Ga)||vi["Arabic Presentation Forms-B"](Ga))));if(fr.imageName){var Fl=nr[fr.imageName];if(!Fl)continue;da=fr.imageName,Yi.iconsInText=Yi.iconsInText||!0,za=Fl.paddedRect;var Za=Fl.displaySize;fr.scale=24*fr.scale/No,Ia=Ts+(24-Za[1]*fr.scale),jl=(bo={width:Za[0],height:Za[1],left:1,top:-3,advance:gl?Za[1]:Za[0]}).advance;var Nl=gl?Za[0]*fr.scale-24*lr:Za[1]*fr.scale-24*lr;Nl>0&&Nl>ko&&(ko=Nl)}else{var Hh=zn[fr.fontStack],Ul=Hh&&Hh[Qs];if(Ul&&Ul.rect)za=Ul.rect,bo=Ul.metrics;else{var dh=Wn[fr.fontStack],Wh=dh&&dh[Qs];if(!Wh)continue;bo=Wh.metrics}Ia=24*(lr-fr.scale)}gl?(Yi.verticalizable=!0,Zr.push({glyph:Qs,imageName:da,x:Uo,y:ms+Ia,vertical:gl,scale:fr.scale,fontStack:fr.fontStack,sectionIndex:La,metrics:bo,rect:za}),Uo+=jl*fr.scale+$r):(Zr.push({glyph:Qs,imageName:da,x:Uo,y:ms+Ia,vertical:gl,scale:fr.scale,fontStack:fr.fontStack,sectionIndex:La,metrics:bo,rect:za}),Uo+=bo.advance*fr.scale+$r)}0!==Zr.length&&(Jo=Math.max(Uo-$r,Jo),od(Zr,0,Zr.length-1,xo,ko)),Uo=0;var Xh=dr*lr+ko;us.lineOffset=Math.max(ko,Ts),ms+=Xh,ys=Math.max(Xh,ys),++$o}else ms+=dr,++$o}var Ga,fh=ms- -17,Vl=_u(Jr),il=Vl.horizontalAlign,ql=Vl.verticalAlign;(function(Yh,Kh,mh,yh,Jh,gh,vh,_h,$h){var Zl,Qh=(Kh-mh)*Jh;Zl=gh!==vh?-_h*yh- -17:(-yh*$h+.5)*vh;for(var Gl=0,xh=Yh;Gl<xh.length;Gl+=1)for(var vl=0,bh=xh[Gl].positionedGlyphs;vl<bh.length;vl+=1){var Hl=bh[vl];Hl.x+=Qh,Hl.y+=Zl}})(Yi.positionedLines,xo,il,ql,Jo,ys,dr,fh,en.length),Yi.top+=-ql*fh,Yi.bottom=Yi.top+fh,Yi.left+=-il*Jo,Yi.right=Yi.left+Jo}(un,e,i,a,be,m,S,Z,_t,st,Bt,ue),!function(Yi){for(var Wn=0,zn=Yi;Wn<zn.length;Wn+=1)if(0!==zn[Wn].positionedGlyphs.length)return!1;return!0}(Nn)&&un}fs.fromFeature=function(t,e){for(var i=new fs,a=0;a<t.sections.length;a++){var c=t.sections[a];c.image?i.addImageSection(c):i.addTextSection(c,e)}return i},fs.prototype.length=function(){return this.text.length},fs.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},fs.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},fs.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},fs.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",i=0;i<t.length;i++){var a=t.charCodeAt(i+1)||null,c=t.charCodeAt(i-1)||null;e+=a&&sa(a)&&!lh[t[i+1]]||c&&sa(c)&&!lh[t[i-1]]||!lh[t[i]]?t[i]:lh[t[i]]}return e}(this.text)},fs.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Bh[this.text.charCodeAt(e)];e++)t++;for(var i=this.text.length,a=this.text.length-1;a>=0&&a>=t&&Bh[this.text.charCodeAt(a)];a--)i--;this.text=this.text.substring(t,i),this.sectionIndex=this.sectionIndex.slice(t,i)},fs.prototype.substring=function(t,e){var i=new fs;return i.text=this.text.substring(t,e),i.sectionIndex=this.sectionIndex.slice(t,e),i.sections=this.sections,i},fs.prototype.toString=function(){return this.text},fs.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(e,i){return Math.max(e,t.sections[i].scale)},0)},fs.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(Pl.forText(t.scale,t.fontStack||e));for(var i=this.sections.length-1,a=0;a<t.text.length;++a)this.sectionIndex.push(i)},fs.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCharCode(i),this.sections.push(Pl.forImage(e)),this.sectionIndex.push(this.sections.length-1)):X("Reached maximum number of images 6401")}else X("Can't add FormattedSection with an empty image.")},fs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Bh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Hs={};function oc(t,e,i,a,c,p){if(e.imageName){var m=a[e.imageName];return m?m.displaySize[0]*e.scale*24/p+c:0}var S=i[e.fontStack],Z=S&&S[t];return Z?Z.metrics.advance*e.scale+c:0}function sc(t,e,i,a){var c=Math.pow(t-e,2);return a?t<e?c/2:2*c:c+Math.abs(i)*i}function rd(t,e,i){var a=0;return 10===t&&(a-=1e4),i&&(a+=150),40!==t&&65288!==t||(a+=50),41!==e&&65289!==e||(a+=50),a}function ac(t,e,i,a,c,p){for(var m=null,S=sc(e,i,c,p),Z=0,st=a;Z<st.length;Z+=1){var pt=st[Z],_t=sc(e-pt.x,i,c,p)+pt.badness;_t<=S&&(m=pt,S=_t)}return{index:t,x:e,priorBreak:m,badness:S}}function vu(t,e,i,a,c,p,m){if("point"!==p)return[];if(!t)return[];for(var S,Z=[],st=function(be,ye,Ie,Ne,We,Ye){for(var ri=0,xi=0;xi<be.length();xi++){var zi=be.getSection(xi);ri+=oc(be.getCharCode(xi),zi,Ne,We,ye,Ye)}return ri/Math.max(1,Math.ceil(ri/Ie))}(t,e,i,a,c,m),pt=t.text.indexOf("\u200b")>=0,_t=0,Bt=0;Bt<t.length();Bt++){var Nt=t.getSection(Bt),he=t.getCharCode(Bt);if(Bh[he]||(_t+=oc(he,Nt,a,c,e,m)),Bt<t.length()-1){var ue=!((S=he)<11904||!(vi["Bopomofo Extended"](S)||vi.Bopomofo(S)||vi["CJK Compatibility Forms"](S)||vi["CJK Compatibility Ideographs"](S)||vi["CJK Compatibility"](S)||vi["CJK Radicals Supplement"](S)||vi["CJK Strokes"](S)||vi["CJK Symbols and Punctuation"](S)||vi["CJK Unified Ideographs Extension A"](S)||vi["CJK Unified Ideographs"](S)||vi["Enclosed CJK Letters and Months"](S)||vi["Halfwidth and Fullwidth Forms"](S)||vi.Hiragana(S)||vi["Ideographic Description Characters"](S)||vi["Kangxi Radicals"](S)||vi["Katakana Phonetic Extensions"](S)||vi.Katakana(S)||vi["Vertical Forms"](S)||vi["Yi Radicals"](S)||vi["Yi Syllables"](S)));(Hs[he]||ue||Nt.imageName)&&Z.push(ac(Bt+1,_t,st,Z,rd(he,t.getCharCode(Bt+1),ue&&pt),!1))}}return function be(ye){return ye?be(ye.priorBreak).concat(ye.index):[]}(ac(t.length(),_t,st,Z,0,!0))}function _u(t){var e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function od(t,e,i,a,c){if(a||c)for(var p=t[i],m=(t[i].x+p.metrics.advance*p.scale)*a,S=e;S<=i;S++)t[S].x-=m,t[S].y+=c}function lc(t,e,i,a,c,p){var m,S=t.image;if(S.content){var Z=S.content,st=S.pixelRatio||1;m=[Z[0]/st,Z[1]/st,S.displaySize[0]-Z[2]/st,S.displaySize[1]-Z[3]/st]}var pt,_t,Bt,Nt,he=e.left*p,ue=e.right*p;"width"===i||"both"===i?(Nt=c[0]+he-a[3],_t=c[0]+ue+a[1]):_t=(Nt=c[0]+(he+ue-S.displaySize[0])/2)+S.displaySize[0];var be=e.top*p,ye=e.bottom*p;return"height"===i||"both"===i?(pt=c[1]+be-a[0],Bt=c[1]+ye+a[2]):Bt=(pt=c[1]+(be+ye-S.displaySize[1])/2)+S.displaySize[1],{image:S,top:pt,right:_t,bottom:Bt,left:Nt,collisionPadding:m}}Hs[10]=!0,Hs[32]=!0,Hs[38]=!0,Hs[40]=!0,Hs[41]=!0,Hs[43]=!0,Hs[45]=!0,Hs[47]=!0,Hs[173]=!0,Hs[183]=!0,Hs[8203]=!0,Hs[8208]=!0,Hs[8211]=!0,Hs[8231]=!0;var Ll=function(t){function e(i,a,c,p){t.call(this,i,a),this.angle=c,void 0!==p&&(this.segment=p)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(A);function xu(t,e){var i=e.expression;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new Hn(t+1))};if("source"===i.kind)return{kind:"source"};for(var a=i.zoomStops,c=i.interpolationType,p=0;p<a.length&&a[p]<=t;)p++;for(var m=p=Math.max(0,p-1);m<a.length&&a[m]<t+1;)m++;m=Math.min(a.length-1,m);var S=a[p],Z=a[m];return"composite"===i.kind?{kind:"composite",minZoom:S,maxZoom:Z,interpolationType:c}:{kind:"camera",minZoom:S,maxZoom:Z,minSize:i.evaluate(new Hn(S)),maxSize:i.evaluate(new Hn(Z)),interpolationType:c}}function hc(t,e,i){var a=e.uSize,c=i.lowerSize;return"source"===t.kind?c/128:"composite"===t.kind?Vi(c/128,i.upperSize/128,e.uSizeT):a}function uc(t,e){var i=0,a=0;if("constant"===t.kind)a=t.layoutSize;else if("source"!==t.kind){var c=t.interpolationType,p=c?Q(or.interpolationFactor(c,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?a=Vi(t.minSize,t.maxSize,p):i=p}return{uSizeT:i,uSize:a}}gi("Anchor",Ll);var sd=Object.freeze({__proto__:null,getSizeData:xu,evaluateSizeForFeature:hc,evaluateSizeForZoom:uc,SIZE_PACK_FACTOR:128});function cc(t,e,i,a,c){if(void 0===e.segment)return!0;for(var p=e,m=e.segment+1,S=0;S>-i/2;){if(--m<0)return!1;S-=t[m].dist(p),p=t[m]}S+=t[m].dist(t[m+1]),m++;for(var Z=[],st=0;S<i/2;){var pt=t[m],_t=t[m+1];if(!_t)return!1;var Bt=t[m-1].angleTo(pt)-pt.angleTo(_t);for(Bt=Math.abs((Bt+3*Math.PI)%(2*Math.PI)-Math.PI),Z.push({distance:S,angleDelta:Bt}),st+=Bt;S-Z[0].distance>a;)st-=Z.shift().angleDelta;if(st>c)return!1;m++,S+=pt.dist(_t)}return!0}function pc(t){for(var e=0,i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function dc(t,e,i){return t?.6*e*i:0}function fc(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function ad(t,e,i,a,c,p){for(var m=dc(i,c,p),S=fc(i,a)*p,Z=0,st=pc(t)/2,pt=0;pt<t.length-1;pt++){var _t=t[pt],Bt=t[pt+1],Nt=_t.dist(Bt);if(Z+Nt>st){var he=(st-Z)/Nt,ue=Vi(_t.x,Bt.x,he),be=Vi(_t.y,Bt.y,he),ye=new Ll(ue,be,Bt.angleTo(_t),pt);return ye._round(),!m||cc(t,ye,S,m,e)?ye:void 0}Z+=Nt}}function ld(t,e,i,a,c,p,m,S,Z){var st=dc(a,p,m),pt=fc(a,c),_t=pt*m,Bt=0===t[0].x||t[0].x===Z||0===t[0].y||t[0].y===Z;return e-_t<e/4&&(e=_t+e/4),function Nt(he,ue,be,ye,Ie,Ne,We,Ye,ri){for(var xi=Ne/2,zi=pc(he),$i=0,Fi=ue-be,tn=[],Ui=0;Ui<he.length-1;Ui++){for(var Nn=he[Ui],un=he[Ui+1],Yi=Nn.dist(un),Wn=un.angleTo(Nn);Fi+be<$i+Yi;){var zn=((Fi+=be)-$i)/Yi,nr=Vi(Nn.x,un.x,zn),en=Vi(Nn.y,un.y,zn);if(nr>=0&&nr<ri&&en>=0&&en<ri&&Fi-xi>=0&&Fi+xi<=zi){var dr=new Ll(nr,en,Wn,Ui);dr._round(),ye&&!cc(he,dr,Ne,ye,Ie)||tn.push(dr)}}$i+=Yi}return Ye||tn.length||We||(tn=Nt(he,$i/2,be,ye,Ie,Ne,We,!0,ri)),tn}(t,Bt?e/2*S%e:(pt/2+2*p)*m*S%e,e,st,i,_t,Bt,!1,Z)}function mc(t,e,i,a,c){for(var p=[],m=0;m<t.length;m++)for(var S=t[m],Z=void 0,st=0;st<S.length-1;st++){var pt=S[st],_t=S[st+1];pt.x<e&&_t.x<e||(pt.x<e?pt=new A(e,pt.y+(e-pt.x)/(_t.x-pt.x)*(_t.y-pt.y))._round():_t.x<e&&(_t=new A(e,pt.y+(e-pt.x)/(_t.x-pt.x)*(_t.y-pt.y))._round()),pt.y<i&&_t.y<i||(pt.y<i?pt=new A(pt.x+(i-pt.y)/(_t.y-pt.y)*(_t.x-pt.x),i)._round():_t.y<i&&(_t=new A(pt.x+(i-pt.y)/(_t.y-pt.y)*(_t.x-pt.x),i)._round()),pt.x>=a&&_t.x>=a||(pt.x>=a?pt=new A(a,pt.y+(a-pt.x)/(_t.x-pt.x)*(_t.y-pt.y))._round():_t.x>=a&&(_t=new A(a,pt.y+(a-pt.x)/(_t.x-pt.x)*(_t.y-pt.y))._round()),pt.y>=c&&_t.y>=c||(pt.y>=c?pt=new A(pt.x+(c-pt.y)/(_t.y-pt.y)*(_t.x-pt.x),c)._round():_t.y>=c&&(_t=new A(pt.x+(c-pt.y)/(_t.y-pt.y)*(_t.x-pt.x),c)._round()),Z&&pt.equals(Z[Z.length-1])||p.push(Z=[pt]),Z.push(_t)))))}return p}function yc(t,e,i,a){var c=[],p=t.image,m=p.pixelRatio,S=p.paddedRect.w-2,Z=p.paddedRect.h-2,st=t.right-t.left,pt=t.bottom-t.top,_t=p.stretchX||[[0,S]],Bt=p.stretchY||[[0,Z]],Nt=function(nr,en){return nr+en[1]-en[0]},he=_t.reduce(Nt,0),ue=Bt.reduce(Nt,0),be=S-he,ye=Z-ue,Ie=0,Ne=he,We=0,Ye=ue,ri=0,xi=be,zi=0,$i=ye;if(p.content&&a){var Fi=p.content;Ie=jh(_t,0,Fi[0]),We=jh(Bt,0,Fi[1]),Ne=jh(_t,Fi[0],Fi[2]),Ye=jh(Bt,Fi[1],Fi[3]),ri=Fi[0]-Ie,zi=Fi[1]-We,xi=Fi[2]-Fi[0]-Ne,$i=Fi[3]-Fi[1]-Ye}var tn=function(nr,en,dr,Jr){var uo=Fh(nr.stretch-Ie,Ne,st,t.left),so=Nh(nr.fixed-ri,xi,nr.stretch,he),$r=Fh(en.stretch-We,Ye,pt,t.top),co=Nh(en.fixed-zi,$i,en.stretch,ue),No=Fh(dr.stretch-Ie,Ne,st,t.left),Uo=Nh(dr.fixed-ri,xi,dr.stretch,he),ms=Fh(Jr.stretch-We,Ye,pt,t.top),Jo=Nh(Jr.fixed-zi,$i,Jr.stretch,ue),ys=new A(uo,$r),xo=new A(No,$r),$o=new A(No,ms),Kn=new A(uo,ms),zr=new A(so/m,co/m),wr=new A(Uo/m,Jo/m),lr=e*Math.PI/180;if(lr){var Ts=Math.sin(lr),us=Math.cos(lr),Zr=[us,-Ts,Ts,us];ys._matMult(Zr),xo._matMult(Zr),Kn._matMult(Zr),$o._matMult(Zr)}var ko=nr.stretch+nr.fixed,cs=en.stretch+en.fixed;return{tl:ys,tr:xo,bl:Kn,br:$o,tex:{x:p.paddedRect.x+1+ko,y:p.paddedRect.y+1+cs,w:dr.stretch+dr.fixed-ko,h:Jr.stretch+Jr.fixed-cs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:zr,pixelOffsetBR:wr,minFontScaleX:xi/m/st,minFontScaleY:$i/m/pt,isSDF:i}};if(a&&(p.stretchX||p.stretchY))for(var Ui=gc(_t,be,he),Nn=gc(Bt,ye,ue),un=0;un<Ui.length-1;un++)for(var Yi=Ui[un],Wn=Ui[un+1],zn=0;zn<Nn.length-1;zn++)c.push(tn(Yi,Nn[zn],Wn,Nn[zn+1]));else c.push(tn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:Z+1}));return c}function jh(t,e,i){for(var a=0,c=0,p=t;c<p.length;c+=1){var m=p[c];a+=Math.max(e,Math.min(i,m[1]))-Math.max(e,Math.min(i,m[0]))}return a}function gc(t,e,i){for(var a=[{fixed:-1,stretch:0}],c=0,p=t;c<p.length;c+=1){var m=p[c],S=m[0],Z=m[1],st=a[a.length-1];a.push({fixed:S-st.stretch,stretch:st.stretch}),a.push({fixed:S-st.stretch,stretch:st.stretch+(Z-S)})}return a.push({fixed:e+1,stretch:i}),a}function Fh(t,e,i,a){return t/e*i+a}function Nh(t,e,i,a){return t-e*i/a}var Uh=function(t,e,i,a,c,p,m,S,Z,st){if(this.boxStartIndex=t.length,Z){var pt=p.top,_t=p.bottom,Bt=p.collisionPadding;Bt&&(pt-=Bt[1],_t+=Bt[3]);var Nt=_t-pt;Nt>0&&(Nt=Math.max(10,Nt),this.circleDiameter=Nt)}else{var he=p.top*m-S,ue=p.bottom*m+S,be=p.left*m-S,ye=p.right*m+S,Ie=p.collisionPadding;if(Ie&&(be-=Ie[0]*m,he-=Ie[1]*m,ye+=Ie[2]*m,ue+=Ie[3]*m),st){var Ne=new A(be,he),We=new A(ye,he),Ye=new A(be,ue),ri=new A(ye,ue),xi=st*Math.PI/180;Ne._rotate(xi),We._rotate(xi),Ye._rotate(xi),ri._rotate(xi),be=Math.min(Ne.x,We.x,Ye.x,ri.x),ye=Math.max(Ne.x,We.x,Ye.x,ri.x),he=Math.min(Ne.y,We.y,Ye.y,ri.y),ue=Math.max(Ne.y,We.y,Ye.y,ri.y)}t.emplaceBack(e.x,e.y,be,he,ye,ue,i,a,c)}this.boxEndIndex=t.length},Il=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=hd),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var i=(this.length>>1)-1;i>=0;i--)this._down(i)};function hd(t,e){return t<e?-1:t>e?1:0}function ud(t,e,i){void 0===e&&(e=1),void 0===i&&(i=!1);for(var a=1/0,c=1/0,p=-1/0,m=-1/0,S=t[0],Z=0;Z<S.length;Z++){var st=S[Z];(!Z||st.x<a)&&(a=st.x),(!Z||st.y<c)&&(c=st.y),(!Z||st.x>p)&&(p=st.x),(!Z||st.y>m)&&(m=st.y)}var pt=Math.min(p-a,m-c),_t=pt/2,Bt=new Il([],cd);if(0===pt)return new A(a,c);for(var Nt=a;Nt<p;Nt+=pt)for(var he=c;he<m;he+=pt)Bt.push(new zl(Nt+_t,he+_t,_t,t));for(var ue=function(Ie){for(var Ne=0,We=0,Ye=0,ri=Ie[0],xi=0,zi=ri.length,$i=zi-1;xi<zi;$i=xi++){var Fi=ri[xi],tn=ri[$i],Ui=Fi.x*tn.y-tn.x*Fi.y;We+=(Fi.x+tn.x)*Ui,Ye+=(Fi.y+tn.y)*Ui,Ne+=3*Ui}return new zl(We/Ne,Ye/Ne,0,Ie)}(t),be=Bt.length;Bt.length;){var ye=Bt.pop();(ye.d>ue.d||!ue.d)&&(ue=ye,i&&console.log("found best %d after %d probes",Math.round(1e4*ye.d)/1e4,be)),ye.max-ue.d<=e||(Bt.push(new zl(ye.p.x-(_t=ye.h/2),ye.p.y-_t,_t,t)),Bt.push(new zl(ye.p.x+_t,ye.p.y-_t,_t,t)),Bt.push(new zl(ye.p.x-_t,ye.p.y+_t,_t,t)),Bt.push(new zl(ye.p.x+_t,ye.p.y+_t,_t,t)),be+=4)}return i&&(console.log("num probes: "+be),console.log("best distance: "+ue.d)),ue.p}function cd(t,e){return e.max-t.max}function zl(t,e,i,a){this.p=new A(t,e),this.h=i,this.d=function(c,p){for(var m=!1,S=1/0,Z=0;Z<p.length;Z++)for(var st=p[Z],pt=0,_t=st.length,Bt=_t-1;pt<_t;Bt=pt++){var Nt=st[pt],he=st[Bt];Nt.y>c.y!=he.y>c.y&&c.x<(he.x-Nt.x)*(c.y-Nt.y)/(he.y-Nt.y)+Nt.x&&(m=!m),S=Math.min(S,$a(c,Nt,he))}return(m?1:-1)*Math.sqrt(S)}(this.p,a),this.max=this.d+this.h*Math.SQRT2}Il.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Il.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},Il.prototype.peek=function(){return this.data[0]},Il.prototype._up=function(t){for(var e=this.data,i=this.compare,a=e[t];t>0;){var c=t-1>>1,p=e[c];if(i(a,p)>=0)break;e[t]=p,t=c}e[t]=a},Il.prototype._down=function(t){for(var e=this.data,i=this.compare,a=this.length>>1,c=e[t];t<a;){var p=1+(t<<1),m=e[p],S=p+1;if(S<this.length&&i(e[S],m)<0&&(p=S,m=e[S]),i(m,c)>=0)break;e[t]=m,t=p}e[t]=c};var bu=Number.POSITIVE_INFINITY;function vc(t,e){return e[1]!==bu?function(i,a,c){var p=0,m=0;switch(a=Math.abs(a),c=Math.abs(c),i){case"top-right":case"top-left":case"top":m=c-7;break;case"bottom-right":case"bottom-left":case"bottom":m=7-c}switch(i){case"top-right":case"bottom-right":case"right":p=-a;break;case"top-left":case"bottom-left":case"left":p=a}return[p,m]}(t,e[0],e[1]):function(i,a){var c=0,p=0;a<0&&(a=0);var m=a/Math.sqrt(2);switch(i){case"top-right":case"top-left":p=m-7;break;case"bottom-right":case"bottom-left":p=7-m;break;case"bottom":p=7-a;break;case"top":p=a-7}switch(i){case"top-right":case"bottom-right":c=-m;break;case"top-left":case"bottom-left":c=m;break;case"left":c=a;break;case"right":c=-a}return[c,p]}(t,e[0])}function wu(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function _c(t,e,i,a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he){var ue=function(We,Ye,ri,xi,zi,$i,Fi,tn){for(var Ui=xi.layout.get("text-rotate").evaluate($i,{})*Math.PI/180,Nn=[],un=0,Yi=Ye.positionedLines;un<Yi.length;un+=1)for(var Wn=Yi[un],zn=0,nr=Wn.positionedGlyphs;zn<nr.length;zn+=1){var en=nr[zn];if(en.rect){var dr=en.rect||{},Jr=4,uo=!0,so=1,$r=0,co=(zi||tn)&&en.vertical,No=en.metrics.advance*en.scale/2;if(tn&&Ye.verticalizable&&($r=Wn.lineOffset/2-(en.imageName?-(24-en.metrics.width*en.scale)/2:24*(en.scale-1))),en.imageName){var Uo=Fi[en.imageName];uo=Uo.sdf,Jr=1/(so=Uo.pixelRatio)}var ms=zi?[en.x+No,en.y]:[0,0],Jo=zi?[0,0]:[en.x+No+ri[0],en.y+ri[1]-$r],ys=[0,0];co&&(ys=Jo,Jo=[0,0]);var xo=(en.metrics.left-Jr)*en.scale-No+Jo[0],$o=(-en.metrics.top-Jr)*en.scale+Jo[1],Kn=xo+dr.w*en.scale/so,zr=$o+dr.h*en.scale/so,wr=new A(xo,$o),lr=new A(Kn,$o),Ts=new A(xo,zr),us=new A(Kn,zr);if(co){var Zr=new A(-No,No- -17),ko=-Math.PI/2,cs=12-No,fr=new A(22-cs,-(en.imageName?cs:0)),La=new(Function.prototype.bind.apply(A,[null].concat(ys)));wr._rotateAround(ko,Zr)._add(fr)._add(La),lr._rotateAround(ko,Zr)._add(fr)._add(La),Ts._rotateAround(ko,Zr)._add(fr)._add(La),us._rotateAround(ko,Zr)._add(fr)._add(La)}if(Ui){var Qs=Math.sin(Ui),Ia=Math.cos(Ui),bo=[Ia,-Qs,Qs,Ia];wr._matMult(bo),lr._matMult(bo),Ts._matMult(bo),us._matMult(bo)}var za=new A(0,0),da=new A(0,0);Nn.push({tl:wr,tr:lr,bl:Ts,br:us,tex:dr,writingMode:Ye.writingMode,glyphOffset:ms,sectionIndex:en.sectionIndex,isSDF:uo,pixelOffsetTL:za,pixelOffsetBR:da,minFontScaleX:0,minFontScaleY:0})}}return Nn}(0,i,S,c,p,m,a,t.allowVerticalPlacement),be=t.textSizeData,ye=null;"source"===be.kind?(ye=[128*c.layout.get("text-size").evaluate(m,{})])[0]>32640&&X(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===be.kind&&((ye=[128*Nt.compositeTextSizes[0].evaluate(m,{},he),128*Nt.compositeTextSizes[1].evaluate(m,{},he)])[0]>32640||ye[1]>32640)&&X(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,ue,ye,S,p,m,st,e,Z.lineStartIndex,Z.lineLength,Bt,he);for(var Ie=0,Ne=pt;Ie<Ne.length;Ie+=1)_t[Ne[Ie]]=t.text.placedSymbolArray.length-1;return 4*ue.length}function xc(t){for(var e in t)return t[e];return null}function pd(t,e,i,a){var c=t.compareText;if(e in c){for(var p=c[e],m=p.length-1;m>=0;m--)if(a.dist(p[m])<i)return!0}else c[e]=[];return c[e].push(a),!1}var dd=El.VectorTileFeature.types,fd=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vh(t,e,i,a,c,p,m,S,Z,st,pt,_t,Bt){var Nt=S?Math.min(32640,Math.round(S[0])):0,he=S?Math.min(32640,Math.round(S[1])):0;t.emplaceBack(e,i,Math.round(32*a),Math.round(32*c),p,m,(Nt<<1)+(Z?1:0),he,16*st,16*pt,256*_t,256*Bt)}function Su(t,e,i){t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}function md(t){for(var e=0,i=t.sections;e<i.length;e+=1)if(Bo(i[e].text))return!0;return!1}var Ol=function(t){this.layoutVertexArray=new xl,this.indexArray=new Ca,this.programConfigurations=t,this.segments=new Wt,this.dynamicLayoutVertexArray=new Ya,this.opacityVertexArray=new al,this.placedSymbolArray=new l};Ol.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Ol.prototype.upload=function(t,e,i,a){this.isEmpty()||(i&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Up.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Vp.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,fd,!0),this.opacityVertexBuffer.itemSize=1),(i||a)&&this.programConfigurations.upload(t))},Ol.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},gi("SymbolBuffers",Ol);var ch=function(t,e,i){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new i,this.segments=new Wt,this.collisionVertexArray=new Ql};ch.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,qp.members,!0)},ch.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},gi("CollisionBuffers",ch);var kr=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(p){return p.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Gs([]),this.placementViewportMatrix=Gs([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=xu(this.zoom,e["text-size"]),this.iconSizeData=xu(this.zoom,e["icon-size"]);var i=this.layers[0].layout,a=i.get("symbol-sort-key"),c=i.get("symbol-z-order");this.canOverlap=i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==c&&void 0!==a.constantOr(1),this.sortFeaturesByY=("viewport-y"===c||"auto"===c&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===i.get("symbol-placement")&&(this.writingModes=i.get("text-writing-mode").map(function(p){return $s[p]})),this.stateDependentLayerIds=this.layers.filter(function(p){return p.isStateDependent()}).map(function(p){return p.id}),this.sourceID=t.sourceID};kr.prototype.createArrays=function(){this.text=new Ol(new hn(this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new Ol(new hn(this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.glyphOffsetArray=new w,this.lineVertexArray=new N,this.symbolInstances=new v},kr.prototype.calculateGlyphDependencies=function(t,e,i,a,c){for(var p=0;p<t.length;p++)if(e[t.charCodeAt(p)]=!0,(i||a)&&c){var m=lh[t.charAt(p)];m&&(e[m.charCodeAt(0)]=!0)}},kr.prototype.populate=function(t,e,i){var a=this.layers[0],c=a.layout,p=c.get("text-font"),m=c.get("text-field"),S=c.get("icon-image"),Z=("constant"!==m.value.kind||m.value.value instanceof rr&&!m.value.value.isEmpty()||m.value.value.toString().length>0)&&("constant"!==p.value.kind||p.value.value.length>0),st="constant"!==S.value.kind||!!S.value.value||Object.keys(S.parameters).length>0,pt=c.get("symbol-sort-key");if(this.features=[],Z||st){for(var _t=e.iconDependencies,Bt=e.glyphDependencies,Nt=e.availableImages,he=new Hn(this.zoom),ue=0,be=t;ue<be.length;ue+=1){var ye=be[ue],Ie=ye.feature,Ne=ye.id,We=ye.index,Ye=ye.sourceLayerIndex,ri=a._featureFilter.needGeometry,xi=_o(Ie,ri);if(a._featureFilter.filter(he,xi,i)){ri||(xi.geometry=oo(Ie));var zi=void 0;if(Z){var $i=a.getValueAndResolveTokens("text-field",xi,i,Nt),Fi=rr.factory($i);md(Fi)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ol()||this.hasRTLText&&ls.isParsed())&&(zi=Gp(Fi,a,xi))}var tn=void 0;if(st){var Ui=a.getValueAndResolveTokens("icon-image",xi,i,Nt);tn=Ui instanceof io?Ui:io.fromString(Ui)}if(zi||tn){var Nn=this.sortFeaturesByKey?pt.evaluate(xi,{},i):void 0;if(this.features.push({id:Ne,text:zi,icon:tn,index:We,sourceLayerIndex:Ye,geometry:xi.geometry,properties:Ie.properties,type:dd[Ie.type],sortKey:Nn}),tn&&(_t[tn.name]=!0),zi){var un=p.evaluate(xi,{},i).join(","),Yi="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf($s.vertical)>=0;for(var Wn=0,zn=zi.sections;Wn<zn.length;Wn+=1){var nr=zn[Wn];if(nr.image)_t[nr.image.name]=!0;else{var en=Ms(zi.toString()),dr=nr.fontStack||un,Jr=Bt[dr]=Bt[dr]||{};this.calculateGlyphDependencies(nr.text,Jr,Yi,this.allowVerticalPlacement,en)}}}}}}"line"===c.get("symbol-placement")&&(this.features=function(uo){var so={},$r={},co=[],No=0;function Uo(Zr){co.push(uo[Zr]),No++}function ms(Zr,ko,cs){var fr=$r[Zr];return delete $r[Zr],$r[ko]=fr,co[fr].geometry[0].pop(),co[fr].geometry[0]=co[fr].geometry[0].concat(cs[0]),fr}function Jo(Zr,ko,cs){var fr=so[ko];return delete so[ko],so[Zr]=fr,co[fr].geometry[0].shift(),co[fr].geometry[0]=cs[0].concat(co[fr].geometry[0]),fr}function ys(Zr,ko,cs){var fr=cs?ko[0][ko[0].length-1]:ko[0][0];return Zr+":"+fr.x+":"+fr.y}for(var xo=0;xo<uo.length;xo++){var $o=uo[xo],Kn=$o.geometry,zr=$o.text?$o.text.toString():null;if(zr){var wr=ys(zr,Kn),lr=ys(zr,Kn,!0);if(wr in $r&&lr in so&&$r[wr]!==so[lr]){var Ts=Jo(wr,lr,Kn),us=ms(wr,lr,co[Ts].geometry);delete so[wr],delete $r[lr],$r[ys(zr,co[us].geometry,!0)]=us,co[Ts].geometry=null}else wr in $r?ms(wr,lr,Kn):lr in so?Jo(wr,lr,Kn):(Uo(xo),so[wr]=No-1,$r[lr]=No-1)}else Uo(xo)}return co.filter(function(Zr){return Zr.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(uo,so){return uo.sortKey-so.sortKey})}},kr.prototype.update=function(t,e,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,i),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,i))},kr.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},kr.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},kr.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},kr.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},kr.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},kr.prototype.addToLineVertexArray=function(t,e){var i=this.lineVertexArray.length;if(void 0!==t.segment){for(var a=t.dist(e[t.segment+1]),c=t.dist(e[t.segment]),p={},m=t.segment+1;m<e.length;m++)p[m]={x:e[m].x,y:e[m].y,tileUnitDistanceFromAnchor:a},m<e.length-1&&(a+=e[m+1].dist(e[m]));for(var S=t.segment||0;S>=0;S--)p[S]={x:e[S].x,y:e[S].y,tileUnitDistanceFromAnchor:c},S>0&&(c+=e[S-1].dist(e[S]));for(var Z=0;Z<e.length;Z++){var st=p[Z];this.lineVertexArray.emplaceBack(st.x,st.y,st.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}},kr.prototype.addSymbols=function(t,e,i,a,c,p,m,S,Z,st,pt,_t){for(var Bt=t.indexArray,Nt=t.layoutVertexArray,he=t.segments.prepareSegment(4*e.length,Nt,Bt,this.canOverlap?p.sortKey:void 0),ue=this.glyphOffsetArray.length,be=he.vertexLength,ye=this.allowVerticalPlacement&&m===$s.vertical?Math.PI/2:0,Ie=p.text&&p.text.sections,Ne=0;Ne<e.length;Ne++){var We=e[Ne],Ye=We.tl,ri=We.tr,xi=We.bl,zi=We.br,$i=We.tex,Fi=We.pixelOffsetTL,tn=We.pixelOffsetBR,Ui=We.minFontScaleX,Nn=We.minFontScaleY,un=We.glyphOffset,Yi=We.isSDF,Wn=We.sectionIndex,zn=he.vertexLength,nr=un[1];Vh(Nt,S.x,S.y,Ye.x,nr+Ye.y,$i.x,$i.y,i,Yi,Fi.x,Fi.y,Ui,Nn),Vh(Nt,S.x,S.y,ri.x,nr+ri.y,$i.x+$i.w,$i.y,i,Yi,tn.x,Fi.y,Ui,Nn),Vh(Nt,S.x,S.y,xi.x,nr+xi.y,$i.x,$i.y+$i.h,i,Yi,Fi.x,tn.y,Ui,Nn),Vh(Nt,S.x,S.y,zi.x,nr+zi.y,$i.x+$i.w,$i.y+$i.h,i,Yi,tn.x,tn.y,Ui,Nn),Su(t.dynamicLayoutVertexArray,S,ye),Bt.emplaceBack(zn,zn+1,zn+2),Bt.emplaceBack(zn+1,zn+2,zn+3),he.vertexLength+=4,he.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(un[0]),Ne!==e.length-1&&Wn===e[Ne+1].sectionIndex||t.programConfigurations.populatePaintArrays(Nt.length,p,p.index,{},_t,Ie&&Ie[Wn])}t.placedSymbolArray.emplaceBack(S.x,S.y,ue,this.glyphOffsetArray.length-ue,be,Z,st,S.segment,i?i[0]:0,i?i[1]:0,a[0],a[1],m,0,!1,0,pt)},kr.prototype._addCollisionDebugVertex=function(t,e,i,a,c,p){return e.emplaceBack(0,0),t.emplaceBack(i.x,i.y,a,c,Math.round(p.x),Math.round(p.y))},kr.prototype.addCollisionDebugVertices=function(t,e,i,a,c,p,m){var S=c.segments.prepareSegment(4,c.layoutVertexArray,c.indexArray),Z=S.vertexLength,st=c.layoutVertexArray,pt=c.collisionVertexArray,_t=m.anchorX,Bt=m.anchorY;this._addCollisionDebugVertex(st,pt,p,_t,Bt,new A(t,e)),this._addCollisionDebugVertex(st,pt,p,_t,Bt,new A(i,e)),this._addCollisionDebugVertex(st,pt,p,_t,Bt,new A(i,a)),this._addCollisionDebugVertex(st,pt,p,_t,Bt,new A(t,a)),S.vertexLength+=4;var Nt=c.indexArray;Nt.emplaceBack(Z,Z+1),Nt.emplaceBack(Z+1,Z+2),Nt.emplaceBack(Z+2,Z+3),Nt.emplaceBack(Z+3,Z),S.primitiveLength+=4},kr.prototype.addDebugCollisionBoxes=function(t,e,i,a){for(var c=t;c<e;c++){var p=this.collisionBoxArray.get(c);this.addCollisionDebugVertices(p.x1,p.y1,p.x2,p.y2,a?this.textCollisionBox:this.iconCollisionBox,p.anchorPoint,i)}},kr.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ch(Ka,$u.members,ll),this.iconCollisionBox=new ch(Ka,$u.members,ll);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},kr.prototype._deserializeCollisionBoxesForSymbol=function(t,e,i,a,c,p,m,S,Z){for(var st={},pt=e;pt<i;pt++){var _t=t.get(pt);st.textBox={x1:_t.x1,y1:_t.y1,x2:_t.x2,y2:_t.y2,anchorPointX:_t.anchorPointX,anchorPointY:_t.anchorPointY},st.textFeatureIndex=_t.featureIndex;break}for(var Bt=a;Bt<c;Bt++){var Nt=t.get(Bt);st.verticalTextBox={x1:Nt.x1,y1:Nt.y1,x2:Nt.x2,y2:Nt.y2,anchorPointX:Nt.anchorPointX,anchorPointY:Nt.anchorPointY},st.verticalTextFeatureIndex=Nt.featureIndex;break}for(var he=p;he<m;he++){var ue=t.get(he);st.iconBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},st.iconFeatureIndex=ue.featureIndex;break}for(var be=S;be<Z;be++){var ye=t.get(be);st.verticalIconBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},st.verticalIconFeatureIndex=ye.featureIndex;break}return st},kr.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var i=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex))}},kr.prototype.hasTextData=function(){return this.text.segments.get().length>0},kr.prototype.hasIconData=function(){return this.icon.segments.get().length>0},kr.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},kr.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},kr.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},kr.prototype.addIndicesForPlacedSymbol=function(t,e){for(var i=t.placedSymbolArray.get(e),a=i.vertexStartIndex+4*i.numGlyphs,c=i.vertexStartIndex;c<a;c+=4)t.indexArray.emplaceBack(c,c+1,c+2),t.indexArray.emplaceBack(c+1,c+2,c+3)},kr.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),i=Math.cos(t),a=[],c=[],p=[],m=0;m<this.symbolInstances.length;++m){p.push(m);var S=this.symbolInstances.get(m);a.push(0|Math.round(e*S.anchorX+i*S.anchorY)),c.push(S.featureIndex)}return p.sort(function(Z,st){return a[Z]-a[st]||c[st]-c[Z]}),p},kr.prototype.addToSortKeyRanges=function(t,e){var i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===e?i.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},kr.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var i=0,a=this.symbolInstanceIndexes;i<a.length;i+=1){var c=this.symbolInstances.get(a[i]);this.featureSortOrder.push(c.featureIndex),[c.rightJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.leftJustifiedTextSymbolIndex].forEach(function(p,m,S){p>=0&&S.indexOf(p)===m&&e.addIndicesForPlacedSymbol(e.text,p)}),c.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,c.verticalPlacedTextSymbolIndex),c.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,c.placedIconSymbolIndex),c.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,c.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},gi("SymbolBucket",kr,{omit:["layers","collisionBoxArray","features","compareText"]}),kr.MAX_GLYPHS=65535,kr.addDynamicAttributes=Su;var yd=new Io({"symbol-placement":new Ji(qt.layout_symbol["symbol-placement"]),"symbol-spacing":new Ji(qt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ji(qt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Xi(qt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ji(qt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ji(qt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ji(qt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ji(qt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ji(qt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Xi(qt.layout_symbol["icon-size"]),"icon-text-fit":new Ji(qt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ji(qt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Xi(qt.layout_symbol["icon-image"]),"icon-rotate":new Xi(qt.layout_symbol["icon-rotate"]),"icon-padding":new Ji(qt.layout_symbol["icon-padding"]),"icon-keep-upright":new Ji(qt.layout_symbol["icon-keep-upright"]),"icon-offset":new Xi(qt.layout_symbol["icon-offset"]),"icon-anchor":new Xi(qt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ji(qt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ji(qt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ji(qt.layout_symbol["text-rotation-alignment"]),"text-field":new Xi(qt.layout_symbol["text-field"]),"text-font":new Xi(qt.layout_symbol["text-font"]),"text-size":new Xi(qt.layout_symbol["text-size"]),"text-max-width":new Xi(qt.layout_symbol["text-max-width"]),"text-line-height":new Ji(qt.layout_symbol["text-line-height"]),"text-letter-spacing":new Xi(qt.layout_symbol["text-letter-spacing"]),"text-justify":new Xi(qt.layout_symbol["text-justify"]),"text-radial-offset":new Xi(qt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ji(qt.layout_symbol["text-variable-anchor"]),"text-anchor":new Xi(qt.layout_symbol["text-anchor"]),"text-max-angle":new Ji(qt.layout_symbol["text-max-angle"]),"text-writing-mode":new Ji(qt.layout_symbol["text-writing-mode"]),"text-rotate":new Xi(qt.layout_symbol["text-rotate"]),"text-padding":new Ji(qt.layout_symbol["text-padding"]),"text-keep-upright":new Ji(qt.layout_symbol["text-keep-upright"]),"text-transform":new Xi(qt.layout_symbol["text-transform"]),"text-offset":new Xi(qt.layout_symbol["text-offset"]),"text-allow-overlap":new Ji(qt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ji(qt.layout_symbol["text-ignore-placement"]),"text-optional":new Ji(qt.layout_symbol["text-optional"])}),Tu={paint:new Io({"icon-opacity":new Xi(qt.paint_symbol["icon-opacity"]),"icon-color":new Xi(qt.paint_symbol["icon-color"]),"icon-halo-color":new Xi(qt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Xi(qt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Xi(qt.paint_symbol["icon-halo-blur"]),"icon-translate":new Ji(qt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ji(qt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Xi(qt.paint_symbol["text-opacity"]),"text-color":new Xi(qt.paint_symbol["text-color"],{runtimeType:Ai,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Xi(qt.paint_symbol["text-halo-color"]),"text-halo-width":new Xi(qt.paint_symbol["text-halo-width"]),"text-halo-blur":new Xi(qt.paint_symbol["text-halo-blur"]),"text-translate":new Ji(qt.paint_symbol["text-translate"]),"text-translate-anchor":new Ji(qt.paint_symbol["text-translate-anchor"])}),layout:yd},Dl=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:mi,this.defaultValue=t};Dl.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},Dl.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},Dl.prototype.outputDefined=function(){return!1},Dl.prototype.serialize=function(){return null},gi("FormatSectionOverride",Dl,{omit:["defaultValue"]});var gd=function(t){function e(i){t.call(this,i,Tu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(i,a){if(t.prototype.recalculate.call(this,i,a),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var c=this.layout.get("text-writing-mode");if(c){for(var p=[],m=0,S=c;m<S.length;m+=1){var Z=S[m];p.indexOf(Z)<0&&p.push(Z)}this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(i,a,c,p){var Z,m=this.layout.get(i).evaluate(a,{},c,p),S=this._unevaluatedLayout._values[i];return S.isDataDriven()||Ao(S.value)||!m?m:(Z=a.properties,m.replace(/{([^{}]+)}/g,function(pt,_t){return _t in Z?String(Z[_t]):""}))},e.prototype.createBucket=function(i){return new kr(i)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var i=0,a=Tu.paint.overridableProperties;i<a.length;i+=1){var c=a[i];if(e.hasPaintOverride(this.layout,c)){var p,m=this.paint.get(c),S=new Dl(m),Z=new ks(S,m.property.specification);p="constant"===m.value.kind||"source"===m.value.kind?new Cr("source",Z):new es("composite",Z,m.value.zoomStops,m.value._interpolationType),this.paint._values[c]=new lo(m.property,p,m.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(i,a,c){return!(!this.layout||a.isDataDriven()||c.isDataDriven())&&e.hasPaintOverride(this.layout,i)},e.hasPaintOverride=function(i,a){var c=i.get("text-field"),p=Tu.paint.properties[a],m=!1,S=function(pt){for(var _t=0,Bt=pt;_t<Bt.length;_t+=1)if(p.overrides&&p.overrides.hasOverride(Bt[_t]))return void(m=!0)};if("constant"===c.value.kind&&c.value.value instanceof rr)S(c.value.value.sections);else if("source"===c.value.kind){var Z=function(pt){m||(pt instanceof Gr&&ur(pt.value)===fn?S(pt.value.sections):pt instanceof Vo?S(pt.sections):pt.eachChild(Z))},st=c.value;st._styleExpression&&Z(st._styleExpression.expression)}return m},e}(Zs),vd={paint:new Io({"background-color":new Ji(qt.paint_background["background-color"]),"background-pattern":new Xo(qt.paint_background["background-pattern"]),"background-opacity":new Ji(qt.paint_background["background-opacity"])})},_d=function(t){function e(i){t.call(this,i,vd)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Zs),xd={paint:new Io({"raster-opacity":new Ji(qt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ji(qt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ji(qt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ji(qt.paint_raster["raster-brightness-max"]),"raster-saturation":new Ji(qt.paint_raster["raster-saturation"]),"raster-contrast":new Ji(qt.paint_raster["raster-contrast"]),"raster-resampling":new Ji(qt.paint_raster["raster-resampling"]),"raster-fade-duration":new Ji(qt.paint_raster["raster-fade-duration"])})},bd=function(t){function e(i){t.call(this,i,xd)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Zs),wd=function(t){function e(i){t.call(this,i,{}),this.implementation=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)},e.prototype.onRemove=function(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)},e}(Zs),Sd={circle:lu,heatmap:sp,hillshade:lp,fill:Cp,"fill-extrusion":Op,line:Np,symbol:gd,background:_d,raster:bd},bc=b.HTMLImageElement,wc=b.HTMLCanvasElement,Sc=b.HTMLVideoElement,Tc=b.ImageData,qh=b.ImageBitmap,fl=function(t,e,i,a){this.context=t,this.format=i,this.texture=t.gl.createTexture(),this.update(e,a)};fl.prototype.update=function(t,e,i){var a=t.width,c=t.height,p=!(this.size&&this.size[0]===a&&this.size[1]===c||i),m=this.context,S=m.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),S.bindTexture(S.TEXTURE_2D,this.texture),m.pixelStoreUnpackFlipY.set(!1),m.pixelStoreUnpack.set(1),m.pixelStoreUnpackPremultiplyAlpha.set(this.format===S.RGBA&&(!e||!1!==e.premultiply)),p)this.size=[a,c],t instanceof bc||t instanceof wc||t instanceof Sc||t instanceof Tc||qh&&t instanceof qh?S.texImage2D(S.TEXTURE_2D,0,this.format,this.format,S.UNSIGNED_BYTE,t):S.texImage2D(S.TEXTURE_2D,0,this.format,a,c,0,this.format,S.UNSIGNED_BYTE,t.data);else{var Z=i||{x:0,y:0},st=Z.x,pt=Z.y;t instanceof bc||t instanceof wc||t instanceof Sc||t instanceof Tc||qh&&t instanceof qh?S.texSubImage2D(S.TEXTURE_2D,0,st,pt,S.RGBA,S.UNSIGNED_BYTE,t):S.texSubImage2D(S.TEXTURE_2D,0,st,pt,a,c,S.RGBA,S.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&S.generateMipmap(S.TEXTURE_2D)},fl.prototype.bind=function(t,e,i){var a=this.context.gl;a.bindTexture(a.TEXTURE_2D,this.texture),i!==a.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=a.LINEAR),t!==this.filter&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,t),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,e),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,e),this.wrap=e)},fl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},fl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Cu=function(t){var e=this;this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};Cu.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){t._triggered=!1,t._callback()},0))},Cu.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Rl=function(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},U(["receive","process"],this),this.invoker=new Cu(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=jt()?t:b};function Cc(t,e,i){var a=2*Math.PI*6378137/256/Math.pow(2,i);return[t*a-2*Math.PI*6378137/2,e*a-2*Math.PI*6378137/2]}Rl.prototype.send=function(t,e,i,a,c){var p=this;void 0===c&&(c=!1);var m=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(this.callbacks[m]=i);var S=pe(this.globalScope)?void 0:[];return this.target.postMessage({id:m,type:t,hasCallback:!!i,targetMapId:a,mustQueue:c,sourceMapId:this.mapId,data:Xr(e,S)},S),{cancel:function(){i&&delete p.callbacks[m],p.target.postMessage({id:m,type:"<cancel>",targetMapId:a,sourceMapId:p.mapId})}}},Rl.prototype.receive=function(t){var e=t.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[i];var a=this.cancelCallbacks[i];delete this.cancelCallbacks[i],a&&a()}else jt()||e.mustQueue?(this.tasks[i]=e,this.taskQueue.push(i),this.invoker.trigger()):this.processTask(i,e)},Rl.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Rl.prototype.processTask=function(t,e){var i=this;if("<response>"===e.type){var a=this.callbacks[t];delete this.callbacks[t],a&&(e.error?a(Yr(e.error)):a(null,Yr(e.data)))}else{var c=!1,p=pe(this.globalScope)?void 0:[],m=e.hasCallback?function(pt,_t){c=!0,delete i.cancelCallbacks[t],i.target.postMessage({id:t,type:"<response>",sourceMapId:i.mapId,error:pt?Xr(pt):null,data:Xr(_t,p)},p)}:function(pt){c=!0},S=null,Z=Yr(e.data);if(this.parent[e.type])S=this.parent[e.type](e.sourceMapId,Z,m);else if(this.parent.getWorkerSource){var st=e.type.split(".");S=this.parent.getWorkerSource(e.sourceMapId,st[0],Z.source)[st[1]](Z,m)}else m(new Error("Could not find function "+e.type));!c&&S&&S.cancel&&(this.cancelCallbacks[t]=S.cancel)}},Rl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Oo=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Oo.prototype.setNorthEast=function(t){return this._ne=t instanceof Kr?new Kr(t.lng,t.lat):Kr.convert(t),this},Oo.prototype.setSouthWest=function(t){return this._sw=t instanceof Kr?new Kr(t.lng,t.lat):Kr.convert(t),this},Oo.prototype.extend=function(t){var e,i,a=this._sw,c=this._ne;if(t instanceof Kr)e=t,i=t;else{if(!(t instanceof Oo))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Oo.convert(t)):this.extend(Kr.convert(t)):this;if(i=t._ne,!(e=t._sw)||!i)return this}return a||c?(a.lng=Math.min(e.lng,a.lng),a.lat=Math.min(e.lat,a.lat),c.lng=Math.max(i.lng,c.lng),c.lat=Math.max(i.lat,c.lat)):(this._sw=new Kr(e.lng,e.lat),this._ne=new Kr(i.lng,i.lat)),this},Oo.prototype.getCenter=function(){return new Kr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Oo.prototype.getSouthWest=function(){return this._sw},Oo.prototype.getNorthEast=function(){return this._ne},Oo.prototype.getNorthWest=function(){return new Kr(this.getWest(),this.getNorth())},Oo.prototype.getSouthEast=function(){return new Kr(this.getEast(),this.getSouth())},Oo.prototype.getWest=function(){return this._sw.lng},Oo.prototype.getSouth=function(){return this._sw.lat},Oo.prototype.getEast=function(){return this._ne.lng},Oo.prototype.getNorth=function(){return this._ne.lat},Oo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Oo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Oo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Oo.prototype.contains=function(t){var e=Kr.convert(t),i=e.lng,a=e.lat,c=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(c=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=a&&a<=this._ne.lat&&c},Oo.convert=function(t){return!t||t instanceof Oo?t:new Oo(t)};var Kr=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Kr.prototype.wrap=function(){return new Kr(I(this.lng,-180,180),this.lat)},Kr.prototype.toArray=function(){return[this.lng,this.lat]},Kr.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Kr.prototype.distanceTo=function(t){var e=Math.PI/180,i=this.lat*e,a=t.lat*e,c=Math.sin(i)*Math.sin(a)+Math.cos(i)*Math.cos(a)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(c,1))},Kr.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new Oo(new Kr(this.lng-i,this.lat-e),new Kr(this.lng+i,this.lat+e))},Kr.convert=function(t){if(t instanceof Kr)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Kr(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Kr(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ac=2*Math.PI*6371008.8;function Ec(t){return Ac*Math.cos(t*Math.PI/180)}function kc(t){return(180+t)/360}function Mc(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Pc(t,e){return t/Ec(e)}function Au(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var ml=function(t,e,i){void 0===i&&(i=0),this.x=+t,this.y=+e,this.z=+i};ml.fromLngLat=function(t,e){void 0===e&&(e=0);var i=Kr.convert(t);return new ml(kc(i.lng),Mc(i.lat),Pc(e,i.lat))},ml.prototype.toLngLat=function(){return new Kr(360*this.x-180,Au(this.y))},ml.prototype.toAltitude=function(){return this.z*Ec(Au(this.y))},ml.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ac*(t=Au(this.y),1/Math.cos(t*Math.PI/180));var t};var yl=function(t,e,i){this.z=t,this.x=e,this.y=i,this.key=ph(0,t,t,e,i)};yl.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},yl.prototype.url=function(t,e){var i,a,c,p,m,S=(a=this.y,c=this.z,p=Cc(256*(i=this.x),256*(a=Math.pow(2,c)-a-1),c),m=Cc(256*(i+1),256*(a+1),c),p[0]+","+p[1]+","+m[0]+","+m[1]),Z=function(st,pt,_t){for(var Bt,Nt="",he=st;he>0;he--)Nt+=(pt&(Bt=1<<he-1)?1:0)+(_t&Bt?2:0);return Nt}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",Z).replace("{bbox-epsg-3857}",S)},yl.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new A(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},yl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Lc=function(t,e){this.wrap=t,this.canonical=e,this.key=ph(t,e.z,e.z,e.x,e.y)},Do=function(t,e,i,a,c){this.overscaledZ=t,this.wrap=e,this.canonical=new yl(i,+a,+c),this.key=ph(e,t,i,a,c)};function ph(t,e,i,a,c){(t*=2)<0&&(t=-1*t-1);var p=1<<i;return(p*p*t+p*c+a).toString(36)+i.toString(36)+e.toString(36)}Do.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Do.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Do(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Do(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Do.prototype.calculateScaledKey=function(t,e){var i=this.canonical.z-t;return t>this.canonical.z?ph(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):ph(this.wrap*+e,t,t,this.canonical.x>>i,this.canonical.y>>i)},Do.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Do.prototype.children=function(t){if(this.overscaledZ>=t)return[new Do(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,i=2*this.canonical.x,a=2*this.canonical.y;return[new Do(e,this.wrap,e,i,a),new Do(e,this.wrap,e,i+1,a),new Do(e,this.wrap,e,i,a+1),new Do(e,this.wrap,e,i+1,a+1)]},Do.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Do.prototype.wrapped=function(){return new Do(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Do.prototype.unwrapTo=function(t){return new Do(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Do.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Do.prototype.toUnwrapped=function(){return new Lc(this.wrap,this.canonical)},Do.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Do.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new ml(t.x-this.wrap,t.y))},gi("CanonicalTileID",yl),gi("OverscaledTileID",Do,{omit:["posMatrix"]});var Va=function(t,e,i){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(i&&"mapbox"!==i&&"terrarium"!==i)return X('"'+i+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var a=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=i||"mapbox";for(var c=0;c<a;c++)this.data[this._idx(-1,c)]=this.data[this._idx(0,c)],this.data[this._idx(a,c)]=this.data[this._idx(a-1,c)],this.data[this._idx(c,-1)]=this.data[this._idx(c,0)],this.data[this._idx(c,a)]=this.data[this._idx(c,a-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(a,-1)]=this.data[this._idx(a-1,0)],this.data[this._idx(-1,a)]=this.data[this._idx(0,a-1)],this.data[this._idx(a,a)]=this.data[this._idx(a-1,a-1)]};Va.prototype.get=function(t,e){var i=new Uint8Array(this.data.buffer),a=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(i[a],i[a+1],i[a+2])},Va.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Va.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Va.prototype._unpackMapbox=function(t,e,i){return(256*t*256+256*e+i)/10-1e4},Va.prototype._unpackTerrarium=function(t,e,i){return 256*t+e+i/256-32768},Va.prototype.getPixels=function(){return new Os({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Va.prototype.backfillBorder=function(t,e,i){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var a=e*this.dim,c=e*this.dim+this.dim,p=i*this.dim,m=i*this.dim+this.dim;switch(e){case-1:a=c-1;break;case 1:c=a+1}switch(i){case-1:p=m-1;break;case 1:m=p+1}for(var S=-e*this.dim,Z=-i*this.dim,st=p;st<m;st++)for(var pt=a;pt<c;pt++)this.data[this._idx(pt,st)]=t.data[this._idx(pt+S,st+Z)]},gi("DEMData",Va);var Zh=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var i=t[e];this._stringToNumber[i]=e,this._numberToString[e]=i}};Zh.prototype.encode=function(t){return this._stringToNumber[t]},Zh.prototype.decode=function(t){return this._numberToString[t]};var Gh=function(t,e,i,a,c){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=a,this.properties=t.properties,this.id=c},Eu={geometry:{configurable:!0}};Eu.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Eu.geometry.set=function(t){this._geometry=t},Gh.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Gh.prototype,Eu);var Bl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Bl.prototype.updateState=function(t,e,i){var a=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][a]=this.stateChanges[t][a]||{},B(this.stateChanges[t][a],i),null===this.deletedStates[t])for(var c in this.deletedStates[t]={},this.state[t])c!==a&&(this.deletedStates[t][c]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][a])for(var p in this.deletedStates[t][a]={},this.state[t][a])i[p]||(this.deletedStates[t][a][p]=null);else for(var m in i)this.deletedStates[t]&&this.deletedStates[t][a]&&null===this.deletedStates[t][a][m]&&delete this.deletedStates[t][a][m]},Bl.prototype.removeFeatureState=function(t,e,i){if(null!==this.deletedStates[t]){var a=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},i&&void 0!==e)null!==this.deletedStates[t][a]&&(this.deletedStates[t][a]=this.deletedStates[t][a]||{},this.deletedStates[t][a][i]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][a])for(i in this.deletedStates[t][a]={},this.stateChanges[t][a])this.deletedStates[t][a][i]=null;else this.deletedStates[t][a]=null;else this.deletedStates[t]=null}},Bl.prototype.getState=function(t,e){var i=String(e),a=B({},(this.state[t]||{})[i],(this.stateChanges[t]||{})[i]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var c=this.deletedStates[t][e];if(null===c)return{};for(var p in c)delete a[p]}return a},Bl.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},Bl.prototype.coalesceChanges=function(t,e){var i={};for(var a in this.stateChanges){this.state[a]=this.state[a]||{};var c={};for(var p in this.stateChanges[a])this.state[a][p]||(this.state[a][p]={}),B(this.state[a][p],this.stateChanges[a][p]),c[p]=this.state[a][p];i[a]=c}for(var m in this.deletedStates){this.state[m]=this.state[m]||{};var S={};if(null===this.deletedStates[m])for(var Z in this.state[m])S[Z]={},this.state[m][Z]={};else for(var st in this.deletedStates[m]){if(null===this.deletedStates[m][st])this.state[m][st]={};else for(var pt=0,_t=Object.keys(this.deletedStates[m][st]);pt<_t.length;pt+=1)delete this.state[m][st][_t[pt]];S[st]=this.state[m][st]}i[m]=i[m]||{},B(i[m],S)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(var Bt in t)t[Bt].setFeatureState(i,e)};var qa=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new er(8192,16,0),this.grid3D=new er(8192,16,0),this.featureIndexArray=new bt,this.promoteId=e};function Ic(t,e,i,a,c){return ct(t,function(p,m){var S=e instanceof ha?e.get(m):null;return S&&S.evaluate?S.evaluate(i,a,c):S})}function zc(t){for(var e=1/0,i=1/0,a=-1/0,c=-1/0,p=0,m=t;p<m.length;p+=1){var S=m[p];e=Math.min(e,S.x),i=Math.min(i,S.y),a=Math.max(a,S.x),c=Math.max(c,S.y)}return{minX:e,minY:i,maxX:a,maxY:c}}function Td(t,e){return e-t}qa.prototype.insert=function(t,e,i,a,c,p){var m=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,a,c);for(var S=p?this.grid3D:this.grid,Z=0;Z<e.length;Z++){for(var st=e[Z],pt=[1/0,1/0,-1/0,-1/0],_t=0;_t<st.length;_t++){var Bt=st[_t];pt[0]=Math.min(pt[0],Bt.x),pt[1]=Math.min(pt[1],Bt.y),pt[2]=Math.max(pt[2],Bt.x),pt[3]=Math.max(pt[3],Bt.y)}pt[0]<8192&&pt[1]<8192&&pt[2]>=0&&pt[3]>=0&&S.insert(m,pt[0],pt[1],pt[2],pt[3])}},qa.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new El.VectorTile(new zh(this.rawTileData)).layers,this.sourceLayerCoder=new Zh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},qa.prototype.query=function(t,e,i,a){var c=this;this.loadVTLayers();for(var p=t.params||{},m=8192/t.tileSize/t.scale,S=yi(p.filter),Z=t.queryGeometry,st=t.queryPadding*m,pt=zc(Z),_t=this.grid.query(pt.minX-st,pt.minY-st,pt.maxX+st,pt.maxY+st),Bt=zc(t.cameraQueryGeometry),he=0,ue=this.grid3D.query(Bt.minX-st,Bt.minY-st,Bt.maxX+st,Bt.maxY+st,function(We,Ye,ri,xi){return function(zi,$i,Fi,tn,Ui){for(var Nn=0,un=zi;Nn<un.length;Nn+=1){var Yi=un[Nn];if($i<=Yi.x&&Fi<=Yi.y&&tn>=Yi.x&&Ui>=Yi.y)return!0}var Wn=[new A($i,Fi),new A($i,Ui),new A(tn,Ui),new A(tn,Fi)];if(zi.length>2)for(var zn=0,nr=Wn;zn<nr.length;zn+=1)if(ca(zi,nr[zn]))return!0;for(var en=0;en<zi.length-1;en++)if(cl(zi[en],zi[en+1],Wn))return!0;return!1}(t.cameraQueryGeometry,We-st,Ye-st,ri+st,xi+st)});he<ue.length;he+=1)_t.push(ue[he]);_t.sort(Td);for(var be,ye={},Ie=function(We){var Ye=_t[We];if(Ye!==be){be=Ye;var ri=c.featureIndexArray.get(Ye),xi=null;c.loadMatchingFeature(ye,ri.bucketIndex,ri.sourceLayerIndex,ri.featureIndex,S,p.layers,p.availableImages,e,i,a,function(zi,$i,Fi){return xi||(xi=oo(zi)),$i.queryIntersectsFeature(Z,zi,Fi,xi,c.z,t.transform,m,t.pixelPosMatrix)})}},Ne=0;Ne<_t.length;Ne++)Ie(Ne);return ye},qa.prototype.loadMatchingFeature=function(t,e,i,a,c,p,m,S,Z,st,pt){var _t=this.bucketLayerIDs[e];if(!p||function(zi,$i){for(var Fi=0;Fi<zi.length;Fi++)if($i.indexOf(zi[Fi])>=0)return!0;return!1}(p,_t)){var Bt=this.sourceLayerCoder.decode(i),Nt=this.vtLayers[Bt].feature(a);if(c.needGeometry){var he=_o(Nt,!0);if(!c.filter(new Hn(this.tileID.overscaledZ),he,this.tileID.canonical))return}else if(!c.filter(new Hn(this.tileID.overscaledZ),Nt))return;for(var ue=this.getId(Nt,Bt),be=0;be<_t.length;be++){var ye=_t[be];if(!(p&&p.indexOf(ye)<0)){var Ie=S[ye];if(Ie){var Ne={};void 0!==ue&&st&&(Ne=st.getState(Ie.sourceLayer||"_geojsonTileLayer",ue));var We=B({},Z[ye]);We.paint=Ic(We.paint,Ie.paint,Nt,Ne,m),We.layout=Ic(We.layout,Ie.layout,Nt,Ne,m);var Ye=!pt||pt(Nt,Ie,Ne);if(Ye){var ri=new Gh(Nt,this.z,this.x,this.y,ue);ri.layer=We;var xi=t[ye];void 0===xi&&(xi=t[ye]=[]),xi.push({featureIndex:a,feature:ri,intersectionZ:Ye})}}}}}},qa.prototype.lookupSymbolFeatures=function(t,e,i,a,c,p,m,S){var Z={};this.loadVTLayers();for(var st=yi(c),pt=0,_t=t;pt<_t.length;pt+=1)this.loadMatchingFeature(Z,i,a,_t[pt],st,p,m,S,e);return Z},qa.prototype.hasLayer=function(t){for(var e=0,i=this.bucketLayerIDs;e<i.length;e+=1)for(var a=0,c=i[e];a<c.length;a+=1)if(t===c[a])return!0;return!1},qa.prototype.getId=function(t,e){var i=t.id;return this.promoteId&&"boolean"==typeof(i=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(i=Number(i)),i},gi("FeatureIndex",qa,{omit:["rawTileData","sourceLayerCoder"]});var Ko=function(t,e){this.tileID=t,this.uid=Ut(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ko.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<ne.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},Ko.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Ko.prototype.loadVectorData=function(t,e,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var a in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(st,pt){var _t={};if(!pt)return _t;for(var Bt=function(){var ue=he[Nt],be=ue.layerIds.map(function(Ne){return pt.getLayer(Ne)}).filter(Boolean);if(0!==be.length){ue.layers=be,ue.stateDependentLayerIds&&(ue.stateDependentLayers=ue.stateDependentLayerIds.map(function(Ne){return be.filter(function(We){return We.id===Ne})[0]}));for(var ye=0,Ie=be;ye<Ie.length;ye+=1)_t[Ie[ye].id]=ue}},Nt=0,he=st;Nt<he.length;Nt+=1)Bt();return _t}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var c=this.buckets[a];if(c instanceof kr){if(this.hasSymbolBuckets=!0,!i)break;c.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var p in this.buckets){var m=this.buckets[p];if(m instanceof kr&&m.hasRTLText){this.hasRTLText=!0,ls.isLoading()||ls.isLoaded()||"deferred"!==ol()||Ys();break}}for(var S in this.queryPadding=0,this.buckets){var Z=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(S).queryRadius(Z))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new s},Ko.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ko.prototype.getBucket=function(t){return this.buckets[t.id]},Ko.prototype.upload=function(t){for(var e in this.buckets){var i=this.buckets[e];i.uploadPending()&&i.upload(t)}var a=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new fl(t,this.imageAtlas.image,a.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new fl(t,this.glyphAtlasImage,a.ALPHA),this.glyphAtlasImage=null)},Ko.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},Ko.prototype.queryRenderedFeatures=function(t,e,i,a,c,p,m,S,Z,st){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:a,cameraQueryGeometry:c,scale:p,tileSize:this.tileSize,pixelPosMatrix:st,transform:S,params:m,queryPadding:this.queryPadding*Z},t,e,i):{}},Ko.prototype.querySourceFeatures=function(t,e){var i=this.latestFeatureIndex;if(i&&i.rawTileData){var a=i.loadVTLayers(),c=e?e.sourceLayer:"",p=a._geojsonTileLayer||a[c];if(p)for(var m=yi(e&&e.filter),S=this.tileID.canonical,Z=S.z,st=S.x,pt=S.y,_t={z:Z,x:st,y:pt},Bt=0;Bt<p.length;Bt++){var Nt=p.feature(Bt);if(m.needGeometry){var he=_o(Nt,!0);if(!m.filter(new Hn(this.tileID.overscaledZ),he,this.tileID.canonical))continue}else if(!m.filter(new Hn(this.tileID.overscaledZ),Nt))continue;var ue=i.getId(Nt,c),be=new Gh(Nt,Z,st,pt,ue);be.tile=_t,t.push(be)}}},Ko.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Ko.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ko.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var i=kt(t.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var a=Date.now(),c=!1;if(this.expirationTime>a)c=!1;else if(e)if(this.expirationTime<e)c=!0;else{var p=this.expirationTime-e;p?this.expirationTime=a+Math.max(p,3e4):c=!0}else c=!0;c?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ko.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Ko.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var i=this.latestFeatureIndex.loadVTLayers();for(var a in this.buckets)if(e.style.hasLayer(a)){var c=this.buckets[a],p=c.layers[0].sourceLayer||"_geojsonTileLayer",m=i[p],S=t[p];if(m&&S&&0!==Object.keys(S).length){c.update(S,m,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Z=e&&e.style&&e.style.getLayer(a);Z&&(this.queryPadding=Math.max(this.queryPadding,Z.queryRadius(c)))}}}},Ko.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Ko.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ne.now()},Ko.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ko.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=ne.now()+t},Ko.prototype.setDependencies=function(t,e){for(var i={},a=0,c=e;a<c.length;a+=1)i[c[a]]=!0;this.dependencies[t]=i},Ko.prototype.hasDependency=function(t,e){for(var i=0,a=t;i<a.length;i+=1){var c=this.dependencies[a[i]];if(c)for(var p=0,m=e;p<m.length;p+=1)if(c[m[p]])return!0}return!1};var el=b.performance,Oc=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},el.mark(this._marks.start)};Oc.prototype.finish=function(){el.mark(this._marks.end);var t=el.getEntriesByName(this._marks.measure);return 0===t.length&&(el.measure(this._marks.measure,this._marks.start,this._marks.end),t=el.getEntriesByName(this._marks.measure),el.clearMarks(this._marks.start),el.clearMarks(this._marks.end),el.clearMeasures(this._marks.measure)),t},h.Actor=Rl,h.AlphaImage=dl,h.CanonicalTileID=yl,h.CollisionBoxArray=s,h.Color=Gi,h.DEMData=Va,h.DataConstantProperty=Ji,h.DictionaryCoder=Zh,h.EXTENT=8192,h.ErrorEvent=ge,h.EvaluationParameters=Hn,h.Event=oe,h.Evented=Te,h.FeatureIndex=qa,h.FillBucket=va,h.FillExtrusionBucket=_a,h.ImageAtlas=uh,h.ImagePosition=Dh,h.LineBucket=Ss,h.LngLat=Kr,h.LngLatBounds=Oo,h.MercatorCoordinate=ml,h.ONE_EM=24,h.OverscaledTileID=Do,h.Point=A,h.Point$1=A,h.Properties=Io,h.Protobuf=zh,h.RGBAImage=Os,h.RequestManager=ai,h.RequestPerformance=Oc,h.ResourceType=Rn,h.SegmentVector=Wt,h.SourceFeatureState=Bl,h.StructArrayLayout1ui2=eh,h.StructArrayLayout2f1f2i16=ja,h.StructArrayLayout2i4=Ba,h.StructArrayLayout3ui6=Ca,h.StructArrayLayout4i8=Jl,h.SymbolBucket=kr,h.Texture=fl,h.Tile=Ko,h.Transitionable=Lo,h.Uniform1f=Ei,h.Uniform1i=di,h.Uniform2f=Ti,h.Uniform3f=qi,h.Uniform4f=Qi,h.UniformColor=on,h.UniformMatrix4f=ar,h.UnwrappedTileID=Lc,h.ValidationError=fe,h.WritingMode=$s,h.ZoomHistory=Wo,h.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},h.addDynamicAttributes=Su,h.asyncAll=function(t,e,i){if(!t.length)return i(null,[]);var a=t.length,c=new Array(t.length),p=null;t.forEach(function(m,S){e(m,function(Z,st){Z&&(p=Z),c[S]=st,0==--a&&i(p,c)})})},h.bezier=k,h.bindAll=U,h.browser=ne,h.cacheEntryPossiblyAdded=function(t){++eo>sn&&(t.getActor().send("enforceCacheSizeLimit",Ni),eo=0)},h.clamp=Q,h.clearTileCache=function(t){var e=b.caches.delete("mapbox-tiles");t&&e.catch(t).then(function(){return t()})},h.clipLine=mc,h.clone=function(t){var e=new mr(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},h.clone$1=M,h.clone$2=function(t){var e=new mr(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},h.collisionCircleLayout=Zp,h.config=re,h.create=function(){var t=new mr(16);return mr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},h.create$1=function(){var t=new mr(9);return mr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},h.create$2=function(){var t=new mr(4);return mr!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},h.createCommonjsModule=rt,h.createExpression=Ns,h.createLayout=Eo,h.createStyleLayer=function(t){return"custom"===t.type?new wd(t):new Sd[t.type](t)},h.cross=function(t,e,i){var a=e[0],c=e[1],p=e[2],m=i[0],S=i[1],Z=i[2];return t[0]=c*Z-p*S,t[1]=p*m-a*Z,t[2]=a*S-c*m,t},h.deepEqual=function t(e,i){if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return!1;for(var a=0;a<e.length;a++)if(!t(e[a],i[a]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==i){if("object"!=typeof i||Object.keys(e).length!==Object.keys(i).length)return!1;for(var c in e)if(!t(e[c],i[c]))return!1;return!0}return e===i},h.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},h.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},h.ease=P,h.emitValidationErrors=Xn,h.endsWith=mt,h.enforceCacheSizeLimit=function(t){hr(),H&&H.then(function(e){e.keys().then(function(i){for(var a=0;a<i.length-t;a++)e.delete(i[a])})})},h.evaluateSizeForFeature=hc,h.evaluateSizeForZoom=uc,h.evaluateVariableOffset=vc,h.evented=Sa,h.extend=B,h.featureFilter=yi,h.filterObject=ft,h.fromRotation=function(t,e){var i=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=i,t[2]=0,t[3]=-i,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},h.getAnchorAlignment=_u,h.getAnchorJustification=wu,h.getArrayBuffer=rn,h.getImage=Mt,h.getJSON=function(t,e){return Ro(B(t,{type:"json"}),e)},h.getRTLTextPluginStatus=ol,h.getReferrer=Or,h.getVideo=function(t,e){var i,a,c=b.document.createElement("video");c.muted=!0,c.onloadstart=function(){e(null,c)};for(var p=0;p<t.length;p++){var m=b.document.createElement("source");i=t[p],a=void 0,(a=b.document.createElement("a")).href=i,(a.protocol!==b.document.location.protocol||a.host!==b.document.location.host)&&(c.crossOrigin="Anonymous"),m.src=t[p],c.appendChild(m)}return{cancel:function(){}}},h.identity=Gs,h.invert=function(t,e){var i=e[0],a=e[1],c=e[2],p=e[3],m=e[4],S=e[5],Z=e[6],st=e[7],pt=e[8],_t=e[9],Bt=e[10],Nt=e[11],he=e[12],ue=e[13],be=e[14],ye=e[15],Ie=i*S-a*m,Ne=i*Z-c*m,We=i*st-p*m,Ye=a*Z-c*S,ri=a*st-p*S,xi=c*st-p*Z,zi=pt*ue-_t*he,$i=pt*be-Bt*he,Fi=pt*ye-Nt*he,tn=_t*be-Bt*ue,Ui=_t*ye-Nt*ue,Nn=Bt*ye-Nt*be,un=Ie*Nn-Ne*Ui+We*tn+Ye*Fi-ri*$i+xi*zi;return un?(t[0]=(S*Nn-Z*Ui+st*tn)*(un=1/un),t[1]=(c*Ui-a*Nn-p*tn)*un,t[2]=(ue*xi-be*ri+ye*Ye)*un,t[3]=(Bt*ri-_t*xi-Nt*Ye)*un,t[4]=(Z*Fi-m*Nn-st*$i)*un,t[5]=(i*Nn-c*Fi+p*$i)*un,t[6]=(be*We-he*xi-ye*Ne)*un,t[7]=(pt*xi-Bt*We+Nt*Ne)*un,t[8]=(m*Ui-S*Fi+st*zi)*un,t[9]=(a*Fi-i*Ui-p*zi)*un,t[10]=(he*ri-ue*We+ye*Ie)*un,t[11]=(_t*We-pt*ri-Nt*Ie)*un,t[12]=(S*$i-m*tn-Z*zi)*un,t[13]=(i*tn-a*$i+c*zi)*un,t[14]=(ue*Ne-he*Ye-be*Ie)*un,t[15]=(pt*Ye-_t*Ne+Bt*Ie)*un,t):null},h.isChar=vi,h.isMapboxURL=li,h.keysDifference=function(t,e){var i=[];for(var a in t)a in e||i.push(a);return i},h.makeRequest=Ro,h.mapObject=ct,h.mercatorXfromLng=kc,h.mercatorYfromLat=Mc,h.mercatorZfromAltitude=Pc,h.mul=au,h.multiply=ws,h.mvt=El,h.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},h.normalize=function(t,e){var i=e[0],a=e[1],c=e[2],p=i*i+a*a+c*c;return p>0&&(p=1/Math.sqrt(p)),t[0]=e[0]*p,t[1]=e[1]*p,t[2]=e[2]*p,t},h.number=Vi,h.offscreenCanvasSupported=Br,h.ortho=function(t,e,i,a,c,p,m){var S=1/(e-i),Z=1/(a-c),st=1/(p-m);return t[0]=-2*S,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*Z,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*st,t[11]=0,t[12]=(e+i)*S,t[13]=(c+a)*Z,t[14]=(m+p)*st,t[15]=1,t},h.parseGlyphPBF=function(t){return new zh(t).readFields(ed,[])},h.pbf=zh,h.performSymbolLayout=function(t,e,i,a,c,p,m){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var S=t.layers[0].layout,Z=t.layers[0]._unevaluatedLayout._values,st={};if("composite"===t.textSizeData.kind){var pt=t.textSizeData,_t=pt.maxZoom;st.compositeTextSizes=[Z["text-size"].possiblyEvaluate(new Hn(pt.minZoom),m),Z["text-size"].possiblyEvaluate(new Hn(_t),m)]}if("composite"===t.iconSizeData.kind){var Bt=t.iconSizeData,Nt=Bt.maxZoom;st.compositeIconSizes=[Z["icon-size"].possiblyEvaluate(new Hn(Bt.minZoom),m),Z["icon-size"].possiblyEvaluate(new Hn(Nt),m)]}st.layoutTextSize=Z["text-size"].possiblyEvaluate(new Hn(t.zoom+1),m),st.layoutIconSize=Z["icon-size"].possiblyEvaluate(new Hn(t.zoom+1),m),st.textMaxSize=Z["text-size"].possiblyEvaluate(new Hn(18));for(var he=24*S.get("text-line-height"),ue="map"===S.get("text-rotation-alignment")&&"point"!==S.get("symbol-placement"),be=S.get("text-keep-upright"),ye=S.get("text-size"),Ie=function(){var Ye=We[Ne],ri=S.get("text-font").evaluate(Ye,{},m).join(","),xi=ye.evaluate(Ye,{},m),zi=st.layoutTextSize.evaluate(Ye,{},m),$i=st.layoutIconSize.evaluate(Ye,{},m),Fi={horizontal:{},vertical:void 0},tn=Ye.text,Ui=[0,0];if(tn){var Nn=tn.toString(),un=24*S.get("text-letter-spacing").evaluate(Ye,{},m),Yi=function(Kn){for(var zr=0,wr=Kn;zr<wr.length;zr+=1)if(lr=wr[zr].charCodeAt(0),vi.Arabic(lr)||vi["Arabic Supplement"](lr)||vi["Arabic Extended-A"](lr)||vi["Arabic Presentation Forms-A"](lr)||vi["Arabic Presentation Forms-B"](lr))return!1;var lr;return!0}(Nn)?un:0,Wn=S.get("text-anchor").evaluate(Ye,{},m),zn=S.get("text-variable-anchor");if(!zn){var nr=S.get("text-radial-offset").evaluate(Ye,{},m);Ui=nr?vc(Wn,[24*nr,bu]):S.get("text-offset").evaluate(Ye,{},m).map(function(Kn){return 24*Kn})}var en=ue?"center":S.get("text-justify").evaluate(Ye,{},m),dr=S.get("symbol-placement"),Jr="point"===dr?24*S.get("text-max-width").evaluate(Ye,{},m):0,uo=function(){t.allowVerticalPlacement&&Ms(Nn)&&(Fi.vertical=Rh(tn,e,i,c,ri,Jr,he,Wn,"left",Yi,Ui,$s.vertical,!0,dr,zi,xi))};if(!ue&&zn){for(var so="auto"===en?zn.map(function(Kn){return wu(Kn)}):[en],$r=!1,co=0;co<so.length;co++){var No=so[co];if(!Fi.horizontal[No])if($r)Fi.horizontal[No]=Fi.horizontal[0];else{var Uo=Rh(tn,e,i,c,ri,Jr,he,"center",No,Yi,Ui,$s.horizontal,!1,dr,zi,xi);Uo&&(Fi.horizontal[No]=Uo,$r=1===Uo.positionedLines.length)}}uo()}else{"auto"===en&&(en=wu(Wn));var ms=Rh(tn,e,i,c,ri,Jr,he,Wn,en,Yi,Ui,$s.horizontal,!1,dr,zi,xi);ms&&(Fi.horizontal[en]=ms),uo(),Ms(Nn)&&ue&&be&&(Fi.vertical=Rh(tn,e,i,c,ri,Jr,he,Wn,en,Yi,Ui,$s.vertical,!1,dr,zi,xi))}}var Kn,zr,lr,Ts,us,Jo=void 0,ys=!1;if(Ye.icon&&Ye.icon.name){var xo=a[Ye.icon.name];xo&&(Kn=c[Ye.icon.name],zr=S.get("icon-offset").evaluate(Ye,{},m),lr=_u(S.get("icon-anchor").evaluate(Ye,{},m)),Jo={image:Kn,top:us=zr[1]-Kn.displaySize[1]*lr.verticalAlign,bottom:us+Kn.displaySize[1],left:Ts=zr[0]-Kn.displaySize[0]*lr.horizontalAlign,right:Ts+Kn.displaySize[0]},ys=xo.sdf,void 0===t.sdfIcons?t.sdfIcons=xo.sdf:t.sdfIcons!==xo.sdf&&X("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xo.pixelRatio!==t.pixelRatio||0!==S.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var $o=xc(Fi.horizontal)||Fi.vertical;t.iconsInText=!!$o&&$o.iconsInText,($o||Jo)&&function(Kn,zr,wr,lr,Ts,us,Zr,ko,cs,fr,La){var Qs=us.textMaxSize.evaluate(zr,{});void 0===Qs&&(Qs=Zr);var Ia,bo=Kn.layers[0].layout,za=bo.get("icon-offset").evaluate(zr,{},La),da=xc(wr.horizontal),jl=Zr/24,gl=Kn.tilePixelRatio*jl,Fl=Kn.tilePixelRatio*Qs/24,Za=Kn.tilePixelRatio*ko,Nl=Kn.tilePixelRatio*bo.get("symbol-spacing"),Hh=bo.get("text-padding")*Kn.tilePixelRatio,Ul=bo.get("icon-padding")*Kn.tilePixelRatio,dh=bo.get("text-max-angle")/180*Math.PI,Wh="map"===bo.get("text-rotation-alignment")&&"point"!==bo.get("symbol-placement"),Xh="map"===bo.get("icon-rotation-alignment")&&"point"!==bo.get("symbol-placement"),Ga=bo.get("symbol-placement"),fh=Nl/2,Vl=bo.get("icon-text-fit");lr&&"none"!==Vl&&(Kn.allowVerticalPlacement&&wr.vertical&&(Ia=lc(lr,wr.vertical,Vl,bo.get("icon-text-fit-padding"),za,jl)),da&&(lr=lc(lr,da,Vl,bo.get("icon-text-fit-padding"),za,jl)));var il=function(Cd,wh){wh.x<0||wh.x>=8192||wh.y<0||wh.y>=8192||function(wo,xa,Ad,nl,Lu,Bc,tu,Oa,eu,Sh,iu,nu,Iu,jc,Th,Fc,Nc,Uc,Vc,qc,ta,ru,Zc,Da,Ed){var Gc,_l,Wl,Xl,Yl,Kl=wo.addToLineVertexArray(xa,Ad),Hc=0,Wc=0,Xc=0,Yc=0,zu=-1,Ou=-1,Ha={},Kc=ae(""),Du=0,Ru=0;if(void 0===Oa._unevaluatedLayout.getValue("text-radial-offset")?(Du=(Gc=Oa.layout.get("text-offset").evaluate(ta,{},Da).map(function(Ah){return 24*Ah}))[0],Ru=Gc[1]):(Du=24*Oa.layout.get("text-radial-offset").evaluate(ta,{},Da),Ru=bu),wo.allowVerticalPlacement&&nl.vertical){var Jc=Oa.layout.get("text-rotate").evaluate(ta,{},Da)+90;Xl=new Uh(eu,xa,Sh,iu,nu,nl.vertical,Iu,jc,Th,Jc),tu&&(Yl=new Uh(eu,xa,Sh,iu,nu,tu,Nc,Uc,Th,Jc))}if(Lu){var Bu=Oa.layout.get("icon-rotate").evaluate(ta,{}),$c="none"!==Oa.layout.get("icon-text-fit"),Qc=yc(Lu,Bu,Zc,$c),ju=tu?yc(tu,Bu,Zc,$c):void 0;Wl=new Uh(eu,xa,Sh,iu,nu,Lu,Nc,Uc,!1,Bu),Hc=4*Qc.length;var tp=wo.iconSizeData,Ch=null;"source"===tp.kind?(Ch=[128*Oa.layout.get("icon-size").evaluate(ta,{})])[0]>32640&&X(wo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===tp.kind&&((Ch=[128*ru.compositeIconSizes[0].evaluate(ta,{},Da),128*ru.compositeIconSizes[1].evaluate(ta,{},Da)])[0]>32640||Ch[1]>32640)&&X(wo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),wo.addSymbols(wo.icon,Qc,Ch,qc,Vc,ta,!1,xa,Kl.lineStartIndex,Kl.lineLength,-1,Da),zu=wo.icon.placedSymbolArray.length-1,ju&&(Wc=4*ju.length,wo.addSymbols(wo.icon,ju,Ch,qc,Vc,ta,$s.vertical,xa,Kl.lineStartIndex,Kl.lineLength,-1,Da),Ou=wo.icon.placedSymbolArray.length-1)}for(var ep in nl.horizontal){var ou=nl.horizontal[ep];if(!_l){Kc=ae(ou.text);var kd=Oa.layout.get("text-rotate").evaluate(ta,{},Da);_l=new Uh(eu,xa,Sh,iu,nu,ou,Iu,jc,Th,kd)}var ip=1===ou.positionedLines.length;if(Xc+=_c(wo,xa,ou,Bc,Oa,Th,ta,Fc,Kl,nl.vertical?$s.horizontal:$s.horizontalOnly,ip?Object.keys(nl.horizontal):[ep],Ha,zu,ru,Da),ip)break}nl.vertical&&(Yc+=_c(wo,xa,nl.vertical,Bc,Oa,Th,ta,Fc,Kl,$s.vertical,["vertical"],Ha,Ou,ru,Da));var Md=_l?_l.boxStartIndex:wo.collisionBoxArray.length,Pd=_l?_l.boxEndIndex:wo.collisionBoxArray.length,Ld=Xl?Xl.boxStartIndex:wo.collisionBoxArray.length,Id=Xl?Xl.boxEndIndex:wo.collisionBoxArray.length,zd=Wl?Wl.boxStartIndex:wo.collisionBoxArray.length,Od=Wl?Wl.boxEndIndex:wo.collisionBoxArray.length,Dd=Yl?Yl.boxStartIndex:wo.collisionBoxArray.length,Rd=Yl?Yl.boxEndIndex:wo.collisionBoxArray.length,Ra=-1,su=function(Ah,rp){return Ah&&Ah.circleDiameter?Math.max(Ah.circleDiameter,rp):rp};Ra=su(_l,Ra),Ra=su(Xl,Ra),Ra=su(Wl,Ra);var np=(Ra=su(Yl,Ra))>-1?1:0;np&&(Ra*=Ed/24),wo.glyphOffsetArray.length>=kr.MAX_GLYPHS&&X("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==ta.sortKey&&wo.addToSortKeyRanges(wo.symbolInstances.length,ta.sortKey),wo.symbolInstances.emplaceBack(xa.x,xa.y,Ha.right>=0?Ha.right:-1,Ha.center>=0?Ha.center:-1,Ha.left>=0?Ha.left:-1,Ha.vertical||-1,zu,Ou,Kc,Md,Pd,Ld,Id,zd,Od,Dd,Rd,Sh,Xc,Yc,Hc,Wc,np,0,Iu,Du,Ru,Ra)}(Kn,wh,Cd,wr,lr,Ts,Ia,Kn.layers[0],Kn.collisionBoxArray,zr.index,zr.sourceLayerIndex,Kn.index,gl,Hh,Wh,cs,Za,Ul,Xh,za,zr,us,fr,La,Zr)};if("line"===Ga)for(var ql=0,Yh=mc(zr.geometry,0,0,8192,8192);ql<Yh.length;ql+=1)for(var Kh=Yh[ql],mh=0,yh=ld(Kh,Nl,dh,wr.vertical||da,lr,24,Fl,Kn.overscaling,8192);mh<yh.length;mh+=1){var Jh=yh[mh];da&&pd(Kn,da.text,fh,Jh)||il(Kh,Jh)}else if("line-center"===Ga)for(var gh=0,vh=zr.geometry;gh<vh.length;gh+=1){var _h=vh[gh];if(_h.length>1){var $h=ad(_h,dh,wr.vertical||da,lr,24,Fl);$h&&il(_h,$h)}}else if("Polygon"===zr.type)for(var Zl=0,Qh=fu(zr.geometry,0);Zl<Qh.length;Zl+=1){var Gl=Qh[Zl],xh=ud(Gl,16);il(Gl[0],new Ll(xh.x,xh.y,0))}else if("LineString"===zr.type)for(var vl=0,bh=zr.geometry;vl<bh.length;vl+=1){var Hl=bh[vl];il(Hl,new Ll(Hl[0].x,Hl[0].y,0))}else if("Point"===zr.type)for(var ku=0,Dc=zr.geometry;ku<Dc.length;ku+=1)for(var Mu=0,Rc=Dc[ku];Mu<Rc.length;Mu+=1){var Pu=Rc[Mu];il([Pu],new Ll(Pu.x,Pu.y,0))}}(t,Ye,Fi,Jo,a,st,zi,$i,Ui,ys,m)},Ne=0,We=t.features;Ne<We.length;Ne+=1)Ie();p&&t.generateCollisionDebugBuffers()},h.perspective=function(t,e,i,a,c){var p,m=1/Math.tan(e/2);return t[0]=m/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=m,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=c&&c!==1/0?(t[10]=(c+a)*(p=1/(a-c)),t[14]=2*c*a*p):(t[10]=-1,t[14]=-2*a),t},h.pick=function(t,e){for(var i={},a=0;a<e.length;a++){var c=e[a];c in t&&(i[c]=t[c])}return i},h.plugin=ls,h.polygonIntersectsPolygon=ka,h.postMapLoadEvent=ki,h.postTurnstileEvent=Me,h.potpack=rc,h.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],h.register=gi,h.registerForPluginStateChange=function(t){return t({pluginStatus:vo,pluginURL:Ps}),Sa.on("pluginStateChange",t),t},h.renderColorRamp=Fu,h.rotate=function(t,e,i){var a=e[0],c=e[1],p=e[2],m=e[3],S=Math.sin(i),Z=Math.cos(i);return t[0]=a*Z+p*S,t[1]=c*Z+m*S,t[2]=a*-S+p*Z,t[3]=c*-S+m*Z,t},h.rotateX=function(t,e,i){var a=Math.sin(i),c=Math.cos(i),p=e[4],m=e[5],S=e[6],Z=e[7],st=e[8],pt=e[9],_t=e[10],Bt=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=p*c+st*a,t[5]=m*c+pt*a,t[6]=S*c+_t*a,t[7]=Z*c+Bt*a,t[8]=st*c-p*a,t[9]=pt*c-m*a,t[10]=_t*c-S*a,t[11]=Bt*c-Z*a,t},h.rotateZ=function(t,e,i){var a=Math.sin(i),c=Math.cos(i),p=e[0],m=e[1],S=e[2],Z=e[3],st=e[4],pt=e[5],_t=e[6],Bt=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=p*c+st*a,t[1]=m*c+pt*a,t[2]=S*c+_t*a,t[3]=Z*c+Bt*a,t[4]=st*c-p*a,t[5]=pt*c-m*a,t[6]=_t*c-S*a,t[7]=Bt*c-Z*a,t},h.scale=function(t,e,i){var a=i[0],c=i[1],p=i[2];return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*c,t[5]=e[5]*c,t[6]=e[6]*c,t[7]=e[7]*c,t[8]=e[8]*p,t[9]=e[9]*p,t[10]=e[10]*p,t[11]=e[11]*p,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},h.scale$1=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},h.scale$2=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},h.setCacheLimits=function(t,e){Ni=t,sn=e},h.setRTLTextPlugin=function(t,e,i){if(void 0===i&&(i=!1),"deferred"===vo||"loading"===vo||"loaded"===vo)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ps=ne.resolveURL(t),vo="deferred",as=e,wa(),i||Ys()},h.sphericalToCartesian=function(t){var e=t[0],i=t[1],a=t[2];return i+=90,i*=Math.PI/180,a*=Math.PI/180,{x:e*Math.cos(i)*Math.sin(a),y:e*Math.sin(i)*Math.sin(a),z:e*Math.cos(a)}},h.sqrLen=function(t){var e=t[0],i=t[1];return e*e+i*i},h.styleSpec=qt,h.sub=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t},h.symbolSize=sd,h.transformMat3=function(t,e,i){var a=e[0],c=e[1],p=e[2];return t[0]=a*i[0]+c*i[3]+p*i[6],t[1]=a*i[1]+c*i[4]+p*i[7],t[2]=a*i[2]+c*i[5]+p*i[8],t},h.transformMat4=Sl,h.translate=function(t,e,i){var a,c,p,m,S,Z,st,pt,_t,Bt,Nt,he,ue=i[0],be=i[1],ye=i[2];return e===t?(t[12]=e[0]*ue+e[4]*be+e[8]*ye+e[12],t[13]=e[1]*ue+e[5]*be+e[9]*ye+e[13],t[14]=e[2]*ue+e[6]*be+e[10]*ye+e[14],t[15]=e[3]*ue+e[7]*be+e[11]*ye+e[15]):(c=e[1],p=e[2],m=e[3],S=e[4],Z=e[5],st=e[6],pt=e[7],_t=e[8],Bt=e[9],Nt=e[10],he=e[11],t[0]=a=e[0],t[1]=c,t[2]=p,t[3]=m,t[4]=S,t[5]=Z,t[6]=st,t[7]=pt,t[8]=_t,t[9]=Bt,t[10]=Nt,t[11]=he,t[12]=a*ue+S*be+_t*ye+e[12],t[13]=c*ue+Z*be+Bt*ye+e[13],t[14]=p*ue+st*be+Nt*ye+e[14],t[15]=m*ue+pt*be+he*ye+e[15]),t},h.triggerPluginCompletionEvent=rl,h.uniqueId=Ut,h.validateCustomStyleLayer=function(t){var e=[],i=t.id;return void 0===i&&e.push({message:"layers."+i+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+i+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+i+': property "renderingMode" must be either "2d" or "3d"'}),e},h.validateLight=Zn,h.validateStyle=Mn,h.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},h.vectorTile=El,h.version="1.13.1",h.warnOnce=X,h.webpSupported=le,h.window=b,h.wrap=I}),g(0,function(h){function rt(gt){var Mt=typeof gt;if("number"===Mt||"boolean"===Mt||"string"===Mt||null==gt)return JSON.stringify(gt);if(Array.isArray(gt)){for(var Ft="[",Yt=0,oe=gt;Yt<oe.length;Yt+=1)Ft+=rt(oe[Yt])+",";return Ft+"]"}for(var ge=Object.keys(gt).sort(),Te="{",qt=0;qt<ge.length;qt++)Te+=JSON.stringify(ge[qt])+":"+rt(gt[ge[qt]])+",";return Te+"}"}function T(gt){for(var Mt="",Ft=0,Yt=h.refProperties;Ft<Yt.length;Ft+=1)Mt+="/"+rt(gt[Yt[Ft]]);return Mt}var G=function(gt){this.keyCache={},gt&&this.replace(gt)};G.prototype.replace=function(gt){this._layerConfigs={},this._layers={},this.update(gt,[])},G.prototype.update=function(gt,Mt){for(var Ft=this,Yt=0,oe=gt;Yt<oe.length;Yt+=1){var ge=oe[Yt];this._layerConfigs[ge.id]=ge;var Te=this._layers[ge.id]=h.createStyleLayer(ge);Te._featureFilter=h.featureFilter(Te.filter),this.keyCache[ge.id]&&delete this.keyCache[ge.id]}for(var qt=0,fe=Mt;qt<fe.length;qt+=1){var Oe=fe[qt];delete this.keyCache[Oe],delete this._layerConfigs[Oe],delete this._layers[Oe]}this.familiesBySource={};for(var ei=0,pi=function(Ci,Ai){for(var ln={},_i=0;_i<Ci.length;_i++){var En=Ai&&Ai[Ci[_i].id]||T(Ci[_i]);Ai&&(Ai[Ci[_i].id]=En);var fn=ln[En];fn||(fn=ln[En]=[]),fn.push(Ci[_i])}var mn=[];for(var Vn in ln)mn.push(ln[Vn]);return mn}(h.values(this._layerConfigs),this.keyCache);ei<pi.length;ei+=1){var He=pi[ei].map(function(Ci){return Ft._layers[Ci.id]}),qe=He[0];if("none"!==qe.visibility){var Ri=qe.source||"",mi=this.familiesBySource[Ri];mi||(mi=this.familiesBySource[Ri]={});var $e=qe.sourceLayer||"_geojsonTileLayer",Li=mi[$e];Li||(Li=mi[$e]=[]),Li.push(He)}}};var A=function(gt){var Mt={},Ft=[];for(var Yt in gt){var oe=gt[Yt],ge=Mt[Yt]={};for(var Te in oe){var qt=oe[+Te];if(qt&&0!==qt.bitmap.width&&0!==qt.bitmap.height){var fe={x:0,y:0,w:qt.bitmap.width+2,h:qt.bitmap.height+2};Ft.push(fe),ge[Te]={rect:fe,metrics:qt.metrics}}}}var Oe=h.potpack(Ft),ei=new h.AlphaImage({width:Oe.w||1,height:Oe.h||1});for(var pi in gt){var He=gt[pi];for(var qe in He){var Ri=He[+qe];if(Ri&&0!==Ri.bitmap.width&&0!==Ri.bitmap.height){var mi=Mt[pi][qe].rect;h.AlphaImage.copy(Ri.bitmap,ei,{x:0,y:0},{x:mi.x+1,y:mi.y+1},Ri.bitmap)}}}this.image=ei,this.positions=Mt};h.register("GlyphAtlas",A);var D=function(gt){this.tileID=new h.OverscaledTileID(gt.tileID.overscaledZ,gt.tileID.wrap,gt.tileID.canonical.z,gt.tileID.canonical.x,gt.tileID.canonical.y),this.uid=gt.uid,this.zoom=gt.zoom,this.pixelRatio=gt.pixelRatio,this.tileSize=gt.tileSize,this.source=gt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=gt.showCollisionBoxes,this.collectResourceTiming=!!gt.collectResourceTiming,this.returnDependencies=!!gt.returnDependencies,this.promoteId=gt.promoteId};function b(gt,Mt,Ft){for(var Yt=new h.EvaluationParameters(Mt),oe=0,ge=gt;oe<ge.length;oe+=1)ge[oe].recalculate(Yt,Ft)}function W(gt,Mt){var Ft=h.getArrayBuffer(gt.request,function(Yt,oe,ge,Te){Yt?Mt(Yt):oe&&Mt(null,{vectorTile:new h.vectorTile.VectorTile(new h.pbf(oe)),rawData:oe,cacheControl:ge,expires:Te})});return function(){Ft.cancel(),Mt()}}D.prototype.parse=function(gt,Mt,Ft,Yt,oe){var ge=this;this.status="parsing",this.data=gt,this.collisionBoxArray=new h.CollisionBoxArray;var Te=new h.DictionaryCoder(Object.keys(gt.layers).sort()),qt=new h.FeatureIndex(this.tileID,this.promoteId);qt.bucketLayerIDs=[];var fe,Oe,ei,pi,He={},qe={featureIndex:qt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ft},Ri=Mt.familiesBySource[this.source];for(var mi in Ri){var $e=gt.layers[mi];if($e){1===$e.version&&h.warnOnce('Vector tile source "'+this.source+'" layer "'+mi+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Li=Te.encode(mi),Ci=[],Ai=0;Ai<$e.length;Ai++){var ln=$e.feature(Ai),_i=qt.getId(ln,mi);Ci.push({feature:ln,id:_i,index:Ai,sourceLayerIndex:Li})}for(var En=0,fn=Ri[mi];En<fn.length;En+=1){var mn=fn[En],Vn=mn[0];Vn.minzoom&&this.zoom<Math.floor(Vn.minzoom)||Vn.maxzoom&&this.zoom>=Vn.maxzoom||"none"!==Vn.visibility&&(b(mn,this.zoom,Ft),(He[Vn.id]=Vn.createBucket({index:qt.bucketLayerIDs.length,layers:mn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Li,sourceID:this.source})).populate(Ci,qe,this.tileID.canonical),qt.bucketLayerIDs.push(mn.map(function(Jn){return Jn.id})))}}}var Sn=h.mapObject(qe.glyphDependencies,function(Jn){return Object.keys(Jn).map(Number)});Object.keys(Sn).length?Yt.send("getGlyphs",{uid:this.uid,stacks:Sn},function(Jn,kn){fe||(fe=Jn,Oe=kn,Mr.call(ge))}):Oe={};var Ur=Object.keys(qe.iconDependencies);Ur.length?Yt.send("getImages",{icons:Ur,source:this.source,tileID:this.tileID,type:"icons"},function(Jn,kn){fe||(fe=Jn,ei=kn,Mr.call(ge))}):ei={};var qn=Object.keys(qe.patternDependencies);function Mr(){if(fe)return oe(fe);if(Oe&&ei&&pi){var Jn=new A(Oe),kn=new h.ImageAtlas(ei,pi);for(var Gi in He){var Vr=He[Gi];Vr instanceof h.SymbolBucket?(b(Vr.layers,this.zoom,Ft),h.performSymbolLayout(Vr,Oe,Jn.positions,ei,kn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Vr.hasPattern&&(Vr instanceof h.LineBucket||Vr instanceof h.FillBucket||Vr instanceof h.FillExtrusionBucket)&&(b(Vr.layers,this.zoom,Ft),Vr.addFeatures(qe,this.tileID.canonical,kn.patternPositions))}this.status="done",oe(null,{buckets:h.values(He).filter(function(gs){return!gs.isEmpty()}),featureIndex:qt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Jn.image,imageAtlas:kn,glyphMap:this.returnDependencies?Oe:null,iconMap:this.returnDependencies?ei:null,glyphPositions:this.returnDependencies?Jn.positions:null})}}qn.length?Yt.send("getImages",{icons:qn,source:this.source,tileID:this.tileID,type:"patterns"},function(Jn,kn){fe||(fe=Jn,pi=kn,Mr.call(ge))}):pi={},Mr.call(this)};var k=function(gt,Mt,Ft,Yt){this.actor=gt,this.layerIndex=Mt,this.availableImages=Ft,this.loadVectorData=Yt||W,this.loading={},this.loaded={}};k.prototype.loadTile=function(gt,Mt){var Ft=this,Yt=gt.uid;this.loading||(this.loading={});var oe=!!(gt&&gt.request&&gt.request.collectResourceTiming)&&new h.RequestPerformance(gt.request),ge=this.loading[Yt]=new D(gt);ge.abort=this.loadVectorData(gt,function(Te,qt){if(delete Ft.loading[Yt],Te||!qt)return ge.status="done",Ft.loaded[Yt]=ge,Mt(Te);var fe=qt.rawData,Oe={};qt.expires&&(Oe.expires=qt.expires),qt.cacheControl&&(Oe.cacheControl=qt.cacheControl);var ei={};if(oe){var pi=oe.finish();pi&&(ei.resourceTiming=JSON.parse(JSON.stringify(pi)))}ge.vectorTile=qt.vectorTile,ge.parse(qt.vectorTile,Ft.layerIndex,Ft.availableImages,Ft.actor,function(He,qe){if(He||!qe)return Mt(He);Mt(null,h.extend({rawTileData:fe.slice(0)},qe,Oe,ei))}),Ft.loaded=Ft.loaded||{},Ft.loaded[Yt]=ge})},k.prototype.reloadTile=function(gt,Mt){var Ft=this,Yt=this.loaded,oe=gt.uid,ge=this;if(Yt&&Yt[oe]){var Te=Yt[oe];Te.showCollisionBoxes=gt.showCollisionBoxes;var qt=function(fe,Oe){var ei=Te.reloadCallback;ei&&(delete Te.reloadCallback,Te.parse(Te.vectorTile,ge.layerIndex,Ft.availableImages,ge.actor,ei)),Mt(fe,Oe)};"parsing"===Te.status?Te.reloadCallback=qt:"done"===Te.status&&(Te.vectorTile?Te.parse(Te.vectorTile,this.layerIndex,this.availableImages,this.actor,qt):qt())}},k.prototype.abortTile=function(gt,Mt){var Ft=this.loading,Yt=gt.uid;Ft&&Ft[Yt]&&Ft[Yt].abort&&(Ft[Yt].abort(),delete Ft[Yt]),Mt()},k.prototype.removeTile=function(gt,Mt){var Ft=this.loaded,Yt=gt.uid;Ft&&Ft[Yt]&&delete Ft[Yt],Mt()};var P=h.window.ImageBitmap,Q=function(){this.loaded={}};function I(gt,Mt){if(0!==gt.length){B(gt[0],Mt);for(var Ft=1;Ft<gt.length;Ft++)B(gt[Ft],!Mt)}}function B(gt,Mt){for(var Ft=0,Yt=0,oe=gt.length,ge=oe-1;Yt<oe;ge=Yt++)Ft+=(gt[Yt][0]-gt[ge][0])*(gt[ge][1]+gt[Yt][1]);Ft>=0!=!!Mt&&gt.reverse()}Q.prototype.loadTile=function(gt,Mt){var Ft=gt.uid,Yt=gt.encoding,oe=gt.rawImageData,ge=P&&oe instanceof P?this.getImageData(oe):oe,Te=new h.DEMData(Ft,ge,Yt);this.loaded=this.loaded||{},this.loaded[Ft]=Te,Mt(null,Te)},Q.prototype.getImageData=function(gt){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(gt.width,gt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=gt.width,this.offscreenCanvas.height=gt.height,this.offscreenCanvasContext.drawImage(gt,0,0,gt.width,gt.height);var Mt=this.offscreenCanvasContext.getImageData(-1,-1,gt.width+2,gt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new h.RGBAImage({width:Mt.width,height:Mt.height},Mt.data)},Q.prototype.removeTile=function(gt){var Mt=this.loaded,Ft=gt.uid;Mt&&Mt[Ft]&&delete Mt[Ft]};var vt=h.vectorTile.VectorTileFeature.prototype.toGeoJSON,Ut=function(gt){this._feature=gt,this.extent=h.EXTENT,this.type=gt.type,this.properties=gt.tags,"id"in gt&&!isNaN(gt.id)&&(this.id=parseInt(gt.id,10))};Ut.prototype.loadGeometry=function(){if(1===this._feature.type){for(var gt=[],Mt=0,Ft=this._feature.geometry;Mt<Ft.length;Mt+=1){var Yt=Ft[Mt];gt.push([new h.Point$1(Yt[0],Yt[1])])}return gt}for(var oe=[],ge=0,Te=this._feature.geometry;ge<Te.length;ge+=1){for(var qt=[],fe=0,Oe=Te[ge];fe<Oe.length;fe+=1){var ei=Oe[fe];qt.push(new h.Point$1(ei[0],ei[1]))}oe.push(qt)}return oe},Ut.prototype.toGeoJSON=function(gt,Mt,Ft){return vt.call(this,gt,Mt,Ft)};var It=function(gt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=h.EXTENT,this.length=gt.length,this._features=gt};It.prototype.feature=function(gt){return new Ut(this._features[gt])};var E=h.vectorTile.VectorTileFeature,U=mt;function mt(gt,Mt){this.options=Mt||{},this.features=gt,this.length=gt.length}function ct(gt,Mt){this.id="number"==typeof gt.id?gt.id:void 0,this.type=gt.type,this.rawGeometry=1===gt.type?[gt.geometry]:gt.geometry,this.properties=gt.tags,this.extent=Mt||4096}mt.prototype.feature=function(gt){return new ct(this.features[gt],this.options.extent)},ct.prototype.loadGeometry=function(){var gt=this.rawGeometry;this.geometry=[];for(var Mt=0;Mt<gt.length;Mt++){for(var Ft=gt[Mt],Yt=[],oe=0;oe<Ft.length;oe++)Yt.push(new h.Point$1(Ft[oe][0],Ft[oe][1]));this.geometry.push(Yt)}return this.geometry},ct.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var gt=this.geometry,Mt=1/0,Ft=-1/0,Yt=1/0,oe=-1/0,ge=0;ge<gt.length;ge++)for(var Te=gt[ge],qt=0;qt<Te.length;qt++){var fe=Te[qt];Mt=Math.min(Mt,fe.x),Ft=Math.max(Ft,fe.x),Yt=Math.min(Yt,fe.y),oe=Math.max(oe,fe.y)}return[Mt,Yt,Ft,oe]},ct.prototype.toGeoJSON=E.prototype.toGeoJSON;var ft=tt,M=U;function tt(gt){var Mt=new h.pbf;return function(Ft,Yt){for(var oe in Ft.layers)Yt.writeMessage(3,X,Ft.layers[oe])}(gt,Mt),Mt.finish()}function X(gt,Mt){var Ft;Mt.writeVarintField(15,gt.version||1),Mt.writeStringField(1,gt.name||""),Mt.writeVarintField(5,gt.extent||4096);var Yt={keys:[],values:[],keycache:{},valuecache:{}};for(Ft=0;Ft<gt.length;Ft++)Yt.feature=gt.feature(Ft),Mt.writeMessage(2,St,Yt);var oe=Yt.keys;for(Ft=0;Ft<oe.length;Ft++)Mt.writeStringField(3,oe[Ft]);var ge=Yt.values;for(Ft=0;Ft<ge.length;Ft++)Mt.writeMessage(4,pe,ge[Ft])}function St(gt,Mt){var Ft=gt.feature;void 0!==Ft.id&&Mt.writeVarintField(1,Ft.id),Mt.writeMessage(2,yt,gt),Mt.writeVarintField(3,Ft.type),Mt.writeMessage(4,ie,Ft)}function yt(gt,Mt){var Ft=gt.feature,Yt=gt.keys,oe=gt.values,ge=gt.keycache,Te=gt.valuecache;for(var qt in Ft.properties){var fe=ge[qt];void 0===fe&&(Yt.push(qt),ge[qt]=fe=Yt.length-1),Mt.writeVarint(fe);var Oe=Ft.properties[qt],ei=typeof Oe;"string"!==ei&&"boolean"!==ei&&"number"!==ei&&(Oe=JSON.stringify(Oe));var pi=ei+":"+Oe,He=Te[pi];void 0===He&&(oe.push(Oe),Te[pi]=He=oe.length-1),Mt.writeVarint(He)}}function jt(gt,Mt){return(Mt<<3)+(7&gt)}function kt(gt){return gt<<1^gt>>31}function ie(gt,Mt){for(var Ft=gt.loadGeometry(),Yt=gt.type,oe=0,ge=0,Te=Ft.length,qt=0;qt<Te;qt++){var fe=Ft[qt],Oe=1;1===Yt&&(Oe=fe.length),Mt.writeVarint(jt(1,Oe));for(var ei=3===Yt?fe.length-1:fe.length,pi=0;pi<ei;pi++){1===pi&&1!==Yt&&Mt.writeVarint(jt(2,ei-1));var He=fe[pi].x-oe,qe=fe[pi].y-ge;Mt.writeVarint(kt(He)),Mt.writeVarint(kt(qe)),oe+=He,ge+=qe}3===Yt&&Mt.writeVarint(jt(7,1))}}function pe(gt,Mt){var Ft=typeof gt;"string"===Ft?Mt.writeStringField(1,gt):"boolean"===Ft?Mt.writeBooleanField(7,gt):"number"===Ft&&(gt%1!=0?Mt.writeDoubleField(3,gt):gt<0?Mt.writeSVarintField(6,gt):Mt.writeVarintField(5,gt))}function Fe(gt,Mt,Ft,Yt){je(gt,Ft,Yt),je(Mt,2*Ft,2*Yt),je(Mt,2*Ft+1,2*Yt+1)}function je(gt,Mt,Ft){var Yt=gt[Mt];gt[Mt]=gt[Ft],gt[Ft]=Yt}function Ce(gt,Mt,Ft,Yt){var oe=gt-Ft,ge=Mt-Yt;return oe*oe+ge*ge}ft.fromVectorTileJs=tt,ft.fromGeojsonVt=function(gt,Mt){Mt=Mt||{};var Ft={};for(var Yt in gt)Ft[Yt]=new U(gt[Yt].features,Mt),Ft[Yt].name=Yt,Ft[Yt].version=Mt.version,Ft[Yt].extent=Mt.extent;return tt({layers:Ft})},ft.GeoJSONWrapper=M;var $t=function(gt){return gt[0]},de=function(gt){return gt[1]},Qt=function(gt,Mt,Ft,Yt,oe){void 0===Mt&&(Mt=$t),void 0===Ft&&(Ft=de),void 0===Yt&&(Yt=64),void 0===oe&&(oe=Float64Array),this.nodeSize=Yt,this.points=gt;for(var ge=gt.length<65536?Uint16Array:Uint32Array,Te=this.ids=new ge(gt.length),qt=this.coords=new oe(2*gt.length),fe=0;fe<gt.length;fe++)Te[fe]=fe,qt[2*fe]=Mt(gt[fe]),qt[2*fe+1]=Ft(gt[fe]);!function Oe(ei,pi,He,qe,Ri,mi){if(!(Ri-qe<=He)){var $e=qe+Ri>>1;(function Li(Ci,Ai,ln,_i,En,fn){for(;En>_i;){if(En-_i>600){var mn=En-_i+1,Vn=ln-_i+1,Sn=Math.log(mn),Ur=.5*Math.exp(2*Sn/3),qn=.5*Math.sqrt(Sn*Ur*(mn-Ur)/mn)*(Vn-mn/2<0?-1:1);Li(Ci,Ai,ln,Math.max(_i,Math.floor(ln-Vn*Ur/mn+qn)),Math.min(En,Math.floor(ln+(mn-Vn)*Ur/mn+qn)),fn)}var Mr=Ai[2*ln+fn],Jn=_i,kn=En;for(Fe(Ci,Ai,_i,ln),Ai[2*En+fn]>Mr&&Fe(Ci,Ai,_i,En);Jn<kn;){for(Fe(Ci,Ai,Jn,kn),Jn++,kn--;Ai[2*Jn+fn]<Mr;)Jn++;for(;Ai[2*kn+fn]>Mr;)kn--}Ai[2*_i+fn]===Mr?Fe(Ci,Ai,_i,kn):Fe(Ci,Ai,++kn,En),kn<=ln&&(_i=kn+1),ln<=kn&&(En=kn-1)}})(ei,pi,$e,qe,Ri,mi%2),Oe(ei,pi,He,qe,$e-1,mi+1),Oe(ei,pi,He,$e+1,Ri,mi+1)}}(Te,qt,Yt,0,Te.length-1,0)};Qt.prototype.range=function(gt,Mt,Ft,Yt){return function(oe,ge,Te,qt,fe,Oe,ei){for(var pi,He,qe=[0,oe.length-1,0],Ri=[];qe.length;){var mi=qe.pop(),$e=qe.pop(),Li=qe.pop();if($e-Li<=ei)for(var Ci=Li;Ci<=$e;Ci++)He=ge[2*Ci+1],(pi=ge[2*Ci])>=Te&&pi<=fe&&He>=qt&&He<=Oe&&Ri.push(oe[Ci]);else{var Ai=Math.floor((Li+$e)/2);He=ge[2*Ai+1],(pi=ge[2*Ai])>=Te&&pi<=fe&&He>=qt&&He<=Oe&&Ri.push(oe[Ai]);var ln=(mi+1)%2;(0===mi?Te<=pi:qt<=He)&&(qe.push(Li),qe.push(Ai-1),qe.push(ln)),(0===mi?fe>=pi:Oe>=He)&&(qe.push(Ai+1),qe.push($e),qe.push(ln))}}return Ri}(this.ids,this.coords,gt,Mt,Ft,Yt,this.nodeSize)},Qt.prototype.within=function(gt,Mt,Ft){return function(Yt,oe,ge,Te,qt,fe){for(var Oe=[0,Yt.length-1,0],ei=[],pi=qt*qt;Oe.length;){var He=Oe.pop(),qe=Oe.pop(),Ri=Oe.pop();if(qe-Ri<=fe)for(var mi=Ri;mi<=qe;mi++)Ce(oe[2*mi],oe[2*mi+1],ge,Te)<=pi&&ei.push(Yt[mi]);else{var $e=Math.floor((Ri+qe)/2),Li=oe[2*$e],Ci=oe[2*$e+1];Ce(Li,Ci,ge,Te)<=pi&&ei.push(Yt[$e]);var Ai=(He+1)%2;(0===He?ge-qt<=Li:Te-qt<=Ci)&&(Oe.push(Ri),Oe.push($e-1),Oe.push(Ai)),(0===He?ge+qt>=Li:Te+qt>=Ci)&&(Oe.push($e+1),Oe.push(qe),Oe.push(Ai))}}return ei}(this.ids,this.coords,gt,Mt,Ft,this.nodeSize)};var Et={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(gt){return gt}},Lt=function(gt){this.options=Ii(Object.create(Et),gt),this.trees=new Array(this.options.maxZoom+1)};function ne(gt,Mt,Ft,Yt,oe){return{x:gt,y:Mt,zoom:1/0,id:Ft,parentId:-1,numPoints:Yt,properties:oe}}function re(gt,Mt){var Ft=gt.geometry.coordinates,Yt=Ft[1];return{x:Ue(Ft[0]),y:Ke(Yt),zoom:1/0,index:Mt,parentId:-1}}function le(gt){return{type:"Feature",id:gt.id,properties:ee(gt),geometry:{type:"Point",coordinates:[(Yt=gt.x,360*(Yt-.5)),(Mt=gt.y,Ft=(180-360*Mt)*Math.PI/180,360*Math.atan(Math.exp(Ft))/Math.PI-90)]}};var Mt,Ft,Yt}function ee(gt){var Mt=gt.numPoints,Ft=Mt>=1e4?Math.round(Mt/1e3)+"k":Mt>=1e3?Math.round(Mt/100)/10+"k":Mt;return Ii(Ii({},gt.properties),{cluster:!0,cluster_id:gt.id,point_count:Mt,point_count_abbreviated:Ft})}function Ue(gt){return gt/360+.5}function Ke(gt){var Mt=Math.sin(gt*Math.PI/180),Ft=.5-.25*Math.log((1+Mt)/(1-Mt))/Math.PI;return Ft<0?0:Ft>1?1:Ft}function Ii(gt,Mt){for(var Ft in Mt)gt[Ft]=Mt[Ft];return gt}function ai(gt){return gt.x}function li(gt){return gt.y}function Pi(gt,Mt,Ft,Yt,oe,ge){var Te=oe-Ft,qt=ge-Yt;if(0!==Te||0!==qt){var fe=((gt-Ft)*Te+(Mt-Yt)*qt)/(Te*Te+qt*qt);fe>1?(Ft=oe,Yt=ge):fe>0&&(Ft+=Te*fe,Yt+=qt*fe)}return(Te=gt-Ft)*Te+(qt=Mt-Yt)*qt}function hi(gt,Mt,Ft,Yt){var oe={id:void 0===gt?null:gt,type:Mt,geometry:Ft,tags:Yt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ge){var Te=ge.geometry,qt=ge.type;if("Point"===qt||"MultiPoint"===qt||"LineString"===qt)Di(ge,Te);else if("Polygon"===qt||"MultiLineString"===qt)for(var fe=0;fe<Te.length;fe++)Di(ge,Te[fe]);else if("MultiPolygon"===qt)for(fe=0;fe<Te.length;fe++)for(var Oe=0;Oe<Te[fe].length;Oe++)Di(ge,Te[fe][Oe])}(oe),oe}function Di(gt,Mt){for(var Ft=0;Ft<Mt.length;Ft+=3)gt.minX=Math.min(gt.minX,Mt[Ft]),gt.minY=Math.min(gt.minY,Mt[Ft+1]),gt.maxX=Math.max(gt.maxX,Mt[Ft]),gt.maxY=Math.max(gt.maxY,Mt[Ft+1])}function bi(gt,Mt,Ft,Yt){if(Mt.geometry){var oe=Mt.geometry.coordinates,ge=Mt.geometry.type,Te=Math.pow(Ft.tolerance/((1<<Ft.maxZoom)*Ft.extent),2),qt=[],fe=Mt.id;if(Ft.promoteId?fe=Mt.properties[Ft.promoteId]:Ft.generateId&&(fe=Yt||0),"Point"===ge)On(oe,qt);else if("MultiPoint"===ge)for(var Oe=0;Oe<oe.length;Oe++)On(oe[Oe],qt);else if("LineString"===ge)jn(oe,qt,Te,!1);else if("MultiLineString"===ge){if(Ft.lineMetrics){for(Oe=0;Oe<oe.length;Oe++)jn(oe[Oe],qt=[],Te,!1),gt.push(hi(fe,"LineString",qt,Mt.properties));return}x(oe,qt,Te,!1)}else if("Polygon"===ge)x(oe,qt,Te,!0);else{if("MultiPolygon"!==ge){if("GeometryCollection"===ge){for(Oe=0;Oe<Mt.geometry.geometries.length;Oe++)bi(gt,{id:fe,geometry:Mt.geometry.geometries[Oe],properties:Mt.properties},Ft,Yt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Oe=0;Oe<oe.length;Oe++){var ei=[];x(oe[Oe],ei,Te,!0),qt.push(ei)}}gt.push(hi(fe,ge,qt,Mt.properties))}}function On(gt,Mt){Mt.push(H(gt[0])),Mt.push(wt(gt[1])),Mt.push(0)}function jn(gt,Mt,Ft,Yt){for(var oe,ge,Te=0,qt=0;qt<gt.length;qt++){var fe=H(gt[qt][0]),Oe=wt(gt[qt][1]);Mt.push(fe),Mt.push(Oe),Mt.push(0),qt>0&&(Te+=Yt?(oe*Oe-fe*ge)/2:Math.sqrt(Math.pow(fe-oe,2)+Math.pow(Oe-ge,2))),oe=fe,ge=Oe}var ei=Mt.length-3;Mt[2]=1,function pi(He,qe,Ri,mi){for(var $e,Li=mi,Ci=Ri-qe>>1,Ai=Ri-qe,ln=He[qe],_i=He[qe+1],En=He[Ri],fn=He[Ri+1],mn=qe+3;mn<Ri;mn+=3){var Vn=Pi(He[mn],He[mn+1],ln,_i,En,fn);if(Vn>Li)$e=mn,Li=Vn;else if(Vn===Li){var Sn=Math.abs(mn-Ci);Sn<Ai&&($e=mn,Ai=Sn)}}Li>mi&&($e-qe>3&&pi(He,qe,$e,mi),He[$e+2]=Li,Ri-$e>3&&pi(He,$e,Ri,mi))}(Mt,0,ei,Ft),Mt[ei+2]=1,Mt.size=Math.abs(Te),Mt.start=0,Mt.end=Mt.size}function x(gt,Mt,Ft,Yt){for(var oe=0;oe<gt.length;oe++){var ge=[];jn(gt[oe],ge,Ft,Yt),Mt.push(ge)}}function H(gt){return gt/360+.5}function wt(gt){var Mt=Math.sin(gt*Math.PI/180),Ft=.5-.25*Math.log((1+Mt)/(1-Mt))/Math.PI;return Ft<0?0:Ft>1?1:Ft}function Gt(gt,Mt,Ft,Yt,oe,ge,Te,qt){if(Yt/=Mt,ge>=(Ft/=Mt)&&Te<Yt)return gt;if(Te<Ft||ge>=Yt)return null;for(var fe=[],Oe=0;Oe<gt.length;Oe++){var ei=gt[Oe],pi=ei.geometry,He=ei.type,qe=0===oe?ei.minX:ei.minY,Ri=0===oe?ei.maxX:ei.maxY;if(qe>=Ft&&Ri<Yt)fe.push(ei);else if(!(Ri<Ft||qe>=Yt)){var mi=[];if("Point"===He||"MultiPoint"===He)se(pi,mi,Ft,Yt,oe);else if("LineString"===He)Me(pi,mi,Ft,Yt,oe,!1,qt.lineMetrics);else if("MultiLineString"===He)ki(pi,mi,Ft,Yt,oe,!1);else if("Polygon"===He)ki(pi,mi,Ft,Yt,oe,!0);else if("MultiPolygon"===He)for(var $e=0;$e<pi.length;$e++){var Li=[];ki(pi[$e],Li,Ft,Yt,oe,!0),Li.length&&mi.push(Li)}if(mi.length){if(qt.lineMetrics&&"LineString"===He){for($e=0;$e<mi.length;$e++)fe.push(hi(ei.id,He,mi[$e],ei.tags));continue}"LineString"!==He&&"MultiLineString"!==He||(1===mi.length?(He="LineString",mi=mi[0]):He="MultiLineString"),"Point"!==He&&"MultiPoint"!==He||(He=3===mi.length?"Point":"MultiPoint"),fe.push(hi(ei.id,He,mi,ei.tags))}}}return fe.length?fe:null}function se(gt,Mt,Ft,Yt,oe){for(var ge=0;ge<gt.length;ge+=3){var Te=gt[ge+oe];Te>=Ft&&Te<=Yt&&(Mt.push(gt[ge]),Mt.push(gt[ge+1]),Mt.push(gt[ge+2]))}}function Me(gt,Mt,Ft,Yt,oe,ge,Te){for(var qt,fe,Oe=ii(gt),ei=0===oe?sn:hr,pi=gt.start,He=0;He<gt.length-3;He+=3){var qe=gt[He],Ri=gt[He+1],mi=gt[He+2],$e=gt[He+3],Li=gt[He+4],Ci=0===oe?qe:Ri,Ai=0===oe?$e:Li,ln=!1;Te&&(qt=Math.sqrt(Math.pow(qe-$e,2)+Math.pow(Ri-Li,2))),Ci<Ft?Ai>Ft&&(fe=ei(Oe,qe,Ri,$e,Li,Ft),Te&&(Oe.start=pi+qt*fe)):Ci>Yt?Ai<Yt&&(fe=ei(Oe,qe,Ri,$e,Li,Yt),Te&&(Oe.start=pi+qt*fe)):Ni(Oe,qe,Ri,mi),Ai<Ft&&Ci>=Ft&&(fe=ei(Oe,qe,Ri,$e,Li,Ft),ln=!0),Ai>Yt&&Ci<=Yt&&(fe=ei(Oe,qe,Ri,$e,Li,Yt),ln=!0),!ge&&ln&&(Te&&(Oe.end=pi+qt*fe),Mt.push(Oe),Oe=ii(gt)),Te&&(pi+=qt)}var _i=gt.length-3;qe=gt[_i],Ri=gt[_i+1],mi=gt[_i+2],(Ci=0===oe?qe:Ri)>=Ft&&Ci<=Yt&&Ni(Oe,qe,Ri,mi),_i=Oe.length-3,ge&&_i>=3&&(Oe[_i]!==Oe[0]||Oe[_i+1]!==Oe[1])&&Ni(Oe,Oe[0],Oe[1],Oe[2]),Oe.length&&Mt.push(Oe)}function ii(gt){var Mt=[];return Mt.size=gt.size,Mt.start=gt.start,Mt.end=gt.end,Mt}function ki(gt,Mt,Ft,Yt,oe,ge){for(var Te=0;Te<gt.length;Te++)Me(gt[Te],Mt,Ft,Yt,oe,ge,!1)}function Ni(gt,Mt,Ft,Yt){gt.push(Mt),gt.push(Ft),gt.push(Yt)}function sn(gt,Mt,Ft,Yt,oe,ge){var Te=(ge-Mt)/(Yt-Mt);return gt.push(ge),gt.push(Ft+(oe-Ft)*Te),gt.push(1),Te}function hr(gt,Mt,Ft,Yt,oe,ge){var Te=(ge-Ft)/(oe-Ft);return gt.push(Mt+(Yt-Mt)*Te),gt.push(ge),gt.push(1),Te}function xr(gt,Mt){for(var Ft=[],Yt=0;Yt<gt.length;Yt++){var oe,ge=gt[Yt],Te=ge.type;if("Point"===Te||"MultiPoint"===Te||"LineString"===Te)oe=tr(ge.geometry,Mt);else if("MultiLineString"===Te||"Polygon"===Te){oe=[];for(var qt=0;qt<ge.geometry.length;qt++)oe.push(tr(ge.geometry[qt],Mt))}else if("MultiPolygon"===Te)for(oe=[],qt=0;qt<ge.geometry.length;qt++){for(var fe=[],Oe=0;Oe<ge.geometry[qt].length;Oe++)fe.push(tr(ge.geometry[qt][Oe],Mt));oe.push(fe)}Ft.push(hi(ge.id,Te,oe,ge.tags))}return Ft}function tr(gt,Mt){var Ft=[];Ft.size=gt.size,void 0!==gt.start&&(Ft.start=gt.start,Ft.end=gt.end);for(var Yt=0;Yt<gt.length;Yt+=3)Ft.push(gt[Yt]+Mt,gt[Yt+1],gt[Yt+2]);return Ft}function eo(gt,Mt){if(gt.transformed)return gt;var Ft,Yt,oe,ge=1<<gt.z,Te=gt.x,qt=gt.y;for(Ft=0;Ft<gt.features.length;Ft++){var fe=gt.features[Ft],Oe=fe.geometry,ei=fe.type;if(fe.geometry=[],1===ei)for(Yt=0;Yt<Oe.length;Yt+=2)fe.geometry.push(Br(Oe[Yt],Oe[Yt+1],Mt,ge,Te,qt));else for(Yt=0;Yt<Oe.length;Yt++){var pi=[];for(oe=0;oe<Oe[Yt].length;oe+=2)pi.push(Br(Oe[Yt][oe],Oe[Yt][oe+1],Mt,ge,Te,qt));fe.geometry.push(pi)}}return gt.transformed=!0,gt}function Br(gt,Mt,Ft,Yt,oe,ge){return[Math.round(Ft*(gt*Yt-oe)),Math.round(Ft*(Mt*Yt-ge))]}function Rn(gt,Mt,Ft,Yt,oe){for(var ge=Mt===oe.maxZoom?0:oe.tolerance/((1<<Mt)*oe.extent),Te={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ft,y:Yt,z:Mt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},qt=0;qt<gt.length;qt++){Te.numFeatures++,Yn(Te,gt[qt],ge,oe);var fe=gt[qt].minX,Oe=gt[qt].minY,ei=gt[qt].maxX,pi=gt[qt].maxY;fe<Te.minX&&(Te.minX=fe),Oe<Te.minY&&(Te.minY=Oe),ei>Te.maxX&&(Te.maxX=ei),pi>Te.maxY&&(Te.maxY=pi)}return Te}function Yn(gt,Mt,Ft,Yt){var oe=Mt.geometry,ge=Mt.type,Te=[];if("Point"===ge||"MultiPoint"===ge)for(var qt=0;qt<oe.length;qt+=3)Te.push(oe[qt]),Te.push(oe[qt+1]),gt.numPoints++,gt.numSimplified++;else if("LineString"===ge)So(Te,oe,gt,Ft,!1,!1);else if("MultiLineString"===ge||"Polygon"===ge)for(qt=0;qt<oe.length;qt++)So(Te,oe[qt],gt,Ft,"Polygon"===ge,0===qt);else if("MultiPolygon"===ge)for(var fe=0;fe<oe.length;fe++){var Oe=oe[fe];for(qt=0;qt<Oe.length;qt++)So(Te,Oe[qt],gt,Ft,!0,0===qt)}if(Te.length){var ei=Mt.tags||null;if("LineString"===ge&&Yt.lineMetrics){for(var pi in ei={},Mt.tags)ei[pi]=Mt.tags[pi];ei.mapbox_clip_start=oe.start/oe.size,ei.mapbox_clip_end=oe.end/oe.size}var He={geometry:Te,type:"Polygon"===ge||"MultiPolygon"===ge?3:"LineString"===ge||"MultiLineString"===ge?2:1,tags:ei};null!==Mt.id&&(He.id=Mt.id),gt.features.push(He)}}function So(gt,Mt,Ft,Yt,oe,ge){var Te=Yt*Yt;if(Yt>0&&Mt.size<(oe?Te:Yt))Ft.numPoints+=Mt.length/3;else{for(var qt=[],fe=0;fe<Mt.length;fe+=3)(0===Yt||Mt[fe+2]>Te)&&(Ft.numSimplified++,qt.push(Mt[fe]),qt.push(Mt[fe+1])),Ft.numPoints++;oe&&function(Oe,ei){for(var pi=0,He=0,qe=Oe.length,Ri=qe-2;He<qe;Ri=He,He+=2)pi+=(Oe[He]-Oe[Ri])*(Oe[He+1]+Oe[Ri+1]);if(pi>0===ei)for(He=0,qe=Oe.length;He<qe/2;He+=2){var mi=Oe[He],$e=Oe[He+1];Oe[He]=Oe[qe-2-He],Oe[He+1]=Oe[qe-1-He],Oe[qe-2-He]=mi,Oe[qe-1-He]=$e}}(qt,ge),gt.push(qt)}}function jr(gt,Mt){var Ft=(Mt=this.options=function(oe,ge){for(var Te in ge)oe[Te]=ge[Te];return oe}(Object.create(this.options),Mt)).debug;if(Ft&&console.time("preprocess data"),Mt.maxZoom<0||Mt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Mt.promoteId&&Mt.generateId)throw new Error("promoteId and generateId cannot be used together.");var oe,ge,Te,qt,fe,Oe,Yt=function(oe,ge){var Te=[];if("FeatureCollection"===oe.type)for(var qt=0;qt<oe.features.length;qt++)bi(Te,oe.features[qt],ge,qt);else bi(Te,"Feature"===oe.type?oe:{geometry:oe},ge);return Te}(gt,Mt);this.tiles={},this.tileCoords=[],Ft&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Mt.indexMaxZoom,Mt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(oe=Yt,ge=Mt,Te=ge.buffer/ge.extent,qt=oe,fe=Gt(oe,1,-1-Te,Te,0,-1,2,ge),Oe=Gt(oe,1,1-Te,2+Te,0,-1,2,ge),(fe||Oe)&&(qt=Gt(oe,1,-Te,1+Te,0,-1,2,ge)||[],fe&&(qt=xr(fe,1).concat(qt)),Oe&&(qt=qt.concat(xr(Oe,-1)))),Yt=qt).length&&this.splitTile(Yt,0,0,0),Ft&&(Yt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Or(gt,Mt,Ft){return 32*((1<<gt)*Ft+Mt)+gt}function Ro(gt,Mt){var Ft=gt.tileID.canonical;if(!this._geoJSONIndex)return Mt(null,null);var Yt=this._geoJSONIndex.getTile(Ft.z,Ft.x,Ft.y);if(!Yt)return Mt(null,null);var oe=new It(Yt.features),ge=ft(oe);0===ge.byteOffset&&ge.byteLength===ge.buffer.byteLength||(ge=new Uint8Array(ge)),Mt(null,{vectorTile:oe,rawData:ge.buffer})}Lt.prototype.load=function(gt){var Mt=this.options,Ft=Mt.log,Yt=Mt.minZoom,oe=Mt.maxZoom,ge=Mt.nodeSize;Ft&&console.time("total time");var Te="prepare "+gt.length+" points";Ft&&console.time(Te),this.points=gt;for(var qt=[],fe=0;fe<gt.length;fe++)gt[fe].geometry&&qt.push(re(gt[fe],fe));this.trees[oe+1]=new Qt(qt,ai,li,ge,Float32Array),Ft&&console.timeEnd(Te);for(var Oe=oe;Oe>=Yt;Oe--){var ei=+Date.now();qt=this._cluster(qt,Oe),this.trees[Oe]=new Qt(qt,ai,li,ge,Float32Array),Ft&&console.log("z%d: %d clusters in %dms",Oe,qt.length,+Date.now()-ei)}return Ft&&console.timeEnd("total time"),this},Lt.prototype.getClusters=function(gt,Mt){var Ft=((gt[0]+180)%360+360)%360-180,Yt=Math.max(-90,Math.min(90,gt[1])),oe=180===gt[2]?180:((gt[2]+180)%360+360)%360-180,ge=Math.max(-90,Math.min(90,gt[3]));if(gt[2]-gt[0]>=360)Ft=-180,oe=180;else if(Ft>oe){var Te=this.getClusters([Ft,Yt,180,ge],Mt),qt=this.getClusters([-180,Yt,oe,ge],Mt);return Te.concat(qt)}for(var fe=this.trees[this._limitZoom(Mt)],Oe=[],ei=0,pi=fe.range(Ue(Ft),Ke(ge),Ue(oe),Ke(Yt));ei<pi.length;ei+=1){var He=fe.points[pi[ei]];Oe.push(He.numPoints?le(He):this.points[He.index])}return Oe},Lt.prototype.getChildren=function(gt){var Mt=this._getOriginId(gt),Ft=this._getOriginZoom(gt),Yt="No cluster with the specified id.",oe=this.trees[Ft];if(!oe)throw new Error(Yt);var ge=oe.points[Mt];if(!ge)throw new Error(Yt);for(var Te=this.options.radius/(this.options.extent*Math.pow(2,Ft-1)),qt=[],fe=0,Oe=oe.within(ge.x,ge.y,Te);fe<Oe.length;fe+=1){var ei=oe.points[Oe[fe]];ei.parentId===gt&&qt.push(ei.numPoints?le(ei):this.points[ei.index])}if(0===qt.length)throw new Error(Yt);return qt},Lt.prototype.getLeaves=function(gt,Mt,Ft){var Yt=[];return this._appendLeaves(Yt,gt,Mt=Mt||10,Ft=Ft||0,0),Yt},Lt.prototype.getTile=function(gt,Mt,Ft){var Yt=this.trees[this._limitZoom(gt)],oe=Math.pow(2,gt),ge=this.options,Te=ge.radius/ge.extent,qt=(Ft-Te)/oe,fe=(Ft+1+Te)/oe,Oe={features:[]};return this._addTileFeatures(Yt.range((Mt-Te)/oe,qt,(Mt+1+Te)/oe,fe),Yt.points,Mt,Ft,oe,Oe),0===Mt&&this._addTileFeatures(Yt.range(1-Te/oe,qt,1,fe),Yt.points,oe,Ft,oe,Oe),Mt===oe-1&&this._addTileFeatures(Yt.range(0,qt,Te/oe,fe),Yt.points,-1,Ft,oe,Oe),Oe.features.length?Oe:null},Lt.prototype.getClusterExpansionZoom=function(gt){for(var Mt=this._getOriginZoom(gt)-1;Mt<=this.options.maxZoom;){var Ft=this.getChildren(gt);if(Mt++,1!==Ft.length)break;gt=Ft[0].properties.cluster_id}return Mt},Lt.prototype._appendLeaves=function(gt,Mt,Ft,Yt,oe){for(var ge=0,Te=this.getChildren(Mt);ge<Te.length;ge+=1){var qt=Te[ge],fe=qt.properties;if(fe&&fe.cluster?oe+fe.point_count<=Yt?oe+=fe.point_count:oe=this._appendLeaves(gt,fe.cluster_id,Ft,Yt,oe):oe<Yt?oe++:gt.push(qt),gt.length===Ft)break}return oe},Lt.prototype._addTileFeatures=function(gt,Mt,Ft,Yt,oe,ge){for(var Te=0,qt=gt;Te<qt.length;Te+=1){var fe=Mt[qt[Te]],Oe=fe.numPoints,ei={type:1,geometry:[[Math.round(this.options.extent*(fe.x*oe-Ft)),Math.round(this.options.extent*(fe.y*oe-Yt))]],tags:Oe?ee(fe):this.points[fe.index].properties},pi=void 0;Oe?pi=fe.id:this.options.generateId?pi=fe.index:this.points[fe.index].id&&(pi=this.points[fe.index].id),void 0!==pi&&(ei.id=pi),ge.features.push(ei)}},Lt.prototype._limitZoom=function(gt){return Math.max(this.options.minZoom,Math.min(+gt,this.options.maxZoom+1))},Lt.prototype._cluster=function(gt,Mt){for(var Ft=[],Yt=this.options,oe=Yt.reduce,ge=Yt.minPoints,Te=Yt.radius/(Yt.extent*Math.pow(2,Mt)),qt=0;qt<gt.length;qt++){var fe=gt[qt];if(!(fe.zoom<=Mt)){fe.zoom=Mt;for(var Oe=this.trees[Mt+1],ei=Oe.within(fe.x,fe.y,Te),pi=fe.numPoints||1,He=pi,qe=0,Ri=ei;qe<Ri.length;qe+=1){var mi=Oe.points[Ri[qe]];mi.zoom>Mt&&(He+=mi.numPoints||1)}if(He>=ge){for(var $e=fe.x*pi,Li=fe.y*pi,Ci=oe&&pi>1?this._map(fe,!0):null,Ai=(qt<<5)+(Mt+1)+this.points.length,ln=0,_i=ei;ln<_i.length;ln+=1){var En=Oe.points[_i[ln]];if(!(En.zoom<=Mt)){En.zoom=Mt;var fn=En.numPoints||1;$e+=En.x*fn,Li+=En.y*fn,En.parentId=Ai,oe&&(Ci||(Ci=this._map(fe,!0)),oe(Ci,this._map(En)))}}fe.parentId=Ai,Ft.push(ne($e/He,Li/He,Ai,He,Ci))}else if(Ft.push(fe),He>1)for(var mn=0,Vn=ei;mn<Vn.length;mn+=1){var Sn=Oe.points[Vn[mn]];Sn.zoom<=Mt||(Sn.zoom=Mt,Ft.push(Sn))}}}return Ft},Lt.prototype._getOriginId=function(gt){return gt-this.points.length>>5},Lt.prototype._getOriginZoom=function(gt){return(gt-this.points.length)%32},Lt.prototype._map=function(gt,Mt){if(gt.numPoints)return Mt?Ii({},gt.properties):gt.properties;var Ft=this.points[gt.index].properties,Yt=this.options.map(Ft);return Mt&&Yt===Ft?Ii({},Yt):Yt},jr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},jr.prototype.splitTile=function(gt,Mt,Ft,Yt,oe,ge,Te){for(var qt=[gt,Mt,Ft,Yt],fe=this.options,Oe=fe.debug;qt.length;){Yt=qt.pop(),Ft=qt.pop(),Mt=qt.pop(),gt=qt.pop();var ei=1<<Mt,pi=Or(Mt,Ft,Yt),He=this.tiles[pi];if(!He&&(Oe>1&&console.time("creation"),He=this.tiles[pi]=Rn(gt,Mt,Ft,Yt,fe),this.tileCoords.push({z:Mt,x:Ft,y:Yt}),Oe)){Oe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Mt,Ft,Yt,He.numFeatures,He.numPoints,He.numSimplified),console.timeEnd("creation"));var qe="z"+Mt;this.stats[qe]=(this.stats[qe]||0)+1,this.total++}if(He.source=gt,oe){if(Mt===fe.maxZoom||Mt===oe)continue;var Ri=1<<oe-Mt;if(Ft!==Math.floor(ge/Ri)||Yt!==Math.floor(Te/Ri))continue}else if(Mt===fe.indexMaxZoom||He.numPoints<=fe.indexMaxPoints)continue;if(He.source=null,0!==gt.length){Oe>1&&console.time("clipping");var mi,$e,Li,Ci,Ai,ln,_i=.5*fe.buffer/fe.extent,En=.5-_i,fn=.5+_i,mn=1+_i;mi=$e=Li=Ci=null,Ai=Gt(gt,ei,Ft-_i,Ft+fn,0,He.minX,He.maxX,fe),ln=Gt(gt,ei,Ft+En,Ft+mn,0,He.minX,He.maxX,fe),gt=null,Ai&&(mi=Gt(Ai,ei,Yt-_i,Yt+fn,1,He.minY,He.maxY,fe),$e=Gt(Ai,ei,Yt+En,Yt+mn,1,He.minY,He.maxY,fe),Ai=null),ln&&(Li=Gt(ln,ei,Yt-_i,Yt+fn,1,He.minY,He.maxY,fe),Ci=Gt(ln,ei,Yt+En,Yt+mn,1,He.minY,He.maxY,fe),ln=null),Oe>1&&console.timeEnd("clipping"),qt.push(mi||[],Mt+1,2*Ft,2*Yt),qt.push($e||[],Mt+1,2*Ft,2*Yt+1),qt.push(Li||[],Mt+1,2*Ft+1,2*Yt),qt.push(Ci||[],Mt+1,2*Ft+1,2*Yt+1)}}},jr.prototype.getTile=function(gt,Mt,Ft){var Yt=this.options,oe=Yt.extent,ge=Yt.debug;if(gt<0||gt>24)return null;var Te=1<<gt,qt=Or(gt,Mt=(Mt%Te+Te)%Te,Ft);if(this.tiles[qt])return eo(this.tiles[qt],oe);ge>1&&console.log("drilling down to z%d-%d-%d",gt,Mt,Ft);for(var fe,Oe=gt,ei=Mt,pi=Ft;!fe&&Oe>0;)Oe--,ei=Math.floor(ei/2),pi=Math.floor(pi/2),fe=this.tiles[Or(Oe,ei,pi)];return fe&&fe.source?(ge>1&&console.log("found parent tile z%d-%d-%d",Oe,ei,pi),ge>1&&console.time("drilling down"),this.splitTile(fe.source,Oe,ei,pi,gt,Mt,Ft),ge>1&&console.timeEnd("drilling down"),this.tiles[qt]?eo(this.tiles[qt],oe):null):null};var rn=function(gt){function Mt(Ft,Yt,oe,ge){gt.call(this,Ft,Yt,oe,Ro),ge&&(this.loadGeoJSON=ge)}return gt&&(Mt.__proto__=gt),(Mt.prototype=Object.create(gt&&gt.prototype)).constructor=Mt,Mt.prototype.loadData=function(Ft,Yt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Yt,this._pendingLoadDataParams=Ft,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Mt.prototype._loadData=function(){var Ft=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Yt=this._pendingCallback,oe=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ge=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new h.RequestPerformance(oe.request);this.loadGeoJSON(oe,function(Te,qt){if(Te||!qt)return Yt(Te);if("object"!=typeof qt)return Yt(new Error("Input data given to '"+oe.source+"' is not a valid GeoJSON object."));!function He(qe,Ri){var mi,$e=qe&&qe.type;if("FeatureCollection"===$e)for(mi=0;mi<qe.features.length;mi++)He(qe.features[mi],Ri);else if("GeometryCollection"===$e)for(mi=0;mi<qe.geometries.length;mi++)He(qe.geometries[mi],Ri);else if("Feature"===$e)He(qe.geometry,Ri);else if("Polygon"===$e)I(qe.coordinates,Ri);else if("MultiPolygon"===$e)for(mi=0;mi<qe.coordinates.length;mi++)I(qe.coordinates[mi],Ri);return qe}(qt,!0);try{if(oe.filter){var fe=h.createExpression(oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===fe.result)throw new Error(fe.value.map(function(He){return He.key+": "+He.message}).join(", "));var Oe=qt.features.filter(function(He){return fe.value.evaluate({zoom:0},He)});qt={type:"FeatureCollection",features:Oe}}Ft._geoJSONIndex=oe.cluster?new Lt(function(He){var qe=He.superclusterOptions,Ri=He.clusterProperties;if(!Ri||!qe)return qe;for(var mi={},$e={},Li={accumulated:null,zoom:0},Ci={properties:null},Ai=Object.keys(Ri),ln=0,_i=Ai;ln<_i.length;ln+=1){var En=_i[ln],fn=Ri[En],mn=fn[0],Vn=h.createExpression(fn[1]),Sn=h.createExpression("string"==typeof mn?[mn,["accumulated"],["get",En]]:mn);mi[En]=Vn.value,$e[En]=Sn.value}return qe.map=function(Ur){Ci.properties=Ur;for(var qn={},Mr=0,Jn=Ai;Mr<Jn.length;Mr+=1){var kn=Jn[Mr];qn[kn]=mi[kn].evaluate(Li,Ci)}return qn},qe.reduce=function(Ur,qn){Ci.properties=qn;for(var Mr=0,Jn=Ai;Mr<Jn.length;Mr+=1){var kn=Jn[Mr];Li.accumulated=Ur[kn],Ur[kn]=$e[kn].evaluate(Li,Ci)}},qe}(oe)).load(qt.features):new jr(He=qt,oe.geojsonVtOptions)}catch(He){return Yt(He)}var He;Ft.loaded={};var ei={};if(ge){var pi=ge.finish();pi&&(ei.resourceTiming={},ei.resourceTiming[oe.source]=JSON.parse(JSON.stringify(pi)))}Yt(null,ei)})}},Mt.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},Mt.prototype.reloadTile=function(Ft,Yt){var oe=this.loaded;return oe&&oe[Ft.uid]?gt.prototype.reloadTile.call(this,Ft,Yt):this.loadTile(Ft,Yt)},Mt.prototype.loadGeoJSON=function(Ft,Yt){if(Ft.request)h.getJSON(Ft.request,Yt);else{if("string"!=typeof Ft.data)return Yt(new Error("Input data given to '"+Ft.source+"' is not a valid GeoJSON object."));try{return Yt(null,JSON.parse(Ft.data))}catch{return Yt(new Error("Input data given to '"+Ft.source+"' is not a valid GeoJSON object."))}}},Mt.prototype.removeSource=function(Ft,Yt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Yt()},Mt.prototype.getClusterExpansionZoom=function(Ft,Yt){try{Yt(null,this._geoJSONIndex.getClusterExpansionZoom(Ft.clusterId))}catch(oe){Yt(oe)}},Mt.prototype.getClusterChildren=function(Ft,Yt){try{Yt(null,this._geoJSONIndex.getChildren(Ft.clusterId))}catch(oe){Yt(oe)}},Mt.prototype.getClusterLeaves=function(Ft,Yt){try{Yt(null,this._geoJSONIndex.getLeaves(Ft.clusterId,Ft.limit,Ft.offset))}catch(oe){Yt(oe)}},Mt}(k),An=function(gt){var Mt=this;this.self=gt,this.actor=new h.Actor(gt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:k,geojson:rn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ft,Yt){if(Mt.workerSourceTypes[Ft])throw new Error('Worker source with name "'+Ft+'" already registered.');Mt.workerSourceTypes[Ft]=Yt},this.self.registerRTLTextPlugin=function(Ft){if(h.plugin.isParsed())throw new Error("RTL text plugin already registered.");h.plugin.applyArabicShaping=Ft.applyArabicShaping,h.plugin.processBidirectionalText=Ft.processBidirectionalText,h.plugin.processStyledBidirectionalText=Ft.processStyledBidirectionalText}};return An.prototype.setReferrer=function(gt,Mt){this.referrer=Mt},An.prototype.setImages=function(gt,Mt,Ft){for(var Yt in this.availableImages[gt]=Mt,this.workerSources[gt]){var oe=this.workerSources[gt][Yt];for(var ge in oe)oe[ge].availableImages=Mt}Ft()},An.prototype.setLayers=function(gt,Mt,Ft){this.getLayerIndex(gt).replace(Mt),Ft()},An.prototype.updateLayers=function(gt,Mt,Ft){this.getLayerIndex(gt).update(Mt.layers,Mt.removedIds),Ft()},An.prototype.loadTile=function(gt,Mt,Ft){this.getWorkerSource(gt,Mt.type,Mt.source).loadTile(Mt,Ft)},An.prototype.loadDEMTile=function(gt,Mt,Ft){this.getDEMWorkerSource(gt,Mt.source).loadTile(Mt,Ft)},An.prototype.reloadTile=function(gt,Mt,Ft){this.getWorkerSource(gt,Mt.type,Mt.source).reloadTile(Mt,Ft)},An.prototype.abortTile=function(gt,Mt,Ft){this.getWorkerSource(gt,Mt.type,Mt.source).abortTile(Mt,Ft)},An.prototype.removeTile=function(gt,Mt,Ft){this.getWorkerSource(gt,Mt.type,Mt.source).removeTile(Mt,Ft)},An.prototype.removeDEMTile=function(gt,Mt){this.getDEMWorkerSource(gt,Mt.source).removeTile(Mt)},An.prototype.removeSource=function(gt,Mt,Ft){if(this.workerSources[gt]&&this.workerSources[gt][Mt.type]&&this.workerSources[gt][Mt.type][Mt.source]){var Yt=this.workerSources[gt][Mt.type][Mt.source];delete this.workerSources[gt][Mt.type][Mt.source],void 0!==Yt.removeSource?Yt.removeSource(Mt,Ft):Ft()}},An.prototype.loadWorkerSource=function(gt,Mt,Ft){try{this.self.importScripts(Mt.url),Ft()}catch(Yt){Ft(Yt.toString())}},An.prototype.syncRTLPluginState=function(gt,Mt,Ft){try{h.plugin.setState(Mt);var Yt=h.plugin.getPluginURL();if(h.plugin.isLoaded()&&!h.plugin.isParsed()&&null!=Yt){this.self.importScripts(Yt);var oe=h.plugin.isParsed();Ft(oe?void 0:new Error("RTL Text Plugin failed to import scripts from "+Yt),oe)}}catch(ge){Ft(ge.toString())}},An.prototype.getAvailableImages=function(gt){var Mt=this.availableImages[gt];return Mt||(Mt=[]),Mt},An.prototype.getLayerIndex=function(gt){var Mt=this.layerIndexes[gt];return Mt||(Mt=this.layerIndexes[gt]=new G),Mt},An.prototype.getWorkerSource=function(gt,Mt,Ft){var Yt=this;return this.workerSources[gt]||(this.workerSources[gt]={}),this.workerSources[gt][Mt]||(this.workerSources[gt][Mt]={}),this.workerSources[gt][Mt][Ft]||(this.workerSources[gt][Mt][Ft]=new this.workerSourceTypes[Mt]({send:function(oe,ge,Te){Yt.actor.send(oe,ge,Te,gt)}},this.getLayerIndex(gt),this.getAvailableImages(gt))),this.workerSources[gt][Mt][Ft]},An.prototype.getDEMWorkerSource=function(gt,Mt){return this.demWorkerSources[gt]||(this.demWorkerSources[gt]={}),this.demWorkerSources[gt][Mt]||(this.demWorkerSources[gt][Mt]=new Q),this.demWorkerSources[gt][Mt]},An.prototype.enforceCacheSizeLimit=function(gt,Mt){h.enforceCacheSizeLimit(Mt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new An(self)),An}),g(0,function(h){var rt=h.createCommonjsModule(function(n){function s(d){return!o(d)}function o(d){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,N,ut=new Blob([""],{type:"text/javascript"}),bt=URL.createObjectURL(ut);try{N=new Worker(bt),w=!0}catch{w=!1}return N&&N.terminate(),URL.revokeObjectURL(bt),w}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var w=document.createElement("canvas");w.width=w.height=1;var N=w.getContext("2d");if(!N)return!1;var ut=N.getImageData(0,0,1,1);return ut&&ut.width===w.width}()?(void 0===l[v=d&&d.failIfMajorPerformanceCaveat]&&(l[v]=function(w){var bt,Zt,Wt,N=(bt=w,Zt=document.createElement("canvas"),(Wt=Object.create(s.webGLContextAttributes)).failIfMajorPerformanceCaveat=bt,Zt.probablySupportsContext?Zt.probablySupportsContext("webgl",Wt)||Zt.probablySupportsContext("experimental-webgl",Wt):Zt.supportsContext?Zt.supportsContext("webgl",Wt)||Zt.supportsContext("experimental-webgl",Wt):Zt.getContext("webgl",Wt)||Zt.getContext("experimental-webgl",Wt));if(!N)return!1;var ut=N.createShader(N.VERTEX_SHADER);return!(!ut||N.isContextLost())&&(N.shaderSource(ut,"void main() {}"),N.compileShader(ut),!0===N.getShaderParameter(ut,N.COMPILE_STATUS))}(v)),l[v]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var v}n.exports?n.exports=s:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=s,window.mapboxgl.notSupportedReason=o);var l={};s.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),T={create:function(n,s,o){var l=h.window.document.createElement(n);return void 0!==s&&(l.className=s),o&&o.appendChild(l),l},createNS:function(n,s){return h.window.document.createElementNS(n,s)}},G=h.window.document&&h.window.document.documentElement.style;function A(n){if(!G)return n[0];for(var s=0;s<n.length;s++)if(n[s]in G)return n[s];return n[0]}var D,b=A(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);T.disableDrag=function(){G&&b&&(D=G[b],G[b]="none")},T.enableDrag=function(){G&&b&&(G[b]=D)};var W=A(["transform","WebkitTransform"]);T.setTransform=function(n,s){n.style[W]=s};var k=!1;try{var P=Object.defineProperty({},"passive",{get:function(){k=!0}});h.window.addEventListener("test",P,P),h.window.removeEventListener("test",P,P)}catch{k=!1}T.addEventListener=function(n,s,o,l){void 0===l&&(l={}),n.addEventListener(s,o,"passive"in l&&k?l:l.capture)},T.removeEventListener=function(n,s,o,l){void 0===l&&(l={}),n.removeEventListener(s,o,"passive"in l&&k?l:l.capture)};var Q=function(n){n.preventDefault(),n.stopPropagation(),h.window.removeEventListener("click",Q,!0)};function I(n){var s=n.userImage;return!!(s&&s.render&&s.render())&&(n.data.replace(new Uint8Array(s.data.buffer)),!0)}T.suppressClick=function(){h.window.addEventListener("click",Q,!0),h.window.setTimeout(function(){h.window.removeEventListener("click",Q,!0)},0)},T.mousePos=function(n,s){var o=n.getBoundingClientRect();return new h.Point(s.clientX-o.left-n.clientLeft,s.clientY-o.top-n.clientTop)},T.touchPos=function(n,s){for(var o=n.getBoundingClientRect(),l=[],d=0;d<s.length;d++)l.push(new h.Point(s[d].clientX-o.left-n.clientLeft,s[d].clientY-o.top-n.clientTop));return l},T.mouseButton=function(n){return void 0!==h.window.InstallTrigger&&2===n.button&&n.ctrlKey&&h.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:n.button},T.remove=function(n){n.parentNode&&n.parentNode.removeChild(n)};var B=function(n){function s(){n.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new h.RGBAImage({width:1,height:1}),this.dirty=!0}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.isLoaded=function(){return this.loaded},s.prototype.setLoaded=function(o){if(this.loaded!==o&&(this.loaded=o,o)){for(var l=0,d=this.requestors;l<d.length;l+=1){var v=d[l];this._notify(v.ids,v.callback)}this.requestors=[]}},s.prototype.getImage=function(o){return this.images[o]},s.prototype.addImage=function(o,l){this._validate(o,l)&&(this.images[o]=l)},s.prototype._validate=function(o,l){var d=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new h.ErrorEvent(new Error('Image "'+o+'" has invalid "stretchX" value'))),d=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new h.ErrorEvent(new Error('Image "'+o+'" has invalid "stretchY" value'))),d=!1),this._validateContent(l.content,l)||(this.fire(new h.ErrorEvent(new Error('Image "'+o+'" has invalid "content" value'))),d=!1),d},s.prototype._validateStretch=function(o,l){if(!o)return!0;for(var d=0,v=0,w=o;v<w.length;v+=1){var N=w[v];if(N[0]<d||N[1]<N[0]||l<N[1])return!1;d=N[1]}return!0},s.prototype._validateContent=function(o,l){return!(o&&(4!==o.length||o[0]<0||l.data.width<o[0]||o[1]<0||l.data.height<o[1]||o[2]<0||l.data.width<o[2]||o[3]<0||l.data.height<o[3]||o[2]<o[0]||o[3]<o[1]))},s.prototype.updateImage=function(o,l){l.version=this.images[o].version+1,this.images[o]=l,this.updatedImages[o]=!0},s.prototype.removeImage=function(o){var l=this.images[o];delete this.images[o],delete this.patterns[o],l.userImage&&l.userImage.onRemove&&l.userImage.onRemove()},s.prototype.listImages=function(){return Object.keys(this.images)},s.prototype.getImages=function(o,l){var d=!0;if(!this.isLoaded())for(var v=0,w=o;v<w.length;v+=1)this.images[w[v]]||(d=!1);this.isLoaded()||d?this._notify(o,l):this.requestors.push({ids:o,callback:l})},s.prototype._notify=function(o,l){for(var d={},v=0,w=o;v<w.length;v+=1){var N=w[v];this.images[N]||this.fire(new h.Event("styleimagemissing",{id:N}));var ut=this.images[N];ut?d[N]={data:ut.data.clone(),pixelRatio:ut.pixelRatio,sdf:ut.sdf,version:ut.version,stretchX:ut.stretchX,stretchY:ut.stretchY,content:ut.content,hasRenderCallback:Boolean(ut.userImage&&ut.userImage.render)}:h.warnOnce('Image "'+N+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}l(null,d)},s.prototype.getPixelSize=function(){var o=this.atlasImage;return{width:o.width,height:o.height}},s.prototype.getPattern=function(o){var l=this.patterns[o],d=this.getImage(o);if(!d)return null;if(l&&l.position.version===d.version)return l.position;if(l)l.position.version=d.version;else{var v={w:d.data.width+2,h:d.data.height+2,x:0,y:0},w=new h.ImagePosition(v,d);this.patterns[o]={bin:v,position:w}}return this._updatePatternAtlas(),this.patterns[o].position},s.prototype.bind=function(o){var l=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new h.Texture(o,this.atlasImage,l.RGBA),this.atlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE)},s.prototype._updatePatternAtlas=function(){var o=[];for(var l in this.patterns)o.push(this.patterns[l].bin);var d=h.potpack(o),v=d.w,w=d.h,N=this.atlasImage;for(var ut in N.resize({width:v||1,height:w||1}),this.patterns){var bt=this.patterns[ut].bin,Zt=bt.x+1,Wt=bt.y+1,Kt=this.images[ut].data,me=Kt.width,ce=Kt.height;h.RGBAImage.copy(Kt,N,{x:0,y:0},{x:Zt,y:Wt},{width:me,height:ce}),h.RGBAImage.copy(Kt,N,{x:0,y:ce-1},{x:Zt,y:Wt-1},{width:me,height:1}),h.RGBAImage.copy(Kt,N,{x:0,y:0},{x:Zt,y:Wt+ce},{width:me,height:1}),h.RGBAImage.copy(Kt,N,{x:me-1,y:0},{x:Zt-1,y:Wt},{width:1,height:ce}),h.RGBAImage.copy(Kt,N,{x:0,y:0},{x:Zt+me,y:Wt},{width:1,height:ce})}this.dirty=!0},s.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},s.prototype.dispatchRenderCallbacks=function(o){for(var l=0,d=o;l<d.length;l+=1){var v=d[l];if(!this.callbackDispatchedThisFrame[v]){this.callbackDispatchedThisFrame[v]=!0;var w=this.images[v];I(w)&&this.updateImage(v,w)}}},s}(h.Evented),vt=E,Ut=E,It=1e20;function E(n,s,o,l,d,v){this.fontSize=n||24,this.buffer=void 0===s?3:s,this.cutoff=l||.25,this.fontFamily=d||"sans-serif",this.fontWeight=v||"normal",this.radius=o||8;var w=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=w,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(w*w),this.gridInner=new Float64Array(w*w),this.f=new Float64Array(w),this.d=new Float64Array(w),this.z=new Float64Array(w+1),this.v=new Int16Array(w),this.middle=Math.round(w/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function U(n,s,o,l,d,v,w){for(var N=0;N<s;N++){for(var ut=0;ut<o;ut++)l[ut]=n[ut*s+N];for(mt(l,d,v,w,o),ut=0;ut<o;ut++)n[ut*s+N]=d[ut]}for(ut=0;ut<o;ut++){for(N=0;N<s;N++)l[N]=n[ut*s+N];for(mt(l,d,v,w,s),N=0;N<s;N++)n[ut*s+N]=Math.sqrt(d[N])}}function mt(n,s,o,l,d){o[0]=0,l[0]=-It,l[1]=+It;for(var v=1,w=0;v<d;v++){for(var N=(n[v]+v*v-(n[o[w]]+o[w]*o[w]))/(2*v-2*o[w]);N<=l[w];)w--,N=(n[v]+v*v-(n[o[w]]+o[w]*o[w]))/(2*v-2*o[w]);o[++w]=v,l[w]=N,l[w+1]=+It}for(v=0,w=0;v<d;v++){for(;l[w+1]<v;)w++;s[v]=(v-o[w])*(v-o[w])+n[o[w]]}}E.prototype.draw=function(n){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(n,this.buffer,this.middle);for(var s=this.ctx.getImageData(0,0,this.size,this.size),o=new Uint8ClampedArray(this.size*this.size),l=0;l<this.size*this.size;l++){var d=s.data[4*l+3]/255;this.gridOuter[l]=1===d?0:0===d?It:Math.pow(Math.max(0,.5-d),2),this.gridInner[l]=1===d?It:0===d?0:Math.pow(Math.max(0,d-.5),2)}for(U(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),U(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),l=0;l<this.size*this.size;l++)o[l]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[l]-this.gridInner[l])/this.radius+this.cutoff))));return o},vt.default=Ut;var ct=function(n,s){this.requestManager=n,this.localIdeographFontFamily=s,this.entries={}};ct.prototype.setURL=function(n){this.url=n},ct.prototype.getGlyphs=function(n,s){var o=this,l=[];for(var d in n)for(var v=0,w=n[d];v<w.length;v+=1)l.push({stack:d,id:w[v]});h.asyncAll(l,function(N,ut){var bt=N.stack,Zt=N.id,Wt=o.entries[bt];Wt||(Wt=o.entries[bt]={glyphs:{},requests:{},ranges:{}});var Kt=Wt.glyphs[Zt];if(void 0===Kt){if(Kt=o._tinySDF(Wt,bt,Zt))return Wt.glyphs[Zt]=Kt,void ut(null,{stack:bt,id:Zt,glyph:Kt});var me=Math.floor(Zt/256);if(256*me>65535)ut(new Error("glyphs > 65535 not supported"));else if(Wt.ranges[me])ut(null,{stack:bt,id:Zt,glyph:Kt});else{var ce=Wt.requests[me];ce||(ce=Wt.requests[me]=[],ct.loadGlyphRange(bt,me,o.url,o.requestManager,function(_e,ae){if(ae){for(var ve in ae)o._doesCharSupportLocalGlyph(+ve)||(Wt.glyphs[+ve]=ae[+ve]);Wt.ranges[me]=!0}for(var Ae=0,Be=ce;Ae<Be.length;Ae+=1)(0,Be[Ae])(_e,ae);delete Wt.requests[me]})),ce.push(function(_e,ae){_e?ut(_e):ae&&ut(null,{stack:bt,id:Zt,glyph:ae[Zt]||null})})}}else ut(null,{stack:bt,id:Zt,glyph:Kt})},function(N,ut){if(N)s(N);else if(ut){for(var bt={},Zt=0,Wt=ut;Zt<Wt.length;Zt+=1){var Kt=Wt[Zt],me=Kt.stack,ce=Kt.id,_e=Kt.glyph;(bt[me]||(bt[me]={}))[ce]=_e&&{id:_e.id,bitmap:_e.bitmap.clone(),metrics:_e.metrics}}s(null,bt)}})},ct.prototype._doesCharSupportLocalGlyph=function(n){return!!this.localIdeographFontFamily&&(h.isChar["CJK Unified Ideographs"](n)||h.isChar["Hangul Syllables"](n)||h.isChar.Hiragana(n)||h.isChar.Katakana(n))},ct.prototype._tinySDF=function(n,s,o){var l=this.localIdeographFontFamily;if(l&&this._doesCharSupportLocalGlyph(o)){var d=n.tinySDF;if(!d){var v="400";/bold/i.test(s)?v="900":/medium/i.test(s)?v="500":/light/i.test(s)&&(v="200"),d=n.tinySDF=new ct.TinySDF(24,3,8,.25,l,v)}return{id:o,bitmap:new h.AlphaImage({width:30,height:30},d.draw(String.fromCharCode(o))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},ct.loadGlyphRange=function(n,s,o,l,d){var v=256*s,w=v+255,N=l.transformRequest(l.normalizeGlyphsURL(o).replace("{fontstack}",n).replace("{range}",v+"-"+w),h.ResourceType.Glyphs);h.getArrayBuffer(N,function(ut,bt){if(ut)d(ut);else if(bt){for(var Zt={},Wt=0,Kt=h.parseGlyphPBF(bt);Wt<Kt.length;Wt+=1){var me=Kt[Wt];Zt[me.id]=me}d(null,Zt)}})},ct.TinySDF=vt;var ft=function(){this.specification=h.styleSpec.light.position};ft.prototype.possiblyEvaluate=function(n,s){return h.sphericalToCartesian(n.expression.evaluate(s))},ft.prototype.interpolate=function(n,s,o){return{x:h.number(n.x,s.x,o),y:h.number(n.y,s.y,o),z:h.number(n.z,s.z,o)}};var M=new h.Properties({anchor:new h.DataConstantProperty(h.styleSpec.light.anchor),position:new ft,color:new h.DataConstantProperty(h.styleSpec.light.color),intensity:new h.DataConstantProperty(h.styleSpec.light.intensity)}),tt=function(n){function s(o){n.call(this),this._transitionable=new h.Transitionable(M),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getLight=function(){return this._transitionable.serialize()},s.prototype.setLight=function(o,l){if(void 0===l&&(l={}),!this._validate(h.validateLight,o,l))for(var d in o){var v=o[d];h.endsWith(d,"-transition")?this._transitionable.setTransition(d.slice(0,-11),v):this._transitionable.setValue(d,v)}},s.prototype.updateTransitions=function(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)},s.prototype.hasTransition=function(){return this._transitioning.hasTransition()},s.prototype.recalculate=function(o){this.properties=this._transitioning.possiblyEvaluate(o)},s.prototype._validate=function(o,l,d){return(!d||!1!==d.validate)&&h.emitValidationErrors(this,o.call(h.validateStyle,h.extend({value:l,style:{glyphs:!0,sprite:!0},styleSpec:h.styleSpec})))},s}(h.Evented),X=function(n,s){this.width=n,this.height=s,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};X.prototype.getDash=function(n,s){var o=n.join(",")+String(s);return this.dashEntry[o]||(this.dashEntry[o]=this.addDash(n,s)),this.dashEntry[o]},X.prototype.getDashRanges=function(n,s,o){var l=[],d=n.length%2==1?-n[n.length-1]*o:0,v=n[0]*o,w=!0;l.push({left:d,right:v,isDash:w,zeroLength:0===n[0]});for(var N=n[0],ut=1;ut<n.length;ut++){var bt=n[ut];l.push({left:d=N*o,right:v=(N+=bt)*o,isDash:w=!w,zeroLength:0===bt})}return l},X.prototype.addRoundDash=function(n,s,o){for(var l=s/2,d=-o;d<=o;d++)for(var v=this.width*(this.nextRow+o+d),w=0,N=n[w],ut=0;ut<this.width;ut++){ut/N.right>1&&(N=n[++w]);var bt=Math.abs(ut-N.left),Zt=Math.abs(ut-N.right),Wt=Math.min(bt,Zt),Kt=void 0,me=d/o*(l+1);if(N.isDash){var ce=l-Math.abs(me);Kt=Math.sqrt(Wt*Wt+ce*ce)}else Kt=l-Math.sqrt(Wt*Wt+me*me);this.data[v+ut]=Math.max(0,Math.min(255,Kt+128))}},X.prototype.addRegularDash=function(n){for(var s=n.length-1;s>=0;--s){var o=n[s],l=n[s+1];o.zeroLength?n.splice(s,1):l&&l.isDash===o.isDash&&(l.left=o.left,n.splice(s,1))}var d=n[0],v=n[n.length-1];d.isDash===v.isDash&&(d.left=v.left-this.width,v.right=d.right+this.width);for(var w=this.width*this.nextRow,N=0,ut=n[N],bt=0;bt<this.width;bt++){bt/ut.right>1&&(ut=n[++N]);var Zt=Math.abs(bt-ut.left),Wt=Math.abs(bt-ut.right),Kt=Math.min(Zt,Wt);this.data[w+bt]=Math.max(0,Math.min(255,(ut.isDash?Kt:-Kt)+128))}},X.prototype.addDash=function(n,s){var o=s?7:0,l=2*o+1;if(this.nextRow+l>this.height)return h.warnOnce("LineAtlas out of space"),null;for(var d=0,v=0;v<n.length;v++)d+=n[v];if(0!==d){var w=this.width/d,N=this.getDashRanges(n,this.width,w);s?this.addRoundDash(N,w,o):this.addRegularDash(N)}var ut={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:d};return this.nextRow+=l,this.dirty=!0,ut},X.prototype.bind=function(n){var s=n.gl;this.texture?(s.bindTexture(s.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,s.texSubImage2D(s.TEXTURE_2D,0,0,0,this.width,this.height,s.ALPHA,s.UNSIGNED_BYTE,this.data))):(this.texture=s.createTexture(),s.bindTexture(s.TEXTURE_2D,this.texture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.REPEAT),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.REPEAT),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.LINEAR),s.texImage2D(s.TEXTURE_2D,0,s.ALPHA,this.width,this.height,0,s.ALPHA,s.UNSIGNED_BYTE,this.data))};var St=function n(s,o){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=h.uniqueId();for(var l=this.workerPool.acquire(this.id),d=0;d<l.length;d++){var v=new n.Actor(l[d],o,this.id);v.name="Worker "+d,this.actors.push(v)}};function yt(n,s,o){var l=function(d,v){if(d)return o(d);if(v){var w=h.pick(h.extend(v,n),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);v.vector_layers&&(w.vectorLayers=v.vector_layers,w.vectorLayerIds=w.vectorLayers.map(function(N){return N.id})),w.tiles=s.canonicalizeTileset(w,n.url),o(null,w)}};return n.url?h.getJSON(s.transformRequest(s.normalizeSourceURL(n.url),h.ResourceType.Source),l):h.browser.frame(function(){return l(null,n)})}St.prototype.broadcast=function(n,s,o){h.asyncAll(this.actors,function(l,d){l.send(n,s,d)},o=o||function(){})},St.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},St.prototype.remove=function(){this.actors.forEach(function(n){n.remove()}),this.actors=[],this.workerPool.release(this.id)},St.Actor=h.Actor;var jt=function(n,s,o){this.bounds=h.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=s||0,this.maxzoom=o||24};jt.prototype.validateBounds=function(n){return Array.isArray(n)&&4===n.length?[Math.max(-180,n[0]),Math.max(-90,n[1]),Math.min(180,n[2]),Math.min(90,n[3])]:[-180,-90,180,90]},jt.prototype.contains=function(n){var s=Math.pow(2,n.z),o=Math.floor(h.mercatorXfromLng(this.bounds.getWest())*s),l=Math.floor(h.mercatorYfromLat(this.bounds.getNorth())*s),d=Math.ceil(h.mercatorXfromLng(this.bounds.getEast())*s),v=Math.ceil(h.mercatorYfromLat(this.bounds.getSouth())*s);return n.x>=o&&n.x<d&&n.y>=l&&n.y<v};var kt=function(n){function s(o,l,d,v){if(n.call(this),this.id=o,this.dispatcher=d,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,h.extend(this,h.pick(l,["url","scheme","tileSize","promoteId"])),this._options=h.extend({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.load=function(){var o=this;this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=yt(this._options,this.map._requestManager,function(l,d){o._tileJSONRequest=null,o._loaded=!0,l?o.fire(new h.ErrorEvent(l)):d&&(h.extend(o,d),d.bounds&&(o.tileBounds=new jt(d.bounds,o.minzoom,o.maxzoom)),h.postTurnstileEvent(d.tiles,o.map._requestManager._customAccessToken),h.postMapLoadEvent(d.tiles,o.map._getMapId(),o.map._requestManager._skuToken,o.map._requestManager._customAccessToken),o.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})),o.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})))})},s.prototype.loaded=function(){return this._loaded},s.prototype.hasTile=function(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)},s.prototype.onAdd=function(o){this.map=o,this.load()},s.prototype.setSourceProperty=function(o){this._tileJSONRequest&&this._tileJSONRequest.cancel(),o(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},s.prototype.setTiles=function(o){var l=this;return this.setSourceProperty(function(){l._options.tiles=o}),this},s.prototype.setUrl=function(o){var l=this;return this.setSourceProperty(function(){l.url=o,l._options.url=o}),this},s.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},s.prototype.serialize=function(){return h.extend({},this._options)},s.prototype.loadTile=function(o,l){var d=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme)),v={request:this.map._requestManager.transformRequest(d,h.ResourceType.Tile),uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:h.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function w(N,ut){return delete o.request,o.aborted?l(null):N&&404!==N.status?l(N):(ut&&ut.resourceTiming&&(o.resourceTiming=ut.resourceTiming),this.map._refreshExpiredTiles&&ut&&o.setExpiryData(ut),o.loadVectorData(ut,this.map.painter),h.cacheEntryPossiblyAdded(this.dispatcher),l(null),void(o.reloadCallback&&(this.loadTile(o,o.reloadCallback),o.reloadCallback=null)))}v.request.collectResourceTiming=this._collectResourceTiming,o.actor&&"expired"!==o.state?"loading"===o.state?o.reloadCallback=l:o.request=o.actor.send("reloadTile",v,w.bind(this)):(o.actor=this.dispatcher.getActor(),o.request=o.actor.send("loadTile",v,w.bind(this)))},s.prototype.abortTile=function(o){o.request&&(o.request.cancel(),delete o.request),o.actor&&o.actor.send("abortTile",{uid:o.uid,type:this.type,source:this.id},void 0)},s.prototype.unloadTile=function(o){o.unloadVectorData(),o.actor&&o.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id},void 0)},s.prototype.hasTransition=function(){return!1},s}(h.Evented),ie=function(n){function s(o,l,d,v){n.call(this),this.id=o,this.dispatcher=d,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=h.extend({type:"raster"},l),h.extend(this,h.pick(l,["url","scheme","tileSize"]))}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.load=function(){var o=this;this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=yt(this._options,this.map._requestManager,function(l,d){o._tileJSONRequest=null,o._loaded=!0,l?o.fire(new h.ErrorEvent(l)):d&&(h.extend(o,d),d.bounds&&(o.tileBounds=new jt(d.bounds,o.minzoom,o.maxzoom)),h.postTurnstileEvent(d.tiles),h.postMapLoadEvent(d.tiles,o.map._getMapId(),o.map._requestManager._skuToken),o.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})),o.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})))})},s.prototype.loaded=function(){return this._loaded},s.prototype.onAdd=function(o){this.map=o,this.load()},s.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},s.prototype.serialize=function(){return h.extend({},this._options)},s.prototype.hasTile=function(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)},s.prototype.loadTile=function(o,l){var d=this,v=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);o.request=h.getImage(this.map._requestManager.transformRequest(v,h.ResourceType.Tile),function(w,N){if(delete o.request,o.aborted)o.state="unloaded",l(null);else if(w)o.state="errored",l(w);else if(N){d.map._refreshExpiredTiles&&o.setExpiryData(N),delete N.cacheControl,delete N.expires;var ut=d.map.painter.context,bt=ut.gl;o.texture=d.map.painter.getTileTexture(N.width),o.texture?o.texture.update(N,{useMipmap:!0}):(o.texture=new h.Texture(ut,N,bt.RGBA,{useMipmap:!0}),o.texture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE,bt.LINEAR_MIPMAP_NEAREST),ut.extTextureFilterAnisotropic&&bt.texParameterf(bt.TEXTURE_2D,ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ut.extTextureFilterAnisotropicMax)),o.state="loaded",h.cacheEntryPossiblyAdded(d.dispatcher),l(null)}})},s.prototype.abortTile=function(o,l){o.request&&(o.request.cancel(),delete o.request),l()},s.prototype.unloadTile=function(o,l){o.texture&&this.map.painter.saveTileTexture(o.texture),l()},s.prototype.hasTransition=function(){return!1},s}(h.Evented),pe=function(n){function s(o,l,d,v){n.call(this,o,l,d,v),this.type="raster-dem",this.maxzoom=22,this._options=h.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},s.prototype.loadTile=function(o,l){var d=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function v(w,N){w&&(o.state="errored",l(w)),N&&(o.dem=N,o.needsHillshadePrepare=!0,o.state="loaded",l(null))}o.request=h.getImage(this.map._requestManager.transformRequest(d,h.ResourceType.Tile),function(w,N){if(delete o.request,o.aborted)o.state="unloaded",l(null);else if(w)o.state="errored",l(w);else if(N){this.map._refreshExpiredTiles&&o.setExpiryData(N),delete N.cacheControl,delete N.expires;var ut=h.window.ImageBitmap&&N instanceof h.window.ImageBitmap&&h.offscreenCanvasSupported()?N:h.browser.getImageData(N,1),bt={uid:o.uid,coord:o.tileID,source:this.id,rawImageData:ut,encoding:this.encoding};o.actor&&"expired"!==o.state||(o.actor=this.dispatcher.getActor(),o.actor.send("loadDEMTile",bt,v.bind(this)))}}.bind(this)),o.neighboringTiles=this._getNeighboringTiles(o.tileID)},s.prototype._getNeighboringTiles=function(o){var l=o.canonical,d=Math.pow(2,l.z),v=(l.x-1+d)%d,w=0===l.x?o.wrap-1:o.wrap,N=(l.x+1+d)%d,ut=l.x+1===d?o.wrap+1:o.wrap,bt={};return bt[new h.OverscaledTileID(o.overscaledZ,w,l.z,v,l.y).key]={backfilled:!1},bt[new h.OverscaledTileID(o.overscaledZ,ut,l.z,N,l.y).key]={backfilled:!1},l.y>0&&(bt[new h.OverscaledTileID(o.overscaledZ,w,l.z,v,l.y-1).key]={backfilled:!1},bt[new h.OverscaledTileID(o.overscaledZ,o.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},bt[new h.OverscaledTileID(o.overscaledZ,ut,l.z,N,l.y-1).key]={backfilled:!1}),l.y+1<d&&(bt[new h.OverscaledTileID(o.overscaledZ,w,l.z,v,l.y+1).key]={backfilled:!1},bt[new h.OverscaledTileID(o.overscaledZ,o.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},bt[new h.OverscaledTileID(o.overscaledZ,ut,l.z,N,l.y+1).key]={backfilled:!1}),bt},s.prototype.unloadTile=function(o){o.demTexture&&this.map.painter.saveTileTexture(o.demTexture),o.fbo&&(o.fbo.destroy(),delete o.fbo),o.dem&&delete o.dem,delete o.neighboringTiles,o.state="unloaded",o.actor&&o.actor.send("removeDEMTile",{uid:o.uid,source:this.id})},s}(ie),Fe=function(n){function s(o,l,d,v){n.call(this),this.id=o,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=d.getActor(),this.setEventedParent(v),this._data=l.data,this._options=h.extend({},l),this._collectResourceTiming=l.collectResourceTiming,this._resourceTiming=[],void 0!==l.maxzoom&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;var w=h.EXTENT/this.tileSize;this.workerOptions=h.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(void 0!==l.buffer?l.buffer:128)*w,tolerance:(void 0!==l.tolerance?l.tolerance:.375)*w,extent:h.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:void 0!==l.clusterMaxZoom?Math.min(l.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:h.EXTENT,radius:(l.clusterRadius||50)*w,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.load=function(){var o=this;this.fire(new h.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(l){if(l)o.fire(new h.ErrorEvent(l));else{var d={dataType:"source",sourceDataType:"metadata"};o._collectResourceTiming&&o._resourceTiming&&o._resourceTiming.length>0&&(d.resourceTiming=o._resourceTiming,o._resourceTiming=[]),o.fire(new h.Event("data",d))}})},s.prototype.onAdd=function(o){this.map=o,this.load()},s.prototype.setData=function(o){var l=this;return this._data=o,this.fire(new h.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(d){if(d)l.fire(new h.ErrorEvent(d));else{var v={dataType:"source",sourceDataType:"content"};l._collectResourceTiming&&l._resourceTiming&&l._resourceTiming.length>0&&(v.resourceTiming=l._resourceTiming,l._resourceTiming=[]),l.fire(new h.Event("data",v))}}),this},s.prototype.getClusterExpansionZoom=function(o,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:o,source:this.id},l),this},s.prototype.getClusterChildren=function(o,l){return this.actor.send("geojson.getClusterChildren",{clusterId:o,source:this.id},l),this},s.prototype.getClusterLeaves=function(o,l,d,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:o,limit:l,offset:d},v),this},s.prototype._updateWorkerData=function(o){var l=this;this._loaded=!1;var d=h.extend({},this.workerOptions),v=this._data;"string"==typeof v?(d.request=this.map._requestManager.transformRequest(h.browser.resolveURL(v),h.ResourceType.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(v),this.actor.send(this.type+".loadData",d,function(w,N){l._removed||N&&N.abandoned||(l._loaded=!0,N&&N.resourceTiming&&N.resourceTiming[l.id]&&(l._resourceTiming=N.resourceTiming[l.id].slice(0)),l.actor.send(l.type+".coalesce",{source:d.source},null),o(w))})},s.prototype.loaded=function(){return this._loaded},s.prototype.loadTile=function(o,l){var d=this,v=o.actor?"reloadTile":"loadTile";o.actor=this.actor,o.request=this.actor.send(v,{type:this.type,uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:h.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(w,N){return delete o.request,o.unloadVectorData(),o.aborted?l(null):w?l(w):(o.loadVectorData(N,d.map.painter,"reloadTile"===v),l(null))})},s.prototype.abortTile=function(o){o.request&&(o.request.cancel(),delete o.request),o.aborted=!0},s.prototype.unloadTile=function(o){o.unloadVectorData(),this.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id})},s.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},s.prototype.serialize=function(){return h.extend({},this._options,{type:this.type,data:this._data})},s.prototype.hasTransition=function(){return!1},s}(h.Evented),je=h.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Ce=function(n){function s(o,l,d,v){n.call(this),this.id=o,this.dispatcher=d,this.coordinates=l.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=l}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.load=function(o,l){var d=this;this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this.url=this.options.url,h.getImage(this.map._requestManager.transformRequest(this.url,h.ResourceType.Image),function(v,w){d._loaded=!0,v?d.fire(new h.ErrorEvent(v)):w&&(d.image=w,o&&(d.coordinates=o),l&&l(),d._finishLoading())})},s.prototype.loaded=function(){return this._loaded},s.prototype.updateImage=function(o){var l=this;return this.image&&o.url?(this.options.url=o.url,this.load(o.coordinates,function(){l.texture=null}),this):this},s.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})))},s.prototype.onAdd=function(o){this.map=o,this.load()},s.prototype.setCoordinates=function(o){var l=this;this.coordinates=o;var d=o.map(h.MercatorCoordinate.fromLngLat);this.tileID=function(w){for(var N=1/0,ut=1/0,bt=-1/0,Zt=-1/0,Wt=0,Kt=w;Wt<Kt.length;Wt+=1){var me=Kt[Wt];N=Math.min(N,me.x),ut=Math.min(ut,me.y),bt=Math.max(bt,me.x),Zt=Math.max(Zt,me.y)}var ce=Math.max(bt-N,Zt-ut),_e=Math.max(0,Math.floor(-Math.log(ce)/Math.LN2)),ae=Math.pow(2,_e);return new h.CanonicalTileID(_e,Math.floor((N+bt)/2*ae),Math.floor((ut+Zt)/2*ae))}(d),this.minzoom=this.maxzoom=this.tileID.z;var v=d.map(function(w){return l.tileID.getTilePoint(w)._round()});return this._boundsArray=new h.StructArrayLayout4i8,this._boundsArray.emplaceBack(v[0].x,v[0].y,0,0),this._boundsArray.emplaceBack(v[1].x,v[1].y,h.EXTENT,0),this._boundsArray.emplaceBack(v[3].x,v[3].y,0,h.EXTENT),this._boundsArray.emplaceBack(v[2].x,v[2].y,h.EXTENT,h.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})),this},s.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var o=this.map.painter.context,l=o.gl;for(var d in this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new h.Texture(o,this.image,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE)),this.tiles){var v=this.tiles[d];"loaded"!==v.state&&(v.state="loaded",v.texture=this.texture)}}},s.prototype.loadTile=function(o,l){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},l(null)):(o.state="errored",l(null))},s.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},s.prototype.hasTransition=function(){return!1},s}(h.Evented),$t=function(n){function s(o,l,d,v){n.call(this,o,l,d,v),this.roundZoom=!0,this.type="video",this.options=l}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.load=function(){var o=this;this._loaded=!1;var l=this.options;this.urls=[];for(var d=0,v=l.urls;d<v.length;d+=1)this.urls.push(this.map._requestManager.transformRequest(v[d],h.ResourceType.Source).url);h.getVideo(this.urls,function(w,N){o._loaded=!0,w?o.fire(new h.ErrorEvent(w)):N&&(o.video=N,o.video.loop=!0,o.video.addEventListener("playing",function(){o.map.triggerRepaint()}),o.map&&o.video.play(),o._finishLoading())})},s.prototype.pause=function(){this.video&&this.video.pause()},s.prototype.play=function(){this.video&&this.video.play()},s.prototype.seek=function(o){if(this.video){var l=this.video.seekable;o<l.start(0)||o>l.end(0)?this.fire(new h.ErrorEvent(new h.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+l.start(0)+" and "+l.end(0)+"-second mark."))):this.video.currentTime=o}},s.prototype.getVideo=function(){return this.video},s.prototype.onAdd=function(o){this.map||(this.map=o,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},s.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var o=this.map.painter.context,l=o.gl;for(var d in this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new h.Texture(o,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE)),this.tiles){var v=this.tiles[d];"loaded"!==v.state&&(v.state="loaded",v.texture=this.texture)}}},s.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},s.prototype.hasTransition=function(){return this.video&&!this.video.paused},s}(Ce),de=function(n){function s(o,l,d,v){n.call(this,o,l,d,v),l.coordinates?Array.isArray(l.coordinates)&&4===l.coordinates.length&&!l.coordinates.some(function(w){return!Array.isArray(w)||2!==w.length||w.some(function(N){return"number"!=typeof N})})||this.fire(new h.ErrorEvent(new h.ValidationError("sources."+o,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new h.ErrorEvent(new h.ValidationError("sources."+o,null,'missing required property "coordinates"'))),l.animate&&"boolean"!=typeof l.animate&&this.fire(new h.ErrorEvent(new h.ValidationError("sources."+o,null,'optional "animate" property must be a boolean value'))),l.canvas?"string"==typeof l.canvas||l.canvas instanceof h.window.HTMLCanvasElement||this.fire(new h.ErrorEvent(new h.ValidationError("sources."+o,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new h.ErrorEvent(new h.ValidationError("sources."+o,null,'missing required property "canvas"'))),this.options=l,this.animate=void 0===l.animate||l.animate}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof h.window.HTMLCanvasElement?this.options.canvas:h.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new h.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},s.prototype.getCanvas=function(){return this.canvas},s.prototype.onAdd=function(o){this.map=o,this.load(),this.canvas&&this.animate&&this.play()},s.prototype.onRemove=function(){this.pause()},s.prototype.prepare=function(){var o=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,o=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,o=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var l=this.map.painter.context,d=l.gl;for(var v in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(o||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new h.Texture(l,this.canvas,d.RGBA,{premultiply:!0}),this.tiles){var w=this.tiles[v];"loaded"!==w.state&&(w.state="loaded",w.texture=this.texture)}}},s.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},s.prototype.hasTransition=function(){return this._playing},s.prototype._hasInvalidDimensions=function(){for(var o=0,l=[this.canvas.width,this.canvas.height];o<l.length;o+=1){var d=l[o];if(isNaN(d)||d<=0)return!0}return!1},s}(Ce),Qt={vector:kt,raster:ie,"raster-dem":pe,geojson:Fe,video:$t,image:Ce,canvas:de};function Et(n,s){var o=h.identity([]);return h.translate(o,o,[1,1,0]),h.scale(o,o,[.5*n.width,.5*n.height,1]),h.multiply(o,o,n.calculatePosMatrix(s.toUnwrapped()))}function Lt(n,s,o,l,d,v){var w=function(_e,ae,ve){if(_e)for(var Ae=0,Be=_e;Ae<Be.length;Ae+=1){var Qe=ae[Be[Ae]];if(Qe&&Qe.source===ve&&"fill-extrusion"===Qe.type)return!0}else for(var Xe in ae){var ti=ae[Xe];if(ti.source===ve&&"fill-extrusion"===ti.type)return!0}return!1}(d&&d.layers,s,n.id),N=v.maxPitchScaleFactor(),ut=n.tilesIn(l,N,w);ut.sort(ne);for(var bt=[],Zt=0,Wt=ut;Zt<Wt.length;Zt+=1){var Kt=Wt[Zt];bt.push({wrappedTileID:Kt.tileID.wrapped().key,queryResults:Kt.tile.queryRenderedFeatures(s,o,n._state,Kt.queryGeometry,Kt.cameraQueryGeometry,Kt.scale,d,v,N,Et(n.transform,Kt.tileID))})}var me=function(_e){for(var ae={},ve={},Ae=0,Be=_e;Ae<Be.length;Ae+=1){var Qe=Be[Ae],Xe=Qe.queryResults,ti=Qe.wrappedTileID,di=ve[ti]=ve[ti]||{};for(var Ei in Xe)for(var Ti=Xe[Ei],qi=di[Ei]=di[Ei]||{},Qi=ae[Ei]=ae[Ei]||[],on=0,nn=Ti;on<nn.length;on+=1){var ar=nn[on];qi[ar.featureIndex]||(qi[ar.featureIndex]=!0,Qi.push(ar))}}return ae}(bt);for(var ce in me)me[ce].forEach(function(_e){var ae=_e.feature,ve=n.getFeatureState(ae.layer["source-layer"],ae.id);ae.source=ae.layer.source,ae.layer["source-layer"]&&(ae.sourceLayer=ae.layer["source-layer"]),ae.state=ve});return me}function ne(n,s){var o=n.tileID,l=s.tileID;return o.overscaledZ-l.overscaledZ||o.canonical.y-l.canonical.y||o.wrap-l.wrap||o.canonical.x-l.canonical.x}var re=function(n,s){this.max=n,this.onRemove=s,this.reset()};re.prototype.reset=function(){for(var n in this.data)for(var s=0,o=this.data[n];s<o.length;s+=1){var l=o[s];l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value)}return this.data={},this.order=[],this},re.prototype.add=function(n,s,o){var l=this,d=n.wrapped().key;void 0===this.data[d]&&(this.data[d]=[]);var v={value:s,timeout:void 0};if(void 0!==o&&(v.timeout=setTimeout(function(){l.remove(n,v)},o)),this.data[d].push(v),this.order.push(d),this.order.length>this.max){var w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this},re.prototype.has=function(n){return n.wrapped().key in this.data},re.prototype.getAndRemove=function(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null},re.prototype._getAndRemoveByKey=function(n){var s=this.data[n].shift();return s.timeout&&clearTimeout(s.timeout),0===this.data[n].length&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),s.value},re.prototype.getByKey=function(n){var s=this.data[n];return s?s[0].value:null},re.prototype.get=function(n){return this.has(n)?this.data[n.wrapped().key][0].value:null},re.prototype.remove=function(n,s){if(!this.has(n))return this;var o=n.wrapped().key,l=void 0===s?0:this.data[o].indexOf(s),d=this.data[o][l];return this.data[o].splice(l,1),d.timeout&&clearTimeout(d.timeout),0===this.data[o].length&&delete this.data[o],this.onRemove(d.value),this.order.splice(this.order.indexOf(o),1),this},re.prototype.setMaxSize=function(n){for(this.max=n;this.order.length>this.max;){var s=this._getAndRemoveByKey(this.order[0]);s&&this.onRemove(s)}return this},re.prototype.filter=function(n){var s=[];for(var o in this.data)for(var l=0,d=this.data[o];l<d.length;l+=1){var v=d[l];n(v.value)||s.push(v)}for(var w=0,N=s;w<N.length;w+=1){var ut=N[w];this.remove(ut.value.tileID,ut)}};var le=function(n,s,o){this.context=n;var l=n.gl;this.buffer=l.createBuffer(),this.dynamicDraw=Boolean(o),this.context.unbindVAO(),n.bindElementBuffer.set(this.buffer),l.bufferData(l.ELEMENT_ARRAY_BUFFER,s.arrayBuffer,this.dynamicDraw?l.DYNAMIC_DRAW:l.STATIC_DRAW),this.dynamicDraw||delete s.arrayBuffer};le.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},le.prototype.updateData=function(n){var s=this.context.gl;this.context.unbindVAO(),this.bind(),s.bufferSubData(s.ELEMENT_ARRAY_BUFFER,0,n.arrayBuffer)},le.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ee={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ue=function(n,s,o,l){this.length=s.length,this.attributes=o,this.itemSize=s.bytesPerElement,this.dynamicDraw=l,this.context=n;var d=n.gl;this.buffer=d.createBuffer(),n.bindVertexBuffer.set(this.buffer),d.bufferData(d.ARRAY_BUFFER,s.arrayBuffer,this.dynamicDraw?d.DYNAMIC_DRAW:d.STATIC_DRAW),this.dynamicDraw||delete s.arrayBuffer};Ue.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ue.prototype.updateData=function(n){var s=this.context.gl;this.bind(),s.bufferSubData(s.ARRAY_BUFFER,0,n.arrayBuffer)},Ue.prototype.enableAttributes=function(n,s){for(var o=0;o<this.attributes.length;o++){var l=s.attributes[this.attributes[o].name];void 0!==l&&n.enableVertexAttribArray(l)}},Ue.prototype.setVertexAttribPointers=function(n,s,o){for(var l=0;l<this.attributes.length;l++){var d=this.attributes[l],v=s.attributes[d.name];void 0!==v&&n.vertexAttribPointer(v,d.components,n[ee[d.type]],!1,this.itemSize,d.offset+this.itemSize*(o||0))}},Ue.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Ke=function(n){this.gl=n.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ke.prototype.get=function(){return this.current},Ke.prototype.set=function(n){},Ke.prototype.getDefault=function(){return this.default},Ke.prototype.setDefault=function(){this.set(this.default)};var Ii=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return h.Color.transparent},s.prototype.set=function(o){var l=this.current;(o.r!==l.r||o.g!==l.g||o.b!==l.b||o.a!==l.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)},s}(Ke),ai=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return 1},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)},s}(Ke),li=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return 0},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)},s}(Ke),Pi=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return[!0,!0,!0,!0]},s.prototype.set=function(o){var l=this.current;(o[0]!==l[0]||o[1]!==l[1]||o[2]!==l[2]||o[3]!==l[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)},s}(Ke),hi=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return!0},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)},s}(Ke),Di=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return 255},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)},s}(Ke),bi=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},s.prototype.set=function(o){var l=this.current;(o.func!==l.func||o.ref!==l.ref||o.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)},s}(Ke),On=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){var o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]},s.prototype.set=function(o){var l=this.current;(o[0]!==l[0]||o[1]!==l[1]||o[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)},s}(Ke),jn=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return!1},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;o?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=o,this.dirty=!1}},s}(Ke),x=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return[0,1]},s.prototype.set=function(o){var l=this.current;(o[0]!==l[0]||o[1]!==l[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)},s}(Ke),H=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return!1},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;o?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=o,this.dirty=!1}},s}(Ke),wt=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return this.gl.LESS},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)},s}(Ke),Gt=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return!1},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;o?l.enable(l.BLEND):l.disable(l.BLEND),this.current=o,this.dirty=!1}},s}(Ke),se=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){var o=this.gl;return[o.ONE,o.ZERO]},s.prototype.set=function(o){var l=this.current;(o[0]!==l[0]||o[1]!==l[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)},s}(Ke),Me=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return h.Color.transparent},s.prototype.set=function(o){var l=this.current;(o.r!==l.r||o.g!==l.g||o.b!==l.b||o.a!==l.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)},s}(Ke),ii=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return this.gl.FUNC_ADD},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)},s}(Ke),ki=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return!1},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;o?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=o,this.dirty=!1}},s}(Ke),Ni=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return this.gl.BACK},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)},s}(Ke),sn=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return this.gl.CCW},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)},s}(Ke),hr=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return null},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.useProgram(o),this.current=o,this.dirty=!1)},s}(Ke),xr=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return this.gl.TEXTURE0},s.prototype.set=function(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)},s}(Ke),tr=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){var o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]},s.prototype.set=function(o){var l=this.current;(o[0]!==l[0]||o[1]!==l[1]||o[2]!==l[2]||o[3]!==l[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)},s}(Ke),eo=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return null},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,o),this.current=o,this.dirty=!1}},s}(Ke),Br=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return null},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,o),this.current=o,this.dirty=!1}},s}(Ke),Rn=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return null},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;l.bindTexture(l.TEXTURE_2D,o),this.current=o,this.dirty=!1}},s}(Ke),Yn=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return null},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}},s}(Ke),So=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return null},s.prototype.set=function(o){var l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1},s}(Ke),jr=function(n){function s(o){n.call(this,o),this.vao=o.extVertexArrayObject}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return null},s.prototype.set=function(o){this.vao&&(o!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(o),this.current=o,this.dirty=!1)},s}(Ke),Or=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return 4},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}},s}(Ke),Ro=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return!1},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}},s}(Ke),rn=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return!1},s.prototype.set=function(o){if(o!==this.current||this.dirty){var l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}},s}(Ke),An=function(n){function s(o,l){n.call(this,o),this.context=o,this.parent=l}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getDefault=function(){return null},s}(Ke),gt=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.setDirty=function(){this.dirty=!0},s.prototype.set=function(o){if(o!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}},s}(An),Mt=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.set=function(o){if(o!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,o),this.current=o,this.dirty=!1}},s}(An),Ft=function(n,s,o,l){this.context=n,this.width=s,this.height=o;var d=this.framebuffer=n.gl.createFramebuffer();this.colorAttachment=new gt(n,d),l&&(this.depthAttachment=new Mt(n,d))};Ft.prototype.destroy=function(){var n=this.context.gl,s=this.colorAttachment.get();if(s&&n.deleteTexture(s),this.depthAttachment){var o=this.depthAttachment.get();o&&n.deleteRenderbuffer(o)}n.deleteFramebuffer(this.framebuffer)};var Yt=function(n,s,o){this.func=n,this.mask=s,this.range=o};Yt.ReadOnly=!1,Yt.ReadWrite=!0,Yt.disabled=new Yt(519,Yt.ReadOnly,[0,1]);var oe=function(n,s,o,l,d,v){this.test=n,this.ref=s,this.mask=o,this.fail=l,this.depthFail=d,this.pass=v};oe.disabled=new oe({func:519,mask:0},0,0,7680,7680,7680);var ge=function(n,s,o){this.blendFunction=n,this.blendColor=s,this.mask=o};ge.disabled=new ge(ge.Replace=[1,0],h.Color.transparent,[!1,!1,!1,!1]),ge.unblended=new ge(ge.Replace,h.Color.transparent,[!0,!0,!0,!0]),ge.alphaBlended=new ge([1,771],h.Color.transparent,[!0,!0,!0,!0]);var Te=function(n,s,o){this.enable=n,this.mode=s,this.frontFace=o};Te.disabled=new Te(!1,1029,2305),Te.backCCW=new Te(!0,1029,2305);var qt=function(n){this.gl=n,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ii(this),this.clearDepth=new ai(this),this.clearStencil=new li(this),this.colorMask=new Pi(this),this.depthMask=new hi(this),this.stencilMask=new Di(this),this.stencilFunc=new bi(this),this.stencilOp=new On(this),this.stencilTest=new jn(this),this.depthRange=new x(this),this.depthTest=new H(this),this.depthFunc=new wt(this),this.blend=new Gt(this),this.blendFunc=new se(this),this.blendColor=new Me(this),this.blendEquation=new ii(this),this.cullFace=new ki(this),this.cullFaceSide=new Ni(this),this.frontFace=new sn(this),this.program=new hr(this),this.activeTexture=new xr(this),this.viewport=new tr(this),this.bindFramebuffer=new eo(this),this.bindRenderbuffer=new Br(this),this.bindTexture=new Rn(this),this.bindVertexBuffer=new Yn(this),this.bindElementBuffer=new So(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new jr(this),this.pixelStoreUnpack=new Or(this),this.pixelStoreUnpackPremultiplyAlpha=new Ro(this),this.pixelStoreUnpackFlipY=new rn(this),this.extTextureFilterAnisotropic=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=n.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=n.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(n.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=n.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=n.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE)};qt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},qt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},qt.prototype.createIndexBuffer=function(n,s){return new le(this,n,s)},qt.prototype.createVertexBuffer=function(n,s,o){return new Ue(this,n,s,o)},qt.prototype.createRenderbuffer=function(n,s,o){var l=this.gl,d=l.createRenderbuffer();return this.bindRenderbuffer.set(d),l.renderbufferStorage(l.RENDERBUFFER,n,s,o),this.bindRenderbuffer.set(null),d},qt.prototype.createFramebuffer=function(n,s,o){return new Ft(this,n,s,o)},qt.prototype.clear=function(n){var s=n.color,o=n.depth,l=this.gl,d=0;s&&(d|=l.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),void 0!==o&&(d|=l.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(o),this.depthMask.set(!0)),l.clear(d)},qt.prototype.setCullFace=function(n){!1===n.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(n.mode),this.frontFace.set(n.frontFace))},qt.prototype.setDepthMode=function(n){n.func!==this.gl.ALWAYS||n.mask?(this.depthTest.set(!0),this.depthFunc.set(n.func),this.depthMask.set(n.mask),this.depthRange.set(n.range)):this.depthTest.set(!1)},qt.prototype.setStencilMode=function(n){n.test.func!==this.gl.ALWAYS||n.mask?(this.stencilTest.set(!0),this.stencilMask.set(n.mask),this.stencilOp.set([n.fail,n.depthFail,n.pass]),this.stencilFunc.set({func:n.test.func,ref:n.ref,mask:n.test.mask})):this.stencilTest.set(!1)},qt.prototype.setColorMode=function(n){h.deepEqual(n.blendFunction,ge.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)},qt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var fe=function(n){function s(o,l,d){var v=this;n.call(this),this.id=o,this.dispatcher=d,this.on("data",function(w){"source"===w.dataType&&"metadata"===w.sourceDataType&&(v._sourceLoaded=!0),v._sourceLoaded&&!v._paused&&"source"===w.dataType&&"content"===w.sourceDataType&&(v.reload(),v.transform&&v.update(v.transform))}),this.on("error",function(){v._sourceErrored=!0}),this._source=function(w,N,ut,bt){var Zt=new Qt[N.type](w,N,ut,bt);if(Zt.id!==w)throw new Error("Expected Source id to be "+w+" instead of "+Zt.id);return h.bindAll(["load","abort","unload","serialize","prepare"],Zt),Zt}(o,l,d,this),this._tiles={},this._cache=new re(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new h.SourceFeatureState}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.onAdd=function(o){this.map=o,this._maxTileCacheSize=o?o._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(o)},s.prototype.onRemove=function(o){this._source&&this._source.onRemove&&this._source.onRemove(o)},s.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var o in this._tiles){var l=this._tiles[o];if("loaded"!==l.state&&"errored"!==l.state)return!1}return!0},s.prototype.getSource=function(){return this._source},s.prototype.pause=function(){this._paused=!0},s.prototype.resume=function(){if(this._paused){var o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform)}},s.prototype._loadTile=function(o,l){return this._source.loadTile(o,l)},s.prototype._unloadTile=function(o){if(this._source.unloadTile)return this._source.unloadTile(o,function(){})},s.prototype._abortTile=function(o){if(this._source.abortTile)return this._source.abortTile(o,function(){})},s.prototype.serialize=function(){return this._source.serialize()},s.prototype.prepare=function(o){for(var l in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var d=this._tiles[l];d.upload(o),d.prepare(this.map.style.imageManager)}},s.prototype.getIds=function(){return h.values(this._tiles).map(function(o){return o.tileID}).sort(Oe).map(function(o){return o.key})},s.prototype.getRenderableIds=function(o){var l=this,d=[];for(var v in this._tiles)this._isIdRenderable(v,o)&&d.push(this._tiles[v]);return o?d.sort(function(w,N){var ut=w.tileID,bt=N.tileID,Zt=new h.Point(ut.canonical.x,ut.canonical.y)._rotate(l.transform.angle),Wt=new h.Point(bt.canonical.x,bt.canonical.y)._rotate(l.transform.angle);return ut.overscaledZ-bt.overscaledZ||Wt.y-Zt.y||Wt.x-Zt.x}).map(function(w){return w.tileID.key}):d.map(function(w){return w.tileID}).sort(Oe).map(function(w){return w.key})},s.prototype.hasRenderableParent=function(o){var l=this.findLoadedParent(o,0);return!!l&&this._isIdRenderable(l.tileID.key)},s.prototype._isIdRenderable=function(o,l){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(l||!this._tiles[o].holdingForFade())},s.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var o in this._cache.reset(),this._tiles)"errored"!==this._tiles[o].state&&this._reloadTile(o,"reloading")},s.prototype._reloadTile=function(o,l){var d=this._tiles[o];d&&("loading"!==d.state&&(d.state=l),this._loadTile(d,this._tileLoaded.bind(this,d,o,l)))},s.prototype._tileLoaded=function(o,l,d,v){if(v)return o.state="errored",void(404!==v.status?this._source.fire(new h.ErrorEvent(v,{tile:o})):this.update(this.transform));o.timeAdded=h.browser.now(),"expired"===d&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(l,o),"raster-dem"===this.getSource().type&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),this._source.fire(new h.Event("data",{dataType:"source",tile:o,coord:o.tileID}))},s.prototype._backfillDEM=function(o){for(var l=this.getRenderableIds(),d=0;d<l.length;d++){var v=l[d];if(o.neighboringTiles&&o.neighboringTiles[v]){var w=this.getTileByID(v);N(o,w),N(w,o)}}function N(ut,bt){ut.needsHillshadePrepare=!0;var Zt=bt.tileID.canonical.x-ut.tileID.canonical.x,Wt=bt.tileID.canonical.y-ut.tileID.canonical.y,Kt=Math.pow(2,ut.tileID.canonical.z),me=bt.tileID.key;0===Zt&&0===Wt||Math.abs(Wt)>1||(Math.abs(Zt)>1&&(1===Math.abs(Zt+Kt)?Zt+=Kt:1===Math.abs(Zt-Kt)&&(Zt-=Kt)),bt.dem&&ut.dem&&(ut.dem.backfillBorder(bt.dem,Zt,Wt),ut.neighboringTiles&&ut.neighboringTiles[me]&&(ut.neighboringTiles[me].backfilled=!0)))}},s.prototype.getTile=function(o){return this.getTileByID(o.key)},s.prototype.getTileByID=function(o){return this._tiles[o]},s.prototype._retainLoadedChildren=function(o,l,d,v){for(var w in this._tiles){var N=this._tiles[w];if(!(v[w]||!N.hasData()||N.tileID.overscaledZ<=l||N.tileID.overscaledZ>d)){for(var ut=N.tileID;N&&N.tileID.overscaledZ>l+1;){var bt=N.tileID.scaledTo(N.tileID.overscaledZ-1);(N=this._tiles[bt.key])&&N.hasData()&&(ut=bt)}for(var Zt=ut;Zt.overscaledZ>l;)if(o[(Zt=Zt.scaledTo(Zt.overscaledZ-1)).key]){v[ut.key]=ut;break}}}},s.prototype.findLoadedParent=function(o,l){if(o.key in this._loadedParentTiles){var d=this._loadedParentTiles[o.key];return d&&d.tileID.overscaledZ>=l?d:null}for(var v=o.overscaledZ-1;v>=l;v--){var w=o.scaledTo(v),N=this._getLoadedTile(w);if(N)return N}},s.prototype._getLoadedTile=function(o){var l=this._tiles[o.key];return l&&l.hasData()?l:this._cache.getByKey(o.wrapped().key)},s.prototype.updateCacheSize=function(o){var l=Math.ceil(o.width/this._source.tileSize)+1,d=Math.ceil(o.height/this._source.tileSize)+1,v=Math.floor(l*d*5),w="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(w)},s.prototype.handleWrapJump=function(o){var l=Math.round((o-(void 0===this._prevLng?o:this._prevLng))/360);if(this._prevLng=o,l){var d={};for(var v in this._tiles){var w=this._tiles[v];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+l),d[w.tileID.key]=w}for(var N in this._tiles=d,this._timers)clearTimeout(this._timers[N]),delete this._timers[N];for(var ut in this._tiles)this._setTileReloadTimer(ut,this._tiles[ut])}},s.prototype.update=function(o){var l=this;if(this.transform=o,this._sourceLoaded&&!this._paused){var d;this.updateCacheSize(o),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?d=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(di){return new h.OverscaledTileID(di.canonical.z,di.wrap,di.canonical.z,di.canonical.x,di.canonical.y)}):(d=o.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(d=d.filter(function(di){return l._source.hasTile(di)}))):d=[];var v=o.coveringZoomLevel(this._source),w=Math.max(v-s.maxOverzooming,this._source.minzoom),N=Math.max(v+s.maxUnderzooming,this._source.minzoom),ut=this._updateRetainedTiles(d,v);if(ei(this._source.type)){for(var bt={},Zt={},Wt=0,Kt=Object.keys(ut);Wt<Kt.length;Wt+=1){var me=Kt[Wt],ce=ut[me],_e=this._tiles[me];if(_e&&!(_e.fadeEndTime&&_e.fadeEndTime<=h.browser.now())){var ae=this.findLoadedParent(ce,w);ae&&(this._addTile(ae.tileID),bt[ae.tileID.key]=ae.tileID),Zt[me]=ce}}for(var ve in this._retainLoadedChildren(Zt,v,N,ut),bt)ut[ve]||(this._coveredTiles[ve]=!0,ut[ve]=bt[ve])}for(var Ae in ut)this._tiles[Ae].clearFadeHold();for(var Be=0,Qe=h.keysDifference(this._tiles,ut);Be<Qe.length;Be+=1){var Xe=Qe[Be],ti=this._tiles[Xe];ti.hasSymbolBuckets&&!ti.holdingForFade()?ti.setHoldDuration(this.map._fadeDuration):ti.hasSymbolBuckets&&!ti.symbolFadeFinished()||this._removeTile(Xe)}this._updateLoadedParentTileCache()}},s.prototype.releaseSymbolFadeTiles=function(){for(var o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(o)},s.prototype._updateRetainedTiles=function(o,l){for(var d={},v={},w=Math.max(l-s.maxOverzooming,this._source.minzoom),N=Math.max(l+s.maxUnderzooming,this._source.minzoom),ut={},bt=0,Zt=o;bt<Zt.length;bt+=1){var Wt=Zt[bt],Kt=this._addTile(Wt);d[Wt.key]=Wt,Kt.hasData()||l<this._source.maxzoom&&(ut[Wt.key]=Wt)}this._retainLoadedChildren(ut,l,N,d);for(var me=0,ce=o;me<ce.length;me+=1){var _e=ce[me],ae=this._tiles[_e.key];if(!ae.hasData()){if(l+1>this._source.maxzoom){var ve=_e.children(this._source.maxzoom)[0],Ae=this.getTile(ve);if(Ae&&Ae.hasData()){d[ve.key]=ve;continue}}else{var Be=_e.children(this._source.maxzoom);if(d[Be[0].key]&&d[Be[1].key]&&d[Be[2].key]&&d[Be[3].key])continue}for(var Qe=ae.wasRequested(),Xe=_e.overscaledZ-1;Xe>=w;--Xe){var ti=_e.scaledTo(Xe);if(v[ti.key]||(v[ti.key]=!0,!(ae=this.getTile(ti))&&Qe&&(ae=this._addTile(ti)),ae&&(d[ti.key]=ti,Qe=ae.wasRequested(),ae.hasData())))break}}}return d},s.prototype._updateLoadedParentTileCache=function(){for(var o in this._loadedParentTiles={},this._tiles){for(var l=[],d=void 0,v=this._tiles[o].tileID;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){d=this._loadedParentTiles[v.key];break}l.push(v.key);var w=v.scaledTo(v.overscaledZ-1);if(d=this._getLoadedTile(w))break;v=w}for(var N=0,ut=l;N<ut.length;N+=1)this._loadedParentTiles[ut[N]]=d}},s.prototype._addTile=function(o){var l=this._tiles[o.key];if(l)return l;(l=this._cache.getAndRemove(o))&&(this._setTileReloadTimer(o.key,l),l.tileID=o,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,l)));var d=Boolean(l);return d||(l=new h.Tile(o,this._source.tileSize*o.overscaleFactor()),this._loadTile(l,this._tileLoaded.bind(this,l,o.key,l.state))),l?(l.uses++,this._tiles[o.key]=l,d||this._source.fire(new h.Event("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null},s.prototype._setTileReloadTimer=function(o,l){var d=this;o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);var v=l.getExpiryTimeout();v&&(this._timers[o]=setTimeout(function(){d._reloadTile(o,"expired"),delete d._timers[o]},v))},s.prototype._removeTile=function(o){var l=this._tiles[o];l&&(l.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),l.uses>0||(l.hasData()&&"reloading"!==l.state?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))},s.prototype.clearTiles=function(){for(var o in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(o);this._cache.reset()},s.prototype.tilesIn=function(o,l,d){var v=this,w=[],N=this.transform;if(!N)return w;for(var ut=d?N.getCameraQueryGeometry(o):o,bt=o.map(function(Xe){return N.pointCoordinate(Xe)}),Zt=ut.map(function(Xe){return N.pointCoordinate(Xe)}),Wt=this.getIds(),Kt=1/0,me=1/0,ce=-1/0,_e=-1/0,ae=0,ve=Zt;ae<ve.length;ae+=1){var Ae=ve[ae];Kt=Math.min(Kt,Ae.x),me=Math.min(me,Ae.y),ce=Math.max(ce,Ae.x),_e=Math.max(_e,Ae.y)}for(var Be=function(Xe){var ti=v._tiles[Wt[Xe]];if(!ti.holdingForFade()){var di=ti.tileID,Ei=Math.pow(2,N.zoom-ti.tileID.overscaledZ),Ti=l*ti.queryPadding*h.EXTENT/ti.tileSize/Ei,qi=[di.getTilePoint(new h.MercatorCoordinate(Kt,me)),di.getTilePoint(new h.MercatorCoordinate(ce,_e))];if(qi[0].x-Ti<h.EXTENT&&qi[0].y-Ti<h.EXTENT&&qi[1].x+Ti>=0&&qi[1].y+Ti>=0){var Qi=bt.map(function(nn){return di.getTilePoint(nn)}),on=Zt.map(function(nn){return di.getTilePoint(nn)});w.push({tile:ti,tileID:di,queryGeometry:Qi,cameraQueryGeometry:on,scale:Ei})}}},Qe=0;Qe<Wt.length;Qe++)Be(Qe);return w},s.prototype.getVisibleCoordinates=function(o){for(var l=this,d=this.getRenderableIds(o).map(function(ut){return l._tiles[ut].tileID}),v=0,w=d;v<w.length;v+=1){var N=w[v];N.posMatrix=this.transform.calculatePosMatrix(N.toUnwrapped())}return d},s.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(ei(this._source.type))for(var o in this._tiles){var l=this._tiles[o];if(void 0!==l.fadeEndTime&&l.fadeEndTime>=h.browser.now())return!0}return!1},s.prototype.setFeatureState=function(o,l,d){this._state.updateState(o=o||"_geojsonTileLayer",l,d)},s.prototype.removeFeatureState=function(o,l,d){this._state.removeFeatureState(o=o||"_geojsonTileLayer",l,d)},s.prototype.getFeatureState=function(o,l){return this._state.getState(o=o||"_geojsonTileLayer",l)},s.prototype.setDependencies=function(o,l,d){var v=this._tiles[o];v&&v.setDependencies(l,d)},s.prototype.reloadTilesForDependencies=function(o,l){for(var d in this._tiles)this._tiles[d].hasDependency(o,l)&&this._reloadTile(d,"reloading");this._cache.filter(function(v){return!v.hasDependency(o,l)})},s}(h.Evented);function Oe(n,s){var o=Math.abs(2*n.wrap)-+(n.wrap<0),l=Math.abs(2*s.wrap)-+(s.wrap<0);return n.overscaledZ-s.overscaledZ||l-o||s.canonical.y-n.canonical.y||s.canonical.x-n.canonical.x}function ei(n){return"raster"===n||"image"===n||"video"===n}function pi(){return new h.window.Worker(wl.workerUrl)}fe.maxOverzooming=10,fe.maxUnderzooming=3;var He="mapboxgl_preloaded_worker_pool",qe=function(){this.active={}};qe.prototype.acquire=function(n){if(!this.workers)for(this.workers=[];this.workers.length<qe.workerCount;)this.workers.push(new pi);return this.active[n]=!0,this.workers.slice()},qe.prototype.release=function(n){delete this.active[n],0===this.numActive()&&(this.workers.forEach(function(s){s.terminate()}),this.workers=null)},qe.prototype.isPreloaded=function(){return!!this.active[He]},qe.prototype.numActive=function(){return Object.keys(this.active).length};var Ri,mi=Math.floor(h.browser.hardwareConcurrency/2);function $e(){return Ri||(Ri=new qe),Ri}function Li(n,s){var o={};for(var l in n)"ref"!==l&&(o[l]=n[l]);return h.refProperties.forEach(function(d){d in s&&(o[d]=s[d])}),o}function Ci(n){n=n.slice();for(var s=Object.create(null),o=0;o<n.length;o++)s[n[o].id]=n[o];for(var l=0;l<n.length;l++)"ref"in n[l]&&(n[l]=Li(n[l],s[n[l].ref]));return n}qe.workerCount=Math.max(Math.min(mi,6),1);var Ai={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ln(n,s,o){o.push({command:Ai.addSource,args:[n,s[n]]})}function _i(n,s,o){s.push({command:Ai.removeSource,args:[n]}),o[n]=!0}function En(n,s,o,l){_i(n,o,l),ln(n,s,o)}function fn(n,s,o){var l;for(l in n[o])if(n[o].hasOwnProperty(l)&&"data"!==l&&!h.deepEqual(n[o][l],s[o][l]))return!1;for(l in s[o])if(s[o].hasOwnProperty(l)&&"data"!==l&&!h.deepEqual(n[o][l],s[o][l]))return!1;return!0}function mn(n,s,o,l,d,v){var w;for(w in s=s||{},n=n||{})n.hasOwnProperty(w)&&(h.deepEqual(n[w],s[w])||o.push({command:v,args:[l,w,s[w],d]}));for(w in s)s.hasOwnProperty(w)&&!n.hasOwnProperty(w)&&(h.deepEqual(n[w],s[w])||o.push({command:v,args:[l,w,s[w],d]}))}function Vn(n){return n.id}function Sn(n,s){return n[s.id]=s,n}var Ur=function(n,s){this.reset(n,s)};Ur.prototype.reset=function(n,s){this.points=n||[],this._distances=[0];for(var o=1;o<this.points.length;o++)this._distances[o]=this._distances[o-1]+this.points[o].dist(this.points[o-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(s||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Ur.prototype.lerp=function(n){if(1===this.points.length)return this.points[0];n=h.clamp(n,0,1);for(var s=1,o=this._distances[s],l=n*this.paddedLength+this.padding;o<l&&s<this._distances.length;)o=this._distances[++s];var d=s-1,v=this._distances[d],w=o-v,N=w>0?(l-v)/w:0;return this.points[d].mult(1-N).add(this.points[s].mult(N))};var qn=function(n,s,o){var l=this.boxCells=[],d=this.circleCells=[];this.xCellCount=Math.ceil(n/o),this.yCellCount=Math.ceil(s/o);for(var v=0;v<this.xCellCount*this.yCellCount;v++)l.push([]),d.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=n,this.height=s,this.xScale=this.xCellCount/n,this.yScale=this.yCellCount/s,this.boxUid=0,this.circleUid=0};function Mr(n,s,o,l,d){var v=h.create();return s?(h.scale(v,v,[1/d,1/d,1]),o||h.rotateZ(v,v,l.angle)):h.multiply(v,l.labelPlaneMatrix,n),v}function Jn(n,s,o,l,d){if(s){var v=h.clone(n);return h.scale(v,v,[d,d,1]),o||h.rotateZ(v,v,-l.angle),v}return l.glCoordMatrix}function kn(n,s){var o=[n.x,n.y,0,1];Hr(o,o,s);var l=o[3];return{point:new h.Point(o[0]/l,o[1]/l),signedDistanceFromCamera:l}}function Gi(n,s){return.5+n/s*.5}function Vr(n,s){var o=n[0]/n[3],l=n[1]/n[3];return o>=-s[0]&&o<=s[0]&&l>=-s[1]&&l<=s[1]}function gs(n,s,o,l,d,v,w,N){var ut=l?n.textSizeData:n.iconSizeData,bt=h.evaluateSizeForZoom(ut,o.transform.zoom),Zt=[256/o.width*2+1,256/o.height*2+1],Wt=l?n.text.dynamicLayoutVertexArray:n.icon.dynamicLayoutVertexArray;Wt.clear();for(var Kt=n.lineVertexArray,me=l?n.text.placedSymbolArray:n.icon.placedSymbolArray,ce=o.transform.width/o.transform.height,_e=!1,ae=0;ae<me.length;ae++){var ve=me.get(ae);if(ve.hidden||ve.writingMode===h.WritingMode.vertical&&!_e)Gr(ve.numGlyphs,Wt);else{_e=!1;var Ae=[ve.anchorX,ve.anchorY,0,1];if(h.transformMat4(Ae,Ae,s),Vr(Ae,Zt)){var Be=Gi(o.transform.cameraToCenterDistance,Ae[3]),Qe=h.evaluateSizeForFeature(ut,bt,ve),Xe=w?Qe/Be:Qe*Be,ti=new h.Point(ve.anchorX,ve.anchorY),di=kn(ti,d).point,Ei={},Ti=Ws(ve,Xe,!1,N,s,d,v,n.glyphOffsetArray,Kt,Wt,di,ti,Ei,ce);_e=Ti.useVertical,(Ti.notEnoughRoom||_e||Ti.needsFlipping&&Ws(ve,Xe,!0,N,s,d,v,n.glyphOffsetArray,Kt,Wt,di,ti,Ei,ce).notEnoughRoom)&&Gr(ve.numGlyphs,Wt)}else Gr(ve.numGlyphs,Wt)}}l?n.text.dynamicLayoutVertexBuffer.updateData(Wt):n.icon.dynamicLayoutVertexBuffer.updateData(Wt)}function rr(n,s,o,l,d,v,w,N,ut,bt,Zt){var Wt=N.glyphStartIndex+N.numGlyphs,Kt=N.lineStartIndex,me=N.lineStartIndex+N.lineLength,ce=s.getoffsetX(N.glyphStartIndex),_e=s.getoffsetX(Wt-1),ae=ur(n*ce,o,l,d,v,w,N.segment,Kt,me,ut,bt,Zt);if(!ae)return null;var ve=ur(n*_e,o,l,d,v,w,N.segment,Kt,me,ut,bt,Zt);return ve?{first:ae,last:ve}:null}function io(n,s,o,l){return n===h.WritingMode.horizontal&&Math.abs(o.y-s.y)>Math.abs(o.x-s.x)*l?{useVertical:!0}:(n===h.WritingMode.vertical?s.y<o.y:s.x>o.x)?{needsFlipping:!0}:null}function Ws(n,s,o,l,d,v,w,N,ut,bt,Zt,Wt,Kt,me){var ce,_e=s/24,ae=n.lineOffsetX*_e,ve=n.lineOffsetY*_e;if(n.numGlyphs>1){var Ae=n.glyphStartIndex+n.numGlyphs,Be=n.lineStartIndex,Qe=n.lineStartIndex+n.lineLength,Xe=rr(_e,N,ae,ve,o,Zt,Wt,n,ut,v,Kt);if(!Xe)return{notEnoughRoom:!0};var ti=kn(Xe.first.point,w).point,di=kn(Xe.last.point,w).point;if(l&&!o){var Ei=io(n.writingMode,ti,di,me);if(Ei)return Ei}ce=[Xe.first];for(var Ti=n.glyphStartIndex+1;Ti<Ae-1;Ti++)ce.push(ur(_e*N.getoffsetX(Ti),ae,ve,o,Zt,Wt,n.segment,Be,Qe,ut,v,Kt));ce.push(Xe.last)}else{if(l&&!o){var qi=kn(Wt,d).point,Qi=n.lineStartIndex+n.segment+1,on=new h.Point(ut.getx(Qi),ut.gety(Qi)),nn=kn(on,d),ar=nn.signedDistanceFromCamera>0?nn.point:Ds(Wt,on,qi,1,d),Zi=io(n.writingMode,qi,ar,me);if(Zi)return Zi}var wn=ur(_e*N.getoffsetX(n.glyphStartIndex),ae,ve,o,Zt,Wt,n.segment,n.lineStartIndex,n.lineStartIndex+n.lineLength,ut,v,Kt);if(!wn)return{notEnoughRoom:!0};ce=[wn]}for(var Bn=0,_n=ce;Bn<_n.length;Bn+=1){var gn=_n[Bn];h.addDynamicAttributes(bt,gn.point,gn.angle)}return{}}function Ds(n,s,o,l,d){var v=kn(n.add(n.sub(s)._unit()),d).point,w=o.sub(v);return o.add(w._mult(l/w.mag()))}function ur(n,s,o,l,d,v,w,N,ut,bt,Zt,Wt){var Kt=l?n-s:n+s,me=Kt>0?1:-1,ce=0;l&&(me*=-1,ce=Math.PI),me<0&&(ce+=Math.PI);for(var _e=me>0?N+w:N+w+1,ae=d,ve=d,Ae=0,Be=0,Qe=Math.abs(Kt),Xe=[];Ae+Be<=Qe;){if((_e+=me)<N||_e>=ut)return null;if(ve=ae,Xe.push(ae),void 0===(ae=Wt[_e])){var ti=new h.Point(bt.getx(_e),bt.gety(_e)),di=kn(ti,Zt);if(di.signedDistanceFromCamera>0)ae=Wt[_e]=di.point;else{var Ei=_e-me;ae=Ds(0===Ae?v:new h.Point(bt.getx(Ei),bt.gety(Ei)),ti,ve,Qe-Ae+1,Zt)}}Ae+=Be,Be=ve.dist(ae)}var Ti=(Qe-Ae)/Be,qi=ae.sub(ve),Qi=qi.mult(Ti)._add(ve);Qi._add(qi._unit()._perp()._mult(o*me));var on=ce+Math.atan2(ae.y-ve.y,ae.x-ve.x);return Xe.push(Qi),{point:Qi,angle:on,path:Xe}}qn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},qn.prototype.insert=function(n,s,o,l,d){this._forEachCell(s,o,l,d,this._insertBoxCell,this.boxUid++),this.boxKeys.push(n),this.bboxes.push(s),this.bboxes.push(o),this.bboxes.push(l),this.bboxes.push(d)},qn.prototype.insertCircle=function(n,s,o,l){this._forEachCell(s-l,o-l,s+l,o+l,this._insertCircleCell,this.circleUid++),this.circleKeys.push(n),this.circles.push(s),this.circles.push(o),this.circles.push(l)},qn.prototype._insertBoxCell=function(n,s,o,l,d,v){this.boxCells[d].push(v)},qn.prototype._insertCircleCell=function(n,s,o,l,d,v){this.circleCells[d].push(v)},qn.prototype._query=function(n,s,o,l,d,v){if(o<0||n>this.width||l<0||s>this.height)return!d&&[];var w=[];if(n<=0&&s<=0&&this.width<=o&&this.height<=l){if(d)return!0;for(var N=0;N<this.boxKeys.length;N++)w.push({key:this.boxKeys[N],x1:this.bboxes[4*N],y1:this.bboxes[4*N+1],x2:this.bboxes[4*N+2],y2:this.bboxes[4*N+3]});for(var ut=0;ut<this.circleKeys.length;ut++){var bt=this.circles[3*ut],Zt=this.circles[3*ut+1],Wt=this.circles[3*ut+2];w.push({key:this.circleKeys[ut],x1:bt-Wt,y1:Zt-Wt,x2:bt+Wt,y2:Zt+Wt})}return v?w.filter(v):w}return this._forEachCell(n,s,o,l,this._queryCell,w,{hitTest:d,seenUids:{box:{},circle:{}}},v),d?w.length>0:w},qn.prototype._queryCircle=function(n,s,o,l,d){var v=n-o,w=n+o,N=s-o,ut=s+o;if(w<0||v>this.width||ut<0||N>this.height)return!l&&[];var bt=[];return this._forEachCell(v,N,w,ut,this._queryCellCircle,bt,{hitTest:l,circle:{x:n,y:s,radius:o},seenUids:{box:{},circle:{}}},d),l?bt.length>0:bt},qn.prototype.query=function(n,s,o,l,d){return this._query(n,s,o,l,!1,d)},qn.prototype.hitTest=function(n,s,o,l,d){return this._query(n,s,o,l,!0,d)},qn.prototype.hitTestCircle=function(n,s,o,l){return this._queryCircle(n,s,o,!0,l)},qn.prototype._queryCell=function(n,s,o,l,d,v,w,N){var ut=w.seenUids,bt=this.boxCells[d];if(null!==bt)for(var Zt=this.bboxes,Wt=0,Kt=bt;Wt<Kt.length;Wt+=1){var me=Kt[Wt];if(!ut.box[me]){ut.box[me]=!0;var ce=4*me;if(n<=Zt[ce+2]&&s<=Zt[ce+3]&&o>=Zt[ce+0]&&l>=Zt[ce+1]&&(!N||N(this.boxKeys[me]))){if(w.hitTest)return v.push(!0),!0;v.push({key:this.boxKeys[me],x1:Zt[ce],y1:Zt[ce+1],x2:Zt[ce+2],y2:Zt[ce+3]})}}}var _e=this.circleCells[d];if(null!==_e)for(var ae=this.circles,ve=0,Ae=_e;ve<Ae.length;ve+=1){var Be=Ae[ve];if(!ut.circle[Be]){ut.circle[Be]=!0;var Qe=3*Be;if(this._circleAndRectCollide(ae[Qe],ae[Qe+1],ae[Qe+2],n,s,o,l)&&(!N||N(this.circleKeys[Be]))){if(w.hitTest)return v.push(!0),!0;var Xe=ae[Qe],ti=ae[Qe+1],di=ae[Qe+2];v.push({key:this.circleKeys[Be],x1:Xe-di,y1:ti-di,x2:Xe+di,y2:ti+di})}}}},qn.prototype._queryCellCircle=function(n,s,o,l,d,v,w,N){var ut=w.circle,bt=w.seenUids,Zt=this.boxCells[d];if(null!==Zt)for(var Wt=this.bboxes,Kt=0,me=Zt;Kt<me.length;Kt+=1){var ce=me[Kt];if(!bt.box[ce]){bt.box[ce]=!0;var _e=4*ce;if(this._circleAndRectCollide(ut.x,ut.y,ut.radius,Wt[_e+0],Wt[_e+1],Wt[_e+2],Wt[_e+3])&&(!N||N(this.boxKeys[ce])))return v.push(!0),!0}}var ae=this.circleCells[d];if(null!==ae)for(var ve=this.circles,Ae=0,Be=ae;Ae<Be.length;Ae+=1){var Qe=Be[Ae];if(!bt.circle[Qe]){bt.circle[Qe]=!0;var Xe=3*Qe;if(this._circlesCollide(ve[Xe],ve[Xe+1],ve[Xe+2],ut.x,ut.y,ut.radius)&&(!N||N(this.circleKeys[Qe])))return v.push(!0),!0}}},qn.prototype._forEachCell=function(n,s,o,l,d,v,w,N){for(var ut=this._convertToXCellCoord(n),bt=this._convertToYCellCoord(s),Zt=this._convertToXCellCoord(o),Wt=this._convertToYCellCoord(l),Kt=ut;Kt<=Zt;Kt++)for(var me=bt;me<=Wt;me++)if(d.call(this,n,s,o,l,this.xCellCount*me+Kt,v,w,N))return},qn.prototype._convertToXCellCoord=function(n){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(n*this.xScale)))},qn.prototype._convertToYCellCoord=function(n){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(n*this.yScale)))},qn.prototype._circlesCollide=function(n,s,o,l,d,v){var w=l-n,N=d-s,ut=o+v;return ut*ut>w*w+N*N},qn.prototype._circleAndRectCollide=function(n,s,o,l,d,v,w){var N=(v-l)/2,ut=Math.abs(n-(l+N));if(ut>N+o)return!1;var bt=(w-d)/2,Zt=Math.abs(s-(d+bt));if(Zt>bt+o)return!1;if(ut<=N||Zt<=bt)return!0;var Wt=ut-N,Kt=Zt-bt;return Wt*Wt+Kt*Kt<=o*o};var po=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Gr(n,s){for(var o=0;o<n;o++){var l=s.length;s.resize(l+4),s.float32.set(po,3*l)}}function Hr(n,s,o){var l=s[0],d=s[1];return n[0]=o[0]*l+o[4]*d+o[12],n[1]=o[1]*l+o[5]*d+o[13],n[3]=o[3]*l+o[7]*d+o[15],n}var Qr=function(n,s,o){void 0===s&&(s=new qn(n.width+200,n.height+200,25)),void 0===o&&(o=new qn(n.width+200,n.height+200,25)),this.transform=n,this.grid=s,this.ignoredGrid=o,this.pitchfactor=Math.cos(n._pitch)*n.cameraToCenterDistance,this.screenRightBoundary=n.width+100,this.screenBottomBoundary=n.height+100,this.gridRightBoundary=n.width+200,this.gridBottomBoundary=n.height+200};function yr(n,s,o){return s*(h.EXTENT/(n.tileSize*Math.pow(2,o-n.tileID.overscaledZ)))}Qr.prototype.placeCollisionBox=function(n,s,o,l,d){var v=this.projectAndGetPerspectiveRatio(l,n.anchorPointX,n.anchorPointY),w=o*v.perspectiveRatio,N=n.x1*w+v.point.x,ut=n.y1*w+v.point.y,bt=n.x2*w+v.point.x,Zt=n.y2*w+v.point.y;return!this.isInsideGrid(N,ut,bt,Zt)||!s&&this.grid.hitTest(N,ut,bt,Zt,d)?{box:[],offscreen:!1}:{box:[N,ut,bt,Zt],offscreen:this.isOffscreen(N,ut,bt,Zt)}},Qr.prototype.placeCollisionCircles=function(n,s,o,l,d,v,w,N,ut,bt,Zt,Wt,Kt){var me=[],ce=new h.Point(s.anchorX,s.anchorY),_e=kn(ce,v),ae=Gi(this.transform.cameraToCenterDistance,_e.signedDistanceFromCamera),ve=(bt?d/ae:d*ae)/h.ONE_EM,Ae=kn(ce,w).point,Be=rr(ve,l,s.lineOffsetX*ve,s.lineOffsetY*ve,!1,Ae,ce,s,o,w,{}),Qe=!1,Xe=!1,ti=!0;if(Be){for(var di=.5*Wt*ae+Kt,Ei=new h.Point(-100,-100),Ti=new h.Point(this.screenRightBoundary,this.screenBottomBoundary),qi=new Ur,Qi=Be.first,on=Be.last,nn=[],ar=Qi.path.length-1;ar>=1;ar--)nn.push(Qi.path[ar]);for(var Zi=1;Zi<on.path.length;Zi++)nn.push(on.path[Zi]);var wn=2.5*di;if(N){var Bn=nn.map(function(Js){return kn(Js,N)});nn=Bn.some(function(Js){return Js.signedDistanceFromCamera<=0})?[]:Bn.map(function(Js){return Js.point})}var _n=[];if(nn.length>0){for(var gn=nn[0].clone(),Dn=nn[0].clone(),dn=1;dn<nn.length;dn++)gn.x=Math.min(gn.x,nn[dn].x),gn.y=Math.min(gn.y,nn[dn].y),Dn.x=Math.max(Dn.x,nn[dn].x),Dn.y=Math.max(Dn.y,nn[dn].y);_n=gn.x>=Ei.x&&Dn.x<=Ti.x&&gn.y>=Ei.y&&Dn.y<=Ti.y?[nn]:Dn.x<Ei.x||gn.x>Ti.x||Dn.y<Ei.y||gn.y>Ti.y?[]:h.clipLine([nn],Ei.x,Ei.y,Ti.x,Ti.y)}for(var hn=0,jo=_n;hn<jo.length;hn+=1){var ho;qi.reset(jo[hn],.25*di),ho=qi.length<=.5*di?1:Math.ceil(qi.paddedLength/wn)+1;for(var hs=0;hs<ho;hs++){var Yo=hs/Math.max(ho-1,1),oo=qi.lerp(Yo),_o=oo.x+100,zs=oo.y+100;me.push(_o,zs,di,0);var ds=_o-di,ka=zs-di,bs=_o+di,ra=zs+di;if(ti=ti&&this.isOffscreen(ds,ka,bs,ra),Xe=Xe||this.isInsideGrid(ds,ka,bs,ra),!n&&this.grid.hitTestCircle(_o,zs,di,Zt)&&(Qe=!0,!ut))return{circles:[],offscreen:!1,collisionDetected:Qe}}}}return{circles:!ut&&Qe||!Xe?[]:me,offscreen:ti,collisionDetected:Qe}},Qr.prototype.queryRenderedSymbols=function(n){if(0===n.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var s=[],o=1/0,l=1/0,d=-1/0,v=-1/0,w=0,N=n;w<N.length;w+=1){var ut=N[w],bt=new h.Point(ut.x+100,ut.y+100);o=Math.min(o,bt.x),l=Math.min(l,bt.y),d=Math.max(d,bt.x),v=Math.max(v,bt.y),s.push(bt)}for(var Zt={},Wt={},Kt=0,me=this.grid.query(o,l,d,v).concat(this.ignoredGrid.query(o,l,d,v));Kt<me.length;Kt+=1){var ce=me[Kt],_e=ce.key;if(void 0===Zt[_e.bucketInstanceId]&&(Zt[_e.bucketInstanceId]={}),!Zt[_e.bucketInstanceId][_e.featureIndex]){var ae=[new h.Point(ce.x1,ce.y1),new h.Point(ce.x2,ce.y1),new h.Point(ce.x2,ce.y2),new h.Point(ce.x1,ce.y2)];h.polygonIntersectsPolygon(s,ae)&&(Zt[_e.bucketInstanceId][_e.featureIndex]=!0,void 0===Wt[_e.bucketInstanceId]&&(Wt[_e.bucketInstanceId]=[]),Wt[_e.bucketInstanceId].push(_e.featureIndex))}}return Wt},Qr.prototype.insertCollisionBox=function(n,s,o,l,d){(s?this.ignoredGrid:this.grid).insert({bucketInstanceId:o,featureIndex:l,collisionGroupID:d},n[0],n[1],n[2],n[3])},Qr.prototype.insertCollisionCircles=function(n,s,o,l,d){for(var v=s?this.ignoredGrid:this.grid,w={bucketInstanceId:o,featureIndex:l,collisionGroupID:d},N=0;N<n.length;N+=4)v.insertCircle(w,n[N],n[N+1],n[N+2])},Qr.prototype.projectAndGetPerspectiveRatio=function(n,s,o){var l=[s,o,0,1];return Hr(l,l,n),{point:new h.Point((l[0]/l[3]+1)/2*this.transform.width+100,(-l[1]/l[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/l[3]*.5}},Qr.prototype.isOffscreen=function(n,s,o,l){return o<100||n>=this.screenRightBoundary||l<100||s>this.screenBottomBoundary},Qr.prototype.isInsideGrid=function(n,s,o,l){return o>=0&&n<this.gridRightBoundary&&l>=0&&s<this.gridBottomBoundary},Qr.prototype.getViewportMatrix=function(){var n=h.identity([]);return h.translate(n,n,[-100,-100,0]),n};var Vo=function(n,s,o,l){this.opacity=n?Math.max(0,Math.min(1,n.opacity+(n.placed?s:-s))):l&&o?1:0,this.placed=o};Vo.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var fo=function(n,s,o,l,d){this.text=new Vo(n?n.text:null,s,o,d),this.icon=new Vo(n?n.icon:null,s,l,d)};fo.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Cs=function(n,s,o){this.text=n,this.icon=s,this.skipFade=o},no=function(){this.invProjMatrix=h.create(),this.viewportMatrix=h.create(),this.circles=[]},Rs=function(n,s,o,l,d){this.bucketInstanceId=n,this.featureIndex=s,this.sourceLayerIndex=o,this.bucketIndex=l,this.tileID=d},qr=function(n){this.crossSourceCollisions=n,this.maxGroupID=0,this.collisionGroups={}};function Wr(n,s,o,l,d){var v=h.getAnchorAlignment(n),w=-(v.horizontalAlign-.5)*s,N=-(v.verticalAlign-.5)*o,ut=h.evaluateVariableOffset(n,l);return new h.Point(w+ut[0]*d,N+ut[1]*d)}function To(n,s,o,l,d,v){var w=n.x1,N=n.x2,ut=n.y1,bt=n.y2,Zt=n.anchorPointX,Wt=n.anchorPointY,Kt=new h.Point(s,o);return l&&Kt._rotate(d?v:-v),{x1:w+Kt.x,y1:ut+Kt.y,x2:N+Kt.x,y2:bt+Kt.y,anchorPointX:Zt,anchorPointY:Wt}}qr.prototype.get=function(n){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[n]){var s=++this.maxGroupID;this.collisionGroups[n]={ID:s,predicate:function(o){return o.collisionGroupID===s}}}return this.collisionGroups[n]};var mo=function(n,s,o,l){this.transform=n.clone(),this.collisionIndex=new Qr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=s,this.retainedQueryData={},this.collisionGroups=new qr(o),this.collisionCircleArrays={},this.prevPlacement=l,l&&(l.prevPlacement=void 0),this.placedOrientations={}};function Qo(n,s,o,l,d){n.emplaceBack(s?1:0,o?1:0,l||0,d||0),n.emplaceBack(s?1:0,o?1:0,l||0,d||0),n.emplaceBack(s?1:0,o?1:0,l||0,d||0),n.emplaceBack(s?1:0,o?1:0,l||0,d||0)}mo.prototype.getBucketParts=function(n,s,o,l){var d=o.getBucket(s),v=o.latestFeatureIndex;if(d&&v&&s.id===d.layerIds[0]){var w=o.collisionBoxArray,N=d.layers[0].layout,ut=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),bt=o.tileSize/h.EXTENT,Zt=this.transform.calculatePosMatrix(o.tileID.toUnwrapped()),Wt="map"===N.get("text-pitch-alignment"),Kt="map"===N.get("text-rotation-alignment"),me=yr(o,1,this.transform.zoom),ce=Mr(Zt,Wt,Kt,this.transform,me),_e=null;if(Wt){var ae=Jn(Zt,Wt,Kt,this.transform,me);_e=h.multiply([],this.transform.labelPlaneMatrix,ae)}this.retainedQueryData[d.bucketInstanceId]=new Rs(d.bucketInstanceId,v,d.sourceLayerIndex,d.index,o.tileID);var ve={bucket:d,layout:N,posMatrix:Zt,textLabelPlaneMatrix:ce,labelToScreenMatrix:_e,scale:ut,textPixelRatio:bt,holdingForFade:o.holdingForFade(),collisionBoxArray:w,partiallyEvaluatedTextSize:h.evaluateSizeForZoom(d.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(d.sourceID)};if(l)for(var Ae=0,Be=d.sortKeyRanges;Ae<Be.length;Ae+=1){var Qe=Be[Ae];n.push({sortKey:Qe.sortKey,symbolInstanceStart:Qe.symbolInstanceStart,symbolInstanceEnd:Qe.symbolInstanceEnd,parameters:ve})}else n.push({symbolInstanceStart:0,symbolInstanceEnd:d.symbolInstances.length,parameters:ve})}},mo.prototype.attemptAnchorPlacement=function(n,s,o,l,d,v,w,N,ut,bt,Zt,Wt,Kt,me,ce){var _e,ae=[Wt.textOffset0,Wt.textOffset1],ve=Wr(n,o,l,ae,d),Ae=this.collisionIndex.placeCollisionBox(To(s,ve.x,ve.y,v,w,this.transform.angle),Zt,N,ut,bt.predicate);if(!ce||0!==this.collisionIndex.placeCollisionBox(To(ce,ve.x,ve.y,v,w,this.transform.angle),Zt,N,ut,bt.predicate).box.length)return Ae.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Wt.crossTileID]&&this.prevPlacement.placements[Wt.crossTileID]&&this.prevPlacement.placements[Wt.crossTileID].text&&(_e=this.prevPlacement.variableOffsets[Wt.crossTileID].anchor),this.variableOffsets[Wt.crossTileID]={textOffset:ae,width:o,height:l,anchor:n,textBoxScale:d,prevAnchor:_e},this.markUsedJustification(Kt,n,Wt,me),Kt.allowVerticalPlacement&&(this.markUsedOrientation(Kt,me,Wt),this.placedOrientations[Wt.crossTileID]=me),{shift:ve,placedGlyphBoxes:Ae}):void 0},mo.prototype.placeLayerBucketPart=function(n,s,o){var l=this,d=n.parameters,v=d.bucket,w=d.layout,N=d.posMatrix,ut=d.textLabelPlaneMatrix,bt=d.labelToScreenMatrix,Zt=d.textPixelRatio,Wt=d.holdingForFade,Kt=d.collisionBoxArray,me=d.partiallyEvaluatedTextSize,ce=d.collisionGroup,_e=w.get("text-optional"),ae=w.get("icon-optional"),ve=w.get("text-allow-overlap"),Ae=w.get("icon-allow-overlap"),Be="map"===w.get("text-rotation-alignment"),Qe="map"===w.get("text-pitch-alignment"),Xe="none"!==w.get("icon-text-fit"),ti="viewport-y"===w.get("symbol-z-order"),di=ve&&(Ae||!v.hasIconData()||ae),Ei=Ae&&(ve||!v.hasTextData()||_e);!v.collisionArrays&&Kt&&v.deserializeCollisionBoxes(Kt);var Ti=function(Zi,wn){if(!s[Zi.crossTileID])if(Wt)l.placements[Zi.crossTileID]=new Cs(!1,!1,!1);else{var Bn,_n=!1,gn=!1,Dn=!0,dn=null,hn={box:null,offscreen:null},jo={box:null,offscreen:null},ho=null,hs=null,Yo=0,oo=0,_o=0;wn.textFeatureIndex?Yo=wn.textFeatureIndex:Zi.useRuntimeCollisionCircles&&(Yo=Zi.featureIndex),wn.verticalTextFeatureIndex&&(oo=wn.verticalTextFeatureIndex);var zs=wn.textBox;if(zs){var ds=function(mr){var Gs=h.WritingMode.horizontal;if(v.allowVerticalPlacement&&!mr&&l.prevPlacement){var ws=l.prevPlacement.placedOrientations[Zi.crossTileID];ws&&(l.placedOrientations[Zi.crossTileID]=ws,l.markUsedOrientation(v,Gs=ws,Zi))}return Gs},ka=function(mr,Gs){if(v.allowVerticalPlacement&&Zi.numVerticalGlyphVertices>0&&wn.verticalTextBox)for(var ws=0,Na=v.writingModes;ws<Na.length&&(Na[ws]===h.WritingMode.vertical?(hn=Gs(),jo=hn):hn=mr(),!(hn&&hn.box&&hn.box.length));ws+=1);else hn=mr()};if(w.get("text-variable-anchor")){var bs=w.get("text-variable-anchor");if(l.prevPlacement&&l.prevPlacement.variableOffsets[Zi.crossTileID]){var ra=l.prevPlacement.variableOffsets[Zi.crossTileID];bs.indexOf(ra.anchor)>0&&(bs=bs.filter(function(mr){return mr!==ra.anchor})).unshift(ra.anchor)}var Js=function(mr,Gs,ws){for(var Na=mr.x2-mr.x1,au=mr.y2-mr.y1,Sl=Zi.textBoxScale,lu=Xe&&!Ae?Gs:null,pl={box:[],offscreen:!1},kh=ve?2*bs.length:bs.length,Qa=0;Qa<kh;++Qa){var Tl=l.attemptAnchorPlacement(bs[Qa%bs.length],mr,Na,au,Sl,Be,Qe,Zt,N,ce,Qa>=bs.length,Zi,v,ws,lu);if(Tl&&(pl=Tl.placedGlyphBoxes)&&pl.box&&pl.box.length){_n=!0,dn=Tl.shift;break}}return pl};ka(function(){return Js(zs,wn.iconBox,h.WritingMode.horizontal)},function(){var mr=wn.verticalTextBox;return v.allowVerticalPlacement&&!(hn&&hn.box&&hn.box.length)&&Zi.numVerticalGlyphVertices>0&&mr?Js(mr,wn.verticalIconBox,h.WritingMode.vertical):{box:null,offscreen:null}}),hn&&(_n=hn.box,Dn=hn.offscreen);var hl=ds(hn&&hn.box);if(!_n&&l.prevPlacement){var Ja=l.prevPlacement.variableOffsets[Zi.crossTileID];Ja&&(l.variableOffsets[Zi.crossTileID]=Ja,l.markUsedJustification(v,Ja.anchor,Zi,hl))}}else{var Ma=function(mr,Gs){var ws=l.collisionIndex.placeCollisionBox(mr,ve,Zt,N,ce.predicate);return ws&&ws.box&&ws.box.length&&(l.markUsedOrientation(v,Gs,Zi),l.placedOrientations[Zi.crossTileID]=Gs),ws};ka(function(){return Ma(zs,h.WritingMode.horizontal)},function(){var mr=wn.verticalTextBox;return v.allowVerticalPlacement&&Zi.numVerticalGlyphVertices>0&&mr?Ma(mr,h.WritingMode.vertical):{box:null,offscreen:null}}),ds(hn&&hn.box&&hn.box.length)}}if(_n=(Bn=hn)&&Bn.box&&Bn.box.length>0,Dn=Bn&&Bn.offscreen,Zi.useRuntimeCollisionCircles){var $a=v.text.placedSymbolArray.get(Zi.centerJustifiedTextSymbolIndex),ul=h.evaluateSizeForFeature(v.textSizeData,me,$a),ca=w.get("text-padding");ho=l.collisionIndex.placeCollisionCircles(ve,$a,v.lineVertexArray,v.glyphOffsetArray,ul,N,ut,bt,o,Qe,ce.predicate,Zi.collisionCircleDiameter,ca),_n=ve||ho.circles.length>0&&!ho.collisionDetected,Dn=Dn&&ho.offscreen}if(wn.iconFeatureIndex&&(_o=wn.iconFeatureIndex),wn.iconBox){var cl=function(mr){var Gs=Xe&&dn?To(mr,dn.x,dn.y,Be,Qe,l.transform.angle):mr;return l.collisionIndex.placeCollisionBox(Gs,Ae,Zt,N,ce.predicate)};gn=jo&&jo.box&&jo.box.length&&wn.verticalIconBox?(hs=cl(wn.verticalIconBox)).box.length>0:(hs=cl(wn.iconBox)).box.length>0,Dn=Dn&&hs.offscreen}var pa=_e||0===Zi.numHorizontalGlyphVertices&&0===Zi.numVerticalGlyphVertices,Fo=ae||0===Zi.numIconVertices;if(pa||Fo?Fo?pa||(gn=gn&&_n):_n=gn&&_n:gn=_n=gn&&_n,_n&&Bn&&Bn.box&&l.collisionIndex.insertCollisionBox(Bn.box,w.get("text-ignore-placement"),v.bucketInstanceId,jo&&jo.box&&oo?oo:Yo,ce.ID),gn&&hs&&l.collisionIndex.insertCollisionBox(hs.box,w.get("icon-ignore-placement"),v.bucketInstanceId,_o,ce.ID),ho&&(_n&&l.collisionIndex.insertCollisionCircles(ho.circles,w.get("text-ignore-placement"),v.bucketInstanceId,Yo,ce.ID),o)){var ga=v.bucketInstanceId,Pa=l.collisionCircleArrays[ga];void 0===Pa&&(Pa=l.collisionCircleArrays[ga]=new no);for(var Fa=0;Fa<ho.circles.length;Fa+=4)Pa.circles.push(ho.circles[Fa+0]),Pa.circles.push(ho.circles[Fa+1]),Pa.circles.push(ho.circles[Fa+2]),Pa.circles.push(ho.collisionDetected?1:0)}l.placements[Zi.crossTileID]=new Cs(_n||di,gn||Ei,Dn||v.justReloaded),s[Zi.crossTileID]=!0}};if(ti)for(var qi=v.getSortedSymbolIndexes(this.transform.angle),Qi=qi.length-1;Qi>=0;--Qi){var on=qi[Qi];Ti(v.symbolInstances.get(on),v.collisionArrays[on])}else for(var nn=n.symbolInstanceStart;nn<n.symbolInstanceEnd;nn++)Ti(v.symbolInstances.get(nn),v.collisionArrays[nn]);if(o&&v.bucketInstanceId in this.collisionCircleArrays){var ar=this.collisionCircleArrays[v.bucketInstanceId];h.invert(ar.invProjMatrix,N),ar.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1},mo.prototype.markUsedJustification=function(n,s,o,l){var d;d=l===h.WritingMode.vertical?o.verticalPlacedTextSymbolIndex:{left:o.leftJustifiedTextSymbolIndex,center:o.centerJustifiedTextSymbolIndex,right:o.rightJustifiedTextSymbolIndex}[h.getAnchorJustification(s)];for(var v=0,w=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex,o.verticalPlacedTextSymbolIndex];v<w.length;v+=1){var N=w[v];N>=0&&(n.text.placedSymbolArray.get(N).crossTileID=d>=0&&N!==d?0:o.crossTileID)}},mo.prototype.markUsedOrientation=function(n,s,o){for(var l=s===h.WritingMode.horizontal||s===h.WritingMode.horizontalOnly?s:0,d=s===h.WritingMode.vertical?s:0,v=0,w=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex];v<w.length;v+=1)n.text.placedSymbolArray.get(w[v]).placedOrientation=l;o.verticalPlacedTextSymbolIndex&&(n.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).placedOrientation=d)},mo.prototype.commit=function(n){this.commitTime=n,this.zoomAtLastRecencyCheck=this.transform.zoom;var s=this.prevPlacement,o=!1;this.prevZoomAdjustment=s?s.zoomAdjustment(this.transform.zoom):0;var l=s?s.symbolFadeChange(n):1,d=s?s.opacities:{},v=s?s.variableOffsets:{},w=s?s.placedOrientations:{};for(var N in this.placements){var ut=this.placements[N],bt=d[N];bt?(this.opacities[N]=new fo(bt,l,ut.text,ut.icon),o=o||ut.text!==bt.text.placed||ut.icon!==bt.icon.placed):(this.opacities[N]=new fo(null,l,ut.text,ut.icon,ut.skipFade),o=o||ut.text||ut.icon)}for(var Zt in d){var Wt=d[Zt];if(!this.opacities[Zt]){var Kt=new fo(Wt,l,!1,!1);Kt.isHidden()||(this.opacities[Zt]=Kt,o=o||Wt.text.placed||Wt.icon.placed)}}for(var me in v)this.variableOffsets[me]||!this.opacities[me]||this.opacities[me].isHidden()||(this.variableOffsets[me]=v[me]);for(var ce in w)this.placedOrientations[ce]||!this.opacities[ce]||this.opacities[ce].isHidden()||(this.placedOrientations[ce]=w[ce]);o?this.lastPlacementChangeTime=n:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=s?s.lastPlacementChangeTime:n)},mo.prototype.updateLayerOpacities=function(n,s){for(var o={},l=0,d=s;l<d.length;l+=1){var v=d[l],w=v.getBucket(n);w&&v.latestFeatureIndex&&n.id===w.layerIds[0]&&this.updateBucketOpacities(w,o,v.collisionBoxArray)}},mo.prototype.updateBucketOpacities=function(n,s,o){var l=this;n.hasTextData()&&n.text.opacityVertexArray.clear(),n.hasIconData()&&n.icon.opacityVertexArray.clear(),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexArray.clear(),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexArray.clear();var d=n.layers[0].layout,v=new fo(null,0,!1,!1,!0),w=d.get("text-allow-overlap"),N=d.get("icon-allow-overlap"),ut=d.get("text-variable-anchor"),bt="map"===d.get("text-rotation-alignment"),Zt="map"===d.get("text-pitch-alignment"),Wt="none"!==d.get("icon-text-fit"),Kt=new fo(null,0,w&&(N||!n.hasIconData()||d.get("icon-optional")),N&&(w||!n.hasTextData()||d.get("text-optional")),!0);!n.collisionArrays&&o&&(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData())&&n.deserializeCollisionBoxes(o);for(var me=function(ve,Ae,Be){for(var Qe=0;Qe<Ae/4;Qe++)ve.opacityVertexArray.emplaceBack(Be)},ce=function(ve){var Ae=n.symbolInstances.get(ve),Be=Ae.numHorizontalGlyphVertices,Qe=Ae.numVerticalGlyphVertices,Xe=Ae.crossTileID,ti=l.opacities[Xe];s[Xe]?ti=v:ti||(l.opacities[Xe]=ti=Kt),s[Xe]=!0;var di=Ae.numIconVertices>0,Ei=l.placedOrientations[Ae.crossTileID],Ti=Ei===h.WritingMode.vertical,qi=Ei===h.WritingMode.horizontal||Ei===h.WritingMode.horizontalOnly;if(Be>0||Qe>0){var Qi=C(ti.text);me(n.text,Be,Ti?q:Qi),me(n.text,Qe,qi?q:Qi);var on=ti.text.isHidden();[Ae.rightJustifiedTextSymbolIndex,Ae.centerJustifiedTextSymbolIndex,Ae.leftJustifiedTextSymbolIndex].forEach(function(hn){hn>=0&&(n.text.placedSymbolArray.get(hn).hidden=on||Ti?1:0)}),Ae.verticalPlacedTextSymbolIndex>=0&&(n.text.placedSymbolArray.get(Ae.verticalPlacedTextSymbolIndex).hidden=on||qi?1:0);var nn=l.variableOffsets[Ae.crossTileID];nn&&l.markUsedJustification(n,nn.anchor,Ae,Ei);var ar=l.placedOrientations[Ae.crossTileID];ar&&(l.markUsedJustification(n,"left",Ae,ar),l.markUsedOrientation(n,ar,Ae))}if(di){var Zi=C(ti.icon),wn=!(Wt&&Ae.verticalPlacedIconSymbolIndex&&Ti);Ae.placedIconSymbolIndex>=0&&(me(n.icon,Ae.numIconVertices,wn?Zi:q),n.icon.placedSymbolArray.get(Ae.placedIconSymbolIndex).hidden=ti.icon.isHidden()),Ae.verticalPlacedIconSymbolIndex>=0&&(me(n.icon,Ae.numVerticalIconVertices,wn?q:Zi),n.icon.placedSymbolArray.get(Ae.verticalPlacedIconSymbolIndex).hidden=ti.icon.isHidden())}if(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData()){var Bn=n.collisionArrays[ve];if(Bn){var _n=new h.Point(0,0);if(Bn.textBox||Bn.verticalTextBox){var gn=!0;if(ut){var Dn=l.variableOffsets[Xe];Dn?(_n=Wr(Dn.anchor,Dn.width,Dn.height,Dn.textOffset,Dn.textBoxScale),bt&&_n._rotate(Zt?l.transform.angle:-l.transform.angle)):gn=!1}Bn.textBox&&Qo(n.textCollisionBox.collisionVertexArray,ti.text.placed,!gn||Ti,_n.x,_n.y),Bn.verticalTextBox&&Qo(n.textCollisionBox.collisionVertexArray,ti.text.placed,!gn||qi,_n.x,_n.y)}var dn=Boolean(!qi&&Bn.verticalIconBox);Bn.iconBox&&Qo(n.iconCollisionBox.collisionVertexArray,ti.icon.placed,dn,Wt?_n.x:0,Wt?_n.y:0),Bn.verticalIconBox&&Qo(n.iconCollisionBox.collisionVertexArray,ti.icon.placed,!dn,Wt?_n.x:0,Wt?_n.y:0)}}},_e=0;_e<n.symbolInstances.length;_e++)ce(_e);if(n.sortFeatures(this.transform.angle),this.retainedQueryData[n.bucketInstanceId]&&(this.retainedQueryData[n.bucketInstanceId].featureSortOrder=n.featureSortOrder),n.hasTextData()&&n.text.opacityVertexBuffer&&n.text.opacityVertexBuffer.updateData(n.text.opacityVertexArray),n.hasIconData()&&n.icon.opacityVertexBuffer&&n.icon.opacityVertexBuffer.updateData(n.icon.opacityVertexArray),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexBuffer&&n.iconCollisionBox.collisionVertexBuffer.updateData(n.iconCollisionBox.collisionVertexArray),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexBuffer&&n.textCollisionBox.collisionVertexBuffer.updateData(n.textCollisionBox.collisionVertexArray),n.bucketInstanceId in this.collisionCircleArrays){var ae=this.collisionCircleArrays[n.bucketInstanceId];n.placementInvProjMatrix=ae.invProjMatrix,n.placementViewportMatrix=ae.viewportMatrix,n.collisionCircleArray=ae.circles,delete this.collisionCircleArrays[n.bucketInstanceId]}},mo.prototype.symbolFadeChange=function(n){return 0===this.fadeDuration?1:(n-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},mo.prototype.zoomAdjustment=function(n){return Math.max(0,(this.transform.zoom-n)/1.5)},mo.prototype.hasTransitions=function(n){return this.stale||n-this.lastPlacementChangeTime<this.fadeDuration},mo.prototype.stillRecent=function(n,s){var o=this.zoomAtLastRecencyCheck===s?1-this.zoomAdjustment(s):1;return this.zoomAtLastRecencyCheck=s,this.commitTime+this.fadeDuration*o>n},mo.prototype.setStale=function(){this.stale=!0};var Bs=Math.pow(2,25),vs=Math.pow(2,24),ts=Math.pow(2,17),oa=Math.pow(2,16),ea=Math.pow(2,9),fa=Math.pow(2,8),f=Math.pow(2,1);function C(n){if(0===n.opacity&&!n.placed)return 0;if(1===n.opacity&&n.placed)return 4294967295;var s=n.placed?1:0,o=Math.floor(127*n.opacity);return o*Bs+s*vs+o*ts+s*oa+o*ea+s*fa+o*f+s}var q=0,et=function(n){this._sortAcrossTiles="viewport-y"!==n.layout.get("symbol-z-order")&&void 0!==n.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};et.prototype.continuePlacement=function(n,s,o,l,d){for(var v=this._bucketParts;this._currentTileIndex<n.length;)if(s.getBucketParts(v,l,n[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,d())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,v.sort(function(w,N){return w.sortKey-N.sortKey}));this._currentPartIndex<v.length;)if(s.placeLayerBucketPart(v[this._currentPartIndex],this._seenCrossTileIDs,o),this._currentPartIndex++,d())return!0;return!1};var Tt=function(n,s,o,l,d,v,w){this.placement=new mo(n,d,v,w),this._currentPlacementIndex=s.length-1,this._forceFullPlacement=o,this._showCollisionBoxes=l,this._done=!1};Tt.prototype.isDone=function(){return this._done},Tt.prototype.continuePlacement=function(n,s,o){for(var l=this,d=h.browser.now(),v=function(){var ut=h.browser.now()-d;return!l._forceFullPlacement&&ut>2};this._currentPlacementIndex>=0;){var w=s[n[this._currentPlacementIndex]],N=this.placement.collisionIndex.transform.zoom;if("symbol"===w.type&&(!w.minzoom||w.minzoom<=N)&&(!w.maxzoom||w.maxzoom>N)){if(this._inProgressLayer||(this._inProgressLayer=new et(w)),this._inProgressLayer.continuePlacement(o[w.source],this.placement,this._showCollisionBoxes,w,v))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Tt.prototype.commit=function(n){return this.placement.commit(n),this.placement};var Vt=512/h.EXTENT/2,Jt=function(n,s,o){this.tileID=n,this.indexedSymbolInstances={},this.bucketInstanceId=o;for(var l=0;l<s.length;l++){var d=s.get(l),v=d.key;this.indexedSymbolInstances[v]||(this.indexedSymbolInstances[v]=[]),this.indexedSymbolInstances[v].push({crossTileID:d.crossTileID,coord:this.getScaledCoordinates(d,n)})}};Jt.prototype.getScaledCoordinates=function(n,s){var o=Vt/Math.pow(2,s.canonical.z-this.tileID.canonical.z);return{x:Math.floor((s.canonical.x*h.EXTENT+n.anchorX)*o),y:Math.floor((s.canonical.y*h.EXTENT+n.anchorY)*o)}},Jt.prototype.findMatches=function(n,s,o){for(var l=this.tileID.canonical.z<s.canonical.z?1:Math.pow(2,this.tileID.canonical.z-s.canonical.z),d=0;d<n.length;d++){var v=n.get(d);if(!v.crossTileID){var w=this.indexedSymbolInstances[v.key];if(w)for(var N=this.getScaledCoordinates(v,s),ut=0,bt=w;ut<bt.length;ut+=1){var Zt=bt[ut];if(Math.abs(Zt.coord.x-N.x)<=l&&Math.abs(Zt.coord.y-N.y)<=l&&!o[Zt.crossTileID]){o[Zt.crossTileID]=!0,v.crossTileID=Zt.crossTileID;break}}}}};var Se=function(){this.maxCrossTileID=0};Se.prototype.generate=function(){return++this.maxCrossTileID};var xe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};xe.prototype.handleWrapJump=function(n){var s=Math.round((n-this.lng)/360);if(0!==s)for(var o in this.indexes){var l=this.indexes[o],d={};for(var v in l){var w=l[v];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+s),d[w.tileID.key]=w}this.indexes[o]=d}this.lng=n},xe.prototype.addBucket=function(n,s,o){if(this.indexes[n.overscaledZ]&&this.indexes[n.overscaledZ][n.key]){if(this.indexes[n.overscaledZ][n.key].bucketInstanceId===s.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(n.overscaledZ,this.indexes[n.overscaledZ][n.key])}for(var l=0;l<s.symbolInstances.length;l++)s.symbolInstances.get(l).crossTileID=0;this.usedCrossTileIDs[n.overscaledZ]||(this.usedCrossTileIDs[n.overscaledZ]={});var d=this.usedCrossTileIDs[n.overscaledZ];for(var v in this.indexes){var w=this.indexes[v];if(Number(v)>n.overscaledZ)for(var N in w){var ut=w[N];ut.tileID.isChildOf(n)&&ut.findMatches(s.symbolInstances,n,d)}else{var bt=w[n.scaledTo(Number(v)).key];bt&&bt.findMatches(s.symbolInstances,n,d)}}for(var Zt=0;Zt<s.symbolInstances.length;Zt++){var Wt=s.symbolInstances.get(Zt);Wt.crossTileID||(Wt.crossTileID=o.generate(),d[Wt.crossTileID]=!0)}return void 0===this.indexes[n.overscaledZ]&&(this.indexes[n.overscaledZ]={}),this.indexes[n.overscaledZ][n.key]=new Jt(n,s.symbolInstances,s.bucketInstanceId),!0},xe.prototype.removeBucketCrossTileIDs=function(n,s){for(var o in s.indexedSymbolInstances)for(var l=0,d=s.indexedSymbolInstances[o];l<d.length;l+=1)delete this.usedCrossTileIDs[n][d[l].crossTileID]},xe.prototype.removeStaleBuckets=function(n){var s=!1;for(var o in this.indexes){var l=this.indexes[o];for(var d in l)n[l[d].bucketInstanceId]||(this.removeBucketCrossTileIDs(o,l[d]),delete l[d],s=!0)}return s};var De=function(){this.layerIndexes={},this.crossTileIDs=new Se,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};De.prototype.addLayer=function(n,s,o){var l=this.layerIndexes[n.id];void 0===l&&(l=this.layerIndexes[n.id]=new xe);var d=!1,v={};l.handleWrapJump(o);for(var w=0,N=s;w<N.length;w+=1){var ut=N[w],bt=ut.getBucket(n);bt&&n.id===bt.layerIds[0]&&(bt.bucketInstanceId||(bt.bucketInstanceId=++this.maxBucketInstanceId),l.addBucket(ut.tileID,bt,this.crossTileIDs)&&(d=!0),v[bt.bucketInstanceId]=!0)}return l.removeStaleBuckets(v)&&(d=!0),d},De.prototype.pruneUnusedLayers=function(n){var s={};for(var o in n.forEach(function(l){s[l]=!0}),this.layerIndexes)s[o]||delete this.layerIndexes[o]};var Je=function(n,s){return h.emitValidationErrors(n,s&&s.filter(function(o){return"source.canvas"!==o.identifier}))},si=h.pick(Ai,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ze=h.pick(Ai,["setCenter","setZoom","setBearing","setPitch"]),Ge=function(){var n={},s=h.styleSpec.$version;for(var o in h.styleSpec.$root){var l,d=h.styleSpec.$root[o];d.required&&null!=(l="version"===o?s:"array"===d.type?[]:{})&&(n[o]=l)}return n}(),Bi=function(n){function s(o,l){var d=this;void 0===l&&(l={}),n.call(this),this.map=o,this.dispatcher=new St($e(),this),this.imageManager=new B,this.imageManager.setEventedParent(this),this.glyphManager=new ct(o._requestManager,l.localIdeographFontFamily),this.lineAtlas=new X(256,512),this.crossTileSymbolIndex=new De,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new h.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",h.getReferrer());var v=this;this._rtlTextPluginCallback=s.registerForPluginStateChange(function(w){v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:w.pluginStatus,pluginURL:w.pluginURL},function(N,ut){if(h.triggerPluginCompletionEvent(N),ut&&ut.every(function(Zt){return Zt}))for(var bt in v.sourceCaches)v.sourceCaches[bt].reload()})}),this.on("data",function(w){if("source"===w.dataType&&"metadata"===w.sourceDataType){var N=d.sourceCaches[w.sourceId];if(N){var ut=N.getSource();if(ut&&ut.vectorLayerIds)for(var bt in d._layers){var Zt=d._layers[bt];Zt.source===ut.id&&d._validateLayer(Zt)}}}})}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.loadURL=function(o,l){var d=this;void 0===l&&(l={}),this.fire(new h.Event("dataloading",{dataType:"style"}));var v="boolean"==typeof l.validate?l.validate:!h.isMapboxURL(o);o=this.map._requestManager.normalizeStyleURL(o,l.accessToken);var w=this.map._requestManager.transformRequest(o,h.ResourceType.Style);this._request=h.getJSON(w,function(N,ut){d._request=null,N?d.fire(new h.ErrorEvent(N)):ut&&d._load(ut,v)})},s.prototype.loadJSON=function(o,l){var d=this;void 0===l&&(l={}),this.fire(new h.Event("dataloading",{dataType:"style"})),this._request=h.browser.frame(function(){d._request=null,d._load(o,!1!==l.validate)})},s.prototype.loadEmpty=function(){this.fire(new h.Event("dataloading",{dataType:"style"})),this._load(Ge,!1)},s.prototype._load=function(o,l){if(!l||!Je(this,h.validateStyle(o))){for(var d in this._loaded=!0,this.stylesheet=o,o.sources)this.addSource(d,o.sources[d],{validate:!1});o.sprite?this._loadSprite(o.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(o.glyphs);var v=Ci(this.stylesheet.layers);this._order=v.map(function(bt){return bt.id}),this._layers={},this._serializedLayers={};for(var w=0,N=v;w<N.length;w+=1){var ut=N[w];(ut=h.createStyleLayer(ut)).setEventedParent(this,{layer:{id:ut.id}}),this._layers[ut.id]=ut,this._serializedLayers[ut.id]=ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new tt(this.stylesheet.light),this.fire(new h.Event("data",{dataType:"style"})),this.fire(new h.Event("style.load"))}},s.prototype._loadSprite=function(o){var l=this;this._spriteRequest=function(d,v,w){var N,ut,bt,Zt=h.browser.devicePixelRatio>1?"@2x":"",Wt=h.getJSON(v.transformRequest(v.normalizeSpriteURL(d,Zt,".json"),h.ResourceType.SpriteJSON),function(ce,_e){Wt=null,bt||(bt=ce,N=_e,me())}),Kt=h.getImage(v.transformRequest(v.normalizeSpriteURL(d,Zt,".png"),h.ResourceType.SpriteImage),function(ce,_e){Kt=null,bt||(bt=ce,ut=_e,me())});function me(){if(bt)w(bt);else if(N&&ut){var ce=h.browser.getImageData(ut),_e={};for(var ae in N){var ve=N[ae],Ae=ve.width,Be=ve.height,Qe=ve.x,Xe=ve.y,ti=ve.sdf,di=ve.pixelRatio,Ei=ve.stretchX,Ti=ve.stretchY,qi=ve.content,Qi=new h.RGBAImage({width:Ae,height:Be});h.RGBAImage.copy(ce,Qi,{x:Qe,y:Xe},{x:0,y:0},{width:Ae,height:Be}),_e[ae]={data:Qi,pixelRatio:di,sdf:ti,stretchX:Ei,stretchY:Ti,content:qi}}w(null,_e)}}return{cancel:function(){Wt&&(Wt.cancel(),Wt=null),Kt&&(Kt.cancel(),Kt=null)}}}(o,this.map._requestManager,function(d,v){if(l._spriteRequest=null,d)l.fire(new h.ErrorEvent(d));else if(v)for(var w in v)l.imageManager.addImage(w,v[w]);l.imageManager.setLoaded(!0),l._availableImages=l.imageManager.listImages(),l.dispatcher.broadcast("setImages",l._availableImages),l.fire(new h.Event("data",{dataType:"style"}))})},s.prototype._validateLayer=function(o){var l=this.sourceCaches[o.source];if(l){var d=o.sourceLayer;if(d){var v=l.getSource();("geojson"===v.type||v.vectorLayerIds&&-1===v.vectorLayerIds.indexOf(d))&&this.fire(new h.ErrorEvent(new Error('Source layer "'+d+'" does not exist on source "'+v.id+'" as specified by style layer "'+o.id+'"')))}}},s.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var o in this.sourceCaches)if(!this.sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()},s.prototype._serializeLayers=function(o){for(var l=[],d=0,v=o;d<v.length;d+=1){var w=this._layers[v[d]];"custom"!==w.type&&l.push(w.serialize())}return l},s.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var o in this.sourceCaches)if(this.sourceCaches[o].hasTransition())return!0;for(var l in this._layers)if(this._layers[l].hasTransition())return!0;return!1},s.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},s.prototype.update=function(o){if(this._loaded){var l=this._changed;if(this._changed){var d=Object.keys(this._updatedLayers),v=Object.keys(this._removedLayers);for(var w in(d.length||v.length)&&this._updateWorkerLayers(d,v),this._updatedSources){var N=this._updatedSources[w];"reload"===N?this._reloadSource(w):"clear"===N&&this._clearSource(w)}for(var ut in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ut].updateTransitions(o);this.light.updateTransitions(o),this._resetUpdates()}var bt={};for(var Zt in this.sourceCaches){var Wt=this.sourceCaches[Zt];bt[Zt]=Wt.used,Wt.used=!1}for(var Kt=0,me=this._order;Kt<me.length;Kt+=1){var ce=this._layers[me[Kt]];ce.recalculate(o,this._availableImages),!ce.isHidden(o.zoom)&&ce.source&&(this.sourceCaches[ce.source].used=!0)}for(var _e in bt){var ae=this.sourceCaches[_e];bt[_e]!==ae.used&&ae.fire(new h.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:_e}))}this.light.recalculate(o),this.z=o.zoom,l&&this.fire(new h.Event("data",{dataType:"style"}))}},s.prototype._updateTilesForChangedImages=function(){var o=Object.keys(this._changedImages);if(o.length){for(var l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}},s.prototype._updateWorkerLayers=function(o,l){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(o),removedIds:l})},s.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},s.prototype.setState=function(o){var l=this;if(this._checkLoaded(),Je(this,h.validateStyle(o)))return!1;(o=h.clone$1(o)).layers=Ci(o.layers);var d=function(w,N){if(!w)return[{command:Ai.setStyle,args:[N]}];var ut=[];try{if(!h.deepEqual(w.version,N.version))return[{command:Ai.setStyle,args:[N]}];h.deepEqual(w.center,N.center)||ut.push({command:Ai.setCenter,args:[N.center]}),h.deepEqual(w.zoom,N.zoom)||ut.push({command:Ai.setZoom,args:[N.zoom]}),h.deepEqual(w.bearing,N.bearing)||ut.push({command:Ai.setBearing,args:[N.bearing]}),h.deepEqual(w.pitch,N.pitch)||ut.push({command:Ai.setPitch,args:[N.pitch]}),h.deepEqual(w.sprite,N.sprite)||ut.push({command:Ai.setSprite,args:[N.sprite]}),h.deepEqual(w.glyphs,N.glyphs)||ut.push({command:Ai.setGlyphs,args:[N.glyphs]}),h.deepEqual(w.transition,N.transition)||ut.push({command:Ai.setTransition,args:[N.transition]}),h.deepEqual(w.light,N.light)||ut.push({command:Ai.setLight,args:[N.light]});var bt={},Zt=[];!function(Kt,me,ce,_e){var ae;for(ae in me=me||{},Kt=Kt||{})Kt.hasOwnProperty(ae)&&(me.hasOwnProperty(ae)||_i(ae,ce,_e));for(ae in me)me.hasOwnProperty(ae)&&(Kt.hasOwnProperty(ae)?h.deepEqual(Kt[ae],me[ae])||("geojson"===Kt[ae].type&&"geojson"===me[ae].type&&fn(Kt,me,ae)?ce.push({command:Ai.setGeoJSONSourceData,args:[ae,me[ae].data]}):En(ae,me,ce,_e)):ln(ae,me,ce))}(w.sources,N.sources,Zt,bt);var Wt=[];w.layers&&w.layers.forEach(function(Kt){bt[Kt.source]?ut.push({command:Ai.removeLayer,args:[Kt.id]}):Wt.push(Kt)}),ut=ut.concat(Zt),function(Kt,me,ce){me=me||[];var _e,ae,ve,Ae,Be,Qe,Xe,ti=(Kt=Kt||[]).map(Vn),di=me.map(Vn),Ei=Kt.reduce(Sn,{}),Ti=me.reduce(Sn,{}),qi=ti.slice(),Qi=Object.create(null);for(_e=0,ae=0;_e<ti.length;_e++)Ti.hasOwnProperty(ve=ti[_e])?ae++:(ce.push({command:Ai.removeLayer,args:[ve]}),qi.splice(qi.indexOf(ve,ae),1));for(_e=0,ae=0;_e<di.length;_e++)qi[qi.length-1-_e]!==(ve=di[di.length-1-_e])&&(Ei.hasOwnProperty(ve)?(ce.push({command:Ai.removeLayer,args:[ve]}),qi.splice(qi.lastIndexOf(ve,qi.length-ae),1)):ae++,ce.push({command:Ai.addLayer,args:[Ti[ve],Qe=qi[qi.length-_e]]}),qi.splice(qi.length-_e,0,ve),Qi[ve]=!0);for(_e=0;_e<di.length;_e++)if(Ae=Ei[ve=di[_e]],Be=Ti[ve],!Qi[ve]&&!h.deepEqual(Ae,Be))if(h.deepEqual(Ae.source,Be.source)&&h.deepEqual(Ae["source-layer"],Be["source-layer"])&&h.deepEqual(Ae.type,Be.type)){for(Xe in mn(Ae.layout,Be.layout,ce,ve,null,Ai.setLayoutProperty),mn(Ae.paint,Be.paint,ce,ve,null,Ai.setPaintProperty),h.deepEqual(Ae.filter,Be.filter)||ce.push({command:Ai.setFilter,args:[ve,Be.filter]}),h.deepEqual(Ae.minzoom,Be.minzoom)&&h.deepEqual(Ae.maxzoom,Be.maxzoom)||ce.push({command:Ai.setLayerZoomRange,args:[ve,Be.minzoom,Be.maxzoom]}),Ae)Ae.hasOwnProperty(Xe)&&"layout"!==Xe&&"paint"!==Xe&&"filter"!==Xe&&"metadata"!==Xe&&"minzoom"!==Xe&&"maxzoom"!==Xe&&(0===Xe.indexOf("paint.")?mn(Ae[Xe],Be[Xe],ce,ve,Xe.slice(6),Ai.setPaintProperty):h.deepEqual(Ae[Xe],Be[Xe])||ce.push({command:Ai.setLayerProperty,args:[ve,Xe,Be[Xe]]}));for(Xe in Be)Be.hasOwnProperty(Xe)&&!Ae.hasOwnProperty(Xe)&&"layout"!==Xe&&"paint"!==Xe&&"filter"!==Xe&&"metadata"!==Xe&&"minzoom"!==Xe&&"maxzoom"!==Xe&&(0===Xe.indexOf("paint.")?mn(Ae[Xe],Be[Xe],ce,ve,Xe.slice(6),Ai.setPaintProperty):h.deepEqual(Ae[Xe],Be[Xe])||ce.push({command:Ai.setLayerProperty,args:[ve,Xe,Be[Xe]]}))}else ce.push({command:Ai.removeLayer,args:[ve]}),Qe=qi[qi.lastIndexOf(ve)+1],ce.push({command:Ai.addLayer,args:[Be,Qe]})}(Wt,N.layers,ut)}catch(Kt){console.warn("Unable to compute style diff:",Kt),ut=[{command:Ai.setStyle,args:[N]}]}return ut}(this.serialize(),o).filter(function(w){return!(w.command in Ze)});if(0===d.length)return!1;var v=d.filter(function(w){return!(w.command in si)});if(v.length>0)throw new Error("Unimplemented: "+v.map(function(w){return w.command}).join(", ")+".");return d.forEach(function(w){"setTransition"!==w.command&&l[w.command].apply(l,w.args)}),this.stylesheet=o,!0},s.prototype.addImage=function(o,l){if(this.getImage(o))return this.fire(new h.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(o,l),this._afterImageUpdated(o)},s.prototype.updateImage=function(o,l){this.imageManager.updateImage(o,l)},s.prototype.getImage=function(o){return this.imageManager.getImage(o)},s.prototype.removeImage=function(o){if(!this.getImage(o))return this.fire(new h.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(o),this._afterImageUpdated(o)},s.prototype._afterImageUpdated=function(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new h.Event("data",{dataType:"style"}))},s.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},s.prototype.addSource=function(o,l,d){var v=this;if(void 0===d&&(d={}),this._checkLoaded(),void 0!==this.sourceCaches[o])throw new Error("There is already a source with this ID");if(!l.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(l).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(h.validateStyle.source,"sources."+o,l,null,d))){this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);var w=this.sourceCaches[o]=new fe(o,l,this.dispatcher);w.style=this,w.setEventedParent(this,function(){return{isSourceLoaded:v.loaded(),source:w.serialize(),sourceId:o}}),w.onAdd(this.map),this._changed=!0}},s.prototype.removeSource=function(o){if(this._checkLoaded(),void 0===this.sourceCaches[o])throw new Error("There is no source with this ID");for(var l in this._layers)if(this._layers[l].source===o)return this.fire(new h.ErrorEvent(new Error('Source "'+o+'" cannot be removed while layer "'+l+'" is using it.')));var d=this.sourceCaches[o];delete this.sourceCaches[o],delete this._updatedSources[o],d.fire(new h.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:o})),d.setEventedParent(null),d.clearTiles(),d.onRemove&&d.onRemove(this.map),this._changed=!0},s.prototype.setGeoJSONSourceData=function(o,l){this._checkLoaded(),this.sourceCaches[o].getSource().setData(l),this._changed=!0},s.prototype.getSource=function(o){return this.sourceCaches[o]&&this.sourceCaches[o].getSource()},s.prototype.addLayer=function(o,l,d){void 0===d&&(d={}),this._checkLoaded();var v=o.id;if(this.getLayer(v))this.fire(new h.ErrorEvent(new Error('Layer with id "'+v+'" already exists on this map')));else{var w;if("custom"===o.type){if(Je(this,h.validateCustomStyleLayer(o)))return;w=h.createStyleLayer(o)}else{if("object"==typeof o.source&&(this.addSource(v,o.source),o=h.clone$1(o),o=h.extend(o,{source:v})),this._validate(h.validateStyle.layer,"layers."+v,o,{arrayIndex:-1},d))return;w=h.createStyleLayer(o),this._validateLayer(w),w.setEventedParent(this,{layer:{id:v}}),this._serializedLayers[w.id]=w.serialize()}var N=l?this._order.indexOf(l):this._order.length;if(l&&-1===N)this.fire(new h.ErrorEvent(new Error('Layer with id "'+l+'" does not exist on this map.')));else{if(this._order.splice(N,0,v),this._layerOrderChanged=!0,this._layers[v]=w,this._removedLayers[v]&&w.source&&"custom"!==w.type){var ut=this._removedLayers[v];delete this._removedLayers[v],ut.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map)}}},s.prototype.moveLayer=function(o,l){if(this._checkLoaded(),this._changed=!0,this._layers[o]){if(o!==l){var d=this._order.indexOf(o);this._order.splice(d,1);var v=l?this._order.indexOf(l):this._order.length;l&&-1===v?this.fire(new h.ErrorEvent(new Error('Layer with id "'+l+'" does not exist on this map.'))):(this._order.splice(v,0,o),this._layerOrderChanged=!0)}}else this.fire(new h.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be moved.")))},s.prototype.removeLayer=function(o){this._checkLoaded();var l=this._layers[o];if(l){l.setEventedParent(null);var d=this._order.indexOf(o);this._order.splice(d,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=l,delete this._layers[o],delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],l.onRemove&&l.onRemove(this.map)}else this.fire(new h.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be removed.")))},s.prototype.getLayer=function(o){return this._layers[o]},s.prototype.hasLayer=function(o){return o in this._layers},s.prototype.setLayerZoomRange=function(o,l,d){this._checkLoaded();var v=this.getLayer(o);v?v.minzoom===l&&v.maxzoom===d||(null!=l&&(v.minzoom=l),null!=d&&(v.maxzoom=d),this._updateLayer(v)):this.fire(new h.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot have zoom extent.")))},s.prototype.setFilter=function(o,l,d){void 0===d&&(d={}),this._checkLoaded();var v=this.getLayer(o);if(v){if(!h.deepEqual(v.filter,l))return null==l?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(h.validateStyle.filter,"layers."+v.id+".filter",l,null,d)||(v.filter=h.clone$1(l),this._updateLayer(v)))}else this.fire(new h.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be filtered.")))},s.prototype.getFilter=function(o){return h.clone$1(this.getLayer(o).filter)},s.prototype.setLayoutProperty=function(o,l,d,v){void 0===v&&(v={}),this._checkLoaded();var w=this.getLayer(o);w?h.deepEqual(w.getLayoutProperty(l),d)||(w.setLayoutProperty(l,d,v),this._updateLayer(w)):this.fire(new h.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be styled.")))},s.prototype.getLayoutProperty=function(o,l){var d=this.getLayer(o);if(d)return d.getLayoutProperty(l);this.fire(new h.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style.")))},s.prototype.setPaintProperty=function(o,l,d,v){void 0===v&&(v={}),this._checkLoaded();var w=this.getLayer(o);w?h.deepEqual(w.getPaintProperty(l),d)||(w.setPaintProperty(l,d,v)&&this._updateLayer(w),this._changed=!0,this._updatedPaintProps[o]=!0):this.fire(new h.ErrorEvent(new Error("The layer '"+o+"' does not exist in the map's style and cannot be styled.")))},s.prototype.getPaintProperty=function(o,l){return this.getLayer(o).getPaintProperty(l)},s.prototype.setFeatureState=function(o,l){this._checkLoaded();var d=o.source,v=o.sourceLayer,w=this.sourceCaches[d];if(void 0!==w){var N=w.getSource().type;"geojson"===N&&v?this.fire(new h.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==N||v?(void 0===o.id&&this.fire(new h.ErrorEvent(new Error("The feature id parameter must be provided."))),w.setFeatureState(v,o.id,l)):this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new h.ErrorEvent(new Error("The source '"+d+"' does not exist in the map's style.")))},s.prototype.removeFeatureState=function(o,l){this._checkLoaded();var d=o.source,v=this.sourceCaches[d];if(void 0!==v){var w=v.getSource().type,N="vector"===w?o.sourceLayer:void 0;"vector"!==w||N?l&&"string"!=typeof o.id&&"number"!=typeof o.id?this.fire(new h.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(N,o.id,l):this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new h.ErrorEvent(new Error("The source '"+d+"' does not exist in the map's style.")))},s.prototype.getFeatureState=function(o){this._checkLoaded();var l=o.source,d=o.sourceLayer,v=this.sourceCaches[l];if(void 0!==v){if("vector"!==v.getSource().type||d)return void 0===o.id&&this.fire(new h.ErrorEvent(new Error("The feature id parameter must be provided."))),v.getFeatureState(d,o.id);this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new h.ErrorEvent(new Error("The source '"+l+"' does not exist in the map's style.")))},s.prototype.getTransition=function(){return h.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},s.prototype.serialize=function(){return h.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:h.mapObject(this.sourceCaches,function(o){return o.serialize()}),layers:this._serializeLayers(this._order)},function(o){return void 0!==o})},s.prototype._updateLayer=function(o){this._updatedLayers[o.id]=!0,o.source&&!this._updatedSources[o.source]&&"raster"!==this.sourceCaches[o.source].getSource().type&&(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause()),this._changed=!0},s.prototype._flattenAndSortRenderedFeatures=function(o){for(var l=this,d=function(Ei){return"fill-extrusion"===l._layers[Ei].type},v={},w=[],N=this._order.length-1;N>=0;N--){var ut=this._order[N];if(d(ut)){v[ut]=N;for(var bt=0,Zt=o;bt<Zt.length;bt+=1){var Wt=Zt[bt][ut];if(Wt)for(var Kt=0,me=Wt;Kt<me.length;Kt+=1)w.push(me[Kt])}}}w.sort(function(Ei,Ti){return Ti.intersectionZ-Ei.intersectionZ});for(var ce=[],_e=this._order.length-1;_e>=0;_e--){var ae=this._order[_e];if(d(ae))for(var ve=w.length-1;ve>=0;ve--){var Ae=w[ve].feature;if(v[Ae.layer.id]<_e)break;ce.push(Ae),w.pop()}else for(var Be=0,Qe=o;Be<Qe.length;Be+=1){var Xe=Qe[Be][ae];if(Xe)for(var ti=0,di=Xe;ti<di.length;ti+=1)ce.push(di[ti].feature)}}return ce},s.prototype.queryRenderedFeatures=function(o,l,d){l&&l.filter&&this._validate(h.validateStyle.filter,"queryRenderedFeatures.filter",l.filter,null,l);var v={};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new h.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var w=0,N=l.layers;w<N.length;w+=1){var ut=N[w],bt=this._layers[ut];if(!bt)return this.fire(new h.ErrorEvent(new Error("The layer '"+ut+"' does not exist in the map's style and cannot be queried for features."))),[];v[bt.source]=!0}}var Zt=[];for(var Wt in l.availableImages=this._availableImages,this.sourceCaches)l.layers&&!v[Wt]||Zt.push(Lt(this.sourceCaches[Wt],this._layers,this._serializedLayers,o,l,d));return this.placement&&Zt.push(function(Kt,me,ce,_e,ae,ve,Ae){for(var Be={},Qe=ve.queryRenderedSymbols(_e),Xe=[],ti=0,di=Object.keys(Qe).map(Number);ti<di.length;ti+=1)Xe.push(Ae[di[ti]]);Xe.sort(ne);for(var Ei=function(){var nn=qi[Ti],ar=nn.featureIndex.lookupSymbolFeatures(Qe[nn.bucketInstanceId],me,nn.bucketIndex,nn.sourceLayerIndex,ae.filter,ae.layers,ae.availableImages,Kt);for(var Zi in ar){var wn=Be[Zi]=Be[Zi]||[],Bn=ar[Zi];Bn.sort(function(Dn,dn){var hn=nn.featureSortOrder;if(hn){var jo=hn.indexOf(Dn.featureIndex);return hn.indexOf(dn.featureIndex)-jo}return dn.featureIndex-Dn.featureIndex});for(var _n=0,gn=Bn;_n<gn.length;_n+=1)wn.push(gn[_n])}},Ti=0,qi=Xe;Ti<qi.length;Ti+=1)Ei();var Qi=function(nn){Be[nn].forEach(function(ar){var Zi=ar.feature,wn=ce[Kt[nn].source].getFeatureState(Zi.layer["source-layer"],Zi.id);Zi.source=Zi.layer.source,Zi.layer["source-layer"]&&(Zi.sourceLayer=Zi.layer["source-layer"]),Zi.state=wn})};for(var on in Be)Qi(on);return Be}(this._layers,this._serializedLayers,this.sourceCaches,o,l,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Zt)},s.prototype.querySourceFeatures=function(o,l){l&&l.filter&&this._validate(h.validateStyle.filter,"querySourceFeatures.filter",l.filter,null,l);var d=this.sourceCaches[o];return d?function(v,w){for(var N=v.getRenderableIds().map(function(me){return v.getTileByID(me)}),ut=[],bt={},Zt=0;Zt<N.length;Zt++){var Wt=N[Zt],Kt=Wt.tileID.canonical.key;bt[Kt]||(bt[Kt]=!0,Wt.querySourceFeatures(ut,w))}return ut}(d,l):[]},s.prototype.addSourceType=function(o,l,d){return s.getSourceType(o)?d(new Error('A source type called "'+o+'" already exists.')):(s.setSourceType(o,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:o,url:l.workerSourceURL},d):d(null,null))},s.prototype.getLight=function(){return this.light.getLight()},s.prototype.setLight=function(o,l){void 0===l&&(l={}),this._checkLoaded();var d=this.light.getLight(),v=!1;for(var w in o)if(!h.deepEqual(o[w],d[w])){v=!0;break}if(v){var N={now:h.browser.now(),transition:h.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(o,l),this.light.updateTransitions(N)}},s.prototype._validate=function(o,l,d,v,w){return void 0===w&&(w={}),(!w||!1!==w.validate)&&Je(this,o.call(h.validateStyle,h.extend({key:l,style:this.serialize(),value:d,styleSpec:h.styleSpec},v)))},s.prototype._remove=function(){for(var o in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),h.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[o].setEventedParent(null);for(var l in this.sourceCaches)this.sourceCaches[l].clearTiles(),this.sourceCaches[l].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},s.prototype._clearSource=function(o){this.sourceCaches[o].clearTiles()},s.prototype._reloadSource=function(o){this.sourceCaches[o].resume(),this.sourceCaches[o].reload()},s.prototype._updateSources=function(o){for(var l in this.sourceCaches)this.sourceCaches[l].update(o)},s.prototype._generateCollisionBoxes=function(){for(var o in this.sourceCaches)this._reloadSource(o)},s.prototype._updatePlacement=function(o,l,d,v,w){void 0===w&&(w=!1);for(var N=!1,ut=!1,bt={},Zt=0,Wt=this._order;Zt<Wt.length;Zt+=1){var Kt=this._layers[Wt[Zt]];if("symbol"===Kt.type){if(!bt[Kt.source]){var me=this.sourceCaches[Kt.source];bt[Kt.source]=me.getRenderableIds(!0).map(function(Ae){return me.getTileByID(Ae)}).sort(function(Ae,Be){return Be.tileID.overscaledZ-Ae.tileID.overscaledZ||(Ae.tileID.isLessThan(Be.tileID)?-1:1)})}var ce=this.crossTileSymbolIndex.addLayer(Kt,bt[Kt.source],o.center.lng);N=N||ce}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((w=w||this._layerOrderChanged||0===d)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(h.browser.now(),o.zoom))&&(this.pauseablePlacement=new Tt(o,this._order,w,l,d,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,bt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(h.browser.now()),ut=!0),N&&this.pauseablePlacement.placement.setStale()),ut||N)for(var _e=0,ae=this._order;_e<ae.length;_e+=1){var ve=this._layers[ae[_e]];"symbol"===ve.type&&this.placement.updateLayerOpacities(ve,bt[ve.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(h.browser.now())},s.prototype._releaseSymbolFadeTiles=function(){for(var o in this.sourceCaches)this.sourceCaches[o].releaseSymbolFadeTiles()},s.prototype.getImages=function(o,l,d){this.imageManager.getImages(l.icons,d),this._updateTilesForChangedImages();var v=this.sourceCaches[l.source];v&&v.setDependencies(l.tileID.key,l.type,l.icons)},s.prototype.getGlyphs=function(o,l,d){this.glyphManager.getGlyphs(l.stacks,d)},s.prototype.getResource=function(o,l,d){return h.makeRequest(l,d)},s}(h.Evented);Bi.getSourceType=function(n){return Qt[n]},Bi.setSourceType=function(n,s){Qt[n]=s},Bi.registerForPluginStateChange=h.registerForPluginStateChange;var Vi=h.createLayout([{name:"a_pos",type:"Int16",components:2}]),Wi=Pn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),vr=Pn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Fr=Pn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),yo=Pn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),$n=Pn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),xn=Pn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),go=Pn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Gn=Pn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),_r=Pn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),As=Pn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ia=Pn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Sr=Pn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Mo=Pn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rs=Pn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),or=Pn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),qo=Pn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Pr=Pn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),sr=Pn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),to=Pn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),br=Pn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Dr=Pn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),yn=Pn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Fn=Pn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),pr=Pn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),ao=Pn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),Tr=Pn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Pn(n,s){var o=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,l=s.match(/attribute ([\w]+) ([\w]+)/g),d=n.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),v=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=v?v.concat(d):d,N={};return{fragmentSource:n=n.replace(o,function(ut,bt,Zt,Wt,Kt){return N[Kt]=!0,"define"===bt?"\n#ifndef HAS_UNIFORM_u_"+Kt+"\nvarying "+Zt+" "+Wt+" "+Kt+";\n#else\nuniform "+Zt+" "+Wt+" u_"+Kt+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+Kt+"\n    "+Zt+" "+Wt+" "+Kt+" = u_"+Kt+";\n#endif\n"}),vertexSource:s=s.replace(o,function(ut,bt,Zt,Wt,Kt){var me="float"===Wt?"vec2":"vec4",ce=Kt.match(/color/)?"color":me;return N[Kt]?"define"===bt?"\n#ifndef HAS_UNIFORM_u_"+Kt+"\nuniform lowp float u_"+Kt+"_t;\nattribute "+Zt+" "+me+" a_"+Kt+";\nvarying "+Zt+" "+Wt+" "+Kt+";\n#else\nuniform "+Zt+" "+Wt+" u_"+Kt+";\n#endif\n":"vec4"===ce?"\n#ifndef HAS_UNIFORM_u_"+Kt+"\n    "+Kt+" = a_"+Kt+";\n#else\n    "+Zt+" "+Wt+" "+Kt+" = u_"+Kt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+Kt+"\n    "+Kt+" = unpack_mix_"+ce+"(a_"+Kt+", u_"+Kt+"_t);\n#else\n    "+Zt+" "+Wt+" "+Kt+" = u_"+Kt+";\n#endif\n":"define"===bt?"\n#ifndef HAS_UNIFORM_u_"+Kt+"\nuniform lowp float u_"+Kt+"_t;\nattribute "+Zt+" "+me+" a_"+Kt+";\n#else\nuniform "+Zt+" "+Wt+" u_"+Kt+";\n#endif\n":"vec4"===ce?"\n#ifndef HAS_UNIFORM_u_"+Kt+"\n    "+Zt+" "+Wt+" "+Kt+" = a_"+Kt+";\n#else\n    "+Zt+" "+Wt+" "+Kt+" = u_"+Kt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+Kt+"\n    "+Zt+" "+Wt+" "+Kt+" = unpack_mix_"+ce+"(a_"+Kt+", u_"+Kt+"_t);\n#else\n    "+Zt+" "+Wt+" "+Kt+" = u_"+Kt+";\n#endif\n"}),staticAttributes:l,staticUniforms:w}}var js=Object.freeze({__proto__:null,prelude:Wi,background:vr,backgroundPattern:Fr,circle:yo,clippingMask:$n,heatmap:xn,heatmapTexture:go,collisionBox:Gn,collisionCircle:_r,debug:As,fill:ia,fillOutline:Sr,fillOutlinePattern:Mo,fillPattern:rs,fillExtrusion:or,fillExtrusionPattern:qo,hillshadePrepare:Pr,hillshade:sr,line:to,lineGradient:br,linePattern:Dr,lineSDF:yn,raster:Fn,symbolIcon:pr,symbolSDF:ao,symbolTextAndIcon:Tr}),Po=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Zo(n){for(var s=[],o=0;o<n.length;o++)if(null!==n[o]){var l=n[o].split(" ");s.push(l.pop())}return s}Po.prototype.bind=function(n,s,o,l,d,v,w,N){this.context=n;for(var ut=this.boundPaintVertexBuffers.length!==l.length,bt=0;!ut&&bt<l.length;bt++)this.boundPaintVertexBuffers[bt]!==l[bt]&&(ut=!0);n.extVertexArrayObject&&this.vao&&this.boundProgram===s&&this.boundLayoutVertexBuffer===o&&!ut&&this.boundIndexBuffer===d&&this.boundVertexOffset===v&&this.boundDynamicVertexBuffer===w&&this.boundDynamicVertexBuffer2===N?(n.bindVertexArrayOES.set(this.vao),w&&w.bind(),d&&d.dynamicDraw&&d.bind(),N&&N.bind()):this.freshBind(s,o,l,d,v,w,N)},Po.prototype.freshBind=function(n,s,o,l,d,v,w){var N,ut=n.numAttributes,bt=this.context,Zt=bt.gl;if(bt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=bt.extVertexArrayObject.createVertexArrayOES(),bt.bindVertexArrayOES.set(this.vao),N=0,this.boundProgram=n,this.boundLayoutVertexBuffer=s,this.boundPaintVertexBuffers=o,this.boundIndexBuffer=l,this.boundVertexOffset=d,this.boundDynamicVertexBuffer=v,this.boundDynamicVertexBuffer2=w;else{N=bt.currentNumAttributes||0;for(var Wt=ut;Wt<N;Wt++)Zt.disableVertexAttribArray(Wt)}s.enableAttributes(Zt,n);for(var Kt=0,me=o;Kt<me.length;Kt+=1)me[Kt].enableAttributes(Zt,n);v&&v.enableAttributes(Zt,n),w&&w.enableAttributes(Zt,n),s.bind(),s.setVertexAttribPointers(Zt,n,d);for(var ce=0,_e=o;ce<_e.length;ce+=1){var ae=_e[ce];ae.bind(),ae.setVertexAttribPointers(Zt,n,d)}v&&(v.bind(),v.setVertexAttribPointers(Zt,n,d)),l&&l.bind(),w&&(w.bind(),w.setVertexAttribPointers(Zt,n,d)),bt.currentNumAttributes=ut},Po.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var _s=function(n,s,o,l,d,v){var w=n.gl;this.program=w.createProgram();for(var N=Zo(o.staticAttributes),ut=l?l.getBinderAttributes():[],bt=N.concat(ut),Zt=o.staticUniforms?Zo(o.staticUniforms):[],Wt=l?l.getBinderUniforms():[],Kt=[],me=0,ce=Zt.concat(Wt);me<ce.length;me+=1){var _e=ce[me];Kt.indexOf(_e)<0&&Kt.push(_e)}var ae=l?l.defines():[];v&&ae.push("#define OVERDRAW_INSPECTOR;");var ve=ae.concat(Wi.fragmentSource,o.fragmentSource).join("\n"),Ae=ae.concat(Wi.vertexSource,o.vertexSource).join("\n"),Be=w.createShader(w.FRAGMENT_SHADER);if(w.isContextLost())this.failedToCreate=!0;else{w.shaderSource(Be,ve),w.compileShader(Be),w.attachShader(this.program,Be);var Qe=w.createShader(w.VERTEX_SHADER);if(w.isContextLost())this.failedToCreate=!0;else{w.shaderSource(Qe,Ae),w.compileShader(Qe),w.attachShader(this.program,Qe),this.attributes={};var Xe={};this.numAttributes=bt.length;for(var ti=0;ti<this.numAttributes;ti++)bt[ti]&&(w.bindAttribLocation(this.program,ti,bt[ti]),this.attributes[bt[ti]]=ti);w.linkProgram(this.program),w.deleteShader(Qe),w.deleteShader(Be);for(var di=0;di<Kt.length;di++){var Ei=Kt[di];if(Ei&&!Xe[Ei]){var Ti=w.getUniformLocation(this.program,Ei);Ti&&(Xe[Ei]=Ti)}}this.fixedUniforms=d(n,Xe),this.binderUniforms=l?l.getUniforms(n,Xe):[]}}};function na(n,s,o){var l=1/yr(o,1,s.transform.tileZoom),d=Math.pow(2,o.tileID.overscaledZ),v=o.tileSize*Math.pow(2,s.transform.tileZoom)/d,w=v*(o.tileID.canonical.x+o.tileID.wrap*d),N=v*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[l,n.fromScale,n.toScale],u_fade:n.t,u_pixel_coord_upper:[w>>16,N>>16],u_pixel_coord_lower:[65535&w,65535&N]}}_s.prototype.draw=function(n,s,o,l,d,v,w,N,ut,bt,Zt,Wt,Kt,me,ce,_e){var ae,ve=n.gl;if(!this.failedToCreate){for(var Ae in n.program.set(this.program),n.setDepthMode(o),n.setStencilMode(l),n.setColorMode(d),n.setCullFace(v),this.fixedUniforms)this.fixedUniforms[Ae].set(w[Ae]);me&&me.setUniforms(n,this.binderUniforms,Wt,{zoom:Kt});for(var Be=(ae={},ae[ve.LINES]=2,ae[ve.TRIANGLES]=3,ae[ve.LINE_STRIP]=1,ae)[s],Qe=0,Xe=Zt.get();Qe<Xe.length;Qe+=1){var ti=Xe[Qe],di=ti.vaos||(ti.vaos={});(di[N]||(di[N]=new Po)).bind(n,this,ut,me?me.getPaintVertexBuffers():[],bt,ti.vertexOffset,ce,_e),ve.drawElements(s,ti.primitiveLength*Be,ve.UNSIGNED_SHORT,ti.primitiveOffset*Be*2)}}};var Es=function(n,s,o,l){var d=s.style.light,v=d.properties.get("position"),w=[v.x,v.y,v.z],N=h.create$1();"viewport"===d.properties.get("anchor")&&h.fromRotation(N,-s.transform.angle),h.transformMat3(w,w,N);var ut=d.properties.get("color");return{u_matrix:n,u_lightpos:w,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[ut.r,ut.g,ut.b],u_vertical_gradient:+o,u_opacity:l}},os=function(n,s,o,l,d,v,w){return h.extend(Es(n,s,o,l),na(v,s,w),{u_height_factor:-Math.pow(2,d.overscaledZ)/w.tileSize/8})},Go=function(n){return{u_matrix:n}},Fs=function(n,s,o,l){return h.extend(Go(n),na(o,s,l))},r=function(n,s){return{u_matrix:n,u_world:s}},u=function(n,s,o,l,d){return h.extend(Fs(n,s,o,l),{u_world:d})},y=function(n,s,o,l){var d,v,w=n.transform;if("map"===l.paint.get("circle-pitch-alignment")){var N=yr(o,1,w.zoom);d=!0,v=[N,N]}else d=!1,v=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+("map"===l.paint.get("circle-pitch-scale")),u_matrix:n.translatePosMatrix(s.posMatrix,o,l.paint.get("circle-translate"),l.paint.get("circle-translate-anchor")),u_pitch_with_map:+d,u_device_pixel_ratio:h.browser.devicePixelRatio,u_extrude_scale:v}},z=function(n,s,o){var l=yr(o,1,s.zoom),d=Math.pow(2,s.zoom-o.tileID.overscaledZ),v=o.tileID.overscaleFactor();return{u_matrix:n,u_camera_to_center_distance:s.cameraToCenterDistance,u_pixels_to_tile_units:l,u_extrude_scale:[s.pixelsToGLUnits[0]/(l*d),s.pixelsToGLUnits[1]/(l*d)],u_overscale_factor:v}},lt=function(n,s,o){return{u_matrix:n,u_inv_matrix:s,u_camera_to_center_distance:o.cameraToCenterDistance,u_viewport_size:[o.width,o.height]}},Ht=function(n,s,o){return void 0===o&&(o=1),{u_matrix:n,u_color:s,u_overlay:0,u_overlay_scale:o}},ke=function(n){return{u_matrix:n}},Ee=function(n,s,o,l){return{u_matrix:n,u_extrude_scale:yr(s,1,o),u_intensity:l}},oi=function(n,s,o){var l=n.transform;return{u_matrix:Lr(n,s,o),u_ratio:1/yr(s,1,l.zoom),u_device_pixel_ratio:h.browser.devicePixelRatio,u_units_to_pixels:[1/l.pixelsToGLUnits[0],1/l.pixelsToGLUnits[1]]}},ni=function(n,s,o,l){return h.extend(oi(n,s,o),{u_image:0,u_image_height:l})},Ki=function(n,s,o,l){var d=n.transform,v=Un(s,d);return{u_matrix:Lr(n,s,o),u_texsize:s.imageAtlasTexture.size,u_ratio:1/yr(s,1,d.zoom),u_device_pixel_ratio:h.browser.devicePixelRatio,u_image:0,u_scale:[v,l.fromScale,l.toScale],u_fade:l.t,u_units_to_pixels:[1/d.pixelsToGLUnits[0],1/d.pixelsToGLUnits[1]]}},bn=function(n,s,o,l,d){var v=n.lineAtlas,w=Un(s,n.transform),N="round"===o.layout.get("line-cap"),ut=v.getDash(l.from,N),bt=v.getDash(l.to,N),Zt=ut.width*d.fromScale,Wt=bt.width*d.toScale;return h.extend(oi(n,s,o),{u_patternscale_a:[w/Zt,-ut.height/2],u_patternscale_b:[w/Wt,-bt.height/2],u_sdfgamma:v.width/(256*Math.min(Zt,Wt)*h.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:ut.y,u_tex_y_b:bt.y,u_mix:d.t})};function Un(n,s){return 1/yr(n,1,s.tileZoom)}function Lr(n,s,o){return n.translatePosMatrix(s.tileID.posMatrix,s,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}var ss=function(n,s,o,l,d){return{u_matrix:n,u_tl_parent:s,u_scale_parent:o,u_buffer_scale:1,u_fade_t:l.mix,u_opacity:l.opacity*d.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:d.paint.get("raster-brightness-min"),u_brightness_high:d.paint.get("raster-brightness-max"),u_saturation_factor:(w=d.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(v=d.paint.get("raster-contrast"),v>0?1/(1-v):1+v),u_spin_weights:Co(d.paint.get("raster-hue-rotate"))};var v,w};function Co(n){n*=Math.PI/180;var s=Math.sin(n),o=Math.cos(n);return[(2*o+1)/3,(-Math.sqrt(3)*s-o+1)/3,(Math.sqrt(3)*s-o+1)/3]}var ro,ks=function(n,s,o,l,d,v,w,N,ut,bt){var Zt=d.transform;return{u_is_size_zoom_constant:+("constant"===n||"source"===n),u_is_size_feature_constant:+("constant"===n||"camera"===n),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:Zt.cameraToCenterDistance,u_pitch:Zt.pitch/360*2*Math.PI,u_rotate_symbol:+o,u_aspect_ratio:Zt.width/Zt.height,u_fade_change:d.options.fadeDuration?d.symbolFadeChange:1,u_matrix:v,u_label_plane_matrix:w,u_coord_matrix:N,u_is_text:+ut,u_pitch_with_map:+l,u_texsize:bt,u_texture:0}},Ao=function(n,s,o,l,d,v,w,N,ut,bt,Zt){var Wt=d.transform;return h.extend(ks(n,s,o,l,d,v,w,N,ut,bt),{u_gamma_scale:l?Math.cos(Wt._pitch)*Wt.cameraToCenterDistance:1,u_device_pixel_ratio:h.browser.devicePixelRatio,u_is_halo:+Zt})},Ns=function(n,s,o,l,d,v,w,N,ut,bt){return h.extend(Ao(n,s,o,l,d,v,w,N,!0,ut,!0),{u_texsize_icon:bt,u_texture_icon:1})},Cr=function(n,s,o){return{u_matrix:n,u_opacity:s,u_color:o}},es=function(n,s,o,l,d,v){return h.extend((N=v,bt=d,Zt=(ut=o).imageManager.getPattern((w=l).from.toString()),Wt=ut.imageManager.getPattern(w.to.toString()),me=(Kt=ut.imageManager.getPixelSize()).width,ce=Kt.height,_e=Math.pow(2,bt.tileID.overscaledZ),ve=(ae=bt.tileSize*Math.pow(2,ut.transform.tileZoom)/_e)*(bt.tileID.canonical.x+bt.tileID.wrap*_e),Ae=ae*bt.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Zt.tl,u_pattern_br_a:Zt.br,u_pattern_tl_b:Wt.tl,u_pattern_br_b:Wt.br,u_texsize:[me,ce],u_mix:N.t,u_pattern_size_a:Zt.displaySize,u_pattern_size_b:Wt.displaySize,u_scale_a:N.fromScale,u_scale_b:N.toScale,u_tile_units_to_pixels:1/yr(bt,1,ut.transform.tileZoom),u_pixel_coord_upper:[ve>>16,Ae>>16],u_pixel_coord_lower:[65535&ve,65535&Ae]}),{u_matrix:n,u_opacity:s});var w,N,ut,bt,Zt,Wt,Kt,me,ce,_e,ae,ve,Ae},ps={fillExtrusion:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_lightpos:new h.Uniform3f(n,s.u_lightpos),u_lightintensity:new h.Uniform1f(n,s.u_lightintensity),u_lightcolor:new h.Uniform3f(n,s.u_lightcolor),u_vertical_gradient:new h.Uniform1f(n,s.u_vertical_gradient),u_opacity:new h.Uniform1f(n,s.u_opacity)}},fillExtrusionPattern:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_lightpos:new h.Uniform3f(n,s.u_lightpos),u_lightintensity:new h.Uniform1f(n,s.u_lightintensity),u_lightcolor:new h.Uniform3f(n,s.u_lightcolor),u_vertical_gradient:new h.Uniform1f(n,s.u_vertical_gradient),u_height_factor:new h.Uniform1f(n,s.u_height_factor),u_image:new h.Uniform1i(n,s.u_image),u_texsize:new h.Uniform2f(n,s.u_texsize),u_pixel_coord_upper:new h.Uniform2f(n,s.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(n,s.u_pixel_coord_lower),u_scale:new h.Uniform3f(n,s.u_scale),u_fade:new h.Uniform1f(n,s.u_fade),u_opacity:new h.Uniform1f(n,s.u_opacity)}},fill:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix)}},fillPattern:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_image:new h.Uniform1i(n,s.u_image),u_texsize:new h.Uniform2f(n,s.u_texsize),u_pixel_coord_upper:new h.Uniform2f(n,s.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(n,s.u_pixel_coord_lower),u_scale:new h.Uniform3f(n,s.u_scale),u_fade:new h.Uniform1f(n,s.u_fade)}},fillOutline:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_world:new h.Uniform2f(n,s.u_world)}},fillOutlinePattern:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_world:new h.Uniform2f(n,s.u_world),u_image:new h.Uniform1i(n,s.u_image),u_texsize:new h.Uniform2f(n,s.u_texsize),u_pixel_coord_upper:new h.Uniform2f(n,s.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(n,s.u_pixel_coord_lower),u_scale:new h.Uniform3f(n,s.u_scale),u_fade:new h.Uniform1f(n,s.u_fade)}},circle:function(n,s){return{u_camera_to_center_distance:new h.Uniform1f(n,s.u_camera_to_center_distance),u_scale_with_map:new h.Uniform1i(n,s.u_scale_with_map),u_pitch_with_map:new h.Uniform1i(n,s.u_pitch_with_map),u_extrude_scale:new h.Uniform2f(n,s.u_extrude_scale),u_device_pixel_ratio:new h.Uniform1f(n,s.u_device_pixel_ratio),u_matrix:new h.UniformMatrix4f(n,s.u_matrix)}},collisionBox:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_camera_to_center_distance:new h.Uniform1f(n,s.u_camera_to_center_distance),u_pixels_to_tile_units:new h.Uniform1f(n,s.u_pixels_to_tile_units),u_extrude_scale:new h.Uniform2f(n,s.u_extrude_scale),u_overscale_factor:new h.Uniform1f(n,s.u_overscale_factor)}},collisionCircle:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_inv_matrix:new h.UniformMatrix4f(n,s.u_inv_matrix),u_camera_to_center_distance:new h.Uniform1f(n,s.u_camera_to_center_distance),u_viewport_size:new h.Uniform2f(n,s.u_viewport_size)}},debug:function(n,s){return{u_color:new h.UniformColor(n,s.u_color),u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_overlay:new h.Uniform1i(n,s.u_overlay),u_overlay_scale:new h.Uniform1f(n,s.u_overlay_scale)}},clippingMask:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix)}},heatmap:function(n,s){return{u_extrude_scale:new h.Uniform1f(n,s.u_extrude_scale),u_intensity:new h.Uniform1f(n,s.u_intensity),u_matrix:new h.UniformMatrix4f(n,s.u_matrix)}},heatmapTexture:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_world:new h.Uniform2f(n,s.u_world),u_image:new h.Uniform1i(n,s.u_image),u_color_ramp:new h.Uniform1i(n,s.u_color_ramp),u_opacity:new h.Uniform1f(n,s.u_opacity)}},hillshade:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_image:new h.Uniform1i(n,s.u_image),u_latrange:new h.Uniform2f(n,s.u_latrange),u_light:new h.Uniform2f(n,s.u_light),u_shadow:new h.UniformColor(n,s.u_shadow),u_highlight:new h.UniformColor(n,s.u_highlight),u_accent:new h.UniformColor(n,s.u_accent)}},hillshadePrepare:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_image:new h.Uniform1i(n,s.u_image),u_dimension:new h.Uniform2f(n,s.u_dimension),u_zoom:new h.Uniform1f(n,s.u_zoom),u_unpack:new h.Uniform4f(n,s.u_unpack)}},line:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_ratio:new h.Uniform1f(n,s.u_ratio),u_device_pixel_ratio:new h.Uniform1f(n,s.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(n,s.u_units_to_pixels)}},lineGradient:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_ratio:new h.Uniform1f(n,s.u_ratio),u_device_pixel_ratio:new h.Uniform1f(n,s.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(n,s.u_units_to_pixels),u_image:new h.Uniform1i(n,s.u_image),u_image_height:new h.Uniform1f(n,s.u_image_height)}},linePattern:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_texsize:new h.Uniform2f(n,s.u_texsize),u_ratio:new h.Uniform1f(n,s.u_ratio),u_device_pixel_ratio:new h.Uniform1f(n,s.u_device_pixel_ratio),u_image:new h.Uniform1i(n,s.u_image),u_units_to_pixels:new h.Uniform2f(n,s.u_units_to_pixels),u_scale:new h.Uniform3f(n,s.u_scale),u_fade:new h.Uniform1f(n,s.u_fade)}},lineSDF:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_ratio:new h.Uniform1f(n,s.u_ratio),u_device_pixel_ratio:new h.Uniform1f(n,s.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(n,s.u_units_to_pixels),u_patternscale_a:new h.Uniform2f(n,s.u_patternscale_a),u_patternscale_b:new h.Uniform2f(n,s.u_patternscale_b),u_sdfgamma:new h.Uniform1f(n,s.u_sdfgamma),u_image:new h.Uniform1i(n,s.u_image),u_tex_y_a:new h.Uniform1f(n,s.u_tex_y_a),u_tex_y_b:new h.Uniform1f(n,s.u_tex_y_b),u_mix:new h.Uniform1f(n,s.u_mix)}},raster:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_tl_parent:new h.Uniform2f(n,s.u_tl_parent),u_scale_parent:new h.Uniform1f(n,s.u_scale_parent),u_buffer_scale:new h.Uniform1f(n,s.u_buffer_scale),u_fade_t:new h.Uniform1f(n,s.u_fade_t),u_opacity:new h.Uniform1f(n,s.u_opacity),u_image0:new h.Uniform1i(n,s.u_image0),u_image1:new h.Uniform1i(n,s.u_image1),u_brightness_low:new h.Uniform1f(n,s.u_brightness_low),u_brightness_high:new h.Uniform1f(n,s.u_brightness_high),u_saturation_factor:new h.Uniform1f(n,s.u_saturation_factor),u_contrast_factor:new h.Uniform1f(n,s.u_contrast_factor),u_spin_weights:new h.Uniform3f(n,s.u_spin_weights)}},symbolIcon:function(n,s){return{u_is_size_zoom_constant:new h.Uniform1i(n,s.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(n,s.u_is_size_feature_constant),u_size_t:new h.Uniform1f(n,s.u_size_t),u_size:new h.Uniform1f(n,s.u_size),u_camera_to_center_distance:new h.Uniform1f(n,s.u_camera_to_center_distance),u_pitch:new h.Uniform1f(n,s.u_pitch),u_rotate_symbol:new h.Uniform1i(n,s.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(n,s.u_aspect_ratio),u_fade_change:new h.Uniform1f(n,s.u_fade_change),u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(n,s.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(n,s.u_coord_matrix),u_is_text:new h.Uniform1i(n,s.u_is_text),u_pitch_with_map:new h.Uniform1i(n,s.u_pitch_with_map),u_texsize:new h.Uniform2f(n,s.u_texsize),u_texture:new h.Uniform1i(n,s.u_texture)}},symbolSDF:function(n,s){return{u_is_size_zoom_constant:new h.Uniform1i(n,s.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(n,s.u_is_size_feature_constant),u_size_t:new h.Uniform1f(n,s.u_size_t),u_size:new h.Uniform1f(n,s.u_size),u_camera_to_center_distance:new h.Uniform1f(n,s.u_camera_to_center_distance),u_pitch:new h.Uniform1f(n,s.u_pitch),u_rotate_symbol:new h.Uniform1i(n,s.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(n,s.u_aspect_ratio),u_fade_change:new h.Uniform1f(n,s.u_fade_change),u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(n,s.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(n,s.u_coord_matrix),u_is_text:new h.Uniform1i(n,s.u_is_text),u_pitch_with_map:new h.Uniform1i(n,s.u_pitch_with_map),u_texsize:new h.Uniform2f(n,s.u_texsize),u_texture:new h.Uniform1i(n,s.u_texture),u_gamma_scale:new h.Uniform1f(n,s.u_gamma_scale),u_device_pixel_ratio:new h.Uniform1f(n,s.u_device_pixel_ratio),u_is_halo:new h.Uniform1i(n,s.u_is_halo)}},symbolTextAndIcon:function(n,s){return{u_is_size_zoom_constant:new h.Uniform1i(n,s.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(n,s.u_is_size_feature_constant),u_size_t:new h.Uniform1f(n,s.u_size_t),u_size:new h.Uniform1f(n,s.u_size),u_camera_to_center_distance:new h.Uniform1f(n,s.u_camera_to_center_distance),u_pitch:new h.Uniform1f(n,s.u_pitch),u_rotate_symbol:new h.Uniform1i(n,s.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(n,s.u_aspect_ratio),u_fade_change:new h.Uniform1f(n,s.u_fade_change),u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(n,s.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(n,s.u_coord_matrix),u_is_text:new h.Uniform1i(n,s.u_is_text),u_pitch_with_map:new h.Uniform1i(n,s.u_pitch_with_map),u_texsize:new h.Uniform2f(n,s.u_texsize),u_texsize_icon:new h.Uniform2f(n,s.u_texsize_icon),u_texture:new h.Uniform1i(n,s.u_texture),u_texture_icon:new h.Uniform1i(n,s.u_texture_icon),u_gamma_scale:new h.Uniform1f(n,s.u_gamma_scale),u_device_pixel_ratio:new h.Uniform1f(n,s.u_device_pixel_ratio),u_is_halo:new h.Uniform1i(n,s.u_is_halo)}},background:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_opacity:new h.Uniform1f(n,s.u_opacity),u_color:new h.UniformColor(n,s.u_color)}},backgroundPattern:function(n,s){return{u_matrix:new h.UniformMatrix4f(n,s.u_matrix),u_opacity:new h.Uniform1f(n,s.u_opacity),u_image:new h.Uniform1i(n,s.u_image),u_pattern_tl_a:new h.Uniform2f(n,s.u_pattern_tl_a),u_pattern_br_a:new h.Uniform2f(n,s.u_pattern_br_a),u_pattern_tl_b:new h.Uniform2f(n,s.u_pattern_tl_b),u_pattern_br_b:new h.Uniform2f(n,s.u_pattern_br_b),u_texsize:new h.Uniform2f(n,s.u_texsize),u_mix:new h.Uniform1f(n,s.u_mix),u_pattern_size_a:new h.Uniform2f(n,s.u_pattern_size_a),u_pattern_size_b:new h.Uniform2f(n,s.u_pattern_size_b),u_scale_a:new h.Uniform1f(n,s.u_scale_a),u_scale_b:new h.Uniform1f(n,s.u_scale_b),u_pixel_coord_upper:new h.Uniform2f(n,s.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(n,s.u_pixel_coord_lower),u_tile_units_to_pixels:new h.Uniform1f(n,s.u_tile_units_to_pixels)}}};function Xs(n,s,o,l,d,v,w){for(var N=n.context,ut=N.gl,bt=n.useProgram("collisionBox"),Zt=[],Wt=0,Kt=0,me=0;me<l.length;me++){var ce=l[me],_e=s.getTile(ce),ae=_e.getBucket(o);if(ae){var ve=ce.posMatrix;0===d[0]&&0===d[1]||(ve=n.translatePosMatrix(ce.posMatrix,_e,d,v));var Ae=w?ae.textCollisionBox:ae.iconCollisionBox,Be=ae.collisionCircleArray;if(Be.length>0){var Qe=h.create(),Xe=ve;h.mul(Qe,ae.placementInvProjMatrix,n.transform.glCoordMatrix),h.mul(Qe,Qe,ae.placementViewportMatrix),Zt.push({circleArray:Be,circleOffset:Kt,transform:Xe,invTransform:Qe}),Kt=Wt+=Be.length/4}Ae&&bt.draw(N,ut.LINES,Yt.disabled,oe.disabled,n.colorModeForRenderPass(),Te.disabled,z(ve,n.transform,_e),o.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,null,n.transform.zoom,null,null,Ae.collisionVertexBuffer)}}if(w&&Zt.length){var ti=n.useProgram("collisionCircle"),di=new h.StructArrayLayout2f1f2i16;di.resize(4*Wt),di._trim();for(var Ei=0,Ti=0,qi=Zt;Ti<qi.length;Ti+=1)for(var Qi=qi[Ti],on=0;on<Qi.circleArray.length/4;on++){var nn=4*on,ar=Qi.circleArray[nn+0],Zi=Qi.circleArray[nn+1],wn=Qi.circleArray[nn+2],Bn=Qi.circleArray[nn+3];di.emplace(Ei++,ar,Zi,wn,Bn,0),di.emplace(Ei++,ar,Zi,wn,Bn,1),di.emplace(Ei++,ar,Zi,wn,Bn,2),di.emplace(Ei++,ar,Zi,wn,Bn,3)}(!ro||ro.length<2*Wt)&&(ro=function(ho){var hs=2*ho,Yo=new h.StructArrayLayout3ui6;Yo.resize(hs),Yo._trim();for(var oo=0;oo<hs;oo++){var _o=6*oo;Yo.uint16[_o+0]=4*oo+0,Yo.uint16[_o+1]=4*oo+1,Yo.uint16[_o+2]=4*oo+2,Yo.uint16[_o+3]=4*oo+2,Yo.uint16[_o+4]=4*oo+3,Yo.uint16[_o+5]=4*oo+0}return Yo}(Wt));for(var _n=N.createIndexBuffer(ro,!0),gn=N.createVertexBuffer(di,h.collisionCircleLayout.members,!0),Dn=0,dn=Zt;Dn<dn.length;Dn+=1){var hn=dn[Dn],jo=lt(hn.transform,hn.invTransform,n.transform);ti.draw(N,ut.TRIANGLES,Yt.disabled,oe.disabled,n.colorModeForRenderPass(),Te.disabled,jo,o.id,gn,_n,h.SegmentVector.simpleSegment(0,2*hn.circleOffset,hn.circleArray.length,hn.circleArray.length/2),null,n.transform.zoom,null,null,null)}gn.destroy(),_n.destroy()}}var Ho=h.identity(new Float32Array(16));function ba(n,s,o,l,d,v){var w=h.getAnchorAlignment(n),N=-(w.horizontalAlign-.5)*s,ut=-(w.verticalAlign-.5)*o,bt=h.evaluateVariableOffset(n,l);return new h.Point((N/d+bt[0])*v,(ut/d+bt[1])*v)}function ma(n,s,o,l,d,v,w,N,ut,bt,Zt){var Wt=n.text.placedSymbolArray,Kt=n.text.dynamicLayoutVertexArray,me=n.icon.dynamicLayoutVertexArray,ce={};Kt.clear();for(var _e=0;_e<Wt.length;_e++){var ae=Wt.get(_e),ve=ae.hidden||!ae.crossTileID||n.allowVerticalPlacement&&!ae.placedOrientation?null:l[ae.crossTileID];if(ve){var Ae=new h.Point(ae.anchorX,ae.anchorY),Be=kn(Ae,o?N:w),Qe=Gi(v.cameraToCenterDistance,Be.signedDistanceFromCamera),Xe=d.evaluateSizeForFeature(n.textSizeData,bt,ae)*Qe/h.ONE_EM;o&&(Xe*=n.tilePixelRatio/ut);for(var ti=ba(ve.anchor,ve.width,ve.height,ve.textOffset,ve.textBoxScale,Xe),di=o?kn(Ae.add(ti),w).point:Be.point.add(s?ti.rotate(-v.angle):ti),Ei=n.allowVerticalPlacement&&ae.placedOrientation===h.WritingMode.vertical?Math.PI/2:0,Ti=0;Ti<ae.numGlyphs;Ti++)h.addDynamicAttributes(Kt,di,Ei);Zt&&ae.associatedIconIndex>=0&&(ce[ae.associatedIconIndex]={shiftedAnchor:di,angle:Ei})}else Gr(ae.numGlyphs,Kt)}if(Zt){me.clear();for(var qi=n.icon.placedSymbolArray,Qi=0;Qi<qi.length;Qi++){var on=qi.get(Qi);if(on.hidden)Gr(on.numGlyphs,me);else{var nn=ce[Qi];if(nn)for(var ar=0;ar<on.numGlyphs;ar++)h.addDynamicAttributes(me,nn.shiftedAnchor,nn.angle);else Gr(on.numGlyphs,me)}}n.icon.dynamicLayoutVertexBuffer.updateData(me)}n.text.dynamicLayoutVertexBuffer.updateData(Kt)}function te(n,s,o){return o.iconsInText&&s?"symbolTextAndIcon":n?"symbolSDF":"symbolIcon"}function we(n,s,o,l,d,v,w,N,ut,bt,Zt,Wt){for(var Kt=n.context,me=Kt.gl,ce=n.transform,_e="map"===N,ae="map"===ut,ve=_e&&"point"!==o.layout.get("symbol-placement"),Ae=_e&&!ae&&!ve,Be=void 0!==o.layout.get("symbol-sort-key").constantOr(1),Qe=!1,Xe=n.depthModeForSublayer(0,Yt.ReadOnly),ti=o.layout.get("text-variable-anchor"),di=[],Ei=0,Ti=l;Ei<Ti.length;Ei+=1){var qi=Ti[Ei],Qi=s.getTile(qi),on=Qi.getBucket(o);if(on){var nn=d?on.text:on.icon;if(nn&&nn.segments.get().length){var ar=nn.programConfigurations.get(o.id),Zi=d||on.sdfIcons,wn=d?on.textSizeData:on.iconSizeData,Bn=ae||0!==ce.pitch,_n=n.useProgram(te(Zi,d,on),ar),gn=h.evaluateSizeForZoom(wn,ce.zoom),Dn=void 0,dn=[0,0],hn=void 0,jo=void 0,ho=null,hs=void 0;if(d)hn=Qi.glyphAtlasTexture,jo=me.LINEAR,Dn=Qi.glyphAtlasTexture.size,on.iconsInText&&(dn=Qi.imageAtlasTexture.size,ho=Qi.imageAtlasTexture,hs=Bn||n.options.rotating||n.options.zooming||"composite"===wn.kind||"camera"===wn.kind?me.LINEAR:me.NEAREST);else{var Yo=1!==o.layout.get("icon-size").constantOr(0)||on.iconsNeedLinear;hn=Qi.imageAtlasTexture,jo=Zi||n.options.rotating||n.options.zooming||Yo||Bn?me.LINEAR:me.NEAREST,Dn=Qi.imageAtlasTexture.size}var oo=yr(Qi,1,n.transform.zoom),_o=Mr(qi.posMatrix,ae,_e,n.transform,oo),zs=Jn(qi.posMatrix,ae,_e,n.transform,oo),ds=ti&&on.hasTextData(),ka="none"!==o.layout.get("icon-text-fit")&&ds&&on.hasIconData();ve&&gs(on,qi.posMatrix,n,d,_o,zs,ae,bt);var bs=n.translatePosMatrix(qi.posMatrix,Qi,v,w),ra=ve||d&&ti||ka?Ho:_o,Js=n.translatePosMatrix(zs,Qi,v,w,!0),hl=Zi&&0!==o.paint.get(d?"text-halo-width":"icon-halo-width").constantOr(1),Ja={program:_n,buffers:nn,uniformValues:Zi?on.iconsInText?Ns(wn.kind,gn,Ae,ae,n,bs,ra,Js,Dn,dn):Ao(wn.kind,gn,Ae,ae,n,bs,ra,Js,d,Dn,!0):ks(wn.kind,gn,Ae,ae,n,bs,ra,Js,d,Dn),atlasTexture:hn,atlasTextureIcon:ho,atlasInterpolation:jo,atlasInterpolationIcon:hs,isSDF:Zi,hasHalo:hl};if(Be&&on.canOverlap){Qe=!0;for(var Ma=0,$a=nn.segments.get();Ma<$a.length;Ma+=1){var ul=$a[Ma];di.push({segments:new h.SegmentVector([ul]),sortKey:ul.sortKey,state:Ja})}}else di.push({segments:nn.segments,sortKey:0,state:Ja})}}}Qe&&di.sort(function(Pa,Fa){return Pa.sortKey-Fa.sortKey});for(var ca=0,cl=di;ca<cl.length;ca+=1){var pa=cl[ca],Fo=pa.state;if(Kt.activeTexture.set(me.TEXTURE0),Fo.atlasTexture.bind(Fo.atlasInterpolation,me.CLAMP_TO_EDGE),Fo.atlasTextureIcon&&(Kt.activeTexture.set(me.TEXTURE1),Fo.atlasTextureIcon&&Fo.atlasTextureIcon.bind(Fo.atlasInterpolationIcon,me.CLAMP_TO_EDGE)),Fo.isSDF){var ga=Fo.uniformValues;Fo.hasHalo&&(ga.u_is_halo=1,ze(Fo.buffers,pa.segments,o,n,Fo.program,Xe,Zt,Wt,ga)),ga.u_is_halo=0}ze(Fo.buffers,pa.segments,o,n,Fo.program,Xe,Zt,Wt,Fo.uniformValues)}}function ze(n,s,o,l,d,v,w,N,ut){var bt=l.context;d.draw(bt,bt.gl.TRIANGLES,v,w,N,Te.disabled,ut,o.id,n.layoutVertexBuffer,n.indexBuffer,s,o.paint,l.transform.zoom,n.programConfigurations.get(o.id),n.dynamicLayoutVertexBuffer,n.opacityVertexBuffer)}function ui(n,s,o,l,d,v,w){var N,ut,bt,Zt,Wt,Kt=n.context.gl,me=o.paint.get("fill-pattern"),ce=me&&me.constantOr(1),_e=o.getCrossfadeParameters();w?(ut=ce&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",N=Kt.LINES):(ut=ce?"fillPattern":"fill",N=Kt.TRIANGLES);for(var ae=0,ve=l;ae<ve.length;ae+=1){var Ae=ve[ae],Be=s.getTile(Ae);if(!ce||Be.patternsLoaded()){var Qe=Be.getBucket(o);if(Qe){var Xe=Qe.programConfigurations.get(o.id),ti=n.useProgram(ut,Xe);ce&&(n.context.activeTexture.set(Kt.TEXTURE0),Be.imageAtlasTexture.bind(Kt.LINEAR,Kt.CLAMP_TO_EDGE),Xe.updatePaintBuffers(_e));var di=me.constantOr(null);if(di&&Be.imageAtlas){var Ei=Be.imageAtlas,Ti=Ei.patternPositions[di.to.toString()],qi=Ei.patternPositions[di.from.toString()];Ti&&qi&&Xe.setConstantPatternPositions(Ti,qi)}var Qi=n.translatePosMatrix(Ae.posMatrix,Be,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"));if(w){Zt=Qe.indexBuffer2,Wt=Qe.segments2;var on=[Kt.drawingBufferWidth,Kt.drawingBufferHeight];bt="fillOutlinePattern"===ut&&ce?u(Qi,n,_e,Be,on):r(Qi,on)}else Zt=Qe.indexBuffer,Wt=Qe.segments,bt=ce?Fs(Qi,n,_e,Be):Go(Qi);ti.draw(n.context,N,d,n.stencilModeForClipping(Ae),v,Te.disabled,bt,o.id,Qe.layoutVertexBuffer,Zt,Wt,o.paint,n.transform.zoom,Xe)}}}}function Ve(n,s,o,l,d,v,w){for(var N=n.context,ut=N.gl,bt=o.paint.get("fill-extrusion-pattern"),Zt=bt.constantOr(1),Wt=o.getCrossfadeParameters(),Kt=o.paint.get("fill-extrusion-opacity"),me=0,ce=l;me<ce.length;me+=1){var _e=ce[me],ae=s.getTile(_e),ve=ae.getBucket(o);if(ve){var Ae=ve.programConfigurations.get(o.id),Be=n.useProgram(Zt?"fillExtrusionPattern":"fillExtrusion",Ae);Zt&&(n.context.activeTexture.set(ut.TEXTURE0),ae.imageAtlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),Ae.updatePaintBuffers(Wt));var Qe=bt.constantOr(null);if(Qe&&ae.imageAtlas){var Xe=ae.imageAtlas,ti=Xe.patternPositions[Qe.to.toString()],di=Xe.patternPositions[Qe.from.toString()];ti&&di&&Ae.setConstantPatternPositions(ti,di)}var Ei=n.translatePosMatrix(_e.posMatrix,ae,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),Ti=o.paint.get("fill-extrusion-vertical-gradient"),qi=Zt?os(Ei,n,Ti,Kt,_e,Wt,ae):Es(Ei,n,Ti,Kt);Be.draw(N,N.gl.TRIANGLES,d,v,w,Te.backCCW,qi,o.id,ve.layoutVertexBuffer,ve.indexBuffer,ve.segments,o.paint,n.transform.zoom,Ae)}}}function yi(n,s,o,l,d,v){var w=n.context,N=w.gl,ut=s.fbo;if(ut){var bt=n.useProgram("hillshade");w.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,ut.colorAttachment.get());var Zt=function(Wt,Kt,me){var ce=me.paint.get("hillshade-shadow-color"),_e=me.paint.get("hillshade-highlight-color"),ae=me.paint.get("hillshade-accent-color"),ve=me.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===me.paint.get("hillshade-illumination-anchor")&&(ve-=Wt.transform.angle);var Ae,Be,Qe,Xe=!Wt.options.moving;return{u_matrix:Wt.transform.calculatePosMatrix(Kt.tileID.toUnwrapped(),Xe),u_image:0,u_latrange:(Ae=Kt.tileID,Be=Math.pow(2,Ae.canonical.z),Qe=Ae.canonical.y,[new h.MercatorCoordinate(0,Qe/Be).toLngLat().lat,new h.MercatorCoordinate(0,(Qe+1)/Be).toLngLat().lat]),u_light:[me.paint.get("hillshade-exaggeration"),ve],u_shadow:ce,u_highlight:_e,u_accent:ae}}(n,s,o);bt.draw(w,N.TRIANGLES,l,d,v,Te.disabled,Zt,o.id,n.rasterBoundsBuffer,n.quadTriangleIndexBuffer,n.rasterBoundsSegments)}}function Mi(n,s,o,l,d,v){var _e,ae,ve,Ae,w=n.context,N=w.gl,ut=s.dem;if(ut&&ut.data){var bt=ut.dim,Zt=ut.stride,Wt=ut.getPixels();if(w.activeTexture.set(N.TEXTURE1),w.pixelStoreUnpackPremultiplyAlpha.set(!1),s.demTexture=s.demTexture||n.getTileTexture(Zt),s.demTexture){var Kt=s.demTexture;Kt.update(Wt,{premultiply:!1}),Kt.bind(N.NEAREST,N.CLAMP_TO_EDGE)}else s.demTexture=new h.Texture(w,Wt,N.RGBA,{premultiply:!1}),s.demTexture.bind(N.NEAREST,N.CLAMP_TO_EDGE);w.activeTexture.set(N.TEXTURE0);var me=s.fbo;if(!me){var ce=new h.Texture(w,{width:bt,height:bt,data:null},N.RGBA);ce.bind(N.LINEAR,N.CLAMP_TO_EDGE),(me=s.fbo=w.createFramebuffer(bt,bt,!0)).colorAttachment.set(ce.texture)}w.bindFramebuffer.set(me.framebuffer),w.viewport.set([0,0,bt,bt]),n.useProgram("hillshadePrepare").draw(w,N.TRIANGLES,l,d,v,Te.disabled,(_e=s.tileID,ve=(ae=ut).stride,Ae=h.create(),h.ortho(Ae,0,h.EXTENT,-h.EXTENT,0,0,1),h.translate(Ae,Ae,[0,-h.EXTENT,0]),{u_matrix:Ae,u_image:1,u_dimension:[ve,ve],u_zoom:_e.overscaledZ,u_unpack:ae.getUnpackVector()}),o.id,n.rasterBoundsBuffer,n.quadTriangleIndexBuffer,n.rasterBoundsSegments),s.needsHillshadePrepare=!1}}function ji(n,s,o,l,d){var v=l.paint.get("raster-fade-duration");if(v>0){var w=h.browser.now(),N=(w-n.timeAdded)/v,ut=s?(w-s.timeAdded)/v:-1,bt=o.getSource(),Zt=d.coveringZoomLevel({tileSize:bt.tileSize,roundZoom:bt.roundZoom}),Wt=!s||Math.abs(s.tileID.overscaledZ-Zt)>Math.abs(n.tileID.overscaledZ-Zt),Kt=Wt&&n.refreshedUponExpiration?1:h.clamp(Wt?N:1-ut,0,1);return n.refreshedUponExpiration&&N>=1&&(n.refreshedUponExpiration=!1),s?{opacity:1,mix:1-Kt}:{opacity:Kt,mix:0}}return{opacity:1,mix:0}}var Hi=new h.Color(1,0,0,1),Ln=new h.Color(0,1,0,1),Tn=new h.Color(0,0,1,1),cn=new h.Color(1,0,1,1),At=new h.Color(0,1,1,1);function _(n,s,o,l){Xt(n,0,s+o/2,n.transform.width,o,l)}function it(n,s,o,l){Xt(n,s-o/2,0,o,n.transform.height,l)}function Xt(n,s,o,l,d,v){var w=n.context,N=w.gl;N.enable(N.SCISSOR_TEST),N.scissor(s*h.browser.devicePixelRatio,o*h.browser.devicePixelRatio,l*h.browser.devicePixelRatio,d*h.browser.devicePixelRatio),w.clear({color:v}),N.disable(N.SCISSOR_TEST)}function Pe(n,s,o){var l=n.context,d=l.gl,v=o.posMatrix,w=n.useProgram("debug"),N=Yt.disabled,ut=oe.disabled,bt=n.colorModeForRenderPass();l.activeTexture.set(d.TEXTURE0),n.emptyTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),w.draw(l,d.LINE_STRIP,N,ut,bt,Te.disabled,Ht(v,h.Color.red),"$debug",n.debugBuffer,n.tileBorderIndexBuffer,n.debugSegments);var Zt=s.getTileByID(o.key).latestRawTileData,Wt=Math.floor((Zt&&Zt.byteLength||0)/1024),Kt=s.getTile(o).tileSize,me=512/Math.min(Kt,512)*(o.overscaledZ/n.transform.zoom)*.5,ce=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(ce+=" => "+o.overscaledZ),function(_e,ae){_e.initDebugOverlayCanvas();var ve=_e.debugOverlayCanvas,Ae=_e.context.gl,Be=_e.debugOverlayCanvas.getContext("2d");Be.clearRect(0,0,ve.width,ve.height),Be.shadowColor="white",Be.shadowBlur=2,Be.lineWidth=1.5,Be.strokeStyle="white",Be.textBaseline="top",Be.font="bold 36px Open Sans, sans-serif",Be.fillText(ae,5,5),Be.strokeText(ae,5,5),_e.debugOverlayTexture.update(ve),_e.debugOverlayTexture.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE)}(n,ce+" "+Wt+"kb"),w.draw(l,d.TRIANGLES,N,ut,ge.alphaBlended,Te.disabled,Ht(v,h.Color.transparent,me),"$debug",n.debugBuffer,n.quadTriangleIndexBuffer,n.debugSegments)}var Le={symbol:function(n,s,o,l,d){if("translucent"===n.renderPass){var v=oe.disabled,w=n.colorModeForRenderPass();o.layout.get("text-variable-anchor")&&function(N,ut,bt,Zt,Wt,Kt,me){for(var ce=ut.transform,_e="map"===Wt,ae="map"===Kt,ve=0,Ae=N;ve<Ae.length;ve+=1){var Be=Ae[ve],Qe=Zt.getTile(Be),Xe=Qe.getBucket(bt);if(Xe&&Xe.text&&Xe.text.segments.get().length){var ti=h.evaluateSizeForZoom(Xe.textSizeData,ce.zoom),di=yr(Qe,1,ut.transform.zoom),Ei=Mr(Be.posMatrix,ae,_e,ut.transform,di),Ti="none"!==bt.layout.get("icon-text-fit")&&Xe.hasIconData();if(ti){var qi=Math.pow(2,ce.zoom-Qe.tileID.overscaledZ);ma(Xe,_e,ae,me,h.symbolSize,ce,Ei,Be.posMatrix,qi,ti,Ti)}}}}(l,n,o,s,o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),d),0!==o.paint.get("icon-opacity").constantOr(1)&&we(n,s,o,l,!1,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),o.layout.get("icon-rotation-alignment"),o.layout.get("icon-pitch-alignment"),o.layout.get("icon-keep-upright"),v,w),0!==o.paint.get("text-opacity").constantOr(1)&&we(n,s,o,l,!0,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.layout.get("text-keep-upright"),v,w),s.map.showCollisionBoxes&&(Xs(n,s,o,l,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),!0),Xs(n,s,o,l,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),!1))}},circle:function(n,s,o,l){if("translucent"===n.renderPass){var d=o.paint.get("circle-opacity"),v=o.paint.get("circle-stroke-width"),w=o.paint.get("circle-stroke-opacity"),N=void 0!==o.layout.get("circle-sort-key").constantOr(1);if(0!==d.constantOr(1)||0!==v.constantOr(1)&&0!==w.constantOr(1)){for(var ut=n.context,bt=ut.gl,Zt=n.depthModeForSublayer(0,Yt.ReadOnly),Wt=oe.disabled,Kt=n.colorModeForRenderPass(),me=[],ce=0;ce<l.length;ce++){var _e=l[ce],ae=s.getTile(_e),ve=ae.getBucket(o);if(ve){var Ae=ve.programConfigurations.get(o.id),Be={programConfiguration:Ae,program:n.useProgram("circle",Ae),layoutVertexBuffer:ve.layoutVertexBuffer,indexBuffer:ve.indexBuffer,uniformValues:y(n,_e,ae,o)};if(N)for(var Qe=0,Xe=ve.segments.get();Qe<Xe.length;Qe+=1){var ti=Xe[Qe];me.push({segments:new h.SegmentVector([ti]),sortKey:ti.sortKey,state:Be})}else me.push({segments:ve.segments,sortKey:0,state:Be})}}N&&me.sort(function(Qi,on){return Qi.sortKey-on.sortKey});for(var di=0,Ei=me;di<Ei.length;di+=1){var Ti=Ei[di],qi=Ti.state;qi.program.draw(ut,bt.TRIANGLES,Zt,Wt,Kt,Te.disabled,qi.uniformValues,o.id,qi.layoutVertexBuffer,qi.indexBuffer,Ti.segments,o.paint,n.transform.zoom,qi.programConfiguration)}}}},heatmap:function(n,s,o,l){if(0!==o.paint.get("heatmap-opacity"))if("offscreen"===n.renderPass){var d=n.context,v=d.gl,w=oe.disabled,N=new ge([v.ONE,v.ONE],h.Color.transparent,[!0,!0,!0,!0]);(function(me,ce,_e){var ae=me.gl;me.activeTexture.set(ae.TEXTURE1),me.viewport.set([0,0,ce.width/4,ce.height/4]);var Be,Qe,Xe,ti,di,ve=_e.heatmapFbo;if(ve)ae.bindTexture(ae.TEXTURE_2D,ve.colorAttachment.get()),me.bindFramebuffer.set(ve.framebuffer);else{var Ae=ae.createTexture();ae.bindTexture(ae.TEXTURE_2D,Ae),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_WRAP_S,ae.CLAMP_TO_EDGE),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_WRAP_T,ae.CLAMP_TO_EDGE),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_MIN_FILTER,ae.LINEAR),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_MAG_FILTER,ae.LINEAR),Xe=Ae,ti=ve=_e.heatmapFbo=me.createFramebuffer(ce.width/4,ce.height/4,!1),(di=(Be=me).gl).texImage2D(di.TEXTURE_2D,0,di.RGBA,(Qe=ce).width/4,Qe.height/4,0,di.RGBA,Be.extRenderToTextureHalfFloat?Be.extTextureHalfFloat.HALF_FLOAT_OES:di.UNSIGNED_BYTE,null),ti.colorAttachment.set(Xe)}})(d,n,o),d.clear({color:h.Color.transparent});for(var ut=0;ut<l.length;ut++){var bt=l[ut];if(!s.hasRenderableParent(bt)){var Zt=s.getTile(bt),Wt=Zt.getBucket(o);if(Wt){var Kt=Wt.programConfigurations.get(o.id);n.useProgram("heatmap",Kt).draw(d,v.TRIANGLES,Yt.disabled,w,N,Te.disabled,Ee(bt.posMatrix,Zt,n.transform.zoom,o.paint.get("heatmap-intensity")),o.id,Wt.layoutVertexBuffer,Wt.indexBuffer,Wt.segments,o.paint,n.transform.zoom,Kt)}}}d.viewport.set([0,0,n.width,n.height])}else"translucent"===n.renderPass&&(n.context.setColorMode(n.colorModeForRenderPass()),function(me,ce){var _e=me.context,ae=_e.gl,ve=ce.heatmapFbo;if(ve){_e.activeTexture.set(ae.TEXTURE0),ae.bindTexture(ae.TEXTURE_2D,ve.colorAttachment.get()),_e.activeTexture.set(ae.TEXTURE1);var Ae=ce.colorRampTexture;Ae||(Ae=ce.colorRampTexture=new h.Texture(_e,ce.colorRamp,ae.RGBA)),Ae.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),me.useProgram("heatmapTexture").draw(_e,ae.TRIANGLES,Yt.disabled,oe.disabled,me.colorModeForRenderPass(),Te.disabled,function(Be,Qe,Xe,ti){var di=h.create();h.ortho(di,0,Be.width,Be.height,0,0,1);var Ei=Be.context.gl;return{u_matrix:di,u_world:[Ei.drawingBufferWidth,Ei.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Qe.paint.get("heatmap-opacity")}}(me,ce),ce.id,me.viewportBuffer,me.quadTriangleIndexBuffer,me.viewportSegments,ce.paint,me.transform.zoom)}}(n,o))},line:function(n,s,o,l){if("translucent"===n.renderPass){var d=o.paint.get("line-opacity"),v=o.paint.get("line-width");if(0!==d.constantOr(1)&&0!==v.constantOr(1))for(var w=n.depthModeForSublayer(0,Yt.ReadOnly),N=n.colorModeForRenderPass(),ut=o.paint.get("line-dasharray"),bt=o.paint.get("line-pattern"),Zt=bt.constantOr(1),Wt=o.paint.get("line-gradient"),Kt=o.getCrossfadeParameters(),me=Zt?"linePattern":ut?"lineSDF":Wt?"lineGradient":"line",ce=n.context,_e=ce.gl,ae=!0,ve=0,Ae=l;ve<Ae.length;ve+=1){var Be=Ae[ve],Qe=s.getTile(Be);if(!Zt||Qe.patternsLoaded()){var Xe=Qe.getBucket(o);if(Xe){var ti=Xe.programConfigurations.get(o.id),di=n.context.program.get(),Ei=n.useProgram(me,ti),Ti=ae||Ei.program!==di,qi=bt.constantOr(null);if(qi&&Qe.imageAtlas){var Qi=Qe.imageAtlas,on=Qi.patternPositions[qi.to.toString()],nn=Qi.patternPositions[qi.from.toString()];on&&nn&&ti.setConstantPatternPositions(on,nn)}var ar=Zt?Ki(n,Qe,o,Kt):ut?bn(n,Qe,o,ut,Kt):Wt?ni(n,Qe,o,Xe.lineClipsArray.length):oi(n,Qe,o);if(Zt)ce.activeTexture.set(_e.TEXTURE0),Qe.imageAtlasTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE),ti.updatePaintBuffers(Kt);else if(ut&&(Ti||n.lineAtlas.dirty))ce.activeTexture.set(_e.TEXTURE0),n.lineAtlas.bind(ce);else if(Wt){var Zi=Xe.gradients[o.id],wn=Zi.texture;if(o.gradientVersion!==Zi.version){var Bn=256;if(o.stepInterpolant){var _n=s.getSource().maxzoom,gn=Be.canonical.z===_n?Math.ceil(1<<n.transform.maxZoom-Be.canonical.z):1;Bn=h.clamp(h.nextPowerOfTwo(Xe.maxLineLength/h.EXTENT*1024*gn),256,ce.maxTextureSize)}Zi.gradient=h.renderColorRamp({expression:o.gradientExpression(),evaluationKey:"lineProgress",resolution:Bn,image:Zi.gradient||void 0,clips:Xe.lineClipsArray}),Zi.texture?Zi.texture.update(Zi.gradient):Zi.texture=new h.Texture(ce,Zi.gradient,_e.RGBA),Zi.version=o.gradientVersion,wn=Zi.texture}ce.activeTexture.set(_e.TEXTURE0),wn.bind(o.stepInterpolant?_e.NEAREST:_e.LINEAR,_e.CLAMP_TO_EDGE)}Ei.draw(ce,_e.TRIANGLES,w,n.stencilModeForClipping(Be),N,Te.disabled,ar,o.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,o.paint,n.transform.zoom,ti,Xe.layoutVertexBuffer2),ae=!1}}}}},fill:function(n,s,o,l){var d=o.paint.get("fill-color"),v=o.paint.get("fill-opacity");if(0!==v.constantOr(1)){var w=n.colorModeForRenderPass(),N=o.paint.get("fill-pattern"),ut=n.opaquePassEnabledForLayer()&&!N.constantOr(1)&&1===d.constantOr(h.Color.transparent).a&&1===v.constantOr(0)?"opaque":"translucent";if(n.renderPass===ut){var bt=n.depthModeForSublayer(1,"opaque"===n.renderPass?Yt.ReadWrite:Yt.ReadOnly);ui(n,s,o,l,bt,w,!1)}if("translucent"===n.renderPass&&o.paint.get("fill-antialias")){var Zt=n.depthModeForSublayer(o.getPaintProperty("fill-outline-color")?2:0,Yt.ReadOnly);ui(n,s,o,l,Zt,w,!0)}}},"fill-extrusion":function(n,s,o,l){var d=o.paint.get("fill-extrusion-opacity");if(0!==d&&"translucent"===n.renderPass){var v=new Yt(n.context.gl.LEQUAL,Yt.ReadWrite,n.depthRangeFor3D);if(1!==d||o.paint.get("fill-extrusion-pattern").constantOr(1))Ve(n,s,o,l,v,oe.disabled,ge.disabled),Ve(n,s,o,l,v,n.stencilModeFor3D(),n.colorModeForRenderPass());else{var w=n.colorModeForRenderPass();Ve(n,s,o,l,v,oe.disabled,w)}}},hillshade:function(n,s,o,l){if("offscreen"===n.renderPass||"translucent"===n.renderPass){for(var d=n.context,v=n.depthModeForSublayer(0,Yt.ReadOnly),w=n.colorModeForRenderPass(),N="translucent"===n.renderPass?n.stencilConfigForOverlap(l):[{},l],ut=N[0],bt=0,Zt=N[1];bt<Zt.length;bt+=1){var Wt=Zt[bt],Kt=s.getTile(Wt);Kt.needsHillshadePrepare&&"offscreen"===n.renderPass?Mi(n,Kt,o,v,oe.disabled,w):"translucent"===n.renderPass&&yi(n,Kt,o,v,ut[Wt.overscaledZ],w)}d.viewport.set([0,0,n.width,n.height])}},raster:function(n,s,o,l){if("translucent"===n.renderPass&&0!==o.paint.get("raster-opacity")&&l.length)for(var d=n.context,v=d.gl,w=s.getSource(),N=n.useProgram("raster"),ut=n.colorModeForRenderPass(),bt=w instanceof Ce?[{},l]:n.stencilConfigForOverlap(l),Zt=bt[0],Wt=bt[1],Kt=Wt[Wt.length-1].overscaledZ,me=!n.options.moving,ce=0,_e=Wt;ce<_e.length;ce+=1){var ae=_e[ce],ve=n.depthModeForSublayer(ae.overscaledZ-Kt,1===o.paint.get("raster-opacity")?Yt.ReadWrite:Yt.ReadOnly,v.LESS),Ae=s.getTile(ae),Be=n.transform.calculatePosMatrix(ae.toUnwrapped(),me);Ae.registerFadeDuration(o.paint.get("raster-fade-duration"));var Qe=s.findLoadedParent(ae,0),Xe=ji(Ae,Qe,s,o,n.transform),ti=void 0,di=void 0,Ei="nearest"===o.paint.get("raster-resampling")?v.NEAREST:v.LINEAR;d.activeTexture.set(v.TEXTURE0),Ae.texture.bind(Ei,v.CLAMP_TO_EDGE,v.LINEAR_MIPMAP_NEAREST),d.activeTexture.set(v.TEXTURE1),Qe?(Qe.texture.bind(Ei,v.CLAMP_TO_EDGE,v.LINEAR_MIPMAP_NEAREST),ti=Math.pow(2,Qe.tileID.overscaledZ-Ae.tileID.overscaledZ),di=[Ae.tileID.canonical.x*ti%1,Ae.tileID.canonical.y*ti%1]):Ae.texture.bind(Ei,v.CLAMP_TO_EDGE,v.LINEAR_MIPMAP_NEAREST);var Ti=ss(Be,di||[0,0],ti||1,Xe,o);w instanceof Ce?N.draw(d,v.TRIANGLES,ve,oe.disabled,ut,Te.disabled,Ti,o.id,w.boundsBuffer,n.quadTriangleIndexBuffer,w.boundsSegments):N.draw(d,v.TRIANGLES,ve,Zt[ae.overscaledZ],ut,Te.disabled,Ti,o.id,n.rasterBoundsBuffer,n.quadTriangleIndexBuffer,n.rasterBoundsSegments)}},background:function(n,s,o){var l=o.paint.get("background-color"),d=o.paint.get("background-opacity");if(0!==d){var v=n.context,w=v.gl,N=n.transform,ut=N.tileSize,bt=o.paint.get("background-pattern");if(!n.isPatternMissing(bt)){var Zt=!bt&&1===l.a&&1===d&&n.opaquePassEnabledForLayer()?"opaque":"translucent";if(n.renderPass===Zt){var Wt=oe.disabled,Kt=n.depthModeForSublayer(0,"opaque"===Zt?Yt.ReadWrite:Yt.ReadOnly),me=n.colorModeForRenderPass(),ce=n.useProgram(bt?"backgroundPattern":"background"),_e=N.coveringTiles({tileSize:ut});bt&&(v.activeTexture.set(w.TEXTURE0),n.imageManager.bind(n.context));for(var ae=o.getCrossfadeParameters(),ve=0,Ae=_e;ve<Ae.length;ve+=1){var Be=Ae[ve],Qe=n.transform.calculatePosMatrix(Be.toUnwrapped()),Xe=bt?es(Qe,d,n,bt,{tileID:Be,tileSize:ut},ae):Cr(Qe,d,l);ce.draw(v,w.TRIANGLES,Kt,Wt,me,Te.disabled,Xe,o.id,n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}}}},debug:function(n,s,o){for(var l=0;l<o.length;l++)Pe(n,s,o[l])},custom:function(n,s,o){var l=n.context,d=o.implementation;if("offscreen"===n.renderPass){var v=d.prerender;v&&(n.setCustomLayerDefaults(),l.setColorMode(n.colorModeForRenderPass()),v.call(d,l.gl,n.transform.customLayerMatrix()),l.setDirty(),n.setBaseState())}else if("translucent"===n.renderPass){n.setCustomLayerDefaults(),l.setColorMode(n.colorModeForRenderPass()),l.setStencilMode(oe.disabled);var w="3d"===d.renderingMode?new Yt(n.context.gl.LEQUAL,Yt.ReadWrite,n.depthRangeFor3D):n.depthModeForSublayer(0,Yt.ReadOnly);l.setDepthMode(w),d.render(l.gl,n.transform.customLayerMatrix()),l.setDirty(),n.setBaseState(),l.bindFramebuffer.set(null)}}},Re=function(n,s){this.context=new qt(n),this.transform=s,this._tileTextures={},this.setup(),this.numSublayers=fe.maxUnderzooming+fe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new De,this.gpuTimers={}};Re.prototype.resize=function(n,s){if(this.width=n*h.browser.devicePixelRatio,this.height=s*h.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,l=this.style._order;o<l.length;o+=1)this.style._layers[l[o]].resize()},Re.prototype.setup=function(){var n=this.context,s=new h.StructArrayLayout2i4;s.emplaceBack(0,0),s.emplaceBack(h.EXTENT,0),s.emplaceBack(0,h.EXTENT),s.emplaceBack(h.EXTENT,h.EXTENT),this.tileExtentBuffer=n.createVertexBuffer(s,Vi.members),this.tileExtentSegments=h.SegmentVector.simpleSegment(0,0,4,2);var o=new h.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(h.EXTENT,0),o.emplaceBack(0,h.EXTENT),o.emplaceBack(h.EXTENT,h.EXTENT),this.debugBuffer=n.createVertexBuffer(o,Vi.members),this.debugSegments=h.SegmentVector.simpleSegment(0,0,4,5);var l=new h.StructArrayLayout4i8;l.emplaceBack(0,0,0,0),l.emplaceBack(h.EXTENT,0,h.EXTENT,0),l.emplaceBack(0,h.EXTENT,0,h.EXTENT),l.emplaceBack(h.EXTENT,h.EXTENT,h.EXTENT,h.EXTENT),this.rasterBoundsBuffer=n.createVertexBuffer(l,je.members),this.rasterBoundsSegments=h.SegmentVector.simpleSegment(0,0,4,2);var d=new h.StructArrayLayout2i4;d.emplaceBack(0,0),d.emplaceBack(1,0),d.emplaceBack(0,1),d.emplaceBack(1,1),this.viewportBuffer=n.createVertexBuffer(d,Vi.members),this.viewportSegments=h.SegmentVector.simpleSegment(0,0,4,2);var v=new h.StructArrayLayout1ui2;v.emplaceBack(0),v.emplaceBack(1),v.emplaceBack(3),v.emplaceBack(2),v.emplaceBack(0),this.tileBorderIndexBuffer=n.createIndexBuffer(v);var w=new h.StructArrayLayout3ui6;w.emplaceBack(0,1,2),w.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=n.createIndexBuffer(w),this.emptyTexture=new h.Texture(n,{width:1,height:1,data:new Uint8Array([0,0,0,0])},n.gl.RGBA);var N=this.context.gl;this.stencilClearMode=new oe({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO)},Re.prototype.clearStencil=function(){var n=this.context,s=n.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var o=h.create();h.ortho(o,0,this.width,this.height,0,0,1),h.scale(o,o,[s.drawingBufferWidth,s.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(n,s.TRIANGLES,Yt.disabled,this.stencilClearMode,ge.disabled,Te.disabled,ke(o),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Re.prototype._renderTileClippingMasks=function(n,s){if(this.currentStencilSource!==n.source&&n.isTileClipped()&&s&&s.length){this.currentStencilSource=n.source;var o=this.context,l=o.gl;this.nextStencilID+s.length>256&&this.clearStencil(),o.setColorMode(ge.disabled),o.setDepthMode(Yt.disabled);var d=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var v=0,w=s;v<w.length;v+=1){var N=w[v],ut=this._tileClippingMaskIDs[N.key]=this.nextStencilID++;d.draw(o,l.TRIANGLES,Yt.disabled,new oe({func:l.ALWAYS,mask:0},ut,255,l.KEEP,l.KEEP,l.REPLACE),ge.disabled,Te.disabled,ke(N.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Re.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var n=this.nextStencilID++,s=this.context.gl;return new oe({func:s.NOTEQUAL,mask:255},n,255,s.KEEP,s.KEEP,s.REPLACE)},Re.prototype.stencilModeForClipping=function(n){var s=this.context.gl;return new oe({func:s.EQUAL,mask:255},this._tileClippingMaskIDs[n.key],0,s.KEEP,s.KEEP,s.REPLACE)},Re.prototype.stencilConfigForOverlap=function(n){var s,o=this.context.gl,l=n.sort(function(ut,bt){return bt.overscaledZ-ut.overscaledZ}),d=l[l.length-1].overscaledZ,v=l[0].overscaledZ-d+1;if(v>1){this.currentStencilSource=void 0,this.nextStencilID+v>256&&this.clearStencil();for(var w={},N=0;N<v;N++)w[N+d]=new oe({func:o.GEQUAL,mask:255},N+this.nextStencilID,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID+=v,[w,l]}return[(s={},s[d]=oe.disabled,s),l]},Re.prototype.colorModeForRenderPass=function(){var n=this.context.gl;return this._showOverdrawInspector?new ge([n.CONSTANT_COLOR,n.ONE],new h.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?ge.unblended:ge.alphaBlended},Re.prototype.depthModeForSublayer=function(n,s,o){if(!this.opaquePassEnabledForLayer())return Yt.disabled;var l=1-((1+this.currentLayer)*this.numSublayers+n)*this.depthEpsilon;return new Yt(o||this.context.gl.LEQUAL,s,[l,l])},Re.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Re.prototype.render=function(n,s){var o=this;this.style=n,this.options=s,this.lineAtlas=n.lineAtlas,this.imageManager=n.imageManager,this.glyphManager=n.glyphManager,this.symbolFadeChange=n.placement.symbolFadeChange(h.browser.now()),this.imageManager.beginFrame();var l=this.style._order,d=this.style.sourceCaches;for(var v in d){var w=d[v];w.used&&w.prepare(this.context)}var N,ut,bt={},Zt={},Wt={};for(var Kt in d){var me=d[Kt];bt[Kt]=me.getVisibleCoordinates(),Zt[Kt]=bt[Kt].slice().reverse(),Wt[Kt]=me.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var ce=0;ce<l.length;ce++)if(this.style._layers[l[ce]].is3D()){this.opaquePassCutoff=ce;break}this.renderPass="offscreen";for(var _e=0,ae=l;_e<ae.length;_e+=1){var ve=this.style._layers[ae[_e]];if(ve.hasOffscreenPass()&&!ve.isHidden(this.transform.zoom)){var Ae=Zt[ve.source];("custom"===ve.type||Ae.length)&&this.renderLayer(this,d[ve.source],ve,Ae)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:s.showOverdrawInspector?h.Color.black:h.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=s.showOverdrawInspector,this.depthRangeFor3D=[0,1-(n._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=l.length-1;this.currentLayer>=0;this.currentLayer--){var Be=this.style._layers[l[this.currentLayer]],Qe=d[Be.source],Xe=bt[Be.source];this._renderTileClippingMasks(Be,Xe),this.renderLayer(this,Qe,Be,Xe)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<l.length;this.currentLayer++){var ti=this.style._layers[l[this.currentLayer]],di=d[ti.source],Ei=("symbol"===ti.type?Wt:Zt)[ti.source];this._renderTileClippingMasks(ti,bt[ti.source]),this.renderLayer(this,di,ti,Ei)}this.options.showTileBoundaries&&(h.values(this.style._layers).forEach(function(Ti){Ti.source&&!Ti.isHidden(o.transform.zoom)&&(Ti.source!==(ut&&ut.id)&&(ut=o.style.sourceCaches[Ti.source]),(!N||N.getSource().maxzoom<ut.getSource().maxzoom)&&(N=ut))}),N&&Le.debug(this,N,N.getVisibleCoordinates())),this.options.showPadding&&function(Ti){var qi=Ti.transform.padding;_(Ti,Ti.transform.height-(qi.top||0),3,Hi),_(Ti,qi.bottom||0,3,Ln),it(Ti,qi.left||0,3,Tn),it(Ti,Ti.transform.width-(qi.right||0),3,cn);var on,nn,ar,Zi,Qi=Ti.transform.centerPoint;Xt(on=Ti,(nn=Qi.x)-1,(ar=Ti.transform.height-Qi.y)-10,2,20,Zi=At),Xt(on,nn-10,ar-1,20,2,Zi)}(this),this.context.setDefault()},Re.prototype.renderLayer=function(n,s,o,l){o.isHidden(this.transform.zoom)||("background"===o.type||"custom"===o.type||l.length)&&(this.id=o.id,this.gpuTimingStart(o),Le[o.type](n,s,o,l,this.style.placement.variableOffsets),this.gpuTimingEnd())},Re.prototype.gpuTimingStart=function(n){if(this.options.gpuTiming){var s=this.context.extTimerQuery,o=this.gpuTimers[n.id];o||(o=this.gpuTimers[n.id]={calls:0,cpuTime:0,query:s.createQueryEXT()}),o.calls++,s.beginQueryEXT(s.TIME_ELAPSED_EXT,o.query)}},Re.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var n=this.context.extTimerQuery;n.endQueryEXT(n.TIME_ELAPSED_EXT)}},Re.prototype.collectGpuTimers=function(){var n=this.gpuTimers;return this.gpuTimers={},n},Re.prototype.queryGpuTimers=function(n){var s={};for(var o in n){var l=n[o],d=this.context.extTimerQuery,v=d.getQueryObjectEXT(l.query,d.QUERY_RESULT_EXT)/1e6;d.deleteQueryEXT(l.query),s[o]=v}return s},Re.prototype.translatePosMatrix=function(n,s,o,l,d){if(!o[0]&&!o[1])return n;var v=d?"map"===l?this.transform.angle:0:"viewport"===l?-this.transform.angle:0;if(v){var w=Math.sin(v),N=Math.cos(v);o=[o[0]*N-o[1]*w,o[0]*w+o[1]*N]}var ut=[d?o[0]:yr(s,o[0],this.transform.zoom),d?o[1]:yr(s,o[1],this.transform.zoom),0],bt=new Float32Array(16);return h.translate(bt,n,ut),bt},Re.prototype.saveTileTexture=function(n){var s=this._tileTextures[n.size[0]];s?s.push(n):this._tileTextures[n.size[0]]=[n]},Re.prototype.getTileTexture=function(n){var s=this._tileTextures[n];return s&&s.length>0?s.pop():null},Re.prototype.isPatternMissing=function(n){if(!n)return!1;if(!n.from||!n.to)return!0;var s=this.imageManager.getPattern(n.from.toString()),o=this.imageManager.getPattern(n.to.toString());return!s||!o},Re.prototype.useProgram=function(n,s){this.cache=this.cache||{};var o=""+n+(s?s.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[o]||(this.cache[o]=new _s(this.context,n,js[n],s,ps[n],this._showOverdrawInspector)),this.cache[o]},Re.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Re.prototype.setBaseState=function(){var n=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(n.FUNC_ADD)},Re.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=h.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new h.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Re.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var ci=function(n,s){this.points=n,this.planes=s};ci.fromInvProjectionMatrix=function(n,s,o){var l=Math.pow(2,o),d=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(w){return h.transformMat4([],w,n)}).map(function(w){return h.scale$1([],w,1/w[3]/s*l)}),v=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(w){var N=h.sub([],d[w[0]],d[w[1]]),ut=h.sub([],d[w[2]],d[w[1]]),bt=h.normalize([],h.cross([],N,ut)),Zt=-h.dot(bt,d[w[1]]);return bt.concat(Zt)});return new ci(d,v)};var wi=function(n,s){this.min=n,this.max=s,this.center=h.scale$2([],h.add([],this.min,this.max),.5)};wi.prototype.quadrant=function(n){for(var s=[n%2==0,n<2],o=h.clone$2(this.min),l=h.clone$2(this.max),d=0;d<s.length;d++)o[d]=s[d]?this.min[d]:this.center[d],l[d]=s[d]?this.center[d]:this.max[d];return l[2]=this.max[2],new wi(o,l)},wi.prototype.distanceX=function(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]},wi.prototype.distanceY=function(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]},wi.prototype.intersects=function(n){for(var s=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],o=!0,l=0;l<n.planes.length;l++){for(var d=n.planes[l],v=0,w=0;w<s.length;w++)v+=h.dot$1(d,s[w])>=0;if(0===v)return 0;v!==s.length&&(o=!1)}if(o)return 2;for(var N=0;N<3;N++){for(var ut=Number.MAX_VALUE,bt=-Number.MAX_VALUE,Zt=0;Zt<n.points.length;Zt++){var Wt=n.points[Zt][N]-this.min[N];ut=Math.min(ut,Wt),bt=Math.max(bt,Wt)}if(bt<0||ut>this.max[N]-this.min[N])return 0}return 1};var Oi=function(n,s,o,l){if(void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===l&&(l=0),isNaN(n)||n<0||isNaN(s)||s<0||isNaN(o)||o<0||isNaN(l)||l<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=n,this.bottom=s,this.left=o,this.right=l};Oi.prototype.interpolate=function(n,s,o){return null!=s.top&&null!=n.top&&(this.top=h.number(n.top,s.top,o)),null!=s.bottom&&null!=n.bottom&&(this.bottom=h.number(n.bottom,s.bottom,o)),null!=s.left&&null!=n.left&&(this.left=h.number(n.left,s.left,o)),null!=s.right&&null!=n.right&&(this.right=h.number(n.right,s.right,o)),this},Oi.prototype.getCenter=function(n,s){var o=h.clamp((this.left+n-this.right)/2,0,n),l=h.clamp((this.top+s-this.bottom)/2,0,s);return new h.Point(o,l)},Oi.prototype.equals=function(n){return this.top===n.top&&this.bottom===n.bottom&&this.left===n.left&&this.right===n.right},Oi.prototype.clone=function(){return new Oi(this.top,this.bottom,this.left,this.right)},Oi.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var fi=function(n,s,o,l,d){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===d||d,this._minZoom=n||0,this._maxZoom=s||22,this._minPitch=o??0,this._maxPitch=l??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new h.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Oi,this._posMatrixCache={},this._alignedPosMatrixCache={}},Si={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};fi.prototype.clone=function(){var n=new fi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return n.tileSize=this.tileSize,n.latRange=this.latRange,n.width=this.width,n.height=this.height,n._center=this._center,n.zoom=this.zoom,n.angle=this.angle,n._fov=this._fov,n._pitch=this._pitch,n._unmodified=this._unmodified,n._edgeInsets=this._edgeInsets.clone(),n._calcMatrices(),n},Si.minZoom.get=function(){return this._minZoom},Si.minZoom.set=function(n){this._minZoom!==n&&(this._minZoom=n,this.zoom=Math.max(this.zoom,n))},Si.maxZoom.get=function(){return this._maxZoom},Si.maxZoom.set=function(n){this._maxZoom!==n&&(this._maxZoom=n,this.zoom=Math.min(this.zoom,n))},Si.minPitch.get=function(){return this._minPitch},Si.minPitch.set=function(n){this._minPitch!==n&&(this._minPitch=n,this.pitch=Math.max(this.pitch,n))},Si.maxPitch.get=function(){return this._maxPitch},Si.maxPitch.set=function(n){this._maxPitch!==n&&(this._maxPitch=n,this.pitch=Math.min(this.pitch,n))},Si.renderWorldCopies.get=function(){return this._renderWorldCopies},Si.renderWorldCopies.set=function(n){void 0===n?n=!0:null===n&&(n=!1),this._renderWorldCopies=n},Si.worldSize.get=function(){return this.tileSize*this.scale},Si.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Si.size.get=function(){return new h.Point(this.width,this.height)},Si.bearing.get=function(){return-this.angle/Math.PI*180},Si.bearing.set=function(n){var s=-h.wrap(n,-180,180)*Math.PI/180;this.angle!==s&&(this._unmodified=!1,this.angle=s,this._calcMatrices(),this.rotationMatrix=h.create$2(),h.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Si.pitch.get=function(){return this._pitch/Math.PI*180},Si.pitch.set=function(n){var s=h.clamp(n,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==s&&(this._unmodified=!1,this._pitch=s,this._calcMatrices())},Si.fov.get=function(){return this._fov/Math.PI*180},Si.fov.set=function(n){n=Math.max(.01,Math.min(60,n)),this._fov!==n&&(this._unmodified=!1,this._fov=n/180*Math.PI,this._calcMatrices())},Si.zoom.get=function(){return this._zoom},Si.zoom.set=function(n){var s=Math.min(Math.max(n,this.minZoom),this.maxZoom);this._zoom!==s&&(this._unmodified=!1,this._zoom=s,this.scale=this.zoomScale(s),this.tileZoom=Math.floor(s),this.zoomFraction=s-this.tileZoom,this._constrain(),this._calcMatrices())},Si.center.get=function(){return this._center},Si.center.set=function(n){n.lat===this._center.lat&&n.lng===this._center.lng||(this._unmodified=!1,this._center=n,this._constrain(),this._calcMatrices())},Si.padding.get=function(){return this._edgeInsets.toJSON()},Si.padding.set=function(n){this._edgeInsets.equals(n)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,n,1),this._calcMatrices())},Si.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},fi.prototype.isPaddingEqual=function(n){return this._edgeInsets.equals(n)},fi.prototype.interpolatePadding=function(n,s,o){this._unmodified=!1,this._edgeInsets.interpolate(n,s,o),this._constrain(),this._calcMatrices()},fi.prototype.coveringZoomLevel=function(n){var s=(n.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/n.tileSize));return Math.max(0,s)},fi.prototype.getVisibleUnwrappedCoordinates=function(n){var s=[new h.UnwrappedTileID(0,n)];if(this._renderWorldCopies)for(var o=this.pointCoordinate(new h.Point(0,0)),l=this.pointCoordinate(new h.Point(this.width,0)),d=this.pointCoordinate(new h.Point(this.width,this.height)),v=this.pointCoordinate(new h.Point(0,this.height)),w=Math.floor(Math.min(o.x,l.x,d.x,v.x)),N=Math.floor(Math.max(o.x,l.x,d.x,v.x)),ut=w-1;ut<=N+1;ut++)0!==ut&&s.push(new h.UnwrappedTileID(ut,n));return s},fi.prototype.coveringTiles=function(n){var s=this.coveringZoomLevel(n),o=s;if(void 0!==n.minzoom&&s<n.minzoom)return[];void 0!==n.maxzoom&&s>n.maxzoom&&(s=n.maxzoom);var l=h.MercatorCoordinate.fromLngLat(this.center),d=Math.pow(2,s),v=[d*l.x,d*l.y,0],w=ci.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,s),N=n.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(N=s);var ut=function(Ti){return{aabb:new wi([Ti*d,0,0],[(Ti+1)*d,d,0]),zoom:0,x:0,y:0,wrap:Ti,fullyVisible:!1}},bt=[],Zt=[],Wt=s,Kt=n.reparseOverscaled?o:s;if(this._renderWorldCopies)for(var me=1;me<=3;me++)bt.push(ut(-me)),bt.push(ut(me));for(bt.push(ut(0));bt.length>0;){var ce=bt.pop(),_e=ce.x,ae=ce.y,ve=ce.fullyVisible;if(!ve){var Ae=ce.aabb.intersects(w);if(0===Ae)continue;ve=2===Ae}var Be=ce.aabb.distanceX(v),Qe=ce.aabb.distanceY(v),Xe=Math.max(Math.abs(Be),Math.abs(Qe));if(ce.zoom===Wt||Xe>3+(1<<Wt-ce.zoom)-2&&ce.zoom>=N)Zt.push({tileID:new h.OverscaledTileID(ce.zoom===Wt?Kt:ce.zoom,ce.wrap,ce.zoom,_e,ae),distanceSq:h.sqrLen([v[0]-.5-_e,v[1]-.5-ae])});else for(var ti=0;ti<4;ti++){var di=(_e<<1)+ti%2,Ei=(ae<<1)+(ti>>1);bt.push({aabb:ce.aabb.quadrant(ti),zoom:ce.zoom+1,x:di,y:Ei,wrap:ce.wrap,fullyVisible:ve})}}return Zt.sort(function(Ti,qi){return Ti.distanceSq-qi.distanceSq}).map(function(Ti){return Ti.tileID})},fi.prototype.resize=function(n,s){this.width=n,this.height=s,this.pixelsToGLUnits=[2/n,-2/s],this._constrain(),this._calcMatrices()},Si.unmodified.get=function(){return this._unmodified},fi.prototype.zoomScale=function(n){return Math.pow(2,n)},fi.prototype.scaleZoom=function(n){return Math.log(n)/Math.LN2},fi.prototype.project=function(n){var s=h.clamp(n.lat,-this.maxValidLatitude,this.maxValidLatitude);return new h.Point(h.mercatorXfromLng(n.lng)*this.worldSize,h.mercatorYfromLat(s)*this.worldSize)},fi.prototype.unproject=function(n){return new h.MercatorCoordinate(n.x/this.worldSize,n.y/this.worldSize).toLngLat()},Si.point.get=function(){return this.project(this.center)},fi.prototype.setLocationAtPoint=function(n,s){var o=this.pointCoordinate(s),l=this.pointCoordinate(this.centerPoint),d=this.locationCoordinate(n),v=new h.MercatorCoordinate(d.x-(o.x-l.x),d.y-(o.y-l.y));this.center=this.coordinateLocation(v),this._renderWorldCopies&&(this.center=this.center.wrap())},fi.prototype.locationPoint=function(n){return this.coordinatePoint(this.locationCoordinate(n))},fi.prototype.pointLocation=function(n){return this.coordinateLocation(this.pointCoordinate(n))},fi.prototype.locationCoordinate=function(n){return h.MercatorCoordinate.fromLngLat(n)},fi.prototype.coordinateLocation=function(n){return n.toLngLat()},fi.prototype.pointCoordinate=function(n){var s=[n.x,n.y,0,1],o=[n.x,n.y,1,1];h.transformMat4(s,s,this.pixelMatrixInverse),h.transformMat4(o,o,this.pixelMatrixInverse);var l=s[3],d=o[3],v=s[1]/l,w=o[1]/d,N=s[2]/l,ut=o[2]/d,bt=N===ut?0:(0-N)/(ut-N);return new h.MercatorCoordinate(h.number(s[0]/l,o[0]/d,bt)/this.worldSize,h.number(v,w,bt)/this.worldSize)},fi.prototype.coordinatePoint=function(n){var s=[n.x*this.worldSize,n.y*this.worldSize,0,1];return h.transformMat4(s,s,this.pixelMatrix),new h.Point(s[0]/s[3],s[1]/s[3])},fi.prototype.getBounds=function(){return(new h.LngLatBounds).extend(this.pointLocation(new h.Point(0,0))).extend(this.pointLocation(new h.Point(this.width,0))).extend(this.pointLocation(new h.Point(this.width,this.height))).extend(this.pointLocation(new h.Point(0,this.height)))},fi.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new h.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},fi.prototype.setMaxBounds=function(n){n?(this.lngRange=[n.getWest(),n.getEast()],this.latRange=[n.getSouth(),n.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},fi.prototype.calculatePosMatrix=function(n,s){void 0===s&&(s=!1);var o=n.key,l=s?this._alignedPosMatrixCache:this._posMatrixCache;if(l[o])return l[o];var d=n.canonical,v=this.worldSize/this.zoomScale(d.z),w=d.x+Math.pow(2,d.z)*n.wrap,N=h.identity(new Float64Array(16));return h.translate(N,N,[w*v,d.y*v,0]),h.scale(N,N,[v/h.EXTENT,v/h.EXTENT,1]),h.multiply(N,s?this.alignedProjMatrix:this.projMatrix,N),l[o]=new Float32Array(N),l[o]},fi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},fi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var n,s,o,l,d=-90,v=90,w=-180,N=180,ut=this.size,bt=this._unmodified;if(this.latRange){var Zt=this.latRange;d=h.mercatorYfromLat(Zt[1])*this.worldSize,n=(v=h.mercatorYfromLat(Zt[0])*this.worldSize)-d<ut.y?ut.y/(v-d):0}if(this.lngRange){var Wt=this.lngRange;w=h.mercatorXfromLng(Wt[0])*this.worldSize,s=(N=h.mercatorXfromLng(Wt[1])*this.worldSize)-w<ut.x?ut.x/(N-w):0}var Kt=this.point,me=Math.max(s||0,n||0);if(me)return this.center=this.unproject(new h.Point(s?(N+w)/2:Kt.x,n?(v+d)/2:Kt.y)),this.zoom+=this.scaleZoom(me),this._unmodified=bt,void(this._constraining=!1);if(this.latRange){var ce=Kt.y,_e=ut.y/2;ce-_e<d&&(l=d+_e),ce+_e>v&&(l=v-_e)}if(this.lngRange){var ae=Kt.x,ve=ut.x/2;ae-ve<w&&(o=w+ve),ae+ve>N&&(o=N-ve)}void 0===o&&void 0===l||(this.center=this.unproject(new h.Point(void 0!==o?o:Kt.x,void 0!==l?l:Kt.y))),this._unmodified=bt,this._constraining=!1}},fi.prototype._calcMatrices=function(){if(this.height){var n=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var s=Math.PI/2+this._pitch,o=this._fov*(.5+n.y/this.height),l=Math.sin(o)*this.cameraToCenterDistance/Math.sin(h.clamp(Math.PI-s-o,.01,Math.PI-.01)),d=this.point,v=d.x,w=d.y,N=1.01*(Math.cos(Math.PI/2-this._pitch)*l+this.cameraToCenterDistance),ut=this.height/50,bt=new Float64Array(16);h.perspective(bt,this._fov,this.width/this.height,ut,N),bt[8]=2*-n.x/this.width,bt[9]=2*n.y/this.height,h.scale(bt,bt,[1,-1,1]),h.translate(bt,bt,[0,0,-this.cameraToCenterDistance]),h.rotateX(bt,bt,this._pitch),h.rotateZ(bt,bt,this.angle),h.translate(bt,bt,[-v,-w,0]),this.mercatorMatrix=h.scale([],bt,[this.worldSize,this.worldSize,this.worldSize]),h.scale(bt,bt,[1,1,h.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=bt,this.invProjMatrix=h.invert([],this.projMatrix);var Zt=this.width%2/2,Wt=this.height%2/2,Kt=Math.cos(this.angle),me=Math.sin(this.angle),ce=v-Math.round(v)+Kt*Zt+me*Wt,_e=w-Math.round(w)+Kt*Wt+me*Zt,ae=new Float64Array(bt);if(h.translate(ae,ae,[ce>.5?ce-1:ce,_e>.5?_e-1:_e,0]),this.alignedProjMatrix=ae,bt=h.create(),h.scale(bt,bt,[this.width/2,-this.height/2,1]),h.translate(bt,bt,[1,-1,0]),this.labelPlaneMatrix=bt,bt=h.create(),h.scale(bt,bt,[1,-1,1]),h.translate(bt,bt,[-1,-1,0]),h.scale(bt,bt,[2/this.width,2/this.height,1]),this.glCoordMatrix=bt,this.pixelMatrix=h.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(bt=h.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=bt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},fi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var n=this.pointCoordinate(new h.Point(0,0)),s=[n.x*this.worldSize,n.y*this.worldSize,0,1];return h.transformMat4(s,s,this.pixelMatrix)[3]/this.cameraToCenterDistance},fi.prototype.getCameraPoint=function(){var n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new h.Point(0,n))},fi.prototype.getCameraQueryGeometry=function(n){var s=this.getCameraPoint();if(1===n.length)return[n[0],s];for(var o=s.x,l=s.y,d=s.x,v=s.y,w=0,N=n;w<N.length;w+=1){var ut=N[w];o=Math.min(o,ut.x),l=Math.min(l,ut.y),d=Math.max(d,ut.x),v=Math.max(v,ut.y)}return[new h.Point(o,l),new h.Point(d,l),new h.Point(d,v),new h.Point(o,v),new h.Point(o,l)]},Object.defineProperties(fi.prototype,Si);var vn=function(n){var s,o,l,d;this._hashName=n&&encodeURIComponent(n),h.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(s=this._updateHashUnthrottled.bind(this),o=!1,l=null,d=function(){l=null,o&&(s(),l=setTimeout(d,300),o=!1)},function(){return o=!0,l||d(),l})};vn.prototype.addTo=function(n){return this._map=n,h.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},vn.prototype.remove=function(){return h.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},vn.prototype.getHashString=function(n){var s=this._map.getCenter(),o=Math.round(100*this._map.getZoom())/100,l=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),d=Math.pow(10,l),v=Math.round(s.lng*d)/d,w=Math.round(s.lat*d)/d,N=this._map.getBearing(),ut=this._map.getPitch(),bt="";if(bt+=n?"/"+v+"/"+w+"/"+o:o+"/"+w+"/"+v,(N||ut)&&(bt+="/"+Math.round(10*N)/10),ut&&(bt+="/"+Math.round(ut)),this._hashName){var Zt=this._hashName,Wt=!1,Kt=h.window.location.hash.slice(1).split("&").map(function(me){var ce=me.split("=")[0];return ce===Zt?(Wt=!0,ce+"="+bt):me}).filter(function(me){return me});return Wt||Kt.push(Zt+"="+bt),"#"+Kt.join("&")}return"#"+bt},vn.prototype._getCurrentHash=function(){var n,s=this,o=h.window.location.hash.replace("#","");return this._hashName?(o.split("&").map(function(l){return l.split("=")}).forEach(function(l){l[0]===s._hashName&&(n=l)}),(n&&n[1]||"").split("/")):o.split("/")},vn.prototype._onHashChange=function(){var n=this._getCurrentHash();if(n.length>=3&&!n.some(function(o){return isNaN(o)})){var s=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(n[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+n[2],+n[1]],zoom:+n[0],bearing:s,pitch:+(n[4]||0)}),!0}return!1},vn.prototype._updateHashUnthrottled=function(){var n=h.window.location.href.replace(/(#.+)?$/,this.getHashString());try{h.window.history.replaceState(h.window.history.state,null,n)}catch{}};var pn={linearity:.3,easing:h.bezier(0,0,.3,1)},Cn=h.extend({deceleration:2500,maxSpeed:1400},pn),Mn=h.extend({deceleration:20,maxSpeed:1400},pn),Zn=h.extend({deceleration:1e3,maxSpeed:360},pn),Rr=h.extend({deceleration:1e3,maxSpeed:90},pn),Ar=function(n){this._map=n,this.clear()};function Xn(n,s){(!n.duration||n.duration<s.duration)&&(n.duration=s.duration,n.easing=s.easing)}function er(n,s,o){var l=o.maxSpeed,d=o.linearity,v=o.deceleration,w=h.clamp(n*d/(s/1e3),-l,l),N=Math.abs(w)/(v*d);return{easing:o.easing,duration:1e3*N,amount:w*(N/2)}}Ar.prototype.clear=function(){this._inertiaBuffer=[]},Ar.prototype.record=function(n){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:h.browser.now(),settings:n})},Ar.prototype._drainInertiaBuffer=function(){for(var n=this._inertiaBuffer,s=h.browser.now();n.length>0&&s-n[0].time>160;)n.shift()},Ar.prototype._onMoveEnd=function(n){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var s={zoom:0,bearing:0,pitch:0,pan:new h.Point(0,0),pinchAround:void 0,around:void 0},o=0,l=this._inertiaBuffer;o<l.length;o+=1){var d=l[o].settings;s.zoom+=d.zoomDelta||0,s.bearing+=d.bearingDelta||0,s.pitch+=d.pitchDelta||0,d.panDelta&&s.pan._add(d.panDelta),d.around&&(s.around=d.around),d.pinchAround&&(s.pinchAround=d.pinchAround)}var v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(s.pan.mag()){var N=er(s.pan.mag(),v,h.extend({},Cn,n||{}));w.offset=s.pan.mult(N.amount/s.pan.mag()),w.center=this._map.transform.center,Xn(w,N)}if(s.zoom){var ut=er(s.zoom,v,Mn);w.zoom=this._map.transform.zoom+ut.amount,Xn(w,ut)}if(s.bearing){var bt=er(s.bearing,v,Zn);w.bearing=this._map.transform.bearing+h.clamp(bt.amount,-179,179),Xn(w,bt)}if(s.pitch){var Zt=er(s.pitch,v,Rr);w.pitch=this._map.transform.pitch+Zt.amount,Xn(w,Zt)}if(w.zoom||w.bearing){var Wt=void 0===s.pinchAround?s.around:s.pinchAround;w.around=Wt?this._map.unproject(Wt):this._map.getCenter()}return this.clear(),h.extend(w,{noMoveStart:!0})}};var an=function(n){function s(l,d,v,w){void 0===w&&(w={});var N=T.mousePos(d.getCanvasContainer(),v),ut=d.unproject(N);n.call(this,l,h.extend({point:N,lngLat:ut,originalEvent:v},w)),this._defaultPrevented=!1,this.target=d}n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s;var o={defaultPrevented:{configurable:!0}};return s.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(s.prototype,o),s}(h.Event),ir=function(n){function s(l,d,v){var w="touchend"===l?v.changedTouches:v.touches,N=T.touchPos(d.getCanvasContainer(),w),ut=N.map(function(Wt){return d.unproject(Wt)}),bt=N.reduce(function(Wt,Kt,me,ce){return Wt.add(Kt.div(ce.length))},new h.Point(0,0)),Zt=d.unproject(bt);n.call(this,l,{points:N,point:bt,lngLats:ut,lngLat:Zt,originalEvent:v}),this._defaultPrevented=!1}n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s;var o={defaultPrevented:{configurable:!0}};return s.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(s.prototype,o),s}(h.Event),Er=function(n){function s(l,d,v){n.call(this,l,{originalEvent:v}),this._defaultPrevented=!1}n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s;var o={defaultPrevented:{configurable:!0}};return s.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(s.prototype,o),s}(h.Event),In=function(n,s){this._map=n,this._clickTolerance=s.clickTolerance};In.prototype.reset=function(){delete this._mousedownPos},In.prototype.wheel=function(n){return this._firePreventable(new Er(n.type,this._map,n))},In.prototype.mousedown=function(n,s){return this._mousedownPos=s,this._firePreventable(new an(n.type,this._map,n))},In.prototype.mouseup=function(n){this._map.fire(new an(n.type,this._map,n))},In.prototype.click=function(n,s){this._mousedownPos&&this._mousedownPos.dist(s)>=this._clickTolerance||this._map.fire(new an(n.type,this._map,n))},In.prototype.dblclick=function(n){return this._firePreventable(new an(n.type,this._map,n))},In.prototype.mouseover=function(n){this._map.fire(new an(n.type,this._map,n))},In.prototype.mouseout=function(n){this._map.fire(new an(n.type,this._map,n))},In.prototype.touchstart=function(n){return this._firePreventable(new ir(n.type,this._map,n))},In.prototype.touchmove=function(n){this._map.fire(new ir(n.type,this._map,n))},In.prototype.touchend=function(n){this._map.fire(new ir(n.type,this._map,n))},In.prototype.touchcancel=function(n){this._map.fire(new ir(n.type,this._map,n))},In.prototype._firePreventable=function(n){if(this._map.fire(n),n.defaultPrevented)return{}},In.prototype.isEnabled=function(){return!0},In.prototype.isActive=function(){return!1},In.prototype.enable=function(){},In.prototype.disable=function(){};var gi=function(n){this._map=n};gi.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},gi.prototype.mousemove=function(n){this._map.fire(new an(n.type,this._map,n))},gi.prototype.mousedown=function(){this._delayContextMenu=!0},gi.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new an("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},gi.prototype.contextmenu=function(n){this._delayContextMenu?this._contextMenuEvent=n:this._map.fire(new an(n.type,this._map,n)),this._map.listens("contextmenu")&&n.preventDefault()},gi.prototype.isEnabled=function(){return!0},gi.prototype.isActive=function(){return!1},gi.prototype.enable=function(){},gi.prototype.disable=function(){};var gr=function(n,s){this._map=n,this._el=n.getCanvasContainer(),this._container=n.getContainer(),this._clickTolerance=s.clickTolerance||1};function is(n,s){for(var o={},l=0;l<n.length;l++)o[n[l].identifier]=s[l];return o}gr.prototype.isEnabled=function(){return!!this._enabled},gr.prototype.isActive=function(){return!!this._active},gr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},gr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},gr.prototype.mousedown=function(n,s){this.isEnabled()&&n.shiftKey&&0===n.button&&(T.disableDrag(),this._startPos=this._lastPos=s,this._active=!0)},gr.prototype.mousemoveWindow=function(n,s){if(this._active){var o=s;if(!(this._lastPos.equals(o)||!this._box&&o.dist(this._startPos)<this._clickTolerance)){var l=this._startPos;this._lastPos=o,this._box||(this._box=T.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",n));var d=Math.min(l.x,o.x),v=Math.max(l.x,o.x),w=Math.min(l.y,o.y),N=Math.max(l.y,o.y);T.setTransform(this._box,"translate("+d+"px,"+w+"px)"),this._box.style.width=v-d+"px",this._box.style.height=N-w+"px"}}},gr.prototype.mouseupWindow=function(n,s){var o=this;if(this._active&&0===n.button){var l=this._startPos,d=s;if(this.reset(),T.suppressClick(),l.x!==d.x||l.y!==d.y)return this._map.fire(new h.Event("boxzoomend",{originalEvent:n})),{cameraAnimation:function(v){return v.fitScreenCoordinates(l,d,o._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",n)}},gr.prototype.keydown=function(n){this._active&&27===n.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",n))},gr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos},gr.prototype._fireEvent=function(n,s){return this._map.fire(new h.Event(n,{originalEvent:s}))};var ns=function(n){this.reset(),this.numTouches=n.numTouches};ns.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ns.prototype.touchstart=function(n,s,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=n.timeStamp),o.length===this.numTouches&&(this.centroid=function(l){for(var d=new h.Point(0,0),v=0,w=l;v<w.length;v+=1)d._add(w[v]);return d.div(l.length)}(s),this.touches=is(o,s)))},ns.prototype.touchmove=function(n,s,o){if(!this.aborted&&this.centroid){var l=is(o,s);for(var d in this.touches){var v=l[d];(!v||v.dist(this.touches[d])>30)&&(this.aborted=!0)}}},ns.prototype.touchend=function(n,s,o){if((!this.centroid||n.timeStamp-this.startTime>500)&&(this.aborted=!0),0===o.length){var l=!this.aborted&&this.centroid;if(this.reset(),l)return l}};var Xr=function(n){this.singleTap=new ns(n),this.numTaps=n.numTaps,this.reset()};Xr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Xr.prototype.touchstart=function(n,s,o){this.singleTap.touchstart(n,s,o)},Xr.prototype.touchmove=function(n,s,o){this.singleTap.touchmove(n,s,o)},Xr.prototype.touchend=function(n,s,o){var l=this.singleTap.touchend(n,s,o);if(l){var d=n.timeStamp-this.lastTime<500,v=!this.lastTap||this.lastTap.dist(l)<30;if(d&&v||this.reset(),this.count++,this.lastTime=n.timeStamp,this.lastTap=l,this.count===this.numTaps)return this.reset(),l}};var Yr=function(){this._zoomIn=new Xr({numTouches:1,numTaps:2}),this._zoomOut=new Xr({numTouches:2,numTaps:1}),this.reset()};Yr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Yr.prototype.touchstart=function(n,s,o){this._zoomIn.touchstart(n,s,o),this._zoomOut.touchstart(n,s,o)},Yr.prototype.touchmove=function(n,s,o){this._zoomIn.touchmove(n,s,o),this._zoomOut.touchmove(n,s,o)},Yr.prototype.touchend=function(n,s,o){var l=this,d=this._zoomIn.touchend(n,s,o),v=this._zoomOut.touchend(n,s,o);return d?(this._active=!0,n.preventDefault(),setTimeout(function(){return l.reset()},0),{cameraAnimation:function(w){return w.easeTo({duration:300,zoom:w.getZoom()+1,around:w.unproject(d)},{originalEvent:n})}}):v?(this._active=!0,n.preventDefault(),setTimeout(function(){return l.reset()},0),{cameraAnimation:function(w){return w.easeTo({duration:300,zoom:w.getZoom()-1,around:w.unproject(v)},{originalEvent:n})}}):void 0},Yr.prototype.touchcancel=function(){this.reset()},Yr.prototype.enable=function(){this._enabled=!0},Yr.prototype.disable=function(){this._enabled=!1,this.reset()},Yr.prototype.isEnabled=function(){return this._enabled},Yr.prototype.isActive=function(){return this._active};var Wo={0:1,2:2},vi=function(n){this.reset(),this._clickTolerance=n.clickTolerance||1};vi.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},vi.prototype._correctButton=function(n,s){return!1},vi.prototype._move=function(n,s){return{}},vi.prototype.mousedown=function(n,s){if(!this._lastPoint){var o=T.mouseButton(n);this._correctButton(n,o)&&(this._lastPoint=s,this._eventButton=o)}},vi.prototype.mousemoveWindow=function(n,s){var l,v,o=this._lastPoint;if(o)if(n.preventDefault(),v=Wo[this._eventButton],void 0===(l=n).buttons||(l.buttons&v)!==v)this.reset();else if(this._moved||!(s.dist(o)<this._clickTolerance))return this._moved=!0,this._lastPoint=s,this._move(o,s)},vi.prototype.mouseupWindow=function(n){this._lastPoint&&T.mouseButton(n)===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())},vi.prototype.enable=function(){this._enabled=!0},vi.prototype.disable=function(){this._enabled=!1,this.reset()},vi.prototype.isEnabled=function(){return this._enabled},vi.prototype.isActive=function(){return this._active};var Ms=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.mousedown=function(o,l){n.prototype.mousedown.call(this,o,l),this._lastPoint&&(this._active=!0)},s.prototype._correctButton=function(o,l){return 0===l&&!o.ctrlKey},s.prototype._move=function(o,l){return{around:l,panDelta:l.sub(o)}},s}(vi),xs=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype._correctButton=function(o,l){return 0===l&&o.ctrlKey||2===l},s.prototype._move=function(o,l){var d=.8*(l.x-o.x);if(d)return this._active=!0,{bearingDelta:d}},s.prototype.contextmenu=function(o){o.preventDefault()},s}(vi),sa=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype._correctButton=function(o,l){return 0===l&&o.ctrlKey||2===l},s.prototype._move=function(o,l){var d=-.5*(l.y-o.y);if(d)return this._active=!0,{pitchDelta:d}},s.prototype.contextmenu=function(o){o.preventDefault()},s}(vi),Ir=function(n){this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset()};Ir.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new h.Point(0,0)},Ir.prototype.touchstart=function(n,s,o){return this._calculateTransform(n,s,o)},Ir.prototype.touchmove=function(n,s,o){if(this._active&&!(o.length<this._minTouches))return n.preventDefault(),this._calculateTransform(n,s,o)},Ir.prototype.touchend=function(n,s,o){this._calculateTransform(n,s,o),this._active&&o.length<this._minTouches&&this.reset()},Ir.prototype.touchcancel=function(){this.reset()},Ir.prototype._calculateTransform=function(n,s,o){o.length>0&&(this._active=!0);var l=is(o,s),d=new h.Point(0,0),v=new h.Point(0,0),w=0;for(var N in l){var ut=l[N],bt=this._touches[N];bt&&(d._add(ut),v._add(ut.sub(bt)),w++,l[N]=ut)}if(this._touches=l,!(w<this._minTouches)&&v.mag()){var Zt=v.div(w);if(this._sum._add(Zt),!(this._sum.mag()<this._clickTolerance))return{around:d.div(w),panDelta:Zt}}},Ir.prototype.enable=function(){this._enabled=!0},Ir.prototype.disable=function(){this._enabled=!1,this.reset()},Ir.prototype.isEnabled=function(){return this._enabled},Ir.prototype.isActive=function(){return this._active};var Qn=function(){this.reset()};function Bo(n,s,o){for(var l=0;l<n.length;l++)if(n[l].identifier===o)return s[l]}function as(n,s){return Math.log(n/s)/Math.LN2}Qn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Qn.prototype._start=function(n){},Qn.prototype._move=function(n,s,o){return{}},Qn.prototype.touchstart=function(n,s,o){this._firstTwoTouches||o.length<2||(this._firstTwoTouches=[o[0].identifier,o[1].identifier],this._start([s[0],s[1]]))},Qn.prototype.touchmove=function(n,s,o){if(this._firstTwoTouches){n.preventDefault();var l=this._firstTwoTouches,d=l[1],v=Bo(o,s,l[0]),w=Bo(o,s,d);if(v&&w){var N=this._aroundCenter?null:v.add(w).div(2);return this._move([v,w],N,n)}}},Qn.prototype.touchend=function(n,s,o){if(this._firstTwoTouches){var l=this._firstTwoTouches,d=l[1],v=Bo(o,s,l[0]),w=Bo(o,s,d);v&&w||(this._active&&T.suppressClick(),this.reset())}},Qn.prototype.touchcancel=function(){this.reset()},Qn.prototype.enable=function(n){this._enabled=!0,this._aroundCenter=!!n&&"center"===n.around},Qn.prototype.disable=function(){this._enabled=!1,this.reset()},Qn.prototype.isEnabled=function(){return this._enabled},Qn.prototype.isActive=function(){return this._active};var vo=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.reset=function(){n.prototype.reset.call(this),delete this._distance,delete this._startDistance},s.prototype._start=function(o){this._startDistance=this._distance=o[0].dist(o[1])},s.prototype._move=function(o,l){var d=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(as(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:as(this._distance,d),pinchAround:l}},s}(Qn);function Ps(n,s){return 180*n.angleWith(s)/Math.PI}var rl=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.reset=function(){n.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},s.prototype._start=function(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])},s.prototype._move=function(o,l){var d=this._vector;if(this._vector=o[0].sub(o[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ps(this._vector,d),pinchAround:l}},s.prototype._isBelowThreshold=function(o){this._minDiameter=Math.min(this._minDiameter,o.mag());var l=25/(Math.PI*this._minDiameter)*360,d=Ps(o,this._startVector);return Math.abs(d)<l},s}(Qn);function wa(n){return Math.abs(n.y)>Math.abs(n.x)}var Sa=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.reset=function(){n.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},s.prototype._start=function(o){this._lastPoints=o,wa(o[0].sub(o[1]))&&(this._valid=!1)},s.prototype._move=function(o,l,d){var v=o[0].sub(this._lastPoints[0]),w=o[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(v,w,d.timeStamp),this._valid)return this._lastPoints=o,this._active=!0,{pitchDelta:(v.y+w.y)/2*-.5}},s.prototype.gestureBeginsVertically=function(o,l,d){if(void 0!==this._valid)return this._valid;var v=o.mag()>=2,w=l.mag()>=2;if(v||w){if(!v||!w)return void 0===this._firstMove&&(this._firstMove=d),d-this._firstMove<100&&void 0;var N=o.y>0==l.y>0;return wa(o)&&wa(l)&&N}},s}(Qn),ol={panStep:100,bearingStep:15,pitchStep:10},Ys=function(){var n=ol;this._panStep=n.panStep,this._bearingStep=n.bearingStep,this._pitchStep=n.pitchStep,this._rotationDisabled=!1};function ls(n){return n*(2-n)}Ys.prototype.reset=function(){this._active=!1},Ys.prototype.keydown=function(n){var s=this;if(!(n.altKey||n.ctrlKey||n.metaKey)){var o=0,l=0,d=0,v=0,w=0;switch(n.keyCode){case 61:case 107:case 171:case 187:o=1;break;case 189:case 109:case 173:o=-1;break;case 37:n.shiftKey?l=-1:(n.preventDefault(),v=-1);break;case 39:n.shiftKey?l=1:(n.preventDefault(),v=1);break;case 38:n.shiftKey?d=1:(n.preventDefault(),w=-1);break;case 40:n.shiftKey?d=-1:(n.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(l=0,d=0),{cameraAnimation:function(N){var ut=N.getZoom();N.easeTo({duration:300,easeId:"keyboardHandler",easing:ls,zoom:o?Math.round(ut)+o*(n.shiftKey?2:1):ut,bearing:N.getBearing()+l*s._bearingStep,pitch:N.getPitch()+d*s._pitchStep,offset:[-v*s._panStep,-w*s._panStep],center:N.getCenter()},{originalEvent:n})}}}},Ys.prototype.enable=function(){this._enabled=!0},Ys.prototype.disable=function(){this._enabled=!1,this.reset()},Ys.prototype.isEnabled=function(){return this._enabled},Ys.prototype.isActive=function(){return this._active},Ys.prototype.disableRotation=function(){this._rotationDisabled=!0},Ys.prototype.enableRotation=function(){this._rotationDisabled=!1};var Hn=function(n,s){this._map=n,this._el=n.getCanvasContainer(),this._handler=s,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,h.bindAll(["_onTimeout"],this)};Hn.prototype.setZoomRate=function(n){this._defaultZoomRate=n},Hn.prototype.setWheelZoomRate=function(n){this._wheelZoomRate=n},Hn.prototype.isEnabled=function(){return!!this._enabled},Hn.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Hn.prototype.isZooming=function(){return!!this._zooming},Hn.prototype.enable=function(n){this.isEnabled()||(this._enabled=!0,this._aroundCenter=n&&"center"===n.around)},Hn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Hn.prototype.wheel=function(n){if(this.isEnabled()){var s=n.deltaMode===h.window.WheelEvent.DOM_DELTA_LINE?40*n.deltaY:n.deltaY,o=h.browser.now(),l=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,0!==s&&s%4.000244140625==0?this._type="wheel":0!==s&&Math.abs(s)<4?this._type="trackpad":l>400?(this._type=null,this._lastValue=s,this._timeout=setTimeout(this._onTimeout,40,n)):this._type||(this._type=Math.abs(l*s)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,s+=this._lastValue)),n.shiftKey&&s&&(s/=4),this._type&&(this._lastWheelEvent=n,this._delta-=s,this._active||this._start(n)),n.preventDefault()}},Hn.prototype._onTimeout=function(n){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(n)},Hn.prototype._start=function(n){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var s=T.mousePos(this._el,n);this._around=h.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(s)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Hn.prototype.renderFrame=function(){var n=this;if(this._frameId&&(this._frameId=null,this.isActive())){var s=this._map.transform;if(0!==this._delta){var o="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,l=2/(1+Math.exp(-Math.abs(this._delta*o)));this._delta<0&&0!==l&&(l=1/l);var d="number"==typeof this._targetZoom?s.zoomScale(this._targetZoom):s.scale;this._targetZoom=Math.min(s.maxZoom,Math.max(s.minZoom,s.scaleZoom(d*l))),"wheel"===this._type&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var v,w="number"==typeof this._targetZoom?this._targetZoom:s.zoom,N=this._startZoom,ut=this._easing,bt=!1;if("wheel"===this._type&&N&&ut){var Zt=Math.min((h.browser.now()-this._lastWheelEventTime)/200,1),Wt=ut(Zt);v=h.number(N,w,Wt),Zt<1?this._frameId||(this._frameId=!0):bt=!0}else v=w,bt=!0;return this._active=!0,bt&&(this._active=!1,this._finishTimeout=setTimeout(function(){n._zooming=!1,n._handler._triggerRenderFrame(),delete n._targetZoom,delete n._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!bt,zoomDelta:v-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Hn.prototype._smoothOutEasing=function(n){var s=h.ease;if(this._prevEase){var o=this._prevEase,l=(h.browser.now()-o.start)/o.duration,d=o.easing(l+.01)-o.easing(l),v=.27/Math.sqrt(d*d+1e-4)*.01,w=Math.sqrt(.0729-v*v);s=h.bezier(v,w,.25,1)}return this._prevEase={start:h.browser.now(),duration:n,easing:s},s},Hn.prototype.reset=function(){this._active=!1};var Us=function(n,s){this._clickZoom=n,this._tapZoom=s};Us.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Us.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Us.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Us.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Vs=function(){this.reset()};Vs.prototype.reset=function(){this._active=!1},Vs.prototype.dblclick=function(n,s){return n.preventDefault(),{cameraAnimation:function(o){o.easeTo({duration:300,zoom:o.getZoom()+(n.shiftKey?-1:1),around:o.unproject(s)},{originalEvent:n})}}},Vs.prototype.enable=function(){this._enabled=!0},Vs.prototype.disable=function(){this._enabled=!1,this.reset()},Vs.prototype.isEnabled=function(){return this._enabled},Vs.prototype.isActive=function(){return this._active};var Lo=function(){this._tap=new Xr({numTouches:1,numTaps:1}),this.reset()};Lo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Lo.prototype.touchstart=function(n,s,o){this._swipePoint||(this._tapTime&&n.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?o.length>0&&(this._swipePoint=s[0],this._swipeTouch=o[0].identifier):this._tap.touchstart(n,s,o))},Lo.prototype.touchmove=function(n,s,o){if(this._tapTime){if(this._swipePoint){if(o[0].identifier!==this._swipeTouch)return;var l=s[0],d=l.y-this._swipePoint.y;return this._swipePoint=l,n.preventDefault(),this._active=!0,{zoomDelta:d/128}}}else this._tap.touchmove(n,s,o)},Lo.prototype.touchend=function(n,s,o){this._tapTime?this._swipePoint&&0===o.length&&this.reset():this._tap.touchend(n,s,o)&&(this._tapTime=n.timeStamp)},Lo.prototype.touchcancel=function(){this.reset()},Lo.prototype.enable=function(){this._enabled=!0},Lo.prototype.disable=function(){this._enabled=!1,this.reset()},Lo.prototype.isEnabled=function(){return this._enabled},Lo.prototype.isActive=function(){return this._active};var aa=function(n,s,o){this._el=n,this._mousePan=s,this._touchPan=o};aa.prototype.enable=function(n){this._inertiaOptions=n||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},aa.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},aa.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},aa.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var la=function(n,s,o){this._pitchWithRotate=n.pitchWithRotate,this._mouseRotate=s,this._mousePitch=o};la.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},la.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},la.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},la.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var qs=function(n,s,o,l){this._el=n,this._touchZoom=s,this._touchRotate=o,this._tapDragZoom=l,this._rotationDisabled=!1,this._enabled=!0};qs.prototype.enable=function(n){this._touchZoom.enable(n),this._rotationDisabled||this._touchRotate.enable(n),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},qs.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},qs.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},qs.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},qs.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},qs.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var lo=function(n){return n.zoom||n.drag||n.pitch||n.rotate},ha=function(n){function s(){n.apply(this,arguments)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s}(h.Event);function Ji(n){return n.panDelta&&n.panDelta.mag()||n.zoomDelta||n.bearingDelta||n.pitchDelta}var Xi=function(n,s){this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ar(n),this._bearingSnap=s.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(s),h.bindAll(["handleEvent","handleWindowEvent"],this);var o=this._el;this._listeners=[[o,"touchstart",{passive:!0}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[h.window.document,"mousemove",{capture:!0}],[h.window.document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[h.window,"blur",void 0]];for(var l=0,d=this._listeners;l<d.length;l+=1){var v=d[l],w=v[0];T.addEventListener(w,v[1],w===h.window.document?this.handleWindowEvent:this.handleEvent,v[2])}};Xi.prototype.destroy=function(){for(var n=0,s=this._listeners;n<s.length;n+=1){var o=s[n],l=o[0];T.removeEventListener(l,o[1],l===h.window.document?this.handleWindowEvent:this.handleEvent,o[2])}},Xi.prototype._addDefaultHandlers=function(n){var s=this._map,o=s.getCanvasContainer();this._add("mapEvent",new In(s,n));var l=s.boxZoom=new gr(s,n);this._add("boxZoom",l);var d=new Yr,v=new Vs;s.doubleClickZoom=new Us(v,d),this._add("tapZoom",d),this._add("clickZoom",v);var w=new Lo;this._add("tapDragZoom",w);var N=s.touchPitch=new Sa;this._add("touchPitch",N);var ut=new xs(n),bt=new sa(n);s.dragRotate=new la(n,ut,bt),this._add("mouseRotate",ut,["mousePitch"]),this._add("mousePitch",bt,["mouseRotate"]);var Zt=new Ms(n),Wt=new Ir(n);s.dragPan=new aa(o,Zt,Wt),this._add("mousePan",Zt),this._add("touchPan",Wt,["touchZoom","touchRotate"]);var Kt=new rl,me=new vo;s.touchZoomRotate=new qs(o,me,Kt,w),this._add("touchRotate",Kt,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]);var ce=s.scrollZoom=new Hn(s,this);this._add("scrollZoom",ce,["mousePan"]);var _e=s.keyboard=new Ys;this._add("keyboard",_e),this._add("blockableMapEvent",new gi(s));for(var ae=0,ve=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];ae<ve.length;ae+=1){var Ae=ve[ae];n.interactive&&n[Ae]&&s[Ae].enable(n[Ae])}},Xi.prototype._add=function(n,s,o){this._handlers.push({handlerName:n,handler:s,allowed:o}),this._handlersById[n]=s},Xi.prototype.stop=function(n){if(!this._updatingCamera){for(var s=0,o=this._handlers;s<o.length;s+=1)o[s].handler.reset();this._inertia.clear(),this._fireEvents({},{},n),this._changes=[]}},Xi.prototype.isActive=function(){for(var n=0,s=this._handlers;n<s.length;n+=1)if(s[n].handler.isActive())return!0;return!1},Xi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Xi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Xi.prototype.isMoving=function(){return Boolean(lo(this._eventsInProgress))||this.isZooming()},Xi.prototype._blockedByActive=function(n,s,o){for(var l in n)if(l!==o&&(!s||s.indexOf(l)<0))return!0;return!1},Xi.prototype.handleWindowEvent=function(n){this.handleEvent(n,n.type+"Window")},Xi.prototype._getMapTouches=function(n){for(var s=[],o=0,l=n;o<l.length;o+=1){var d=l[o];this._el.contains(d.target)&&s.push(d)}return s},Xi.prototype.handleEvent=function(n,s){if("blur"!==n.type){this._updatingCamera=!0;for(var o="renderFrame"===n.type?void 0:n,l={needsRenderFrame:!1},d={},v={},w=n.touches?this._getMapTouches(n.touches):void 0,N=w?T.touchPos(this._el,w):T.mousePos(this._el,n),ut=0,bt=this._handlers;ut<bt.length;ut+=1){var Zt=bt[ut],Wt=Zt.handlerName,Kt=Zt.handler,me=Zt.allowed;if(Kt.isEnabled()){var ce=void 0;this._blockedByActive(v,me,Wt)?Kt.reset():Kt[s||n.type]&&(ce=Kt[s||n.type](n,N,w),this.mergeHandlerResult(l,d,ce,Wt,o),ce&&ce.needsRenderFrame&&this._triggerRenderFrame()),(ce||Kt.isActive())&&(v[Wt]=Kt)}}var _e={};for(var ae in this._previousActiveHandlers)v[ae]||(_e[ae]=o);this._previousActiveHandlers=v,(Object.keys(_e).length||Ji(l))&&(this._changes.push([l,d,_e]),this._triggerRenderFrame()),(Object.keys(v).length||Ji(l))&&this._map._stop(!0),this._updatingCamera=!1;var ve=l.cameraAnimation;ve&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ve(this._map))}else this.stop(!0)},Xi.prototype.mergeHandlerResult=function(n,s,o,l,d){if(o){h.extend(n,o);var v={handlerName:l,originalEvent:o.originalEvent||d};void 0!==o.zoomDelta&&(s.zoom=v),void 0!==o.panDelta&&(s.drag=v),void 0!==o.pitchDelta&&(s.pitch=v),void 0!==o.bearingDelta&&(s.rotate=v)}},Xi.prototype._applyChanges=function(){for(var n={},s={},o={},l=0,d=this._changes;l<d.length;l+=1){var v=d[l],w=v[0],N=v[1],ut=v[2];w.panDelta&&(n.panDelta=(n.panDelta||new h.Point(0,0))._add(w.panDelta)),w.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+w.pitchDelta),void 0!==w.around&&(n.around=w.around),void 0!==w.pinchAround&&(n.pinchAround=w.pinchAround),w.noInertia&&(n.noInertia=w.noInertia),h.extend(s,N),h.extend(o,ut)}this._updateMapTransform(n,s,o),this._changes=[]},Xi.prototype._updateMapTransform=function(n,s,o){var l=this._map,d=l.transform;if(!Ji(n))return this._fireEvents(s,o,!0);var v=n.panDelta,w=n.zoomDelta,N=n.bearingDelta,ut=n.pitchDelta,bt=n.around,Zt=n.pinchAround;void 0!==Zt&&(bt=Zt),l._stop(!0),bt=bt||l.transform.centerPoint;var Wt=d.pointLocation(v?bt.sub(v):bt);N&&(d.bearing+=N),ut&&(d.pitch+=ut),w&&(d.zoom+=w),d.setLocationAtPoint(Wt,bt),this._map._update(),n.noInertia||this._inertia.record(n),this._fireEvents(s,o,!0)},Xi.prototype._fireEvents=function(n,s,o){var l=this,d=lo(this._eventsInProgress),v=lo(n),w={};for(var N in n)this._eventsInProgress[N]||(w[N+"start"]=n[N].originalEvent),this._eventsInProgress[N]=n[N];for(var ut in!d&&v&&this._fireEvent("movestart",v.originalEvent),w)this._fireEvent(ut,w[ut]);for(var bt in v&&this._fireEvent("move",v.originalEvent),n)this._fireEvent(bt,n[bt].originalEvent);var Zt,Wt={};for(var Kt in this._eventsInProgress){var me=this._eventsInProgress[Kt],ce=me.handlerName,_e=me.originalEvent;this._handlersById[ce].isActive()||(delete this._eventsInProgress[Kt],Wt[Kt+"end"]=Zt=s[ce]||_e)}for(var ae in Wt)this._fireEvent(ae,Wt[ae]);var ve=lo(this._eventsInProgress);if(o&&(d||v)&&!ve){this._updatingCamera=!0;var Ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Be=function(Qe){return 0!==Qe&&-l._bearingSnap<Qe&&Qe<l._bearingSnap};Ae?(Be(Ae.bearing||this._map.getBearing())&&(Ae.bearing=0),this._map.easeTo(Ae,{originalEvent:Zt})):(this._map.fire(new h.Event("moveend",{originalEvent:Zt})),Be(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Xi.prototype._fireEvent=function(n,s){this._map.fire(new h.Event(n,s?{originalEvent:s}:{}))},Xi.prototype._requestFrame=function(){var n=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(s){delete n._frameId,n.handleEvent(new ha("renderFrame",{timeStamp:s})),n._applyChanges()})},Xi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var Ta=function(n){function s(o,l){n.call(this),this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=l.bearingSnap,h.bindAll(["_renderFrameCallback"],this)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.getCenter=function(){return new h.LngLat(this.transform.center.lng,this.transform.center.lat)},s.prototype.setCenter=function(o,l){return this.jumpTo({center:o},l)},s.prototype.panBy=function(o,l,d){return o=h.Point.convert(o).mult(-1),this.panTo(this.transform.center,h.extend({offset:o},l),d)},s.prototype.panTo=function(o,l,d){return this.easeTo(h.extend({center:o},l),d)},s.prototype.getZoom=function(){return this.transform.zoom},s.prototype.setZoom=function(o,l){return this.jumpTo({zoom:o},l),this},s.prototype.zoomTo=function(o,l,d){return this.easeTo(h.extend({zoom:o},l),d)},s.prototype.zoomIn=function(o,l){return this.zoomTo(this.getZoom()+1,o,l),this},s.prototype.zoomOut=function(o,l){return this.zoomTo(this.getZoom()-1,o,l),this},s.prototype.getBearing=function(){return this.transform.bearing},s.prototype.setBearing=function(o,l){return this.jumpTo({bearing:o},l),this},s.prototype.getPadding=function(){return this.transform.padding},s.prototype.setPadding=function(o,l){return this.jumpTo({padding:o},l),this},s.prototype.rotateTo=function(o,l,d){return this.easeTo(h.extend({bearing:o},l),d)},s.prototype.resetNorth=function(o,l){return this.rotateTo(0,h.extend({duration:1e3},o),l),this},s.prototype.resetNorthPitch=function(o,l){return this.easeTo(h.extend({bearing:0,pitch:0,duration:1e3},o),l),this},s.prototype.snapToNorth=function(o,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,l):this},s.prototype.getPitch=function(){return this.transform.pitch},s.prototype.setPitch=function(o,l){return this.jumpTo({pitch:o},l),this},s.prototype.cameraForBounds=function(o,l){o=h.LngLatBounds.convert(o);var d=l&&l.bearing||0;return this._cameraForBoxAndBearing(o.getNorthWest(),o.getSouthEast(),d,l)},s.prototype._cameraForBoxAndBearing=function(o,l,d,v){var w={top:0,bottom:0,right:0,left:0};if("number"==typeof(v=h.extend({padding:w,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding){var N=v.padding;v.padding={top:N,bottom:N,right:N,left:N}}v.padding=h.extend(w,v.padding);var ut=this.transform,bt=ut.padding,Zt=ut.project(h.LngLat.convert(o)),Wt=ut.project(h.LngLat.convert(l)),Kt=Zt.rotate(-d*Math.PI/180),me=Wt.rotate(-d*Math.PI/180),ce=new h.Point(Math.max(Kt.x,me.x),Math.max(Kt.y,me.y)),_e=new h.Point(Math.min(Kt.x,me.x),Math.min(Kt.y,me.y)),ae=ce.sub(_e),ve=(ut.width-(bt.left+bt.right+v.padding.left+v.padding.right))/ae.x,Ae=(ut.height-(bt.top+bt.bottom+v.padding.top+v.padding.bottom))/ae.y;if(!(Ae<0||ve<0)){var Be=Math.min(ut.scaleZoom(ut.scale*Math.min(ve,Ae)),v.maxZoom),Qe="number"==typeof v.offset.x?new h.Point(v.offset.x,v.offset.y):h.Point.convert(v.offset),Xe=new h.Point((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(d*Math.PI/180),ti=Qe.add(Xe).mult(ut.scale/ut.zoomScale(Be));return{center:ut.unproject(Zt.add(Wt).div(2).sub(ti)),zoom:Be,bearing:d}}h.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},s.prototype.fitBounds=function(o,l,d){return this._fitInternal(this.cameraForBounds(o,l),l,d)},s.prototype.fitScreenCoordinates=function(o,l,d,v,w){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(h.Point.convert(o)),this.transform.pointLocation(h.Point.convert(l)),d,v),v,w)},s.prototype._fitInternal=function(o,l,d){return o?(delete(l=h.extend(o,l)).padding,l.linear?this.easeTo(l,d):this.flyTo(l,d)):this},s.prototype.jumpTo=function(o,l){this.stop();var d=this.transform,v=!1,w=!1,N=!1;return"zoom"in o&&d.zoom!==+o.zoom&&(v=!0,d.zoom=+o.zoom),void 0!==o.center&&(d.center=h.LngLat.convert(o.center)),"bearing"in o&&d.bearing!==+o.bearing&&(w=!0,d.bearing=+o.bearing),"pitch"in o&&d.pitch!==+o.pitch&&(N=!0,d.pitch=+o.pitch),null==o.padding||d.isPaddingEqual(o.padding)||(d.padding=o.padding),this.fire(new h.Event("movestart",l)).fire(new h.Event("move",l)),v&&this.fire(new h.Event("zoomstart",l)).fire(new h.Event("zoom",l)).fire(new h.Event("zoomend",l)),w&&this.fire(new h.Event("rotatestart",l)).fire(new h.Event("rotate",l)).fire(new h.Event("rotateend",l)),N&&this.fire(new h.Event("pitchstart",l)).fire(new h.Event("pitch",l)).fire(new h.Event("pitchend",l)),this.fire(new h.Event("moveend",l))},s.prototype.easeTo=function(o,l){var d=this;this._stop(!1,o.easeId),(!1===(o=h.extend({offset:[0,0],duration:500,easing:h.ease},o)).animate||!o.essential&&h.browser.prefersReducedMotion)&&(o.duration=0);var v=this.transform,w=this.getZoom(),N=this.getBearing(),ut=this.getPitch(),bt=this.getPadding(),Zt="zoom"in o?+o.zoom:w,Wt="bearing"in o?this._normalizeBearing(o.bearing,N):N,Kt="pitch"in o?+o.pitch:ut,me="padding"in o?o.padding:v.padding,ce=h.Point.convert(o.offset),_e=v.centerPoint.add(ce),ae=v.pointLocation(_e),ve=h.LngLat.convert(o.center||ae);this._normalizeCenter(ve);var Ae,Be,Qe=v.project(ae),Xe=v.project(ve).sub(Qe),ti=v.zoomScale(Zt-w);o.around&&(Ae=h.LngLat.convert(o.around),Be=v.locationPoint(Ae));var di={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Zt!==w,this._rotating=this._rotating||N!==Wt,this._pitching=this._pitching||Kt!==ut,this._padding=!v.isPaddingEqual(me),this._easeId=o.easeId,this._prepareEase(l,o.noMoveStart,di),this._ease(function(Ei){if(d._zooming&&(v.zoom=h.number(w,Zt,Ei)),d._rotating&&(v.bearing=h.number(N,Wt,Ei)),d._pitching&&(v.pitch=h.number(ut,Kt,Ei)),d._padding&&(v.interpolatePadding(bt,me,Ei),_e=v.centerPoint.add(ce)),Ae)v.setLocationAtPoint(Ae,Be);else{var Ti=v.zoomScale(v.zoom-w),qi=Zt>w?Math.min(2,ti):Math.max(.5,ti),Qi=Math.pow(qi,1-Ei),on=v.unproject(Qe.add(Xe.mult(Ei*Qi)).mult(Ti));v.setLocationAtPoint(v.renderWorldCopies?on.wrap():on,_e)}d._fireMoveEvents(l)},function(Ei){d._afterEase(l,Ei)},o),this},s.prototype._prepareEase=function(o,l,d){void 0===d&&(d={}),this._moving=!0,l||d.moving||this.fire(new h.Event("movestart",o)),this._zooming&&!d.zooming&&this.fire(new h.Event("zoomstart",o)),this._rotating&&!d.rotating&&this.fire(new h.Event("rotatestart",o)),this._pitching&&!d.pitching&&this.fire(new h.Event("pitchstart",o))},s.prototype._fireMoveEvents=function(o){this.fire(new h.Event("move",o)),this._zooming&&this.fire(new h.Event("zoom",o)),this._rotating&&this.fire(new h.Event("rotate",o)),this._pitching&&this.fire(new h.Event("pitch",o))},s.prototype._afterEase=function(o,l){if(!this._easeId||!l||this._easeId!==l){delete this._easeId;var d=this._zooming,v=this._rotating,w=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,d&&this.fire(new h.Event("zoomend",o)),v&&this.fire(new h.Event("rotateend",o)),w&&this.fire(new h.Event("pitchend",o)),this.fire(new h.Event("moveend",o))}},s.prototype.flyTo=function(o,l){var d=this;if(!o.essential&&h.browser.prefersReducedMotion){var v=h.pick(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(v,l)}this.stop(),o=h.extend({offset:[0,0],speed:1.2,curve:1.42,easing:h.ease},o);var w=this.transform,N=this.getZoom(),ut=this.getBearing(),bt=this.getPitch(),Zt=this.getPadding(),Wt="zoom"in o?h.clamp(+o.zoom,w.minZoom,w.maxZoom):N,Kt="bearing"in o?this._normalizeBearing(o.bearing,ut):ut,me="pitch"in o?+o.pitch:bt,ce="padding"in o?o.padding:w.padding,_e=w.zoomScale(Wt-N),ae=h.Point.convert(o.offset),ve=w.centerPoint.add(ae),Ae=w.pointLocation(ve),Be=h.LngLat.convert(o.center||Ae);this._normalizeCenter(Be);var Qe=w.project(Ae),Xe=w.project(Be).sub(Qe),ti=o.curve,di=Math.max(w.width,w.height),Ei=di/_e,Ti=Xe.mag();if("minZoom"in o){var qi=h.clamp(Math.min(o.minZoom,N,Wt),w.minZoom,w.maxZoom),Qi=di/w.zoomScale(qi-N);ti=Math.sqrt(Qi/Ti*2)}var on=ti*ti;function nn(dn){var hn=(Ei*Ei-di*di+(dn?-1:1)*on*on*Ti*Ti)/(2*(dn?Ei:di)*on*Ti);return Math.log(Math.sqrt(hn*hn+1)-hn)}function ar(dn){return(Math.exp(dn)-Math.exp(-dn))/2}function Zi(dn){return(Math.exp(dn)+Math.exp(-dn))/2}var wn=nn(0),Bn=function(dn){return Zi(wn)/Zi(wn+ti*dn)},_n=function(dn){return di*((Zi(wn)*(ar(hn=wn+ti*dn)/Zi(hn))-ar(wn))/on)/Ti;var hn},gn=(nn(1)-wn)/ti;if(Math.abs(Ti)<1e-6||!isFinite(gn)){if(Math.abs(di-Ei)<1e-6)return this.easeTo(o,l);var Dn=Ei<di?-1:1;gn=Math.abs(Math.log(Ei/di))/ti,_n=function(){return 0},Bn=function(dn){return Math.exp(Dn*ti*dn)}}return o.duration="duration"in o?+o.duration:1e3*gn/("screenSpeed"in o?+o.screenSpeed/ti:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0),this._zooming=!0,this._rotating=ut!==Kt,this._pitching=me!==bt,this._padding=!w.isPaddingEqual(ce),this._prepareEase(l,!1),this._ease(function(dn){var hn=dn*gn,jo=1/Bn(hn);w.zoom=1===dn?Wt:N+w.scaleZoom(jo),d._rotating&&(w.bearing=h.number(ut,Kt,dn)),d._pitching&&(w.pitch=h.number(bt,me,dn)),d._padding&&(w.interpolatePadding(Zt,ce,dn),ve=w.centerPoint.add(ae));var ho=1===dn?Be:w.unproject(Qe.add(Xe.mult(_n(hn))).mult(jo));w.setLocationAtPoint(w.renderWorldCopies?ho.wrap():ho,ve),d._fireMoveEvents(l)},function(){return d._afterEase(l)},o),this},s.prototype.isEasing=function(){return!!this._easeFrameId},s.prototype.stop=function(){return this._stop()},s.prototype._stop=function(o,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var d=this._onEaseEnd;delete this._onEaseEnd,d.call(this,l)}if(!o){var v=this.handlers;v&&v.stop(!1)}return this},s.prototype._ease=function(o,l,d){!1===d.animate||0===d.duration?(o(1),l()):(this._easeStart=h.browser.now(),this._easeOptions=d,this._onEaseFrame=o,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},s.prototype._renderFrameCallback=function(){var o=Math.min((h.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(o)),o<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},s.prototype._normalizeBearing=function(o,l){o=h.wrap(o,-180,180);var d=Math.abs(o-l);return Math.abs(o-360-l)<d&&(o-=360),Math.abs(o+360-l)<d&&(o+=360),o},s.prototype._normalizeCenter=function(o){var l=this.transform;if(l.renderWorldCopies&&!l.lngRange){var d=o.lng-l.center.lng;o.lng+=d>180?-360:d<-180?360:0}},s}(h.Evented),Xo=function(n){void 0===n&&(n={}),this.options=n,h.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Xo.prototype.getDefaultPosition=function(){return"bottom-right"},Xo.prototype.onAdd=function(n){var s=this.options&&this.options.compact;return this._map=n,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=T.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=T.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),s&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===s&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Xo.prototype.onRemove=function(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Xo.prototype._setElementTitle=function(n,s){var o=this._map._getUIString("AttributionControl."+s);n.title=o,n.setAttribute("aria-label",o)},Xo.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Xo.prototype._updateEditLink=function(){var n=this._editLink;n||(n=this._editLink=this._container.querySelector(".mapbox-improve-map"));var s=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||h.config.ACCESS_TOKEN}];if(n){var o=s.reduce(function(l,d,v){return d.value&&(l+=d.key+"="+d.value+(v<s.length-1?"&":"")),l},"?");n.href=h.config.FEEDBACK_URL+"/"+o+(this._map._hash?this._map._hash.getHashString(!0):""),n.rel="noopener nofollow",this._setElementTitle(n,"MapFeedback")}},Xo.prototype._updateData=function(n){!n||"metadata"!==n.sourceDataType&&"visibility"!==n.sourceDataType&&"style"!==n.dataType||(this._updateAttributions(),this._updateEditLink())},Xo.prototype._updateAttributions=function(){if(this._map.style){var n=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?n=n.concat(this.options.customAttribution.map(function(N){return"string"!=typeof N?"":N})):"string"==typeof this.options.customAttribution&&n.push(this.options.customAttribution)),this._map.style.stylesheet){var s=this._map.style.stylesheet;this.styleOwner=s.owner,this.styleId=s.id}var o=this._map.style.sourceCaches;for(var l in o){var d=o[l];if(d.used){var v=d.getSource();v.attribution&&n.indexOf(v.attribution)<0&&n.push(v.attribution)}}n.sort(function(N,ut){return N.length-ut.length});var w=(n=n.filter(function(N,ut){for(var bt=ut+1;bt<n.length;bt++)if(n[bt].indexOf(N)>=0)return!1;return!0})).join(" | ");w!==this._attribHTML&&(this._attribHTML=w,n.length?(this._innerContainer.innerHTML=w,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Xo.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ls=function(){h.bindAll(["_updateLogo"],this),h.bindAll(["_updateCompact"],this)};Ls.prototype.onAdd=function(n){this._map=n,this._container=T.create("div","mapboxgl-ctrl");var s=T.create("a","mapboxgl-ctrl-logo");return s.target="_blank",s.rel="noopener nofollow",s.href="https://www.mapbox.com/",s.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),s.setAttribute("rel","noopener nofollow"),this._container.appendChild(s),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ls.prototype.onRemove=function(){T.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ls.prototype.getDefaultPosition=function(){return"bottom-left"},Ls.prototype._updateLogo=function(n){n&&"metadata"!==n.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Ls.prototype._logoRequired=function(){if(this._map.style){var n=this._map.style.sourceCaches;for(var s in n)if(n[s].getSource().mapbox_logo)return!0;return!1}},Ls.prototype._updateCompact=function(){var n=this._container.children;if(n.length){var s=n[0];this._map.getCanvasContainer().offsetWidth<250?s.classList.add("mapboxgl-compact"):s.classList.remove("mapboxgl-compact")}};var Io=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Io.prototype.add=function(n){var s=++this._id;return this._queue.push({callback:n,id:s,cancelled:!1}),s},Io.prototype.remove=function(n){for(var s=this._currentlyRunning,o=0,l=s?this._queue.concat(s):this._queue;o<l.length;o+=1){var d=l[o];if(d.id===n)return void(d.cancelled=!0)}},Io.prototype.run=function(n){void 0===n&&(n=0);var s=this._currentlyRunning=this._queue;this._queue=[];for(var o=0,l=s;o<l.length;o+=1){var d=l[o];if(!d.cancelled&&(d.callback(n),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Io.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Zs={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},sl=h.window.HTMLImageElement,Wa=h.window.HTMLElement,cr=h.window.ImageBitmap,Eo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Eh=function(n){function s(l){var d=this;if(null!=(l=h.extend({},Eo,l)).minZoom&&null!=l.maxZoom&&l.minZoom>l.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=l.minPitch&&null!=l.maxPitch&&l.minPitch>l.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=l.minPitch&&l.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=l.maxPitch&&l.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var v=new fi(l.minZoom,l.maxZoom,l.minPitch,l.maxPitch,l.renderWorldCopies);if(n.call(this,v,l),this._interactive=l.interactive,this._maxTileCacheSize=l.maxTileCacheSize,this._failIfMajorPerformanceCaveat=l.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=l.preserveDrawingBuffer,this._antialias=l.antialias,this._trackResize=l.trackResize,this._bearingSnap=l.bearingSnap,this._refreshExpiredTiles=l.refreshExpiredTiles,this._fadeDuration=l.fadeDuration,this._crossSourceCollisions=l.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=l.collectResourceTiming,this._renderTaskQueue=new Io,this._controls=[],this._mapId=h.uniqueId(),this._locale=h.extend({},Zs,l.locale),this._clickTolerance=l.clickTolerance,this._requestManager=new h.RequestManager(l.transformRequest,l.accessToken),"string"==typeof l.container){if(this._container=h.window.document.getElementById(l.container),!this._container)throw new Error("Container '"+l.container+"' not found.")}else{if(!(l.container instanceof Wa))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=l.container}if(l.maxBounds&&this.setMaxBounds(l.maxBounds),h.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return d._update(!1)}),this.on("moveend",function(){return d._update(!1)}),this.on("zoom",function(){return d._update(!0)}),void 0!==h.window&&(h.window.addEventListener("online",this._onWindowOnline,!1),h.window.addEventListener("resize",this._onWindowResize,!1),h.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Xi(this,l),this._hash=l.hash&&new vn("string"==typeof l.hash&&l.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:l.center,zoom:l.zoom,bearing:l.bearing,pitch:l.pitch}),l.bounds&&(this.resize(),this.fitBounds(l.bounds,h.extend({},l.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=l.localIdeographFontFamily,l.style&&this.setStyle(l.style,{localIdeographFontFamily:l.localIdeographFontFamily}),l.attributionControl&&this.addControl(new Xo({customAttribution:l.customAttribution})),this.addControl(new Ls,l.logoPosition),this.on("style.load",function(){d.transform.unmodified&&d.jumpTo(d.style.stylesheet)}),this.on("data",function(w){d._update("style"===w.dataType),d.fire(new h.Event(w.dataType+"data",w))}),this.on("dataloading",function(w){d.fire(new h.Event(w.dataType+"dataloading",w))})}n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return s.prototype._getMapId=function(){return this._mapId},s.prototype.addControl=function(l,d){if(void 0===d&&(d=l.getDefaultPosition?l.getDefaultPosition():"top-right"),!l||!l.onAdd)return this.fire(new h.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var v=l.onAdd(this);this._controls.push(l);var w=this._controlPositions[d];return-1!==d.indexOf("bottom")?w.insertBefore(v,w.firstChild):w.appendChild(v),this},s.prototype.removeControl=function(l){if(!l||!l.onRemove)return this.fire(new h.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var d=this._controls.indexOf(l);return d>-1&&this._controls.splice(d,1),l.onRemove(this),this},s.prototype.hasControl=function(l){return this._controls.indexOf(l)>-1},s.prototype.resize=function(l){var d=this._containerDimensions(),v=d[0],w=d[1];this._resizeCanvas(v,w),this.transform.resize(v,w),this.painter.resize(v,w);var N=!this._moving;return N&&(this.stop(),this.fire(new h.Event("movestart",l)).fire(new h.Event("move",l))),this.fire(new h.Event("resize",l)),N&&this.fire(new h.Event("moveend",l)),this},s.prototype.getBounds=function(){return this.transform.getBounds()},s.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},s.prototype.setMaxBounds=function(l){return this.transform.setMaxBounds(h.LngLatBounds.convert(l)),this._update()},s.prototype.setMinZoom=function(l){if((l=l??-2)>=-2&&l<=this.transform.maxZoom)return this.transform.minZoom=l,this._update(),this.getZoom()<l&&this.setZoom(l),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},s.prototype.getMinZoom=function(){return this.transform.minZoom},s.prototype.setMaxZoom=function(l){if((l=l??22)>=this.transform.minZoom)return this.transform.maxZoom=l,this._update(),this.getZoom()>l&&this.setZoom(l),this;throw new Error("maxZoom must be greater than the current minZoom")},s.prototype.getMaxZoom=function(){return this.transform.maxZoom},s.prototype.setMinPitch=function(l){if((l=l??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(l>=0&&l<=this.transform.maxPitch)return this.transform.minPitch=l,this._update(),this.getPitch()<l&&this.setPitch(l),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},s.prototype.getMinPitch=function(){return this.transform.minPitch},s.prototype.setMaxPitch=function(l){if((l=l??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(l>=this.transform.minPitch)return this.transform.maxPitch=l,this._update(),this.getPitch()>l&&this.setPitch(l),this;throw new Error("maxPitch must be greater than the current minPitch")},s.prototype.getMaxPitch=function(){return this.transform.maxPitch},s.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},s.prototype.setRenderWorldCopies=function(l){return this.transform.renderWorldCopies=l,this._update()},s.prototype.project=function(l){return this.transform.locationPoint(h.LngLat.convert(l))},s.prototype.unproject=function(l){return this.transform.pointLocation(h.Point.convert(l))},s.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},s.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},s.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},s.prototype._createDelegatedListener=function(l,d,v){var w,N=this;if("mouseenter"===l||"mouseover"===l){var ut=!1;return{layer:d,listener:v,delegates:{mousemove:function(Zt){var Wt=N.getLayer(d)?N.queryRenderedFeatures(Zt.point,{layers:[d]}):[];Wt.length?ut||(ut=!0,v.call(N,new an(l,N,Zt.originalEvent,{features:Wt}))):ut=!1},mouseout:function(){ut=!1}}}}if("mouseleave"===l||"mouseout"===l){var bt=!1;return{layer:d,listener:v,delegates:{mousemove:function(Zt){(N.getLayer(d)?N.queryRenderedFeatures(Zt.point,{layers:[d]}):[]).length?bt=!0:bt&&(bt=!1,v.call(N,new an(l,N,Zt.originalEvent)))},mouseout:function(Zt){bt&&(bt=!1,v.call(N,new an(l,N,Zt.originalEvent)))}}}}return{layer:d,listener:v,delegates:(w={},w[l]=function(Zt){var Wt=N.getLayer(d)?N.queryRenderedFeatures(Zt.point,{layers:[d]}):[];Wt.length&&(Zt.features=Wt,v.call(N,Zt),delete Zt.features)},w)}},s.prototype.on=function(l,d,v){if(void 0===v)return n.prototype.on.call(this,l,d);var w=this._createDelegatedListener(l,d,v);for(var N in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[l]=this._delegatedListeners[l]||[],this._delegatedListeners[l].push(w),w.delegates)this.on(N,w.delegates[N]);return this},s.prototype.once=function(l,d,v){if(void 0===v)return n.prototype.once.call(this,l,d);var w=this._createDelegatedListener(l,d,v);for(var N in w.delegates)this.once(N,w.delegates[N]);return this},s.prototype.off=function(l,d,v){var w=this;return void 0===v?n.prototype.off.call(this,l,d):(this._delegatedListeners&&this._delegatedListeners[l]&&function(N){for(var ut=N[l],bt=0;bt<ut.length;bt++){var Zt=ut[bt];if(Zt.layer===d&&Zt.listener===v){for(var Wt in Zt.delegates)w.off(Wt,Zt.delegates[Wt]);return ut.splice(bt,1),w}}}(this._delegatedListeners),this)},s.prototype.queryRenderedFeatures=function(l,d){if(!this.style)return[];var v;if(void 0!==d||void 0===l||l instanceof h.Point||Array.isArray(l)||(d=l,l=void 0),d=d||{},(l=l||[[0,0],[this.transform.width,this.transform.height]])instanceof h.Point||"number"==typeof l[0])v=[h.Point.convert(l)];else{var w=h.Point.convert(l[0]),N=h.Point.convert(l[1]);v=[w,new h.Point(N.x,w.y),N,new h.Point(w.x,N.y),w]}return this.style.queryRenderedFeatures(v,d,this.transform)},s.prototype.querySourceFeatures=function(l,d){return this.style.querySourceFeatures(l,d)},s.prototype.setStyle=function(l,d){return!1!==(d=h.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},d)).diff&&d.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&l?(this._diffStyle(l,d),this):(this._localIdeographFontFamily=d.localIdeographFontFamily,this._updateStyle(l,d))},s.prototype._getUIString=function(l){var d=this._locale[l];if(null==d)throw new Error("Missing UI string '"+l+"'");return d},s.prototype._updateStyle=function(l,d){return this.style&&(this.style.setEventedParent(null),this.style._remove()),l?(this.style=new Bi(this,d||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof l?this.style.loadURL(l):this.style.loadJSON(l),this):(delete this.style,this)},s.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Bi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},s.prototype._diffStyle=function(l,d){var v=this;if("string"==typeof l){var w=this._requestManager.normalizeStyleURL(l),N=this._requestManager.transformRequest(w,h.ResourceType.Style);h.getJSON(N,function(ut,bt){ut?v.fire(new h.ErrorEvent(ut)):bt&&v._updateDiff(bt,d)})}else"object"==typeof l&&this._updateDiff(l,d)},s.prototype._updateDiff=function(l,d){try{this.style.setState(l)&&this._update(!0)}catch(v){h.warnOnce("Unable to perform style diff: "+(v.message||v.error||v)+".  Rebuilding the style from scratch."),this._updateStyle(l,d)}},s.prototype.getStyle=function(){if(this.style)return this.style.serialize()},s.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():h.warnOnce("There is no style added to the map.")},s.prototype.addSource=function(l,d){return this._lazyInitEmptyStyle(),this.style.addSource(l,d),this._update(!0)},s.prototype.isSourceLoaded=function(l){var d=this.style&&this.style.sourceCaches[l];if(void 0!==d)return d.loaded();this.fire(new h.ErrorEvent(new Error("There is no source with ID '"+l+"'")))},s.prototype.areTilesLoaded=function(){var l=this.style&&this.style.sourceCaches;for(var d in l){var v=l[d]._tiles;for(var w in v){var N=v[w];if("loaded"!==N.state&&"errored"!==N.state)return!1}}return!0},s.prototype.addSourceType=function(l,d,v){return this._lazyInitEmptyStyle(),this.style.addSourceType(l,d,v)},s.prototype.removeSource=function(l){return this.style.removeSource(l),this._update(!0)},s.prototype.getSource=function(l){return this.style.getSource(l)},s.prototype.addImage=function(l,d,v){void 0===v&&(v={});var w=v.pixelRatio;void 0===w&&(w=1);var N=v.sdf;void 0===N&&(N=!1);var ut=v.stretchX,bt=v.stretchY,Zt=v.content;if(this._lazyInitEmptyStyle(),d instanceof sl||cr&&d instanceof cr){var Wt=h.browser.getImageData(d);this.style.addImage(l,{data:new h.RGBAImage({width:Wt.width,height:Wt.height},Wt.data),pixelRatio:w,stretchX:ut,stretchY:bt,content:Zt,sdf:N,version:0})}else{if(void 0===d.width||void 0===d.height)return this.fire(new h.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Kt=d;this.style.addImage(l,{data:new h.RGBAImage({width:d.width,height:d.height},new Uint8Array(d.data)),pixelRatio:w,stretchX:ut,stretchY:bt,content:Zt,sdf:N,version:0,userImage:Kt}),Kt.onAdd&&Kt.onAdd(this,l)}},s.prototype.updateImage=function(l,d){var v=this.style.getImage(l);if(!v)return this.fire(new h.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var w=d instanceof sl||cr&&d instanceof cr?h.browser.getImageData(d):d,N=w.width,ut=w.height,bt=w.data;return void 0===N||void 0===ut?this.fire(new h.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):N!==v.data.width||ut!==v.data.height?this.fire(new h.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(v.data.replace(bt,!(d instanceof sl||cr&&d instanceof cr)),void this.style.updateImage(l,v))},s.prototype.hasImage=function(l){return l?!!this.style.getImage(l):(this.fire(new h.ErrorEvent(new Error("Missing required image id"))),!1)},s.prototype.removeImage=function(l){this.style.removeImage(l)},s.prototype.loadImage=function(l,d){h.getImage(this._requestManager.transformRequest(l,h.ResourceType.Image),d)},s.prototype.listImages=function(){return this.style.listImages()},s.prototype.addLayer=function(l,d){return this._lazyInitEmptyStyle(),this.style.addLayer(l,d),this._update(!0)},s.prototype.moveLayer=function(l,d){return this.style.moveLayer(l,d),this._update(!0)},s.prototype.removeLayer=function(l){return this.style.removeLayer(l),this._update(!0)},s.prototype.getLayer=function(l){return this.style.getLayer(l)},s.prototype.setLayerZoomRange=function(l,d,v){return this.style.setLayerZoomRange(l,d,v),this._update(!0)},s.prototype.setFilter=function(l,d,v){return void 0===v&&(v={}),this.style.setFilter(l,d,v),this._update(!0)},s.prototype.getFilter=function(l){return this.style.getFilter(l)},s.prototype.setPaintProperty=function(l,d,v,w){return void 0===w&&(w={}),this.style.setPaintProperty(l,d,v,w),this._update(!0)},s.prototype.getPaintProperty=function(l,d){return this.style.getPaintProperty(l,d)},s.prototype.setLayoutProperty=function(l,d,v,w){return void 0===w&&(w={}),this.style.setLayoutProperty(l,d,v,w),this._update(!0)},s.prototype.getLayoutProperty=function(l,d){return this.style.getLayoutProperty(l,d)},s.prototype.setLight=function(l,d){return void 0===d&&(d={}),this._lazyInitEmptyStyle(),this.style.setLight(l,d),this._update(!0)},s.prototype.getLight=function(){return this.style.getLight()},s.prototype.setFeatureState=function(l,d){return this.style.setFeatureState(l,d),this._update()},s.prototype.removeFeatureState=function(l,d){return this.style.removeFeatureState(l,d),this._update()},s.prototype.getFeatureState=function(l){return this.style.getFeatureState(l)},s.prototype.getContainer=function(){return this._container},s.prototype.getCanvasContainer=function(){return this._canvasContainer},s.prototype.getCanvas=function(){return this._canvas},s.prototype._containerDimensions=function(){var l=0,d=0;return this._container&&(l=this._container.clientWidth||400,d=this._container.clientHeight||300),[l,d]},s.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==h.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&h.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},s.prototype._setupContainer=function(){var l=this._container;l.classList.add("mapboxgl-map"),(this._missingCSSCanary=T.create("div","mapboxgl-canary",l)).style.visibility="hidden",this._detectMissingCSS();var d=this._canvasContainer=T.create("div","mapboxgl-canvas-container",l);this._interactive&&d.classList.add("mapboxgl-interactive"),this._canvas=T.create("canvas","mapboxgl-canvas",d),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var v=this._containerDimensions();this._resizeCanvas(v[0],v[1]);var w=this._controlContainer=T.create("div","mapboxgl-control-container",l),N=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ut){N[ut]=T.create("div","mapboxgl-ctrl-"+ut,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},s.prototype._resizeCanvas=function(l,d){var v=h.browser.devicePixelRatio||1;this._canvas.width=v*l,this._canvas.height=v*d,this._canvas.style.width=l+"px",this._canvas.style.height=d+"px"},s.prototype._setupPainter=function(){var l=h.extend({},rt.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),d=this._canvas.getContext("webgl",l)||this._canvas.getContext("experimental-webgl",l);d?(this.painter=new Re(d,this.transform),h.webpSupported.testSupport(d)):this.fire(new h.ErrorEvent(new Error("Failed to initialize WebGL")))},s.prototype._contextLost=function(l){l.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new h.Event("webglcontextlost",{originalEvent:l}))},s.prototype._contextRestored=function(l){this._setupPainter(),this.resize(),this._update(),this.fire(new h.Event("webglcontextrestored",{originalEvent:l}))},s.prototype._onMapScroll=function(l){if(l.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},s.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},s.prototype._update=function(l){return this.style?(this._styleDirty=this._styleDirty||l,this._sourcesDirty=!0,this.triggerRepaint(),this):this},s.prototype._requestRenderFrame=function(l){return this._update(),this._renderTaskQueue.add(l)},s.prototype._cancelRenderFrame=function(l){this._renderTaskQueue.remove(l)},s.prototype._render=function(l){var d,v=this,w=0,N=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(d=N.createQueryEXT(),N.beginQueryEXT(N.TIME_ELAPSED_EXT,d),w=h.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(l),!this._removed){var ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var bt=this.transform.zoom,Zt=h.browser.now();this.style.zoomHistory.update(bt,Zt);var Wt=new h.EvaluationParameters(bt,{now:Zt,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Kt=Wt.crossFadingFactor();1===Kt&&Kt===this._crossFadingFactor||(ut=!0,this._crossFadingFactor=Kt),this.style.update(Wt)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new h.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new h.Event("load"))),this.style&&(this.style.hasTransitions()||ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var me=h.browser.now()-w;N.endQueryEXT(N.TIME_ELAPSED_EXT,d),setTimeout(function(){var ae=N.getQueryObjectEXT(d,N.QUERY_RESULT_EXT)/1e6;N.deleteQueryEXT(d),v.fire(new h.Event("gpu-timing-frame",{cpuTime:me,gpuTime:ae}))},50)}if(this.listens("gpu-timing-layer")){var ce=this.painter.collectGpuTimers();setTimeout(function(){var ae=v.painter.queryGpuTimers(ce);v.fire(new h.Event("gpu-timing-layer",{layerTimes:ae}))},50)}var _e=this._sourcesDirty||this._styleDirty||this._placementDirty;return _e||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new h.Event("idle")),!this._loaded||this._fullyLoaded||_e||(this._fullyLoaded=!0),this}},s.prototype.remove=function(){this._hash&&this._hash.remove();for(var l=0,d=this._controls;l<d.length;l+=1)d[l].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==h.window&&(h.window.removeEventListener("resize",this._onWindowResize,!1),h.window.removeEventListener("orientationchange",this._onWindowResize,!1),h.window.removeEventListener("online",this._onWindowOnline,!1));var v=this.painter.context.gl.getExtension("WEBGL_lose_context");v&&v.loseContext(),Ba(this._canvasContainer),Ba(this._controlContainer),Ba(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new h.Event("remove"))},s.prototype.triggerRepaint=function(){var l=this;this.style&&!this._frame&&(this._frame=h.browser.frame(function(d){l._frame=null,l._render(d)}))},s.prototype._onWindowOnline=function(){this._update()},s.prototype._onWindowResize=function(l){this._trackResize&&this.resize({originalEvent:l})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(l){this._showTileBoundaries!==l&&(this._showTileBoundaries=l,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(l){this._showPadding!==l&&(this._showPadding=l,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(l){this._showCollisionBoxes!==l&&(this._showCollisionBoxes=l,l?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(l){this._showOverdrawInspector!==l&&(this._showOverdrawInspector=l,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(l){this._repaint!==l&&(this._repaint=l,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(l){this._vertices=l,this._update()},s.prototype._setCacheLimits=function(l,d){h.setCacheLimits(l,d)},o.version.get=function(){return h.version},Object.defineProperties(s.prototype,o),s}(Ta);function Ba(n){n.parentNode&&n.parentNode.removeChild(n)}var Jl={showCompass:!0,showZoom:!0,visualizePitch:!1},ya=function(n){var s=this;this.options=h.extend({},Jl,n),this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(o){return o.preventDefault()}),this.options.showZoom&&(h.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(o){return s._map.zoomIn({},{originalEvent:o})}),T.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(o){return s._map.zoomOut({},{originalEvent:o})}),T.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(h.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(o){s.options.visualizePitch?s._map.resetNorthPitch({},{originalEvent:o}):s._map.resetNorth({},{originalEvent:o})}),this._compassIcon=T.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ya.prototype._updateZoomButtons=function(){var n=this._map.getZoom(),s=n===this._map.getMaxZoom(),o=n===this._map.getMinZoom();this._zoomInButton.disabled=s,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute("aria-disabled",s.toString()),this._zoomOutButton.setAttribute("aria-disabled",o.toString())},ya.prototype._rotateCompassArrow=function(){var n=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=n},ya.prototype.onAdd=function(n){return this._map=n,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Is(this._map,this._compass,this.options.visualizePitch)),this._container},ya.prototype.onRemove=function(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ya.prototype._createButton=function(n,s){var o=T.create("button",n,this._container);return o.type="button",o.addEventListener("click",s),o},ya.prototype._setButtonTitle=function(n,s){var o=this._map._getUIString("NavigationControl."+s);n.title=o,n.setAttribute("aria-label",o)};var Is=function(n,s,o){void 0===o&&(o=!1),this._clickTolerance=10,this.element=s,this.mouseRotate=new xs({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,o&&(this.mousePitch=new sa({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),h.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(s,"mousedown",this.mousedown),T.addEventListener(s,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(s,"touchmove",this.touchmove),T.addEventListener(s,"touchend",this.touchend),T.addEventListener(s,"touchcancel",this.reset)};function Xa(n,s,o){if(n=new h.LngLat(n.lng,n.lat),s){var l=new h.LngLat(n.lng-360,n.lat),d=new h.LngLat(n.lng+360,n.lat),v=o.locationPoint(n).distSqr(s);o.locationPoint(l).distSqr(s)<v?n=l:o.locationPoint(d).distSqr(s)<v&&(n=d)}for(;Math.abs(n.lng-o.center.lng)>180;){var w=o.locationPoint(n);if(w.x>=0&&w.y>=0&&w.x<=o.width&&w.y<=o.height)break;n.lng>o.center.lng?n.lng-=360:n.lng+=360}return n}Is.prototype.down=function(n,s){this.mouseRotate.mousedown(n,s),this.mousePitch&&this.mousePitch.mousedown(n,s),T.disableDrag()},Is.prototype.move=function(n,s){var o=this.map,l=this.mouseRotate.mousemoveWindow(n,s);if(l&&l.bearingDelta&&o.setBearing(o.getBearing()+l.bearingDelta),this.mousePitch){var d=this.mousePitch.mousemoveWindow(n,s);d&&d.pitchDelta&&o.setPitch(o.getPitch()+d.pitchDelta)}},Is.prototype.off=function(){var n=this.element;T.removeEventListener(n,"mousedown",this.mousedown),T.removeEventListener(n,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(n,"touchmove",this.touchmove),T.removeEventListener(n,"touchend",this.touchend),T.removeEventListener(n,"touchcancel",this.reset),this.offTemp()},Is.prototype.offTemp=function(){T.enableDrag(),T.removeEventListener(h.window,"mousemove",this.mousemove),T.removeEventListener(h.window,"mouseup",this.mouseup)},Is.prototype.mousedown=function(n){this.down(h.extend({},n,{ctrlKey:!0,preventDefault:function(){return n.preventDefault()}}),T.mousePos(this.element,n)),T.addEventListener(h.window,"mousemove",this.mousemove),T.addEventListener(h.window,"mouseup",this.mouseup)},Is.prototype.mousemove=function(n){this.move(n,T.mousePos(this.element,n))},Is.prototype.mouseup=function(n){this.mouseRotate.mouseupWindow(n),this.mousePitch&&this.mousePitch.mouseupWindow(n),this.offTemp()},Is.prototype.touchstart=function(n){1!==n.targetTouches.length?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,n.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return n.preventDefault()}},this._startPos))},Is.prototype.touchmove=function(n){1!==n.targetTouches.length?this.reset():(this._lastPos=T.touchPos(this.element,n.targetTouches)[0],this.move({preventDefault:function(){return n.preventDefault()}},this._lastPos))},Is.prototype.touchend=function(n){0===n.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Is.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var ua={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function xl(n,s,o){var l=n.classList;for(var d in ua)l.remove("mapboxgl-"+o+"-anchor-"+d);l.add("mapboxgl-"+o+"-anchor-"+s)}var Ya,al=function(n){function s(o,l){if(n.call(this),(o instanceof h.window.HTMLElement||l)&&(o=h.extend({element:o},l)),h.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&"auto"!==o.pitchAlignment?o.pitchAlignment:this._rotationAlignment,o&&o.element)this._element=o.element,this._offset=h.Point.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");var d=T.createNS("http://www.w3.org/2000/svg","svg");d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height","41px"),d.setAttributeNS(null,"width","27px"),d.setAttributeNS(null,"viewBox","0 0 27 41");var v=T.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"stroke","none"),v.setAttributeNS(null,"stroke-width","1"),v.setAttributeNS(null,"fill","none"),v.setAttributeNS(null,"fill-rule","evenodd");var w=T.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"fill-rule","nonzero");var N=T.createNS("http://www.w3.org/2000/svg","g");N.setAttributeNS(null,"transform","translate(3.0, 29.0)"),N.setAttributeNS(null,"fill","#000000");for(var ut=0,bt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ut<bt.length;ut+=1){var Zt=bt[ut],Wt=T.createNS("http://www.w3.org/2000/svg","ellipse");Wt.setAttributeNS(null,"opacity","0.04"),Wt.setAttributeNS(null,"cx","10.5"),Wt.setAttributeNS(null,"cy","5.80029008"),Wt.setAttributeNS(null,"rx",Zt.rx),Wt.setAttributeNS(null,"ry",Zt.ry),N.appendChild(Wt)}var Kt=T.createNS("http://www.w3.org/2000/svg","g");Kt.setAttributeNS(null,"fill",this._color);var me=T.createNS("http://www.w3.org/2000/svg","path");me.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Kt.appendChild(me);var ce=T.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"opacity","0.25"),ce.setAttributeNS(null,"fill","#000000");var _e=T.createNS("http://www.w3.org/2000/svg","path");_e.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ce.appendChild(_e);var ae=T.createNS("http://www.w3.org/2000/svg","g");ae.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ae.setAttributeNS(null,"fill","#FFFFFF");var ve=T.createNS("http://www.w3.org/2000/svg","g");ve.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Ae=T.createNS("http://www.w3.org/2000/svg","circle");Ae.setAttributeNS(null,"fill","#000000"),Ae.setAttributeNS(null,"opacity","0.25"),Ae.setAttributeNS(null,"cx","5.5"),Ae.setAttributeNS(null,"cy","5.5"),Ae.setAttributeNS(null,"r","5.4999962");var Be=T.createNS("http://www.w3.org/2000/svg","circle");Be.setAttributeNS(null,"fill","#FFFFFF"),Be.setAttributeNS(null,"cx","5.5"),Be.setAttributeNS(null,"cy","5.5"),Be.setAttributeNS(null,"r","5.4999962"),ve.appendChild(Ae),ve.appendChild(Be),w.appendChild(N),w.appendChild(Kt),w.appendChild(ce),w.appendChild(ae),w.appendChild(ve),d.appendChild(w),d.setAttributeNS(null,"height",41*this._scale+"px"),d.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(d),this._offset=h.Point.convert(o&&o.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Qe){Qe.preventDefault()}),this._element.addEventListener("mousedown",function(Qe){Qe.preventDefault()}),xl(this._element,this._anchor,"marker"),this._popup=null}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.addTo=function(o){return this.remove(),this._map=o,o.getCanvasContainer().appendChild(this._element),o.on("move",this._update),o.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},s.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this},s.prototype.getLngLat=function(){return this._lngLat},s.prototype.setLngLat=function(o){return this._lngLat=h.LngLat.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},s.prototype.getElement=function(){return this._element},s.prototype.setPopup=function(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){var l=Math.sqrt(Math.pow(13.5,2)/2);o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[l,-1*(24.6+l)],"bottom-right":[-l,-1*(24.6+l)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=o,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},s.prototype._onKeyPress=function(o){var l=o.code,d=o.charCode||o.keyCode;"Space"!==l&&"Enter"!==l&&32!==d&&13!==d||this.togglePopup()},s.prototype._onMapClick=function(o){var l=o.originalEvent.target,d=this._element;this._popup&&(l===d||d.contains(l))&&this.togglePopup()},s.prototype.getPopup=function(){return this._popup},s.prototype.togglePopup=function(){var o=this._popup;return o?(o.isOpen()?o.remove():o.addTo(this._map),this):this},s.prototype._update=function(o){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Xa(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var l="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?l="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(l="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var d="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?d="rotateX(0deg)":"map"===this._pitchAlignment&&(d="rotateX("+this._map.getPitch()+"deg)"),o&&"moveend"!==o.type||(this._pos=this._pos.round()),T.setTransform(this._element,ua[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+d+" "+l)}},s.prototype.getOffset=function(){return this._offset},s.prototype.setOffset=function(o){return this._offset=h.Point.convert(o),this._update(),this},s.prototype._onMove=function(o){if(!this._isDragging){var l=this._clickTolerance||this._map._clickTolerance;this._isDragging=o.point.dist(this._pointerdownPos)>=l}this._isDragging&&(this._pos=o.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new h.Event("dragstart"))),this.fire(new h.Event("drag")))},s.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new h.Event("dragend")),this._state="inactive"},s.prototype._addDragHandler=function(o){this._element.contains(o.originalEvent.target)&&(o.preventDefault(),this._positionDelta=o.point.sub(this._pos).add(this._offset),this._pointerdownPos=o.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},s.prototype.setDraggable=function(o){return this._draggable=!!o,this._map&&(o?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},s.prototype.isDraggable=function(){return this._draggable},s.prototype.setRotation=function(o){return this._rotation=o||0,this._update(),this},s.prototype.getRotation=function(){return this._rotation},s.prototype.setRotationAlignment=function(o){return this._rotationAlignment=o||"auto",this._update(),this},s.prototype.getRotationAlignment=function(){return this._rotationAlignment},s.prototype.setPitchAlignment=function(o){return this._pitchAlignment=o&&"auto"!==o?o:this._rotationAlignment,this._update(),this},s.prototype.getPitchAlignment=function(){return this._pitchAlignment},s}(h.Evented),$l={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ka=0,ja=!1,Ql=function(n){function s(o){n.call(this),this.options=h.extend({},$l,o),h.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.onAdd=function(o){var l;return this._map=o,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),l=this._setupUI,void 0!==Ya?l(Ya):void 0!==h.window.navigator.permissions?h.window.navigator.permissions.query({name:"geolocation"}).then(function(d){l(Ya="denied"!==d.state)}):l(Ya=!!h.window.navigator.geolocation),this._container},s.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(h.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ka=0,ja=!1},s.prototype._isOutOfMapMaxBounds=function(o){var l=this._map.getMaxBounds(),d=o.coords;return l&&(d.longitude<l.getWest()||d.longitude>l.getEast()||d.latitude<l.getSouth()||d.latitude>l.getNorth())},s.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},s.prototype._onSuccess=function(o){if(this._map){if(this._isOutOfMapMaxBounds(o))return this._setErrorState(),this.fire(new h.Event("outofmaxbounds",o)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=o,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(o),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(o),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new h.Event("geolocate",o)),this._finish()}},s.prototype._updateCamera=function(o){var l=new h.LngLat(o.coords.longitude,o.coords.latitude),d=o.coords.accuracy,v=this._map.getBearing(),w=h.extend({bearing:v},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(d),w,{geolocateSource:!0})},s.prototype._updateMarker=function(o){if(o){var l=new h.LngLat(o.coords.longitude,o.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=o.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},s.prototype._updateCircleRadius=function(){var o=this._map._container.clientHeight/2,l=this._map.unproject([0,o]),d=this._map.unproject([1,o]),v=l.distanceTo(d),w=Math.ceil(2*this._accuracy/v);this._circleElement.style.width=w+"px",this._circleElement.style.height=w+"px"},s.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},s.prototype._onError=function(o){if(this._map){if(this.options.trackUserLocation)if(1===o.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===o.code&&ja)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new h.Event("error",o)),this._finish()}},s.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},s.prototype._setupUI=function(o){var l=this;if(this._container.addEventListener("contextmenu",function(w){return w.preventDefault()}),this._geolocateButton=T.create("button","mapboxgl-ctrl-geolocate",this._container),T.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===o){h.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{var v=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=v,this._geolocateButton.setAttribute("aria-label",v)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new al(this._dotElement),this._circleElement=T.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new al({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(w){w.geolocateSource||"ACTIVE_LOCK"!==l._watchState||w.originalEvent&&"resize"===w.originalEvent.type||(l._watchState="BACKGROUND",l._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),l._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),l.fire(new h.Event("trackuserlocationend")))})},s.prototype.trigger=function(){if(!this._setup)return h.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new h.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ka--,ja=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new h.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new h.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var o;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ka>1?(o={maximumAge:6e5,timeout:0},ja=!0):(o=this.options.positionOptions,ja=!1),this._geolocationWatchID=h.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,o)}}else h.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},s.prototype._clearWatch=function(){h.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},s}(h.Evented),Ca={maxWidth:100,unit:"metric"},Aa=function(n){this.options=h.extend({},Ca,n),h.bindAll(["_onMove","setUnit"],this)};function bl(n,s,o){var l=o&&o.maxWidth||100,d=n._container.clientHeight/2,v=n.unproject([0,d]),w=n.unproject([l,d]),N=v.distanceTo(w);if(o&&"imperial"===o.unit){var ut=3.2808*N;ut>5280?Ea(s,l,ut/5280,n._getUIString("ScaleControl.Miles")):Ea(s,l,ut,n._getUIString("ScaleControl.Feet"))}else o&&"nautical"===o.unit?Ea(s,l,N/1852,n._getUIString("ScaleControl.NauticalMiles")):N>=1e3?Ea(s,l,N/1e3,n._getUIString("ScaleControl.Kilometers")):Ea(s,l,N,n._getUIString("ScaleControl.Meters"))}function Ea(n,s,o,l){var d,v,w,ut,bt,N=(d=o,(v=Math.pow(10,(""+Math.floor(d)).length-1))*(w=(w=d/v)>=10?10:w>=5?5:w>=3?3:w>=2?2:w>=1?1:(ut=w,bt=Math.pow(10,Math.ceil(-Math.log(ut)/Math.LN10)),Math.round(ut*bt)/bt)));n.style.width=s*(N/o)+"px",n.innerHTML=N+"&nbsp;"+l}Aa.prototype.getDefaultPosition=function(){return"bottom-left"},Aa.prototype._onMove=function(){bl(this._map,this._container,this.options)},Aa.prototype.onAdd=function(n){return this._map=n,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",n.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Aa.prototype.onRemove=function(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Aa.prototype.setUnit=function(n){this.options.unit=n,bl(this._map,this._container,this.options)};var Ks=function(n){this._fullscreen=!1,n&&n.container&&(n.container instanceof h.window.HTMLElement?this._container=n.container:h.warnOnce("Full screen control 'container' must be a DOM element.")),h.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in h.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in h.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in h.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in h.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ks.prototype.onAdd=function(n){return this._map=n,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",h.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ks.prototype.onRemove=function(){T.remove(this._controlContainer),this._map=null,h.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ks.prototype._checkFullscreenSupport=function(){return!!(h.window.document.fullscreenEnabled||h.window.document.mozFullScreenEnabled||h.window.document.msFullscreenEnabled||h.window.document.webkitFullscreenEnabled)},Ks.prototype._setupUI=function(){var n=this._fullscreenButton=T.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","mapboxgl-ctrl-icon",n).setAttribute("aria-hidden",!0),n.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),h.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ks.prototype._updateTitle=function(){var n=this._getTitle();this._fullscreenButton.setAttribute("aria-label",n),this._fullscreenButton.title=n},Ks.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ks.prototype._isFullscreen=function(){return this._fullscreen},Ks.prototype._changeIcon=function(){(h.window.document.fullscreenElement||h.window.document.mozFullScreenElement||h.window.document.webkitFullscreenElement||h.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ks.prototype._onClickFullscreen=function(){this._isFullscreen()?h.window.document.exitFullscreen?h.window.document.exitFullscreen():h.window.document.mozCancelFullScreen?h.window.document.mozCancelFullScreen():h.window.document.msExitFullscreen?h.window.document.msExitFullscreen():h.window.document.webkitCancelFullScreen&&h.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var th={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ll=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),eh=function(n){function s(o){n.call(this),this.options=h.extend(Object.create(th),o),h.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return n&&(s.__proto__=n),(s.prototype=Object.create(n&&n.prototype)).constructor=s,s.prototype.addTo=function(o){return this._map&&this.remove(),this._map=o,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new h.Event("open")),this},s.prototype.isOpen=function(){return!!this._map},s.prototype.remove=function(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new h.Event("close")),this},s.prototype.getLngLat=function(){return this._lngLat},s.prototype.setLngLat=function(o){return this._lngLat=h.LngLat.convert(o),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},s.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},s.prototype.getElement=function(){return this._container},s.prototype.setText=function(o){return this.setDOMContent(h.window.document.createTextNode(o))},s.prototype.setHTML=function(o){var l,d=h.window.document.createDocumentFragment(),v=h.window.document.createElement("body");for(v.innerHTML=o;l=v.firstChild;)d.appendChild(l);return this.setDOMContent(d)},s.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},s.prototype.setMaxWidth=function(o){return this.options.maxWidth=o,this._update(),this},s.prototype.setDOMContent=function(o){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=T.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(o),this._createCloseButton(),this._update(),this._focusFirstElement(),this},s.prototype.addClassName=function(o){this._container&&this._container.classList.add(o)},s.prototype.removeClassName=function(o){this._container&&this._container.classList.remove(o)},s.prototype.setOffset=function(o){return this.options.offset=o,this._update(),this},s.prototype.toggleClassName=function(o){if(this._container)return this._container.classList.toggle(o)},s.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=T.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},s.prototype._onMouseUp=function(o){this._update(o.point)},s.prototype._onMouseMove=function(o){this._update(o.point)},s.prototype._onDrag=function(o){this._update(o.point)},s.prototype._update=function(o){var l=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=T.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Wt){return l._container.classList.add(Wt)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Xa(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||o)){var d=this._pos=this._trackPointer&&o?o:this._map.project(this._lngLat),v=this.options.anchor,w=function Wt(Kt){if(Kt){if("number"==typeof Kt){var me=Math.round(Math.sqrt(.5*Math.pow(Kt,2)));return{center:new h.Point(0,0),top:new h.Point(0,Kt),"top-left":new h.Point(me,me),"top-right":new h.Point(-me,me),bottom:new h.Point(0,-Kt),"bottom-left":new h.Point(me,-me),"bottom-right":new h.Point(-me,-me),left:new h.Point(Kt,0),right:new h.Point(-Kt,0)}}if(Kt instanceof h.Point||Array.isArray(Kt)){var ce=h.Point.convert(Kt);return{center:ce,top:ce,"top-left":ce,"top-right":ce,bottom:ce,"bottom-left":ce,"bottom-right":ce,left:ce,right:ce}}return{center:h.Point.convert(Kt.center||[0,0]),top:h.Point.convert(Kt.top||[0,0]),"top-left":h.Point.convert(Kt["top-left"]||[0,0]),"top-right":h.Point.convert(Kt["top-right"]||[0,0]),bottom:h.Point.convert(Kt.bottom||[0,0]),"bottom-left":h.Point.convert(Kt["bottom-left"]||[0,0]),"bottom-right":h.Point.convert(Kt["bottom-right"]||[0,0]),left:h.Point.convert(Kt.left||[0,0]),right:h.Point.convert(Kt.right||[0,0])}}return Wt(new h.Point(0,0))}(this.options.offset);if(!v){var N,ut=this._container.offsetWidth,bt=this._container.offsetHeight;N=d.y+w.bottom.y<bt?["top"]:d.y>this._map.transform.height-bt?["bottom"]:[],d.x<ut/2?N.push("left"):d.x>this._map.transform.width-ut/2&&N.push("right"),v=0===N.length?"bottom":N.join("-")}var Zt=d.add(w[v]).round();T.setTransform(this._container,ua[v]+" translate("+Zt.x+"px,"+Zt.y+"px)"),xl(this._container,v,"popup")}},s.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var o=this._container.querySelector(ll);o&&o.focus()}},s.prototype._onClose=function(){this.remove()},s}(h.Evented),wl={version:h.version,supported:rt,setRTLTextPlugin:h.setRTLTextPlugin,getRTLTextPluginStatus:h.getRTLTextPluginStatus,Map:Eh,NavigationControl:ya,GeolocateControl:Ql,AttributionControl:Xo,ScaleControl:Aa,FullscreenControl:Ks,Popup:eh,Marker:al,Style:Bi,LngLat:h.LngLat,LngLatBounds:h.LngLatBounds,Point:h.Point,MercatorCoordinate:h.MercatorCoordinate,Evented:h.Evented,config:h.config,prewarm:function(){$e().acquire(He)},clearPrewarmedResources:function(){var n=Ri;n&&(n.isPreloaded()&&1===n.numActive()?(n.release(He),Ri=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return h.config.ACCESS_TOKEN},set accessToken(n){h.config.ACCESS_TOKEN=n},get baseApiUrl(){return h.config.API_URL},set baseApiUrl(n){h.config.API_URL=n},get workerCount(){return qe.workerCount},set workerCount(n){qe.workerCount=n},get maxParallelImageRequests(){return h.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(n){h.config.MAX_PARALLEL_IMAGE_REQUESTS=n},clearStorage:function(n){h.clearTileCache(n)},workerUrl:""};return wl}),dt}();var ht=J.exports,at=Pt.Layer.extend({options:{updateInterval:32,padding:.1,interactive:!1,opacity:1},initialize:function(O){Pt.setOptions(this,O),this._throttledUpdate=Pt.Util.throttle(this._update,this.options.updateInterval,this)},onAdd:function(O){this._container||this._initContainer(),this.getPane().appendChild(this._container),this._initGL(),this._offset=this._map.containerPointToLayerPoint([0,0]),O.options.zoomAnimation&&Pt.DomEvent.on(O._proxy,Pt.DomUtil.TRANSITION_END,this._transitionEnd,this)},onRemove:function(O){this._map._proxy&&this._map.options.zoomAnimation&&Pt.DomEvent.off(this._map._proxy,Pt.DomUtil.TRANSITION_END,this._transitionEnd,this),this.getPane().removeChild(this._container),this._glMap.remove(),this._glMap=null},getEvents:function(){return{move:this._throttledUpdate,zoomanim:this._animateZoom,zoom:this._pinchZoom,zoomstart:this._zoomStart,zoomend:this._zoomEnd}},getMapboxMap:function(){return this._glMap},getCanvas:function(){return this._glMap.getCanvas()},getSize:function(){return this._map.getSize().multiplyBy(1+2*this.options.padding)},getOpacity:function(){return this.options.opacity},setOpacity:function(O){this.options.opacity=O,this._container.style.opacity=O},getBounds:function(){var O=this.getSize().multiplyBy(.5),V=this._map.latLngToContainerPoint(this._map.getCenter());return Pt.latLngBounds(this._map.containerPointToLatLng(V.subtract(O)),this._map.containerPointToLatLng(V.add(O)))},getContainer:function(){return this._container},_initContainer:function(){var O=this._container=Pt.DomUtil.create("div","leaflet-gl-layer"),V=this.getSize(),Y=this._map.getSize().multiplyBy(this.options.padding);O.style.width=V.x+"px",O.style.height=V.y+"px",O.style.position="absolute",O.style.opacity=this.options.opacity;var K=this._map.containerPointToLayerPoint([0,0]).subtract(Y);Pt.DomUtil.setPosition(O,K)},_initGL:function(){var O=this._map.getCenter(),V=Pt.extend({},this.options,{container:this._container,center:[O.lng,O.lat],zoom:this._map.getZoom()-1,attributionControl:!1});this._glMap=new ht.Map(V),this._glMap.once("styledata",function(K){this.fire("styleLoaded")}.bind(this)),this._glMap.transform.latRange=null,this._glMap.transform.maxValidLatitude=1/0,this._transformGL(this._glMap),this._glMap._actualCanvas=this._glMap._canvas.canvas?this._glMap._canvas.canvas:this._glMap._canvas;var Y=this._glMap._actualCanvas;Pt.DomUtil.addClass(Y,"leaflet-image-layer"),Pt.DomUtil.addClass(Y,"leaflet-zoom-animated"),this.options.interactive&&Pt.DomUtil.addClass(Y,"leaflet-interactive"),this.options.className&&Pt.DomUtil.addClass(Y,this.options.className)},_update:function(O){if(this._offset=this._map.containerPointToLayerPoint([0,0]),!this._zooming){var V=this.getSize(),Y=this._container,K=this._glMap,dt=this._map.getSize().multiplyBy(this.options.padding),g=this._map.containerPointToLayerPoint([0,0]).subtract(dt);Pt.DomUtil.setPosition(Y,g),this._transformGL(K),K.transform.width!==V.x||K.transform.height!==V.y?(Y.style.width=V.x+"px",Y.style.height=V.y+"px",null!=K._resize?K._resize():K.resize()):null!=K._update?K._update():K.update()}},_transformGL:function(O){var V=this._map.getCenter(),Y=O.transform;Y.center=ht.LngLat.convert([V.lng,V.lat]),Y.zoom=this._map.getZoom()-1},_pinchZoom:function(O){this._glMap.jumpTo({zoom:this._map.getZoom()-1,center:this._map.getCenter()})},_animateZoom:function(O){var V=this._map.getZoomScale(O.zoom),Y=this._map.getSize().multiplyBy(this.options.padding*V),K=this.getSize()._divideBy(2),dt=this._map.project(O.center,O.zoom)._subtract(K)._add(this._map._getMapPanePos().add(Y))._round(),g=this._map.project(this._map.getBounds().getNorthWest(),O.zoom)._subtract(dt);Pt.DomUtil.setTransform(this._glMap._actualCanvas,g.subtract(this._offset),V)},_zoomStart:function(O){this._zooming=!0},_zoomEnd:function(){var O=this._map.getZoomScale(this._map.getZoom());Pt.DomUtil.setTransform(this._glMap._actualCanvas,null,O),this._zooming=!1,this._update()},_transitionEnd:function(O){Pt.Util.requestAnimFrame(function(){var V=this._map.getZoom(),Y=this._map.getCenter(),K=this._map.latLngToContainerPoint(this._map.getBounds().getNorthWest());Pt.DomUtil.setTransform(this._glMap._actualCanvas,K,1),this._glMap.once("moveend",Pt.Util.bind(function(){this._zoomEnd()},this)),this._glMap.jumpTo({center:Y,zoom:V-1})},this)}});function F(O){return new at(O)}var R=Pt.Layer.extend({options:{key:"ArcGIS:Streets"},initialize:function(O,V){if(V&&Pt.setOptions(this,V),this.options.apiKey&&(this.options.apikey=this.options.apiKey),this.options.token&&(this.options.apikey=this.options.token),!this.options.apikey&&!this.options.token)throw new Error("API Key or token is required for vectorBasemapLayer.");O&&(this.options.key=O),this._createLayer()},_createLayer:function(){var V,Y,K=(Y="https://basemaps-api.arcgis.com/arcgis/rest/services/styles/"+this.options.key+"?type=style",(V=this.options.apikey)&&(Y=Y+"&apiKey="+V),Y);this._mapboxGL=F({style:K,pane:this.options.pane,opacity:this.options.opacity}),this._ready=!0,this.fire("ready",{},!0),this._mapboxGL.on("styleLoaded",function(dt){this._setupAttribution()}.bind(this))},_setupAttribution:function(){var O=this._map;if(j.Util.setEsriAttribution(O),32===this.options.key.length){var V=this._mapboxGL.getMapboxMap().style.stylesheet.sources,Y=[];Object.keys(V).forEach(function(K){Y.push(V[K].attribution),V[K].copyrightText&&V[K].copyrightText&&""!==V[K].copyrightText&&V[K].attribution!==V[K].copyrightText&&Y.push(V[K].copyrightText)}),O.attributionControl.addAttribution('<span class="">'+Y.join(", ")+"</span>")}else if(this.options.attributionUrls||(this.options.attributionUrls=this._getAttributionUrls(this.options.key)),this._map&&this.options.attributionUrls){if(this._map.attributionControl){for(let K=0;K<this.options.attributionUrls.length;K++)Dt(this.options.attributionUrls[K],O);O.attributionControl.addAttribution('<span class="esri-dynamic-attribution"></span>')}j.Util._updateMapAttribution({target:this._map})}},_getAttributionUrls:function(O){return 0===O.indexOf("OSM:")?["https://static.arcgis.com/attribution/Vector/OpenStreetMap_v2"]:0===O.indexOf("ArcGIS:Imagery")?["https://static.arcgis.com/attribution/World_Imagery","https://static.arcgis.com/attribution/Vector/World_Basemap_v2"]:["https://static.arcgis.com/attribution/Vector/World_Basemap_v2"]},onAdd:function(O){this._map=O,this._initPane(),this._ready?this._asyncAdd():this.once("ready",function(){this._asyncAdd()},this)},_initPane:function(){if(this.options.pane||(this.options.pane=this.options.key.indexOf(":Labels")>-1?"esri-labels":"tilePane"),!this._map.getPane(this.options.pane)){var O=this._map.createPane(this.options.pane);O.style.pointerEvents="none",O.style.zIndex="esri-labels"===this.options.pane?550:500}},onRemove:function(O){if(O.off("moveend",j.Util._updateMapAttribution),O.removeLayer(this._mapboxGL),O.attributionControl){var V=document.getElementsByClassName("esri-dynamic-attribution");V&&V.length>0&&O.attributionControl.removeAttribution(V[0].outerHTML)}},_asyncAdd:function(){var O=this._map;O.on("moveend",j.Util._updateMapAttribution),this._mapboxGL.addTo(O,this)}}),$=Pt.Layer.extend({options:{pane:"overlayPane",portalUrl:"https://www.arcgis.com"},initialize:function(O,V){if(V&&Pt.setOptions(this,V),this.options.apiKey&&(this.options.apikey=this.options.apiKey),this.options.apikey&&(this.options.token=this.options.apikey),!O)throw new Error("An ITEM ID or SERVICE URL is required for vectorTileLayer.");O&&(this.options.key=O),this._createLayer()},_createLayer:function(){!function ot(O,V,Y){var K,dt,g,h;/^https?:\/\//.test(O)&&/\/VectorTileServer\/?$/.test(O)?zt(O,V,Y):(g=Y,Rt(h=(dt=V).portalUrl+"/sharing/rest/content/items/"+(K=O)+"/resources/styles/root.json",dt,function(rt,T){!function Ct(O,V,Y){j.request(V.portalUrl+"/sharing/rest/content/items/"+O,V.token?{token:V.token}:{},Y)}(K,dt,rt?function(G,A){G&&console.error(G),zt(A.url,dt,g)}:function(G,A){G&&console.error(G),nt(A.url,dt,function(D,b){g(D,T,h,b,A.url)})})}))}(this.options.key,this.options,function(O,V,Y,K){if(O)throw new Error(O);if(Ot.indexOf(K.tileInfo.spatialReference.wkid)>=0||console.warn('This layer is not guaranteed to display properly because its service does not use the Web Mercator projection. The "tileInfo.spatialReference" property is:',K.tileInfo.spatialReference,"\nMore information is available at https://docs.mapbox.com/help/glossary/projection/ and https://github.com/Esri/esri-leaflet-vector/issues/94."),V=function(h,rt,T,G){for(var A=Object.keys(h.sources),D=0;D<A.length;D++){var b=h.sources[A[D]];-1===b.url.indexOf("http")&&(b.url=rt.replace("/resources/styles/root.json","")),"/"===b.url.charAt(b.url.length-1)&&(b.url=b.url.slice(0,b.url.length-1)),b.tiles||(T.tiles&&"/"!==T.tiles[0].charAt(0)&&(T.tiles[0]="/"+T.tiles[0]),b.tiles=[b.url+T.tiles[0]]),b.url+="?f=json",b.url+=G?"&token="+G:"",b.tiles[0]+=G?"?token="+G:"",b.minzoom=T.tileInfo.lods[0].level,b.maxzoom=T.tileInfo.lods[T.tileInfo.lods.length-1].level}var W=h.sources[A[A.length-1]];W.attribution=T.copyrightText||"",W.copyrightText=T.copyrightText||"";for(var k=0;k<h.layers.length;k++){var P=h.layers[k];P.layout&&P.layout["text-font"]&&P.layout["text-font"].length>1&&(P.layout["text-font"]=[P.layout["text-font"][0]])}return h.sprite&&-1===h.sprite.indexOf("http")&&(h.sprite=rt.replace("styles/root.json",h.sprite.replace("../","")),h.sprite+=G?"?token="+G:""),h.glyphs&&-1===h.glyphs.indexOf("http")&&(h.glyphs=rt.replace("styles/root.json",h.glyphs.replace("../","")),h.glyphs+=G?"?token="+G:""),h}(V,Y,K,this.options.token),!this.getAttribution()){var g=Object.keys(V.sources);this.options.attribution=V.sources[g[g.length-1]].attribution,this._map&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution())}this.options.style&&"function"==typeof this.options.style&&(V=this.options.style(V)),this._mapboxGL=F({style:V,pane:this.options.pane,opacity:this.options.opacity}),this._ready=!0,this.fire("ready",{},!0)}.bind(this))},onAdd:function(O){this._map=O,this._ready?this._asyncAdd():this.once("ready",function(){this._asyncAdd()},this)},onRemove:function(O){O.removeLayer(this._mapboxGL)},_asyncAdd:function(){this._mapboxGL.addTo(this._map,this)}});xt.VERSION="3.1.5",xt.VectorBasemapLayer=R,xt.VectorTileLayer=$,xt.vectorBasemapLayer=function(O,V){return new R(O,V)},xt.vectorTileLayer=function(O,V){return new $(O,V)},Object.defineProperty(xt,"__esModule",{value:!0})}),document.addEventListener("DOMContentLoaded",function(){"use strict";var xt;feather.replace(),function(){var nt,xt=document.querySelector(".sidebar"),Pt=document.querySelector(".cat-sub-menu"),j=document.querySelectorAll(".sidebar-toggle"),ot=_createForOfIteratorHelper(j);try{for(ot.s();!(nt=ot.n()).done;){var Ct=nt.value;Ct&&Pt&&Ct&&Ct.addEventListener("click",function(){var Rt,zt=_createForOfIteratorHelper(j);try{for(zt.s();!(Rt=zt.n()).done;)Rt.value.classList.toggle("rotated")}catch(Ot){zt.e(Ot)}finally{zt.f()}xt.classList.toggle("hidden"),Pt.classList.remove("visible")})}}catch(zt){ot.e(zt)}finally{ot.f()}}(),(xt=document.querySelectorAll(".show-cat-btn"))&&xt.forEach(function(Pt){var j=Pt.nextElementSibling;Pt.addEventListener("click",function(ot){ot.preventDefault(),j.classList.toggle("visible"),document.querySelector(".category__btn").classList.toggle("rotated")})}),function(){var xt=document.querySelector(".lang-switcher"),Pt=document.querySelector(".lang-menu"),j=document.querySelector(".layer");xt&&(xt.addEventListener("click",function(){Pt.classList.add("active"),j.classList.add("active")}),j&&j.addEventListener("click",function(ot){Pt.classList.contains("active")&&(Pt.classList.remove("active"),j.classList.remove("active"))}))}(),function(){var xt=document.querySelectorAll(".dropdown-btn"),Pt=document.querySelectorAll(".users-item-dropdown"),j=document.querySelector(".layer");if(Pt&&xt){var nt,ot=_createForOfIteratorHelper(xt);try{for(ot.s();!(nt=ot.n()).done;)nt.value.addEventListener("click",function(zt){j.classList.add("active");var Dt,Rt=_createForOfIteratorHelper(Pt);try{for(Rt.s();!(Dt=Rt.n()).done;){var Ot=Dt.value;zt.currentTarget.nextElementSibling==Ot?Ot.classList.contains("active")?Ot.classList.remove("active"):Ot.classList.add("active"):Ot.classList.remove("active")}}catch(J){Rt.e(J)}finally{Rt.f()}})}catch(zt){ot.e(zt)}finally{ot.f()}}j&&j.addEventListener("click",function(zt){var Dt,Rt=_createForOfIteratorHelper(Pt);try{for(Rt.s();!(Dt=Rt.n()).done;){var Ot=Dt.value;Ot.classList.contains("active")&&(Ot.classList.remove("active"),j.classList.remove("active"))}}catch(J){Rt.e(J)}finally{Rt.f()}})}(),addData()}),function(xt,Pt){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=xt.document?Pt(xt,!0):function(j){if(!j.document)throw new Error("jQuery requires a window with a document");return Pt(j)}:Pt(xt)}(typeof window<"u"?window:this,function(xt,Pt){"use strict";var j=[],ot=Object.getPrototypeOf,nt=j.slice,Ct=j.flat?function(f){return j.flat.call(f)}:function(f){return j.concat.apply([],f)},zt=j.push,Rt=j.indexOf,Dt={},Ot=Dt.toString,J=Dt.hasOwnProperty,ht=J.toString,at=ht.call(Object),F={},R=function(f){return"function"==typeof f&&"number"!=typeof f.nodeType&&"function"!=typeof f.item},$=function(f){return null!=f&&f===f.window},O=xt.document,V={type:!0,src:!0,nonce:!0,noModule:!0};function Y(f,C,q){var et,Tt,Vt=(q=q||O).createElement("script");if(Vt.text=f,C)for(et in V)(Tt=C[et]||C.getAttribute&&C.getAttribute(et))&&Vt.setAttribute(et,Tt);q.head.appendChild(Vt).parentNode.removeChild(Vt)}function K(f){return null==f?f+"":"object"==typeof f||"function"==typeof f?Dt[Ot.call(f)]||"object":typeof f}var g=function(f,C){return new g.fn.init(f,C)};function h(f){var C=!!f&&"length"in f&&f.length,q=K(f);return!R(f)&&!$(f)&&("array"===q||0===C||"number"==typeof C&&0<C&&C-1 in f)}g.fn=g.prototype={jquery:"3.6.1",constructor:g,length:0,toArray:function(){return nt.call(this)},get:function(f){return null==f?nt.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var C=g.merge(this.constructor(),f);return C.prevObject=this,C},each:function(f){return g.each(this,f)},map:function(f){return this.pushStack(g.map(this,function(C,q){return f.call(C,q,C)}))},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(f,C){return(C+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(f,C){return C%2}))},eq:function(f){var C=this.length,q=+f+(f<0?C:0);return this.pushStack(0<=q&&q<C?[this[q]]:[])},end:function(){return this.prevObject||this.constructor()},push:zt,sort:j.sort,splice:j.splice},g.extend=g.fn.extend=function(){var f,C,q,et,Tt,Vt,Jt=arguments[0]||{},Se=1,xe=arguments.length,De=!1;for("boolean"==typeof Jt&&(De=Jt,Jt=arguments[Se]||{},Se++),"object"==typeof Jt||R(Jt)||(Jt={}),Se===xe&&(Jt=this,Se--);Se<xe;Se++)if(null!=(f=arguments[Se]))for(C in f)et=f[C],"__proto__"!==C&&Jt!==et&&(De&&et&&(g.isPlainObject(et)||(Tt=Array.isArray(et)))?(q=Jt[C],Vt=Tt&&!Array.isArray(q)?[]:Tt||g.isPlainObject(q)?q:{},Tt=!1,Jt[C]=g.extend(De,Vt,et)):void 0!==et&&(Jt[C]=et));return Jt},g.extend({expando:"jQuery"+("3.6.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var C,q;return!(!f||"[object Object]"!==Ot.call(f)||(C=ot(f))&&("function"!=typeof(q=J.call(C,"constructor")&&C.constructor)||ht.call(q)!==at))},isEmptyObject:function(f){var C;for(C in f)return!1;return!0},globalEval:function(f,C,q){Y(f,{nonce:C&&C.nonce},q)},each:function(f,C){var q,et=0;if(h(f))for(q=f.length;et<q&&!1!==C.call(f[et],et,f[et]);et++);else for(et in f)if(!1===C.call(f[et],et,f[et]))break;return f},makeArray:function(f,C){var q=C||[];return null!=f&&(h(Object(f))?g.merge(q,"string"==typeof f?[f]:f):zt.call(q,f)),q},inArray:function(f,C,q){return null==C?-1:Rt.call(C,f,q)},merge:function(f,C){for(var q=+C.length,et=0,Tt=f.length;et<q;et++)f[Tt++]=C[et];return f.length=Tt,f},grep:function(f,C,q){for(var et=[],Tt=0,Vt=f.length,Jt=!q;Tt<Vt;Tt++)!C(f[Tt],Tt)!==Jt&&et.push(f[Tt]);return et},map:function(f,C,q){var et,Tt,Vt=0,Jt=[];if(h(f))for(et=f.length;Vt<et;Vt++)null!=(Tt=C(f[Vt],Vt,q))&&Jt.push(Tt);else for(Vt in f)null!=(Tt=C(f[Vt],Vt,q))&&Jt.push(Tt);return Ct(Jt)},guid:1,support:F}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=j[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,C){Dt["[object "+C+"]"]=C.toLowerCase()});var rt=function(f){var C,q,et,Tt,Vt,Jt,Se,xe,De,Je,si,Ze,Ge,Bi,Vi,Wi,vr,Fr,yo,$n="sizzle"+1*new Date,xn=f.document,go=0,Gn=0,_r=Ki(),As=Ki(),ia=Ki(),Sr=Ki(),Mo=function(te,we){return te===we&&(si=!0),0},rs={}.hasOwnProperty,or=[],qo=or.pop,Pr=or.push,sr=or.push,to=or.slice,br=function(te,we){for(var ze=0,ui=te.length;ze<ui;ze++)if(te[ze]===we)return ze;return-1},Dr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",yn="[\\x20\\t\\r\\n\\f]",Fn="(?:\\\\[\\da-fA-F]{1,6}"+yn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",pr="\\["+yn+"*("+Fn+")(?:"+yn+"*([*^$|!~]?=)"+yn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Fn+"))|)"+yn+"*\\]",ao=":("+Fn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+pr+")*)|.*)\\)|)",Tr=new RegExp(yn+"+","g"),Pn=new RegExp("^"+yn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+yn+"+$","g"),js=new RegExp("^"+yn+"*,"+yn+"*"),Po=new RegExp("^"+yn+"*([>+~]|"+yn+")"+yn+"*"),Zo=new RegExp(yn+"|>"),_s=new RegExp(ao),na=new RegExp("^"+Fn+"$"),Es={ID:new RegExp("^#("+Fn+")"),CLASS:new RegExp("^\\.("+Fn+")"),TAG:new RegExp("^("+Fn+"|[*])"),ATTR:new RegExp("^"+pr),PSEUDO:new RegExp("^"+ao),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+yn+"*(even|odd|(([+-]|)(\\d*)n|)"+yn+"*(?:([+-]|)"+yn+"*(\\d+)|))"+yn+"*\\)|)","i"),bool:new RegExp("^(?:"+Dr+")$","i"),needsContext:new RegExp("^"+yn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+yn+"*((?:-\\d)?\\d*)"+yn+"*\\)|)(?=[^-]|$)","i")},os=/HTML$/i,Go=/^(?:input|select|textarea|button)$/i,Fs=/^h\d$/i,r=/^[^{]+\{\s*\[native \w/,u=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,y=/[+~]/,z=new RegExp("\\\\[\\da-fA-F]{1,6}"+yn+"?|\\\\([^\\r\\n\\f])","g"),lt=function(te,we){var ze="0x"+te.slice(1)-65536;return we||(ze<0?String.fromCharCode(ze+65536):String.fromCharCode(ze>>10|55296,1023&ze|56320))},Ht=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ke=function(te,we){return we?"\0"===te?"\ufffd":te.slice(0,-1)+"\\"+te.charCodeAt(te.length-1).toString(16)+" ":"\\"+te},Ee=function(){Ze()},oi=ps(function(te){return!0===te.disabled&&"fieldset"===te.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{sr.apply(or=to.call(xn.childNodes),xn.childNodes)}catch{sr={apply:or.length?function(we,ze){Pr.apply(we,to.call(ze))}:function(we,ze){for(var ui=we.length,Ve=0;we[ui++]=ze[Ve++];);we.length=ui-1}}}function ni(te,we,ze,ui){var Ve,yi,Mi,ji,Hi,Ln,Tn,cn=we&&we.ownerDocument,At=we?we.nodeType:9;if(ze=ze||[],"string"!=typeof te||!te||1!==At&&9!==At&&11!==At)return ze;if(!ui&&(Ze(we),we=we||Ge,Vi)){if(11!==At&&(Hi=u.exec(te)))if(Ve=Hi[1]){if(9===At){if(!(Mi=we.getElementById(Ve)))return ze;if(Mi.id===Ve)return ze.push(Mi),ze}else if(cn&&(Mi=cn.getElementById(Ve))&&yo(we,Mi)&&Mi.id===Ve)return ze.push(Mi),ze}else{if(Hi[2])return sr.apply(ze,we.getElementsByTagName(te)),ze;if((Ve=Hi[3])&&q.getElementsByClassName&&we.getElementsByClassName)return sr.apply(ze,we.getElementsByClassName(Ve)),ze}if(q.qsa&&!Sr[te+" "]&&(!Wi||!Wi.test(te))&&(1!==At||"object"!==we.nodeName.toLowerCase())){if(Tn=te,cn=we,1===At&&(Zo.test(te)||Po.test(te))){for((cn=y.test(te)&&Ns(we.parentNode)||we)===we&&q.scope||((ji=we.getAttribute("id"))?ji=ji.replace(Ht,ke):we.setAttribute("id",ji=$n)),yi=(Ln=Jt(te)).length;yi--;)Ln[yi]=(ji?"#"+ji:":scope")+" "+es(Ln[yi]);Tn=Ln.join(",")}try{return sr.apply(ze,cn.querySelectorAll(Tn)),ze}catch{Sr(te,!0)}finally{ji===$n&&we.removeAttribute("id")}}}return xe(te.replace(Pn,"$1"),we,ze,ui)}function Ki(){var te=[];return function we(ze,ui){return te.push(ze+" ")>et.cacheLength&&delete we[te.shift()],we[ze+" "]=ui}}function bn(te){return te[$n]=!0,te}function Un(te){var we=Ge.createElement("fieldset");try{return!!te(we)}catch{return!1}finally{we.parentNode&&we.parentNode.removeChild(we),we=null}}function Lr(te,we){for(var ze=te.split("|"),ui=ze.length;ui--;)et.attrHandle[ze[ui]]=we}function ss(te,we){var ze=we&&te,ui=ze&&1===te.nodeType&&1===we.nodeType&&te.sourceIndex-we.sourceIndex;if(ui)return ui;if(ze)for(;ze=ze.nextSibling;)if(ze===we)return-1;return te?1:-1}function Co(te){return function(we){return"input"===we.nodeName.toLowerCase()&&we.type===te}}function ro(te){return function(we){var ze=we.nodeName.toLowerCase();return("input"===ze||"button"===ze)&&we.type===te}}function ks(te){return function(we){return"form"in we?we.parentNode&&!1===we.disabled?"label"in we?"label"in we.parentNode?we.parentNode.disabled===te:we.disabled===te:we.isDisabled===te||we.isDisabled!==!te&&oi(we)===te:we.disabled===te:"label"in we&&we.disabled===te}}function Ao(te){return bn(function(we){return we=+we,bn(function(ze,ui){for(var Ve,yi=te([],ze.length,we),Mi=yi.length;Mi--;)ze[Ve=yi[Mi]]&&(ze[Ve]=!(ui[Ve]=ze[Ve]))})})}function Ns(te){return te&&typeof te.getElementsByTagName<"u"&&te}for(C in q=ni.support={},Vt=ni.isXML=function(te){var ze=te&&(te.ownerDocument||te).documentElement;return!os.test(te&&te.namespaceURI||ze&&ze.nodeName||"HTML")},Ze=ni.setDocument=function(te){var we,ze,ui=te?te.ownerDocument||te:xn;return ui!=Ge&&9===ui.nodeType&&ui.documentElement&&(Bi=(Ge=ui).documentElement,Vi=!Vt(Ge),xn!=Ge&&(ze=Ge.defaultView)&&ze.top!==ze&&(ze.addEventListener?ze.addEventListener("unload",Ee,!1):ze.attachEvent&&ze.attachEvent("onunload",Ee)),q.scope=Un(function(Ve){return Bi.appendChild(Ve).appendChild(Ge.createElement("div")),typeof Ve.querySelectorAll<"u"&&!Ve.querySelectorAll(":scope fieldset div").length}),q.attributes=Un(function(Ve){return Ve.className="i",!Ve.getAttribute("className")}),q.getElementsByTagName=Un(function(Ve){return Ve.appendChild(Ge.createComment("")),!Ve.getElementsByTagName("*").length}),q.getElementsByClassName=r.test(Ge.getElementsByClassName),q.getById=Un(function(Ve){return Bi.appendChild(Ve).id=$n,!Ge.getElementsByName||!Ge.getElementsByName($n).length}),q.getById?(et.filter.ID=function(Ve){var yi=Ve.replace(z,lt);return function(Mi){return Mi.getAttribute("id")===yi}},et.find.ID=function(Ve,yi){if(typeof yi.getElementById<"u"&&Vi){var Mi=yi.getElementById(Ve);return Mi?[Mi]:[]}}):(et.filter.ID=function(Ve){var yi=Ve.replace(z,lt);return function(Mi){var ji=typeof Mi.getAttributeNode<"u"&&Mi.getAttributeNode("id");return ji&&ji.value===yi}},et.find.ID=function(Ve,yi){if(typeof yi.getElementById<"u"&&Vi){var Mi,ji,Hi,Ln=yi.getElementById(Ve);if(Ln){if((Mi=Ln.getAttributeNode("id"))&&Mi.value===Ve)return[Ln];for(Hi=yi.getElementsByName(Ve),ji=0;Ln=Hi[ji++];)if((Mi=Ln.getAttributeNode("id"))&&Mi.value===Ve)return[Ln]}return[]}}),et.find.TAG=q.getElementsByTagName?function(Ve,yi){return typeof yi.getElementsByTagName<"u"?yi.getElementsByTagName(Ve):q.qsa?yi.querySelectorAll(Ve):void 0}:function(Ve,yi){var Mi,ji=[],Hi=0,Ln=yi.getElementsByTagName(Ve);if("*"===Ve){for(;Mi=Ln[Hi++];)1===Mi.nodeType&&ji.push(Mi);return ji}return Ln},et.find.CLASS=q.getElementsByClassName&&function(Ve,yi){if(typeof yi.getElementsByClassName<"u"&&Vi)return yi.getElementsByClassName(Ve)},vr=[],Wi=[],(q.qsa=r.test(Ge.querySelectorAll))&&(Un(function(Ve){var yi;Bi.appendChild(Ve).innerHTML="<a id='"+$n+"'></a><select id='"+$n+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ve.querySelectorAll("[msallowcapture^='']").length&&Wi.push("[*^$]="+yn+"*(?:''|\"\")"),Ve.querySelectorAll("[selected]").length||Wi.push("\\["+yn+"*(?:value|"+Dr+")"),Ve.querySelectorAll("[id~="+$n+"-]").length||Wi.push("~="),(yi=Ge.createElement("input")).setAttribute("name",""),Ve.appendChild(yi),Ve.querySelectorAll("[name='']").length||Wi.push("\\["+yn+"*name"+yn+"*="+yn+"*(?:''|\"\")"),Ve.querySelectorAll(":checked").length||Wi.push(":checked"),Ve.querySelectorAll("a#"+$n+"+*").length||Wi.push(".#.+[+~]"),Ve.querySelectorAll("\\\f"),Wi.push("[\\r\\n\\f]")}),Un(function(Ve){Ve.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var yi=Ge.createElement("input");yi.setAttribute("type","hidden"),Ve.appendChild(yi).setAttribute("name","D"),Ve.querySelectorAll("[name=d]").length&&Wi.push("name"+yn+"*[*^$|!~]?="),2!==Ve.querySelectorAll(":enabled").length&&Wi.push(":enabled",":disabled"),Bi.appendChild(Ve).disabled=!0,2!==Ve.querySelectorAll(":disabled").length&&Wi.push(":enabled",":disabled"),Ve.querySelectorAll("*,:x"),Wi.push(",.*:")})),(q.matchesSelector=r.test(Fr=Bi.matches||Bi.webkitMatchesSelector||Bi.mozMatchesSelector||Bi.oMatchesSelector||Bi.msMatchesSelector))&&Un(function(Ve){q.disconnectedMatch=Fr.call(Ve,"*"),Fr.call(Ve,"[s!='']:x"),vr.push("!=",ao)}),Wi=Wi.length&&new RegExp(Wi.join("|")),vr=vr.length&&new RegExp(vr.join("|")),we=r.test(Bi.compareDocumentPosition),yo=we||r.test(Bi.contains)?function(Ve,yi){var Mi=9===Ve.nodeType?Ve.documentElement:Ve,ji=yi&&yi.parentNode;return Ve===ji||!(!ji||1!==ji.nodeType||!(Mi.contains?Mi.contains(ji):Ve.compareDocumentPosition&&16&Ve.compareDocumentPosition(ji)))}:function(Ve,yi){if(yi)for(;yi=yi.parentNode;)if(yi===Ve)return!0;return!1},Mo=we?function(Ve,yi){if(Ve===yi)return si=!0,0;var Mi=!Ve.compareDocumentPosition-!yi.compareDocumentPosition;return Mi||(1&(Mi=(Ve.ownerDocument||Ve)==(yi.ownerDocument||yi)?Ve.compareDocumentPosition(yi):1)||!q.sortDetached&&yi.compareDocumentPosition(Ve)===Mi?Ve==Ge||Ve.ownerDocument==xn&&yo(xn,Ve)?-1:yi==Ge||yi.ownerDocument==xn&&yo(xn,yi)?1:Je?br(Je,Ve)-br(Je,yi):0:4&Mi?-1:1)}:function(Ve,yi){if(Ve===yi)return si=!0,0;var Mi,ji=0,Hi=Ve.parentNode,Ln=yi.parentNode,Tn=[Ve],cn=[yi];if(!Hi||!Ln)return Ve==Ge?-1:yi==Ge?1:Hi?-1:Ln?1:Je?br(Je,Ve)-br(Je,yi):0;if(Hi===Ln)return ss(Ve,yi);for(Mi=Ve;Mi=Mi.parentNode;)Tn.unshift(Mi);for(Mi=yi;Mi=Mi.parentNode;)cn.unshift(Mi);for(;Tn[ji]===cn[ji];)ji++;return ji?ss(Tn[ji],cn[ji]):Tn[ji]==xn?-1:cn[ji]==xn?1:0}),Ge},ni.matches=function(te,we){return ni(te,null,null,we)},ni.matchesSelector=function(te,we){if(Ze(te),q.matchesSelector&&Vi&&!Sr[we+" "]&&(!vr||!vr.test(we))&&(!Wi||!Wi.test(we)))try{var ze=Fr.call(te,we);if(ze||q.disconnectedMatch||te.document&&11!==te.document.nodeType)return ze}catch{Sr(we,!0)}return 0<ni(we,Ge,null,[te]).length},ni.contains=function(te,we){return(te.ownerDocument||te)!=Ge&&Ze(te),yo(te,we)},ni.attr=function(te,we){(te.ownerDocument||te)!=Ge&&Ze(te);var ze=et.attrHandle[we.toLowerCase()],ui=ze&&rs.call(et.attrHandle,we.toLowerCase())?ze(te,we,!Vi):void 0;return void 0!==ui?ui:q.attributes||!Vi?te.getAttribute(we):(ui=te.getAttributeNode(we))&&ui.specified?ui.value:null},ni.escape=function(te){return(te+"").replace(Ht,ke)},ni.error=function(te){throw new Error("Syntax error, unrecognized expression: "+te)},ni.uniqueSort=function(te){var we,ze=[],ui=0,Ve=0;if(si=!q.detectDuplicates,Je=!q.sortStable&&te.slice(0),te.sort(Mo),si){for(;we=te[Ve++];)we===te[Ve]&&(ui=ze.push(Ve));for(;ui--;)te.splice(ze[ui],1)}return Je=null,te},Tt=ni.getText=function(te){var we,ze="",ui=0,Ve=te.nodeType;if(Ve){if(1===Ve||9===Ve||11===Ve){if("string"==typeof te.textContent)return te.textContent;for(te=te.firstChild;te;te=te.nextSibling)ze+=Tt(te)}else if(3===Ve||4===Ve)return te.nodeValue}else for(;we=te[ui++];)ze+=Tt(we);return ze},(et=ni.selectors={cacheLength:50,createPseudo:bn,match:Es,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(te){return te[1]=te[1].replace(z,lt),te[3]=(te[3]||te[4]||te[5]||"").replace(z,lt),"~="===te[2]&&(te[3]=" "+te[3]+" "),te.slice(0,4)},CHILD:function(te){return te[1]=te[1].toLowerCase(),"nth"===te[1].slice(0,3)?(te[3]||ni.error(te[0]),te[4]=+(te[4]?te[5]+(te[6]||1):2*("even"===te[3]||"odd"===te[3])),te[5]=+(te[7]+te[8]||"odd"===te[3])):te[3]&&ni.error(te[0]),te},PSEUDO:function(te){var we,ze=!te[6]&&te[2];return Es.CHILD.test(te[0])?null:(te[3]?te[2]=te[4]||te[5]||"":ze&&_s.test(ze)&&(we=Jt(ze,!0))&&(we=ze.indexOf(")",ze.length-we)-ze.length)&&(te[0]=te[0].slice(0,we),te[2]=ze.slice(0,we)),te.slice(0,3))}},filter:{TAG:function(te){var we=te.replace(z,lt).toLowerCase();return"*"===te?function(){return!0}:function(ze){return ze.nodeName&&ze.nodeName.toLowerCase()===we}},CLASS:function(te){var we=_r[te+" "];return we||(we=new RegExp("(^|"+yn+")"+te+"("+yn+"|$)"))&&_r(te,function(ze){return we.test("string"==typeof ze.className&&ze.className||typeof ze.getAttribute<"u"&&ze.getAttribute("class")||"")})},ATTR:function(te,we,ze){return function(ui){var Ve=ni.attr(ui,te);return null==Ve?"!="===we:!we||(Ve+="","="===we?Ve===ze:"!="===we?Ve!==ze:"^="===we?ze&&0===Ve.indexOf(ze):"*="===we?ze&&-1<Ve.indexOf(ze):"$="===we?ze&&Ve.slice(-ze.length)===ze:"~="===we?-1<(" "+Ve.replace(Tr," ")+" ").indexOf(ze):"|="===we&&(Ve===ze||Ve.slice(0,ze.length+1)===ze+"-"))}},CHILD:function(te,we,ze,ui,Ve){var yi="nth"!==te.slice(0,3),Mi="last"!==te.slice(-4),ji="of-type"===we;return 1===ui&&0===Ve?function(Hi){return!!Hi.parentNode}:function(Hi,Ln,Tn){var cn,At,_,it,Xt,Pe,Le=yi!==Mi?"nextSibling":"previousSibling",Re=Hi.parentNode,ci=ji&&Hi.nodeName.toLowerCase(),wi=!Tn&&!ji,Oi=!1;if(Re){if(yi){for(;Le;){for(it=Hi;it=it[Le];)if(ji?it.nodeName.toLowerCase()===ci:1===it.nodeType)return!1;Pe=Le="only"===te&&!Pe&&"nextSibling"}return!0}if(Pe=[Mi?Re.firstChild:Re.lastChild],Mi&&wi){for(Oi=(Xt=(cn=(At=(_=(it=Re)[$n]||(it[$n]={}))[it.uniqueID]||(_[it.uniqueID]={}))[te]||[])[0]===go&&cn[1])&&cn[2],it=Xt&&Re.childNodes[Xt];it=++Xt&&it&&it[Le]||(Oi=Xt=0)||Pe.pop();)if(1===it.nodeType&&++Oi&&it===Hi){At[te]=[go,Xt,Oi];break}}else if(wi&&(Oi=Xt=(cn=(At=(_=(it=Hi)[$n]||(it[$n]={}))[it.uniqueID]||(_[it.uniqueID]={}))[te]||[])[0]===go&&cn[1]),!1===Oi)for(;(it=++Xt&&it&&it[Le]||(Oi=Xt=0)||Pe.pop())&&((ji?it.nodeName.toLowerCase()!==ci:1!==it.nodeType)||!++Oi||(wi&&((At=(_=it[$n]||(it[$n]={}))[it.uniqueID]||(_[it.uniqueID]={}))[te]=[go,Oi]),it!==Hi)););return(Oi-=Ve)===ui||Oi%ui==0&&0<=Oi/ui}}},PSEUDO:function(te,we){var ze,ui=et.pseudos[te]||et.setFilters[te.toLowerCase()]||ni.error("unsupported pseudo: "+te);return ui[$n]?ui(we):1<ui.length?(ze=[te,te,"",we],et.setFilters.hasOwnProperty(te.toLowerCase())?bn(function(Ve,yi){for(var Mi,ji=ui(Ve,we),Hi=ji.length;Hi--;)Ve[Mi=br(Ve,ji[Hi])]=!(yi[Mi]=ji[Hi])}):function(Ve){return ui(Ve,0,ze)}):ui}},pseudos:{not:bn(function(te){var we=[],ze=[],ui=Se(te.replace(Pn,"$1"));return ui[$n]?bn(function(Ve,yi,Mi,ji){for(var Hi,Ln=ui(Ve,null,ji,[]),Tn=Ve.length;Tn--;)(Hi=Ln[Tn])&&(Ve[Tn]=!(yi[Tn]=Hi))}):function(Ve,yi,Mi){return we[0]=Ve,ui(we,null,Mi,ze),we[0]=null,!ze.pop()}}),has:bn(function(te){return function(we){return 0<ni(te,we).length}}),contains:bn(function(te){return te=te.replace(z,lt),function(we){return-1<(we.textContent||Tt(we)).indexOf(te)}}),lang:bn(function(te){return na.test(te||"")||ni.error("unsupported lang: "+te),te=te.replace(z,lt).toLowerCase(),function(we){var ze;do{if(ze=Vi?we.lang:we.getAttribute("xml:lang")||we.getAttribute("lang"))return(ze=ze.toLowerCase())===te||0===ze.indexOf(te+"-")}while((we=we.parentNode)&&1===we.nodeType);return!1}}),target:function(te){var we=f.location&&f.location.hash;return we&&we.slice(1)===te.id},root:function(te){return te===Bi},focus:function(te){return te===Ge.activeElement&&(!Ge.hasFocus||Ge.hasFocus())&&!!(te.type||te.href||~te.tabIndex)},enabled:ks(!1),disabled:ks(!0),checked:function(te){var we=te.nodeName.toLowerCase();return"input"===we&&!!te.checked||"option"===we&&!!te.selected},selected:function(te){return!0===te.selected},empty:function(te){for(te=te.firstChild;te;te=te.nextSibling)if(te.nodeType<6)return!1;return!0},parent:function(te){return!et.pseudos.empty(te)},header:function(te){return Fs.test(te.nodeName)},input:function(te){return Go.test(te.nodeName)},button:function(te){var we=te.nodeName.toLowerCase();return"input"===we&&"button"===te.type||"button"===we},text:function(te){var we;return"input"===te.nodeName.toLowerCase()&&"text"===te.type&&(null==(we=te.getAttribute("type"))||"text"===we.toLowerCase())},first:Ao(function(){return[0]}),last:Ao(function(te,we){return[we-1]}),eq:Ao(function(te,we,ze){return[ze<0?ze+we:ze]}),even:Ao(function(te,we){for(var ze=0;ze<we;ze+=2)te.push(ze);return te}),odd:Ao(function(te,we){for(var ze=1;ze<we;ze+=2)te.push(ze);return te}),lt:Ao(function(te,we,ze){for(var ui=ze<0?ze+we:we<ze?we:ze;0<=--ui;)te.push(ui);return te}),gt:Ao(function(te,we,ze){for(var ui=ze<0?ze+we:ze;++ui<we;)te.push(ui);return te})}}).pseudos.nth=et.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})et.pseudos[C]=Co(C);for(C in{submit:!0,reset:!0})et.pseudos[C]=ro(C);function Cr(){}function es(te){for(var we=0,ze=te.length,ui="";we<ze;we++)ui+=te[we].value;return ui}function ps(te,we,ze){var ui=we.dir,Ve=we.next,yi=Ve||ui,Mi=ze&&"parentNode"===yi,ji=Gn++;return we.first?function(Hi,Ln,Tn){for(;Hi=Hi[ui];)if(1===Hi.nodeType||Mi)return te(Hi,Ln,Tn);return!1}:function(Hi,Ln,Tn){var cn,At,_,it=[go,ji];if(Tn){for(;Hi=Hi[ui];)if((1===Hi.nodeType||Mi)&&te(Hi,Ln,Tn))return!0}else for(;Hi=Hi[ui];)if(1===Hi.nodeType||Mi)if(At=(_=Hi[$n]||(Hi[$n]={}))[Hi.uniqueID]||(_[Hi.uniqueID]={}),Ve&&Ve===Hi.nodeName.toLowerCase())Hi=Hi[ui]||Hi;else{if((cn=At[yi])&&cn[0]===go&&cn[1]===ji)return it[2]=cn[2];if((At[yi]=it)[2]=te(Hi,Ln,Tn))return!0}return!1}}function Xs(te){return 1<te.length?function(we,ze,ui){for(var Ve=te.length;Ve--;)if(!te[Ve](we,ze,ui))return!1;return!0}:te[0]}function Ho(te,we,ze,ui,Ve){for(var yi,Mi=[],ji=0,Hi=te.length,Ln=null!=we;ji<Hi;ji++)(yi=te[ji])&&(ze&&!ze(yi,ui,Ve)||(Mi.push(yi),Ln&&we.push(ji)));return Mi}function ba(te,we,ze,ui,Ve,yi){return ui&&!ui[$n]&&(ui=ba(ui)),Ve&&!Ve[$n]&&(Ve=ba(Ve,yi)),bn(function(Mi,ji,Hi,Ln){var Tn,cn,At,_=[],it=[],Xt=ji.length,Pe=Mi||function(ci,wi,Oi){for(var fi=0,Si=wi.length;fi<Si;fi++)ni(ci,wi[fi],Oi);return Oi}(we||"*",Hi.nodeType?[Hi]:Hi,[]),Le=!te||!Mi&&we?Pe:Ho(Pe,_,te,Hi,Ln),Re=ze?Ve||(Mi?te:Xt||ui)?[]:ji:Le;if(ze&&ze(Le,Re,Hi,Ln),ui)for(Tn=Ho(Re,it),ui(Tn,[],Hi,Ln),cn=Tn.length;cn--;)(At=Tn[cn])&&(Re[it[cn]]=!(Le[it[cn]]=At));if(Mi){if(Ve||te){if(Ve){for(Tn=[],cn=Re.length;cn--;)(At=Re[cn])&&Tn.push(Le[cn]=At);Ve(null,Re=[],Tn,Ln)}for(cn=Re.length;cn--;)(At=Re[cn])&&-1<(Tn=Ve?br(Mi,At):_[cn])&&(Mi[Tn]=!(ji[Tn]=At))}}else Re=Ho(Re===ji?Re.splice(Xt,Re.length):Re),Ve?Ve(null,ji,Re,Ln):sr.apply(ji,Re)})}function ma(te){for(var we,ze,ui,Ve=te.length,yi=et.relative[te[0].type],Mi=yi||et.relative[" "],ji=yi?1:0,Hi=ps(function(cn){return cn===we},Mi,!0),Ln=ps(function(cn){return-1<br(we,cn)},Mi,!0),Tn=[function(cn,At,_){var it=!yi&&(_||At!==De)||((we=At).nodeType?Hi(cn,At,_):Ln(cn,At,_));return we=null,it}];ji<Ve;ji++)if(ze=et.relative[te[ji].type])Tn=[ps(Xs(Tn),ze)];else{if((ze=et.filter[te[ji].type].apply(null,te[ji].matches))[$n]){for(ui=++ji;ui<Ve&&!et.relative[te[ui].type];ui++);return ba(1<ji&&Xs(Tn),1<ji&&es(te.slice(0,ji-1).concat({value:" "===te[ji-2].type?"*":""})).replace(Pn,"$1"),ze,ji<ui&&ma(te.slice(ji,ui)),ui<Ve&&ma(te=te.slice(ui)),ui<Ve&&es(te))}Tn.push(ze)}return Xs(Tn)}return Cr.prototype=et.filters=et.pseudos,et.setFilters=new Cr,Jt=ni.tokenize=function(te,we){var ze,ui,Ve,yi,Mi,ji,Hi,Ln=As[te+" "];if(Ln)return we?0:Ln.slice(0);for(Mi=te,ji=[],Hi=et.preFilter;Mi;){for(yi in ze&&!(ui=js.exec(Mi))||(ui&&(Mi=Mi.slice(ui[0].length)||Mi),ji.push(Ve=[])),ze=!1,(ui=Po.exec(Mi))&&(ze=ui.shift(),Ve.push({value:ze,type:ui[0].replace(Pn," ")}),Mi=Mi.slice(ze.length)),et.filter)!(ui=Es[yi].exec(Mi))||Hi[yi]&&!(ui=Hi[yi](ui))||(ze=ui.shift(),Ve.push({value:ze,type:yi,matches:ui}),Mi=Mi.slice(ze.length));if(!ze)break}return we?Mi.length:Mi?ni.error(te):As(te,ji).slice(0)},Se=ni.compile=function(te,we){var ze,ui,Ve,yi,Mi,ji,Hi=[],Ln=[],Tn=ia[te+" "];if(!Tn){for(we||(we=Jt(te)),ze=we.length;ze--;)(Tn=ma(we[ze]))[$n]?Hi.push(Tn):Ln.push(Tn);(Tn=ia(te,(ui=Ln,yi=0<(Ve=Hi).length,Mi=0<ui.length,ji=function(cn,At,_,it,Xt){var Pe,Le,Re,ci=0,wi="0",Oi=cn&&[],fi=[],Si=De,vn=cn||Mi&&et.find.TAG("*",Xt),pn=go+=null==Si?1:Math.random()||.1,Cn=vn.length;for(Xt&&(De=At==Ge||At||Xt);wi!==Cn&&null!=(Pe=vn[wi]);wi++){if(Mi&&Pe){for(Le=0,At||Pe.ownerDocument==Ge||(Ze(Pe),_=!Vi);Re=ui[Le++];)if(Re(Pe,At||Ge,_)){it.push(Pe);break}Xt&&(go=pn)}yi&&((Pe=!Re&&Pe)&&ci--,cn&&Oi.push(Pe))}if(ci+=wi,yi&&wi!==ci){for(Le=0;Re=Ve[Le++];)Re(Oi,fi,At,_);if(cn){if(0<ci)for(;wi--;)Oi[wi]||fi[wi]||(fi[wi]=qo.call(it));fi=Ho(fi)}sr.apply(it,fi),Xt&&!cn&&0<fi.length&&1<ci+Ve.length&&ni.uniqueSort(it)}return Xt&&(go=pn,De=Si),Oi},yi?bn(ji):ji))).selector=te}return Tn},xe=ni.select=function(te,we,ze,ui){var Ve,yi,Mi,ji,Hi,Ln="function"==typeof te&&te,Tn=!ui&&Jt(te=Ln.selector||te);if(ze=ze||[],1===Tn.length){if(2<(yi=Tn[0]=Tn[0].slice(0)).length&&"ID"===(Mi=yi[0]).type&&9===we.nodeType&&Vi&&et.relative[yi[1].type]){if(!(we=(et.find.ID(Mi.matches[0].replace(z,lt),we)||[])[0]))return ze;Ln&&(we=we.parentNode),te=te.slice(yi.shift().value.length)}for(Ve=Es.needsContext.test(te)?0:yi.length;Ve--&&!et.relative[ji=(Mi=yi[Ve]).type];)if((Hi=et.find[ji])&&(ui=Hi(Mi.matches[0].replace(z,lt),y.test(yi[0].type)&&Ns(we.parentNode)||we))){if(yi.splice(Ve,1),!(te=ui.length&&es(yi)))return sr.apply(ze,ui),ze;break}}return(Ln||Se(te,Tn))(ui,we,!Vi,ze,!we||y.test(te)&&Ns(we.parentNode)||we),ze},q.sortStable=$n.split("").sort(Mo).join("")===$n,q.detectDuplicates=!!si,Ze(),q.sortDetached=Un(function(te){return 1&te.compareDocumentPosition(Ge.createElement("fieldset"))}),Un(function(te){return te.innerHTML="<a href='#'></a>","#"===te.firstChild.getAttribute("href")})||Lr("type|href|height|width",function(te,we,ze){if(!ze)return te.getAttribute(we,"type"===we.toLowerCase()?1:2)}),q.attributes&&Un(function(te){return te.innerHTML="<input/>",te.firstChild.setAttribute("value",""),""===te.firstChild.getAttribute("value")})||Lr("value",function(te,we,ze){if(!ze&&"input"===te.nodeName.toLowerCase())return te.defaultValue}),Un(function(te){return null==te.getAttribute("disabled")})||Lr(Dr,function(te,we,ze){var ui;if(!ze)return!0===te[we]?we.toLowerCase():(ui=te.getAttributeNode(we))&&ui.specified?ui.value:null}),ni}(xt);g.find=rt,g.expr=rt.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=rt.uniqueSort,g.text=rt.getText,g.isXMLDoc=rt.isXML,g.contains=rt.contains,g.escapeSelector=rt.escape;var T=function(f,C,q){for(var et=[],Tt=void 0!==q;(f=f[C])&&9!==f.nodeType;)if(1===f.nodeType){if(Tt&&g(f).is(q))break;et.push(f)}return et},G=function(f,C){for(var q=[];f;f=f.nextSibling)1===f.nodeType&&f!==C&&q.push(f);return q},A=g.expr.match.needsContext;function D(f,C){return f.nodeName&&f.nodeName.toLowerCase()===C.toLowerCase()}var b=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function W(f,C,q){return R(C)?g.grep(f,function(et,Tt){return!!C.call(et,Tt,et)!==q}):C.nodeType?g.grep(f,function(et){return et===C!==q}):"string"!=typeof C?g.grep(f,function(et){return-1<Rt.call(C,et)!==q}):g.filter(C,f,q)}g.filter=function(f,C,q){var et=C[0];return q&&(f=":not("+f+")"),1===C.length&&1===et.nodeType?g.find.matchesSelector(et,f)?[et]:[]:g.find.matches(f,g.grep(C,function(Tt){return 1===Tt.nodeType}))},g.fn.extend({find:function(f){var C,q,et=this.length,Tt=this;if("string"!=typeof f)return this.pushStack(g(f).filter(function(){for(C=0;C<et;C++)if(g.contains(Tt[C],this))return!0}));for(q=this.pushStack([]),C=0;C<et;C++)g.find(f,Tt[C],q);return 1<et?g.uniqueSort(q):q},filter:function(f){return this.pushStack(W(this,f||[],!1))},not:function(f){return this.pushStack(W(this,f||[],!0))},is:function(f){return!!W(this,"string"==typeof f&&A.test(f)?g(f):f||[],!1).length}});var k,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(g.fn.init=function(f,C,q){var et,Tt;if(!f)return this;if(q=q||k,"string"==typeof f){if(!(et="<"===f[0]&&">"===f[f.length-1]&&3<=f.length?[null,f,null]:P.exec(f))||!et[1]&&C)return!C||C.jquery?(C||q).find(f):this.constructor(C).find(f);if(et[1]){if(g.merge(this,g.parseHTML(et[1],(C=C instanceof g?C[0]:C)&&C.nodeType?C.ownerDocument||C:O,!0)),b.test(et[1])&&g.isPlainObject(C))for(et in C)R(this[et])?this[et](C[et]):this.attr(et,C[et]);return this}return(Tt=O.getElementById(et[2]))&&(this[0]=Tt,this.length=1),this}return f.nodeType?(this[0]=f,this.length=1,this):R(f)?void 0!==q.ready?q.ready(f):f(g):g.makeArray(f,this)}).prototype=g.fn,k=g(O);var Q=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function B(f,C){for(;(f=f[C])&&1!==f.nodeType;);return f}g.fn.extend({has:function(f){var C=g(f,this),q=C.length;return this.filter(function(){for(var et=0;et<q;et++)if(g.contains(this,C[et]))return!0})},closest:function(f,C){var q,et=0,Tt=this.length,Vt=[],Jt="string"!=typeof f&&g(f);if(!A.test(f))for(;et<Tt;et++)for(q=this[et];q&&q!==C;q=q.parentNode)if(q.nodeType<11&&(Jt?-1<Jt.index(q):1===q.nodeType&&g.find.matchesSelector(q,f))){Vt.push(q);break}return this.pushStack(1<Vt.length?g.uniqueSort(Vt):Vt)},index:function(f){return f?"string"==typeof f?Rt.call(g(f),this[0]):Rt.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,C){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(f,C))))},addBack:function(f){return this.add(null==f?this.prevObject:this.prevObject.filter(f))}}),g.each({parent:function(f){var C=f.parentNode;return C&&11!==C.nodeType?C:null},parents:function(f){return T(f,"parentNode")},parentsUntil:function(f,C,q){return T(f,"parentNode",q)},next:function(f){return B(f,"nextSibling")},prev:function(f){return B(f,"previousSibling")},nextAll:function(f){return T(f,"nextSibling")},prevAll:function(f){return T(f,"previousSibling")},nextUntil:function(f,C,q){return T(f,"nextSibling",q)},prevUntil:function(f,C,q){return T(f,"previousSibling",q)},siblings:function(f){return G((f.parentNode||{}).firstChild,f)},children:function(f){return G(f.firstChild)},contents:function(f){return null!=f.contentDocument&&ot(f.contentDocument)?f.contentDocument:(D(f,"template")&&(f=f.content||f),g.merge([],f.childNodes))}},function(f,C){g.fn[f]=function(q,et){var Tt=g.map(this,C,q);return"Until"!==f.slice(-5)&&(et=q),et&&"string"==typeof et&&(Tt=g.filter(et,Tt)),1<this.length&&(I[f]||g.uniqueSort(Tt),Q.test(f)&&Tt.reverse()),this.pushStack(Tt)}});var vt=/[^\x20\t\r\n\f]+/g;function Ut(f){return f}function It(f){throw f}function E(f,C,q,et){var Tt;try{f&&R(Tt=f.promise)?Tt.call(f).done(C).fail(q):f&&R(Tt=f.then)?Tt.call(f,C,q):C.apply(void 0,[f].slice(et))}catch(Vt){q.apply(void 0,[Vt])}}g.Callbacks=function(f){var q;f="string"==typeof f?(q={},g.each(f.match(vt)||[],function(Ze,Ge){q[Ge]=!0}),q):g.extend({},f);var et,Tt,Vt,Jt,Se=[],xe=[],De=-1,Je=function(){for(Jt=Jt||f.once,Vt=et=!0;xe.length;De=-1)for(Tt=xe.shift();++De<Se.length;)!1===Se[De].apply(Tt[0],Tt[1])&&f.stopOnFalse&&(De=Se.length,Tt=!1);f.memory||(Tt=!1),et=!1,Jt&&(Se=Tt?[]:"")},si={add:function(){return Se&&(Tt&&!et&&(De=Se.length-1,xe.push(Tt)),function Ze(Ge){g.each(Ge,function(Bi,Vi){R(Vi)?f.unique&&si.has(Vi)||Se.push(Vi):Vi&&Vi.length&&"string"!==K(Vi)&&Ze(Vi)})}(arguments),Tt&&!et&&Je()),this},remove:function(){return g.each(arguments,function(Ze,Ge){for(var Bi;-1<(Bi=g.inArray(Ge,Se,Bi));)Se.splice(Bi,1),Bi<=De&&De--}),this},has:function(Ze){return Ze?-1<g.inArray(Ze,Se):0<Se.length},empty:function(){return Se&&(Se=[]),this},disable:function(){return Jt=xe=[],Se=Tt="",this},disabled:function(){return!Se},lock:function(){return Jt=xe=[],Tt||et||(Se=Tt=""),this},locked:function(){return!!Jt},fireWith:function(Ze,Ge){return Jt||(Ge=[Ze,(Ge=Ge||[]).slice?Ge.slice():Ge],xe.push(Ge),et||Je()),this},fire:function(){return si.fireWith(this,arguments),this},fired:function(){return!!Vt}};return si},g.extend({Deferred:function(f){var C=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],q="pending",et={state:function(){return q},always:function(){return Tt.done(arguments).fail(arguments),this},catch:function(Vt){return et.then(null,Vt)},pipe:function(){var Vt=arguments;return g.Deferred(function(Jt){g.each(C,function(Se,xe){var De=R(Vt[xe[4]])&&Vt[xe[4]];Tt[xe[1]](function(){var Je=De&&De.apply(this,arguments);Je&&R(Je.promise)?Je.promise().progress(Jt.notify).done(Jt.resolve).fail(Jt.reject):Jt[xe[0]+"With"](this,De?[Je]:arguments)})}),Vt=null}).promise()},then:function(Vt,Jt,Se){var xe=0;function De(Je,si,Ze,Ge){return function(){var Bi=this,Vi=arguments,Wi=function(){var Fr,yo;if(!(Je<xe)){if((Fr=Ze.apply(Bi,Vi))===si.promise())throw new TypeError("Thenable self-resolution");R(yo=Fr&&("object"==typeof Fr||"function"==typeof Fr)&&Fr.then)?Ge?yo.call(Fr,De(xe,si,Ut,Ge),De(xe,si,It,Ge)):(xe++,yo.call(Fr,De(xe,si,Ut,Ge),De(xe,si,It,Ge),De(xe,si,Ut,si.notifyWith))):(Ze!==Ut&&(Bi=void 0,Vi=[Fr]),(Ge||si.resolveWith)(Bi,Vi))}},vr=Ge?Wi:function(){try{Wi()}catch(Fr){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(Fr,vr.stackTrace),xe<=Je+1&&(Ze!==It&&(Bi=void 0,Vi=[Fr]),si.rejectWith(Bi,Vi))}};Je?vr():(g.Deferred.getStackHook&&(vr.stackTrace=g.Deferred.getStackHook()),xt.setTimeout(vr))}}return g.Deferred(function(Je){C[0][3].add(De(0,Je,R(Se)?Se:Ut,Je.notifyWith)),C[1][3].add(De(0,Je,R(Vt)?Vt:Ut)),C[2][3].add(De(0,Je,R(Jt)?Jt:It))}).promise()},promise:function(Vt){return null!=Vt?g.extend(Vt,et):et}},Tt={};return g.each(C,function(Vt,Jt){var Se=Jt[2],xe=Jt[5];et[Jt[1]]=Se.add,xe&&Se.add(function(){q=xe},C[3-Vt][2].disable,C[3-Vt][3].disable,C[0][2].lock,C[0][3].lock),Se.add(Jt[3].fire),Tt[Jt[0]]=function(){return Tt[Jt[0]+"With"](this===Tt?void 0:this,arguments),this},Tt[Jt[0]+"With"]=Se.fireWith}),et.promise(Tt),f&&f.call(Tt,Tt),Tt},when:function(f){var C=arguments.length,q=C,et=Array(q),Tt=nt.call(arguments),Vt=g.Deferred(),Jt=function(Se){return function(xe){et[Se]=this,Tt[Se]=1<arguments.length?nt.call(arguments):xe,--C||Vt.resolveWith(et,Tt)}};if(C<=1&&(E(f,Vt.done(Jt(q)).resolve,Vt.reject,!C),"pending"===Vt.state()||R(Tt[q]&&Tt[q].then)))return Vt.then();for(;q--;)E(Tt[q],Jt(q),Vt.reject);return Vt.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(f,C){xt.console&&xt.console.warn&&f&&U.test(f.name)&&xt.console.warn("jQuery.Deferred exception: "+f.message,f.stack,C)},g.readyException=function(f){xt.setTimeout(function(){throw f})};var mt=g.Deferred();function ct(){O.removeEventListener("DOMContentLoaded",ct),xt.removeEventListener("load",ct),g.ready()}g.fn.ready=function(f){return mt.then(f).catch(function(C){g.readyException(C)}),this},g.extend({isReady:!1,readyWait:1,ready:function(f){(!0===f?--g.readyWait:g.isReady)||(g.isReady=!0)!==f&&0<--g.readyWait||mt.resolveWith(O,[g])}}),g.ready.then=mt.then,"complete"===O.readyState||"loading"!==O.readyState&&!O.documentElement.doScroll?xt.setTimeout(g.ready):(O.addEventListener("DOMContentLoaded",ct),xt.addEventListener("load",ct));var ft=function(f,C,q,et,Tt,Vt,Jt){var Se=0,xe=f.length,De=null==q;if("object"===K(q))for(Se in Tt=!0,q)ft(f,C,Se,q[Se],!0,Vt,Jt);else if(void 0!==et&&(Tt=!0,R(et)||(Jt=!0),De&&(Jt?(C.call(f,et),C=null):(De=C,C=function(Je,si,Ze){return De.call(g(Je),Ze)})),C))for(;Se<xe;Se++)C(f[Se],q,Jt?et:et.call(f[Se],Se,C(f[Se],q)));return Tt?f:De?C.call(f):xe?C(f[0],q):Vt},M=/^-ms-/,tt=/-([a-z])/g;function X(f,C){return C.toUpperCase()}function St(f){return f.replace(M,"ms-").replace(tt,X)}var yt=function(f){return 1===f.nodeType||9===f.nodeType||!+f.nodeType};function jt(){this.expando=g.expando+jt.uid++}jt.uid=1,jt.prototype={cache:function(f){var C=f[this.expando];return C||(C={},yt(f)&&(f.nodeType?f[this.expando]=C:Object.defineProperty(f,this.expando,{value:C,configurable:!0}))),C},set:function(f,C,q){var et,Tt=this.cache(f);if("string"==typeof C)Tt[St(C)]=q;else for(et in C)Tt[St(et)]=C[et];return Tt},get:function(f,C){return void 0===C?this.cache(f):f[this.expando]&&f[this.expando][St(C)]},access:function(f,C,q){return void 0===C||C&&"string"==typeof C&&void 0===q?this.get(f,C):(this.set(f,C,q),void 0!==q?q:C)},remove:function(f,C){var q,et=f[this.expando];if(void 0!==et){if(void 0!==C)for((q=(C=Array.isArray(C)?C.map(St):(C=St(C))in et?[C]:C.match(vt)||[]).length);q--;)delete et[C[q]];(void 0===C||g.isEmptyObject(et))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var C=f[this.expando];return void 0!==C&&!g.isEmptyObject(C)}};var kt=new jt,ie=new jt,pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;function je(f,C,q){var et,Tt;if(void 0===q&&1===f.nodeType)if(et="data-"+C.replace(Fe,"-$&").toLowerCase(),"string"==typeof(q=f.getAttribute(et))){try{q="true"===(Tt=q)||"false"!==Tt&&("null"===Tt?null:Tt===+Tt+""?+Tt:pe.test(Tt)?JSON.parse(Tt):Tt)}catch{}ie.set(f,C,q)}else q=void 0;return q}g.extend({hasData:function(f){return ie.hasData(f)||kt.hasData(f)},data:function(f,C,q){return ie.access(f,C,q)},removeData:function(f,C){ie.remove(f,C)},_data:function(f,C,q){return kt.access(f,C,q)},_removeData:function(f,C){kt.remove(f,C)}}),g.fn.extend({data:function(f,C){var q,et,Tt,Vt=this[0],Jt=Vt&&Vt.attributes;if(void 0===f){if(this.length&&(Tt=ie.get(Vt),1===Vt.nodeType&&!kt.get(Vt,"hasDataAttrs"))){for(q=Jt.length;q--;)Jt[q]&&0===(et=Jt[q].name).indexOf("data-")&&(et=St(et.slice(5)),je(Vt,et,Tt[et]));kt.set(Vt,"hasDataAttrs",!0)}return Tt}return"object"==typeof f?this.each(function(){ie.set(this,f)}):ft(this,function(Se){var xe;if(Vt&&void 0===Se)return void 0!==(xe=ie.get(Vt,f))||void 0!==(xe=je(Vt,f))?xe:void 0;this.each(function(){ie.set(this,f,Se)})},null,C,1<arguments.length,null,!0)},removeData:function(f){return this.each(function(){ie.remove(this,f)})}}),g.extend({queue:function(f,C,q){var et;if(f)return et=kt.get(f,C=(C||"fx")+"queue"),q&&(!et||Array.isArray(q)?et=kt.access(f,C,g.makeArray(q)):et.push(q)),et||[]},dequeue:function(f,C){var q=g.queue(f,C=C||"fx"),et=q.length,Tt=q.shift(),Vt=g._queueHooks(f,C);"inprogress"===Tt&&(Tt=q.shift(),et--),Tt&&("fx"===C&&q.unshift("inprogress"),delete Vt.stop,Tt.call(f,function(){g.dequeue(f,C)},Vt)),!et&&Vt&&Vt.empty.fire()},_queueHooks:function(f,C){var q=C+"queueHooks";return kt.get(f,q)||kt.access(f,q,{empty:g.Callbacks("once memory").add(function(){kt.remove(f,[C+"queue",q])})})}}),g.fn.extend({queue:function(f,C){var q=2;return"string"!=typeof f&&(C=f,f="fx",q--),arguments.length<q?g.queue(this[0],f):void 0===C?this:this.each(function(){var et=g.queue(this,f,C);g._queueHooks(this,f),"fx"===f&&"inprogress"!==et[0]&&g.dequeue(this,f)})},dequeue:function(f){return this.each(function(){g.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,C){var q,et=1,Tt=g.Deferred(),Vt=this,Jt=this.length,Se=function(){--et||Tt.resolveWith(Vt,[Vt])};for("string"!=typeof f&&(C=f,f=void 0),f=f||"fx";Jt--;)(q=kt.get(Vt[Jt],f+"queueHooks"))&&q.empty&&(et++,q.empty.add(Se));return Se(),Tt.promise(C)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),de=["Top","Right","Bottom","Left"],Qt=O.documentElement,Et=function(f){return g.contains(f.ownerDocument,f)},Lt={composed:!0};Qt.getRootNode&&(Et=function(f){return g.contains(f.ownerDocument,f)||f.getRootNode(Lt)===f.ownerDocument});var ne=function(f,C){return"none"===(f=C||f).style.display||""===f.style.display&&Et(f)&&"none"===g.css(f,"display")};function re(f,C,q,et){var Tt,Vt,Jt=20,Se=et?function(){return et.cur()}:function(){return g.css(f,C,"")},xe=Se(),De=q&&q[3]||(g.cssNumber[C]?"":"px"),Je=f.nodeType&&(g.cssNumber[C]||"px"!==De&&+xe)&&$t.exec(g.css(f,C));if(Je&&Je[3]!==De){for(De=De||Je[3],Je=+(xe/=2)||1;Jt--;)g.style(f,C,Je+De),(1-Vt)*(1-(Vt=Se()/xe||.5))<=0&&(Jt=0),Je/=Vt;g.style(f,C,(Je*=2)+De),q=q||[]}return q&&(Je=+Je||+xe||0,Tt=q[1]?Je+(q[1]+1)*q[2]:+q[2],et&&(et.unit=De,et.start=Je,et.end=Tt)),Tt}var le={};function ee(f,C){for(var q,et,Tt,Vt,Jt,Se,xe,De=[],Je=0,si=f.length;Je<si;Je++)(et=f[Je]).style&&(q=et.style.display,C?("none"===q&&(De[Je]=kt.get(et,"display")||null,De[Je]||(et.style.display="")),""===et.style.display&&ne(et)&&(De[Je]=(xe=Jt=Vt=void 0,Jt=(Tt=et).ownerDocument,(xe=le[Se=Tt.nodeName])||(Vt=Jt.body.appendChild(Jt.createElement(Se)),xe=g.css(Vt,"display"),Vt.parentNode.removeChild(Vt),"none"===xe&&(xe="block"),le[Se]=xe)))):"none"!==q&&(De[Je]="none",kt.set(et,"display",q)));for(Je=0;Je<si;Je++)null!=De[Je]&&(f[Je].style.display=De[Je]);return f}g.fn.extend({show:function(){return ee(this,!0)},hide:function(){return ee(this)},toggle:function(f){return"boolean"==typeof f?f?this.show():this.hide():this.each(function(){ne(this)?g(this).show():g(this).hide()})}});var Ue,Ke,Ii=/^(?:checkbox|radio)$/i,ai=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,li=/^$|^module$|\/(?:java|ecma)script/i;Ue=O.createDocumentFragment().appendChild(O.createElement("div")),(Ke=O.createElement("input")).setAttribute("type","radio"),Ke.setAttribute("checked","checked"),Ke.setAttribute("name","t"),Ue.appendChild(Ke),F.checkClone=Ue.cloneNode(!0).cloneNode(!0).lastChild.checked,Ue.innerHTML="<textarea>x</textarea>",F.noCloneChecked=!!Ue.cloneNode(!0).lastChild.defaultValue,Ue.innerHTML="<option></option>",F.option=!!Ue.lastChild;var Pi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function hi(f,C){var q;return q=typeof f.getElementsByTagName<"u"?f.getElementsByTagName(C||"*"):typeof f.querySelectorAll<"u"?f.querySelectorAll(C||"*"):[],void 0===C||C&&D(f,C)?g.merge([f],q):q}function Di(f,C){for(var q=0,et=f.length;q<et;q++)kt.set(f[q],"globalEval",!C||kt.get(C[q],"globalEval"))}Pi.tbody=Pi.tfoot=Pi.colgroup=Pi.caption=Pi.thead,Pi.th=Pi.td,F.option||(Pi.optgroup=Pi.option=[1,"<select multiple='multiple'>","</select>"]);var bi=/<|&#?\w+;/;function On(f,C,q,et,Tt){for(var Vt,Jt,Se,xe,De,Je,si=C.createDocumentFragment(),Ze=[],Ge=0,Bi=f.length;Ge<Bi;Ge++)if((Vt=f[Ge])||0===Vt)if("object"===K(Vt))g.merge(Ze,Vt.nodeType?[Vt]:Vt);else if(bi.test(Vt)){for(Jt=Jt||si.appendChild(C.createElement("div")),Se=(ai.exec(Vt)||["",""])[1].toLowerCase(),Jt.innerHTML=(xe=Pi[Se]||Pi._default)[1]+g.htmlPrefilter(Vt)+xe[2],Je=xe[0];Je--;)Jt=Jt.lastChild;g.merge(Ze,Jt.childNodes),(Jt=si.firstChild).textContent=""}else Ze.push(C.createTextNode(Vt));for(si.textContent="",Ge=0;Vt=Ze[Ge++];)if(et&&-1<g.inArray(Vt,et))Tt&&Tt.push(Vt);else if(De=Et(Vt),Jt=hi(si.appendChild(Vt),"script"),De&&Di(Jt),q)for(Je=0;Vt=Jt[Je++];)li.test(Vt.type||"")&&q.push(Vt);return si}var jn=/^([^.]*)(?:\.(.+)|)/;function x(){return!0}function H(){return!1}function wt(f,C){return f===function(){try{return O.activeElement}catch{}}()==("focus"===C)}function Gt(f,C,q,et,Tt,Vt){var Jt,Se;if("object"==typeof C){for(Se in"string"!=typeof q&&(et=et||q,q=void 0),C)Gt(f,Se,q,et,C[Se],Vt);return f}if(null==et&&null==Tt?(Tt=q,et=q=void 0):null==Tt&&("string"==typeof q?(Tt=et,et=void 0):(Tt=et,et=q,q=void 0)),!1===Tt)Tt=H;else if(!Tt)return f;return 1===Vt&&(Jt=Tt,(Tt=function(xe){return g().off(xe),Jt.apply(this,arguments)}).guid=Jt.guid||(Jt.guid=g.guid++)),f.each(function(){g.event.add(this,C,Tt,et,q)})}function se(f,C,q){q?(kt.set(f,C,!1),g.event.add(f,C,{namespace:!1,handler:function(et){var Tt,Vt,Jt=kt.get(this,C);if(1&et.isTrigger&&this[C]){if(Jt.length)(g.event.special[C]||{}).delegateType&&et.stopPropagation();else if(Jt=nt.call(arguments),kt.set(this,C,Jt),Tt=q(this,C),this[C](),Jt!==(Vt=kt.get(this,C))||Tt?kt.set(this,C,!1):Vt={},Jt!==Vt)return et.stopImmediatePropagation(),et.preventDefault(),Vt&&Vt.value}else Jt.length&&(kt.set(this,C,{value:g.event.trigger(g.extend(Jt[0],g.Event.prototype),Jt.slice(1),this)}),et.stopImmediatePropagation())}})):void 0===kt.get(f,C)&&g.event.add(f,C,x)}g.event={global:{},add:function(f,C,q,et,Tt){var Vt,Jt,Se,xe,De,Je,si,Ze,Ge,Bi,Vi,Wi=kt.get(f);if(yt(f))for(q.handler&&(q=(Vt=q).handler,Tt=Vt.selector),Tt&&g.find.matchesSelector(Qt,Tt),q.guid||(q.guid=g.guid++),(xe=Wi.events)||(xe=Wi.events=Object.create(null)),(Jt=Wi.handle)||(Jt=Wi.handle=function(vr){return typeof g<"u"&&g.event.triggered!==vr.type?g.event.dispatch.apply(f,arguments):void 0}),De=(C=(C||"").match(vt)||[""]).length;De--;)Ge=Vi=(Se=jn.exec(C[De])||[])[1],Bi=(Se[2]||"").split(".").sort(),Ge&&(si=g.event.special[Ge]||{},si=g.event.special[Ge=(Tt?si.delegateType:si.bindType)||Ge]||{},Je=g.extend({type:Ge,origType:Vi,data:et,handler:q,guid:q.guid,selector:Tt,needsContext:Tt&&g.expr.match.needsContext.test(Tt),namespace:Bi.join(".")},Vt),(Ze=xe[Ge])||((Ze=xe[Ge]=[]).delegateCount=0,si.setup&&!1!==si.setup.call(f,et,Bi,Jt)||f.addEventListener&&f.addEventListener(Ge,Jt)),si.add&&(si.add.call(f,Je),Je.handler.guid||(Je.handler.guid=q.guid)),Tt?Ze.splice(Ze.delegateCount++,0,Je):Ze.push(Je),g.event.global[Ge]=!0)},remove:function(f,C,q,et,Tt){var Vt,Jt,Se,xe,De,Je,si,Ze,Ge,Bi,Vi,Wi=kt.hasData(f)&&kt.get(f);if(Wi&&(xe=Wi.events)){for(De=(C=(C||"").match(vt)||[""]).length;De--;)if(Ge=Vi=(Se=jn.exec(C[De])||[])[1],Bi=(Se[2]||"").split(".").sort(),Ge){for(si=g.event.special[Ge]||{},Ze=xe[Ge=(et?si.delegateType:si.bindType)||Ge]||[],Se=Se[2]&&new RegExp("(^|\\.)"+Bi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Jt=Vt=Ze.length;Vt--;)Je=Ze[Vt],!Tt&&Vi!==Je.origType||q&&q.guid!==Je.guid||Se&&!Se.test(Je.namespace)||et&&et!==Je.selector&&("**"!==et||!Je.selector)||(Ze.splice(Vt,1),Je.selector&&Ze.delegateCount--,si.remove&&si.remove.call(f,Je));Jt&&!Ze.length&&(si.teardown&&!1!==si.teardown.call(f,Bi,Wi.handle)||g.removeEvent(f,Ge,Wi.handle),delete xe[Ge])}else for(Ge in xe)g.event.remove(f,Ge+C[De],q,et,!0);g.isEmptyObject(xe)&&kt.remove(f,"handle events")}},dispatch:function(f){var C,q,et,Tt,Vt,Jt,Se=new Array(arguments.length),xe=g.event.fix(f),De=(kt.get(this,"events")||Object.create(null))[xe.type]||[],Je=g.event.special[xe.type]||{};for(Se[0]=xe,C=1;C<arguments.length;C++)Se[C]=arguments[C];if(xe.delegateTarget=this,!Je.preDispatch||!1!==Je.preDispatch.call(this,xe)){for(Jt=g.event.handlers.call(this,xe,De),C=0;(Tt=Jt[C++])&&!xe.isPropagationStopped();)for(xe.currentTarget=Tt.elem,q=0;(Vt=Tt.handlers[q++])&&!xe.isImmediatePropagationStopped();)xe.rnamespace&&!1!==Vt.namespace&&!xe.rnamespace.test(Vt.namespace)||(xe.handleObj=Vt,xe.data=Vt.data,void 0!==(et=((g.event.special[Vt.origType]||{}).handle||Vt.handler).apply(Tt.elem,Se))&&!1===(xe.result=et)&&(xe.preventDefault(),xe.stopPropagation()));return Je.postDispatch&&Je.postDispatch.call(this,xe),xe.result}},handlers:function(f,C){var q,et,Tt,Vt,Jt,Se=[],xe=C.delegateCount,De=f.target;if(xe&&De.nodeType&&!("click"===f.type&&1<=f.button))for(;De!==this;De=De.parentNode||this)if(1===De.nodeType&&("click"!==f.type||!0!==De.disabled)){for(Vt=[],Jt={},q=0;q<xe;q++)void 0===Jt[Tt=(et=C[q]).selector+" "]&&(Jt[Tt]=et.needsContext?-1<g(Tt,this).index(De):g.find(Tt,this,null,[De]).length),Jt[Tt]&&Vt.push(et);Vt.length&&Se.push({elem:De,handlers:Vt})}return De=this,xe<C.length&&Se.push({elem:De,handlers:C.slice(xe)}),Se},addProp:function(f,C){Object.defineProperty(g.Event.prototype,f,{enumerable:!0,configurable:!0,get:R(C)?function(){if(this.originalEvent)return C(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(q){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:q})}})},fix:function(f){return f[g.expando]?f:new g.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var C=this||f;return Ii.test(C.type)&&C.click&&D(C,"input")&&se(C,"click",x),!1},trigger:function(f){var C=this||f;return Ii.test(C.type)&&C.click&&D(C,"input")&&se(C,"click"),!0},_default:function(f){var C=f.target;return Ii.test(C.type)&&C.click&&D(C,"input")&&kt.get(C,"click")||D(C,"a")}},beforeunload:{postDispatch:function(f){void 0!==f.result&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}},g.removeEvent=function(f,C,q){f.removeEventListener&&f.removeEventListener(C,q)},g.Event=function(f,C){if(!(this instanceof g.Event))return new g.Event(f,C);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||void 0===f.defaultPrevented&&!1===f.returnValue?x:H,this.target=f.target&&3===f.target.nodeType?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,C&&g.extend(this,C),this.timeStamp=f&&f.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=x,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=x,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=x,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(f,C){g.event.special[f]={setup:function(){return se(this,f,wt),!1},trigger:function(){return se(this,f),!0},_default:function(q){return kt.get(q.target,f)},delegateType:C}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,C){g.event.special[f]={delegateType:C,bindType:C,handle:function(q){var et,Tt=q.relatedTarget,Vt=q.handleObj;return Tt&&(Tt===this||g.contains(this,Tt))||(q.type=Vt.origType,et=Vt.handler.apply(this,arguments),q.type=C),et}}}),g.fn.extend({on:function(f,C,q,et){return Gt(this,f,C,q,et)},one:function(f,C,q,et){return Gt(this,f,C,q,et,1)},off:function(f,C,q){var et,Tt;if(f&&f.preventDefault&&f.handleObj)return et=f.handleObj,g(f.delegateTarget).off(et.namespace?et.origType+"."+et.namespace:et.origType,et.selector,et.handler),this;if("object"==typeof f){for(Tt in f)this.off(Tt,C,f[Tt]);return this}return!1!==C&&"function"!=typeof C||(q=C,C=void 0),!1===q&&(q=H),this.each(function(){g.event.remove(this,f,q,C)})}});var Me=/<script|<style|<link/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ki=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ni(f,C){return D(f,"table")&&D(11!==C.nodeType?C:C.firstChild,"tr")&&g(f).children("tbody")[0]||f}function sn(f){return f.type=(null!==f.getAttribute("type"))+"/"+f.type,f}function hr(f){return"true/"===(f.type||"").slice(0,5)?f.type=f.type.slice(5):f.removeAttribute("type"),f}function xr(f,C){var q,et,Tt,Vt,Jt,Se;if(1===C.nodeType){if(kt.hasData(f)&&(Se=kt.get(f).events))for(Tt in kt.remove(C,"handle events"),Se)for(q=0,et=Se[Tt].length;q<et;q++)g.event.add(C,Tt,Se[Tt][q]);ie.hasData(f)&&(Vt=ie.access(f),Jt=g.extend({},Vt),ie.set(C,Jt))}}function tr(f,C,q,et){C=Ct(C);var Tt,Vt,Jt,Se,xe,De,Je=0,si=f.length,Ze=si-1,Ge=C[0],Bi=R(Ge);if(Bi||1<si&&"string"==typeof Ge&&!F.checkClone&&ii.test(Ge))return f.each(function(Vi){var Wi=f.eq(Vi);Bi&&(C[0]=Ge.call(this,Vi,Wi.html())),tr(Wi,C,q,et)});if(si&&(Vt=(Tt=On(C,f[0].ownerDocument,!1,f,et)).firstChild,1===Tt.childNodes.length&&(Tt=Vt),Vt||et)){for(Se=(Jt=g.map(hi(Tt,"script"),sn)).length;Je<si;Je++)xe=Tt,Je!==Ze&&(xe=g.clone(xe,!0,!0),Se&&g.merge(Jt,hi(xe,"script"))),q.call(f[Je],xe,Je);if(Se)for(De=Jt[Jt.length-1].ownerDocument,g.map(Jt,hr),Je=0;Je<Se;Je++)li.test((xe=Jt[Je]).type||"")&&!kt.access(xe,"globalEval")&&g.contains(De,xe)&&(xe.src&&"module"!==(xe.type||"").toLowerCase()?g._evalUrl&&!xe.noModule&&g._evalUrl(xe.src,{nonce:xe.nonce||xe.getAttribute("nonce")},De):Y(xe.textContent.replace(ki,""),xe,De))}return f}function eo(f,C,q){for(var et,Tt=C?g.filter(C,f):f,Vt=0;null!=(et=Tt[Vt]);Vt++)q||1!==et.nodeType||g.cleanData(hi(et)),et.parentNode&&(q&&Et(et)&&Di(hi(et,"script")),et.parentNode.removeChild(et));return f}g.extend({htmlPrefilter:function(f){return f},clone:function(f,C,q){var et,Tt,Vt,Jt,Se,xe,De,Je=f.cloneNode(!0),si=Et(f);if(!(F.noCloneChecked||1!==f.nodeType&&11!==f.nodeType||g.isXMLDoc(f)))for(Jt=hi(Je),et=0,Tt=(Vt=hi(f)).length;et<Tt;et++)Se=Vt[et],"input"===(De=(xe=Jt[et]).nodeName.toLowerCase())&&Ii.test(Se.type)?xe.checked=Se.checked:"input"!==De&&"textarea"!==De||(xe.defaultValue=Se.defaultValue);if(C)if(q)for(Vt=Vt||hi(f),Jt=Jt||hi(Je),et=0,Tt=Vt.length;et<Tt;et++)xr(Vt[et],Jt[et]);else xr(f,Je);return 0<(Jt=hi(Je,"script")).length&&Di(Jt,!si&&hi(f,"script")),Je},cleanData:function(f){for(var C,q,et,Tt=g.event.special,Vt=0;void 0!==(q=f[Vt]);Vt++)if(yt(q)){if(C=q[kt.expando]){if(C.events)for(et in C.events)Tt[et]?g.event.remove(q,et):g.removeEvent(q,et,C.handle);q[kt.expando]=void 0}q[ie.expando]&&(q[ie.expando]=void 0)}}}),g.fn.extend({detach:function(f){return eo(this,f,!0)},remove:function(f){return eo(this,f)},text:function(f){return ft(this,function(C){return void 0===C?g.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=C)})},null,f,arguments.length)},append:function(){return tr(this,arguments,function(f){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ni(this,f).appendChild(f)})},prepend:function(){return tr(this,arguments,function(f){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var C=Ni(this,f);C.insertBefore(f,C.firstChild)}})},before:function(){return tr(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return tr(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,C=0;null!=(f=this[C]);C++)1===f.nodeType&&(g.cleanData(hi(f,!1)),f.textContent="");return this},clone:function(f,C){return f=null!=f&&f,C=C??f,this.map(function(){return g.clone(this,f,C)})},html:function(f){return ft(this,function(C){var q=this[0]||{},et=0,Tt=this.length;if(void 0===C&&1===q.nodeType)return q.innerHTML;if("string"==typeof C&&!Me.test(C)&&!Pi[(ai.exec(C)||["",""])[1].toLowerCase()]){C=g.htmlPrefilter(C);try{for(;et<Tt;et++)1===(q=this[et]||{}).nodeType&&(g.cleanData(hi(q,!1)),q.innerHTML=C);q=0}catch{}}q&&this.empty().append(C)},null,f,arguments.length)},replaceWith:function(){var f=[];return tr(this,arguments,function(C){var q=this.parentNode;g.inArray(this,f)<0&&(g.cleanData(hi(this)),q&&q.replaceChild(C,this))},f)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,C){g.fn[f]=function(q){for(var et,Tt=[],Vt=g(q),Jt=Vt.length-1,Se=0;Se<=Jt;Se++)et=Se===Jt?this:this.clone(!0),g(Vt[Se])[C](et),zt.apply(Tt,et.get());return this.pushStack(Tt)}});var Br=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),Rn=/^--/,Yn=function(f){var C=f.ownerDocument.defaultView;return C&&C.opener||(C=xt),C.getComputedStyle(f)},So=function(f,C,q){var et,Tt,Vt={};for(Tt in C)Vt[Tt]=f.style[Tt],f.style[Tt]=C[Tt];for(Tt in et=q.call(f),C)f.style[Tt]=Vt[Tt];return et},jr=new RegExp(de.join("|"),"i"),Or="[\\x20\\t\\r\\n\\f]",Ro=new RegExp("^"+Or+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Or+"+$","g");function rn(f,C,q){var et,Tt,Vt,Jt,Se=Rn.test(C),xe=f.style;return(q=q||Yn(f))&&(Jt=q.getPropertyValue(C)||q[C],Se&&(Jt=Jt.replace(Ro,"$1")),""!==Jt||Et(f)||(Jt=g.style(f,C)),!F.pixelBoxStyles()&&Br.test(Jt)&&jr.test(C)&&(et=xe.width,Tt=xe.minWidth,Vt=xe.maxWidth,xe.minWidth=xe.maxWidth=xe.width=Jt,Jt=q.width,xe.width=et,xe.minWidth=Tt,xe.maxWidth=Vt)),void 0!==Jt?Jt+"":Jt}function An(f,C){return{get:function(){if(!f())return(this.get=C).apply(this,arguments);delete this.get}}}!function(){function f(){if(De){xe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",De.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Qt.appendChild(xe).appendChild(De);var Je=xt.getComputedStyle(De);q="1%"!==Je.top,Se=12===C(Je.marginLeft),De.style.right="60%",Vt=36===C(Je.right),et=36===C(Je.width),De.style.position="absolute",Tt=12===C(De.offsetWidth/3),Qt.removeChild(xe),De=null}}function C(Je){return Math.round(parseFloat(Je))}var q,et,Tt,Vt,Jt,Se,xe=O.createElement("div"),De=O.createElement("div");De.style&&(De.style.backgroundClip="content-box",De.cloneNode(!0).style.backgroundClip="",F.clearCloneStyle="content-box"===De.style.backgroundClip,g.extend(F,{boxSizingReliable:function(){return f(),et},pixelBoxStyles:function(){return f(),Vt},pixelPosition:function(){return f(),q},reliableMarginLeft:function(){return f(),Se},scrollboxSize:function(){return f(),Tt},reliableTrDimensions:function(){var Je,si,Ze,Ge;return null==Jt&&(Je=O.createElement("table"),si=O.createElement("tr"),Ze=O.createElement("div"),Je.style.cssText="position:absolute;left:-11111px;border-collapse:separate",si.style.cssText="border:1px solid",si.style.height="1px",Ze.style.height="9px",Ze.style.display="block",Qt.appendChild(Je).appendChild(si).appendChild(Ze),Ge=xt.getComputedStyle(si),Jt=parseInt(Ge.height,10)+parseInt(Ge.borderTopWidth,10)+parseInt(Ge.borderBottomWidth,10)===si.offsetHeight,Qt.removeChild(Je)),Jt}}))}();var gt=["Webkit","Moz","ms"],Mt=O.createElement("div").style,Ft={};function Yt(f){return g.cssProps[f]||Ft[f]||(f in Mt?f:Ft[f]=function(q){for(var et=q[0].toUpperCase()+q.slice(1),Tt=gt.length;Tt--;)if((q=gt[Tt]+et)in Mt)return q}(f)||f)}var oe=/^(none|table(?!-c[ea]).+)/,ge={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:"0",fontWeight:"400"};function qt(f,C,q){var et=$t.exec(C);return et?Math.max(0,et[2]-(q||0))+(et[3]||"px"):C}function fe(f,C,q,et,Tt,Vt){var Jt="width"===C?1:0,Se=0,xe=0;if(q===(et?"border":"content"))return 0;for(;Jt<4;Jt+=2)"margin"===q&&(xe+=g.css(f,q+de[Jt],!0,Tt)),et?("content"===q&&(xe-=g.css(f,"padding"+de[Jt],!0,Tt)),"margin"!==q&&(xe-=g.css(f,"border"+de[Jt]+"Width",!0,Tt))):(xe+=g.css(f,"padding"+de[Jt],!0,Tt),"padding"!==q?xe+=g.css(f,"border"+de[Jt]+"Width",!0,Tt):Se+=g.css(f,"border"+de[Jt]+"Width",!0,Tt));return!et&&0<=Vt&&(xe+=Math.max(0,Math.ceil(f["offset"+C[0].toUpperCase()+C.slice(1)]-Vt-xe-Se-.5))||0),xe}function Oe(f,C,q){var et=Yn(f),Tt=(!F.boxSizingReliable()||q)&&"border-box"===g.css(f,"boxSizing",!1,et),Vt=Tt,Jt=rn(f,C,et),Se="offset"+C[0].toUpperCase()+C.slice(1);if(Br.test(Jt)){if(!q)return Jt;Jt="auto"}return(!F.boxSizingReliable()&&Tt||!F.reliableTrDimensions()&&D(f,"tr")||"auto"===Jt||!parseFloat(Jt)&&"inline"===g.css(f,"display",!1,et))&&f.getClientRects().length&&(Tt="border-box"===g.css(f,"boxSizing",!1,et),(Vt=Se in f)&&(Jt=f[Se])),(Jt=parseFloat(Jt)||0)+fe(f,C,q||(Tt?"border":"content"),Vt,et,Jt)+"px"}function ei(f,C,q,et,Tt){return new ei.prototype.init(f,C,q,et,Tt)}g.extend({cssHooks:{opacity:{get:function(f,C){if(C){var q=rn(f,"opacity");return""===q?"1":q}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,C,q,et){if(f&&3!==f.nodeType&&8!==f.nodeType&&f.style){var Tt,Vt,Jt,Se=St(C),xe=Rn.test(C),De=f.style;if(xe||(C=Yt(Se)),Jt=g.cssHooks[C]||g.cssHooks[Se],void 0===q)return Jt&&"get"in Jt&&void 0!==(Tt=Jt.get(f,!1,et))?Tt:De[C];"string"==(Vt=typeof q)&&(Tt=$t.exec(q))&&Tt[1]&&(q=re(f,C,Tt),Vt="number"),null!=q&&q==q&&("number"!==Vt||xe||(q+=Tt&&Tt[3]||(g.cssNumber[Se]?"":"px")),F.clearCloneStyle||""!==q||0!==C.indexOf("background")||(De[C]="inherit"),Jt&&"set"in Jt&&void 0===(q=Jt.set(f,q,et))||(xe?De.setProperty(C,q):De[C]=q))}},css:function(f,C,q,et){var Tt,Vt,Jt,Se=St(C);return Rn.test(C)||(C=Yt(Se)),(Jt=g.cssHooks[C]||g.cssHooks[Se])&&"get"in Jt&&(Tt=Jt.get(f,!0,q)),void 0===Tt&&(Tt=rn(f,C,et)),"normal"===Tt&&C in Te&&(Tt=Te[C]),""===q||q?(Vt=parseFloat(Tt),!0===q||isFinite(Vt)?Vt||0:Tt):Tt}}),g.each(["height","width"],function(f,C){g.cssHooks[C]={get:function(q,et,Tt){if(et)return!oe.test(g.css(q,"display"))||q.getClientRects().length&&q.getBoundingClientRect().width?Oe(q,C,Tt):So(q,ge,function(){return Oe(q,C,Tt)})},set:function(q,et,Tt){var Vt,Jt=Yn(q),Se=!F.scrollboxSize()&&"absolute"===Jt.position,xe=(Se||Tt)&&"border-box"===g.css(q,"boxSizing",!1,Jt),De=Tt?fe(q,C,Tt,xe,Jt):0;return xe&&Se&&(De-=Math.ceil(q["offset"+C[0].toUpperCase()+C.slice(1)]-parseFloat(Jt[C])-fe(q,C,"border",!1,Jt)-.5)),De&&(Vt=$t.exec(et))&&"px"!==(Vt[3]||"px")&&(q.style[C]=et,et=g.css(q,C)),qt(0,et,De)}}}),g.cssHooks.marginLeft=An(F.reliableMarginLeft,function(f,C){if(C)return(parseFloat(rn(f,"marginLeft"))||f.getBoundingClientRect().left-So(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(f,C){g.cssHooks[f+C]={expand:function(q){for(var et=0,Tt={},Vt="string"==typeof q?q.split(" "):[q];et<4;et++)Tt[f+de[et]+C]=Vt[et]||Vt[et-2]||Vt[0];return Tt}},"margin"!==f&&(g.cssHooks[f+C].set=qt)}),g.fn.extend({css:function(f,C){return ft(this,function(q,et,Tt){var Vt,Jt,Se={},xe=0;if(Array.isArray(et)){for(Vt=Yn(q),Jt=et.length;xe<Jt;xe++)Se[et[xe]]=g.css(q,et[xe],!1,Vt);return Se}return void 0!==Tt?g.style(q,et,Tt):g.css(q,et)},f,C,1<arguments.length)}}),((g.Tween=ei).prototype={constructor:ei,init:function(f,C,q,et,Tt,Vt){this.elem=f,this.prop=q,this.easing=Tt||g.easing._default,this.options=C,this.start=this.now=this.cur(),this.end=et,this.unit=Vt||(g.cssNumber[q]?"":"px")},cur:function(){var f=ei.propHooks[this.prop];return f&&f.get?f.get(this):ei.propHooks._default.get(this)},run:function(f){var C,q=ei.propHooks[this.prop];return this.pos=C=this.options.duration?g.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):f,this.now=(this.end-this.start)*C+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),q&&q.set?q.set(this):ei.propHooks._default.set(this),this}}).init.prototype=ei.prototype,(ei.propHooks={_default:{get:function(f){var C;return 1!==f.elem.nodeType||null!=f.elem[f.prop]&&null==f.elem.style[f.prop]?f.elem[f.prop]:(C=g.css(f.elem,f.prop,""))&&"auto"!==C?C:0},set:function(f){g.fx.step[f.prop]?g.fx.step[f.prop](f):1!==f.elem.nodeType||!g.cssHooks[f.prop]&&null==f.elem.style[Yt(f.prop)]?f.elem[f.prop]=f.now:g.style(f.elem,f.prop,f.now+f.unit)}}}).scrollTop=ei.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},g.easing={linear:function(f){return f},swing:function(f){return.5-Math.cos(f*Math.PI)/2},_default:"swing"},g.fx=ei.prototype.init,g.fx.step={};var pi,He,qe,Ri,mi=/^(?:toggle|show|hide)$/,$e=/queueHooks$/;function Li(){He&&(!1===O.hidden&&xt.requestAnimationFrame?xt.requestAnimationFrame(Li):xt.setTimeout(Li,g.fx.interval),g.fx.tick())}function Ci(){return xt.setTimeout(function(){pi=void 0}),pi=Date.now()}function Ai(f,C){var q,et=0,Tt={height:f};for(C=C?1:0;et<4;et+=2-C)Tt["margin"+(q=de[et])]=Tt["padding"+q]=f;return C&&(Tt.opacity=Tt.width=f),Tt}function ln(f,C,q){for(var et,Tt=(_i.tweeners[C]||[]).concat(_i.tweeners["*"]),Vt=0,Jt=Tt.length;Vt<Jt;Vt++)if(et=Tt[Vt].call(q,C,f))return et}function _i(f,C,q){var et,Tt,Vt=0,Jt=_i.prefilters.length,Se=g.Deferred().always(function(){delete xe.elem}),xe=function(){if(Tt)return!1;for(var si=pi||Ci(),Ze=Math.max(0,De.startTime+De.duration-si),Ge=1-(Ze/De.duration||0),Bi=0,Vi=De.tweens.length;Bi<Vi;Bi++)De.tweens[Bi].run(Ge);return Se.notifyWith(f,[De,Ge,Ze]),Ge<1&&Vi?Ze:(Vi||Se.notifyWith(f,[De,1,0]),Se.resolveWith(f,[De]),!1)},De=Se.promise({elem:f,props:g.extend({},C),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},q),originalProperties:C,originalOptions:q,startTime:pi||Ci(),duration:q.duration,tweens:[],createTween:function(si,Ze){var Ge=g.Tween(f,De.opts,si,Ze,De.opts.specialEasing[si]||De.opts.easing);return De.tweens.push(Ge),Ge},stop:function(si){var Ze=0,Ge=si?De.tweens.length:0;if(Tt)return this;for(Tt=!0;Ze<Ge;Ze++)De.tweens[Ze].run(1);return si?(Se.notifyWith(f,[De,1,0]),Se.resolveWith(f,[De,si])):Se.rejectWith(f,[De,si]),this}}),Je=De.props;for(function(si,Ze){var Ge,Bi,Vi,Wi,vr;for(Ge in si)if(Vi=Ze[Bi=St(Ge)],Wi=si[Ge],Array.isArray(Wi)&&(Vi=Wi[1],Wi=si[Ge]=Wi[0]),Ge!==Bi&&(si[Bi]=Wi,delete si[Ge]),(vr=g.cssHooks[Bi])&&"expand"in vr)for(Ge in Wi=vr.expand(Wi),delete si[Bi],Wi)Ge in si||(si[Ge]=Wi[Ge],Ze[Ge]=Vi);else Ze[Bi]=Vi}(Je,De.opts.specialEasing);Vt<Jt;Vt++)if(et=_i.prefilters[Vt].call(De,f,Je,De.opts))return R(et.stop)&&(g._queueHooks(De.elem,De.opts.queue).stop=et.stop.bind(et)),et;return g.map(Je,ln,De),R(De.opts.start)&&De.opts.start.call(f,De),De.progress(De.opts.progress).done(De.opts.done,De.opts.complete).fail(De.opts.fail).always(De.opts.always),g.fx.timer(g.extend(xe,{elem:f,anim:De,queue:De.opts.queue})),De}g.Animation=g.extend(_i,{tweeners:{"*":[function(f,C){var q=this.createTween(f,C);return re(q.elem,f,$t.exec(C),q),q}]},tweener:function(f,C){R(f)?(C=f,f=["*"]):f=f.match(vt);for(var q,et=0,Tt=f.length;et<Tt;et++)(_i.tweeners[q=f[et]]=_i.tweeners[q]||[]).unshift(C)},prefilters:[function(f,C,q){var et,Tt,Vt,Jt,Se,xe,De,Je,si="width"in C||"height"in C,Ze=this,Ge={},Bi=f.style,Vi=f.nodeType&&ne(f),Wi=kt.get(f,"fxshow");for(et in q.queue||(null==(Jt=g._queueHooks(f,"fx")).unqueued&&(Jt.unqueued=0,Se=Jt.empty.fire,Jt.empty.fire=function(){Jt.unqueued||Se()}),Jt.unqueued++,Ze.always(function(){Ze.always(function(){Jt.unqueued--,g.queue(f,"fx").length||Jt.empty.fire()})})),C)if(mi.test(Tt=C[et])){if(delete C[et],Vt=Vt||"toggle"===Tt,Tt===(Vi?"hide":"show")){if("show"!==Tt||!Wi||void 0===Wi[et])continue;Vi=!0}Ge[et]=Wi&&Wi[et]||g.style(f,et)}if((xe=!g.isEmptyObject(C))||!g.isEmptyObject(Ge))for(et in si&&1===f.nodeType&&(q.overflow=[Bi.overflow,Bi.overflowX,Bi.overflowY],null==(De=Wi&&Wi.display)&&(De=kt.get(f,"display")),"none"===(Je=g.css(f,"display"))&&(De?Je=De:(ee([f],!0),De=f.style.display||De,Je=g.css(f,"display"),ee([f]))),("inline"===Je||"inline-block"===Je&&null!=De)&&"none"===g.css(f,"float")&&(xe||(Ze.done(function(){Bi.display=De}),null==De&&(De="none"===(Je=Bi.display)?"":Je)),Bi.display="inline-block")),q.overflow&&(Bi.overflow="hidden",Ze.always(function(){Bi.overflow=q.overflow[0],Bi.overflowX=q.overflow[1],Bi.overflowY=q.overflow[2]})),xe=!1,Ge)xe||(Wi?"hidden"in Wi&&(Vi=Wi.hidden):Wi=kt.access(f,"fxshow",{display:De}),Vt&&(Wi.hidden=!Vi),Vi&&ee([f],!0),Ze.done(function(){for(et in Vi||ee([f]),kt.remove(f,"fxshow"),Ge)g.style(f,et,Ge[et])})),xe=ln(Vi?Wi[et]:0,et,Ze),et in Wi||(Wi[et]=xe.start,Vi&&(xe.end=xe.start,xe.start=0))}],prefilter:function(f,C){C?_i.prefilters.unshift(f):_i.prefilters.push(f)}}),g.speed=function(f,C,q){var et=f&&"object"==typeof f?g.extend({},f):{complete:q||!q&&C||R(f)&&f,duration:f,easing:q&&C||C&&!R(C)&&C};return g.fx.off?et.duration=0:"number"!=typeof et.duration&&(et.duration=et.duration in g.fx.speeds?g.fx.speeds[et.duration]:g.fx.speeds._default),null!=et.queue&&!0!==et.queue||(et.queue="fx"),et.old=et.complete,et.complete=function(){R(et.old)&&et.old.call(this),et.queue&&g.dequeue(this,et.queue)},et},g.fn.extend({fadeTo:function(f,C,q,et){return this.filter(ne).css("opacity",0).show().end().animate({opacity:C},f,q,et)},animate:function(f,C,q,et){var Tt=g.isEmptyObject(f),Vt=g.speed(C,q,et),Jt=function(){var Se=_i(this,g.extend({},f),Vt);(Tt||kt.get(this,"finish"))&&Se.stop(!0)};return Jt.finish=Jt,Tt||!1===Vt.queue?this.each(Jt):this.queue(Vt.queue,Jt)},stop:function(f,C,q){var et=function(Tt){var Vt=Tt.stop;delete Tt.stop,Vt(q)};return"string"!=typeof f&&(q=C,C=f,f=void 0),C&&this.queue(f||"fx",[]),this.each(function(){var Tt=!0,Vt=null!=f&&f+"queueHooks",Jt=g.timers,Se=kt.get(this);if(Vt)Se[Vt]&&Se[Vt].stop&&et(Se[Vt]);else for(Vt in Se)Se[Vt]&&Se[Vt].stop&&$e.test(Vt)&&et(Se[Vt]);for(Vt=Jt.length;Vt--;)Jt[Vt].elem!==this||null!=f&&Jt[Vt].queue!==f||(Jt[Vt].anim.stop(q),Tt=!1,Jt.splice(Vt,1));!Tt&&q||g.dequeue(this,f)})},finish:function(f){return!1!==f&&(f=f||"fx"),this.each(function(){var C,q=kt.get(this),et=q[f+"queue"],Tt=q[f+"queueHooks"],Vt=g.timers,Jt=et?et.length:0;for(q.finish=!0,g.queue(this,f,[]),Tt&&Tt.stop&&Tt.stop.call(this,!0),C=Vt.length;C--;)Vt[C].elem===this&&Vt[C].queue===f&&(Vt[C].anim.stop(!0),Vt.splice(C,1));for(C=0;C<Jt;C++)et[C]&&et[C].finish&&et[C].finish.call(this);delete q.finish})}}),g.each(["toggle","show","hide"],function(f,C){var q=g.fn[C];g.fn[C]=function(et,Tt,Vt){return null==et||"boolean"==typeof et?q.apply(this,arguments):this.animate(Ai(C,!0),et,Tt,Vt)}}),g.each({slideDown:Ai("show"),slideUp:Ai("hide"),slideToggle:Ai("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,C){g.fn[f]=function(q,et,Tt){return this.animate(C,q,et,Tt)}}),g.timers=[],g.fx.tick=function(){var f,C=0,q=g.timers;for(pi=Date.now();C<q.length;C++)(f=q[C])()||q[C]!==f||q.splice(C--,1);q.length||g.fx.stop(),pi=void 0},g.fx.timer=function(f){g.timers.push(f),g.fx.start()},g.fx.interval=13,g.fx.start=function(){He||(He=!0,Li())},g.fx.stop=function(){He=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(f,C){return f=g.fx&&g.fx.speeds[f]||f,this.queue(C=C||"fx",function(q,et){var Tt=xt.setTimeout(q,f);et.stop=function(){xt.clearTimeout(Tt)}})},qe=O.createElement("input"),Ri=O.createElement("select").appendChild(O.createElement("option")),qe.type="checkbox",F.checkOn=""!==qe.value,F.optSelected=Ri.selected,(qe=O.createElement("input")).value="t",qe.type="radio",F.radioValue="t"===qe.value;var En,fn=g.expr.attrHandle;g.fn.extend({attr:function(f,C){return ft(this,g.attr,f,C,1<arguments.length)},removeAttr:function(f){return this.each(function(){g.removeAttr(this,f)})}}),g.extend({attr:function(f,C,q){var et,Tt,Vt=f.nodeType;if(3!==Vt&&8!==Vt&&2!==Vt)return typeof f.getAttribute>"u"?g.prop(f,C,q):(1===Vt&&g.isXMLDoc(f)||(Tt=g.attrHooks[C.toLowerCase()]||(g.expr.match.bool.test(C)?En:void 0)),void 0!==q?null===q?void g.removeAttr(f,C):Tt&&"set"in Tt&&void 0!==(et=Tt.set(f,q,C))?et:(f.setAttribute(C,q+""),q):Tt&&"get"in Tt&&null!==(et=Tt.get(f,C))?et:null==(et=g.find.attr(f,C))?void 0:et)},attrHooks:{type:{set:function(f,C){if(!F.radioValue&&"radio"===C&&D(f,"input")){var q=f.value;return f.setAttribute("type",C),q&&(f.value=q),C}}}},removeAttr:function(f,C){var q,et=0,Tt=C&&C.match(vt);if(Tt&&1===f.nodeType)for(;q=Tt[et++];)f.removeAttribute(q)}}),En={set:function(f,C,q){return!1===C?g.removeAttr(f,q):f.setAttribute(q,q),q}},g.each(g.expr.match.bool.source.match(/\w+/g),function(f,C){var q=fn[C]||g.find.attr;fn[C]=function(et,Tt,Vt){var Jt,Se,xe=Tt.toLowerCase();return Vt||(Se=fn[xe],fn[xe]=Jt,Jt=null!=q(et,Tt,Vt)?xe:null,fn[xe]=Se),Jt}});var mn=/^(?:input|select|textarea|button)$/i,Vn=/^(?:a|area)$/i;function Sn(f){return(f.match(vt)||[]).join(" ")}function Ur(f){return f.getAttribute&&f.getAttribute("class")||""}function qn(f){return Array.isArray(f)?f:"string"==typeof f&&f.match(vt)||[]}g.fn.extend({prop:function(f,C){return ft(this,g.prop,f,C,1<arguments.length)},removeProp:function(f){return this.each(function(){delete this[g.propFix[f]||f]})}}),g.extend({prop:function(f,C,q){var et,Tt,Vt=f.nodeType;if(3!==Vt&&8!==Vt&&2!==Vt)return 1===Vt&&g.isXMLDoc(f)||(Tt=g.propHooks[C=g.propFix[C]||C]),void 0!==q?Tt&&"set"in Tt&&void 0!==(et=Tt.set(f,q,C))?et:f[C]=q:Tt&&"get"in Tt&&null!==(et=Tt.get(f,C))?et:f[C]},propHooks:{tabIndex:{get:function(f){var C=g.find.attr(f,"tabindex");return C?parseInt(C,10):mn.test(f.nodeName)||Vn.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),F.optSelected||(g.propHooks.selected={get:function(f){return null},set:function(f){}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this}),g.fn.extend({addClass:function(f){var C,q,et,Tt,Vt,Jt;return R(f)?this.each(function(Se){g(this).addClass(f.call(this,Se,Ur(this)))}):(C=qn(f)).length?this.each(function(){if(et=Ur(this),q=1===this.nodeType&&" "+Sn(et)+" "){for(Vt=0;Vt<C.length;Vt++)q.indexOf(" "+(Tt=C[Vt])+" ")<0&&(q+=Tt+" ");Jt=Sn(q),et!==Jt&&this.setAttribute("class",Jt)}}):this},removeClass:function(f){var C,q,et,Tt,Vt,Jt;return R(f)?this.each(function(Se){g(this).removeClass(f.call(this,Se,Ur(this)))}):arguments.length?(C=qn(f)).length?this.each(function(){if(et=Ur(this),q=1===this.nodeType&&" "+Sn(et)+" "){for(Vt=0;Vt<C.length;Vt++)for(Tt=C[Vt];-1<q.indexOf(" "+Tt+" ");)q=q.replace(" "+Tt+" "," ");Jt=Sn(q),et!==Jt&&this.setAttribute("class",Jt)}}):this:this.attr("class","")},toggleClass:function(f,C){var q,et,Tt,Vt,Jt=typeof f,Se="string"===Jt||Array.isArray(f);return R(f)?this.each(function(xe){g(this).toggleClass(f.call(this,xe,Ur(this),C),C)}):"boolean"==typeof C&&Se?C?this.addClass(f):this.removeClass(f):(q=qn(f),this.each(function(){if(Se)for(Vt=g(this),Tt=0;Tt<q.length;Tt++)Vt.hasClass(et=q[Tt])?Vt.removeClass(et):Vt.addClass(et);else void 0!==f&&"boolean"!==Jt||((et=Ur(this))&&kt.set(this,"__className__",et),this.setAttribute&&this.setAttribute("class",et||!1===f?"":kt.get(this,"__className__")||""))}))},hasClass:function(f){var C,q,et=0;for(C=" "+f+" ";q=this[et++];)if(1===q.nodeType&&-1<(" "+Sn(Ur(q))+" ").indexOf(C))return!0;return!1}});var Mr=/\r/g;g.fn.extend({val:function(f){var C,q,et,Tt=this[0];return arguments.length?(et=R(f),this.each(function(Vt){var Jt;1===this.nodeType&&(null==(Jt=et?f.call(this,Vt,g(this).val()):f)?Jt="":"number"==typeof Jt?Jt+="":Array.isArray(Jt)&&(Jt=g.map(Jt,function(Se){return null==Se?"":Se+""})),(C=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in C&&void 0!==C.set(this,Jt,"value")||(this.value=Jt))})):Tt?(C=g.valHooks[Tt.type]||g.valHooks[Tt.nodeName.toLowerCase()])&&"get"in C&&void 0!==(q=C.get(Tt,"value"))?q:"string"==typeof(q=Tt.value)?q.replace(Mr,""):q??"":void 0}}),g.extend({valHooks:{option:{get:function(f){return g.find.attr(f,"value")??Sn(g.text(f))}},select:{get:function(f){var C,q,et,Tt=f.options,Vt=f.selectedIndex,Jt="select-one"===f.type,Se=Jt?null:[],xe=Jt?Vt+1:Tt.length;for(et=Vt<0?xe:Jt?Vt:0;et<xe;et++)if(((q=Tt[et]).selected||et===Vt)&&!q.disabled&&(!q.parentNode.disabled||!D(q.parentNode,"optgroup"))){if(C=g(q).val(),Jt)return C;Se.push(C)}return Se},set:function(f,C){for(var q,et,Tt=f.options,Vt=g.makeArray(C),Jt=Tt.length;Jt--;)((et=Tt[Jt]).selected=-1<g.inArray(g.valHooks.option.get(et),Vt))&&(q=!0);return q||(f.selectedIndex=-1),Vt}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(f,C){if(Array.isArray(C))return f.checked=-1<g.inArray(g(f).val(),C)}},F.checkOn||(g.valHooks[this].get=function(f){return null===f.getAttribute("value")?"on":f.value})}),F.focusin="onfocusin"in xt;var Jn=/^(?:focusinfocus|focusoutblur)$/,kn=function(f){f.stopPropagation()};g.extend(g.event,{trigger:function(f,C,q,et){var Tt,Vt,Jt,Se,xe,De,Je,si,Ze=[q||O],Ge=J.call(f,"type")?f.type:f,Bi=J.call(f,"namespace")?f.namespace.split("."):[];if(Vt=si=Jt=q=q||O,3!==q.nodeType&&8!==q.nodeType&&!Jn.test(Ge+g.event.triggered)&&(-1<Ge.indexOf(".")&&(Ge=(Bi=Ge.split(".")).shift(),Bi.sort()),xe=Ge.indexOf(":")<0&&"on"+Ge,(f=f[g.expando]?f:new g.Event(Ge,"object"==typeof f&&f)).isTrigger=et?2:3,f.namespace=Bi.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Bi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=q),C=null==C?[f]:g.makeArray(C,[f]),Je=g.event.special[Ge]||{},et||!Je.trigger||!1!==Je.trigger.apply(q,C))){if(!et&&!Je.noBubble&&!$(q)){for(Jn.test((Se=Je.delegateType||Ge)+Ge)||(Vt=Vt.parentNode);Vt;Vt=Vt.parentNode)Ze.push(Vt),Jt=Vt;Jt===(q.ownerDocument||O)&&Ze.push(Jt.defaultView||Jt.parentWindow||xt)}for(Tt=0;(Vt=Ze[Tt++])&&!f.isPropagationStopped();)si=Vt,f.type=1<Tt?Se:Je.bindType||Ge,(De=(kt.get(Vt,"events")||Object.create(null))[f.type]&&kt.get(Vt,"handle"))&&De.apply(Vt,C),(De=xe&&Vt[xe])&&De.apply&&yt(Vt)&&(f.result=De.apply(Vt,C),!1===f.result&&f.preventDefault());return f.type=Ge,et||f.isDefaultPrevented()||Je._default&&!1!==Je._default.apply(Ze.pop(),C)||!yt(q)||xe&&R(q[Ge])&&!$(q)&&((Jt=q[xe])&&(q[xe]=null),g.event.triggered=Ge,f.isPropagationStopped()&&si.addEventListener(Ge,kn),q[Ge](),f.isPropagationStopped()&&si.removeEventListener(Ge,kn),g.event.triggered=void 0,Jt&&(q[xe]=Jt)),f.result}},simulate:function(f,C,q){var et=g.extend(new g.Event,q,{type:f,isSimulated:!0});g.event.trigger(et,null,C)}}),g.fn.extend({trigger:function(f,C){return this.each(function(){g.event.trigger(f,C,this)})},triggerHandler:function(f,C){var q=this[0];if(q)return g.event.trigger(f,C,q,!0)}}),F.focusin||g.each({focus:"focusin",blur:"focusout"},function(f,C){var q=function(et){g.event.simulate(C,et.target,g.event.fix(et))};g.event.special[C]={setup:function(){var et=this.ownerDocument||this.document||this,Tt=kt.access(et,C);Tt||et.addEventListener(f,q,!0),kt.access(et,C,(Tt||0)+1)},teardown:function(){var et=this.ownerDocument||this.document||this,Tt=kt.access(et,C)-1;Tt?kt.access(et,C,Tt):(et.removeEventListener(f,q,!0),kt.remove(et,C))}}});var Gi=xt.location,Vr={guid:Date.now()},gs=/\?/;g.parseXML=function(f){var C,q;if(!f||"string"!=typeof f)return null;try{C=(new xt.DOMParser).parseFromString(f,"text/xml")}catch{}return q=C&&C.getElementsByTagName("parsererror")[0],C&&!q||g.error("Invalid XML: "+(q?g.map(q.childNodes,function(et){return et.textContent}).join("\n"):f)),C};var rr=/\[\]$/,io=/\r?\n/g,Ws=/^(?:submit|button|image|reset|file)$/i,Ds=/^(?:input|select|textarea|keygen)/i;function ur(f,C,q,et){var Tt;if(Array.isArray(C))g.each(C,function(Vt,Jt){q||rr.test(f)?et(f,Jt):ur(f+"["+("object"==typeof Jt&&null!=Jt?Vt:"")+"]",Jt,q,et)});else if(q||"object"!==K(C))et(f,C);else for(Tt in C)ur(f+"["+Tt+"]",C[Tt],q,et)}g.param=function(f,C){var q,et=[],Tt=function(Vt,Jt){var Se=R(Jt)?Jt():Jt;et[et.length]=encodeURIComponent(Vt)+"="+encodeURIComponent(Se??"")};if(null==f)return"";if(Array.isArray(f)||f.jquery&&!g.isPlainObject(f))g.each(f,function(){Tt(this.name,this.value)});else for(q in f)ur(q,f[q],C,Tt);return et.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=g.prop(this,"elements");return f?g.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!g(this).is(":disabled")&&Ds.test(this.nodeName)&&!Ws.test(f)&&(this.checked||!Ii.test(f))}).map(function(f,C){var q=g(this).val();return null==q?null:Array.isArray(q)?g.map(q,function(et){return{name:C.name,value:et.replace(io,"\r\n")}}):{name:C.name,value:q.replace(io,"\r\n")}}).get()}});var po=/%20/g,Gr=/#.*$/,Hr=/([?&])_=[^&]*/,Qr=/^(.*?):[ \t]*([^\r\n]*)$/gm,yr=/^(?:GET|HEAD)$/,Vo=/^\/\//,fo={},Cs={},no="*/".concat("*"),Rs=O.createElement("a");function qr(f){return function(C,q){"string"!=typeof C&&(q=C,C="*");var et,Tt=0,Vt=C.toLowerCase().match(vt)||[];if(R(q))for(;et=Vt[Tt++];)"+"===et[0]?(et=et.slice(1)||"*",(f[et]=f[et]||[]).unshift(q)):(f[et]=f[et]||[]).push(q)}}function Wr(f,C,q,et){var Tt={},Vt=f===Cs;function Jt(Se){var xe;return Tt[Se]=!0,g.each(f[Se]||[],function(De,Je){var si=Je(C,q,et);return"string"!=typeof si||Vt||Tt[si]?Vt?!(xe=si):void 0:(C.dataTypes.unshift(si),Jt(si),!1)}),xe}return Jt(C.dataTypes[0])||!Tt["*"]&&Jt("*")}function To(f,C){var q,et,Tt=g.ajaxSettings.flatOptions||{};for(q in C)void 0!==C[q]&&((Tt[q]?f:et||(et={}))[q]=C[q]);return et&&g.extend(!0,f,et),f}Rs.href=Gi.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gi.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Gi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":no,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,C){return C?To(To(f,g.ajaxSettings),C):To(g.ajaxSettings,f)},ajaxPrefilter:qr(fo),ajaxTransport:qr(Cs),ajax:function(f,C){"object"==typeof f&&(C=f,f=void 0);var q,et,Tt,Vt,Jt,Se,xe,De,Je,si,Ze=g.ajaxSetup({},C=C||{}),Ge=Ze.context||Ze,Bi=Ze.context&&(Ge.nodeType||Ge.jquery)?g(Ge):g.event,Vi=g.Deferred(),Wi=g.Callbacks("once memory"),vr=Ze.statusCode||{},Fr={},yo={},$n="canceled",xn={readyState:0,getResponseHeader:function(Gn){var _r;if(xe){if(!Vt)for(Vt={};_r=Qr.exec(Tt);)Vt[_r[1].toLowerCase()+" "]=(Vt[_r[1].toLowerCase()+" "]||[]).concat(_r[2]);_r=Vt[Gn.toLowerCase()+" "]}return null==_r?null:_r.join(", ")},getAllResponseHeaders:function(){return xe?Tt:null},setRequestHeader:function(Gn,_r){return null==xe&&(Gn=yo[Gn.toLowerCase()]=yo[Gn.toLowerCase()]||Gn,Fr[Gn]=_r),this},overrideMimeType:function(Gn){return null==xe&&(Ze.mimeType=Gn),this},statusCode:function(Gn){var _r;if(Gn)if(xe)xn.always(Gn[xn.status]);else for(_r in Gn)vr[_r]=[vr[_r],Gn[_r]];return this},abort:function(Gn){var _r=Gn||$n;return q&&q.abort(_r),go(0,_r),this}};if(Vi.promise(xn),Ze.url=((f||Ze.url||Gi.href)+"").replace(Vo,Gi.protocol+"//"),Ze.type=C.method||C.type||Ze.method||Ze.type,Ze.dataTypes=(Ze.dataType||"*").toLowerCase().match(vt)||[""],null==Ze.crossDomain){Se=O.createElement("a");try{Se.href=Ze.url,Se.href=Se.href,Ze.crossDomain=Rs.protocol+"//"+Rs.host!=Se.protocol+"//"+Se.host}catch{Ze.crossDomain=!0}}if(Ze.data&&Ze.processData&&"string"!=typeof Ze.data&&(Ze.data=g.param(Ze.data,Ze.traditional)),Wr(fo,Ze,C,xn),xe)return xn;for(Je in(De=g.event&&Ze.global)&&0==g.active++&&g.event.trigger("ajaxStart"),Ze.type=Ze.type.toUpperCase(),Ze.hasContent=!yr.test(Ze.type),et=Ze.url.replace(Gr,""),Ze.hasContent?Ze.data&&Ze.processData&&0===(Ze.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Ze.data=Ze.data.replace(po,"+")):(si=Ze.url.slice(et.length),Ze.data&&(Ze.processData||"string"==typeof Ze.data)&&(et+=(gs.test(et)?"&":"?")+Ze.data,delete Ze.data),!1===Ze.cache&&(et=et.replace(Hr,"$1"),si=(gs.test(et)?"&":"?")+"_="+Vr.guid+++si),Ze.url=et+si),Ze.ifModified&&(g.lastModified[et]&&xn.setRequestHeader("If-Modified-Since",g.lastModified[et]),g.etag[et]&&xn.setRequestHeader("If-None-Match",g.etag[et])),(Ze.data&&Ze.hasContent&&!1!==Ze.contentType||C.contentType)&&xn.setRequestHeader("Content-Type",Ze.contentType),xn.setRequestHeader("Accept",Ze.dataTypes[0]&&Ze.accepts[Ze.dataTypes[0]]?Ze.accepts[Ze.dataTypes[0]]+("*"!==Ze.dataTypes[0]?", "+no+"; q=0.01":""):Ze.accepts["*"]),Ze.headers)xn.setRequestHeader(Je,Ze.headers[Je]);if(Ze.beforeSend&&(!1===Ze.beforeSend.call(Ge,xn,Ze)||xe))return xn.abort();if($n="abort",Wi.add(Ze.complete),xn.done(Ze.success),xn.fail(Ze.error),q=Wr(Cs,Ze,C,xn)){if(xn.readyState=1,De&&Bi.trigger("ajaxSend",[xn,Ze]),xe)return xn;Ze.async&&0<Ze.timeout&&(Jt=xt.setTimeout(function(){xn.abort("timeout")},Ze.timeout));try{xe=!1,q.send(Fr,go)}catch(Gn){if(xe)throw Gn;go(-1,Gn)}}else go(-1,"No Transport");function go(Gn,_r,As,ia){var Sr,Mo,rs,or,qo,Pr=_r;xe||(xe=!0,Jt&&xt.clearTimeout(Jt),q=void 0,Tt=ia||"",xn.readyState=0<Gn?4:0,Sr=200<=Gn&&Gn<300||304===Gn,As&&(or=function(sr,to,br){for(var Dr,yn,Fn,pr,ao=sr.contents,Tr=sr.dataTypes;"*"===Tr[0];)Tr.shift(),void 0===Dr&&(Dr=sr.mimeType||to.getResponseHeader("Content-Type"));if(Dr)for(yn in ao)if(ao[yn]&&ao[yn].test(Dr)){Tr.unshift(yn);break}if(Tr[0]in br)Fn=Tr[0];else{for(yn in br){if(!Tr[0]||sr.converters[yn+" "+Tr[0]]){Fn=yn;break}pr||(pr=yn)}Fn=Fn||pr}if(Fn)return Fn!==Tr[0]&&Tr.unshift(Fn),br[Fn]}(Ze,xn,As)),!Sr&&-1<g.inArray("script",Ze.dataTypes)&&g.inArray("json",Ze.dataTypes)<0&&(Ze.converters["text script"]=function(){}),or=function(sr,to,br,Dr){var yn,Fn,pr,ao,Tr,Pn={},js=sr.dataTypes.slice();if(js[1])for(pr in sr.converters)Pn[pr.toLowerCase()]=sr.converters[pr];for(Fn=js.shift();Fn;)if(sr.responseFields[Fn]&&(br[sr.responseFields[Fn]]=to),!Tr&&Dr&&sr.dataFilter&&(to=sr.dataFilter(to,sr.dataType)),Tr=Fn,Fn=js.shift())if("*"===Fn)Fn=Tr;else if("*"!==Tr&&Tr!==Fn){if(!(pr=Pn[Tr+" "+Fn]||Pn["* "+Fn]))for(yn in Pn)if((ao=yn.split(" "))[1]===Fn&&(pr=Pn[Tr+" "+ao[0]]||Pn["* "+ao[0]])){!0===pr?pr=Pn[yn]:!0!==Pn[yn]&&(Fn=ao[0],js.unshift(ao[1]));break}if(!0!==pr)if(pr&&sr.throws)to=pr(to);else try{to=pr(to)}catch(Po){return{state:"parsererror",error:pr?Po:"No conversion from "+Tr+" to "+Fn}}}return{state:"success",data:to}}(Ze,or,xn,Sr),Sr?(Ze.ifModified&&((qo=xn.getResponseHeader("Last-Modified"))&&(g.lastModified[et]=qo),(qo=xn.getResponseHeader("etag"))&&(g.etag[et]=qo)),204===Gn||"HEAD"===Ze.type?Pr="nocontent":304===Gn?Pr="notmodified":(Pr=or.state,Mo=or.data,Sr=!(rs=or.error))):(rs=Pr,!Gn&&Pr||(Pr="error",Gn<0&&(Gn=0))),xn.status=Gn,xn.statusText=(_r||Pr)+"",Sr?Vi.resolveWith(Ge,[Mo,Pr,xn]):Vi.rejectWith(Ge,[xn,Pr,rs]),xn.statusCode(vr),vr=void 0,De&&Bi.trigger(Sr?"ajaxSuccess":"ajaxError",[xn,Ze,Sr?Mo:rs]),Wi.fireWith(Ge,[xn,Pr]),De&&(Bi.trigger("ajaxComplete",[xn,Ze]),--g.active||g.event.trigger("ajaxStop")))}return xn},getJSON:function(f,C,q){return g.get(f,C,q,"json")},getScript:function(f,C){return g.get(f,void 0,C,"script")}}),g.each(["get","post"],function(f,C){g[C]=function(q,et,Tt,Vt){return R(et)&&(Vt=Vt||Tt,Tt=et,et=void 0),g.ajax(g.extend({url:q,type:C,dataType:Vt,data:et,success:Tt},g.isPlainObject(q)&&q))}}),g.ajaxPrefilter(function(f){var C;for(C in f.headers)"content-type"===C.toLowerCase()&&(f.contentType=f.headers[C]||"")}),g._evalUrl=function(f,C,q){return g.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(et){g.globalEval(et,C,q)}})},g.fn.extend({wrapAll:function(f){var C;return this[0]&&(R(f)&&(f=f.call(this[0])),C=g(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&C.insertBefore(this[0]),C.map(function(){for(var q=this;q.firstElementChild;)q=q.firstElementChild;return q}).append(this)),this},wrapInner:function(f){return R(f)?this.each(function(C){g(this).wrapInner(f.call(this,C))}):this.each(function(){var C=g(this),q=C.contents();q.length?q.wrapAll(f):C.append(f)})},wrap:function(f){var C=R(f);return this.each(function(q){g(this).wrapAll(C?f.call(this,q):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(f){return!g.expr.pseudos.visible(f)},g.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new xt.XMLHttpRequest}catch{}};var mo={0:200,1223:204},Qo=g.ajaxSettings.xhr();F.cors=!!Qo&&"withCredentials"in Qo,F.ajax=Qo=!!Qo,g.ajaxTransport(function(f){var C,q;if(F.cors||Qo&&!f.crossDomain)return{send:function(et,Tt){var Vt,Jt=f.xhr();if(Jt.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(Vt in f.xhrFields)Jt[Vt]=f.xhrFields[Vt];for(Vt in f.mimeType&&Jt.overrideMimeType&&Jt.overrideMimeType(f.mimeType),f.crossDomain||et["X-Requested-With"]||(et["X-Requested-With"]="XMLHttpRequest"),et)Jt.setRequestHeader(Vt,et[Vt]);C=function(Se){return function(){C&&(C=q=Jt.onload=Jt.onerror=Jt.onabort=Jt.ontimeout=Jt.onreadystatechange=null,"abort"===Se?Jt.abort():"error"===Se?"number"!=typeof Jt.status?Tt(0,"error"):Tt(Jt.status,Jt.statusText):Tt(mo[Jt.status]||Jt.status,Jt.statusText,"text"!==(Jt.responseType||"text")||"string"!=typeof Jt.responseText?{binary:Jt.response}:{text:Jt.responseText},Jt.getAllResponseHeaders()))}},Jt.onload=C(),q=Jt.onerror=Jt.ontimeout=C("error"),void 0!==Jt.onabort?Jt.onabort=q:Jt.onreadystatechange=function(){4===Jt.readyState&&xt.setTimeout(function(){C&&q()})},C=C("abort");try{Jt.send(f.hasContent&&f.data||null)}catch(Se){if(C)throw Se}},abort:function(){C&&C()}}}),g.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return g.globalEval(f),f}}}),g.ajaxPrefilter("script",function(f){void 0===f.cache&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),g.ajaxTransport("script",function(f){var C,q;if(f.crossDomain||f.scriptAttrs)return{send:function(et,Tt){C=g("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",q=function(Vt){C.remove(),q=null,Vt&&Tt("error"===Vt.type?404:200,Vt.type)}),O.head.appendChild(C[0])},abort:function(){q&&q()}}});var Bs,vs=[],ts=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=vs.pop()||g.expando+"_"+Vr.guid++;return this[f]=!0,f}}),g.ajaxPrefilter("json jsonp",function(f,C,q){var et,Tt,Vt,Jt=!1!==f.jsonp&&(ts.test(f.url)?"url":"string"==typeof f.data&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&ts.test(f.data)&&"data");if(Jt||"jsonp"===f.dataTypes[0])return et=f.jsonpCallback=R(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,Jt?f[Jt]=f[Jt].replace(ts,"$1"+et):!1!==f.jsonp&&(f.url+=(gs.test(f.url)?"&":"?")+f.jsonp+"="+et),f.converters["script json"]=function(){return Vt||g.error(et+" was not called"),Vt[0]},f.dataTypes[0]="json",Tt=xt[et],xt[et]=function(){Vt=arguments},q.always(function(){void 0===Tt?g(xt).removeProp(et):xt[et]=Tt,f[et]&&(f.jsonpCallback=C.jsonpCallback,vs.push(et)),Vt&&R(Tt)&&Tt(Vt[0]),Vt=Tt=void 0}),"script"}),F.createHTMLDocument=((Bs=O.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Bs.childNodes.length),g.parseHTML=function(f,C,q){return"string"!=typeof f?[]:("boolean"==typeof C&&(q=C,C=!1),C||(F.createHTMLDocument?((et=(C=O.implementation.createHTMLDocument("")).createElement("base")).href=O.location.href,C.head.appendChild(et)):C=O),Vt=!q&&[],(Tt=b.exec(f))?[C.createElement(Tt[1])]:(Tt=On([f],C,Vt),Vt&&Vt.length&&g(Vt).remove(),g.merge([],Tt.childNodes)));var et,Tt,Vt},g.fn.load=function(f,C,q){var et,Tt,Vt,Jt=this,Se=f.indexOf(" ");return-1<Se&&(et=Sn(f.slice(Se)),f=f.slice(0,Se)),R(C)?(q=C,C=void 0):C&&"object"==typeof C&&(Tt="POST"),0<Jt.length&&g.ajax({url:f,type:Tt||"GET",dataType:"html",data:C}).done(function(xe){Vt=arguments,Jt.html(et?g("<div>").append(g.parseHTML(xe)).find(et):xe)}).always(q&&function(xe,De){Jt.each(function(){q.apply(this,Vt||[xe.responseText,De,xe])})}),this},g.expr.pseudos.animated=function(f){return g.grep(g.timers,function(C){return f===C.elem}).length},g.offset={setOffset:function(f,C,q){var et,Tt,Vt,Jt,Se,xe,De=g.css(f,"position"),Je=g(f),si={};"static"===De&&(f.style.position="relative"),Se=Je.offset(),Vt=g.css(f,"top"),xe=g.css(f,"left"),("absolute"===De||"fixed"===De)&&-1<(Vt+xe).indexOf("auto")?(Jt=(et=Je.position()).top,Tt=et.left):(Jt=parseFloat(Vt)||0,Tt=parseFloat(xe)||0),R(C)&&(C=C.call(f,q,g.extend({},Se))),null!=C.top&&(si.top=C.top-Se.top+Jt),null!=C.left&&(si.left=C.left-Se.left+Tt),"using"in C?C.using.call(f,si):Je.css(si)}},g.fn.extend({offset:function(f){if(arguments.length)return void 0===f?this:this.each(function(Tt){g.offset.setOffset(this,f,Tt)});var C,q,et=this[0];return et?et.getClientRects().length?{top:(C=et.getBoundingClientRect()).top+(q=et.ownerDocument.defaultView).pageYOffset,left:C.left+q.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var f,C,q,et=this[0],Tt={top:0,left:0};if("fixed"===g.css(et,"position"))C=et.getBoundingClientRect();else{for(C=this.offset(),q=et.ownerDocument,f=et.offsetParent||q.documentElement;f&&(f===q.body||f===q.documentElement)&&"static"===g.css(f,"position");)f=f.parentNode;f&&f!==et&&1===f.nodeType&&((Tt=g(f).offset()).top+=g.css(f,"borderTopWidth",!0),Tt.left+=g.css(f,"borderLeftWidth",!0))}return{top:C.top-Tt.top-g.css(et,"marginTop",!0),left:C.left-Tt.left-g.css(et,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&"static"===g.css(f,"position");)f=f.offsetParent;return f||Qt})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,C){var q="pageYOffset"===C;g.fn[f]=function(et){return ft(this,function(Tt,Vt,Jt){var Se;if($(Tt)?Se=Tt:9===Tt.nodeType&&(Se=Tt.defaultView),void 0===Jt)return Se?Se[C]:Tt[Vt];Se?Se.scrollTo(q?Se.pageXOffset:Jt,q?Jt:Se.pageYOffset):Tt[Vt]=Jt},f,et,arguments.length)}}),g.each(["top","left"],function(f,C){g.cssHooks[C]=An(F.pixelPosition,function(q,et){if(et)return et=rn(q,C),Br.test(et)?g(q).position()[C]+"px":et})}),g.each({Height:"height",Width:"width"},function(f,C){g.each({padding:"inner"+f,content:C,"":"outer"+f},function(q,et){g.fn[et]=function(Tt,Vt){var Jt=arguments.length&&(q||"boolean"!=typeof Tt),Se=q||(!0===Tt||!0===Vt?"margin":"border");return ft(this,function(xe,De,Je){var si;return $(xe)?0===et.indexOf("outer")?xe["inner"+f]:xe.document.documentElement["client"+f]:9===xe.nodeType?(si=xe.documentElement,Math.max(xe.body["scroll"+f],si["scroll"+f],xe.body["offset"+f],si["offset"+f],si["client"+f])):void 0===Je?g.css(xe,De,Se):g.style(xe,De,Je,Se)},C,Jt?Tt:void 0,Jt)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,C){g.fn[C]=function(q){return this.on(C,q)}}),g.fn.extend({bind:function(f,C,q){return this.on(f,null,C,q)},unbind:function(f,C){return this.off(f,null,C)},delegate:function(f,C,q,et){return this.on(C,f,q,et)},undelegate:function(f,C,q){return 1===arguments.length?this.off(f,"**"):this.off(C,f||"**",q)},hover:function(f,C){return this.mouseenter(f).mouseleave(C||f)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,C){g.fn[C]=function(q,et){return 0<arguments.length?this.on(C,null,q,et):this.trigger(C)}});var oa=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(f,C){var q,et,Tt;if("string"==typeof C&&(q=f[C],C=f,f=q),R(f))return et=nt.call(arguments,2),(Tt=function(){return f.apply(C||this,et.concat(nt.call(arguments)))}).guid=f.guid=f.guid||g.guid++,Tt},g.holdReady=function(f){f?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=D,g.isFunction=R,g.isWindow=$,g.camelCase=St,g.type=K,g.now=Date.now,g.isNumeric=function(f){var C=g.type(f);return("number"===C||"string"===C)&&!isNaN(f-parseFloat(f))},g.trim=function(f){return null==f?"":(f+"").replace(oa,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return g});var ea=xt.jQuery,fa=xt.$;return g.noConflict=function(f){return xt.$===g&&(xt.$=fa),f&&xt.jQuery===g&&(xt.jQuery=ea),g},typeof Pt>"u"&&(xt.jQuery=xt.$=g),g}),function(xt,Pt){"object"==typeof exports&&"object"==typeof module?module.exports=Pt():"function"==typeof define&&define.amd?define([],Pt):"object"==typeof exports?exports.feather=Pt():xt.feather=Pt()}(typeof self<"u"?self:this,function(){return function(xt){var Pt={};function j(ot){if(Pt[ot])return Pt[ot].exports;var nt=Pt[ot]={i:ot,l:!1,exports:{}};return xt[ot].call(nt.exports,nt,nt.exports,j),nt.l=!0,nt.exports}return j.m=xt,j.c=Pt,j.d=function(ot,nt,Ct){j.o(ot,nt)||Object.defineProperty(ot,nt,{configurable:!1,enumerable:!0,get:Ct})},j.r=function(ot){Object.defineProperty(ot,"__esModule",{value:!0})},j.n=function(ot){var nt=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return j.d(nt,"a",nt),nt},j.o=function(ot,nt){return Object.prototype.hasOwnProperty.call(ot,nt)},j.p="",j(j.s=80)}([function(xt,Pt,j){(function(ot){var nt="object",Ct=function(zt){return zt&&zt.Math==Math&&zt};xt.exports=Ct(typeof globalThis==nt&&globalThis)||Ct(typeof window==nt&&window)||Ct(typeof self==nt&&self)||Ct(typeof ot==nt&&ot)||Function("return this")()}).call(this,j(75))},function(xt,Pt){var j={}.hasOwnProperty;xt.exports=function(ot,nt){return j.call(ot,nt)}},function(xt,Pt,j){var ot=j(0),nt=j(11),Ct=j(33),zt=j(62),Rt=ot.Symbol,Dt=nt("wks");xt.exports=function(Ot){return Dt[Ot]||(Dt[Ot]=zt&&Rt[Ot]||(zt?Rt:Ct)("Symbol."+Ot))}},function(xt,Pt,j){var ot=j(6);xt.exports=function(nt){if(!ot(nt))throw TypeError(String(nt)+" is not an object");return nt}},function(xt,Pt){xt.exports=function(j){try{return!!j()}catch{return!0}}},function(xt,Pt,j){var ot=j(8),nt=j(7),Ct=j(10);xt.exports=ot?function(zt,Rt,Dt){return nt.f(zt,Rt,Ct(1,Dt))}:function(zt,Rt,Dt){return zt[Rt]=Dt,zt}},function(xt,Pt){xt.exports=function(j){return"object"==typeof j?null!==j:"function"==typeof j}},function(xt,Pt,j){var ot=j(8),nt=j(35),Ct=j(3),zt=j(18),Rt=Object.defineProperty;Pt.f=ot?Rt:function(Dt,Ot,J){if(Ct(Dt),Ot=zt(Ot,!0),Ct(J),nt)try{return Rt(Dt,Ot,J)}catch{}if("get"in J||"set"in J)throw TypeError("Accessors not supported");return"value"in J&&(Dt[Ot]=J.value),Dt}},function(xt,Pt,j){var ot=j(4);xt.exports=!ot(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(xt,Pt){xt.exports={}},function(xt,Pt){xt.exports=function(j,ot){return{enumerable:!(1&j),configurable:!(2&j),writable:!(4&j),value:ot}}},function(xt,Pt,j){var ot=j(0),nt=j(19),Ct=j(17),zt=ot["__core-js_shared__"]||nt("__core-js_shared__",{});(xt.exports=function(Rt,Dt){return zt[Rt]||(zt[Rt]=void 0!==Dt?Dt:{})})("versions",[]).push({version:"3.1.3",mode:Ct?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(xt,Pt,j){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var ot=zt(j(43)),nt=zt(j(41)),Ct=zt(j(40));function zt(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}Pt.default=Object.keys(nt.default).map(function(Rt){return new ot.default(Rt,nt.default[Rt],Ct.default[Rt])}).reduce(function(Rt,Dt){return Rt[Dt.name]=Dt,Rt},{})},function(xt,Pt){xt.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(xt,Pt,j){var ot=j(72),nt=j(20);xt.exports=function(Ct){return ot(nt(Ct))}},function(xt,Pt){xt.exports={}},function(xt,Pt,j){var ot=j(11),nt=j(33),Ct=ot("keys");xt.exports=function(zt){return Ct[zt]||(Ct[zt]=nt(zt))}},function(xt,Pt){xt.exports=!1},function(xt,Pt,j){var ot=j(6);xt.exports=function(nt,Ct){if(!ot(nt))return nt;var zt,Rt;if(Ct&&"function"==typeof(zt=nt.toString)&&!ot(Rt=zt.call(nt))||"function"==typeof(zt=nt.valueOf)&&!ot(Rt=zt.call(nt))||!Ct&&"function"==typeof(zt=nt.toString)&&!ot(Rt=zt.call(nt)))return Rt;throw TypeError("Can't convert object to primitive value")}},function(xt,Pt,j){var ot=j(0),nt=j(5);xt.exports=function(Ct,zt){try{nt(ot,Ct,zt)}catch{ot[Ct]=zt}return zt}},function(xt,Pt){xt.exports=function(j){if(null==j)throw TypeError("Can't call method on "+j);return j}},function(xt,Pt){var j=Math.ceil,ot=Math.floor;xt.exports=function(nt){return isNaN(nt=+nt)?0:(nt>0?ot:j)(nt)}},function(xt,Pt,j){var ot;!function(){"use strict";var nt=function(){function Ct(){}function zt(J,ht){for(var at=ht.length,F=0;F<at;++F)Ot(J,ht[F])}Ct.prototype=Object.create(null);var Rt={}.hasOwnProperty,Dt=/\s+/;function Ot(J,ht){if(ht){var at=typeof ht;"string"===at?function(F,R){for(var $=R.split(Dt),O=$.length,V=0;V<O;++V)F[$[V]]=!0}(J,ht):Array.isArray(ht)?zt(J,ht):"object"===at?function(F,R){for(var $ in R)Rt.call(R,$)&&(F[$]=!!R[$])}(J,ht):"number"===at&&(J[ht]=!0)}}return function(){for(var J=arguments.length,ht=Array(J),at=0;at<J;at++)ht[at]=arguments[at];var F=new Ct;zt(F,ht);var R=[];for(var $ in F)F[$]&&R.push($);return R.join(" ")}}();void 0!==xt&&xt.exports?xt.exports=nt:void 0===(ot=function(){return nt}.apply(Pt,[]))||(xt.exports=ot)}()},function(xt,Pt,j){var ot=j(7).f,nt=j(1),Ct=j(2)("toStringTag");xt.exports=function(zt,Rt,Dt){zt&&!nt(zt=Dt?zt:zt.prototype,Ct)&&ot(zt,Ct,{configurable:!0,value:Rt})}},function(xt,Pt,j){var ot=j(20);xt.exports=function(nt){return Object(ot(nt))}},function(xt,Pt,j){var ot=j(1),nt=j(24),Ct=j(16),zt=j(63),Rt=Ct("IE_PROTO"),Dt=Object.prototype;xt.exports=zt?Object.getPrototypeOf:function(Ot){return Ot=nt(Ot),ot(Ot,Rt)?Ot[Rt]:"function"==typeof Ot.constructor&&Ot instanceof Ot.constructor?Ot.constructor.prototype:Ot instanceof Object?Dt:null}},function(xt,Pt,j){"use strict";var ot,nt,Ct,zt=j(25),Rt=j(5),Dt=j(1),Ot=j(2),J=j(17),ht=Ot("iterator"),at=!1;[].keys&&("next"in(Ct=[].keys())?(nt=zt(zt(Ct)))!==Object.prototype&&(ot=nt):at=!0),null==ot&&(ot={}),J||Dt(ot,ht)||Rt(ot,ht,function(){return this}),xt.exports={IteratorPrototype:ot,BUGGY_SAFARI_ITERATORS:at}},function(xt,Pt,j){var ot=j(21),nt=Math.min;xt.exports=function(Ct){return Ct>0?nt(ot(Ct),9007199254740991):0}},function(xt,Pt,j){var ot=j(1),nt=j(14),Ct=j(68),zt=j(15),Rt=Ct(!1);xt.exports=function(Dt,Ot){var J,ht=nt(Dt),at=0,F=[];for(J in ht)!ot(zt,J)&&ot(ht,J)&&F.push(J);for(;Ot.length>at;)ot(ht,J=Ot[at++])&&(~Rt(F,J)||F.push(J));return F}},function(xt,Pt,j){var ot=j(0),nt=j(11),Ct=j(5),zt=j(1),Rt=j(19),Dt=j(36),Ot=j(37),J=Ot.get,ht=Ot.enforce,at=String(Dt).split("toString");nt("inspectSource",function(F){return Dt.call(F)}),(xt.exports=function(F,R,$,O){var V=!!O&&!!O.unsafe,Y=!!O&&!!O.enumerable,K=!!O&&!!O.noTargetGet;"function"==typeof $&&("string"!=typeof R||zt($,"name")||Ct($,"name",R),ht($).source=at.join("string"==typeof R?R:"")),F!==ot?(V?!K&&F[R]&&(Y=!0):delete F[R],Y?F[R]=$:Ct(F,R,$)):Y?F[R]=$:Rt(R,$)})(Function.prototype,"toString",function(){return"function"==typeof this&&J(this).source||Dt.call(this)})},function(xt,Pt){var j={}.toString;xt.exports=function(ot){return j.call(ot).slice(8,-1)}},function(xt,Pt,j){var ot=j(8),nt=j(73),Ct=j(10),zt=j(14),Rt=j(18),Dt=j(1),Ot=j(35),J=Object.getOwnPropertyDescriptor;Pt.f=ot?J:function(ht,at){if(ht=zt(ht),at=Rt(at,!0),Ot)try{return J(ht,at)}catch{}if(Dt(ht,at))return Ct(!nt.f.call(ht,at),ht[at])}},function(xt,Pt,j){var ot=j(0),nt=j(31).f,Ct=j(5),zt=j(29),Rt=j(19),Dt=j(71),Ot=j(65);xt.exports=function(J,ht){var at,F,R,$,O,V=J.target,Y=J.global,K=J.stat;if(at=Y?ot:K?ot[V]||Rt(V,{}):(ot[V]||{}).prototype)for(F in ht){if($=ht[F],R=J.noTargetGet?(O=nt(at,F))&&O.value:at[F],!Ot(Y?F:V+(K?".":"#")+F,J.forced)&&void 0!==R){if(typeof $==typeof R)continue;Dt($,R)}(J.sham||R&&R.sham)&&Ct($,"sham",!0),zt(at,F,$,J)}}},function(xt,Pt){var j=0,ot=Math.random();xt.exports=function(nt){return"Symbol(".concat(void 0===nt?"":nt,")_",(++j+ot).toString(36))}},function(xt,Pt,j){var ot=j(0),nt=j(6),Ct=ot.document,zt=nt(Ct)&&nt(Ct.createElement);xt.exports=function(Rt){return zt?Ct.createElement(Rt):{}}},function(xt,Pt,j){var ot=j(8),nt=j(4),Ct=j(34);xt.exports=!ot&&!nt(function(){return 7!=Object.defineProperty(Ct("div"),"a",{get:function(){return 7}}).a})},function(xt,Pt,j){var ot=j(11);xt.exports=ot("native-function-to-string",Function.toString)},function(xt,Pt,j){var ot,nt,Ct,zt=j(76),Rt=j(0),Dt=j(6),Ot=j(5),J=j(1),ht=j(16),at=j(15);if(zt){var R=new(0,Rt.WeakMap),$=R.get,O=R.has,V=R.set;ot=function(K,dt){return V.call(R,K,dt),dt},nt=function(K){return $.call(R,K)||{}},Ct=function(K){return O.call(R,K)}}else{var Y=ht("state");at[Y]=!0,ot=function(K,dt){return Ot(K,Y,dt),dt},nt=function(K){return J(K,Y)?K[Y]:{}},Ct=function(K){return J(K,Y)}}xt.exports={set:ot,get:nt,has:Ct,enforce:function(K){return Ct(K)?nt(K):ot(K,{})},getterFor:function(K){return function(dt){var g;if(!Dt(dt)||(g=nt(dt)).type!==K)throw TypeError("Incompatible receiver, "+K+" required");return g}}}},function(xt,Pt,j){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var ot=Object.assign||function(Rt){for(var Dt=1;Dt<arguments.length;Dt++){var Ot=arguments[Dt];for(var J in Ot)Object.prototype.hasOwnProperty.call(Ot,J)&&(Rt[J]=Ot[J])}return Rt},nt=zt(j(22)),Ct=zt(j(12));function zt(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}Pt.default=function(){var Rt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var Dt=document.querySelectorAll("[data-feather]");Array.from(Dt).forEach(function(Ot){return function(J){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},at=Array.from(J.attributes).reduce(function(V,Y){return V[Y.name]=Y.value,V},{}),F=at["data-feather"];delete at["data-feather"];var R=Ct.default[F].toSvg(ot({},ht,at,{class:(0,nt.default)(ht.class,at.class)})),$=(new DOMParser).parseFromString(R,"image/svg+xml").querySelector("svg");J.parentNode.replaceChild($,J)}(Ot,Rt)})}},function(xt,Pt,j){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var ot,Ct=(ot=j(12))&&ot.__esModule?ot:{default:ot};Pt.default=function(zt){var Rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!zt)throw new Error("The required `key` (icon name) parameter is missing.");if(!Ct.default[zt])throw new Error("No icon matching '"+zt+"'. See the complete list of icons at https://feathericons.com");return Ct.default[zt].toSvg(Rt)}},function(xt){xt.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-bouy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},function(xt){xt.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},function(xt){xt.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},function(xt,Pt,j){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var ot=Object.assign||function(Ot){for(var J=1;J<arguments.length;J++){var ht=arguments[J];for(var at in ht)Object.prototype.hasOwnProperty.call(ht,at)&&(Ot[at]=ht[at])}return Ot},nt=function(){function Ot(J,ht){for(var at=0;at<ht.length;at++){var F=ht[at];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(J,F.key,F)}}return function(J,ht,at){return ht&&Ot(J.prototype,ht),at&&Ot(J,at),J}}(),Ct=Rt(j(22)),zt=Rt(j(42));function Rt(Ot){return Ot&&Ot.__esModule?Ot:{default:Ot}}var Dt=function(){function Ot(J,ht){var at=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(function(F,R){if(!(F instanceof R))throw new TypeError("Cannot call a class as a function")})(this,Ot),this.name=J,this.contents=ht,this.tags=at,this.attrs=ot({},zt.default,{class:"feather feather-"+J})}return nt(Ot,[{key:"toSvg",value:function(){var ht,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"<svg "+(ht=ot({},this.attrs,J,{class:(0,Ct.default)(this.attrs.class,J.class)}),Object.keys(ht).map(function(at){return at+'="'+ht[at]+'"'}).join(" ")+">")+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),Ot}();Pt.default=Dt},function(xt,Pt,j){"use strict";var ot=zt(j(12)),nt=zt(j(39)),Ct=zt(j(38));function zt(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}xt.exports={icons:ot.default,toSvg:nt.default,replace:Ct.default}},function(xt,Pt,j){xt.exports=j(0)},function(xt,Pt,j){var ot=j(2)("iterator"),nt=!1;try{var Ct=0,zt={next:function(){return{done:!!Ct++}},return:function(){nt=!0}};zt[ot]=function(){return this},Array.from(zt,function(){throw 2})}catch{}xt.exports=function(Rt,Dt){if(!Dt&&!nt)return!1;var Ot=!1;try{var J={};J[ot]=function(){return{next:function(){return{done:Ot=!0}}}},Rt(J)}catch{}return Ot}},function(xt,Pt,j){var ot=j(30),nt=j(2)("toStringTag"),Ct="Arguments"==ot(function(){return arguments}());xt.exports=function(zt){var Rt,Dt,Ot;return void 0===zt?"Undefined":null===zt?"Null":"string"==typeof(Dt=function(J,ht){try{return J[ht]}catch{}}(Rt=Object(zt),nt))?Dt:Ct?ot(Rt):"Object"==(Ot=ot(Rt))&&"function"==typeof Rt.callee?"Arguments":Ot}},function(xt,Pt,j){var ot=j(47),nt=j(9),Ct=j(2)("iterator");xt.exports=function(zt){if(null!=zt)return zt[Ct]||zt["@@iterator"]||nt[ot(zt)]}},function(xt,Pt,j){"use strict";var ot=j(18),nt=j(7),Ct=j(10);xt.exports=function(zt,Rt,Dt){var Ot=ot(Rt);Ot in zt?nt.f(zt,Ot,Ct(0,Dt)):zt[Ot]=Dt}},function(xt,Pt,j){var ot=j(2),nt=j(9),Ct=ot("iterator"),zt=Array.prototype;xt.exports=function(Rt){return void 0!==Rt&&(nt.Array===Rt||zt[Ct]===Rt)}},function(xt,Pt,j){var ot=j(3);xt.exports=function(nt,Ct,zt,Rt){try{return Rt?Ct(ot(zt)[0],zt[1]):Ct(zt)}catch(Ot){var Dt=nt.return;throw void 0!==Dt&&ot(Dt.call(nt)),Ot}}},function(xt,Pt){xt.exports=function(j){if("function"!=typeof j)throw TypeError(String(j)+" is not a function");return j}},function(xt,Pt,j){var ot=j(52);xt.exports=function(nt,Ct,zt){if(ot(nt),void 0===Ct)return nt;switch(zt){case 0:return function(){return nt.call(Ct)};case 1:return function(Rt){return nt.call(Ct,Rt)};case 2:return function(Rt,Dt){return nt.call(Ct,Rt,Dt)};case 3:return function(Rt,Dt,Ot){return nt.call(Ct,Rt,Dt,Ot)}}return function(){return nt.apply(Ct,arguments)}}},function(xt,Pt,j){"use strict";var ot=j(53),nt=j(24),Ct=j(51),zt=j(50),Rt=j(27),Dt=j(49),Ot=j(48);xt.exports=function(J){var ht,at,F,R,$=nt(J),O="function"==typeof this?this:Array,V=arguments.length,Y=V>1?arguments[1]:void 0,K=void 0!==Y,dt=0,g=Ot($);if(K&&(Y=ot(Y,V>2?arguments[2]:void 0,2)),null==g||O==Array&&zt(g))for(at=new O(ht=Rt($.length));ht>dt;dt++)Dt(at,dt,K?Y($[dt],dt):$[dt]);else for(R=g.call($),at=new O;!(F=R.next()).done;dt++)Dt(at,dt,K?Ct(R,Y,[F.value,dt],!0):F.value);return at.length=dt,at}},function(xt,Pt,j){var ot=j(32),nt=j(54);ot({target:"Array",stat:!0,forced:!j(46)(function(Ct){Array.from(Ct)})},{from:nt})},function(xt,Pt,j){var ot=j(6),nt=j(3);xt.exports=function(Ct,zt){if(nt(Ct),!ot(zt)&&null!==zt)throw TypeError("Can't set "+String(zt)+" as a prototype")}},function(xt,Pt,j){var ot=j(56);xt.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var nt,Ct=!1,zt={};try{(nt=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(zt,[]),Ct=zt instanceof Array}catch{}return function(Rt,Dt){return ot(Rt,Dt),Ct?nt.call(Rt,Dt):Rt.__proto__=Dt,Rt}}():void 0)},function(xt,Pt,j){var ot=j(0).document;xt.exports=ot&&ot.documentElement},function(xt,Pt,j){var ot=j(28),nt=j(13);xt.exports=Object.keys||function(Ct){return ot(Ct,nt)}},function(xt,Pt,j){var ot=j(8),nt=j(7),Ct=j(3),zt=j(59);xt.exports=ot?Object.defineProperties:function(Rt,Dt){Ct(Rt);for(var Ot,J=zt(Dt),ht=J.length,at=0;ht>at;)nt.f(Rt,Ot=J[at++],Dt[Ot]);return Rt}},function(xt,Pt,j){var ot=j(3),nt=j(60),Ct=j(13),zt=j(15),Rt=j(58),Dt=j(34),Ot=j(16)("IE_PROTO"),J=function(){},ht=function(){var at,F=Dt("iframe"),R=Ct.length;for(F.style.display="none",Rt.appendChild(F),F.src=String("javascript:"),(at=F.contentWindow.document).open(),at.write("<script>document.F=Object<\/script>"),at.close(),ht=at.F;R--;)delete ht.prototype[Ct[R]];return ht()};xt.exports=Object.create||function(at,F){var R;return null!==at?(J.prototype=ot(at),R=new J,J.prototype=null,R[Ot]=at):R=ht(),void 0===F?R:nt(R,F)},zt[Ot]=!0},function(xt,Pt,j){var ot=j(4);xt.exports=!!Object.getOwnPropertySymbols&&!ot(function(){return!String(Symbol())})},function(xt,Pt,j){var ot=j(4);xt.exports=!ot(function(){function nt(){}return nt.prototype.constructor=null,Object.getPrototypeOf(new nt)!==nt.prototype})},function(xt,Pt,j){"use strict";var ot=j(26).IteratorPrototype,nt=j(61),Ct=j(10),zt=j(23),Rt=j(9),Dt=function(){return this};xt.exports=function(Ot,J,ht){var at=J+" Iterator";return Ot.prototype=nt(ot,{next:Ct(1,ht)}),zt(Ot,at,!1,!0),Rt[at]=Dt,Ot}},function(xt,Pt,j){var ot=j(4),nt=/#|\.prototype\./,Ct=function(J,ht){var at=Rt[zt(J)];return at==Ot||at!=Dt&&("function"==typeof ht?ot(ht):!!ht)},zt=Ct.normalize=function(J){return String(J).replace(nt,".").toLowerCase()},Rt=Ct.data={},Dt=Ct.NATIVE="N",Ot=Ct.POLYFILL="P";xt.exports=Ct},function(xt,Pt){Pt.f=Object.getOwnPropertySymbols},function(xt,Pt,j){var ot=j(21),nt=Math.max,Ct=Math.min;xt.exports=function(zt,Rt){var Dt=ot(zt);return Dt<0?nt(Dt+Rt,0):Ct(Dt,Rt)}},function(xt,Pt,j){var ot=j(14),nt=j(27),Ct=j(67);xt.exports=function(zt){return function(Rt,Dt,Ot){var J,ht=ot(Rt),at=nt(ht.length),F=Ct(Ot,at);if(zt&&Dt!=Dt){for(;at>F;)if((J=ht[F++])!=J)return!0}else for(;at>F;F++)if((zt||F in ht)&&ht[F]===Dt)return zt||F||0;return!zt&&-1}}},function(xt,Pt,j){var ot=j(28),nt=j(13).concat("length","prototype");Pt.f=Object.getOwnPropertyNames||function(Ct){return ot(Ct,nt)}},function(xt,Pt,j){var ot=j(0),nt=j(69),Ct=j(66),zt=j(3),Rt=ot.Reflect;xt.exports=Rt&&Rt.ownKeys||function(Dt){var Ot=nt.f(zt(Dt)),J=Ct.f;return J?Ot.concat(J(Dt)):Ot}},function(xt,Pt,j){var ot=j(1),nt=j(70),Ct=j(31),zt=j(7);xt.exports=function(Rt,Dt){for(var Ot=nt(Dt),J=zt.f,ht=Ct.f,at=0;at<Ot.length;at++){var F=Ot[at];ot(Rt,F)||J(Rt,F,ht(Dt,F))}}},function(xt,Pt,j){var ot=j(4),nt=j(30),Ct="".split;xt.exports=ot(function(){return!Object("z").propertyIsEnumerable(0)})?function(zt){return"String"==nt(zt)?Ct.call(zt,""):Object(zt)}:Object},function(xt,Pt,j){"use strict";var ot={}.propertyIsEnumerable,nt=Object.getOwnPropertyDescriptor,Ct=nt&&!ot.call({1:2},1);Pt.f=Ct?function(zt){var Rt=nt(this,zt);return!!Rt&&Rt.enumerable}:ot},function(xt,Pt,j){"use strict";var ot=j(32),nt=j(64),Ct=j(25),zt=j(57),Rt=j(23),Dt=j(5),Ot=j(29),J=j(2),ht=j(17),at=j(9),F=j(26),R=F.IteratorPrototype,$=F.BUGGY_SAFARI_ITERATORS,O=J("iterator"),V=function(){return this};xt.exports=function(Y,K,dt,g,h,rt,T){nt(dt,K,g);var G,A,D,b=function(vt){if(vt===h&&I)return I;if(!$&&vt in P)return P[vt];switch(vt){case"keys":case"values":case"entries":return function(){return new dt(this,vt)}}return function(){return new dt(this)}},W=K+" Iterator",k=!1,P=Y.prototype,Q=P[O]||P["@@iterator"]||h&&P[h],I=!$&&Q||b(h),B="Array"==K&&P.entries||Q;if(B&&(G=Ct(B.call(new Y)),R!==Object.prototype&&G.next&&(ht||Ct(G)===R||(zt?zt(G,R):"function"!=typeof G[O]&&Dt(G,O,V)),Rt(G,W,!0,!0),ht&&(at[W]=V))),"values"==h&&Q&&"values"!==Q.name&&(k=!0,I=function(){return Q.call(this)}),ht&&!T||P[O]===I||Dt(P,O,I),at[K]=I,h)if(A={values:b("values"),keys:rt?I:b("keys"),entries:b("entries")},T)for(D in A)!$&&!k&&D in P||Ot(P,D,A[D]);else ot({target:K,proto:!0,forced:$||k},A);return A}},function(xt,Pt){var j;j=function(){return this}();try{j=j||Function("return this")()||(0,eval)("this")}catch{"object"==typeof window&&(j=window)}xt.exports=j},function(xt,Pt,j){var ot=j(0),nt=j(36),Ct=ot.WeakMap;xt.exports="function"==typeof Ct&&/native code/.test(nt.call(Ct))},function(xt,Pt,j){var ot=j(21),nt=j(20);xt.exports=function(Ct,zt,Rt){var Dt,Ot,J=String(nt(Ct)),ht=ot(zt),at=J.length;return ht<0||ht>=at?Rt?"":void 0:(Dt=J.charCodeAt(ht))<55296||Dt>56319||ht+1===at||(Ot=J.charCodeAt(ht+1))<56320||Ot>57343?Rt?J.charAt(ht):Dt:Rt?J.slice(ht,ht+2):Ot-56320+(Dt-55296<<10)+65536}},function(xt,Pt,j){"use strict";var ot=j(77),nt=j(37),Ct=j(74),zt=nt.set,Rt=nt.getterFor("String Iterator");Ct(String,"String",function(Dt){zt(this,{type:"String Iterator",string:String(Dt),index:0})},function(){var Dt,Ot=Rt(this),J=Ot.string,ht=Ot.index;return ht>=J.length?{value:void 0,done:!0}:(Dt=ot(J,ht,!0),Ot.index+=Dt.length,{value:Dt,done:!1})})},function(xt,Pt,j){j(78),j(55);var ot=j(45);xt.exports=ot.Array.from},function(xt,Pt,j){j(79),xt.exports=j(44)}])}),function(xt,Pt){"object"==typeof module&&module.exports?(Pt.default=Pt,module.exports=xt.document?Pt(xt):Pt):"function"==typeof define&&define.amd?define("highcharts/highcharts",function(){return Pt(xt)}):(xt.Highcharts&&xt.Highcharts.error(16,!0),xt.Highcharts=Pt(xt))}(typeof window<"u"?window:this,function(xt){function Pt(ot,nt,Ct,zt){ot.hasOwnProperty(nt)||(ot[nt]=zt.apply(null,Ct),"function"==typeof CustomEvent&&xt.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:nt,module:ot[nt]}})))}var j={};return Pt(j,"Core/Globals.js",[],function(){var ot,nt;return(nt=ot||(ot={})).SVG_NS="http://www.w3.org/2000/svg",nt.product="Highcharts",nt.version="10.3.2",nt.win=typeof xt<"u"?xt:{},nt.doc=nt.win.document,nt.svg=nt.doc&&nt.doc.createElementNS&&!!nt.doc.createElementNS(nt.SVG_NS,"svg").createSVGRect,nt.userAgent=nt.win.navigator&&nt.win.navigator.userAgent||"",nt.isChrome=-1!==nt.userAgent.indexOf("Chrome"),nt.isFirefox=-1!==nt.userAgent.indexOf("Firefox"),nt.isMS=/(edge|msie|trident)/i.test(nt.userAgent)&&!nt.win.opera,nt.isSafari=!nt.isChrome&&-1!==nt.userAgent.indexOf("Safari"),nt.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(nt.userAgent),nt.isWebKit=-1!==nt.userAgent.indexOf("AppleWebKit"),nt.deg2rad=2*Math.PI/360,nt.hasBidiBug=nt.isFirefox&&4>parseInt(nt.userAgent.split("Firefox/")[1],10),nt.hasTouch=!!nt.win.TouchEvent,nt.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],nt.noop=function(){},nt.supportsPassiveEvents=function(){var Ct=!1;if(!nt.isMS){var zt=Object.defineProperty({},"passive",{get:function(){Ct=!0}});nt.win.addEventListener&&nt.win.removeEventListener&&(nt.win.addEventListener("testPassive",nt.noop,zt),nt.win.removeEventListener("testPassive",nt.noop,zt))}return Ct}(),nt.charts=[],nt.dateFormats={},nt.seriesTypes={},nt.symbolSizes={},nt.chartCount=0,ot}),Pt(j,"Core/Utilities.js",[j["Core/Globals.js"]],function(ot){function nt(k,P,Q,I){var B=P?"Highcharts error":"Highcharts warning";32===k&&(k=B+": Deprecated member");var vt=at(k),Ut=vt?B+" #"+k+": www.highcharts.com/errors/"+k+"/":k.toString();if(typeof I<"u"){var It="";vt&&(Ut+="?"),g(I,function(E,U){It+="\n - ".concat(U,": ").concat(E),vt&&(Ut+=encodeURI(U)+"="+encodeURI(E))}),Ut+=It}rt(ot,"displayError",{chart:Q,code:k,message:Ut,params:I},function(){if(P)throw Error(Ut);A.console&&-1===nt.messages.indexOf(Ut)&&console.warn(Ut)}),nt.messages.push(Ut)}function zt(k,P){return parseInt(k,P||10)}function Rt(k){return"string"==typeof k}function Dt(k){return"[object Array]"===(k=Object.prototype.toString.call(k))||"[object Array Iterator]"===k}function Ot(k,P){return!(!k||"object"!=typeof k||P&&Dt(k))}function J(k){return Ot(k)&&"number"==typeof k.nodeType}function ht(k){var P=k&&k.constructor;return!(!Ot(k,!0)||J(k)||!P||!P.name||"Object"===P.name)}function at(k){return"number"==typeof k&&!isNaN(k)&&1/0>k&&-1/0<k}function F(k){return typeof k<"u"&&null!==k}function R(k,P,Q){var B,I=Rt(P)&&!F(Q),vt=function(Ut,It){F(Ut)?k.setAttribute(It,Ut):I?(B=k.getAttribute(It))||"class"!==It||(B=k.getAttribute(It+"Name")):k.removeAttribute(It)};return Rt(P)?vt(Q,P):g(P,vt),B}function $(k,P){var Q;for(Q in k||(k={}),P)k[Q]=P[Q];return k}function O(){for(var k=arguments,P=k.length,Q=0;Q<P;Q++){var I=k[Q];if(typeof I<"u"&&null!==I)return I}}function V(k,P){ot.isMS&&!ot.svg&&P&&F(P.opacity)&&(P.filter="alpha(opacity=".concat(100*P.opacity,")")),$(k.style,P)}function Y(k){return Math.pow(10,Math.floor(Math.log(k)/Math.LN10))}function K(k,P){return 1e14<k?k:parseFloat(k.toPrecision(P||14))}function g(k,P,Q){for(var I in k)Object.hasOwnProperty.call(k,I)&&P.call(Q||k[I],k[I],I,k)}function h(k,P,Q){function I(It,E){var U=k.removeEventListener||ot.removeEventListenerPolyfill;U&&U.call(k,It,E,!1)}function B(It){var E;if(k.nodeName){if(P){var U={};U[P]=!0}else U=It;g(U,function(mt,ct){if(It[ct])for(E=It[ct].length;E--;)I(ct,It[ct][E].fn)})}}var vt="function"==typeof k&&k.prototype||k;if(Object.hasOwnProperty.call(vt,"hcEvents")){var Ut=vt.hcEvents;P?(vt=Ut[P]||[],Q?(Ut[P]=vt.filter(function(It){return Q!==It.fn}),I(P,Q)):(B(Ut),Ut[P]=[])):(B(Ut),delete vt.hcEvents)}}function rt(k,P,Q,I){if(Q=Q||{},G.createEvent&&(k.dispatchEvent||k.fireEvent&&k!==ot)){var B=G.createEvent("Events");B.initEvent(P,!0,!0),Q=$(B,Q),k.dispatchEvent?k.dispatchEvent(Q):k.fireEvent(P,Q)}else if(k.hcEvents){Q.target||$(Q,{preventDefault:function(){Q.defaultPrevented=!0},target:k,type:P}),B=[];for(var vt=k,Ut=!1;vt.hcEvents;)Object.hasOwnProperty.call(vt,"hcEvents")&&vt.hcEvents[P]&&(B.length&&(Ut=!0),B.unshift.apply(B,vt.hcEvents[P])),vt=Object.getPrototypeOf(vt);Ut&&B.sort(function(It,E){return It.order-E.order}),B.forEach(function(It){!1===It.fn.call(k,Q)&&Q.preventDefault()})}I&&!Q.defaultPrevented&&I.call(k,Q)}var T=ot.charts,G=ot.doc,A=ot.win;(nt||(nt={})).messages=[],Math.easeInOutSine=function(k){return-.5*(Math.cos(Math.PI*k)-1)};var D=Array.prototype.find?function(k,P){return k.find(P)}:function(k,P){var Q,I=k.length;for(Q=0;Q<I;Q++)if(P(k[Q],Q))return k[Q]};g({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(k,P){ot[P]=function(Q){var I;return nt(32,!1,void 0,((I={})["Highcharts.".concat(P)]="use Array.".concat(k),I)),Array.prototype[k].apply(Q,[].slice.call(arguments,1))}});var b,k,P,W=(k=Math.random().toString(36).substring(2,9)+"-",P=0,function(){return"highcharts-"+(b?"":k)+P++});return A.jQuery&&(A.jQuery.fn.highcharts=function(){var k=[].slice.call(arguments);if(this[0])return k[0]?(new(ot[Rt(k[0])?k.shift():"Chart"])(this[0],k[0],k[1]),this):T[R(this[0],"data-highcharts-chart")]}),D={addEvent:function(k,P,Q,I){void 0===I&&(I={});var B="function"==typeof k&&k.prototype||k;Object.hasOwnProperty.call(B,"hcEvents")||(B.hcEvents={}),B=B.hcEvents,ot.Point&&k instanceof ot.Point&&k.series&&k.series.chart&&(k.series.chart.runTrackerClick=!0);var vt=k.addEventListener||ot.addEventListenerPolyfill;return vt&&vt.call(k,P,Q,!!ot.supportsPassiveEvents&&{passive:void 0===I.passive?-1!==P.indexOf("touch"):I.passive,capture:!1}),B[P]||(B[P]=[]),B[P].push({fn:Q,order:"number"==typeof I.order?I.order:1/0}),B[P].sort(function(Ut,It){return Ut.order-It.order}),function(){h(k,P,Q)}},arrayMax:function(k){for(var P=k.length,Q=k[0];P--;)k[P]>Q&&(Q=k[P]);return Q},arrayMin:function(k){for(var P=k.length,Q=k[0];P--;)k[P]<Q&&(Q=k[P]);return Q},attr:R,clamp:function(k,P,Q){return k>P?k<Q?k:Q:P},cleanRecursively:function Ct(k,P){var Q={};return g(k,function(I,B){Ot(k[B],!0)&&!k.nodeType&&P[B]?(I=Ct(k[B],P[B]),Object.keys(I).length&&(Q[B]=I)):(Ot(k[B])||k[B]!==P[B]||B in k&&!(B in P))&&(Q[B]=k[B])}),Q},clearTimeout:function(k){F(k)&&clearTimeout(k)},correctFloat:K,createElement:function(k,P,Q,I,B){return k=G.createElement(k),P&&$(k,P),B&&V(k,{padding:"0",border:"none",margin:"0"}),Q&&V(k,Q),I&&I.appendChild(k),k},css:V,defined:F,destroyObjectProperties:function(k,P){g(k,function(Q,I){Q&&Q!==P&&Q.destroy&&Q.destroy(),delete k[I]})},discardElement:function(k){k&&k.parentElement&&k.parentElement.removeChild(k)},erase:function(k,P){for(var Q=k.length;Q--;)if(k[Q]===P){k.splice(Q,1);break}},error:nt,extend:$,extendClass:function(k,P){var Q=function(){};return $(Q.prototype=new k,P),Q},find:D,fireEvent:rt,getMagnitude:Y,getNestedProperty:function(k,P){for(k=k.split(".");k.length&&F(P);){var Q=k.shift();if(typeof Q>"u"||"__proto__"===Q||!F(P=P[Q])||"function"==typeof P||"number"==typeof P.nodeType||P===A)return}return P},getStyle:function dt(k,P,Q){var I=ot.getStyle||dt;if("width"===P)return P=Math.min(k.offsetWidth,k.scrollWidth),(Q=k.getBoundingClientRect&&k.getBoundingClientRect().width)<P&&Q>=P-1&&(P=Math.floor(Q)),Math.max(0,P-(I(k,"padding-left",!0)||0)-(I(k,"padding-right",!0)||0));if("height"===P)return Math.max(0,Math.min(k.offsetHeight,k.scrollHeight)-(I(k,"padding-top",!0)||0)-(I(k,"padding-bottom",!0)||0));if(A.getComputedStyle||nt(27,!0),k=A.getComputedStyle(k,void 0)){var B=k.getPropertyValue(P);O(Q,"opacity"!==P)&&(B=zt(B))}return B},inArray:function(k,P,Q){return nt(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),P.indexOf(k,Q)},isArray:Dt,isClass:ht,isDOMElement:J,isFunction:function(k){return"function"==typeof k},isNumber:at,isObject:Ot,isString:Rt,keys:function(k){return nt(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(k)},merge:function(){var k,P=arguments,Q={},I=function(vt,Ut){return"object"!=typeof vt&&(vt={}),g(Ut,function(It,E){"__proto__"!==E&&"constructor"!==E&&(vt[E]=!Ot(It,!0)||ht(It)||J(It)?Ut[E]:I(vt[E]||{},It))}),vt};!0===P[0]&&(Q=P[1],P=Array.prototype.slice.call(P,2));var B=P.length;for(k=0;k<B;k++)Q=I(Q,P[k]);return Q},normalizeTickInterval:function(k,P,Q,I,B){var vt=k,Ut=k/(Q=O(Q,Y(k)));for(P||(P=B?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===I&&(1===Q?P=P.filter(function(It){return It%1==0}):.1>=Q&&(P=[1/Q]))),I=0;I<P.length&&(vt=P[I],!(B&&vt*Q>=k||!B&&Ut<=(P[I]+(P[I+1]||P[I]))/2));I++);return K(vt*Q,-Math.round(Math.log(.001)/Math.LN10))},objectEach:g,offset:function(k){var P=G.documentElement;return{top:(k=k.parentElement||k.parentNode?k.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(A.pageYOffset||P.scrollTop)-(P.clientTop||0),left:k.left+(A.pageXOffset||P.scrollLeft)-(P.clientLeft||0),width:k.width,height:k.height}},pad:function(k,P,Q){return Array((P||2)+1-String(k).replace("-","").length).join(Q||"0")+k},pick:O,pInt:zt,relativeLength:function(k,P,Q){return/%$/.test(k)?P*parseFloat(k)/100+(Q||0):parseFloat(k)},removeEvent:h,splat:function(k){return Dt(k)?k:[k]},stableSort:function(k,P){var I,B,Q=k.length;for(B=0;B<Q;B++)k[B].safeI=B;for(k.sort(function(vt,Ut){return 0===(I=P(vt,Ut))?vt.safeI-Ut.safeI:I}),B=0;B<Q;B++)delete k[B].safeI},syncTimeout:function(k,P,Q){return 0<P?setTimeout(k,P,Q):(k.call(0,Q),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:W,useSerialIds:function(k){return b=O(k,b)},wrap:function(k,P,Q){var I=k[P];k[P]=function(){var B=arguments,vt=this;return Q.apply(this,[function(){return I.apply(vt,arguments.length?arguments:B)}].concat([].slice.call(arguments)))}}},D}),Pt(j,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),Pt(j,"Core/Color/Color.js",[j["Core/Globals.js"],j["Core/Utilities.js"]],function(ot,nt){var Ct=nt.isNumber,zt=nt.merge,Rt=nt.pInt;return function(){function Dt(Ot){this.rgba=[NaN,NaN,NaN,NaN],this.input=Ot;var J=ot.Color;return J&&J!==Dt?new J(Ot):this instanceof Dt?void this.init(Ot):new Dt(Ot)}return Dt.parse=function(Ot){return Ot?new Dt(Ot):Dt.None},Dt.prototype.init=function(Ot){var J;if("object"==typeof Ot&&typeof Ot.stops<"u")this.stops=Ot.stops.map(function(R){return new Dt(R[1])});else if("string"==typeof Ot){if(this.input=Ot=Dt.names[Ot.toLowerCase()]||Ot,"#"===Ot.charAt(0)){var ht=Ot.length,at=parseInt(Ot.substr(1),16);7===ht?J=[(16711680&at)>>16,(65280&at)>>8,255&at,1]:4===ht&&(J=[(3840&at)>>4|(3840&at)>>8,(240&at)>>4|240&at,(15&at)<<4|15&at,1])}if(!J)for(at=Dt.parsers.length;at--&&!J;){var F=Dt.parsers[at];(ht=F.regex.exec(Ot))&&(J=F.parse(ht))}}J&&(this.rgba=J)},Dt.prototype.get=function(Ot){var J=this.input,ht=this.rgba;if("object"==typeof J&&typeof this.stops<"u"){var at=zt(J);return at.stops=[].slice.call(at.stops),this.stops.forEach(function(F,R){at.stops[R]=[at.stops[R][0],F.get(Ot)]}),at}return ht&&Ct(ht[0])?"rgb"===Ot||!Ot&&1===ht[3]?"rgb("+ht[0]+","+ht[1]+","+ht[2]+")":"a"===Ot?"".concat(ht[3]):"rgba("+ht.join(",")+")":J},Dt.prototype.brighten=function(Ot){var J=this.rgba;if(this.stops)this.stops.forEach(function(at){at.brighten(Ot)});else if(Ct(Ot)&&0!==Ot)for(var ht=0;3>ht;ht++)J[ht]+=Rt(255*Ot),0>J[ht]&&(J[ht]=0),255<J[ht]&&(J[ht]=255);return this},Dt.prototype.setOpacity=function(Ot){return this.rgba[3]=Ot,this},Dt.prototype.tweenTo=function(Ot,J){var ht=this.rgba,at=Ot.rgba;return Ct(ht[0])&&Ct(at[0])?((Ot=1!==at[3]||1!==ht[3])?"rgba(":"rgb(")+Math.round(at[0]+(ht[0]-at[0])*(1-J))+","+Math.round(at[1]+(ht[1]-at[1])*(1-J))+","+Math.round(at[2]+(ht[2]-at[2])*(1-J))+(Ot?","+(at[3]+(ht[3]-at[3])*(1-J)):"")+")":Ot.input||"none"},Dt.names={white:"#ffffff",black:"#000000"},Dt.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(Ot){return[Rt(Ot[1]),Rt(Ot[2]),Rt(Ot[3]),parseFloat(Ot[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(Ot){return[Rt(Ot[1]),Rt(Ot[2]),Rt(Ot[3]),1]}}],Dt.None=new Dt(""),Dt}()}),Pt(j,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),Pt(j,"Core/Time.js",[j["Core/Globals.js"],j["Core/Utilities.js"]],function(ot,nt){var Ct=ot.win,zt=nt.defined,Rt=nt.error,Dt=nt.extend,Ot=nt.isObject,J=nt.merge,ht=nt.objectEach,at=nt.pad,F=nt.pick,R=nt.splat,$=nt.timeUnits,O=ot.isSafari&&Ct.Intl&&Ct.Intl.DateTimeFormat.prototype.formatRange,V=ot.isSafari&&Ct.Intl&&!Ct.Intl.DateTimeFormat.prototype.formatRange;return nt=function(){function Y(K){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=Ct.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(K)}return Y.prototype.get=function(K,dt){if(this.variableTimezone||this.timezoneOffset){var g=dt.getTime(),h=g-this.getTimezoneOffset(dt);return dt.setTime(h),K=dt["getUTC"+K](),dt.setTime(g),K}return this.useUTC?dt["getUTC"+K]():dt["get"+K]()},Y.prototype.set=function(K,dt,g){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===K||"Seconds"===K||"Minutes"===K&&this.getTimezoneOffset(dt)%36e5==0)return dt["setUTC"+K](g);var h=this.getTimezoneOffset(dt);return h=dt.getTime()-h,dt.setTime(h),dt["setUTC"+K](g),K=this.getTimezoneOffset(dt),h=dt.getTime()+K,dt.setTime(h)}return this.useUTC||O&&"FullYear"===K?dt["setUTC"+K](g):dt["set"+K](g)},Y.prototype.update=function(K){void 0===K&&(K={});var dt=F(K.useUTC,!0);this.options=K=J(!0,this.options,K),this.Date=K.Date||Ct.Date||Date,this.timezoneOffset=(this.useUTC=dt)&&K.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=dt&&!(!K.getTimezoneOffset&&!K.timezone)},Y.prototype.makeTime=function(K,dt,g,h,rt,T){if(this.useUTC){var G=this.Date.UTC.apply(0,arguments),A=this.getTimezoneOffset(G),D=this.getTimezoneOffset(G+=A);A!==D?G+=D-A:A-36e5!==this.getTimezoneOffset(G-36e5)||V||(G-=36e5)}else G=new this.Date(K,dt,F(g,1),F(h,0),F(rt,0),F(T,0)).getTime();return G},Y.prototype.timezoneOffsetFunction=function(){var K=this,dt=this.options,g=dt.getTimezoneOffset,h=dt.moment||Ct.moment;if(!this.useUTC)return function(rt){return 6e4*new Date(rt.toString()).getTimezoneOffset()};if(dt.timezone){if(h)return function(rt){return 6e4*-h.tz(rt,dt.timezone).utcOffset()};Rt(25)}return this.useUTC&&g?function(rt){return 6e4*g(rt.valueOf())}:function(){return 6e4*(K.timezoneOffset||0)}},Y.prototype.dateFormat=function(K,dt,g){if(!zt(dt)||isNaN(dt))return ot.defaultOptions.lang&&ot.defaultOptions.lang.invalidDate||"";K=F(K,"%Y-%m-%d %H:%M:%S");var h=this,rt=new this.Date(dt),T=this.get("Hours",rt),G=this.get("Day",rt),A=this.get("Date",rt),D=this.get("Month",rt),b=this.get("FullYear",rt),W=ot.defaultOptions.lang,k=W&&W.weekdays,P=W&&W.shortWeekdays;return rt=Dt({a:P?P[G]:k[G].substr(0,3),A:k[G],d:at(A),e:at(A,2," "),w:G,b:W.shortMonths[D],B:W.months[D],m:at(D+1),o:D+1,y:b.toString().substr(2,2),Y:b,H:at(T),k:T,I:at(T%12||12),l:T%12||12,M:at(this.get("Minutes",rt)),p:12>T?"AM":"PM",P:12>T?"am":"pm",S:at(rt.getSeconds()),L:at(Math.floor(dt%1e3),3)},ot.dateFormats),ht(rt,function(Q,I){for(;-1!==K.indexOf("%"+I);)K=K.replace("%"+I,"function"==typeof Q?Q.call(h,dt):Q)}),g?K.substr(0,1).toUpperCase()+K.substr(1):K},Y.prototype.resolveDTLFormat=function(K){return Ot(K,!0)?K:{main:(K=R(K))[0],from:K[1],to:K[2]}},Y.prototype.getTimeTicks=function(K,dt,g,h){var W,rt=this,T=[],G={},A=new rt.Date(dt),D=K.unitRange,b=K.count||1;if(h=F(h,1),zt(dt)){if(rt.set("Milliseconds",A,D>=$.second?0:b*Math.floor(rt.get("Milliseconds",A)/b)),D>=$.second&&rt.set("Seconds",A,D>=$.minute?0:b*Math.floor(rt.get("Seconds",A)/b)),D>=$.minute&&rt.set("Minutes",A,D>=$.hour?0:b*Math.floor(rt.get("Minutes",A)/b)),D>=$.hour&&rt.set("Hours",A,D>=$.day?0:b*Math.floor(rt.get("Hours",A)/b)),D>=$.day&&rt.set("Date",A,D>=$.month?1:Math.max(1,b*Math.floor(rt.get("Date",A)/b))),D>=$.month){rt.set("Month",A,D>=$.year?0:b*Math.floor(rt.get("Month",A)/b));var k=rt.get("FullYear",A)}D>=$.year&&rt.set("FullYear",A,k-k%b),D===$.week&&(k=rt.get("Day",A),rt.set("Date",A,rt.get("Date",A)-k+h+(k<h?-7:0))),k=rt.get("FullYear",A),h=rt.get("Month",A);var P=rt.get("Date",A),Q=rt.get("Hours",A);for(dt=A.getTime(),!rt.variableTimezone&&rt.useUTC||!zt(g)||(W=g-dt>4*$.month||rt.getTimezoneOffset(dt)!==rt.getTimezoneOffset(g)),dt=A.getTime(),A=1;dt<g;)T.push(dt),dt=D===$.year?rt.makeTime(k+A*b,0):D===$.month?rt.makeTime(k,h+A*b):!W||D!==$.day&&D!==$.week?W&&D===$.hour&&1<b?rt.makeTime(k,h,P,Q+A*b):dt+D*b:rt.makeTime(k,h,P+A*b*(D===$.day?1:7)),A++;T.push(dt),D<=$.hour&&1e4>T.length&&T.forEach(function(I){I%18e5==0&&"000000000"===rt.dateFormat("%H%M%S%L",I)&&(G[I]="day")})}return T.info=Dt(K,{higherRanks:G,totalRange:D*b}),T},Y.prototype.getDateFormat=function(K,dt,g,h){var rt=this.dateFormat("%m-%d %H:%M:%S.%L",dt),T={millisecond:15,second:12,minute:9,hour:6,day:3},G="millisecond";for(A in $){if(K===$.week&&+this.dateFormat("%w",dt)===g&&"00:00:00.000"===rt.substr(6)){var A="week";break}if($[A]>K){A=G;break}if(T[A]&&rt.substr(T[A])!=="01-01 00:00:00.000".substr(T[A]))break;"week"!==A&&(G=A)}return this.resolveDTLFormat(h[A]).main},Y}(),nt}),Pt(j,"Core/Defaults.js",[j["Core/Chart/ChartDefaults.js"],j["Core/Color/Color.js"],j["Core/Globals.js"],j["Core/Color/Palettes.js"],j["Core/Time.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt,Dt){nt=nt.parse;var Ot=Dt.merge,J={colors:zt.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:ot,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ct.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:Ct.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:nt("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};J.chart.styledMode=!1;var ht=new Rt(Ot(J.global,J.time));return{defaultOptions:J,defaultTime:ht,getOptions:function(){return J},setOptions:function(at){return Ot(!0,J,at),(at.time||at.global)&&(Ct.time?Ct.time.update(Ot(J.global,J.time,at.global,at.time)):Ct.time=ht),J}}}),Pt(j,"Core/Animation/Fx.js",[j["Core/Color/Color.js"],j["Core/Globals.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var zt=ot.parse,Rt=nt.win,Dt=Ct.isNumber,Ot=Ct.objectEach;return function(){function J(ht,at,F){this.pos=NaN,this.options=at,this.elem=ht,this.prop=F}return J.prototype.dSetter=function(){var ht=this.paths,at=ht&&ht[0];ht=ht&&ht[1];var F=this.now||0,R=[];if(1!==F&&at&&ht)if(at.length===ht.length&&1>F)for(var $=0;$<ht.length;$++){for(var O=at[$],V=ht[$],Y=[],K=0;K<V.length;K++){var dt=O[K],g=V[K];Y[K]=Dt(dt)&&Dt(g)&&("A"!==V[0]||4!==K&&5!==K)?dt+F*(g-dt):g}R.push(Y)}else R=ht;else R=this.toD||[];this.elem.attr("d",R,void 0,!0)},J.prototype.update=function(){var ht=this.elem,at=this.prop,F=this.now,R=this.options.step;this[at+"Setter"]?this[at+"Setter"]():ht.attr?ht.element&&ht.attr(at,F,null,!0):ht.style[at]=F+this.unit,R&&R.call(ht,F,this)},J.prototype.run=function(ht,at,F){var R=this,$=R.options,O=function(K){return!O.stopped&&R.step(K)},V=Rt.requestAnimationFrame||function(K){setTimeout(K,13)},Y=function(){for(var K=0;K<J.timers.length;K++)J.timers[K]()||J.timers.splice(K--,1);J.timers.length&&V(Y)};ht!==at||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=ht,this.end=at,this.unit=F,this.now=this.start,this.pos=0,O.elem=this.elem,O.prop=this.prop,O()&&1===J.timers.push(O)&&V(Y)):(delete $.curAnim[this.prop],$.complete&&0===Object.keys($.curAnim).length&&$.complete.call(this.elem))},J.prototype.step=function(ht){var at=+new Date,F=this.options,R=this.elem,$=F.complete,O=F.duration,V=F.curAnim;if(R.attr&&!R.element)ht=!1;else if(ht||at>=O+this.startTime){this.now=this.end,this.pos=1,this.update();var Y=V[this.prop]=!0;Ot(V,function(K){!0!==K&&(Y=!1)}),Y&&$&&$.call(R),ht=!1}else this.pos=F.easing((at-this.startTime)/O),this.now=this.start+(this.end-this.start)*this.pos,this.update(),ht=!0;return ht},J.prototype.initPath=function(ht,at,F){function R(rt,T){for(;rt.length<h;){var G=rt[0],A=T[h-rt.length];A&&"M"===G[0]&&(rt[0]="C"===A[0]?["C",G[1],G[2],G[1],G[2],G[1],G[2]]:["L",G[1],G[2]]),rt.unshift(G),Y&&(G=rt.pop(),rt.push(rt[rt.length-1],G))}}function $(rt,T){for(;rt.length<h;)if("C"===(T=rt[Math.floor(rt.length/K)-1].slice())[0]&&(T[1]=T[5],T[2]=T[6]),Y){var G=rt[Math.floor(rt.length/K)].slice();rt.splice(rt.length/2,0,T,G)}else rt.push(T)}var O=ht.startX,V=ht.endX;F=F.slice();var Y=ht.isArea,K=Y?2:1;if(!(at=at&&at.slice()))return[F,F];if(O&&V&&V.length){for(ht=0;ht<O.length;ht++){if(O[ht]===V[0]){var dt=ht;break}if(O[0]===V[V.length-O.length+ht]){dt=ht;var g=!0;break}if(O[O.length-1]===V[V.length-O.length+ht]){dt=O.length-ht;break}}typeof dt>"u"&&(at=[])}if(at.length&&Dt(dt)){var h=F.length+dt*K;g?(R(at,F),$(F,at)):(R(F,at),$(at,F))}return[at,F]},J.prototype.fillSetter=function(){J.prototype.strokeSetter.apply(this,arguments)},J.prototype.strokeSetter=function(){this.elem.attr(this.prop,zt(this.start).tweenTo(zt(this.end),this.pos),void 0,!0)},J.timers=[],J}()}),Pt(j,"Core/Animation/AnimationUtilities.js",[j["Core/Animation/Fx.js"],j["Core/Utilities.js"]],function(ot,nt){function Ct($){return ht($)?at({duration:500,defer:0},$):{duration:$?500:0,defer:0}}function zt($,O){for(var V=ot.timers.length;V--;)ot.timers[V].elem!==$||O&&O!==ot.timers[V].prop||(ot.timers[V].stopped=!0)}var Rt=nt.defined,Dt=nt.getStyle,Ot=nt.isArray,J=nt.isNumber,ht=nt.isObject,at=nt.merge,F=nt.objectEach,R=nt.pick;return{animate:function($,O,V){var Y,dt,g,K="";if(!ht(V)){var h=arguments;V={duration:h[2],easing:h[3],complete:h[4]}}J(V.duration)||(V.duration=400),V.easing="function"==typeof V.easing?V.easing:Math[V.easing]||Math.easeInOutSine,V.curAnim=at(O),F(O,function(rt,T){zt($,T),g=new ot($,V,T),dt=void 0,"d"===T&&Ot(O.d)?(g.paths=g.initPath($,$.pathArray,O.d),g.toD=O.d,Y=0,dt=1):$.attr?Y=$.attr(T):(Y=parseFloat(Dt($,T))||0,"opacity"!==T&&(K="px")),dt||(dt=rt),"string"==typeof dt&&dt.match("px")&&(dt=dt.replace(/px/g,"")),g.run(Y,dt,K)})},animObject:Ct,getDeferredAnimation:function($,O,V){var Y=Ct(O),K=0,dt=0;return(V?[V]:$.series).forEach(function(g){g=Ct(g.options.animation),K=O&&Rt(O.defer)?Y.defer:Math.max(K,g.duration+g.defer),dt=Math.min(Y.duration,g.duration)}),$.renderer.forExport&&(K=0),{defer:Math.max(0,K-dt),duration:Math.min(K,dt)}},setAnimation:function($,O){O.renderer.globalAnimation=R($,O.options.chart.animation,!0)},stop:zt}}),Pt(j,"Core/Renderer/HTML/AST.js",[j["Core/Globals.js"],j["Core/Utilities.js"]],function(ot,nt){var Ct=ot.SVG_NS,zt=nt.attr,Rt=nt.createElement,Dt=nt.css,Ot=nt.error,J=nt.isFunction,ht=nt.isString,at=nt.objectEach,F=nt.splat,R=(nt=ot.win.trustedTypes)&&J(nt.createPolicy)&&nt.createPolicy("highcharts",{createHTML:function(V){return V}}),$=R?R.createHTML(""):"";try{var O=!!(new DOMParser).parseFromString($,"text/html")}catch{O=!1}return function(){function V(Y){this.nodes="string"==typeof Y?this.parseMarkup(Y):Y}return V.filterUserAttributes=function(Y){return at(Y,function(K,dt){var g=!0;-1===V.allowedAttributes.indexOf(dt)&&(g=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(dt)&&(g=ht(K)&&V.allowedReferences.some(function(h){return 0===K.indexOf(h)})),g||(Ot(33,!1,void 0,{"Invalid attribute in config":"".concat(dt)}),delete Y[dt]),ht(K)&&Y[dt]&&(Y[dt]=K.replace(/</g,"&lt;"))}),Y},V.parseStyle=function(Y){return Y.split(";").reduce(function(K,dt){var g=(dt=dt.split(":").map(function(h){return h.trim()})).shift();return g&&dt.length&&(K[g.replace(/-([a-z])/g,function(h){return h[1].toUpperCase()})]=dt.join(":")),K},{})},V.setElementHTML=function(Y,K){Y.innerHTML=V.emptyHTML,K&&new V(K).addToDOM(Y)},V.prototype.addToDOM=function(Y){return function K(dt,g){var h;return F(dt).forEach(function(rt){var T=rt.tagName,G=rt.textContent?ot.doc.createTextNode(rt.textContent):void 0,A=V.bypassHTMLFiltering;if(T)if("#text"===T)var D=G;else if(-1!==V.allowedTags.indexOf(T)||A){T=ot.doc.createElementNS("svg"===T?Ct:g.namespaceURI||Ct,T);var b=rt.attributes||{};at(rt,function(W,k){"tagName"!==k&&"attributes"!==k&&"children"!==k&&"style"!==k&&"textContent"!==k&&(b[k]=W)}),zt(T,A?b:V.filterUserAttributes(b)),rt.style&&Dt(T,rt.style),G&&T.appendChild(G),K(rt.children||[],T),D=T}else Ot(33,!1,void 0,{"Invalid tagName in config":T});D&&g.appendChild(D),h=D}),h}(this.nodes,Y)},V.prototype.parseMarkup=function(Y){var K=[];if(Y=Y.trim().replace(/ style=(["'])/g," data-style=$1"),O)Y=(new DOMParser).parseFromString(R?R.createHTML(Y):Y,"text/html");else{var dt=Rt("div");dt.innerHTML=Y,Y={body:dt}}var g=function(h,rt){var T=h.nodeName.toLowerCase(),G={tagName:T};if("#text"===T&&(G.textContent=h.textContent||""),T=h.attributes){var A={};[].forEach.call(T,function(b){"data-style"===b.name?G.style=V.parseStyle(b.value):A[b.name]=b.value}),G.attributes=A}if(h.childNodes.length){var D=[];[].forEach.call(h.childNodes,function(b){g(b,D)}),D.length&&(G.children=D)}rt.push(G)};return[].forEach.call(Y.body.childNodes,function(h){return g(h,K)}),K},V.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),V.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),V.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),V.emptyHTML=$,V.bypassHTMLFiltering=!1,V}()}),Pt(j,"Core/FormatUtilities.js",[j["Core/Defaults.js"],j["Core/Utilities.js"]],function(ot,nt){function Ct(at,F,R,$){F=+F;var O=zt.lang,V=((at=+at||0).toString().split(".")[1]||"").split("e")[0].length,Y=at.toString().split("e"),K=F;if(-1===F)F=Math.min(V,20);else if(Ot(F)){if(F&&Y[1]&&0>Y[1]){var dt=F+ +Y[1];0<=dt?(Y[0]=(+Y[0]).toExponential(dt).split("e")[0],F=dt):(Y[0]=Y[0].split(".")[0]||0,at=20>F?(Y[0]*Math.pow(10,Y[1])).toFixed(F):0,Y[1]=0)}}else F=2;dt=(Math.abs(Y[1]?Y[0]:at)+Math.pow(10,-Math.max(F,V)-1)).toFixed(F);var g=3<(V=String(ht(dt))).length?V.length%3:0;return R=J(R,O.decimalPoint),$=J($,O.thousandsSep),at=(0>at?"-":"")+(g?V.substr(0,g)+$:""),at=0>+Y[1]&&!K?"0":at+V.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+$),F&&(at+=R+dt.slice(-F)),Y[1]&&0!=+at&&(at+="e"+Y[1]),at}var zt=ot.defaultOptions,Rt=ot.defaultTime,Dt=nt.getNestedProperty,Ot=nt.isNumber,J=nt.pick,ht=nt.pInt;return{dateFormat:function(at,F,R){return Rt.dateFormat(at,F,R)},format:function(at,F,R){var $="{",O=!1,V=/f$/,Y=/\.([0-9])/,K=zt.lang,dt=R&&R.time||Rt;R=R&&R.numberFormatter||Ct;for(var g=[];at;){var h=at.indexOf($);if(-1===h)break;var rt=at.slice(0,h);if(O){if(rt=rt.split(":"),$=Dt(rt.shift()||"",F),rt.length&&"number"==typeof $)if(rt=rt.join(":"),V.test(rt)){var T=parseInt((rt.match(Y)||["","-1"])[1],10);null!==$&&($=R($,T,K.decimalPoint,-1<rt.indexOf(",")?K.thousandsSep:""))}else $=dt.dateFormat(rt,$);g.push($)}else g.push(rt);at=at.slice(h+1),$=(O=!O)?"}":"{"}return g.push(at),g.join("")},numberFormat:Ct}}),Pt(j,"Core/Renderer/RendererUtilities.js",[j["Core/Utilities.js"]],function(ot){var Rt,nt=ot.clamp,Ct=ot.pick,zt=ot.stableSort;return(Rt||(Rt={})).distribute=function Ot(J,ht,at){var V,F=J,R=F.reducedLen||ht,$=function(g,h){return(h.rank||0)-(g.rank||0)},O=function(g,h){return g.target-h.target},Y=!0,K=[],dt=0;for(V=J.length;V--;)dt+=J[V].size;if(dt>R){for(zt(J,$),dt=V=0;dt<=R;)dt+=J[V].size,V++;K=J.splice(V-1,J.length)}for(zt(J,O),J=J.map(function(g){return{size:g.size,targets:[g.target],align:Ct(g.align,.5)}});Y;){for(V=J.length;V--;)R=J[V],$=(Math.min.apply(0,R.targets)+Math.max.apply(0,R.targets))/2,R.pos=nt($-R.size*R.align,0,ht-R.size);for(V=J.length,Y=!1;V--;)0<V&&J[V-1].pos+J[V-1].size>J[V].pos&&(J[V-1].size+=J[V].size,J[V-1].targets=J[V-1].targets.concat(J[V].targets),J[V-1].align=.5,J[V-1].pos+J[V-1].size>ht&&(J[V-1].pos=ht-J[V-1].size),J.splice(V,1),Y=!0)}return F.push.apply(F,K),V=0,J.some(function(g){var h=0;return(g.targets||[]).some(function(){return F[V].pos=g.pos+h,typeof at<"u"&&Math.abs(F[V].pos-F[V].target)>at?(F.slice(0,V+1).forEach(function(rt){return delete rt.pos}),F.reducedLen=(F.reducedLen||ht)-.1*ht,F.reducedLen>.1*ht&&Ot(F,ht,at),!0):(h+=F[V].size,V++,!1)})}),zt(F,O),F},Rt}),Pt(j,"Core/Renderer/SVG/SVGElement.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/Color/Color.js"],j["Core/Globals.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt){var Rt=ot.animate,Dt=ot.animObject,Ot=ot.stop,J=Ct.deg2rad,ht=Ct.doc,at=Ct.svg,F=Ct.SVG_NS,R=Ct.win,$=zt.addEvent,O=zt.attr,V=zt.createElement,Y=zt.css,K=zt.defined,dt=zt.erase,g=zt.extend,h=zt.fireEvent,rt=zt.isArray,T=zt.isFunction,G=zt.isString,A=zt.merge,D=zt.objectEach,b=zt.pick,W=zt.pInt,k=zt.syncTimeout,P=zt.uniqueKey;return ot=function(){function Q(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=F,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return Q.prototype._defaultGetter=function(I){return I=b(this[I+"Value"],this[I],this.element?this.element.getAttribute(I):null,0),/^[\-0-9\.]+$/.test(I)&&(I=parseFloat(I)),I},Q.prototype._defaultSetter=function(I,B,vt){vt.setAttribute(B,I)},Q.prototype.add=function(I){var B=this.renderer,vt=this.element;if(I&&(this.parentGroup=I),typeof this.textStr<"u"&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!I||I.handleZ||this.zIndex)var Ut=this.zIndexSetter();return Ut||(I?I.element:B.box).appendChild(vt),this.onAdd&&this.onAdd(),this},Q.prototype.addClass=function(I,B){var vt=B?"":this.attr("class")||"";return(I=(I||"").split(/ /g).reduce(function(Ut,It){return-1===vt.indexOf(It)&&Ut.push(It),Ut},vt?[vt]:[]).join(" "))!==vt&&this.attr("class",I),this},Q.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},Q.prototype.align=function(I,B,vt){var U,mt,ct,Ut={},It=this.renderer,E=It.alignedObjects;I?(this.alignOptions=I,this.alignByTranslate=B,(!vt||G(vt))&&(this.alignTo=U=vt||"renderer",dt(E,this),E.push(this),vt=void 0)):(I=this.alignOptions,B=this.alignByTranslate,U=this.alignTo),vt=b(vt,It[U],"scrollablePlotBox"===U?It.plotBox:void 0,It);var ft=I.verticalAlign;return It=(vt.x||0)+(I.x||0),E=(vt.y||0)+(I.y||0),"right"===(U=I.align)?mt=1:"center"===U&&(mt=2),mt&&(It+=(vt.width-(I.width||0))/mt),Ut[B?"translateX":"x"]=Math.round(It),"bottom"===ft?ct=1:"middle"===ft&&(ct=2),ct&&(E+=(vt.height-(I.height||0))/ct),Ut[B?"translateY":"y"]=Math.round(E),this[this.placed?"animate":"attr"](Ut),this.placed=!0,this.alignAttr=Ut,this},Q.prototype.alignSetter=function(I){var B={left:"start",center:"middle",right:"end"};B[I]&&(this.alignValue=I,this.element.setAttribute("text-anchor",B[I]))},Q.prototype.animate=function(I,B,vt){var Ut=this,It=Dt(b(B,this.renderer.globalAnimation,!0));return B=It.defer,b(ht.hidden,ht.msHidden,ht.webkitHidden,!1)&&(It.duration=0),0!==It.duration?(vt&&(It.complete=vt),k(function(){Ut.element&&Rt(Ut,I,It)},B)):(this.attr(I,void 0,vt||It.complete),D(I,function(E,U){It.step&&It.step.call(this,E,{prop:U,pos:1,elem:this})},this)),this},Q.prototype.applyTextOutline=function(I){var B=this.element;-1!==I.indexOf("contrast")&&(I=I.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var vt=I.split(" ");if(I=vt[vt.length-1],(vt=vt[0])&&"none"!==vt&&Ct.svg){this.fakeTS=!0,vt=vt.replace(/(^[\d\.]+)(.*?)$/g,function(E,U,mt){return 2*Number(U)+mt}),this.removeTextOutline();var Ut=ht.createElementNS(F,"tspan");O(Ut,{class:"highcharts-text-outline",fill:I,stroke:I,"stroke-width":vt,"stroke-linejoin":"round"}),I=B.querySelector("textPath")||B,[].forEach.call(I.childNodes,function(E){var U=E.cloneNode(!0);U.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(mt){return U.removeAttribute(mt)}),Ut.appendChild(U)});var It=0;[].forEach.call(I.querySelectorAll("text tspan"),function(E){It+=Number(E.getAttribute("dy"))}),(vt=ht.createElementNS(F,"tspan")).textContent="\u200b",O(vt,{x:Number(B.getAttribute("x")),dy:-It}),Ut.appendChild(vt),I.insertBefore(Ut,I.firstChild)}},Q.prototype.attr=function(I,B,vt,Ut){var U,ct,ft,It=this.element,E=this.symbolCustomAttribs,mt=this;if("string"==typeof I&&typeof B<"u"){var M=I;(I={})[M]=B}return"string"==typeof I?mt=(this[I+"Getter"]||this._defaultGetter).call(this,I,It):(D(I,function(tt,X){ct=!1,Ut||Ot(this,X),this.symbolName&&-1!==E.indexOf(X)&&(U||(this.symbolAttr(I),U=!0),ct=!0),!this.rotation||"x"!==X&&"y"!==X||(this.doTransform=!0),ct||((ft=this[X+"Setter"]||this._defaultSetter).call(this,tt,X,It),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(X)&&this.updateShadows(X,tt,ft))},this),this.afterSetters()),vt&&vt.call(this),mt},Q.prototype.clip=function(I){return this.attr("clip-path",I?"url("+this.renderer.url+"#"+I.id+")":"none")},Q.prototype.crisp=function(I,B){B=B||I.strokeWidth||0;var vt=Math.round(B)%2/2;return I.x=Math.floor(I.x||this.x||0)+vt,I.y=Math.floor(I.y||this.y||0)+vt,I.width=Math.floor((I.width||this.width||0)-2*vt),I.height=Math.floor((I.height||this.height||0)-2*vt),K(I.strokeWidth)&&(I.strokeWidth=B),I},Q.prototype.complexColor=function(I,B,vt){var It,E,U,mt,ct,ft,M,tt,X,St,jt,Ut=this.renderer,yt=[];h(this.renderer,"complexColor",{args:arguments},function(){if(I.radialGradient?E="radialGradient":I.linearGradient&&(E="linearGradient"),E){if(ct=Ut.gradients,ft=I.stops,X=vt.radialReference,rt(U=I[E])&&(I[E]=U={x1:U[0],y1:U[1],x2:U[2],y2:U[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===E&&X&&!K(U.gradientUnits)&&(U=A(U,Ut.getRadialAttr(X,mt=U),{gradientUnits:"userSpaceOnUse"})),D(U,function(ie,pe){"id"!==pe&&yt.push(pe,ie)}),D(ft,function(ie){yt.push(ie)}),yt=yt.join(","),ct[yt])St=ct[yt].attr("id");else{U.id=St=P();var kt=ct[yt]=Ut.createElement(E).attr(U).add(Ut.defs);kt.radAttr=mt,kt.stops=[],ft.forEach(function(ie){0===ie[1].indexOf("rgba")?(It=nt.parse(ie[1]),M=It.get("rgb"),tt=It.get("a")):(M=ie[1],tt=1),ie=Ut.createElement("stop").attr({offset:ie[0],"stop-color":M,"stop-opacity":tt}).add(kt),kt.stops.push(ie)})}vt.setAttribute(B,jt="url("+Ut.url+"#"+St+")"),vt.gradient=yt,I.toString=function(){return jt}}})},Q.prototype.css=function(I){var B=this.styles,vt={},Ut=this.element,It=!B;if(I.color&&(I.fill=I.color),B&&D(I,function(mt,ct){B&&B[ct]!==mt&&(vt[ct]=mt,It=!0)}),It){if(B&&(I=g(B,vt)),null===I.width||"auto"===I.width)delete this.textWidth;else if("text"===Ut.nodeName.toLowerCase()&&I.width)var E=this.textWidth=W(I.width);this.styles=I,E&&!at&&this.renderer.forExport&&delete I.width;var U=A(I);Ut.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(mt){return U&&delete U[mt]}),Y(Ut,U),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),I.textOutline&&this.applyTextOutline(I.textOutline))}return this},Q.prototype.dashstyleSetter=function(I){var B=this["stroke-width"];if("inherit"===B&&(B=1),I=I&&I.toLowerCase()){var vt=I.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(I=vt.length;I--;)vt[I]=""+W(vt[I])*b(B,NaN);I=vt.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",I)}},Q.prototype.destroy=function(){var I=this,B=I.element||{},vt=I.renderer,Ut=B.ownerSVGElement,It=vt.isSVG&&"SPAN"===B.nodeName&&I.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,Ot(I),I.clipPath&&Ut){var E=I.clipPath;[].forEach.call(Ut.querySelectorAll("[clip-path],[CLIP-PATH]"),function(U){-1<U.getAttribute("clip-path").indexOf(E.element.id)&&U.removeAttribute("clip-path")}),I.clipPath=E.destroy()}if(I.stops){for(Ut=0;Ut<I.stops.length;Ut++)I.stops[Ut].destroy();I.stops.length=0,I.stops=void 0}for(I.safeRemoveChild(B),vt.styledMode||I.destroyShadows();It&&It.div&&0===It.div.childNodes.length;)B=It.parentGroup,I.safeRemoveChild(It.div),delete It.div,It=B;I.alignTo&&dt(vt.alignedObjects,I),D(I,function(U,mt){I[mt]&&I[mt].parentGroup===I&&I[mt].destroy&&I[mt].destroy(),delete I[mt]})},Q.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(I){this.safeRemoveChild(I)},this),this.shadows=void 0},Q.prototype.dSetter=function(I,B,vt){rt(I)&&("string"==typeof I[0]&&(I=this.renderer.pathToSegments(I)),this.pathArray=I,I=I.reduce(function(Ut,It,E){return It&&It.join?(E?Ut+" ":"")+It.join(" "):(It||"").toString()},"")),/(NaN| {2}|^$)/.test(I)&&(I="M 0 0"),this[B]!==I&&(vt.setAttribute(B,I),this[B]=I)},Q.prototype.fadeOut=function(I){var B=this;B.animate({opacity:0},{duration:b(I,150),complete:function(){B.hide()}})},Q.prototype.fillSetter=function(I,B,vt){"string"==typeof I?vt.setAttribute(B,I):I&&this.complexColor(I,B,vt)},Q.prototype.getBBox=function(I,B){var vt=this.alignValue,Ut=this.element,It=this.renderer,E=this.styles,U=this.textStr,mt=It.cache,ct=It.cacheKeys,ft=Ut.namespaceURI===this.SVG_NS;B=b(B,this.rotation,0);var tt,M=It.styledMode?Ut&&Q.prototype.getStyle.call(Ut,"font-size"):E&&E.fontSize;if(K(U)){var X=U.toString();-1===X.indexOf("<")&&(X=X.replace(/[0-9]/g,"0")),X+=["",B,M,this.textWidth,vt,E&&E.textOverflow,E&&E.fontWeight].join()}if(X&&!I&&(tt=mt[X]),!tt){if(ft||It.forExport){try{var St=this.fakeTS&&function(jt){var kt=Ut.querySelector(".highcharts-text-outline");kt&&Y(kt,{display:jt})};T(St)&&St("none"),tt=Ut.getBBox?g({},Ut.getBBox()):{width:Ut.offsetWidth,height:Ut.offsetHeight,x:0,y:0},T(St)&&St("")}catch{}(!tt||0>tt.width)&&(tt={x:0,y:0,width:0,height:0})}else tt=this.htmlGetBBox();if(It.isSVG&&(It=tt.width,I=tt.height,ft&&(tt.height=I={"11px,17":14,"13px,20":16}[""+(M||"")+",".concat(Math.round(I))]||I),B)){ft=Number(Ut.getAttribute("y")||0)-tt.y,vt={right:1,center:.5}[vt||0]||0,E=B*J,M=(B-90)*J;var yt=It*Math.cos(E);B=It*Math.sin(E),St=Math.cos(M),E=Math.sin(M),yt=(St=(M=(It=tt.x+vt*(It-yt)+ft*St)+yt)-I*St)-yt,B=(I=(vt=(ft=tt.y+ft-vt*B+ft*E)+B)-I*E)-B,tt.x=Math.min(It,M,St,yt),tt.y=Math.min(ft,vt,I,B),tt.width=Math.max(It,M,St,yt)-tt.x,tt.height=Math.max(ft,vt,I,B)-tt.y}if(X&&(""===U||0<tt.height)){for(;250<ct.length;)delete mt[ct.shift()];mt[X]||ct.push(X),mt[X]=tt}}return tt},Q.prototype.getStyle=function(I){return R.getComputedStyle(this.element||this,"").getPropertyValue(I)},Q.prototype.hasClass=function(I){return-1!==(""+this.attr("class")).split(" ").indexOf(I)},Q.prototype.hide=function(){return this.attr({visibility:"hidden"})},Q.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},Q.prototype.init=function(I,B){this.element="span"===B?V(B):ht.createElementNS(this.SVG_NS,B),this.renderer=I,h(this,"afterInit")},Q.prototype.on=function(I,B){var vt=this.onEvents;return vt[I]&&vt[I](),vt[I]=$(this.element,I,B),this},Q.prototype.opacitySetter=function(I,B,vt){this.opacity=I=Number(Number(I).toFixed(3)),vt.setAttribute(B,I)},Q.prototype.removeClass=function(I){return this.attr("class",(""+this.attr("class")).replace(G(I)?new RegExp("(^| )".concat(I,"( |$)")):I," ").replace(/ +/g," ").trim())},Q.prototype.removeTextOutline=function(){var I=this.element.querySelector("tspan.highcharts-text-outline");I&&this.safeRemoveChild(I)},Q.prototype.safeRemoveChild=function(I){var B=I.parentNode;B&&B.removeChild(I)},Q.prototype.setRadialReference=function(I){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=I,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(I,B.radAttr)),this},Q.prototype.setTextPath=function(I,B){var vt=this;B=A(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var Ut=this.renderer.url,It=this.text||this,E=It.textPath,U=B.attributes,mt=B.enabled;return I=I||E&&E.path,E&&E.undo(),I&&mt?(B=$(It,"afterModifyTree",function(ct){if(I&&mt){var ft=I.attr("id");ft||I.attr("id",ft=P());var M={x:0,y:0};K(U.dx)&&(M.dx=U.dx,delete U.dx),K(U.dy)&&(M.dy=U.dy,delete U.dy),It.attr(M),vt.attr({transform:""}),vt.box&&(vt.box=vt.box.destroy()),M=ct.nodes.slice(0),ct.nodes.length=0,ct.nodes[0]={tagName:"textPath",attributes:g(U,{"text-anchor":U.textAnchor,href:""+Ut+"#".concat(ft)}),children:M}}}),It.textPath={path:I,undo:B}):(It.attr({dx:0,dy:0}),delete It.textPath),this.added&&(It.textCache="",this.renderer.buildText(It)),this},Q.prototype.shadow=function(I,B,vt){var Ut=[],It=this.element,E=this.oldShadowOptions,U=this.parentGroup,mt=U&&90===U.rotation;U={color:"#000000",offsetX:mt?-1:1,offsetY:mt?-1:1,opacity:.15,width:3};var ft,ct=!1;if(!0===I?ft=U:"object"==typeof I&&(ft=g(U,I)),ft&&(ft&&E&&D(ft,function(St,yt){St!==E[yt]&&(ct=!0)}),ct&&this.destroyShadows(),this.oldShadowOptions=ft),ft){if(!this.shadows){U=ft.opacity/ft.width;var M=mt?"translate(".concat(ft.offsetY,", ").concat(ft.offsetX,")"):"translate(".concat(ft.offsetX,", ").concat(ft.offsetY,")");for(mt=1;mt<=ft.width;mt++){var tt=It.cloneNode(!1),X=2*ft.width+1-2*mt;O(tt,{stroke:I.color||"#000000","stroke-opacity":U*mt,"stroke-width":X,transform:M,fill:"none"}),tt.setAttribute("class",(tt.getAttribute("class")||"")+" highcharts-shadow"),vt&&(O(tt,"height",Math.max(O(tt,"height")-X,0)),tt.cutHeight=X),B?B.element.appendChild(tt):It.parentNode&&It.parentNode.insertBefore(tt,It),Ut.push(tt)}this.shadows=Ut}}else this.destroyShadows();return this},Q.prototype.show=function(I){return void 0===I&&(I=!0),this.attr({visibility:I?"inherit":"visible"})},Q.prototype["stroke-widthSetter"]=function(I,B,vt){this[B]=I,vt.setAttribute(B,I)},Q.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var I=this.getStyle("stroke-width"),B=0;if(I.indexOf("px")===I.length-2)B=W(I);else if(""!==I){var vt=ht.createElementNS(F,"rect");O(vt,{width:I,"stroke-width":0}),this.element.parentNode.appendChild(vt),B=vt.getBBox().width,vt.parentNode.removeChild(vt)}return B},Q.prototype.symbolAttr=function(I){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(vt){B[vt]=b(I[vt],B[vt])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},Q.prototype.textSetter=function(I){I!==this.textStr&&(delete this.textPxLength,this.textStr=I,this.added&&this.renderer.buildText(this))},Q.prototype.titleSetter=function(I){var B=this.element,vt=B.getElementsByTagName("title")[0]||ht.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(vt,B.firstChild):B.appendChild(vt),vt.textContent=String(b(I,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},Q.prototype.toFront=function(){var I=this.element;return I.parentNode.appendChild(I),this},Q.prototype.translate=function(I,B){return this.attr({translateX:I,translateY:B})},Q.prototype.updateShadows=function(I,B,vt){var Ut=this.shadows;if(Ut)for(var It=Ut.length;It--;)vt.call(Ut[It],"height"===I?Math.max(B-(Ut[It].cutHeight||0),0):"d"===I?this.d:B,I,Ut[It])},Q.prototype.updateTransform=function(){var I=this.element,B=this.matrix,vt=this.rotation;vt=void 0===vt?0:vt;var Ut=this.scaleX,It=this.scaleY,E=this.translateX,U=this.translateY;E=["translate("+(void 0===E?0:E)+","+(void 0===U?0:U)+")"],K(B)&&E.push("matrix("+B.join(",")+")"),vt&&E.push("rotate("+vt+" "+b(this.rotationOriginX,I.getAttribute("x"),0)+" "+b(this.rotationOriginY,I.getAttribute("y")||0)+")"),(K(Ut)||K(It))&&E.push("scale("+b(Ut,1)+" "+b(It,1)+")"),E.length&&!(this.text||this).textPath&&I.setAttribute("transform",E.join(" "))},Q.prototype.visibilitySetter=function(I,B,vt){"inherit"===I?vt.removeAttribute(B):this[B]!==I&&vt.setAttribute(B,I),this[B]=I},Q.prototype.xGetter=function(I){return"circle"===this.element.nodeName&&("x"===I?I="cx":"y"===I&&(I="cy")),this._defaultGetter(I)},Q.prototype.zIndexSetter=function(I,B){var vt=this.renderer,Ut=this.parentGroup,It=(Ut||vt).element||vt.box,E=this.element;vt=It===vt.box;var ct,U=!1,mt=this.added;if(K(I)?(E.setAttribute("data-z-index",I),this[B]===(I=+I)&&(mt=!1)):K(this[B])&&E.removeAttribute("data-z-index"),this[B]=I,mt){for((I=this.zIndex)&&Ut&&(Ut.handleZ=!0),ct=(B=It.childNodes).length-1;0<=ct&&!U;ct--){mt=(Ut=B[ct]).getAttribute("data-z-index");var ft=!K(mt);Ut!==E&&(0>I&&ft&&!vt&&!ct?(It.insertBefore(E,B[ct]),U=!0):(W(mt)<=I||ft&&(!K(I)||0<=I))&&(It.insertBefore(E,B[ct+1]||null),U=!0))}U||(It.insertBefore(E,B[vt?3:0]||null),U=!0)}return U},Q}(),ot.prototype.strokeSetter=ot.prototype.fillSetter,ot.prototype.yGetter=ot.prototype.xGetter,ot.prototype.matrixSetter=ot.prototype.rotationOriginXSetter=ot.prototype.rotationOriginYSetter=ot.prototype.rotationSetter=ot.prototype.scaleXSetter=ot.prototype.scaleYSetter=ot.prototype.translateXSetter=ot.prototype.translateYSetter=ot.prototype.verticalAlignSetter=function(Q,I){this[I]=Q,this.doTransform=!0},ot}),Pt(j,"Core/Renderer/RendererRegistry.js",[j["Core/Globals.js"]],function(ot){var nt,Ct,zt;return(Ct=nt||(nt={})).rendererTypes={},Ct.getRendererType=function(Rt){return void 0===Rt&&(Rt=zt),Ct.rendererTypes[Rt]||Ct.rendererTypes[zt]},Ct.registerRendererType=function(Rt,Dt,Ot){Ct.rendererTypes[Rt]=Dt,(!zt||Ot)&&(zt=Rt,ot.Renderer=Dt)},nt}),Pt(j,"Core/Renderer/SVG/SVGLabel.js",[j["Core/Renderer/SVG/SVGElement.js"],j["Core/Utilities.js"]],function(ot,nt){var at,Ct=this&&this.__extends||(at=function(F,R){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,O){$.__proto__=O}||function($,O){for(var V in O)O.hasOwnProperty(V)&&($[V]=O[V])})(F,R)},function(F,R){function $(){this.constructor=F}at(F,R),F.prototype=null===R?Object.create(R):($.prototype=R.prototype,new $)}),zt=nt.defined,Rt=nt.extend,Dt=nt.isNumber,Ot=nt.merge,J=nt.pick,ht=nt.removeEvent;return function(at){function F(R,$,O,V,Y,K,dt,g,h,rt){var G,T=at.call(this)||this;return T.paddingLeftSetter=T.paddingSetter,T.paddingRightSetter=T.paddingSetter,T.init(R,"g"),T.textStr=$,T.x=O,T.y=V,T.anchorX=K,T.anchorY=dt,T.baseline=h,T.className=rt,T.addClass("button"===rt?"highcharts-no-tooltip":"highcharts-label"),rt&&T.addClass("highcharts-"+rt),T.text=R.text(void 0,0,0,g).attr({zIndex:1}),"string"==typeof Y&&((G=/^url\((.*?)\)$/.test(Y))||T.renderer.symbols[Y])&&(T.symbolKey=Y),T.bBox=F.emptyBBox,T.padding=3,T.baselineOffset=0,T.needsBox=R.styledMode||G,T.deferredAttr={},T.alignFactor=0,T}return Ct(F,at),F.prototype.alignSetter=function(R){(R={left:0,center:.5,right:1}[R])!==this.alignFactor&&(this.alignFactor=R,this.bBox&&Dt(this.xSetting)&&this.attr({x:this.xSetting}))},F.prototype.anchorXSetter=function(R,$){this.anchorX=R,this.boxAttr($,Math.round(R)-this.getCrispAdjust()-this.xSetting)},F.prototype.anchorYSetter=function(R,$){this.anchorY=R,this.boxAttr($,R-this.ySetting)},F.prototype.boxAttr=function(R,$){this.box?this.box.attr(R,$):this.deferredAttr[R]=$},F.prototype.css=function(R){if(R){var $={};R=Ot(R),F.textProps.forEach(function(V){typeof R[V]<"u"&&($[V]=R[V],delete R[V])}),this.text.css($);var O="width"in $;"fontSize"in $||"fontWeight"in $?this.updateTextPadding():O&&this.updateBoxSize()}return ot.prototype.css.call(this,R)},F.prototype.destroy=function(){ht(this.element,"mouseenter"),ht(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),ot.prototype.destroy.call(this)},F.prototype.fillSetter=function(R,$){R&&(this.needsBox=!0),this.fill=R,this.boxAttr($,R)},F.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var R=this.padding,$=J(this.paddingLeft,R);return{width:this.width,height:this.height,x:this.bBox.x-$,y:this.bBox.y-R}},F.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},F.prototype.heightSetter=function(R){this.heightSetting=R},F.prototype.onAdd=function(){this.text.add(this),this.attr({text:J(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&zt(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},F.prototype.paddingSetter=function(R,$){Dt(R)?R!==this[$]&&(this[$]=R,this.updateTextPadding()):this[$]=void 0},F.prototype.rSetter=function(R,$){this.boxAttr($,R)},F.prototype.shadow=function(R){return R&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(R)),this},F.prototype.strokeSetter=function(R,$){this.stroke=R,this.boxAttr($,R)},F.prototype["stroke-widthSetter"]=function(R,$){R&&(this.needsBox=!0),this["stroke-width"]=R,this.boxAttr($,R)},F.prototype["text-alignSetter"]=function(R){this.textAlign=R},F.prototype.textSetter=function(R){typeof R<"u"&&this.text.attr({text:R}),this.updateTextPadding()},F.prototype.updateBoxSize=function(){var R=this.text,$=R.element.style,O={},V=this.padding,Y=this.bBox=Dt(this.widthSetting)&&Dt(this.heightSetting)&&!this.textAlign||!zt(R.textStr)?F.emptyBBox:R.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||Y.height||0)+2*V,$=this.renderer.fontMetrics($&&$.fontSize,R),this.baselineOffset=V+Math.min((this.text.firstLineMetrics||$).b,Y.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-$.h)/2),this.needsBox&&!R.textPath&&(this.box||((R=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),R.add(this)),R=this.getCrispAdjust(),O.x=R,O.y=(this.baseline?-this.baselineOffset:0)+R,O.width=Math.round(this.width),O.height=Math.round(this.height),this.box.attr(Rt(O,this.deferredAttr)),this.deferredAttr={})},F.prototype.updateTextPadding=function(){var R=this.text;if(!R.textPath){this.updateBoxSize();var $=this.baseline?0:this.baselineOffset,O=J(this.paddingLeft,this.padding);zt(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(O+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(O!==R.x||$!==R.y)&&(R.attr("x",O),R.hasBoxWidthChanged&&(this.bBox=R.getBBox(!0)),typeof $<"u"&&R.attr("y",$)),R.x=O,R.y=$}},F.prototype.widthSetter=function(R){this.widthSetting=Dt(R)?R:void 0},F.prototype.getPaddedWidth=function(){var R=this.padding,$=J(this.paddingLeft,R);return R=J(this.paddingRight,R),(this.widthSetting||this.bBox.width||0)+$+R},F.prototype.xSetter=function(R){this.x=R,this.alignFactor&&(R-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(R),this.attr("translateX",this.xSetting)},F.prototype.ySetter=function(R){this.ySetting=this.y=Math.round(R),this.attr("translateY",this.ySetting)},F.emptyBBox={width:0,height:0,x:0,y:0},F.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),F}(ot)}),Pt(j,"Core/Renderer/SVG/Symbols.js",[j["Core/Utilities.js"]],function(ot){function nt(J,ht,at,F,R){var $=[];if(R){var O=R.start||0,V=Ot(R.r,at);at=Ot(R.r,F||at);var Y=(R.end||0)-.001;F=R.innerR;var K=Ot(R.open,.001>Math.abs((R.end||0)-O-2*Math.PI)),dt=Math.cos(O),g=Math.sin(O),h=Math.cos(Y),rt=Math.sin(Y);O=Ot(R.longArc,.001>Y-O-Math.PI?0:1),$.push(["M",J+V*dt,ht+at*g],["A",V,at,0,O,Ot(R.clockwise,1),J+V*h,ht+at*rt]),Rt(F)&&$.push(K?["M",J+F*h,ht+F*rt]:["L",J+F*h,ht+F*rt],["A",F,F,0,O,Rt(R.clockwise)?1-R.clockwise:0,J+F*dt,ht+F*g]),K||$.push(["Z"])}return $}function Ct(J,ht,at,F,R){return R&&R.r?zt(J,ht,at,F,R):[["M",J,ht],["L",J+at,ht],["L",J+at,ht+F],["L",J,ht+F],["Z"]]}function zt(J,ht,at,F,R){return[["M",J+(R=R&&R.r||0),ht],["L",J+at-R,ht],["C",J+at,ht,J+at,ht,J+at,ht+R],["L",J+at,ht+F-R],["C",J+at,ht+F,J+at,ht+F,J+at-R,ht+F],["L",J+R,ht+F],["C",J,ht+F,J,ht+F,J,ht+F-R],["L",J,ht+R],["C",J,ht,J,ht,J+R,ht]]}var Rt=ot.defined,Dt=ot.isNumber,Ot=ot.pick;return{arc:nt,callout:function(J,ht,at,F,R){var $=Math.min(R&&R.r||0,at,F),O=$+6,V=R&&R.anchorX;R=R&&R.anchorY||0;var Y=zt(J,ht,at,F,{r:$});return Dt(V)&&(J+V>=at?R>ht+O&&R<ht+F-O?Y.splice(3,1,["L",J+at,R-6],["L",J+at+6,R],["L",J+at,R+6],["L",J+at,ht+F-$]):Y.splice(3,1,["L",J+at,F/2],["L",V,R],["L",J+at,F/2],["L",J+at,ht+F-$]):0>=J+V?R>ht+O&&R<ht+F-O?Y.splice(7,1,["L",J,R+6],["L",J-6,R],["L",J,R-6],["L",J,ht+$]):Y.splice(7,1,["L",J,F/2],["L",V,R],["L",J,F/2],["L",J,ht+$]):R&&R>F&&V>J+O&&V<J+at-O?Y.splice(5,1,["L",V+6,ht+F],["L",V,ht+F+6],["L",V-6,ht+F],["L",J+$,ht+F]):R&&0>R&&V>J+O&&V<J+at-O&&Y.splice(1,1,["L",V-6,ht],["L",V,ht-6],["L",V+6,ht],["L",at-$,ht])),Y},circle:function(J,ht,at,F){return nt(J+at/2,ht+F/2,at/2,F/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(J,ht,at,F){return[["M",J+at/2,ht],["L",J+at,ht+F/2],["L",J+at/2,ht+F],["L",J,ht+F/2],["Z"]]},rect:Ct,roundedRect:zt,square:Ct,triangle:function(J,ht,at,F){return[["M",J+at/2,ht],["L",J+at,ht+F],["L",J,ht+F],["Z"]]},"triangle-down":function(J,ht,at,F){return[["M",J,ht],["L",J+at,ht],["L",J+at/2,ht+F],["Z"]]}}}),Pt(j,"Core/Renderer/SVG/TextBuilder.js",[j["Core/Renderer/HTML/AST.js"],j["Core/Globals.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var zt=nt.doc,Rt=nt.SVG_NS,Dt=nt.win,Ot=Ct.attr,J=Ct.extend,ht=Ct.fireEvent,at=Ct.isString,F=Ct.objectEach,R=Ct.pick;return function(){function $(O){var V=O.styles;this.renderer=O.renderer,this.svgElement=O,this.width=O.textWidth,this.textLineHeight=V&&V.lineHeight,this.textOutline=V&&V.textOutline,this.ellipsis=!(!V||"ellipsis"!==V.textOverflow),this.noWrap=!(!V||"nowrap"!==V.whiteSpace),this.fontSize=V&&V.fontSize}return $.prototype.buildSVG=function(){var O=this.svgElement,V=O.element,Y=O.renderer,K=R(O.textStr,"").toString(),dt=-1!==K.indexOf("<"),g=V.childNodes;Y=this.width&&!O.added&&Y.box;var rt=[K,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(rt!==O.textCache){for(O.textCache=rt,delete O.actualWidth,rt=g.length;rt--;)V.removeChild(g[rt]);dt||this.ellipsis||this.width||O.textPath||-1!==K.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(K))?""!==K&&(Y&&Y.appendChild(V),K=new ot(K),this.modifyTree(K.nodes),K.addToDOM(V),this.modifyDOM(),this.ellipsis&&-1!==(V.textContent||"").indexOf("\u2026")&&O.attr("title",this.unescapeEntities(O.textStr||"",["&lt;","&gt;"])),Y&&Y.removeChild(V)):V.appendChild(zt.createTextNode(this.unescapeEntities(K))),at(this.textOutline)&&O.applyTextOutline&&O.applyTextOutline(this.textOutline)}},$.prototype.modifyDOM=function(){var K,O=this,V=this.svgElement,Y=Ot(V.element,"x");for(V.firstLineMetrics=void 0;(K=V.element.firstChild)&&/^[\s\u200B]*$/.test(K.textContent||" ");)V.element.removeChild(K);[].forEach.call(V.element.querySelectorAll("tspan.highcharts-br"),function(rt,T){rt.nextSibling&&rt.previousSibling&&(0===T&&1===rt.previousSibling.nodeType&&(V.firstLineMetrics=V.renderer.fontMetrics(void 0,rt.previousSibling)),Ot(rt,{dy:O.getLineHeight(rt.nextSibling),x:Y}))});var dt=this.width||0;if(dt){var h=function(rt){[].slice.call(rt.childNodes).forEach(function(T){T.nodeType===Dt.Node.TEXT_NODE?function(rt,T){var G=rt.textContent||"",A=G.replace(/([^\^])-/g,"$1- ").split(" "),D=!O.noWrap&&(1<A.length||1<V.element.childNodes.length),b=O.getLineHeight(T),W=0,k=V.actualWidth;if(O.ellipsis)G&&O.truncate(rt,G,void 0,0,Math.max(0,dt-parseInt(O.fontSize||12,10)),function(P,Q){return P.substring(0,Q)+"\u2026"});else if(D){for(G=[],D=[];T.firstChild&&T.firstChild!==rt;)D.push(T.firstChild),T.removeChild(T.firstChild);for(;A.length;)A.length&&!O.noWrap&&0<W&&(G.push(rt.textContent||""),rt.textContent=A.join(" ").replace(/- /g,"-")),O.truncate(rt,void 0,A,0===W&&k||0,dt,function(P,Q){return A.slice(0,Q).join(" ").replace(/- /g,"-")}),k=V.actualWidth,W++;D.forEach(function(P){T.insertBefore(P,rt)}),G.forEach(function(P){T.insertBefore(zt.createTextNode(P),rt),(P=zt.createElementNS(Rt,"tspan")).textContent="\u200b",Ot(P,{dy:b,x:Y}),T.insertBefore(P,rt)})}}(T,rt):(-1!==T.className.baseVal.indexOf("highcharts-br")&&(V.actualWidth=0),h(T))})};h(V.element)}},$.prototype.getLineHeight=function(O){var V;return O=O.nodeType===Dt.Node.TEXT_NODE?O.parentElement:O,this.renderer.styledMode||(V=O&&/(px|em)$/.test(O.style.fontSize)?O.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(V,O||this.svgElement.element).h},$.prototype.modifyTree=function(O){var V=this,Y=function(K,dt){var g=K.attributes;g=void 0===g?{}:g;var h=K.children,rt=K.style;rt=void 0===rt?{}:rt;var T=K.tagName,G=V.renderer.styledMode;"b"===T||"strong"===T?G?g.class="highcharts-strong":rt.fontWeight="bold":("i"===T||"em"===T)&&(G?g.class="highcharts-emphasized":rt.fontStyle="italic"),rt&&rt.color&&(rt.fill=rt.color),"br"===T?(g.class="highcharts-br",K.textContent="\u200b",(dt=O[dt+1])&&dt.textContent&&(dt.textContent=dt.textContent.replace(/^ +/gm,""))):"a"===T&&h&&h.some(function(A){return"#text"===A.tagName})&&(K.children=[{children:h,tagName:"tspan"}]),"#text"!==T&&"a"!==T&&(K.tagName="tspan"),J(K,{attributes:g,style:rt}),h&&h.filter(function(A){return"#text"!==A.tagName}).forEach(Y)};O.forEach(Y),ht(this.svgElement,"afterModifyTree",{nodes:O})},$.prototype.truncate=function(O,V,Y,K,dt,g){var W,h=this.svgElement,rt=h.renderer,T=h.rotation,G=[],A=Y?1:0,D=(V||Y||"").length,b=D,k=function(Q,I){I=I||Q;var B=O.parentNode;if(B&&typeof G[I]>"u")if(B.getSubStringLength)try{G[I]=K+B.getSubStringLength(0,Y?I+1:I)}catch{}else rt.getSpanWidth&&(O.textContent=g(V||Y,Q),G[I]=K+rt.getSpanWidth(h,O));return G[I]};h.rotation=0;var P=k(O.textContent.length);if(K+P>dt){for(;A<=D;)b=Math.ceil((A+D)/2),Y&&(W=g(Y,b)),P=k(b,W&&W.length-1),A===D?A=D+1:P>dt?D=b-1:A=b;0===D?O.textContent="":V&&D===V.length-1||(O.textContent=W||g(V||Y,b))}Y&&Y.splice(0,b),h.actualWidth=P,h.rotation=T},$.prototype.unescapeEntities=function(O,V){return F(this.renderer.escapes,function(Y,K){V&&-1!==V.indexOf(Y)||(O=O.toString().replace(new RegExp(Y,"g"),K))}),O},$}()}),Pt(j,"Core/Renderer/SVG/SVGRenderer.js",[j["Core/Renderer/HTML/AST.js"],j["Core/Color/Color.js"],j["Core/Globals.js"],j["Core/Renderer/RendererRegistry.js"],j["Core/Renderer/SVG/SVGElement.js"],j["Core/Renderer/SVG/SVGLabel.js"],j["Core/Renderer/SVG/Symbols.js"],j["Core/Renderer/SVG/TextBuilder.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt,Dt,Ot,J,ht){var It,at=Ct.charts,F=Ct.deg2rad,R=Ct.doc,$=Ct.isFirefox,O=Ct.isMS,V=Ct.isWebKit,Y=Ct.noop,K=Ct.SVG_NS,dt=Ct.symbolSizes,g=Ct.win,h=ht.addEvent,rt=ht.attr,T=ht.createElement,G=ht.css,A=ht.defined,D=ht.destroyObjectProperties,b=ht.extend,W=ht.isArray,k=ht.isNumber,P=ht.isObject,Q=ht.isString,I=ht.merge,B=ht.pick,vt=ht.pInt,Ut=ht.uniqueKey;return Ct=function(){function E(U,mt,ct,ft,M,tt,X){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(U,mt,ct,ft,M,tt,X)}return E.prototype.init=function(U,mt,ct,ft,M,tt,X){var jt,St=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),yt=St.element;X||St.css(this.getStyle(ft)),U.appendChild(yt),rt(U,"dir","ltr"),-1===U.innerHTML.indexOf("xmlns")&&rt(yt,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=yt,this.boxWrapper=St,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(R.createTextNode("Created with Highcharts 10.3.2")),this.defs=this.createElement("defs").add(),this.allowHTML=tt,this.forExport=M,this.styledMode=X,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(mt,ct,!1),$&&U.getBoundingClientRect&&((mt=function(){G(U,{left:0,top:0}),jt=U.getBoundingClientRect(),G(U,{left:Math.ceil(jt.left)-jt.left+"px",top:Math.ceil(jt.top)-jt.top+"px"})})(),this.unSubPixelFix=h(g,"resize",mt))},E.prototype.definition=function(U){return new ot([U]).addToDOM(this.defs.element)},E.prototype.getReferenceURL=function(){if(($||V)&&R.getElementsByTagName("base").length){if(!A(It)){var U=Ut();U=new ot([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:U},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(U,")"),fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(R.body),G(U,{position:"fixed",top:0,left:0,zIndex:9e5});var mt=R.elementFromPoint(6,6);It="hitme"===(mt&&mt.id),R.body.removeChild(U)}if(It)return g.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},E.prototype.getStyle=function(U){return this.style=b({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},U)},E.prototype.setStyle=function(U){this.boxWrapper.css(this.getStyle(U))},E.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},E.prototype.destroy=function(){var U=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),D(this.gradients||{}),this.gradients=null,U&&(this.defs=U.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},E.prototype.createElement=function(U){var mt=new this.Element;return mt.init(this,U),mt},E.prototype.getRadialAttr=function(U,mt){return{cx:U[0]-U[2]/2+(mt.cx||0)*U[2],cy:U[1]-U[2]/2+(mt.cy||0)*U[2],r:(mt.r||0)*U[2]}},E.prototype.buildText=function(U){new J(U).buildSVG()},E.prototype.getContrast=function(U){return 1.05/(.05+(U=.2126*(U=nt.parse(U).rgba.map(function(mt){return.03928>=(mt/=255)?mt/12.92:Math.pow((mt+.055)/1.055,2.4)}))[0]+.7152*U[1]+.0722*U[2]))>(U+.05)/.05?"#FFFFFF":"#000000"},E.prototype.button=function(U,mt,ct,ft,M,tt,X,St,yt,jt){void 0===M&&(M={});var kt=this.label(U,mt,ct,yt,void 0,void 0,jt,void 0,"button"),ie=this.styledMode;U=M.states||{};var pe=0;delete(M=I(M)).states;var Fe=I({color:"#333333",cursor:"pointer",fontWeight:"normal"},M.style);delete M.style;var je=ot.filterUserAttributes(M);if(kt.attr(I({padding:8,r:2},je)),!ie){je=I({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},je);var Ce=(tt=I(je,{fill:"#e6e6e6"},ot.filterUserAttributes(tt||U.hover||{}))).style;delete tt.style;var $t=(X=I(je,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},ot.filterUserAttributes(X||U.select||{}))).style;delete X.style;var de=(St=I(je,{style:{color:"#cccccc"}},ot.filterUserAttributes(St||U.disabled||{}))).style;delete St.style}return h(kt.element,O?"mouseover":"mouseenter",function(){3!==pe&&kt.setState(1)}),h(kt.element,O?"mouseout":"mouseleave",function(){3!==pe&&kt.setState(pe)}),kt.setState=function(Qt){1!==Qt&&(kt.state=pe=Qt),kt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Qt||0]),ie||(kt.attr([je,tt,X,St][Qt||0]),P(Qt=[Fe,Ce,$t,de][Qt||0])&&kt.css(Qt))},ie||(kt.attr(je).css(b({cursor:"default"},Fe)),jt&&kt.text.css({pointerEvents:"none"})),kt.on("touchstart",function(Qt){return Qt.stopPropagation()}).on("click",function(Qt){3!==pe&&ft.call(kt,Qt)})},E.prototype.crispLine=function(U,mt,ct){void 0===ct&&(ct="round");var ft=U[0],M=U[1];return A(ft[1])&&ft[1]===M[1]&&(ft[1]=M[1]=Math[ct](ft[1])-mt%2/2),A(ft[2])&&ft[2]===M[2]&&(ft[2]=M[2]=Math[ct](ft[2])+mt%2/2),U},E.prototype.path=function(U){var mt=this.styledMode?{}:{fill:"none"};return W(U)?mt.d=U:P(U)&&b(mt,U),this.createElement("path").attr(mt)},E.prototype.circle=function(U,mt,ct){return U=P(U)?U:typeof U>"u"?{}:{x:U,y:mt,r:ct},(mt=this.createElement("circle")).xSetter=mt.ySetter=function(ft,M,tt){tt.setAttribute("c"+M,ft)},mt.attr(U)},E.prototype.arc=function(U,mt,ct,ft,M,tt){return P(U)?(mt=(ft=U).y,ct=ft.r,U=ft.x):ft={innerR:ft,start:M,end:tt},(U=this.symbol("arc",U,mt,ct,ct,ft)).r=ct,U},E.prototype.rect=function(U,mt,ct,ft,M,tt){M=P(U)?U.r:M;var X=this.createElement("rect");return U=P(U)?U:typeof U>"u"?{}:{x:U,y:mt,width:Math.max(ct,0),height:Math.max(ft,0)},this.styledMode||(typeof tt<"u"&&(U["stroke-width"]=tt,U=X.crisp(U)),U.fill="none"),M&&(U.r=M),X.rSetter=function(St,yt,jt){X.r=St,rt(jt,{rx:St,ry:St})},X.rGetter=function(){return X.r||0},X.attr(U)},E.prototype.setSize=function(U,mt,ct){this.width=U,this.height=mt,this.boxWrapper.animate({width:U,height:mt},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:B(ct,!0)?void 0:0}),this.alignElements()},E.prototype.g=function(U){var mt=this.createElement("g");return U?mt.attr({class:"highcharts-"+U}):mt},E.prototype.image=function(U,mt,ct,ft,M,tt){var X={preserveAspectRatio:"none"},St=function(jt,kt){jt.setAttributeNS?jt.setAttributeNS("http://www.w3.org/1999/xlink","href",kt):jt.setAttribute("hc-svg-href",kt)};k(mt)&&(X.x=mt),k(ct)&&(X.y=ct),k(ft)&&(X.width=ft),k(M)&&(X.height=M);var yt=this.createElement("image").attr(X);return mt=function(jt){St(yt.element,U),tt.call(yt,jt)},tt?(St(yt.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ct=new g.Image,h(ct,"load",mt),ct.src=U,ct.complete&&mt({})):St(yt.element,U),yt},E.prototype.symbol=function(U,mt,ct,ft,M,tt){var ie,X=this,St=/^url\((.*?)\)$/,yt=St.test(U),jt=!yt&&(this.symbols[U]?U:"circle"),kt=jt&&this.symbols[jt];if(kt){"number"==typeof mt&&(ie=kt.call(this.symbols,Math.round(mt||0),Math.round(ct||0),ft||0,M||0,tt));var pe=this.path(ie);X.styledMode||pe.attr("fill","none"),b(pe,{symbolName:jt||void 0,x:mt,y:ct,width:ft,height:M}),tt&&b(pe,tt)}else if(yt){var Fe=U.match(St)[1],je=pe=this.image(Fe);je.imgwidth=B(dt[Fe]&&dt[Fe].width,tt&&tt.width),je.imgheight=B(dt[Fe]&&dt[Fe].height,tt&&tt.height);var Ce=function($t){return $t.attr({width:$t.width,height:$t.height})};["width","height"].forEach(function($t){je[$t+"Setter"]=function(de,Qt){this[Qt]=de,de=this.alignByTranslate;var Et=this.element,Lt=this.width,ne=this.height,re=this.imgwidth,le=this.imgheight,ee=this["img"+Qt];if(A(ee)){var Ue=1;tt&&"within"===tt.backgroundSize&&Lt&&ne?(Ue=Math.min(Lt/re,ne/le),ee=Math.round(ee*Ue),rt(Et,{width:Math.round(re*Ue),height:Math.round(le*Ue)})):Et&&Et.setAttribute(Qt,ee),de||this.translate(((Lt||0)-ee*Ue)/2,((ne||0)-ee*Ue)/2)}}}),A(mt)&&je.attr({x:mt,y:ct}),je.isImg=!0,A(je.imgwidth)&&A(je.imgheight)?Ce(je):(je.attr({width:0,height:0}),T("img",{onload:function(){var $t=at[X.chartIndex];0===this.width&&(G(this,{position:"absolute",top:"-999em"}),R.body.appendChild(this)),dt[Fe]={width:this.width,height:this.height},je.imgwidth=this.width,je.imgheight=this.height,je.element&&Ce(je),this.parentNode&&this.parentNode.removeChild(this),X.imgCount--,!X.imgCount&&$t&&!$t.hasLoaded&&$t.onload()},src:Fe}),this.imgCount++)}return pe},E.prototype.clipRect=function(U,mt,ct,ft){var M=Ut()+"-",tt=this.createElement("clipPath").attr({id:M}).add(this.defs);return(U=this.rect(U,mt,ct,ft,0).add(tt)).id=M,U.clipPath=tt,U.count=0,U},E.prototype.text=function(U,mt,ct,ft){var M={};return!ft||!this.allowHTML&&this.forExport?(M.x=Math.round(mt||0),ct&&(M.y=Math.round(ct)),A(U)&&(M.text=U),U=this.createElement("text").attr(M),(!ft||this.forExport&&!this.allowHTML)&&(U.xSetter=function(tt,X,St){for(var ie,yt=St.getElementsByTagName("tspan"),jt=St.getAttribute(X),kt=0;kt<yt.length;kt++)(ie=yt[kt]).getAttribute(X)===jt&&ie.setAttribute(X,tt);St.setAttribute(X,tt)}),U):this.html(U,mt,ct)},E.prototype.fontMetrics=function(U,mt){return U=!this.styledMode&&/px/.test(U)||!g.getComputedStyle?U||mt&&mt.style&&mt.style.fontSize||this.style&&this.style.fontSize:mt&&Rt.prototype.getStyle.call(mt,"font-size"),{h:mt=24>(U=/px/.test(U)?vt(U):12)?U+3:Math.round(1.2*U),b:Math.round(.8*mt),f:U}},E.prototype.rotCorr=function(U,mt,ct){var ft=U;return mt&&ct&&(ft=Math.max(ft*Math.cos(mt*F),4)),{x:-U/3*Math.sin(mt*F),y:ft}},E.prototype.pathToSegments=function(U){for(var mt=[],ct=[],ft={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},M=0;M<U.length;M++)Q(ct[0])&&k(U[M])&&ct.length===ft[ct[0].toUpperCase()]&&U.splice(M,0,ct[0].replace("M","L").replace("m","l")),"string"==typeof U[M]&&(ct.length&&mt.push(ct.slice(0)),ct.length=0),ct.push(U[M]);return mt.push(ct.slice(0)),mt},E.prototype.label=function(U,mt,ct,ft,M,tt,X,St,yt){return new Dt(this,U,mt,ct,ft,M,tt,X,St,yt)},E.prototype.alignElements=function(){this.alignedObjects.forEach(function(U){return U.align()})},E}(),b(Ct.prototype,{Element:Rt,SVG_NS:K,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Ot,draw:Y}),zt.registerRendererType("svg",Ct,!0),Ct}),Pt(j,"Core/Renderer/HTML/HTMLElement.js",[j["Core/Globals.js"],j["Core/Renderer/SVG/SVGElement.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var O,zt=this&&this.__extends||(O=function(V,Y){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,dt){K.__proto__=dt}||function(K,dt){for(var g in dt)dt.hasOwnProperty(g)&&(K[g]=dt[g])})(V,Y)},function(V,Y){function K(){this.constructor=V}O(V,Y),V.prototype=null===Y?Object.create(Y):(K.prototype=Y.prototype,new K)}),Rt=ot.isFirefox,Dt=ot.isMS,Ot=ot.isWebKit,J=ot.win,ht=Ct.css,at=Ct.defined,F=Ct.extend,R=Ct.pick,$=Ct.pInt;return function(O){function V(){return null!==O&&O.apply(this,arguments)||this}return zt(V,O),V.compose=function(Y){if(-1===V.composedClasses.indexOf(Y)){V.composedClasses.push(Y);var K=V.prototype,dt=Y.prototype;dt.getSpanCorrection=K.getSpanCorrection,dt.htmlCss=K.htmlCss,dt.htmlGetBBox=K.htmlGetBBox,dt.htmlUpdateTransform=K.htmlUpdateTransform,dt.setSpanRotation=K.setSpanRotation}return Y},V.prototype.getSpanCorrection=function(Y,K,dt){this.xCorr=-Y*dt,this.yCorr=-K},V.prototype.htmlCss=function(Y){var K="SPAN"===this.element.tagName&&Y&&"width"in Y,dt=R(K&&Y.width,void 0);if(K){delete Y.width,this.textWidth=dt;var g=!0}return Y&&"ellipsis"===Y.textOverflow&&(Y.whiteSpace="nowrap",Y.overflow="hidden"),this.styles=F(this.styles,Y),ht(this.element,Y),g&&this.htmlUpdateTransform(),this},V.prototype.htmlGetBBox=function(){var Y=this.element;return{x:Y.offsetLeft,y:Y.offsetTop,width:Y.offsetWidth,height:Y.offsetHeight}},V.prototype.htmlUpdateTransform=function(){if(this.added){var Y=this.renderer,K=this.element,dt=this.translateX||0,g=this.translateY||0,h=this.x||0,rt=this.y||0,T=this.textAlign||"left",G={left:0,center:.5,right:1}[T],A=this.styles;if(A=A&&A.whiteSpace,ht(K,{marginLeft:dt,marginTop:g}),!Y.styledMode&&this.shadows&&this.shadows.forEach(function(Q){ht(Q,{marginLeft:dt+1,marginTop:g+1})}),this.inverted&&[].forEach.call(K.childNodes,function(Q){Y.invertChild(Q,K)}),"SPAN"===K.tagName){var D=this.rotation,b=this.textWidth&&$(this.textWidth),W=[D,T,K.innerHTML,this.textWidth,this.textAlign].join(),k=void 0;if(k=!1,b!==this.oldTextWidth){if(this.textPxLength)var P=this.textPxLength;else ht(K,{width:"",whiteSpace:A||"nowrap"}),P=K.offsetWidth;(b>this.oldTextWidth||P>b)&&(/[ \-]/.test(K.textContent||K.innerText)||"ellipsis"===K.style.textOverflow)&&(ht(K,{width:P>b||D?b+"px":"auto",display:"block",whiteSpace:A||"normal"}),this.oldTextWidth=b,k=!0)}this.hasBoxWidthChanged=k,W!==this.cTT&&(k=Y.fontMetrics(K.style.fontSize,K).b,!at(D)||D===(this.oldRotation||0)&&T===this.oldAlign||this.setSpanRotation(D,G,k),this.getSpanCorrection(!at(D)&&this.textPxLength||K.offsetWidth,k,G,D,T)),ht(K,{left:h+(this.xCorr||0)+"px",top:rt+(this.yCorr||0)+"px"}),this.cTT=W,this.oldRotation=D,this.oldAlign=T}}else this.alignOnAdd=!0},V.prototype.setSpanRotation=function(Y,K,dt){var g={},h=Dt&&!/Edge/.test(J.navigator.userAgent)?"-ms-transform":Ot?"-webkit-transform":Rt?"MozTransform":J.opera?"-o-transform":void 0;h&&(g[h]=g.transform="rotate("+Y+"deg)",g[h+(Rt?"Origin":"-origin")]=g.transformOrigin=100*K+"% "+dt+"px",ht(this.element,g))},V.composedClasses=[],V}(nt)}),Pt(j,"Core/Renderer/HTML/HTMLRenderer.js",[j["Core/Renderer/HTML/AST.js"],j["Core/Renderer/SVG/SVGElement.js"],j["Core/Renderer/SVG/SVGRenderer.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt){var at,Rt=this&&this.__extends||(at=function(F,R){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,O){$.__proto__=O}||function($,O){for(var V in O)O.hasOwnProperty(V)&&($[V]=O[V])})(F,R)},function(F,R){function $(){this.constructor=F}at(F,R),F.prototype=null===R?Object.create(R):($.prototype=R.prototype,new $)}),Dt=zt.attr,Ot=zt.createElement,J=zt.extend,ht=zt.pick;return function(at){function F(){return null!==at&&at.apply(this,arguments)||this}return Rt(F,at),F.compose=function(R){return-1===F.composedClasses.indexOf(R)&&(F.composedClasses.push(R),R.prototype.html=F.prototype.html),R},F.prototype.html=function(R,$,O){var V=this.createElement("span"),Y=V.element,K=V.renderer,dt=K.isSVG,g=function(h,rt){["opacity","visibility"].forEach(function(T){h[T+"Setter"]=function(G,A,D){var b=h.div?h.div.style:rt;nt.prototype[T+"Setter"].call(this,G,A,D),b&&(b[A]=G)}}),h.addedSetters=!0};return V.textSetter=function(h){h!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,ot.setElementHTML(this.element,ht(h,"")),this.textStr=h,V.doTransform=!0)},dt&&g(V,V.element.style),V.xSetter=V.ySetter=V.alignSetter=V.rotationSetter=function(h,rt){"align"===rt?V.alignValue=V.textAlign=h:V[rt]=h,V.doTransform=!0},V.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},V.attr({text:R,x:Math.round($),y:Math.round(O)}).css({position:"absolute"}),K.styledMode||V.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),Y.style.whiteSpace="nowrap",V.css=V.htmlCss,dt&&(V.add=function(h){var rt=K.box.parentNode,T=[];if(this.parentGroup=h){var G=h.div;if(!G){for(;h;)T.push(h),h=h.parentGroup;T.reverse().forEach(function(A){function D(P,Q){A[Q]=P,"translateX"===Q?k.left=P+"px":k.top=P+"px",A.doTransform=!0}var P,b=Dt(A.element,"class"),W=A.styles||{},k=(G=A.div=A.div||Ot("div",b?{className:b}:void 0,{position:"absolute",left:(A.translateX||0)+"px",top:(A.translateY||0)+"px",display:A.display,opacity:A.opacity,cursor:W.cursor,pointerEvents:W.pointerEvents,visibility:A.visibility},G||rt)).style;J(A,{classSetter:(P=G,function(Q){this.element.setAttribute("class",Q),P.className=Q}),on:function(){return T[0].div&&V.on.apply({element:T[0].div,onEvents:A.onEvents},arguments),A},translateXSetter:D,translateYSetter:D}),A.addedSetters||g(A)})}}else G=rt;return G.appendChild(Y),V.added=!0,V.alignOnAdd&&V.htmlUpdateTransform(),V}),V},F.composedClasses=[],F}(Ct)}),Pt(j,"Core/Axis/AxisDefaults.js",[],function(){var ot,nt;return(nt=ot||(ot={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},nt.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total||0,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},nt.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},nt.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},nt.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},nt.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},ot}),Pt(j,"Core/Foundation.js",[j["Core/Utilities.js"]],function(ot){var Dt,nt=ot.addEvent,Ct=ot.isFunction,zt=ot.objectEach,Rt=ot.removeEvent;return(Dt||(Dt={})).registerEventOptions=function(J,ht){J.eventOptions=J.eventOptions||{},zt(ht.events,function(at,F){J.eventOptions[F]!==at&&(J.eventOptions[F]&&(Rt(J,F,J.eventOptions[F]),delete J.eventOptions[F]),Ct(at)&&(J.eventOptions[F]=at,nt(J,F,at)))})},Dt}),Pt(j,"Core/Axis/Tick.js",[j["Core/FormatUtilities.js"],j["Core/Globals.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var zt=nt.deg2rad,Rt=Ct.clamp,Dt=Ct.correctFloat,Ot=Ct.defined,J=Ct.destroyObjectProperties,ht=Ct.extend,at=Ct.fireEvent,F=Ct.isNumber,R=Ct.merge,$=Ct.objectEach,O=Ct.pick;return function(){function V(Y,K,dt,g,h){this.isNewLabel=this.isNew=!0,this.axis=Y,this.pos=K,this.type=dt||"",this.parameters=h||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,at(this,"init"),dt||g||this.addLabel()}return V.prototype.addLabel=function(){var Y=this,K=Y.axis,dt=K.options,g=K.chart,h=K.categories,rt=K.logarithmic,T=K.names,G=Y.pos,A=O(Y.options&&Y.options.labels,dt.labels),D=K.tickPositions,b=G===D[0],W=G===D[D.length-1],k=(!A.step||1===A.step)&&1===K.tickInterval;D=D.info;var Q,P=Y.label;if(h=this.parameters.category||(h?O(h[G],T[G],G):G),rt&&F(h)&&(h=Dt(rt.lin2log(h))),K.dateTime)if(D)var I=g.time.resolveDTLFormat(dt.dateTimeLabelFormats[!dt.grid&&D.higherRanks[G]||D.unitName]),B=I.main;else F(h)&&(B=K.dateTime.getXDateFormat(h,dt.dateTimeLabelFormats||{}));Y.isFirst=b,Y.isLast=W;var vt={axis:K,chart:g,dateTimeLabelFormat:B,isFirst:b,isLast:W,pos:G,tick:Y,tickPositionInfo:D,value:h};at(this,"labelFormat",vt);var Ut=function(E){return A.formatter?A.formatter.call(E,E):A.format?(E.text=K.defaultLabelFormatter.call(E,E),ot.format(A.format,E,g)):K.defaultLabelFormatter.call(E,E)};dt=Ut.call(vt,vt);var It=I&&I.list;Y.shortenLabel=It?function(){for(Q=0;Q<It.length;Q++)if(ht(vt,{dateTimeLabelFormat:It[Q]}),P.attr({text:Ut.call(vt,vt)}),P.getBBox().width<K.getSlotWidth(Y)-2*A.padding)return;P.attr({text:""})}:void 0,k&&K._addedPlotLB&&Y.moveLabel(dt,A),Ot(P)||Y.movedLabel?P&&P.textStr!==dt&&!k&&(!P.textWidth||A.style.width||P.styles.width||P.css({width:null}),P.attr({text:dt}),P.textPxLength=P.getBBox().width):(Y.label=P=Y.createLabel({x:0,y:0},dt,A),Y.rotation=0)},V.prototype.createLabel=function(Y,K,dt){var g=this.axis,h=g.chart;return(Y=Ot(K)&&dt.enabled?h.renderer.text(K,Y.x,Y.y,dt.useHTML).add(g.labelGroup):null)&&(h.styledMode||Y.css(R(dt.style)),Y.textPxLength=Y.getBBox().width),Y},V.prototype.destroy=function(){J(this,this.axis)},V.prototype.getPosition=function(Y,K,dt,g){var h=this.axis,rt=h.chart,T=g&&rt.oldChartHeight||rt.chartHeight;return(Y={x:Y?Dt(h.translate(K+dt,void 0,void 0,g)+h.transB):h.left+h.offset+(h.opposite?(g&&rt.oldChartWidth||rt.chartWidth)-h.right-h.left:0),y:Y?T-h.bottom+h.offset-(h.opposite?h.height:0):Dt(T-h.translate(K+dt,void 0,void 0,g)-h.transB)}).y=Rt(Y.y,-1e5,1e5),at(this,"afterGetPosition",{pos:Y}),Y},V.prototype.getLabelPosition=function(Y,K,dt,g,h,rt,T,G){var A=this.axis,D=A.transA,b=A.isLinked&&A.linkedParent?A.linkedParent.reversed:A.reversed,W=A.staggerLines,k=A.tickRotCorr||{x:0,y:0},P=g||A.reserveSpaceDefault?0:-A.labelOffset*("center"===A.labelAlign?.5:1),Q={};return dt=0===A.side?dt.rotation?-8:-dt.getBBox().height:2===A.side?k.y+8:Math.cos(dt.rotation*zt)*(k.y-dt.getBBox(!1,0).height/2),Ot(h.y)&&(dt=0===A.side&&A.horiz?h.y+dt:h.y),Y=Y+h.x+P+k.x-(rt&&g?rt*D*(b?-1:1):0),K=K+dt-(rt&&!g?rt*D*(b?1:-1):0),W&&(g=T/(G||1)%W,A.opposite&&(g=W-g-1),K+=A.labelOffset/W*g),Q.x=Y,Q.y=Math.round(K),at(this,"afterGetLabelPosition",{pos:Q,tickmarkOffset:rt,index:T}),Q},V.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},V.prototype.getMarkPath=function(Y,K,dt,g,h,rt){return rt.crispLine([["M",Y,K],["L",Y+(h?0:-dt),K+(h?dt:0)]],g)},V.prototype.handleOverflow=function(Y){var K=this.axis,dt=K.options.labels,g=Y.x,h=K.chart.chartWidth,rt=K.chart.spacing,T=O(K.labelLeft,Math.min(K.pos,rt[3]));rt=O(K.labelRight,Math.max(K.isRadial?0:K.pos+K.len,h-rt[1]));var I,G=this.label,A=this.rotation,D={left:0,center:.5,right:1}[K.labelAlign||G.attr("align")],b=G.getBBox().width,W=K.getSlotWidth(this),k={},P=W,Q=1;A||"justify"!==dt.overflow?0>A&&g-D*b<T?I=Math.round(g/Math.cos(A*zt)-T):0<A&&g+D*b>rt&&(I=Math.round((h-g)/Math.cos(A*zt))):(h=g+(1-D)*b,g-D*b<T?P=Y.x+P*(1-D)-T:h>rt&&(P=rt-Y.x+P*D,Q=-1),(P=Math.min(W,P))<W&&"center"===K.labelAlign&&(Y.x+=Q*(W-P-D*(W-Math.min(b,P)))),(b>P||K.autoRotation&&(G.styles||{}).width)&&(I=P)),I&&(this.shortenLabel?this.shortenLabel():(k.width=Math.floor(I)+"px",(dt.style||{}).textOverflow||(k.textOverflow="ellipsis"),G.css(k)))},V.prototype.moveLabel=function(Y,K){var dt=this,g=dt.label,h=dt.axis,rt=h.reversed,T=!1;if(g&&g.textStr===Y?(dt.movedLabel=g,T=!0,delete dt.label):$(h.ticks,function(A){T||A.isNew||A===dt||!A.label||A.label.textStr!==Y||(dt.movedLabel=A.label,T=!0,A.labelPos=dt.movedLabel.xy,delete A.label)}),!T&&(dt.labelPos||g)){var G=dt.labelPos||g.xy;dt.movedLabel=dt.createLabel({x:g=h.horiz?rt?0:h.width+h.left:G.x,y:h=h.horiz?G.y:rt?h.width+h.left:0},Y,K),dt.movedLabel&&dt.movedLabel.attr({opacity:0})}},V.prototype.render=function(Y,K,dt){var g=this.axis,h=g.horiz,rt=this.pos,T=O(this.tickmarkOffset,g.tickmarkOffset);T=(rt=this.getPosition(h,rt,T,K)).x,g=h&&T===g.pos+g.len||!h&&rt.y===g.pos?-1:1,h=O(dt,this.label&&this.label.newOpacity,1),dt=O(dt,1),this.isActive=!0,this.renderGridLine(K,dt,g),this.renderMark(rt,dt,g),this.renderLabel(rt,K,h,Y),this.isNew=!1,at(this,"afterRender")},V.prototype.renderGridLine=function(Y,K,dt){var g=this.axis,h=g.options,rt={},T=this.pos,G=this.type,A=O(this.tickmarkOffset,g.tickmarkOffset),D=g.chart.renderer,b=this.gridLine,W=h.gridLineWidth,k=h.gridLineColor,P=h.gridLineDashStyle;"minor"===this.type&&(W=h.minorGridLineWidth,k=h.minorGridLineColor,P=h.minorGridLineDashStyle),b||(g.chart.styledMode||(rt.stroke=k,rt["stroke-width"]=W||0,rt.dashstyle=P),G||(rt.zIndex=1),Y&&(K=0),this.gridLine=b=D.path().attr(rt).addClass("highcharts-"+(G?G+"-":"")+"grid-line").add(g.gridGroup)),b&&(dt=g.getPlotLinePath({value:T+A,lineWidth:b.strokeWidth()*dt,force:"pass",old:Y}))&&b[Y||this.isNew?"attr":"animate"]({d:dt,opacity:K})},V.prototype.renderMark=function(Y,K,dt){var g=this.axis,h=g.options,rt=g.chart.renderer,T=this.type,G=g.tickSize(T?T+"Tick":"tick"),A=Y.x;Y=Y.y;var D=O(h["minor"!==T?"tickWidth":"minorTickWidth"],!T&&g.isXAxis?1:0);h=h["minor"!==T?"tickColor":"minorTickColor"];var b=this.mark,W=!b;G&&(g.opposite&&(G[0]=-G[0]),b||(this.mark=b=rt.path().addClass("highcharts-"+(T?T+"-":"")+"tick").add(g.axisGroup),g.chart.styledMode||b.attr({stroke:h,"stroke-width":D})),b[W?"attr":"animate"]({d:this.getMarkPath(A,Y,G[0],b.strokeWidth()*dt,g.horiz,rt),opacity:K}))},V.prototype.renderLabel=function(Y,K,dt,g){var h=this.axis,rt=h.horiz,T=h.options,G=this.label,A=T.labels,D=A.step;h=O(this.tickmarkOffset,h.tickmarkOffset);var b=Y.x;Y=Y.y;var W=!0;G&&F(b)&&(G.xy=Y=this.getLabelPosition(b,Y,G,rt,A,h,g,D),this.isFirst&&!this.isLast&&!T.showFirstLabel||this.isLast&&!this.isFirst&&!T.showLastLabel?W=!1:!rt||A.step||A.rotation||K||0===dt||this.handleOverflow(Y),D&&g%D&&(W=!1),W&&F(Y.y)?(Y.opacity=dt,G[this.isNewLabel?"attr":"animate"](Y).show(!0),this.isNewLabel=!1):(G.hide(),this.isNewLabel=!0))},V.prototype.replaceMovedLabel=function(){var Y=this.label,K=this.axis,dt=K.reversed;Y&&!this.isNew&&(Y.animate({x:K.horiz?dt?K.left:K.width+K.left:Y.xy.x,y:dt=K.horiz?Y.xy.y:dt?K.width+K.top:K.top,opacity:0},void 0,Y.destroy),delete this.label),K.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},V}()}),Pt(j,"Core/Axis/Axis.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/Axis/AxisDefaults.js"],j["Core/Color/Color.js"],j["Core/Defaults.js"],j["Core/Foundation.js"],j["Core/Globals.js"],j["Core/Axis/Tick.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt,Dt,Ot,J){var ht=ot.animObject,at=zt.defaultOptions,F=Rt.registerEventOptions,R=Dt.deg2rad,$=J.arrayMax,O=J.arrayMin,V=J.clamp,Y=J.correctFloat,K=J.defined,dt=J.destroyObjectProperties,g=J.erase,h=J.error,rt=J.extend,T=J.fireEvent,G=J.isArray,A=J.isNumber,D=J.isString,b=J.merge,W=J.normalizeTickInterval,k=J.objectEach,P=J.pick,Q=J.relativeLength,I=J.removeEvent,B=J.splat,vt=J.syncTimeout,Ut=function(It,E){return W(E,void 0,void 0,P(It.options.allowDecimals,.5>E||void 0!==It.tickAmount),!!It.tickAmount)};return function(){function It(E,U){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(E,U)}return It.prototype.init=function(E,U){var mt=U.isX;this.chart=E,this.horiz=E.inverted&&!this.isZAxis?!mt:mt,this.isXAxis=mt,this.coll=this.coll||(mt?"xAxis":"yAxis"),T(this,"init",{userOptions:U}),this.opposite=P(U.opposite,this.opposite),this.side=P(U.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(U);var ct=this.options,ft=ct.labels,M=ct.type;this.userOptions=U,this.minPixelPadding=0,this.reversed=P(ct.reversed,this.reversed),this.visible=ct.visible,this.zoomEnabled=ct.zoomEnabled,this.hasNames="category"===M||!0===ct.categories,this.categories=ct.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=K(ct.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=ct.minRange||ct.maxZoom,this.range=ct.range,this.offset=ct.offset||0,this.min=this.max=null,U=P(ct.crosshair,B(E.options.tooltip.crosshairs)[mt?0:1]),this.crosshair=!0===U?{}:U,-1===E.axes.indexOf(this)&&(mt?E.axes.splice(E.xAxis.length,0,this):E.axes.push(this),E[this.coll].push(this)),this.series=this.series||[],E.inverted&&!this.isZAxis&&mt&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=A(ft.rotation)?ft.rotation:void 0,F(this,ct),T(this,"afterInit")},It.prototype.setOptions=function(E){this.options=b(nt.defaultXAxisOptions,"yAxis"===this.coll&&nt.defaultYAxisOptions,[nt.defaultTopAxisOptions,nt.defaultRightAxisOptions,nt.defaultBottomAxisOptions,nt.defaultLeftAxisOptions][this.side],b(at[this.coll],E)),T(this,"afterSetOptions",{userOptions:E})},It.prototype.defaultLabelFormatter=function(E){var U=this.axis;E=this.chart.numberFormatter;var mt=A(this.value)?this.value:NaN,ct=U.chart.time,ft=this.dateTimeLabelFormat,M=at.lang,tt=M.numericSymbols;M=M.numericSymbolMagnitude||1e3;var X=U.logarithmic?Math.abs(mt):U.tickInterval,St=tt&&tt.length;if(U.categories)var yt="".concat(this.value);else if(ft)yt=ct.dateFormat(ft,mt);else if(St&&1e3<=X)for(;St--&&typeof yt>"u";)X>=(U=Math.pow(M,St+1))&&10*mt%U==0&&null!==tt[St]&&0!==mt&&(yt=E(mt/U,-1)+tt[St]);return typeof yt>"u"&&(yt=1e4<=Math.abs(mt)?E(mt,-1):E(mt,-1,void 0,"")),yt},It.prototype.getSeriesExtremes=function(){var mt,E=this,U=E.chart;T(this,"getSeriesExtremes",null,function(){E.hasVisibleSeries=!1,E.dataMin=E.dataMax=E.threshold=null,E.softThreshold=!E.isXAxis,E.stacking&&E.stacking.buildStacks(),E.series.forEach(function(ct){if(ct.visible||!U.options.chart.ignoreHiddenSeries){var ft=ct.options,M=ft.threshold;if(E.hasVisibleSeries=!0,E.positiveValuesOnly&&0>=M&&(M=null),E.isXAxis){if((ft=ct.xData).length){ft=E.logarithmic?ft.filter(E.validatePositiveValue):ft;var tt=(mt=ct.getXExtremes(ft)).min,X=mt.max;A(tt)||tt instanceof Date||(ft=ft.filter(A),tt=(mt=ct.getXExtremes(ft)).min,X=mt.max),ft.length&&(E.dataMin=Math.min(P(E.dataMin,tt),tt),E.dataMax=Math.max(P(E.dataMax,X),X))}}else ct=ct.applyExtremes(),A(ct.dataMin)&&(tt=ct.dataMin,E.dataMin=Math.min(P(E.dataMin,tt),tt)),A(ct.dataMax)&&(X=ct.dataMax,E.dataMax=Math.max(P(E.dataMax,X),X)),K(M)&&(E.threshold=M),(!ft.softThreshold||E.positiveValuesOnly)&&(E.softThreshold=!1)}})}),T(this,"afterGetSeriesExtremes")},It.prototype.translate=function(E,U,mt,ct,ft,M){var tt=this.linkedParent||this,X=ct&&tt.old?tt.old.min:tt.min;if(!A(X))return NaN;var St=tt.minPixelPadding;ft=(tt.isOrdinal||tt.brokenAxis&&tt.brokenAxis.hasBreaks||tt.logarithmic&&ft)&&tt.lin2val;var yt=1,jt=0;return(ct=ct&&tt.old?tt.old.transA:tt.transA)||(ct=tt.transA),mt&&(yt*=-1,jt=tt.len),tt.reversed&&(jt-=(yt*=-1)*(tt.sector||tt.len)),U?(M=(E*yt+jt-St)/ct+X,ft&&(M=tt.lin2val(M))):(ft&&(E=tt.val2lin(E)),E=yt*(E-X)*ct,M=(tt.isRadial?E:Y(E))+jt+yt*St+(A(M)?ct*M:0)),M},It.prototype.toPixels=function(E,U){return this.translate(E,!1,!this.horiz,void 0,!0)+(U?0:this.pos)},It.prototype.toValue=function(E,U){return this.translate(E-(U?0:this.pos),!0,!this.horiz,void 0,!0)},It.prototype.getPlotLinePath=function(E){function U(Qt,Et,Lt){return("pass"!==pe&&Qt<Et||Qt>Lt)&&(pe?Qt=V(Qt,Et,Lt):de=!0),Qt}var Fe,je,Ce,$t,de,mt=this,ct=mt.chart,ft=mt.left,M=mt.top,tt=E.old,X=E.value,St=E.lineWidth,yt=tt&&ct.oldChartHeight||ct.chartHeight,jt=tt&&ct.oldChartWidth||ct.chartWidth,kt=mt.transB,ie=E.translatedValue,pe=E.force;return T(this,"getPlotLinePath",E={value:X,lineWidth:St,old:tt,force:pe,acrossPanes:E.acrossPanes,translatedValue:ie},function(Qt){ie=P(ie,mt.translate(X,void 0,void 0,tt)),ie=V(ie,-1e5,1e5),Fe=Ce=Math.round(ie+kt),je=$t=Math.round(yt-ie-kt),A(ie)?mt.horiz?(je=M,$t=yt-mt.bottom,Fe=Ce=U(Fe,ft,ft+mt.width)):(Fe=ft,Ce=jt-mt.right,je=$t=U(je,M,M+mt.height)):(de=!0,pe=!1),Qt.path=de&&!pe?null:ct.renderer.crispLine([["M",Fe,je],["L",Ce,$t]],St||1)}),E.path},It.prototype.getLinearTickPositions=function(E,U,mt){var ct=Y(Math.floor(U/E)*E);mt=Y(Math.ceil(mt/E)*E);var M,ft=[];if(Y(ct+E)===ct&&(M=20),this.single)return[U];for(U=ct;U<=mt&&(ft.push(U),(U=Y(U+E,M))!==tt);)var tt=U;return ft},It.prototype.getMinorTickInterval=function(){var E=this.options;return!0===E.minorTicks?P(E.minorTickInterval,"auto"):!1===E.minorTicks?null:E.minorTickInterval},It.prototype.getMinorTickPositions=function(){var E=this.options,U=this.tickPositions,mt=this.minorTickInterval,ct=this.pointRangePadding||0,ft=this.min-ct,M=(ct=this.max+ct)-ft,tt=[];if(M&&M/mt<this.len/3){var X=this.logarithmic;if(X)this.paddedTicks.forEach(function(St,yt,jt){yt&&tt.push.apply(tt,X.getLogTickPositions(mt,jt[yt-1],jt[yt],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())tt=tt.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(mt),ft,ct,E.startOfWeek));else for(E=ft+(U[0]-ft)%mt;E<=ct&&E!==tt[0];E+=mt)tt.push(E)}return 0!==tt.length&&this.trimTicks(tt),tt},It.prototype.adjustForMinRange=function(){var M,tt,X,St,E=this.options,U=this.logarithmic,mt=this.min,ct=this.max,ft=0;if(this.isXAxis&&typeof this.minRange>"u"&&!U&&(K(E.min)||K(E.max)||K(E.floor)||K(E.ceiling)?this.minRange=null:(this.series.forEach(function(ie){if(X=ie.xData,St=ie.xIncrement?1:X.length-1,1<X.length)for(M=St;0<M;M--)tt=X[M]-X[M-1],(!ft||tt<ft)&&(ft=tt)}),this.minRange=Math.min(5*ft,this.dataMax-this.dataMin))),ct-mt<this.minRange){var yt=this.dataMax-this.dataMin>=this.minRange,jt=this.minRange,kt=(jt-ct+mt)/2;kt=[mt-kt,P(E.min,mt-kt)],yt&&(kt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),ct=[(mt=$(kt))+jt,P(E.max,mt+jt)],yt&&(ct[2]=U?U.log2lin(this.dataMax):this.dataMax),(ct=O(ct))-mt<jt&&(kt[0]=ct-jt,kt[1]=P(E.min,ct-jt),mt=$(kt))}this.min=mt,this.max=ct},It.prototype.getClosest=function(){var E;return this.categories?E=1:this.series.forEach(function(U){var mt=U.closestPointRange,ct=U.visible||!U.chart.options.chart.ignoreHiddenSeries;!U.noSharedTooltip&&K(mt)&&ct&&(E=K(E)?Math.min(E,mt):mt)}),E},It.prototype.nameToX=function(E){var U=G(this.options.categories),mt=U?this.categories:this.names,ct=E.options.x;if(E.series.requireSorting=!1,K(ct)||(ct=this.options.uniqueNames&&mt?U?mt.indexOf(E.name):P(mt.keys[E.name],-1):E.series.autoIncrement()),-1===ct){if(!U&&mt)var ft=mt.length}else ft=ct;return typeof ft<"u"?(this.names[ft]=E.name,this.names.keys[E.name]=ft):E.x&&(ft=E.x),ft},It.prototype.updateNames=function(){var E=this,U=this.names;0<U.length&&(Object.keys(U.keys).forEach(function(mt){delete U.keys[mt]}),U.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(mt){mt.xIncrement=null,(!mt.points||mt.isDirtyData)&&(E.max=Math.max(E.max,mt.xData.length-1),mt.processData(),mt.generatePoints()),mt.data.forEach(function(ct,ft){if(ct&&ct.options&&typeof ct.name<"u"){var M=E.nameToX(ct);typeof M<"u"&&M!==ct.x&&(ct.x=M,mt.xData[ft]=M)}})}))},It.prototype.setAxisTranslation=function(){var St,E=this,U=E.max-E.min,mt=E.linkedParent,ct=!!E.categories,ft=E.isXAxis,M=E.axisPointRange||0,tt=0,X=0;if(ft||ct||M){var yt=E.getClosest();mt?(tt=mt.minPointOffset,X=mt.pointRangePadding):E.series.forEach(function(jt){var kt=ct?1:ft?P(jt.options.pointRange,yt,0):E.axisPointRange||0,ie=jt.options.pointPlacement;M=Math.max(M,kt),(!E.single||ct)&&(jt=jt.is("xrange")?!ft:ft,tt=Math.max(tt,jt&&D(ie)?0:kt/2),X=Math.max(X,jt&&"on"===ie?0:kt))}),E.minPointOffset=tt*=mt=E.ordinal&&E.ordinal.slope&&yt?E.ordinal.slope/yt:1,E.pointRangePadding=X*=mt,E.pointRange=Math.min(M,E.single&&ct?1:U),ft&&(E.closestPointRange=yt)}E.translationSlope=E.transA=St=E.staticScale||E.len/(U+X||1),E.transB=E.horiz?E.left:E.bottom,E.minPixelPadding=St*tt,T(this,"afterSetAxisTranslation")},It.prototype.minFromRange=function(){return this.max-this.range},It.prototype.setTickInterval=function(E){var U=this.chart,mt=this.logarithmic,ct=this.options,ft=this.isXAxis,M=this.isLinked,tt=ct.tickPixelInterval,X=this.categories,St=this.softThreshold,yt=ct.maxPadding,jt=ct.minPadding,kt=A(ct.tickInterval)&&0<=ct.tickInterval?ct.tickInterval:void 0,ie=A(this.threshold)?this.threshold:null;this.dateTime||X||M||this.getTickAmount();var pe=P(this.userMin,ct.min),Fe=P(this.userMax,ct.max);if(M){this.linkedParent=U[this.coll][ct.linkedTo];var je=this.linkedParent.getExtremes();this.min=P(je.min,je.dataMin),this.max=P(je.max,je.dataMax),ct.type!==this.linkedParent.options.type&&h(11,1,U)}else{if(St&&K(ie))if(this.dataMin>=ie)je=ie,jt=0;else if(this.dataMax<=ie){var Ce=ie;yt=0}this.min=P(pe,je,this.dataMin),this.max=P(Fe,Ce,this.dataMax)}if(mt&&(this.positiveValuesOnly&&!E&&0>=Math.min(this.min,P(this.dataMin,this.min))&&h(10,1,U),this.min=Y(mt.log2lin(this.min),16),this.max=Y(mt.log2lin(this.max),16)),this.range&&K(this.max)&&(this.userMin=this.min=pe=Math.max(this.dataMin,this.minFromRange()),this.userMax=Fe=this.max,this.range=null),T(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(X||this.axisPointRange||this.stacking&&this.stacking.usePercentage||M)&&K(this.min)&&K(this.max)&&(U=this.max-this.min)&&(!K(pe)&&jt&&(this.min-=U*jt),!K(Fe)&&yt&&(this.max+=U*yt)),A(this.userMin)||(A(ct.softMin)&&ct.softMin<this.min&&(this.min=pe=ct.softMin),A(ct.floor)&&(this.min=Math.max(this.min,ct.floor))),A(this.userMax)||(A(ct.softMax)&&ct.softMax>this.max&&(this.max=Fe=ct.softMax),A(ct.ceiling)&&(this.max=Math.min(this.max,ct.ceiling))),St&&K(this.dataMin)&&(ie=ie||0,!K(pe)&&this.min<ie&&this.dataMin>=ie?this.min=this.options.minRange?Math.min(ie,this.max-this.minRange):ie:!K(Fe)&&this.max>ie&&this.dataMax<=ie&&(this.max=this.options.minRange?Math.max(ie,this.min+this.minRange):ie)),A(this.min)&&A(this.max)&&!this.chart.polar&&this.min>this.max&&(K(this.options.min)?this.max=this.min:K(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:M&&this.linkedParent&&!kt&&tt===this.linkedParent.options.tickPixelInterval?kt=this.linkedParent.tickInterval:P(kt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,X?1:(this.max-this.min)*tt/Math.max(this.len,tt)),ft&&!E){var $t=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(de){de.forceCrop=de.forceCropping&&de.forceCropping(),de.processData($t)}),T(this,"postProcessData",{hasExtremesChanged:$t})}this.setAxisTranslation(),T(this,"initialAxisTranslation"),this.pointRange&&!kt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),E=P(ct.minTickInterval,this.dateTime&&!this.series.some(function(de){return de.noSharedTooltip})?this.closestPointRange:0),!kt&&this.tickInterval<E&&(this.tickInterval=E),this.dateTime||this.logarithmic||kt||(this.tickInterval=Ut(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},It.prototype.setTickPositions=function(){var X,E=this.options,U=E.tickPositions,mt=E.tickPositioner,ct=this.getMinorTickInterval(),ft=this.hasVerticalPanning(),M="colorAxis"===this.coll,tt=(M||!ft)&&E.startOnTick;if(ft=(M||!ft)&&E.endOnTick,M=[],this.tickmarkOffset=this.categories&&"between"===E.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===ct&&this.tickInterval?this.tickInterval/5:ct,this.single=this.min===this.max&&K(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==E.allowDecimals),U)M=U.slice();else if(A(this.min)&&A(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)M=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,E.units),this.min,this.max,E.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)M=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(ct=E=this.tickInterval;ct<=2*E&&(M=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&M.length>this.tickAmount);)this.tickInterval=Ut(this,ct*=1.1);else M=[this.min,this.max],h(19,!1,this.chart);M.length>this.len&&(M=[M[0],M[M.length-1]])[0]===M[1]&&(M.length=1),mt&&(this.tickPositions=M,(X=mt.apply(this,[this.min,this.max]))&&(M=X))}this.tickPositions=M,this.paddedTicks=M.slice(0),this.trimTicks(M,tt,ft),!this.isLinked&&A(this.min)&&A(this.max)&&(this.single&&2>M.length&&!this.categories&&!this.series.some(function(St){return St.is("heatmap")&&"between"===St.options.pointPlacement})&&(this.min-=.5,this.max+=.5),U||X||this.adjustTickAmount()),T(this,"afterSetTickPositions")},It.prototype.trimTicks=function(E,U,mt){var ct=E[0],ft=E[E.length-1],M=!this.isOrdinal&&this.minPointOffset||0;if(T(this,"trimTicks"),!this.isLinked){if(U&&ct!==-1/0)this.min=ct;else for(;this.min-M>E[0];)E.shift();if(mt)this.max=ft;else for(;this.max+M<E[E.length-1];)E.pop();0===E.length&&K(ct)&&!this.options.tickPositions&&E.push((ft+ct)/2)}},It.prototype.alignToOthers=function(){var M,E=this,U=[this],mt=E.options,ct="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,ft=[];if(E.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&mt.alignTicks||ct)&&!1!==mt.startOnTick&&!1!==mt.endOnTick&&!E.logarithmic){var tt=function(yt){var jt=yt.options;return[yt.horiz?jt.left:jt.top,jt.width,jt.height,jt.pane].join()},X=tt(this);this.chart[this.coll].forEach(function(yt){var jt=yt.series;jt.length&&jt.some(function(kt){return kt.visible})&&yt!==E&&tt(yt)===X&&(M=!0,U.push(yt))})}if(M&&ct){U.forEach(function(yt){yt=yt.getThresholdAlignment(E),A(yt)&&ft.push(yt)});var St=1<ft.length?ft.reduce(function(yt,jt){return yt+jt},0)/ft.length:void 0;U.forEach(function(yt){yt.thresholdAlignment=St})}return M},It.prototype.getThresholdAlignment=function(E){if((!A(this.dataMin)||this!==E&&this.series.some(function(U){return U.isDirty||U.isDirtyData}))&&this.getSeriesExtremes(),A(this.threshold))return E=V((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(E=1-E),E},It.prototype.getTickAmount=function(){var E=this.options,U=E.tickPixelInterval,mt=E.tickAmount;!K(E.tickInterval)&&!mt&&this.len<U&&!this.isRadial&&!this.logarithmic&&E.startOnTick&&E.endOnTick&&(mt=2),!mt&&this.alignToOthers()&&(mt=Math.ceil(this.len/U)+1),4>mt&&(this.finalTickAmt=mt,mt=5),this.tickAmount=mt},It.prototype.adjustTickAmount=function(){var E=this,U=E.finalTickAmt,mt=E.max,ct=E.min,ft=E.options,M=E.tickPositions,tt=E.tickAmount,X=E.thresholdAlignment,St=M&&M.length,yt=P(E.threshold,E.softThreshold?0:null),jt=E.tickInterval;if(A(X)){var kt=.5>X?Math.ceil(X*(tt-1)):Math.floor(X*(tt-1));ft.reversed&&(kt=tt-1-kt)}if(E.hasData()&&A(ct)&&A(mt)){if(X=function(){E.transA*=(St-1)/(tt-1),E.min=ft.startOnTick?M[0]:Math.min(ct,M[0]),E.max=ft.endOnTick?M[M.length-1]:Math.max(mt,M[M.length-1])},A(kt)&&A(E.threshold)){for(;M[kt]!==yt||M.length!==tt||M[0]>ct||M[M.length-1]<mt;){for(M.length=0,M.push(E.threshold);M.length<tt;)void 0===M[kt]||M[kt]>E.threshold?M.unshift(Y(M[0]-jt)):M.push(Y(M[M.length-1]+jt));if(jt>8*E.tickInterval)break;jt*=2}X()}else if(St<tt){for(;M.length<tt;)M.length%2||ct===yt?M.push(Y(M[M.length-1]+jt)):M.unshift(Y(M[0]-jt));X()}if(K(U)){for(jt=yt=M.length;jt--;)(3===U&&jt%2==1||2>=U&&0<jt&&jt<yt-1)&&M.splice(jt,1);E.finalTickAmt=void 0}}},It.prototype.setScale=function(){var E=!1,U=!1;this.series.forEach(function(ct){E=E||ct.isDirtyData||ct.isDirty,U=U||ct.xAxis&&ct.xAxis.isDirty||!1}),this.setAxisSize();var mt=this.len!==(this.old&&this.old.len);mt||E||U||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=mt||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),E&&this.panningState&&(this.panningState.isDirty=!0),T(this,"afterSetScale")},It.prototype.setExtremes=function(E,U,mt,ct,ft){var M=this,tt=M.chart;mt=P(mt,!0),M.series.forEach(function(X){delete X.kdTree}),ft=rt(ft,{min:E,max:U}),T(M,"setExtremes",ft,function(){M.userMin=E,M.userMax=U,M.eventArgs=ft,mt&&tt.redraw(ct)})},It.prototype.zoom=function(E,U){var mt=this,ct=this.dataMin,ft=this.dataMax,M=this.options,tt=Math.min(ct,P(M.min,ct)),X=Math.max(ft,P(M.max,ft));return T(this,"zoom",E={newMin:E,newMax:U},function(St){var yt=St.newMin,jt=St.newMax;(yt!==mt.min||jt!==mt.max)&&(mt.allowZoomOutside||(K(ct)&&(yt<tt&&(yt=tt),yt>X&&(yt=X)),K(ft)&&(jt<tt&&(jt=tt),jt>X&&(jt=X))),mt.displayBtn=typeof yt<"u"||typeof jt<"u",mt.setExtremes(yt,jt,!1,void 0,{trigger:"zoom"})),St.zoomed=!0}),E.zoomed},It.prototype.setAxisSize=function(){var E=this.chart,U=this.options,mt=U.offsets||[0,0,0,0],ct=this.horiz,ft=this.width=Math.round(Q(P(U.width,E.plotWidth-mt[3]+mt[1]),E.plotWidth)),M=this.height=Math.round(Q(P(U.height,E.plotHeight-mt[0]+mt[2]),E.plotHeight)),tt=this.top=Math.round(Q(P(U.top,E.plotTop+mt[0]),E.plotHeight,E.plotTop));U=this.left=Math.round(Q(P(U.left,E.plotLeft+mt[3]),E.plotWidth,E.plotLeft)),this.bottom=E.chartHeight-M-tt,this.right=E.chartWidth-ft-U,this.len=Math.max(ct?ft:M,0),this.pos=ct?U:tt},It.prototype.getExtremes=function(){var E=this.logarithmic;return{min:E?Y(E.lin2log(this.min)):this.min,max:E?Y(E.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},It.prototype.getThreshold=function(E){var U=this.logarithmic,mt=U?U.lin2log(this.min):this.min;return U=U?U.lin2log(this.max):this.max,null===E||E===-1/0?E=mt:E===1/0?E=U:mt>E?E=mt:U<E&&(E=U),this.translate(E,0,1,0,1)},It.prototype.autoLabelAlign=function(E){var U=(P(E,0)-90*this.side+720)%360;return T(this,"autoLabelAlign",E={align:"center"},function(mt){15<U&&165>U?mt.align="right":195<U&&345>U&&(mt.align="left")}),E.align},It.prototype.tickSize=function(E){var U=this.options,mt=P(U["tick"===E?"tickWidth":"minorTickWidth"],"tick"===E&&this.isXAxis&&!this.categories?1:0),ct=U["tick"===E?"tickLength":"minorTickLength"];if(mt&&ct){"inside"===U[E+"Position"]&&(ct=-ct);var ft=[ct,mt]}return T(this,"afterTickSize",E={tickSize:ft}),E.tickSize},It.prototype.labelMetrics=function(){var E=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[E]&&this.ticks[E].label)},It.prototype.unsquish=function(){var E=this.options.labels,U=this.horiz,mt=this.tickInterval,ct=this.len/(((this.categories?1:0)+this.max-this.min)/mt),ft=E.rotation,M=this.labelMetrics(),tt=Math.max(this.max-this.min,0),X=function(Ce){var $t=Ce/(ct||1);return($t=1<$t?Math.ceil($t):1)*mt>tt&&Ce!==1/0&&ct!==1/0&&tt&&($t=Math.ceil(tt/mt)),Y($t*mt)},St=mt,yt=Number.MAX_VALUE;if(U){if(!E.staggerLines)if(A(ft))var jt=[ft];else ct<E.autoRotationLimit&&(jt=E.autoRotation);if(jt)for(var kt=U=void 0,ie=0,pe=jt;ie<pe.length;ie++){var Fe=pe[ie];if((Fe===ft||Fe&&-90<=Fe&&90>=Fe)&&(kt=(U=X(Math.abs(M.h/Math.sin(R*Fe))))+Math.abs(Fe/360))<yt){yt=kt;var je=Fe;St=U}}}else St=X(M.h);return this.autoRotation=jt,this.labelRotation=P(je,A(ft)?ft:0),E.step?mt:St},It.prototype.getSlotWidth=function(E){var U=this.chart,mt=this.horiz,ct=this.options.labels,ft=Math.max(this.tickPositions.length-(this.categories?0:1),1),M=U.margin[3];if(E&&A(E.slotWidth))return E.slotWidth;if(mt&&2>ct.step)return ct.rotation?0:(this.staggerLines||1)*this.len/ft;if(!mt){if(void 0!==(E=ct.style.width))return parseInt(String(E),10);if(M)return M-U.spacing[3]}return.33*U.chartWidth},It.prototype.renderUnsquish=function(){var E=this.chart,U=E.renderer,mt=this.tickPositions,ct=this.ticks,ft=this.options.labels,M=ft.style,tt=this.horiz,X=this.getSlotWidth(),St=Math.max(1,Math.round(X-2*ft.padding)),yt={},jt=this.labelMetrics(),kt=M.textOverflow,ie=0;if(D(ft.rotation)||(yt.rotation=ft.rotation||0),mt.forEach(function(Ce){(Ce=ct[Ce]).movedLabel&&Ce.replaceMovedLabel(),Ce&&Ce.label&&Ce.label.textPxLength>ie&&(ie=Ce.label.textPxLength)}),this.maxLabelLength=ie,this.autoRotation)ie>St&&ie>jt.h?yt.rotation=this.labelRotation:this.labelRotation=0;else if(X){var pe=St;if(!kt){var Fe="clip";for(St=mt.length;!tt&&St--;){var je=mt[St];(je=ct[je].label)&&(je.styles&&"ellipsis"===je.styles.textOverflow?je.css({textOverflow:"clip"}):je.textPxLength>X&&je.css({width:X+"px"}),je.getBBox().height>this.len/mt.length-(jt.h-jt.f)&&(je.specificTextOverflow="ellipsis"))}}}yt.rotation&&(pe=ie>.5*E.chartHeight?.33*E.chartHeight:ie,kt||(Fe="ellipsis")),(this.labelAlign=ft.align||this.autoLabelAlign(this.labelRotation))&&(yt.align=this.labelAlign),mt.forEach(function(Ce){var $t=(Ce=ct[Ce])&&Ce.label,de=M.width,Qt={};$t&&($t.attr(yt),Ce.shortenLabel?Ce.shortenLabel():pe&&!de&&"nowrap"!==M.whiteSpace&&(pe<$t.textPxLength||"SPAN"===$t.element.tagName)?(Qt.width=pe+"px",kt||(Qt.textOverflow=$t.specificTextOverflow||Fe),$t.css(Qt)):$t.styles&&$t.styles.width&&!Qt.width&&!de&&$t.css({width:null}),delete $t.specificTextOverflow,Ce.rotation=yt.rotation)},this),this.tickRotCorr=U.rotCorr(jt.b,this.labelRotation||0,0!==this.side)},It.prototype.hasData=function(){return this.series.some(function(E){return E.hasData()})||this.options.showEmpty&&K(this.min)&&K(this.max)},It.prototype.addTitle=function(E){var tt,ct=this.opposite,ft=this.options.title,M=this.chart.styledMode;this.axisTitle||((tt=ft.textAlign)||(tt=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:ct?"right":"left",middle:"center",high:ct?"left":"right"})[ft.align]),this.axisTitle=this.chart.renderer.text(ft.text||"",0,0,ft.useHTML).attr({zIndex:7,rotation:ft.rotation,align:tt}).addClass("highcharts-axis-title"),M||this.axisTitle.css(b(ft.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),M||ft.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[E?"show":"hide"](E)},It.prototype.generateTick=function(E){var U=this.ticks;U[E]?U[E].addLabel():U[E]=new Ot(this,E)},It.prototype.getOffset=function(){var E=this,U=this,mt=U.chart,ct=U.horiz,ft=U.options,M=U.side,tt=U.ticks,X=U.tickPositions,St=U.coll,yt=U.axisParent,jt=mt.renderer,kt=mt.inverted&&!U.isZAxis?[1,0,3,2][M]:M,ie=U.hasData(),pe=ft.title,Fe=ft.labels,je=mt.axisOffset;mt=mt.clipOffset;var de,Ce=[-1,1,1,-1][M],$t=ft.className,Qt=0,Et=0,Lt=0;if(U.showAxis=de=ie||ft.showEmpty,U.staggerLines=U.horiz&&Fe.staggerLines||void 0,!U.axisGroup){var ne=function(le,ee,Ue){return jt.g(le).attr({zIndex:Ue}).addClass("highcharts-".concat(St.toLowerCase()).concat(ee," ")+(E.isRadial?"highcharts-radial-axis".concat(ee," "):"")+($t||"")).add(yt)};U.gridGroup=ne("grid","-grid",ft.gridZIndex),U.axisGroup=ne("axis","",ft.zIndex),U.labelGroup=ne("axis-labels","-labels",Fe.zIndex)}if(ie||U.isLinked?(X.forEach(function(le){U.generateTick(le)}),U.renderUnsquish(),U.reserveSpaceDefault=0===M||2===M||{1:"left",3:"right"}[M]===U.labelAlign,P(Fe.reserveSpace,"center"===U.labelAlign||null,U.reserveSpaceDefault)&&X.forEach(function(le){Lt=Math.max(tt[le].getLabelSize(),Lt)}),U.staggerLines&&(Lt*=U.staggerLines),U.labelOffset=Lt*(U.opposite?-1:1)):k(tt,function(le,ee){le.destroy(),delete tt[ee]}),pe&&pe.text&&!1!==pe.enabled&&(U.addTitle(de),de&&!1!==pe.reserveSpace)){U.titleOffset=Qt=U.axisTitle.getBBox()[ct?"height":"width"];var re=pe.offset;Et=K(re)?0:P(pe.margin,ct?5:10)}U.renderLine(),U.offset=Ce*P(ft.offset,je[M]?je[M]+(ft.margin||0):0),U.tickRotCorr=U.tickRotCorr||{x:0,y:0},pe=0===M?-U.labelMetrics().h:2===M?U.tickRotCorr.y:0,ie=Math.abs(Lt)+Et,Lt&&(ie=ie-pe+Ce*(ct?P(Fe.y,U.tickRotCorr.y+8*Ce):Fe.x)),U.axisTitleMargin=P(re,ie),U.getMaxLabelDimensions&&(U.maxLabelDimensions=U.getMaxLabelDimensions(tt,X)),"colorAxis"!==St&&(ct=this.tickSize("tick"),je[M]=Math.max(je[M],(U.axisTitleMargin||0)+Qt+Ce*U.offset,ie,X&&X.length&&ct?ct[0]+Ce*U.offset:0),ft=!U.axisLine||ft.offset?0:2*Math.floor(U.axisLine.strokeWidth()/2),mt[kt]=Math.max(mt[kt],ft)),T(this,"afterGetOffset")},It.prototype.getLinePath=function(E){var U=this.chart,mt=this.opposite,ct=this.offset,ft=this.horiz,M=this.left+(mt?this.width:0)+ct;return ct=U.chartHeight-this.bottom-(mt?this.height:0)+ct,mt&&(E*=-1),U.renderer.crispLine([["M",ft?this.left:M,ft?ct:this.top],["L",ft?U.chartWidth-this.right:M,ft?ct:U.chartHeight-this.bottom]],E)},It.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},It.prototype.getTitlePosition=function(){var E=this.horiz,U=this.left,mt=this.top,ct=this.len,ft=this.options.title,M=E?U:mt,tt=this.opposite,X=this.offset,St=ft.x,yt=ft.y,jt=this.axisTitle,kt=this.chart.renderer.fontMetrics(ft.style.fontSize,jt);return jt=jt?Math.max(jt.getBBox(!1,0).height-kt.h-1,0):0,ct={low:M+(E?0:ct),middle:M+ct/2,high:M+(E?ct:0)}[ft.align],U=(E?mt+this.height:U)+(E?1:-1)*(tt?-1:1)*(this.axisTitleMargin||0)+[-jt,jt,kt.f,-jt][this.side],T(this,"afterGetTitlePosition",{titlePosition:E={x:E?ct+St:U+(tt?this.width:0)+X+St,y:E?U+yt-(tt?this.height:0)+X:ct+yt}}),E},It.prototype.renderMinorTick=function(E,U){var mt=this.minorTicks;mt[E]||(mt[E]=new Ot(this,E,"minor")),U&&mt[E].isNew&&mt[E].render(null,!0),mt[E].render(null,!1,1)},It.prototype.renderTick=function(E,U,mt){var ct=this.ticks;(!this.isLinked||E>=this.min&&E<=this.max||this.grid&&this.grid.isColumn)&&(ct[E]||(ct[E]=new Ot(this,E)),mt&&ct[E].isNew&&ct[E].render(U,!0,-1),ct[E].render(U))},It.prototype.render=function(){var Ce,$t,E=this,U=E.chart,mt=E.logarithmic,ct=E.options,ft=E.isLinked,M=E.tickPositions,tt=E.axisTitle,X=E.ticks,St=E.minorTicks,yt=E.alternateBands,jt=ct.stackLabels,kt=ct.alternateGridColor,ie=E.tickmarkOffset,pe=E.axisLine,Fe=E.showAxis,je=ht(U.renderer.globalAnimation);if(E.labelEdge.length=0,E.overlap=!1,[X,St,yt].forEach(function(Qt){k(Qt,function(Et){Et.isActive=!1})}),E.hasData()||ft){var de=E.chart.hasRendered&&E.old&&A(E.old.min);E.minorTickInterval&&!E.categories&&E.getMinorTickPositions().forEach(function(Qt){E.renderMinorTick(Qt,de)}),M.length&&(M.forEach(function(Qt,Et){E.renderTick(Qt,Et,de)}),ie&&(0===E.min||E.single)&&(X[-1]||(X[-1]=new Ot(E,-1,null,!0)),X[-1].render(-1))),kt&&M.forEach(function(Qt,Et){$t=typeof M[Et+1]<"u"?M[Et+1]+ie:E.max-ie,Et%2==0&&Qt<E.max&&$t<=E.max+(U.polar?-ie:ie)&&(yt[Qt]||(yt[Qt]=new Dt.PlotLineOrBand(E)),Ce=Qt+ie,yt[Qt].options={from:mt?mt.lin2log(Ce):Ce,to:mt?mt.lin2log($t):$t,color:kt,className:"highcharts-alternate-grid"},yt[Qt].render(),yt[Qt].isActive=!0)}),E._addedPlotLB||(E._addedPlotLB=!0,(ct.plotLines||[]).concat(ct.plotBands||[]).forEach(function(Qt){E.addPlotBandOrLine(Qt)}))}[X,St,yt].forEach(function(Qt){var Et=[],Lt=je.duration;k(Qt,function(ne,re){ne.isActive||(ne.render(re,!1,0),ne.isActive=!1,Et.push(re))}),vt(function(){for(var ne=Et.length;ne--;)Qt[Et[ne]]&&!Qt[Et[ne]].isActive&&(Qt[Et[ne]].destroy(),delete Qt[Et[ne]])},Qt!==yt&&U.hasRendered&&Lt?Lt:0)}),pe&&(pe[pe.isPlaced?"animate":"attr"]({d:this.getLinePath(pe.strokeWidth())}),pe.isPlaced=!0,pe[Fe?"show":"hide"](Fe)),tt&&Fe&&(ct=E.getTitlePosition(),tt[tt.isNew?"attr":"animate"](ct),tt.isNew=!1),jt&&jt.enabled&&E.stacking&&E.stacking.renderStackTotals(),E.old={len:E.len,max:E.max,min:E.min,transA:E.transA,userMax:E.userMax,userMin:E.userMin},E.isDirty=!1,T(this,"afterRender")},It.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(E){E.render()})),this.series.forEach(function(E){E.isDirty=!0})},It.prototype.getKeepProps=function(){return this.keepProps||It.keepProps},It.prototype.destroy=function(E){var U=this,mt=U.plotLinesAndBands,ct=this.eventOptions;if(T(this,"destroy",{keepEvents:E}),E||I(U),[U.ticks,U.minorTicks,U.alternateBands].forEach(function(M){dt(M)}),mt)for(E=mt.length;E--;)mt[E].destroy();for(var ft in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(M){U[M]&&(U[M]=U[M].destroy())}),U.plotLinesAndBandsGroups)U.plotLinesAndBandsGroups[ft]=U.plotLinesAndBandsGroups[ft].destroy();k(U,function(M,tt){-1===U.getKeepProps().indexOf(tt)&&delete U[tt]}),this.eventOptions=ct},It.prototype.drawCrosshair=function(E,U){var M,mt=this.crosshair,ct=P(mt&&mt.snap,!0),ft=this.chart,tt=this.cross;if(T(this,"drawCrosshair",{e:E,point:U}),E||(E=this.cross&&this.cross.e),mt&&!1!==(K(U)||!ct)){if(ct?K(U)&&(M=P("colorAxis"!==this.coll?U.crosshairPos:null,this.isXAxis?U.plotX:this.len-U.plotY)):M=E&&(this.horiz?E.chartX-this.pos:this.len-E.chartY+this.pos),K(M)){var X={value:U&&(this.isXAxis?U.x:P(U.stackY,U.y)),translatedValue:M};ft.polar&&rt(X,{isCrosshair:!0,chartX:E&&E.chartX,chartY:E&&E.chartY,point:U}),X=this.getPlotLinePath(X)||null}if(!K(X))return void this.hideCrosshair();ct=this.categories&&!this.isRadial,tt||(this.cross=tt=ft.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(ct?"category ":"thin ")+(mt.className||"")).attr({zIndex:P(mt.zIndex,2)}).add(),ft.styledMode||(tt.attr({stroke:mt.color||(ct?Ct.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":P(mt.width,1)}).css({"pointer-events":"none"}),mt.dashStyle&&tt.attr({dashstyle:mt.dashStyle}))),tt.show().attr({d:X}),ct&&!mt.width&&tt.attr({"stroke-width":this.transA}),this.cross.e=E}else this.hideCrosshair();T(this,"afterDrawCrosshair",{e:E,point:U})},It.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),T(this,"afterHideCrosshair")},It.prototype.hasVerticalPanning=function(){var E=this.chart.options.chart.panning;return!!(E&&E.enabled&&/y/.test(E.type))},It.prototype.validatePositiveValue=function(E){return A(E)&&0<E},It.prototype.update=function(E,U){var mt=this.chart;E=b(this.userOptions,E),this.destroy(!0),this.init(mt,E),mt.isDirtyBox=!0,P(U,!0)&&mt.redraw()},It.prototype.remove=function(E){for(var U=this.chart,mt=this.coll,ct=this.series,ft=ct.length;ft--;)ct[ft]&&ct[ft].remove(!1);g(U.axes,this),g(U[mt],this),U[mt].forEach(function(M,tt){M.options.index=M.userOptions.index=tt}),this.destroy(),U.isDirtyBox=!0,P(E,!0)&&U.redraw()},It.prototype.setTitle=function(E,U){this.update({title:E},U)},It.prototype.setCategories=function(E,U){this.update({categories:E},U)},It.defaultOptions=nt.defaultXAxisOptions,It.keepProps="extKey hcEvents names series userMax userMin".split(" "),It}()}),Pt(j,"Core/Axis/DateTimeAxis.js",[j["Core/Utilities.js"]],function(ot){var Dt,nt=ot.addEvent,Ct=ot.getMagnitude,zt=ot.normalizeTickInterval,Rt=ot.timeUnits;return function(Ot){function J(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function ht(R){"datetime"!==R.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new F(this))}var at=[];Ot.compose=function(R){return-1===at.indexOf(R)&&(at.push(R),R.keepProps.push("dateTime"),R.prototype.getTimeTicks=J,nt(R,"init",ht)),R};var F=function(){function R($){this.axis=$}return R.prototype.normalizeTimeTickInterval=function($,O){var dt,V=O||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],Y=Rt[(O=V[V.length-1])[0]],K=O[1];for(dt=0;dt<V.length&&(Y=Rt[(O=V[dt])[0]],K=O[1],!(V[dt+1]&&$<=(Y*K[K.length-1]+Rt[V[dt+1][0]])/2));dt++);return Y===Rt.year&&$<5*Y&&(K=[1,2,5]),{unitRange:Y,count:$=zt($/Y,K,"year"===O[0]?Math.max(Ct($/Y),1):1),unitName:O[0]}},R.prototype.getXDateFormat=function($,O){var V=this.axis,Y=V.chart.time;return V.closestPointRange?Y.getDateFormat(V.closestPointRange,$,V.options.startOfWeek,O)||Y.resolveDTLFormat(O.year).main:Y.resolveDTLFormat(O.day).main},R}();Ot.Additions=F}(Dt||(Dt={})),Dt}),Pt(j,"Core/Axis/LogarithmicAxis.js",[j["Core/Utilities.js"]],function(ot){var Rt,nt=ot.addEvent,Ct=ot.normalizeTickInterval,zt=ot.pick;return function(Dt){function Ot(F){var R=this.logarithmic;"logarithmic"!==F.userOptions.type?this.logarithmic=void 0:R||(this.logarithmic=new at(this))}function J(){var F=this.logarithmic;F&&(this.lin2val=function(R){return F.lin2log(R)},this.val2lin=function(R){return F.log2lin(R)})}var ht=[];Dt.compose=function(F){return-1===ht.indexOf(F)&&(ht.push(F),F.keepProps.push("logarithmic"),nt(F,"init",Ot),nt(F,"afterInit",J)),F};var at=function(){function F(R){this.axis=R}return F.prototype.getLogTickPositions=function(R,$,O,V){var Y=this.axis,K=Y.len,dt=Y.options,g=[];if(V||(this.minorAutoInterval=void 0),.5<=R)R=Math.round(R),g=Y.getLinearTickPositions(R,$,O);else if(.08<=R){var rt,h=Math.floor($),T=dt=void 0;for(K=.3<R?[1,2,4]:.15<R?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];h<O+1&&!T;h++){var G=K.length;for(rt=0;rt<G&&!T;rt++){var A=this.log2lin(this.lin2log(h)*K[rt]);A>$&&(!V||dt<=O)&&typeof dt<"u"&&g.push(dt),dt>O&&(T=!0),dt=A}}}else $=this.lin2log($),O=this.lin2log(O),R=V?Y.getMinorTickInterval():dt.tickInterval,R=zt("auto"===R?null:R,this.minorAutoInterval,dt.tickPixelInterval/(V?5:1)*(O-$)/((V?K/Y.tickPositions.length:K)||1)),R=Ct(R),g=Y.getLinearTickPositions(R,$,O).map(this.log2lin),V||(this.minorAutoInterval=R/5);return V||(Y.tickInterval=R),g},F.prototype.lin2log=function(R){return Math.pow(10,R)},F.prototype.log2lin=function(R){return Math.log(R)/Math.LN10},F}();Dt.Additions=at}(Rt||(Rt={})),Rt}),Pt(j,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[j["Core/Utilities.js"]],function(ot){var Rt,nt=ot.erase,Ct=ot.extend,zt=ot.isNumber;return function(Dt){var J,Ot=[];Dt.compose=function(at,F){return J||(J=at),-1===Ot.indexOf(F)&&(Ot.push(F),Ct(F.prototype,ht.prototype)),F};var ht=function(){function at(){}return at.prototype.getPlotBandPath=function(F,R,$){void 0===$&&($=this.options);var O=this.getPlotLinePath({value:R,force:!0,acrossPanes:$.acrossPanes}),V=[],Y=this.horiz;if(R=!zt(this.min)||!zt(this.max)||F<this.min&&R<this.min||F>this.max&&R>this.max,F=this.getPlotLinePath({value:F,force:!0,acrossPanes:$.acrossPanes}),$=1,F&&O){if(R){var K=F.toString()===O.toString();$=0}for(R=0;R<F.length;R+=2){var dt=F[R],g=F[R+1],h=O[R],rt=O[R+1];"M"!==dt[0]&&"L"!==dt[0]||"M"!==g[0]&&"L"!==g[0]||"M"!==h[0]&&"L"!==h[0]||"M"!==rt[0]&&"L"!==rt[0]||(Y&&h[1]===dt[1]?(h[1]+=$,rt[1]+=$):Y||h[2]!==dt[2]||(h[2]+=$,rt[2]+=$),V.push(["M",dt[1],dt[2]],["L",g[1],g[2]],["L",rt[1],rt[2]],["L",h[1],h[2]],["Z"])),V.isFlat=K}}return V},at.prototype.addPlotBand=function(F){return this.addPlotBandOrLine(F,"plotBands")},at.prototype.addPlotLine=function(F){return this.addPlotBandOrLine(F,"plotLines")},at.prototype.addPlotBandOrLine=function(F,R){var $=this,O=this.userOptions,V=new J(this,F);if(this.visible&&(V=V.render()),V){if(this._addedPlotLB||(this._addedPlotLB=!0,(O.plotLines||[]).concat(O.plotBands||[]).forEach(function(K){$.addPlotBandOrLine(K)})),R){var Y=O[R]||[];Y.push(F),O[R]=Y}this.plotLinesAndBands.push(V)}return V},at.prototype.removePlotBandOrLine=function(F){var R=this.plotLinesAndBands,$=this.options,O=this.userOptions;if(R){for(var V=R.length;V--;)R[V].id===F&&R[V].destroy();[$.plotLines||[],O.plotLines||[],$.plotBands||[],O.plotBands||[]].forEach(function(Y){for(V=Y.length;V--;)(Y[V]||{}).id===F&&nt(Y,Y[V])})}},at.prototype.removePlotBand=function(F){this.removePlotBandOrLine(F)},at.prototype.removePlotLine=function(F){this.removePlotBandOrLine(F)},at}()}(Rt||(Rt={})),Rt}),Pt(j,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[j["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],j["Core/Utilities.js"]],function(ot,nt){var Ct=nt.arrayMax,zt=nt.arrayMin,Rt=nt.defined,Dt=nt.destroyObjectProperties,Ot=nt.erase,J=nt.fireEvent,ht=nt.merge,at=nt.objectEach,F=nt.pick;return function(){function R($,O){this.axis=$,O&&(this.options=O,this.id=O.id)}return R.compose=function($){return ot.compose(R,$)},R.prototype.render=function(){J(this,"render");var $=this,O=$.axis,V=O.horiz,Y=O.logarithmic,K=$.options,dt=K.color,g=F(K.zIndex,0),h=K.events,rt={},T=O.chart.renderer,G=K.label,A=$.label,D=K.to,b=K.from,W=K.value,k=$.svgElem,P=[],Q=Rt(b)&&Rt(D);P=Rt(W);var I=!k,B={class:"highcharts-plot-"+(Q?"band ":"line ")+(K.className||"")},vt=Q?"bands":"lines";if(Y&&(b=Y.log2lin(b),D=Y.log2lin(D),W=Y.log2lin(W)),O.chart.styledMode||(P?(B.stroke=dt||"#999999",B["stroke-width"]=F(K.width,1),K.dashStyle&&(B.dashstyle=K.dashStyle)):Q&&(B.fill=dt||"#e6ebf5",K.borderWidth&&(B.stroke=K.borderColor,B["stroke-width"]=K.borderWidth))),rt.zIndex=g,(Y=O.plotLinesAndBandsGroups[vt+="-"+g])||(O.plotLinesAndBandsGroups[vt]=Y=T.g("plot-"+vt).attr(rt).add()),I&&($.svgElem=k=T.path().attr(B).add(Y)),P)P=O.getPlotLinePath({value:W,lineWidth:k.strokeWidth(),acrossPanes:K.acrossPanes});else{if(!Q)return;P=O.getPlotBandPath(b,D,K)}return!$.eventsAdded&&h&&(at(h,function(Ut,It){k.on(It,function(E){h[It].apply($,[E])})}),$.eventsAdded=!0),(I||!k.d)&&P&&P.length?k.attr({d:P}):k&&(P?(k.show(),k.animate({d:P})):k.d&&(k.hide(),A&&($.label=A=A.destroy()))),G&&(Rt(G.text)||Rt(G.formatter))&&P&&P.length&&0<O.width&&0<O.height&&!P.isFlat?(G=ht({align:V&&Q&&"center",x:V?!Q&&4:10,verticalAlign:!V&&Q&&"middle",y:V?Q?16:10:Q?6:-4,rotation:V&&!Q&&90},G),this.renderLabel(G,P,Q,g)):A&&A.hide(),$},R.prototype.renderLabel=function($,O,V,Y){var K=this.axis,dt=K.chart.renderer,g=this.label;g||(this.label=g=dt.text(this.getLabelText($),0,0,$.useHTML).attr({align:$.textAlign||$.align,rotation:$.rotation,class:"highcharts-plot-"+(V?"band":"line")+"-label "+($.className||""),zIndex:Y}).add(),K.chart.styledMode||g.css(ht({textOverflow:"ellipsis"},$.style))),Y=O.xBounds||[O[0][1],O[1][1],V?O[2][1]:O[0][1]],O=O.yBounds||[O[0][2],O[1][2],V?O[2][2]:O[0][2]],V=zt(Y),dt=zt(O),g.align($,!1,{x:V,y:dt,width:Ct(Y)-V,height:Ct(O)-dt}),g.alignValue&&"left"!==g.alignValue||g.css({width:(90===g.rotation?K.height-(g.alignAttr.y-K.top):K.width-(g.alignAttr.x-K.left))+"px"}),g.show(!0)},R.prototype.getLabelText=function($){return Rt($.formatter)?$.formatter.call(this):$.text},R.prototype.destroy=function(){Ot(this.axis.plotLinesAndBands,this),delete this.axis,Dt(this)},R}()}),Pt(j,"Core/Tooltip.js",[j["Core/FormatUtilities.js"],j["Core/Globals.js"],j["Core/Renderer/RendererUtilities.js"],j["Core/Renderer/RendererRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt){var Dt=ot.format,Ot=nt.doc,J=Ct.distribute,ht=Rt.clamp,at=Rt.css,F=Rt.discardElement,R=Rt.extend,$=Rt.fireEvent,O=Rt.isArray,V=Rt.isNumber,Y=Rt.isString,K=Rt.merge,dt=Rt.pick,g=Rt.splat,h=Rt.syncTimeout;return function(){function rt(T,G){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=T,this.init(T,G)}return rt.prototype.applyFilter=function(){var T=this.chart;T.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+T.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},rt.prototype.bodyFormatter=function(T){return T.map(function(G){var A=G.series.tooltipOptions;return(A[(G.point.formatPrefix||"point")+"Formatter"]||G.point.tooltipFormatter).call(G.point,A[(G.point.formatPrefix||"point")+"Format"]||"")})},rt.prototype.cleanSplit=function(T){this.chart.series.forEach(function(G){var A=G&&G.tt;A&&(!A.isActive||T?G.tt=A.destroy():A.isActive=!1)})},rt.prototype.defaultFormatter=function(T){var G=this.points||g(this),A=[T.tooltipFooterHeaderFormatter(G[0])];return(A=A.concat(T.bodyFormatter(G))).push(T.tooltipFooterHeaderFormatter(G[0],!0)),A},rt.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),F(this.container)),Rt.clearTimeout(this.hideTimer),Rt.clearTimeout(this.tooltipTimeout)},rt.prototype.getAnchor=function(T,G){var P,Q,A=this.chart,D=A.pointer,b=A.inverted,W=A.plotTop,k=A.plotLeft,I=0,B=0;return T=g(T),this.followPointer&&G?(typeof G.chartX>"u"&&(G=D.normalize(G)),D=[G.chartX-k,G.chartY-W]):T[0].tooltipPos?D=T[0].tooltipPos:(T.forEach(function(vt){P=vt.series.yAxis,I+=vt.plotX||0,B+=vt.plotLow?(vt.plotLow+(vt.plotHigh||0))/2:vt.plotY||0,(Q=vt.series.xAxis)&&P&&(b?(I+=W+A.plotHeight-Q.len-Q.pos,B+=k+A.plotWidth-P.len-P.pos):(I+=Q.pos-k,B+=P.pos-W))}),I/=T.length,B/=T.length,D=[b?A.plotWidth-B:I,b?A.plotHeight-I:B],this.shared&&1<T.length&&G&&(b?D[0]=G.chartX-k:D[1]=G.chartY-W)),D.map(Math.round)},rt.prototype.getClassName=function(T,G,A){var D=T.series,b=D.options;return[this.options.className,"highcharts-label",A&&"highcharts-tooltip-header",G?"highcharts-tooltip-box":"highcharts-tooltip",!A&&"highcharts-color-"+dt(T.colorIndex,D.colorIndex),b&&b.className].filter(Y).join(" ")},rt.prototype.getLabel=function(){var W,T=this,G=this.chart.styledMode,A=this.options,D=this.split&&this.allowShared,b=A.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none"),k=this.chart.renderer;if(T.label){var P=!T.label.hasClass("highcharts-label");(D&&!P||!D&&P)&&T.destroy()}if(!this.label){if(this.outside){P=this.chart.options.chart.style;var Q=zt.getRendererType();this.container=W=nt.doc.createElement("div"),W.className="highcharts-tooltip-container",at(W,{position:"absolute",top:"1px",pointerEvents:b,zIndex:Math.max(this.options.style.zIndex||0,(P&&P.zIndex||0)+3)}),nt.doc.body.appendChild(W),this.renderer=k=new Q(W,0,0,P,void 0,void 0,k.styledMode)}if(D?this.label=k.g("tooltip"):(this.label=k.label("",0,0,A.shape,void 0,void 0,A.useHTML,void 0,"tooltip").attr({padding:A.padding,r:A.borderRadius}),G||this.label.attr({fill:A.backgroundColor,"stroke-width":A.borderWidth}).css(A.style).css({pointerEvents:b}).shadow(A.shadow)),G&&A.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),T.outside&&!T.split){var I=this.label,B=I.xSetter,vt=I.ySetter;I.xSetter=function(Ut){B.call(I,T.distance),W.style.left=Ut+"px"},I.ySetter=function(Ut){vt.call(I,T.distance),W.style.top=Ut+"px"}}this.label.attr({zIndex:8}).add()}return this.label},rt.prototype.getPosition=function(T,G,A){var E,D=this.chart,b=this.distance,W={},k=D.inverted&&A.h||0,P=this.outside,Q=P?Ot.documentElement.clientWidth-2*b:D.chartWidth,I=P?Math.max(Ot.body.scrollHeight,Ot.documentElement.scrollHeight,Ot.body.offsetHeight,Ot.documentElement.offsetHeight,Ot.documentElement.clientHeight):D.chartHeight,B=D.pointer.getChartPosition(),vt=function(tt){var X="x"===tt;return[tt,X?Q:I,X?T:G].concat(P?[X?T*B.scaleX:G*B.scaleY,X?B.left-b+(A.plotX+D.plotLeft)*B.scaleX:B.top-b+(A.plotY+D.plotTop)*B.scaleY,0,X?Q:I]:[X?T:G,X?A.plotX+D.plotLeft:A.plotY+D.plotTop,X?D.plotLeft:D.plotTop,X?D.plotLeft+D.plotWidth:D.plotTop+D.plotHeight])},Ut=vt("y"),It=vt("x");vt=!!A.negative,!D.polar&&D.hoverSeries&&D.hoverSeries.yAxis&&D.hoverSeries.yAxis.reversed&&(vt=!vt);var U=!this.followPointer&&dt(A.ttBelow,!D.inverted===vt),mt=function(tt,X,St,yt,jt,kt,ie){var pe=P?"y"===tt?b*B.scaleY:b*B.scaleX:b,Fe=(St-yt)/2,je=yt<jt-b,Ce=jt+b+yt<X,$t=jt-pe-St+Fe;if(jt=jt+pe-Fe,U&&Ce)W[tt]=jt;else if(!U&&je)W[tt]=$t;else if(je)W[tt]=Math.min(ie-yt,0>$t-k?$t:$t-k);else{if(!Ce)return!1;W[tt]=Math.max(kt,jt+k+St>X?jt:jt+k)}},ct=function(tt,X,St,yt,jt){var kt;return jt<b||jt>X-b?kt=!1:W[tt]=jt<St/2?1:jt>X-yt/2?X-yt-2:jt-St/2,kt},ft=function(tt){var X=Ut;Ut=It,It=X,E=tt},M=function(){!1!==mt.apply(0,Ut)?!1!==ct.apply(0,It)||E||(ft(!0),M()):E?W.x=W.y=0:(ft(!0),M())};return(D.inverted||1<this.len)&&ft(),M(),W},rt.prototype.hide=function(T){var G=this;Rt.clearTimeout(this.hideTimer),T=dt(T,this.options.hideDelay),this.isHidden||(this.hideTimer=h(function(){G.getLabel().fadeOut(T&&void 0),G.isHidden=!0},T))},rt.prototype.init=function(T,G){this.chart=T,this.options=G,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=G.split&&!T.inverted&&!T.polar,this.shared=G.shared||this.split,this.outside=dt(G.outside,!(!T.scrollablePixelsX&&!T.scrollablePixelsY))},rt.prototype.shouldStickOnContact=function(T){return!(this.followPointer||!this.options.stickOnContact||T&&!this.chart.pointer.inClass(T.target,"highcharts-tooltip"))},rt.prototype.move=function(T,G,A,D){var b=this,W=b.now,k=!1!==b.options.animation&&!b.isHidden&&(1<Math.abs(T-W.x)||1<Math.abs(G-W.y)),P=b.followPointer||1<b.len;R(W,{x:k?(2*W.x+T)/3:T,y:k?(W.y+G)/2:G,anchorX:P?void 0:k?(2*W.anchorX+A)/3:A,anchorY:P?void 0:k?(W.anchorY+D)/2:D}),b.getLabel().attr(W),b.drawTracker(),k&&(Rt.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(T,G,A,D)},32))},rt.prototype.refresh=function(T,G){var A=this.chart,D=this.options,b=A.pointer,W=g(T),k=W[0],P=[],Q=D.formatter||this.defaultFormatter,I=this.shared,B=A.styledMode,vt={};if(D.enabled&&k.series){Rt.clearTimeout(this.hideTimer),this.allowShared=!(!O(T)&&T.series&&T.series.noSharedTooltip),this.followPointer=!this.split&&k.series.tooltipOptions.followPointer;var Ut=(T=this.getAnchor(T,G))[0],It=T[1];if(I&&this.allowShared?(b.applyInactiveState(W),W.forEach(function(mt){mt.setState("hover"),P.push(mt.getLabelConfig())}),(vt={x:k.category,y:k.y}).points=P):vt=k.getLabelConfig(),this.len=P.length,Q=Q.call(vt,this),this.distance=dt((I=k.series).tooltipOptions.distance,16),!1===Q)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Q,W);else{var E=Ut,U=It;if(G&&b.isDirectTouch&&(E=G.chartX-A.plotLeft,U=G.chartY-A.plotTop),!A.polar&&!1!==I.options.clip&&!W.some(function(mt){return b.isDirectTouch||mt.series.shouldShowTooltip(E,U)}))return void this.hide();G=this.getLabel(),D.style.width&&!B||G.css({width:A.spacingBox.width+"px"}),G.attr({text:Q&&Q.join?Q.join(""):Q}),G.addClass(this.getClassName(k),!0),B||G.attr({stroke:D.borderColor||k.color||I.color||"#666666"}),this.updatePosition({plotX:Ut,plotY:It,negative:k.negative,ttBelow:k.ttBelow,h:T[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}$(this,"refresh")}},rt.prototype.renderSplit=function(T,G){function A(Ce,$t,de,Qt,Et){return void 0===Et&&(Et=!0),de?($t=yt?0:pe,Ce=ht(Ce-Qt/2,tt.left,tt.right-Qt-(D.outside?jt:0))):($t-=kt,Ce=ht(Ce=Et?Ce-Qt-ct:Ce+ct,Et?Ce:tt.left,tt.right)),{x:Ce,y:$t}}var D=this,b=D.chart,W=D.chart,k=W.chartWidth,P=W.chartHeight,Q=W.plotHeight,I=W.plotLeft,B=W.plotTop,vt=W.pointer,Ut=W.scrollablePixelsY;Ut=void 0===Ut?0:Ut;var E=W.scrollingContainer,U=(E=void 0===E?{scrollLeft:0,scrollTop:0}:E).scrollLeft;E=E.scrollTop;var mt=W.styledMode,ct=D.distance,ft=D.options,M=D.options.positioner,tt=D.outside&&"number"!=typeof W.scrollablePixelsX?Ot.documentElement.getBoundingClientRect():{left:U,right:U+k,top:E,bottom:E+P},X=D.getLabel(),St=this.renderer||b.renderer,yt=!(!b.xAxis[0]||!b.xAxis[0].opposite),jt=(b=vt.getChartPosition()).left;b=b.top;var kt=B+E,ie=0,pe=Q-Ut;Y(T)&&(T=[!1,T]),T=T.slice(0,G.length+1).reduce(function(Ce,$t,de){if(!1!==$t&&""!==$t){var Qt=(de=G[de-1]||{isHeader:!0,plotX:G[0].plotX,plotY:Q,series:{}}).isHeader,Et=Qt?D:de.series;$t=$t.toString();var Lt=Et.tt,ne=de.isHeader,re=de.series;Lt||(Lt={padding:ft.padding,r:ft.borderRadius},mt||(Lt.fill=ft.backgroundColor,Lt["stroke-width"]=ft.borderWidth),Lt=St.label("",0,0,ft[ne?"headerShape":"shape"],void 0,void 0,ft.useHTML).addClass(D.getClassName(de,!0,ne)).attr(Lt).add(X)),Lt.isActive=!0,Lt.attr({text:$t}),mt||Lt.css(ft.style).shadow(ft.shadow).attr({stroke:ft.borderColor||de.color||re.color||"#333333"}),$t=(ne=(Et=Et.tt=Lt).getBBox()).width+Et.strokeWidth(),Qt&&(pe+=ie=ne.height,yt&&(kt-=ie)),re=void 0===(re=de.plotX)?0:re,Lt=void 0===(Lt=de.plotY)?0:Lt;var le=de.series;if(de.isHeader){re=I+re;var ee=B+Q/2}else{var Ue=le.xAxis,Ke=le.yAxis;re=Ue.pos+ht(re,-ct,Ue.len+ct),le.shouldShowTooltip(0,Ke.pos-B+Lt,{ignoreX:!0})&&(ee=Ke.pos+Lt)}re=ht(re,tt.left-ct,tt.right+ct),"number"==typeof ee?(ne=ne.height+1,Lt=M?M.call(D,$t,ne,de):A(re,ee,Qt,$t),Ce.push({align:M?0:void 0,anchorX:re,anchorY:ee,boxWidth:$t,point:de,rank:dt(Lt.rank,Qt?1:0),size:ne,target:Lt.y,tt:Et,x:Lt.x})):Et.isActive=!1}return Ce},[]),!M&&T.some(function(Ce){var $t=(D.outside?jt:0)+Ce.anchorX;return $t<tt.left&&$t+Ce.boxWidth<tt.right||$t<jt-tt.left+Ce.boxWidth&&tt.right-$t>$t})&&(T=T.map(function(Ce){var $t=A(Ce.anchorX,Ce.anchorY,Ce.point.isHeader,Ce.boxWidth,!1);return R(Ce,{target:$t.y,x:$t.x})})),D.cleanSplit(),J(T,pe);var Fe=jt,je=jt;T.forEach(function(Ce){var $t=Ce.x,de=Ce.boxWidth;(Ce=Ce.isHeader)||(D.outside&&jt+$t<Fe&&(Fe=jt+$t),!Ce&&D.outside&&Fe+de>je&&(je=jt+$t))}),T.forEach(function(Ce){var $t=Ce.x,de=Ce.anchorX,Qt=Ce.pos,Et=Ce.point.isHeader;if(Qt={visibility:typeof Qt>"u"?"hidden":"inherit",x:$t,y:(Qt||0)+kt,anchorX:de,anchorY:Ce.anchorY},D.outside&&$t<de){var Lt=jt-Fe;0<Lt&&(Et||(Qt.x=$t+Lt,Qt.anchorX=de+Lt),Et&&(Qt.x=(je-Fe)/2,Qt.anchorX=de+Lt))}Ce.tt.attr(Qt)}),T=D.container,Ut=D.renderer,D.outside&&T&&Ut&&(W=X.getBBox(),Ut.setSize(W.width+W.x,W.height+W.y,!1),T.style.left=Fe+"px",T.style.top=b+"px")},rt.prototype.drawTracker=function(){if(this.shouldStickOnContact()){var T=this.chart,G=this.label,A=this.shared?T.hoverPoints:T.hoverPoint;if(G&&A){var D={x:0,y:0,width:0,height:0};A=this.getAnchor(A);var b=G.getBBox();A[0]+=T.plotLeft-G.translateX,A[1]+=T.plotTop-G.translateY,D.x=Math.min(0,A[0]),D.y=Math.min(0,A[1]),D.width=0>A[0]?Math.max(Math.abs(A[0]),b.width-A[0]):Math.max(Math.abs(A[0]),b.width),D.height=0>A[1]?Math.max(Math.abs(A[1]),b.height-Math.abs(A[1])):Math.max(Math.abs(A[1]),b.height),this.tracker?this.tracker.attr(D):(this.tracker=G.renderer.rect(D).addClass("highcharts-tracker").add(G),T.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&this.tracker.destroy()},rt.prototype.styledModeFormat=function(T){return T.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')},rt.prototype.tooltipFooterHeaderFormatter=function(T,G){var A=T.series,D=A.tooltipOptions,b=A.xAxis,W=b&&b.dateTime,k=D.xDateFormat,P=D[G?"footerFormat":"headerFormat"];return $(this,"headerFormatter",b={isFooter:G,labelConfig:T},function(Q){W&&!k&&V(T.key)&&(k=W.getXDateFormat(T.key,D.dateTimeLabelFormats)),W&&k&&(T.point&&T.point.tooltipDateKeys||["key"]).forEach(function(I){P=P.replace("{point."+I+"}","{point."+I+":"+k+"}")}),A.chart.styledMode&&(P=this.styledModeFormat(P)),Q.text=Dt(P,{point:T,series:A},this.chart)}),b.text},rt.prototype.update=function(T){this.destroy(),K(!0,this.chart.options.tooltip.userOptions,T),this.init(this.chart,K(!0,this.options,T))},rt.prototype.updatePosition=function(T){var G=this.chart,A=this.options,D=G.pointer,b=this.getLabel();D=D.getChartPosition();var W=(A.positioner||this.getPosition).call(this,b.width,b.height,T),k=T.plotX+G.plotLeft;T=T.plotY+G.plotTop,this.outside&&(this.renderer.setSize(b.width+(A=A.borderWidth+2*this.distance),b.height+A,!1),(1!==D.scaleX||1!==D.scaleY)&&(at(this.container,{transform:"scale(".concat(D.scaleX,", ").concat(D.scaleY,")")}),k*=D.scaleX,T*=D.scaleY),k+=D.left-W.x,T+=D.top-W.y),this.move(Math.round(W.x),Math.round(W.y||0),k,T)},rt}()}),Pt(j,"Core/Series/Point.js",[j["Core/Renderer/HTML/AST.js"],j["Core/Animation/AnimationUtilities.js"],j["Core/Defaults.js"],j["Core/FormatUtilities.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt){var Dt=nt.animObject,Ot=Ct.defaultOptions,J=zt.format,ht=Rt.addEvent,at=Rt.defined,F=Rt.erase,R=Rt.extend,$=Rt.fireEvent,O=Rt.getNestedProperty,V=Rt.isArray,Y=Rt.isFunction,K=Rt.isNumber,dt=Rt.isObject,g=Rt.merge,h=Rt.objectEach,rt=Rt.pick,T=Rt.syncTimeout,G=Rt.removeEvent,A=Rt.uniqueKey;return function(){function D(){this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}return D.prototype.animateBeforeDestroy=function(){var b=this,W={x:b.startXPos,opacity:0},k=b.getGraphicalProps();k.singular.forEach(function(P){b[P]=b[P].animate("dataLabel"===P?{x:b[P].startXPos,y:b[P].startYPos,opacity:0}:W)}),k.plural.forEach(function(P){b[P].forEach(function(Q){Q.element&&Q.animate(R({x:b.startXPos},Q.startYPos?{x:Q.startXPos,y:Q.startYPos}:{}))})})},D.prototype.applyOptions=function(b,W){var k=this.series,P=k.options.pointValKey||k.pointValKey;return b=D.prototype.optionsToObject.call(this,b),R(this,b),this.options=this.options?R(this.options,b):b,b.group&&delete this.group,b.dataLabels&&delete this.dataLabels,P&&(this.y=D.prototype.getNestedProperty.call(this,P)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof W>"u"&&k.xAxis&&k.xAxis.hasNames&&(this.x=k.xAxis.nameToX(this)),typeof this.x>"u"&&k?this.x=typeof W>"u"?k.autoIncrement():W:K(b.x)&&k.options.relativeXValue&&(this.x=k.autoIncrement(b.x)),this},D.prototype.destroy=function(){function b(){for(B in(W.graphic||W.graphics||W.dataLabel||W.dataLabels)&&(G(W),W.destroyElements()),W)W[B]=null}var W=this,k=W.series,P=k.chart;k=k.options.dataSorting;var B,Q=P.hoverPoints,I=Dt(W.series.chart.renderer.globalAnimation);W.legendItem&&P.legend.destroyItem(W),Q&&(W.setState(),F(Q,W),Q.length||(P.hoverPoints=null)),W===P.hoverPoint&&W.onMouseOut(),k&&k.enabled?(this.animateBeforeDestroy(),T(b,I.duration)):b(),P.pointCount--},D.prototype.destroyElements=function(b){var W=this;(b=W.getGraphicalProps(b)).singular.forEach(function(k){W[k]=W[k].destroy()}),b.plural.forEach(function(k){W[k].forEach(function(P){P.element&&P.destroy()}),delete W[k]})},D.prototype.firePointEvent=function(b,W,k){var P=this,Q=this.series.options;(Q.point.events[b]||P.options&&P.options.events&&P.options.events[b])&&P.importEvents(),"click"===b&&Q.allowPointSelect&&(k=function(I){P.select&&P.select(null,I.ctrlKey||I.metaKey||I.shiftKey)}),$(P,b,W,k)},D.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},D.prototype.getGraphicalProps=function(b){var Q,W=this,k=[],P={singular:[],plural:[]};for((b=b||{graphic:1,dataLabel:1}).graphic&&k.push("graphic","shadowGroup"),b.dataLabel&&k.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),Q=k.length;Q--;){var I=k[Q];W[I]&&P.singular.push(I)}return["graphic","dataLabel","connector"].forEach(function(B){var vt=B+"s";b[B]&&W[vt]&&P.plural.push(vt)}),P},D.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},D.prototype.getNestedProperty=function(b){if(b)return 0===b.indexOf("custom.")?O(b,this.options):this[b]},D.prototype.getZone=function(){var b=this.series,W=b.zones;b=b.zoneAxis||"y";var k,P=0;for(k=W[P];this[b]>=k.value;)k=W[++P];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=k&&k.color&&!this.options.color?k.color:this.nonZonedColor,k},D.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},D.prototype.init=function(b,W,k){return this.series=b,this.applyOptions(W,k),this.id=at(this.id)?this.id:A(),this.resolveColor(),b.chart.pointCount++,$(this,"afterInit"),this},D.prototype.isValid=function(){return null!==this.x&&K(this.y)},D.prototype.optionsToObject=function(b){var W=this.series,k=W.options.keys,P=k||W.pointArrayMap||["y"],Q=P.length,I={},B=0,vt=0;if(K(b)||null===b)I[P[0]]=b;else if(V(b))for(!k&&b.length>Q&&("string"==(W=typeof b[0])?I.name=b[0]:"number"===W&&(I.x=b[0]),B++);vt<Q;)k&&typeof b[B]>"u"||(0<P[vt].indexOf(".")?D.prototype.setNestedProperty(I,b[B],P[vt]):I[P[vt]]=b[B]),B++,vt++;else"object"==typeof b&&(I=b,b.dataLabels&&(W._hasPointLabels=!0),b.marker&&(W._hasPointMarkers=!0));return I},D.prototype.resolveColor=function(){var b=this.series,W=b.chart.styledMode,k=b.chart.options.chart.colorCount;if(delete this.nonZonedColor,b.options.colorByPoint){if(!W){var P=(k=b.options.colors||b.chart.options.colors)[b.colorCounter];k=k.length}W=b.colorCounter,b.colorCounter++,b.colorCounter===k&&(b.colorCounter=0)}else W||(P=b.color),W=b.colorIndex;this.colorIndex=rt(this.options.colorIndex,W),this.color=rt(this.options.color,P)},D.prototype.setNestedProperty=function(b,W,k){return k.split(".").reduce(function(P,Q,I,B){return P[Q]=B.length-1===I?W:dt(P[Q],!0)?P[Q]:{},P[Q]},b),b},D.prototype.shouldDraw=function(){return!this.isNull},D.prototype.tooltipFormatter=function(b){var W=this.series,k=W.tooltipOptions,P=rt(k.valueDecimals,""),Q=k.valuePrefix||"",I=k.valueSuffix||"";return W.chart.styledMode&&(b=W.chart.tooltip.styledModeFormat(b)),(W.pointArrayMap||["y"]).forEach(function(B){B="{point."+B,(Q||I)&&(b=b.replace(RegExp(B+"}","g"),Q+B+"}"+I)),b=b.replace(RegExp(B+"}","g"),B+":,."+P+"f}")}),J(b,{point:this,series:this.series},W.chart)},D.prototype.update=function(b,W,k,P){function Q(){I.applyOptions(b);var U=vt&&I.hasMockGraphic;U=null===I.y?!U:U,vt&&U&&(I.graphic=vt.destroy(),delete I.hasMockGraphic),dt(b,!0)&&(vt&&vt.element&&b&&b.marker&&typeof b.marker.symbol<"u"&&(I.graphic=vt.destroy()),b&&b.dataLabels&&I.dataLabel&&(I.dataLabel=I.dataLabel.destroy()),I.connector&&(I.connector=I.connector.destroy())),B.updateParallelArrays(I,E=I.index),It.data[E]=dt(It.data[E],!0)||dt(b,!0)?I.options:rt(b,It.data[E]),B.isDirty=B.isDirtyData=!0,!B.fixedBox&&B.hasCartesianSeries&&(Ut.isDirtyBox=!0),"point"===It.legendType&&(Ut.isDirtyLegend=!0),W&&Ut.redraw(k)}var E,I=this,B=I.series,vt=I.graphic,Ut=B.chart,It=B.options;W=rt(W,!0),!1===P?Q():I.firePointEvent("update",{options:b},Q)},D.prototype.remove=function(b,W){this.series.removePoint(this.series.data.indexOf(this),b,W)},D.prototype.select=function(b,W){var k=this,P=k.series,Q=P.chart;this.selectedStaging=b=rt(b,!k.selected),k.firePointEvent(b?"select":"unselect",{accumulate:W},function(){k.selected=k.options.selected=b,P.options.data[P.data.indexOf(k)]=k.options,k.setState(b&&"select"),W||Q.getSelectedPoints().forEach(function(I){var B=I.series;I.selected&&I!==k&&(I.selected=I.options.selected=!1,B.options.data[B.data.indexOf(I)]=I.options,I.setState(Q.hoverPoints&&B.options.inactiveOtherPoints?"inactive":""),I.firePointEvent("unselect"))})}),delete this.selectedStaging},D.prototype.onMouseOver=function(b){var W=this.series.chart,k=W.pointer;b=b?k.normalize(b):k.getChartCoordinatesFromPoint(this,W.inverted),k.runPointActions(b,this)},D.prototype.onMouseOut=function(){var b=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(b.hoverPoints||[]).forEach(function(W){W.setState()}),b.hoverPoints=b.hoverPoint=null},D.prototype.importEvents=function(){if(!this.hasImportedEvents){var b=this,W=g(b.series.options.point,b.options).events;b.events=W,h(W,function(k,P){Y(k)&&ht(b,P,k)}),this.hasImportedEvents=!0}},D.prototype.setState=function(b,W){var ct,k=this.series,P=this.state,Q=k.options.states[b||"normal"]||{},I=Ot.plotOptions[k.type].marker&&k.options.marker,vt=I&&I.states&&I.states[b||"normal"]||{},It=this.marker||{},E=k.chart,U=I&&k.markerAttribs,mt=k.halo,ft=k.stateMarkerGraphic;if(!((b=b||"")===this.state&&!W||this.selected&&"select"!==b||!1===Q.enabled||b&&(!1===vt.enabled||I&&!1===I.enabled&&!1===vt.enabled)||b&&It.states&&It.states[b]&&!1===It.states[b].enabled)){if(this.state=b,U&&(ct=k.markerAttribs(this,b)),this.graphic&&!this.hasMockGraphic){if(P&&this.graphic.removeClass("highcharts-point-"+P),b&&this.graphic.addClass("highcharts-point-"+b),!E.styledMode){P=k.pointAttribs(this,b);var M=rt(E.options.chart.animation,Q.animation),tt=P.opacity;k.options.inactiveOtherPoints&&K(tt)&&((this.dataLabels||[]).forEach(function(X){X&&!X.hasClass("highcharts-data-label-hidden")&&X.animate({opacity:tt},M)}),this.connector&&this.connector.animate({opacity:tt},M)),this.graphic.animate(P,M)}ct&&this.graphic.animate(ct,rt(E.options.chart.animation,vt.animation,I.animation)),ft&&ft.hide()}else b&&vt&&(I=It.symbol||k.symbol,ft&&ft.currentSymbol!==I&&(ft=ft.destroy()),ct&&(ft?ft[W?"animate":"attr"]({x:ct.x,y:ct.y}):I&&(k.stateMarkerGraphic=ft=E.renderer.symbol(I,ct.x,ct.y,ct.width,ct.height).add(k.markerGroup),ft.currentSymbol=I)),!E.styledMode&&ft&&"inactive"!==this.state&&ft.attr(k.pointAttribs(this,b))),ft&&(ft[b&&this.isInside?"show":"hide"](),ft.element.point=this,ft.addClass(this.getClassName(),!0));ct=(ft=this.graphic||ft)&&ft.visibility||"inherit",(Q=Q.halo)&&Q.size&&ft&&"hidden"!==ct&&!this.isCluster?(mt||(k.halo=mt=E.renderer.path().add(ft.parentGroup)),mt.show()[W?"animate":"attr"]({d:this.haloPath(Q.size)}),mt.attr({class:"highcharts-halo highcharts-color-"+rt(this.colorIndex,k.colorIndex)+(this.className?" "+this.className:""),visibility:ct,zIndex:-1}),mt.point=this,E.styledMode||mt.attr(R({fill:this.color||k.color,"fill-opacity":Q.opacity},ot.filterUserAttributes(Q.attributes||{})))):mt&&mt.point&&mt.point.haloPath&&mt.animate({d:mt.point.haloPath(0)},null,mt.hide),$(this,"afterSetState",{state:b})}},D.prototype.haloPath=function(b){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-b,this.plotY-b,2*b,2*b)},D}()}),Pt(j,"Core/Pointer.js",[j["Core/Color/Color.js"],j["Core/Globals.js"],j["Core/Tooltip.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt){var Rt=ot.parse,Dt=nt.charts,Ot=nt.noop,J=zt.addEvent,ht=zt.attr,at=zt.css,F=zt.defined,R=zt.extend,$=zt.find,O=zt.fireEvent,V=zt.isNumber,Y=zt.isObject,K=zt.objectEach,dt=zt.offset,g=zt.pick,h=zt.splat;return function(){function rt(T,G){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=T,this.hasDragged=!1,this.options=G,this.init(T,G)}return rt.prototype.applyInactiveState=function(T){var A,G=[];(T||[]).forEach(function(D){G.push(A=D.series),A.linkedParent&&G.push(A.linkedParent),A.linkedSeries&&(G=G.concat(A.linkedSeries)),A.navigatorSeries&&G.push(A.navigatorSeries)}),this.chart.series.forEach(function(D){-1===G.indexOf(D)?D.setState("inactive",!0):D.options.inactiveOtherPoints&&D.setAllPointsToState("inactive")})},rt.prototype.destroy=function(){var T=this;this.eventsToUnbind.forEach(function(G){return G()}),this.eventsToUnbind=[],nt.chartCount||(rt.unbindDocumentMouseUp&&(rt.unbindDocumentMouseUp=rt.unbindDocumentMouseUp()),rt.unbindDocumentTouchEnd&&(rt.unbindDocumentTouchEnd=rt.unbindDocumentTouchEnd())),clearInterval(T.tooltipTimeout),K(T,function(G,A){T[A]=void 0})},rt.prototype.getSelectionMarkerAttrs=function(T,G){var A=this,D={args:{chartX:T,chartY:G},attrs:{},shapeType:"rect"};return O(this,"getSelectionMarkerAttrs",D,function(b){var W=A.chart,k=A.mouseDownX;k=void 0===k?0:k;var P=A.mouseDownY;P=void 0===P?0:P;var Q=A.zoomHor,I=A.zoomVert;(b=b.attrs).x=W.plotLeft,b.y=W.plotTop,b.width=Q?1:W.plotWidth,b.height=I?1:W.plotHeight,Q&&(W=T-k,b.width=Math.abs(W),b.x=(0<W?0:W)+k),I&&(W=G-P,b.height=Math.abs(W),b.y=(0<W?0:W)+P)}),D},rt.prototype.drag=function(T){var G=this.chart,A=G.options.chart,D=G.plotLeft,b=G.plotTop,W=G.plotWidth,k=G.plotHeight,P=this.mouseDownX||0,Q=this.mouseDownY||0,I=Y(A.panning)?A.panning&&A.panning.enabled:A.panning,B=A.panKey&&T[A.panKey+"Key"],vt=T.chartX,Ut=T.chartY,It=this.selectionMarker;It&&It.touch||(vt<D?vt=D:vt>D+W&&(vt=D+W),Ut<b?Ut=b:Ut>b+k&&(Ut=b+k),this.hasDragged=Math.sqrt(Math.pow(P-vt,2)+Math.pow(Q-Ut,2)),10<this.hasDragged&&(D=G.isInsidePlot(P-D,Q-b,{visiblePlotOnly:!0}),vt=(Ut=this.getSelectionMarkerAttrs(vt,Ut)).shapeType,Ut=Ut.attrs,!G.hasCartesianSeries&&!G.mapView||!this.zoomX&&!this.zoomY||!D||B||It||(this.selectionMarker=It=G.renderer[vt](),It.attr({class:"highcharts-selection-marker",zIndex:7}).add(),G.styledMode||It.attr({fill:A.selectionMarkerFill||Rt("#335cad").setOpacity(.25).get()})),It&&It.attr(Ut),D&&!It&&I&&G.pan(T,A.panning)))},rt.prototype.dragStart=function(T){var G=this.chart;G.mouseIsDown=T.type,G.cancelClick=!1,G.mouseDownX=this.mouseDownX=T.chartX,G.mouseDownY=this.mouseDownY=T.chartY},rt.prototype.getSelectionBox=function(T){var G={args:{marker:T},result:{}};return O(this,"getSelectionBox",G,function(A){A.result={x:T.attr?+T.attr("x"):T.x,y:T.attr?+T.attr("y"):T.y,width:T.attr?T.attr("width"):T.width,height:T.attr?T.attr("height"):T.height}}),G.result},rt.prototype.drop=function(T){var G=this,A=this.chart,D=this.hasPinched;if(this.selectionMarker){var b=this.getSelectionBox(this.selectionMarker),W=b.x,k=b.y,P=b.width,Q=b.height,I={originalEvent:T,xAxis:[],yAxis:[],x:W,y:k,width:P,height:Q},B=!!A.mapView;(this.hasDragged||D)&&(A.axes.forEach(function(vt){if(vt.zoomEnabled&&F(vt.min)&&(D||G[{xAxis:"zoomX",yAxis:"zoomY"}[vt.coll]])&&V(W)&&V(k)&&V(P)&&V(Q)){var Ut=vt.horiz,It="touchend"===T.type?vt.minPixelPadding:0,E=vt.toValue((Ut?W:k)+It);Ut=vt.toValue((Ut?W+P:k+Q)-It),I[vt.coll].push({axis:vt,min:Math.min(E,Ut),max:Math.max(E,Ut)}),B=!0}}),B&&O(A,"selection",I,function(vt){A.zoom(R(vt,D?{animation:!1}:null))})),V(A.index)&&(this.selectionMarker=this.selectionMarker.destroy()),D&&this.scaleGroups()}A&&V(A.index)&&(at(A.container,{cursor:A._cursor}),A.cancelClick=10<this.hasDragged,A.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},rt.prototype.findNearestKDPoint=function(T,G,A){var D;return T.forEach(function(b){var W=!(b.noSharedTooltip&&G)&&0>b.options.findNearestPointBy.indexOf("y");if(b=b.searchPoint(A,W),(W=Y(b,!0)&&b.series)&&!(W=!Y(D,!0))){var k=D.dist-b.dist,P=(b.series.group&&b.series.group.zIndex)-(D.series.group&&D.series.group.zIndex);W=0<(0!=(W=D.distX-b.distX)&&G?W:0!==k?k:0!==P?P:D.series.index>b.series.index?-1:1)}W&&(D=b)}),D},rt.prototype.getChartCoordinatesFromPoint=function(T,G){var A=T.series,D=A.xAxis;A=A.yAxis;var b=T.shapeArgs;if(D&&A){var W=g(T.clientX,T.plotX),k=T.plotY||0;return T.isNode&&b&&V(b.x)&&V(b.y)&&(W=b.x,k=b.y),G?{chartX:A.len+A.pos-k,chartY:D.len+D.pos-W}:{chartX:W+D.pos,chartY:k+A.pos}}if(b&&b.x&&b.y)return{chartX:b.x,chartY:b.y}},rt.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var T=this.chart.container,G=dt(T);this.chartPosition={left:G.left,top:G.top,scaleX:1,scaleY:1};var A=T.offsetWidth;return T=T.offsetHeight,2<A&&2<T&&(this.chartPosition.scaleX=G.width/A,this.chartPosition.scaleY=G.height/T),this.chartPosition},rt.prototype.getCoordinates=function(T){var G={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(A){G[A.isXAxis?"xAxis":"yAxis"].push({axis:A,value:A.toValue(T[A.horiz?"chartX":"chartY"])})}),G},rt.prototype.getHoverData=function(T,G,A,D,b,W){var k=[];D=!(!D||!T);var P=function(vt){return vt.visible&&!(!b&&vt.directTouch)&&g(vt.options.enableMouseTracking,!0)},Q={chartX:W?W.chartX:void 0,chartY:W?W.chartY:void 0,shared:b};O(this,"beforeGetHoverData",Q);var I=G&&!G.stickyTracking?[G]:A.filter(function(vt){return vt.stickyTracking&&(Q.filter||P)(vt)}),B=D||!W?T:this.findNearestKDPoint(I,b,W);return G=B&&B.series,B&&(b&&!G.noSharedTooltip?(I=A.filter(function(vt){return Q.filter?Q.filter(vt):P(vt)&&!vt.noSharedTooltip})).forEach(function(vt){var Ut=$(vt.points,function(It){return It.x===B.x&&!It.isNull});Y(Ut)&&(vt.boosted&&vt.boost&&(Ut=vt.boost.getPoint(Ut)),k.push(Ut))}):k.push(B)),O(this,"afterGetHoverData",Q={hoverPoint:B}),{hoverPoint:Q.hoverPoint,hoverSeries:G,hoverPoints:k}},rt.prototype.getPointFromEvent=function(T){T=T.target;for(var G;T&&!G;)G=T.point,T=T.parentNode;return G},rt.prototype.onTrackerMouseOut=function(T){T=T.relatedTarget||T.toElement;var G=this.chart.hoverSeries;this.isDirectTouch=!1,!G||!T||G.stickyTracking||this.inClass(T,"highcharts-tooltip")||this.inClass(T,"highcharts-series-"+G.index)&&this.inClass(T,"highcharts-tracker")||G.onMouseOut()},rt.prototype.inClass=function(T,G){for(var A;T;){if(A=ht(T,"class")){if(-1!==A.indexOf(G))return!0;if(-1!==A.indexOf("highcharts-container"))return!1}T=T.parentElement}},rt.prototype.init=function(T,G){this.options=G,this.chart=T,this.runChartClick=!(!G.chart.events||!G.chart.events.click),this.pinchDown=[],this.lastValidTouch={},Ct&&(T.tooltip=new Ct(T,G.tooltip)),this.setDOMEvents()},rt.prototype.normalize=function(T,G){var A=T.touches,D=A?A.length?A.item(0):g(A.changedTouches,T.changedTouches)[0]:T;return G||(G=this.getChartPosition()),A=D.pageX-G.left,D=D.pageY-G.top,A/=G.scaleX,D/=G.scaleY,R(T,{chartX:Math.round(A),chartY:Math.round(D)})},rt.prototype.onContainerClick=function(T){var G=this.chart,A=G.hoverPoint;T=this.normalize(T);var D=G.plotLeft,b=G.plotTop;G.cancelClick||(A&&this.inClass(T.target,"highcharts-tracker")?(O(A.series,"click",R(T,{point:A})),G.hoverPoint&&A.firePointEvent("click",T)):(R(T,this.getCoordinates(T)),G.isInsidePlot(T.chartX-D,T.chartY-b,{visiblePlotOnly:!0})&&O(G,"click",T)))},rt.prototype.onContainerMouseDown=function(T){var G=1==(1&(T.buttons||T.button));T=this.normalize(T),nt.isFirefox&&0!==T.button&&this.onContainerMouseMove(T),(typeof T.button>"u"||G)&&(this.zoomOption(T),G&&T.preventDefault&&T.preventDefault(),this.dragStart(T))},rt.prototype.onContainerMouseLeave=function(T){var G=Dt[g(rt.hoverChartIndex,-1)],A=this.chart.tooltip;T=this.normalize(T),G&&(T.relatedTarget||T.toElement)&&(G.pointer.reset(),G.pointer.chartPosition=void 0),A&&!A.isHidden&&this.reset()},rt.prototype.onContainerMouseEnter=function(T){delete this.chartPosition},rt.prototype.onContainerMouseMove=function(T){var G=this.chart,A=G.tooltip;T=this.normalize(T),this.setHoverChartIndex(),T.preventDefault||(T.returnValue=!1),("mousedown"===G.mouseIsDown||this.touchSelect(T))&&this.drag(T),G.openMenu||!this.inClass(T.target,"highcharts-tracker")&&!G.isInsidePlot(T.chartX-G.plotLeft,T.chartY-G.plotTop,{visiblePlotOnly:!0})||A&&A.shouldStickOnContact(T)||(this.inClass(T.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(T))},rt.prototype.onDocumentTouchEnd=function(T){var G=Dt[g(rt.hoverChartIndex,-1)];G&&G.pointer.drop(T)},rt.prototype.onContainerTouchMove=function(T){this.touchSelect(T)?this.onContainerMouseMove(T):this.touch(T)},rt.prototype.onContainerTouchStart=function(T){this.touchSelect(T)?this.onContainerMouseDown(T):(this.zoomOption(T),this.touch(T,!0))},rt.prototype.onDocumentMouseMove=function(T){var G=this.chart,A=G.tooltip,D=this.chartPosition;T=this.normalize(T,D),!D||G.isInsidePlot(T.chartX-G.plotLeft,T.chartY-G.plotTop,{visiblePlotOnly:!0})||A&&A.shouldStickOnContact(T)||this.inClass(T.target,"highcharts-tracker")||this.reset()},rt.prototype.onDocumentMouseUp=function(T){var G=Dt[g(rt.hoverChartIndex,-1)];G&&G.pointer.drop(T)},rt.prototype.pinch=function(T){var G=this,A=G.chart,D=G.pinchDown,b=T.touches||[],W=b.length,k=G.lastValidTouch,P=G.hasZoom,Q={},I=1===W&&(G.inClass(T.target,"highcharts-tracker")&&A.runTrackerClick||G.runChartClick),B={},vt=G.chart.tooltip;vt=1===W&&g(vt&&vt.options.followTouchMove,!0);var Ut=G.selectionMarker;1<W?G.initiated=!0:vt&&(G.initiated=!1),P&&G.initiated&&!I&&!1!==T.cancelable&&T.preventDefault(),[].map.call(b,function(It){return G.normalize(It)}),"touchstart"===T.type?([].forEach.call(b,function(It,E){D[E]={chartX:It.chartX,chartY:It.chartY}}),k.x=[D[0].chartX,D[1]&&D[1].chartX],k.y=[D[0].chartY,D[1]&&D[1].chartY],A.axes.forEach(function(It){if(It.zoomEnabled){var E=A.bounds[It.horiz?"h":"v"],U=It.minPixelPadding,mt=It.toPixels(Math.min(g(It.options.min,It.dataMin),It.dataMin)),ct=It.toPixels(Math.max(g(It.options.max,It.dataMax),It.dataMax)),ft=Math.max(mt,ct);E.min=Math.min(It.pos,Math.min(mt,ct)-U),E.max=Math.max(It.pos+It.len,ft+U)}}),G.res=!0):vt?this.runPointActions(G.normalize(T)):D.length&&(O(A,"touchpan",{originalEvent:T},function(){Ut||(G.selectionMarker=Ut=R({destroy:Ot,touch:!0},A.plotBox)),G.pinchTranslate(D,b,Q,Ut,B,k),G.hasPinched=P,G.scaleGroups(Q,B)}),G.res&&(G.res=!1,this.reset(!1,0)))},rt.prototype.pinchTranslate=function(T,G,A,D,b,W){this.zoomHor&&this.pinchTranslateDirection(!0,T,G,A,D,b,W),this.zoomVert&&this.pinchTranslateDirection(!1,T,G,A,D,b,W)},rt.prototype.pinchTranslateDirection=function(T,G,A,D,b,W,k,P){var Q=this.chart,I=T?"x":"y",B=T?"X":"Y",vt="chart"+B,Ut=T?"width":"height",It=Q["plot"+(T?"Left":"Top")],E=Q.inverted,U=Q.bounds[T?"h":"v"],mt=1===G.length,ct=G[0][vt],ft=!mt&&G[1][vt];G=function(){"number"==typeof yt&&20<Math.abs(ct-ft)&&(X=P||Math.abs(St-yt)/Math.abs(ct-ft)),tt=(It-St)/X+ct,M=Q["plot"+(T?"Width":"Height")]/X};var M,tt,X=P||1,St=A[0][vt],yt=!mt&&A[1][vt];if(G(),(A=tt)<U.min){A=U.min;var jt=!0}else A+M>U.max&&(A=U.max-M,jt=!0);jt?(St-=.8*(St-k[I][0]),"number"==typeof yt&&(yt-=.8*(yt-k[I][1])),G()):k[I]=[St,yt],E||(W[I]=tt-It,W[Ut]=M),W=E?1/X:X,b[Ut]=M,b[I]=A,D[E?T?"scaleY":"scaleX":"scale"+B]=X,D["translate"+B]=W*It+(St-W*ct)},rt.prototype.reset=function(T,G){var A=this.chart,D=A.hoverSeries,b=A.hoverPoint,W=A.hoverPoints,k=A.tooltip,P=k&&k.shared?W:b;T&&P&&h(P).forEach(function(Q){Q.series.isCartesian&&typeof Q.plotX>"u"&&(T=!1)}),T?k&&P&&h(P).length&&(k.refresh(P),k.shared&&W?W.forEach(function(Q){Q.setState(Q.state,!0),Q.series.isCartesian&&(Q.series.xAxis.crosshair&&Q.series.xAxis.drawCrosshair(null,Q),Q.series.yAxis.crosshair&&Q.series.yAxis.drawCrosshair(null,Q))}):b&&(b.setState(b.state,!0),A.axes.forEach(function(Q){Q.crosshair&&b.series[Q.coll]===Q&&Q.drawCrosshair(null,b)}))):(b&&b.onMouseOut(),W&&W.forEach(function(Q){Q.setState()}),D&&D.onMouseOut(),k&&k.hide(G),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),A.axes.forEach(function(Q){Q.hideCrosshair()}),this.hoverX=A.hoverPoints=A.hoverPoint=null)},rt.prototype.runPointActions=function(T,G,A){var D=this.chart,b=D.tooltip&&D.tooltip.options.enabled?D.tooltip:void 0,W=!!b&&b.shared,k=G||D.hoverPoint,P=k&&k.series||D.hoverSeries;G=this.getHoverData(k,P,D.series,(!T||"touchmove"!==T.type)&&(!!G||P&&P.directTouch&&this.isDirectTouch),W,T),k=G.hoverPoint;var Q=G.hoverPoints;G=(P=G.hoverSeries)&&P.tooltipOptions.followPointer&&!P.tooltipOptions.split;var I=W&&P&&!P.noSharedTooltip;if(k&&(A||k!==D.hoverPoint||b&&b.isHidden)){if((D.hoverPoints||[]).forEach(function(B){-1===Q.indexOf(B)&&B.setState()}),D.hoverSeries!==P&&P.onMouseOver(),this.applyInactiveState(Q),(Q||[]).forEach(function(B){B.setState("hover")}),D.hoverPoint&&D.hoverPoint.firePointEvent("mouseOut"),!k.series)return;D.hoverPoints=Q,D.hoverPoint=k,k.firePointEvent("mouseOver",void 0,function(){b&&k&&b.refresh(I?Q:k,T)})}else G&&b&&!b.isHidden&&(A=b.getAnchor([{}],T),D.isInsidePlot(A[0],A[1],{visiblePlotOnly:!0})&&b.updatePosition({plotX:A[0],plotY:A[1]}));this.unDocMouseMove||(this.unDocMouseMove=J(D.container.ownerDocument,"mousemove",function(B){var vt=Dt[rt.hoverChartIndex];vt&&vt.pointer.onDocumentMouseMove(B)}),this.eventsToUnbind.push(this.unDocMouseMove)),D.axes.forEach(function(B){var Ut,vt=g((B.crosshair||{}).snap,!0);vt&&((Ut=D.hoverPoint)&&Ut.series[B.coll]===B||(Ut=$(Q,function(It){return It.series&&It.series[B.coll]===B}))),Ut||!vt?B.drawCrosshair(T,Ut):B.hideCrosshair()})},rt.prototype.scaleGroups=function(T,G){var A=this.chart;A.series.forEach(function(D){var b=T||D.getPlotBox();D.group&&(D.xAxis&&D.xAxis.zoomEnabled||A.mapView)&&(D.group.attr(b),D.markerGroup&&(D.markerGroup.attr(b),D.markerGroup.clip(G?A.clipRect:null)),D.dataLabelsGroup&&D.dataLabelsGroup.attr(b))}),A.clipRect.attr(G||A.clipBox)},rt.prototype.setDOMEvents=function(){var T=this,G=this.chart.container,A=G.ownerDocument;G.onmousedown=this.onContainerMouseDown.bind(this),G.onmousemove=this.onContainerMouseMove.bind(this),G.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(J(G,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(J(G,"mouseleave",this.onContainerMouseLeave.bind(this))),rt.unbindDocumentMouseUp||(rt.unbindDocumentMouseUp=J(A,"mouseup",this.onDocumentMouseUp.bind(this)));for(var D=this.chart.renderTo.parentElement;D&&"BODY"!==D.tagName;)this.eventsToUnbind.push(J(D,"scroll",function(){delete T.chartPosition})),D=D.parentElement;nt.hasTouch&&(this.eventsToUnbind.push(J(G,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(J(G,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),rt.unbindDocumentTouchEnd||(rt.unbindDocumentTouchEnd=J(A,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},rt.prototype.setHoverChartIndex=function(){var T=this.chart,G=nt.charts[g(rt.hoverChartIndex,-1)];G&&G!==T&&G.pointer.onContainerMouseLeave({relatedTarget:T.container}),G&&G.mouseIsDown||(rt.hoverChartIndex=T.index)},rt.prototype.touch=function(T,G){var A=this.chart;if(this.setHoverChartIndex(),1===T.touches.length)if(T=this.normalize(T),A.isInsidePlot(T.chartX-A.plotLeft,T.chartY-A.plotTop,{visiblePlotOnly:!0})&&!A.openMenu){if(G&&this.runPointActions(T),"touchmove"===T.type)var b=!!(G=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(G[0].chartX-T.chartX,2)+Math.pow(G[0].chartY-T.chartY,2));g(b,!0)&&this.pinch(T)}else G&&this.reset();else 2===T.touches.length&&this.pinch(T)},rt.prototype.touchSelect=function(T){return!(!this.chart.options.chart.zooming.singleTouch||!T.touches||1!==T.touches.length)},rt.prototype.zoomOption=function(T){var G=this.chart,A=G.options.chart;G=G.inverted;var D=A.zooming.type||"";/touch/.test(T.type)&&(D=g(A.zooming.pinchType,D)),this.zoomX=T=/x/.test(D),this.zoomY=A=/y/.test(D),this.zoomHor=T&&!G||A&&G,this.zoomVert=A&&!G||T&&G,this.hasZoom=T||A},rt}()}),Pt(j,"Core/MSPointer.js",[j["Core/Globals.js"],j["Core/Pointer.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){function zt(){var dt=[];return dt.item=function(g){return this[g]},$(Y,function(g){dt.push({pageX:g.pageX,pageY:g.pageY,target:g.target})}),dt}function Rt(dt,g,h,rt){var T=Ot[nt.hoverChartIndex||NaN];"touch"!==dt.pointerType&&dt.pointerType!==dt.MSPOINTER_TYPE_TOUCH||!T||(T=T.pointer,rt(dt),T[g]({type:h,target:dt.currentTarget,preventDefault:ht,touches:zt()}))}var dt,Dt=this&&this.__extends||(dt=function(g,h){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,T){rt.__proto__=T}||function(rt,T){for(var G in T)T.hasOwnProperty(G)&&(rt[G]=T[G])})(g,h)},function(g,h){function rt(){this.constructor=g}dt(g,h),g.prototype=null===h?Object.create(h):(rt.prototype=h.prototype,new rt)}),Ot=ot.charts,J=ot.doc,ht=ot.noop,at=ot.win,F=Ct.addEvent,R=Ct.css,$=Ct.objectEach,O=Ct.pick,V=Ct.removeEvent,Y={},K=!!at.PointerEvent;return function(dt){function g(){return null!==dt&&dt.apply(this,arguments)||this}return Dt(g,dt),g.isRequired=function(){return!(ot.hasTouch||!at.PointerEvent&&!at.MSPointerEvent)},g.prototype.batchMSEvents=function(h){h(this.chart.container,K?"pointerdown":"MSPointerDown",this.onContainerPointerDown),h(this.chart.container,K?"pointermove":"MSPointerMove",this.onContainerPointerMove),h(J,K?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},g.prototype.destroy=function(){this.batchMSEvents(V),dt.prototype.destroy.call(this)},g.prototype.init=function(h,rt){dt.prototype.init.call(this,h,rt),this.hasZoom&&R(h.container,{"-ms-touch-action":"none","touch-action":"none"})},g.prototype.onContainerPointerDown=function(h){Rt(h,"onContainerTouchStart","touchstart",function(rt){Y[rt.pointerId]={pageX:rt.pageX,pageY:rt.pageY,target:rt.currentTarget}})},g.prototype.onContainerPointerMove=function(h){Rt(h,"onContainerTouchMove","touchmove",function(rt){Y[rt.pointerId]={pageX:rt.pageX,pageY:rt.pageY},Y[rt.pointerId].target||(Y[rt.pointerId].target=rt.currentTarget)})},g.prototype.onDocumentPointerUp=function(h){Rt(h,"onDocumentTouchEnd","touchend",function(rt){delete Y[rt.pointerId]})},g.prototype.setDOMEvents=function(){var h=this.chart.tooltip;dt.prototype.setDOMEvents.call(this),(this.hasZoom||O(h&&h.options.followTouchMove,!0))&&this.batchMSEvents(F)},g}(nt)}),Pt(j,"Core/Legend/Legend.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/FormatUtilities.js"],j["Core/Globals.js"],j["Core/Series/Point.js"],j["Core/Renderer/RendererUtilities.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt,Dt){var Ot=ot.animObject,J=ot.setAnimation,ht=nt.format,at=Ct.marginNames,F=Rt.distribute,R=Dt.addEvent,$=Dt.createElement,O=Dt.css,V=Dt.defined,Y=Dt.discardElement,K=Dt.find,dt=Dt.fireEvent,g=Dt.isNumber,h=Dt.merge,rt=Dt.pick,T=Dt.relativeLength,G=Dt.stableSort,A=Dt.syncTimeout;return function(){function D(b,W){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=b,this.init(b,W)}return D.prototype.init=function(b,W){this.chart=b,this.setOptions(W),W.enabled&&(this.render(),R(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=R(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},D.prototype.setOptions=function(b){var W=rt(b.padding,8);this.options=b,this.chart.styledMode||(this.itemStyle=b.itemStyle,this.itemHiddenStyle=h(this.itemStyle,b.itemHiddenStyle)),this.itemMarginTop=b.itemMarginTop||0,this.itemMarginBottom=b.itemMarginBottom||0,this.padding=W,this.initialItemY=W-5,this.symbolWidth=rt(b.symbolWidth,16),this.pages=[],this.proximate="proximate"===b.layout&&!this.chart.inverted,this.baseline=void 0},D.prototype.update=function(b,W){var k=this.chart;this.setOptions(h(!0,this.options,b)),this.destroy(),k.isDirtyLegend=k.isDirtyBox=!0,rt(W,!0)&&k.redraw(),dt(this,"afterUpdate")},D.prototype.colorizeItem=function(b,W){var k=b.legendItem||{},P=k.group,Q=k.label,I=k.line;if(k=k.symbol,P&&P[W?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var B=this.options;P=this.itemHiddenStyle.color,B=W?B.itemStyle.color:P;var vt=W&&b.color||P,Ut=b.options&&b.options.marker,It={fill:vt};Q&&Q.css({fill:B,color:B}),I&&I.attr({stroke:vt}),k&&(Ut&&k.isMarker&&(It=b.pointAttribs(),W||(It.stroke=It.fill=P)),k.attr(It))}dt(this,"afterColorizeItem",{item:b,visible:W})},D.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},D.prototype.positionItem=function(b){var W=this,k=b.legendItem||{},P=k.group,Q=k.x;Q=void 0===Q?0:Q,k=void 0===(k=k.y)?0:k;var I=this.options,B=I.symbolPadding,vt=!I.rtl;I=b.checkbox,P&&P.element&&(B={translateX:vt?Q:this.legendWidth-Q-2*B-4,translateY:k},P[V(P.translateY)?"animate":"attr"](B,void 0,function(){dt(W,"afterPositionItem",{item:b})})),I&&(I.x=Q,I.y=k)},D.prototype.destroyItem=function(b){for(var W=b.checkbox,k=b.legendItem||{},P=0,Q=["group","label","line","symbol"];P<Q.length;P++){var I=Q[P];k[I]&&(k[I]=k[I].destroy())}W&&Y(W),b.legendItem=void 0},D.prototype.destroy=function(){for(var b=0,W=this.getAllItems();b<W.length;b++)this.destroyItem(W[b]);for(b=0,W="clipRect up down pager nav box title group".split(" ");b<W.length;b++){var k=W[b];this[k]&&(this[k]=this[k].destroy())}this.display=null},D.prototype.positionCheckboxes=function(){var b=this.group&&this.group.alignAttr,W=this.clipHeight||this.legendHeight,k=this.titleHeight;if(b){var P=b.translateY;this.allItems.forEach(function(Q){var I=Q.checkbox;if(I){var B=P+k+I.y+(this.scrollOffset||0)+3;O(I,{left:b.translateX+Q.checkboxOffset+I.x-20+"px",top:B+"px",display:this.proximate||B>P-6&&B<P+W-6?"":"none"})}},this)}},D.prototype.renderTitle=function(){var b=this.options,W=this.padding,k=b.title,P=0;k.text&&(this.title||(this.title=this.chart.renderer.label(k.text,W-3,W-4,void 0,void 0,void 0,b.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(k.style),this.title.add(this.group)),k.width||this.title.css({width:this.maxLegendWidth+"px"}),P=(b=this.title.getBBox()).height,this.offsetWidth=b.width,this.contentGroup.attr({translateY:P})),this.titleHeight=P},D.prototype.setText=function(b){var W=this.options;b.legendItem.label.attr({text:W.labelFormat?ht(W.labelFormat,b,this.chart):W.labelFormatter.call(b)})},D.prototype.renderItem=function(b){var W=b.legendItem=b.legendItem||{},k=this.chart,P=k.renderer,Q=this.options,I=this.symbolWidth,B=Q.symbolPadding||0,vt=this.itemStyle,Ut=this.itemHiddenStyle,It="horizontal"===Q.layout?rt(Q.itemDistance,20):0,E=!Q.rtl,U=!b.series,mt=!U&&b.series.drawLegendSymbol?b.series:b,ct=mt.options,ft=this.createCheckboxForItem&&ct&&ct.showCheckbox,M=Q.useHTML,tt=b.options.className,X=W.label;ct=I+B+It+(ft?20:0),X||(W.group=P.g("legend-item").addClass("highcharts-"+mt.type+"-series highcharts-color-"+b.colorIndex+(tt?" "+tt:"")+(U?" highcharts-series-"+b.index:"")).attr({zIndex:1}).add(this.scrollGroup),W.label=X=P.text("",E?I+B:-B,this.baseline||0,M),k.styledMode||X.css(h(b.visible?vt:Ut)),X.attr({align:E?"left":"right",zIndex:2}).add(W.group),this.baseline||(this.fontMetrics=P.fontMetrics(k.styledMode?12:vt.fontSize,X),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,X.attr("y",this.baseline),this.symbolHeight=Q.symbolHeight||this.fontMetrics.f,Q.squareSymbol&&(this.symbolWidth=rt(Q.symbolWidth,Math.max(this.symbolHeight,16)),ct=this.symbolWidth+B+It+(ft?20:0),E&&X.attr("x",this.symbolWidth+B))),mt.drawLegendSymbol(this,b),this.setItemEvents&&this.setItemEvents(b,X,M)),ft&&!b.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(b),this.colorizeItem(b,b.visible),!k.styledMode&&vt.width||X.css({width:(Q.itemWidth||this.widthOption||k.spacingBox.width)-ct+"px"}),this.setText(b),k=X.getBBox(),P=this.fontMetrics&&this.fontMetrics.h||0,b.itemWidth=b.checkboxOffset=Q.itemWidth||W.labelWidth||k.width+ct,this.maxItemWidth=Math.max(this.maxItemWidth,b.itemWidth),this.totalItemWidth+=b.itemWidth,this.itemHeight=b.itemHeight=Math.round(W.labelHeight||(k.height>1.5*P?k.height:P))},D.prototype.layoutItem=function(b){var W=this.options,k=this.padding,P="horizontal"===W.layout,Q=b.itemHeight,I=this.itemMarginBottom,B=this.itemMarginTop,vt=P?rt(W.itemDistance,20):0,Ut=this.maxLegendWidth;W=W.alignColumns&&this.totalItemWidth>Ut?this.maxItemWidth:b.itemWidth;var It=b.legendItem||{};P&&this.itemX-k+W>Ut&&(this.itemX=k,this.lastLineHeight&&(this.itemY+=B+this.lastLineHeight+I),this.lastLineHeight=0),this.lastItemY=B+this.itemY+I,this.lastLineHeight=Math.max(Q,this.lastLineHeight),It.x=this.itemX,It.y=this.itemY,P?this.itemX+=W:(this.itemY+=B+Q+I,this.lastLineHeight=Q),this.offsetWidth=this.widthOption||Math.max((P?this.itemX-k-(b.checkbox?0:vt):W)+k,this.offsetWidth)},D.prototype.getAllItems=function(){var b=[];return this.chart.series.forEach(function(W){var k=W&&W.options;W&&rt(k.showInLegend,!V(k.linkedTo)&&void 0,!0)&&(b=b.concat((W.legendItem||{}).labels||("point"===k.legendType?W.data:W)))}),dt(this,"afterGetAllItems",{allItems:b}),b},D.prototype.getAlignment=function(){var b=this.options;return this.proximate?b.align.charAt(0)+"tv":b.floating?"":b.align.charAt(0)+b.verticalAlign.charAt(0)+b.layout.charAt(0)},D.prototype.adjustMargins=function(b,W){var k=this.chart,P=this.options,Q=this.getAlignment();Q&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(I,B){I.test(Q)&&!V(b[B])&&(k[at[B]]=Math.max(k[at[B]],k.legend[(B+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][B]*P[B%2?"x":"y"]+rt(P.margin,12)+W[B]+(k.titleOffset[B]||0)))})},D.prototype.proximatePositions=function(){var b=this.chart,W=[],k="left"===this.options.align;this.allItems.forEach(function(vt){var Ut,It=k;if(vt.yAxis){vt.xAxis.options.reversed&&(It=!It),vt.points&&(Ut=K(It?vt.points:vt.points.slice(0).reverse(),function(U){return g(U.plotY)})),It=this.itemMarginTop+vt.legendItem.label.getBBox().height+this.itemMarginBottom;var E=vt.yAxis.top-b.plotTop;vt.visible?(Ut=Ut?Ut.plotY:vt.yAxis.height,Ut+=E-.3*It):Ut=E+vt.yAxis.height,W.push({target:Ut,size:It,item:vt})}},this);for(var Q=0,I=F(W,b.plotHeight);Q<I.length;Q++){var B=I[Q];B.pos&&((B.item.legendItem||{}).y=b.plotTop-b.spacing[0]+B.pos)}},D.prototype.render=function(){var b=this.chart,W=b.renderer,k=this.options,P=this.padding,Q=this.getAllItems(),I=this.group,B=this.box;this.itemX=P,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=T(k.width,b.spacingBox.width-P);var vt=b.spacingBox.width-2*P-k.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(vt/=2),this.maxLegendWidth=this.widthOption||vt,I||(this.group=I=W.g("legend").addClass(k.className||"").attr({zIndex:7}).add(),this.contentGroup=W.g().attr({zIndex:1}).add(I),this.scrollGroup=W.g().add(this.contentGroup)),this.renderTitle(),G(Q,function(It,E){return(It.options&&It.options.legendIndex||0)-(E.options&&E.options.legendIndex||0)}),k.reversed&&Q.reverse(),this.allItems=Q,this.display=vt=!!Q.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,Q.forEach(this.renderItem,this),Q.forEach(this.layoutItem,this),Q=(this.widthOption||this.offsetWidth)+P;var Ut=this.lastItemY+this.lastLineHeight+this.titleHeight;Ut=this.handleOverflow(Ut),Ut+=P,B||(this.box=B=W.rect().addClass("highcharts-legend-box").attr({r:k.borderRadius}).add(I)),b.styledMode||B.attr({stroke:k.borderColor,"stroke-width":k.borderWidth||0,fill:k.backgroundColor||"none"}).shadow(k.shadow),0<Q&&0<Ut&&B[B.placed?"animate":"attr"](B.crisp.call({},{x:0,y:0,width:Q,height:Ut},B.strokeWidth())),I[vt?"show":"hide"](),b.styledMode&&"none"===I.getStyle("display")&&(Q=Ut=0),this.legendWidth=Q,this.legendHeight=Ut,vt&&this.align(),this.proximate||this.positionItems(),dt(this,"afterRender")},D.prototype.align=function(b){void 0===b&&(b=this.chart.spacingBox);var W=this.chart,k=this.options,P=b.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<W.titleOffset[0]?P+=W.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<W.titleOffset[2]&&(P-=W.titleOffset[2]),P!==b.y&&(b=h(b,{y:P})),W.hasRendered||(this.group.placed=!1),this.group.align(h(k,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":k.verticalAlign}),!0,b)},D.prototype.handleOverflow=function(b){var tt,X,St,W=this,k=this.chart,P=k.renderer,Q=this.options,I=Q.y,B="top"===Q.verticalAlign,vt=this.padding,Ut=Q.maxHeight,It=Q.navigation,E=rt(It.animation,!0),U=It.arrowSize||12,mt=this.pages,ct=this.allItems,ft=function(kt){"number"==typeof kt?jt.attr({height:kt}):jt&&(W.clipRect=jt.destroy(),W.contentGroup.clip()),W.contentGroup.div&&(W.contentGroup.div.style.clip=kt?"rect("+vt+"px,9999px,"+(vt+kt)+"px,0)":"auto")},M=function(kt){return W[kt]=P.circle(0,0,1.3*U).translate(U/2,U/2).add(yt),k.styledMode||W[kt].attr("fill","rgba(0,0,0,0.0001)"),W[kt]};I=k.spacingBox.height+(B?-I:I)-vt;var yt=this.nav,jt=this.clipRect;return"horizontal"!==Q.layout||"middle"===Q.verticalAlign||Q.floating||(I/=2),Ut&&(I=Math.min(I,Ut)),mt.length=0,b&&0<I&&b>I&&!1!==It.enabled?(this.clipHeight=tt=Math.max(I-20-this.titleHeight-vt,0),this.currentPage=rt(this.currentPage,1),this.fullHeight=b,ct.forEach(function(kt,ie){kt=(St=kt.legendItem||{}).y||0;var pe=Math.round(St.label.getBBox().height),Fe=mt.length;(!Fe||kt-mt[Fe-1]>tt&&(X||kt)!==mt[Fe-1])&&(mt.push(X||kt),Fe++),St.pageIx=Fe-1,X&&((ct[ie-1].legendItem||{}).pageIx=Fe-1),ie===ct.length-1&&kt+pe-mt[Fe-1]>tt&&pe<=tt&&(mt.push(kt),St.pageIx=Fe),kt!==X&&(X=kt)}),jt||(jt=W.clipRect=P.clipRect(0,vt,9999,0),W.contentGroup.clip(jt)),ft(tt),yt||(this.nav=yt=P.g().attr({zIndex:1}).add(this.group),this.up=P.symbol("triangle",0,0,U,U).add(yt),M("upTracker").on("click",function(){W.scroll(-1,E)}),this.pager=P.text("",15,10).addClass("highcharts-legend-navigation"),!k.styledMode&&It.style&&this.pager.css(It.style),this.pager.add(yt),this.down=P.symbol("triangle-down",0,0,U,U).add(yt),M("downTracker").on("click",function(){W.scroll(1,E)})),W.scroll(0),b=I):yt&&(ft(),this.nav=yt.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),b},D.prototype.scroll=function(b,W){var k=this,P=this.chart,Q=this.pages,I=Q.length,B=this.clipHeight,vt=this.options.navigation,Ut=this.pager,It=this.padding,E=this.currentPage+b;E>I&&(E=I),0<E&&(typeof W<"u"&&J(W,P),this.nav.attr({translateX:It,translateY:B+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(U){U.attr({class:1===E?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),Ut.attr({text:E+"/"+I}),[this.down,this.downTracker].forEach(function(U){U.attr({x:18+this.pager.getBBox().width,class:E===I?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),P.styledMode||(this.up.attr({fill:1===E?vt.inactiveColor:vt.activeColor}),this.upTracker.css({cursor:1===E?"default":"pointer"}),this.down.attr({fill:E===I?vt.inactiveColor:vt.activeColor}),this.downTracker.css({cursor:E===I?"default":"pointer"})),this.scrollOffset=-Q[E-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=E,this.positionCheckboxes(),b=Ot(rt(W,P.renderer.globalAnimation,!0)),A(function(){dt(k,"afterScroll",{currentPage:E})},b.duration))},D.prototype.setItemEvents=function(b,W,k){var P=this,Q=b.legendItem||{},I=P.chart.renderer.boxWrapper,B=b instanceof zt,vt="highcharts-legend-"+(B?"point":"series")+"-active",Ut=P.chart.styledMode,It=function(U){P.allItems.forEach(function(mt){b!==mt&&[mt].concat(mt.linkedSeries||[]).forEach(function(ct){ct.setState(U,!B)})})},E=0;for(k=k?[W,Q.symbol]:[Q.group];E<k.length;E++)(Q=k[E])&&Q.on("mouseover",function(){b.visible&&It("inactive"),b.setState("hover"),b.visible&&I.addClass(vt),Ut||W.css(P.options.itemHoverStyle)}).on("mouseout",function(){P.chart.styledMode||W.css(h(b.visible?P.itemStyle:P.itemHiddenStyle)),It(""),I.removeClass(vt),b.setState()}).on("click",function(U){var mt=function(){b.setVisible&&b.setVisible(),It(b.visible?"inactive":"")};I.removeClass(vt),U={browserEvent:U},b.firePointEvent?b.firePointEvent("legendItemClick",U,mt):dt(b,"legendItemClick",U,mt)})},D.prototype.createCheckboxForItem=function(b){b.checkbox=$("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:b.selected,defaultChecked:b.selected},this.options.itemCheckboxStyle,this.chart.container),R(b.checkbox,"click",function(W){dt(b.series||b,"checkboxClick",{checked:W.target.checked,item:b},function(){b.select()})})},D}()}),Pt(j,"Core/Series/SeriesRegistry.js",[j["Core/Globals.js"],j["Core/Defaults.js"],j["Core/Series/Point.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt){var J,Rt=nt.defaultOptions,Dt=zt.extendClass,Ot=zt.merge;return function(ht){function at(F,R){var $=Rt.plotOptions||{},O=R.defaultOptions,V=R.prototype;V.type=F,V.pointClass||(V.pointClass=Ct),O&&($[F]=O),ht.seriesTypes[F]=R}ht.seriesTypes=ot.seriesTypes,ht.registerSeriesType=at,ht.seriesType=function(F,R,$,O,V){var Y=Rt.plotOptions||{};return Y[F]=Ot(Y[R=R||""],$),at(F,Dt(ht.seriesTypes[R]||function(){},O)),ht.seriesTypes[F].prototype.type=F,V&&(ht.seriesTypes[F].prototype.pointClass=Dt(Ct,V)),ht.seriesTypes[F]}}(J||(J={})),J}),Pt(j,"Core/Chart/Chart.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/Axis/Axis.js"],j["Core/Defaults.js"],j["Core/FormatUtilities.js"],j["Core/Foundation.js"],j["Core/Globals.js"],j["Core/Legend/Legend.js"],j["Core/MSPointer.js"],j["Core/Pointer.js"],j["Core/Renderer/RendererRegistry.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Renderer/SVG/SVGRenderer.js"],j["Core/Time.js"],j["Core/Utilities.js"],j["Core/Renderer/HTML/AST.js"]],function(ot,nt,Ct,zt,Rt,Dt,Ot,J,ht,at,F,R,$,O,V){var Y=ot.animate,K=ot.animObject,dt=ot.setAnimation,g=Ct.defaultOptions,h=Ct.defaultTime,rt=zt.numberFormat,T=Rt.registerEventOptions,G=Dt.charts,A=Dt.doc,D=Dt.marginNames,b=Dt.svg,W=Dt.win,k=F.seriesTypes,P=O.addEvent,Q=O.attr,I=O.cleanRecursively,B=O.createElement,vt=O.css,Ut=O.defined,It=O.discardElement,E=O.erase,U=O.error,mt=O.extend,ct=O.find,ft=O.fireEvent,M=O.getStyle,tt=O.isArray,X=O.isNumber,St=O.isObject,yt=O.isString,jt=O.merge,kt=O.objectEach,ie=O.pick,pe=O.pInt,Fe=O.relativeLength,je=O.removeEvent,Ce=O.splat,$t=O.syncTimeout,de=O.uniqueKey;return ot=function(){function Qt(Et,Lt,ne){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Et,Lt,ne)}return Qt.chart=function(Et,Lt,ne){return new Qt(Et,Lt,ne)},Qt.prototype.getArgs=function(Et,Lt,ne){yt(Et)||Et.nodeName?(this.renderTo=Et,this.init(Lt,ne)):this.init(Et,Lt)},Qt.prototype.init=function(Et,Lt){var ne=Et.plotOptions||{};ft(this,"init",{args:arguments},function(){var re=jt(g,Et),le=re.chart;kt(re.plotOptions,function(Ue,Ke){St(Ue)&&(Ue.tooltip=ne[Ke]&&jt(ne[Ke].tooltip)||void 0)}),re.tooltip.userOptions=Et.chart&&Et.chart.forExport&&Et.tooltip.userOptions||Et.tooltip,this.userOptions=Et,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Lt,this.isResizing=0;var ee=le.zooming=le.zooming||{};Et.chart&&!Et.chart.zooming&&(ee.resetButton=le.resetZoomButton),ee.key=ie(ee.key,le.zoomKey),ee.pinchType=ie(ee.pinchType,le.pinchType),ee.singleTouch=ie(ee.singleTouch,le.zoomBySingleTouch),ee.type=ie(ee.type,le.zoomType),this.options=re,this.axes=[],this.series=[],this.time=Et.time&&Object.keys(Et.time).length?new $(Et.time):Dt.time,this.numberFormatter=le.numberFormatter||rt,this.styledMode=le.styledMode,this.hasCartesianSeries=le.showAxes,this.index=G.length,G.push(this),Dt.chartCount++,T(this,le),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,ft(this,"afterInit"),this.firstRender()})},Qt.prototype.initSeries=function(Et){var Lt=this.options.chart,ne=k[Lt=Et.type||Lt.type||Lt.defaultSeriesType];return ne||U(17,!0,this,{missingModuleFor:Lt}),"function"==typeof(Lt=new ne).init&&Lt.init(this,Et),Lt},Qt.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(Et){Et.points||Et.data||!Et.enabledDataSorting||Et.setData(Et.options.data,!1)})},Qt.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(Et,Lt){return Et.linkedSeries.length||Lt.linkedSeries.length?Lt.linkedSeries.length-Et.linkedSeries.length:0})},Qt.prototype.orderSeries=function(Et){var Lt=this.series;Et=Et||0;for(var ne=Lt.length;Et<ne;++Et)Lt[Et]&&(Lt[Et].index=Et,Lt[Et].name=Lt[Et].getName())},Qt.prototype.isInsidePlot=function(Et,Lt,ne){void 0===ne&&(ne={});var re=this.inverted,le=this.plotBox,ee=this.plotLeft,Ue=this.plotTop,Ke=this.scrollablePlotBox,Ii=0,ai=0;ne.visiblePlotOnly&&this.scrollingContainer&&(Ii=(ai=this.scrollingContainer).scrollLeft,ai=ai.scrollTop);var li=ne.series;if(le=ne.visiblePlotOnly&&Ke||le,Et={x:Ke=ne.inverted?Lt:Et,y:Lt=ne.inverted?Et:Lt,isInsidePlot:!0,options:ne},!ne.ignoreX){var Pi=li&&(re&&!this.polar?li.yAxis:li.xAxis)||{pos:ee,len:1/0};(Ke=ne.paneCoordinates?Pi.pos+Ke:ee+Ke)>=Math.max(Ii+ee,Pi.pos)&&Ke<=Math.min(Ii+ee+le.width,Pi.pos+Pi.len)||(Et.isInsidePlot=!1)}return!ne.ignoreY&&Et.isInsidePlot&&(re=ne.axis&&!ne.axis.isXAxis&&ne.axis||li&&(re?li.xAxis:li.yAxis)||{pos:Ue,len:1/0},(ne=ne.paneCoordinates?re.pos+Lt:Ue+Lt)>=Math.max(ai+Ue,re.pos)&&ne<=Math.min(ai+Ue+le.height,re.pos+re.len)||(Et.isInsidePlot=!1)),ft(this,"afterIsInsidePlot",Et),Et.isInsidePlot},Qt.prototype.redraw=function(Et){ft(this,"beforeRedraw");var Lt=this.hasCartesianSeries?this.axes:this.colorAxis||[],ne=this.series,re=this.pointer,le=this.legend,ee=this.userOptions.legend,Ue=this.renderer,Ke=Ue.isHidden(),Ii=[],ai=this.isDirtyBox,li=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),dt(!!this.hasRendered&&Et,this),Ke&&this.temporaryDisplay(),this.layOutTitles(),Et=ne.length;Et--;){var Pi=ne[Et];if(Pi.options.stacking||Pi.options.centerInCategory){var hi=!0;if(Pi.isDirty){var Di=!0;break}}}if(Di)for(Et=ne.length;Et--;)(Pi=ne[Et]).options.stacking&&(Pi.isDirty=!0);ne.forEach(function(bi){bi.isDirty&&("point"===bi.options.legendType?("function"==typeof bi.updateTotals&&bi.updateTotals(),li=!0):ee&&(ee.labelFormatter||ee.labelFormat)&&(li=!0)),bi.isDirtyData&&ft(bi,"updatedData")}),li&&le&&le.options.enabled&&(le.render(),this.isDirtyLegend=!1),hi&&this.getStacks(),Lt.forEach(function(bi){bi.updateNames(),bi.setScale()}),this.getMargins(),Lt.forEach(function(bi){bi.isDirty&&(ai=!0)}),Lt.forEach(function(bi){var On=bi.min+","+bi.max;bi.extKey!==On&&(bi.extKey=On,Ii.push(function(){ft(bi,"afterSetExtremes",mt(bi.eventArgs,bi.getExtremes())),delete bi.eventArgs})),(ai||hi)&&bi.redraw()}),ai&&this.drawChartBox(),ft(this,"predraw"),ne.forEach(function(bi){(ai||bi.isDirty)&&bi.visible&&bi.redraw(),bi.isDirtyData=!1}),re&&re.reset(!0),Ue.draw(),ft(this,"redraw"),ft(this,"render"),Ke&&this.temporaryDisplay(!0),Ii.forEach(function(bi){bi.call()})},Qt.prototype.get=function(Et){function Lt(ee){return ee.id===Et||ee.options&&ee.options.id===Et}for(var ne=this.series,re=ct(this.axes,Lt)||ct(this.series,Lt),le=0;!re&&le<ne.length;le++)re=ct(ne[le].points||[],Lt);return re},Qt.prototype.getAxes=function(){var Et=this,Lt=this.options,ne=Lt.xAxis=Ce(Lt.xAxis||{});Lt=Lt.yAxis=Ce(Lt.yAxis||{}),ft(this,"getAxes"),ne.forEach(function(re,le){re.index=le,re.isX=!0}),Lt.forEach(function(re,le){re.index=le}),ne.concat(Lt).forEach(function(re){new nt(Et,re)}),ft(this,"afterGetAxes")},Qt.prototype.getSelectedPoints=function(){return this.series.reduce(function(Et,Lt){return Lt.getPointsCollection().forEach(function(ne){ie(ne.selectedStaging,ne.selected)&&Et.push(ne)}),Et},[])},Qt.prototype.getSelectedSeries=function(){return this.series.filter(function(Et){return Et.selected})},Qt.prototype.setTitle=function(Et,Lt,ne){this.applyDescription("title",Et),this.applyDescription("subtitle",Lt),this.applyDescription("caption",void 0),this.layOutTitles(ne)},Qt.prototype.applyDescription=function(Et,Lt){var ne=this,re="title"===Et?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};re=this.options[Et]=jt(!this.styledMode&&{style:re},this.options[Et],Lt);var le=this[Et];le&&Lt&&(this[Et]=le=le.destroy()),re&&!le&&((le=this.renderer.text(re.text,0,0,re.useHTML).attr({align:re.align,class:"highcharts-"+Et,zIndex:re.zIndex||4}).add()).update=function(ee){ne[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Et]](ee)},this.styledMode||le.css(re.style),this[Et]=le)},Qt.prototype.layOutTitles=function(Et){var Lt=[0,0,0],ne=this.renderer,re=this.spacingBox;["title","subtitle","caption"].forEach(function(ee){var ai,Ue=this[ee],Ke=this.options[ee],Ii=Ke.verticalAlign||"top";if(ee="title"===ee?"top"===Ii?-3:0:"top"===Ii?Lt[0]+2:0,Ue){this.styledMode||(ai=Ke.style&&Ke.style.fontSize),ai=ne.fontMetrics(ai,Ue).b,Ue.css({width:(Ke.width||re.width+(Ke.widthAdjust||0))+"px"});var li=Math.round(Ue.getBBox(Ke.useHTML).height);Ue.align(mt({y:"bottom"===Ii?ai:ee+ai,height:li},Ke),!1,"spacingBox"),Ke.floating||("top"===Ii?Lt[0]=Math.ceil(Lt[0]+li):"bottom"===Ii&&(Lt[2]=Math.ceil(Lt[2]+li)))}},this),Lt[0]&&"top"===(this.options.title.verticalAlign||"top")&&(Lt[0]+=this.options.title.margin),Lt[2]&&"bottom"===this.options.caption.verticalAlign&&(Lt[2]+=this.options.caption.margin);var le=!this.titleOffset||this.titleOffset.join(",")!==Lt.join(",");this.titleOffset=Lt,ft(this,"afterLayOutTitles"),!this.isDirtyBox&&le&&(this.isDirtyBox=this.isDirtyLegend=le,this.hasRendered&&ie(Et,!0)&&this.isDirtyBox&&this.redraw())},Qt.prototype.getChartSize=function(){var Et=this.options.chart,Lt=Et.width;Et=Et.height;var ne=this.renderTo;Ut(Lt)||(this.containerWidth=M(ne,"width")),Ut(Et)||(this.containerHeight=M(ne,"height")),this.chartWidth=Math.max(0,Lt||this.containerWidth||600),this.chartHeight=Math.max(0,Fe(Et,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},Qt.prototype.temporaryDisplay=function(Et){var Lt=this.renderTo;if(Et)for(;Lt&&Lt.style;)Lt.hcOrigStyle&&(vt(Lt,Lt.hcOrigStyle),delete Lt.hcOrigStyle),Lt.hcOrigDetached&&(A.body.removeChild(Lt),Lt.hcOrigDetached=!1),Lt=Lt.parentNode;else for(;Lt&&Lt.style&&(A.body.contains(Lt)||Lt.parentNode||(Lt.hcOrigDetached=!0,A.body.appendChild(Lt)),("none"===M(Lt,"display",!1)||Lt.hcOricDetached)&&(Lt.hcOrigStyle={display:Lt.style.display,height:Lt.style.height,overflow:Lt.style.overflow},Et={display:"block",overflow:"hidden"},Lt!==this.renderTo&&(Et.height=0),vt(Lt,Et),Lt.offsetWidth||Lt.style.setProperty("display","block","important")),(Lt=Lt.parentNode)!==A.body););},Qt.prototype.setClassName=function(Et){this.container.className="highcharts-container "+(Et||"")},Qt.prototype.getContainer=function(){var re,Et=this.options,Lt=Et.chart,ne=de(),le=this.renderTo;le||(this.renderTo=le=Lt.renderTo),yt(le)&&(this.renderTo=le=A.getElementById(le)),le||U(13,!0,this);var ee=pe(Q(le,"data-highcharts-chart"));X(ee)&&G[ee]&&G[ee].hasRendered&&G[ee].destroy(),Q(le,"data-highcharts-chart",this.index),le.innerHTML=V.emptyHTML,Lt.skipClone||le.offsetWidth||this.temporaryDisplay(),this.getChartSize(),ee=this.chartWidth;var Ue=this.chartHeight;if(vt(le,{overflow:"hidden"}),this.styledMode||(re=mt({position:"relative",overflow:"hidden",width:ee+"px",height:Ue+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Lt.style||{})),this.container=ne=B("div",{id:ne},re,le),this._cursor=ne.style.cursor,this.renderer=new(Lt.renderer||!b?at.getRendererType(Lt.renderer):R)(ne,ee,Ue,void 0,Lt.forExport,Et.exporting&&Et.exporting.allowHTML,this.styledMode),dt(void 0,this),this.setClassName(Lt.className),this.styledMode)for(var Ke in Et.defs)this.renderer.definition(Et.defs[Ke]);else this.renderer.setStyle(Lt.style);this.renderer.chartIndex=this.index,ft(this,"afterGetContainer")},Qt.prototype.getMargins=function(Et){var Lt=this.spacing,ne=this.margin,re=this.titleOffset;this.resetMargins(),re[0]&&!Ut(ne[0])&&(this.plotTop=Math.max(this.plotTop,re[0]+Lt[0])),re[2]&&!Ut(ne[2])&&(this.marginBottom=Math.max(this.marginBottom,re[2]+Lt[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ne,Lt),ft(this,"getMargins"),Et||this.getAxisMargins()},Qt.prototype.getAxisMargins=function(){var Et=this,Lt=Et.axisOffset=[0,0,0,0],ne=Et.colorAxis,re=Et.margin,le=function(ee){ee.forEach(function(Ue){Ue.visible&&Ue.getOffset()})};Et.hasCartesianSeries?le(Et.axes):ne&&ne.length&&le(ne),D.forEach(function(ee,Ue){Ut(re[Ue])||(Et[ee]+=Lt[Ue])}),Et.setChartSize()},Qt.prototype.reflow=function(Et){var Lt=this,ne=Lt.options.chart,re=Lt.renderTo,le=Ut(ne.width)&&Ut(ne.height),ee=ne.width||M(re,"width");ne=ne.height||M(re,"height"),re=Et?Et.target:W,delete Lt.pointer.chartPosition,!le&&!Lt.isPrinting&&ee&&ne&&(re===W||re===A)&&((ee!==Lt.containerWidth||ne!==Lt.containerHeight)&&(O.clearTimeout(Lt.reflowTimeout),Lt.reflowTimeout=$t(function(){Lt.container&&Lt.setSize(void 0,void 0,!1)},Et?100:0)),Lt.containerWidth=ee,Lt.containerHeight=ne)},Qt.prototype.setReflow=function(Et){var Lt=this;!1===Et||this.unbindReflow?!1===Et&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=P(W,"resize",function(ne){Lt.options&&Lt.reflow(ne)}),P(this,"destroy",this.unbindReflow))},Qt.prototype.setSize=function(Et,Lt,ne){var re=this,le=re.renderer;re.isResizing+=1,dt(ne,re),ne=le.globalAnimation,re.oldChartHeight=re.chartHeight,re.oldChartWidth=re.chartWidth,typeof Et<"u"&&(re.options.chart.width=Et),typeof Lt<"u"&&(re.options.chart.height=Lt),re.getChartSize(),re.styledMode||(ne?Y:vt)(re.container,{width:re.chartWidth+"px",height:re.chartHeight+"px"},ne),re.setChartSize(!0),le.setSize(re.chartWidth,re.chartHeight,ne),re.axes.forEach(function(ee){ee.isDirty=!0,ee.setScale()}),re.isDirtyLegend=!0,re.isDirtyBox=!0,re.layOutTitles(),re.getMargins(),re.redraw(ne),re.oldChartHeight=null,ft(re,"resize"),$t(function(){re&&ft(re,"endResize",null,function(){--re.isResizing})},K(ne).duration)},Qt.prototype.setChartSize=function(Et){var Ii,ai,li,Pi,Lt=this.inverted,ne=this.renderer,re=this.chartWidth,le=this.chartHeight,ee=this.options.chart,Ue=this.spacing,Ke=this.clipOffset;this.plotLeft=Ii=Math.round(this.plotLeft),this.plotTop=ai=Math.round(this.plotTop),this.plotWidth=li=Math.max(0,Math.round(re-Ii-this.marginRight)),this.plotHeight=Pi=Math.max(0,Math.round(le-ai-this.marginBottom)),this.plotSizeX=Lt?Pi:li,this.plotSizeY=Lt?li:Pi,this.plotBorderWidth=ee.plotBorderWidth||0,this.spacingBox=ne.spacingBox={x:Ue[3],y:Ue[0],width:re-Ue[3]-Ue[1],height:le-Ue[0]-Ue[2]},this.plotBox=ne.plotBox={x:Ii,y:ai,width:li,height:Pi},Lt=2*Math.floor(this.plotBorderWidth/2),re=Math.ceil(Math.max(Lt,Ke[3])/2),le=Math.ceil(Math.max(Lt,Ke[0])/2),this.clipBox={x:re,y:le,width:Math.floor(this.plotSizeX-Math.max(Lt,Ke[1])/2-re),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Lt,Ke[2])/2-le))},Et||(this.axes.forEach(function(hi){hi.setAxisSize(),hi.setAxisTranslation()}),ne.alignElements()),ft(this,"afterSetChartSize",{skipAxes:Et})},Qt.prototype.resetMargins=function(){ft(this,"resetMargins");var Et=this,Lt=Et.options.chart;["margin","spacing"].forEach(function(ne){var re=Lt[ne],le=St(re)?re:[re,re,re,re];["Top","Right","Bottom","Left"].forEach(function(ee,Ue){Et[ne][Ue]=ie(Lt[ne+ee],le[Ue])})}),D.forEach(function(ne,re){Et[ne]=ie(Et.margin[re],Et.spacing[re])}),Et.axisOffset=[0,0,0,0],Et.clipOffset=[0,0,0,0]},Qt.prototype.drawChartBox=function(){var wt,Et=this.options.chart,Lt=this.renderer,ne=this.chartWidth,re=this.chartHeight,le=this.styledMode,ee=this.plotBGImage,Ue=Et.backgroundColor,Ke=Et.plotBackgroundColor,Ii=Et.plotBackgroundImage,ai=this.plotLeft,li=this.plotTop,Pi=this.plotWidth,hi=this.plotHeight,Di=this.plotBox,bi=this.clipRect,On=this.clipBox,jn=this.chartBackground,x=this.plotBackground,H=this.plotBorder,Gt="animate";if(jn||(this.chartBackground=jn=Lt.rect().addClass("highcharts-background").add(),Gt="attr"),le)var se=wt=jn.strokeWidth();else wt=(se=Et.borderWidth||0)+(Et.shadow?8:0),Ue={fill:Ue||"none"},(se||jn["stroke-width"])&&(Ue.stroke=Et.borderColor,Ue["stroke-width"]=se),jn.attr(Ue).shadow(Et.shadow);jn[Gt]({x:wt/2,y:wt/2,width:ne-wt-se%2,height:re-wt-se%2,r:Et.borderRadius}),Gt="animate",x||(Gt="attr",this.plotBackground=x=Lt.rect().addClass("highcharts-plot-background").add()),x[Gt](Di),le||(x.attr({fill:Ke||"none"}).shadow(Et.plotShadow),Ii&&(ee?(Ii!==ee.attr("href")&&ee.attr("href",Ii),ee.animate(Di)):this.plotBGImage=Lt.image(Ii,ai,li,Pi,hi).add())),bi?bi.animate({width:On.width,height:On.height}):this.clipRect=Lt.clipRect(On),Gt="animate",H||(Gt="attr",this.plotBorder=H=Lt.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),le||H.attr({stroke:Et.plotBorderColor,"stroke-width":Et.plotBorderWidth||0,fill:"none"}),H[Gt](H.crisp({x:ai,y:li,width:Pi,height:hi},-H.strokeWidth())),this.isDirtyBox=!1,ft(this,"afterDrawChartBox")},Qt.prototype.propFromSeries=function(){var re,le,ee,Et=this,Lt=Et.options.chart,ne=Et.options.series;["inverted","angular","polar"].forEach(function(Ue){for(le=k[Lt.type||Lt.defaultSeriesType],ee=Lt[Ue]||le&&le.prototype[Ue],re=ne&&ne.length;!ee&&re--;)(le=k[ne[re].type])&&le.prototype[Ue]&&(ee=!0);Et[Ue]=ee})},Qt.prototype.linkSeries=function(){var Et=this,Lt=Et.series;Lt.forEach(function(ne){ne.linkedSeries.length=0}),Lt.forEach(function(ne){var re=ne.options.linkedTo;yt(re)&&(re=":previous"===re?Et.series[ne.index-1]:Et.get(re))&&re.linkedParent!==ne&&(re.linkedSeries.push(ne),ne.linkedParent=re,re.enabledDataSorting&&ne.setDataSortingOptions(),ne.visible=ie(ne.options.visible,re.options.visible,ne.visible))}),ft(this,"afterLinkSeries")},Qt.prototype.renderSeries=function(){this.series.forEach(function(Et){Et.translate(),Et.render()})},Qt.prototype.renderLabels=function(){var Et=this,Lt=Et.options.labels;Lt.items&&Lt.items.forEach(function(ne){var re=mt(Lt.style,ne.style),le=pe(re.left)+Et.plotLeft,ee=pe(re.top)+Et.plotTop+12;delete re.left,delete re.top,Et.renderer.text(ne.html,le,ee).attr({zIndex:2}).css(re).add()})},Qt.prototype.render=function(){var Et=this.axes,Lt=this.colorAxis,ne=this.renderer,re=this.options,le=function(ai){ai.forEach(function(li){li.visible&&li.render()})},ee=0;this.setTitle(),this.legend=new Ot(this,re.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),re=this.plotWidth,Et.some(function(ai){if(ai.horiz&&ai.visible&&ai.options.labels.enabled&&ai.series.length)return ee=21,!0});var Ue=this.plotHeight=Math.max(this.plotHeight-ee,0);Et.forEach(function(ai){ai.setScale()}),this.getAxisMargins();var Ke=1.1<re/this.plotWidth,Ii=1.05<Ue/this.plotHeight;(Ke||Ii)&&(Et.forEach(function(ai){(ai.horiz&&Ke||!ai.horiz&&Ii)&&ai.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?le(Et):Lt&&Lt.length&&le(Lt),this.seriesGroup||(this.seriesGroup=ne.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},Qt.prototype.addCredits=function(Et){var Lt=this,ne=jt(!0,this.options.credits,Et);ne.enabled&&!this.credits&&(this.credits=this.renderer.text(ne.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ne.href&&(W.location.href=ne.href)}).attr({align:ne.position.align,zIndex:8}),Lt.styledMode||this.credits.css(ne.style),this.credits.add().align(ne.position),this.credits.update=function(re){Lt.credits=Lt.credits.destroy(),Lt.addCredits(re)})},Qt.prototype.destroy=function(){var ee,Et=this,Lt=Et.axes,ne=Et.series,re=Et.container,le=re&&re.parentNode;for(ft(Et,"destroy"),Et.renderer.forExport?E(G,Et):G[Et.index]=void 0,Dt.chartCount--,Et.renderTo.removeAttribute("data-highcharts-chart"),je(Et),ee=Lt.length;ee--;)Lt[ee]=Lt[ee].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ee=ne.length;ee--;)ne[ee]=ne[ee].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Ue){var Ke=Et[Ue];Ke&&Ke.destroy&&(Et[Ue]=Ke.destroy())}),re&&(re.innerHTML=V.emptyHTML,je(re),le&&It(re)),kt(Et,function(Ue,Ke){delete Et[Ke]})},Qt.prototype.firstRender=function(){var Et=this,Lt=Et.options;(!Et.isReadyToRender||Et.isReadyToRender())&&(Et.getContainer(),Et.resetMargins(),Et.setChartSize(),Et.propFromSeries(),Et.getAxes(),(tt(Lt.series)?Lt.series:[]).forEach(function(ne){Et.initSeries(ne)}),Et.linkSeries(),Et.setSeriesData(),ft(Et,"beforeRender"),ht&&(Et.pointer=J.isRequired()?new J(Et,Lt):new ht(Et,Lt)),Et.render(),Et.pointer.getChartPosition(),!Et.renderer.imgCount&&!Et.hasLoaded&&Et.onload(),Et.temporaryDisplay(!0))},Qt.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(Et){Et&&typeof this.index<"u"&&Et.apply(this,[this])},this),ft(this,"load"),ft(this,"render"),Ut(this.index)&&this.setReflow(this.options.chart.reflow),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0},Qt.prototype.warnIfA11yModuleNotLoaded=function(){var Et=this.options,Lt=this.title;Et&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Lt&&Lt.element.textContent||"").replace(/</g,"&lt;")}),Et.accessibility&&!1===Et.accessibility.enabled||U('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))},Qt.prototype.addSeries=function(Et,Lt,ne){var le,re=this;return Et&&(Lt=ie(Lt,!0),ft(re,"addSeries",{options:Et},function(){le=re.initSeries(Et),re.isDirtyLegend=!0,re.linkSeries(),le.enabledDataSorting&&le.setData(Et.data,!1),ft(re,"afterAddSeries",{series:le}),Lt&&re.redraw(ne)})),le},Qt.prototype.addAxis=function(Et,Lt,ne,re){return this.createAxis(Lt?"xAxis":"yAxis",{axis:Et,redraw:ne,animation:re})},Qt.prototype.addColorAxis=function(Et,Lt,ne){return this.createAxis("colorAxis",{axis:Et,redraw:Lt,animation:ne})},Qt.prototype.createAxis=function(Et,Lt){return Et=new nt(this,jt(Lt.axis,{index:this[Et].length,isX:"xAxis"===Et})),ie(Lt.redraw,!0)&&this.redraw(Lt.animation),Et},Qt.prototype.showLoading=function(Et){var Lt=this,ne=Lt.options,re=ne.loading,le=function(){ee&&vt(ee,{left:Lt.plotLeft+"px",top:Lt.plotTop+"px",width:Lt.plotWidth+"px",height:Lt.plotHeight+"px"})},ee=Lt.loadingDiv,Ue=Lt.loadingSpan;ee||(Lt.loadingDiv=ee=B("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Lt.container)),Ue||(Lt.loadingSpan=Ue=B("span",{className:"highcharts-loading-inner"},null,ee),P(Lt,"redraw",le)),ee.className="highcharts-loading",V.setElementHTML(Ue,ie(Et,ne.lang.loading,"")),Lt.styledMode||(vt(ee,mt(re.style,{zIndex:10})),vt(Ue,re.labelStyle),Lt.loadingShown||(vt(ee,{opacity:0,display:""}),Y(ee,{opacity:re.style.opacity||.5},{duration:re.showDuration||0}))),Lt.loadingShown=!0,le()},Qt.prototype.hideLoading=function(){var Et=this.options,Lt=this.loadingDiv;Lt&&(Lt.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Y(Lt,{opacity:0},{duration:Et.loading.hideDuration||100,complete:function(){vt(Lt,{display:"none"})}})),this.loadingShown=!1},Qt.prototype.update=function(Et,Lt,ne,re){var Ii,ai,le=this,ee={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Ue=Et.isResponsiveOptions,Ke=[];ft(le,"update",{options:Et}),Ue||le.setResponsive(!1,!0),Et=I(Et,le.options),le.userOptions=jt(le.userOptions,Et);var li=Et.chart;if(li){if(jt(!0,le.options.chart,li),"className"in li&&le.setClassName(li.className),"reflow"in li&&le.setReflow(li.reflow),"inverted"in li||"polar"in li||"type"in li){le.propFromSeries();var Pi=!0}"alignTicks"in li&&(Pi=!0),"events"in li&&T(this,li),kt(li,function(hi,Di){-1!==le.propsRequireUpdateSeries.indexOf("chart."+Di)&&(Ii=!0),-1!==le.propsRequireDirtyBox.indexOf(Di)&&(le.isDirtyBox=!0),-1!==le.propsRequireReflow.indexOf(Di)&&(Ue?le.isDirtyBox=!0:ai=!0)}),!le.styledMode&&li.style&&le.renderer.setStyle(le.options.chart.style||{})}!le.styledMode&&Et.colors&&(this.options.colors=Et.colors),Et.time&&(this.time===h&&(this.time=new $(Et.time)),jt(!0,le.options.time,Et.time)),kt(Et,function(hi,Di){le[Di]&&"function"==typeof le[Di].update?le[Di].update(hi,!1):"function"==typeof le[ee[Di]]?le[ee[Di]](hi):"colors"!==Di&&-1===le.collectionsWithUpdate.indexOf(Di)&&jt(!0,le.options[Di],Et[Di]),"chart"!==Di&&-1!==le.propsRequireUpdateSeries.indexOf(Di)&&(Ii=!0)}),this.collectionsWithUpdate.forEach(function(hi){if(Et[hi]){var Di=[];le[hi].forEach(function(bi,On){bi.options.isInternal||Di.push(ie(bi.options.index,On))}),Ce(Et[hi]).forEach(function(bi,On){var x,jn=Ut(bi.id);jn&&(x=le.get(bi.id)),!x&&le[hi]&&(x=le[hi][Di?Di[On]:On])&&jn&&Ut(x.options.id)&&(x=void 0),x&&x.coll===hi&&(x.update(bi,!1),ne&&(x.touched=!0)),!x&&ne&&le.collectionsWithInit[hi]&&(le.collectionsWithInit[hi][0].apply(le,[bi].concat(le.collectionsWithInit[hi][1]||[]).concat([!1])).touched=!0)}),ne&&le[hi].forEach(function(bi){bi.touched||bi.options.isInternal?delete bi.touched:Ke.push(bi)})}}),Ke.forEach(function(hi){hi.chart&&hi.remove&&hi.remove(!1)}),Pi&&le.axes.forEach(function(hi){hi.update({},!1)}),Ii&&le.getSeriesOrderByLinks().forEach(function(hi){hi.chart&&hi.update({},!1)},this),Pi=li&&li.width,li=li&&(yt(li.height)?Fe(li.height,Pi||le.chartWidth):li.height),ai||X(Pi)&&Pi!==le.chartWidth||X(li)&&li!==le.chartHeight?le.setSize(Pi,li,re):ie(Lt,!0)&&le.redraw(re),ft(le,"afterUpdate",{options:Et,redraw:Lt,animation:re})},Qt.prototype.setSubtitle=function(Et,Lt){this.applyDescription("subtitle",Et),this.layOutTitles(Lt)},Qt.prototype.setCaption=function(Et,Lt){this.applyDescription("caption",Et),this.layOutTitles(Lt)},Qt.prototype.showResetZoom=function(){function Et(){Lt.zoomOut()}var Lt=this,ne=g.lang,re=Lt.options.chart.zooming.resetButton,le=re.theme,ee="chart"===re.relativeTo||"spacingBox"===re.relativeTo?null:"scrollablePlotBox";ft(this,"beforeShowResetZoom",null,function(){Lt.resetZoomButton=Lt.renderer.button(ne.resetZoom,null,null,Et,le).attr({align:re.position.align,title:ne.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(re.position,!1,ee)}),ft(this,"afterShowResetZoom")},Qt.prototype.zoomOut=function(){ft(this,"selection",{resetSelection:!0},this.zoom)},Qt.prototype.zoom=function(Et){var le,Lt=this,ne=Lt.pointer,re=!1;!Et||Et.resetSelection?(Lt.axes.forEach(function(Ue){le=Ue.zoom()}),ne.initiated=!1):Et.xAxis.concat(Et.yAxis).forEach(function(Ue){var Ke=Ue.axis;(ne[Ke.isXAxis?"zoomX":"zoomY"]&&Ut(ne.mouseDownX)&&Ut(ne.mouseDownY)&&Lt.isInsidePlot(ne.mouseDownX-Lt.plotLeft,ne.mouseDownY-Lt.plotTop,{axis:Ke})||!Ut(Lt.inverted?ne.mouseDownX:ne.mouseDownY))&&(le=Ke.zoom(Ue.min,Ue.max),Ke.displayBtn&&(re=!0))});var ee=Lt.resetZoomButton;re&&!ee?Lt.showResetZoom():!re&&St(ee)&&(Lt.resetZoomButton=ee.destroy()),le&&Lt.redraw(ie(Lt.options.chart.animation,Et&&Et.animation,100>Lt.pointCount))},Qt.prototype.pan=function(Et,Lt){var ne=this,re=ne.hoverPoints;Lt="object"==typeof Lt?Lt:{enabled:Lt,type:"x"};var le=ne.options.chart;le&&le.panning&&(le.panning=Lt);var Ue,ee=Lt.type;ft(this,"pan",{originalEvent:Et},function(){re&&re.forEach(function(ai){ai.setState()});var Ke=ne.xAxis;"xy"===ee?Ke=Ke.concat(ne.yAxis):"y"===ee&&(Ke=ne.yAxis);var Ii={};Ke.forEach(function(ai){if(ai.options.panningEnabled&&!ai.options.isInternal){var li=ai.horiz,Pi=Et[li?"chartX":"chartY"],hi=ne[li=li?"mouseDownX":"mouseDownY"],Di=ai.minPointOffset||0,bi=ai.reversed&&!ne.inverted||!ai.reversed&&ne.inverted?-1:1,On=ai.getExtremes(),jn=ai.toValue(hi-Pi,!0)+Di*bi,x=ai.toValue(hi+ai.len-Pi,!0)-(Di*bi||ai.isXAxis&&ai.pointRangePadding||0),H=x<jn;bi=ai.hasVerticalPanning(),hi=H?x:jn,jn=H?jn:x;var wt=ai.panningState;!bi||ai.isXAxis||wt&&!wt.isDirty||ai.series.forEach(function(Gt){var se=Gt.getProcessedData(!0);se=Gt.getExtremes(se.yData,!0),wt||(wt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),X(se.dataMin)&&X(se.dataMax)&&(wt.startMin=Math.min(ie(Gt.options.threshold,1/0),se.dataMin,wt.startMin),wt.startMax=Math.max(ie(Gt.options.threshold,-1/0),se.dataMax,wt.startMax))}),bi=Math.min(ie(wt&&wt.startMin,On.dataMin),Di?On.min:ai.toValue(ai.toPixels(On.min)-ai.minPixelPadding)),x=Math.max(ie(wt&&wt.startMax,On.dataMax),Di?On.max:ai.toValue(ai.toPixels(On.max)+ai.minPixelPadding)),ai.panningState=wt,ai.isOrdinal||(0<(Di=bi-hi)&&(jn+=Di,hi=bi),0<(Di=jn-x)&&(jn=x,hi-=Di),ai.series.length&&hi!==On.min&&jn!==On.max&&hi>=bi&&jn<=x&&(ai.setExtremes(hi,jn,!1,!1,{trigger:"pan"}),!ne.resetZoomButton&&hi!==bi&&jn!==x&&ee.match("y")&&(ne.showResetZoom(),ai.displayBtn=!1),Ue=!0),Ii[li]=Pi)}}),kt(Ii,function(ai,li){ne[li]=ai}),Ue&&ne.redraw(!1),vt(ne.container,{cursor:"move"})})},Qt}(),mt(ot.prototype,{callbacks:[],collectionsWithInit:{xAxis:[ot.prototype.addAxis,[!0]],yAxis:[ot.prototype.addAxis,[!1]],series:[ot.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),ot}),Pt(j,"Core/Legend/LegendSymbol.js",[j["Core/Utilities.js"]],function(ot){var zt,Rt,nt=ot.merge,Ct=ot.pick;return(Rt=zt||(zt={})).drawLineMarker=function(Dt){var Ot=this.legendItem=this.legendItem||{},J=this.options,ht=Dt.symbolWidth,at=Dt.symbolHeight,F=at/2,R=this.chart.renderer,$=Ot.group;Dt=Dt.baseline-Math.round(.3*Dt.fontMetrics.b);var O={},V=J.marker;this.chart.styledMode||(O={"stroke-width":J.lineWidth||0},J.dashStyle&&(O.dashstyle=J.dashStyle)),Ot.line=R.path([["M",0,Dt],["L",ht,Dt]]).addClass("highcharts-graph").attr(O).add($),V&&!1!==V.enabled&&ht&&(J=Math.min(Ct(V.radius,F),F),0===this.symbol.indexOf("url")&&(V=nt(V,{width:at,height:at}),J=0),Ot.symbol=Ot=R.symbol(this.symbol,ht/2-J,Dt-J,2*J,2*J,V).addClass("highcharts-point").add($),Ot.isMarker=!0)},Rt.drawRectangle=function(Dt,Ot){var J=Dt.symbolHeight,ht=Dt.options.squareSymbol;(Ot=Ot.legendItem||{}).symbol=this.chart.renderer.rect(ht?(Dt.symbolWidth-J)/2:0,Dt.baseline-J+1,ht?J:Dt.symbolWidth,J,Ct(Dt.options.symbolRadius,J/2)).addClass("highcharts-point").attr({zIndex:3}).add(Ot.group)},zt}),Pt(j,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),Pt(j,"Core/Series/Series.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/Defaults.js"],j["Core/Foundation.js"],j["Core/Globals.js"],j["Core/Legend/LegendSymbol.js"],j["Core/Series/Point.js"],j["Core/Series/SeriesDefaults.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Renderer/SVG/SVGElement.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt,Dt,Ot,J,ht,at){var F=ot.animObject,R=ot.setAnimation,$=nt.defaultOptions,O=Ct.registerEventOptions,V=zt.hasTouch,Y=zt.svg,K=zt.win,dt=J.seriesTypes,g=at.arrayMax,h=at.arrayMin,rt=at.clamp,T=at.cleanRecursively,G=at.correctFloat,A=at.defined,D=at.erase,b=at.error,W=at.extend,k=at.find,P=at.fireEvent,Q=at.getNestedProperty,I=at.isArray,B=at.isNumber,vt=at.isString,Ut=at.merge,It=at.objectEach,E=at.pick,U=at.removeEvent,mt=at.splat,ct=at.syncTimeout;return ot=function(){function ft(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return ft.prototype.init=function(M,tt){P(this,"init",{options:tt});var X=this,St=M.series;this.eventsToUnbind=[],X.chart=M,X.options=X.setOptions(tt),tt=X.options,X.linkedSeries=[],X.bindAxes(),W(X,{name:tt.name,state:"",visible:!1!==tt.visible,selected:!0===tt.selected}),O(this,tt);var jt,yt=tt.events;(yt&&yt.click||tt.point&&tt.point.events&&tt.point.events.click||tt.allowPointSelect)&&(M.runTrackerClick=!0),X.getColor(),X.getSymbol(),X.parallelArrays.forEach(function(kt){X[kt+"Data"]||(X[kt+"Data"]=[])}),X.isCartesian&&(M.hasCartesianSeries=!0),St.length&&(jt=St[St.length-1]),X._i=E(jt&&jt._i,-1)+1,X.opacity=X.options.opacity,M.orderSeries(this.insert(St)),tt.dataSorting&&tt.dataSorting.enabled?X.setDataSortingOptions():X.points||X.data||X.setData(tt.data,!1),P(this,"afterInit")},ft.prototype.is=function(M){return dt[M]&&this instanceof dt[M]},ft.prototype.insert=function(M){var X,tt=this.options.index;if(B(tt)){for(X=M.length;X--;)if(tt>=E(M[X].options.index,M[X]._i)){M.splice(X+1,0,this);break}-1===X&&M.unshift(this),X+=1}else M.push(this);return E(X,M.length-1)},ft.prototype.bindAxes=function(){var St,M=this,tt=M.options,X=M.chart;P(this,"bindAxes",null,function(){(M.axisTypes||[]).forEach(function(yt){var jt=0;X[yt].forEach(function(kt){St=kt.options,(tt[yt]===jt&&!St.isInternal||typeof tt[yt]<"u"&&tt[yt]===St.id||typeof tt[yt]>"u"&&0===St.index)&&(M.insert(kt.series),M[yt]=kt,kt.isDirty=!0),St.isInternal||jt++}),M[yt]||M.optionalAxis===yt||b(18,!0,X)})}),P(this,"afterBindAxes")},ft.prototype.updateParallelArrays=function(M,tt){var X=M.series,St=arguments,yt=B(tt)?function(jt){var kt="y"===jt&&X.toYData?X.toYData(M):M[jt];X[jt+"Data"][tt]=kt}:function(jt){Array.prototype[tt].apply(X[jt+"Data"],Array.prototype.slice.call(St,2))};X.parallelArrays.forEach(yt)},ft.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},ft.prototype.autoIncrement=function(M){var kt,tt=this.options,X=tt.pointIntervalUnit,St=tt.relativeXValue,yt=this.chart.time,jt=this.xIncrement;return jt=E(jt,tt.pointStart,0),this.pointInterval=kt=E(this.pointInterval,tt.pointInterval,1),St&&B(M)&&(kt*=M),X&&(tt=new yt.Date(jt),"day"===X?yt.set("Date",tt,yt.get("Date",tt)+kt):"month"===X?yt.set("Month",tt,yt.get("Month",tt)+kt):"year"===X&&yt.set("FullYear",tt,yt.get("FullYear",tt)+kt),kt=tt.getTime()-jt),St&&B(M)?jt+kt:(this.xIncrement=jt+kt,jt)},ft.prototype.setDataSortingOptions=function(){var M=this.options;W(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),A(M.pointRange)||(M.pointRange=1)},ft.prototype.setOptions=function(M){var tt=this.chart,X=tt.options,St=X.plotOptions,yt=tt.userOptions||{};M=Ut(M),tt=tt.styledMode;var jt={plotOptions:St,userOptions:M};P(this,"setOptions",jt);var kt=jt.plotOptions[this.type],ie=yt.plotOptions||{};return this.userOptions=jt.userOptions,yt=Ut(kt,St.series,yt.plotOptions&&yt.plotOptions[this.type],M),this.tooltipOptions=Ut($.tooltip,$.plotOptions.series&&$.plotOptions.series.tooltip,$.plotOptions[this.type].tooltip,X.tooltip.userOptions,St.series&&St.series.tooltip,St[this.type].tooltip,M.tooltip),this.stickyTracking=E(M.stickyTracking,ie[this.type]&&ie[this.type].stickyTracking,ie.series&&ie.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||yt.stickyTracking),null===kt.marker&&delete yt.marker,this.zoneAxis=yt.zoneAxis,St=this.zones=(yt.zones||[]).slice(),!yt.negativeColor&&!yt.negativeFillColor||yt.zones||(X={value:yt[this.zoneAxis+"Threshold"]||yt.threshold||0,className:"highcharts-negative"},tt||(X.color=yt.negativeColor,X.fillColor=yt.negativeFillColor),St.push(X)),St.length&&A(St[St.length-1].value)&&St.push(tt?{}:{color:this.color,fillColor:this.fillColor}),P(this,"afterSetOptions",{options:yt}),yt},ft.prototype.getName=function(){return E(this.options.name,"Series "+(this.index+1))},ft.prototype.getCyclic=function(M,tt,X){var St=this.chart,yt=this.userOptions,jt=M+"Index",kt=M+"Counter",ie=X?X.length:E(St.options.chart[M+"Count"],St[M+"Count"]);if(!tt){var pe=E(yt[jt],yt["_"+jt]);A(pe)||(St.series.length||(St[kt]=0),yt["_"+jt]=pe=St[kt]%ie,St[kt]+=1),X&&(tt=X[pe])}typeof pe<"u"&&(this[jt]=pe),this[M]=tt},ft.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||$.plotOptions[this.type].color,this.chart.options.colors)},ft.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},ft.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},ft.prototype.findPointIndex=function(M,tt){var kt,ie,X=M.id,St=M.x,yt=this.points,jt=this.options.dataSorting;if(X)(jt=this.chart.get(X))instanceof Dt&&(kt=jt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(kt=function(Fe){return!Fe.touched&&Fe.index===M.index},jt&&jt.matchByName?kt=function(Fe){return!Fe.touched&&Fe.name===M.name}:this.options.relativeXValue&&(kt=function(Fe){return!Fe.touched&&Fe.options.x===M.x}),!(kt=k(yt,kt))))return;if(kt){var pe=kt&&kt.index;typeof pe<"u"&&(ie=!0)}return typeof pe>"u"&&B(St)&&(pe=this.xData.indexOf(St,tt)),-1!==pe&&typeof pe<"u"&&this.cropped&&(pe=pe>=this.cropStart?pe-this.cropStart:pe),!ie&&B(pe)&&yt[pe]&&yt[pe].touched&&(pe=void 0),pe},ft.prototype.updateData=function(M,tt){var pe,Fe,je,X=this.options,St=X.dataSorting,yt=this.points,jt=[],kt=this.requireSorting,ie=M.length===yt.length,Ce=!0;if(this.xIncrement=null,M.forEach(function($t,de){var Qt=A($t)&&this.pointClass.prototype.optionsToObject.call({series:this},$t)||{};Qt.id||B(Qt.x)?(-1===(Qt=this.findPointIndex(Qt,je))||typeof Qt>"u"?jt.push($t):yt[Qt]&&$t!==X.data[Qt]?(yt[Qt].update($t,!1,null,!1),yt[Qt].touched=!0,kt&&(je=Qt+1)):yt[Qt]&&(yt[Qt].touched=!0),(!ie||de!==Qt||St&&St.enabled||this.hasDerivedData)&&(pe=!0)):jt.push($t)},this),pe)for(M=yt.length;M--;)(Fe=yt[M])&&!Fe.touched&&Fe.remove&&Fe.remove(!1,tt);else!ie||St&&St.enabled?Ce=!1:(M.forEach(function($t,de){$t!==yt[de].y&&yt[de].update&&yt[de].update($t,!1,null,!1)}),jt.length=0);return yt.forEach(function($t){$t&&($t.touched=!1)}),!!Ce&&(jt.forEach(function($t){this.addPoint($t,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=g(this.xData),this.autoIncrement()),!0)},ft.prototype.setData=function(M,tt,X,St){void 0===tt&&(tt=!0);var yt=this,jt=yt.points,kt=jt&&jt.length||0,ie=yt.options,pe=yt.chart,Fe=ie.dataSorting,je=yt.xAxis,Ce=ie.turboThreshold,$t=this.xData,de=this.yData,Qt=yt.pointArrayMap;Qt=Qt&&Qt.length;var Lt,Et=ie.keys,ne=0,re=1,le=null;if(!pe.options.chart.allowMutatingData){ie.data&&delete yt.options.data,yt.userOptions.data&&delete yt.userOptions.data;var ee=Ut(!0,M)}if(ee=(M=ee||M||[]).length,Fe&&Fe.enabled&&(M=this.sortData(M)),pe.options.chart.allowMutatingData&&!1!==St&&ee&&kt&&!yt.cropped&&!yt.hasGroupedData&&yt.visible&&!yt.boosted&&(Lt=this.updateData(M,X)),!Lt){if(yt.xIncrement=null,yt.colorCounter=0,this.parallelArrays.forEach(function(Ue){yt[Ue+"Data"].length=0}),Ce&&ee>Ce)if(le=yt.getFirstValidPoint(M),B(le))for(X=0;X<ee;X++)$t[X]=this.autoIncrement(),de[X]=M[X];else if(I(le))if(Qt)if(le.length===Qt)for(X=0;X<ee;X++)$t[X]=this.autoIncrement(),de[X]=M[X];else for(X=0;X<ee;X++)$t[X]=(St=M[X])[0],de[X]=St.slice(1,Qt+1);else if(Et&&(ne=0<=(ne=Et.indexOf("x"))?ne:0,re=0<=(re=Et.indexOf("y"))?re:1),1===le.length&&(re=0),ne===re)for(X=0;X<ee;X++)$t[X]=this.autoIncrement(),de[X]=M[X][re];else for(X=0;X<ee;X++)$t[X]=(St=M[X])[ne],de[X]=St[re];else b(12,!1,pe);else for(X=0;X<ee;X++)typeof M[X]<"u"&&(yt.pointClass.prototype.applyOptions.apply(St={series:yt},[M[X]]),yt.updateParallelArrays(St,X));for(de&&vt(de[0])&&b(14,!0,pe),yt.data=[],yt.options.data=yt.userOptions.data=M,X=kt;X--;)jt[X]&&jt[X].destroy&&jt[X].destroy();je&&(je.minRange=je.userMinRange),yt.isDirty=pe.isDirtyBox=!0,yt.isDirtyData=!!jt,X=!1}"point"===ie.legendType&&(this.processData(),this.generatePoints()),tt&&pe.redraw(X)},ft.prototype.sortData=function(M){var tt=this,X=tt.options.dataSorting.sortKey||"y",St=function(yt,jt){return A(jt)&&yt.pointClass.prototype.optionsToObject.call({series:yt},jt)||{}};return M.forEach(function(yt,jt){M[jt]=St(tt,yt),M[jt].index=jt},this),M.concat().sort(function(yt,jt){return yt=Q(X,yt),(jt=Q(X,jt))<yt?-1:jt>yt?1:0}).forEach(function(yt,jt){yt.x=jt},this),tt.linkedSeries&&tt.linkedSeries.forEach(function(yt){var jt=yt.options,kt=jt.data;jt.dataSorting&&jt.dataSorting.enabled||!kt||(kt.forEach(function(ie,pe){kt[pe]=St(yt,ie),M[pe]&&(kt[pe].x=M[pe].x,kt[pe].index=pe)}),yt.setData(kt,!1))}),M},ft.prototype.getProcessedData=function(M){var tt=this.xAxis,X=this.options,St=X.cropThreshold,yt=M||this.getExtremesFromAll||X.getExtremesFromAll,jt=this.isCartesian;M=tt&&tt.val2lin,X=!(!tt||!tt.logarithmic);var kt=0,ie=this.xData,pe=this.yData,Fe=this.requireSorting,je=!1,Ce=ie.length;if(tt){var $t=(je=tt.getExtremes()).min,de=je.max;je=!(!tt.categories||tt.names.length)}if(jt&&this.sorted&&!yt&&(!St||Ce>St||this.forceCrop))if(ie[Ce-1]<$t||ie[0]>de)ie=[],pe=[];else if(this.yData&&(ie[0]<$t||ie[Ce-1]>de)){var Qt=this.cropData(this.xData,this.yData,$t,de);ie=Qt.xData,pe=Qt.yData,kt=Qt.start,Qt=!0}for(St=ie.length||1;--St;)if(0<(tt=X?M(ie[St])-M(ie[St-1]):ie[St]-ie[St-1])&&(typeof Et>"u"||tt<Et))var Et=tt;else 0>tt&&Fe&&!je&&(b(15,!1,this.chart),Fe=!1);return{xData:ie,yData:pe,cropped:Qt,cropStart:kt,closestPointRange:Et}},ft.prototype.processData=function(M){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!M)return!1;M=this.getProcessedData(),this.cropped=M.cropped,this.cropStart=M.cropStart,this.processedXData=M.xData,this.processedYData=M.yData,this.closestPointRange=this.basePointRange=M.closestPointRange,P(this,"afterProcessData")},ft.prototype.cropData=function(M,tt,X,St,yt){var kt,jt=M.length,ie=0,pe=jt;for(yt=E(yt,this.cropShoulder),kt=0;kt<jt;kt++)if(M[kt]>=X){ie=Math.max(0,kt-yt);break}for(X=kt;X<jt;X++)if(M[X]>St){pe=X+yt;break}return{xData:M.slice(ie,pe),yData:tt.slice(ie,pe),start:ie,end:pe}},ft.prototype.generatePoints=function(){var M=this.options,tt=this.processedData||M.data,X=this.processedXData,St=this.processedYData,yt=this.pointClass,jt=X.length,kt=this.cropStart||0,ie=this.hasGroupedData,pe=M.keys,Fe=[];M=M.dataGrouping&&M.dataGrouping.groupAll?kt:0;var je,Ce,$t=this.data;if(!$t&&!ie){var de=[];de.length=tt.length,$t=this.data=de}for(pe&&ie&&(this.options.keys=!1),Ce=0;Ce<jt;Ce++){if(de=kt+Ce,ie){var Qt=(new yt).init(this,[X[Ce]].concat(mt(St[Ce])));Qt.dataGroup=this.groupMap[M+Ce],Qt.dataGroup.options&&(Qt.options=Qt.dataGroup.options,W(Qt,Qt.dataGroup.options),delete Qt.dataLabels)}else(Qt=$t[de])||typeof tt[de]>"u"||($t[de]=Qt=(new yt).init(this,tt[de],X[Ce]));Qt&&(Qt.index=ie?M+Ce:de,Fe[Ce]=Qt)}if(this.options.keys=pe,$t&&(jt!==(je=$t.length)||ie))for(Ce=0;Ce<je;Ce++)Ce!==kt||ie||(Ce+=jt),$t[Ce]&&($t[Ce].destroyElements(),$t[Ce].plotX=void 0);this.data=$t,this.points=Fe,P(this,"afterGeneratePoints")},ft.prototype.getXExtremes=function(M){return{min:h(M),max:g(M)}},ft.prototype.getExtremes=function(M,tt){var X=this.xAxis,St=this.yAxis,yt=this.processedXData||this.xData,jt=[],kt=this.requireSorting?this.cropShoulder:0;St=!!St&&St.positiveValuesOnly;var ie,pe=0,Fe=0,je=0,Ce=(M=M||this.stackedYData||this.processedYData||[]).length;if(X){var $t=X.getExtremes();pe=$t.min,Fe=$t.max}for(ie=0;ie<Ce;ie++){var de=yt[ie],Qt=(B($t=M[ie])||I($t))&&($t.length||0<$t||!St);if(de=tt||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!X||(yt[ie+kt]||de)>=pe&&(yt[ie-kt]||de)<=Fe,Qt&&de)if(Qt=$t.length)for(;Qt--;)B($t[Qt])&&(jt[je++]=$t[Qt]);else jt[je++]=$t}return M={activeYData:jt,dataMin:h(jt),dataMax:g(jt)},P(this,"afterGetExtremes",{dataExtremes:M}),M},ft.prototype.applyExtremes=function(){var M=this.getExtremes();return this.dataMin=M.dataMin,this.dataMax=M.dataMax,M},ft.prototype.getFirstValidPoint=function(M){for(var tt=M.length,X=0,St=null;null===St&&X<tt;)St=M[X],X++;return St},ft.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var de,Qt,M=this.options,tt=M.stacking,X=this.xAxis,St=X.categories,yt=this.enabledDataSorting,jt=this.yAxis,kt=this.points,ie=kt.length,pe=this.pointPlacementToXValue(),Fe=!!pe,je=M.threshold,Ce=M.startFromThreshold?je:0,$t=this.zoneAxis||"y",Et=Number.MAX_VALUE;for(de=0;de<ie;de++){var Lt=kt[de],ne=Lt.x,re=void 0,le=void 0,ee=Lt.y,Ue=Lt.low,Ke=tt&&jt.stacking&&jt.stacking.stacks[(this.negStacks&&ee<(Ce?0:je)?"-":"")+this.stackKey];if((jt.positiveValuesOnly&&!jt.validatePositiveValue(ee)||X.positiveValuesOnly&&!X.validatePositiveValue(ne))&&(Lt.isNull=!0),Lt.plotX=Qt=G(rt(X.translate(ne,0,0,0,1,pe,"flags"===this.type),-1e5,1e5)),tt&&this.visible&&Ke&&Ke[ne]){var Ii=this.getStackIndicator(Ii,ne,this.index);Lt.isNull||(le=(re=Ke[ne]).points[Ii.key])}if(I(le)&&(ee=le[1],(Ue=le[0])===Ce&&Ii.key===Ke[ne].base&&(Ue=E(B(je)&&je,jt.min)),jt.positiveValuesOnly&&0>=Ue&&(Ue=null),Lt.total=Lt.stackTotal=re.total,Lt.percentage=re.total&&Lt.y/re.total*100,Lt.stackY=ee,this.irregularWidths||re.setOffset(this.pointXOffset||0,this.barW||0)),Lt.yBottom=A(Ue)?rt(jt.translate(Ue,0,1,0,1),-1e5,1e5):null,this.dataModify&&(ee=this.dataModify.modifyValue(ee,de)),Lt.plotY=void 0,B(ee)&&typeof(re=jt.translate(ee,!1,!0,!1,!0))<"u"&&(Lt.plotY=rt(re,-1e5,1e5)),Lt.isInside=this.isPointInside(Lt),Lt.clientX=Fe?G(X.translate(ne,0,0,0,1,pe)):Qt,Lt.negative=Lt[$t]<(M[$t+"Threshold"]||je||0),Lt.category=E(St&&St[Lt.x],Lt.x),!Lt.isNull&&!1!==Lt.visible){typeof ai<"u"&&(Et=Math.min(Et,Math.abs(Qt-ai)));var ai=Qt}Lt.zone=this.zones.length?Lt.getZone():void 0,!Lt.graphic&&this.group&&yt&&(Lt.isNew=!0)}this.closestPointRangePx=Et,P(this,"afterTranslate")},ft.prototype.getValidPoints=function(M,tt,X){var St=this.chart;return(M||this.points||[]).filter(function(yt){return!(tt&&!St.isInsidePlot(yt.plotX,yt.plotY,{inverted:St.inverted}))&&!1!==yt.visible&&(X||!yt.isNull)})},ft.prototype.getClipBox=function(){var M=this.chart,tt=this.xAxis,X=this.yAxis,St=Ut(M.clipBox);return tt&&tt.len!==M.plotSizeX&&(St.width=tt.len),X&&X.len!==M.plotSizeY&&(St.height=X.len),St},ft.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},ft.prototype.setClip=function(){var M=this.chart,tt=this.group,X=this.markerGroup,St=M.sharedClips;M=M.renderer;var yt=this.getClipBox(),jt=this.getSharedClipKey(),kt=St[jt];kt?kt.animate(yt):St[jt]=kt=M.clipRect(yt),tt&&tt.clip(!1===this.options.clip?void 0:kt),X&&X.clip()},ft.prototype.animate=function(M){var tt=this.chart,X=this.group,St=this.markerGroup,yt=tt.inverted,jt=F(this.options.animation),kt=[this.getSharedClipKey(),jt.duration,jt.easing,jt.defer].join(),ie=tt.sharedClips[kt],pe=tt.sharedClips[kt+"m"];if(M&&X)jt=this.getClipBox(),ie?ie.attr("height",jt.height):(jt.width=0,yt&&(jt.x=tt.plotHeight),ie=tt.renderer.clipRect(jt),tt.sharedClips[kt]=ie,pe=tt.renderer.clipRect({x:yt?(tt.plotSizeX||0)+99:-99,y:yt?-tt.plotLeft:-tt.plotTop,width:99,height:yt?tt.chartWidth:tt.chartHeight}),tt.sharedClips[kt+"m"]=pe),X.clip(ie),St&&St.clip(pe);else if(ie&&!ie.hasClass("highcharts-animating")){tt=this.getClipBox();var Fe=jt.step;St&&St.element.childNodes.length&&(jt.step=function(je,Ce){Fe&&Fe.apply(Ce,arguments),pe&&pe.element&&pe.attr(Ce.prop,"width"===Ce.prop?je+99:je)}),ie.addClass("highcharts-animating").animate(tt,jt)}},ft.prototype.afterAnimate=function(){var M=this;this.setClip(),It(this.chart.sharedClips,function(tt,X,St){tt&&!M.chart.container.querySelector('[clip-path="url(#'.concat(tt.id,')"]'))&&(tt.destroy(),delete St[X])}),this.finishedAnimating=!0,P(this,"afterAnimate")},ft.prototype.drawPoints=function(M){void 0===M&&(M=this.points);var kt,ie,tt=this.chart,X=this.options.marker,St=this[this.specialGroup]||this.markerGroup,yt=this.xAxis,jt=E(X.enabled,!(yt&&!yt.isRadial)||null,this.closestPointRangePx>=X.enabledThreshold*X.radius);if(!1!==X.enabled||this._hasPointMarkers)for(kt=0;kt<M.length;kt++){var pe=M[kt],Fe=(ie=pe.graphic)?"animate":"attr",je=pe.marker||{},Ce=!!pe.marker;if((jt&&typeof je.enabled>"u"||je.enabled)&&!pe.isNull&&!1!==pe.visible){var $t=E(je.symbol,this.symbol,"rect"),de=this.markerAttribs(pe,pe.selected&&"select");this.enabledDataSorting&&(pe.startXPos=yt.reversed?-(de.width||0):yt.width);var Qt=!1!==pe.isInside;ie?ie[Qt?"show":"hide"](Qt).animate(de):Qt&&(0<(de.width||0)||pe.hasImage)&&(pe.graphic=ie=tt.renderer.symbol($t,de.x,de.y,de.width,de.height,Ce?je:X).add(St),this.enabledDataSorting&&tt.hasRendered&&(ie.attr({x:pe.startXPos}),Fe="animate")),ie&&"animate"===Fe&&ie[Qt?"show":"hide"](Qt).animate(de),ie&&!tt.styledMode&&ie[Fe](this.pointAttribs(pe,pe.selected&&"select")),ie&&ie.addClass(pe.getClassName(),!0)}else ie&&(pe.graphic=ie.destroy())}},ft.prototype.markerAttribs=function(M,tt){var X=this.options,St=X.marker,yt=M.marker||{},jt=yt.symbol||St.symbol,kt=E(yt.radius,St&&St.radius);return tt&&(St=St.states[tt],kt=E((tt=yt.states&&yt.states[tt])&&tt.radius,St&&St.radius,kt&&kt+(St&&St.radiusPlus||0))),M.hasImage=jt&&0===jt.indexOf("url"),M.hasImage&&(kt=0),M=B(kt)?{x:X.crisp?Math.floor(M.plotX-kt):M.plotX-kt,y:M.plotY-kt}:{},kt&&(M.width=M.height=2*kt),M},ft.prototype.pointAttribs=function(M,tt){var X=this.options.marker,St=M&&M.options,yt=St&&St.marker||{},jt=St&&St.color,kt=M&&M.color,ie=M&&M.zone&&M.zone.color,pe=this.color;return M=E(yt.lineWidth,X.lineWidth),St=1,pe=jt||ie||kt||pe,jt=yt.fillColor||X.fillColor||pe,kt=yt.lineColor||X.lineColor||pe,X=X.states[tt=tt||"normal"]||{},M=E((tt=yt.states&&yt.states[tt]||{}).lineWidth,X.lineWidth,M+E(tt.lineWidthPlus,X.lineWidthPlus,0)),{stroke:kt=tt.lineColor||X.lineColor||kt,"stroke-width":M,fill:jt=tt.fillColor||X.fillColor||jt,opacity:St=E(tt.opacity,X.opacity,St)}},ft.prototype.destroy=function(M){var kt,ie,pe,tt=this,X=tt.chart,St=/AppleWebKit\/533/.test(K.navigator.userAgent),yt=tt.data||[];for(P(tt,"destroy",{keepEventsForUpdate:M}),this.removeEvents(M),(tt.axisTypes||[]).forEach(function(Fe){(pe=tt[Fe])&&pe.series&&(D(pe.series,tt),pe.isDirty=pe.forceRedraw=!0)}),tt.legendItem&&tt.chart.legend.destroyItem(tt),kt=yt.length;kt--;)(ie=yt[kt])&&ie.destroy&&ie.destroy();tt.clips&&tt.clips.forEach(function(Fe){return Fe.destroy()}),at.clearTimeout(tt.animationTimeout),It(tt,function(Fe,je){Fe instanceof ht&&!Fe.survive&&Fe[St&&"group"===je?"hide":"destroy"]()}),X.hoverSeries===tt&&(X.hoverSeries=void 0),D(X.series,tt),X.orderSeries(),It(tt,function(Fe,je){M&&"hcEvents"===je||delete tt[je]})},ft.prototype.applyZones=function(){var je,Ce,$t,de,Qt,Et,Lt,ne,M=this,tt=this.chart,X=tt.renderer,St=this.zones,yt=this.clips||[],jt=this.graph,kt=this.area,ie=Math.max(tt.plotWidth,tt.plotHeight),pe=this[(this.zoneAxis||"y")+"Axis"],Fe=tt.inverted,re=!1;if(St.length&&(jt||kt)&&pe&&typeof pe.min<"u"){var le=pe.reversed,ee=pe.horiz;jt&&!this.showLine&&jt.hide(),kt&&kt.hide();var Ue=pe.getExtremes();St.forEach(function(Ke,Ii){je=le?ee?tt.plotWidth:0:ee?0:pe.toPixels(Ue.min)||0,je=rt(E(Ce,je),0,ie),Ce=rt(Math.round(pe.toPixels(E(Ke.value,Ue.max),!0)||0),0,ie),re&&(je=Ce=pe.toPixels(Ue.max)),de=Math.abs(je-Ce),Qt=Math.min(je,Ce),Et=Math.max(je,Ce),pe.isXAxis?($t={x:Fe?Et:Qt,y:0,width:de,height:ie},ee||($t.x=tt.plotHeight-$t.x)):($t={x:0,y:Fe?Et:Qt,width:ie,height:de},ee&&($t.y=tt.plotWidth-$t.y)),Fe&&X.isVML&&($t=pe.isXAxis?{x:0,y:le?Qt:Et,height:$t.width,width:tt.chartWidth}:{x:$t.y-tt.plotLeft-tt.spacingBox.x,y:0,width:$t.height,height:tt.chartHeight}),yt[Ii]?yt[Ii].animate($t):yt[Ii]=X.clipRect($t),Lt=M["zone-area-"+Ii],ne=M["zone-graph-"+Ii],jt&&ne&&ne.clip(yt[Ii]),kt&&Lt&&Lt.clip(yt[Ii]),re=Ke.value>Ue.max,M.resetZones&&0===Ce&&(Ce=void 0)}),this.clips=yt}else M.visible&&(jt&&jt.show(),kt&&kt.show())},ft.prototype.plotGroup=function(M,tt,X,St,yt){var jt=this[M],kt=!jt;return X={visibility:X,zIndex:St||.1},typeof this.opacity>"u"||this.chart.styledMode||"inactive"===this.state||(X.opacity=this.opacity),kt&&(this[M]=jt=this.chart.renderer.g().add(yt)),jt.addClass("highcharts-"+tt+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(A(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(jt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),jt.attr(X)[kt?"attr":"animate"](this.getPlotBox(tt)),jt},ft.prototype.getPlotBox=function(M){var tt=this.xAxis,X=this.yAxis,St=this.chart;return M=St.inverted&&!St.polar&&tt&&!1!==this.invertible&&("markers"===M||"series"===M),St.inverted&&(tt=X,X=this.xAxis),{translateX:tt?tt.left:St.plotLeft,translateY:X?X.top:St.plotTop,rotation:M?90:0,rotationOriginX:M?(tt.len-X.len)/2:0,rotationOriginY:M?(tt.len+X.len)/2:0,scaleX:M?-1:1,scaleY:1}},ft.prototype.removeEvents=function(M){M||U(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(tt){tt()}),this.eventsToUnbind.length=0)},ft.prototype.render=function(){var M=this,tt=M.chart,X=M.options,St=F(X.animation),yt=M.visible?"inherit":"hidden",jt=X.zIndex,kt=M.hasRendered,ie=tt.seriesGroup;tt=!M.finishedAnimating&&tt.renderer.isSVG?St.duration:0,P(this,"render"),M.plotGroup("group","series",yt,jt,ie),M.markerGroup=M.plotGroup("markerGroup","markers",yt,jt,ie),!1!==X.clip&&M.setClip(),M.animate&&tt&&M.animate(!0),M.drawGraph&&(M.drawGraph(),M.applyZones()),M.visible&&M.drawPoints(),M.drawDataLabels&&M.drawDataLabels(),M.redrawPoints&&M.redrawPoints(),M.drawTracker&&!1!==M.options.enableMouseTracking&&M.drawTracker(),M.animate&&tt&&M.animate(),kt||(tt&&St.defer&&(tt+=St.defer),M.animationTimeout=ct(function(){M.afterAnimate()},tt||0)),M.isDirty=!1,M.hasRendered=!0,P(M,"afterRender")},ft.prototype.redraw=function(){var M=this.isDirty||this.isDirtyData;this.translate(),this.render(),M&&delete this.kdTree},ft.prototype.searchPoint=function(M,tt){var X=this.xAxis,St=this.yAxis,yt=this.chart.inverted;return this.searchKDTree({clientX:yt?X.len-M.chartY+X.pos:M.chartX-X.pos,plotY:yt?St.len-M.chartX+St.pos:M.chartY-St.pos},tt,M)},ft.prototype.buildKDTree=function(M){function tt(yt,jt,kt){var ie=yt&&yt.length;if(ie){var pe=X.kdAxisArray[jt%kt];return yt.sort(function(Fe,je){return Fe[pe]-je[pe]}),{point:yt[ie=Math.floor(ie/2)],left:tt(yt.slice(0,ie),jt+1,kt),right:tt(yt.slice(ie+1),jt+1,kt)}}}this.buildingKdTree=!0;var X=this,St=-1<X.options.findNearestPointBy.indexOf("y")?2:1;delete X.kdTree,ct(function(){X.kdTree=tt(X.getValidPoints(null,!X.directTouch),St,St),X.buildingKdTree=!1},X.options.kdNow||M&&"touchstart"===M.type?0:1)},ft.prototype.searchKDTree=function(M,tt,X){var yt=this,jt=this.kdAxisArray[0],kt=this.kdAxisArray[1],ie=tt?"distX":"dist";if(tt=-1<yt.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(X),this.kdTree)return function St(pe,Fe,je,Ce){var $t=Fe.point,de=yt.kdAxisArray[je%Ce],Qt=$t,Et=A(pe[jt])&&A($t[jt])?Math.pow(pe[jt]-$t[jt],2):null,Lt=A(pe[kt])&&A($t[kt])?Math.pow(pe[kt]-$t[kt],2):null;return $t.dist=A(Lt=(Et||0)+(Lt||0))?Math.sqrt(Lt):Number.MAX_VALUE,$t.distX=A(Et)?Math.sqrt(Et):Number.MAX_VALUE,Et=0>(de=pe[de]-$t[de])?"right":"left",Fe[Lt=0>de?"left":"right"]&&(Qt=(Lt=St(pe,Fe[Lt],je+1,Ce))[ie]<Qt[ie]?Lt:$t),Fe[Et]&&Math.sqrt(de*de)<Qt[ie]&&(Qt=(pe=St(pe,Fe[Et],je+1,Ce))[ie]<Qt[ie]?pe:Qt),Qt}(M,this.kdTree,tt,tt)},ft.prototype.pointPlacementToXValue=function(){var M=this.options,tt=M.pointRange,X=this.xAxis;return"between"===(M=M.pointPlacement)&&(M=X.reversed?-.5:.5),B(M)?M*(tt||X.pointRange):0},ft.prototype.isPointInside=function(M){var tt=this.chart,X=this.xAxis,St=this.yAxis;return typeof M.plotY<"u"&&typeof M.plotX<"u"&&0<=M.plotY&&M.plotY<=(St?St.len:tt.plotHeight)&&0<=M.plotX&&M.plotX<=(X?X.len:tt.plotWidth)},ft.prototype.drawTracker=function(){var M=this,tt=M.options,X=tt.trackByArea,St=[].concat(X?M.areaPath:M.graphPath),yt=M.chart,jt=yt.pointer,kt=yt.renderer,ie=yt.options.tooltip.snap,pe=M.tracker,Fe=function(Ce){yt.hoverSeries!==M&&M.onMouseOver()},je="rgba(192,192,192,"+(Y?1e-4:.002)+")";pe?pe.attr({d:St}):M.graph&&(M.tracker=kt.path(St).attr({visibility:M.visible?"inherit":"hidden",zIndex:2}).addClass(X?"highcharts-tracker-area":"highcharts-tracker-line").add(M.group),yt.styledMode||M.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:je,fill:X?je:"none","stroke-width":M.graph.strokeWidth()+(X?0:2*ie)}),[M.tracker,M.markerGroup,M.dataLabelsGroup].forEach(function(Ce){Ce&&(Ce.addClass("highcharts-tracker").on("mouseover",Fe).on("mouseout",function($t){jt.onTrackerMouseOut($t)}),tt.cursor&&!yt.styledMode&&Ce.css({cursor:tt.cursor}),V)&&Ce.on("touchstart",Fe)})),P(this,"afterDrawTracker")},ft.prototype.addPoint=function(M,tt,X,St,yt){var jt=this.options,kt=this.data,ie=this.chart,pe=this.xAxis;pe=pe&&pe.hasNames&&pe.names;var Ce,Fe=jt.data,je=this.xData;tt=E(tt,!0);var $t={series:this};this.pointClass.prototype.applyOptions.apply($t,[M]);var de=$t.x,Qt=je.length;if(this.requireSorting&&de<je[Qt-1])for(Ce=!0;Qt&&je[Qt-1]>de;)Qt--;this.updateParallelArrays($t,"splice",Qt,0,0),this.updateParallelArrays($t,Qt),pe&&$t.name&&(pe[de]=$t.name),Fe.splice(Qt,0,M),(Ce||this.processedData)&&(this.data.splice(Qt,0,null),this.processData()),"point"===jt.legendType&&this.generatePoints(),X&&(kt[0]&&kt[0].remove?kt[0].remove(!1):(kt.shift(),this.updateParallelArrays($t,"shift"),Fe.shift())),!1!==yt&&P(this,"addPoint",{point:$t}),this.isDirtyData=this.isDirty=!0,tt&&ie.redraw(St)},ft.prototype.removePoint=function(M,tt,X){var St=this,yt=St.data,jt=yt[M],kt=St.points,ie=St.chart,pe=function(){kt&&kt.length===yt.length&&kt.splice(M,1),yt.splice(M,1),St.options.data.splice(M,1),St.updateParallelArrays(jt||{series:St},"splice",M,1),jt&&jt.destroy(),St.isDirty=!0,St.isDirtyData=!0,tt&&ie.redraw()};R(X,ie),tt=E(tt,!0),jt?jt.firePointEvent("remove",null,pe):pe()},ft.prototype.remove=function(M,tt,X,St){function yt(){jt.destroy(St),kt.isDirtyLegend=kt.isDirtyBox=!0,kt.linkSeries(),E(M,!0)&&kt.redraw(tt)}var jt=this,kt=jt.chart;!1!==X?P(jt,"remove",null,yt):yt()},ft.prototype.update=function(M,tt){M=T(M,this.userOptions),P(this,"update",{options:M});var X=this,St=X.chart,yt=X.userOptions,jt=X.initialType||X.type,kt=St.options.plotOptions,ie=dt[jt].prototype,pe=X.finishedAnimating&&{animation:!1},Fe={},je=["eventOptions","navigatorSeries","baseSeries"],Ce=M.type||yt.type||St.options.chart.type,$t=!(this.hasDerivedData||Ce&&Ce!==this.type||typeof M.pointStart<"u"||typeof M.pointInterval<"u"||typeof M.relativeXValue<"u"||M.joinBy||M.mapData||X.hasOptionChanged("dataGrouping")||X.hasOptionChanged("pointStart")||X.hasOptionChanged("pointInterval")||X.hasOptionChanged("pointIntervalUnit")||X.hasOptionChanged("keys"));if(Ce=Ce||jt,$t&&(je.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==M.visible&&je.push("area","graph"),X.parallelArrays.forEach(function(Qt){je.push(Qt+"Data")}),M.data&&(M.dataSorting&&W(X.options.dataSorting,M.dataSorting),this.setData(M.data,!1))),M=Ut(yt,pe,{index:typeof yt.index>"u"?X.index:yt.index,pointStart:E(kt&&kt.series&&kt.series.pointStart,yt.pointStart,X.xData[0])},!$t&&{data:X.options.data},M),$t&&M.data&&(M.data=X.options.data),(je=["group","markerGroup","dataLabelsGroup","transformGroup","shadowGroup"].concat(je)).forEach(function(Qt){je[Qt]=X[Qt],delete X[Qt]}),kt=!1,dt[Ce]){if(kt=Ce!==X.type,X.remove(!1,!1,!1,!0),kt)if(Object.setPrototypeOf)Object.setPrototypeOf(X,dt[Ce].prototype);else{for(de in pe=Object.hasOwnProperty.call(X,"hcEvents")&&X.hcEvents,ie)X[de]=void 0;W(X,dt[Ce].prototype),pe?X.hcEvents=pe:delete X.hcEvents}}else b(17,!0,St,{missingModuleFor:Ce});if(je.forEach(function(Qt){X[Qt]=je[Qt]}),X.init(St,M),$t&&this.points){if(!1===(M=X.options).visible)Fe.graphic=1,Fe.dataLabel=1;else if(!X._hasPointLabels){var de=M.dataLabels;!(ie=M.marker)||!1!==ie.enabled&&(yt.marker&&yt.marker.symbol)===ie.symbol||(Fe.graphic=1),de&&!1===de.enabled&&(Fe.dataLabel=1)}for(yt=0,ie=this.points;yt<ie.length;yt++)(de=ie[yt])&&de.series&&(de.resolveColor(),Object.keys(Fe).length&&de.destroyElements(Fe),!1===M.showInLegend&&de.legendItem&&St.legend.destroyItem(de))}X.initialType=jt,St.linkSeries(),kt&&X.linkedSeries.length&&(X.isDirtyData=!0),P(this,"afterUpdate"),E(tt,!0)&&St.redraw(!!$t&&void 0)},ft.prototype.setName=function(M){this.name=this.options.name=this.userOptions.name=M,this.chart.isDirtyLegend=!0},ft.prototype.hasOptionChanged=function(M){var tt=this.options[M],X=this.chart.options.plotOptions,St=this.userOptions[M];return St?tt!==St:tt!==E(X&&X[this.type]&&X[this.type][M],X&&X.series&&X.series[M],tt)},ft.prototype.onMouseOver=function(){var M=this.chart,tt=M.hoverSeries;M.pointer.setHoverChartIndex(),tt&&tt!==this&&tt.onMouseOut(),this.options.events.mouseOver&&P(this,"mouseOver"),this.setState("hover"),M.hoverSeries=this},ft.prototype.onMouseOut=function(){var M=this.options,tt=this.chart,X=tt.tooltip,St=tt.hoverPoint;tt.hoverSeries=null,St&&St.onMouseOut(),this&&M.events.mouseOut&&P(this,"mouseOut"),!X||this.stickyTracking||X.shared&&!this.noSharedTooltip||X.hide(),tt.series.forEach(function(yt){yt.setState("",!0)})},ft.prototype.setState=function(M,tt){var X=this,St=X.options,yt=X.graph,jt=St.inactiveOtherPoints,kt=St.states,ie=E(kt[M||"normal"]&&kt[M||"normal"].animation,X.chart.options.chart.animation),pe=St.lineWidth,Fe=0,je=St.opacity;if(X.state!==(M=M||"")&&([X.group,X.markerGroup,X.dataLabelsGroup].forEach(function(Ce){Ce&&(X.state&&Ce.removeClass("highcharts-series-"+X.state),M&&Ce.addClass("highcharts-series-"+M))}),X.state=M,!X.chart.styledMode)){if(kt[M]&&!1===kt[M].enabled)return;if(M&&(pe=kt[M].lineWidth||pe+(kt[M].lineWidthPlus||0),je=E(kt[M].opacity,je)),yt&&!yt.dashstyle&&B(pe))for(yt.animate(St={"stroke-width":pe},ie);X["zone-graph-"+Fe];)X["zone-graph-"+Fe].animate(St,ie),Fe+=1;jt||[X.group,X.markerGroup,X.dataLabelsGroup,X.labelBySeries].forEach(function(Ce){Ce&&Ce.animate({opacity:je},ie)})}tt&&jt&&X.points&&X.setAllPointsToState(M||void 0)},ft.prototype.setAllPointsToState=function(M){this.points.forEach(function(tt){tt.setState&&tt.setState(M)})},ft.prototype.setVisible=function(M,tt){var X=this,St=X.chart,yt=St.options.chart.ignoreHiddenSeries,kt=(X.visible=M=X.options.visible=X.userOptions.visible=typeof M>"u"?!X.visible:M)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(ie){X[ie]&&X[ie][kt]()}),(St.hoverSeries===X||(St.hoverPoint&&St.hoverPoint.series)===X)&&X.onMouseOut(),X.legendItem&&St.legend.colorizeItem(X,M),X.isDirty=!0,X.options.stacking&&St.series.forEach(function(ie){ie.options.stacking&&ie.visible&&(ie.isDirty=!0)}),X.linkedSeries.forEach(function(ie){ie.setVisible(M,!1)}),yt&&(St.isDirtyBox=!0),P(X,kt),!1!==tt&&St.redraw()},ft.prototype.show=function(){this.setVisible(!0)},ft.prototype.hide=function(){this.setVisible(!1)},ft.prototype.select=function(M){this.selected=M=this.options.selected=typeof M>"u"?!this.selected:M,this.checkbox&&(this.checkbox.checked=M),P(this,M?"select":"unselect")},ft.prototype.shouldShowTooltip=function(M,tt,X){return void 0===X&&(X={}),X.series=this,X.visiblePlotOnly=!0,this.chart.isInsidePlot(M,tt,X)},ft.defaultOptions=Ot,ft.types=J.seriesTypes,ft.registerType=J.registerSeriesType,ft}(),W(ot.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:Rt.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Dt,requireSorting:!0,sorted:!0}),J.series=ot,ot}),Pt(j,"Extensions/ScrollablePlotArea.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/Axis/Axis.js"],j["Core/Chart/Chart.js"],j["Core/Series/Series.js"],j["Core/Renderer/RendererRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt,Dt){var Ot=ot.stop,J=Dt.addEvent,ht=Dt.createElement,at=Dt.defined,F=Dt.merge,R=Dt.pick;J(Ct,"afterSetChartSize",function($){var O=this.options.chart.scrollablePlotArea,V=O&&O.minWidth;if(O=O&&O.minHeight,!this.renderer.forExport){if(V){if(this.scrollablePixelsX=V=Math.max(0,V-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=F(this.plotBox),this.plotBox.width=this.plotWidth+=V,this.inverted?this.clipBox.height+=V:this.clipBox.width+=V;var Y={1:{name:"right",value:V}}}}else O&&(this.scrollablePixelsY=V=Math.max(0,O-this.chartHeight),at(V)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=F(this.plotBox),this.plotBox.height=this.plotHeight+=V,this.inverted?this.clipBox.width+=V:this.clipBox.height+=V,Y={2:{name:"bottom",value:V}}));Y&&!$.skipAxes&&this.axes.forEach(function(K){Y[K.side]?K.getPlotLinePath=function(){var dt=Y[K.side].name,g=this[dt];this[dt]=g-Y[K.side].value;var h=nt.prototype.getPlotLinePath.apply(this,arguments);return this[dt]=g,h}:(K.setAxisSize(),K.setAxisTranslation())})}}),J(Ct,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),Ct.prototype.setUpScrolling=function(){var V,$=this,O={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(O.overflowX="auto"),this.scrollablePixelsY&&(O.overflowY="auto"),this.scrollingParent=ht("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=ht("div",{className:"highcharts-scrolling"},O,this.scrollingParent),J(this.scrollingContainer,"scroll",function(){$.pointer&&(delete $.pointer.chartPosition,$.hoverPoint&&(V=$.hoverPoint),$.pointer.runPointActions(void 0,V,!0))}),this.innerContainer=ht("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},Ct.prototype.moveFixedElements=function(){var Y,$=this.container,O=this.fixedRenderer,V=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?Y=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?Y=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(Y=".highcharts-yaxis"),Y&&V.push(Y+":not(.highcharts-radial-axis)",Y+"-labels:not(.highcharts-radial-axis-labels)"),V.forEach(function(K){[].forEach.call($.querySelectorAll(K),function(dt){(dt.namespaceURI===O.SVG_NS?O.box:O.box.parentNode).appendChild(dt),dt.style.pointerEvents="auto"})})},Ct.prototype.applyFixed=function(){var $=!this.fixedDiv,O=this.options.chart,V=O.scrollablePlotArea,Y=Rt.getRendererType();$?(this.fixedDiv=ht("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(O.style&&O.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=O=new Y(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=O.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":R(V.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),J(this,"afterShowResetZoom",this.moveFixedElements),J(this,"afterApplyDrilldown",this.moveFixedElements),J(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||$)&&(this.scrollableDirty=!1,this.moveFixedElements()),O=this.chartWidth+(this.scrollablePixelsX||0),Y=this.chartHeight+(this.scrollablePixelsY||0),Ot(this.container),this.container.style.width=O+"px",this.container.style.height=Y+"px",this.renderer.boxWrapper.attr({width:O,height:Y,viewBox:[0,0,O,Y].join(" ")}),this.chartBackground.attr({width:O,height:Y}),this.scrollingContainer.style.height=this.chartHeight+"px",$&&(V.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*V.scrollPositionX),V.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*V.scrollPositionY)),$=this.plotTop-(Y=this.axisOffset)[0]-1,V=this.plotLeft-Y[3]-1,O=this.plotTop+this.plotHeight+Y[2]+1,Y=this.plotLeft+this.plotWidth+Y[1]+1;var K=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),dt=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);$=this.scrollablePixelsX?[["M",0,$],["L",this.plotLeft-1,$],["L",this.plotLeft-1,O],["L",0,O],["Z"],["M",K,$],["L",this.chartWidth,$],["L",this.chartWidth,O],["L",K,O],["Z"]]:this.scrollablePixelsY?[["M",V,0],["L",V,this.plotTop-1],["L",Y,this.plotTop-1],["L",Y,0],["Z"],["M",V,dt],["L",V,this.chartHeight],["L",Y,this.chartHeight],["L",Y,dt],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:$})},J(nt,"afterInit",function(){this.chart.scrollableDirty=!0}),J(zt,"show",function(){this.chart.scrollableDirty=!0})}),Pt(j,"Core/Axis/Stacking/StackItem.js",[j["Core/FormatUtilities.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var zt=ot.format,Rt=nt.series,Dt=Ct.defined,Ot=Ct.destroyObjectProperties,J=Ct.isNumber,ht=Ct.pick;return function(){function at(F,R,$,O,V){var Y=F.chart.inverted;this.axis=F,this.isNegative=$,this.options=R=R||{},this.x=O,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=V,this.rightCliff=this.leftCliff=0,this.alignOptions={align:R.align||(Y?$?"left":"right":"center"),verticalAlign:R.verticalAlign||(Y?"middle":$?"bottom":"top"),y:R.y,x:R.x},this.textAlign=R.textAlign||(Y?$?"right":"left":"center")}return at.prototype.destroy=function(){Ot(this,this.axis)},at.prototype.render=function(F){var R=this.axis.chart,$=this.options,O=$.format;O=O?zt(O,this,R):$.formatter.call(this),this.label?this.label.attr({text:O,visibility:"hidden"}):(this.label=R.renderer.label(O,null,null,$.shape,null,null,$.useHTML,!1,"stack-labels"),O={r:$.borderRadius||0,text:O,rotation:$.rotation,padding:ht($.padding,5),visibility:"hidden"},R.styledMode||(O.fill=$.backgroundColor,O.stroke=$.borderColor,O["stroke-width"]=$.borderWidth,this.label.css($.style)),this.label.attr(O),this.label.added||this.label.add(F)),this.label.labelrank=R.plotSizeY},at.prototype.setOffset=function(F,R,$,O,V){var Y=this.axis,K=Y.chart;O=Y.translate(Y.stacking.usePercentage?100:O||this.total,0,0,0,1),$=Y.translate($||0),F=ht(V,K.xAxis[0].translate(this.x))+F,Y=Dt(O)&&this.getStackBox(K,this,F,O,R,Math.abs(O-$),Y),$=this.isNegative;var dt=this.textAlign;(R=this.label)&&Y&&(F=R.getBBox(),V=R.padding,O="justify"===ht(this.options.overflow,"justify"),dt="left"===dt?K.inverted?-V:V:"right"===dt?F.width:K.inverted&&"center"===dt?F.width/2:K.inverted?$?F.width+V:-V:F.width/2,$=K.inverted?F.height/2:$?-V:F.height,this.alignOptions.x=ht(this.options.x,0),this.alignOptions.y=ht(this.options.y,0),Y.x-=dt,Y.y-=$,R.align(this.alignOptions,null,Y),K.isInsidePlot(R.alignAttr.x+dt-this.alignOptions.x,R.alignAttr.y+$-this.alignOptions.y)?R.show():(R.hide(),O=!1),O&&Rt.prototype.justifyDataLabel.call(this.axis,R,this.alignOptions,R.alignAttr,F,Y),R.attr({x:R.alignAttr.x,y:R.alignAttr.y}),ht(!O&&this.options.crop,!0)&&((K=J(R.x)&&J(R.y)&&K.isInsidePlot(R.x-V+R.width,R.y)&&K.isInsidePlot(R.x+V,R.y))||R.hide()))},at.prototype.getStackBox=function(F,R,$,O,V,Y,K){var dt=R.axis.reversed,g=F.inverted,h=K.height+K.pos-(g?F.plotLeft:F.plotTop);return R=R.isNegative&&!dt||!R.isNegative&&dt,{x:g?R?O-K.right:O-Y+K.pos-F.plotLeft:$+F.xAxis[0].transB-F.plotLeft,y:g?K.height-$-V:R?h-O-Y:h-O,width:g?Y:V,height:g?V:Y}},at}()}),Pt(j,"Core/Axis/Stacking/StackingAxis.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/Axis/Axis.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Axis/Stacking/StackItem.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt){function Dt(){var W=this,k=W.inverted;W.yAxis.forEach(function(P){P.stacking&&P.stacking.stacks&&P.hasVisibleSeries&&(P.stacking.oldStacks=P.stacking.stacks)}),W.series.forEach(function(P){var Q=P.xAxis&&P.xAxis.options||{};!P.options.stacking||!0!==P.visible&&!1!==W.options.chart.ignoreHiddenSeries||(P.stackKey=[P.type,A(P.options.stack,""),k?Q.top:Q.left,k?Q.height:Q.width].join())})}function Ot(){var W=this.stacking;if(W){var k=W.stacks;G(k,function(P,Q){g(P),k[Q]=null}),W&&W.stackTotalGroup&&W.stackTotalGroup.destroy()}}function J(){this.stacking||(this.stacking=new D(this))}function ht(W,k,P,Q){return!dt(W)||W.x!==k||Q&&W.stackKey!==Q?W={x:k,index:0,key:Q,stackKey:Q}:W.index++,W.key=[P,k,W.index].join(),W}function at(){var B,W=this,k=W.stackKey,P=W.yAxis.stacking.stacks,Q=W.processedXData,I=W[W.options.stacking+"Stacker"];I&&[k,"-"+k].forEach(function(vt){for(var It,E,Ut=Q.length;Ut--;)B=W.getStackIndicator(B,It=Q[Ut],W.index,vt),(E=(It=P[vt]&&P[vt][It])&&It.points[B.key])&&I.call(W,E,It,Ut)})}function F(W,k,P){W[0]=K(W[0]*(k=k.total?100/k.total:0)),W[1]=K(W[1]*k),this.stackedYData[P]=W[1]}function R(){var W=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?V.setStackedPoints.call(this,"group"):W&&G(W.stacks,function(k,P){"group"===P.slice(-5)&&(G(k,function(Q){return Q.destroy()}),delete W.stacks[P])})}function $(W){var k=this.chart,P=W||this.options.stacking;if(P&&(!0===this.visible||!1===k.options.chart.ignoreHiddenSeries)){var Q=this.processedXData,I=this.processedYData,B=[],vt=I.length,Ut=this.options,It=Ut.threshold,E=A(Ut.startFromThreshold&&It,0);Ut=Ut.stack;var M,tt,U="-"+(W=W?""+this.type+",".concat(P):this.stackKey),mt=this.negStacks,ct=(k="group"===P?k.yAxis[0]:this.yAxis).stacking.stacks,ft=k.stacking.oldStacks;for(k.stacking.stacksTouched+=1,tt=0;tt<vt;tt++){var X=Q[tt],St=I[tt],yt=this.getStackIndicator(yt,X,this.index),jt=yt.key,kt=(M=mt&&St<(E?0:It))?U:W;ct[kt]||(ct[kt]={}),ct[kt][X]||(ft[kt]&&ft[kt][X]?(ct[kt][X]=ft[kt][X],ct[kt][X].total=null):ct[kt][X]=new zt(k,k.options.stackLabels,!!M,X,Ut)),kt=ct[kt][X],null!==St?(kt.points[jt]=kt.points[this.index]=[A(kt.cumulative,E)],dt(kt.cumulative)||(kt.base=jt),kt.touched=k.stacking.stacksTouched,0<yt.index&&!1===this.singleStacks&&(kt.points[jt][0]=kt.points[this.index+","+X+",0"][0])):kt.points[jt]=kt.points[this.index]=null,"percent"===P?(M=M?W:U,kt.total=mt&&ct[M]&&ct[M][X]?(M=ct[M][X]).total=Math.max(M.total,kt.total)+Math.abs(St)||0:K(kt.total+(Math.abs(St)||0))):"group"===P?(rt(St)&&(St=St[0]),null!==St&&(kt.total=(kt.total||0)+1)):kt.total=K(kt.total+(St||0)),kt.cumulative="group"===P?(kt.total||1)-1:A(kt.cumulative,E)+(St||0),null!==St&&(kt.points[jt].push(kt.cumulative),B[tt]=kt.cumulative,kt.hasValidPoints=!0)}"percent"===P&&(k.stacking.usePercentage=!0),"group"!==P&&(this.stackedYData=B),k.stacking.oldStacks={}}}var b,W,k,O=ot.getDeferredAnimation,V=Ct.series.prototype,Y=Rt.addEvent,K=Rt.correctFloat,dt=Rt.defined,g=Rt.destroyObjectProperties,h=Rt.fireEvent,rt=Rt.isArray,T=Rt.isNumber,G=Rt.objectEach,A=Rt.pick,D=function(){function W(k){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=k}return W.prototype.buildStacks=function(){var B,k=this.axis,P=k.series,Q=k.options.reversedStacks,I=P.length;if(!k.isXAxis){for(this.usePercentage=!1,B=I;B--;){var vt=P[Q?B:I-B-1];vt.setStackedPoints(),vt.setGroupedPoints()}for(B=0;B<I;B++)P[B].modifyStacks();h(k,"afterBuildStacks")}},W.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var k=this.stacks=this.oldStacks;G(k,function(P){G(P,function(Q){Q.cumulative=Q.total})})}},W.prototype.resetStacks=function(){var k=this;k.axis.isXAxis||G(k.stacks,function(Q){G(Q,function(I,B){T(I.touched)&&I.touched<k.stacksTouched?(I.destroy(),delete Q[B]):(I.total=null,I.cumulative=null)})})},W.prototype.renderStackTotals=function(){var k=this.axis,P=k.chart,Q=P.renderer,I=this.stacks;k=O(P,k.options.stackLabels&&k.options.stackLabels.animation||!1);var B=this.stackTotalGroup=this.stackTotalGroup||Q.g("stack-labels").attr({zIndex:6,opacity:0}).add();B.translate(P.plotLeft,P.plotTop),G(I,function(vt){G(vt,function(Ut){Ut.render(B)})}),B.animate({opacity:1},k)},W}();return W=b||(b={}),k=[],W.compose=function(P,Q,I){-1===k.indexOf(P)&&(k.push(P),Y(P,"init",J),Y(P,"destroy",Ot)),-1===k.indexOf(Q)&&(k.push(Q),Q.prototype.getStacks=Dt),-1===k.indexOf(I)&&(k.push(I),(P=I.prototype).getStackIndicator=ht,P.modifyStacks=at,P.percentStacker=F,P.setGroupedPoints=R,P.setStackedPoints=$)},b}),Pt(j,"Series/Line/LineSeries.js",[j["Core/Series/Series.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var Ot,zt=this&&this.__extends||(Ot=function(J,ht){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,F){at.__proto__=F}||function(at,F){for(var R in F)F.hasOwnProperty(R)&&(at[R]=F[R])})(J,ht)},function(J,ht){function at(){this.constructor=J}Ot(J,ht),J.prototype=null===ht?Object.create(ht):(at.prototype=ht.prototype,new at)}),Rt=Ct.defined,Dt=Ct.merge;return Ct=function(Ot){function J(){var ht=null!==Ot&&Ot.apply(this,arguments)||this;return ht.data=void 0,ht.options=void 0,ht.points=void 0,ht}return zt(J,Ot),J.prototype.drawGraph=function(){var ht=this,at=this.options,F=(this.gappedPath||this.getGraphPath).call(this),R=this.chart.styledMode,$=[["graph","highcharts-graph"]];R||$[0].push(at.lineColor||this.color||"#cccccc",at.dashStyle),($=ht.getZonesGraphs($)).forEach(function(O,V){var Y=O[0],K=ht[Y],dt=K?"animate":"attr";K?(K.endX=ht.preventGraphAnimation?null:F.xMap,K.animate({d:F})):F.length&&(ht[Y]=K=ht.chart.renderer.path(F).addClass(O[1]).attr({zIndex:1}).add(ht.group)),K&&!R&&(Y={stroke:O[2],"stroke-width":at.lineWidth||0,fill:ht.fillGraph&&ht.color||"none"},O[3]?Y.dashstyle=O[3]:"square"!==at.linecap&&(Y["stroke-linecap"]=Y["stroke-linejoin"]="round"),K[dt](Y).shadow(2>V&&at.shadow)),K&&(K.startX=F.xMap,K.isArea=F.isArea)})},J.prototype.getGraphPath=function(ht,at,F){var Y,R=this,$=R.options,O=[],V=[],K=$.step,dt=(ht=ht||R.points).reversed;return dt&&ht.reverse(),(K={right:1,center:2}[K]||K&&3)&&dt&&(K=4-K),(ht=this.getValidPoints(ht,!1,!($.connectNulls&&!at&&!F))).forEach(function(g,h){var rt=g.plotX,T=g.plotY,G=ht[h-1];(g.leftCliff||G&&G.rightCliff)&&!F&&(Y=!0),g.isNull&&!Rt(at)&&0<h?Y=!$.connectNulls:g.isNull&&!at?Y=!0:(0===h||Y?h=[["M",g.plotX,g.plotY]]:R.getPointSpline?h=[R.getPointSpline(ht,g,h)]:K?(h=1===K?[["L",G.plotX,T]]:2===K?[["L",(G.plotX+rt)/2,G.plotY],["L",(G.plotX+rt)/2,T]]:[["L",rt,G.plotY]]).push(["L",rt,T]):h=[["L",rt,T]],V.push(g.x),K&&(V.push(g.x),2===K&&V.push(g.x)),O.push.apply(O,h),Y=!1)}),O.xMap=V,R.graphPath=O},J.prototype.getZonesGraphs=function(ht){return this.zones.forEach(function(at,F){F=["zone-graph-"+F,"highcharts-graph highcharts-zone-graph-"+F+" "+(at.className||"")],this.chart.styledMode||F.push(at.color||this.color,at.dashStyle||this.options.dashStyle),ht.push(F)},this),ht},J.defaultOptions=Dt(ot.defaultOptions,{}),J}(ot),nt.registerSeriesType("line",Ct),Ct}),Pt(j,"Series/Area/AreaSeries.js",[j["Core/Color/Color.js"],j["Core/Legend/LegendSymbol.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt){var F,Rt=this&&this.__extends||(F=function(R,$){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var Y in V)V.hasOwnProperty(Y)&&(O[Y]=V[Y])})(R,$)},function(R,$){function O(){this.constructor=R}F(R,$),R.prototype=null===$?Object.create($):(O.prototype=$.prototype,new O)}),Dt=ot.parse,Ot=Ct.seriesTypes.line;ot=zt.extend;var J=zt.merge,ht=zt.objectEach,at=zt.pick;return zt=function(F){function R(){var $=null!==F&&F.apply(this,arguments)||this;return $.data=void 0,$.options=void 0,$.points=void 0,$}return Rt(R,F),R.prototype.drawGraph=function(){this.areaPath=[],F.prototype.drawGraph.apply(this);var $=this,O=this.areaPath,V=this.options,Y=[["area","highcharts-area",this.color,V.fillColor]];this.zones.forEach(function(K,dt){Y.push(["zone-area-"+dt,"highcharts-area highcharts-zone-area-"+dt+" "+K.className,K.color||$.color,K.fillColor||V.fillColor])}),Y.forEach(function(K){var dt=K[0],g={},h=$[dt],rt=h?"animate":"attr";h?(h.endX=$.preventGraphAnimation?null:O.xMap,h.animate({d:O})):(g.zIndex=0,(h=$[dt]=$.chart.renderer.path(O).addClass(K[1]).add($.group)).isArea=!0),$.chart.styledMode||(g.fill=at(K[3],Dt(K[2]).setOpacity(at(V.fillOpacity,.75)).get())),h[rt](g),h.startX=O.xMap,h.shiftUnit=V.step?2:1})},R.prototype.getGraphPath=function($){var O=Ot.prototype.getGraphPath,V=this.options,Y=V.stacking,K=this.yAxis,dt=[],g=[],h=this.index,rt=K.stacking.stacks[this.stackKey],T=V.threshold,G=Math.round(K.getThreshold(V.threshold));V=at(V.connectNulls,"percent"===Y);var A=function(Q,I,B){var vt=$[Q];Q=Y&&rt[vt.x].points[h];var Ut=vt[B+"Null"]||0;if(B=vt[B+"Cliff"]||0,vt=!0,B||Ut){var It=(Ut?Q[0]:Q[1])+B,E=Q[0]+B;vt=!!Ut}else!Y&&$[I]&&$[I].isNull&&(It=E=T);typeof It<"u"&&(g.push({plotX:k,plotY:null===It?G:K.getThreshold(It),isNull:vt,isCliff:!0}),dt.push({plotX:k,plotY:null===E?G:K.getThreshold(E),doCurve:!1}))};$=$||this.points,Y&&($=this.getStackPoints($));for(var D=0,b=$.length;D<b;++D){Y||($[D].leftCliff=$[D].rightCliff=$[D].leftNull=$[D].rightNull=void 0);var W=$[D].isNull,k=at($[D].rectPlotX,$[D].plotX),P=Y?at($[D].yBottom,G):G;(!W||V)&&(V||A(D,D-1,"left"),W&&!Y&&V||(g.push($[D]),dt.push({x:D,plotX:k,plotY:P})),V||A(D,D+1,"right"))}return A=O.call(this,g,!0,!0),dt.reversed=!0,(P=(W=O.call(this,dt,!0,!0))[0])&&"M"===P[0]&&(W[0]=["L",P[1],P[2]]),(W=A.concat(W)).length&&W.push(["Z"]),O=O.call(this,g,!1,V),W.xMap=A.xMap,this.areaPath=W,O},R.prototype.getStackPoints=function($){var O=this,V=[],Y=[],K=this.xAxis,dt=this.yAxis,g=dt.stacking.stacks[this.stackKey],h={},rt=dt.series,T=rt.length,G=dt.options.reversedStacks?1:-1,A=rt.indexOf(O);if($=$||this.points,this.options.stacking){for(var D=0;D<$.length;D++)$[D].leftNull=$[D].rightNull=void 0,h[$[D].x]=$[D];ht(g,function(W,k){null!==W.total&&Y.push(k)}),Y.sort(function(W,k){return W-k});var b=rt.map(function(W){return W.visible});Y.forEach(function(W,k){var Q,I,P=0;if(h[W]&&!h[W].isNull)V.push(h[W]),[-1,1].forEach(function(vt){var Ut=1===vt?"rightNull":"leftNull",It=g[Y[k+vt]],E=0;if(It)for(var U=A;0<=U&&U<T;){var mt=rt[U].index;(Q=It.points[mt])||(mt===O.index?h[W][Ut]=!0:b[U]&&(I=g[W].points[mt])&&(E-=I[1]-I[0])),U+=G}h[W][1===vt?"rightCliff":"leftCliff"]=E});else{for(var B=A;0<=B&&B<T;){if(Q=g[W].points[rt[B].index]){P=Q[1];break}B+=G}P=at(P,0),P=dt.translate(P,0,1,0,1),V.push({isNull:!0,plotX:K.translate(W,0,0,0,1),x:W,plotY:P,yBottom:P})}})}return V},R.defaultOptions=J(Ot.defaultOptions,{threshold:0}),R}(Ot),ot(zt.prototype,{singleStacks:!1,drawLegendSymbol:nt.drawRectangle}),Ct.registerSeriesType("area",zt),zt}),Pt(j,"Series/Spline/SplineSeries.js",[j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt){var Ot,Ct=this&&this.__extends||(Ot=function(J,ht){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,F){at.__proto__=F}||function(at,F){for(var R in F)F.hasOwnProperty(R)&&(at[R]=F[R])})(J,ht)},function(J,ht){function at(){this.constructor=J}Ot(J,ht),J.prototype=null===ht?Object.create(ht):(at.prototype=ht.prototype,new at)}),zt=ot.seriesTypes.line,Rt=nt.merge,Dt=nt.pick;return nt=function(Ot){function J(){var ht=null!==Ot&&Ot.apply(this,arguments)||this;return ht.data=void 0,ht.options=void 0,ht.points=void 0,ht}return Ct(J,Ot),J.prototype.getPointSpline=function(ht,at,F){var R=at.plotX||0,$=at.plotY||0,O=ht[F-1];if(F=ht[F+1],O&&!O.isNull&&!1!==O.doCurve&&!at.isCliff&&F&&!F.isNull&&!1!==F.doCurve&&!at.isCliff){var V=F.plotX||0,Y=0,K=(1.5*R+(O.plotX||0))/2.5,dt=(1.5*$+(ht=O.plotY||0))/2.5,g=(1.5*$+(F=F.plotY||0))/2.5;(V=(1.5*R+V)/2.5)!==K&&(Y=(g-dt)*(V-R)/(V-K)+$-g),g+=Y,(dt+=Y)>ht&&dt>$?g=2*$-(dt=Math.max(ht,$)):dt<ht&&dt<$&&(g=2*$-(dt=Math.min(ht,$))),g>F&&g>$?dt=2*$-(g=Math.max(F,$)):g<F&&g<$&&(dt=2*$-(g=Math.min(F,$))),at.rightContX=V,at.rightContY=g}return at=["C",Dt(O.rightContX,O.plotX,0),Dt(O.rightContY,O.plotY,0),Dt(K,R,0),Dt(dt,$,0),R,$],O.rightContX=O.rightContY=void 0,at},J.defaultOptions=Rt(zt.defaultOptions),J}(zt),ot.registerSeriesType("spline",nt),nt}),Pt(j,"Series/AreaSpline/AreaSplineSeries.js",[j["Series/Spline/SplineSeries.js"],j["Core/Legend/LegendSymbol.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt){var at,Rt=this&&this.__extends||(at=function(F,R){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,O){$.__proto__=O}||function($,O){for(var V in O)O.hasOwnProperty(V)&&($[V]=O[V])})(F,R)},function(F,R){function $(){this.constructor=F}at(F,R),F.prototype=null===R?Object.create(R):($.prototype=R.prototype,new $)}),Dt=Ct.seriesTypes,Ot=Dt.area;Dt=Dt.area.prototype;var J=zt.extend,ht=zt.merge;return zt=function(at){function F(){var R=null!==at&&at.apply(this,arguments)||this;return R.data=void 0,R.points=void 0,R.options=void 0,R}return Rt(F,at),F.defaultOptions=ht(ot.defaultOptions,Ot.defaultOptions),F}(ot),J(zt.prototype,{getGraphPath:Dt.getGraphPath,getStackPoints:Dt.getStackPoints,drawGraph:Dt.drawGraph,drawLegendSymbol:nt.drawRectangle}),Ct.registerSeriesType("areaspline",zt),zt}),Pt(j,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),Pt(j,"Series/Column/ColumnSeries.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/Color/Color.js"],j["Series/Column/ColumnSeriesDefaults.js"],j["Core/Globals.js"],j["Core/Legend/LegendSymbol.js"],j["Core/Series/Series.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt,Dt,Ot,J){var T,ht=this&&this.__extends||(T=function(G,A){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,b){D.__proto__=b}||function(D,b){for(var W in b)b.hasOwnProperty(W)&&(D[W]=b[W])})(G,A)},function(G,A){function D(){this.constructor=G}T(G,A),G.prototype=null===A?Object.create(A):(D.prototype=A.prototype,new D)}),at=ot.animObject,F=nt.parse,R=zt.hasTouch;ot=zt.noop;var $=J.clamp,O=J.defined,V=J.extend,Y=J.fireEvent,K=J.isArray,dt=J.isNumber,g=J.merge,h=J.pick,rt=J.objectEach;return J=function(T){function G(){var A=null!==T&&T.apply(this,arguments)||this;return A.borderWidth=void 0,A.data=void 0,A.group=void 0,A.options=void 0,A.points=void 0,A}return ht(G,T),G.prototype.animate=function(A){var D=this,b=this.yAxis,W=D.options,k=this.chart.inverted,P={},Q=k?"translateX":"translateY";if(A)P.scaleY=.001,A=$(b.toPixels(W.threshold),b.pos,b.pos+b.len),k?P.translateX=A-b.len:P.translateY=A,D.clipBox&&D.setClip(),D.group.attr(P);else{var I=Number(D.group.attr(Q));D.group.animate({scaleY:1},V(at(D.options.animation),{step:function(B,vt){D.group&&(P[Q]=I+vt.pos*(b.pos-I),D.group.attr(P))}}))}},G.prototype.init=function(A,D){T.prototype.init.apply(this,arguments);var b=this;(A=b.chart).hasRendered&&A.series.forEach(function(W){W.type===b.type&&(W.isDirty=!0)})},G.prototype.getColumnMetrics=function(){var A=this,D=A.options,b=A.xAxis,W=A.yAxis,k=b.options.reversedStacks;k=b.reversed&&!k||!b.reversed&&k;var Q,P={},I=0;!1===D.grouping?I=1:A.chart.series.forEach(function(It){var E=It.yAxis,U=It.options;if(It.type===A.type&&(It.visible||!A.chart.options.chart.ignoreHiddenSeries)&&W.len===E.len&&W.pos===E.pos){if(U.stacking&&"group"!==U.stacking){typeof P[Q=It.stackKey]>"u"&&(P[Q]=I++);var mt=P[Q]}else!1!==U.grouping&&(mt=I++);It.columnIndex=mt}});var B=Math.min(Math.abs(b.transA)*(b.ordinal&&b.ordinal.slope||D.pointRange||b.closestPointRange||b.tickInterval||1),b.len),vt=B*D.groupPadding,Ut=(B-2*vt)/(I||1);return D=Math.min(D.maxPointWidth||b.len,h(D.pointWidth,Ut*(1-2*D.pointPadding))),A.columnMetrics={width:D,offset:(Ut-D)/2+(vt+((A.columnIndex||0)+(k?1:0))*Ut-B/2)*(k?-1:1),paddedWidth:Ut,columnCount:I},A.columnMetrics},G.prototype.crispCol=function(A,D,b,W){var k=this.chart,P=this.borderWidth,Q=-(P%2?.5:0);return P=P%2?.5:1,k.inverted&&k.renderer.isVML&&(P+=1),this.options.crisp&&(b=Math.round(A+b)+Q,b-=A=Math.round(A)+Q),W=Math.round(D+W)+P,Q=.5>=Math.abs(D)&&.5<W,W-=D=Math.round(D)+P,Q&&W&&(--D,W+=1),{x:A,y:D,width:b,height:W}},G.prototype.adjustForMissingColumns=function(A,D,b,W){var k=this,P=this.options.stacking;if(!b.isNull&&1<W.columnCount){var Q=this.yAxis.options.reversedStacks,I=0,B=Q?0:-W.columnCount;rt(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(vt){if("number"==typeof b.x){var Ut=vt[b.x.toString()];Ut&&(vt=Ut.points[k.index],P?(vt&&(I=B),Ut.hasValidPoints&&(Q?B++:B--)):K(vt)&&(vt=Object.keys(Ut.points).filter(function(It){return!It.match(",")&&Ut.points[It]&&1<Ut.points[It].length}).map(parseFloat).sort(function(It,E){return E-It}),I=vt.indexOf(k.index),B=vt.length))}}),A=(b.plotX||0)+((B-1)*W.paddedWidth+D)/2-D-I*W.paddedWidth}return A},G.prototype.translate=function(){var A=this,D=A.chart,b=A.options,W=A.dense=2>A.closestPointRange*A.xAxis.transA;W=A.borderWidth=h(b.borderWidth,W?0:1);var k=A.xAxis,P=A.yAxis,Q=b.threshold,I=A.translatedThreshold=P.getThreshold(Q),B=h(b.minPointLength,5),vt=A.getColumnMetrics(),Ut=vt.width,It=A.pointXOffset=vt.offset,E=A.dataMin,U=A.dataMax,mt=A.barW=Math.max(Ut,1+2*W);D.inverted&&(I-=.5),b.pointPadding&&(mt=Math.ceil(mt)),Dt.prototype.translate.apply(A),A.points.forEach(function(ct){var ft=h(ct.yBottom,I),M=999+Math.abs(ft),tt=ct.plotX||0;M=$(ct.plotY,-M,P.len+M);var X=Math.min(M,ft),St=Math.max(M,ft)-X,yt=Ut,jt=tt+It,kt=mt;B&&Math.abs(St)<B&&(St=B,tt=!P.reversed&&!ct.negative||P.reversed&&ct.negative,dt(Q)&&dt(U)&&ct.y===Q&&U<=Q&&(P.min||0)<Q&&(E!==U||(P.max||0)<=Q)&&(tt=!tt),X=Math.abs(X-I)>B?ft-B:I-(tt?B:0)),O(ct.options.pointWidth)&&(yt=kt=Math.ceil(ct.options.pointWidth),jt-=Math.round((yt-Ut)/2)),b.centerInCategory&&(jt=A.adjustForMissingColumns(jt,yt,ct,vt)),ct.barX=jt,ct.pointWidth=yt,ct.tooltipPos=D.inverted?[$(P.len+P.pos-D.plotLeft-M,P.pos-D.plotLeft,P.len+P.pos-D.plotLeft),k.len+k.pos-D.plotTop-jt-kt/2,St]:[k.left-D.plotLeft+jt+kt/2,$(M+P.pos-D.plotTop,P.pos-D.plotTop,P.len+P.pos-D.plotTop),St],ct.shapeType=A.pointClass.prototype.shapeType||"rect",ct.shapeArgs=A.crispCol.apply(A,ct.isNull?[jt,I,kt,0]:[jt,X,kt,St])})},G.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},G.prototype.pointAttribs=function(A,D){var b=this.options,W=this.pointAttrToOptions||{},k=W.stroke||"borderColor",P=W["stroke-width"]||"borderWidth",Q=A&&A.color||this.color,I=A&&A[k]||b[k]||Q;W=A&&A.options.dashStyle||b.dashStyle;var B=A&&A[P]||b[P]||this[P]||0,vt=h(A&&A.opacity,b.opacity,1);if(A&&this.zones.length){var Ut=A.getZone();Q=A.options.color||Ut&&(Ut.color||A.nonZonedColor)||this.color,Ut&&(I=Ut.borderColor||I,W=Ut.dashStyle||W,B=Ut.borderWidth||B)}return D&&A&&(D=(A=g(b.states[D],A.options.states&&A.options.states[D]||{})).brightness,Q=A.color||typeof D<"u"&&F(Q).brighten(A.brightness).get()||Q,I=A[k]||I,B=A[P]||B,W=A.dashStyle||W,vt=h(A.opacity,vt)),k={fill:Q,stroke:I,"stroke-width":B,opacity:vt},W&&(k.dashstyle=W),k},G.prototype.drawPoints=function(A){void 0===A&&(A=this.points);var Q,D=this,b=this.chart,W=D.options,k=b.renderer,P=W.animationLimit||250;A.forEach(function(I){var B=I.graphic,vt=!!B,Ut=B&&b.pointCount<P?"animate":"attr";dt(I.plotY)&&null!==I.y?(Q=I.shapeArgs,B&&I.hasNewShapeType()&&(B=B.destroy()),D.enabledDataSorting&&(I.startXPos=D.xAxis.reversed?-(Q&&Q.width||0):D.xAxis.width),B||(I.graphic=B=k[I.shapeType](Q).add(I.group||D.group))&&D.enabledDataSorting&&b.hasRendered&&b.pointCount<P&&(B.attr({x:I.startXPos}),vt=!0,Ut="animate"),B&&vt&&B[Ut](g(Q)),W.borderRadius&&B[Ut]({r:W.borderRadius}),b.styledMode||B[Ut](D.pointAttribs(I,I.selected&&"select")).shadow(!1!==I.allowShadow&&W.shadow,null,W.stacking&&!W.borderRadius),B&&(B.addClass(I.getClassName(),!0),B.attr({visibility:I.visible?"inherit":"hidden"}))):B&&(I.graphic=B.destroy())})},G.prototype.drawTracker=function(A){void 0===A&&(A=this.points);var P,D=this,b=D.chart,W=b.pointer,k=function(Q){var I=W.getPointFromEvent(Q);typeof I<"u"&&(W.isDirectTouch=!0,I.onMouseOver(Q))};A.forEach(function(Q){P=K(Q.dataLabels)?Q.dataLabels:Q.dataLabel?[Q.dataLabel]:[],Q.graphic&&(Q.graphic.element.point=Q),P.forEach(function(I){I.div?I.div.point=Q:I.element.point=Q})}),D._hasTracking||(D.trackerGroups.forEach(function(Q){D[Q]&&(D[Q].addClass("highcharts-tracker").on("mouseover",k).on("mouseout",function(I){W.onTrackerMouseOut(I)}),R&&D[Q].on("touchstart",k),!b.styledMode&&D.options.cursor&&D[Q].css({cursor:D.options.cursor}))}),D._hasTracking=!0),Y(this,"afterDrawTracker")},G.prototype.remove=function(){var A=this,D=A.chart;D.hasRendered&&D.series.forEach(function(b){b.type===A.type&&(b.isDirty=!0)}),Dt.prototype.remove.apply(A,arguments)},G.defaultOptions=g(Dt.defaultOptions,Ct),G}(Dt),V(J.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:Rt.drawRectangle,getSymbol:ot,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Ot.registerSeriesType("column",J),J}),Pt(j,"Core/Series/DataLabel.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/FormatUtilities.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var V,zt=ot.getDeferredAnimation,Rt=nt.format,Dt=Ct.defined,Ot=Ct.extend,J=Ct.fireEvent,ht=Ct.isArray,at=Ct.isString,F=Ct.merge,R=Ct.objectEach,$=Ct.pick,O=Ct.splat;return function(Y){function K(A,D,b,W,k){var P=this,Q=this.chart,I=this.isCartesian&&Q.inverted,B=this.enabledDataSorting,vt=A.plotX,Ut=A.plotY,It=b.rotation,E=b.align,U=Dt(vt)&&Dt(Ut)&&Q.isInsidePlot(vt,Math.round(Ut),{inverted:I,paneCoordinates:!0,series:P}),mt=function(X){B&&P.xAxis&&!ct&&P.setDataLabelStartPos(A,D,k,U,X)},ct="justify"===$(b.overflow,B?"none":"justify"),ft=this.visible&&!1!==A.visible&&Dt(vt)&&(A.series.forceDL||B&&!ct||U||$(b.inside,!!this.options.stacking)&&W&&Q.isInsidePlot(vt,I?W.x+1:W.y+W.height-1,{inverted:I,paneCoordinates:!0,series:P}));if(ft&&Dt(vt)&&Dt(Ut)){It&&D.attr({align:E}),E=D.getBBox(!0);var M=[0,0],tt=Q.renderer.fontMetrics(Q.styledMode?void 0:b.style.fontSize,D).b;W=Ot({x:I?this.yAxis.len-Ut:vt,y:Math.round(I?this.xAxis.len-vt:Ut),width:0,height:0},W),Ot(b,{width:E.width,height:E.height}),It?(ct=!1,M=Q.renderer.rotCorr(tt,It),tt={x:W.x+(b.x||0)+W.width/2+M.x,y:W.y+(b.y||0)+{top:0,middle:.5,bottom:1}[b.verticalAlign]*W.height},M=[E.x-Number(D.attr("x")),E.y-Number(D.attr("y"))],mt(tt),D[k?"attr":"animate"](tt)):(mt(W),D.align(b,void 0,W),tt=D.alignAttr),ct&&0<=W.height?this.justifyDataLabel(D,b,tt,E,W,k):$(b.crop,!0)&&(W=tt.x,mt=tt.y,ft=Q.isInsidePlot(W+=M[0],mt+=M[1],{paneCoordinates:!0,series:P})&&Q.isInsidePlot(W+E.width,mt+E.height,{paneCoordinates:!0,series:P})),b.shape&&!It&&D[k?"attr":"animate"]({anchorX:I?Q.plotWidth-Ut:vt,anchorY:I?Q.plotHeight-vt:Ut})}k&&B&&(D.placed=!1),ft||B&&!ct?D.show():(D.hide(),D.placed=!1)}function g(A){void 0===A&&(A=this.points);var D=this,b=D.chart,W=D.options,k=D.hasRendered||0,P=b.renderer,Q=b.options.chart,I=Q.backgroundColor,B=P.getContrast(at(Q=Q.plotBackgroundColor)&&Q||at(I)&&I||"#000000"),vt=W.dataLabels;if(I=vt.animation,I=vt.defer?zt(b,I,D):{defer:0,duration:0},vt=rt(rt(b.options.plotOptions&&b.options.plotOptions.series&&b.options.plotOptions.series.dataLabels,b.options.plotOptions&&b.options.plotOptions[D.type]&&b.options.plotOptions[D.type].dataLabels),vt),J(this,"drawDataLabels"),ht(vt)||vt.enabled||D._hasPointLabels){var It=D.plotGroup("dataLabelsGroup","data-labels",k?"inherit":"hidden",vt.zIndex||6);It.attr({opacity:+k}),!k&&(k=D.dataLabelsGroup)&&(D.visible&&It.show(),k[W.animation?"animate":"attr"]({opacity:1},I)),A.forEach(function(E){O(rt(vt,E.dlOptions||E.options&&E.options.dataLabels)).forEach(function(U,mt){var ct=U.enabled&&(!E.isNull||E.dataLabelOnNull)&&function dt(A,D){var b=D.filter;return!b||(D=b.operator,A=A[b.property],b=b.value,">"===D&&A>b||"<"===D&&A<b||">="===D&&A>=b||"<="===D&&A<=b||"=="===D&&A==b||"==="===D&&A===b)}(E,U),ft=E.connectors?E.connectors[mt]:E.connector,M=E.dataLabels?E.dataLabels[mt]:E.dataLabel,tt=!M,X=$(U.distance,E.labelDistance);if(ct){var St=E.getLabelConfig(),yt=$(U[E.formatPrefix+"Format"],U.format);St=Dt(yt)?Rt(yt,St,b):(U[E.formatPrefix+"Formatter"]||U.formatter).call(St,U),yt=U.style;var jt=U.rotation;b.styledMode||(yt.color=$(U.color,yt.color,D.color,"#000000"),"contrast"===yt.color?(E.contrastColor=P.getContrast(E.color||D.color),yt.color=!Dt(X)&&U.inside||0>X||W.stacking?E.contrastColor:B):delete E.contrastColor,W.cursor&&(yt.cursor=W.cursor));var kt={r:U.borderRadius||0,rotation:jt,padding:U.padding,zIndex:1};b.styledMode||(kt.fill=U.backgroundColor,kt.stroke=U.borderColor,kt["stroke-width"]=U.borderWidth),R(kt,function(ie,pe){typeof ie>"u"&&delete kt[pe]})}!M||ct&&Dt(St)&&!!M.div==!!U.useHTML&&(M.rotation&&U.rotation||M.rotation===U.rotation)||(tt=!0,E.dataLabel=M=E.dataLabel&&E.dataLabel.destroy(),E.dataLabels&&(1===E.dataLabels.length?delete E.dataLabels:delete E.dataLabels[mt]),mt||delete E.dataLabel,ft&&(E.connector=E.connector.destroy(),E.connectors&&(1===E.connectors.length?delete E.connectors:delete E.connectors[mt]))),ct&&Dt(St)?(M?kt.text=St:(E.dataLabels=E.dataLabels||[],M=E.dataLabels[mt]=jt?P.text(St,0,0,U.useHTML).addClass("highcharts-data-label"):P.label(St,0,0,U.shape,null,null,U.useHTML,null,"data-label"),mt||(E.dataLabel=M),M.addClass(" highcharts-data-label-color-"+E.colorIndex+" "+(U.className||"")+(U.useHTML?" highcharts-tracker":""))),M.options=U,M.attr(kt),b.styledMode||M.css(yt).shadow(U.shadow),(mt=U[E.formatPrefix+"TextPath"]||U.textPath)&&!U.useHTML&&(M.setTextPath(E.getDataLabelPath&&E.getDataLabelPath(M)||E.graphic,mt),E.dataLabelPath&&!mt.enabled&&(E.dataLabelPath=E.dataLabelPath.destroy())),M.added||M.add(It),D.alignDataLabel(E,M,U,null,tt)):M&&M.hide()})})}J(this,"afterDrawDataLabels")}function h(A,D,b,W,k,P){var Q=this.chart,I=D.align,B=D.verticalAlign,vt=A.box?0:A.padding||0,Ut=D.x;Ut=void 0===Ut?0:Ut;var It=D.y;It=void 0===It?0:It;var E=(b.x||0)+vt;if(0>E){"right"===I&&0<=Ut?(D.align="left",D.inside=!0):Ut-=E;var U=!0}return(E=(b.x||0)+W.width-vt)>Q.plotWidth&&("left"===I&&0>=Ut?(D.align="right",D.inside=!0):Ut+=Q.plotWidth-E,U=!0),0>(E=b.y+vt)&&("bottom"===B&&0<=It?(D.verticalAlign="top",D.inside=!0):It-=E,U=!0),(E=(b.y||0)+W.height-vt)>Q.plotHeight&&("top"===B&&0>=It?(D.verticalAlign="bottom",D.inside=!0):It+=Q.plotHeight-E,U=!0),U&&(D.x=Ut,D.y=It,A.placed=!P,A.align(D,void 0,k)),U}function rt(A,D){var W,b=[];if(ht(A)&&!ht(D))b=A.map(function(k){return F(k,D)});else if(ht(D)&&!ht(A))b=D.map(function(k){return F(A,k)});else if(ht(A)||ht(D))for(W=Math.max(A.length,D.length);W--;)b[W]=F(A[W],D[W]);else b=F(A,D);return b}function T(A,D,b,W,k){var P=this.chart,Q=P.inverted,I=this.xAxis,B=I.reversed,vt=Q?D.height/2:D.width/2;A=(A=A.pointWidth)?A/2:0,D.startXPos=Q?k.x:B?-vt-A:I.width-vt+A,D.startYPos=Q?B?this.yAxis.height-vt+A:-vt-A:k.y,W?"hidden"===D.visibility&&(D.show(),D.attr({opacity:0}).animate({opacity:1})):D.attr({opacity:1}).animate({opacity:0},void 0,D.hide),P.hasRendered&&(b&&D.attr({x:D.startXPos,y:D.startYPos}),D.placed=!0)}var G=[];Y.compose=function(A){if(-1===G.indexOf(A)){var D=A.prototype;G.push(A),D.alignDataLabel=K,D.drawDataLabels=g,D.justifyDataLabel=h,D.setDataLabelStartPos=T}}}(V||(V={})),V}),Pt(j,"Series/Column/ColumnDataLabel.js",[j["Core/Series/DataLabel.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var Ot,zt=nt.series,Rt=Ct.merge,Dt=Ct.pick;return function(J){function ht(F,R,$,O,V){var Y=this.chart.inverted,K=F.series,dt=(K.xAxis?K.xAxis.len:this.chart.plotSizeX)||0,g=F.dlBox||F.shapeArgs,h=Dt(F.below,F.plotY>Dt(this.translatedThreshold,K=(K.yAxis?K.yAxis.len:this.chart.plotSizeY)||0)),rt=Dt($.inside,!!this.options.stacking);g&&(0>(O=Rt(g)).y&&(O.height+=O.y,O.y=0),0<(g=O.y+O.height-K)&&g<O.height&&(O.height-=g),Y&&(O={x:K-O.y-O.height,y:dt-O.x-O.width,width:O.height,height:O.width}),rt||(Y?(O.x+=h?0:O.width,O.width=0):(O.y+=h?O.height:0,O.height=0))),$.align=Dt($.align,!Y||rt?"center":h?"right":"left"),$.verticalAlign=Dt($.verticalAlign,Y||rt?"middle":h?"top":"bottom"),zt.prototype.alignDataLabel.call(this,F,R,$,O,V),$.inside&&F.contrastColor&&R.css({color:F.contrastColor})}var at=[];J.compose=function(F){ot.compose(zt),-1===at.indexOf(F)&&(at.push(F),F.prototype.alignDataLabel=ht)}}(Ot||(Ot={})),Ot}),Pt(j,"Series/Bar/BarSeries.js",[j["Series/Column/ColumnSeries.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var Ot,zt=this&&this.__extends||(Ot=function(J,ht){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,F){at.__proto__=F}||function(at,F){for(var R in F)F.hasOwnProperty(R)&&(at[R]=F[R])})(J,ht)},function(J,ht){function at(){this.constructor=J}Ot(J,ht),J.prototype=null===ht?Object.create(ht):(at.prototype=ht.prototype,new at)}),Rt=Ct.extend,Dt=Ct.merge;return Ct=function(Ot){function J(){var ht=null!==Ot&&Ot.apply(this,arguments)||this;return ht.data=void 0,ht.options=void 0,ht.points=void 0,ht}return zt(J,Ot),J.defaultOptions=Dt(ot.defaultOptions,{}),J}(ot),Rt(Ct.prototype,{inverted:!0}),nt.registerSeriesType("bar",Ct),Ct}),Pt(j,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),Pt(j,"Series/Scatter/ScatterSeries.js",[j["Series/Scatter/ScatterSeriesDefaults.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var at,zt=this&&this.__extends||(at=function(F,R){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,O){$.__proto__=O}||function($,O){for(var V in O)O.hasOwnProperty(V)&&($[V]=O[V])})(F,R)},function(F,R){function $(){this.constructor=F}at(F,R),F.prototype=null===R?Object.create(R):($.prototype=R.prototype,new $)}),Rt=nt.seriesTypes,Dt=Rt.column,Ot=Rt.line;Rt=Ct.addEvent;var J=Ct.extend,ht=Ct.merge;return Ct=function(at){function F(){var R=null!==at&&at.apply(this,arguments)||this;return R.data=void 0,R.options=void 0,R.points=void 0,R}return zt(F,at),F.prototype.applyJitter=function(){var R=this,$=this.options.jitter,O=this.points.length;$&&this.points.forEach(function(V,Y){["x","y"].forEach(function(K,dt){var g="plot"+K.toUpperCase();if($[K]&&!V.isNull){var h=R[K+"Axis"],rt=$[K]*h.transA;if(h&&!h.isLog){var T=Math.max(0,V[g]-rt);h=Math.min(h.len,V[g]+rt),dt=1e4*Math.sin(Y+dt*O),V[g]=T+(h-T)*(dt-Math.floor(dt)),"x"===K&&(V.clientX=V.plotX)}}})})},F.prototype.drawGraph=function(){this.options.lineWidth?at.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},F.defaultOptions=ht(Ot.defaultOptions,ot),F}(Ot),J(Ct.prototype,{drawTracker:Dt.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),Rt(Ct,"afterTranslate",function(){this.applyJitter()}),nt.registerSeriesType("scatter",Ct),Ct}),Pt(j,"Series/CenteredUtilities.js",[j["Core/Globals.js"],j["Core/Series/Series.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var ht,at,zt=ot.deg2rad,Rt=Ct.fireEvent,Dt=Ct.isNumber,Ot=Ct.pick,J=Ct.relativeLength;return(at=ht||(ht={})).getCenter=function(){var F=this.options,R=this.chart,$=2*(F.slicedOffset||0),O=R.plotWidth-2*$,V=R.plotHeight-2*$,Y=F.center,K=Math.min(O,V),dt=F.thickness,g=F.size,h=F.innerSize||0;for("string"==typeof g&&(g=parseFloat(g)),"string"==typeof h&&(h=parseFloat(h)),F=[Ot(Y[0],"50%"),Ot(Y[1],"50%"),Ot(g&&0>g?void 0:F.size,"100%"),Ot(h&&0>h?void 0:F.innerSize||0,"0%")],!R.angular||this instanceof nt||(F[3]=0),Y=0;4>Y;++Y)g=F[Y],R=2>Y||2===Y&&/%$/.test(g),F[Y]=J(g,[O,V,K,F[2]][Y])+(R?$:0);return F[3]>F[2]&&(F[3]=F[2]),Dt(dt)&&2*dt<F[2]&&0<dt&&(F[3]=F[2]-2*dt),Rt(this,"afterGetCenter",{positions:F}),F},at.getStartAndEndRadians=function(F,R){return F=Dt(F)?F:0,R=Dt(R)&&R>F&&360>R-F?R:F+360,{start:zt*(F+-90),end:zt*(R+-90)}},ht}),Pt(j,"Series/Pie/PiePoint.js",[j["Core/Animation/AnimationUtilities.js"],j["Core/Series/Point.js"],j["Core/Utilities.js"]],function(ot,nt,Ct){var F,zt=this&&this.__extends||(F=function(R,$){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var Y in V)V.hasOwnProperty(Y)&&(O[Y]=V[Y])})(R,$)},function(R,$){function O(){this.constructor=R}F(R,$),R.prototype=null===$?Object.create($):(O.prototype=$.prototype,new O)}),Rt=ot.setAnimation,Dt=Ct.addEvent,Ot=Ct.defined;ot=Ct.extend;var J=Ct.isNumber,ht=Ct.pick,at=Ct.relativeLength;return nt=function(F){function R(){var $=null!==F&&F.apply(this,arguments)||this;return $.labelDistance=void 0,$.options=void 0,$.series=void 0,$}return zt(R,F),R.prototype.getConnectorPath=function(){var $=this.labelPosition,O=this.series.options.dataLabels,V=this.connectorShapes,Y=O.connectorShape;return V[Y]&&(Y=V[Y]),Y.call(this,{x:$.final.x,y:$.final.y,alignment:$.alignment},$.connectorPosition,O)},R.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},R.prototype.haloPath=function($){var O=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(O.x,O.y,O.r+$,O.r+$,{innerR:O.r-1,start:O.start,end:O.end})},R.prototype.init=function(){var $=this;F.prototype.init.apply(this,arguments),this.name=ht(this.name,"Slice");var O=function(V){$.slice("select"===V.type)};return Dt(this,"select",O),Dt(this,"unselect",O),this},R.prototype.isValid=function(){return J(this.y)&&0<=this.y},R.prototype.setVisible=function($,O){var V=this,Y=this.series,K=Y.chart,dt=Y.options.ignoreHiddenPoint;O=ht(O,dt),$!==this.visible&&(this.visible=this.options.visible=$=typeof $>"u"?!this.visible:$,Y.options.data[Y.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(g){V[g]&&V[g][$?"show":"hide"]($)}),this.legendItem&&K.legend.colorizeItem(this,$),$||"hover"!==this.state||this.setState(""),dt&&(Y.isDirty=!0),O&&K.redraw())},R.prototype.slice=function($,O,V){var Y=this.series;Rt(V,Y.chart),ht(O,!0),this.sliced=this.options.sliced=Ot($)?$:!this.sliced,Y.options.data[Y.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},R}(nt),ot(nt.prototype,{connectorShapes:{fixedOffset:function(F,R,$){var O=R.breakAt;return R=R.touchingSliceAt,[["M",F.x,F.y],$.softConnector?["C",F.x+("left"===F.alignment?-5:5),F.y,2*O.x-R.x,2*O.y-R.y,O.x,O.y]:["L",O.x,O.y],["L",R.x,R.y]]},straight:function(F,R){return[["M",F.x,F.y],["L",(R=R.touchingSliceAt).x,R.y]]},crookedLine:function(F,R,$){R=R.touchingSliceAt;var O=this.series,V=O.center[0],Y=O.chart.plotWidth,K=O.chart.plotLeft;O=F.alignment;var dt=this.shapeArgs.r;return $=at($.crookDistance,1),$=["L",Y="left"===O?V+dt+(Y+K-V-dt)*(1-$):K+(V-dt)*$,F.y],V=!0,("left"===O?Y>F.x||Y<R.x:Y<F.x||Y>R.x)&&(V=!1),F=[["M",F.x,F.y]],V&&F.push($),F.push(["L",R.x,R.y]),F}}}),nt}),Pt(j,"Series/Pie/PieSeriesDefaults.js",[],function(){return{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),Pt(j,"Series/Pie/PieSeries.js",[j["Series/CenteredUtilities.js"],j["Series/Column/ColumnSeries.js"],j["Core/Globals.js"],j["Core/Legend/LegendSymbol.js"],j["Series/Pie/PiePoint.js"],j["Series/Pie/PieSeriesDefaults.js"],j["Core/Series/Series.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Renderer/SVG/Symbols.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt,Dt,Ot,J,ht,at){var g,F=this&&this.__extends||(g=function(h,rt){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,G){T.__proto__=G}||function(T,G){for(var A in G)G.hasOwnProperty(A)&&(T[A]=G[A])})(h,rt)},function(h,rt){function T(){this.constructor=h}g(h,rt),h.prototype=null===rt?Object.create(rt):(T.prototype=rt.prototype,new T)}),R=ot.getStartAndEndRadians;Ct=Ct.noop;var $=at.clamp,O=at.extend,V=at.fireEvent,Y=at.merge,K=at.pick,dt=at.relativeLength;return at=function(g){function h(){var rt=null!==g&&g.apply(this,arguments)||this;return rt.center=void 0,rt.data=void 0,rt.maxLabelDistance=void 0,rt.options=void 0,rt.points=void 0,rt}return F(h,g),h.prototype.animate=function(rt){var T=this,A=T.startAngleRad;rt||T.points.forEach(function(D){var b=D.graphic,W=D.shapeArgs;b&&W&&(b.attr({r:K(D.startR,T.center&&T.center[3]/2),start:A,end:A}),b.animate({r:W.r,start:W.start,end:W.end},T.options.animation))})},h.prototype.drawEmpty=function(){var rt=this.startAngleRad,T=this.endAngleRad,G=this.options;if(0===this.total&&this.center){var A=this.center[0],D=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(A,D,this.center[1]/2,0,rt,T).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:ht.arc(A,D,this.center[2]/2,0,{start:rt,end:T,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":G.borderWidth,fill:G.fillColor||"none",stroke:G.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},h.prototype.drawPoints=function(){var rt=this.chart.renderer;this.points.forEach(function(T){T.graphic&&T.hasNewShapeType()&&(T.graphic=T.graphic.destroy()),T.graphic||(T.graphic=rt[T.shapeType](T.shapeArgs).add(T.series.group),T.delayedRendering=!0)})},h.prototype.generatePoints=function(){g.prototype.generatePoints.call(this),this.updateTotals()},h.prototype.getX=function(rt,T,G){var A=this.center,D=this.radii?this.radii[G.index]||0:A[2]/2;return rt=Math.asin($((rt-A[1])/(D+G.labelDistance),-1,1)),A[0]+(T?-1:1)*Math.cos(rt)*(D+G.labelDistance)+(0<G.labelDistance?(T?-1:1)*this.options.dataLabels.padding:0)},h.prototype.hasData=function(){return!!this.processedXData.length},h.prototype.redrawPoints=function(){var D,b,W,k,rt=this,T=rt.chart,G=T.renderer,A=rt.options.shadow;this.drawEmpty(),!A||rt.shadowGroup||T.styledMode||(rt.shadowGroup=G.g("shadow").attr({zIndex:-1}).add(rt.group)),rt.points.forEach(function(P){var Q={};if(b=P.graphic,!P.isNull&&b){var I=void 0;k=P.shapeArgs,D=P.getTranslate(),T.styledMode||(I=P.shadowGroup,A&&!I&&(I=P.shadowGroup=G.g("shadow").add(rt.shadowGroup)),I&&I.attr(D),W=rt.pointAttribs(P,P.selected&&"select")),P.delayedRendering?(b.setRadialReference(rt.center).attr(k).attr(D),T.styledMode||b.attr(W).attr({"stroke-linejoin":"round"}).shadow(A,I),P.delayedRendering=!1):(b.setRadialReference(rt.center),T.styledMode||Y(!0,Q,W),Y(!0,Q,k,D),b.animate(Q)),b.attr({visibility:P.visible?"inherit":"hidden"}),b.addClass(P.getClassName(),!0)}else b&&(P.graphic=b.destroy())})},h.prototype.sortByAngle=function(rt,T){rt.sort(function(G,A){return typeof G.angle<"u"&&(A.angle-G.angle)*T})},h.prototype.translate=function(rt){V(this,"translate"),this.generatePoints();var T=this.options,G=T.slicedOffset,A=G+(T.borderWidth||0),D=R(T.startAngle,T.endAngle),b=this.startAngleRad=D.start;D=(this.endAngleRad=D.end)-b;var W=this.points,k=T.dataLabels.distance;T=T.ignoreHiddenPoint;var Q,P=W.length,I=0;for(rt||(this.center=rt=this.getCenter()),Q=0;Q<P;Q++){var B=W[Q],vt=b+I*D;!B.isValid()||T&&!B.visible||(I+=B.percentage/100);var Ut=b+I*D,It={x:rt[0],y:rt[1],r:rt[2]/2,innerR:rt[3]/2,start:Math.round(1e3*vt)/1e3,end:Math.round(1e3*Ut)/1e3};B.shapeType="arc",B.shapeArgs=It,B.labelDistance=K(B.options.dataLabels&&B.options.dataLabels.distance,k),B.labelDistance=dt(B.labelDistance,It.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,B.labelDistance),(Ut=(Ut+vt)/2)>1.5*Math.PI?Ut-=2*Math.PI:Ut<-Math.PI/2&&(Ut+=2*Math.PI),B.slicedTranslation={translateX:Math.round(Math.cos(Ut)*G),translateY:Math.round(Math.sin(Ut)*G)},It=Math.cos(Ut)*rt[2]/2;var E=Math.sin(Ut)*rt[2]/2;B.tooltipPos=[rt[0]+.7*It,rt[1]+.7*E],B.half=Ut<-Math.PI/2||Ut>Math.PI/2?1:0,B.angle=Ut,vt=Math.min(A,B.labelDistance/5),B.labelPosition={natural:{x:rt[0]+It+Math.cos(Ut)*B.labelDistance,y:rt[1]+E+Math.sin(Ut)*B.labelDistance},final:{},alignment:0>B.labelDistance?"center":B.half?"right":"left",connectorPosition:{breakAt:{x:rt[0]+It+Math.cos(Ut)*vt,y:rt[1]+E+Math.sin(Ut)*vt},touchingSliceAt:{x:rt[0]+It,y:rt[1]+E}}}}V(this,"afterTranslate")},h.prototype.updateTotals=function(){var A,rt=this.points,T=rt.length,G=this.options.ignoreHiddenPoint,D=0;for(A=0;A<T;A++){var b=rt[A];!b.isValid()||G&&!b.visible||(D+=b.y)}for(this.total=D,A=0;A<T;A++)(b=rt[A]).percentage=0<D&&(b.visible||!G)?b.y/D*100:0,b.total=D},h.defaultOptions=Y(Ot.defaultOptions,Dt),h}(Ot),O(at.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:zt.drawRectangle,drawTracker:nt.prototype.drawTracker,getCenter:ot.getCenter,getSymbol:Ct,isCartesian:!1,noSharedTooltip:!0,pointAttribs:nt.prototype.pointAttribs,pointClass:Rt,requireSorting:!1,searchPoint:Ct,trackerGroups:["group","dataLabelsGroup"]}),J.registerSeriesType("pie",at),at}),Pt(j,"Series/Pie/PieDataLabel.js",[j["Core/Series/DataLabel.js"],j["Core/Globals.js"],j["Core/Renderer/RendererUtilities.js"],j["Core/Series/SeriesRegistry.js"],j["Core/Utilities.js"]],function(ot,nt,Ct,zt,Rt){var V,Dt=nt.noop,Ot=Ct.distribute,J=zt.series,ht=Rt.arrayMax,at=Rt.clamp,F=Rt.defined,R=Rt.merge,$=Rt.pick,O=Rt.relativeLength;return function(Y){function K(){var U,mt,ct,ft,M,tt,X,St,yt,jt,kt,ie,T=this,G=T.data,A=T.chart,D=T.options.dataLabels||{},b=D.connectorPadding,W=A.plotWidth,k=A.plotHeight,P=A.plotLeft,Q=Math.round(A.chartWidth/3),I=T.center,B=I[2]/2,vt=I[1],Ut=[[],[]],It=[0,0,0,0],E=T.dataLabelPositioners;T.visible&&(D.enabled||T._hasPointLabels)&&(G.forEach(function(pe){pe.dataLabel&&pe.visible&&pe.dataLabel.shortened&&(pe.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),pe.dataLabel.shortened=!1)}),J.prototype.drawDataLabels.apply(T),G.forEach(function(pe){pe.dataLabel&&(pe.visible?(Ut[pe.half].push(pe),pe.dataLabel._pos=null,!F(D.style.width)&&!F(pe.options.dataLabels&&pe.options.dataLabels.style&&pe.options.dataLabels.style.width)&&pe.dataLabel.getBBox().width>Q&&(pe.dataLabel.css({width:Math.round(.7*Q)+"px"}),pe.dataLabel.shortened=!0)):(pe.dataLabel=pe.dataLabel.destroy(),pe.dataLabels&&1===pe.dataLabels.length&&delete pe.dataLabels))}),Ut.forEach(function(pe,Fe){var $t,je=pe.length,Ce=[];if(je){if(T.sortByAngle(pe,Fe-.5),0<T.maxLabelDistance){var de=Math.max(0,vt-B-T.maxLabelDistance),Qt=Math.min(vt+B+T.maxLabelDistance,A.plotHeight);pe.forEach(function(Et){0<Et.labelDistance&&Et.dataLabel&&(Et.top=Math.max(0,vt-B-Et.labelDistance),Et.bottom=Math.min(vt+B+Et.labelDistance,A.plotHeight),$t=Et.dataLabel.getBBox().height||21,Et.distributeBox={target:Et.labelPosition.natural.y-Et.top+$t/2,size:$t,rank:Et.y},Ce.push(Et.distributeBox))}),Ot(Ce,de=Qt+$t-de,de/5)}for(kt=0;kt<je;kt++){if(ft=(U=pe[kt]).dataLabel,jt=!1===U.visible?"hidden":"inherit",yt=de=(tt=U.labelPosition).natural.y,Ce&&F(U.distributeBox)&&(typeof U.distributeBox.pos>"u"?jt="hidden":(X=U.distributeBox.size,yt=E.radialDistributionY(U))),delete U.positionIndex,D.justify)St=E.justify(U,B,I);else switch(D.alignTo){case"connectors":St=E.alignToConnectors(pe,Fe,W,P);break;case"plotEdges":St=E.alignToPlotEdges(ft,Fe,W,P);break;default:St=E.radialDistributionX(T,U,yt,de)}ft._attr={visibility:jt,align:tt.alignment},ft._pos={x:St+$((ie=U.options.dataLabels||{}).x,D.x)+({left:b,right:-b}[tt.alignment]||0),y:yt+$(ie.y,D.y)-10},tt.final.x=St,tt.final.y=yt,$(D.crop,!0)&&(M=ft.getBBox().width,de=null,St-M<b&&1===Fe?(de=Math.round(M-St+b),It[3]=Math.max(de,It[3])):St+M>W-b&&0===Fe&&(de=Math.round(St+M-W+b),It[1]=Math.max(de,It[1])),0>yt-X/2?It[0]=Math.max(Math.round(X/2-yt),It[0]):yt+X/2>k&&(It[2]=Math.max(Math.round(yt+X/2-k),It[2])),ft.sideOverflow=de)}}}),0===ht(It)||this.verifyDataLabelOverflow(It))&&(this.placeDataLabels(),this.points.forEach(function(pe){var Fe;ie=R(D,pe.options.dataLabels),(mt=$(ie.connectorWidth,1))&&(ct=pe.connector,(ft=pe.dataLabel)&&ft._pos&&pe.visible&&0<pe.labelDistance?(jt=ft._attr.visibility,(Fe=!ct)&&(pe.connector=ct=A.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+pe.colorIndex+(pe.className?" "+pe.className:"")).add(T.dataLabelsGroup),A.styledMode||ct.attr({"stroke-width":mt,stroke:ie.connectorColor||pe.color||"#666666"})),ct[Fe?"attr":"animate"]({d:pe.getConnectorPath()}),ct.attr("visibility",jt)):ct&&(pe.connector=ct.destroy()))}))}function dt(){this.points.forEach(function(T){var A,G=T.dataLabel;G&&T.visible&&((A=G._pos)?(G.sideOverflow&&(G._attr.width=Math.max(G.getBBox().width-G.sideOverflow,0),G.css({width:G._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),G.shortened=!0),G.attr(G._attr),G[G.moved?"animate":"attr"](A),G.moved=!0):G&&G.attr({y:-9999})),delete T.distributeBox},this)}function g(T){var G=this.center,A=this.options,D=A.center,b=A.minSize||80,W=null!==A.size;if(!W){if(null!==D[0])var k=Math.max(G[2]-Math.max(T[1],T[3]),b);else k=Math.max(G[2]-T[1]-T[3],b),G[0]+=(T[3]-T[1])/2;null!==D[1]?k=at(k,b,G[2]-Math.max(T[0],T[2])):(k=at(k,b,G[2]-T[0]-T[2]),G[1]+=(T[0]-T[2])/2),k<G[2]?(G[2]=k,G[3]=Math.min(A.thickness?Math.max(0,k-2*A.thickness):Math.max(0,O(A.innerSize||0,k)),k),this.translate(G),this.drawDataLabels&&this.drawDataLabels()):W=!0}return W}var h=[],rt={radialDistributionY:function(T){return T.top+T.distributeBox.pos},radialDistributionX:function(T,G,A,D){return T.getX(A<G.top+2||A>G.bottom-2?D:A,G.half,G)},justify:function(T,G,A){return A[0]+(T.half?-1:1)*(G+T.labelDistance)},alignToPlotEdges:function(T,G,A,D){return T=T.getBBox().width,G?T+D:A-T-D},alignToConnectors:function(T,G,A,D){var W,b=0;return T.forEach(function(k){(W=k.dataLabel.getBBox().width)>b&&(b=W)}),G?b+D:A-b-D}};Y.compose=function(T){ot.compose(J),-1===h.indexOf(T)&&(h.push(T),(T=T.prototype).dataLabelPositioners=rt,T.alignDataLabel=Dt,T.drawDataLabels=K,T.placeDataLabels=dt,T.verifyDataLabelOverflow=g)}}(V||(V={})),V}),Pt(j,"Extensions/OverlappingDataLabels.js",[j["Core/Chart/Chart.js"],j["Core/Utilities.js"]],function(ot,nt){function Ct(at,F){var R=!1;if(at){var $=at.newOpacity;at.oldOpacity!==$&&(at.alignAttr&&at.placed?(at[$?"removeClass":"addClass"]("highcharts-data-label-hidden"),R=!0,at.alignAttr.opacity=$,at[at.isOld?"animate":"attr"](at.alignAttr,null,function(){F.styledMode||at.css({pointerEvents:$?"auto":"none"})}),Rt(F,"afterHideOverlappingLabel")):at.attr({opacity:$})),at.isOld=!0}return R}var Rt=nt.fireEvent,Dt=nt.isArray,Ot=nt.isNumber,J=nt.objectEach,ht=nt.pick;(0,nt.addEvent)(ot,"render",function(){var at=this,F=[];(this.labelCollectors||[]).forEach(function(R){F=F.concat(R())}),(this.yAxis||[]).forEach(function(R){R.stacking&&R.options.stackLabels&&!R.options.stackLabels.allowOverlap&&J(R.stacking.stacks,function($){J($,function(O){O.label&&F.push(O.label)})})}),(this.series||[]).forEach(function(R){var $=R.options.dataLabels;R.visible&&(!1!==$.enabled||R._hasPointLabels)&&(($=function(O){return O.forEach(function(V){V.visible&&(Dt(V.dataLabels)?V.dataLabels:V.dataLabel?[V.dataLabel]:[]).forEach(function(Y){var K=Y.options;Y.labelrank=ht(K.labelrank,V.labelrank,V.shapeArgs&&V.shapeArgs.height),K.allowOverlap?(Y.oldOpacity=Y.opacity,Y.newOpacity=1,Ct(Y,at)):F.push(Y)})})})(R.nodes||[]),$(R.points))}),this.hideOverlappingLabels(F)}),ot.prototype.hideOverlappingLabels=function(at){var O,V,Y,F=this,R=at.length,$=F.renderer,K=!1,dt=function(rt){var T,D,G=rt.box?0:rt.padding||0,A=T=0;if(rt&&(!rt.alignAttr||rt.placed)){var b=rt.alignAttr||{x:rt.attr("x"),y:rt.attr("y")},W=rt.parentGroup;return rt.width||(T=rt.getBBox(),rt.width=T.width,rt.height=T.height,T=$.fontMetrics(null,rt.element).h),(D={left:"0",center:"0.5",right:"1"}[rt.alignValue])?A=+D*(rt.width-2*G):Ot(rt.x)&&Math.round(rt.x)!==rt.translateX&&(A=rt.x-rt.translateX),{x:b.x+(W.translateX||0)+G-(A||0),y:b.y+(W.translateY||0)+G-T,width:rt.width-2*G,height:rt.height-2*G}}};for(V=0;V<R;V++)(O=at[V])&&(O.oldOpacity=O.opacity,O.newOpacity=1,O.absoluteBox=dt(O));for(at.sort(function(rt,T){return(T.labelrank||0)-(rt.labelrank||0)}),V=0;V<R;V++){var g=(dt=at[V])&&dt.absoluteBox;for(O=V+1;O<R;++O){var h=(Y=at[O])&&Y.absoluteBox;!g||!h||dt===Y||0===dt.newOpacity||0===Y.newOpacity||"hidden"===dt.visibility||"hidden"===Y.visibility||h.x>=g.x+g.width||h.x+h.width<=g.x||h.y>=g.y+g.height||h.y+h.height<=g.y||((dt.labelrank<Y.labelrank?dt:Y).newOpacity=0)}}at.forEach(function(rt){Ct(rt,F)&&(K=!0)}),K&&Rt(F,"afterHideAllOverlappingLabels")}}),Pt(j,"Core/Responsive.js",[j["Core/Utilities.js"]],function(ot){var F,nt=ot.extend,Ct=ot.find,zt=ot.isArray,Rt=ot.isObject,Dt=ot.merge,Ot=ot.objectEach,J=ot.pick,ht=ot.splat,at=ot.uniqueKey;return function(R){var $=[];R.compose=function(V){return-1===$.indexOf(V)&&($.push(V),nt(V.prototype,O.prototype)),V};var O=function(){function V(){}return V.prototype.currentOptions=function(Y){var dt=this,g={};return function K(h,rt,T,G){var A;Ot(h,function(D,b){if(!G&&-1<dt.collectionsWithUpdate.indexOf(b)&&rt[b])for(D=ht(D),T[b]=[],A=0;A<Math.max(D.length,rt[b].length);A++)rt[b][A]&&(void 0===D[A]?T[b][A]=rt[b][A]:(T[b][A]={},K(D[A],rt[b][A],T[b][A],G+1)));else Rt(D)?(T[b]=zt(D)?[]:{},K(D,rt[b]||{},T[b],G+1)):T[b]=typeof rt[b]>"u"?null:rt[b]})}(Y,this.options,g,0),g},V.prototype.matchResponsiveRule=function(Y,K){var dt=Y.condition;(dt.callback||function(){return this.chartWidth<=J(dt.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=J(dt.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=J(dt.minWidth,0)&&this.chartHeight>=J(dt.minHeight,0)}).call(this)&&K.push(Y._id)},V.prototype.setResponsive=function(Y,K){var dt=this,g=this.options.responsive,h=this.currentResponsive,rt=[];!K&&g&&g.rules&&g.rules.forEach(function(T){typeof T._id>"u"&&(T._id=at()),dt.matchResponsiveRule(T,rt)},this),(K=Dt.apply(void 0,rt.map(function(T){return Ct((g||{}).rules||[],function(G){return G._id===T})}).map(function(T){return T&&T.chartOptions}))).isResponsiveOptions=!0,(rt=rt.toString()||void 0)!==(h&&h.ruleIds)&&(h&&this.update(h.undoOptions,Y,!0),rt?((h=this.currentOptions(K)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:rt,mergedOptions:K,undoOptions:h},this.update(K,Y,!0)):this.currentResponsive=void 0)},V}()}(F||(F={})),F}),Pt(j,"masters/highcharts.src.js",[j["Core/Globals.js"],j["Core/Utilities.js"],j["Core/Defaults.js"],j["Core/Animation/Fx.js"],j["Core/Animation/AnimationUtilities.js"],j["Core/Renderer/HTML/AST.js"],j["Core/FormatUtilities.js"],j["Core/Renderer/RendererUtilities.js"],j["Core/Renderer/SVG/SVGElement.js"],j["Core/Renderer/SVG/SVGRenderer.js"],j["Core/Renderer/HTML/HTMLElement.js"],j["Core/Renderer/HTML/HTMLRenderer.js"],j["Core/Axis/Axis.js"],j["Core/Axis/DateTimeAxis.js"],j["Core/Axis/LogarithmicAxis.js"],j["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],j["Core/Axis/Tick.js"],j["Core/Tooltip.js"],j["Core/Series/Point.js"],j["Core/Pointer.js"],j["Core/MSPointer.js"],j["Core/Legend/Legend.js"],j["Core/Chart/Chart.js"],j["Core/Axis/Stacking/StackingAxis.js"],j["Core/Axis/Stacking/StackItem.js"],j["Core/Series/Series.js"],j["Core/Series/SeriesRegistry.js"],j["Series/Column/ColumnSeries.js"],j["Series/Column/ColumnDataLabel.js"],j["Series/Pie/PieSeries.js"],j["Series/Pie/PieDataLabel.js"],j["Core/Series/DataLabel.js"],j["Core/Responsive.js"],j["Core/Color/Color.js"],j["Core/Time.js"]],function(ot,nt,Ct,zt,Rt,Dt,Ot,J,ht,at,F,R,$,O,V,Y,K,dt,g,h,rt,T,G,A,D,b,W,k,P,Q,I,B,vt,Ut,It){return ot.animate=Rt.animate,ot.animObject=Rt.animObject,ot.getDeferredAnimation=Rt.getDeferredAnimation,ot.setAnimation=Rt.setAnimation,ot.stop=Rt.stop,ot.timers=zt.timers,ot.AST=Dt,ot.Axis=$,ot.Chart=G,ot.chart=G.chart,ot.Fx=zt,ot.Legend=T,ot.PlotLineOrBand=Y,ot.Point=g,ot.Pointer=rt.isRequired()?rt:h,ot.Series=b,ot.StackItem=D,ot.SVGElement=ht,ot.SVGRenderer=at,ot.Tick=K,ot.Time=It,ot.Tooltip=dt,ot.Color=Ut,ot.color=Ut.parse,R.compose(at),F.compose(ht),ot.defaultOptions=Ct.defaultOptions,ot.getOptions=Ct.getOptions,ot.time=Ct.defaultTime,ot.setOptions=Ct.setOptions,ot.dateFormat=Ot.dateFormat,ot.format=Ot.format,ot.numberFormat=Ot.numberFormat,ot.addEvent=nt.addEvent,ot.arrayMax=nt.arrayMax,ot.arrayMin=nt.arrayMin,ot.attr=nt.attr,ot.clearTimeout=nt.clearTimeout,ot.correctFloat=nt.correctFloat,ot.createElement=nt.createElement,ot.css=nt.css,ot.defined=nt.defined,ot.destroyObjectProperties=nt.destroyObjectProperties,ot.discardElement=nt.discardElement,ot.distribute=J.distribute,ot.erase=nt.erase,ot.error=nt.error,ot.extend=nt.extend,ot.extendClass=nt.extendClass,ot.find=nt.find,ot.fireEvent=nt.fireEvent,ot.getMagnitude=nt.getMagnitude,ot.getStyle=nt.getStyle,ot.inArray=nt.inArray,ot.isArray=nt.isArray,ot.isClass=nt.isClass,ot.isDOMElement=nt.isDOMElement,ot.isFunction=nt.isFunction,ot.isNumber=nt.isNumber,ot.isObject=nt.isObject,ot.isString=nt.isString,ot.keys=nt.keys,ot.merge=nt.merge,ot.normalizeTickInterval=nt.normalizeTickInterval,ot.objectEach=nt.objectEach,ot.offset=nt.offset,ot.pad=nt.pad,ot.pick=nt.pick,ot.pInt=nt.pInt,ot.relativeLength=nt.relativeLength,ot.removeEvent=nt.removeEvent,ot.seriesType=W.seriesType,ot.splat=nt.splat,ot.stableSort=nt.stableSort,ot.syncTimeout=nt.syncTimeout,ot.timeUnits=nt.timeUnits,ot.uniqueKey=nt.uniqueKey,ot.useSerialIds=nt.useSerialIds,ot.wrap=nt.wrap,P.compose(k),B.compose(b),O.compose($),V.compose($),I.compose(Q),Y.compose($),vt.compose(G),A.compose($,G,b),ot}),j["masters/highcharts.src.js"]._modules=j,j["masters/highcharts.src.js"]}),function(xt){"object"==typeof module&&module.exports?(xt.default=xt,module.exports=xt):"function"==typeof define&&define.amd?define("highcharts/modules/exporting",["highcharts"],function(Pt){return xt(Pt),xt.Highcharts=Pt,xt}):xt(typeof Highcharts<"u"?Highcharts:void 0)}(function(xt){function Pt(j,ot,nt,Ct){j.hasOwnProperty(ot)||(j[ot]=Ct.apply(null,nt),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:ot,module:j[ot]}})))}Pt(xt=xt?xt._modules:{},"Core/Chart/ChartNavigationComposition.js",[],function(){var j;return function(ot){ot.compose=function(Ct){return Ct.navigation||(Ct.navigation=new nt(Ct)),Ct};var nt=function(){function Ct(zt){this.updates=[],this.chart=zt}return Ct.prototype.addUpdate=function(zt){this.chart.navigation.updates.push(zt)},Ct.prototype.update=function(zt,Rt){var Dt=this;this.updates.forEach(function(Ot){Ot.call(Dt.chart,zt,Rt)})},Ct}();ot.Additions=nt}(j||(j={})),j}),Pt(xt,"Extensions/Exporting/ExportingDefaults.js",[xt["Core/Globals.js"]],function(j){return j=j.isTouchDevice,{exporting:{type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid ".concat("#999999"),background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:j?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"}}}}),Pt(xt,"Extensions/Exporting/ExportingSymbols.js",[],function(){var j;return function(ot){function nt(Rt,Dt,Ot,J){return[["M",Rt,Dt+2.5],["L",Rt+Ot,Dt+2.5],["M",Rt,Dt+J/2+.5],["L",Rt+Ot,Dt+J/2+.5],["M",Rt,Dt+J-1.5],["L",Rt+Ot,Dt+J-1.5]]}function Ct(Rt,Dt,Ot,J){return Rt=J/3-2,(J=[]).concat(this.circle(Ot-Rt,Dt,Rt,Rt),this.circle(Ot-Rt,Dt+Rt+4,Rt,Rt),this.circle(Ot-Rt,Dt+2*(Rt+4),Rt,Rt))}var zt=[];ot.compose=function(Rt){-1===zt.indexOf(Rt)&&(zt.push(Rt),(Rt=Rt.prototype.symbols).menu=nt,Rt.menuball=Ct.bind(Rt))}}(j||(j={})),j}),Pt(xt,"Extensions/Exporting/Fullscreen.js",[xt["Core/Renderer/HTML/AST.js"],xt["Core/Utilities.js"]],function(j,ot){function nt(){this.fullscreen=new Dt(this)}var Ct=ot.addEvent,zt=ot.fireEvent,Rt=[],Dt=function(){function Ot(J){this.chart=J,this.isOpen=!1,J=J.renderTo,this.browserProps||("function"==typeof J.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:J.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:J.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:J.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return Ot.compose=function(J){-1===Rt.indexOf(J)&&(Rt.push(J),Ct(J,"beforeRender",nt))},Ot.prototype.close=function(){var J=this,ht=J.chart,at=ht.options.chart;zt(ht,"fullscreenClose",null,function(){J.isOpen&&J.browserProps&&ht.container.ownerDocument instanceof Document&&ht.container.ownerDocument[J.browserProps.exitFullscreen](),J.unbindFullscreenEvent&&(J.unbindFullscreenEvent=J.unbindFullscreenEvent()),ht.setSize(J.origWidth,J.origHeight,!1),J.origWidth=void 0,J.origHeight=void 0,at.width=J.origWidthOption,at.height=J.origHeightOption,J.origWidthOption=void 0,J.origHeightOption=void 0,J.isOpen=!1,J.setButtonText()})},Ot.prototype.open=function(){var J=this,ht=J.chart,at=ht.options.chart;zt(ht,"fullscreenOpen",null,function(){if(at&&(J.origWidthOption=at.width,J.origHeightOption=at.height),J.origWidth=ht.chartWidth,J.origHeight=ht.chartHeight,J.browserProps){var F=Ct(ht.container.ownerDocument,J.browserProps.fullscreenChange,function(){J.isOpen?(J.isOpen=!1,J.close()):(ht.setSize(null,null,!1),J.isOpen=!0,J.setButtonText())}),R=Ct(ht,"destroy",F);J.unbindFullscreenEvent=function(){F(),R()};var $=ht.renderTo[J.browserProps.requestFullscreen]();$&&$.catch(function(){alert("Full screen is not supported inside a frame.")})}})},Ot.prototype.setButtonText=function(){var J=this.chart,ht=J.exportDivElements,at=J.options.exporting,F=at&&at.buttons&&at.buttons.contextButton.menuItems;J=J.options.lang,at&&at.menuItemDefinitions&&J&&J.exitFullscreen&&J.viewFullscreen&&F&&ht&&(ht=ht[F.indexOf("viewFullscreen")])&&j.setElementHTML(ht,this.isOpen?J.exitFullscreen:at.menuItemDefinitions.viewFullscreen.text||J.viewFullscreen)},Ot.prototype.toggle=function(){this.isOpen?this.close():this.open()},Ot}();return Dt}),Pt(xt,"Core/HttpUtilities.js",[xt["Core/Globals.js"],xt["Core/Utilities.js"]],function(j,ot){var nt=j.doc,Ct=ot.createElement,zt=ot.discardElement,Rt=ot.merge,Dt=ot.objectEach,Ot={ajax:function(J){var ht={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},at=new XMLHttpRequest;if(!J.url)return!1;at.open((J.type||"get").toUpperCase(),J.url,!0),J.headers&&J.headers["Content-Type"]||at.setRequestHeader("Content-Type",ht[J.dataType||"json"]||ht.text),Dt(J.headers,function(F,R){at.setRequestHeader(R,F)}),J.responseType&&(at.responseType=J.responseType),at.onreadystatechange=function(){if(4===at.readyState){if(200===at.status){if("blob"!==J.responseType){var F=at.responseText;if("json"===J.dataType)try{F=JSON.parse(F)}catch(R){if(R instanceof Error)return void(J.error&&J.error(at,R))}}return J.success&&J.success(F,at)}J.error&&J.error(at,at.responseText)}},J.data&&"string"!=typeof J.data&&(J.data=JSON.stringify(J.data)),at.send(J.data)},getJSON:function(J,ht){Ot.ajax({url:J,success:ht,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(J,ht,at){var F=Ct("form",Rt({method:"post",action:J,enctype:"multipart/form-data"},at),{display:"none"},nt.body);Dt(ht,function(R,$){Ct("input",{type:"hidden",name:$,value:R},void 0,F)}),F.submit(),zt(F)}};return Ot}),Pt(xt,"Extensions/Exporting/Exporting.js",[xt["Core/Renderer/HTML/AST.js"],xt["Core/Chart/Chart.js"],xt["Core/Chart/ChartNavigationComposition.js"],xt["Core/Defaults.js"],xt["Extensions/Exporting/ExportingDefaults.js"],xt["Extensions/Exporting/ExportingSymbols.js"],xt["Extensions/Exporting/Fullscreen.js"],xt["Core/Globals.js"],xt["Core/HttpUtilities.js"],xt["Core/Utilities.js"]],function(j,ot,nt,Ct,zt,Rt,Dt,Ot,J,ht){var k,at=Ct.defaultOptions,F=Ct.setOptions,R=Ot.doc,$=Ot.SVG_NS,O=Ot.win,V=ht.addEvent,Y=ht.css,K=ht.createElement,dt=ht.discardElement,g=ht.extend,h=ht.find,rt=ht.fireEvent,T=ht.isObject,G=ht.merge,A=ht.objectEach,D=ht.pick,b=ht.removeEvent,W=ht.uniqueKey;return function(P){function Q($t){var de=this,Qt=de.renderer,Et=G(de.options.navigation.buttonOptions,$t),Lt=Et.onclick,ne=Et.menuItems,re=Et.symbolSize||12;if(de.btnCount||(de.btnCount=0),de.exportDivElements||(de.exportDivElements=[],de.exportSVGElements=[]),!1!==Et.enabled&&Et.theme){var ee,le=Et.theme;de.styledMode||(le.fill=D(le.fill,"#ffffff"),le.stroke=D(le.stroke,"none")),Lt?ee=function(Ii){Ii&&Ii.stopPropagation(),Lt.call(de,Ii)}:ne&&(ee=function(Ii){Ii&&Ii.stopPropagation(),de.contextMenu(Ue.menuClassName,ne,Ue.translateX,Ue.translateY,Ue.width,Ue.height,Ue),Ue.setState(2)}),Et.text&&Et.symbol?le.paddingLeft=D(le.paddingLeft,30):Et.text||g(le,{width:Et.width,height:Et.height,padding:0}),de.styledMode||(le["stroke-linecap"]="round",le.fill=D(le.fill,"#ffffff"),le.stroke=D(le.stroke,"none"));var Ue=Qt.button(Et.text,0,0,ee,le,void 0,void 0,void 0,void 0,Et.useHTML).addClass($t.className).attr({title:D(de.options.lang[Et._titleKey||Et.titleKey],"")});if(Ue.menuClassName=$t.menuClassName||"highcharts-menu-"+de.btnCount++,Et.symbol){var Ke=Qt.symbol(Et.symbol,Et.symbolX-re/2,Et.symbolY-re/2,re,re,{width:re,height:re}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Ue);de.styledMode||Ke.attr({stroke:Et.symbolStroke,fill:Et.symbolFill,"stroke-width":Et.symbolStrokeWidth||1})}Ue.add(de.exportingGroup).align(g(Et,{width:Ue.width,x:D(Et.x,de.buttonOffset)}),!0,"spacingBox"),de.buttonOffset+=(Ue.width+Et.buttonSpacing)*("right"===Et.align?-1:1),de.exportSVGElements.push(Ue,Ke)}}function I(){if(this.printReverseInfo){var $t=this.printReverseInfo,de=$t.childNodes,Qt=$t.origDisplay;$t=$t.resetParams,this.moveContainers(this.renderTo),[].forEach.call(de,function(Et,Lt){1===Et.nodeType&&(Et.style.display=Qt[Lt]||"")}),this.isPrinting=!1,$t&&this.setSize.apply(this,$t),delete this.printReverseInfo,Ce=void 0,rt(this,"afterPrint")}}function B(){var $t=R.body,de=this.options.exporting.printMaxWidth,Qt={childNodes:$t.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),rt(this,"beforePrint"),de&&this.chartWidth>de&&(Qt.resetParams=[this.options.chart.width,void 0,!1],this.setSize(de,void 0,!1)),[].forEach.call(Qt.childNodes,function(Et,Lt){1===Et.nodeType&&(Qt.origDisplay[Lt]=Et.style.display,Et.style.display="none")}),this.moveContainers($t),this.printReverseInfo=Qt}function vt($t){$t.renderExporting(),V($t,"redraw",$t.renderExporting),V($t,"destroy",$t.destroyExport)}function Ut($t,de,Qt,Et,Lt,ne,re){var le=this,ee=le.options.navigation,Ue=le.chartWidth,Ke=le.chartHeight,Ii="cache-"+$t,ai=Math.max(Lt,ne),li=le[Ii];if(!li){le.exportContextMenu=le[Ii]=li=K("div",{className:$t},{position:"absolute",zIndex:1e3,padding:ai+"px",pointerEvents:"auto"},le.fixedDiv||le.container);var Pi=K("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},li);le.styledMode||Y(Pi,g({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},ee.menuStyle)),li.hideMenu=function(){Y(li,{display:"none"}),re&&re.setState(0),le.openMenu=!1,Y(le.renderTo,{overflow:"hidden"}),Y(le.container,{overflow:"hidden"}),ht.clearTimeout(li.hideTimer),rt(le,"exportMenuHidden")},le.exportEvents.push(V(li,"mouseleave",function(){li.hideTimer=O.setTimeout(li.hideMenu,500)}),V(li,"mouseenter",function(){ht.clearTimeout(li.hideTimer)}),V(R,"mouseup",function(hi){le.pointer.inClass(hi.target,$t)||li.hideMenu()}),V(li,"click",function(){le.openMenu&&li.hideMenu()})),de.forEach(function(hi){if("string"==typeof hi&&(hi=le.options.exporting.menuItemDefinitions[hi]),T(hi,!0)){var Di=void 0;hi.separator?Di=K("hr",void 0,void 0,Pi):("viewData"===hi.textKey&&le.isDataTableVisible&&(hi.textKey="hideData"),Di=K("li",{className:"highcharts-menu-item",onclick:function(bi){bi&&bi.stopPropagation(),li.hideMenu(),hi.onclick&&hi.onclick.apply(le,arguments)}},void 0,Pi),j.setElementHTML(Di,hi.text||le.options.lang[hi.textKey]),le.styledMode||(Di.onmouseover=function(){Y(this,ee.menuItemHoverStyle)},Di.onmouseout=function(){Y(this,ee.menuItemStyle)},Y(Di,g({cursor:"pointer"},ee.menuItemStyle||{})))),le.exportDivElements.push(Di)}}),le.exportDivElements.push(Pi,li),le.exportMenuWidth=li.offsetWidth,le.exportMenuHeight=li.offsetHeight}de={display:"block"},Qt+le.exportMenuWidth>Ue?de.right=Ue-Qt-Lt-ai+"px":de.left=Qt-ai+"px",Et+ne+le.exportMenuHeight>Ke&&"top"!==re.alignOptions.verticalAlign?de.bottom=Ke-Et-ai+"px":de.top=Et+ne-ai+"px",Y(li,de),Y(le.renderTo,{overflow:""}),Y(le.container,{overflow:""}),le.openMenu=!0,rt(le,"exportMenuShown")}function It($t){var Lt,de=$t?$t.target:this,Qt=de.exportSVGElements,Et=de.exportDivElements;$t=de.exportEvents,Qt&&(Qt.forEach(function(ne,re){ne&&(ne.onclick=ne.ontouchstart=null,de[Lt="cache-"+ne.menuClassName]&&delete de[Lt],Qt[re]=ne.destroy())}),Qt.length=0),de.exportingGroup&&(de.exportingGroup.destroy(),delete de.exportingGroup),Et&&(Et.forEach(function(ne,re){ne&&(ht.clearTimeout(ne.hideTimer),b(ne,"mouseleave"),Et[re]=ne.onmouseout=ne.onmouseover=ne.ontouchstart=ne.onclick=null,dt(ne))}),Et.length=0),$t&&($t.forEach(function(ne){ne()}),$t.length=0)}function E($t,de){de=this.getSVGForExport($t,de),$t=G(this.options.exporting,$t),J.post($t.url,{filename:$t.filename?$t.filename.replace(/\//g,"-"):this.getFilename(),type:$t.type,width:$t.width||0,scale:$t.scale,svg:de},$t.formAttributes)}function U(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function mt(){var $t=this.userOptions.title&&this.userOptions.title.text,de=this.options.exporting.filename;return de?de.replace(/\//g,"-"):("string"==typeof $t&&(de=$t.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!de||5>de.length)&&(de="chart"),de)}function ct($t){var de,Qt=G(this.options,$t);Qt.plotOptions=G(this.userOptions.plotOptions,$t&&$t.plotOptions),Qt.time=G(this.userOptions.time,$t&&$t.time);var Et=K("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},R.body),Lt=this.renderTo.style.width,ne=this.renderTo.style.height;Lt=Qt.exporting.sourceWidth||Qt.chart.width||/px$/.test(Lt)&&parseInt(Lt,10)||(Qt.isGantt?800:600),ne=Qt.exporting.sourceHeight||Qt.chart.height||/px$/.test(ne)&&parseInt(ne,10)||400,g(Qt.chart,{animation:!1,renderTo:Et,forExport:!0,renderer:"SVGRenderer",width:Lt,height:ne}),Qt.exporting.enabled=!1,delete Qt.data,Qt.series=[],this.series.forEach(function(ee){(de=G(ee.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:ee.visible})).isInternal||Qt.series.push(de)});var re={};this.axes.forEach(function(ee){ee.userOptions.internalKey||(ee.userOptions.internalKey=W()),ee.options.isInternal||(re[ee.coll]||(re[ee.coll]=!0,Qt[ee.coll]=[]),Qt[ee.coll].push(G(ee.userOptions,{visible:ee.visible})))});var le=new this.constructor(Qt,this.callback);return $t&&["xAxis","yAxis","series"].forEach(function(ee){var Ue={};$t[ee]&&(Ue[ee]=$t[ee],le.update(Ue))}),this.axes.forEach(function(ee){var Ue=h(le.axes,function(ai){return ai.options.internalKey===ee.userOptions.internalKey}),Ke=ee.getExtremes(),Ii=Ke.userMin;Ke=Ke.userMax,Ue&&(typeof Ii<"u"&&Ii!==Ue.min||typeof Ke<"u"&&Ke!==Ue.max)&&Ue.setExtremes(Ii,Ke,!0,!1)}),ne=le.getChartHTML(),rt(this,"getSVG",{chartCopy:le}),ne=this.sanitizeSVG(ne,Qt),Qt=null,le.destroy(),dt(Et),ne}function ft($t,de){var Qt=this.options.exporting;return this.getSVG(G({chart:{borderRadius:0}},Qt.chartOptions,de,{exporting:{sourceWidth:$t&&$t.sourceWidth||Qt.sourceWidth,sourceHeight:$t&&$t.sourceHeight||Qt.sourceHeight}}))}function M($t){return $t.replace(/([A-Z])/g,function(de,Qt){return"-"+Qt.toLowerCase()})}function tt(){var Lt,de=pe,Qt=P.inlineAllowlist,Et={},ne=R.createElement("iframe");Y(ne,{width:"1px",height:"1px",visibility:"hidden"}),R.body.appendChild(ne);var re=ne.contentWindow&&ne.contentWindow.document;re&&re.body.appendChild(re.createElementNS($,"svg")),function $t(le){var ee={};if(re&&1===le.nodeType&&-1===je.indexOf(le.nodeName)){var Ue=O.getComputedStyle(le,null),Ke="svg"===le.nodeName?{}:O.getComputedStyle(le.parentNode,null);if(!Et[le.nodeName]){Lt=re.getElementsByTagName("svg")[0];var Ii=re.createElementNS(le.namespaceURI,le.nodeName);Lt.appendChild(Ii);var ai=O.getComputedStyle(Ii,null),li={};for(var Pi in ai)"string"!=typeof ai[Pi]||/^[0-9]+$/.test(Pi)||(li[Pi]=ai[Pi]);Et[le.nodeName]=li,"text"===le.nodeName&&delete Et.text.fill,Lt.removeChild(Ii)}for(var hi in Ue)if(Ot.isFirefox||Ot.isMS||Ot.isSafari||Object.hasOwnProperty.call(Ue,hi)){Pi=Ue[hi];var Di=hi;if(Ii=ai=!1,Qt.length){for(li=Qt.length;li--&&!ai;)ai=Qt[li].test(Di);Ii=!ai}for("transform"===Di&&"none"===Pi&&(Ii=!0),li=de.length;li--&&!Ii;)Ii=de[li].test(Di)||"function"==typeof Pi;Ii||Ke[Di]===Pi&&"svg"!==le.nodeName||Et[le.nodeName][Di]===Pi||(Fe&&-1===Fe.indexOf(Di)?ee[Di]=Pi:Pi&&le.setAttribute(M(Di),Pi))}Y(le,ee),"svg"===le.nodeName&&le.setAttribute("stroke-width","1px"),"text"!==le.nodeName&&[].forEach.call(le.children||le.childNodes,$t)}}(this.container.querySelector("svg")),Lt.parentNode.removeChild(Lt),ne.parentNode.removeChild(ne)}function X($t){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(de){$t.appendChild(de)})}function St(){var $t=this;$t.exporting={update:function(de,Qt){$t.isDirtyExporting=!0,G(!0,$t.options.exporting,de),D(Qt,!0)&&$t.redraw()}},nt.compose($t).navigation.addUpdate(function(de,Qt){$t.isDirtyExporting=!0,G(!0,$t.options.navigation,de),D(Qt,!0)&&$t.redraw()})}function yt(){var $t=this;$t.isPrinting||(Ce=$t,Ot.isSafari||$t.beforePrint(),setTimeout(function(){O.focus(),O.print(),Ot.isSafari||setTimeout(function(){$t.afterPrint()},1e3)},1))}function jt(){var $t=this,de=$t.options.exporting,Qt=de.buttons,Et=$t.isDirtyExporting||!$t.exportSVGElements;$t.buttonOffset=0,$t.isDirtyExporting&&$t.destroyExport(),Et&&!1!==de.enabled&&($t.exportEvents=[],$t.exportingGroup=$t.exportingGroup||$t.renderer.g("exporting-group").attr({zIndex:3}).add(),A(Qt,function(Lt){$t.addButton(Lt)}),$t.isDirtyExporting=!1)}function kt($t,de){var Qt=$t.indexOf("</svg>")+6,Et=$t.substr(Qt);return $t=$t.substr(0,Qt),de&&de.exporting&&de.exporting.allowHTML&&Et&&(Et='<foreignObject x="0" y="0" width="'+de.chart.width+'" height="'+de.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Et.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",$t=$t.replace("</svg>",Et+"</svg>")),$t=$t.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&($t=this.ieSanitizeSVG($t)),$t}var ie=[],pe=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Fe="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");P.inlineAllowlist=[];var Ce,je=["clipPath","defs","desc"];P.compose=function($t,de){Rt.compose(de),Dt.compose($t),-1===ie.indexOf($t)&&(ie.push($t),(de=$t.prototype).afterPrint=I,de.exportChart=E,de.inlineStyles=tt,de.print=yt,de.sanitizeSVG=kt,de.getChartHTML=U,de.getSVG=ct,de.getSVGForExport=ft,de.getFilename=mt,de.moveContainers=X,de.beforePrint=B,de.contextMenu=Ut,de.addButton=Q,de.destroyExport=It,de.renderExporting=jt,de.callbacks.push(vt),V($t,"init",St),Ot.isSafari&&Ot.win.matchMedia("print").addListener(function(Qt){Ce&&(Qt.matches?Ce.beforePrint():Ce.afterPrint())})),-1===ie.indexOf(F)&&(ie.push(F),at.exporting=G(zt.exporting,at.exporting),at.lang=G(zt.lang,at.lang),at.navigation=G(zt.navigation,at.navigation))}}(k||(k={})),k}),Pt(xt,"masters/modules/exporting.src.js",[xt["Core/Globals.js"],xt["Extensions/Exporting/Exporting.js"],xt["Core/HttpUtilities.js"]],function(j,ot,nt){j.HttpUtilities=nt,j.ajax=nt.ajax,j.getJSON=nt.getJSON,j.post=nt.post,ot.compose(j.Chart,j.Renderer)})}),function(xt){"object"==typeof module&&module.exports?(xt.default=xt,module.exports=xt):"function"==typeof define&&define.amd?define("highcharts/modules/export-data",["highcharts","highcharts/modules/exporting"],function(Pt){return xt(Pt),xt.Highcharts=Pt,xt}):xt(typeof Highcharts<"u"?Highcharts:void 0)}(function(xt){function Pt(j,ot,nt,Ct){j.hasOwnProperty(ot)||(j[ot]=Ct.apply(null,nt),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:ot,module:j[ot]}})))}Pt(xt=xt?xt._modules:{},"Extensions/ExportData/ExportDataDefaults.js",[],function(){return{exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table"}}}),Pt(xt,"Extensions/DownloadURL.js",[xt["Core/Globals.js"]],function(j){var ot=j.isSafari,nt=j.win,Ct=nt.document,zt=nt.URL||nt.webkitURL||nt,Rt=j.dataURLtoBlob=function(Dt){if((Dt=Dt.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<Dt.length&&nt.atob&&nt.ArrayBuffer&&nt.Uint8Array&&nt.Blob&&zt.createObjectURL){var Ot=nt.atob(Dt[3]),J=new nt.ArrayBuffer(Ot.length);J=new nt.Uint8Array(J);for(var ht=0;ht<J.length;++ht)J[ht]=Ot.charCodeAt(ht);return Dt=new nt.Blob([J],{type:Dt[1]}),zt.createObjectURL(Dt)}};return j=j.downloadURL=function(Dt,Ot){var J=nt.navigator,ht=Ct.createElement("a");if("string"==typeof Dt||Dt instanceof String||!J.msSaveOrOpenBlob){if(Dt="".concat(Dt),J=/Edge\/\d+/.test(J.userAgent),(ot&&"string"==typeof Dt&&0===Dt.indexOf("data:application/pdf")||J||2e6<Dt.length)&&!(Dt=Rt(Dt)||""))throw Error("Failed to convert to blob");if(typeof ht.download<"u")ht.href=Dt,ht.download=Ot,Ct.body.appendChild(ht),ht.click(),Ct.body.removeChild(ht);else try{var at=nt.open(Dt,"chart");if(typeof at>"u"||null===at)throw Error("Failed to open window")}catch{nt.location.href=Dt}}else J.msSaveOrOpenBlob(Dt,Ot)},{dataURLtoBlob:Rt,downloadURL:j}}),Pt(xt,"Extensions/ExportData/ExportData.js",[xt["Core/Renderer/HTML/AST.js"],xt["Extensions/ExportData/ExportDataDefaults.js"],xt["Core/Globals.js"],xt["Core/Defaults.js"],xt["Extensions/DownloadURL.js"],xt["Core/Series/SeriesRegistry.js"],xt["Core/Utilities.js"]],function(j,ot,nt,Ct,zt,Rt,Dt){function Ot(){var ct=this.getCSV(!0);A(Y(ct,"text/csv")||"data:text/csv,\ufeff"+encodeURIComponent(ct),this.getFilename()+".csv")}function J(){var ct='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";A(Y(ct,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+rt.btoa(unescape(encodeURIComponent(ct))),this.getFilename()+".xls")}function ht(ct){var ft="",M=this.getDataRows(),tt=this.options.exporting.csv,X=U(tt.decimalPoint,","!==tt.itemDelimiter&&ct?1.1.toLocaleString()[1]:"."),St=U(tt.itemDelimiter,","===X?";":","),yt=tt.lineDelimiter;return M.forEach(function(jt,kt){for(var ie,pe=jt.length;pe--;)"string"==typeof(ie=jt[pe])&&(ie='"'+ie+'"'),"number"==typeof ie&&"."!==X&&(ie=ie.toString().replace(".",X)),jt[pe]=ie;jt.length=M.length?M[0].length:0,ft+=jt.join(St),kt<M.length-1&&(ft+=yt)}),ft}function at(ct){var Qt,ft=this.hasParallelCoordinates,M=this.time,tt=this.options.exporting&&this.options.exporting.csv||{},X=this.xAxis,St={},yt=[],jt=[],kt=[],ie=this.options.lang.exportData,pe=ie.categoryHeader,Fe=ie.categoryDatetimeHeader,je=function(ee,Ue,Ke){if(tt.columnHeaderFormatter){var Ii=tt.columnHeaderFormatter(ee,Ue,Ke);if(!1!==Ii)return Ii}return ee?ee instanceof D?ct?{columnTitle:1<Ke?Ue:ee.name,topLevelColumnTitle:ee.name}:ee.name+(1<Ke?" ("+Ue+")":""):ee.options.title&&ee.options.title.text||(ee.dateTime?Fe:pe):pe},Ce=function(ee,Ue,Ke){var Ii={},ai={};return Ue.forEach(function(li){var Pi=(ee.keyToAxis&&ee.keyToAxis[li]||li)+"Axis";Pi=E(Ke)?ee.chart[Pi][Ke]:ee[Pi],Ii[li]=Pi&&Pi.categories||[],ai[li]=Pi&&Pi.dateTime}),{categoryMap:Ii,dateTimeValueAxisMap:ai}},de=[],Et=0;for(le in this.series.forEach(function(ee){var hi,Ue=ee.xAxis,Ke=ee.options.keys||function(ee,Ue){return ee.data.filter(function(Ke){return typeof Ke.y<"u"&&Ke.name}).length&&Ue&&!Ue.categories&&!ee.keyToAxis?ee.pointArrayMap&&ee.pointArrayMap.filter(function(Ke){return"x"===Ke}).length?(ee.pointArrayMap.unshift("x"),ee.pointArrayMap):["x","y"]:ee.pointArrayMap||["y"]}(ee,Ue),Ii=Ke.length,ai=!ee.requireSorting&&{},li=X.indexOf(Ue),Pi=Ce(ee,Ke);if(!1!==ee.options.includeInDataExport&&!ee.options.isInternal&&!1!==ee.visible){for(Ut(de,function(bi){return bi[0]===li})||de.push([li,Et]),hi=0;hi<Ii;)Qt=je(ee,Ke[hi],Ke.length),kt.push(Qt.columnTitle||Qt),ct&&jt.push(Qt.topLevelColumnTitle||Qt),hi++;var Di={chart:ee.chart,autoIncrement:ee.autoIncrement,options:ee.options,pointArrayMap:ee.pointArrayMap,index:ee.index};ee.options.data.forEach(function(bi,On){var jn={series:Di};ft&&(Pi=Ce(ee,Ke,On)),ee.pointClass.prototype.applyOptions.apply(jn,[bi]);var x=jn.x;for(B(St[x])&&St[x].seriesIndices.includes(Di.index)&&(bi=Object.keys(St).filter(function(H){return St[H].seriesIndices.includes(Di.index)&&x}).filter(function(H){return 0===H.indexOf(String(x))}),x=x.toString()+","+bi.length),bi=ee.data[On]&&ee.data[On].name,hi=0,(!Ue||"name"===ee.exportKey||!ft&&Ue&&Ue.hasNames&&bi)&&(x=bi),ai&&(ai[x]&&(x+="|"+On),ai[x]=!0),St[x]||(St[x]=[],St[x].xValues=[]),St[x].x=jn.x,St[x].name=bi,St[x].xValues[li]=jn.x,B(St[x].seriesIndices)||(St[x].seriesIndices=[]),St[x].seriesIndices=g(g([],St[x].seriesIndices,!0),[Di.index],!1);hi<Ii;)St[x][Et+hi]=U(Pi.categoryMap[On=Ke[hi]][bi=jn[On]],Pi.dateTimeValueAxisMap[On]?M.dateFormat(tt.dateFormat,bi):null,bi),hi++}),Et+=hi}}),St)Object.hasOwnProperty.call(St,le)&&yt.push(St[le]);for(ie=ct?[jt,kt]:[kt],Et=de.length;Et--;){var Lt=de[Et][0],ne=de[Et][1],re=X[Lt];yt.sort(function(ee,Ue){return ee.xValues[Lt]-Ue.xValues[Lt]});var le=je(re);ie[0].splice(ne,0,le),ct&&ie[1]&&ie[1].splice(ne,0,le),yt.forEach(function(ee){var Ue=ee.name;re&&!B(Ue)&&(re.dateTime?(ee.x instanceof Date&&(ee.x=ee.x.getTime()),Ue=M.dateFormat(tt.dateFormat,ee.x)):Ue=re.categories?U(re.names[ee.x],re.categories[ee.x],ee.x):ee.x),ee.splice(ne,0,Ue)})}return ie=ie.concat(yt),It(this,"exportData",{dataRows:ie}),ie}function F(ct){var ft=function(M){if(!M.tagName||"#text"===M.tagName)return M.textContent||"";var tt=M.attributes,X="<".concat(M.tagName);return tt&&Object.keys(tt).forEach(function(St){var yt=tt[St];X+=" ".concat(St,'="').concat(yt,'"')}),X+=">",X+=M.textContent||"",(M.children||[]).forEach(function(St){X+=ft(St)}),X+="</".concat(M.tagName,">")};return ct=this.getTableAST(ct),ft(ct)}function R(ct){var ft=0,M=[],tt=this.options,X=ct?1.1.toLocaleString()[1]:".",St=U(tt.exporting.useMultiLevelHeaders,!0);ct=this.getDataRows(St);var yt=St?ct.shift():null,jt=ct.shift(),kt=function(je,Ce,$t,de){var Qt=U(de,"");return Ce="highcharts-text"+(Ce?" "+Ce:""),"number"==typeof Qt?(Qt=Qt.toString(),","===X&&(Qt=Qt.replace(".",X)),Ce="highcharts-number"):de||(Ce="highcharts-empty"),{tagName:je,attributes:$t=vt({class:Ce},$t),textContent:Qt}};!1!==tt.exporting.tableCaption&&M.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:U(tt.exporting.tableCaption,tt.title.text?tt.title.text:"Chart")});for(var ie=0,pe=ct.length;ie<pe;++ie)ct[ie].length>ft&&(ft=ct[ie].length);M.push(function(je,Ce,$t){var de=[],Qt=0;$t=$t||Ce&&Ce.length;var Lt,Et=0;if(Lt=St&&je&&Ce){t:if(Lt=je.length,Ce.length===Lt){for(;Lt--;)if(je[Lt]!==Ce[Lt]){Lt=!1;break t}Lt=!0}else Lt=!1;Lt=!Lt}if(Lt){for(Lt=[];Qt<$t;++Qt){var ne=je[Qt],re=je[Qt+1];ne===re?++Et:Et?(Lt.push(kt("th","highcharts-table-topheading",{scope:"col",colspan:Et+1},ne)),Et=0):(ne===Ce[Qt]?tt.exporting.useRowspanHeaders?(re=2,delete Ce[Qt]):(re=1,Ce[Qt]=""):re=1,ne=kt("th","highcharts-table-topheading",{scope:"col"},ne),1<re&&ne.attributes&&(ne.attributes.valign="top",ne.attributes.rowspan=re),Lt.push(ne))}de.push({tagName:"tr",children:Lt})}if(Ce){for(Lt=[],Qt=0,$t=Ce.length;Qt<$t;++Qt)typeof Ce[Qt]<"u"&&Lt.push(kt("th",null,{scope:"col"},Ce[Qt]));de.push({tagName:"tr",children:Lt})}return{tagName:"thead",children:de}}(yt,jt,Math.max(ft,jt.length)));var Fe=[];return ct.forEach(function(je){for(var Ce=[],$t=0;$t<ft;$t++)Ce.push(kt($t?"td":"th",null,$t?{}:{scope:"row"},je[$t]));Fe.push({tagName:"tr",children:Ce})}),M.push({tagName:"tbody",children:Fe}),M={tree:{tagName:"table",id:"highcharts-data-table-".concat(this.index),children:M}},It(this,"aftergetTableAST",M),M.tree}function $(){this.toggleDataTable(!1)}function O(ct){var ft=(ct=U(ct,!this.isDataTableVisible))&&!this.dataTableDiv;if(ft&&(this.dataTableDiv=h.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv){var M=this.dataTableDiv.style,tt=M.display;M.display=ct?"block":"none",ct&&(this.dataTableDiv.innerHTML=j.emptyHTML,new j([this.getTableAST()]).addToDOM(this.dataTableDiv),It(this,"afterViewData",{element:this.dataTableDiv,wasHidden:ft||tt!==M.display}))}this.isDataTableVisible=ct,ft=this.exportDivElements,tt=(M=this.options.exporting)&&M.buttons&&M.buttons.contextButton.menuItems,ct=this.options.lang,M&&M.menuItemDefinitions&&ct&&ct.viewData&&ct.hideData&&tt&&ft&&(ft=ft[tt.indexOf("viewData")])&&j.setElementHTML(ft,this.isDataTableVisible?ct.hideData:ct.viewData)}function V(){this.toggleDataTable(!0)}function Y(ct,ft){var M=rt.navigator,tt=-1<M.userAgent.indexOf("WebKit")&&0>M.userAgent.indexOf("Chrome"),X=rt.URL||rt.webkitURL||rt;try{if(M.msSaveOrOpenBlob&&rt.MSBlobBuilder){var St=new rt.MSBlobBuilder;return St.append(ct),St.getBlob("image/svg+xml")}if(!tt)return X.createObjectURL(new rt.Blob(["\ufeff"+ct],{type:ft}))}catch{}}function K(){var ct=this,ft=ct.dataTableDiv,M=document.querySelectorAll("thead")[0].querySelectorAll("tr")[0];ft&&M.childNodes.forEach(function(X){var St=X.closest("table");X.addEventListener("click",function(){var yt=g([],ft.querySelectorAll("tr:not(thead tr)"),!0),jt=g([],X.parentNode.children,!0);yt.sort(function(X,St){return function(yt,jt){var kt=(St?yt:jt).children[X].textContent;return yt=(St?jt:yt).children[X].textContent,""===kt||""===yt||isNaN(kt)||isNaN(yt)?kt.toString().localeCompare(yt):kt-yt}}(jt.indexOf(X),ct.ascendingOrderInTable=!ct.ascendingOrderInTable)).forEach(function(kt){St.appendChild(kt)}),jt.forEach(function(kt){["highcharts-sort-ascending","highcharts-sort-descending"].forEach(function(ie){kt.classList.contains(ie)&&kt.classList.remove(ie)})}),X.classList.add(ct.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending")})})}function dt(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&this.viewData()}var g=this&&this.__spreadArray||function(ct,ft,M){if(M||2===arguments.length)for(var St,tt=0,X=ft.length;tt<X;tt++)!St&&tt in ft||(St||(St=Array.prototype.slice.call(ft,0,tt)),St[tt]=ft[tt]);return ct.concat(St||Array.prototype.slice.call(ft))},h=nt.doc,rt=nt.win,T=Ct.getOptions,G=Ct.setOptions,A=zt.downloadURL,D=Rt.series,b=(nt=Rt.seriesTypes).arearange,W=nt.gantt,k=nt.map,P=nt.mapbubble,Q=nt.treemap,I=Dt.addEvent,B=Dt.defined,vt=Dt.extend,Ut=Dt.find,It=Dt.fireEvent,E=Dt.isNumber,U=Dt.pick,mt=[];return{compose:function(ct){-1===mt.indexOf(ct)&&(mt.push(ct),I(ct,"afterViewData",K),I(ct,"render",dt),(ct=ct.prototype).downloadCSV=Ot,ct.downloadXLS=J,ct.getCSV=ht,ct.getDataRows=at,ct.getTable=F,ct.getTableAST=R,ct.hideData=$,ct.toggleDataTable=O,ct.viewData=V),-1===mt.indexOf(G)&&(mt.push(G),(ct=T().exporting)&&(vt(ct.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.toggleDataTable()}}}),ct.buttons&&ct.buttons.contextButton.menuItems&&ct.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),G(ot)),b&&-1===mt.indexOf(b)&&(mt.push(b),b.prototype.keyToAxis={low:"y",high:"y"}),W&&-1===mt.indexOf(W)&&(mt.push(W),W.prototype.keyToAxis={start:"x",end:"x"}),k&&-1===mt.indexOf(k)&&(mt.push(k),k.prototype.exportKey="name"),P&&-1===mt.indexOf(P)&&(mt.push(P),P.prototype.exportKey="name"),Q&&-1===mt.indexOf(Q)&&(mt.push(Q),Q.prototype.exportKey="name")}}}),Pt(xt,"masters/modules/export-data.src.js",[xt["Core/Globals.js"],xt["Extensions/ExportData/ExportData.js"]],function(j,ot){ot.compose(j.Chart)})}),Highcharts.chart("container-pie",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{style:{color:"black",size:"20%"},text:""},credits:{enabled:!1},plotOptions:{pie:{slicedOffset:"0"}},tooltip:{useHTML:!0,headerFormat:'<span style="font-size:12px">{point.key}</span><table>',pointFormat:": <b>{point.y}</b>",shared:!0},accessibility:{point:{valueSuffix:""}},series:[{type:"pie",name:"",data:[{name:"High regular",y:9,color:"#AD5E59"},{name:"High epidemic",y:6,color:"#E7786F"},{name:"Medium",y:4,color:"#ECA877"},{name:"Low",y:4,color:"#F9E1A3"},{name:"No case",y:8,color:"#C4C9D1"}]}],legend:{layout:"vertical",align:"right",verticalAlign:"middle",symbolHeight:11,symbolWidth:11,symbolRadius:0},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{style:{fontSize:"13px"},distance:-50,format:"<b>{point.y}</b>",enabled:!0},showInLegend:!0}},exporting:{buttons:{contextButton:{text:"",symbol:"url(/sites/all/themes/fastrackcities/images/download-icon.png)",symbolStrokeWidth:1,symbolFill:"#bada55",symbolStroke:"#330033"}}}});