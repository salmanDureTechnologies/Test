var lr=Object.defineProperty,cr=(be,F,K)=>F in be?lr(be,F,{enumerable:!0,configurable:!0,writable:!0,value:K}):be[F]=K,At=(be,F,K)=>(cr(be,"symbol"!=typeof F?F+"":F,K),K),kt=(be,F,K)=>{if(!F.has(be))throw TypeError("Cannot "+K)},we=(be,F,K)=>(kt(be,F,"read from private field"),K?K.call(be):F.get(be)),ke=(be,F,K)=>{if(F.has(be))throw TypeError("Cannot add the same private member more than once");F instanceof WeakSet?F.add(be):F.set(be,K)},Ue=(be,F,K,f)=>(kt(be,F,"write to private field"),f?f.call(be,K):F.set(be,K),K),Wt=(be,F,K,f)=>({set _(oe){Ue(be,F,oe,K)},get _(){return we(be,F,f)}}),Ee=(be,F,K)=>(kt(be,F,"access private method"),K);(self.webpackChunkreadiness_intelligence=self.webpackChunkreadiness_intelligence||[]).push([[573],{8573:(be,F,K)=>{"use strict";K.r(F),K.d(F,{ImportModule:()=>ir});var f=K(6895),oe=K(5808),z=K(433),e=K(8256),ne=K(7185),D=K(8423),u=K(6228),S=K(5266),m=K(3401),g=K(2340),a=K(529);let A=(()=>{class p{constructor(t){this.httpClient=t,this.url=g.N.apiURL+"/draftresponse"}getAll(){return this.httpClient.get(this.url)}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}update(t,T){return this.httpClient.put(this.url+"/"+t,T)}updateIsSelected(t,T){return this.httpClient.put(this.url+"/"+t+"/isselected",T)}updateDomainId(t,T){return this.httpClient.put(this.url+"/"+t+"/setdomainid",T)}updatePriority(t,T){return this.httpClient.put(this.url+"/"+t+"/setpriority",T)}delete(t){return this.httpClient.delete(this.url+"/"+t)}deleteByMerge(t,T){return this.httpClient.delete(this.url+"/"+t+"/"+T+"/deletebymerge")}deleteByPlanAndDomain(t,T){return this.httpClient.delete(this.url+"/"+t+"/"+T+"/byplananddomain")}}return p.\u0275fac=function(t){return new(t||p)(e.LFG(a.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var r=K(374),o=K(3787),h=K(5795),M=K(8997);const v=function(){return["/import/action-plan"]},b=function(p){return{plan_id:p}},i=function(){return{exact:!0}};function s(p,j){if(1&p&&(e.TgZ(0,"li",67)(1,"a",68),e._uU(2),e.qZA()()),2&p){const t=j.$implicit;e.xp6(1),e.Q6J("routerLink",e.DdM(5,v))("queryParams",e.VKq(6,b,t.id))("queryParamsHandling","merge")("routerLinkActiveOptions",e.DdM(8,i)),e.xp6(1),e.Oqu(t.name)}}function y(p,j){1&p&&(e.TgZ(0,"h6"),e._uU(1,"Create Action Plan"),e.qZA())}function C(p,j){1&p&&(e.TgZ(0,"h6"),e._uU(1,"Edit Action Plan"),e.qZA())}function x(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",69)(1,"div",70),e.YNc(2,y,2,0,"h6",71),e.YNc(3,C,2,0,"h6",71),e.qZA(),e.TgZ(4,"div",70)(5,"button",72),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw();return e.KtG(Y.onImportFile())}),e._UZ(6,"i",73),e._uU(7,"Import File"),e.qZA()()()}if(2&p){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","create"==t.modeAction),e.xp6(1),e.Q6J("ngIf","update"==t.modeAction)}}function O(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",74)(1,"div",70)(2,"button",72),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw();return e.KtG(Y.updateActionPlan())}),e._UZ(3,"i",75),e._uU(4,"Edit Plan"),e.qZA()()()}}function k(p,j){if(1&p&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function N(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"tr")(1,"td",98),e._uU(2),e.qZA(),e.TgZ(3,"td",98),e._uU(4),e.qZA(),e.TgZ(5,"td",99)(6,"div",100),e._UZ(7,"div",101),e.qZA()(),e.TgZ(8,"td",98)(9,"select",102),e.NdJ("change",function(Y){e.CHM(t);const ae=e.oxw(2);return e.KtG(ae.selectPlantype(Y))}),e.TgZ(10,"option",103),e._uU(11,"Choose Category"),e.qZA(),e.YNc(12,k,2,2,"option",31),e.qZA()(),e.TgZ(13,"td",99)(14,"button",104),e.NdJ("click",function(){const ae=e.CHM(t).$implicit,Se=e.oxw(2);return e.KtG(Se.onRemove(ae))}),e._UZ(15,"i",105),e.qZA()()()}if(2&p){const t=j.$implicit,T=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.size),e.xp6(8),e.Q6J("ngForOf",T.plantypes)}}function Z(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",77)(2,"h6",78),e._uU(3,"Import File"),e.qZA(),e.TgZ(4,"div",79)(5,"div",80)(6,"div",81),e.NdJ("change",function(Y){e.CHM(t);const ae=e.oxw();return e.KtG(ae.onSelect(Y))}),e.TgZ(7,"div",82)(8,"h6",83),e._uU(9,"DROP FILE HERE TO UPLOAD"),e.qZA(),e.O4$(),e.TgZ(10,"svg",84),e._UZ(11,"path",85)(12,"path",86),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",87)(14,"p"),e._uU(15,"Upload Queue"),e.qZA(),e.TgZ(16,"div",88)(17,"table",89)(18,"thead")(19,"tr")(20,"th"),e._uU(21,"NAME"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"SIZE"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"PROGRESS"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"CATEGORY"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"ACTION"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,N,16,3,"tr",64),e.qZA()()(),e.TgZ(32,"p"),e._uU(33,"Progress Queue"),e.qZA(),e.TgZ(34,"div",90),e._UZ(35,"div",91),e.qZA(),e.TgZ(36,"button",92),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw();return e.KtG(Y.onFileupload())}),e._UZ(37,"i",93),e._uU(38," Upload All"),e.qZA(),e.TgZ(39,"button",94),e._UZ(40,"i",95),e._uU(41," Cancel All"),e.qZA(),e.TgZ(42,"button",96),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw();return e.KtG(ae.onReset(Y))}),e._UZ(43,"i",97),e._uU(44," Remove All"),e.qZA()()()()()}if(2&p){const t=e.oxw();e.xp6(31),e.Q6J("ngForOf",t.files)}}function G(p,j){if(1&p&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function U(p,j){1&p&&(e.TgZ(0,"p"),e._uU(1,"Plan is Required"),e.qZA())}function X(p,j){if(1&p&&(e.TgZ(0,"div",107),e.YNc(1,U,2,0,"p",71),e.qZA()),2&p){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.planId.errors.required)}}function B(p,j){if(1&p&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function $(p,j){1&p&&(e.TgZ(0,"p"),e._uU(1,"Hazard Type is Required"),e.qZA())}function te(p,j){if(1&p&&(e.TgZ(0,"div",107),e.YNc(1,$,2,0,"p",71),e.qZA()),2&p){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.hazardTypeId.errors.required)}}function ie(p,j){if(1&p&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ce(p,j){1&p&&(e.TgZ(0,"p"),e._uU(1,"Plan Type is Required"),e.qZA())}function I(p,j){if(1&p&&(e.TgZ(0,"div",107),e.YNc(1,ce,2,0,"p",71),e.qZA()),2&p){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.planTypeId.errors.required)}}function l(p,j){1&p&&(e.TgZ(0,"p"),e._uU(1,"Action is Required"),e.qZA())}function d(p,j){if(1&p&&(e.TgZ(0,"div",107),e.YNc(1,l,2,0,"p",71),e.qZA()),2&p){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.action.errors.required)}}function n(p,j){1&p&&(e.TgZ(0,"p"),e._uU(1,"Estimated Cost is Required"),e.qZA())}function c(p,j){if(1&p&&(e.TgZ(0,"div",107),e.YNc(1,n,2,0,"p",71),e.qZA()),2&p){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.estimatedCost.errors.required)}}function _(p,j){1&p&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",131),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function E(p,j){if(1&p&&(e.TgZ(0,"td",136),e._uU(1),e.qZA()),2&p){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.priority)}}function P(p,j){1&p&&e._UZ(0,"td")}function R(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function J(p,j){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Q(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function W(p,j){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function ee(p,j){if(1&p&&(e.TgZ(0,"tr",138),e._UZ(1,"td"),e.TgZ(2,"td"),e.YNc(3,Q,2,0,"div",71),e.YNc(4,W,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",133)(15,"a",139),e._UZ(16,"i",135),e.qZA()()()),2&p){const t=j.$implicit;e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function se(p,j){if(1&p&&(e.ynx(0),e.YNc(1,ee,17,8,"tr",137),e.BQk()),2&p){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function de(p,j){if(1&p&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,E,2,1,"td",132),e.YNc(3,P,1,0,"td",71),e.TgZ(4,"td"),e.YNc(5,R,2,0,"div",71),e.YNc(6,J,2,1,"div",64),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",133)(17,"a",134),e._UZ(18,"i",135),e.qZA()()(),e.YNc(19,se,2,1,"ng-container",71),e.BQk()),2&p){const t=j.$implicit,T=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.priority),e.xp6(1),e.Q6J("ngIf",null==t.priority),e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.hij(" ",t.hazardType?t.hazardType.name:"-"," "),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(13,9,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(4),e.Q6J("ngIf",1==T.showCrossCutting&&t.draftResponseChilds.length>0)}}function _e(p,j){if(1&p&&(e.TgZ(0,"tr",140)(1,"td",141),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"td",142),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",142),e._uU(7),e.ALo(8,"number"),e.qZA(),e._UZ(9,"td"),e.qZA()),2&p){const t=e.oxw().index,T=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,2,T.sumEstimatedCost(t))),e.xp6(3),e.Oqu(e.lcZ(8,4,T.sumEstimatedPeriod(t)))}}function Pe(p,j){if(1&p&&(e.TgZ(0,"div",123)(1,"div",19)(2,"h2",20)(3,"button",124)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",125)(8,"div",24)(9,"div",126)(10,"div",127)(11,"table",59)(12,"thead",128)(13,"tr")(14,"th",129),e._uU(15,"Priority"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Source"),e.qZA(),e.TgZ(18,"th",60),e._uU(19,"Hazard"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Cost"),e.qZA(),e.TgZ(24,"th",61),e._uU(25,"Estimated Period"),e.qZA(),e.TgZ(26,"th",129),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,_,4,0,"ng-container",71),e.YNc(30,de,20,11,"ng-container",64),e.YNc(31,_e,10,6,"tr",130),e.qZA()()()()()()()()),2&p){const t=j.$implicit,T=j.index;e.xp6(3),e.uIk("data-bs-target","#isSubmittedPlan"+t.id),e.xp6(2),e.Oqu(T+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","isSubmittedPlan",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses),e.xp6(1),e.Q6J("ngIf",t.draftResponses.length>0)}}function le(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",109)(6,"button",110),e._UZ(7,"i",111),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",112)(10,"div",113)(11,"div",114),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",115)(14,"a",116),e._uU(15,"Clear Filter"),e.qZA()()(),e.TgZ(16,"div",117)(17,"div",118),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",119)(20,"div",120)(21,"input",121),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw();return e.KtG(ae.filterCrossCutting(Y.target))}),e.qZA()()()()()()(),e.YNc(22,Pe,32,7,"div",122),e.qZA()()}if(2&p){const t=e.oxw();e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function pe(p,j){1&p&&(e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"History"),e.qZA(),e.TgZ(4,"div",143)(5,"div",2)(6,"div",144)(7,"div",127)(8,"table",59)(9,"thead",128)(10,"tr")(11,"th"),e._uU(12,"Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Assessor"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Type"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Description"),e.qZA()()(),e.TgZ(19,"tbody")(20,"tr")(21,"td"),e._uU(22,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(23,"td"),e._uU(24,"Admin 1"),e.qZA(),e.TgZ(25,"td"),e._uU(26,"Self Assessment"),e.qZA(),e.TgZ(27,"td"),e._uU(28,"-"),e.qZA()(),e.TgZ(29,"tr")(30,"td"),e._uU(31,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(32,"td"),e._uU(33,"Admin 1"),e.qZA(),e.TgZ(34,"td"),e._uU(35,"Self Assessment"),e.qZA(),e.TgZ(36,"td"),e._uU(37,"-"),e.qZA()(),e.TgZ(38,"tr")(39,"td"),e._uU(40,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(41,"td"),e._uU(42,"Admin 1"),e.qZA(),e.TgZ(43,"td"),e._uU(44,"Self Assessment"),e.qZA(),e.TgZ(45,"td"),e._uU(46,"-"),e.qZA()(),e.TgZ(47,"tr")(48,"td"),e._uU(49,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(50,"td"),e._uU(51,"Admin 1"),e.qZA(),e.TgZ(52,"td"),e._uU(53,"Self Assessment"),e.qZA(),e.TgZ(54,"td"),e._uU(55,"-"),e.qZA()(),e.TgZ(56,"tr")(57,"td"),e._uU(58,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(59,"td"),e._uU(60,"Admin 1"),e.qZA(),e.TgZ(61,"td"),e._uU(62,"Self Assessment"),e.qZA(),e.TgZ(63,"td"),e._uU(64,"-"),e.qZA()()()()()(),e.TgZ(65,"div",37)(66,"nav")(67,"ul",145)(68,"li",146)(69,"a",147)(70,"span",148),e._UZ(71,"i",149),e.qZA()()(),e.TgZ(72,"li",150)(73,"a",151),e._uU(74,"1"),e.qZA()(),e.TgZ(75,"li",146)(76,"a",151),e._uU(77,"2"),e.qZA()(),e.TgZ(78,"li",146)(79,"a",151),e._uU(80,"3"),e.qZA()(),e.TgZ(81,"li",146)(82,"a",151),e._uU(83,"4"),e.qZA()(),e.TgZ(84,"li",146)(85,"a",152)(86,"span",148),e._UZ(87,"i",153),e.qZA()()()()()()()()()())}function he(p,j){if(1&p&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&p){const t=j.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.count)}}function w(p,j){1&p&&(e.TgZ(0,"tr")(1,"td",173),e._uU(2,"No data found"),e.qZA()())}function H(p,j){if(1&p&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name.length>20?t.name.substr(0,20)+"...":t.name)}}function re(p,j){if(1&p&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name.length>20?t.name.substr(0,20)+"...":t.name)}}function ye(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",133)(7,"input",174),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw(3);return e.KtG(ae.onClickSelectDraft(Y))}),e.qZA()(),e.TgZ(8,"td")(9,"select",175),e.NdJ("change",function(Y){const ae=e.CHM(t),Se=ae.$implicit,Ze=ae.index,Ve=e.oxw(3);return e.KtG(Ve.onChangeDomain(Se.id,Y,Ze))})("click",function(Y){e.CHM(t);const ae=e.oxw(3);return e.KtG(ae.onClickDomain(Y))}),e.TgZ(10,"option",176),e._uU(11,"Choose Domain"),e.qZA(),e.YNc(12,H,2,2,"option",31),e.qZA()(),e.TgZ(13,"td")(14,"select",177)(15,"option",176),e._uU(16,"Choose Subdomain"),e.qZA(),e.YNc(17,re,2,2,"option",31),e.qZA()()()}if(2&p){const t=j.$implicit,T=j.index,Y=e.oxw(3);e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(5,7,t.estimatedCost)),e.xp6(3),e.Q6J("value",t.id),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",Y.domains),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",Y.subdomains[T])}}function ve(p,j){if(1&p&&(e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"Total Selected of Priority Action"),e.qZA(),e.TgZ(4,"div",143)(5,"div",168)(6,"div",144)(7,"div",127)(8,"table",59)(9,"thead")(10,"tr")(11,"th"),e._uU(12,"Domain"),e.qZA(),e.TgZ(13,"th",169),e._uU(14,"Total"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,he,5,2,"tr",64),e.TgZ(17,"tr",140)(18,"td",170),e._uU(19,"Total"),e.qZA(),e.TgZ(20,"td",142),e._uU(21),e.qZA()()()()()()()(),e.TgZ(22,"h6",78),e._uU(23,"Response Plan"),e.qZA(),e.TgZ(24,"div",143)(25,"div",2)(26,"div",144)(27,"div",127)(28,"table",59)(29,"thead")(30,"tr")(31,"th"),e._uU(32,"Action"),e.qZA(),e.TgZ(33,"th",169),e._uU(34,"Estimated Cost"),e.qZA(),e.TgZ(35,"th",171),e._uU(36,"Select"),e.qZA(),e.TgZ(37,"th",172),e._uU(38,"Domain"),e.qZA(),e.TgZ(39,"th",172),e._uU(40,"Subdomain"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,w,3,0,"tr",71),e.YNc(43,ye,18,9,"tr",64),e.qZA()()()()()()()()),2&p){const t=e.oxw(2);e.xp6(16),e.Q6J("ngForOf",t.countSelectedDomains),e.xp6(5),e.Oqu(t.countSelectedResponse),e.xp6(21),e.Q6J("ngIf",0==t.draftresponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftresponses)}}function me(p,j){1&p&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",181),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function xe(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Te(p,j){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Me(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Ie(p,j){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Fe(p,j){if(1&p&&(e.TgZ(0,"tr",138)(1,"td"),e.YNc(2,Me,2,0,"div",71),e.YNc(3,Ie,2,1,"div",64),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e._UZ(13,"td"),e.TgZ(14,"td",133)(15,"a",139),e._UZ(16,"i",135),e.qZA()(),e._UZ(17,"td"),e.qZA()),2&p){const t=j.$implicit;e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(10,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function ue(p,j){if(1&p&&(e.ynx(0),e.YNc(1,Fe,18,8,"tr",137),e.BQk()),2&p){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function q(p,j){if(1&p){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e.YNc(3,xe,2,0,"div",71),e.YNc(4,Te,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",133)(15,"div")(16,"input",182),e.NdJ("click",function(Y){const Se=e.CHM(t).$implicit,Ze=e.oxw().$implicit,Ve=e.oxw(3);return e.KtG(Ve.selectToOnMerge(Se.id,Ze.id,Y))}),e.qZA()()(),e.TgZ(17,"td",133)(18,"a",139),e._UZ(19,"i",135),e.qZA()(),e.TgZ(20,"td",133)(21,"a",183),e.NdJ("click",function(){const ae=e.CHM(t).$implicit,Se=e.oxw(4);return e.KtG(Se.onDeleteSelectDraft(ae.id))}),e._UZ(22,"i",105),e.qZA()()(),e.YNc(23,ue,2,1,"ng-container",71),e.BQk()}if(2&p){const t=j.$implicit,T=e.oxw(4);e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.hij(" ",t.hazardType?t.hazardType.name:"-"," "),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,7,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(10),e.Q6J("ngIf",1==T.showCrossCutting&&t.draftResponseChilds.length>0)}}function V(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",19)(2,"h2",20)(3,"button",124)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",125)(8,"div",24)(9,"div",178)(10,"div",127)(11,"table",59)(12,"thead")(13,"tr")(14,"th",60),e._uU(15,"Source"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Hazard"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA(),e.TgZ(20,"th",61),e._uU(21,"Estimated Cost"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Period"),e.qZA(),e.TgZ(24,"th",63),e._uU(25,"Select"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA(),e.TgZ(28,"th",63),e._uU(29,"Edit"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,me,4,0,"ng-container",71),e.YNc(32,q,24,9,"ng-container",64),e.qZA()()()(),e.TgZ(33,"div",2)(34,"div",37)(35,"button",179),e.NdJ("click",function(){const ae=e.CHM(t).$implicit,Se=e.oxw(3);return e.KtG(Se.onClickMergeAction(ae.id))}),e._UZ(36,"i",180),e._uU(37,"Merge Action"),e.qZA()()()()()()()}if(2&p){const t=j.$implicit,T=j.index;e.xp6(3),e.uIk("data-bs-target","#priority"+t.id),e.xp6(2),e.Oqu(T+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","priority",t.id,""),e.xp6(24),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses)}}function fe(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",109)(6,"button",110),e._UZ(7,"i",111),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",112)(10,"div",113)(11,"div",114),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",115)(14,"a",116),e._uU(15,"Clear Filter"),e.qZA()()(),e.TgZ(16,"div",117)(17,"div",118),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",119)(20,"div",120)(21,"input",121),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw(2);return e.KtG(ae.filterCrossCutting(Y.target))}),e.qZA()()()()()()(),e.YNc(22,V,38,6,"div",122),e.qZA()()}if(2&p){const t=e.oxw(2);e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function ge(p,j){1&p&&(e.TgZ(0,"tr")(1,"td",131),e._uU(2,"No data found"),e.qZA()())}function Ae(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Ce(p,j){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Oe(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e.YNc(2,Ae,2,0,"div",71),e.YNc(3,Ce,2,1,"div",64),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"select",185),e.NdJ("change",function(Y){const Se=e.CHM(t).$implicit,Ze=e.oxw().$implicit,Ve=e.oxw(3);return e.KtG(Ve.updatePriority(Ze.id,Se.id,Y.target))}),e.TgZ(15,"option",176),e._uU(16,"Choose Priority"),e.qZA(),e.TgZ(17,"option",186),e._uU(18,"1"),e.qZA(),e.TgZ(19,"option",186),e._uU(20,"2"),e.qZA(),e.TgZ(21,"option",186),e._uU(22,"3"),e.qZA(),e.TgZ(23,"option",186),e._uU(24,"4"),e.qZA(),e.TgZ(25,"option",186),e._uU(26,"5"),e.qZA()()(),e.TgZ(27,"td",133)(28,"a",139),e._UZ(29,"i",135),e.qZA()()()}if(2&p){const t=j.$implicit;e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(10,17,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1)("selected",1==t.priority),e.xp6(2),e.Q6J("value",2)("selected",2==t.priority),e.xp6(2),e.Q6J("value",3)("selected",3==t.priority),e.xp6(2),e.Q6J("value",4)("selected",4==t.priority),e.xp6(2),e.Q6J("value",5)("selected",5==t.priority)}}function Le(p,j){if(1&p&&(e.TgZ(0,"div",123)(1,"div",19)(2,"h2",20)(3,"button",124)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",125)(8,"div",24)(9,"div",126)(10,"div",127)(11,"table",59)(12,"thead")(13,"tr")(14,"th",60),e._uU(15,"Source"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Hazard"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA(),e.TgZ(20,"th",61),e._uU(21,"Estimated Cost"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Period"),e.qZA(),e.TgZ(24,"th",184),e._uU(25,"Priority"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,ge,3,0,"tr",71),e.YNc(30,Oe,30,19,"tr",64),e.qZA()()()()()()()()),2&p){const t=j.$implicit,T=j.index;e.xp6(3),e.uIk("data-bs-target","#summary"+t.id),e.xp6(2),e.Oqu(T+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","summary",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses)}}function Ne(p,j){if(1&p&&(e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.YNc(4,Le,31,6,"div",122),e.qZA()()),2&p){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.priorityactions)}}function Re(p,j){1&p&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",131),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function je(p,j){if(1&p&&(e.TgZ(0,"td",136),e._uU(1),e.qZA()),2&p){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.priority)}}function qe(p,j){1&p&&e._UZ(0,"td")}function Qe(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function De(p,j){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function He(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function We(p,j){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Je(p,j){if(1&p&&(e.TgZ(0,"tr",138),e._UZ(1,"td"),e.TgZ(2,"td"),e.YNc(3,He,2,0,"div",71),e.YNc(4,We,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",133)(15,"a",139),e._UZ(16,"i",135),e.qZA()()()),2&p){const t=j.$implicit;e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function Ge(p,j){if(1&p&&(e.ynx(0),e.YNc(1,Je,17,8,"tr",137),e.BQk()),2&p){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function Xe(p,j){if(1&p&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,je,2,1,"td",132),e.YNc(3,qe,1,0,"td",71),e.TgZ(4,"td"),e.YNc(5,Qe,2,0,"div",71),e.YNc(6,De,2,1,"div",64),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",133)(17,"a",139),e._UZ(18,"i",135),e.qZA()()(),e.YNc(19,Ge,2,1,"ng-container",71),e.BQk()),2&p){const t=j.$implicit,T=e.oxw(4);e.xp6(2),e.Q6J("ngIf",t.priority),e.xp6(1),e.Q6J("ngIf",null==t.priority),e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(13,9,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(4),e.Q6J("ngIf",1==T.showCrossCutting&&t.draftResponseChilds.length>0)}}function Ye(p,j){if(1&p&&(e.TgZ(0,"tr",140)(1,"td",141),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"td",142),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",142),e._uU(7),e.ALo(8,"number"),e.qZA(),e._UZ(9,"td"),e.qZA()),2&p){const t=e.oxw().index,T=e.oxw(3);e.xp6(4),e.Oqu(e.lcZ(5,2,T.sumEstimatedCost(t))),e.xp6(3),e.Oqu(e.lcZ(8,4,T.sumEstimatedPeriod(t)))}}function tt(p,j){if(1&p&&(e.TgZ(0,"div",123)(1,"div",19)(2,"h2",20)(3,"button",124)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",125)(8,"div",24)(9,"div",126)(10,"div",127)(11,"table",59)(12,"thead")(13,"tr")(14,"th",129),e._uU(15,"Priority"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Source"),e.qZA(),e.TgZ(18,"th",60),e._uU(19,"Hazard"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Cost"),e.qZA(),e.TgZ(24,"th",61),e._uU(25,"Estimated Period"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Re,4,0,"ng-container",71),e.YNc(30,Xe,20,11,"ng-container",64),e.YNc(31,Ye,10,6,"tr",130),e.qZA()()()()()()()()),2&p){const t=j.$implicit,T=j.index;e.xp6(3),e.uIk("data-bs-target","#summary"+t.id),e.xp6(2),e.Oqu(T+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","summary",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses),e.xp6(1),e.Q6J("ngIf",t.draftResponses.length>0)}}function lt(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",109)(6,"button",110),e._UZ(7,"i",111),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",112)(10,"div",113)(11,"div",114),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",115)(14,"a",116),e._uU(15,"Clear Fiilter"),e.qZA()()(),e.TgZ(16,"div",117)(17,"div",118),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",119)(20,"div",120)(21,"input",121),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw(2);return e.KtG(ae.filterCrossCutting(Y.target))}),e.qZA()()()()()()(),e.YNc(22,tt,32,7,"div",122),e.qZA()()}if(2&p){const t=e.oxw(2);e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function un(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"button",187),e.NdJ("click",function(){e.CHM(t),e.oxw();const Y=e.MAs(1),ae=e.oxw();return ae.previous(),e.KtG(ae.scroll(Y))}),e._UZ(1,"i",188),e._uU(2,"Previous"),e.qZA()}}function hn(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"button",189),e.NdJ("click",function(){e.CHM(t),e.oxw();const Y=e.MAs(1),ae=e.oxw();return ae.next(),e.KtG(ae.scroll(Y))}),e._uU(1,"Next"),e._UZ(2,"i",190),e.qZA()}}function pn(p,j){1&p&&(e.TgZ(0,"button",191),e._UZ(1,"i",73),e._uU(2,"Add File"),e.qZA())}function fn(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"button",189),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw(2),ae=e.MAs(4);return Y.submitActionPlan(),e.KtG(Y.scroll(ae))}),e._uU(1,"Save Result"),e._UZ(2,"i",190),e.qZA()}}const _t=function(p){return{"current-item":p}};function gn(p,j){if(1&p&&(e.TgZ(0,"div",154,155)(2,"div",5)(3,"section",156)(4,"ul",157)(5,"li",158)(6,"span",159),e._uU(7,"1"),e.qZA(),e.TgZ(8,"span",160),e._uU(9,"Prioritize Action"),e.qZA()(),e.TgZ(10,"li",158)(11,"span",159),e._uU(12,"2"),e.qZA(),e.TgZ(13,"span",160),e._uU(14,"Edit Prioritize Action"),e.qZA()(),e.TgZ(15,"li",158)(16,"span",159),e._uU(17,"3"),e.qZA(),e.TgZ(18,"span",160),e._uU(19,"Top Prioritize Action"),e.qZA()(),e.TgZ(20,"li",158)(21,"span",159),e._uU(22,"4"),e.qZA(),e.TgZ(23,"span",160),e._uU(24,"Summary"),e.qZA()()()(),e.YNc(25,ve,44,4,"div",17),e.YNc(26,fe,23,2,"div",17),e.YNc(27,Ne,5,1,"div",17),e.YNc(28,lt,23,2,"div",17),e.TgZ(29,"div",161)(30,"div",162)(31,"div",163)(32,"div",164),e.YNc(33,un,3,0,"button",165),e.qZA()(),e.TgZ(34,"div",163)(35,"div",37),e.YNc(36,hn,3,0,"button",166),e.YNc(37,pn,3,0,"button",167),e.YNc(38,fn,3,0,"button",166),e.qZA()()()()()()),2&p){const t=e.oxw();e.Q6J("hidden",t.divWizard),e.xp6(5),e.Q6J("ngClass",e.VKq(13,_t,1==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(15,_t,2==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(17,_t,3==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(19,_t,4==t.steps)),e.xp6(5),e.Q6J("ngIf",1==t.steps),e.xp6(1),e.Q6J("ngIf",2==t.steps),e.xp6(1),e.Q6J("ngIf",3==t.steps),e.xp6(1),e.Q6J("ngIf",4==t.steps),e.xp6(5),e.Q6J("ngIf",1!=t.steps),e.xp6(3),e.Q6J("ngIf",t.steps<4),e.xp6(1),e.Q6J("ngIf",4==t.steps),e.xp6(1),e.Q6J("ngIf",4==t.steps)}}function _n(p,j){if(1&p&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td",133)(11,"a",139),e._UZ(12,"i",135),e.qZA()()()),2&p){const t=j.$implicit;e.xp6(2),e.Oqu(t.source),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(7,4,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}const ct=function(p){return{"is-invalid":p}};let mn=(()=>{class p{constructor(t,T,Y,ae,Se,Ze,Ve,$e,at,Pt,wt,Et){this.fb=t,this.toastr=T,this.spinner=Y,this.route=ae,this.service=Se,this.serviceSubdomain=Ze,this.servicePriorityAction=Ve,this.serviceDraft=$e,this.servicePlan=at,this.serviceCountry=Pt,this.serviceHazardtype=wt,this.router=Et,this.formsubmitted=!1,this.plan_id=0,this.available_plan=0,this.selected_plan_type=[],this.onmerges=[],this.subdomains=[],this.modeAction="create",this.countSelectedResponse=0,this.countSelectedDomains=[],this.formImportFile=!1,this.showCrossCutting=0,this.selects=0,this.files=[],this.steps=1,this.divWizard=!1,this.route.queryParams.subscribe(et=>{this.findCountry(et.country,et.hazard_type),this.countryCode=et.country,this.hazardTypeId=et.hazard_type,this.getAllDraft(0|et.plan_id),this.findPlan(0|et.plan_id),this.plan_id=et.plan_id,this.steps=1})}ngOnInit(){this.getAllDomain(),this.clearForm(),this.clearFormMerge(),this.getPlantype(),this.getAllhazardType(),this.form=this.fb.group({planId:["",z.kI.required],hazardTypeId:["",z.kI.required],planTypeId:["",z.kI.required],action:["",z.kI.required],estimatedCost:["",z.kI.required]})}getAllhazardType(){this.serviceHazardtype.getAll().subscribe(t=>this.hazardType=t)}get f(){return this.form.controls}submitForm(){let t={planId:this.form.value.planId,hazardTypeId:this.form.value.hazardTypeId,sourceResponsePlans:[{planTypeId:this.form.value.planTypeId}],action:this.form.value.action,estimatedCost:this.form.value.estimatedCost};this.formsubmitted=!0,!this.form.invalid&&(console.log(t),this.spinner.show(),this.serviceDraft.create(t).subscribe({next:()=>{this.getAllDraft(this.plan_id)},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}}),this.formsubmitted=!1,this.form.reset({planId:"",hazardTypeId:"",planTypeId:""}))}onImportFile(){this.formImportFile=1!=this.formImportFile}onFileupload(){for(let t=0;t<this.files.length;t++)console.log({PlanId:this.plan_id,Name:this.files[t].name,Size:this.files[t].size,PlanTypeId:"1",File:"url"})}clearForm(){this.plan={name:null,isSubmitted:!1}}clearFormMerge(){this.formMerge={action:null,estimatedCost:null,estimatedPeriod:null,planId:this.plan_id,isMerged:!0,isSelected:!0,domainId:null}}findCountry(t,T){this.serviceCountry.getByCode(t).subscribe(Y=>{this.countryId=Y.id,this.getAllPlan(Y.id,T)})}getAllPlan(t,T){this.servicePlan.getByCountry(t).subscribe(Y=>{this.plans=Y;let ae=Object.keys(Y);this.available_plan=ae.length,0==ae.length&&this.showModalAddPlan()})}addPlan(){this.servicePlan.create({countryId:this.countryId,hazardTypeId:this.hazardTypeId,name:this.plan.name}).subscribe(T=>{this.getAllPlan(this.countryId,this.hazardTypeId),this.router.navigate(["/import/action-plan"],{queryParams:{plan_id:T.id},queryParamsHandling:"merge"})})}findPlan(t){this.servicePlan.find(t).subscribe(T=>{this.plan=T,1==this.plan.isSubmitted&&this.getAllDomainWithDraftResponse(this.plan.id)})}submitActionPlan(){this.servicePlan.updateIsSubmitted(this.plan_id,{isSubmitted:!0}).subscribe(()=>{this.divWizard=!1,this.findPlan(this.plan_id),this.modeAction="create",this.getAllDomain(),this.countSelectedResponse=0})}updateActionPlan(){this.servicePlan.updateIsSubmitted(this.plan_id,{isSubmitted:!1}).subscribe(()=>{this.divWizard=!1,this.findPlan(this.plan_id),this.modeAction="update",this.steps=1})}selectPlantype(t=[]){this.selects=t.target.value,console.log(this.selects)}getPlantype(){this.service.getPlantype().subscribe(t=>{this.plantypes=t,this.array_plan_type=t})}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}onReset(t){this.files=[]}getAllDraft(t){this.servicePriorityAction.getAll(t).subscribe(T=>{this.draftresponses=T})}getAllDomain(){this.countSelectedDomains=[],this.service.getDomain().subscribe(t=>{this.domains=t;let T=Object.keys(t).length;for(let Y=0;Y<T;Y++){const ae=t[Y];this.countSelectedDomains.push({id:ae.id,name:ae.name,count:0})}})}getAllDomainWithDraftResponse(t){this.servicePriorityAction.getAllDomainWithDraftResponse(t).subscribe(T=>{this.priorityactions=T})}next(){this.steps=this.steps+1,this.steps>1&&this.getAllDomainWithDraftResponse(this.plan_id)}previous(){this.steps=this.steps-1,1==this.steps&&(this.getAllDraft(this.plan_id),this.getAllDomain(),this.countSelectedResponse=0)}divWizardFunction(){this.divWizard=!this.divWizard}onClickSelectDraft(t){this.serviceDraft.updateIsSelected(t.target.value,{isSelected:t.target.checked}).subscribe(),t.target.checked?this.countSelectedResponse++:this.countSelectedResponse--}onChangeDomain(t,T,Y){this.serviceDraft.updateDomainId(t,{domainId:T.target.value}).subscribe(),this.getSubDomainByDomain(T.target.value,Y);const Se=this.countSelectedDomains.findIndex(Ze=>Ze.id==T.target.value);if(T.target.value>0&&this.countSelectedDomains[Se].count++,this.domainIdBeforeChange!=T.target.value){const Ze=this.countSelectedDomains.findIndex(Ve=>Ve.id==this.domainIdBeforeChange);Ze>=0&&this.countSelectedDomains[Ze].count--}}onClickDomain(t){this.domainIdBeforeChange=t.target.value}getSubDomainByDomain(t,T){this.serviceSubdomain.getByDomain(t).subscribe(Y=>{this.subdomains[T]=Y})}onDeleteSelectDraft(t){let T={isSelected:!1,domainId:null};this.serviceDraft.updateIsSelected(t,T).subscribe(()=>{this.serviceDraft.updateDomainId(t,T).subscribe(()=>{this.getAllDomainWithDraftResponse(this.plan_id)})})}showModalAddPlan(){this.element=document.getElementById("modalAddPlan"),this.element.click()}selectToOnMerge(t,T,Y){if(Y.target.checked)this.serviceDraft.find(t).forEach(ae=>{this.onmerges.push({draftId:t,action:ae.action,estimatedCost:ae.estimatedCost,estimatedPeriod:ae.estimatedPeriod,domainId:T,source:ae.sourceResponsePlans[0]?ae.sourceResponsePlans[0].planType.name:"-",planTypeId:ae.sourceResponsePlans[0]?ae.sourceResponsePlans[0].planType.id:0})});else{const ae=this.onmerges.findIndex(Se=>Se.draftId===t);this.onmerges.splice(ae,1)}}onClickMergeAction(t){let T=this.plan_id;this.formMerge.domainId=t,this.formMerge.planId=T,this.formMerge.sourceResponsePlans=this.onmerges}saveMergeAction(){this.serviceDraft.create(this.formMerge).subscribe({next:t=>{this.getAllDomainWithDraftResponse(this.plan_id),this.clearFormMerge(),this.parentId=t.id},error:t=>{console.log(t)},complete:()=>{this.onmerges.forEach(t=>{this.serviceDraft.deleteByMerge(t.draftId,this.parentId).subscribe()})}}),setTimeout(()=>{this.onmerges=[],this.getAllDomainWithDraftResponse(this.plan_id)},3e3),this.clearFormMerge()}sumEstimatedCost(t){let T=0;return this.priorityactions[t].draftResponses.forEach(Y=>{T+=Y.estimatedCost}),T}sumEstimatedPeriod(t){let T=0;return this.priorityactions[t].draftResponses.forEach(Y=>{T+=Y.estimatedPeriod}),T}updatePriority(t,T,Y){this.serviceDraft.updatePriority(T,{planId:this.plan_id,domainId:t,priority:Y.value}).subscribe(()=>{this.getAllDomainWithDraftResponse(this.plan_id)})}filterCrossCutting(t){this.showCrossCutting=0,t.checked&&(this.showCrossCutting=1)}scroll(t){var ae=t.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:ae,behavior:"smooth"})}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(z.qu),e.Y36(ne._W),e.Y36(D.t2),e.Y36(oe.gz),e.Y36(u.f),e.Y36(S.$),e.Y36(m.A),e.Y36(A),e.Y36(r.D),e.Y36(o.T),e.Y36(h.$),e.Y36(oe.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-actionplan"]],decls:138,vars:36,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],["actionPlan",""],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary","mb-4",2,"color","#00205C"],[1,"d-flex","flex-row","bd-highlight"],[1,"bd-highlight"],[1,"nav","nav-pills","text-center"],["class","nav-item",4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#createPlan",1,"nav-item",2,"max-width","40px"],["id","modalAddPlan",1,"nav-link"],[1,"bi","bi-plus-lg"],[2,"margin-top","0","margin-bottom","1.5rem!important"],["class","d-flex justify-content-between mb-4",4,"ngIf"],["class","d-flex justify-content-end mb-4",4,"ngIf"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"accordion","mb-4","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne",1,"accordion-button","collapsed","lh-1","fs-14"],[1,"badge","bg-info","me-2"],["id","collapseOne",1,"accordion-collapse","collapse"],[1,"accordion-body","p-4","fs-12"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","planId",1,"form-select","fs-14",3,"ngClass"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","hazardTypeId",1,"form-select","fs-14",3,"ngClass"],["formControlName","planTypeId",1,"form-select","fs-14",3,"ngClass"],["formControlName","action",1,"form-control","fs-14",3,"ngClass"],["formControlName","estimatedCost","type","number",1,"form-control","fs-14",3,"ngClass"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn",2,"background-color","#5B8874","color","white","border","none","font-size","12px"],["class","card mb-4 border-0",3,"hidden",4,"ngIf"],["id","createPlan","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",2,"background-color","#F7F7F7"],[1,"modal-body","my-2"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn",2,"background-color","transparent","color","#616161","border","none","font-size","12px"],["data-bs-dismiss","modal","type","button",1,"btn","px-4",2,"background-color","#5B8874","color","white","border","none","font-size","12px",3,"click"],["id","mergePlan","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-centered"],[1,"modal-body"],[1,"row","mb-4"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"table","mb-0"],["width","80px"],["width","140px"],["width","230px"],["width","40px",1,"text-center"],[4,"ngFor","ngForOf"],["type","button","data-bs-dismiss","modal",1,"btn",2,"background-color","transparent","color","#616161","border","none","font-size","14px"],["type","button","data-bs-dismiss","modal",1,"btn","px-4",2,"background-color","#5B8874","color","white","border","none","font-size","14px",3,"click"],[1,"nav-item"],["routerLinkActive","active",1,"btn","nav-link","fs-14",3,"routerLink","queryParams","queryParamsHandling","routerLinkActiveOptions"],[1,"d-flex","justify-content-between","mb-4"],[1,"d-flex","align-items-center"],[4,"ngIf"],["type","button",1,"btn","btn-primary",2,"color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-plus","pe-2"],[1,"d-flex","justify-content-end","mb-4"],[1,"bi","bi-pencil-square","pe-2"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"py-2"],[1,"row","py-2"],[1,"col-md-3","px-3"],["ngx-dropzone","","accept","application/pdf",1,"position-relative","custom-dropzone","border-upload",3,"change"],[1,"position-absolute","top-50","start-50","translate-middle","text-center"],[1,"fs-12"],["xmlns","http://www.w3.org/2000/svg","width","35","height","35","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-download"],["d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"],["d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"],[1,"col-md-9"],[1,"table-responsive","mb-4"],[1,"table"],[1,"progress","mb-4"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","0%"],["type","button",1,"btn","btn-upload","btn-action",3,"click"],[1,"bi","bi-upload","pe-2"],["type","button",1,"btn","btn-outline-warning","btn-action"],[1,"bi","bi-x-lg","pe-2"],["type","button",1,"btn","btn-outline-danger","btn-action",3,"click"],[1,"bi","bi-trash3","pe-2"],[1,"align-middle","td-upload"],[1,"align-middle"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"],[3,"change"],["selected",""],["type","button",1,"btn","btn-outline-danger","btn-td",3,"click"],[1,"bi","bi-trash3"],[3,"value"],[1,"invalid-feedback"],[1,"card-body","px-4"],[1,"dropdown"],["type","button","id","filteraction","data-bs-toggle","dropdown","aria-expanded","false","data-bs-display","static",1,"btn","fs-12",2,"border","1px solid #024664"],[1,"bi","bi-funnel","pe-2"],["aria-labelledby","filteraction",1,"dropdown-menu","dropdown-menu-lg-end","fs-12",2,"width","250px !important"],[1,"row","px-4","mb-4"],[1,"fw-bold","col-md-8","p-0","text-md-start"],[1,"col-md-4","p-0","text-md-end","fs-10"],["href","javascript:void(0)",1,"text-decoration-none"],[1,"row","px-4"],[1,"col-md-8","p-0","text-md-start"],[1,"col-md-4","p-0","text-md-end"],[1,"form-switch","p-0"],["type","checkbox","role","switch",1,"form-check-input","m-0",3,"value","click"],["class","accordion mb-3",4,"ngFor","ngForOf"],[1,"accordion","mb-3"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"card"],[1,"card-body","p-0"],[1,"text-white",2,"background-color","#024664"],["width","80px",1,"text-center"],["style","background-color: #FFFB3D;",4,"ngIf"],["colspan","7"],["class","text-center text-white","style","background-color: red;",4,"ngIf"],[1,"text-center"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"],[1,"text-center","text-white",2,"background-color","red"],["style","background-color: #ededed",4,"ngFor","ngForOf"],[2,"background-color","#ededed"],["href","#",1,"btn","btn-outline-primary","btn-sm","btn-td"],[2,"background-color","#FFFB3D"],["colspan","4",1,"text-center","text-dark","fw-bold"],[1,"text-dark","fw-bold"],[1,"row","fs-12"],[1,"card","mb-3"],[1,"pagination"],[1,"page-item"],["href","#","aria-label","Previous",1,"page-link","text-dark","border-0"],["aria-hidden","true"],[1,"bi","bi-chevron-left"],[1,"page-item","active"],["href","#",1,"page-link","text-dark","border-0"],["href","#","aria-label","Next",1,"page-link","text-dark","border-0"],[1,"bi","bi-chevron-right"],[1,"card","mb-4","border-0",3,"hidden"],["actionWizard",""],[1,"step-wizard"],[1,"step-wizard-list"],[1,"step-wizard-item",3,"ngClass"],[1,"progress-count"],[1,"progress-label"],[1,"container","p-0","mb-4"],[1,"row","row-cols-2"],[1,"col"],[1,"d-flex","justify-content-start"],["type","button","class","btn","style","background-color: transparent; color: #5B8874; border: none; font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn","style","background-color: #5B8874; color: white; border: none; font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-primary mx-4","style","color: white; border: none; font-size: 12px;",4,"ngIf"],[1,"col-6"],["width","120px"],[1,"text-center","text-dark","fw-bold"],["width","50px",1,"text-center"],["width","100px"],["colspan","5"],["type","checkbox",1,"form-check-input",3,"value","click"],[1,"wizard",3,"change","click"],["selected","",3,"value"],[1,"wizard"],[1,"card","mb-4"],["type","button","data-bs-toggle","modal","data-bs-target","#mergePlan",1,"btn",2,"background-color","#5B8874","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-collection","pe-2"],["colspan","8"],["type","checkbox",1,"form-check-input","bg-green",3,"click"],[1,"btn","btn-outline-danger","btn-sm","btn-td",3,"click"],["width","100px",1,"text-center"],[1,"wizard",3,"change"],[3,"value","selected"],["type","button",1,"btn",2,"background-color","transparent","color","#5B8874","border","none","font-size","12px",3,"click"],[1,"bi","bi-chevron-left","pe-2"],["type","button",1,"btn",2,"background-color","#5B8874","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-chevron-right","ps-2"],["type","button",1,"btn","btn-primary","mx-4",2,"color","white","border","none","font-size","12px"]],template:function(t,T){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4)(5,"div",5)(6,"h4",6),e._uU(7,"Action Plan"),e.qZA(),e.TgZ(8,"div",7)(9,"div",8)(10,"ul",9),e.YNc(11,s,3,9,"li",10),e.TgZ(12,"li",11)(13,"a",12),e._UZ(14,"i",13),e.qZA()()()()(),e._UZ(15,"hr",14),e.YNc(16,x,8,2,"div",15),e.YNc(17,O,5,0,"div",16),e.YNc(18,Z,45,1,"div",17),e.TgZ(19,"div",18)(20,"div",19)(21,"h2",20)(22,"button",21),e._UZ(23,"span",22),e._uU(24," Add Draft Response "),e.qZA()(),e.TgZ(25,"div",23)(26,"div",24)(27,"form",25),e.NdJ("ngSubmit",function(){return T.submitForm()}),e.TgZ(28,"div",26)(29,"label",27),e._uU(30,"Plan"),e.qZA(),e.TgZ(31,"div",28)(32,"select",29)(33,"option",30),e._uU(34,"Choose Plan"),e.qZA(),e.YNc(35,G,2,2,"option",31),e.qZA(),e.YNc(36,X,2,1,"div",32),e.qZA()(),e.TgZ(37,"div",26)(38,"label",27),e._uU(39,"Hazard Type"),e.qZA(),e.TgZ(40,"div",28)(41,"select",33)(42,"option",30),e._uU(43,"Choose Hazard Type"),e.qZA(),e.YNc(44,B,2,2,"option",31),e.qZA(),e.YNc(45,te,2,1,"div",32),e.qZA()(),e.TgZ(46,"div",26)(47,"label",27),e._uU(48,"Plan Type"),e.qZA(),e.TgZ(49,"div",28)(50,"select",34)(51,"option",30),e._uU(52,"Choose Plan Type"),e.qZA(),e.YNc(53,ie,2,2,"option",31),e.qZA(),e.YNc(54,I,2,1,"div",32),e.qZA()(),e.TgZ(55,"div",26)(56,"label",27),e._uU(57,"Action"),e.qZA(),e.TgZ(58,"div",28),e._UZ(59,"textarea",35),e.YNc(60,d,2,1,"div",32),e.qZA()(),e.TgZ(61,"div",26)(62,"label",27),e._uU(63,"Estimated Cost"),e.qZA(),e.TgZ(64,"div",28),e._UZ(65,"input",36),e.YNc(66,c,2,1,"div",32),e.qZA()(),e.TgZ(67,"div",37)(68,"button",38),e._uU(69,"Submit"),e.qZA()()()()()()(),e.YNc(70,le,23,2,"div",17),e.YNc(71,pe,88,0,"div",17),e.qZA()(),e.YNc(72,gn,39,21,"div",39),e.qZA()()(),e.TgZ(73,"div",40)(74,"div",41)(75,"div",42)(76,"div",43)(77,"h5",44),e._uU(78,"Create Action Plan"),e.qZA(),e._UZ(79,"button",45),e.qZA(),e.TgZ(80,"div",46)(81,"div",1)(82,"label",47),e._uU(83,"Plan Name"),e.qZA(),e.TgZ(84,"div",48)(85,"input",49),e.NdJ("ngModelChange",function(ae){return T.plan.name=ae}),e.qZA()()()(),e.TgZ(86,"div",50)(87,"button",51),e._uU(88,"Cancel"),e.qZA(),e.TgZ(89,"button",52),e.NdJ("click",function(){return T.addPlan()}),e._uU(90,"Save"),e.qZA()()()()(),e.TgZ(91,"div",53)(92,"div",54)(93,"div",42)(94,"div",43)(95,"h5",44),e._uU(96,"Merge Piority Action"),e.qZA(),e._UZ(97,"button",45),e.qZA(),e.TgZ(98,"div",55)(99,"div",56)(100,"label",27),e._uU(101,"Action Name"),e.qZA(),e.TgZ(102,"div",28)(103,"input",49),e.NdJ("ngModelChange",function(ae){return T.formMerge.action=ae}),e.qZA()()(),e.TgZ(104,"div",56)(105,"label",27),e._uU(106,"Estimated Cost"),e.qZA(),e.TgZ(107,"div",28)(108,"input",57),e.NdJ("ngModelChange",function(ae){return T.formMerge.estimatedCost=ae}),e.qZA()()(),e.TgZ(109,"div",56)(110,"label",27),e._uU(111,"Estimated Implementation Periode"),e.qZA(),e.TgZ(112,"div",28)(113,"input",57),e.NdJ("ngModelChange",function(ae){return T.formMerge.estimatedPeriod=ae}),e.qZA()()(),e.TgZ(114,"div",1)(115,"label",47),e._uU(116,"List of Priority Action"),e.qZA(),e.TgZ(117,"div",58)(118,"table",59)(119,"thead")(120,"tr")(121,"th",60),e._uU(122,"Source"),e.qZA(),e.TgZ(123,"th"),e._uU(124,"Action"),e.qZA(),e.TgZ(125,"th",61),e._uU(126,"Estimated Cost"),e.qZA(),e.TgZ(127,"th",62),e._uU(128,"Estimated Implementation Period"),e.qZA(),e.TgZ(129,"th",63),e._uU(130,"File"),e.qZA()()(),e.TgZ(131,"tbody"),e.YNc(132,_n,13,6,"tr",64),e.qZA()()()()(),e.TgZ(133,"div",50)(134,"button",65),e._uU(135,"Cancel"),e.qZA(),e.TgZ(136,"button",66),e.NdJ("click",function(){return T.saveMergeAction()}),e._uU(137,"Save"),e.qZA()()()()()),2&t&&(e.xp6(11),e.Q6J("ngForOf",T.plans),e.xp6(5),e.Q6J("ngIf",T.available_plan>0&&0==T.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",T.available_plan>0&&1==T.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",T.available_plan>0&&1==T.formImportFile),e.xp6(9),e.Q6J("formGroup",T.form),e.xp6(5),e.Q6J("ngClass",e.VKq(26,ct,T.formsubmitted&&T.f.planId.errors)),e.xp6(3),e.Q6J("ngForOf",T.plans),e.xp6(1),e.Q6J("ngIf",T.formsubmitted&&T.f.planId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(28,ct,T.formsubmitted&&T.f.hazardTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",T.hazardType),e.xp6(1),e.Q6J("ngIf",T.formsubmitted&&T.f.hazardTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(30,ct,T.formsubmitted&&T.f.planTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",T.plantypes),e.xp6(1),e.Q6J("ngIf",T.formsubmitted&&T.f.planTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(32,ct,T.formsubmitted&&T.f.action.errors)),e.xp6(1),e.Q6J("ngIf",T.formsubmitted&&T.f.action.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(34,ct,T.formsubmitted&&T.f.estimatedCost.errors)),e.xp6(1),e.Q6J("ngIf",T.formsubmitted&&T.f.estimatedCost.errors),e.xp6(4),e.Q6J("ngIf",1==T.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",1==T.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",T.available_plan>0&&0==T.plan.isSubmitted),e.xp6(13),e.Q6J("ngModel",T.plan.name),e.xp6(18),e.Q6J("ngModel",T.formMerge.action),e.xp6(5),e.Q6J("ngModel",T.formMerge.estimatedCost),e.xp6(5),e.Q6J("ngModel",T.formMerge.estimatedPeriod),e.xp6(19),e.Q6J("ngForOf",T.onmerges))},dependencies:[f.mk,f.sg,f.O5,oe.yS,oe.Od,M._f,z._Y,z.YN,z.Kr,z.Fj,z.wV,z.EJ,z.JJ,z.JL,z.sg,z.u,z.On,f.JJ],styles:['.card-plan[_ngcontent-%COMP%]{background-color:#d7f0fb}.card-plan-icon[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;width:50px;height:50px}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background-color:#058fcb;border-radius:0}.nav-link[_ngcontent-%COMP%]{color:#424242;min-width:120px;height:40px}.nav-item[_ngcontent-%COMP%]{font-weight:500;font-size:16px;background-color:#f7f7f7;border-right:2px solid #FFFFFF;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;gap:10px}.modal-header[_ngcontent-%COMP%]{border:0;padding:2rem 3rem!important}.modal-body[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important;padding-bottom:3rem!important}.modal-footer[_ngcontent-%COMP%]{border:0;background-color:#f7f7f7;padding-right:1.5rem!important;padding-left:1.5rem!important}thead[_ngcontent-%COMP%]{background:#024664}th[_ngcontent-%COMP%]{font-weight:550;font-size:12px;line-height:20px;padding-top:15px;padding-bottom:15px;color:#fff}.wizard[_ngcontent-%COMP%]{border:none}.btn-td[_ngcontent-%COMP%]{font-size:11px}.td-upload[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;font-weight:400;font-size:11px;line-height:17px}.btn-upload[_ngcontent-%COMP%], .btn-upload[_ngcontent-%COMP%]:hover, .btn-upload[_ngcontent-%COMP%]:focus{background-color:#9747ff;border-color:#9747ff;color:#fff}.border-upload[_ngcontent-%COMP%]{border-style:dashed;border-width:2px;border-color:#9747ff;background:#F8F7FE;color:#9747ff}.btn-action[_ngcontent-%COMP%]{font-size:12px;margin-bottom:10px;margin-right:10px}ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{height:240px}.step-wizard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.step-wizard-list[_ngcontent-%COMP%]{display:flex;padding:20px 10px;position:relative;z-index:10}.step-wizard-item[_ngcontent-%COMP%]{padding:0 20px;flex-basis:0;flex-grow:1;max-width:100%;display:flex;flex-direction:column;text-align:center;min-width:170px;position:relative}.step-wizard-item[_ngcontent-%COMP%] + .step-wizard-item[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:19px;background:#058FCB;width:100%;height:2px;transform:translate(-50%);z-index:-10}.progress-count[_ngcontent-%COMP%]{height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-weight:600;margin:0 auto;position:relative;z-index:10;color:#fff}.progress-count[_ngcontent-%COMP%]:after{content:"";height:40px;width:40px;background:#058FCB;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:50%;z-index:-10}.progress-count[_ngcontent-%COMP%]:before{content:"";position:absolute}.progress-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;width:200px;margin-top:10px;color:#058fcb}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:before, .current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:before{display:none}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:after{border:2px solid #40404068;background:#FFFFFF}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:#404040;opacity:.5}.current-item[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:#404040;opacity:.5}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{color:#40404068}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:after{background:#FFFFFF;border:2px solid #058FCB}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{color:#058fcb}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){border-top:none}']}),p})();var bn=K(7123),vn=K.n(bn),An=K(2447);let yn=(()=>{class p{constructor(t,T){this.activatedRoute=t,this.serviceDonorPartner=T,this.domains=[],this.activatedRoute.queryParams.subscribe(Y=>{Y.hazard_type&&Y.country?this.getDonorPartners(Y.country,Y.hazard_type):this.domains=[]})}ngOnInit(){vn().init()}getDonorPartners(t,T){this.serviceDonorPartner.getByCountryAndHazard(t,T).subscribe(Y=>{this.domains=Y})}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(oe.gz),e.Y36(An.P))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-readinesschecklist"]],decls:653,vars:0,consts:[[1,"container-fluid","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-lg-9"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary",2,"color","#00205C"],[1,"col-lg-3","d-flex","justify-content-end"],["href","../../../../assets/Country Profile_Botswana.pdf","download",""],["type","button",1,"btn","btn-primary","text-white","border-0","fs-12","mx-2"],["href","../../../../assets/Botswana_Readiness.csv","download",""],["type","button",1,"btn","btn-primary","text-white","border-0","fs-12"],[1,"accordion","mb-3","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerOne","aria-expanded","true","aria-controls","donorAndPartnerOne",1,"accordion-button","lh-1","fs-14"],[1,"badge","bg-info","me-2"],["id","donorAndPartnerOne",1,"accordion-collapse","collapse","show"],[1,"accordion-body","p-4","fs-12"],[1,"card","mb-3"],[1,"card-body","p-0"],[1,"table","mb-0","checklist-table"],[1,"text-white",2,"background-color","#71757d"],["rowspan","2",1,"align-middle"],["colspan","4",1,"text-center","status"],["width","8px",1,"text-center"],[1,"badge1","badge-yes"],["width","85px",1,"text-center"],[1,"badge1","badge-no"],[1,"badge1","badge-inprogress"],[1,"badge1","badge-na"],["colspan","1"],[1,"text-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerTwo","aria-expanded","true","aria-controls","donorAndPartnerTwo",1,"accordion-button","lh-1","fs-14"],[1,"table","mb-0"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerThree","aria-expanded","true","aria-controls","donorAndPartnerThree",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerFour","aria-expanded","true","aria-controls","donorAndPartnerFour",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerFive","aria-expanded","true","aria-controls","donorAndPartnerFive",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerSix","aria-expanded","true","aria-controls","donorAndPartnerSix",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerSeven","aria-expanded","true","aria-controls","donorAndPartnerSeven",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerEight","aria-expanded","true","aria-controls","donorAndPartnerEight",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerNine","aria-expanded","true","aria-controls","donorAndPartnerNine",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerTen","aria-expanded","true","aria-controls","donorAndPartnerTen",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerEleven","aria-expanded","true","aria-controls","donorAndPartnerEleven",1,"accordion-button","lh-1","fs-14"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerTwelve","aria-expanded","true","aria-controls","donorAndPartnerTwelve",1,"accordion-button","lh-1","fs-14"]],template:function(t,T){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4",7),e._uU(8,"Readiness Checklist"),e.qZA()(),e.TgZ(9,"div",8)(10,"a",9)(11,"button",10),e._uU(12," Country Profile "),e.qZA()(),e.TgZ(13,"a",11)(14,"button",12),e._uU(15," Export File"),e.qZA()()()(),e.TgZ(16,"div",13)(17,"div",14)(18,"h2",15)(19,"button",16)(20,"span",17),e._uU(21,"1"),e.qZA(),e._uU(22," Legal authority "),e.qZA()(),e.TgZ(23,"div",18)(24,"div",19)(25,"div",20)(26,"div",21)(27,"table",22)(28,"thead",23)(29,"tr")(30,"th",24),e._uU(31,"Readiness Action Checklist"),e.qZA(),e.TgZ(32,"th",25),e._uU(33,"Status"),e.qZA()(),e.TgZ(34,"tr")(35,"th",26)(36,"span",27),e._uU(37,"Completed"),e.qZA()(),e.TgZ(38,"th",28)(39,"span",29),e._uU(40,"Not Started"),e.qZA()(),e.TgZ(41,"th",28)(42,"span",30),e._uU(43,"WIP"),e.qZA()(),e.TgZ(44,"th",28)(45,"span",31),e._uU(46,"N/A"),e.qZA()()()(),e.TgZ(47,"tbody")(48,"tr")(49,"td",32),e._uU(50,"Legal authority for PHEOC established "),e.qZA(),e.TgZ(51,"td",33),e._uU(52,"75% "),e.qZA(),e.TgZ(53,"td",33),e._uU(54,"25%"),e.qZA(),e.TgZ(55,"td",33),e._uU(56,"0%"),e.qZA(),e.TgZ(57,"td",33),e._uU(58,"-"),e.qZA()(),e.TgZ(59,"tr")(60,"td",32),e._uU(61,"Government commitment has been secured public health emergencies are recognized as potential national disasters "),e.qZA(),e.TgZ(62,"td",33),e._uU(63,"75% "),e.qZA(),e.TgZ(64,"td",33),e._uU(65,"25%"),e.qZA(),e.TgZ(66,"td",33),e._uU(67,"0%"),e.qZA(),e.TgZ(68,"td",33),e._uU(69,"-"),e.qZA()()()()()()()()()(),e.TgZ(70,"div",13)(71,"div",14)(72,"h2",15)(73,"button",34)(74,"span",17),e._uU(75,"2"),e.qZA(),e._uU(76," Policy group "),e.qZA()(),e.TgZ(77,"div",18)(78,"div",19)(79,"div",20)(80,"div",21)(81,"table",35)(82,"thead",23)(83,"tr")(84,"th",24),e._uU(85,"Readiness Action Checklist"),e.qZA(),e.TgZ(86,"th",25),e._uU(87,"Status"),e.qZA()(),e.TgZ(88,"tr")(89,"th",26)(90,"span",27),e._uU(91,"Completed"),e.qZA()(),e.TgZ(92,"th",28)(93,"span",29),e._uU(94,"Not Started"),e.qZA()(),e.TgZ(95,"th",28)(96,"span",30),e._uU(97,"WIP"),e.qZA()(),e.TgZ(98,"th",28)(99,"span",31),e._uU(100,"N/A"),e.qZA()()()(),e.TgZ(101,"tbody")(102,"tr")(103,"td",32),e._uU(104,"A policy group to provide policy guidance to PHEOC has been established "),e.qZA(),e.TgZ(105,"td",33),e._uU(106,"0%"),e.qZA(),e.TgZ(107,"td",33),e._uU(108,"0%"),e.qZA(),e.TgZ(109,"td",33),e._uU(110,"100%"),e.qZA(),e.TgZ(111,"td",33),e._uU(112,"-"),e.qZA()()()()()()()()()(),e.TgZ(113,"div",13)(114,"div",14)(115,"h2",15)(116,"button",36)(117,"span",17),e._uU(118,"3"),e.qZA(),e._uU(119," Steering committee "),e.qZA()(),e.TgZ(120,"div",18)(121,"div",19)(122,"div",20)(123,"div",21)(124,"table",35)(125,"thead",23)(126,"tr")(127,"th",24),e._uU(128,"Readiness Action Checklist"),e.qZA(),e.TgZ(129,"th",25),e._uU(130,"Status"),e.qZA()(),e.TgZ(131,"tr")(132,"th",26)(133,"span",27),e._uU(134,"Completed"),e.qZA()(),e.TgZ(135,"th",28)(136,"span",29),e._uU(137,"Not Started"),e.qZA()(),e.TgZ(138,"th",28)(139,"span",30),e._uU(140,"WIP"),e.qZA()(),e.TgZ(141,"th",28)(142,"span",31),e._uU(143,"N/A"),e.qZA()()()(),e.TgZ(144,"tbody")(145,"tr")(146,"td",32),e._uU(147,"Hazards, vulnerabilities and resulting risks have been identified and prioritized "),e.qZA(),e.TgZ(148,"td",33),e._uU(149,"100%"),e.qZA(),e.TgZ(150,"td",33),e._uU(151,"0%"),e.qZA(),e.TgZ(152,"td",33),e._uU(153,"0%"),e.qZA(),e.TgZ(154,"td",33),e._uU(155,"-"),e.qZA()(),e.TgZ(156,"tr")(157,"td",32),e._uU(158,"PHEOC objectives have been developed "),e.qZA(),e.TgZ(159,"td",33),e._uU(160,"100%"),e.qZA(),e.TgZ(161,"td",33),e._uU(162,"0%"),e.qZA(),e.TgZ(163,"td",33),e._uU(164,"0%"),e.qZA(),e.TgZ(165,"td",33),e._uU(166,"-"),e.qZA()()()()()()()()()(),e.TgZ(167,"div",13)(168,"div",14)(169,"h2",15)(170,"button",37)(171,"span",17),e._uU(172,"4"),e.qZA(),e._uU(173," Planning "),e.qZA()(),e.TgZ(174,"div",18)(175,"div",19)(176,"div",20)(177,"div",21)(178,"table",35)(179,"thead",23)(180,"tr")(181,"th",24),e._uU(182,"Readiness Action Checklist"),e.qZA(),e.TgZ(183,"th",25),e._uU(184,"Status"),e.qZA()(),e.TgZ(185,"tr")(186,"th",26)(187,"span",27),e._uU(188,"Completed"),e.qZA()(),e.TgZ(189,"th",28)(190,"span",29),e._uU(191,"Not Started"),e.qZA()(),e.TgZ(192,"th",28)(193,"span",30),e._uU(194,"WIP"),e.qZA()(),e.TgZ(195,"th",28)(196,"span",31),e._uU(197,"N/A"),e.qZA()()()(),e.TgZ(198,"tbody")(199,"tr")(200,"td",32),e._uU(201,"Emergency Response Plan for the health sector is in place "),e.qZA(),e.TgZ(202,"td",33),e._uU(203,"75%"),e.qZA(),e.TgZ(204,"td",33),e._uU(205,"13%"),e.qZA(),e.TgZ(206,"td",33),e._uU(207,"13%"),e.qZA(),e.TgZ(208,"td",33),e._uU(209,"-"),e.qZA()(),e.TgZ(210,"tr")(211,"td",32),e._uU(212,"Response plans provide SOPs for coordinating with law enforcement and national security agencies "),e.qZA(),e.TgZ(213,"td",33),e._uU(214,"75%"),e.qZA(),e.TgZ(215,"td",33),e._uU(216,"13%"),e.qZA(),e.TgZ(217,"td",33),e._uU(218,"13%"),e.qZA(),e.TgZ(219,"td",33),e._uU(220,"-"),e.qZA()()()()()()()()()(),e.TgZ(221,"div",13)(222,"div",14)(223,"h2",15)(224,"button",38)(225,"span",17),e._uU(226,"5"),e.qZA(),e._uU(227," Implementing a PHEOC "),e.qZA()(),e.TgZ(228,"div",18)(229,"div",19)(230,"div",20)(231,"div",21)(232,"table",35)(233,"thead",23)(234,"tr")(235,"th",24),e._uU(236,"Readiness Action Checklist"),e.qZA(),e.TgZ(237,"th",25),e._uU(238,"Status"),e.qZA()(),e.TgZ(239,"tr")(240,"th",26)(241,"span",27),e._uU(242,"Completed"),e.qZA()(),e.TgZ(243,"th",28)(244,"span",29),e._uU(245,"Not Started"),e.qZA()(),e.TgZ(246,"th",28)(247,"span",30),e._uU(248,"WIP"),e.qZA()(),e.TgZ(249,"th",28)(250,"span",31),e._uU(251,"N/A"),e.qZA()()()(),e.TgZ(252,"tbody")(253,"tr")(254,"td",32),e._uU(255,"The PHEOC has the capability to provide logistical and operational support for team(s) and protect the health and safety of deployed teams "),e.qZA(),e.TgZ(256,"td",33),e._uU(257,"33%"),e.qZA(),e.TgZ(258,"td",33),e._uU(259,"42%"),e.qZA(),e.TgZ(260,"td",33),e._uU(261,"25%"),e.qZA(),e.TgZ(262,"td",33),e._uU(263,"-"),e.qZA()(),e.TgZ(264,"tr")(265,"td",32),e._uU(266,"Administrative policy has been formulated to support emergency contracting, hiring, procurement and management of donor funds. "),e.qZA(),e.TgZ(267,"td",33),e._uU(268,"33%"),e.qZA(),e.TgZ(269,"td",33),e._uU(270,"42%"),e.qZA(),e.TgZ(271,"td",33),e._uU(272,"25%"),e.qZA(),e.TgZ(273,"td",33),e._uU(274,"-"),e.qZA()()()()()()()()()(),e.TgZ(275,"div",13)(276,"div",14)(277,"h2",15)(278,"button",39)(279,"span",17),e._uU(280,"6"),e.qZA(),e._uU(281,"Plans and procedures "),e.qZA()(),e.TgZ(282,"div",18)(283,"div",19)(284,"div",20)(285,"div",21)(286,"table",35)(287,"thead",23)(288,"tr")(289,"th",24),e._uU(290,"Readiness Action Checklist"),e.qZA(),e.TgZ(291,"th",25),e._uU(292,"Status"),e.qZA()(),e.TgZ(293,"tr")(294,"th",26)(295,"span",27),e._uU(296,"Completed"),e.qZA()(),e.TgZ(297,"th",28)(298,"span",29),e._uU(299,"Not Started"),e.qZA()(),e.TgZ(300,"th",28)(301,"span",30),e._uU(302,"WIP"),e.qZA()(),e.TgZ(303,"th",28)(304,"span",31),e._uU(305,"N/A"),e.qZA()()()(),e.TgZ(306,"tbody")(307,"tr")(308,"td",32),e._uU(309,"PHEOC plans (EOC plan and CONOPS) have been approved "),e.qZA(),e.TgZ(310,"td",33),e._uU(311,"32%"),e.qZA(),e.TgZ(312,"td",33),e._uU(313,"68%"),e.qZA(),e.TgZ(314,"td",33),e._uU(315,"0%"),e.qZA(),e.TgZ(316,"td",33),e._uU(317,"-"),e.qZA()(),e.TgZ(318,"tr")(319,"td",32),e._uU(320,"Process for developing linguistically and culturally appropriate messages "),e.qZA(),e.TgZ(321,"td",33),e._uU(322,"32%"),e.qZA(),e.TgZ(323,"td",33),e._uU(324,"68%"),e.qZA(),e.TgZ(325,"td",33),e._uU(326,"0%"),e.qZA(),e.TgZ(327,"td",33),e._uU(328,"-"),e.qZA()()()()()()()()()(),e.TgZ(329,"div",13)(330,"div",14)(331,"h2",15)(332,"button",40)(333,"span",17),e._uU(334,"7"),e.qZA(),e._uU(335,"Physical infrastructure "),e.qZA()(),e.TgZ(336,"div",18)(337,"div",19)(338,"div",20)(339,"div",21)(340,"table",35)(341,"thead",23)(342,"tr")(343,"th",24),e._uU(344,"Readiness Action Checklist"),e.qZA(),e.TgZ(345,"th",25),e._uU(346,"Status"),e.qZA()(),e.TgZ(347,"tr")(348,"th",26)(349,"span",27),e._uU(350,"Completed"),e.qZA()(),e.TgZ(351,"th",28)(352,"span",29),e._uU(353,"Not Started"),e.qZA()(),e.TgZ(354,"th",28)(355,"span",30),e._uU(356,"WIP"),e.qZA()(),e.TgZ(357,"th",28)(358,"span",31),e._uU(359,"N/A"),e.qZA()()()(),e.TgZ(360,"tbody")(361,"tr")(362,"td",32),e._uU(363,"A PHEOC suitable facility is available "),e.qZA(),e.TgZ(364,"td",33),e._uU(365,"83%"),e.qZA(),e.TgZ(366,"td",33),e._uU(367,"8%"),e.qZA(),e.TgZ(368,"td",33),e._uU(369,"8%"),e.qZA(),e.TgZ(370,"td",33),e._uU(371,"-"),e.qZA()(),e.TgZ(372,"tr")(373,"td",32),e._uU(374,"A multi-use facility can be converted in one hour to an adequate operational PHEOC "),e.qZA(),e.TgZ(375,"td",33),e._uU(376,"83%"),e.qZA(),e.TgZ(377,"td",33),e._uU(378,"8%"),e.qZA(),e.TgZ(379,"td",33),e._uU(380,"8%"),e.qZA(),e.TgZ(381,"td",33),e._uU(382,"-"),e.qZA()()()()()()()()()(),e.TgZ(383,"div",13)(384,"div",14)(385,"h2",15)(386,"button",41)(387,"span",17),e._uU(388,"8"),e.qZA(),e._uU(389,"Information and communication technology (ICT) infrastructure "),e.qZA()(),e.TgZ(390,"div",18)(391,"div",19)(392,"div",20)(393,"div",21)(394,"table",35)(395,"thead",23)(396,"tr")(397,"th",24),e._uU(398,"Readiness Action Checklist"),e.qZA(),e.TgZ(399,"th",25),e._uU(400,"Status"),e.qZA()(),e.TgZ(401,"tr")(402,"th",26)(403,"span",27),e._uU(404,"Completed"),e.qZA()(),e.TgZ(405,"th",28)(406,"span",29),e._uU(407,"Not Started"),e.qZA()(),e.TgZ(408,"th",28)(409,"span",30),e._uU(410,"WIP"),e.qZA()(),e.TgZ(411,"th",28)(412,"span",31),e._uU(413,"N/A"),e.qZA()()()(),e.TgZ(414,"tbody")(415,"tr")(416,"td",32),e._uU(417,"PHEOC servers and backups, with needed applications are maintained and routinely tested "),e.qZA(),e.TgZ(418,"td",33),e._uU(419,"43%"),e.qZA(),e.TgZ(420,"td",33),e._uU(421,"14%"),e.qZA(),e.TgZ(422,"td",33),e._uU(423,"43%"),e.qZA(),e.TgZ(424,"td",33),e._uU(425,"-"),e.qZA()(),e.TgZ(426,"tr")(427,"td",32),e._uU(428,"There is tested web or video conferencing equipment in a private meeting space "),e.qZA(),e.TgZ(429,"td",33),e._uU(430,"43%"),e.qZA(),e.TgZ(431,"td",33),e._uU(432,"14%"),e.qZA(),e.TgZ(433,"td",33),e._uU(434,"43%"),e.qZA(),e.TgZ(435,"td",33),e._uU(436,"-"),e.qZA()()()()()()()()()(),e.TgZ(437,"div",13)(438,"div",14)(439,"h2",15)(440,"button",42)(441,"span",17),e._uU(442,"9"),e.qZA(),e._uU(443,"Information systems and data standards "),e.qZA()(),e.TgZ(444,"div",18)(445,"div",19)(446,"div",20)(447,"div",21)(448,"table",35)(449,"thead",23)(450,"tr")(451,"th",24),e._uU(452,"Readiness Action Checklist"),e.qZA(),e.TgZ(453,"th",25),e._uU(454,"Status"),e.qZA()(),e.TgZ(455,"tr")(456,"th",26)(457,"span",27),e._uU(458,"Completed"),e.qZA()(),e.TgZ(459,"th",28)(460,"span",29),e._uU(461,"Not Started"),e.qZA()(),e.TgZ(462,"th",28)(463,"span",30),e._uU(464,"WIP"),e.qZA()(),e.TgZ(465,"th",28)(466,"span",31),e._uU(467,"N/A"),e.qZA()()()(),e.TgZ(468,"tbody")(469,"tr")(470,"td",32),e._uU(471,"The PHEOC has the capability to track and display the status of tasks and objectives "),e.qZA(),e.TgZ(472,"td",33),e._uU(473,"33%"),e.qZA(),e.TgZ(474,"td",33),e._uU(475,"29%"),e.qZA(),e.TgZ(476,"td",33),e._uU(477,"38%"),e.qZA(),e.TgZ(478,"td",33),e._uU(479,"-"),e.qZA()(),e.TgZ(480,"tr")(481,"td",32),e._uU(482,"Staff filling IMS functional roles are trained to use relevant software "),e.qZA(),e.TgZ(483,"td",33),e._uU(484,"33%"),e.qZA(),e.TgZ(485,"td",33),e._uU(486,"29%"),e.qZA(),e.TgZ(487,"td",33),e._uU(488,"38%"),e.qZA(),e.TgZ(489,"td",33),e._uU(490,"-"),e.qZA()()()()()()()()()(),e.TgZ(491,"div",13)(492,"div",14)(493,"h2",15)(494,"button",43)(495,"span",17),e._uU(496,"10"),e.qZA(),e._uU(497,"Human resources "),e.qZA()(),e.TgZ(498,"div",18)(499,"div",19)(500,"div",20)(501,"div",21)(502,"table",35)(503,"thead",23)(504,"tr")(505,"th",24),e._uU(506,"Readiness Action Checklist"),e.qZA(),e.TgZ(507,"th",25),e._uU(508,"Status"),e.qZA()(),e.TgZ(509,"tr")(510,"th",26)(511,"span",27),e._uU(512,"Completed"),e.qZA()(),e.TgZ(513,"th",28)(514,"span",29),e._uU(515,"Not Started"),e.qZA()(),e.TgZ(516,"th",28)(517,"span",30),e._uU(518,"WIP"),e.qZA()(),e.TgZ(519,"th",28)(520,"span",31),e._uU(521,"N/A"),e.qZA()()()(),e.TgZ(522,"tbody")(523,"tr")(524,"td",32),e._uU(525,"The PHEOC has designated non-emergency staffing to manage the facility "),e.qZA(),e.TgZ(526,"td",33),e._uU(527,"20%"),e.qZA(),e.TgZ(528,"td",33),e._uU(529,"40%"),e.qZA(),e.TgZ(530,"td",33),e._uU(531,"40%"),e.qZA(),e.TgZ(532,"td",33),e._uU(533,"-"),e.qZA()(),e.TgZ(534,"tr")(535,"td",32),e._uU(536,"There is sufficient trained staff to activate the PHEOC on short notice "),e.qZA(),e.TgZ(537,"td",33),e._uU(538,"20%"),e.qZA(),e.TgZ(539,"td",33),e._uU(540,"40%"),e.qZA(),e.TgZ(541,"td",33),e._uU(542,"40%"),e.qZA(),e.TgZ(543,"td",33),e._uU(544,"-"),e.qZA()()()()()()()()()(),e.TgZ(545,"div",13)(546,"div",14)(547,"h2",15)(548,"button",44)(549,"span",17),e._uU(550,"11"),e.qZA(),e._uU(551,"Training and exercises "),e.qZA()(),e.TgZ(552,"div",18)(553,"div",19)(554,"div",20)(555,"div",21)(556,"table",35)(557,"thead",23)(558,"tr")(559,"th",24),e._uU(560,"Readiness Action Checklist"),e.qZA(),e.TgZ(561,"th",25),e._uU(562,"Status"),e.qZA()(),e.TgZ(563,"tr")(564,"th",26)(565,"span",27),e._uU(566,"Completed"),e.qZA()(),e.TgZ(567,"th",28)(568,"span",29),e._uU(569,"Not Started"),e.qZA()(),e.TgZ(570,"th",28)(571,"span",30),e._uU(572,"WIP"),e.qZA()(),e.TgZ(573,"th",28)(574,"span",31),e._uU(575,"N/A"),e.qZA()()()(),e.TgZ(576,"tbody")(577,"tr")(578,"td",32),e._uU(579,"The PHEOC has a comprehensive, progressive exercise program for all staff and partners, national and NGO agencies and produces evaluation reports that identify corrective actions required. "),e.qZA(),e.TgZ(580,"td",33),e._uU(581,"0%"),e.qZA(),e.TgZ(582,"td",33),e._uU(583,"33%"),e.qZA(),e.TgZ(584,"td",33),e._uU(585,"67%"),e.qZA(),e.TgZ(586,"td",33),e._uU(587,"-"),e.qZA()(),e.TgZ(588,"tr")(589,"td",32),e._uU(590,"The PHEOC training and exercise programs are primary components of a performance monitoring and evaluation system focused on continuous improvement of public health emergency management capability and effectiveness. "),e.qZA(),e.TgZ(591,"td",33),e._uU(592,"0%"),e.qZA(),e.TgZ(593,"td",33),e._uU(594,"33%"),e.qZA(),e.TgZ(595,"td",33),e._uU(596,"67%"),e.qZA(),e.TgZ(597,"td",33),e._uU(598,"-"),e.qZA()()()()()()()()()(),e.TgZ(599,"div",13)(600,"div",14)(601,"h2",15)(602,"button",45)(603,"span",17),e._uU(604,"12"),e.qZA(),e._uU(605,"Costing, funding, and sustaining a PHEOC "),e.qZA()(),e.TgZ(606,"div",18)(607,"div",19)(608,"div",20)(609,"div",21)(610,"table",35)(611,"thead",23)(612,"tr")(613,"th",24),e._uU(614,"Readiness Action Checklist"),e.qZA(),e.TgZ(615,"th",25),e._uU(616,"Status"),e.qZA()(),e.TgZ(617,"tr")(618,"th",26)(619,"span",27),e._uU(620,"Completed"),e.qZA()(),e.TgZ(621,"th",28)(622,"span",29),e._uU(623,"Not Started"),e.qZA()(),e.TgZ(624,"th",28)(625,"span",30),e._uU(626,"WIP"),e.qZA()(),e.TgZ(627,"th",28)(628,"span",31),e._uU(629,"N/A"),e.qZA()()()(),e.TgZ(630,"tbody")(631,"tr")(632,"td",32),e._uU(633,"The PHEOC plan includes an itemized schedule of costs "),e.qZA(),e.TgZ(634,"td",33),e._uU(635,"0%"),e.qZA(),e.TgZ(636,"td",33),e._uU(637,"100%"),e.qZA(),e.TgZ(638,"td",33),e._uU(639,"100%"),e.qZA(),e.TgZ(640,"td",33),e._uU(641,"-"),e.qZA()(),e.TgZ(642,"tr")(643,"td",32),e._uU(644,"There is funding plan and funding mechanism to support the PHEOC "),e.qZA(),e.TgZ(645,"td",33),e._uU(646,"0%"),e.qZA(),e.TgZ(647,"td",33),e._uU(648,"100%"),e.qZA(),e.TgZ(649,"td",33),e._uU(650,"100%"),e.qZA(),e.TgZ(651,"td",33),e._uU(652,"-"),e.qZA()()()()()()()()()()()()()()())}}),p})();var Cn=K(1959);function Tn(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"No data found."),e.qZA())}function xn(p,j){1&p&&(e.TgZ(0,"tr")(1,"td",22),e._uU(2,"No data found."),e.qZA()())}function Sn(p,j){if(1&p&&(e.TgZ(0,"tr")(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",23)(6,"a",24),e._UZ(7,"i",25),e.qZA()()()),2&p){const t=j.$implicit,T=j.index;e.xp6(2),e.Oqu(T+1),e.xp6(2),e.Oqu(t.name)}}function Pn(p,j){if(1&p&&(e.TgZ(0,"div",8)(1,"div",9)(2,"h2",10)(3,"button",11)(4,"span",12),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",13)(8,"div",14)(9,"div",15)(10,"div",16)(11,"table",17)(12,"thead",18)(13,"tr")(14,"th",19),e._uU(15,"No"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Policies"),e.qZA(),e.TgZ(18,"th",20),e._uU(19,"File"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,xn,3,0,"tr",6),e.YNc(22,Sn,8,2,"tr",21),e.qZA()()()()()()()()),2&p){const t=j.$implicit,T=j.index;e.xp6(3),e.uIk("data-bs-target","#strategicPolicy"+t.id),e.xp6(2),e.Oqu(T+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","strategicPolicy",t.id,""),e.xp6(14),e.Q6J("ngIf",0==t.policies.length),e.xp6(1),e.Q6J("ngForOf",t.policies)}}let wn=(()=>{class p{constructor(t,T){this.activatedRoute=t,this.servicePolicy=T,this.categories=[],this.activatedRoute.queryParams.subscribe(Y=>{Y.hazard_type&&Y.country?this.getPolicies(Y.country,Y.hazard_type):this.categories=[]})}ngOnInit(){}getPolicies(t,T){this.servicePolicy.getByCountryAndHazard(t,T).subscribe(Y=>{this.categories=Y})}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(oe.gz),e.Y36(Cn.d))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-strategicpolicies"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary",2,"color","#00205C"],[4,"ngIf"],["class","accordion mb-3 shadow-sm",4,"ngFor","ngForOf"],[1,"accordion","mb-3","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"badge","bg-info","me-2"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"accordion-body","p-4","fs-12"],[1,"card"],[1,"card-body","p-0"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],["width","40px",1,"text-center"],["width","80px",1,"text-center"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"text-center"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"]],template:function(t,T){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Strategic Policies"),e.qZA(),e.YNc(7,Tn,2,0,"div",6),e.YNc(8,Pn,23,6,"div",7),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",0==T.categories.length),e.xp6(1),e.Q6J("ngForOf",T.categories))},dependencies:[f.sg,f.O5]}),p})();var nt=K(7600);let En=(()=>{class p{constructor(t){this.httpClient=t,this.url=g.N.apiURL+"/nationalcapacityassesment"}getAll(){return this.httpClient.get(this.url)}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}UpdateIsSubmitted(t,T){return this.httpClient.put(this.url+"/"+t+"/isSubmitted",T)}}return p.\u0275fac=function(t){return new(t||p)(e.LFG(a.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var kn=K(8459),Mn=K(9111),Zn=K(746);let On=(()=>{class p{constructor(t){this.httpClient=t,this.url=g.N.apiURL+"/assesmentdocument"}getAll(){return this.httpClient.get(this.url)}getByCountryAndAssesment(t,T){return this.httpClient.get(this.url+"/"+t+"/"+T+"/bycountryandassesment")}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}update(t,T){return this.httpClient.put(this.url+"/"+t,T)}delete(t){return this.httpClient.delete(this.url+"/"+t)}}return p.\u0275fac=function(t){return new(t||p)(e.LFG(a.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var In=K(2731),Ln=K(4132),Rn=K(1215),Fn=K(8482),Bt=K(1188);let Nn=(()=>{class p{constructor(t){this.httpClient=t,this.url=g.N.apiURL+"/checkliststate"}getStateOfChecklist(t,T,Y,ae){return this.httpClient.get(this.url+"/"+t+"/"+T+"/"+Y+"/"+ae+"/stateofchecklist")}updateStatus(t){return this.httpClient.post(this.url+"/updatestatus",t)}updateFunction(t){return console.log("updateFunction:",this.url+"/updatefunction",t),this.httpClient.post(this.url+"/updatefunction",t)}updateComment(t){return console.log("updatecomment:",this.url+"/updatecomment",t),this.httpClient.post(this.url+"/updatecomment",t)}}return p.\u0275fac=function(t){return new(t||p)(e.LFG(a.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var Dn=K(8421),Un=K(9751),qn=K(5577),Bn=K(1144),it=K(576),zn=K(3268);const Vn=["addListener","removeListener"],jn=["addEventListener","removeEventListener"],Hn=["on","off"];function Be(p,j,t,T){if((0,it.m)(t)&&(T=t,t=void 0),T)return Be(p,j,t).pipe((0,zn.Z)(T));const[Y,ae]=function Yn(p){return(0,it.m)(p.addEventListener)&&(0,it.m)(p.removeEventListener)}(p)?jn.map(Se=>Ze=>p[Se](j,Ze,t)):function Wn(p){return(0,it.m)(p.addListener)&&(0,it.m)(p.removeListener)}(p)?Vn.map(zt(p,j)):function Gn(p){return(0,it.m)(p.on)&&(0,it.m)(p.off)}(p)?Hn.map(zt(p,j)):[];if(!Y&&(0,Bn.z)(p))return(0,qn.z)(Se=>Be(Se,j,t))((0,Dn.Xf)(p));if(!Y)throw new TypeError("Invalid event target");return new Un.y(Se=>{const Ze=(...Ve)=>Se.next(1<Ve.length?Ve:Ve[0]);return Y(Ze),()=>ae(Ze)})}function zt(p,j){return t=>T=>p[t](j,T)}var Jn=K(7579),Vt=K(2076),ze=K(2722),Qn=K(727);class $n extends Qn.w0{constructor(j,t){super()}schedule(j,t=0){return this}}const mt={setInterval(p,j,...t){const{delegate:T}=mt;return T?.setInterval?T.setInterval(p,j,...t):setInterval(p,j,...t)},clearInterval(p){const{delegate:j}=mt;return(j?.clearInterval||clearInterval)(p)},delegate:void 0};var Xn=K(8737);const jt={now:()=>(jt.delegate||Date).now(),delegate:void 0};class dt{constructor(j,t=dt.now){this.schedulerActionCtor=j,this.now=t}schedule(j,t=0,T){return new this.schedulerActionCtor(this,j).schedule(T,t)}}dt.now=jt.now;const ti=new class ei extends dt{constructor(j,t=dt.now){super(j,t),this.actions=[],this._active=!1}flush(j){const{actions:t}=this;if(this._active)return void t.push(j);let T;this._active=!0;do{if(T=j.execute(j.state,j.delay))break}while(j=t.shift());if(this._active=!1,T){for(;j=t.shift();)j.unsubscribe();throw T}}}(class Kn extends $n{constructor(j,t){super(j,t),this.scheduler=j,this.work=t,this.pending=!1}schedule(j,t=0){var T;if(this.closed)return this;this.state=j;const Y=this.id,ae=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(ae,Y,t)),this.pending=!0,this.delay=t,this.id=null!==(T=this.id)&&void 0!==T?T:this.requestAsyncId(ae,this.id,t),this}requestAsyncId(j,t,T=0){return mt.setInterval(j.flush.bind(j,this),T)}recycleAsyncId(j,t,T=0){if(null!=T&&this.delay===T&&!1===this.pending)return t;null!=t&&mt.clearInterval(t)}execute(j,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const T=this._execute(j,t);if(T)return T;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(j,t){let Y,T=!1;try{this.work(j)}catch(ae){T=!0,Y=ae||new Error("Scheduled action threw falsy error")}if(T)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:j,scheduler:t}=this,{actions:T}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Xn.P)(T,this),null!=j&&(this.id=this.recycleAsyncId(t,j,null)),this.delay=null,super.unsubscribe()}}});var ni=K(4482),ii=K(5403),si=K(9300),rt=K(6036),bt=K.t(rt,2),Ke=K(2813),ai=K.t(Ke,2);const oi=["pdfViewerContainer"];function xt(p,j,t){p[j]=t}function ut(){return typeof window>"u"}ut()||xt(bt,"verbosity",rt.VerbosityLevel.INFOS);var st=(()=>{return(p=st||(st={}))[p.DISABLED=0]="DISABLED",p[p.ENABLED=1]="ENABLED",p[p.ENHANCED=2]="ENHANCED",st;var p})();let di=(()=>{class p{constructor(t,T){if(this.element=t,this.ngZone=T,this.isVisible=!1,this._cMapsUrl=typeof bt<"u"?`https://unpkg.com/pdfjs-dist@${rt.version}/cmaps/`:null,this._imageResourcesPath=typeof bt<"u"?`https://unpkg.com/pdfjs-dist@${rt.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=st.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Jn.x,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),ut())return;let Y;Y=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${rt.version}/legacy/build/pdf.worker.min.js`,xt(rt.GlobalWorkerOptions,"workerSrc",Y)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const T=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,T!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return Ke.LinkTarget.BLANK;case"none":return Ke.LinkTarget.NONE;case"self":return Ke.LinkTarget.SELF;case"parent":return Ke.LinkTarget.PARENT;case"top":return Ke.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!ut()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:st.DISABLED,this.resetPdfDocument()):"showAll"in t&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:T}=t;if(T.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,Vt.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,ze.R)(this.destroy$)).subscribe({next:t=>{const T=this._rotation||t.rotate,Y=t.getViewport({scale:this._zoom,rotation:T}).width*p.CSS_UNITS;let ae=this._zoom,Se=!0;if(!this._originalSize||this._fitToPage&&Y>this.pdfViewerContainer.nativeElement.clientWidth){const Ze=t.getViewport({scale:1,rotation:T});ae=this.getScale(Ze.width,Ze.height),Se=!this._stickToPage}this.pdfViewer._setScale(ae,Se)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const t=p.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function li(p,j){const t=new p.EventBus;return function ci(p,j){Be(p,"documentload").pipe((0,ze.R)(j)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),Be(p,"pagerendered").pipe((0,ze.R)(j)).subscribe(({pageNumber:t,cssTransform:T,source:Y})=>{const ae=document.createEvent("CustomEvent");ae.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:T}),Y.div.dispatchEvent(ae)}),Be(p,"textlayerrendered").pipe((0,ze.R)(j)).subscribe(({pageNumber:t,source:T})=>{const Y=document.createEvent("CustomEvent");Y.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),T.textLayerDiv.dispatchEvent(Y)}),Be(p,"pagechanging").pipe((0,ze.R)(j)).subscribe(({pageNumber:t,source:T})=>{const Y=document.createEvent("UIEvents");Y.initEvent("pagechanging",!0,!0),Y.pageNumber=t,T.container.dispatchEvent(Y)}),Be(p,"pagesinit").pipe((0,ze.R)(j)).subscribe(({source:t})=>{const T=document.createEvent("CustomEvent");T.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(T)}),Be(p,"pagesloaded").pipe((0,ze.R)(j)).subscribe(({pagesCount:t,source:T})=>{const Y=document.createEvent("CustomEvent");Y.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),T.container.dispatchEvent(Y)}),Be(p,"scalechange").pipe((0,ze.R)(j)).subscribe(({scale:t,presetValue:T,source:Y})=>{const ae=document.createEvent("UIEvents");ae.initEvent("scalechange",!0,!0),ae.scale=t,ae.presetValue=T,Y.container.dispatchEvent(ae)}),Be(p,"updateviewarea").pipe((0,ze.R)(j)).subscribe(({location:t,source:T})=>{const Y=document.createEvent("UIEvents");Y.initEvent("updateviewarea",!0,!0),Y.location=t,T.container.dispatchEvent(Y)}),Be(p,"find").pipe((0,ze.R)(j)).subscribe(({source:t,type:T,query:Y,phraseSearch:ae,caseSensitive:Se,highlightAll:Ze,findPrevious:Ve})=>{if(t===window)return;const $e=document.createEvent("CustomEvent");$e.initCustomEvent("find"+T,!0,!0,{query:Y,phraseSearch:ae,caseSensitive:Se,highlightAll:Ze,findPrevious:Ve}),window.dispatchEvent($e)}),Be(p,"attachmentsloaded").pipe((0,ze.R)(j)).subscribe(({attachmentsCount:t,source:T})=>{const Y=document.createEvent("CustomEvent");Y.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),T.container.dispatchEvent(Y)}),Be(p,"sidebarviewchanged").pipe((0,ze.R)(j)).subscribe(({view:t,source:T})=>{const Y=document.createEvent("CustomEvent");Y.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),T.outerContainer.dispatchEvent(Y)}),Be(p,"pagemode").pipe((0,ze.R)(j)).subscribe(({mode:t,source:T})=>{const Y=document.createEvent("CustomEvent");Y.initCustomEvent("pagemode",!0,!0,{mode:t}),T.pdfViewer.container.dispatchEvent(Y)}),Be(p,"namedaction").pipe((0,ze.R)(j)).subscribe(({action:t,source:T})=>{const Y=document.createEvent("CustomEvent");Y.initCustomEvent("namedaction",!0,!0,{action:t}),T.pdfViewer.container.dispatchEvent(Y)}),Be(p,"presentationmodechanged").pipe((0,ze.R)(j)).subscribe(({active:t,switchInProgress:T})=>{const Y=document.createEvent("CustomEvent");Y.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:T}),window.dispatchEvent(Y)}),Be(p,"outlineloaded").pipe((0,ze.R)(j)).subscribe(({outlineCount:t,source:T})=>{const Y=document.createEvent("CustomEvent");Y.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),T.container.dispatchEvent(Y)})}(t,j),t}(ai,this.destroy$),Be(this.eventBus,"pagerendered").pipe((0,ze.R)(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),Be(this.eventBus,"pagesinit").pipe((0,ze.R)(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),Be(this.eventBus,"pagechanging").pipe((0,ze.R)(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),Be(this.eventBus,"textlayerrendered").pipe((0,ze.R)(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new Ke.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Ke.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:st.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){xt(bt,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new Ke.PDFViewer(this.getPDFOptions()):new Ke.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const T={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===t?T.url=this.src:"object"===t&&(void 0!==this.src.byteLength?T.data=this.src:Object.assign(T,this.src)),T}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=rt.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=T=>{this.onProgress.emit(T)};const t=this.src;(0,Vt.D)(this.loadingTask.promise).pipe((0,ze.R)(this.destroy$)).subscribe({next:T=>{this._pdf=T,this.lastLoaded=t,this.afterLoadComplete.emit(T),this.resetPdfDocument(),this.update()},error:T=>{this.lastLoaded=null,this.onError.emit(T)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,T){const Y=this._showBorders?2*p.BORDER_WIDTH:0,ae=this.pdfViewerContainer.nativeElement.clientWidth-Y,Se=this.pdfViewerContainer.nativeElement.clientHeight-Y;if(0===Se||0===T||0===ae||0===t)return 1;let Ze=1;switch(this._zoomScale){case"page-fit":Ze=Math.min(Se/T,ae/t);break;case"page-height":Ze=Se/T;break;default:Ze=ae/t}return this._zoom*Ze/p.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){ut()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){ut()||this.ngZone.runOutsideAngular(()=>{Be(window,"resize").pipe(function ri(p,j=ti){return(0,ni.e)((t,T)=>{let Y=null,ae=null,Se=null;const Ze=()=>{if(Y){Y.unsubscribe(),Y=null;const $e=ae;ae=null,T.next($e)}};function Ve(){const $e=Se+p,at=j.now();if(at<$e)return Y=this.schedule(void 0,$e-at),void T.add(Y);Ze()}t.subscribe((0,ii.x)(T,$e=>{ae=$e,Se=j.now(),Y||(Y=j.schedule(Ve,p),T.add(Y))},()=>{Ze(),T.complete()},void 0,()=>{ae=Y=null}))})}(100),(0,si.h)(()=>this._canAutoResize&&!!this._pdf),(0,ze.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return p.CSS_UNITS=96/72,p.BORDER_WIDTH=9,p.\u0275fac=function(t){return new(t||p)(e.Y36(e.SBq),e.Y36(e.R0b))},p.\u0275cmp=e.Xpm({type:p,selectors:[["pdf-viewer"]],viewQuery:function(t,T){if(1&t&&e.Gf(oi,5),2&t){let Y;e.iGM(Y=e.CRH())&&(T.pdfViewerContainer=Y.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,T){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),p})(),ui=(()=>{class p{}return p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})();function hi(p,j){if(1&p&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function pi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42),e.NdJ("click",function(){const ae=e.CHM(t).$implicit,Se=e.oxw();return e.KtG(Se.showByAssesment(ae.assesment.id))}),e.TgZ(2,"div",43)(3,"div",1)(4,"div",44),e._UZ(5,"i",45),e.qZA(),e.TgZ(6,"div",46)(7,"div",47)(8,"a",48),e._uU(9),e.qZA()(),e.TgZ(10,"div",49),e._uU(11),e.qZA()()()()()()}if(2&p){const t=j.$implicit;e.xp6(9),e.Oqu(t.assesment.title),e.xp6(2),e.Oqu(t.assesment.subtitle)}}const Ht=function(p){return{width:p}};function fi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"tr")(1,"td",71),e._uU(2),e.qZA(),e.TgZ(3,"td",71),e._uU(4),e.qZA(),e.TgZ(5,"td",71)(6,"div",72),e._UZ(7,"div",73),e.qZA()(),e.TgZ(8,"td",71)(9,"select")(10,"option",74),e._uU(11,"EBOLA Response Plan"),e.qZA(),e.TgZ(12,"option",75),e._uU(13,"One"),e.qZA(),e.TgZ(14,"option",76),e._uU(15,"Two"),e.qZA(),e.TgZ(16,"option",77),e._uU(17,"Three"),e.qZA()()(),e.TgZ(18,"td",71)(19,"button",78),e.NdJ("click",function(){const ae=e.CHM(t).$implicit,Se=e.oxw(2);return e.KtG(Se.onRemove(ae))}),e._UZ(20,"i",79),e.qZA()()()}if(2&p){const t=j.$implicit,T=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.size),e.xp6(3),e.Q6J("ngStyle",e.VKq(3,Ht,T.progressStyle))}}function gi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",50)(2,"h6",15),e._uU(3,"Import File"),e.qZA(),e.TgZ(4,"div",51)(5,"div",52)(6,"div",53),e.NdJ("change",function(Y){e.CHM(t);const ae=e.oxw();return e.KtG(ae.onSelect(Y))}),e.TgZ(7,"div",54)(8,"h6",55),e._uU(9,"DROP FILE HERE TO UPLOAD"),e.qZA(),e.O4$(),e.TgZ(10,"svg",56),e._UZ(11,"path",57)(12,"path",58),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",59)(14,"p"),e._uU(15,"Upload Queue"),e.qZA(),e.TgZ(16,"div",60)(17,"table",61)(18,"thead")(19,"tr")(20,"th"),e._uU(21,"NAME"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"SIZE"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"PROGRESS"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"CATEGORY"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"ACTION"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,fi,21,5,"tr",62),e.qZA()()(),e.TgZ(32,"p"),e._uU(33,"Progress Queue"),e.qZA(),e.TgZ(34,"div",63),e._UZ(35,"div",64),e.qZA(),e.TgZ(36,"button",65),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw();return e.KtG(Y.onUploadAll())}),e._UZ(37,"i",66),e._uU(38," Upload All"),e.qZA(),e.TgZ(39,"button",67),e._UZ(40,"i",68),e._uU(41," Cancel All"),e.qZA(),e.TgZ(42,"button",69),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw();return e.KtG(Y.onReset())}),e._UZ(43,"i",70),e._uU(44," Remove All"),e.qZA()()()()()}if(2&p){const t=e.oxw();e.xp6(31),e.Q6J("ngForOf",t.files),e.xp6(4),e.Q6J("ngStyle",e.VKq(2,Ht,t.progressStyle))}}function _i(p,j){if(1&p&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function mi(p,j){1&p&&(e.TgZ(0,"p"),e._uU(1,"Hazard Type is Required"),e.qZA())}function bi(p,j){if(1&p&&(e.TgZ(0,"div",80),e.YNc(1,mi,2,0,"p",81),e.qZA()),2&p){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.hazardTypeId.errors.required)}}function vi(p,j){if(1&p&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.s9C("value",t.category.id),e.xp6(1),e.Oqu(t.category.name)}}function Ai(p,j){1&p&&(e.TgZ(0,"p"),e._uU(1,"Category is Required"),e.qZA())}function yi(p,j){if(1&p&&(e.TgZ(0,"div",80),e.YNc(1,Ai,2,0,"p",81),e.qZA()),2&p){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nationalCapacityCategoryId.errors.required)}}function Ci(p,j){1&p&&(e.TgZ(0,"p"),e._uU(1,"Checklist is Required"),e.qZA())}function Ti(p,j){if(1&p&&(e.TgZ(0,"div",80),e.YNc(1,Ci,2,0,"p",81),e.qZA()),2&p){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.action.errors.required)}}function xi(p,j){if(1&p&&(e.TgZ(0,"div",3)(1,"div",82)(2,"h6",83),e._uU(3,"Initial Rapid Need Assesment"),e.qZA(),e.TgZ(4,"div",84)(5,"div",85)(6,"div",13)(7,"div",50),e._UZ(8,"pdf-viewer",86),e.qZA()()()()()()),2&p){const t=e.oxw();e.xp6(8),e.Q6J("src",t.pdfSrcIRNA)("original-size",!1)("zoom",1)}}function Si(p,j){1&p&&(e.TgZ(0,"div",3)(1,"div",82)(2,"h6",83),e._uU(3,"Point of Entry"),e.qZA(),e._UZ(4,"div",87),e.qZA()())}function Pi(p,j){1&p&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Readiness Checklist Status"),e.qZA(),e.TgZ(4,"div",89)(5,"div",14)(6,"h6",15),e._uU(7,"Result"),e.qZA(),e._UZ(8,"canvas",90),e.qZA()(),e.TgZ(9,"div",13)(10,"div",14)(11,"h6",15),e._uU(12,"History"),e.qZA(),e.TgZ(13,"div",91)(14,"div",2)(15,"div",92)(16,"div",93)(17,"table",94)(18,"thead",95)(19,"tr")(20,"th"),e._uU(21,"Date"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Assessor"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Type"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Description"),e.qZA()()(),e.TgZ(28,"tbody")(29,"tr")(30,"td"),e._uU(31,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(32,"td"),e._uU(33,"Admin 1"),e.qZA(),e.TgZ(34,"td"),e._uU(35,"Self Assessment"),e.qZA(),e.TgZ(36,"td"),e._uU(37,"-"),e.qZA()(),e.TgZ(38,"tr")(39,"td"),e._uU(40,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(41,"td"),e._uU(42,"Admin 1"),e.qZA(),e.TgZ(43,"td"),e._uU(44,"Self Assessment"),e.qZA(),e.TgZ(45,"td"),e._uU(46,"-"),e.qZA()(),e.TgZ(47,"tr")(48,"td"),e._uU(49,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(50,"td"),e._uU(51,"Admin 1"),e.qZA(),e.TgZ(52,"td"),e._uU(53,"Self Assessment"),e.qZA(),e.TgZ(54,"td"),e._uU(55,"-"),e.qZA()(),e.TgZ(56,"tr")(57,"td"),e._uU(58,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(59,"td"),e._uU(60,"Admin 1"),e.qZA(),e.TgZ(61,"td"),e._uU(62,"Self Assessment"),e.qZA(),e.TgZ(63,"td"),e._uU(64,"-"),e.qZA()(),e.TgZ(65,"tr")(66,"td"),e._uU(67,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(68,"td"),e._uU(69,"Admin 1"),e.qZA(),e.TgZ(70,"td"),e._uU(71,"Self Assessment"),e.qZA(),e.TgZ(72,"td"),e._uU(73,"-"),e.qZA()()()()()(),e.TgZ(74,"div",36)(75,"nav")(76,"ul",96)(77,"li",97)(78,"a",98)(79,"span",99),e._UZ(80,"i",100),e.qZA()()(),e.TgZ(81,"li",101)(82,"a",102),e._uU(83,"1"),e.qZA()(),e.TgZ(84,"li",97)(85,"a",102),e._uU(86,"2"),e.qZA()(),e.TgZ(87,"li",97)(88,"a",102),e._uU(89,"3"),e.qZA()(),e.TgZ(90,"li",97)(91,"a",102),e._uU(92,"4"),e.qZA()(),e.TgZ(93,"li",97)(94,"a",103)(95,"span",99),e._UZ(96,"i",104),e.qZA()()()()()()()()()()()())}function wi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"textarea",131),e.NdJ("change",function(Y){e.CHM(t);const ae=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateFunction(ae.id,Y.target))}),e._uU(1),e.qZA()}if(2&p){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.function)}}function Ei(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"textarea",131),e.NdJ("change",function(Y){e.CHM(t);const ae=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateComment(ae.id,Y.target))}),e._uU(1),e.qZA()}if(2&p){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.comment)}}function ki(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div")(1,"input",132),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateStatus(ae.id,Y.target))}),e.qZA()()}if(2&p){const t=e.oxw(),T=t.index,Y=t.$implicit,ae=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",ae,"",T,""),e.Q6J("checked",1===Y.status)}}function Mi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw().$implicit,ae=e.oxw(3);return e.KtG(ae.getStateOfChecklist(Y.id,1))}),e._UZ(3,"i",135),e.qZA()()}if(2&p){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusYes,"% ")}}function Zi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div")(1,"input",136),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateStatus(ae.id,Y.target))}),e.qZA()()}if(2&p){const t=e.oxw(),T=t.index,Y=t.$implicit,ae=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",ae,"",T,""),e.Q6J("checked",2===Y.status)}}function Oi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw().$implicit,ae=e.oxw(3);return e.KtG(ae.getStateOfChecklist(Y.id,2))}),e._UZ(3,"i",135),e.qZA()()}if(2&p){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusNo,"% ")}}function Ii(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div")(1,"input",137),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateStatus(ae.id,Y.target))}),e.qZA()()}if(2&p){const t=e.oxw(),T=t.index,Y=t.$implicit,ae=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",ae,"",T,""),e.Q6J("checked",3===Y.status)}}function Li(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw().$implicit,ae=e.oxw(3);return e.KtG(ae.getStateOfChecklist(Y.id,3))}),e._UZ(3,"i",135),e.qZA()()}if(2&p){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusInProgress,"% ")}}function Ri(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div")(1,"input",138),e.NdJ("click",function(Y){e.CHM(t);const ae=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateStatus(ae.id,Y.target))}),e.qZA()()}if(2&p){const t=e.oxw(),T=t.index,Y=t.$implicit,ae=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",ae,"",T,""),e.Q6J("checked",4===Y.status)}}function Fi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw().$implicit,ae=e.oxw(3);return e.KtG(ae.getStateOfChecklist(Y.id,4))}),e._UZ(3,"i",135),e.qZA()()}if(2&p){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusNA,"% ")}}function Ni(p,j){if(1&p&&(e.TgZ(0,"tr")(1,"td"),e.YNc(2,wi,2,1,"textarea",128),e.qZA(),e.TgZ(3,"td"),e.YNc(4,Ei,2,1,"textarea",128),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",129),e.YNc(8,ki,2,3,"div",81),e.YNc(9,Mi,4,1,"div",130),e.qZA(),e.TgZ(10,"td",129),e.YNc(11,Zi,2,3,"div",81),e.YNc(12,Oi,4,1,"div",130),e.qZA(),e.TgZ(13,"td",129),e.YNc(14,Ii,2,3,"div",81),e.YNc(15,Li,4,1,"div",130),e.qZA(),e.TgZ(16,"td",129),e.YNc(17,Ri,2,3,"div",81),e.YNc(18,Fi,4,1,"div",130),e.qZA()()),2&p){const t=j.$implicit,T=e.oxw(3);e.xp6(2),e.Q6J("ngIf",T.stateId),e.xp6(2),e.Q6J("ngIf",T.stateId),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Q6J("ngIf",T.stateId),e.xp6(1),e.Q6J("ngIf",!T.stateId),e.xp6(2),e.Q6J("ngIf",T.stateId),e.xp6(1),e.Q6J("ngIf",!T.stateId),e.xp6(2),e.Q6J("ngIf",T.stateId),e.xp6(1),e.Q6J("ngIf",!T.stateId),e.xp6(2),e.Q6J("ngIf",T.stateId),e.xp6(1),e.Q6J("ngIf",!T.stateId)}}function Di(p,j){if(1&p&&(e.TgZ(0,"div",120)(1,"div",19)(2,"h2",20)(3,"button",121)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",122)(8,"div",24)(9,"div",123)(10,"div",93)(11,"table",94)(12,"thead",95)(13,"tr")(14,"th",124),e._uU(15,"Data Source"),e.qZA(),e.TgZ(16,"th",124),e._uU(17,"Comment"),e.qZA(),e.TgZ(18,"th",125),e._uU(19,"Readiness Action Checklist"),e.qZA(),e.TgZ(20,"th",126),e._uU(21,"Status"),e.qZA()(),e.TgZ(22,"tr")(23,"th",127),e._uU(24,"Yes"),e.qZA(),e.TgZ(25,"th",127),e._uU(26,"No"),e.qZA(),e.TgZ(27,"th",127),e._uU(28,"InProgress"),e.qZA(),e.TgZ(29,"th",127),e._uU(30,"N/A"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,Ni,19,11,"tr",62),e.qZA()()()()()()()()),2&p){const t=j.$implicit,T=j.index;e.xp6(3),e.uIk("data-bs-target","#readinessChecklist"+t.category.id),e.xp6(2),e.Oqu(T+1),e.xp6(1),e.hij(" ",t.category.name," "),e.xp6(1),e.MGl("id","readinessChecklist",t.category.id,""),e.xp6(25),e.Q6J("ngForOf",t.category.nationalCapacityChecklists)}}function Ui(p,j){1&p&&(e.TgZ(0,"div"),e._uU(1,"No data found"),e.qZA())}function qi(p,j){if(1&p&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&p){const t=j.$implicit;e.xp6(2),e.Oqu(t.name)}}function Bi(p,j){if(1&p&&(e.TgZ(0,"table",61)(1,"tbody"),e.YNc(2,qi,3,1,"tr",62),e.qZA()()),2&p){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.stateOfChecklist)}}function zi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Readiness Checklist"),e.qZA(),e.TgZ(4,"div",105)(5,"div",106),e._UZ(6,"i",107),e.TgZ(7,"select",108),e.NdJ("change",function(Y){e.CHM(t);const ae=e.oxw();return e.KtG(ae.onFilter(Y))}),e.TgZ(8,"option",109),e._uU(9,"Filter by Status"),e.qZA(),e.TgZ(10,"option",75),e._uU(11,"Yes"),e.qZA(),e.TgZ(12,"option",76),e._uU(13,"No"),e.qZA(),e.TgZ(14,"option",77),e._uU(15,"InProgress"),e.qZA(),e.TgZ(16,"option",110),e._uU(17,"N/A"),e.qZA()()()(),e.YNc(18,Di,33,5,"div",111),e.TgZ(19,"div",112)(20,"div",113)(21,"div",114)(22,"div",115)(23,"h6",116),e._uU(24,"State"),e.qZA(),e._UZ(25,"button",117),e.qZA(),e.TgZ(26,"div",118),e.YNc(27,Ui,2,0,"div",81),e.YNc(28,Bi,3,1,"table",119),e.qZA()()()()()()}if(2&p){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.categories),e.xp6(9),e.Q6J("ngIf",0==t.stateOfChecklist.length),e.xp6(1),e.Q6J("ngIf",t.stateOfChecklist.length>0)}}function Vi(p,j){if(1&p){const t=e.EpF();e.TgZ(0,"div",36)(1,"button",166),e.NdJ("click",function(){e.CHM(t);const Y=e.oxw(2),ae=e.MAs(75);return Y.onResultSearch(),e.KtG(Y.scroll(ae))}),e._UZ(2,"i",167),e._uU(3,"Save Result"),e.qZA()()}}function ji(p,j){if(1&p&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Join External Evaluation of IHR Core Capacities of Federal Republic of Nigeria"),e.qZA(),e.TgZ(4,"div",13)(5,"div",139)(6,"div",140)(7,"div",93)(8,"table",94)(9,"thead",95)(10,"tr")(11,"th",129),e._uU(12,"NO"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Technical Area"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Indicators"),e.qZA(),e.TgZ(17,"th",129),e._uU(18,"Score"),e.qZA(),e.TgZ(19,"th",129),e._uU(20,"Source"),e.qZA()()(),e.TgZ(21,"tbody")(22,"tr")(23,"td",141),e._uU(24,"1"),e.qZA(),e.TgZ(25,"td",125),e._uU(26,"National legislation, policy and financing"),e.qZA(),e.TgZ(27,"td")(28,"strong"),e._uU(29,"Prevent"),e.qZA(),e._uU(30," : Legislation, laws, regulations, administrative requirements, policies or other government instruments in place are sufficient for implementation of IHR (2005)"),e.qZA(),e.TgZ(31,"td",142),e._uU(32,"1"),e.qZA(),e.TgZ(33,"td",141)(34,"a",143),e._UZ(35,"i",144),e.qZA()()(),e.TgZ(36,"tr")(37,"td")(38,"strong"),e._uU(39,"Prevent"),e.qZA(),e._uU(40," : The State can demonstrate that it has adjusted and aligned its domestic legislation, policies and administrative arrangements to enable compliance with IH"),e.qZA(),e.TgZ(41,"td",142),e._uU(42,"1"),e.qZA()(),e.TgZ(43,"tr")(44,"td",145),e._uU(45,"2"),e.qZA(),e.TgZ(46,"td",71),e._uU(47,"IHR coordination, communication and advocacy"),e.qZA(),e.TgZ(48,"td")(49,"strong"),e._uU(50,"Prevent"),e.qZA(),e._uU(51," : A functional mechanism is established for the coordination and integration of relevant sectors in the implementation of IHR"),e.qZA(),e.TgZ(52,"td",146),e._uU(53,"2"),e.qZA(),e.TgZ(54,"td",145)(55,"a",143),e._UZ(56,"i",144),e.qZA()()(),e.TgZ(57,"tr")(58,"td",147),e._uU(59,"3"),e.qZA(),e.TgZ(60,"td",148),e._uU(61,"Antimicrobial resistance"),e.qZA(),e.TgZ(62,"td")(63,"strong"),e._uU(64,"Prevent"),e.qZA(),e._uU(65," : Antimicrobial resistance detection"),e.qZA(),e.TgZ(66,"td",146),e._uU(67,"2"),e.qZA(),e.TgZ(68,"td",147)(69,"a",143),e._UZ(70,"i",144),e.qZA()()(),e.TgZ(71,"tr")(72,"td")(73,"strong"),e._uU(74,"Prevent"),e.qZA(),e._uU(75," : Surveillance of infections caused by antimicrobial-resistant pathogens"),e.qZA(),e.TgZ(76,"td",146),e._uU(77,"2"),e.qZA()(),e.TgZ(78,"tr")(79,"td")(80,"strong"),e._uU(81,"Prevent"),e.qZA(),e._uU(82," : Health care-associated infection (HCAI) prevention and control programmes"),e.qZA(),e.TgZ(83,"td",146),e._uU(84,"2"),e.qZA()(),e.TgZ(85,"tr")(86,"td")(87,"strong"),e._uU(88,"Prevent"),e.qZA(),e._uU(89," : Antimicrobial stewardship activities"),e.qZA(),e.TgZ(90,"td",146),e._uU(91,"2"),e.qZA()(),e.TgZ(92,"tr")(93,"td",149),e._uU(94,"3"),e.qZA(),e.TgZ(95,"td",150),e._uU(96,"Zoonotic diseases"),e.qZA(),e.TgZ(97,"td")(98,"strong"),e._uU(99,"Prevent"),e.qZA(),e._uU(100," : Surveillance systems in place for priority zoonotic diseases/pathogens"),e.qZA(),e.TgZ(101,"td",146),e._uU(102,"2"),e.qZA(),e.TgZ(103,"td",149)(104,"a",143),e._UZ(105,"i",144),e.qZA()()(),e.TgZ(106,"tr")(107,"td")(108,"strong"),e._uU(109,"Prevent"),e.qZA(),e._uU(110," : Veterinary or animal health workforce"),e.qZA(),e.TgZ(111,"td",146),e._uU(112,"2"),e.qZA()(),e.TgZ(113,"tr")(114,"td")(115,"strong"),e._uU(116,"Prevent"),e.qZA(),e._uU(117," : Mechanisms for responding to infectious and potential zoonotic diseases are established and functional"),e.qZA(),e.TgZ(118,"td",142),e._uU(119,"1"),e.qZA()(),e.TgZ(120,"tr")(121,"td",145),e._uU(122,"4"),e.qZA(),e.TgZ(123,"td",71),e._uU(124,"Food safety"),e.qZA(),e.TgZ(125,"td")(126,"strong"),e._uU(127,"Prevent"),e.qZA(),e._uU(128," : Whole-of-government biosafety and biosecurity system is in place for human, animal and agriculture facilities"),e.qZA(),e.TgZ(129,"td",146),e._uU(130,"2"),e.qZA(),e.TgZ(131,"td",145)(132,"a",143),e._UZ(133,"i",144),e.qZA()()(),e.TgZ(134,"tr")(135,"td",141),e._uU(136,"5"),e.qZA(),e.TgZ(137,"td",125),e._uU(138,"Biosafety and biosecurity"),e.qZA(),e.TgZ(139,"td")(140,"strong"),e._uU(141,"Prevent"),e.qZA(),e._uU(142," : Legislation, laws, regulations, administrative requirements, policies or other government instruments in place are sufficient for implementation of IHR (2005)"),e.qZA(),e.TgZ(143,"td",142),e._uU(144,"1"),e.qZA(),e.TgZ(145,"td",141)(146,"a",143),e._UZ(147,"i",144),e.qZA()()(),e.TgZ(148,"tr")(149,"td")(150,"strong"),e._uU(151,"Prevent"),e.qZA(),e._uU(152," : Biosafety and biosecurity training and practices"),e.qZA(),e.TgZ(153,"td",142),e._uU(154,"1"),e.qZA()(),e.TgZ(155,"tr")(156,"td",141),e._uU(157,"6"),e.qZA(),e.TgZ(158,"td",125),e._uU(159,"Immunization"),e.qZA(),e.TgZ(160,"td")(161,"strong"),e._uU(162,"Prevent"),e.qZA(),e._uU(163," : Vaccine coverage (measles) as part of national programme"),e.qZA(),e.TgZ(164,"td",146),e._uU(165,"3"),e.qZA(),e.TgZ(166,"td",141)(167,"a",143),e._UZ(168,"i",144),e.qZA()()(),e.TgZ(169,"tr")(170,"td")(171,"strong"),e._uU(172,"Prevent"),e.qZA(),e._uU(173," : National vaccine access and delivery"),e.qZA(),e.TgZ(174,"td",151),e._uU(175,"4"),e.qZA()(),e.TgZ(176,"tr")(177,"td",147),e._uU(178,"7"),e.qZA(),e.TgZ(179,"td",148),e._uU(180,"National laboratory system"),e.qZA(),e.TgZ(181,"td")(182,"strong"),e._uU(183,"Detect"),e.qZA(),e._uU(184," : Laboratory testing for detection of priority diseases "),e.qZA(),e.TgZ(185,"td",146),e._uU(186,"3"),e.qZA(),e.TgZ(187,"td",147)(188,"a",143),e._UZ(189,"i",144),e.qZA()()(),e.TgZ(190,"tr")(191,"td")(192,"strong"),e._uU(193,"Detect"),e.qZA(),e._uU(194," : Specimen referral and transport system"),e.qZA(),e.TgZ(195,"td",142),e._uU(196,"1"),e.qZA()(),e.TgZ(197,"tr")(198,"td")(199,"strong"),e._uU(200,"Detect"),e.qZA(),e._uU(201," : Effective modern point-of-care and laboratory-based diagnostics"),e.qZA(),e.TgZ(202,"td",146),e._uU(203,"2"),e.qZA()(),e.TgZ(204,"tr")(205,"td")(206,"strong"),e._uU(207,"Detect"),e.qZA(),e._uU(208," : Laboratory quality system"),e.qZA(),e.TgZ(209,"td",146),e._uU(210,"2"),e.qZA()(),e.TgZ(211,"tr")(212,"td",147),e._uU(213,"8"),e.qZA(),e.TgZ(214,"td",148),e._uU(215,"Real-time surveillance"),e.qZA(),e.TgZ(216,"td")(217,"strong"),e._uU(218,"Detect"),e.qZA(),e._uU(219," : Indicator- and event-based surveillance systems"),e.qZA(),e.TgZ(220,"td",146),e._uU(221,"3"),e.qZA(),e.TgZ(222,"td",147)(223,"a",143),e._UZ(224,"i",144),e.qZA()()(),e.TgZ(225,"tr")(226,"td")(227,"strong"),e._uU(228,"Detect"),e.qZA(),e._uU(229," : Interoperable, interconnected, electronic real-time reporting system"),e.qZA(),e.TgZ(230,"td",146),e._uU(231,"2"),e.qZA()(),e.TgZ(232,"tr")(233,"td")(234,"strong"),e._uU(235,"Detect"),e.qZA(),e._uU(236," : Integration and analysis of surveillance data"),e.qZA(),e.TgZ(237,"td",146),e._uU(238,"3"),e.qZA()(),e.TgZ(239,"tr")(240,"td")(241,"strong"),e._uU(242,"Detect"),e.qZA(),e._uU(243," : Syndromic surveillance systems"),e.qZA(),e.TgZ(244,"td",146),e._uU(245,"3"),e.qZA()(),e.TgZ(246,"tr")(247,"td",141),e._uU(248,"9"),e.qZA(),e.TgZ(249,"td",125),e._uU(250,"Reporting"),e.qZA(),e.TgZ(251,"td")(252,"strong"),e._uU(253,"Detect"),e.qZA(),e._uU(254," : System for efficient reporting to FAO, OIE and WHO"),e.qZA(),e.TgZ(255,"td",146),e._uU(256,"3"),e.qZA(),e.TgZ(257,"td",141)(258,"a",143),e._UZ(259,"i",144),e.qZA()()(),e.TgZ(260,"tr")(261,"td")(262,"strong"),e._uU(263,"Detect"),e.qZA(),e._uU(264," : Reporting network and protocols in country"),e.qZA(),e.TgZ(265,"td",146),e._uU(266,"2"),e.qZA()(),e.TgZ(267,"tr")(268,"td",149),e._uU(269,"10"),e.qZA(),e.TgZ(270,"td",150),e._uU(271,"Workforce development"),e.qZA(),e.TgZ(272,"td")(273,"strong"),e._uU(274,"Detect"),e.qZA(),e._uU(275," : Human resources available to implement IHR core capacity requirements"),e.qZA(),e.TgZ(276,"td",146),e._uU(277,"3"),e.qZA(),e.TgZ(278,"td",149)(279,"a",143),e._UZ(280,"i",144),e.qZA()()(),e.TgZ(281,"tr")(282,"td")(283,"strong"),e._uU(284,"Detect"),e.qZA(),e._uU(285," : FETP1 or other applied epidemiology training programme in place"),e.qZA(),e.TgZ(286,"td",151),e._uU(287,"4"),e.qZA()(),e.TgZ(288,"tr")(289,"td")(290,"strong"),e._uU(291,"Detect"),e.qZA(),e._uU(292," : Workforce strategy"),e.qZA(),e.TgZ(293,"td",146),e._uU(294,"2"),e.qZA()()()()()()()(),e.TgZ(295,"div",152)(296,"div",153)(297,"div",91)(298,"div",154)(299,"div",92)(300,"div",155),e._UZ(301,"pdf-viewer",156),e.qZA()()(),e.TgZ(302,"div",157)(303,"h6",158),e._uU(304,"Search Result"),e.qZA(),e.TgZ(305,"div",92)(306,"div",93)(307,"table",94)(308,"thead",95)(309,"tr")(310,"th",159),e._uU(311,"No"),e.qZA(),e.TgZ(312,"th",160),e._uU(313,"Technical Area"),e.qZA(),e.TgZ(314,"th"),e._uU(315,"Indicators"),e.qZA(),e.TgZ(316,"th",160),e._uU(317,"Source"),e.qZA()()(),e.TgZ(318,"tbody")(319,"tr")(320,"td",129),e._uU(321,"1"),e.qZA(),e.TgZ(322,"td")(323,"strong"),e._uU(324,"Food safety"),e.qZA()(),e.TgZ(325,"td"),e._uU(326,"Whole-of-government biosafety and biosecurity system is in place for human, animal and agriculture facilities"),e.qZA(),e.TgZ(327,"td"),e._uU(328,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(329,"tr")(330,"td",161),e._uU(331,"2"),e.qZA(),e.TgZ(332,"td",162)(333,"strong"),e._uU(334,"Immunization"),e.qZA()(),e.TgZ(335,"td"),e._uU(336,"Vaccine coverage (measles) as part of national programme"),e.qZA(),e.TgZ(337,"td",162),e._uU(338,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(339,"tr")(340,"td"),e._uU(341,"National vaccine access and delivery"),e.qZA()(),e.TgZ(342,"tr")(343,"td",163),e._uU(344,"3"),e.qZA(),e.TgZ(345,"td",164)(346,"strong"),e._uU(347,"National laboratory system"),e.qZA()(),e.TgZ(348,"td"),e._uU(349,"National laboratory system"),e.qZA(),e.TgZ(350,"td",164),e._uU(351,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(352,"tr")(353,"td"),e._uU(354,"Specimen referral and transport system"),e.qZA()(),e.TgZ(355,"tr")(356,"td"),e._uU(357,"Effective modern point-of-care and laboratory-based diagnostics"),e.qZA()(),e.TgZ(358,"tr")(359,"td"),e._uU(360,"Laboratory quality system"),e.qZA()(),e.TgZ(361,"tr")(362,"td",163),e._uU(363,"4"),e.qZA(),e.TgZ(364,"td",164)(365,"strong"),e._uU(366,"Real-time surveillance"),e.qZA()(),e.TgZ(367,"td"),e._uU(368,"Indicator- and event-based surveillance systems"),e.qZA(),e.TgZ(369,"td",164),e._uU(370,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(371,"tr")(372,"td"),e._uU(373,"Interoperable, interconnected, electronic real-time reporting system"),e.qZA()(),e.TgZ(374,"tr")(375,"td"),e._uU(376,"Integration and analysis of surveillance data"),e.qZA()(),e.TgZ(377,"tr")(378,"td"),e._uU(379,"Syndromic surveillance systems"),e.qZA()(),e.TgZ(380,"tr")(381,"td",161),e._uU(382,"5"),e.qZA(),e.TgZ(383,"td",162)(384,"strong"),e._uU(385,"Reporting"),e.qZA()(),e.TgZ(386,"td"),e._uU(387,"System for efficient reporting to FAO, OIE and WHO"),e.qZA(),e.TgZ(388,"td",162),e._uU(389,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(390,"tr")(391,"td"),e._uU(392,"Reporting network and protocols in country"),e.qZA()()()()()(),e.YNc(393,Vi,4,0,"div",165),e.qZA()()()()()()),2&p){const t=e.oxw();e.xp6(301),e.Q6J("src",t.pdfSrc)("render-text",!0)("original-size",!1)("zoom",1),e.xp6(92),e.Q6J("ngIf",0==t.assesment.isSubmitted&&t.isButtonVisible1)}}function Hi(p,j){1&p&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"e-SPAR : State Parties Annual Report"),e.qZA(),e.TgZ(4,"div",168)(5,"div",1)(6,"div",169)(7,"div",123)(8,"div",170)(9,"div",171),e._uU(10,"Main Challenges"),e.qZA(),e.TgZ(11,"div",172),e._uU(12," Based on the analysis of the latest annual reporting data, the top challenges are : "),e.qZA(),e.TgZ(13,"div",173)(14,"div",174),e._uU(15,"C1 Policy, Legal and Normative Instruments to Implement IHR"),e.qZA(),e.TgZ(16,"table",94)(17,"tr")(18,"td",175)(19,"div",176)(20,"div",177),e._UZ(21,"div",178),e.qZA()()(),e.TgZ(22,"td",179),e._uU(23,"30%"),e.qZA()()()(),e.TgZ(24,"div",173)(25,"div",174),e._uU(26,"C6 Human Resources"),e.qZA(),e.TgZ(27,"table",94)(28,"tr")(29,"td",175)(30,"div",176)(31,"div",177),e._UZ(32,"div",180),e.qZA()()(),e.TgZ(33,"td",179),e._uU(34,"40%"),e.qZA()()()(),e.TgZ(35,"div",173)(36,"div",174),e._uU(37,"C14 Chemical Events"),e.qZA(),e.TgZ(38,"table",94)(39,"tr")(40,"td",175)(41,"div",176)(42,"div",177),e._UZ(43,"div",180),e.qZA()()(),e.TgZ(44,"td",179),e._uU(45,"40%"),e.qZA()()()(),e.TgZ(46,"div",173)(47,"div",174),e._uU(48,"C8 Health Service Provision"),e.qZA(),e.TgZ(49,"table",94)(50,"tr")(51,"td",175)(52,"div",176)(53,"div",177),e._UZ(54,"div",181),e.qZA()()(),e.TgZ(55,"td",179),e._uU(56,"47%"),e.qZA()()()(),e.TgZ(57,"div",173)(58,"div",174),e._uU(59,"C9 Infection Prevention and Control (IPC)"),e.qZA(),e.TgZ(60,"table",94)(61,"tr")(62,"td",175)(63,"div",176)(64,"div",177),e._UZ(65,"div",181),e.qZA()()(),e.TgZ(66,"td",179),e._uU(67,"47%"),e.qZA()()()()()()(),e.TgZ(68,"div",169)(69,"div",182)(70,"div",170)(71,"div",183),e._uU(72,"IHR Designated Points of Entry"),e.qZA(),e.TgZ(73,"div",184)(74,"div",1)(75,"div",185),e._uU(76,"Ports"),e.qZA(),e.TgZ(77,"div",186),e._uU(78,"1"),e.qZA()()(),e.TgZ(79,"div",184)(80,"div",1)(81,"div",185),e._uU(82,"Airports"),e.qZA(),e.TgZ(83,"div",186),e._uU(84,"3"),e.qZA()()(),e.TgZ(85,"div",184)(86,"div",1)(87,"div",185),e._uU(88,"Ground Crossings"),e.qZA(),e.TgZ(89,"div",186),e._uU(90,"0"),e.qZA()()(),e.TgZ(91,"div",184)(92,"div",1)(93,"div",185),e._uU(94,"Autorized port to issue ship sanitation certificates"),e.qZA(),e.TgZ(95,"div",186),e._uU(96,"No"),e.qZA()()()()()(),e.TgZ(97,"div",187)(98,"div",188)(99,"div",50)(100,"div",1)(101,"div",189),e._uU(102," All Capacities Average "),e._UZ(103,"br"),e._uU(104," (Updated on 07-06-2022) "),e.qZA(),e.TgZ(105,"div",190),e._UZ(106,"canvas",191),e.TgZ(107,"span"),e._uU(108,"Nigeria"),e.qZA()(),e.TgZ(109,"div",190),e._UZ(110,"canvas",192),e.TgZ(111,"span"),e._uU(112,"AFRO"),e.qZA()(),e.TgZ(113,"div",190),e._UZ(114,"canvas",193),e.TgZ(115,"span",194),e._uU(116,"Global Average"),e.qZA()()()()()(),e.TgZ(117,"div",187)(118,"div",188)(119,"div",170)(120,"div",1)(121,"div",195),e._uU(122," IHR Score Per Capacity AFRO Nigeria 2021 "),e.qZA(),e.TgZ(123,"div",2),e._UZ(124,"canvas",196),e.qZA()()()()()()()()())}const St=function(p){return{"is-invalid":p}};let Wi=(()=>{class p{constructor(t,T,Y,ae,Se,Ze,Ve,$e,at,Pt,wt,Et,et,rr,sr,ar,or){this.activatedRoute=t,this.serviceAssesment=T,this.serviceCategory=Y,this.serviceChecklist=ae,this.serviceCountry=Se,this.serviceHazardtype=Ze,this.spinner=Ve,this.fb=$e,this.toastr=at,this.serviceCountryAssesment=Pt,this.serviceAssesmentDoc=wt,this.servicePoeMarker=Et,this.serviceHazardTypeCategory=et,this.serviceState=rr,this.serviceCity=sr,this.serviceStorage=ar,this.serviceChecklistState=or,this.dataChartNationalCapacities=[0,0,0,0],this.dataChart0=[0,100],this.dataChart1=[0,100],this.dataChart2=[0,100],this.dataChartScoreCapacityBar=[0,0,0,0,0,0,0,0,0,0,0,0],this.dataChartScoreCapacityLine=[0,0,0,0,0,0,0,0,0,0,0,0],this.pdfSrc="../assets/WHO-WHE-CPI-REP-2017-46-eng.pdf",this.pdfSrcIRNA="../assets/Multi_Sector_IRNA_Tool-ISWG.pdf",this.uploadIRNAdoc=!1,this.showSection1=!1,this.showSection2=!1,this.showSection3=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.isButtonVisible1=!0,this.isButtonVisible2=!0,this.isImportVisible=!1,this.categories=[],this.stateOfChecklist=[],this.formsubmitted=!1,this.countryAssesments=[],this.pinIcon=L.icon({iconUrl:"./assets/pin.png",iconSize:[32,32]}),this.files=[],nt.kL.register(...nt.zX),this.activatedRoute.queryParams.subscribe(vt=>{vt.hazard_type&&vt.country&&(this.hazardTypeId=vt.hazard_type,this.findAssesment(vt.hazard_type),this.showSection1=!1,this.showSection2=!1,this.showSection3=!1,this.showSection4=!1,this.showSectionIRNA=!1,this.isButtonVisible1=!0,this.isButtonVisible2=!0,this.categories=[],this.clearForm())})}initMap(){this.map=L.map("mapPointOfEntry",{center:L.latLng(-2.44565,117.8888),zoom:5}),L.esri.Vector.vectorBasemapLayer("ArcGIS:Streets",{apikey:"AAPK8acc523775224c1f958527e7933989d1v8h60qdvzoYxwZ9tr466u7fbO5fQavRbW40xv-IvbmkZfa6zjTBE-nvzhBOBPaRv"}).addTo(this.map),this.servicePoeMarker.getAll().subscribe(t=>{t.forEach(T=>{L.marker([T.latitude,T.longitude],{icon:this.pinIcon}).addTo(this.map)})})}showByAssesment(t){3==t?1==this.showSection4?this.showSection4=!1:(this.assesment.isSubmitted=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.showSection4=!0,setTimeout(()=>{this.initMap()},2e3)):2==t?1==this.showSectionEspar?this.showSectionEspar=!1:(this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionIRNA=!1,this.showSectionEspar=!0,setTimeout(()=>{this.getesparChart()},2e3)):1==t?1==this.assesment.isSubmitted?this.assesment.isSubmitted=!1:(this.assesment.isSubmitted=!0,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.categories=[],this.clearForm(),this.findAssesment(this.hazardTypeId),this.getCategory()):4==t&&(this.assesmentId=t,1==this.uploadIRNAdoc?(this.isImportVisible=!1,this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!0):(this.isImportVisible=!0,this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1))}getAssesmentDoc(){this.serviceAssesmentDoc.getByCountryAndAssesment(this.countryId,this.assesmentId).subscribe(t=>{this.pdfSrcIRNA=t.file})}getCountryAssesment(){this.activatedRoute.queryParams.subscribe(t=>{t.country&&(this.serviceCountryAssesment.getByCountry(t.country).subscribe(T=>{this.countryAssesments=T}),this.serviceCountry.getByCode(t.country).subscribe(T=>{console.log("Con COd:",T),this.countryCode=T.code,this.countryId=T.id,this.form.patchValue({countryId:T.id})}))})}getState(){this.activatedRoute.queryParams.subscribe(t=>{t.country&&this.serviceCountry.getByCode(t.country).subscribe(T=>{this.serviceState.getByCountry(T.id).subscribe(Y=>{this.states=Y,this.cities=[]})})})}getCity(t){let T=t.target.value;console.log("stateID:",T),T&&this.serviceCity.getByState(T).subscribe(Y=>{this.cities=Y,console.log("COuntry: ",this.countryId),this.destroyMyChartNationalCapacities(),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,T,this.hazardTypeId,1).subscribe(ae=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(ae),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,T,this.hazardTypeId,2).subscribe(Se=>{this.dataChartNationalCapacities.push(Se),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,T,this.hazardTypeId,3).subscribe(Ze=>{this.dataChartNationalCapacities.push(Ze),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,T,this.hazardTypeId,4).subscribe(Ve=>{this.dataChartNationalCapacities.push(Ve),this.getMyChartNationalCapacities()})})})}),this.spinner.show(),this.categories=[],this.serviceCategory.getByCountryStateAndHazardTypeStatus(this.countryId,T,this.hazardTypeId).subscribe({next:ae=>{Object(ae).forEach(Se=>{console.log("Cat item: ",Se),Se.category.nationalCapacityChecklists.length>0&&this.categories.push(Se)})},complete:()=>{this.spinner.hide()},error:()=>{this.spinner.hide()}})})}getSession(){let t=JSON.parse(this.serviceStorage.get("session"));this.userId=t.id,this.roleId=t.role?t.role.id:null,this.stateId=t.state?t.state.id:null}ngOnInit(){this.getSession(),this.clearForm(),this.getCategory(),this.getCountryAssesment(),this.getState(),this.serviceHazardtype.getAll().subscribe(t=>this.CRUDhazardType=t),this.form=this.fb.group({hazardTypeId:["",z.kI.required],nationalCapacityCategoryId:["",z.kI.required],function:[""],comment:[""],action:["",z.kI.required],countryId:null})}onSelectHazardType(t){this.serviceHazardTypeCategory.getByHazardType(t.value).subscribe(T=>{this.CRUDcategory=T})}onImportFile(){this.isImportVisible=1!=this.isImportVisible}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.spinner.show(),this.serviceChecklist.create(this.form.value).subscribe({next:()=>{},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success"),this.onUpdateResultChecklist(),this.getCategory()}}),this.formsubmitted=!1,this.form.reset({hazardTypeId:"",nationalCapacityCategoryId:"",comment:"",function:"",countryId:this.countryId}))}importVisible(){}clearForm(){this.assesment={isSubmitted:!1}}findAssesment(t){this.serviceAssesment.find(t).subscribe({next:T=>{this.assesment=T,setTimeout(()=>{3==this.roleId?this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,1).subscribe(Y=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(Y),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,2).subscribe(ae=>{this.dataChartNationalCapacities.push(ae),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,3).subscribe(Se=>{this.dataChartNationalCapacities.push(Se),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,4).subscribe(Ze=>{this.dataChartNationalCapacities.push(Ze),this.getMyChartNationalCapacities()})})})}):this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(Y=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(Y),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(ae=>{this.dataChartNationalCapacities.push(ae),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(Se=>{this.dataChartNationalCapacities.push(Se),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(Ze=>{this.dataChartNationalCapacities.push(Ze),this.getMyChartNationalCapacities()})})})})},2e3),this.getesparChart()},error:T=>{}})}onFilter(t){this.select=t.target.value,this.spinner.show(),this.categories=[],0==this.select?setTimeout(()=>{this.getCategory(),this.spinner.hide()},250):this.activatedRoute.queryParams.subscribe(T=>{T.hazard_type&&T.country?(console.log("params.hazard_type: ",T.hazard_type),console.log("params.country: ",T.country),this.serviceCategory.getByStatus(T.hazard_type,this.select).subscribe(Y=>{console.log("Items res: ",Y),setTimeout(()=>{Object(Y).forEach(ae=>{console.log("Items category: ",ae),ae.category.nationalCapacityChecklists.length>0&&this.categories.push(ae),this.spinner.hide()})},250)}),console.log("this.categories: ",this.categories),this.hazardTypeId=T.hazard_type):(this.categories=[],this.hazardTypeId=null)})}getCategory(){this.categories=[],this.activatedRoute.queryParams.subscribe(t=>{t.hazard_type&&t.country?(this.spinner.show(),this.serviceCountry.getByCode(t.country).subscribe(T=>{this.countryId=T.id,3==this.roleId?this.serviceCategory.getByCountryStateAndHazardType(T.id,this.stateId,t.hazard_type).subscribe({next:Y=>{Object(Y).forEach(ae=>{ae.category.nationalCapacityChecklists.length>0&&this.categories.push(ae)})},complete:()=>{this.spinner.hide()},error:()=>{this.spinner.hide()}}):this.serviceCategory.getByCountryAndHazardTypePercent(T.id,t.hazard_type).subscribe({next:Y=>{Object(Y).forEach(ae=>{ae.category.nationalCapacityChecklists.length>0&&this.categories.push(ae)})},complete:()=>{this.spinner.hide()},error:()=>{this.spinner.hide()}}),this.hazardTypeId=t.hazard_type})):(this.categories=[],this.hazardTypeId=null)})}getMyChartNationalCapacities(){const t=document.getElementById("chartNationalCapacities");this.chartNationalCapacities=new nt.kL(t,{type:"bar",data:{labels:["Completed","Not Ready","In Progress","Not Applicable"],datasets:[{data:this.dataChartNationalCapacities,backgroundColor:["rgb(172, 211, 89)","rgb(247, 157, 116)","rgb(248, 198, 108)","rgb(197, 111, 180)"]}]},options:{indexAxis:"y",responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{borderDash:[3]}},y:{grid:{display:!1}}}}})}destroyMyChartNationalCapacities(){this.chartNationalCapacities&&this.chartNationalCapacities.destroy()}getMyChart0(){const t=document.getElementById("myChart0");this.chart0=new nt.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart0,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart0(){this.chart0&&this.chart0.destroy()}getMyChart1(){const t=document.getElementById("myChart1");this.chart1=new nt.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart1,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart1(){this.chart1&&this.chart1.destroy()}getMyChart2(){const t=document.getElementById("myChart2");this.chart2=new nt.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart2,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart2(){this.chart2&&this.chart2.destroy()}getMyChartScoreCapacity(){const t=document.getElementById("chartScoreCapacity");this.chartScoreCapacity=new nt.kL(t,{type:"bar",data:{labels:["1","2","3","4","5","6","7","8","9","10","11","12"],datasets:[{data:this.dataChartScoreCapacityBar,backgroundColor:"#024664",order:1},{type:"line",data:this.dataChartScoreCapacityLine,backgroundColor:"rgb(15, 198, 194)",borderColor:"rgb(15, 198, 194)",order:0,pointStyle:"circle",pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{grid:{borderDash:[3]}}}}})}destroyMyChartScoreCapacity(){this.chartScoreCapacity&&this.chartScoreCapacity.destroy()}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}onReset(){this.files=[]}scroll(t){var ae=t.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:ae,behavior:"smooth"})}onUploadAll(){console.log("In upload ALL"),this.progressStyle="0%",setTimeout(()=>{this.progressStyle="20%",setTimeout(()=>{this.progressStyle="75%",setTimeout(()=>{this.progressStyle="100%",setTimeout(()=>{console.log("In upload IRNAdoc"),this.uploadIRNAdoc=!0,this.isImportVisible=!1,this.showSectionIRNA=!0},1e3)},2e3)},1e3)},1e3)}onResultSearch(){this.showSection2=!0,this.isButtonVisible1=!1}getesparChart(){setTimeout(()=>{this.dataChart0=[63,37],this.dataChart1=[49,51],this.dataChart2=[64,36],this.dataChartScoreCapacityBar=[500,520,750,470,580,420,600,590,620,400,600,580],this.dataChartScoreCapacityLine=[100,410,300,780,250,300,900,450,790,200,800,600],this.getMyChart0(),this.getMyChart1(),this.getMyChart2(),this.getMyChartScoreCapacity()},2e3)}onResultChecklist(){this.categories.length>0&&(this.serviceAssesment.UpdateIsSubmitted(this.hazardTypeId,{isSubmitted:!0}).subscribe(),this.showSection3=!0,this.isButtonVisible2=!1,setTimeout(()=>{this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(T=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(T),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(Y=>{this.dataChartNationalCapacities.push(Y),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(ae=>{this.dataChartNationalCapacities.push(ae),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(Se=>{this.dataChartNationalCapacities.push(Se),this.getMyChartNationalCapacities()})})})})},2e3),this.getesparChart())}onUpdateResultChecklist(){this.destroyMyChartNationalCapacities(),setTimeout(()=>{this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(t=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(t),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(T=>{this.dataChartNationalCapacities.push(T),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(Y=>{this.dataChartNationalCapacities.push(Y),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(ae=>{this.dataChartNationalCapacities.push(ae),this.getMyChartNationalCapacities()})})})})},2e3)}updateStatus(t,T){let Y=JSON.parse(this.serviceStorage.get("session"));this.serviceChecklistState.updateStatus({checklistId:t,status:T.value,userId:Y.id,countryId:this.countryId,stateId:Y.state.id,hazardTypeId:this.hazardTypeId}).subscribe()}updateFunction(t,T){let Y=JSON.parse(this.serviceStorage.get("session")),ae={checklistId:t,function:T.value,userId:Y.id,countryId:this.countryId,stateId:Y.state.id,hazardTypeId:this.hazardTypeId};console.log("Function Data: ",ae),this.serviceChecklistState.updateFunction(ae).subscribe()}updateComment(t,T){let Y=JSON.parse(this.serviceStorage.get("session")),ae={checklistId:t,comment:T.value,userId:Y.id,countryId:this.countryId,stateId:Y.state.id,hazardTypeId:this.hazardTypeId};console.log("Comment Data: ",ae),this.serviceChecklistState.updateComment(ae).subscribe()}getStateOfChecklist(t,T){this.stateOfChecklist=[],this.serviceChecklistState.getStateOfChecklist(this.countryId,this.hazardTypeId,t,T).subscribe(Y=>{this.stateOfChecklist=Y})}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(oe.gz),e.Y36(En),e.Y36(kn.k),e.Y36(Mn.D),e.Y36(o.T),e.Y36(h.$),e.Y36(D.t2),e.Y36(z.qu),e.Y36(ne._W),e.Y36(Zn.m),e.Y36(On),e.Y36(In.Z),e.Y36(Ln.l),e.Y36(Rn.b),e.Y36(Fn.Z),e.Y36(Bt.V),e.Y36(Nn))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-nationalcapacities"]],decls:79,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],["Result",""],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary","mb-4",2,"color","#00205C"],[1,"row","row-cols-lg-auto","g-2","justify-content-end","mb-4"],[1,"form-select","fs-12",2,"width","200px",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","text-white","border-0","fs-12",3,"click"],[1,"bi","bi-plus","pe-2"],[1,"card","mb-4","shadow-sm"],[1,"card-body","px-4"],[1,"py-2"],["class","col-4",4,"ngFor","ngForOf"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"accordion","mb-4","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne",1,"accordion-button","collapsed","lh-1","fs-14"],[1,"badge","bg-info","me-2"],["id","collapseOne",1,"accordion-collapse","collapse"],[1,"accordion-body","p-4","fs-12"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","hazardTypeId",1,"form-select","fs-14",3,"ngClass","change"],["value","","selected",""],["class","invalid-feedback",4,"ngIf"],["formControlName","nationalCapacityCategoryId",1,"form-select","fs-14",3,"ngClass"],["formControlName","function",1,"form-control","fs-14"],["formControlName","comment",1,"form-control","fs-14"],["formControlName","action",1,"form-control","fs-14",3,"ngClass"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn",2,"background-color","#5B8874","color","white","border","none","font-size","12px"],["class","card mb-4 border-0",4,"ngIf"],["Checklist",""],[3,"value"],[1,"col-4"],[1,"card","mb-3",3,"click"],[1,"card-body","py-4",2,"background-color","#fbfbfb"],[1,"col-3","text-center","position-relative"],[1,"bi-file-earmark-text","fs-4","position-absolute","top-50","translate-middle-y"],[1,"col-9"],[1,"fs-14"],["href","javascript:void(0)",1,"stretched-link","text-decoration-none","text-dark"],[1,"fs-14","text-secondary"],[1,"card-body"],[1,"row","py-2"],[1,"col-md-3","px-3"],["ngx-dropzone","","accept","application/pdf",1,"position-relative","custom-dropzone","border-upload",3,"change"],[1,"position-absolute","top-50","start-50","translate-middle","text-center"],[1,"fs-12"],["xmlns","http://www.w3.org/2000/svg","width","35","height","35","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-download"],["d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"],["d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"],[1,"col-md-9"],[1,"table-responsive","mb-4"],[1,"table"],[4,"ngFor","ngForOf"],[1,"progress","mb-4"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["type","button",1,"btn","btn-upload","btn-action",3,"click"],[1,"bi","bi-upload","pe-2"],["type","button",1,"btn","btn-outline-warning","btn-action"],[1,"bi","bi-x-lg","pe-2"],["type","button",1,"btn","btn-outline-danger","btn-action",3,"click"],[1,"bi","bi-trash3","pe-2"],[1,"align-middle"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["selected",""],["value","1"],["value","2"],["value","3"],["type","button",1,"btn","btn-outline-danger","btn-td",3,"click"],[1,"bi","bi-trash3"],[1,"invalid-feedback"],[4,"ngIf"],[1,"card-body","px-0","pb-0"],[1,"my-4","mx-5"],[1,"d-flex","justify-content-center"],[1,"col-6"],[2,"width","100%","height","900px",3,"src","original-size","zoom"],["id","mapPointOfEntry"],[1,"my-4"],[1,"card","mb-4","shadow-sm","pb-4"],["id","chartNationalCapacities","height","80"],[1,"row","fs-12"],[1,"card","mb-3"],[1,"card-body","p-0"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[1,"pagination"],[1,"page-item"],["href","#","aria-label","Previous",1,"page-link","text-dark","border-0"],["aria-hidden","true"],[1,"bi","bi-chevron-left"],[1,"page-item","active"],["href","#",1,"page-link","text-dark","border-0"],["href","#","aria-label","Next",1,"page-link","text-dark","border-0"],[1,"bi","bi-chevron-right"],[1,"d-flex","justify-content-end","mb-4"],[1,"border","rounded",2,"border","1px solid #024664","font-size","12px"],[1,"bi","bi-funnel","ps-2"],[1,"select-filter","p-2",3,"change"],["value","0","selected",""],["value","4"],["class","accordion mb-3 shadow-sm",4,"ngFor","ngForOf"],["id","modalStateOfChecklist","tabindex","-1","aria-labelledby","modalStateOfChecklistLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalStateOfChecklistLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["class","table",4,"ngIf"],[1,"accordion","mb-3","shadow-sm"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"card"],["width","220px","rowspan","2",1,"align-middle"],["rowspan","2",1,"align-middle"],["colspan","4",1,"text-center"],["width","85px",1,"text-center"],["class","text-editable",3,"change",4,"ngIf"],[1,"text-center"],["class","text-end",4,"ngIf"],[1,"text-editable",3,"change"],["type","radio","value","1",1,"form-check-input",3,"name","checked","click"],[1,"text-end"],["href","#","data-bs-toggle","modal","data-bs-target","#modalStateOfChecklist",1,"ms-1","text-primary",3,"click"],[1,"bi-info-circle"],["type","radio","value","2",1,"form-check-input",3,"name","checked","click"],["type","radio","value","3",1,"form-check-input",3,"name","checked","click"],["type","radio","value","4",1,"form-check-input",3,"name","checked","click"],[1,"card-body","p-5","fs-12"],[1,"card","my-3"],["rowspan","2",1,"text-center","align-middle"],[1,"text-center","align-middle","bg-red"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"],[1,"text-center","align-middle"],[1,"text-center","align-middle","bg-yellow"],["rowspan","4",1,"text-center","align-middle"],["rowspan","4",1,"align-middle"],["rowspan","3",1,"text-center","align-middle"],["rowspan","3",1,"align-middle"],[1,"text-center","align-middle","bg-green"],[1,"card","mb-4",2,"border","none"],[1,"card-body","px-0"],[1,"col-5"],[1,"card-body","p-3","text-center",2,"background-color","#9E9E9E","border","none"],[2,"width","100%","height","640px",3,"src","render-text","original-size","zoom"],[1,"col-7"],[1,"pe-2"],["width","60px",1,"text-center"],["width","160px"],["rowspan","2",1,"text-center"],["rowspan","2"],["rowspan","4",1,"text-center"],["rowspan","4"],["class","d-flex justify-content-end",4,"ngIf"],["type","button",1,"btn",2,"background-color","#5B8874","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-save","pe-2"],[1,"card-body","p-0","fs-12"],[1,"col-md-6","mb-4"],[1,"card-body","p-4"],[1,"fw-bold","fs-6","mb-3"],[1,"lh-sm","mb-3"],[1,"mb-2"],[1,"fw-bold"],[1,"border-0","ps-0","py-1","align-middle"],[1,"px-0"],[1,"progress","bg-blue-light",2,"height","5px"],["role","progressbar","aria-valuenow","30","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","30%"],["width","35px",1,"border-0","py-1","align-middle","text-end"],["role","progressbar","aria-valuenow","40","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","40%"],["role","progressbar","aria-valuenow","47","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","47%"],[1,"card",2,"height","100%"],[1,"fw-bold","fs-6","mb-4"],[1,"border-bottom","py-2"],[1,"col-10"],[1,"col-2","text-end"],[1,"col-md-12"],[1,"card","mb-4"],[1,"col-md-12","text-center","lh-sm","fw-bold","mb-4"],[1,"col-md-4","px-5","text-center","mb-4"],["id","myChart0"],["id","myChart1"],["id","myChart2"],[1,"mt-3"],[1,"col-12","text-center","lh-sm","fw-bold","mb-4"],["id","chartScoreCapacity","height","80"]],template:function(t,T){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4)(5,"div",5)(6,"h4",6),e._uU(7,"Readiness Capacities"),e.qZA(),e.TgZ(8,"form",7)(9,"div",2)(10,"select",8),e.NdJ("change",function(ae){return T.getCity(ae)}),e.TgZ(11,"option",9),e._uU(12,"Choose State"),e.qZA(),e.YNc(13,hi,2,2,"option",10),e.qZA()(),e.TgZ(14,"div",2)(15,"button",11),e.NdJ("click",function(){return T.onImportFile()}),e._UZ(16,"i",12),e._uU(17,"Import File"),e.qZA()()(),e.TgZ(18,"div",13)(19,"div",14)(20,"h6",15),e._uU(21,"Readiness Capacities Assesment"),e.qZA(),e.TgZ(22,"div",1),e.YNc(23,pi,12,2,"div",16),e.qZA()()(),e.YNc(24,gi,45,4,"div",17),e.TgZ(25,"div",18)(26,"div",19)(27,"h2",20)(28,"button",21),e._UZ(29,"span",22),e._uU(30," Add Readiness Checklist "),e.qZA()(),e.TgZ(31,"div",23)(32,"div",24)(33,"form",25),e.NdJ("ngSubmit",function(){return T.submitForm()}),e.TgZ(34,"div",26)(35,"label",27),e._uU(36,"Hazard Type"),e.qZA(),e.TgZ(37,"div",28)(38,"select",29),e.NdJ("change",function(ae){return T.onSelectHazardType(ae.target)}),e.TgZ(39,"option",30),e._uU(40,"Choose Hazard Type"),e.qZA(),e.YNc(41,_i,2,2,"option",10),e.qZA(),e.YNc(42,bi,2,1,"div",31),e.qZA()(),e.TgZ(43,"div",26)(44,"label",27),e._uU(45,"Category"),e.qZA(),e.TgZ(46,"div",28)(47,"select",32)(48,"option",30),e._uU(49,"Choose Category"),e.qZA(),e.YNc(50,vi,2,2,"option",10),e.qZA(),e.YNc(51,yi,2,1,"div",31),e.qZA()(),e.TgZ(52,"div",26)(53,"label",27),e._uU(54,"Data Source"),e.qZA(),e.TgZ(55,"div",28),e._UZ(56,"textarea",33),e.qZA()(),e.TgZ(57,"div",26)(58,"label",27),e._uU(59,"Comment"),e.qZA(),e.TgZ(60,"div",28),e._UZ(61,"textarea",34),e.qZA()(),e.TgZ(62,"div",26)(63,"label",27),e._uU(64,"Checklist"),e.qZA(),e.TgZ(65,"div",28),e._UZ(66,"textarea",35),e.YNc(67,Ti,2,1,"div",31),e.qZA()(),e.TgZ(68,"div",36)(69,"button",37),e._uU(70,"Submit"),e.qZA()()()()()()()()(),e.YNc(71,xi,9,3,"div",38),e.YNc(72,Si,5,0,"div",38),e.YNc(73,Pi,97,0,"div",38),e._UZ(74,"div",null,39),e.YNc(76,zi,29,3,"div",38),e.YNc(77,ji,394,5,"div",38),e.YNc(78,Hi,125,0,"div",38),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("ngForOf",T.states),e.xp6(10),e.Q6J("ngForOf",T.countryAssesments),e.xp6(1),e.Q6J("ngIf",1==T.isImportVisible),e.xp6(9),e.Q6J("formGroup",T.form),e.xp6(5),e.Q6J("ngClass",e.VKq(18,St,T.formsubmitted&&T.f.hazardTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",T.CRUDhazardType),e.xp6(1),e.Q6J("ngIf",T.formsubmitted&&T.f.hazardTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(20,St,T.formsubmitted&&T.f.nationalCapacityCategoryId.errors)),e.xp6(3),e.Q6J("ngForOf",T.CRUDcategory),e.xp6(1),e.Q6J("ngIf",T.formsubmitted&&T.f.nationalCapacityCategoryId.errors),e.xp6(15),e.Q6J("ngClass",e.VKq(22,St,T.formsubmitted&&T.f.action.errors)),e.xp6(1),e.Q6J("ngIf",T.formsubmitted&&T.f.action.errors),e.xp6(4),e.Q6J("ngIf",T.showSectionIRNA),e.xp6(1),e.Q6J("ngIf",T.showSection4),e.xp6(1),e.Q6J("ngIf",1==T.assesment.isSubmitted||T.showSection3),e.xp6(3),e.Q6J("ngIf",1==T.assesment.isSubmitted||T.showSection2),e.xp6(1),e.Q6J("ngIf",1==T.assesment.isSubmitted||T.showSection1),e.xp6(1),e.Q6J("ngIf",T.showSection3||T.showSectionEspar))},dependencies:[f.mk,f.sg,f.O5,f.PC,M._f,z._Y,z.YN,z.Kr,z.Fj,z.EJ,z.JJ,z.JL,z.sg,z.u,z.F,di],styles:["thead[_ngcontent-%COMP%]{background:#024664}th[_ngcontent-%COMP%]{font-weight:550;font-size:12px;line-height:20px;padding-top:15px;padding-bottom:15px;color:#fff}td[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;font-weight:400;font-size:11px;line-height:17px}.select-filter[_ngcontent-%COMP%]{border:none;-moz-appearance:none}.btn-td[_ngcontent-%COMP%]{font-size:11px}.btn-action[_ngcontent-%COMP%]{font-size:12px;margin-bottom:10px;margin-right:10px}.btn-upload[_ngcontent-%COMP%], .btn-upload[_ngcontent-%COMP%]:hover, .btn-upload[_ngcontent-%COMP%]:focus{background-color:#9747ff;border-color:#9747ff;color:#fff}.border-upload[_ngcontent-%COMP%]{border-style:dashed;border-width:2px;border-color:#9747ff;background:#F8F7FE;color:#9747ff}ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{height:240px}.text-editable[_ngcontent-%COMP%]{width:100%;border:none}.text-editable[_ngcontent-%COMP%]:focus{outline:none!important}#mapPointOfEntry[_ngcontent-%COMP%]{width:100%;height:450px}"]}),p})();function Gi(p,j){if(1&p&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Yi(p,j){if(1&p&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&p){const t=j.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}const Ji=function(){return["/import/hazard-mapping"]},ht=function(p,j){return{hazard_type:p,country:j}},Qi=function(){return{exact:!0}},$i=function(){return["/import/readiness-checklist"]},Xi=function(){return["/import/action-plan"]},Ki=function(){return["/import/donor-and-partner"]},er=function(){return["/import/strategic-policies"]},tr=[{path:"",component:(()=>{class p{constructor(t,T,Y,ae,Se){this.router=t,this.activatedRoute=T,this.serviceCountry=Y,this.serviceHazardType=ae,this.serviceStorage=Se,this.filterHazardType="",this.filterCountry="",this.storage=[],this.activatedRoute.queryParams.subscribe(Ze=>{Ze.hazard_type&&(this.filterHazardType=Ze.hazard_type),Ze.country&&(this.filterCountry=Ze.country)})}ngOnInit(){this.serviceHazardType.getAll().subscribe(t=>{this.hazardTypes=t}),this.getLocalstorage()}getLocalstorage(){this.storage=this.serviceStorage.get("session");let t=JSON.parse(this.storage);this.roleId=t.role.id,1==this.roleId?this.serviceCountry.getAll().subscribe(T=>{T.sort(function(Se,Ze){return Se.id-Ze.id});let Y=[],ae=[];for(let Se=0;Se<T.length;Se++)(0==Se||1==Se)&&Y.push(T[Se]),(3==Se||4==Se||2==Se)&&ae.push(T[Se]);this.countries=Y}):this.serviceCountry.find(t.country.id).subscribe(T=>{this.countries=[T]})}selectHazardType(t){this.router.navigate([this.router.url.split("?")[0]],{queryParams:{hazard_type:t.value,country:this.filterCountry}}),this.filterHazardType=t.value}selectCountry(t){console.log("Router : ",this.router.url),console.log("Router URL: ",this.router.url.split("?")[0]),this.router.navigate([this.router.url.split("?")[0]],{queryParams:{hazard_type:this.filterHazardType,country:t.value},queryParamsHandling:"merge"}),this.filterCountry=t.value}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(oe.F0),e.Y36(oe.gz),e.Y36(o.T),e.Y36(h.$),e.Y36(Bt.V))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-import"]],decls:34,vars:36,consts:[[1,"container-fluid","mb-4",2,"background-color","#fff"],[1,"container","p-3"],[1,"row"],[1,"col-md-8","text-center","text-md-start"],[1,"d-inline-flex","bd-highlight"],[1,"nav","nav-pills","flex-column","flex-sm-row","rounded","nav-import-bg"],["aria-current","page","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import","d-none",3,"routerLink","queryParams","routerLinkActiveOptions"],["routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import",3,"routerLink","queryParams"],["routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import","d-none",3,"routerLink","queryParams"],[1,"col-md-4","text-center","text-md-end"],[1,"nav"],[1,"nav-item","px-3","py-3","border","rounded-start","d-none"],[1,"bi","bi-justify","text-primary"],[3,"ngModel","ngModelChange","change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"nav-item","px-3","py-3","border","rounded-end"],[1,"bi","bi-globe","text-primary"],["value",""],[3,"value"]],template:function(t,T){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"a",6),e._uU(7,"Hazard Mapping"),e.qZA(),e.TgZ(8,"a",7),e._uU(9,"Readiness Checklist"),e.qZA(),e.TgZ(10,"a",7),e._uU(11,"Action Plan"),e.qZA(),e.TgZ(12,"a",8),e._uU(13,"Donor and Partner"),e.qZA(),e.TgZ(14,"a",8),e._uU(15,"Strategic Policies"),e.qZA()()()(),e.TgZ(16,"div",9)(17,"div",4)(18,"ul",10)(19,"li",11),e._UZ(20,"i",12),e.TgZ(21,"select",13),e.NdJ("ngModelChange",function(ae){return T.filterHazardType=ae})("change",function(ae){return T.selectHazardType(ae.target)}),e.TgZ(22,"option",14),e._uU(23,"Hazard Type"),e.qZA(),e.YNc(24,Gi,2,2,"option",15),e.qZA()(),e.TgZ(25,"li",16),e._UZ(26,"i",17),e.TgZ(27,"select",13),e.NdJ("ngModelChange",function(ae){return T.filterCountry=ae})("change",function(ae){return T.selectCountry(ae.target)}),e.TgZ(28,"option",14),e._uU(29,"Country"),e.qZA(),e.YNc(30,Yi,2,2,"option",15),e.TgZ(31,"option",18),e._uU(32,"Botswana"),e.qZA()()()()()()()()(),e._UZ(33,"router-outlet")),2&t&&(e.xp6(6),e.Q6J("routerLink",e.DdM(15,Ji))("queryParams",e.WLB(16,ht,T.filterHazardType,T.filterCountry))("routerLinkActiveOptions",e.DdM(19,Qi)),e.xp6(2),e.Q6J("routerLink",e.DdM(20,$i))("queryParams",e.WLB(21,ht,T.filterHazardType,T.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(24,Xi))("queryParams",e.WLB(25,ht,T.filterHazardType,T.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(28,Ki))("queryParams",e.WLB(29,ht,T.filterHazardType,T.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(32,er))("queryParams",e.WLB(33,ht,T.filterHazardType,T.filterCountry)),e.xp6(7),e.Q6J("ngModel",T.filterHazardType),e.xp6(3),e.Q6J("ngForOf",T.hazardTypes),e.xp6(3),e.Q6J("ngModel",T.filterCountry),e.xp6(3),e.Q6J("ngForOf",T.countries))},dependencies:[f.sg,oe.lC,oe.yS,oe.Od,z.YN,z.Kr,z.EJ,z.JJ,z.On],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background-color:#5b8874}.nav-import-bg[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:10px}.nav-import[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:19px;color:#9e9e9e;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;gap:10px}.sticky-nav[_ngcontent-%COMP%]{top:66px;z-index:1001}select[_ngcontent-%COMP%]{border:none;width:9em;padding-left:5px;color:#024664}.borderlist[_ngcontent-%COMP%]{list-style-position:inside;border:1px solid black}"]}),p})(),children:[{path:"hazard-mapping",loadChildren:()=>Promise.all([K.e(592),K.e(975)]).then(K.bind(K,975)).then(p=>p.HazardmappingModule)},{path:"action-plan",component:mn},{path:"readiness-checklist",component:yn},{path:"strategic-policies",component:wn},{path:"national-capacities",component:Wi},{path:"",redirectTo:"hazard-mapping",pathMatch:"full"},{path:"**",redirectTo:"hazard-mapping",pathMatch:"full"}]}];let nr=(()=>{class p{}return p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[oe.Bz.forChild(tr),oe.Bz]}),p})(),ir=(()=>{class p{}return p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[f.ez,nr,M.bB,z.UX,z.u5,ui]}),p})()},7123:function(be){be.exports=function(F){function K(oe){if(f[oe])return f[oe].exports;var z=f[oe]={exports:{},id:oe,loaded:!1};return F[oe].call(z.exports,z,z.exports,K),z.loaded=!0,z.exports}var f={};return K.m=F,K.c=f,K.p="dist/",K(0)}([function(F,K,f){"use strict";function oe(Z){return Z&&Z.__esModule?Z:{default:Z}}var z=Object.assign||function(Z){for(var G=1;G<arguments.length;G++){var U=arguments[G];for(var X in U)Object.prototype.hasOwnProperty.call(U,X)&&(Z[X]=U[X])}return Z},ne=(oe(f(1)),f(6)),D=oe(ne),S=oe(f(7)),g=oe(f(8)),A=oe(f(9)),o=oe(f(10)),M=oe(f(11)),b=oe(f(14)),i=[],s=!1,y={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},C=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(s=!0),s)return i=(0,M.default)(i,y),(0,o.default)(i,y.once),i},x=function(){i=(0,b.default)(),C()};F.exports={init:function(Z){y=z(y,Z),i=(0,b.default)();var G=document.all&&!window.atob;return function(Z){return!0===Z||"mobile"===Z&&A.default.mobile()||"phone"===Z&&A.default.phone()||"tablet"===Z&&A.default.tablet()||"function"==typeof Z&&!0===Z()}(y.disable)||G?void i.forEach(function(Z,G){Z.node.removeAttribute("data-aos"),Z.node.removeAttribute("data-aos-easing"),Z.node.removeAttribute("data-aos-duration"),Z.node.removeAttribute("data-aos-delay")}):(y.disableMutationObserver||g.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),y.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",y.easing),document.querySelector("body").setAttribute("data-aos-duration",y.duration),document.querySelector("body").setAttribute("data-aos-delay",y.delay),"DOMContentLoaded"===y.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?C(!0):"load"===y.startEvent?window.addEventListener(y.startEvent,function(){C(!0)}):document.addEventListener(y.startEvent,function(){C(!0)}),window.addEventListener("resize",(0,S.default)(C,y.debounceDelay,!0)),window.addEventListener("orientationchange",(0,S.default)(C,y.debounceDelay,!0)),window.addEventListener("scroll",(0,D.default)(function(){(0,o.default)(i,y.once)},y.throttleDelay)),y.disableMutationObserver||g.default.ready("[data-aos]",x),i)},refresh:C,refreshHard:x}},function(F,K){},,,,,function(F,K){(function(f){"use strict";function oe(k,N,Z){function G(W){var ee=l,se=d;return l=d=void 0,P=W,c=k.apply(se,ee)}function U(W){return P=W,_=setTimeout($,N),R?G(W):c}function B(W){var ee=W-E;return void 0===E||ee>=N||ee<0||J&&W-P>=n}function $(){var W=O();return B(W)?te(W):void(_=setTimeout($,function X(W){var de=N-(W-E);return J?x(de,n-(W-P)):de}(W)))}function te(W){return _=void 0,Q&&l?G(W):(l=d=void 0,c)}function I(){var W=O(),ee=B(W);if(l=arguments,d=this,E=W,ee){if(void 0===_)return U(E);if(J)return _=setTimeout($,N),G(E)}return void 0===_&&(_=setTimeout($,N)),c}var l,d,n,c,_,E,P=0,R=!1,J=!1,Q=!0;if("function"!=typeof k)throw new TypeError(m);return N=u(N)||0,e(Z)&&(R=!!Z.leading,n=(J="maxWait"in Z)?C(u(Z.maxWait)||0,N):n,Q="trailing"in Z?!!Z.trailing:Q),I.cancel=function ie(){void 0!==_&&clearTimeout(_),P=0,l=E=d=_=void 0},I.flush=function ce(){return void 0===_?c:te(O())},I}function e(k){var N=typeof k>"u"?"undefined":S(k);return!!k&&("object"==N||"function"==N)}function D(k){return"symbol"==(typeof k>"u"?"undefined":S(k))||function ne(k){return!!k&&"object"==(typeof k>"u"?"undefined":S(k))}(k)&&y.call(k)==a}function u(k){if("number"==typeof k)return k;if(D(k))return g;if(e(k)){var N="function"==typeof k.valueOf?k.valueOf():k;k=e(N)?N+"":N}if("string"!=typeof k)return 0===k?k:+k;k=k.replace(A,"");var Z=o.test(k);return Z||h.test(k)?M(k.slice(2),Z?2:8):r.test(k)?g:+k}var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},m="Expected a function",g=NaN,a="[object Symbol]",A=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,h=/^0o[0-7]+$/i,M=parseInt,v="object"==(typeof f>"u"?"undefined":S(f))&&f&&f.Object===Object&&f,b="object"==(typeof self>"u"?"undefined":S(self))&&self&&self.Object===Object&&self,i=v||b||Function("return this")(),y=Object.prototype.toString,C=Math.max,x=Math.min,O=function(){return i.Date.now()};F.exports=function z(k,N,Z){var G=!0,U=!0;if("function"!=typeof k)throw new TypeError(m);return e(Z)&&(G="leading"in Z?!!Z.leading:G,U="trailing"in Z?!!Z.trailing:U),oe(k,N,{leading:G,maxWait:N,trailing:U})}}).call(K,function(){return this}())},function(F,K){(function(f){"use strict";function z(O){var k=typeof O>"u"?"undefined":u(O);return!!O&&("object"==k||"function"==k)}function ne(O){return"symbol"==(typeof O>"u"?"undefined":u(O))||function e(O){return!!O&&"object"==(typeof O>"u"?"undefined":u(O))}(O)&&s.call(O)==g}function D(O){if("number"==typeof O)return O;if(ne(O))return m;if(z(O)){var k="function"==typeof O.valueOf?O.valueOf():O;O=z(k)?k+"":k}if("string"!=typeof O)return 0===O?O:+O;O=O.replace(a,"");var N=r.test(O);return N||o.test(O)?h(O.slice(2),N?2:8):A.test(O)?m:+O}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},S="Expected a function",m=NaN,g="[object Symbol]",a=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,h=parseInt,M="object"==(typeof f>"u"?"undefined":u(f))&&f&&f.Object===Object&&f,v="object"==(typeof self>"u"?"undefined":u(self))&&self&&self.Object===Object&&self,b=M||v||Function("return this")(),s=Object.prototype.toString,y=Math.max,C=Math.min,x=function(){return b.Date.now()};F.exports=function oe(O,k,N){function Z(Q){var W=I,ee=l;return I=l=void 0,E=Q,n=O.apply(ee,W)}function G(Q){return E=Q,c=setTimeout(B,k),P?Z(Q):n}function X(Q){var W=Q-_;return void 0===_||W>=k||W<0||R&&Q-E>=d}function B(){var Q=x();return X(Q)?$(Q):void(c=setTimeout(B,function U(Q){var se=k-(Q-_);return R?C(se,d-(Q-E)):se}(Q)))}function $(Q){return c=void 0,J&&I?Z(Q):(I=l=void 0,n)}function ce(){var Q=x(),W=X(Q);if(I=arguments,l=this,_=Q,W){if(void 0===c)return G(_);if(R)return c=setTimeout(B,k),Z(_)}return void 0===c&&(c=setTimeout(B,k)),n}var I,l,d,n,c,_,E=0,P=!1,R=!1,J=!0;if("function"!=typeof O)throw new TypeError(S);return k=D(k)||0,z(N)&&(P=!!N.leading,d=(R="maxWait"in N)?y(D(N.maxWait)||0,k):d,J="trailing"in N?!!N.trailing:J),ce.cancel=function te(){void 0!==c&&clearTimeout(c),E=0,I=_=l=c=void 0},ce.flush=function ie(){return void 0===c?n:$(x())},ce}}).call(K,function(){return this}())},function(F,K){"use strict";function f(u){var S=void 0,m=void 0;for(S=0;S<u.length;S+=1)if((m=u[S]).dataset&&m.dataset.aos||m.children&&f(m.children))return!0;return!1}function oe(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function ne(u){u&&u.forEach(function(S){var m=Array.prototype.slice.call(S.addedNodes),g=Array.prototype.slice.call(S.removedNodes);if(f(m.concat(g)))return D()})}Object.defineProperty(K,"__esModule",{value:!0});var D=function(){};K.default={isSupported:function z(){return!!oe()},ready:function e(u,S){var m=window.document,a=new(oe())(ne);D=S,a.observe(m.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(F,K){"use strict";function oe(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(K,"__esModule",{value:!0});var z=function(){function m(g,a){for(var A=0;A<a.length;A++){var r=a[A];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(g,r.key,r)}}return function(g,a,A){return a&&m(g.prototype,a),A&&m(g,A),g}}(),e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,ne=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,D=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,S=function(){function m(){!function f(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}(this,m)}return z(m,[{key:"phone",value:function(){var g=oe();return!(!e.test(g)&&!ne.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=oe();return!(!D.test(g)&&!u.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),m}();K.default=new S},function(F,K){"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.default=function(z,e){var ne=window.pageYOffset,D=window.innerHeight;z.forEach(function(u,S){!function(z,e,ne){var D=z.node.getAttribute("data-aos-once");e>z.position?z.node.classList.add("aos-animate"):typeof D<"u"&&("false"===D||!ne&&"true"!==D)&&z.node.classList.remove("aos-animate")}(u,D+ne,e)})}},function(F,K,f){"use strict";Object.defineProperty(K,"__esModule",{value:!0});var e=function oe(D){return D&&D.__esModule?D:{default:D}}(f(12));K.default=function(D,u){return D.forEach(function(S,m){S.node.classList.add("aos-init"),S.position=(0,e.default)(S.node,u.offset)}),D}},function(F,K,f){"use strict";Object.defineProperty(K,"__esModule",{value:!0});var e=function oe(D){return D&&D.__esModule?D:{default:D}}(f(13));K.default=function(D,u){var S=0,m=0,g=window.innerHeight,a={offset:D.getAttribute("data-aos-offset"),anchor:D.getAttribute("data-aos-anchor"),anchorPlacement:D.getAttribute("data-aos-anchor-placement")};switch(a.offset&&!isNaN(a.offset)&&(m=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(D=document.querySelectorAll(a.anchor)[0]),S=(0,e.default)(D).top,a.anchorPlacement){case"top-bottom":break;case"center-bottom":S+=D.offsetHeight/2;break;case"bottom-bottom":S+=D.offsetHeight;break;case"top-center":S+=g/2;break;case"bottom-center":S+=g/2+D.offsetHeight;break;case"center-center":S+=g/2+D.offsetHeight/2;break;case"top-top":S+=g;break;case"bottom-top":S+=D.offsetHeight+g;break;case"center-top":S+=D.offsetHeight/2+g}return a.anchorPlacement||a.offset||isNaN(u)||(m=u),S+m}},function(F,K){"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function(oe){for(var z=0,e=0;oe&&!isNaN(oe.offsetLeft)&&!isNaN(oe.offsetTop);)z+=oe.offsetLeft-("BODY"!=oe.tagName?oe.scrollLeft:0),e+=oe.offsetTop-("BODY"!=oe.tagName?oe.scrollTop:0),oe=oe.offsetParent;return{top:e,left:z}}},function(F,K){"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function(oe){return oe=oe||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(oe,function(z){return{node:z}})}}])},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,K;K=()=>(()=>{"use strict";var __webpack_modules__=[,(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.VerbosityLevel=F.Util=F.UnknownErrorException=F.UnexpectedResponseException=F.UNSUPPORTED_FEATURES=F.TextRenderingMode=F.StreamType=F.RenderingIntentFlag=F.PermissionFlag=F.PasswordResponses=F.PasswordException=F.PageActionEventType=F.OPS=F.MissingPDFException=F.InvalidPDFException=F.ImageKind=F.IDENTITY_MATRIX=F.FormatError=F.FontType=F.FeatureTest=F.FONT_IDENTITY_MATRIX=F.DocumentActionEventType=F.CMapCompressionType=F.BaseException=F.AnnotationType=F.AnnotationStateModelType=F.AnnotationReviewState=F.AnnotationReplyType=F.AnnotationMode=F.AnnotationMarkedState=F.AnnotationFlag=F.AnnotationFieldFlag=F.AnnotationBorderStyleType=F.AnnotationActionEventType=F.AbortException=void 0,F.arrayByteLength=Q,F.arraysToBytes=function W(ue){const q=ue.length;if(1===q&&ue[0]instanceof Uint8Array)return ue[0];let V=0;for(let Ae=0;Ae<q;Ae++)V+=Q(ue[Ae]);let fe=0;const ge=new Uint8Array(V);for(let Ae=0;Ae<q;Ae++){let Ce=ue[Ae];Ce instanceof Uint8Array||(Ce="string"==typeof Ce?J(Ce):new Uint8Array(Ce));const Oe=Ce.byteLength;ge.set(Ce,fe),fe+=Oe}return ge},F.assert=function $(ue,q){ue||B(q)},F.bytesToString=function R(ue){("object"!=typeof ue||null===ue||void 0===ue.length)&&B("Invalid argument for bytesToString");const q=ue.length,V=8192;if(q<V)return String.fromCharCode.apply(null,ue);const fe=[];for(let ge=0;ge<q;ge+=V){const Ae=Math.min(ge+V,q),Ce=ue.subarray(ge,Ae);fe.push(String.fromCharCode.apply(null,Ce))}return fe.join("")},F.createPromiseCapability=function Fe(){const ue=Object.create(null);let q=!1;return Object.defineProperty(ue,"settled",{get:()=>q}),ue.promise=new Promise(function(V,fe){ue.resolve=function(ge){q=!0,V(ge)},ue.reject=function(ge){q=!0,fe(ge)}}),ue},F.createValidAbsoluteUrl=function ie(ue,q=null,V=null){if(!ue)return null;try{if(V&&"string"==typeof ue){if(V.addDefaultProtocol&&ue.startsWith("www.")){const ge=ue.match(/\./g);ge&&ge.length>=2&&(ue=`http://${ue}`)}if(V.tryConvertEncoding)try{ue=me(ue)}catch{}}const fe=q?new URL(ue,q):new URL(ue);if(function te(ue){if(!ue)return!1;switch(ue.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(fe))return fe}catch{}return null},F.escapeString=function re(ue){return ue.replace(/([()\\\n\r])/g,q=>"\n"===q?"\\n":"\r"===q?"\\r":`\\${q}`)},F.getModificationDate=function Ie(ue=new Date){return[ue.getUTCFullYear().toString(),(ue.getUTCMonth()+1).toString().padStart(2,"0"),ue.getUTCDate().toString().padStart(2,"0"),ue.getUTCHours().toString().padStart(2,"0"),ue.getUTCMinutes().toString().padStart(2,"0"),ue.getUTCSeconds().toString().padStart(2,"0")].join("")},F.getVerbosityLevel=function G(){return N},F.info=function U(ue){N>=y.INFOS&&console.log(`Info: ${ue}`)},F.isArrayBuffer=function Te(ue){return"object"==typeof ue&&null!==ue&&void 0!==ue.byteLength},F.isArrayEqual=function Me(ue,q){if(ue.length!==q.length)return!1;for(let V=0,fe=ue.length;V<fe;V++)if(ue[V]!==q[V])return!1;return!0},F.isAscii=function ye(ue){return/^[\x00-\x7F]*$/.test(ue)},F.objectFromMap=function de(ue){const q=Object.create(null);for(const[V,fe]of ue)q[V]=fe;return q},F.objectSize=function se(ue){return Object.keys(ue).length},F.setVerbosityLevel=function Z(ue){Number.isInteger(ue)&&(N=ue)},F.shadow=ce,F.string32=function ee(ue){return String.fromCharCode(ue>>24&255,ue>>16&255,ue>>8&255,255&ue)},F.stringToBytes=J,F.stringToPDFString=function H(ue){if(ue[0]>="\xef"){let V;if("\xfe"===ue[0]&&"\xff"===ue[1]?V="utf-16be":"\xff"===ue[0]&&"\xfe"===ue[1]?V="utf-16le":"\xef"===ue[0]&&"\xbb"===ue[1]&&"\xbf"===ue[2]&&(V="utf-8"),V)try{const fe=new TextDecoder(V,{fatal:!0}),ge=J(ue);return fe.decode(ge)}catch(fe){X(`stringToPDFString: "${fe}".`)}}const q=[];for(let V=0,fe=ue.length;V<fe;V++){const ge=w[ue.charCodeAt(V)];q.push(ge?String.fromCharCode(ge):ue.charAt(V))}return q.join("")},F.stringToUTF16BEString=function ve(ue){const q=["\xfe\xff"];for(let V=0,fe=ue.length;V<fe;V++){const ge=ue.charCodeAt(V);q.push(String.fromCharCode(ge>>8&255),String.fromCharCode(255&ge))}return q.join("")},F.stringToUTF8String=me,F.unreachable=B,F.utf8StringToString=function xe(ue){return unescape(encodeURIComponent(ue))},F.warn=X,K(2),F.IDENTITY_MATRIX=[1,0,0,1,0,0],F.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],F.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},F.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},F.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},F.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},F.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},F.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},F.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},F.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},F.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},F.AnnotationReplyType={GROUP:"Group",REPLY:"R"},F.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},F.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},F.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},F.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},F.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},F.PageActionEventType={O:"PageOpen",C:"PageClose"},F.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},F.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const y={ERRORS:0,WARNINGS:1,INFOS:5};F.VerbosityLevel=y,F.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},F.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},F.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},F.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let N=y.WARNINGS;function X(ue){N>=y.WARNINGS&&console.log(`Warning: ${ue}`)}function B(ue){throw new Error(ue)}function ce(ue,q,V){return Object.defineProperty(ue,q,{value:V,enumerable:!0,configurable:!0,writable:!1}),V}const I=function(){function q(V,fe){this.constructor===q&&B("Cannot initialize BaseException."),this.message=V,this.name=fe}return q.prototype=new Error,q.constructor=q,q}();function J(ue){"string"!=typeof ue&&B("Invalid argument for stringToBytes");const q=ue.length,V=new Uint8Array(q);for(let fe=0;fe<q;++fe)V[fe]=255&ue.charCodeAt(fe);return V}function Q(ue){return void 0!==ue.length?ue.length:void 0!==ue.byteLength?ue.byteLength:void B("Invalid argument for arrayByteLength")}F.BaseException=I,F.PasswordException=class l extends I{constructor(q,V){super(q,"PasswordException"),this.code=V}},F.UnknownErrorException=class d extends I{constructor(q,V){super(q,"UnknownErrorException"),this.details=V}},F.InvalidPDFException=class n extends I{constructor(q){super(q,"InvalidPDFException")}},F.MissingPDFException=class c extends I{constructor(q){super(q,"MissingPDFException")}},F.UnexpectedResponseException=class _ extends I{constructor(q,V){super(q,"UnexpectedResponseException"),this.status=V}},F.FormatError=class E extends I{constructor(q){super(q,"FormatError")}},F.AbortException=class P extends I{constructor(q){super(q,"AbortException")}},F.FeatureTest=class le{static get isLittleEndian(){return ce(this,"isLittleEndian",function _e(){const ue=new Uint8Array(4);return ue[0]=1,1===new Uint32Array(ue.buffer,0,1)[0]}())}static get isEvalSupported(){return ce(this,"isEvalSupported",function Pe(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const pe=[...Array(256).keys()].map(ue=>ue.toString(16).padStart(2,"0"));class he{static makeHexColor(q,V,fe){return`#${pe[q]}${pe[V]}${pe[fe]}`}static scaleMinMax(q,V){let fe;q[0]?(q[0]<0&&(fe=V[0],V[0]=V[1],V[1]=fe),V[0]*=q[0],V[1]*=q[0],q[3]<0&&(fe=V[2],V[2]=V[3],V[3]=fe),V[2]*=q[3],V[3]*=q[3]):(fe=V[0],V[0]=V[2],V[2]=fe,fe=V[1],V[1]=V[3],V[3]=fe,q[1]<0&&(fe=V[2],V[2]=V[3],V[3]=fe),V[2]*=q[1],V[3]*=q[1],q[2]<0&&(fe=V[0],V[0]=V[1],V[1]=fe),V[0]*=q[2],V[1]*=q[2]),V[0]+=q[4],V[1]+=q[4],V[2]+=q[5],V[3]+=q[5]}static transform(q,V){return[q[0]*V[0]+q[2]*V[1],q[1]*V[0]+q[3]*V[1],q[0]*V[2]+q[2]*V[3],q[1]*V[2]+q[3]*V[3],q[0]*V[4]+q[2]*V[5]+q[4],q[1]*V[4]+q[3]*V[5]+q[5]]}static applyTransform(q,V){return[q[0]*V[0]+q[1]*V[2]+V[4],q[0]*V[1]+q[1]*V[3]+V[5]]}static applyInverseTransform(q,V){const fe=V[0]*V[3]-V[1]*V[2];return[(q[0]*V[3]-q[1]*V[2]+V[2]*V[5]-V[4]*V[3])/fe,(-q[0]*V[1]+q[1]*V[0]+V[4]*V[1]-V[5]*V[0])/fe]}static getAxialAlignedBoundingBox(q,V){const fe=he.applyTransform(q,V),ge=he.applyTransform(q.slice(2,4),V),Ae=he.applyTransform([q[0],q[3]],V),Ce=he.applyTransform([q[2],q[1]],V);return[Math.min(fe[0],ge[0],Ae[0],Ce[0]),Math.min(fe[1],ge[1],Ae[1],Ce[1]),Math.max(fe[0],ge[0],Ae[0],Ce[0]),Math.max(fe[1],ge[1],Ae[1],Ce[1])]}static inverseTransform(q){const V=q[0]*q[3]-q[1]*q[2];return[q[3]/V,-q[1]/V,-q[2]/V,q[0]/V,(q[2]*q[5]-q[4]*q[3])/V,(q[4]*q[1]-q[5]*q[0])/V]}static apply3dTransform(q,V){return[q[0]*V[0]+q[1]*V[1]+q[2]*V[2],q[3]*V[0]+q[4]*V[1]+q[5]*V[2],q[6]*V[0]+q[7]*V[1]+q[8]*V[2]]}static singularValueDecompose2dScale(q){const V=[q[0],q[2],q[1],q[3]],fe=q[0]*V[0]+q[1]*V[2],Ce=q[2]*V[1]+q[3]*V[3],Oe=(fe+Ce)/2,Le=Math.sqrt((fe+Ce)**2-4*(fe*Ce-(q[2]*V[0]+q[3]*V[2])*(q[0]*V[1]+q[1]*V[3])))/2,Re=Oe-Le||1;return[Math.sqrt(Oe+Le||1),Math.sqrt(Re)]}static normalizeRect(q){const V=q.slice(0);return q[0]>q[2]&&(V[0]=q[2],V[2]=q[0]),q[1]>q[3]&&(V[1]=q[3],V[3]=q[1]),V}static intersect(q,V){const fe=Math.max(Math.min(q[0],q[2]),Math.min(V[0],V[2])),ge=Math.min(Math.max(q[0],q[2]),Math.max(V[0],V[2]));if(fe>ge)return null;const Ae=Math.max(Math.min(q[1],q[3]),Math.min(V[1],V[3])),Ce=Math.min(Math.max(q[1],q[3]),Math.max(V[1],V[3]));return Ae>Ce?null:[fe,Ae,ge,Ce]}static bezierBoundingBox(q,V,fe,ge,Ae,Ce,Oe,Le){const Ne=[],Re=[[],[]];let je,qe,Qe,De,He,We,Je,Ge;for(let lt=0;lt<2;++lt)if(0===lt?(qe=6*q-12*fe+6*Ae,je=-3*q+9*fe-9*Ae+3*Oe,Qe=3*fe-3*q):(qe=6*V-12*ge+6*Ce,je=-3*V+9*ge-9*Ce+3*Le,Qe=3*ge-3*V),Math.abs(je)<1e-12){if(Math.abs(qe)<1e-12)continue;De=-Qe/qe,0<De&&De<1&&Ne.push(De)}else Je=qe*qe-4*Qe*je,Ge=Math.sqrt(Je),!(Je<0)&&(He=(-qe+Ge)/(2*je),0<He&&He<1&&Ne.push(He),We=(-qe-Ge)/(2*je),0<We&&We<1&&Ne.push(We));let Ye,Xe=Ne.length;const tt=Xe;for(;Xe--;)De=Ne[Xe],Ye=1-De,Re[0][Xe]=Ye*Ye*Ye*q+3*Ye*Ye*De*fe+3*Ye*De*De*Ae+De*De*De*Oe,Re[1][Xe]=Ye*Ye*Ye*V+3*Ye*Ye*De*ge+3*Ye*De*De*Ce+De*De*De*Le;return Re[0][tt]=q,Re[1][tt]=V,Re[0][tt+1]=Oe,Re[1][tt+1]=Le,Re[0].length=Re[1].length=tt+2,[Math.min(...Re[0]),Math.min(...Re[1]),Math.max(...Re[0]),Math.max(...Re[1])]}}F.Util=he;const w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function me(ue){return decodeURIComponent(escape(ue))}},(be,F,K)=>{K(3)},(be,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.isNodeJS=void 0;const K=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);F.isNodeJS=K},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var be,K,f,oe,z,e,ne,D,Mt,S;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:g,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:A}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=g,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=A}function setPDFNetworkStreamFactory(g){createPDFNetworkStream=g}function getDocument(g){const a=new PDFDocumentLoadingTask;let A;if("string"==typeof g||g instanceof URL)A={url:g};else if((0,_util.isArrayBuffer)(g))A={data:g};else if(g instanceof PDFDataRangeTransport)A={range:g};else{if("object"!=typeof g)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!g.url&&!g.data&&!g.range)throw new Error("Invalid parameter object: need either .data, .range or .url");A=g}const r=Object.create(null);let o=null,h=null;for(const v in A){const b=A[v];switch(v){case"url":if(typeof window<"u")try{r[v]=new URL(b,window.location).href;continue}catch(i){(0,_util.warn)(`Cannot create valid URL: "${i}".`)}else if("string"==typeof b||b instanceof URL){r[v]=b.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":o=b;continue;case"worker":h=b;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&b instanceof Buffer)r[v]=new Uint8Array(b);else{if(b instanceof Uint8Array)break;if("string"==typeof b)r[v]=(0,_util.stringToBytes)(b);else if("object"!=typeof b||null===b||isNaN(b.length)){if(!(0,_util.isArrayBuffer)(b))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[v]=new Uint8Array(b)}else r[v]=new Uint8Array(b)}continue}r[v]=b}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),("object"!=typeof r.ownerDocument||null===r.ownerDocument)&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!h){const v={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};h=v.port?PDFWorker.fromPort(v):new PDFWorker(v),a._worker=h}const M=a.docId;return h.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const v=_fetchDocument(h,r,o,M),b=new Promise(function(i){let s;o?s=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},o):r.data||(s=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),i(s)});return Promise.all([v,b]).then(function([i,s]){if(a.destroyed)throw new Error("Loading aborted");const y=new _message_handler.MessageHandler(M,i,h.port),C=new WorkerTransport(y,a,s,r);a._transport=C,y.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(g,a,A,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(g,a,A,r){if(g.destroyed)throw new Error("Worker was destroyed");A&&(a.length=A.length,a.initialData=A.initialData,a.progressiveDone=A.progressiveDone,a.contentDispositionFilename=A.contentDispositionFilename);const o=yield g.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(g.destroyed)throw new Error("Worker was destroyed");return o})).apply(this,arguments)}const F=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+Wt(F,be)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}};let PDFDocumentLoadingTask=F;be=new WeakMap,ke(PDFDocumentLoadingTask,be,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,A,r=!1,o=null){this.length=a,this.initialData=A,this.progressiveDone=r,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,A){for(const r of this._rangeListeners)r(a,A)}onDataProgress(a,A){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(a,A)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const A of this._progressiveReadListeners)A(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,A){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,A){var o,r=this;this._pdfInfo=a,this._transport=A,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(o=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),r.stats||{streamTypes:{},fontTypes:{}}}),function(){return o.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,A,r,o,h=!1){this._pageIndex=a,this._pageInfo=A,this._ownerDocument=o,this._transport=r,this._stats=h?new _display_utils.StatTimer:null,this._pdfBug=h,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:A=this.rotate,offsetX:r=0,offsetY:o=0,dontFlip:h=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:A,offsetX:r,offsetY:o,dontFlip:h})}getAnnotations({intent:a="display"}={}){const A=this._transport.getRenderingIntent(a);let r=this._annotationPromises.get(A.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,A.renderingIntent),this._annotationPromises.set(A.cacheKey,r),r=r.then(o=>{for(const h of o)void 0!==h.titleObj&&Object.defineProperty(h,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),h.titleObj.str)}),void 0!==h.contentsObj&&Object.defineProperty(h,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),h.contentsObj.str)});return o})),r}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:A,intent:r="display",annotationMode:o=_util.AnnotationMode.ENABLE,transform:h=null,imageLayer:M=null,canvasFactory:v=null,background:b=null,optionalContentConfigPromise:i=null,annotationCanvasMap:s=null,pageColors:y=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&o===_util.AnnotationMode.ENABLE&&(o=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&o===_util.AnnotationMode.ENABLE&&(o=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const C=this._transport.getRenderingIntent(r,o);this.pendingCleanup=!1,i||(i=this._transport.getOptionalContentConfig());let x=this._intentStates.get(C.cacheKey);x||(x=Object.create(null),this._intentStates.set(C.cacheKey,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const O=v||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),k=!!(C.renderingIntent&_util.RenderingIntentFlag.PRINT);x.displayReadyCapability||(x.displayReadyCapability=(0,_util.createPromiseCapability)(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(C));const N=U=>{x.renderTasks.delete(Z),(this.cleanupAfterRender||k)&&(this.pendingCleanup=!0),this._tryCleanup(),U?(Z.capability.reject(U),this._abortOperatorList({intentState:x,reason:U instanceof Error?U:new Error(U)})):Z.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},Z=new InternalRenderTask({callback:N,params:{canvasContext:a,viewport:A,transform:h,imageLayer:M,background:b},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:s,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:O,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:y});(x.renderTasks||(x.renderTasks=new Set)).add(Z);const G=Z.task;return Promise.all([x.displayReadyCapability.promise,i]).then(([U,X])=>{this.pendingCleanup?N():(this._stats&&this._stats.time("Rendering"),Z.initializeGraphics({transparency:U,optionalContentConfig:X}),Z.operatorListChanged())}).catch(N),G}getOperatorList({intent:a="display",annotationMode:A=_util.AnnotationMode.ENABLE}={}){const o=this._transport.getRenderingIntent(a,A,!0);let M,h=this._intentStates.get(o.cacheKey);return h||(h=Object.create(null),this._intentStates.set(o.cacheKey,h)),h.opListReadCapability||(M=Object.create(null),M.operatorListChanged=function r(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(M))},h.opListReadCapability=(0,_util.createPromiseCapability)(),(h.renderTasks||(h.renderTasks=new Set)).add(M),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(o)),h.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:A=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===A},{highWaterMark:100,size:o=>o.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const A=this.streamTextContent(a);return new Promise(function(r,o){const M=A.getReader(),v={items:[],styles:Object.create(null)};!function h(){M.read().then(function({value:b,done:i}){i?r(v):(Object.assign(v.styles,b.styles),v.items.push(...b.items),h())},o)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const A of this._intentStates.values())if(this._abortOperatorList({intentState:A,reason:new Error("Page was destroyed."),force:!0}),!A.opListReadCapability)for(const r of A.renderTasks)a.push(r.completed),r.cancel();this.objs.clear();for(const A of this._bitmaps)A.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:A,operatorList:r}of this._intentStates.values())if(A.size>0||!r.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const A of this._bitmaps)A.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,A){const r=this._intentStates.get(A);!r||(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(a))}_renderPageChunk(a,A){for(let r=0,o=a.length;r<o;r++)A.operatorList.fnArray.push(a.fnArray[r]),A.operatorList.argsArray.push(a.argsArray[r]);A.operatorList.lastChunk=a.lastChunk;for(const r of A.renderTasks)r.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:A}){const o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:A,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),h=this._intentStates.get(A);h.streamReader=o;const M=()=>{o.read().then(({value:v,done:b})=>{b?h.streamReader=null:this._transport.destroyed||(this._renderPageChunk(v,h),M())},v=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const b of h.renderTasks)b.operatorListChanged();this._tryCleanup()}if(h.displayReadyCapability)h.displayReadyCapability.reject(v);else{if(!h.opListReadCapability)throw v;h.opListReadCapability.reject(v)}}})};M()}_abortOperatorList({intentState:a,reason:A,force:r=!1}){if(a.streamReader){if(!r){if(a.renderTasks.size>0)return;if(A instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:A,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(A.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[o,h]of this._intentStates)if(h===a){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,A){const r={data:structuredClone(a,A)};this._deferred.then(()=>{for(const o of this._listeners)o.call(this,r)})}addEventListener(a,A){this._listeners.push(A)}removeEventListener(a,A){const r=this._listeners.indexOf(A);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const g=document?.currentScript?.src;g&&(PDFWorkerUtil.fallbackWorkerSrc=g.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(g,a){let A;try{if(A=new URL(g),!A.origin||"null"===A.origin)return!1}catch{return!1}const r=new URL(a,A);return A.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(g){return URL.createObjectURL(new Blob([`importScripts("${g}");`]))};const _PDFWorker=class{constructor({name:g=null,port:a=null,verbosity:A=(0,_util.getVerbosityLevel)()}={}){if(a&&we(_PDFWorker,K).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=g,this.destroyed=!1,this.verbosity=A,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return we(_PDFWorker,K).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(g){this._port=g,this._messageHandler=new _message_handler.MessageHandler("main","worker",g),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let g=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,g)||(g=PDFWorkerUtil.createCDNWrapper(new URL(g,window.location).href));const a=new Worker(g),A=new _message_handler.MessageHandler("main","worker",a),r=()=>{a.removeEventListener("error",o),A.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=()=>{this._webWorker||r()};a.addEventListener("error",o),A.on("test",M=>{a.removeEventListener("error",o),this.destroyed?r():M?(this._messageHandler=A,this._port=a,this._webWorker=a,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),A.destroy(),a.terminate())}),A.on("ready",M=>{if(a.removeEventListener("error",o),this.destroyed)r();else try{h()}catch{this._setupFakeWorker()}});const h=()=>{const M=new Uint8Array;A.send("test",M,[M.buffer])};return void h()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(g=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const A="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(A+"_worker",A,a);g.setup(r,a);const o=new _message_handler.MessageHandler(A,A+"_worker",a);this._messageHandler=o,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})}).catch(g=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${g.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),we(_PDFWorker,K).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(g){if(!g?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return we(this,K).has(g.port)?we(this,K).get(g.port):new _PDFWorker(g)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function g(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;K=new WeakMap,ke(PDFWorker,K,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(a,A,r,o){ke(this,f,null),ke(this,oe,new Map),ke(this,z,new Map),ke(this,e,null),this.messageHandler=a,this.loadingTask=A,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:A.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this._params=o,o.useWorkerFetch||(this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.StandardFontDataFactory=new o.StandardFontDataFactory({baseUrl:o.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return we(this,f)}getRenderingIntent(a,A=_util.AnnotationMode.ENABLE,r=!1){let o=_util.RenderingIntentFlag.DISPLAY,h="";switch(a){case"any":o=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":o=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(A){case _util.AnnotationMode.DISABLE:o+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:o+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:o+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,h=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${A}`)}return r&&(o+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:o,cacheKey:`${o}_${h}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const r of we(this,oe).values())a.push(r._destroy());we(this,oe).clear(),we(this,z).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const A=this.messageHandler.sendWithPromise("Terminate",null);return a.push(A),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ue(this,e,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:A}=this;a.on("GetReader",(r,o)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=h=>{this._lastProgress={loaded:h.loaded,total:h.total}},o.onPull=()=>{this._fullReader.read().then(function({value:h,done:M}){M?o.close():((0,_util.assert)((0,_util.isArrayBuffer)(h),"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(h),1,[h]))}).catch(h=>{o.error(h)})},o.onCancel=h=>{this._fullReader.cancel(h),o.ready.catch(M=>{if(!this.destroyed)throw M})}}),a.on("ReaderHeadersReady",r=>{const o=(0,_util.createPromiseCapability)(),h=this._fullReader;return h.headersReady.then(()=>{(!h.isStreamingSupported||!h.isRangeSupported)&&(this._lastProgress&&A.onProgress?.(this._lastProgress),h.onProgress=M=>{A.onProgress?.({loaded:M.loaded,total:M.total})}),o.resolve({isStreamingSupported:h.isStreamingSupported,isRangeSupported:h.isRangeSupported,contentLength:h.contentLength})},o.reject),o.promise}),a.on("GetRangeReader",(r,o)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const h=this._networkStream.getRangeReader(r.begin,r.end);h?(o.onPull=()=>{h.read().then(function({value:M,done:v}){v?o.close():((0,_util.assert)((0,_util.isArrayBuffer)(M),"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(M),1,[M]))}).catch(M=>{o.error(M)})},o.onCancel=M=>{h.cancel(M),o.ready.catch(v=>{if(!this.destroyed)throw v})}):o.close()}),a.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,A._capability.resolve(new PDFDocumentProxy(r,this))}),a.on("DocException",function(r){let o;switch(r.name){case"PasswordException":o=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":o=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":o=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":o=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":o=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}A._capability.reject(o)}),a.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),A.onPassword){const o=h=>{h instanceof Error?this._passwordCapability.reject(h):this._passwordCapability.resolve({password:h})};try{A.onPassword(o,r.code)}catch(h){this._passwordCapability.reject(h)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),a.on("DataLoaded",r=>{A.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),a.on("StartRenderPage",r=>{this.destroyed||we(this,oe).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),a.on("commonobj",([r,o,h])=>{if(!this.destroyed&&!this.commonObjs.has(r))switch(o){case"Font":const M=this._params;if("error"in h){const i=h.error;(0,_util.warn)(`Error during font loading: ${i}`),this.commonObjs.resolve(r,i);break}let v=null;M.pdfBug&&globalThis.FontInspector?.enabled&&(v={registerFont(i,s){globalThis.FontInspector.fontAdded(i,s)}});const b=new _font_loader.FontFaceObject(h,{isEvalSupported:M.isEvalSupported,disableFontFace:M.disableFontFace,ignoreErrors:M.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:v});this.fontLoader.bind(b).catch(i=>a.sendWithPromise("FontFallback",{id:r})).finally(()=>{!M.fontExtraProperties&&b.data&&(b.data=null),this.commonObjs.resolve(r,b)});break;case"FontPath":case"Image":this.commonObjs.resolve(r,h);break;default:throw new Error(`Got unknown common object type ${o}`)}}),a.on("obj",([r,o,h,M])=>{if(this.destroyed)return;const v=we(this,oe).get(o);if(!v.objs.has(r))switch(h){case"Image":v.objs.resolve(r,M);const b=8e6;if(M){let i;if(M.bitmap){const{bitmap:s,width:y,height:C}=M;i=y*C*4,v._bitmaps.add(s)}else i=M.data?.length||0;i>b&&(v.cleanupAfterRender=!0)}break;case"Pattern":v.objs.resolve(r,M);break;default:throw new Error(`Got unknown object type ${h}`)}}),a.on("DocProgress",r=>{this.destroyed||A.onProgress?.({loaded:r.loaded,total:r.total})}),a.on("DocStats",r=>{this.destroyed||Ue(this,f,Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const A=a-1,r=we(this,z).get(A);if(r)return r;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:A}).then(h=>{if(this.destroyed)throw new Error("Transport destroyed");const M=new PDFPageProxy(A,h,this,this._params.ownerDocument,this._params.pdfBug);return we(this,oe).set(A,M),M});return we(this,z).set(A,o),o}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,A){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:A})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return we(this,e)||Ue(this,e,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var A=this;return _asyncToGenerator(function*(){if(yield A.messageHandler.sendWithPromise("Cleanup",null),!A.destroyed){for(const r of we(A,oe).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);A.commonObjs.clear(),a||A.fontLoader.clear(),Ue(A,e,null),A._getFieldObjectsPromise=null,A._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}f=new WeakMap,oe=new WeakMap,z=new WeakMap,e=new WeakMap;class PDFObjects{constructor(){ke(this,D),ke(this,ne,Object.create(null))}get(a,A=null){if(A){const o=Ee(this,D,Mt).call(this,a);return o.capability.promise.then(()=>A(o.data)),null}const r=we(this,ne)[a];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return r.data}has(a){return we(this,ne)[a]?.capability.settled||!1}resolve(a,A=null){const r=Ee(this,D,Mt).call(this,a);r.data=A,r.capability.resolve()}clear(){Ue(this,ne,Object.create(null))}}ne=new WeakMap,D=new WeakSet,Mt=function(a){return we(this,ne)[a]||(we(this,ne)[a]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const m=class{constructor({callback:a,params:A,objs:r,commonObjs:o,annotationCanvasMap:h,operatorList:M,pageIndex:v,canvasFactory:b,useRequestAnimationFrame:i=!1,pdfBug:s=!1,pageColors:y=null}){this.callback=a,this.params=A,this.objs=r,this.commonObjs=o,this.annotationCanvasMap=h,this.operatorListIdx=null,this.operatorList=M,this._pageIndex=v,this.canvasFactory=b,this._pdfBug=s,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=A.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:A}){if(this.cancelled)return;if(this._canvas){if(we(m,S).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");we(m,S).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:o,transform:h,imageLayer:M,background:v}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,M,A,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:h,viewport:o,transparency:a,background:v}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&we(m,S).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&we(m,S).delete(a._canvas),a.callback())))})()}};let InternalRenderTask=m;S=new WeakMap,ke(InternalRenderTask,S,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.StatTimer=F.RenderingCancelledException=F.PixelsPerInch=F.PageViewport=F.PDFDateString=F.DOMStandardFontDataFactory=F.DOMSVGFactory=F.DOMCanvasFactory=F.DOMCMapReaderFactory=void 0,F.deprecated=function s(k){console.log("Deprecated API usage: "+k)},F.getFilenameFromUrl=function h(k){const N=k.indexOf("#"),Z=k.indexOf("?"),G=Math.min(N>0?N:k.length,Z>0?Z:k.length);return k.substring(k.lastIndexOf("/",G)+1,G)},F.getPdfFilenameFromUrl=function M(k,N="document.pdf"){if("string"!=typeof k)return N;if(r(k))return(0,oe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),N;const G=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,U=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(k);let X=G.exec(U[1])||G.exec(U[2])||G.exec(U[3]);if(X&&(X=X[0],X.includes("%")))try{X=G.exec(decodeURIComponent(X))[0]}catch{}return X||N},F.getXfaPageViewport=function x(k,{scale:N=1,rotation:Z=0}){const{width:G,height:U}=k.attributes.style,X=[0,0,parseInt(G),parseInt(U)];return new a({viewBox:X,scale:N,rotation:Z})},F.isDataScheme=r,F.isPdfFile=function o(k){return"string"==typeof k&&/\.pdf$/i.test(k)},F.isValidFetchUrl=b,F.loadScript=function i(k,N=!1){return new Promise((Z,G)=>{const U=document.createElement("script");U.src=k,U.onload=function(X){N&&U.remove(),Z(X)},U.onerror=function(){G(new Error(`Cannot load script at: ${U.src}`))},(document.head||document.documentElement).appendChild(U)})};var f=K(6),oe=K(1);const O=class{};let y,e=O;function D(k){return u.apply(this,arguments)}function u(){return(u=_asyncToGenerator(function*(k,N=!1){if(b(k,document.baseURI)){const Z=yield fetch(k);if(!Z.ok)throw new Error(Z.statusText);return N?new Uint8Array(yield Z.arrayBuffer()):(0,oe.stringToBytes)(yield Z.text())}return new Promise((Z,G)=>{const U=new XMLHttpRequest;U.open("GET",k,!0),N&&(U.responseType="arraybuffer"),U.onreadystatechange=()=>{if(U.readyState===XMLHttpRequest.DONE){if(200===U.status||0===U.status){let X;if(N&&U.response?X=new Uint8Array(U.response):!N&&U.responseText&&(X=(0,oe.stringToBytes)(U.responseText)),X)return void Z(X)}G(new Error(U.statusText))}},U.send(null)})})).apply(this,arguments)}At(e,"CSS",96),At(e,"PDF",72),At(e,"PDF_TO_CSS_UNITS",O.CSS/O.PDF),F.PixelsPerInch=e,F.DOMCanvasFactory=class ne extends f.BaseCanvasFactory{constructor({ownerDocument:N=globalThis.document}={}){super(),this._document=N}_createCanvas(N,Z){const G=this._document.createElement("canvas");return G.width=N,G.height=Z,G}},F.DOMCMapReaderFactory=class S extends f.BaseCMapReaderFactory{_fetchData(N,Z){return D(N,this.isCompressed).then(G=>({cMapData:G,compressionType:Z}))}},F.DOMStandardFontDataFactory=class m extends f.BaseStandardFontDataFactory{_fetchData(N){return D(N,!0)}},F.DOMSVGFactory=class g extends f.BaseSVGFactory{_createSVG(N){return document.createElementNS("http://www.w3.org/2000/svg",N)}};class a{constructor({viewBox:N,scale:Z,rotation:G,offsetX:U=0,offsetY:X=0,dontFlip:B=!1}){this.viewBox=N,this.scale=Z,this.rotation=G,this.offsetX=U,this.offsetY=X;const $=(N[2]+N[0])/2,te=(N[3]+N[1])/2;let ie,ce,I,l,d,n,c,_;switch((G%=360)<0&&(G+=360),G){case 180:ie=-1,ce=0,I=0,l=1;break;case 90:ie=0,ce=1,I=1,l=0;break;case 270:ie=0,ce=-1,I=-1,l=0;break;case 0:ie=1,ce=0,I=0,l=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}B&&(I=-I,l=-l),0===ie?(d=Math.abs(te-N[1])*Z+U,n=Math.abs($-N[0])*Z+X,c=Math.abs(N[3]-N[1])*Z,_=Math.abs(N[2]-N[0])*Z):(d=Math.abs($-N[0])*Z+U,n=Math.abs(te-N[1])*Z+X,c=Math.abs(N[2]-N[0])*Z,_=Math.abs(N[3]-N[1])*Z),this.transform=[ie*Z,ce*Z,I*Z,l*Z,d-ie*Z*$-I*Z*te,n-ce*Z*$-l*Z*te],this.width=c,this.height=_}clone({scale:N=this.scale,rotation:Z=this.rotation,offsetX:G=this.offsetX,offsetY:U=this.offsetY,dontFlip:X=!1}={}){return new a({viewBox:this.viewBox.slice(),scale:N,rotation:Z,offsetX:G,offsetY:U,dontFlip:X})}convertToViewportPoint(N,Z){return oe.Util.applyTransform([N,Z],this.transform)}convertToViewportRectangle(N){const Z=oe.Util.applyTransform([N[0],N[1]],this.transform),G=oe.Util.applyTransform([N[2],N[3]],this.transform);return[Z[0],Z[1],G[0],G[1]]}convertToPdfPoint(N,Z){return oe.Util.applyInverseTransform([N,Z],this.transform)}}function r(k){const N=k.length;let Z=0;for(;Z<N&&""===k[Z].trim();)Z++;return"data:"===k.substring(Z,Z+5).toLowerCase()}function b(k,N){try{const{protocol:Z}=N?new URL(k,N):new URL(k);return"http:"===Z||"https:"===Z}catch{return!1}}F.PageViewport=a,F.RenderingCancelledException=class A extends oe.BaseException{constructor(N,Z){super(N,"RenderingCancelledException"),this.type=Z}},F.StatTimer=class v{constructor(){this.started=Object.create(null),this.times=[]}time(N){N in this.started&&(0,oe.warn)(`Timer is already running for ${N}`),this.started[N]=Date.now()}timeEnd(N){N in this.started||(0,oe.warn)(`Timer has not been started for ${N}`),this.times.push({name:N,start:this.started[N],end:Date.now()}),delete this.started[N]}toString(){const N=[];let Z=0;for(const G of this.times){const U=G.name;U.length>Z&&(Z=U.length)}for(const G of this.times){const U=G.end-G.start;N.push(`${G.name.padEnd(Z)} ${U}ms\n`)}return N.join("")}},F.PDFDateString=class C{static toDateObject(N){if(!N||"string"!=typeof N)return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Z=y.exec(N);if(!Z)return null;const G=parseInt(Z[1],10);let U=parseInt(Z[2],10);U=U>=1&&U<=12?U-1:0;let X=parseInt(Z[3],10);X=X>=1&&X<=31?X:1;let B=parseInt(Z[4],10);B=B>=0&&B<=23?B:0;let $=parseInt(Z[5],10);$=$>=0&&$<=59?$:0;let te=parseInt(Z[6],10);te=te>=0&&te<=59?te:0;const ie=Z[7]||"Z";let ce=parseInt(Z[8],10);ce=ce>=0&&ce<=23?ce:0;let I=parseInt(Z[9],10)||0;return I=I>=0&&I<=59?I:0,"-"===ie?(B+=ce,$+=I):"+"===ie&&(B-=ce,$-=I),new Date(Date.UTC(G,U,X,B,$,te))}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.BaseStandardFontDataFactory=F.BaseSVGFactory=F.BaseCanvasFactory=F.BaseCMapReaderFactory=void 0;var f=K(1);class oe{constructor(){this.constructor===oe&&(0,f.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,S){if(u<=0||S<=0)throw new Error("Invalid canvas size");const m=this._createCanvas(u,S);return{canvas:m,context:m.getContext("2d")}}reset(u,S,m){if(!u.canvas)throw new Error("Canvas is not specified");if(S<=0||m<=0)throw new Error("Invalid canvas size");u.canvas.width=S,u.canvas.height=m}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,S){(0,f.unreachable)("Abstract method `_createCanvas` called.")}}F.BaseCanvasFactory=oe;class z{constructor({baseUrl:u=null,isCompressed:S=!1}){this.constructor===z&&(0,f.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=S}fetch({name:u}){var S=this;return _asyncToGenerator(function*(){if(!S.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");const m=S.baseUrl+u+(S.isCompressed?".bcmap":"");return S._fetchData(m,S.isCompressed?f.CMapCompressionType.BINARY:f.CMapCompressionType.NONE).catch(a=>{throw new Error(`Unable to load ${S.isCompressed?"binary ":""}CMap at: ${m}`)})})()}_fetchData(u,S){(0,f.unreachable)("Abstract method `_fetchData` called.")}}F.BaseCMapReaderFactory=z;class e{constructor({baseUrl:u=null}){this.constructor===e&&(0,f.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}fetch({filename:u}){var S=this;return _asyncToGenerator(function*(){if(!S.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");const m=`${S.baseUrl}${u}`;return S._fetchData(m).catch(g=>{throw new Error(`Unable to load font data at: ${m}`)})})()}_fetchData(u){(0,f.unreachable)("Abstract method `_fetchData` called.")}}F.BaseStandardFontDataFactory=e;class ne{constructor(){this.constructor===ne&&(0,f.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,S){if(u<=0||S<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),m.setAttribute("width",`${u}px`),m.setAttribute("height",`${S}px`),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${u} ${S}`),m}createElement(u){if("string"!=typeof u)throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,f.unreachable)("Abstract method `_createSVG` called.")}}F.BaseSVGFactory=ne},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.FontLoader=F.FontFaceObject=void 0;var f=K(1);class oe{constructor({docId:D,onUnsupportedFeature:u,ownerDocument:S=globalThis.document,styleElement:m=null}){this.constructor===oe&&(0,f.unreachable)("Cannot initialize BaseFontLoader."),this.docId=D,this._onUnsupportedFeature=u,this._document=S,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(D){this.nativeFontFaces.push(D),this._document.fonts.add(D)}insertRule(D){let u=this.styleElement;u||(u=this.styleElement=this._document.createElement("style"),u.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(u));const S=u.sheet;S.insertRule(D,S.cssRules.length)}clear(){for(const D of this.nativeFontFaces)this._document.fonts.delete(D);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(D){var u=this;return _asyncToGenerator(function*(){if(D.attached||D.missingFile)return;if(D.attached=!0,u.isFontLoadingAPISupported){const m=D.createNativeFontFace();if(m){u.addNativeFontFace(m);try{yield m.loaded}catch(g){throw u._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,f.warn)(`Failed to load font '${m.family}': '${g}'.`),D.disableFontFace=!0,g}}return}const S=D.createFontFaceRule();if(S){if(u.insertRule(S),u.isSyncFontLoadingSupported)return;yield new Promise(m=>{const g=u._queueLoadingCallback(m);u._prepareFontLoadEvent([S],[D],g)})}})()}_queueLoadingCallback(D){(0,f.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,f.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,f.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,f.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(D,u,S){(0,f.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let z;F.FontLoader=z,F.FontLoader=z=class extends oe{constructor(D){super(D),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let D=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(D=!0),(0,f.shadow)(this,"isSyncFontLoadingSupported",D)}_queueLoadingCallback(D){const S=this.loadingContext,m={id:"pdfjs-font-loading-"+S.nextRequestId++,done:!1,complete:function u(){for((0,f.assert)(!m.done,"completeRequest() cannot be called twice."),m.done=!0;S.requests.length>0&&S.requests[0].done;){const g=S.requests.shift();setTimeout(g.callback,0)}},callback:D};return S.requests.push(m),m}get _loadTestFont(){return(0,f.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(D,u,S){function m(Z,G){return Z.charCodeAt(G)<<24|Z.charCodeAt(G+1)<<16|Z.charCodeAt(G+2)<<8|255&Z.charCodeAt(G+3)}function g(Z,G,U,X){return Z.substring(0,G)+X+Z.substring(G+U)}let a,A;const r=this._document.createElement("canvas");r.width=1,r.height=1;const o=r.getContext("2d");let h=0;const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=g(b,976,v.length,v);const y=1482184792;let C=m(b,16);for(a=0,A=v.length-3;a<A;a+=4)C=C-y+m(v,a)|0;a<v.length&&(C=C-y+m(v+"XXX",a)|0),b=g(b,16,4,(0,f.string32)(C));const x=`url(data:font/opentype;base64,${btoa(b)});`;this.insertRule(`@font-face {font-family:"${v}";src:${x}}`);const k=[];for(const Z of u)k.push(Z.loadedName);k.push(v);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const Z of k){const G=this._document.createElement("span");G.textContent="Hi",G.style.fontFamily=Z,N.appendChild(G)}this._document.body.appendChild(N),function M(Z,G){if(h++,h>30)return(0,f.warn)("Load test font never loaded."),void G();o.font="30px "+Z,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?G():setTimeout(M.bind(null,Z,G))}(v,()=>{N.remove(),S.complete()})}},F.FontFaceObject=class e{constructor(D,{isEvalSupported:u=!0,disableFontFace:S=!1,ignoreErrors:m=!1,onUnsupportedFeature:g,fontRegistry:a=null}){this.compiledGlyphs=Object.create(null);for(const A in D)this[A]=D[A];this.isEvalSupported=!1!==u,this.disableFontFace=!0===S,this.ignoreErrors=!0===m,this._onUnsupportedFeature=g,this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let D;if(this.cssFontInfo){const u={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(u.style=`oblique ${this.cssFontInfo.italicAngle}deg`),D=new FontFace(this.cssFontInfo.fontFamily,this.data,u)}else D=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),D}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const D=(0,f.bytesToString)(this.data),u=`url(data:${this.mimetype};base64,${btoa(D)});`;let S;if(this.cssFontInfo){let m=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(m+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),S=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${m}src:${u}}`}else S=`@font-face {font-family:"${this.loadedName}";src:${u}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,u),S}getPathGenerator(D,u){if(void 0!==this.compiledGlyphs[u])return this.compiledGlyphs[u];let S;try{S=D.get(this.loadedName+"_path_"+u)}catch(m){if(!this.ignoreErrors)throw m;return this._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,f.warn)(`getPathGenerator - ignoring character: "${m}".`),this.compiledGlyphs[u]=function(g,a){}}if(this.isEvalSupported&&f.FeatureTest.isEvalSupported){const m=[];for(const g of S){const a=void 0!==g.args?g.args.join(","):"";m.push("c.",g.cmd,"(",a,");\n")}return this.compiledGlyphs[u]=new Function("c","size",m.join(""))}return this.compiledGlyphs[u]=function(m,g){for(const a of S)"scale"===a.cmd&&(a.args=[g,-g]),m[a.cmd].apply(m,a.args)}}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.AnnotationStorage=void 0;var f=K(9),oe=K(1);F.AnnotationStorage=class z{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ne,D){const u=this._storage.get(ne);return void 0===u?D:Object.assign(D,u)}getRawValue(ne){return this._storage.get(ne)}setValue(ne,D){const u=this._storage.get(ne);let S=!1;if(void 0!==u)for(const[m,g]of Object.entries(D))u[m]!==g&&(S=!0,u[m]=g);else S=!0,this._storage.set(ne,D);S&&this._setModified()}getAll(){return this._storage.size>0?(0,oe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ne=new f.MurmurHash3_64;for(const[D,u]of this._storage)ne.update(`${D}:${JSON.stringify(u)}`);return ne.hexdigest()}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.MurmurHash3_64=void 0;var f=K(1);const oe=3285377520,z=4294901760,e=65535;F.MurmurHash3_64=class ne{constructor(u){this.h1=u?4294967295&u:oe,this.h2=u?4294967295&u:oe}update(u){let S,m;if("string"==typeof u){S=new Uint8Array(2*u.length),m=0;for(let y=0,C=u.length;y<C;y++){const x=u.charCodeAt(y);x<=255?S[m++]=x:(S[m++]=x>>>8,S[m++]=255&x)}}else{if(!(0,f.isArrayBuffer)(u))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");S=u.slice(),m=S.byteLength}const g=m>>2,a=m-4*g,A=new Uint32Array(S.buffer,0,g);let r=0,o=0,h=this.h1,M=this.h2;const v=3432918353,b=461845907,i=v&e,s=b&e;for(let y=0;y<g;y++)1&y?(r=A[y],r=r*v&z|r*i&e,r=r<<15|r>>>17,r=r*b&z|r*s&e,h^=r,h=h<<13|h>>>19,h=5*h+3864292196):(o=A[y],o=o*v&z|o*i&e,o=o<<15|o>>>17,o=o*b&z|o*s&e,M^=o,M=M<<13|M>>>19,M=5*M+3864292196);switch(r=0,a){case 3:r^=S[4*g+2]<<16;case 2:r^=S[4*g+1]<<8;case 1:r^=S[4*g],r=r*v&z|r*i&e,r=r<<15|r>>>17,r=r*b&z|r*s&e,1&g?h^=r:M^=r}this.h1=h,this.h2=M}hexdigest(){let u=this.h1,S=this.h2;u^=S>>>1,u=3981806797*u&z|36045*u&e,S=4283543511*S&z|(2950163797*(S<<16|u>>>16)&z)>>>16,u^=S>>>1,u=444984403*u&z|60499*u&e,S=3301882366*S&z|(3120437893*(S<<16|u>>>16)&z)>>>16,u^=S>>>1;const m=(u>>>0).toString(16),g=(S>>>0).toString(16);return m.padStart(8,"0")+g.padStart(8,"0")}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.CanvasGraphics=void 0;var f=K(1),oe=K(11),z=K(12),e=K(3),ne=K(5);const S=4096,r=16;function M(I){if(I._transformStack&&(I._transformStack=[]),!I.mozCurrentTransform){I._originalSave=I.save,I._originalRestore=I.restore,I._originalRotate=I.rotate,I._originalScale=I.scale,I._originalTranslate=I.translate,I._originalTransform=I.transform,I._originalSetTransform=I.setTransform,I._originalResetTransform=I.resetTransform,I._transformMatrix=I._transformMatrix||[1,0,0,1,0,0],I._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(I),"lineWidth");I._setLineWidth=l.set,I._getLineWidth=l.get,Object.defineProperty(I,"lineWidth",{set:function(n){this._setLineWidth(1.000001*n)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(I,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(I,"mozCurrentTransformInverse",{get:function(){const[d,n,c,_,E,P]=this._transformMatrix,R=d*_-n*c,J=n*c-d*_;return[_/R,n/J,c/J,d/R,(_*E-c*P)/J,(n*E-d*P)/R]}}),I.save=function(){const d=this._transformMatrix;this._transformStack.push(d),this._transformMatrix=d.slice(0,6),this._originalSave()},I.restore=function(){0===this._transformStack.length&&(0,f.warn)("Tried to restore a ctx when the stack was already empty.");const d=this._transformStack.pop();d&&(this._transformMatrix=d,this._originalRestore())},I.translate=function(d,n){const c=this._transformMatrix;c[4]=c[0]*d+c[2]*n+c[4],c[5]=c[1]*d+c[3]*n+c[5],this._originalTranslate(d,n)},I.scale=function(d,n){const c=this._transformMatrix;c[0]*=d,c[1]*=d,c[2]*=n,c[3]*=n,this._originalScale(d,n)},I.transform=function(d,n,c,_,E,P){const R=this._transformMatrix;this._transformMatrix=[R[0]*d+R[2]*n,R[1]*d+R[3]*n,R[0]*c+R[2]*_,R[1]*c+R[3]*_,R[0]*E+R[2]*P+R[4],R[1]*E+R[3]*P+R[5]],I._originalTransform(d,n,c,_,E,P)},I.setTransform=function(d,n,c,_,E,P){this._transformMatrix=[d,n,c,_,E,P],I._originalSetTransform(d,n,c,_,E,P)},I.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],I._originalResetTransform()},I.rotate=function(d){const n=Math.cos(d),c=Math.sin(d),_=this._transformMatrix;this._transformMatrix=[_[0]*n+_[2]*c,_[1]*n+_[3]*c,_[0]*-c+_[2]*n,_[1]*-c+_[3]*n,_[4],_[5]],this._originalRotate(d)}}}class v{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,d,n,c){let _;return void 0!==this.cache[l]?(_=this.cache[l],this.canvasFactory.reset(_,d,n),_.context.setTransform(1,0,0,1,0,0)):(_=this.canvasFactory.create(d,n),this.cache[l]=_),c&&M(_.context),_}delete(l){delete this.cache[l]}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}function b(I,l,d,n,c,_,E,P,R,J){const[Q,W,ee,se,de,_e]=I.mozCurrentTransform;if(0===W&&0===ee){const he=Math.round(E*Q+de),H=Math.round(P*se+_e),ye=Math.abs(Math.round((E+R)*Q+de)-he)||1,me=Math.abs(Math.round((P+J)*se+_e)-H)||1;return I.setTransform(Math.sign(Q),0,0,Math.sign(se),he,H),I.drawImage(l,d,n,c,_,0,0,ye,me),I.setTransform(Q,W,ee,se,de,_e),[ye,me]}if(0===Q&&0===se){const he=Math.round(P*ee+de),H=Math.round(E*W+_e),ye=Math.abs(Math.round((P+J)*ee+de)-he)||1,me=Math.abs(Math.round((E+R)*W+_e)-H)||1;return I.setTransform(0,Math.sign(W),Math.sign(ee),0,he,H),I.drawImage(l,d,n,c,_,0,0,me,ye),I.setTransform(Q,W,ee,se,de,_e),[me,ye]}return I.drawImage(l,d,n,c,_,E,P,R,J),[Math.hypot(Q,W)*R,Math.hypot(ee,se)*J]}class s{constructor(l,d){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=f.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=f.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,d])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,d){this.x=l,this.y=d}updatePathMinMax(l,d,n){[d,n]=f.Util.applyTransform([d,n],l),this.minX=Math.min(this.minX,d),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,d),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(l,d){const n=f.Util.applyTransform(d,l),c=f.Util.applyTransform(d.slice(2),l);this.minX=Math.min(this.minX,n[0],c[0]),this.minY=Math.min(this.minY,n[1],c[1]),this.maxX=Math.max(this.maxX,n[0],c[0]),this.maxY=Math.max(this.maxY,n[1],c[1])}updateScalingPathMinMax(l,d){f.Util.scaleMinMax(l,d),this.minX=Math.min(this.minX,d[0]),this.maxX=Math.max(this.maxX,d[1]),this.minY=Math.min(this.minY,d[2]),this.maxY=Math.max(this.maxY,d[3])}updateCurvePathMinMax(l,d,n,c,_,E,P,R,J,Q){const W=f.Util.bezierBoundingBox(d,n,c,_,E,P,R,J);if(Q)return Q[0]=Math.min(Q[0],W[0],W[2]),Q[1]=Math.max(Q[1],W[0],W[2]),Q[2]=Math.min(Q[2],W[1],W[3]),void(Q[3]=Math.max(Q[3],W[1],W[3]));this.updateRectMinMax(l,W)}getPathBoundingBox(l=oe.PathType.FILL,d=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(l===oe.PathType.STROKE){d||(0,f.unreachable)("Stroke bounding box must include transform.");const c=f.Util.singularValueDecompose2dScale(d),_=c[0]*this.lineWidth/2,E=c[1]*this.lineWidth/2;n[0]-=_,n[1]-=E,n[2]+=_,n[3]+=E}return n}updateClipFromPath(){const l=f.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=oe.PathType.FILL,d=null){return f.Util.intersect(this.clipBox,this.getPathBoundingBox(l,d))}}function y(I,l,d=null){if(typeof ImageData<"u"&&l instanceof ImageData)return void I.putImageData(l,0,0);const n=l.height,c=l.width,_=n%r,E=(n-_)/r,P=0===_?E:E+1,R=I.createImageData(c,r);let Q,J=0;const W=l.data,ee=R.data;let se,de,_e,Pe,le,pe,he,w;if(d)switch(d.length){case 1:le=d[0],pe=d[0],he=d[0],w=d[0];break;case 4:le=d[0],pe=d[1],he=d[2],w=d[3]}if(l.kind===f.ImageKind.GRAYSCALE_1BPP){const H=W.byteLength,re=new Uint32Array(ee.buffer,0,ee.byteLength>>2),ye=re.length,ve=c+7>>3;let me=4294967295,xe=f.FeatureTest.isLittleEndian?4278190080:255;for(w&&255===w[0]&&0===w[255]&&([me,xe]=[xe,me]),se=0;se<P;se++){for(_e=se<E?r:_,Q=0,de=0;de<_e;de++){const Te=H-J;let Me=0;const Ie=Te>ve?c:8*Te-7,Fe=-8&Ie;let ue=0,q=0;for(;Me<Fe;Me+=8)q=W[J++],re[Q++]=128&q?me:xe,re[Q++]=64&q?me:xe,re[Q++]=32&q?me:xe,re[Q++]=16&q?me:xe,re[Q++]=8&q?me:xe,re[Q++]=4&q?me:xe,re[Q++]=2&q?me:xe,re[Q++]=1&q?me:xe;for(;Me<Ie;Me++)0===ue&&(q=W[J++],ue=128),re[Q++]=q&ue?me:xe,ue>>=1}for(;Q<ye;)re[Q++]=0;I.putImageData(R,0,se*r)}}else if(l.kind===f.ImageKind.RGBA_32BPP){const H=!!(le||pe||he);for(de=0,Pe=c*r*4,se=0;se<E;se++){if(ee.set(W.subarray(J,J+Pe)),J+=Pe,H)for(let re=0;re<Pe;re+=4)le&&(ee[re+0]=le[ee[re+0]]),pe&&(ee[re+1]=pe[ee[re+1]]),he&&(ee[re+2]=he[ee[re+2]]);I.putImageData(R,0,de),de+=r}if(se<P){if(Pe=c*_*4,ee.set(W.subarray(J,J+Pe)),H)for(let re=0;re<Pe;re+=4)le&&(ee[re+0]=le[ee[re+0]]),pe&&(ee[re+1]=pe[ee[re+1]]),he&&(ee[re+2]=he[ee[re+2]]);I.putImageData(R,0,de)}}else{if(l.kind!==f.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const H=!!(le||pe||he);for(_e=r,Pe=c*_e,se=0;se<P;se++){for(se>=E&&(_e=_,Pe=c*_e),Q=0,de=Pe;de--;)ee[Q++]=W[J++],ee[Q++]=W[J++],ee[Q++]=W[J++],ee[Q++]=255;if(H)for(let re=0;re<Q;re+=4)le&&(ee[re+0]=le[ee[re+0]]),pe&&(ee[re+1]=pe[ee[re+1]]),he&&(ee[re+2]=he[ee[re+2]]);I.putImageData(R,0,se*r)}}}}function C(I,l){if(l.bitmap)return void I.drawImage(l.bitmap,0,0);const d=l.height,n=l.width,c=d%r,_=(d-c)/r,E=0===c?_:_+1,P=I.createImageData(n,r);let R=0;const J=l.data,Q=P.data;for(let W=0;W<E;W++){const ee=W<_?r:c;({srcPos:R}=(0,z.applyMaskImageData)({src:J,srcPos:R,dest:Q,width:n,height:ee})),I.putImageData(P,0,W*r)}}function x(I,l){const d=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let n=0,c=d.length;n<c;n++){const _=d[n];void 0!==I[_]&&(l[_]=I[_])}void 0!==I.setLineDash&&(l.setLineDash(I.getLineDash()),l.lineDashOffset=I.lineDashOffset)}function O(I,l){I.strokeStyle=I.fillStyle=l||"#000000",I.fillRule="nonzero",I.globalAlpha=1,I.lineWidth=1,I.lineCap="butt",I.lineJoin="miter",I.miterLimit=10,I.globalCompositeOperation="source-over",I.font="10px sans-serif",void 0!==I.setLineDash&&(I.setLineDash([]),I.lineDashOffset=0)}function k(I,l,d,n){const c=I.length;for(let _=3;_<c;_+=4){const E=I[_];if(0===E)I[_-3]=l,I[_-2]=d,I[_-1]=n;else if(E<255){const P=255-E;I[_-3]=I[_-3]*E+l*P>>8,I[_-2]=I[_-2]*E+d*P>>8,I[_-1]=I[_-1]*E+n*P>>8}}}function N(I,l,d){const n=I.length;for(let _=3;_<n;_+=4)l[_]=l[_]*(d?d[I[_]]:I[_])*.00392156862745098|0}function Z(I,l,d){const n=I.length;for(let c=3;c<n;c+=4){const _=77*I[c-3]+152*I[c-2]+28*I[c-1];l[c]=d?l[c]*d[_>>8]>>8:l[c]*_>>16}}function X(I,l){const d=f.Util.singularValueDecompose2dScale(I);d[0]=Math.fround(d[0]),d[1]=Math.fround(d[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*ne.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:d[0]<=n||d[1]<=n}const B=["butt","round","square"],$=["miter","round","bevel"],te={},ie={};class ce{constructor(l,d,n,c,_,E,P,R){this.ctx=l,this.current=new s(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=d,this.objs=n,this.canvasFactory=c,this.imageLayer=_,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=E,this.cachedCanvases=new v(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=P,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=R?.background||null,this.foregroundColor=R?.foreground||null,l&&M(l),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(l,d=null){return"string"==typeof l?l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l):d}beginDrawing({transform:l,viewport:d,transparency:n=!1,background:c=null}){const _=this.ctx.canvas.width,E=this.ctx.canvas.height,P=c||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const R=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const J=this.backgroundColor=this.ctx.fillStyle;let Q=!0,W=P;if(this.ctx.fillStyle=P,W=this.ctx.fillStyle,Q="string"==typeof W&&/^#[0-9A-Fa-f]{6}$/.test(W),"#000000"===R&&"#ffffff"===J||R===J||!Q)this.foregroundColor=this.backgroundColor=null;else{const ee=parseInt(W.slice(1),16),de=(ee&&65280)>>8,_e=ee&&255,Pe=pe=>(pe/=255)<=.03928?pe/12.92:((pe+.055)/1.055)**2.4,le=Math.round(.2126*Pe((ee&&16711680)>>16)+.7152*Pe(de)+.0722*Pe(_e));this.selectColor=(pe,he,w)=>{const H=.2126*Pe(pe)+.7152*Pe(he)+.0722*Pe(w);return Math.round(H)===le?J:R}}}if(this.ctx.fillStyle=this.backgroundColor||P,this.ctx.fillRect(0,0,_,E),this.ctx.restore(),n){const R=this.cachedCanvases.getCanvas("transparent",_,E,!0);this.compositeCtx=this.ctx,this.transparentCanvas=R.canvas,this.ctx=R.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),O(this.ctx,this.foregroundColor),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,d.transform),this.viewportScale=d.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,d,n,c){const _=l.argsArray,E=l.fnArray;let P=d||0;const R=_.length;if(R===P)return P;const J=R-P>10&&"function"==typeof n,Q=J?Date.now()+15:0;let W=0;const ee=this.commonObjs,se=this.objs;let de;for(;;){if(void 0!==c&&P===c.nextBreakPoint)return c.breakIt(P,n),P;if(de=E[P],de!==f.OPS.dependency)this[de].apply(this,_[P]);else for(const _e of _[P]){const Pe=_e.startsWith("g_")?ee:se;if(!Pe.has(_e))return Pe.get(_e,n),P}if(P++,P===R)return P;if(J&&++W>10){if(Date.now()>Q)return n(),P;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const l of this._cachedBitmapsMap.values()){for(const d of l.values())typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement&&(d.width=d.height=0);l.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,d){const n=l.width,c=l.height;let Q,W,_=Math.max(Math.hypot(d[0],d[1]),1),E=Math.max(Math.hypot(d[2],d[3]),1),P=n,R=c,J="prescale1";for(;_>2&&P>1||E>2&&R>1;){let ee=P,se=R;_>2&&P>1&&(ee=Math.ceil(P/2),_/=P/ee),E>2&&R>1&&(se=Math.ceil(R/2),E/=R/se),Q=this.cachedCanvases.getCanvas(J,ee,se,!1),W=Q.context,W.clearRect(0,0,ee,se),W.drawImage(l,0,0,P,R,0,0,ee,se),l=Q.canvas,P=ee,R=se,J="prescale1"===J?"prescale2":"prescale1"}return{img:l,paintWidth:P,paintHeight:R}}_createMaskCanvas(l){const d=this.ctx,{width:n,height:c}=l,_=this.current.fillColor,E=this.current.patternFill,P=d.mozCurrentTransform;let R,J,Q,W;if((l.bitmap||l.data)&&l.count>1){const ye=l.bitmap||l.data.buffer,ve=P.slice(0,4);J=JSON.stringify(E?ve:[ve,_]),R=this._cachedBitmapsMap.get(ye),R||(R=new Map,this._cachedBitmapsMap.set(ye,R));const me=R.get(J);if(me&&!E)return{canvas:me,offsetX:Math.round(Math.min(P[0],P[2])+P[4]),offsetY:Math.round(Math.min(P[1],P[3])+P[5])};Q=me}Q||(W=this.cachedCanvases.getCanvas("maskCanvas",n,c,!1),C(W.context,l));let ee=f.Util.transform(P,[1/n,0,0,-1/c,0,0]);ee=f.Util.transform(ee,[1,0,0,1,0,-c]);const se=f.Util.applyTransform([0,0],ee),de=f.Util.applyTransform([n,c],ee),_e=f.Util.normalizeRect([se[0],se[1],de[0],de[1]]),Pe=Math.round(_e[2]-_e[0])||1,le=Math.round(_e[3]-_e[1])||1,pe=this.cachedCanvases.getCanvas("fillCanvas",Pe,le,!0),he=pe.context,w=Math.min(se[0],de[0]),H=Math.min(se[1],de[1]);he.translate(-w,-H),he.transform.apply(he,ee),Q||(Q=this._scaleImage(W.canvas,he.mozCurrentTransformInverse),Q=Q.img,R&&E&&R.set(J,Q)),he.imageSmoothingEnabled=X(he.mozCurrentTransform,l.interpolate),b(he,Q,0,0,Q.width,Q.height,0,0,n,c),he.globalCompositeOperation="source-in";const re=f.Util.transform(he.mozCurrentTransformInverse,[1,0,0,1,-w,-H]);return he.fillStyle=E?_.getPattern(d,this,re,oe.PathType.FILL):_,he.fillRect(0,0,n,c),R&&!E&&(this.cachedCanvases.delete("fillCanvas"),R.set(J,pe.canvas)),{canvas:pe.canvas,offsetX:Math.round(w),offsetY:Math.round(H)}}setLineWidth(l){l!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=B[l]}setLineJoin(l){this.ctx.lineJoin=$[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,d){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(l),n.lineDashOffset=d)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let d=0,n=l.length;d<n;d++){const c=l[d],E=c[1];switch(c[0]){case"LW":this.setLineWidth(E);break;case"LC":this.setLineCap(E);break;case"LJ":this.setLineJoin(E);break;case"ML":this.setMiterLimit(E);break;case"D":this.setDash(E[0],E[1]);break;case"RI":this.setRenderingIntent(E);break;case"FL":this.setFlatness(E);break;case"Font":this.setFont(E[0],E[1]);break;case"CA":this.current.strokeAlpha=c[1];break;case"ca":this.current.fillAlpha=c[1],this.ctx.globalAlpha=c[1];break;case"BM":this.ctx.globalCompositeOperation=E;break;case"SMask":this.current.activeSMask=E?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=E}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=c.context;const _=this.ctx;_.setTransform.apply(_,this.suspendedCtx.mozCurrentTransform),x(this.suspendedCtx,_),function h(I,l){if(I._removeMirroring)throw new Error("Context is already forwarding operations.");I.__originalSave=I.save,I.__originalRestore=I.restore,I.__originalRotate=I.rotate,I.__originalScale=I.scale,I.__originalTranslate=I.translate,I.__originalTransform=I.transform,I.__originalSetTransform=I.setTransform,I.__originalResetTransform=I.resetTransform,I.__originalClip=I.clip,I.__originalMoveTo=I.moveTo,I.__originalLineTo=I.lineTo,I.__originalBezierCurveTo=I.bezierCurveTo,I.__originalRect=I.rect,I.__originalClosePath=I.closePath,I.__originalBeginPath=I.beginPath,I._removeMirroring=()=>{I.save=I.__originalSave,I.restore=I.__originalRestore,I.rotate=I.__originalRotate,I.scale=I.__originalScale,I.translate=I.__originalTranslate,I.transform=I.__originalTransform,I.setTransform=I.__originalSetTransform,I.resetTransform=I.__originalResetTransform,I.clip=I.__originalClip,I.moveTo=I.__originalMoveTo,I.lineTo=I.__originalLineTo,I.bezierCurveTo=I.__originalBezierCurveTo,I.rect=I.__originalRect,I.closePath=I.__originalClosePath,I.beginPath=I.__originalBeginPath,delete I._removeMirroring},I.save=function(){l.save(),this.__originalSave()},I.restore=function(){l.restore(),this.__originalRestore()},I.translate=function(n,c){l.translate(n,c),this.__originalTranslate(n,c)},I.scale=function(n,c){l.scale(n,c),this.__originalScale(n,c)},I.transform=function(n,c,_,E,P,R){l.transform(n,c,_,E,P,R),this.__originalTransform(n,c,_,E,P,R)},I.setTransform=function(n,c,_,E,P,R){l.setTransform(n,c,_,E,P,R),this.__originalSetTransform(n,c,_,E,P,R)},I.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},I.rotate=function(n){l.rotate(n),this.__originalRotate(n)},I.clip=function(n){l.clip(n),this.__originalClip(n)},I.moveTo=function(d,n){l.moveTo(d,n),this.__originalMoveTo(d,n)},I.lineTo=function(d,n){l.lineTo(d,n),this.__originalLineTo(d,n)},I.bezierCurveTo=function(d,n,c,_,E,P){l.bezierCurveTo(d,n,c,_,E,P),this.__originalBezierCurveTo(d,n,c,_,E,P)},I.rect=function(d,n,c,_){l.rect(d,n,c,_),this.__originalRect(d,n,c,_)},I.closePath=function(){l.closePath(),this.__originalClosePath()},I.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(_,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),x(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function U(I,l,d,n){const c=n[0],_=n[1],E=n[2]-c,P=n[3]-_;0===E||0===P||(function G(I,l,d,n,c,_,E,P,R,J,Q){const W=!!_,ee=W?_[0]:0,se=W?_[1]:0,de=W?_[2]:0;let _e;_e="Luminosity"===c?Z:N;const le=Math.min(n,Math.ceil(1048576/d));for(let pe=0;pe<n;pe+=le){const he=Math.min(le,n-pe),w=I.getImageData(P-J,pe+(R-Q),d,he),H=l.getImageData(P,pe+R,d,he);W&&k(w.data,ee,se,de),_e(w.data,H.data,E),l.putImageData(H,P,pe+R)}}(l.context,d,E,P,l.subtype,l.backdrop,l.transferMap,c,_,l.offsetX,l.offsetY),I.save(),I.globalAlpha=1,I.globalCompositeOperation="source-over",I.setTransform(1,0,0,1,0,0),I.drawImage(d.canvas,0,0),I.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(x(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),x(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(l,d,n,c,_,E){this.ctx.transform(l,d,n,c,_,E),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(l,d,n){const c=this.ctx,_=this.current;let R,J,E=_.x,P=_.y;const Q=c.mozCurrentTransform,W=0===Q[0]&&0===Q[3]||0===Q[1]&&0===Q[2],ee=W?n.slice(0):null;for(let se=0,de=0,_e=l.length;se<_e;se++)switch(0|l[se]){case f.OPS.rectangle:E=d[de++],P=d[de++];const Pe=d[de++],le=d[de++],pe=E+Pe,he=P+le;c.moveTo(E,P),0===Pe||0===le?c.lineTo(pe,he):(c.lineTo(pe,P),c.lineTo(pe,he),c.lineTo(E,he)),W||_.updateRectMinMax(Q,[E,P,pe,he]),c.closePath();break;case f.OPS.moveTo:E=d[de++],P=d[de++],c.moveTo(E,P),W||_.updatePathMinMax(Q,E,P);break;case f.OPS.lineTo:E=d[de++],P=d[de++],c.lineTo(E,P),W||_.updatePathMinMax(Q,E,P);break;case f.OPS.curveTo:R=E,J=P,E=d[de+4],P=d[de+5],c.bezierCurveTo(d[de],d[de+1],d[de+2],d[de+3],E,P),_.updateCurvePathMinMax(Q,R,J,d[de],d[de+1],d[de+2],d[de+3],E,P,ee),de+=6;break;case f.OPS.curveTo2:R=E,J=P,c.bezierCurveTo(E,P,d[de],d[de+1],d[de+2],d[de+3]),_.updateCurvePathMinMax(Q,R,J,E,P,d[de],d[de+1],d[de+2],d[de+3],ee),E=d[de+2],P=d[de+3],de+=4;break;case f.OPS.curveTo3:R=E,J=P,E=d[de+2],P=d[de+3],c.bezierCurveTo(d[de],d[de+1],E,P,E,P),_.updateCurvePathMinMax(Q,R,J,d[de],d[de+1],E,P,E,P,ee),de+=4;break;case f.OPS.closePath:c.closePath()}W&&_.updateScalingPathMinMax(Q,ee),_.setCurrentPoint(E,P)}closePath(){this.ctx.closePath()}stroke(l){l=!(typeof l<"u")||l;const d=this.ctx,n=this.current.strokeColor;d.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&n?.getPattern?(d.save(),d.strokeStyle=n.getPattern(d,this,d.mozCurrentTransformInverse,oe.PathType.STROKE),this.rescaleAndStroke(!1),d.restore()):this.rescaleAndStroke(!0)),l&&this.consumePath(this.current.getClippedPathBoundingBox()),d.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=!(typeof l<"u")||l;const d=this.ctx,n=this.current.fillColor;let _=!1;this.current.patternFill&&(d.save(),d.fillStyle=n.getPattern(d,this,d.mozCurrentTransformInverse,oe.PathType.FILL),_=!0);const E=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==E&&(this.pendingEOFill?(d.fill("evenodd"),this.pendingEOFill=!1):d.fill()),_&&d.restore(),l&&this.consumePath(E)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=te}eoClip(){this.pendingClip=ie}beginText(){this.current.textMatrix=f.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,d=this.ctx;if(void 0!==l){d.save(),d.beginPath();for(let n=0;n<l.length;n++){const c=l[n];d.setTransform.apply(d,c.transform),d.translate(c.x,c.y),c.addToPath(d,c.fontSize)}d.restore(),d.clip(),d.beginPath(),delete this.pendingTextPaths}else d.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,d){const n=this.commonObjs.get(l),c=this.current;if(!n)throw new Error(`Can't find font for ${l}`);if(c.fontMatrix=n.fontMatrix||f.FONT_IDENTITY_MATRIX,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&(0,f.warn)("Invalid font matrix for font "+l),d<0?(d=-d,c.fontDirection=-1):c.fontDirection=1,this.current.font=n,this.current.fontSize=d,n.isType3Font)return;let E="normal";n.black?E="900":n.bold&&(E="bold");const P=n.italic?"italic":"normal",R=`"${n.loadedName||"sans-serif"}", ${n.fallbackName}`;let J=d;d<16?J=16:d>100&&(J=100),this.current.fontSizeScale=d/J,this.ctx.font=`${P} ${E} ${J}px ${R}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,d){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=d}setLeadingMoveText(l,d){this.setLeading(-d),this.moveText(l,d)}setTextMatrix(l,d,n,c,_,E){this.current.textMatrix=[l,d,n,c,_,E],this.current.textMatrixScale=Math.hypot(l,d),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,d,n,c){const _=this.ctx,E=this.current,P=E.font,R=E.textRenderingMode,J=E.fontSize/E.fontSizeScale,Q=R&f.TextRenderingMode.FILL_STROKE_MASK,W=!!(R&f.TextRenderingMode.ADD_TO_PATH_FLAG),ee=E.patternFill&&!P.missingFile;let se;(P.disableFontFace||W||ee)&&(se=P.getPathGenerator(this.commonObjs,l)),P.disableFontFace||ee?(_.save(),_.translate(d,n),_.beginPath(),se(_,J),c&&_.setTransform.apply(_,c),(Q===f.TextRenderingMode.FILL||Q===f.TextRenderingMode.FILL_STROKE)&&_.fill(),(Q===f.TextRenderingMode.STROKE||Q===f.TextRenderingMode.FILL_STROKE)&&_.stroke(),_.restore()):((Q===f.TextRenderingMode.FILL||Q===f.TextRenderingMode.FILL_STROKE)&&_.fillText(l,d,n),(Q===f.TextRenderingMode.STROKE||Q===f.TextRenderingMode.FILL_STROKE)&&_.strokeText(l,d,n)),W&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:_.mozCurrentTransform,x:d,y:n,fontSize:J,addToPath:se})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);l.scale(1.5,1),l.fillText("I",0,10);const d=l.getImageData(0,0,10,10).data;let n=!1;for(let c=3;c<d.length;c+=4)if(d[c]>0&&d[c]<255){n=!0;break}return(0,f.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(l){const d=this.current,n=d.font;if(n.isType3Font)return this.showType3Text(l);const c=d.fontSize;if(0===c)return;const _=this.ctx,E=d.fontSizeScale,P=d.charSpacing,R=d.wordSpacing,J=d.fontDirection,Q=d.textHScale*J,W=l.length,ee=n.vertical,se=ee?1:-1,de=n.defaultVMetrics,_e=c*d.fontMatrix[0],Pe=d.textRenderingMode===f.TextRenderingMode.FILL&&!n.disableFontFace&&!d.patternFill;let le;if(_.save(),_.transform.apply(_,d.textMatrix),_.translate(d.x,d.y+d.textRise),_.scale(Q,J>0?-1:1),d.patternFill){_.save();const re=d.fillColor.getPattern(_,this,_.mozCurrentTransformInverse,oe.PathType.FILL);le=_.mozCurrentTransform,_.restore(),_.fillStyle=re}let pe=d.lineWidth;const he=d.textMatrixScale;if(0===he||0===pe){const re=d.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;(re===f.TextRenderingMode.STROKE||re===f.TextRenderingMode.FILL_STROKE)&&(pe=this.getSinglePixelWidth())}else pe/=he;1!==E&&(_.scale(E,E),pe/=E),_.lineWidth=pe;let H,w=0;for(H=0;H<W;++H){const re=l[H];if("number"==typeof re){w+=se*re*c/1e3;continue}let ye=!1;const ve=(re.isSpace?R:0)+P,me=re.fontChar,xe=re.accent;let Te,Me,Fe,Ie=re.width;if(ee){const ue=re.vmetric||de,q=-(re.vmetric?ue[1]:.5*Ie)*_e;Ie=ue?-ue[0]:Ie,Te=q/E,Me=(w+ue[2]*_e)/E}else Te=w/E,Me=0;if(n.remeasure&&Ie>0){const ue=1e3*_.measureText(me).width/c*E;if(Ie<ue&&this.isFontSubpixelAAEnabled){const q=Ie/ue;ye=!0,_.save(),_.scale(q,1),Te/=q}else Ie!==ue&&(Te+=(Ie-ue)/2e3*c/E)}this.contentVisible&&(re.isInFont||n.missingFile)&&(Pe&&!xe?_.fillText(me,Te,Me):(this.paintChar(me,Te,Me,le),xe&&this.paintChar(xe.fontChar,Te+c*xe.offset.x/E,Me-c*xe.offset.y/E,le))),Fe=ee?Ie*_e-ve*J:Ie*_e+ve*J,w+=Fe,ye&&_.restore()}ee?d.y-=w:d.x+=w*Q,_.restore(),this.compose()}showType3Text(l){const d=this.ctx,n=this.current,c=n.font,_=n.fontSize,E=n.fontDirection,P=c.vertical?1:-1,R=n.charSpacing,J=n.wordSpacing,Q=n.textHScale*E,W=n.fontMatrix||f.FONT_IDENTITY_MATRIX,ee=l.length;let de,_e,Pe,le;if(n.textRenderingMode!==f.TextRenderingMode.INVISIBLE&&0!==_){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,d.save(),d.transform.apply(d,n.textMatrix),d.translate(n.x,n.y),d.scale(Q,E),de=0;de<ee;++de){if(_e=l[de],"number"==typeof _e){le=P*_e*_/1e3,this.ctx.translate(le,0),n.x+=le*Q;continue}const pe=(_e.isSpace?J:0)+R,he=c.charProcOperatorList[_e.operatorListId];he?(this.contentVisible&&(this.processingType3=_e,this.save(),d.scale(_,_),d.transform.apply(d,W),this.executeOperatorList(he),this.restore()),Pe=f.Util.applyTransform([_e.width,0],W)[0]*_+pe,d.translate(Pe,0),n.x+=Pe*Q):(0,f.warn)(`Type3 character "${_e.operatorListId}" is not available.`)}d.restore(),this.processingType3=null}}setCharWidth(l,d){}setCharWidthAndBounds(l,d,n,c,_,E){this.ctx.rect(n,c,_-n,E-c),this.ctx.clip(),this.endPath()}getColorN_Pattern(l){let d;if("TilingPattern"===l[0]){const n=l[1],c=this.baseTransform||this.ctx.mozCurrentTransform.slice();d=new oe.TilingPattern(l,n,this.ctx,{createCanvasGraphics:E=>new ce(E,this.commonObjs,this.objs,this.canvasFactory)},c)}else d=this._getPattern(l[1],l[2]);return d}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,d,n){const c=this.selectColor?.(l,d,n)||f.Util.makeHexColor(l,d,n);this.ctx.strokeStyle=c,this.current.strokeColor=c}setFillRGBColor(l,d,n){const c=this.selectColor?.(l,d,n)||f.Util.makeHexColor(l,d,n);this.ctx.fillStyle=c,this.current.fillColor=c,this.current.patternFill=!1}_getPattern(l,d=null){let n;return this.cachedPatterns.has(l)?n=this.cachedPatterns.get(l):(n=(0,oe.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,n)),d&&(n.matrix=d),n}shadingFill(l){if(!this.contentVisible)return;const d=this.ctx;this.save();const n=this._getPattern(l);d.fillStyle=n.getPattern(d,this,d.mozCurrentTransformInverse,oe.PathType.SHADING);const c=d.mozCurrentTransformInverse;if(c){const _=d.canvas,E=_.width,P=_.height,R=f.Util.applyTransform([0,0],c),J=f.Util.applyTransform([0,P],c),Q=f.Util.applyTransform([E,0],c),W=f.Util.applyTransform([E,P],c),ee=Math.min(R[0],J[0],Q[0],W[0]),se=Math.min(R[1],J[1],Q[1],W[1]),de=Math.max(R[0],J[0],Q[0],W[0]),_e=Math.max(R[1],J[1],Q[1],W[1]);this.ctx.fillRect(ee,se,de-ee,_e-se)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,f.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,f.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,d){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,d)&&(this.ctx.rect(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,d),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const d=this.ctx;l.isolated||(0,f.info)("TODO: Support non-isolated groups."),l.knockout&&(0,f.warn)("Knockout groups not supported.");const n=d.mozCurrentTransform;if(l.matrix&&d.transform.apply(d,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let c=f.Util.getAxialAlignedBoundingBox(l.bbox,d.mozCurrentTransform);c=f.Util.intersect(c,[0,0,d.canvas.width,d.canvas.height])||[0,0,0,0];const E=Math.floor(c[0]),P=Math.floor(c[1]);let R=Math.max(Math.ceil(c[2])-E,1),J=Math.max(Math.ceil(c[3])-P,1),Q=1,W=1;R>S&&(Q=R/S,R=S),J>S&&(W=J/S,J=S),this.current.startNewPathAndClipBox([0,0,R,J]);let ee="groupAt"+this.groupLevel;l.smask&&(ee+="_smask_"+this.smaskCounter++%2);const se=this.cachedCanvases.getCanvas(ee,R,J,!0),de=se.context;de.scale(1/Q,1/W),de.translate(-E,-P),de.transform.apply(de,n),l.smask?this.smaskStack.push({canvas:se.canvas,context:de,offsetX:E,offsetY:P,scaleX:Q,scaleY:W,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(d.setTransform(1,0,0,1,0,0),d.translate(E,P),d.scale(Q,W),d.save()),x(d,de),this.ctx=de,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(d),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const d=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,c);const _=f.Util.getAxialAlignedBoundingBox([0,0,d.canvas.width,d.canvas.height],c);this.ctx.drawImage(d.canvas,0,0),this.ctx.restore(),this.compose(_)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,d,n,c,_){if(this.save(),Array.isArray(d)&&4===d.length){const E=d[2]-d[0],P=d[3]-d[1];if(_&&this.annotationCanvasMap){(n=n.slice())[4]-=d[0],n[5]-=d[1],(d=d.slice())[0]=d[1]=0,d[2]=E,d[3]=P;const[R,J]=f.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:Q}=this,W=Math.ceil(E*this.outputScaleX*Q),ee=Math.ceil(P*this.outputScaleY*Q);this.annotationCanvas=this.canvasFactory.create(W,ee);const{canvas:se,context:de}=this.annotationCanvas,_e=`var(--zoom-factor) * ${ne.PixelsPerInch.PDF_TO_CSS_UNITS}`;se.style.width=`calc(${E}px * ${_e})`,se.style.height=`calc(${P}px * ${_e})`,this.annotationCanvasMap.set(l,se),this.annotationCanvas.savedCtx=this.ctx,this.ctx=de,this.ctx.setTransform(R,0,0,-J,0,P*J),M(this.ctx),O(this.ctx,this.foregroundColor)}else O(this.ctx,this.foregroundColor),this.ctx.rect(d[0],d[1],E,P),this.ctx.clip(),this.endPath()}this.current=new s(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,n),this.transform.apply(this,c)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const d=l.count;(l=this.getObject(l.data,l)).count=d;const n=this.ctx,c=this.processingType3;if(c&&(void 0===c.compiled&&(c.compiled=function i(I){const{width:l,height:d}=I;if(l>1e3||d>1e3)return null;const c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),_=l+1;let P,R,J,E=new Uint8Array(_*(d+1));const Q=l+7&-8;let W=new Uint8Array(Q*d),ee=0;for(const he of I.data){let w=128;for(;w>0;)W[ee++]=he&w?0:255,w>>=1}let se=0;for(ee=0,0!==W[ee]&&(E[0]=1,++se),R=1;R<l;R++)W[ee]!==W[ee+1]&&(E[R]=W[ee]?2:1,++se),ee++;for(0!==W[ee]&&(E[R]=2,++se),P=1;P<d;P++){ee=P*Q,J=P*_,W[ee-Q]!==W[ee]&&(E[J]=W[ee]?1:8,++se);let he=(W[ee]?4:0)+(W[ee-Q]?8:0);for(R=1;R<l;R++)he=(he>>2)+(W[ee+1]?4:0)+(W[ee-Q+1]?8:0),c[he]&&(E[J+R]=c[he],++se),ee++;if(W[ee-Q]!==W[ee]&&(E[J+R]=W[ee]?2:4,++se),se>1e3)return null}for(ee=Q*(d-1),J=P*_,0!==W[ee]&&(E[J]=8,++se),R=1;R<l;R++)W[ee]!==W[ee+1]&&(E[J+R]=W[ee]?4:8,++se),ee++;if(0!==W[ee]&&(E[J+R]=4,++se),se>1e3)return null;const de=new Int32Array([0,_,-1,0,-_,0,0,0,1]);let _e,Pe,le;for(e.isNodeJS?Pe=[]:_e=new Path2D,P=0;se&&P<=d;P++){let he=P*_;const w=he+l;for(;he<w&&!E[he];)he++;if(he===w)continue;_e?_e.moveTo(he%_,P):le=[he%_,P];const H=he;let re=E[he];do{const ye=de[re];do{he+=ye}while(!E[he]);const ve=E[he];5!==ve&&10!==ve?(re=ve,E[he]=0):(re=ve&51*re>>4,E[he]&=re>>2|re<<2),_e?_e.lineTo(he%_,he/_|0):le.push(he%_,he/_|0),E[he]||--se}while(H!==he);_e||Pe.push(le),--P}return W=null,E=null,function(he){if(he.save(),he.scale(1/l,-1/d),he.translate(0,-d),_e)he.fill(_e);else{he.beginPath();for(const w of Pe){he.moveTo(w[0],w[1]);for(let H=2,re=w.length;H<re;H+=2)he.lineTo(w[H],w[H+1])}he.fill()}he.beginPath(),he.restore()}}(l)),c.compiled))return void c.compiled(n);const _=this._createMaskCanvas(l),E=_.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(E,_.offsetX,_.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(l,d,n=0,c=0,_,E){if(!this.contentVisible)return;l=this.getObject(l.data,l);const P=this.ctx;P.save();const R=P.mozCurrentTransform;P.transform(d,n,c,_,0,0);const J=this._createMaskCanvas(l);P.setTransform(1,0,0,1,0,0);for(let Q=0,W=E.length;Q<W;Q+=2){const ee=f.Util.transform(R,[d,n,c,_,E[Q],E[Q+1]]),[se,de]=f.Util.applyTransform([0,0],ee);P.drawImage(J.canvas,se,de)}P.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const d=this.ctx,n=this.current.fillColor,c=this.current.patternFill;for(let _=0,E=l.length;_<E;_++){const P=l[_],R=P.width,J=P.height,Q=this.cachedCanvases.getCanvas("maskCanvas",R,J,!1),W=Q.context;W.save(),C(W,P),W.globalCompositeOperation="source-in",W.fillStyle=c?n.getPattern(W,this,d.mozCurrentTransformInverse,oe.PathType.FILL):n,W.fillRect(0,0,R,J),W.restore(),d.save(),d.transform.apply(d,P.transform),d.scale(1,-1),b(d,Q.canvas,0,0,R,J,0,-1,1,1),d.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const d=this.getObject(l);d?this.paintInlineImageXObject(d):(0,f.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,d,n,c){if(!this.contentVisible)return;const _=this.getObject(l);if(!_)return void(0,f.warn)("Dependent image isn't ready yet");const E=_.width,P=_.height,R=[];for(let J=0,Q=c.length;J<Q;J+=2)R.push({transform:[d,0,0,n,c[J],c[J+1]],x:0,y:0,w:E,h:P});this.paintInlineImageXObjectGroup(_,R)}paintInlineImageXObject(l){if(!this.contentVisible)return;const d=l.width,n=l.height,c=this.ctx;let _;if(this.save(),c.scale(1/d,-1/n),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)_=l;else{const J=this.cachedCanvases.getCanvas("inlineImage",d,n,!1);y(J.context,l,this.current.transferMaps),_=J.canvas}const E=this._scaleImage(_,c.mozCurrentTransformInverse);c.imageSmoothingEnabled=X(c.mozCurrentTransform,l.interpolate);const[P,R]=b(c,E.img,0,0,E.paintWidth,E.paintHeight,0,-n,d,n);if(this.imageLayer){const J=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:l,left:J[0],top:J[1],width:P,height:R})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,d){if(!this.contentVisible)return;const n=this.ctx,c=l.width,_=l.height,E=this.cachedCanvases.getCanvas("inlineImage",c,_,!1);y(E.context,l,this.current.transferMaps);for(let R=0,J=d.length;R<J;R++){const Q=d[R];if(n.save(),n.transform.apply(n,Q.transform),n.scale(1,-1),b(n,E.canvas,Q.x,Q.y,Q.w,Q.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(Q.x,Q.y);this.imageLayer.appendImage({imgData:l,left:W[0],top:W[1],width:c,height:_})}n.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,d){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,d){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(d)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){const d=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const n=this.ctx;this.pendingClip&&(d||(this.pendingClip===ie?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform;if(0===l[1]&&0===l[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(l[0]),Math.abs(l[3]));else{const d=Math.abs(l[0]*l[3]-l[2]*l[1]),n=Math.hypot(l[0],l[2]),c=Math.hypot(l[1],l[3]);this._cachedGetSinglePixelWidth=Math.max(n,c)/d}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:l}=this.current,d=this.ctx.mozCurrentTransform;let n,c;if(0===d[1]&&0===d[2]){const _=Math.abs(d[0]),E=Math.abs(d[3]);if(0===l)n=1/_,c=1/E;else{const P=_*l,R=E*l;n=P<1?1/P:1,c=R<1?1/R:1}}else{const _=Math.abs(d[0]*d[3]-d[2]*d[1]),E=Math.hypot(d[0],d[1]),P=Math.hypot(d[2],d[3]);if(0===l)n=P/_,c=E/_;else{const R=l*_;n=P>R?P/R:1,c=E>R?E/R:1}}this._cachedScaleForStroking=[n,c]}return this._cachedScaleForStroking}rescaleAndStroke(l){const{ctx:d}=this,{lineWidth:n}=this.current,[c,_]=this.getScaleForStroking();if(d.lineWidth=n||1,1===c&&1===_)return void d.stroke();let E,P,R;l&&(E=d.mozCurrentTransform.slice(),P=d.getLineDash().slice(),R=d.lineDashOffset),d.scale(c,_);const J=Math.max(c,_);d.setLineDash(d.getLineDash().map(Q=>Q/J)),d.lineDashOffset/=J,d.stroke(),l&&(d.setTransform(...E),d.setLineDash(P),d.lineDashOffset=R)}getCanvasPosition(l,d){const n=this.ctx.mozCurrentTransform;return[n[0]*l+n[2]*d+n[4],n[1]*l+n[3]*d+n[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}F.CanvasGraphics=ce;for(const I in f.OPS)void 0!==ce.prototype[I]&&(ce.prototype[f.OPS[I]]=ce.prototype[I])},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.TilingPattern=F.PathType=void 0,F.getShadingPattern=function a(o){switch(o[0]){case"RadialAxial":return new D(o);case"Mesh":return new m(o);case"Dummy":return new g}throw new Error(`Unknown IR type: ${o[0]}`)};var f=K(1),oe=K(3);const z={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function e(o,h){if(!h||oe.isNodeJS)return;const M=h[2]-h[0],v=h[3]-h[1],b=new Path2D;b.rect(h[0],h[1],M,v),o.clip(b)}F.PathType=z;class ne{constructor(){this.constructor===ne&&(0,f.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,f.unreachable)("Abstract method `getPattern` called.")}}class D extends ne{constructor(h){super(),this._type=h[1],this._bbox=h[2],this._colorStops=h[3],this._p0=h[4],this._p1=h[5],this._r0=h[6],this._r1=h[7],this.matrix=null}_createGradient(h){let M;"axial"===this._type?M=h.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(M=h.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const v of this._colorStops)M.addColorStop(v[0],v[1]);return M}getPattern(h,M,v,b){let i;if(b===z.STROKE||b===z.FILL){const s=M.current.getClippedPathBoundingBox(b,h.mozCurrentTransform)||[0,0,0,0],y=Math.ceil(s[2]-s[0])||1,C=Math.ceil(s[3]-s[1])||1,x=M.cachedCanvases.getCanvas("pattern",y,C,!0),O=x.context;O.clearRect(0,0,O.canvas.width,O.canvas.height),O.beginPath(),O.rect(0,0,O.canvas.width,O.canvas.height),O.translate(-s[0],-s[1]),v=f.Util.transform(v,[1,0,0,1,s[0],s[1]]),O.transform.apply(O,M.baseTransform),this.matrix&&O.transform.apply(O,this.matrix),e(O,this._bbox),O.fillStyle=this._createGradient(O),O.fill(),i=h.createPattern(x.canvas,"no-repeat");const k=new DOMMatrix(v);try{i.setTransform(k)}catch(N){(0,f.warn)(`RadialAxialShadingPattern.getPattern: "${N?.message}".`)}}else e(h,this._bbox),i=this._createGradient(h);return i}}function u(o,h,M,v,b,i,s,y){const C=h.coords,x=h.colors,O=o.data,k=4*o.width;let N;C[M+1]>C[v+1]&&(N=M,M=v,v=N,N=i,i=s,s=N),C[v+1]>C[b+1]&&(N=v,v=b,b=N,N=s,s=y,y=N),C[M+1]>C[v+1]&&(N=M,M=v,v=N,N=i,i=s,s=N);const Z=(C[M]+h.offsetX)*h.scaleX,G=(C[M+1]+h.offsetY)*h.scaleY,U=(C[v]+h.offsetX)*h.scaleX,X=(C[v+1]+h.offsetY)*h.scaleY,B=(C[b]+h.offsetX)*h.scaleX,$=(C[b+1]+h.offsetY)*h.scaleY;if(G>=$)return;const te=x[i],ie=x[i+1],ce=x[i+2],I=x[s],l=x[s+1],d=x[s+2],n=x[y],c=x[y+1],_=x[y+2],E=Math.round(G),P=Math.round($);let R,J,Q,W,ee,se,de,_e;for(let Pe=E;Pe<=P;Pe++){if(Pe<X){let H;H=Pe<G?0:(G-Pe)/(G-X),R=Z-(Z-U)*H,J=te-(te-I)*H,Q=ie-(ie-l)*H,W=ce-(ce-d)*H}else{let H;H=Pe>$?1:X===$?0:(X-Pe)/(X-$),R=U-(U-B)*H,J=I-(I-n)*H,Q=l-(l-c)*H,W=d-(d-_)*H}let le;le=Pe<G?0:Pe>$?1:(G-Pe)/(G-$),ee=Z-(Z-B)*le,se=te-(te-n)*le,de=ie-(ie-c)*le,_e=ce-(ce-_)*le;const pe=Math.round(Math.min(R,ee)),he=Math.round(Math.max(R,ee));let w=k*Pe+4*pe;for(let H=pe;H<=he;H++)le=(R-H)/(R-ee),le<0?le=0:le>1&&(le=1),O[w++]=J-(J-se)*le|0,O[w++]=Q-(Q-de)*le|0,O[w++]=W-(W-_e)*le|0,O[w++]=255}}function S(o,h,M){const v=h.coords,b=h.colors;let i,s;switch(h.type){case"lattice":const y=h.verticesPerRow,C=Math.floor(v.length/y)-1,x=y-1;for(i=0;i<C;i++){let O=i*y;for(let k=0;k<x;k++,O++)u(o,M,v[O],v[O+1],v[O+y],b[O],b[O+1],b[O+y]),u(o,M,v[O+y+1],v[O+1],v[O+y],b[O+y+1],b[O+1],b[O+y])}break;case"triangles":for(i=0,s=v.length;i<s;i+=3)u(o,M,v[i],v[i+1],v[i+2],b[i],b[i+1],b[i+2]);break;default:throw new Error("illegal figure")}}class m extends ne{constructor(h){super(),this._coords=h[2],this._colors=h[3],this._figures=h[4],this._bounds=h[5],this._bbox=h[7],this._background=h[8],this.matrix=null}_createMeshCanvas(h,M,v){const y=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),x=Math.ceil(this._bounds[2])-y,O=Math.ceil(this._bounds[3])-C,k=Math.min(Math.ceil(Math.abs(x*h[0]*1.1)),3e3),N=Math.min(Math.ceil(Math.abs(O*h[1]*1.1)),3e3),Z=x/k,G=O/N,U={coords:this._coords,colors:this._colors,offsetX:-y,offsetY:-C,scaleX:1/Z,scaleY:1/G},$=v.getCanvas("mesh",k+4,N+4,!1),te=$.context,ie=te.createImageData(k,N);if(M){const I=ie.data;for(let l=0,d=I.length;l<d;l+=4)I[l]=M[0],I[l+1]=M[1],I[l+2]=M[2],I[l+3]=255}for(const I of this._figures)S(ie,I,U);return te.putImageData(ie,2,2),{canvas:$.canvas,offsetX:y-2*Z,offsetY:C-2*G,scaleX:Z,scaleY:G}}getPattern(h,M,v,b){let i;if(e(h,this._bbox),b===z.SHADING)i=f.Util.singularValueDecompose2dScale(h.mozCurrentTransform);else if(i=f.Util.singularValueDecompose2dScale(M.baseTransform),this.matrix){const y=f.Util.singularValueDecompose2dScale(this.matrix);i=[i[0]*y[0],i[1]*y[1]]}const s=this._createMeshCanvas(i,b===z.SHADING?null:this._background,M.cachedCanvases);return b!==z.SHADING&&(h.setTransform.apply(h,M.baseTransform),this.matrix&&h.transform.apply(h,this.matrix)),h.translate(s.offsetX,s.offsetY),h.scale(s.scaleX,s.scaleY),h.createPattern(s.canvas,"no-repeat")}}class g extends ne{getPattern(){return"hotpink"}}class r{static get MAX_PATTERN_SIZE(){return(0,f.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(h,M,v,b,i){this.operatorList=h[2],this.matrix=h[3]||[1,0,0,1,0,0],this.bbox=h[4],this.xstep=h[5],this.ystep=h[6],this.paintType=h[7],this.tilingType=h[8],this.color=M,this.ctx=v,this.canvasGraphicsFactory=b,this.baseTransform=i}createPatternCanvas(h){const M=this.operatorList,v=this.bbox,b=this.xstep,i=this.ystep,s=this.paintType,C=this.color,x=this.canvasGraphicsFactory;(0,f.info)("TilingType: "+this.tilingType);const O=v[0],k=v[1],N=v[2],Z=v[3],G=f.Util.singularValueDecompose2dScale(this.matrix),U=f.Util.singularValueDecompose2dScale(this.baseTransform),X=[G[0]*U[0],G[1]*U[1]],B=this.getSizeAndScale(b,this.ctx.canvas.width,X[0]),$=this.getSizeAndScale(i,this.ctx.canvas.height,X[1]),te=h.cachedCanvases.getCanvas("pattern",B.size,$.size,!0),ie=te.context,ce=x.createCanvasGraphics(ie);ce.groupLevel=h.groupLevel,this.setFillAndStrokeStyleToContext(ce,s,C);let I=O,l=k,d=N,n=Z;return O<0&&(I=0,d+=Math.abs(O)),k<0&&(l=0,n+=Math.abs(k)),ie.translate(-B.scale*I,-$.scale*l),ce.transform(B.scale,0,0,$.scale,0,0),ie.save(),this.clipBbox(ce,I,l,d,n),ce.baseTransform=ce.ctx.mozCurrentTransform.slice(),ce.executeOperatorList(M),ce.endDrawing(),{canvas:te.canvas,scaleX:B.scale,scaleY:$.scale,offsetX:I,offsetY:l}}getSizeAndScale(h,M,v){h=Math.abs(h);const b=Math.max(r.MAX_PATTERN_SIZE,M);let i=Math.ceil(h*v);return i>=b?i=b:v=i/h,{scale:v,size:i}}clipBbox(h,M,v,b,i){h.ctx.rect(M,v,b-M,i-v),h.current.updateRectMinMax(h.ctx.mozCurrentTransform,[M,v,b,i]),h.clip(),h.endPath()}setFillAndStrokeStyleToContext(h,M,v){const b=h.ctx,i=h.current;switch(M){case 1:const s=this.ctx;b.fillStyle=s.fillStyle,b.strokeStyle=s.strokeStyle,i.fillColor=s.fillStyle,i.strokeColor=s.strokeStyle;break;case 2:const y=f.Util.makeHexColor(v[0],v[1],v[2]);b.fillStyle=y,b.strokeStyle=y,i.fillColor=y,i.strokeColor=y;break;default:throw new f.FormatError(`Unsupported paint type: ${M}`)}}getPattern(h,M,v,b){let i=v;b!==z.SHADING&&(i=f.Util.transform(i,M.baseTransform),this.matrix&&(i=f.Util.transform(i,this.matrix)));const s=this.createPatternCanvas(M);let y=new DOMMatrix(i);y=y.translate(s.offsetX,s.offsetY),y=y.scale(1/s.scaleX,1/s.scaleY);const C=h.createPattern(s.canvas,"repeat");try{C.setTransform(y)}catch(x){(0,f.warn)(`TilingPattern.getPattern: "${x?.message}".`)}return C}}F.TilingPattern=r},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.applyMaskImageData=function oe({src:z,srcPos:e=0,dest:ne,destPos:D=0,width:u,height:S,inverseDecode:m=!1}){const g=f.FeatureTest.isLittleEndian?4278190080:255,[a,A]=m?[0,g]:[g,0],r=u>>3,o=7&u,h=z.length;ne=new Uint32Array(ne.buffer);for(let M=0;M<S;M++){for(const b=e+r;e<b;e++){const i=e<h?z[e]:255;ne[D++]=128&i?A:a,ne[D++]=64&i?A:a,ne[D++]=32&i?A:a,ne[D++]=16&i?A:a,ne[D++]=8&i?A:a,ne[D++]=4&i?A:a,ne[D++]=2&i?A:a,ne[D++]=1&i?A:a}if(0===o)continue;const v=e<h?z[e++]:255;for(let b=0;b<o;b++)ne[D++]=v&1<<7-b?A:a}return{srcPos:e,destPos:D}};var f=K(1)},(be,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.GlobalWorkerOptions=void 0;const K=Object.create(null);F.GlobalWorkerOptions=K,K.workerPort=void 0===K.workerPort?null:K.workerPort,K.workerSrc=void 0===K.workerSrc?"":K.workerSrc},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.MessageHandler=void 0;var f=K(1);function e(D){switch(D instanceof Error||"object"==typeof D&&null!==D||(0,f.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new f.AbortException(D.message);case"MissingPDFException":return new f.MissingPDFException(D.message);case"PasswordException":return new f.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new f.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new f.UnknownErrorException(D.message,D.details);default:return new f.UnknownErrorException(D.message,D.toString())}}F.MessageHandler=class ne{constructor(u,S,m){this.sourceName=u,this.targetName=S,this.comObj=m,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const a=g.data;if(a.targetName!==this.sourceName)return;if(a.stream)return void this._processStreamMessage(a);if(a.callback){const r=a.callbackId,o=this.callbackCapabilities[r];if(!o)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===a.callback)o.resolve(a.data);else{if(2!==a.callback)throw new Error("Unexpected callback case");o.reject(e(a.reason))}return}const A=this.actionHandler[a.action];if(!A)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const r=this.sourceName,o=a.sourceName;new Promise(function(h){h(A(a.data))}).then(function(h){m.postMessage({sourceName:r,targetName:o,callback:1,callbackId:a.callbackId,data:h})},function(h){m.postMessage({sourceName:r,targetName:o,callback:2,callbackId:a.callbackId,reason:e(h)})})}else a.streamId?this._createStreamSink(a):A(a.data)},m.addEventListener("message",this._onComObjOnMessage)}on(u,S){const m=this.actionHandler;if(m[u])throw new Error(`There is already an actionName called "${u}"`);m[u]=S}send(u,S,m){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:S},m)}sendWithPromise(u,S,m){const g=this.callbackId++,a=(0,f.createPromiseCapability)();this.callbackCapabilities[g]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:g,data:S},m)}catch(A){a.reject(A)}return a.promise}sendWithStream(u,S,m,g){const a=this.streamId++,A=this.sourceName,r=this.targetName,o=this.comObj;return new ReadableStream({start:h=>{const M=(0,f.createPromiseCapability)();return this.streamControllers[a]={controller:h,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:A,targetName:r,action:u,streamId:a,data:S,desiredSize:h.desiredSize},g),M.promise},pull:h=>{const M=(0,f.createPromiseCapability)();return this.streamControllers[a].pullCall=M,o.postMessage({sourceName:A,targetName:r,stream:6,streamId:a,desiredSize:h.desiredSize}),M.promise},cancel:h=>{(0,f.assert)(h instanceof Error,"cancel must have a valid reason");const M=(0,f.createPromiseCapability)();return this.streamControllers[a].cancelCall=M,this.streamControllers[a].isClosed=!0,o.postMessage({sourceName:A,targetName:r,stream:1,streamId:a,reason:e(h)}),M.promise}},m)}_createStreamSink(u){const S=u.streamId,m=this.sourceName,g=u.sourceName,a=this.comObj,A=this,r=this.actionHandler[u.action],o={enqueue(h,M=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=M,b>0&&this.desiredSize<=0&&(this.sinkCapability=(0,f.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:m,targetName:g,stream:4,streamId:S,chunk:h},v)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:m,targetName:g,stream:3,streamId:S}),delete A.streamSinks[S])},error(h){(0,f.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:m,targetName:g,stream:5,streamId:S,reason:e(h)}))},sinkCapability:(0,f.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[S]=o,new Promise(function(h){h(r(u.data,o))}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:8,streamId:S,success:!0})},function(h){a.postMessage({sourceName:m,targetName:g,stream:8,streamId:S,reason:e(h)})})}_processStreamMessage(u){const S=u.streamId,m=this.sourceName,g=u.sourceName,a=this.comObj,A=this.streamControllers[S],r=this.streamSinks[S];switch(u.stream){case 8:u.success?A.startCall.resolve():A.startCall.reject(e(u.reason));break;case 7:u.success?A.pullCall.resolve():A.pullCall.reject(e(u.reason));break;case 6:if(!r){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:S,success:!0});break}r.desiredSize<=0&&u.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=u.desiredSize,new Promise(function(o){o(r.onPull&&r.onPull())}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:S,success:!0})},function(o){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:S,reason:e(o)})});break;case 4:if((0,f.assert)(A,"enqueue should have stream controller"),A.isClosed)break;A.controller.enqueue(u.chunk);break;case 3:if((0,f.assert)(A,"close should have stream controller"),A.isClosed)break;A.isClosed=!0,A.controller.close(),this._deleteStreamController(A,S);break;case 5:(0,f.assert)(A,"error should have stream controller"),A.controller.error(e(u.reason)),this._deleteStreamController(A,S);break;case 2:u.success?A.cancelCall.resolve():A.cancelCall.reject(e(u.reason)),this._deleteStreamController(A,S);break;case 1:if(!r)break;new Promise(function(o){o(r.onCancel&&r.onCancel(e(u.reason)))}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:2,streamId:S,success:!0})},function(o){a.postMessage({sourceName:m,targetName:g,stream:2,streamId:S,reason:e(o)})}),r.sinkCapability.reject(e(u.reason)),r.isCancelled=!0,delete this.streamSinks[S];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(u,S){var m=this;return _asyncToGenerator(function*(){yield Promise.allSettled([u.startCall&&u.startCall.promise,u.pullCall&&u.pullCall.promise,u.cancelCall&&u.cancelCall.promise]),delete m.streamControllers[S]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(be,F,K)=>{var z,e;Object.defineProperty(F,"__esModule",{value:!0}),F.Metadata=void 0;var f=K(1);z=new WeakMap,e=new WeakMap,F.Metadata=class oe{constructor({parsedData:D,rawData:u}){ke(this,z,void 0),ke(this,e,void 0),Ue(this,z,D),Ue(this,e,u)}getRaw(){return we(this,e)}get(D){return we(this,z).get(D)??null}getAll(){return(0,f.objectFromMap)(we(this,z))}has(D){return we(this,z).has(D)}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.OptionalContentConfig=void 0;var f=K(1);class oe{constructor(ne,D){this.visible=!0,this.name=ne,this.intent=D}}F.OptionalContentConfig=class z{constructor(ne){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ne){this.name=ne.name,this.creator=ne.creator,this._order=ne.order;for(const D of ne.groups)this._groups.set(D.id,new oe(D.name,D.intent));if("OFF"===ne.baseState)for(const D of this._groups)D.visible=!1;for(const D of ne.on)this._groups.get(D).visible=!0;for(const D of ne.off)this._groups.get(D).visible=!1}}_evaluateVisibilityExpression(ne){const D=ne.length;if(D<2)return!0;const u=ne[0];for(let S=1;S<D;S++){const m=ne[S];let g;if(Array.isArray(m))g=this._evaluateVisibilityExpression(m);else{if(!this._groups.has(m))return(0,f.warn)(`Optional content group not found: ${m}`),!0;g=this._groups.get(m).visible}switch(u){case"And":if(!g)return!1;break;case"Or":if(g)return!0;break;case"Not":return!g;default:return!0}}return"And"===u}isVisible(ne){if(0===this._groups.size)return!0;if(!ne)return(0,f.warn)("Optional content group not defined."),!0;if("OCG"===ne.type)return this._groups.has(ne.id)?this._groups.get(ne.id).visible:((0,f.warn)(`Optional content group not found: ${ne.id}`),!0);if("OCMD"===ne.type){if(ne.expression)return this._evaluateVisibilityExpression(ne.expression);if(!ne.policy||"AnyOn"===ne.policy){for(const D of ne.ids){if(!this._groups.has(D))return(0,f.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!0}return!1}if("AllOn"===ne.policy){for(const D of ne.ids){if(!this._groups.has(D))return(0,f.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!1}return!0}if("AnyOff"===ne.policy){for(const D of ne.ids){if(!this._groups.has(D))return(0,f.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!0}return!1}if("AllOff"===ne.policy){for(const D of ne.ids){if(!this._groups.has(D))return(0,f.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!1}return!0}return(0,f.warn)(`Unknown optional content policy ${ne.policy}.`),!0}return(0,f.warn)(`Unknown group type ${ne.type}.`),!0}setVisibility(ne,D=!0){this._groups.has(ne)?this._groups.get(ne).visible=!!D:(0,f.warn)(`Optional content group not found: ${ne}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,f.objectFromMap)(this._groups):null}getGroup(ne){return this._groups.get(ne)||null}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFDataTransportStream=void 0;var f=K(1),oe=K(5);F.PDFDataTransportStream=class z{constructor(u,S){(0,f.assert)(S,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=u.progressiveDone||!1,this._contentDispositionFilename=u.contentDispositionFilename||null;const m=u.initialData;if(m?.length>0){const g=new Uint8Array(m).buffer;this._queuedChunks.push(g)}this._pdfDataRangeTransport=S,this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._contentLength=u.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((g,a)=>{this._onReceiveData({begin:g,chunk:a})}),this._pdfDataRangeTransport.addProgressListener((g,a)=>{this._onProgress({loaded:g,total:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(g=>{this._onReceiveData({chunk:g})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(u){const S=new Uint8Array(u.chunk).buffer;if(void 0===u.begin)this._fullRequestReader?this._fullRequestReader._enqueue(S):this._queuedChunks.push(S);else{const m=this._rangeReaders.some(function(g){return g._begin===u.begin&&(g._enqueue(S),!0)});(0,f.assert)(m,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(u){if(void 0===u.total){const S=this._rangeReaders[0];S?.onProgress&&S.onProgress({loaded:u.loaded})}else{const S=this._fullRequestReader;S?.onProgress&&S.onProgress({loaded:u.loaded,total:u.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){const S=this._rangeReaders.indexOf(u);S>=0&&this._rangeReaders.splice(S,1)}getFullReader(){(0,f.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const u=this._queuedChunks;return this._queuedChunks=null,new e(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,S){if(S<=this._progressiveDataLength)return null;const m=new ne(this,u,S);return this._pdfDataRangeTransport.requestDataRange(u,S),this._rangeReaders.push(m),m}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(const S of this._rangeReaders.slice(0))S.cancel(u);this._pdfDataRangeTransport.abort()}};class e{constructor(u,S,m=!1,g=null){this._stream=u,this._done=m||!1,this._filename=(0,oe.isPdfFile)(g)?g:null,this._queuedChunks=S||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var u=this;return _asyncToGenerator(function*(){if(u._queuedChunks.length>0)return{value:u._queuedChunks.shift(),done:!1};if(u._done)return{value:void 0,done:!0};const S=(0,f.createPromiseCapability)();return u._requests.push(S),S.promise})()}cancel(u){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ne{constructor(u,S,m){this._stream=u,this._begin=S,this._end=m,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(0===this._requests.length)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var u=this;return _asyncToGenerator(function*(){if(u._queuedChunk){const m=u._queuedChunk;return u._queuedChunk=null,{value:m,done:!1}}if(u._done)return{value:void 0,done:!0};const S=(0,f.createPromiseCapability)();return u._requests.push(S),S.promise})()}cancel(u){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(be,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.XfaText=void 0;class K{static textContent(oe){const z=[],e={items:z,styles:Object.create(null)};return function ne(D){if(!D)return;let u=null;const S=D.name;if("#text"===S)u=D.value;else{if(!K.shouldBuildText(S))return;D?.attributes?.textContent?u=D.attributes.textContent:D.value&&(u=D.value)}if(null!==u&&z.push({str:u}),D.children)for(const m of D.children)ne(m)}(oe),e}static shouldBuildText(oe){return!("textarea"===oe||"input"===oe||"option"===oe||"select"===oe)}}F.XfaText=K},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.NodeStandardFontDataFactory=F.NodeCanvasFactory=F.NodeCMapReaderFactory=void 0;var f=K(6);const oe=function(D){return new Promise((u,S)=>{__webpack_require__(172).readFile(D,(g,a)=>{!g&&a?u(new Uint8Array(a)):S(new Error(g))})})};F.NodeCanvasFactory=class z extends f.BaseCanvasFactory{_createCanvas(u,S){return __webpack_require__(3414).createCanvas(u,S)}},F.NodeCMapReaderFactory=class e extends f.BaseCMapReaderFactory{_fetchData(u,S){return oe(u).then(m=>({cMapData:m,compressionType:S}))}},F.NodeStandardFontDataFactory=class ne extends f.BaseStandardFontDataFactory{_fetchData(u){return oe(u)}}},(be,F,K)=>{var I,Zt;Object.defineProperty(F,"__esModule",{value:!0}),F.AnnotationLayer=void 0;var f=K(1),oe=K(5),z=K(8),e=K(21),ne=K(22);const D=1e3,u=new WeakSet;function S(d){return{width:d[2]-d[0],height:d[3]-d[1]}}class m{static create(n){switch(n.data.annotationType){case f.AnnotationType.LINK:return new a(n);case f.AnnotationType.TEXT:return new A(n);case f.AnnotationType.WIDGET:switch(n.data.fieldType){case"Tx":return new o(n);case"Btn":return n.data.radioButton?new M(n):n.data.checkBox?new h(n):new v(n);case"Ch":return new b(n)}return new r(n);case f.AnnotationType.POPUP:return new i(n);case f.AnnotationType.FREETEXT:return new y(n);case f.AnnotationType.LINE:return new C(n);case f.AnnotationType.SQUARE:return new x(n);case f.AnnotationType.CIRCLE:return new O(n);case f.AnnotationType.POLYLINE:return new k(n);case f.AnnotationType.CARET:return new Z(n);case f.AnnotationType.INK:return new G(n);case f.AnnotationType.POLYGON:return new N(n);case f.AnnotationType.HIGHLIGHT:return new U(n);case f.AnnotationType.UNDERLINE:return new X(n);case f.AnnotationType.SQUIGGLY:return new B(n);case f.AnnotationType.STRIKEOUT:return new $(n);case f.AnnotationType.STAMP:return new te(n);case f.AnnotationType.FILEATTACHMENT:return new ie(n);default:return new g(n)}}}class g{constructor(n,{isRenderable:c=!1,ignoreBorder:_=!1,createQuadrilaterals:E=!1}={}){this.isRenderable=c,this.data=n.data,this.layer=n.layer,this.page=n.page,this.viewport=n.viewport,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this._mouseState=n.mouseState,c&&(this.container=this._createContainer(_)),E&&(this.quadrilaterals=this._createQuadrilaterals(_))}_createContainer(n=!1){const c=this.data,_=this.page,E=this.viewport,P=document.createElement("section");let{width:R,height:J}=S(c.rect);P.setAttribute("data-annotation-id",c.id);const Q=f.Util.normalizeRect([c.rect[0],_.view[3]-c.rect[1]+_.view[1],c.rect[2],_.view[3]-c.rect[3]+_.view[1]]);if(c.hasOwnCanvas){const W=E.transform.slice(),[ee,se]=f.Util.singularValueDecompose2dScale(W);R=Math.ceil(R*ee),J=Math.ceil(J*se),Q[0]*=ee,Q[1]*=se;for(let de=0;de<4;de++)W[de]=Math.sign(W[de]);P.style.transform=`matrix(${W.join(",")})`}else P.style.transform=`matrix(${E.transform.join(",")})`;if(P.style.transformOrigin=`${-Q[0]}px ${-Q[1]}px`,!n&&c.borderStyle.width>0){P.style.borderWidth=`${c.borderStyle.width}px`,c.borderStyle.style!==f.AnnotationBorderStyleType.UNDERLINE&&(R-=2*c.borderStyle.width,J-=2*c.borderStyle.width);const W=c.borderStyle.horizontalCornerRadius,ee=c.borderStyle.verticalCornerRadius;switch((W>0||ee>0)&&(P.style.borderRadius=`${W}px / ${ee}px`),c.borderStyle.style){case f.AnnotationBorderStyleType.SOLID:P.style.borderStyle="solid";break;case f.AnnotationBorderStyleType.DASHED:P.style.borderStyle="dashed";break;case f.AnnotationBorderStyleType.BEVELED:(0,f.warn)("Unimplemented border style: beveled");break;case f.AnnotationBorderStyleType.INSET:(0,f.warn)("Unimplemented border style: inset");break;case f.AnnotationBorderStyleType.UNDERLINE:P.style.borderBottomStyle="solid"}c.borderColor||c.color?P.style.borderColor=f.Util.makeHexColor(0|c.color[0],0|c.color[1],0|c.color[2]):P.style.borderWidth=0}return P.style.left=`${Q[0]}px`,P.style.top=`${Q[1]}px`,c.hasOwnCanvas?P.style.width=P.style.height="auto":(P.style.width=`${R}px`,P.style.height=`${J}px`),P}get _commonActions(){const n=(c,_,E)=>{const P=E.detail[c];E.target.style[_]=e.ColorConverters[`${P[0]}_HTML`](P.slice(1))};return(0,f.shadow)(this,"_commonActions",{display:c=>{const _=c.detail.display%2==1;c.target.style.visibility=_?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:_,print:0===c.detail.display||3===c.detail.display})},print:c=>{this.annotationStorage.setValue(this.data.id,{print:c.detail.print})},hidden:c=>{c.target.style.visibility=c.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:c.detail.hidden})},focus:c=>{setTimeout(()=>c.target.focus({preventScroll:!1}),0)},userName:c=>{c.target.title=c.detail.userName},readonly:c=>{c.detail.readonly?c.target.setAttribute("readonly",""):c.target.removeAttribute("readonly")},required:c=>{c.detail.required?c.target.setAttribute("required",""):c.target.removeAttribute("required")},bgColor:c=>{n("bgColor","backgroundColor",c)},fillColor:c=>{n("fillColor","backgroundColor",c)},fgColor:c=>{n("fgColor","color",c)},textColor:c=>{n("textColor","color",c)},borderColor:c=>{n("borderColor","borderColor",c)},strokeColor:c=>{n("strokeColor","borderColor",c)}})}_dispatchEventFromSandbox(n,c){const _=this._commonActions;for(const E of Object.keys(c.detail)){const P=n[E]||_[E];P&&P(c)}}_setDefaultPropertiesFromJS(n){if(!this.enableScripting)return;const c=this.annotationStorage.getRawValue(this.data.id);if(!c)return;const _=this._commonActions;for(const[E,P]of Object.entries(c)){const R=_[E];R&&(R({detail:P,target:n}),delete c[E])}}_createQuadrilaterals(n=!1){if(!this.data.quadPoints)return null;const c=[],_=this.data.rect;for(const E of this.data.quadPoints)this.data.rect=[E[2].x,E[2].y,E[1].x,E[1].y],c.push(this._createContainer(n));return this.data.rect=_,c}_createPopup(n,c){let _=this.container;this.quadrilaterals&&(n=n||this.quadrilaterals,_=this.quadrilaterals[0]),n||((n=document.createElement("div")).style.height=_.style.height,n.style.width=_.style.width,_.appendChild(n));const P=new s({container:_,trigger:n,color:c.color,titleObj:c.titleObj,modificationDate:c.modificationDate,contentsObj:c.contentsObj,richText:c.richText,hideWrapper:!0}).render();P.style.left=_.style.width,_.appendChild(P)}_renderQuadrilaterals(n){for(const c of this.quadrilaterals)c.className=n;return this.quadrilaterals}render(){(0,f.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,c=null){const _=[];if(this._fieldObjects){const E=this._fieldObjects[n];if(E)for(const{page:P,id:R,exportValues:J}of E){if(-1===P||R===c)continue;const Q="string"==typeof J?J:null,W=document.getElementById(R);!W||u.has(W)?_.push({id:R,exportValue:Q,domElement:W}):(0,f.warn)(`_getElementsByName - element not allowed: ${R}`)}return _}for(const E of document.getElementsByName(n)){const{id:P,exportValue:R}=E;P!==c&&(!u.has(E)||_.push({id:P,exportValue:R,domElement:E}))}return _}static get platform(){const n=typeof navigator<"u"?navigator.platform:"";return(0,f.shadow)(this,"platform",{isWin:n.includes("Win"),isMac:n.includes("Mac")})}}class a extends g{constructor(n,c=null){super(n,{isRenderable:!!(n.data.url||n.data.dest||n.data.action||n.data.isTooltipOnly||n.data.resetForm||n.data.actions&&(n.data.actions.Action||n.data.actions["Mouse Up"]||n.data.actions["Mouse Down"])),ignoreBorder:!!c?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:n,linkService:c}=this,_=document.createElement("a");if(n.url)c.addLinkAttributes(_,n.url,n.newWindow);else if(n.action)this._bindNamedAction(_,n.action);else if(n.dest)this._bindLink(_,n.dest);else{let E=!1;n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(E=!0,this._bindJSAction(_,n)),n.resetForm?this._bindResetFormAction(_,n.resetForm):E||this._bindLink(_,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((E,P)=>{const R=0===P?_:_.cloneNode();return E.appendChild(R),E}):(this.container.className="linkAnnotation",this.container.appendChild(_),this.container)}_bindLink(n,c){n.href=this.linkService.getDestinationHash(c),n.onclick=()=>(c&&this.linkService.goToDestination(c),!1),(c||""===c)&&(n.className="internalLink")}_bindNamedAction(n,c){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(c),!1),n.className="internalLink"}_bindJSAction(n,c){n.href=this.linkService.getAnchorUrl("");const _=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const E of Object.keys(c.actions)){const P=_.get(E);!P||(n[P]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c.id,name:E}}),!1))}n.onclick||(n.onclick=()=>!1),n.className="internalLink"}_bindResetFormAction(n,c){const _=n.onclick;if(_||(n.href=this.linkService.getAnchorUrl("")),n.className="internalLink",!this._fieldObjects)return(0,f.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(_||(n.onclick=()=>!1));n.onclick=()=>{_&&_();const{fields:E,refs:P,include:R}=c,J=[];if(0!==E.length||0!==P.length){const ee=new Set(P);for(const se of E){const de=this._fieldObjects[se]||[];for(const{id:_e}of de)ee.add(_e)}for(const se of Object.values(this._fieldObjects))for(const de of se)ee.has(de.id)===R&&J.push(de)}else for(const ee of Object.values(this._fieldObjects))J.push(...ee);const Q=this.annotationStorage,W=[];for(const ee of J){const{id:se}=ee;switch(W.push(se),ee.type){case"text":case"combobox":case"listbox":Q.setValue(se,{value:ee.defaultValue||""});break;case"checkbox":case"radiobutton":Q.setValue(se,{value:ee.defaultValue===ee.exportValues});break;default:continue}const de=document.getElementById(se);!de||!u.has(de)||de.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}}),!1}}}class A extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str)})}render(){this.container.className="textAnnotation";const n=document.createElement("img");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.alt="[{{type}} Annotation]",n.dataset.l10nId="text_annotation_type",n.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(n,this.data),this.container.appendChild(n),this.container}}class r extends g{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(n){const{isWin:c,isMac:_}=g.platform;return c&&n.ctrlKey||_&&n.metaKey}_setEventListener(n,c,_,E){c.includes("mouse")?n.addEventListener(c,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:E(P),shift:P.shiftKey,modifier:this._getKeyModifier(P)}})}):n.addEventListener(c,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:E(P)}})})}_setEventListeners(n,c,_){for(const[E,P]of c)("Action"===P||this.data.actions?.[P])&&this._setEventListener(n,E,P,_)}_setBackgroundColor(n){const c=this.data.backgroundColor||null;n.style.backgroundColor=null===c?"transparent":f.Util.makeHexColor(c[0],c[1],c[2])}}class o extends r{constructor(n){super(n,{isRenderable:n.renderForms||!n.data.hasAppearance&&!!n.data.fieldValue})}setPropertyOnSiblings(n,c,_,E){const P=this.annotationStorage;for(const R of this._getElementsByName(n.name,n.id))R.domElement&&(R.domElement[c]=_),P.setValue(R.id,{[E]:_})}render(){const n=this.annotationStorage,c=this.data.id;this.container.className="textWidgetAnnotation";let _=null;if(this.renderForms){const E=n.getValue(c,{value:this.data.fieldValue}),P=E.formattedValue||E.value||"",R={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(_=document.createElement("textarea"),_.textContent=P):(_=document.createElement("input"),_.type="text",_.setAttribute("value",P)),u.add(_),_.disabled=this.data.readOnly,_.name=this.data.fieldName,_.tabIndex=D,R.userValue=P,_.setAttribute("id",c),_.addEventListener("input",Q=>{n.setValue(c,{value:Q.target.value}),this.setPropertyOnSiblings(_,"value",Q.target.value,"value")}),_.addEventListener("resetform",Q=>{_.value=R.userValue=this.data.defaultFieldValue??"",R.formattedValue=null});let J=Q=>{const{formattedValue:W}=R;null!=W&&(Q.target.value=W),Q.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){_.addEventListener("focus",W=>{R.userValue&&(W.target.value=R.userValue),R.valueOnFocus=W.target.value}),_.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(se){R.userValue=se.detail.value??"",n.setValue(c,{value:R.userValue.toString()}),se.target.value=R.userValue},formattedValue(se){const{formattedValue:de}=se.detail;R.formattedValue=de,null!=de&&se.target!==document.activeElement&&(se.target.value=de),n.setValue(c,{formattedValue:de})},selRange(se){se.target.setSelectionRange(...se.detail.selRange)}},W)}),_.addEventListener("keydown",W=>{let ee=-1;if("Escape"===W.key?ee=0:"Enter"===W.key?ee=2:"Tab"===W.key&&(ee=3),-1===ee)return;const{value:se}=W.target;R.valueOnFocus!==se&&(R.userValue=se,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:se,willCommit:!0,commitKey:ee,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const Q=J;J=null,_.addEventListener("blur",W=>{const{value:ee}=W.target;R.userValue=ee,this._mouseState.isDown&&R.valueOnFocus!==ee&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:ee,willCommit:!0,commitKey:1,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}),Q(W)}),this.data.actions?.Keystroke&&_.addEventListener("beforeinput",W=>{const{data:ee,target:se}=W,{value:de,selectionStart:_e,selectionEnd:Pe}=se;let le=_e,pe=Pe;switch(W.inputType){case"deleteWordBackward":{const he=de.substring(0,_e).match(/\w*[^\w]*$/);he&&(le-=he[0].length);break}case"deleteWordForward":{const he=de.substring(_e).match(/^[^\w]*\w*/);he&&(pe+=he[0].length);break}case"deleteContentBackward":_e===Pe&&(le-=1);break;case"deleteContentForward":_e===Pe&&(pe+=1)}W.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:de,change:ee||"",willCommit:!1,selStart:le,selEnd:pe}})}),this._setEventListeners(_,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(J&&_.addEventListener("blur",J),null!==this.data.maxLen&&(_.maxLength=this.data.maxLen),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;_.classList.add("comb"),_.style.letterSpacing=`calc(${W}px - 1ch)`}}else _=document.createElement("div"),_.textContent=this.data.fieldValue,_.style.verticalAlign="middle",_.style.display="table-cell";return this._setTextStyle(_),this._setBackgroundColor(_),this._setDefaultPropertiesFromJS(_),this.container.appendChild(_),this.container}_setTextStyle(n){const{fontSize:_,fontColor:E}=this.data.defaultAppearanceData,P=n.style;_&&(P.fontSize=`${_}px`),P.color=f.Util.makeHexColor(E[0],E[1],E[2]),null!==this.data.textAlignment&&(P.textAlign=["left","center","right"][this.data.textAlignment])}}class h extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,c=this.data,_=c.id;let E=n.getValue(_,{value:c.exportValue===c.fieldValue}).value;"string"==typeof E&&(E="Off"!==E,n.setValue(_,{value:E})),this.container.className="buttonWidgetAnnotation checkBox";const P=document.createElement("input");return u.add(P),P.disabled=c.readOnly,P.type="checkbox",P.name=c.fieldName,E&&P.setAttribute("checked",!0),P.setAttribute("id",_),P.setAttribute("exportValue",c.exportValue),P.tabIndex=D,P.addEventListener("change",R=>{const{name:J,checked:Q}=R.target;for(const W of this._getElementsByName(J,_)){const ee=Q&&W.exportValue===c.exportValue;W.domElement&&(W.domElement.checked=ee),n.setValue(W.id,{value:ee})}n.setValue(_,{value:Q})}),P.addEventListener("resetform",R=>{R.target.checked=(c.defaultFieldValue||"Off")===c.exportValue}),this.enableScripting&&this.hasJSActions&&(P.addEventListener("updatefromsandbox",R=>{this._dispatchEventFromSandbox({value(Q){Q.target.checked="Off"!==Q.detail.value,n.setValue(_,{value:Q.target.checked})}},R)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],R=>R.target.checked)),this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.appendChild(P),this.container}}class M extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const n=this.annotationStorage,c=this.data,_=c.id;let E=n.getValue(_,{value:c.fieldValue===c.buttonValue}).value;"string"==typeof E&&(E=E!==c.buttonValue,n.setValue(_,{value:E}));const P=document.createElement("input");if(u.add(P),P.disabled=c.readOnly,P.type="radio",P.name=c.fieldName,E&&P.setAttribute("checked",!0),P.setAttribute("id",_),P.tabIndex=D,P.addEventListener("change",R=>{const{name:J,checked:Q}=R.target;for(const W of this._getElementsByName(J,_))n.setValue(W.id,{value:!1});n.setValue(_,{value:Q})}),P.addEventListener("resetform",R=>{const J=c.defaultFieldValue;R.target.checked=null!=J&&J===c.buttonValue}),this.enableScripting&&this.hasJSActions){const R=c.buttonValue;P.addEventListener("updatefromsandbox",J=>{this._dispatchEventFromSandbox({value:W=>{const ee=R===W.detail.value;for(const se of this._getElementsByName(W.target.name)){const de=ee&&se.id===_;se.domElement&&(se.domElement.checked=de),n.setValue(se.id,{value:de})}}},J)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)}return this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.appendChild(P),this.container}}class v extends a{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();return n.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(n.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(n),n}}class b extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const n=this.annotationStorage,c=this.data.id,_=n.getValue(c,{value:this.data.fieldValue});let{fontSize:E}=this.data.defaultAppearanceData;E||(E=9);const P=`calc(${E}px * var(--zoom-factor))`,R=document.createElement("select");u.add(R),R.disabled=this.data.readOnly,R.name=this.data.fieldName,R.setAttribute("id",c),R.tabIndex=D,R.style.fontSize=`${E}px`,this.data.combo||(R.size=this.data.options.length,this.data.multiSelect&&(R.multiple=!0)),R.addEventListener("resetform",W=>{const ee=this.data.defaultFieldValue;for(const se of R.options)se.selected=se.value===ee});for(const W of this.data.options){const ee=document.createElement("option");ee.textContent=W.displayValue,ee.value=W.exportValue,this.data.combo&&(ee.style.fontSize=P),_.value.includes(W.exportValue)&&ee.setAttribute("selected",!0),R.appendChild(ee)}const J=(W,ee)=>{const se=ee?"value":"textContent",de=W.target.options;return W.target.multiple?Array.prototype.filter.call(de,_e=>_e.selected).map(_e=>_e[se]):-1===de.selectedIndex?null:de[de.selectedIndex][se]},Q=W=>Array.prototype.map.call(W.target.options,se=>({displayValue:se.textContent,exportValue:se.value}));return this.enableScripting&&this.hasJSActions?(R.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(se){const de=se.detail.value,_e=new Set(Array.isArray(de)?de:[de]);for(const Pe of R.options)Pe.selected=_e.has(Pe.value);n.setValue(c,{value:J(se,!0)})},multipleSelection(se){R.multiple=!0},remove(se){const de=R.options,_e=se.detail.remove;de[_e].selected=!1,R.remove(_e),de.length>0&&-1===Array.prototype.findIndex.call(de,le=>le.selected)&&(de[0].selected=!0),n.setValue(c,{value:J(se,!0),items:Q(se)})},clear(se){for(;0!==R.length;)R.remove(0);n.setValue(c,{value:null,items:[]})},insert(se){const{index:de,displayValue:_e,exportValue:Pe}=se.detail.insert,le=document.createElement("option");le.textContent=_e,le.value=Pe,R.insertBefore(le,R.children[de]),n.setValue(c,{value:J(se,!0),items:Q(se)})},items(se){const{items:de}=se.detail;for(;0!==R.length;)R.remove(0);for(const _e of de){const{displayValue:Pe,exportValue:le}=_e,pe=document.createElement("option");pe.textContent=Pe,pe.value=le,R.appendChild(pe)}R.options.length>0&&(R.options[0].selected=!0),n.setValue(c,{value:J(se,!0),items:Q(se)})},indices(se){const de=new Set(se.detail.indices);for(const _e of se.target.options)_e.selected=de.has(_e.index);n.setValue(c,{value:J(se,!0)})},editable(se){se.target.disabled=!se.detail.editable}},W)}),R.addEventListener("input",W=>{const ee=J(W,!0),se=J(W,!1);n.setValue(c,{value:ee}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:se,changeEx:ee,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(R,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],W=>W.target.checked)):R.addEventListener("input",function(W){n.setValue(c,{value:J(W,!0)})}),this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.appendChild(R),this.container}}class i extends g{constructor(n){super(n,{isRenderable:!!(n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const _=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===_.length)return this.container;const E=new s({container:this.container,trigger:Array.from(_),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),P=this.page,R=f.Util.normalizeRect([this.data.parentRect[0],P.view[3]-this.data.parentRect[1]+P.view[1],this.data.parentRect[2],P.view[3]-this.data.parentRect[3]+P.view[1]]),J=R[0]+this.data.parentRect[2]-this.data.parentRect[0],Q=R[1];return this.container.style.transformOrigin=`${-J}px ${-Q}px`,this.container.style.left=`${J}px`,this.container.style.top=`${Q}px`,this.container.appendChild(E.render()),this.container}}class s{constructor(n){this.container=n.container,this.trigger=n.trigger,this.color=n.color,this.titleObj=n.titleObj,this.modificationDate=n.modificationDate,this.contentsObj=n.contentsObj,this.richText=n.richText,this.hideWrapper=n.hideWrapper||!1,this.pinned=!1}render(){const c=document.createElement("div");c.className="popupWrapper",this.hideElement=this.hideWrapper?c:this.container,this.hideElement.hidden=!0;const _=document.createElement("div");_.className="popup";const E=this.color;E&&(_.style.backgroundColor=f.Util.makeHexColor(0|.7*(255-E[0])+E[0],0|.7*(255-E[1])+E[1],0|.7*(255-E[2])+E[2]));const P=document.createElement("h1");P.dir=this.titleObj.dir,P.textContent=this.titleObj.str,_.appendChild(P);const R=oe.PDFDateString.toDateObject(this.modificationDate);if(R){const J=document.createElement("span");J.className="popupDate",J.textContent="{{date}}, {{time}}",J.dataset.l10nId="annotation_date_string",J.dataset.l10nArgs=JSON.stringify({date:R.toLocaleDateString(),time:R.toLocaleTimeString()}),_.appendChild(J)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const J=this._formatContents(this.contentsObj);_.appendChild(J)}else ne.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:_}),_.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const J of this.trigger)J.addEventListener("click",this._toggle.bind(this)),J.addEventListener("mouseover",this._show.bind(this,!1)),J.addEventListener("mouseout",this._hide.bind(this,!1));return _.addEventListener("click",this._hide.bind(this,!0)),c.appendChild(_),c}_formatContents({str:n,dir:c}){const _=document.createElement("p");_.className="popupContent",_.dir=c;const E=n.split(/(?:\r\n?|\n)/);for(let P=0,R=E.length;P<R;++P)_.appendChild(document.createTextNode(E[P])),P<R-1&&_.appendChild(document.createElement("br"));return _}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(n=!1){n&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(n=!0){n&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class y extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class C extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const n=this.data,{width:c,height:_}=S(n.rect),E=this.svgFactory.create(c,_),P=this.svgFactory.createElement("svg:line");return P.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),P.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),P.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),P.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),P.setAttribute("stroke-width",n.borderStyle.width||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),E.appendChild(P),this.container.append(E),this._createPopup(P,n),this.container}}class x extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const n=this.data,{width:c,height:_}=S(n.rect),E=this.svgFactory.create(c,_),P=n.borderStyle.width,R=this.svgFactory.createElement("svg:rect");return R.setAttribute("x",P/2),R.setAttribute("y",P/2),R.setAttribute("width",c-P),R.setAttribute("height",_-P),R.setAttribute("stroke-width",P||1),R.setAttribute("stroke","transparent"),R.setAttribute("fill","transparent"),E.appendChild(R),this.container.append(E),this._createPopup(R,n),this.container}}class O extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const n=this.data,{width:c,height:_}=S(n.rect),E=this.svgFactory.create(c,_),P=n.borderStyle.width,R=this.svgFactory.createElement("svg:ellipse");return R.setAttribute("cx",c/2),R.setAttribute("cy",_/2),R.setAttribute("rx",c/2-P/2),R.setAttribute("ry",_/2-P/2),R.setAttribute("stroke-width",P||1),R.setAttribute("stroke","transparent"),R.setAttribute("fill","transparent"),E.appendChild(R),this.container.append(E),this._createPopup(R,n),this.container}}class k extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:c,height:_}=S(n.rect),E=this.svgFactory.create(c,_);let P=[];for(const J of n.vertices)P.push(J.x-n.rect[0]+","+(n.rect[3]-J.y));P=P.join(" ");const R=this.svgFactory.createElement(this.svgElementName);return R.setAttribute("points",P),R.setAttribute("stroke-width",n.borderStyle.width||1),R.setAttribute("stroke","transparent"),R.setAttribute("fill","transparent"),E.appendChild(R),this.container.append(E),this._createPopup(R,n),this.container}}class N extends k{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Z extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class G extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:c,height:_}=S(n.rect),E=this.svgFactory.create(c,_);for(const P of n.inkLists){let R=[];for(const Q of P)R.push(`${Q.x-n.rect[0]},${n.rect[3]-Q.y}`);R=R.join(" ");const J=this.svgFactory.createElement(this.svgElementName);J.setAttribute("points",R),J.setAttribute("stroke-width",n.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),this._createPopup(J,n),E.appendChild(J)}return this.container.append(E),this.container}}class U extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class X extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class B extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class $ extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class te extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ie extends g{constructor(n){super(n,{isRenderable:!0});const{filename:c,content:_}=this.data.file;this.filename=(0,oe.getFilenameFromUrl)(c),this.content=_,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:c,content:_})}render(){this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class ce{static render(n){const c=[],_=[];for(const P of n.annotations){if(!P)continue;const{width:R,height:J}=S(P.rect);if(!(R<=0||J<=0)){if(P.annotationType===f.AnnotationType.POPUP){_.push(P);continue}c.push(P)}}_.length&&c.push(..._);const E=n.div;for(const P of c){const R=m.create({data:P,layer:E,page:n.page,viewport:n.viewport,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:!1!==n.renderForms,svgFactory:new oe.DOMSVGFactory,annotationStorage:n.annotationStorage||new z.AnnotationStorage,enableScripting:n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,mouseState:n.mouseState||{isDown:!1}});if(R.isRenderable){const J=R.render();if(P.hidden&&(J.style.visibility="hidden"),Array.isArray(J))for(const Q of J)E.appendChild(Q);else R instanceof i?E.prepend(J):E.appendChild(J)}}Ee(this,I,Zt).call(this,E,n.annotationCanvasMap)}static update(n){const{page:c,viewport:_,annotations:E,annotationCanvasMap:P,div:R}=n,J=_.transform,Q=`matrix(${J.join(",")})`;let W,ee;for(const se of E){const de=R.querySelectorAll(`[data-annotation-id="${se.id}"]`);if(de)for(const _e of de)if(se.hasOwnCanvas){const Pe=f.Util.normalizeRect([se.rect[0],c.view[3]-se.rect[1]+c.view[1],se.rect[2],c.view[3]-se.rect[3]+c.view[1]]);if(!ee){W=Math.abs(J[0]||J[1]);const he=J.slice();for(let w=0;w<4;w++)he[w]=Math.sign(he[w]);ee=`matrix(${he.join(",")})`}const le=Pe[0]*W,pe=Pe[1]*W;_e.style.left=`${le}px`,_e.style.top=`${pe}px`,_e.style.transformOrigin=`${-le}px ${-pe}px`,_e.style.transform=ee}else _e.style.transform=Q}Ee(this,I,Zt).call(this,R,P),R.hidden=!1}}I=new WeakSet,Zt=function(n,c){if(c){for(const[_,E]of c){const P=n.querySelector(`[data-annotation-id="${_}"]`);if(!P)continue;const{firstChild:R}=P;"CANVAS"===R.nodeName?P.replaceChild(E,R):P.insertBefore(E,R)}c.clear()}},ke(ce,I),F.AnnotationLayer=ce},(be,F)=>{function K(oe){return Math.floor(255*Math.max(0,Math.min(1,oe))).toString(16).padStart(2,"0")}Object.defineProperty(F,"__esModule",{value:!0}),F.ColorConverters=void 0,F.ColorConverters=class f{static CMYK_G([z,e,ne,D]){return["G",1-Math.min(1,.3*z+.59*ne+.11*e+D)]}static G_CMYK([z]){return["CMYK",0,0,0,1-z]}static G_RGB([z]){return["RGB",z,z,z]}static G_HTML([z]){const e=K(z);return`#${e}${e}${e}`}static RGB_G([z,e,ne]){return["G",.3*z+.59*e+.11*ne]}static RGB_HTML([z,e,ne]){return`#${K(z)}${K(e)}${K(ne)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([z,e,ne,D]){return["RGB",1-Math.min(1,z+D),1-Math.min(1,ne+D),1-Math.min(1,e+D)]}static CMYK_HTML(z){return this.RGB_HTML(this.CMYK_RGB(z))}static RGB_CMYK([z,e,ne]){const D=1-z,u=1-e,S=1-ne;return["CMYK",D,u,S,Math.min(D,u,S)]}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.XfaLayer=void 0;var f=K(18);F.XfaLayer=class oe{static setupStorage(e,ne,D,u,S){const m=u.getValue(ne,{value:null});switch(D.name){case"textarea":if(null!==m.value&&(e.textContent=m.value),"print"===S)break;e.addEventListener("input",g=>{u.setValue(ne,{value:g.target.value})});break;case"input":if("radio"===D.attributes.type||"checkbox"===D.attributes.type){if(m.value===D.attributes.xfaOn?e.setAttribute("checked",!0):m.value===D.attributes.xfaOff&&e.removeAttribute("checked"),"print"===S)break;e.addEventListener("change",g=>{u.setValue(ne,{value:g.target.getAttribute(g.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==m.value&&e.setAttribute("value",m.value),"print"===S)break;e.addEventListener("input",g=>{u.setValue(ne,{value:g.target.value})})}break;case"select":if(null!==m.value)for(const g of D.children)g.attributes.value===m.value&&(g.attributes.selected=!0);e.addEventListener("input",g=>{const a=g.target.options;u.setValue(ne,{value:-1===a.selectedIndex?"":a[a.selectedIndex].value})})}}static setAttributes({html:e,element:ne,storage:D=null,intent:u,linkService:S}){const{attributes:m}=ne,g=e instanceof HTMLAnchorElement;"radio"===m.type&&(m.name=`${m.name}-${u}`);for(const[a,A]of Object.entries(m))if(null!=A&&"dataId"!==a)if("style"!==a)if("textContent"===a)e.textContent=A;else if("class"===a)A.length&&e.setAttribute(a,A.join(" "));else{if(g&&("href"===a||"newWindow"===a))continue;e.setAttribute(a,A)}else Object.assign(e.style,A);g&&S.addLinkAttributes(e,m.href,m.newWindow),D&&m.dataId&&this.setupStorage(e,m.dataId,ne,D)}static render(e){const ne=e.annotationStorage,D=e.linkService,u=e.xfaHtml,S=e.intent||"display",m=document.createElement(u.name);u.attributes&&this.setAttributes({html:m,element:u,intent:S,linkService:D});const g=[[u,-1,m]],a=e.div;if(a.appendChild(m),e.viewport){const r=`matrix(${e.viewport.transform.join(",")})`;a.style.transform=r}"richText"!==S&&a.setAttribute("class","xfaLayer xfaFont");const A=[];for(;g.length>0;){const[r,o,h]=g[g.length-1];if(o+1===r.children.length){g.pop();continue}const M=r.children[++g[g.length-1][1]];if(null===M)continue;const{name:v}=M;if("#text"===v){const i=document.createTextNode(M.value);A.push(i),h.appendChild(i);continue}let b;if(b=M?.attributes?.xmlns?document.createElementNS(M.attributes.xmlns,v):document.createElement(v),h.appendChild(b),M.attributes&&this.setAttributes({html:b,element:M,storage:ne,intent:S,linkService:D}),M.children&&M.children.length>0)g.push([M,-1,b]);else if(M.value){const i=document.createTextNode(M.value);f.XfaText.shouldBuildText(v)&&A.push(i),b.appendChild(i)}}for(const r of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:A}}static update(e){const ne=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=ne,e.div.hidden=!1}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.renderTextLayer=function h(M){const v=new o({textContent:M.textContent,textContentStream:M.textContentStream,container:M.container,viewport:M.viewport,textDivs:M.textDivs,textContentItemsStr:M.textContentItemsStr,enhanceTextSelection:M.enhanceTextSelection});return v._render(M.timeout),v};var f=K(1);const z=30,ne=new Map,D=/^\s+$/g;function S(M,v,b,i){const s=document.createElement("span"),y=M._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==v.str,hasEOL:v.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==v.str,hasEOL:v.hasEOL};M._textDivs.push(s);const C=f.Util.transform(M._viewport.transform,v.transform);let x=Math.atan2(C[1],C[0]);const O=b[v.fontName];O.vertical&&(x+=Math.PI/2);const k=Math.hypot(C[2],C[3]),N=k*function u(M,v){const b=ne.get(M);if(b)return b;v.save(),v.font=`30px ${M}`;const i=v.measureText("");let s=i.fontBoundingBoxAscent,y=Math.abs(i.fontBoundingBoxDescent);if(s){v.restore();const x=s/(s+y);return ne.set(M,x),x}v.strokeStyle="red",v.clearRect(0,0,z,z),v.strokeText("g",0,0);let C=v.getImageData(0,0,z,z).data;y=0;for(let x=C.length-1-3;x>=0;x-=4)if(C[x]>0){y=Math.ceil(x/4/z);break}v.clearRect(0,0,z,z),v.strokeText("A",0,z),C=v.getImageData(0,0,z,z).data,s=0;for(let x=0,O=C.length;x<O;x+=4)if(C[x]>0){s=z-Math.floor(x/4/z);break}if(v.restore(),s){const x=s/(s+y);return ne.set(M,x),x}return ne.set(M,.8),.8}(O.fontFamily,i);let Z,G;0===x?(Z=C[4],G=C[5]-N):(Z=C[4]+N*Math.sin(x),G=C[5]-N*Math.cos(x)),s.style.left=`${Z}px`,s.style.top=`${G}px`,s.style.fontSize=`${k}px`,s.style.fontFamily=O.fontFamily,s.setAttribute("role","presentation"),s.textContent=v.str,s.dir=v.dir,M._fontInspectorEnabled&&(s.dataset.fontName=v.fontName),0!==x&&(y.angle=x*(180/Math.PI));let U=!1;if(v.str.length>1||M._enhanceTextSelection&&D.test(v.str))U=!0;else if(" "!==v.str&&v.transform[0]!==v.transform[3]){const X=Math.abs(v.transform[0]),B=Math.abs(v.transform[3]);X!==B&&Math.max(X,B)/Math.min(X,B)>1.5&&(U=!0)}if(U&&(y.canvasWidth=O.vertical?v.height*M._viewport.scale:v.width*M._viewport.scale),M._textDivProperties.set(s,y),M._textContentStream&&M._layoutText(s),M._enhanceTextSelection&&y.hasText){let X=1,B=0;0!==x&&(X=Math.cos(x),B=Math.sin(x));const $=(O.vertical?v.height:v.width)*M._viewport.scale,te=k;let ie,ce;0!==x?(ie=[X,B,-B,X,Z,G],ce=f.Util.getAxialAlignedBoundingBox([0,0,$,te],ie)):ce=[Z,G,Z+$,G+te],M._bounds.push({left:ce[0],top:ce[1],right:ce[2],bottom:ce[3],div:s,size:[$,te],m:ie})}}function m(M){if(M._canceled)return;const v=M._textDivs,b=M._capability,i=v.length;if(i>1e5)return M._renderingDone=!0,void b.resolve();if(!M._textContentStream)for(let s=0;s<i;s++)M._layoutText(v[s]);M._renderingDone=!0,b.resolve()}function g(M,v,b){let i=0;for(let s=0;s<b;s++){const y=M[v++];y>0&&(i=i?Math.min(y,i):y)}return i}function r(M,v){v.sort(function(s,y){return s.x1-y.x1||s.index-y.index});const i=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const s of v){let y=0;for(;y<i.length&&i[y].end<=s.y1;)y++;let C=i.length-1;for(;C>=0&&i[C].start>=s.y2;)C--;let x,O,k,N,Z=-1/0;for(k=y;k<=C;k++){let X;x=i[k],O=x.boundary,X=O.x2>s.x1?O.index>s.index?O.x1New:s.x1:void 0===O.x2New?(O.x2+s.x1)/2:O.x2New,X>Z&&(Z=X)}for(s.x1New=Z,k=y;k<=C;k++)x=i[k],O=x.boundary,void 0===O.x2New?O.x2>s.x1?O.index>s.index&&(O.x2New=O.x2):O.x2New=Z:O.x2New>Z&&(O.x2New=Math.max(Z,O.x2));const G=[];let U=null;for(k=y;k<=C;k++){x=i[k],O=x.boundary;const X=O.x2>s.x2?O:s;U===X?G[G.length-1].end=x.end:(G.push({start:x.start,end:x.end,boundary:X}),U=X)}for(i[y].start<s.y1&&(G[0].start=s.y1,G.unshift({start:i[y].start,end:s.y1,boundary:i[y].boundary})),s.y2<i[C].end&&(G[G.length-1].end=s.y2,G.push({start:s.y2,end:i[C].end,boundary:i[C].boundary})),k=y;k<=C;k++){if(x=i[k],O=x.boundary,void 0!==O.x2New)continue;let X=!1;for(N=y-1;!X&&N>=0&&i[N].start>=O.y1;N--)X=i[N].boundary===O;for(N=C+1;!X&&N<i.length&&i[N].end<=O.y2;N++)X=i[N].boundary===O;for(N=0;!X&&N<G.length;N++)X=G[N].boundary===O;X||(O.x2New=Z)}Array.prototype.splice.apply(i,[y,C-y+1].concat(G))}for(const s of i){const y=s.boundary;void 0===y.x2New&&(y.x2New=Math.max(M,y.x2))}}class o{constructor({textContent:v,textContentStream:b,container:i,viewport:s,textDivs:y,textContentItemsStr:C,enhanceTextSelection:x}){this._textContent=v,this._textContentStream=b,this._container=i,this._document=i.ownerDocument,this._viewport=s,this._textDivs=y||[],this._textContentItemsStr=C||[],this._enhanceTextSelection=!!x,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,f.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new f.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(v,b){for(let i=0,s=v.length;i<s;i++)if(void 0!==v[i].str)this._textContentItemsStr.push(v[i].str),S(this,v[i],b,this._layoutTextCtx);else if("beginMarkedContentProps"===v[i].type||"beginMarkedContent"===v[i].type){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==v[i].id&&this._container.setAttribute("id",`${v[i].id}`),y.appendChild(this._container)}else"endMarkedContent"===v[i].type&&(this._container=this._container.parentNode)}_layoutText(v){const b=this._textDivProperties.get(v);let i="";if(0!==b.canvasWidth&&b.hasText){const{fontSize:s,fontFamily:y}=v.style;(s!==this._layoutTextLastFontSize||y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${s} ${y}`,this._layoutTextLastFontSize=s,this._layoutTextLastFontFamily=y);const{width:C}=this._layoutTextCtx.measureText(v.textContent);if(C>0){const x=b.canvasWidth/C;this._enhanceTextSelection&&(b.scale=x),i=`scaleX(${x})`}}if(0!==b.angle&&(i=`rotate(${b.angle}deg) ${i}`),i.length>0&&(this._enhanceTextSelection&&(b.originalTransform=i),v.style.transform=i),b.hasText&&this._container.appendChild(v),b.hasEOL){const s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}_render(v=0){const b=(0,f.createPromiseCapability)();let i=Object.create(null);const s=this._document.createElement("canvas");if(s.height=s.width=z,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),b.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const y=()=>{this._reader.read().then(({value:C,done:x})=>{x?b.resolve():(Object.assign(i,C.styles),this._processItems(C.items,i),y())},b.reject)};this._reader=this._textContentStream.getReader(),y()}}b.promise.then(()=>{i=null,v?this._renderTimer=setTimeout(()=>{m(this),this._renderTimer=null},v):m(this)},this._capability.reject)}expandTextDivs(v=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function a(M){const v=M._bounds,b=M._viewport,i=function A(M,v,b){const i=b.map(function(y,C){return{x1:y.left,y1:y.top,x2:y.right,y2:y.bottom,index:C,x1New:void 0,x2New:void 0}});r(M,i);const s=new Array(b.length);for(const y of i)s[y.index]={left:y.x1New,top:0,right:y.x2New,bottom:0};b.map(function(y,C){const x=s[C],O=i[C];O.x1=y.top,O.y1=M-x.right,O.x2=y.bottom,O.y2=M-x.left,O.index=C,O.x1New=void 0,O.x2New=void 0}),r(v,i);for(const y of i){const C=y.index;s[C].top=y.x1New,s[C].bottom=y.x2New}return s}(b.width,b.height,v);for(let s=0;s<i.length;s++){const y=v[s].div,C=M._textDivProperties.get(y);if(0===C.angle){C.paddingLeft=v[s].left-i[s].left,C.paddingTop=v[s].top-i[s].top,C.paddingRight=i[s].right-v[s].right,C.paddingBottom=i[s].bottom-v[s].bottom,M._textDivProperties.set(y,C);continue}const x=i[s],O=v[s],k=O.m,N=k[0],Z=k[1],G=[[0,0],[0,O.size[1]],[O.size[0],0],O.size],U=new Float64Array(64);for(let B=0,$=G.length;B<$;B++){const te=f.Util.applyTransform(G[B],k);U[B+0]=N&&(x.left-te[0])/N,U[B+4]=Z&&(x.top-te[1])/Z,U[B+8]=N&&(x.right-te[0])/N,U[B+12]=Z&&(x.bottom-te[1])/Z,U[B+16]=Z&&(x.left-te[0])/-Z,U[B+20]=N&&(x.top-te[1])/N,U[B+24]=Z&&(x.right-te[0])/-Z,U[B+28]=N&&(x.bottom-te[1])/N,U[B+32]=N&&(x.left-te[0])/-N,U[B+36]=Z&&(x.top-te[1])/-Z,U[B+40]=N&&(x.right-te[0])/-N,U[B+44]=Z&&(x.bottom-te[1])/-Z,U[B+48]=Z&&(x.left-te[0])/Z,U[B+52]=N&&(x.top-te[1])/-N,U[B+56]=Z&&(x.right-te[0])/Z,U[B+60]=N&&(x.bottom-te[1])/-N}const X=1+Math.min(Math.abs(N),Math.abs(Z));C.paddingLeft=g(U,32,16)/X,C.paddingTop=g(U,48,16)/X,C.paddingRight=g(U,0,16)/X,C.paddingBottom=g(U,16,16)/X,M._textDivProperties.set(y,C)}}(this),this._bounds=null);const b=[],i=[];for(let s=0,y=this._textDivs.length;s<y;s++){const C=this._textDivs[s],x=this._textDivProperties.get(C);!x.hasText||(v?(b.length=0,i.length=0,x.originalTransform&&b.push(x.originalTransform),x.paddingTop>0?(i.push(`${x.paddingTop}px`),b.push(`translateY(${-x.paddingTop}px)`)):i.push(0),i.push(x.paddingRight>0?x.paddingRight/x.scale+"px":0),i.push(x.paddingBottom>0?`${x.paddingBottom}px`:0),x.paddingLeft>0?(i.push(x.paddingLeft/x.scale+"px"),b.push(`translateX(${-x.paddingLeft/x.scale}px)`)):i.push(0),C.style.padding=i.join(" "),b.length&&(C.style.transform=b.join(" "))):(C.style.padding=null,C.style.transform=x.originalTransform))}}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.SVGGraphics=void 0;var f=K(1),oe=K(5),z=K(3);let e=class{constructor(){(0,f.unreachable)("Not implemented: SVGGraphics")}};F.SVGGraphics=e;{let r=function(i){let s=[];const y=[];for(const C of i)"save"!==C.fn?"restore"===C.fn?s=y.pop():s.push(C):(s.push({fnId:92,fn:"group",items:[]}),y.push(s),s=s[s.length-1].items);return s},o=function(i){if(Number.isInteger(i))return i.toString();const s=i.toFixed(10);let y=s.length-1;if("0"!==s[y])return s;do{y--}while("0"===s[y]);return s.substring(0,"."===s[y]?y:y+1)},h=function(i){if(0===i[4]&&0===i[5]){if(0===i[1]&&0===i[2])return 1===i[0]&&1===i[3]?"":`scale(${o(i[0])} ${o(i[3])})`;if(i[0]===i[3]&&i[1]===-i[2]){const s=180*Math.acos(i[0])/Math.PI;return`rotate(${o(s)})`}}else if(1===i[0]&&0===i[1]&&0===i[2]&&1===i[3])return`translate(${o(i[4])} ${o(i[5])})`;return`matrix(${o(i[0])} ${o(i[1])} ${o(i[2])} ${o(i[3])} ${o(i[4])} ${o(i[5])})`};const ne={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},D="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/1999/xlink",S=["butt","round","square"],m=["miter","round","bevel"],g=function(i,s="",y=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!y)return URL.createObjectURL(new Blob([i],{type:s}));const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let x=`data:${s};base64,`;for(let O=0,k=i.length;O<k;O+=3){const N=255&i[O],Z=255&i[O+1],G=255&i[O+2];x+=C[N>>2]+C[(3&N)<<4|Z>>4]+C[O+1<k?(15&Z)<<2|G>>6:64]+C[O+2<k?63&G:64]}return x},a=function(){const i=new Uint8Array([137,80,78,71,13,10,26,10]),y=new Int32Array(256);for(let G=0;G<256;G++){let U=G;for(let X=0;X<8;X++)U=1&U?3988292384^U>>1&2147483647:U>>1&2147483647;y[G]=U}function x(G,U,X,B){let $=B;const te=U.length;X[$]=te>>24&255,X[$+1]=te>>16&255,X[$+2]=te>>8&255,X[$+3]=255&te,$+=4,X[$]=255&G.charCodeAt(0),X[$+1]=255&G.charCodeAt(1),X[$+2]=255&G.charCodeAt(2),X[$+3]=255&G.charCodeAt(3),$+=4,X.set(U,$),$+=U.length;const ie=function C(G,U,X){let B=-1;for(let $=U;$<X;$++)B=B>>>8^y[255&(B^G[$])];return-1^B}(X,B+4,$);X[$]=ie>>24&255,X[$+1]=ie>>16&255,X[$+2]=ie>>8&255,X[$+3]=255&ie}function N(G){let U=G.length;const X=65535,B=Math.ceil(U/X),$=new Uint8Array(2+U+5*B+4);let te=0;$[te++]=120,$[te++]=156;let ie=0;for(;U>X;)$[te++]=0,$[te++]=255,$[te++]=255,$[te++]=0,$[te++]=0,$.set(G.subarray(ie,ie+X),te),te+=X,ie+=X,U-=X;$[te++]=1,$[te++]=255&U,$[te++]=U>>8&255,$[te++]=255&~U,$[te++]=(65535&~U)>>8&255,$.set(G.subarray(ie),te),te+=G.length-ie;const ce=function O(G,U,X){let B=1,$=0;for(let te=U;te<X;++te)B=(B+(255&G[te]))%65521,$=($+B)%65521;return $<<16|B}(G,0,G.length);return $[te++]=ce>>24&255,$[te++]=ce>>16&255,$[te++]=ce>>8&255,$[te++]=255&ce,$}return function(U,X,B){return function Z(G,U,X,B){const $=G.width,te=G.height;let ie,ce,I;const l=G.data;switch(U){case f.ImageKind.GRAYSCALE_1BPP:ce=0,ie=1,I=$+7>>3;break;case f.ImageKind.RGB_24BPP:ce=2,ie=8,I=3*$;break;case f.ImageKind.RGBA_32BPP:ce=6,ie=8,I=4*$;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+I)*te);let n=0,c=0;for(let Q=0;Q<te;++Q)d[n++]=0,d.set(l.subarray(c,c+I),n),c+=I,n+=I;if(U===f.ImageKind.GRAYSCALE_1BPP&&B){n=0;for(let Q=0;Q<te;Q++){n++;for(let W=0;W<I;W++)d[n++]^=255}}const _=new Uint8Array([$>>24&255,$>>16&255,$>>8&255,255&$,te>>24&255,te>>16&255,te>>8&255,255&te,ie,ce,0,0,0]),E=function k(G){if(!z.isNodeJS)return N(G);try{let U;U=parseInt(process.versions.node)>=8?G:Buffer.from(G);const X=__webpack_require__(2258).deflateSync(U,{level:9});return X instanceof Uint8Array?X:new Uint8Array(X)}catch(U){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+U)}return N(G)}(d),R=new Uint8Array(i.length+36+_.length+E.length);let J=0;return R.set(i,J),J+=i.length,x("IHDR",_,R,J),J+=12+_.length,x("IDATA",E,R,J),J+=12+E.length,x("IEND",new Uint8Array(0),R,J),g(R,"image/png",X)}(U,void 0===U.kind?f.ImageKind.GRAYSCALE_1BPP:U.kind,X,B)}}();class A{constructor(){this.fontSizeScale=1,this.fontWeight=ne.fontWeight,this.fontSize=0,this.textMatrix=f.IDENTITY_MATRIX,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=f.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ne.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(s,y){this.x=s,this.y=y}}let M=0,v=0,b=0;F.SVGGraphics=e=class{constructor(i,s,y=!1){this.svgFactory=new oe.DOMSVGFactory,this.current=new A,this.transformMatrix=f.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=s,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(const C in f.OPS)this._operatorIdMapping[f.OPS[C]]=C}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const s=i.fnArray,y=i.argsArray;for(let C=0,x=s.length;C<x;C++)if(s[C]===f.OPS.dependency)for(const O of y[C]){const k=O.startsWith("g_")?this.commonObjs:this.objs,N=new Promise(Z=>{k.get(O,Z)});this.current.dependencies.push(N)}return Promise.all(this.current.dependencies)}transform(i,s,y,C,x,O){this.transformMatrix=f.Util.transform(this.transformMatrix,[i,s,y,C,x,O]),this.tgrp=null}getSVG(i,s){this.viewport=s;const y=this._initialize(s);return this.loadDependencies(i).then(()=>(this.transformMatrix=f.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),y))}convertOpList(i){const s=this._operatorIdMapping,y=i.argsArray,C=i.fnArray,x=[];for(let O=0,k=C.length;O<k;O++){const N=C[O];x.push({fnId:N,fn:s[N],args:y[O]})}return r(x)}executeOpTree(i){for(const s of i){const y=s.fn,x=s.args;switch(0|s.fnId){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(x);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(x[0],x[1]);break;case f.OPS.setFont:this.setFont(x);break;case f.OPS.showText:case f.OPS.showSpacedText:this.showText(x[0]);break;case f.OPS.endText:this.endText();break;case f.OPS.moveText:this.moveText(x[0],x[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(x[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(x[0]);break;case f.OPS.setHScale:this.setHScale(x[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(x[0],x[1],x[2],x[3],x[4],x[5]);break;case f.OPS.setTextRise:this.setTextRise(x[0]);break;case f.OPS.setTextRenderingMode:this.setTextRenderingMode(x[0]);break;case f.OPS.setLineWidth:this.setLineWidth(x[0]);break;case f.OPS.setLineJoin:this.setLineJoin(x[0]);break;case f.OPS.setLineCap:this.setLineCap(x[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(x[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(x[0],x[1],x[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(x[0],x[1],x[2]);break;case f.OPS.setStrokeColorN:this.setStrokeColorN(x);break;case f.OPS.setFillColorN:this.setFillColorN(x);break;case f.OPS.shadingFill:this.shadingFill(x[0]);break;case f.OPS.setDash:this.setDash(x[0],x[1]);break;case f.OPS.setRenderingIntent:this.setRenderingIntent(x[0]);break;case f.OPS.setFlatness:this.setFlatness(x[0]);break;case f.OPS.setGState:this.setGState(x[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintImageXObject:this.paintImageXObject(x[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(x[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(x[0]);break;case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(x[0],x[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(x[0],x[1],x[2],x[3],x[4],x[5]);break;case f.OPS.constructPath:this.constructPath(x[0],x[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(s.items);break;default:(0,f.warn)(`Unimplemented operator ${y}`)}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,s,y,C,x,O){const k=this.current;k.textMatrix=k.lineMatrix=[i,s,y,C,x,O],k.textMatrixScale=Math.hypot(i,s),k.x=k.lineX=0,k.y=k.lineY=0,k.xcoords=[],k.ycoords=[],k.tspan=this.svgFactory.createElement("svg:tspan"),k.tspan.setAttributeNS(null,"font-family",k.fontFamily),k.tspan.setAttributeNS(null,"font-size",`${o(k.fontSize)}px`),k.tspan.setAttributeNS(null,"y",o(-k.y)),k.txtElement=this.svgFactory.createElement("svg:text"),k.txtElement.appendChild(k.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=f.IDENTITY_MATRIX,i.lineMatrix=f.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,s){const y=this.current;y.x=y.lineX+=i,y.y=y.lineY+=s,y.xcoords=[],y.ycoords=[],y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${o(y.fontSize)}px`),y.tspan.setAttributeNS(null,"y",o(-y.y))}showText(i){const s=this.current,y=s.font,C=s.fontSize;if(0===C)return;const x=s.fontSizeScale,O=s.charSpacing,k=s.wordSpacing,N=s.fontDirection,Z=s.textHScale*N,G=y.vertical,U=G?1:-1,X=y.defaultVMetrics,B=C*s.fontMatrix[0];let $=0;for(const ce of i){if(null===ce){$+=N*k;continue}if("number"==typeof ce){$+=U*ce*C/1e3;continue}const I=(ce.isSpace?k:0)+O,l=ce.fontChar;let d,n,_,c=ce.width;if(G){let E;const P=ce.vmetric||X;E=ce.vmetric?P[1]:.5*c,E=-E*B,c=P?-P[0]:c,d=E/x,n=($+P[2]*B)/x}else d=$/x,n=0;(ce.isInFont||y.missingFile)&&(s.xcoords.push(s.x+d),G&&s.ycoords.push(-s.y+n),s.tspan.textContent+=l),_=G?c*B-I*N:c*B+I*N,$+=_}s.tspan.setAttributeNS(null,"x",s.xcoords.map(o).join(" ")),s.tspan.setAttributeNS(null,"y",G?s.ycoords.map(o).join(" "):o(-s.y)),G?s.y-=$:s.x+=$*Z,s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${o(s.fontSize)}px`),s.fontStyle!==ne.fontStyle&&s.tspan.setAttributeNS(null,"font-style",s.fontStyle),s.fontWeight!==ne.fontWeight&&s.tspan.setAttributeNS(null,"font-weight",s.fontWeight);const te=s.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;te===f.TextRenderingMode.FILL||te===f.TextRenderingMode.FILL_STROKE?(s.fillColor!==ne.fillColor&&s.tspan.setAttributeNS(null,"fill",s.fillColor),s.fillAlpha<1&&s.tspan.setAttributeNS(null,"fill-opacity",s.fillAlpha)):s.tspan.setAttributeNS(null,"fill",s.textRenderingMode===f.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(te===f.TextRenderingMode.STROKE||te===f.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(s.tspan,1/(s.textMatrixScale||1));let ie=s.textMatrix;0!==s.textRise&&(ie=ie.slice(),ie[5]+=s.textRise),s.txtElement.setAttributeNS(null,"transform",`${h(ie)} scale(${o(Z)}, -1)`),s.txtElement.setAttributeNS(D,"xml:space","preserve"),s.txtElement.appendChild(s.tspan),s.txtgrp.appendChild(s.txtElement),this._ensureTransformGroup().appendChild(s.txtElement)}setLeadingMoveText(i,s){this.setLeading(-s),this.moveText(i,s)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const s=g(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${s}); }\n`}setFont(i){const s=this.current,y=this.commonObjs.get(i[0]);let C=i[1];s.font=y,this.embedFonts&&!y.missingFile&&!this.embeddedFonts[y.loadedName]&&(this.addFontStyle(y),this.embeddedFonts[y.loadedName]=y),s.fontMatrix=y.fontMatrix||f.FONT_IDENTITY_MATRIX;let x="normal";y.black?x="900":y.bold&&(x="bold");const O=y.italic?"italic":"normal";C<0?(C=-C,s.fontDirection=-1):s.fontDirection=1,s.fontSize=C,s.fontFamily=y.loadedName,s.fontWeight=x,s.fontStyle=O,s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"y",o(-s.y)),s.xcoords=[],s.ycoords=[]}endText(){const i=this.current;i.textRenderingMode&f.TextRenderingMode.ADD_TO_PATH_FLAG&&i.txtElement?.hasChildNodes()&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=S[i]}setLineJoin(i){this.current.lineJoin=m[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,s,y){this.current.strokeColor=f.Util.makeHexColor(i,s,y)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,s,y){this.current.fillColor=f.Util.makeHexColor(i,s,y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const s=this.viewport.width,y=this.viewport.height,C=f.Util.inverseTransform(this.transformMatrix),x=f.Util.applyTransform([0,0],C),O=f.Util.applyTransform([0,y],C),k=f.Util.applyTransform([s,0],C),N=f.Util.applyTransform([s,y],C),Z=Math.min(x[0],O[0],k[0],N[0]),G=Math.min(x[1],O[1],k[1],N[1]),U=Math.max(x[0],O[0],k[0],N[0]),X=Math.max(x[1],O[1],k[1],N[1]),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",Z),B.setAttributeNS(null,"y",G),B.setAttributeNS(null,"width",U-Z),B.setAttributeNS(null,"height",X-G),B.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&B.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(B)}_makeColorN_Pattern(i){return"TilingPattern"===i[0]?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const s=i[1],y=i[2],C=i[3]||f.IDENTITY_MATRIX,[x,O,k,N]=i[4],Z=i[5],G=i[6],U=i[7],X="shading"+b++,[B,$,te,ie]=f.Util.normalizeRect([...f.Util.applyTransform([x,O],C),...f.Util.applyTransform([k,N],C)]),[ce,I]=f.Util.singularValueDecompose2dScale(C),l=Z*ce,d=G*I,n=this.svgFactory.createElement("svg:pattern");n.setAttributeNS(null,"id",X),n.setAttributeNS(null,"patternUnits","userSpaceOnUse"),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"height",d),n.setAttributeNS(null,"x",`${B}`),n.setAttributeNS(null,"y",`${$}`);const c=this.svg,_=this.transformMatrix,E=this.current.fillColor,P=this.current.strokeColor,R=this.svgFactory.create(te-B,ie-$);if(this.svg=R,this.transformMatrix=C,2===U){const J=f.Util.makeHexColor(...s);this.current.fillColor=J,this.current.strokeColor=J}return this.executeOpTree(this.convertOpList(y)),this.svg=c,this.transformMatrix=_,this.current.fillColor=E,this.current.strokeColor=P,n.appendChild(R.childNodes[0]),this.defs.appendChild(n),`url(#${X})`}_makeShadingPattern(i){switch("string"==typeof i&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const s="shading"+b++,y=i[3];let C;switch(i[1]){case"axial":const x=i[4],O=i[5];C=this.svgFactory.createElement("svg:linearGradient"),C.setAttributeNS(null,"id",s),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"x1",x[0]),C.setAttributeNS(null,"y1",x[1]),C.setAttributeNS(null,"x2",O[0]),C.setAttributeNS(null,"y2",O[1]);break;case"radial":const k=i[4],N=i[5],Z=i[6],G=i[7];C=this.svgFactory.createElement("svg:radialGradient"),C.setAttributeNS(null,"id",s),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"cx",N[0]),C.setAttributeNS(null,"cy",N[1]),C.setAttributeNS(null,"r",G),C.setAttributeNS(null,"fx",k[0]),C.setAttributeNS(null,"fy",k[1]),C.setAttributeNS(null,"fr",Z);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const x of y){const O=this.svgFactory.createElement("svg:stop");O.setAttributeNS(null,"offset",x[0]),O.setAttributeNS(null,"stop-color",x[1]),C.appendChild(O)}return this.defs.appendChild(C),`url(#${s})`;case"Mesh":return(0,f.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,s){this.current.dashArray=i,this.current.dashPhase=s}constructPath(i,s){const y=this.current;let C=y.x,x=y.y,O=[],k=0;for(const N of i)switch(0|N){case f.OPS.rectangle:C=s[k++],x=s[k++];const U=C+s[k++],X=x+s[k++];O.push("M",o(C),o(x),"L",o(U),o(x),"L",o(U),o(X),"L",o(C),o(X),"Z");break;case f.OPS.moveTo:C=s[k++],x=s[k++],O.push("M",o(C),o(x));break;case f.OPS.lineTo:C=s[k++],x=s[k++],O.push("L",o(C),o(x));break;case f.OPS.curveTo:C=s[k+4],x=s[k+5],O.push("C",o(s[k]),o(s[k+1]),o(s[k+2]),o(s[k+3]),o(C),o(x)),k+=6;break;case f.OPS.curveTo2:O.push("C",o(C),o(x),o(s[k]),o(s[k+1]),o(s[k+2]),o(s[k+3])),C=s[k+2],x=s[k+3],k+=4;break;case f.OPS.curveTo3:C=s[k+2],x=s[k+3],O.push("C",o(s[k]),o(s[k+1]),o(C),o(x),o(C),o(x)),k+=4;break;case f.OPS.closePath:O.push("Z")}O=O.join(" "),y.path&&i.length>0&&i[0]!==f.OPS.rectangle&&i[0]!==f.OPS.moveTo?O=y.path.getAttributeNS(null,"d")+O:(y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(y.path)),y.path.setAttributeNS(null,"d",O),y.path.setAttributeNS(null,"fill","none"),y.element=y.path,y.setCurrentPoint(C,x)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element)return void(this.pendingClip=null);const s="clippath"+M++,y=this.svgFactory.createElement("svg:clipPath");y.setAttributeNS(null,"id",s),y.setAttributeNS(null,"transform",h(this.transformMatrix));const C=i.element.cloneNode(!0);if(C.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,y.appendChild(C),this.defs.appendChild(y),i.activeClipUrl){i.clipGroup=null;for(const x of this.extraStack)x.clipGroup=null;y.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${s})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const s=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",s)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[s,y]of i)switch(s){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y);break;case"CA":this.setStrokeAlpha(y);break;case"ca":this.setFillAlpha(y);break;default:(0,f.warn)(`Unimplemented graphic state operator ${s}`)}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,s=1){const y=this.current;let C=y.dashArray;1!==s&&C.length>0&&(C=C.map(function(x){return s*x})),i.setAttributeNS(null,"stroke",y.strokeColor),i.setAttributeNS(null,"stroke-opacity",y.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",o(y.miterLimit)),i.setAttributeNS(null,"stroke-linecap",y.lineCap),i.setAttributeNS(null,"stroke-linejoin",y.lineJoin),i.setAttributeNS(null,"stroke-width",o(s*y.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",C.map(o).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",o(s*y.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(i)}paintImageXObject(i){const s=i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i);s?this.paintInlineImageXObject(s):(0,f.warn)(`Dependent image with object ID ${i} is not ready yet`)}paintInlineImageXObject(i,s){const y=i.width,C=i.height,x=a(i,this.forceDataSchema,!!s),O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",o(y)),O.setAttributeNS(null,"height",o(C)),this.current.element=O,this.clip("nonzero");const k=this.svgFactory.createElement("svg:image");k.setAttributeNS(u,"xlink:href",x),k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y",o(-C)),k.setAttributeNS(null,"width",o(y)+"px"),k.setAttributeNS(null,"height",o(C)+"px"),k.setAttributeNS(null,"transform",`scale(${o(1/y)} ${o(-1/C)})`),s?s.appendChild(k):this._ensureTransformGroup().appendChild(k)}paintImageMaskXObject(i){const s=this.current,y=i.width,C=i.height,x=s.fillColor;s.maskId="mask"+v++;const O=this.svgFactory.createElement("svg:mask");O.setAttributeNS(null,"id",s.maskId);const k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",o(y)),k.setAttributeNS(null,"height",o(C)),k.setAttributeNS(null,"fill",x),k.setAttributeNS(null,"mask",`url(#${s.maskId})`),this.defs.appendChild(O),this._ensureTransformGroup().appendChild(k),this.paintInlineImageXObject(i,O)}paintFormXObjectBegin(i,s){if(Array.isArray(i)&&6===i.length&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),s){const y=s[2]-s[0],C=s[3]-s[1],x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x",s[0]),x.setAttributeNS(null,"y",s[1]),x.setAttributeNS(null,"width",o(y)),x.setAttributeNS(null,"height",o(C)),this.current.element=x,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const s=this.svgFactory.create(i.width,i.height),y=this.svgFactory.createElement("svg:defs");s.appendChild(y),this.defs=y;const C=this.svgFactory.createElement("svg:g");return C.setAttributeNS(null,"transform",h(i.transform)),s.appendChild(C),this.svg=C,s}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFNodeStream=void 0;var f=K(1),oe=K(26);const z=__webpack_require__(172),e=__webpack_require__(2001),ne=__webpack_require__(3779),D=__webpack_require__(6558),u=/^file:\/\/\/[a-zA-Z]:\//;F.PDFNodeStream=class m{constructor(b){this.source=b,this.url=function S(v){const b=D.parse(v);return"file:"===b.protocol||b.host?b:/^[a-z]:[/\\]/i.test(v)?D.parse(`file:///${v}`):(b.host||(b.protocol="file:"),b)}(b.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new r(this),this._fullRequestReader}getRangeReader(b,i){if(i<=this._progressiveDataLength)return null;const s=this.isFsUrl?new M(this,b,i):new o(this,b,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const i of this._rangeRequestReaders.slice(0))i.cancel(b)}};class g{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=b.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._headersCapability=(0,f.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const i=b._readableStream.read();return null===i?(b._readCapability=(0,f.createPromiseCapability)(),b.read()):(b._loaded+=i.length,b.onProgress&&b.onProgress({loaded:b._loaded,total:b._contentLength}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class a{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!b.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const i=b._readableStream.read();return null===i?(b._readCapability=(0,f.createPromiseCapability)(),b.read()):(b._loaded+=i.length,b.onProgress&&b.onProgress({loaded:b._loaded}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function A(v,b){return{protocol:v.protocol,auth:v.auth,host:v.hostname,port:v.port,path:v.path,method:"GET",headers:b}}class r extends g{constructor(b){super(b);const i=s=>{if(404===s.statusCode){const O=new f.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=O,void this._headersCapability.reject(O)}this._headersCapability.resolve(),this._setReadableStream(s);const y=O=>this._readableStream.headers[O.toLowerCase()],{allowRangeRequests:C,suggestedLength:x}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=x||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(y)};this._request=null,this._request="http:"===this._url.protocol?e.request(A(this._url,b.httpHeaders),i):ne.request(A(this._url,b.httpHeaders),i),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class o extends a{constructor(b,i,s){super(b),this._httpHeaders={};for(const C in b.httpHeaders){const x=b.httpHeaders[C];typeof x>"u"||(this._httpHeaders[C]=x)}this._httpHeaders.Range=`bytes=${i}-${s-1}`;const y=C=>{if(404!==C.statusCode)this._setReadableStream(C);else{const x=new f.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=x}};this._request=null,this._request="http:"===this._url.protocol?e.request(A(this._url,this._httpHeaders),y):ne.request(A(this._url,this._httpHeaders),y),this._request.on("error",C=>{this._storedError=C}),this._request.end()}}class h extends g{constructor(b){super(b);let i=decodeURIComponent(this._url.path);u.test(this._url.href)&&(i=i.replace(/^\//,"")),z.lstat(i,(s,y)=>{if(s)return"ENOENT"===s.code&&(s=new f.MissingPDFException(`Missing PDF "${i}".`)),this._storedError=s,void this._headersCapability.reject(s);this._contentLength=y.size,this._setReadableStream(z.createReadStream(i)),this._headersCapability.resolve()})}}class M extends a{constructor(b,i,s){super(b);let y=decodeURIComponent(this._url.path);u.test(this._url.href)&&(y=y.replace(/^\//,"")),this._setReadableStream(z.createReadStream(y,{start:i,end:s-1}))}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.createResponseStatusError=function D(S,m){return 404===S||0===S&&m.startsWith("file:")?new f.MissingPDFException('Missing PDF "'+m+'".'):new f.UnexpectedResponseException(`Unexpected server response (${S}) while retrieving PDF "${m}".`,S)},F.extractFilenameFromHeader=function ne(S){const m=S("Content-Disposition");if(m){let g=(0,oe.getFilenameFromContentDispositionHeader)(m);if(g.includes("%"))try{g=decodeURIComponent(g)}catch{}if((0,z.isPdfFile)(g))return g}return null},F.validateRangeRequestCapabilities=function e({getResponseHeader:S,isHttp:m,rangeChunkSize:g,disableRange:a}){const A={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(S("Content-Length"),10);return!Number.isInteger(r)||(A.suggestedLength=r,r<=2*g)||a||!m||"bytes"!==S("Accept-Ranges")||"identity"!==(S("Content-Encoding")||"identity")||(A.allowRangeRequests=!0),A},F.validateResponseStatus=function u(S){return 200===S||206===S};var f=K(1),oe=K(27),z=K(5)},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.getFilenameFromContentDispositionHeader=function oe(z){let e=!0,ne=D("filename\\*","i").exec(z);if(ne){ne=ne[1];let r=g(ne);return r=unescape(r),r=a(r),r=A(r),S(r)}if(ne=function m(r){const o=[];let h;const M=D("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=M.exec(r));){let[,b,i,s]=h;if(b=parseInt(b,10),b in o){if(0===b)break}else o[b]=[i,s]}const v=[];for(let b=0;b<o.length&&b in o;++b){let[i,s]=o[b];s=g(s),i&&(s=unescape(s),0===b&&(s=a(s))),v.push(s)}return v.join("")}(z),ne)return S(A(ne));if(ne=D("filename","i").exec(z),ne){ne=ne[1];let r=g(ne);return r=A(r),S(r)}function D(r,o){return new RegExp("(?:^|;)\\s*"+r+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',o)}function u(r,o){if(r){if(!/^[\x00-\xFF]+$/.test(o))return o;try{const h=new TextDecoder(r,{fatal:!0}),M=(0,f.stringToBytes)(o);o=h.decode(M),e=!1}catch{}}return o}function S(r){return e&&/[\x80-\xff]/.test(r)&&(r=u("utf-8",r),e&&(r=u("iso-8859-1",r))),r}function g(r){if(r.startsWith('"')){const o=r.slice(1).split('\\"');for(let h=0;h<o.length;++h){const M=o[h].indexOf('"');-1!==M&&(o[h]=o[h].slice(0,M),o.length=h+1),o[h]=o[h].replace(/\\(.)/g,"$1")}r=o.join('"')}return r}function a(r){const o=r.indexOf("'");return-1===o?r:u(r.slice(0,o),r.slice(o+1).replace(/^[^']*'/,""))}function A(r){return!r.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(r)?r:r.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(o,h,M,v){if("q"===M||"Q"===M)return u(h,v=(v=v.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(b,i){return String.fromCharCode(parseInt(i,16))}));try{v=atob(v)}catch{}return u(h,v)})}return""};var f=K(1)},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFNetworkStream=void 0;var f=K(1),oe=K(26);class D{constructor(a,A={}){this.url=a,this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&A.httpHeaders||Object.create(null),this.withCredentials=A.withCredentials||!1,this.getXhr=A.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(a,A,r){const o={begin:a,end:A};for(const h in r)o[h]=r[h];return this.request(o)}requestFull(a){return this.request(a)}request(a){const A=this.getXhr(),r=this.currXhrId++,o=this.pendingRequests[r]={xhr:A};A.open("GET",this.url),A.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const M=this.httpHeaders[h];typeof M>"u"||A.setRequestHeader(h,M)}return this.isHttp&&"begin"in a&&"end"in a?(A.setRequestHeader("Range",`bytes=${a.begin}-${a.end-1}`),o.expectedStatus=206):o.expectedStatus=200,A.responseType="arraybuffer",a.onError&&(A.onerror=function(h){a.onError(A.status)}),A.onreadystatechange=this.onStateChange.bind(this,r),A.onprogress=this.onProgress.bind(this,r),o.onHeadersReceived=a.onHeadersReceived,o.onDone=a.onDone,o.onError=a.onError,o.onProgress=a.onProgress,A.send(null),r}onProgress(a,A){const r=this.pendingRequests[a];!r||r.onProgress?.(A)}onStateChange(a,A){const r=this.pendingRequests[a];if(!r)return;const o=r.xhr;if(o.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==o.readyState||!(a in this.pendingRequests))return;if(delete this.pendingRequests[a],0===o.status&&this.isHttp)return void r.onError?.(o.status);const h=o.status||200;if((200!==h||206!==r.expectedStatus)&&h!==r.expectedStatus)return void r.onError?.(o.status);const v=function ne(g){const a=g.response;return"string"!=typeof a?a:(0,f.stringToBytes)(a).buffer}(o);if(206===h){const b=o.getResponseHeader("Content-Range"),i=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);r.onDone({begin:parseInt(i[1],10),chunk:v})}else v?r.onDone({begin:0,chunk:v}):r.onError?.(o.status)}getRequestXhr(a){return this.pendingRequests[a].xhr}isPendingRequest(a){return a in this.pendingRequests}abortRequest(a){const A=this.pendingRequests[a].xhr;delete this.pendingRequests[a],A.abort()}}F.PDFNetworkStream=class u{constructor(a){this._source=a,this._manager=new D(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials}),this._rangeChunkSize=a.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(a){const A=this._rangeRequestReaders.indexOf(a);A>=0&&this._rangeRequestReaders.splice(A,1)}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S(this._manager,this._source),this._fullRequestReader}getRangeReader(a,A){const r=new m(this._manager,a,A);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(a){this._fullRequestReader?.cancel(a);for(const A of this._rangeRequestReaders.slice(0))A.cancel(a)}};class S{constructor(a,A){this._manager=a;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._fullRequestId=a.requestFull(r),this._headersReceivedCapability=(0,f.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._contentLength=A.length,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const a=this._fullRequestId,A=this._manager.getRequestXhr(a),r=M=>A.getResponseHeader(M),{allowRangeRequests:o,suggestedLength:h}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}_onDone(a){if(a&&(this._requests.length>0?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(a){this._storedError=(0,oe.createResponseStatusError)(a,this._url),this._headersReceivedCapability.reject(this._storedError);for(const A of this._requests)A.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(a){this.onProgress?.({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(a._cachedChunks.length>0)return{value:a._cachedChunks.shift(),done:!1};if(a._done)return{value:void 0,done:!0};const A=(0,f.createPromiseCapability)();return a._requests.push(A),A.promise})()}cancel(a){this._done=!0,this._headersReceivedCapability.reject(a);for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class m{constructor(a,A,r){this._manager=a;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._requestId=a.requestRange(A,r,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(a){const A=a.chunk;this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunk=A,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(a){this._storedError=(0,oe.createResponseStatusError)(a,this._url);for(const A of this._requests)A.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(a){this.isStreamingSupported||this.onProgress?.({loaded:a.loaded})}get isStreamingSupported(){return!1}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(null!==a._queuedChunk){const r=a._queuedChunk;return a._queuedChunk=null,{value:r,done:!1}}if(a._done)return{value:void 0,done:!0};const A=(0,f.createPromiseCapability)();return a._requests.push(A),A.promise})()}cancel(a){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(be,F,K)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFFetchStream=void 0;var f=K(1),oe=K(26);function z(S,m,g){return{method:"GET",headers:S,signal:g?.signal,mode:"cors",credentials:m?"include":"same-origin",redirect:"follow"}}function e(S){const m=new Headers;for(const g in S){const a=S[g];typeof a>"u"||m.append(g,a)}return m}F.PDFFetchStream=class ne{constructor(m){this.source=m,this.isHttp=/^https?:/i.test(m.url),this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new D(this),this._fullRequestReader}getRangeReader(m,g){if(g<=this._progressiveDataLength)return null;const a=new u(this,m,g);return this._rangeRequestReaders.push(a),a}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const g of this._rangeRequestReaders.slice(0))g.cancel(m)}};class D{constructor(m){this._stream=m,this._reader=null,this._loaded=0,this._filename=null;const g=m.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=(0,f.createPromiseCapability)(),this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=e(this._stream.httpHeaders);const a=g.url;fetch(a,z(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,oe.validateResponseStatus)(A.status))throw(0,oe.createResponseStatusError)(A.status,a);this._reader=A.body.getReader(),this._headersCapability.resolve();const r=M=>A.headers.get(M),{allowRangeRequests:o,suggestedLength:h}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=h||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new f.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._headersCapability.promise;const{value:g,done:a}=yield m._reader.read();return a?{value:g,done:a}:(m._loaded+=g.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded,total:m._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}class u{constructor(m,g,a){this._stream=m,this._reader=null,this._loaded=0;const A=m.source;this._withCredentials=A.withCredentials||!1,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!A.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${a-1}`);const r=A.url;fetch(r,z(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,oe.validateResponseStatus)(o.status))throw(0,oe.createResponseStatusError)(o.status,r);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._readCapability.promise;const{value:g,done:a}=yield m._reader.read();return a?{value:g,done:a}:(m._loaded+=g.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(be){var F=__webpack_module_cache__[be];if(void 0!==F)return F.exports;var K=__webpack_module_cache__[be]={exports:{}};return __webpack_modules__[be](K,K.exports,__w_pdfjs_require__),K.exports}var __webpack_exports__={};return(()=>{var be=__webpack_exports__;Object.defineProperty(be,"__esModule",{value:!0}),Object.defineProperty(be,"AnnotationLayer",{enumerable:!0,get:function(){return oe.AnnotationLayer}}),Object.defineProperty(be,"AnnotationMode",{enumerable:!0,get:function(){return F.AnnotationMode}}),Object.defineProperty(be,"CMapCompressionType",{enumerable:!0,get:function(){return F.CMapCompressionType}}),Object.defineProperty(be,"GlobalWorkerOptions",{enumerable:!0,get:function(){return z.GlobalWorkerOptions}}),Object.defineProperty(be,"InvalidPDFException",{enumerable:!0,get:function(){return F.InvalidPDFException}}),Object.defineProperty(be,"LoopbackPort",{enumerable:!0,get:function(){return K.LoopbackPort}}),Object.defineProperty(be,"MissingPDFException",{enumerable:!0,get:function(){return F.MissingPDFException}}),Object.defineProperty(be,"OPS",{enumerable:!0,get:function(){return F.OPS}}),Object.defineProperty(be,"PDFDataRangeTransport",{enumerable:!0,get:function(){return K.PDFDataRangeTransport}}),Object.defineProperty(be,"PDFDateString",{enumerable:!0,get:function(){return f.PDFDateString}}),Object.defineProperty(be,"PDFWorker",{enumerable:!0,get:function(){return K.PDFWorker}}),Object.defineProperty(be,"PasswordResponses",{enumerable:!0,get:function(){return F.PasswordResponses}}),Object.defineProperty(be,"PermissionFlag",{enumerable:!0,get:function(){return F.PermissionFlag}}),Object.defineProperty(be,"PixelsPerInch",{enumerable:!0,get:function(){return f.PixelsPerInch}}),Object.defineProperty(be,"RenderingCancelledException",{enumerable:!0,get:function(){return f.RenderingCancelledException}}),Object.defineProperty(be,"SVGGraphics",{enumerable:!0,get:function(){return D.SVGGraphics}}),Object.defineProperty(be,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return F.UNSUPPORTED_FEATURES}}),Object.defineProperty(be,"UnexpectedResponseException",{enumerable:!0,get:function(){return F.UnexpectedResponseException}}),Object.defineProperty(be,"Util",{enumerable:!0,get:function(){return F.Util}}),Object.defineProperty(be,"VerbosityLevel",{enumerable:!0,get:function(){return F.VerbosityLevel}}),Object.defineProperty(be,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(be,"build",{enumerable:!0,get:function(){return K.build}}),Object.defineProperty(be,"createPromiseCapability",{enumerable:!0,get:function(){return F.createPromiseCapability}}),Object.defineProperty(be,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return F.createValidAbsoluteUrl}}),Object.defineProperty(be,"getDocument",{enumerable:!0,get:function(){return K.getDocument}}),Object.defineProperty(be,"getFilenameFromUrl",{enumerable:!0,get:function(){return f.getFilenameFromUrl}}),Object.defineProperty(be,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return f.getPdfFilenameFromUrl}}),Object.defineProperty(be,"getXfaPageViewport",{enumerable:!0,get:function(){return f.getXfaPageViewport}}),Object.defineProperty(be,"isPdfFile",{enumerable:!0,get:function(){return f.isPdfFile}}),Object.defineProperty(be,"loadScript",{enumerable:!0,get:function(){return f.loadScript}}),Object.defineProperty(be,"renderTextLayer",{enumerable:!0,get:function(){return ne.renderTextLayer}}),Object.defineProperty(be,"shadow",{enumerable:!0,get:function(){return F.shadow}}),Object.defineProperty(be,"version",{enumerable:!0,get:function(){return K.version}});var F=__w_pdfjs_require__(1),K=__w_pdfjs_require__(4),f=__w_pdfjs_require__(5),oe=__w_pdfjs_require__(20),z=__w_pdfjs_require__(13),e=__w_pdfjs_require__(3),ne=__w_pdfjs_require__(23),D=__w_pdfjs_require__(24),u=__w_pdfjs_require__(22);if(e.isNodeJS){const{PDFNodeStream:g}=__w_pdfjs_require__(25);(0,K.setPDFNetworkStreamFactory)(a=>new g(a))}else{const{PDFNetworkStream:g}=__w_pdfjs_require__(28),{PDFFetchStream:a}=__w_pdfjs_require__(29);(0,K.setPDFNetworkStreamFactory)(A=>(0,f.isValidFetchUrl)(A.url)?new a(A):new g(A))}})(),__webpack_exports__})(),module.exports=K()},2813:function(be,F,K){var e,f=K(7156).default;e=()=>(()=>{"use strict";var oe=[,(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DefaultXfaLayerFactory=u.DefaultTextLayerFactory=u.DefaultStructTreeLayerFactory=u.DefaultAnnotationLayerFactory=void 0;var m=S(2),g=S(4),a=S(5),A=S(7),r=S(8),o=S(9);u.DefaultAnnotationLayerFactory=class h{createAnnotationLayerBuilder(s,y,C=null,x="",O=!0,k=g.NullL10n,N=!1,Z=null,G=null,U=null,X=null){return new m.AnnotationLayerBuilder({pageDiv:s,pdfPage:y,imageResourcesPath:x,renderForms:O,linkService:new a.SimpleLinkService,l10n:k,annotationStorage:C,enableScripting:N,hasJSActionsPromise:Z,fieldObjectsPromise:U,mouseState:G,annotationCanvasMap:X})}},u.DefaultStructTreeLayerFactory=class M{createStructTreeLayerBuilder(s){return new A.StructTreeLayerBuilder({pdfPage:s})}},u.DefaultTextLayerFactory=class v{createTextLayerBuilder(s,y,C,x=!1,O,k){return new r.TextLayerBuilder({textLayerDiv:s,pageIndex:y,viewport:C,enhanceTextSelection:x,eventBus:O,highlighter:k})}},u.DefaultXfaLayerFactory=class b{createXfaLayerBuilder(s,y,C=null,x=null){return new o.XfaLayerBuilder({pageDiv:s,pdfPage:y,annotationStorage:C,linkService:new a.SimpleLinkService,xfaHtml:x})}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationLayerBuilder=void 0;var m=S(3),g=S(4);u.AnnotationLayerBuilder=class a{constructor({pageDiv:r,pdfPage:o,linkService:h,downloadManager:M,annotationStorage:v=null,imageResourcesPath:b="",renderForms:i=!0,l10n:s=g.NullL10n,enableScripting:y=!1,hasJSActionsPromise:C=null,fieldObjectsPromise:x=null,mouseState:O=null,annotationCanvasMap:k=null}){this.pageDiv=r,this.pdfPage=o,this.linkService=h,this.downloadManager=M,this.imageResourcesPath=b,this.renderForms=i,this.l10n=s,this.annotationStorage=v,this.enableScripting=y,this._hasJSActionsPromise=C,this._fieldObjectsPromise=x,this._mouseState=O,this._annotationCanvasMap=k,this.div=null,this._cancelled=!1}render(r,o="display"){var h=this;return f(function*(){const[M,v=!1,b=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:o}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===M.length)return;const i={viewport:r.clone({dontFlip:!0}),div:h.div,annotations:M,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:v,fieldObjects:b,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?m.AnnotationLayer.update(i):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),i.div=h.div,m.AnnotationLayer.render(i),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},D=>{let u;u=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:K(6036),D.exports=u},(D,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.NullL10n=void 0,u.fixupLangCode=function a(o){return g[o?.toLowerCase()]||o},u.getL10nFallback=m;const S={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(o,h){switch(o){case"find_match_count":o=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":o=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return S[o]||""}const g={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};u.NullL10n={getLanguage:()=>f(function*(){return"en-us"})(),getDirection:()=>f(function*(){return"ltr"})(),get:(o,h=null,M=m(o,h))=>f(function*(){return function A(o,h){return h?o.replace(/\{\{\s*(\w+)\s*\}\}/g,(M,v)=>v in h?h[v]:"{{"+v+"}}"):o}(M,h)})(),translate:o=>f(function*(){})()}},(D,u,S)=>{var h,M,Ot,b,Gt;Object.defineProperty(u,"__esModule",{value:!0}),u.SimpleLinkService=u.PDFLinkService=u.LinkTarget=void 0;var m=S(6);const a={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function A(y,{url:C,target:x,rel:O,enabled:k=!0}={}){if(!C||"string"!=typeof C)throw new Error('A valid "url" parameter must provided.');const N=(0,m.removeNullCharacters)(C);k?y.href=y.title=N:(y.href="",y.title=`Disabled: ${N}`,y.onclick=()=>!1);let Z="";switch(x){case a.NONE:break;case a.SELF:Z="_self";break;case a.BLANK:Z="_blank";break;case a.PARENT:Z="_parent";break;case a.TOP:Z="_top"}y.target=Z,y.rel="string"==typeof O?O:"noopener noreferrer nofollow"}u.LinkTarget=a;const s=class{constructor({eventBus:C,externalLinkTarget:x=null,externalLinkRel:O=null,ignoreDestinationZoom:k=!1}={}){ke(this,M),ke(this,h,new Map),this.eventBus=C,this.externalLinkTarget=x,this.externalLinkRel=O,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=k,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(C,x=null){this.baseUrl=x,this.pdfDocument=C,we(this,h).clear()}setViewer(C){this.pdfViewer=C}setHistory(C){this.pdfHistory=C}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(C){this.pdfViewer.currentPageNumber=C}get rotation(){return this.pdfViewer.pagesRotation}set rotation(C){this.pdfViewer.pagesRotation=C}goToDestination(C){var x=this;return f(function*(){var N;if(!x.pdfDocument)return;let O,k;"string"==typeof C?(O=C,k=yield x.pdfDocument.getDestination(C)):(O=null,k=yield C),Array.isArray(k)?Ee(N=x,M,Ot).call(N,C,O,k):console.error(`PDFLinkService.goToDestination: "${k}" is not a valid destination array, for dest="${C}".`)})()}goToPage(C){if(!this.pdfDocument)return;const x="string"==typeof C&&this.pdfViewer.pageLabelToPageNumber(C)||0|C;Number.isInteger(x)&&x>0&&x<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(x)),this.pdfViewer.scrollPageIntoView({pageNumber:x})):console.error(`PDFLinkService.goToPage: "${C}" is not a valid page.`)}addLinkAttributes(C,x,O=!1){A(C,{url:x,target:O?a.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(C){if("string"==typeof C){if(C.length>0)return this.getAnchorUrl("#"+escape(C))}else if(Array.isArray(C)){const x=JSON.stringify(C);if(x.length>0)return this.getAnchorUrl("#"+escape(x))}return this.getAnchorUrl("")}getAnchorUrl(C){return(this.baseUrl||"")+C}setHash(C){var k;if(!this.pdfDocument)return;let x,O;if(C.includes("=")){const N=(0,m.parseQueryString)(C);if(N.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:N.get("search").replace(/"/g,""),phraseSearch:"true"===N.get("phrase")}),N.has("page")&&(x=0|N.get("page")||1),N.has("zoom")){const Z=N.get("zoom").split(","),G=Z[0],U=parseFloat(G);G.includes("Fit")?"Fit"===G||"FitB"===G?O=[null,{name:G}]:"FitH"===G||"FitBH"===G||"FitV"===G||"FitBV"===G?O=[null,{name:G},Z.length>1?0|Z[1]:null]:"FitR"===G?5!==Z.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):O=[null,{name:G},0|Z[1],0|Z[2],0|Z[3],0|Z[4]]:console.error(`PDFLinkService.setHash: "${G}" is not a valid zoom value.`):O=[null,{name:"XYZ"},Z.length>1?0|Z[1]:null,Z.length>2?0|Z[2]:null,U?U/100:G]}O?this.pdfViewer.scrollPageIntoView({pageNumber:x||this.page,destArray:O,allowNegativeOffset:!0}):x&&(this.page=x),N.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:N.get("pagemode")}),N.has("nameddest")&&this.goToDestination(N.get("nameddest"))}else{O=unescape(C);try{O=JSON.parse(O),Array.isArray(O)||(O=O.toString())}catch{}if("string"==typeof O||Ee(k=s,b,Gt).call(k,O))return void this.goToDestination(O);console.error(`PDFLinkService.setHash: "${unescape(C)}" is not a valid destination.`)}}executeNamedAction(C){switch(C){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:C})}cachePageRef(C,x){if(!x)return;const O=0===x.gen?`${x.num}R`:`${x.num}R${x.gen}`;we(this,h).set(O,C)}_cachedPageNumber(C){if(!C)return null;const x=0===C.gen?`${C.num}R`:`${C.num}R${C.gen}`;return we(this,h).get(x)||null}isPageVisible(C){return this.pdfViewer.isPageVisible(C)}isPageCached(C){return this.pdfViewer.isPageCached(C)}};let r=s;h=new WeakMap,M=new WeakSet,Ot=function(C,x=null,O){const k=O[0];let N;if("object"==typeof k&&null!==k){if(N=this._cachedPageNumber(k),!N)return void this.pdfDocument.getPageIndex(k).then(Z=>{this.cachePageRef(Z+1,k),Ee(this,M,Ot).call(this,C,x,O)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid page reference, for dest="${C}".`)})}else{if(!Number.isInteger(k))return void console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid destination reference, for dest="${C}".`);N=k+1}!N||N<1||N>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid page number, for dest="${C}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:x,explicitDest:O,pageNumber:N})),this.pdfViewer.scrollPageIntoView({pageNumber:N,destArray:O,ignoreDestinationZoom:this._ignoreDestinationZoom}))},b=new WeakSet,Gt=function(C){if(!Array.isArray(C))return!1;const x=C.length;if(x<2)return!1;const O=C[0];if(!("object"==typeof O&&Number.isInteger(O.num)&&Number.isInteger(O.gen)||Number.isInteger(O)&&O>=0))return!1;const k=C[1];if("object"!=typeof k||"string"!=typeof k.name)return!1;let N=!0;switch(k.name){case"XYZ":if(5!==x)return!1;break;case"Fit":case"FitB":return 2===x;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==x)return!1;break;case"FitR":if(6!==x)return!1;N=!1;break;default:return!1}for(let Z=2;Z<x;Z++){const G=C[Z];if(!("number"==typeof G||N&&null===G))return!1}return!0},ke(r,b),u.PDFLinkService=r,u.SimpleLinkService=class o{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(C){}get rotation(){return 0}set rotation(C){}goToDestination(C){return f(function*(){})()}goToPage(C){}addLinkAttributes(C,x,O=!1){A(C,{url:x,enabled:this.externalLinkEnabled})}getDestinationHash(C){return"#"}getAnchorUrl(C){return"#"}setHash(C){}executeNamedAction(C){}cachePageRef(C,x){}isPageVisible(C){return!0}isPageCached(C){return!0}}},(D,u)=>{var _e,Yt;Object.defineProperty(u,"__esModule",{value:!0}),u.animationStarted=u.VERTICAL_PADDING=u.UNKNOWN_SCALE=u.TextLayerMode=u.SpreadMode=u.SidebarView=u.ScrollMode=u.SCROLLBAR_PADDING=u.RenderingStates=u.RendererType=u.ProgressBar=u.PresentationModeState=u.OutputScale=u.MIN_SCALE=u.MAX_SCALE=u.MAX_AUTO_SCALE=u.DEFAULT_SCALE_VALUE=u.DEFAULT_SCALE_DELTA=u.DEFAULT_SCALE=u.AutoPrintRegExp=void 0,u.apiPageLayoutToViewerModes=function se(le){let pe=C.VERTICAL,he=x.NONE;switch(le){case"SinglePage":pe=C.PAGE;break;case"OneColumn":break;case"TwoPageLeft":pe=C.PAGE;case"TwoColumnLeft":he=x.ODD;break;case"TwoPageRight":pe=C.PAGE;case"TwoColumnRight":he=x.EVEN}return{scrollMode:pe,spreadMode:he}},u.apiPageModeToSidebarView=function de(le){switch(le){case"UseNone":return i.NONE;case"UseThumbs":return i.THUMBS;case"UseOutlines":return i.OUTLINE;case"UseAttachments":return i.ATTACHMENTS;case"UseOC":return i.LAYERS}return i.NONE},u.approximateFraction=function te(le){if(Math.floor(le)===le)return[le,1];const pe=1/le;if(pe>8)return[1,8];if(Math.floor(pe)===pe)return[1,pe];const w=le>1?pe:le;let me,H=0,re=1,ye=1,ve=1;for(;;){const xe=H+ye,Te=re+ve;if(Te>8)break;w<=xe/Te?(ye=xe,ve=Te):(H=xe,re=Te)}return me=w-H/re<ye/ve-w?w===le?[H,re]:[re,H]:w===le?[ye,ve]:[ve,ye],me},u.backtrackBeforeAllVisibleElements=I,u.binarySearchFirstItem=$,u.getActiveOrFocusedElement=function ee(){let le=document,pe=le.activeElement||le.querySelector(":focus");for(;pe?.shadowRoot;)le=pe.shadowRoot,pe=le.activeElement||le.querySelector(":focus");return pe},u.getPageSizeInches=function ce({view:le,userUnit:pe,rotate:he}){const[w,H,re,ye]=le,ve=he%180!=0,me=(re-w)/72*pe,xe=(ye-H)/72*pe;return{width:ve?xe:me,height:ve?me:xe}},u.getVisibleElements=function l({scrollEl:le,views:pe,sortByVisibility:he=!1,horizontal:w=!1,rtl:H=!1}){const re=le.scrollTop,ye=re+le.clientHeight,ve=le.scrollLeft,me=ve+le.clientWidth,Me=[],Ie=new Set,Fe=pe.length;let ue=$(pe,w?function Te(ge){const Ae=ge.div,Ce=Ae.offsetLeft+Ae.clientLeft;return H?Ce<me:Ce+Ae.clientWidth>ve}:function xe(ge){const Ae=ge.div;return Ae.offsetTop+Ae.clientTop+Ae.clientHeight>re});ue>0&&ue<Fe&&!w&&(ue=I(ue,pe,re));let q=w?me:-1;for(let ge=ue;ge<Fe;ge++){const Ae=pe[ge],Ce=Ae.div,Oe=Ce.offsetLeft+Ce.clientLeft,Le=Ce.offsetTop+Ce.clientTop,Ne=Ce.clientWidth,Re=Ce.clientHeight,je=Oe+Ne,qe=Le+Re;if(-1===q)qe>=ye&&(q=qe);else if((w?Oe:Le)>q)break;if(qe<=re||Le>=ye||je<=ve||Oe>=me)continue;const Qe=Math.max(0,re-Le)+Math.max(0,qe-ye),We=(Ne-(Math.max(0,ve-Oe)+Math.max(0,je-me)))/Ne;Me.push({id:Ae.id,x:Oe,y:Le,view:Ae,percent:(Re-Qe)/Re*We*100|0,widthPercent:100*We|0}),Ie.add(Ae.id)}const V=Me[0],fe=Me[Me.length-1];return he&&Me.sort(function(ge,Ae){const Ce=ge.percent-Ae.percent;return Math.abs(Ce)>.001?-Ce:ge.id-Ae.id}),{first:V,last:fe,views:Me,ids:Ie}},u.isPortraitOrientation=function R(le){return le.width<=le.height},u.isValidRotation=function _(le){return Number.isInteger(le)&&le%90==0},u.isValidScrollMode=function E(le){return Number.isInteger(le)&&Object.values(C).includes(le)&&le!==C.UNKNOWN},u.isValidSpreadMode=function P(le){return Number.isInteger(le)&&Object.values(x).includes(le)&&le!==x.UNKNOWN},u.noContextMenuHandler=function d(le){le.preventDefault()},u.normalizeWheelEventDelta=function c(le){let pe=n(le);return 0===le.deltaMode?pe/=900:1===le.deltaMode&&(pe/=30),pe},u.normalizeWheelEventDirection=n,u.parseQueryString=function G(le){const pe=new Map;for(const[he,w]of new URLSearchParams(le))pe.set(he.toLowerCase(),w);return pe},u.removeNullCharacters=function B(le,pe=!1){return"string"!=typeof le?(console.error("The argument must be a string."),le):(pe&&(le=le.replace(X," ")),le.replace(U,""))},u.roundToDivide=function ie(le,pe){const he=le%pe;return 0===he?le:Math.round(le-he+pe)},u.scrollIntoView=function N(le,pe,he=!1){let w=le.offsetParent;if(!w)return void console.error("offsetParent is not set -- cannot scroll");let H=le.offsetTop+le.clientTop,re=le.offsetLeft+le.clientLeft;for(;w.clientHeight===w.scrollHeight&&w.clientWidth===w.scrollWidth||he&&(w.classList.contains("markedContent")||"hidden"===getComputedStyle(w).overflow);)if(H+=w.offsetTop,re+=w.offsetLeft,w=w.offsetParent,!w)return;pe&&(void 0!==pe.top&&(H+=pe.top),void 0!==pe.left&&(re+=pe.left,w.scrollLeft=re)),w.scrollTop=H},u.watchScroll=function Z(le,pe){const he=function(re){H||(H=window.requestAnimationFrame(function(){H=null;const ve=le.scrollLeft,me=w.lastX;ve!==me&&(w.right=ve>me),w.lastX=ve;const xe=le.scrollTop,Te=w.lastY;xe!==Te&&(w.down=xe>Te),w.lastY=xe,pe(w)}))},w={right:!0,down:!0,lastX:le.scrollLeft,lastY:le.scrollTop,_eventHandler:he};let H=null;return le.addEventListener("scroll",he,!0),w},u.DEFAULT_SCALE_VALUE="auto",u.DEFAULT_SCALE=1,u.DEFAULT_SCALE_DELTA=1.1,u.MIN_SCALE=.1,u.MAX_SCALE=10,u.UNKNOWN_SCALE=0,u.MAX_AUTO_SCALE=1.25,u.SCROLLBAR_PADDING=40,u.VERTICAL_PADDING=5,u.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},u.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const i={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};u.SidebarView=i,u.RendererType={CANVAS:"canvas",SVG:"svg"},u.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const C={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};u.ScrollMode=C;const x={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};u.SpreadMode=x,u.AutoPrintRegExp=/\bprint\s*\(/,u.OutputScale=class k{constructor(){const pe=window.devicePixelRatio||1;this.sx=pe,this.sy=pe}get scaled(){return 1!==this.sx||1!==this.sy}};const U=/\x00/g,X=/[\x01-\x1F]/g;function $(le,pe,he=0){let w=he,H=le.length-1;if(H<0||!pe(le[H]))return le.length;if(pe(le[w]))return w;for(;w<H;){const re=w+H>>1;pe(le[re])?H=re:w=re+1}return w}function I(le,pe,he){if(le<2)return le;let w=pe[le].div,H=w.offsetTop+w.clientTop;H>=he&&(w=pe[le-1].div,H=w.offsetTop+w.clientTop);for(let re=le-2;re>=0&&(w=pe[re].div,!(w.offsetTop+w.clientTop+w.clientHeight<=H));--re)le=re;return le}function n(le){let pe=Math.hypot(le.deltaX,le.deltaY);const he=Math.atan2(le.deltaY,le.deltaX);return-.25*Math.PI<he&&he<.75*Math.PI&&(pe=-pe),pe}const J=new Promise(function(le){window.requestAnimationFrame(le)});u.animationStarted=J,_e=new WeakSet,Yt=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},u.ProgressBar=class W{constructor(pe){if(ke(this,_e),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(pe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(pe){this._indeterminate=isNaN(pe),this._percent=function Q(le,pe,he){return Math.min(Math.max(le,pe),he)}(pe,0,100),Ee(this,_e,Yt).call(this)}setWidth(pe){if(!pe)return;const w=pe.parentNode.offsetWidth-pe.offsetWidth;w>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${w}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(D,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StructTreeLayerBuilder=void 0;const S={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;u.StructTreeLayerBuilder=class g{constructor({pdfPage:A}){this.pdfPage=A}render(A){return this._walk(A)}_setAttributes(A,r){void 0!==A.alt&&r.setAttribute("aria-label",A.alt),void 0!==A.id&&r.setAttribute("aria-owns",A.id),void 0!==A.lang&&r.setAttribute("lang",A.lang)}_walk(A){if(!A)return null;const r=document.createElement("span");if("role"in A){const{role:o}=A,h=o.match(m);h?(r.setAttribute("role","heading"),r.setAttribute("aria-level",h[1])):S[o]&&r.setAttribute("role",S[o])}if(this._setAttributes(A,r),A.children)if(1===A.children.length&&"id"in A.children[0])this._setAttributes(A.children[0],r);else for(const o of A.children)r.appendChild(this._walk(o));return r}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextLayerBuilder=void 0;var m=S(3);u.TextLayerBuilder=class a{constructor({textLayerDiv:r,eventBus:o,pageIndex:h,viewport:M,highlighter:v=null,enhanceTextSelection:b=!1}){this.textLayerDiv=r,this.eventBus=o,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=M,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=v,this.enhanceTextSelection=b,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const r=document.createElement("div");r.className="endOfContent",this.textLayerDiv.appendChild(r)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(r=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const o=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:o,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(o),this._finishRendering(),this.highlighter?.enable()},function(h){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(r){this.cancel(),this.textContentStream=r}setTextContent(r){this.cancel(),this.textContent=r}_bindMouse(){const r=this.textLayerDiv;let o=null;r.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(o&&(clearTimeout(o),o=null));const M=r.querySelector(".endOfContent");if(!M)return;let v=h.target!==r;if(v=v&&"none"!==window.getComputedStyle(M).getPropertyValue("-moz-user-select"),v){const b=r.getBoundingClientRect(),i=Math.max(0,(h.pageY-b.top)/b.height);M.style.top=(100*i).toFixed(2)+"%"}M.classList.add("active")}),r.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(o=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),o=null},300));const h=r.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))})}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaLayerBuilder=void 0;var m=S(3);u.XfaLayerBuilder=class g{constructor({pageDiv:A,pdfPage:r,annotationStorage:o=null,linkService:h,xfaHtml:M=null}){this.pageDiv=A,this.pdfPage=r,this.annotationStorage=o,this.linkService=h,this.xfaHtml=M,this.div=null,this._cancelled=!1}render(A,r="display"){if("print"===r){const o={viewport:A.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r},h=document.createElement("div");this.pageDiv.appendChild(h),o.div=h;const M=m.XfaLayer.render(o);return Promise.resolve(M)}return this.pdfPage.getXfa().then(o=>{if(this._cancelled||!o)return{textDivs:[]};const h={viewport:A.clone({dontFlip:!0}),div:this.div,xfaHtml:o,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};return this.div?m.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,m.XfaLayer.render(h))}).catch(o=>{console.error(o)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFViewer=u.PDFSinglePageViewer=void 0;var m=S(6),g=S(11);u.PDFViewer=class a extends g.BaseViewer{},u.PDFSinglePageViewer=class A extends g.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(o){}_updateScrollMode(){}set spreadMode(o){}_updateSpreadMode(){}}},(D,u,S)=>{var k,N,Z,It,U,X,B,$,te,ie,ce,I,Jt,d,Qt,c,pt,E,yt,R,$t,Q,Lt,ee,Xt,de,Kt,Pe,en;Object.defineProperty(u,"__esModule",{value:!0}),u.PagesCountLimit=u.PDFPageViewBuffer=u.BaseViewer=void 0;var m=S(3),g=S(6),a=S(2),A=S(4),r=S(12),o=S(14),h=S(5),M=S(7),v=S(15),b=S(8),i=S(9);const y="enablePermissions",C={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};u.PagesCountLimit=C;class x{constructor(w){ke(this,Z),ke(this,k,new Set),ke(this,N,0),Ue(this,N,w)}push(w){const H=we(this,k);H.has(w)&&H.delete(w),H.add(w),H.size>we(this,N)&&Ee(this,Z,It).call(this)}resize(w,H=null){Ue(this,N,w);const re=we(this,k);if(H){const ye=re.size;let ve=1;for(const me of re)if(H.has(me.id)&&(re.delete(me),re.add(me)),++ve>ye)break}for(;re.size>we(this,N);)Ee(this,Z,It).call(this)}has(w){return we(this,k).has(w)}[Symbol.iterator](){return we(this,k).keys()}}k=new WeakMap,N=new WeakMap,Z=new WeakSet,It=function(){const w=we(this,k).keys().next().value;w?.destroy(),we(this,k).delete(w)},u.PDFPageViewBuffer=x;const pe=class{constructor(w){if(ke(this,I),ke(this,d),ke(this,c),ke(this,E),ke(this,R),ke(this,Q),ke(this,ee),ke(this,de),ke(this,Pe),ke(this,U,null),ke(this,X,m.AnnotationMode.ENABLE_FORMS),ke(this,B,null),ke(this,$,!1),ke(this,te,0),ke(this,ie,null),ke(this,ce,null),this.constructor===pe)throw new Error("Cannot initialize BaseViewer.");const H="2.14.305";if(m.version!==H)throw new Error(`The API version "${m.version}" does not match the Viewer version "${H}".`);if(this.container=w.container,this.viewer=w.viewer||w.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=w.eventBus,this.linkService=w.linkService||new h.SimpleLinkService,this.downloadManager=w.downloadManager||null,this.findController=w.findController||null,this._scriptingManager=w.scriptingManager||null,this.removePageBorders=w.removePageBorders||!1,this.textLayerMode=w.textLayerMode??g.TextLayerMode.ENABLE,Ue(this,X,w.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=w.imageResourcesPath||"",this.enablePrintAutoRotate=w.enablePrintAutoRotate||!1,this.renderer=w.renderer||g.RendererType.CANVAS,this.useOnlyCssZoom=w.useOnlyCssZoom||!1,this.maxCanvasPixels=w.maxCanvasPixels,this.l10n=w.l10n||A.NullL10n,Ue(this,$,w.enablePermissions||!1),this.pageColors=w.pageColors||null,w.pageColors&&(!CSS.supports("color",w.pageColors.background)||!CSS.supports("color",w.pageColors.foreground))&&((w.pageColors.background||w.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!w.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=w.renderingQueue,this._doc=document.documentElement,this.scroll=(0,g.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=g.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(w){return this._pages[w]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(w){return w?.pdfPage})}get renderForms(){return we(this,X)===m.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(w){if(!Number.isInteger(w))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(w,!0)||console.error(`currentPageNumber: "${w}" is not a valid page.`)}_setCurrentPageNumber(w,H=!1){if(this._currentPageNumber===w)return H&&Ee(this,Q,Lt).call(this),!0;if(!(0<w&&w<=this.pagesCount))return!1;const re=this._currentPageNumber;return this._currentPageNumber=w,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:w,pageLabel:this._pageLabels?.[w-1]??null,previous:re}),H&&Ee(this,Q,Lt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(w){if(!this.pdfDocument)return;let H=0|w;if(this._pageLabels){const re=this._pageLabels.indexOf(w);re>=0&&(H=re+1)}this._setCurrentPageNumber(H,!0)||console.error(`currentPageLabel: "${w}" is not a valid page.`)}get currentScale(){return this._currentScale!==g.UNKNOWN_SCALE?this._currentScale:g.DEFAULT_SCALE}set currentScale(w){if(isNaN(w))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(w,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(w){!this.pdfDocument||this._setScale(w,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(w){if(!(0,g.isValidRotation)(w))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((w%=360)<0&&(w+=360),this._pagesRotation===w))return;this._pagesRotation=w;const H=this._currentPageNumber,re={rotation:w};for(const ye of this._pages)ye.update(re);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:w,pageNumber:H}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(w){var H=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=w,!w)return;const re=w.isPureXfa,ye=w.numPages,ve=w.getPage(1),me=w.getOptionalContentConfig(),xe=we(this,$)?w.getPermissions():Promise.resolve();if(ye>C.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Te=this._scrollMode=g.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Te})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ye})},()=>{}),this._onBeforeDraw=Te=>{const Me=this._pages[Te.pageNumber-1];!Me||we(this,U).push(Me)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Te=>{Te.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Te.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,we(this,ce)&&(document.removeEventListener("visibilitychange",we(this,ce)),Ue(this,ce,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ve,xe]).then(([Te,Me])=>{if(w!==this.pdfDocument)return;this._firstPageCapability.resolve(Te),this._optionalContentConfigPromise=me,Ee(this,I,Jt).call(this,Me);const Ie=this._scrollMode===g.ScrollMode.PAGE?null:this.viewer,Fe=this.currentScale,ue=Te.getViewport({scale:Fe*m.PixelsPerInch.PDF_TO_CSS_UNITS}),q=this.textLayerMode===g.TextLayerMode.DISABLE||re?null:this,V=we(this,X)!==m.AnnotationMode.DISABLE?this:null,fe=re?this:null;for(let Ae=1;Ae<=ye;++Ae){const Ce=new r.PDFPageView({container:Ie,eventBus:this.eventBus,id:Ae,scale:Fe,defaultViewport:ue.clone(),optionalContentConfigPromise:me,renderingQueue:this.renderingQueue,textLayerFactory:q,textLayerMode:this.textLayerMode,annotationLayerFactory:V,annotationMode:we(this,X),xfaLayerFactory:fe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ce)}const ge=this._pages[0];ge&&(ge.setPdfPage(Te),this.linkService.cachePageRef(1,Te.ref)),this._scrollMode===g.ScrollMode.PAGE?Ee(this,c,pt).call(this):this._spreadMode!==g.SpreadMode.NONE&&this._updateSpreadMode(),Ee(this,d,Qt).call(this).then(f(function*(){if(H.findController&&H.findController.setDocument(w),H._scriptingManager&&H._scriptingManager.setDocument(w),w.loadingParams.disableAutoFetch||ye>C.FORCE_LAZY_PAGE_INIT)return void H._pagesCapability.resolve();let Ae=ye-1;if(Ae<=0)H._pagesCapability.resolve();else for(let Ce=2;Ce<=ye;++Ce){const Oe=w.getPage(Ce).then(Le=>{const Ne=H._pages[Ce-1];Ne.pdfPage||Ne.setPdfPage(Le),H.linkService.cachePageRef(Ce,Le.ref),0==--Ae&&H._pagesCapability.resolve()},Le=>{console.error(`Unable to get page ${Ce} to initialize viewer`,Le),0==--Ae&&H._pagesCapability.resolve()});Ce%C.PAUSE_EAGER_PAGE_INIT==0&&(yield Oe)}})),this.eventBus.dispatch("pagesinit",{source:this}),w.getMetadata().then(({info:Ae})=>{w===this.pdfDocument&&Ae.Language&&(this.viewer.lang=Ae.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Te=>{console.error("Unable to initialize viewer",Te),this._pagesCapability.reject(Te)})}setPageLabels(w){if(this.pdfDocument){w?Array.isArray(w)&&this.pdfDocument.numPages===w.length?this._pageLabels=w:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let H=0,re=this._pages.length;H<re;H++)this._pages[H].setPageLabel(this._pageLabels?.[H]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=g.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ue(this,U,new x(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,m.createPromiseCapability)(),this._onePageRenderedCapability=(0,m.createPromiseCapability)(),this._pagesCapability=(0,m.createPromiseCapability)(),this._scrollMode=g.ScrollMode.VERTICAL,this._previousScrollMode=g.ScrollMode.UNKNOWN,this._spreadMode=g.SpreadMode.NONE,Ue(this,ie,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),we(this,ce)&&(document.removeEventListener("visibilitychange",we(this,ce)),Ue(this,ce,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(y),null!==we(this,B)&&(Ue(this,X,we(this,B)),Ue(this,B,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(w,H,re=!1,ye=!1){if(this._currentScaleValue=H.toString(),Ee(this,R,$t).call(this,w))return void(ye&&this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:H}));this._doc.style.setProperty("--zoom-factor",w);const ve={scale:w};for(const me of this._pages)me.update(ve);if(this._currentScale=w,!re){let xe,me=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(me=this._location.pageNumber,xe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:me,destArray:xe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:ye?H:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==g.SpreadMode.NONE&&this._scrollMode!==g.ScrollMode.HORIZONTAL?2:1}_setScale(w,H=!1){let re=parseFloat(w);if(re>0)this._setScaleUpdatePages(re,w,H,!1);else{const ye=this._pages[this._currentPageNumber-1];if(!ye)return;let ve=g.SCROLLBAR_PADDING,me=g.VERTICAL_PADDING;this.isInPresentationMode?ve=me=4:this.removePageBorders?ve=me=0:this._scrollMode===g.ScrollMode.HORIZONTAL&&([ve,me]=[me,ve]);const xe=(this.container.clientWidth-ve)/ye.width*ye.scale/this._pageWidthScaleFactor,Te=(this.container.clientHeight-me)/ye.height*ye.scale;switch(w){case"page-actual":re=1;break;case"page-width":re=xe;break;case"page-height":re=Te;break;case"page-fit":re=Math.min(xe,Te);break;case"auto":const Me=(0,g.isPortraitOrientation)(ye)?xe:Math.min(Te,xe);re=Math.min(g.MAX_AUTO_SCALE,Me);break;default:return void console.error(`_setScale: "${w}" is an unknown zoom value.`)}this._setScaleUpdatePages(re,w,H,!0)}}pageLabelToPageNumber(w){if(!this._pageLabels)return null;const H=this._pageLabels.indexOf(w);return H<0?null:H+1}scrollPageIntoView({pageNumber:w,destArray:H=null,allowNegativeOffset:re=!1,ignoreDestinationZoom:ye=!1}){if(!this.pdfDocument)return;const ve=Number.isInteger(w)&&this._pages[w-1];if(!ve)return void console.error(`scrollPageIntoView: "${w}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!H)return void this._setCurrentPageNumber(w,!0);let Ie,Fe,me=0,xe=0,Te=0,Me=0;const ue=ve.rotation%180!=0,q=(ue?ve.height:ve.width)/ve.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS,V=(ue?ve.width:ve.height)/ve.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS;let fe=0;switch(H[1].name){case"XYZ":me=H[2],xe=H[3],fe=H[4],me=null!==me?me:0,xe=null!==xe?xe:V;break;case"Fit":case"FitB":fe="page-fit";break;case"FitH":case"FitBH":xe=H[2],fe="page-width",null===xe&&this._location?(me=this._location.left,xe=this._location.top):("number"!=typeof xe||xe<0)&&(xe=V);break;case"FitV":case"FitBV":me=H[2],Te=q,Me=V,fe="page-height";break;case"FitR":me=H[2],xe=H[3],Te=H[4]-me,Me=H[5]-xe,Ie=(this.container.clientWidth-(this.removePageBorders?0:g.SCROLLBAR_PADDING))/Te/m.PixelsPerInch.PDF_TO_CSS_UNITS,Fe=(this.container.clientHeight-(this.removePageBorders?0:g.VERTICAL_PADDING))/Me/m.PixelsPerInch.PDF_TO_CSS_UNITS,fe=Math.min(Math.abs(Ie),Math.abs(Fe));break;default:return void console.error(`scrollPageIntoView: "${H[1].name}" is not a valid destination type.`)}if(ye||(fe&&fe!==this._currentScale?this.currentScaleValue=fe:this._currentScale===g.UNKNOWN_SCALE&&(this.currentScaleValue=g.DEFAULT_SCALE_VALUE)),"page-fit"===fe&&!H[4])return void Ee(this,E,yt).call(this,ve);const ge=[ve.viewport.convertToViewportPoint(me,xe),ve.viewport.convertToViewportPoint(me+Te,xe+Me)];let Ae=Math.min(ge[0][0],ge[1][0]),Ce=Math.min(ge[0][1],ge[1][1]);re||(Ae=Math.max(Ae,0),Ce=Math.max(Ce,0)),Ee(this,E,yt).call(this,ve,{left:Ae,top:Ce})}_updateLocation(w){const H=this._currentScale,re=this._currentScaleValue,ye=parseFloat(re)===H?Math.round(1e4*H)/100:re,ve=w.id,xe=this.container,Te=this._pages[ve-1].getPagePoint(xe.scrollLeft-w.x,xe.scrollTop-w.y),Me=Math.round(Te[0]),Ie=Math.round(Te[1]);let Fe=`#page=${ve}`;this.isInPresentationMode||(Fe+=`&zoom=${ye},${Me},${Ie}`),this._location={pageNumber:ve,scale:ye,top:Ie,left:Me,rotation:this._pagesRotation,pdfOpenParams:Fe}}update(){const w=this._getVisiblePages(),H=w.views,re=H.length;if(0===re)return;const ye=Math.max(10,2*re+1);we(this,U).resize(ye,w.ids),this.renderingQueue.renderHighestPriority(w);const ve=this._spreadMode===g.SpreadMode.NONE&&(this._scrollMode===g.ScrollMode.PAGE||this._scrollMode===g.ScrollMode.VERTICAL),me=this._currentPageNumber;let xe=!1;for(const Te of H){if(Te.percent<100)break;if(Te.id===me&&ve){xe=!0;break}}this._setCurrentPageNumber(xe?me:H[0].id),this._updateLocation(w.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(w){return this.container.contains(w)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===g.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===g.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const w=this._scrollMode===g.ScrollMode.PAGE?we(this,ie).pages:this._pages,H=this._scrollMode===g.ScrollMode.HORIZONTAL;return(0,g.getVisibleElements)({scrollEl:this.container,views:w,sortByVisibility:!0,horizontal:H,rtl:H&&this._isContainerRtl})}isPageVisible(w){return!!this.pdfDocument&&(Number.isInteger(w)&&w>0&&w<=this.pagesCount?this._getVisiblePages().ids.has(w):(console.error(`isPageVisible: "${w}" is not a valid page.`),!1))}isPageCached(w){if(!this.pdfDocument)return!1;if(!(Number.isInteger(w)&&w>0&&w<=this.pagesCount))return console.error(`isPageCached: "${w}" is not a valid page.`),!1;const H=this._pages[w-1];return we(this,U).has(H)}cleanup(){for(const w of this._pages)w.renderingState!==g.RenderingStates.FINISHED&&w.reset()}_cancelRendering(){for(const w of this._pages)w.cancelRendering()}forceRendering(w){const H=w||this._getVisiblePages(),re=Ee(this,de,Kt).call(this,H),ve=this.renderingQueue.getHighestPriority(H,this._pages,re,this._spreadMode!==g.SpreadMode.NONE&&this._scrollMode!==g.ScrollMode.HORIZONTAL);return Ee(this,Pe,en).call(this,H.ids),!!ve&&(Ee(this,ee,Xt).call(this,ve).then(()=>{this.renderingQueue.renderView(ve)}),!0)}createTextLayerBuilder(w,H,re,ye=!1,ve,me){return new b.TextLayerBuilder({textLayerDiv:w,eventBus:ve,pageIndex:H,viewport:re,enhanceTextSelection:!this.isInPresentationMode&&ye,highlighter:me})}createTextHighlighter(w,H){return new v.TextHighlighter({eventBus:H,pageIndex:w,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(w,H,re=null,ye="",ve=!0,me=A.NullL10n,xe=null,Te=null,Me=null,Ie=null,Fe=null){return new a.AnnotationLayerBuilder({pageDiv:w,pdfPage:H,annotationStorage:re||this.pdfDocument?.annotationStorage,imageResourcesPath:ye,renderForms:ve,linkService:this.linkService,downloadManager:this.downloadManager,l10n:me,enableScripting:xe??this.enableScripting,hasJSActionsPromise:Te||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Ie||this.pdfDocument?.getFieldObjects(),mouseState:Me||this._scriptingManager?.mouseState,annotationCanvasMap:Fe})}createXfaLayerBuilder(w,H,re=null){return new i.XfaLayerBuilder({pageDiv:w,pdfPage:H,annotationStorage:re||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(w){return new M.StructTreeLayerBuilder({pdfPage:w})}get hasEqualPageSizes(){const w=this._pages[0];for(let H=1,re=this._pages.length;H<re;++H){const ye=this._pages[H];if(ye.width!==w.width||ye.height!==w.height)return!1}return!0}getPagesOverview(){return this._pages.map(w=>{const H=w.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,g.isPortraitOrientation)(H)?{width:H.width,height:H.height,rotation:H.rotation}:{width:H.height,height:H.width,rotation:(H.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(w){if(!(w instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${w}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=w;const H={optionalContentConfigPromise:w};for(const re of this._pages)re.update(H);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:w})}get scrollMode(){return this._scrollMode}set scrollMode(w){if(this._scrollMode!==w){if(!(0,g.isValidScrollMode)(w))throw new Error(`Invalid scroll mode: ${w}`);this.pagesCount>C.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=w,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:w}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(w=null){const H=this._scrollMode,re=this.viewer;re.classList.toggle("scrollHorizontal",H===g.ScrollMode.HORIZONTAL),re.classList.toggle("scrollWrapped",H===g.ScrollMode.WRAPPED),this.pdfDocument&&w&&(H===g.ScrollMode.PAGE?Ee(this,c,pt).call(this):this._previousScrollMode===g.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(w){if(this._spreadMode!==w){if(!(0,g.isValidSpreadMode)(w))throw new Error(`Invalid spread mode: ${w}`);this._spreadMode=w,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:w}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(w=null){if(!this.pdfDocument)return;const H=this.viewer,re=this._pages;if(this._scrollMode===g.ScrollMode.PAGE)Ee(this,c,pt).call(this);else if(H.textContent="",this._spreadMode===g.SpreadMode.NONE)for(const ye of this._pages)H.appendChild(ye.div);else{const ye=this._spreadMode-1;let ve=null;for(let me=0,xe=re.length;me<xe;++me)null===ve?(ve=document.createElement("div"),ve.className="spread",H.appendChild(ve)):me%2===ye&&(ve=ve.cloneNode(!1),H.appendChild(ve)),ve.appendChild(re[me].div)}!w||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}_getPageAdvance(w,H=!1){switch(this._scrollMode){case g.ScrollMode.WRAPPED:{const{views:re}=this._getVisiblePages(),ye=new Map;for(const{id:ve,y:me,percent:xe,widthPercent:Te}of re){if(0===xe||Te<100)continue;let Me=ye.get(me);Me||ye.set(me,Me||(Me=[])),Me.push(ve)}for(const ve of ye.values()){const me=ve.indexOf(w);if(-1===me)continue;const xe=ve.length;if(1===xe)break;if(H)for(let Te=me-1,Me=0;Te>=Me;Te--){const Fe=ve[Te+1]-1;if(ve[Te]<Fe)return w-Fe}else for(let Te=me+1,Me=xe;Te<Me;Te++){const Fe=ve[Te-1]+1;if(ve[Te]>Fe)return Fe-w}if(H){const Te=ve[0];if(Te<w)return w-Te+1}else{const Te=ve[xe-1];if(Te>w)return Te-w+1}break}break}case g.ScrollMode.HORIZONTAL:break;case g.ScrollMode.PAGE:case g.ScrollMode.VERTICAL:{if(this._spreadMode===g.SpreadMode.NONE)break;const re=this._spreadMode-1;if(H&&w%2!==re)break;if(!H&&w%2===re)break;const{views:ye}=this._getVisiblePages(),ve=H?w-1:w+1;for(const{id:me,percent:xe,widthPercent:Te}of ye)if(me===ve){if(xe>0&&100===Te)return 2;break}break}}return 1}nextPage(){const w=this._currentPageNumber,H=this.pagesCount;if(w>=H)return!1;const re=this._getPageAdvance(w,!1)||1;return this.currentPageNumber=Math.min(w+re,H),!0}previousPage(){const w=this._currentPageNumber;if(w<=1)return!1;const H=this._getPageAdvance(w,!0)||1;return this.currentPageNumber=Math.max(w-H,1),!0}increaseScale(w=1){let H=this._currentScale;do{H=(H*g.DEFAULT_SCALE_DELTA).toFixed(2),H=Math.ceil(10*H)/10,H=Math.min(g.MAX_SCALE,H)}while(--w>0&&H<g.MAX_SCALE);this.currentScaleValue=H}decreaseScale(w=1){let H=this._currentScale;do{H=(H/g.DEFAULT_SCALE_DELTA).toFixed(2),H=Math.floor(10*H)/10,H=Math.max(g.MIN_SCALE,H)}while(--w>0&&H>g.MIN_SCALE);this.currentScaleValue=H}updateContainerHeightCss(){const w=this.container.clientHeight;w!==we(this,te)&&(Ue(this,te,w),this._doc.style.setProperty("--viewer-container-height",`${w}px`))}};let O=pe;U=new WeakMap,X=new WeakMap,B=new WeakMap,$=new WeakMap,te=new WeakMap,ie=new WeakMap,ce=new WeakMap,I=new WeakSet,Jt=function(w){!w||(w.includes(m.PermissionFlag.COPY)||this.viewer.classList.add(y),!w.includes(m.PermissionFlag.MODIFY_ANNOTATIONS)&&!w.includes(m.PermissionFlag.FILL_INTERACTIVE_FORMS)&&we(this,X)===m.AnnotationMode.ENABLE_FORMS&&(Ue(this,B,we(this,X)),Ue(this,X,m.AnnotationMode.ENABLE)))},d=new WeakSet,Qt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const w=new Promise(H=>{Ue(this,ce,()=>{"hidden"===document.visibilityState&&(H(),document.removeEventListener("visibilitychange",we(this,ce)),Ue(this,ce,null))}),document.addEventListener("visibilitychange",we(this,ce))});return Promise.race([this._onePageRenderedCapability.promise,w])},c=new WeakSet,pt=function(){if(this._scrollMode!==g.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const w=this._currentPageNumber,H=we(this,ie),re=this.viewer;if(re.textContent="",H.pages.length=0,this._spreadMode!==g.SpreadMode.NONE||this.isInPresentationMode){const ye=new Set,ve=this._spreadMode-1;-1===ve?ye.add(w-1):w%2!==ve?(ye.add(w-1),ye.add(w)):(ye.add(w-2),ye.add(w-1));const me=document.createElement("div");if(me.className="spread",this.isInPresentationMode){const xe=document.createElement("div");xe.className="dummyPage",me.appendChild(xe)}for(const xe of ye){const Te=this._pages[xe];!Te||(me.appendChild(Te.div),H.pages.push(Te))}re.appendChild(me)}else{const ye=this._pages[w-1];re.appendChild(ye.div),H.pages.push(ye)}H.scrollDown=w>=H.previousPageNumber,H.previousPageNumber=w},E=new WeakSet,yt=function(w,H=null){const{div:re,id:ye}=w;if(this._scrollMode===g.ScrollMode.PAGE&&(this._setCurrentPageNumber(ye),Ee(this,c,pt).call(this),this.update()),!H&&!this.isInPresentationMode){const ve=re.offsetLeft+re.clientLeft,me=ve+re.clientWidth,{scrollLeft:xe,clientWidth:Te}=this.container;(this._scrollMode===g.ScrollMode.HORIZONTAL||ve<xe||me>xe+Te)&&(H={left:0,top:0})}(0,g.scrollIntoView)(re,H)},R=new WeakSet,$t=function(w){return w===this._currentScale||Math.abs(w-this._currentScale)<1e-15},Q=new WeakSet,Lt=function(){const w=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Ee(this,E,yt).call(this,w)},ee=new WeakSet,Xt=function(w){var H=this;return f(function*(){if(w.pdfPage)return w.pdfPage;try{const re=yield H.pdfDocument.getPage(w.id);return w.pdfPage||w.setPdfPage(re),H.linkService._cachedPageNumber?.(re.ref)||H.linkService.cachePageRef(w.id,re.ref),re}catch(re){return console.error("Unable to get page for page view",re),null}})()},de=new WeakSet,Kt=function(w){if(1===w.first?.id)return!0;if(w.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case g.ScrollMode.PAGE:return we(this,ie).scrollDown;case g.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Pe=new WeakSet,en=function(w){for(const H of w)this._pages[H-1]?.toggleLoadingIconSpinner(!0);for(const H of we(this,U))w.has(H.id)||H.toggleLoadingIconSpinner(!1)},u.BaseViewer=O},(D,u,S)=>{var h;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFPageView=void 0;var m=S(3),g=S(6),a=S(13),A=S(4);const r=a.compatibilityParams.maxCanvasPixels||16777216;h=new WeakMap,u.PDFPageView=class o{constructor(v){ke(this,h,m.AnnotationMode.ENABLE_FORMS);const b=v.container,i=v.defaultViewport;this.id=v.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=v.scale||g.DEFAULT_SCALE,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=v.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=v.textLayerMode??g.TextLayerMode.ENABLE,Ue(this,h,v.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=v.imageResourcesPath||"",this.useOnlyCssZoom=v.useOnlyCssZoom||!1,this.maxCanvasPixels=v.maxCanvasPixels||r,this.pageColors=v.pageColors||null,this.eventBus=v.eventBus,this.renderingQueue=v.renderingQueue,this.textLayerFactory=v.textLayerFactory,this.annotationLayerFactory=v.annotationLayerFactory,this.xfaLayerFactory=v.xfaLayerFactory,this.textHighlighter=v.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=v.structTreeLayerFactory,this.renderer=v.renderer||g.RendererType.CANVAS,this.l10n=v.l10n||A.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=g.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(y=>{s.setAttribute("aria-label",y)}),this.div=s,b?.appendChild(s)}setPdfPage(v){this.pdfPage=v,this.pdfPageRotate=v.rotate,this.viewport=v.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var v=this;return f(function*(){let b=null;try{yield v.annotationLayer.render(v.viewport,"display")}catch(i){b=i}finally{v.eventBus.dispatch("annotationlayerrendered",{source:v,pageNumber:v.id,error:b})}})()}_renderXfaLayer(){var v=this;return f(function*(){let b=null;try{const i=yield v.xfaLayer.render(v.viewport,"display");v.textHighlighter&&v._buildXfaTextContentItems(i.textDivs)}catch(i){b=i}finally{v.eventBus.dispatch("xfalayerrendered",{source:v,pageNumber:v.id,error:b})}})()}_buildXfaTextContentItems(v){var b=this;return f(function*(){const i=yield b.pdfPage.getTextContent(),s=[];for(const y of i.items)s.push(y.str);b.textHighlighter.setTextMapping(v,s),b.textHighlighter.enable()})()}_resetZoomLayer(v=!1){if(!this.zoomLayer)return;const b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b),b.width=0,b.height=0,v&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:v=!1,keepAnnotationLayer:b=!1,keepXfaLayer:i=!1}={}){this.cancelRendering({keepAnnotationLayer:b,keepXfaLayer:i}),this.renderingState=g.RenderingStates.INITIAL;const s=this.div;s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px";const y=s.childNodes,C=v&&this.zoomLayer||null,x=b&&this.annotationLayer?.div||null,O=i&&this.xfaLayer?.div||null;for(let k=y.length-1;k>=0;k--){const N=y[k];switch(N){case C:case x:case O:continue}N.remove()}s.removeAttribute("data-loaded"),x&&this.annotationLayer.hide(),O&&this.xfaLayer.hide(),C||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(k=>{this.loadingIconDiv?.setAttribute("aria-label",k)}),s.appendChild(this.loadingIconDiv)}update({scale:v=0,rotation:b=null,optionalContentConfigPromise:i=null}){if(this.scale=v||this.scale,"number"==typeof b&&(this.rotation=b),i instanceof Promise&&(this._optionalContentConfigPromise=i),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:C}=document.documentElement;C.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let y=!1;if(this.canvas&&this.maxCanvasPixels>0){const C=this.outputScale;(Math.floor(this.viewport.width)*C.sx|0)*(Math.floor(this.viewport.height)*C.sy|0)>this.maxCanvasPixels&&(y=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&y)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:v=!1,keepXfaLayer:b=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!v||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!b||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:v,redrawAnnotationLayer:b=!1,redrawXfaLayer:i=!1}){const s=this.viewport.width,y=this.viewport.height,C=this.div;v.style.width=v.parentNode.style.width=C.style.width=Math.floor(s)+"px",v.style.height=v.parentNode.style.height=C.style.height=Math.floor(y)+"px";const x=this.viewport.rotation-this.paintedViewportMap.get(v).rotation,O=Math.abs(x);let k=1,N=1;if((90===O||270===O)&&(k=y/s,N=s/y),v.style.transform=`rotate(${x}deg) scale(${k}, ${N})`,this.textLayer){const Z=this.textLayer.viewport,U=Math.abs(this.viewport.rotation-Z.rotation);let X=s/Z.width;(90===U||270===U)&&(X=s/Z.height);const B=this.textLayer.textLayerDiv;let $,te;switch(U){case 0:$=te=0;break;case 90:$=0,te="-"+B.style.height;break;case 180:$="-"+B.style.width,te="-"+B.style.height;break;case 270:$="-"+B.style.width,te=0;break;default:console.error("Bad rotation value.")}B.style.transform=`rotate(${U}deg) scale(${X}) translate(${$}, ${te})`,B.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this._renderAnnotationLayer(),i&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(v,b){return this.viewport.convertToPdfPoint(v,b)}toggleLoadingIconSpinner(v=!1){this.loadingIconDiv?.classList.toggle("notVisible",!v)}draw(){var v=this;this.renderingState!==g.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:b,pdfPage:i}=this;if(!i)return this.renderingState=g.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=g.RenderingStates.RUNNING;const s=document.createElement("div");s.style.width=b.style.width,s.style.height=b.style.height,s.classList.add("canvasWrapper"),this.annotationLayer?.div?b.insertBefore(s,this.annotationLayer.div):b.appendChild(s);let y=null;if(this.textLayerMode!==g.TextLayerMode.DISABLE&&this.textLayerFactory){const N=document.createElement("div");N.className="textLayer",N.style.width=s.style.width,N.style.height=s.style.height,this.annotationLayer?.div?b.insertBefore(N,this.annotationLayer.div):b.appendChild(N),y=this.textLayerFactory.createTextLayerBuilder(N,this.id-1,this.viewport,this.textLayerMode===g.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=y,we(this,h)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(b,i,null,this.imageResourcesPath,we(this,h)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&b.appendChild(this.xfaLayer.div);let C=null;this.renderingQueue&&(C=N=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=g.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=g.RenderingStates.RUNNING,N()});N()});const x=function(){var N=f(function*(Z=null){if(O===v.paintTask&&(v.paintTask=null),Z instanceof m.RenderingCancelledException)v._renderError=null;else if(v._renderError=Z,v.renderingState=g.RenderingStates.FINISHED,v.loadingIconDiv&&(v.loadingIconDiv.remove(),delete v.loadingIconDiv),v._resetZoomLayer(!0),v.eventBus.dispatch("pagerendered",{source:v,pageNumber:v.id,cssTransform:!1,timestamp:performance.now(),error:v._renderError}),Z)throw Z});return function(){return N.apply(this,arguments)}}(),O=this.renderer===g.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);O.onRenderContinue=C,this.paintTask=O;const k=O.promise.then(()=>x(null).then(()=>{if(y){const N=i.streamTextContent({includeMarkedContent:!0});y.setTextContentStream(N),y.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(N){return x(N)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(b,i,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=N=>{N.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Z=>{if(!Z||!this.canvas)return;const G=this.structTreeLayer.render(Z);G.classList.add("structTree"),this.canvas.appendChild(G)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(i)),b.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),k}paintOnCanvas(v){const b=(0,m.createPromiseCapability)(),i={promise:b.promise,onRenderContinue(B){B()},cancel(){X.cancel()}},s=this.viewport,y=document.createElement("canvas");y.hidden=!0;let C=!0;const x=function(){C&&(y.hidden=!1,C=!1)};v.appendChild(y),this.canvas=y;const O=y.getContext("2d",{alpha:!1}),k=this.outputScale=new g.OutputScale;if(this.useOnlyCssZoom){const B=s.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});k.sx*=B.width/s.width,k.sy*=B.height/s.height}if(this.maxCanvasPixels>0){const $=Math.sqrt(this.maxCanvasPixels/(s.width*s.height));k.sx>$||k.sy>$?(k.sx=$,k.sy=$,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const N=(0,g.approximateFraction)(k.sx),Z=(0,g.approximateFraction)(k.sy);y.width=(0,g.roundToDivide)(s.width*k.sx,N[0]),y.height=(0,g.roundToDivide)(s.height*k.sy,Z[0]),y.style.width=(0,g.roundToDivide)(s.width,N[1])+"px",y.style.height=(0,g.roundToDivide)(s.height,Z[1])+"px",this.paintedViewportMap.set(y,s);const U={canvasContext:O,transform:k.scaled?[k.sx,0,0,k.sy,0,0]:null,viewport:this.viewport,annotationMode:we(this,h),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},X=this.pdfPage.render(U);return X.onContinue=function(B){x(),i.onRenderContinue?i.onRenderContinue(B):B()},X.promise.then(function(){x(),b.resolve()},function(B){x(),b.reject(B)}),i}paintOnSvg(v){let b=!1;const i=()=>{if(b)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},s=this.pdfPage,y=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:s.getOperatorList({annotationMode:we(this,h)}).then(x=>(i(),new m.SVGGraphics(s.commonObjs,s.objs).getSVG(x,y).then(k=>{i(),this.svg=k,this.paintedViewportMap.set(k,y),k.style.width=v.style.width,k.style.height=v.style.height,this.renderingState=g.RenderingStates.FINISHED,v.appendChild(k)}))),onRenderContinue(x){x()},cancel(){b=!0}}}setPageLabel(v){this.pageLabel="string"==typeof v?v:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(D,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.compatibilityParams=u.OptionKind=u.AppOptions=void 0;const S=Object.create(null);u.compatibilityParams=S;{const r=navigator.userAgent||"",o=navigator.platform||"",h=navigator.maxTouchPoints||1,M=/Android/.test(r);(/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===o&&h>1||M)&&(S.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};u.OptionKind=m;const g={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:S.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};g.disablePreferences={value:!1,kind:m.VIEWER},g.locale={value:navigator.language||"en-US",kind:m.VIEWER},g.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},g.renderer.kind+=m.PREFERENCE;const a=Object.create(null);u.AppOptions=class A{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(o){const h=a[o];if(void 0!==h)return h;const M=g[o];return void 0!==M?M.compatibility??M.value:void 0}static getAll(o=null){const h=Object.create(null);for(const M in g){const v=g[M];if(o){if(0==(o&v.kind))continue;if(o===m.PREFERENCE){const i=v.value,s=typeof i;if("boolean"===s||"string"===s||"number"===s&&Number.isInteger(i)){h[M]=i;continue}throw new Error(`Invalid type for preference: ${M}`)}}const b=a[M];h[M]=void 0!==b?b:v.compatibility??v.value}return h}static set(o,h){a[o]=h}static setAll(o){for(const h in o)a[h]=o[h]}static remove(o){delete a[o]}static _hasUserOptions(){return Object.keys(a).length>0}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFRenderingQueue=void 0;var m=S(3),g=S(6);u.PDFRenderingQueue=class A{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(o){this.pdfViewer=o}setThumbnailViewer(o){this.pdfThumbnailViewer=o}isHighestPriority(o){return this.highestPriorityPage===o.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(o){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(o)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(o,h,M,v=!1){const b=o.views,i=b.length;if(0===i)return null;for(let O=0;O<i;O++){const k=b[O].view;if(!this.isViewFinished(k))return k}const s=o.first.id,y=o.last.id;if(y-s+1>i){const O=o.ids;for(let k=1,N=y-s;k<N;k++){const Z=M?s+k:y-k;if(O.has(Z))continue;const G=h[Z-1];if(!this.isViewFinished(G))return G}}let C=M?y:s-2,x=h[C];return x&&!this.isViewFinished(x)||v&&(C+=M?1:-1,x=h[C],x&&!this.isViewFinished(x))?x:null}isViewFinished(o){return o.renderingState===g.RenderingStates.FINISHED}renderView(o){switch(o.renderingState){case g.RenderingStates.FINISHED:return!1;case g.RenderingStates.PAUSED:this.highestPriorityPage=o.renderingId,o.resume();break;case g.RenderingStates.RUNNING:this.highestPriorityPage=o.renderingId;break;case g.RenderingStates.INITIAL:this.highestPriorityPage=o.renderingId,o.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof m.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(D,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextHighlighter=void 0,u.TextHighlighter=class S{constructor({findController:g,eventBus:a,pageIndex:A}){this.findController=g,this.matches=[],this.eventBus=a,this.pageIdx=A,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(g,a){this.textDivs=g,this.textContentItemsStr=a}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=g=>{(g.pageIndex===this.pageIdx||-1===g.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(g,a){if(!g)return[];const{textContentItemsStr:A}=this;let r=0,o=0;const h=A.length-1,M=[];for(let v=0,b=g.length;v<b;v++){let i=g[v];for(;r!==h&&i>=o+A[r].length;)o+=A[r].length,r++;r===A.length&&console.error("Could not find a matching mapping");const s={begin:{divIdx:r,offset:i-o}};for(i+=a[v];r!==h&&i>o+A[r].length;)o+=A[r].length,r++;s.end={divIdx:r,offset:i-o},M.push(s)}return M}_renderMatches(g){if(0===g.length)return;const{findController:a,pageIdx:A}=this,{textContentItemsStr:r,textDivs:o}=this,h=A===a.selected.pageIdx,M=a.selected.matchIdx;let b=null;function s(O,k){const N=O.divIdx;return o[N].textContent="",y(N,0,O.offset,k)}function y(O,k,N,Z){let G=o[O];if(G.nodeType===Node.TEXT_NODE){const B=document.createElement("span");G.parentNode.insertBefore(B,G),B.appendChild(G),o[O]=B,G=B}const U=r[O].substring(k,N),X=document.createTextNode(U);if(Z){const B=document.createElement("span");return B.className=`${Z} appended`,B.appendChild(X),G.appendChild(B),Z.includes("selected")?B.offsetLeft:0}return G.appendChild(X),0}let C=M,x=C+1;if(a.state.highlightAll)C=0,x=g.length;else if(!h)return;for(let O=C;O<x;O++){const k=g[O],N=k.begin,Z=k.end,G=h&&O===M,U=G?" selected":"";let X=0;if(b&&N.divIdx===b.divIdx?y(b.divIdx,b.offset,N.offset):(null!==b&&y(b.divIdx,b.offset,undefined),s(N)),N.divIdx===Z.divIdx)X=y(N.divIdx,N.offset,Z.offset,"highlight"+U);else{X=y(N.divIdx,N.offset,undefined,"highlight begin"+U);for(let B=N.divIdx+1,$=Z.divIdx;B<$;B++)o[B].className="highlight middle"+U;s(Z,"highlight end"+U)}b=Z,G&&a.scrollMatchIntoView({element:o[N.divIdx],selectedLeft:X,pageIndex:A,matchIndex:M})}b&&y(b.divIdx,b.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:g,matches:a,pageIdx:A}=this,{textContentItemsStr:r,textDivs:o}=this;let h=-1;for(let b=0,i=a.length;b<i;b++){const s=a[b];for(let C=Math.max(h,s.begin.divIdx),x=s.end.divIdx;C<=x;C++){const O=o[C];O.textContent=r[C],O.className=""}h=s.end.divIdx+1}g?.highlightMatches&&(this.matches=this._convertMatches(g.pageMatches[A]||null,g.pageMatchesLength[A]||null),this._renderMatches(this.matches))}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DownloadManager=void 0;var m=S(3);function g(A,r){const o=document.createElement("a");if(!o.click)throw new Error('DownloadManager: "a.click()" is not supported.');o.href=A,o.target="_parent","download"in o&&(o.download=r),(document.body||document.documentElement).appendChild(o),o.click(),o.remove()}u.DownloadManager=class a{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(r,o){(0,m.createValidAbsoluteUrl)(r,"http://example.com")?g(r+"#pdfjs.action=download",o):console.error(`downloadUrl - not a valid URL: ${r}`)}downloadData(r,o,h){g(URL.createObjectURL(new Blob([r],{type:h})),o)}openOrDownloadData(r,o,h){const M=(0,m.isPdfFile)(h),v=M?"application/pdf":"";if(M){let i,b=this._openBlobUrls.get(r);b||(b=URL.createObjectURL(new Blob([o],{type:v})),this._openBlobUrls.set(r,b)),i="?file="+encodeURIComponent(b+"#"+h);try{return window.open(i),!0}catch(s){console.error(`openOrDownloadData: ${s}`),URL.revokeObjectURL(b),this._openBlobUrls.delete(r)}}return this.downloadData(o,h,v),!1}download(r,o,h,M="download"){g(URL.createObjectURL(r),h)}}},(D,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WaitOnType=u.EventBus=u.AutomationEventBus=void 0,u.waitOnEventOrTimeout=function m({target:A,name:r,delay:o=0}){return new Promise(function(h,M){if("object"!=typeof A||!r||"string"!=typeof r||!(Number.isInteger(o)&&o>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function v(y){A instanceof g?A._off(r,b):A.removeEventListener(r,b),s&&clearTimeout(s),h(y)}const b=v.bind(null,S.EVENT);A instanceof g?A._on(r,b):A.addEventListener(r,b);const i=v.bind(null,S.TIMEOUT),s=setTimeout(i,o)})};const S={EVENT:"event",TIMEOUT:"timeout"};u.WaitOnType=S;class g{constructor(){this._listeners=Object.create(null)}on(r,o,h=null){this._on(r,o,{external:!0,once:h?.once})}off(r,o,h=null){this._off(r,o,{external:!0,once:h?.once})}dispatch(r,o){const h=this._listeners[r];if(!h||0===h.length)return;let M;for(const{listener:v,external:b,once:i}of h.slice(0))i&&this._off(r,v),b?(M||(M=[])).push(v):v(o);if(M){for(const v of M)v(o);M=null}}_on(r,o,h=null){var v;((v=this._listeners)[r]||(v[r]=[])).push({listener:o,external:!0===h?.external,once:!0===h?.once})}_off(r,o,h=null){const M=this._listeners[r];if(M)for(let v=0,b=M.length;v<b;v++)if(M[v].listener===o)return void M.splice(v,1)}}u.EventBus=g,u.AutomationEventBus=class a extends g{dispatch(r,o){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericL10n=void 0,S(19);var m=S(4);const g=document.webL10n;u.GenericL10n=class a{constructor(r){this._lang=r,this._ready=new Promise((o,h)=>{g.setLanguage((0,m.fixupLangCode)(r),()=>{o(g)})})}getLanguage(){var r=this;return f(function*(){return(yield r._ready).getLanguage()})()}getDirection(){var r=this;return f(function*(){return(yield r._ready).getDirection()})()}get(r,o=null,h=(0,m.getL10nFallback)(r,o)){var M=this;return f(function*(){return(yield M._ready).get(r,o,h)})()}translate(r){var o=this;return f(function*(){return(yield o._ready).translate(r)})()}}},()=>{document.webL10n=function(D,u,S){var m={},g="",a="textContent",A="",r={},o="loading";function s(B,$,te){$=$||function(I){},te=te||function(){};var ie=new XMLHttpRequest;ie.open("GET",B,!0),ie.overrideMimeType&&ie.overrideMimeType("text/plain; charset=utf-8"),ie.onreadystatechange=function(){4==ie.readyState&&(200==ie.status||0===ie.status?$(ie.responseText):te())},ie.onerror=te,ie.ontimeout=te;try{ie.send(null)}catch{te()}}function C(B,$){B&&(B=B.toLowerCase()),$=$||function(){},function x(){m={},g="",A=""}(),A=B;var te=function M(){return u.querySelectorAll('link[type="application/l10n"]')}(),ie=te.length;if(0!==ie){var d,n=0;d=function(){++n>=ie&&($(),o="complete")};for(var _=0;_<ie;_++)new c(te[_]).load(B,d)}else{var ce=function v(){var B=u.querySelector('script[type="application/l10n"]');return B?JSON.parse(B.innerHTML):null}();if(ce&&ce.locales&&ce.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=ce.locales[B])){var I=ce.default_locale.toLowerCase();for(var l in ce.locales){if((l=l.toLowerCase())===B){m=ce.locales[B];break}l===I&&(m=ce.locales[I])}}$()}else console.log("no resource to load, early way out");o="complete"}function c(P){var R=P.href;this.load=function(J,Q){!function y(B,$,te,ie){var ce=B.replace(/[^\/]*$/,"")||"./";function I(d){return d.lastIndexOf("\\")<0?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}s(B,function(d){g+=d,function l(d,n){var c={},_=/^\s*|\s*$/,E=/^\s*#|^\s*$/,P=/^\s*\[(.*)\]\s*$/,R=/^\s*@import\s+url\((.*)\)\s*$/i,J=/^([^=\s]*)\s*=\s*(.+)$/;function Q(ee,se,de){var _e=ee.replace(_,"").split(/[\r\n]+/),Pe="*",le=$.split("-",1)[0],pe=!1,he="";!function w(){for(;;){if(!_e.length)return void de();var H=_e.shift();if(!E.test(H)){if(se){if(he=P.exec(H)){Pe=he[1].toLowerCase(),pe="*"!==Pe&&Pe!==$&&Pe!==le;continue}if(pe)continue;if(he=R.exec(H))return void W(ce+he[1],w)}var re=H.match(J);re&&3==re.length&&(c[re[1]]=I(re[2]))}}}()}function W(ee,se){s(ee,function(de){Q(de,!1,se)},function(){console.warn(ee+" not found."),se()})}Q(d,!0,function(){n(c)})}(d,function(n){for(var c in n){var _,E,P=c.lastIndexOf(".");P>0?(_=c.substring(0,P),E=c.substring(P+1)):(_=c,E=a),m[_]||(m[_]={}),m[_][E]=n[c]}te&&te()})},ie)}(R,J,Q,function(){console.warn(R+" not found."),console.warn('"'+J+'" resource not found'),A="",Q()})}}}function k(B,$,te){var ie=m[B];if(!ie){if(console.warn("#"+B+" is undefined."),!te)return null;ie=te}var ce={};for(var I in ie){var l=ie[I];l=Z(l=N(l,$,B,I),$,B),ce[I]=l}return ce}function N(B,$,te,ie){var I=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(B);if(!I||!I.length)return B;var n,l=I[1],d=I[2];return $&&d in $?n=$[d]:d in m&&(n=m[d]),l in r&&(B=(0,r[l])(B,n,te,ie)),B}function Z(B,$,te){return B.replace(/\{\{\s*(.+?)\s*\}\}/g,function(ce,I){return $&&I in $?$[I]:I in m?m[I]:(console.log("argument {{"+I+"}} for #"+te+" is undefined."),ce)})}function G(B){var $=function i(B){if(!B)return{};var $=B.getAttribute("data-l10n-id"),te=B.getAttribute("data-l10n-args"),ie={};if(te)try{ie=JSON.parse(te)}catch{console.warn("could not parse arguments for #"+$)}return{id:$,args:ie}}(B);if($.id){var te=k($.id,$.args);if(!te)return void console.warn("#"+$.id+" is undefined.");if(te[a]){if(0===function U(B){if(B.children)return B.children.length;if(typeof B.childElementCount<"u")return B.childElementCount;for(var $=0,te=0;te<B.childNodes.length;te++)$+=1===B.nodeType?1:0;return $}(B))B[a]=te[a];else{for(var ie=B.childNodes,ce=!1,I=0,l=ie.length;I<l;I++)3===ie[I].nodeType&&/\S/.test(ie[I].nodeValue)&&(ce?ie[I].nodeValue="":(ie[I].nodeValue=te[a],ce=!0));if(!ce){var d=u.createTextNode(te[a]);B.insertBefore(d,B.firstChild)}}delete te[a]}for(var n in te)B[n]=te[n]}}return r.plural=function(B,$,te,ie){var ce=parseFloat($);if(isNaN(ce)||ie!=a)return B;r._pluralRules||(r._pluralRules=function O(B){function te(l,d){return-1!==d.indexOf(l)}function ie(l,d,n){return d<=l&&l<=n}var ce={0:function(l){return"other"},1:function(l){return ie(l%100,3,10)?"few":0===l?"zero":ie(l%100,11,99)?"many":2==l?"two":1==l?"one":"other"},2:function(l){return 0!==l&&l%10==0?"many":2==l?"two":1==l?"one":"other"},3:function(l){return 1==l?"one":"other"},4:function(l){return ie(l,0,1)?"one":"other"},5:function(l){return ie(l,0,2)&&2!=l?"one":"other"},6:function(l){return 0===l?"zero":l%10==1&&l%100!=11?"one":"other"},7:function(l){return 2==l?"two":1==l?"one":"other"},8:function(l){return ie(l,3,6)?"few":ie(l,7,10)?"many":2==l?"two":1==l?"one":"other"},9:function(l){return 0===l||1!=l&&ie(l%100,1,19)?"few":1==l?"one":"other"},10:function(l){return ie(l%10,2,9)&&!ie(l%100,11,19)?"few":l%10!=1||ie(l%100,11,19)?"other":"one"},11:function(l){return ie(l%10,2,4)&&!ie(l%100,12,14)?"few":l%10==0||ie(l%10,5,9)||ie(l%100,11,14)?"many":l%10==1&&l%100!=11?"one":"other"},12:function(l){return ie(l,2,4)?"few":1==l?"one":"other"},13:function(l){return ie(l%10,2,4)&&!ie(l%100,12,14)?"few":1!=l&&ie(l%10,0,1)||ie(l%10,5,9)||ie(l%100,12,14)?"many":1==l?"one":"other"},14:function(l){return ie(l%100,3,4)?"few":l%100==2?"two":l%100==1?"one":"other"},15:function(l){return 0===l||ie(l%100,2,10)?"few":ie(l%100,11,19)?"many":1==l?"one":"other"},16:function(l){return l%10==1&&11!=l?"one":"other"},17:function(l){return 3==l?"few":0===l?"zero":6==l?"many":2==l?"two":1==l?"one":"other"},18:function(l){return 0===l?"zero":ie(l,0,2)&&0!==l&&2!=l?"one":"other"},19:function(l){return ie(l,2,10)?"few":ie(l,0,1)?"one":"other"},20:function(l){return!ie(l%10,3,4)&&l%10!=9||ie(l%100,10,19)||ie(l%100,70,79)||ie(l%100,90,99)?l%1e6==0&&0!==l?"many":l%10!=2||te(l%100,[12,72,92])?l%10!=1||te(l%100,[11,71,91])?"other":"one":"two":"few"},21:function(l){return 0===l?"zero":1==l?"one":"other"},22:function(l){return ie(l,0,1)||ie(l,11,99)?"one":"other"},23:function(l){return ie(l%10,1,2)||l%20==0?"one":"other"},24:function(l){return ie(l,3,10)||ie(l,13,19)?"few":te(l,[2,12])?"two":te(l,[1,11])?"one":"other"}},I={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[B.replace(/-.*$/,"")];return I in ce?ce[I]:(console.warn("plural form unknown for ["+B+"]"),function(){return"other"})}(A));var I="["+r._pluralRules(ce)+"]";return 0===ce&&te+"[zero]"in m?B=m[te+"[zero]"][ie]:1==ce&&te+"[one]"in m?B=m[te+"[one]"][ie]:2==ce&&te+"[two]"in m?B=m[te+"[two]"][ie]:te+I in m?B=m[te+I][ie]:te+"[other]"in m&&(B=m[te+"[other]"][ie]),B},{get:function(B,$,te){var I,ie=B.lastIndexOf("."),ce=a;ie>0&&(ce=B.substring(ie+1),B=B.substring(0,ie)),te&&((I={})[ce]=te);var l=k(B,$,I);return l&&ce in l?l[ce]:"{{"+B+"}}"},getData:function(){return m},getText:function(){return g},getLanguage:function(){return A},setLanguage:function(B,$){C(B,function(){$&&$()})},getDirection:function(){var $=A.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf($)>=0?"rtl":"ltr"},translate:function X(B){for(var $=function b(B){return B?B.querySelectorAll("*[data-l10n-id]"):[]}(B=B||u.documentElement),te=$.length,ie=0;ie<te;ie++)G($[ie]);G(B)},getReadyState:function(){return o},ready:function(B){B&&("complete"==o||"interactive"==o?D.setTimeout(function(){B()}):u.addEventListener&&u.addEventListener("localized",function $(){u.removeEventListener("localized",$),B()}))}}}(window,document)},(D,u,S)=>{var Z,tn,U,Rt,B,Ft,te,nn,ce,rn,l,sn,n,Nt,_,an,P,on,J,Ct,W,ft,se,ot,_e,ln,le,Dt,he,Ut,H,Tt,ye,cn,me,qt,Te,dn,Ie,gt;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFFindController=u.FindState=void 0;var m=S(6),g=S(3),a=S(21);const A={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};u.FindState=A;const M={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},v=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),b=[...v.values()].map(ue=>String.fromCharCode(ue)).join(""),i=/\p{M}+/gu,s=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,y=/([^\p{M}])\p{M}*$/u,C=/^\p{M}*([^\p{M}])/u;let x=null;function O(ue){if(!x){const Re=Object.keys(M).join("");x=new RegExp(`([${Re}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const q=[];let V;for(;null!==(V=i.exec(ue));)q.push([V[0].length,V.index]);let fe=ue.normalize("NFD");const ge=[[0,0]];let Ae=0,Ce=0,Oe=0,Le=0,Ne=!1;return fe=fe.replace(x,(Re,je,qe,Qe,De,He)=>{if(He-=Oe,je){const We=M[Re],Je=We.length;for(let Ge=1;Ge<Je;Ge++)ge.push([He-Ce+Ge,Ce-Ge]);return Ce-=Je-1,We}if(qe){const We=qe.endsWith("\n"),Je=We?qe.length-2:qe.length;Ne=!0;let Ge=Je;He+Le===q[Ae]?.[1]&&(Ge-=q[Ae][0],++Ae);for(let Xe=1;Xe<Ge+1;Xe++)ge.push([He-1-Ce+Xe,Ce-Xe]);return Ce-=Ge,Oe+=Ge,We?(ge.push([(He+=Je-1)-Ce+1,1+Ce]),Ce+=1,Oe+=1,Le+=1,qe.slice(0,Je)):qe}return Qe?(ge.push([He-Ce+1,1+Ce]),Ce+=1,Oe+=1,Le+=1,Qe.charAt(0)):(ge.push([He-Ce+1,Ce-1]),Ce-=1,Oe+=1,Le+=1," ")}),ge.push([fe.length,Ce]),[fe,ge,Ne]}function k(ue,q,V){if(!ue)return[q,V];const fe=q,ge=q+V;let Ae=(0,m.binarySearchFirstItem)(ue,Oe=>Oe[0]>=fe);ue[Ae][0]>fe&&--Ae;let Ce=(0,m.binarySearchFirstItem)(ue,Oe=>Oe[0]>=ge,Ae);return ue[Ce][0]>ge&&--Ce,[fe+ue[Ae][1],V+ue[Ce][1]-ue[Ae][1]]}Z=new WeakSet,tn=function(q){if(!q)return;const V=this._pdfDocument,{type:fe}=q;(null===this._state||Ee(this,te,nn).call(this,q))&&(this._dirtyMatch=!0),this._state=q,"highlightallchange"!==fe&&Ee(this,Ie,gt).call(this,A.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||V&&this._pdfDocument!==V)return;Ee(this,P,on).call(this);const ge=!this._highlightMatches,Ae=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),fe?this._dirtyMatch?Ee(this,se,ot).call(this):"again"===fe?(Ee(this,se,ot).call(this),ge&&this._state.highlightAll&&Ee(this,W,ft).call(this)):"highlightallchange"===fe?(Ae?Ee(this,se,ot).call(this):this._highlightMatches=!0,Ee(this,W,ft).call(this)):Ee(this,se,ot).call(this):this._findTimeout=setTimeout(()=>{Ee(this,se,ot).call(this),this._findTimeout=null},250)})},U=new WeakSet,Rt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,g.createPromiseCapability)()},B=new WeakSet,Ft=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=O(this._state.query)),this._normalizedQuery},te=new WeakSet,nn=function(q){if(q.query!==this._state.query)return!0;switch(q.type){case"again":const V=this._selected.pageIdx+1,fe=this._linkService;return V>=1&&V<=fe.pagesCount&&V!==fe.page&&!fe.isPageVisible(V);case"highlightallchange":return!1}return!0},ce=new WeakSet,rn=function(q,V,fe){let ge=q.slice(0,V).match(y);if(ge){const Ae=q.charCodeAt(V),Ce=ge[1].charCodeAt(0);if((0,a.getCharacterType)(Ae)===(0,a.getCharacterType)(Ce))return!1}if(ge=q.slice(V+fe).match(C),ge){const Ae=q.charCodeAt(V+fe-1),Ce=ge[1].charCodeAt(0);if((0,a.getCharacterType)(Ae)===(0,a.getCharacterType)(Ce))return!1}return!0},l=new WeakSet,sn=function(q,V,fe,ge){const Ae=[],Ce=[],Oe=this._pageDiffs[fe];let Le;for(;null!==(Le=q.exec(ge));){if(V&&!Ee(this,ce,rn).call(this,ge,Le.index,Le[0].length))continue;const[Ne,Re]=k(Oe,Le.index,Le[0].length);Re&&(Ae.push(Ne),Ce.push(Re))}this._pageMatches[fe]=Ae,this._pageMatchesLength[fe]=Ce},n=new WeakSet,Nt=function(q,V){const{matchDiacritics:fe}=this._state;let ge=!1;return(q=q.replace(s,(Ce,Oe,Le,Ne,Re,je)=>Oe?`[ ]*\\${Oe}[ ]*`:Le?`[ ]*${Le}[ ]*`:Ne?"[ ]+":fe?Re||je:Re?v.has(Re.charCodeAt(0))?Re:"":V?(ge=!0,`${je}\\p{M}*`):je)).endsWith("[ ]*")&&(q=q.slice(0,q.length-"[ ]*".length)),fe&&V&&(ge=!0,q=`${q}(?=[${b}]|[^\\p{M}]|$)`),[ge,q]},_=new WeakSet,an=function(q){let V=we(this,B,Ft);if(0===V.length)return;const{caseSensitive:fe,entireWord:ge,phraseSearch:Ae}=this._state,Ce=this._pageContents[q],Oe=this._hasDiacritics[q];let Le=!1;if(Ae)[Le,V]=Ee(this,n,Nt).call(this,V,Oe);else{const je=V.match(/\S+/g);je&&(V=je.sort().reverse().map(qe=>{const[Qe,De]=Ee(this,n,Nt).call(this,qe,Oe);return Le||(Le=Qe),`(${De})`}).join("|"))}V=new RegExp(V,`g${Le?"u":""}${fe?"":"i"}`),Ee(this,l,sn).call(this,V,ge,q,Ce),this._state.highlightAll&&Ee(this,J,Ct).call(this,q),this._resumePageIdx===q&&(this._resumePageIdx=null,Ee(this,le,Dt).call(this));const Re=this._pageMatches[q].length;Re>0&&(this._matchesCountTotal+=Re,Ee(this,Te,dn).call(this))},P=new WeakSet,on=function(){if(this._extractTextPromises.length>0)return;let q=Promise.resolve();for(let V=0,fe=this._linkService.pagesCount;V<fe;V++){const ge=(0,g.createPromiseCapability)();this._extractTextPromises[V]=ge.promise,q=q.then(()=>this._pdfDocument.getPage(V+1).then(Ae=>Ae.getTextContent()).then(Ae=>{const Ce=[];for(const Oe of Ae.items)Ce.push(Oe.str),Oe.hasEOL&&Ce.push("\n");[this._pageContents[V],this._pageDiffs[V],this._hasDiacritics[V]]=O(Ce.join("")),ge.resolve()},Ae=>{console.error(`Unable to get text content for page ${V+1}`,Ae),this._pageContents[V]="",this._pageDiffs[V]=null,this._hasDiacritics[V]=!1,ge.resolve()}))}},J=new WeakSet,Ct=function(q){this._scrollMatches&&this._selected.pageIdx===q&&(this._linkService.page=q+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:q})},W=new WeakSet,ft=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},se=new WeakSet,ot=function(){const q=this._state.findPrevious,V=this._linkService.page-1,fe=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=V,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Ee(this,W,ft).call(this);for(let Ae=0;Ae<fe;Ae++)this._pendingFindMatches.has(Ae)||(this._pendingFindMatches.add(Ae),this._extractTextPromises[Ae].then(()=>{this._pendingFindMatches.delete(Ae),Ee(this,_,an).call(this,Ae)}))}if(""===we(this,B,Ft))return void Ee(this,Ie,gt).call(this,A.FOUND);if(this._resumePageIdx)return;const ge=this._offset;if(this._pagesToSearch=fe,null!==ge.matchIdx){const Ae=this._pageMatches[ge.pageIdx].length;if(!q&&ge.matchIdx+1<Ae||q&&ge.matchIdx>0)return ge.matchIdx=q?ge.matchIdx-1:ge.matchIdx+1,void Ee(this,H,Tt).call(this,!0);Ee(this,he,Ut).call(this,q)}Ee(this,le,Dt).call(this)},_e=new WeakSet,ln=function(q){const V=this._offset,fe=q.length,ge=this._state.findPrevious;return fe?(V.matchIdx=ge?fe-1:0,Ee(this,H,Tt).call(this,!0),!0):(Ee(this,he,Ut).call(this,ge),!!(V.wrapped&&(V.matchIdx=null,this._pagesToSearch<0))&&(Ee(this,H,Tt).call(this,!1),!0))},le=new WeakSet,Dt=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let q=null;do{const V=this._offset.pageIdx;if(q=this._pageMatches[V],!q){this._resumePageIdx=V;break}}while(!Ee(this,_e,ln).call(this,q))},he=new WeakSet,Ut=function(q){const V=this._offset,fe=this._linkService.pagesCount;V.pageIdx=q?V.pageIdx-1:V.pageIdx+1,V.matchIdx=null,this._pagesToSearch--,(V.pageIdx>=fe||V.pageIdx<0)&&(V.pageIdx=q?fe-1:0,V.wrapped=!0)},H=new WeakSet,Tt=function(q=!1){let V=A.NOT_FOUND;const fe=this._offset.wrapped;if(this._offset.wrapped=!1,q){const ge=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,V=fe?A.WRAPPED:A.FOUND,-1!==ge&&ge!==this._selected.pageIdx&&Ee(this,J,Ct).call(this,ge)}Ee(this,Ie,gt).call(this,V,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,Ee(this,J,Ct).call(this,this._selected.pageIdx))},ye=new WeakSet,cn=function(q){const V=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||V&&this._pdfDocument!==V||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Ee(this,Ie,gt).call(this,A.FOUND),this._highlightMatches=!1,Ee(this,W,ft).call(this))})},me=new WeakSet,qt=function(){const{pageIdx:q,matchIdx:V}=this._selected;let fe=0,ge=this._matchesCountTotal;if(-1!==V){for(let Ae=0;Ae<q;Ae++)fe+=this._pageMatches[Ae]?.length||0;fe+=V+1}return(fe<1||fe>ge)&&(fe=ge=0),{current:fe,total:ge}},Te=new WeakSet,dn=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Ee(this,me,qt).call(this)})},Ie=new WeakSet,gt=function(q,V=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:q,previous:V,matchesCount:Ee(this,me,qt).call(this),rawQuery:this._state?.query??null})},u.PDFFindController=class N{constructor({linkService:q,eventBus:V}){ke(this,Z),ke(this,U),ke(this,B),ke(this,te),ke(this,ce),ke(this,l),ke(this,n),ke(this,_),ke(this,P),ke(this,J),ke(this,W),ke(this,se),ke(this,_e),ke(this,le),ke(this,he),ke(this,H),ke(this,ye),ke(this,me),ke(this,Te),ke(this,Ie),this._linkService=q,this._eventBus=V,Ee(this,U,Rt).call(this),V._on("find",Ee(this,Z,tn).bind(this)),V._on("findbarclose",Ee(this,ye,cn).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(q){this._pdfDocument&&Ee(this,U,Rt).call(this),q&&(this._pdfDocument=q,this._firstPageCapability.resolve())}scrollMatchIntoView({element:q=null,selectedLeft:V=0,pageIndex:fe=-1,matchIndex:ge=-1}){this._scrollMatches&&q&&-1!==ge&&ge===this._selected.matchIdx&&-1!==fe&&fe===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(q,{top:-50,left:V+-400},!0))}}},(D,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CharacterType=void 0,u.getCharacterType=function i(s){return function m(s){return s<11904}(s)?function g(s){return 0==(65408&s)}(s)?function r(s){return 32===s||9===s||13===s||10===s}(s)?S.SPACE:function a(s){return s>=97&&s<=122||s>=65&&s<=90}(s)||function A(s){return s>=48&&s<=57}(s)||95===s?S.ALPHA_LETTER:S.PUNCT:function b(s){return 3584==(65408&s)}(s)?S.THAI_LETTER:160===s?S.SPACE:S.ALPHA_LETTER:function o(s){return s>=13312&&s<=40959||s>=63744&&s<=64255}(s)?S.HAN_LETTER:function h(s){return s>=12448&&s<=12543}(s)?S.KATAKANA_LETTER:function M(s){return s>=12352&&s<=12447}(s)?S.HIRAGANA_LETTER:function v(s){return s>=65376&&s<=65439}(s)?S.HALFWIDTH_KATAKANA_LETTER:S.ALPHA_LETTER};const S={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};u.CharacterType=S},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFHistory=void 0,u.isDestArraysEqual=v,u.isDestHashesEqual=M;var m=S(6),g=S(17);function o(){return document.location.hash}function M(b,i){return"string"==typeof b&&"string"==typeof i&&(b===i||(0,m.parseQueryString)(b).get("nameddest")===i)}function v(b,i){function s(y,C){if(typeof y!=typeof C||Array.isArray(y)||Array.isArray(C))return!1;if(null!==y&&"object"==typeof y&&null!==C){if(Object.keys(y).length!==Object.keys(C).length)return!1;for(const x in y)if(!s(y[x],C[x]))return!1;return!0}return y===C||Number.isNaN(y)&&Number.isNaN(C)}if(!Array.isArray(b)||!Array.isArray(i)||b.length!==i.length)return!1;for(let y=0,C=b.length;y<C;y++)if(!s(b[y],i[y]))return!1;return!0}u.PDFHistory=class h{constructor({linkService:i,eventBus:s}){this.linkService=i,this.eventBus=s,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",y=>{this._isPagesLoaded=!!y.pagesCount},{once:!0})})}initialize({fingerprint:i,resetHistory:s=!1,updateUrl:y=!1}){if(!i||"string"!=typeof i)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const C=""!==this._fingerprint&&this._fingerprint!==i;this._fingerprint=i,this._updateUrl=!0===y,this._initialized=!0,this._bindEvents();const x=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=o(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(x,!0)||s){const{hash:k,page:N,rotation:Z}=this._parseCurrentHash(!0);return!k||C||s?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:k,page:N,rotation:Z},!0)}const O=x.destination;this._updateInternalState(O,x.uid,!0),void 0!==O.rotation&&(this._initialRotation=O.rotation),O.dest?(this._initialBookmark=JSON.stringify(O.dest),this._destination.page=null):O.hash?this._initialBookmark=O.hash:O.page&&(this._initialBookmark=`page=${O.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:i=null,explicitDest:s,pageNumber:y}){if(!this._initialized)return;if(i&&"string"!=typeof i)return void console.error(`PDFHistory.push: "${i}" is not a valid namedDest parameter.`);if(!Array.isArray(s))return void console.error(`PDFHistory.push: "${s}" is not a valid explicitDest parameter.`);if(!this._isValidPage(y)&&(null!==y||this._destination))return void console.error(`PDFHistory.push: "${y}" is not a valid pageNumber parameter.`);const C=i||JSON.stringify(s);if(!C)return;let x=!1;if(this._destination&&(M(this._destination.hash,C)||v(this._destination.dest,s))){if(this._destination.page)return;x=!0}this._popStateInProgress&&!x||(this._pushOrReplaceState({dest:s,hash:C,page:y,rotation:this.linkService.rotation},x),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(i){if(this._initialized){if(!this._isValidPage(i))return void console.error(`PDFHistory.pushPage: "${i}" is not a valid page number.`);this._destination?.page!==i&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${i}`,page:i,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const i=window.history.state;this._isValidState(i)&&i.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const i=window.history.state;this._isValidState(i)&&i.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(i,s=!1){const y=s||!this._destination,C={fingerprint:this._fingerprint,uid:y?this._uid:this._uid+1,destination:i};let x;if(this._updateInternalState(i,C.uid),this._updateUrl&&i?.hash){const O=document.location.href.split("#")[0];O.startsWith("file://")||(x=`${O}#${i.hash}`)}y?window.history.replaceState(C,"",x):window.history.pushState(C,"",x)}_tryPushCurrentPosition(i=!1){if(!this._position)return;let s=this._position;if(i&&(s=Object.assign(Object.create(null),this._position),s.temporary=!0),!this._destination)return void this._pushOrReplaceState(s);if(this._destination.temporary)return void this._pushOrReplaceState(s,!0);if(this._destination.hash===s.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let y=!1;if(this._destination.page>=s.first&&this._destination.page<=s.page){if(void 0!==this._destination.dest||!this._destination.first)return;y=!0}this._pushOrReplaceState(s,y)}_isValidPage(i){return Number.isInteger(i)&&i>0&&i<=this.linkService.pagesCount}_isValidState(i,s=!1){if(!i)return!1;if(i.fingerprint!==this._fingerprint){if(!s)return!1;{if("string"!=typeof i.fingerprint||i.fingerprint.length!==this._fingerprint.length)return!1;const[y]=performance.getEntriesByType("navigation");if("reload"!==y?.type)return!1}}return!(!Number.isInteger(i.uid)||i.uid<0||null===i.destination||"object"!=typeof i.destination)}_updateInternalState(i,s,y=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),y&&i?.temporary&&delete i.temporary,this._destination=i,this._uid=s,this._maxUid=Math.max(this._maxUid,s),this._numPositionUpdates=0}_parseCurrentHash(i=!1){const s=unescape(o()).substring(1),y=(0,m.parseQueryString)(s),C=y.get("nameddest")||"";let x=0|y.get("page");return(!this._isValidPage(x)||i&&C.length>0)&&(x=null),{hash:s,page:x,rotation:this.linkService.rotation}}_updateViewarea({location:i}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:i.pdfOpenParams.substring(1),page:this.linkService.page,first:i.pageNumber,rotation:i.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:i}){const s=o(),y=this._currentHash!==s;if(this._currentHash=s,!i){this._uid++;const{hash:x,page:O,rotation:k}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:x,page:O,rotation:k},!0)}if(!this._isValidState(i))return;this._popStateInProgress=!0,y&&(this._blockHashChange++,(0,g.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const C=i.destination;this._updateInternalState(C,i.uid,!0),(0,m.isValidRotation)(C.rotation)&&(this.linkService.rotation=C.rotation),C.dest?this.linkService.goToDestination(C.dest):C.hash?this.linkService.setHash(C.hash):C.page&&(this.linkService.page=C.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFScriptingManager=void 0;var m=S(6),g=S(3);u.PDFScriptingManager=class a{constructor({eventBus:r,sandboxBundleSrc:o=null,scriptingFactory:h=null,docPropertiesLookup:M=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=o,this._scriptingFactory=h,this._docPropertiesLookup=M,this._scriptingFactory||window.addEventListener("updatefromsandbox",v=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:v.detail})})}setViewer(r){this._pdfViewer=r}setDocument(r){var o=this;return f(function*(){if(o._pdfDocument&&(yield o._destroyScripting()),o._pdfDocument=r,!r)return;const[h,M,v]=yield Promise.all([r.getFieldObjects(),r.getCalculationOrderIds(),r.getJSActions()]);if(h||v){if(r===o._pdfDocument){try{o._scripting=o._createScripting()}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield o._destroyScripting())}o._internalEvents.set("updatefromsandbox",b=>{b?.source===window&&o._updateFromSandbox(b.detail)}),o._internalEvents.set("dispatcheventinsandbox",b=>{o._scripting?.dispatchEventInSandbox(b.detail)}),o._internalEvents.set("pagechanging",({pageNumber:b,previous:i})=>{b!==i&&(o._dispatchPageClose(i),o._dispatchPageOpen(b))}),o._internalEvents.set("pagerendered",({pageNumber:b})=>{!o._pageOpenPending.has(b)||b===o._pdfViewer.currentPageNumber&&o._dispatchPageOpen(b)}),o._internalEvents.set("pagesdestroy",function(){var b=f(function*(i){yield o._dispatchPageClose(o._pdfViewer.currentPageNumber),yield o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),o._closeCapability?.resolve()});return function(i){return b.apply(this,arguments)}}()),o._domEvents.set("mousedown",b=>{o._mouseState.isDown=!0}),o._domEvents.set("mouseup",b=>{o._mouseState.isDown=!1});for(const[b,i]of o._internalEvents)o._eventBus._on(b,i);for(const[b,i]of o._domEvents)window.addEventListener(b,i,!0);try{const b=yield o._getDocProperties();if(r!==o._pdfDocument)return;yield o._scripting.createSandbox({objects:h,calculationOrder:M,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...b,actions:v}}),o._eventBus.dispatch("sandboxcreated",{source:o})}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield o._destroyScripting())}yield o._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield o._dispatchPageOpen(o._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{r===o._pdfDocument&&(o._ready=!0)})}}else yield o._destroyScripting()})()}dispatchWillSave(r){var o=this;return f(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(r){var o=this;return f(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(r){var o=this;return f(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(r){var o=this;return f(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,g.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,g.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,g.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,g.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(r){var o=this;return f(function*(){const h=o._pdfViewer.isInPresentationMode||o._pdfViewer.isChangingPresentationMode,{id:M,siblings:v,command:b,value:i}=r;if(!M){switch(b){case"clear":console.clear();break;case"error":console.error(i);break;case"layout":if(h)return;const y=(0,m.apiPageLayoutToViewerModes)(i);o._pdfViewer.spreadMode=y.spreadMode;break;case"page-num":o._pdfViewer.currentPageNumber=i+1;break;case"print":yield o._pdfViewer.pagesPromise,o._eventBus.dispatch("print",{source:o});break;case"println":console.log(i);break;case"zoom":if(h)return;o._pdfViewer.currentScaleValue=i;break;case"SaveAs":o._eventBus.dispatch("save",{source:o});break;case"FirstPage":o._pdfViewer.currentPageNumber=1;break;case"LastPage":o._pdfViewer.currentPageNumber=o._pdfViewer.pagesCount;break;case"NextPage":o._pdfViewer.nextPage();break;case"PrevPage":o._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;o._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;o._pdfViewer.decreaseScale()}return}if(h&&r.focus)return;delete r.id,delete r.siblings;const s=v?[M,...v]:[M];for(const y of s){const C=document.getElementById(y);C?C.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:r})):o._pdfDocument?.annotationStorage.setValue(y,r)}})()}_dispatchPageOpen(r,o=!1){var h=this;return f(function*(){const M=h._pdfDocument,v=h._visitedPages;if(o&&(h._closeCapability=(0,g.createPromiseCapability)()),!h._closeCapability)return;const b=h._pdfViewer.getPageView(r-1);if(b?.renderingState!==m.RenderingStates.FINISHED)return void h._pageOpenPending.add(r);h._pageOpenPending.delete(r);const i=f(function*(){const s=yield v.has(r)?null:b.pdfPage?.getJSActions();M===h._pdfDocument&&(yield h._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:r,actions:s}))})();v.set(r,i)})()}_dispatchPageClose(r){var o=this;return f(function*(){const h=o._pdfDocument,M=o._visitedPages;if(!o._closeCapability||o._pageOpenPending.has(r))return;const v=M.get(r);!v||(M.set(r,null),yield v,h===o._pdfDocument&&(yield o._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:r})))})()}_getDocProperties(){var r=this;return f(function*(){if(r._docPropertiesLookup)return r._docPropertiesLookup(r._pdfDocument);const{docPropertiesLookup:o}=S(24);return o(r._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,g.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:r}=S(24);return new r(this._sandboxBundleSrc)}_destroyScripting(){var r=this;return f(function*(){if(!r._scripting)return r._pdfDocument=null,void r._destroyCapability?.resolve();r._closeCapability&&(yield Promise.race([r._closeCapability.promise,new Promise(o=>{setTimeout(o,1e3)})]).catch(o=>{}),r._closeCapability=null),r._pdfDocument=null;try{yield r._scripting.destroySandbox()}catch{}for(const[o,h]of r._internalEvents)r._eventBus._off(o,h);r._internalEvents.clear();for(const[o,h]of r._domEvents)window.removeEventListener(o,h,!0);r._domEvents.clear(),r._pageOpenPending.clear(),r._visitedPages.clear(),r._scripting=null,delete r._mouseState.isDown,r._ready=!1,r._destroyCapability?.resolve()})()}}},(D,u,S)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericScripting=void 0,u.docPropertiesLookup=function g(r){return a.apply(this,arguments)};var m=S(3);function a(){return(a=f(function*(r){const h="".split("#")[0];let{info:M,metadata:v,contentDispositionFilename:b,contentLength:i}=yield r.getMetadata();if(!i){const{length:s}=yield r.getDownloadInfo();i=s}return{...M,baseURL:h,filesize:i,filename:b||(0,m.getPdfFilenameFromUrl)(""),metadata:v?.getRaw(),authors:v?.get("dc:creator"),numPages:r.numPages,URL:""}})).apply(this,arguments)}u.GenericScripting=class A{constructor(o){this._ready=(0,m.loadScript)(o,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(o){var h=this;return f(function*(){(yield h._ready).create(o)})()}dispatchEventInSandbox(o){var h=this;return f(function*(){const M=yield h._ready;setTimeout(()=>M.dispatchEvent(o),0)})()}destroySandbox(){var o=this;return f(function*(){(yield o._ready).nukeSandbox()})()}}}],z={};function e(D){var u=z[D];if(void 0!==u)return u.exports;var S=z[D]={exports:{}};return oe[D](S,S.exports,e),S.exports}var ne={};return(()=>{var D=ne;Object.defineProperty(D,"__esModule",{value:!0}),Object.defineProperty(D,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return a.AnnotationLayerBuilder}}),Object.defineProperty(D,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return u.DefaultAnnotationLayerFactory}}),Object.defineProperty(D,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return u.DefaultStructTreeLayerFactory}}),Object.defineProperty(D,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return u.DefaultTextLayerFactory}}),Object.defineProperty(D,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return u.DefaultXfaLayerFactory}}),Object.defineProperty(D,"DownloadManager",{enumerable:!0,get:function(){return A.DownloadManager}}),Object.defineProperty(D,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(D,"GenericL10n",{enumerable:!0,get:function(){return o.GenericL10n}}),Object.defineProperty(D,"LinkTarget",{enumerable:!0,get:function(){return S.LinkTarget}}),Object.defineProperty(D,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(D,"PDFFindController",{enumerable:!0,get:function(){return M.PDFFindController}}),Object.defineProperty(D,"PDFHistory",{enumerable:!0,get:function(){return v.PDFHistory}}),Object.defineProperty(D,"PDFLinkService",{enumerable:!0,get:function(){return S.PDFLinkService}}),Object.defineProperty(D,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty(D,"PDFScriptingManager",{enumerable:!0,get:function(){return i.PDFScriptingManager}}),Object.defineProperty(D,"PDFSinglePageViewer",{enumerable:!0,get:function(){return g.PDFSinglePageViewer}}),Object.defineProperty(D,"PDFViewer",{enumerable:!0,get:function(){return g.PDFViewer}}),Object.defineProperty(D,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(D,"SimpleLinkService",{enumerable:!0,get:function(){return S.SimpleLinkService}}),Object.defineProperty(D,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return s.StructTreeLayerBuilder}}),Object.defineProperty(D,"TextLayerBuilder",{enumerable:!0,get:function(){return y.TextLayerBuilder}}),Object.defineProperty(D,"XfaLayerBuilder",{enumerable:!0,get:function(){return C.XfaLayerBuilder}}),Object.defineProperty(D,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var u=e(1),S=e(5),m=e(6),g=e(10),a=e(2),A=e(16),r=e(17),o=e(18),h=e(4),M=e(20),v=e(22),b=e(12),i=e(23),s=e(7),y=e(8),C=e(9)})(),ne})(),be.exports=e()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:be=>{function F(f,oe,z,e,ne,D,u){try{var S=f[D](u),m=S.value}catch(g){return void z(g)}S.done?oe(m):Promise.resolve(m).then(e,ne)}be.exports=function K(f){return function(){var oe=this,z=arguments;return new Promise(function(e,ne){var D=f.apply(oe,z);function u(m){F(D,e,ne,u,S,"next",m)}function S(m){F(D,e,ne,u,S,"throw",m)}u(void 0)})}},be.exports.__esModule=!0,be.exports.default=be.exports},8997:(be,F,K)=>{"use strict";function f(Z,G,U,X,B,$,te){try{var ie=Z[$](te),ce=ie.value}catch(I){return void U(I)}ie.done?G(ce):Promise.resolve(ce).then(X,B)}function oe(Z){return function(){var G=this,U=arguments;return new Promise(function(X,B){var $=Z.apply(G,U);function te(ce){f($,X,B,te,ie,"next",ce)}function ie(ce){f($,X,B,te,ie,"throw",ce)}te(void 0)})}}K.d(F,{_f:()=>x,bB:()=>N});var z=K(8256),e=K(6895),ne=K(1481);function D(Z,G){if(1&Z){const U=z.EpF();z.TgZ(0,"ngx-dropzone-remove-badge",1),z.NdJ("click",function(B){z.CHM(U);const $=z.oxw();return z.KtG($._remove(B))}),z.qZA()}}const u=[[["ngx-dropzone-label"]]],S=["ngx-dropzone-label"],m=["fileInput"];function g(Z,G){1&Z&&z.Hsn(0,2,["*ngIf","!_hasPreviews"])}const a=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],A=["ngx-dropzone-preview","*","ngx-dropzone-label"];function v(Z){return null!=Z&&"false"!=`${Z}`}let i=(()=>{class Z{}return Z.\u0275fac=function(U){return new(U||Z)},Z.\u0275cmp=z.Xpm({type:Z,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(U,X){1&U&&(z.O4$(),z.TgZ(0,"svg"),z._UZ(1,"line",0)(2,"line",1),z.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),Z})();var s=(()=>{return(Z=s||(s={}))[Z.BACKSPACE=8]="BACKSPACE",Z[Z.DELETE=46]="DELETE",s;var Z})();let y=(()=>{class Z{constructor(U){this.sanitizer=U,this._removable=!1,this.removed=new z.vpe,this.tabIndex=0}set file(U){this._file=U}get file(){return this._file}get removable(){return this._removable}set removable(U){this._removable=v(U)}keyEvent(U){switch(U.keyCode){case s.BACKSPACE:case s.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(U){U.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var U=this;return oe(function*(){return new Promise((X,B)=>{const $=new FileReader;if($.onload=te=>{X(te.target.result)},$.onerror=te=>{console.error(`FileReader failed on file ${U.file.name}.`),B(te)},!U.file)return B("No file to read. Please provide a file using the [file] Input property.");$.readAsDataURL(U.file)})})()}}return Z.\u0275fac=function(U){return new(U||Z)(z.Y36(ne.H7))},Z.\u0275cmp=z.Xpm({type:Z,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(U,X){1&U&&z.NdJ("keyup",function($){return X.keyEvent($)}),2&U&&(z.Ikx("tabindex",X.tabIndex),z.Akn(X.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:S,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(U,X){1&U&&(z.F$t(u),z.Hsn(0),z.YNc(1,D,1,0,"ngx-dropzone-remove-badge",0)),2&U&&(z.xp6(1),z.Q6J("ngIf",X.removable))},dependencies:[i,e.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),Z})(),C=(()=>{class Z{parseFileList(U,X,B,$){const te=[],ie=[];for(let I=0;I<U.length;I++){const l=U.item(I);this.isAccepted(l,X)?B&&l.size>B?this.rejectFile(ie,l,"size"):!$&&te.length>=1?this.rejectFile(ie,l,"no_multiple"):te.push(l):this.rejectFile(ie,l,"type")}return{addedFiles:te,rejectedFiles:ie}}isAccepted(U,X){if("*"===X)return!0;const B=X.split(",").map(ce=>ce.toLowerCase().trim()),$=U.type.toLowerCase(),te=U.name.toLowerCase();return!!B.find(ce=>ce.endsWith("/*")?$.split("/")[0]===ce.split("/")[0]:ce.startsWith(".")?te.endsWith(ce):ce==$)}rejectFile(U,X,B){const $=X;$.reason=B,U.push($)}}return Z.\u0275fac=function(U){return new(U||Z)},Z.\u0275prov=z.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),x=(()=>{class Z{constructor(U){this.service=U,this.change=new z.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(U){this._disabled=v(U),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(U){this._multiple=v(U)}get maxFileSize(){return this._maxFileSize}set maxFileSize(U){this._maxFileSize=function b(Z){return isNaN(parseFloat(Z))||isNaN(Number(Z))?null:Number(Z)}(U)}get expandable(){return this._expandable}set expandable(U){this._expandable=v(U)}get disableClick(){return this._disableClick}set disableClick(U){this._disableClick=v(U)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(U){this._processDirectoryDrop=v(U)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(U){this.disabled||(this.preventDefault(U),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(U){if(!this.disabled)if(this.preventDefault(U),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const X=U.dataTransfer.items;if(X.length>0){const B=[],$=[];for(let ie=0;ie<X.length;ie++){const ce=X[ie].webkitGetAsEntry();ce.isFile?B.push(U.dataTransfer.files[ie]):ce.isDirectory&&$.push(ce)}const te=new DataTransfer;if(B.forEach(ie=>{te.items.add(ie)}),!$.length&&te.items.length&&this.handleFileDrop(te.files),$.length){const ie=[];for(const ce of $)ie.push(this.extractFilesFromDirectory(ce));Promise.all(ie).then(ce=>{ce.reduce((I,l)=>[...I,...l]).forEach(I=>{te.items.add(I)}),this.handleFileDrop(te.files)})}}}else this.handleFileDrop(U.dataTransfer.files)}extractFilesFromDirectory(U){function X($){return B.apply(this,arguments)}function B(){return(B=oe(function*($){try{return yield new Promise((te,ie)=>$.file(te,ie))}catch(te){console.log("Error converting a fileEntry to a File: ",te)}})).apply(this,arguments)}return new Promise(($,te)=>{const ie=[],ce=U.createReader(),I=()=>{ce.readEntries(function(){var l=oe(function*(d){if(d.length){const n=d.filter(c=>c.isFile);for(const c of n){const _=yield X(c);ie.push(_)}I()}else $(ie)});return function(d){return l.apply(this,arguments)}}())};I()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(U){this.handleFileDrop(U.target.files),this._fileInput.nativeElement.value="",this.preventDefault(U)}handleFileDrop(U){const X=this.service.parseFileList(U,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:X.addedFiles,rejectedFiles:X.rejectedFiles,source:this})}preventDefault(U){U.preventDefault(),U.stopPropagation()}}return Z.\u0275fac=function(U){return new(U||Z)(z.Y36(C,2))},Z.\u0275cmp=z.Xpm({type:Z,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(U,X,B){if(1&U&&z.Suo(B,y,5),2&U){let $;z.iGM($=z.CRH())&&(X._previewChildren=$)}},viewQuery:function(U,X){if(1&U&&z.Gf(m,7),2&U){let B;z.iGM(B=z.CRH())&&(X._fileInput=B.first)}},hostVars:8,hostBindings:function(U,X){1&U&&z.NdJ("click",function(){return X._onClick()})("dragover",function($){return X._onDragOver($)})("dragleave",function(){return X._onDragLeave()})("drop",function($){return X._onDrop($)}),2&U&&z.ekj("ngx-dz-disabled",X.disabled)("expandable",X.expandable)("unclickable",X.disableClick)("ngx-dz-hovered",X._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[z._Bn([C])],ngContentSelectors:A,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(U,X){1&U&&(z.F$t(a),z.TgZ(0,"input",0,1),z.NdJ("change",function($){return X._onFilesSelected($)}),z.qZA(),z.YNc(2,g,1,0,"ng-content",2),z.Hsn(3),z.Hsn(4,1)),2&U&&(z.Q6J("id",X.id)("multiple",X.multiple)("accept",X.accept)("disabled",X.disabled),z.uIk("aria-label",X.ariaLabel)("aria-labelledby",X.ariaLabelledby)("aria-describedby",X.ariaDescribedBy),z.xp6(2),z.Q6J("ngIf",!X._hasPreviews))},dependencies:[e.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),Z})(),N=(()=>{class Z{}return Z.\u0275fac=function(U){return new(U||Z)},Z.\u0275mod=z.oAB({type:Z}),Z.\u0275inj=z.cJS({imports:[[e.ez]]}),Z})()}}]);