var cr=Object.defineProperty,dr=(be,F,ee)=>F in be?cr(be,F,{enumerable:!0,configurable:!0,writable:!0,value:ee}):be[F]=ee,At=(be,F,ee)=>(dr(be,"symbol"!=typeof F?F+"":F,ee),ee),kt=(be,F,ee)=>{if(!F.has(be))throw TypeError("Cannot "+ee)},we=(be,F,ee)=>(kt(be,F,"read from private field"),ee?ee.call(be):F.get(be)),ke=(be,F,ee)=>{if(F.has(be))throw TypeError("Cannot add the same private member more than once");F instanceof WeakSet?F.add(be):F.set(be,ee)},Ue=(be,F,ee,_)=>(kt(be,F,"write to private field"),_?_.call(be,ee):F.set(be,ee),ee),Wt=(be,F,ee,_)=>({set _(fe){Ue(be,F,fe,ee)},get _(){return we(be,F,_)}}),Ee=(be,F,ee)=>(kt(be,F,"access private method"),ee);(self.webpackChunkreadiness_intelligence=self.webpackChunkreadiness_intelligence||[]).push([[675],{9675:(be,F,ee)=>{"use strict";ee.r(F),ee.d(F,{ImportModule:()=>rr});var _=ee(6895),fe=ee(5808),W=ee(433),e=ee(8256),ae=ee(7185),V=ee(8423),u=ee(6228),w=ee(5266),y=ee(3401),g=ee(2340),o=ee(529);let A=(()=>{class h{constructor(t){this.httpClient=t,this.url=g.N.apiURL+"/draftresponse"}getAll(){return this.httpClient.get(this.url)}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}update(t,v){return this.httpClient.put(this.url+"/"+t,v)}updateIsSelected(t,v){return this.httpClient.put(this.url+"/"+t+"/isselected",v)}updateDomainId(t,v){return this.httpClient.put(this.url+"/"+t+"/setdomainid",v)}updatePriority(t,v){return this.httpClient.put(this.url+"/"+t+"/setpriority",v)}delete(t){return this.httpClient.delete(this.url+"/"+t)}deleteByMerge(t,v){return this.httpClient.delete(this.url+"/"+t+"/"+v+"/deletebymerge")}deleteByPlanAndDomain(t,v){return this.httpClient.delete(this.url+"/"+t+"/"+v+"/byplananddomain")}}return h.\u0275fac=function(t){return new(t||h)(e.LFG(o.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var r=ee(374),a=ee(3787),p=ee(5795),k=ee(8997);const b=function(){return["/import/action-plan"]},m=function(h){return{plan_id:h}},i=function(){return{exact:!0}};function s(h,q){if(1&h&&(e.TgZ(0,"li",67)(1,"a",68),e._uU(2),e.qZA()()),2&h){const t=q.$implicit;e.xp6(1),e.Q6J("routerLink",e.DdM(5,b))("queryParams",e.VKq(6,m,t.id))("queryParamsHandling","merge")("routerLinkActiveOptions",e.DdM(8,i)),e.xp6(1),e.Oqu(t.name)}}function x(h,q){1&h&&(e.TgZ(0,"h6"),e._uU(1,"Create Action Plan"),e.qZA())}function C(h,q){1&h&&(e.TgZ(0,"h6"),e._uU(1,"Edit Action Plan"),e.qZA())}function T(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",69)(1,"div",70),e.YNc(2,x,2,0,"h6",71),e.YNc(3,C,2,0,"h6",71),e.qZA(),e.TgZ(4,"div",70)(5,"button",72),e.NdJ("click",function(){e.CHM(t);const H=e.oxw();return e.KtG(H.onImportFile())}),e._UZ(6,"i",73),e._uU(7,"Import File"),e.qZA()()()}if(2&h){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","create"==t.modeAction),e.xp6(1),e.Q6J("ngIf","update"==t.modeAction)}}function Z(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",74)(1,"div",70)(2,"button",72),e.NdJ("click",function(){e.CHM(t);const H=e.oxw();return e.KtG(H.updateActionPlan())}),e._UZ(3,"i",75),e._uU(4,"Edit Plan"),e.qZA()()()}}function D(h,q){if(1&h&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function N(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"tr")(1,"td",98),e._uU(2),e.qZA(),e.TgZ(3,"td",98),e._uU(4),e.qZA(),e.TgZ(5,"td",99)(6,"div",100),e._UZ(7,"div",101),e.qZA()(),e.TgZ(8,"td",98)(9,"select",102),e.NdJ("change",function(H){e.CHM(t);const ie=e.oxw(2);return e.KtG(ie.selectPlantype(H))}),e.TgZ(10,"option",103),e._uU(11,"Choose Category"),e.qZA(),e.YNc(12,D,2,2,"option",31),e.qZA()(),e.TgZ(13,"td",99)(14,"button",104),e.NdJ("click",function(){const ie=e.CHM(t).$implicit,Se=e.oxw(2);return e.KtG(Se.onRemove(ie))}),e._UZ(15,"i",105),e.qZA()()()}if(2&h){const t=q.$implicit,v=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.size),e.xp6(8),e.Q6J("ngForOf",v.plantypes)}}function O(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",77)(2,"h6",78),e._uU(3,"Import File"),e.qZA(),e.TgZ(4,"div",79)(5,"div",80)(6,"div",81),e.NdJ("change",function(H){e.CHM(t);const ie=e.oxw();return e.KtG(ie.onSelect(H))}),e.TgZ(7,"div",82)(8,"h6",83),e._uU(9,"DROP FILE HERE TO UPLOAD"),e.qZA(),e.O4$(),e.TgZ(10,"svg",84),e._UZ(11,"path",85)(12,"path",86),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",87)(14,"p"),e._uU(15,"Upload Queue"),e.qZA(),e.TgZ(16,"div",88)(17,"table",89)(18,"thead")(19,"tr")(20,"th"),e._uU(21,"NAME"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"SIZE"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"PROGRESS"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"CATEGORY"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"ACTION"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,N,16,3,"tr",64),e.qZA()()(),e.TgZ(32,"p"),e._uU(33,"Progress Queue"),e.qZA(),e.TgZ(34,"div",90),e._UZ(35,"div",91),e.qZA(),e.TgZ(36,"button",92),e.NdJ("click",function(){e.CHM(t);const H=e.oxw();return e.KtG(H.onFileupload())}),e._UZ(37,"i",93),e._uU(38," Upload All"),e.qZA(),e.TgZ(39,"button",94),e._UZ(40,"i",95),e._uU(41," Cancel All"),e.qZA(),e.TgZ(42,"button",96),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw();return e.KtG(ie.onReset(H))}),e._UZ(43,"i",97),e._uU(44," Remove All"),e.qZA()()()()()}if(2&h){const t=e.oxw();e.xp6(31),e.Q6J("ngForOf",t.files)}}function G(h,q){if(1&h&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function R(h,q){1&h&&(e.TgZ(0,"p"),e._uU(1,"Plan is Required"),e.qZA())}function Q(h,q){if(1&h&&(e.TgZ(0,"div",107),e.YNc(1,R,2,0,"p",71),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.planId.errors.required)}}function B(h,q){if(1&h&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Y(h,q){1&h&&(e.TgZ(0,"p"),e._uU(1,"Hazard Type is Required"),e.qZA())}function K(h,q){if(1&h&&(e.TgZ(0,"div",107),e.YNc(1,Y,2,0,"p",71),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.hazardTypeId.errors.required)}}function re(h,q){if(1&h&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function le(h,q){1&h&&(e.TgZ(0,"p"),e._uU(1,"Plan Type is Required"),e.qZA())}function I(h,q){if(1&h&&(e.TgZ(0,"div",107),e.YNc(1,le,2,0,"p",71),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.planTypeId.errors.required)}}function l(h,q){1&h&&(e.TgZ(0,"p"),e._uU(1,"Action is Required"),e.qZA())}function d(h,q){if(1&h&&(e.TgZ(0,"div",107),e.YNc(1,l,2,0,"p",71),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.action.errors.required)}}function n(h,q){1&h&&(e.TgZ(0,"p"),e._uU(1,"Estimated Cost is Required"),e.qZA())}function c(h,q){if(1&h&&(e.TgZ(0,"div",107),e.YNc(1,n,2,0,"p",71),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.estimatedCost.errors.required)}}function f(h,q){1&h&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",131),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function E(h,q){if(1&h&&(e.TgZ(0,"td",136),e._uU(1),e.qZA()),2&h){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.priority)}}function P(h,q){1&h&&e._UZ(0,"td")}function M(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function J(h,q){if(1&h&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function X(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function $(h,q){if(1&h&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function te(h,q){if(1&h&&(e.TgZ(0,"tr",138),e._UZ(1,"td"),e.TgZ(2,"td"),e.YNc(3,X,2,0,"div",71),e.YNc(4,$,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",133)(15,"a",139),e._UZ(16,"i",135),e.qZA()()()),2&h){const t=q.$implicit;e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function se(h,q){if(1&h&&(e.ynx(0),e.YNc(1,te,17,8,"tr",137),e.BQk()),2&h){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function de(h,q){if(1&h&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,E,2,1,"td",132),e.YNc(3,P,1,0,"td",71),e.TgZ(4,"td"),e.YNc(5,M,2,0,"div",71),e.YNc(6,J,2,1,"div",64),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",133)(17,"a",134),e._UZ(18,"i",135),e.qZA()()(),e.YNc(19,se,2,1,"ng-container",71),e.BQk()),2&h){const t=q.$implicit,v=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.priority),e.xp6(1),e.Q6J("ngIf",null==t.priority),e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.hij(" ",t.hazardType?t.hazardType.name:"-"," "),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(13,9,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(4),e.Q6J("ngIf",1==v.showCrossCutting&&t.draftResponseChilds.length>0)}}function _e(h,q){if(1&h&&(e.TgZ(0,"tr",140)(1,"td",141),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"td",142),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",142),e._uU(7),e.ALo(8,"number"),e.qZA(),e._UZ(9,"td"),e.qZA()),2&h){const t=e.oxw().index,v=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,2,v.sumEstimatedCost(t))),e.xp6(3),e.Oqu(e.lcZ(8,4,v.sumEstimatedPeriod(t)))}}function Pe(h,q){if(1&h&&(e.TgZ(0,"div",123)(1,"div",19)(2,"h2",20)(3,"button",124)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",125)(8,"div",24)(9,"div",126)(10,"div",127)(11,"table",59)(12,"thead",128)(13,"tr")(14,"th",129),e._uU(15,"Priority"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Source"),e.qZA(),e.TgZ(18,"th",60),e._uU(19,"Hazard"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Cost"),e.qZA(),e.TgZ(24,"th",61),e._uU(25,"Estimated Period"),e.qZA(),e.TgZ(26,"th",129),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,f,4,0,"ng-container",71),e.YNc(30,de,20,11,"ng-container",64),e.YNc(31,_e,10,6,"tr",130),e.qZA()()()()()()()()),2&h){const t=q.$implicit,v=q.index;e.xp6(3),e.uIk("data-bs-target","#isSubmittedPlan"+t.id),e.xp6(2),e.Oqu(v+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","isSubmittedPlan",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses),e.xp6(1),e.Q6J("ngIf",t.draftResponses.length>0)}}function oe(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",109)(6,"button",110),e._UZ(7,"i",111),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",112)(10,"div",113)(11,"div",114),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",115)(14,"a",116),e._uU(15,"Clear Filter"),e.qZA()()(),e.TgZ(16,"div",117)(17,"div",118),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",119)(20,"div",120)(21,"input",121),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw();return e.KtG(ie.filterCrossCutting(H.target))}),e.qZA()()()()()()(),e.YNc(22,Pe,32,7,"div",122),e.qZA()()}if(2&h){const t=e.oxw();e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function he(h,q){1&h&&(e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"History"),e.qZA(),e.TgZ(4,"div",143)(5,"div",2)(6,"div",144)(7,"div",127)(8,"table",59)(9,"thead",128)(10,"tr")(11,"th"),e._uU(12,"Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Assessor"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Type"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Description"),e.qZA()()(),e.TgZ(19,"tbody")(20,"tr")(21,"td"),e._uU(22,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(23,"td"),e._uU(24,"Admin 1"),e.qZA(),e.TgZ(25,"td"),e._uU(26,"Self Assessment"),e.qZA(),e.TgZ(27,"td"),e._uU(28,"-"),e.qZA()(),e.TgZ(29,"tr")(30,"td"),e._uU(31,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(32,"td"),e._uU(33,"Admin 1"),e.qZA(),e.TgZ(34,"td"),e._uU(35,"Self Assessment"),e.qZA(),e.TgZ(36,"td"),e._uU(37,"-"),e.qZA()(),e.TgZ(38,"tr")(39,"td"),e._uU(40,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(41,"td"),e._uU(42,"Admin 1"),e.qZA(),e.TgZ(43,"td"),e._uU(44,"Self Assessment"),e.qZA(),e.TgZ(45,"td"),e._uU(46,"-"),e.qZA()(),e.TgZ(47,"tr")(48,"td"),e._uU(49,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(50,"td"),e._uU(51,"Admin 1"),e.qZA(),e.TgZ(52,"td"),e._uU(53,"Self Assessment"),e.qZA(),e.TgZ(54,"td"),e._uU(55,"-"),e.qZA()(),e.TgZ(56,"tr")(57,"td"),e._uU(58,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(59,"td"),e._uU(60,"Admin 1"),e.qZA(),e.TgZ(61,"td"),e._uU(62,"Self Assessment"),e.qZA(),e.TgZ(63,"td"),e._uU(64,"-"),e.qZA()()()()()(),e.TgZ(65,"div",37)(66,"nav")(67,"ul",145)(68,"li",146)(69,"a",147)(70,"span",148),e._UZ(71,"i",149),e.qZA()()(),e.TgZ(72,"li",150)(73,"a",151),e._uU(74,"1"),e.qZA()(),e.TgZ(75,"li",146)(76,"a",151),e._uU(77,"2"),e.qZA()(),e.TgZ(78,"li",146)(79,"a",151),e._uU(80,"3"),e.qZA()(),e.TgZ(81,"li",146)(82,"a",151),e._uU(83,"4"),e.qZA()(),e.TgZ(84,"li",146)(85,"a",152)(86,"span",148),e._UZ(87,"i",153),e.qZA()()()()()()()()()())}function ue(h,q){if(1&h&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&h){const t=q.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.count)}}function S(h,q){1&h&&(e.TgZ(0,"tr")(1,"td",173),e._uU(2,"No data found"),e.qZA()())}function j(h,q){if(1&h&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name.length>20?t.name.substr(0,20)+"...":t.name)}}function ne(h,q){if(1&h&&(e.TgZ(0,"option",106),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name.length>20?t.name.substr(0,20)+"...":t.name)}}function ye(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",133)(7,"input",174),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw(3);return e.KtG(ie.onClickSelectDraft(H))}),e.qZA()(),e.TgZ(8,"td")(9,"select",175),e.NdJ("change",function(H){const ie=e.CHM(t),Se=ie.$implicit,Ie=ie.index,Ve=e.oxw(3);return e.KtG(Ve.onChangeDomain(Se.id,H,Ie))})("click",function(H){e.CHM(t);const ie=e.oxw(3);return e.KtG(ie.onClickDomain(H))}),e.TgZ(10,"option",176),e._uU(11,"Choose Domain"),e.qZA(),e.YNc(12,j,2,2,"option",31),e.qZA()(),e.TgZ(13,"td")(14,"select",177)(15,"option",176),e._uU(16,"Choose Subdomain"),e.qZA(),e.YNc(17,ne,2,2,"option",31),e.qZA()()()}if(2&h){const t=q.$implicit,v=q.index,H=e.oxw(3);e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(5,7,t.estimatedCost)),e.xp6(3),e.Q6J("value",t.id),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",H.domains),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",H.subdomains[v])}}function ve(h,q){if(1&h&&(e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"Total Selected of Priority Action"),e.qZA(),e.TgZ(4,"div",143)(5,"div",168)(6,"div",144)(7,"div",127)(8,"table",59)(9,"thead")(10,"tr")(11,"th"),e._uU(12,"Domain"),e.qZA(),e.TgZ(13,"th",169),e._uU(14,"Total"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,ue,5,2,"tr",64),e.TgZ(17,"tr",140)(18,"td",170),e._uU(19,"Total"),e.qZA(),e.TgZ(20,"td",142),e._uU(21),e.qZA()()()()()()()(),e.TgZ(22,"h6",78),e._uU(23,"Response Plan"),e.qZA(),e.TgZ(24,"div",143)(25,"div",2)(26,"div",144)(27,"div",127)(28,"table",59)(29,"thead")(30,"tr")(31,"th"),e._uU(32,"Action"),e.qZA(),e.TgZ(33,"th",169),e._uU(34,"Estimated Cost"),e.qZA(),e.TgZ(35,"th",171),e._uU(36,"Select"),e.qZA(),e.TgZ(37,"th",172),e._uU(38,"Domain"),e.qZA(),e.TgZ(39,"th",172),e._uU(40,"Subdomain"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,S,3,0,"tr",71),e.YNc(43,ye,18,9,"tr",64),e.qZA()()()()()()()()),2&h){const t=e.oxw(2);e.xp6(16),e.Q6J("ngForOf",t.countSelectedDomains),e.xp6(5),e.Oqu(t.countSelectedResponse),e.xp6(21),e.Q6J("ngIf",0==t.draftresponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftresponses)}}function me(h,q){1&h&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",181),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function Te(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function xe(h,q){if(1&h&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Me(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Le(h,q){if(1&h&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Ze(h,q){if(1&h&&(e.TgZ(0,"tr",138)(1,"td"),e.YNc(2,Me,2,0,"div",71),e.YNc(3,Le,2,1,"div",64),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e._UZ(13,"td"),e.TgZ(14,"td",133)(15,"a",139),e._UZ(16,"i",135),e.qZA()(),e._UZ(17,"td"),e.qZA()),2&h){const t=q.$implicit;e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(10,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function ce(h,q){if(1&h&&(e.ynx(0),e.YNc(1,Ze,18,8,"tr",137),e.BQk()),2&h){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function U(h,q){if(1&h){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e.YNc(3,Te,2,0,"div",71),e.YNc(4,xe,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",133)(15,"div")(16,"input",182),e.NdJ("click",function(H){const Se=e.CHM(t).$implicit,Ie=e.oxw().$implicit,Ve=e.oxw(3);return e.KtG(Ve.selectToOnMerge(Se.id,Ie.id,H))}),e.qZA()()(),e.TgZ(17,"td",133)(18,"a",139),e._UZ(19,"i",135),e.qZA()(),e.TgZ(20,"td",133)(21,"a",183),e.NdJ("click",function(){const ie=e.CHM(t).$implicit,Se=e.oxw(4);return e.KtG(Se.onDeleteSelectDraft(ie.id))}),e._UZ(22,"i",105),e.qZA()()(),e.YNc(23,ce,2,1,"ng-container",71),e.BQk()}if(2&h){const t=q.$implicit,v=e.oxw(4);e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.hij(" ",t.hazardType?t.hazardType.name:"-"," "),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,7,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(10),e.Q6J("ngIf",1==v.showCrossCutting&&t.draftResponseChilds.length>0)}}function z(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",19)(2,"h2",20)(3,"button",124)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",125)(8,"div",24)(9,"div",178)(10,"div",127)(11,"table",59)(12,"thead")(13,"tr")(14,"th",60),e._uU(15,"Source"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Hazard"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA(),e.TgZ(20,"th",61),e._uU(21,"Estimated Cost"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Period"),e.qZA(),e.TgZ(24,"th",63),e._uU(25,"Select"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA(),e.TgZ(28,"th",63),e._uU(29,"Edit"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,me,4,0,"ng-container",71),e.YNc(32,U,24,9,"ng-container",64),e.qZA()()()(),e.TgZ(33,"div",2)(34,"div",37)(35,"button",179),e.NdJ("click",function(){const ie=e.CHM(t).$implicit,Se=e.oxw(3);return e.KtG(Se.onClickMergeAction(ie.id))}),e._UZ(36,"i",180),e._uU(37,"Merge Action"),e.qZA()()()()()()()}if(2&h){const t=q.$implicit,v=q.index;e.xp6(3),e.uIk("data-bs-target","#priority"+t.id),e.xp6(2),e.Oqu(v+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","priority",t.id,""),e.xp6(24),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses)}}function pe(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",109)(6,"button",110),e._UZ(7,"i",111),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",112)(10,"div",113)(11,"div",114),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",115)(14,"a",116),e._uU(15,"Clear Filter"),e.qZA()()(),e.TgZ(16,"div",117)(17,"div",118),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",119)(20,"div",120)(21,"input",121),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw(2);return e.KtG(ie.filterCrossCutting(H.target))}),e.qZA()()()()()()(),e.YNc(22,z,38,6,"div",122),e.qZA()()}if(2&h){const t=e.oxw(2);e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function ge(h,q){1&h&&(e.TgZ(0,"tr")(1,"td",131),e._uU(2,"No data found"),e.qZA()())}function Ae(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Ce(h,q){if(1&h&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Oe(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e.YNc(2,Ae,2,0,"div",71),e.YNc(3,Ce,2,1,"div",64),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"select",185),e.NdJ("change",function(H){const Se=e.CHM(t).$implicit,Ie=e.oxw().$implicit,Ve=e.oxw(3);return e.KtG(Ve.updatePriority(Ie.id,Se.id,H.target))}),e.TgZ(15,"option",176),e._uU(16,"Choose Priority"),e.qZA(),e.TgZ(17,"option",186),e._uU(18,"1"),e.qZA(),e.TgZ(19,"option",186),e._uU(20,"2"),e.qZA(),e.TgZ(21,"option",186),e._uU(22,"3"),e.qZA(),e.TgZ(23,"option",186),e._uU(24,"4"),e.qZA(),e.TgZ(25,"option",186),e._uU(26,"5"),e.qZA()()(),e.TgZ(27,"td",133)(28,"a",139),e._UZ(29,"i",135),e.qZA()()()}if(2&h){const t=q.$implicit;e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(10,17,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(3),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1)("selected",1==t.priority),e.xp6(2),e.Q6J("value",2)("selected",2==t.priority),e.xp6(2),e.Q6J("value",3)("selected",3==t.priority),e.xp6(2),e.Q6J("value",4)("selected",4==t.priority),e.xp6(2),e.Q6J("value",5)("selected",5==t.priority)}}function Fe(h,q){if(1&h&&(e.TgZ(0,"div",123)(1,"div",19)(2,"h2",20)(3,"button",124)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",125)(8,"div",24)(9,"div",126)(10,"div",127)(11,"table",59)(12,"thead")(13,"tr")(14,"th",60),e._uU(15,"Source"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Hazard"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA(),e.TgZ(20,"th",61),e._uU(21,"Estimated Cost"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Period"),e.qZA(),e.TgZ(24,"th",184),e._uU(25,"Priority"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,ge,3,0,"tr",71),e.YNc(30,Oe,30,19,"tr",64),e.qZA()()()()()()()()),2&h){const t=q.$implicit,v=q.index;e.xp6(3),e.uIk("data-bs-target","#summary"+t.id),e.xp6(2),e.Oqu(v+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","summary",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses)}}function De(h,q){if(1&h&&(e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.YNc(4,Fe,31,6,"div",122),e.qZA()()),2&h){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.priorityactions)}}function Re(h,q){1&h&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",131),e._uU(3,"No data found"),e.qZA()(),e.BQk())}function je(h,q){if(1&h&&(e.TgZ(0,"td",136),e._uU(1),e.qZA()),2&h){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.priority)}}function qe(h,q){1&h&&e._UZ(0,"td")}function Qe(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function Ne(h,q){if(1&h&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function He(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function We(h,q){if(1&h&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.xp6(1),e.Oqu(t.planType.name)}}function Je(h,q){if(1&h&&(e.TgZ(0,"tr",138),e._UZ(1,"td"),e.TgZ(2,"td"),e.YNc(3,He,2,0,"div",71),e.YNc(4,We,2,1,"div",64),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",133)(15,"a",139),e._UZ(16,"i",135),e.qZA()()()),2&h){const t=q.$implicit;e.xp6(3),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(11,6,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}function Ge(h,q){if(1&h&&(e.ynx(0),e.YNc(1,Je,17,8,"tr",137),e.BQk()),2&h){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.draftResponseChilds)}}function Xe(h,q){if(1&h&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,je,2,1,"td",132),e.YNc(3,qe,1,0,"td",71),e.TgZ(4,"td"),e.YNc(5,Qe,2,0,"div",71),e.YNc(6,Ne,2,1,"div",64),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",133)(17,"a",139),e._UZ(18,"i",135),e.qZA()()(),e.YNc(19,Ge,2,1,"ng-container",71),e.BQk()),2&h){const t=q.$implicit,v=e.oxw(4);e.xp6(2),e.Q6J("ngIf",t.priority),e.xp6(1),e.Q6J("ngIf",null==t.priority),e.xp6(2),e.Q6J("ngIf",0==t.sourceResponsePlans),e.xp6(1),e.Q6J("ngForOf",t.sourceResponsePlans),e.xp6(2),e.Oqu(t.hazardType?t.hazardType.name:"-"),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(13,9,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod),e.xp6(4),e.Q6J("ngIf",1==v.showCrossCutting&&t.draftResponseChilds.length>0)}}function Ye(h,q){if(1&h&&(e.TgZ(0,"tr",140)(1,"td",141),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"td",142),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",142),e._uU(7),e.ALo(8,"number"),e.qZA(),e._UZ(9,"td"),e.qZA()),2&h){const t=e.oxw().index,v=e.oxw(3);e.xp6(4),e.Oqu(e.lcZ(5,2,v.sumEstimatedCost(t))),e.xp6(3),e.Oqu(e.lcZ(8,4,v.sumEstimatedPeriod(t)))}}function tt(h,q){if(1&h&&(e.TgZ(0,"div",123)(1,"div",19)(2,"h2",20)(3,"button",124)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",125)(8,"div",24)(9,"div",126)(10,"div",127)(11,"table",59)(12,"thead")(13,"tr")(14,"th",129),e._uU(15,"Priority"),e.qZA(),e.TgZ(16,"th",60),e._uU(17,"Source"),e.qZA(),e.TgZ(18,"th",60),e._uU(19,"Hazard"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA(),e.TgZ(22,"th",61),e._uU(23,"Estimated Cost"),e.qZA(),e.TgZ(24,"th",61),e._uU(25,"Estimated Period"),e.qZA(),e.TgZ(26,"th",63),e._uU(27,"File"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Re,4,0,"ng-container",71),e.YNc(30,Xe,20,11,"ng-container",64),e.YNc(31,Ye,10,6,"tr",130),e.qZA()()()()()()()()),2&h){const t=q.$implicit,v=q.index;e.xp6(3),e.uIk("data-bs-target","#summary"+t.id),e.xp6(2),e.Oqu(v+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","summary",t.id,""),e.xp6(22),e.Q6J("ngIf",0==t.draftResponses.length),e.xp6(1),e.Q6J("ngForOf",t.draftResponses),e.xp6(1),e.Q6J("ngIf",t.draftResponses.length>0)}}function lt(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",108)(2,"h6",78),e._uU(3,"List of Priority Actions"),e.qZA(),e.TgZ(4,"div",74)(5,"div",109)(6,"button",110),e._UZ(7,"i",111),e._uU(8,"View Filter "),e.qZA(),e.TgZ(9,"div",112)(10,"div",113)(11,"div",114),e._uU(12," Filter "),e.qZA(),e.TgZ(13,"div",115)(14,"a",116),e._uU(15,"Clear Fiilter"),e.qZA()()(),e.TgZ(16,"div",117)(17,"div",118),e._uU(18," Cross Cutting Action "),e.qZA(),e.TgZ(19,"div",119)(20,"div",120)(21,"input",121),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw(2);return e.KtG(ie.filterCrossCutting(H.target))}),e.qZA()()()()()()(),e.YNc(22,tt,32,7,"div",122),e.qZA()()}if(2&h){const t=e.oxw(2);e.xp6(21),e.Q6J("value",1),e.xp6(1),e.Q6J("ngForOf",t.priorityactions)}}function un(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"button",187),e.NdJ("click",function(){e.CHM(t),e.oxw();const H=e.MAs(1),ie=e.oxw();return ie.previous(),e.KtG(ie.scroll(H))}),e._UZ(1,"i",188),e._uU(2,"Previous"),e.qZA()}}function hn(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"button",189),e.NdJ("click",function(){e.CHM(t),e.oxw();const H=e.MAs(1),ie=e.oxw();return ie.next(),e.KtG(ie.scroll(H))}),e._uU(1,"Next"),e._UZ(2,"i",190),e.qZA()}}function pn(h,q){1&h&&(e.TgZ(0,"button",191),e._UZ(1,"i",73),e._uU(2,"Add File"),e.qZA())}function fn(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"button",189),e.NdJ("click",function(){e.CHM(t);const H=e.oxw(2),ie=e.MAs(4);return H.submitActionPlan(),e.KtG(H.scroll(ie))}),e._uU(1,"Save Result"),e._UZ(2,"i",190),e.qZA()}}const _t=function(h){return{"current-item":h}};function gn(h,q){if(1&h&&(e.TgZ(0,"div",154,155)(2,"div",5)(3,"section",156)(4,"ul",157)(5,"li",158)(6,"span",159),e._uU(7,"1"),e.qZA(),e.TgZ(8,"span",160),e._uU(9,"Prioritize Action"),e.qZA()(),e.TgZ(10,"li",158)(11,"span",159),e._uU(12,"2"),e.qZA(),e.TgZ(13,"span",160),e._uU(14,"Edit Prioritize Action"),e.qZA()(),e.TgZ(15,"li",158)(16,"span",159),e._uU(17,"3"),e.qZA(),e.TgZ(18,"span",160),e._uU(19,"Top Prioritize Action"),e.qZA()(),e.TgZ(20,"li",158)(21,"span",159),e._uU(22,"4"),e.qZA(),e.TgZ(23,"span",160),e._uU(24,"Summary"),e.qZA()()()(),e.YNc(25,ve,44,4,"div",17),e.YNc(26,pe,23,2,"div",17),e.YNc(27,De,5,1,"div",17),e.YNc(28,lt,23,2,"div",17),e.TgZ(29,"div",161)(30,"div",162)(31,"div",163)(32,"div",164),e.YNc(33,un,3,0,"button",165),e.qZA()(),e.TgZ(34,"div",163)(35,"div",37),e.YNc(36,hn,3,0,"button",166),e.YNc(37,pn,3,0,"button",167),e.YNc(38,fn,3,0,"button",166),e.qZA()()()()()()),2&h){const t=e.oxw();e.Q6J("hidden",t.divWizard),e.xp6(5),e.Q6J("ngClass",e.VKq(13,_t,1==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(15,_t,2==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(17,_t,3==t.steps)),e.xp6(5),e.Q6J("ngClass",e.VKq(19,_t,4==t.steps)),e.xp6(5),e.Q6J("ngIf",1==t.steps),e.xp6(1),e.Q6J("ngIf",2==t.steps),e.xp6(1),e.Q6J("ngIf",3==t.steps),e.xp6(1),e.Q6J("ngIf",4==t.steps),e.xp6(5),e.Q6J("ngIf",1!=t.steps),e.xp6(3),e.Q6J("ngIf",t.steps<4),e.xp6(1),e.Q6J("ngIf",4==t.steps),e.xp6(1),e.Q6J("ngIf",4==t.steps)}}function _n(h,q){if(1&h&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td",133)(11,"a",139),e._UZ(12,"i",135),e.qZA()()()),2&h){const t=q.$implicit;e.xp6(2),e.Oqu(t.source),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(e.lcZ(7,4,t.estimatedCost)),e.xp6(3),e.Oqu(t.estimatedPeriod)}}const ct=function(h){return{"is-invalid":h}};let mn=(()=>{class h{constructor(t,v,H,ie,Se,Ie,Ve,$e,at,Pt,wt,Et){this.fb=t,this.toastr=v,this.spinner=H,this.route=ie,this.service=Se,this.serviceSubdomain=Ie,this.servicePriorityAction=Ve,this.serviceDraft=$e,this.servicePlan=at,this.serviceCountry=Pt,this.serviceHazardtype=wt,this.router=Et,this.formsubmitted=!1,this.plan_id=0,this.available_plan=0,this.selected_plan_type=[],this.onmerges=[],this.subdomains=[],this.modeAction="create",this.countSelectedResponse=0,this.countSelectedDomains=[],this.formImportFile=!1,this.showCrossCutting=0,this.selects=0,this.files=[],this.steps=1,this.divWizard=!1,this.route.queryParams.subscribe(et=>{this.findCountry(et.country,et.hazard_type),this.countryCode=et.country,this.hazardTypeId=et.hazard_type,this.getAllDraft(0|et.plan_id),this.findPlan(0|et.plan_id),this.plan_id=et.plan_id,this.steps=1})}ngOnInit(){this.getAllDomain(),this.clearForm(),this.clearFormMerge(),this.getPlantype(),this.getAllhazardType(),this.form=this.fb.group({planId:["",W.kI.required],hazardTypeId:["",W.kI.required],planTypeId:["",W.kI.required],action:["",W.kI.required],estimatedCost:["",W.kI.required]})}getAllhazardType(){this.serviceHazardtype.getAll().subscribe(t=>this.hazardType=t)}get f(){return this.form.controls}submitForm(){let t={planId:this.form.value.planId,hazardTypeId:this.form.value.hazardTypeId,sourceResponsePlans:[{planTypeId:this.form.value.planTypeId}],action:this.form.value.action,estimatedCost:this.form.value.estimatedCost};this.formsubmitted=!0,!this.form.invalid&&(console.log(t),this.spinner.show(),this.serviceDraft.create(t).subscribe({next:()=>{this.getAllDraft(this.plan_id)},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success")}}),this.formsubmitted=!1,this.form.reset({planId:"",hazardTypeId:"",planTypeId:""}))}onImportFile(){this.formImportFile=1!=this.formImportFile}onFileupload(){for(let t=0;t<this.files.length;t++)console.log({PlanId:this.plan_id,Name:this.files[t].name,Size:this.files[t].size,PlanTypeId:"1",File:"url"})}clearForm(){this.plan={name:null,isSubmitted:!1}}clearFormMerge(){this.formMerge={action:null,estimatedCost:null,estimatedPeriod:null,planId:this.plan_id,isMerged:!0,isSelected:!0,domainId:null}}findCountry(t,v){this.serviceCountry.getByCode(t).subscribe(H=>{this.countryId=H.id,this.getAllPlan(H.id,v)})}getAllPlan(t,v){this.servicePlan.getByCountry(t).subscribe(H=>{this.plans=H;let ie=Object.keys(H);this.available_plan=ie.length,0==ie.length&&this.showModalAddPlan()})}addPlan(){this.servicePlan.create({countryId:this.countryId,hazardTypeId:this.hazardTypeId,name:this.plan.name}).subscribe(v=>{this.getAllPlan(this.countryId,this.hazardTypeId),this.router.navigate(["/import/action-plan"],{queryParams:{plan_id:v.id},queryParamsHandling:"merge"})})}findPlan(t){this.servicePlan.find(t).subscribe(v=>{this.plan=v,1==this.plan.isSubmitted&&this.getAllDomainWithDraftResponse(this.plan.id)})}submitActionPlan(){this.servicePlan.updateIsSubmitted(this.plan_id,{isSubmitted:!0}).subscribe(()=>{this.divWizard=!1,this.findPlan(this.plan_id),this.modeAction="create",this.getAllDomain(),this.countSelectedResponse=0})}updateActionPlan(){this.servicePlan.updateIsSubmitted(this.plan_id,{isSubmitted:!1}).subscribe(()=>{this.divWizard=!1,this.findPlan(this.plan_id),this.modeAction="update",this.steps=1})}selectPlantype(t=[]){this.selects=t.target.value,console.log(this.selects)}getPlantype(){this.service.getPlantype().subscribe(t=>{this.plantypes=t,this.array_plan_type=t})}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}onReset(t){this.files=[]}getAllDraft(t){this.servicePriorityAction.getAll(t).subscribe(v=>{this.draftresponses=v})}getAllDomain(){this.countSelectedDomains=[],this.service.getDomain().subscribe(t=>{this.domains=t;let v=Object.keys(t).length;for(let H=0;H<v;H++){const ie=t[H];this.countSelectedDomains.push({id:ie.id,name:ie.name,count:0})}})}getAllDomainWithDraftResponse(t){this.servicePriorityAction.getAllDomainWithDraftResponse(t).subscribe(v=>{this.priorityactions=v})}next(){this.steps=this.steps+1,this.steps>1&&this.getAllDomainWithDraftResponse(this.plan_id)}previous(){this.steps=this.steps-1,1==this.steps&&(this.getAllDraft(this.plan_id),this.getAllDomain(),this.countSelectedResponse=0)}divWizardFunction(){this.divWizard=!this.divWizard}onClickSelectDraft(t){this.serviceDraft.updateIsSelected(t.target.value,{isSelected:t.target.checked}).subscribe(),t.target.checked?this.countSelectedResponse++:this.countSelectedResponse--}onChangeDomain(t,v,H){this.serviceDraft.updateDomainId(t,{domainId:v.target.value}).subscribe(),this.getSubDomainByDomain(v.target.value,H);const Se=this.countSelectedDomains.findIndex(Ie=>Ie.id==v.target.value);if(v.target.value>0&&this.countSelectedDomains[Se].count++,this.domainIdBeforeChange!=v.target.value){const Ie=this.countSelectedDomains.findIndex(Ve=>Ve.id==this.domainIdBeforeChange);Ie>=0&&this.countSelectedDomains[Ie].count--}}onClickDomain(t){this.domainIdBeforeChange=t.target.value}getSubDomainByDomain(t,v){this.serviceSubdomain.getByDomain(t).subscribe(H=>{this.subdomains[v]=H})}onDeleteSelectDraft(t){let v={isSelected:!1,domainId:null};this.serviceDraft.updateIsSelected(t,v).subscribe(()=>{this.serviceDraft.updateDomainId(t,v).subscribe(()=>{this.getAllDomainWithDraftResponse(this.plan_id)})})}showModalAddPlan(){this.element=document.getElementById("modalAddPlan"),this.element.click()}selectToOnMerge(t,v,H){if(H.target.checked)this.serviceDraft.find(t).forEach(ie=>{this.onmerges.push({draftId:t,action:ie.action,estimatedCost:ie.estimatedCost,estimatedPeriod:ie.estimatedPeriod,domainId:v,source:ie.sourceResponsePlans[0]?ie.sourceResponsePlans[0].planType.name:"-",planTypeId:ie.sourceResponsePlans[0]?ie.sourceResponsePlans[0].planType.id:0})});else{const ie=this.onmerges.findIndex(Se=>Se.draftId===t);this.onmerges.splice(ie,1)}}onClickMergeAction(t){let v=this.plan_id;this.formMerge.domainId=t,this.formMerge.planId=v,this.formMerge.sourceResponsePlans=this.onmerges}saveMergeAction(){this.serviceDraft.create(this.formMerge).subscribe({next:t=>{this.getAllDomainWithDraftResponse(this.plan_id),this.clearFormMerge(),this.parentId=t.id},error:t=>{console.log(t)},complete:()=>{this.onmerges.forEach(t=>{this.serviceDraft.deleteByMerge(t.draftId,this.parentId).subscribe()})}}),setTimeout(()=>{this.onmerges=[],this.getAllDomainWithDraftResponse(this.plan_id)},3e3),this.clearFormMerge()}sumEstimatedCost(t){let v=0;return this.priorityactions[t].draftResponses.forEach(H=>{v+=H.estimatedCost}),v}sumEstimatedPeriod(t){let v=0;return this.priorityactions[t].draftResponses.forEach(H=>{v+=H.estimatedPeriod}),v}updatePriority(t,v,H){this.serviceDraft.updatePriority(v,{planId:this.plan_id,domainId:t,priority:H.value}).subscribe(()=>{this.getAllDomainWithDraftResponse(this.plan_id)})}filterCrossCutting(t){this.showCrossCutting=0,t.checked&&(this.showCrossCutting=1)}scroll(t){var ie=t.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:ie,behavior:"smooth"})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(W.qu),e.Y36(ae._W),e.Y36(V.t2),e.Y36(fe.gz),e.Y36(u.f),e.Y36(w.$),e.Y36(y.A),e.Y36(A),e.Y36(r.D),e.Y36(a.T),e.Y36(p.$),e.Y36(fe.F0))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-actionplan"]],decls:138,vars:36,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],["actionPlan",""],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary","mb-4",2,"color","#00205C"],[1,"d-flex","flex-row","bd-highlight"],[1,"bd-highlight"],[1,"nav","nav-pills","text-center"],["class","nav-item",4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#createPlan",1,"nav-item",2,"max-width","40px"],["id","modalAddPlan",1,"nav-link"],[1,"bi","bi-plus-lg"],[2,"margin-top","0","margin-bottom","1.5rem!important"],["class","d-flex justify-content-between mb-4",4,"ngIf"],["class","d-flex justify-content-end mb-4",4,"ngIf"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"accordion","mb-4","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne",1,"accordion-button","collapsed","lh-1","fs-14"],[1,"badge","bg-info","me-2"],["id","collapseOne",1,"accordion-collapse","collapse"],[1,"accordion-body","p-4","fs-12"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","planId",1,"form-select","fs-14",3,"ngClass"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","hazardTypeId",1,"form-select","fs-14",3,"ngClass"],["formControlName","planTypeId",1,"form-select","fs-14",3,"ngClass"],["formControlName","action",1,"form-control","fs-14",3,"ngClass"],["formControlName","estimatedCost","type","number",1,"form-control","fs-14",3,"ngClass"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px"],["class","card mb-4 border-0",3,"hidden",4,"ngIf"],["id","createPlan","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",2,"background-color","#F7F7F7"],[1,"modal-body","my-2"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn",2,"background-color","transparent","color","#616161","border","none","font-size","12px"],["data-bs-dismiss","modal","type","button",1,"btn","px-4",2,"background-color","#058FCB","color","white","border","none","font-size","12px",3,"click"],["id","mergePlan","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-centered"],[1,"modal-body"],[1,"row","mb-4"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"table","mb-0"],["width","80px"],["width","140px"],["width","230px"],["width","40px",1,"text-center"],[4,"ngFor","ngForOf"],["type","button","data-bs-dismiss","modal",1,"btn",2,"background-color","transparent","color","#616161","border","none","font-size","14px"],["type","button","data-bs-dismiss","modal",1,"btn","px-4",2,"background-color","#058FCB","color","white","border","none","font-size","14px",3,"click"],[1,"nav-item"],["routerLinkActive","active",1,"btn","nav-link","fs-14",3,"routerLink","queryParams","queryParamsHandling","routerLinkActiveOptions"],[1,"d-flex","justify-content-between","mb-4"],[1,"d-flex","align-items-center"],[4,"ngIf"],["type","button",1,"btn","btn-primary",2,"color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-plus","pe-2"],[1,"d-flex","justify-content-end","mb-4"],[1,"bi","bi-pencil-square","pe-2"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"py-2"],[1,"row","py-2"],[1,"col-md-3","px-3"],["ngx-dropzone","","accept","application/pdf",1,"position-relative","custom-dropzone","border-upload",3,"change"],[1,"position-absolute","top-50","start-50","translate-middle","text-center"],[1,"fs-12"],["xmlns","http://www.w3.org/2000/svg","width","35","height","35","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-download"],["d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"],["d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"],[1,"col-md-9"],[1,"table-responsive","mb-4"],[1,"table"],[1,"progress","mb-4"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","0%"],["type","button",1,"btn","btn-upload","btn-action",3,"click"],[1,"bi","bi-upload","pe-2"],["type","button",1,"btn","btn-outline-warning","btn-action"],[1,"bi","bi-x-lg","pe-2"],["type","button",1,"btn","btn-outline-danger","btn-action",3,"click"],[1,"bi","bi-trash3","pe-2"],[1,"align-middle","td-upload"],[1,"align-middle"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"],[3,"change"],["selected",""],["type","button",1,"btn","btn-outline-danger","btn-td",3,"click"],[1,"bi","bi-trash3"],[3,"value"],[1,"invalid-feedback"],[1,"card-body","px-4"],[1,"dropdown"],["type","button","id","filteraction","data-bs-toggle","dropdown","aria-expanded","false","data-bs-display","static",1,"btn","fs-12",2,"border","1px solid #024664"],[1,"bi","bi-funnel","pe-2"],["aria-labelledby","filteraction",1,"dropdown-menu","dropdown-menu-lg-end","fs-12",2,"width","250px !important"],[1,"row","px-4","mb-4"],[1,"fw-bold","col-md-8","p-0","text-md-start"],[1,"col-md-4","p-0","text-md-end","fs-10"],["href","javascript:void(0)",1,"text-decoration-none"],[1,"row","px-4"],[1,"col-md-8","p-0","text-md-start"],[1,"col-md-4","p-0","text-md-end"],[1,"form-switch","p-0"],["type","checkbox","role","switch",1,"form-check-input","m-0",3,"value","click"],["class","accordion mb-3",4,"ngFor","ngForOf"],[1,"accordion","mb-3"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"card"],[1,"card-body","p-0"],[1,"text-white",2,"background-color","#024664"],["width","80px",1,"text-center"],["style","background-color: #FFFB3D;",4,"ngIf"],["colspan","7"],["class","text-center text-white","style","background-color: red;",4,"ngIf"],[1,"text-center"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"],[1,"text-center","text-white",2,"background-color","red"],["style","background-color: #ededed",4,"ngFor","ngForOf"],[2,"background-color","#ededed"],["href","#",1,"btn","btn-outline-primary","btn-sm","btn-td"],[2,"background-color","#FFFB3D"],["colspan","4",1,"text-center","text-dark","fw-bold"],[1,"text-dark","fw-bold"],[1,"row","fs-12"],[1,"card","mb-3"],[1,"pagination"],[1,"page-item"],["href","#","aria-label","Previous",1,"page-link","text-dark","border-0"],["aria-hidden","true"],[1,"bi","bi-chevron-left"],[1,"page-item","active"],["href","#",1,"page-link","text-dark","border-0"],["href","#","aria-label","Next",1,"page-link","text-dark","border-0"],[1,"bi","bi-chevron-right"],[1,"card","mb-4","border-0",3,"hidden"],["actionWizard",""],[1,"step-wizard"],[1,"step-wizard-list"],[1,"step-wizard-item",3,"ngClass"],[1,"progress-count"],[1,"progress-label"],[1,"container","p-0","mb-4"],[1,"row","row-cols-2"],[1,"col"],[1,"d-flex","justify-content-start"],["type","button","class","btn","style","background-color: transparent; color: #058FCB; border: none; font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn","style","background-color: #058FCB; color: white; border: none; font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-primary mx-4","style","color: white; border: none; font-size: 12px;",4,"ngIf"],[1,"col-6"],["width","120px"],[1,"text-center","text-dark","fw-bold"],["width","50px",1,"text-center"],["width","100px"],["colspan","5"],["type","checkbox",1,"form-check-input",3,"value","click"],[1,"wizard",3,"change","click"],["selected","",3,"value"],[1,"wizard"],[1,"card","mb-4"],["type","button","data-bs-toggle","modal","data-bs-target","#mergePlan",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-collection","pe-2"],["colspan","8"],["type","checkbox",1,"form-check-input","bg-green",3,"click"],[1,"btn","btn-outline-danger","btn-sm","btn-td",3,"click"],["width","100px",1,"text-center"],[1,"wizard",3,"change"],[3,"value","selected"],["type","button",1,"btn",2,"background-color","transparent","color","#058FCB","border","none","font-size","12px",3,"click"],[1,"bi","bi-chevron-left","pe-2"],["type","button",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-chevron-right","ps-2"],["type","button",1,"btn","btn-primary","mx-4",2,"color","white","border","none","font-size","12px"]],template:function(t,v){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4)(5,"div",5)(6,"h4",6),e._uU(7,"Action Plan"),e.qZA(),e.TgZ(8,"div",7)(9,"div",8)(10,"ul",9),e.YNc(11,s,3,9,"li",10),e.TgZ(12,"li",11)(13,"a",12),e._UZ(14,"i",13),e.qZA()()()()(),e._UZ(15,"hr",14),e.YNc(16,T,8,2,"div",15),e.YNc(17,Z,5,0,"div",16),e.YNc(18,O,45,1,"div",17),e.TgZ(19,"div",18)(20,"div",19)(21,"h2",20)(22,"button",21),e._UZ(23,"span",22),e._uU(24," Add Draft Response "),e.qZA()(),e.TgZ(25,"div",23)(26,"div",24)(27,"form",25),e.NdJ("ngSubmit",function(){return v.submitForm()}),e.TgZ(28,"div",26)(29,"label",27),e._uU(30,"Plan"),e.qZA(),e.TgZ(31,"div",28)(32,"select",29)(33,"option",30),e._uU(34,"Choose Plan"),e.qZA(),e.YNc(35,G,2,2,"option",31),e.qZA(),e.YNc(36,Q,2,1,"div",32),e.qZA()(),e.TgZ(37,"div",26)(38,"label",27),e._uU(39,"Hazard Type"),e.qZA(),e.TgZ(40,"div",28)(41,"select",33)(42,"option",30),e._uU(43,"Choose Hazard Type"),e.qZA(),e.YNc(44,B,2,2,"option",31),e.qZA(),e.YNc(45,K,2,1,"div",32),e.qZA()(),e.TgZ(46,"div",26)(47,"label",27),e._uU(48,"Plan Type"),e.qZA(),e.TgZ(49,"div",28)(50,"select",34)(51,"option",30),e._uU(52,"Choose Plan Type"),e.qZA(),e.YNc(53,re,2,2,"option",31),e.qZA(),e.YNc(54,I,2,1,"div",32),e.qZA()(),e.TgZ(55,"div",26)(56,"label",27),e._uU(57,"Action"),e.qZA(),e.TgZ(58,"div",28),e._UZ(59,"textarea",35),e.YNc(60,d,2,1,"div",32),e.qZA()(),e.TgZ(61,"div",26)(62,"label",27),e._uU(63,"Estimated Cost"),e.qZA(),e.TgZ(64,"div",28),e._UZ(65,"input",36),e.YNc(66,c,2,1,"div",32),e.qZA()(),e.TgZ(67,"div",37)(68,"button",38),e._uU(69,"Submit"),e.qZA()()()()()()(),e.YNc(70,oe,23,2,"div",17),e.YNc(71,he,88,0,"div",17),e.qZA()(),e.YNc(72,gn,39,21,"div",39),e.qZA()()(),e.TgZ(73,"div",40)(74,"div",41)(75,"div",42)(76,"div",43)(77,"h5",44),e._uU(78,"Create Action Plan"),e.qZA(),e._UZ(79,"button",45),e.qZA(),e.TgZ(80,"div",46)(81,"div",1)(82,"label",47),e._uU(83,"Plan Name"),e.qZA(),e.TgZ(84,"div",48)(85,"input",49),e.NdJ("ngModelChange",function(ie){return v.plan.name=ie}),e.qZA()()()(),e.TgZ(86,"div",50)(87,"button",51),e._uU(88,"Cancel"),e.qZA(),e.TgZ(89,"button",52),e.NdJ("click",function(){return v.addPlan()}),e._uU(90,"Save"),e.qZA()()()()(),e.TgZ(91,"div",53)(92,"div",54)(93,"div",42)(94,"div",43)(95,"h5",44),e._uU(96,"Merge Piority Action"),e.qZA(),e._UZ(97,"button",45),e.qZA(),e.TgZ(98,"div",55)(99,"div",56)(100,"label",27),e._uU(101,"Action Name"),e.qZA(),e.TgZ(102,"div",28)(103,"input",49),e.NdJ("ngModelChange",function(ie){return v.formMerge.action=ie}),e.qZA()()(),e.TgZ(104,"div",56)(105,"label",27),e._uU(106,"Estimated Cost"),e.qZA(),e.TgZ(107,"div",28)(108,"input",57),e.NdJ("ngModelChange",function(ie){return v.formMerge.estimatedCost=ie}),e.qZA()()(),e.TgZ(109,"div",56)(110,"label",27),e._uU(111,"Estimated Implementation Periode"),e.qZA(),e.TgZ(112,"div",28)(113,"input",57),e.NdJ("ngModelChange",function(ie){return v.formMerge.estimatedPeriod=ie}),e.qZA()()(),e.TgZ(114,"div",1)(115,"label",47),e._uU(116,"List of Priority Action"),e.qZA(),e.TgZ(117,"div",58)(118,"table",59)(119,"thead")(120,"tr")(121,"th",60),e._uU(122,"Source"),e.qZA(),e.TgZ(123,"th"),e._uU(124,"Action"),e.qZA(),e.TgZ(125,"th",61),e._uU(126,"Estimated Cost"),e.qZA(),e.TgZ(127,"th",62),e._uU(128,"Estimated Implementation Period"),e.qZA(),e.TgZ(129,"th",63),e._uU(130,"File"),e.qZA()()(),e.TgZ(131,"tbody"),e.YNc(132,_n,13,6,"tr",64),e.qZA()()()()(),e.TgZ(133,"div",50)(134,"button",65),e._uU(135,"Cancel"),e.qZA(),e.TgZ(136,"button",66),e.NdJ("click",function(){return v.saveMergeAction()}),e._uU(137,"Save"),e.qZA()()()()()),2&t&&(e.xp6(11),e.Q6J("ngForOf",v.plans),e.xp6(5),e.Q6J("ngIf",v.available_plan>0&&0==v.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",v.available_plan>0&&1==v.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",v.available_plan>0&&1==v.formImportFile),e.xp6(9),e.Q6J("formGroup",v.form),e.xp6(5),e.Q6J("ngClass",e.VKq(26,ct,v.formsubmitted&&v.f.planId.errors)),e.xp6(3),e.Q6J("ngForOf",v.plans),e.xp6(1),e.Q6J("ngIf",v.formsubmitted&&v.f.planId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(28,ct,v.formsubmitted&&v.f.hazardTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",v.hazardType),e.xp6(1),e.Q6J("ngIf",v.formsubmitted&&v.f.hazardTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(30,ct,v.formsubmitted&&v.f.planTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",v.plantypes),e.xp6(1),e.Q6J("ngIf",v.formsubmitted&&v.f.planTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(32,ct,v.formsubmitted&&v.f.action.errors)),e.xp6(1),e.Q6J("ngIf",v.formsubmitted&&v.f.action.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(34,ct,v.formsubmitted&&v.f.estimatedCost.errors)),e.xp6(1),e.Q6J("ngIf",v.formsubmitted&&v.f.estimatedCost.errors),e.xp6(4),e.Q6J("ngIf",1==v.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",1==v.plan.isSubmitted),e.xp6(1),e.Q6J("ngIf",v.available_plan>0&&0==v.plan.isSubmitted),e.xp6(13),e.Q6J("ngModel",v.plan.name),e.xp6(18),e.Q6J("ngModel",v.formMerge.action),e.xp6(5),e.Q6J("ngModel",v.formMerge.estimatedCost),e.xp6(5),e.Q6J("ngModel",v.formMerge.estimatedPeriod),e.xp6(19),e.Q6J("ngForOf",v.onmerges))},dependencies:[_.mk,_.sg,_.O5,fe.yS,fe.Od,k._f,W._Y,W.YN,W.Kr,W.Fj,W.wV,W.EJ,W.JJ,W.JL,W.sg,W.u,W.On,_.JJ],styles:['.card-plan[_ngcontent-%COMP%]{background-color:#d7f0fb}.card-plan-icon[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;width:50px;height:50px}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background-color:#058fcb;border-radius:0}.nav-link[_ngcontent-%COMP%]{color:#424242;min-width:120px;height:40px}.nav-item[_ngcontent-%COMP%]{font-weight:500;font-size:16px;background-color:#f7f7f7;border-right:2px solid #FFFFFF;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;gap:10px}.modal-header[_ngcontent-%COMP%]{border:0;padding:2rem 3rem!important}.modal-body[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important;padding-bottom:3rem!important}.modal-footer[_ngcontent-%COMP%]{border:0;background-color:#f7f7f7;padding-right:1.5rem!important;padding-left:1.5rem!important}thead[_ngcontent-%COMP%]{background:#024664}th[_ngcontent-%COMP%]{font-weight:550;font-size:12px;line-height:20px;padding-top:15px;padding-bottom:15px;color:#fff}.wizard[_ngcontent-%COMP%]{border:none}.btn-td[_ngcontent-%COMP%]{font-size:11px}.td-upload[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;font-weight:400;font-size:11px;line-height:17px}.btn-upload[_ngcontent-%COMP%], .btn-upload[_ngcontent-%COMP%]:hover, .btn-upload[_ngcontent-%COMP%]:focus{background-color:#9747ff;border-color:#9747ff;color:#fff}.border-upload[_ngcontent-%COMP%]{border-style:dashed;border-width:2px;border-color:#9747ff;background:#F8F7FE;color:#9747ff}.btn-action[_ngcontent-%COMP%]{font-size:12px;margin-bottom:10px;margin-right:10px}ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{height:240px}.step-wizard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.step-wizard-list[_ngcontent-%COMP%]{display:flex;padding:20px 10px;position:relative;z-index:10}.step-wizard-item[_ngcontent-%COMP%]{padding:0 20px;flex-basis:0;flex-grow:1;max-width:100%;display:flex;flex-direction:column;text-align:center;min-width:170px;position:relative}.step-wizard-item[_ngcontent-%COMP%] + .step-wizard-item[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:19px;background:#058FCB;width:100%;height:2px;transform:translate(-50%);z-index:-10}.progress-count[_ngcontent-%COMP%]{height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-weight:600;margin:0 auto;position:relative;z-index:10;color:#fff}.progress-count[_ngcontent-%COMP%]:after{content:"";height:40px;width:40px;background:#058FCB;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:50%;z-index:-10}.progress-count[_ngcontent-%COMP%]:before{content:"";position:absolute}.progress-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;width:200px;margin-top:10px;color:#058fcb}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:before, .current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:before{display:none}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:after{border:2px solid #40404068;background:#FFFFFF}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:#404040;opacity:.5}.current-item[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:#404040;opacity:.5}.current-item[_ngcontent-%COMP%] ~ .step-wizard-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{color:#40404068}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]:after{background:#FFFFFF;border:2px solid #058FCB}.current-item[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{color:#058fcb}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){border-top:none}']}),h})();var bn=ee(2447);function vn(h,q){1&h&&(e.TgZ(0,"tr")(1,"td",19),e._uU(2,"No data found"),e.qZA()())}function An(h,q){if(1&h&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&h){const t=q.$implicit;e.xp6(2),e.Oqu(t.name)}}function yn(h,q){if(1&h&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",20)(4,"table",14)(5,"tbody"),e.YNc(6,An,3,1,"tr",18),e.qZA()()()()),2&h){const t=q.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(4),e.Q6J("ngForOf",t.donorPartners)}}let Cn=(()=>{class h{constructor(t,v){this.activatedRoute=t,this.serviceDonorPartner=v,this.domains=[],this.activatedRoute.queryParams.subscribe(H=>{H.hazard_type&&H.country?this.getDonorPartners(H.country,H.hazard_type):this.domains=[]})}ngOnInit(){}getDonorPartners(t,v){this.serviceDonorPartner.getByCountryAndHazard(t,v).subscribe(H=>{this.domains=H})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(fe.gz),e.Y36(bn.P))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-donorandpartner"]],decls:26,vars:2,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary",2,"color","#00205C"],[1,"accordion","mb-3","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#donorAndPartnerOne","aria-expanded","true","aria-controls","donorAndPartnerOne",1,"accordion-button","lh-1","fs-14"],["id","donorAndPartnerOne",1,"accordion-collapse","collapse","show"],[1,"accordion-body","p-4","fs-12"],[1,"card","mb-3"],[1,"card-body","p-0"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],["width","50%"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"p-0"]],template:function(t,v){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Donor and Partner Landscape"),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"h2",8)(10,"button",9),e._uU(11," List of Donor and Partner "),e.qZA()(),e.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"table",14)(17,"thead",15)(18,"tr")(19,"th",16),e._uU(20,"Readiness Domain"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Partner"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,vn,3,0,"tr",17),e.YNc(25,yn,7,2,"tr",18),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(24),e.Q6J("ngIf",0==v.domains.length),e.xp6(1),e.Q6J("ngForOf",v.domains))},dependencies:[_.sg,_.O5]}),h})();var xn=ee(1959);function Tn(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"No data found."),e.qZA())}function Sn(h,q){1&h&&(e.TgZ(0,"tr")(1,"td",22),e._uU(2,"No data found."),e.qZA()())}function Pn(h,q){if(1&h&&(e.TgZ(0,"tr")(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",23)(6,"a",24),e._UZ(7,"i",25),e.qZA()()()),2&h){const t=q.$implicit,v=q.index;e.xp6(2),e.Oqu(v+1),e.xp6(2),e.Oqu(t.name)}}function wn(h,q){if(1&h&&(e.TgZ(0,"div",8)(1,"div",9)(2,"h2",10)(3,"button",11)(4,"span",12),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",13)(8,"div",14)(9,"div",15)(10,"div",16)(11,"table",17)(12,"thead",18)(13,"tr")(14,"th",19),e._uU(15,"No"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Policies"),e.qZA(),e.TgZ(18,"th",20),e._uU(19,"File"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,Sn,3,0,"tr",6),e.YNc(22,Pn,8,2,"tr",21),e.qZA()()()()()()()()),2&h){const t=q.$implicit,v=q.index;e.xp6(3),e.uIk("data-bs-target","#strategicPolicy"+t.id),e.xp6(2),e.Oqu(v+1),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.MGl("id","strategicPolicy",t.id,""),e.xp6(14),e.Q6J("ngIf",0==t.policies.length),e.xp6(1),e.Q6J("ngForOf",t.policies)}}let En=(()=>{class h{constructor(t,v){this.activatedRoute=t,this.servicePolicy=v,this.categories=[],this.activatedRoute.queryParams.subscribe(H=>{H.hazard_type&&H.country?this.getPolicies(H.country,H.hazard_type):this.categories=[]})}ngOnInit(){}getPolicies(t,v){this.servicePolicy.getByCountryAndHazard(t,v).subscribe(H=>{this.categories=H})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(fe.gz),e.Y36(xn.d))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-strategicpolicies"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary",2,"color","#00205C"],[4,"ngIf"],["class","accordion mb-3 shadow-sm",4,"ngFor","ngForOf"],[1,"accordion","mb-3","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"badge","bg-info","me-2"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"accordion-body","p-4","fs-12"],[1,"card"],[1,"card-body","p-0"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],["width","40px",1,"text-center"],["width","80px",1,"text-center"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"text-center"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"]],template:function(t,v){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Strategic Policies"),e.qZA(),e.YNc(7,Tn,2,0,"div",6),e.YNc(8,wn,23,6,"div",7),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",0==v.categories.length),e.xp6(1),e.Q6J("ngForOf",v.categories))},dependencies:[_.sg,_.O5]}),h})();var nt=ee(7600);let kn=(()=>{class h{constructor(t){this.httpClient=t,this.url=g.N.apiURL+"/nationalcapacityassesment"}getAll(){return this.httpClient.get(this.url)}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}UpdateIsSubmitted(t,v){return this.httpClient.put(this.url+"/"+t+"/isSubmitted",v)}}return h.\u0275fac=function(t){return new(t||h)(e.LFG(o.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var Mn=ee(8459),In=ee(9111),On=ee(746);let Ln=(()=>{class h{constructor(t){this.httpClient=t,this.url=g.N.apiURL+"/assesmentdocument"}getAll(){return this.httpClient.get(this.url)}getByCountryAndAssesment(t,v){return this.httpClient.get(this.url+"/"+t+"/"+v+"/bycountryandassesment")}find(t){return this.httpClient.get(this.url+"/"+t)}create(t){return this.httpClient.post(this.url,t)}update(t,v){return this.httpClient.put(this.url+"/"+t,v)}delete(t){return this.httpClient.delete(this.url+"/"+t)}}return h.\u0275fac=function(t){return new(t||h)(e.LFG(o.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var Fn=ee(2731),Rn=ee(4132),Zn=ee(1215),Dn=ee(8482),Bt=ee(1188);let Nn=(()=>{class h{constructor(t){this.httpClient=t,this.url=g.N.apiURL+"/checkliststate"}getStateOfChecklist(t,v,H,ie){return this.httpClient.get(this.url+"/"+t+"/"+v+"/"+H+"/"+ie+"/stateofchecklist")}updateStatus(t){return this.httpClient.post(this.url+"/updatestatus",t)}updateFunction(t){return console.log("updateFunction:",this.url+"/updatefunction",t),this.httpClient.post(this.url+"/updatefunction",t)}updateComment(t){return console.log("updatecomment:",this.url+"/updatecomment",t),this.httpClient.post(this.url+"/updatecomment",t)}}return h.\u0275fac=function(t){return new(t||h)(e.LFG(o.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var Un=ee(8421),qn=ee(9751),Bn=ee(5577),zn=ee(1144),it=ee(576),Vn=ee(3268);const jn=["addListener","removeListener"],Hn=["addEventListener","removeEventListener"],Wn=["on","off"];function Be(h,q,t,v){if((0,it.m)(t)&&(v=t,t=void 0),v)return Be(h,q,t).pipe((0,Vn.Z)(v));const[H,ie]=function Jn(h){return(0,it.m)(h.addEventListener)&&(0,it.m)(h.removeEventListener)}(h)?Hn.map(Se=>Ie=>h[Se](q,Ie,t)):function Gn(h){return(0,it.m)(h.addListener)&&(0,it.m)(h.removeListener)}(h)?jn.map(zt(h,q)):function Yn(h){return(0,it.m)(h.on)&&(0,it.m)(h.off)}(h)?Wn.map(zt(h,q)):[];if(!H&&(0,zn.z)(h))return(0,Bn.z)(Se=>Be(Se,q,t))((0,Un.Xf)(h));if(!H)throw new TypeError("Invalid event target");return new qn.y(Se=>{const Ie=(...Ve)=>Se.next(1<Ve.length?Ve:Ve[0]);return H(Ie),()=>ie(Ie)})}function zt(h,q){return t=>v=>h[t](q,v)}var Qn=ee(7579),Vt=ee(2076),ze=ee(2722),$n=ee(727);class Xn extends $n.w0{constructor(q,t){super()}schedule(q,t=0){return this}}const mt={setInterval(h,q,...t){const{delegate:v}=mt;return v?.setInterval?v.setInterval(h,q,...t):setInterval(h,q,...t)},clearInterval(h){const{delegate:q}=mt;return(q?.clearInterval||clearInterval)(h)},delegate:void 0};var Kn=ee(8737);const jt={now:()=>(jt.delegate||Date).now(),delegate:void 0};class dt{constructor(q,t=dt.now){this.schedulerActionCtor=q,this.now=t}schedule(q,t=0,v){return new this.schedulerActionCtor(this,q).schedule(v,t)}}dt.now=jt.now;const ni=new class ti extends dt{constructor(q,t=dt.now){super(q,t),this.actions=[],this._active=!1}flush(q){const{actions:t}=this;if(this._active)return void t.push(q);let v;this._active=!0;do{if(v=q.execute(q.state,q.delay))break}while(q=t.shift());if(this._active=!1,v){for(;q=t.shift();)q.unsubscribe();throw v}}}(class ei extends Xn{constructor(q,t){super(q,t),this.scheduler=q,this.work=t,this.pending=!1}schedule(q,t=0){var v;if(this.closed)return this;this.state=q;const H=this.id,ie=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(ie,H,t)),this.pending=!0,this.delay=t,this.id=null!==(v=this.id)&&void 0!==v?v:this.requestAsyncId(ie,this.id,t),this}requestAsyncId(q,t,v=0){return mt.setInterval(q.flush.bind(q,this),v)}recycleAsyncId(q,t,v=0){if(null!=v&&this.delay===v&&!1===this.pending)return t;null!=t&&mt.clearInterval(t)}execute(q,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v=this._execute(q,t);if(v)return v;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,t){let H,v=!1;try{this.work(q)}catch(ie){v=!0,H=ie||new Error("Scheduled action threw falsy error")}if(v)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:q,scheduler:t}=this,{actions:v}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Kn.P)(v,this),null!=q&&(this.id=this.recycleAsyncId(t,q,null)),this.delay=null,super.unsubscribe()}}});var ii=ee(4482),ri=ee(5403),ai=ee(9300),rt=ee(6036),bt=ee.t(rt,2),Ke=ee(2813),oi=ee.t(Ke,2);const li=["pdfViewerContainer"];function Tt(h,q,t){h[q]=t}function ut(){return typeof window>"u"}ut()||Tt(bt,"verbosity",rt.VerbosityLevel.INFOS);var st=(()=>{return(h=st||(st={}))[h.DISABLED=0]="DISABLED",h[h.ENABLED=1]="ENABLED",h[h.ENHANCED=2]="ENHANCED",st;var h})();let ui=(()=>{class h{constructor(t,v){if(this.element=t,this.ngZone=v,this.isVisible=!1,this._cMapsUrl=typeof bt<"u"?`https://unpkg.com/pdfjs-dist@${rt.version}/cmaps/`:null,this._imageResourcesPath=typeof bt<"u"?`https://unpkg.com/pdfjs-dist@${rt.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=st.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Qn.x,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),ut())return;let H;H=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${rt.version}/legacy/build/pdf.worker.min.js`,Tt(rt.GlobalWorkerOptions,"workerSrc",H)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const v=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,v!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return Ke.LinkTarget.BLANK;case"none":return Ke.LinkTarget.NONE;case"self":return Ke.LinkTarget.SELF;case"parent":return Ke.LinkTarget.PARENT;case"top":return Ke.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!ut()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:st.DISABLED,this.resetPdfDocument()):"showAll"in t&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:v}=t;if(v.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,Vt.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,ze.R)(this.destroy$)).subscribe({next:t=>{const v=this._rotation||t.rotate,H=t.getViewport({scale:this._zoom,rotation:v}).width*h.CSS_UNITS;let ie=this._zoom,Se=!0;if(!this._originalSize||this._fitToPage&&H>this.pdfViewerContainer.nativeElement.clientWidth){const Ie=t.getViewport({scale:1,rotation:v});ie=this.getScale(Ie.width,Ie.height),Se=!this._stickToPage}this.pdfViewer._setScale(ie,Se)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const t=h.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function ci(h,q){const t=new h.EventBus;return function di(h,q){Be(h,"documentload").pipe((0,ze.R)(q)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),Be(h,"pagerendered").pipe((0,ze.R)(q)).subscribe(({pageNumber:t,cssTransform:v,source:H})=>{const ie=document.createEvent("CustomEvent");ie.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:v}),H.div.dispatchEvent(ie)}),Be(h,"textlayerrendered").pipe((0,ze.R)(q)).subscribe(({pageNumber:t,source:v})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),v.textLayerDiv.dispatchEvent(H)}),Be(h,"pagechanging").pipe((0,ze.R)(q)).subscribe(({pageNumber:t,source:v})=>{const H=document.createEvent("UIEvents");H.initEvent("pagechanging",!0,!0),H.pageNumber=t,v.container.dispatchEvent(H)}),Be(h,"pagesinit").pipe((0,ze.R)(q)).subscribe(({source:t})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(v)}),Be(h,"pagesloaded").pipe((0,ze.R)(q)).subscribe(({pagesCount:t,source:v})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),v.container.dispatchEvent(H)}),Be(h,"scalechange").pipe((0,ze.R)(q)).subscribe(({scale:t,presetValue:v,source:H})=>{const ie=document.createEvent("UIEvents");ie.initEvent("scalechange",!0,!0),ie.scale=t,ie.presetValue=v,H.container.dispatchEvent(ie)}),Be(h,"updateviewarea").pipe((0,ze.R)(q)).subscribe(({location:t,source:v})=>{const H=document.createEvent("UIEvents");H.initEvent("updateviewarea",!0,!0),H.location=t,v.container.dispatchEvent(H)}),Be(h,"find").pipe((0,ze.R)(q)).subscribe(({source:t,type:v,query:H,phraseSearch:ie,caseSensitive:Se,highlightAll:Ie,findPrevious:Ve})=>{if(t===window)return;const $e=document.createEvent("CustomEvent");$e.initCustomEvent("find"+v,!0,!0,{query:H,phraseSearch:ie,caseSensitive:Se,highlightAll:Ie,findPrevious:Ve}),window.dispatchEvent($e)}),Be(h,"attachmentsloaded").pipe((0,ze.R)(q)).subscribe(({attachmentsCount:t,source:v})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),v.container.dispatchEvent(H)}),Be(h,"sidebarviewchanged").pipe((0,ze.R)(q)).subscribe(({view:t,source:v})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),v.outerContainer.dispatchEvent(H)}),Be(h,"pagemode").pipe((0,ze.R)(q)).subscribe(({mode:t,source:v})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("pagemode",!0,!0,{mode:t}),v.pdfViewer.container.dispatchEvent(H)}),Be(h,"namedaction").pipe((0,ze.R)(q)).subscribe(({action:t,source:v})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("namedaction",!0,!0,{action:t}),v.pdfViewer.container.dispatchEvent(H)}),Be(h,"presentationmodechanged").pipe((0,ze.R)(q)).subscribe(({active:t,switchInProgress:v})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:v}),window.dispatchEvent(H)}),Be(h,"outlineloaded").pipe((0,ze.R)(q)).subscribe(({outlineCount:t,source:v})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),v.container.dispatchEvent(H)})}(t,q),t}(oi,this.destroy$),Be(this.eventBus,"pagerendered").pipe((0,ze.R)(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),Be(this.eventBus,"pagesinit").pipe((0,ze.R)(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),Be(this.eventBus,"pagechanging").pipe((0,ze.R)(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),Be(this.eventBus,"textlayerrendered").pipe((0,ze.R)(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new Ke.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Ke.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:st.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){Tt(bt,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new Ke.PDFViewer(this.getPDFOptions()):new Ke.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const v={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===t?v.url=this.src:"object"===t&&(void 0!==this.src.byteLength?v.data=this.src:Object.assign(v,this.src)),v}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=rt.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=v=>{this.onProgress.emit(v)};const t=this.src;(0,Vt.D)(this.loadingTask.promise).pipe((0,ze.R)(this.destroy$)).subscribe({next:v=>{this._pdf=v,this.lastLoaded=t,this.afterLoadComplete.emit(v),this.resetPdfDocument(),this.update()},error:v=>{this.lastLoaded=null,this.onError.emit(v)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,v){const H=this._showBorders?2*h.BORDER_WIDTH:0,ie=this.pdfViewerContainer.nativeElement.clientWidth-H,Se=this.pdfViewerContainer.nativeElement.clientHeight-H;if(0===Se||0===v||0===ie||0===t)return 1;let Ie=1;switch(this._zoomScale){case"page-fit":Ie=Math.min(Se/v,ie/t);break;case"page-height":Ie=Se/v;break;default:Ie=ie/t}return this._zoom*Ie/h.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){ut()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){ut()||this.ngZone.runOutsideAngular(()=>{Be(window,"resize").pipe(function si(h,q=ni){return(0,ii.e)((t,v)=>{let H=null,ie=null,Se=null;const Ie=()=>{if(H){H.unsubscribe(),H=null;const $e=ie;ie=null,v.next($e)}};function Ve(){const $e=Se+h,at=q.now();if(at<$e)return H=this.schedule(void 0,$e-at),void v.add(H);Ie()}t.subscribe((0,ri.x)(v,$e=>{ie=$e,Se=q.now(),H||(H=q.schedule(Ve,h),v.add(H))},()=>{Ie(),v.complete()},void 0,()=>{ie=H=null}))})}(100),(0,ai.h)(()=>this._canAutoResize&&!!this._pdf),(0,ze.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return h.CSS_UNITS=96/72,h.BORDER_WIDTH=9,h.\u0275fac=function(t){return new(t||h)(e.Y36(e.SBq),e.Y36(e.R0b))},h.\u0275cmp=e.Xpm({type:h,selectors:[["pdf-viewer"]],viewQuery:function(t,v){if(1&t&&e.Gf(li,5),2&t){let H;e.iGM(H=e.CRH())&&(v.pdfViewerContainer=H.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,v){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),h})(),hi=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({}),h})();function pi(h,q){if(1&h&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function fi(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42),e.NdJ("click",function(){const ie=e.CHM(t).$implicit,Se=e.oxw();return e.KtG(Se.showByAssesment(ie.assesment.id))}),e.TgZ(2,"div",43)(3,"div",1)(4,"div",44),e._UZ(5,"i",45),e.qZA(),e.TgZ(6,"div",46)(7,"div",47)(8,"a",48),e._uU(9),e.qZA()(),e.TgZ(10,"div",49),e._uU(11),e.qZA()()()()()()}if(2&h){const t=q.$implicit;e.xp6(9),e.Oqu(t.assesment.title),e.xp6(2),e.Oqu(t.assesment.subtitle)}}const Ht=function(h){return{width:h}};function gi(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"tr")(1,"td",71),e._uU(2),e.qZA(),e.TgZ(3,"td",71),e._uU(4),e.qZA(),e.TgZ(5,"td",71)(6,"div",72),e._UZ(7,"div",73),e.qZA()(),e.TgZ(8,"td",71)(9,"select")(10,"option",74),e._uU(11,"EBOLA Response Plan"),e.qZA(),e.TgZ(12,"option",75),e._uU(13,"One"),e.qZA(),e.TgZ(14,"option",76),e._uU(15,"Two"),e.qZA(),e.TgZ(16,"option",77),e._uU(17,"Three"),e.qZA()()(),e.TgZ(18,"td",71)(19,"button",78),e.NdJ("click",function(){const ie=e.CHM(t).$implicit,Se=e.oxw(2);return e.KtG(Se.onRemove(ie))}),e._UZ(20,"i",79),e.qZA()()()}if(2&h){const t=q.$implicit,v=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.size),e.xp6(3),e.Q6J("ngStyle",e.VKq(3,Ht,v.progressStyle))}}function _i(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",50)(2,"h6",15),e._uU(3,"Import File"),e.qZA(),e.TgZ(4,"div",51)(5,"div",52)(6,"div",53),e.NdJ("change",function(H){e.CHM(t);const ie=e.oxw();return e.KtG(ie.onSelect(H))}),e.TgZ(7,"div",54)(8,"h6",55),e._uU(9,"DROP FILE HERE TO UPLOAD"),e.qZA(),e.O4$(),e.TgZ(10,"svg",56),e._UZ(11,"path",57)(12,"path",58),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",59)(14,"p"),e._uU(15,"Upload Queue"),e.qZA(),e.TgZ(16,"div",60)(17,"table",61)(18,"thead")(19,"tr")(20,"th"),e._uU(21,"NAME"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"SIZE"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"PROGRESS"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"CATEGORY"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"ACTION"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,gi,21,5,"tr",62),e.qZA()()(),e.TgZ(32,"p"),e._uU(33,"Progress Queue"),e.qZA(),e.TgZ(34,"div",63),e._UZ(35,"div",64),e.qZA(),e.TgZ(36,"button",65),e.NdJ("click",function(){e.CHM(t);const H=e.oxw();return e.KtG(H.onUploadAll())}),e._UZ(37,"i",66),e._uU(38," Upload All"),e.qZA(),e.TgZ(39,"button",67),e._UZ(40,"i",68),e._uU(41," Cancel All"),e.qZA(),e.TgZ(42,"button",69),e.NdJ("click",function(){e.CHM(t);const H=e.oxw();return e.KtG(H.onReset())}),e._UZ(43,"i",70),e._uU(44," Remove All"),e.qZA()()()()()}if(2&h){const t=e.oxw();e.xp6(31),e.Q6J("ngForOf",t.files),e.xp6(4),e.Q6J("ngStyle",e.VKq(2,Ht,t.progressStyle))}}function mi(h,q){if(1&h&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function bi(h,q){1&h&&(e.TgZ(0,"p"),e._uU(1,"Hazard Type is Required"),e.qZA())}function vi(h,q){if(1&h&&(e.TgZ(0,"div",80),e.YNc(1,bi,2,0,"p",81),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.hazardTypeId.errors.required)}}function Ai(h,q){if(1&h&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.s9C("value",t.category.id),e.xp6(1),e.Oqu(t.category.name)}}function yi(h,q){1&h&&(e.TgZ(0,"p"),e._uU(1,"Category is Required"),e.qZA())}function Ci(h,q){if(1&h&&(e.TgZ(0,"div",80),e.YNc(1,yi,2,0,"p",81),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nationalCapacityCategoryId.errors.required)}}function xi(h,q){1&h&&(e.TgZ(0,"p"),e._uU(1,"Checklist is Required"),e.qZA())}function Ti(h,q){if(1&h&&(e.TgZ(0,"div",80),e.YNc(1,xi,2,0,"p",81),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.action.errors.required)}}function Si(h,q){if(1&h&&(e.TgZ(0,"div",3)(1,"div",82)(2,"h6",83),e._uU(3,"Initial Rapid Need Assesment"),e.qZA(),e.TgZ(4,"div",84)(5,"div",85)(6,"div",13)(7,"div",50),e._UZ(8,"pdf-viewer",86),e.qZA()()()()()()),2&h){const t=e.oxw();e.xp6(8),e.Q6J("src",t.pdfSrcIRNA)("original-size",!1)("zoom",1)}}function Pi(h,q){1&h&&(e.TgZ(0,"div",3)(1,"div",82)(2,"h6",83),e._uU(3,"Point of Entry"),e.qZA(),e._UZ(4,"div",87),e.qZA()())}function wi(h,q){1&h&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Readiness Checklist Status"),e.qZA(),e.TgZ(4,"div",89)(5,"div",14)(6,"h6",15),e._uU(7,"Result"),e.qZA(),e._UZ(8,"canvas",90),e.qZA()(),e.TgZ(9,"div",13)(10,"div",14)(11,"h6",15),e._uU(12,"History"),e.qZA(),e.TgZ(13,"div",91)(14,"div",2)(15,"div",92)(16,"div",93)(17,"table",94)(18,"thead",95)(19,"tr")(20,"th"),e._uU(21,"Date"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Assessor"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Type"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Description"),e.qZA()()(),e.TgZ(28,"tbody")(29,"tr")(30,"td"),e._uU(31,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(32,"td"),e._uU(33,"Admin 1"),e.qZA(),e.TgZ(34,"td"),e._uU(35,"Self Assessment"),e.qZA(),e.TgZ(36,"td"),e._uU(37,"-"),e.qZA()(),e.TgZ(38,"tr")(39,"td"),e._uU(40,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(41,"td"),e._uU(42,"Admin 1"),e.qZA(),e.TgZ(43,"td"),e._uU(44,"Self Assessment"),e.qZA(),e.TgZ(45,"td"),e._uU(46,"-"),e.qZA()(),e.TgZ(47,"tr")(48,"td"),e._uU(49,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(50,"td"),e._uU(51,"Admin 1"),e.qZA(),e.TgZ(52,"td"),e._uU(53,"Self Assessment"),e.qZA(),e.TgZ(54,"td"),e._uU(55,"-"),e.qZA()(),e.TgZ(56,"tr")(57,"td"),e._uU(58,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(59,"td"),e._uU(60,"Admin 1"),e.qZA(),e.TgZ(61,"td"),e._uU(62,"Self Assessment"),e.qZA(),e.TgZ(63,"td"),e._uU(64,"-"),e.qZA()(),e.TgZ(65,"tr")(66,"td"),e._uU(67,"3/2/22 11:41 AM"),e.qZA(),e.TgZ(68,"td"),e._uU(69,"Admin 1"),e.qZA(),e.TgZ(70,"td"),e._uU(71,"Self Assessment"),e.qZA(),e.TgZ(72,"td"),e._uU(73,"-"),e.qZA()()()()()(),e.TgZ(74,"div",36)(75,"nav")(76,"ul",96)(77,"li",97)(78,"a",98)(79,"span",99),e._UZ(80,"i",100),e.qZA()()(),e.TgZ(81,"li",101)(82,"a",102),e._uU(83,"1"),e.qZA()(),e.TgZ(84,"li",97)(85,"a",102),e._uU(86,"2"),e.qZA()(),e.TgZ(87,"li",97)(88,"a",102),e._uU(89,"3"),e.qZA()(),e.TgZ(90,"li",97)(91,"a",102),e._uU(92,"4"),e.qZA()(),e.TgZ(93,"li",97)(94,"a",103)(95,"span",99),e._UZ(96,"i",104),e.qZA()()()()()()()()()()()())}function Ei(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"textarea",131),e.NdJ("change",function(H){e.CHM(t);const ie=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateFunction(ie.id,H.target))}),e._uU(1),e.qZA()}if(2&h){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.function)}}function ki(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"textarea",131),e.NdJ("change",function(H){e.CHM(t);const ie=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateComment(ie.id,H.target))}),e._uU(1),e.qZA()}if(2&h){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.comment)}}function Mi(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div")(1,"input",132),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateStatus(ie.id,H.target))}),e.qZA()()}if(2&h){const t=e.oxw(),v=t.index,H=t.$implicit,ie=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",ie,"",v,""),e.Q6J("checked",1===H.status)}}function Ii(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const H=e.oxw().$implicit,ie=e.oxw(3);return e.KtG(ie.getStateOfChecklist(H.id,1))}),e._UZ(3,"i",135),e.qZA()()}if(2&h){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusYes,"% ")}}function Oi(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div")(1,"input",136),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateStatus(ie.id,H.target))}),e.qZA()()}if(2&h){const t=e.oxw(),v=t.index,H=t.$implicit,ie=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",ie,"",v,""),e.Q6J("checked",2===H.status)}}function Li(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const H=e.oxw().$implicit,ie=e.oxw(3);return e.KtG(ie.getStateOfChecklist(H.id,2))}),e._UZ(3,"i",135),e.qZA()()}if(2&h){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusNo,"% ")}}function Fi(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div")(1,"input",137),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateStatus(ie.id,H.target))}),e.qZA()()}if(2&h){const t=e.oxw(),v=t.index,H=t.$implicit,ie=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",ie,"",v,""),e.Q6J("checked",3===H.status)}}function Ri(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const H=e.oxw().$implicit,ie=e.oxw(3);return e.KtG(ie.getStateOfChecklist(H.id,3))}),e._UZ(3,"i",135),e.qZA()()}if(2&h){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusInProgress,"% ")}}function Zi(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div")(1,"input",138),e.NdJ("click",function(H){e.CHM(t);const ie=e.oxw().$implicit,Se=e.oxw(3);return e.KtG(Se.updateStatus(ie.id,H.target))}),e.qZA()()}if(2&h){const t=e.oxw(),v=t.index,H=t.$implicit,ie=e.oxw().index;e.xp6(1),e.hYB("name","flexRadioDefault",ie,"",v,""),e.Q6J("checked",4===H.status)}}function Di(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",133),e._uU(1),e.TgZ(2,"a",134),e.NdJ("click",function(){e.CHM(t);const H=e.oxw().$implicit,ie=e.oxw(3);return e.KtG(ie.getStateOfChecklist(H.id,4))}),e._UZ(3,"i",135),e.qZA()()}if(2&h){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.statusNA,"% ")}}function Ni(h,q){if(1&h&&(e.TgZ(0,"tr")(1,"td"),e.YNc(2,Ei,2,1,"textarea",128),e.qZA(),e.TgZ(3,"td"),e.YNc(4,ki,2,1,"textarea",128),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",129),e.YNc(8,Mi,2,3,"div",81),e.YNc(9,Ii,4,1,"div",130),e.qZA(),e.TgZ(10,"td",129),e.YNc(11,Oi,2,3,"div",81),e.YNc(12,Li,4,1,"div",130),e.qZA(),e.TgZ(13,"td",129),e.YNc(14,Fi,2,3,"div",81),e.YNc(15,Ri,4,1,"div",130),e.qZA(),e.TgZ(16,"td",129),e.YNc(17,Zi,2,3,"div",81),e.YNc(18,Di,4,1,"div",130),e.qZA()()),2&h){const t=q.$implicit,v=e.oxw(3);e.xp6(2),e.Q6J("ngIf",v.stateId),e.xp6(2),e.Q6J("ngIf",v.stateId),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Q6J("ngIf",v.stateId),e.xp6(1),e.Q6J("ngIf",!v.stateId),e.xp6(2),e.Q6J("ngIf",v.stateId),e.xp6(1),e.Q6J("ngIf",!v.stateId),e.xp6(2),e.Q6J("ngIf",v.stateId),e.xp6(1),e.Q6J("ngIf",!v.stateId),e.xp6(2),e.Q6J("ngIf",v.stateId),e.xp6(1),e.Q6J("ngIf",!v.stateId)}}function Ui(h,q){if(1&h&&(e.TgZ(0,"div",120)(1,"div",19)(2,"h2",20)(3,"button",121)(4,"span",22),e._uU(5),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",122)(8,"div",24)(9,"div",123)(10,"div",93)(11,"table",94)(12,"thead",95)(13,"tr")(14,"th",124),e._uU(15,"Data Source"),e.qZA(),e.TgZ(16,"th",124),e._uU(17,"Comment"),e.qZA(),e.TgZ(18,"th",125),e._uU(19,"Readiness Action Checklist"),e.qZA(),e.TgZ(20,"th",126),e._uU(21,"Status"),e.qZA()(),e.TgZ(22,"tr")(23,"th",127),e._uU(24,"Yes"),e.qZA(),e.TgZ(25,"th",127),e._uU(26,"No"),e.qZA(),e.TgZ(27,"th",127),e._uU(28,"InProgress"),e.qZA(),e.TgZ(29,"th",127),e._uU(30,"N/A"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,Ni,19,11,"tr",62),e.qZA()()()()()()()()),2&h){const t=q.$implicit,v=q.index;e.xp6(3),e.uIk("data-bs-target","#readinessChecklist"+t.category.id),e.xp6(2),e.Oqu(v+1),e.xp6(1),e.hij(" ",t.category.name," "),e.xp6(1),e.MGl("id","readinessChecklist",t.category.id,""),e.xp6(25),e.Q6J("ngForOf",t.category.nationalCapacityChecklists)}}function qi(h,q){1&h&&(e.TgZ(0,"div"),e._uU(1,"No data found"),e.qZA())}function Bi(h,q){if(1&h&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&h){const t=q.$implicit;e.xp6(2),e.Oqu(t.name)}}function zi(h,q){if(1&h&&(e.TgZ(0,"table",61)(1,"tbody"),e.YNc(2,Bi,3,1,"tr",62),e.qZA()()),2&h){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.stateOfChecklist)}}function Vi(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Readiness Checklist"),e.qZA(),e.TgZ(4,"div",105)(5,"div",106),e._UZ(6,"i",107),e.TgZ(7,"select",108),e.NdJ("change",function(H){e.CHM(t);const ie=e.oxw();return e.KtG(ie.onFilter(H))}),e.TgZ(8,"option",109),e._uU(9,"Filter by Status"),e.qZA(),e.TgZ(10,"option",75),e._uU(11,"Yes"),e.qZA(),e.TgZ(12,"option",76),e._uU(13,"No"),e.qZA(),e.TgZ(14,"option",77),e._uU(15,"InProgress"),e.qZA(),e.TgZ(16,"option",110),e._uU(17,"N/A"),e.qZA()()()(),e.YNc(18,Ui,33,5,"div",111),e.TgZ(19,"div",112)(20,"div",113)(21,"div",114)(22,"div",115)(23,"h6",116),e._uU(24,"State"),e.qZA(),e._UZ(25,"button",117),e.qZA(),e.TgZ(26,"div",118),e.YNc(27,qi,2,0,"div",81),e.YNc(28,zi,3,1,"table",119),e.qZA()()()()()()}if(2&h){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.categories),e.xp6(9),e.Q6J("ngIf",0==t.stateOfChecklist.length),e.xp6(1),e.Q6J("ngIf",t.stateOfChecklist.length>0)}}function ji(h,q){if(1&h){const t=e.EpF();e.TgZ(0,"div",36)(1,"button",166),e.NdJ("click",function(){e.CHM(t);const H=e.oxw(2),ie=e.MAs(75);return H.onResultSearch(),e.KtG(H.scroll(ie))}),e._UZ(2,"i",167),e._uU(3,"Save Result"),e.qZA()()}}function Hi(h,q){if(1&h&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"Join External Evaluation of IHR Core Capacities of Federal Republic of Nigeria"),e.qZA(),e.TgZ(4,"div",13)(5,"div",139)(6,"div",140)(7,"div",93)(8,"table",94)(9,"thead",95)(10,"tr")(11,"th",129),e._uU(12,"NO"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Technical Area"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Indicators"),e.qZA(),e.TgZ(17,"th",129),e._uU(18,"Score"),e.qZA(),e.TgZ(19,"th",129),e._uU(20,"Source"),e.qZA()()(),e.TgZ(21,"tbody")(22,"tr")(23,"td",141),e._uU(24,"1"),e.qZA(),e.TgZ(25,"td",125),e._uU(26,"National legislation, policy and financing"),e.qZA(),e.TgZ(27,"td")(28,"strong"),e._uU(29,"Prevent"),e.qZA(),e._uU(30," : Legislation, laws, regulations, administrative requirements, policies or other government instruments in place are sufficient for implementation of IHR (2005)"),e.qZA(),e.TgZ(31,"td",142),e._uU(32,"1"),e.qZA(),e.TgZ(33,"td",141)(34,"a",143),e._UZ(35,"i",144),e.qZA()()(),e.TgZ(36,"tr")(37,"td")(38,"strong"),e._uU(39,"Prevent"),e.qZA(),e._uU(40," : The State can demonstrate that it has adjusted and aligned its domestic legislation, policies and administrative arrangements to enable compliance with IH"),e.qZA(),e.TgZ(41,"td",142),e._uU(42,"1"),e.qZA()(),e.TgZ(43,"tr")(44,"td",145),e._uU(45,"2"),e.qZA(),e.TgZ(46,"td",71),e._uU(47,"IHR coordination, communication and advocacy"),e.qZA(),e.TgZ(48,"td")(49,"strong"),e._uU(50,"Prevent"),e.qZA(),e._uU(51," : A functional mechanism is established for the coordination and integration of relevant sectors in the implementation of IHR"),e.qZA(),e.TgZ(52,"td",146),e._uU(53,"2"),e.qZA(),e.TgZ(54,"td",145)(55,"a",143),e._UZ(56,"i",144),e.qZA()()(),e.TgZ(57,"tr")(58,"td",147),e._uU(59,"3"),e.qZA(),e.TgZ(60,"td",148),e._uU(61,"Antimicrobial resistance"),e.qZA(),e.TgZ(62,"td")(63,"strong"),e._uU(64,"Prevent"),e.qZA(),e._uU(65," : Antimicrobial resistance detection"),e.qZA(),e.TgZ(66,"td",146),e._uU(67,"2"),e.qZA(),e.TgZ(68,"td",147)(69,"a",143),e._UZ(70,"i",144),e.qZA()()(),e.TgZ(71,"tr")(72,"td")(73,"strong"),e._uU(74,"Prevent"),e.qZA(),e._uU(75," : Surveillance of infections caused by antimicrobial-resistant pathogens"),e.qZA(),e.TgZ(76,"td",146),e._uU(77,"2"),e.qZA()(),e.TgZ(78,"tr")(79,"td")(80,"strong"),e._uU(81,"Prevent"),e.qZA(),e._uU(82," : Health care-associated infection (HCAI) prevention and control programmes"),e.qZA(),e.TgZ(83,"td",146),e._uU(84,"2"),e.qZA()(),e.TgZ(85,"tr")(86,"td")(87,"strong"),e._uU(88,"Prevent"),e.qZA(),e._uU(89," : Antimicrobial stewardship activities"),e.qZA(),e.TgZ(90,"td",146),e._uU(91,"2"),e.qZA()(),e.TgZ(92,"tr")(93,"td",149),e._uU(94,"3"),e.qZA(),e.TgZ(95,"td",150),e._uU(96,"Zoonotic diseases"),e.qZA(),e.TgZ(97,"td")(98,"strong"),e._uU(99,"Prevent"),e.qZA(),e._uU(100," : Surveillance systems in place for priority zoonotic diseases/pathogens"),e.qZA(),e.TgZ(101,"td",146),e._uU(102,"2"),e.qZA(),e.TgZ(103,"td",149)(104,"a",143),e._UZ(105,"i",144),e.qZA()()(),e.TgZ(106,"tr")(107,"td")(108,"strong"),e._uU(109,"Prevent"),e.qZA(),e._uU(110," : Veterinary or animal health workforce"),e.qZA(),e.TgZ(111,"td",146),e._uU(112,"2"),e.qZA()(),e.TgZ(113,"tr")(114,"td")(115,"strong"),e._uU(116,"Prevent"),e.qZA(),e._uU(117," : Mechanisms for responding to infectious and potential zoonotic diseases are established and functional"),e.qZA(),e.TgZ(118,"td",142),e._uU(119,"1"),e.qZA()(),e.TgZ(120,"tr")(121,"td",145),e._uU(122,"4"),e.qZA(),e.TgZ(123,"td",71),e._uU(124,"Food safety"),e.qZA(),e.TgZ(125,"td")(126,"strong"),e._uU(127,"Prevent"),e.qZA(),e._uU(128," : Whole-of-government biosafety and biosecurity system is in place for human, animal and agriculture facilities"),e.qZA(),e.TgZ(129,"td",146),e._uU(130,"2"),e.qZA(),e.TgZ(131,"td",145)(132,"a",143),e._UZ(133,"i",144),e.qZA()()(),e.TgZ(134,"tr")(135,"td",141),e._uU(136,"5"),e.qZA(),e.TgZ(137,"td",125),e._uU(138,"Biosafety and biosecurity"),e.qZA(),e.TgZ(139,"td")(140,"strong"),e._uU(141,"Prevent"),e.qZA(),e._uU(142," : Legislation, laws, regulations, administrative requirements, policies or other government instruments in place are sufficient for implementation of IHR (2005)"),e.qZA(),e.TgZ(143,"td",142),e._uU(144,"1"),e.qZA(),e.TgZ(145,"td",141)(146,"a",143),e._UZ(147,"i",144),e.qZA()()(),e.TgZ(148,"tr")(149,"td")(150,"strong"),e._uU(151,"Prevent"),e.qZA(),e._uU(152," : Biosafety and biosecurity training and practices"),e.qZA(),e.TgZ(153,"td",142),e._uU(154,"1"),e.qZA()(),e.TgZ(155,"tr")(156,"td",141),e._uU(157,"6"),e.qZA(),e.TgZ(158,"td",125),e._uU(159,"Immunization"),e.qZA(),e.TgZ(160,"td")(161,"strong"),e._uU(162,"Prevent"),e.qZA(),e._uU(163," : Vaccine coverage (measles) as part of national programme"),e.qZA(),e.TgZ(164,"td",146),e._uU(165,"3"),e.qZA(),e.TgZ(166,"td",141)(167,"a",143),e._UZ(168,"i",144),e.qZA()()(),e.TgZ(169,"tr")(170,"td")(171,"strong"),e._uU(172,"Prevent"),e.qZA(),e._uU(173," : National vaccine access and delivery"),e.qZA(),e.TgZ(174,"td",151),e._uU(175,"4"),e.qZA()(),e.TgZ(176,"tr")(177,"td",147),e._uU(178,"7"),e.qZA(),e.TgZ(179,"td",148),e._uU(180,"National laboratory system"),e.qZA(),e.TgZ(181,"td")(182,"strong"),e._uU(183,"Detect"),e.qZA(),e._uU(184," : Laboratory testing for detection of priority diseases "),e.qZA(),e.TgZ(185,"td",146),e._uU(186,"3"),e.qZA(),e.TgZ(187,"td",147)(188,"a",143),e._UZ(189,"i",144),e.qZA()()(),e.TgZ(190,"tr")(191,"td")(192,"strong"),e._uU(193,"Detect"),e.qZA(),e._uU(194," : Specimen referral and transport system"),e.qZA(),e.TgZ(195,"td",142),e._uU(196,"1"),e.qZA()(),e.TgZ(197,"tr")(198,"td")(199,"strong"),e._uU(200,"Detect"),e.qZA(),e._uU(201," : Effective modern point-of-care and laboratory-based diagnostics"),e.qZA(),e.TgZ(202,"td",146),e._uU(203,"2"),e.qZA()(),e.TgZ(204,"tr")(205,"td")(206,"strong"),e._uU(207,"Detect"),e.qZA(),e._uU(208," : Laboratory quality system"),e.qZA(),e.TgZ(209,"td",146),e._uU(210,"2"),e.qZA()(),e.TgZ(211,"tr")(212,"td",147),e._uU(213,"8"),e.qZA(),e.TgZ(214,"td",148),e._uU(215,"Real-time surveillance"),e.qZA(),e.TgZ(216,"td")(217,"strong"),e._uU(218,"Detect"),e.qZA(),e._uU(219," : Indicator- and event-based surveillance systems"),e.qZA(),e.TgZ(220,"td",146),e._uU(221,"3"),e.qZA(),e.TgZ(222,"td",147)(223,"a",143),e._UZ(224,"i",144),e.qZA()()(),e.TgZ(225,"tr")(226,"td")(227,"strong"),e._uU(228,"Detect"),e.qZA(),e._uU(229," : Interoperable, interconnected, electronic real-time reporting system"),e.qZA(),e.TgZ(230,"td",146),e._uU(231,"2"),e.qZA()(),e.TgZ(232,"tr")(233,"td")(234,"strong"),e._uU(235,"Detect"),e.qZA(),e._uU(236," : Integration and analysis of surveillance data"),e.qZA(),e.TgZ(237,"td",146),e._uU(238,"3"),e.qZA()(),e.TgZ(239,"tr")(240,"td")(241,"strong"),e._uU(242,"Detect"),e.qZA(),e._uU(243," : Syndromic surveillance systems"),e.qZA(),e.TgZ(244,"td",146),e._uU(245,"3"),e.qZA()(),e.TgZ(246,"tr")(247,"td",141),e._uU(248,"9"),e.qZA(),e.TgZ(249,"td",125),e._uU(250,"Reporting"),e.qZA(),e.TgZ(251,"td")(252,"strong"),e._uU(253,"Detect"),e.qZA(),e._uU(254," : System for efficient reporting to FAO, OIE and WHO"),e.qZA(),e.TgZ(255,"td",146),e._uU(256,"3"),e.qZA(),e.TgZ(257,"td",141)(258,"a",143),e._UZ(259,"i",144),e.qZA()()(),e.TgZ(260,"tr")(261,"td")(262,"strong"),e._uU(263,"Detect"),e.qZA(),e._uU(264," : Reporting network and protocols in country"),e.qZA(),e.TgZ(265,"td",146),e._uU(266,"2"),e.qZA()(),e.TgZ(267,"tr")(268,"td",149),e._uU(269,"10"),e.qZA(),e.TgZ(270,"td",150),e._uU(271,"Workforce development"),e.qZA(),e.TgZ(272,"td")(273,"strong"),e._uU(274,"Detect"),e.qZA(),e._uU(275," : Human resources available to implement IHR core capacity requirements"),e.qZA(),e.TgZ(276,"td",146),e._uU(277,"3"),e.qZA(),e.TgZ(278,"td",149)(279,"a",143),e._UZ(280,"i",144),e.qZA()()(),e.TgZ(281,"tr")(282,"td")(283,"strong"),e._uU(284,"Detect"),e.qZA(),e._uU(285," : FETP1 or other applied epidemiology training programme in place"),e.qZA(),e.TgZ(286,"td",151),e._uU(287,"4"),e.qZA()(),e.TgZ(288,"tr")(289,"td")(290,"strong"),e._uU(291,"Detect"),e.qZA(),e._uU(292," : Workforce strategy"),e.qZA(),e.TgZ(293,"td",146),e._uU(294,"2"),e.qZA()()()()()()()(),e.TgZ(295,"div",152)(296,"div",153)(297,"div",91)(298,"div",154)(299,"div",92)(300,"div",155),e._UZ(301,"pdf-viewer",156),e.qZA()()(),e.TgZ(302,"div",157)(303,"h6",158),e._uU(304,"Search Result"),e.qZA(),e.TgZ(305,"div",92)(306,"div",93)(307,"table",94)(308,"thead",95)(309,"tr")(310,"th",159),e._uU(311,"No"),e.qZA(),e.TgZ(312,"th",160),e._uU(313,"Technical Area"),e.qZA(),e.TgZ(314,"th"),e._uU(315,"Indicators"),e.qZA(),e.TgZ(316,"th",160),e._uU(317,"Source"),e.qZA()()(),e.TgZ(318,"tbody")(319,"tr")(320,"td",129),e._uU(321,"1"),e.qZA(),e.TgZ(322,"td")(323,"strong"),e._uU(324,"Food safety"),e.qZA()(),e.TgZ(325,"td"),e._uU(326,"Whole-of-government biosafety and biosecurity system is in place for human, animal and agriculture facilities"),e.qZA(),e.TgZ(327,"td"),e._uU(328,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(329,"tr")(330,"td",161),e._uU(331,"2"),e.qZA(),e.TgZ(332,"td",162)(333,"strong"),e._uU(334,"Immunization"),e.qZA()(),e.TgZ(335,"td"),e._uU(336,"Vaccine coverage (measles) as part of national programme"),e.qZA(),e.TgZ(337,"td",162),e._uU(338,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(339,"tr")(340,"td"),e._uU(341,"National vaccine access and delivery"),e.qZA()(),e.TgZ(342,"tr")(343,"td",163),e._uU(344,"3"),e.qZA(),e.TgZ(345,"td",164)(346,"strong"),e._uU(347,"National laboratory system"),e.qZA()(),e.TgZ(348,"td"),e._uU(349,"National laboratory system"),e.qZA(),e.TgZ(350,"td",164),e._uU(351,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(352,"tr")(353,"td"),e._uU(354,"Specimen referral and transport system"),e.qZA()(),e.TgZ(355,"tr")(356,"td"),e._uU(357,"Effective modern point-of-care and laboratory-based diagnostics"),e.qZA()(),e.TgZ(358,"tr")(359,"td"),e._uU(360,"Laboratory quality system"),e.qZA()(),e.TgZ(361,"tr")(362,"td",163),e._uU(363,"4"),e.qZA(),e.TgZ(364,"td",164)(365,"strong"),e._uU(366,"Real-time surveillance"),e.qZA()(),e.TgZ(367,"td"),e._uU(368,"Indicator- and event-based surveillance systems"),e.qZA(),e.TgZ(369,"td",164),e._uU(370,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(371,"tr")(372,"td"),e._uU(373,"Interoperable, interconnected, electronic real-time reporting system"),e.qZA()(),e.TgZ(374,"tr")(375,"td"),e._uU(376,"Integration and analysis of surveillance data"),e.qZA()(),e.TgZ(377,"tr")(378,"td"),e._uU(379,"Syndromic surveillance systems"),e.qZA()(),e.TgZ(380,"tr")(381,"td",161),e._uU(382,"5"),e.qZA(),e.TgZ(383,"td",162)(384,"strong"),e._uU(385,"Reporting"),e.qZA()(),e.TgZ(386,"td"),e._uU(387,"System for efficient reporting to FAO, OIE and WHO"),e.qZA(),e.TgZ(388,"td",162),e._uU(389,"JEE Section (Page 3)"),e.qZA()(),e.TgZ(390,"tr")(391,"td"),e._uU(392,"Reporting network and protocols in country"),e.qZA()()()()()(),e.YNc(393,ji,4,0,"div",165),e.qZA()()()()()()),2&h){const t=e.oxw();e.xp6(301),e.Q6J("src",t.pdfSrc)("render-text",!0)("original-size",!1)("zoom",1),e.xp6(92),e.Q6J("ngIf",0==t.assesment.isSubmitted&&t.isButtonVisible1)}}function Wi(h,q){1&h&&(e.TgZ(0,"div",3)(1,"div",5)(2,"h6",88),e._uU(3,"e-SPAR : State Parties Annual Report"),e.qZA(),e.TgZ(4,"div",168)(5,"div",1)(6,"div",169)(7,"div",123)(8,"div",170)(9,"div",171),e._uU(10,"Main Challenges"),e.qZA(),e.TgZ(11,"div",172),e._uU(12," Based on the analysis of the latest annual reporting data, the top challenges are : "),e.qZA(),e.TgZ(13,"div",173)(14,"div",174),e._uU(15,"C1 Policy, Legal and Normative Instruments to Implement IHR"),e.qZA(),e.TgZ(16,"table",94)(17,"tr")(18,"td",175)(19,"div",176)(20,"div",177),e._UZ(21,"div",178),e.qZA()()(),e.TgZ(22,"td",179),e._uU(23,"30%"),e.qZA()()()(),e.TgZ(24,"div",173)(25,"div",174),e._uU(26,"C6 Human Resources"),e.qZA(),e.TgZ(27,"table",94)(28,"tr")(29,"td",175)(30,"div",176)(31,"div",177),e._UZ(32,"div",180),e.qZA()()(),e.TgZ(33,"td",179),e._uU(34,"40%"),e.qZA()()()(),e.TgZ(35,"div",173)(36,"div",174),e._uU(37,"C14 Chemical Events"),e.qZA(),e.TgZ(38,"table",94)(39,"tr")(40,"td",175)(41,"div",176)(42,"div",177),e._UZ(43,"div",180),e.qZA()()(),e.TgZ(44,"td",179),e._uU(45,"40%"),e.qZA()()()(),e.TgZ(46,"div",173)(47,"div",174),e._uU(48,"C8 Health Service Provision"),e.qZA(),e.TgZ(49,"table",94)(50,"tr")(51,"td",175)(52,"div",176)(53,"div",177),e._UZ(54,"div",181),e.qZA()()(),e.TgZ(55,"td",179),e._uU(56,"47%"),e.qZA()()()(),e.TgZ(57,"div",173)(58,"div",174),e._uU(59,"C9 Infection Prevention and Control (IPC)"),e.qZA(),e.TgZ(60,"table",94)(61,"tr")(62,"td",175)(63,"div",176)(64,"div",177),e._UZ(65,"div",181),e.qZA()()(),e.TgZ(66,"td",179),e._uU(67,"47%"),e.qZA()()()()()()(),e.TgZ(68,"div",169)(69,"div",182)(70,"div",170)(71,"div",183),e._uU(72,"IHR Designated Points of Entry"),e.qZA(),e.TgZ(73,"div",184)(74,"div",1)(75,"div",185),e._uU(76,"Ports"),e.qZA(),e.TgZ(77,"div",186),e._uU(78,"1"),e.qZA()()(),e.TgZ(79,"div",184)(80,"div",1)(81,"div",185),e._uU(82,"Airports"),e.qZA(),e.TgZ(83,"div",186),e._uU(84,"3"),e.qZA()()(),e.TgZ(85,"div",184)(86,"div",1)(87,"div",185),e._uU(88,"Ground Crossings"),e.qZA(),e.TgZ(89,"div",186),e._uU(90,"0"),e.qZA()()(),e.TgZ(91,"div",184)(92,"div",1)(93,"div",185),e._uU(94,"Autorized port to issue ship sanitation certificates"),e.qZA(),e.TgZ(95,"div",186),e._uU(96,"No"),e.qZA()()()()()(),e.TgZ(97,"div",187)(98,"div",188)(99,"div",50)(100,"div",1)(101,"div",189),e._uU(102," All Capacities Average "),e._UZ(103,"br"),e._uU(104," (Updated on 07-06-2022) "),e.qZA(),e.TgZ(105,"div",190),e._UZ(106,"canvas",191),e.TgZ(107,"span"),e._uU(108,"Nigeria"),e.qZA()(),e.TgZ(109,"div",190),e._UZ(110,"canvas",192),e.TgZ(111,"span"),e._uU(112,"AFRO"),e.qZA()(),e.TgZ(113,"div",190),e._UZ(114,"canvas",193),e.TgZ(115,"span",194),e._uU(116,"Global Average"),e.qZA()()()()()(),e.TgZ(117,"div",187)(118,"div",188)(119,"div",170)(120,"div",1)(121,"div",195),e._uU(122," IHR Score Per Capacity AFRO Nigeria 2021 "),e.qZA(),e.TgZ(123,"div",2),e._UZ(124,"canvas",196),e.qZA()()()()()()()()())}const St=function(h){return{"is-invalid":h}};let Gi=(()=>{class h{constructor(t,v,H,ie,Se,Ie,Ve,$e,at,Pt,wt,Et,et,sr,ar,or,lr){this.activatedRoute=t,this.serviceAssesment=v,this.serviceCategory=H,this.serviceChecklist=ie,this.serviceCountry=Se,this.serviceHazardtype=Ie,this.spinner=Ve,this.fb=$e,this.toastr=at,this.serviceCountryAssesment=Pt,this.serviceAssesmentDoc=wt,this.servicePoeMarker=Et,this.serviceHazardTypeCategory=et,this.serviceState=sr,this.serviceCity=ar,this.serviceStorage=or,this.serviceChecklistState=lr,this.dataChartNationalCapacities=[0,0,0,0],this.dataChart0=[0,100],this.dataChart1=[0,100],this.dataChart2=[0,100],this.dataChartScoreCapacityBar=[0,0,0,0,0,0,0,0,0,0,0,0],this.dataChartScoreCapacityLine=[0,0,0,0,0,0,0,0,0,0,0,0],this.pdfSrc="../assets/WHO-WHE-CPI-REP-2017-46-eng.pdf",this.pdfSrcIRNA="../assets/Multi_Sector_IRNA_Tool-ISWG.pdf",this.uploadIRNAdoc=!1,this.showSection1=!1,this.showSection2=!1,this.showSection3=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.isButtonVisible1=!0,this.isButtonVisible2=!0,this.isImportVisible=!1,this.categories=[],this.stateOfChecklist=[],this.formsubmitted=!1,this.countryAssesments=[],this.pinIcon=L.icon({iconUrl:"./assets/pin.png",iconSize:[32,32]}),this.files=[],nt.kL.register(...nt.zX),this.activatedRoute.queryParams.subscribe(vt=>{vt.hazard_type&&vt.country&&(this.hazardTypeId=vt.hazard_type,this.findAssesment(vt.hazard_type),this.showSection1=!1,this.showSection2=!1,this.showSection3=!1,this.showSection4=!1,this.showSectionIRNA=!1,this.isButtonVisible1=!0,this.isButtonVisible2=!0,this.categories=[],this.clearForm())})}initMap(){this.map=L.map("mapPointOfEntry",{center:L.latLng(-2.44565,117.8888),zoom:5}),L.esri.Vector.vectorBasemapLayer("ArcGIS:Streets",{apikey:"AAPK8acc523775224c1f958527e7933989d1v8h60qdvzoYxwZ9tr466u7fbO5fQavRbW40xv-IvbmkZfa6zjTBE-nvzhBOBPaRv"}).addTo(this.map),this.servicePoeMarker.getAll().subscribe(t=>{t.forEach(v=>{L.marker([v.latitude,v.longitude],{icon:this.pinIcon}).addTo(this.map)})})}showByAssesment(t){3==t?1==this.showSection4?this.showSection4=!1:(this.assesment.isSubmitted=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.showSection4=!0,setTimeout(()=>{this.initMap()},2e3)):2==t?1==this.showSectionEspar?this.showSectionEspar=!1:(this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionIRNA=!1,this.showSectionEspar=!0,setTimeout(()=>{this.getesparChart()},2e3)):1==t?1==this.assesment.isSubmitted?this.assesment.isSubmitted=!1:(this.assesment.isSubmitted=!0,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1,this.categories=[],this.clearForm(),this.findAssesment(this.hazardTypeId),this.getCategory()):4==t&&(this.assesmentId=t,1==this.uploadIRNAdoc?(this.isImportVisible=!1,this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!0):(this.isImportVisible=!0,this.assesment.isSubmitted=!1,this.showSection4=!1,this.showSectionEspar=!1,this.showSectionIRNA=!1))}getAssesmentDoc(){this.serviceAssesmentDoc.getByCountryAndAssesment(this.countryId,this.assesmentId).subscribe(t=>{this.pdfSrcIRNA=t.file})}getCountryAssesment(){this.activatedRoute.queryParams.subscribe(t=>{t.country&&(this.serviceCountryAssesment.getByCountry(t.country).subscribe(v=>{this.countryAssesments=v}),this.serviceCountry.getByCode(t.country).subscribe(v=>{console.log("Con COd:",v),this.countryCode=v.code,this.countryId=v.id,this.form.patchValue({countryId:v.id})}))})}getState(){this.activatedRoute.queryParams.subscribe(t=>{t.country&&this.serviceCountry.getByCode(t.country).subscribe(v=>{this.serviceState.getByCountry(v.id).subscribe(H=>{this.states=H,this.cities=[]})})})}getCity(t){let v=t.target.value;console.log("stateID:",v),v&&this.serviceCity.getByState(v).subscribe(H=>{this.cities=H,console.log("COuntry: ",this.countryId),this.destroyMyChartNationalCapacities(),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,v,this.hazardTypeId,1).subscribe(ie=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(ie),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,v,this.hazardTypeId,2).subscribe(Se=>{this.dataChartNationalCapacities.push(Se),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,v,this.hazardTypeId,3).subscribe(Ie=>{this.dataChartNationalCapacities.push(Ie),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,v,this.hazardTypeId,4).subscribe(Ve=>{this.dataChartNationalCapacities.push(Ve),this.getMyChartNationalCapacities()})})})}),this.spinner.show(),this.categories=[],this.serviceCategory.getByCountryStateAndHazardTypeStatus(this.countryId,v,this.hazardTypeId).subscribe({next:ie=>{Object(ie).forEach(Se=>{console.log("Cat item: ",Se),Se.category.nationalCapacityChecklists.length>0&&this.categories.push(Se)})},complete:()=>{this.spinner.hide()},error:()=>{this.spinner.hide()}})})}getSession(){let t=JSON.parse(this.serviceStorage.get("session"));this.userId=t.id,this.roleId=t.role?t.role.id:null,this.stateId=t.state?t.state.id:null}ngOnInit(){this.getSession(),this.clearForm(),this.getCategory(),this.getCountryAssesment(),this.getState(),this.serviceHazardtype.getAll().subscribe(t=>this.CRUDhazardType=t),this.form=this.fb.group({hazardTypeId:["",W.kI.required],nationalCapacityCategoryId:["",W.kI.required],function:[""],comment:[""],action:["",W.kI.required],countryId:null})}onSelectHazardType(t){this.serviceHazardTypeCategory.getByHazardType(t.value).subscribe(v=>{this.CRUDcategory=v})}onImportFile(){this.isImportVisible=1!=this.isImportVisible}get f(){return this.form.controls}submitForm(){this.formsubmitted=!0,!this.form.invalid&&(this.spinner.show(),this.serviceChecklist.create(this.form.value).subscribe({next:()=>{},error:()=>{this.spinner.hide(),this.toastr.error("Failed to save!","Error")},complete:()=>{this.spinner.hide(),this.toastr.success("Data saved successfully!","Success"),this.onUpdateResultChecklist(),this.getCategory()}}),this.formsubmitted=!1,this.form.reset({hazardTypeId:"",nationalCapacityCategoryId:"",comment:"",function:"",countryId:this.countryId}))}importVisible(){}clearForm(){this.assesment={isSubmitted:!1}}findAssesment(t){this.serviceAssesment.find(t).subscribe({next:v=>{this.assesment=v,setTimeout(()=>{3==this.roleId?this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,1).subscribe(H=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(H),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,2).subscribe(ie=>{this.dataChartNationalCapacities.push(ie),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,3).subscribe(Se=>{this.dataChartNationalCapacities.push(Se),this.serviceChecklist.getChartByCountryStateAndHazardType(this.countryId,this.stateId,this.hazardTypeId,4).subscribe(Ie=>{this.dataChartNationalCapacities.push(Ie),this.getMyChartNationalCapacities()})})})}):this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(H=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(H),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(ie=>{this.dataChartNationalCapacities.push(ie),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(Se=>{this.dataChartNationalCapacities.push(Se),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(Ie=>{this.dataChartNationalCapacities.push(Ie),this.getMyChartNationalCapacities()})})})})},2e3),this.getesparChart()},error:v=>{}})}onFilter(t){this.select=t.target.value,this.spinner.show(),this.categories=[],0==this.select?setTimeout(()=>{this.getCategory(),this.spinner.hide()},250):this.activatedRoute.queryParams.subscribe(v=>{v.hazard_type&&v.country?(console.log("params.hazard_type: ",v.hazard_type),console.log("params.country: ",v.country),this.serviceCategory.getByStatus(v.hazard_type,this.select).subscribe(H=>{console.log("Items res: ",H),setTimeout(()=>{Object(H).forEach(ie=>{console.log("Items category: ",ie),ie.category.nationalCapacityChecklists.length>0&&this.categories.push(ie),this.spinner.hide()})},250)}),console.log("this.categories: ",this.categories),this.hazardTypeId=v.hazard_type):(this.categories=[],this.hazardTypeId=null)})}getCategory(){this.categories=[],this.activatedRoute.queryParams.subscribe(t=>{t.hazard_type&&t.country?(this.spinner.show(),this.serviceCountry.getByCode(t.country).subscribe(v=>{this.countryId=v.id,3==this.roleId?this.serviceCategory.getByCountryStateAndHazardType(v.id,this.stateId,t.hazard_type).subscribe({next:H=>{Object(H).forEach(ie=>{ie.category.nationalCapacityChecklists.length>0&&this.categories.push(ie)})},complete:()=>{this.spinner.hide()},error:()=>{this.spinner.hide()}}):this.serviceCategory.getByCountryAndHazardTypePercent(v.id,t.hazard_type).subscribe({next:H=>{Object(H).forEach(ie=>{ie.category.nationalCapacityChecklists.length>0&&this.categories.push(ie)})},complete:()=>{this.spinner.hide()},error:()=>{this.spinner.hide()}}),this.hazardTypeId=t.hazard_type})):(this.categories=[],this.hazardTypeId=null)})}getMyChartNationalCapacities(){const t=document.getElementById("chartNationalCapacities");this.chartNationalCapacities=new nt.kL(t,{type:"bar",data:{labels:["Completed","Not Ready","In Progress","Not Applicable"],datasets:[{data:this.dataChartNationalCapacities,backgroundColor:["rgb(172, 211, 89)","rgb(247, 157, 116)","rgb(248, 198, 108)","rgb(197, 111, 180)"]}]},options:{indexAxis:"y",responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{borderDash:[3]}},y:{grid:{display:!1}}}}})}destroyMyChartNationalCapacities(){this.chartNationalCapacities&&this.chartNationalCapacities.destroy()}getMyChart0(){const t=document.getElementById("myChart0");this.chart0=new nt.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart0,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart0(){this.chart0&&this.chart0.destroy()}getMyChart1(){const t=document.getElementById("myChart1");this.chart1=new nt.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart1,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart1(){this.chart1&&this.chart1.destroy()}getMyChart2(){const t=document.getElementById("myChart2");this.chart2=new nt.kL(t,{type:"doughnut",data:{labels:["Dark","Light"],datasets:[{label:"Progress",data:this.dataChart2,backgroundColor:["#024664","#D7F0FB"]}]},options:{plugins:{legend:{display:!1}}}})}destroyMyChart2(){this.chart2&&this.chart2.destroy()}getMyChartScoreCapacity(){const t=document.getElementById("chartScoreCapacity");this.chartScoreCapacity=new nt.kL(t,{type:"bar",data:{labels:["1","2","3","4","5","6","7","8","9","10","11","12"],datasets:[{data:this.dataChartScoreCapacityBar,backgroundColor:"#024664",order:1},{type:"line",data:this.dataChartScoreCapacityLine,backgroundColor:"rgb(15, 198, 194)",borderColor:"rgb(15, 198, 194)",order:0,pointStyle:"circle",pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{grid:{borderDash:[3]}}}}})}destroyMyChartScoreCapacity(){this.chartScoreCapacity&&this.chartScoreCapacity.destroy()}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}onReset(){this.files=[]}scroll(t){var ie=t.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:ie,behavior:"smooth"})}onUploadAll(){console.log("In upload ALL"),this.progressStyle="0%",setTimeout(()=>{this.progressStyle="20%",setTimeout(()=>{this.progressStyle="75%",setTimeout(()=>{this.progressStyle="100%",setTimeout(()=>{console.log("In upload IRNAdoc"),this.uploadIRNAdoc=!0,this.isImportVisible=!1,this.showSectionIRNA=!0},1e3)},2e3)},1e3)},1e3)}onResultSearch(){this.showSection2=!0,this.isButtonVisible1=!1}getesparChart(){setTimeout(()=>{this.dataChart0=[63,37],this.dataChart1=[49,51],this.dataChart2=[64,36],this.dataChartScoreCapacityBar=[500,520,750,470,580,420,600,590,620,400,600,580],this.dataChartScoreCapacityLine=[100,410,300,780,250,300,900,450,790,200,800,600],this.getMyChart0(),this.getMyChart1(),this.getMyChart2(),this.getMyChartScoreCapacity()},2e3)}onResultChecklist(){this.categories.length>0&&(this.serviceAssesment.UpdateIsSubmitted(this.hazardTypeId,{isSubmitted:!0}).subscribe(),this.showSection3=!0,this.isButtonVisible2=!1,setTimeout(()=>{this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(v=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(v),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(H=>{this.dataChartNationalCapacities.push(H),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(ie=>{this.dataChartNationalCapacities.push(ie),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(Se=>{this.dataChartNationalCapacities.push(Se),this.getMyChartNationalCapacities()})})})})},2e3),this.getesparChart())}onUpdateResultChecklist(){this.destroyMyChartNationalCapacities(),setTimeout(()=>{this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,1).subscribe(t=>{this.dataChartNationalCapacities=[],this.dataChartNationalCapacities.push(t),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,2).subscribe(v=>{this.dataChartNationalCapacities.push(v),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,3).subscribe(H=>{this.dataChartNationalCapacities.push(H),this.serviceChecklist.getChartByCountryAndHazardType(this.countryId,this.hazardTypeId,4).subscribe(ie=>{this.dataChartNationalCapacities.push(ie),this.getMyChartNationalCapacities()})})})})},2e3)}updateStatus(t,v){let H=JSON.parse(this.serviceStorage.get("session"));this.serviceChecklistState.updateStatus({checklistId:t,status:v.value,userId:H.id,countryId:this.countryId,stateId:H.state.id,hazardTypeId:this.hazardTypeId}).subscribe()}updateFunction(t,v){let H=JSON.parse(this.serviceStorage.get("session")),ie={checklistId:t,function:v.value,userId:H.id,countryId:this.countryId,stateId:H.state.id,hazardTypeId:this.hazardTypeId};console.log("Function Data: ",ie),this.serviceChecklistState.updateFunction(ie).subscribe()}updateComment(t,v){let H=JSON.parse(this.serviceStorage.get("session")),ie={checklistId:t,comment:v.value,userId:H.id,countryId:this.countryId,stateId:H.state.id,hazardTypeId:this.hazardTypeId};console.log("Comment Data: ",ie),this.serviceChecklistState.updateComment(ie).subscribe()}getStateOfChecklist(t,v){this.stateOfChecklist=[],this.serviceChecklistState.getStateOfChecklist(this.countryId,this.hazardTypeId,t,v).subscribe(H=>{this.stateOfChecklist=H})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(fe.gz),e.Y36(kn),e.Y36(Mn.k),e.Y36(In.D),e.Y36(a.T),e.Y36(p.$),e.Y36(V.t2),e.Y36(W.qu),e.Y36(ae._W),e.Y36(On.m),e.Y36(Ln),e.Y36(Fn.Z),e.Y36(Rn.l),e.Y36(Zn.b),e.Y36(Dn.Z),e.Y36(Bt.V),e.Y36(Nn))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-nationalcapacities"]],decls:79,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","mb-4","border-0"],["Result",""],[1,"card-body","px-5"],[1,"my-3","border","border-5","border-top-0","border-end-0","border-bottom-0","ps-2","border-primary","mb-4",2,"color","#00205C"],[1,"row","row-cols-lg-auto","g-2","justify-content-end","mb-4"],[1,"form-select","fs-12",2,"width","200px",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","text-white","border-0","fs-12",3,"click"],[1,"bi","bi-plus","pe-2"],[1,"card","mb-4","shadow-sm"],[1,"card-body","px-4"],[1,"py-2"],["class","col-4",4,"ngFor","ngForOf"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"accordion","mb-4","shadow-sm"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne",1,"accordion-button","collapsed","lh-1","fs-14"],[1,"badge","bg-info","me-2"],["id","collapseOne",1,"accordion-collapse","collapse"],[1,"accordion-body","p-4","fs-12"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","hazardTypeId",1,"form-select","fs-14",3,"ngClass","change"],["value","","selected",""],["class","invalid-feedback",4,"ngIf"],["formControlName","nationalCapacityCategoryId",1,"form-select","fs-14",3,"ngClass"],["formControlName","function",1,"form-control","fs-14"],["formControlName","comment",1,"form-control","fs-14"],["formControlName","action",1,"form-control","fs-14",3,"ngClass"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px"],["class","card mb-4 border-0",4,"ngIf"],["Checklist",""],[3,"value"],[1,"col-4"],[1,"card","mb-3",3,"click"],[1,"card-body","py-4",2,"background-color","#fbfbfb"],[1,"col-3","text-center","position-relative"],[1,"bi-file-earmark-text","fs-4","position-absolute","top-50","translate-middle-y"],[1,"col-9"],[1,"fs-14"],["href","javascript:void(0)",1,"stretched-link","text-decoration-none","text-dark"],[1,"fs-14","text-secondary"],[1,"card-body"],[1,"row","py-2"],[1,"col-md-3","px-3"],["ngx-dropzone","","accept","application/pdf",1,"position-relative","custom-dropzone","border-upload",3,"change"],[1,"position-absolute","top-50","start-50","translate-middle","text-center"],[1,"fs-12"],["xmlns","http://www.w3.org/2000/svg","width","35","height","35","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-download"],["d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"],["d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"],[1,"col-md-9"],[1,"table-responsive","mb-4"],[1,"table"],[4,"ngFor","ngForOf"],[1,"progress","mb-4"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["type","button",1,"btn","btn-upload","btn-action",3,"click"],[1,"bi","bi-upload","pe-2"],["type","button",1,"btn","btn-outline-warning","btn-action"],[1,"bi","bi-x-lg","pe-2"],["type","button",1,"btn","btn-outline-danger","btn-action",3,"click"],[1,"bi","bi-trash3","pe-2"],[1,"align-middle"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["selected",""],["value","1"],["value","2"],["value","3"],["type","button",1,"btn","btn-outline-danger","btn-td",3,"click"],[1,"bi","bi-trash3"],[1,"invalid-feedback"],[4,"ngIf"],[1,"card-body","px-0","pb-0"],[1,"my-4","mx-5"],[1,"d-flex","justify-content-center"],[1,"col-6"],[2,"width","100%","height","900px",3,"src","original-size","zoom"],["id","mapPointOfEntry"],[1,"my-4"],[1,"card","mb-4","shadow-sm","pb-4"],["id","chartNationalCapacities","height","80"],[1,"row","fs-12"],[1,"card","mb-3"],[1,"card-body","p-0"],[1,"table","mb-0"],[1,"text-white",2,"background-color","#024664"],[1,"pagination"],[1,"page-item"],["href","#","aria-label","Previous",1,"page-link","text-dark","border-0"],["aria-hidden","true"],[1,"bi","bi-chevron-left"],[1,"page-item","active"],["href","#",1,"page-link","text-dark","border-0"],["href","#","aria-label","Next",1,"page-link","text-dark","border-0"],[1,"bi","bi-chevron-right"],[1,"d-flex","justify-content-end","mb-4"],[1,"border","rounded",2,"border","1px solid #024664","font-size","12px"],[1,"bi","bi-funnel","ps-2"],[1,"select-filter","p-2",3,"change"],["value","0","selected",""],["value","4"],["class","accordion mb-3 shadow-sm",4,"ngFor","ngForOf"],["id","modalStateOfChecklist","tabindex","-1","aria-labelledby","modalStateOfChecklistLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalStateOfChecklistLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["class","table",4,"ngIf"],[1,"accordion","mb-3","shadow-sm"],["type","button","data-bs-toggle","collapse",1,"accordion-button","lh-1","fs-14"],[1,"accordion-collapse","collapse","show",3,"id"],[1,"card"],["width","220px","rowspan","2",1,"align-middle"],["rowspan","2",1,"align-middle"],["colspan","4",1,"text-center"],["width","85px",1,"text-center"],["class","text-editable",3,"change",4,"ngIf"],[1,"text-center"],["class","text-end",4,"ngIf"],[1,"text-editable",3,"change"],["type","radio","value","1",1,"form-check-input",3,"name","checked","click"],[1,"text-end"],["href","#","data-bs-toggle","modal","data-bs-target","#modalStateOfChecklist",1,"ms-1","text-primary",3,"click"],[1,"bi-info-circle"],["type","radio","value","2",1,"form-check-input",3,"name","checked","click"],["type","radio","value","3",1,"form-check-input",3,"name","checked","click"],["type","radio","value","4",1,"form-check-input",3,"name","checked","click"],[1,"card-body","p-5","fs-12"],[1,"card","my-3"],["rowspan","2",1,"text-center","align-middle"],[1,"text-center","align-middle","bg-red"],["href","#",1,"btn","btn-outline-primary","btn-sm"],[1,"bi-box-arrow-up-right"],[1,"text-center","align-middle"],[1,"text-center","align-middle","bg-yellow"],["rowspan","4",1,"text-center","align-middle"],["rowspan","4",1,"align-middle"],["rowspan","3",1,"text-center","align-middle"],["rowspan","3",1,"align-middle"],[1,"text-center","align-middle","bg-green"],[1,"card","mb-4",2,"border","none"],[1,"card-body","px-0"],[1,"col-5"],[1,"card-body","p-3","text-center",2,"background-color","#9E9E9E","border","none"],[2,"width","100%","height","640px",3,"src","render-text","original-size","zoom"],[1,"col-7"],[1,"pe-2"],["width","60px",1,"text-center"],["width","160px"],["rowspan","2",1,"text-center"],["rowspan","2"],["rowspan","4",1,"text-center"],["rowspan","4"],["class","d-flex justify-content-end",4,"ngIf"],["type","button",1,"btn",2,"background-color","#058FCB","color","white","border","none","font-size","12px",3,"click"],[1,"bi","bi-save","pe-2"],[1,"card-body","p-0","fs-12"],[1,"col-md-6","mb-4"],[1,"card-body","p-4"],[1,"fw-bold","fs-6","mb-3"],[1,"lh-sm","mb-3"],[1,"mb-2"],[1,"fw-bold"],[1,"border-0","ps-0","py-1","align-middle"],[1,"px-0"],[1,"progress","bg-blue-light",2,"height","5px"],["role","progressbar","aria-valuenow","30","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","30%"],["width","35px",1,"border-0","py-1","align-middle","text-end"],["role","progressbar","aria-valuenow","40","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","40%"],["role","progressbar","aria-valuenow","47","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-blue-dark",2,"width","47%"],[1,"card",2,"height","100%"],[1,"fw-bold","fs-6","mb-4"],[1,"border-bottom","py-2"],[1,"col-10"],[1,"col-2","text-end"],[1,"col-md-12"],[1,"card","mb-4"],[1,"col-md-12","text-center","lh-sm","fw-bold","mb-4"],[1,"col-md-4","px-5","text-center","mb-4"],["id","myChart0"],["id","myChart1"],["id","myChart2"],[1,"mt-3"],[1,"col-12","text-center","lh-sm","fw-bold","mb-4"],["id","chartScoreCapacity","height","80"]],template:function(t,v){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4)(5,"div",5)(6,"h4",6),e._uU(7,"National Capacities"),e.qZA(),e.TgZ(8,"form",7)(9,"div",2)(10,"select",8),e.NdJ("change",function(ie){return v.getCity(ie)}),e.TgZ(11,"option",9),e._uU(12,"Choose State"),e.qZA(),e.YNc(13,pi,2,2,"option",10),e.qZA()(),e.TgZ(14,"div",2)(15,"button",11),e.NdJ("click",function(){return v.onImportFile()}),e._UZ(16,"i",12),e._uU(17,"Import File"),e.qZA()()(),e.TgZ(18,"div",13)(19,"div",14)(20,"h6",15),e._uU(21,"National Capacities Assesment"),e.qZA(),e.TgZ(22,"div",1),e.YNc(23,fi,12,2,"div",16),e.qZA()()(),e.YNc(24,_i,45,4,"div",17),e.TgZ(25,"div",18)(26,"div",19)(27,"h2",20)(28,"button",21),e._UZ(29,"span",22),e._uU(30," Add Readiness Checklist "),e.qZA()(),e.TgZ(31,"div",23)(32,"div",24)(33,"form",25),e.NdJ("ngSubmit",function(){return v.submitForm()}),e.TgZ(34,"div",26)(35,"label",27),e._uU(36,"Hazard Type"),e.qZA(),e.TgZ(37,"div",28)(38,"select",29),e.NdJ("change",function(ie){return v.onSelectHazardType(ie.target)}),e.TgZ(39,"option",30),e._uU(40,"Choose Hazard Type"),e.qZA(),e.YNc(41,mi,2,2,"option",10),e.qZA(),e.YNc(42,vi,2,1,"div",31),e.qZA()(),e.TgZ(43,"div",26)(44,"label",27),e._uU(45,"Category"),e.qZA(),e.TgZ(46,"div",28)(47,"select",32)(48,"option",30),e._uU(49,"Choose Category"),e.qZA(),e.YNc(50,Ai,2,2,"option",10),e.qZA(),e.YNc(51,Ci,2,1,"div",31),e.qZA()(),e.TgZ(52,"div",26)(53,"label",27),e._uU(54,"Data Source"),e.qZA(),e.TgZ(55,"div",28),e._UZ(56,"textarea",33),e.qZA()(),e.TgZ(57,"div",26)(58,"label",27),e._uU(59,"Comment"),e.qZA(),e.TgZ(60,"div",28),e._UZ(61,"textarea",34),e.qZA()(),e.TgZ(62,"div",26)(63,"label",27),e._uU(64,"Checklist"),e.qZA(),e.TgZ(65,"div",28),e._UZ(66,"textarea",35),e.YNc(67,Ti,2,1,"div",31),e.qZA()(),e.TgZ(68,"div",36)(69,"button",37),e._uU(70,"Submit"),e.qZA()()()()()()()()(),e.YNc(71,Si,9,3,"div",38),e.YNc(72,Pi,5,0,"div",38),e.YNc(73,wi,97,0,"div",38),e._UZ(74,"div",null,39),e.YNc(76,Vi,29,3,"div",38),e.YNc(77,Hi,394,5,"div",38),e.YNc(78,Wi,125,0,"div",38),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("ngForOf",v.states),e.xp6(10),e.Q6J("ngForOf",v.countryAssesments),e.xp6(1),e.Q6J("ngIf",1==v.isImportVisible),e.xp6(9),e.Q6J("formGroup",v.form),e.xp6(5),e.Q6J("ngClass",e.VKq(18,St,v.formsubmitted&&v.f.hazardTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",v.CRUDhazardType),e.xp6(1),e.Q6J("ngIf",v.formsubmitted&&v.f.hazardTypeId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(20,St,v.formsubmitted&&v.f.nationalCapacityCategoryId.errors)),e.xp6(3),e.Q6J("ngForOf",v.CRUDcategory),e.xp6(1),e.Q6J("ngIf",v.formsubmitted&&v.f.nationalCapacityCategoryId.errors),e.xp6(15),e.Q6J("ngClass",e.VKq(22,St,v.formsubmitted&&v.f.action.errors)),e.xp6(1),e.Q6J("ngIf",v.formsubmitted&&v.f.action.errors),e.xp6(4),e.Q6J("ngIf",v.showSectionIRNA),e.xp6(1),e.Q6J("ngIf",v.showSection4),e.xp6(1),e.Q6J("ngIf",1==v.assesment.isSubmitted||v.showSection3),e.xp6(3),e.Q6J("ngIf",1==v.assesment.isSubmitted||v.showSection2),e.xp6(1),e.Q6J("ngIf",1==v.assesment.isSubmitted||v.showSection1),e.xp6(1),e.Q6J("ngIf",v.showSection3||v.showSectionEspar))},dependencies:[_.mk,_.sg,_.O5,_.PC,k._f,W._Y,W.YN,W.Kr,W.Fj,W.EJ,W.JJ,W.JL,W.sg,W.u,W.F,ui],styles:["thead[_ngcontent-%COMP%]{background:#024664}th[_ngcontent-%COMP%]{font-weight:550;font-size:12px;line-height:20px;padding-top:15px;padding-bottom:15px;color:#fff}td[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;font-weight:400;font-size:11px;line-height:17px}.select-filter[_ngcontent-%COMP%]{border:none;-moz-appearance:none}.btn-td[_ngcontent-%COMP%]{font-size:11px}.btn-action[_ngcontent-%COMP%]{font-size:12px;margin-bottom:10px;margin-right:10px}.btn-upload[_ngcontent-%COMP%], .btn-upload[_ngcontent-%COMP%]:hover, .btn-upload[_ngcontent-%COMP%]:focus{background-color:#9747ff;border-color:#9747ff;color:#fff}.border-upload[_ngcontent-%COMP%]{border-style:dashed;border-width:2px;border-color:#9747ff;background:#F8F7FE;color:#9747ff}ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{height:240px}.text-editable[_ngcontent-%COMP%]{width:100%;border:none}.text-editable[_ngcontent-%COMP%]:focus{outline:none!important}#mapPointOfEntry[_ngcontent-%COMP%]{width:100%;height:450px}"]}),h})();function Yi(h,q){if(1&h&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ji(h,q){if(1&h&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&h){const t=q.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}const Qi=function(){return["/import/hazard-mapping"]},ht=function(h,q){return{hazard_type:h,country:q}},$i=function(){return{exact:!0}},Xi=function(){return["/import/national-capacities"]},Ki=function(){return["/import/action-plan"]},er=function(){return["/import/donor-and-partner"]},tr=function(){return["/import/strategic-policies"]},nr=[{path:"",component:(()=>{class h{constructor(t,v,H,ie,Se){this.router=t,this.activatedRoute=v,this.serviceCountry=H,this.serviceHazardType=ie,this.serviceStorage=Se,this.filterHazardType="",this.filterCountry="",this.storage=[],this.activatedRoute.queryParams.subscribe(Ie=>{Ie.hazard_type&&(this.filterHazardType=Ie.hazard_type),Ie.country&&(this.filterCountry=Ie.country)})}ngOnInit(){this.serviceHazardType.getAll().subscribe(t=>{this.hazardTypes=t}),this.getLocalstorage()}getLocalstorage(){this.storage=this.serviceStorage.get("session");let t=JSON.parse(this.storage);this.roleId=t.role.id,1==this.roleId?this.serviceCountry.getAll().subscribe(v=>{v.sort(function(Se,Ie){return Se.id-Ie.id});let H=[],ie=[];for(let Se=0;Se<v.length;Se++)(0==Se||1==Se)&&H.push(v[Se]),(3==Se||4==Se||2==Se)&&ie.push(v[Se]);this.countries=H}):this.serviceCountry.find(t.country.id).subscribe(v=>{this.countries=[v]})}selectHazardType(t){this.router.navigate([this.router.url.split("?")[0]],{queryParams:{hazard_type:t.value,country:this.filterCountry}}),this.filterHazardType=t.value}selectCountry(t){console.log("Router : ",this.router.url),console.log("Router URL: ",this.router.url.split("?")[0]),this.router.navigate([this.router.url.split("?")[0]],{queryParams:{hazard_type:this.filterHazardType,country:t.value},queryParamsHandling:"merge"}),this.filterCountry=t.value}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(fe.F0),e.Y36(fe.gz),e.Y36(a.T),e.Y36(p.$),e.Y36(Bt.V))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-import"]],decls:32,vars:36,consts:[[1,"container-fluid","mb-4","sticky-sm-top","sticky-nav",2,"background-color","#fff"],[1,"container","p-3"],[1,"row"],[1,"col-md-8","text-center","text-md-start"],[1,"d-inline-flex","bd-highlight"],[1,"nav","nav-pills","flex-column","flex-sm-row","rounded","nav-import-bg"],["aria-current","page","routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import",3,"routerLink","queryParams","routerLinkActiveOptions"],["routerLinkActive","active",1,"flex-sm-fill","text-sm-center","nav-link","nav-import",3,"routerLink","queryParams"],[1,"col-md-4","text-center","text-md-end"],[1,"nav"],[1,"nav-item","px-3","py-3","border","rounded-start"],[1,"bi","bi-justify","text-primary"],[3,"ngModel","ngModelChange","change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"nav-item","px-3","py-3","border","rounded-end"],[1,"bi","bi-globe","text-primary"],[3,"value"]],template:function(t,v){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"a",6),e._uU(7,"Hazard Mapping"),e.qZA(),e.TgZ(8,"a",7),e._uU(9,"National Capacities"),e.qZA(),e.TgZ(10,"a",7),e._uU(11,"Action Plan"),e.qZA(),e.TgZ(12,"a",7),e._uU(13,"Donor and Partner"),e.qZA(),e.TgZ(14,"a",7),e._uU(15,"Strategic Policies"),e.qZA()()()(),e.TgZ(16,"div",8)(17,"div",4)(18,"ul",9)(19,"li",10),e._UZ(20,"i",11),e.TgZ(21,"select",12),e.NdJ("ngModelChange",function(ie){return v.filterHazardType=ie})("change",function(ie){return v.selectHazardType(ie.target)}),e.TgZ(22,"option",13),e._uU(23,"Hazard Type"),e.qZA(),e.YNc(24,Yi,2,2,"option",14),e.qZA()(),e.TgZ(25,"li",15),e._UZ(26,"i",16),e.TgZ(27,"select",12),e.NdJ("ngModelChange",function(ie){return v.filterCountry=ie})("change",function(ie){return v.selectCountry(ie.target)}),e.TgZ(28,"option",13),e._uU(29,"Country"),e.qZA(),e.YNc(30,Ji,2,2,"option",14),e.qZA()()()()()()()(),e._UZ(31,"router-outlet")),2&t&&(e.xp6(6),e.Q6J("routerLink",e.DdM(15,Qi))("queryParams",e.WLB(16,ht,v.filterHazardType,v.filterCountry))("routerLinkActiveOptions",e.DdM(19,$i)),e.xp6(2),e.Q6J("routerLink",e.DdM(20,Xi))("queryParams",e.WLB(21,ht,v.filterHazardType,v.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(24,Ki))("queryParams",e.WLB(25,ht,v.filterHazardType,v.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(28,er))("queryParams",e.WLB(29,ht,v.filterHazardType,v.filterCountry)),e.xp6(2),e.Q6J("routerLink",e.DdM(32,tr))("queryParams",e.WLB(33,ht,v.filterHazardType,v.filterCountry)),e.xp6(7),e.Q6J("ngModel",v.filterHazardType),e.xp6(3),e.Q6J("ngForOf",v.hazardTypes),e.xp6(3),e.Q6J("ngModel",v.filterCountry),e.xp6(3),e.Q6J("ngForOf",v.countries))},dependencies:[_.sg,fe.lC,fe.yS,fe.Od,W.YN,W.Kr,W.EJ,W.JJ,W.On],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background-color:#058fcb}.nav-import-bg[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:10px}.nav-import[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:19px;color:#9e9e9e;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;gap:10px}.sticky-nav[_ngcontent-%COMP%]{top:66px;z-index:1001}select[_ngcontent-%COMP%]{border:none;width:9em;padding-left:5px;color:#024664}.borderlist[_ngcontent-%COMP%]{list-style-position:inside;border:1px solid black}"]}),h})(),children:[{path:"hazard-mapping",loadChildren:()=>Promise.all([ee.e(592),ee.e(975)]).then(ee.bind(ee,975)).then(h=>h.HazardmappingModule)},{path:"action-plan",component:mn},{path:"donor-and-partner",component:Cn},{path:"strategic-policies",component:En},{path:"national-capacities",component:Gi},{path:"",redirectTo:"hazard-mapping",pathMatch:"full"},{path:"**",redirectTo:"hazard-mapping",pathMatch:"full"}]}];let ir=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[fe.Bz.forChild(nr),fe.Bz]}),h})(),rr=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[_.ez,ir,k.bB,W.UX,W.u5,hi]}),h})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,ee;ee=()=>(()=>{"use strict";var __webpack_modules__=[,(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.VerbosityLevel=F.Util=F.UnknownErrorException=F.UnexpectedResponseException=F.UNSUPPORTED_FEATURES=F.TextRenderingMode=F.StreamType=F.RenderingIntentFlag=F.PermissionFlag=F.PasswordResponses=F.PasswordException=F.PageActionEventType=F.OPS=F.MissingPDFException=F.InvalidPDFException=F.ImageKind=F.IDENTITY_MATRIX=F.FormatError=F.FontType=F.FeatureTest=F.FONT_IDENTITY_MATRIX=F.DocumentActionEventType=F.CMapCompressionType=F.BaseException=F.AnnotationType=F.AnnotationStateModelType=F.AnnotationReviewState=F.AnnotationReplyType=F.AnnotationMode=F.AnnotationMarkedState=F.AnnotationFlag=F.AnnotationFieldFlag=F.AnnotationBorderStyleType=F.AnnotationActionEventType=F.AbortException=void 0,F.arrayByteLength=X,F.arraysToBytes=function $(ce){const U=ce.length;if(1===U&&ce[0]instanceof Uint8Array)return ce[0];let z=0;for(let Ae=0;Ae<U;Ae++)z+=X(ce[Ae]);let pe=0;const ge=new Uint8Array(z);for(let Ae=0;Ae<U;Ae++){let Ce=ce[Ae];Ce instanceof Uint8Array||(Ce="string"==typeof Ce?J(Ce):new Uint8Array(Ce));const Oe=Ce.byteLength;ge.set(Ce,pe),pe+=Oe}return ge},F.assert=function Y(ce,U){ce||B(U)},F.bytesToString=function M(ce){("object"!=typeof ce||null===ce||void 0===ce.length)&&B("Invalid argument for bytesToString");const U=ce.length,z=8192;if(U<z)return String.fromCharCode.apply(null,ce);const pe=[];for(let ge=0;ge<U;ge+=z){const Ae=Math.min(ge+z,U),Ce=ce.subarray(ge,Ae);pe.push(String.fromCharCode.apply(null,Ce))}return pe.join("")},F.createPromiseCapability=function Ze(){const ce=Object.create(null);let U=!1;return Object.defineProperty(ce,"settled",{get:()=>U}),ce.promise=new Promise(function(z,pe){ce.resolve=function(ge){U=!0,z(ge)},ce.reject=function(ge){U=!0,pe(ge)}}),ce},F.createValidAbsoluteUrl=function re(ce,U=null,z=null){if(!ce)return null;try{if(z&&"string"==typeof ce){if(z.addDefaultProtocol&&ce.startsWith("www.")){const ge=ce.match(/\./g);ge&&ge.length>=2&&(ce=`http://${ce}`)}if(z.tryConvertEncoding)try{ce=me(ce)}catch{}}const pe=U?new URL(ce,U):new URL(ce);if(function K(ce){if(!ce)return!1;switch(ce.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(pe))return pe}catch{}return null},F.escapeString=function ne(ce){return ce.replace(/([()\\\n\r])/g,U=>"\n"===U?"\\n":"\r"===U?"\\r":`\\${U}`)},F.getModificationDate=function Le(ce=new Date){return[ce.getUTCFullYear().toString(),(ce.getUTCMonth()+1).toString().padStart(2,"0"),ce.getUTCDate().toString().padStart(2,"0"),ce.getUTCHours().toString().padStart(2,"0"),ce.getUTCMinutes().toString().padStart(2,"0"),ce.getUTCSeconds().toString().padStart(2,"0")].join("")},F.getVerbosityLevel=function G(){return N},F.info=function R(ce){N>=x.INFOS&&console.log(`Info: ${ce}`)},F.isArrayBuffer=function xe(ce){return"object"==typeof ce&&null!==ce&&void 0!==ce.byteLength},F.isArrayEqual=function Me(ce,U){if(ce.length!==U.length)return!1;for(let z=0,pe=ce.length;z<pe;z++)if(ce[z]!==U[z])return!1;return!0},F.isAscii=function ye(ce){return/^[\x00-\x7F]*$/.test(ce)},F.objectFromMap=function de(ce){const U=Object.create(null);for(const[z,pe]of ce)U[z]=pe;return U},F.objectSize=function se(ce){return Object.keys(ce).length},F.setVerbosityLevel=function O(ce){Number.isInteger(ce)&&(N=ce)},F.shadow=le,F.string32=function te(ce){return String.fromCharCode(ce>>24&255,ce>>16&255,ce>>8&255,255&ce)},F.stringToBytes=J,F.stringToPDFString=function j(ce){if(ce[0]>="\xef"){let z;if("\xfe"===ce[0]&&"\xff"===ce[1]?z="utf-16be":"\xff"===ce[0]&&"\xfe"===ce[1]?z="utf-16le":"\xef"===ce[0]&&"\xbb"===ce[1]&&"\xbf"===ce[2]&&(z="utf-8"),z)try{const pe=new TextDecoder(z,{fatal:!0}),ge=J(ce);return pe.decode(ge)}catch(pe){Q(`stringToPDFString: "${pe}".`)}}const U=[];for(let z=0,pe=ce.length;z<pe;z++){const ge=S[ce.charCodeAt(z)];U.push(ge?String.fromCharCode(ge):ce.charAt(z))}return U.join("")},F.stringToUTF16BEString=function ve(ce){const U=["\xfe\xff"];for(let z=0,pe=ce.length;z<pe;z++){const ge=ce.charCodeAt(z);U.push(String.fromCharCode(ge>>8&255),String.fromCharCode(255&ge))}return U.join("")},F.stringToUTF8String=me,F.unreachable=B,F.utf8StringToString=function Te(ce){return unescape(encodeURIComponent(ce))},F.warn=Q,ee(2),F.IDENTITY_MATRIX=[1,0,0,1,0,0],F.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],F.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},F.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},F.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},F.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},F.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},F.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},F.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},F.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},F.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},F.AnnotationReplyType={GROUP:"Group",REPLY:"R"},F.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},F.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},F.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},F.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},F.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},F.PageActionEventType={O:"PageOpen",C:"PageClose"},F.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},F.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const x={ERRORS:0,WARNINGS:1,INFOS:5};F.VerbosityLevel=x,F.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},F.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},F.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},F.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let N=x.WARNINGS;function Q(ce){N>=x.WARNINGS&&console.log(`Warning: ${ce}`)}function B(ce){throw new Error(ce)}function le(ce,U,z){return Object.defineProperty(ce,U,{value:z,enumerable:!0,configurable:!0,writable:!1}),z}const I=function(){function U(z,pe){this.constructor===U&&B("Cannot initialize BaseException."),this.message=z,this.name=pe}return U.prototype=new Error,U.constructor=U,U}();function J(ce){"string"!=typeof ce&&B("Invalid argument for stringToBytes");const U=ce.length,z=new Uint8Array(U);for(let pe=0;pe<U;++pe)z[pe]=255&ce.charCodeAt(pe);return z}function X(ce){return void 0!==ce.length?ce.length:void 0!==ce.byteLength?ce.byteLength:void B("Invalid argument for arrayByteLength")}F.BaseException=I,F.PasswordException=class l extends I{constructor(U,z){super(U,"PasswordException"),this.code=z}},F.UnknownErrorException=class d extends I{constructor(U,z){super(U,"UnknownErrorException"),this.details=z}},F.InvalidPDFException=class n extends I{constructor(U){super(U,"InvalidPDFException")}},F.MissingPDFException=class c extends I{constructor(U){super(U,"MissingPDFException")}},F.UnexpectedResponseException=class f extends I{constructor(U,z){super(U,"UnexpectedResponseException"),this.status=z}},F.FormatError=class E extends I{constructor(U){super(U,"FormatError")}},F.AbortException=class P extends I{constructor(U){super(U,"AbortException")}},F.FeatureTest=class oe{static get isLittleEndian(){return le(this,"isLittleEndian",function _e(){const ce=new Uint8Array(4);return ce[0]=1,1===new Uint32Array(ce.buffer,0,1)[0]}())}static get isEvalSupported(){return le(this,"isEvalSupported",function Pe(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const he=[...Array(256).keys()].map(ce=>ce.toString(16).padStart(2,"0"));class ue{static makeHexColor(U,z,pe){return`#${he[U]}${he[z]}${he[pe]}`}static scaleMinMax(U,z){let pe;U[0]?(U[0]<0&&(pe=z[0],z[0]=z[1],z[1]=pe),z[0]*=U[0],z[1]*=U[0],U[3]<0&&(pe=z[2],z[2]=z[3],z[3]=pe),z[2]*=U[3],z[3]*=U[3]):(pe=z[0],z[0]=z[2],z[2]=pe,pe=z[1],z[1]=z[3],z[3]=pe,U[1]<0&&(pe=z[2],z[2]=z[3],z[3]=pe),z[2]*=U[1],z[3]*=U[1],U[2]<0&&(pe=z[0],z[0]=z[1],z[1]=pe),z[0]*=U[2],z[1]*=U[2]),z[0]+=U[4],z[1]+=U[4],z[2]+=U[5],z[3]+=U[5]}static transform(U,z){return[U[0]*z[0]+U[2]*z[1],U[1]*z[0]+U[3]*z[1],U[0]*z[2]+U[2]*z[3],U[1]*z[2]+U[3]*z[3],U[0]*z[4]+U[2]*z[5]+U[4],U[1]*z[4]+U[3]*z[5]+U[5]]}static applyTransform(U,z){return[U[0]*z[0]+U[1]*z[2]+z[4],U[0]*z[1]+U[1]*z[3]+z[5]]}static applyInverseTransform(U,z){const pe=z[0]*z[3]-z[1]*z[2];return[(U[0]*z[3]-U[1]*z[2]+z[2]*z[5]-z[4]*z[3])/pe,(-U[0]*z[1]+U[1]*z[0]+z[4]*z[1]-z[5]*z[0])/pe]}static getAxialAlignedBoundingBox(U,z){const pe=ue.applyTransform(U,z),ge=ue.applyTransform(U.slice(2,4),z),Ae=ue.applyTransform([U[0],U[3]],z),Ce=ue.applyTransform([U[2],U[1]],z);return[Math.min(pe[0],ge[0],Ae[0],Ce[0]),Math.min(pe[1],ge[1],Ae[1],Ce[1]),Math.max(pe[0],ge[0],Ae[0],Ce[0]),Math.max(pe[1],ge[1],Ae[1],Ce[1])]}static inverseTransform(U){const z=U[0]*U[3]-U[1]*U[2];return[U[3]/z,-U[1]/z,-U[2]/z,U[0]/z,(U[2]*U[5]-U[4]*U[3])/z,(U[4]*U[1]-U[5]*U[0])/z]}static apply3dTransform(U,z){return[U[0]*z[0]+U[1]*z[1]+U[2]*z[2],U[3]*z[0]+U[4]*z[1]+U[5]*z[2],U[6]*z[0]+U[7]*z[1]+U[8]*z[2]]}static singularValueDecompose2dScale(U){const z=[U[0],U[2],U[1],U[3]],pe=U[0]*z[0]+U[1]*z[2],Ce=U[2]*z[1]+U[3]*z[3],Oe=(pe+Ce)/2,Fe=Math.sqrt((pe+Ce)**2-4*(pe*Ce-(U[2]*z[0]+U[3]*z[2])*(U[0]*z[1]+U[1]*z[3])))/2,Re=Oe-Fe||1;return[Math.sqrt(Oe+Fe||1),Math.sqrt(Re)]}static normalizeRect(U){const z=U.slice(0);return U[0]>U[2]&&(z[0]=U[2],z[2]=U[0]),U[1]>U[3]&&(z[1]=U[3],z[3]=U[1]),z}static intersect(U,z){const pe=Math.max(Math.min(U[0],U[2]),Math.min(z[0],z[2])),ge=Math.min(Math.max(U[0],U[2]),Math.max(z[0],z[2]));if(pe>ge)return null;const Ae=Math.max(Math.min(U[1],U[3]),Math.min(z[1],z[3])),Ce=Math.min(Math.max(U[1],U[3]),Math.max(z[1],z[3]));return Ae>Ce?null:[pe,Ae,ge,Ce]}static bezierBoundingBox(U,z,pe,ge,Ae,Ce,Oe,Fe){const De=[],Re=[[],[]];let je,qe,Qe,Ne,He,We,Je,Ge;for(let lt=0;lt<2;++lt)if(0===lt?(qe=6*U-12*pe+6*Ae,je=-3*U+9*pe-9*Ae+3*Oe,Qe=3*pe-3*U):(qe=6*z-12*ge+6*Ce,je=-3*z+9*ge-9*Ce+3*Fe,Qe=3*ge-3*z),Math.abs(je)<1e-12){if(Math.abs(qe)<1e-12)continue;Ne=-Qe/qe,0<Ne&&Ne<1&&De.push(Ne)}else Je=qe*qe-4*Qe*je,Ge=Math.sqrt(Je),!(Je<0)&&(He=(-qe+Ge)/(2*je),0<He&&He<1&&De.push(He),We=(-qe-Ge)/(2*je),0<We&&We<1&&De.push(We));let Ye,Xe=De.length;const tt=Xe;for(;Xe--;)Ne=De[Xe],Ye=1-Ne,Re[0][Xe]=Ye*Ye*Ye*U+3*Ye*Ye*Ne*pe+3*Ye*Ne*Ne*Ae+Ne*Ne*Ne*Oe,Re[1][Xe]=Ye*Ye*Ye*z+3*Ye*Ye*Ne*ge+3*Ye*Ne*Ne*Ce+Ne*Ne*Ne*Fe;return Re[0][tt]=U,Re[1][tt]=z,Re[0][tt+1]=Oe,Re[1][tt+1]=Fe,Re[0].length=Re[1].length=tt+2,[Math.min(...Re[0]),Math.min(...Re[1]),Math.max(...Re[0]),Math.max(...Re[1])]}}F.Util=ue;const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function me(ce){return decodeURIComponent(escape(ce))}},(be,F,ee)=>{ee(3)},(be,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.isNodeJS=void 0;const ee=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);F.isNodeJS=ee},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var be,ee,_,fe,W,e,ae,V,Mt,w;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:g,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:A}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=g,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=A}function setPDFNetworkStreamFactory(g){createPDFNetworkStream=g}function getDocument(g){const o=new PDFDocumentLoadingTask;let A;if("string"==typeof g||g instanceof URL)A={url:g};else if((0,_util.isArrayBuffer)(g))A={data:g};else if(g instanceof PDFDataRangeTransport)A={range:g};else{if("object"!=typeof g)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!g.url&&!g.data&&!g.range)throw new Error("Invalid parameter object: need either .data, .range or .url");A=g}const r=Object.create(null);let a=null,p=null;for(const b in A){const m=A[b];switch(b){case"url":if(typeof window<"u")try{r[b]=new URL(m,window.location).href;continue}catch(i){(0,_util.warn)(`Cannot create valid URL: "${i}".`)}else if("string"==typeof m||m instanceof URL){r[b]=m.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":a=m;continue;case"worker":p=m;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&m instanceof Buffer)r[b]=new Uint8Array(m);else{if(m instanceof Uint8Array)break;if("string"==typeof m)r[b]=(0,_util.stringToBytes)(m);else if("object"!=typeof m||null===m||isNaN(m.length)){if(!(0,_util.isArrayBuffer)(m))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[b]=new Uint8Array(m)}else r[b]=new Uint8Array(m)}continue}r[b]=m}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),("object"!=typeof r.ownerDocument||null===r.ownerDocument)&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!p){const b={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};p=b.port?PDFWorker.fromPort(b):new PDFWorker(b),o._worker=p}const k=o.docId;return p.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const b=_fetchDocument(p,r,a,k),m=new Promise(function(i){let s;a?s=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},a):r.data||(s=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),i(s)});return Promise.all([b,m]).then(function([i,s]){if(o.destroyed)throw new Error("Loading aborted");const x=new _message_handler.MessageHandler(k,i,p.port),C=new WorkerTransport(x,o,s,r);o._transport=C,x.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(g,o,A,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(g,o,A,r){if(g.destroyed)throw new Error("Worker was destroyed");A&&(o.length=A.length,o.initialData=A.initialData,o.progressiveDone=A.progressiveDone,o.contentDispositionFilename=A.contentDispositionFilename);const a=yield g.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(g.destroyed)throw new Error("Worker was destroyed");return a})).apply(this,arguments)}const F=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+Wt(F,be)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){o.destroyed=!0,yield o._transport?.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}};let PDFDocumentLoadingTask=F;be=new WeakMap,ke(PDFDocumentLoadingTask,be,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,A,r=!1,a=null){this.length=o,this.initialData=A,this.progressiveDone=r,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,A){for(const r of this._rangeListeners)r(o,A)}onDataProgress(o,A){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(o,A)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const A of this._progressiveReadListeners)A(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,A){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,A){var a,r=this;this._pdfInfo=o,this._transport=A,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(a=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),r.stats||{streamTypes:{},fontTypes:{}}}),function(){return a.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,A,r,a,p=!1){this._pageIndex=o,this._pageInfo=A,this._ownerDocument=a,this._transport=r,this._stats=p?new _display_utils.StatTimer:null,this._pdfBug=p,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:A=this.rotate,offsetX:r=0,offsetY:a=0,dontFlip:p=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:A,offsetX:r,offsetY:a,dontFlip:p})}getAnnotations({intent:o="display"}={}){const A=this._transport.getRenderingIntent(o);let r=this._annotationPromises.get(A.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,A.renderingIntent),this._annotationPromises.set(A.cacheKey,r),r=r.then(a=>{for(const p of a)void 0!==p.titleObj&&Object.defineProperty(p,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),p.titleObj.str)}),void 0!==p.contentsObj&&Object.defineProperty(p,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),p.contentsObj.str)});return a})),r}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){return o._transport._htmlForXfa?.children[o._pageIndex]||null})()}render({canvasContext:o,viewport:A,intent:r="display",annotationMode:a=_util.AnnotationMode.ENABLE,transform:p=null,imageLayer:k=null,canvasFactory:b=null,background:m=null,optionalContentConfigPromise:i=null,annotationCanvasMap:s=null,pageColors:x=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&a===_util.AnnotationMode.ENABLE&&(a=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&a===_util.AnnotationMode.ENABLE&&(a=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const C=this._transport.getRenderingIntent(r,a);this.pendingCleanup=!1,i||(i=this._transport.getOptionalContentConfig());let T=this._intentStates.get(C.cacheKey);T||(T=Object.create(null),this._intentStates.set(C.cacheKey,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const Z=b||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),D=!!(C.renderingIntent&_util.RenderingIntentFlag.PRINT);T.displayReadyCapability||(T.displayReadyCapability=(0,_util.createPromiseCapability)(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(C));const N=R=>{T.renderTasks.delete(O),(this.cleanupAfterRender||D)&&(this.pendingCleanup=!0),this._tryCleanup(),R?(O.capability.reject(R),this._abortOperatorList({intentState:T,reason:R instanceof Error?R:new Error(R)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},O=new InternalRenderTask({callback:N,params:{canvasContext:o,viewport:A,transform:p,imageLayer:k,background:m},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:s,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:Z,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:x});(T.renderTasks||(T.renderTasks=new Set)).add(O);const G=O.task;return Promise.all([T.displayReadyCapability.promise,i]).then(([R,Q])=>{this.pendingCleanup?N():(this._stats&&this._stats.time("Rendering"),O.initializeGraphics({transparency:R,optionalContentConfig:Q}),O.operatorListChanged())}).catch(N),G}getOperatorList({intent:o="display",annotationMode:A=_util.AnnotationMode.ENABLE}={}){const a=this._transport.getRenderingIntent(o,A,!0);let k,p=this._intentStates.get(a.cacheKey);return p||(p=Object.create(null),this._intentStates.set(a.cacheKey,p)),p.opListReadCapability||(k=Object.create(null),k.operatorListChanged=function r(){p.operatorList.lastChunk&&(p.opListReadCapability.resolve(p.operatorList),p.renderTasks.delete(k))},p.opListReadCapability=(0,_util.createPromiseCapability)(),(p.renderTasks||(p.renderTasks=new Set)).add(k),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(a)),p.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:A=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===A},{highWaterMark:100,size:a=>a.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const A=this.streamTextContent(o);return new Promise(function(r,a){const k=A.getReader(),b={items:[],styles:Object.create(null)};!function p(){k.read().then(function({value:m,done:i}){i?r(b):(Object.assign(b.styles,m.styles),b.items.push(...m.items),p())},a)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const A of this._intentStates.values())if(this._abortOperatorList({intentState:A,reason:new Error("Page was destroyed."),force:!0}),!A.opListReadCapability)for(const r of A.renderTasks)o.push(r.completed),r.cancel();this.objs.clear();for(const A of this._bitmaps)A.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:A,operatorList:r}of this._intentStates.values())if(A.size>0||!r.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const A of this._bitmaps)A.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,A){const r=this._intentStates.get(A);!r||(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(o))}_renderPageChunk(o,A){for(let r=0,a=o.length;r<a;r++)A.operatorList.fnArray.push(o.fnArray[r]),A.operatorList.argsArray.push(o.argsArray[r]);A.operatorList.lastChunk=o.lastChunk;for(const r of A.renderTasks)r.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:A}){const a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:A,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),p=this._intentStates.get(A);p.streamReader=a;const k=()=>{a.read().then(({value:b,done:m})=>{m?p.streamReader=null:this._transport.destroyed||(this._renderPageChunk(b,p),k())},b=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const m of p.renderTasks)m.operatorListChanged();this._tryCleanup()}if(p.displayReadyCapability)p.displayReadyCapability.reject(b);else{if(!p.opListReadCapability)throw b;p.opListReadCapability.reject(b)}}})};k()}_abortOperatorList({intentState:o,reason:A,force:r=!1}){if(o.streamReader){if(!r){if(o.renderTasks.size>0)return;if(A instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:A,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(A.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[a,p]of this._intentStates)if(p===o){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,A){const r={data:structuredClone(o,A)};this._deferred.then(()=>{for(const a of this._listeners)a.call(this,r)})}addEventListener(o,A){this._listeners.push(A)}removeEventListener(o,A){const r=this._listeners.indexOf(A);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const g=document?.currentScript?.src;g&&(PDFWorkerUtil.fallbackWorkerSrc=g.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(g,o){let A;try{if(A=new URL(g),!A.origin||"null"===A.origin)return!1}catch{return!1}const r=new URL(o,A);return A.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(g){return URL.createObjectURL(new Blob([`importScripts("${g}");`]))};const _PDFWorker=class{constructor({name:g=null,port:o=null,verbosity:A=(0,_util.getVerbosityLevel)()}={}){if(o&&we(_PDFWorker,ee).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=g,this.destroyed=!1,this.verbosity=A,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return we(_PDFWorker,ee).set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(g){this._port=g,this._messageHandler=new _message_handler.MessageHandler("main","worker",g),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let g=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,g)||(g=PDFWorkerUtil.createCDNWrapper(new URL(g,window.location).href));const o=new Worker(g),A=new _message_handler.MessageHandler("main","worker",o),r=()=>{o.removeEventListener("error",a),A.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=()=>{this._webWorker||r()};o.addEventListener("error",a),A.on("test",k=>{o.removeEventListener("error",a),this.destroyed?r():k?(this._messageHandler=A,this._port=o,this._webWorker=o,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),A.destroy(),o.terminate())}),A.on("ready",k=>{if(o.removeEventListener("error",a),this.destroyed)r();else try{p()}catch{this._setupFakeWorker()}});const p=()=>{const k=new Uint8Array;A.send("test",k,[k.buffer])};return void p()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(g=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const A="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(A+"_worker",A,o);g.setup(r,o);const a=new _message_handler.MessageHandler(A,A+"_worker",o);this._messageHandler=a,this._readyCapability.resolve(),a.send("configure",{verbosity:this.verbosity})}).catch(g=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${g.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),we(_PDFWorker,ee).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(g){if(!g?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return we(this,ee).has(g.port)?we(this,ee).get(g.port):new _PDFWorker(g)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function g(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ee=new WeakMap,ke(PDFWorker,ee,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(o,A,r,a){ke(this,_,null),ke(this,fe,new Map),ke(this,W,new Map),ke(this,e,null),this.messageHandler=o,this.loadingTask=A,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:A.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this._params=a,a.useWorkerFetch||(this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.StandardFontDataFactory=new a.StandardFontDataFactory({baseUrl:a.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return we(this,_)}getRenderingIntent(o,A=_util.AnnotationMode.ENABLE,r=!1){let a=_util.RenderingIntentFlag.DISPLAY,p="";switch(o){case"any":a=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":a=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(A){case _util.AnnotationMode.DISABLE:a+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:a+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:a+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,p=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${A}`)}return r&&(a+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:a,cacheKey:`${a}_${p}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const r of we(this,fe).values())o.push(r._destroy());we(this,fe).clear(),we(this,W).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const A=this.messageHandler.sendWithPromise("Terminate",null);return o.push(A),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ue(this,e,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:A}=this;o.on("GetReader",(r,a)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=p=>{this._lastProgress={loaded:p.loaded,total:p.total}},a.onPull=()=>{this._fullReader.read().then(function({value:p,done:k}){k?a.close():((0,_util.assert)((0,_util.isArrayBuffer)(p),"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(p),1,[p]))}).catch(p=>{a.error(p)})},a.onCancel=p=>{this._fullReader.cancel(p),a.ready.catch(k=>{if(!this.destroyed)throw k})}}),o.on("ReaderHeadersReady",r=>{const a=(0,_util.createPromiseCapability)(),p=this._fullReader;return p.headersReady.then(()=>{(!p.isStreamingSupported||!p.isRangeSupported)&&(this._lastProgress&&A.onProgress?.(this._lastProgress),p.onProgress=k=>{A.onProgress?.({loaded:k.loaded,total:k.total})}),a.resolve({isStreamingSupported:p.isStreamingSupported,isRangeSupported:p.isRangeSupported,contentLength:p.contentLength})},a.reject),a.promise}),o.on("GetRangeReader",(r,a)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const p=this._networkStream.getRangeReader(r.begin,r.end);p?(a.onPull=()=>{p.read().then(function({value:k,done:b}){b?a.close():((0,_util.assert)((0,_util.isArrayBuffer)(k),"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(k),1,[k]))}).catch(k=>{a.error(k)})},a.onCancel=k=>{p.cancel(k),a.ready.catch(b=>{if(!this.destroyed)throw b})}):a.close()}),o.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,A._capability.resolve(new PDFDocumentProxy(r,this))}),o.on("DocException",function(r){let a;switch(r.name){case"PasswordException":a=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":a=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":a=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":a=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":a=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}A._capability.reject(a)}),o.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),A.onPassword){const a=p=>{p instanceof Error?this._passwordCapability.reject(p):this._passwordCapability.resolve({password:p})};try{A.onPassword(a,r.code)}catch(p){this._passwordCapability.reject(p)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),o.on("DataLoaded",r=>{A.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),o.on("StartRenderPage",r=>{this.destroyed||we(this,fe).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),o.on("commonobj",([r,a,p])=>{if(!this.destroyed&&!this.commonObjs.has(r))switch(a){case"Font":const k=this._params;if("error"in p){const i=p.error;(0,_util.warn)(`Error during font loading: ${i}`),this.commonObjs.resolve(r,i);break}let b=null;k.pdfBug&&globalThis.FontInspector?.enabled&&(b={registerFont(i,s){globalThis.FontInspector.fontAdded(i,s)}});const m=new _font_loader.FontFaceObject(p,{isEvalSupported:k.isEvalSupported,disableFontFace:k.disableFontFace,ignoreErrors:k.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:b});this.fontLoader.bind(m).catch(i=>o.sendWithPromise("FontFallback",{id:r})).finally(()=>{!k.fontExtraProperties&&m.data&&(m.data=null),this.commonObjs.resolve(r,m)});break;case"FontPath":case"Image":this.commonObjs.resolve(r,p);break;default:throw new Error(`Got unknown common object type ${a}`)}}),o.on("obj",([r,a,p,k])=>{if(this.destroyed)return;const b=we(this,fe).get(a);if(!b.objs.has(r))switch(p){case"Image":b.objs.resolve(r,k);const m=8e6;if(k){let i;if(k.bitmap){const{bitmap:s,width:x,height:C}=k;i=x*C*4,b._bitmaps.add(s)}else i=k.data?.length||0;i>m&&(b.cleanupAfterRender=!0)}break;case"Pattern":b.objs.resolve(r,k);break;default:throw new Error(`Got unknown object type ${p}`)}}),o.on("DocProgress",r=>{this.destroyed||A.onProgress?.({loaded:r.loaded,total:r.total})}),o.on("DocStats",r=>{this.destroyed||Ue(this,_,Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const A=o-1,r=we(this,W).get(A);if(r)return r;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:A}).then(p=>{if(this.destroyed)throw new Error("Transport destroyed");const k=new PDFPageProxy(A,p,this,this._params.ownerDocument,this._params.pdfBug);return we(this,fe).set(A,k),k});return we(this,W).set(A,a),a}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,A){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:A})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return we(this,e)||Ue(this,e,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>({info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var A=this;return _asyncToGenerator(function*(){if(yield A.messageHandler.sendWithPromise("Cleanup",null),!A.destroyed){for(const r of we(A,fe).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);A.commonObjs.clear(),o||A.fontLoader.clear(),Ue(A,e,null),A._getFieldObjectsPromise=null,A._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}_=new WeakMap,fe=new WeakMap,W=new WeakMap,e=new WeakMap;class PDFObjects{constructor(){ke(this,V),ke(this,ae,Object.create(null))}get(o,A=null){if(A){const a=Ee(this,V,Mt).call(this,o);return a.capability.promise.then(()=>A(a.data)),null}const r=we(this,ae)[o];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${o}.`);return r.data}has(o){return we(this,ae)[o]?.capability.settled||!1}resolve(o,A=null){const r=Ee(this,V,Mt).call(this,o);r.data=A,r.capability.resolve()}clear(){Ue(this,ae,Object.create(null))}}ae=new WeakMap,V=new WeakSet,Mt=function(o){return we(this,ae)[o]||(we(this,ae)[o]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const y=class{constructor({callback:o,params:A,objs:r,commonObjs:a,annotationCanvasMap:p,operatorList:k,pageIndex:b,canvasFactory:m,useRequestAnimationFrame:i=!1,pdfBug:s=!1,pageColors:x=null}){this.callback=o,this.params=A,this.objs=r,this.commonObjs=a,this.annotationCanvasMap=p,this.operatorListIdx=null,this.operatorList=k,this._pageIndex=b,this.canvasFactory=m,this._pdfBug=s,this.pageColors=x,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=A.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:A}){if(this.cancelled)return;if(this._canvas){if(we(y,w).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");we(y,w).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:a,transform:p,imageLayer:k,background:b}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,k,A,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:p,viewport:a,transparency:o,background:b}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&we(y,w).delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&we(y,w).delete(o._canvas),o.callback())))})()}};let InternalRenderTask=y;w=new WeakMap,ke(InternalRenderTask,w,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.StatTimer=F.RenderingCancelledException=F.PixelsPerInch=F.PageViewport=F.PDFDateString=F.DOMStandardFontDataFactory=F.DOMSVGFactory=F.DOMCanvasFactory=F.DOMCMapReaderFactory=void 0,F.deprecated=function s(D){console.log("Deprecated API usage: "+D)},F.getFilenameFromUrl=function p(D){const N=D.indexOf("#"),O=D.indexOf("?"),G=Math.min(N>0?N:D.length,O>0?O:D.length);return D.substring(D.lastIndexOf("/",G)+1,G)},F.getPdfFilenameFromUrl=function k(D,N="document.pdf"){if("string"!=typeof D)return N;if(r(D))return(0,fe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),N;const G=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,R=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(D);let Q=G.exec(R[1])||G.exec(R[2])||G.exec(R[3]);if(Q&&(Q=Q[0],Q.includes("%")))try{Q=G.exec(decodeURIComponent(Q))[0]}catch{}return Q||N},F.getXfaPageViewport=function T(D,{scale:N=1,rotation:O=0}){const{width:G,height:R}=D.attributes.style,Q=[0,0,parseInt(G),parseInt(R)];return new o({viewBox:Q,scale:N,rotation:O})},F.isDataScheme=r,F.isPdfFile=function a(D){return"string"==typeof D&&/\.pdf$/i.test(D)},F.isValidFetchUrl=m,F.loadScript=function i(D,N=!1){return new Promise((O,G)=>{const R=document.createElement("script");R.src=D,R.onload=function(Q){N&&R.remove(),O(Q)},R.onerror=function(){G(new Error(`Cannot load script at: ${R.src}`))},(document.head||document.documentElement).appendChild(R)})};var _=ee(6),fe=ee(1);const Z=class{};let x,e=Z;function V(D){return u.apply(this,arguments)}function u(){return(u=_asyncToGenerator(function*(D,N=!1){if(m(D,document.baseURI)){const O=yield fetch(D);if(!O.ok)throw new Error(O.statusText);return N?new Uint8Array(yield O.arrayBuffer()):(0,fe.stringToBytes)(yield O.text())}return new Promise((O,G)=>{const R=new XMLHttpRequest;R.open("GET",D,!0),N&&(R.responseType="arraybuffer"),R.onreadystatechange=()=>{if(R.readyState===XMLHttpRequest.DONE){if(200===R.status||0===R.status){let Q;if(N&&R.response?Q=new Uint8Array(R.response):!N&&R.responseText&&(Q=(0,fe.stringToBytes)(R.responseText)),Q)return void O(Q)}G(new Error(R.statusText))}},R.send(null)})})).apply(this,arguments)}At(e,"CSS",96),At(e,"PDF",72),At(e,"PDF_TO_CSS_UNITS",Z.CSS/Z.PDF),F.PixelsPerInch=e,F.DOMCanvasFactory=class ae extends _.BaseCanvasFactory{constructor({ownerDocument:N=globalThis.document}={}){super(),this._document=N}_createCanvas(N,O){const G=this._document.createElement("canvas");return G.width=N,G.height=O,G}},F.DOMCMapReaderFactory=class w extends _.BaseCMapReaderFactory{_fetchData(N,O){return V(N,this.isCompressed).then(G=>({cMapData:G,compressionType:O}))}},F.DOMStandardFontDataFactory=class y extends _.BaseStandardFontDataFactory{_fetchData(N){return V(N,!0)}},F.DOMSVGFactory=class g extends _.BaseSVGFactory{_createSVG(N){return document.createElementNS("http://www.w3.org/2000/svg",N)}};class o{constructor({viewBox:N,scale:O,rotation:G,offsetX:R=0,offsetY:Q=0,dontFlip:B=!1}){this.viewBox=N,this.scale=O,this.rotation=G,this.offsetX=R,this.offsetY=Q;const Y=(N[2]+N[0])/2,K=(N[3]+N[1])/2;let re,le,I,l,d,n,c,f;switch((G%=360)<0&&(G+=360),G){case 180:re=-1,le=0,I=0,l=1;break;case 90:re=0,le=1,I=1,l=0;break;case 270:re=0,le=-1,I=-1,l=0;break;case 0:re=1,le=0,I=0,l=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}B&&(I=-I,l=-l),0===re?(d=Math.abs(K-N[1])*O+R,n=Math.abs(Y-N[0])*O+Q,c=Math.abs(N[3]-N[1])*O,f=Math.abs(N[2]-N[0])*O):(d=Math.abs(Y-N[0])*O+R,n=Math.abs(K-N[1])*O+Q,c=Math.abs(N[2]-N[0])*O,f=Math.abs(N[3]-N[1])*O),this.transform=[re*O,le*O,I*O,l*O,d-re*O*Y-I*O*K,n-le*O*Y-l*O*K],this.width=c,this.height=f}clone({scale:N=this.scale,rotation:O=this.rotation,offsetX:G=this.offsetX,offsetY:R=this.offsetY,dontFlip:Q=!1}={}){return new o({viewBox:this.viewBox.slice(),scale:N,rotation:O,offsetX:G,offsetY:R,dontFlip:Q})}convertToViewportPoint(N,O){return fe.Util.applyTransform([N,O],this.transform)}convertToViewportRectangle(N){const O=fe.Util.applyTransform([N[0],N[1]],this.transform),G=fe.Util.applyTransform([N[2],N[3]],this.transform);return[O[0],O[1],G[0],G[1]]}convertToPdfPoint(N,O){return fe.Util.applyInverseTransform([N,O],this.transform)}}function r(D){const N=D.length;let O=0;for(;O<N&&""===D[O].trim();)O++;return"data:"===D.substring(O,O+5).toLowerCase()}function m(D,N){try{const{protocol:O}=N?new URL(D,N):new URL(D);return"http:"===O||"https:"===O}catch{return!1}}F.PageViewport=o,F.RenderingCancelledException=class A extends fe.BaseException{constructor(N,O){super(N,"RenderingCancelledException"),this.type=O}},F.StatTimer=class b{constructor(){this.started=Object.create(null),this.times=[]}time(N){N in this.started&&(0,fe.warn)(`Timer is already running for ${N}`),this.started[N]=Date.now()}timeEnd(N){N in this.started||(0,fe.warn)(`Timer has not been started for ${N}`),this.times.push({name:N,start:this.started[N],end:Date.now()}),delete this.started[N]}toString(){const N=[];let O=0;for(const G of this.times){const R=G.name;R.length>O&&(O=R.length)}for(const G of this.times){const R=G.end-G.start;N.push(`${G.name.padEnd(O)} ${R}ms\n`)}return N.join("")}},F.PDFDateString=class C{static toDateObject(N){if(!N||"string"!=typeof N)return null;x||(x=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const O=x.exec(N);if(!O)return null;const G=parseInt(O[1],10);let R=parseInt(O[2],10);R=R>=1&&R<=12?R-1:0;let Q=parseInt(O[3],10);Q=Q>=1&&Q<=31?Q:1;let B=parseInt(O[4],10);B=B>=0&&B<=23?B:0;let Y=parseInt(O[5],10);Y=Y>=0&&Y<=59?Y:0;let K=parseInt(O[6],10);K=K>=0&&K<=59?K:0;const re=O[7]||"Z";let le=parseInt(O[8],10);le=le>=0&&le<=23?le:0;let I=parseInt(O[9],10)||0;return I=I>=0&&I<=59?I:0,"-"===re?(B+=le,Y+=I):"+"===re&&(B-=le,Y-=I),new Date(Date.UTC(G,R,Q,B,Y,K))}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.BaseStandardFontDataFactory=F.BaseSVGFactory=F.BaseCanvasFactory=F.BaseCMapReaderFactory=void 0;var _=ee(1);class fe{constructor(){this.constructor===fe&&(0,_.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,w){if(u<=0||w<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(u,w);return{canvas:y,context:y.getContext("2d")}}reset(u,w,y){if(!u.canvas)throw new Error("Canvas is not specified");if(w<=0||y<=0)throw new Error("Invalid canvas size");u.canvas.width=w,u.canvas.height=y}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,w){(0,_.unreachable)("Abstract method `_createCanvas` called.")}}F.BaseCanvasFactory=fe;class W{constructor({baseUrl:u=null,isCompressed:w=!1}){this.constructor===W&&(0,_.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=w}fetch({name:u}){var w=this;return _asyncToGenerator(function*(){if(!w.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");const y=w.baseUrl+u+(w.isCompressed?".bcmap":"");return w._fetchData(y,w.isCompressed?_.CMapCompressionType.BINARY:_.CMapCompressionType.NONE).catch(o=>{throw new Error(`Unable to load ${w.isCompressed?"binary ":""}CMap at: ${y}`)})})()}_fetchData(u,w){(0,_.unreachable)("Abstract method `_fetchData` called.")}}F.BaseCMapReaderFactory=W;class e{constructor({baseUrl:u=null}){this.constructor===e&&(0,_.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}fetch({filename:u}){var w=this;return _asyncToGenerator(function*(){if(!w.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");const y=`${w.baseUrl}${u}`;return w._fetchData(y).catch(g=>{throw new Error(`Unable to load font data at: ${y}`)})})()}_fetchData(u){(0,_.unreachable)("Abstract method `_fetchData` called.")}}F.BaseStandardFontDataFactory=e;class ae{constructor(){this.constructor===ae&&(0,_.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,w){if(u<=0||w<=0)throw new Error("Invalid SVG dimensions");const y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),y.setAttribute("width",`${u}px`),y.setAttribute("height",`${w}px`),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${u} ${w}`),y}createElement(u){if("string"!=typeof u)throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,_.unreachable)("Abstract method `_createSVG` called.")}}F.BaseSVGFactory=ae},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.FontLoader=F.FontFaceObject=void 0;var _=ee(1);class fe{constructor({docId:V,onUnsupportedFeature:u,ownerDocument:w=globalThis.document,styleElement:y=null}){this.constructor===fe&&(0,_.unreachable)("Cannot initialize BaseFontLoader."),this.docId=V,this._onUnsupportedFeature=u,this._document=w,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(V){this.nativeFontFaces.push(V),this._document.fonts.add(V)}insertRule(V){let u=this.styleElement;u||(u=this.styleElement=this._document.createElement("style"),u.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(u));const w=u.sheet;w.insertRule(V,w.cssRules.length)}clear(){for(const V of this.nativeFontFaces)this._document.fonts.delete(V);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(V){var u=this;return _asyncToGenerator(function*(){if(V.attached||V.missingFile)return;if(V.attached=!0,u.isFontLoadingAPISupported){const y=V.createNativeFontFace();if(y){u.addNativeFontFace(y);try{yield y.loaded}catch(g){throw u._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_.warn)(`Failed to load font '${y.family}': '${g}'.`),V.disableFontFace=!0,g}}return}const w=V.createFontFaceRule();if(w){if(u.insertRule(w),u.isSyncFontLoadingSupported)return;yield new Promise(y=>{const g=u._queueLoadingCallback(y);u._prepareFontLoadEvent([w],[V],g)})}})()}_queueLoadingCallback(V){(0,_.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,_.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,_.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,_.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(V,u,w){(0,_.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let W;F.FontLoader=W,F.FontLoader=W=class extends fe{constructor(V){super(V),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let V=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(V=!0),(0,_.shadow)(this,"isSyncFontLoadingSupported",V)}_queueLoadingCallback(V){const w=this.loadingContext,y={id:"pdfjs-font-loading-"+w.nextRequestId++,done:!1,complete:function u(){for((0,_.assert)(!y.done,"completeRequest() cannot be called twice."),y.done=!0;w.requests.length>0&&w.requests[0].done;){const g=w.requests.shift();setTimeout(g.callback,0)}},callback:V};return w.requests.push(y),y}get _loadTestFont(){return(0,_.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(V,u,w){function y(O,G){return O.charCodeAt(G)<<24|O.charCodeAt(G+1)<<16|O.charCodeAt(G+2)<<8|255&O.charCodeAt(G+3)}function g(O,G,R,Q){return O.substring(0,G)+Q+O.substring(G+R)}let o,A;const r=this._document.createElement("canvas");r.width=1,r.height=1;const a=r.getContext("2d");let p=0;const b=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=g(m,976,b.length,b);const x=1482184792;let C=y(m,16);for(o=0,A=b.length-3;o<A;o+=4)C=C-x+y(b,o)|0;o<b.length&&(C=C-x+y(b+"XXX",o)|0),m=g(m,16,4,(0,_.string32)(C));const T=`url(data:font/opentype;base64,${btoa(m)});`;this.insertRule(`@font-face {font-family:"${b}";src:${T}}`);const D=[];for(const O of u)D.push(O.loadedName);D.push(b);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const O of D){const G=this._document.createElement("span");G.textContent="Hi",G.style.fontFamily=O,N.appendChild(G)}this._document.body.appendChild(N),function k(O,G){if(p++,p>30)return(0,_.warn)("Load test font never loaded."),void G();a.font="30px "+O,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0?G():setTimeout(k.bind(null,O,G))}(b,()=>{N.remove(),w.complete()})}},F.FontFaceObject=class e{constructor(V,{isEvalSupported:u=!0,disableFontFace:w=!1,ignoreErrors:y=!1,onUnsupportedFeature:g,fontRegistry:o=null}){this.compiledGlyphs=Object.create(null);for(const A in V)this[A]=V[A];this.isEvalSupported=!1!==u,this.disableFontFace=!0===w,this.ignoreErrors=!0===y,this._onUnsupportedFeature=g,this.fontRegistry=o}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let V;if(this.cssFontInfo){const u={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(u.style=`oblique ${this.cssFontInfo.italicAngle}deg`),V=new FontFace(this.cssFontInfo.fontFamily,this.data,u)}else V=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),V}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const V=(0,_.bytesToString)(this.data),u=`url(data:${this.mimetype};base64,${btoa(V)});`;let w;if(this.cssFontInfo){let y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),w=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${y}src:${u}}`}else w=`@font-face {font-family:"${this.loadedName}";src:${u}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,u),w}getPathGenerator(V,u){if(void 0!==this.compiledGlyphs[u])return this.compiledGlyphs[u];let w;try{w=V.get(this.loadedName+"_path_"+u)}catch(y){if(!this.ignoreErrors)throw y;return this._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_.warn)(`getPathGenerator - ignoring character: "${y}".`),this.compiledGlyphs[u]=function(g,o){}}if(this.isEvalSupported&&_.FeatureTest.isEvalSupported){const y=[];for(const g of w){const o=void 0!==g.args?g.args.join(","):"";y.push("c.",g.cmd,"(",o,");\n")}return this.compiledGlyphs[u]=new Function("c","size",y.join(""))}return this.compiledGlyphs[u]=function(y,g){for(const o of w)"scale"===o.cmd&&(o.args=[g,-g]),y[o.cmd].apply(y,o.args)}}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.AnnotationStorage=void 0;var _=ee(9),fe=ee(1);F.AnnotationStorage=class W{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ae,V){const u=this._storage.get(ae);return void 0===u?V:Object.assign(V,u)}getRawValue(ae){return this._storage.get(ae)}setValue(ae,V){const u=this._storage.get(ae);let w=!1;if(void 0!==u)for(const[y,g]of Object.entries(V))u[y]!==g&&(w=!0,u[y]=g);else w=!0,this._storage.set(ae,V);w&&this._setModified()}getAll(){return this._storage.size>0?(0,fe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ae=new _.MurmurHash3_64;for(const[V,u]of this._storage)ae.update(`${V}:${JSON.stringify(u)}`);return ae.hexdigest()}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.MurmurHash3_64=void 0;var _=ee(1);const fe=3285377520,W=4294901760,e=65535;F.MurmurHash3_64=class ae{constructor(u){this.h1=u?4294967295&u:fe,this.h2=u?4294967295&u:fe}update(u){let w,y;if("string"==typeof u){w=new Uint8Array(2*u.length),y=0;for(let x=0,C=u.length;x<C;x++){const T=u.charCodeAt(x);T<=255?w[y++]=T:(w[y++]=T>>>8,w[y++]=255&T)}}else{if(!(0,_.isArrayBuffer)(u))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");w=u.slice(),y=w.byteLength}const g=y>>2,o=y-4*g,A=new Uint32Array(w.buffer,0,g);let r=0,a=0,p=this.h1,k=this.h2;const b=3432918353,m=461845907,i=b&e,s=m&e;for(let x=0;x<g;x++)1&x?(r=A[x],r=r*b&W|r*i&e,r=r<<15|r>>>17,r=r*m&W|r*s&e,p^=r,p=p<<13|p>>>19,p=5*p+3864292196):(a=A[x],a=a*b&W|a*i&e,a=a<<15|a>>>17,a=a*m&W|a*s&e,k^=a,k=k<<13|k>>>19,k=5*k+3864292196);switch(r=0,o){case 3:r^=w[4*g+2]<<16;case 2:r^=w[4*g+1]<<8;case 1:r^=w[4*g],r=r*b&W|r*i&e,r=r<<15|r>>>17,r=r*m&W|r*s&e,1&g?p^=r:k^=r}this.h1=p,this.h2=k}hexdigest(){let u=this.h1,w=this.h2;u^=w>>>1,u=3981806797*u&W|36045*u&e,w=4283543511*w&W|(2950163797*(w<<16|u>>>16)&W)>>>16,u^=w>>>1,u=444984403*u&W|60499*u&e,w=3301882366*w&W|(3120437893*(w<<16|u>>>16)&W)>>>16,u^=w>>>1;const y=(u>>>0).toString(16),g=(w>>>0).toString(16);return y.padStart(8,"0")+g.padStart(8,"0")}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.CanvasGraphics=void 0;var _=ee(1),fe=ee(11),W=ee(12),e=ee(3),ae=ee(5);const w=4096,r=16;function k(I){if(I._transformStack&&(I._transformStack=[]),!I.mozCurrentTransform){I._originalSave=I.save,I._originalRestore=I.restore,I._originalRotate=I.rotate,I._originalScale=I.scale,I._originalTranslate=I.translate,I._originalTransform=I.transform,I._originalSetTransform=I.setTransform,I._originalResetTransform=I.resetTransform,I._transformMatrix=I._transformMatrix||[1,0,0,1,0,0],I._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(I),"lineWidth");I._setLineWidth=l.set,I._getLineWidth=l.get,Object.defineProperty(I,"lineWidth",{set:function(n){this._setLineWidth(1.000001*n)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(I,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(I,"mozCurrentTransformInverse",{get:function(){const[d,n,c,f,E,P]=this._transformMatrix,M=d*f-n*c,J=n*c-d*f;return[f/M,n/J,c/J,d/M,(f*E-c*P)/J,(n*E-d*P)/M]}}),I.save=function(){const d=this._transformMatrix;this._transformStack.push(d),this._transformMatrix=d.slice(0,6),this._originalSave()},I.restore=function(){0===this._transformStack.length&&(0,_.warn)("Tried to restore a ctx when the stack was already empty.");const d=this._transformStack.pop();d&&(this._transformMatrix=d,this._originalRestore())},I.translate=function(d,n){const c=this._transformMatrix;c[4]=c[0]*d+c[2]*n+c[4],c[5]=c[1]*d+c[3]*n+c[5],this._originalTranslate(d,n)},I.scale=function(d,n){const c=this._transformMatrix;c[0]*=d,c[1]*=d,c[2]*=n,c[3]*=n,this._originalScale(d,n)},I.transform=function(d,n,c,f,E,P){const M=this._transformMatrix;this._transformMatrix=[M[0]*d+M[2]*n,M[1]*d+M[3]*n,M[0]*c+M[2]*f,M[1]*c+M[3]*f,M[0]*E+M[2]*P+M[4],M[1]*E+M[3]*P+M[5]],I._originalTransform(d,n,c,f,E,P)},I.setTransform=function(d,n,c,f,E,P){this._transformMatrix=[d,n,c,f,E,P],I._originalSetTransform(d,n,c,f,E,P)},I.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],I._originalResetTransform()},I.rotate=function(d){const n=Math.cos(d),c=Math.sin(d),f=this._transformMatrix;this._transformMatrix=[f[0]*n+f[2]*c,f[1]*n+f[3]*c,f[0]*-c+f[2]*n,f[1]*-c+f[3]*n,f[4],f[5]],this._originalRotate(d)}}}class b{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,d,n,c){let f;return void 0!==this.cache[l]?(f=this.cache[l],this.canvasFactory.reset(f,d,n),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(d,n),this.cache[l]=f),c&&k(f.context),f}delete(l){delete this.cache[l]}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}function m(I,l,d,n,c,f,E,P,M,J){const[X,$,te,se,de,_e]=I.mozCurrentTransform;if(0===$&&0===te){const ue=Math.round(E*X+de),j=Math.round(P*se+_e),ye=Math.abs(Math.round((E+M)*X+de)-ue)||1,me=Math.abs(Math.round((P+J)*se+_e)-j)||1;return I.setTransform(Math.sign(X),0,0,Math.sign(se),ue,j),I.drawImage(l,d,n,c,f,0,0,ye,me),I.setTransform(X,$,te,se,de,_e),[ye,me]}if(0===X&&0===se){const ue=Math.round(P*te+de),j=Math.round(E*$+_e),ye=Math.abs(Math.round((P+J)*te+de)-ue)||1,me=Math.abs(Math.round((E+M)*$+_e)-j)||1;return I.setTransform(0,Math.sign($),Math.sign(te),0,ue,j),I.drawImage(l,d,n,c,f,0,0,me,ye),I.setTransform(X,$,te,se,de,_e),[me,ye]}return I.drawImage(l,d,n,c,f,E,P,M,J),[Math.hypot(X,$)*M,Math.hypot(te,se)*J]}class s{constructor(l,d){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,d])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,d){this.x=l,this.y=d}updatePathMinMax(l,d,n){[d,n]=_.Util.applyTransform([d,n],l),this.minX=Math.min(this.minX,d),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,d),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(l,d){const n=_.Util.applyTransform(d,l),c=_.Util.applyTransform(d.slice(2),l);this.minX=Math.min(this.minX,n[0],c[0]),this.minY=Math.min(this.minY,n[1],c[1]),this.maxX=Math.max(this.maxX,n[0],c[0]),this.maxY=Math.max(this.maxY,n[1],c[1])}updateScalingPathMinMax(l,d){_.Util.scaleMinMax(l,d),this.minX=Math.min(this.minX,d[0]),this.maxX=Math.max(this.maxX,d[1]),this.minY=Math.min(this.minY,d[2]),this.maxY=Math.max(this.maxY,d[3])}updateCurvePathMinMax(l,d,n,c,f,E,P,M,J,X){const $=_.Util.bezierBoundingBox(d,n,c,f,E,P,M,J);if(X)return X[0]=Math.min(X[0],$[0],$[2]),X[1]=Math.max(X[1],$[0],$[2]),X[2]=Math.min(X[2],$[1],$[3]),void(X[3]=Math.max(X[3],$[1],$[3]));this.updateRectMinMax(l,$)}getPathBoundingBox(l=fe.PathType.FILL,d=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(l===fe.PathType.STROKE){d||(0,_.unreachable)("Stroke bounding box must include transform.");const c=_.Util.singularValueDecompose2dScale(d),f=c[0]*this.lineWidth/2,E=c[1]*this.lineWidth/2;n[0]-=f,n[1]-=E,n[2]+=f,n[3]+=E}return n}updateClipFromPath(){const l=_.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=fe.PathType.FILL,d=null){return _.Util.intersect(this.clipBox,this.getPathBoundingBox(l,d))}}function x(I,l,d=null){if(typeof ImageData<"u"&&l instanceof ImageData)return void I.putImageData(l,0,0);const n=l.height,c=l.width,f=n%r,E=(n-f)/r,P=0===f?E:E+1,M=I.createImageData(c,r);let X,J=0;const $=l.data,te=M.data;let se,de,_e,Pe,oe,he,ue,S;if(d)switch(d.length){case 1:oe=d[0],he=d[0],ue=d[0],S=d[0];break;case 4:oe=d[0],he=d[1],ue=d[2],S=d[3]}if(l.kind===_.ImageKind.GRAYSCALE_1BPP){const j=$.byteLength,ne=new Uint32Array(te.buffer,0,te.byteLength>>2),ye=ne.length,ve=c+7>>3;let me=4294967295,Te=_.FeatureTest.isLittleEndian?4278190080:255;for(S&&255===S[0]&&0===S[255]&&([me,Te]=[Te,me]),se=0;se<P;se++){for(_e=se<E?r:f,X=0,de=0;de<_e;de++){const xe=j-J;let Me=0;const Le=xe>ve?c:8*xe-7,Ze=-8&Le;let ce=0,U=0;for(;Me<Ze;Me+=8)U=$[J++],ne[X++]=128&U?me:Te,ne[X++]=64&U?me:Te,ne[X++]=32&U?me:Te,ne[X++]=16&U?me:Te,ne[X++]=8&U?me:Te,ne[X++]=4&U?me:Te,ne[X++]=2&U?me:Te,ne[X++]=1&U?me:Te;for(;Me<Le;Me++)0===ce&&(U=$[J++],ce=128),ne[X++]=U&ce?me:Te,ce>>=1}for(;X<ye;)ne[X++]=0;I.putImageData(M,0,se*r)}}else if(l.kind===_.ImageKind.RGBA_32BPP){const j=!!(oe||he||ue);for(de=0,Pe=c*r*4,se=0;se<E;se++){if(te.set($.subarray(J,J+Pe)),J+=Pe,j)for(let ne=0;ne<Pe;ne+=4)oe&&(te[ne+0]=oe[te[ne+0]]),he&&(te[ne+1]=he[te[ne+1]]),ue&&(te[ne+2]=ue[te[ne+2]]);I.putImageData(M,0,de),de+=r}if(se<P){if(Pe=c*f*4,te.set($.subarray(J,J+Pe)),j)for(let ne=0;ne<Pe;ne+=4)oe&&(te[ne+0]=oe[te[ne+0]]),he&&(te[ne+1]=he[te[ne+1]]),ue&&(te[ne+2]=ue[te[ne+2]]);I.putImageData(M,0,de)}}else{if(l.kind!==_.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const j=!!(oe||he||ue);for(_e=r,Pe=c*_e,se=0;se<P;se++){for(se>=E&&(_e=f,Pe=c*_e),X=0,de=Pe;de--;)te[X++]=$[J++],te[X++]=$[J++],te[X++]=$[J++],te[X++]=255;if(j)for(let ne=0;ne<X;ne+=4)oe&&(te[ne+0]=oe[te[ne+0]]),he&&(te[ne+1]=he[te[ne+1]]),ue&&(te[ne+2]=ue[te[ne+2]]);I.putImageData(M,0,se*r)}}}}function C(I,l){if(l.bitmap)return void I.drawImage(l.bitmap,0,0);const d=l.height,n=l.width,c=d%r,f=(d-c)/r,E=0===c?f:f+1,P=I.createImageData(n,r);let M=0;const J=l.data,X=P.data;for(let $=0;$<E;$++){const te=$<f?r:c;({srcPos:M}=(0,W.applyMaskImageData)({src:J,srcPos:M,dest:X,width:n,height:te})),I.putImageData(P,0,$*r)}}function T(I,l){const d=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let n=0,c=d.length;n<c;n++){const f=d[n];void 0!==I[f]&&(l[f]=I[f])}void 0!==I.setLineDash&&(l.setLineDash(I.getLineDash()),l.lineDashOffset=I.lineDashOffset)}function Z(I,l){I.strokeStyle=I.fillStyle=l||"#000000",I.fillRule="nonzero",I.globalAlpha=1,I.lineWidth=1,I.lineCap="butt",I.lineJoin="miter",I.miterLimit=10,I.globalCompositeOperation="source-over",I.font="10px sans-serif",void 0!==I.setLineDash&&(I.setLineDash([]),I.lineDashOffset=0)}function D(I,l,d,n){const c=I.length;for(let f=3;f<c;f+=4){const E=I[f];if(0===E)I[f-3]=l,I[f-2]=d,I[f-1]=n;else if(E<255){const P=255-E;I[f-3]=I[f-3]*E+l*P>>8,I[f-2]=I[f-2]*E+d*P>>8,I[f-1]=I[f-1]*E+n*P>>8}}}function N(I,l,d){const n=I.length;for(let f=3;f<n;f+=4)l[f]=l[f]*(d?d[I[f]]:I[f])*.00392156862745098|0}function O(I,l,d){const n=I.length;for(let c=3;c<n;c+=4){const f=77*I[c-3]+152*I[c-2]+28*I[c-1];l[c]=d?l[c]*d[f>>8]>>8:l[c]*f>>16}}function Q(I,l){const d=_.Util.singularValueDecompose2dScale(I);d[0]=Math.fround(d[0]),d[1]=Math.fround(d[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*ae.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:d[0]<=n||d[1]<=n}const B=["butt","round","square"],Y=["miter","round","bevel"],K={},re={};class le{constructor(l,d,n,c,f,E,P,M){this.ctx=l,this.current=new s(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=d,this.objs=n,this.canvasFactory=c,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=E,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=P,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=M?.background||null,this.foregroundColor=M?.foreground||null,l&&k(l),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(l,d=null){return"string"==typeof l?l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l):d}beginDrawing({transform:l,viewport:d,transparency:n=!1,background:c=null}){const f=this.ctx.canvas.width,E=this.ctx.canvas.height,P=c||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const M=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const J=this.backgroundColor=this.ctx.fillStyle;let X=!0,$=P;if(this.ctx.fillStyle=P,$=this.ctx.fillStyle,X="string"==typeof $&&/^#[0-9A-Fa-f]{6}$/.test($),"#000000"===M&&"#ffffff"===J||M===J||!X)this.foregroundColor=this.backgroundColor=null;else{const te=parseInt($.slice(1),16),de=(te&&65280)>>8,_e=te&&255,Pe=he=>(he/=255)<=.03928?he/12.92:((he+.055)/1.055)**2.4,oe=Math.round(.2126*Pe((te&&16711680)>>16)+.7152*Pe(de)+.0722*Pe(_e));this.selectColor=(he,ue,S)=>{const j=.2126*Pe(he)+.7152*Pe(ue)+.0722*Pe(S);return Math.round(j)===oe?J:M}}}if(this.ctx.fillStyle=this.backgroundColor||P,this.ctx.fillRect(0,0,f,E),this.ctx.restore(),n){const M=this.cachedCanvases.getCanvas("transparent",f,E,!0);this.compositeCtx=this.ctx,this.transparentCanvas=M.canvas,this.ctx=M.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),Z(this.ctx,this.foregroundColor),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,d.transform),this.viewportScale=d.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,d,n,c){const f=l.argsArray,E=l.fnArray;let P=d||0;const M=f.length;if(M===P)return P;const J=M-P>10&&"function"==typeof n,X=J?Date.now()+15:0;let $=0;const te=this.commonObjs,se=this.objs;let de;for(;;){if(void 0!==c&&P===c.nextBreakPoint)return c.breakIt(P,n),P;if(de=E[P],de!==_.OPS.dependency)this[de].apply(this,f[P]);else for(const _e of f[P]){const Pe=_e.startsWith("g_")?te:se;if(!Pe.has(_e))return Pe.get(_e,n),P}if(P++,P===M)return P;if(J&&++$>10){if(Date.now()>X)return n(),P;$=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const l of this._cachedBitmapsMap.values()){for(const d of l.values())typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement&&(d.width=d.height=0);l.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,d){const n=l.width,c=l.height;let X,$,f=Math.max(Math.hypot(d[0],d[1]),1),E=Math.max(Math.hypot(d[2],d[3]),1),P=n,M=c,J="prescale1";for(;f>2&&P>1||E>2&&M>1;){let te=P,se=M;f>2&&P>1&&(te=Math.ceil(P/2),f/=P/te),E>2&&M>1&&(se=Math.ceil(M/2),E/=M/se),X=this.cachedCanvases.getCanvas(J,te,se,!1),$=X.context,$.clearRect(0,0,te,se),$.drawImage(l,0,0,P,M,0,0,te,se),l=X.canvas,P=te,M=se,J="prescale1"===J?"prescale2":"prescale1"}return{img:l,paintWidth:P,paintHeight:M}}_createMaskCanvas(l){const d=this.ctx,{width:n,height:c}=l,f=this.current.fillColor,E=this.current.patternFill,P=d.mozCurrentTransform;let M,J,X,$;if((l.bitmap||l.data)&&l.count>1){const ye=l.bitmap||l.data.buffer,ve=P.slice(0,4);J=JSON.stringify(E?ve:[ve,f]),M=this._cachedBitmapsMap.get(ye),M||(M=new Map,this._cachedBitmapsMap.set(ye,M));const me=M.get(J);if(me&&!E)return{canvas:me,offsetX:Math.round(Math.min(P[0],P[2])+P[4]),offsetY:Math.round(Math.min(P[1],P[3])+P[5])};X=me}X||($=this.cachedCanvases.getCanvas("maskCanvas",n,c,!1),C($.context,l));let te=_.Util.transform(P,[1/n,0,0,-1/c,0,0]);te=_.Util.transform(te,[1,0,0,1,0,-c]);const se=_.Util.applyTransform([0,0],te),de=_.Util.applyTransform([n,c],te),_e=_.Util.normalizeRect([se[0],se[1],de[0],de[1]]),Pe=Math.round(_e[2]-_e[0])||1,oe=Math.round(_e[3]-_e[1])||1,he=this.cachedCanvases.getCanvas("fillCanvas",Pe,oe,!0),ue=he.context,S=Math.min(se[0],de[0]),j=Math.min(se[1],de[1]);ue.translate(-S,-j),ue.transform.apply(ue,te),X||(X=this._scaleImage($.canvas,ue.mozCurrentTransformInverse),X=X.img,M&&E&&M.set(J,X)),ue.imageSmoothingEnabled=Q(ue.mozCurrentTransform,l.interpolate),m(ue,X,0,0,X.width,X.height,0,0,n,c),ue.globalCompositeOperation="source-in";const ne=_.Util.transform(ue.mozCurrentTransformInverse,[1,0,0,1,-S,-j]);return ue.fillStyle=E?f.getPattern(d,this,ne,fe.PathType.FILL):f,ue.fillRect(0,0,n,c),M&&!E&&(this.cachedCanvases.delete("fillCanvas"),M.set(J,he.canvas)),{canvas:he.canvas,offsetX:Math.round(S),offsetY:Math.round(j)}}setLineWidth(l){l!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=B[l]}setLineJoin(l){this.ctx.lineJoin=Y[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,d){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(l),n.lineDashOffset=d)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let d=0,n=l.length;d<n;d++){const c=l[d],E=c[1];switch(c[0]){case"LW":this.setLineWidth(E);break;case"LC":this.setLineCap(E);break;case"LJ":this.setLineJoin(E);break;case"ML":this.setMiterLimit(E);break;case"D":this.setDash(E[0],E[1]);break;case"RI":this.setRenderingIntent(E);break;case"FL":this.setFlatness(E);break;case"Font":this.setFont(E[0],E[1]);break;case"CA":this.current.strokeAlpha=c[1];break;case"ca":this.current.fillAlpha=c[1],this.ctx.globalAlpha=c[1];break;case"BM":this.ctx.globalCompositeOperation=E;break;case"SMask":this.current.activeSMask=E?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=E}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=c.context;const f=this.ctx;f.setTransform.apply(f,this.suspendedCtx.mozCurrentTransform),T(this.suspendedCtx,f),function p(I,l){if(I._removeMirroring)throw new Error("Context is already forwarding operations.");I.__originalSave=I.save,I.__originalRestore=I.restore,I.__originalRotate=I.rotate,I.__originalScale=I.scale,I.__originalTranslate=I.translate,I.__originalTransform=I.transform,I.__originalSetTransform=I.setTransform,I.__originalResetTransform=I.resetTransform,I.__originalClip=I.clip,I.__originalMoveTo=I.moveTo,I.__originalLineTo=I.lineTo,I.__originalBezierCurveTo=I.bezierCurveTo,I.__originalRect=I.rect,I.__originalClosePath=I.closePath,I.__originalBeginPath=I.beginPath,I._removeMirroring=()=>{I.save=I.__originalSave,I.restore=I.__originalRestore,I.rotate=I.__originalRotate,I.scale=I.__originalScale,I.translate=I.__originalTranslate,I.transform=I.__originalTransform,I.setTransform=I.__originalSetTransform,I.resetTransform=I.__originalResetTransform,I.clip=I.__originalClip,I.moveTo=I.__originalMoveTo,I.lineTo=I.__originalLineTo,I.bezierCurveTo=I.__originalBezierCurveTo,I.rect=I.__originalRect,I.closePath=I.__originalClosePath,I.beginPath=I.__originalBeginPath,delete I._removeMirroring},I.save=function(){l.save(),this.__originalSave()},I.restore=function(){l.restore(),this.__originalRestore()},I.translate=function(n,c){l.translate(n,c),this.__originalTranslate(n,c)},I.scale=function(n,c){l.scale(n,c),this.__originalScale(n,c)},I.transform=function(n,c,f,E,P,M){l.transform(n,c,f,E,P,M),this.__originalTransform(n,c,f,E,P,M)},I.setTransform=function(n,c,f,E,P,M){l.setTransform(n,c,f,E,P,M),this.__originalSetTransform(n,c,f,E,P,M)},I.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},I.rotate=function(n){l.rotate(n),this.__originalRotate(n)},I.clip=function(n){l.clip(n),this.__originalClip(n)},I.moveTo=function(d,n){l.moveTo(d,n),this.__originalMoveTo(d,n)},I.lineTo=function(d,n){l.lineTo(d,n),this.__originalLineTo(d,n)},I.bezierCurveTo=function(d,n,c,f,E,P){l.bezierCurveTo(d,n,c,f,E,P),this.__originalBezierCurveTo(d,n,c,f,E,P)},I.rect=function(d,n,c,f){l.rect(d,n,c,f),this.__originalRect(d,n,c,f)},I.closePath=function(){l.closePath(),this.__originalClosePath()},I.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(f,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),T(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function R(I,l,d,n){const c=n[0],f=n[1],E=n[2]-c,P=n[3]-f;0===E||0===P||(function G(I,l,d,n,c,f,E,P,M,J,X){const $=!!f,te=$?f[0]:0,se=$?f[1]:0,de=$?f[2]:0;let _e;_e="Luminosity"===c?O:N;const oe=Math.min(n,Math.ceil(1048576/d));for(let he=0;he<n;he+=oe){const ue=Math.min(oe,n-he),S=I.getImageData(P-J,he+(M-X),d,ue),j=l.getImageData(P,he+M,d,ue);$&&D(S.data,te,se,de),_e(S.data,j.data,E),l.putImageData(j,P,he+M)}}(l.context,d,E,P,l.subtype,l.backdrop,l.transferMap,c,f,l.offsetX,l.offsetY),I.save(),I.globalAlpha=1,I.globalCompositeOperation="source-over",I.setTransform(1,0,0,1,0,0),I.drawImage(d.canvas,0,0),I.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(T(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),T(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(l,d,n,c,f,E){this.ctx.transform(l,d,n,c,f,E),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(l,d,n){const c=this.ctx,f=this.current;let M,J,E=f.x,P=f.y;const X=c.mozCurrentTransform,$=0===X[0]&&0===X[3]||0===X[1]&&0===X[2],te=$?n.slice(0):null;for(let se=0,de=0,_e=l.length;se<_e;se++)switch(0|l[se]){case _.OPS.rectangle:E=d[de++],P=d[de++];const Pe=d[de++],oe=d[de++],he=E+Pe,ue=P+oe;c.moveTo(E,P),0===Pe||0===oe?c.lineTo(he,ue):(c.lineTo(he,P),c.lineTo(he,ue),c.lineTo(E,ue)),$||f.updateRectMinMax(X,[E,P,he,ue]),c.closePath();break;case _.OPS.moveTo:E=d[de++],P=d[de++],c.moveTo(E,P),$||f.updatePathMinMax(X,E,P);break;case _.OPS.lineTo:E=d[de++],P=d[de++],c.lineTo(E,P),$||f.updatePathMinMax(X,E,P);break;case _.OPS.curveTo:M=E,J=P,E=d[de+4],P=d[de+5],c.bezierCurveTo(d[de],d[de+1],d[de+2],d[de+3],E,P),f.updateCurvePathMinMax(X,M,J,d[de],d[de+1],d[de+2],d[de+3],E,P,te),de+=6;break;case _.OPS.curveTo2:M=E,J=P,c.bezierCurveTo(E,P,d[de],d[de+1],d[de+2],d[de+3]),f.updateCurvePathMinMax(X,M,J,E,P,d[de],d[de+1],d[de+2],d[de+3],te),E=d[de+2],P=d[de+3],de+=4;break;case _.OPS.curveTo3:M=E,J=P,E=d[de+2],P=d[de+3],c.bezierCurveTo(d[de],d[de+1],E,P,E,P),f.updateCurvePathMinMax(X,M,J,d[de],d[de+1],E,P,E,P,te),de+=4;break;case _.OPS.closePath:c.closePath()}$&&f.updateScalingPathMinMax(X,te),f.setCurrentPoint(E,P)}closePath(){this.ctx.closePath()}stroke(l){l=!(typeof l<"u")||l;const d=this.ctx,n=this.current.strokeColor;d.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&n?.getPattern?(d.save(),d.strokeStyle=n.getPattern(d,this,d.mozCurrentTransformInverse,fe.PathType.STROKE),this.rescaleAndStroke(!1),d.restore()):this.rescaleAndStroke(!0)),l&&this.consumePath(this.current.getClippedPathBoundingBox()),d.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=!(typeof l<"u")||l;const d=this.ctx,n=this.current.fillColor;let f=!1;this.current.patternFill&&(d.save(),d.fillStyle=n.getPattern(d,this,d.mozCurrentTransformInverse,fe.PathType.FILL),f=!0);const E=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==E&&(this.pendingEOFill?(d.fill("evenodd"),this.pendingEOFill=!1):d.fill()),f&&d.restore(),l&&this.consumePath(E)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=K}eoClip(){this.pendingClip=re}beginText(){this.current.textMatrix=_.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,d=this.ctx;if(void 0!==l){d.save(),d.beginPath();for(let n=0;n<l.length;n++){const c=l[n];d.setTransform.apply(d,c.transform),d.translate(c.x,c.y),c.addToPath(d,c.fontSize)}d.restore(),d.clip(),d.beginPath(),delete this.pendingTextPaths}else d.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,d){const n=this.commonObjs.get(l),c=this.current;if(!n)throw new Error(`Can't find font for ${l}`);if(c.fontMatrix=n.fontMatrix||_.FONT_IDENTITY_MATRIX,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&(0,_.warn)("Invalid font matrix for font "+l),d<0?(d=-d,c.fontDirection=-1):c.fontDirection=1,this.current.font=n,this.current.fontSize=d,n.isType3Font)return;let E="normal";n.black?E="900":n.bold&&(E="bold");const P=n.italic?"italic":"normal",M=`"${n.loadedName||"sans-serif"}", ${n.fallbackName}`;let J=d;d<16?J=16:d>100&&(J=100),this.current.fontSizeScale=d/J,this.ctx.font=`${P} ${E} ${J}px ${M}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,d){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=d}setLeadingMoveText(l,d){this.setLeading(-d),this.moveText(l,d)}setTextMatrix(l,d,n,c,f,E){this.current.textMatrix=[l,d,n,c,f,E],this.current.textMatrixScale=Math.hypot(l,d),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,d,n,c){const f=this.ctx,E=this.current,P=E.font,M=E.textRenderingMode,J=E.fontSize/E.fontSizeScale,X=M&_.TextRenderingMode.FILL_STROKE_MASK,$=!!(M&_.TextRenderingMode.ADD_TO_PATH_FLAG),te=E.patternFill&&!P.missingFile;let se;(P.disableFontFace||$||te)&&(se=P.getPathGenerator(this.commonObjs,l)),P.disableFontFace||te?(f.save(),f.translate(d,n),f.beginPath(),se(f,J),c&&f.setTransform.apply(f,c),(X===_.TextRenderingMode.FILL||X===_.TextRenderingMode.FILL_STROKE)&&f.fill(),(X===_.TextRenderingMode.STROKE||X===_.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((X===_.TextRenderingMode.FILL||X===_.TextRenderingMode.FILL_STROKE)&&f.fillText(l,d,n),(X===_.TextRenderingMode.STROKE||X===_.TextRenderingMode.FILL_STROKE)&&f.strokeText(l,d,n)),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:d,y:n,fontSize:J,addToPath:se})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);l.scale(1.5,1),l.fillText("I",0,10);const d=l.getImageData(0,0,10,10).data;let n=!1;for(let c=3;c<d.length;c+=4)if(d[c]>0&&d[c]<255){n=!0;break}return(0,_.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(l){const d=this.current,n=d.font;if(n.isType3Font)return this.showType3Text(l);const c=d.fontSize;if(0===c)return;const f=this.ctx,E=d.fontSizeScale,P=d.charSpacing,M=d.wordSpacing,J=d.fontDirection,X=d.textHScale*J,$=l.length,te=n.vertical,se=te?1:-1,de=n.defaultVMetrics,_e=c*d.fontMatrix[0],Pe=d.textRenderingMode===_.TextRenderingMode.FILL&&!n.disableFontFace&&!d.patternFill;let oe;if(f.save(),f.transform.apply(f,d.textMatrix),f.translate(d.x,d.y+d.textRise),f.scale(X,J>0?-1:1),d.patternFill){f.save();const ne=d.fillColor.getPattern(f,this,f.mozCurrentTransformInverse,fe.PathType.FILL);oe=f.mozCurrentTransform,f.restore(),f.fillStyle=ne}let he=d.lineWidth;const ue=d.textMatrixScale;if(0===ue||0===he){const ne=d.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;(ne===_.TextRenderingMode.STROKE||ne===_.TextRenderingMode.FILL_STROKE)&&(he=this.getSinglePixelWidth())}else he/=ue;1!==E&&(f.scale(E,E),he/=E),f.lineWidth=he;let j,S=0;for(j=0;j<$;++j){const ne=l[j];if("number"==typeof ne){S+=se*ne*c/1e3;continue}let ye=!1;const ve=(ne.isSpace?M:0)+P,me=ne.fontChar,Te=ne.accent;let xe,Me,Ze,Le=ne.width;if(te){const ce=ne.vmetric||de,U=-(ne.vmetric?ce[1]:.5*Le)*_e;Le=ce?-ce[0]:Le,xe=U/E,Me=(S+ce[2]*_e)/E}else xe=S/E,Me=0;if(n.remeasure&&Le>0){const ce=1e3*f.measureText(me).width/c*E;if(Le<ce&&this.isFontSubpixelAAEnabled){const U=Le/ce;ye=!0,f.save(),f.scale(U,1),xe/=U}else Le!==ce&&(xe+=(Le-ce)/2e3*c/E)}this.contentVisible&&(ne.isInFont||n.missingFile)&&(Pe&&!Te?f.fillText(me,xe,Me):(this.paintChar(me,xe,Me,oe),Te&&this.paintChar(Te.fontChar,xe+c*Te.offset.x/E,Me-c*Te.offset.y/E,oe))),Ze=te?Le*_e-ve*J:Le*_e+ve*J,S+=Ze,ye&&f.restore()}te?d.y-=S:d.x+=S*X,f.restore(),this.compose()}showType3Text(l){const d=this.ctx,n=this.current,c=n.font,f=n.fontSize,E=n.fontDirection,P=c.vertical?1:-1,M=n.charSpacing,J=n.wordSpacing,X=n.textHScale*E,$=n.fontMatrix||_.FONT_IDENTITY_MATRIX,te=l.length;let de,_e,Pe,oe;if(n.textRenderingMode!==_.TextRenderingMode.INVISIBLE&&0!==f){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,d.save(),d.transform.apply(d,n.textMatrix),d.translate(n.x,n.y),d.scale(X,E),de=0;de<te;++de){if(_e=l[de],"number"==typeof _e){oe=P*_e*f/1e3,this.ctx.translate(oe,0),n.x+=oe*X;continue}const he=(_e.isSpace?J:0)+M,ue=c.charProcOperatorList[_e.operatorListId];ue?(this.contentVisible&&(this.processingType3=_e,this.save(),d.scale(f,f),d.transform.apply(d,$),this.executeOperatorList(ue),this.restore()),Pe=_.Util.applyTransform([_e.width,0],$)[0]*f+he,d.translate(Pe,0),n.x+=Pe*X):(0,_.warn)(`Type3 character "${_e.operatorListId}" is not available.`)}d.restore(),this.processingType3=null}}setCharWidth(l,d){}setCharWidthAndBounds(l,d,n,c,f,E){this.ctx.rect(n,c,f-n,E-c),this.ctx.clip(),this.endPath()}getColorN_Pattern(l){let d;if("TilingPattern"===l[0]){const n=l[1],c=this.baseTransform||this.ctx.mozCurrentTransform.slice();d=new fe.TilingPattern(l,n,this.ctx,{createCanvasGraphics:E=>new le(E,this.commonObjs,this.objs,this.canvasFactory)},c)}else d=this._getPattern(l[1],l[2]);return d}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,d,n){const c=this.selectColor?.(l,d,n)||_.Util.makeHexColor(l,d,n);this.ctx.strokeStyle=c,this.current.strokeColor=c}setFillRGBColor(l,d,n){const c=this.selectColor?.(l,d,n)||_.Util.makeHexColor(l,d,n);this.ctx.fillStyle=c,this.current.fillColor=c,this.current.patternFill=!1}_getPattern(l,d=null){let n;return this.cachedPatterns.has(l)?n=this.cachedPatterns.get(l):(n=(0,fe.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,n)),d&&(n.matrix=d),n}shadingFill(l){if(!this.contentVisible)return;const d=this.ctx;this.save();const n=this._getPattern(l);d.fillStyle=n.getPattern(d,this,d.mozCurrentTransformInverse,fe.PathType.SHADING);const c=d.mozCurrentTransformInverse;if(c){const f=d.canvas,E=f.width,P=f.height,M=_.Util.applyTransform([0,0],c),J=_.Util.applyTransform([0,P],c),X=_.Util.applyTransform([E,0],c),$=_.Util.applyTransform([E,P],c),te=Math.min(M[0],J[0],X[0],$[0]),se=Math.min(M[1],J[1],X[1],$[1]),de=Math.max(M[0],J[0],X[0],$[0]),_e=Math.max(M[1],J[1],X[1],$[1]);this.ctx.fillRect(te,se,de-te,_e-se)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,d){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,d)&&(this.ctx.rect(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,d),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const d=this.ctx;l.isolated||(0,_.info)("TODO: Support non-isolated groups."),l.knockout&&(0,_.warn)("Knockout groups not supported.");const n=d.mozCurrentTransform;if(l.matrix&&d.transform.apply(d,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let c=_.Util.getAxialAlignedBoundingBox(l.bbox,d.mozCurrentTransform);c=_.Util.intersect(c,[0,0,d.canvas.width,d.canvas.height])||[0,0,0,0];const E=Math.floor(c[0]),P=Math.floor(c[1]);let M=Math.max(Math.ceil(c[2])-E,1),J=Math.max(Math.ceil(c[3])-P,1),X=1,$=1;M>w&&(X=M/w,M=w),J>w&&($=J/w,J=w),this.current.startNewPathAndClipBox([0,0,M,J]);let te="groupAt"+this.groupLevel;l.smask&&(te+="_smask_"+this.smaskCounter++%2);const se=this.cachedCanvases.getCanvas(te,M,J,!0),de=se.context;de.scale(1/X,1/$),de.translate(-E,-P),de.transform.apply(de,n),l.smask?this.smaskStack.push({canvas:se.canvas,context:de,offsetX:E,offsetY:P,scaleX:X,scaleY:$,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(d.setTransform(1,0,0,1,0,0),d.translate(E,P),d.scale(X,$),d.save()),T(d,de),this.ctx=de,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(d),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const d=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,c);const f=_.Util.getAxialAlignedBoundingBox([0,0,d.canvas.width,d.canvas.height],c);this.ctx.drawImage(d.canvas,0,0),this.ctx.restore(),this.compose(f)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,d,n,c,f){if(this.save(),Array.isArray(d)&&4===d.length){const E=d[2]-d[0],P=d[3]-d[1];if(f&&this.annotationCanvasMap){(n=n.slice())[4]-=d[0],n[5]-=d[1],(d=d.slice())[0]=d[1]=0,d[2]=E,d[3]=P;const[M,J]=_.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:X}=this,$=Math.ceil(E*this.outputScaleX*X),te=Math.ceil(P*this.outputScaleY*X);this.annotationCanvas=this.canvasFactory.create($,te);const{canvas:se,context:de}=this.annotationCanvas,_e=`var(--zoom-factor) * ${ae.PixelsPerInch.PDF_TO_CSS_UNITS}`;se.style.width=`calc(${E}px * ${_e})`,se.style.height=`calc(${P}px * ${_e})`,this.annotationCanvasMap.set(l,se),this.annotationCanvas.savedCtx=this.ctx,this.ctx=de,this.ctx.setTransform(M,0,0,-J,0,P*J),k(this.ctx),Z(this.ctx,this.foregroundColor)}else Z(this.ctx,this.foregroundColor),this.ctx.rect(d[0],d[1],E,P),this.ctx.clip(),this.endPath()}this.current=new s(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,n),this.transform.apply(this,c)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const d=l.count;(l=this.getObject(l.data,l)).count=d;const n=this.ctx,c=this.processingType3;if(c&&(void 0===c.compiled&&(c.compiled=function i(I){const{width:l,height:d}=I;if(l>1e3||d>1e3)return null;const c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),f=l+1;let P,M,J,E=new Uint8Array(f*(d+1));const X=l+7&-8;let $=new Uint8Array(X*d),te=0;for(const ue of I.data){let S=128;for(;S>0;)$[te++]=ue&S?0:255,S>>=1}let se=0;for(te=0,0!==$[te]&&(E[0]=1,++se),M=1;M<l;M++)$[te]!==$[te+1]&&(E[M]=$[te]?2:1,++se),te++;for(0!==$[te]&&(E[M]=2,++se),P=1;P<d;P++){te=P*X,J=P*f,$[te-X]!==$[te]&&(E[J]=$[te]?1:8,++se);let ue=($[te]?4:0)+($[te-X]?8:0);for(M=1;M<l;M++)ue=(ue>>2)+($[te+1]?4:0)+($[te-X+1]?8:0),c[ue]&&(E[J+M]=c[ue],++se),te++;if($[te-X]!==$[te]&&(E[J+M]=$[te]?2:4,++se),se>1e3)return null}for(te=X*(d-1),J=P*f,0!==$[te]&&(E[J]=8,++se),M=1;M<l;M++)$[te]!==$[te+1]&&(E[J+M]=$[te]?4:8,++se),te++;if(0!==$[te]&&(E[J+M]=4,++se),se>1e3)return null;const de=new Int32Array([0,f,-1,0,-f,0,0,0,1]);let _e,Pe,oe;for(e.isNodeJS?Pe=[]:_e=new Path2D,P=0;se&&P<=d;P++){let ue=P*f;const S=ue+l;for(;ue<S&&!E[ue];)ue++;if(ue===S)continue;_e?_e.moveTo(ue%f,P):oe=[ue%f,P];const j=ue;let ne=E[ue];do{const ye=de[ne];do{ue+=ye}while(!E[ue]);const ve=E[ue];5!==ve&&10!==ve?(ne=ve,E[ue]=0):(ne=ve&51*ne>>4,E[ue]&=ne>>2|ne<<2),_e?_e.lineTo(ue%f,ue/f|0):oe.push(ue%f,ue/f|0),E[ue]||--se}while(j!==ue);_e||Pe.push(oe),--P}return $=null,E=null,function(ue){if(ue.save(),ue.scale(1/l,-1/d),ue.translate(0,-d),_e)ue.fill(_e);else{ue.beginPath();for(const S of Pe){ue.moveTo(S[0],S[1]);for(let j=2,ne=S.length;j<ne;j+=2)ue.lineTo(S[j],S[j+1])}ue.fill()}ue.beginPath(),ue.restore()}}(l)),c.compiled))return void c.compiled(n);const f=this._createMaskCanvas(l),E=f.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(E,f.offsetX,f.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(l,d,n=0,c=0,f,E){if(!this.contentVisible)return;l=this.getObject(l.data,l);const P=this.ctx;P.save();const M=P.mozCurrentTransform;P.transform(d,n,c,f,0,0);const J=this._createMaskCanvas(l);P.setTransform(1,0,0,1,0,0);for(let X=0,$=E.length;X<$;X+=2){const te=_.Util.transform(M,[d,n,c,f,E[X],E[X+1]]),[se,de]=_.Util.applyTransform([0,0],te);P.drawImage(J.canvas,se,de)}P.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const d=this.ctx,n=this.current.fillColor,c=this.current.patternFill;for(let f=0,E=l.length;f<E;f++){const P=l[f],M=P.width,J=P.height,X=this.cachedCanvases.getCanvas("maskCanvas",M,J,!1),$=X.context;$.save(),C($,P),$.globalCompositeOperation="source-in",$.fillStyle=c?n.getPattern($,this,d.mozCurrentTransformInverse,fe.PathType.FILL):n,$.fillRect(0,0,M,J),$.restore(),d.save(),d.transform.apply(d,P.transform),d.scale(1,-1),m(d,X.canvas,0,0,M,J,0,-1,1,1),d.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const d=this.getObject(l);d?this.paintInlineImageXObject(d):(0,_.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,d,n,c){if(!this.contentVisible)return;const f=this.getObject(l);if(!f)return void(0,_.warn)("Dependent image isn't ready yet");const E=f.width,P=f.height,M=[];for(let J=0,X=c.length;J<X;J+=2)M.push({transform:[d,0,0,n,c[J],c[J+1]],x:0,y:0,w:E,h:P});this.paintInlineImageXObjectGroup(f,M)}paintInlineImageXObject(l){if(!this.contentVisible)return;const d=l.width,n=l.height,c=this.ctx;let f;if(this.save(),c.scale(1/d,-1/n),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)f=l;else{const J=this.cachedCanvases.getCanvas("inlineImage",d,n,!1);x(J.context,l,this.current.transferMaps),f=J.canvas}const E=this._scaleImage(f,c.mozCurrentTransformInverse);c.imageSmoothingEnabled=Q(c.mozCurrentTransform,l.interpolate);const[P,M]=m(c,E.img,0,0,E.paintWidth,E.paintHeight,0,-n,d,n);if(this.imageLayer){const J=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:l,left:J[0],top:J[1],width:P,height:M})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,d){if(!this.contentVisible)return;const n=this.ctx,c=l.width,f=l.height,E=this.cachedCanvases.getCanvas("inlineImage",c,f,!1);x(E.context,l,this.current.transferMaps);for(let M=0,J=d.length;M<J;M++){const X=d[M];if(n.save(),n.transform.apply(n,X.transform),n.scale(1,-1),m(n,E.canvas,X.x,X.y,X.w,X.h,0,-1,1,1),this.imageLayer){const $=this.getCanvasPosition(X.x,X.y);this.imageLayer.appendImage({imgData:l,left:$[0],top:$[1],width:c,height:f})}n.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,d){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,d){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(d)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){const d=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const n=this.ctx;this.pendingClip&&(d||(this.pendingClip===re?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform;if(0===l[1]&&0===l[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(l[0]),Math.abs(l[3]));else{const d=Math.abs(l[0]*l[3]-l[2]*l[1]),n=Math.hypot(l[0],l[2]),c=Math.hypot(l[1],l[3]);this._cachedGetSinglePixelWidth=Math.max(n,c)/d}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:l}=this.current,d=this.ctx.mozCurrentTransform;let n,c;if(0===d[1]&&0===d[2]){const f=Math.abs(d[0]),E=Math.abs(d[3]);if(0===l)n=1/f,c=1/E;else{const P=f*l,M=E*l;n=P<1?1/P:1,c=M<1?1/M:1}}else{const f=Math.abs(d[0]*d[3]-d[2]*d[1]),E=Math.hypot(d[0],d[1]),P=Math.hypot(d[2],d[3]);if(0===l)n=P/f,c=E/f;else{const M=l*f;n=P>M?P/M:1,c=E>M?E/M:1}}this._cachedScaleForStroking=[n,c]}return this._cachedScaleForStroking}rescaleAndStroke(l){const{ctx:d}=this,{lineWidth:n}=this.current,[c,f]=this.getScaleForStroking();if(d.lineWidth=n||1,1===c&&1===f)return void d.stroke();let E,P,M;l&&(E=d.mozCurrentTransform.slice(),P=d.getLineDash().slice(),M=d.lineDashOffset),d.scale(c,f);const J=Math.max(c,f);d.setLineDash(d.getLineDash().map(X=>X/J)),d.lineDashOffset/=J,d.stroke(),l&&(d.setTransform(...E),d.setLineDash(P),d.lineDashOffset=M)}getCanvasPosition(l,d){const n=this.ctx.mozCurrentTransform;return[n[0]*l+n[2]*d+n[4],n[1]*l+n[3]*d+n[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}F.CanvasGraphics=le;for(const I in _.OPS)void 0!==le.prototype[I]&&(le.prototype[_.OPS[I]]=le.prototype[I])},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.TilingPattern=F.PathType=void 0,F.getShadingPattern=function o(a){switch(a[0]){case"RadialAxial":return new V(a);case"Mesh":return new y(a);case"Dummy":return new g}throw new Error(`Unknown IR type: ${a[0]}`)};var _=ee(1),fe=ee(3);const W={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function e(a,p){if(!p||fe.isNodeJS)return;const k=p[2]-p[0],b=p[3]-p[1],m=new Path2D;m.rect(p[0],p[1],k,b),a.clip(m)}F.PathType=W;class ae{constructor(){this.constructor===ae&&(0,_.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_.unreachable)("Abstract method `getPattern` called.")}}class V extends ae{constructor(p){super(),this._type=p[1],this._bbox=p[2],this._colorStops=p[3],this._p0=p[4],this._p1=p[5],this._r0=p[6],this._r1=p[7],this.matrix=null}_createGradient(p){let k;"axial"===this._type?k=p.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(k=p.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const b of this._colorStops)k.addColorStop(b[0],b[1]);return k}getPattern(p,k,b,m){let i;if(m===W.STROKE||m===W.FILL){const s=k.current.getClippedPathBoundingBox(m,p.mozCurrentTransform)||[0,0,0,0],x=Math.ceil(s[2]-s[0])||1,C=Math.ceil(s[3]-s[1])||1,T=k.cachedCanvases.getCanvas("pattern",x,C,!0),Z=T.context;Z.clearRect(0,0,Z.canvas.width,Z.canvas.height),Z.beginPath(),Z.rect(0,0,Z.canvas.width,Z.canvas.height),Z.translate(-s[0],-s[1]),b=_.Util.transform(b,[1,0,0,1,s[0],s[1]]),Z.transform.apply(Z,k.baseTransform),this.matrix&&Z.transform.apply(Z,this.matrix),e(Z,this._bbox),Z.fillStyle=this._createGradient(Z),Z.fill(),i=p.createPattern(T.canvas,"no-repeat");const D=new DOMMatrix(b);try{i.setTransform(D)}catch(N){(0,_.warn)(`RadialAxialShadingPattern.getPattern: "${N?.message}".`)}}else e(p,this._bbox),i=this._createGradient(p);return i}}function u(a,p,k,b,m,i,s,x){const C=p.coords,T=p.colors,Z=a.data,D=4*a.width;let N;C[k+1]>C[b+1]&&(N=k,k=b,b=N,N=i,i=s,s=N),C[b+1]>C[m+1]&&(N=b,b=m,m=N,N=s,s=x,x=N),C[k+1]>C[b+1]&&(N=k,k=b,b=N,N=i,i=s,s=N);const O=(C[k]+p.offsetX)*p.scaleX,G=(C[k+1]+p.offsetY)*p.scaleY,R=(C[b]+p.offsetX)*p.scaleX,Q=(C[b+1]+p.offsetY)*p.scaleY,B=(C[m]+p.offsetX)*p.scaleX,Y=(C[m+1]+p.offsetY)*p.scaleY;if(G>=Y)return;const K=T[i],re=T[i+1],le=T[i+2],I=T[s],l=T[s+1],d=T[s+2],n=T[x],c=T[x+1],f=T[x+2],E=Math.round(G),P=Math.round(Y);let M,J,X,$,te,se,de,_e;for(let Pe=E;Pe<=P;Pe++){if(Pe<Q){let j;j=Pe<G?0:(G-Pe)/(G-Q),M=O-(O-R)*j,J=K-(K-I)*j,X=re-(re-l)*j,$=le-(le-d)*j}else{let j;j=Pe>Y?1:Q===Y?0:(Q-Pe)/(Q-Y),M=R-(R-B)*j,J=I-(I-n)*j,X=l-(l-c)*j,$=d-(d-f)*j}let oe;oe=Pe<G?0:Pe>Y?1:(G-Pe)/(G-Y),te=O-(O-B)*oe,se=K-(K-n)*oe,de=re-(re-c)*oe,_e=le-(le-f)*oe;const he=Math.round(Math.min(M,te)),ue=Math.round(Math.max(M,te));let S=D*Pe+4*he;for(let j=he;j<=ue;j++)oe=(M-j)/(M-te),oe<0?oe=0:oe>1&&(oe=1),Z[S++]=J-(J-se)*oe|0,Z[S++]=X-(X-de)*oe|0,Z[S++]=$-($-_e)*oe|0,Z[S++]=255}}function w(a,p,k){const b=p.coords,m=p.colors;let i,s;switch(p.type){case"lattice":const x=p.verticesPerRow,C=Math.floor(b.length/x)-1,T=x-1;for(i=0;i<C;i++){let Z=i*x;for(let D=0;D<T;D++,Z++)u(a,k,b[Z],b[Z+1],b[Z+x],m[Z],m[Z+1],m[Z+x]),u(a,k,b[Z+x+1],b[Z+1],b[Z+x],m[Z+x+1],m[Z+1],m[Z+x])}break;case"triangles":for(i=0,s=b.length;i<s;i+=3)u(a,k,b[i],b[i+1],b[i+2],m[i],m[i+1],m[i+2]);break;default:throw new Error("illegal figure")}}class y extends ae{constructor(p){super(),this._coords=p[2],this._colors=p[3],this._figures=p[4],this._bounds=p[5],this._bbox=p[7],this._background=p[8],this.matrix=null}_createMeshCanvas(p,k,b){const x=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),T=Math.ceil(this._bounds[2])-x,Z=Math.ceil(this._bounds[3])-C,D=Math.min(Math.ceil(Math.abs(T*p[0]*1.1)),3e3),N=Math.min(Math.ceil(Math.abs(Z*p[1]*1.1)),3e3),O=T/D,G=Z/N,R={coords:this._coords,colors:this._colors,offsetX:-x,offsetY:-C,scaleX:1/O,scaleY:1/G},Y=b.getCanvas("mesh",D+4,N+4,!1),K=Y.context,re=K.createImageData(D,N);if(k){const I=re.data;for(let l=0,d=I.length;l<d;l+=4)I[l]=k[0],I[l+1]=k[1],I[l+2]=k[2],I[l+3]=255}for(const I of this._figures)w(re,I,R);return K.putImageData(re,2,2),{canvas:Y.canvas,offsetX:x-2*O,offsetY:C-2*G,scaleX:O,scaleY:G}}getPattern(p,k,b,m){let i;if(e(p,this._bbox),m===W.SHADING)i=_.Util.singularValueDecompose2dScale(p.mozCurrentTransform);else if(i=_.Util.singularValueDecompose2dScale(k.baseTransform),this.matrix){const x=_.Util.singularValueDecompose2dScale(this.matrix);i=[i[0]*x[0],i[1]*x[1]]}const s=this._createMeshCanvas(i,m===W.SHADING?null:this._background,k.cachedCanvases);return m!==W.SHADING&&(p.setTransform.apply(p,k.baseTransform),this.matrix&&p.transform.apply(p,this.matrix)),p.translate(s.offsetX,s.offsetY),p.scale(s.scaleX,s.scaleY),p.createPattern(s.canvas,"no-repeat")}}class g extends ae{getPattern(){return"hotpink"}}class r{static get MAX_PATTERN_SIZE(){return(0,_.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(p,k,b,m,i){this.operatorList=p[2],this.matrix=p[3]||[1,0,0,1,0,0],this.bbox=p[4],this.xstep=p[5],this.ystep=p[6],this.paintType=p[7],this.tilingType=p[8],this.color=k,this.ctx=b,this.canvasGraphicsFactory=m,this.baseTransform=i}createPatternCanvas(p){const k=this.operatorList,b=this.bbox,m=this.xstep,i=this.ystep,s=this.paintType,C=this.color,T=this.canvasGraphicsFactory;(0,_.info)("TilingType: "+this.tilingType);const Z=b[0],D=b[1],N=b[2],O=b[3],G=_.Util.singularValueDecompose2dScale(this.matrix),R=_.Util.singularValueDecompose2dScale(this.baseTransform),Q=[G[0]*R[0],G[1]*R[1]],B=this.getSizeAndScale(m,this.ctx.canvas.width,Q[0]),Y=this.getSizeAndScale(i,this.ctx.canvas.height,Q[1]),K=p.cachedCanvases.getCanvas("pattern",B.size,Y.size,!0),re=K.context,le=T.createCanvasGraphics(re);le.groupLevel=p.groupLevel,this.setFillAndStrokeStyleToContext(le,s,C);let I=Z,l=D,d=N,n=O;return Z<0&&(I=0,d+=Math.abs(Z)),D<0&&(l=0,n+=Math.abs(D)),re.translate(-B.scale*I,-Y.scale*l),le.transform(B.scale,0,0,Y.scale,0,0),re.save(),this.clipBbox(le,I,l,d,n),le.baseTransform=le.ctx.mozCurrentTransform.slice(),le.executeOperatorList(k),le.endDrawing(),{canvas:K.canvas,scaleX:B.scale,scaleY:Y.scale,offsetX:I,offsetY:l}}getSizeAndScale(p,k,b){p=Math.abs(p);const m=Math.max(r.MAX_PATTERN_SIZE,k);let i=Math.ceil(p*b);return i>=m?i=m:b=i/p,{scale:b,size:i}}clipBbox(p,k,b,m,i){p.ctx.rect(k,b,m-k,i-b),p.current.updateRectMinMax(p.ctx.mozCurrentTransform,[k,b,m,i]),p.clip(),p.endPath()}setFillAndStrokeStyleToContext(p,k,b){const m=p.ctx,i=p.current;switch(k){case 1:const s=this.ctx;m.fillStyle=s.fillStyle,m.strokeStyle=s.strokeStyle,i.fillColor=s.fillStyle,i.strokeColor=s.strokeStyle;break;case 2:const x=_.Util.makeHexColor(b[0],b[1],b[2]);m.fillStyle=x,m.strokeStyle=x,i.fillColor=x,i.strokeColor=x;break;default:throw new _.FormatError(`Unsupported paint type: ${k}`)}}getPattern(p,k,b,m){let i=b;m!==W.SHADING&&(i=_.Util.transform(i,k.baseTransform),this.matrix&&(i=_.Util.transform(i,this.matrix)));const s=this.createPatternCanvas(k);let x=new DOMMatrix(i);x=x.translate(s.offsetX,s.offsetY),x=x.scale(1/s.scaleX,1/s.scaleY);const C=p.createPattern(s.canvas,"repeat");try{C.setTransform(x)}catch(T){(0,_.warn)(`TilingPattern.getPattern: "${T?.message}".`)}return C}}F.TilingPattern=r},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.applyMaskImageData=function fe({src:W,srcPos:e=0,dest:ae,destPos:V=0,width:u,height:w,inverseDecode:y=!1}){const g=_.FeatureTest.isLittleEndian?4278190080:255,[o,A]=y?[0,g]:[g,0],r=u>>3,a=7&u,p=W.length;ae=new Uint32Array(ae.buffer);for(let k=0;k<w;k++){for(const m=e+r;e<m;e++){const i=e<p?W[e]:255;ae[V++]=128&i?A:o,ae[V++]=64&i?A:o,ae[V++]=32&i?A:o,ae[V++]=16&i?A:o,ae[V++]=8&i?A:o,ae[V++]=4&i?A:o,ae[V++]=2&i?A:o,ae[V++]=1&i?A:o}if(0===a)continue;const b=e<p?W[e++]:255;for(let m=0;m<a;m++)ae[V++]=b&1<<7-m?A:o}return{srcPos:e,destPos:V}};var _=ee(1)},(be,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.GlobalWorkerOptions=void 0;const ee=Object.create(null);F.GlobalWorkerOptions=ee,ee.workerPort=void 0===ee.workerPort?null:ee.workerPort,ee.workerSrc=void 0===ee.workerSrc?"":ee.workerSrc},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.MessageHandler=void 0;var _=ee(1);function e(V){switch(V instanceof Error||"object"==typeof V&&null!==V||(0,_.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),V.name){case"AbortException":return new _.AbortException(V.message);case"MissingPDFException":return new _.MissingPDFException(V.message);case"PasswordException":return new _.PasswordException(V.message,V.code);case"UnexpectedResponseException":return new _.UnexpectedResponseException(V.message,V.status);case"UnknownErrorException":return new _.UnknownErrorException(V.message,V.details);default:return new _.UnknownErrorException(V.message,V.toString())}}F.MessageHandler=class ae{constructor(u,w,y){this.sourceName=u,this.targetName=w,this.comObj=y,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const o=g.data;if(o.targetName!==this.sourceName)return;if(o.stream)return void this._processStreamMessage(o);if(o.callback){const r=o.callbackId,a=this.callbackCapabilities[r];if(!a)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===o.callback)a.resolve(o.data);else{if(2!==o.callback)throw new Error("Unexpected callback case");a.reject(e(o.reason))}return}const A=this.actionHandler[o.action];if(!A)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const r=this.sourceName,a=o.sourceName;new Promise(function(p){p(A(o.data))}).then(function(p){y.postMessage({sourceName:r,targetName:a,callback:1,callbackId:o.callbackId,data:p})},function(p){y.postMessage({sourceName:r,targetName:a,callback:2,callbackId:o.callbackId,reason:e(p)})})}else o.streamId?this._createStreamSink(o):A(o.data)},y.addEventListener("message",this._onComObjOnMessage)}on(u,w){const y=this.actionHandler;if(y[u])throw new Error(`There is already an actionName called "${u}"`);y[u]=w}send(u,w,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:w},y)}sendWithPromise(u,w,y){const g=this.callbackId++,o=(0,_.createPromiseCapability)();this.callbackCapabilities[g]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:g,data:w},y)}catch(A){o.reject(A)}return o.promise}sendWithStream(u,w,y,g){const o=this.streamId++,A=this.sourceName,r=this.targetName,a=this.comObj;return new ReadableStream({start:p=>{const k=(0,_.createPromiseCapability)();return this.streamControllers[o]={controller:p,startCall:k,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:A,targetName:r,action:u,streamId:o,data:w,desiredSize:p.desiredSize},g),k.promise},pull:p=>{const k=(0,_.createPromiseCapability)();return this.streamControllers[o].pullCall=k,a.postMessage({sourceName:A,targetName:r,stream:6,streamId:o,desiredSize:p.desiredSize}),k.promise},cancel:p=>{(0,_.assert)(p instanceof Error,"cancel must have a valid reason");const k=(0,_.createPromiseCapability)();return this.streamControllers[o].cancelCall=k,this.streamControllers[o].isClosed=!0,a.postMessage({sourceName:A,targetName:r,stream:1,streamId:o,reason:e(p)}),k.promise}},y)}_createStreamSink(u){const w=u.streamId,y=this.sourceName,g=u.sourceName,o=this.comObj,A=this,r=this.actionHandler[u.action],a={enqueue(p,k=1,b){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=k,m>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_.createPromiseCapability)(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:y,targetName:g,stream:4,streamId:w,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:y,targetName:g,stream:3,streamId:w}),delete A.streamSinks[w])},error(p){(0,_.assert)(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:y,targetName:g,stream:5,streamId:w,reason:e(p)}))},sinkCapability:(0,_.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[w]=a,new Promise(function(p){p(r(u.data,a))}).then(function(){o.postMessage({sourceName:y,targetName:g,stream:8,streamId:w,success:!0})},function(p){o.postMessage({sourceName:y,targetName:g,stream:8,streamId:w,reason:e(p)})})}_processStreamMessage(u){const w=u.streamId,y=this.sourceName,g=u.sourceName,o=this.comObj,A=this.streamControllers[w],r=this.streamSinks[w];switch(u.stream){case 8:u.success?A.startCall.resolve():A.startCall.reject(e(u.reason));break;case 7:u.success?A.pullCall.resolve():A.pullCall.reject(e(u.reason));break;case 6:if(!r){o.postMessage({sourceName:y,targetName:g,stream:7,streamId:w,success:!0});break}r.desiredSize<=0&&u.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=u.desiredSize,new Promise(function(a){a(r.onPull&&r.onPull())}).then(function(){o.postMessage({sourceName:y,targetName:g,stream:7,streamId:w,success:!0})},function(a){o.postMessage({sourceName:y,targetName:g,stream:7,streamId:w,reason:e(a)})});break;case 4:if((0,_.assert)(A,"enqueue should have stream controller"),A.isClosed)break;A.controller.enqueue(u.chunk);break;case 3:if((0,_.assert)(A,"close should have stream controller"),A.isClosed)break;A.isClosed=!0,A.controller.close(),this._deleteStreamController(A,w);break;case 5:(0,_.assert)(A,"error should have stream controller"),A.controller.error(e(u.reason)),this._deleteStreamController(A,w);break;case 2:u.success?A.cancelCall.resolve():A.cancelCall.reject(e(u.reason)),this._deleteStreamController(A,w);break;case 1:if(!r)break;new Promise(function(a){a(r.onCancel&&r.onCancel(e(u.reason)))}).then(function(){o.postMessage({sourceName:y,targetName:g,stream:2,streamId:w,success:!0})},function(a){o.postMessage({sourceName:y,targetName:g,stream:2,streamId:w,reason:e(a)})}),r.sinkCapability.reject(e(u.reason)),r.isCancelled=!0,delete this.streamSinks[w];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(u,w){var y=this;return _asyncToGenerator(function*(){yield Promise.allSettled([u.startCall&&u.startCall.promise,u.pullCall&&u.pullCall.promise,u.cancelCall&&u.cancelCall.promise]),delete y.streamControllers[w]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(be,F,ee)=>{var W,e;Object.defineProperty(F,"__esModule",{value:!0}),F.Metadata=void 0;var _=ee(1);W=new WeakMap,e=new WeakMap,F.Metadata=class fe{constructor({parsedData:V,rawData:u}){ke(this,W,void 0),ke(this,e,void 0),Ue(this,W,V),Ue(this,e,u)}getRaw(){return we(this,e)}get(V){return we(this,W).get(V)??null}getAll(){return(0,_.objectFromMap)(we(this,W))}has(V){return we(this,W).has(V)}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.OptionalContentConfig=void 0;var _=ee(1);class fe{constructor(ae,V){this.visible=!0,this.name=ae,this.intent=V}}F.OptionalContentConfig=class W{constructor(ae){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ae){this.name=ae.name,this.creator=ae.creator,this._order=ae.order;for(const V of ae.groups)this._groups.set(V.id,new fe(V.name,V.intent));if("OFF"===ae.baseState)for(const V of this._groups)V.visible=!1;for(const V of ae.on)this._groups.get(V).visible=!0;for(const V of ae.off)this._groups.get(V).visible=!1}}_evaluateVisibilityExpression(ae){const V=ae.length;if(V<2)return!0;const u=ae[0];for(let w=1;w<V;w++){const y=ae[w];let g;if(Array.isArray(y))g=this._evaluateVisibilityExpression(y);else{if(!this._groups.has(y))return(0,_.warn)(`Optional content group not found: ${y}`),!0;g=this._groups.get(y).visible}switch(u){case"And":if(!g)return!1;break;case"Or":if(g)return!0;break;case"Not":return!g;default:return!0}}return"And"===u}isVisible(ae){if(0===this._groups.size)return!0;if(!ae)return(0,_.warn)("Optional content group not defined."),!0;if("OCG"===ae.type)return this._groups.has(ae.id)?this._groups.get(ae.id).visible:((0,_.warn)(`Optional content group not found: ${ae.id}`),!0);if("OCMD"===ae.type){if(ae.expression)return this._evaluateVisibilityExpression(ae.expression);if(!ae.policy||"AnyOn"===ae.policy){for(const V of ae.ids){if(!this._groups.has(V))return(0,_.warn)(`Optional content group not found: ${V}`),!0;if(this._groups.get(V).visible)return!0}return!1}if("AllOn"===ae.policy){for(const V of ae.ids){if(!this._groups.has(V))return(0,_.warn)(`Optional content group not found: ${V}`),!0;if(!this._groups.get(V).visible)return!1}return!0}if("AnyOff"===ae.policy){for(const V of ae.ids){if(!this._groups.has(V))return(0,_.warn)(`Optional content group not found: ${V}`),!0;if(!this._groups.get(V).visible)return!0}return!1}if("AllOff"===ae.policy){for(const V of ae.ids){if(!this._groups.has(V))return(0,_.warn)(`Optional content group not found: ${V}`),!0;if(this._groups.get(V).visible)return!1}return!0}return(0,_.warn)(`Unknown optional content policy ${ae.policy}.`),!0}return(0,_.warn)(`Unknown group type ${ae.type}.`),!0}setVisibility(ae,V=!0){this._groups.has(ae)?this._groups.get(ae).visible=!!V:(0,_.warn)(`Optional content group not found: ${ae}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,_.objectFromMap)(this._groups):null}getGroup(ae){return this._groups.get(ae)||null}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFDataTransportStream=void 0;var _=ee(1),fe=ee(5);F.PDFDataTransportStream=class W{constructor(u,w){(0,_.assert)(w,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=u.progressiveDone||!1,this._contentDispositionFilename=u.contentDispositionFilename||null;const y=u.initialData;if(y?.length>0){const g=new Uint8Array(y).buffer;this._queuedChunks.push(g)}this._pdfDataRangeTransport=w,this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._contentLength=u.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((g,o)=>{this._onReceiveData({begin:g,chunk:o})}),this._pdfDataRangeTransport.addProgressListener((g,o)=>{this._onProgress({loaded:g,total:o})}),this._pdfDataRangeTransport.addProgressiveReadListener(g=>{this._onReceiveData({chunk:g})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(u){const w=new Uint8Array(u.chunk).buffer;if(void 0===u.begin)this._fullRequestReader?this._fullRequestReader._enqueue(w):this._queuedChunks.push(w);else{const y=this._rangeReaders.some(function(g){return g._begin===u.begin&&(g._enqueue(w),!0)});(0,_.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(u){if(void 0===u.total){const w=this._rangeReaders[0];w?.onProgress&&w.onProgress({loaded:u.loaded})}else{const w=this._fullRequestReader;w?.onProgress&&w.onProgress({loaded:u.loaded,total:u.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){const w=this._rangeReaders.indexOf(u);w>=0&&this._rangeReaders.splice(w,1)}getFullReader(){(0,_.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const u=this._queuedChunks;return this._queuedChunks=null,new e(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,w){if(w<=this._progressiveDataLength)return null;const y=new ae(this,u,w);return this._pdfDataRangeTransport.requestDataRange(u,w),this._rangeReaders.push(y),y}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(const w of this._rangeReaders.slice(0))w.cancel(u);this._pdfDataRangeTransport.abort()}};class e{constructor(u,w,y=!1,g=null){this._stream=u,this._done=y||!1,this._filename=(0,fe.isPdfFile)(g)?g:null,this._queuedChunks=w||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var u=this;return _asyncToGenerator(function*(){if(u._queuedChunks.length>0)return{value:u._queuedChunks.shift(),done:!1};if(u._done)return{value:void 0,done:!0};const w=(0,_.createPromiseCapability)();return u._requests.push(w),w.promise})()}cancel(u){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ae{constructor(u,w,y){this._stream=u,this._begin=w,this._end=y,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(0===this._requests.length)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var u=this;return _asyncToGenerator(function*(){if(u._queuedChunk){const y=u._queuedChunk;return u._queuedChunk=null,{value:y,done:!1}}if(u._done)return{value:void 0,done:!0};const w=(0,_.createPromiseCapability)();return u._requests.push(w),w.promise})()}cancel(u){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(be,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.XfaText=void 0;class ee{static textContent(fe){const W=[],e={items:W,styles:Object.create(null)};return function ae(V){if(!V)return;let u=null;const w=V.name;if("#text"===w)u=V.value;else{if(!ee.shouldBuildText(w))return;V?.attributes?.textContent?u=V.attributes.textContent:V.value&&(u=V.value)}if(null!==u&&W.push({str:u}),V.children)for(const y of V.children)ae(y)}(fe),e}static shouldBuildText(fe){return!("textarea"===fe||"input"===fe||"option"===fe||"select"===fe)}}F.XfaText=ee},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.NodeStandardFontDataFactory=F.NodeCanvasFactory=F.NodeCMapReaderFactory=void 0;var _=ee(6);const fe=function(V){return new Promise((u,w)=>{__webpack_require__(172).readFile(V,(g,o)=>{!g&&o?u(new Uint8Array(o)):w(new Error(g))})})};F.NodeCanvasFactory=class W extends _.BaseCanvasFactory{_createCanvas(u,w){return __webpack_require__(3414).createCanvas(u,w)}},F.NodeCMapReaderFactory=class e extends _.BaseCMapReaderFactory{_fetchData(u,w){return fe(u).then(y=>({cMapData:y,compressionType:w}))}},F.NodeStandardFontDataFactory=class ae extends _.BaseStandardFontDataFactory{_fetchData(u){return fe(u)}}},(be,F,ee)=>{var I,It;Object.defineProperty(F,"__esModule",{value:!0}),F.AnnotationLayer=void 0;var _=ee(1),fe=ee(5),W=ee(8),e=ee(21),ae=ee(22);const V=1e3,u=new WeakSet;function w(d){return{width:d[2]-d[0],height:d[3]-d[1]}}class y{static create(n){switch(n.data.annotationType){case _.AnnotationType.LINK:return new o(n);case _.AnnotationType.TEXT:return new A(n);case _.AnnotationType.WIDGET:switch(n.data.fieldType){case"Tx":return new a(n);case"Btn":return n.data.radioButton?new k(n):n.data.checkBox?new p(n):new b(n);case"Ch":return new m(n)}return new r(n);case _.AnnotationType.POPUP:return new i(n);case _.AnnotationType.FREETEXT:return new x(n);case _.AnnotationType.LINE:return new C(n);case _.AnnotationType.SQUARE:return new T(n);case _.AnnotationType.CIRCLE:return new Z(n);case _.AnnotationType.POLYLINE:return new D(n);case _.AnnotationType.CARET:return new O(n);case _.AnnotationType.INK:return new G(n);case _.AnnotationType.POLYGON:return new N(n);case _.AnnotationType.HIGHLIGHT:return new R(n);case _.AnnotationType.UNDERLINE:return new Q(n);case _.AnnotationType.SQUIGGLY:return new B(n);case _.AnnotationType.STRIKEOUT:return new Y(n);case _.AnnotationType.STAMP:return new K(n);case _.AnnotationType.FILEATTACHMENT:return new re(n);default:return new g(n)}}}class g{constructor(n,{isRenderable:c=!1,ignoreBorder:f=!1,createQuadrilaterals:E=!1}={}){this.isRenderable=c,this.data=n.data,this.layer=n.layer,this.page=n.page,this.viewport=n.viewport,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this._mouseState=n.mouseState,c&&(this.container=this._createContainer(f)),E&&(this.quadrilaterals=this._createQuadrilaterals(f))}_createContainer(n=!1){const c=this.data,f=this.page,E=this.viewport,P=document.createElement("section");let{width:M,height:J}=w(c.rect);P.setAttribute("data-annotation-id",c.id);const X=_.Util.normalizeRect([c.rect[0],f.view[3]-c.rect[1]+f.view[1],c.rect[2],f.view[3]-c.rect[3]+f.view[1]]);if(c.hasOwnCanvas){const $=E.transform.slice(),[te,se]=_.Util.singularValueDecompose2dScale($);M=Math.ceil(M*te),J=Math.ceil(J*se),X[0]*=te,X[1]*=se;for(let de=0;de<4;de++)$[de]=Math.sign($[de]);P.style.transform=`matrix(${$.join(",")})`}else P.style.transform=`matrix(${E.transform.join(",")})`;if(P.style.transformOrigin=`${-X[0]}px ${-X[1]}px`,!n&&c.borderStyle.width>0){P.style.borderWidth=`${c.borderStyle.width}px`,c.borderStyle.style!==_.AnnotationBorderStyleType.UNDERLINE&&(M-=2*c.borderStyle.width,J-=2*c.borderStyle.width);const $=c.borderStyle.horizontalCornerRadius,te=c.borderStyle.verticalCornerRadius;switch(($>0||te>0)&&(P.style.borderRadius=`${$}px / ${te}px`),c.borderStyle.style){case _.AnnotationBorderStyleType.SOLID:P.style.borderStyle="solid";break;case _.AnnotationBorderStyleType.DASHED:P.style.borderStyle="dashed";break;case _.AnnotationBorderStyleType.BEVELED:(0,_.warn)("Unimplemented border style: beveled");break;case _.AnnotationBorderStyleType.INSET:(0,_.warn)("Unimplemented border style: inset");break;case _.AnnotationBorderStyleType.UNDERLINE:P.style.borderBottomStyle="solid"}c.borderColor||c.color?P.style.borderColor=_.Util.makeHexColor(0|c.color[0],0|c.color[1],0|c.color[2]):P.style.borderWidth=0}return P.style.left=`${X[0]}px`,P.style.top=`${X[1]}px`,c.hasOwnCanvas?P.style.width=P.style.height="auto":(P.style.width=`${M}px`,P.style.height=`${J}px`),P}get _commonActions(){const n=(c,f,E)=>{const P=E.detail[c];E.target.style[f]=e.ColorConverters[`${P[0]}_HTML`](P.slice(1))};return(0,_.shadow)(this,"_commonActions",{display:c=>{const f=c.detail.display%2==1;c.target.style.visibility=f?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:f,print:0===c.detail.display||3===c.detail.display})},print:c=>{this.annotationStorage.setValue(this.data.id,{print:c.detail.print})},hidden:c=>{c.target.style.visibility=c.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:c.detail.hidden})},focus:c=>{setTimeout(()=>c.target.focus({preventScroll:!1}),0)},userName:c=>{c.target.title=c.detail.userName},readonly:c=>{c.detail.readonly?c.target.setAttribute("readonly",""):c.target.removeAttribute("readonly")},required:c=>{c.detail.required?c.target.setAttribute("required",""):c.target.removeAttribute("required")},bgColor:c=>{n("bgColor","backgroundColor",c)},fillColor:c=>{n("fillColor","backgroundColor",c)},fgColor:c=>{n("fgColor","color",c)},textColor:c=>{n("textColor","color",c)},borderColor:c=>{n("borderColor","borderColor",c)},strokeColor:c=>{n("strokeColor","borderColor",c)}})}_dispatchEventFromSandbox(n,c){const f=this._commonActions;for(const E of Object.keys(c.detail)){const P=n[E]||f[E];P&&P(c)}}_setDefaultPropertiesFromJS(n){if(!this.enableScripting)return;const c=this.annotationStorage.getRawValue(this.data.id);if(!c)return;const f=this._commonActions;for(const[E,P]of Object.entries(c)){const M=f[E];M&&(M({detail:P,target:n}),delete c[E])}}_createQuadrilaterals(n=!1){if(!this.data.quadPoints)return null;const c=[],f=this.data.rect;for(const E of this.data.quadPoints)this.data.rect=[E[2].x,E[2].y,E[1].x,E[1].y],c.push(this._createContainer(n));return this.data.rect=f,c}_createPopup(n,c){let f=this.container;this.quadrilaterals&&(n=n||this.quadrilaterals,f=this.quadrilaterals[0]),n||((n=document.createElement("div")).style.height=f.style.height,n.style.width=f.style.width,f.appendChild(n));const P=new s({container:f,trigger:n,color:c.color,titleObj:c.titleObj,modificationDate:c.modificationDate,contentsObj:c.contentsObj,richText:c.richText,hideWrapper:!0}).render();P.style.left=f.style.width,f.appendChild(P)}_renderQuadrilaterals(n){for(const c of this.quadrilaterals)c.className=n;return this.quadrilaterals}render(){(0,_.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,c=null){const f=[];if(this._fieldObjects){const E=this._fieldObjects[n];if(E)for(const{page:P,id:M,exportValues:J}of E){if(-1===P||M===c)continue;const X="string"==typeof J?J:null,$=document.getElementById(M);!$||u.has($)?f.push({id:M,exportValue:X,domElement:$}):(0,_.warn)(`_getElementsByName - element not allowed: ${M}`)}return f}for(const E of document.getElementsByName(n)){const{id:P,exportValue:M}=E;P!==c&&(!u.has(E)||f.push({id:P,exportValue:M,domElement:E}))}return f}static get platform(){const n=typeof navigator<"u"?navigator.platform:"";return(0,_.shadow)(this,"platform",{isWin:n.includes("Win"),isMac:n.includes("Mac")})}}class o extends g{constructor(n,c=null){super(n,{isRenderable:!!(n.data.url||n.data.dest||n.data.action||n.data.isTooltipOnly||n.data.resetForm||n.data.actions&&(n.data.actions.Action||n.data.actions["Mouse Up"]||n.data.actions["Mouse Down"])),ignoreBorder:!!c?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:n,linkService:c}=this,f=document.createElement("a");if(n.url)c.addLinkAttributes(f,n.url,n.newWindow);else if(n.action)this._bindNamedAction(f,n.action);else if(n.dest)this._bindLink(f,n.dest);else{let E=!1;n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(E=!0,this._bindJSAction(f,n)),n.resetForm?this._bindResetFormAction(f,n.resetForm):E||this._bindLink(f,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((E,P)=>{const M=0===P?f:f.cloneNode();return E.appendChild(M),E}):(this.container.className="linkAnnotation",this.container.appendChild(f),this.container)}_bindLink(n,c){n.href=this.linkService.getDestinationHash(c),n.onclick=()=>(c&&this.linkService.goToDestination(c),!1),(c||""===c)&&(n.className="internalLink")}_bindNamedAction(n,c){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(c),!1),n.className="internalLink"}_bindJSAction(n,c){n.href=this.linkService.getAnchorUrl("");const f=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const E of Object.keys(c.actions)){const P=f.get(E);!P||(n[P]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c.id,name:E}}),!1))}n.onclick||(n.onclick=()=>!1),n.className="internalLink"}_bindResetFormAction(n,c){const f=n.onclick;if(f||(n.href=this.linkService.getAnchorUrl("")),n.className="internalLink",!this._fieldObjects)return(0,_.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(f||(n.onclick=()=>!1));n.onclick=()=>{f&&f();const{fields:E,refs:P,include:M}=c,J=[];if(0!==E.length||0!==P.length){const te=new Set(P);for(const se of E){const de=this._fieldObjects[se]||[];for(const{id:_e}of de)te.add(_e)}for(const se of Object.values(this._fieldObjects))for(const de of se)te.has(de.id)===M&&J.push(de)}else for(const te of Object.values(this._fieldObjects))J.push(...te);const X=this.annotationStorage,$=[];for(const te of J){const{id:se}=te;switch($.push(se),te.type){case"text":case"combobox":case"listbox":X.setValue(se,{value:te.defaultValue||""});break;case"checkbox":case"radiobutton":X.setValue(se,{value:te.defaultValue===te.exportValues});break;default:continue}const de=document.getElementById(se);!de||!u.has(de)||de.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:$,name:"ResetForm"}}),!1}}}class A extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str)})}render(){this.container.className="textAnnotation";const n=document.createElement("img");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.alt="[{{type}} Annotation]",n.dataset.l10nId="text_annotation_type",n.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(n,this.data),this.container.appendChild(n),this.container}}class r extends g{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(n){const{isWin:c,isMac:f}=g.platform;return c&&n.ctrlKey||f&&n.metaKey}_setEventListener(n,c,f,E){c.includes("mouse")?n.addEventListener(c,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:f,value:E(P),shift:P.shiftKey,modifier:this._getKeyModifier(P)}})}):n.addEventListener(c,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:f,value:E(P)}})})}_setEventListeners(n,c,f){for(const[E,P]of c)("Action"===P||this.data.actions?.[P])&&this._setEventListener(n,E,P,f)}_setBackgroundColor(n){const c=this.data.backgroundColor||null;n.style.backgroundColor=null===c?"transparent":_.Util.makeHexColor(c[0],c[1],c[2])}}class a extends r{constructor(n){super(n,{isRenderable:n.renderForms||!n.data.hasAppearance&&!!n.data.fieldValue})}setPropertyOnSiblings(n,c,f,E){const P=this.annotationStorage;for(const M of this._getElementsByName(n.name,n.id))M.domElement&&(M.domElement[c]=f),P.setValue(M.id,{[E]:f})}render(){const n=this.annotationStorage,c=this.data.id;this.container.className="textWidgetAnnotation";let f=null;if(this.renderForms){const E=n.getValue(c,{value:this.data.fieldValue}),P=E.formattedValue||E.value||"",M={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(f=document.createElement("textarea"),f.textContent=P):(f=document.createElement("input"),f.type="text",f.setAttribute("value",P)),u.add(f),f.disabled=this.data.readOnly,f.name=this.data.fieldName,f.tabIndex=V,M.userValue=P,f.setAttribute("id",c),f.addEventListener("input",X=>{n.setValue(c,{value:X.target.value}),this.setPropertyOnSiblings(f,"value",X.target.value,"value")}),f.addEventListener("resetform",X=>{f.value=M.userValue=this.data.defaultFieldValue??"",M.formattedValue=null});let J=X=>{const{formattedValue:$}=M;null!=$&&(X.target.value=$),X.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){f.addEventListener("focus",$=>{M.userValue&&($.target.value=M.userValue),M.valueOnFocus=$.target.value}),f.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(se){M.userValue=se.detail.value??"",n.setValue(c,{value:M.userValue.toString()}),se.target.value=M.userValue},formattedValue(se){const{formattedValue:de}=se.detail;M.formattedValue=de,null!=de&&se.target!==document.activeElement&&(se.target.value=de),n.setValue(c,{formattedValue:de})},selRange(se){se.target.setSelectionRange(...se.detail.selRange)}},$)}),f.addEventListener("keydown",$=>{let te=-1;if("Escape"===$.key?te=0:"Enter"===$.key?te=2:"Tab"===$.key&&(te=3),-1===te)return;const{value:se}=$.target;M.valueOnFocus!==se&&(M.userValue=se,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:se,willCommit:!0,commitKey:te,selStart:$.target.selectionStart,selEnd:$.target.selectionEnd}}))});const X=J;J=null,f.addEventListener("blur",$=>{const{value:te}=$.target;M.userValue=te,this._mouseState.isDown&&M.valueOnFocus!==te&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:te,willCommit:!0,commitKey:1,selStart:$.target.selectionStart,selEnd:$.target.selectionEnd}}),X($)}),this.data.actions?.Keystroke&&f.addEventListener("beforeinput",$=>{const{data:te,target:se}=$,{value:de,selectionStart:_e,selectionEnd:Pe}=se;let oe=_e,he=Pe;switch($.inputType){case"deleteWordBackward":{const ue=de.substring(0,_e).match(/\w*[^\w]*$/);ue&&(oe-=ue[0].length);break}case"deleteWordForward":{const ue=de.substring(_e).match(/^[^\w]*\w*/);ue&&(he+=ue[0].length);break}case"deleteContentBackward":_e===Pe&&(oe-=1);break;case"deleteContentForward":_e===Pe&&(he+=1)}$.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:de,change:te||"",willCommit:!1,selStart:oe,selEnd:he}})}),this._setEventListeners(f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.value)}if(J&&f.addEventListener("blur",J),null!==this.data.maxLen&&(f.maxLength=this.data.maxLen),this.data.comb){const $=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;f.classList.add("comb"),f.style.letterSpacing=`calc(${$}px - 1ch)`}}else f=document.createElement("div"),f.textContent=this.data.fieldValue,f.style.verticalAlign="middle",f.style.display="table-cell";return this._setTextStyle(f),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}_setTextStyle(n){const{fontSize:f,fontColor:E}=this.data.defaultAppearanceData,P=n.style;f&&(P.fontSize=`${f}px`),P.color=_.Util.makeHexColor(E[0],E[1],E[2]),null!==this.data.textAlignment&&(P.textAlign=["left","center","right"][this.data.textAlignment])}}class p extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,c=this.data,f=c.id;let E=n.getValue(f,{value:c.exportValue===c.fieldValue}).value;"string"==typeof E&&(E="Off"!==E,n.setValue(f,{value:E})),this.container.className="buttonWidgetAnnotation checkBox";const P=document.createElement("input");return u.add(P),P.disabled=c.readOnly,P.type="checkbox",P.name=c.fieldName,E&&P.setAttribute("checked",!0),P.setAttribute("id",f),P.setAttribute("exportValue",c.exportValue),P.tabIndex=V,P.addEventListener("change",M=>{const{name:J,checked:X}=M.target;for(const $ of this._getElementsByName(J,f)){const te=X&&$.exportValue===c.exportValue;$.domElement&&($.domElement.checked=te),n.setValue($.id,{value:te})}n.setValue(f,{value:X})}),P.addEventListener("resetform",M=>{M.target.checked=(c.defaultFieldValue||"Off")===c.exportValue}),this.enableScripting&&this.hasJSActions&&(P.addEventListener("updatefromsandbox",M=>{this._dispatchEventFromSandbox({value(X){X.target.checked="Off"!==X.detail.value,n.setValue(f,{value:X.target.checked})}},M)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],M=>M.target.checked)),this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.appendChild(P),this.container}}class k extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const n=this.annotationStorage,c=this.data,f=c.id;let E=n.getValue(f,{value:c.fieldValue===c.buttonValue}).value;"string"==typeof E&&(E=E!==c.buttonValue,n.setValue(f,{value:E}));const P=document.createElement("input");if(u.add(P),P.disabled=c.readOnly,P.type="radio",P.name=c.fieldName,E&&P.setAttribute("checked",!0),P.setAttribute("id",f),P.tabIndex=V,P.addEventListener("change",M=>{const{name:J,checked:X}=M.target;for(const $ of this._getElementsByName(J,f))n.setValue($.id,{value:!1});n.setValue(f,{value:X})}),P.addEventListener("resetform",M=>{const J=c.defaultFieldValue;M.target.checked=null!=J&&J===c.buttonValue}),this.enableScripting&&this.hasJSActions){const M=c.buttonValue;P.addEventListener("updatefromsandbox",J=>{this._dispatchEventFromSandbox({value:$=>{const te=M===$.detail.value;for(const se of this._getElementsByName($.target.name)){const de=te&&se.id===f;se.domElement&&(se.domElement.checked=de),n.setValue(se.id,{value:de})}}},J)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)}return this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.appendChild(P),this.container}}class b extends o{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();return n.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(n.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(n),n}}class m extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const n=this.annotationStorage,c=this.data.id,f=n.getValue(c,{value:this.data.fieldValue});let{fontSize:E}=this.data.defaultAppearanceData;E||(E=9);const P=`calc(${E}px * var(--zoom-factor))`,M=document.createElement("select");u.add(M),M.disabled=this.data.readOnly,M.name=this.data.fieldName,M.setAttribute("id",c),M.tabIndex=V,M.style.fontSize=`${E}px`,this.data.combo||(M.size=this.data.options.length,this.data.multiSelect&&(M.multiple=!0)),M.addEventListener("resetform",$=>{const te=this.data.defaultFieldValue;for(const se of M.options)se.selected=se.value===te});for(const $ of this.data.options){const te=document.createElement("option");te.textContent=$.displayValue,te.value=$.exportValue,this.data.combo&&(te.style.fontSize=P),f.value.includes($.exportValue)&&te.setAttribute("selected",!0),M.appendChild(te)}const J=($,te)=>{const se=te?"value":"textContent",de=$.target.options;return $.target.multiple?Array.prototype.filter.call(de,_e=>_e.selected).map(_e=>_e[se]):-1===de.selectedIndex?null:de[de.selectedIndex][se]},X=$=>Array.prototype.map.call($.target.options,se=>({displayValue:se.textContent,exportValue:se.value}));return this.enableScripting&&this.hasJSActions?(M.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(se){const de=se.detail.value,_e=new Set(Array.isArray(de)?de:[de]);for(const Pe of M.options)Pe.selected=_e.has(Pe.value);n.setValue(c,{value:J(se,!0)})},multipleSelection(se){M.multiple=!0},remove(se){const de=M.options,_e=se.detail.remove;de[_e].selected=!1,M.remove(_e),de.length>0&&-1===Array.prototype.findIndex.call(de,oe=>oe.selected)&&(de[0].selected=!0),n.setValue(c,{value:J(se,!0),items:X(se)})},clear(se){for(;0!==M.length;)M.remove(0);n.setValue(c,{value:null,items:[]})},insert(se){const{index:de,displayValue:_e,exportValue:Pe}=se.detail.insert,oe=document.createElement("option");oe.textContent=_e,oe.value=Pe,M.insertBefore(oe,M.children[de]),n.setValue(c,{value:J(se,!0),items:X(se)})},items(se){const{items:de}=se.detail;for(;0!==M.length;)M.remove(0);for(const _e of de){const{displayValue:Pe,exportValue:oe}=_e,he=document.createElement("option");he.textContent=Pe,he.value=oe,M.appendChild(he)}M.options.length>0&&(M.options[0].selected=!0),n.setValue(c,{value:J(se,!0),items:X(se)})},indices(se){const de=new Set(se.detail.indices);for(const _e of se.target.options)_e.selected=de.has(_e.index);n.setValue(c,{value:J(se,!0)})},editable(se){se.target.disabled=!se.detail.editable}},$)}),M.addEventListener("input",$=>{const te=J($,!0),se=J($,!1);n.setValue(c,{value:te}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:se,changeEx:te,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(M,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):M.addEventListener("input",function($){n.setValue(c,{value:J($,!0)})}),this._setBackgroundColor(M),this._setDefaultPropertiesFromJS(M),this.container.appendChild(M),this.container}}class i extends g{constructor(n){super(n,{isRenderable:!!(n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const f=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===f.length)return this.container;const E=new s({container:this.container,trigger:Array.from(f),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),P=this.page,M=_.Util.normalizeRect([this.data.parentRect[0],P.view[3]-this.data.parentRect[1]+P.view[1],this.data.parentRect[2],P.view[3]-this.data.parentRect[3]+P.view[1]]),J=M[0]+this.data.parentRect[2]-this.data.parentRect[0],X=M[1];return this.container.style.transformOrigin=`${-J}px ${-X}px`,this.container.style.left=`${J}px`,this.container.style.top=`${X}px`,this.container.appendChild(E.render()),this.container}}class s{constructor(n){this.container=n.container,this.trigger=n.trigger,this.color=n.color,this.titleObj=n.titleObj,this.modificationDate=n.modificationDate,this.contentsObj=n.contentsObj,this.richText=n.richText,this.hideWrapper=n.hideWrapper||!1,this.pinned=!1}render(){const c=document.createElement("div");c.className="popupWrapper",this.hideElement=this.hideWrapper?c:this.container,this.hideElement.hidden=!0;const f=document.createElement("div");f.className="popup";const E=this.color;E&&(f.style.backgroundColor=_.Util.makeHexColor(0|.7*(255-E[0])+E[0],0|.7*(255-E[1])+E[1],0|.7*(255-E[2])+E[2]));const P=document.createElement("h1");P.dir=this.titleObj.dir,P.textContent=this.titleObj.str,f.appendChild(P);const M=fe.PDFDateString.toDateObject(this.modificationDate);if(M){const J=document.createElement("span");J.className="popupDate",J.textContent="{{date}}, {{time}}",J.dataset.l10nId="annotation_date_string",J.dataset.l10nArgs=JSON.stringify({date:M.toLocaleDateString(),time:M.toLocaleTimeString()}),f.appendChild(J)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const J=this._formatContents(this.contentsObj);f.appendChild(J)}else ae.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:f}),f.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const J of this.trigger)J.addEventListener("click",this._toggle.bind(this)),J.addEventListener("mouseover",this._show.bind(this,!1)),J.addEventListener("mouseout",this._hide.bind(this,!1));return f.addEventListener("click",this._hide.bind(this,!0)),c.appendChild(f),c}_formatContents({str:n,dir:c}){const f=document.createElement("p");f.className="popupContent",f.dir=c;const E=n.split(/(?:\r\n?|\n)/);for(let P=0,M=E.length;P<M;++P)f.appendChild(document.createTextNode(E[P])),P<M-1&&f.appendChild(document.createElement("br"));return f}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(n=!1){n&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(n=!0){n&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class x extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class C extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const n=this.data,{width:c,height:f}=w(n.rect),E=this.svgFactory.create(c,f),P=this.svgFactory.createElement("svg:line");return P.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),P.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),P.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),P.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),P.setAttribute("stroke-width",n.borderStyle.width||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),E.appendChild(P),this.container.append(E),this._createPopup(P,n),this.container}}class T extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const n=this.data,{width:c,height:f}=w(n.rect),E=this.svgFactory.create(c,f),P=n.borderStyle.width,M=this.svgFactory.createElement("svg:rect");return M.setAttribute("x",P/2),M.setAttribute("y",P/2),M.setAttribute("width",c-P),M.setAttribute("height",f-P),M.setAttribute("stroke-width",P||1),M.setAttribute("stroke","transparent"),M.setAttribute("fill","transparent"),E.appendChild(M),this.container.append(E),this._createPopup(M,n),this.container}}class Z extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const n=this.data,{width:c,height:f}=w(n.rect),E=this.svgFactory.create(c,f),P=n.borderStyle.width,M=this.svgFactory.createElement("svg:ellipse");return M.setAttribute("cx",c/2),M.setAttribute("cy",f/2),M.setAttribute("rx",c/2-P/2),M.setAttribute("ry",f/2-P/2),M.setAttribute("stroke-width",P||1),M.setAttribute("stroke","transparent"),M.setAttribute("fill","transparent"),E.appendChild(M),this.container.append(E),this._createPopup(M,n),this.container}}class D extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:c,height:f}=w(n.rect),E=this.svgFactory.create(c,f);let P=[];for(const J of n.vertices)P.push(J.x-n.rect[0]+","+(n.rect[3]-J.y));P=P.join(" ");const M=this.svgFactory.createElement(this.svgElementName);return M.setAttribute("points",P),M.setAttribute("stroke-width",n.borderStyle.width||1),M.setAttribute("stroke","transparent"),M.setAttribute("fill","transparent"),E.appendChild(M),this.container.append(E),this._createPopup(M,n),this.container}}class N extends D{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class O extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class G extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:c,height:f}=w(n.rect),E=this.svgFactory.create(c,f);for(const P of n.inkLists){let M=[];for(const X of P)M.push(`${X.x-n.rect[0]},${n.rect[3]-X.y}`);M=M.join(" ");const J=this.svgFactory.createElement(this.svgElementName);J.setAttribute("points",M),J.setAttribute("stroke-width",n.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),this._createPopup(J,n),E.appendChild(J)}return this.container.append(E),this.container}}class R extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Q extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class B extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Y extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class K extends g{constructor(n){super(n,{isRenderable:!!(n.data.hasPopup||n.data.titleObj?.str||n.data.contentsObj?.str||n.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class re extends g{constructor(n){super(n,{isRenderable:!0});const{filename:c,content:f}=this.data.file;this.filename=(0,fe.getFilenameFromUrl)(c),this.content=f,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:c,content:f})}render(){this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class le{static render(n){const c=[],f=[];for(const P of n.annotations){if(!P)continue;const{width:M,height:J}=w(P.rect);if(!(M<=0||J<=0)){if(P.annotationType===_.AnnotationType.POPUP){f.push(P);continue}c.push(P)}}f.length&&c.push(...f);const E=n.div;for(const P of c){const M=y.create({data:P,layer:E,page:n.page,viewport:n.viewport,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:!1!==n.renderForms,svgFactory:new fe.DOMSVGFactory,annotationStorage:n.annotationStorage||new W.AnnotationStorage,enableScripting:n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,mouseState:n.mouseState||{isDown:!1}});if(M.isRenderable){const J=M.render();if(P.hidden&&(J.style.visibility="hidden"),Array.isArray(J))for(const X of J)E.appendChild(X);else M instanceof i?E.prepend(J):E.appendChild(J)}}Ee(this,I,It).call(this,E,n.annotationCanvasMap)}static update(n){const{page:c,viewport:f,annotations:E,annotationCanvasMap:P,div:M}=n,J=f.transform,X=`matrix(${J.join(",")})`;let $,te;for(const se of E){const de=M.querySelectorAll(`[data-annotation-id="${se.id}"]`);if(de)for(const _e of de)if(se.hasOwnCanvas){const Pe=_.Util.normalizeRect([se.rect[0],c.view[3]-se.rect[1]+c.view[1],se.rect[2],c.view[3]-se.rect[3]+c.view[1]]);if(!te){$=Math.abs(J[0]||J[1]);const ue=J.slice();for(let S=0;S<4;S++)ue[S]=Math.sign(ue[S]);te=`matrix(${ue.join(",")})`}const oe=Pe[0]*$,he=Pe[1]*$;_e.style.left=`${oe}px`,_e.style.top=`${he}px`,_e.style.transformOrigin=`${-oe}px ${-he}px`,_e.style.transform=te}else _e.style.transform=X}Ee(this,I,It).call(this,M,P),M.hidden=!1}}I=new WeakSet,It=function(n,c){if(c){for(const[f,E]of c){const P=n.querySelector(`[data-annotation-id="${f}"]`);if(!P)continue;const{firstChild:M}=P;"CANVAS"===M.nodeName?P.replaceChild(E,M):P.insertBefore(E,M)}c.clear()}},ke(le,I),F.AnnotationLayer=le},(be,F)=>{function ee(fe){return Math.floor(255*Math.max(0,Math.min(1,fe))).toString(16).padStart(2,"0")}Object.defineProperty(F,"__esModule",{value:!0}),F.ColorConverters=void 0,F.ColorConverters=class _{static CMYK_G([W,e,ae,V]){return["G",1-Math.min(1,.3*W+.59*ae+.11*e+V)]}static G_CMYK([W]){return["CMYK",0,0,0,1-W]}static G_RGB([W]){return["RGB",W,W,W]}static G_HTML([W]){const e=ee(W);return`#${e}${e}${e}`}static RGB_G([W,e,ae]){return["G",.3*W+.59*e+.11*ae]}static RGB_HTML([W,e,ae]){return`#${ee(W)}${ee(e)}${ee(ae)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([W,e,ae,V]){return["RGB",1-Math.min(1,W+V),1-Math.min(1,ae+V),1-Math.min(1,e+V)]}static CMYK_HTML(W){return this.RGB_HTML(this.CMYK_RGB(W))}static RGB_CMYK([W,e,ae]){const V=1-W,u=1-e,w=1-ae;return["CMYK",V,u,w,Math.min(V,u,w)]}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.XfaLayer=void 0;var _=ee(18);F.XfaLayer=class fe{static setupStorage(e,ae,V,u,w){const y=u.getValue(ae,{value:null});switch(V.name){case"textarea":if(null!==y.value&&(e.textContent=y.value),"print"===w)break;e.addEventListener("input",g=>{u.setValue(ae,{value:g.target.value})});break;case"input":if("radio"===V.attributes.type||"checkbox"===V.attributes.type){if(y.value===V.attributes.xfaOn?e.setAttribute("checked",!0):y.value===V.attributes.xfaOff&&e.removeAttribute("checked"),"print"===w)break;e.addEventListener("change",g=>{u.setValue(ae,{value:g.target.getAttribute(g.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==y.value&&e.setAttribute("value",y.value),"print"===w)break;e.addEventListener("input",g=>{u.setValue(ae,{value:g.target.value})})}break;case"select":if(null!==y.value)for(const g of V.children)g.attributes.value===y.value&&(g.attributes.selected=!0);e.addEventListener("input",g=>{const o=g.target.options;u.setValue(ae,{value:-1===o.selectedIndex?"":o[o.selectedIndex].value})})}}static setAttributes({html:e,element:ae,storage:V=null,intent:u,linkService:w}){const{attributes:y}=ae,g=e instanceof HTMLAnchorElement;"radio"===y.type&&(y.name=`${y.name}-${u}`);for(const[o,A]of Object.entries(y))if(null!=A&&"dataId"!==o)if("style"!==o)if("textContent"===o)e.textContent=A;else if("class"===o)A.length&&e.setAttribute(o,A.join(" "));else{if(g&&("href"===o||"newWindow"===o))continue;e.setAttribute(o,A)}else Object.assign(e.style,A);g&&w.addLinkAttributes(e,y.href,y.newWindow),V&&y.dataId&&this.setupStorage(e,y.dataId,ae,V)}static render(e){const ae=e.annotationStorage,V=e.linkService,u=e.xfaHtml,w=e.intent||"display",y=document.createElement(u.name);u.attributes&&this.setAttributes({html:y,element:u,intent:w,linkService:V});const g=[[u,-1,y]],o=e.div;if(o.appendChild(y),e.viewport){const r=`matrix(${e.viewport.transform.join(",")})`;o.style.transform=r}"richText"!==w&&o.setAttribute("class","xfaLayer xfaFont");const A=[];for(;g.length>0;){const[r,a,p]=g[g.length-1];if(a+1===r.children.length){g.pop();continue}const k=r.children[++g[g.length-1][1]];if(null===k)continue;const{name:b}=k;if("#text"===b){const i=document.createTextNode(k.value);A.push(i),p.appendChild(i);continue}let m;if(m=k?.attributes?.xmlns?document.createElementNS(k.attributes.xmlns,b):document.createElement(b),p.appendChild(m),k.attributes&&this.setAttributes({html:m,element:k,storage:ae,intent:w,linkService:V}),k.children&&k.children.length>0)g.push([k,-1,m]);else if(k.value){const i=document.createTextNode(k.value);_.XfaText.shouldBuildText(b)&&A.push(i),m.appendChild(i)}}for(const r of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:A}}static update(e){const ae=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=ae,e.div.hidden=!1}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.renderTextLayer=function p(k){const b=new a({textContent:k.textContent,textContentStream:k.textContentStream,container:k.container,viewport:k.viewport,textDivs:k.textDivs,textContentItemsStr:k.textContentItemsStr,enhanceTextSelection:k.enhanceTextSelection});return b._render(k.timeout),b};var _=ee(1);const W=30,ae=new Map,V=/^\s+$/g;function w(k,b,m,i){const s=document.createElement("span"),x=k._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL};k._textDivs.push(s);const C=_.Util.transform(k._viewport.transform,b.transform);let T=Math.atan2(C[1],C[0]);const Z=m[b.fontName];Z.vertical&&(T+=Math.PI/2);const D=Math.hypot(C[2],C[3]),N=D*function u(k,b){const m=ae.get(k);if(m)return m;b.save(),b.font=`30px ${k}`;const i=b.measureText("");let s=i.fontBoundingBoxAscent,x=Math.abs(i.fontBoundingBoxDescent);if(s){b.restore();const T=s/(s+x);return ae.set(k,T),T}b.strokeStyle="red",b.clearRect(0,0,W,W),b.strokeText("g",0,0);let C=b.getImageData(0,0,W,W).data;x=0;for(let T=C.length-1-3;T>=0;T-=4)if(C[T]>0){x=Math.ceil(T/4/W);break}b.clearRect(0,0,W,W),b.strokeText("A",0,W),C=b.getImageData(0,0,W,W).data,s=0;for(let T=0,Z=C.length;T<Z;T+=4)if(C[T]>0){s=W-Math.floor(T/4/W);break}if(b.restore(),s){const T=s/(s+x);return ae.set(k,T),T}return ae.set(k,.8),.8}(Z.fontFamily,i);let O,G;0===T?(O=C[4],G=C[5]-N):(O=C[4]+N*Math.sin(T),G=C[5]-N*Math.cos(T)),s.style.left=`${O}px`,s.style.top=`${G}px`,s.style.fontSize=`${D}px`,s.style.fontFamily=Z.fontFamily,s.setAttribute("role","presentation"),s.textContent=b.str,s.dir=b.dir,k._fontInspectorEnabled&&(s.dataset.fontName=b.fontName),0!==T&&(x.angle=T*(180/Math.PI));let R=!1;if(b.str.length>1||k._enhanceTextSelection&&V.test(b.str))R=!0;else if(" "!==b.str&&b.transform[0]!==b.transform[3]){const Q=Math.abs(b.transform[0]),B=Math.abs(b.transform[3]);Q!==B&&Math.max(Q,B)/Math.min(Q,B)>1.5&&(R=!0)}if(R&&(x.canvasWidth=Z.vertical?b.height*k._viewport.scale:b.width*k._viewport.scale),k._textDivProperties.set(s,x),k._textContentStream&&k._layoutText(s),k._enhanceTextSelection&&x.hasText){let Q=1,B=0;0!==T&&(Q=Math.cos(T),B=Math.sin(T));const Y=(Z.vertical?b.height:b.width)*k._viewport.scale,K=D;let re,le;0!==T?(re=[Q,B,-B,Q,O,G],le=_.Util.getAxialAlignedBoundingBox([0,0,Y,K],re)):le=[O,G,O+Y,G+K],k._bounds.push({left:le[0],top:le[1],right:le[2],bottom:le[3],div:s,size:[Y,K],m:re})}}function y(k){if(k._canceled)return;const b=k._textDivs,m=k._capability,i=b.length;if(i>1e5)return k._renderingDone=!0,void m.resolve();if(!k._textContentStream)for(let s=0;s<i;s++)k._layoutText(b[s]);k._renderingDone=!0,m.resolve()}function g(k,b,m){let i=0;for(let s=0;s<m;s++){const x=k[b++];x>0&&(i=i?Math.min(x,i):x)}return i}function r(k,b){b.sort(function(s,x){return s.x1-x.x1||s.index-x.index});const i=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const s of b){let x=0;for(;x<i.length&&i[x].end<=s.y1;)x++;let C=i.length-1;for(;C>=0&&i[C].start>=s.y2;)C--;let T,Z,D,N,O=-1/0;for(D=x;D<=C;D++){let Q;T=i[D],Z=T.boundary,Q=Z.x2>s.x1?Z.index>s.index?Z.x1New:s.x1:void 0===Z.x2New?(Z.x2+s.x1)/2:Z.x2New,Q>O&&(O=Q)}for(s.x1New=O,D=x;D<=C;D++)T=i[D],Z=T.boundary,void 0===Z.x2New?Z.x2>s.x1?Z.index>s.index&&(Z.x2New=Z.x2):Z.x2New=O:Z.x2New>O&&(Z.x2New=Math.max(O,Z.x2));const G=[];let R=null;for(D=x;D<=C;D++){T=i[D],Z=T.boundary;const Q=Z.x2>s.x2?Z:s;R===Q?G[G.length-1].end=T.end:(G.push({start:T.start,end:T.end,boundary:Q}),R=Q)}for(i[x].start<s.y1&&(G[0].start=s.y1,G.unshift({start:i[x].start,end:s.y1,boundary:i[x].boundary})),s.y2<i[C].end&&(G[G.length-1].end=s.y2,G.push({start:s.y2,end:i[C].end,boundary:i[C].boundary})),D=x;D<=C;D++){if(T=i[D],Z=T.boundary,void 0!==Z.x2New)continue;let Q=!1;for(N=x-1;!Q&&N>=0&&i[N].start>=Z.y1;N--)Q=i[N].boundary===Z;for(N=C+1;!Q&&N<i.length&&i[N].end<=Z.y2;N++)Q=i[N].boundary===Z;for(N=0;!Q&&N<G.length;N++)Q=G[N].boundary===Z;Q||(Z.x2New=O)}Array.prototype.splice.apply(i,[x,C-x+1].concat(G))}for(const s of i){const x=s.boundary;void 0===x.x2New&&(x.x2New=Math.max(k,x.x2))}}class a{constructor({textContent:b,textContentStream:m,container:i,viewport:s,textDivs:x,textContentItemsStr:C,enhanceTextSelection:T}){this._textContent=b,this._textContentStream=m,this._container=i,this._document=i.ownerDocument,this._viewport=s,this._textDivs=x||[],this._textContentItemsStr=C||[],this._enhanceTextSelection=!!T,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(b,m){for(let i=0,s=b.length;i<s;i++)if(void 0!==b[i].str)this._textContentItemsStr.push(b[i].str),w(this,b[i],m,this._layoutTextCtx);else if("beginMarkedContentProps"===b[i].type||"beginMarkedContent"===b[i].type){const x=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==b[i].id&&this._container.setAttribute("id",`${b[i].id}`),x.appendChild(this._container)}else"endMarkedContent"===b[i].type&&(this._container=this._container.parentNode)}_layoutText(b){const m=this._textDivProperties.get(b);let i="";if(0!==m.canvasWidth&&m.hasText){const{fontSize:s,fontFamily:x}=b.style;(s!==this._layoutTextLastFontSize||x!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${s} ${x}`,this._layoutTextLastFontSize=s,this._layoutTextLastFontFamily=x);const{width:C}=this._layoutTextCtx.measureText(b.textContent);if(C>0){const T=m.canvasWidth/C;this._enhanceTextSelection&&(m.scale=T),i=`scaleX(${T})`}}if(0!==m.angle&&(i=`rotate(${m.angle}deg) ${i}`),i.length>0&&(this._enhanceTextSelection&&(m.originalTransform=i),b.style.transform=i),m.hasText&&this._container.appendChild(b),m.hasEOL){const s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}_render(b=0){const m=(0,_.createPromiseCapability)();let i=Object.create(null);const s=this._document.createElement("canvas");if(s.height=s.width=W,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),m.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const x=()=>{this._reader.read().then(({value:C,done:T})=>{T?m.resolve():(Object.assign(i,C.styles),this._processItems(C.items,i),x())},m.reject)};this._reader=this._textContentStream.getReader(),x()}}m.promise.then(()=>{i=null,b?this._renderTimer=setTimeout(()=>{y(this),this._renderTimer=null},b):y(this)},this._capability.reject)}expandTextDivs(b=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function o(k){const b=k._bounds,m=k._viewport,i=function A(k,b,m){const i=m.map(function(x,C){return{x1:x.left,y1:x.top,x2:x.right,y2:x.bottom,index:C,x1New:void 0,x2New:void 0}});r(k,i);const s=new Array(m.length);for(const x of i)s[x.index]={left:x.x1New,top:0,right:x.x2New,bottom:0};m.map(function(x,C){const T=s[C],Z=i[C];Z.x1=x.top,Z.y1=k-T.right,Z.x2=x.bottom,Z.y2=k-T.left,Z.index=C,Z.x1New=void 0,Z.x2New=void 0}),r(b,i);for(const x of i){const C=x.index;s[C].top=x.x1New,s[C].bottom=x.x2New}return s}(m.width,m.height,b);for(let s=0;s<i.length;s++){const x=b[s].div,C=k._textDivProperties.get(x);if(0===C.angle){C.paddingLeft=b[s].left-i[s].left,C.paddingTop=b[s].top-i[s].top,C.paddingRight=i[s].right-b[s].right,C.paddingBottom=i[s].bottom-b[s].bottom,k._textDivProperties.set(x,C);continue}const T=i[s],Z=b[s],D=Z.m,N=D[0],O=D[1],G=[[0,0],[0,Z.size[1]],[Z.size[0],0],Z.size],R=new Float64Array(64);for(let B=0,Y=G.length;B<Y;B++){const K=_.Util.applyTransform(G[B],D);R[B+0]=N&&(T.left-K[0])/N,R[B+4]=O&&(T.top-K[1])/O,R[B+8]=N&&(T.right-K[0])/N,R[B+12]=O&&(T.bottom-K[1])/O,R[B+16]=O&&(T.left-K[0])/-O,R[B+20]=N&&(T.top-K[1])/N,R[B+24]=O&&(T.right-K[0])/-O,R[B+28]=N&&(T.bottom-K[1])/N,R[B+32]=N&&(T.left-K[0])/-N,R[B+36]=O&&(T.top-K[1])/-O,R[B+40]=N&&(T.right-K[0])/-N,R[B+44]=O&&(T.bottom-K[1])/-O,R[B+48]=O&&(T.left-K[0])/O,R[B+52]=N&&(T.top-K[1])/-N,R[B+56]=O&&(T.right-K[0])/O,R[B+60]=N&&(T.bottom-K[1])/-N}const Q=1+Math.min(Math.abs(N),Math.abs(O));C.paddingLeft=g(R,32,16)/Q,C.paddingTop=g(R,48,16)/Q,C.paddingRight=g(R,0,16)/Q,C.paddingBottom=g(R,16,16)/Q,k._textDivProperties.set(x,C)}}(this),this._bounds=null);const m=[],i=[];for(let s=0,x=this._textDivs.length;s<x;s++){const C=this._textDivs[s],T=this._textDivProperties.get(C);!T.hasText||(b?(m.length=0,i.length=0,T.originalTransform&&m.push(T.originalTransform),T.paddingTop>0?(i.push(`${T.paddingTop}px`),m.push(`translateY(${-T.paddingTop}px)`)):i.push(0),i.push(T.paddingRight>0?T.paddingRight/T.scale+"px":0),i.push(T.paddingBottom>0?`${T.paddingBottom}px`:0),T.paddingLeft>0?(i.push(T.paddingLeft/T.scale+"px"),m.push(`translateX(${-T.paddingLeft/T.scale}px)`)):i.push(0),C.style.padding=i.join(" "),m.length&&(C.style.transform=m.join(" "))):(C.style.padding=null,C.style.transform=T.originalTransform))}}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.SVGGraphics=void 0;var _=ee(1),fe=ee(5),W=ee(3);let e=class{constructor(){(0,_.unreachable)("Not implemented: SVGGraphics")}};F.SVGGraphics=e;{let r=function(i){let s=[];const x=[];for(const C of i)"save"!==C.fn?"restore"===C.fn?s=x.pop():s.push(C):(s.push({fnId:92,fn:"group",items:[]}),x.push(s),s=s[s.length-1].items);return s},a=function(i){if(Number.isInteger(i))return i.toString();const s=i.toFixed(10);let x=s.length-1;if("0"!==s[x])return s;do{x--}while("0"===s[x]);return s.substring(0,"."===s[x]?x:x+1)},p=function(i){if(0===i[4]&&0===i[5]){if(0===i[1]&&0===i[2])return 1===i[0]&&1===i[3]?"":`scale(${a(i[0])} ${a(i[3])})`;if(i[0]===i[3]&&i[1]===-i[2]){const s=180*Math.acos(i[0])/Math.PI;return`rotate(${a(s)})`}}else if(1===i[0]&&0===i[1]&&0===i[2]&&1===i[3])return`translate(${a(i[4])} ${a(i[5])})`;return`matrix(${a(i[0])} ${a(i[1])} ${a(i[2])} ${a(i[3])} ${a(i[4])} ${a(i[5])})`};const ae={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},V="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/1999/xlink",w=["butt","round","square"],y=["miter","round","bevel"],g=function(i,s="",x=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!x)return URL.createObjectURL(new Blob([i],{type:s}));const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let T=`data:${s};base64,`;for(let Z=0,D=i.length;Z<D;Z+=3){const N=255&i[Z],O=255&i[Z+1],G=255&i[Z+2];T+=C[N>>2]+C[(3&N)<<4|O>>4]+C[Z+1<D?(15&O)<<2|G>>6:64]+C[Z+2<D?63&G:64]}return T},o=function(){const i=new Uint8Array([137,80,78,71,13,10,26,10]),x=new Int32Array(256);for(let G=0;G<256;G++){let R=G;for(let Q=0;Q<8;Q++)R=1&R?3988292384^R>>1&2147483647:R>>1&2147483647;x[G]=R}function T(G,R,Q,B){let Y=B;const K=R.length;Q[Y]=K>>24&255,Q[Y+1]=K>>16&255,Q[Y+2]=K>>8&255,Q[Y+3]=255&K,Y+=4,Q[Y]=255&G.charCodeAt(0),Q[Y+1]=255&G.charCodeAt(1),Q[Y+2]=255&G.charCodeAt(2),Q[Y+3]=255&G.charCodeAt(3),Y+=4,Q.set(R,Y),Y+=R.length;const re=function C(G,R,Q){let B=-1;for(let Y=R;Y<Q;Y++)B=B>>>8^x[255&(B^G[Y])];return-1^B}(Q,B+4,Y);Q[Y]=re>>24&255,Q[Y+1]=re>>16&255,Q[Y+2]=re>>8&255,Q[Y+3]=255&re}function N(G){let R=G.length;const Q=65535,B=Math.ceil(R/Q),Y=new Uint8Array(2+R+5*B+4);let K=0;Y[K++]=120,Y[K++]=156;let re=0;for(;R>Q;)Y[K++]=0,Y[K++]=255,Y[K++]=255,Y[K++]=0,Y[K++]=0,Y.set(G.subarray(re,re+Q),K),K+=Q,re+=Q,R-=Q;Y[K++]=1,Y[K++]=255&R,Y[K++]=R>>8&255,Y[K++]=255&~R,Y[K++]=(65535&~R)>>8&255,Y.set(G.subarray(re),K),K+=G.length-re;const le=function Z(G,R,Q){let B=1,Y=0;for(let K=R;K<Q;++K)B=(B+(255&G[K]))%65521,Y=(Y+B)%65521;return Y<<16|B}(G,0,G.length);return Y[K++]=le>>24&255,Y[K++]=le>>16&255,Y[K++]=le>>8&255,Y[K++]=255&le,Y}return function(R,Q,B){return function O(G,R,Q,B){const Y=G.width,K=G.height;let re,le,I;const l=G.data;switch(R){case _.ImageKind.GRAYSCALE_1BPP:le=0,re=1,I=Y+7>>3;break;case _.ImageKind.RGB_24BPP:le=2,re=8,I=3*Y;break;case _.ImageKind.RGBA_32BPP:le=6,re=8,I=4*Y;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+I)*K);let n=0,c=0;for(let X=0;X<K;++X)d[n++]=0,d.set(l.subarray(c,c+I),n),c+=I,n+=I;if(R===_.ImageKind.GRAYSCALE_1BPP&&B){n=0;for(let X=0;X<K;X++){n++;for(let $=0;$<I;$++)d[n++]^=255}}const f=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,255&Y,K>>24&255,K>>16&255,K>>8&255,255&K,re,le,0,0,0]),E=function D(G){if(!W.isNodeJS)return N(G);try{let R;R=parseInt(process.versions.node)>=8?G:Buffer.from(G);const Q=__webpack_require__(2258).deflateSync(R,{level:9});return Q instanceof Uint8Array?Q:new Uint8Array(Q)}catch(R){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+R)}return N(G)}(d),M=new Uint8Array(i.length+36+f.length+E.length);let J=0;return M.set(i,J),J+=i.length,T("IHDR",f,M,J),J+=12+f.length,T("IDATA",E,M,J),J+=12+E.length,T("IEND",new Uint8Array(0),M,J),g(M,"image/png",Q)}(R,void 0===R.kind?_.ImageKind.GRAYSCALE_1BPP:R.kind,Q,B)}}();class A{constructor(){this.fontSizeScale=1,this.fontWeight=ae.fontWeight,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ae.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(s,x){this.x=s,this.y=x}}let k=0,b=0,m=0;F.SVGGraphics=e=class{constructor(i,s,x=!1){this.svgFactory=new fe.DOMSVGFactory,this.current=new A,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=s,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!x,this._operatorIdMapping=[];for(const C in _.OPS)this._operatorIdMapping[_.OPS[C]]=C}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const s=i.fnArray,x=i.argsArray;for(let C=0,T=s.length;C<T;C++)if(s[C]===_.OPS.dependency)for(const Z of x[C]){const D=Z.startsWith("g_")?this.commonObjs:this.objs,N=new Promise(O=>{D.get(Z,O)});this.current.dependencies.push(N)}return Promise.all(this.current.dependencies)}transform(i,s,x,C,T,Z){this.transformMatrix=_.Util.transform(this.transformMatrix,[i,s,x,C,T,Z]),this.tgrp=null}getSVG(i,s){this.viewport=s;const x=this._initialize(s);return this.loadDependencies(i).then(()=>(this.transformMatrix=_.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),x))}convertOpList(i){const s=this._operatorIdMapping,x=i.argsArray,C=i.fnArray,T=[];for(let Z=0,D=C.length;Z<D;Z++){const N=C[Z];T.push({fnId:N,fn:s[N],args:x[Z]})}return r(T)}executeOpTree(i){for(const s of i){const x=s.fn,T=s.args;switch(0|s.fnId){case _.OPS.beginText:this.beginText();break;case _.OPS.dependency:break;case _.OPS.setLeading:this.setLeading(T);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(T[0],T[1]);break;case _.OPS.setFont:this.setFont(T);break;case _.OPS.showText:case _.OPS.showSpacedText:this.showText(T[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(T[0],T[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(T[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(T[0]);break;case _.OPS.setHScale:this.setHScale(T[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(T[0],T[1],T[2],T[3],T[4],T[5]);break;case _.OPS.setTextRise:this.setTextRise(T[0]);break;case _.OPS.setTextRenderingMode:this.setTextRenderingMode(T[0]);break;case _.OPS.setLineWidth:this.setLineWidth(T[0]);break;case _.OPS.setLineJoin:this.setLineJoin(T[0]);break;case _.OPS.setLineCap:this.setLineCap(T[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(T[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(T[0],T[1],T[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(T[0],T[1],T[2]);break;case _.OPS.setStrokeColorN:this.setStrokeColorN(T);break;case _.OPS.setFillColorN:this.setFillColorN(T);break;case _.OPS.shadingFill:this.shadingFill(T[0]);break;case _.OPS.setDash:this.setDash(T[0],T[1]);break;case _.OPS.setRenderingIntent:this.setRenderingIntent(T[0]);break;case _.OPS.setFlatness:this.setFlatness(T[0]);break;case _.OPS.setGState:this.setGState(T[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintImageXObject:this.paintImageXObject(T[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(T[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(T[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(T[0],T[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(T[0],T[1],T[2],T[3],T[4],T[5]);break;case _.OPS.constructPath:this.constructPath(T[0],T[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(s.items);break;default:(0,_.warn)(`Unimplemented operator ${x}`)}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,s,x,C,T,Z){const D=this.current;D.textMatrix=D.lineMatrix=[i,s,x,C,T,Z],D.textMatrixScale=Math.hypot(i,s),D.x=D.lineX=0,D.y=D.lineY=0,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${a(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",a(-D.y)),D.txtElement=this.svgFactory.createElement("svg:text"),D.txtElement.appendChild(D.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=_.IDENTITY_MATRIX,i.lineMatrix=_.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,s){const x=this.current;x.x=x.lineX+=i,x.y=x.lineY+=s,x.xcoords=[],x.ycoords=[],x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size",`${a(x.fontSize)}px`),x.tspan.setAttributeNS(null,"y",a(-x.y))}showText(i){const s=this.current,x=s.font,C=s.fontSize;if(0===C)return;const T=s.fontSizeScale,Z=s.charSpacing,D=s.wordSpacing,N=s.fontDirection,O=s.textHScale*N,G=x.vertical,R=G?1:-1,Q=x.defaultVMetrics,B=C*s.fontMatrix[0];let Y=0;for(const le of i){if(null===le){Y+=N*D;continue}if("number"==typeof le){Y+=R*le*C/1e3;continue}const I=(le.isSpace?D:0)+Z,l=le.fontChar;let d,n,f,c=le.width;if(G){let E;const P=le.vmetric||Q;E=le.vmetric?P[1]:.5*c,E=-E*B,c=P?-P[0]:c,d=E/T,n=(Y+P[2]*B)/T}else d=Y/T,n=0;(le.isInFont||x.missingFile)&&(s.xcoords.push(s.x+d),G&&s.ycoords.push(-s.y+n),s.tspan.textContent+=l),f=G?c*B-I*N:c*B+I*N,Y+=f}s.tspan.setAttributeNS(null,"x",s.xcoords.map(a).join(" ")),s.tspan.setAttributeNS(null,"y",G?s.ycoords.map(a).join(" "):a(-s.y)),G?s.y-=Y:s.x+=Y*O,s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${a(s.fontSize)}px`),s.fontStyle!==ae.fontStyle&&s.tspan.setAttributeNS(null,"font-style",s.fontStyle),s.fontWeight!==ae.fontWeight&&s.tspan.setAttributeNS(null,"font-weight",s.fontWeight);const K=s.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;K===_.TextRenderingMode.FILL||K===_.TextRenderingMode.FILL_STROKE?(s.fillColor!==ae.fillColor&&s.tspan.setAttributeNS(null,"fill",s.fillColor),s.fillAlpha<1&&s.tspan.setAttributeNS(null,"fill-opacity",s.fillAlpha)):s.tspan.setAttributeNS(null,"fill",s.textRenderingMode===_.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(K===_.TextRenderingMode.STROKE||K===_.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(s.tspan,1/(s.textMatrixScale||1));let re=s.textMatrix;0!==s.textRise&&(re=re.slice(),re[5]+=s.textRise),s.txtElement.setAttributeNS(null,"transform",`${p(re)} scale(${a(O)}, -1)`),s.txtElement.setAttributeNS(V,"xml:space","preserve"),s.txtElement.appendChild(s.tspan),s.txtgrp.appendChild(s.txtElement),this._ensureTransformGroup().appendChild(s.txtElement)}setLeadingMoveText(i,s){this.setLeading(-s),this.moveText(i,s)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const s=g(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${s}); }\n`}setFont(i){const s=this.current,x=this.commonObjs.get(i[0]);let C=i[1];s.font=x,this.embedFonts&&!x.missingFile&&!this.embeddedFonts[x.loadedName]&&(this.addFontStyle(x),this.embeddedFonts[x.loadedName]=x),s.fontMatrix=x.fontMatrix||_.FONT_IDENTITY_MATRIX;let T="normal";x.black?T="900":x.bold&&(T="bold");const Z=x.italic?"italic":"normal";C<0?(C=-C,s.fontDirection=-1):s.fontDirection=1,s.fontSize=C,s.fontFamily=x.loadedName,s.fontWeight=T,s.fontStyle=Z,s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"y",a(-s.y)),s.xcoords=[],s.ycoords=[]}endText(){const i=this.current;i.textRenderingMode&_.TextRenderingMode.ADD_TO_PATH_FLAG&&i.txtElement?.hasChildNodes()&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=w[i]}setLineJoin(i){this.current.lineJoin=y[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,s,x){this.current.strokeColor=_.Util.makeHexColor(i,s,x)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,s,x){this.current.fillColor=_.Util.makeHexColor(i,s,x),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const s=this.viewport.width,x=this.viewport.height,C=_.Util.inverseTransform(this.transformMatrix),T=_.Util.applyTransform([0,0],C),Z=_.Util.applyTransform([0,x],C),D=_.Util.applyTransform([s,0],C),N=_.Util.applyTransform([s,x],C),O=Math.min(T[0],Z[0],D[0],N[0]),G=Math.min(T[1],Z[1],D[1],N[1]),R=Math.max(T[0],Z[0],D[0],N[0]),Q=Math.max(T[1],Z[1],D[1],N[1]),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",O),B.setAttributeNS(null,"y",G),B.setAttributeNS(null,"width",R-O),B.setAttributeNS(null,"height",Q-G),B.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&B.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(B)}_makeColorN_Pattern(i){return"TilingPattern"===i[0]?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const s=i[1],x=i[2],C=i[3]||_.IDENTITY_MATRIX,[T,Z,D,N]=i[4],O=i[5],G=i[6],R=i[7],Q="shading"+m++,[B,Y,K,re]=_.Util.normalizeRect([..._.Util.applyTransform([T,Z],C),..._.Util.applyTransform([D,N],C)]),[le,I]=_.Util.singularValueDecompose2dScale(C),l=O*le,d=G*I,n=this.svgFactory.createElement("svg:pattern");n.setAttributeNS(null,"id",Q),n.setAttributeNS(null,"patternUnits","userSpaceOnUse"),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"height",d),n.setAttributeNS(null,"x",`${B}`),n.setAttributeNS(null,"y",`${Y}`);const c=this.svg,f=this.transformMatrix,E=this.current.fillColor,P=this.current.strokeColor,M=this.svgFactory.create(K-B,re-Y);if(this.svg=M,this.transformMatrix=C,2===R){const J=_.Util.makeHexColor(...s);this.current.fillColor=J,this.current.strokeColor=J}return this.executeOpTree(this.convertOpList(x)),this.svg=c,this.transformMatrix=f,this.current.fillColor=E,this.current.strokeColor=P,n.appendChild(M.childNodes[0]),this.defs.appendChild(n),`url(#${Q})`}_makeShadingPattern(i){switch("string"==typeof i&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const s="shading"+m++,x=i[3];let C;switch(i[1]){case"axial":const T=i[4],Z=i[5];C=this.svgFactory.createElement("svg:linearGradient"),C.setAttributeNS(null,"id",s),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"x1",T[0]),C.setAttributeNS(null,"y1",T[1]),C.setAttributeNS(null,"x2",Z[0]),C.setAttributeNS(null,"y2",Z[1]);break;case"radial":const D=i[4],N=i[5],O=i[6],G=i[7];C=this.svgFactory.createElement("svg:radialGradient"),C.setAttributeNS(null,"id",s),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"cx",N[0]),C.setAttributeNS(null,"cy",N[1]),C.setAttributeNS(null,"r",G),C.setAttributeNS(null,"fx",D[0]),C.setAttributeNS(null,"fy",D[1]),C.setAttributeNS(null,"fr",O);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const T of x){const Z=this.svgFactory.createElement("svg:stop");Z.setAttributeNS(null,"offset",T[0]),Z.setAttributeNS(null,"stop-color",T[1]),C.appendChild(Z)}return this.defs.appendChild(C),`url(#${s})`;case"Mesh":return(0,_.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,s){this.current.dashArray=i,this.current.dashPhase=s}constructPath(i,s){const x=this.current;let C=x.x,T=x.y,Z=[],D=0;for(const N of i)switch(0|N){case _.OPS.rectangle:C=s[D++],T=s[D++];const R=C+s[D++],Q=T+s[D++];Z.push("M",a(C),a(T),"L",a(R),a(T),"L",a(R),a(Q),"L",a(C),a(Q),"Z");break;case _.OPS.moveTo:C=s[D++],T=s[D++],Z.push("M",a(C),a(T));break;case _.OPS.lineTo:C=s[D++],T=s[D++],Z.push("L",a(C),a(T));break;case _.OPS.curveTo:C=s[D+4],T=s[D+5],Z.push("C",a(s[D]),a(s[D+1]),a(s[D+2]),a(s[D+3]),a(C),a(T)),D+=6;break;case _.OPS.curveTo2:Z.push("C",a(C),a(T),a(s[D]),a(s[D+1]),a(s[D+2]),a(s[D+3])),C=s[D+2],T=s[D+3],D+=4;break;case _.OPS.curveTo3:C=s[D+2],T=s[D+3],Z.push("C",a(s[D]),a(s[D+1]),a(C),a(T),a(C),a(T)),D+=4;break;case _.OPS.closePath:Z.push("Z")}Z=Z.join(" "),x.path&&i.length>0&&i[0]!==_.OPS.rectangle&&i[0]!==_.OPS.moveTo?Z=x.path.getAttributeNS(null,"d")+Z:(x.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(x.path)),x.path.setAttributeNS(null,"d",Z),x.path.setAttributeNS(null,"fill","none"),x.element=x.path,x.setCurrentPoint(C,T)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element)return void(this.pendingClip=null);const s="clippath"+k++,x=this.svgFactory.createElement("svg:clipPath");x.setAttributeNS(null,"id",s),x.setAttributeNS(null,"transform",p(this.transformMatrix));const C=i.element.cloneNode(!0);if(C.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,x.appendChild(C),this.defs.appendChild(x),i.activeClipUrl){i.clipGroup=null;for(const T of this.extraStack)T.clipGroup=null;x.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${s})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const s=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",s)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[s,x]of i)switch(s){case"LW":this.setLineWidth(x);break;case"LC":this.setLineCap(x);break;case"LJ":this.setLineJoin(x);break;case"ML":this.setMiterLimit(x);break;case"D":this.setDash(x[0],x[1]);break;case"RI":this.setRenderingIntent(x);break;case"FL":this.setFlatness(x);break;case"Font":this.setFont(x);break;case"CA":this.setStrokeAlpha(x);break;case"ca":this.setFillAlpha(x);break;default:(0,_.warn)(`Unimplemented graphic state operator ${s}`)}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,s=1){const x=this.current;let C=x.dashArray;1!==s&&C.length>0&&(C=C.map(function(T){return s*T})),i.setAttributeNS(null,"stroke",x.strokeColor),i.setAttributeNS(null,"stroke-opacity",x.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",a(x.miterLimit)),i.setAttributeNS(null,"stroke-linecap",x.lineCap),i.setAttributeNS(null,"stroke-linejoin",x.lineJoin),i.setAttributeNS(null,"stroke-width",a(s*x.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",C.map(a).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",a(s*x.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(i)}paintImageXObject(i){const s=i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i);s?this.paintInlineImageXObject(s):(0,_.warn)(`Dependent image with object ID ${i} is not ready yet`)}paintInlineImageXObject(i,s){const x=i.width,C=i.height,T=o(i,this.forceDataSchema,!!s),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x","0"),Z.setAttributeNS(null,"y","0"),Z.setAttributeNS(null,"width",a(x)),Z.setAttributeNS(null,"height",a(C)),this.current.element=Z,this.clip("nonzero");const D=this.svgFactory.createElement("svg:image");D.setAttributeNS(u,"xlink:href",T),D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y",a(-C)),D.setAttributeNS(null,"width",a(x)+"px"),D.setAttributeNS(null,"height",a(C)+"px"),D.setAttributeNS(null,"transform",`scale(${a(1/x)} ${a(-1/C)})`),s?s.appendChild(D):this._ensureTransformGroup().appendChild(D)}paintImageMaskXObject(i){const s=this.current,x=i.width,C=i.height,T=s.fillColor;s.maskId="mask"+b++;const Z=this.svgFactory.createElement("svg:mask");Z.setAttributeNS(null,"id",s.maskId);const D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",a(x)),D.setAttributeNS(null,"height",a(C)),D.setAttributeNS(null,"fill",T),D.setAttributeNS(null,"mask",`url(#${s.maskId})`),this.defs.appendChild(Z),this._ensureTransformGroup().appendChild(D),this.paintInlineImageXObject(i,Z)}paintFormXObjectBegin(i,s){if(Array.isArray(i)&&6===i.length&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),s){const x=s[2]-s[0],C=s[3]-s[1],T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x",s[0]),T.setAttributeNS(null,"y",s[1]),T.setAttributeNS(null,"width",a(x)),T.setAttributeNS(null,"height",a(C)),this.current.element=T,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const s=this.svgFactory.create(i.width,i.height),x=this.svgFactory.createElement("svg:defs");s.appendChild(x),this.defs=x;const C=this.svgFactory.createElement("svg:g");return C.setAttributeNS(null,"transform",p(i.transform)),s.appendChild(C),this.svg=C,s}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",p(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFNodeStream=void 0;var _=ee(1),fe=ee(26);const W=__webpack_require__(172),e=__webpack_require__(2001),ae=__webpack_require__(3779),V=__webpack_require__(6558),u=/^file:\/\/\/[a-zA-Z]:\//;F.PDFNodeStream=class y{constructor(m){this.source=m,this.url=function w(b){const m=V.parse(b);return"file:"===m.protocol||m.host?m:/^[a-z]:[/\\]/i.test(b)?V.parse(`file:///${b}`):(m.host||(m.protocol="file:"),m)}(m.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new p(this):new r(this),this._fullRequestReader}getRangeReader(m,i){if(i<=this._progressiveDataLength)return null;const s=this.isFsUrl?new k(this,m,i):new a(this,m,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const i of this._rangeRequestReaders.slice(0))i.cancel(m)}};class g{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=m.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._headersCapability=(0,_.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){if(yield m._readCapability.promise,m._done)return{value:void 0,done:!0};if(m._storedError)throw m._storedError;const i=m._readableStream.read();return null===i?(m._readCapability=(0,_.createPromiseCapability)(),m.read()):(m._loaded+=i.length,m.onProgress&&m.onProgress({loaded:m._loaded,total:m._contentLength}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(m){this._readableStream?this._readableStream.destroy(m):this._error(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class o{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!m.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){if(yield m._readCapability.promise,m._done)return{value:void 0,done:!0};if(m._storedError)throw m._storedError;const i=m._readableStream.read();return null===i?(m._readCapability=(0,_.createPromiseCapability)(),m.read()):(m._loaded+=i.length,m.onProgress&&m.onProgress({loaded:m._loaded}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(m){this._readableStream?this._readableStream.destroy(m):this._error(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function A(b,m){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:m}}class r extends g{constructor(m){super(m);const i=s=>{if(404===s.statusCode){const Z=new _.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=Z,void this._headersCapability.reject(Z)}this._headersCapability.resolve(),this._setReadableStream(s);const x=Z=>this._readableStream.headers[Z.toLowerCase()],{allowRangeRequests:C,suggestedLength:T}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:m.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=T||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(x)};this._request=null,this._request="http:"===this._url.protocol?e.request(A(this._url,m.httpHeaders),i):ae.request(A(this._url,m.httpHeaders),i),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class a extends o{constructor(m,i,s){super(m),this._httpHeaders={};for(const C in m.httpHeaders){const T=m.httpHeaders[C];typeof T>"u"||(this._httpHeaders[C]=T)}this._httpHeaders.Range=`bytes=${i}-${s-1}`;const x=C=>{if(404!==C.statusCode)this._setReadableStream(C);else{const T=new _.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=T}};this._request=null,this._request="http:"===this._url.protocol?e.request(A(this._url,this._httpHeaders),x):ae.request(A(this._url,this._httpHeaders),x),this._request.on("error",C=>{this._storedError=C}),this._request.end()}}class p extends g{constructor(m){super(m);let i=decodeURIComponent(this._url.path);u.test(this._url.href)&&(i=i.replace(/^\//,"")),W.lstat(i,(s,x)=>{if(s)return"ENOENT"===s.code&&(s=new _.MissingPDFException(`Missing PDF "${i}".`)),this._storedError=s,void this._headersCapability.reject(s);this._contentLength=x.size,this._setReadableStream(W.createReadStream(i)),this._headersCapability.resolve()})}}class k extends o{constructor(m,i,s){super(m);let x=decodeURIComponent(this._url.path);u.test(this._url.href)&&(x=x.replace(/^\//,"")),this._setReadableStream(W.createReadStream(x,{start:i,end:s-1}))}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.createResponseStatusError=function V(w,y){return 404===w||0===w&&y.startsWith("file:")?new _.MissingPDFException('Missing PDF "'+y+'".'):new _.UnexpectedResponseException(`Unexpected server response (${w}) while retrieving PDF "${y}".`,w)},F.extractFilenameFromHeader=function ae(w){const y=w("Content-Disposition");if(y){let g=(0,fe.getFilenameFromContentDispositionHeader)(y);if(g.includes("%"))try{g=decodeURIComponent(g)}catch{}if((0,W.isPdfFile)(g))return g}return null},F.validateRangeRequestCapabilities=function e({getResponseHeader:w,isHttp:y,rangeChunkSize:g,disableRange:o}){const A={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(w("Content-Length"),10);return!Number.isInteger(r)||(A.suggestedLength=r,r<=2*g)||o||!y||"bytes"!==w("Accept-Ranges")||"identity"!==(w("Content-Encoding")||"identity")||(A.allowRangeRequests=!0),A},F.validateResponseStatus=function u(w){return 200===w||206===w};var _=ee(1),fe=ee(27),W=ee(5)},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.getFilenameFromContentDispositionHeader=function fe(W){let e=!0,ae=V("filename\\*","i").exec(W);if(ae){ae=ae[1];let r=g(ae);return r=unescape(r),r=o(r),r=A(r),w(r)}if(ae=function y(r){const a=[];let p;const k=V("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(p=k.exec(r));){let[,m,i,s]=p;if(m=parseInt(m,10),m in a){if(0===m)break}else a[m]=[i,s]}const b=[];for(let m=0;m<a.length&&m in a;++m){let[i,s]=a[m];s=g(s),i&&(s=unescape(s),0===m&&(s=o(s))),b.push(s)}return b.join("")}(W),ae)return w(A(ae));if(ae=V("filename","i").exec(W),ae){ae=ae[1];let r=g(ae);return r=A(r),w(r)}function V(r,a){return new RegExp("(?:^|;)\\s*"+r+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',a)}function u(r,a){if(r){if(!/^[\x00-\xFF]+$/.test(a))return a;try{const p=new TextDecoder(r,{fatal:!0}),k=(0,_.stringToBytes)(a);a=p.decode(k),e=!1}catch{}}return a}function w(r){return e&&/[\x80-\xff]/.test(r)&&(r=u("utf-8",r),e&&(r=u("iso-8859-1",r))),r}function g(r){if(r.startsWith('"')){const a=r.slice(1).split('\\"');for(let p=0;p<a.length;++p){const k=a[p].indexOf('"');-1!==k&&(a[p]=a[p].slice(0,k),a.length=p+1),a[p]=a[p].replace(/\\(.)/g,"$1")}r=a.join('"')}return r}function o(r){const a=r.indexOf("'");return-1===a?r:u(r.slice(0,a),r.slice(a+1).replace(/^[^']*'/,""))}function A(r){return!r.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(r)?r:r.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,p,k,b){if("q"===k||"Q"===k)return u(p,b=(b=b.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(m,i){return String.fromCharCode(parseInt(i,16))}));try{b=atob(b)}catch{}return u(p,b)})}return""};var _=ee(1)},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFNetworkStream=void 0;var _=ee(1),fe=ee(26);class V{constructor(o,A={}){this.url=o,this.isHttp=/^https?:/i.test(o),this.httpHeaders=this.isHttp&&A.httpHeaders||Object.create(null),this.withCredentials=A.withCredentials||!1,this.getXhr=A.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(o,A,r){const a={begin:o,end:A};for(const p in r)a[p]=r[p];return this.request(a)}requestFull(o){return this.request(o)}request(o){const A=this.getXhr(),r=this.currXhrId++,a=this.pendingRequests[r]={xhr:A};A.open("GET",this.url),A.withCredentials=this.withCredentials;for(const p in this.httpHeaders){const k=this.httpHeaders[p];typeof k>"u"||A.setRequestHeader(p,k)}return this.isHttp&&"begin"in o&&"end"in o?(A.setRequestHeader("Range",`bytes=${o.begin}-${o.end-1}`),a.expectedStatus=206):a.expectedStatus=200,A.responseType="arraybuffer",o.onError&&(A.onerror=function(p){o.onError(A.status)}),A.onreadystatechange=this.onStateChange.bind(this,r),A.onprogress=this.onProgress.bind(this,r),a.onHeadersReceived=o.onHeadersReceived,a.onDone=o.onDone,a.onError=o.onError,a.onProgress=o.onProgress,A.send(null),r}onProgress(o,A){const r=this.pendingRequests[o];!r||r.onProgress?.(A)}onStateChange(o,A){const r=this.pendingRequests[o];if(!r)return;const a=r.xhr;if(a.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==a.readyState||!(o in this.pendingRequests))return;if(delete this.pendingRequests[o],0===a.status&&this.isHttp)return void r.onError?.(a.status);const p=a.status||200;if((200!==p||206!==r.expectedStatus)&&p!==r.expectedStatus)return void r.onError?.(a.status);const b=function ae(g){const o=g.response;return"string"!=typeof o?o:(0,_.stringToBytes)(o).buffer}(a);if(206===p){const m=a.getResponseHeader("Content-Range"),i=/bytes (\d+)-(\d+)\/(\d+)/.exec(m);r.onDone({begin:parseInt(i[1],10),chunk:b})}else b?r.onDone({begin:0,chunk:b}):r.onError?.(a.status)}getRequestXhr(o){return this.pendingRequests[o].xhr}isPendingRequest(o){return o in this.pendingRequests}abortRequest(o){const A=this.pendingRequests[o].xhr;delete this.pendingRequests[o],A.abort()}}F.PDFNetworkStream=class u{constructor(o){this._source=o,this._manager=new V(o.url,{httpHeaders:o.httpHeaders,withCredentials:o.withCredentials}),this._rangeChunkSize=o.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(o){const A=this._rangeRequestReaders.indexOf(o);A>=0&&this._rangeRequestReaders.splice(A,1)}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new w(this._manager,this._source),this._fullRequestReader}getRangeReader(o,A){const r=new y(this._manager,o,A);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(o){this._fullRequestReader?.cancel(o);for(const A of this._rangeRequestReaders.slice(0))A.cancel(o)}};class w{constructor(o,A){this._manager=o;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._fullRequestId=o.requestFull(r),this._headersReceivedCapability=(0,_.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._contentLength=A.length,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const o=this._fullRequestId,A=this._manager.getRequestXhr(o),r=k=>A.getResponseHeader(k),{allowRangeRequests:a,suggestedLength:p}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=p||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(o),this._headersReceivedCapability.resolve()}_onDone(o){if(o&&(this._requests.length>0?this._requests.shift().resolve({value:o.chunk,done:!1}):this._cachedChunks.push(o.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(o){this._storedError=(0,fe.createResponseStatusError)(o,this._url),this._headersReceivedCapability.reject(this._storedError);for(const A of this._requests)A.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(o){this.onProgress?.({loaded:o.loaded,total:o.lengthComputable?o.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var o=this;return _asyncToGenerator(function*(){if(o._storedError)throw o._storedError;if(o._cachedChunks.length>0)return{value:o._cachedChunks.shift(),done:!1};if(o._done)return{value:void 0,done:!0};const A=(0,_.createPromiseCapability)();return o._requests.push(A),A.promise})()}cancel(o){this._done=!0,this._headersReceivedCapability.reject(o);for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class y{constructor(o,A,r){this._manager=o;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._requestId=o.requestRange(A,r,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(o){const A=o.chunk;this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunk=A,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(o){this._storedError=(0,fe.createResponseStatusError)(o,this._url);for(const A of this._requests)A.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(o){this.isStreamingSupported||this.onProgress?.({loaded:o.loaded})}get isStreamingSupported(){return!1}read(){var o=this;return _asyncToGenerator(function*(){if(o._storedError)throw o._storedError;if(null!==o._queuedChunk){const r=o._queuedChunk;return o._queuedChunk=null,{value:r,done:!1}}if(o._done)return{value:void 0,done:!0};const A=(0,_.createPromiseCapability)();return o._requests.push(A),A.promise})()}cancel(o){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(be,F,ee)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFFetchStream=void 0;var _=ee(1),fe=ee(26);function W(w,y,g){return{method:"GET",headers:w,signal:g?.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function e(w){const y=new Headers;for(const g in w){const o=w[g];typeof o>"u"||y.append(g,o)}return y}F.PDFFetchStream=class ae{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new V(this),this._fullRequestReader}getRangeReader(y,g){if(g<=this._progressiveDataLength)return null;const o=new u(this,y,g);return this._rangeRequestReaders.push(o),o}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const g of this._rangeRequestReaders.slice(0))g.cancel(y)}};class V{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const g=y.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=(0,_.createPromiseCapability)(),this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=e(this._stream.httpHeaders);const o=g.url;fetch(o,W(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,fe.validateResponseStatus)(A.status))throw(0,fe.createResponseStatusError)(A.status,o);this._reader=A.body.getReader(),this._headersCapability.resolve();const r=k=>A.headers.get(k),{allowRangeRequests:a,suggestedLength:p}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=p||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){yield y._headersCapability.promise;const{value:g,done:o}=yield y._reader.read();return o?{value:g,done:o}:(y._loaded+=g.byteLength,y.onProgress&&y.onProgress({loaded:y._loaded,total:y._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}class u{constructor(y,g,o){this._stream=y,this._reader=null,this._loaded=0;const A=y.source;this._withCredentials=A.withCredentials||!1,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!A.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${o-1}`);const r=A.url;fetch(r,W(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,fe.validateResponseStatus)(a.status))throw(0,fe.createResponseStatusError)(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){yield y._readCapability.promise;const{value:g,done:o}=yield y._reader.read();return o?{value:g,done:o}:(y._loaded+=g.byteLength,y.onProgress&&y.onProgress({loaded:y._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(be){var F=__webpack_module_cache__[be];if(void 0!==F)return F.exports;var ee=__webpack_module_cache__[be]={exports:{}};return __webpack_modules__[be](ee,ee.exports,__w_pdfjs_require__),ee.exports}var __webpack_exports__={};return(()=>{var be=__webpack_exports__;Object.defineProperty(be,"__esModule",{value:!0}),Object.defineProperty(be,"AnnotationLayer",{enumerable:!0,get:function(){return fe.AnnotationLayer}}),Object.defineProperty(be,"AnnotationMode",{enumerable:!0,get:function(){return F.AnnotationMode}}),Object.defineProperty(be,"CMapCompressionType",{enumerable:!0,get:function(){return F.CMapCompressionType}}),Object.defineProperty(be,"GlobalWorkerOptions",{enumerable:!0,get:function(){return W.GlobalWorkerOptions}}),Object.defineProperty(be,"InvalidPDFException",{enumerable:!0,get:function(){return F.InvalidPDFException}}),Object.defineProperty(be,"LoopbackPort",{enumerable:!0,get:function(){return ee.LoopbackPort}}),Object.defineProperty(be,"MissingPDFException",{enumerable:!0,get:function(){return F.MissingPDFException}}),Object.defineProperty(be,"OPS",{enumerable:!0,get:function(){return F.OPS}}),Object.defineProperty(be,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ee.PDFDataRangeTransport}}),Object.defineProperty(be,"PDFDateString",{enumerable:!0,get:function(){return _.PDFDateString}}),Object.defineProperty(be,"PDFWorker",{enumerable:!0,get:function(){return ee.PDFWorker}}),Object.defineProperty(be,"PasswordResponses",{enumerable:!0,get:function(){return F.PasswordResponses}}),Object.defineProperty(be,"PermissionFlag",{enumerable:!0,get:function(){return F.PermissionFlag}}),Object.defineProperty(be,"PixelsPerInch",{enumerable:!0,get:function(){return _.PixelsPerInch}}),Object.defineProperty(be,"RenderingCancelledException",{enumerable:!0,get:function(){return _.RenderingCancelledException}}),Object.defineProperty(be,"SVGGraphics",{enumerable:!0,get:function(){return V.SVGGraphics}}),Object.defineProperty(be,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return F.UNSUPPORTED_FEATURES}}),Object.defineProperty(be,"UnexpectedResponseException",{enumerable:!0,get:function(){return F.UnexpectedResponseException}}),Object.defineProperty(be,"Util",{enumerable:!0,get:function(){return F.Util}}),Object.defineProperty(be,"VerbosityLevel",{enumerable:!0,get:function(){return F.VerbosityLevel}}),Object.defineProperty(be,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(be,"build",{enumerable:!0,get:function(){return ee.build}}),Object.defineProperty(be,"createPromiseCapability",{enumerable:!0,get:function(){return F.createPromiseCapability}}),Object.defineProperty(be,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return F.createValidAbsoluteUrl}}),Object.defineProperty(be,"getDocument",{enumerable:!0,get:function(){return ee.getDocument}}),Object.defineProperty(be,"getFilenameFromUrl",{enumerable:!0,get:function(){return _.getFilenameFromUrl}}),Object.defineProperty(be,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _.getPdfFilenameFromUrl}}),Object.defineProperty(be,"getXfaPageViewport",{enumerable:!0,get:function(){return _.getXfaPageViewport}}),Object.defineProperty(be,"isPdfFile",{enumerable:!0,get:function(){return _.isPdfFile}}),Object.defineProperty(be,"loadScript",{enumerable:!0,get:function(){return _.loadScript}}),Object.defineProperty(be,"renderTextLayer",{enumerable:!0,get:function(){return ae.renderTextLayer}}),Object.defineProperty(be,"shadow",{enumerable:!0,get:function(){return F.shadow}}),Object.defineProperty(be,"version",{enumerable:!0,get:function(){return ee.version}});var F=__w_pdfjs_require__(1),ee=__w_pdfjs_require__(4),_=__w_pdfjs_require__(5),fe=__w_pdfjs_require__(20),W=__w_pdfjs_require__(13),e=__w_pdfjs_require__(3),ae=__w_pdfjs_require__(23),V=__w_pdfjs_require__(24),u=__w_pdfjs_require__(22);if(e.isNodeJS){const{PDFNodeStream:g}=__w_pdfjs_require__(25);(0,ee.setPDFNetworkStreamFactory)(o=>new g(o))}else{const{PDFNetworkStream:g}=__w_pdfjs_require__(28),{PDFFetchStream:o}=__w_pdfjs_require__(29);(0,ee.setPDFNetworkStreamFactory)(A=>(0,_.isValidFetchUrl)(A.url)?new o(A):new g(A))}})(),__webpack_exports__})(),module.exports=ee()},2813:function(be,F,ee){var e,_=ee(7156).default;e=()=>(()=>{"use strict";var fe=[,(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DefaultXfaLayerFactory=u.DefaultTextLayerFactory=u.DefaultStructTreeLayerFactory=u.DefaultAnnotationLayerFactory=void 0;var y=w(2),g=w(4),o=w(5),A=w(7),r=w(8),a=w(9);u.DefaultAnnotationLayerFactory=class p{createAnnotationLayerBuilder(s,x,C=null,T="",Z=!0,D=g.NullL10n,N=!1,O=null,G=null,R=null,Q=null){return new y.AnnotationLayerBuilder({pageDiv:s,pdfPage:x,imageResourcesPath:T,renderForms:Z,linkService:new o.SimpleLinkService,l10n:D,annotationStorage:C,enableScripting:N,hasJSActionsPromise:O,fieldObjectsPromise:R,mouseState:G,annotationCanvasMap:Q})}},u.DefaultStructTreeLayerFactory=class k{createStructTreeLayerBuilder(s){return new A.StructTreeLayerBuilder({pdfPage:s})}},u.DefaultTextLayerFactory=class b{createTextLayerBuilder(s,x,C,T=!1,Z,D){return new r.TextLayerBuilder({textLayerDiv:s,pageIndex:x,viewport:C,enhanceTextSelection:T,eventBus:Z,highlighter:D})}},u.DefaultXfaLayerFactory=class m{createXfaLayerBuilder(s,x,C=null,T=null){return new a.XfaLayerBuilder({pageDiv:s,pdfPage:x,annotationStorage:C,linkService:new o.SimpleLinkService,xfaHtml:T})}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationLayerBuilder=void 0;var y=w(3),g=w(4);u.AnnotationLayerBuilder=class o{constructor({pageDiv:r,pdfPage:a,linkService:p,downloadManager:k,annotationStorage:b=null,imageResourcesPath:m="",renderForms:i=!0,l10n:s=g.NullL10n,enableScripting:x=!1,hasJSActionsPromise:C=null,fieldObjectsPromise:T=null,mouseState:Z=null,annotationCanvasMap:D=null}){this.pageDiv=r,this.pdfPage=a,this.linkService=p,this.downloadManager=k,this.imageResourcesPath=m,this.renderForms=i,this.l10n=s,this.annotationStorage=b,this.enableScripting=x,this._hasJSActionsPromise=C,this._fieldObjectsPromise=T,this._mouseState=Z,this._annotationCanvasMap=D,this.div=null,this._cancelled=!1}render(r,a="display"){var p=this;return _(function*(){const[k,b=!1,m=null]=yield Promise.all([p.pdfPage.getAnnotations({intent:a}),p._hasJSActionsPromise,p._fieldObjectsPromise]);if(p._cancelled||0===k.length)return;const i={viewport:r.clone({dontFlip:!0}),div:p.div,annotations:k,page:p.pdfPage,imageResourcesPath:p.imageResourcesPath,renderForms:p.renderForms,linkService:p.linkService,downloadManager:p.downloadManager,annotationStorage:p.annotationStorage,enableScripting:p.enableScripting,hasJSActions:b,fieldObjects:m,mouseState:p._mouseState,annotationCanvasMap:p._annotationCanvasMap};p.div?y.AnnotationLayer.update(i):(p.div=document.createElement("div"),p.div.className="annotationLayer",p.pageDiv.appendChild(p.div),i.div=p.div,y.AnnotationLayer.render(i),p.l10n.translate(p.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},V=>{let u;u=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ee(6036),V.exports=u},(V,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.NullL10n=void 0,u.fixupLangCode=function o(a){return g[a?.toLowerCase()]||a},u.getL10nFallback=y;const w={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function y(a,p){switch(a){case"find_match_count":a=`find_match_count[${1===p.total?"one":"other"}]`;break;case"find_match_count_limit":a=`find_match_count_limit[${1===p.limit?"one":"other"}]`}return w[a]||""}const g={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};u.NullL10n={getLanguage:()=>_(function*(){return"en-us"})(),getDirection:()=>_(function*(){return"ltr"})(),get:(a,p=null,k=y(a,p))=>_(function*(){return function A(a,p){return p?a.replace(/\{\{\s*(\w+)\s*\}\}/g,(k,b)=>b in p?p[b]:"{{"+b+"}}"):a}(k,p)})(),translate:a=>_(function*(){})()}},(V,u,w)=>{var p,k,Ot,m,Gt;Object.defineProperty(u,"__esModule",{value:!0}),u.SimpleLinkService=u.PDFLinkService=u.LinkTarget=void 0;var y=w(6);const o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function A(x,{url:C,target:T,rel:Z,enabled:D=!0}={}){if(!C||"string"!=typeof C)throw new Error('A valid "url" parameter must provided.');const N=(0,y.removeNullCharacters)(C);D?x.href=x.title=N:(x.href="",x.title=`Disabled: ${N}`,x.onclick=()=>!1);let O="";switch(T){case o.NONE:break;case o.SELF:O="_self";break;case o.BLANK:O="_blank";break;case o.PARENT:O="_parent";break;case o.TOP:O="_top"}x.target=O,x.rel="string"==typeof Z?Z:"noopener noreferrer nofollow"}u.LinkTarget=o;const s=class{constructor({eventBus:C,externalLinkTarget:T=null,externalLinkRel:Z=null,ignoreDestinationZoom:D=!1}={}){ke(this,k),ke(this,p,new Map),this.eventBus=C,this.externalLinkTarget=T,this.externalLinkRel=Z,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=D,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(C,T=null){this.baseUrl=T,this.pdfDocument=C,we(this,p).clear()}setViewer(C){this.pdfViewer=C}setHistory(C){this.pdfHistory=C}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(C){this.pdfViewer.currentPageNumber=C}get rotation(){return this.pdfViewer.pagesRotation}set rotation(C){this.pdfViewer.pagesRotation=C}goToDestination(C){var T=this;return _(function*(){var N;if(!T.pdfDocument)return;let Z,D;"string"==typeof C?(Z=C,D=yield T.pdfDocument.getDestination(C)):(Z=null,D=yield C),Array.isArray(D)?Ee(N=T,k,Ot).call(N,C,Z,D):console.error(`PDFLinkService.goToDestination: "${D}" is not a valid destination array, for dest="${C}".`)})()}goToPage(C){if(!this.pdfDocument)return;const T="string"==typeof C&&this.pdfViewer.pageLabelToPageNumber(C)||0|C;Number.isInteger(T)&&T>0&&T<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(T)),this.pdfViewer.scrollPageIntoView({pageNumber:T})):console.error(`PDFLinkService.goToPage: "${C}" is not a valid page.`)}addLinkAttributes(C,T,Z=!1){A(C,{url:T,target:Z?o.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(C){if("string"==typeof C){if(C.length>0)return this.getAnchorUrl("#"+escape(C))}else if(Array.isArray(C)){const T=JSON.stringify(C);if(T.length>0)return this.getAnchorUrl("#"+escape(T))}return this.getAnchorUrl("")}getAnchorUrl(C){return(this.baseUrl||"")+C}setHash(C){var D;if(!this.pdfDocument)return;let T,Z;if(C.includes("=")){const N=(0,y.parseQueryString)(C);if(N.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:N.get("search").replace(/"/g,""),phraseSearch:"true"===N.get("phrase")}),N.has("page")&&(T=0|N.get("page")||1),N.has("zoom")){const O=N.get("zoom").split(","),G=O[0],R=parseFloat(G);G.includes("Fit")?"Fit"===G||"FitB"===G?Z=[null,{name:G}]:"FitH"===G||"FitBH"===G||"FitV"===G||"FitBV"===G?Z=[null,{name:G},O.length>1?0|O[1]:null]:"FitR"===G?5!==O.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):Z=[null,{name:G},0|O[1],0|O[2],0|O[3],0|O[4]]:console.error(`PDFLinkService.setHash: "${G}" is not a valid zoom value.`):Z=[null,{name:"XYZ"},O.length>1?0|O[1]:null,O.length>2?0|O[2]:null,R?R/100:G]}Z?this.pdfViewer.scrollPageIntoView({pageNumber:T||this.page,destArray:Z,allowNegativeOffset:!0}):T&&(this.page=T),N.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:N.get("pagemode")}),N.has("nameddest")&&this.goToDestination(N.get("nameddest"))}else{Z=unescape(C);try{Z=JSON.parse(Z),Array.isArray(Z)||(Z=Z.toString())}catch{}if("string"==typeof Z||Ee(D=s,m,Gt).call(D,Z))return void this.goToDestination(Z);console.error(`PDFLinkService.setHash: "${unescape(C)}" is not a valid destination.`)}}executeNamedAction(C){switch(C){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:C})}cachePageRef(C,T){if(!T)return;const Z=0===T.gen?`${T.num}R`:`${T.num}R${T.gen}`;we(this,p).set(Z,C)}_cachedPageNumber(C){if(!C)return null;const T=0===C.gen?`${C.num}R`:`${C.num}R${C.gen}`;return we(this,p).get(T)||null}isPageVisible(C){return this.pdfViewer.isPageVisible(C)}isPageCached(C){return this.pdfViewer.isPageCached(C)}};let r=s;p=new WeakMap,k=new WeakSet,Ot=function(C,T=null,Z){const D=Z[0];let N;if("object"==typeof D&&null!==D){if(N=this._cachedPageNumber(D),!N)return void this.pdfDocument.getPageIndex(D).then(O=>{this.cachePageRef(O+1,D),Ee(this,k,Ot).call(this,C,T,Z)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid page reference, for dest="${C}".`)})}else{if(!Number.isInteger(D))return void console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid destination reference, for dest="${C}".`);N=D+1}!N||N<1||N>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid page number, for dest="${C}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:T,explicitDest:Z,pageNumber:N})),this.pdfViewer.scrollPageIntoView({pageNumber:N,destArray:Z,ignoreDestinationZoom:this._ignoreDestinationZoom}))},m=new WeakSet,Gt=function(C){if(!Array.isArray(C))return!1;const T=C.length;if(T<2)return!1;const Z=C[0];if(!("object"==typeof Z&&Number.isInteger(Z.num)&&Number.isInteger(Z.gen)||Number.isInteger(Z)&&Z>=0))return!1;const D=C[1];if("object"!=typeof D||"string"!=typeof D.name)return!1;let N=!0;switch(D.name){case"XYZ":if(5!==T)return!1;break;case"Fit":case"FitB":return 2===T;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==T)return!1;break;case"FitR":if(6!==T)return!1;N=!1;break;default:return!1}for(let O=2;O<T;O++){const G=C[O];if(!("number"==typeof G||N&&null===G))return!1}return!0},ke(r,m),u.PDFLinkService=r,u.SimpleLinkService=class a{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(C){}get rotation(){return 0}set rotation(C){}goToDestination(C){return _(function*(){})()}goToPage(C){}addLinkAttributes(C,T,Z=!1){A(C,{url:T,enabled:this.externalLinkEnabled})}getDestinationHash(C){return"#"}getAnchorUrl(C){return"#"}setHash(C){}executeNamedAction(C){}cachePageRef(C,T){}isPageVisible(C){return!0}isPageCached(C){return!0}}},(V,u)=>{var _e,Yt;Object.defineProperty(u,"__esModule",{value:!0}),u.animationStarted=u.VERTICAL_PADDING=u.UNKNOWN_SCALE=u.TextLayerMode=u.SpreadMode=u.SidebarView=u.ScrollMode=u.SCROLLBAR_PADDING=u.RenderingStates=u.RendererType=u.ProgressBar=u.PresentationModeState=u.OutputScale=u.MIN_SCALE=u.MAX_SCALE=u.MAX_AUTO_SCALE=u.DEFAULT_SCALE_VALUE=u.DEFAULT_SCALE_DELTA=u.DEFAULT_SCALE=u.AutoPrintRegExp=void 0,u.apiPageLayoutToViewerModes=function se(oe){let he=C.VERTICAL,ue=T.NONE;switch(oe){case"SinglePage":he=C.PAGE;break;case"OneColumn":break;case"TwoPageLeft":he=C.PAGE;case"TwoColumnLeft":ue=T.ODD;break;case"TwoPageRight":he=C.PAGE;case"TwoColumnRight":ue=T.EVEN}return{scrollMode:he,spreadMode:ue}},u.apiPageModeToSidebarView=function de(oe){switch(oe){case"UseNone":return i.NONE;case"UseThumbs":return i.THUMBS;case"UseOutlines":return i.OUTLINE;case"UseAttachments":return i.ATTACHMENTS;case"UseOC":return i.LAYERS}return i.NONE},u.approximateFraction=function K(oe){if(Math.floor(oe)===oe)return[oe,1];const he=1/oe;if(he>8)return[1,8];if(Math.floor(he)===he)return[1,he];const S=oe>1?he:oe;let me,j=0,ne=1,ye=1,ve=1;for(;;){const Te=j+ye,xe=ne+ve;if(xe>8)break;S<=Te/xe?(ye=Te,ve=xe):(j=Te,ne=xe)}return me=S-j/ne<ye/ve-S?S===oe?[j,ne]:[ne,j]:S===oe?[ye,ve]:[ve,ye],me},u.backtrackBeforeAllVisibleElements=I,u.binarySearchFirstItem=Y,u.getActiveOrFocusedElement=function te(){let oe=document,he=oe.activeElement||oe.querySelector(":focus");for(;he?.shadowRoot;)oe=he.shadowRoot,he=oe.activeElement||oe.querySelector(":focus");return he},u.getPageSizeInches=function le({view:oe,userUnit:he,rotate:ue}){const[S,j,ne,ye]=oe,ve=ue%180!=0,me=(ne-S)/72*he,Te=(ye-j)/72*he;return{width:ve?Te:me,height:ve?me:Te}},u.getVisibleElements=function l({scrollEl:oe,views:he,sortByVisibility:ue=!1,horizontal:S=!1,rtl:j=!1}){const ne=oe.scrollTop,ye=ne+oe.clientHeight,ve=oe.scrollLeft,me=ve+oe.clientWidth,Me=[],Le=new Set,Ze=he.length;let ce=Y(he,S?function xe(ge){const Ae=ge.div,Ce=Ae.offsetLeft+Ae.clientLeft;return j?Ce<me:Ce+Ae.clientWidth>ve}:function Te(ge){const Ae=ge.div;return Ae.offsetTop+Ae.clientTop+Ae.clientHeight>ne});ce>0&&ce<Ze&&!S&&(ce=I(ce,he,ne));let U=S?me:-1;for(let ge=ce;ge<Ze;ge++){const Ae=he[ge],Ce=Ae.div,Oe=Ce.offsetLeft+Ce.clientLeft,Fe=Ce.offsetTop+Ce.clientTop,De=Ce.clientWidth,Re=Ce.clientHeight,je=Oe+De,qe=Fe+Re;if(-1===U)qe>=ye&&(U=qe);else if((S?Oe:Fe)>U)break;if(qe<=ne||Fe>=ye||je<=ve||Oe>=me)continue;const Qe=Math.max(0,ne-Fe)+Math.max(0,qe-ye),We=(De-(Math.max(0,ve-Oe)+Math.max(0,je-me)))/De;Me.push({id:Ae.id,x:Oe,y:Fe,view:Ae,percent:(Re-Qe)/Re*We*100|0,widthPercent:100*We|0}),Le.add(Ae.id)}const z=Me[0],pe=Me[Me.length-1];return ue&&Me.sort(function(ge,Ae){const Ce=ge.percent-Ae.percent;return Math.abs(Ce)>.001?-Ce:ge.id-Ae.id}),{first:z,last:pe,views:Me,ids:Le}},u.isPortraitOrientation=function M(oe){return oe.width<=oe.height},u.isValidRotation=function f(oe){return Number.isInteger(oe)&&oe%90==0},u.isValidScrollMode=function E(oe){return Number.isInteger(oe)&&Object.values(C).includes(oe)&&oe!==C.UNKNOWN},u.isValidSpreadMode=function P(oe){return Number.isInteger(oe)&&Object.values(T).includes(oe)&&oe!==T.UNKNOWN},u.noContextMenuHandler=function d(oe){oe.preventDefault()},u.normalizeWheelEventDelta=function c(oe){let he=n(oe);return 0===oe.deltaMode?he/=900:1===oe.deltaMode&&(he/=30),he},u.normalizeWheelEventDirection=n,u.parseQueryString=function G(oe){const he=new Map;for(const[ue,S]of new URLSearchParams(oe))he.set(ue.toLowerCase(),S);return he},u.removeNullCharacters=function B(oe,he=!1){return"string"!=typeof oe?(console.error("The argument must be a string."),oe):(he&&(oe=oe.replace(Q," ")),oe.replace(R,""))},u.roundToDivide=function re(oe,he){const ue=oe%he;return 0===ue?oe:Math.round(oe-ue+he)},u.scrollIntoView=function N(oe,he,ue=!1){let S=oe.offsetParent;if(!S)return void console.error("offsetParent is not set -- cannot scroll");let j=oe.offsetTop+oe.clientTop,ne=oe.offsetLeft+oe.clientLeft;for(;S.clientHeight===S.scrollHeight&&S.clientWidth===S.scrollWidth||ue&&(S.classList.contains("markedContent")||"hidden"===getComputedStyle(S).overflow);)if(j+=S.offsetTop,ne+=S.offsetLeft,S=S.offsetParent,!S)return;he&&(void 0!==he.top&&(j+=he.top),void 0!==he.left&&(ne+=he.left,S.scrollLeft=ne)),S.scrollTop=j},u.watchScroll=function O(oe,he){const ue=function(ne){j||(j=window.requestAnimationFrame(function(){j=null;const ve=oe.scrollLeft,me=S.lastX;ve!==me&&(S.right=ve>me),S.lastX=ve;const Te=oe.scrollTop,xe=S.lastY;Te!==xe&&(S.down=Te>xe),S.lastY=Te,he(S)}))},S={right:!0,down:!0,lastX:oe.scrollLeft,lastY:oe.scrollTop,_eventHandler:ue};let j=null;return oe.addEventListener("scroll",ue,!0),S},u.DEFAULT_SCALE_VALUE="auto",u.DEFAULT_SCALE=1,u.DEFAULT_SCALE_DELTA=1.1,u.MIN_SCALE=.1,u.MAX_SCALE=10,u.UNKNOWN_SCALE=0,u.MAX_AUTO_SCALE=1.25,u.SCROLLBAR_PADDING=40,u.VERTICAL_PADDING=5,u.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},u.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const i={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};u.SidebarView=i,u.RendererType={CANVAS:"canvas",SVG:"svg"},u.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const C={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};u.ScrollMode=C;const T={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};u.SpreadMode=T,u.AutoPrintRegExp=/\bprint\s*\(/,u.OutputScale=class D{constructor(){const he=window.devicePixelRatio||1;this.sx=he,this.sy=he}get scaled(){return 1!==this.sx||1!==this.sy}};const R=/\x00/g,Q=/[\x01-\x1F]/g;function Y(oe,he,ue=0){let S=ue,j=oe.length-1;if(j<0||!he(oe[j]))return oe.length;if(he(oe[S]))return S;for(;S<j;){const ne=S+j>>1;he(oe[ne])?j=ne:S=ne+1}return S}function I(oe,he,ue){if(oe<2)return oe;let S=he[oe].div,j=S.offsetTop+S.clientTop;j>=ue&&(S=he[oe-1].div,j=S.offsetTop+S.clientTop);for(let ne=oe-2;ne>=0&&(S=he[ne].div,!(S.offsetTop+S.clientTop+S.clientHeight<=j));--ne)oe=ne;return oe}function n(oe){let he=Math.hypot(oe.deltaX,oe.deltaY);const ue=Math.atan2(oe.deltaY,oe.deltaX);return-.25*Math.PI<ue&&ue<.75*Math.PI&&(he=-he),he}const J=new Promise(function(oe){window.requestAnimationFrame(oe)});u.animationStarted=J,_e=new WeakSet,Yt=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},u.ProgressBar=class ${constructor(he){if(ke(this,_e),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(he+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(he){this._indeterminate=isNaN(he),this._percent=function X(oe,he,ue){return Math.min(Math.max(oe,he),ue)}(he,0,100),Ee(this,_e,Yt).call(this)}setWidth(he){if(!he)return;const S=he.parentNode.offsetWidth-he.offsetWidth;S>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${S}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(V,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StructTreeLayerBuilder=void 0;const w={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},y=/^H(\d+)$/;u.StructTreeLayerBuilder=class g{constructor({pdfPage:A}){this.pdfPage=A}render(A){return this._walk(A)}_setAttributes(A,r){void 0!==A.alt&&r.setAttribute("aria-label",A.alt),void 0!==A.id&&r.setAttribute("aria-owns",A.id),void 0!==A.lang&&r.setAttribute("lang",A.lang)}_walk(A){if(!A)return null;const r=document.createElement("span");if("role"in A){const{role:a}=A,p=a.match(y);p?(r.setAttribute("role","heading"),r.setAttribute("aria-level",p[1])):w[a]&&r.setAttribute("role",w[a])}if(this._setAttributes(A,r),A.children)if(1===A.children.length&&"id"in A.children[0])this._setAttributes(A.children[0],r);else for(const a of A.children)r.appendChild(this._walk(a));return r}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextLayerBuilder=void 0;var y=w(3);u.TextLayerBuilder=class o{constructor({textLayerDiv:r,eventBus:a,pageIndex:p,viewport:k,highlighter:b=null,enhanceTextSelection:m=!1}){this.textLayerDiv=r,this.eventBus=a,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=p+1,this.viewport=k,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=b,this.enhanceTextSelection=m,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const r=document.createElement("div");r.className="endOfContent",this.textLayerDiv.appendChild(r)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(r=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const a=document.createDocumentFragment();this.textLayerRenderTask=(0,y.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:a,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(a),this._finishRendering(),this.highlighter?.enable()},function(p){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(r){this.cancel(),this.textContentStream=r}setTextContent(r){this.cancel(),this.textContent=r}_bindMouse(){const r=this.textLayerDiv;let a=null;r.addEventListener("mousedown",p=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(a&&(clearTimeout(a),a=null));const k=r.querySelector(".endOfContent");if(!k)return;let b=p.target!==r;if(b=b&&"none"!==window.getComputedStyle(k).getPropertyValue("-moz-user-select"),b){const m=r.getBoundingClientRect(),i=Math.max(0,(p.pageY-m.top)/m.height);k.style.top=(100*i).toFixed(2)+"%"}k.classList.add("active")}),r.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(a=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),a=null},300));const p=r.querySelector(".endOfContent");!p||(p.style.top="",p.classList.remove("active"))})}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaLayerBuilder=void 0;var y=w(3);u.XfaLayerBuilder=class g{constructor({pageDiv:A,pdfPage:r,annotationStorage:a=null,linkService:p,xfaHtml:k=null}){this.pageDiv=A,this.pdfPage=r,this.annotationStorage=a,this.linkService=p,this.xfaHtml=k,this.div=null,this._cancelled=!1}render(A,r="display"){if("print"===r){const a={viewport:A.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r},p=document.createElement("div");this.pageDiv.appendChild(p),a.div=p;const k=y.XfaLayer.render(a);return Promise.resolve(k)}return this.pdfPage.getXfa().then(a=>{if(this._cancelled||!a)return{textDivs:[]};const p={viewport:A.clone({dontFlip:!0}),div:this.div,xfaHtml:a,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};return this.div?y.XfaLayer.update(p):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),p.div=this.div,y.XfaLayer.render(p))}).catch(a=>{console.error(a)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFViewer=u.PDFSinglePageViewer=void 0;var y=w(6),g=w(11);u.PDFViewer=class o extends g.BaseViewer{},u.PDFSinglePageViewer=class A extends g.BaseViewer{_resetView(){super._resetView(),this._scrollMode=y.ScrollMode.PAGE,this._spreadMode=y.SpreadMode.NONE}set scrollMode(a){}_updateScrollMode(){}set spreadMode(a){}_updateSpreadMode(){}}},(V,u,w)=>{var D,N,O,Lt,R,Q,B,Y,K,re,le,I,Jt,d,Qt,c,pt,E,yt,M,$t,X,Ft,te,Xt,de,Kt,Pe,en;Object.defineProperty(u,"__esModule",{value:!0}),u.PagesCountLimit=u.PDFPageViewBuffer=u.BaseViewer=void 0;var y=w(3),g=w(6),o=w(2),A=w(4),r=w(12),a=w(14),p=w(5),k=w(7),b=w(15),m=w(8),i=w(9);const x="enablePermissions",C={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};u.PagesCountLimit=C;class T{constructor(S){ke(this,O),ke(this,D,new Set),ke(this,N,0),Ue(this,N,S)}push(S){const j=we(this,D);j.has(S)&&j.delete(S),j.add(S),j.size>we(this,N)&&Ee(this,O,Lt).call(this)}resize(S,j=null){Ue(this,N,S);const ne=we(this,D);if(j){const ye=ne.size;let ve=1;for(const me of ne)if(j.has(me.id)&&(ne.delete(me),ne.add(me)),++ve>ye)break}for(;ne.size>we(this,N);)Ee(this,O,Lt).call(this)}has(S){return we(this,D).has(S)}[Symbol.iterator](){return we(this,D).keys()}}D=new WeakMap,N=new WeakMap,O=new WeakSet,Lt=function(){const S=we(this,D).keys().next().value;S?.destroy(),we(this,D).delete(S)},u.PDFPageViewBuffer=T;const he=class{constructor(S){if(ke(this,I),ke(this,d),ke(this,c),ke(this,E),ke(this,M),ke(this,X),ke(this,te),ke(this,de),ke(this,Pe),ke(this,R,null),ke(this,Q,y.AnnotationMode.ENABLE_FORMS),ke(this,B,null),ke(this,Y,!1),ke(this,K,0),ke(this,re,null),ke(this,le,null),this.constructor===he)throw new Error("Cannot initialize BaseViewer.");const j="2.14.305";if(y.version!==j)throw new Error(`The API version "${y.version}" does not match the Viewer version "${j}".`);if(this.container=S.container,this.viewer=S.viewer||S.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=S.eventBus,this.linkService=S.linkService||new p.SimpleLinkService,this.downloadManager=S.downloadManager||null,this.findController=S.findController||null,this._scriptingManager=S.scriptingManager||null,this.removePageBorders=S.removePageBorders||!1,this.textLayerMode=S.textLayerMode??g.TextLayerMode.ENABLE,Ue(this,Q,S.annotationMode??y.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=S.imageResourcesPath||"",this.enablePrintAutoRotate=S.enablePrintAutoRotate||!1,this.renderer=S.renderer||g.RendererType.CANVAS,this.useOnlyCssZoom=S.useOnlyCssZoom||!1,this.maxCanvasPixels=S.maxCanvasPixels,this.l10n=S.l10n||A.NullL10n,Ue(this,Y,S.enablePermissions||!1),this.pageColors=S.pageColors||null,S.pageColors&&(!CSS.supports("color",S.pageColors.background)||!CSS.supports("color",S.pageColors.foreground))&&((S.pageColors.background||S.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!S.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new a.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=S.renderingQueue,this._doc=document.documentElement,this.scroll=(0,g.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=g.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(S){return this._pages[S]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(S){return S?.pdfPage})}get renderForms(){return we(this,Q)===y.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(S){if(!Number.isInteger(S))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(S,!0)||console.error(`currentPageNumber: "${S}" is not a valid page.`)}_setCurrentPageNumber(S,j=!1){if(this._currentPageNumber===S)return j&&Ee(this,X,Ft).call(this),!0;if(!(0<S&&S<=this.pagesCount))return!1;const ne=this._currentPageNumber;return this._currentPageNumber=S,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:S,pageLabel:this._pageLabels?.[S-1]??null,previous:ne}),j&&Ee(this,X,Ft).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(S){if(!this.pdfDocument)return;let j=0|S;if(this._pageLabels){const ne=this._pageLabels.indexOf(S);ne>=0&&(j=ne+1)}this._setCurrentPageNumber(j,!0)||console.error(`currentPageLabel: "${S}" is not a valid page.`)}get currentScale(){return this._currentScale!==g.UNKNOWN_SCALE?this._currentScale:g.DEFAULT_SCALE}set currentScale(S){if(isNaN(S))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(S,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(S){!this.pdfDocument||this._setScale(S,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(S){if(!(0,g.isValidRotation)(S))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((S%=360)<0&&(S+=360),this._pagesRotation===S))return;this._pagesRotation=S;const j=this._currentPageNumber,ne={rotation:S};for(const ye of this._pages)ye.update(ne);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:S,pageNumber:j}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(S){var j=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=S,!S)return;const ne=S.isPureXfa,ye=S.numPages,ve=S.getPage(1),me=S.getOptionalContentConfig(),Te=we(this,Y)?S.getPermissions():Promise.resolve();if(ye>C.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const xe=this._scrollMode=g.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:xe})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ye})},()=>{}),this._onBeforeDraw=xe=>{const Me=this._pages[xe.pageNumber-1];!Me||we(this,R).push(Me)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=xe=>{xe.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:xe.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,we(this,le)&&(document.removeEventListener("visibilitychange",we(this,le)),Ue(this,le,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ve,Te]).then(([xe,Me])=>{if(S!==this.pdfDocument)return;this._firstPageCapability.resolve(xe),this._optionalContentConfigPromise=me,Ee(this,I,Jt).call(this,Me);const Le=this._scrollMode===g.ScrollMode.PAGE?null:this.viewer,Ze=this.currentScale,ce=xe.getViewport({scale:Ze*y.PixelsPerInch.PDF_TO_CSS_UNITS}),U=this.textLayerMode===g.TextLayerMode.DISABLE||ne?null:this,z=we(this,Q)!==y.AnnotationMode.DISABLE?this:null,pe=ne?this:null;for(let Ae=1;Ae<=ye;++Ae){const Ce=new r.PDFPageView({container:Le,eventBus:this.eventBus,id:Ae,scale:Ze,defaultViewport:ce.clone(),optionalContentConfigPromise:me,renderingQueue:this.renderingQueue,textLayerFactory:U,textLayerMode:this.textLayerMode,annotationLayerFactory:z,annotationMode:we(this,Q),xfaLayerFactory:pe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ce)}const ge=this._pages[0];ge&&(ge.setPdfPage(xe),this.linkService.cachePageRef(1,xe.ref)),this._scrollMode===g.ScrollMode.PAGE?Ee(this,c,pt).call(this):this._spreadMode!==g.SpreadMode.NONE&&this._updateSpreadMode(),Ee(this,d,Qt).call(this).then(_(function*(){if(j.findController&&j.findController.setDocument(S),j._scriptingManager&&j._scriptingManager.setDocument(S),S.loadingParams.disableAutoFetch||ye>C.FORCE_LAZY_PAGE_INIT)return void j._pagesCapability.resolve();let Ae=ye-1;if(Ae<=0)j._pagesCapability.resolve();else for(let Ce=2;Ce<=ye;++Ce){const Oe=S.getPage(Ce).then(Fe=>{const De=j._pages[Ce-1];De.pdfPage||De.setPdfPage(Fe),j.linkService.cachePageRef(Ce,Fe.ref),0==--Ae&&j._pagesCapability.resolve()},Fe=>{console.error(`Unable to get page ${Ce} to initialize viewer`,Fe),0==--Ae&&j._pagesCapability.resolve()});Ce%C.PAUSE_EAGER_PAGE_INIT==0&&(yield Oe)}})),this.eventBus.dispatch("pagesinit",{source:this}),S.getMetadata().then(({info:Ae})=>{S===this.pdfDocument&&Ae.Language&&(this.viewer.lang=Ae.Language)}),this.defaultRenderingQueue&&this.update()}).catch(xe=>{console.error("Unable to initialize viewer",xe),this._pagesCapability.reject(xe)})}setPageLabels(S){if(this.pdfDocument){S?Array.isArray(S)&&this.pdfDocument.numPages===S.length?this._pageLabels=S:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let j=0,ne=this._pages.length;j<ne;j++)this._pages[j].setPageLabel(this._pageLabels?.[j]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=g.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ue(this,R,new T(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,y.createPromiseCapability)(),this._onePageRenderedCapability=(0,y.createPromiseCapability)(),this._pagesCapability=(0,y.createPromiseCapability)(),this._scrollMode=g.ScrollMode.VERTICAL,this._previousScrollMode=g.ScrollMode.UNKNOWN,this._spreadMode=g.SpreadMode.NONE,Ue(this,re,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),we(this,le)&&(document.removeEventListener("visibilitychange",we(this,le)),Ue(this,le,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(x),null!==we(this,B)&&(Ue(this,Q,we(this,B)),Ue(this,B,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(S,j,ne=!1,ye=!1){if(this._currentScaleValue=j.toString(),Ee(this,M,$t).call(this,S))return void(ye&&this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:j}));this._doc.style.setProperty("--zoom-factor",S);const ve={scale:S};for(const me of this._pages)me.update(ve);if(this._currentScale=S,!ne){let Te,me=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(me=this._location.pageNumber,Te=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:me,destArray:Te,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:ye?j:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==g.SpreadMode.NONE&&this._scrollMode!==g.ScrollMode.HORIZONTAL?2:1}_setScale(S,j=!1){let ne=parseFloat(S);if(ne>0)this._setScaleUpdatePages(ne,S,j,!1);else{const ye=this._pages[this._currentPageNumber-1];if(!ye)return;let ve=g.SCROLLBAR_PADDING,me=g.VERTICAL_PADDING;this.isInPresentationMode?ve=me=4:this.removePageBorders?ve=me=0:this._scrollMode===g.ScrollMode.HORIZONTAL&&([ve,me]=[me,ve]);const Te=(this.container.clientWidth-ve)/ye.width*ye.scale/this._pageWidthScaleFactor,xe=(this.container.clientHeight-me)/ye.height*ye.scale;switch(S){case"page-actual":ne=1;break;case"page-width":ne=Te;break;case"page-height":ne=xe;break;case"page-fit":ne=Math.min(Te,xe);break;case"auto":const Me=(0,g.isPortraitOrientation)(ye)?Te:Math.min(xe,Te);ne=Math.min(g.MAX_AUTO_SCALE,Me);break;default:return void console.error(`_setScale: "${S}" is an unknown zoom value.`)}this._setScaleUpdatePages(ne,S,j,!0)}}pageLabelToPageNumber(S){if(!this._pageLabels)return null;const j=this._pageLabels.indexOf(S);return j<0?null:j+1}scrollPageIntoView({pageNumber:S,destArray:j=null,allowNegativeOffset:ne=!1,ignoreDestinationZoom:ye=!1}){if(!this.pdfDocument)return;const ve=Number.isInteger(S)&&this._pages[S-1];if(!ve)return void console.error(`scrollPageIntoView: "${S}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!j)return void this._setCurrentPageNumber(S,!0);let Le,Ze,me=0,Te=0,xe=0,Me=0;const ce=ve.rotation%180!=0,U=(ce?ve.height:ve.width)/ve.scale/y.PixelsPerInch.PDF_TO_CSS_UNITS,z=(ce?ve.width:ve.height)/ve.scale/y.PixelsPerInch.PDF_TO_CSS_UNITS;let pe=0;switch(j[1].name){case"XYZ":me=j[2],Te=j[3],pe=j[4],me=null!==me?me:0,Te=null!==Te?Te:z;break;case"Fit":case"FitB":pe="page-fit";break;case"FitH":case"FitBH":Te=j[2],pe="page-width",null===Te&&this._location?(me=this._location.left,Te=this._location.top):("number"!=typeof Te||Te<0)&&(Te=z);break;case"FitV":case"FitBV":me=j[2],xe=U,Me=z,pe="page-height";break;case"FitR":me=j[2],Te=j[3],xe=j[4]-me,Me=j[5]-Te,Le=(this.container.clientWidth-(this.removePageBorders?0:g.SCROLLBAR_PADDING))/xe/y.PixelsPerInch.PDF_TO_CSS_UNITS,Ze=(this.container.clientHeight-(this.removePageBorders?0:g.VERTICAL_PADDING))/Me/y.PixelsPerInch.PDF_TO_CSS_UNITS,pe=Math.min(Math.abs(Le),Math.abs(Ze));break;default:return void console.error(`scrollPageIntoView: "${j[1].name}" is not a valid destination type.`)}if(ye||(pe&&pe!==this._currentScale?this.currentScaleValue=pe:this._currentScale===g.UNKNOWN_SCALE&&(this.currentScaleValue=g.DEFAULT_SCALE_VALUE)),"page-fit"===pe&&!j[4])return void Ee(this,E,yt).call(this,ve);const ge=[ve.viewport.convertToViewportPoint(me,Te),ve.viewport.convertToViewportPoint(me+xe,Te+Me)];let Ae=Math.min(ge[0][0],ge[1][0]),Ce=Math.min(ge[0][1],ge[1][1]);ne||(Ae=Math.max(Ae,0),Ce=Math.max(Ce,0)),Ee(this,E,yt).call(this,ve,{left:Ae,top:Ce})}_updateLocation(S){const j=this._currentScale,ne=this._currentScaleValue,ye=parseFloat(ne)===j?Math.round(1e4*j)/100:ne,ve=S.id,Te=this.container,xe=this._pages[ve-1].getPagePoint(Te.scrollLeft-S.x,Te.scrollTop-S.y),Me=Math.round(xe[0]),Le=Math.round(xe[1]);let Ze=`#page=${ve}`;this.isInPresentationMode||(Ze+=`&zoom=${ye},${Me},${Le}`),this._location={pageNumber:ve,scale:ye,top:Le,left:Me,rotation:this._pagesRotation,pdfOpenParams:Ze}}update(){const S=this._getVisiblePages(),j=S.views,ne=j.length;if(0===ne)return;const ye=Math.max(10,2*ne+1);we(this,R).resize(ye,S.ids),this.renderingQueue.renderHighestPriority(S);const ve=this._spreadMode===g.SpreadMode.NONE&&(this._scrollMode===g.ScrollMode.PAGE||this._scrollMode===g.ScrollMode.VERTICAL),me=this._currentPageNumber;let Te=!1;for(const xe of j){if(xe.percent<100)break;if(xe.id===me&&ve){Te=!0;break}}this._setCurrentPageNumber(Te?me:j[0].id),this._updateLocation(S.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(S){return this.container.contains(S)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===g.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===g.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const S=this._scrollMode===g.ScrollMode.PAGE?we(this,re).pages:this._pages,j=this._scrollMode===g.ScrollMode.HORIZONTAL;return(0,g.getVisibleElements)({scrollEl:this.container,views:S,sortByVisibility:!0,horizontal:j,rtl:j&&this._isContainerRtl})}isPageVisible(S){return!!this.pdfDocument&&(Number.isInteger(S)&&S>0&&S<=this.pagesCount?this._getVisiblePages().ids.has(S):(console.error(`isPageVisible: "${S}" is not a valid page.`),!1))}isPageCached(S){if(!this.pdfDocument)return!1;if(!(Number.isInteger(S)&&S>0&&S<=this.pagesCount))return console.error(`isPageCached: "${S}" is not a valid page.`),!1;const j=this._pages[S-1];return we(this,R).has(j)}cleanup(){for(const S of this._pages)S.renderingState!==g.RenderingStates.FINISHED&&S.reset()}_cancelRendering(){for(const S of this._pages)S.cancelRendering()}forceRendering(S){const j=S||this._getVisiblePages(),ne=Ee(this,de,Kt).call(this,j),ve=this.renderingQueue.getHighestPriority(j,this._pages,ne,this._spreadMode!==g.SpreadMode.NONE&&this._scrollMode!==g.ScrollMode.HORIZONTAL);return Ee(this,Pe,en).call(this,j.ids),!!ve&&(Ee(this,te,Xt).call(this,ve).then(()=>{this.renderingQueue.renderView(ve)}),!0)}createTextLayerBuilder(S,j,ne,ye=!1,ve,me){return new m.TextLayerBuilder({textLayerDiv:S,eventBus:ve,pageIndex:j,viewport:ne,enhanceTextSelection:!this.isInPresentationMode&&ye,highlighter:me})}createTextHighlighter(S,j){return new b.TextHighlighter({eventBus:j,pageIndex:S,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(S,j,ne=null,ye="",ve=!0,me=A.NullL10n,Te=null,xe=null,Me=null,Le=null,Ze=null){return new o.AnnotationLayerBuilder({pageDiv:S,pdfPage:j,annotationStorage:ne||this.pdfDocument?.annotationStorage,imageResourcesPath:ye,renderForms:ve,linkService:this.linkService,downloadManager:this.downloadManager,l10n:me,enableScripting:Te??this.enableScripting,hasJSActionsPromise:xe||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Le||this.pdfDocument?.getFieldObjects(),mouseState:Me||this._scriptingManager?.mouseState,annotationCanvasMap:Ze})}createXfaLayerBuilder(S,j,ne=null){return new i.XfaLayerBuilder({pageDiv:S,pdfPage:j,annotationStorage:ne||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(S){return new k.StructTreeLayerBuilder({pdfPage:S})}get hasEqualPageSizes(){const S=this._pages[0];for(let j=1,ne=this._pages.length;j<ne;++j){const ye=this._pages[j];if(ye.width!==S.width||ye.height!==S.height)return!1}return!0}getPagesOverview(){return this._pages.map(S=>{const j=S.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,g.isPortraitOrientation)(j)?{width:j.width,height:j.height,rotation:j.rotation}:{width:j.height,height:j.width,rotation:(j.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(S){if(!(S instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${S}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=S;const j={optionalContentConfigPromise:S};for(const ne of this._pages)ne.update(j);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:S})}get scrollMode(){return this._scrollMode}set scrollMode(S){if(this._scrollMode!==S){if(!(0,g.isValidScrollMode)(S))throw new Error(`Invalid scroll mode: ${S}`);this.pagesCount>C.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=S,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:S}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(S=null){const j=this._scrollMode,ne=this.viewer;ne.classList.toggle("scrollHorizontal",j===g.ScrollMode.HORIZONTAL),ne.classList.toggle("scrollWrapped",j===g.ScrollMode.WRAPPED),this.pdfDocument&&S&&(j===g.ScrollMode.PAGE?Ee(this,c,pt).call(this):this._previousScrollMode===g.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(S){if(this._spreadMode!==S){if(!(0,g.isValidSpreadMode)(S))throw new Error(`Invalid spread mode: ${S}`);this._spreadMode=S,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:S}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(S=null){if(!this.pdfDocument)return;const j=this.viewer,ne=this._pages;if(this._scrollMode===g.ScrollMode.PAGE)Ee(this,c,pt).call(this);else if(j.textContent="",this._spreadMode===g.SpreadMode.NONE)for(const ye of this._pages)j.appendChild(ye.div);else{const ye=this._spreadMode-1;let ve=null;for(let me=0,Te=ne.length;me<Te;++me)null===ve?(ve=document.createElement("div"),ve.className="spread",j.appendChild(ve)):me%2===ye&&(ve=ve.cloneNode(!1),j.appendChild(ve)),ve.appendChild(ne[me].div)}!S||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}_getPageAdvance(S,j=!1){switch(this._scrollMode){case g.ScrollMode.WRAPPED:{const{views:ne}=this._getVisiblePages(),ye=new Map;for(const{id:ve,y:me,percent:Te,widthPercent:xe}of ne){if(0===Te||xe<100)continue;let Me=ye.get(me);Me||ye.set(me,Me||(Me=[])),Me.push(ve)}for(const ve of ye.values()){const me=ve.indexOf(S);if(-1===me)continue;const Te=ve.length;if(1===Te)break;if(j)for(let xe=me-1,Me=0;xe>=Me;xe--){const Ze=ve[xe+1]-1;if(ve[xe]<Ze)return S-Ze}else for(let xe=me+1,Me=Te;xe<Me;xe++){const Ze=ve[xe-1]+1;if(ve[xe]>Ze)return Ze-S}if(j){const xe=ve[0];if(xe<S)return S-xe+1}else{const xe=ve[Te-1];if(xe>S)return xe-S+1}break}break}case g.ScrollMode.HORIZONTAL:break;case g.ScrollMode.PAGE:case g.ScrollMode.VERTICAL:{if(this._spreadMode===g.SpreadMode.NONE)break;const ne=this._spreadMode-1;if(j&&S%2!==ne)break;if(!j&&S%2===ne)break;const{views:ye}=this._getVisiblePages(),ve=j?S-1:S+1;for(const{id:me,percent:Te,widthPercent:xe}of ye)if(me===ve){if(Te>0&&100===xe)return 2;break}break}}return 1}nextPage(){const S=this._currentPageNumber,j=this.pagesCount;if(S>=j)return!1;const ne=this._getPageAdvance(S,!1)||1;return this.currentPageNumber=Math.min(S+ne,j),!0}previousPage(){const S=this._currentPageNumber;if(S<=1)return!1;const j=this._getPageAdvance(S,!0)||1;return this.currentPageNumber=Math.max(S-j,1),!0}increaseScale(S=1){let j=this._currentScale;do{j=(j*g.DEFAULT_SCALE_DELTA).toFixed(2),j=Math.ceil(10*j)/10,j=Math.min(g.MAX_SCALE,j)}while(--S>0&&j<g.MAX_SCALE);this.currentScaleValue=j}decreaseScale(S=1){let j=this._currentScale;do{j=(j/g.DEFAULT_SCALE_DELTA).toFixed(2),j=Math.floor(10*j)/10,j=Math.max(g.MIN_SCALE,j)}while(--S>0&&j>g.MIN_SCALE);this.currentScaleValue=j}updateContainerHeightCss(){const S=this.container.clientHeight;S!==we(this,K)&&(Ue(this,K,S),this._doc.style.setProperty("--viewer-container-height",`${S}px`))}};let Z=he;R=new WeakMap,Q=new WeakMap,B=new WeakMap,Y=new WeakMap,K=new WeakMap,re=new WeakMap,le=new WeakMap,I=new WeakSet,Jt=function(S){!S||(S.includes(y.PermissionFlag.COPY)||this.viewer.classList.add(x),!S.includes(y.PermissionFlag.MODIFY_ANNOTATIONS)&&!S.includes(y.PermissionFlag.FILL_INTERACTIVE_FORMS)&&we(this,Q)===y.AnnotationMode.ENABLE_FORMS&&(Ue(this,B,we(this,Q)),Ue(this,Q,y.AnnotationMode.ENABLE)))},d=new WeakSet,Qt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const S=new Promise(j=>{Ue(this,le,()=>{"hidden"===document.visibilityState&&(j(),document.removeEventListener("visibilitychange",we(this,le)),Ue(this,le,null))}),document.addEventListener("visibilitychange",we(this,le))});return Promise.race([this._onePageRenderedCapability.promise,S])},c=new WeakSet,pt=function(){if(this._scrollMode!==g.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const S=this._currentPageNumber,j=we(this,re),ne=this.viewer;if(ne.textContent="",j.pages.length=0,this._spreadMode!==g.SpreadMode.NONE||this.isInPresentationMode){const ye=new Set,ve=this._spreadMode-1;-1===ve?ye.add(S-1):S%2!==ve?(ye.add(S-1),ye.add(S)):(ye.add(S-2),ye.add(S-1));const me=document.createElement("div");if(me.className="spread",this.isInPresentationMode){const Te=document.createElement("div");Te.className="dummyPage",me.appendChild(Te)}for(const Te of ye){const xe=this._pages[Te];!xe||(me.appendChild(xe.div),j.pages.push(xe))}ne.appendChild(me)}else{const ye=this._pages[S-1];ne.appendChild(ye.div),j.pages.push(ye)}j.scrollDown=S>=j.previousPageNumber,j.previousPageNumber=S},E=new WeakSet,yt=function(S,j=null){const{div:ne,id:ye}=S;if(this._scrollMode===g.ScrollMode.PAGE&&(this._setCurrentPageNumber(ye),Ee(this,c,pt).call(this),this.update()),!j&&!this.isInPresentationMode){const ve=ne.offsetLeft+ne.clientLeft,me=ve+ne.clientWidth,{scrollLeft:Te,clientWidth:xe}=this.container;(this._scrollMode===g.ScrollMode.HORIZONTAL||ve<Te||me>Te+xe)&&(j={left:0,top:0})}(0,g.scrollIntoView)(ne,j)},M=new WeakSet,$t=function(S){return S===this._currentScale||Math.abs(S-this._currentScale)<1e-15},X=new WeakSet,Ft=function(){const S=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Ee(this,E,yt).call(this,S)},te=new WeakSet,Xt=function(S){var j=this;return _(function*(){if(S.pdfPage)return S.pdfPage;try{const ne=yield j.pdfDocument.getPage(S.id);return S.pdfPage||S.setPdfPage(ne),j.linkService._cachedPageNumber?.(ne.ref)||j.linkService.cachePageRef(S.id,ne.ref),ne}catch(ne){return console.error("Unable to get page for page view",ne),null}})()},de=new WeakSet,Kt=function(S){if(1===S.first?.id)return!0;if(S.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case g.ScrollMode.PAGE:return we(this,re).scrollDown;case g.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Pe=new WeakSet,en=function(S){for(const j of S)this._pages[j-1]?.toggleLoadingIconSpinner(!0);for(const j of we(this,R))S.has(j.id)||j.toggleLoadingIconSpinner(!1)},u.BaseViewer=Z},(V,u,w)=>{var p;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFPageView=void 0;var y=w(3),g=w(6),o=w(13),A=w(4);const r=o.compatibilityParams.maxCanvasPixels||16777216;p=new WeakMap,u.PDFPageView=class a{constructor(b){ke(this,p,y.AnnotationMode.ENABLE_FORMS);const m=b.container,i=b.defaultViewport;this.id=b.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=b.scale||g.DEFAULT_SCALE,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=b.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=b.textLayerMode??g.TextLayerMode.ENABLE,Ue(this,p,b.annotationMode??y.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=b.imageResourcesPath||"",this.useOnlyCssZoom=b.useOnlyCssZoom||!1,this.maxCanvasPixels=b.maxCanvasPixels||r,this.pageColors=b.pageColors||null,this.eventBus=b.eventBus,this.renderingQueue=b.renderingQueue,this.textLayerFactory=b.textLayerFactory,this.annotationLayerFactory=b.annotationLayerFactory,this.xfaLayerFactory=b.xfaLayerFactory,this.textHighlighter=b.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=b.structTreeLayerFactory,this.renderer=b.renderer||g.RendererType.CANVAS,this.l10n=b.l10n||A.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=g.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(x=>{s.setAttribute("aria-label",x)}),this.div=s,m?.appendChild(s)}setPdfPage(b){this.pdfPage=b,this.pdfPageRotate=b.rotate,this.viewport=b.getViewport({scale:this.scale*y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var b=this;return _(function*(){let m=null;try{yield b.annotationLayer.render(b.viewport,"display")}catch(i){m=i}finally{b.eventBus.dispatch("annotationlayerrendered",{source:b,pageNumber:b.id,error:m})}})()}_renderXfaLayer(){var b=this;return _(function*(){let m=null;try{const i=yield b.xfaLayer.render(b.viewport,"display");b.textHighlighter&&b._buildXfaTextContentItems(i.textDivs)}catch(i){m=i}finally{b.eventBus.dispatch("xfalayerrendered",{source:b,pageNumber:b.id,error:m})}})()}_buildXfaTextContentItems(b){var m=this;return _(function*(){const i=yield m.pdfPage.getTextContent(),s=[];for(const x of i.items)s.push(x.str);m.textHighlighter.setTextMapping(b,s),m.textHighlighter.enable()})()}_resetZoomLayer(b=!1){if(!this.zoomLayer)return;const m=this.zoomLayer.firstChild;this.paintedViewportMap.delete(m),m.width=0,m.height=0,b&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:b=!1,keepAnnotationLayer:m=!1,keepXfaLayer:i=!1}={}){this.cancelRendering({keepAnnotationLayer:m,keepXfaLayer:i}),this.renderingState=g.RenderingStates.INITIAL;const s=this.div;s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px";const x=s.childNodes,C=b&&this.zoomLayer||null,T=m&&this.annotationLayer?.div||null,Z=i&&this.xfaLayer?.div||null;for(let D=x.length-1;D>=0;D--){const N=x[D];switch(N){case C:case T:case Z:continue}N.remove()}s.removeAttribute("data-loaded"),T&&this.annotationLayer.hide(),Z&&this.xfaLayer.hide(),C||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(D=>{this.loadingIconDiv?.setAttribute("aria-label",D)}),s.appendChild(this.loadingIconDiv)}update({scale:b=0,rotation:m=null,optionalContentConfigPromise:i=null}){if(this.scale=b||this.scale,"number"==typeof m&&(this.rotation=m),i instanceof Promise&&(this._optionalContentConfigPromise=i),this.viewport=this.viewport.clone({scale:this.scale*y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:C}=document.documentElement;C.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let x=!1;if(this.canvas&&this.maxCanvasPixels>0){const C=this.outputScale;(Math.floor(this.viewport.width)*C.sx|0)*(Math.floor(this.viewport.height)*C.sy|0)>this.maxCanvasPixels&&(x=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&x)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:b=!1,keepXfaLayer:m=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!b||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!m||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:b,redrawAnnotationLayer:m=!1,redrawXfaLayer:i=!1}){const s=this.viewport.width,x=this.viewport.height,C=this.div;b.style.width=b.parentNode.style.width=C.style.width=Math.floor(s)+"px",b.style.height=b.parentNode.style.height=C.style.height=Math.floor(x)+"px";const T=this.viewport.rotation-this.paintedViewportMap.get(b).rotation,Z=Math.abs(T);let D=1,N=1;if((90===Z||270===Z)&&(D=x/s,N=s/x),b.style.transform=`rotate(${T}deg) scale(${D}, ${N})`,this.textLayer){const O=this.textLayer.viewport,R=Math.abs(this.viewport.rotation-O.rotation);let Q=s/O.width;(90===R||270===R)&&(Q=s/O.height);const B=this.textLayer.textLayerDiv;let Y,K;switch(R){case 0:Y=K=0;break;case 90:Y=0,K="-"+B.style.height;break;case 180:Y="-"+B.style.width,K="-"+B.style.height;break;case 270:Y="-"+B.style.width,K=0;break;default:console.error("Bad rotation value.")}B.style.transform=`rotate(${R}deg) scale(${Q}) translate(${Y}, ${K})`,B.style.transformOrigin="0% 0%"}m&&this.annotationLayer&&this._renderAnnotationLayer(),i&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(b,m){return this.viewport.convertToPdfPoint(b,m)}toggleLoadingIconSpinner(b=!1){this.loadingIconDiv?.classList.toggle("notVisible",!b)}draw(){var b=this;this.renderingState!==g.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:m,pdfPage:i}=this;if(!i)return this.renderingState=g.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=g.RenderingStates.RUNNING;const s=document.createElement("div");s.style.width=m.style.width,s.style.height=m.style.height,s.classList.add("canvasWrapper"),this.annotationLayer?.div?m.insertBefore(s,this.annotationLayer.div):m.appendChild(s);let x=null;if(this.textLayerMode!==g.TextLayerMode.DISABLE&&this.textLayerFactory){const N=document.createElement("div");N.className="textLayer",N.style.width=s.style.width,N.style.height=s.style.height,this.annotationLayer?.div?m.insertBefore(N,this.annotationLayer.div):m.appendChild(N),x=this.textLayerFactory.createTextLayerBuilder(N,this.id-1,this.viewport,this.textLayerMode===g.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=x,we(this,p)!==y.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(m,i,null,this.imageResourcesPath,we(this,p)===y.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&m.appendChild(this.xfaLayer.div);let C=null;this.renderingQueue&&(C=N=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=g.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=g.RenderingStates.RUNNING,N()});N()});const T=function(){var N=_(function*(O=null){if(Z===b.paintTask&&(b.paintTask=null),O instanceof y.RenderingCancelledException)b._renderError=null;else if(b._renderError=O,b.renderingState=g.RenderingStates.FINISHED,b.loadingIconDiv&&(b.loadingIconDiv.remove(),delete b.loadingIconDiv),b._resetZoomLayer(!0),b.eventBus.dispatch("pagerendered",{source:b,pageNumber:b.id,cssTransform:!1,timestamp:performance.now(),error:b._renderError}),O)throw O});return function(){return N.apply(this,arguments)}}(),Z=this.renderer===g.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);Z.onRenderContinue=C,this.paintTask=Z;const D=Z.promise.then(()=>T(null).then(()=>{if(x){const N=i.streamTextContent({includeMarkedContent:!0});x.setTextContentStream(N),x.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(N){return T(N)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(m,i,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=N=>{N.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(O=>{if(!O||!this.canvas)return;const G=this.structTreeLayer.render(O);G.classList.add("structTree"),this.canvas.appendChild(G)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(i)),m.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),D}paintOnCanvas(b){const m=(0,y.createPromiseCapability)(),i={promise:m.promise,onRenderContinue(B){B()},cancel(){Q.cancel()}},s=this.viewport,x=document.createElement("canvas");x.hidden=!0;let C=!0;const T=function(){C&&(x.hidden=!1,C=!1)};b.appendChild(x),this.canvas=x;const Z=x.getContext("2d",{alpha:!1}),D=this.outputScale=new g.OutputScale;if(this.useOnlyCssZoom){const B=s.clone({scale:y.PixelsPerInch.PDF_TO_CSS_UNITS});D.sx*=B.width/s.width,D.sy*=B.height/s.height}if(this.maxCanvasPixels>0){const Y=Math.sqrt(this.maxCanvasPixels/(s.width*s.height));D.sx>Y||D.sy>Y?(D.sx=Y,D.sy=Y,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const N=(0,g.approximateFraction)(D.sx),O=(0,g.approximateFraction)(D.sy);x.width=(0,g.roundToDivide)(s.width*D.sx,N[0]),x.height=(0,g.roundToDivide)(s.height*D.sy,O[0]),x.style.width=(0,g.roundToDivide)(s.width,N[1])+"px",x.style.height=(0,g.roundToDivide)(s.height,O[1])+"px",this.paintedViewportMap.set(x,s);const R={canvasContext:Z,transform:D.scaled?[D.sx,0,0,D.sy,0,0]:null,viewport:this.viewport,annotationMode:we(this,p),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},Q=this.pdfPage.render(R);return Q.onContinue=function(B){T(),i.onRenderContinue?i.onRenderContinue(B):B()},Q.promise.then(function(){T(),m.resolve()},function(B){T(),m.reject(B)}),i}paintOnSvg(b){let m=!1;const i=()=>{if(m)throw new y.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},s=this.pdfPage,x=this.viewport.clone({scale:y.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:s.getOperatorList({annotationMode:we(this,p)}).then(T=>(i(),new y.SVGGraphics(s.commonObjs,s.objs).getSVG(T,x).then(D=>{i(),this.svg=D,this.paintedViewportMap.set(D,x),D.style.width=b.style.width,D.style.height=b.style.height,this.renderingState=g.RenderingStates.FINISHED,b.appendChild(D)}))),onRenderContinue(T){T()},cancel(){m=!0}}}setPageLabel(b){this.pageLabel="string"==typeof b?b:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(V,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.compatibilityParams=u.OptionKind=u.AppOptions=void 0;const w=Object.create(null);u.compatibilityParams=w;{const r=navigator.userAgent||"",a=navigator.platform||"",p=navigator.maxTouchPoints||1,k=/Android/.test(r);(/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===a&&p>1||k)&&(w.maxCanvasPixels=5242880)}const y={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};u.OptionKind=y;const g={annotationMode:{value:2,kind:y.VIEWER+y.PREFERENCE},cursorToolOnLoad:{value:0,kind:y.VIEWER+y.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:y.VIEWER},defaultZoomValue:{value:"",kind:y.VIEWER+y.PREFERENCE},disableHistory:{value:!1,kind:y.VIEWER},disablePageLabels:{value:!1,kind:y.VIEWER+y.PREFERENCE},enablePermissions:{value:!1,kind:y.VIEWER+y.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:y.VIEWER+y.PREFERENCE},enableScripting:{value:!0,kind:y.VIEWER+y.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:y.VIEWER},externalLinkTarget:{value:0,kind:y.VIEWER+y.PREFERENCE},historyUpdateUrl:{value:!1,kind:y.VIEWER+y.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:y.VIEWER+y.PREFERENCE},imageResourcesPath:{value:"./images/",kind:y.VIEWER},maxCanvasPixels:{value:16777216,compatibility:w.maxCanvasPixels,kind:y.VIEWER},pageColorsBackground:{value:"Canvas",kind:y.VIEWER+y.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:y.VIEWER+y.PREFERENCE},pdfBugEnabled:{value:!1,kind:y.VIEWER+y.PREFERENCE},printResolution:{value:150,kind:y.VIEWER},renderer:{value:"canvas",kind:y.VIEWER},sidebarViewOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},scrollModeOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},spreadModeOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},textLayerMode:{value:1,kind:y.VIEWER+y.PREFERENCE},useOnlyCssZoom:{value:!1,kind:y.VIEWER+y.PREFERENCE},viewerCssTheme:{value:0,kind:y.VIEWER+y.PREFERENCE},viewOnLoad:{value:0,kind:y.VIEWER+y.PREFERENCE},cMapPacked:{value:!0,kind:y.API},cMapUrl:{value:"../web/cmaps/",kind:y.API},disableAutoFetch:{value:!1,kind:y.API+y.PREFERENCE},disableFontFace:{value:!1,kind:y.API+y.PREFERENCE},disableRange:{value:!1,kind:y.API+y.PREFERENCE},disableStream:{value:!1,kind:y.API+y.PREFERENCE},docBaseUrl:{value:"",kind:y.API},enableXfa:{value:!0,kind:y.API+y.PREFERENCE},fontExtraProperties:{value:!1,kind:y.API},isEvalSupported:{value:!0,kind:y.API},maxImageSize:{value:-1,kind:y.API},pdfBug:{value:!1,kind:y.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:y.API},verbosity:{value:1,kind:y.API},workerPort:{value:null,kind:y.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:y.WORKER}};g.disablePreferences={value:!1,kind:y.VIEWER},g.locale={value:navigator.language||"en-US",kind:y.VIEWER},g.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:y.VIEWER},g.renderer.kind+=y.PREFERENCE;const o=Object.create(null);u.AppOptions=class A{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(a){const p=o[a];if(void 0!==p)return p;const k=g[a];return void 0!==k?k.compatibility??k.value:void 0}static getAll(a=null){const p=Object.create(null);for(const k in g){const b=g[k];if(a){if(0==(a&b.kind))continue;if(a===y.PREFERENCE){const i=b.value,s=typeof i;if("boolean"===s||"string"===s||"number"===s&&Number.isInteger(i)){p[k]=i;continue}throw new Error(`Invalid type for preference: ${k}`)}}const m=o[k];p[k]=void 0!==m?m:b.compatibility??b.value}return p}static set(a,p){o[a]=p}static setAll(a){for(const p in a)o[p]=a[p]}static remove(a){delete o[a]}static _hasUserOptions(){return Object.keys(o).length>0}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFRenderingQueue=void 0;var y=w(3),g=w(6);u.PDFRenderingQueue=class A{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(a){this.pdfViewer=a}setThumbnailViewer(a){this.pdfThumbnailViewer=a}isHighestPriority(a){return this.highestPriorityPage===a.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(a){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(a)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(a,p,k,b=!1){const m=a.views,i=m.length;if(0===i)return null;for(let Z=0;Z<i;Z++){const D=m[Z].view;if(!this.isViewFinished(D))return D}const s=a.first.id,x=a.last.id;if(x-s+1>i){const Z=a.ids;for(let D=1,N=x-s;D<N;D++){const O=k?s+D:x-D;if(Z.has(O))continue;const G=p[O-1];if(!this.isViewFinished(G))return G}}let C=k?x:s-2,T=p[C];return T&&!this.isViewFinished(T)||b&&(C+=k?1:-1,T=p[C],T&&!this.isViewFinished(T))?T:null}isViewFinished(a){return a.renderingState===g.RenderingStates.FINISHED}renderView(a){switch(a.renderingState){case g.RenderingStates.FINISHED:return!1;case g.RenderingStates.PAUSED:this.highestPriorityPage=a.renderingId,a.resume();break;case g.RenderingStates.RUNNING:this.highestPriorityPage=a.renderingId;break;case g.RenderingStates.INITIAL:this.highestPriorityPage=a.renderingId,a.draw().finally(()=>{this.renderHighestPriority()}).catch(p=>{p instanceof y.RenderingCancelledException||console.error(`renderView: "${p}"`)})}return!0}}},(V,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextHighlighter=void 0,u.TextHighlighter=class w{constructor({findController:g,eventBus:o,pageIndex:A}){this.findController=g,this.matches=[],this.eventBus=o,this.pageIdx=A,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(g,o){this.textDivs=g,this.textContentItemsStr=o}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=g=>{(g.pageIndex===this.pageIdx||-1===g.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(g,o){if(!g)return[];const{textContentItemsStr:A}=this;let r=0,a=0;const p=A.length-1,k=[];for(let b=0,m=g.length;b<m;b++){let i=g[b];for(;r!==p&&i>=a+A[r].length;)a+=A[r].length,r++;r===A.length&&console.error("Could not find a matching mapping");const s={begin:{divIdx:r,offset:i-a}};for(i+=o[b];r!==p&&i>a+A[r].length;)a+=A[r].length,r++;s.end={divIdx:r,offset:i-a},k.push(s)}return k}_renderMatches(g){if(0===g.length)return;const{findController:o,pageIdx:A}=this,{textContentItemsStr:r,textDivs:a}=this,p=A===o.selected.pageIdx,k=o.selected.matchIdx;let m=null;function s(Z,D){const N=Z.divIdx;return a[N].textContent="",x(N,0,Z.offset,D)}function x(Z,D,N,O){let G=a[Z];if(G.nodeType===Node.TEXT_NODE){const B=document.createElement("span");G.parentNode.insertBefore(B,G),B.appendChild(G),a[Z]=B,G=B}const R=r[Z].substring(D,N),Q=document.createTextNode(R);if(O){const B=document.createElement("span");return B.className=`${O} appended`,B.appendChild(Q),G.appendChild(B),O.includes("selected")?B.offsetLeft:0}return G.appendChild(Q),0}let C=k,T=C+1;if(o.state.highlightAll)C=0,T=g.length;else if(!p)return;for(let Z=C;Z<T;Z++){const D=g[Z],N=D.begin,O=D.end,G=p&&Z===k,R=G?" selected":"";let Q=0;if(m&&N.divIdx===m.divIdx?x(m.divIdx,m.offset,N.offset):(null!==m&&x(m.divIdx,m.offset,undefined),s(N)),N.divIdx===O.divIdx)Q=x(N.divIdx,N.offset,O.offset,"highlight"+R);else{Q=x(N.divIdx,N.offset,undefined,"highlight begin"+R);for(let B=N.divIdx+1,Y=O.divIdx;B<Y;B++)a[B].className="highlight middle"+R;s(O,"highlight end"+R)}m=O,G&&o.scrollMatchIntoView({element:a[N.divIdx],selectedLeft:Q,pageIndex:A,matchIndex:k})}m&&x(m.divIdx,m.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:g,matches:o,pageIdx:A}=this,{textContentItemsStr:r,textDivs:a}=this;let p=-1;for(let m=0,i=o.length;m<i;m++){const s=o[m];for(let C=Math.max(p,s.begin.divIdx),T=s.end.divIdx;C<=T;C++){const Z=a[C];Z.textContent=r[C],Z.className=""}p=s.end.divIdx+1}g?.highlightMatches&&(this.matches=this._convertMatches(g.pageMatches[A]||null,g.pageMatchesLength[A]||null),this._renderMatches(this.matches))}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DownloadManager=void 0;var y=w(3);function g(A,r){const a=document.createElement("a");if(!a.click)throw new Error('DownloadManager: "a.click()" is not supported.');a.href=A,a.target="_parent","download"in a&&(a.download=r),(document.body||document.documentElement).appendChild(a),a.click(),a.remove()}u.DownloadManager=class o{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(r,a){(0,y.createValidAbsoluteUrl)(r,"http://example.com")?g(r+"#pdfjs.action=download",a):console.error(`downloadUrl - not a valid URL: ${r}`)}downloadData(r,a,p){g(URL.createObjectURL(new Blob([r],{type:p})),a)}openOrDownloadData(r,a,p){const k=(0,y.isPdfFile)(p),b=k?"application/pdf":"";if(k){let i,m=this._openBlobUrls.get(r);m||(m=URL.createObjectURL(new Blob([a],{type:b})),this._openBlobUrls.set(r,m)),i="?file="+encodeURIComponent(m+"#"+p);try{return window.open(i),!0}catch(s){console.error(`openOrDownloadData: ${s}`),URL.revokeObjectURL(m),this._openBlobUrls.delete(r)}}return this.downloadData(a,p,b),!1}download(r,a,p,k="download"){g(URL.createObjectURL(r),p)}}},(V,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WaitOnType=u.EventBus=u.AutomationEventBus=void 0,u.waitOnEventOrTimeout=function y({target:A,name:r,delay:a=0}){return new Promise(function(p,k){if("object"!=typeof A||!r||"string"!=typeof r||!(Number.isInteger(a)&&a>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function b(x){A instanceof g?A._off(r,m):A.removeEventListener(r,m),s&&clearTimeout(s),p(x)}const m=b.bind(null,w.EVENT);A instanceof g?A._on(r,m):A.addEventListener(r,m);const i=b.bind(null,w.TIMEOUT),s=setTimeout(i,a)})};const w={EVENT:"event",TIMEOUT:"timeout"};u.WaitOnType=w;class g{constructor(){this._listeners=Object.create(null)}on(r,a,p=null){this._on(r,a,{external:!0,once:p?.once})}off(r,a,p=null){this._off(r,a,{external:!0,once:p?.once})}dispatch(r,a){const p=this._listeners[r];if(!p||0===p.length)return;let k;for(const{listener:b,external:m,once:i}of p.slice(0))i&&this._off(r,b),m?(k||(k=[])).push(b):b(a);if(k){for(const b of k)b(a);k=null}}_on(r,a,p=null){var b;((b=this._listeners)[r]||(b[r]=[])).push({listener:a,external:!0===p?.external,once:!0===p?.once})}_off(r,a,p=null){const k=this._listeners[r];if(k)for(let b=0,m=k.length;b<m;b++)if(k[b].listener===a)return void k.splice(b,1)}}u.EventBus=g,u.AutomationEventBus=class o extends g{dispatch(r,a){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericL10n=void 0,w(19);var y=w(4);const g=document.webL10n;u.GenericL10n=class o{constructor(r){this._lang=r,this._ready=new Promise((a,p)=>{g.setLanguage((0,y.fixupLangCode)(r),()=>{a(g)})})}getLanguage(){var r=this;return _(function*(){return(yield r._ready).getLanguage()})()}getDirection(){var r=this;return _(function*(){return(yield r._ready).getDirection()})()}get(r,a=null,p=(0,y.getL10nFallback)(r,a)){var k=this;return _(function*(){return(yield k._ready).get(r,a,p)})()}translate(r){var a=this;return _(function*(){return(yield a._ready).translate(r)})()}}},()=>{document.webL10n=function(V,u,w){var y={},g="",o="textContent",A="",r={},a="loading";function s(B,Y,K){Y=Y||function(I){},K=K||function(){};var re=new XMLHttpRequest;re.open("GET",B,!0),re.overrideMimeType&&re.overrideMimeType("text/plain; charset=utf-8"),re.onreadystatechange=function(){4==re.readyState&&(200==re.status||0===re.status?Y(re.responseText):K())},re.onerror=K,re.ontimeout=K;try{re.send(null)}catch{K()}}function C(B,Y){B&&(B=B.toLowerCase()),Y=Y||function(){},function T(){y={},g="",A=""}(),A=B;var K=function k(){return u.querySelectorAll('link[type="application/l10n"]')}(),re=K.length;if(0!==re){var d,n=0;d=function(){++n>=re&&(Y(),a="complete")};for(var f=0;f<re;f++)new c(K[f]).load(B,d)}else{var le=function b(){var B=u.querySelector('script[type="application/l10n"]');return B?JSON.parse(B.innerHTML):null}();if(le&&le.locales&&le.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(y=le.locales[B])){var I=le.default_locale.toLowerCase();for(var l in le.locales){if((l=l.toLowerCase())===B){y=le.locales[B];break}l===I&&(y=le.locales[I])}}Y()}else console.log("no resource to load, early way out");a="complete"}function c(P){var M=P.href;this.load=function(J,X){!function x(B,Y,K,re){var le=B.replace(/[^\/]*$/,"")||"./";function I(d){return d.lastIndexOf("\\")<0?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}s(B,function(d){g+=d,function l(d,n){var c={},f=/^\s*|\s*$/,E=/^\s*#|^\s*$/,P=/^\s*\[(.*)\]\s*$/,M=/^\s*@import\s+url\((.*)\)\s*$/i,J=/^([^=\s]*)\s*=\s*(.+)$/;function X(te,se,de){var _e=te.replace(f,"").split(/[\r\n]+/),Pe="*",oe=Y.split("-",1)[0],he=!1,ue="";!function S(){for(;;){if(!_e.length)return void de();var j=_e.shift();if(!E.test(j)){if(se){if(ue=P.exec(j)){Pe=ue[1].toLowerCase(),he="*"!==Pe&&Pe!==Y&&Pe!==oe;continue}if(he)continue;if(ue=M.exec(j))return void $(le+ue[1],S)}var ne=j.match(J);ne&&3==ne.length&&(c[ne[1]]=I(ne[2]))}}}()}function $(te,se){s(te,function(de){X(de,!1,se)},function(){console.warn(te+" not found."),se()})}X(d,!0,function(){n(c)})}(d,function(n){for(var c in n){var f,E,P=c.lastIndexOf(".");P>0?(f=c.substring(0,P),E=c.substring(P+1)):(f=c,E=o),y[f]||(y[f]={}),y[f][E]=n[c]}K&&K()})},re)}(M,J,X,function(){console.warn(M+" not found."),console.warn('"'+J+'" resource not found'),A="",X()})}}}function D(B,Y,K){var re=y[B];if(!re){if(console.warn("#"+B+" is undefined."),!K)return null;re=K}var le={};for(var I in re){var l=re[I];l=O(l=N(l,Y,B,I),Y,B),le[I]=l}return le}function N(B,Y,K,re){var I=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(B);if(!I||!I.length)return B;var n,l=I[1],d=I[2];return Y&&d in Y?n=Y[d]:d in y&&(n=y[d]),l in r&&(B=(0,r[l])(B,n,K,re)),B}function O(B,Y,K){return B.replace(/\{\{\s*(.+?)\s*\}\}/g,function(le,I){return Y&&I in Y?Y[I]:I in y?y[I]:(console.log("argument {{"+I+"}} for #"+K+" is undefined."),le)})}function G(B){var Y=function i(B){if(!B)return{};var Y=B.getAttribute("data-l10n-id"),K=B.getAttribute("data-l10n-args"),re={};if(K)try{re=JSON.parse(K)}catch{console.warn("could not parse arguments for #"+Y)}return{id:Y,args:re}}(B);if(Y.id){var K=D(Y.id,Y.args);if(!K)return void console.warn("#"+Y.id+" is undefined.");if(K[o]){if(0===function R(B){if(B.children)return B.children.length;if(typeof B.childElementCount<"u")return B.childElementCount;for(var Y=0,K=0;K<B.childNodes.length;K++)Y+=1===B.nodeType?1:0;return Y}(B))B[o]=K[o];else{for(var re=B.childNodes,le=!1,I=0,l=re.length;I<l;I++)3===re[I].nodeType&&/\S/.test(re[I].nodeValue)&&(le?re[I].nodeValue="":(re[I].nodeValue=K[o],le=!0));if(!le){var d=u.createTextNode(K[o]);B.insertBefore(d,B.firstChild)}}delete K[o]}for(var n in K)B[n]=K[n]}}return r.plural=function(B,Y,K,re){var le=parseFloat(Y);if(isNaN(le)||re!=o)return B;r._pluralRules||(r._pluralRules=function Z(B){function K(l,d){return-1!==d.indexOf(l)}function re(l,d,n){return d<=l&&l<=n}var le={0:function(l){return"other"},1:function(l){return re(l%100,3,10)?"few":0===l?"zero":re(l%100,11,99)?"many":2==l?"two":1==l?"one":"other"},2:function(l){return 0!==l&&l%10==0?"many":2==l?"two":1==l?"one":"other"},3:function(l){return 1==l?"one":"other"},4:function(l){return re(l,0,1)?"one":"other"},5:function(l){return re(l,0,2)&&2!=l?"one":"other"},6:function(l){return 0===l?"zero":l%10==1&&l%100!=11?"one":"other"},7:function(l){return 2==l?"two":1==l?"one":"other"},8:function(l){return re(l,3,6)?"few":re(l,7,10)?"many":2==l?"two":1==l?"one":"other"},9:function(l){return 0===l||1!=l&&re(l%100,1,19)?"few":1==l?"one":"other"},10:function(l){return re(l%10,2,9)&&!re(l%100,11,19)?"few":l%10!=1||re(l%100,11,19)?"other":"one"},11:function(l){return re(l%10,2,4)&&!re(l%100,12,14)?"few":l%10==0||re(l%10,5,9)||re(l%100,11,14)?"many":l%10==1&&l%100!=11?"one":"other"},12:function(l){return re(l,2,4)?"few":1==l?"one":"other"},13:function(l){return re(l%10,2,4)&&!re(l%100,12,14)?"few":1!=l&&re(l%10,0,1)||re(l%10,5,9)||re(l%100,12,14)?"many":1==l?"one":"other"},14:function(l){return re(l%100,3,4)?"few":l%100==2?"two":l%100==1?"one":"other"},15:function(l){return 0===l||re(l%100,2,10)?"few":re(l%100,11,19)?"many":1==l?"one":"other"},16:function(l){return l%10==1&&11!=l?"one":"other"},17:function(l){return 3==l?"few":0===l?"zero":6==l?"many":2==l?"two":1==l?"one":"other"},18:function(l){return 0===l?"zero":re(l,0,2)&&0!==l&&2!=l?"one":"other"},19:function(l){return re(l,2,10)?"few":re(l,0,1)?"one":"other"},20:function(l){return!re(l%10,3,4)&&l%10!=9||re(l%100,10,19)||re(l%100,70,79)||re(l%100,90,99)?l%1e6==0&&0!==l?"many":l%10!=2||K(l%100,[12,72,92])?l%10!=1||K(l%100,[11,71,91])?"other":"one":"two":"few"},21:function(l){return 0===l?"zero":1==l?"one":"other"},22:function(l){return re(l,0,1)||re(l,11,99)?"one":"other"},23:function(l){return re(l%10,1,2)||l%20==0?"one":"other"},24:function(l){return re(l,3,10)||re(l,13,19)?"few":K(l,[2,12])?"two":K(l,[1,11])?"one":"other"}},I={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[B.replace(/-.*$/,"")];return I in le?le[I]:(console.warn("plural form unknown for ["+B+"]"),function(){return"other"})}(A));var I="["+r._pluralRules(le)+"]";return 0===le&&K+"[zero]"in y?B=y[K+"[zero]"][re]:1==le&&K+"[one]"in y?B=y[K+"[one]"][re]:2==le&&K+"[two]"in y?B=y[K+"[two]"][re]:K+I in y?B=y[K+I][re]:K+"[other]"in y&&(B=y[K+"[other]"][re]),B},{get:function(B,Y,K){var I,re=B.lastIndexOf("."),le=o;re>0&&(le=B.substring(re+1),B=B.substring(0,re)),K&&((I={})[le]=K);var l=D(B,Y,I);return l&&le in l?l[le]:"{{"+B+"}}"},getData:function(){return y},getText:function(){return g},getLanguage:function(){return A},setLanguage:function(B,Y){C(B,function(){Y&&Y()})},getDirection:function(){var Y=A.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Y)>=0?"rtl":"ltr"},translate:function Q(B){for(var Y=function m(B){return B?B.querySelectorAll("*[data-l10n-id]"):[]}(B=B||u.documentElement),K=Y.length,re=0;re<K;re++)G(Y[re]);G(B)},getReadyState:function(){return a},ready:function(B){B&&("complete"==a||"interactive"==a?V.setTimeout(function(){B()}):u.addEventListener&&u.addEventListener("localized",function Y(){u.removeEventListener("localized",Y),B()}))}}}(window,document)},(V,u,w)=>{var O,tn,R,Rt,B,Zt,K,nn,le,rn,l,sn,n,Dt,f,an,P,on,J,Ct,$,ft,se,ot,_e,ln,oe,Nt,ue,Ut,j,xt,ye,cn,me,qt,xe,dn,Le,gt;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFFindController=u.FindState=void 0;var y=w(6),g=w(3),o=w(21);const A={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};u.FindState=A;const k={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},b=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),m=[...b.values()].map(ce=>String.fromCharCode(ce)).join(""),i=/\p{M}+/gu,s=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,x=/([^\p{M}])\p{M}*$/u,C=/^\p{M}*([^\p{M}])/u;let T=null;function Z(ce){if(!T){const Re=Object.keys(k).join("");T=new RegExp(`([${Re}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const U=[];let z;for(;null!==(z=i.exec(ce));)U.push([z[0].length,z.index]);let pe=ce.normalize("NFD");const ge=[[0,0]];let Ae=0,Ce=0,Oe=0,Fe=0,De=!1;return pe=pe.replace(T,(Re,je,qe,Qe,Ne,He)=>{if(He-=Oe,je){const We=k[Re],Je=We.length;for(let Ge=1;Ge<Je;Ge++)ge.push([He-Ce+Ge,Ce-Ge]);return Ce-=Je-1,We}if(qe){const We=qe.endsWith("\n"),Je=We?qe.length-2:qe.length;De=!0;let Ge=Je;He+Fe===U[Ae]?.[1]&&(Ge-=U[Ae][0],++Ae);for(let Xe=1;Xe<Ge+1;Xe++)ge.push([He-1-Ce+Xe,Ce-Xe]);return Ce-=Ge,Oe+=Ge,We?(ge.push([(He+=Je-1)-Ce+1,1+Ce]),Ce+=1,Oe+=1,Fe+=1,qe.slice(0,Je)):qe}return Qe?(ge.push([He-Ce+1,1+Ce]),Ce+=1,Oe+=1,Fe+=1,Qe.charAt(0)):(ge.push([He-Ce+1,Ce-1]),Ce-=1,Oe+=1,Fe+=1," ")}),ge.push([pe.length,Ce]),[pe,ge,De]}function D(ce,U,z){if(!ce)return[U,z];const pe=U,ge=U+z;let Ae=(0,y.binarySearchFirstItem)(ce,Oe=>Oe[0]>=pe);ce[Ae][0]>pe&&--Ae;let Ce=(0,y.binarySearchFirstItem)(ce,Oe=>Oe[0]>=ge,Ae);return ce[Ce][0]>ge&&--Ce,[pe+ce[Ae][1],z+ce[Ce][1]-ce[Ae][1]]}O=new WeakSet,tn=function(U){if(!U)return;const z=this._pdfDocument,{type:pe}=U;(null===this._state||Ee(this,K,nn).call(this,U))&&(this._dirtyMatch=!0),this._state=U,"highlightallchange"!==pe&&Ee(this,Le,gt).call(this,A.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||z&&this._pdfDocument!==z)return;Ee(this,P,on).call(this);const ge=!this._highlightMatches,Ae=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),pe?this._dirtyMatch?Ee(this,se,ot).call(this):"again"===pe?(Ee(this,se,ot).call(this),ge&&this._state.highlightAll&&Ee(this,$,ft).call(this)):"highlightallchange"===pe?(Ae?Ee(this,se,ot).call(this):this._highlightMatches=!0,Ee(this,$,ft).call(this)):Ee(this,se,ot).call(this):this._findTimeout=setTimeout(()=>{Ee(this,se,ot).call(this),this._findTimeout=null},250)})},R=new WeakSet,Rt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,g.createPromiseCapability)()},B=new WeakSet,Zt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=Z(this._state.query)),this._normalizedQuery},K=new WeakSet,nn=function(U){if(U.query!==this._state.query)return!0;switch(U.type){case"again":const z=this._selected.pageIdx+1,pe=this._linkService;return z>=1&&z<=pe.pagesCount&&z!==pe.page&&!pe.isPageVisible(z);case"highlightallchange":return!1}return!0},le=new WeakSet,rn=function(U,z,pe){let ge=U.slice(0,z).match(x);if(ge){const Ae=U.charCodeAt(z),Ce=ge[1].charCodeAt(0);if((0,o.getCharacterType)(Ae)===(0,o.getCharacterType)(Ce))return!1}if(ge=U.slice(z+pe).match(C),ge){const Ae=U.charCodeAt(z+pe-1),Ce=ge[1].charCodeAt(0);if((0,o.getCharacterType)(Ae)===(0,o.getCharacterType)(Ce))return!1}return!0},l=new WeakSet,sn=function(U,z,pe,ge){const Ae=[],Ce=[],Oe=this._pageDiffs[pe];let Fe;for(;null!==(Fe=U.exec(ge));){if(z&&!Ee(this,le,rn).call(this,ge,Fe.index,Fe[0].length))continue;const[De,Re]=D(Oe,Fe.index,Fe[0].length);Re&&(Ae.push(De),Ce.push(Re))}this._pageMatches[pe]=Ae,this._pageMatchesLength[pe]=Ce},n=new WeakSet,Dt=function(U,z){const{matchDiacritics:pe}=this._state;let ge=!1;return(U=U.replace(s,(Ce,Oe,Fe,De,Re,je)=>Oe?`[ ]*\\${Oe}[ ]*`:Fe?`[ ]*${Fe}[ ]*`:De?"[ ]+":pe?Re||je:Re?b.has(Re.charCodeAt(0))?Re:"":z?(ge=!0,`${je}\\p{M}*`):je)).endsWith("[ ]*")&&(U=U.slice(0,U.length-"[ ]*".length)),pe&&z&&(ge=!0,U=`${U}(?=[${m}]|[^\\p{M}]|$)`),[ge,U]},f=new WeakSet,an=function(U){let z=we(this,B,Zt);if(0===z.length)return;const{caseSensitive:pe,entireWord:ge,phraseSearch:Ae}=this._state,Ce=this._pageContents[U],Oe=this._hasDiacritics[U];let Fe=!1;if(Ae)[Fe,z]=Ee(this,n,Dt).call(this,z,Oe);else{const je=z.match(/\S+/g);je&&(z=je.sort().reverse().map(qe=>{const[Qe,Ne]=Ee(this,n,Dt).call(this,qe,Oe);return Fe||(Fe=Qe),`(${Ne})`}).join("|"))}z=new RegExp(z,`g${Fe?"u":""}${pe?"":"i"}`),Ee(this,l,sn).call(this,z,ge,U,Ce),this._state.highlightAll&&Ee(this,J,Ct).call(this,U),this._resumePageIdx===U&&(this._resumePageIdx=null,Ee(this,oe,Nt).call(this));const Re=this._pageMatches[U].length;Re>0&&(this._matchesCountTotal+=Re,Ee(this,xe,dn).call(this))},P=new WeakSet,on=function(){if(this._extractTextPromises.length>0)return;let U=Promise.resolve();for(let z=0,pe=this._linkService.pagesCount;z<pe;z++){const ge=(0,g.createPromiseCapability)();this._extractTextPromises[z]=ge.promise,U=U.then(()=>this._pdfDocument.getPage(z+1).then(Ae=>Ae.getTextContent()).then(Ae=>{const Ce=[];for(const Oe of Ae.items)Ce.push(Oe.str),Oe.hasEOL&&Ce.push("\n");[this._pageContents[z],this._pageDiffs[z],this._hasDiacritics[z]]=Z(Ce.join("")),ge.resolve()},Ae=>{console.error(`Unable to get text content for page ${z+1}`,Ae),this._pageContents[z]="",this._pageDiffs[z]=null,this._hasDiacritics[z]=!1,ge.resolve()}))}},J=new WeakSet,Ct=function(U){this._scrollMatches&&this._selected.pageIdx===U&&(this._linkService.page=U+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:U})},$=new WeakSet,ft=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},se=new WeakSet,ot=function(){const U=this._state.findPrevious,z=this._linkService.page-1,pe=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=z,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Ee(this,$,ft).call(this);for(let Ae=0;Ae<pe;Ae++)this._pendingFindMatches.has(Ae)||(this._pendingFindMatches.add(Ae),this._extractTextPromises[Ae].then(()=>{this._pendingFindMatches.delete(Ae),Ee(this,f,an).call(this,Ae)}))}if(""===we(this,B,Zt))return void Ee(this,Le,gt).call(this,A.FOUND);if(this._resumePageIdx)return;const ge=this._offset;if(this._pagesToSearch=pe,null!==ge.matchIdx){const Ae=this._pageMatches[ge.pageIdx].length;if(!U&&ge.matchIdx+1<Ae||U&&ge.matchIdx>0)return ge.matchIdx=U?ge.matchIdx-1:ge.matchIdx+1,void Ee(this,j,xt).call(this,!0);Ee(this,ue,Ut).call(this,U)}Ee(this,oe,Nt).call(this)},_e=new WeakSet,ln=function(U){const z=this._offset,pe=U.length,ge=this._state.findPrevious;return pe?(z.matchIdx=ge?pe-1:0,Ee(this,j,xt).call(this,!0),!0):(Ee(this,ue,Ut).call(this,ge),!!(z.wrapped&&(z.matchIdx=null,this._pagesToSearch<0))&&(Ee(this,j,xt).call(this,!1),!0))},oe=new WeakSet,Nt=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let U=null;do{const z=this._offset.pageIdx;if(U=this._pageMatches[z],!U){this._resumePageIdx=z;break}}while(!Ee(this,_e,ln).call(this,U))},ue=new WeakSet,Ut=function(U){const z=this._offset,pe=this._linkService.pagesCount;z.pageIdx=U?z.pageIdx-1:z.pageIdx+1,z.matchIdx=null,this._pagesToSearch--,(z.pageIdx>=pe||z.pageIdx<0)&&(z.pageIdx=U?pe-1:0,z.wrapped=!0)},j=new WeakSet,xt=function(U=!1){let z=A.NOT_FOUND;const pe=this._offset.wrapped;if(this._offset.wrapped=!1,U){const ge=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,z=pe?A.WRAPPED:A.FOUND,-1!==ge&&ge!==this._selected.pageIdx&&Ee(this,J,Ct).call(this,ge)}Ee(this,Le,gt).call(this,z,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,Ee(this,J,Ct).call(this,this._selected.pageIdx))},ye=new WeakSet,cn=function(U){const z=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||z&&this._pdfDocument!==z||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Ee(this,Le,gt).call(this,A.FOUND),this._highlightMatches=!1,Ee(this,$,ft).call(this))})},me=new WeakSet,qt=function(){const{pageIdx:U,matchIdx:z}=this._selected;let pe=0,ge=this._matchesCountTotal;if(-1!==z){for(let Ae=0;Ae<U;Ae++)pe+=this._pageMatches[Ae]?.length||0;pe+=z+1}return(pe<1||pe>ge)&&(pe=ge=0),{current:pe,total:ge}},xe=new WeakSet,dn=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Ee(this,me,qt).call(this)})},Le=new WeakSet,gt=function(U,z=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:U,previous:z,matchesCount:Ee(this,me,qt).call(this),rawQuery:this._state?.query??null})},u.PDFFindController=class N{constructor({linkService:U,eventBus:z}){ke(this,O),ke(this,R),ke(this,B),ke(this,K),ke(this,le),ke(this,l),ke(this,n),ke(this,f),ke(this,P),ke(this,J),ke(this,$),ke(this,se),ke(this,_e),ke(this,oe),ke(this,ue),ke(this,j),ke(this,ye),ke(this,me),ke(this,xe),ke(this,Le),this._linkService=U,this._eventBus=z,Ee(this,R,Rt).call(this),z._on("find",Ee(this,O,tn).bind(this)),z._on("findbarclose",Ee(this,ye,cn).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(U){this._pdfDocument&&Ee(this,R,Rt).call(this),U&&(this._pdfDocument=U,this._firstPageCapability.resolve())}scrollMatchIntoView({element:U=null,selectedLeft:z=0,pageIndex:pe=-1,matchIndex:ge=-1}){this._scrollMatches&&U&&-1!==ge&&ge===this._selected.matchIdx&&-1!==pe&&pe===this._selected.pageIdx&&(this._scrollMatches=!1,(0,y.scrollIntoView)(U,{top:-50,left:z+-400},!0))}}},(V,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CharacterType=void 0,u.getCharacterType=function i(s){return function y(s){return s<11904}(s)?function g(s){return 0==(65408&s)}(s)?function r(s){return 32===s||9===s||13===s||10===s}(s)?w.SPACE:function o(s){return s>=97&&s<=122||s>=65&&s<=90}(s)||function A(s){return s>=48&&s<=57}(s)||95===s?w.ALPHA_LETTER:w.PUNCT:function m(s){return 3584==(65408&s)}(s)?w.THAI_LETTER:160===s?w.SPACE:w.ALPHA_LETTER:function a(s){return s>=13312&&s<=40959||s>=63744&&s<=64255}(s)?w.HAN_LETTER:function p(s){return s>=12448&&s<=12543}(s)?w.KATAKANA_LETTER:function k(s){return s>=12352&&s<=12447}(s)?w.HIRAGANA_LETTER:function b(s){return s>=65376&&s<=65439}(s)?w.HALFWIDTH_KATAKANA_LETTER:w.ALPHA_LETTER};const w={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};u.CharacterType=w},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFHistory=void 0,u.isDestArraysEqual=b,u.isDestHashesEqual=k;var y=w(6),g=w(17);function a(){return document.location.hash}function k(m,i){return"string"==typeof m&&"string"==typeof i&&(m===i||(0,y.parseQueryString)(m).get("nameddest")===i)}function b(m,i){function s(x,C){if(typeof x!=typeof C||Array.isArray(x)||Array.isArray(C))return!1;if(null!==x&&"object"==typeof x&&null!==C){if(Object.keys(x).length!==Object.keys(C).length)return!1;for(const T in x)if(!s(x[T],C[T]))return!1;return!0}return x===C||Number.isNaN(x)&&Number.isNaN(C)}if(!Array.isArray(m)||!Array.isArray(i)||m.length!==i.length)return!1;for(let x=0,C=m.length;x<C;x++)if(!s(m[x],i[x]))return!1;return!0}u.PDFHistory=class p{constructor({linkService:i,eventBus:s}){this.linkService=i,this.eventBus=s,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",x=>{this._isPagesLoaded=!!x.pagesCount},{once:!0})})}initialize({fingerprint:i,resetHistory:s=!1,updateUrl:x=!1}){if(!i||"string"!=typeof i)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const C=""!==this._fingerprint&&this._fingerprint!==i;this._fingerprint=i,this._updateUrl=!0===x,this._initialized=!0,this._bindEvents();const T=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=a(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(T,!0)||s){const{hash:D,page:N,rotation:O}=this._parseCurrentHash(!0);return!D||C||s?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:D,page:N,rotation:O},!0)}const Z=T.destination;this._updateInternalState(Z,T.uid,!0),void 0!==Z.rotation&&(this._initialRotation=Z.rotation),Z.dest?(this._initialBookmark=JSON.stringify(Z.dest),this._destination.page=null):Z.hash?this._initialBookmark=Z.hash:Z.page&&(this._initialBookmark=`page=${Z.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:i=null,explicitDest:s,pageNumber:x}){if(!this._initialized)return;if(i&&"string"!=typeof i)return void console.error(`PDFHistory.push: "${i}" is not a valid namedDest parameter.`);if(!Array.isArray(s))return void console.error(`PDFHistory.push: "${s}" is not a valid explicitDest parameter.`);if(!this._isValidPage(x)&&(null!==x||this._destination))return void console.error(`PDFHistory.push: "${x}" is not a valid pageNumber parameter.`);const C=i||JSON.stringify(s);if(!C)return;let T=!1;if(this._destination&&(k(this._destination.hash,C)||b(this._destination.dest,s))){if(this._destination.page)return;T=!0}this._popStateInProgress&&!T||(this._pushOrReplaceState({dest:s,hash:C,page:x,rotation:this.linkService.rotation},T),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(i){if(this._initialized){if(!this._isValidPage(i))return void console.error(`PDFHistory.pushPage: "${i}" is not a valid page number.`);this._destination?.page!==i&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${i}`,page:i,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const i=window.history.state;this._isValidState(i)&&i.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const i=window.history.state;this._isValidState(i)&&i.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(i,s=!1){const x=s||!this._destination,C={fingerprint:this._fingerprint,uid:x?this._uid:this._uid+1,destination:i};let T;if(this._updateInternalState(i,C.uid),this._updateUrl&&i?.hash){const Z=document.location.href.split("#")[0];Z.startsWith("file://")||(T=`${Z}#${i.hash}`)}x?window.history.replaceState(C,"",T):window.history.pushState(C,"",T)}_tryPushCurrentPosition(i=!1){if(!this._position)return;let s=this._position;if(i&&(s=Object.assign(Object.create(null),this._position),s.temporary=!0),!this._destination)return void this._pushOrReplaceState(s);if(this._destination.temporary)return void this._pushOrReplaceState(s,!0);if(this._destination.hash===s.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let x=!1;if(this._destination.page>=s.first&&this._destination.page<=s.page){if(void 0!==this._destination.dest||!this._destination.first)return;x=!0}this._pushOrReplaceState(s,x)}_isValidPage(i){return Number.isInteger(i)&&i>0&&i<=this.linkService.pagesCount}_isValidState(i,s=!1){if(!i)return!1;if(i.fingerprint!==this._fingerprint){if(!s)return!1;{if("string"!=typeof i.fingerprint||i.fingerprint.length!==this._fingerprint.length)return!1;const[x]=performance.getEntriesByType("navigation");if("reload"!==x?.type)return!1}}return!(!Number.isInteger(i.uid)||i.uid<0||null===i.destination||"object"!=typeof i.destination)}_updateInternalState(i,s,x=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),x&&i?.temporary&&delete i.temporary,this._destination=i,this._uid=s,this._maxUid=Math.max(this._maxUid,s),this._numPositionUpdates=0}_parseCurrentHash(i=!1){const s=unescape(a()).substring(1),x=(0,y.parseQueryString)(s),C=x.get("nameddest")||"";let T=0|x.get("page");return(!this._isValidPage(T)||i&&C.length>0)&&(T=null),{hash:s,page:T,rotation:this.linkService.rotation}}_updateViewarea({location:i}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:i.pdfOpenParams.substring(1),page:this.linkService.page,first:i.pageNumber,rotation:i.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:i}){const s=a(),x=this._currentHash!==s;if(this._currentHash=s,!i){this._uid++;const{hash:T,page:Z,rotation:D}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:T,page:Z,rotation:D},!0)}if(!this._isValidState(i))return;this._popStateInProgress=!0,x&&(this._blockHashChange++,(0,g.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const C=i.destination;this._updateInternalState(C,i.uid,!0),(0,y.isValidRotation)(C.rotation)&&(this.linkService.rotation=C.rotation),C.dest?this.linkService.goToDestination(C.dest):C.hash?this.linkService.setHash(C.hash):C.page&&(this.linkService.page=C.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFScriptingManager=void 0;var y=w(6),g=w(3);u.PDFScriptingManager=class o{constructor({eventBus:r,sandboxBundleSrc:a=null,scriptingFactory:p=null,docPropertiesLookup:k=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=a,this._scriptingFactory=p,this._docPropertiesLookup=k,this._scriptingFactory||window.addEventListener("updatefromsandbox",b=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:b.detail})})}setViewer(r){this._pdfViewer=r}setDocument(r){var a=this;return _(function*(){if(a._pdfDocument&&(yield a._destroyScripting()),a._pdfDocument=r,!r)return;const[p,k,b]=yield Promise.all([r.getFieldObjects(),r.getCalculationOrderIds(),r.getJSActions()]);if(p||b){if(r===a._pdfDocument){try{a._scripting=a._createScripting()}catch(m){return console.error(`PDFScriptingManager.setDocument: "${m?.message}".`),void(yield a._destroyScripting())}a._internalEvents.set("updatefromsandbox",m=>{m?.source===window&&a._updateFromSandbox(m.detail)}),a._internalEvents.set("dispatcheventinsandbox",m=>{a._scripting?.dispatchEventInSandbox(m.detail)}),a._internalEvents.set("pagechanging",({pageNumber:m,previous:i})=>{m!==i&&(a._dispatchPageClose(i),a._dispatchPageOpen(m))}),a._internalEvents.set("pagerendered",({pageNumber:m})=>{!a._pageOpenPending.has(m)||m===a._pdfViewer.currentPageNumber&&a._dispatchPageOpen(m)}),a._internalEvents.set("pagesdestroy",function(){var m=_(function*(i){yield a._dispatchPageClose(a._pdfViewer.currentPageNumber),yield a._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),a._closeCapability?.resolve()});return function(i){return m.apply(this,arguments)}}()),a._domEvents.set("mousedown",m=>{a._mouseState.isDown=!0}),a._domEvents.set("mouseup",m=>{a._mouseState.isDown=!1});for(const[m,i]of a._internalEvents)a._eventBus._on(m,i);for(const[m,i]of a._domEvents)window.addEventListener(m,i,!0);try{const m=yield a._getDocProperties();if(r!==a._pdfDocument)return;yield a._scripting.createSandbox({objects:p,calculationOrder:k,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...m,actions:b}}),a._eventBus.dispatch("sandboxcreated",{source:a})}catch(m){return console.error(`PDFScriptingManager.setDocument: "${m?.message}".`),void(yield a._destroyScripting())}yield a._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield a._dispatchPageOpen(a._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{r===a._pdfDocument&&(a._ready=!0)})}}else yield a._destroyScripting()})()}dispatchWillSave(r){var a=this;return _(function*(){return a._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(r){var a=this;return _(function*(){return a._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(r){var a=this;return _(function*(){return a._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(r){var a=this;return _(function*(){return a._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,g.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,g.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,g.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,g.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(r){var a=this;return _(function*(){const p=a._pdfViewer.isInPresentationMode||a._pdfViewer.isChangingPresentationMode,{id:k,siblings:b,command:m,value:i}=r;if(!k){switch(m){case"clear":console.clear();break;case"error":console.error(i);break;case"layout":if(p)return;const x=(0,y.apiPageLayoutToViewerModes)(i);a._pdfViewer.spreadMode=x.spreadMode;break;case"page-num":a._pdfViewer.currentPageNumber=i+1;break;case"print":yield a._pdfViewer.pagesPromise,a._eventBus.dispatch("print",{source:a});break;case"println":console.log(i);break;case"zoom":if(p)return;a._pdfViewer.currentScaleValue=i;break;case"SaveAs":a._eventBus.dispatch("save",{source:a});break;case"FirstPage":a._pdfViewer.currentPageNumber=1;break;case"LastPage":a._pdfViewer.currentPageNumber=a._pdfViewer.pagesCount;break;case"NextPage":a._pdfViewer.nextPage();break;case"PrevPage":a._pdfViewer.previousPage();break;case"ZoomViewIn":if(p)return;a._pdfViewer.increaseScale();break;case"ZoomViewOut":if(p)return;a._pdfViewer.decreaseScale()}return}if(p&&r.focus)return;delete r.id,delete r.siblings;const s=b?[k,...b]:[k];for(const x of s){const C=document.getElementById(x);C?C.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:r})):a._pdfDocument?.annotationStorage.setValue(x,r)}})()}_dispatchPageOpen(r,a=!1){var p=this;return _(function*(){const k=p._pdfDocument,b=p._visitedPages;if(a&&(p._closeCapability=(0,g.createPromiseCapability)()),!p._closeCapability)return;const m=p._pdfViewer.getPageView(r-1);if(m?.renderingState!==y.RenderingStates.FINISHED)return void p._pageOpenPending.add(r);p._pageOpenPending.delete(r);const i=_(function*(){const s=yield b.has(r)?null:m.pdfPage?.getJSActions();k===p._pdfDocument&&(yield p._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:r,actions:s}))})();b.set(r,i)})()}_dispatchPageClose(r){var a=this;return _(function*(){const p=a._pdfDocument,k=a._visitedPages;if(!a._closeCapability||a._pageOpenPending.has(r))return;const b=k.get(r);!b||(k.set(r,null),yield b,p===a._pdfDocument&&(yield a._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:r})))})()}_getDocProperties(){var r=this;return _(function*(){if(r._docPropertiesLookup)return r._docPropertiesLookup(r._pdfDocument);const{docPropertiesLookup:a}=w(24);return a(r._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,g.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:r}=w(24);return new r(this._sandboxBundleSrc)}_destroyScripting(){var r=this;return _(function*(){if(!r._scripting)return r._pdfDocument=null,void r._destroyCapability?.resolve();r._closeCapability&&(yield Promise.race([r._closeCapability.promise,new Promise(a=>{setTimeout(a,1e3)})]).catch(a=>{}),r._closeCapability=null),r._pdfDocument=null;try{yield r._scripting.destroySandbox()}catch{}for(const[a,p]of r._internalEvents)r._eventBus._off(a,p);r._internalEvents.clear();for(const[a,p]of r._domEvents)window.removeEventListener(a,p,!0);r._domEvents.clear(),r._pageOpenPending.clear(),r._visitedPages.clear(),r._scripting=null,delete r._mouseState.isDown,r._ready=!1,r._destroyCapability?.resolve()})()}}},(V,u,w)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericScripting=void 0,u.docPropertiesLookup=function g(r){return o.apply(this,arguments)};var y=w(3);function o(){return(o=_(function*(r){const p="".split("#")[0];let{info:k,metadata:b,contentDispositionFilename:m,contentLength:i}=yield r.getMetadata();if(!i){const{length:s}=yield r.getDownloadInfo();i=s}return{...k,baseURL:p,filesize:i,filename:m||(0,y.getPdfFilenameFromUrl)(""),metadata:b?.getRaw(),authors:b?.get("dc:creator"),numPages:r.numPages,URL:""}})).apply(this,arguments)}u.GenericScripting=class A{constructor(a){this._ready=(0,y.loadScript)(a,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(a){var p=this;return _(function*(){(yield p._ready).create(a)})()}dispatchEventInSandbox(a){var p=this;return _(function*(){const k=yield p._ready;setTimeout(()=>k.dispatchEvent(a),0)})()}destroySandbox(){var a=this;return _(function*(){(yield a._ready).nukeSandbox()})()}}}],W={};function e(V){var u=W[V];if(void 0!==u)return u.exports;var w=W[V]={exports:{}};return fe[V](w,w.exports,e),w.exports}var ae={};return(()=>{var V=ae;Object.defineProperty(V,"__esModule",{value:!0}),Object.defineProperty(V,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return o.AnnotationLayerBuilder}}),Object.defineProperty(V,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return u.DefaultAnnotationLayerFactory}}),Object.defineProperty(V,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return u.DefaultStructTreeLayerFactory}}),Object.defineProperty(V,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return u.DefaultTextLayerFactory}}),Object.defineProperty(V,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return u.DefaultXfaLayerFactory}}),Object.defineProperty(V,"DownloadManager",{enumerable:!0,get:function(){return A.DownloadManager}}),Object.defineProperty(V,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(V,"GenericL10n",{enumerable:!0,get:function(){return a.GenericL10n}}),Object.defineProperty(V,"LinkTarget",{enumerable:!0,get:function(){return w.LinkTarget}}),Object.defineProperty(V,"NullL10n",{enumerable:!0,get:function(){return p.NullL10n}}),Object.defineProperty(V,"PDFFindController",{enumerable:!0,get:function(){return k.PDFFindController}}),Object.defineProperty(V,"PDFHistory",{enumerable:!0,get:function(){return b.PDFHistory}}),Object.defineProperty(V,"PDFLinkService",{enumerable:!0,get:function(){return w.PDFLinkService}}),Object.defineProperty(V,"PDFPageView",{enumerable:!0,get:function(){return m.PDFPageView}}),Object.defineProperty(V,"PDFScriptingManager",{enumerable:!0,get:function(){return i.PDFScriptingManager}}),Object.defineProperty(V,"PDFSinglePageViewer",{enumerable:!0,get:function(){return g.PDFSinglePageViewer}}),Object.defineProperty(V,"PDFViewer",{enumerable:!0,get:function(){return g.PDFViewer}}),Object.defineProperty(V,"ProgressBar",{enumerable:!0,get:function(){return y.ProgressBar}}),Object.defineProperty(V,"SimpleLinkService",{enumerable:!0,get:function(){return w.SimpleLinkService}}),Object.defineProperty(V,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return s.StructTreeLayerBuilder}}),Object.defineProperty(V,"TextLayerBuilder",{enumerable:!0,get:function(){return x.TextLayerBuilder}}),Object.defineProperty(V,"XfaLayerBuilder",{enumerable:!0,get:function(){return C.XfaLayerBuilder}}),Object.defineProperty(V,"parseQueryString",{enumerable:!0,get:function(){return y.parseQueryString}});var u=e(1),w=e(5),y=e(6),g=e(10),o=e(2),A=e(16),r=e(17),a=e(18),p=e(4),k=e(20),b=e(22),m=e(12),i=e(23),s=e(7),x=e(8),C=e(9)})(),ae})(),be.exports=e()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:be=>{function F(_,fe,W,e,ae,V,u){try{var w=_[V](u),y=w.value}catch(g){return void W(g)}w.done?fe(y):Promise.resolve(y).then(e,ae)}be.exports=function ee(_){return function(){var fe=this,W=arguments;return new Promise(function(e,ae){var V=_.apply(fe,W);function u(y){F(V,e,ae,u,w,"next",y)}function w(y){F(V,e,ae,u,w,"throw",y)}u(void 0)})}},be.exports.__esModule=!0,be.exports.default=be.exports},8997:(be,F,ee)=>{"use strict";function _(O,G,R,Q,B,Y,K){try{var re=O[Y](K),le=re.value}catch(I){return void R(I)}re.done?G(le):Promise.resolve(le).then(Q,B)}function fe(O){return function(){var G=this,R=arguments;return new Promise(function(Q,B){var Y=O.apply(G,R);function K(le){_(Y,Q,B,K,re,"next",le)}function re(le){_(Y,Q,B,K,re,"throw",le)}K(void 0)})}}ee.d(F,{_f:()=>T,bB:()=>N});var W=ee(8256),e=ee(6895),ae=ee(1481);function V(O,G){if(1&O){const R=W.EpF();W.TgZ(0,"ngx-dropzone-remove-badge",1),W.NdJ("click",function(B){W.CHM(R);const Y=W.oxw();return W.KtG(Y._remove(B))}),W.qZA()}}const u=[[["ngx-dropzone-label"]]],w=["ngx-dropzone-label"],y=["fileInput"];function g(O,G){1&O&&W.Hsn(0,2,["*ngIf","!_hasPreviews"])}const o=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],A=["ngx-dropzone-preview","*","ngx-dropzone-label"];function b(O){return null!=O&&"false"!=`${O}`}let i=(()=>{class O{}return O.\u0275fac=function(R){return new(R||O)},O.\u0275cmp=W.Xpm({type:O,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(R,Q){1&R&&(W.O4$(),W.TgZ(0,"svg"),W._UZ(1,"line",0)(2,"line",1),W.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),O})();var s=(()=>{return(O=s||(s={}))[O.BACKSPACE=8]="BACKSPACE",O[O.DELETE=46]="DELETE",s;var O})();let x=(()=>{class O{constructor(R){this.sanitizer=R,this._removable=!1,this.removed=new W.vpe,this.tabIndex=0}set file(R){this._file=R}get file(){return this._file}get removable(){return this._removable}set removable(R){this._removable=b(R)}keyEvent(R){switch(R.keyCode){case s.BACKSPACE:case s.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(R){R.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var R=this;return fe(function*(){return new Promise((Q,B)=>{const Y=new FileReader;if(Y.onload=K=>{Q(K.target.result)},Y.onerror=K=>{console.error(`FileReader failed on file ${R.file.name}.`),B(K)},!R.file)return B("No file to read. Please provide a file using the [file] Input property.");Y.readAsDataURL(R.file)})})()}}return O.\u0275fac=function(R){return new(R||O)(W.Y36(ae.H7))},O.\u0275cmp=W.Xpm({type:O,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(R,Q){1&R&&W.NdJ("keyup",function(Y){return Q.keyEvent(Y)}),2&R&&(W.Ikx("tabindex",Q.tabIndex),W.Akn(Q.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:w,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(R,Q){1&R&&(W.F$t(u),W.Hsn(0),W.YNc(1,V,1,0,"ngx-dropzone-remove-badge",0)),2&R&&(W.xp6(1),W.Q6J("ngIf",Q.removable))},dependencies:[i,e.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),O})(),C=(()=>{class O{parseFileList(R,Q,B,Y){const K=[],re=[];for(let I=0;I<R.length;I++){const l=R.item(I);this.isAccepted(l,Q)?B&&l.size>B?this.rejectFile(re,l,"size"):!Y&&K.length>=1?this.rejectFile(re,l,"no_multiple"):K.push(l):this.rejectFile(re,l,"type")}return{addedFiles:K,rejectedFiles:re}}isAccepted(R,Q){if("*"===Q)return!0;const B=Q.split(",").map(le=>le.toLowerCase().trim()),Y=R.type.toLowerCase(),K=R.name.toLowerCase();return!!B.find(le=>le.endsWith("/*")?Y.split("/")[0]===le.split("/")[0]:le.startsWith(".")?K.endsWith(le):le==Y)}rejectFile(R,Q,B){const Y=Q;Y.reason=B,R.push(Y)}}return O.\u0275fac=function(R){return new(R||O)},O.\u0275prov=W.Yz7({token:O,factory:O.\u0275fac}),O})(),T=(()=>{class O{constructor(R){this.service=R,this.change=new W.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(R){this._disabled=b(R),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(R){this._multiple=b(R)}get maxFileSize(){return this._maxFileSize}set maxFileSize(R){this._maxFileSize=function m(O){return isNaN(parseFloat(O))||isNaN(Number(O))?null:Number(O)}(R)}get expandable(){return this._expandable}set expandable(R){this._expandable=b(R)}get disableClick(){return this._disableClick}set disableClick(R){this._disableClick=b(R)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(R){this._processDirectoryDrop=b(R)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(R){this.disabled||(this.preventDefault(R),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(R){if(!this.disabled)if(this.preventDefault(R),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const Q=R.dataTransfer.items;if(Q.length>0){const B=[],Y=[];for(let re=0;re<Q.length;re++){const le=Q[re].webkitGetAsEntry();le.isFile?B.push(R.dataTransfer.files[re]):le.isDirectory&&Y.push(le)}const K=new DataTransfer;if(B.forEach(re=>{K.items.add(re)}),!Y.length&&K.items.length&&this.handleFileDrop(K.files),Y.length){const re=[];for(const le of Y)re.push(this.extractFilesFromDirectory(le));Promise.all(re).then(le=>{le.reduce((I,l)=>[...I,...l]).forEach(I=>{K.items.add(I)}),this.handleFileDrop(K.files)})}}}else this.handleFileDrop(R.dataTransfer.files)}extractFilesFromDirectory(R){function Q(Y){return B.apply(this,arguments)}function B(){return(B=fe(function*(Y){try{return yield new Promise((K,re)=>Y.file(K,re))}catch(K){console.log("Error converting a fileEntry to a File: ",K)}})).apply(this,arguments)}return new Promise((Y,K)=>{const re=[],le=R.createReader(),I=()=>{le.readEntries(function(){var l=fe(function*(d){if(d.length){const n=d.filter(c=>c.isFile);for(const c of n){const f=yield Q(c);re.push(f)}I()}else Y(re)});return function(d){return l.apply(this,arguments)}}())};I()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(R){this.handleFileDrop(R.target.files),this._fileInput.nativeElement.value="",this.preventDefault(R)}handleFileDrop(R){const Q=this.service.parseFileList(R,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:Q.addedFiles,rejectedFiles:Q.rejectedFiles,source:this})}preventDefault(R){R.preventDefault(),R.stopPropagation()}}return O.\u0275fac=function(R){return new(R||O)(W.Y36(C,2))},O.\u0275cmp=W.Xpm({type:O,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(R,Q,B){if(1&R&&W.Suo(B,x,5),2&R){let Y;W.iGM(Y=W.CRH())&&(Q._previewChildren=Y)}},viewQuery:function(R,Q){if(1&R&&W.Gf(y,7),2&R){let B;W.iGM(B=W.CRH())&&(Q._fileInput=B.first)}},hostVars:8,hostBindings:function(R,Q){1&R&&W.NdJ("click",function(){return Q._onClick()})("dragover",function(Y){return Q._onDragOver(Y)})("dragleave",function(){return Q._onDragLeave()})("drop",function(Y){return Q._onDrop(Y)}),2&R&&W.ekj("ngx-dz-disabled",Q.disabled)("expandable",Q.expandable)("unclickable",Q.disableClick)("ngx-dz-hovered",Q._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[W._Bn([C])],ngContentSelectors:A,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(R,Q){1&R&&(W.F$t(o),W.TgZ(0,"input",0,1),W.NdJ("change",function(Y){return Q._onFilesSelected(Y)}),W.qZA(),W.YNc(2,g,1,0,"ng-content",2),W.Hsn(3),W.Hsn(4,1)),2&R&&(W.Q6J("id",Q.id)("multiple",Q.multiple)("accept",Q.accept)("disabled",Q.disabled),W.uIk("aria-label",Q.ariaLabel)("aria-labelledby",Q.ariaLabelledby)("aria-describedby",Q.ariaDescribedBy),W.xp6(2),W.Q6J("ngIf",!Q._hasPreviews))},dependencies:[e.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),O})(),N=(()=>{class O{}return O.\u0275fac=function(R){return new(R||O)},O.\u0275mod=W.oAB({type:O}),O.\u0275inj=W.cJS({imports:[[e.ez]]}),O})()}}]);